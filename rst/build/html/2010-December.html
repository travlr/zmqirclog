

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2010-December &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="prev" title="2010-November" href="2010-November.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2010-November.html" title="2010-November"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="december">
<h1>2010-December<a class="headerlink" href="#december" title="Permalink to this headline">Â¶</a></h1>
<div class="line-block">
<div class="line">[Wednesday 01 December 2010] [00:40:43] &lt;guido_g&gt;     Nate75Sanders: no HWM means: queue all messages as long as memory permits.</div>
<div class="line">[Wednesday 01 December 2010] [00:41:34] &lt;Nate75Sanders&gt;       guido_g: Fair enough, but that means the documentation is wrong.</div>
<div class="line">[Wednesday 01 December 2010] [00:41:41] &lt;guido_g&gt;     Nate75Sanders: i think the &#8220;no downstream nodes&#8221; only applies when there _never_ were one</div>
<div class="line">[Wednesday 01 December 2010] [00:42:12] &lt;guido_g&gt;     because if there was a connection, then there is a queue and the hwm applies</div>
<div class="line">[Wednesday 01 December 2010] [00:42:28] &lt;Nate75Sanders&gt;       guido_g: strange....I definitely think the man page should describe this in more detail</div>
<div class="line">[Wednesday 01 December 2010] [00:42:54] &lt;guido_g&gt;     than attach a fix to the issue or post a patch to the ml</div>
<div class="line">[Wednesday 01 December 2010] [00:42:54] &lt;Nate75Sanders&gt;       guido_g: could you tell me where you gained this particular understanding of things? so i can read there instead?</div>
<div class="line">[Wednesday 01 December 2010] [00:43:30] &lt;Nate75Sanders&gt;       guido_g: I&#8217;d like to make _sure_ what you&#8217;re saying is correct (it sounds like it is).</div>
<div class="line">[Wednesday 01 December 2010] [00:43:49] &lt;guido_g&gt;     Nate75Sanders: easy, hang around here for 3 to 4 month, read the things from the core devs that fly by and you&#8217;ll know :)</div>
<div class="line">[Wednesday 01 December 2010] [00:44:10] &lt;Nate75Sanders&gt;       guido_g: understood :)</div>
<div class="line">[Wednesday 01 December 2010] [00:44:16] &lt;guido_g&gt;     Nate75Sanders: then write a test case and check what&#8217;S going on</div>
<div class="line">[Wednesday 01 December 2010] [00:44:34] &lt;Nate75Sanders&gt;       well, i&#8217;m halfway there &#8211; based on my bug report</div>
<div class="line">[Wednesday 01 December 2010] [00:44:52] &lt;Nate75Sanders&gt;       just need a no-receiver at all case</div>
<div class="line">[Wednesday 01 December 2010] [00:45:06] &lt;guido_g&gt;     btw, writing a bug report w/o proof (aka test/show case) isn&#8217;t worth much</div>
<div class="line">[Wednesday 01 December 2010] [00:45:16] &lt;Nate75Sanders&gt;       you know what? actually i think i tested that earlier</div>
<div class="line">[Wednesday 01 December 2010] [00:45:45] &lt;Nate75Sanders&gt;       yeah</div>
<div class="line">[Wednesday 01 December 2010] [00:45:45] &lt;Nate75Sanders&gt;       i did</div>
<div class="line">[Wednesday 01 December 2010] [00:45:48] &lt;Nate75Sanders&gt;       and i just did now, too</div>
<div class="line">[Wednesday 01 December 2010] [00:46:02] &lt;Nate75Sanders&gt;       there was never a downstream node</div>
<div class="line">[Wednesday 01 December 2010] [00:46:06] &lt;Nate75Sanders&gt;       and it still does NOT block</div>
<div class="line">[Wednesday 01 December 2010] [00:46:09] &lt;guido_g&gt;     then attach your test incl. program to the issue, so that it can be verified</div>
<div class="line">[Wednesday 01 December 2010] [00:46:17] &lt;Nate75Sanders&gt;       i did</div>
<div class="line">[Wednesday 01 December 2010] [00:46:21] &lt;Nate75Sanders&gt;       it&#8217;s in the bug report</div>
<div class="line">[Wednesday 01 December 2010] [00:46:22] &lt;Nate75Sanders&gt;       2 scripts</div>
<div class="line">[Wednesday 01 December 2010] [00:46:35] &lt;Nate75Sanders&gt;       you can run the PUSHer without the PULLer and it refutes what you said earlier</div>
<div class="line">[Wednesday 01 December 2010] [00:47:45] &lt;Nate75Sanders&gt;       when you have a PUSHer, if there&#8217;s no HWM present (whether or not there ever was) the behavior is that it will not block</div>
<div class="line">[Wednesday 01 December 2010] [00:47:58] &lt;Nate75Sanders&gt;       sorry, meant to say</div>
<div class="line">[Wednesday 01 December 2010] [00:48:21] &lt;Nate75Sanders&gt;       if there&#8217;s no HWM and no receiver (whether or not there ever was a receiver) the behavior is that it will not block</div>
<div class="line">[Wednesday 01 December 2010] [00:48:51] &lt;Nate75Sanders&gt;       so, I&#8217;m not sure where you got your info, but it isn&#8217;t correct</div>
<div class="line">[Wednesday 01 December 2010] [00:49:34] &lt;Nate75Sanders&gt;       you can run my code if you don&#8217;t believe me</div>
<div class="line">[Wednesday 01 December 2010] [00:49:38] &lt;Nate75Sanders&gt;       maybe i&#8217;m crazy somehow</div>
<div class="line">[Wednesday 01 December 2010] [00:49:42] &lt;Nate75Sanders&gt;       but it&#8217;s in the bug report</div>
<div class="line">[Wednesday 01 December 2010] [00:50:36] &lt;Nate75Sanders&gt;       wish sustrik was around....</div>
<div class="line">[Wednesday 01 December 2010] [00:51:00] &lt;guido_g&gt;     he will be in an hour or so</div>
<div class="line">[Wednesday 01 December 2010] [00:51:06] &lt;guido_g&gt;     he&#8217;s an early bird</div>
<div class="line">[Wednesday 01 December 2010] [00:53:33] &lt;guido_g&gt;     hmm hmm mhmm</div>
<div class="line">[Wednesday 01 December 2010] [00:53:56] &lt;guido_g&gt;     if you use bind instead of connect on the push side, it works</div>
<div class="line">[Wednesday 01 December 2010] [00:54:16] &lt;guido_g&gt;     i just used &#8220;socket.bind(&#8220;<a class="reference external" href="tcp://127.0.0.1:5555">tcp://127.0.0.1:5555</a>&#8221;)&#8221;</div>
<div class="line">[Wednesday 01 December 2010] [00:54:23] &lt;guido_g&gt;     and it blocks, as described</div>
<div class="line">[Wednesday 01 December 2010] [00:55:10] &lt;guido_g&gt;     and with connect the hwm works too</div>
<div class="line">[Wednesday 01 December 2010] [00:56:14] &lt;guido_g&gt;     so it&#8217;s more a documentation issue on bind vs connect, i&#8217;d say</div>
<div class="line">[Wednesday 01 December 2010] [00:58:25] &lt;Nate75Sanders&gt;       fair enough</div>
<div class="line">[Wednesday 01 December 2010] [00:58:27] &lt;guido_g&gt;     Nate75Sanders: just added that as a comment to your issue</div>
<div class="line">[Wednesday 01 December 2010] [00:58:30] &lt;Nate75Sanders&gt;       i had considered that, but not tested it</div>
<div class="line">[Wednesday 01 December 2010] [00:58:36] &lt;guido_g&gt;     tz tz tz</div>
<div class="line">[Wednesday 01 December 2010] [00:58:52] &lt;Nate75Sanders&gt;       i think in one part of the docks they make a big point to say that bind vs connect shouldn&#8217;t affect socket semantics</div>
<div class="line">[Wednesday 01 December 2010] [00:59:04] &lt;Nate75Sanders&gt;       just the stable vs non-knowable parts of your architecture</div>
<div class="line">[Wednesday 01 December 2010] [00:59:11] &lt;Nate75Sanders&gt;       so i really do think that should be dealt with</div>
<div class="line">[Wednesday 01 December 2010] [00:59:24] &lt;Nate75Sanders&gt;       but good detective work</div>
<div class="line">[Wednesday 01 December 2010] [00:59:52] &lt;guido_g&gt;     before first coffee</div>
<div class="line">[Wednesday 01 December 2010] [01:00:02] &lt;Nate75Sanders&gt;       are you in europe?</div>
<div class="line">[Wednesday 01 December 2010] [01:00:06] &lt;guido_g&gt;     yes</div>
<div class="line">[Wednesday 01 December 2010] [01:00:19] &lt;Nate75Sanders&gt;       italy?</div>
<div class="line">[Wednesday 01 December 2010] [01:00:23] &lt;guido_g&gt;     no</div>
<div class="line">[Wednesday 01 December 2010] [01:00:25] &lt;Nate75Sanders&gt;       oh :)</div>
<div class="line">[Wednesday 01 December 2010] [01:00:26] &lt;Nate75Sanders&gt;       hehe</div>
<div class="line">[Wednesday 01 December 2010] [01:00:29] &lt;Nate75Sanders&gt;       I&#8217;m in Honolulu</div>
<div class="line">[Wednesday 01 December 2010] [01:00:34] &lt;Nate75Sanders&gt;       so it&#8217;s 8PM here</div>
<div class="line">[Wednesday 01 December 2010] [01:00:37] &lt;guido_g&gt;     <em>sigh</em></div>
<div class="line">[Wednesday 01 December 2010] [01:00:39] &lt;Nate75Sanders&gt;       &#8220;yesterday&#8221; :)</div>
<div class="line">[Wednesday 01 December 2010] [01:00:52] &lt;Nate75Sanders&gt;       moving soon</div>
<div class="line">[Wednesday 01 December 2010] [01:01:01] &lt;Nate75Sanders&gt;       this is a fun place to live, but not good for hackers</div>
<div class="line">[Wednesday 01 December 2010] [01:01:23] &lt;Nate75Sanders&gt;       i will miss the weather, though</div>
<div class="line">[Wednesday 01 December 2010] [01:01:27] &lt;Nate75Sanders&gt;       truly, truly amazing</div>
<div class="line">[Wednesday 01 December 2010] [01:01:34] &lt;Nate75Sanders&gt;       in the winter it&#8217;s 75 and sunny</div>
<div class="line">[Wednesday 01 December 2010] [01:01:36] &lt;guido_g&gt;     given that outside are -7C i tend to be a bit jealous</div>
<div class="line">[Wednesday 01 December 2010] [01:01:38] &lt;Nate75Sanders&gt;       in the summer, it&#8217;s 85 and sunny</div>
<div class="line">[Wednesday 01 December 2010] [01:02:50] &lt;guido_g&gt;     and i need to go to the office soon <em>shudder</em></div>
<div class="line">[Wednesday 01 December 2010] [01:03:27] &lt;Nate75Sanders&gt;       What kind of place do you work?</div>
<div class="line">[Wednesday 01 December 2010] [01:03:58] &lt;guido_g&gt;     i&#8217;m a freelancer, at the moment i&#8217;m working at a local bank</div>
<div class="line">[Wednesday 01 December 2010] [01:04:04] &lt;Nate75Sanders&gt;       I decided to work for a place that doesn&#8217;t really do as much code (half code, half sysadmin for an oceanographic science team)</div>
<div class="line">[Wednesday 01 December 2010] [01:04:06] &lt;Nate75Sanders&gt;       it&#8217;s been great</div>
<div class="line">[Wednesday 01 December 2010] [01:04:17] &lt;guido_g&gt;     sounds good</div>
<div class="line">[Wednesday 01 December 2010] [01:04:18] &lt;Nate75Sanders&gt;       i help them immensely and everything i do is magic</div>
<div class="line">[Wednesday 01 December 2010] [01:04:21] &lt;Nate75Sanders&gt;       and i have plenty of free time</div>
<div class="line">[Wednesday 01 December 2010] [01:04:25] &lt;Nate75Sanders&gt;       didn&#8217;t expect this</div>
<div class="line">[Wednesday 01 December 2010] [01:04:34] &lt;Nate75Sanders&gt;       i used to work more dev jobs....</div>
<div class="line">[Wednesday 01 December 2010] [01:04:35] &lt;guido_g&gt;     sounds even better :)</div>
<div class="line">[Wednesday 01 December 2010] [01:04:39] &lt;Nate75Sanders&gt;       they just left me feeling bad</div>
<div class="line">[Wednesday 01 December 2010] [01:04:50] &lt;Nate75Sanders&gt;       turning the thing i loved into terrible terrible work</div>
<div class="line">[Wednesday 01 December 2010] [01:05:03] &lt;Nate75Sanders&gt;       come home.....hardly interested in the computer....</div>
<div class="line">[Wednesday 01 December 2010] [01:05:12] &lt;Nate75Sanders&gt;       now? i&#8217;m happy to dive in and work on something</div>
<div class="line">[Wednesday 01 December 2010] [01:05:17] &lt;Nate75Sanders&gt;       not tired at the end of a day</div>
<div class="line">[Wednesday 01 December 2010] [01:05:19] &lt;guido_g&gt;     that&#8217;s the price to pay, i know that</div>
<div class="line">[Wednesday 01 December 2010] [01:05:24] &lt;Nate75Sanders&gt;       yeah</div>
<div class="line">[Wednesday 01 December 2010] [01:07:16] &lt;guido_g&gt;     more coffee</div>
<div class="line">[Wednesday 01 December 2010] [01:07:28] &lt;Nate75Sanders&gt;       indeed :)</div>
<div class="line">[Wednesday 01 December 2010] [01:07:34] &lt;Nate75Sanders&gt;       don&#8217;t work too hard today....</div>
<div class="line">[Wednesday 01 December 2010] [01:07:36] &lt;Nate75Sanders&gt;       pace yourself</div>
<div class="line">[Wednesday 01 December 2010] [01:07:48] &lt;guido_g&gt;     hey, it&#8217;s a bank</div>
<div class="line">[Wednesday 01 December 2010] [01:07:51] &lt;Nate75Sanders&gt;       your 6 hours is easily worth someone else&#8217;s 9</div>
<div class="line">[Wednesday 01 December 2010] [01:07:58] &lt;Nate75Sanders&gt;       deep breaths</div>
<div class="line">[Wednesday 01 December 2010] [01:07:59] &lt;Nate75Sanders&gt;       ;)</div>
<div class="line">[Wednesday 01 December 2010] [01:08:05] &lt;guido_g&gt;     ahhh...</div>
<div class="line">[Wednesday 01 December 2010] [01:08:11] &lt;Nate75Sanders&gt;       mindfulness</div>
<div class="line">[Wednesday 01 December 2010] [01:08:23] &lt;guido_g&gt;     i should have mentioned that today is my weekend</div>
<div class="line">[Wednesday 01 December 2010] [01:08:28] &lt;Nate75Sanders&gt;       oh, nice</div>
<div class="line">[Wednesday 01 December 2010] [01:08:32] &lt;guido_g&gt;     doing only 3 days a week</div>
<div class="line">[Wednesday 01 December 2010] [01:08:35] &lt;Nate75Sanders&gt;       sweet</div>
<div class="line">[Wednesday 01 December 2010] [01:08:40] &lt;guido_g&gt;     yeah</div>
<div class="line">[Wednesday 01 December 2010] [01:08:40] &lt;Nate75Sanders&gt;       hey you have it good, then</div>
<div class="line">[Wednesday 01 December 2010] [01:09:01] &lt;Nate75Sanders&gt;       i&#8217;m about to go half-time/half-salary myself</div>
<div class="line">[Wednesday 01 December 2010] [01:09:04] &lt;Nate75Sanders&gt;       and move</div>
<div class="line">[Wednesday 01 December 2010] [01:09:11] &lt;guido_g&gt;     i&#8217;m surprised that it worked</div>
<div class="line">[Wednesday 01 December 2010] [01:09:22] &lt;Nate75Sanders&gt;       which part?</div>
<div class="line">[Wednesday 01 December 2010] [01:09:25] &lt;guido_g&gt;     as i said, it&#8217;s a bank</div>
<div class="line">[Wednesday 01 December 2010] [01:09:31] &lt;guido_g&gt;     the part time thingy</div>
<div class="line">[Wednesday 01 December 2010] [01:09:37] &lt;Nate75Sanders&gt;       yeah</div>
<div class="line">[Wednesday 01 December 2010] [01:09:41] &lt;Nate75Sanders&gt;       i am surprised too</div>
<div class="line">[Wednesday 01 December 2010] [01:09:48] &lt;guido_g&gt;     there not _that_ flexible usually</div>
<div class="line">[Wednesday 01 December 2010] [01:09:52] &lt;Nate75Sanders&gt;       yep</div>
<div class="line">[Wednesday 01 December 2010] [01:09:53] &lt;Nate75Sanders&gt;       agreed</div>
<div class="line">[Wednesday 01 December 2010] [01:09:55] &lt;Nate75Sanders&gt;       my dad runs a bank</div>
<div class="line">[Wednesday 01 December 2010] [01:10:23] &lt;guido_g&gt;     ahh so you know a little</div>
<div class="line">[Wednesday 01 December 2010] [01:11:29] &lt;Nate75Sanders&gt;       so what do you do with your spare time?</div>
<div class="line">[Wednesday 01 December 2010] [01:12:13] &lt;guido_g&gt;     reading funny irc channels on obscure software things, linke brokerless messaging and such</div>
<div class="line">[Wednesday 01 December 2010] [01:12:28] &lt;guido_g&gt;     noone will ever need this shit! :)</div>
<div class="line">[Wednesday 01 December 2010] [01:13:36] &lt;Nate75Sanders&gt;       haha</div>
<div class="line">[Wednesday 01 December 2010] [01:13:38] &lt;Nate75Sanders&gt;       nice</div>
<div class="line">[Wednesday 01 December 2010] [01:16:06] &lt;guido_g&gt;     i&#8217;d have a project using all this fun stuff &#8211; if i would be better sales guy</div>
<div class="line">[Wednesday 01 December 2010] [04:21:15] &lt;mikko&gt;       good morning</div>
<div class="line">[Wednesday 01 December 2010] [04:27:55] &lt;CIA-20&gt;      zeromq2: 03Martin Lucina 07maint * r289b1f5 10/ src/kqueue.cpp :</div>
<div class="line">[Wednesday 01 December 2010] [04:27:55] &lt;CIA-20&gt;      zeromq2: Remove unnecessary cast in kevent_delete</div>
<div class="line">[Wednesday 01 December 2010] [04:27:55] &lt;CIA-20&gt;      zeromq2: Fixes the build on NetBSD where the compiler complains about casting NULL</div>
<div class="line">[Wednesday 01 December 2010] [04:27:55] &lt;CIA-20&gt;      zeromq2: to (int).</div>
<div class="line">[Wednesday 01 December 2010] [04:27:55] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/esACki">http://bit.ly/esACki</a></div>
<div class="line">[Wednesday 01 December 2010] [04:27:56] &lt;CIA-20&gt;      zeromq2: 03Martin Lucina 07master * r289b1f5 10/ src/kqueue.cpp :</div>
<div class="line">[Wednesday 01 December 2010] [04:27:56] &lt;CIA-20&gt;      zeromq2: Remove unnecessary cast in kevent_delete</div>
<div class="line">[Wednesday 01 December 2010] [04:27:57] &lt;CIA-20&gt;      zeromq2: Fixes the build on NetBSD where the compiler complains about casting NULL</div>
<div class="line">[Wednesday 01 December 2010] [04:27:57] &lt;CIA-20&gt;      zeromq2: to (int).</div>
<div class="line">[Wednesday 01 December 2010] [04:27:58] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/esACki">http://bit.ly/esACki</a></div>
<div class="line">[Wednesday 01 December 2010] [04:27:58] &lt;CIA-20&gt;      zeromq2: 03Martin Sustrik 07master * r17d7e6e 10/ src/kqueue.cpp :</div>
<div class="line">[Wednesday 01 December 2010] [04:27:59] &lt;CIA-20&gt;      zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Wednesday 01 December 2010] [04:28:53] &lt;CIA-20&gt;      zeromq2:  Remove unnecessary cast in kevent_delete</div>
<div class="line">[Wednesday 01 December 2010] [04:28:53] &lt;CIA-20&gt;      zeromq2: Conflicts:</div>
<div class="line">[Wednesday 01 December 2010] [04:28:53] &lt;CIA-20&gt;      zeromq2:  src/kqueue.cpp</div>
<div class="line">[Wednesday 01 December 2010] [04:28:53] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/gqsKEN">http://bit.ly/gqsKEN</a></div>
<div class="line">[Wednesday 01 December 2010] [04:34:02] &lt;CIA-20&gt;      zeromq2: 03Mikko Koppanen 07master * r5bb0a33 10/ (5 files in 2 dirs): (log message trimmed)</div>
<div class="line">[Wednesday 01 December 2010] [04:34:02] &lt;CIA-20&gt;      zeromq2: Prefix variables with &#8220;<a href="#id58"><span class="problematic" id="id59">ac_zmq_</span></a>&#8220;</div>
<div class="line">[Wednesday 01 December 2010] [04:34:02] &lt;CIA-20&gt;      zeromq2:  - Added a macro for checking clang compiler</div>
<div class="line">[Wednesday 01 December 2010] [04:34:02] &lt;CIA-20&gt;      zeromq2:  - Moved basic compiler checks to a macro</div>
<div class="line">[Wednesday 01 December 2010] [04:34:02] &lt;CIA-20&gt;      zeromq2:  - Added a macro for checking if compiler supports a flag</div>
<div class="line">[Wednesday 01 December 2010] [04:34:02] &lt;CIA-20&gt;      zeromq2:  - Added &#8211;enable-debug flag</div>
<div class="line">[Wednesday 01 December 2010] [04:34:03] &lt;CIA-20&gt;      zeromq2:  - Added a macro for running normal autoconf check with compiler flags</div>
<div class="line">[Wednesday 01 December 2010] [04:47:39] &lt;<a href="#id60"><span class="problematic" id="id61">m_</span></a>&gt;  exit</div>
<div class="line">[Wednesday 01 December 2010] [04:58:17] &lt;CIA-20&gt;      zeromq2: 03Martin Lucina 07master * rb70d628 10/ (11 files):</div>
<div class="line">[Wednesday 01 December 2010] [04:58:18] &lt;CIA-20&gt;      zeromq2: Documentation updates for 2.1</div>
<div class="line">[Wednesday 01 December 2010] [04:58:18] &lt;CIA-20&gt;      zeromq2: - Clarify ZMQ_LINGER, zmq_close (), zmq_term () relationship</div>
<div class="line">[Wednesday 01 December 2010] [04:58:18] &lt;CIA-20&gt;      zeromq2: - New socket options</div>
<div class="line">[Wednesday 01 December 2010] [04:58:18] &lt;CIA-20&gt;      zeromq2: - Clarify thread safety of sockets and migration between threads</div>
<div class="line">[Wednesday 01 December 2010] [04:58:18] &lt;CIA-20&gt;      zeromq2: - Other minor and spelling fixes</div>
<div class="line">[Wednesday 01 December 2010] [04:58:18] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/hV39nD">http://bit.ly/hV39nD</a></div>
<div class="line">[Wednesday 01 December 2010] [05:12:05] &lt;CIA-20&gt;      zeromq2: 03Martin Lucina 07master * r520d621 10/ configure.in :</div>
<div class="line">[Wednesday 01 December 2010] [05:12:05] &lt;CIA-20&gt;      zeromq2: Bump ABI version to 1:0:0 for ZeroMQ 2.1.0 release</div>
<div class="line">[Wednesday 01 December 2010] [05:12:05] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/h94kRn">http://bit.ly/h94kRn</a></div>
<div class="line">[Wednesday 01 December 2010] [05:34:28] &lt;vaadim&gt;      Hello, all.</div>
<div class="line">[Wednesday 01 December 2010] [05:34:57] &lt;vaadim&gt;      Anybody can to help me?</div>
<div class="line">[Wednesday 01 December 2010] [05:35:26] &lt;vaadim&gt;      I have a critical error in object.cpp file.</div>
<div class="line">[Wednesday 01 December 2010] [05:35:41] &lt;mikko&gt;       vaadim: what is the error?</div>
<div class="line">[Wednesday 01 December 2010] [05:36:01] &lt;vaadim&gt;      Version 2.0.10 for windows.</div>
<div class="line">[Wednesday 01 December 2010] [05:37:11] &lt;vaadim&gt;      I write test project for client and server applications. Run zmq::queue() function.</div>
<div class="line">[Wednesday 01 December 2010] [05:37:57] &lt;mikko&gt;       what is the actual error?</div>
<div class="line">[Wednesday 01 December 2010] [05:38:15] &lt;vaadim&gt;      This function call zmq_poll-&gt;zmq::app_thread_t::process_commands-&gt;process_bind and</div>
<div class="line">[Wednesday 01 December 2010] [05:38:45] &lt;vaadim&gt;      in  case command_t::bind:  process_bind (<a href="#id62"><span class="problematic" id="id63">cmd_</span></a>.args.bind.in_pipe, <a href="#id64"><span class="problematic" id="id65">cmd_</span></a>.args.bind.out_pipe,             blob_t (<a href="#id66"><span class="problematic" id="id67">cmd_</span></a>.args.bind.peer_identity,             <a href="#id68"><span class="problematic" id="id69">cmd_</span></a>.args.bind.peer_identity_size));</div>
<div class="line">[Wednesday 01 December 2010] [05:39:20] &lt;vaadim&gt;      and <a href="#id70"><span class="problematic" id="id71">cmd_</span></a>.args.bind.peer_identity have a Bad Ptr == 0x0000000</div>
<div class="line">[Wednesday 01 December 2010] [05:39:26] &lt;vaadim&gt;      crash</div>
<div class="line">[Wednesday 01 December 2010] [05:40:22] &lt;mikko&gt;       does the same thing happen with github master?</div>
<div class="line">[Wednesday 01 December 2010] [05:40:27] &lt;mikko&gt;       can you test?</div>
<div class="line">[Wednesday 01 December 2010] [05:40:38] &lt;mikko&gt;       and is this easy to reproduce?</div>
<div class="line">[Wednesday 01 December 2010] [05:42:28] &lt;vaadim&gt;      I was try latest version in github, but this version have another problems, and i revert to version 2.0.10 back</div>
<div class="line">[Wednesday 01 December 2010] [05:42:45] &lt;vaadim&gt;      I can show my test project</div>
<div class="line">[Wednesday 01 December 2010] [05:42:59] &lt;mikko&gt;       what is the problem you had with the latest version?</div>
<div class="line">[Wednesday 01 December 2010] [05:44:34] &lt;vaadim&gt;      Current version in github is stable ? I need stable version for commercial project.</div>
<div class="line">[Wednesday 01 December 2010] [05:45:28] &lt;mikko&gt;       what i am intersted in what are the problems you are seeing so that they can be fixed</div>
<div class="line">[Wednesday 01 December 2010] [05:45:44] &lt;mikko&gt;       i would like you to test the github master to see if the issue with the null pointer has been fixed already</div>
<div class="line">[Wednesday 01 December 2010] [05:47:32] &lt;vaadim&gt;      OK. I will try master from github again. And I will come back with another bag&#8217;s :)</div>
<div class="line">[Wednesday 01 December 2010] [05:47:52] &lt;vaadim&gt;      Thank you for help :)</div>
<div class="line">[Wednesday 01 December 2010] [05:52:53] &lt;CIA-20&gt;      zeromq2: 03Steven McCoy 07master * r4a3ed39 10/ (3 files in 2 dirs):</div>
<div class="line">[Wednesday 01 December 2010] [05:52:53] &lt;CIA-20&gt;      zeromq2: Bump OpenPGM to 5.0.92.</div>
<div class="line">[Wednesday 01 December 2010] [05:52:53] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Steven McCoy &lt;<a class="reference external" href="mailto:steven&#46;mccoy&#37;&#52;&#48;miru&#46;hk">steven<span>&#46;</span>mccoy<span>&#64;</span>miru<span>&#46;</span>hk</a>&gt; - <a class="reference external" href="http://bit.ly/fLKN5H">http://bit.ly/fLKN5H</a></div>
<div class="line">[Wednesday 01 December 2010] [05:57:05] &lt;Steve-o&gt;     thx Mato</div>
<div class="line">[Wednesday 01 December 2010] [05:57:31] &lt;CIA-20&gt;      zeromq2: 03Martin Lucina 07master * rabc8b5e 10/ NEWS :</div>
<div class="line">[Wednesday 01 December 2010] [05:57:31] &lt;CIA-20&gt;      zeromq2: Update NEWS file for 2.1.0 release</div>
<div class="line">[Wednesday 01 December 2010] [05:57:31] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/hXdp5N">http://bit.ly/hXdp5N</a></div>
<div class="line">[Wednesday 01 December 2010] [06:16:40] &lt;rgl&gt; w00t 2.1 has hit the streets?</div>
<div class="line">[Wednesday 01 December 2010] [06:16:48] &lt;mato&gt;        almost</div>
<div class="line">[Wednesday 01 December 2010] [06:16:59] &lt;mato&gt;        due to DNS issues the announcement will go out this evening</div>
<div class="line">[Wednesday 01 December 2010] [06:17:06] &lt;mato&gt;        but it&#8217;s in Git anyhow :-)</div>
<div class="line">[Wednesday 01 December 2010] [06:18:57] &lt;mikko&gt;       ill run daily builds now just to see that everything works</div>
<div class="line">[Wednesday 01 December 2010] [06:19:03] &lt;rgl&gt; :)</div>
<div class="line">[Wednesday 01 December 2010] [06:19:28] &lt;mikko&gt;       building now</div>
<div class="line">[Wednesday 01 December 2010] [06:19:38] &lt;rgl&gt; I just noticed Sockets may now be migrated between OS threads, as long as the</div>
<div class="line">[Wednesday 01 December 2010] [06:19:38] &lt;rgl&gt;  application ensures that a full memory barrier is issued.  ... are there any examples how to do it?</div>
<div class="line">[Wednesday 01 December 2010] [06:21:02] &lt;mikko&gt;       is 2.1.0 going out as alpha or beta?</div>
<div class="line">[Wednesday 01 December 2010] [06:22:38] &lt;rgl&gt; from the NEWS files its Beta</div>
<div class="line">[Wednesday 01 December 2010] [06:24:19] &lt;sustrik&gt;     rgl: when you migrate a thread you have no notify the other thread somehow</div>
<div class="line">[Wednesday 01 December 2010] [06:24:42] &lt;sustrik&gt;     the mechanism you use for the notfication will execute the barrier</div>
<div class="line">[Wednesday 01 December 2010] [06:24:53] &lt;sustrik&gt;     unless you are doing some black magic</div>
<div class="line">[Wednesday 01 December 2010] [06:26:08] &lt;rgl&gt; I see. alright :D</div>
<div class="line">[Wednesday 01 December 2010] [06:33:07] &lt;mikko&gt;       success on all builds this far</div>
<div class="line">[Wednesday 01 December 2010] [06:33:33] &lt;sustrik&gt;     goodo</div>
<div class="line">[Wednesday 01 December 2010] [06:34:20] &lt;mikko&gt;       icc failed</div>
<div class="line">[Wednesday 01 December 2010] [06:34:22] &lt;mikko&gt;       let&#8217;s see</div>
<div class="line">[Wednesday 01 December 2010] [06:34:37] &lt;mikko&gt;       it might be the shutdown stress test failing</div>
<div class="line">[Wednesday 01 December 2010] [06:34:55] &lt;mikko&gt;       Bad file descriptor</div>
<div class="line">[Wednesday 01 December 2010] [06:34:55] &lt;mikko&gt;       nbytes != -1 (tcp_socket.cpp:197)</div>
<div class="line">[Wednesday 01 December 2010] [06:34:56] &lt;mikko&gt;       yes</div>
<div class="line">[Wednesday 01 December 2010] [06:35:58] &lt;sustrik&gt;     yep, known issue</div>
<div class="line">[Wednesday 01 December 2010] [06:36:53] &lt;rgl&gt; mikko, where is the build system? got url?</div>
<div class="line">[Wednesday 01 December 2010] [06:37:03] &lt;mikko&gt;       <a class="reference external" href="http://build.valokuva.org/">http://build.valokuva.org/</a></div>
<div class="line">[Wednesday 01 December 2010] [06:38:12] &lt;mikko&gt;       i got my eye on sunfire server on ebay</div>
<div class="line">[Wednesday 01 December 2010] [06:38:18] &lt;mikko&gt;       to add sparc into the build system</div>
<div class="line">[Wednesday 01 December 2010] [06:38:36] &lt;Steve-o&gt;     incredibly cheap these days, ~US$100</div>
<div class="line">[Wednesday 01 December 2010] [06:39:00] &lt;Steve-o&gt;     but also slow as lard, 100mb NICs often</div>
<div class="line">[Wednesday 01 December 2010] [06:39:20] &lt;mikko&gt;       this one is Dual 1.3Ghz Processors</div>
<div class="line">[Wednesday 01 December 2010] [06:39:29] &lt;mikko&gt;       i don&#8217;t mind 100mb nic as it&#8217;s just for building</div>
<div class="line">[Wednesday 01 December 2010] [06:39:32] &lt;mikko&gt;       not really for testing</div>
<div class="line">[Wednesday 01 December 2010] [06:40:17] &lt;rgl&gt; mikko, no msvc build?</div>
<div class="line">[Wednesday 01 December 2010] [06:40:26] &lt;Steve-o&gt;     memory is the most important though, don&#8217;t skimp on that</div>
<div class="line">[Wednesday 01 December 2010] [06:40:33] &lt;mikko&gt;       rgl: haven&#8217;t got a windows running</div>
<div class="line">[Wednesday 01 December 2010] [06:40:41] &lt;mikko&gt;       Steve-o: it comes with 4GB</div>
<div class="line">[Wednesday 01 December 2010] [06:40:55] &lt;vaadim&gt;      Hello, I am here again.</div>
<div class="line">[Wednesday 01 December 2010] [06:41:07] &lt;mikko&gt;       the annoyance is that the build machines are running in finland</div>
<div class="line">[Wednesday 01 December 2010] [06:41:10] &lt;mikko&gt;       and i live in london</div>
<div class="line">[Wednesday 01 December 2010] [06:41:18] &lt;mikko&gt;       need to either host it here or ship it over</div>
<div class="line">[Wednesday 01 December 2010] [06:41:42] &lt;sustrik&gt;     does it make any difference?</div>
<div class="line">[Wednesday 01 December 2010] [06:41:43] &lt;rgl&gt; mikko, <a class="reference external" href="http://build.valokuva.org/view/clrzmq/">http://build.valokuva.org/view/clrzmq/</a> is using mono then?</div>
<div class="line">[Wednesday 01 December 2010] [06:41:51] &lt;mikko&gt;       rgl: yes</div>
<div class="line">[Wednesday 01 December 2010] [06:41:51] &lt;vaadim&gt;      mikko: i try the current version from github in my test project</div>
<div class="line">[Wednesday 01 December 2010] [06:41:59] &lt;mikko&gt;       vaadim: ok</div>
<div class="line">[Wednesday 01 December 2010] [06:42:12] &lt;mikko&gt;       sustrik: i got free hosting in finland</div>
<div class="line">[Wednesday 01 December 2010] [06:42:16] &lt;mikko&gt;       that&#8217;s the only difference</div>
<div class="line">[Wednesday 01 December 2010] [06:42:42] &lt;sustrik&gt;     i see</div>
<div class="line">[Wednesday 01 December 2010] [06:43:09] &lt;rgl&gt; mikko, can you add clrmq2 into the clrmq tab too?</div>
<div class="line">[Wednesday 01 December 2010] [06:43:32] &lt;mikko&gt;       rgl: done</div>
<div class="line">[Wednesday 01 December 2010] [06:43:42] &lt;mikko&gt;       the regex for adding jobs there was outdated</div>
<div class="line">[Wednesday 01 December 2010] [06:43:45] &lt;vaadim&gt;      My server stoped with error while i try break zmq_device by call zmq_term() for kill context</div>
<div class="line">[Wednesday 01 December 2010] [06:43:46] &lt;mikko&gt;       clrzmq-.*</div>
<div class="line">[Wednesday 01 December 2010] [06:43:53] &lt;rgl&gt; thanks :)</div>
<div class="line">[Wednesday 01 December 2010] [06:44:10] &lt;mikko&gt;       sustrik: what is the clean way to stop zmq device?</div>
<div class="line">[Wednesday 01 December 2010] [06:44:24] &lt;mikko&gt;       vaadim: i am not sure if that is the way to stop a device</div>
<div class="line">[Wednesday 01 December 2010] [06:46:21] &lt;sustrik&gt;     mikko: Ctrl+C?</div>
<div class="line">[Wednesday 01 December 2010] [06:46:33] &lt;sustrik&gt;     there&#8217;s no remote management for devices yet</div>
<div class="line">[Wednesday 01 December 2010] [06:46:40] &lt;vaadim&gt;      I read this way in your mailing list archiew</div>
<div class="line">[Wednesday 01 December 2010] [06:47:00] &lt;vaadim&gt;      wait a moment...</div>
<div class="line">[Wednesday 01 December 2010] [06:47:51] &lt;vaadim&gt;      <a class="reference external" href="http://thread.gmane.org/gmane.network.zeromq.devel/2338/focus=2340">http://thread.gmane.org/gmane.network.zeromq.devel/2338/focus=2340</a></div>
<div class="line">[Wednesday 01 December 2010] [06:48:30] &lt;sustrik&gt;     vaadim: the devices are dumb pieces of code</div>
<div class="line">[Wednesday 01 December 2010] [06:48:43] &lt;sustrik&gt;     basically just a loop that reads from one socket and writes to another one</div>
<div class="line">[Wednesday 01 December 2010] [06:49:00] &lt;sustrik&gt;     if you want a better functionality, like a remote management</div>
<div class="line">[Wednesday 01 December 2010] [06:49:08] &lt;sustrik&gt;     you can add it there</div>
<div class="line">[Wednesday 01 December 2010] [06:51:42] &lt;vaadim&gt;      Sorry, i&#8217;m not understand, how to stop loop in device. I need to stop both sockets ?</div>
<div class="line">[Wednesday 01 December 2010] [06:52:51] &lt;sustrik&gt;     you just break out of the loop</div>
<div class="line">[Wednesday 01 December 2010] [06:53:01] &lt;sustrik&gt;     that&#8217;s it</div>
<div class="line">[Wednesday 01 December 2010] [06:53:16] &lt;vaadim&gt;      How? Kill thread?</div>
<div class="line">[Wednesday 01 December 2010] [06:53:37] &lt;sustrik&gt;     while (true) {</div>
<div class="line">[Wednesday 01 December 2010] [06:53:39] &lt;sustrik&gt;     ...</div>
<div class="line">[Wednesday 01 December 2010] [06:53:50] &lt;sustrik&gt;         if (...)</div>
<div class="line">[Wednesday 01 December 2010] [06:53:52] &lt;sustrik&gt;            break;</div>
<div class="line">[Wednesday 01 December 2010] [06:53:55] &lt;sustrik&gt;     ...</div>
<div class="line">[Wednesday 01 December 2010] [06:53:55] &lt;sustrik&gt;     }</div>
<div class="line">[Wednesday 01 December 2010] [06:55:11] &lt;vaadim&gt;      But zmq_device(ZMQ_QUEUE, clients, workers); bon&#8217;t return control, and i can&#8217;t make loop myself.</div>
<div class="line">[Wednesday 01 December 2010] [06:55:26] &lt;sustrik&gt;     have a look at the source code</div>
<div class="line">[Wednesday 01 December 2010] [06:55:27] &lt;mikko&gt;       vaadim: have you looked at the device code?</div>
<div class="line">[Wednesday 01 December 2010] [06:55:47] &lt;sustrik&gt;     you just create your own device</div>
<div class="line">[Wednesday 01 December 2010] [06:55:55] &lt;sustrik&gt;     and modify it in any way you want</div>
<div class="line">[Wednesday 01 December 2010] [06:57:38] &lt;vaadim&gt;      Yeah, well, I&#8217;m gonna go build my own device, with blackjack and hookers. In fact, forget the device! :)</div>
<div class="line">[Wednesday 01 December 2010] [06:59:54] &lt;vaadim&gt;      Ok, i can append third parameter to my_zmq_device with stop socket.</div>
<div class="line">[Wednesday 01 December 2010] [07:00:25] &lt;vaadim&gt;      Thank&#8217;s.</div>
<div class="line">[Wednesday 01 December 2010] [11:06:31] &lt;Remoun&gt;      hi</div>
<div class="line">[Wednesday 01 December 2010] [11:06:36] &lt;Remoun&gt;      I&#8217;m perusing the guide right now, but I thought I&#8217;d ask ahead: Can I overlay some sort of authentication mechanism for workers in a 0MQ-based system?</div>
<div class="line">[Wednesday 01 December 2010] [11:07:01] &lt;mikko&gt;       Remoun: i don&#8217;t see why what would prevent you from doing that</div>
<div class="line">[Wednesday 01 December 2010] [11:07:29] &lt;Remoun&gt;      I don&#8217;t see any reason, either; I just have no idea how yet</div>
<div class="line">[Wednesday 01 December 2010] [11:07:41] &lt;Remoun&gt;      But it should be doable (in a transparent manner), right?</div>
<div class="line">[Wednesday 01 December 2010] [11:07:52] &lt;mikko&gt;       what do you mean by transparent?</div>
<div class="line">[Wednesday 01 December 2010] [11:07:59] &lt;mikko&gt;       you would need to implement it in your code</div>
<div class="line">[Wednesday 01 December 2010] [11:08:06] &lt;Remoun&gt;      of course</div>
<div class="line">[Wednesday 01 December 2010] [11:08:43] &lt;Remoun&gt;      basically, layering the auth on top of the sockets</div>
<div class="line">[Wednesday 01 December 2010] [11:08:59] &lt;Remoun&gt;      So that I don&#8217;t have to decorate every bit of code using 0MQ sockets with auth handling</div>
<div class="line">[Wednesday 01 December 2010] [11:09:32] &lt;mikko&gt;       there are plenty of ways to approach the problem</div>
<div class="line">[Wednesday 01 December 2010] [11:09:33] &lt;Remoun&gt;      ... Does that make sense?</div>
<div class="line">[Wednesday 01 December 2010] [11:09:44] &lt;mikko&gt;       you could do a small device that handles the authentication</div>
<div class="line">[Wednesday 01 December 2010] [11:09:51] &lt;mikko&gt;       and forwards the messages using inproc</div>
<div class="line">[Wednesday 01 December 2010] [11:10:21] &lt;mikko&gt;       so your client code would communicate with inproc and the device decorates with authentication info and forwards the messages</div>
<div class="line">[Wednesday 01 December 2010] [11:13:51] &lt;Remoun&gt;      sounds good</div>
<div class="line">[Wednesday 01 December 2010] [11:13:54] &lt;Remoun&gt;      thanks mikko</div>
<div class="line">[Wednesday 01 December 2010] [11:24:14] &lt;shales&gt;      hi, has anyone used eventlet with zmq? I&#8217;m wondering if or how eventlet works with zmq.REP sockets or do I have to switch to XREP sockets to avoid the state kept in the REP socket from messing up with multiple threads?</div>
<div class="line">[Wednesday 01 December 2010] [11:30:02] &lt;mikko&gt;       shales: sorry, no idea what eventlet is</div>
<div class="line">[Wednesday 01 December 2010] [11:30:06] &lt;mikko&gt;       shales: is it ruby?</div>
<div class="line">[Wednesday 01 December 2010] [11:31:00] &lt;mikko&gt;       ah, python</div>
<div class="line">[Wednesday 01 December 2010] [11:31:03] &lt;shales&gt;      python</div>
<div class="line">[Wednesday 01 December 2010] [11:31:40] &lt;shales&gt;      it&#8217;s ok, someone on #eventlet just gave me an easy workaround</div>
<div class="line">[Wednesday 01 December 2010] [11:31:58] &lt;shales&gt;      just give each greenthread its own REP socket</div>
<div class="line">[Wednesday 01 December 2010] [13:47:25] &lt;jhawk28&gt;     Hello. Congrats on the 2.1.0 beta!</div>
<div class="line">[Wednesday 01 December 2010] [14:58:58] &lt;mikko&gt;       mato: hmm, does 3.4.6 report that it supports dso visibility?</div>
<div class="line">[Wednesday 01 December 2010] [15:00:04] &lt;mikko&gt;       #   elif (defined __GNUC__ &amp;&amp; __GNUC__ &gt;= 4) || defined __INTEL_COMPILER</div>
<div class="line">[Wednesday 01 December 2010] [15:00:09] &lt;mikko&gt;       this error reported makes no sense</div>
<div class="line">[Wednesday 01 December 2010] [15:00:21] &lt;mato&gt;        mikko: it shouldn&#8217;t, i&#8217;m just replying asking for more info</div>
<div class="line">[Wednesday 01 December 2010] [15:00:47] &lt;mato&gt;        unless RHAT borked it of course :-)</div>
<div class="line">[Wednesday 01 December 2010] [15:01:00] &lt;mikko&gt;       but in any case it should not pass __GNUC__ &gt;= 4</div>
<div class="line">[Wednesday 01 December 2010] [15:01:13] &lt;mato&gt;        ISTR some problems related to OpenPGM use of __attribute__((visibility)) on old RHAT also</div>
<div class="line">[Wednesday 01 December 2010] [15:01:36] &lt;mikko&gt;       downloading centos4 now</div>
<div class="line">[Wednesday 01 December 2010] [15:01:42] &lt;mato&gt;        :-)</div>
<div class="line">[Wednesday 01 December 2010] [15:01:59]        * mato is not at the office, no VM-capable hardware here ...</div>
<div class="line">[Wednesday 01 December 2010] [15:02:38] &lt;mikko&gt;       <a class="reference external" href="http://cgi.ebay.co.uk/SUN-MICRO-SUNFIRE-V210-RACKMOUNT-SERVER-/230553957004?pt=UK_Computing_Networking_SM&amp;hash=item35ae16328c">http://cgi.ebay.co.uk/SUN-MICRO-SUNFIRE-V210-RACKMOUNT-SERVER-/230553957004?pt=UK_Computing_Networking_SM&amp;hash=item35ae16328c</a></div>
<div class="line">[Wednesday 01 December 2010] [15:02:41] &lt;mikko&gt;       i got my eye on that</div>
<div class="line">[Wednesday 01 December 2010] [15:02:44] &lt;mikko&gt;       to add to build cluster</div>
<div class="line">[Wednesday 01 December 2010] [15:02:57] &lt;mikko&gt;       if the price doesn&#8217;t go up much i&#8217;ll try to snatch it</div>
<div class="line">[Wednesday 01 December 2010] [15:04:31] &lt;prokos&gt;      does ZMQ_SUBSCRIBE filter on the client side or the server side?</div>
<div class="line">[Wednesday 01 December 2010] [15:04:49] &lt;mikko&gt;       prokos: client side</div>
<div class="line">[Wednesday 01 December 2010] [15:05:00] &lt;mato&gt;        heh, I got offered a Sun Fire 15k for free some time ago, declined on the grounds that I don&#8217;t have an empty data center and free electricity to run it...</div>
<div class="line">[Wednesday 01 December 2010] [15:05:04] &lt;mikko&gt;       if by client you mean the subscriber</div>
<div class="line">[Wednesday 01 December 2010] [15:05:28] &lt;mikko&gt;       mato: i&#8217;m hoping to put this in the server room at work</div>
<div class="line">[Wednesday 01 December 2010] [15:05:36] &lt;mikko&gt;       and as a backup plan im gonna ship it to finland</div>
<div class="line">[Wednesday 01 December 2010] [15:06:02] &lt;mato&gt;        well, 50 GBP is damn cheap</div>
<div class="line">[Wednesday 01 December 2010] [15:06:33] &lt;prokos&gt;      yes i mean the subscriber.. Is there a reason to not filter on the publisher side?</div>
<div class="line">[Wednesday 01 December 2010] [15:07:00] &lt;mikko&gt;       prokos: it&#8217;s very complicated to implement but i think it&#8217;s on the list of things to do</div>
<div class="line">[Wednesday 01 December 2010] [15:11:13] &lt;jhawk28&gt;     has anyone seen this: <a class="reference external" href="http://sna-projects.com/kafka/">http://sna-projects.com/kafka/</a></div>
<div class="line">[Wednesday 01 December 2010] [15:20:02] &lt;mato&gt;        mikko: I&#8217;ve forwarded you the outputs Chris Patti sent me just now</div>
<div class="line">[Wednesday 01 December 2010] [15:20:30] &lt;mato&gt;        mikko: It looks to me like his GCC claims to support -fvisibility=hidden but the results are completely bogus</div>
<div class="line">[Wednesday 01 December 2010] [15:20:54] &lt;mato&gt;        mikko: the symbol table in libzmq.so is missing anything which would normally be hidden</div>
<div class="line">[Wednesday 01 December 2010] [15:21:17] &lt;mikko&gt;       mato: yes</div>
<div class="line">[Wednesday 01 December 2010] [15:21:34] &lt;mato&gt;        mikko: looks like we need an autoconf check for &#8220;Checking to see if g++ -fvisibility=hidden actually works&#8221; :-)</div>
<div class="line">[Wednesday 01 December 2010] [15:21:36] &lt;mikko&gt;       i got centos4 running soon</div>
<div class="line">[Wednesday 01 December 2010] [15:22:23] &lt;mato&gt;        no point in fighting with getting it to work on buggy/old compilers, but it shouldn&#8217;t break completely...</div>
<div class="line">[Wednesday 01 December 2010] [15:23:42] &lt;mikko&gt;       mato: does it support the pragma?</div>
<div class="line">[Wednesday 01 December 2010] [15:23:48] &lt;mikko&gt;       if it supports -fvisibility</div>
<div class="line">[Wednesday 01 December 2010] [15:24:11] &lt;mato&gt;        probably not</div>
<div class="line">[Wednesday 01 December 2010] [15:24:23] &lt;mato&gt;        or it&#8217;s some bastardized RHAT version</div>
<div class="line">[Wednesday 01 December 2010] [15:26:06] &lt;mikko&gt;       got centos4 running now</div>
<div class="line">[Wednesday 01 December 2010] [15:27:36] &lt;mikko&gt;       yum is _slow_ on centos4</div>
<div class="line">[Wednesday 01 December 2010] [15:36:37] &lt;mikko&gt;       mato: gcc version 3.4.6 20060404 (Red Hat 3.4.6-11)</div>
<div class="line">[Wednesday 01 December 2010] [15:36:43] &lt;mikko&gt;       visibility works</div>
<div class="line">[Wednesday 01 December 2010] [15:36:52] &lt;mikko&gt;       no wait</div>
<div class="line">[Wednesday 01 December 2010] [15:36:58] &lt;mikko&gt;       it supports -fvisibility</div>
<div class="line">[Wednesday 01 December 2010] [15:37:04] &lt;mikko&gt;       but ignores the attribute</div>
<div class="line">[Wednesday 01 December 2010] [15:37:40] &lt;mato&gt;        geez</div>
<div class="line">[Wednesday 01 December 2010] [15:37:46] &lt;mikko&gt;       hmm</div>
<div class="line">[Wednesday 01 December 2010] [15:37:50] &lt;mikko&gt;       thats not completely true</div>
<div class="line">[Wednesday 01 December 2010] [15:38:00] &lt;mikko&gt;       <a class="reference external" href="https://gist.github.com/b2f2ef8f5bc92d2688b3">https://gist.github.com/b2f2ef8f5bc92d2688b3</a></div>
<div class="line">[Wednesday 01 December 2010] [15:38:51] &lt;mato&gt;        well, in any case, we can&#8217;t detect this case in zmq.h sanely</div>
<div class="line">[Wednesday 01 December 2010] [15:39:03] &lt;mato&gt;        so we need to account for it in the autoconf tests somehowe</div>
<div class="line">[Wednesday 01 December 2010] [15:40:06] &lt;mato&gt;        I reckon for now the easiest thing is to explicitly check the GCC version</div>
<div class="line">[Wednesday 01 December 2010] [15:40:23] &lt;mato&gt;        and not enable -fvisibility if it&#8217;s &lt; 4</div>
<div class="line">[Wednesday 01 December 2010] [15:40:28] &lt;mikko&gt;       yes, i was thinking the same</div>
<div class="line">[Wednesday 01 December 2010] [15:40:35] &lt;mikko&gt;       let me wrap a macro for that</div>
<div class="line">[Wednesday 01 December 2010] [15:55:12] &lt;mikko&gt;       brb</div>
<div class="line">[Wednesday 01 December 2010] [16:17:51] &lt;prokos&gt;      f</div>
<div class="line">[Wednesday 01 December 2010] [17:10:04] &lt;mikko&gt;       mato: take a look at <a class="reference external" href="http://valokuva.org/~mikko/visibility.patch">http://valokuva.org/~mikko/visibility.patch</a> when you got time</div>
<div class="line">[Wednesday 01 December 2010] [17:41:25] &lt;<a href="#id72"><span class="problematic" id="id73">jhawk28_</span></a>&gt;    hey sustrik</div>
<div class="line">[Wednesday 01 December 2010] [17:43:24] &lt;sustrik&gt;     hi</div>
<div class="line">[Wednesday 01 December 2010] [17:47:32] &lt;Guthur&gt;      is there tests for the new features?</div>
<div class="line">[Wednesday 01 December 2010] [17:47:38] &lt;Guthur&gt;      in 2.1.0</div>
<div class="line">[Wednesday 01 December 2010] [19:19:13] &lt;erickt&gt;      Hi #zeromq! congrats on 2.1.0. I was wondering, did sys://log make it into 2.1.0?</div>
<div class="line">[Wednesday 01 December 2010] [19:20:47] &lt;erickt&gt;      and if so, what is getting logged?</div>
<div class="line">[Wednesday 01 December 2010] [20:54:02] &lt;Remoun&gt;      How can I get the remote IP (of the sender) when receiving over TCP?</div>
<div class="line">[Wednesday 01 December 2010] [23:20:06] &lt;DanielHolth&gt; any word on a ctypes zeromq binding?</div>
<div class="line">[Wednesday 01 December 2010] [23:20:11] &lt;DanielHolth&gt; for Python?</div>
<div class="line">[Thursday 02 December 2010] [02:32:59] &lt;<a href="#id21"><span class="problematic" id="id22">delaney__</span></a>&gt;    has anyone had any luck getting pyzmq to build with 3.1?</div>
<div class="line">[Thursday 02 December 2010] [02:34:03] &lt;<a href="#id21"><span class="problematic" id="id23">delaney__</span></a>&gt;    trying with the 2.0.10</div>
<div class="line">[Thursday 02 December 2010] [02:53:58] &lt;sustrik&gt;      delaney: autobuilds: <a class="reference external" href="http://build.valokuva.org/">http://build.valokuva.org/</a></div>
<div class="line">[Thursday 02 December 2010] [02:54:33] &lt;sustrik&gt;      Remoun: you can&#8217;t</div>
<div class="line">[Thursday 02 December 2010] [02:55:04] &lt;sustrik&gt;      erickt: it have made it in</div>
<div class="line">[Thursday 02 December 2010] [02:55:16] &lt;sustrik&gt;      you can subscribe to it</div>
<div class="line">[Thursday 02 December 2010] [02:55:23] &lt;sustrik&gt;      but nothing is logged yet :)</div>
<div class="line">[Thursday 02 December 2010] [02:59:16] &lt;<a href="#id21"><span class="problematic" id="id24">delaney__</span></a>&gt;    sustrik that looks cool but doesn&#8217;t seem to have a link to the zmq package, or is that not available?  <a class="reference external" href="http://build.valokuva.org/view/pyzmq/job/pyzmq-master_ZeroMQ2-master_GCC/lastBuild/">http://build.valokuva.org/view/pyzmq/job/pyzmq-master_ZeroMQ2-master_GCC/lastBuild/</a></div>
<div class="line">[Thursday 02 December 2010] [02:59:49] &lt;sustrik&gt;      nope, it doesn&#8217;t create packages</div>
<div class="line">[Thursday 02 December 2010] [03:00:05] &lt;sustrik&gt;      but it shows that the pyzmq can be built with master</div>
<div class="line">[Thursday 02 December 2010] [03:03:33] &lt;<a href="#id21"><span class="problematic" id="id25">delaney__</span></a>&gt;    oh i don&#8217;t doubt it</div>
<div class="line">[Thursday 02 December 2010] [03:03:50] &lt;<a href="#id21"><span class="problematic" id="id26">delaney__</span></a>&gt;    actually just got it working with 32bit visual studio 2008</div>
<div class="line">[Thursday 02 December 2010] [03:04:07] &lt;<a href="#id21"><span class="problematic" id="id27">delaney__</span></a>&gt;    but can&#8217;t seem to with 64bit visual studio 2010</div>
<div class="line">[Thursday 02 December 2010] [03:09:09] &lt;sustrik&gt;      report the problem on the mailing list then...</div>
<div class="line">[Thursday 02 December 2010] [03:09:34] &lt;sustrik&gt;      i cannot really help myself is a don&#8217;t have win64</div>
<div class="line">[Thursday 02 December 2010] [03:14:27] &lt;Steve-o&gt;      sustrik, hope you like the bug I found on MSVC :-)</div>
<div class="line">[Thursday 02 December 2010] [03:23:34] &lt;sustrik&gt;      Steve-o: haven&#8217;t read all emails yet</div>
<div class="line">[Thursday 02 December 2010] [03:23:39] &lt;sustrik&gt;      which one is that?</div>
<div class="line">[Thursday 02 December 2010] [03:24:13] &lt;Steve-o&gt;      ok, end of &#8220;encoder hanging in remote_thr tests&#8221; thread.</div>
<div class="line">[Thursday 02 December 2010] [03:24:29] &lt;Steve-o&gt;      compiler over-optimisation</div>
<div class="line">[Thursday 02 December 2010] [03:25:01] &lt;sustrik&gt;      uh, you&#8217;ve sent a patch</div>
<div class="line">[Thursday 02 December 2010] [03:25:16] &lt;Steve-o&gt;      it&#8217;s a workaround, not a real patch</div>
<div class="line">[Thursday 02 December 2010] [03:25:31] &lt;sustrik&gt;      anyway, mark the emails containing patches with [PATCH]</div>
<div class="line">[Thursday 02 December 2010] [03:25:31] &lt;Steve-o&gt;      I have no idea what is a good solution, leave that up to you</div>
<div class="line">[Thursday 02 December 2010] [03:25:44] &lt;sustrik&gt;      otherwise it&#8217;s pretty easy to forget about it</div>
<div class="line">[Thursday 02 December 2010] [03:26:01] &lt;Steve-o&gt;      I&#8217;ve dumped a Win32 API call in there, it&#8217;s not useful to commit it</div>
<div class="line">[Thursday 02 December 2010] [03:26:10] &lt;sustrik&gt;      ok, i see</div>
<div class="line">[Thursday 02 December 2010] [03:26:52] &lt;Steve-o&gt;      still working on why linger isn&#8217;t working</div>
<div class="line">[Thursday 02 December 2010] [03:27:06] &lt;Steve-o&gt;      is it supposed to on pub sockets?</div>
<div class="line">[Thursday 02 December 2010] [03:27:25] &lt;sustrik&gt;      Steve-o: i would say the problem is that OpenPGM doesn&#8217;t have linger</div>
<div class="line">[Thursday 02 December 2010] [03:27:32] &lt;sustrik&gt;      so the LINGER is set on 0MQ level</div>
<div class="line">[Thursday 02 December 2010] [03:27:42] &lt;sustrik&gt;      when 0MQ pushes all data to OpenPGM</div>
<div class="line">[Thursday 02 December 2010] [03:27:53] &lt;sustrik&gt;      it considers the work done</div>
<div class="line">[Thursday 02 December 2010] [03:27:56] &lt;sustrik&gt;      and exits</div>
<div class="line">[Thursday 02 December 2010] [03:28:01] &lt;sustrik&gt;      which closes the process</div>
<div class="line">[Thursday 02 December 2010] [03:28:07] &lt;Steve-o&gt;      the problem here is 0MQ isn&#8217;t sending anything to PGM</div>
<div class="line">[Thursday 02 December 2010] [03:28:10] &lt;sustrik&gt;      thus dropping the PGM tx buffers</div>
<div class="line">[Thursday 02 December 2010] [03:28:14] &lt;sustrik&gt;      ah</div>
<div class="line">[Thursday 02 December 2010] [03:28:27] &lt;Steve-o&gt;      it only init&#8217;s the pgm_socket object</div>
<div class="line">[Thursday 02 December 2010] [03:28:31] &lt;Steve-o&gt;      the destroys it</div>
<div class="line">[Thursday 02 December 2010] [03:28:41] &lt;Steve-o&gt;      core bug</div>
<div class="line">[Thursday 02 December 2010] [03:28:50] &lt;sustrik&gt;      ok, i&#8217;ll give it a look</div>
<div class="line">[Thursday 02 December 2010] [03:28:51] &lt;Steve-o&gt;      or &#8220;feature&#8221;</div>
<div class="line">[Thursday 02 December 2010] [03:29:08] &lt;Steve-o&gt;      check your mails and get back to me on the list later</div>
<div class="line">[Thursday 02 December 2010] [03:29:15] &lt;sustrik&gt;      sure, will do</div>
<div class="line">[Thursday 02 December 2010] [05:01:25] &lt;PiotrSikora&gt;  guys, are there any complete examples/guides about integrating zeromq with existing event poll using ZMQ_FD &amp; ZMQ_EVENTS?</div>
<div class="line">[Thursday 02 December 2010] [05:20:41] &lt;<a href="#id74"><span class="problematic" id="id75">sustrik_</span></a>&gt;     PiotrSikora: have a look at src/zmq.cpp</div>
<div class="line">[Thursday 02 December 2010] [05:20:51] &lt;<a href="#id76"><span class="problematic" id="id77">sustrik_</span></a>&gt;     there&#8217;s implementation of zmq_poll</div>
<div class="line">[Thursday 02 December 2010] [05:21:00] &lt;<a href="#id78"><span class="problematic" id="id79">sustrik_</span></a>&gt;     which uses ZMQ_FD and ZMQ_EVENTS underneath</div>
<div class="line">[Thursday 02 December 2010] [05:21:33] &lt;<a href="#id80"><span class="problematic" id="id81">sustrik_</span></a>&gt;     combined with either select(2) or poll(2)</div>
<div class="line">[Thursday 02 December 2010] [05:25:47] &lt;PiotrSikora&gt;  <a href="#id82"><span class="problematic" id="id83">sustrik_</span></a>: yeah, i looked at it... let me clarify...</div>
<div class="line">[Thursday 02 December 2010] [05:27:34] &lt;PiotrSikora&gt;  <a href="#id84"><span class="problematic" id="id85">sustrik_</span></a>: it is my understanding that in order to hook ZMQ into existing event look (kevent, epoll, etc) i need to get existing fd via getsockopt(ZMQ_FD), then when system will notice my about event on that fd, I need to verify that there is complete ZMQ message available via getsockopt(ZMQ_EVENTS)</div>
<div class="line">[Thursday 02 December 2010] [05:27:54] &lt;PiotrSikora&gt;  however i&#8217;m lost at how can i retrieve this message without blocking?</div>
<div class="line">[Thursday 02 December 2010] [05:28:02] &lt;PiotrSikora&gt;  zmq_poll? doesn&#8217;t look like</div>
<div class="line">[Thursday 02 December 2010] [05:29:11] &lt;PiotrSikora&gt;  or would zmq_recv() be ok?</div>
<div class="line">[Thursday 02 December 2010] [05:29:35] &lt;<a href="#id86"><span class="problematic" id="id87">sustrik_</span></a>&gt;     zmq_recv()</div>
<div class="line">[Thursday 02 December 2010] [05:29:40] &lt;<a href="#id88"><span class="problematic" id="id89">sustrik_</span></a>&gt;     you know it&#8217;s there</div>
<div class="line">[Thursday 02 December 2010] [05:29:50] &lt;<a href="#id90"><span class="problematic" id="id91">sustrik_</span></a>&gt;     so you just call zmq_recv() and you&#8217;ll get it</div>
<div class="line">[Thursday 02 December 2010] [05:30:40] &lt;PiotrSikora&gt;  ok, thx :)</div>
<div class="line">[Thursday 02 December 2010] [05:31:07] &lt;PiotrSikora&gt;  seems like those new features make it extremely easy to integrate now</div>
<div class="line">[Thursday 02 December 2010] [05:31:30] &lt;PiotrSikora&gt;  i remember i looked into this (integrating with existing event loop) a while ago and it seemd rather impossible to do</div>
<div class="line">[Thursday 02 December 2010] [06:09:21] &lt;mikko&gt;        this is odd</div>
<div class="line">[Thursday 02 December 2010] [06:09:31] &lt;mikko&gt;        out of the box gcc 3.4.6 does not support -fvisibility=hidden flag</div>
<div class="line">[Thursday 02 December 2010] [06:09:44] &lt;mikko&gt;        but redhat &#8220;fixed&#8221; version does support it but messes up visibility</div>
<div class="line">[Thursday 02 December 2010] [06:55:18] &lt;<a href="#id92"><span class="problematic" id="id93">sustrik_</span></a>&gt;     Steve-o: hi</div>
<div class="line">[Thursday 02 December 2010] [06:55:26] &lt;Steve-o&gt;      hi</div>
<div class="line">[Thursday 02 December 2010] [06:55:40] &lt;<a href="#id94"><span class="problematic" id="id95">sustrik_</span></a>&gt;     aren&#8217;t there 2 different problems there?</div>
<div class="line">[Thursday 02 December 2010] [06:55:49] &lt;<a href="#id96"><span class="problematic" id="id97">sustrik_</span></a>&gt;     one of them is solved by sleep()</div>
<div class="line">[Thursday 02 December 2010] [06:56:11] &lt;Steve-o&gt;      at least 2 possibly more</div>
<div class="line">[Thursday 02 December 2010] [06:56:26] &lt;<a href="#id98"><span class="problematic" id="id99">sustrik_</span></a>&gt;     yep</div>
<div class="line">[Thursday 02 December 2010] [06:56:35] &lt;<a href="#id100"><span class="problematic" id="id101">sustrik_</span></a>&gt;     so let&#8217;s solve these seaprately</div>
<div class="line">[Thursday 02 December 2010] [06:56:49] &lt;Steve-o&gt;      the memory barrier / fence is the most odd</div>
<div class="line">[Thursday 02 December 2010] [06:57:08] &lt;<a href="#id102"><span class="problematic" id="id103">sustrik_</span></a>&gt;     mikko: mato says you are right</div>
<div class="line">[Thursday 02 December 2010] [06:57:15] &lt;<a href="#id104"><span class="problematic" id="id105">sustrik_</span></a>&gt;     and it&#8217;s RH bug</div>
<div class="line">[Thursday 02 December 2010] [06:57:29] &lt;<a href="#id106"><span class="problematic" id="id107">sustrik_</span></a>&gt;     Steve-o: yes</div>
<div class="line">[Thursday 02 December 2010] [06:57:42] &lt;<a href="#id108"><span class="problematic" id="id109">sustrik_</span></a>&gt;     anyway, one problem that&#8217;s pretty obvious is that 0MQ doesn&#8217;t wait for OpenPGM when terminating</div>
<div class="line">[Thursday 02 December 2010] [06:58:09] &lt;<a href="#id110"><span class="problematic" id="id111">sustrik_</span></a>&gt;     can we solve that one somehow?</div>
<div class="line">[Thursday 02 December 2010] [06:58:22] &lt;Steve-o&gt;      isn&#8217;t something broken in the linger implementation?</div>
<div class="line">[Thursday 02 December 2010] [06:58:37] &lt;<a href="#id112"><span class="problematic" id="id113">sustrik_</span></a>&gt;     maybe, but that&#8217;s not the point</div>
<div class="line">[Thursday 02 December 2010] [06:58:52] &lt;<a href="#id114"><span class="problematic" id="id115">sustrik_</span></a>&gt;     the point is that 0mq doesn&#8217;t know when openpgm have sent all the data</div>
<div class="line">[Thursday 02 December 2010] [06:59:06] &lt;Steve-o&gt;      ok three problems</div>
<div class="line">[Thursday 02 December 2010] [06:59:26] &lt;<a href="#id116"><span class="problematic" id="id117">sustrik_</span></a>&gt;     ok</div>
<div class="line">[Thursday 02 December 2010] [06:59:34] &lt;Steve-o&gt;      #1 0mq does not flush complete batch of messages, instead it only sends first message</div>
<div class="line">[Thursday 02 December 2010] [06:59:50] &lt;Steve-o&gt;      #2 a MSVC 2010 compiler optimisation bug causes encoder.get_data to hang</div>
<div class="line">[Thursday 02 December 2010] [07:00:13] &lt;Steve-o&gt;      #3 short PUB runs followed by zmq_term do not plug the underlying transport</div>
<div class="line">[Thursday 02 December 2010] [07:00:38] &lt;mikko&gt;        <a href="#id118"><span class="problematic" id="id119">sustrik_</span></a>: i think i got a feasible patch</div>
<div class="line">[Thursday 02 December 2010] [07:01:20] &lt;mikko&gt;        ill talk with mato when he is back</div>
<div class="line">[Thursday 02 December 2010] [07:01:25] &lt;<a href="#id120"><span class="problematic" id="id121">sustrik_</span></a>&gt;     sure</div>
<div class="line">[Thursday 02 December 2010] [07:02:15] &lt;Steve-o&gt;      note #1 &amp; #3 may also be MSVC bugs, no idea</div>
<div class="line">[Thursday 02 December 2010] [07:03:00] &lt;<a href="#id122"><span class="problematic" id="id123">sustrik_</span></a>&gt;     Steve-o: ok, can it be reproduced on a single box?</div>
<div class="line">[Thursday 02 December 2010] [07:03:31] &lt;Steve-o&gt;      #3 is really easy, just run remote_thr with size=100 and count=1 ... 2000</div>
<div class="line">[Thursday 02 December 2010] [07:03:55] &lt;Steve-o&gt;      i added printf statements to every call in pgm_sender.cpp to see what if ever is called</div>
<div class="line">[Thursday 02 December 2010] [07:04:37] &lt;Steve-o&gt;      #2 randomly occurs when data is actually sent</div>
<div class="line">[Thursday 02 December 2010] [07:04:48] &lt;Steve-o&gt;      #1 not so important as the others</div>
<div class="line">[Thursday 02 December 2010] [07:06:01] &lt;Steve-o&gt;      of course it will be more annoying if it is hardware dependent</div>
<div class="line">[Thursday 02 December 2010] [07:06:50] &lt;<a href="#id124"><span class="problematic" id="id125">sustrik_</span></a>&gt;     so let&#8217;s start with #3</div>
<div class="line">[Thursday 02 December 2010] [07:07:00] &lt;<a href="#id126"><span class="problematic" id="id127">sustrik_</span></a>&gt;     pgm?</div>
<div class="line">[Thursday 02 December 2010] [07:07:02] &lt;<a href="#id128"><span class="problematic" id="id129">sustrik_</span></a>&gt;     epgm?</div>
<div class="line">[Thursday 02 December 2010] [07:07:04] &lt;<a href="#id130"><span class="problematic" id="id131">sustrik_</span></a>&gt;     loopback?</div>
<div class="line">[Thursday 02 December 2010] [07:07:07] &lt;Steve-o&gt;      epgm,</div>
<div class="line">[Thursday 02 December 2010] [07:07:44] &lt;<a href="#id132"><span class="problematic" id="id133">sustrik_</span></a>&gt;     does it happen on linux as well?</div>
<div class="line">[Thursday 02 December 2010] [07:07:53] &lt;Steve-o&gt;      haven&#8217;t checked yet</div>
<div class="line">[Thursday 02 December 2010] [07:08:26] &lt;<a href="#id134"><span class="problematic" id="id135">sustrik_</span></a>&gt;     let me try</div>
<div class="line">[Thursday 02 December 2010] [07:08:30] &lt;Steve-o&gt;      i only saw #1 on linux so far</div>
<div class="line">[Thursday 02 December 2010] [07:13:22] &lt;Steve-o&gt;      linux looks fine here for count=1</div>
<div class="line">[Thursday 02 December 2010] [07:14:27] &lt;Steve-o&gt;      LD_LIBRARY_PATH=src/.libs/ ./perf/.libs/remote_thr &#8211;rate-limit 100 &#8220;epgm://eth0;239.192.0.1:7500&#8221; 100 1</div>
<div class="line">[Thursday 02 December 2010] [07:14:41] &lt;Steve-o&gt;      sends 1 packet as expected</div>
<div class="line">[Thursday 02 December 2010] [07:22:51] &lt;<a href="#id136"><span class="problematic" id="id137">sustrik_</span></a>&gt;     so it only happens on windows, right?</div>
<div class="line">[Thursday 02 December 2010] [07:23:04] &lt;<a href="#id138"><span class="problematic" id="id139">sustrik_</span></a>&gt;     i don&#8217;t have a win box here</div>
<div class="line">[Thursday 02 December 2010] [07:26:50] &lt;Steve-o&gt;      appears so, just tested on another box and reproduced it</div>
<div class="line">[Thursday 02 December 2010] [07:30:50] &lt;Steve-o&gt;      that&#8217;s why I&#8217;m wondering if it is another MSVC compiler optimisation bug</div>
<div class="line">[Thursday 02 December 2010] [07:31:10] &lt;Steve-o&gt;      you really need some heavy unit testing to catch annoying features like this</div>
<div class="line">[Thursday 02 December 2010] [07:31:50] &lt;<a href="#id140"><span class="problematic" id="id141">sustrik_</span></a>&gt;     Steve-o: yes, but win32 is a platform that i am not really using</div>
<div class="line">[Thursday 02 December 2010] [07:35:18] &lt;Steve-o&gt;      unfortunately most VMs are too helpful either for multicast testing</div>
<div class="line">[Thursday 02 December 2010] [07:37:01] &lt;Steve-o&gt;      I think it&#8217;s still only limited to ESX virtual NICs</div>
<div class="line">[Thursday 02 December 2010] [07:37:38] &lt;<a href="#id142"><span class="problematic" id="id143">sustrik_</span></a>&gt;     no idea</div>
<div class="line">[Thursday 02 December 2010] [07:38:53] &lt;<a href="#id144"><span class="problematic" id="id145">sustrik_</span></a>&gt;     anyway, the obvious problem is that the whole win/pgm thing is not going to move forward at any reasonable pace if there&#8217;s no infrastructure to test it on</div>
<div class="line">[Thursday 02 December 2010] [07:43:52] &lt;Steve-o&gt;      yup, and I guess some assistance in testing the .net libraries would help developers too</div>
<div class="line">[Thursday 02 December 2010] [07:46:18] &lt;Steve-o&gt;      if MSVC is causing this there should be negative consequences on the TCP transport too</div>
<div class="line">[Thursday 02 December 2010] [07:50:29] &lt;Steve-o&gt;      I&#8217;m currently using 2008R2 trial on a server and Windows 7 on desktop, but on separate networks :-)</div>
<div class="line">[Thursday 02 December 2010] [09:00:35] &lt;mikko&gt;        mato: found it</div>
<div class="line">[Thursday 02 December 2010] [09:00:35] &lt;mikko&gt;        - backport C++ visibility patches, -fvisibility*, #pragma GCC visibility</div>
<div class="line">[Thursday 02 December 2010] [09:00:44] &lt;mikko&gt;        from RHEL gcc changelog</div>
<div class="line">[Thursday 02 December 2010] [09:10:28] &lt;Guthur&gt;       i there any caveats with having multiple contexts in the one application?</div>
<div class="line">[Thursday 02 December 2010] [09:10:49] &lt;Guthur&gt;       i/is</div>
<div class="line">[Thursday 02 December 2010] [09:11:16] &lt;mato&gt; mikko: Thought so ... usual silly attitude from RHAT</div>
<div class="line">[Thursday 02 December 2010] [09:11:48] &lt;mato&gt; mikko: Anyway, I&#8217;d suggest going with the approach in your patch for now (don&#8217;t enable it at all on GCC &lt; 4)</div>
<div class="line">[Thursday 02 December 2010] [09:11:59] &lt;mato&gt; mikko: I&#8217;ve not reviewed it yet in detail, busy today...</div>
<div class="line">[Thursday 02 December 2010] [09:14:06] &lt;mikko&gt;        mato: check this</div>
<div class="line">[Thursday 02 December 2010] [09:14:14] &lt;mikko&gt;        <a class="reference external" href="http://valokuva.org/~mikko/visibility-rhel.patch">http://valokuva.org/~mikko/visibility-rhel.patch</a></div>
<div class="line">[Thursday 02 December 2010] [09:14:18] &lt;mikko&gt;        this is the latest</div>
<div class="line">[Thursday 02 December 2010] [09:14:29] &lt;mikko&gt;        it uses AC_COMPILE_IFELSE to test the visibility</div>
<div class="line">[Thursday 02 December 2010] [09:14:54] &lt;mikko&gt;        the AC_COMPILE_IFELSE should fail if the compiler is not one of the defined</div>
<div class="line">[Thursday 02 December 2010] [09:15:09] &lt;mikko&gt;        additionally it uses &#8216;nm&#8217; to check that the symbol actually has the expected visibility</div>
<div class="line">[Thursday 02 December 2010] [09:16:13] &lt;mato&gt; mikko: &#8216;nm&#8217; is not a good idea due to non-portability of it&#8217;s output</div>
<div class="line">[Thursday 02 December 2010] [09:16:23] &lt;mato&gt; mikko: e.g. solaris nm by default produces completely different output</div>
<div class="line">[Thursday 02 December 2010] [09:16:57] &lt;mato&gt; mikko: if you really want to go the whole hog and actually test if -fvisibility works, then you&#8217;d need to compile a shared object and try and link against it</div>
<div class="line">[Thursday 02 December 2010] [09:17:04] &lt;mato&gt; mikko: not sure if that&#8217;s worth the work...</div>
<div class="line">[Thursday 02 December 2010] [09:17:33] &lt;mato&gt; mikko: since compiling a shared lib would need to be done thru libtool to be portable, etc etc.</div>
<div class="line">[Thursday 02 December 2010] [09:18:20] &lt;mato&gt; mikko: why not just stick with the bruteforce approach for now and don&#8217;t even try -fvisibility on GCC &lt; 4?</div>
<div class="line">[Thursday 02 December 2010] [09:18:25] &lt;mikko&gt;        mato: nm format is defined in posix</div>
<div class="line">[Thursday 02 December 2010] [09:18:34] &lt;mikko&gt;        not sure if everyone follows that htough</div>
<div class="line">[Thursday 02 December 2010] [09:18:36] &lt;mato&gt; mikko: Yes, but not everyone follows thhat</div>
<div class="line">[Thursday 02 December 2010] [09:18:57] &lt;mikko&gt;        ok</div>
<div class="line">[Thursday 02 December 2010] [09:19:00] &lt;mikko&gt;        ill remove the nm part</div>
<div class="line">[Thursday 02 December 2010] [09:19:12] &lt;mikko&gt;        the AC_TRY_COMPILE should still fail with gcc 4&lt;</div>
<div class="line">[Thursday 02 December 2010] [09:19:19] &lt;mikko&gt;        gcc &lt;4</div>
<div class="line">[Thursday 02 December 2010] [09:20:01] &lt;mikko&gt;        let me update the patch</div>
<div class="line">[Thursday 02 December 2010] [09:20:42] &lt;mikko&gt;        mato: you mean something like this:http://valokuva.org/~mikko/visibility.patch</div>
<div class="line">[Thursday 02 December 2010] [09:22:10] &lt;mato&gt; mikko: guess so</div>
<div class="line">[Thursday 02 December 2010] [09:23:08] &lt;mikko&gt;        i can also just remove the AC_TRY_COMPILE and use the compiler check</div>
<div class="line">[Thursday 02 December 2010] [09:23:16] &lt;mikko&gt;        if test &#8220;x$ac_ .. etc</div>
<div class="line">[Thursday 02 December 2010] [09:23:34] &lt;mato&gt; make it as simple as possible, this is just for people with broken redhat GCC</div>
<div class="line">[Thursday 02 December 2010] [09:24:02] &lt;mikko&gt;        ok</div>
<div class="line">[Thursday 02 December 2010] [09:24:09] &lt;mikko&gt;        i&#8217;ll juggle it a bit later</div>
<div class="line">[Thursday 02 December 2010] [09:27:32] &lt;sustrik&gt;      Guthur: you can, but what is it good for?</div>
<div class="line">[Thursday 02 December 2010] [09:28:54] &lt;Guthur&gt;       To make my object disposal strategy in a C# application a little bit more naive</div>
<div class="line">[Thursday 02 December 2010] [09:29:47] &lt;Guthur&gt;       I have a background thread listening for requests on a ZMQ_REQ, it&#8217;d like it to able to take care of it&#8217;s own disposal</div>
<div class="line">[Thursday 02 December 2010] [09:29:56] &lt;Guthur&gt;       it&#8217;d/I&#8217;d</div>
<div class="line">[Thursday 02 December 2010] [09:30:04] &lt;sustrik&gt;      and?</div>
<div class="line">[Thursday 02 December 2010] [09:30:34] &lt;Guthur&gt;       Well if i share a context with the main thread I was thinking that I couldn&#8217;t get rid of it without worrying about that socket</div>
<div class="line">[Thursday 02 December 2010] [09:31:08] &lt;sustrik&gt;      the socket returns ETERM when context it terminated</div>
<div class="line">[Thursday 02 December 2010] [09:31:13] &lt;Guthur&gt;       Does that make sense</div>
<div class="line">[Thursday 02 December 2010] [09:31:22] &lt;Guthur&gt;       oh ok</div>
<div class="line">[Thursday 02 December 2010] [09:31:43] &lt;Guthur&gt;       ignore the make sense statement</div>
<div class="line">[Thursday 02 December 2010] [09:33:19] &lt;Guthur&gt;       my mistake, I should have checked, I thought the open socket would block the context from disposing</div>
<div class="line">[Thursday 02 December 2010] [09:34:11] &lt;sustrik&gt;      it will</div>
<div class="line">[Thursday 02 December 2010] [09:34:38] &lt;sustrik&gt;      you&#8217;ll get ETERM, then you close the socket</div>
<div class="line">[Thursday 02 December 2010] [09:34:46] &lt;sustrik&gt;      then the zmq_term() finishes</div>
<div class="line">[Thursday 02 December 2010] [09:39:16] &lt;Guthur&gt;       ok, thanks for the clarification sustrik</div>
<div class="line">[Thursday 02 December 2010] [12:06:26] &lt;drbobbeaty&gt;   I&#8217;m running with the new ZMQ 2.1.0 from the new downloads site. It&#8217;s running just fine, and I really appreciate all the work that&#8217;s gone into it. But there is one thing, and I&#8217;m not sure what approach to take. When using epgm:// (OpenPGM) as the transport, the call to send() leaks. Not as much as 2.0.10, but it still leaks. For my application, it&#8217;s still a problem. Is there anything in the &#8220;known issues&#8221; list for ZMQ or OpenPGM that might clear this up?</div>
<div class="line">[Thursday 02 December 2010] [12:06:26] &lt;drbobbeaty&gt;   am I on my own with the code?</div>
<div class="line">[Thursday 02 December 2010] [12:08:08] &lt;mikko&gt;        drbobbeaty: do you know where it leaks?</div>
<div class="line">[Thursday 02 December 2010] [12:08:26] &lt;mikko&gt;        im not sure if this is a known issue (first time i hear about it)</div>
<div class="line">[Thursday 02 December 2010] [12:10:25] &lt;drbobbeaty&gt;   I only know that if I comment out the call to send(), the leak goes away. Put it in and it leaks (for me) on the order of a couple of MB every few seconds.</div>
<div class="line">[Thursday 02 December 2010] [12:11:13] &lt;drbobbeaty&gt;   I know it&#8217;s based on the size of the messages, but I don&#8217;t have a lot of other information on it. I was going  to just get down-n-dirty with the code to try and track this down, but I wanted to ask here to see if this is something already known before I spend a few days on this.</div>
<div class="line">[Thursday 02 December 2010] [12:12:55] &lt;mikko&gt;        sustrik might be able to answer this better</div>
<div class="line">[Thursday 02 December 2010] [12:13:07] &lt;mikko&gt;        drbobbeaty: is it simple to reproduce?</div>
<div class="line">[Thursday 02 December 2010] [12:13:37] &lt;drbobbeaty&gt;   mikko: That&#8217;s the first thing I&#8217;m going to do - make a simple test case and then go from there.</div>
<div class="line">[Thursday 02 December 2010] [12:14:03] &lt;erickt&gt;       does it not leak with the other protocols?</div>
<div class="line">[Thursday 02 December 2010] [12:14:39] &lt;drbobbeaty&gt;   erickt: not sure, going to try that too... just at the very early stages (10 min) of this process.</div>
<div class="line">[Thursday 02 December 2010] [12:21:58] &lt;cremes&gt;       drbobbeaty: it might just be queueing the data in memory; what kind of socket are you using?</div>
<div class="line">[Thursday 02 December 2010] [12:24:08] &lt;cremes&gt;       nevermind... that only makes sense for tcp transport</div>
<div class="line">[Thursday 02 December 2010] [12:24:41] &lt;drbobbeaty&gt;   Every idea is welcome. I&#8217;m going to do a lot of digging now and then when I have something concrete I&#8217;ll send it to the mailing list.</div>
<div class="line">[Thursday 02 December 2010] [12:29:42] &lt;mikko&gt;        it does sound like the data is staying in some buffer</div>
<div class="line">[Thursday 02 December 2010] [12:30:27] &lt;mikko&gt;        drbobbeaty: are you closing the messages properly?</div>
<div class="line">[Thursday 02 December 2010] [12:30:33] &lt;drbobbeaty&gt;   yeah, that was my guess, because I&#8217;ve checked on the message itself, and that&#8217;s OK &#8211; I make a new one for each send, as I thought I read here that&#8217;s the &#8220;best practices&#8221; for sending.</div>
<div class="line">[Thursday 02 December 2010] [12:30:55] &lt;mikko&gt;        you got message init and close for each send?</div>
<div class="line">[Thursday 02 December 2010] [12:36:32] &lt;drbobbeaty&gt;   I&#8217;m using the C++ API, and that does those in the zmq::message_t class, yes.</div>
<div class="line">[Thursday 02 December 2010] [12:37:14] &lt;drbobbeaty&gt;   mikko: I&#8217;m assuming you&#8217;re asking about the message initialization and close out. The socket stays open for a &#8220;long&#8221; time.</div>
<div class="line">[Thursday 02 December 2010] [12:38:52] &lt;mikko&gt;        drbobbeaty: yeah, message init and close. looks like the C++ api closes the message upon destruction</div>
<div class="line">[Thursday 02 December 2010] [12:38:54] &lt;sustrik&gt;      drbobbeaty: are you sure you are not pushing data to 0MQ faster than PGM transfer rate?</div>
<div class="line">[Thursday 02 December 2010] [12:40:03] &lt;sustrik&gt;      default transmit rate is 100kb/s</div>
<div class="line">[Thursday 02 December 2010] [12:40:44] &lt;drbobbeaty&gt;   sustrik: I&#8217;m not sure what that rate is. I know I&#8217;m pushing about 1000 to 10,000 msgs/sec out on different epgm:// connected sockets (different sockets get different parts of the data set)... and I monitor the 10Gb Ethernet and it nowhere near the limit of the NIC - not even 50%. So I don&#8217;t think I&#8217;m sending it too fast.</div>
<div class="line">[Thursday 02 December 2010] [12:41:13] &lt;sustrik&gt;      then look at ZMQ_RATE socket option</div>
<div class="line">[Thursday 02 December 2010] [12:41:15] &lt;drbobbeaty&gt;   sustrik: I set my default to 200kb/s in the construction</div>
<div class="line">[Thursday 02 December 2010] [12:41:28] &lt;drbobbeaty&gt;   ...of each socket.</div>
<div class="line">[Thursday 02 December 2010] [12:41:36] &lt;sustrik&gt;      ok, and how much do you publish?</div>
<div class="line">[Thursday 02 December 2010] [12:41:52] &lt;sustrik&gt;      if you publish more than 200kb/s then the messages are queued</div>
<div class="line">[Thursday 02 December 2010] [12:42:42] &lt;drbobbeaty&gt;   I&#8217;ll have to put in better measurement statistics to the logging... right now I look at messages per second, not bytes per socket per second. When I do that, I&#8217;ll know.</div>
<div class="line">[Thursday 02 December 2010] [12:43:33] &lt;sustrik&gt;      in any case, setting transmit rate to 200kb/s on 10GbE seems overly restrictuve</div>
<div class="line">[Thursday 02 December 2010] [12:44:18] &lt;drbobbeaty&gt;   Yeah, I just upped it to 1Mbps and will try that</div>
<div class="line">[Thursday 02 December 2010] [14:35:27] &lt;ngerakines&gt;   hey folks, I&#8217;ve got a few questions about application design with zmq.</div>
<div class="line">[Thursday 02 December 2010] [14:36:49] &lt;ngerakines&gt;   In my system, i&#8217;ve got several load threads that subscribe to external pubsub streams and they take the messages they receive and funnel them to another thread that acts as a sort of funnel</div>
<div class="line">[Thursday 02 December 2010] [14:37:19] &lt;ngerakines&gt;   that funnel binds a ZMQ_PULL socket for that purpose</div>
<div class="line">[Thursday 02 December 2010] [14:37:47] &lt;ngerakines&gt;   what I want to do now, is create a number of worker threads that request work from that socket using ZMQ_REP</div>
<div class="line">[Thursday 02 December 2010] [14:38:17] &lt;ngerakines&gt;   so is it possible to have that funnel thread support both the PUSH connections from the loaders as well REP/REQ connections from workers?</div>
<div class="line">[Thursday 02 December 2010] [14:46:00] &lt;Remoun&gt;       ngerakines; IIUC, your use case fits into the &#8220;Request-Reply Broker&#8221; pattern, for which there&#8217;s the built-in Queue device <a class="reference external" href="http://zguide.zeromq.org/chapter:all#toc31">http://zguide.zeromq.org/chapter:all#toc31</a></div>
<div class="line">[Thursday 02 December 2010] [14:48:14] &lt;ngerakines&gt;   I was reading that and got the impression that messages were pushed to the workers (service b) where in my model, I want the workers to request work</div>
<div class="line">[Thursday 02 December 2010] [14:53:54] &lt;Remoun&gt;       AFAIK, the only way for the broker/funnel to know whether workers are available is that workers request work</div>
<div class="line">[Thursday 02 December 2010] [14:55:24] &lt;ngerakines&gt;    so with that, is there a relatively easy way to create a socket that receives both PUSH and REP/REQ requests and is able to determine if an incoming message is one or the other?</div>
<div class="line">[Thursday 02 December 2010] [14:55:35] &lt;ngerakines&gt;   I haven&#8217;t use poll much, but I&#8217;m thinking that I might have to go that route.</div>
<div class="line">[Thursday 02 December 2010] [14:55:43] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 02 December 2010] [14:55:48] &lt;sustrik&gt;      two sockets</div>
<div class="line">[Thursday 02 December 2010] [14:55:54] &lt;sustrik&gt;      poll on them</div>
<div class="line">[Thursday 02 December 2010] [14:56:12] &lt;sustrik&gt;      read messages from both as they become available</div>
<div class="line">[Thursday 02 December 2010] [14:57:53] &lt;ngerakines&gt;   ok, thanks everyone</div>
<div class="line">[Thursday 02 December 2010] [17:07:10] &lt;raydeo&gt;       using 0mq 2.0.10 I have an inproc:// ZMQ_PAIR socket that is being used as communication between 2 threads. I&#8217;m getting an error when using zmq_connect to the socket in one thread before the other thread has done the zmq_bind... is this a known problem?</div>
<div class="line">[Thursday 02 December 2010] [17:07:26] &lt;raydeo&gt;       the errno received from zmq_bind is ECONNREFUSED</div>
<div class="line">[Thursday 02 December 2010] [17:14:36] &lt;mikko&gt;        raydeo: it&#8217;s a known limitation</div>
<div class="line">[Thursday 02 December 2010] [17:14:47] &lt;mikko&gt;        you need to bind before connecting</div>
<div class="line">[Thursday 02 December 2010] [17:15:19] &lt;raydeo&gt;       mikko: that&#8217;s fine, what would you suggest if I don&#8217;t have control over the order those threads run? a different socket type, or a mutex?</div>
<div class="line">[Thursday 02 December 2010] [17:15:50] &lt;mikko&gt;        raydeo: it&#8217;s a limitation of inproc transport</div>
<div class="line">[Thursday 02 December 2010] [17:16:31] &lt;raydeo&gt;       ok, so I&#8217;ll just need to ensure externally the initialization order... shame :(</div>
<div class="line">[Thursday 02 December 2010] [18:41:50] &lt;abrown28&gt;     anyone listening want to answer a dumb question for me?</div>
<div class="line">[Thursday 02 December 2010] [23:20:49] &lt;Remoun&gt;       &#8220;If you need to know the identity of the peer you got a message from, only the XREP socket does this for you automatically. For any other socket type you must send the address explicitly, as a message part.&#8221;</div>
<div class="line">[Thursday 02 December 2010] [23:21:01] &lt;Remoun&gt;       So how _do_ I get the address/identity?</div>
<div class="line">[Thursday 02 December 2010] [23:29:02] &lt;the_hulk&gt;     what is type identifier for socket, and context for C API&#8217;s, or should i just declare them as void?</div>
<div class="line">[Thursday 02 December 2010] [23:44:03] &lt;Remoun&gt;       the_hulk; they&#8217;re opaque handles, void*</div>
<div class="line">[Thursday 02 December 2010] [23:54:52] &lt;the_hulk&gt;     ok</div>
<div class="line">[Friday 03 December 2010] [02:16:41] &lt;sustrik&gt;        Remoun: just write it into the message</div>
<div class="line">[Friday 03 December 2010] [02:17:11] &lt;Remoun&gt; I was/am looking for the value to write into the message :)</div>
<div class="line">[Friday 03 December 2010] [02:17:24] &lt;sustrik&gt;        think of something :)</div>
<div class="line">[Friday 03 December 2010] [02:19:13] &lt;Remoun&gt; Relatedly, can I use semi-durable sockets such that I can actually address individual workers, but not have them eat memory when they&#8217;re gone?</div>
<div class="line">[Friday 03 December 2010] [02:19:55] &lt;Remoun&gt; I&#8217;m basically trying to distribute the &#8216;broker&#8217; in the last example in the guide, while also adding a layer of authentication</div>
<div class="line">[Friday 03 December 2010] [02:22:00] &lt;sustrik&gt;        hm, that works only with REQ/REP pattern</div>
<div class="line">[Friday 03 December 2010] [02:22:15] &lt;sustrik&gt;        when you don&#8217;t set identity, one is generated for you</div>
<div class="line">[Friday 03 December 2010] [02:22:40] &lt;sustrik&gt;        but the connections are still transient</div>
<div class="line">[Friday 03 December 2010] [02:22:46] &lt;Remoun&gt; And it&#8217;s generated by the REP side, right?</div>
<div class="line">[Friday 03 December 2010] [02:23:05] &lt;sustrik&gt;        the identity?</div>
<div class="line">[Friday 03 December 2010] [02:23:05] &lt;Remoun&gt; Meaning if the worker actually talks to more than one broker, they&#8217;d have different IDs for that worker?</div>
<div class="line">[Friday 03 December 2010] [02:23:17] &lt;sustrik&gt;        yes</div>
<div class="line">[Friday 03 December 2010] [02:23:44] &lt;Remoun&gt; Therein lies the catch...</div>
<div class="line">[Friday 03 December 2010] [02:24:16] &lt;Remoun&gt; I need to avoid single points of failure, particularly with sth as involved as the broker</div>
<div class="line">[Friday 03 December 2010] [02:24:54] &lt;Remoun&gt; Yet synchronizing the &#8216;availability&#8217; across more than one node (thread, process, etc.) is nigh impossible</div>
<div class="line">[Friday 03 December 2010] [02:30:31] &lt;Remoun&gt; sustrik; any ideas?</div>
<div class="line">[Friday 03 December 2010] [02:30:37] &lt;sustrik&gt;        i don&#8217;t follow</div>
<div class="line">[Friday 03 December 2010] [02:30:40] &lt;sustrik&gt;        what&#8217;s the problem?</div>
<div class="line">[Friday 03 December 2010] [02:32:02] &lt;Remoun&gt; Splitting the load-balancing across several brokers; I don&#8217;t know how to approach that</div>
<div class="line">[Friday 03 December 2010] [02:33:01] &lt;sustrik&gt;        connect the client to several brokers?</div>
<div class="line">[Friday 03 December 2010] [02:33:47] &lt;Remoun&gt; But then more than one broker would dispatch to the same worker</div>
<div class="line">[Friday 03 December 2010] [02:33:54] &lt;Remoun&gt; simultaneously, that is</div>
<div class="line">[Friday 03 December 2010] [02:35:57] &lt;sustrik&gt;        you have to decide what pattern are you going to use</div>
<div class="line">[Friday 03 December 2010] [02:36:11] &lt;sustrik&gt;        load balancing makes sense only with REQ/REP and PUSH/PULL</div>
<div class="line">[Friday 03 December 2010] [02:36:18] &lt;sustrik&gt;        which one are you using?</div>
<div class="line">[Friday 03 December 2010] [02:37:07] &lt;Remoun&gt; I was going for REQ/REP, but now that I think about it, it can work better with PUSH/PULL</div>
<div class="line">[Friday 03 December 2010] [02:37:57] &lt;sustrik&gt;        what does &#8221; more than one broker would dispatch to the same worker&#8221; means with REQ/REP or PUSH/PULL?</div>
<div class="line">[Friday 03 December 2010] [02:38:56] &lt;Remoun&gt; Well, a broker can only really service one request/pull at a time, right?</div>
<div class="line">[Friday 03 December 2010] [02:39:51] &lt;sustrik&gt;        right &#8211; unless it dispatches it further, to a separate worker thread or somesuch</div>
<div class="line">[Friday 03 December 2010] [02:41:15] &lt;Remoun&gt; I might just need to RTFM; I&#8217;ll pour over the guide again</div>
<div class="line">[Friday 03 December 2010] [02:46:23] &lt;Remoun&gt; Where can I read more about PUSH/PULL sockets/patterns? The guide doesn&#8217;t talk much about them</div>
<div class="line">[Friday 03 December 2010] [02:47:44] &lt;sustrik&gt;        i think there&#8217;s an chapter about it</div>
<div class="line">[Friday 03 December 2010] [02:47:49] &lt;sustrik&gt;        the one with &#8220;ventilator&#8221;</div>
<div class="line">[Friday 03 December 2010] [07:00:11] &lt;the_hulk&gt;       How do i know that server is down, from client site?</div>
<div class="line">[Friday 03 December 2010] [12:12:46] &lt;ptrb&gt;   if I have a push/pull set up, with one pusher and multiple pullers, is there some way to have the &#8220;push&#8221; action target a specific &#8220;puller&#8221;, absent some other out-of-band communication?</div>
<div class="line">[Friday 03 December 2010] [12:13:33] &lt;mikko&gt;  ptrb: have each &#8220;puller&#8221; subscribe to generic and puller specific topic</div>
<div class="line">[Friday 03 December 2010] [12:13:44] &lt;mikko&gt;  and use puller specific topic to communicate with specific puller</div>
<div class="line">[Friday 03 December 2010] [12:15:29] &lt;ptrb&gt;   so pub/sub instead</div>
<div class="line">[Friday 03 December 2010] [12:16:23] &lt;mikko&gt;  yes</div>
<div class="line">[Friday 03 December 2010] [12:16:33] &lt;mikko&gt;  PUSH/PULL load balances the messages as well</div>
<div class="line">[Friday 03 December 2010] [12:16:47] &lt;mikko&gt;  im not sure if there is a way to message based on the ident of client using push/pull</div>
<div class="line">[Friday 03 December 2010] [12:16:52] &lt;mikko&gt;  sustrik might know better</div>
<div class="line">[Friday 03 December 2010] [12:17:42] &lt;sustrik&gt;        ptrb: PUSH socket does load balancing</div>
<div class="line">[Friday 03 December 2010] [12:17:56] &lt;sustrik&gt;        thus it decides which peer to send the message to itself</div>
<div class="line">[Friday 03 December 2010] [12:18:41] &lt;mikko&gt;  sustrik: i got solaris10 running as build slave</div>
<div class="line">[Friday 03 December 2010] [12:18:44] &lt;mikko&gt;  running first tests now</div>
<div class="line">[Friday 03 December 2010] [12:18:50] &lt;mikko&gt;  will try installing windows later on</div>
<div class="line">[Friday 03 December 2010] [12:18:58] &lt;sustrik&gt;        wow!</div>
<div class="line">[Friday 03 December 2010] [12:35:39] &lt;mikko&gt;  mato: there?</div>
<div class="line">[Friday 03 December 2010] [12:36:50] &lt;sustrik&gt;        mikko: i think he&#8217;s travalling atm</div>
<div class="line">[Friday 03 December 2010] [12:39:55] &lt;mikko&gt;  i just notced that the way we unpack pgm sources doesnt seem to be portable</div>
<div class="line">[Friday 03 December 2010] [12:39:59] &lt;mikko&gt;  -C option to tar</div>
<div class="line">[Friday 03 December 2010] [12:40:23] &lt;sustrik&gt;        shrug</div>
<div class="line">[Friday 03 December 2010] [12:41:36] &lt;sustrik&gt;        no idea myself</div>
<div class="line">[Friday 03 December 2010] [13:47:57] &lt;ptrb&gt;   is it possible to change the HWM behavior of a socket?</div>
<div class="line">[Friday 03 December 2010] [13:48:27] &lt;ptrb&gt;   or, failing that, poll to see the current, uh, water level?</div>
<div class="line">[Friday 03 December 2010] [13:53:46] &lt;mikko&gt;  watermark</div>
<div class="line">[Friday 03 December 2010] [13:53:54] &lt;mikko&gt;  yes, you can poll</div>
<div class="line">[Friday 03 December 2010] [13:54:04] &lt;mikko&gt;  it should come back as writable if hwm is reached</div>
<div class="line">[Friday 03 December 2010] [13:57:31] &lt;ptrb&gt;   am I stupid and missing what that function is?</div>
<div class="line">[Friday 03 December 2010] [13:58:21] &lt;mikko&gt;  what function?</div>
<div class="line">[Friday 03 December 2010] [13:58:58] &lt;ptrb&gt;   oh, you getsockopt on ZMQ_HWM?</div>
<div class="line">[Friday 03 December 2010] [13:59:15] &lt;mikko&gt;  zmq_poll</div>
<div class="line">[Friday 03 December 2010] [13:59:35] &lt;mikko&gt;  you can not get current amount of messages in transit</div>
<div class="line">[Friday 03 December 2010] [13:59:48] &lt;mikko&gt;  but zmq_poll should not return the socket as writable if hwm has been reached</div>
<div class="line">[Friday 03 December 2010] [14:00:40] &lt;ptrb&gt;   oh, okay. and that will work that way no matter what type of socket(s) you poll on</div>
<div class="line">[Friday 03 December 2010] [14:01:33] &lt;mikko&gt;  i&#8217;ve only tested on push sockets</div>
<div class="line">[Friday 03 December 2010] [14:02:04] &lt;ptrb&gt;   hmm.</div>
<div class="line">[Friday 03 December 2010] [14:03:01] &lt;mikko&gt;  not sure about pub socket</div>
<div class="line">[Friday 03 December 2010] [14:03:15] &lt;mikko&gt;  as the behavior with pub socket when hwm is reached is to discard messages</div>
<div class="line">[Friday 03 December 2010] [14:03:58] &lt;ptrb&gt;   right, which I&#8217;m trying to work around</div>
<div class="line">[Friday 03 December 2010] [14:04:36] &lt;ptrb&gt;   looks like the &#8220;correct&#8221; solution here is to manually manage N ZMQ_PUSH sockets... which is what I was hoping to avoid... but..</div>
<div class="line">[Friday 03 December 2010] [14:06:25] &lt;ptrb&gt;   OK, thanks for the tip.. if anything else strikes you in the night, feel free to let me know :)</div>
<div class="line">[Friday 03 December 2010] [14:06:41] &lt;mikko&gt;  you could easily test zmq_poll + pub socket</div>
<div class="line">[Friday 03 December 2010] [14:06:59] &lt;ptrb&gt;   yeah but that is more work than I can rightly manage at 8pm on a Friday :)</div>
<div class="line">[Friday 03 December 2010] [14:08:04] &lt;ptrb&gt;   cheers</div>
<div class="line">[Friday 03 December 2010] [14:09:19] &lt;mikko&gt;  <a class="reference external" href="http://zguide.zeromq.org/chapter:all">http://zguide.zeromq.org/chapter:all</a></div>
<div class="line">[Friday 03 December 2010] [14:09:24] &lt;mikko&gt;  there is an example for zmq_poll</div>
<div class="line">[Friday 03 December 2010] [14:09:30] &lt;mikko&gt;  you should be able to mod that with ease</div>
<div class="line">[Saturday 04 December 2010] [17:16:10] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * rc80e7b8 10/ (11 files in 2 dirs):</div>
<div class="line">[Saturday 04 December 2010] [17:16:10] &lt;CIA-20&gt;       zeromq2: XPUB and XSUB socket types added.</div>
<div class="line">[Saturday 04 December 2010] [17:16:10] &lt;CIA-20&gt;       zeromq2: These are just placeholders. At the moment XPUB behaves th same</div>
<div class="line">[Saturday 04 December 2010] [17:16:10] &lt;CIA-20&gt;       zeromq2: as PUB and XSUB as SUB.</div>
<div class="line">[Saturday 04 December 2010] [17:16:10] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/g8Nus1">http://bit.ly/g8Nus1</a></div>
<div class="line">[Sunday 05 December 2010] [03:50:04] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r2daa0bb 10/ (src/sub.cpp src/sub.hpp src/xsub.cpp src/xsub.hpp):</div>
<div class="line">[Sunday 05 December 2010] [03:50:04] &lt;CIA-20&gt; zeromq2: XSUB accepts (un)subscriptions in form of messages.</div>
<div class="line">[Sunday 05 December 2010] [03:50:04] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ghbsFI">http://bit.ly/ghbsFI</a></div>
<div class="line">[Sunday 05 December 2010] [11:20:41] &lt;CIA-20&gt; rbzmq: 03Brian Buchanan 07master * r86050ce 10/ (rbzmq.c zmq.gemspec): Update to support libzmq 2.1.0 - <a class="reference external" href="http://bit.ly/fuzMIe">http://bit.ly/fuzMIe</a></div>
<div class="line">[Sunday 05 December 2010] [17:25:20] &lt;mikko&gt;  mato: there?</div>
<div class="line">[Monday 06 December 2010] [00:46:54] &lt;Guest53515&gt;     i&#8217;ve been reading the docs and i see that you can send a message an basically wait for an ack (reply) back. is there a way to send and timeout in error if a reply has not been received within a timeframe</div>
<div class="line">[Monday 06 December 2010] [00:48:12] &lt;guido_g&gt;        no, you have to do this yourself</div>
<div class="line">[Monday 06 December 2010] [00:55:05] &lt;Guest53515&gt;     thanks..   can the receivee timeout or will it block forever?</div>
<div class="line">[Monday 06 December 2010] [00:56:26] &lt;guido_g&gt;        there is no timeout paramter for receive, but you can simulate it via poll</div>
<div class="line">[Monday 06 December 2010] [00:58:30] &lt;guido_g&gt;        <a href="#id1"><span class="problematic" id="id2">*</span></a>parameter</div>
<div class="line">[Monday 06 December 2010] [00:59:18] &lt;Guest53515&gt;     thanks, i was wondering about the poll.  i will have a look</div>
<div class="line">[Monday 06 December 2010] [01:00:12] &lt;guido_g&gt;        i&#8217;m not sure about this particular thing, but the guide is normally a good source of information</div>
<div class="line">[Monday 06 December 2010] [03:11:36] &lt;mikko&gt;  sustrik: there?</div>
<div class="line">[Monday 06 December 2010] [03:21:33] &lt;sustrik&gt;        mikko: hi</div>
<div class="line">[Monday 06 December 2010] [03:26:47] &lt;mikko&gt;  <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_MSVC-win7/20/console">http://build.valokuva.org/job/ZeroMQ2-core-master_MSVC-win7/20/console</a></div>
<div class="line">[Monday 06 December 2010] [03:26:54] &lt;mikko&gt;  xpub/xsub missing from win build files?</div>
<div class="line">[Monday 06 December 2010] [03:28:16] &lt;mikko&gt;  brb, need to commute to the office</div>
<div class="line">[Monday 06 December 2010] [03:28:34] &lt;sustrik&gt;        mikko: oops</div>
<div class="line">[Monday 06 December 2010] [03:28:38] &lt;sustrik&gt;        let me fix that</div>
<div class="line">[Monday 06 December 2010] [03:28:53] &lt;sustrik&gt;        you are already building with MSVC?</div>
<div class="line">[Monday 06 December 2010] [03:29:06] &lt;mikko&gt;  yes, testing with win7 build slave</div>
<div class="line">[Monday 06 December 2010] [03:29:17] &lt;sustrik&gt;        impressive</div>
<div class="line">[Monday 06 December 2010] [03:29:20] &lt;mikko&gt;  <a class="reference external" href="http://build.valokuva.org/">http://build.valokuva.org/</a> -&gt; linux, solaris10, win7 now</div>
<div class="line">[Monday 06 December 2010] [03:29:23] &lt;mikko&gt;  brb</div>
<div class="line">[Monday 06 December 2010] [03:29:27] &lt;guido_g&gt;        btw, are there already any docs xspub/ssub or is it code only currently?</div>
<div class="line">[Monday 06 December 2010] [03:29:43] &lt;sustrik&gt;        it&#8217;s been committed yesteday</div>
<div class="line">[Monday 06 December 2010] [03:29:43] &lt;guido_g&gt;        <a href="#id3"><span class="problematic" id="id4">*</span></a>docs on xpub/xsub</div>
<div class="line">[Monday 06 December 2010] [03:29:49] &lt;sustrik&gt;        and does nothing useful</div>
<div class="line">[Monday 06 December 2010] [03:29:56] &lt;guido_g&gt;        ahhh ok</div>
<div class="line">[Monday 06 December 2010] [03:30:01] &lt;sustrik&gt;        it&#8217;s just an infrastructure for subscription forwarding</div>
<div class="line">[Monday 06 December 2010] [03:30:02] &lt;guido_g&gt;        but sounds great! :)</div>
<div class="line">[Monday 06 December 2010] [03:30:25] &lt;sustrik&gt;        basically the idea is that subsctiptions are just messages</div>
<div class="line">[Monday 06 December 2010] [03:30:37] &lt;sustrik&gt;        that are passed up the message distribution tree</div>
<div class="line">[Monday 06 December 2010] [03:31:01]   * sustrik reboots into windows</div>
<div class="line">[Monday 06 December 2010] [03:44:33] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r8a6ff4c 10/ builds/msvc/libzmq/libzmq.vcproj :</div>
<div class="line">[Monday 06 December 2010] [03:44:33] &lt;CIA-20&gt; zeromq2: xup and xsub files added to the MSVC build</div>
<div class="line">[Monday 06 December 2010] [03:44:33] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/gELabW">http://bit.ly/gELabW</a></div>
<div class="line">[Monday 06 December 2010] [03:45:41] &lt;guido_g&gt;        :)</div>
<div class="line">[Monday 06 December 2010] [03:47:29] &lt;sustrik&gt;        re</div>
<div class="line">[Monday 06 December 2010] [03:48:34] &lt;guido_g&gt;        wb</div>
<div class="line">[Monday 06 December 2010] [03:50:27] &lt;sustrik&gt;        :)</div>
<div class="line">[Monday 06 December 2010] [04:13:18] &lt;Steve-o&gt;        sustrik: so any hope of back pressure on PUB sockets?</div>
<div class="line">[Monday 06 December 2010] [04:13:58] &lt;sustrik&gt;        what&#8217;s your problem?</div>
<div class="line">[Monday 06 December 2010] [04:14:43] &lt;Steve-o&gt;        client sending to PGM faster than the rate limit, there&#8217;s back pressure from OpenPGM but nothing from 0MQ</div>
<div class="line">[Monday 06 December 2010] [04:15:12] &lt;Steve-o&gt;        you can set HWM and lose messages, but the API doesn&#8217;t provide any feedback</div>
<div class="line">[Monday 06 December 2010] [04:15:33] &lt;sustrik&gt;        Steve-o: don&#8217;t set the HWM then</div>
<div class="line">[Monday 06 December 2010] [04:15:36] &lt;Steve-o&gt;        which forces the developer to implement their own rate engine above 0MQ at a guess</div>
<div class="line">[Monday 06 December 2010] [04:16:08] &lt;Steve-o&gt;        making the granular rate engine in OpenPGM pretty useless</div>
<div class="line">[Monday 06 December 2010] [04:24:15] &lt;sustrik&gt;        Steve-o: still there? what the problem with leaving HWM infinite?</div>
<div class="line">[Monday 06 December 2010] [04:30:09] &lt;mikko&gt;  sustrik: builds now</div>
<div class="line">[Monday 06 December 2010] [04:30:10] &lt;mikko&gt;  thanks</div>
<div class="line">[Monday 06 December 2010] [04:30:19] &lt;sustrik&gt;        np</div>
<div class="line">[Monday 06 December 2010] [04:30:25] &lt;mikko&gt;  if this trial works well ill add the win7 as permanent part</div>
<div class="line">[Monday 06 December 2010] [04:30:29] &lt;mikko&gt;  to the build cluster</div>
<div class="line">[Monday 06 December 2010] [04:31:14] &lt;sustrik&gt;        that would be great</div>
<div class="line">[Monday 06 December 2010] [04:31:23] &lt;sustrik&gt;        win platform is notoriously under-tested</div>
<div class="line">[Monday 06 December 2010] [04:31:54] &lt;mikko&gt;  sadly this build box is 32bit</div>
<div class="line">[Monday 06 December 2010] [04:32:07] &lt;mikko&gt;  i need to look into the stockpile of old servers if i could find 64bit iron</div>
<div class="line">[Monday 06 December 2010] [04:55:12] &lt;mato&gt;   mikko: hi</div>
<div class="line">[Monday 06 December 2010] [04:55:17] &lt;mato&gt;   mikko: you were after me?</div>
<div class="line">[Monday 06 December 2010] [05:00:49] &lt;mikko&gt;  mato: yeah</div>
<div class="line">[Monday 06 December 2010] [05:00:59] &lt;mikko&gt;  mato: -C option to tar is not portable it seems</div>
<div class="line">[Monday 06 December 2010] [05:01:10] &lt;mato&gt;   mikko: -C ?</div>
<div class="line">[Monday 06 December 2010] [05:01:14] &lt;mikko&gt;  solaris tar accepts -C when creating or replacing archive</div>
<div class="line">[Monday 06 December 2010] [05:01:23] &lt;mato&gt;   mikko: what is using -C?</div>
<div class="line">[Monday 06 December 2010] [05:01:34] &lt;mikko&gt;  yes, -C is used when extracting openpgm</div>
<div class="line">[Monday 06 December 2010] [05:02:10] &lt;mikko&gt;  so, im wondering that should we require gnu tar or chdir before extraction</div>
<div class="line">[Monday 06 December 2010] [05:02:17] &lt;mikko&gt;  i got a patch for the chdir approach somewhere</div>
<div class="line">[Monday 06 December 2010] [05:02:37] &lt;mato&gt;   the latter, since it is supposed to work on Solaris I guess</div>
<div class="line">[Monday 06 December 2010] [05:02:55] &lt;mato&gt;   anything to do with openpgm doesn&#8217;t have to be portable past MinGW/Linux/Solaris</div>
<div class="line">[Monday 06 December 2010] [05:03:24] &lt;mikko&gt;  ok, so i&#8217;ll post the patch as it is when i got time</div>
<div class="line">[Monday 06 December 2010] [05:03:36] &lt;mikko&gt;  mato: there is experimental win7 in the daily builds now as well</div>
<div class="line">[Monday 06 December 2010] [05:03:36] &lt;mato&gt;   sure, go for it</div>
<div class="line">[Monday 06 December 2010] [05:03:47] &lt;mikko&gt;  running visual studio 2008</div>
<div class="line">[Monday 06 December 2010] [05:03:58] &lt;mato&gt;   mikko: wow, how did you manage that? :-)</div>
<div class="line">[Monday 06 December 2010] [05:04:12] &lt;mato&gt;   mingw I could grok, but scripting VS builds ...</div>
<div class="line">[Monday 06 December 2010] [05:04:19] &lt;mikko&gt;  i installed hudson as windows service and it uses msbuild command line tools to run builds</div>
<div class="line">[Monday 06 December 2010] [05:04:27] &lt;mato&gt;   ah, so it has support for that</div>
<div class="line">[Monday 06 December 2010] [05:04:28] &lt;mato&gt;   great!</div>
<div class="line">[Monday 06 December 2010] [05:04:44] &lt;mikko&gt;  the only pain was to install windows using vmware esx console</div>
<div class="line">[Monday 06 December 2010] [05:04:50] &lt;mikko&gt;  the mouse moves in jumps</div>
<div class="line">[Monday 06 December 2010] [05:05:27] &lt;mato&gt;   by the way, the guy with rhat gcc3 problems solved his own problem</div>
<div class="line">[Monday 06 December 2010] [05:05:33] &lt;mato&gt;   so I guess we can leave that alone for now</div>
<div class="line">[Monday 06 December 2010] [05:05:51] &lt;mikko&gt;  i got a patch for it though</div>
<div class="line">[Monday 06 December 2010] [05:05:53] &lt;mato&gt;   let&#8217;s see if anyone else complains that they really need to use broken RHAT gcc3 :)</div>
<div class="line">[Monday 06 December 2010] [05:06:09] &lt;mato&gt;   well, if you&#8217;re happy with the patch, send it to the ML.</div>
<div class="line">[Monday 06 December 2010] [05:06:39]   * mato will be on irc somewhat intermittently this week, have builders here ...</div>
<div class="line">[Monday 06 December 2010] [06:09:00] &lt;adalrsjr1&gt;      hello...</div>
<div class="line">[Monday 06 December 2010] [06:09:47] &lt;adalrsjr1&gt;      i need run a zmq java application in machines without zmq</div>
<div class="line">[Monday 06 December 2010] [06:09:54] &lt;adalrsjr1&gt;      how i can do it?</div>
<div class="line">[Monday 06 December 2010] [06:10:10] &lt;adalrsjr1&gt;      whitout zmq installed</div>
<div class="line">[Monday 06 December 2010] [06:10:15] &lt;adalrsjr1&gt;      i using linux</div>
<div class="line">[Monday 06 December 2010] [06:11:29] &lt;mikko&gt;  adalrsjr1: currently the java binding requires libzmq</div>
<div class="line">[Monday 06 December 2010] [06:11:40] &lt;mikko&gt;  adalrsjr1: i don&#8217;t think there is a pure java implementation</div>
<div class="line">[Monday 06 December 2010] [06:16:40] &lt;adalrsjr1&gt;      its my problema, i don&#8217;t have libzmq in these machines</div>
<div class="line">[Monday 06 December 2010] [06:17:13] &lt;adalrsjr1&gt;      but i have the libzmq compiled in other pc</div>
<div class="line">[Monday 06 December 2010] [06:17:48] &lt;mikko&gt;  as far as i know currently you require libzmq with the java binding as it uses jni</div>
<div class="line">[Monday 06 December 2010] [06:26:17] &lt;Steve-o&gt;        adalrsjr1: if the Linux versions are the same you should be able to copy over the jni &amp; core zmq dynamic libraries</div>
<div class="line">[Monday 06 December 2010] [06:28:04] &lt;Steve-o&gt;        well, noted for the IRC log :-)</div>
<div class="line">[Monday 06 December 2010] [06:49:02] &lt;sustrik&gt;        mikko, mato: a suggestion &#8211; shouldn&#8217;t we limit test_shutdown_stress to something reasonable</div>
<div class="line">[Monday 06 December 2010] [06:49:12] &lt;sustrik&gt;        like seting up and tearing down 100 connection</div>
<div class="line">[Monday 06 December 2010] [06:49:33] &lt;sustrik&gt;        so that it would work on any box without running into resource problems?</div>
<div class="line">[Monday 06 December 2010] [06:51:21] &lt;mato&gt;   sustrik: yes</div>
<div class="line">[Monday 06 December 2010] [06:51:29] &lt;sustrik&gt;        ok</div>
<div class="line">[Monday 06 December 2010] [06:51:42] &lt;mato&gt;   sustrik: well, maybe... it does expose problems when run properly</div>
<div class="line">[Monday 06 December 2010] [06:51:53] &lt;sustrik&gt;        that&#8217;s nice</div>
<div class="line">[Monday 06 December 2010] [06:52:03] &lt;mato&gt;   sustrik: but at least on solaris there&#8217;s a limit of 256 fds per process by default</div>
<div class="line">[Monday 06 December 2010] [06:52:06] &lt;sustrik&gt;        otoh, the builds fail bacause of it</div>
<div class="line">[Monday 06 December 2010] [06:52:23] &lt;mato&gt;   sure, but then how will we know we&#8217;ve fixed the problem :)</div>
<div class="line">[Monday 06 December 2010] [06:52:35] &lt;mato&gt;   maybe...</div>
<div class="line">[Monday 06 December 2010] [06:52:55] &lt;mato&gt;   how about we change the test to run less connections on !linux</div>
<div class="line">[Monday 06 December 2010] [06:54:19] &lt;sustrik&gt;        i don&#8217;t think platform.hpp is included in the tests</div>
<div class="line">[Monday 06 December 2010] [06:54:29] &lt;sustrik&gt;        do you know you are no linux there?</div>
<div class="line">[Monday 06 December 2010] [06:59:27] &lt;mato&gt;   sustrik:  hang on</div>
<div class="line">[Monday 06 December 2010] [07:00:14] &lt;mato&gt;   sustrik: a) the tests can obviously include platform.hpp</div>
<div class="line">[Monday 06 December 2010] [07:00:34] &lt;mato&gt;   sustrik: b) test_shutdown_stress can call getrlimit(3) with RLIMIT_NOFILE and pick some sane value</div>
<div class="line">[Monday 06 December 2010] [07:00:40] &lt;mato&gt;   sustrik: for the # of iterations</div>
<div class="line">[Monday 06 December 2010] [07:00:49] &lt;mato&gt;   sustrik: that way we can at least ensure it won&#8217;t run out of FDs</div>
<div class="line">[Monday 06 December 2010] [07:01:00] &lt;mato&gt;   sustrik: if it dies due to other problems then that&#8217;s a valid bug...</div>
<div class="line">[Monday 06 December 2010] [07:01:23] &lt;sustrik&gt;        what about socket buffer size?</div>
<div class="line">[Monday 06 December 2010] [07:01:30] &lt;mato&gt;   what about it?</div>
<div class="line">[Monday 06 December 2010] [07:01:39] &lt;mato&gt;   that&#8217;s a bug, we need to fix that somehow :-)</div>
<div class="line">[Monday 06 December 2010] [07:02:36] &lt;mato&gt;   we shouldn&#8217;t be hiding bugs by modifying test cases</div>
<div class="line">[Monday 06 December 2010] [07:04:25] &lt;sustrik&gt;        the question is how to distinguish &#8220;out of resources&#8221; from &#8220;bug&#8221;</div>
<div class="line">[Monday 06 December 2010] [07:04:59] &lt;mato&gt;   then our mailbox_t needs to report back that it has run out of socket buffers, and return that to the app somehow</div>
<div class="line">[Monday 06 December 2010] [07:06:09] &lt;sustrik&gt;        it has to fail; at that point the system is broken beyond any hope to repair</div>
<div class="line">[Monday 06 December 2010] [07:06:51] &lt;sustrik&gt;        it&#8217;s basically a same problem as ENOMEM</div>
<div class="line">[Monday 06 December 2010] [07:06:59] &lt;sustrik&gt;        is it a bug or is it not?</div>
<div class="line">[Monday 06 December 2010] [07:07:17] &lt;mato&gt;   well, the way we&#8217;re dealing with it at the moment is a bug</div>
<div class="line">[Monday 06 December 2010] [07:07:27] &lt;sustrik&gt;        the assertion?</div>
<div class="line">[Monday 06 December 2010] [07:07:43] &lt;mato&gt;   that, and/or the fact that we&#8217;re reliant on the socket buffer size so much</div>
<div class="line">[Monday 06 December 2010] [07:08:11] &lt;mato&gt;   step 1 would be to at least change the assertion to somehow return an errno to the application. if that&#8217;s possible.</div>
<div class="line">[Monday 06 December 2010] [07:08:18] &lt;mato&gt;   step 2 is obviously to fix the signaler</div>
<div class="line">[Monday 06 December 2010] [07:08:36] &lt;mato&gt;   again, if that&#8217;s possible - i know we&#8217;ve been through this...</div>
<div class="line">[Monday 06 December 2010] [07:08:55] &lt;mato&gt;   sustrik: think about it in kernel terms</div>
<div class="line">[Monday 06 December 2010] [07:09:06] &lt;mato&gt;   sustrik: do you panic the system if some buffer runs out? i think not.</div>
<div class="line">[Monday 06 December 2010] [07:09:47] &lt;sustrik&gt;        the problem is that in this case the buffer in question is part of the essential infrastructure</div>
<div class="line">[Monday 06 December 2010] [07:09:59] &lt;sustrik&gt;        thus when it overflows the whole thing is unusable</div>
<div class="line">[Monday 06 December 2010] [07:10:08] &lt;sustrik&gt;        you do panic in such a case</div>
<div class="line">[Monday 06 December 2010] [07:10:17] &lt;sustrik&gt;        still better than undefined behaviour</div>
<div class="line">[Monday 06 December 2010] [07:11:28] &lt;sustrik&gt;        anyway, i&#8217;ll leave the stress test as is for now</div>
<div class="line">[Monday 06 December 2010] [08:26:59] &lt;sustrik&gt;        drbobbeaty: hi</div>
<div class="line">[Monday 06 December 2010] [08:28:33] &lt;drbobbeaty&gt;     sustrik: hi</div>
<div class="line">[Monday 06 December 2010] [08:29:40] &lt;sustrik&gt;        hi, have you seen steve&#8217;s answer about ZMQ_RECOVERY_IVL smaller than 1 sec?</div>
<div class="line">[Monday 06 December 2010] [08:30:54] &lt;drbobbeaty&gt;     Yeah, he was talking about making a C-level call to OpenPGM based on the size of the buffer. Since I&#8217;m using the C++ interface, I didn&#8217;t know how/if that would be possible given that I don&#8217;t have access to the underlying C pointers/structs.</div>
<div class="line">[Monday 06 December 2010] [08:31:22] &lt;sustrik&gt;        the idea is to tweak the 0MQ source code</div>
<div class="line">[Monday 06 December 2010] [08:31:46] &lt;sustrik&gt;        ie. set the recovery in number of packets rather than in seconds</div>
<div class="line">[Monday 06 December 2010] [08:32:42] &lt;sustrik&gt;        see src/pgm_socket.cpp</div>
<div class="line">[Monday 06 December 2010] [08:33:14] &lt;sustrik&gt;        line 203 and 236</div>
<div class="line">[Monday 06 December 2010] [08:34:42] &lt;drbobbeaty&gt;     Ah! OK... I can tweak the code if needed. My question would be if this is going to be supported in some manner in the straight ZeroMQ releases. I can wait on this if it&#8217;s coming out soon, or I can make the changes and then back them out when the feature becomes available from you guys.</div>
<div class="line">[Monday 06 December 2010] [08:35:08] &lt;sustrik&gt;        drbobbeaty: if you send a patch to the mailing list, i&#8217;ll apply it</div>
<div class="line">[Monday 06 December 2010] [08:35:21] &lt;sustrik&gt;        just make sure that it actually works before sending it</div>
<div class="line">[Monday 06 December 2010] [08:35:35] &lt;drbobbeaty&gt;     he he he... yeah, that&#8217;d be a good thing to make sure :)</div>
<div class="line">[Monday 06 December 2010] [08:35:57] &lt;sustrik&gt;        (i don&#8217;t have a test env here, so i won&#8217;t be able to test it really)</div>
<div class="line">[Monday 06 December 2010] [08:35:59] &lt;drbobbeaty&gt;     I&#8217;ll have a look and then read up on the ML diff submission process.</div>
<div class="line">[Monday 06 December 2010] [08:36:11] &lt;sustrik&gt;        sure</div>
<div class="line">[Monday 06 December 2010] [08:36:19] &lt;sustrik&gt;        have you seen the code?</div>
<div class="line">[Monday 06 December 2010] [08:36:28] &lt;sustrik&gt;        the change seems to be pretty trivial</div>
<div class="line">[Monday 06 December 2010] [08:36:52] &lt;drbobbeaty&gt;     I think I can handle it :) But if I have any questions, I will be back to ask for help.</div>
<div class="line">[Monday 06 December 2010] [08:37:14] &lt;sustrik&gt;        sure</div>
<div class="line">[Monday 06 December 2010] [08:38:17] &lt;sustrik&gt;        drbobbeaty: ah, damn</div>
<div class="line">[Monday 06 December 2010] [08:38:42] &lt;sustrik&gt;        change from sec to msecs would break the backward compatibilitty :(</div>
<div class="line">[Monday 06 December 2010] [08:39:10] &lt;drbobbeaty&gt;     Yeah, I can imagine that... but what about a different named socket option?</div>
<div class="line">[Monday 06 December 2010] [08:39:24] &lt;sustrik&gt;        yes, looks like the only option atm</div>
<div class="line">[Monday 06 December 2010] [08:40:26] &lt;drbobbeaty&gt;     Seems fair... do you have a preference for what that name should be? ZMQ_RECOVERY_MSEC or ZMQ_RECOVERY_IVL_MSEC?</div>
<div class="line">[Monday 06 December 2010] [08:41:04] &lt;mikko&gt;  is that confusing?</div>
<div class="line">[Monday 06 December 2010] [08:41:12] &lt;mikko&gt;  two constants for effectively same option</div>
<div class="line">[Monday 06 December 2010] [08:41:34] &lt;sustrik&gt;        mikko: any better idea?</div>
<div class="line">[Monday 06 December 2010] [08:42:00] &lt;mikko&gt;  it would be still possible to change this in 2.1</div>
<div class="line">[Monday 06 December 2010] [08:42:04] &lt;mikko&gt;  as there is no stable release</div>
<div class="line">[Monday 06 December 2010] [08:42:17] &lt;mikko&gt;  beta is what it says on the tin</div>
<div class="line">[Monday 06 December 2010] [08:42:22] &lt;sustrik&gt;        the backward compatibility is guaranteed witin a major version</div>
<div class="line">[Monday 06 December 2010] [08:42:39] &lt;sustrik&gt;        so it can&#8217;t be broken before 3.0</div>
<div class="line">[Monday 06 December 2010] [08:42:42] &lt;mikko&gt;  but things are already breaking going from 2.0 to 2.1</div>
<div class="line">[Monday 06 December 2010] [08:42:55] &lt;mikko&gt;  zmq_init for example</div>
<div class="line">[Monday 06 December 2010] [08:43:04] &lt;sustrik&gt;        how so?</div>
<div class="line">[Monday 06 December 2010] [08:43:11] &lt;mikko&gt;  or did that change earlier?</div>
<div class="line">[Monday 06 December 2010] [08:43:22] &lt;sustrik&gt;        yep, that changes somewhere at 2.0.4</div>
<div class="line">[Monday 06 December 2010] [08:43:37] &lt;sustrik&gt;        since then people have complained about breaking backwards compatibility</div>
<div class="line">[Monday 06 December 2010] [08:43:51] &lt;sustrik&gt;        so i&#8217;ve written compatibility guidelines</div>
<div class="line">[Monday 06 December 2010] [08:43:58] &lt;sustrik&gt;        let me find it...</div>
<div class="line">[Monday 06 December 2010] [08:46:54] &lt;sustrik&gt;        <a class="reference external" href="http://www.zeromq.org/docs:policies">http://www.zeromq.org/docs:policies</a></div>
<div class="line">[Monday 06 December 2010] [08:46:59] &lt;drbobbeaty&gt;     sustrik, mikko: I am enjoying reading the &#8220;Contributing to 0MQ&#8221; page... as soon as I get through all this, and you guys decide how you&#8217;d like me to implement it, I&#8217;ll get right on it.</div>
<div class="line">[Monday 06 December 2010] [08:47:48] &lt;mikko&gt;  sustrik: &#8220;It may even run, however, you should read the NEWS file so you are sure that changes made won&#8217;t affect your application behaviour in subtle ways.&#8221;</div>
<div class="line">[Monday 06 December 2010] [08:47:49] &lt;sustrik&gt;        enjoying the burocracy? :)</div>
<div class="line">[Monday 06 December 2010] [08:48:11] &lt;mikko&gt;  sustrik: it would still compile against the version</div>
<div class="line">[Monday 06 December 2010] [08:48:11] &lt;sustrik&gt;        mikko: right</div>
<div class="line">[Monday 06 December 2010] [08:48:15] &lt;mikko&gt;  is your policy says</div>
<div class="line">[Monday 06 December 2010] [08:48:28] &lt;mikko&gt;  but people using recovery IVL would need to read about the change</div>
<div class="line">[Monday 06 December 2010] [08:48:58] &lt;sustrik&gt;        but allocating buffer 1000x larger than expected in not really a subtle change</div>
<div class="line">[Monday 06 December 2010] [08:49:22] &lt;sustrik&gt;        it&#8217;s pretty dangerous actually</div>
<div class="line">[Monday 06 December 2010] [08:50:20] &lt;sustrik&gt;        i would go for new socket option now</div>
<div class="line">[Monday 06 December 2010] [08:50:42] &lt;sustrik&gt;        and normalise the two options into a single one in v3.0</div>
<div class="line">[Monday 06 December 2010] [08:50:56] &lt;mikko&gt;  i guess that is sensible for now. i think we should keep a list things like these that need to be cleaned up on major</div>
<div class="line">[Monday 06 December 2010] [08:51:17] &lt;sustrik&gt;        some comments are already here: <a class="reference external" href="http://www.zeromq.org/docs:3-0">http://www.zeromq.org/docs:3-0</a></div>
<div class="line">[Monday 06 December 2010] [08:52:00] &lt;sustrik&gt;        drbobbeaty: just add a new option for now</div>
<div class="line">[Monday 06 December 2010] [08:52:13] &lt;drbobbeaty&gt;     sustrik: OK, that&#8217;s what I&#8217;ll do.</div>
<div class="line">[Monday 06 December 2010] [08:53:14] &lt;sustrik&gt;        something like:</div>
<div class="line">[Monday 06 December 2010] [08:53:44] &lt;sustrik&gt;        &#8220;RECOVERY_IVL_MSEC has precedence to RECOVERY_IVL&#8221;</div>
<div class="line">[Monday 06 December 2010] [08:54:02] &lt;sustrik&gt;        &#8220;however, if set to zero, it&#8217;s ignored and RECOVERY_IVL is used instead&#8221;</div>
<div class="line">[Monday 06 December 2010] [08:54:07] &lt;sustrik&gt;        &#8220;default is zero&#8221;</div>
<div class="line">[Monday 06 December 2010] [08:54:37] &lt;drbobbeaty&gt;     sustrik: OK, sounds reasonable with a nice fallback.</div>
<div class="line">[Monday 06 December 2010] [09:10:51] &lt;sustrik&gt;        Steve-o: what out_buffer_size should I use?</div>
<div class="line">[Monday 06 December 2010] [09:11:47] &lt;sustrik&gt;        and what parameters you were running local_the/remote_the with?</div>
<div class="line">[Monday 06 December 2010] [09:11:53] &lt;sustrik&gt;        thr*</div>
<div class="line">[Monday 06 December 2010] [09:12:03] &lt;Steve-o&gt;        I tried 1420</div>
<div class="line">[Monday 06 December 2010] [09:12:18] &lt;Steve-o&gt;        and &#8220;tcp...&#8221; 100 1</div>
<div class="line">[Monday 06 December 2010] [09:12:23] &lt;sustrik&gt;        great</div>
<div class="line">[Monday 06 December 2010] [09:12:35] &lt;sustrik&gt;        i&#8217;ll check that</div>
<div class="line">[Monday 06 December 2010] [09:50:42] &lt;drbobbeaty&gt;     sustrik: I assume all these changes for the recovery time should be to the default, &#8216;development&#8217; release and not the &#8216;maint&#8217; release, correct?</div>
<div class="line">[Monday 06 December 2010] [09:51:17] &lt;mikko&gt;  drbobbeaty: yes, just for the master branch</div>
<div class="line">[Monday 06 December 2010] [10:21:19] &lt;<a href="#id21"><span class="problematic" id="id28">toni__</span></a>&gt; hey there. I am using a REQ socket that connects to a set of servers (XREP). Is there way to notice when a server dies? My intention is to wait for max. 2 seconds, until I consider the server as gone. But the s.recv() (s is a REQ socket) blocks. Is there a way to achieve this, or should a make use of a XREQ which is non-blocking?</div>
<div class="line">[Monday 06 December 2010] [10:21:19] &lt;mikko&gt;  <a href="#id21"><span class="problematic" id="id29">toni__</span></a>: you should be able to use zmq_poll for this</div>
<div class="line">[Monday 06 December 2010] [10:21:19] &lt;mikko&gt;  you can also pass ZMQ_NOBLOCK flag to zmq_recv</div>
<div class="line">[Monday 06 December 2010] [10:22:05] &lt;<a href="#id21"><span class="problematic" id="id30">toni__</span></a>&gt; cool, thanks. great channel, for all my questions I get a answer very fast. This avoids searching the huge guide twice for such particular part of information. Thanks!</div>
<div class="line">[Monday 06 December 2010] [10:23:09] &lt;guido_g&gt;        <a href="#id21"><span class="problematic" id="id31">toni__</span></a>: there is also <a class="reference external" href="http://api.zeromq.org/zmq.html">http://api.zeromq.org/zmq.html</a></div>
<div class="line">[Monday 06 December 2010] [10:26:54] &lt;<a href="#id21"><span class="problematic" id="id32">toni__</span></a>&gt; guido_g: i know, but I expected to maybe get a correcting answer in case my solution for the problem would already be provided by zmq itself.</div>
<div class="line">[Monday 06 December 2010] [10:27:56] &lt;guido_g&gt;        <a href="#id21"><span class="problematic" id="id33">toni__</span></a>: it was more a response to &#8221; This avoids searching the huge guide twice...&#8221;</div>
<div class="line">[Monday 06 December 2010] [10:31:06] &lt;sustrik&gt;        hm, this is almost a FAQ</div>
<div class="line">[Monday 06 December 2010] [10:32:13] &lt;sustrik&gt;        i&#8217;ve answered this particular question like twice in past two days</div>
<div class="line">[Monday 06 December 2010] [10:44:37] &lt;<a href="#id21"><span class="problematic" id="id34">toni__</span></a>&gt; hey there, one more question. I could not find a way to disconnect a socket from an address it was once connected to. I can only find socket.close() but thats not what I need. So is there a way to disconnect from an address?</div>
<div class="line">[Monday 06 December 2010] [10:49:08] &lt;sustrik&gt;        close the socket</div>
<div class="line">[Monday 06 December 2010] [10:50:39] &lt;<a href="#id21"><span class="problematic" id="id35">toni__</span></a>&gt; the socket is connected to a set of addresses. In case one does not answer, I want to remove the connection to this address, so I close the socket and reconnect it to all adresses without the one that did not work?</div>
<div class="line">[Monday 06 December 2010] [10:51:49] &lt;sustrik&gt;        i presume that when the non answering address becomes available again, you want to reconnect to it?</div>
<div class="line">[Monday 06 December 2010] [10:52:08] &lt;<a href="#id21"><span class="problematic" id="id36">toni__</span></a>&gt; yes</div>
<div class="line">[Monday 06 December 2010] [10:52:15] &lt;sustrik&gt;        0mq does that for you</div>
<div class="line">[Monday 06 December 2010] [10:52:27] &lt;sustrik&gt;        you don&#8217;t have to care about non-anwering endpoints</div>
<div class="line">[Monday 06 December 2010] [10:53:13] &lt;sustrik&gt;        they are ignored and reconnected when they become available again</div>
<div class="line">[Monday 06 December 2010] [10:53:31] &lt;<a href="#id21"><span class="problematic" id="id37">toni__</span></a>&gt; okay, thats great. Does this also mean that messages wont be send to an address that seems currently not available?</div>
<div class="line">[Monday 06 December 2010] [10:54:09] &lt;bobdole369&gt;     Hello everyone, tnx for letting me idle in here all weekend :x - didn&#8217;t really mean to do that... OK on to it: Have a possible project in the coming weeks and am looking at 0MQ as the data transport mechanism.</div>
<div class="line">[Monday 06 December 2010] [10:54:11] &lt;seb`&gt;   the server side won&#8217;t block if you close the socket</div>
<div class="line">[Monday 06 December 2010] [10:54:25] &lt;bobdole369&gt;     Few queries about a few things come to mine.</div>
<div class="line">[Monday 06 December 2010] [10:55:36] &lt;sustrik&gt;        <a href="#id21"><span class="problematic" id="id38">toni__</span></a>: yes, but set HWM to something low</div>
<div class="line">[Monday 06 December 2010] [10:55:59] &lt;sustrik&gt;        so that requests are not queued too much for a destination that may become unavailable later on</div>
<div class="line">[Monday 06 December 2010] [10:57:20] &lt;<a href="#id21"><span class="problematic" id="id39">toni__</span></a>&gt; sustrik: but it can be that a message wont be sent out, and is queued until the address becomes available again? Thats what I have to avoid.</div>
<div class="line">[Monday 06 December 2010] [10:58:15] &lt;sustrik&gt;        that&#8217;s done by resending the request once the timeout expires</div>
<div class="line">[Monday 06 December 2010] [10:58:28] &lt;sustrik&gt;        you should also discard duplicate replies, of course</div>
<div class="line">[Monday 06 December 2010] [10:58:55] &lt;bobdole369&gt;     Have a number of embedded devices in the &#8220;field&#8221; that will transmit data to a central datacenter server.  The data are infrequent small data points, perhaps 2kb of data is actually a lot.  We control these and can author the packets. Is 0MQ a suitable transport method for this data?</div>
<div class="line">[Monday 06 December 2010] [10:59:01] &lt;sustrik&gt;        (the whole resend functionality should be actually implemented inside 0mq, but it&#8217;s not yet)</div>
<div class="line">[Monday 06 December 2010] [10:59:48] &lt;sustrik&gt;        bobdole369: you want to deploy 0mq on the devices?</div>
<div class="line">[Monday 06 December 2010] [11:00:29] &lt;<a href="#id21"><span class="problematic" id="id40">toni__</span></a>&gt; sustrik: Thanks for your help</div>
<div class="line">[Monday 06 December 2010] [11:00:49] &lt;bobdole369&gt;     That is possible. They are PLC style devices though, and not PC&#8217;s. They do speak ansi C.</div>
<div class="line">[Monday 06 December 2010] [11:01:07] &lt;sustrik&gt;        <a href="#id21"><span class="problematic" id="id41">toni__</span></a>: you are welcome</div>
<div class="line">[Monday 06 December 2010] [11:01:29] &lt;sustrik&gt;        bobdole369: what about the OS?</div>
<div class="line">[Monday 06 December 2010] [11:02:01] &lt;bobdole369&gt;     On the PLC devices</div>
<div class="line">[Monday 06 December 2010] [11:06:13] &lt;stephank&gt;       bobdole369: No need to apologize for idling around, that&#8217;s pretty common practice on IRC. Zeromq is C++ and builds on top of BSD sockets and threading APIs, amongst others. Those are typically implemented by an OS. Are those provided by your embedded platform.</div>
<div class="line">[Monday 06 December 2010] [11:24:34] &lt;drbobbeaty&gt;     sustrik: I&#8217;m looking at the code and can&#8217;t find any reference to tpdu_size, but I do find references to get_max_tsdu_size(). Should I be using the tsdu_size from this call, or am I missing something obvious? I&#8217;m trying to convert either timespan into a count of sequence numbers - as per Steven&#8217;s suggestion.</div>
<div class="line">[Monday 06 December 2010] [11:29:23] &lt;bobdole369&gt;     OIC ya sockets and the API does seem to be done by the embedded platform - M258 Schneider PLC</div>
<div class="line">[Monday 06 December 2010] [11:35:15] &lt;sustrik&gt;        drbobbeaty: ask steven about what value to actually use</div>
<div class="line">[Monday 06 December 2010] [11:35:35] &lt;sustrik&gt;        i am not an expert on PGM</div>
<div class="line">[Monday 06 December 2010] [11:35:51] &lt;drbobbeaty&gt;     sustrik: Got it... will do.</div>
<div class="line">[Monday 06 December 2010] [11:35:54] &lt;sustrik&gt;        alternatively you may find the definitions in RFC3208</div>
<div class="line">[Monday 06 December 2010] [12:34:26] &lt;bobdole369&gt;     I&#8217;m a fair bit noob, so can I ask what is the advantage that 0MQ holds over OS calls and sockets?</div>
<div class="line">[Monday 06 December 2010] [12:34:57] &lt;mikko&gt;  bobdole369: there are several</div>
<div class="line">[Monday 06 December 2010] [12:35:14] &lt;mikko&gt;  i think personally the biggest advantage is work in terms of messages rather than bytes</div>
<div class="line">[Monday 06 December 2010] [12:35:46] &lt;mikko&gt;  normally when writing a non-blocking server you have the problem of getting EAGAIN back and then reading a bit more bytes and maintaining state of where the protocol boundaries go</div>
<div class="line">[Monday 06 December 2010] [12:36:19] &lt;mikko&gt;  another benefit is being able to switch almost transparently between different transports</div>
<div class="line">[Monday 06 December 2010] [12:36:27] &lt;mikko&gt;  and of course the built-in messaging patterns</div>
<div class="line">[Monday 06 December 2010] [12:36:40] &lt;mikko&gt;  publish-subscribe, request-reply etc</div>
<div class="line">[Monday 06 December 2010] [12:36:50] &lt;bobdole369&gt;     Yes the patterns are mostly what brought me here.</div>
<div class="line">[Monday 06 December 2010] [12:37:36] &lt;mikko&gt;  there are several other benefits as well</div>
<div class="line">[Monday 06 December 2010] [14:10:11] &lt;jhawk28&gt;        sustrik: are you here?</div>
<div class="line">[Monday 06 December 2010] [14:24:25] &lt;delaney&gt;        are there any up to date C# examples?</div>
<div class="line">[Monday 06 December 2010] [14:29:40] &lt;mikko&gt;  delaney: the examples are usually pretty portable</div>
<div class="line">[Monday 06 December 2010] [14:29:52] &lt;mikko&gt;  you should get the hang of C# by looking at here <a class="reference external" href="https://github.com/zeromq/clrzmq2">https://github.com/zeromq/clrzmq2</a></div>
<div class="line">[Monday 06 December 2010] [15:08:22] &lt;sustrik&gt;        jhawk28: hi</div>
<div class="line">[Monday 06 December 2010] [16:36:55] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * rec61751 10/ (src/pub.cpp src/sub.cpp src/xpub.cpp src/xsub.cpp):</div>
<div class="line">[Monday 06 December 2010] [16:36:55] &lt;CIA-20&gt; zeromq2: options.type correctly set for PUB/SUB/XPUB/XSUB</div>
<div class="line">[Monday 06 December 2010] [16:36:55] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/g0JAEI">http://bit.ly/g0JAEI</a></div>
<div class="line">[Monday 06 December 2010] [16:58:28] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r8d6cafe 10/ (10 files):</div>
<div class="line">[Monday 06 December 2010] [16:58:28] &lt;CIA-20&gt; zeromq2: All devices conflated into a single implementation.</div>
<div class="line">[Monday 06 December 2010] [16:58:28] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hbyNJH">http://bit.ly/hbyNJH</a></div>
<div class="line">[Monday 06 December 2010] [17:11:12] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r73bbcb5 10/ builds/msvc/libzmq/libzmq.vcproj :</div>
<div class="line">[Monday 06 December 2010] [17:11:12] &lt;CIA-20&gt; zeromq2: MSVC build fixed</div>
<div class="line">[Monday 06 December 2010] [17:11:12] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/gHkbTx">http://bit.ly/gHkbTx</a></div>
<div class="line">[Tuesday 07 December 2010] [03:08:08] &lt;the_hulk&gt;      hi, for C API&#8217;s on server side, i do not have to fork? it seems to be taken care of?</div>
<div class="line">[Tuesday 07 December 2010] [03:08:46] &lt;Steve-o&gt;       fork to do what?</div>
<div class="line">[Tuesday 07 December 2010] [03:12:13] &lt;the_hulk&gt;      fork to handle multiple clients, as we do with normal sockets fds</div>
<div class="line">[Tuesday 07 December 2010] [03:12:31] &lt;Steve-o&gt;       and thread pooling, etc, ok</div>
<div class="line">[Tuesday 07 December 2010] [03:14:09] &lt;Steve-o&gt;       It&#8217;s covered pretty well in the guide, <a class="reference external" href="http://zguide.zeromq.org/chapter:all">http://zguide.zeromq.org/chapter:all</a></div>
<div class="line">[Tuesday 07 December 2010] [03:19:06] &lt;the_hulk&gt;      ohk</div>
<div class="line">[Tuesday 07 December 2010] [05:10:53] &lt;CIA-20&gt;        zeromq2: 03Martin Lucina 07master * r9bb5323 10/ doc/zmq_socket.txt :</div>
<div class="line">[Tuesday 07 December 2010] [05:10:53] &lt;CIA-20&gt;        zeromq2: Clarify zmq_send() operation for ZMQ_PUB sockets</div>
<div class="line">[Tuesday 07 December 2010] [05:10:53] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/eNDyqm">http://bit.ly/eNDyqm</a></div>
<div class="line">[Tuesday 07 December 2010] [05:16:25] &lt;CIA-20&gt;        zeromq2: 03Mikko Koppanen 07master * raed2eea 10/ (acinclude.m4 configure.in):</div>
<div class="line">[Tuesday 07 December 2010] [05:16:25] &lt;CIA-20&gt;        zeromq2: Fix visibility on rhel4</div>
<div class="line">[Tuesday 07 December 2010] [05:16:25] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/hue9Av">http://bit.ly/hue9Av</a></div>
<div class="line">[Tuesday 07 December 2010] [05:16:27] &lt;CIA-20&gt;        zeromq2: 03Mikko Koppanen 07master * ra335315 10/ acinclude.m4 :</div>
<div class="line">[Tuesday 07 December 2010] [05:16:27] &lt;CIA-20&gt;        zeromq2: Fix werror flag store/restore</div>
<div class="line">[Tuesday 07 December 2010] [05:16:27] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/idiJwf">http://bit.ly/idiJwf</a></div>
<div class="line">[Tuesday 07 December 2010] [05:16:28] &lt;CIA-20&gt;        zeromq2: 03Mikko Koppanen 07master * r1d81d2f 10/ configure.in :</div>
<div class="line">[Tuesday 07 December 2010] [05:16:28] &lt;CIA-20&gt;        zeromq2: tar doesn&#8217;t accept -C flag on solaris while extracting</div>
<div class="line">[Tuesday 07 December 2010] [05:16:28] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/hrR0E7">http://bit.ly/hrR0E7</a></div>
<div class="line">[Tuesday 07 December 2010] [07:04:04] &lt;ptrb&gt;  just to confirm &#8211; no problem making multiple connect() calls on a single ZMQ_SUB socket, right?</div>
<div class="line">[Tuesday 07 December 2010] [07:34:58] &lt;drbobbeaty&gt;    ptrb: correct. You can have multiple connect() calls to one ZMQ_SUB socket.</div>
<div class="line">[Tuesday 07 December 2010] [07:35:37] &lt;drbobbeaty&gt;    In order to &#8220;tear down&#8221; the socket, you have to drop/close the socket. Meaning, you can&#8217;t disconnect() just one of the connections - you have to take them all down.</div>
<div class="line">[Tuesday 07 December 2010] [07:38:08] &lt;Steve-o&gt;       unbind/disconnect was discussed previously:  <a class="reference external" href="http://thread.gmane.org/gmane.network.zeromq.devel/4369">http://thread.gmane.org/gmane.network.zeromq.devel/4369</a></div>
<div class="line">[Tuesday 07 December 2010] [07:47:07] &lt;ptrb&gt;  cool. thanks.</div>
<div class="line">[Tuesday 07 December 2010] [09:43:32] &lt;<a href="#id146"><span class="problematic" id="id147">sustrik_</span></a>&gt;      drbobbeaty: hi</div>
<div class="line">[Tuesday 07 December 2010] [09:43:50] &lt;drbobbeaty&gt;    sustrik: hi... I sent in the patch to the ML.</div>
<div class="line">[Tuesday 07 December 2010] [09:44:15] &lt;<a href="#id148"><span class="problematic" id="id149">sustrik_</span></a>&gt;      yes, just got it</div>
<div class="line">[Tuesday 07 December 2010] [09:44:19] &lt;<a href="#id150"><span class="problematic" id="id151">sustrik_</span></a>&gt;      a minor point</div>
<div class="line">[Tuesday 07 December 2010] [09:44:32] &lt;<a href="#id152"><span class="problematic" id="id153">sustrik_</span></a>&gt;      subscribe to the mailing list</div>
<div class="line">[Tuesday 07 December 2010] [09:44:40] &lt;<a href="#id154"><span class="problematic" id="id155">sustrik_</span></a>&gt;      otherwise the messages are blocked</div>
<div class="line">[Tuesday 07 December 2010] [09:44:46] &lt;<a href="#id156"><span class="problematic" id="id157">sustrik_</span></a>&gt;      and i have to approve them by hand</div>
<div class="line">[Tuesday 07 December 2010] [09:45:00] &lt;<a href="#id158"><span class="problematic" id="id159">sustrik_</span></a>&gt;      if you don&#8217;t want to get the traffic, you can switch that off</div>
<div class="line">[Tuesday 07 December 2010] [09:45:12] &lt;<a href="#id160"><span class="problematic" id="id161">sustrik_</span></a>&gt;      but still be member of the list</div>
<div class="line">[Tuesday 07 December 2010] [09:45:16] &lt;drbobbeaty&gt;    Funny thing, I am subscribed, and I still keep getting blocked. Pieter talked to me about that, and we walked through it together. Very puzzling.</div>
<div class="line">[Tuesday 07 December 2010] [09:45:29] &lt;<a href="#id162"><span class="problematic" id="id163">sustrik_</span></a>&gt;      hm, let me see</div>
<div class="line">[Tuesday 07 December 2010] [09:45:42] &lt;drbobbeaty&gt;    Please do... I&#8217;d love to not bother you guys.</div>
<div class="line">[Tuesday 07 December 2010] [09:46:29] &lt;<a href="#id164"><span class="problematic" id="id165">sustrik_</span></a>&gt;      hm, i don&#8217;t see you in the members list</div>
<div class="line">[Tuesday 07 December 2010] [09:46:42] &lt;<a href="#id166"><span class="problematic" id="id167">sustrik_</span></a>&gt;      any idea what email address you have used to subscribe?</div>
<div class="line">[Tuesday 07 December 2010] [09:46:53] &lt;drbobbeaty&gt;    <a class="reference external" href="mailto:drbob&#37;&#52;&#48;TheManFromSPUD&#46;com">drbob<span>&#64;</span>TheManFromSPUD<span>&#46;</span>com</a></div>
<div class="line">[Tuesday 07 December 2010] [09:47:10] &lt;drbobbeaty&gt;    That&#8217;s what I use to &#8220;maintain&#8221; the ML on it&#8217;s web site.</div>
<div class="line">[Tuesday 07 December 2010] [09:47:11] &lt;<a href="#id168"><span class="problematic" id="id169">sustrik_</span></a>&gt;      aha</div>
<div class="line">[Tuesday 07 December 2010] [09:47:21] &lt;<a href="#id170"><span class="problematic" id="id171">sustrik_</span></a>&gt;      but the emails you send are from a different address</div>
<div class="line">[Tuesday 07 December 2010] [09:47:31] &lt;drbobbeaty&gt;    OH! Duh.</div>
<div class="line">[Tuesday 07 December 2010] [09:47:36] &lt;<a href="#id172"><span class="problematic" id="id173">sustrik_</span></a>&gt;      comcast</div>
<div class="line">[Tuesday 07 December 2010] [09:47:46] &lt;drbobbeaty&gt;    That&#8217;s it... outgoing != incoming. I&#8217;ll change that.</div>
<div class="line">[Tuesday 07 December 2010] [09:47:51] &lt;<a href="#id174"><span class="problematic" id="id175">sustrik_</span></a>&gt;      great</div>
<div class="line">[Tuesday 07 December 2010] [09:47:52] &lt;drbobbeaty&gt;    Thanks for the pointer.</div>
<div class="line">[Tuesday 07 December 2010] [09:48:00] &lt;<a href="#id176"><span class="problematic" id="id177">sustrik_</span></a>&gt;      i&#8217;ll have a look at your patch shortly</div>
<div class="line">[Tuesday 07 December 2010] [09:48:58] &lt;drbobbeaty&gt;    I hope it&#8217;s clean and easy. And adheres to the buidelines.</div>
<div class="line">[Tuesday 07 December 2010] [09:51:05] &lt;<a href="#id178"><span class="problematic" id="id179">sustrik_</span></a>&gt;      one thing i am not sure of: is it possible that someone would want recovery ivl of zero?</div>
<div class="line">[Tuesday 07 December 2010] [09:51:21] &lt;<a href="#id180"><span class="problematic" id="id181">sustrik_</span></a>&gt;      unreliable multicast...</div>
<div class="line">[Tuesday 07 December 2010] [09:51:32] &lt;<a href="#id182"><span class="problematic" id="id183">sustrik_</span></a>&gt;      i am not even sure it&#8217;s possible with OpenPGM</div>
<div class="line">[Tuesday 07 December 2010] [09:51:57] &lt;<a href="#id184"><span class="problematic" id="id185">sustrik_</span></a>&gt;      if so, the default should be -1 rather than 0</div>
<div class="line">[Tuesday 07 December 2010] [09:52:16] &lt;<a href="#id186"><span class="problematic" id="id187">sustrik_</span></a>&gt;      let me ask steven</div>
<div class="line">[Tuesday 07 December 2010] [10:17:32] &lt;<a href="#id188"><span class="problematic" id="id189">toni_</span></a>&gt; hi there. I am using a REQ socket doing socket.recv(zmq.NOBLOCK), but I am getting a &#8220;ZMQError: Resource temporarily unavailable&#8221; (using the python binding). As I saw in the docs for recv and zmq.NONBLOCK, there is this little sentence:&#8221;If there are no messages available on the specified socket, the zmq_recv() function shall fail with errno set to EAGAIN.&#8221; I dont really understand. So the NOBLOCK option raises an error in case no messag</div>
<div class="line">[Tuesday 07 December 2010] [10:20:32] &lt;cremes&gt;        <a href="#id190"><span class="problematic" id="id191">toni_</span></a>: you see that &#8220;resource unavailable&#8221; message when your REQ socket is <em>not</em> connected to any REP (or XREP) sockets</div>
<div class="line">[Tuesday 07 December 2010] [10:20:46] &lt;cremes&gt;        make sure you have a z-endpoint</div>
<div class="line">[Tuesday 07 December 2010] [10:21:01] &lt;cremes&gt;        with an active socket attached to it</div>
<div class="line">[Tuesday 07 December 2010] [10:21:53] &lt;<a href="#id192"><span class="problematic" id="id193">toni_</span></a>&gt; cremes: but it should as it all works fine since I dont specify the NOBLOCk option &#64; recv()</div>
<div class="line">[Tuesday 07 December 2010] [10:22:32] &lt;<a href="#id194"><span class="problematic" id="id195">toni_</span></a>&gt; maybe its not connected yet?</div>
<div class="line">[Tuesday 07 December 2010] [10:28:37] &lt;Guthur&gt;        Should the timeout work with subscriber nodes?</div>
<div class="line">[Tuesday 07 December 2010] [10:28:43] &lt;Guthur&gt;        with polling</div>
<div class="line">[Tuesday 07 December 2010] [10:29:13] &lt;Guthur&gt;        It works fine if I set -1, but seems to not pickup messages when a timeout value is set</div>
<div class="line">[Tuesday 07 December 2010] [10:31:40] &lt;<a href="#id196"><span class="problematic" id="id197">toni_</span></a>&gt; cremes: okay, very strange.... the error disapears when I dont do zmq.NOBLOCK in s.recv(). When I specify the option, the error is raised. But why? The socket should be connected, as the error is not raised when no block is not specified</div>
<div class="line">[Tuesday 07 December 2010] [10:43:50] &lt;cremes&gt;        <a href="#id198"><span class="problematic" id="id199">toni_</span></a>: interesting... it&#8217;s funny but i <em>only</em> ever do noblock send/recv so i don&#8217;t understand what is happening in the blocking scenario</div>
<div class="line">[Tuesday 07 December 2010] [10:44:02] &lt;cremes&gt;        are you <em>certain</em> that the other socket has connected?</div>
<div class="line">[Tuesday 07 December 2010] [10:44:55] &lt;<a href="#id200"><span class="problematic" id="id201">toni_</span></a>&gt; cremes: yes I am really certain. But I found the solution describes here <a class="reference external" href="https://github.com/zeromq/pyzmq/issues/36#issue/36">https://github.com/zeromq/pyzmq/issues/36#issue/36</a></div>
<div class="line">[Tuesday 07 December 2010] [10:47:57] &lt;cremes&gt;        <a href="#id202"><span class="problematic" id="id203">toni_</span></a>: hmmm, ok</div>
<div class="line">[Tuesday 07 December 2010] [11:23:22] &lt;mikko&gt; mato: looks like solaris10 is still not happy</div>
<div class="line">[Tuesday 07 December 2010] [11:24:21] &lt;mato&gt;  mikko: it used to be, has your visibility change broken something?</div>
<div class="line">[Tuesday 07 December 2010] [11:24:36] &lt;mikko&gt; mato: <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master-SunStudio-solaris10/21/console">http://build.valokuva.org/job/ZeroMQ2-core-master-SunStudio-solaris10/21/console</a></div>
<div class="line">[Tuesday 07 December 2010] [11:24:41] &lt;mikko&gt; when building &#8211;with-pgm</div>
<div class="line">[Tuesday 07 December 2010] [11:25:07] &lt;mato&gt;  mikko: ah, ok, i&#8217;ll look at it later, in the middle of dissecting the linux network stack with sustrik right now</div>
<div class="line">[Tuesday 07 December 2010] [11:25:45] &lt;mikko&gt; tries to include &lt;sys/epoll.h&gt;</div>
<div class="line">[Tuesday 07 December 2010] [11:26:27] &lt;mato&gt;  i guess openpgm in zmq has not been ported to solaris properly then</div>
<div class="line">[Tuesday 07 December 2010] [11:28:50] &lt;mikko&gt; will look into it tonight</div>
<div class="line">[Tuesday 07 December 2010] [12:27:21] &lt;mikko&gt; pfffff</div>
<div class="line">[Tuesday 07 December 2010] [13:04:29] &lt;<a href="#id204"><span class="problematic" id="id205">toni_</span></a>&gt; I am using  the python binding, having a REQ socket connected to a XREP socket. When I try to send from the REQ socket I get &#8220;zmq.core.error.ZMQError: Operation cannot be accomplished in current state&#8221;. Any ideas?</div>
<div class="line">[Tuesday 07 December 2010] [13:06:33] &lt;cremes&gt;        <a href="#id206"><span class="problematic" id="id207">toni_</span></a>: yes, req/rep sockets enforce a strict 1 send / 1 recv model; trying to do 2 sends or 2 recvs in a row generates a state machine error</div>
<div class="line">[Tuesday 07 December 2010] [13:06:46] &lt;cremes&gt;        look at the docs for req/rep</div>
<div class="line">[Tuesday 07 December 2010] [13:12:42] &lt;drbobbeaty&gt;    sustrik: my patch has a problem with it... I need to send you an additional change for using sequence numbers with OpenPGM. My mistake. Sorry.</div>
<div class="line">[Tuesday 07 December 2010] [13:12:54] &lt;<a href="#id208"><span class="problematic" id="id209">toni_</span></a>&gt; cremes: Thanks, thats the code snippet: <a class="reference external" href="https://gist.github.com/732161">https://gist.github.com/732161</a> the &#8220;aaaa&#8221;. See the link for the traceback</div>
<div class="line">[Tuesday 07 December 2010] [13:13:27] &lt;drbobbeaty&gt;    sustrik: maybe it&#8217;s not a problem... I&#8217;ll send the details to the mailing list and you can decide.</div>
<div class="line">[Tuesday 07 December 2010] [13:13:56] &lt;cremes&gt;        <a href="#id210"><span class="problematic" id="id211">toni_</span></a>: your problem is at line 40</div>
<div class="line">[Tuesday 07 December 2010] [13:14:06] &lt;cremes&gt;        you need a recv in that block</div>
<div class="line">[Tuesday 07 December 2010] [13:14:12] &lt;cremes&gt;        again, read the docs on req/rep</div>
<div class="line">[Tuesday 07 December 2010] [13:14:20] &lt;cremes&gt;        you must do alternating send/recv with each one</div>
<div class="line">[Tuesday 07 December 2010] [13:14:37] &lt;cremes&gt;        you <em>cannot</em> just send with either socket; there must always be a matching recv</div>
<div class="line">[Tuesday 07 December 2010] [13:14:51] &lt;cremes&gt;        the pattern is request/reply, not request/request/request/request/reply</div>
<div class="line">[Tuesday 07 December 2010] [13:14:53] &lt;cremes&gt;        :)</div>
<div class="line">[Tuesday 07 December 2010] [13:19:58] &lt;<a href="#id212"><span class="problematic" id="id213">toni_</span></a>&gt; cremes: thanks</div>
<div class="line">[Tuesday 07 December 2010] [13:20:38] &lt;cremes&gt;        <a href="#id214"><span class="problematic" id="id215">toni_</span></a>: you are welcome... be sure to check out the guide on the web site; it covers that topic</div>
<div class="line">[Tuesday 07 December 2010] [13:21:29] &lt;cremes&gt;        andrewvc: planning to do another ffi-rzmq and zmqmachine release after 2.1 is out of beta</div>
<div class="line">[Tuesday 07 December 2010] [13:21:41] &lt;andrewvc&gt;      nice!</div>
<div class="line">[Tuesday 07 December 2010] [13:21:43] &lt;cremes&gt;        if you have anything you&#8217;d like to be in there, that&#8217;s our deadline ;)</div>
<div class="line">[Tuesday 07 December 2010] [13:22:03] &lt;<a href="#id216"><span class="problematic" id="id217">toni_</span></a>&gt; cremes: I already read it, I also constructed the very last example in python. I just had some truble with the NOBLOCK option and tried to debug from scretch. Maybe its enough for today, after 10 hours of coding :-)</div>
<div class="line">[Tuesday 07 December 2010] [13:22:03] &lt;andrewvc&gt;      well, I was hoping to hack on it sometime soon, but I&#8217;m moving this weekend</div>
<div class="line">[Tuesday 07 December 2010] [13:22:15] &lt;andrewvc&gt;      I&#8217;ve had about zero free time the last couple weeks</div>
<div class="line">[Tuesday 07 December 2010] [13:22:25] &lt;andrewvc&gt;      unfortunately</div>
<div class="line">[Tuesday 07 December 2010] [13:22:38] &lt;cremes&gt;        <a href="#id218"><span class="problematic" id="id219">toni_</span></a>: np; we&#8217;ll be here in channel next time you need help... take a break</div>
<div class="line">[Tuesday 07 December 2010] [13:22:51] &lt;cremes&gt;        andrewvc: yeah, real life is constantly getting in the way!</div>
<div class="line">[Tuesday 07 December 2010] [13:23:05] &lt;andrewvc&gt;      lol, so true</div>
<div class="line">[Tuesday 07 December 2010] [13:23:25] &lt;andrewvc&gt;      i&#8217;m actually going to la.rb hack night tonight, was hoping to get a little EM work there</div>
<div class="line">[Tuesday 07 December 2010] [13:23:45] &lt;cremes&gt;        cool... see if you can&#8217;t recruit a few more 0mq hackers</div>
<div class="line">[Tuesday 07 December 2010] [13:24:06] &lt;andrewvc&gt;      hehe, I&#8217;m trying it&#8217;s so fun to play with.</div>
<div class="line">[Tuesday 07 December 2010] [13:24:23] &lt;andrewvc&gt;      evanphx is usually there btw, I know you worked pretty closely with him on some ffi bugs right?</div>
<div class="line">[Tuesday 07 December 2010] [13:25:21] &lt;cremes&gt;        andrewvc: yeah, i did; the api drift between the rbx ffi support and the ffi gem caused him a lot of grief</div>
<div class="line">[Tuesday 07 December 2010] [13:25:35] &lt;cremes&gt;        he was pretty upset about <em>many</em> of the additions</div>
<div class="line">[Tuesday 07 December 2010] [13:25:51] &lt;andrewvc&gt;      hehe, yeah we had a similar conversation</div>
<div class="line">[Tuesday 07 December 2010] [13:25:55] &lt;cremes&gt;        i use 0mq with rbx daily; it&#8217;s the best way to profile and debug my code these days</div>
<div class="line">[Tuesday 07 December 2010] [13:26:04] &lt;andrewvc&gt;      agreed, best stack trace for issues</div>
<div class="line">[Tuesday 07 December 2010] [13:26:13] &lt;cremes&gt;        yep, that too</div>
<div class="line">[Tuesday 07 December 2010] [13:26:26] &lt;cremes&gt;        it&#8217;s quickly becoming my ruby of choice</div>
<div class="line">[Tuesday 07 December 2010] [13:26:38] &lt;andrewvc&gt;      I&#8217;ve wanted to test my employers code on rbx, but hpricot&#8217;s sitting in the way</div>
<div class="line">[Tuesday 07 December 2010] [13:26:39] &lt;cremes&gt;        as soon as it gets windows support i&#8217;ll use it there too</div>
<div class="line">[Tuesday 07 December 2010] [13:26:50] &lt;cremes&gt;        C extension issues?</div>
<div class="line">[Tuesday 07 December 2010] [13:27:08] &lt;andrewvc&gt;      yep, and I think it&#8217;s one that no one&#8217;s planning on fixing</div>
<div class="line">[Tuesday 07 December 2010] [13:27:24] &lt;cremes&gt;        direct RHASH access or something nutty?</div>
<div class="line">[Tuesday 07 December 2010] [13:28:48] &lt;andrewvc&gt;      oh, well look what google turned up <a class="reference external" href="https://github.com/rubinius/hpricot">https://github.com/rubinius/hpricot</a></div>
<div class="line">[Tuesday 07 December 2010] [13:28:57] &lt;andrewvc&gt;      someone did fix it lol</div>
<div class="line">[Tuesday 07 December 2010] [13:29:02] &lt;cremes&gt;        ha!</div>
<div class="line">[Tuesday 07 December 2010] [13:29:11] &lt;cremes&gt;        no more excuses, andrewvc !</div>
<div class="line">[Tuesday 07 December 2010] [13:29:14] &lt;andrewvc&gt;      hehe</div>
<div class="line">[Tuesday 07 December 2010] [13:29:32] &lt;andrewvc&gt;      nope, well, one more, engineyard doesn&#8217;t officially support rbx, but that&#8217;s a minor hurdle</div>
<div class="line">[Tuesday 07 December 2010] [13:29:47] &lt;cremes&gt;        really? well, that&#8217;s got to change sometime soon</div>
<div class="line">[Tuesday 07 December 2010] [13:29:54] &lt;cremes&gt;        it&#8217;s all ey guys working on it!</div>
<div class="line">[Tuesday 07 December 2010] [13:29:59] &lt;andrewvc&gt;      yeah, weird eh?</div>
<div class="line">[Tuesday 07 December 2010] [13:30:19] &lt;cremes&gt;        oh, i know why... they are having trouble creating an ebuild recipe for it under gentoo</div>
<div class="line">[Tuesday 07 December 2010] [13:30:29] &lt;andrewvc&gt;      the default choices are only 1.8.7, REE and 1.8.6</div>
<div class="line">[Tuesday 07 December 2010] [13:30:29] &lt;cremes&gt;        i saw whyaines chatting about it with evan recently</div>
<div class="line">[Tuesday 07 December 2010] [13:30:40] &lt;cremes&gt;        no jruby even?</div>
<div class="line">[Tuesday 07 December 2010] [13:30:44] &lt;andrewvc&gt;      no</div>
<div class="line">[Tuesday 07 December 2010] [13:30:45] &lt;cremes&gt;        now i&#8217;m shocked</div>
<div class="line">[Tuesday 07 December 2010] [13:30:55] &lt;andrewvc&gt;      but the reality of EY is that everyone uses chef and customizes everything</div>
<div class="line">[Tuesday 07 December 2010] [13:31:07] &lt;andrewvc&gt;      EY is more a starting point than a destination</div>
<div class="line">[Tuesday 07 December 2010] [13:31:12] &lt;cremes&gt;        hmmmmm</div>
<div class="line">[Tuesday 07 December 2010] [13:31:20] &lt;andrewvc&gt;      not like heroku at all, we have so many changes to the stack</div>
<div class="line">[Tuesday 07 December 2010] [14:11:23] &lt;raspi&gt; where i could find config examples for zmq_(queue|forwarder|streamer). manual gives only TBA.</div>
<div class="line">[Tuesday 07 December 2010] [14:50:40] &lt;mikko&gt; raspi: i think in the code at the moment</div>
<div class="line">[Tuesday 07 December 2010] [14:50:50] &lt;mikko&gt; raspi: i don&#8217;t think there are written examples anywhere</div>
<div class="line">[Tuesday 07 December 2010] [14:51:10] &lt;raspi&gt; ok :)</div>
<div class="line">[Tuesday 07 December 2010] [14:51:32] &lt;mikko&gt; if you look at devices/zmq_queue/ in the source</div>
<div class="line">[Tuesday 07 December 2010] [14:51:41] &lt;mikko&gt; the schema should be fairly easy to deduct from the code</div>
<div class="line">[Tuesday 07 December 2010] [15:58:54] &lt;<a href="#id220"><span class="problematic" id="id221">toni_</span></a>&gt; I have a REQ client connected to 2 XREP server. When one server dies, the socket.recv() on the client blocks for ever. The other server is still available, but doesnt get any requests. How can I prevent this starvation?</div>
<div class="line">[Tuesday 07 December 2010] [15:59:47] &lt;<a href="#id222"><span class="problematic" id="id223">toni_</span></a>&gt; I also tried to use a nonblocking XREQ socket on the client and ran in the same issue</div>
<div class="line">[Tuesday 07 December 2010] [16:04:38] &lt;mikko&gt; it blocks even if you pass ZMQ_NOBLOCK?</div>
<div class="line">[Tuesday 07 December 2010] [16:06:15] &lt;<a href="#id224"><span class="problematic" id="id225">toni_</span></a>&gt; I thought the XREQ socket would be nonblocking?</div>
<div class="line">[Tuesday 07 December 2010] [16:07:34] &lt;mikko&gt; it has unrestricted send/receive pattern but it&#8217;s no non-blocking by default as far as i know</div>
<div class="line">[Tuesday 07 December 2010] [16:07:59] &lt;mikko&gt; have you tried passing ZMQ_NOBLOCK to recv and checking for EAGAIN ?</div>
<div class="line">[Tuesday 07 December 2010] [16:09:04] &lt;mikko&gt; you can also look at zmq_poll</div>
<div class="line">[Tuesday 07 December 2010] [16:09:23] &lt;<a href="#id226"><span class="problematic" id="id227">toni_</span></a>&gt; mikko yes I did. I found the snippet at the pyzmq issues</div>
<div class="line">[Tuesday 07 December 2010] [16:11:20] &lt;<a href="#id228"><span class="problematic" id="id229">toni_</span></a>&gt; mikko: thanks, I think I found my bug</div>
<div class="line">[Tuesday 07 December 2010] [16:12:02] &lt;mikko&gt; np</div>
<div class="line">[Tuesday 07 December 2010] [22:25:09] &lt;PeterTork&gt;     Hello. I have a rather odd model that I want to build in 0MQ and was looking for some advice there. We have web servers running presentation code, and they are being designed to talk to a one or more processes (which we are jokingly calling the MCP) that will do various validation tests on the RPC calls they are making before handing them to another layer of servers that will handle actually doing stuff. We would like to h</div>
<div class="line">[Tuesday 07 December 2010] [22:38:35] &lt;Steve-o&gt;       like to h...?</div>
<div class="line">[Tuesday 07 December 2010] [22:39:08] &lt;Steve-o&gt;       Are you looking from Mongrel2?  <a class="reference external" href="http://mongrel2.org/home">http://mongrel2.org/home</a></div>
<div class="line">[Tuesday 07 December 2010] [22:46:52] &lt;Steve-o&gt;       PeterTork: IRC limits line length, try the mailing list if you want to post a longer question</div>
<div class="line">[Tuesday 07 December 2010] [22:54:26] &lt;bsiemon&gt;       hello all, A quick question about an example from the guide. In examples/C/lruqueue.c. If one removes the id assignment from the client threads, the clients see to no longer receive messages.</div>
<div class="line">[Tuesday 07 December 2010] [22:54:50] &lt;bsiemon&gt;       on os x, zmq build 2.0.10</div>
<div class="line">[Tuesday 07 December 2010] [22:56:46] &lt;bsiemon&gt;       it seems to only happen if the client is running within its own process rather than in a thread with the other example code</div>
<div class="line">[Tuesday 07 December 2010] [23:04:38] &lt;Steve-o&gt;       bsiemon: does this also occur with 2.1, or could it be a permission problem with the unix socket endpoint?</div>
<div class="line">[Tuesday 07 December 2010] [23:04:54] &lt;bsiemon&gt;       it did also occur in 2.1</div>
<div class="line">[Tuesday 07 December 2010] [23:05:00] &lt;bsiemon&gt;       but I think I am just being dumb</div>
<div class="line">[Tuesday 07 December 2010] [23:05:10] &lt;bsiemon&gt;       sorry to bother you</div>
<div class="line">[Tuesday 07 December 2010] [23:06:19] &lt;Steve-o&gt;       from what I can see from the source code I would move the endpoints to /tmp</div>
<div class="line">[Tuesday 07 December 2010] [23:06:47] &lt;Steve-o&gt;       it doesn&#8217;t look like the code will work out of the box</div>
<div class="line">[Tuesday 07 December 2010] [23:09:17] &lt;bsiemon&gt;       Steve-o: I see</div>
<div class="line">[Tuesday 07 December 2010] [23:09:29] &lt;bsiemon&gt;       Steve-o: Thanks</div>
<div class="line">[Tuesday 07 December 2010] [23:09:34] &lt;Steve-o&gt;       look at zmq_ipc for example usage, <a class="reference external" href="http://api.zeromq.org/zmq_ipc.html">http://api.zeromq.org/zmq_ipc.html</a></div>
<div class="line">[Tuesday 07 December 2010] [23:13:02] &lt;Steve-o&gt;       well try a different path, the example path should be the current directory</div>
<div class="line">[Tuesday 07 December 2010] [23:13:41] &lt;Steve-o&gt;       so you should see a frontend.ipc and backend.ipc file in the directory listing,</div>
<div class="line">[Tuesday 07 December 2010] [23:14:26] &lt;bsiemon&gt;       yes I see that now</div>
<div class="line">[Tuesday 07 December 2010] [23:15:05] &lt;Steve-o&gt;       You might have issues with multiple users, discussion can be found on the list:  <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg03151.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg03151.html</a></div>
<div class="line">[Tuesday 07 December 2010] [23:16:34] &lt;bsiemon&gt;       Steve-o: If I put the call to s_set_id back into the client code</div>
<div class="line">[Tuesday 07 December 2010] [23:16:45] &lt;bsiemon&gt;       Steve-o: It works with out a hitch</div>
<div class="line">[Tuesday 07 December 2010] [23:17:22] &lt;Steve-o&gt;       oh ok</div>
<div class="line">[Tuesday 07 December 2010] [23:18:09] &lt;bsiemon&gt;       Is there anything special to with uuid generation on os x?</div>
<div class="line">[Tuesday 07 December 2010] [23:18:34] &lt;bsiemon&gt;       from what I have read the lib call seem to be different from os x to linux</div>
<div class="line">[Tuesday 07 December 2010] [23:19:10] &lt;bsiemon&gt;       I am sure I will slog through it, thanks for the help!</div>
<div class="line">[Tuesday 07 December 2010] [23:21:45] &lt;Steve-o&gt;       bsiemon: pass, some Linux versions have another library with the same name</div>
<div class="line">[Tuesday 07 December 2010] [23:22:48] &lt;Steve-o&gt;       it does look the same from the documentation, <a class="reference external" href="http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man3/uuid.3.html">http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man3/uuid.3.html</a></div>
<div class="line">[Tuesday 07 December 2010] [23:42:15] &lt;Steve-o&gt;       lol, the lruqueue example aborts on Linux</div>
<div class="line">[Wednesday 08 December 2010] [03:38:19] &lt;zedas&gt;       sustrik: looks like debian included mongrel2, but included the old 2.0.6 version before the api change for zmq_init</div>
<div class="line">[Wednesday 08 December 2010] [03:39:16] &lt;sustrik&gt;     hm</div>
<div class="line">[Wednesday 08 December 2010] [03:39:22] &lt;sustrik&gt;     0mq is in debian-unstable</div>
<div class="line">[Wednesday 08 December 2010] [03:40:32] &lt;sustrik&gt;     we deliberately haven&#8217;t pushed it to the stable as we weren&#8217;t 100% sure about the API by then</div>
<div class="line">[Wednesday 08 December 2010] [03:47:14] &lt;Guthur&gt;      circa my question yesterday, can anyone confirm that poll timeouts are working with sub nodes</div>
<div class="line">[Wednesday 08 December 2010] [03:50:30] &lt;sustrik&gt;     Guthur: are they not?</div>
<div class="line">[Wednesday 08 December 2010] [03:51:11] &lt;Guthur&gt;      does seem to be working for me, the code works fine when I set -1</div>
<div class="line">[Wednesday 08 December 2010] [03:51:17] &lt;Guthur&gt;      dose/doesn&#8217;t</div>
<div class="line">[Wednesday 08 December 2010] [03:51:47] &lt;Guthur&gt;      but if I actually set a timeout it seems to timeout quickly and I receive nothing</div>
<div class="line">[Wednesday 08 December 2010] [03:56:56] &lt;sustrik&gt;     what version are you using?</div>
<div class="line">[Wednesday 08 December 2010] [04:00:26] &lt;Guthur&gt;      2.0.10</div>
<div class="line">[Wednesday 08 December 2010] [04:00:41] &lt;sustrik&gt;     ah, that&#8217;s a documented behaviour</div>
<div class="line">[Wednesday 08 December 2010] [04:00:43] &lt;Guthur&gt;      sustrik: ^</div>
<div class="line">[Wednesday 08 December 2010] [04:00:51] &lt;Guthur&gt;      oh you seen, sorry</div>
<div class="line">[Wednesday 08 December 2010] [04:00:57] &lt;sustrik&gt;     zmq_poll waits for &#8220;up to&#8221; microseconds</div>
<div class="line">[Wednesday 08 December 2010] [04:01:05] &lt;Guthur&gt;      Yeah I seen the upto</div>
<div class="line">[Wednesday 08 December 2010] [04:01:15] &lt;sustrik&gt;     anyway, this have been changed in 2.1</div>
<div class="line">[Wednesday 08 December 2010] [04:01:15] &lt;Guthur&gt;      but it&#8217;s not actually &#8216;working&#8217; in any sense</div>
<div class="line">[Wednesday 08 December 2010] [04:01:30] &lt;sustrik&gt;     it honours timeouts precisely</div>
<div class="line">[Wednesday 08 December 2010] [04:01:52] &lt;sustrik&gt;     is there a bug?</div>
<div class="line">[Wednesday 08 December 2010] [04:01:55] &lt;Guthur&gt;      ok, but surely as it stands in 2.0.10 its pretty much broke</div>
<div class="line">[Wednesday 08 December 2010] [04:02:05] &lt;sustrik&gt;     what&#8217;s the problem?</div>
<div class="line">[Wednesday 08 December 2010] [04:02:36] &lt;Guthur&gt;      Well it timeout so quick that I don&#8217;t receive anything</div>
<div class="line">[Wednesday 08 December 2010] [04:02:45] &lt;Guthur&gt;      and this isn&#8217;t exactly a slow connection</div>
<div class="line">[Wednesday 08 December 2010] [04:03:03] &lt;Guthur&gt;      It&#8217;s local TCP</div>
<div class="line">[Wednesday 08 December 2010] [04:03:03] &lt;sustrik&gt;     well, it&#8217;s documented behaviour</div>
<div class="line">[Wednesday 08 December 2010] [04:03:12] &lt;sustrik&gt;     you have to restart the poll in such case</div>
<div class="line">[Wednesday 08 December 2010] [04:03:17] &lt;sustrik&gt;     or switch to 2.1 :)</div>
<div class="line">[Wednesday 08 December 2010] [04:03:40] &lt;Guthur&gt;      hehe, ok</div>
<div class="line">[Wednesday 08 December 2010] [04:03:43] &lt;sustrik&gt;     actually, it&#8217;s a performance issue</div>
<div class="line">[Wednesday 08 December 2010] [04:04:06] &lt;sustrik&gt;     the poll that can exit prematurely is faster than the one honouring the timeout</div>
<div class="line">[Wednesday 08 December 2010] [04:04:20] &lt;sustrik&gt;     what we&#8217;ve done in 2.1 was adding ZMQ_FD</div>
<div class="line">[Wednesday 08 December 2010] [04:04:31] &lt;Guthur&gt;      so I suppose in 2.0.10 what one would have to do is engineer some honourable timeout mechanism on top</div>
<div class="line">[Wednesday 08 December 2010] [04:04:47] &lt;sustrik&gt;     which allows you to poll and handle timeouts yourself</div>
<div class="line">[Wednesday 08 December 2010] [04:04:50] &lt;sustrik&gt;     efficiently</div>
<div class="line">[Wednesday 08 December 2010] [04:05:01] &lt;sustrik&gt;     zmq_poll is less efficient but honours timeouts</div>
<div class="line">[Wednesday 08 December 2010] [04:05:07] &lt;Guthur&gt;      so really it&#8217;s just a non blocking poll</div>
<div class="line">[Wednesday 08 December 2010] [04:05:10] &lt;Guthur&gt;      essentially</div>
<div class="line">[Wednesday 08 December 2010] [04:05:27] &lt;Guthur&gt;      the 2.0.10 version that is</div>
<div class="line">[Wednesday 08 December 2010] [04:05:35] &lt;sustrik&gt;     Guthur: it blocks</div>
<div class="line">[Wednesday 08 December 2010] [04:05:39] &lt;sustrik&gt;     but can exit at times</div>
<div class="line">[Wednesday 08 December 2010] [04:05:54] &lt;sustrik&gt;     basically, it exits when &#8220;something happens&#8221;</div>
<div class="line">[Wednesday 08 December 2010] [04:06:03] &lt;sustrik&gt;     say a new connection is established or somesuch</div>
<div class="line">[Wednesday 08 December 2010] [04:06:15] &lt;Guthur&gt;      my behaviour is that it timeouts in approximately less than a second</div>
<div class="line">[Wednesday 08 December 2010] [04:06:20] &lt;Guthur&gt;      no matter what I set</div>
<div class="line">[Wednesday 08 December 2010] [04:06:42] &lt;sustrik&gt;     possibly the connection being established</div>
<div class="line">[Wednesday 08 December 2010] [04:06:57] &lt;Guthur&gt;      I&#8217;ll try 2.1</div>
<div class="line">[Wednesday 08 December 2010] [04:07:02] &lt;sustrik&gt;     ok</div>
<div class="line">[Wednesday 08 December 2010] [04:07:42] &lt;Guthur&gt;      my only worry with 2.1 is that it is not yet very mature</div>
<div class="line">[Wednesday 08 December 2010] [04:07:57] &lt;Guthur&gt;      i.e. there has been very little room for feedback</div>
<div class="line">[Wednesday 08 December 2010] [04:09:32] &lt;sustrik&gt;     it&#8217;s up to you</div>
<div class="line">[Wednesday 08 December 2010] [04:09:43] &lt;sustrik&gt;     in 2.0 you can simply add a wrapper function on top of zmq_poll</div>
<div class="line">[Wednesday 08 December 2010] [04:09:55] &lt;sustrik&gt;     that would check for whether the timout was reached</div>
<div class="line">[Wednesday 08 December 2010] [04:10:02] &lt;sustrik&gt;     and restart the poll if it was not</div>
<div class="line">[Wednesday 08 December 2010] [04:10:13] &lt;Guthur&gt;      it depends on how soon we roll out to our app</div>
<div class="line">[Wednesday 08 December 2010] [04:10:48] &lt;Guthur&gt;      our rollout certainly wont be until some time in 2011 so it might be ok</div>
<div class="line">[Wednesday 08 December 2010] [04:11:08] &lt;sustrik&gt;     that&#8217;s three weeks :)</div>
<div class="line">[Wednesday 08 December 2010] [04:11:19] &lt;sustrik&gt;     anyway, even the wrapper function is viable</div>
<div class="line">[Wednesday 08 December 2010] [04:11:25] &lt;sustrik&gt;     it&#8217;s 10 lines of code</div>
<div class="line">[Wednesday 08 December 2010] [04:13:02] &lt;Guthur&gt;      hehe, I suppose writing a wrapper will give me some coding to do this morning</div>
<div class="line">[Wednesday 08 December 2010] [04:14:10] &lt;sustrik&gt;     now = gettimeofday ();</div>
<div class="line">[Wednesday 08 December 2010] [04:14:18] &lt;sustrik&gt;     while (true) {</div>
<div class="line">[Wednesday 08 December 2010] [04:14:32] &lt;sustrik&gt;         events = zmq_poll ();</div>
<div class="line">[Wednesday 08 December 2010] [04:14:57] &lt;sustrik&gt;         if (!events &amp;&amp; now + timeout &gt; gettimeofday ())</div>
<div class="line">[Wednesday 08 December 2010] [04:15:03] &lt;sustrik&gt;           continue;</div>
<div class="line">[Wednesday 08 December 2010] [04:15:06] &lt;sustrik&gt;        break;</div>
<div class="line">[Wednesday 08 December 2010] [04:15:06] &lt;sustrik&gt;     }</div>
<div class="line">[Wednesday 08 December 2010] [04:15:10] &lt;sustrik&gt;     that&#8217;s it</div>
<div class="line">[Wednesday 08 December 2010] [04:15:40] &lt;Guthur&gt;      man you just sucked the fun out of it, hehe</div>
<div class="line">[Wednesday 08 December 2010] [04:15:51] &lt;sustrik&gt;     oooooopw</div>
<div class="line">[Wednesday 08 December 2010] [04:15:54] &lt;sustrik&gt;     oops</div>
<div class="line">[Wednesday 08 December 2010] [04:20:02] &lt;Guthur&gt;      ah that&#8217;s better</div>
<div class="line">[Wednesday 08 December 2010] [04:20:17] &lt;Guthur&gt;      three lines of C# code</div>
<div class="line">[Wednesday 08 December 2010] [04:20:31] &lt;sustrik&gt;     !</div>
<div class="line">[Wednesday 08 December 2010] [04:21:07] &lt;Guthur&gt;      Stopwatch timer = new Stopwatch();             timer.Start();             while (timer.ElapsedMilliseconds &lt; timeout &amp;&amp; ctx.Poll(items, timeout) == 0);</div>
<div class="line">[Wednesday 08 December 2010] [04:21:16] &lt;Guthur&gt;      oh it did do new lines</div>
<div class="line">[Wednesday 08 December 2010] [04:21:19] &lt;Guthur&gt;      sorry about hat</div>
<div class="line">[Wednesday 08 December 2010] [04:21:22] &lt;Guthur&gt;      that</div>
<div class="line">[Wednesday 08 December 2010] [04:21:28] &lt;Guthur&gt;      didn&#8217;t</div>
<div class="line">[Wednesday 08 December 2010] [04:21:30] &lt;sustrik&gt;     np</div>
<div class="line">[Wednesday 08 December 2010] [04:21:33] &lt;sustrik&gt;     i see it</div>
<div class="line">[Wednesday 08 December 2010] [04:21:51] &lt;sustrik&gt;     yes, that&#8217;s was the idea with 2.0.x</div>
<div class="line">[Wednesday 08 December 2010] [04:21:58] &lt;sustrik&gt;     the performace issue i&#8217;ve mentioned before is the need to measure time at the beginning of the function</div>
<div class="line">[Wednesday 08 December 2010] [04:22:19] &lt;sustrik&gt;     if you don&#8217;t care about honouring timeouts precisely you can avoid that overhead</div>
<div class="line">[Wednesday 08 December 2010] [04:23:12] &lt;Guthur&gt;      no problem, I had read the non-honouring part, I should have heeded it more</div>
<div class="line">[Wednesday 08 December 2010] [04:24:32] &lt;Guthur&gt;      I kind of assumed it was more precision thing and that it would just be out by a few micros</div>
<div class="line">[Wednesday 08 December 2010] [04:24:36] &lt;Guthur&gt;      damn assumptions</div>
<div class="line">[Wednesday 08 December 2010] [04:26:57] &lt;Guthur&gt;      cheers for clearing that up sustrik</div>
<div class="line">[Wednesday 08 December 2010] [04:27:15] &lt;sustrik&gt;     you are welcome</div>
<div class="line">[Wednesday 08 December 2010] [04:32:13] &lt;Guthur&gt;      minor bug in mine there, I assumed milliseconds</div>
<div class="line">[Wednesday 08 December 2010] [04:32:36] &lt;Guthur&gt;      small change just, microsecond is really high res</div>
<div class="line">[Wednesday 08 December 2010] [12:41:38] &lt;mikko&gt;       howdy</div>
<div class="line">[Wednesday 08 December 2010] [12:58:32] &lt;<a href="#id230"><span class="problematic" id="id231">jhawk28_</span></a>&gt;    sustrik: has the zmq team thought about providing a durable pub/sub socket?</div>
<div class="line">[Wednesday 08 December 2010] [12:59:04] &lt;seb`&gt;        <a href="#id232"><span class="problematic" id="id233">jhawk28_</span></a>: durable? with disk sync?</div>
<div class="line">[Wednesday 08 December 2010] [13:00:22] &lt;<a href="#id234"><span class="problematic" id="id235">jhawk28_</span></a>&gt;    durable - req/rep for requesting off queue. Fully persistent on disc for when publisher goes down</div>
<div class="line">[Wednesday 08 December 2010] [13:01:37] &lt;<a href="#id236"><span class="problematic" id="id237">jhawk28_</span></a>&gt;    <a class="reference external" href="http://sna-projects.com/kafka/design.php">http://sna-projects.com/kafka/design.php</a> has some interesting approaches to get it to be fast</div>
<div class="line">[Wednesday 08 December 2010] [13:02:14] &lt;sustrik&gt;     what if the disk on the middle node fails :)</div>
<div class="line">[Wednesday 08 December 2010] [13:02:33] &lt;<a href="#id238"><span class="problematic" id="id239">jhawk28_</span></a>&gt;    no, not broker style</div>
<div class="line">[Wednesday 08 December 2010] [13:02:59] &lt;seb`&gt;        <a href="#id240"><span class="problematic" id="id241">jhawk28_</span></a>: if you need a broker you could use rabbitmq with the 0mq plugin</div>
<div class="line">[Wednesday 08 December 2010] [13:03:04] &lt;seb`&gt;        that could be fun</div>
<div class="line">[Wednesday 08 December 2010] [13:03:10] &lt;sustrik&gt;     saving data to disk on endpoints?</div>
<div class="line">[Wednesday 08 December 2010] [13:03:15] &lt;sustrik&gt;     you can do that in you app</div>
<div class="line">[Wednesday 08 December 2010] [13:03:27] &lt;sustrik&gt;     your*</div>
<div class="line">[Wednesday 08 December 2010] [13:04:12] &lt;sustrik&gt;     this is what most applications with reliability requirements do anyway</div>
<div class="line">[Wednesday 08 December 2010] [13:04:23] &lt;sustrik&gt;     they have data on disk (in DB or something)</div>
<div class="line">[Wednesday 08 December 2010] [13:05:06] &lt;mikko&gt;       i thought about this issue at some point as well</div>
<div class="line">[Wednesday 08 December 2010] [13:05:20] &lt;mikko&gt;       came up in to conclusion that it is a lot easier to do in app level</div>
<div class="line">[Wednesday 08 December 2010] [13:05:40] &lt;mikko&gt;       as you can choose different kind of backends (such as bdb etc) without having to have that requirement in the core</div>
<div class="line">[Wednesday 08 December 2010] [13:05:56] &lt;sustrik&gt;     right</div>
<div class="line">[Wednesday 08 December 2010] [13:05:58] &lt;sustrik&gt;     and it&#8217;s kind of inpossible to push reliability to the network</div>
<div class="line">[Wednesday 08 December 2010] [13:06:13] &lt;sustrik&gt;     the networks are notoriously unreliable</div>
<div class="line">[Wednesday 08 December 2010] [13:06:49] &lt;mikko&gt;       maybe we could provide an example of durable device</div>
<div class="line">[Wednesday 08 December 2010] [13:06:56] &lt;mikko&gt;       rather than incorporate into core</div>
<div class="line">[Wednesday 08 December 2010] [13:07:09] &lt;<a href="#id242"><span class="problematic" id="id243">jhawk28_</span></a>&gt;    I was thinking that I would start with the device route</div>
<div class="line">[Wednesday 08 December 2010] [13:07:46] &lt;mikko&gt;       maybe you could do a generic &#8220;callback&#8221; device</div>
<div class="line">[Wednesday 08 December 2010] [13:07:47] &lt;<a href="#id244"><span class="problematic" id="id245">jhawk28_</span></a>&gt;    but, I was thinking that it might be cleaner if it ended up as a socket</div>
<div class="line">[Wednesday 08 December 2010] [13:08:03] &lt;mikko&gt;       have function pointers when message is received and sent</div>
<div class="line">[Wednesday 08 December 2010] [13:08:15] &lt;mikko&gt;       <a href="#id246"><span class="problematic" id="id247">jhawk28_</span></a>: cleaner from what point of view?</div>
<div class="line">[Wednesday 08 December 2010] [13:08:30] &lt;<a href="#id248"><span class="problematic" id="id249">jhawk28_</span></a>&gt;    cleaner API</div>
<div class="line">[Wednesday 08 December 2010] [13:08:42] &lt;<a href="#id250"><span class="problematic" id="id251">jhawk28_</span></a>&gt;    the end user API</div>
<div class="line">[Wednesday 08 December 2010] [13:08:51] &lt;mikko&gt;       from application code point of view yes, but it does mean a) design a durable storage b) add a large dependency to core</div>
<div class="line">[Wednesday 08 December 2010] [13:09:16] &lt;<a href="#id252"><span class="problematic" id="id253">jhawk28_</span></a>&gt;    a)</div>
<div class="line">[Wednesday 08 December 2010] [13:09:30] &lt;mikko&gt;       designing persistent storage for this kind of task is not a trivial exercise</div>
<div class="line">[Wednesday 08 December 2010] [13:09:30] &lt;sustrik&gt;     well, i&#8217;ve seen how AMQP working group struggled for years to meld the networking and persistence together into a single spec</div>
<div class="line">[Wednesday 08 December 2010] [13:09:31] &lt;<a href="#id254"><span class="problematic" id="id255">jhawk28_</span></a>&gt;    base it off kafka or bitcask</div>
<div class="line">[Wednesday 08 December 2010] [13:09:38] &lt;sustrik&gt;     and it doesn&#8217;t really lead to anything sane</div>
<div class="line">[Wednesday 08 December 2010] [13:09:42] &lt;mikko&gt;       if you for example look at how long it has taken for Varnish to nail it down</div>
<div class="line">[Wednesday 08 December 2010] [13:10:23] &lt;<a href="#id256"><span class="problematic" id="id257">jhawk28_</span></a>&gt;    kafka is probably closer since it just needs a queue mechanism, but they are both kinda similar</div>
<div class="line">[Wednesday 08 December 2010] [13:11:45] &lt;<a href="#id258"><span class="problematic" id="id259">jhawk28_</span></a>&gt;    biggest problem Ive seen with message queue persistence is that they can&#8217;t scale to a huge number of messages</div>
<div class="line">[Wednesday 08 December 2010] [13:11:59] &lt;mikko&gt;       you possibly want a cleanup mechanism, expiration, maybe you want the store to be accessible from other programs as well</div>
<div class="line">[Wednesday 08 December 2010] [13:12:43] &lt;<a href="#id260"><span class="problematic" id="id261">jhawk28_</span></a>&gt;    kafka basically uses a directory as the message queue</div>
<div class="line">[Wednesday 08 December 2010] [13:12:54] &lt;<a href="#id262"><span class="problematic" id="id263">jhawk28_</span></a>&gt;    files are created in an ordered fashion</div>
<div class="line">[Wednesday 08 December 2010] [13:13:13] &lt;<a href="#id264"><span class="problematic" id="id265">jhawk28_</span></a>&gt;    the client is what determines what message id to start from</div>
<div class="line">[Wednesday 08 December 2010] [13:13:44] &lt;mikko&gt;       is there a concept of expiration?</div>
<div class="line">[Wednesday 08 December 2010] [13:13:48] &lt;<a href="#id266"><span class="problematic" id="id267">jhawk28_</span></a>&gt;    the cleanup is by default handled by time or size</div>
<div class="line">[Wednesday 08 December 2010] [13:14:23] &lt;<a href="#id268"><span class="problematic" id="id269">jhawk28_</span></a>&gt;    other mechanisms can be plugged in I believe</div>
<div class="line">[Wednesday 08 December 2010] [13:15:16] &lt;<a href="#id270"><span class="problematic" id="id271">jhawk28_</span></a>&gt;    the client effectively controls their state so they can restart if need</div>
<div class="line">[Wednesday 08 December 2010] [13:16:05] &lt;mikko&gt;       bbl, need to commute home -&gt;</div>
<div class="line">[Wednesday 08 December 2010] [14:28:14] &lt;mikko&gt;       back</div>
<div class="line">[Wednesday 08 December 2010] [14:47:57] &lt;wayneeseguin&gt;        nice</div>
<div class="line">[Wednesday 08 December 2010] [14:48:22] &lt;cremes&gt;      welcome</div>
<div class="line">[Wednesday 08 December 2010] [14:49:49] &lt;wayneeseguin&gt;        I am new to this and I am trying to determine which socket type to use</div>
<div class="line">[Wednesday 08 December 2010] [14:50:33] &lt;wayneeseguin&gt;        I am playing around with an example just to see if I can get it working.</div>
<div class="line">[Wednesday 08 December 2010] [14:50:36] &lt;cremes&gt;      wayneeseguin: definitely read the guide at the zeromq site</div>
<div class="line">[Wednesday 08 December 2010] [14:50:58] &lt;cremes&gt;      it covers a LOT of novice questions</div>
<div class="line">[Wednesday 08 December 2010] [14:50:58] &lt;wayneeseguin&gt;        I had however perhaps I should do it again as that was a month or so ago</div>
<div class="line">[Wednesday 08 December 2010] [14:53:51] &lt;cremes&gt;      alternately, ask your question</div>
<div class="line">[Wednesday 08 December 2010] [14:54:05] &lt;cremes&gt;      if it&#8217;s answered in the guide, i&#8217;ll point you to it</div>
<div class="line">[Wednesday 08 December 2010] [14:54:06] &lt;cremes&gt;      othe</div>
<div class="line">[Wednesday 08 December 2010] [14:54:25] &lt;cremes&gt;      otherwise, i&#8217;ll try to answer it</div>
<div class="line">[Wednesday 08 December 2010] [14:57:01] &lt;wayneeseguin&gt;        I am fine reading docs :)</div>
<div class="line">[Wednesday 08 December 2010] [14:57:35] &lt;wayneeseguin&gt;        I want to have a client - server relationship where the client sends updates to the server on an interval and the server can request information from the client at random</div>
<div class="line">[Wednesday 08 December 2010] [14:57:51] &lt;wayneeseguin&gt;        I am unsure if there is one socket type that can facilitate that or if I should be using two distinct ones.</div>
<div class="line">[Wednesday 08 December 2010] [14:58:56] &lt;sustrik&gt;     is seems there are two different flows there</div>
<div class="line">[Wednesday 08 December 2010] [14:59:07] &lt;sustrik&gt;     PUB/SUB for updates</div>
<div class="line">[Wednesday 08 December 2010] [14:59:12] &lt;sustrik&gt;     REQ/REP for requests</div>
<div class="line">[Wednesday 08 December 2010] [14:59:41] &lt;wayneeseguin&gt;        ok</div>
<div class="line">[Wednesday 08 December 2010] [15:01:27] &lt;cremes&gt;      exactly</div>
<div class="line">[Wednesday 08 December 2010] [16:48:07] &lt;<a href="#id21"><span class="problematic" id="id42">toni__</span></a>&gt;      hey there. I have an issue with a XREQclient XREPserver architecture, where the client should resend a message to another server, in case the one he first sent the message dies. I described it in detail here: <a class="reference external" href="https://gist.github.com/733965">https://gist.github.com/733965</a></div>
<div class="line">[Wednesday 08 December 2010] [17:19:27] &lt;cremes&gt;      <a href="#id21"><span class="problematic" id="id43">toni__</span></a>: you are understanding the problem correctly and 0mq is doing exactly what it should</div>
<div class="line">[Wednesday 08 December 2010] [17:19:57] &lt;cremes&gt;      when your server dies, the 0mq socket on the client should remove it from its list of usable endpoints</div>
<div class="line">[Wednesday 08 December 2010] [17:20:14] &lt;<a href="#id21"><span class="problematic" id="id44">toni__</span></a>&gt;      cremes: exactly</div>
<div class="line">[Wednesday 08 December 2010] [17:20:29] &lt;cremes&gt;      you are likely simulating a server death by putting it to sleep or something; make sure that when the server dies that it goes away completely</div>
<div class="line">[Wednesday 08 December 2010] [17:20:42] &lt;cremes&gt;      that way the socket will disconnect and you will get the behavior that you want</div>
<div class="line">[Wednesday 08 December 2010] [17:20:54] &lt;cremes&gt;      if it hangs forever, as far as 0mq is concerned it is still a valid endpoint</div>
<div class="line">[Wednesday 08 December 2010] [17:22:42] &lt;<a href="#id21"><span class="problematic" id="id45">toni__</span></a>&gt;      cremes: Yes, I am simulating a server death...</div>
<div class="line">[Wednesday 08 December 2010] [17:22:50] &lt;<a href="#id21"><span class="problematic" id="id46">toni__</span></a>&gt;      I sould make use of socket.close()</div>
<div class="line">[Wednesday 08 December 2010] [17:23:02] &lt;cremes&gt;      right; then you&#8217;ll get what you want</div>
<div class="line">[Wednesday 08 December 2010] [17:23:02] &lt;cremes&gt;      </div>
<div class="line">[Wednesday 08 December 2010] [17:23:31] &lt;<a href="#id21"><span class="problematic" id="id47">toni__</span></a>&gt;      cremes: Thanks for your hint!</div>
<div class="line">[Wednesday 08 December 2010] [17:23:57] &lt;cremes&gt;      np</div>
<div class="line">[Wednesday 08 December 2010] [17:51:51] &lt;<a href="#id21"><span class="problematic" id="id48">toni__</span></a>&gt;      cremes: Okay, I tried it with socket.close() but this does not seem to have any effect. I posted my 2 little code-snippets on gist: <a class="reference external" href="https://gist.github.com/734071">https://gist.github.com/734071</a></div>
<div class="line">[Wednesday 08 December 2010] [17:54:00] &lt;<a href="#id21"><span class="problematic" id="id49">toni__</span></a>&gt;      It seems as if the client would still be connected to the server that died</div>
<div class="line">[Wednesday 08 December 2010] [17:55:13] &lt;cremes&gt;      <a href="#id21"><span class="problematic" id="id50">toni__</span></a>: how many of these servers are you starting up?</div>
<div class="line">[Wednesday 08 December 2010] [17:55:37] &lt;<a href="#id21"><span class="problematic" id="id51">toni__</span></a>&gt;      I start 3 servers, and then killing two of em</div>
<div class="line">[Wednesday 08 December 2010] [17:56:06] &lt;cremes&gt;      and after they print &#8220;socket closed&#8221; and die, your client is still trying to send new messages to them?</div>
<div class="line">[Wednesday 08 December 2010] [17:56:27] &lt;<a href="#id21"><span class="problematic" id="id52">toni__</span></a>&gt;      yes it is</div>
<div class="line">[Wednesday 08 December 2010] [17:56:34] &lt;cremes&gt;      try this...</div>
<div class="line">[Wednesday 08 December 2010] [17:56:46] &lt;cremes&gt;      1. have your client start and connect to 3 addresses <em>first</em></div>
<div class="line">[Wednesday 08 December 2010] [17:56:50] &lt;cremes&gt;      2. start one server</div>
<div class="line">[Wednesday 08 December 2010] [17:56:55] &lt;cremes&gt;      see what your client does</div>
<div class="line">[Wednesday 08 December 2010] [17:57:03] &lt;cremes&gt;      3. start up the other 2 servers</div>
<div class="line">[Wednesday 08 December 2010] [17:57:08] &lt;cremes&gt;      see what your client does</div>
<div class="line">[Wednesday 08 December 2010] [17:57:16] &lt;cremes&gt;      4. kill 2 of your servers</div>
<div class="line">[Wednesday 08 December 2010] [17:57:20] &lt;cremes&gt;      see what your client does</div>
<div class="line">[Wednesday 08 December 2010] [17:57:51] &lt;<a href="#id21"><span class="problematic" id="id53">toni__</span></a>&gt;      cremes: Ill try it right now</div>
<div class="line">[Wednesday 08 December 2010] [18:12:52] &lt;<a href="#id21"><span class="problematic" id="id54">toni__</span></a>&gt;      cremes: I connected the client first. Then I started the first server. The client tries to send also to the other servers which are not running yet. Thats why it s first very slow. Then I start the next server, it goes faster. Starting the third server the client doesnt get any timeout and it s fast. Stopping the servers, it gets slow again...</div>
<div class="line">[Wednesday 08 December 2010] [18:14:26] &lt;<a href="#id21"><span class="problematic" id="id55">toni__</span></a>&gt;      seems like, the socket still tries to send to the addresses that are not available yet</div>
<div class="line">[Wednesday 08 December 2010] [18:35:44] &lt;cremes&gt;      <a href="#id21"><span class="problematic" id="id56">toni__</span></a>: weird; why don&#8217;t you ask on the mailing list and include a gist of your code along with the results you have seen</div>
<div class="line">[Wednesday 08 December 2010] [18:35:54] &lt;cremes&gt;      maybe someone else can give a hint</div>
<div class="line">[Wednesday 08 December 2010] [18:36:58] &lt;<a href="#id21"><span class="problematic" id="id57">toni__</span></a>&gt;      cremes: I will post my snippets and the testcase. Thanks for your help.</div>
<div class="line">[Wednesday 08 December 2010] [18:43:20] &lt;oxff&gt;        is there any central message broker for PUB-SUB in the src distribution?</div>
<div class="line">[Wednesday 08 December 2010] [18:43:25] &lt;oxff&gt;        basically i look for something like rabbitmq</div>
<div class="line">[Wednesday 08 December 2010] [18:43:33] &lt;oxff&gt;        with an asynchronous i/o compatible c client library</div>
<div class="line">[Wednesday 08 December 2010] [18:43:38] &lt;oxff&gt;        so i want to have a central server</div>
<div class="line">[Wednesday 08 December 2010] [18:43:41] &lt;oxff&gt;        (cluster)</div>
<div class="line">[Wednesday 08 December 2010] [18:43:48] &lt;oxff&gt;        which publishers as well as subscribers can connect to</div>
<div class="line">[Wednesday 08 December 2010] [18:47:13] &lt;oxff&gt;        ah reading the doc, i get that this is not the scope of zeromq</div>
<div class="line">[Wednesday 08 December 2010] [18:47:14] &lt;oxff&gt;        too bad :/</div>
<div class="line">[Wednesday 08 December 2010] [18:54:33] &lt;oxff&gt;        ah, devices seems to be what iw ant</div>
<div class="line">[Wednesday 08 December 2010] [19:00:07] &lt;oxff&gt;        how can i get all FDs from a zeromq socket?</div>
<div class="line">[Wednesday 08 December 2010] [19:00:17] &lt;oxff&gt;        say, i want to embed zeromq into my existing libev app</div>
<div class="line">[Wednesday 08 December 2010] [19:01:08] &lt;oxff&gt;        seems that the only way to use zeromq asynchronously is to develop around zmq_poll</div>
<div class="line">[Wednesday 08 December 2010] [19:04:12] &lt;cremes&gt;      oxff: read up on ZM_FD and ZM_EVENTS</div>
<div class="line">[Wednesday 08 December 2010] [19:04:29] &lt;cremes&gt;      that is part of the 2.1 release (in beta) which makes it easy to use with other libraries</div>
<div class="line">[Wednesday 08 December 2010] [19:04:35] &lt;oxff&gt;        ah thanks</div>
<div class="line">[Wednesday 08 December 2010] [19:04:44] &lt;cremes&gt;      and zmq_poll is built on top of those primitives</div>
<div class="line">[Wednesday 08 December 2010] [19:05:45] &lt;oxff&gt;        wait it only gives me one fd per zmq_socket?</div>
<div class="line">[Wednesday 08 December 2010] [19:05:54] &lt;oxff&gt;        how does it work with a bind socket?</div>
<div class="line">[Wednesday 08 December 2010] [19:06:01] &lt;oxff&gt;        or multiple connected sockets?</div>
<div class="line">[Wednesday 08 December 2010] [19:07:25] &lt;oxff&gt;        does it create a fake fd/</div>
<div class="line">[Wednesday 08 December 2010] [19:07:28] &lt;oxff&gt;        ?</div>
<div class="line">[Wednesday 08 December 2010] [19:13:04] &lt;oxff&gt;        looking at tcp_listener.cpp, it only returns the bound fd in get_fd</div>
<div class="line">[Wednesday 08 December 2010] [19:13:08] &lt;oxff&gt;        too tired to read all of the source</div>
<div class="line">[Wednesday 08 December 2010] [19:19:03] &lt;oxff&gt;        wait, does zeromq internally use threading / create threads for accepting new connectins etc?</div>
<div class="line">[Wednesday 08 December 2010] [19:22:10] &lt;oxff&gt;        how can i issue a non-blocking connect with zmq_connect?</div>
<div class="line">[Wednesday 08 December 2010] [19:28:28] &lt;oxff&gt;        lol you</div>
<div class="line">[Wednesday 08 December 2010] [19:28:41] &lt;oxff&gt;        you&#8217;re threading and the fd is just some pipe fd you accumulate to?</div>
<div class="line">[Wednesday 08 December 2010] [19:28:44] &lt;oxff&gt;        this is bullshit</div>
<div class="line">[Wednesday 08 December 2010] [20:50:01] &lt;testuser&gt;    hello</div>
<div class="line">[Wednesday 08 December 2010] [22:55:31] 470   travlr #gwt ##gwt Forwarding to another channel</div>
<div class="line">[Wednesday 08 December 2010] [22:55:31] Notice        -ChanServ- [##gwt] Welcome to the unofficial Google Web Toolkit channel on freenode. This is a starting (and growing) community, and we need your help. Stick around!</div>
<div class="line">[Wednesday 08 December 2010] [22:55:45] 470   travlr #gwt ##gwt Forwarding to another channel</div>
<div class="line">[Wednesday 08 December 2010] [22:55:45] Notice        -ChanServ- [##gwt] Welcome to the unofficial Google Web Toolkit channel on freenode. This is a starting (and growing) community, and we need your help. Stick around!</div>
<div class="line">[Wednesday 08 December 2010] [22:55:55] 470   travlr #gwt ##gwt Forwarding to another channel</div>
<div class="line">[Wednesday 08 December 2010] [22:55:55] Notice        -ChanServ- [##gwt] Welcome to the unofficial Google Web Toolkit channel on freenode. This is a starting (and growing) community, and we need your help. Stick around!</div>
<div class="line">[Thursday 09 December 2010] [03:46:34] &lt;rrg&gt;  hi</div>
<div class="line">[Thursday 09 December 2010] [03:49:57] &lt;rrg&gt;  i am unsure how to implement multiplexed sending using a PUB socket. to be specific: a changing number of producers write multipart messages of varying length, at verying times and from varying threads. do i need to synchronize the writing somehow and abandon the multipart messaging alltogether?</div>
<div class="line">[Thursday 09 December 2010] [03:54:36] &lt;Steve-o&gt;      give each thread a 0mq socket then ensure each thread sends multi-part atomically</div>
<div class="line">[Thursday 09 December 2010] [03:57:39] &lt;Steve-o&gt;      you could always add extra sockets, i.e. one per session per thread too</div>
<div class="line">[Thursday 09 December 2010] [03:58:27] &lt;mikko&gt;        Steve-o: im getting openpgm compile failure on x86 solaris 10</div>
<div class="line">[Thursday 09 December 2010] [03:58:43] &lt;Steve-o&gt;      only tried opensolaris on intel</div>
<div class="line">[Thursday 09 December 2010] [03:59:07] &lt;Steve-o&gt;      have you updated the compiler flags?</div>
<div class="line">[Thursday 09 December 2010] [03:59:30] &lt;Steve-o&gt;      &gt;&gt; <a class="reference external" href="http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/SConstruct.OpenSolaris">http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/SConstruct.OpenSolaris</a></div>
<div class="line">[Thursday 09 December 2010] [04:00:32] &lt;mikko&gt;        Steve-o: i have</div>
<div class="line">[Thursday 09 December 2010] [04:00:33] &lt;mikko&gt;        sec</div>
<div class="line">[Thursday 09 December 2010] [04:01:07] &lt;mikko&gt;        <a class="reference external" href="https://gist.github.com/123f088e350c12744e1c">https://gist.github.com/123f088e350c12744e1c</a></div>
<div class="line">[Thursday 09 December 2010] [04:01:22] &lt;mikko&gt;        i was working on getting &#8211;with-pgm build to work on solaris10 using sun studio last night</div>
<div class="line">[Thursday 09 December 2010] [04:01:39] &lt;Steve-o&gt;      ok, x86/Solaris is pretty much a dead platform</div>
<div class="line">[Thursday 09 December 2010] [04:01:51] &lt;mikko&gt;        had to remove strict flag because __PRETTY_FUNCTION__ is not declared on strict compliance mode</div>
<div class="line">[Thursday 09 December 2010] [04:02:24] &lt;Steve-o&gt;      that&#8217;s gcc only ?</div>
<div class="line">[Thursday 09 December 2010] [04:02:44] &lt;mikko&gt;        -Xc mode in solaris studio drops standards incompliant things</div>
<div class="line">[Thursday 09 December 2010] [04:02:55] &lt;mikko&gt;        __PRETTY_FUNCTION__ is &#8220;pseudo-standard&#8221;</div>
<div class="line">[Thursday 09 December 2010] [04:02:56] &lt;Steve-o&gt;      it should be picking up __func__ instead</div>
<div class="line">[Thursday 09 December 2010] [04:03:51] &lt;Steve-o&gt;      just checked, __PRETTY_FUNCTION__ should only be used with __GNUC__ defined</div>
<div class="line">[Thursday 09 December 2010] [04:04:12] &lt;Steve-o&gt;      I don&#8217;t even bother with __func__, I think that&#8217;s only SunPro</div>
<div class="line">[Thursday 09 December 2010] [04:04:21] &lt;Steve-o&gt;      but your error is assembler</div>
<div class="line">[Thursday 09 December 2010] [04:04:25] &lt;mikko&gt;        __func__ is supported by all of them</div>
<div class="line">[Thursday 09 December 2010] [04:04:56] &lt;mikko&gt;        i guess it would be fairly easy to ifdef OPENPGM_FUNCTION or similar</div>
<div class="line">[Thursday 09 December 2010] [04:05:41] &lt;mikko&gt;        <a class="reference external" href="http://blogs.sun.com/solarisdev/entry/new_article_prefetching">http://blogs.sun.com/solarisdev/entry/new_article_prefetching</a></div>
<div class="line">[Thursday 09 December 2010] [04:05:49] &lt;Steve-o&gt;      ok i see the problem</div>
<div class="line">[Thursday 09 December 2010] [04:06:00] &lt;Steve-o&gt;      I assume sun = sparc</div>
<div class="line">[Thursday 09 December 2010] [04:06:14] &lt;Steve-o&gt;      which is usually pretty good considering the other options are awful</div>
<div class="line">[Thursday 09 December 2010] [04:06:48] &lt;Steve-o&gt;      sunpro on linux doesn&#8217;t define sun</div>
<div class="line">[Thursday 09 December 2010] [04:07:06] &lt;Steve-o&gt;      so what does &#8220;sun&#8221; mean?</div>
<div class="line">[Thursday 09 December 2010] [04:07:15] &lt;Steve-o&gt;      it&#8217;s not there for opensolaris</div>
<div class="line">[Thursday 09 December 2010] [04:08:38] &lt;mikko&gt;        sun and __sun are defined for x86 solaris</div>
<div class="line">[Thursday 09 December 2010] [04:08:51] &lt;mikko&gt;        sparc and __sparc for SPARC</div>
<div class="line">[Thursday 09 December 2010] [04:08:54] &lt;mikko&gt;        as far as i know</div>
<div class="line">[Thursday 09 December 2010] [04:09:01] &lt;mikko&gt;        i dont have access to sparc</div>
<div class="line">[Thursday 09 December 2010] [04:09:28] &lt;Steve-o&gt;      sparc is for ultrasparc and older</div>
<div class="line">[Thursday 09 December 2010] [04:09:45] &lt;mikko&gt;        <a class="reference external" href="http://predef.sourceforge.net/preos.html#sec35">http://predef.sourceforge.net/preos.html#sec35</a></div>
<div class="line">[Thursday 09 December 2010] [04:09:52] &lt;mikko&gt;        this says that it&#8217;s for solaris operating system</div>
<div class="line">[Thursday 09 December 2010] [04:10:05] &lt;Steve-o&gt;      it&#8217;s __sparcv9 for the box I have</div>
<div class="line">[Thursday 09 December 2010] [04:10:20] &lt;Steve-o&gt;      which probably makes __sparc a v8</div>
<div class="line">[Thursday 09 December 2010] [04:12:17] &lt;Steve-o&gt;      ok, have to guess which ones match gcc</div>
<div class="line">[Thursday 09 December 2010] [04:12:52] &lt;Steve-o&gt;      I don&#8217;t even use them which makes it worse</div>
<div class="line">[Thursday 09 December 2010] [04:13:04] &lt;Steve-o&gt;      they&#8217;re slower on the hardware I have</div>
<div class="line">[Thursday 09 December 2010] [04:13:12] &lt;mikko&gt;        interesting</div>
<div class="line">[Thursday 09 December 2010] [04:13:26] &lt;mikko&gt;        CC man page says that &#8216;sun&#8217; is sparc only macro</div>
<div class="line">[Thursday 09 December 2010] [04:14:12] &lt;mikko&gt;        but that might be from time before solaris studio on x86</div>
<div class="line">[Thursday 09 December 2010] [04:14:15] &lt;mikko&gt;        not sure</div>
<div class="line">[Thursday 09 December 2010] [04:14:32] &lt;Steve-o&gt;      x86 solaris is really old, but yes there is a lot of confusion</div>
<div class="line">[Thursday 09 December 2010] [04:14:47] &lt;Steve-o&gt;      looks like prefetch -&gt; sun_prefetch_read_many</div>
<div class="line">[Thursday 09 December 2010] [04:14:54] &lt;Steve-o&gt;      prefetchw -&gt; sun_prefetch_write_many</div>
<div class="line">[Thursday 09 December 2010] [04:15:15] &lt;Steve-o&gt;      I&#8217;ll have to switch on my sparc and check</div>
<div class="line">[Thursday 09 December 2010] [04:15:26] &lt;rrg&gt;  Steve-o: the cost of adding a socket is insignificant?</div>
<div class="line">[Thursday 09 December 2010] [04:15:35] &lt;Steve-o&gt;      I think I have a few fixes to back port to 5.0 too anyway</div>
<div class="line">[Thursday 09 December 2010] [04:16:13] &lt;mikko&gt;        Steve-o: i use +w -Xc to compile with sun studio</div>
<div class="line">[Thursday 09 December 2010] [04:16:16] &lt;mikko&gt;        if you want to test</div>
<div class="line">[Thursday 09 December 2010] [04:16:25] &lt;Steve-o&gt;      rrg:  0mq automagically manages the multiplexing, so once one underlying transport is setup it is cheap</div>
<div class="line">[Thursday 09 December 2010] [04:18:04] &lt;rrg&gt;  Steve-o: by setup you mean the context initialization?</div>
<div class="line">[Thursday 09 December 2010] [04:18:58] &lt;Steve-o&gt;      rrg: the IO thread(s) open up the TCP/IPC/PGM sockets in the background</div>
<div class="line">[Thursday 09 December 2010] [04:19:45] &lt;rrg&gt;  ah, ok. so context init = transport init</div>
<div class="line">[Thursday 09 December 2010] [04:20:57] &lt;rrg&gt;  Steve-o: but won&#8217;t binding the socket work exactly once? in case of tcp/ip unicast?</div>
<div class="line">[Thursday 09 December 2010] [04:21:56] &lt;Steve-o&gt;      i&#8217;m going on what the whitepapers on the architecture say :-)</div>
<div class="line">[Thursday 09 December 2010] [04:24:35] &lt;rrg&gt;  Steve-o: ? -&gt; /me ?</div>
<div class="line">[Thursday 09 December 2010] [04:27:28] &lt;Steve-o&gt;      brb, a couple of things working on</div>
<div class="line">[Thursday 09 December 2010] [04:29:24] &lt;guido_g&gt;      rrg: the context has nothing to do w/ a particular transport</div>
<div class="line">[Thursday 09 December 2010] [04:33:12]         * rrg wonders if this problem could be solved by opening multiple icp push connections and performing the actual tcp sending in a dedicated receiver thread of those multipart messages</div>
<div class="line">[Thursday 09 December 2010] [04:34:12] &lt;guido_g&gt;      icp?</div>
<div class="line">[Thursday 09 December 2010] [04:35:42] &lt;rrg&gt;  ipc</div>
<div class="line">[Thursday 09 December 2010] [04:35:51] &lt;rrg&gt;  guido_g: seems to work!</div>
<div class="line">[Thursday 09 December 2010] [04:37:23] &lt;rrg&gt;  guido_g: ok, i have single thread now which binds a pub socket to tcp and sits in a recv loop on an ipc pull socket.</div>
<div class="line">[Thursday 09 December 2010] [04:38:00] &lt;rrg&gt;  guide_g:  plus a certain amount of threads which send multipart messages to thread-specific ipc push sockets which they close when they terminate.</div>
<div class="line">[Thursday 09 December 2010] [04:38:31] &lt;rrg&gt;  guido_g: seems to work fine with 2 context i/o threads. any antipattern i&#8217;m using here?</div>
<div class="line">[Thursday 09 December 2010] [04:39:10] &lt;guido_g&gt;      2 contexts? seems fishy</div>
<div class="line">[Thursday 09 December 2010] [04:39:17] &lt;Steve-o&gt;      mikko:  aaagh, that strict mode is annoying</div>
<div class="line">[Thursday 09 December 2010] [04:41:11] &lt;Steve-o&gt;      I&#8217;m not even getting &#8220;sun&#8221; defined</div>
<div class="line">[Thursday 09 December 2010] [04:41:22] &lt;<a href="#id272"><span class="problematic" id="id273">toni_</span></a>&gt;        hey there. I have a XREQ client connected to a set of XREP servers. When one server dies, the client still tries to send messages to it. Is this the default zmq behavior, or am I doing something wrong?</div>
<div class="line">[Thursday 09 December 2010] [04:42:16] &lt;Steve-o&gt;      mikko:  so strict mode presumably means only __sun is defined?  always the underscore requirement?</div>
<div class="line">[Thursday 09 December 2010] [04:43:13] &lt;rrg&gt;  guido_g: 2 i/o threads, 1 ctx</div>
<div class="line">[Thursday 09 December 2010] [04:44:21] &lt;guido_g&gt;      rrg: i dont think you need 2 io threads, it&#8217;s a waste of ressources</div>
<div class="line">[Thursday 09 December 2010] [04:46:41] &lt;rrg&gt;  guido_g: is there any usecase for n&gt;1 threads?</div>
<div class="line">[Thursday 09 December 2010] [04:47:05] &lt;guido_g&gt;      rrg: no, not that i know of</div>
<div class="line">[Thursday 09 December 2010] [04:48:59] &lt;rrg&gt;  guido_g: ok</div>
<div class="line">[Thursday 09 December 2010] [04:49:02] &lt;rrg&gt;  guido_g: ty</div>
<div class="line">[Thursday 09 December 2010] [04:52:00] &lt;<a href="#id274"><span class="problematic" id="id275">toni_</span></a>&gt;        I described my issue in detail here: <a class="reference external" href="https://gist.github.com/734545">https://gist.github.com/734545</a></div>
<div class="line">[Thursday 09 December 2010] [04:59:17] &lt;Steve-o&gt;      <a href="#id276"><span class="problematic" id="id277">toni_</span></a>:  send onto the list too</div>
<div class="line">[Thursday 09 December 2010] [04:59:38] &lt;guido_g&gt;      <a href="#id278"><span class="problematic" id="id279">toni_</span></a>: but first write a working test, please</div>
<div class="line">[Thursday 09 December 2010] [04:59:53] &lt;<a href="#id280"><span class="problematic" id="id281">toni_</span></a>&gt;        Steve-o: I did this. The working test is also linked</div>
<div class="line">[Thursday 09 December 2010] [04:59:54] &lt;guido_g&gt;      <a href="#id282"><span class="problematic" id="id283">toni_</span></a>: ahh... and remove the useles recursion</div>
<div class="line">[Thursday 09 December 2010] [05:00:29] &lt;guido_g&gt;      <a href="#id284"><span class="problematic" id="id285">toni_</span></a>: there&#8217;re three code snippes that are obviously part of something else</div>
<div class="line">[Thursday 09 December 2010] [05:00:58] &lt;<a href="#id286"><span class="problematic" id="id287">toni_</span></a>&gt;        guido_g:  the snippets I linked ?</div>
<div class="line">[Thursday 09 December 2010] [05:01:15] &lt;guido_g&gt;      <a href="#id288"><span class="problematic" id="id289">toni_</span></a>: what else?</div>
<div class="line">[Thursday 09 December 2010] [05:01:20] &lt;<a href="#id290"><span class="problematic" id="id291">toni_</span></a>&gt;        guido_g: no thats exactly my code and my problem</div>
<div class="line">[Thursday 09 December 2010] [05:02:38] &lt;guido_g&gt;      <a href="#id292"><span class="problematic" id="id293">toni_</span></a>: why didn&#8217;t you post the code as it is then? what you posted appears to be 3 unrelated snippets</div>
<div class="line">[Thursday 09 December 2010] [05:02:44] &lt;<a href="#id294"><span class="problematic" id="id295">toni_</span></a>&gt;        guido_g: My aproach is, that when a server does not answer for two seconds, I resend the message</div>
<div class="line">[Thursday 09 December 2010] [05:03:51] &lt;<a href="#id296"><span class="problematic" id="id297">toni_</span></a>&gt;        guido_g:  But the XREPServer and the XREQConnect are both used in the Testcase</div>
<div class="line">[Thursday 09 December 2010] [05:04:25] &lt;Steve-o&gt;      mikko:  I have trunk working with sun one in strict mode now, will have to try ICC later</div>
<div class="line">[Thursday 09 December 2010] [05:06:56] &lt;<a href="#id298"><span class="problematic" id="id299">toni_</span></a>&gt;        guido_g: in the Testcase I first start one server, than the second, then the third. Whenever one server is not available, my XREQ send method runs into the timeout as it does not get any reply for 2 seconds</div>
<div class="line">[Thursday 09 December 2010] [05:07:19] &lt;<a href="#id300"><span class="problematic" id="id301">toni_</span></a>&gt;        guido_g: and in this case I resend the message</div>
<div class="line">[Thursday 09 December 2010] [05:07:28] &lt;guido_g&gt;      <a href="#id302"><span class="problematic" id="id303">toni_</span></a>: i know, i can read</div>
<div class="line">[Thursday 09 December 2010] [05:09:10] &lt;<a href="#id304"><span class="problematic" id="id305">toni_</span></a>&gt;        guido_g: What I would need, is to tell the XREQ at XREQConnect to disconnect from the addresses that are obviously broken</div>
<div class="line">[Thursday 09 December 2010] [05:10:14] &lt;guido_g&gt;      <a href="#id306"><span class="problematic" id="id307">toni_</span></a>: mq should do that, if not, show a comprehensible working test case and file an issue</div>
<div class="line">[Thursday 09 December 2010] [05:13:05] &lt;<a href="#id308"><span class="problematic" id="id309">toni_</span></a>&gt;        guido_g: Okay, Ill open up an issue. Seems to me as if it s not working properly</div>
<div class="line">[Thursday 09 December 2010] [05:14:58] &lt;guido_g&gt;      <a href="#id310"><span class="problematic" id="id311">toni_</span></a>: make your test actually working and as small as possible, otherwise it&#8217;ll be difficult to proof your point</div>
<div class="line">[Thursday 09 December 2010] [05:15:48] &lt;<a href="#id312"><span class="problematic" id="id313">toni_</span></a>&gt;        guido_g: yes I will. Thanks for your hints anyway.</div>
<div class="line">[Thursday 09 December 2010] [05:49:26] &lt;<a href="#id314"><span class="problematic" id="id315">toni_</span></a>&gt;        One question remains. In zmq I can connect a socket to some addresses (that never were bound before), send messages to it and they will be buffered until the addresses become available. So consider one client and two servers. The client connects to both. The messages are loadbalanced between the servers. When one server dies (s.close()) the client will try to send its message to that address. As it is not available they are buffered. A</div>
<div class="line">[Thursday 09 December 2010] [06:45:25] &lt;<a href="#id316"><span class="problematic" id="id317">sustrik_</span></a>&gt;     drbobbeaty: hi</div>
<div class="line">[Thursday 09 December 2010] [06:45:33] &lt;<a href="#id318"><span class="problematic" id="id319">sustrik_</span></a>&gt;     would you do the -1 default, or should i?</div>
<div class="line">[Thursday 09 December 2010] [06:47:28] &lt;drbobbeaty&gt;   sustrik: I&#8217;ll be glad to. I just need to get a few things done this morning and then hamer it out.</div>
<div class="line">[Thursday 09 December 2010] [06:47:36] &lt;<a href="#id320"><span class="problematic" id="id321">sustrik_</span></a>&gt;     great</div>
<div class="line">[Thursday 09 December 2010] [06:47:51] &lt;drbobbeaty&gt;   I want to build RPMs, etc. to verify etc. So it&#8217;ll take me just a little bit.</div>
<div class="line">[Thursday 09 December 2010] [06:47:59] &lt;<a href="#id322"><span class="problematic" id="id323">sustrik_</span></a>&gt;     sure, no haste</div>
<div class="line">[Thursday 09 December 2010] [06:52:10] &lt;<a href="#id324"><span class="problematic" id="id325">toni_</span></a>&gt;        I posted my problem here with a minimal testcase: <a class="reference external" href="https://github.com/zeromq/pyzmq/issues/issue/51">https://github.com/zeromq/pyzmq/issues/issue/51</a></div>
<div class="line">[Thursday 09 December 2010] [06:57:39] &lt;guido_g&gt;      <a href="#id326"><span class="problematic" id="id327">toni_</span></a>: does it work if you start both servers and then kill one of them?</div>
<div class="line">[Thursday 09 December 2010] [06:59:12] &lt;guido_g&gt;      <a href="#id328"><span class="problematic" id="id329">toni_</span></a>: of course, after the client connected to them</div>
<div class="line">[Thursday 09 December 2010] [07:02:53] &lt;<a href="#id330"><span class="problematic" id="id331">toni_</span></a>&gt;        guido_g: no, when I start both servers, then starting the client e.g sending 100 000 msgs and then I kill one server, the client still tries to send to the death one</div>
<div class="line">[Thursday 09 December 2010] [07:03:50] &lt;guido_g&gt;      ouch</div>
<div class="line">[Thursday 09 December 2010] [07:04:02] &lt;guido_g&gt;      sounds really like a bug</div>
<div class="line">[Thursday 09 December 2010] [07:04:36] &lt;<a href="#id332"><span class="problematic" id="id333">toni_</span></a>&gt;        The testcase is quite simple, I hope everyone can reproduce this behavior</div>
<div class="line">[Thursday 09 December 2010] [07:10:48] &lt;guido_g&gt;      jepp, killing one of the servers causes a delay every other request</div>
<div class="line">[Thursday 09 December 2010] [07:13:05] &lt;<a href="#id334"><span class="problematic" id="id335">toni_</span></a>&gt;        guido_g: but actually, zmq should behave different and notice the death server?</div>
<div class="line">[Thursday 09 December 2010] [07:13:45] &lt;guido_g&gt;      should be in the docs</div>
<div class="line">[Thursday 09 December 2010] [07:15:55] &lt;guido_g&gt;      ahhh.. got it</div>
<div class="line">[Thursday 09 December 2010] [07:16:08] &lt;guido_g&gt;      set the HWM for the sending socket to 1, then it works</div>
<div class="line">[Thursday 09 December 2010] [07:19:01] &lt;<a href="#id336"><span class="problematic" id="id337">toni_</span></a>&gt;        guido_g: You are my hero !!!</div>
<div class="line">[Thursday 09 December 2010] [07:19:13] &lt;<a href="#id338"><span class="problematic" id="id339">toni_</span></a>&gt;        guido_g: hanging on this issue for almost 2 day now</div>
<div class="line">[Thursday 09 December 2010] [07:19:32] &lt;<a href="#id340"><span class="problematic" id="id341">toni_</span></a>&gt;        guido_g: Thanks a lot for your help!!!</div>
<div class="line">[Thursday 09 December 2010] [07:19:43] &lt;guido_g&gt;      the reason is &#8211; i think &#8211; the unbound queue for this endpoint</div>
<div class="line">[Thursday 09 December 2010] [07:20:10] &lt;<a href="#id342"><span class="problematic" id="id343">toni_</span></a>&gt;        guido_g: what do you mean by the unbound queue?</div>
<div class="line">[Thursday 09 December 2010] [07:20:50] &lt;<a href="#id344"><span class="problematic" id="id345">toni_</span></a>&gt;        guido_g: As far as I understood the HWM limits the send-buffer of the socket to the size of 1</div>
<div class="line">[Thursday 09 December 2010] [07:20:53] &lt;guido_g&gt;      every endpoint under a mq socket has a queue for messages to be sent to it</div>
<div class="line">[Thursday 09 December 2010] [07:21:19] &lt;<a href="#id346"><span class="problematic" id="id347">toni_</span></a>&gt;        ah okay, thats what I just called buffer...</div>
<div class="line">[Thursday 09 December 2010] [07:21:22] &lt;guido_g&gt;      not of the mq socket, but the underlying endpoint</div>
<div class="line">[Thursday 09 December 2010] [07:23:12] &lt;<a href="#id348"><span class="problematic" id="id349">toni_</span></a>&gt;        guido_g:  thanks for your help. Great project and great community</div>
<div class="line">[Thursday 09 December 2010] [08:38:25] &lt;bobdole369&gt;   Hello good morning, is zeromq used often with embedded devices? Specifically Rabbit Semiconductor stuff, or Schnieder (or others) PLC&#8217;s?</div>
<div class="line">[Thursday 09 December 2010] [10:17:29] &lt;mikko&gt;        bobdole369: it might make sense to ask that question on the mailing-lists to reach bigger audience</div>
<div class="line">[Thursday 09 December 2010] [10:21:55] &lt;Steve-o&gt;      mikko: what strict parameters are you using for ICC?  I&#8217;ll check tomorrow and update trunk for PGM</div>
<div class="line">[Thursday 09 December 2010] [10:31:25] &lt;mikko&gt;        Steve-o: sec</div>
<div class="line">[Thursday 09 December 2010] [10:31:46] &lt;mikko&gt;        -strict-ansi</div>
<div class="line">[Thursday 09 December 2010] [10:43:10] &lt;Steve-o&gt;      taa, will test with 5.1 and backport to 5.0</div>
<div class="line">[Thursday 09 December 2010] [10:43:18] &lt;mikko&gt;        cool</div>
<div class="line">[Thursday 09 December 2010] [10:44:04] &lt;Steve-o&gt;      only OSX needs 5.1 because of the lack of spin locks</div>
<div class="line">[Thursday 09 December 2010] [10:44:31] &lt;Steve-o&gt;      maybe something with Win x64 too but I can&#8217;t recall</div>
<div class="line">[Thursday 09 December 2010] [11:25:48] &lt;mikko&gt;        sustrik: there?</div>
<div class="line">[Thursday 09 December 2010] [12:04:17] &lt;sustrik&gt;      mikko: hi</div>
<div class="line">[Thursday 09 December 2010] [12:05:19] &lt;mikko&gt;        sustrik: im having issues with ZMQ_QUEUE</div>
<div class="line">[Thursday 09 December 2010] [12:05:34] &lt;sustrik&gt;      yes?</div>
<div class="line">[Thursday 09 December 2010] [12:05:39] &lt;mikko&gt;        it seems that my messages are not being closed</div>
<div class="line">[Thursday 09 December 2010] [12:05:48] &lt;mikko&gt;        it&#8217;s a bit tricky to reproduce</div>
<div class="line">[Thursday 09 December 2010] [12:05:59] &lt;mikko&gt;        but i got front=pull, back=push device</div>
<div class="line">[Thursday 09 December 2010] [12:06:14] &lt;mikko&gt;        and if i am not consuming the message the memory usage goes up steadily</div>
<div class="line">[Thursday 09 December 2010] [12:06:28] &lt;mikko&gt;        if i then start consumer the memory usage doesn&#8217;t go down</div>
<div class="line">[Thursday 09 December 2010] [12:06:32] &lt;mikko&gt;        even though messages are flowing</div>
<div class="line">[Thursday 09 December 2010] [12:06:45] &lt;mikko&gt;        i can see using valgrind that memory is held in the messages</div>
<div class="line">[Thursday 09 December 2010] [12:06:53] &lt;sustrik&gt;      are you publishing at full spead?</div>
<div class="line">[Thursday 09 December 2010] [12:06:58] &lt;sustrik&gt;      speed</div>
<div class="line">[Thursday 09 December 2010] [12:07:25] &lt;mikko&gt;        yes</div>
<div class="line">[Thursday 09 December 2010] [12:07:54] &lt;mikko&gt;        is it expected that memory usage never goes down?</div>
<div class="line">[Thursday 09 December 2010] [12:08:31] &lt;sustrik&gt;      well, if receiver is slower than publisher it can happen</div>
<div class="line">[Thursday 09 December 2010] [12:08:54] &lt;mikko&gt;        but even if i stop publisher and start consuming</div>
<div class="line">[Thursday 09 December 2010] [12:09:03] &lt;mikko&gt;        it seems that usage does not go down</div>
<div class="line">[Thursday 09 December 2010] [12:12:27] &lt;sustrik&gt;      that looks like a leak</div>
<div class="line">[Thursday 09 December 2010] [12:12:51] &lt;sustrik&gt;      can you report the problem along with the test program?</div>
<div class="line">[Thursday 09 December 2010] [12:13:04] &lt;mikko&gt;        does this make sense:</div>
<div class="line">[Thursday 09 December 2010] [12:13:20] &lt;mikko&gt;        i generate 10k messages, then turn consumer on/off/on/off</div>
<div class="line">[Thursday 09 December 2010] [12:13:25] &lt;mikko&gt;        until no more messages flow through</div>
<div class="line">[Thursday 09 December 2010] [12:13:34] &lt;mikko&gt;        kinda simulating flaky network</div>
<div class="line">[Thursday 09 December 2010] [12:13:48] &lt;mikko&gt;        and at the end it seems that not all messages get freed</div>
<div class="line">[Thursday 09 December 2010] [12:13:54] &lt;mikko&gt;        but there is no more coming from pipe</div>
<div class="line">[Thursday 09 December 2010] [12:14:38] &lt;sustrik&gt;      how do you know they weren&#8217;t freed?</div>
<div class="line">[Thursday 09 December 2010] [12:15:55] &lt;mikko&gt;        valgrind show them in &#8220;still reachable&#8221; memory</div>
<div class="line">[Thursday 09 December 2010] [12:18:10] &lt;mikko&gt;        it might be something in my app as well</div>
<div class="line">[Thursday 09 December 2010] [12:18:28] &lt;mikko&gt;        i will investigate further and open a ticket if it&#8217;s somewhat reproducible</div>
<div class="line">[Thursday 09 December 2010] [12:36:51] &lt;sustrik&gt;      mikko: how did you shut down the device?</div>
<div class="line">[Thursday 09 December 2010] [12:37:06] &lt;mikko&gt;        sustrik: ctrl + c</div>
<div class="line">[Thursday 09 December 2010] [12:37:17] &lt;sustrik&gt;      let me check the code...</div>
<div class="line">[Thursday 09 December 2010] [12:37:27] &lt;sustrik&gt;      master?</div>
<div class="line">[Thursday 09 December 2010] [12:37:35] &lt;mikko&gt;        yes</div>
<div class="line">[Thursday 09 December 2010] [12:37:41] &lt;mikko&gt;        it could very well be my test code</div>
<div class="line">[Thursday 09 December 2010] [12:38:11] &lt;mikko&gt;        i need a statistics collection over http</div>
<div class="line">[Thursday 09 December 2010] [12:38:25] &lt;mikko&gt;        so im writing a small webserver that distributes the messages to backend nodes for processing</div>
<div class="line">[Thursday 09 December 2010] [12:43:20] &lt;sustrik&gt;      mikko: aha</div>
<div class="line">[Thursday 09 December 2010] [12:43:30] &lt;sustrik&gt;      the devices are not shutting down decently</div>
<div class="line">[Thursday 09 December 2010] [12:43:32] &lt;sustrik&gt;      if (errno == ETERM)</div>
<div class="line">[Thursday 09 December 2010] [12:43:32] &lt;sustrik&gt;                              return -1;</div>
<div class="line">[Thursday 09 December 2010] [12:43:51] &lt;sustrik&gt;      what they should do, i guess</div>
<div class="line">[Thursday 09 December 2010] [12:44:05] &lt;sustrik&gt;      is to set LINGER to 0</div>
<div class="line">[Thursday 09 December 2010] [12:44:12] &lt;sustrik&gt;      and terminate via zmq_term()</div>
<div class="line">[Thursday 09 December 2010] [13:51:25] &lt;delaney&gt;      are there any examples of the proper use of socket.RecvAll() for C#?</div>
<div class="line">[Thursday 09 December 2010] [13:54:20] &lt;sustrik&gt;      delaney: i don&#8217;t think there are much examples for clrzmq2, try asking on the mailing list</div>
<div class="line">[Thursday 09 December 2010] [13:54:49] &lt;delaney&gt;      k</div>
<div class="line">[Thursday 09 December 2010] [15:26:06] &lt;<a href="#id350"><span class="problematic" id="id351">sustrik_</span></a>&gt;     mikko: hm, i was wrong</div>
<div class="line">[Thursday 09 December 2010] [15:27:14] &lt;<a href="#id352"><span class="problematic" id="id353">sustrik_</span></a>&gt;     Ctrl+C actually kills the program, thus not freeing the allocated memory</div>
<div class="line">[Thursday 09 December 2010] [15:27:29] &lt;<a href="#id354"><span class="problematic" id="id355">sustrik_</span></a>&gt;     so valgrind would naturally report leaks</div>
<div class="line">[Thursday 09 December 2010] [15:27:58] &lt;<a href="#id356"><span class="problematic" id="id357">sustrik_</span></a>&gt;     alternative would be to install SIGINT handler and try to clean-up before exiting</div>
<div class="line">[Thursday 09 December 2010] [15:45:10] &lt;CIA-20&gt;       zeromq2: 03Bob Beaty 07master * rfcfad56 10/ (6 files in 3 dirs): (log message trimmed)</div>
<div class="line">[Thursday 09 December 2010] [15:45:10] &lt;CIA-20&gt;       zeromq2: Added Recovery Interval in Milliseconds</div>
<div class="line">[Thursday 09 December 2010] [15:45:10] &lt;CIA-20&gt;       zeromq2: For very high-speed message systems, the memory used for recovery can get to</div>
<div class="line">[Thursday 09 December 2010] [15:45:10] &lt;CIA-20&gt;       zeromq2: be very large. The corrent limitation on that reduction is the ZMQ_RECOVERY_IVL</div>
<div class="line">[Thursday 09 December 2010] [15:45:10] &lt;CIA-20&gt;       zeromq2: of 1 sec. I added in an additional option ZMQ_RECOVERY_IVL_MSEC, which is the</div>
<div class="line">[Thursday 09 December 2010] [15:45:11] &lt;CIA-20&gt;       zeromq2: Recovery Interval in milliseconds. If used, this will override the previous</div>
<div class="line">[Thursday 09 December 2010] [15:45:11] &lt;CIA-20&gt;       zeromq2: one, and allow you to set a sub-second recovery interval. If not set, the</div>
<div class="line">[Thursday 09 December 2010] [15:45:12] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * ra9d969a 10/ AUTHORS :</div>
<div class="line">[Thursday 09 December 2010] [15:45:13] &lt;CIA-20&gt;       zeromq2: Bob Beaty added to the AUTHORS file</div>
<div class="line">[Thursday 09 December 2010] [15:45:13] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hqM7T8">http://bit.ly/hqM7T8</a></div>
<div class="line">[Thursday 09 December 2010] [16:41:14] &lt;mikko&gt;        <a href="#id358"><span class="problematic" id="id359">sustrik_</span></a>: the thing i was seeing is that the memory just &#8216;sits&#8217; there</div>
<div class="line">[Thursday 09 December 2010] [16:41:24] &lt;mikko&gt;        and doesn&#8217;t go down during when the program runs</div>
<div class="line">[Thursday 09 December 2010] [16:46:02] &lt;<a href="#id360"><span class="problematic" id="id361">sustrik_</span></a>&gt;     that&#8217;s the OS problem AFAIK</div>
<div class="line">[Thursday 09 December 2010] [16:46:24] &lt;<a href="#id362"><span class="problematic" id="id363">sustrik_</span></a>&gt;     OS doesn&#8217;t return deallocated memory back to the shared pool</div>
<div class="line">[Thursday 09 December 2010] [16:46:36] &lt;<a href="#id364"><span class="problematic" id="id365">sustrik_</span></a>&gt;     rather the memory is kept by the running process</div>
<div class="line">[Thursday 09 December 2010] [16:47:19] &lt;<a href="#id366"><span class="problematic" id="id367">sustrik_</span></a>&gt;     Solaris claims that it&#8217;s able to reuse the memory, but my tests haven&#8217;t confirmed it</div>
<div class="line">[Thursday 09 December 2010] [16:49:29] &lt;mikko&gt;        i shouldn&#8217;t see that memory in still reachable in valgrind though</div>
<div class="line">[Thursday 09 December 2010] [16:49:51] &lt;<a href="#id368"><span class="problematic" id="id369">sustrik_</span></a>&gt;     right, that&#8217;s interesting</div>
<div class="line">[Thursday 09 December 2010] [16:49:58] &lt;mikko&gt;        but it might&#8217;ve been an application as i don&#8217;t seem to be able to reproduce after a couple of hours of refactoring</div>
<div class="line">[Thursday 09 December 2010] [16:50:29] &lt;<a href="#id370"><span class="problematic" id="id371">sustrik_</span></a>&gt;     yes, this kind of problems is pretty hard to track down</div>
<div class="line">[Thursday 09 December 2010] [16:52:02] &lt;<a href="#id372"><span class="problematic" id="id373">sustrik_</span></a>&gt;     if you are able to reproduce in the future we can give it a try though</div>
<div class="line">[Thursday 09 December 2010] [16:54:29] &lt;mikko&gt;        cool</div>
<div class="line">[Thursday 09 December 2010] [16:54:36] &lt;mikko&gt;        the tool feels pretty stable now</div>
<div class="line">[Thursday 09 December 2010] [16:54:59] &lt;mikko&gt;        can push a bit over 3k http requests per second on my virtual machine which seems more than enough</div>
<div class="line">[Thursday 09 December 2010] [17:02:51] &lt;<a href="#id374"><span class="problematic" id="id375">sustrik_</span></a>&gt;     :)</div>
<div class="line">[Friday 10 December 2010] [00:55:58] &lt;samBiotic&gt;      could someone please help me get my ruby bindings working on osx.</div>
<div class="line">[Friday 10 December 2010] [00:56:17] &lt;andrewvc&gt;       samBiotic</div>
<div class="line">[Friday 10 December 2010] [00:56:23] &lt;andrewvc&gt;       what&#8217;s going on on OSX?</div>
<div class="line">[Friday 10 December 2010] [00:56:25] &lt;samBiotic&gt;      zeromq has been installed with homebrew</div>
<div class="line">[Friday 10 December 2010] [00:56:33] &lt;samBiotic&gt;      brew install zeromq</div>
<div class="line">[Friday 10 December 2010] [00:56:33] &lt;andrewvc&gt;       also, which lib, ffi-rzmq or rbzmq</div>
<div class="line">[Friday 10 December 2010] [00:57:24] &lt;andrewvc&gt;       hmm, but which ruby binding</div>
<div class="line">[Friday 10 December 2010] [00:57:31] &lt;andrewvc&gt;       have you installed either of the zeromq gems yet?</div>
<div class="line">[Friday 10 December 2010] [00:57:36] &lt;samBiotic&gt;      yes</div>
<div class="line">[Friday 10 December 2010] [00:57:53] &lt;andrewvc&gt;       which one?</div>
<div class="line">[Friday 10 December 2010] [00:58:08] &lt;samBiotic&gt;      gem install zmq &#8211; &#8211;with-zmq-dir=/usr/local</div>
<div class="line">[Friday 10 December 2010] [00:58:39] &lt;andrewvc&gt;       hmmm, I installed zmq for the tarball, and gem install zmq worked fine</div>
<div class="line">[Friday 10 December 2010] [00:58:42] &lt;andrewvc&gt;       <a href="#id5"><span class="problematic" id="id6">*</span></a>from</div>
<div class="line">[Friday 10 December 2010] [00:58:48] &lt;andrewvc&gt;       no idea about homebrew though</div>
<div class="line">[Friday 10 December 2010] [00:58:52] &lt;samBiotic&gt;      checking for zmq_init() in -lzmq... no</div>
<div class="line">[Friday 10 December 2010] [00:58:57] &lt;andrewvc&gt;       you could just try using the zmq tarball</div>
<div class="line">[Friday 10 December 2010] [00:59:16] &lt;samBiotic&gt;      hmm yes i could</div>
<div class="line">[Friday 10 December 2010] [00:59:17] &lt;andrewvc&gt;       I&#8217;ve never installed it through brew myself</div>
<div class="line">[Friday 10 December 2010] [00:59:24] &lt;samBiotic&gt;      ok will try now</div>
<div class="line">[Friday 10 December 2010] [00:59:37] &lt;andrewvc&gt;       cool, I know more about the search paths for ffi-rzmq</div>
<div class="line">[Friday 10 December 2010] [00:59:51] &lt;andrewvc&gt;       you might want to consider using ffi-rzmq btw</div>
<div class="line">[Friday 10 December 2010] [00:59:55] &lt;samBiotic&gt;      ok</div>
<div class="line">[Friday 10 December 2010] [01:00:18] &lt;andrewvc&gt;       unless you have a specific need for the slight speed boost of rbzmq (just my $0.02)</div>
<div class="line">[Friday 10 December 2010] [01:00:24] &lt;samBiotic&gt;      my aim is to build an open sound control multicaster eventually</div>
<div class="line">[Friday 10 December 2010] [01:00:59] &lt;andrewvc&gt;       cool project</div>
<div class="line">[Friday 10 December 2010] [01:01:45] &lt;samBiotic&gt;      i have forward scheduling of packets working but time to live reductions would be preferable</div>
<div class="line">[Friday 10 December 2010] [01:02:16] &lt;Steve-o&gt;        samBiotic: is that like the BBCs project?</div>
<div class="line">[Friday 10 December 2010] [01:02:29] &lt;samBiotic&gt;      what would that be?</div>
<div class="line">[Friday 10 December 2010] [01:03:00] &lt;andrewvc&gt;       samBiotic, with that kind of time constraint, wouldn&#8217;t ruby&#8217;s GC cause issues?</div>
<div class="line">[Friday 10 December 2010] [01:03:10] &lt;Steve-o&gt;        they have a music collaboration tool</div>
<div class="line">[Friday 10 December 2010] [01:03:10] &lt;andrewvc&gt;       at least MRI</div>
<div class="line">[Friday 10 December 2010] [01:04:03] &lt;samBiotic&gt;      andrewvc: possibly, using this <a class="reference external" href="http://opensoundcontrol.org/implementation/ruby-osc-implementation">http://opensoundcontrol.org/implementation/ruby-osc-implementation</a></div>
<div class="line">[Friday 10 December 2010] [01:04:10] &lt;Steve-o&gt;        built upon Kamaelia <a class="reference external" href="http://www.bbc.co.uk/opensource/projects/kamaelia/">http://www.bbc.co.uk/opensource/projects/kamaelia/</a></div>
<div class="line">[Friday 10 December 2010] [01:04:45] &lt;samBiotic&gt;      Steve-o: looks interesting</div>
<div class="line">[Friday 10 December 2010] [01:05:00] &lt;andrewvc&gt;       if you have GC issues btw, jRuby might be the way to go.</div>
<div class="line">[Friday 10 December 2010] [01:05:16] &lt;andrewvc&gt;       plus, you&#8217;ll get real multithreading if you need it</div>
<div class="line">[Friday 10 December 2010] [01:06:36] &lt;andrewvc&gt;       the Kamaelia site seems abandoned</div>
<div class="line">[Friday 10 December 2010] [01:07:09] &lt;Steve-o&gt;        try here, <a class="reference external" href="http://www.kamaelia.org/Home.html">http://www.kamaelia.org/Home.html</a></div>
<div class="line">[Friday 10 December 2010] [01:07:30] &lt;Steve-o&gt;        broken default page</div>
<div class="line">[Friday 10 December 2010] [01:07:40] &lt;andrewvc&gt;       oh, there we go</div>
<div class="line">[Friday 10 December 2010] [01:09:44] &lt;Steve-o&gt;        kamaelia jam from a gsoc 2008 project, <a class="reference external" href="http://www.bbc.co.uk/blogs/bbcinternet/2008/05/google_summer_of_code.html">http://www.bbc.co.uk/blogs/bbcinternet/2008/05/google_summer_of_code.html</a></div>
<div class="line">[Friday 10 December 2010] [01:09:55] &lt;samBiotic&gt;      basically, i aim to eliminate network jitter at a slight expense of increased but static delay by forward syncronising timetagged packets</div>
<div class="line">[Friday 10 December 2010] [01:10:38] &lt;Steve-o&gt;        more like pulseaudio then?</div>
<div class="line">[Friday 10 December 2010] [01:11:27] &lt;samBiotic&gt;      control data only</div>
<div class="line">[Friday 10 December 2010] [01:15:15] &lt;Steve-o&gt;        ok, similar to the pro light control system, what ever that is called</div>
<div class="line">[Friday 10 December 2010] [01:15:42] &lt;Steve-o&gt;        DMX?</div>
<div class="line">[Friday 10 December 2010] [01:18:14] &lt;samBiotic&gt;      yeah kind of, it&#8217;s just a network procotol developed by MIT. <a class="reference external" href="http://opensoundcontrol.org/introduction-osc">http://opensoundcontrol.org/introduction-osc</a></div>
<div class="line">[Friday 10 December 2010] [01:18:59] &lt;samBiotic&gt;      sorry CNMAT</div>
<div class="line">[Friday 10 December 2010] [01:19:53] &lt;andrewvc&gt;       samBiotic what&#8217;s zeromq bring to the table that the OSC protocol doesn&#8217;t?</div>
<div class="line">[Friday 10 December 2010] [01:20:03] &lt;andrewvc&gt;       I&#8217;m not familiar with OSC at all</div>
<div class="line">[Friday 10 December 2010] [01:20:31] &lt;Steve-o&gt;        I&#8217;m guesing OSC over 0MQ</div>
<div class="line">[Friday 10 December 2010] [01:20:40] &lt;samBiotic&gt;      thats what i was going to test</div>
<div class="line">[Friday 10 December 2010] [01:20:50] &lt;Steve-o&gt;        whilst DMX is commercially licensed</div>
<div class="line">[Friday 10 December 2010] [01:26:07] &lt;andrewvc&gt;       btw, did you ever get it up and running on OSX steve?</div>
<div class="line">[Friday 10 December 2010] [01:26:11] &lt;andrewvc&gt;       errr Sam</div>
<div class="line">[Friday 10 December 2010] [01:27:47] &lt;samBiotic&gt;      still at it</div>
<div class="line">[Friday 10 December 2010] [01:27:50] &lt;andrewvc&gt;       I should mention, if you use zerocopy the ffi binding can beat out the speed of the C binding. Not sure if you need to actually open the msgs as they go through</div>
<div class="line">[Friday 10 December 2010] [01:28:19] &lt;samBiotic&gt;      trying gem install ffi-rzmq now</div>
<div class="line">[Friday 10 December 2010] [01:28:42] &lt;andrewvc&gt;       btw, some versions of the ffi gem don&#8217;t play well with ffi-rzmq</div>
<div class="line">[Friday 10 December 2010] [01:29:07] &lt;samBiotic&gt;      seems to have work with my zeromq homebrew install</div>
<div class="line">[Friday 10 December 2010] [01:29:12] &lt;andrewvc&gt;       nice</div>
<div class="line">[Friday 10 December 2010] [01:29:16] &lt;andrewvc&gt;       I think the most recent one is fine, but if you have weird hanging issues  related to threads, try building it from the ffi github repo</div>
<div class="line">[Friday 10 December 2010] [01:29:16] &lt;samBiotic&gt;      worked*</div>
<div class="line">[Friday 10 December 2010] [01:30:22] &lt;andrewvc&gt;       cool</div>
<div class="line">[Friday 10 December 2010] [02:00:08] &lt;samBiotic&gt;      andrewvc and Steve-o thanks for the help</div>
<div class="line">[Friday 10 December 2010] [02:00:18] &lt;samBiotic&gt;      bye for now</div>
<div class="line">[Friday 10 December 2010] [09:25:49] &lt;<a href="#id376"><span class="problematic" id="id377">matias_</span></a>&gt;        hi all :-)</div>
<div class="line">[Friday 10 December 2010] [09:39:42] &lt;Steve-o&gt;        mikko: I&#8217;ve backported many fixes to PGM 5.0 but ANSI strict is a bit too much work, therefore 5.1 must be used for Cygwin/Solaris x6/ANSI strict/OSX</div>
<div class="line">[Friday 10 December 2010] [09:40:11] &lt;mikko&gt;  Steve-o: ok</div>
<div class="line">[Friday 10 December 2010] [09:40:20] &lt;mikko&gt;  maybe we should remove the strict flags for solaris for now</div>
<div class="line">[Friday 10 December 2010] [09:40:28] &lt;mikko&gt;  until we can use 5.1 in zeromq</div>
<div class="line">[Friday 10 December 2010] [09:41:34] &lt;Steve-o&gt;        I need to run through all the tests then I can ship a 5.0.93 and the first 5.1 release</div>
<div class="line">[Friday 10 December 2010] [09:43:59] &lt;Steve-o&gt;        Sun ONE is odd as ever, it wants __asm__ only in C++ ANSI strict</div>
<div class="line">[Friday 10 December 2010] [09:44:11] &lt;Steve-o&gt;        every other combination is fine with __asm</div>
<div class="line">[Friday 10 December 2010] [10:29:37] &lt;mikko&gt;  <a href="#id378"><span class="problematic" id="id379">sustrik_</span></a>: how does HWM interact with ZMQ_QUEUE?</div>
<div class="line">[Friday 10 December 2010] [10:32:39] &lt;<a href="#id380"><span class="problematic" id="id381">sustrik_</span></a>&gt;       mikko: you have to set it by hand</div>
<div class="line">[Friday 10 December 2010] [10:32:53] &lt;<a href="#id382"><span class="problematic" id="id383">sustrik_</span></a>&gt;       i.e.</div>
<div class="line">[Friday 10 December 2010] [10:33:01] &lt;<a href="#id384"><span class="problematic" id="id385">sustrik_</span></a>&gt;       create socket 1, sreate socket 2</div>
<div class="line">[Friday 10 December 2010] [10:33:08] &lt;<a href="#id386"><span class="problematic" id="id387">sustrik_</span></a>&gt;       set hwm on 1. set hwm on 2</div>
<div class="line">[Friday 10 December 2010] [10:33:17] &lt;<a href="#id388"><span class="problematic" id="id389">sustrik_</span></a>&gt;       zmq_device (ZMQ_QUEUEU, s1, s2);</div>
<div class="line">[Friday 10 December 2010] [10:35:31] &lt;mikko&gt;  ok, so in order to get messages swapped out when there is no consumer on the back socket i would just set on s2 ?</div>
<div class="line">[Friday 10 December 2010] [10:42:00] &lt;mikko&gt;  Assertion failed: rc == 0 (pipe.cpp:187)</div>
<div class="line">[Friday 10 December 2010] [10:43:07] &lt;mikko&gt;  swap init</div>
<div class="line">[Friday 10 December 2010] [10:43:42] &lt;mikko&gt;  makes sense now</div>
<div class="line">[Friday 10 December 2010] [10:43:52] &lt;mikko&gt;  so permission issues on swap file causes an assertion</div>
<div class="line">[Friday 10 December 2010] [10:43:54] &lt;mikko&gt;  it looks like</div>
<div class="line">[Friday 10 December 2010] [10:44:18] &lt;mikko&gt;  maybe hte swap location should be a sockopt</div>
<div class="line">[Friday 10 December 2010] [10:44:32] &lt;mikko&gt;  as for example this daemon chdirs to / and drops privileges</div>
<div class="line">[Friday 10 December 2010] [10:44:40] &lt;mikko&gt;  so it makes sense that it cant write</div>
<div class="line">[Friday 10 December 2010] [10:44:55] &lt;<a href="#id390"><span class="problematic" id="id391">sustrik_</span></a>&gt;       mikko: yes</div>
<div class="line">[Friday 10 December 2010] [10:45:10] &lt;<a href="#id392"><span class="problematic" id="id393">sustrik_</span></a>&gt;       it&#8217;s a problem</div>
<div class="line">[Friday 10 December 2010] [10:47:25] &lt;<a href="#id394"><span class="problematic" id="id395">sustrik_</span></a>&gt;       zmq should not fail</div>
<div class="line">[Friday 10 December 2010] [10:47:47] &lt;<a href="#id396"><span class="problematic" id="id397">sustrik_</span></a>&gt;       however, i am not sure what the solution should be</div>
<div class="line">[Friday 10 December 2010] [10:47:54] &lt;mikko&gt;  in this case it would be easy to return error and set errno to eperm</div>
<div class="line">[Friday 10 December 2010] [10:48:09] &lt;<a href="#id398"><span class="problematic" id="id399">sustrik_</span></a>&gt;       it happens on setsockopt?</div>
<div class="line">[Friday 10 December 2010] [10:48:25] &lt;mikko&gt;  it happens later</div>
<div class="line">[Friday 10 December 2010] [10:48:47] &lt;<a href="#id400"><span class="problematic" id="id401">sustrik_</span></a>&gt;       i would say it should happen during setsockopt</div>
<div class="line">[Friday 10 December 2010] [10:49:02] &lt;<a href="#id402"><span class="problematic" id="id403">sustrik_</span></a>&gt;       the async error later on is just confusing</div>
<div class="line">[Friday 10 December 2010] [10:49:02] &lt;mikko&gt;  thats impossible</div>
<div class="line">[Friday 10 December 2010] [10:49:07] &lt;<a href="#id404"><span class="problematic" id="id405">sustrik_</span></a>&gt;       why so?</div>
<div class="line">[Friday 10 December 2010] [10:49:15] &lt;mikko&gt;  you create sequential files</div>
<div class="line">[Friday 10 December 2010] [10:49:31] &lt;mikko&gt;  someone might have one file present with same name which is not writable</div>
<div class="line">[Friday 10 December 2010] [10:49:48] &lt;mikko&gt;  maybe the closes you can get is:</div>
<div class="line">[Friday 10 December 2010] [10:49:56] &lt;mikko&gt;  a) give a sockopt for setting swap dir</div>
<div class="line">[Friday 10 December 2010] [10:50:04] &lt;mikko&gt;  b) check that swap dir is writable</div>
<div class="line">[Friday 10 December 2010] [10:50:14] &lt;mikko&gt;  c) leave the rest to user</div>
<div class="line">[Friday 10 December 2010] [10:50:24] &lt;<a href="#id406"><span class="problematic" id="id407">sustrik_</span></a>&gt;       what i mean was to crate the file would be created directly when setsockopt(SWAP) is called</div>
<div class="line">[Friday 10 December 2010] [10:50:28] &lt;<a href="#id408"><span class="problematic" id="id409">sustrik_</span></a>&gt;       rather than later on</div>
<div class="line">[Friday 10 December 2010] [10:50:39] &lt;<a href="#id410"><span class="problematic" id="id411">sustrik_</span></a>&gt;       thus the credentials would be checked immediately</div>
<div class="line">[Friday 10 December 2010] [10:50:59] &lt;mikko&gt;  yes, that would work as well</div>
<div class="line">[Friday 10 December 2010] [10:51:19] &lt;<a href="#id412"><span class="problematic" id="id413">sustrik_</span></a>&gt;       that should be rathereasy</div>
<div class="line">[Friday 10 December 2010] [10:51:20] &lt;mikko&gt;  and allow setting swap file name by sockopt</div>
<div class="line">[Friday 10 December 2010] [10:51:35] &lt;<a href="#id414"><span class="problematic" id="id415">sustrik_</span></a>&gt;       yes, that&#8217;s an option</div>
<div class="line">[Friday 10 December 2010] [10:51:43] &lt;mikko&gt;  if not set default to current</div>
<div class="line">[Friday 10 December 2010] [10:52:05] &lt;mikko&gt;  a lot of daemons won&#8217;t have write permissions to $PWD</div>
<div class="line">[Friday 10 December 2010] [10:52:15] &lt;<a href="#id416"><span class="problematic" id="id417">sustrik_</span></a>&gt;       right</div>
<div class="line">[Friday 10 December 2010] [10:52:29] &lt;<a href="#id418"><span class="problematic" id="id419">sustrik_</span></a>&gt;       can you fill an issue in the bugtracker so that we don&#8217;t forget about it?</div>
<div class="line">[Friday 10 December 2010] [10:54:09] &lt;mikko&gt;  <a href="#id420"><span class="problematic" id="id421">sustrik_</span></a>: even better, i can create an issue and try to create patch tonight</div>
<div class="line">[Friday 10 December 2010] [10:57:23] &lt;mikko&gt;  issue 140</div>
<div class="line">[Friday 10 December 2010] [10:58:49] &lt;<a href="#id422"><span class="problematic" id="id423">sustrik_</span></a>&gt;       :)</div>
<div class="line">[Saturday 11 December 2010] [06:43:41] &lt;mikko&gt;        sustrik: you there?</div>
<div class="line">[Saturday 11 December 2010] [06:43:52] &lt;sustrik&gt;      hi</div>
<div class="line">[Saturday 11 December 2010] [06:44:11] &lt;mikko&gt;        i created a small patch for the swap</div>
<div class="line">[Saturday 11 December 2010] [06:44:33] &lt;mikko&gt;        now it fails when you try to set invalid swap file. the implementation doesn&#8217;t feel ideal but it works</div>
<div class="line">[Saturday 11 December 2010] [06:44:47] &lt;sustrik&gt;      mikko: i&#8217;ll review it</div>
<div class="line">[Saturday 11 December 2010] [06:44:53] &lt;sustrik&gt;      just send it to the ml</div>
<div class="line">[Saturday 11 December 2010] [06:46:05] &lt;mikko&gt;        is there a portable PATH_MAX ?</div>
<div class="line">[Saturday 11 December 2010] [06:57:26] &lt;sustrik&gt;      mikko: let me see</div>
<div class="line">[Saturday 11 December 2010] [06:58:05] &lt;sustrik&gt;      it&#8217;s POSIX</div>
<div class="line">[Saturday 11 December 2010] [06:58:05] &lt;sustrik&gt;      <a class="reference external" href="http://www.opengroup.org/onlinepubs/009695399/basedefs/limits.h.html">http://www.opengroup.org/onlinepubs/009695399/basedefs/limits.h.html</a></div>
<div class="line">[Saturday 11 December 2010] [07:18:51] &lt;mikko&gt;        <a class="reference external" href="http://valokuva.org/~mikko/swap.patch">http://valokuva.org/~mikko/swap.patch</a> it&#8217;s there for now. does it look sensible?</div>
<div class="line">[Saturday 11 December 2010] [07:19:09] &lt;mikko&gt;        i&#8217;ll mail ml later, now i need to vacuum before my better half comes back from hair dresser :)</div>
<div class="line">[Saturday 11 December 2010] [07:31:11] &lt;mikko&gt;        hmm</div>
<div class="line">[Saturday 11 December 2010] [07:31:24] &lt;mikko&gt;        maybe it would make more sense to move swap to options</div>
<div class="line">[Saturday 11 December 2010] [07:31:38] &lt;mikko&gt;        and initialize it when user sets swap size</div>
<div class="line">[Saturday 11 December 2010] [07:34:21] &lt;sustrik&gt;      mikko: yes, that&#8217;s what i had in mind originally</div>
<div class="line">[Saturday 11 December 2010] [07:34:32] &lt;sustrik&gt;      there&#8217;s one problem though</div>
<div class="line">[Saturday 11 December 2010] [07:34:53] &lt;sustrik&gt;      on the bind side there are N connections</div>
<div class="line">[Saturday 11 December 2010] [07:35:01] &lt;sustrik&gt;      the number is unspecified</div>
<div class="line">[Saturday 11 December 2010] [07:35:09] &lt;sustrik&gt;      so you cannot create the files in advance</div>
<div class="line">[Saturday 11 December 2010] [07:35:28] &lt;sustrik&gt;      maybe creating a single dummy file to check the permissions would do?</div>
<div class="line">[Saturday 11 December 2010] [07:37:35] &lt;mikko&gt;        that should be fine</div>
<div class="line">[Saturday 11 December 2010] [07:37:53] &lt;mikko&gt;        or maybe even check if the folder is writable</div>
<div class="line">[Saturday 11 December 2010] [07:38:01] &lt;mikko&gt;        not sure how that works with windows acls etc</div>
<div class="line">[Saturday 11 December 2010] [07:38:06] &lt;sustrik&gt;      if possible with POSIX API...</div>
<div class="line">[Saturday 11 December 2010] [07:38:24] &lt;sustrik&gt;      creating a dummy seems easier imo</div>
<div class="line">[Saturday 11 December 2010] [07:40:43] &lt;mikko&gt;        should the swap append sequence number to filename given?</div>
<div class="line">[Saturday 11 December 2010] [07:41:02] &lt;mikko&gt;        so if i give /tmp/test.swap the actual filename would be /tmp/test.swap.1</div>
<div class="line">[Saturday 11 December 2010] [07:41:05] &lt;mikko&gt;        or something</div>
<div class="line">[Saturday 11 December 2010] [09:46:36] &lt;mikko&gt;        sustrik: i think swap_dir option makes more sense than swap file</div>
<div class="line">[Sunday 12 December 2010] [05:35:43] &lt;mathijs&gt;        Hi all, is it possible to find out how many messages are currently buffered?</div>
<div class="line">[Sunday 12 December 2010] [05:36:56] &lt;mathijs&gt;        I like the HWM and the transparent way things get handled in 0mq, but I would like to do some custom stuff when problems arise</div>
<div class="line">[Sunday 12 December 2010] [05:38:27] &lt;mathijs&gt;        So if a buffer starts to fill up, or reaches HWM, I would like my program to log warnings about it, or talk to some controller process about it.</div>
<div class="line">[Sunday 12 December 2010] [05:40:59] &lt;mathijs&gt;        ofcourse I can have my processes all log every received/sent message through some other socket to have a central process track overall flow, but it would be nice if there was a more low-level way</div>
<div class="line">[Sunday 12 December 2010] [05:42:32] &lt;sustrik&gt;        set hwm, send in non-blocking way</div>
<div class="line">[Sunday 12 December 2010] [05:42:47] &lt;rgl&gt;    mathijs, I don&#8217;t think its possible right now; but from what I understood, future ZMQ version will have a way to accesses those events.</div>
<div class="line">[Sunday 12 December 2010] [05:42:48] &lt;sustrik&gt;        when zmq_send returns EAGAIN, the buffer is full</div>
<div class="line">[Sunday 12 December 2010] [05:43:04] &lt;rgl&gt;    oh we can? <em>G</em></div>
<div class="line">[Sunday 12 December 2010] [05:43:34] &lt;mathijs&gt;        sustrik: so set a low hwm to have the application handle it?</div>
<div class="line">[Sunday 12 December 2010] [05:43:47] &lt;sustrik&gt;        if you want so</div>
<div class="line">[Sunday 12 December 2010] [05:44:08] &lt;sustrik&gt;        think of the queue as a network buffer</div>
<div class="line">[Sunday 12 December 2010] [05:44:10] &lt;rgl&gt;    we can also store the messages in a file, right?</div>
<div class="line">[Sunday 12 December 2010] [05:44:31] &lt;sustrik&gt;        you can offload them to the disk,yes</div>
<div class="line">[Sunday 12 December 2010] [05:46:18] &lt;mathijs&gt;        hmmm ok, that will work for preventing problems.   but what I would like as well is a way to shut down an application safely. I understood 0mq 2.1 will wait for all messages to be handled (empty buffers). So in case one buffer isn&#8217;t empty yet, and waiting for some other process to come up, I would like to find out what socket/buffer is waiting</div>
<div class="line">[Sunday 12 December 2010] [05:50:28] &lt;rgl&gt;    indeed, it would be nice to get the current state of a socket (or receive events about state changes). this is something that will be available on the future right sustrik?</div>
<div class="line">[Sunday 12 December 2010] [07:30:26] &lt;sustrik&gt;        mathijs, rgl: the number of messages in 0MQ queue is an irrelevant statistic, the messages are queue along the whole path from sender to receiver, in 0MQ buffers, TCP buffers, NICs, switch and router queues etc.</div>
<div class="line">[Sunday 12 December 2010] [07:33:43] &lt;rgl&gt;    sustrik, humm. sure, but they give you some hint if anything might be wrong. for example, how do we known why the messages are pilling up? it might be because a single consumer is delaying the whole seebang.</div>
<div class="line">[Sunday 12 December 2010] [07:34:38] &lt;rgl&gt;    or for some reason we stopped to be able to connect the socket that once was working fine.</div>
<div class="line">[Sunday 12 December 2010] [07:34:42] &lt;sustrik&gt;        that&#8217;s why slow consumers are disconnected in pub/sub pattern</div>
<div class="line">[Sunday 12 December 2010] [07:35:05] &lt;rgl&gt;    indeed, but currently, how do you known it was disconnected?</div>
<div class="line">[Sunday 12 December 2010] [07:35:17] &lt;sustrik&gt;        yes, &#8220;cannot reconnect&#8221; problem should be logged</div>
<div class="line">[Sunday 12 December 2010] [07:35:34] &lt;sustrik&gt;        because it may be a signal to admins that something went wrong</div>
<div class="line">[Sunday 12 December 2010] [07:35:39] &lt;sustrik&gt;        and manual intervntion is needed</div>
<div class="line">[Sunday 12 December 2010] [07:36:12] &lt;rgl&gt;    indeed, thats something that we should be able to log, and to monitor, so we can act uppon it.</div>
<div class="line">[Sunday 12 December 2010] [07:36:27] &lt;sustrik&gt;        there&#8217;s a logging mechanism in 0MQ, but at the moment nobody logs anything</div>
<div class="line">[Sunday 12 December 2010] [07:36:29] &lt;sustrik&gt;        TODO</div>
<div class="line">[Sunday 12 December 2010] [07:38:12] &lt;rgl&gt;    I might be wrong, but I though there were some messages on the ML about funneling that into some in-queue that could be consumed as a regular socket.</div>
<div class="line">[Sunday 12 December 2010] [10:02:43] &lt;mikko&gt;  sustrik: Assertion failed: stored (pipe.cpp:238)</div>
<div class="line">[Sunday 12 December 2010] [10:02:54] &lt;mikko&gt;  what should be the behavior when swap fills up?</div>
<div class="line">[Sunday 12 December 2010] [10:03:14] &lt;mikko&gt;  happens in zmq::writer_t::write pipe.cpp</div>
<div class="line">[Sunday 12 December 2010] [10:06:17] &lt;mikko&gt;  actually it should probably return false in bool zmq::writer_t::write (zmq_msg_t <a href="#id7"><span class="problematic" id="id8">*</span></a><a href="#id424"><span class="problematic" id="id425">msg_</span></a>)</div>
<div class="line">[Sunday 12 December 2010] [10:34:05] &lt;benoitc&gt;        hi all</div>
<div class="line">[Sunday 12 December 2010] [10:34:47] &lt;benoitc&gt;        can we fork processes and share a zeromq &#8220;socket&#8221; between children ?</div>
<div class="line">[Sunday 12 December 2010] [10:34:54] &lt;benoitc&gt;        with pyzmq</div>
<div class="line">[Sunday 12 December 2010] [10:49:01] &lt;cremes&gt; benoitc: i doubt that is supported; it&#8217;s not a good idea at all</div>
<div class="line">[Sunday 12 December 2010] [10:49:35] &lt;cremes&gt; if the children need to communicate with each other, open up sockets that are specific to that job</div>
<div class="line">[Sunday 12 December 2010] [11:04:55] &lt;benoitc&gt;        so i need to open a zmq socket per worker on the parent process ?</div>
<div class="line">[Sunday 12 December 2010] [11:06:12] &lt;cremes&gt; benoitc: that&#8217;s what i would recommend</div>
<div class="line">[Sunday 12 December 2010] [11:06:25] &lt;cremes&gt; these sockets are &#8220;cheap&#8221; so i wouldn&#8217;t worry about computational cost</div>
<div class="line">[Sunday 12 December 2010] [11:07:18] &lt;benoitc&gt;        hm ok</div>
<div class="line">[Sunday 12 December 2010] [11:07:20] &lt;benoitc&gt;        thanks</div>
<div class="line">[Sunday 12 December 2010] [11:07:52] &lt;cremes&gt; saying &#8220;hmmm&#8221; implies you either don&#8217;t agree or you don&#8217;t understand why</div>
<div class="line">[Sunday 12 December 2010] [11:07:58] &lt;cremes&gt; do you still have a question?</div>
<div class="line">[Sunday 12 December 2010] [11:08:22] &lt;benoitc&gt;        well it means i&#8217;ve to rethink my design :)</div>
<div class="line">[Sunday 12 December 2010] [11:08:58] &lt;benoitc&gt;        i was thinking at first to just open a zmq like any socket and make it not blocking</div>
<div class="line">[Sunday 12 December 2010] [11:09:04] &lt;cremes&gt; not necessarily; if your design called for multiple children to all listen to the same socket then perhaps a device in the middle will solve your issue</div>
<div class="line">[Sunday 12 December 2010] [11:09:50] &lt;cremes&gt; all children can connect to the device on the same port and the device will (depending on socket type) deliver messages to the children</div>
<div class="line">[Sunday 12 December 2010] [11:09:51] &lt;benoitc&gt;        well idea was to balance between workers as soon as a message is send to the socket</div>
<div class="line">[Sunday 12 December 2010] [11:10:00] &lt;cremes&gt; definitely read the guide if you haven&#8217;t done so yet</div>
<div class="line">[Sunday 12 December 2010] [11:10:12] &lt;cremes&gt; so you are using req/rep sockets?</div>
<div class="line">[Sunday 12 December 2010] [11:13:32] &lt;cremes&gt; i need to run out for about 90m; feel free to post a description of what you are trying to do</div>
<div class="line">[Sunday 12 December 2010] [11:13:39] &lt;cremes&gt; i&#8217;ll try to give some guidance when i return</div>
<div class="line">[Sunday 12 December 2010] [11:14:14] &lt;benoitc&gt;        mm yes I should reply i took the message I guess</div>
<div class="line">[Sunday 12 December 2010] [11:14:43] &lt;benoitc&gt;        in my first approach wanted to have this balancing you can do with &#8220;normal&#8221; sockets</div>
<div class="line">[Sunday 12 December 2010] [11:14:51] &lt;benoitc&gt;        anyway later</div>
<div class="line">[Sunday 12 December 2010] [11:15:41]   * benoitc want the sockett.accept like</div>
<div class="line">[Sunday 12 December 2010] [11:53:37] &lt;mikko&gt;  benoitc: 0MQ has load-balancing built-in</div>
<div class="line">[Sunday 12 December 2010] [11:56:29] &lt;benoitc&gt;        mikko: so once the message is get by one listsner in req/rep it won&#8217;t be send to other listeners ?</div>
<div class="line">[Sunday 12 December 2010] [11:56:36] &lt;benoitc&gt;        (just want to make sure)</div>
<div class="line">[Sunday 12 December 2010] [11:58:24] &lt;mikko&gt;  benoitc: different socket types have different kind of distribution algorithms</div>
<div class="line">[Sunday 12 December 2010] [11:58:37] &lt;mikko&gt;  for example in PUB/SUB the published message is sent to all subscribers</div>
<div class="line">[Sunday 12 December 2010] [11:59:07] &lt;mikko&gt;  but for example PUSH/PULL balances between live connections</div>
<div class="line">[Sunday 12 December 2010] [11:59:14] &lt;mikko&gt;  you should really read zguide</div>
<div class="line">[Sunday 12 December 2010] [13:00:52] &lt;cremes&gt; benoitc: mikko is right; most of this is covered in the guide:  <a class="reference external" href="http://zguide.zeromq.org/chapter:all">http://zguide.zeromq.org/chapter:all</a></div>
<div class="line">[Sunday 12 December 2010] [13:01:02] &lt;cremes&gt; for some reason, that link is returning a 503 right now</div>
<div class="line">[Sunday 12 December 2010] [13:01:20] &lt;cremes&gt; sustrik, pieterh: the guide is offline</div>
<div class="line">[Sunday 12 December 2010] [13:01:30] &lt;cremes&gt; it&#8217;s returning a 503 error</div>
<div class="line">[Sunday 12 December 2010] [13:26:35] &lt;mikko&gt;  cremes: works from here</div>
<div class="line">[Sunday 12 December 2010] [13:27:07] &lt;cremes&gt; mikko: it&#8217;s responding now for me too but it wasn&#8217;t before</div>
<div class="line">[Sunday 12 December 2010] [14:18:38] &lt;benoitc&gt;        yeah reading it</div>
<div class="line">[Sunday 12 December 2010] [14:18:41] &lt;benoitc&gt;        thanks</div>
<div class="line">[Sunday 12 December 2010] [15:14:53] &lt;sustrik&gt;        mikko: what version is that?</div>
<div class="line">[Sunday 12 December 2010] [15:15:19] &lt;sustrik&gt;        what it should do is behave the same way is if HWM is reached</div>
<div class="line">[Sunday 12 December 2010] [15:15:30] &lt;sustrik&gt;        block, drop, whatever</div>
<div class="line">[Sunday 12 December 2010] [15:15:37] &lt;sustrik&gt;        depending on the pattern</div>
<div class="line">[Sunday 12 December 2010] [15:18:32] &lt;mikko&gt;  sustrik: trunk, the lines won&#8217;t match as i have some local changes</div>
<div class="line">[Sunday 12 December 2010] [15:19:15] &lt;mikko&gt;  sustrik: yes, probably</div>
<div class="line">[Sunday 12 December 2010] [15:19:16] &lt;sustrik&gt;        i see, so which assertion was actually hit?</div>
<div class="line">[Sunday 12 December 2010] [15:19:28] &lt;mikko&gt;  sustrik: writer_t::write</div>
<div class="line">[Sunday 12 December 2010] [15:19:35] &lt;mikko&gt;  when swap is full</div>
<div class="line">[Sunday 12 December 2010] [15:19:40] &lt;mikko&gt;  let me check the upstread lineno</div>
<div class="line">[Sunday 12 December 2010] [15:19:43] &lt;sustrik&gt;        zmq_assert (stored); ?</div>
<div class="line">[Sunday 12 December 2010] [15:20:20] &lt;mikko&gt;  <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/src/pipe.cpp#L237">https://github.com/zeromq/zeromq2/blob/master/src/pipe.cpp#L237</a></div>
<div class="line">[Sunday 12 December 2010] [15:20:22] &lt;mikko&gt;  yes</div>
<div class="line">[Sunday 12 December 2010] [15:20:53] &lt;sustrik&gt;        looks like a bug</div>
<div class="line">[Sunday 12 December 2010] [15:20:57] &lt;mathijs&gt;        I read some discussion about socket migrations and memory barriers. I never heard of those before, so I probably shouldn&#8217;t touch stuff...  but I think I have a possible usecase. GHC (haskell) uses a IO manager which manages a pool of OS threads. On top of those, it runs &#8220;green threads&#8221;. A green thread can signal it&#8217;s waiting for some FD. execution stops. When the fd is ready (epoll), execution resumes. But it&#8217;s possible that it&#8217;s mapped to a</div>
<div class="line">[Sunday 12 December 2010] [15:20:57] &lt;mathijs&gt;         different OS thread</div>
<div class="line">[Sunday 12 December 2010] [15:21:10] &lt;sustrik&gt;        afaiu the saving of messages to the swap is not atomic</div>
<div class="line">[Sunday 12 December 2010] [15:21:37] &lt;sustrik&gt;        i.e. you can store one message part and next one is rejected</div>
<div class="line">[Sunday 12 December 2010] [15:21:44] &lt;sustrik&gt;        should be fixed</div>
<div class="line">[Sunday 12 December 2010] [15:22:40] &lt;mathijs&gt;        is the case I describe a valid one for using socket migrations?</div>
<div class="line">[Sunday 12 December 2010] [15:24:47] &lt;sustrik&gt;        yes, that was the main use case for the &#8220;migration&#8221; feature</div>
<div class="line">[Sunday 12 December 2010] [15:25:14] &lt;sustrik&gt;        you can assume that the memory barriers are handled correctly by haskell runtime</div>
<div class="line">[Sunday 12 December 2010] [15:25:23] &lt;mathijs&gt;        I can signal the IO manager that a certain green thread gets mapped to the same OS thread every time it runs/continues, but having them scheduled on the least-busy OS thread sounds better.</div>
<div class="line">[Sunday 12 December 2010] [15:25:48] &lt;sustrik&gt;        yes, it should work</div>
<div class="line">[Sunday 12 December 2010] [15:25:58] &lt;mathijs&gt;        sustrik: thanks</div>
<div class="line">[Sunday 12 December 2010] [16:08:57] &lt;mikko&gt;  sustrik: so, i&#8217;m thinking about the whole swap thing</div>
<div class="line">[Sunday 12 December 2010] [16:09:20] &lt;mikko&gt;  what do you think about abstracting the swap slightly further?</div>
<div class="line">[Sunday 12 December 2010] [16:09:46] &lt;mikko&gt;  maybe something like: make the swap implementation pluggable and use inproc pipe to communicate with the swap engine</div>
<div class="line">[Sunday 12 December 2010] [16:24:25] &lt;sustrik&gt;        mikko: that way you would introduce a bottleneck</div>
<div class="line">[Sunday 12 December 2010] [16:25:05] &lt;mikko&gt;  but swap is going to be a bottleneck in any case</div>
<div class="line">[Sunday 12 December 2010] [16:25:05] &lt;sustrik&gt;        you can always make a device that would store messages on the disk if you want to</div>
<div class="line">[Sunday 12 December 2010] [16:25:43] &lt;mikko&gt;  the whole concept of swapping is more preserving operation rather than performance</div>
<div class="line">[Sunday 12 December 2010] [16:26:17] &lt;sustrik&gt;        the point is that you want the swap as fast as possible exactly because it is slow</div>
<div class="line">[Sunday 12 December 2010] [16:26:25] &lt;sustrik&gt;        so, for example</div>
<div class="line">[Sunday 12 December 2010] [16:26:38] &lt;sustrik&gt;        if your apps falls over into swap mode</div>
<div class="line">[Sunday 12 December 2010] [16:27:00] &lt;sustrik&gt;        you want it to get out of it as fast as possible once the network is up and running again</div>
<div class="line">[Sunday 12 December 2010] [16:29:04] &lt;sustrik&gt;        if you make it slow it may even happen that it will never get out of the swap mode</div>
<div class="line">[Sunday 12 December 2010] [16:29:14] &lt;sustrik&gt;        it&#8217;s kind of tricky</div>
<div class="line">[Sunday 12 December 2010] [16:29:26] &lt;mikko&gt;  how much overhead does forwarding a message over inproc pipe add?</div>
<div class="line">[Sunday 12 December 2010] [16:29:48] &lt;sustrik&gt;        dunno</div>
<div class="line">[Sunday 12 December 2010] [16:29:52] &lt;sustrik&gt;        should be measured</div>
<div class="line">[Sunday 12 December 2010] [16:30:56] &lt;sustrik&gt;        maybe it would make no difference at all</div>
<div class="line">[Sunday 12 December 2010] [16:31:59] &lt;mikko&gt;  if there is little or no overhead it would allow people to implement optimised swap solutions</div>
<div class="line">[Sunday 12 December 2010] [16:32:07] &lt;sustrik&gt;        sure</div>
<div class="line">[Sunday 12 December 2010] [16:32:34] &lt;mikko&gt;  i noticed that there is the posix_fadvise for linux</div>
<div class="line">[Sunday 12 December 2010] [16:32:39] &lt;sustrik&gt;        yes</div>
<div class="line">[Sunday 12 December 2010] [16:32:46] &lt;mikko&gt;  but there are probably available optimizations for other platforms as well</div>
<div class="line">[Sunday 12 December 2010] [16:33:16] &lt;mikko&gt;  my point with this was: swap is really something that doesn&#8217;t necessarily need to be in 0MQ core</div>
<div class="line">[Sunday 12 December 2010] [16:33:24] &lt;sustrik&gt;        ack</div>
<div class="line">[Sunday 12 December 2010] [16:33:33] &lt;mikko&gt;  if the implementation was pluggable it would allow people to make their own and share them</div>
<div class="line">[Sunday 12 December 2010] [16:33:41] &lt;mikko&gt;  not sure, it&#8217;s tricky</div>
<div class="line">[Sunday 12 December 2010] [16:33:48] &lt;sustrik&gt;        it was added as a feature paid for by a customer</div>
<div class="line">[Sunday 12 December 2010] [16:34:26] &lt;sustrik&gt;        so it&#8217;s kind of a hack atm</div>
<div class="line">[Sunday 12 December 2010] [16:35:20] &lt;mikko&gt;  void zmq::swap_t::rollback ()</div>
<div class="line">[Sunday 12 December 2010] [16:35:24] &lt;mikko&gt;  is that used ?</div>
<div class="line">[Sunday 12 December 2010] [16:35:25] &lt;sustrik&gt;        let me think about it...</div>
<div class="line">[Sunday 12 December 2010] [16:35:37] &lt;mikko&gt;  as it seems that it ends up into assertion in any possible path</div>
<div class="line">[Sunday 12 December 2010] [16:35:38] &lt;sustrik&gt;        mikko: it should be afaics</div>
<div class="line">[Sunday 12 December 2010] [16:35:59] &lt;mikko&gt;  well, possibly ends up</div>
<div class="line">[Sunday 12 December 2010] [16:36:04] &lt;sustrik&gt;        hm, quite possibly i&#8217;ve broken the implementation when i did all the changes for 2.1</div>
<div class="line">[Sunday 12 December 2010] [16:37:15] &lt;sustrik&gt;        well, it would be nice is swapping was implemented as a device</div>
<div class="line">[Sunday 12 December 2010] [16:37:30] &lt;sustrik&gt;        so you would just plug it in-between two nodes to get swap</div>
<div class="line">[Sunday 12 December 2010] [16:38:02] &lt;sustrik&gt;        one problem is that by doing so you have to do two hops instead of a single one</div>
<div class="line">[Sunday 12 December 2010] [16:38:17] &lt;sustrik&gt;        even though swap is not being used at the moment</div>
<div class="line">[Sunday 12 December 2010] [16:38:23] &lt;mikko&gt;  that is true</div>
<div class="line">[Sunday 12 December 2010] [16:38:43] &lt;mikko&gt;  but would you use swap if you were aiming for absolute performance?</div>
<div class="line">[Sunday 12 December 2010] [16:38:59] &lt;sustrik&gt;        actually, i like the idea</div>
<div class="line">[Sunday 12 December 2010] [16:39:28] &lt;sustrik&gt;        we could just say &#8216;sorry, there&#8217;s performance impact with swap&#8217;</div>
<div class="line">[Sunday 12 December 2010] [16:39:49] &lt;mikko&gt;  so, if you were to generalise this a bit further</div>
<div class="line">[Sunday 12 December 2010] [16:40:29] &lt;mikko&gt;  zmq_callback_device which takes function pointers for message received from front and sent out to back</div>
<div class="line">[Sunday 12 December 2010] [16:40:43] &lt;mikko&gt;  then swap would implement functions for storing and removing</div>
<div class="line">[Sunday 12 December 2010] [16:40:55] &lt;mikko&gt;  you could use the same pattern for implementing &#8216;persistent&#8217; things</div>
<div class="line">[Sunday 12 December 2010] [16:41:04] &lt;mikko&gt;  not sure about exact details yet</div>
<div class="line">[Sunday 12 December 2010] [16:41:12] &lt;sustrik&gt;        right, it&#8217;s just a device</div>
<div class="line">[Sunday 12 December 2010] [16:41:32] &lt;sustrik&gt;        i would like to move devices out of core 0mq with 3.0</div>
<div class="line">[Sunday 12 December 2010] [16:41:49] &lt;sustrik&gt;        swap could be removed as well at that point</div>
<div class="line">[Sunday 12 December 2010] [16:41:55] &lt;mikko&gt;  i think for devices to be more useful is a way to stop them without SIGINT</div>
<div class="line">[Sunday 12 December 2010] [16:42:01] &lt;sustrik&gt;        and instead we can provide a standalone swapping device</div>
<div class="line">[Sunday 12 December 2010] [16:42:24] &lt;sustrik&gt;        yes, you want a remote managementy</div>
<div class="line">[Sunday 12 December 2010] [16:42:46] &lt;mikko&gt;  void <a href="#id9"><span class="problematic" id="id10">*</span></a>device = zmq_device(...); while (1) { if (shutdown) { device_shutdown(device); } sleep(5); }</div>
<div class="line">[Sunday 12 December 2010] [16:42:49] &lt;mikko&gt;  something like that</div>
<div class="line">[Sunday 12 December 2010] [16:43:26] &lt;sustrik&gt;        shutdown sent as a message to the device, right?</div>
<div class="line">[Sunday 12 December 2010] [16:43:31] &lt;mikko&gt;  yes, currently in my small program i run device in a thread and just use pthread_cancel to stop the device thread</div>
<div class="line">[Sunday 12 December 2010] [16:43:33] &lt;sustrik&gt;        from the management console</div>
<div class="line">[Sunday 12 December 2010] [16:43:44] &lt;mikko&gt;  that is a possibility yes</div>
<div class="line">[Sunday 12 December 2010] [16:43:57] &lt;mikko&gt;  but does it open the device for DoS ?</div>
<div class="line">[Sunday 12 December 2010] [16:44:07] &lt;mikko&gt;  or do you mean some sort of internal message?</div>
<div class="line">[Sunday 12 December 2010] [16:44:16] &lt;sustrik&gt;        you need authentication etc.</div>
<div class="line">[Sunday 12 December 2010] [16:44:30] &lt;sustrik&gt;        the whole device thing is where development will happen in the future imo</div>
<div class="line">[Sunday 12 December 2010] [16:45:11] &lt;sustrik&gt;        actually, what i foresee is that devices will be removed from core 0mq</div>
<div class="line">[Sunday 12 December 2010] [16:45:35] &lt;sustrik&gt;        there will be various open source devices</div>
<div class="line">[Sunday 12 December 2010] [16:45:51] &lt;sustrik&gt;        but there can also be complex proprietary devices</div>
<div class="line">[Sunday 12 December 2010] [16:46:05] &lt;mikko&gt;  we should have a hackathon on removing all these assertions at some point</div>
<div class="line">[Sunday 12 December 2010] [16:46:14] &lt;sustrik&gt;        think of how cisco builds boxes for TCP/IP stack</div>
<div class="line">[Sunday 12 December 2010] [16:46:47] &lt;sustrik&gt;        yes, but it has to happen with new major version</div>
<div class="line">[Sunday 12 December 2010] [16:46:50] &lt;sustrik&gt;        i.e. 3.0</div>
<div class="line">[Sunday 12 December 2010] [16:47:01] &lt;sustrik&gt;        as it&#8217;s not backward compatible</div>
<div class="line">[Sunday 12 December 2010] [16:49:41] &lt;mikko&gt;  thats true</div>
<div class="line">[Sunday 12 December 2010] [18:36:00] Notice   -tomaw- [Global Notice] We&#8217;re restarting services to fix some database issues; please remain patient as it will return soon.</div>
<div class="line">[Monday 13 December 2010] [07:09:29] &lt;mikko&gt;  sustrik: hi</div>
<div class="line">[Monday 13 December 2010] [07:13:54] &lt;sustrik&gt;        hi</div>
<div class="line">[Monday 13 December 2010] [07:16:19] &lt;mikko&gt;  again, thinking out loud here: extending uris to allow shortcut for setting socket options</div>
<div class="line">[Monday 13 December 2010] [07:16:46] &lt;mikko&gt;  <a class="reference external" href="tcp://127.0.0.1:5555?linger=1000&amp;identity=mytestsocket">tcp://127.0.0.1:5555?linger=1000&amp;identity=mytestsocket</a></div>
<div class="line">[Monday 13 December 2010] [07:17:11] &lt;mikko&gt;  although this could be done in the user application as well</div>
<div class="line">[Monday 13 December 2010] [07:17:16] &lt;sustrik&gt;        can be useful but should be implemented as a layer on top of 0mq</div>
<div class="line">[Monday 13 December 2010] [07:17:24] &lt;sustrik&gt;        exactly</div>
<div class="line">[Monday 13 December 2010] [07:17:48] &lt;sustrik&gt;        the problem is that this kind of thing means wandering far away from POSIX</div>
<div class="line">[Monday 13 December 2010] [07:17:53] &lt;ianbarber&gt;      maybe a standard function in zfl for creating sockets from a url like that?</div>
<div class="line">[Monday 13 December 2010] [07:18:01] &lt;sustrik&gt;        for example</div>
<div class="line">[Monday 13 December 2010] [07:18:15] &lt;sustrik&gt;        it&#8217;s useful, so it&#8217;s worth of implementing it</div>
<div class="line">[Monday 13 December 2010] [07:24:05] &lt;sustrik&gt;        mikko: btw, i&#8217;ve added your idea about swap-&gt;device to 3.0 roadmap</div>
<div class="line">[Monday 13 December 2010] [07:24:09] &lt;sustrik&gt;        <a class="reference external" href="http://www.zeromq.org/docs:3-0">http://www.zeromq.org/docs:3-0</a></div>
<div class="line">[Monday 13 December 2010] [07:25:56] &lt;mikko&gt;  sustrik: cool</div>
<div class="line">[Monday 13 December 2010] [07:26:14] &lt;mikko&gt;  i was thinking about the control channel</div>
<div class="line">[Monday 13 December 2010] [07:26:29] &lt;mikko&gt;  it&#8217;s not necessary to do it over a remote management</div>
<div class="line">[Monday 13 December 2010] [07:26:49] &lt;mikko&gt;  as if there was a device handle (void <a href="#id11"><span class="problematic" id="id12">*</span></a>) like with sockets then people could build their own if that is a requirement</div>
<div class="line">[Monday 13 December 2010] [07:26:55] &lt;mikko&gt;  lunch -&gt;</div>
<div class="line">[Monday 13 December 2010] [07:29:31] &lt;sustrik&gt;        i don&#8217;t follow</div>
<div class="line">[Monday 13 December 2010] [07:29:46] &lt;sustrik&gt;        people can build their own device even now, no?</div>
<div class="line">[Monday 13 December 2010] [07:30:29] &lt;mrm2m&gt;  Hey ho!</div>
<div class="line">[Monday 13 December 2010] [07:31:57] &lt;ianbarber&gt;      sustrik: i think the idea was to allow control flow outside the device, so the device runs in another thread, and the control is done through the parent process.</div>
<div class="line">[Monday 13 December 2010] [07:32:25] &lt;sustrik&gt;        hi</div>
<div class="line">[Monday 13 December 2010] [07:32:32] &lt;sustrik&gt;        ianbarber: sure</div>
<div class="line">[Monday 13 December 2010] [07:32:46] &lt;sustrik&gt;        what i meant was that you can do such thing even today</div>
<div class="line">[Monday 13 December 2010] [07:32:54] &lt;mrm2m&gt;  Is there a one directional socket type? I&#8217;ve got some data I&#8217;d like to send to a server, but I&#8217;m not interested in any message if the data was received correctly or even if it was received.</div>
<div class="line">[Monday 13 December 2010] [07:33:03] &lt;ianbarber&gt;      push</div>
<div class="line">[Monday 13 December 2010] [07:33:11] &lt;sustrik&gt;        mrm2m: PUB/SUB presumably</div>
<div class="line">[Monday 13 December 2010] [07:33:22] &lt;sustrik&gt;        it&#8217;s completely uni-directional</div>
<div class="line">[Monday 13 December 2010] [07:33:43] &lt;ianbarber&gt;      sustrik: yeah, you can, but only if you create the device yourself - though I guess you could wrap a device available from elsewhere with one your own</div>
<div class="line">[Monday 13 December 2010] [07:34:13] &lt;mrm2m&gt;  Ah - I thought that was for one PUB sending to several SUBs.</div>
<div class="line">[Monday 13 December 2010] [07:34:21] &lt;sustrik&gt;        yes</div>
<div class="line">[Monday 13 December 2010] [07:34:30] &lt;sustrik&gt;        and what do you need instead?</div>
<div class="line">[Monday 13 December 2010] [07:34:37] &lt;mrm2m&gt;  I need to send from several PUBs to one SUB.</div>
<div class="line">[Monday 13 December 2010] [07:34:49] &lt;sustrik&gt;        that would work as well</div>
<div class="line">[Monday 13 December 2010] [07:34:55] &lt;sustrik&gt;        ianbarber: ah, the plan is to move devices out of 0mq core anyway</div>
<div class="line">[Monday 13 December 2010] [07:35:05] &lt;sustrik&gt;        and make them separate projects</div>
<div class="line">[Monday 13 December 2010] [07:35:08] &lt;ianbarber&gt;      ah, ok. that makes sense</div>
<div class="line">[Monday 13 December 2010] [07:35:16] &lt;sustrik&gt;        so you could have different types of devices</div>
<div class="line">[Monday 13 December 2010] [07:35:37] &lt;sustrik&gt;        the one with control socket propsed above could be one available device</div>
<div class="line">[Monday 13 December 2010] [07:35:38] &lt;sustrik&gt;        etc.</div>
<div class="line">[Monday 13 December 2010] [07:35:40] &lt;mrm2m&gt;  sustrik: Ok. Then I&#8217;ll have a look on SUB/PUB.</div>
<div class="line">[Monday 13 December 2010] [08:19:34] &lt;CIA-20&gt; zeromq2: 03Dhammika Pathirana 07master * r22b2b9a 10/ (src/tcp_listener.cpp src/tcp_listener.hpp):</div>
<div class="line">[Monday 13 December 2010] [08:19:34] &lt;CIA-20&gt; zeromq2: fix overwriting errno on bind failure</div>
<div class="line">[Monday 13 December 2010] [08:19:34] &lt;CIA-20&gt; zeromq2: Signed-off-by: Dhammika Pathirana &lt;<a class="reference external" href="mailto:dhammika&#37;&#52;&#48;gmail&#46;com">dhammika<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eB0FKT">http://bit.ly/eB0FKT</a></div>
<div class="line">[Monday 13 December 2010] [09:17:54] &lt;ianbarber&gt;      yay, that&#8217;s all the zguide examples translated into php :) committed the version one I needed mikko&#8217;s patch for</div>
<div class="line">[Monday 13 December 2010] [09:26:08] &lt;mikko&gt;  sustrik: pipe.cpp:56</div>
<div class="line">[Monday 13 December 2010] [09:26:28] &lt;mikko&gt;  i reckon that should exit the device rather than assert</div>
<div class="line">[Monday 13 December 2010] [09:26:45] &lt;sustrik&gt;        let me see</div>
<div class="line">[Monday 13 December 2010] [09:27:07] &lt;sustrik&gt;        i have a comment on that line :(</div>
<div class="line">[Monday 13 December 2010] [09:27:13] &lt;sustrik&gt;        can you paste the line here?</div>
<div class="line">[Monday 13 December 2010] [09:27:28] &lt;mikko&gt;  errno_assert (false);</div>
<div class="line">[Monday 13 December 2010] [09:27:37] &lt;mikko&gt;  after rc = zmq_poll (&amp;items [0], 2, -1);</div>
<div class="line">[Monday 13 December 2010] [09:27:48] &lt;mikko&gt;  i got a signal handler in my process that catches SIGINT</div>
<div class="line">[Monday 13 December 2010] [09:28:00] &lt;mikko&gt;  it seems to however cause zmq_poll to return</div>
<div class="line">[Monday 13 December 2010] [09:28:05] &lt;mikko&gt;  and causes following assertion:</div>
<div class="line">[Monday 13 December 2010] [09:28:11] &lt;mikko&gt;  ^CInterrupted system call</div>
<div class="line">[Monday 13 December 2010] [09:28:11] &lt;mikko&gt;  false (device.cpp:56)</div>
<div class="line">[Monday 13 December 2010] [09:28:12] &lt;mikko&gt;  Aborted</div>
<div class="line">[Monday 13 December 2010] [09:28:42] &lt;mikko&gt;  if i don&#8217;t catch sigint then the program exits immediately</div>
<div class="line">[Monday 13 December 2010] [09:29:01] &lt;sustrik&gt;        device or pipe.coo?</div>
<div class="line">[Monday 13 December 2010] [09:29:03] &lt;sustrik&gt;        cpp</div>
<div class="line">[Monday 13 December 2010] [09:29:21] &lt;mikko&gt;  sorry, device.cpp</div>
<div class="line">[Monday 13 December 2010] [09:29:21] &lt;sustrik&gt;        ah, have it</div>
<div class="line">[Monday 13 December 2010] [09:29:52] &lt;sustrik&gt;        yes, it works that way</div>
<div class="line">[Monday 13 December 2010] [09:30:03] &lt;sustrik&gt;        what should be presumably done</div>
<div class="line">[Monday 13 December 2010] [09:30:16] &lt;sustrik&gt;        is to return EINTR from the zmq_device call</div>
<div class="line">[Monday 13 December 2010] [09:31:33] &lt;mikko&gt;  yeah, would allow clean termination of parent program</div>
<div class="line">[Monday 13 December 2010] [09:31:56] &lt;mikko&gt;  as running device in a thread and then doing pthread_cancel doesn&#8217;t seem particulary clean either</div>
<div class="line">[Monday 13 December 2010] [09:32:09] &lt;mikko&gt;  im surprised that it doesn&#8217;t assert on pthread_cancel</div>
<div class="line">[Monday 13 December 2010] [09:34:18] &lt;sustrik&gt;        i assume that just kills the thread at the spot</div>
<div class="line">[Monday 13 December 2010] [09:34:26] &lt;sustrik&gt;        so it has no chance to assert</div>
<div class="line">[Monday 13 December 2010] [09:37:53] &lt;mikko&gt;  looking at the code, i think it shouldn&#8217;t assert at all</div>
<div class="line">[Monday 13 December 2010] [09:38:00] &lt;mikko&gt;  as the caller can handle device exiting</div>
<div class="line">[Monday 13 December 2010] [09:41:08] &lt;CIA-20&gt; zeromq2: 03Dhammika Pathirana 07master * rf749f2d 10/ (src/socket_base.cpp src/socket_base.hpp):</div>
<div class="line">[Monday 13 December 2010] [09:41:08] &lt;CIA-20&gt; zeromq2: add basic uri validations</div>
<div class="line">[Monday 13 December 2010] [09:41:08] &lt;CIA-20&gt; zeromq2: Signed-off-by: Dhammika Pathirana &lt;<a class="reference external" href="mailto:dhammika&#37;&#52;&#48;gmail&#46;com">dhammika<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hptlRa">http://bit.ly/hptlRa</a></div>
<div class="line">[Monday 13 December 2010] [09:41:37] &lt;sustrik&gt;        mikko: good point</div>
<div class="line">[Monday 13 December 2010] [09:43:14] &lt;mikko&gt;  you could even send the original errno back</div>
<div class="line">[Monday 13 December 2010] [09:46:07] &lt;sustrik&gt;        yes</div>
<div class="line">[Monday 13 December 2010] [09:59:04] &lt;mikko&gt;  sustrik: <a class="reference external" href="https://gist.github.com/cc8ca1efb295254bc634">https://gist.github.com/cc8ca1efb295254bc634</a></div>
<div class="line">[Monday 13 December 2010] [10:03:13] &lt;sustrik&gt;        mikko: looks good</div>
<div class="line">[Monday 13 December 2010] [10:03:19] &lt;sustrik&gt;        can you send it as patch to the ml?</div>
<div class="line">[Monday 13 December 2010] [10:20:42] &lt;sustrik&gt;        mikko: checking your swapdir patch</div>
<div class="line">[Monday 13 December 2010] [10:20:51] &lt;sustrik&gt;        what&#8217;s the point of having 3 test functions?</div>
<div class="line">[Monday 13 December 2010] [10:20:55] &lt;sustrik&gt;        +        static bool test (const std::string&amp; <a href="#id426"><span class="problematic" id="id427">directory_</span></a>);</div>
<div class="line">[Monday 13 December 2010] [10:20:55] &lt;sustrik&gt;        +</div>
<div class="line">[Monday 13 December 2010] [10:20:55] &lt;sustrik&gt;        +        static bool test (const char* <a href="#id428"><span class="problematic" id="id429">directory_</span></a>);</div>
<div class="line">[Monday 13 December 2010] [10:20:55] &lt;sustrik&gt;        +</div>
<div class="line">[Monday 13 December 2010] [10:20:55] &lt;sustrik&gt;        +        static bool test ();</div>
<div class="line">[Monday 13 December 2010] [10:29:00] &lt;mikko&gt;  sustrik: overloaded for different types i guess</div>
<div class="line">[Monday 13 December 2010] [10:29:16] &lt;sustrik&gt;        i mean, do you use all 3 of them?</div>
<div class="line">[Monday 13 December 2010] [10:29:21] &lt;mikko&gt;  sustrik: yes</div>
<div class="line">[Monday 13 December 2010] [10:29:32] &lt;mikko&gt;  what i think about now</div>
<div class="line">[Monday 13 December 2010] [10:29:38] &lt;mikko&gt;  does it make sense to amend the swap now</div>
<div class="line">[Monday 13 December 2010] [10:29:45] &lt;mikko&gt;  if it goes to heavy refactoring soon</div>
<div class="line">[Monday 13 December 2010] [10:29:57] &lt;sustrik&gt;        well, depends on you</div>
<div class="line">[Monday 13 December 2010] [10:30:10] &lt;sustrik&gt;        if you need it asap, i&#8217;ll apply it</div>
<div class="line">[Monday 13 December 2010] [10:30:59] &lt;mikko&gt;  i don&#8217;t need asap</div>
<div class="line">[Monday 13 December 2010] [10:31:09] &lt;mikko&gt;  i can work around it and document for php extension</div>
<div class="line">[Monday 13 December 2010] [10:31:43] &lt;mikko&gt;  at the moment doing const char <a href="#id13"><span class="problematic" id="id14">*</span></a>tmp = getenv(&#8220;TMPDIR&#8221;); if (!tmp) { tmp = &#8220;/tmp&#8221;; } chdir(tmp);</div>
<div class="line">[Monday 13 December 2010] [10:31:45] &lt;sustrik&gt;        ok then</div>
<div class="line">[Monday 13 December 2010] [10:32:27] &lt;sustrik&gt;        maybe just write a comment about it on the ml</div>
<div class="line">[Monday 13 December 2010] [10:32:36] &lt;sustrik&gt;        so that people know what happened to the patch</div>
<div class="line">[Monday 13 December 2010] [10:34:09] &lt;mikko&gt;  i&#8217;ll write comment and send device patch today</div>
<div class="line">[Monday 13 December 2010] [10:34:39] &lt;sustrik&gt;        ok</div>
<div class="line">[Monday 13 December 2010] [12:37:13] &lt;mikko&gt;  sustrik: call to device is not consistent between C and C++</div>
<div class="line">[Monday 13 December 2010] [12:37:18] &lt;mikko&gt;  seems to be void in C++</div>
<div class="line">[Monday 13 December 2010] [12:37:21] &lt;mikko&gt;  and int in C</div>
<div class="line">[Monday 13 December 2010] [12:37:26] &lt;mikko&gt;  return type that is</div>
<div class="line">[Monday 13 December 2010] [12:39:16] &lt;mikko&gt;  error_t is int?</div>
<div class="line">[Monday 13 December 2010] [12:42:14] &lt;mikko&gt;  no, wait. got it</div>
<div class="line">[Monday 13 December 2010] [13:15:31] &lt;myraft&gt; complete noob - quick question - where do I start? I am not sure if I even installed it correctly. Is there a zmq on linux that should be in the path?</div>
<div class="line">[Monday 13 December 2010] [13:17:15] &lt;myraft&gt; Nevermind - found some Java examples on Github - will scan and ask the questions again.</div>
<div class="line">[Monday 13 December 2010] [13:17:19] &lt;myraft&gt; Thanks though.</div>
<div class="line">[Monday 13 December 2010] [13:18:21] &lt;cremes&gt; myraft: make sure you run ldconfig so that the zmq libs get added to your linux library paths</div>
<div class="line">[Monday 13 December 2010] [13:19:00] &lt;drbobbeaty&gt;     myraft: it&#8217;s probably best to read The Guide (it&#8217;s that important): <a class="reference external" href="http://zguide.zeromq.org/chapter:all">http://zguide.zeromq.org/chapter:all</a></div>
<div class="line">[Monday 13 December 2010] [13:19:25] &lt;drbobbeaty&gt;     It contains a lot of good information as well as a lot of examples in all kinds of languages.</div>
<div class="line">[Monday 13 December 2010] [13:21:11]   * davetoo is n00b but needs to figure out how one might do pub/sub with 0mq</div>
<div class="line">[Monday 13 December 2010] [13:21:21] &lt;davetoo&gt;        with topic exchange-like behavior :)</div>
<div class="line">[Monday 13 December 2010] [13:23:21] &lt;cremes&gt; davetoo: that&#8217;s described in the guide too ;)</div>
<div class="line">[Monday 13 December 2010] [13:27:44] &lt;myraft&gt; thanks folks - just found the guide as well</div>
<div class="line">[Monday 13 December 2010] [14:13:32] &lt;mikko&gt;  sustrik: <a class="reference external" href="https://gist.github.com/848e949008e67ca542f7">https://gist.github.com/848e949008e67ca542f7</a></div>
<div class="line">[Monday 13 December 2010] [14:14:31] &lt;sustrik&gt;        hm, that may be the problem that dhammika fixed</div>
<div class="line">[Monday 13 December 2010] [14:14:39] &lt;sustrik&gt;        i&#8217;ll apply his patch tomorrow</div>
<div class="line">[Monday 13 December 2010] [14:15:15] &lt;mikko&gt;  cool</div>
<div class="line">[Monday 13 December 2010] [14:15:24] &lt;mikko&gt;  ianbarber stumbled on this with the php extension</div>
<div class="line">[Monday 13 December 2010] [14:15:26] &lt;sustrik&gt;        it&#8217;s a heisenbug, right?</div>
<div class="line">[Monday 13 December 2010] [14:15:39] &lt;mikko&gt;  nope, can reproduce reliably</div>
<div class="line">[Monday 13 December 2010] [14:15:53] &lt;sustrik&gt;        ah, then it may be something different</div>
<div class="line">[Monday 13 December 2010] [14:16:05] &lt;mikko&gt;  if you take the .c file attached to the paste</div>
<div class="line">[Monday 13 December 2010] [14:16:09] &lt;mikko&gt;  compile and and</div>
<div class="line">[Monday 13 December 2010] [14:16:14] &lt;mikko&gt;  compile and run</div>
<div class="line">[Monday 13 December 2010] [14:16:20] &lt;sustrik&gt;        right</div>
<div class="line">[Monday 13 December 2010] [14:16:22] &lt;mikko&gt;  it should segfault / show memory errors</div>
<div class="line">[Monday 13 December 2010] [15:32:22] &lt;mikko&gt;  i to the b</div>
<div class="line">[Monday 13 December 2010] [15:33:26] &lt;ianbarber&gt;      m to the k</div>
<div class="line">[Monday 13 December 2010] [15:40:58] &lt;myraft&gt; when trying to run java program I get &#8220;UnsatisfiedLinkError: no jzmq in java.library.path&#8221; - I have done ldconfig -p <a href="#id15"><span class="problematic" id="id16">|</span></a>grep zmq and see they so are a loaded. I have tried recompiling the code. Any ideas ?</div>
<div class="line">[Monday 13 December 2010] [15:51:15] &lt;mikko&gt;  myraft: it seems to be complaining about jzmq</div>
<div class="line">[Monday 13 December 2010] [15:51:19] &lt;mikko&gt;  rather than zmq itself</div>
<div class="line">[Monday 13 December 2010] [15:52:09] &lt;myraft&gt; ok</div>
<div class="line">[Monday 13 December 2010] [15:52:31] &lt;myraft&gt; but not sure how to proceed - followed the instructions -</div>
<div class="line">[Monday 13 December 2010] [15:53:20] &lt;myraft&gt; nathanmarz - if I do ldconfig -p|grep for zmq I see libzmq.so along with ligjzmq.so  -</div>
<div class="line">[Monday 13 December 2010] [15:53:42] &lt;myraft&gt; I meant to direct that at mikko -</div>
<div class="line">[Monday 13 December 2010] [15:54:05] &lt;mikko&gt;  myraft: is the directory where libjzmq.so is in java.library.path ?</div>
<div class="line">[Monday 13 December 2010] [15:55:07] &lt;myraft&gt; mikko : libjzmq.so is in /usr/local/lib - &#8220;sheepishly&#8221; - not sure if it is java.library.path, how do I set it ?</div>
<div class="line">[Monday 13 December 2010] [15:56:36] &lt;mikko&gt;  myraft: i&#8217;ve no idea tbh, i don&#8217;t use java myself</div>
<div class="line">[Monday 13 December 2010] [15:56:43] &lt;mikko&gt;  myraft: what version of zeromq are you using?</div>
<div class="line">[Monday 13 December 2010] [15:58:05] &lt;myraft&gt; mikko: 2.0.10</div>
<div class="line">[Monday 13 December 2010] [15:58:28] &lt;mikko&gt;  myraft: can you test with current github trunk?</div>
<div class="line">[Monday 13 December 2010] [15:58:29] &lt;mikko&gt;  just in case</div>
<div class="line">[Monday 13 December 2010] [15:58:38] &lt;mikko&gt;  git clone <a class="reference external" href="https://github.com/zeromq/zeromq2.git">https://github.com/zeromq/zeromq2.git</a></div>
<div class="line">[Monday 13 December 2010] [15:58:51] &lt;mikko&gt;  cd zeromq2 &amp;&amp; ./autogen.sh &amp;&amp; ./configure &amp;&amp; make install</div>
<div class="line">[Monday 13 December 2010] [16:00:38] &lt;myraft&gt; mikko: will do and postback  - thanks</div>
<div class="line">[Monday 13 December 2010] [16:04:03] &lt;myraft&gt; mikko - did that and see libzmq.so.1 created in /usr/local/bin - running the Java program still gives the same error.</div>
<div class="line">[Monday 13 December 2010] [16:04:43] &lt;myraft&gt; I did go thru installation instructions - and was confused about setting java.library.path - I did CLASSPATH instead in the .bashrc</div>
<div class="line">[Monday 13 December 2010] [16:08:36] &lt;myraft&gt; I wonder if I need to restart the system - since there is libconf daemon - and that will not see the changes.</div>
<div class="line">[Monday 13 December 2010] [16:08:59] &lt;myraft&gt; Anyways - thanks for the attempt - let me know if you have any more ideas.</div>
<div class="line">[Monday 13 December 2010] [16:14:08] &lt;myraft&gt; I will leaving the workstation for a little bit and will be online later.</div>
<div class="line">[Monday 13 December 2010] [16:19:13] &lt;mikko&gt;  i dont think that makes a different</div>
<div class="line">[Monday 13 December 2010] [16:19:18] &lt;mikko&gt;  difference*</div>
<div class="line">[Monday 13 December 2010] [16:19:24] &lt;mikko&gt;  i can give it a go later</div>
<div class="line">[Monday 13 December 2010] [16:35:08] &lt;mikko&gt;  sustrik: still there?</div>
<div class="line">[Tuesday 14 December 2010] [00:07:52] &lt;gandhijee&gt;     hey, installed zmq on my system, and for my cross compiler, now my c++ programs won&#8217;t compile unless i link in zmq, any ideas?</div>
<div class="line">[Tuesday 14 December 2010] [00:21:48] &lt;EricL&gt; I am debating using 0mq as a possible &#8216;logserver&#8217;. Basically just listen for messages and write them to a file (but these messages are JSON and will be coming at a very high rate of speed).  Is there a good use-case?</div>
<div class="line">[Tuesday 14 December 2010] [04:08:37] &lt;mikko&gt; good morning</div>
<div class="line">[Tuesday 14 December 2010] [04:09:04] &lt;Steve-o&gt;       good afternoon</div>
<div class="line">[Tuesday 14 December 2010] [04:09:35] &lt;Steve-o&gt;       :P</div>
<div class="line">[Tuesday 14 December 2010] [04:12:30] &lt;Steve-o&gt;       quiet morning, nothing but net splits</div>
<div class="line">[Tuesday 14 December 2010] [04:13:44] &lt;mikko&gt; indeed</div>
<div class="line">[Tuesday 14 December 2010] [04:13:49] &lt;mikko&gt; europe is just waking up</div>
<div class="line">[Tuesday 14 December 2010] [04:14:41] &lt;Steve-o&gt;       I released OpenPGM 5.0.93 and 5.1.99, hopefully the latter is more friendly towards Solaris/x86</div>
<div class="line">[Tuesday 14 December 2010] [04:15:50] &lt;Steve-o&gt;       builds in ICC and Sun ONE strict mode, along with OSX and Cygwin too</div>
<div class="line">[Tuesday 14 December 2010] [04:16:48] &lt;Steve-o&gt;       I keep on messing up byte order macros on Solaris, the builds definitely work on Sparc</div>
<div class="line">[Tuesday 14 December 2010] [04:18:54] &lt;mikko&gt; nice!</div>
<div class="line">[Tuesday 14 December 2010] [04:19:17] &lt;Steve-o&gt;       OSX is tedious as the libc is really old</div>
<div class="line">[Tuesday 14 December 2010] [04:19:39] &lt;mikko&gt; i&#8217;ll fix zeromq &#8211;with-pgm to build properly on solaris x86 at some point</div>
<div class="line">[Tuesday 14 December 2010] [04:19:47] &lt;mikko&gt; haven&#8217;t got access to sparc yet</div>
<div class="line">[Tuesday 14 December 2010] [04:20:06] &lt;Steve-o&gt;       remember there are 3 compilers on sparc to test</div>
<div class="line">[Tuesday 14 December 2010] [04:20:17] &lt;Steve-o&gt;       Sun ONE, Sun GCC, and GCC</div>
<div class="line">[Tuesday 14 December 2010] [04:20:28] &lt;Steve-o&gt;       all each with their own quirks</div>
<div class="line">[Tuesday 14 December 2010] [04:20:40] &lt;mikko&gt; i can test all those on x86</div>
<div class="line">[Tuesday 14 December 2010] [04:21:13] &lt;mikko&gt; hmm, currently the win7 builds using visual studio 2008</div>
<div class="line">[Tuesday 14 December 2010] [04:21:22] &lt;mikko&gt; might upgrade to 2010 at some point</div>
<div class="line">[Tuesday 14 December 2010] [04:22:11] &lt;Steve-o&gt;       PGM should work in 2008, it is just that I found some really annoying bugs in the CRT socket libraries</div>
<div class="line">[Tuesday 14 December 2010] [04:22:35] &lt;mikko&gt; that&#8217;s not surprising</div>
<div class="line">[Tuesday 14 December 2010] [04:23:14] &lt;Steve-o&gt;       haven&#8217;t tried mingw32 on Windows, only cross compiles</div>
<div class="line">[Tuesday 14 December 2010] [04:23:27] &lt;Steve-o&gt;       Scons on Cygwin is pretty terrible, although I think it&#8217;s Python at fault</div>
<div class="line">[Tuesday 14 December 2010] [04:23:40] &lt;mikko&gt; i could add mingw32 on windows to daily builds</div>
<div class="line">[Tuesday 14 December 2010] [04:23:55] &lt;mikko&gt; and possibly a BSD box</div>
<div class="line">[Tuesday 14 December 2010] [04:24:14] &lt;Steve-o&gt;       FreeBSD is nice to catch portability bugs</div>
<div class="line">[Tuesday 14 December 2010] [04:24:27] &lt;Steve-o&gt;       but the IP header quirk is annoying</div>
<div class="line">[Tuesday 14 December 2010] [04:24:48] &lt;mikko&gt; should i go for OpenBSD might be even a bit more exotic</div>
<div class="line">[Tuesday 14 December 2010] [04:25:15] &lt;mikko&gt; FreeBSD is a bit more user-friendly though</div>
<div class="line">[Tuesday 14 December 2010] [04:25:19] &lt;Steve-o&gt;       good luck, I&#8217;ve only used OpenBSD on Sparc</div>
<div class="line">[Tuesday 14 December 2010] [04:25:43] &lt;mikko&gt; OpenBSD doesn&#8217;t use GCC iirc</div>
<div class="line">[Tuesday 14 December 2010] [04:25:46] &lt;Steve-o&gt;       can be annoying to install, especially since getting the install is inconvenient</div>
<div class="line">[Tuesday 14 December 2010] [04:25:54] &lt;Steve-o&gt;       GCC 2.95 I believe</div>
<div class="line">[Tuesday 14 December 2010] [04:25:56] &lt;mikko&gt; Portable C Compiler</div>
<div class="line">[Tuesday 14 December 2010] [04:26:09] &lt;mikko&gt; ermm</div>
<div class="line">[Tuesday 14 December 2010] [04:27:30] &lt;Steve-o&gt;       maybe the change was recent</div>
<div class="line">[Tuesday 14 December 2010] [04:27:42] &lt;mikko&gt; added to openbsd source tree 2007</div>
<div class="line">[Tuesday 14 December 2010] [04:27:49] &lt;mikko&gt; was able to compile x86 kernel image 2009</div>
<div class="line">[Tuesday 14 December 2010] [04:27:56] &lt;mikko&gt; according to wikipedia</div>
<div class="line">[Tuesday 14 December 2010] [04:28:13] &lt;mikko&gt; but probably not the &#8216;default&#8217; compiler yet</div>
<div class="line">[Tuesday 14 December 2010] [04:28:33] &lt;Steve-o&gt;       ok</div>
<div class="line">[Tuesday 14 December 2010] [04:28:42] &lt;Steve-o&gt;       tea time, catch you laters</div>
<div class="line">[Tuesday 14 December 2010] [04:29:11] &lt;Steve-o&gt;       I thnk Theo wants compiler that isn&#8217;t GCC 3</div>
<div class="line">[Tuesday 14 December 2010] [04:29:17] &lt;Steve-o&gt;       hence the search for others</div>
<div class="line">[Tuesday 14 December 2010] [04:29:50] &lt;mikko&gt; see you later</div>
<div class="line">[Tuesday 14 December 2010] [04:42:18] &lt;sustrik&gt;       morning</div>
<div class="line">[Tuesday 14 December 2010] [04:42:50] &lt;mikko&gt; sustrik: did you see the patch for swap?</div>
<div class="line">[Tuesday 14 December 2010] [04:43:47] &lt;sustrik&gt;       juse seen it</div>
<div class="line">[Tuesday 14 December 2010] [04:43:58] &lt;sustrik&gt;       i have to do some administrative stuff</div>
<div class="line">[Tuesday 14 December 2010] [04:44:02] &lt;sustrik&gt;       then i&#8217;ll have a look</div>
<div class="line">[Tuesday 14 December 2010] [04:44:26] &lt;mikko&gt; col</div>
<div class="line">[Tuesday 14 December 2010] [04:44:28] &lt;mikko&gt; +o</div>
<div class="line">[Tuesday 14 December 2010] [06:05:51] &lt;mikko&gt; sustrik: does HWM option only work if set before bind/connect? If yes should the setsockopt fail?</div>
<div class="line">[Tuesday 14 December 2010] [06:09:45] &lt;sustrik&gt;       yes</div>
<div class="line">[Tuesday 14 December 2010] [06:09:55] &lt;sustrik&gt;       why should it fail?</div>
<div class="line">[Tuesday 14 December 2010] [06:10:10] &lt;mikko&gt; if it has no effect</div>
<div class="line">[Tuesday 14 December 2010] [06:11:55] &lt;sustrik&gt;       it has effect on all subsequent connects and binds</div>
<div class="line">[Tuesday 14 December 2010] [06:56:55] &lt;mikko&gt; hmm</div>
<div class="line">[Tuesday 14 December 2010] [06:57:02] &lt;mikko&gt; how does that work?</div>
<div class="line">[Tuesday 14 December 2010] [06:57:10] &lt;mikko&gt; i got a PUSH socket</div>
<div class="line">[Tuesday 14 December 2010] [06:57:16] &lt;mikko&gt; connect, set hwm, connect</div>
<div class="line">[Tuesday 14 December 2010] [06:57:44] &lt;mikko&gt; so that allows to do weighted load-balancing</div>
<div class="line">[Tuesday 14 December 2010] [06:59:28] &lt;sustrik&gt;       then the two connections have different HWMs</div>
<div class="line">[Tuesday 14 December 2010] [06:59:33] &lt;sustrik&gt;       the first is unlimited</div>
<div class="line">[Tuesday 14 December 2010] [06:59:44] &lt;sustrik&gt;       the second one has the hwm you&#8217;ve set</div>
<div class="line">[Tuesday 14 December 2010] [07:00:41] &lt;mikko&gt; yeah, so in a scenario where second has HWM of 5 and it fills up the messages would go to first one</div>
<div class="line">[Tuesday 14 December 2010] [07:00:53] &lt;mikko&gt; which makes sense, if you for example you have slower consumer on second socket</div>
<div class="line">[Tuesday 14 December 2010] [07:01:03] &lt;mikko&gt; second connection i mean</div>
<div class="line">[Tuesday 14 December 2010] [08:53:40] &lt;EricL&gt; I am debating using 0mq as a possible &#8216;logserver&#8217;. Basically just listen for messages and write them to a file (but these messages are JSON and will be coming at a very high rate of speed).  Is this a good use-case?</div>
<div class="line">[Tuesday 14 December 2010] [09:02:38] &lt;spht&gt;  EricL: Do you have control over what is sending the log entries? If yes, perfect match (including possibilites for distributed logging), if no...uncertain</div>
<div class="line">[Tuesday 14 December 2010] [09:03:09] &lt;EricL&gt; spht: I have 100% control over what&#8217;s sending the logs.  I am writing what is sending the logs.</div>
<div class="line">[Tuesday 14 December 2010] [09:03:24] &lt;spht&gt;  EricL: Then it&#8217;s perfect</div>
<div class="line">[Tuesday 14 December 2010] [09:03:26] &lt;spht&gt;  :)</div>
<div class="line">[Tuesday 14 December 2010] [09:04:22] &lt;EricL&gt; spht: That&#8217;s great news.  Problem is that I need to get it working quickly.  The client (sending piece) is in Ruby so that should be easy.  But I feel like the receiver should be in C for as much speed as possible (unless the receiver language doesn&#8217;t matter).</div>
<div class="line">[Tuesday 14 December 2010] [09:04:57] &lt;spht&gt;  EricL: Prototype it in Ruby (I mean, a prototype will be just a few lines) and benchmark it. won&#8217;t cost you much time</div>
<div class="line">[Tuesday 14 December 2010] [09:05:19] &lt;spht&gt;  EricL: Disclaimer:  I&#8217;m a 0mq-newbie ;)</div>
<div class="line">[Tuesday 14 December 2010] [09:05:37] &lt;EricL&gt; spht: Fair enough.  How long did it take you to get something up and running?</div>
<div class="line">[Tuesday 14 December 2010] [09:06:26] &lt;spht&gt;  EricL:  I read the guide back to back, from there it&#8217;s a matter of minutes in python (which is my weapon of choice), should be the same in ruby.  Read the guide though</div>
<div class="line">[Tuesday 14 December 2010] [09:07:02] &lt;EricL&gt; I read the beginner part already, not the other 2 parts.</div>
<div class="line">[Tuesday 14 December 2010] [09:08:06] &lt;spht&gt;  I would bet that disk io will be the limiting factor not the messaging overhead...</div>
<div class="line">[Tuesday 14 December 2010] [09:08:18] &lt;spht&gt;  depending on what network you have of course :)</div>
<div class="line">[Tuesday 14 December 2010] [09:08:20] &lt;EricL&gt; spht: I am thinking the same thing.</div>
<div class="line">[Tuesday 14 December 2010] [09:08:31] &lt;EricL&gt; The network is a local GigE network.</div>
<div class="line">[Tuesday 14 December 2010] [09:12:25] &lt;guido_g&gt;       so split the work between multiple writers each with its own disk</div>
<div class="line">[Tuesday 14 December 2010] [09:13:08] &lt;EricL&gt; guido_g: Sounds like that&#8217;s the advanced stuff I need to work out.  Right now I am fine with a single machine.  The heavy load will be a month or two down the road.</div>
<div class="line">[Tuesday 14 December 2010] [09:13:14] &lt;guido_g&gt;       PUSH/PULL sockets would do the trick out of the box</div>
<div class="line">[Tuesday 14 December 2010] [09:14:00] &lt;guido_g&gt;       EricL: you were worried about the speed</div>
<div class="line">[Tuesday 14 December 2010] [09:17:13] &lt;EricL&gt; guido_g: I am. That&#8217;s why I am asking the questions.</div>
<div class="line">[Tuesday 14 December 2010] [09:18:12] &lt;brandyn&gt;       Hey I have a pub/sub setup where the sub is too busy to read all of the pub&#8217;s messages.  What is happening now is that sub seems to be buffering everything.  How do I fix that?  I am using the python wrapper (I tried release and now dev from git)</div>
<div class="line">[Tuesday 14 December 2010] [09:19:03] &lt;brandyn&gt;       I have already set the HWM to 1, that didn&#8217;t help.  And it is the client that seems to be buffering as it&#8217;s memory usage balloons out of control</div>
<div class="line">[Tuesday 14 December 2010] [09:19:04] &lt;guido_g&gt;       if the sub is to slow, make it faster</div>
<div class="line">[Tuesday 14 December 2010] [09:19:23] &lt;brandyn&gt;       guido_g, not an option I&#8217;m shooting video frames at it and some devices can&#8217;t handle all ofit</div>
<div class="line">[Tuesday 14 December 2010] [09:19:34] &lt;guido_g&gt;       if you set HWM you&#8217;ll lose messages</div>
<div class="line">[Tuesday 14 December 2010] [09:19:41] &lt;brandyn&gt;       guido_g, yes that is what I want</div>
<div class="line">[Tuesday 14 December 2010] [09:19:54] &lt;guido_g&gt;       brandyn: too bad</div>
<div class="line">[Tuesday 14 December 2010] [09:19:56] &lt;brandyn&gt;       but I am not losing them enough clearly, the client is still buffering</div>
<div class="line">[Tuesday 14 December 2010] [09:20:44] &lt;brandyn&gt;       I guess I&#8217;m in the wrong place</div>
<div class="line">[Tuesday 14 December 2010] [09:30:03] &lt;spht&gt;  Uhm, 2 minute attention span is pretty short for asking questions on IRC :)</div>
<div class="line">[Tuesday 14 December 2010] [09:34:23] &lt;spht&gt;  EricL: You could also make the writer a pub socket and have different loggers listening to different messages, one way to partition the writes</div>
<div class="line">[Tuesday 14 December 2010] [09:35:57] &lt;spht&gt;  push socket on the other hand will give you round-robin style load balancing between different clients if you don&#8217;t want to partition by message type</div>
<div class="line">[Tuesday 14 December 2010] [09:37:39] &lt;guido_g&gt;       don&#8217;t forget that for now, the topic is filtered at the sub side</div>
<div class="line">[Tuesday 14 December 2010] [09:37:56] &lt;guido_g&gt;       so the message will be received and at least partially processed</div>
<div class="line">[Tuesday 14 December 2010] [09:38:22] &lt;spht&gt;  guido_g:  true!</div>
<div class="line">[Tuesday 14 December 2010] [09:38:46] &lt;guido_g&gt;       but i would go this route anyway, i&#8217;m a pub/sub fan :)</div>
<div class="line">[Tuesday 14 December 2010] [09:40:12] &lt;EricL&gt; So the clients would be the pubs and the server would sub to multiiple clients?</div>
<div class="line">[Tuesday 14 December 2010] [09:40:51] &lt;EricL&gt; I know that sounds backwards, but do I have the concept right?</div>
<div class="line">[Tuesday 14 December 2010] [09:41:18] &lt;spht&gt;  EricL:  no the clients should be sub sockets of course :)</div>
<div class="line">[Tuesday 14 December 2010] [09:41:37] &lt;guido_g&gt;       don&#8217;t think in terms of sockets or connections</div>
<div class="line">[Tuesday 14 December 2010] [09:41:44] &lt;guido_g&gt;       start to think in messages instead</div>
<div class="line">[Tuesday 14 December 2010] [09:41:50] &lt;EricL&gt; spht: The clients are the ones publishing the connections.</div>
<div class="line">[Tuesday 14 December 2010] [09:41:52] &lt;guido_g&gt;       makes life much easier</div>
<div class="line">[Tuesday 14 December 2010] [09:42:16] &lt;guido_g&gt;       publishing connections?</div>
<div class="line">[Tuesday 14 December 2010] [09:43:01] &lt;spht&gt;  why?</div>
<div class="line">[Tuesday 14 December 2010] [09:43:34] &lt;guido_g&gt;       why what?</div>
<div class="line">[Tuesday 14 December 2010] [09:44:18] &lt;spht&gt;  guido_g:  why the clients should bind and not the server</div>
<div class="line">[Tuesday 14 December 2010] [09:44:35] &lt;guido_g&gt;       spht: huh? where did i say that?</div>
<div class="line">[Tuesday 14 December 2010] [09:44:43] &lt;spht&gt;  guido_g:  you didn&#8217;t, EricL did :)</div>
<div class="line">[Tuesday 14 December 2010] [09:44:47] &lt;guido_g&gt;       ahhh</div>
<div class="line">[Tuesday 14 December 2010] [09:45:03] &lt;spht&gt;  or, I didn&#8217;t get enough coffee and is confused as usual ;)</div>
<div class="line">[Tuesday 14 December 2010] [09:45:20] &lt;EricL&gt; spht: Maybe I should re-read the beginner stuff.  I guess I don&#8217;t understand it.</div>
<div class="line">[Tuesday 14 December 2010] [09:46:00] &lt;guido_g&gt;       EricL: don&#8217;t overreate the socket/connection/bind stuff</div>
<div class="line">[Tuesday 14 December 2010] [09:46:24] &lt;EricL&gt; I am thinking that clients (the ones pushing the log messages) are the publishers and the server can subscribe to each client.</div>
<div class="line">[Tuesday 14 December 2010] [09:46:33] &lt;guido_g&gt;       as i said, to think in terms of messages is much more important</div>
<div class="line">[Tuesday 14 December 2010] [09:46:52] &lt;guido_g&gt;       client and server are way to overloaded</div>
<div class="line">[Tuesday 14 December 2010] [09:47:08] &lt;guido_g&gt;       i suggest using words like sender and receiver</div>
<div class="line">[Tuesday 14 December 2010] [09:47:29] &lt;EricL&gt; guido_g: Ok.  Let me go back and do some reading.</div>
<div class="line">[Tuesday 14 December 2010] [09:47:51] &lt;EricL&gt; I have to jump into a few meetings.  I&#8217;ll be back later today if I can&#8217;t figure this out.</div>
<div class="line">[Tuesday 14 December 2010] [09:48:23] &lt;spht&gt;  same here, bbl</div>
<div class="line">[Tuesday 14 December 2010] [09:48:34] &lt;guido_g&gt;       ahhh... the joys of working in a professional environment...   ]:-&gt;</div>
<div class="line">[Tuesday 14 December 2010] [11:38:37] &lt;mikko&gt; good evening</div>
<div class="line">[Tuesday 14 December 2010] [12:07:56] &lt;sustrik&gt;       mikko: i haven&#8217;t had chance to review the patch :(</div>
<div class="line">[Tuesday 14 December 2010] [12:08:03] &lt;sustrik&gt;       i have to leave now</div>
<div class="line">[Tuesday 14 December 2010] [12:08:08] &lt;sustrik&gt;       will do tomorrow</div>
<div class="line">[Tuesday 14 December 2010] [12:08:09] &lt;sustrik&gt;       sorry</div>
<div class="line">[Tuesday 14 December 2010] [12:08:20] &lt;mikko&gt; no worries</div>
<div class="line">[Tuesday 14 December 2010] [12:08:44] &lt;gandhijee&gt;     hey, i installed zmq on my system, now my C++ programs won&#8217;t compile unless i use -lzmq</div>
<div class="line">[Tuesday 14 December 2010] [12:09:07] &lt;sustrik&gt;       you mean unrelated C++ programs?</div>
<div class="line">[Tuesday 14 December 2010] [12:09:12] &lt;mikko&gt; gandhijee: what system is that?</div>
<div class="line">[Tuesday 14 December 2010] [12:09:42] &lt;gandhijee&gt;     sustrik: right, even if i don&#8217;t have the zmq header in, i still need -lzmq</div>
<div class="line">[Tuesday 14 December 2010] [12:10:00] &lt;gandhijee&gt;     2 systems, my gentoo laptop, plus my ARM toolchain thats installed on it</div>
<div class="line">[Tuesday 14 December 2010] [12:10:37] &lt;mikko&gt; what is the error message you get?</div>
<div class="line">[Tuesday 14 December 2010] [12:10:56] &lt;gandhijee&gt;     one second</div>
<div class="line">[Tuesday 14 December 2010] [12:12:23] &lt;gandhijee&gt;     hmm, actually i guess it might be the way i am invoking the compile</div>
<div class="line">[Tuesday 14 December 2010] [12:12:34] &lt;gandhijee&gt;     i was calling gcc instead of g++ to compile to code</div>
<div class="line">[Tuesday 14 December 2010] [12:13:39] &lt;mikko&gt; have you got CLFAGS, LDFLAGS or similar set?</div>
<div class="line">[Tuesday 14 December 2010] [12:20:53] &lt;gandhijee&gt;     no</div>
<div class="line">[Tuesday 14 December 2010] [14:41:16] &lt;brandyn&gt;       I have a pub/sub setup where the sub is too busy to read all of the pub&#8217;s messages.  What is happening now is that sub seems to be buffering everything.  How do I fix that?  I am using the python wrapper (I tried release and now dev from git)</div>
<div class="line">[Tuesday 14 December 2010] [14:44:08] &lt;cremes&gt;        brandyn: question:  is the sub unable to keep up due to processing in python? or it can&#8217;t read the messages fast enough (and you are not processing them at all)?</div>
<div class="line">[Tuesday 14 December 2010] [14:45:19] &lt;brandyn&gt;       cremes, it can&#8217;t keep up</div>
<div class="line">[Tuesday 14 December 2010] [14:45:37] &lt;brandyn&gt;       cremes, I would like it to drop ones that it can&#8217;t process, like the HWM</div>
<div class="line">[Tuesday 14 December 2010] [14:45:45] &lt;cremes&gt;        brandyn: can it keep up if you drop <em>all</em> messages?</div>
<div class="line">[Tuesday 14 December 2010] [14:45:45] &lt;brandyn&gt;       cremes, but it seems like there isn&#8217;t an option like that</div>
<div class="line">[Tuesday 14 December 2010] [14:45:56] &lt;brandyn&gt;       cremes, yes if I just keep recv&#8217;ing</div>
<div class="line">[Tuesday 14 December 2010] [14:45:59] &lt;cremes&gt;        ok</div>
<div class="line">[Tuesday 14 December 2010] [14:46:13] &lt;brandyn&gt;       it is from a streaming sensor</div>
<div class="line">[Tuesday 14 December 2010] [14:46:18] &lt;brandyn&gt;       and some devices can&#8217;t handle the data</div>
<div class="line">[Tuesday 14 December 2010] [14:46:22] &lt;brandyn&gt;       and it is ok to get some of the packets</div>
<div class="line">[Tuesday 14 December 2010] [14:46:29] &lt;cremes&gt;        then you&#8217;re only hope is to increase the speed of your python processor; use a faster language or throw hardware at it</div>
<div class="line">[Tuesday 14 December 2010] [14:46:39] &lt;brandyn&gt;       but shouldn&#8217;t there be a way to leak the buffer</div>
<div class="line">[Tuesday 14 December 2010] [14:46:45] &lt;brandyn&gt;       like the HWM on the PUB side</div>
<div class="line">[Tuesday 14 December 2010] [14:46:58] &lt;cremes&gt;        no, you can&#8217;t tell how many messages are queued; that information is not exposed</div>
<div class="line">[Tuesday 14 December 2010] [14:47:14] &lt;brandyn&gt;       sure, but it knows</div>
<div class="line">[Tuesday 14 December 2010] [14:47:23] &lt;brandyn&gt;       so if I said &#8220;don&#8217;t queue more than X messages&#8221;</div>
<div class="line">[Tuesday 14 December 2010] [14:47:27] &lt;cremes&gt;        the best you could do is process 1 out of X packets and drop the rest; that logic should be easy</div>
<div class="line">[Tuesday 14 December 2010] [14:47:29] &lt;brandyn&gt;       then it should work, just like HWM does now</div>
<div class="line">[Tuesday 14 December 2010] [14:47:47] &lt;brandyn&gt;       I see, so I can just close and reopen the socket?</div>
<div class="line">[Tuesday 14 December 2010] [14:48:28] &lt;brandyn&gt;       that seems like a hack, if the SUB listened to the HWM, then it could just drop packets and keep the newest ones</div>
<div class="line">[Tuesday 14 December 2010] [14:48:53] &lt;cremes&gt;        brandyn: no, you should not close &amp; reopen the socket</div>
<div class="line">[Tuesday 14 December 2010] [14:49:00] &lt;brandyn&gt;       how do you drop the packets then?</div>
<div class="line">[Tuesday 14 December 2010] [14:49:15] &lt;brandyn&gt;       just recv really fast? or something</div>
<div class="line">[Tuesday 14 December 2010] [14:49:17] &lt;cremes&gt;        i meant that your python logic should drop x-1 of x packets; e.g. don&#8217;t process them, just read and toss</div>
<div class="line">[Tuesday 14 December 2010] [14:49:24] &lt;cremes&gt;        yes</div>
<div class="line">[Tuesday 14 December 2010] [14:49:26] &lt;brandyn&gt;       ah gotcha, ok yeah I guess that can work</div>
<div class="line">[Tuesday 14 December 2010] [14:49:46] &lt;brandyn&gt;       so what I can probably do is set to to nonblocking</div>
<div class="line">[Tuesday 14 December 2010] [14:49:49] &lt;cremes&gt;        if (counter MOD 10 == 0) process else drop end</div>
<div class="line">[Tuesday 14 December 2010] [14:49:57] &lt;brandyn&gt;       and then keep recv&#8217;ing until I get the exception</div>
<div class="line">[Tuesday 14 December 2010] [14:49:59] &lt;brandyn&gt;       and just use the last one</div>
<div class="line">[Tuesday 14 December 2010] [14:50:06] &lt;cremes&gt;        non-blocking reads/writes aren&#8217;t going to help you here</div>
<div class="line">[Tuesday 14 December 2010] [14:50:22] &lt;cremes&gt;        a regular blocking read should be fine</div>
<div class="line">[Tuesday 14 December 2010] [14:50:24] &lt;brandyn&gt;       what I mean is that I just want my app to get access to the newest message</div>
<div class="line">[Tuesday 14 December 2010] [14:50:30] &lt;brandyn&gt;       so I can just read all of them</div>
<div class="line">[Tuesday 14 December 2010] [14:50:36] &lt;brandyn&gt;       which will flush the buffer</div>
<div class="line">[Tuesday 14 December 2010] [14:50:40] &lt;brandyn&gt;       and then use the last one</div>
<div class="line">[Tuesday 14 December 2010] [14:51:06] &lt;brandyn&gt;       the nonblocking would tell me when the buffer is done</div>
<div class="line">[Tuesday 14 December 2010] [14:51:09] &lt;cremes&gt;        sure, that&#8217;s fine</div>
<div class="line">[Tuesday 14 December 2010] [14:51:16] &lt;brandyn&gt;       cremes, you rock man, thank you</div>
<div class="line">[Tuesday 14 December 2010] [14:51:24] &lt;cremes&gt;        pay it forward... :)</div>
<div class="line">[Tuesday 14 December 2010] [14:52:03] &lt;cremes&gt;        brandyn: are you sure setting HWM on the publisher didn&#8217;t help?</div>
<div class="line">[Tuesday 14 December 2010] [14:52:18] &lt;cremes&gt;        when a pub socket hits HWM for a subscriber, it should drop messages</div>
<div class="line">[Tuesday 14 December 2010] [14:52:28] &lt;cremes&gt;        try HWM = 1 if you haven&#8217;t</div>
<div class="line">[Tuesday 14 December 2010] [14:54:24] &lt;brandyn&gt;       yeah I did</div>
<div class="line">[Tuesday 14 December 2010] [14:54:27] &lt;brandyn&gt;       but the client can read them</div>
<div class="line">[Tuesday 14 December 2010] [14:54:29] &lt;brandyn&gt;       that&#8217;s the problem</div>
<div class="line">[Tuesday 14 December 2010] [14:54:48] &lt;brandyn&gt;       it appears there is no similar HWM for the sub</div>
<div class="line">[Tuesday 14 December 2010] [14:54:54] &lt;brandyn&gt;       but that&#8217;s ok</div>
<div class="line">[Tuesday 14 December 2010] [14:55:17] &lt;brandyn&gt;       this is good enough, basically I offload ZMQ&#8217;s SUB buffer to myself, and then apply my own restrictions</div>
<div class="line">[Tuesday 14 December 2010] [14:55:36] &lt;cremes&gt;        i&#8217;m not sure i follow; if a sub socket has more than HWM messages in its queue then the pub socket should detect that and drop packets</div>
<div class="line">[Tuesday 14 December 2010] [14:55:42] &lt;cremes&gt;        but whatever...</div>
<div class="line">[Tuesday 14 December 2010] [14:55:46] &lt;cremes&gt;        you have a solution</div>
<div class="line">[Tuesday 14 December 2010] [14:56:44] &lt;brandyn&gt;       oh I see, yeah it doesn&#8217;t appear to do that</div>
<div class="line">[Tuesday 14 December 2010] [14:56:57] &lt;brandyn&gt;       I think the HWM applies only to the queue on the PUB size</div>
<div class="line">[Tuesday 14 December 2010] [14:57:02] &lt;brandyn&gt;       for each SUB</div>
<div class="line">[Tuesday 14 December 2010] [14:57:24] &lt;brandyn&gt;       like if I don&#8217;t call recv, then my buffer blows up</div>
<div class="line">[Tuesday 14 December 2010] [14:57:35] &lt;brandyn&gt;       so it tells me that in the background is it buffering lots of goodies for me</div>
<div class="line">[Tuesday 14 December 2010] [14:57:40] &lt;brandyn&gt;       and I just didn&#8217;t ask for them</div>
<div class="line">[Tuesday 14 December 2010] [14:59:41] &lt;cremes&gt;        hmmm, that&#8217;s surprising; you might want to ask on the ML for clarification with your use-case</div>
<div class="line">[Tuesday 14 December 2010] [15:00:27] &lt;brandyn&gt;       yeah for sure, this is just a rushed project so I need a fix. It&#8217;s the first time I&#8217;ve used ZMQ</div>
<div class="line">[Tuesday 14 December 2010] [15:14:00] &lt;brandyn&gt;       cremes, ok so strange problem.  If I read the socket opt for HWM, it is zero, if I set it, I get a totally different number</div>
<div class="line">[Tuesday 14 December 2010] [15:15:02] &lt;cremes&gt;        0 is the default</div>
<div class="line">[Tuesday 14 December 2010] [15:15:18] &lt;cremes&gt;        what value are you trying to set it to? and what do you get back when you read that option again?</div>
<div class="line">[Tuesday 14 December 2010] [15:15:39] &lt;cremes&gt;        btw, 0 means no limit</div>
<div class="line">[Tuesday 14 December 2010] [15:15:42] &lt;brandyn&gt;       yeah I know that</div>
<div class="line">[Tuesday 14 December 2010] [15:16:26] &lt;brandyn&gt;       so I set it to 1, and got thishttp://pastebin.com/xh9dCw6C</div>
<div class="line">[Tuesday 14 December 2010] [15:16:49] &lt;brandyn&gt;       crazy right?</div>
<div class="line">[Tuesday 14 December 2010] [15:17:52] &lt;cremes&gt;        HWM takes an unsigned 64-bit integer; maybe the python bindings aren&#8217;t handling that right?</div>
<div class="line">[Tuesday 14 December 2010] [15:18:43] &lt;brandyn&gt;       yeah I see that</div>
<div class="line">[Tuesday 14 December 2010] [15:18:48] &lt;brandyn&gt;       I&#8217;ll fix it an put in a patch</div>
<div class="line">[Tuesday 14 December 2010] [15:19:25] &lt;brandyn&gt;       yeah simple fix</div>
<div class="line">[Tuesday 14 December 2010] [15:22:42] &lt;brandyn&gt;       so I fixed that, it now returns the correct HWM, but same semantics</div>
<div class="line">[Tuesday 14 December 2010] [15:25:19] &lt;cremes&gt;        cool</div>
<div class="line">[Tuesday 14 December 2010] [16:10:51] &lt;mikko&gt; evening ladies and gents</div>
<div class="line">[Tuesday 14 December 2010] [16:12:32] &lt;cremes&gt;        evening</div>
<div class="line">[Tuesday 14 December 2010] [16:18:16] &lt;brandyn&gt;       anyone here a python wrapper contributor?</div>
<div class="line">[Tuesday 14 December 2010] [16:18:58] &lt;mikko&gt; brandyn: MinRK and bgranger pop in occasionally</div>
<div class="line">[Tuesday 14 December 2010] [16:19:34] &lt;brandyn&gt;       thanks</div>
<div class="line">[Tuesday 14 December 2010] [21:51:36] &lt;brandyn&gt;       does the new xpub/xsub allow for PUB side filtering?</div>
<div class="line">[Tuesday 14 December 2010] [21:51:57] &lt;brandyn&gt;       I haven&#8217;t seen any documentation on it, just a few mailing list posts</div>
<div class="line">[Tuesday 14 December 2010] [21:56:07] &lt;Steve-o&gt;       that is what the design is for</div>
<div class="line">[Tuesday 14 December 2010] [21:56:31] &lt;Steve-o&gt;       the spec is on the mailing list</div>
<div class="line">[Tuesday 14 December 2010] [22:19:12] &lt;Steve-o&gt;       <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg06247.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg06247.html</a></div>
<div class="line">[Tuesday 14 December 2010] [23:18:48] &lt;EricL&gt; Is anyone around?</div>
<div class="line">[Tuesday 14 December 2010] [23:20:42] &lt;Steve-o&gt;       all sleeping</div>
<div class="line">[Tuesday 14 December 2010] [23:21:24] &lt;EricL&gt; I am trying to figure out what the best approach for my setup is to use 0MQ</div>
<div class="line">[Tuesday 14 December 2010] [23:22:39] &lt;Steve-o&gt;       to do what?</div>
<div class="line">[Tuesday 14 December 2010] [23:22:52] &lt;EricL&gt; I have a log server and a few clients that are pushing a lot of data to the server.  I think I want something similar to pub/sub that is a queue on the client.</div>
<div class="line">[Tuesday 14 December 2010] [23:23:12] &lt;EricL&gt; This way any one of multiple log servers can grab a line from the client and it pops off the queue.</div>
<div class="line">[Tuesday 14 December 2010] [23:24:43] &lt;EricL&gt; from any client rather.</div>
<div class="line">[Tuesday 14 December 2010] [23:25:03] &lt;Steve-o&gt;       as in polling the logger</div>
<div class="line">[Tuesday 14 December 2010] [23:25:47] &lt;EricL&gt; Kind of.  The way the logging happens is that there is a Ruby Resque job that does a few things and dumps the output to a log.</div>
<div class="line">[Tuesday 14 December 2010] [23:26:11] &lt;Steve-o&gt;       so, REQ/REP sockets then</div>
<div class="line">[Tuesday 14 December 2010] [23:26:51] &lt;Steve-o&gt;       it&#8217;s not ideal to have the chatter back and forth though</div>
<div class="line">[Tuesday 14 December 2010] [23:27:44] &lt;Steve-o&gt;       you end up slowing the communication down to the RTT</div>
<div class="line">[Tuesday 14 December 2010] [23:28:28] &lt;EricL&gt; That&#8217;s what I am curious about.</div>
<div class="line">[Tuesday 14 December 2010] [23:30:10] &lt;Steve-o&gt;       which is why PUB is preferred,</div>
<div class="line">[Tuesday 14 December 2010] [23:30:36] &lt;Steve-o&gt;       so what do you not like about PUB/SUB implementation?</div>
<div class="line">[Tuesday 14 December 2010] [23:31:03] &lt;EricL&gt; Because then multiple log servers will be receiving the same msgs, no?</div>
<div class="line">[Tuesday 14 December 2010] [23:32:15] &lt;Steve-o&gt;       you can use different topics for each server</div>
<div class="line">[Tuesday 14 December 2010] [23:33:48] &lt;EricL&gt; Log server?</div>
<div class="line">[Tuesday 14 December 2010] [23:34:05] &lt;Steve-o&gt;       yes, or only have the client connect to one log server</div>
<div class="line">[Tuesday 14 December 2010] [23:34:24] &lt;Steve-o&gt;       you can partition by connection or topic/subject</div>
<div class="line">[Tuesday 14 December 2010] [23:35:06] &lt;EricL&gt; The problem there is that there is more data coming from the client than can be written to disk (on a MB/s basis)</div>
<div class="line">[Tuesday 14 December 2010] [23:36:13] &lt;EricL&gt; That&#8217;s why I am interested in something like 0MQ.  I just am not sure how to segment the write load across multiple servers.</div>
<div class="line">[Tuesday 14 December 2010] [23:36:15] &lt;Steve-o&gt;       so the messages will queue up on the log clients</div>
<div class="line">[Tuesday 14 December 2010] [23:36:40] &lt;Steve-o&gt;       you will probably want to use the zmq_swap function to spool onto disk too</div>
<div class="line">[Tuesday 14 December 2010] [23:38:43] &lt;Steve-o&gt;       log client: send messages as soon as available, zmq queues up messages if log server is congested receiving</div>
<div class="line">[Tuesday 14 December 2010] [23:38:44] &lt;EricL&gt; That won&#8217;t solve the issue since it&#8217;s constantly going to be backing up.</div>
<div class="line">[Tuesday 14 December 2010] [23:39:21] &lt;brandyn&gt;       any know the state of pub side filtering?</div>
<div class="line">[Tuesday 14 December 2010] [23:40:24] &lt;Steve-o&gt;       EricL:  zmq is managing the queue and congestion for you, so it sounds ideal</div>
<div class="line">[Tuesday 14 December 2010] [23:40:26] &lt;brandyn&gt;       that is a really essential feature for my application and I have to emulate it now</div>
<div class="line">[Tuesday 14 December 2010] [23:40:46] &lt;Steve-o&gt;       brandyn:  have you checked the source in git/master?</div>
<div class="line">[Tuesday 14 December 2010] [23:41:58] &lt;brandyn&gt;       Steve-o, yeah I got it this morning but it looks to be a copy of pub/sub (the XPUB/SUB that is)</div>
<div class="line">[Tuesday 14 December 2010] [23:42:28] &lt;EricL&gt; It&#8217;s only ideal if I can avoid duplication of msg logging on the server side.</div>
<div class="line">[Tuesday 14 December 2010] [23:43:13] &lt;Steve-o&gt;       duplication?  As in re-transmits?</div>
<div class="line">[Tuesday 14 December 2010] [23:43:15] &lt;brandyn&gt;       <a class="reference external" href="https://github.com/zeromq/zeromq2/commit/c80e7b80cc726ca7c29493c2553c8d19792bb6e5">https://github.com/zeromq/zeromq2/commit/c80e7b80cc726ca7c29493c2553c8d19792bb6e5</a></div>
<div class="line">[Tuesday 14 December 2010] [23:44:31] &lt;EricL&gt; duplication meaning that if I have more than 1 logserver and 3 clients pushing out msgs, I don&#8217;t care which logserver the msgs go to as long as there are not any duplicate msgs.</div>
<div class="line">[Tuesday 14 December 2010] [23:44:42] &lt;Steve-o&gt;       brandyn:  I guess you have to ask Gerard Toonstra, he was submitting the patches and RFC</div>
<div class="line">[Tuesday 14 December 2010] [23:44:48] &lt;EricL&gt; (from logserver to logserver)</div>
<div class="line">[Tuesday 14 December 2010] [23:45:41] &lt;Steve-o&gt;       EricL: so you also have a question of which logserver is being targetted</div>
<div class="line">[Tuesday 14 December 2010] [23:47:06] &lt;EricL&gt; I don&#8217;t care which logserver is being targeted as long as it gets there.</div>
<div class="line">[Tuesday 14 December 2010] [23:52:14] &lt;Steve-o&gt;       k, the link for loggly&#8217;s notes has disappeared, <a class="reference external" href="http://www.zeromq.org/blog:loggy-switches-to-0mq">http://www.zeromq.org/blog:loggy-switches-to-0mq</a></div>
<div class="line">[Tuesday 14 December 2010] [23:52:32] &lt;EricL&gt; Looking.</div>
<div class="line">[Tuesday 14 December 2010] [23:55:38] &lt;EricL&gt; Yea, that doesn&#8217;t tell much.</div>
<div class="line">[Tuesday 14 December 2010] [23:57:32] &lt;Steve-o&gt;       maybe PUSH/PULL sockets, implements load sharing, not sure about guarantees on one only delivery</div>
<div class="line">[Wednesday 15 December 2010] [00:06:36] &lt;EricL&gt;       Hmm...I guess I am not sure of the best approach in general.</div>
<div class="line">[Wednesday 15 December 2010] [00:08:55] &lt;EricL&gt;       So you think I should setup a PUSH socket on the client and then write everything from the Resque processes to that socket (which will then do the buffering).</div>
<div class="line">[Wednesday 15 December 2010] [00:10:40] &lt;EricL&gt;       Then on the server(s), I should do a PULL and hope that I am not receiving duplicates.</div>
<div class="line">[Wednesday 15 December 2010] [00:13:25] &lt;Steve-o&gt;     yes, although I&#8217;d check with the devs on the mailing list about duplicate delivery</div>
<div class="line">[Wednesday 15 December 2010] [00:15:13] &lt;Steve-o&gt;     otherwise you need req/rep and you suffer RTT time</div>
<div class="line">[Wednesday 15 December 2010] [00:20:52] &lt;EricL&gt;       Alright.  I think I have some reading to do in order to understand how to implement all this.</div>
<div class="line">[Wednesday 15 December 2010] [00:21:27] &lt;Steve-o&gt;     the main devs should be online in a few hours time</div>
<div class="line">[Wednesday 15 December 2010] [00:21:43] &lt;EricL&gt;       They in EST?</div>
<div class="line">[Wednesday 15 December 2010] [00:22:30] &lt;Steve-o&gt;     MET I think</div>
<div class="line">[Wednesday 15 December 2010] [00:22:48] &lt;Steve-o&gt;     I only look after PGM stuff, all my middleware knowledge is TIBCO stuff</div>
<div class="line">[Wednesday 15 December 2010] [00:23:06] &lt;EricL&gt;       Gotchya.</div>
<div class="line">[Wednesday 15 December 2010] [00:25:42] &lt;Steve-o&gt;     In TIBCO you would use a Rendezvous Distributed Queue (RVDQ), but the implementation is very layered and not as efficient as 0MQ</div>
<div class="line">[Wednesday 15 December 2010] [00:28:20] &lt;EricL&gt;       I think I need the efficiency of 0MQ because of the amount of data I am dealing with.</div>
<div class="line">[Wednesday 15 December 2010] [02:01:43] &lt;EricL&gt;       Steve-o: Thanks.</div>
<div class="line">[Wednesday 15 December 2010] [06:09:20] &lt;<a href="#id430"><span class="problematic" id="id431">gb_</span></a>&gt; hello</div>
<div class="line">[Wednesday 15 December 2010] [06:22:02] &lt;sustrik&gt;     hello</div>
<div class="line">[Wednesday 15 December 2010] [06:26:02] &lt;mikko&gt;       hi</div>
<div class="line">[Wednesday 15 December 2010] [06:35:39] &lt;sustrik&gt;     finally i&#8217;m getting to your patch</div>
<div class="line">[Wednesday 15 December 2010] [06:35:43] &lt;sustrik&gt;     sorry for the delay</div>
<div class="line">[Wednesday 15 December 2010] [06:35:52] &lt;mikko&gt;       i&#8217;m patching jmeter at the moment</div>
<div class="line">[Wednesday 15 December 2010] [06:36:05] &lt;mikko&gt;       only works master-slave if it&#8217;s in the same network / no firewalls</div>
<div class="line">[Wednesday 15 December 2010] [07:04:33] &lt;mikko&gt;       sustrik: it seems that swap_t::full() was maybe an old implementation from where</div>
<div class="line">[Wednesday 15 December 2010] [07:04:46] &lt;mikko&gt;       sustrik: it seems unlikely that buffer_space () == 1 in any case</div>
<div class="line">[Wednesday 15 December 2010] [07:06:51] &lt;sustrik&gt;     mikko: the swap isn&#8217;t my code</div>
<div class="line">[Wednesday 15 December 2010] [07:06:58] &lt;sustrik&gt;     i&#8217;m trying to make sense of it</div>
<div class="line">[Wednesday 15 December 2010] [07:07:35] &lt;mikko&gt;       the problem is was hitting was that swap was not full but there wasn&#8217;t enough space for the given message</div>
<div class="line">[Wednesday 15 December 2010] [07:07:45] &lt;mikko&gt;       hence swap_t::fits(..</div>
<div class="line">[Wednesday 15 December 2010] [07:11:03] &lt;Steve-o&gt;     why does swap_t call GetCurrentThreadId on Windows but getpid on POSIX?  brain fart.</div>
<div class="line">[Wednesday 15 December 2010] [07:12:42] &lt;sustrik&gt;     it just need some unique number</div>
<div class="line">[Wednesday 15 December 2010] [07:13:01] &lt;sustrik&gt;     i think the code was written before 0mq was linked with libuuid</div>
<div class="line">[Wednesday 15 December 2010] [07:13:24] &lt;Steve-o&gt;     but not both thread id or process id, one of each</div>
<div class="line">[Wednesday 15 December 2010] [07:15:28] &lt;Steve-o&gt;     meh, also how many people use octets as a counter?  old people :P</div>
<div class="line">[Wednesday 15 December 2010] [07:21:20] &lt;sustrik&gt;     well, it&#8217;s always one of them afaics</div>
<div class="line">[Wednesday 15 December 2010] [07:21:29] &lt;sustrik&gt;     tid on windows</div>
<div class="line">[Wednesday 15 December 2010] [07:21:33] &lt;sustrik&gt;     pid on posix</div>
<div class="line">[Wednesday 15 December 2010] [07:21:54] &lt;sustrik&gt;     but, presumably, uuid would be better</div>
<div class="line">[Wednesday 15 December 2010] [08:05:03] &lt;sustrik&gt;     mikko: still there?</div>
<div class="line">[Wednesday 15 December 2010] [08:29:13] &lt;mikko&gt;       yes</div>
<div class="line">[Wednesday 15 December 2010] [08:32:42] &lt;sustrik&gt;     mikko: i&#8217;ve sent a modified swap patch</div>
<div class="line">[Wednesday 15 December 2010] [08:32:56] &lt;sustrik&gt;     basically i&#8217;ve just removed some dead code</div>
<div class="line">[Wednesday 15 December 2010] [08:33:07] &lt;mikko&gt;       sustrik: you still have the implementation of full there</div>
<div class="line">[Wednesday 15 December 2010] [08:33:16] &lt;sustrik&gt;     oh my</div>
<div class="line">[Wednesday 15 December 2010] [08:33:17] &lt;mikko&gt;       no you dont</div>
<div class="line">[Wednesday 15 December 2010] [08:33:22] &lt;mikko&gt;       misread the patch</div>
<div class="line">[Wednesday 15 December 2010] [08:33:23] &lt;sustrik&gt;     it&#8217;s commented out</div>
<div class="line">[Wednesday 15 December 2010] [08:33:40] &lt;mikko&gt;       yes, looks good to me. i can test it after i get a haircut</div>
<div class="line">[Wednesday 15 December 2010] [08:33:46] &lt;sustrik&gt;     goodo</div>
<div class="line">[Wednesday 15 December 2010] [08:33:50] &lt;sustrik&gt;     just ping me then</div>
<div class="line">[Wednesday 15 December 2010] [08:33:53] &lt;sustrik&gt;     and i&#8217;ll apply it</div>
<div class="line">[Wednesday 15 December 2010] [08:34:37] &lt;mikko&gt;       i&#8217;ll give you ping</div>
<div class="line">[Wednesday 15 December 2010] [08:34:42] &lt;mikko&gt;       i added freebsd 8.1 to build cluster</div>
<div class="line">[Wednesday 15 December 2010] [08:34:48] &lt;mikko&gt;       linux, solaris, win, freebsd now</div>
<div class="line">[Wednesday 15 December 2010] [08:36:02] &lt;sustrik&gt;     it&#8217;s getting pretty complete :)</div>
<div class="line">[Wednesday 15 December 2010] [08:36:33] &lt;mikko&gt;       Bad file descriptor</div>
<div class="line">[Wednesday 15 December 2010] [08:36:33] &lt;mikko&gt;       nbytes != -1 (tcp_socket.cpp:197)</div>
<div class="line">[Wednesday 15 December 2010] [08:36:33] &lt;mikko&gt;       Abort trap (core dumped)</div>
<div class="line">[Wednesday 15 December 2010] [08:36:47] &lt;mikko&gt;       shutdown_stress on freebsd 8.1</div>
<div class="line">[Wednesday 15 December 2010] [08:41:30] &lt;CIA-20&gt;      zeromq2: 03Mikko Koppanen 07master * ra46980b 10/ (4 files in 4 dirs):</div>
<div class="line">[Wednesday 15 December 2010] [08:41:30] &lt;CIA-20&gt;      zeromq2: Remove assertions from devices</div>
<div class="line">[Wednesday 15 December 2010] [08:41:30] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/e4ZWpR">http://bit.ly/e4ZWpR</a></div>
<div class="line">[Wednesday 15 December 2010] [08:42:23] &lt;sustrik&gt;     mikko: that&#8217;s presumably the bug dhammika fixed</div>
<div class="line">[Wednesday 15 December 2010] [08:42:40] &lt;sustrik&gt;     i still have to look at the one you&#8217;ve reported yesterday</div>
<div class="line">[Wednesday 15 December 2010] [09:58:43] &lt;mikko&gt;       sustrik: you mean the HWM one?</div>
<div class="line">[Wednesday 15 December 2010] [10:00:05] &lt;sustrik&gt;     mikko: <a class="reference external" href="https://gist.github.com/848e949008e67ca542f7">https://gist.github.com/848e949008e67ca542f7</a></div>
<div class="line">[Wednesday 15 December 2010] [10:07:14] &lt;Guthur&gt;      sustrik: I just noticed that clrzmq2 issue there now</div>
<div class="line">[Wednesday 15 December 2010] [10:07:19] &lt;Guthur&gt;      I&#8217;ve replied</div>
<div class="line">[Wednesday 15 December 2010] [10:07:35] &lt;sustrik&gt;     Guthur: good</div>
<div class="line">[Wednesday 15 December 2010] [10:07:46] &lt;Guthur&gt;      all I can say is... at least he finally got it built</div>
<div class="line">[Wednesday 15 December 2010] [10:08:21] &lt;sustrik&gt;     problem with clrzmq or problem with the user?</div>
<div class="line">[Wednesday 15 December 2010] [10:08:35] &lt;Guthur&gt;      user</div>
<div class="line">[Wednesday 15 December 2010] [10:08:39] &lt;sustrik&gt;     :)</div>
<div class="line">[Wednesday 15 December 2010] [10:08:59] &lt;Guthur&gt;      He&#8217;s wondering why passing in a String encoding object only returns strings</div>
<div class="line">[Wednesday 15 December 2010] [10:09:12] &lt;Guthur&gt;      he wanted binary</div>
<div class="line">[Wednesday 15 December 2010] [10:09:30] &lt;Guthur&gt;      which is the standard method, returning a byte array</div>
<div class="line">[Wednesday 15 December 2010] [10:10:00] &lt;Guthur&gt;      I need to check the comments again, I&#8217;m sure I was pretty explicit</div>
<div class="line">[Wednesday 15 December 2010] [10:10:34] &lt;sustrik&gt;     depends on the user</div>
<div class="line">[Wednesday 15 December 2010] [10:10:59] &lt;sustrik&gt;     however simply you explain, there&#8217;s still someone who&#8217;s not going to understand</div>
<div class="line">[Wednesday 15 December 2010] [10:11:03] &lt;Guthur&gt;      hehe comment -&gt; Listen for message, and return it in string format</div>
<div class="line">[Wednesday 15 December 2010] [10:12:07] &lt;Guthur&gt;      actually to be fair there could be some improvement in the comment for the method he wanted</div>
<div class="line">[Wednesday 15 December 2010] [10:12:17] &lt;Guthur&gt;      I&#8217;ll look into updating later</div>
<div class="line">[Wednesday 15 December 2010] [10:15:00] &lt;sustrik&gt;     Guthur: there have been something else wrt clrzmq discussed on the ML</div>
<div class="line">[Saturday 18 December 2010] [16:32:02] &lt;mikko&gt;        sustrik: no more race condition failures</div>
<div class="line">[Saturday 18 December 2010] [16:33:52] &lt;mikko&gt;        in the daily builds</div>
<div class="line">[Saturday 18 December 2010] [21:15:14] &lt;raydeo&gt;       is it possible that libcurl is interfering with zeromq? I have a system that uses 3 IPC sockets that runs very smoothly but when I turn on network uploading via libcurl I get bizarre behavior like dropped messages.</div>
<div class="line">[Saturday 18 December 2010] [22:01:22] &lt;raydeo&gt;       is there a reliable way to ensure that zmq is closing properly? I&#8217;m discovering that if a process dies without cleaning up it brings the whole system down.</div>
<div class="line">[Sunday 19 December 2010] [02:59:38] &lt;mikko&gt;  raydeo: is your libcurl thingia running in a thread?</div>
<div class="line">[Sunday 19 December 2010] [02:59:54] &lt;mikko&gt;  raydeo: just wondering because it would most likely block (?)</div>
<div class="line">[Sunday 19 December 2010] [12:17:42] &lt;mikko&gt;  good evening</div>
<div class="line">[Sunday 19 December 2010] [16:39:37] &lt;mikko&gt;  sustrik: found a segfault</div>
<div class="line">[Sunday 19 December 2010] [22:28:02] &lt;davidstrauss&gt;   I&#8217;m trying to figure out why my first attempt at a C++ echo/client implementation isn&#8217;t exchanging any messages.</div>
<div class="line">[Sunday 19 December 2010] [22:28:32] &lt;davidstrauss&gt;   <a class="reference external" href="http://pastie.org/1390975">http://pastie.org/1390975</a></div>
<div class="line">[Sunday 19 December 2010] [22:28:51] &lt;davidstrauss&gt;   (the code is pastied)</div>
<div class="line">[Sunday 19 December 2010] [22:35:57] &lt;Steve-o&gt;        isn&#8217;t rep supposed to bind?</div>
<div class="line">[Sunday 19 December 2010] [22:36:39] &lt;davidstrauss&gt;   Steve-o, I&#8217;ve tried that</div>
<div class="line">[Sunday 19 December 2010] [22:36:57] &lt;davidstrauss&gt;   Steve-o, Converting the connect to a bind on the echo.cpp doesn&#8217;t make it work</div>
<div class="line">[Sunday 19 December 2010] [22:37:11] &lt;Steve-o&gt;        k</div>
<div class="line">[Sunday 19 December 2010] [22:37:15] &lt;davidstrauss&gt;   Steve-o, I have nearly identical code in Python working</div>
<div class="line">[Sunday 19 December 2010] [22:37:58] &lt;Steve-o&gt;        aha, nice</div>
<div class="line">[Sunday 19 December 2010] [22:38:04] &lt;davidstrauss&gt;   Steve-o, The echo.cpp version starts and then just waits forever for a message</div>
<div class="line">[Sunday 19 December 2010] [22:38:18] &lt;davidstrauss&gt;   Steve-o, And the client.cpp code &#8220;sends&#8221; a message without error.</div>
<div class="line">[Sunday 19 December 2010] [22:38:28] &lt;davidstrauss&gt;   Steve-o, But echo.cpp doesn&#8217;t seem to get it</div>
<div class="line">[Sunday 19 December 2010] [22:39:03] &lt;davidstrauss&gt;   Steve-o, If I can get this working, I would happily publish this as a public example</div>
<div class="line">[Sunday 19 December 2010] [22:39:14] &lt;Steve-o&gt;        local_lat uses REP sockets</div>
<div class="line">[Sunday 19 December 2010] [22:39:26] &lt;davidstrauss&gt;   Steve-o, local_lat?</div>
<div class="line">[Sunday 19 December 2010] [22:39:37] &lt;Steve-o&gt;        latency performance test tool</div>
<div class="line">[Sunday 19 December 2010] [22:40:02] &lt;Steve-o&gt;        &gt;&gt; <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/perf/local_lat.cpp">https://github.com/zeromq/zeromq2/blob/master/perf/local_lat.cpp</a></div>
<div class="line">[Sunday 19 December 2010] [22:40:44] &lt;Steve-o&gt;        with remote_lat being the REQ client</div>
<div class="line">[Sunday 19 December 2010] [22:41:21] &lt;davidstrauss&gt;   Steve-o, Unfortunately, that uses the C API, even though the code is C++</div>
<div class="line">[Sunday 19 December 2010] [22:43:01] &lt;Steve-o&gt;        the bind on the REQ socket should be something like <a class="reference external" href="tcp://eth0:5555">tcp://eth0:5555</a></div>
<div class="line">[Sunday 19 December 2010] [22:43:29] &lt;davidstrauss&gt;   Steve-o, I need to bind on the REQ socket? Not just connect?</div>
<div class="line">[Sunday 19 December 2010] [22:44:07] &lt;Steve-o&gt;        bind only</div>
<div class="line">[Sunday 19 December 2010] [22:44:27] &lt;Steve-o&gt;        actually forget the eth0 thing, according to <a class="reference external" href="http://api.zeromq.org/zmq_tcp.html">http://api.zeromq.org/zmq_tcp.html</a> using the IP address should work too</div>
<div class="line">[Sunday 19 December 2010] [22:44:37] &lt;davidstrauss&gt;   Steve-o, All the demos I see have the ZMQ_REP server bind and the ZMQ_REQ connect</div>
<div class="line">[Sunday 19 December 2010] [22:44:49] &lt;Steve-o&gt;        change line 11 to socket.bind(&#8220;<a class="reference external" href="tcp://127.0.0.1:5000">tcp://127.0.0.1:5000</a>&#8221;);</div>
<div class="line">[Sunday 19 December 2010] [22:45:07] &lt;Steve-o&gt;        sorry, getting confused</div>
<div class="line">[Sunday 19 December 2010] [22:45:09] &lt;davidstrauss&gt;   Steve-o, I can&#8217;t have the server and client both bind</div>
<div class="line">[Sunday 19 December 2010] [22:45:22] &lt;Steve-o&gt;        REQ should connect only, REP should bind only, right?</div>
<div class="line">[Sunday 19 December 2010] [22:45:43] &lt;davidstrauss&gt;   Steve-o, That&#8217;s the impression i&#8217;m under, and it&#8217;s not working for me.</div>
<div class="line">[Sunday 19 December 2010] [22:45:51] &lt;davidstrauss&gt;   Steve-o, Nor is it giving any errors.</div>
<div class="line">[Sunday 19 December 2010] [22:47:34] &lt;Steve-o&gt;        mmm, don&#8217;t you have to do a bit more work in the echo.cpp loop</div>
<div class="line">[Sunday 19 December 2010] [22:47:49] &lt;Steve-o&gt;        it looks like you are re-using one message object all the time</div>
<div class="line">[Sunday 19 December 2010] [22:47:49] &lt;davidstrauss&gt;   Steve-o, How so?</div>
<div class="line">[Sunday 19 December 2010] [22:48:05] &lt;davidstrauss&gt;   Steve-o, Even reusing the same message object should work at least once</div>
<div class="line">[Sunday 19 December 2010] [22:48:19] &lt;Steve-o&gt;        yes, I would think so</div>
<div class="line">[Sunday 19 December 2010] [22:48:32] &lt;davidstrauss&gt;   Steve-o, The code never reaches &#8220;cout &lt;&lt; &#8220;Message: &#8221; &lt;&lt; (char <a href="#id17"><span class="problematic" id="id18">*</span></a>) message.data() &lt;&lt; endl;&#8221;</div>
<div class="line">[Sunday 19 December 2010] [22:48:58] &lt;Steve-o&gt;        stuck in recv?</div>
<div class="line">[Sunday 19 December 2010] [22:49:12] &lt;davidstrauss&gt;   Steve-o, yes, blocking on getting a message</div>
<div class="line">[Sunday 19 December 2010] [22:49:44] &lt;davidstrauss&gt;   Steve-o, I just see &#8220;Waiting on message&#8221; when I run it</div>
<div class="line">[Sunday 19 December 2010] [22:51:54] &lt;Steve-o&gt;        but Python version is working?</div>
<div class="line">[Sunday 19 December 2010] [22:52:03] &lt;davidstrauss&gt;   Steve-o, yes</div>
<div class="line">[Sunday 19 December 2010] [22:52:41] &lt;davidstrauss&gt;   Steve-o, <a class="reference external" href="http://pastie.org/1391002">http://pastie.org/1391002</a></div>
<div class="line">[Sunday 19 December 2010] [22:53:37] &lt;Steve-o&gt;        try adding a socket.recv() in the client.cpp</div>
<div class="line">[Sunday 19 December 2010] [22:53:49] &lt;Steve-o&gt;        I&#8217;m guessing the client is terminating too quickly</div>
<div class="line">[Sunday 19 December 2010] [22:54:35] &lt;davidstrauss&gt;   Steve-o, woo hoo</div>
<div class="line">[Sunday 19 December 2010] [22:55:03] &lt;davidstrauss&gt;   Steve-o, the works!</div>
<div class="line">[Sunday 19 December 2010] [22:55:06] &lt;davidstrauss&gt;   that*</div>
<div class="line">[Sunday 19 December 2010] [22:55:18] &lt;Steve-o&gt;        which version of 0mq is this?</div>
<div class="line">[Sunday 19 December 2010] [22:56:27] &lt;davidstrauss&gt;   Steve-o, 2.0.10</div>
<div class="line">[Sunday 19 December 2010] [22:56:49] &lt;Steve-o&gt;        ok 2.1.0 will wait for you in zmq_term</div>
<div class="line">[Sunday 19 December 2010] [22:56:59] &lt;Steve-o&gt;        2.0 will exit out early</div>
<div class="line">[Sunday 19 December 2010] [22:57:01] &lt;davidstrauss&gt;   Steve-o, i see</div>
<div class="line">[Sunday 19 December 2010] [22:57:11] &lt;Steve-o&gt;        ZMQ_LINGER option</div>
<div class="line">[Sunday 19 December 2010] [22:57:38] &lt;Steve-o&gt;        otherwise you need to sleep or some other hack</div>
<div class="line">[Sunday 19 December 2010] [22:57:51] &lt;davidstrauss&gt;   Steve-o, honestly, it&#8217;s kind of silly to use REP/REQ without the client waiting on the reply</div>
<div class="line">[Sunday 19 December 2010] [22:58:01] &lt;davidstrauss&gt;   Steve-o, I was just trying to get things working</div>
<div class="line">[Sunday 19 December 2010] [22:58:26] &lt;Steve-o&gt;        it also affects other sockets, like trying to PUB on message and quit</div>
<div class="line">[Sunday 19 December 2010] [22:58:53] &lt;Steve-o&gt;        which makes command line utilities a bit useless</div>
<div class="line">[Sunday 19 December 2010] [23:01:52] &lt;Steve-o&gt;        REQ/REP limits you on speed to RTT, you need other socket types for faster performance</div>
<div class="line">[Sunday 19 December 2010] [23:04:33] &lt;davidstrauss&gt;   Steve-o, to RTT?</div>
<div class="line">[Sunday 19 December 2010] [23:04:44] &lt;Steve-o&gt;        round-trip-time on the LAN/MAN/WAN</div>
<div class="line">[Sunday 19 December 2010] [23:05:41] &lt;Steve-o&gt;        0mq excels when you can batch up messages</div>
<div class="line">[Sunday 19 December 2010] [23:06:47] &lt;Steve-o&gt;        depends on application architecture and requirements</div>
<div class="line">[Sunday 19 December 2010] [23:07:05] &lt;Steve-o&gt;        whether you wish to allow several outstanding requests for example</div>
<div class="line">[Sunday 19 December 2010] [23:18:10] &lt;davidstrauss&gt;   Steve-o, Cool. So, I have PHP, Python, and C++ interoperating on the REQ/REP pattern. I&#8217;ll try to clean up the code and publish it.</div>
<div class="line">[Sunday 19 December 2010] [23:19:10] &lt;davidstrauss&gt;   Steve-o, thanks for your help</div>
<div class="line">[Sunday 19 December 2010] [23:26:34] &lt;Steve-o&gt;        np</div>
<div class="line">[Sunday 19 December 2010] [23:28:35] &lt;davidstrauss&gt;   Is there any good comparison between using Thrift&#8217;s built-in RPC support vs. using ZeroMQ?</div>
<div class="line">[Sunday 19 December 2010] [23:32:30] &lt;Steve-o&gt;        I&#8217;ve seen it come up, but nothing detailed apart from discussing it</div>
<div class="line">[Sunday 19 December 2010] [23:35:30] &lt;Steve-o&gt;        I think there was a protobuf vs thrift as message format above zeromq</div>
<div class="line">[Sunday 19 December 2010] [23:35:41] &lt;Steve-o&gt;        nothing on the actual RPC implementation</div>
<div class="line">[Sunday 19 December 2010] [23:36:13] &lt;Steve-o&gt;        lol, thrift over 0mq:  <a class="reference external" href="http://www.mail-archive.com/thrift-dev&#64;incubator.apache.org/msg08473.html">http://www.mail-archive.com/thrift-dev&#64;incubator.apache.org/msg08473.html</a></div>
<div class="line">[Sunday 19 December 2010] [23:36:41] &lt;davidstrauss&gt;   Steve-o, Well, it is necessary to pick <em>some</em> sort of format for messages.</div>
<div class="line">[Sunday 19 December 2010] [23:37:00] &lt;davidstrauss&gt;   Steve-o, I&#8217;m looking at pure Thrift vs. Thrift serialization + ZeroMQ</div>
<div class="line">[Sunday 19 December 2010] [23:37:49] &lt;Steve-o&gt;        ok, I like protobufs as it is easy to roll</div>
<div class="line">[Sunday 19 December 2010] [23:38:12] &lt;Steve-o&gt;        still a bit backward compared with TIBCO quick forms though</div>
<div class="line">[Sunday 19 December 2010] [23:38:36] &lt;davidstrauss&gt;   Steve-o, Yeah, but I&#8217;m working with primarily PHP clients, and Protobufs only have experimental PHP support with no accelerated serialization</div>
<div class="line">[Sunday 19 December 2010] [23:39:33] &lt;Steve-o&gt;        ok</div>
<div class="line">[Sunday 19 December 2010] [23:40:01] &lt;Steve-o&gt;        You also have JSON and derivatives to pick from then</div>
<div class="line">[Sunday 19 December 2010] [23:40:39] &lt;davidstrauss&gt;   Steve-o, JSON isn&#8217;t great for C++ servers, nor is it a terribly efficient format :-/</div>
<div class="line">[Sunday 19 December 2010] [23:41:39] &lt;Steve-o&gt;        but it&#8217;s easy for PHP, JavaScript, and humans to read :D</div>
<div class="line">[Sunday 19 December 2010] [23:41:56] &lt;Steve-o&gt;        and there are libraries for it everywhere</div>
<div class="line">[Sunday 19 December 2010] [23:42:04] &lt;davidstrauss&gt;   Steve-o, agreed</div>
<div class="line">[Sunday 19 December 2010] [23:42:19] &lt;Steve-o&gt;        it&#8217;s less cumbersome than XDR anyhow</div>
<div class="line">[Sunday 19 December 2010] [23:44:00] &lt;Steve-o&gt;        you could roll your own PHP extension with fixed scope,</div>
<div class="line">[Sunday 19 December 2010] [23:48:47] &lt;Steve-o&gt;        Google lacks dynamic forms, everything is static compiled</div>
<div class="line">[Monday 20 December 2010] [03:16:36] &lt;sustrik&gt;        hi mikko: what segfault?</div>
<div class="line">[Monday 20 December 2010] [05:22:49] &lt;mikko&gt;  sustrik: <a class="reference external" href="https://gist.github.com/17fb87b54e83832354b5">https://gist.github.com/17fb87b54e83832354b5</a></div>
<div class="line">[Monday 20 December 2010] [05:24:39] &lt;sustrik&gt;        mikko: looks like a deallocation of invalid message</div>
<div class="line">[Monday 20 December 2010] [05:24:56] &lt;sustrik&gt;        do you have a test program?</div>
<div class="line">[Monday 20 December 2010] [05:25:07] &lt;mikko&gt;  the way i reproduce is by creating a rep socket</div>
<div class="line">[Monday 20 December 2010] [05:25:11] &lt;mikko&gt;  then telnet in</div>
<div class="line">[Monday 20 December 2010] [05:25:19] &lt;mikko&gt;  press ctrl+c in telnet</div>
<div class="line">[Monday 20 December 2010] [05:25:22] &lt;mikko&gt;  and enter twice</div>
<div class="line">[Monday 20 December 2010] [05:25:33] &lt;sustrik&gt;        sorry, what&#8217;s enter twice?</div>
<div class="line">[Monday 20 December 2010] [05:25:46] &lt;mikko&gt;</div>
<div class="line">[Monday 20 December 2010] [05:25:47] &lt;mikko&gt;</div>
<div class="line">[Monday 20 December 2010] [05:25:54] &lt;sustrik&gt;        in telnet?</div>
<div class="line">[Monday 20 December 2010] [05:25:57] &lt;mikko&gt;  yes</div>
<div class="line">[Monday 20 December 2010] [05:26:11] &lt;sustrik&gt;        let me try...</div>
<div class="line">[Monday 20 December 2010] [05:26:11] &lt;mikko&gt;  i&#8217;ve been too lazy to check the exact bytes that combo sends :)</div>
<div class="line">[Monday 20 December 2010] [05:26:20] &lt;sustrik&gt;        doesn&#8217;t matter</div>
<div class="line">[Monday 20 December 2010] [05:27:16] &lt;sustrik&gt;        reproduced</div>
<div class="line">[Monday 20 December 2010] [05:27:18] &lt;sustrik&gt;        thanks!</div>
<div class="line">[Monday 20 December 2010] [05:30:43] &lt;mikko&gt;  np</div>
<div class="line">[Monday 20 December 2010] [05:31:47] &lt;mikko&gt;  <a class="reference external" href="https://gist.github.com/21ee1c85b1b2f6cbba66">https://gist.github.com/21ee1c85b1b2f6cbba66</a></div>
<div class="line">[Monday 20 December 2010] [05:31:54] &lt;mikko&gt;  that&#8217;s from my gdb session last night</div>
<div class="line">[Monday 20 December 2010] [05:47:52] &lt;CIA-21&gt; zeromq2: 03Martin Sustrik 07master * r112d0cd 10/ src/decoder.cpp :</div>
<div class="line">[Monday 20 December 2010] [05:47:52] &lt;CIA-21&gt; zeromq2: Fix the segfault when over-sized message is rejected.</div>
<div class="line">[Monday 20 December 2010] [05:47:52] &lt;CIA-21&gt; zeromq2: The in_progress message inside of decoder was left</div>
<div class="line">[Monday 20 December 2010] [05:47:52] &lt;CIA-21&gt; zeromq2: uninitialised in such a case.</div>
<div class="line">[Monday 20 December 2010] [05:47:52] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/grKk2b">http://bit.ly/grKk2b</a></div>
<div class="line">[Monday 20 December 2010] [05:53:09] &lt;mikko&gt;  sustrik: gj, that was quick</div>
<div class="line">[Monday 20 December 2010] [06:12:00] &lt;sustrik&gt;        :)</div>
<div class="line">[Monday 20 December 2010] [07:05:46] &lt;CIA-21&gt; zeromq2: 03Martin Sustrik 07master * r51d2d9b 10/ src/decoder.cpp :</div>
<div class="line">[Monday 20 December 2010] [07:05:46] &lt;CIA-21&gt; zeromq2: Yet one more fix for oversized messages.</div>
<div class="line">[Monday 20 December 2010] [07:05:46] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ez2JYr">http://bit.ly/ez2JYr</a></div>
<div class="line">[Monday 20 December 2010] [13:41:56] &lt;<a href="#id432"><span class="problematic" id="id433">myraft_</span></a>&gt;        mikko - I haven&#8217;t been back here for a while. Quick update - got past the initial Java HelloWorld queue setup. The problem was the way I was running the Java code on Ubuntu.</div>
<div class="line">[Monday 20 December 2010] [13:42:05] &lt;<a href="#id434"><span class="problematic" id="id435">myraft_</span></a>&gt;        Thanks for the help the other day.</div>
<div class="line">[Monday 20 December 2010] [13:44:51] &lt;mikko&gt;  no problem</div>
<div class="line">[Monday 20 December 2010] [13:45:01] &lt;mikko&gt;  what is the problem of running java code on ubuntu?</div>
<div class="line">[Monday 20 December 2010] [14:01:58] &lt;<a href="#id436"><span class="problematic" id="id437">myraft_</span></a>&gt;        mikko - the guide explicitly states to calls to run it with -Djava.library.path=&#8221;/usr/local/lib&#8221;. I did sudo ldconfig , which in theory should have loaded it and be avaiable for any program to use (at least that was my impression). Once I set that as VM Argument - everythigng started working.</div>
<div class="line">[Monday 20 December 2010] [14:09:58] &lt;mikko&gt;  nice!</div>
<div class="line">[Monday 20 December 2010] [14:10:05] &lt;mikko&gt;  so the error message was correct after all</div>
<div class="line">[Monday 20 December 2010] [14:10:34] &lt;mikko&gt;  good to know, now we know what to tell the next guy asking</div>
<div class="line">[Monday 20 December 2010] [14:25:09] &lt;<a href="#id438"><span class="problematic" id="id439">dv_</span></a>&gt;    woot</div>
<div class="line">[Monday 20 December 2010] [14:25:19] &lt;<a href="#id440"><span class="problematic" id="id441">dv_</span></a>&gt;    i can now send asynchronous function calls through zeromq</div>
<div class="line">[Monday 20 December 2010] [14:32:41] &lt;mikko&gt;  <a href="#id442"><span class="problematic" id="id443">dv_</span></a>: cool!</div>
<div class="line">[Monday 20 December 2010] [14:32:52] &lt;mikko&gt;  <a href="#id444"><span class="problematic" id="id445">dv_</span></a>: what language are you working in?</div>
<div class="line">[Monday 20 December 2010] [14:32:55] &lt;<a href="#id446"><span class="problematic" id="id447">dv_</span></a>&gt;    its not rpc, mind you</div>
<div class="line">[Monday 20 December 2010] [14:33:05] &lt;<a href="#id448"><span class="problematic" id="id449">dv_</span></a>&gt;    more like boost signals/libsigc++/qt signals</div>
<div class="line">[Monday 20 December 2010] [14:33:14] &lt;<a href="#id450"><span class="problematic" id="id451">dv_</span></a>&gt;    mikko, right now its for c++ and ruby</div>
<div class="line">[Monday 20 December 2010] [14:33:32] &lt;<a href="#id452"><span class="problematic" id="id453">dv_</span></a>&gt;    i plan on adding support for more languages. especially javascript through websockets</div>
<div class="line">[Monday 20 December 2010] [14:33:32] &lt;mikko&gt;  im doing something similar in my current project</div>
<div class="line">[Monday 20 December 2010] [14:33:40] &lt;mikko&gt;  i got &#8220;intercomm&#8221; for communicating between threads</div>
<div class="line">[Monday 20 December 2010] [14:33:47] &lt;mikko&gt;  sending shutdown messages etc</div>
<div class="line">[Monday 20 December 2010] [14:33:50] &lt;<a href="#id454"><span class="problematic" id="id455">dv_</span></a>&gt;    on one side, i do send_call(&#8220;foobar&#8221;, params);</div>
<div class="line">[Monday 20 December 2010] [14:33:57] &lt;<a href="#id456"><span class="problematic" id="id457">dv_</span></a>&gt;    on the other side, i previously registered a &#8220;foobar&#8221; callback</div>
<div class="line">[Monday 20 December 2010] [14:34:03] &lt;mikko&gt;  nice</div>
<div class="line">[Monday 20 December 2010] [14:34:14] &lt;<a href="#id458"><span class="problematic" id="id459">dv_</span></a>&gt;    and it transmits the params etc. through the wire</div>
<div class="line">[Monday 20 December 2010] [14:34:21] &lt;<a href="#id460"><span class="problematic" id="id461">dv_</span></a>&gt;    the c++ side uses a lot of metaprogramming fu :)</div>
<div class="line">[Monday 20 December 2010] [14:34:29] &lt;mikko&gt;  nice, nice</div>
<div class="line">[Monday 20 December 2010] [14:35:13] &lt;<a href="#id462"><span class="problematic" id="id463">dv_</span></a>&gt;    do you send more complex types, such as arrays?</div>
<div class="line">[Monday 20 December 2010] [14:35:31] &lt;mikko&gt;  no, my use-case is very simple</div>
<div class="line">[Monday 20 December 2010] [14:35:32] &lt;<a href="#id464"><span class="problematic" id="id465">dv_</span></a>&gt;    i want to limit things, that is, primitive types, and maybe binary buffers</div>
<div class="line">[Monday 20 December 2010] [14:35:39] &lt;mikko&gt;  just sending ints</div>
<div class="line">[Monday 20 December 2010] [14:35:57] &lt;<a href="#id466"><span class="problematic" id="id467">dv_</span></a>&gt;    but more heavyweight transmissions need their dedicated channel anyway in my opinion</div>
<div class="line">[Monday 20 December 2010] [14:36:16] &lt;mikko&gt;  im sending enums like HTTPD_SHUTDOWN, SEND_STATS etc</div>
<div class="line">[Monday 20 December 2010] [14:36:20] &lt;mikko&gt;  fairly simple</div>
<div class="line">[Monday 20 December 2010] [14:36:41] &lt;<a href="#id468"><span class="problematic" id="id469">dv_</span></a>&gt;    yeah, usually this kind of communication makes up the majority of it all</div>
<div class="line">[Monday 20 December 2010] [14:36:57] &lt;mikko&gt;  i got a libevent based httpd that pushes data down to 0MQ, which is consumed by classifier nodes and then aggregated from classifiers in aggregator nodes</div>
<div class="line">[Monday 20 December 2010] [14:37:07] &lt;mikko&gt;  in=in to</div>
<div class="line">[Monday 20 December 2010] [14:40:43] &lt;<a href="#id470"><span class="problematic" id="id471">dv_</span></a>&gt;    btw. in case you do something with epgm,</div>
<div class="line">[Monday 20 December 2010] [14:40:55] &lt;<a href="#id472"><span class="problematic" id="id473">dv_</span></a>&gt;    try using your IP address instead of the NIC name</div>
<div class="line">[Monday 20 December 2010] [14:41:38] &lt;<a href="#id474"><span class="problematic" id="id475">dv_</span></a>&gt;    sometimes openpgm seems to have problems with the nic&#8217;s name, this issue was discussed a bit in the mailing list a while ago</div>
<div class="line">[Monday 20 December 2010] [20:25:15] &lt;falconair&gt;      hi all, a few newbie questions: can zeromq api be used to do raw tcp/ip programming?</div>
<div class="line">[Monday 20 December 2010] [21:21:08] &lt;xpromache1&gt;     hello guys, I&#8217;m considering zmq for replacing corba in an application</div>
<div class="line">[Monday 20 December 2010] [21:21:25] &lt;xpromache1&gt;     the typical rpc stuff I think I know how to implement</div>
<div class="line">[Monday 20 December 2010] [21:22:00] &lt;xpromache1&gt;     but at some point a client can send a request to the server that will have to send some large amounts of data back to the clinet</div>
<div class="line">[Monday 20 December 2010] [21:22:13] &lt;xpromache1&gt;     how is this best done?</div>
<div class="line">[Monday 20 December 2010] [21:22:47] &lt;xpromache1&gt;     I guess I need to answer the request with &#8220;OK, here it comes&#8221;, and then to open another socket for pushing the data?</div>
<div class="line">[Monday 20 December 2010] [21:22:55] &lt;xpromache1&gt;     what sort of socket?</div>
<div class="line">[Monday 20 December 2010] [23:53:37] &lt;cremes&gt; falconair: no</div>
<div class="line">[Monday 20 December 2010] [23:53:54] &lt;cremes&gt; it&#8217;s a higher level api than that with a few abstractions</div>
<div class="line">[Monday 20 December 2010] [23:54:02] &lt;cremes&gt; make sure to read the guide linked off of the main page</div>
<div class="line">[Monday 20 December 2010] [23:54:34] &lt;cremes&gt; xpromache1: open a socket for each kind of messaging pattern you plan to use</div>
<div class="line">[Monday 20 December 2010] [23:54:59] &lt;cremes&gt; if you are waiting for a request/reply to start a large data download, use the REQ/REP sockets for that purpose</div>
<div class="line">[Monday 20 December 2010] [23:55:21] &lt;cremes&gt; for the big data download, consider PUB/SUB or PUSH/PULL depending on what you need</div>
<div class="line">[Monday 20 December 2010] [23:55:36] &lt;cremes&gt; you may even want to look at PAIR; it really depends on your app requirement</div>
<div class="line">[Monday 20 December 2010] [23:56:03] &lt;cremes&gt; make sure to read the guide linked off of the main page; it may help you pick the right pattern and its associated sockets</div>
<div class="line">[Monday 20 December 2010] [23:56:40] &lt;xpromache1&gt;     ok, thanks for the answer</div>
<div class="line">[Monday 20 December 2010] [23:56:51] &lt;xpromache1&gt;     is there a way to use all these over a limited number of ports</div>
<div class="line">[Monday 20 December 2010] [23:57:00] &lt;xpromache1&gt;     like one for req/rep</div>
<div class="line">[Monday 20 December 2010] [23:57:08] &lt;xpromache1&gt;     and another one for the data tansfer</div>
<div class="line">[Tuesday 21 December 2010] [00:00:39] &lt;cremes&gt;        absolutely; each socket should get its own transport (tcp/pgm/ipc/inproc) and port (not necessary for transports other than tcp)</div>
<div class="line">[Tuesday 21 December 2010] [00:01:20] &lt;cremes&gt;        0mq doesn&#8217;t use &#8220;random&#8221; ports; you specifically connect or bind to whatever you need</div>
<div class="line">[Tuesday 21 December 2010] [00:02:33] &lt;xpromache1&gt;    yes but I want to use the same port for all clients</div>
<div class="line">[Tuesday 21 December 2010] [00:02:40] &lt;xpromache1&gt;    or maybe this doesn&#8217;t make sense</div>
<div class="line">[Tuesday 21 December 2010] [00:02:59] &lt;xpromache1&gt;    I mean it only makes sense when there is some firewalls in between</div>
<div class="line">[Tuesday 21 December 2010] [00:03:14] &lt;xpromache1&gt;    but this is not the use case where zeromq should be used, right?</div>
<div class="line">[Tuesday 21 December 2010] [00:03:57] &lt;cremes&gt;        xpromache1: not really sure what you are trying to d</div>
<div class="line">[Tuesday 21 December 2010] [00:04:13] &lt;cremes&gt;        if you have a complex use-case, you may consider posting it to the ML for comment</div>
<div class="line">[Tuesday 21 December 2010] [00:04:58] &lt;xpromache1&gt;    not really complex</div>
<div class="line">[Tuesday 21 December 2010] [00:05:06] &lt;xpromache1&gt;    it&#8217;s like a database driver</div>
<div class="line">[Tuesday 21 December 2010] [00:05:16] &lt;xpromache1&gt;    you execute some small queries from time to time</div>
<div class="line">[Tuesday 21 December 2010] [00:05:27] &lt;xpromache1&gt;    but ocasionally you want to retrieve a lot of data</div>
<div class="line">[Tuesday 21 December 2010] [00:05:37] &lt;xpromache1&gt;    and I prefer not to have a request for each row</div>
<div class="line">[Tuesday 21 December 2010] [00:07:36] &lt;cremes&gt;        then you would probably use the pattern i suggested above; REQ/REP for the query, PUB/SUB for the data transmission</div>
<div class="line">[Tuesday 21 December 2010] [00:08:04] &lt;cremes&gt;        but if thisis over tcp,then the reqp/rep would get its own port as would the pub/sub</div>
<div class="line">[Tuesday 21 December 2010] [00:08:14] &lt;cremes&gt;        they cannot share the same port simultaneously</div>
<div class="line">[Tuesday 21 December 2010] [00:08:41] &lt;xpromache1&gt;    so if I have 10 clients connected simultaneously, how many ports do I need?</div>
<div class="line">[Tuesday 21 December 2010] [00:09:14] &lt;cremes&gt;        2, one for the req/rep and 1 for the pub/sub</div>
<div class="line">[Tuesday 21 December 2010] [00:10:02] &lt;xpromache1&gt;    but then all the clients will get all the data even from the requests of the other clients?</div>
<div class="line">[Tuesday 21 December 2010] [00:10:34] &lt;cremes&gt;        they could ignore it if the published topic is not something they are interested in; altnerately, use the XREQ/XREP socket types</div>
<div class="line">[Tuesday 21 December 2010] [00:10:38] &lt;cremes&gt;        have you read the guide yet?</div>
<div class="line">[Tuesday 21 December 2010] [00:11:22] &lt;xpromache1&gt;    I did partly but this is not clear to me</div>
<div class="line">[Tuesday 21 December 2010] [00:11:32] &lt;xpromache1&gt;    exactly what you can multiplex on a server socket</div>
<div class="line">[Tuesday 21 December 2010] [00:12:22] &lt;cremes&gt;        i may not be able to clarify it completely for you :)</div>
<div class="line">[Tuesday 21 December 2010] [00:12:51] &lt;cremes&gt;        a 0mq socket is a smart socket; it can connect/bind to multiple endpoints simultaneously</div>
<div class="line">[Tuesday 21 December 2010] [00:13:13] &lt;cremes&gt;        so in your situation the server would likely bind a REP or XREP socket</div>
<div class="line">[Tuesday 21 December 2010] [00:13:36] &lt;xpromache1&gt;    yes, that&#8217;s clear for the response reply pattern</div>
<div class="line">[Tuesday 21 December 2010] [00:13:38] &lt;cremes&gt;        the clients would come in with REQ (or XREQ) sockets via  &#8220;connect&#8221; call; 0mq handles the multiplexing for you</div>
<div class="line">[Tuesday 21 December 2010] [00:13:48] &lt;xpromache1&gt;    what is not clear is for the data transfer</div>
<div class="line">[Tuesday 21 December 2010] [00:14:07] &lt;cremes&gt;        well, i suggested pub/sub but maybe that&#8217;s not appropriate</div>
<div class="line">[Tuesday 21 December 2010] [00:14:16] &lt;xpromache1&gt;    so a client connects and sends a request for the data</div>
<div class="line">[Tuesday 21 December 2010] [00:14:18] &lt;cremes&gt;        you could use the xreq/xrep sockets for the data transfer</div>
<div class="line">[Tuesday 21 December 2010] [00:14:27] &lt;cremes&gt;        go on</div>
<div class="line">[Tuesday 21 December 2010] [00:14:27] &lt;xpromache1&gt;    I can send a reply saying connect here to get the data</div>
<div class="line">[Tuesday 21 December 2010] [00:14:32] &lt;cremes&gt;        sure</div>
<div class="line">[Tuesday 21 December 2010] [00:14:41] &lt;xpromache1&gt;    but what does it mean here</div>
<div class="line">[Tuesday 21 December 2010] [00:15:08] &lt;cremes&gt;        &#8220;here&#8221; where? explain.</div>
<div class="line">[Tuesday 21 December 2010] [00:15:17] &lt;xpromache1&gt;    that&#8217;s my question</div>
<div class="line">[Tuesday 21 December 2010] [00:15:24] &lt;xpromache1&gt;    what do I answer to the client</div>
<div class="line">[Tuesday 21 December 2010] [00:15:30] &lt;xpromache1&gt;    where to connect to get its data</div>
<div class="line">[Tuesday 21 December 2010] [00:15:55] &lt;xpromache1&gt;    do I have to start a new thread, create a new socket on a random port, and start pushing data once a client is connected</div>
<div class="line">[Tuesday 21 December 2010] [00:16:05] &lt;xpromache1&gt;    or there is a smarter way</div>
<div class="line">[Tuesday 21 December 2010] [00:16:11] &lt;cremes&gt;        you could send in your reply something like: :transport =&gt; :tcp, :address =&gt; &#8216;10.10.4.48&#8217;, :port =&gt; 1800</div>
<div class="line">[Tuesday 21 December 2010] [00:16:30] &lt;cremes&gt;        then the client would know where to go for getting the data</div>
<div class="line">[Tuesday 21 December 2010] [00:16:49] &lt;cremes&gt;        you can&#8217;t do random ports without informing the client what it will be</div>
<div class="line">[Tuesday 21 December 2010] [00:17:02] &lt;xpromache1&gt;    yes, I realize that</div>
<div class="line">[Tuesday 21 December 2010] [00:17:13] &lt;xpromache1&gt;    I was hoping that it is somehow possible to do without random ports</div>
<div class="line">[Tuesday 21 December 2010] [00:17:13] &lt;cremes&gt;        you <em>could</em> use another thread or use the poll api to do it all within one</div>
<div class="line">[Tuesday 21 December 2010] [00:17:17] &lt;xpromache1&gt;    just one fixed port</div>
<div class="line">[Tuesday 21 December 2010] [00:17:37] &lt;xpromache1&gt;    like I have port x for request/reply</div>
<div class="line">[Tuesday 21 December 2010] [00:17:43] &lt;xpromache1&gt;    and port y for data transfer</div>
<div class="line">[Tuesday 21 December 2010] [00:17:52] &lt;cremes&gt;        sure, you could use 1 fixed port but you could run into issues if you have lots of concurrent requests/replies</div>
<div class="line">[Tuesday 21 December 2010] [00:18:36] &lt;cremes&gt;        you would probably want to use xreq/xrep sockets so your data transfer could target the right client</div>
<div class="line">[Tuesday 21 December 2010] [00:18:53] &lt;cremes&gt;        take a look at the &#8220;advanced routing&#8221; section of the guide; i&#8217;m pretty sure they wrote about that</div>
<div class="line">[Tuesday 21 December 2010] [00:19:15] &lt;xpromache1&gt;    but xreq/xrep needs one message in both ways</div>
<div class="line">[Tuesday 21 December 2010] [00:19:23] &lt;cremes&gt;        not true</div>
<div class="line">[Tuesday 21 December 2010] [00:19:24] &lt;xpromache1&gt;    I would need something like xpush xpull</div>
<div class="line">[Tuesday 21 December 2010] [00:19:31] &lt;cremes&gt;        not true</div>
<div class="line">[Tuesday 21 December 2010] [00:19:48] &lt;cremes&gt;        reqp/rep enforces a strict request/reply/request/reply pattern</div>
<div class="line">[Tuesday 21 December 2010] [00:19:59] &lt;cremes&gt;        the xreq/xrep sockets do <em>not</em> enforce that</div>
<div class="line">[Tuesday 21 December 2010] [00:20:32] &lt;cremes&gt;        so, using xreq/xrep, you could send a single request and get a multiple message reply</div>
<div class="line">[Tuesday 21 December 2010] [00:21:45] &lt;xpromache1&gt;    ok, I didn&#8217;t know that</div>
<div class="line">[Tuesday 21 December 2010] [00:22:08] &lt;xpromache1&gt;    I will look further into it, thanks for the hints</div>
<div class="line">[Tuesday 21 December 2010] [00:22:40] &lt;cremes&gt;        no prob...</div>
<div class="line">[Tuesday 21 December 2010] [00:22:43] &lt;cremes&gt;        time for bed!</div>
<div class="line">[Tuesday 21 December 2010] [00:26:11] &lt;xpromache1&gt;    me too, I have to go to work in 2 hours :(</div>
<div class="line">[Tuesday 21 December 2010] [01:15:25] &lt;bkad&gt;  anyone know how to get the zmq_server binary? cant find it in the installation instructions</div>
<div class="line">[Tuesday 21 December 2010] [01:22:04] &lt;guido_g&gt;       what server?</div>
<div class="line">[Tuesday 21 December 2010] [01:23:23] &lt;bkad&gt;  zmq_server?</div>
<div class="line">[Tuesday 21 December 2010] [01:23:39] &lt;bkad&gt;  there&#8217;s lots of references to it in the zmq docs</div>
<div class="line">[Tuesday 21 December 2010] [01:24:10] &lt;bkad&gt;  but the ./configure, make, make install didn&#8217;t build that binary</div>
<div class="line">[Tuesday 21 December 2010] [01:24:58] &lt;guido_g&gt;       the docs are a bit outdated i fear</div>
<div class="line">[Tuesday 21 December 2010] [01:25:07] &lt;bkad&gt;  in <a class="reference external" href="http://www.zeromq.org/code:examples-exchange">http://www.zeromq.org/code:examples-exchange</a></div>
<div class="line">[Tuesday 21 December 2010] [01:25:12] &lt;bkad&gt;  under Running It</div>
<div class="line">[Tuesday 21 December 2010] [01:25:20] &lt;guido_g&gt;       there is a devices directory w/ some executables</div>
<div class="line">[Tuesday 21 December 2010] [01:25:27] &lt;guido_g&gt;       ouch</div>
<div class="line">[Tuesday 21 December 2010] [01:25:38] &lt;guido_g&gt;       this example is way outdated</div>
<div class="line">[Tuesday 21 December 2010] [01:25:46] &lt;sustrik&gt;       see the top of the page</div>
<div class="line">[Tuesday 21 December 2010] [01:25:48] &lt;sustrik&gt;       WARNING: This text is deprecated and refers to an old version of MQ. It remains here for historical interest. DO NOT USE THIS TO LEARN MQ.</div>
<div class="line">[Tuesday 21 December 2010] [01:25:56] &lt;guido_g&gt;       it&#8217;S even pre zeromq2 afair</div>
<div class="line">[Tuesday 21 December 2010] [01:26:03] &lt;bkad&gt;  ahhh, oops</div>
<div class="line">[Tuesday 21 December 2010] [03:34:47] &lt;sustrik&gt;       mikko: there&#8217;s a build patch on the mailing list</div>
<div class="line">[Tuesday 21 December 2010] [03:34:53] &lt;sustrik&gt;       can you give it a look?</div>
<div class="line">[Tuesday 21 December 2010] [03:35:20] &lt;sustrik&gt;       mato is on his way to new zealand for next few days</div>
<div class="line">[Tuesday 21 December 2010] [03:56:25] &lt;mikko&gt; sustrik: sure</div>
<div class="line">[Tuesday 21 December 2010] [03:56:37] &lt;mikko&gt; it looks like my flight is departing today</div>
<div class="line">[Tuesday 21 December 2010] [03:56:45] &lt;mikko&gt; causiously excited</div>
<div class="line">[Tuesday 21 December 2010] [03:57:52] &lt;sustrik&gt;       good luck :)</div>
<div class="line">[Tuesday 21 December 2010] [04:28:07] &lt;mikko&gt; reviewed</div>
<div class="line">[Tuesday 21 December 2010] [04:29:05] &lt;sustrik&gt;       thanks</div>
<div class="line">[Tuesday 21 December 2010] [04:56:53] &lt;mikko&gt; Steve-o: hi</div>
<div class="line">[Tuesday 21 December 2010] [04:57:03] &lt;mikko&gt; what does the scons build produce?</div>
<div class="line">[Tuesday 21 December 2010] [04:57:05] &lt;mikko&gt; Makefiles?</div>
<div class="line">[Tuesday 21 December 2010] [04:57:27] &lt;Steve-o&gt;       No it runs commands in Python directly</div>
<div class="line">[Tuesday 21 December 2010] [04:58:00] &lt;Steve-o&gt;       CMake is the Make wrapper</div>
<div class="line">[Tuesday 21 December 2010] [04:58:48] &lt;mikko&gt; ok</div>
<div class="line">[Tuesday 21 December 2010] [04:58:56] &lt;Steve-o&gt;       you are supposed to be able to see the commands by &#8220;scons -Q&#8221; but I haven&#8217;t seen that working on my Scons files in a long time</div>
<div class="line">[Tuesday 21 December 2010] [04:59:00] &lt;mikko&gt; would&#8217;ve been nice if it produced something that could be directly used</div>
<div class="line">[Tuesday 21 December 2010] [04:59:29] &lt;Steve-o&gt;       well, all the other build systems kinda suck though :P</div>
<div class="line">[Tuesday 21 December 2010] [05:00:20] &lt;Steve-o&gt;       Although I think I had to patch Scons again for Intel C on Linux, urgh</div>
<div class="line">[Tuesday 21 December 2010] [05:00:50] &lt;Steve-o&gt;       CMake just doesn&#8217;t support anything interesting</div>
<div class="line">[Tuesday 21 December 2010] [05:02:26] &lt;mikko&gt; interesting development, my airline sends twitter DMs to inform about flights</div>
<div class="line">[Tuesday 21 December 2010] [05:04:06] &lt;Steve-o&gt;       Cathay likes to send emails after the flight has left</div>
<div class="line">[Tuesday 21 December 2010] [05:04:10] &lt;mikko&gt; im wondering if we should split OS specific builds to separate automake files in zmq</div>
<div class="line">[Tuesday 21 December 2010] [05:04:24] &lt;mikko&gt; it might be more maintainable than conditionals in one file</div>
<div class="line">[Tuesday 21 December 2010] [05:04:54] &lt;Steve-o&gt;       Makes patching a bit cleaner</div>
<div class="line">[Tuesday 21 December 2010] [05:06:37] &lt;Steve-o&gt;       unless you want to write several new autoconf rules</div>
<div class="line">[Tuesday 21 December 2010] [05:06:37] &lt;mikko&gt; yeah</div>
<div class="line">[Tuesday 21 December 2010] [05:08:41] &lt;Steve-o&gt;       only ~24 tests required :P</div>
<div class="line">[Tuesday 21 December 2010] [05:09:17] &lt;Steve-o&gt;       many should already have autoconf macros available</div>
<div class="line">[Tuesday 21 December 2010] [05:11:08] &lt;mikko&gt; it feels like duplicating work</div>
<div class="line">[Tuesday 21 December 2010] [05:11:10] &lt;mikko&gt; hmm</div>
<div class="line">[Tuesday 21 December 2010] [05:11:28] &lt;mikko&gt; would be nicer to launch scons from zmq build</div>
<div class="line">[Tuesday 21 December 2010] [05:11:34] &lt;mikko&gt; and then just link</div>
<div class="line">[Tuesday 21 December 2010] [05:12:18] &lt;Steve-o&gt;       I&#8217;ve looked for a long time for building Debian packages</div>
<div class="line">[Tuesday 21 December 2010] [05:13:02] &lt;Steve-o&gt;       there isn&#8217;t much out there despite all the big packages using SCons (Blender, Quake 3, etc)</div>
<div class="line">[Tuesday 21 December 2010] [05:14:37] &lt;Steve-o&gt;       as in, for nice hooks for the deb-buildpackager</div>
<div class="line">[Tuesday 21 December 2010] [05:14:58] &lt;Steve-o&gt;       you can always build a basic scons command based off uname otherwise</div>
<div class="line">[Tuesday 21 December 2010] [05:15:11] &lt;mikko&gt; autoconf might be slightly dreadful but its fairly well supported</div>
<div class="line">[Tuesday 21 December 2010] [05:19:10] &lt;Steve-o&gt;       I don&#8217;t think you can easily get multiple build environments in autoconf/automake though</div>
<div class="line">[Tuesday 21 December 2010] [05:19:30] &lt;Steve-o&gt;       Scons is killing me on crap compiler dependencies for unit tests</div>
<div class="line">[Tuesday 21 December 2010] [05:29:32] &lt;Steve-o&gt;       autoconf is a bit too cumbersome for testing different compilers on one platform</div>
<div class="line">[Tuesday 21 December 2010] [05:29:56] &lt;Steve-o&gt;       I&#8217;m sure there has to be a better way :D/</div>
<div class="line">[Tuesday 21 December 2010] [05:30:54] &lt;mikko&gt; it is slightly cumbersome yes</div>
<div class="line">[Tuesday 21 December 2010] [09:15:45] &lt;ptrb&gt;  correct me if I&#8217;m wrong, but if I&#8217;m sitting in a blocking recv() on a socket in one thread, and I zmq_term() the context in another thread, the recv() should return (in C++, should throw) &#8211; right?</div>
<div class="line">[Tuesday 21 December 2010] [09:22:10] &lt;sustrik&gt;       ptrb: right</div>
<div class="line">[Tuesday 21 December 2010] [09:22:17] &lt;sustrik&gt;       ETERM</div>
<div class="line">[Tuesday 21 December 2010] [09:26:06] &lt;ptrb&gt;  hmm... the zmq_term() goes through OK, but I&#8217;m still blocking in the other thread... time for a minimal test case I guess :</div>
<div class="line">[Tuesday 21 December 2010] [09:28:41] &lt;sustrik&gt;       yes, please</div>
<div class="line">[Tuesday 21 December 2010] [10:48:50] &lt;mikko&gt; sustrik: zmq_term(ZMQ_NOBLOCK) would be useful</div>
<div class="line">[Tuesday 21 December 2010] [10:48:56] &lt;mikko&gt; or another function call</div>
<div class="line">[Tuesday 21 December 2010] [10:51:11] &lt;cremes&gt;        mikko: something similar has been discussed on the ML; sustrik says it isn&#8217;t possible</div>
<div class="line">[Tuesday 21 December 2010] [10:51:37] &lt;sustrik&gt;       you mean, instead setting all the sockets to ZMQ_LINGER=0</div>
<div class="line">[Tuesday 21 December 2010] [10:51:44] &lt;sustrik&gt;       right?</div>
<div class="line">[Tuesday 21 December 2010] [10:54:11] &lt;mikko&gt; sustrik: no</div>
<div class="line">[Tuesday 21 December 2010] [10:54:21] &lt;mikko&gt; sustrik: i mean instead of manually closing all sockets</div>
<div class="line">[Tuesday 21 December 2010] [10:54:36] &lt;mikko&gt; because currently it&#8217;s not possible to force closing of sockets</div>
<div class="line">[Tuesday 21 December 2010] [10:55:07] &lt;sustrik&gt;       hm, how would you migrate all the sockets to the thread calling zmq_term()?</div>
<div class="line">[Tuesday 21 December 2010] [10:55:48] &lt;mikko&gt; do they need to be migrated to obtain information whether zmq_term would block?</div>
<div class="line">[Tuesday 21 December 2010] [10:56:18] &lt;mikko&gt; i meant that zmq_term() would return EGAIN if given a flag</div>
<div class="line">[Tuesday 21 December 2010] [10:56:23] &lt;mikko&gt; EAGAIN*</div>
<div class="line">[Tuesday 21 December 2010] [10:56:29] &lt;sustrik&gt;       how would the main thread know that they are not used in the moment otherwise?</div>
<div class="line">[Tuesday 21 December 2010] [10:56:43] &lt;sustrik&gt;       at the moment*</div>
<div class="line">[Tuesday 21 December 2010] [10:57:31] &lt;sustrik&gt;       you cannot grab a socket from underneath the feer of another thread</div>
<div class="line">[Tuesday 21 December 2010] [10:58:54] &lt;mikko&gt; sockets is removed from sockets array in context when it&#8217;s closed?</div>
<div class="line">[Tuesday 21 December 2010] [10:59:21] &lt;sustrik&gt;       yes</div>
<div class="line">[Tuesday 21 December 2010] [10:59:23] &lt;mikko&gt; slightly laggy connection at the moment</div>
<div class="line">[Tuesday 21 December 2010] [10:59:36] &lt;mikko&gt; sockets.size() &gt; 0 would block, yes?</div>
<div class="line">[Tuesday 21 December 2010] [10:59:46] &lt;sustrik&gt;       yes</div>
<div class="line">[Tuesday 21 December 2010] [11:00:14] &lt;mikko&gt; sozmq_term_nb woudl return EAGAIN if sockets.size() &gt; 0</div>
<div class="line">[Tuesday 21 December 2010] [11:00:26] &lt;sustrik&gt;       aha</div>
<div class="line">[Tuesday 21 December 2010] [11:00:26] &lt;mikko&gt; no need to migrate anything (?)</div>
<div class="line">[Tuesday 21 December 2010] [11:00:48] &lt;sustrik&gt;       i though you want zmq_term to close the sockets</div>
<div class="line">[Tuesday 21 December 2010] [11:01:28] &lt;mikko&gt; im after info whether call to zmq_term will block</div>
<div class="line">[Tuesday 21 December 2010] [11:01:32] &lt;mikko&gt; not to close sockets</div>
<div class="line">[Tuesday 21 December 2010] [11:01:52] &lt;sustrik&gt;       yes, that should be doable</div>
<div class="line">[Tuesday 21 December 2010] [11:02:09] &lt;sustrik&gt;       if you have a look atc ctx.cpp</div>
<div class="line">[Tuesday 21 December 2010] [11:02:14] &lt;sustrik&gt;       ::terminate()</div>
<div class="line">[Tuesday 21 December 2010] [11:02:35] &lt;mikko&gt; around line 118?</div>
<div class="line">[Tuesday 21 December 2010] [11:02:53] &lt;sustrik&gt;       the function begins at 107</div>
<div class="line">[Tuesday 21 December 2010] [11:03:05] &lt;sustrik&gt;       you have 2 waits there</div>
<div class="line">[Tuesday 21 December 2010] [11:03:25] &lt;sustrik&gt;       line 130:</div>
<div class="line">[Tuesday 21 December 2010] [11:03:27] &lt;sustrik&gt;       no_sockets_sync.wait ();</div>
<div class="line">[Tuesday 21 December 2010] [11:03:39] &lt;sustrik&gt;       and line 152:</div>
<div class="line">[Tuesday 21 December 2010] [11:03:41] &lt;sustrik&gt;       usleep (1000);</div>
<div class="line">[Tuesday 21 December 2010] [11:04:03] &lt;sustrik&gt;       the first wait waits for all sockets being closed (zmq_close)</div>
<div class="line">[Tuesday 21 December 2010] [11:04:12] &lt;sustrik&gt;       the second one wait for all pending data to be sent</div>
<div class="line">[Tuesday 21 December 2010] [11:04:21] &lt;mikko&gt; ok</div>
<div class="line">[Tuesday 21 December 2010] [11:08:59] &lt;cremes&gt;        i like this EAGAIN idea for zmq_term()</div>
<div class="line">[Tuesday 21 December 2010] [11:27:36] &lt;Skaag&gt; Hello!</div>
<div class="line">[Tuesday 21 December 2010] [11:27:40] &lt;Skaag&gt; (again)</div>
<div class="line">[Tuesday 21 December 2010] [11:27:42] &lt;mikko&gt; i</div>
<div class="line">[Tuesday 21 December 2010] [11:27:43] &lt;mikko&gt; hi</div>
<div class="line">[Tuesday 21 December 2010] [11:27:47] &lt;Skaag&gt; hi mikko :)</div>
<div class="line">[Tuesday 21 December 2010] [11:28:41] &lt;Skaag&gt; we&#8217;re about to perform a POC for ZMQ, and if all goes well, convert a system to ZMQ that uses RabbitMQ at the moment.</div>
<div class="line">[Tuesday 21 December 2010] [11:29:12] &lt;Skaag&gt; but I wanted to ask, in general, about the theoretical potential of ZMQ to scale to thousands of servers...</div>
<div class="line">[Tuesday 21 December 2010] [11:29:43] &lt;mikko&gt; Skaag: can you describe your specific use-case?</div>
<div class="line">[Tuesday 21 December 2010] [11:29:48] &lt;mikko&gt; it would give some context</div>
<div class="line">[Tuesday 21 December 2010] [11:29:52] &lt;Skaag&gt; And also how practical it is to use the multicast functionality - does it require special network equipment? is it IP Multicast? Or is it just a name really, and the multicast is just synonimous for sending the message at once to many hosts?</div>
<div class="line">[Tuesday 21 December 2010] [11:29:57] &lt;Skaag&gt; sure!</div>
<div class="line">[Tuesday 21 December 2010] [11:30:07] &lt;Skaag&gt; I have at the moment only 16 nodes, distributed around the world</div>
<div class="line">[Tuesday 21 December 2010] [11:30:22] &lt;Skaag&gt; they send once per second a small block of data, statistical data about themselves</div>
<div class="line">[Tuesday 21 December 2010] [11:30:30] &lt;Skaag&gt; less than 512 bytes</div>
<div class="line">[Tuesday 21 December 2010] [11:31:07] &lt;Skaag&gt; so it&#8217;s &#8220;all to all&#8221;, and all of them need to collect this data, and produce historical graphs, etc.</div>
<div class="line">[Tuesday 21 December 2010] [11:31:23] &lt;Skaag&gt; so i&#8217;m asking myself what will happen when this scales, to 1000 nodes</div>
<div class="line">[Tuesday 21 December 2010] [11:32:45] &lt;mikko&gt; so every node needs to know about all others?</div>
<div class="line">[Tuesday 21 December 2010] [11:35:00] &lt;cremes&gt;        sounds like a perfect use-case for pub/sub with a forwarder device</div>
<div class="line">[Tuesday 21 December 2010] [11:35:38] &lt;cremes&gt;        Skaag: need more info; do you have particular latency requirements? how frequent is the data generated?</div>
<div class="line">[Tuesday 21 December 2010] [11:36:11] &lt;mikko&gt; yeah, if latency is not a problem you could batch updates</div>
<div class="line">[Tuesday 21 December 2010] [11:36:16] &lt;Skaag&gt; every 1 second, the nodes send to all other nodes a less than 512 byte data structure (json or binary, I don&#8217;t mind)</div>
<div class="line">[Tuesday 21 December 2010] [11:36:35] &lt;Skaag&gt; could also be every 5 seconds. still fine.</div>
<div class="line">[Tuesday 21 December 2010] [11:36:49] &lt;Skaag&gt; but while the cluster is small, it would be cool to have fast updates.</div>
<div class="line">[Tuesday 21 December 2010] [11:36:58] &lt;mikko&gt; sure</div>
<div class="line">[Tuesday 21 December 2010] [11:37:04] &lt;mikko&gt; you could have quick local updates</div>
<div class="line">[Tuesday 21 December 2010] [11:37:10] &lt;Skaag&gt; the latency between the nodes is a maximum of 100ms.</div>
<div class="line">[Tuesday 21 December 2010] [11:37:11] &lt;mikko&gt; and batch the packets to remote locations</div>
<div class="line">[Tuesday 21 December 2010] [11:37:22] &lt;Skaag&gt; there are at the moment 6 locations around the world</div>
<div class="line">[Tuesday 21 December 2010] [11:37:27] &lt;Skaag&gt; with a bunch of machines in each location</div>
<div class="line">[Tuesday 21 December 2010] [11:37:30] &lt;mikko&gt; update every second locally and send out every 5 seconds</div>
<div class="line">[Tuesday 21 December 2010] [11:37:48] &lt;mikko&gt; so every five seconds you would send five updates to remote locations</div>
<div class="line">[Tuesday 21 December 2010] [11:37:50] &lt;cremes&gt;        multicast/pgm transport won&#8217;t help you if this is over a public network (internet)</div>
<div class="line">[Tuesday 21 December 2010] [11:38:09] &lt;Skaag&gt; ok so I was right to assume it is IP Multicast...</div>
<div class="line">[Tuesday 21 December 2010] [11:38:19] &lt;Skaag&gt; and not some internal terminology</div>
<div class="line">[Tuesday 21 December 2010] [11:38:19] &lt;mikko&gt; i would probably look into something like zookeeper for service discovery</div>
<div class="line">[Tuesday 21 December 2010] [11:38:33] &lt;Skaag&gt; sounds interesting!</div>
<div class="line">[Tuesday 21 December 2010] [11:38:39] &lt;mikko&gt; create ephimeral nodes of available endpoints</div>
<div class="line">[Tuesday 21 December 2010] [11:38:58] &lt;mikko&gt; i used zookeeper ages ago for services discovery</div>
<div class="line">[Tuesday 21 December 2010] [11:39:18] &lt;mikko&gt; wrote a small daemon called &#8216;myservices&#8217; and each node on cluster had a configuration file of services it has</div>
<div class="line">[Tuesday 21 December 2010] [11:39:44] &lt;mikko&gt; so as long as node was up the ephimeral node existed in zookeeper</div>
<div class="line">[Tuesday 21 December 2010] [11:39:58] &lt;mikko&gt; when a node died the ephimeral node is automatically removed by zookeeper</div>
<div class="line">[Tuesday 21 December 2010] [11:40:08] &lt;mikko&gt; allows &#8216;automatic&#8217; graceful failure handling</div>
<div class="line">[Tuesday 21 December 2010] [11:40:53] &lt;Skaag&gt; that&#8217;s absolutely awesome</div>
<div class="line">[Tuesday 21 December 2010] [11:41:20] &lt;mikko&gt; sadly the project never went live so i cant really tell how well it would&#8217;ve worked in production</div>
<div class="line">[Tuesday 21 December 2010] [11:44:00] &lt;mikko&gt; im gonna go get some coffee</div>
<div class="line">[Tuesday 21 December 2010] [11:44:00] &lt;mikko&gt; bbl</div>
<div class="line">[Tuesday 21 December 2010] [11:45:21] &lt;ngerakines&gt;    is there a list of large companies that use zmq on the site?</div>
<div class="line">[Tuesday 21 December 2010] [11:52:10] &lt;Skaag&gt; mikko: Would love to take a look at your &#8216;myservices&#8217; code ;)</div>
<div class="line">[Tuesday 21 December 2010] [11:54:19] &lt;cremes&gt;        ngerakines: i don&#8217;t think so</div>
<div class="line">[Tuesday 21 December 2010] [11:54:26] &lt;ngerakines&gt;    cremes: ok, thanks</div>
<div class="line">[Tuesday 21 December 2010] [11:58:42] &lt;sustrik&gt;       Skaag: one thing to understand is that &#8220;all to all&#8221; model is inherently unscalable</div>
<div class="line">[Tuesday 21 December 2010] [11:59:12] &lt;Skaag&gt; I thought about creating &#8216;bubbles&#8217;</div>
<div class="line">[Tuesday 21 December 2010] [11:59:22] &lt;Skaag&gt; so machines in the same DC would update quickly, internally</div>
<div class="line">[Tuesday 21 December 2010] [11:59:30] &lt;sustrik&gt;       at some point the number of nodes would be so high, that amount of messages will overload any receiver</div>
<div class="line">[Tuesday 21 December 2010] [11:59:37] &lt;Skaag&gt; with less frequent updates being sent between such bubbles, aggregated</div>
<div class="line">[Tuesday 21 December 2010] [11:59:50] &lt;sustrik&gt;       yes, aggregation solves the problem</div>
<div class="line">[Tuesday 21 December 2010] [12:00:06] &lt;Skaag&gt; we should probably do that from the start</div>
<div class="line">[Tuesday 21 December 2010] [12:00:26] &lt;sustrik&gt;       depends on the requirements</div>
<div class="line">[Tuesday 21 December 2010] [12:00:35] &lt;sustrik&gt;       it the goal is to have 1000 nodes</div>
<div class="line">[Tuesday 21 December 2010] [12:00:44] &lt;sustrik&gt;       with 1 msg per 5 secs</div>
<div class="line">[Tuesday 21 December 2010] [12:00:53] &lt;sustrik&gt;       you probably don&#8217;t need it</div>
<div class="line">[Tuesday 21 December 2010] [12:13:49] &lt;Skaag&gt; yes that&#8217;s more or less the goal.</div>
<div class="line">[Tuesday 21 December 2010] [12:13:57] &lt;Skaag&gt; it will take some time to get there, too...</div>
<div class="line">[Tuesday 21 December 2010] [12:14:04] &lt;Skaag&gt; for now we have just 25 machines.</div>
<div class="line">[Tuesday 21 December 2010] [12:14:16] &lt;Skaag&gt; I expect in 6 month it will maybe grow to 150.</div>
<div class="line">[Tuesday 21 December 2010] [12:14:50] &lt;Skaag&gt; so there is time to ameliorate the system.</div>
<div class="line">[Tuesday 21 December 2010] [12:15:00] &lt;Skaag&gt; uh, to improve the system.</div>
<div class="line">[Tuesday 21 December 2010] [12:15:11] &lt;Skaag&gt; (I think maybe I used a french word?)</div>
<div class="line">[Tuesday 21 December 2010] [12:25:21] &lt;mikko&gt; Skaag: what is this system doing?</div>
<div class="line">[Tuesday 21 December 2010] [12:25:32] &lt;mikko&gt; what kinda of data are you pushing through?</div>
<div class="line">[Tuesday 21 December 2010] [12:25:37] &lt;mikko&gt; just out of interest</div>
<div class="line">[Tuesday 21 December 2010] [12:28:12] &lt;Skaag&gt; I can tell you exactly..!</div>
<div class="line">[Tuesday 21 December 2010] [12:28:18] &lt;Skaag&gt; it is a bunch of media streamers</div>
<div class="line">[Tuesday 21 December 2010] [12:28:35] &lt;Skaag&gt; the important information is cpu load, bandwidth usage, and number of connections</div>
<div class="line">[Tuesday 21 December 2010] [12:28:54] &lt;Skaag&gt; and in the future, cost per traffic (actual cost, in dollars)</div>
<div class="line">[Tuesday 21 December 2010] [12:29:11] &lt;Skaag&gt; or some combination of cost, and remaining quota</div>
<div class="line">[Tuesday 21 December 2010] [12:29:17] &lt;Skaag&gt; but that&#8217;s &#8220;phase 2&#8221; stuff :)</div>
<div class="line">[Tuesday 21 December 2010] [12:29:34] &lt;Skaag&gt; and this will be used to make smart decisions about where to send new traffic</div>
<div class="line">[Tuesday 21 December 2010] [12:29:58] &lt;Skaag&gt; and indirectly, will also be used to generate graphs for me and other admins, to view what&#8217;s going on in the network</div>
<div class="line">[Tuesday 21 December 2010] [12:31:37] &lt;mikko&gt; how do you do the routing on global level?</div>
<div class="line">[Tuesday 21 December 2010] [13:05:19] &lt;Skaag&gt; Level3 fibers, connect all the DC&#8217;s</div>
<div class="line">[Tuesday 21 December 2010] [13:06:43] &lt;Skaag&gt; you can see our map here: <a class="reference external" href="http://bams.iptp.net/cacti/plugins/weathermap/output/weathermap_7.png">http://bams.iptp.net/cacti/plugins/weathermap/output/weathermap_7.png</a></div>
<div class="line">[Tuesday 21 December 2010] [13:07:04] &lt;Skaag&gt; right now, I am near m9.msk.ru :-)</div>
<div class="line">[Tuesday 21 December 2010] [13:07:15] &lt;Skaag&gt; (physically speaking)</div>
<div class="line">[Tuesday 21 December 2010] [13:11:42] &lt;Skaag&gt; and this means that this year, I will celebrate xmas in moscow  o/  yey!</div>
<div class="line">[Wednesday 22 December 2010] [02:14:22] &lt;ytang&gt;       hi, anyone online?</div>
<div class="line">[Wednesday 22 December 2010] [02:33:39] &lt;sustrik&gt;     hi</div>
<div class="line">[Wednesday 22 December 2010] [02:38:47] &lt;Steve-o&gt;     good morning</div>
<div class="line">[Wednesday 22 December 2010] [03:05:04] &lt;mindful&gt;     anybody in</div>
<div class="line">[Wednesday 22 December 2010] [03:08:03] &lt;sustrik&gt;     yup</div>
<div class="line">[Wednesday 22 December 2010] [05:29:54] &lt;mikko&gt;       good morning</div>
<div class="line">[Wednesday 22 December 2010] [05:29:59] &lt;mikko&gt;       i made it</div>
<div class="line">[Wednesday 22 December 2010] [05:39:12] &lt;<a href="#id476"><span class="problematic" id="id477">Skaag_</span></a>&gt;      made what?</div>
<div class="line">[Wednesday 22 December 2010] [05:39:16] &lt;<a href="#id478"><span class="problematic" id="id479">Skaag_</span></a>&gt;      to work? :)</div>
<div class="line">[Wednesday 22 December 2010] [07:29:42] &lt;mikko&gt;       Skaag: made it home for christmas</div>
<div class="line">[Wednesday 22 December 2010] [07:29:52] &lt;mikko&gt;       Skaag: i was flying from london to finland</div>
<div class="line">[Wednesday 22 December 2010] [07:30:09] &lt;mikko&gt;       took five days</div>
<div class="line">[Wednesday 22 December 2010] [07:31:24] &lt;Skaag&gt;       wow!</div>
<div class="line">[Wednesday 22 December 2010] [07:31:27] &lt;Skaag&gt;       why 5 days?!</div>
<div class="line">[Wednesday 22 December 2010] [07:31:47] &lt;Skaag&gt;       I thought 5 days is with a ferry</div>
<div class="line">[Wednesday 22 December 2010] [07:31:55] &lt;Skaag&gt;       London to Stockholm, then Stockholm to Helsinki</div>
<div class="line">[Wednesday 22 December 2010] [07:32:18] &lt;Skaag&gt;       brb</div>
<div class="line">[Wednesday 22 December 2010] [07:34:20] &lt;mikko&gt;       Skaag: tons of canceled flights</div>
<div class="line">[Wednesday 22 December 2010] [07:34:50] &lt;mikko&gt;       i was supposed to fly last friday and finally managed to fly tuesday evening</div>
<div class="line">[Wednesday 22 December 2010] [07:35:17] &lt;Skaag&gt;       sounds like a nightmare</div>
<div class="line">[Wednesday 22 December 2010] [07:40:10] &lt;<a href="#id480"><span class="problematic" id="id481">Skaag_</span></a>&gt;      back.</div>
<div class="line">[Wednesday 22 December 2010] [07:40:23] &lt;Skaag&gt;       I really should bring my bouncer into freenode as well...</div>
<div class="line">[Wednesday 22 December 2010] [10:55:02] &lt;dos000&gt;      howdy</div>
<div class="line">[Wednesday 22 December 2010] [10:55:56] &lt;dos000&gt;      can someone tell me if concurrent lock free circular buffers are used in zmq ? i read something recently that was talking about the perf improvements</div>
<div class="line">[Wednesday 22 December 2010] [11:43:20] &lt;cremes&gt;      dos000: 0mq definitely uses lock-free algos; i don&#8217;t know if they protect a circular buffer though</div>
<div class="line">[Wednesday 22 December 2010] [11:43:34] &lt;cremes&gt;      the code answers all!</div>
<div class="line">[Wednesday 22 December 2010] [11:43:37] &lt;Skaag&gt;       lol</div>
<div class="line">[Wednesday 22 December 2010] [11:43:51] &lt;Skaag&gt;       <em>snicker</em> typical developer answer ;)</div>
<div class="line">[Wednesday 22 December 2010] [11:44:04] &lt;Skaag&gt;       what documentation? look at the comments in the code... ;)</div>
<div class="line">[Wednesday 22 December 2010] [11:44:09] &lt;cremes&gt;      yep ;)</div>
<div class="line">[Wednesday 22 December 2010] [11:45:18] &lt;cremes&gt;      docs usually don&#8217;t cover those kinds of implementation details anyway</div>
<div class="line">[Wednesday 22 December 2010] [11:45:40] &lt;cremes&gt;      they are intended to remain hidden under the covers; anyone using the api shouldn&#8217;t care what the algo is</div>
<div class="line">[Wednesday 22 December 2010] [11:46:12] &lt;cremes&gt;      since dos000 was asking specifically about it, the only way to get the real answer is to 1) ask sustrik</div>
<div class="line">[Wednesday 22 December 2010] [11:46:16] &lt;cremes&gt;      or 2) check the source</div>
<div class="line">[Wednesday 22 December 2010] [11:46:44] &lt;dos000&gt;      ah!</div>
<div class="line">[Wednesday 22 December 2010] [11:48:19] &lt;dos000&gt;      i was also looking for some experience in other libs offering lock-free circular buffers</div>
<div class="line">[Wednesday 22 December 2010] [11:48:32] &lt;dos000&gt;      this stuff seems like black magic</div>
<div class="line">[Wednesday 22 December 2010] [11:48:55] &lt;cremes&gt;      yes, very dark :)</div>
<div class="line">[Wednesday 22 December 2010] [11:49:05] &lt;dos000&gt;      no one is doing it or talking about their implementation</div>
<div class="line">[Wednesday 22 December 2010] [11:49:25] &lt;dos000&gt;      and no central de facto to go fo this .. evryone rolls their own</div>
<div class="line">[Wednesday 22 December 2010] [11:49:33] &lt;cremes&gt;      true</div>
<div class="line">[Wednesday 22 December 2010] [11:49:53] &lt;cremes&gt;      the main idea behind lock-free is to leverage a platform&#8217;s atomic compare-and-swap operation</div>
<div class="line">[Wednesday 22 December 2010] [11:50:12] &lt;cremes&gt;      if your hw supports that, a lock-free impl is fairly &#8220;easy&#8221; to create</div>
<div class="line">[Wednesday 22 December 2010] [11:50:17] &lt;dos000&gt;      yes .. and i am hoping (please) support it</div>
<div class="line">[Wednesday 22 December 2010] [11:50:31] &lt;cremes&gt;      the hard part then becomes dealing with cache coherency and its perf implications</div>
<div class="line">[Wednesday 22 December 2010] [11:50:49] &lt;dos000&gt;      i am hoping 0mq has it for sparc and x86 and/or x86_64</div>
<div class="line">[Wednesday 22 December 2010] [11:51:08] &lt;cremes&gt;      it definitely has it for x86 and x86_64; not sure on sparc</div>
<div class="line">[Wednesday 22 December 2010] [11:51:45] &lt;dos000&gt;      cremes: zmq does not deal with threads correct ? i was thinking a way of &#8220;forcing&#8221; a thread to run on a particular core</div>
<div class="line">[Wednesday 22 December 2010] [11:52:19] &lt;cremes&gt;      dos000: not correct; you can force cpu affinity for sockets</div>
<div class="line">[Wednesday 22 December 2010] [11:52:28] &lt;cremes&gt;      check the setsockopt docs on the web site</div>
<div class="line">[Wednesday 22 December 2010] [11:52:38] &lt;dos000&gt;      ok</div>
<div class="line">[Wednesday 22 December 2010] [11:52:40] &lt;cremes&gt;      (i haven&#8217;t used it myself otherwise i&#8217;d be more helpful...)</div>
<div class="line">[Wednesday 22 December 2010] [11:52:56] &lt;dos000&gt;      here is the (interesting) talk <a class="reference external" href="http://www.infoq.com/presentations/LMAX">http://www.infoq.com/presentations/LMAX</a></div>
<div class="line">[Wednesday 22 December 2010] [11:53:15] &lt;cremes&gt;      ah, i just saw that this morning! it&#8217;s in my queue to watch a bit later</div>
<div class="line">[Wednesday 22 December 2010] [11:53:30] &lt;dos000&gt;      ah!</div>
<div class="line">[Wednesday 22 December 2010] [11:53:31] &lt;cremes&gt;      i do trading stuff but i&#8217;m not in the super high-freq space</div>
<div class="line">[Wednesday 22 December 2010] [11:54:35] &lt;dos000&gt;      they mention someway of sending a packet straight to user space bypassing (virtually) the kernel ... but they dont explain how or which os supports it</div>
<div class="line">[Wednesday 22 December 2010] [11:55:09] &lt;dos000&gt;      very interestng talk indeed</div>
<div class="line">[Wednesday 22 December 2010] [11:55:52] &lt;dos000&gt;      cremes, which blog/sites do you follow for this types of talks ?</div>
<div class="line">[Wednesday 22 December 2010] [11:56:08] &lt;dos000&gt;      how did you stumble on the LMAX presentation ?</div>
<div class="line">[Wednesday 22 December 2010] [11:56:26] &lt;cremes&gt;      i subscribe to reddit rss feeds as well as the infoq rss stuff</div>
<div class="line">[Wednesday 22 December 2010] [11:58:10] &lt;dos000&gt;      the solution they propose starts from 36:00 if you want to skip through .. a picture is worth a thousand words</div>
<div class="line">[Wednesday 22 December 2010] [11:58:28] &lt;cremes&gt;      cool, thanks for the heads up</div>
<div class="line">[Wednesday 22 December 2010] [11:58:37] &lt;cremes&gt;      are you involved with trading systems or similar?</div>
<div class="line">[Wednesday 22 December 2010] [11:58:55] &lt;dos000&gt;      yes very similar .. payment systems</div>
<div class="line">[Wednesday 22 December 2010] [11:59:53] &lt;Skaag&gt;       dos000: don&#8217;t the boost libraries do this type of locking?</div>
<div class="line">[Wednesday 22 December 2010] [12:00:54] &lt;dos000&gt;      i asked already in #C++ it might be only circular buffers .. not lock free implementations</div>
<div class="line">[Wednesday 22 December 2010] [12:01:40] &lt;Skaag&gt;       weren&#8217;t all such kernel modules that broke the core -&gt; user space membrane been kicked from the kernel project by Linus?</div>
<div class="line">[Wednesday 22 December 2010] [12:02:03] &lt;dos000&gt;      no idea!</div>
<div class="line">[Wednesday 22 December 2010] [12:02:10] &lt;Skaag&gt;       they are doing this without a custom kernel module?</div>
<div class="line">[Wednesday 22 December 2010] [12:02:25] &lt;dos000&gt;      not sure how .. its just a blimp in the video</div>
<div class="line">[Wednesday 22 December 2010] [12:40:07] &lt;dos000&gt;      ok ... now i found this <a class="reference external" href="http://www.puppetmastertrading.com/blog/2010/02/16/lock-free/">http://www.puppetmastertrading.com/blog/2010/02/16/lock-free/</a></div>
<div class="line">[Wednesday 22 December 2010] [12:52:10] &lt;mikko&gt;       dos000: <a class="reference external" href="http://www.zeromq.org/blog:multithreading-magic">http://www.zeromq.org/blog:multithreading-magic</a></div>
<div class="line">[Wednesday 22 December 2010] [12:52:15] &lt;mikko&gt;       this might be interesting read as well</div>
<div class="line">[Wednesday 22 December 2010] [12:52:20] &lt;mikko&gt;       not directly related</div>
<div class="line">[Wednesday 22 December 2010] [12:58:59] &lt;dos000&gt;      fastflow seems to be up there with 0mq .. lots of similarities</div>
<div class="line">[Wednesday 22 December 2010] [13:03:57] &lt;cremes&gt;      dos000: they diss ruby in that blog so now i need to go on a rant! ;)</div>
<div class="line">[Wednesday 22 December 2010] [13:08:18] &lt;Skaag&gt;       lol!!!</div>
<div class="line">[Wednesday 22 December 2010] [13:08:37] &lt;dos000&gt;      lol</div>
<div class="line">[Wednesday 22 December 2010] [15:11:03] &lt;Skaag&gt;       the developer I work with tells me he managed to publish and consume a message on a topic with rabbitmq, but it&#8217;s still unclear to him how to cluster the thing ;)</div>
<div class="line">[Wednesday 22 December 2010] [16:41:57] &lt;mikko&gt;       Skaag: you can publish and consume a message with zeromq within minutes</div>
<div class="line">[Wednesday 22 December 2010] [16:41:58] &lt;mikko&gt;       :)</div>
<div class="line">[Wednesday 22 December 2010] [16:42:06] &lt;Skaag&gt;       I know</div>
<div class="line">[Wednesday 22 December 2010] [16:42:33] &lt;Skaag&gt;       anyway, what I am thinking to answer him, is that Zookeeper will be in charge of managing a list of IP addresses of available hosts</div>
<div class="line">[Wednesday 22 December 2010] [16:42:50] &lt;Skaag&gt;       and he will just connect to all of them and subscribe</div>
<div class="line">[Wednesday 22 December 2010] [16:43:07] &lt;mikko&gt;       did you test zookeeper</div>
<div class="line">[Wednesday 22 December 2010] [16:43:09] &lt;mikko&gt;       ?</div>
<div class="line">[Wednesday 22 December 2010] [16:43:21] &lt;Skaag&gt;       not yet</div>
<div class="line">[Wednesday 22 December 2010] [16:43:25] &lt;Skaag&gt;       I&#8217;m installing it as we speak</div>
<div class="line">[Wednesday 22 December 2010] [16:44:07] &lt;mikko&gt;       the only annoyance i found was that zookeeper didnt have rhel packaging</div>
<div class="line">[Wednesday 22 December 2010] [16:44:12] &lt;mikko&gt;       i think i made spec-files back then</div>
<div class="line">[Wednesday 22 December 2010] [16:45:13] &lt;Skaag&gt;       well I am running on Ubuntu myself. I can&#8217;t stand rhel.</div>
<div class="line">[Wednesday 22 December 2010] [16:45:31] &lt;Skaag&gt;       I used to be very redhat oriented</div>
<div class="line">[Wednesday 22 December 2010] [16:45:54] &lt;Skaag&gt;       but once I was exposed to debian, and then to ubuntu, I knew my destiny was sealed ;)</div>
<div class="line">[Wednesday 22 December 2010] [16:46:12] &lt;mikko&gt;       i use debian on my own stuff</div>
<div class="line">[Wednesday 22 December 2010] [16:46:16] &lt;Skaag&gt;       I know it may sound stupid, and rhel is considered a kind of &#8216;standard&#8217;.</div>
<div class="line">[Wednesday 22 December 2010] [16:46:23] &lt;mikko&gt;       but many companies i work with prefer rhel</div>
<div class="line">[Wednesday 22 December 2010] [16:46:52] &lt;dos000&gt;      i hate rhel .. anything non debian (based) for that matter</div>
<div class="line">[Wednesday 22 December 2010] [16:47:13] &lt;dos000&gt;      apt-get is sweet</div>
<div class="line">[Wednesday 22 December 2010] [16:47:14] &lt;mikko&gt;       rhel packaging is far more pleasant to make imho</div>
<div class="line">[Wednesday 22 December 2010] [16:47:20] &lt;mikko&gt;       compared to debs</div>
<div class="line">[Wednesday 22 December 2010] [16:47:31] &lt;Skaag&gt;       i disagree</div>
<div class="line">[Wednesday 22 December 2010] [16:47:33] &lt;dos000&gt;      to use however isa different thing</div>
<div class="line">[Wednesday 22 December 2010] [16:47:37] &lt;Skaag&gt;       I make a deb in 3 minutes.</div>
<div class="line">[Wednesday 22 December 2010] [16:47:47] &lt;Skaag&gt;       less...</div>
<div class="line">[Wednesday 22 December 2010] [16:48:05] &lt;Skaag&gt;       well I have a ready skeleton, from the first 5 minutes I spent trying to make a deb</div>
<div class="line">[Wednesday 22 December 2010] [16:48:17] &lt;dos000&gt;      there are some utilities that will create the pkgs for you .. based on make &amp;&amp; make installl</div>
<div class="line">[Wednesday 22 December 2010] [16:48:31] &lt;Skaag&gt;       so now to make a deb is a matter of copying the files to the right places, specifying dependencies, and perhaps adding some install / uninstall scripts...</div>
<div class="line">[Wednesday 22 December 2010] [16:48:53] &lt;Skaag&gt;       not to mention how easy it is to create a repository</div>
<div class="line">[Wednesday 22 December 2010] [16:49:12] &lt;mikko&gt;       Skaag: it&#8217;s easy for yum as well</div>
<div class="line">[Wednesday 22 December 2010] [16:49:18] &lt;mikko&gt;       createrepo /path/to</div>
<div class="line">[Wednesday 22 December 2010] [16:49:45] &lt;dos000&gt;      i did not find companies that do support for debian so far</div>
<div class="line">[Wednesday 22 December 2010] [16:50:04] &lt;dos000&gt;      something that passes the CEO test</div>
<div class="line">[Wednesday 22 December 2010] [16:51:13] &lt;Skaag&gt;       the CEO test is different in every company...</div>
<div class="line">[Wednesday 22 December 2010] [16:51:16] &lt;Skaag&gt;       in some, the money talks</div>
<div class="line">[Wednesday 22 December 2010] [16:51:29] &lt;Skaag&gt;       in some others, it&#8217;s how large the support company is</div>
<div class="line">[Wednesday 22 December 2010] [16:51:38] &lt;Skaag&gt;       and in some, it&#8217;s how technically knowledgable :-)</div>
<div class="line">[Wednesday 22 December 2010] [16:51:41] &lt;dos000&gt;      in some companies the CEO (and evryone around him) is dumb !</div>
<div class="line">[Wednesday 22 December 2010] [16:51:52] &lt;dos000&gt;      thats the problem</div>
<div class="line">[Wednesday 22 December 2010] [16:51:55] &lt;Skaag&gt;       and here in Russia! It&#8217;s about how much money you slip into the CEO&#8217;s pocket, behind the back of the board of directors...! ;-)</div>
<div class="line">[Wednesday 22 December 2010] [16:52:07] &lt;dos000&gt;      heh!</div>
<div class="line">[Wednesday 22 December 2010] [16:53:06] &lt;mikko&gt;       im not far from russia atm</div>
<div class="line">[Wednesday 22 December 2010] [16:53:13] &lt;mikko&gt;       a few hundred km if even that</div>
<div class="line">[Wednesday 22 December 2010] [16:54:01] &lt;mikko&gt;       Skaag: <a class="reference external" href="https://github.com/mkoppanen/myservices">https://github.com/mkoppanen/myservices</a></div>
<div class="line">[Wednesday 22 December 2010] [16:54:15] &lt;mikko&gt;       it&#8217;s not very well tested but should give some ideas for zk integration</div>
<div class="line">[Wednesday 22 December 2010] [16:54:21] &lt;Skaag&gt;       mikko: I read your page already ;)</div>
<div class="line">[Wednesday 22 December 2010] [16:54:52] &lt;Skaag&gt;       ah, that&#8217;s another page</div>
<div class="line">[Wednesday 22 December 2010] [16:54:54] &lt;Skaag&gt;       sorry</div>
<div class="line">[Wednesday 22 December 2010] [16:54:58] &lt;Skaag&gt;       Where in Finland are you?</div>
<div class="line">[Wednesday 22 December 2010] [16:55:46] &lt;Skaag&gt;       I took the bus from Helsinki to St. Petersburg, just 6 month ago :-)</div>
<div class="line">[Wednesday 22 December 2010] [16:55:54] &lt;Skaag&gt;       17 euros and I was in Russia!</div>
<div class="line">[Wednesday 22 December 2010] [16:56:03] &lt;mikko&gt;       they got a new fast train as well</div>
<div class="line">[Wednesday 22 December 2010] [16:56:12] &lt;mikko&gt;       three hours to st petersburg from helsinki</div>
<div class="line">[Wednesday 22 December 2010] [16:56:27] &lt;Skaag&gt;       amazing</div>
<div class="line">[Wednesday 22 December 2010] [16:56:31] &lt;dos000&gt;      lets say i had 3 packets coming from 3 different sources ... and all packets are sequentially numbered.</div>
<div class="line">[Wednesday 22 December 2010] [16:56:38] &lt;Skaag&gt;       but I doubt in such a weather condition?</div>
<div class="line">[Wednesday 22 December 2010] [16:57:01] &lt;dos000&gt;      what would you do to wait for three packets with the same seq numbers ?</div>
<div class="line">[Wednesday 22 December 2010] [16:57:06] &lt;mikko&gt;       Skaag: even in such conditions</div>
<div class="line">[Wednesday 22 December 2010] [16:57:11] &lt;Skaag&gt;       amazing!</div>
<div class="line">[Wednesday 22 December 2010] [16:57:12] &lt;mikko&gt;       things dont stop in .fi even when its cold</div>
<div class="line">[Wednesday 22 December 2010] [16:57:20] &lt;Skaag&gt;       I know</div>
<div class="line">[Wednesday 22 December 2010] [16:57:25] &lt;Skaag&gt;       but on the russian side...?</div>
<div class="line">[Wednesday 22 December 2010] [16:57:26] &lt;Skaag&gt;       :-)</div>
<div class="line">[Wednesday 22 December 2010] [16:57:35] &lt;Skaag&gt;       I lived in Helsinki for 5 month</div>
<div class="line">[Wednesday 22 December 2010] [16:57:45] &lt;Skaag&gt;       I absolutely love Finland</div>
<div class="line">[Wednesday 22 December 2010] [16:57:52] &lt;Skaag&gt;       awesome country.</div>
<div class="line">[Wednesday 22 December 2010] [16:57:58] &lt;Skaag&gt;       I loved it since childhood.</div>
<div class="line">[Wednesday 22 December 2010] [16:58:10] &lt;Skaag&gt;       and recently, after living there, I understood why.</div>
<div class="line">[Wednesday 22 December 2010] [16:58:56] &lt;mikko&gt;       i dislike the winter. thats why i moved to london</div>
<div class="line">[Wednesday 22 December 2010] [16:59:19] &lt;Skaag&gt;       maybe because you grew up with it.</div>
<div class="line">[Wednesday 22 December 2010] [16:59:50] &lt;Skaag&gt;       this is my second REAL winter here in Moscow, first time in Helsinki, where it was almost constantly under -10c</div>
<div class="line">[Wednesday 22 December 2010] [16:59:58] &lt;Skaag&gt;       and I don&#8217;t mind it much.</div>
<div class="line">[Wednesday 22 December 2010] [17:01:07] &lt;mikko&gt;       im in middle .fi now</div>
<div class="line">[Wednesday 22 December 2010] [17:01:14] &lt;mikko&gt;       -30 outside</div>
<div class="line">[Wednesday 22 December 2010] [17:02:31] &lt;mikko&gt;       does your company operate in russia?</div>
<div class="line">[Wednesday 22 December 2010] [17:03:00] &lt;Skaag&gt;       yes</div>
<div class="line">[Wednesday 22 December 2010] [17:03:03] &lt;Skaag&gt;       among other places</div>
<div class="line">[Wednesday 22 December 2010] [17:03:27] &lt;Skaag&gt;       middle = near Sodankyl?</div>
<div class="line">[Wednesday 22 December 2010] [17:03:52] &lt;mikko&gt;       thats the northest place in finland</div>
<div class="line">[Wednesday 22 December 2010] [17:04:04] &lt;mikko&gt;       close to the sea up north</div>
<div class="line">[Wednesday 22 December 2010] [17:04:52] &lt;mikko&gt;       pretty close to Jyvskyl</div>
<div class="line">[Wednesday 22 December 2010] [17:05:03] &lt;Skaag&gt;       cool</div>
<div class="line">[Wednesday 22 December 2010] [17:05:41] &lt;Skaag&gt;       I have a good friend in Mikkeli</div>
<div class="line">[Wednesday 22 December 2010] [17:07:10] &lt;Skaag&gt;       I actually passed through Jyvskyl one time</div>
<div class="line">[Wednesday 22 December 2010] [17:09:44] &lt;Skaag&gt;       they just prepared Olutglgi</div>
<div class="line">[Wednesday 22 December 2010] [17:09:54] &lt;Skaag&gt;       <a class="reference external" href="http://mika.letonsaari.net/foobar/olutglgi/14.jpg">http://mika.letonsaari.net/foobar/olutglgi/14.jpg</a></div>
<div class="line">[Wednesday 22 December 2010] [17:10:11] &lt;Skaag&gt;       some part of me is glad I can not taste it.</div>
<div class="line">[Wednesday 22 December 2010] [17:11:31] &lt;mikko&gt;       warm beer and spices?</div>
<div class="line">[Wednesday 22 December 2010] [17:11:57] &lt;Skaag&gt;       actually it looks interesting</div>
<div class="line">[Wednesday 22 December 2010] [17:13:15] &lt;Skaag&gt;       yes</div>
<div class="line">[Wednesday 22 December 2010] [17:59:27] &lt;ryandmonk&gt;   hello... curious if someone can help me out with at pyzmq issue</div>
<div class="line">[Wednesday 22 December 2010] [17:59:52] &lt;ryandmonk&gt;   i followed the instructions on site</div>
<div class="line">[Wednesday 22 December 2010] [17:59:56] &lt;ryandmonk&gt;   and ran python setup.py install</div>
<div class="line">[Wednesday 22 December 2010] [18:00:32] &lt;ryandmonk&gt;   its spits out some stuff.. but eventually gives an error saying &#8220;zmq/core/constants.c:1: error: #error Do not use this file, it is the result of a failed Cython compilation.&#8221;</div>
<div class="line">[Wednesday 22 December 2010] [18:01:29] &lt;ryandmonk&gt;   im on ubuntu 10.10.. using zeromq-2.0.10</div>
<div class="line">[Wednesday 22 December 2010] [18:10:56] &lt;cremes&gt;      ryandmonk: try searching the ML archives; i have seen discussions on python binding problems there before</div>
<div class="line">[Wednesday 22 December 2010] [18:11:03] &lt;cremes&gt;      perhaps the solution is buried in the archives</div>
<div class="line">[Wednesday 22 December 2010] [18:12:44] &lt;ryandmonk&gt;   where are these archives?</div>
<div class="line">[Wednesday 22 December 2010] [18:13:15] &lt;Skaag&gt;       cool - I have a working 16 node zookeeper cluster :)</div>
<div class="line">[Wednesday 22 December 2010] [18:18:57] &lt;ryandmonk&gt;   found em.. thanks cremes!</div>
<div class="line">[Wednesday 22 December 2010] [20:26:13] &lt;dos000&gt;      how does the network/tcp driver deliver packets for the same flow when a new packet arrives ? does it look up a hash tree to find the correct app listening on that socket ?</div>
<div class="line">[Wednesday 22 December 2010] [20:26:36] &lt;dos000&gt;      i have to do kinda same thing ... and zmq does also</div>
<div class="line">[Wednesday 22 December 2010] [20:47:01] &lt;Steve-o&gt;     morning all</div>
<div class="line">[Wednesday 22 December 2010] [21:15:03] &lt;Skaag&gt;       morning Steve-o</div>
<div class="line">[Wednesday 22 December 2010] [23:45:20] &lt;NoobFukaire&gt; I&#8217;m trying to test out the hello world stuff for C++ and zeromq</div>
<div class="line">[Wednesday 22 December 2010] [23:45:37] &lt;NoobFukaire&gt; the server binds and I can see it&#8217;s there with netstat (and I can telnet into it)</div>
<div class="line">[Wednesday 22 December 2010] [23:45:46] &lt;NoobFukaire&gt; but when I connect with the client, I get Assertion failed: fetched (rep.cpp:232)</div>
<div class="line">[Wednesday 22 December 2010] [23:46:26] &lt;NoobFukaire&gt; which is:</div>
<div class="line">[Wednesday 22 December 2010] [23:46:27] &lt;NoobFukaire&gt;             //  Get next part of the message.</div>
<div class="line">[Wednesday 22 December 2010] [23:46:28] &lt;NoobFukaire&gt;             bool fetched = in_pipes [current]-&gt;read (<a href="#id482"><span class="problematic" id="id483">msg_</span></a>);</div>
<div class="line">[Wednesday 22 December 2010] [23:46:28] &lt;NoobFukaire&gt;             zmq_assert (fetched);</div>
<div class="line">[Wednesday 22 December 2010] [23:46:43] &lt;NoobFukaire&gt; I&#8217;m not sure whats up with this lib?</div>
<div class="line">[Wednesday 22 December 2010] [23:49:55] &lt;NoobFukaire&gt; <a class="reference external" href="http://pastebin.com/piwK7gxL">http://pastebin.com/piwK7gxL</a></div>
<div class="line">[Wednesday 22 December 2010] [23:49:59] &lt;NoobFukaire&gt; the stack trace</div>
<div class="line">[Wednesday 22 December 2010] [23:54:06] &lt;NoobFukaire&gt; <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C++/hwserver.cpp">https://github.com/imatix/zguide/blob/master/examples/C++/hwserver.cpp</a></div>
<div class="line">[Wednesday 22 December 2010] [23:54:11] &lt;NoobFukaire&gt; <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C++/hwclient.cpp">https://github.com/imatix/zguide/blob/master/examples/C++/hwclient.cpp</a></div>
<div class="line">[Wednesday 22 December 2010] [23:54:13] &lt;NoobFukaire&gt; that&#8217;s the code</div>
<div class="line">[Thursday 23 December 2010] [00:07:48] &lt;NoobFukaire&gt;  okay nm, it had to do with some of my build paths</div>
<div class="line">[Thursday 23 December 2010] [01:55:03] &lt;andrewvc&gt;     cremes: you around?</div>
<div class="line">[Thursday 23 December 2010] [02:59:33] &lt;sustrik&gt;      hi mikko!</div>
<div class="line">[Thursday 23 December 2010] [03:16:20] &lt;mikko&gt;        sustrik: hi</div>
<div class="line">[Thursday 23 December 2010] [03:16:27] &lt;sustrik&gt;      morning</div>
<div class="line">[Thursday 23 December 2010] [03:16:41] &lt;sustrik&gt;      there&#8217;s a build patch from steve in the ML</div>
<div class="line">[Thursday 23 December 2010] [03:16:51] &lt;sustrik&gt;      can i apply it?</div>
<div class="line">[Thursday 23 December 2010] [03:16:52] &lt;mikko&gt;        steve-o?</div>
<div class="line">[Thursday 23 December 2010] [03:16:56] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 23 December 2010] [03:17:16] &lt;mikko&gt;        i&#8217;ll review today if thats ok</div>
<div class="line">[Thursday 23 December 2010] [03:17:23] &lt;sustrik&gt;      sure, no haste</div>
<div class="line">[Thursday 23 December 2010] [03:17:31] &lt;mikko&gt;        i would like to change the way we build openpgm</div>
<div class="line">[Thursday 23 December 2010] [03:17:44] &lt;sustrik&gt;      what&#8217;s the idea?</div>
<div class="line">[Thursday 23 December 2010] [03:17:48] &lt;mikko&gt;        it seems that we are duplicating a lot of work at the moment</div>
<div class="line">[Thursday 23 December 2010] [03:17:53] &lt;mikko&gt;        somehow that doesn&#8217;t feel right</div>
<div class="line">[Thursday 23 December 2010] [03:17:59] &lt;sustrik&gt;      yes, we are</div>
<div class="line">[Thursday 23 December 2010] [03:18:12] &lt;sustrik&gt;      the alternative was to use scons</div>
<div class="line">[Thursday 23 December 2010] [03:18:40] &lt;sustrik&gt;      which create additional dependencies</div>
<div class="line">[Thursday 23 December 2010] [03:18:50] &lt;sustrik&gt;      any better idea?</div>
<div class="line">[Thursday 23 December 2010] [03:19:02] &lt;mikko&gt;        i was thinking about two options:</div>
<div class="line">[Thursday 23 December 2010] [03:19:06] &lt;mikko&gt;        a) invoke scons</div>
<div class="line">[Thursday 23 December 2010] [03:19:14] &lt;mikko&gt;        b) isolate openpgm flags to their own files</div>
<div class="line">[Thursday 23 December 2010] [03:19:47] &lt;sustrik&gt;      a) IMO is just shifting work from 0mq maintainers to 0mq users</div>
<div class="line">[Thursday 23 December 2010] [03:19:52] &lt;mikko&gt;        i think that having large amount of conditionals in the Makefile.am isn&#8217;t maintainable in the long run. also makes patching harder</div>
<div class="line">[Thursday 23 December 2010] [03:20:19] &lt;sustrik&gt;      yes, agreed</div>
<div class="line">[Thursday 23 December 2010] [03:20:32] &lt;sustrik&gt;      would b) help with that?</div>
<div class="line">[Thursday 23 December 2010] [03:20:36] &lt;mikko&gt;        yes</div>
<div class="line">[Thursday 23 December 2010] [03:20:52] &lt;mikko&gt;        we would have something like foreign/Makefile.linux.am</div>
<div class="line">[Thursday 23 December 2010] [03:21:04] &lt;mikko&gt;        and include from configure.in based on OS/compiler</div>
<div class="line">[Thursday 23 December 2010] [03:21:14] &lt;sustrik&gt;      i see</div>
<div class="line">[Thursday 23 December 2010] [03:21:20] &lt;mikko&gt;        not sure if that works yet but ill try today</div>
<div class="line">[Thursday 23 December 2010] [03:21:26] &lt;sustrik&gt;      ok</div>
<div class="line">[Thursday 23 December 2010] [03:21:36] &lt;mikko&gt;        that way we could track openpgm build changes more easily</div>
<div class="line">[Thursday 23 December 2010] [03:21:56] &lt;sustrik&gt;      ack</div>
<div class="line">[Thursday 23 December 2010] [03:23:10] &lt;mikko&gt;        also, we should add support for solaris / freebsd with openpgm and the other steve is working on os x build</div>
<div class="line">[Thursday 23 December 2010] [03:23:20] &lt;mikko&gt;        so that&#8217;s 5 conditionals in Makefile</div>
<div class="line">[Thursday 23 December 2010] [03:24:35] &lt;sustrik&gt;      sounds messy</div>
<div class="line">[Thursday 23 December 2010] [03:25:00] &lt;mikko&gt;        yeah, that was originally why i wanted to investigate invoking scons</div>
<div class="line">[Thursday 23 December 2010] [03:25:15] &lt;mikko&gt;        as steve has done a lot of work with different platforms / compilers to get the build working</div>
<div class="line">[Thursday 23 December 2010] [11:55:37] &lt;NoobFukaire&gt;  whats the best way to implement bidirectional messaging with zeromq?</div>
<div class="line">[Thursday 23 December 2010] [11:56:14] &lt;NoobFukaire&gt;  two REQ-REP sockets?</div>
<div class="line">[Thursday 23 December 2010] [11:56:45] &lt;NoobFukaire&gt;  I need either client to be able to send and receive messages at any point</div>
<div class="line">[Thursday 23 December 2010] [12:10:44] &lt;sustrik&gt;      what are you trying to do?</div>
<div class="line">[Thursday 23 December 2010] [12:11:17] &lt;NoobFukaire&gt;  I have two processes that need to exchange event information</div>
<div class="line">[Thursday 23 December 2010] [12:11:39] &lt;NoobFukaire&gt;  those events can be created at any time, on either end</div>
<div class="line">[Thursday 23 December 2010] [12:12:08] &lt;NoobFukaire&gt;  I wish there was some non blocking way to process inbound messages</div>
<div class="line">[Thursday 23 December 2010] [12:12:13] &lt;NoobFukaire&gt;  with zeromq</div>
<div class="line">[Thursday 23 December 2010] [12:16:26] &lt;sustrik&gt;      is that some kind of &#8220;multicast bus&#8221; scenario?</div>
<div class="line">[Thursday 23 December 2010] [12:16:42] &lt;sustrik&gt;      i.e. any message published by anyone is received by anyone else?</div>
<div class="line">[Thursday 23 December 2010] [12:17:05] &lt;NoobFukaire&gt;  no, it&#8217;s basically client server</div>
<div class="line">[Thursday 23 December 2010] [12:17:18] &lt;NoobFukaire&gt;  right now it&#8217;s 1:1 but there might be multiple clients in the future</div>
<div class="line">[Thursday 23 December 2010] [12:17:28] &lt;NoobFukaire&gt;  I&#8217;m find with 1:1 for now though</div>
<div class="line">[Thursday 23 December 2010] [12:17:29] &lt;sustrik&gt;      so it&#8217;s 1 server and N clients</div>
<div class="line">[Thursday 23 December 2010] [12:17:50] &lt;NoobFukaire&gt;  <a href="#id19"><span class="problematic" id="id20">*</span></a>fine</div>
<div class="line">[Thursday 23 December 2010] [12:18:11] &lt;NoobFukaire&gt;  I&#8217;ll refactor for multiple clients when the time comes and I know zeromq better ;)</div>
<div class="line">[Thursday 23 December 2010] [12:18:18] &lt;sustrik&gt;      what kind of interactions there are between server &amp; client?</div>
<div class="line">[Thursday 23 December 2010] [12:18:32] &lt;sustrik&gt;      server publishing stream of events to be received by each client?</div>
<div class="line">[Thursday 23 December 2010] [12:18:34] &lt;NoobFukaire&gt;  I&#8217;m sending google protobuf messages back and forth</div>
<div class="line">[Thursday 23 December 2010] [12:19:05] &lt;sustrik&gt;      back &amp; forth = client initiated handshake?</div>
<div class="line">[Thursday 23 December 2010] [12:19:07] &lt;NoobFukaire&gt;  they&#8217;re just &#8220;events&#8221; they can be generated asynchronously by either side</div>
<div class="line">[Thursday 23 December 2010] [12:19:51] &lt;sustrik&gt;      0mq doesn&#8217;t work that way, you have to identify patterns in the communications</div>
<div class="line">[Thursday 23 December 2010] [12:19:54] &lt;sustrik&gt;      handshakes</div>
<div class="line">[Thursday 23 December 2010] [12:20:02] &lt;sustrik&gt;      data distribution</div>
<div class="line">[Thursday 23 December 2010] [12:20:05] &lt;sustrik&gt;      load balancing</div>
<div class="line">[Thursday 23 December 2010] [12:20:07] &lt;sustrik&gt;      and similar</div>
<div class="line">[Thursday 23 December 2010] [12:20:14] &lt;NoobFukaire&gt;  okay I don&#8217;t care about any of that</div>
<div class="line">[Thursday 23 December 2010] [12:20:24] &lt;NoobFukaire&gt;  this is about two process that exist on the same machine</div>
<div class="line">[Thursday 23 December 2010] [12:20:27] &lt;NoobFukaire&gt;  and need to communicate</div>
<div class="line">[Thursday 23 December 2010] [12:20:33] &lt;sustrik&gt;      use TCP then</div>
<div class="line">[Thursday 23 December 2010] [12:20:34] &lt;NoobFukaire&gt;  there will never be a performance issue</div>
<div class="line">[Thursday 23 December 2010] [12:20:42] &lt;NoobFukaire&gt;  gagh</div>
<div class="line">[Thursday 23 December 2010] [12:21:22] &lt;sustrik&gt;      well, 0mq needs to know what you are trying to achieve to help you</div>
<div class="line">[Thursday 23 December 2010] [12:21:25] &lt;spht&gt; NoobFukaire:  Just because you&#8217;re scenario is 1:1 doesn&#8217;t mean a 1:N solution doesn&#8217;t fit</div>
<div class="line">[Thursday 23 December 2010] [12:21:34] &lt;spht&gt; s/you&#8217;re/your</div>
<div class="line">[Thursday 23 December 2010] [12:21:34] &lt;sustrik&gt;      just saying &#8220;anything&#8221; doesn&#8217;t work</div>
<div class="line">[Thursday 23 December 2010] [12:21:52] &lt;NoobFukaire&gt;  that&#8217;s true but I&#8217;m just trying to keep things as simple as possible until I&#8217;m more familiar with zeromq</div>
<div class="line">[Thursday 23 December 2010] [12:22:34] &lt;sustrik&gt;      you can use PAIR socket</div>
<div class="line">[Thursday 23 December 2010] [12:22:39] &lt;sustrik&gt;      it&#8217;s strictly 1:1</div>
<div class="line">[Thursday 23 December 2010] [12:22:55] &lt;sustrik&gt;      but there are some features missing, like auto-reconnection etc.</div>
<div class="line">[Thursday 23 December 2010] [12:23:55] &lt;NoobFukaire&gt;  spht: is there no way to check read zeromq input in a non blocking fashion?</div>
<div class="line">[Thursday 23 December 2010] [12:24:10] &lt;NoobFukaire&gt;  I have a function that gets called at a regular interval</div>
<div class="line">[Thursday 23 December 2010] [12:24:24] &lt;NoobFukaire&gt;  ideally, I&#8217;d like to have that check for input, process it and then process outbound messages</div>
<div class="line">[Thursday 23 December 2010] [12:24:24] &lt;sustrik&gt;      use ZMQ_NOBLOCK flag in recv()</div>
<div class="line">[Thursday 23 December 2010] [12:24:25] &lt;spht&gt; NoobFukaire:   you can setup zeromq non-blocking IIRC,</div>
<div class="line">[Thursday 23 December 2010] [12:24:54] &lt;spht&gt; what sustrik said ;)</div>
<div class="line">[Thursday 23 December 2010] [12:24:58] &lt;NoobFukaire&gt;  right now it&#8217;s blocking, so once recv is called, it blocks until input is returned</div>
<div class="line">[Thursday 23 December 2010] [12:25:02] &lt;NoobFukaire&gt;  what did he say</div>
<div class="line">[Thursday 23 December 2010] [12:25:33] &lt;spht&gt; ZMQ_NOBLOCK</div>
<div class="line">[Thursday 23 December 2010] [12:25:55] &lt;NoobFukaire&gt;  thanks</div>
<div class="line">[Thursday 23 December 2010] [12:26:38] &lt;spht&gt; but if your app is event driven to start with maybe you want to hook up the zeromq fd&#8217;s into your runloop/reactor or what you use</div>
<div class="line">[Thursday 23 December 2010] [12:26:55] &lt;spht&gt; sustrik:  IIRC thats possible, right?</div>
<div class="line">[Thursday 23 December 2010] [12:27:16] &lt;spht&gt; I&#8217;m a newbie myself so I hope I&#8217;m not spreading lies ;)</div>
<div class="line">[Thursday 23 December 2010] [12:29:29] &lt;NoobFukaire&gt;  in my case, latency is very important and networking is not required at all</div>
<div class="line">[Thursday 23 December 2010] [12:29:40] &lt;NoobFukaire&gt;  because these events may have UI functionality executed as a result</div>
<div class="line">[Thursday 23 December 2010] [12:33:33] &lt;sustrik&gt;      spht: yes, it&#8217;s possible</div>
<div class="line">[Thursday 23 December 2010] [12:34:25] &lt;sustrik&gt;      VoobFukaire: for best latency you can collacate the sender and receiver in the same process</div>
<div class="line">[Thursday 23 December 2010] [12:34:32] &lt;sustrik&gt;      each running is a different thread</div>
<div class="line">[Thursday 23 December 2010] [12:35:13] &lt;spht&gt; And for low latency you probably do not want to poll for new messages (as I guess was what you wanted with the non-blocking sockets)</div>
<div class="line">[Thursday 23 December 2010] [12:52:20] &lt;NoobFukaire&gt;  I need to keep the UI responses ideally under ~100ms to eliminate any lag for the end user</div>
<div class="line">[Thursday 23 December 2010] [12:52:45] &lt;NoobFukaire&gt;  granted the UI stuff itself is done in the toolkit&#8217;s thread, so these events are more of a &#8220;trigger&#8221; for those</div>
<div class="line">[Thursday 23 December 2010] [12:53:08] &lt;NoobFukaire&gt;  thank you for your help and suggestions</div>
<div class="line">[Thursday 23 December 2010] [12:54:59] &lt;NoobFukaire&gt;  ZMQ_NOBLOCK seems to do what I want with nonblocking io, thank you sustrik</div>
<div class="line">[Thursday 23 December 2010] [12:57:46] &lt;sustrik&gt;      you are welcome</div>
<div class="line">[Thursday 23 December 2010] [13:58:55] &lt;mikko&gt;        sustrik: why doesn&#8217;t pair auto-reconnect?</div>
<div class="line">[Thursday 23 December 2010] [13:59:10] &lt;sustrik&gt;      nobody implemented it :)</div>
<div class="line">[Thursday 23 December 2010] [13:59:21] &lt;mikko&gt;        is that a hint ?</div>
<div class="line">[Thursday 23 December 2010] [13:59:23] &lt;mikko&gt;        :)</div>
<div class="line">[Thursday 23 December 2010] [13:59:26] &lt;sustrik&gt;      :)</div>
<div class="line">[Thursday 23 December 2010] [13:59:35] &lt;mikko&gt;        drove 800km today</div>
<div class="line">[Thursday 23 December 2010] [13:59:36] &lt;sustrik&gt;      well, the thing is that PAIR is a socket type</div>
<div class="line">[Thursday 23 December 2010] [13:59:45] &lt;sustrik&gt;      that is most prone to misuse</div>
<div class="line">[Thursday 23 December 2010] [14:00:00] &lt;sustrik&gt;      so i quite like it being slightly broken</div>
<div class="line">[Thursday 23 December 2010] [14:00:10] &lt;mikko&gt;        i abuse pair heavily in my program</div>
<div class="line">[Thursday 23 December 2010] [14:00:15] &lt;sustrik&gt;      :)</div>
<div class="line">[Thursday 23 December 2010] [14:00:23] &lt;sustrik&gt;      where have you gone?</div>
<div class="line">[Thursday 23 December 2010] [14:00:28] &lt;mikko&gt;        dark place</div>
<div class="line">[Thursday 23 December 2010] [14:00:32] &lt;sustrik&gt;      finland?</div>
<div class="line">[Thursday 23 December 2010] [14:00:34] &lt;mikko&gt;        yeah</div>
<div class="line">[Thursday 23 December 2010] [14:01:06] &lt;sustrik&gt;      800km, than must be somewhere behing polar cirscle</div>
<div class="line">[Thursday 23 December 2010] [14:01:08] &lt;sustrik&gt;      circle</div>
<div class="line">[Thursday 23 December 2010] [14:01:16] &lt;mikko&gt;        drove to helsinki and back</div>
<div class="line">[Thursday 23 December 2010] [14:01:28] &lt;mikko&gt;        just to find out that my friend&#8217;s flight is so late that we drove back</div>
<div class="line">[Thursday 23 December 2010] [14:01:38] &lt;sustrik&gt;      :|</div>
<div class="line">[Thursday 23 December 2010] [14:01:52] &lt;mikko&gt;        now he might even miss the last bus</div>
<div class="line">[Thursday 23 December 2010] [14:02:27] &lt;sustrik&gt;      what&#8217;s exactly the problem with flights?</div>
<div class="line">[Thursday 23 December 2010] [14:02:31] &lt;sustrik&gt;      too cold or what?</div>
<div class="line">[Thursday 23 December 2010] [14:03:42] &lt;mikko&gt;        he is flying from london heathrow</div>
<div class="line">[Thursday 23 December 2010] [14:03:49] &lt;mikko&gt;        the problem at heathrow is incompetence</div>
<div class="line">[Thursday 23 December 2010] [14:03:57] &lt;sustrik&gt;      i guess so</div>
<div class="line">[Thursday 23 December 2010] [14:04:14] &lt;mikko&gt;        it&#8217;s not -29.5 celsius where i am</div>
<div class="line">[Thursday 23 December 2010] [14:04:27] &lt;mikko&gt;        and all airports open</div>
<div class="line">[Thursday 23 December 2010] [14:04:39] &lt;sustrik&gt;      actually, it&#8217;s nice warm here in Bratislava today</div>
<div class="line">[Thursday 23 December 2010] [14:05:01] &lt;sustrik&gt;      temperature went up by 20 degress or so</div>
<div class="line">[Thursday 23 December 2010] [14:05:41] &lt;sustrik&gt;      btw, i&#8217;m messing with linux kernel</div>
<div class="line">[Thursday 23 December 2010] [14:06:45] &lt;sustrik&gt;      the experience so far is that in comparison 0MQ codebase is pretty sane and well documented</div>
<div class="line">[Thursday 23 December 2010] [14:07:46] &lt;mikko&gt;        heheh</div>
<div class="line">[Thursday 23 December 2010] [14:07:50] &lt;mikko&gt;        im not suprised</div>
<div class="line">[Thursday 23 December 2010] [14:08:19] &lt;sustrik&gt;      well, it&#8217;s an old project so some amount of messiness is expected</div>
<div class="line">[Thursday 23 December 2010] [14:08:38] &lt;sustrik&gt;      but the network stack seems to have no comments at all</div>
<div class="line">[Thursday 23 December 2010] [14:08:42] &lt;sustrik&gt;      :(</div>
<div class="line">[Thursday 23 December 2010] [14:19:43] &lt;mikko&gt;        dark arts</div>
<div class="line">[Thursday 23 December 2010] [17:06:28] &lt;andrewvc&gt;     cremes: you around?</div>
<div class="line">[Thursday 23 December 2010] [20:25:43] Notice -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 23 December 2010] [21:26:56] &lt;justanewbie&gt;  Hi,i&#8217;ve installed the zeromq,but i cannot find a executable named zmq_server,just zmq_queue,zmq_streamer,zmq_forward,why?</div>
<div class="line">[Thursday 23 December 2010] [21:27:51] &lt;justanewbie&gt;  i wanted to know how to write config file of zmq_queue,but don&#8217;t know how</div>
<div class="line">[Thursday 23 December 2010] [21:32:18] &lt;mikko&gt;        justanewbie: what are you trying to achieve?</div>
<div class="line">[Thursday 23 December 2010] [21:32:24] &lt;mikko&gt;        justanewbie: just run a device?</div>
<div class="line">[Thursday 23 December 2010] [21:32:58] &lt;mikko&gt;        i don&#8217;t think the device configuration files are documented at the moment</div>
<div class="line">[Thursday 23 December 2010] [21:33:13] &lt;mikko&gt;        it should be fairly easy to decipher the config from the code</div>
<div class="line">[Thursday 23 December 2010] [21:33:51] &lt;mikko&gt;        <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/devices/zmq_streamer/zmq_streamer.cpp">https://github.com/zeromq/zeromq2/blob/master/devices/zmq_streamer/zmq_streamer.cpp</a></div>
<div class="line">[Thursday 23 December 2010] [21:33:54] &lt;mikko&gt;        for exampe that</div>
<div class="line">[Thursday 23 December 2010] [21:35:25] &lt;justanewbie&gt;  thank u mikko,i&#8217;ll take a look and c</div>
<div class="line">[Thursday 23 December 2010] [23:51:06] &lt;neopallium&gt;   Hey everyone, I just wanted to let you know about this <a class="reference external" href="https://github.com/Neopallium/lua-handlers">https://github.com/Neopallium/lua-handlers</a> lua project that I created it wraps lua-ev(event loop) &amp; lua-zmq(requires ZeroMQ 2.1.0).  It makes it easy to work with many zmq/tcp/udp sockets in non-blocking mode.</div>
<div class="line">[Friday 24 December 2010] [02:37:58] &lt;sustrik&gt;        naopallium: announce it on the mailing list rather, there&#8217;s much more people there</div>
<div class="line">[Friday 24 December 2010] [04:44:51] &lt;cods&gt;   Hi. Just to make sure I understand: for any type of 1-1 connection (push/pull, pub/sub, req/rep), it doesn&#8217;t matter which side do a connect and which one do the bind, right? (of course, differences occurs when talking about 1-n or n-n)</div>
<div class="line">[Friday 24 December 2010] [05:00:31] &lt;seb`&gt;   afaik yes it does not matter</div>
<div class="line">[Friday 24 December 2010] [05:03:28] &lt;cods&gt;   ok</div>
<div class="line">[Friday 24 December 2010] [05:07:53] &lt;neopallium&gt;     cods: from what I know it doesn&#8217;t even matter with 1-n or n-n connections.</div>
<div class="line">[Friday 24 December 2010] [05:11:01] &lt;cods&gt;   neopallium: well, I meant that when reversing role (binder/connecter) you have to adapt code to create many socket (connect) instead of one (bind) if you&#8217;re the server for example, but apart from that, I understand what you mean (messages will be handled the same way at the end I guess)</div>
<div class="line">[Friday 24 December 2010] [05:16:44] &lt;neopallium&gt;     looks like you can bind &amp; connect on the same zmq socket</div>
<div class="line">[Friday 24 December 2010] [05:17:25] &lt;neopallium&gt;     I just modified one of my test scripts which creates a PUB socket and had it bind to port 5555 and connect to port 5556</div>
<div class="line">[Friday 24 December 2010] [05:18:00] &lt;neopallium&gt;     on port 5556 was a script with a SUB socket</div>
<div class="line">[Friday 24 December 2010] [05:18:31] &lt;neopallium&gt;     both server &amp; client SUB sockets where able to receive messages from the PUB socket.</div>
<div class="line">[Friday 24 December 2010] [05:18:51] &lt;neopallium&gt;     I didn&#8217;t even think that was possible until now.</div>
<div class="line">[Friday 24 December 2010] [05:19:06] &lt;cods&gt;   oh, that&#8217;s interesting. I have not seen that documented.</div>
<div class="line">[Friday 24 December 2010] [05:20:07] &lt;neopallium&gt;     I have read somewhere in the docs that zmq sockets don&#8217;t put restrictions on who connects and who binds.</div>
<div class="line">[Friday 24 December 2010] [05:20:40] &lt;neopallium&gt;     but I didn&#8217;t think that applied to binding &amp; connection with the same socket.</div>
<div class="line">[Friday 24 December 2010] [05:22:08] &lt;cods&gt;   I like how 0mq is versatile. Great design.</div>
<div class="line">[Friday 24 December 2010] [05:33:05] &lt;sustrik&gt;        :)</div>
<div class="line">[Friday 24 December 2010] [05:34:15] &lt;sustrik&gt;        neopallium: you can also add the link to your project here:</div>
<div class="line">[Friday 24 December 2010] [05:34:16] &lt;sustrik&gt;        <a class="reference external" href="http://www.zeromq.org/docs:labs">http://www.zeromq.org/docs:labs</a></div>
<div class="line">[Friday 24 December 2010] [06:22:19] &lt;neopallium&gt;     sustrik: thanks I just sent an email to the mailinglist.</div>
<div class="line">[Friday 24 December 2010] [06:48:01] &lt;cods&gt;   just curious while looking at the data on the wire, what the 0x01 0x01 header means? (before what looks like the &#8220;SPB&#8221; encoding) Is this documented somewhere? (or alternatively, where is it handled in the source code?)</div>
<div class="line">[Friday 24 December 2010] [10:02:59] &lt;DasIch&gt; i&#8217;m currently trying to install pyzmq on a machine running ubuntu 10.10, even with libzmq-dev installed pip install pyzmq reports that a zmq_utils.h is missing</div>
<div class="line">[Friday 24 December 2010] [10:03:33] &lt;DasIch&gt; i wasn&#8217;t able to find any information regarding this issue is there a ppa i should use?</div>
<div class="line">[Friday 24 December 2010] [10:06:21] &lt;DasIch&gt; ah, ppa:chris-lea-zeromq does the job</div>
<div class="line">[Friday 24 December 2010] [10:07:07] &lt;DasIch&gt; uh no, i get an Assertion failed: !pgm_supported () (zmq.cpp:240)</div>
<div class="line">[Friday 24 December 2010] [10:07:50] &lt;guido_g&gt;        DasIch: do the versions of libzmq and pyzmq match?</div>
<div class="line">[Friday 24 December 2010] [10:11:37] &lt;DasIch&gt; pyzmq version is 2.0.10, how do i find out the libzmq version?</div>
<div class="line">[Friday 24 December 2010] [10:12:17] &lt;guido_g&gt;        from the package? apt-cache show ...</div>
<div class="line">[Friday 24 December 2010] [10:12:27] &lt;DasIch&gt; ah it&#8217;s also 2.0.10</div>
<div class="line">[Friday 24 December 2010] [10:13:05] &lt;guido_g&gt;        then it seems to be build w/o pgm</div>
<div class="line">[Friday 24 December 2010] [10:14:00] &lt;guido_g&gt;        get the source and compile it yourself</div>
<div class="line">[Friday 24 December 2010] [10:14:13] &lt;DasIch&gt; guido_g: ok, thanks</div>
<div class="line">[Friday 24 December 2010] [11:55:51] &lt;cremes&gt; andrewvc: i&#8217;m around for about 30m this morning; what&#8217;s up?</div>
<div class="line">[Friday 24 December 2010] [12:12:57] &lt;cremes&gt; andrewvc: send me a message offline and i&#8217;ll answer it; i&#8217;ll be off irc for the next 3 days or so...</div>
<div class="line">[Friday 24 December 2010] [12:13:21] &lt;cremes&gt; merry christmas, everybody!</div>
<div class="line">[Friday 24 December 2010] [21:01:23] &lt;lorph&gt;  is there a API for communicating between TCP/UDP and zeromq, or do I have to make that myself</div>
<div class="line">[Saturday 25 December 2010] [11:05:11] &lt;kuka&gt; hi! how to install zeroMQ lib in tomcat for using in web apps?</div>
<div class="line">[Saturday 25 December 2010] [11:05:34] &lt;kuka&gt; ivan help us</div>
<div class="line">[Saturday 25 December 2010] [12:19:11] &lt;keffo&gt;        Merry off-work-period, everyone!</div>
<div class="line">[Saturday 25 December 2010] [17:28:45] &lt;roxlu&gt;        hi</div>
<div class="line">[Saturday 25 December 2010] [17:31:20] &lt;roxlu&gt;        I just found zeromq, and read the intro pages of the manual but I&#8217;m confused what&#8217;s so good about zeromq?</div>
<div class="line">[Saturday 25 December 2010] [17:31:54] &lt;roxlu&gt;        It&#8217;s a networking library; but what makes it different from other libs</div>
<div class="line">[Saturday 25 December 2010] [17:52:48] &lt;keffo&gt;        Might I suggest you keep reading beyond the intro pages?</div>
<div class="line">[Saturday 25 December 2010] [18:14:39] &lt;Skaag&gt;        yes, I suggest you do that, as well. I know for a fact that after you read more, it will become clear to you, because I just re-read those documents myself this week.</div>
<div class="line">[Saturday 25 December 2010] [18:15:02] &lt;Skaag&gt;        assume it&#8217;s deeper and more important than you might imagine... ;-)</div>
<div class="line">[Saturday 25 December 2010] [21:22:00] &lt;andrewvc&gt;     cremes: around?</div>
<div class="line">[Sunday 26 December 2010] [03:42:06] &lt;neopallium&gt;     how does one detect if a request sent to a REQ socket is lost? (i.e. the server dies/restarts before sending the message from it&#8217;s REP socket)</div>
<div class="line">[Sunday 26 December 2010] [03:44:36] &lt;neopallium&gt;     I have an example of a job queue server with worker clients, the workers connect a REQ socket to the server&#8217;s XREP socket and pull for jobs, but if the server is restarted when the workers are waiting for a job, they get stuck.</div>
<div class="line">[Sunday 26 December 2010] [03:46:53] &lt;guido_g&gt;        you can&#8217;t</div>
<div class="line">[Sunday 26 December 2010] [03:47:27] &lt;guido_g&gt;        or better, mq can&#8217;t, you&#8217;ve to build a timeout yourself</div>
<div class="line">[Sunday 26 December 2010] [03:55:12] &lt;neopallium&gt;     one option I though of to try and solve this is to use PUB/SUB sockets so the server can tell the workers to re-connect.  But I don&#8217;t think that will be an option for other uses of REQ/REP sockets.</div>
<div class="line">[Sunday 26 December 2010] [03:57:57] &lt;guido_g&gt;        right, req/rep is simple but doesn&#8217;t work</div>
<div class="line">[Sunday 26 December 2010] [03:58:41] &lt;guido_g&gt;        you have to augment it w/ poll for timeout</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2010-November.html"
                        title="previous chapter">2010-November</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2010-December.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2010-November.html" title="2010-November"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
  </body>
</html>