

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="2010-May.html" />
    <link rel="prev" title="&lt;no title&gt;" href="2010-March.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2010-May.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="2010-March.html" title="&lt;no title&gt;"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="line-block">
<div class="line">[Thursday 01 April 2010] [04:02:21] &lt;sustrik&gt;   mikko: hi</div>
<div class="line">[Thursday 01 April 2010] [04:03:24] &lt;mikko&gt; hi</div>
<div class="line">[Thursday 01 April 2010] [04:03:49] &lt;sustrik&gt;   what&#8217;s the problem?</div>
<div class="line">[Thursday 01 April 2010] [04:03:52] &lt;mikko&gt; /usr/local/lib/libzmq.so.0: undefined symbol: _ZN3zmq7epoll_t4loopEv</div>
<div class="line">[Thursday 01 April 2010] [04:04:08] &lt;sustrik&gt;   only a single one?</div>
<div class="line">[Thursday 01 April 2010] [04:04:19] &lt;sustrik&gt;   single undefined symbol?</div>
<div class="line">[Thursday 01 April 2010] [04:04:23] &lt;mikko&gt; there are other symbols as well but it all seems very random</div>
<div class="line">[Thursday 01 April 2010] [04:04:47] &lt;mikko&gt; i can run the program let&#8217;s say 8 times successfully and on ninth i get lookup error</div>
<div class="line">[Thursday 01 April 2010] [04:04:58] &lt;mikko&gt; i wonder if something happened to my environment</div>
<div class="line">[Thursday 01 April 2010] [04:05:01] &lt;sustrik&gt;   strange</div>
<div class="line">[Thursday 01 April 2010] [04:05:20] &lt;sustrik&gt;   looks like your system is broken</div>
<div class="line">[Thursday 01 April 2010] [04:08:06] &lt;mikko&gt; trying with LD_DEBUG now</div>
<div class="line">[Thursday 01 April 2010] [04:11:15] &lt;mikko&gt; <a class="reference external" href="http://pastie.org/898514">http://pastie.org/898514</a></div>
<div class="line">[Thursday 01 April 2010] [04:11:19] &lt;mikko&gt; not sure what this tells me</div>
<div class="line">[Thursday 01 April 2010] [04:12:01] &lt;mikko&gt; trying with clean system</div>
<div class="line">[Thursday 01 April 2010] [04:21:10] &lt;mikko&gt; sustrik: also getting this occasionally symbol lookup error: /usr/local/lib/libzmq.so.0: undefined symbol: uuid_unparse, version UUID_1.0</div>
<div class="line">[Thursday 01 April 2010] [04:21:20] &lt;mikko&gt; but not on all runs, it seems very random</div>
<div class="line">[Thursday 01 April 2010] [04:21:53] &lt;sustrik&gt;   there must be something wrong with your system; library loading should be a deterministic process</div>
<div class="line">[Thursday 01 April 2010] [04:22:10] &lt;sustrik&gt;   can you try on a different box?</div>
<div class="line">[Thursday 01 April 2010] [04:22:57] &lt;mikko&gt; yeah, setting up another VM on the background</div>
<div class="line">[Thursday 01 April 2010] [05:24:46] &lt;sjampoo&gt;   Cool, got PGM working in Python code. Seems that i can only use a single context per process (because of refcounting?).</div>
<div class="line">[Thursday 01 April 2010] [05:25:11] &lt;sjampoo&gt;   How do i set an optimal multicast rate, by experimentation?</div>
<div class="line">[Thursday 01 April 2010] [05:47:54] &lt;sustrik&gt;   sjampoo: yes, one context per process suffices</div>
<div class="line">[Thursday 01 April 2010] [05:48:17] &lt;sustrik&gt;   as for the rate, set it up to match your requirements</div>
<div class="line">[Thursday 01 April 2010] [05:48:27] &lt;mikko&gt; oh, btw i forgot to mention: i am working on php bindings for zeromq</div>
<div class="line">[Thursday 01 April 2010] [05:48:35] &lt;mikko&gt; should have something working by the end of the day</div>
<div class="line">[Thursday 01 April 2010] [05:48:46] &lt;sustrik&gt;   mikko: nice</div>
<div class="line">[Thursday 01 April 2010] [05:49:05] &lt;sustrik&gt;   btw, there were several people messing with php</div>
<div class="line">[Thursday 01 April 2010] [05:49:22] &lt;sustrik&gt;   so you may ask about it on the mailing list</div>
<div class="line">[Thursday 01 April 2010] [05:49:57] &lt;sustrik&gt;   the main problem afaiu is to have a persistent connection from php</div>
<div class="line">[Thursday 01 April 2010] [05:50:14] &lt;sustrik&gt;   rather than establishing and tearing the connection all the time</div>
<div class="line">[Thursday 01 April 2010] [05:51:42] &lt;mikko&gt; sustrik: that should not really be hard</div>
<div class="line">[Thursday 01 April 2010] [05:53:02] &lt;mikko&gt; sustrik: i&#8217;ll take a peek at the mailing-lists</div>
<div class="line">[Thursday 01 April 2010] [06:02:52] &lt;<a href="#id188"><span class="problematic" id="id189">ud_</span></a>&gt;   hi</div>
<div class="line">[Thursday 01 April 2010] [06:03:04] &lt;<a href="#id190"><span class="problematic" id="id191">ud_</span></a>&gt;   Why PGM may loss messages ?</div>
<div class="line">[Thursday 01 April 2010] [06:10:09] &lt;sjampoo&gt;   ud, it might be that you are sending the messages from one context and that all your sends have finished but ZMQ is still pushing them to the network (because of the multicast rate). However, if you close the context before that is finished the rest of your message will never arrive.</div>
<div class="line">[Thursday 01 April 2010] [06:24:45] &lt;sustrik&gt;   <a href="#id192"><span class="problematic" id="id193">ud_</span></a>: also there&#8217;s a problem of the finite retransmit window</div>
<div class="line">[Thursday 01 April 2010] [06:25:05] &lt;sustrik&gt;   sender may store at most that much data</div>
<div class="line">[Thursday 01 April 2010] [06:25:46] &lt;sustrik&gt;   thus is receiver requests retransmission of data that were already dropped by the sender</div>
<div class="line">[Thursday 01 April 2010] [06:25:59] &lt;sustrik&gt;   sender has no way to retransmit</div>
<div class="line">[Thursday 01 April 2010] [06:36:50] &lt;<a href="#id194"><span class="problematic" id="id195">ud_</span></a>&gt;   Also, somtimes I handle this: Assertion failed: it != peers.end () (pgm_receiver.cpp:161)</div>
<div class="line">[Thursday 01 April 2010] [06:39:48] &lt;sustrik&gt;   <a href="#id196"><span class="problematic" id="id197">ud_</span></a>: let me see</div>
<div class="line">[Thursday 01 April 2010] [06:40:56] &lt;sustrik&gt;   <a href="#id198"><span class="problematic" id="id199">ud_</span></a>: there have been a bug in OpenPGM lately</div>
<div class="line">[Thursday 01 April 2010] [06:41:04] &lt;sustrik&gt;   this looks like it may be the consequence</div>
<div class="line">[Thursday 01 April 2010] [06:41:46] &lt;sustrik&gt;   however, if you don&#8217;t overload your network, you shouldn&#8217;t hit the problem</div>
<div class="line">[Thursday 01 April 2010] [06:42:12] &lt;sustrik&gt;   anyway, the original bug will be solved in next release (2.0.7)</div>
<div class="line">[Thursday 01 April 2010] [06:46:07] &lt;<a href="#id200"><span class="problematic" id="id201">ud_</span></a>&gt;   ok, when will the next release ? :)</div>
<div class="line">[Thursday 01 April 2010] [07:08:22] &lt;sustrik&gt;   <a href="#id202"><span class="problematic" id="id203">ud_</span></a>: couple of weeks from now</div>
<div class="line">[Thursday 01 April 2010] [07:09:19] &lt;sjampoo&gt;   ud, i got the same message when closing the context prematurely and then firing up a different context.</div>
<div class="line">[Thursday 01 April 2010] [07:12:57] &lt;sustrik&gt;   sjampoo: that&#8217;s interesting</div>
<div class="line">[Thursday 01 April 2010] [07:13:11] &lt;sustrik&gt;   i can imagine a way how that could happen</div>
<div class="line">[Thursday 01 April 2010] [07:13:28] &lt;sustrik&gt;   can you fill a bug report, please?</div>
<div class="line">[Thursday 01 April 2010] [07:14:49] &lt;sjampoo&gt;   hmm, i did not expect it to be a bug really, just misunderstanding on my part</div>
<div class="line">[Thursday 01 April 2010] [07:16:45] &lt;sustrik&gt;   sjampoo: i think it is a bug</div>
<div class="line">[Thursday 01 April 2010] [07:16:55] &lt;sjampoo&gt;   ok, ill file a report</div>
<div class="line">[Thursday 01 April 2010] [07:17:15] &lt;sustrik&gt;   what&#8217;s happening imo is that the two subsequent PGM session interact in a strange way</div>
<div class="line">[Thursday 01 April 2010] [07:17:18] &lt;sustrik&gt;   yes, please</div>
<div class="line">[Thursday 01 April 2010] [07:17:53] &lt;sustrik&gt;   it definitely shouldn&#8217;t assert, in worse case it should return error</div>
<div class="line">[Thursday 01 April 2010] [07:18:10] &lt;sjampoo&gt;   I am running it from Python code, also when loading two context in a single process i get an assertion error as well</div>
<div class="line">[Thursday 01 April 2010] [07:18:18] &lt;sjampoo&gt;   (when i compiled zmq with pgm support)</div>
<div class="line">[Thursday 01 April 2010] [07:18:54] &lt;sjampoo&gt;   not sure if this is somewhat related</div>
<div class="line">[Thursday 01 April 2010] [07:34:24] &lt;sustrik&gt;   what&#8217;s the assertion in that case?</div>
<div class="line">[Thursday 01 April 2010] [07:34:55] &lt;sjampoo&gt;   Assertion failed: !pgm_supported () (zmq.cpp:234)</div>
<div class="line">[Thursday 01 April 2010] [07:35:06] &lt;sjampoo&gt;   There is a comment about refcounting above it</div>
<div class="line">[Thursday 01 April 2010] [07:40:10] &lt;sustrik&gt;   that&#8217;s 0MQ/2.0.6?</div>
<div class="line">[Thursday 01 April 2010] [07:40:18] &lt;sjampoo&gt;   yes</div>
<div class="line">[Thursday 01 April 2010] [07:41:22] &lt;sustrik&gt;   ok, i see; to solve the problem OpenPGM has to be patched</div>
<div class="line">[Thursday 01 April 2010] [07:43:55] &lt;sjampoo&gt;   Hmmm, was just able to succesfully reproduce the peer.end() problem with the performance tools local_thr, and remote_thr</div>
<div class="line">[Thursday 01 April 2010] [07:44:00] &lt;sjampoo&gt;   Where should i file the bug?</div>
<div class="line">[Thursday 01 April 2010] [07:44:39] &lt;sustrik&gt;   go to github repo</div>
<div class="line">[Thursday 01 April 2010] [07:44:47] &lt;sjampoo&gt;   zeromq right?</div>
<div class="line">[Thursday 01 April 2010] [07:44:50] &lt;sustrik&gt;   there&#8217;s &#8220;issues&#8221; tab ther</div>
<div class="line">[Thursday 01 April 2010] [07:44:50] &lt;sjampoo&gt;   Nog OpenPGM?</div>
<div class="line">[Thursday 01 April 2010] [07:44:56] &lt;sjampoo&gt;   not even</div>
<div class="line">[Thursday 01 April 2010] [07:45:13] &lt;sustrik&gt;   the peer.end() is 0mq problem</div>
<div class="line">[Thursday 01 April 2010] [07:45:18] &lt;sjampoo&gt;   ok.</div>
<div class="line">[Thursday 01 April 2010] [07:45:48] &lt;sustrik&gt;   if you want the pgm_supported problem solved you should ask on OpenPGM mailing list</div>
<div class="line">[Thursday 01 April 2010] [07:46:35] &lt;sjampoo&gt;   ok, thanks for the info</div>
<div class="line">[Thursday 01 April 2010] [07:47:57] &lt;sustrik&gt;   np</div>
<div class="line">[Thursday 01 April 2010] [07:53:24] &lt;keenerd&gt;   Dumb question; where did the C bindings go in 2.0.6?  The docs just loop back on themselves.</div>
<div class="line">[Thursday 01 April 2010] [07:59:10] &lt;mikko&gt; keenerd: you mean <a class="reference external" href="http://api.zeromq.org/zmq.html">http://api.zeromq.org/zmq.html</a> ?</div>
<div class="line">[Thursday 01 April 2010] [08:02:02] &lt;keenerd&gt;   Yeah.  Is there an undocumented configure flag?</div>
<div class="line">[Thursday 01 April 2010] [08:02:22] &lt;mikko&gt; sustrik: <a class="reference external" href="http://pastie.org/898701">http://pastie.org/898701</a> am i waiting on a message?</div>
<div class="line">[Thursday 01 April 2010] [08:02:41] &lt;sustrik&gt;   mikko: looks like</div>
<div class="line">[Thursday 01 April 2010] [08:03:04] &lt;sustrik&gt;   keenerd, what configure flag&gt;</div>
<div class="line">[Thursday 01 April 2010] [08:03:05] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 01 April 2010] [08:03:11] &lt;sustrik&gt;   ./configure &#8211;help</div>
<div class="line">[Thursday 01 April 2010] [08:03:15] &lt;mikko&gt; hmm. the same thing works on a single process but as soon as i got multiple forks things go downhill</div>
<div class="line">[Thursday 01 April 2010] [08:03:20] &lt;sustrik&gt;   gives you list of all available flags</div>
<div class="line">[Thursday 01 April 2010] [08:03:21] &lt;keenerd&gt;   By loop back on themselves, I mean the homepage.  It presumes C bindings are just there, and does not give a source to make them.</div>
<div class="line">[Thursday 01 April 2010] [08:04:02] &lt;sustrik&gt;   0MQ native interface is C</div>
<div class="line">[Thursday 01 April 2010] [08:04:16] &lt;sustrik&gt;   so when you build it, you have it</div>
<div class="line">[Thursday 01 April 2010] [08:04:26] &lt;sustrik&gt;   no separate project is needed</div>
<div class="line">[Thursday 01 April 2010] [08:04:29] &lt;keenerd&gt;   No, nothing helpful in configure &#8211;help</div>
<div class="line">[Thursday 01 April 2010] [08:04:48] &lt;keenerd&gt;   sustrik: You sure?  It really looks like C++ is the naitive interface now.</div>
<div class="line">[Thursday 01 April 2010] [08:05:01] &lt;sustrik&gt;   no, C is native (zmq.h)</div>
<div class="line">[Thursday 01 April 2010] [08:05:10] &lt;sustrik&gt;   C++ is a thin wrapper over C (zmq.hpp)</div>
<div class="line">[Thursday 01 April 2010] [08:05:30] &lt;sustrik&gt;   the documentation is confusing though</div>
<div class="line">[Thursday 01 April 2010] [08:05:51] &lt;sustrik&gt;   when clicking on C in the left pane is should say that it&#8217;s native interface etc.</div>
<div class="line">[Thursday 01 April 2010] [08:06:04] &lt;keenerd&gt;   Okay, I see it.  &#8220;make install&#8221; ignores it, though.</div>
<div class="line">[Thursday 01 April 2010] [08:06:38] &lt;sustrik&gt;   nope, it should copy it to use/local/include</div>
<div class="line">[Thursday 01 April 2010] [08:06:50] &lt;keenerd&gt;   Does not work for me.</div>
<div class="line">[Thursday 01 April 2010] [08:06:50] &lt;sustrik&gt;   it&#8217;s possible that you dan&#8217;t have that on your path</div>
<div class="line">[Thursday 01 April 2010] [08:07:26] &lt;keenerd&gt;   No, I&#8217;m packaging the library.  It does not get moved from the source directoey to the package directory.</div>
<div class="line">[Thursday 01 April 2010] [08:07:47] &lt;sustrik&gt;   by packaging you mean make dist?</div>
<div class="line">[Thursday 01 April 2010] [08:07:57] &lt;keenerd&gt;   No.</div>
<div class="line">[Thursday 01 April 2010] [08:08:06] &lt;keenerd&gt;   I maintain it for Arch.</div>
<div class="line">[Thursday 01 April 2010] [08:08:30] &lt;sustrik&gt;   ok, can you be more specific on what you are doing?</div>
<div class="line">[Thursday 01 April 2010] [08:08:34] &lt;sustrik&gt;   ./autogen.sh</div>
<div class="line">[Thursday 01 April 2010] [08:08:37] &lt;sustrik&gt;   ./configure</div>
<div class="line">[Thursday 01 April 2010] [08:08:39] &lt;sustrik&gt;   make</div>
<div class="line">[Thursday 01 April 2010] [08:08:42] &lt;sustrik&gt;   make install</div>
<div class="line">[Thursday 01 April 2010] [08:08:43] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 01 April 2010] [08:09:16] &lt;keenerd&gt;   ./configure prefix=...</div>
<div class="line">[Thursday 01 April 2010] [08:09:17] &lt;keenerd&gt;   make</div>
<div class="line">[Thursday 01 April 2010] [08:09:21] &lt;keenerd&gt;   make install</div>
<div class="line">[Thursday 01 April 2010] [08:09:25] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 01 April 2010] [08:09:33] &lt;sustrik&gt;   what&#8217;s missing afterwards?</div>
<div class="line">[Thursday 01 April 2010] [08:09:44] &lt;keenerd&gt;   zmq.h, at the very least :-)</div>
<div class="line">[Thursday 01 April 2010] [08:09:51] &lt;sustrik&gt;   ok, let me try...</div>
<div class="line">[Thursday 01 April 2010] [08:10:17] &lt;sustrik&gt;   sjampoo: thanks</div>
<div class="line">[Thursday 01 April 2010] [08:10:23] &lt;keenerd&gt;   Is autogen really needed now?  Trying that...</div>
<div class="line">[Thursday 01 April 2010] [08:10:39] &lt;sustrik&gt;   depends on whether you build from the tar.gz package</div>
<div class="line">[Thursday 01 April 2010] [08:10:45] &lt;sustrik&gt;   if so, you don&#8217;t need it</div>
<div class="line">[Thursday 01 April 2010] [08:10:57] &lt;sustrik&gt;   if you are building directly from github repo, you need it</div>
<div class="line">[Thursday 01 April 2010] [08:11:39] &lt;keenerd&gt;   Ah, no.  Someone else maintains the git.</div>
<div class="line">[Thursday 01 April 2010] [08:12:17] &lt;sustrik&gt;   then just ommit the autogen step</div>
<div class="line">[Thursday 01 April 2010] [08:13:55] &lt;keenerd&gt;   Otherwise, building it is a lot simpler now.</div>
<div class="line">[Thursday 01 April 2010] [08:14:23] &lt;keenerd&gt;   The old &#8211;with would crash easily.</div>
<div class="line">[Thursday 01 April 2010] [08:14:30] &lt;mikko&gt; sustrik: the interesting thing is that it looks like im waiting for a message but i dont see the &#8220;request&#8221; in tcpdump</div>
<div class="line">[Thursday 01 April 2010] [08:14:40] &lt;mikko&gt; so nothing has been sent at that point</div>
<div class="line">[Thursday 01 April 2010] [08:15:28] &lt;sustrik&gt;   keenerd: yes, we&#8217;ve trew out all the stuf that wasn&#8217;t absolutely needed</div>
<div class="line">[Thursday 01 April 2010] [08:16:46] &lt;sustrik&gt;   mikko: different things may got wrong, send your test prog to the mailing list and i&#8217;ll have a look</div>
<div class="line">[Thursday 01 April 2010] [08:18:42] &lt;mikko&gt; sustrik: my test prog is the full php extension</div>
<div class="line">[Thursday 01 April 2010] [08:18:45] &lt;mikko&gt; it might be a bit heavy</div>
<div class="line">[Thursday 01 April 2010] [08:19:12] &lt;sustrik&gt;   then just describe what you are doing</div>
<div class="line">[Thursday 01 April 2010] [08:19:17] &lt;mikko&gt; i think it might have something to do with this <a class="reference external" href="http://pastie.org/898721">http://pastie.org/898721</a></div>
<div class="line">[Thursday 01 April 2010] [08:19:50] &lt;mikko&gt; but not sure yet</div>
<div class="line">[Thursday 01 April 2010] [08:19:56] &lt;sustrik&gt;   grr, that&#8217;s the bug i cannot get my hands on</div>
<div class="line">[Thursday 01 April 2010] [08:20:05] &lt;sustrik&gt;   i am not able to reproduce it here</div>
<div class="line">[Thursday 01 April 2010] [08:20:14] &lt;sustrik&gt;   would it be able to get access to your box?</div>
<div class="line">[Thursday 01 April 2010] [08:20:24] &lt;mikko&gt; Assertion failed: !incomplete_in (session.cpp:123)</div>
<div class="line">[Thursday 01 April 2010] [08:20:24] &lt;mikko&gt; Aborted</div>
<div class="line">[Thursday 01 April 2010] [08:20:29] &lt;mikko&gt; on the server side</div>
<div class="line">[Thursday 01 April 2010] [08:20:36] &lt;mikko&gt; sustrik: it&#8217;s a virtual machine</div>
<div class="line">[Thursday 01 April 2010] [08:20:41] &lt;mikko&gt; i can zip it up and send it to you</div>
<div class="line">[Thursday 01 April 2010] [08:21:01] &lt;mikko&gt; i can try to make it available online first though (not sure about local firewall)</div>
<div class="line">[Thursday 01 April 2010] [08:21:19] &lt;sustrik&gt;   that would be great</div>
<div class="line">[Thursday 01 April 2010] [08:24:06] &lt;sustrik&gt;   mikko: you are using bleeding edge version, this is a problem with the code committed last week</div>
<div class="line">[Thursday 01 April 2010] [08:24:33] &lt;sustrik&gt;   you may want to use 2.0.6 instead</div>
<div class="line">[Thursday 01 April 2010] [08:25:40] &lt;sustrik&gt;   keenerd: i&#8217;ve tested the build:</div>
<div class="line">[Thursday 01 April 2010] [08:25:51] &lt;sustrik&gt;   ./configure &#8211;prefix=xyz</div>
<div class="line">[Thursday 01 April 2010] [08:25:52] &lt;sustrik&gt;   make</div>
<div class="line">[Thursday 01 April 2010] [08:25:56] &lt;sustrik&gt;   make install</div>
<div class="line">[Thursday 01 April 2010] [08:26:04] &lt;sustrik&gt;   ls xyz/include</div>
<div class="line">[Thursday 01 April 2010] [08:26:08] &lt;sustrik&gt;     zmq.h</div>
<div class="line">[Thursday 01 April 2010] [08:26:10] &lt;sustrik&gt;     zmq.hpp</div>
<div class="line">[Thursday 01 April 2010] [08:26:15] &lt;keenerd&gt;   Huh.</div>
<div class="line">[Thursday 01 April 2010] [08:27:51] &lt;keenerd&gt;   Very odd.</div>
<div class="line">[Thursday 01 April 2010] [08:28:18] &lt;sustrik&gt;   maybe a typo in the path?</div>
<div class="line">[Thursday 01 April 2010] [08:28:36] &lt;keenerd&gt;   Which path?  I see zmq.hpp.</div>
<div class="line">[Thursday 01 April 2010] [08:29:29] &lt;sustrik&gt;   &#8211;prefix=path</div>
<div class="line">[Thursday 01 April 2010] [08:29:33] &lt;mikko&gt; sustrik: can you give me your pubkey?</div>
<div class="line">[Thursday 01 April 2010] [08:29:54] &lt;sustrik&gt;   what&#8217;s your email?</div>
<div class="line">[Thursday 01 April 2010] [08:30:15] &lt;mikko&gt; <a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a></div>
<div class="line">[Thursday 01 April 2010] [08:30:26] &lt;sustrik&gt;   wait a sec</div>
<div class="line">[Thursday 01 April 2010] [08:30:59] &lt;sustrik&gt;   mikko: ok, sent</div>
<div class="line">[Thursday 01 April 2010] [08:31:41] &lt;keenerd&gt;   sustrik: Okay, I reinstalled make and related packages.  Problem seems to be gone.  I blame cosmic rays, and will replace my aging drive soon.</div>
<div class="line">[Thursday 01 April 2010] [08:31:49] &lt;keenerd&gt;   Sorry for the hassle.</div>
<div class="line">[Thursday 01 April 2010] [08:31:53] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 01 April 2010] [08:32:37] &lt;keenerd&gt;   Thanks.</div>
<div class="line">[Thursday 01 April 2010] [08:34:13] &lt;sustrik&gt;   np, autotools is a mysterious piece of software with it&#8217;s own will</div>
<div class="line">[Thursday 01 April 2010] [11:20:29] &lt;mikko&gt; sustrik: still here?</div>
<div class="line">[Thursday 01 April 2010] [11:36:55] &lt;mikko&gt; anyone had this:</div>
<div class="line">[Thursday 01 April 2010] [11:36:57] &lt;mikko&gt; Assertion failed: !engine (session.cpp:263)</div>
<div class="line">[Thursday 01 April 2010] [12:20:08] &lt;Skaag&gt; ping?</div>
<div class="line">[Thursday 01 April 2010] [12:38:39] &lt;mikko&gt; pong</div>
<div class="line">[Thursday 01 April 2010] [13:28:33] &lt;Skaag&gt; an active person!</div>
<div class="line">[Thursday 01 April 2010] [13:36:32] &lt;mikko&gt; well, active and active</div>
<div class="line">[Thursday 01 April 2010] [13:36:35] &lt;mikko&gt; my first day here</div>
<div class="line">[Thursday 01 April 2010] [13:41:30] &lt;mikko&gt; Skaag: looks like you found my github repo</div>
<div class="line">[Thursday 01 April 2010] [13:41:59] &lt;Skaag&gt; lol</div>
<div class="line">[Thursday 01 April 2010] [13:42:09] &lt;Skaag&gt; yes :-)</div>
<div class="line">[Thursday 01 April 2010] [13:42:25] &lt;Skaag&gt; I wondered if you&#8217;d notice while here</div>
<div class="line">[Thursday 01 April 2010] [13:43:06] &lt;Skaag&gt; While it was a half joke, I will be happy to test it and add/edit documentation</div>
<div class="line">[Thursday 01 April 2010] [13:43:35] &lt;Skaag&gt; I think I may have made a mistake wt</div>
<div class="line">[Thursday 01 April 2010] [13:43:36] &lt;mikko&gt; sure, that would probably be useful</div>
<div class="line">[Thursday 01 April 2010] [13:43:41] &lt;mikko&gt; especially missing features</div>
<div class="line">[Thursday 01 April 2010] [13:43:44] &lt;Skaag&gt; with choosing rabbitmq prematurely</div>
<div class="line">[Thursday 01 April 2010] [13:43:47] &lt;mikko&gt; brb</div>
<div class="line">[Thursday 01 April 2010] [14:05:15] &lt;sustrik&gt;   mikko: Assertion failed: !engine (session.cpp:263) looks like a bug</div>
<div class="line">[Thursday 01 April 2010] [14:05:26] &lt;sustrik&gt;   any idea how to reproduct it?</div>
<div class="line">[Thursday 01 April 2010] [14:05:41] &lt;mikko&gt; sustrik: yes</div>
<div class="line">[Thursday 01 April 2010] [14:05:44] &lt;sustrik&gt;   reproduce*</div>
<div class="line">[Thursday 01 April 2010] [14:05:45] &lt;mikko&gt; i downgraded to 2.0.6</div>
<div class="line">[Thursday 01 April 2010] [14:05:49] &lt;mikko&gt; when i set IDENTITY</div>
<div class="line">[Thursday 01 April 2010] [14:05:53] &lt;sustrik&gt;   aha</div>
<div class="line">[Thursday 01 April 2010] [14:05:58] &lt;mikko&gt; it happens on second request</div>
<div class="line">[Thursday 01 April 2010] [14:06:06] &lt;mikko&gt; sustrik: btw i got the php bindings running</div>
<div class="line">[Thursday 01 April 2010] [14:06:14] &lt;mikko&gt; also persistent connections should be working</div>
<div class="line">[Thursday 01 April 2010] [14:06:16] &lt;sustrik&gt;   the IDENTITY is set on req or rep?</div>
<div class="line">[Thursday 01 April 2010] [14:06:21] &lt;sustrik&gt;   mikko: great</div>
<div class="line">[Thursday 01 April 2010] [14:06:25] &lt;mikko&gt; REQ</div>
<div class="line">[Thursday 01 April 2010] [14:06:42] &lt;sustrik&gt;   ok, i&#8217;ll give it a try - although after easter holiday</div>
<div class="line">[Thursday 01 April 2010] [14:06:59] &lt;sustrik&gt;   as for the binding, would you like me to link to it from the website?</div>
<div class="line">[Thursday 01 April 2010] [14:07:21] &lt;mikko&gt; that&#8217;s would nice, although it&#8217;s not stable yet</div>
<div class="line">[Thursday 01 April 2010] [14:07:31] &lt;mikko&gt; i guess people understand as its on github</div>
<div class="line">[Thursday 01 April 2010] [14:07:33] &lt;sustrik&gt;   call it &#8220;alpha&#8221;, no?</div>
<div class="line">[Thursday 01 April 2010] [14:07:37] &lt;mikko&gt; <a class="reference external" href="http://github.com/mkoppanen/php-zeromq">http://github.com/mkoppanen/php-zeromq</a></div>
<div class="line">[Thursday 01 April 2010] [14:07:44] &lt;mikko&gt; well, no tags / releases yet</div>
<div class="line">[Thursday 01 April 2010] [14:08:02] &lt;mikko&gt; let me add EXPERIMENTAL file</div>
<div class="line">[Thursday 01 April 2010] [14:08:08] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 01 April 2010] [14:08:50] &lt;mikko&gt; sustrik: i think the earlier epoll issue is related to forks</div>
<div class="line">[Thursday 01 April 2010] [14:09:00] &lt;mikko&gt; context created in parent and accessed in forked child</div>
<div class="line">[Thursday 01 April 2010] [14:09:07] &lt;mikko&gt; i might be mistaken on that</div>
<div class="line">[Thursday 01 April 2010] [14:09:43] &lt;sustrik&gt;   mikko: i am not sure whether that works</div>
<div class="line">[Thursday 01 April 2010] [14:09:49] &lt;sustrik&gt;   never tried it myself</div>
<div class="line">[Thursday 01 April 2010] [14:10:02] &lt;mikko&gt; i think that&#8217;s what i ended up with php module running in apache</div>
<div class="line">[Thursday 01 April 2010] [14:10:15] &lt;mikko&gt; i moved the context creation &#8216;per object&#8217; and all my problems went away</div>
<div class="line">[Thursday 01 April 2010] [14:10:35] &lt;sustrik&gt;   in any case it&#8217;s more clean solution</div>
<div class="line">[Thursday 01 April 2010] [14:10:45] &lt;mikko&gt; btw, zmq_msg_t seems to be empty after it&#8217;s been sent. is that due to possible async sending where everything is not sent on one go?</div>
<div class="line">[Thursday 01 April 2010] [14:10:47] &lt;Skaag&gt; very nice</div>
<div class="line">[Thursday 01 April 2010] [14:10:49] &lt;sustrik&gt;   context basically represents &#8220;library instance&#8221;</div>
<div class="line">[Thursday 01 April 2010] [14:11:38] &lt;sustrik&gt;   mikko: it&#8217;s a performance issue</div>
<div class="line">[Thursday 01 April 2010] [14:11:49] &lt;sustrik&gt;   if the message was retained</div>
<div class="line">[Thursday 01 April 2010] [14:12:01] &lt;sustrik&gt;   there would have to be a reference count attached to it</div>
<div class="line">[Thursday 01 April 2010] [14:12:17] &lt;sustrik&gt;   (one reference from sending I/O thread, other from client&#8217;s thread)</div>
<div class="line">[Thursday 01 April 2010] [14:12:32] &lt;sustrik&gt;   the refcount would have to be manipulated using atomic operations</div>
<div class="line">[Thursday 01 April 2010] [14:12:39] &lt;sustrik&gt;   those are pretty expensive</div>
<div class="line">[Thursday 01 April 2010] [14:12:50] &lt;mikko&gt; ok, now i get it</div>
<div class="line">[Thursday 01 April 2010] [14:12:56] &lt;sustrik&gt;   however, if you need to retain the message, there&#8217;s zmq_msg_copy</div>
<div class="line">[Thursday 01 April 2010] [14:13:04] &lt;sustrik&gt;   just copy it before sending</div>
<div class="line">[Thursday 01 April 2010] [14:14:03] &lt;mikko&gt; i would think copy is as expensive as initing a new one?</div>
<div class="line">[Thursday 01 April 2010] [14:14:35] &lt;mikko&gt; ah</div>
<div class="line">[Thursday 01 April 2010] [14:14:40] &lt;mikko&gt; reading man pages</div>
<div class="line">[Thursday 01 April 2010] [14:14:47] &lt;sustrik&gt;   no, there&#8217;s ref count turned on in such case</div>
<div class="line">[Thursday 01 April 2010] [14:14:53] &lt;sustrik&gt;   so it doens&#8217;t really copy the data</div>
<div class="line">[Thursday 01 April 2010] [14:15:52] &lt;mikko&gt; one thing i noticed here: <a class="reference external" href="http://api.zeromq.org/zmq_setsockopt.html">http://api.zeromq.org/zmq_setsockopt.html</a></div>
<div class="line">[Thursday 01 April 2010] [14:15:52] &lt;sustrik&gt;   mikko: ok, go here:</div>
<div class="line">[Thursday 01 April 2010] [14:15:53] &lt;sustrik&gt;   <a class="reference external" href="http://www.zeromq.org/bindings:php">http://www.zeromq.org/bindings:php</a></div>
<div class="line">[Thursday 01 April 2010] [14:15:58] &lt;mikko&gt; Setting I/O thread affinity</div>
<div class="line">[Thursday 01 April 2010] [14:16:05] &lt;sustrik&gt;   i&#8217;ve copied the text from python binding</div>
<div class="line">[Thursday 01 April 2010] [14:16:11] &lt;mikko&gt; it passes 2 as the parameter</div>
<div class="line">[Thursday 01 April 2010] [14:16:25] &lt;sustrik&gt;   create an account on the website and you may modify it as you see fit</div>
<div class="line">[Thursday 01 April 2010] [14:16:25] &lt;mikko&gt; which causes zmq to crash</div>
<div class="line">[Thursday 01 April 2010] [14:16:33] &lt;mikko&gt; thanks!</div>
<div class="line">[Thursday 01 April 2010] [14:16:36] &lt;sustrik&gt;   np</div>
<div class="line">[Thursday 01 April 2010] [14:16:54] &lt;sustrik&gt;   let me know your login so I can grant you write access btq</div>
<div class="line">[Thursday 01 April 2010] [14:16:57] &lt;sustrik&gt;   btw</div>
<div class="line">[Thursday 01 April 2010] [14:17:41] &lt;sustrik&gt;   as for the crash, does it crash in zmq_setsockopt itself?</div>
<div class="line">[Thursday 01 April 2010] [14:17:46] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 01 April 2010] [14:17:51] &lt;sustrik&gt;   segfault?</div>
<div class="line">[Thursday 01 April 2010] [14:18:04] &lt;mikko&gt; invalid read size of 8 (on my arch)</div>
<div class="line">[Thursday 01 April 2010] [14:18:11] &lt;mikko&gt; probably due to it expecting a pointer</div>
<div class="line">[Thursday 01 April 2010] [14:18:20] &lt;sustrik&gt;   yes, it expects a pointer</div>
<div class="line">[Thursday 01 April 2010] [14:18:38] &lt;sustrik&gt;   it similar to standard POSIX setsockopt</div>
<div class="line">[Thursday 01 April 2010] [14:18:58] &lt;mikko&gt; the example passes: rc = zmq_setsockopt (socket, ZMQ_AFFINITY, 2, sizeof (int64_t));</div>
<div class="line">[Thursday 01 April 2010] [14:19:15] &lt;sustrik&gt;   coincidence</div>
<div class="line">[Thursday 01 April 2010] [14:19:22] &lt;sustrik&gt;   it should look like this:</div>
<div class="line">[Thursday 01 April 2010] [14:19:30] &lt;sustrik&gt;   int64_t affinity =2;</div>
<div class="line">[Thursday 01 April 2010] [14:19:51] &lt;sustrik&gt;   zmq_setsockopt (s, ZMQ_AFFINITY, &amp;affinity, sizeof (affinity));</div>
<div class="line">[Thursday 01 April 2010] [14:20:00] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 01 April 2010] [14:20:14] &lt;mikko&gt; seems like all other examples are correct (camera, chat etc)</div>
<div class="line">[Thursday 01 April 2010] [14:20:42] &lt;mikko&gt; i seem to have a wikidot account already</div>
<div class="line">[Thursday 01 April 2010] [14:20:44] &lt;mikko&gt; &#8216;mkoppanen&#8217;</div>
<div class="line">[Thursday 01 April 2010] [14:20:49] &lt;sustrik&gt;   wait a sec</div>
<div class="line">[Thursday 01 April 2010] [14:20:56] &lt;mikko&gt; it must be because liblqr was hosted on wikidot</div>
<div class="line">[Thursday 01 April 2010] [14:21:00] &lt;mikko&gt; the website</div>
<div class="line">[Thursday 01 April 2010] [14:21:20] &lt;Skaag&gt; I never had one, made it now</div>
<div class="line">[Thursday 01 April 2010] [14:21:55] &lt;sustrik&gt;   Skaag: you want access too?</div>
<div class="line">[Thursday 01 April 2010] [14:22:00] &lt;Skaag&gt; sure</div>
<div class="line">[Thursday 01 April 2010] [14:22:05] &lt;sustrik&gt;   mikko: you are invited</div>
<div class="line">[Thursday 01 April 2010] [14:22:14] &lt;sustrik&gt;   jst accept and you can alter the page</div>
<div class="line">[Thursday 01 April 2010] [14:22:21] &lt;Skaag&gt; I&#8217;ll probably mostly fix typos if I find them, or rephrase sentences to clarify</div>
<div class="line">[Thursday 01 April 2010] [14:22:41] &lt;Skaag&gt; and maybe contribute some code samples, if applicable</div>
<div class="line">[Thursday 01 April 2010] [14:22:55] &lt;Skaag&gt; I&#8217;m &#8216;skaag&#8217; on wikidot</div>
<div class="line">[Thursday 01 April 2010] [14:23:00] &lt;sustrik&gt;   Skaag: you are working on PHP as well?</div>
<div class="line">[Thursday 01 April 2010] [14:23:12] &lt;Skaag&gt; PHP, C++ and Java</div>
<div class="line">[Thursday 01 April 2010] [14:23:41] &lt;sustrik&gt;   ok, feel free to change the page of the binding you are working on</div>
<div class="line">[Thursday 01 April 2010] [14:23:47] &lt;Skaag&gt; thanks</div>
<div class="line">[Thursday 01 April 2010] [14:23:53] &lt;sustrik&gt;   however, when changing generic content first discuss it on thr mailing listy</div>
<div class="line">[Thursday 01 April 2010] [14:24:31] &lt;sustrik&gt;   Skaag: you are invited</div>
<div class="line">[Thursday 01 April 2010] [14:25:41] &lt;Skaag&gt; awesome</div>
<div class="line">[Thursday 01 April 2010] [14:25:53] &lt;Skaag&gt; I assume you copied the python page content to the php binding page for convenience?</div>
<div class="line">[Thursday 01 April 2010] [14:28:06] &lt;sustrik&gt;   Skaag: yes, to give you a template</div>
<div class="line">[Thursday 01 April 2010] [14:28:14] &lt;Skaag&gt; awesome. it&#8217;s helpful.</div>
<div class="line">[Thursday 01 April 2010] [14:28:15] &lt;sustrik&gt;   however, feel free to modify it in any way</div>
<div class="line">[Thursday 01 April 2010] [14:28:41] &lt;sustrik&gt;   once you have something ready ping me and I&#8217;ll link your page from the main page</div>
<div class="line">[Thursday 01 April 2010] [14:29:29] &lt;mikko&gt; will do</div>
<div class="line">[Thursday 01 April 2010] [14:29:31] &lt;mikko&gt; thanks a lot</div>
<div class="line">[Thursday 01 April 2010] [16:35:06] &lt;sustrik&gt;   mikko: still there?</div>
<div class="line">[Thursday 01 April 2010] [16:41:19] &lt;mikko&gt; sustrik: yes</div>
<div class="line">[Thursday 01 April 2010] [18:15:00] &lt;mikko&gt; initial round on docs <a class="reference external" href="http://www.zeromq.org/bindings:php">http://www.zeromq.org/bindings:php</a></div>
<div class="line">[Thursday 01 April 2010] [18:15:20] &lt;mikko&gt; at least doesnt say py0MQ anymore :)</div>
<div class="line">[Thursday 01 April 2010] [18:15:50] &lt;Skaag&gt; awesome work</div>
<div class="line">[Thursday 01 April 2010] [18:15:55] &lt;Skaag&gt; I will test and give feedback</div>
<div class="line">[Thursday 01 April 2010] [20:24:39] &lt;mikko&gt; Skaag: <a class="reference external" href="http://wiki.github.com/mkoppanen/php-zeromq/api-documentation">http://wiki.github.com/mkoppanen/php-zeromq/api-documentation</a></div>
<div class="line">[Thursday 01 April 2010] [20:24:42] &lt;mikko&gt; initial api docs</div>
<div class="line">[Thursday 01 April 2010] [20:24:46] &lt;mikko&gt; getting a bit late</div>
<div class="line">[Thursday 01 April 2010] [21:03:55] &lt;dermoth&gt;   mikko, I am myself working on a php binding, but i&#8217;m focusing on the procedural interface with access to persistent sockets and thread safety... I wasn&#8217;t planning an OO interface.</div>
<div class="line">[Thursday 01 April 2010] [21:05:08] &lt;dermoth&gt;   mikko, persistence is very important for what I want as I will send data in short-lived request and expect best-effort delivery while the SAPI is running...</div>
<div class="line">[Thursday 01 April 2010] [21:07:13] &lt;dermoth&gt;   mikko, I haven&#8217;t written much code yet but I&#8217;ve already read nearly half a book on php extentions and was planning to start real coding very soon... i&#8217;m wondering if you&#8217;d like any help from me...</div>
<div class="line">[Thursday 01 April 2010] [21:11:49] &lt;dermoth&gt;   hummm I see you have persistence too. I was thinking of doing it explicitly though, with an optional key to allow re-using unique contexts, sockets, etc.</div>
<div class="line">[Thursday 01 April 2010] [21:17:30] &lt;mikko&gt; dermoth: in my case context is always tied to ZeroMQSocket object</div>
<div class="line">[Thursday 01 April 2010] [21:17:50] &lt;mikko&gt; and the ZeroMQSocket is stored with persistent_id</div>
<div class="line">[Thursday 01 April 2010] [21:18:13] &lt;mikko&gt; i didn&#8217;t see much point for multiple threads as there is no userland threading in php</div>
<div class="line">[Thursday 01 April 2010] [21:19:48] &lt;mikko&gt; dermoth: hmmm.. what was the idea behind using contexts explicitly?</div>
<div class="line">[Thursday 01 April 2010] [21:20:05] &lt;mikko&gt; allow setting thread counts and choose different context for a socket?</div>
<div class="line">[Thursday 01 April 2010] [21:20:09] &lt;dermoth&gt;   mikko, this would be my first module, but I was trying to do everything the right way... do you think it would be worth completing it then we can take the best of both? I&#8217;ve also been told OO interface are often built on top or procedural extentions...</div>
<div class="line">[Thursday 01 April 2010] [21:20:27] &lt;dermoth&gt;   mikko, at first I just wanted proper thread separation</div>
<div class="line">[Thursday 01 April 2010] [21:20:46] &lt;dermoth&gt;   i.e. each thread acting as a standalone process</div>
<div class="line">[Thursday 01 April 2010] [21:21:20] &lt;dermoth&gt;   ZMQ sockets cannot be shared anyway, even with locking (according to the api dioc) so only the xcontext could be shared, it there&#8217;s any advantage with that.</div>
<div class="line">[Thursday 01 April 2010] [21:21:22] &lt;mikko&gt; which threads?</div>
<div class="line">[Thursday 01 April 2010] [21:21:44] &lt;dermoth&gt;   mpm_worker for example...</div>
<div class="line">[Thursday 01 April 2010] [21:22:15] &lt;mikko&gt; i&#8217;m not that fuzzed about php + threading as large amounts of libraries php interacts with are not thread-safe</div>
<div class="line">[Thursday 01 April 2010] [21:22:22] &lt;dermoth&gt;   and before you ask the fact that many modules still crash in mpm_worker doesn&#8217;t mean a new module don&#8217;t need to be thread-safe ;)</div>
<div class="line">[Thursday 01 April 2010] [21:22:34] &lt;mikko&gt; and with large amounts of globals state the threaded version of php is often slower than single proces</div>
<div class="line">[Thursday 01 April 2010] [21:22:35] &lt;dermoth&gt;   awww you asked! :)</div>
<div class="line">[Thursday 01 April 2010] [21:22:45] &lt;mikko&gt; globals=global</div>
<div class="line">[Thursday 01 April 2010] [21:22:51] &lt;dermoth&gt;   yeah I know</div>
<div class="line">[Thursday 01 April 2010] [21:23:09] &lt;dermoth&gt;   but i beliebe it&#8217;s still the best wai under IIS  though</div>
<div class="line">[Thursday 01 April 2010] [21:23:31] &lt;dermoth&gt;   I believe it&#8217;s still the best way...</div>
<div class="line">[Thursday 01 April 2010] [21:23:32] &lt;mikko&gt; i think microsoft is now recommending fcgi since IIS7</div>
<div class="line">[Thursday 01 April 2010] [21:23:39] &lt;dermoth&gt;   really?</div>
<div class="line">[Thursday 01 April 2010] [21:23:43] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 01 April 2010] [21:23:53] &lt;dermoth&gt;   I though fcgi was nearly dead...</div>
<div class="line">[Thursday 01 April 2010] [21:23:56] &lt;mikko&gt; most of their php related development efforts seem to go to fcgi</div>
<div class="line">[Thursday 01 April 2010] [21:24:44] &lt;dermoth&gt;   any chances they fear php competing their .NET market?</div>
<div class="line">[Thursday 01 April 2010] [21:24:48] &lt;dermoth&gt;   lol</div>
<div class="line">[Thursday 01 April 2010] [21:24:50] &lt;mikko&gt; ISAPI is faster but less stable</div>
<div class="line">[Thursday 01 April 2010] [21:25:05] &lt;dermoth&gt;   yes, but that&#8217;s only because of php</div>
<div class="line">[Thursday 01 April 2010] [21:25:24] &lt;dermoth&gt;   fix php and isapi will be much better, imho</div>
<div class="line">[Thursday 01 April 2010] [21:25:26] &lt;mikko&gt; well, by definition native SAPI is always going to be faster</div>
<div class="line">[Thursday 01 April 2010] [21:25:46] &lt;mikko&gt; fix php and libraries that it uses</div>
<div class="line">[Thursday 01 April 2010] [21:26:00] &lt;dermoth&gt;   yes...</div>
<div class="line">[Thursday 01 April 2010] [21:27:21] &lt;dermoth&gt;   back to php-zeromq, itn&#8217;t it would be wasteful of resources to have one context per socket, when an application use many sockets?</div>
<div class="line">[Thursday 01 April 2010] [21:29:00] &lt;mikko&gt; but the sockets are persisted so the context is created only once</div>
<div class="line">[Thursday 01 April 2010] [21:29:20] &lt;mikko&gt; i had problems allocating the context globally</div>
<div class="line">[Thursday 01 April 2010] [21:29:48] &lt;mikko&gt; i think the persistence should use EG(persistent_list) instead of random hashtable though</div>
<div class="line">[Thursday 01 April 2010] [21:30:15] &lt;dermoth&gt;   I was wondering, in a threaded environment, if there would be any advantage to have a single context shared amongst threads. but anyway my plan was to have contexts handled by the php code like in the c and python APIs that I use already.</div>
<div class="line">[Thursday 01 April 2010] [21:32:35] &lt;dermoth&gt;   and make persistence explicit trough separate function or optional arguments - persistent contexts/sockets would also have an associated key so that could could have separate persistent sockets going to the same endpoint - and same soe ctx.</div>
<div class="line">[Thursday 01 April 2010] [21:33:36] &lt;dermoth&gt;   I&#8217;m not sure how useful this is but I fear trouble when multiple application start doing advanced things using the same sockets...</div>
<div class="line">[Thursday 01 April 2010] [21:34:27] &lt;dermoth&gt;   ex what if cone app gets a rep intended for another...</div>
<div class="line">[Thursday 01 April 2010] [21:35:21] &lt;mikko&gt; but that&#8217;s always going to be problematic if you run in a shared environment</div>
<div class="line">[Thursday 01 April 2010] [21:36:05] &lt;dermoth&gt;   yes, but at least I planned an api that allow explicit separation...</div>
<div class="line">[Thursday 01 April 2010] [21:36:30] &lt;mikko&gt; explicit separation of sockets?</div>
<div class="line">[Thursday 01 April 2010] [21:38:08] &lt;dermoth&gt;   ex: zmq_socket_p($context, $type [, $key]);</div>
<div class="line">[Thursday 01 April 2010] [21:38:52] &lt;mikko&gt; the only difference is that it allows setting context excplicitly</div>
<div class="line">[Thursday 01 April 2010] [21:38:59] &lt;mikko&gt; i guess that would make sense in some scenarios</div>
<div class="line">[Thursday 01 April 2010] [21:40:35] &lt;dermoth&gt;   I think we should mimic the zmq api as much as possible. There&#8217;s a reason behind its design, alter all. copying it gives as much versatility to the language it&#8217;s being bound to</div>
<div class="line">[Thursday 01 April 2010] [21:42:26] &lt;dermoth&gt;   and adding to it where it makes sense, like adding optional persistence to php to accommodate  get general workflow in web servers...</div>
<div class="line">[Thursday 01 April 2010] [21:44:40] &lt;mikko&gt; not sure how much the threading makes sense without userland threading</div>
<div class="line">[Thursday 01 April 2010] [21:44:44] &lt;mikko&gt; which C and python have</div>
<div class="line">[Thursday 01 April 2010] [21:49:12] &lt;dermoth&gt;   python threading isn&#8217;t so much better... although at least it doesn&#8217;t crash ;)</div>
<div class="line">[Thursday 01 April 2010] [21:50:52] &lt;mikko&gt; and there is a difference between userland threading and engine level threading</div>
<div class="line">[Thursday 01 April 2010] [21:51:08] &lt;mikko&gt; to the users point of view php is always &#8216;single threaded&#8217;</div>
<div class="line">[Thursday 01 April 2010] [21:51:27] &lt;dermoth&gt;   yea...  by thread-safe I mean separating the threads so that they don&#8217;t clobber each-other</div>
<div class="line">[Thursday 01 April 2010] [21:51:30] &lt;dermoth&gt;   yes</div>
<div class="line">[Thursday 01 April 2010] [21:52:32] &lt;dermoth&gt;   i.e. instead of declaring statics, you have to use macros so that the threaded-version will allocate per-thread structures in a hash.</div>
<div class="line">[Thursday 01 April 2010] [21:52:48] &lt;dermoth&gt;   without zts, though, the macros evaluate to a simple static</div>
<div class="line">[Thursday 01 April 2010] [21:54:59] &lt;dermoth&gt;   ok maybe I will get back to coding then, and than we can see what comes out.</div>
<div class="line">[Thursday 01 April 2010] [21:55:43] &lt;mikko&gt; but still, i don&#8217;t get what the point of having different contexts would be</div>
<div class="line">[Thursday 01 April 2010] [21:55:51] &lt;mikko&gt; as you would store those into resource lists</div>
<div class="line">[Thursday 01 April 2010] [21:55:56] &lt;mikko&gt; which would be shared between threads</div>
<div class="line">[Thursday 01 April 2010] [21:56:02] &lt;mikko&gt; and you end up into same problem</div>
<div class="line">[Thursday 01 April 2010] [21:56:03] &lt;dermoth&gt;   no</div>
<div class="line">[Thursday 01 April 2010] [21:56:11] &lt;dermoth&gt;   now shared between threads</div>
<div class="line">[Thursday 01 April 2010] [21:56:14] &lt;dermoth&gt;   not</div>
<div class="line">[Thursday 01 April 2010] [21:56:43] &lt;dermoth&gt;   each thread will have its own contextes...</div>
<div class="line">[Thursday 01 April 2010] [21:57:15] &lt;mikko&gt; yes, i tried allocating context in GINIT phase but it seemed to mess up everything</div>
<div class="line">[Thursday 01 April 2010] [21:57:50] &lt;mikko&gt; GINIT should be called per globals invocation, on single process when the process starts and with threading when a thread starts</div>
<div class="line">[Thursday 01 April 2010] [21:58:10] &lt;dermoth&gt;   contexts will be initialized on demand</div>
<div class="line">[Thursday 01 April 2010] [21:58:34] &lt;dermoth&gt;   i will expost zmw_init and zmq_init_p to userland...</div>
<div class="line">[Thursday 01 April 2010] [21:58:34] &lt;mikko&gt; where do you store them internally?</div>
<div class="line">[Thursday 01 April 2010] [21:59:11] &lt;dermoth&gt;   in EG(persistent_list)</div>
<div class="line">[Thursday 01 April 2010] [21:59:26] &lt;mikko&gt; i thought persistent_list is shared between threads</div>
<div class="line">[Thursday 01 April 2010] [21:59:46] &lt;mikko&gt; i might be wrong on that though</div>
<div class="line">[Thursday 01 April 2010] [21:59:50] &lt;dermoth&gt;   is it? you can add the thread_id in that case...</div>
<div class="line">[Thursday 01 April 2010] [22:00:12] &lt;dermoth&gt;   but i hope not as it would all lots of useless locking...</div>
<div class="line">[Thursday 01 April 2010] [22:00:17] &lt;dermoth&gt;   would add</div>
<div class="line">[Thursday 01 April 2010] [22:01:10] &lt;dermoth&gt;   and worst case i&#8217;m just enclose a die between #ifdef ZTS :p</div>
<div class="line">[Thursday 01 April 2010] [22:01:29] &lt;mikko&gt; no, it has to be thread-safe</div>
<div class="line">[Thursday 01 April 2010] [22:01:30] &lt;dermoth&gt;   problem solved...</div>
<div class="line">[Thursday 01 April 2010] [22:01:34] &lt;dermoth&gt;   lol</div>
<div class="line">[Thursday 01 April 2010] [22:01:41] &lt;mikko&gt; executor globals contains stuff like user erorr handlers</div>
<div class="line">[Thursday 01 April 2010] [22:01:43] &lt;mikko&gt; and so on</div>
<div class="line">[Thursday 01 April 2010] [22:01:48] &lt;mikko&gt; they couldn&#8217;t be shared between threads</div>
<div class="line">[Thursday 01 April 2010] [22:02:11] &lt;mikko&gt; so effectively my implementation is fairly thread-safe then</div>
<div class="line">[Thursday 01 April 2010] [22:02:20] &lt;mikko&gt; you live you learn :)</div>
<div class="line">[Thursday 01 April 2010] [22:03:07] &lt;dermoth&gt;   my primary goal is learning anyway... if it might be useful it&#8217;s a plug :)</div>
<div class="line">[Thursday 01 April 2010] [22:03:09] &lt;dermoth&gt;   plus</div>
<div class="line">[Thursday 01 April 2010] [22:03:28] &lt;mikko&gt; yes, i think combined procedural + oo is very good for learning</div>
<div class="line">[Thursday 01 April 2010] [22:03:38] &lt;mikko&gt; you can probably learn alot from pecl/memcache</div>
<div class="line">[Thursday 01 April 2010] [22:03:47] &lt;mikko&gt; or ext/mysqli</div>
<div class="line">[Thursday 01 April 2010] [22:04:04] &lt;dermoth&gt;   awwww I prefer not to think about oo just yet...</div>
<div class="line">[Thursday 01 April 2010] [22:04:32] &lt;dermoth&gt;   i don&#8217;t even code PHP! Actually I manage to write simple scripts but that&#8217;S all...</div>
<div class="line">[Thursday 01 April 2010] [22:05:13] &lt;mikko&gt; if the context is in a single thread does it make sense to allocate more than 1 app thread and 1 io thread?</div>
<div class="line">[Thursday 01 April 2010] [22:05:22] &lt;dermoth&gt;   i&#8217;m not the one that the use it... I&#8217;m the sysadmin</div>
<div class="line">[Thursday 01 April 2010] [22:05:50] &lt;dermoth&gt;   the contex threads are on the library side</div>
<div class="line">[Thursday 01 April 2010] [22:06:00] &lt;dermoth&gt;   the library use threading internally</div>
<div class="line">[Thursday 01 April 2010] [22:07:18] &lt;dermoth&gt;   so yes, someone might want to set more threads if that&#8217;s the only way to squeeze the last bits of performance out of his cpu cores...</div>
<div class="line">[Thursday 01 April 2010] [22:07:43] &lt;dermoth&gt;   but I have doubts this would apply to php...</div>
<div class="line">[Thursday 01 April 2010] [22:09:32] &lt;dermoth&gt;   it&#8217;s like putting a huge truck engine on a f1... the vehicle it fast but the engine won&#8217;t allow it!</div>
<div class="line">[Thursday 01 April 2010] [22:11:42] &lt;dermoth&gt;   i might rip your header... is that the &#8220;standard&#8221; php extention header?</div>
<div class="line">[Thursday 01 April 2010] [22:12:08] &lt;dermoth&gt;   i mean the copyright block...</div>
<div class="line">[Thursday 01 April 2010] [22:16:37] &lt;mikko&gt; nope</div>
<div class="line">[Thursday 01 April 2010] [22:16:40] &lt;mikko&gt; thats the BSD license</div>
<div class="line">[Thursday 01 April 2010] [22:17:21] &lt;mikko&gt; normally the PHP stuff is under PHP license</div>
<div class="line">[Thursday 01 April 2010] [22:17:44] &lt;mikko&gt; the stuff in php.net at least</div>
<div class="line">[Thursday 01 April 2010] [22:18:23] &lt;dermoth&gt;   and it  that more like LGPL?</div>
<div class="line">[Thursday 01 April 2010] [22:19:16] &lt;mikko&gt; <a class="reference external" href="http://en.wikipedia.org/wiki/BSD_licenses#3">http://en.wikipedia.org/wiki/BSD_licenses#3</a>-<a href="#id204"><span class="problematic" id="id205">clause_license_</span></a>.28.22New_BSD_License.22.29</div>
<div class="line">[Thursday 01 April 2010] [22:19:29] &lt;dermoth&gt;   no, the php license</div>
<div class="line">[Thursday 01 April 2010] [22:19:51] &lt;mikko&gt; the only difference between PHP license and BSD license is that PHP license has a naming clause</div>
<div class="line">[Thursday 01 April 2010] [22:20:07] &lt;mikko&gt; <a class="reference external" href="http://www.php.net/license/3_01.txt">http://www.php.net/license/3_01.txt</a></div>
<div class="line">[Thursday 01 April 2010] [22:20:10] &lt;mikko&gt; see 4th clause</div>
<div class="line">[Thursday 01 April 2010] [22:20:26] &lt;dermoth&gt;   ok, like the 3-clause BSD</div>
<div class="line">[Thursday 01 April 2010] [22:22:09] &lt;mikko&gt; added an ini-setting for setting thread counts</div>
<div class="line">[Thursday 01 April 2010] [22:23:13] &lt;dermoth&gt;   so technically php-zeromq wouldn&#8217;t even be allowed without permission!</div>
<div class="line">[Thursday 01 April 2010] [22:24:19] &lt;mikko&gt; that&#8217;s just the name of the repository</div>
<div class="line">[Thursday 01 April 2010] [22:24:26] &lt;mikko&gt; the product is not called &#8216;php-zeromq&#8217;</div>
<div class="line">[Thursday 01 April 2010] [22:26:35] &lt;mikko&gt; committed a fix to the header to indicate it more clearly :)</div>
<div class="line">[Thursday 01 April 2010] [22:27:14] &lt;dermoth&gt;   i see... i&#8217;m not saying that they would though, but packaging it in something like php-zeromq-x.xx.tar.gz would be very borderline...</div>
<div class="line">[Thursday 01 April 2010] [22:28:39] &lt;mikko&gt; it&#8217;s just to clarify on github as there is &#8220;zeromq2&#8221; project already and the language isn&#8217;t really clear from the context</div>
<div class="line">[Thursday 01 April 2010] [22:29:56] &lt;mikko&gt; i&#8217;m done, 18 hours straight coding is enough for a day</div>
<div class="line">[Thursday 01 April 2010] [22:30:13] &lt;mikko&gt; good night and good luck with your php expedition</div>
<div class="line">[Friday 02 April 2010] [02:21:08] &lt;desrt&gt;   hello.</div>
<div class="line">[Friday 02 April 2010] [02:22:26] &lt;desrt&gt;   what&#8217;s the amqp story?</div>
<div class="line">[Friday 02 April 2010] [02:25:05] &lt;desrt&gt;   hm.  i&#8217;ll be back tomorrow. :)</div>
<div class="line">[Friday 02 April 2010] [02:31:04] &lt;sustrik&gt; desrt: no big deal, imatix has no stakes in amqp anymore so it&#8217;s leaving the amqp working group</div>
<div class="line">[Friday 02 April 2010] [02:52:02] &lt;sustrik&gt; dermoth, mikko: what about bringing the issue of explicit/implicit context in PHP on the mailing list?</div>
<div class="line">[Friday 02 April 2010] [02:52:37] &lt;sustrik&gt; i belive other languages with limited thread support (python? ruby?) are facing the same dilemma</div>
<div class="line">[Friday 02 April 2010] [02:53:48] &lt;dermoth&gt; sustrik, sure... I&#8217;d like to have something at least partially working first though :)</div>
<div class="line">[Friday 02 April 2010] [02:54:17] &lt;dermoth&gt; talking about amqp, why was support for it dropped, I though that was a really nice feature</div>
<div class="line">[Friday 02 April 2010] [02:54:35] &lt;dermoth&gt; no patent should cover the basic functionality anyway...</div>
<div class="line">[Friday 02 April 2010] [02:57:21] &lt;sustrik&gt; hm, it&#8217;s a long story...</div>
<div class="line">[Friday 02 April 2010] [02:57:53] &lt;sustrik&gt; basically the participation in WG was pain</div>
<div class="line">[Friday 02 April 2010] [02:58:14] &lt;sustrik&gt; it&#8217;s a design-by-committee thing so it&#8217;s political rather than technical</div>
<div class="line">[Friday 02 April 2010] [02:58:38] &lt;sustrik&gt; furthermore, the resulting design is extremely complex</div>
<div class="line">[Friday 02 April 2010] [02:58:42] &lt;dermoth&gt; I couldn&#8217;t find much about it exceps some obscure &#8220;patent&#8221; issue, but I really liked the feature for one thing I had in mind...</div>
<div class="line">[Friday 02 April 2010] [02:58:53] &lt;sustrik&gt; so making it work is really costly</div>
<div class="line">[Friday 02 April 2010] [02:59:33] &lt;sustrik&gt; so you have to invest in political fight in the working group as well as in implementation</div>
<div class="line">[Friday 02 April 2010] [02:59:34] &lt;dermoth&gt; there is no standard yet?</div>
<div class="line">[Friday 02 April 2010] [02:59:41] &lt;sustrik&gt; several versions</div>
<div class="line">[Friday 02 April 2010] [02:59:48] &lt;sustrik&gt; mutually incompatible :)</div>
<div class="line">[Friday 02 April 2010] [02:59:52] &lt;dermoth&gt; backward-compatible?</div>
<div class="line">[Friday 02 April 2010] [02:59:56] &lt;sustrik&gt; nope</div>
<div class="line">[Friday 02 April 2010] [02:59:56] &lt;dermoth&gt; ouch</div>
<div class="line">[Friday 02 April 2010] [03:00:06] &lt;sustrik&gt; design-be-committee</div>
<div class="line">[Friday 02 April 2010] [03:00:16] &lt;sustrik&gt; anyway, so you are investing a lot in the thing</div>
<div class="line">[Friday 02 April 2010] [03:00:37] &lt;sustrik&gt; and then you find out the partners are patenting around of the standard</div>
<div class="line">[Friday 02 April 2010] [03:00:45] &lt;sustrik&gt; so you get mad and quit</div>
<div class="line">[Friday 02 April 2010] [03:00:55] &lt;sustrik&gt; that&#8217;s basically it</div>
<div class="line">[Friday 02 April 2010] [03:01:03] &lt;dermoth&gt; so could it possibly be re-implemented if the WG settles on a final protocol?</div>
<div class="line">[Friday 02 April 2010] [03:01:16] &lt;sustrik&gt; you&#8217;ve seen the specification?</div>
<div class="line">[Friday 02 April 2010] [03:01:19] &lt;dermoth&gt; no</div>
<div class="line">[Friday 02 April 2010] [03:01:21] &lt;dermoth&gt; lol</div>
<div class="line">[Friday 02 April 2010] [03:01:23] &lt;sustrik&gt; latest version is 270 pages long</div>
<div class="line">[Friday 02 April 2010] [03:01:32] &lt;sustrik&gt; who&#8217;s going to pay for that?</div>
<div class="line">[Friday 02 April 2010] [03:01:38] &lt;dermoth&gt; yes but I guess you don&#8217;t need all of it...</div>
<div class="line">[Friday 02 April 2010] [03:02:03] &lt;sustrik&gt; hm, i think that&#8217;s the basic spec, let me check...</div>
<div class="line">[Friday 02 April 2010] [03:02:12] &lt;dermoth&gt; nm</div>
<div class="line">[Friday 02 April 2010] [03:03:32] &lt;dermoth&gt; well anyway it wouldn&#8217;t be hard to add a glue to it... write a piece of code that use both APIs.</div>
<div class="line">[Friday 02 April 2010] [03:04:36] &lt;dermoth&gt; like the zmq devices...</div>
<div class="line">[Friday 02 April 2010] [03:04:36] &lt;sustrik&gt; they&#8217;ve got it down to 106 pages, but it&#8217;s core spec, you have to implement it all</div>
<div class="line">[Friday 02 April 2010] [03:04:50] &lt;sustrik&gt; well, you can try</div>
<div class="line">[Friday 02 April 2010] [03:05:01] &lt;sustrik&gt; but it&#8217;s not as easy as it seems</div>
<div class="line">[Friday 02 April 2010] [03:05:11] &lt;sustrik&gt; let me explain</div>
<div class="line">[Friday 02 April 2010] [03:05:13] &lt;dermoth&gt; i&#8217;l talking of using an existing library...</div>
<div class="line">[Friday 02 April 2010] [03:05:36] &lt;sustrik&gt; something like a bridge?</div>
<div class="line">[Friday 02 April 2010] [03:05:39] &lt;dermoth&gt; yes</div>
<div class="line">[Friday 02 April 2010] [03:05:45] &lt;sustrik&gt; yes, that&#8217;s doable</div>
<div class="line">[Friday 02 April 2010] [03:06:02] &lt;dermoth&gt; like a forwarded that use both zmq and an AMQP lib, like RabbitMQ</div>
<div class="line">[Friday 02 April 2010] [03:06:20] &lt;sustrik&gt; yes that makes sense</div>
<div class="line">[Friday 02 April 2010] [03:06:21] &lt;dermoth&gt; a forwarder</div>
<div class="line">[Friday 02 April 2010] [03:06:39] &lt;sustrik&gt; combine rabbitma C client with 0MQ devices</div>
<div class="line">[Friday 02 April 2010] [03:06:45] &lt;sustrik&gt; rabbitmq*</div>
<div class="line">[Friday 02 April 2010] [03:07:15] &lt;sustrik&gt; if there&#8217;s an Erlang binding to 0MQ</div>
<div class="line">[Friday 02 April 2010] [03:07:33] &lt;sustrik&gt; you would be even able to create a &#8220;custome exchange&#8221; in rabbitmq server</div>
<div class="line">[Friday 02 April 2010] [03:07:41] &lt;sustrik&gt; that would publish messages in 0MQ format</div>
<div class="line">[Friday 02 April 2010] [03:07:47] &lt;dermoth&gt; I think rabbitmq had sifferent binding, including python</div>
<div class="line">[Friday 02 April 2010] [03:08:05] &lt;sustrik&gt; yes, it does</div>
<div class="line">[Friday 02 April 2010] [03:08:19] &lt;dermoth&gt; or could be another broker, but I remember I tested some stuff with python</div>
<div class="line">[Friday 02 April 2010] [03:08:51] &lt;sustrik&gt; i think it&#8217;s real python AMQP client</div>
<div class="line">[Friday 02 April 2010] [03:10:48] &lt;dermoth&gt; But in about the same time I found an usable AMQP API I already has finished a working client/server test with ZeroMQ... that&#8217;s what I like about it :)</div>
<div class="line">[Friday 02 April 2010] [03:11:06] &lt;dermoth&gt; had</div>
<div class="line">[Friday 02 April 2010] [03:11:06] &lt;sustrik&gt; yup, it&#8217;s simpler</div>
<div class="line">[Friday 02 April 2010] [03:12:29] &lt;sustrik&gt; the basic difference is that AMQP was developed by adding features</div>
<div class="line">[Friday 02 April 2010] [03:12:43] &lt;sustrik&gt; while 0MQ was developed by ditching features</div>
<div class="line">[Friday 02 April 2010] [03:12:45] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 02 April 2010] [03:12:55] &lt;dermoth&gt; btw I was thinking this could be a nice fit for adding authentication/encryption to zeromq: <a class="reference external" href="http://nacl.cace-project.eu/">http://nacl.cace-project.eu/</a></div>
<div class="line">[Friday 02 April 2010] [03:13:26] &lt;sustrik&gt; definitely</div>
<div class="line">[Friday 02 April 2010] [03:13:39] &lt;dermoth&gt; another project built on simplicity and speed... unfortunately it doesn&#8217;t seem very active lately.</div>
<div class="line">[Friday 02 April 2010] [03:14:04] &lt;sustrik&gt; i am not very familiar with security</div>
<div class="line">[Friday 02 April 2010] [03:14:21] &lt;sustrik&gt; but you may speak to Martin Lucina, he&#8217;s looking at security aspects of 0mq</div>
<div class="line">[Friday 02 April 2010] [03:14:49] &lt;sustrik&gt; As for me, I was thinking of it in terms of messaging on Internet</div>
<div class="line">[Friday 02 April 2010] [03:14:58] &lt;sustrik&gt; imagine a network of devices</div>
<div class="line">[Friday 02 April 2010] [03:15:15] &lt;sustrik&gt; two terminal application points trust each other</div>
<div class="line">[Friday 02 April 2010] [03:15:25] &lt;sustrik&gt; but they don&#8217;t trust the devices in the middle</div>
<div class="line">[Friday 02 April 2010] [03:15:31] &lt;sustrik&gt; what should they do?</div>
<div class="line">[Friday 02 April 2010] [03:15:37] &lt;sustrik&gt; it&#8217;s an interesting area</div>
<div class="line">[Friday 02 April 2010] [03:15:51] &lt;dermoth&gt; well I don&#8217;t think a single open-source crypto package out there takes security as seriously and professionally as this project, which is based on work and participation by D. J. Bernstein</div>
<div class="line">[Friday 02 April 2010] [03:16:16] &lt;dermoth&gt; pki is likely what you want...</div>
<div class="line">[Friday 02 April 2010] [03:16:35] &lt;sustrik&gt; quite possible, i am not an expert though, feel free to discuss it on the mailing list</div>
<div class="line">[Friday 02 April 2010] [03:16:47] &lt;dermoth&gt; share secret keys securely the first time, then tou can trust each other&lt;</div>
<div class="line">[Friday 02 April 2010] [03:17:11] &lt;dermoth&gt; err</div>
<div class="line">[Friday 02 April 2010] [03:17:13] &lt;sustrik&gt; yes, that&#8217;s the basic idea</div>
<div class="line">[Friday 02 April 2010] [03:17:14] &lt;dermoth&gt; share public keys</div>
<div class="line">[Friday 02 April 2010] [03:17:31] &lt;sustrik&gt; not think of 1 to many data distribution</div>
<div class="line">[Friday 02 April 2010] [03:17:43] &lt;sustrik&gt; each subscriber had paid for the content</div>
<div class="line">[Friday 02 April 2010] [03:17:47] &lt;sustrik&gt; got the key</div>
<div class="line">[Friday 02 April 2010] [03:17:57] &lt;sustrik&gt; now, couple of months later</div>
<div class="line">[Friday 02 April 2010] [03:18:05] &lt;sustrik&gt; one of the subscribers haven&#8217;t paid</div>
<div class="line">[Friday 02 April 2010] [03:18:13] &lt;sustrik&gt; what now?</div>
<div class="line">[Friday 02 April 2010] [03:18:30] &lt;sustrik&gt; change the keys each month?</div>
<div class="line">[Friday 02 April 2010] [03:18:53] &lt;dermoth&gt; if you don&#8217;T multicast you can use each subscriber public key to encrypt their feed</div>
<div class="line">[Friday 02 April 2010] [03:19:20] &lt;sustrik&gt; you can&#8217;t because you don&#8217;t trust devices in the middle</div>
<div class="line">[Friday 02 April 2010] [03:19:28] &lt;dermoth&gt; that won&#8217;t wotk with a PUB socket unless you tie in in tight with NaCL though</div>
<div class="line">[Friday 02 April 2010] [03:19:32] &lt;sustrik&gt; they cannot do the encryption</div>
<div class="line">[Friday 02 April 2010] [03:19:50] &lt;desrt&gt;   sustrik: ya... but you almost get the impression that [something] happened</div>
<div class="line">[Friday 02 April 2010] [03:19:53] &lt;dermoth&gt; you just have to trust the public key</div>
<div class="line">[Friday 02 April 2010] [03:19:57] &lt;desrt&gt;   sustrik: just wondering what the something is :)</div>
<div class="line">[Friday 02 April 2010] [03:20:18] &lt;dermoth&gt; then ouy know the private key associated with it is the only one that can ecrypt it</div>
<div class="line">[Friday 02 April 2010] [03:20:44] &lt;sustrik&gt; desrt: have a look above, we&#8217;ve just discussed it with dermoth</div>
<div class="line">[Friday 02 April 2010] [03:20:52] &lt;desrt&gt;   oh.  ok.  i&#8217;ll read :)</div>
<div class="line">[Friday 02 April 2010] [03:22:09] &lt;sustrik&gt; dermoth: i mean, if the middle node has to encrypt messages, original provider has to deliver unecrypted content to the middle node - now recall we don&#8217;t trust the middle node</div>
<div class="line">[Friday 02 April 2010] [03:22:43] &lt;desrt&gt;   sustrik: hmm.  that seems pretty much like how i imagined</div>
<div class="line">[Friday 02 April 2010] [03:23:00] &lt;dermoth&gt; the original provider has to encrypt, or it won&#8217;t work... or you can di a trust chain between each forwarder</div>
<div class="line">[Friday 02 April 2010] [03:23:07] &lt;sustrik&gt; desrt: shrug</div>
<div class="line">[Friday 02 April 2010] [03:23:30] &lt;desrt&gt;   sustrik: it&#8217;s not so hard to believe large standards descending into design-by-comittee patent messes</div>
<div class="line">[Friday 02 April 2010] [03:24:10] &lt;sustrik&gt; dermoth: if you are interested in the area, take it to the mailing list; you&#8217;ll get much more educated audience there</div>
<div class="line">[Friday 02 April 2010] [03:24:20]    * sustrik is security idiot</div>
<div class="line">[Friday 02 April 2010] [03:24:41] &lt;sustrik&gt; desrt: it happens all the time</div>
<div class="line">[Friday 02 April 2010] [03:24:50] &lt;sustrik&gt; think of telco standards</div>
<div class="line">[Friday 02 April 2010] [03:24:50] &lt;dermoth&gt; ok, but it&#8217;s not on my roadmap just yet</div>
<div class="line">[Friday 02 April 2010] [03:24:55] &lt;sustrik&gt; sure</div>
<div class="line">[Friday 02 April 2010] [03:26:11] &lt;desrt&gt;   my only concern is taht amqp will become a widely-deployed standard nonetheless</div>
<div class="line">[Friday 02 April 2010] [03:26:20] &lt;desrt&gt;   and 0mq will be this thing that nobody uses</div>
<div class="line">[Friday 02 April 2010] [03:26:51] &lt;desrt&gt;   although the community around 0mq looks pretty active at the moment, which is nice</div>
<div class="line">[Friday 02 April 2010] [03:27:01] &lt;sustrik&gt; desrt: think of it this way:</div>
<div class="line">[Friday 02 April 2010] [03:27:21] &lt;sustrik&gt; &#8220;standard&#8221; means formalisation of best practices in the area</div>
<div class="line">[Friday 02 April 2010] [03:27:32] &lt;sustrik&gt; it&#8217;s strictly non-experimental</div>
<div class="line">[Friday 02 April 2010] [03:27:58] &lt;sustrik&gt; so what AMQP does is to formalise best practices for messaging in corporate environment</div>
<div class="line">[Friday 02 April 2010] [03:28:06] &lt;dermoth&gt; well i&#8217;m out, it&#8217;s pretty late here. see you...</div>
<div class="line">[Friday 02 April 2010] [03:28:12] &lt;sustrik&gt; cyl</div>
<div class="line">[Friday 02 April 2010] [03:28:16] &lt;desrt&gt;   ta</div>
<div class="line">[Friday 02 April 2010] [03:28:24] &lt;sustrik&gt; which are kind of broken anyway</div>
<div class="line">[Friday 02 April 2010] [03:28:28] &lt;sustrik&gt; or maybe not broken</div>
<div class="line">[Friday 02 April 2010] [03:28:39] &lt;sustrik&gt; but require large IT depts</div>
<div class="line">[Friday 02 April 2010] [03:28:52] &lt;desrt&gt;   the other thing is that 0mq seems not to support as rich of a routing model...</div>
<div class="line">[Friday 02 April 2010] [03:29:26] &lt;sustrik&gt; you mean complex routing criteria, say a SQL-like subscriptions</div>
<div class="line">[Friday 02 April 2010] [03:29:27] &lt;sustrik&gt; ?</div>
<div class="line">[Friday 02 April 2010] [03:29:42] &lt;desrt&gt;   no.  not criteria</div>
<div class="line">[Friday 02 April 2010] [03:29:57] &lt;desrt&gt;   but more like network traversal/propagation</div>
<div class="line">[Friday 02 April 2010] [03:30:18] &lt;desrt&gt;   the stuff that brokers did</div>
<div class="line">[Friday 02 April 2010] [03:30:35] &lt;sustrik&gt; there are devices that do the same thing</div>
<div class="line">[Friday 02 April 2010] [03:30:51] &lt;sustrik&gt; say zmq_forwarder is an app that acts a simple broker</div>
<div class="line">[Friday 02 April 2010] [03:31:09] &lt;desrt&gt;   so there is still support for asynchronous message queuing, etc</div>
<div class="line">[Friday 02 April 2010] [03:31:16] &lt;sustrik&gt; definitely</div>
<div class="line">[Friday 02 April 2010] [03:31:23] &lt;desrt&gt;   well</div>
<div class="line">[Friday 02 April 2010] [03:31:29] &lt;desrt&gt;   definitely seems like it&#8217;s worth looking into for me</div>
<div class="line">[Friday 02 April 2010] [03:31:38] &lt;sustrik&gt; sure, have a look</div>
<div class="line">[Friday 02 April 2010] [03:31:44] &lt;desrt&gt;   you guys made reddit, btw</div>
<div class="line">[Friday 02 April 2010] [03:31:56] &lt;sustrik&gt; ah, let me see...</div>
<div class="line">[Friday 02 April 2010] [03:32:01] &lt;desrt&gt;   <a class="reference external" href="http://www.reddit.com/r/programming/comments/bl9rb/while_imatix_was_the_original_designer_of_amqp_we/">http://www.reddit.com/r/programming/comments/bl9rb/while_imatix_was_the_original_designer_of_amqp_we/</a></div>
<div class="line">[Friday 02 April 2010] [03:32:10] &lt;desrt&gt;   that&#8217;s what brought me here</div>
<div class="line">[Friday 02 April 2010] [03:32:48] &lt;desrt&gt;   well, it made the frontpage of the programming reddit, anyway</div>
<div class="line">[Friday 02 April 2010] [03:34:02] &lt;sustrik&gt; 1000 hits on the website yesterday</div>
<div class="line">[Friday 02 April 2010] [03:34:17] &lt;sustrik&gt; not that bad for esoteric networking product</div>
<div class="line">[Friday 02 April 2010] [03:34:21] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 02 April 2010] [03:41:52] &lt;desrt&gt;   you guys need to get ubuntu packages</div>
<div class="line">[Friday 02 April 2010] [03:47:32] &lt;sustrik&gt; desrt: there are debian packages atm</div>
<div class="line">[Friday 02 April 2010] [03:47:38] &lt;sustrik&gt; should work with ubuntu</div>
<div class="line">[Friday 02 April 2010] [03:47:50] &lt;desrt&gt;   hm  nice</div>
<div class="line">[Friday 02 April 2010] [03:50:22] &lt;desrt&gt;   i meant more like having stuff in the repository :)</div>
<div class="line">[Friday 02 April 2010] [03:51:28] &lt;sustrik&gt; you mean the package build sources?</div>
<div class="line">[Friday 02 April 2010] [03:51:38] &lt;sustrik&gt; it&#8217;s in /debian subdirectory</div>
<div class="line">[Friday 02 April 2010] [03:51:42] &lt;desrt&gt;   no</div>
<div class="line">[Friday 02 April 2010] [03:51:51] &lt;sustrik&gt; a download?</div>
<div class="line">[Friday 02 April 2010] [03:51:53] &lt;desrt&gt;   i mean like, i should be able to type apt-get install zeromq</div>
<div class="line">[Friday 02 April 2010] [03:52:03] &lt;sustrik&gt; ah</div>
<div class="line">[Friday 02 April 2010] [03:52:09] &lt;sustrik&gt; it&#8217;s moving upstream</div>
<div class="line">[Friday 02 April 2010] [03:52:17] &lt;sustrik&gt; it takes time till it gets there</div>
<div class="line">[Friday 02 April 2010] [03:52:31] &lt;desrt&gt;   probably too late for this cycle anyway</div>
<div class="line">[Friday 02 April 2010] [03:52:45]    * desrt has already been pushing his luck with freeze breaks</div>
<div class="line">[Friday 02 April 2010] [03:53:39] &lt;sustrik&gt; it&#8217;s in &#8220;unstable&#8221; state</div>
<div class="line">[Friday 02 April 2010] [03:53:40] &lt;sustrik&gt; <a class="reference external" href="http://packages.debian.org/unstable/zeromq-bin">http://packages.debian.org/unstable/zeromq-bin</a></div>
<div class="line">[Friday 02 April 2010] [03:53:52] &lt;desrt&gt;   bin, eh?</div>
<div class="line">[Friday 02 April 2010] [03:53:56] &lt;desrt&gt;   what utils are those?</div>
<div class="line">[Friday 02 April 2010] [03:54:43] &lt;sustrik&gt; ah, those are just the devices</div>
<div class="line">[Friday 02 April 2010] [03:55:39] &lt;sustrik&gt; source package:</div>
<div class="line">[Friday 02 April 2010] [03:55:40] &lt;sustrik&gt; <a class="reference external" href="http://packages.debian.org/source/sid/zeromq">http://packages.debian.org/source/sid/zeromq</a></div>
<div class="line">[Friday 02 April 2010] [03:55:56] &lt;sustrik&gt; there are links to lib and dev packages there</div>
<div class="line">[Friday 02 April 2010] [03:56:05] &lt;desrt&gt;   thanks</div>
<div class="line">[Friday 02 April 2010] [04:05:41] &lt;desrt&gt;   sustrik: is this debian package up-to-date and in good standing?</div>
<div class="line">[Friday 02 April 2010] [04:07:00] &lt;desrt&gt;   (ie: no terrible bugs in it that have been fixed in master)</div>
<div class="line">[Friday 02 April 2010] [04:07:15] &lt;sustrik&gt; it&#8217;s the last release (2.0.6)</div>
<div class="line">[Friday 02 April 2010] [04:07:32] &lt;sustrik&gt; the master is a bit ustable now</div>
<div class="line">[Friday 02 April 2010] [04:07:40] &lt;sustrik&gt; so rather use the last release</div>
<div class="line">[Friday 02 April 2010] [04:08:59] &lt;desrt&gt;   ok</div>
<div class="line">[Friday 02 April 2010] [04:15:58] &lt;desrt&gt;   ok.  i&#8217;m going to push my luck one more time :)</div>
<div class="line">[Friday 02 April 2010] [04:21:40] &lt;desrt&gt;   sustrik: it seems that the freeze exception is likely to be granted</div>
<div class="line">[Friday 02 April 2010] [04:27:04] &lt;sustrik&gt; desrt: i&#8217;m not familir with the process</div>
<div class="line">[Friday 02 April 2010] [04:27:09] &lt;sustrik&gt; what does that mean?</div>
<div class="line">[Friday 02 April 2010] [04:27:27] &lt;desrt&gt;   sustrik: normally ubuntu is frozen for new packages at this point (the release is coming out later this month)</div>
<div class="line">[Friday 02 April 2010] [04:27:35] &lt;desrt&gt;   but i&#8217;ve requested a freeze break</div>
<div class="line">[Friday 02 April 2010] [04:27:47] &lt;sustrik&gt; desrt: nice</div>
<div class="line">[Friday 02 April 2010] [04:27:48] &lt;sustrik&gt; thanks</div>
<div class="line">[Friday 02 April 2010] [04:28:09] &lt;desrt&gt;   i want to use this stuff and having packages in the OS obviously makes that a lot easier for me :)</div>
<div class="line">[Friday 02 April 2010] [04:28:55] &lt;sustrik&gt; helping with packaging is appreciated</div>
<div class="line">[Friday 02 April 2010] [04:29:22] &lt;desrt&gt;   heh.  i&#8217;m not helping.  just asking for favours. :)</div>
<div class="line">[Friday 02 April 2010] [04:29:37] &lt;sustrik&gt; i&#8217;m leaving now; see you all after the holiday</div>
<div class="line">[Friday 02 April 2010] [04:29:41] &lt;sustrik&gt; happy Easter!</div>
<div class="line">[Friday 02 April 2010] [04:29:45] &lt;desrt&gt;   have a good weekend</div>
<div class="line">[Friday 02 April 2010] [04:29:49] &lt;desrt&gt;   thanks for your help this evening</div>
<div class="line">[Friday 02 April 2010] [06:57:57] &lt;mikko&gt;   sustrik: good morning</div>
<div class="line">[Friday 02 April 2010] [07:59:08] &lt;jldupont&gt;    hi - where is the wire-format for 0mq?  I&#8217;d like to build an Erlang binding for it.</div>
<div class="line">[Friday 02 April 2010] [07:59:21] &lt;jldupont&gt;    been browsing the site like crazy!!!</div>
<div class="line">[Friday 02 April 2010] [08:01:32] &lt;jldupont&gt;    anybody??</div>
<div class="line">[Friday 02 April 2010] [08:04:40] &lt;mikko&gt;   jldupont: can erlang use C libraries?</div>
<div class="line">[Friday 02 April 2010] [08:07:41] &lt;jldupont&gt;    mikko: yes... but the comm between the C library and erlang will be through.... sockets!</div>
<div class="line">[Friday 02 April 2010] [08:08:17] &lt;jldupont&gt;    mikko: that&#8217;s one way of doing it... there is a direct binding but the polling issue surfaces then....</div>
<div class="line">[Friday 02 April 2010] [08:08:27] &lt;jldupont&gt;    I&#8217;d rather bind directly over TCP/UDP</div>
<div class="line">[Friday 02 April 2010] [08:09:20] &lt;mikko&gt;   jldupont: ok, i think if you wait for a while you might get some help</div>
<div class="line">[Friday 02 April 2010] [08:09:28] &lt;mikko&gt;   it&#8217;s good friday and people might be with their families</div>
<div class="line">[Friday 02 April 2010] [08:11:24] &lt;jldupont&gt;    mikko: understood... thanks!</div>
<div class="line">[Friday 02 April 2010] [08:15:29] &lt;mikko&gt;   jldupont: it might even be that you need to wait until holiday is over. although you can probably extract the wire protocol from the source</div>
<div class="line">[Friday 02 April 2010] [08:37:58] &lt;FlaPer87&gt;    hey guys, are there some guidlines to install 0mq on windows?</div>
<div class="line">[Friday 02 April 2010] [08:38:37] &lt;FlaPer87&gt;    I built it with visual studio but I can&#8217;t find the zeromq_server command, how do I start the server?</div>
<div class="line">[Friday 02 April 2010] [09:37:47] &lt;FlaPer87&gt;    is there a sample configuration file somewhere?</div>
<div class="line">[Friday 02 April 2010] [17:51:30] &lt;<a href="#id206"><span class="problematic" id="id207">jomofo_</span></a>&gt; Any pointers for troubleshooting UnsatisfiedLinkError (no jzmq on java.library.path) on 64-bit Ubuntu 9.10 ?  I installed both libzmq and libjzmq to /usr/local/lib, ran ldconfig, set java.library.path and go, but no luck</div>
<div class="line">[Friday 02 April 2010] [23:01:34] &lt;old_sound&gt;   hi, I&#8217;ve just cloned the github repo, but I can&#8217;t find instructions on how to build it, there&#8217;s no INSTALL file as reported in the README</div>
<div class="line">[Friday 02 April 2010] [23:03:22] &lt;old_sound&gt;   OK, found it, had to run ./autogen.sh</div>
<div class="line">[Saturday 03 April 2010] [02:14:15] &lt;dermoth&gt;   old_sound, I&#8217;ve heard the master is a bit unstable, so unless you&#8217;re doing development you should use the latest release instead</div>
<div class="line">[Saturday 03 April 2010] [02:14:30] &lt;old_sound&gt; ok</div>
<div class="line">[Saturday 03 April 2010] [12:47:44] &lt;<a href="#id208"><span class="problematic" id="id209">jomofo_</span></a>&gt;   Any pointers for troubleshooting UnsatisfiedLinkError (no jzmq on java.library.path) on 64-bit Ubuntu 9.10 ?  I installed both libzmq and libjzmq to /usr/local/lib, ran ldconfig, set java.library.path and go, but no luck</div>
<div class="line">[Saturday 03 April 2010] [13:17:45] &lt;<a href="#id210"><span class="problematic" id="id211">jomofo_</span></a>&gt;   I think I found my problem I was setting java.library.path correctly, but wasn&#8217;t setting LD_LIBRARY_PATH.  I guess libjzmq wasn&#8217;t able to load libzmq because of that.  Thanks for listening to me ramble</div>
<div class="line">[Saturday 03 April 2010] [13:42:11] &lt;<a href="#id212"><span class="problematic" id="id213">jomofo_</span></a>&gt;   Just out of curiosity, why is the Java namespace org.zmq instead of org.zeromq?  If I visit zmq.org I get a parking lot</div>
<div class="line">[Saturday 03 April 2010] [16:36:44] &lt;mikko&gt; good evening</div>
<div class="line">[Saturday 03 April 2010] [16:37:43] &lt;mikko&gt; <a href="#id214"><span class="problematic" id="id215">jomofo_</span></a>: do you have /usr/local/lib in ld.so.conf ?</div>
<div class="line">[Saturday 03 April 2010] [16:37:52] &lt;mikko&gt; <a href="#id216"><span class="problematic" id="id217">jomofo_</span></a>: does ldconfig &#8211;print | grep zmq show the library?</div>
<div class="line">[Saturday 03 April 2010] [16:45:34] &lt;<a href="#id218"><span class="problematic" id="id219">jomofo_</span></a>&gt;   mikki, yes, both libzmq and libjzmq are there</div>
<div class="line">[Saturday 03 April 2010] [16:46:33] &lt;<a href="#id220"><span class="problematic" id="id221">jomofo_</span></a>&gt;   mikko: oops, %s/mikki/mikko/</div>
<div class="line">[Saturday 03 April 2010] [16:55:57] &lt;<a href="#id222"><span class="problematic" id="id223">jomofo_</span></a>&gt;   mikko: and /usr/local/lib is in /etc/ld.so.conf.d/libc.conf which is included by /etc/ld.so.conf</div>
<div class="line">[Saturday 03 April 2010] [16:56:35] &lt;<a href="#id224"><span class="problematic" id="id225">jomofo_</span></a>&gt;   mikko: If I define $LD_LIBRARY_PATH as /usr/local/lib it works, but not without it</div>
<div class="line">[Saturday 03 April 2010] [17:52:43] &lt;mikko&gt; <a href="#id226"><span class="problematic" id="id227">jomofo_</span></a>: does the java program you start override LD_LIBRARY_PATH?</div>
<div class="line">[Saturday 03 April 2010] [18:02:43] &lt;<a href="#id228"><span class="problematic" id="id229">jomofo_</span></a>&gt;   mikko: I don&#8217;t believe so.  It&#8217;s just a simple unit test to see if I can use the jzmq bindings, but I am running it via Maven2</div>
<div class="line">[Saturday 03 April 2010] [18:07:24] &lt;mikko&gt; have you tried mvn -X ?</div>
<div class="line">[Saturday 03 April 2010] [18:07:31] &lt;mikko&gt; it might give more insight (or not)</div>
<div class="line">[Sunday 04 April 2010] [08:24:27] &lt;mikko&gt;   good morning</div>
<div class="line">[Sunday 04 April 2010] [08:34:37] &lt;Skaag&gt;   good morning mikko</div>
<div class="line">[Sunday 04 April 2010] [08:34:39] &lt;Skaag&gt;   :-)</div>
<div class="line">[Sunday 04 April 2010] [08:41:59] &lt;mikko&gt;   i added a couple of more doc pages</div>
<div class="line">[Sunday 04 April 2010] [08:42:00] &lt;mikko&gt;   <a class="reference external" href="http://wiki.github.com/mkoppanen/php-zeromq/persistent-context-socket">http://wiki.github.com/mkoppanen/php-zeromq/persistent-context-socket</a></div>
<div class="line">[Sunday 04 April 2010] [08:42:10] &lt;mikko&gt;   and updated this a bit <a class="reference external" href="http://wiki.github.com/mkoppanen/php-zeromq/api-documentation">http://wiki.github.com/mkoppanen/php-zeromq/api-documentation</a></div>
<div class="line">[Sunday 04 April 2010] [08:55:17] &lt;Skaag&gt;   awesome</div>
<div class="line">[Sunday 04 April 2010] [08:56:48] &lt;mikko&gt;   now, time to head out to see tiergarten and brandenburg tor</div>
<div class="line">[Sunday 04 April 2010] [08:56:50] &lt;mikko&gt;   laters</div>
<div class="line">[Sunday 04 April 2010] [09:45:47] &lt;Skaag&gt;   tiergarten or biergarten?! :-)</div>
<div class="line">[Sunday 04 April 2010] [12:31:31] &lt;<a href="#id230"><span class="problematic" id="id231">jomofo_</span></a>&gt; If I want to create a new language binding for 0MQ, should I use the LGPL? The language is friendlier toward the Eclipse license, but I think either would work.</div>
<div class="line">[Sunday 04 April 2010] [14:10:40] &lt;desrt&gt;   sustrik: hey</div>
<div class="line">[Sunday 04 April 2010] [14:12:03] &lt;sustrik&gt; desrt: hi</div>
<div class="line">[Sunday 04 April 2010] [14:13:20] &lt;desrt&gt;   sustrik: are you a zmq developer?</div>
<div class="line">[Sunday 04 April 2010] [14:13:27] &lt;desrt&gt;   (just out of curiosity)</div>
<div class="line">[Sunday 04 April 2010] [14:13:45] &lt;sustrik&gt; you mean whether i wrote the 0mq code?</div>
<div class="line">[Sunday 04 April 2010] [14:13:51] &lt;sustrik&gt; yes, most of it</div>
<div class="line">[Sunday 04 April 2010] [14:13:56] &lt;desrt&gt;   cool</div>
<div class="line">[Sunday 04 April 2010] [14:14:12] &lt;desrt&gt;   a few questions</div>
<div class="line">[Sunday 04 April 2010] [14:14:28] &lt;desrt&gt;   1) is there any chance of some convenience additions/cleanups to some of the APIs?</div>
<div class="line">[Sunday 04 April 2010] [14:14:46] &lt;sustrik&gt; <a href="#id232"><span class="problematic" id="id233">jomofo_</span></a>: you can use any license that suits you</div>
<div class="line">[Sunday 04 April 2010] [14:15:02] &lt;desrt&gt;   like maybe using opaque structure types zmq_socket_t, zmq_context_t instead of void*</div>
<div class="line">[Sunday 04 April 2010] [14:15:16] &lt;desrt&gt;   and having all methods on sockets start like <a href="#id234"><span class="problematic" id="id235">zmq_socket_</span></a> {send, recv, whatever}</div>
<div class="line">[Sunday 04 April 2010] [14:15:35] &lt;desrt&gt;   (note: zmq_msg follows this convention, but not socket and context)</div>
<div class="line">[Sunday 04 April 2010] [14:15:38] &lt;sustrik&gt; desrt: the method names are based on POSIX socket API</div>
<div class="line">[Sunday 04 April 2010] [14:15:51] &lt;desrt&gt;   ah.  interesting.</div>
<div class="line">[Sunday 04 April 2010] [14:15:58] &lt;sustrik&gt; usign zmq_type_function would break the 1:1 correspondence</div>
<div class="line">[Sunday 04 April 2010] [14:16:19] &lt;desrt&gt;   well.. the correspondence is already fairly loose...</div>
<div class="line">[Sunday 04 April 2010] [14:16:24] &lt;desrt&gt;   they take pointers intaed of fds</div>
<div class="line">[Sunday 04 April 2010] [14:16:35] &lt;desrt&gt;   and strings instead of struct sockaddr and size</div>
<div class="line">[Sunday 04 April 2010] [14:16:49] &lt;sustrik&gt; that&#8217;s because POSIX doesn&#8217;t allow for user-space implementation of fds</div>
<div class="line">[Sunday 04 April 2010] [14:17:23] &lt;sustrik&gt; if the codebase ever moves to kernel space the void* would of course be replaced by fd</div>
<div class="line">[Sunday 04 April 2010] [14:17:25] &lt;desrt&gt;   hm.</div>
<div class="line">[Sunday 04 April 2010] [14:17:32] &lt;sustrik&gt; context will drop out entirely</div>
<div class="line">[Sunday 04 April 2010] [14:17:34] &lt;desrt&gt;   interesting.</div>
<div class="line">[Sunday 04 April 2010] [14:18:15] &lt;desrt&gt;   ok.  higher level question:</div>
<div class="line">[Sunday 04 April 2010] [14:18:41] &lt;desrt&gt;   say i have a publisher of a stream of events and many subscribers to that stream</div>
<div class="line">[Sunday 04 April 2010] [14:18:57] &lt;desrt&gt;   and some devices in between storing the events</div>
<div class="line">[Sunday 04 April 2010] [14:19:11] &lt;desrt&gt;   how does a subscriber tell a device about which events it has already seen?</div>
<div class="line">[Sunday 04 April 2010] [14:20:04] &lt;desrt&gt;   is this part of the ZMQ_SUBSCRIBE sockopt?</div>
<div class="line">[Sunday 04 April 2010] [14:20:31] &lt;sustrik&gt; it&#8217;s like a radio transmission, you start getting messages at the point when you create the connection</div>
<div class="line">[Sunday 04 April 2010] [14:20:39] &lt;sustrik&gt; you&#8217;ll never get older messages</div>
<div class="line">[Sunday 04 April 2010] [14:20:49] &lt;desrt&gt;   oh.</div>
<div class="line">[Sunday 04 April 2010] [14:21:20] &lt;desrt&gt;   i was under the impressiont that devices could queue up events</div>
<div class="line">[Sunday 04 April 2010] [14:21:56] &lt;desrt&gt;   so that implies that it&#8217;s quite possible to miss events in the case of shaky connectivity, then?</div>
<div class="line">[Sunday 04 April 2010] [14:21:56] &lt;sustrik&gt; they can, but in PUB/SUB messaging pattern it simply doesn&#8217;t make sense</div>
<div class="line">[Sunday 04 April 2010] [14:22:07] &lt;sustrik&gt; how long would you cache the events?</div>
<div class="line">[Sunday 04 April 2010] [14:22:09] &lt;sustrik&gt; a day?</div>
<div class="line">[Sunday 04 April 2010] [14:22:12] &lt;sustrik&gt; month?</div>
<div class="line">[Sunday 04 April 2010] [14:22:14] &lt;sustrik&gt; year?</div>
<div class="line">[Sunday 04 April 2010] [14:22:26] &lt;desrt&gt;   i have two possible answers</div>
<div class="line">[Sunday 04 April 2010] [14:22:29] &lt;desrt&gt;   the easy one is &#8220;forever&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:22:38] &lt;sustrik&gt; out of memory results</div>
<div class="line">[Sunday 04 April 2010] [14:22:40] &lt;desrt&gt;   the less easy one goes something like this:</div>
<div class="line">[Sunday 04 April 2010] [14:22:47] &lt;desrt&gt;   you maintain a list of active subscribers</div>
<div class="line">[Sunday 04 April 2010] [14:23:01] &lt;desrt&gt;   each subscriber must check in at least once a month (say) to keep their subscription valid</div>
<div class="line">[Sunday 04 April 2010] [14:23:11] &lt;desrt&gt;   and you keep events so long as you have active subscribers who the server knows are not up-to-date</div>
<div class="line">[Sunday 04 April 2010] [14:23:33] &lt;sustrik&gt; how do you know there&#8217;ll be a subscriber before it evn connects?</div>
<div class="line">[Sunday 04 April 2010] [14:23:53] &lt;desrt&gt;   i&#8217;m saying that a subscriber isn&#8217;t a subscriber until they first subscribe</div>
<div class="line">[Sunday 04 April 2010] [14:24:11] &lt;sustrik&gt; ah, sure, it works that way</div>
<div class="line">[Sunday 04 April 2010] [14:24:33] &lt;desrt&gt;   ah.  nice.</div>
<div class="line">[Sunday 04 April 2010] [14:24:37] &lt;desrt&gt;   so i can subscribe</div>
<div class="line">[Sunday 04 April 2010] [14:24:39] &lt;sustrik&gt; the only thing you need to do is set the identity of the subscriber</div>
<div class="line">[Sunday 04 April 2010] [14:24:39] &lt;desrt&gt;   go away for a week</div>
<div class="line">[Sunday 04 April 2010] [14:24:44] &lt;desrt&gt;   come back and say &#8220;i&#8217;m back!&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:24:50] &lt;desrt&gt;   and get a list of everything that happened meanwhile?</div>
<div class="line">[Sunday 04 April 2010] [14:24:50] &lt;sustrik&gt; so that the peer knows it&#8217;s the same subscriber</div>
<div class="line">[Sunday 04 April 2010] [14:24:57] &lt;sustrik&gt; when reconnection happens</div>
<div class="line">[Sunday 04 April 2010] [14:24:59] &lt;desrt&gt;   yes.  that&#8217;s exactly what i&#8217;m getting at</div>
<div class="line">[Sunday 04 April 2010] [14:25:02] &lt;desrt&gt;   awesome :)</div>
<div class="line">[Sunday 04 April 2010] [14:25:10] &lt;sustrik&gt; you just get it</div>
<div class="line">[Sunday 04 April 2010] [14:25:17] &lt;sustrik&gt; no need to do anything special</div>
<div class="line">[Sunday 04 April 2010] [14:25:58] &lt;desrt&gt;   so just popping a uuid in there is a reasonable thing to do</div>
<div class="line">[Sunday 04 April 2010] [14:26:33] &lt;sustrik&gt; well, the uuid is generated automatically anyway</div>
<div class="line">[Sunday 04 April 2010] [14:26:39] &lt;sustrik&gt; what you have to ensure</div>
<div class="line">[Sunday 04 April 2010] [14:26:49] &lt;desrt&gt;   ya.  but i need it to be the same oen across invocations</div>
<div class="line">[Sunday 04 April 2010] [14:26:55] &lt;sustrik&gt; if you want the subscription to last after subscriber&#8217;s restart</div>
<div class="line">[Sunday 04 April 2010] [14:27:06] &lt;sustrik&gt; is that the identity is always the same</div>
<div class="line">[Sunday 04 April 2010] [14:27:11] &lt;desrt&gt;   so how does that work with respect to subscriptions timing out?</div>
<div class="line">[Sunday 04 April 2010] [14:27:20] &lt;desrt&gt;   surely the server won&#8217;t save messages for an identity forever...</div>
<div class="line">[Sunday 04 April 2010] [14:27:21] &lt;sustrik&gt; no timeouts</div>
<div class="line">[Sunday 04 April 2010] [14:27:29] &lt;sustrik&gt; it would now :)</div>
<div class="line">[Sunday 04 April 2010] [14:27:33] &lt;desrt&gt;   heh</div>
<div class="line">[Sunday 04 April 2010] [14:27:43] &lt;desrt&gt;   so it has an on-disk cache, or....?</div>
<div class="line">[Sunday 04 April 2010] [14:27:44] &lt;sustrik&gt; feel free to make a patch</div>
<div class="line">[Sunday 04 April 2010] [14:27:54] &lt;sustrik&gt; in-memory</div>
<div class="line">[Sunday 04 April 2010] [14:27:58] &lt;desrt&gt;   oh</div>
<div class="line">[Sunday 04 April 2010] [14:28:01] &lt;desrt&gt;   so it only saves it until reboot...</div>
<div class="line">[Sunday 04 April 2010] [14:28:08] &lt;sustrik&gt; yes</div>
<div class="line">[Sunday 04 April 2010] [14:28:11] &lt;desrt&gt;   hrmph</div>
<div class="line">[Sunday 04 April 2010] [14:28:25]    * desrt was looking for something a little more reliable</div>
<div class="line">[Sunday 04 April 2010] [14:28:43] &lt;sustrik&gt; sure, there&#8217;s a lot of messaging solutions out there</div>
<div class="line">[Sunday 04 April 2010] [14:28:51] &lt;sustrik&gt; rabbitma, activemq etc.</div>
<div class="line">[Sunday 04 April 2010] [14:29:02] &lt;sustrik&gt; try one of those</div>
<div class="line">[Sunday 04 April 2010] [14:29:02] &lt;desrt&gt;   ya.  i&#8217;ve had a look around</div>
<div class="line">[Sunday 04 April 2010] [14:29:08] &lt;desrt&gt;   what attracted me to zmq was its simplicity</div>
<div class="line">[Sunday 04 April 2010] [14:29:24] &lt;sustrik&gt; yup</div>
<div class="line">[Sunday 04 April 2010] [14:29:30] &lt;desrt&gt;   my original introduction to this stuff was via a talk about amqp at fudcon</div>
<div class="line">[Sunday 04 April 2010] [14:29:35] &lt;sustrik&gt; however, it&#8217;s not as feature complete as other projects</div>
<div class="line">[Sunday 04 April 2010] [14:30:13] &lt;sustrik&gt; they&#8217;ve mentioned 0mq?</div>
<div class="line">[Sunday 04 April 2010] [14:30:15] &lt;desrt&gt;   i walked out of the room thinking &#8220;neat.  sounds useful.  way too bloated/complex.&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:30:17] &lt;sustrik&gt; interesting</div>
<div class="line">[Sunday 04 April 2010] [14:30:20] &lt;desrt&gt;   no</div>
<div class="line">[Sunday 04 April 2010] [14:30:43] &lt;desrt&gt;   a few days ago i saw a post on reddit about 0mq being by the original makers of amqp because amqp had gotten too bloated/complex</div>
<div class="line">[Sunday 04 April 2010] [14:30:51] &lt;sustrik&gt; ok, i see</div>
<div class="line">[Sunday 04 April 2010] [14:30:57] &lt;desrt&gt;   and i was like &#8220;hm.  i agree.  it must be nice!&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:31:13] &lt;sustrik&gt; well, persistence is still missing</div>
<div class="line">[Sunday 04 April 2010] [14:31:21] &lt;desrt&gt;   i&#8217;m writing the configuration system for GNOME 3</div>
<div class="line">[Sunday 04 April 2010] [14:31:31] &lt;desrt&gt;   currently figuring out how to do network support</div>
<div class="line">[Sunday 04 April 2010] [14:31:46] &lt;sustrik&gt; why do you need persistence?</div>
<div class="line">[Sunday 04 April 2010] [14:32:09] &lt;desrt&gt;   it has support for databases on your computer that are controlled by someone else</div>
<div class="line">[Sunday 04 April 2010] [14:32:13] &lt;desrt&gt;   &#8220;site settings&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:32:28] &lt;desrt&gt;   the way it works, when you are online with the network the updates come right away</div>
<div class="line">[Sunday 04 April 2010] [14:32:34] &lt;desrt&gt;   and you keep a local copy</div>
<div class="line">[Sunday 04 April 2010] [14:32:38] &lt;desrt&gt;   so when you go offline you still have the settings</div>
<div class="line">[Sunday 04 April 2010] [14:32:44] &lt;desrt&gt;   and when you connect again, it syncs back up</div>
<div class="line">[Sunday 04 April 2010] [14:33:22] &lt;sustrik&gt; ok, understood</div>
<div class="line">[Sunday 04 April 2010] [14:33:41] &lt;desrt&gt;   i currently have a flaky hand-written tcp protocol to do this</div>
<div class="line">[Sunday 04 April 2010] [14:33:54] &lt;desrt&gt;   was looking for something a bit less crappy</div>
<div class="line">[Sunday 04 April 2010] [14:34:37] &lt;desrt&gt;   also: i&#8217;m sort of drawn to the idea that people could do cool stuff with zeromq that has nothing to do with my particular use case that would result in new ways for people to use my stuff</div>
<div class="line">[Sunday 04 April 2010] [14:34:52] &lt;desrt&gt;   like add new queue or distribution logic, etc...</div>
<div class="line">[Sunday 04 April 2010] [14:35:04] &lt;sustrik&gt; desrt: right</div>
<div class="line">[Sunday 04 April 2010] [14:35:12] &lt;sustrik&gt; still, at the moment there&#8217;s no persistence</div>
<div class="line">[Sunday 04 April 2010] [14:35:33] &lt;sustrik&gt; so you have 3 options:</div>
<div class="line">[Sunday 04 April 2010] [14:35:41] &lt;sustrik&gt; 1. build persistence on top of 0mq</div>
<div class="line">[Sunday 04 April 2010] [14:35:44] &lt;sustrik&gt; 2. patch 0mq</div>
<div class="line">[Sunday 04 April 2010] [14:35:56] &lt;sustrik&gt; 3. move to a different solution</div>
<div class="line">[Sunday 04 April 2010] [14:36:10] &lt;desrt&gt;   4. use it anyway :)</div>
<div class="line">[Sunday 04 April 2010] [14:36:29] &lt;sustrik&gt; 5. hack the persistence in</div>
<div class="line">[Sunday 04 April 2010] [14:37:00] &lt;sustrik&gt; persistence is really a very complex problem</div>
<div class="line">[Sunday 04 April 2010] [14:37:14] &lt;sustrik&gt; to do it properly, lot of resources is needed</div>
<div class="line">[Sunday 04 April 2010] [14:37:35] &lt;sustrik&gt; however, to server a particulat use case, it&#8217;s normally pretty easy to do</div>
<div class="line">[Sunday 04 April 2010] [14:37:35] &lt;desrt&gt;   i&#8217;m thinking along these lines: if i can detect that i missed events then i can just redownload the whole DB</div>
<div class="line">[Sunday 04 April 2010] [14:38:02] &lt;sustrik&gt; so you can place sequence numbers into messages</div>
<div class="line">[Sunday 04 April 2010] [14:38:09] &lt;desrt&gt;   that&#8217;s what i do now</div>
<div class="line">[Sunday 04 April 2010] [14:38:24] &lt;desrt&gt;   each change to the DB has a sequence number</div>
<div class="line">[Sunday 04 April 2010] [14:38:29] &lt;desrt&gt;   the connecting client tells of the last change it saw</div>
<div class="line">[Sunday 04 April 2010] [14:38:34] &lt;desrt&gt;   and the server replays what happened since</div>
<div class="line">[Sunday 04 April 2010] [14:38:55] &lt;sustrik&gt; you can use req/rep sockets for that</div>
<div class="line">[Sunday 04 April 2010] [14:39:00] &lt;desrt&gt;   sequence numbers are 64bit, so i assume they never wrap</div>
<div class="line">[Sunday 04 April 2010] [14:39:06] &lt;desrt&gt;   right.</div>
<div class="line">[Sunday 04 April 2010] [14:39:12] &lt;sustrik&gt; it&#8217;s much more natural than pub/sub anyway</div>
<div class="line">[Sunday 04 April 2010] [14:39:12] &lt;desrt&gt;   that gets me RPC-over-TCP(ish), right?</div>
<div class="line">[Sunday 04 April 2010] [14:39:20] &lt;sustrik&gt; pub/sub is for things like stock quotes</div>
<div class="line">[Sunday 04 April 2010] [14:39:22] &lt;sustrik&gt; media</div>
<div class="line">[Sunday 04 April 2010] [14:39:24] &lt;sustrik&gt; etc.</div>
<div class="line">[Sunday 04 April 2010] [14:39:34] &lt;sustrik&gt; content that lookses value quickly</div>
<div class="line">[Sunday 04 April 2010] [14:39:42] &lt;sustrik&gt; looses*</div>
<div class="line">[Sunday 04 April 2010] [14:39:52] &lt;sustrik&gt; desrt: yes</div>
<div class="line">[Sunday 04 April 2010] [14:39:59] &lt;sustrik&gt; do you mind a roundtrip?</div>
<div class="line">[Sunday 04 April 2010] [14:39:59] &lt;desrt&gt;   might be appropriate</div>
<div class="line">[Sunday 04 April 2010] [14:40:09] &lt;desrt&gt;   well</div>
<div class="line">[Sunday 04 April 2010] [14:40:12] &lt;desrt&gt;   my protocol works sort of like imap now</div>
<div class="line">[Sunday 04 April 2010] [14:40:28] &lt;desrt&gt;   it&#8217;s very much not structured RPC-like</div>
<div class="line">[Sunday 04 April 2010] [14:40:50] &lt;desrt&gt;   the client understands that the server sends it a stream of events</div>
<div class="line">[Sunday 04 April 2010] [14:41:03] &lt;desrt&gt;   those events are because things happened [some time]</div>
<div class="line">[Sunday 04 April 2010] [14:41:09] &lt;sustrik&gt; still, the subscriber must acknowledge update receival</div>
<div class="line">[Sunday 04 April 2010] [14:41:11] &lt;desrt&gt;   so when the client goes online it just says &#8220;last time you saw me was _____&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:41:15] &lt;desrt&gt;   and the server sends events.....</div>
<div class="line">[Sunday 04 April 2010] [14:41:22] &lt;desrt&gt;   and the client just sees those as events....</div>
<div class="line">[Sunday 04 April 2010] [14:41:33] &lt;desrt&gt;   no.  they need not.</div>
<div class="line">[Sunday 04 April 2010] [14:41:41] &lt;desrt&gt;   since the client keeps track of what it knows &#8211; not the server</div>
<div class="line">[Sunday 04 April 2010] [14:41:54] &lt;sustrik&gt; how do you know how long you keep the updates in the database?</div>
<div class="line">[Sunday 04 April 2010] [14:42:00] &lt;desrt&gt;   so if the client gets the new events then it will update its serial number and ask for new events next time</div>
<div class="line">[Sunday 04 April 2010] [14:42:01] &lt;sustrik&gt; hm, forever, i guess?</div>
<div class="line">[Sunday 04 April 2010] [14:42:11] &lt;desrt&gt;   yes and no</div>
<div class="line">[Sunday 04 April 2010] [14:42:29] &lt;desrt&gt;   events will eventually drop from the queue if they are overridden by newer events</div>
<div class="line">[Sunday 04 April 2010] [14:42:36] &lt;desrt&gt;   like if someone writes to /some/setting with sequence number 5</div>
<div class="line">[Sunday 04 April 2010] [14:42:42] &lt;desrt&gt;   then laster /some/setting again with sequence number 8</div>
<div class="line">[Sunday 04 April 2010] [14:42:48] &lt;desrt&gt;   5 will never be sent ever again</div>
<div class="line">[Sunday 04 April 2010] [14:42:57] &lt;sustrik&gt; sure, understood</div>
<div class="line">[Sunday 04 April 2010] [14:43:31] &lt;desrt&gt;   so the number of events is bound by the natural size of the database</div>
<div class="line">[Sunday 04 April 2010] [14:44:40] &lt;sustrik&gt; well, i don&#8217;t believe abt queueing system has functionality like that</div>
<div class="line">[Sunday 04 April 2010] [14:44:58] &lt;sustrik&gt; if you send X to the queue</div>
<div class="line">[Sunday 04 April 2010] [14:44:58] &lt;desrt&gt;   k</div>
<div class="line">[Sunday 04 April 2010] [14:45:03] &lt;sustrik&gt; it will be delivered</div>
<div class="line">[Sunday 04 April 2010] [14:45:03] &lt;desrt&gt;   i might just stick with my homebrew then</div>
<div class="line">[Sunday 04 April 2010] [14:45:18] &lt;sustrik&gt; not depending on whether you send X+1 later on</div>
<div class="line">[Sunday 04 April 2010] [14:45:41] &lt;sustrik&gt; yes, that&#8217;s an option</div>
<div class="line">[Sunday 04 April 2010] [14:45:58] &lt;sustrik&gt; anyway, the scenario is interesting</div>
<div class="line">[Sunday 04 April 2010] [14:46:03] &lt;sustrik&gt; i&#8217;ll keep it in mind</div>
<div class="line">[Sunday 04 April 2010] [14:46:24] &lt;sustrik&gt; it&#8217;s somehow similar to a thing called &#8220;last value cache&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:46:49] &lt;sustrik&gt; it&#8217;s almost the same as with your scenario</div>
<div class="line">[Sunday 04 April 2010] [14:47:02] &lt;sustrik&gt; however, after client connect it get _whole_ set of settings</div>
<div class="line">[Sunday 04 April 2010] [14:47:13] &lt;sustrik&gt; not just those that have been changed in the meantime</div>
<div class="line">[Sunday 04 April 2010] [14:47:50] &lt;desrt&gt;   hmm</div>
<div class="line">[Sunday 04 April 2010] [14:47:58] &lt;desrt&gt;   well, my situation is slightly more complicated</div>
<div class="line">[Sunday 04 April 2010] [14:48:10] &lt;desrt&gt;   since writes may contain more than one value</div>
<div class="line">[Sunday 04 April 2010] [14:48:22] &lt;desrt&gt;   and there could be non-simple overlaps between different write events</div>
<div class="line">[Sunday 04 April 2010] [14:48:48] &lt;sustrik&gt; then you definitely have to perform the logic on application level</div>
<div class="line">[Sunday 04 April 2010] [14:48:59] &lt;sustrik&gt; however, you can still use 0mq instead of raw sockets</div>
<div class="line">[Sunday 04 April 2010] [14:49:24] &lt;sustrik&gt; just to transport the updates</div>
<div class="line">[Sunday 04 April 2010] [14:49:34] &lt;desrt&gt;   i&#8217;m using GNIO anyway (glib&#8217;s socket library)</div>
<div class="line">[Sunday 04 April 2010] [14:49:43] &lt;desrt&gt;   which has the benefit of glib mainloop integration</div>
<div class="line">[Sunday 04 April 2010] [14:49:49] &lt;desrt&gt;   (which is another question i wanted to ask about 0mq)</div>
<div class="line">[Sunday 04 April 2010] [14:50:06] &lt;sustrik&gt; what question exactly?</div>
<div class="line">[Sunday 04 April 2010] [14:50:13] &lt;desrt&gt;   i notice you have your own poll abstraction</div>
<div class="line">[Sunday 04 April 2010] [14:50:25] &lt;desrt&gt;   but most non-headless apps will already have their own mainloop</div>
<div class="line">[Sunday 04 April 2010] [14:50:40] &lt;desrt&gt;   and i didn&#8217;t see a way to integrate 0mq with another mainloop (or even get the fd...)</div>
<div class="line">[Sunday 04 April 2010] [14:50:48] &lt;sustrik&gt; well, there&#8217;s no way out of that</div>
<div class="line">[Sunday 04 April 2010] [14:51:12] &lt;sustrik&gt; POSIX doesn&#8217;t allow for creating your own fd implementation in user space</div>
<div class="line">[Sunday 04 April 2010] [14:51:45] &lt;sustrik&gt; lot of political pressure would be needed to amend POSIX</div>
<div class="line">[Sunday 04 April 2010] [14:52:04] &lt;sustrik&gt; still, it&#8217;ll take lot of time till all OSes would implement the new functionality</div>
<div class="line">[Sunday 04 April 2010] [14:52:08] &lt;desrt&gt;   many libraries provide mainloop integration hooks</div>
<div class="line">[Sunday 04 April 2010] [14:52:26] &lt;desrt&gt;   dbus comes to mind</div>
<div class="line">[Sunday 04 April 2010] [14:52:37] &lt;sustrik&gt; how does it achieve it?</div>
<div class="line">[Sunday 04 April 2010] [14:52:49] &lt;desrt&gt;   you give it a set of functions to call</div>
<div class="line">[Sunday 04 April 2010] [14:52:58] &lt;desrt&gt;   to start watching an fd for read/write</div>
<div class="line">[Sunday 04 April 2010] [14:53:15] &lt;sustrik&gt; ah, sure that&#8217;s easy</div>
<div class="line">[Sunday 04 April 2010] [14:53:31] &lt;desrt&gt;   i guess your case is hard since you&#8217;re essentially using a synchronous interface</div>
<div class="line">[Sunday 04 April 2010] [14:53:33] &lt;sustrik&gt; what i mean is that you cannot create your own &#8220;fd&#8221; in user space</div>
<div class="line">[Sunday 04 April 2010] [14:53:46] &lt;sustrik&gt; on Linux you have eventfd</div>
<div class="line">[Sunday 04 April 2010] [14:53:51] &lt;sustrik&gt; which is almost it</div>
<div class="line">[Sunday 04 April 2010] [14:54:18] &lt;sustrik&gt; (a little bit is missing that can be theoretically added in Linux)</div>
<div class="line">[Sunday 04 April 2010] [14:54:22] &lt;sustrik&gt; however, it&#8217;s not POSIX</div>
<div class="line">[Sunday 04 April 2010] [14:54:32] &lt;sustrik&gt; so other OSes have no equivalent</div>
<div class="line">[Sunday 04 April 2010] [17:45:56] &lt;mikko&gt;   sustrik: hi!</div>
<div class="line">[Sunday 04 April 2010] [17:54:47] &lt;mikko&gt;   too late</div>
<div class="line">[Monday 05 April 2010] [02:19:34] &lt;Bakafish&gt;    Hello group. I was hacking on the new &#8220;Butterfly&#8221; Example code and have an issue where I successfully send a message over an ipc channel but the blocked read side never seems to see it.</div>
<div class="line">[Monday 05 April 2010] [02:26:09] &lt;Bakafish&gt;    I&#8217;m referring to the final &#8216;sync&#8217; message indicating that all the test packets were received. The test packets are going across a similar channel just fine.  But the final sync packet to trigger the end of the timer is sent and the &#8220;Sending&#8221; process never seems to see it.</div>
<div class="line">[Monday 05 April 2010] [02:30:45] &lt;sustrik&gt; Bakafish: does the packet cross the network?</div>
<div class="line">[Monday 05 April 2010] [02:30:55] &lt;sustrik&gt; mikko: re</div>
<div class="line">[Monday 05 April 2010] [02:31:12] &lt;Bakafish&gt;    It&#8217;s using ipc (Pipes) so, no :-)</div>
<div class="line">[Monday 05 April 2010] [02:31:17] &lt;sustrik&gt; ah</div>
<div class="line">[Monday 05 April 2010] [02:33:46] &lt;Bakafish&gt;    Is it a situation where the packet is below some threshold so it&#8217;s being cached in a queue? I&#8217;m reaching for straws here.</div>
<div class="line">[Monday 05 April 2010] [02:34:23] &lt;sustrik&gt; Bakafish: no</div>
<div class="line">[Monday 05 April 2010] [02:34:31] &lt;sustrik&gt; it should be passed immediately</div>
<div class="line">[Monday 05 April 2010] [02:34:55] &lt;sustrik&gt; so all the components are running on the same box</div>
<div class="line">[Monday 05 April 2010] [02:35:03] &lt;sustrik&gt; using IPC for communication</div>
<div class="line">[Monday 05 April 2010] [02:35:05] &lt;sustrik&gt; right?</div>
<div class="line">[Monday 05 April 2010] [02:35:37] &lt;Bakafish&gt;    I&#8217;m getting a good return on the send side. The blocking read blocks correctly, it just never sees the packet.</div>
<div class="line">[Monday 05 April 2010] [02:35:50] &lt;Bakafish&gt;    That&#8217;s correct.</div>
<div class="line">[Monday 05 April 2010] [02:36:15] &lt;Bakafish&gt;    The other, seemingly identical connections are behaving correctly.</div>
<div class="line">[Monday 05 April 2010] [02:36:34] &lt;sustrik&gt; is the IPC filename same on the send and recv side?</div>
<div class="line">[Monday 05 April 2010] [02:36:46] &lt;sustrik&gt; (sanity check)</div>
<div class="line">[Monday 05 April 2010] [02:38:25] &lt;Bakafish&gt;    :-) I checked for that, and low and behold, one arg was ipc:///tmp/zmq/send_sync the other ipc://tmp/zmq/send_sync</div>
<div class="line">[Monday 05 April 2010] [02:38:40] &lt;Bakafish&gt;    Way to introduce myself to the group :-(</div>
<div class="line">[Monday 05 April 2010] [02:39:56] &lt;Bakafish&gt;    I was ls ing my tmp directory and saw the 3 expected files, didn&#8217;t think to check for a missing slash. Thanks for the help!</div>
<div class="line">[Monday 05 April 2010] [02:40:42] &lt;sustrik&gt; no problem :)</div>
<div class="line">[Monday 05 April 2010] [03:29:51] &lt;Bakafish&gt;    Okay, a question probably rivaling the level of stupidity of my prior one. In the case of more than one agent connecting to a ZMQ_DOWNSTREAM it round robins great, but if an agent goes away it doesn&#8217;t seem to be aware and packets are seemingly queued or lost for that agent. How do you access the queue registry and manipulate it?</div>
<div class="line">[Monday 05 April 2010] [03:43:19] &lt;sustrik&gt; Bakafish: the messages already delivered to an application are lost once the application crashes</div>
<div class="line">[Monday 05 April 2010] [03:43:28] &lt;sustrik&gt; you can limit the damage</div>
<div class="line">[Monday 05 April 2010] [03:43:42] &lt;sustrik&gt; by setting HWM socket option</div>
<div class="line">[Monday 05 April 2010] [03:43:58] &lt;sustrik&gt; which specifies how much messages may be queued in any given moment</div>
<div class="line">[Monday 05 April 2010] [03:46:23] &lt;Bakafish&gt;    That&#8217;s fair. But it&#8217;s not what I mean. If I launch the &#8216;Sender&#8217; with two &#8216;processor&#8217; nodes and one &#8216;results&#8217; node and run 1000 checks, everything is fine. 500 each. Then I kill one processor node, so there is only a single node in the pipeline. The queue still thinks there are two (timeout not met yet?) and a second run will result in 500 checks sent to the single processor instance.</div>
<div class="line">[Monday 05 April 2010] [03:47:09] &lt;sustrik&gt; let me see...</div>
<div class="line">[Monday 05 April 2010] [03:48:32] &lt;sustrik&gt; hm, i am not sure how UNIX domain sockets handle application crashes</div>
<div class="line">[Monday 05 April 2010] [03:48:52] &lt;sustrik&gt; maybe it takes some time to notify the sender that the receiver is dead?</div>
<div class="line">[Monday 05 April 2010] [03:49:19] &lt;sustrik&gt; can you try sleeping for a second after killing the app</div>
<div class="line">[Monday 05 April 2010] [03:49:30] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 05 April 2010] [03:49:51] &lt;Bakafish&gt;    If I have to write my own code to see if a process is alive or not that&#8217;s fine, but how do I identify the processor nodes attached to a paticular queue?</div>
<div class="line">[Monday 05 April 2010] [03:50:30] &lt;Bakafish&gt;    The server is dispatching these checks and so it has some knowledge of how many there are I&#8217;d assume.</div>
<div class="line">[Monday 05 April 2010] [03:50:48] &lt;Bakafish&gt;    Ahh, this isn&#8217;t a problem with TCP?</div>
<div class="line">[Monday 05 April 2010] [03:51:45] &lt;Bakafish&gt;    Meaning, if I was using TCP instead of sockets I shouldn&#8217;t expect this behavior?</div>
<div class="line">[Monday 05 April 2010] [03:51:57] &lt;sustrik&gt; well, i am not sure what&#8217;s happening, however, the obvious explanation would be that there&#8217;s an delay between receiver dying and sender being notified about the fact</div>
<div class="line">[Monday 05 April 2010] [03:52:04] &lt;Bakafish&gt;    sockets, bah. Pipes</div>
<div class="line">[Monday 05 April 2010] [03:52:16] &lt;sustrik&gt; in the meantime the mesages will be dispatched to that receiver</div>
<div class="line">[Monday 05 April 2010] [03:52:50] &lt;sustrik&gt; it applies to any communication channel (TCP, IPC, ...)</div>
<div class="line">[Monday 05 April 2010] [03:53:20] &lt;Bakafish&gt;    I see. I will check to see if it eventually times out. Is there a setting (I recall someone mentioning there was.)</div>
<div class="line">[Monday 05 April 2010] [03:53:39] &lt;sustrik&gt; nope, it&#8217;s dependent on IPC implementation</div>
<div class="line">[Monday 05 April 2010] [03:53:54] &lt;sustrik&gt; there&#8217;s probably a timeout in the kernel somewhere</div>
<div class="line">[Monday 05 April 2010] [03:56:12] &lt;Bakafish&gt;    Ahhh the HWM socket option was  what was discussed. I think someone was saying you could limit it but that there were all sorts of places where it could be queued along the path and reducing the number of messages in the queue had performance issues.</div>
<div class="line">[Monday 05 April 2010] [03:58:00] &lt;Bakafish&gt;    Let me play with it some more since I was using local pipes for convenience, I will be using TCP in production so it may behave better.</div>
<div class="line">[Monday 05 April 2010] [09:34:03] &lt;mikko&gt;   sustrik: did you notice the issue i opened at github over the hols?</div>
<div class="line">[Monday 05 April 2010] [09:47:37] &lt;sustrik&gt; mikko: yes, i did</div>
<div class="line">[Monday 05 April 2010] [10:09:17] &lt;mikko&gt;   cool</div>
<div class="line">[Monday 05 April 2010] [10:09:25] &lt;mikko&gt;   i got zmq_poll soon implemented</div>
<div class="line">[Monday 05 April 2010] [10:09:27] &lt;mikko&gt;   hopefully</div>
<div class="line">[Monday 05 April 2010] [10:15:16] &lt;sustrik&gt; mikko: seen you&#8217;ve did ~20 commits a day during the holiday :)</div>
<div class="line">[Monday 05 April 2010] [10:21:45] &lt;mikko&gt;   open source is made by night</div>
<div class="line">[Monday 05 April 2010] [10:21:47] &lt;mikko&gt;   :)</div>
<div class="line">[Monday 05 April 2010] [10:21:52] &lt;mikko&gt;   at least in my case</div>
<div class="line">[Monday 05 April 2010] [10:28:30] &lt;sustrik&gt; mikko: i&#8217;ve linked the PHP wiki page from the main page</div>
<div class="line">[Monday 05 April 2010] [10:28:52] &lt;mikko&gt;   sustrik: thanks</div>
<div class="line">[Monday 05 April 2010] [10:28:57] &lt;sustrik&gt; you should announce availability of the binding on the mailing list</div>
<div class="line">[Monday 05 April 2010] [10:29:15] &lt;mikko&gt;   sustrik: i&#8217;ll announce as soon as the api stabilizes</div>
<div class="line">[Monday 05 April 2010] [10:29:22] &lt;sustrik&gt; goodo</div>
<div class="line">[Monday 05 April 2010] [10:29:24] &lt;mikko&gt;   still need to add polling support</div>
<div class="line">[Monday 05 April 2010] [10:29:29] &lt;sustrik&gt; sure</div>
<div class="line">[Monday 05 April 2010] [10:29:31] &lt;mikko&gt;   after that it&#8217;s fairly complete</div>
<div class="line">[Monday 05 April 2010] [10:29:55] &lt;mikko&gt;   some of the tests are failing due to the zeromq2 / issue #12</div>
<div class="line">[Monday 05 April 2010] [10:32:22] &lt;sustrik&gt; i&#8217;ve reproduced the problem</div>
<div class="line">[Monday 05 April 2010] [10:32:31] &lt;sustrik&gt; trying to fix it...</div>
<div class="line">[Monday 05 April 2010] [10:32:38] &lt;mikko&gt;   different errors with different socket types</div>
<div class="line">[Monday 05 April 2010] [10:32:58] &lt;sustrik&gt; yes</div>
<div class="line">[Monday 05 April 2010] [10:37:31] &lt;mikko&gt;   i&#8217;m gonna take a short nap, been touring around berlin all day</div>
<div class="line">[Monday 05 April 2010] [10:37:32] &lt;mikko&gt;   laters</div>
<div class="line">[Monday 05 April 2010] [10:52:20] &lt;sustrik&gt; see you</div>
<div class="line">[Tuesday 06 April 2010] [01:34:20] &lt;CIA-5&gt;  zeromq2: 03Martin Sustrik 07master * r0777567 10/ doc/zmq_bind.txt : ENODEV from zmq_bind error described - <a class="reference external" href="http://bit.ly/bvC4mu">http://bit.ly/bvC4mu</a></div>
<div class="line">[Tuesday 06 April 2010] [09:23:34] &lt;CIA-5&gt;  zeromq2: 03Martin Lucina 07master * ra7973a2 10/ (doc/zmq_bind.txt doc/zmq_setsockopt.txt): Documentation fixes - <a class="reference external" href="http://bit.ly/b03kAA">http://bit.ly/b03kAA</a></div>
<div class="line">[Tuesday 06 April 2010] [09:27:06] &lt;jldupont&gt;   hi - where is the wire-format for 0mq?  I&#8217;d like to build an Erlang binding for it.</div>
<div class="line">[Tuesday 06 April 2010] [09:27:31] &lt;sustrik&gt;    jldupont: hi</div>
<div class="line">[Tuesday 06 April 2010] [09:27:37] &lt;sustrik&gt;    yes, there is</div>
<div class="line">[Tuesday 06 April 2010] [09:27:47] &lt;sustrik&gt;    have a look at zmq_tcp(7)</div>
<div class="line">[Tuesday 06 April 2010] [09:28:25] &lt;sustrik&gt;    however, wrapping the C library is much simpler than writing it anew in a different language</div>
<div class="line">[Tuesday 06 April 2010] [09:28:38] &lt;mato&gt;   it&#8217;s also much faster :-)</div>
<div class="line">[Tuesday 06 April 2010] [09:28:41] &lt;sustrik&gt;    while the API looks simple the entrails are pretty complex</div>
<div class="line">[Tuesday 06 April 2010] [09:29:10] &lt;jldupont&gt;   sustrik: hi - I don&#8217;t want to wrap the C library - there are two ways of interfacing with Erlang: through sockets or through a &#8220;driver&#8221; written in C.</div>
<div class="line">[Tuesday 06 April 2010] [09:29:27] &lt;sustrik&gt;    what&#8217;s the problem with the latter?</div>
<div class="line">[Tuesday 06 April 2010] [09:29:42] &lt;jldupont&gt;   sustrik: through the &#8220;C&#8221; driver, it is a pain - the polling part is not nice to do...</div>
<div class="line">[Tuesday 06 April 2010] [09:30:06] &lt;sustrik&gt;    you mean zmq_poll, right?</div>
<div class="line">[Tuesday 06 April 2010] [09:30:09] &lt;jldupont&gt;   writing code to handle sockets is very easy in Erlang.</div>
<div class="line">[Tuesday 06 April 2010] [09:30:39] &lt;jldupont&gt;   no: I don&#8217;t know zmq_poll but I know the pain of interfacing with Erlang through a C driver though.</div>
<div class="line">[Tuesday 06 April 2010] [09:30:50] &lt;sustrik&gt;    ok, i see</div>
<div class="line">[Tuesday 06 April 2010] [09:31:23] &lt;jldupont&gt;   If there isn&#8217;t a readily available wire-format doc, then I might reconsider writing a binding library for it.</div>
<div class="line">[Tuesday 06 April 2010] [09:31:33] &lt;mato&gt;   jldupont: hi, I would strongly recommend wrapping libzmq using the C API</div>
<div class="line">[Tuesday 06 April 2010] [09:32:04] &lt;sustrik&gt;    mato: well, if he wants just a silly sync library he can write it in Erlang</div>
<div class="line">[Tuesday 06 April 2010] [09:32:12] &lt;mato&gt;   jldupont: the higher level protocols are still in flux and not documented, so while you can &#8220;trivially&#8221; implement the framing layer, it won&#8217;t be very useful</div>
<div class="line">[Tuesday 06 April 2010] [09:32:29] &lt;mato&gt;   sustrik: yeah, but what would be the point of that? nothing to do with 0MQ really...</div>
<div class="line">[Tuesday 06 April 2010] [09:32:42] &lt;jldupont&gt;   mato: I see.  Then maybe 0MQ is not for me at this point then - I&#8217;ll stick with RabbitMQ.</div>
<div class="line">[Tuesday 06 April 2010] [09:33:32] &lt;jldupont&gt;   Thanks, ciao ciao.</div>
<div class="line">[Tuesday 06 April 2010] [09:33:41] &lt;sustrik&gt;    jldupond bye</div>
<div class="line">[Tuesday 06 April 2010] [09:40:19] &lt;sustrik&gt;    mato: there&#8217;s a fix for darwin build system in today&#8217;s email</div>
<div class="line">[Tuesday 06 April 2010] [09:40:26] &lt;sustrik&gt;    i haven&#8217;t apply it</div>
<div class="line">[Tuesday 06 April 2010] [09:40:36] &lt;sustrik&gt;    left it to you to check it</div>
<div class="line">[Tuesday 06 April 2010] [09:40:40] &lt;mato&gt;   thanks</div>
<div class="line">[Tuesday 06 April 2010] [09:40:46] &lt;mato&gt;   haven&#8217;t got that far in emails yet</div>
<div class="line">[Tuesday 06 April 2010] [09:40:53] &lt;sustrik&gt;    sure</div>
<div class="line">[Tuesday 06 April 2010] [10:11:53] &lt;mato&gt;   sustrik: where is the email about darwin? I&#8217;m missing it</div>
<div class="line">[Tuesday 06 April 2010] [10:12:05] &lt;sustrik&gt;    wait a sec</div>
<div class="line">[Tuesday 06 April 2010] [10:13:00] &lt;sustrik&gt;    [zeromq-dev] Publish/subscribe example &#8220;Operation not supported by  device&#8221;</div>
<div class="line">[Tuesday 06 April 2010] [10:13:03] &lt;sustrik&gt;    5:59 AM</div>
<div class="line">[Tuesday 06 April 2010] [10:13:25] &lt;mato&gt;   ah, people not using useful subjects, i hate that</div>
<div class="line">[Tuesday 06 April 2010] [10:44:28] &lt;mato&gt;   sustrik: i&#8217;ve fixed it in the jzmq git, i think</div>
<div class="line">[Tuesday 06 April 2010] [10:44:34] &lt;mato&gt;   will see what michael replies</div>
<div class="line">[Tuesday 06 April 2010] [10:46:11] &lt;sustrik&gt;    thx</div>
<div class="line">[Tuesday 06 April 2010] [10:46:47] &lt;sustrik&gt;    mato: you do the highlights?</div>
<div class="line">[Tuesday 06 April 2010] [10:46:56] &lt;sustrik&gt;    i was just getting to do it myself</div>
<div class="line">[Tuesday 06 April 2010] [10:47:02] &lt;mato&gt;   i&#8217;ll do it</div>
<div class="line">[Tuesday 06 April 2010] [10:47:05] &lt;sustrik&gt;    ok</div>
<div class="line">[Tuesday 06 April 2010] [10:47:08] &lt;mato&gt;   i know how listpages works more or less</div>
<div class="line">[Tuesday 06 April 2010] [10:47:14] &lt;sustrik&gt;    good, thanks</div>
<div class="line">[Tuesday 06 April 2010] [13:47:37] &lt;BusError&gt;   hi guys. Can I use multicast/udp without openpgm ?</div>
<div class="line">[Tuesday 06 April 2010] [13:48:27] &lt;sustrik&gt;    hi BusError :)</div>
<div class="line">[Tuesday 06 April 2010] [13:48:33] &lt;sustrik&gt;    no, you can&#8217;t</div>
<div class="line">[Tuesday 06 April 2010] [13:48:37] &lt;BusError&gt;   Hey :-)</div>
<div class="line">[Tuesday 06 April 2010] [13:48:42] &lt;BusError&gt;   ta !</div>
<div class="line">[Tuesday 06 April 2010] [13:49:04] &lt;BusError&gt;   I need the multicast bit, without necessarily the integrity bit</div>
<div class="line">[Tuesday 06 April 2010] [13:49:28] &lt;sustrik&gt;    you mean you need unreliable multicast, right?</div>
<div class="line">[Tuesday 06 April 2010] [13:49:45] &lt;sustrik&gt;    where messages can disapper randomly</div>
<div class="line">[Tuesday 06 April 2010] [13:49:57] &lt;BusError&gt;   yeah. It&#8217;s for mostly sending sensor data, and with just a bit of control</div>
<div class="line">[Tuesday 06 April 2010] [13:50:24] &lt;sustrik&gt;    several people spoke about adding support for that kind of thing to 0MQ</div>
<div class="line">[Tuesday 06 April 2010] [13:50:30] &lt;sustrik&gt;    but so far nobody did it</div>
<div class="line">[Tuesday 06 April 2010] [13:50:41] &lt;sustrik&gt;    currently you have to do with reliable multicast</div>
<div class="line">[Tuesday 06 April 2010] [13:50:58] &lt;BusError&gt;   openpgm looks &#8220;heavy&#8221; is it just an impression ?</div>
<div class="line">[Tuesday 06 April 2010] [13:51:16]   * BusError is doing embedded. He counts bytes :-)</div>
<div class="line">[Tuesday 06 April 2010] [13:51:40] &lt;sustrik&gt;    it&#8217;s dependent on glib which makes it somewhat fat</div>
<div class="line">[Tuesday 06 April 2010] [13:52:00] &lt;BusError&gt;   ah yeah. no kidding</div>
<div class="line">[Tuesday 06 April 2010] [13:52:38] &lt;sustrik&gt;    afaik there&#8217;s glib-less version of openpgm being worked on</div>
<div class="line">[Tuesday 06 April 2010] [13:52:53] &lt;sustrik&gt;    that may take some time though</div>
<div class="line">[Tuesday 06 April 2010] [13:53:22] &lt;BusError&gt;   well I think I&#8217;ll stick to my poor multicast for now then</div>
<div class="line">[Tuesday 06 April 2010] [13:54:15] &lt;sustrik&gt;    well, unless you have some time to plug unreliable multicast to 0mq, you are on your own :(</div>
<div class="line">[Tuesday 06 April 2010] [13:56:01] &lt;BusError&gt;   I&#8217;m already on WAY too many mailing lists :-)</div>
<div class="line">[Tuesday 06 April 2010] [13:56:25] &lt;BusError&gt;   but I&#8217;ll keep a tab in zeromq, looks fab, good job</div>
<div class="line">[Tuesday 06 April 2010] [13:56:36] &lt;sustrik&gt;    thanks</div>
<div class="line">[Tuesday 06 April 2010] [13:56:56] &lt;sustrik&gt;    keep eye on it, presumably someone will add unreliable multicast support</div>
<div class="line">[Tuesday 06 April 2010] [13:57:03] &lt;BusError&gt;   thanks for your help too</div>
<div class="line">[Tuesday 06 April 2010] [13:57:09] &lt;sustrik&gt;    you are welcome</div>
<div class="line">[Tuesday 06 April 2010] [13:57:23] &lt;BusError&gt;   well if I get desperate with my system, I&#8217;ll keep it in mind :-)</div>
<div class="line">[Tuesday 06 April 2010] [17:47:43] &lt;<a href="#id109"><span class="problematic" id="id110">|flyte|</span></a>&gt;    hornetQ vs 0MQ.... FIGTH!</div>
<div class="line">[Tuesday 06 April 2010] [17:47:46] &lt;<a href="#id111"><span class="problematic" id="id112">|flyte|</span></a>&gt;    heh.</div>
<div class="line">[Tuesday 06 April 2010] [17:47:49] &lt;<a href="#id113"><span class="problematic" id="id114">|flyte|</span></a>&gt;    hornetQ vs 0MQ.... FIGHT</div>
<div class="line">[Wednesday 07 April 2010] [02:21:22] &lt;CIA-5&gt;    zeromq2: 03Jon Dyte 07master * redfd05d 10/ (13 files in 5 dirs): devices can be created via API - <a class="reference external" href="http://bit.ly/dhJb8o">http://bit.ly/dhJb8o</a></div>
<div class="line">[Wednesday 07 April 2010] [02:21:24] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * r065e4d0 10/ (doc/zmq_bind.txt doc/zmq_setsockopt.txt): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/brkzAh">http://bit.ly/brkzAh</a></div>
<div class="line">[Wednesday 07 April 2010] [04:41:39] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * rb0250cc 10/ builds/msvc/libzmq/libzmq.vcproj : Win32 build fixed - <a class="reference external" href="http://bit.ly/9F6ImT">http://bit.ly/9F6ImT</a></div>
<div class="line">[Wednesday 07 April 2010] [05:02:04] &lt;mikko&gt;    good morning</div>
<div class="line">[Wednesday 07 April 2010] [05:11:42] &lt;sustrik&gt;  mikko: morning</div>
<div class="line">[Wednesday 07 April 2010] [05:12:58] &lt;mikko&gt;    sunny berlin</div>
<div class="line">[Wednesday 07 April 2010] [05:13:12] &lt;mikko&gt;    drinking double espresso in a cafe and waiting for my flight back</div>
<div class="line">[Wednesday 07 April 2010] [05:14:16] &lt;sustrik&gt;  lucky you :)</div>
<div class="line">[Wednesday 07 April 2010] [05:15:15] &lt;mikko&gt;    gdb is acting weird</div>
<div class="line">[Wednesday 07 April 2010] [05:15:23] &lt;mikko&gt;    (gdb) thread apply all bt</div>
<div class="line">[Wednesday 07 April 2010] [05:15:24] &lt;mikko&gt;    Cannot find new threads: generic error</div>
<div class="line">[Wednesday 07 April 2010] [05:15:27] &lt;mikko&gt;    do you ever get this?</div>
<div class="line">[Wednesday 07 April 2010] [05:15:46] &lt;sustrik&gt;  no</div>
<div class="line">[Wednesday 07 April 2010] [05:15:57] &lt;sustrik&gt;  but gdb sometimes acks in strange ways</div>
<div class="line">[Wednesday 07 April 2010] [05:16:04] &lt;sustrik&gt;  memory overwrites (?)</div>
<div class="line">[Wednesday 07 April 2010] [05:17:10] &lt;mikko&gt;    i get this whenever i run anything using libzmq</div>
<div class="line">[Wednesday 07 April 2010] [05:17:19] &lt;mikko&gt;    might be a kernel issue as well</div>
<div class="line">[Wednesday 07 April 2010] [05:17:44] &lt;sustrik&gt;  linux?</div>
<div class="line">[Wednesday 07 April 2010] [05:17:47] &lt;mikko&gt;    yep</div>
<div class="line">[Wednesday 07 April 2010] [05:17:56] &lt;mikko&gt;    Linux newdev 2.6.32-3-amd64 #1 SMP Wed Feb 24 18:07:42 UTC 2010 x86_64 GNU/Linux</div>
<div class="line">[Wednesday 07 April 2010] [05:18:25] &lt;sustrik&gt;  it behaves normally here:</div>
<div class="line">[Wednesday 07 April 2010] [05:18:26] &lt;sustrik&gt;  Linux istvan 2.6.31-20-generic #58-Ubuntu SMP Fri Mar 12 04:38:19 UTC 2010 x86_64 GNU/Linux</div>
<div class="line">[Wednesday 07 April 2010] [05:18:40] &lt;mikko&gt;    #58-ubuntu</div>
<div class="line">[Wednesday 07 April 2010] [05:18:45] &lt;mikko&gt;    thats a lot of compiles :)</div>
<div class="line">[Wednesday 07 April 2010] [05:18:52] &lt;mikko&gt;    ermm builds</div>
<div class="line">[Wednesday 07 April 2010] [05:19:04] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 07 April 2010] [05:19:47] &lt;sustrik&gt;  gcc 4.4.1</div>
<div class="line">[Wednesday 07 April 2010] [05:20:00] &lt;mikko&gt;    gcc version 4.4.3 20100108 (prerelease) (Debian 4.4.2-9)</div>
<div class="line">[Wednesday 07 April 2010] [05:20:19] &lt;mikko&gt;    i&#8217;ll try compiling with -ggdb3</div>
<div class="line">[Wednesday 07 April 2010] [05:20:51] &lt;mikko&gt;    shouldnt make difference though</div>
<div class="line">[Wednesday 07 April 2010] [05:21:50] &lt;mikko&gt;    or my env is just a bit too bleeding edge</div>
<div class="line">[Wednesday 07 April 2010] [05:22:01] &lt;mikko&gt;    i added polling support last night to php-zeromq</div>
<div class="line">[Wednesday 07 April 2010] [05:22:12] &lt;mikko&gt;    i think it starts to be feature complete soon</div>
<div class="line">[Wednesday 07 April 2010] [05:22:36] &lt;sustrik&gt;  great</div>
<div class="line">[Wednesday 07 April 2010] [05:23:20] &lt;sustrik&gt;  we&#8217;ve started a 0MQ blog, so when you have it ready it can be announced via blog (if you are willing to write few paragraphs about the binding)</div>
<div class="line">[Wednesday 07 April 2010] [05:25:45] &lt;mikko&gt;    sure</div>
<div class="line">[Wednesday 07 April 2010] [05:46:00] &lt;mikko&gt;    sustrik: <a class="reference external" href="http://pastie.org/907178">http://pastie.org/907178</a></div>
<div class="line">[Wednesday 07 April 2010] [05:46:09] &lt;mikko&gt;    is that me or libzmq?</div>
<div class="line">[Wednesday 07 April 2010] [05:48:42] &lt;sustrik&gt;  mikko: it&#8217;s trunk or 2.0.6?</div>
<div class="line">[Wednesday 07 April 2010] [05:50:44] &lt;sustrik&gt;  looks like trunk...</div>
<div class="line">[Wednesday 07 April 2010] [05:51:30] &lt;sustrik&gt;  there&#8217;s</div>
<div class="line">[Wednesday 07 April 2010] [05:51:36] &lt;sustrik&gt;  a bug there</div>
<div class="line">[Wednesday 07 April 2010] [05:51:40] &lt;sustrik&gt;  let me fix it</div>
<div class="line">[Wednesday 07 April 2010] [05:52:40] &lt;mikko&gt;    trunk</div>
<div class="line">[Wednesday 07 April 2010] [05:52:44] &lt;mikko&gt;    thanks</div>
<div class="line">[Wednesday 07 April 2010] [05:54:57] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * r745db9c 10/ src/session.cpp : unitialised member in seesion_t class - fixed - <a class="reference external" href="http://bit.ly/dfTd1L">http://bit.ly/dfTd1L</a></div>
<div class="line">[Wednesday 07 April 2010] [05:54:58] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * r0f7aab5 10/ builds/msvc/libzmq/libzmq.vcproj : Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/aQv9SX">http://bit.ly/aQv9SX</a></div>
<div class="line">[Wednesday 07 April 2010] [05:55:09] &lt;sustrik&gt;  mikko: try now</div>
<div class="line">[Wednesday 07 April 2010] [06:01:20] &lt;mikko&gt;    sustrik: ok, sec</div>
<div class="line">[Wednesday 07 April 2010] [06:02:13] &lt;mikko&gt;    off to the airport</div>
<div class="line">[Wednesday 07 April 2010] [06:02:18] &lt;mikko&gt;    i&#8217;ll be back later -&gt;</div>
<div class="line">[Wednesday 07 April 2010] [06:04:58] &lt;sustrik&gt;  cya</div>
<div class="line">[Wednesday 07 April 2010] [15:32:34] &lt;mikko&gt;    back!</div>
<div class="line">[Wednesday 07 April 2010] [15:36:25] &lt;mikko&gt;    sustrik: are you still here?</div>
<div class="line">[Wednesday 07 April 2010] [15:43:45] &lt;sustrik&gt;  mikko: yes</div>
<div class="line">[Wednesday 07 April 2010] [15:44:49] &lt;mikko&gt;    i found something new</div>
<div class="line">[Wednesday 07 April 2010] [15:44:57] &lt;mikko&gt;    <a class="reference external" href="http://pastie.org/908107">http://pastie.org/908107</a></div>
<div class="line">[Wednesday 07 April 2010] [15:45:04] &lt;mikko&gt;    haven&#8217;t got down to it yet</div>
<div class="line">[Wednesday 07 April 2010] [15:45:19] &lt;mikko&gt;    but seems to happen when i create pollitem but don&#8217;t execute poll</div>
<div class="line">[Wednesday 07 April 2010] [15:46:15] &lt;sustrik&gt;  hm, pollitem is a dumb structure</div>
<div class="line">[Wednesday 07 April 2010] [15:46:21] &lt;sustrik&gt;  it should have no effect</div>
<div class="line">[Wednesday 07 April 2010] [15:47:04] &lt;mikko&gt;    yep, i noticed</div>
<div class="line">[Wednesday 07 April 2010] [15:47:14] &lt;mikko&gt;    it might be something in my code as well</div>
<div class="line">[Wednesday 07 April 2010] [15:48:15] &lt;mikko&gt;    # ./test</div>
<div class="line">[Wednesday 07 April 2010] [15:48:15] &lt;mikko&gt;    Assertion failed: load.get () == 0 (epoll.cpp:49)</div>
<div class="line">[Wednesday 07 April 2010] [15:48:15] &lt;mikko&gt;    Aborted</div>
<div class="line">[Wednesday 07 April 2010] [15:48:18] &lt;mikko&gt;    here we go</div>
<div class="line">[Wednesday 07 April 2010] [15:48:59] &lt;mikko&gt;    that&#8217;s not the one i get though</div>
<div class="line">[Wednesday 07 April 2010] [15:49:19] &lt;sustrik&gt;  ok, there&#8217;s definitely a race condition in socket shutdown mechanism</div>
<div class="line">[Wednesday 07 April 2010] [15:49:29] &lt;sustrik&gt;  it&#8217;ve been reported serveral times</div>
<div class="line">[Wednesday 07 April 2010] [15:49:42] &lt;sustrik&gt;  what i need is to reproduce it here</div>
<div class="line">[Wednesday 07 April 2010] [15:49:51] &lt;sustrik&gt;  do you have a test program?</div>
<div class="line">[Wednesday 07 April 2010] [15:49:52] &lt;mikko&gt;    ok, let me pastebin it</div>
<div class="line">[Wednesday 07 April 2010] [15:49:54] &lt;mikko&gt;    yes i do</div>
<div class="line">[Wednesday 07 April 2010] [15:50:08] &lt;sustrik&gt;  great, can you send it to me?</div>
<div class="line">[Wednesday 07 April 2010] [15:50:08] &lt;mikko&gt;    <a class="reference external" href="http://pastie.org/908126">http://pastie.org/908126</a></div>
<div class="line">[Wednesday 07 April 2010] [15:50:09] &lt;mikko&gt;    there</div>
<div class="line">[Wednesday 07 April 2010] [15:50:16] &lt;sustrik&gt;  thx</div>
<div class="line">[Wednesday 07 April 2010] [15:50:41] &lt;mikko&gt;    testing with github master</div>
<div class="line">[Wednesday 07 April 2010] [15:50:45] &lt;mikko&gt;    (i think)</div>
<div class="line">[Wednesday 07 April 2010] [15:50:49] &lt;sustrik&gt;  ok</div>
<div class="line">[Wednesday 07 April 2010] [15:51:53] &lt;mikko&gt;    yes, interesting enough similar code generates: Invalid argument (mutex.hpp:97) under valgrind</div>
<div class="line">[Wednesday 07 April 2010] [15:52:21] &lt;mikko&gt;    so might be a race condition indeed</div>
<div class="line">[Wednesday 07 April 2010] [15:53:00] &lt;mikko&gt;    i&#8217;m probably stumbling into all possible edge cases here :)</div>
<div class="line">[Wednesday 07 April 2010] [15:54:13] &lt;sustrik&gt;  looks like it has to do with closing an unconnected socket...</div>
<div class="line">[Wednesday 07 April 2010] [15:54:23] &lt;sustrik&gt;  i&#8217;ll give it a closer look tomorrow</div>
<div class="line">[Wednesday 07 April 2010] [15:54:41] &lt;mikko&gt;    you are right</div>
<div class="line">[Wednesday 07 April 2010] [16:03:03] &lt;mikko&gt;    Assertion failed: !sending_reply || !more || reply_pipe != <a href="#id236"><span class="problematic" id="id237">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Wednesday 07 April 2010] [16:03:04] &lt;mikko&gt;    Aborted</div>
<div class="line">[Wednesday 07 April 2010] [16:03:08] &lt;mikko&gt;    this is interesting as well</div>
<div class="line">[Wednesday 07 April 2010] [17:38:32] &lt;lvh&gt;  Hello.</div>
<div class="line">[Wednesday 07 April 2010] [17:39:01] &lt;lvh&gt;  I&#8217;ve got a use case and I&#8217;m wondering how it translates into 0MQ.</div>
<div class="line">[Wednesday 07 April 2010] [17:39:25] &lt;lvh&gt;  Stuff comes in, all of it gets persisted. Some of it gets pushed to a COMET server and eventually to someone&#8217;s browser.</div>
<div class="line">[Wednesday 07 April 2010] [17:40:54] &lt;lvh&gt;  For persistence, I&#8217;d like something with load balancing and possibly failover (if possible), but the COMET part is special: out of all the persisters, only one of them needs to be pushed to, but all of the COMET listeners need to be pushed to.</div>
<div class="line">[Wednesday 07 April 2010] [17:41:13] &lt;lvh&gt;  Can I do that without sending a message twice?</div>
<div class="line">[Wednesday 07 April 2010] [17:41:30] &lt;lvh&gt;  Can I send a message twice into two exchanges?</div>
<div class="line">[Thursday 08 April 2010] [01:03:45] &lt;sustrik&gt;   mikko: Assertion failed: !sending_reply || !more || reply_pipe != <a href="#id238"><span class="problematic" id="id239">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Thursday 08 April 2010] [01:03:53] &lt;sustrik&gt;   are you playing with multi-part messages?</div>
<div class="line">[Thursday 08 April 2010] [02:34:34] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r38e9103 10/ src/object.cpp : issue 13 (Assertion failed: load.get () == 0 (epoll.cpp:49)) fixed - http://bit.ly/b86MQU</div>
<div class="line">[Thursday 08 April 2010] [03:20:53] &lt;mikko&gt; sustrik: nope</div>
<div class="line">[Thursday 08 April 2010] [03:22:42] &lt;mikko&gt; normal request reply</div>
<div class="line">[Thursday 08 April 2010] [04:15:06] &lt;mikko&gt; sustrik: although i still can&#8217;t get gdb to work</div>
<div class="line">[Thursday 08 April 2010] [04:19:14] &lt;sustrik&gt;   mikko: i&#8217;ve fixed thr load.get () == 0 problem</div>
<div class="line">[Thursday 08 April 2010] [04:19:29] &lt;sustrik&gt;   now looking at !sending_reply || !more || reply_pipe != <a href="#id240"><span class="problematic" id="id241">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Thursday 08 April 2010] [04:19:31] &lt;mikko&gt; sustrik: nice!</div>
<div class="line">[Thursday 08 April 2010] [04:23:53] &lt;mikko&gt; i wonder what&#8217;s going on now</div>
<div class="line">[Thursday 08 April 2010] [04:24:24] &lt;mikko&gt; <a class="reference external" href="http://pastie.org/908956">http://pastie.org/908956</a></div>
<div class="line">[Thursday 08 April 2010] [04:24:28] &lt;mikko&gt; it get&#8217;s stuck there</div>
<div class="line">[Thursday 08 April 2010] [04:26:46] &lt;mikko&gt; that is request-reply pattern: create server, create client, client sends, server recvs, server sends, client recvs</div>
<div class="line">[Thursday 08 April 2010] [04:27:47] &lt;sustrik&gt;   can you do a quick check with local_lat/remote_lat?</div>
<div class="line">[Thursday 08 April 2010] [04:27:51] &lt;sustrik&gt;   it&#8217;s the same pattern</div>
<div class="line">[Thursday 08 April 2010] [04:28:07] &lt;sustrik&gt;   and the test used to work before the multi-part message changes</div>
<div class="line">[Thursday 08 April 2010] [04:28:10] &lt;mikko&gt; downgrading to 2.0.6 works</div>
<div class="line">[Thursday 08 April 2010] [04:28:18] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [04:28:21] &lt;mikko&gt; ok, give me a sec</div>
<div class="line">[Thursday 08 April 2010] [04:29:03] &lt;mikko&gt; local_lat ?</div>
<div class="line">[Thursday 08 April 2010] [04:29:31] &lt;sustrik&gt;   perf/local_lat</div>
<div class="line">[Thursday 08 April 2010] [04:29:35] &lt;sustrik&gt;   latency test</div>
<div class="line">[Thursday 08 April 2010] [04:30:01] &lt;sustrik&gt;   local_lat <a class="reference external" href="tcp://lo:5555">tcp://lo:5555</a> 1 1000</div>
<div class="line">[Thursday 08 April 2010] [04:30:09] &lt;mikko&gt; ah</div>
<div class="line">[Thursday 08 April 2010] [04:30:10] &lt;sustrik&gt;   remote_lat <a class="reference external" href="tcp://localhost:5555">tcp://localhost:5555</a> 1 1000</div>
<div class="line">[Thursday 08 April 2010] [04:30:21] &lt;mikko&gt; Assertion failed: false (xrep.cpp:37)</div>
<div class="line">[Thursday 08 April 2010] [04:30:21] &lt;mikko&gt; Aborted</div>
<div class="line">[Thursday 08 April 2010] [04:30:28] &lt;mikko&gt; tested with XREP/XREQ</div>
<div class="line">[Thursday 08 April 2010] [04:30:43] &lt;sustrik&gt;   these are not functional at the moment</div>
<div class="line">[Thursday 08 April 2010] [04:30:50] &lt;sustrik&gt;   they are not even documented</div>
<div class="line">[Thursday 08 April 2010] [04:31:05] &lt;mikko&gt; ok</div>
<div class="line">[Thursday 08 April 2010] [04:31:49] &lt;mikko&gt; message size: 1 [B]</div>
<div class="line">[Thursday 08 April 2010] [04:31:49] &lt;mikko&gt; roundtrip count: 1000</div>
<div class="line">[Thursday 08 April 2010] [04:31:49] &lt;mikko&gt; average latency: 17.049 [us]</div>
<div class="line">[Thursday 08 April 2010] [04:33:21] &lt;sustrik&gt;   hm, that works</div>
<div class="line">[Thursday 08 April 2010] [04:33:52] &lt;sustrik&gt;   can i get the test peogram that caused the  <a class="reference external" href="http://pastie.org/908956">http://pastie.org/908956</a> problem?</div>
<div class="line">[Thursday 08 April 2010] [04:33:55] &lt;mikko&gt; let me make a reproducable case</div>
<div class="line">[Thursday 08 April 2010] [04:33:59] &lt;sustrik&gt;   thanks</div>
<div class="line">[Thursday 08 April 2010] [04:34:03] &lt;mikko&gt; sustrik: it&#8217;s one of the php tests</div>
<div class="line">[Thursday 08 April 2010] [04:34:07] &lt;sustrik&gt;   :|</div>
<div class="line">[Thursday 08 April 2010] [04:34:22] &lt;mikko&gt; i should be able to make a C test case</div>
<div class="line">[Thursday 08 April 2010] [04:45:55] &lt;mikko&gt; no, can&#8217;t reproduce outside php extension</div>
<div class="line">[Thursday 08 April 2010] [04:46:24] &lt;mikko&gt; REQ send, REP recv</div>
<div class="line">[Thursday 08 April 2010] [04:46:29] &lt;mikko&gt; it gets stuck on recv</div>
<div class="line">[Thursday 08 April 2010] [04:49:11] &lt;mikko&gt; similar thing works if i run client and server in different processes</div>
<div class="line">[Thursday 08 April 2010] [04:49:37] &lt;sustrik&gt;   it&#8217;s inproc transport?</div>
<div class="line">[Thursday 08 April 2010] [04:49:51] &lt;mikko&gt; <a class="reference external" href="tcp://">tcp://</a></div>
<div class="line">[Thursday 08 April 2010] [04:50:03] &lt;sustrik&gt;   within a single process?</div>
<div class="line">[Thursday 08 April 2010] [04:50:11] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 08 April 2010] [04:50:42] &lt;sustrik&gt;   hm, given that gdb doesn&#8217;t work for you, there&#8217;s no chance of getting a backtrace, right?</div>
<div class="line">[Thursday 08 April 2010] [04:51:23] &lt;mikko&gt; i can test on more stable environment later</div>
<div class="line">[Thursday 08 April 2010] [04:52:51] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [04:53:08] &lt;sustrik&gt;   now for the !sending_reply || !more || reply_pipe != <a href="#id242"><span class="problematic" id="id243">pipe_</span></a> (rep.cpp:96) problem</div>
<div class="line">[Thursday 08 April 2010] [04:53:31] &lt;sustrik&gt;   it looks like there must be multipart message involved somehow</div>
<div class="line">[Thursday 08 April 2010] [04:53:33] &lt;sustrik&gt;   strange</div>
<div class="line">[Thursday 08 April 2010] [04:53:40] &lt;sustrik&gt;   is it php or c test?</div>
<div class="line">[Thursday 08 April 2010] [04:53:55] &lt;mikko&gt; php</div>
<div class="line">[Thursday 08 April 2010] [04:54:07] &lt;sustrik&gt;   2 endpoints?</div>
<div class="line">[Thursday 08 April 2010] [04:54:15] &lt;mikko&gt; in two separate processes</div>
<div class="line">[Thursday 08 April 2010] [04:54:20] &lt;sustrik&gt;   tcp?</div>
<div class="line">[Thursday 08 April 2010] [04:54:23] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 08 April 2010] [04:54:27] &lt;mikko&gt; REQ/REP</div>
<div class="line">[Thursday 08 April 2010] [04:54:39] &lt;sustrik&gt;   ok, do you know how to work with wireshark?</div>
<div class="line">[Thursday 08 April 2010] [04:54:47] &lt;sustrik&gt;   or tcpdump</div>
<div class="line">[Thursday 08 April 2010] [04:54:53] &lt;mikko&gt; i can tcpdump</div>
<div class="line">[Thursday 08 April 2010] [04:55:03] &lt;mikko&gt; wireshark requires a qui iirc?</div>
<div class="line">[Thursday 08 April 2010] [04:55:42] &lt;sustrik&gt;   there&#8217;s command line version called tshark</div>
<div class="line">[Thursday 08 April 2010] [04:55:52] &lt;sustrik&gt;   tcpdump is ok</div>
<div class="line">[Thursday 08 April 2010] [04:56:05] &lt;sustrik&gt;   i just want to know what data are passed between the two</div>
<div class="line">[Thursday 08 April 2010] [04:56:11] &lt;sustrik&gt;   can you get that for me?</div>
<div class="line">[Thursday 08 April 2010] [04:58:11] &lt;mikko&gt; ok, i&#8217;ll try to get a dump</div>
<div class="line">[Thursday 08 April 2010] [05:00:03] &lt;mikko&gt; can&#8217;t seem to lure it out after the latest epoll fix</div>
<div class="line">[Thursday 08 April 2010] [05:02:59] &lt;mikko&gt; i wonder if it was related to that (something wrong in my end)</div>
<div class="line">[Thursday 08 April 2010] [05:08:11] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r77cbd18 10/ src/pgm_receiver.cpp : issue 11 - Assertion failed: it != peers.end () (pgm_receiver.cpp:161) - <a class="reference external" href="http://bit.ly/djxu54">http://bit.ly/djxu54</a></div>
<div class="line">[Thursday 08 April 2010] [05:20:00] &lt;mikko&gt; sustrik: now i can reproduce</div>
<div class="line">[Thursday 08 April 2010] [05:20:02] &lt;mikko&gt; time for tcpdump</div>
<div class="line">[Thursday 08 April 2010] [05:22:53] &lt;olivier_c&gt; hello everybody</div>
<div class="line">[Thursday 08 April 2010] [05:24:17] &lt;sustrik&gt;   olivier_c: hi</div>
<div class="line">[Thursday 08 April 2010] [05:26:45] &lt;mikko&gt; sustrik: <a class="reference external" href="http://valokuva.org/~mikko/comm.pcap.gz">http://valokuva.org/~mikko/comm.pcap.gz</a></div>
<div class="line">[Thursday 08 April 2010] [05:26:59] &lt;mikko&gt; that is tcpdump -vvv -w comm.pcap -i lo port 5555</div>
<div class="line">[Thursday 08 April 2010] [05:38:46] &lt;olivier_c&gt; sustrik, i&#8217;ve a little question about the behavior of sub multiple sockets.</div>
<div class="line">[Thursday 08 April 2010] [05:38:55] &lt;sustrik&gt;   sure</div>
<div class="line">[Thursday 08 April 2010] [05:38:58] &lt;olivier_c&gt; <a href="#id1"><span class="problematic" id="id2">*</span></a>multiple sub</div>
<div class="line">[Thursday 08 April 2010] [05:39:07] &lt;sustrik&gt;   mikko: (inspecting the pcap)</div>
<div class="line">[Thursday 08 April 2010] [05:39:43] &lt;olivier_c&gt;  if i create 2 sub sockets (in different threads), and send messages on them, the reception is &#8220;alternate&#8221;.  i-e socket_one receive a message, then zmq is waiting on socket_two, and ignore messages arriving on socket_one.</div>
<div class="line">[Thursday 08 April 2010] [05:39:54] &lt;olivier_c&gt; multiple sub sockets can&#8217;t receive messages simultaneously ?</div>
<div class="line">[Thursday 08 April 2010] [05:40:57] &lt;sustrik&gt;   they should</div>
<div class="line">[Thursday 08 April 2010] [05:41:18] &lt;sustrik&gt;   what socket type are you using on sender side?</div>
<div class="line">[Thursday 08 April 2010] [05:41:35] &lt;olivier_c&gt; ZMQ_PUB</div>
<div class="line">[Thursday 08 April 2010] [05:42:08] &lt;sustrik&gt;   &#8221; if i create 2 sub sockets (in different threads), and send messages on them&#8221;</div>
<div class="line">[Thursday 08 April 2010] [05:42:13] &lt;sustrik&gt;   you mean &#8220;to them&#8221;</div>
<div class="line">[Thursday 08 April 2010] [05:42:14] &lt;sustrik&gt;   right?</div>
<div class="line">[Thursday 08 April 2010] [05:42:57] &lt;olivier_c&gt; yes,</div>
<div class="line">[Thursday 08 April 2010] [05:43:26] &lt;mikko&gt; sustrik: possibly related symptom: my poll server example stopped working as well, it doesn&#8217;t send a message even though zmq_send returns 0 and the socket is continously marked as writable</div>
<div class="line">[Thursday 08 April 2010] [05:43:33] &lt;mikko&gt; which causes eternal loop in polling</div>
<div class="line">[Thursday 08 April 2010] [05:43:51] &lt;sustrik&gt;   olivier_c: do you have a test program?</div>
<div class="line">[Thursday 08 April 2010] [05:44:20] &lt;sustrik&gt;   mikko: ok, as for the tcp dump</div>
<div class="line">[Thursday 08 April 2010] [05:44:39] &lt;olivier_c&gt; yes, i send you this in few minutes</div>
<div class="line">[Thursday 08 April 2010] [05:44:42] &lt;mikko&gt; hopefully gdb works on my other box</div>
<div class="line">[Thursday 08 April 2010] [05:44:44] &lt;sustrik&gt;   there seem to be 3 connections established</div>
<div class="line">[Thursday 08 April 2010] [05:44:47] &lt;sustrik&gt;   right&gt;</div>
<div class="line">[Thursday 08 April 2010] [05:44:48] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 08 April 2010] [05:44:58] &lt;sustrik&gt;   olivier_c: please, do</div>
<div class="line">[Thursday 08 April 2010] [05:46:04] &lt;sustrik&gt;   the on one of them &#8220;hello there!&#8221; message is sent</div>
<div class="line">[Thursday 08 April 2010] [05:50:40] &lt;sustrik&gt;   mikko: a double check - the pcap you&#8217;ve sent caused the !sending_reply || !more || reply_pipe != <a href="#id244"><span class="problematic" id="id245">pipe_</span></a> (rep.cpp:96) assertion, right?</div>
<div class="line">[Thursday 08 April 2010] [05:52:42] &lt;mikko&gt; sustrik: yes</div>
<div class="line">[Thursday 08 April 2010] [05:52:56] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [06:03:01] &lt;sustrik&gt;   mikko: hm, there seems to be no way how this can heppen :(</div>
<div class="line">[Thursday 08 April 2010] [06:03:04] &lt;sustrik&gt;   it&#8217;s php?</div>
<div class="line">[Thursday 08 April 2010] [06:03:13] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 08 April 2010] [06:03:39] &lt;mikko&gt; seems like most of the things are not working with github master</div>
<div class="line">[Thursday 08 April 2010] [06:04:26] &lt;mikko&gt; the poll-server.php example gets stuck in eternal loop where socket is constantly writable</div>
<div class="line">[Thursday 08 April 2010] [06:04:31] &lt;mikko&gt; even though message was just sent</div>
<div class="line">[Thursday 08 April 2010] [06:04:36] &lt;mikko&gt; but the client does not receive the message</div>
<div class="line">[Thursday 08 April 2010] [06:04:55] &lt;mikko&gt; downgrading to 2.0.6 and everything works</div>
<div class="line">[Thursday 08 April 2010] [06:05:08] &lt;sustrik&gt;   it possibly has to do with multipart messages</div>
<div class="line">[Thursday 08 April 2010] [06:05:21] &lt;sustrik&gt;   i have to get it reproduced somehow...</div>
<div class="line">[Thursday 08 April 2010] [06:05:31] &lt;mikko&gt; you could try with the php extension?</div>
<div class="line">[Thursday 08 April 2010] [06:05:45] &lt;sustrik&gt;   if you instruct me how to do it</div>
<div class="line">[Thursday 08 April 2010] [06:06:00]      * sustrik never used php</div>
<div class="line">[Thursday 08 April 2010] [06:06:25] &lt;mikko&gt; <a class="reference external" href="http://php.net/distributions/php-5.3.2.tar.bz2">http://php.net/distributions/php-5.3.2.tar.bz2</a></div>
<div class="line">[Thursday 08 April 2010] [06:06:36] &lt;mikko&gt; tar xfj php-5.3.2.tar.bz2</div>
<div class="line">[Thursday 08 April 2010] [06:06:39] &lt;mikko&gt; cd php-5.3.2</div>
<div class="line">[Thursday 08 April 2010] [06:06:56] &lt;mikko&gt; ./configure &#8211;disable-all &#8211;prefix=/opt/local &#8211;enable-debug</div>
<div class="line">[Thursday 08 April 2010] [06:07:08] &lt;mikko&gt; make &amp;&amp; make install</div>
<div class="line">[Thursday 08 April 2010] [06:07:16] &lt;mikko&gt; to get php running with debug</div>
<div class="line">[Thursday 08 April 2010] [06:07:49] &lt;mikko&gt; to install zeromq extension</div>
<div class="line">[Thursday 08 April 2010] [06:07:50] &lt;mikko&gt; git clone git://github.com/mkoppanen/php-zeromq.git</div>
<div class="line">[Thursday 08 April 2010] [06:07:54] &lt;mikko&gt; cd php-zeromq</div>
<div class="line">[Thursday 08 April 2010] [06:08:14] &lt;mikko&gt; /opt/local/bin/phpize &amp;&amp; ./configure &#8211;with-php-config=/opt/local/bin/php-config</div>
<div class="line">[Thursday 08 April 2010] [06:08:21] &lt;mikko&gt; make install</div>
<div class="line">[Thursday 08 April 2010] [06:10:42] &lt;sustrik&gt;   mikko: done</div>
<div class="line">[Thursday 08 April 2010] [06:10:44] &lt;sustrik&gt;   what now?</div>
<div class="line">[Thursday 08 April 2010] [06:12:00] &lt;mikko&gt; ls -l /opt/local/lib/php/extensions/debug-non-zts-20090626/</div>
<div class="line">[Thursday 08 April 2010] [06:12:05] &lt;mikko&gt; do you have zeromq.so there?</div>
<div class="line">[Thursday 08 April 2010] [06:12:16] &lt;sustrik&gt;   yes, i do</div>
<div class="line">[Thursday 08 April 2010] [06:12:34] &lt;mikko&gt; create new file /opt/local/lib/php.ini and add:</div>
<div class="line">[Thursday 08 April 2010] [06:12:38] &lt;mikko&gt; extension_dir=/opt/local/lib/php/extensions/debug-non-zts-20090626/</div>
<div class="line">[Thursday 08 April 2010] [06:12:42] &lt;mikko&gt; extension=zeromq.so</div>
<div class="line">[Thursday 08 April 2010] [06:12:56] &lt;mikko&gt; after that /opt/local/bin/php -m should show zeromq in the extension list</div>
<div class="line">[Thursday 08 April 2010] [06:13:34] &lt;mikko&gt; then in the php-zeromq dir run /opt/local/bin/php examples/poll-server.php</div>
<div class="line">[Thursday 08 April 2010] [06:13:41] &lt;mikko&gt; and the client /opt/local/bin/php examples/client.php</div>
<div class="line">[Thursday 08 April 2010] [06:13:50] &lt;mikko&gt; the client should send and recv single message</div>
<div class="line">[Thursday 08 April 2010] [06:14:52] &lt;sustrik&gt;   it did</div>
<div class="line">[Thursday 08 April 2010] [06:15:01] &lt;mikko&gt; are you using 2.0.6 ?</div>
<div class="line">[Thursday 08 April 2010] [06:15:16] &lt;sustrik&gt;   it&#8217;s trunk</div>
<div class="line">[Thursday 08 April 2010] [06:15:20] &lt;sustrik&gt;   i think</div>
<div class="line">[Thursday 08 April 2010] [06:15:23] &lt;sustrik&gt;   let me double check</div>
<div class="line">[Thursday 08 April 2010] [06:15:43] &lt;mikko&gt; for me it works with 2.0.6 but trunk gets into eternal loop on the server side</div>
<div class="line">[Thursday 08 April 2010] [06:16:46] &lt;sustrik&gt;   how do i know?</div>
<div class="line">[Thursday 08 April 2010] [06:17:03] &lt;sustrik&gt;   it says: Received message: hello there!</div>
<div class="line">[Thursday 08 April 2010] [06:17:08] &lt;sustrik&gt;   then does nothing</div>
<div class="line">[Thursday 08 April 2010] [06:17:15] &lt;mikko&gt; does the client exit after that?</div>
<div class="line">[Thursday 08 April 2010] [06:17:32] &lt;sustrik&gt;   nope</div>
<div class="line">[Thursday 08 April 2010] [06:17:37] &lt;sustrik&gt;   one cpu core 100%</div>
<div class="line">[Thursday 08 April 2010] [06:17:51] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 08 April 2010] [06:17:57] &lt;mikko&gt; the server is in a loop</div>
<div class="line">[Thursday 08 April 2010] [06:18:13] &lt;mikko&gt; exit the server using ctrl c</div>
<div class="line">[Thursday 08 April 2010] [06:18:25] &lt;sustrik&gt;   zmq_poll return POLLIN</div>
<div class="line">[Thursday 08 April 2010] [06:18:30] &lt;sustrik&gt;   but there&#8217;s no message</div>
<div class="line">[Thursday 08 April 2010] [06:18:31] &lt;mikko&gt; if you rerun the same thing and exit client with ctrl c</div>
<div class="line">[Thursday 08 April 2010] [06:18:32] &lt;sustrik&gt;   right?</div>
<div class="line">[Thursday 08 April 2010] [06:18:38] &lt;mikko&gt; Received message: hello there!</div>
<div class="line">[Thursday 08 April 2010] [06:18:39] &lt;mikko&gt; Assertion failed: !sending_reply || !more || reply_pipe != <a href="#id246"><span class="problematic" id="id247">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Thursday 08 April 2010] [06:18:39] &lt;mikko&gt; Aborted</div>
<div class="line">[Thursday 08 April 2010] [06:18:40] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 08 April 2010] [06:18:56] &lt;mikko&gt; if the client goes away that assertion should appear</div>
<div class="line">[Thursday 08 April 2010] [06:19:01] &lt;sustrik&gt;   bingo!</div>
<div class="line">[Thursday 08 April 2010] [06:19:18] &lt;sustrik&gt;   thanks for helping me with reproducing it</div>
<div class="line">[Thursday 08 April 2010] [06:21:50] &lt;mikko&gt; no prob</div>
<div class="line">[Thursday 08 April 2010] [06:24:23] &lt;mikko&gt; it might be my code as well, but seems like with 2.0.6 things work as expected</div>
<div class="line">[Thursday 08 April 2010] [06:52:11] &lt;sustrik&gt;   mikko: how is it linked?</div>
<div class="line">[Thursday 08 April 2010] [06:52:23] &lt;sustrik&gt;   if i tweak and reinstall 0mq</div>
<div class="line">[Thursday 08 April 2010] [06:52:30] &lt;mikko&gt; dynamic linking</div>
<div class="line">[Thursday 08 April 2010] [06:52:31] &lt;sustrik&gt;   will it do</div>
<div class="line">[Thursday 08 April 2010] [06:52:37] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [06:52:37] &lt;mikko&gt; ldd /opt/local/lib/php/extensions/debug-non-zts-20090626/zeromq.so</div>
<div class="line">[Thursday 08 April 2010] [06:52:50] &lt;mikko&gt; you can make clean &amp;&amp; make install in case there are ABI changes</div>
<div class="line">[Thursday 08 April 2010] [07:15:10] &lt;mikko&gt; sustrik: installed debian stable and gdb works there</div>
<div class="line">[Thursday 08 April 2010] [07:15:15] &lt;mikko&gt; broken in testing</div>
<div class="line">[Thursday 08 April 2010] [07:18:47] &lt;sustrik&gt;   fine</div>
<div class="line">[Thursday 08 April 2010] [07:21:48] &lt;olivier_c&gt; Ah, thanks for the answer sustrik :)</div>
<div class="line">[Thursday 08 April 2010] [07:22:40] &lt;sustrik&gt;   you are welcome</div>
<div class="line">[Thursday 08 April 2010] [07:28:10] &lt;olivier_c&gt; btw, other little things : there is still the same problem for doc when install (solution : touch doc/zmq.7) and after that &#8220;make&#8221; doesn&#8217;t find rules for &#8220;forwarder.1&#8221;.  (i&#8217;ve comment some lines in Makefile of the &#8220;doc&#8221; repertory to ignore this)</div>
<div class="line">[Thursday 08 April 2010] [07:33:46] &lt;sustrik&gt;   olivier_c: that&#8217;s 2.0.6 or trunk?</div>
<div class="line">[Thursday 08 April 2010] [07:35:15] &lt;olivier_c&gt; from git,  &#8220;sustrik-zeromq2-0f7aab5.tar.gz&#8221;</div>
<div class="line">[Thursday 08 April 2010] [07:36:19] &lt;sustrik&gt;   can you paste the error here?</div>
<div class="line">[Thursday 08 April 2010] [07:39:12] &lt;olivier_c&gt; so the first one (with &#8221;./configure &#8211;with-pgm&#8221;)</div>
<div class="line">[Thursday 08 April 2010] [07:39:14] &lt;olivier_c&gt; checking whether to install manpages... configure: error: configure thinks we want to install manpages but they&#8217;re not present. Help!</div>
<div class="line">[Thursday 08 April 2010] [07:39:27] &lt;olivier_c&gt; =&gt; touch doc/zmq.7</div>
<div class="line">[Thursday 08 April 2010] [07:39:34] &lt;olivier_c&gt; then ok</div>
<div class="line">[Thursday 08 April 2010] [07:40:34] &lt;sustrik&gt;   hm, have you run autogen.sh?</div>
<div class="line">[Thursday 08 April 2010] [07:40:59] &lt;olivier_c&gt; yes</div>
<div class="line">[Thursday 08 April 2010] [07:41:09] &lt;sustrik&gt;   let me try it myself...</div>
<div class="line">[Thursday 08 April 2010] [07:43:52] &lt;sustrik&gt;   olivier_c: ok, got it</div>
<div class="line">[Thursday 08 April 2010] [07:43:59] &lt;sustrik&gt;   i&#8217;ll open a ticket</div>
<div class="line">[Thursday 08 April 2010] [07:44:24] &lt;sustrik&gt;   btw, if you clone the repo using standard git clone, you won&#8217;t get the error</div>
<div class="line">[Thursday 08 April 2010] [07:44:52] &lt;<a href="#id248"><span class="problematic" id="id249">olivier_c_</span></a>&gt;    re :/</div>
<div class="line">[Thursday 08 April 2010] [07:45:56] &lt;sustrik&gt;   &lt;sustrik&gt; olivier_c: ok, got it</div>
<div class="line">[Thursday 08 April 2010] [07:45:56] &lt;sustrik&gt;   &lt;sustrik&gt; i&#8217;ll open a ticket</div>
<div class="line">[Thursday 08 April 2010] [07:45:56] &lt;sustrik&gt;   &lt;sustrik&gt; btw, if you clone the repo using standard git clone, you won&#8217;t get the error</div>
<div class="line">[Thursday 08 April 2010] [07:46:22] &lt;<a href="#id250"><span class="problematic" id="id251">olivier_c_</span></a>&gt;    ok</div>
<div class="line">[Thursday 08 April 2010] [08:01:44] &lt;keenerd&gt;   Hi.</div>
<div class="line">[Thursday 08 April 2010] [08:02:07] &lt;keenerd&gt;   Another makefile question</div>
<div class="line">[Thursday 08 April 2010] [08:03:04] &lt;keenerd&gt;   libzmq.la gets make install&#8217;d, and it seems like it should not be</div>
<div class="line">[Thursday 08 April 2010] [08:04:40] &lt;sustrik&gt;   i am not sure</div>
<div class="line">[Thursday 08 April 2010] [08:04:44] &lt;sustrik&gt;   shouldn&#8217;t it?</div>
<div class="line">[Thursday 08 April 2010] [08:05:18] &lt;keenerd&gt;   It seems to be a bit of scrap from the build process.</div>
<div class="line">[Thursday 08 April 2010] [08:05:52] &lt;sustrik&gt;   yes, it&#8217;s a libtool bit</div>
<div class="line">[Thursday 08 April 2010] [08:06:01] &lt;sustrik&gt;   i am not sure how it is supposed to work</div>
<div class="line">[Thursday 08 April 2010] [08:06:21] &lt;sustrik&gt;   maybe it can be included by other libtool-based builds?</div>
<div class="line">[Thursday 08 April 2010] [08:06:45] &lt;sustrik&gt;   keenerd: try ask on the mailing list, please</div>
<div class="line">[Thursday 08 April 2010] [08:06:55] &lt;sustrik&gt;   someone may have an idea about it</div>
<div class="line">[Thursday 08 April 2010] [08:07:51] &lt;keenerd&gt;   I&#8217;m still trying to sort it out.</div>
<div class="line">[Thursday 08 April 2010] [08:08:40] &lt;keenerd&gt;   &#8220;Optional and frowned upon, but required in some magical cases&#8221; seems to be the opinion of .la files.</div>
<div class="line">[Thursday 08 April 2010] [08:09:21] &lt;sustrik&gt;   so i would say let&#8217;s rather keep it there</div>
<div class="line">[Thursday 08 April 2010] [08:09:33] &lt;sustrik&gt;   in case a magical case happens</div>
<div class="line">[Thursday 08 April 2010] [08:09:51] &lt;keenerd&gt;   I have a user complaining otherwise.</div>
<div class="line">[Thursday 08 April 2010] [08:10:01] &lt;sustrik&gt;   why so?</div>
<div class="line">[Thursday 08 April 2010] [08:10:06] &lt;sustrik&gt;   does it mess with anyting?</div>
<div class="line">[Thursday 08 April 2010] [08:11:07] &lt;keenerd&gt;   Not sure.  It seems my distro has a policy against .la files, that they can quickly become a cross linked mess.</div>
<div class="line">[Thursday 08 April 2010] [08:11:45] &lt;keenerd&gt;   (Every week [for years now] I learn something new about the underbelly of linux, it seems.)</div>
<div class="line">[Thursday 08 April 2010] [08:12:15] &lt;sustrik&gt;   well, autotools by itself is complex and mysterious</div>
<div class="line">[Thursday 08 April 2010] [08:12:21] &lt;keenerd&gt;   True.</div>
<div class="line">[Thursday 08 April 2010] [08:12:24] &lt;sustrik&gt;   anyway, I have no opinion on the matter</div>
<div class="line">[Thursday 08 April 2010] [08:12:29] &lt;sustrik&gt;   ask on the mailing list</div>
<div class="line">[Thursday 08 April 2010] [08:12:37] &lt;sustrik&gt;   if nobody complains we can try to remove it</div>
<div class="line">[Thursday 08 April 2010] [08:13:19] &lt;keenerd&gt;   Righto.  Thanks.</div>
<div class="line">[Thursday 08 April 2010] [08:15:24] &lt;keenerd&gt;   Wow, the zmq site is hilariously broken in elinks :-)</div>
<div class="line">[Thursday 08 April 2010] [08:15:57] &lt;sustrik&gt;   works for me...</div>
<div class="line">[Thursday 08 April 2010] [08:16:14] &lt;sustrik&gt;   (firefox)</div>
<div class="line">[Thursday 08 April 2010] [08:17:05] &lt;sustrik&gt;   here&#8217;s the direct link: <a class="reference external" href="http://lists.zeromq.org/mailman/listinfo/zeromq-dev">http://lists.zeromq.org/mailman/listinfo/zeromq-dev</a></div>
<div class="line">[Thursday 08 April 2010] [08:19:38] &lt;keenerd&gt;   Yeah, that is the page.  Had to fire up X just to look at it.</div>
<div class="line">[Thursday 08 April 2010] [08:20:25] &lt;keenerd&gt;   It ended up crashing Elinks, maybe a stack overflow from some bad JS?</div>
<div class="line">[Thursday 08 April 2010] [08:24:34] &lt;sustrik&gt;   no idea, it&#8217;s hosted on a wikifarm</div>
<div class="line">[Thursday 08 April 2010] [08:24:43] &lt;sustrik&gt;   so we don&#8217;t write the html ourselves</div>
<div class="line">[Thursday 08 April 2010] [08:32:56] &lt;keenerd&gt;   ML&#8217;ed.</div>
<div class="line">[Thursday 08 April 2010] [08:33:46] &lt;keenerd&gt;   Thanks again.</div>
<div class="line">[Thursday 08 April 2010] [09:40:15] &lt;mikko&gt; sustrik: did you find out anything more regarding the assertion?</div>
<div class="line">[Thursday 08 April 2010] [10:15:05] &lt;sustrik&gt;   mikko: not yet</div>
<div class="line">[Thursday 08 April 2010] [10:15:15] &lt;sustrik&gt;   been out of office</div>
<div class="line">[Thursday 08 April 2010] [10:41:00] &lt;sustrik&gt;   mikko: you there?</div>
<div class="line">[Thursday 08 April 2010] [10:41:09] &lt;sustrik&gt;   here&#8217;s the problem</div>
<div class="line">[Thursday 08 April 2010] [10:41:15] &lt;mikko&gt; im here</div>
<div class="line">[Thursday 08 April 2010] [10:41:16] &lt;sustrik&gt;   zeromq.c:282</div>
<div class="line">[Thursday 08 April 2010] [10:41:18] &lt;sustrik&gt;   <a class="reference external" href="http://github.com/sustrik/zeromq2/blob/master/src/prefix_tree.hpp">http://github.com/sustrik/zeromq2/blob/master/src/prefix_tree.hpp</a></div>
<div class="line">[Thursday 08 April 2010] [10:41:21] &lt;sustrik&gt;   oops</div>
<div class="line">[Thursday 08 April 2010] [10:41:26] &lt;sustrik&gt;   rc = zmq_send(intern-&gt;zms-&gt;socket, &amp;message, zmq_msg_size(&amp;message));</div>
<div class="line">[Thursday 08 April 2010] [10:41:38] &lt;sustrik&gt;   the third parameter is &#8216;flags&#8217; not &#8216;size&#8217;</div>
<div class="line">[Thursday 08 April 2010] [10:41:50] &lt;sustrik&gt;   the message contains the size all right</div>
<div class="line">[Thursday 08 April 2010] [10:41:57] &lt;sustrik&gt;   you don&#8217;t have to specify it second time</div>
<div class="line">[Thursday 08 April 2010] [10:42:10] &lt;mikko&gt; makes a lot of sense</div>
<div class="line">[Thursday 08 April 2010] [10:42:21] &lt;sustrik&gt;   accidentaly message size of &#8220;Got it!&#8221; is 7</div>
<div class="line">[Thursday 08 April 2010] [10:42:21] &lt;mikko&gt; i guess flags were unused in 2.0.6?</div>
<div class="line">[Thursday 08 April 2010] [10:42:31] &lt;sustrik&gt;   which means bit 0 is set</div>
<div class="line">[Thursday 08 April 2010] [10:42:51] &lt;sustrik&gt;   there&#8217;s a ZMQ_NOBLOCK flag</div>
<div class="line">[Thursday 08 April 2010] [10:43:04] &lt;sustrik&gt;   you haven&#8217;t hit the problem by chance</div>
<div class="line">[Thursday 08 April 2010] [10:44:57] &lt;sustrik&gt;   still, it shouldn&#8217;t fail</div>
<div class="line">[Thursday 08 April 2010] [10:45:24] &lt;sustrik&gt;   i&#8217;ll fix my part</div>
<div class="line">[Thursday 08 April 2010] [10:45:29] &lt;sustrik&gt;   you fix yours</div>
<div class="line">[Thursday 08 April 2010] [10:45:47] &lt;mikko&gt; thanks alot</div>
<div class="line">[Thursday 08 April 2010] [10:45:50] &lt;sustrik&gt;   np</div>
<div class="line">[Thursday 08 April 2010] [12:01:38] &lt;sophacles&gt; Hey all, slightly offtopic, but I&#8217;m instrumenting some systems to learn how they operate under various forms of contention. CPU loading is cake, as is CPU+Network loading. Now im looking for a tool to fill the network pipe without bogging down the cpu. Does anyone here have experience with such a tool?</div>
<div class="line">[Thursday 08 April 2010] [12:03:31] &lt;sophacles&gt; (all the ones ive come across so far use 100%cpu when filling the pipe)</div>
<div class="line">[Thursday 08 April 2010] [12:20:26] &lt;sustrik&gt;   no idea, iperf?</div>
<div class="line">[Thursday 08 April 2010] [12:36:27] &lt;sophacles&gt; unfortunately iperf eats all the cpu. thanks for the suggestion tho!</div>
<div class="line">[Thursday 08 April 2010] [12:41:25] &lt;sustrik&gt;   :</div>
<div class="line">[Thursday 08 April 2010] [12:41:40] &lt;sustrik&gt;   sophacles: what about local_the/remote_thr?</div>
<div class="line">[Thursday 08 April 2010] [12:41:52] &lt;sustrik&gt;   with a VERY BIG MESSAGE</div>
<div class="line">[Thursday 08 April 2010] [12:50:38] &lt;sophacles&gt; not sure i follow...</div>
<div class="line">[Thursday 08 April 2010] [12:52:08] &lt;sustrik&gt;   sophacles: 0MQ performance test</div>
<div class="line">[Thursday 08 April 2010] [12:52:31] &lt;sustrik&gt;   it does nothing but send large chunk of memory down TCP</div>
<div class="line">[Thursday 08 April 2010] [12:52:56] &lt;sophacles&gt; cool... ill give that a try!</div>
<div class="line">[Thursday 08 April 2010] [12:53:14] &lt;sustrik&gt;   ./configure &amp;&amp; make</div>
<div class="line">[Thursday 08 April 2010] [12:53:20] &lt;sustrik&gt;   then it&#8217;s in perf subdirectory</div>
<div class="line">[Thursday 08 April 2010] [12:54:04] &lt;sophacles&gt; yeah, i see them there... i just never thought to actually <em>use</em> them  :)</div>
<div class="line">[Thursday 08 April 2010] [12:54:22] &lt;sophacles&gt; kind of a facepalm moment on my part really</div>
<div class="line">[Thursday 08 April 2010] [12:55:36] &lt;sustrik&gt;   try using message size of several megabytes</div>
<div class="line">[Thursday 08 April 2010] [12:55:49] &lt;sustrik&gt;   that should ensure the least possible CPU usage</div>
<div class="line">[Thursday 08 April 2010] [12:56:40] &lt;sophacles&gt; ok, thanks for the tip... ill let you know how that works once i get the stuff pushed to all the right places :</div>
<div class="line">[Thursday 08 April 2010] [13:05:23] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r5cd9f74 10/ src/rep.cpp : few fixed related to multi-part messages in REP socket - <a class="reference external" href="http://bit.ly/aMGndT">http://bit.ly/aMGndT</a></div>
<div class="line">[Thursday 08 April 2010] [13:21:39] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r027bb1d 10/ src/zmq.cpp : issue 10 - zmq_strerror problem on Windows - <a class="reference external" href="http://bit.ly/d8SQ7M">http://bit.ly/d8SQ7M</a></div>
<div class="line">[Thursday 08 April 2010] [17:08:00] &lt;sophacles&gt; sustrik: so, with the latest zeromq2 stuff debian packaging should probably be cleaned up to not include all the language bindings, correct?</div>
<div class="line">[Thursday 08 April 2010] [18:37:01] &lt;dirtmcgirt&gt;    hi all. getting a &#8220;Exception in thread &#8220;main&#8221; java.lang.UnsatisfiedLinkError: /usr/local/lib/libjzmq.0.dylib:  no suitable image found.&#8221; with the latest checkout of jzmq</div>
<div class="line">[Thursday 08 April 2010] [18:37:17] &lt;dirtmcgirt&gt;    trying the test program: &#8220;java -Djava.library.path=/usr/local/lib -classpath ../src/Zmq.jar:. local_lat <a class="reference external" href="tcp://127.0.0.1:5555">tcp://127.0.0.1:5555</a> 1 100&#8221;</div>
<div class="line">[Friday 09 April 2010] [09:52:06] &lt;mikko&gt;   sustrik: thanks for r716f4ac!</div>
<div class="line">[Friday 09 April 2010] [09:59:21] &lt;sustrik&gt; np, i wanted to implement it anyway :)</div>
<div class="line">[Friday 09 April 2010] [09:59:50] &lt;mikko&gt;   i&#8217;ll add it to the php extension soon</div>
<div class="line">[Friday 09 April 2010] [09:59:56] &lt;mikko&gt;   is next release likely to be 2.0.7 ?</div>
<div class="line">[Friday 09 April 2010] [10:00:11] &lt;mikko&gt;   i guess i&#8217;ll just add check for zeromq &gt; 2.0.6</div>
<div class="line">[Friday 09 April 2010] [10:00:53] &lt;sustrik&gt; well, if you want to add support for getsockopt you should chack for 2.0.7</div>
<div class="line">[Friday 09 April 2010] [10:01:03] &lt;sustrik&gt; check*</div>
<div class="line">[Friday 09 April 2010] [10:01:28] &lt;mikko&gt;   i&#8217;m gonna check for that in any case because most of the tests fail with previous versions</div>
<div class="line">[Friday 09 April 2010] [10:01:38] &lt;mikko&gt;   due to the &#8216;closing unused socket&#8217;</div>
<div class="line">[Friday 09 April 2010] [10:03:08] &lt;sustrik&gt; ack</div>
<div class="line">[Friday 09 April 2010] [10:12:43] &lt;mikko&gt;   sustrik: can you up the version number in github?</div>
<div class="line">[Friday 09 April 2010] [10:12:54] &lt;mikko&gt;   it shows 2.0.6 still (naturally pkg-config check fails)</div>
<div class="line">[Friday 09 April 2010] [10:20:21] &lt;sustrik&gt; mato: you there?</div>
<div class="line">[Friday 09 April 2010] [10:20:38] &lt;sustrik&gt; where&#8217;s the version number defined?</div>
<div class="line">[Friday 09 April 2010] [10:23:08] &lt;sustrik&gt; there&#8217;s one in configure.in; i wonder whether that&#8217;s the only instance...</div>
<div class="line">[Friday 09 April 2010] [10:23:08] &lt;mato&gt;    sustrik: in configure.in, right at the top, there&#8217;s a nice big comment that tells you all about it :-)</div>
<div class="line">[Friday 09 April 2010] [10:23:13] &lt;mato&gt;    yes, it is</div>
<div class="line">[Friday 09 April 2010] [10:23:23] &lt;sustrik&gt; great</div>
<div class="line">[Friday 09 April 2010] [10:24:30] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r6ea76e9 10/ configure.in : version bumped to 2.0.7 - <a class="reference external" href="http://bit.ly/a8K6TO">http://bit.ly/a8K6TO</a></div>
<div class="line">[Friday 09 April 2010] [10:39:59] &lt;mikko&gt;   thanks!</div>
<div class="line">[Friday 09 April 2010] [10:40:11] &lt;mikko&gt;   sorry, missed the follow-up question</div>
<div class="line">[Friday 09 April 2010] [10:42:17] &lt;mikko&gt;   checking that libzmq version is at least 2.0.7... yes</div>
<div class="line">[Friday 09 April 2010] [10:42:19] &lt;mikko&gt;   works !</div>
<div class="line">[Friday 09 April 2010] [10:42:20] &lt;mikko&gt;   awesome</div>
<div class="line">[Friday 09 April 2010] [10:47:17] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 09 April 2010] [12:25:33] &lt;sustrik&gt; mato: can you have a look at this:</div>
<div class="line">[Friday 09 April 2010] [12:25:34] &lt;sustrik&gt; <a class="reference external" href="http://github.com/sustrik/zeromq2/issues#issue/14">http://github.com/sustrik/zeromq2/issues#issue/14</a></div>
<div class="line">[Friday 09 April 2010] [12:28:48] &lt;mato&gt;    sustrik: AGAIN?!</div>
<div class="line">[Friday 09 April 2010] [12:29:15] &lt;sustrik&gt; it only happens if you download the github generated tar</div>
<div class="line">[Friday 09 April 2010] [12:29:24] &lt;mato&gt;    aw crap</div>
<div class="line">[Friday 09 April 2010] [12:29:27] &lt;sustrik&gt; no idea what&#8217;s the difference</div>
<div class="line">[Friday 09 April 2010] [12:29:32] &lt;mato&gt;    you&#8217;re not supposed to download the github generated tar :)</div>
<div class="line">[Friday 09 April 2010] [12:29:50] &lt;sustrik&gt; i haven&#8217;t</div>
<div class="line">[Friday 09 April 2010] [12:29:53] &lt;sustrik&gt; someone else did</div>
<div class="line">[Friday 09 April 2010] [12:32:02] &lt;rossij&gt;  If one needs to secure send messages does one have to implement outside of zeromq or is their some way to emable secure network traffic.  From looking at the docs i am guessing I would have to do everything.</div>
<div class="line">[Friday 09 April 2010] [12:32:39] &lt;mato&gt;    rossij: see <a class="reference external" href="http://www.zeromq.org/faq">http://www.zeromq.org/faq</a></div>
<div class="line">[Friday 09 April 2010] [12:32:59]    * rossij is retarded ;)</div>
<div class="line">[Friday 09 April 2010] [12:33:17] &lt;rossij&gt;  mato: thank you</div>
<div class="line">[Friday 09 April 2010] [12:33:29] &lt;mato&gt;    rossij: no problem</div>
<div class="line">[Friday 09 April 2010] [12:36:51] &lt;mato&gt;    sustrik: the problem is i need some way to differentiate a &#8220;release&#8221; tarball from anything else</div>
<div class="line">[Friday 09 April 2010] [12:37:21] &lt;sustrik&gt; what&#8217;s release tarbal?</div>
<div class="line">[Friday 09 April 2010] [12:37:30] &lt;mato&gt;    one created with make dist</div>
<div class="line">[Friday 09 April 2010] [12:37:37] &lt;mato&gt;    which includes the generated documentation</div>
<div class="line">[Friday 09 April 2010] [12:37:47] &lt;mato&gt;    and thus does not depend on asciidoc being present</div>
<div class="line">[Friday 09 April 2010] [12:38:19] &lt;sustrik&gt; one thing puzzles me: what&#8217;s the difference between git clone and downloading and unpacking the tarbal?</div>
<div class="line">[Friday 09 April 2010] [12:38:31] &lt;sustrik&gt; i would assume i get exactly the same result</div>
<div class="line">[Friday 09 April 2010] [12:38:33] &lt;sophacles&gt;   Has anyone ever used 0m one way sockets (UPSTREAM/DOWNSTEAM) in conjunction with &#8220;digital diodes&#8221;?</div>
<div class="line">[Friday 09 April 2010] [12:38:47] &lt;sustrik&gt; 8o</div>
<div class="line">[Friday 09 April 2010] [12:38:53] &lt;mato&gt;    sustrik: the difference is that the git clone contains a .git directory so configure knows it&#8217;s a git clone</div>
<div class="line">[Friday 09 April 2010] [12:39:20] &lt;mato&gt;    sustrik: if there&#8217;s no git directory it assumes it&#8217;s building a release tarball</div>
<div class="line">[Friday 09 April 2010] [12:39:26] &lt;sustrik&gt; a-ha</div>
<div class="line">[Friday 09 April 2010] [12:40:15] &lt;sustrik&gt; sophacles: what&#8217;s &#8220;digital diodes&#8221;? sounds intriguing.</div>
<div class="line">[Friday 09 April 2010] [12:40:32] &lt;mato&gt;    the only way to work around it would be to have make dist include some special &#8220;stamp&#8221; file in the distribution tarball and do the detection on that</div>
<div class="line">[Friday 09 April 2010] [12:40:49] &lt;sophacles&gt;   lemme find the paper, but short version is: hardware enforced one-way packet flow</div>
<div class="line">[Friday 09 April 2010] [12:41:11] &lt;sophacles&gt;   secure network concept power grid folks (and other critical infrastructure) are looking at</div>
<div class="line">[Friday 09 April 2010] [12:41:15] &lt;sustrik&gt; mato: it&#8217;s your call</div>
<div class="line">[Friday 09 April 2010] [12:41:32] &lt;sustrik&gt; but depending on .git sounds strange</div>
<div class="line">[Friday 09 April 2010] [12:43:36] &lt;mato&gt;    well i didn&#8217;t think anyone would be grabbing tarballs that were not made with make dist</div>
<div class="line">[Friday 09 April 2010] [12:45:24] &lt;kristianpaul&gt;    hola :)</div>
<div class="line">[Friday 09 April 2010] [12:45:58] &lt;sustrik&gt; hola</div>
<div class="line">[Friday 09 April 2010] [12:48:10] &lt;kristianpaul&gt;    what is luuid ?</div>
<div class="line">[Friday 09 April 2010] [12:48:27] &lt;kristianpaul&gt;    i cant  compile zeromq because of that</div>
<div class="line">[Friday 09 April 2010] [12:48:41] &lt;sustrik&gt; what&#8217;s your system?</div>
<div class="line">[Friday 09 April 2010] [12:49:12] &lt;kristianpaul&gt;    debian squeeze</div>
<div class="line">[Friday 09 April 2010] [12:49:33] &lt;mato&gt;    kristianpaul: apt-get install uuid-dev</div>
<div class="line">[Friday 09 April 2010] [12:50:02] &lt;mato&gt;    sustrik: can&#8217;t we just disable the &#8216;download source&#8217; link on github, or (better) redirect it to the zeromq.org download page?</div>
<div class="line">[Friday 09 April 2010] [12:50:08] &lt;mato&gt;    sustrik: that would make the problem go away</div>
<div class="line">[Friday 09 April 2010] [12:50:24] &lt;sustrik&gt; mato: thx</div>
<div class="line">[Friday 09 April 2010] [12:50:33] &lt;mato&gt;    sustrik: if people want to use the git version then they should just clone it</div>
<div class="line">[Friday 09 April 2010] [12:50:33] &lt;sustrik&gt; can we?</div>
<div class="line">[Friday 09 April 2010] [12:50:38] &lt;mato&gt;    i don&#8217;t know</div>
<div class="line">[Friday 09 April 2010] [12:50:54] &lt;sustrik&gt; never seen such a button</div>
<div class="line">[Friday 09 April 2010] [12:54:28] &lt;mato&gt;    looks like it can&#8217;t be done :-(</div>
<div class="line">[Friday 09 April 2010] [12:57:11] &lt;kristianpaul&gt;    compiled :)</div>
<div class="line">[Friday 09 April 2010] [12:59:28] &lt;kristianpaul&gt;    i cloned this git://github.com/sustrik/zeromq-chat.git and was okay</div>
<div class="line">[Friday 09 April 2010] [12:59:47] &lt;sophacles&gt;   sustrik: <a class="reference external" href="http://www.dsto.defence.gov.au/publications/2110/DSTO-TR-0785.pdf">http://www.dsto.defence.gov.au/publications/2110/DSTO-TR-0785.pdf</a> for the digital diode paper we are looking at</div>
<div class="line">[Friday 09 April 2010] [13:01:00] &lt;sustrik&gt; sophacles: i give it a look later on</div>
<div class="line">[Friday 09 April 2010] [13:01:16] &lt;sustrik&gt; however, with one-way communication TCP is not possible, right?</div>
<div class="line">[Friday 09 April 2010] [13:04:13] &lt;sophacles&gt;   sustrik correct, hence our looking at middleware that has one-way semantics.</div>
<div class="line">[Friday 09 April 2010] [13:05:36] &lt;sophacles&gt;   so then we can have a box that on one interface has a sock_downstream listening, and pushes the data over another interface which is a hardware diode</div>
<div class="line">[Friday 09 April 2010] [13:05:59] &lt;sustrik&gt; sophacles: 0MQ is potentially capable of that but you must write true udp transport for that</div>
<div class="line">[Friday 09 April 2010] [13:06:11] &lt;sustrik&gt; true udp = unrealiable, no acks no nacks</div>
<div class="line">[Friday 09 April 2010] [13:06:31] &lt;sustrik&gt; couple of people already announced that they want to implement it</div>
<div class="line">[Friday 09 April 2010] [13:06:42] &lt;sustrik&gt; but obviously nobody have even started with it</div>
<div class="line">[Friday 09 April 2010] [13:07:23] &lt;kristianpaul&gt;    can i install zeromq i a 8 bit microcontroller?</div>
<div class="line">[Friday 09 April 2010] [13:07:45] &lt;sustrik&gt; kristianpaul: no idea</div>
<div class="line">[Friday 09 April 2010] [13:07:55] &lt;kristianpaul&gt;    it uses sdcc</div>
<div class="line">[Friday 09 April 2010] [13:07:59] &lt;kristianpaul&gt;    ok</div>
<div class="line">[Friday 09 April 2010] [13:08:11] &lt;sustrik&gt; you need at least c++ runtime, pthreads and libuuid</div>
<div class="line">[Friday 09 April 2010] [13:08:17] &lt;kristianpaul&gt;    }:/</div>
<div class="line">[Friday 09 April 2010] [13:08:26] &lt;kristianpaul&gt;    then not :)</div>
<div class="line">[Friday 09 April 2010] [13:08:57] &lt;sophacles&gt;   this is why im looking at the gateway concept. it provides realiability to the place where the diode is implemented, after the diode there is no reliablility of course, but hte assumption is the hard part is reliability to the diode and ont he other side of the diode</div>
<div class="line">[Friday 09 April 2010] [13:09:43] &lt;sustrik&gt; then just implement udp transport in 0mq and you can place a forwarder device on each end of the diode</div>
<div class="line">[Friday 09 April 2010] [13:10:14] &lt;sustrik&gt; tcp-&gt;forwarder-&gt;udp-&gt;diode-&gt;forwarder-&gt;tcp</div>
<div class="line">[Friday 09 April 2010] [13:10:15] &lt;sophacles&gt;   right, thats why we like 0mq for this :)</div>
<div class="line">[Friday 09 April 2010] [13:10:45] &lt;sustrik&gt; implementing udp shouldn&#8217;t be a big deal</div>
<div class="line">[Friday 09 April 2010] [13:11:10] &lt;sustrik&gt; if you decide to go that way let me know and i&#8217;ll point you in the right direction</div>
<div class="line">[Friday 09 April 2010] [13:11:46] &lt;sophacles&gt;   ok, thanks, for now we have enough for our proposal tho :)</div>
<div class="line">[Friday 09 April 2010] [13:11:58] &lt;sustrik&gt; goodo</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: 03Martin Lucina 07master * r1d28dc9 10/ configure.in :</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: Fix for Issue #14</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: Don&#8217;t fail hard if an unreleased tarball is being built and asciidoc is</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: not installed; instead just print a big fat warning - <a class="reference external" href="http://bit.ly/9mRdzJ">http://bit.ly/9mRdzJ</a></div>
<div class="line">[Friday 09 April 2010] [13:25:44] &lt;mato&gt;    sustrik: ok, fixed, i decided not to care and just print a big fat warning if someone has a tarball from git/git clone and no asciidoc</div>
<div class="line">[Friday 09 April 2010] [13:26:07] &lt;sustrik&gt; sure, np</div>
<div class="line">[Friday 09 April 2010] [13:26:26] &lt;mato&gt;    the github issue tracker is a bit sucky</div>
<div class="line">[Friday 09 April 2010] [13:26:30] &lt;mato&gt;    i seem to get random emails</div>
<div class="line">[Friday 09 April 2010] [13:26:44] &lt;mato&gt;    ah</div>
<div class="line">[Friday 09 April 2010] [13:26:47] &lt;sustrik&gt; yes, people do</div>
<div class="line">[Friday 09 April 2010] [13:26:52] &lt;sustrik&gt; get random emials</div>
<div class="line">[Friday 09 April 2010] [13:27:13] &lt;mato&gt;    yes, but the reason the emails look random is because you&#8217;re entering issues with no structure</div>
<div class="line">[Friday 09 April 2010] [13:27:22] &lt;mato&gt;    e.g. GH-13</div>
<div class="line">[Friday 09 April 2010] [13:27:35] &lt;sustrik&gt; eee</div>
<div class="line">[Friday 09 April 2010] [13:27:38] &lt;mato&gt;    I get an email with a looooong subject, and a body that says &#8220;Here&#8217;s the test program&#8221;</div>
<div class="line">[Friday 09 April 2010] [13:27:55] &lt;mato&gt;    which is totally unparseable at 1st glance :-)</div>
<div class="line">[Friday 09 April 2010] [13:28:08] &lt;sustrik&gt; what&#8217;s the magic then?</div>
<div class="line">[Friday 09 April 2010] [13:28:22] &lt;mato&gt;    we should have a template for issues</div>
<div class="line">[Friday 09 April 2010] [13:28:30] &lt;mato&gt;    so that the body of the email actually makes sense</div>
<div class="line">[Friday 09 April 2010] [13:28:35] &lt;sustrik&gt; ah</div>
<div class="line">[Friday 09 April 2010] [13:28:44] &lt;sustrik&gt; lemme see</div>
<div class="line">[Friday 09 April 2010] [13:28:44] &lt;mato&gt;    but i&#8217;m not sure if github can do that, i know that google code can</div>
<div class="line">[Friday 09 April 2010] [13:29:10] &lt;sustrik&gt; still i don&#8217;t get why emails are send _randomly_</div>
<div class="line">[Friday 09 April 2010] [13:29:23] &lt;mato&gt;    me neither</div>
<div class="line">[Friday 09 April 2010] [13:29:30] &lt;sustrik&gt; can we turn it off?</div>
<div class="line">[Friday 09 April 2010] [13:29:35] &lt;mato&gt;    don&#8217;t know</div>
<div class="line">[Friday 09 April 2010] [13:29:47] &lt;mato&gt;    i&#8217;ll look into it and try and file bugs/contact the github people</div>
<div class="line">[Friday 09 April 2010] [13:29:58] &lt;mato&gt;    it&#8217;s very hard to follow the way it works now</div>
<div class="line">[Friday 09 April 2010] [13:30:54] &lt;sustrik&gt; hm, i wanted to ask you to kill the jira</div>
<div class="line">[Friday 09 April 2010] [13:31:06] &lt;sustrik&gt; but it seems it&#8217;s maybe to early for that</div>
<div class="line">[Friday 09 April 2010] [13:31:11] &lt;mato&gt;    maybe</div>
<div class="line">[Friday 09 April 2010] [13:31:18] &lt;sustrik&gt; but you can definitely kill the old svn</div>
<div class="line">[Friday 09 April 2010] [13:31:25] &lt;sustrik&gt; nobody using it anymore</div>
<div class="line">[Friday 09 April 2010] [13:31:38] &lt;mato&gt;    not my job, email ewen</div>
<div class="line">[Friday 09 April 2010] [13:31:43] &lt;sustrik&gt; ok</div>
<div class="line">[Friday 09 April 2010] [13:31:55] &lt;mato&gt;    but i suggest you wait until we can kill the jira</div>
<div class="line">[Friday 09 April 2010] [13:32:07]    * sustrik is waiting</div>
<div class="line">[Friday 09 April 2010] [13:32:08] &lt;mato&gt;    then you can get ewen to just kill the entire svfastmq vm</div>
<div class="line">[Friday 09 April 2010] [13:32:09] &lt;mato&gt;    in one go</div>
<div class="line">[Friday 09 April 2010] [13:32:35] &lt;mato&gt;    i will try and talk to the github people to see if we can get some improvements made to the issue tracker</div>
<div class="line">[Friday 09 April 2010] [13:32:40] &lt;sustrik&gt; ack</div>
<div class="line">[Friday 09 April 2010] [13:32:48] &lt;mato&gt;    templates that users must fill in when submitting would be especially good</div>
<div class="line">[Friday 09 April 2010] [13:33:10] &lt;mato&gt;    &#8220;Please describe your Operating System, version,&#8221; and so on</div>
<div class="line">[Friday 09 April 2010] [13:33:16] &lt;mato&gt;    otherwise it&#8217;ll be a total mess</div>
<div class="line">[Friday 09 April 2010] [13:33:31] &lt;sustrik&gt; yup</div>
<div class="line">[Friday 09 April 2010] [13:34:48] &lt;dirtmcgirt&gt;  sustrik: about the java problem</div>
<div class="line">[Friday 09 April 2010] [13:35:01] &lt;dirtmcgirt&gt;  sustrik: OS is OS X</div>
<div class="line">[Friday 09 April 2010] [13:35:20] &lt;dirtmcgirt&gt;  getting a &#8220;Exception in thread &#8220;main&#8221; java.lang.UnsatisfiedLinkError: /usr/local/lib/libjzmq.0.dylib:  no suitable image found.&#8221; with the latest checkout of jzmq</div>
<div class="line">[Friday 09 April 2010] [13:35:32] &lt;dirtmcgirt&gt;  trying the test program: &#8220;java -Djava.library.path=/usr/local/lib -classpath ../src/Zmq.jar:. local_lat <a class="reference external" href="tcp://127.0.0.1:5555">tcp://127.0.0.1:5555</a> 1 100&#8221;</div>
<div class="line">[Friday 09 April 2010] [13:35:43] &lt;sustrik&gt; is there the library on the path?</div>
<div class="line">[Friday 09 April 2010] [13:35:59] &lt;dirtmcgirt&gt;  yep</div>
<div class="line">[Friday 09 April 2010] [13:36:01] &lt;sustrik&gt;  /usr/local/lib/libjzmq.0.dylib</div>
<div class="line">[Friday 09 April 2010] [13:36:25] &lt;sustrik&gt; what does &#8220;no suitable image found&#8221; mean then?</div>
<div class="line">[Friday 09 April 2010] [13:37:07] &lt;dirtmcgirt&gt;  going to try an rebuild from scratch</div>
<div class="line">[Friday 09 April 2010] [13:38:19] &lt;mato&gt;    sustrik: dinnertime, cyl in kut?</div>
<div class="line">[Friday 09 April 2010] [13:38:29] &lt;sustrik&gt; yes</div>
<div class="line">[Friday 09 April 2010] [13:41:25] &lt;sustrik&gt; dirtmcgirt: i cannot help you much as i have no experience with osx, however, try asking at the mailing list, there are definitely OSX people there</div>
<div class="line">[Friday 09 April 2010] [13:58:10] &lt;dirtmcgirt&gt;  dirtmcgirt: no known problems on linux (CentOS 5)?</div>
<div class="line">[Friday 09 April 2010] [13:58:14] &lt;dirtmcgirt&gt;  oops, sustrik</div>
<div class="line">[Friday 09 April 2010] [13:58:41] &lt;sustrik&gt; i am not aware of any</div>
<div class="line">[Friday 09 April 2010] [16:36:28] &lt;sophacles&gt;   interesting: on host A - an ubuntu maching, the toy client and server from the webpage compile just fine, on a debian machine tho, the client breaks with errors about context_t and socket_t not being members of zmq</div>
<div class="line">[Friday 09 April 2010] [16:36:35] &lt;sophacles&gt;   anyone seen this before?</div>
<div class="line">[Friday 09 April 2010] [16:45:40] &lt;sophacles&gt;   hahaha nevermind &#8211; the deb box had an ancient copy of zeromq1 sitting on it</div>
<div class="line">[Friday 09 April 2010] [18:19:29] &lt;dirtmcgirt&gt;  any binary builds for java?</div>
<div class="line">[Friday 09 April 2010] [18:19:34] &lt;dirtmcgirt&gt;  jar files?</div>
<div class="line">[Friday 09 April 2010] [18:24:09] &lt;dirtmcgirt&gt;  getting build problems on CentOS 5</div>
<div class="line">[Friday 09 April 2010] [18:24:19] &lt;dirtmcgirt&gt;  make[2]: util.hpp: Command not found</div>
<div class="line">[Saturday 10 April 2010] [04:52:41] &lt;mikko&gt; good morning</div>
<div class="line">[Saturday 10 April 2010] [04:52:58] &lt;sustrik&gt;   mikko: morning</div>
<div class="line">[Saturday 10 April 2010] [05:02:03] &lt;mikko&gt; getSockOpt added</div>
<div class="line">[Saturday 10 April 2010] [05:02:37] &lt;sustrik&gt;   !</div>
<div class="line">[Saturday 10 April 2010] [05:02:51] &lt;mikko&gt; ended up adding ifndef and <a class="reference external" href="http://github.com/mkoppanen/php-zeromq/blob/master/config.m4#L37">http://github.com/mkoppanen/php-zeromq/blob/master/config.m4#L37</a></div>
<div class="line">[Saturday 10 April 2010] [05:04:37] &lt;sustrik&gt;   2.0.6 vs. 2.0.7 isn&#8217;t sufficient?</div>
<div class="line">[Saturday 10 April 2010] [05:05:24] &lt;mikko&gt; if you do $z = new ZeroMq(ZeroMQ::SOCKET_REP); $z-&gt;connect(&#8220;tcp://lo:5555&#8221;); unset($z); in 2.0.6 it will crash on assertion error</div>
<div class="line">[Saturday 10 April 2010] [05:10:27] &lt;mikko&gt; with 2.0.6 people need to remember that socket needs recv/send or when the object get garbage collected it might terminate the script</div>
<div class="line">[Saturday 10 April 2010] [05:10:41] &lt;mikko&gt; but other than that it should work with 2.0.6 as well</div>
<div class="line">[Saturday 10 April 2010] [05:26:48] &lt;mato&gt;  sustrik: are you there?</div>
<div class="line">[Saturday 10 April 2010] [05:26:55] &lt;sustrik&gt;   mato: yes</div>
<div class="line">[Saturday 10 April 2010] [05:27:16] &lt;mato&gt;  sustrik: do you have the original patch for the debian packaging by peter busser? (that which is currently in  git)</div>
<div class="line">[Saturday 10 April 2010] [05:27:44] &lt;sustrik&gt;   i presume</div>
<div class="line">[Saturday 10 April 2010] [05:27:50] &lt;mato&gt;  sustrik: can you find it please?</div>
<div class="line">[Saturday 10 April 2010] [05:27:54] &lt;sustrik&gt;   but why not get it from git?</div>
<div class="line">[Saturday 10 April 2010] [05:28:08] &lt;mato&gt;  sustrik: i need to see that he sent it under the MIT license</div>
<div class="line">[Saturday 10 April 2010] [05:28:51] &lt;mato&gt;  sustrik: could you please find the email with the original patch and forward it to me? it must have gone to you privately since i don&#8217;t see anything obvious in the list archive</div>
<div class="line">[Saturday 10 April 2010] [05:30:36] &lt;sustrik&gt;   found couple of them</div>
<div class="line">[Saturday 10 April 2010] [05:30:39] &lt;sustrik&gt;   forwarding...</div>
<div class="line">[Saturday 10 April 2010] [05:30:42] &lt;mato&gt;  thanks</div>
<div class="line">[Saturday 10 April 2010] [05:31:39] &lt;sustrik&gt;   anyway, it&#8217;s just packaging, the license is irrelevant imo</div>
<div class="line">[Saturday 10 April 2010] [05:31:44] &lt;mato&gt;  no it&#8217;s not</div>
<div class="line">[Saturday 10 April 2010] [05:32:03]      * sustrik leaving now</div>
<div class="line">[Saturday 10 April 2010] [05:32:10] &lt;sustrik&gt;   starting test env</div>
<div class="line">[Saturday 10 April 2010] [05:32:14] &lt;mato&gt;  thanks</div>
<div class="line">[Saturday 10 April 2010] [05:42:06] &lt;mikko&gt; github is interesting: when you go to the wiki side it doesnt show you are logged in</div>
<div class="line">[Saturday 10 April 2010] [05:42:12] &lt;mikko&gt; shows &#8220;Pricing and signup&#8221;</div>
<div class="line">[Saturday 10 April 2010] [05:45:28] &lt;mikko&gt; have you got redhat packaging ?</div>
<div class="line">[Saturday 10 April 2010] [05:45:35] &lt;mato&gt;  nope</div>
<div class="line">[Saturday 10 April 2010] [05:45:40] &lt;mikko&gt; i can do spec files if that is needed</div>
<div class="line">[Saturday 10 April 2010] [05:45:49] &lt;mikko&gt; i&#8217;ve been doing them at work for the past year and a half</div>
<div class="line">[Saturday 10 April 2010] [05:46:25] &lt;mato&gt;  might be useful</div>
<div class="line">[Saturday 10 April 2010] [05:46:39] &lt;mato&gt;  tho we&#8217;ll have to figure out where the spec files will go</div>
<div class="line">[Saturday 10 April 2010] [05:46:52] &lt;mato&gt;  i had to spend 3 days convincing sustrik that the debian packaging could be in debian/</div>
<div class="line">[Saturday 10 April 2010] [05:47:15] &lt;mikko&gt; redhat/ usually</div>
<div class="line">[Saturday 10 April 2010] [05:47:43] &lt;mato&gt;  that&#8217;ll just annoy him about &#8220;creating more mess in the top level directory&#8221; :-)</div>
<div class="line">[Saturday 10 April 2010] [05:47:52] &lt;mikko&gt; usually in release packages .spec is in the root of the release package</div>
<div class="line">[Saturday 10 April 2010] [05:48:09] &lt;mikko&gt; that allows building with rpmbuild -tb zeromq-x.x.x.tar.gz</div>
<div class="line">[Saturday 10 April 2010] [05:48:15] &lt;mato&gt;  right</div>
<div class="line">[Saturday 10 April 2010] [05:48:37] &lt;mato&gt;  well, we can figure something out</div>
<div class="line">[Saturday 10 April 2010] [05:48:45] &lt;mato&gt;  it&#8217;d be nice to have RPM-land accounted for</div>
<div class="line">[Saturday 10 April 2010] [05:48:48] &lt;mikko&gt; maybe in builds/ ?</div>
<div class="line">[Saturday 10 April 2010] [05:48:51] &lt;mato&gt;  yeah</div>
<div class="line">[Saturday 10 April 2010] [05:49:12] &lt;mato&gt;  and make dist can copy them to the toplevel when making the tarball, sustrik will never know :-)</div>
<div class="line">[Saturday 10 April 2010] [05:49:26] &lt;mato&gt;  that way the rpmbuild trick you mentioned will work</div>
<div class="line">[Saturday 10 April 2010] [05:49:33] &lt;mato&gt;  if that&#8217;s what people are used to</div>
<div class="line">[Saturday 10 April 2010] [05:49:40] &lt;mato&gt;  i&#8217;ve not used a rpm-based distro for years</div>
<div class="line">[Saturday 10 April 2010] [05:49:57] &lt;mikko&gt; most of the companies where i&#8217;ve worked for use RHEL</div>
<div class="line">[Saturday 10 April 2010] [05:50:35] &lt;mato&gt;  yeah, i know</div>
<div class="line">[Saturday 10 April 2010] [05:50:46] &lt;mato&gt;  if you have the time, the contribution would be welcome</div>
<div class="line">[Saturday 10 April 2010] [05:50:54] &lt;mikko&gt; im already on it</div>
<div class="line">[Saturday 10 April 2010] [05:51:09] &lt;mato&gt;  i suggest you copy the current debian packaging</div>
<div class="line">[Saturday 10 April 2010] [05:51:16] &lt;mato&gt;  (that in adrian&#8217;s hg repository)</div>
<div class="line">[Saturday 10 April 2010] [05:51:21] &lt;mato&gt;  in terms of actual packages built</div>
<div class="line">[Saturday 10 April 2010] [05:51:29] &lt;mato&gt;  you want something equivalent to:</div>
<div class="line">[Saturday 10 April 2010] [05:51:34] &lt;mato&gt;  dpkg-deb: building package <a href="#id3"><span class="problematic" id="id4">`</span></a>libzmq0&#8217; in <a href="#id5"><span class="problematic" id="id6">`</span></a>../libzmq0_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [05:51:34] &lt;mato&gt;  dpkg-deb: building package <a href="#id7"><span class="problematic" id="id8">`</span></a>zeromq-bin&#8217; in <a href="#id9"><span class="problematic" id="id10">`</span></a>../zeromq-bin_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [05:51:37] &lt;mato&gt;  dpkg-deb: building package <a href="#id11"><span class="problematic" id="id12">`</span></a>libzmq-dev&#8217; in <a href="#id13"><span class="problematic" id="id14">`</span></a>../libzmq-dev_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [05:51:40] &lt;mato&gt;  dpkg-deb: building package <a href="#id15"><span class="problematic" id="id16">`</span></a>libzmq-dbg&#8217; in <a href="#id17"><span class="problematic" id="id18">`</span></a>../libzmq-dbg_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [06:11:59] &lt;mikko&gt; hmm.. testing the spec file and i didn&#8217;t have &#8216;g++&#8217; but configure still passes</div>
<div class="line">[Saturday 10 April 2010] [06:13:11] &lt;mato&gt;  that&#8217;s strange :) I&#8217;ve not tried on a machine w/o g++</div>
<div class="line">[Saturday 10 April 2010] [06:33:20] &lt;mikko&gt; does &#8211;with-pgm add additional dependencies?</div>
<div class="line">[Saturday 10 April 2010] [06:37:27] &lt;mikko&gt; ah got it</div>
<div class="line">[Saturday 10 April 2010] [06:52:23] &lt;mato&gt;  yes</div>
<div class="line">[Saturday 10 April 2010] [06:52:27] &lt;mato&gt;  glib and gthread</div>
<div class="line">[Saturday 10 April 2010] [06:52:42] &lt;mato&gt;  but you only want &#8211;with-pgm on x86 and amd64</div>
<div class="line">[Saturday 10 April 2010] [06:53:47] &lt;mikko&gt; 95% of the hosts?</div>
<div class="line">[Saturday 10 April 2010] [06:53:48] &lt;mikko&gt; maybe</div>
<div class="line">[Saturday 10 April 2010] [06:54:42] &lt;mato&gt;  the point is pgm is not supported and won&#8217;t build on anything else atm</div>
<div class="line">[Saturday 10 April 2010] [06:55:05] &lt;mato&gt;  so on anything non-x86 you want to build packages w/o that</div>
<div class="line">[Saturday 10 April 2010] [06:55:11] &lt;mato&gt;  which is what the debian package does</div>
<div class="line">[Saturday 10 April 2010] [06:55:18] &lt;mikko&gt; RHEL supports</div>
<div class="line">[Saturday 10 April 2010] [06:55:19] &lt;mikko&gt; # Intel Itanium2</div>
<div class="line">[Saturday 10 April 2010] [06:55:19] &lt;mikko&gt; # IBM POWER</div>
<div class="line">[Saturday 10 April 2010] [06:55:19] &lt;mikko&gt; # IBM System z and S/390</div>
<div class="line">[Saturday 10 April 2010] [06:55:24] &lt;mikko&gt; apart from the others</div>
<div class="line">[Saturday 10 April 2010] [06:55:29] &lt;mikko&gt; i&#8217;ll add a condition for that</div>
<div class="line">[Saturday 10 April 2010] [07:18:43] &lt;mikko&gt; <a class="reference external" href="http://github.com/mkoppanen/zeromq2/blob/master/zeromq2.spec">http://github.com/mkoppanen/zeromq2/blob/master/zeromq2.spec</a></div>
<div class="line">[Saturday 10 April 2010] [07:18:47] &lt;mikko&gt; initial version there</div>
<div class="line">[Saturday 10 April 2010] [07:18:54] &lt;mikko&gt; i&#8217;ll do some tweaking later today</div>
<div class="line">[Saturday 10 April 2010] [07:30:04] &lt;CIA-5&gt; zeromq2: 03Adrian von Bidder 07master * r8aa2acd 10/ (35 files in 2 dirs): Debian packaging update from Adrian von Bidder - <a class="reference external" href="http://bit.ly/bfp9zr">http://bit.ly/bfp9zr</a></div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * r1dc0380 10/ (4 files):</div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: Debian packaging fixes suitable for 0MQ git</div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: Removed README.source, TODO.source since these are irrelevant to a generic</div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: git package.</div>
<div class="line">[Saturday 10 April 2010] [07:30:07] &lt;CIA-5&gt; zeromq2: Fixed spelling in debian/copyright.</div>
<div class="line">[Saturday 10 April 2010] [07:30:07] &lt;CIA-5&gt; zeromq2: Removed RFC check in debian/rules, again irrelevant to a generic git package. - <a class="reference external" href="http://bit.ly/cNRlAG">http://bit.ly/cNRlAG</a></div>
<div class="line">[Saturday 10 April 2010] [10:19:01] &lt;sustrik&gt;   mato: ping</div>
<div class="line">[Saturday 10 April 2010] [10:19:08] &lt;mato&gt;  sustrik: yes?</div>
<div class="line">[Saturday 10 April 2010] [10:19:18] &lt;sustrik&gt;   still using the test env?</div>
<div class="line">[Saturday 10 April 2010] [10:19:23] &lt;mato&gt;  no</div>
<div class="line">[Saturday 10 April 2010] [10:19:29] &lt;mato&gt;  didnt get around to it at all</div>
<div class="line">[Saturday 10 April 2010] [10:19:29] &lt;sustrik&gt;   can i switch it off?</div>
<div class="line">[Saturday 10 April 2010] [10:19:33] &lt;mato&gt;  am mucking with the build stuff</div>
<div class="line">[Saturday 10 April 2010] [10:19:34] &lt;mato&gt;  yes</div>
<div class="line">[Saturday 10 April 2010] [10:19:42] &lt;sustrik&gt;   goodo, it&#8217;s kind of noisy</div>
<div class="line">[Saturday 10 April 2010] [10:20:20] &lt;sustrik&gt;   btw, can we set cia for the projects that don&#8217;t support it yet?</div>
<div class="line">[Saturday 10 April 2010] [10:20:36] &lt;mato&gt;  ?</div>
<div class="line">[Saturday 10 April 2010] [10:21:01] &lt;sustrik&gt;   i have at least rbzmq and jzmq</div>
<div class="line">[Saturday 10 April 2010] [10:21:11] &lt;sustrik&gt;   are those reported via CIA?</div>
<div class="line">[Saturday 10 April 2010] [10:21:18] &lt;mato&gt;  just a moment</div>
<div class="line">[Saturday 10 April 2010] [10:21:24] &lt;mato&gt;  let me finish what i&#8217;m doing :)</div>
<div class="line">[Saturday 10 April 2010] [10:21:43] &lt;sustrik&gt;   fine, ping me then</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * r770aedb 10/ (configure.in src/Makefile.am):</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Build fixes for Solaris and non-GNU compilers</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Compiling C++ code with -D_POSIX_SOURCE on Solaris is unsupported, so remove it.</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Isolate GCC-isms inside checks that we are actually using GCC/G++.</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Only check for -lstdc++ when on GCC and doing static linking. - <a class="reference external" href="http://bit.ly/bvl9cL">http://bit.ly/bvl9cL</a></div>
<div class="line">[Saturday 10 April 2010] [10:27:12] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * rc214a24 10/ (src/forwarder.cpp src/queue.cpp src/streamer.cpp): fix for Sun C++ 5.8 - <a class="reference external" href="http://bit.ly/9gea7k">http://bit.ly/9gea7k</a></div>
<div class="line">[Saturday 10 April 2010] [10:33:38] &lt;mikko&gt; make[2]: <a href="#id19"><span class="problematic" id="id20">**</span></a>* No rule to make target <a href="#id21"><span class="problematic" id="id22">`</span></a>zmq_forwarder.1&#8217;, needed by <a href="#id23"><span class="problematic" id="id24">`</span></a>dist-hook&#8217;.  Stop.</div>
<div class="line">[Saturday 10 April 2010] [10:33:43] &lt;mikko&gt; during make dist</div>
<div class="line">[Saturday 10 April 2010] [10:33:48] &lt;mikko&gt; do i need to do something special?</div>
<div class="line">[Saturday 10 April 2010] [10:34:02] &lt;mato&gt;  make dist generates documentation</div>
<div class="line">[Saturday 10 April 2010] [10:34:14] &lt;mato&gt;  so you need asciidoc and xmlto installed</div>
<div class="line">[Saturday 10 April 2010] [10:34:21] &lt;mato&gt;  then re-run configure and it&#8217;ll work fine</div>
<div class="line">[Saturday 10 April 2010] [10:35:40] &lt;mikko&gt; mm</div>
<div class="line">[Saturday 10 April 2010] [10:35:44] &lt;mikko&gt; hefty package</div>
<div class="line">[Saturday 10 April 2010] [10:35:44] &lt;mikko&gt; Need to get 492MB/494MB of archives.</div>
<div class="line">[Saturday 10 April 2010] [10:35:45] &lt;mikko&gt; After this operation, 899MB of additional disk space will be used.</div>
<div class="line">[Saturday 10 April 2010] [10:35:50] &lt;mato&gt;  :-)</div>
<div class="line">[Saturday 10 April 2010] [10:35:55] &lt;mato&gt;  yeah, i know</div>
<div class="line">[Saturday 10 April 2010] [10:36:13] &lt;mato&gt;  normal users need never see it though</div>
<div class="line">[Saturday 10 April 2010] [10:36:32] &lt;mato&gt;  what are you doing &#8216;make dist&#8217; for anyway? :-)</div>
<div class="line">[Saturday 10 April 2010] [10:37:14] &lt;mato&gt;  crap</div>
<div class="line">[Saturday 10 April 2010] [10:37:15] &lt;mikko&gt; moved the spec file to builds/redhat/zeromq2.spec and making a dist-hook to copy to top-level</div>
<div class="line">[Saturday 10 April 2010] [10:37:16] &lt;mato&gt;  sustrik: ping</div>
<div class="line">[Saturday 10 April 2010] [10:37:20] &lt;mikko&gt; and remove after distclean</div>
<div class="line">[Saturday 10 April 2010] [10:37:24] &lt;mato&gt;  ah :)</div>
<div class="line">[Saturday 10 April 2010] [10:37:26] &lt;mato&gt;  fair enough</div>
<div class="line">[Saturday 10 April 2010] [10:37:50] &lt;mikko&gt; also trying to look into why configure succeeds when g++ is missing</div>
<div class="line">[Saturday 10 April 2010] [10:38:01] &lt;mikko&gt; or why it tries to use g++ even though it&#8217;s not there</div>
<div class="line">[Saturday 10 April 2010] [10:38:10] &lt;mato&gt;  default behaviour</div>
<div class="line">[Saturday 10 April 2010] [10:38:23] &lt;mato&gt;  <a class="reference external" href="http://www.gnu.org/software/hello/manual/autoconf/C_002b_002b-Compiler.html#C_002b_002b-Compiler">http://www.gnu.org/software/hello/manual/autoconf/C_002b_002b-Compiler.html#C_002b_002b-Compiler</a></div>
<div class="line">[Saturday 10 April 2010] [10:38:26] &lt;sustrik&gt;   mato: pong</div>
<div class="line">[Saturday 10 April 2010] [10:38:34] &lt;mato&gt;  . If none of those checks succeed, then as a last resort set CXX to g++.</div>
<div class="line">[Saturday 10 April 2010] [10:38:44] &lt;mato&gt;  sustrik: I have a problem with the perf tests</div>
<div class="line">[Saturday 10 April 2010] [10:38:52] &lt;mikko&gt; If none of those checks succeed, then as a last resort set CXX to g++.</div>
<div class="line">[Saturday 10 April 2010] [10:38:53] &lt;mikko&gt; ah</div>
<div class="line">[Saturday 10 April 2010] [10:39:07] &lt;sustrik&gt;   yes?</div>
<div class="line">[Saturday 10 April 2010] [10:39:34] &lt;mato&gt;  they need to link against the C++ runtime</div>
<div class="line">[Saturday 10 April 2010] [10:39:46] &lt;sustrik&gt;   they do</div>
<div class="line">[Saturday 10 April 2010] [10:39:50] &lt;mato&gt;  no they don&#8217;t</div>
<div class="line">[Saturday 10 April 2010] [10:39:57] &lt;sustrik&gt;   the libzmq does</div>
<div class="line">[Saturday 10 April 2010] [10:40:04] &lt;mato&gt;  I have a heap of checks in configure.in to deal with exactly this</div>
<div class="line">[Saturday 10 April 2010] [10:40:13] &lt;mato&gt;  No it doesn&#8217;t</div>
<div class="line">[Saturday 10 April 2010] [10:40:16] &lt;mato&gt;  let me explain</div>
<div class="line">[Saturday 10 April 2010] [10:40:23]      * sustrik is listening</div>
<div class="line">[Saturday 10 April 2010] [10:40:47] &lt;mato&gt;  the only case where it &#8220;just works&#8221; is if libzmq.so is a shared library</div>
<div class="line">[Saturday 10 April 2010] [10:40:54] &lt;sustrik&gt;   ack</div>
<div class="line">[Saturday 10 April 2010] [10:40:57] &lt;mato&gt;  even then only reliably on Linux/gcc</div>
<div class="line">[Saturday 10 April 2010] [10:41:12] &lt;mato&gt;  now, I cannot realistically make all the other combinations work</div>
<div class="line">[Saturday 10 April 2010] [10:41:20] &lt;mato&gt;  however there&#8217;s a trivial way to make it &#8220;just work&#8221; for us</div>
<div class="line">[Saturday 10 April 2010] [10:41:44] &lt;mato&gt;  which is to rename those source files to .cpp, which will cause them to be built with the C++ compiler, whatever that may be, which will just work</div>
<div class="line">[Saturday 10 April 2010] [10:41:56] &lt;sustrik&gt;   sure, why not</div>
<div class="line">[Saturday 10 April 2010] [10:42:00] &lt;mato&gt;  so, can i make that chage?</div>
<div class="line">[Saturday 10 April 2010] [10:42:01] &lt;mato&gt;  good</div>
<div class="line">[Saturday 10 April 2010] [10:42:10] &lt;mato&gt;  i&#8217;ll do that, i just wanted you to understand why</div>
<div class="line">[Saturday 10 April 2010] [10:43:31]      * sustrik thinks there should be a slim C++ variant with no specific runtime</div>
<div class="line">[Saturday 10 April 2010] [10:43:45] &lt;sustrik&gt;   OO-macros for CV</div>
<div class="line">[Saturday 10 April 2010] [10:43:47] &lt;sustrik&gt;   C</div>
<div class="line">[Saturday 10 April 2010] [10:43:52] &lt;mato&gt;  go complain to Bjarne Stroustrup</div>
<div class="line">[Saturday 10 April 2010] [10:44:02] &lt;mikko&gt; Bjarne hates macros</div>
<div class="line">[Saturday 10 April 2010] [10:44:17] &lt;sustrik&gt;   i mean, i am using nothing out of C++ runtime</div>
<div class="line">[Saturday 10 April 2010] [10:44:28] &lt;sustrik&gt;   almost</div>
<div class="line">[Saturday 10 April 2010] [10:44:49] &lt;sustrik&gt;   :|</div>
<div class="line">[Saturday 10 April 2010] [10:46:24] &lt;sustrik&gt;   btw, what about linking C++ runtime statically?</div>
<div class="line">[Saturday 10 April 2010] [10:46:49] &lt;mato&gt;  sustrik: there is <em>no</em> portable way to &#8220;link the C++ runtime&#8221; other than using the C++ compiler</div>
<div class="line">[Saturday 10 April 2010] [10:47:00] &lt;sustrik&gt;   gh</div>
<div class="line">[Saturday 10 April 2010] [10:47:18] &lt;mato&gt;  the libstdc++ stuff i had in configure was a hack for gcc</div>
<div class="line">[Saturday 10 April 2010] [10:47:22] &lt;mato&gt;  and it&#8217;s getting in the way</div>
<div class="line">[Saturday 10 April 2010] [10:47:44] &lt;sustrik&gt;   go on, get rid of it</div>
<div class="line">[Saturday 10 April 2010] [10:47:48] &lt;mato&gt;  which is why i want to compile/link all our binaries with the C++ compiler and not care about the problem</div>
<div class="line">[Saturday 10 April 2010] [10:52:53] &lt;CIA-5&gt; rbzmq: 03Martin Sustrik 07master * rcd25ce4 10/ rbzmq.cpp : setting integer socket options fixed - <a class="reference external" href="http://bit.ly/d0pygW">http://bit.ly/d0pygW</a></div>
<div class="line">[Saturday 10 April 2010] [10:59:59] &lt;sustrik&gt;   mato: i&#8217;ve enabled CIA for jzmq and clrzmq in github, please update your part of it later on</div>
<div class="line">[Saturday 10 April 2010] [11:00:15] &lt;mato&gt;  ok</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * rf6fa41d 10/ (10 files in 2 dirs):</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: Compile perf tests with the C++ compiler</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: This lets us build the binaries in a portable fashion w/o having to worry</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: about how to link with the C++ runtime. - <a class="reference external" href="http://bit.ly/aJcfUn">http://bit.ly/aJcfUn</a></div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * rb668387 10/ (5 files in 5 dirs): Remove -Wxxx gcc-isms from subdir Makefiles - <a class="reference external" href="http://bit.ly/a0KHqq">http://bit.ly/a0KHqq</a></div>
<div class="line">[Saturday 10 April 2010] [11:07:45] &lt;mikko&gt; ok, make dist in debian -&gt; copy tarball to CentOS -&gt; rpmbuild -tb zeromq-2.0.7.tar.gz seems to generate RPMs as expected</div>
<div class="line">[Saturday 10 April 2010] [11:08:05] &lt;mikko&gt; i wonder if the debian/ should be moved to builds and copied during make dist</div>
<div class="line">[Saturday 10 April 2010] [11:10:01] &lt;mato&gt;  libtool: link: CC -g -o .libs/local_lat local_lat.o  ../src/.libs/libzmq.so -luuid -lrt -lnsl -lsocket -lpthread -R/usr/local/lib</div>
<div class="line">[Saturday 10 April 2010] [11:10:05] &lt;mato&gt;  Undefined                       first referenced symbol                             in file</div>
<div class="line">[Saturday 10 April 2010] [11:10:08] &lt;mato&gt;  bool std::operator==&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt; &gt;(const std::basic_string&lt;__type_0,__type_1,__type_2&gt;&amp;,const __type_0*) ../src/.libs/libzmq.so</div>
<div class="line">[Saturday 10 April 2010] [11:10:11] &lt;mato&gt;  ld: fatal: Symbol referencing errors. No output written to .libs/local_lat</div>
<div class="line">[Saturday 10 April 2010] [11:10:16] &lt;mato&gt;  wtf</div>
<div class="line">[Saturday 10 April 2010] [11:11:20] &lt;mato&gt;  mikko: cool</div>
<div class="line">[Saturday 10 April 2010] [11:11:48] &lt;mato&gt;  mikko: maybe, i&#8217;d need to check with adrian</div>
<div class="line">[Saturday 10 April 2010] [11:12:05]      * sustrik nods in accord</div>
<div class="line">[Saturday 10 April 2010] [11:12:43] &lt;sustrik&gt;   i would guess the equality operator on string class should be in libstdc++</div>
<div class="line">[Saturday 10 April 2010] [11:16:00] &lt;mato&gt;  grrr</div>
<div class="line">[Saturday 10 April 2010] [11:16:11] &lt;mato&gt;  I don&#8217;t know</div>
<div class="line">[Saturday 10 April 2010] [11:16:17] &lt;mato&gt;  that is, it should</div>
<div class="line">[Saturday 10 April 2010] [11:16:27] &lt;mato&gt;  and libzmq.so does pull in the relevant Sun C++ libraries</div>
<div class="line">[Saturday 10 April 2010] [11:16:35] &lt;mato&gt;  but it doesn&#8217;t work when linking the perf tests</div>
<div class="line">[Saturday 10 April 2010] [11:16:55] &lt;mato&gt;  enough for today, I&#8217;ll look at it again tomorrow</div>
<div class="line">[Saturday 10 April 2010] [11:21:36] &lt;mikko&gt; pull request sent</div>
<div class="line">[Saturday 10 April 2010] [11:21:43] &lt;mikko&gt; i think im gonna play for a minute</div>
<div class="line">[Saturday 10 April 2010] [11:21:44] &lt;mikko&gt; bbl</div>
<div class="line">[Saturday 10 April 2010] [11:26:02] &lt;mato&gt;  i&#8217;m off into town</div>
<div class="line">[Saturday 10 April 2010] [11:26:02] &lt;mato&gt;  bbl</div>
<div class="line">[Saturday 10 April 2010] [11:32:15] &lt;sustrik&gt;   cyl</div>
<div class="line">[Sunday 11 April 2010] [01:59:12] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r6fea422 10/ include/zmq.hpp : getsockopt added to c++ binding - <a class="reference external" href="http://bit.ly/aWN1od">http://bit.ly/aWN1od</a></div>
<div class="line">[Sunday 11 April 2010] [04:08:32] &lt;mikko&gt;   sustrik: pretty early commit, huh</div>
<div class="line">[Sunday 11 April 2010] [04:08:50] &lt;mikko&gt;   (assuming you are somewhat close to GMT)</div>
<div class="line">[Sunday 11 April 2010] [04:08:58] &lt;sustrik&gt; GMT+1</div>
<div class="line">[Sunday 11 April 2010] [04:09:08] &lt;sustrik&gt; what about you?</div>
<div class="line">[Sunday 11 April 2010] [04:09:46] &lt;mikko&gt;   GMT + 1 at the moment i think</div>
<div class="line">[Sunday 11 April 2010] [04:09:52] &lt;mikko&gt;   british summer time</div>
<div class="line">[Sunday 11 April 2010] [04:09:56] &lt;mikko&gt;   (london)</div>
<div class="line">[Sunday 11 April 2010] [04:10:35] &lt;sustrik&gt; ah, GMT+2 here then (CET summer time)</div>
<div class="line">[Sunday 11 April 2010] [04:10:49] &lt;mikko&gt;   is imatix a belgian company?</div>
<div class="line">[Sunday 11 April 2010] [04:11:02] &lt;mikko&gt;   at least the contact details seem to point to belgium</div>
<div class="line">[Sunday 11 April 2010] [04:11:18] &lt;sustrik&gt; imatix is belgain, but i am independent, just managing the project</div>
<div class="line">[Sunday 11 April 2010] [04:11:29] &lt;sustrik&gt; i&#8217;m based in bratislava, slovakia</div>
<div class="line">[Sunday 11 April 2010] [04:12:21] &lt;sustrik&gt; btw, i&#8217;ll have to go to london next week or so, so we can have a beer</div>
<div class="line">[Sunday 11 April 2010] [04:12:36] &lt;mikko&gt;   sure, just let me know when and where</div>
<div class="line">[Sunday 11 April 2010] [04:12:40] &lt;sustrik&gt; ack</div>
<div class="line">[Sunday 11 April 2010] [04:12:56] &lt;mikko&gt;   i visited bratislava in 2006</div>
<div class="line">[Sunday 11 April 2010] [04:13:12] &lt;sustrik&gt; haven&#8217;t changed much since :)</div>
<div class="line">[Sunday 11 April 2010] [04:13:13] &lt;mikko&gt;   after football world cup</div>
<div class="line">[Sunday 11 April 2010] [04:13:17] &lt;mikko&gt;   a lot of road works</div>
<div class="line">[Sunday 11 April 2010] [04:13:23] &lt;sustrik&gt; still the same</div>
<div class="line">[Sunday 11 April 2010] [04:13:29] &lt;mikko&gt;   seems like the whole city was being rebuilt</div>
<div class="line">[Sunday 11 April 2010] [04:13:54] &lt;sustrik&gt; that&#8217;s how cities look in balkans</div>
<div class="line">[Sunday 11 April 2010] [04:14:01] &lt;sustrik&gt; like they are rebuilt all the time</div>
<div class="line">[Sunday 11 April 2010] [04:14:10] &lt;sustrik&gt; bratislava is a bit on edge of the area</div>
<div class="line">[Sunday 11 April 2010] [04:14:15] &lt;sustrik&gt; but the impression is the same</div>
<div class="line">[Sunday 11 April 2010] [04:15:06] &lt;sustrik&gt; btw, how does the php api look like?</div>
<div class="line">[Sunday 11 April 2010] [04:15:31] &lt;sustrik&gt; i think i&#8217;ve noticed you are using &#8216;zeromq&#8217; prefix</div>
<div class="line">[Sunday 11 April 2010] [04:15:36] &lt;mikko&gt;   i tagged 0.1.0 beta</div>
<div class="line">[Sunday 11 April 2010] [04:15:43] &lt;sustrik&gt; yep, seen that</div>
<div class="line">[Sunday 11 April 2010] [04:16:20] &lt;sustrik&gt; some time ago we&#8217;ve tried to write a guidelines for APIs so that all the language bindings look more or less the same</div>
<div class="line">[Sunday 11 April 2010] [04:16:22] &lt;mikko&gt;   yep, class name in php can&#8217;t start with a number</div>
<div class="line">[Sunday 11 April 2010] [04:16:25] &lt;sustrik&gt; have tou seen that?</div>
<div class="line">[Sunday 11 April 2010] [04:16:32] &lt;mikko&gt;   no, missed that</div>
<div class="line">[Sunday 11 April 2010] [04:16:36] &lt;sustrik&gt; wait a sec</div>
<div class="line">[Sunday 11 April 2010] [04:16:42] &lt;mikko&gt;   it&#8217;s an easy change if needed</div>
<div class="line">[Sunday 11 April 2010] [04:16:59] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/guidelines:bindings">http://www.zeromq.org/guidelines:bindings</a></div>
<div class="line">[Sunday 11 April 2010] [04:17:07] &lt;sustrik&gt; it&#8217;s entirely up to you</div>
<div class="line">[Sunday 11 April 2010] [04:17:25] &lt;sustrik&gt; but following the guidelines is meant to ease the transition between different languages</div>
<div class="line">[Sunday 11 April 2010] [04:17:42] &lt;sustrik&gt; as well as to make communication between developers in different languages easier</div>
<div class="line">[Sunday 11 April 2010] [04:18:00] &lt;mikko&gt;   Preferred name of the object/namespace/prefix is &#8220;zmq&#8221;</div>
<div class="line">[Sunday 11 April 2010] [04:18:06] &lt;sustrik&gt; yes</div>
<div class="line">[Sunday 11 April 2010] [04:18:08] &lt;mikko&gt;   let me change that</div>
<div class="line">[Sunday 11 April 2010] [04:26:57] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r00cf3ce 10/ (include/zmq.h src/socket_base.cpp src/socket_base.hpp): multi-part message functionality available via ZMQ_SNDMORE and ZMQ_RCVMORE - <a class="reference external" href="http://bit.ly/aKIAhA">http://bit.ly/aKIAhA</a></div>
<div class="line">[Sunday 11 April 2010] [04:40:00] &lt;mikko&gt;   i renamed the extension from &#8216;zeromq&#8217; to &#8216;zmq&#8217; as well</div>
<div class="line">[Sunday 11 April 2010] [04:40:11] &lt;mikko&gt;   Search -&gt; Replace All</div>
<div class="line">[Sunday 11 April 2010] [04:40:14] &lt;mikko&gt;   :)</div>
<div class="line">[Sunday 11 April 2010] [04:40:20] &lt;sustrik&gt; mikko: great, thanks</div>
<div class="line">[Sunday 11 April 2010] [04:51:57] &lt;mikko&gt;   repo renamed, links updated, docs update</div>
<div class="line">[Sunday 11 April 2010] [04:52:02] &lt;mikko&gt;   i think it&#8217;s almost done</div>
<div class="line">[Sunday 11 April 2010] [04:58:00] &lt;sustrik&gt; mikko: you&#8217;ve already done the poll part, right?</div>
<div class="line">[Sunday 11 April 2010] [04:58:33] &lt;mikko&gt;   yep</div>
<div class="line">[Sunday 11 April 2010] [04:58:36] &lt;sustrik&gt; as you&#8217;ve seen in the guidelines there&#8217;s no standard for polling API at the moment</div>
<div class="line">[Sunday 11 April 2010] [04:58:48] &lt;sustrik&gt; on the mailing list there&#8217;s a thread called &#8220;polling API&#8221;</div>
<div class="line">[Sunday 11 April 2010] [04:59:09] &lt;sustrik&gt; i would be gread if you can comment on what the API looks like in PHP</div>
<div class="line">[Sunday 11 April 2010] [04:59:47] &lt;sustrik&gt; the ultimate goal is to get some common understanding how polling interface should look like to be acceptable for all languages</div>
<div class="line">[Sunday 11 April 2010] [05:00:59] &lt;mikko&gt;   i modelled the polling interface after existing &#8220;select&#8221; api in php</div>
<div class="line">[Sunday 11 April 2010] [05:01:10] &lt;mikko&gt;   so it would be somewhat familiar for the developer already</div>
<div class="line">[Sunday 11 April 2010] [05:01:21] &lt;mikko&gt;   i&#8217;ll take a look</div>
<div class="line">[Sunday 11 April 2010] [05:01:31] &lt;sustrik&gt; thx</div>
<div class="line">[Sunday 11 April 2010] [05:02:59] &lt;mikko&gt;   hm, i actually hid away the context from the developer</div>
<div class="line">[Sunday 11 April 2010] [05:03:11] &lt;mikko&gt;   due to the complexicity of persistent resources in php</div>
<div class="line">[Sunday 11 April 2010] [05:03:42] &lt;mikko&gt;   inside one process i create one context per combination of options which is persisted based on configuration setting which can be set by administrator</div>
<div class="line">[Sunday 11 April 2010] [05:03:59] &lt;mikko&gt;   that way in shared hosting scenario the admins can disable persistence altogether</div>
<div class="line">[Sunday 11 April 2010] [05:12:14] &lt;mikko&gt;   is there any reason why you didn&#8217;t use existing event loop libraries for polling?</div>
<div class="line">[Sunday 11 April 2010] [05:12:17] &lt;mikko&gt;   such as libev</div>
<div class="line">[Sunday 11 April 2010] [05:15:19] &lt;sustrik&gt; mikko: how would you do that?</div>
<div class="line">[Sunday 11 April 2010] [05:15:27] &lt;sustrik&gt; 0mq socket is not a file descriptor</div>
<div class="line">[Sunday 11 April 2010] [05:16:11] &lt;sustrik&gt; as for the context, it&#8217;s intent is to separate different applications running in the same process</div>
<div class="line">[Sunday 11 April 2010] [05:16:42] &lt;sustrik&gt; if PHP doesn&#8217;t allow that kind of thing, there&#8217;s no point in having context object exposed</div>
<div class="line">[Sunday 11 April 2010] [05:17:16] &lt;mikko&gt;   i don&#8217;t think for 99.9% of phps usecases context object is not needed</div>
<div class="line">[Sunday 11 April 2010] [05:17:46] &lt;mikko&gt;   as sharing context inside a php script should be advantage rather than harmful</div>
<div class="line">[Sunday 11 April 2010] [05:18:01] &lt;mikko&gt;   if there are other extensions that use zeromq they would have their own context</div>
<div class="line">[Sunday 11 April 2010] [05:18:09] &lt;sustrik&gt; it was originally designed for C</div>
<div class="line">[Sunday 11 April 2010] [05:18:15] &lt;mikko&gt;   usually i tend to try to design with simplicity in mind for php :)</div>
<div class="line">[Sunday 11 April 2010] [05:18:24] &lt;sustrik&gt; the use case was that if there are 2 libraries, each using 0MQ</div>
<div class="line">[Sunday 11 April 2010] [05:18:30] &lt;mikko&gt;   yeah, in C it makes a lot of sense</div>
<div class="line">[Sunday 11 April 2010] [05:18:33] &lt;sustrik&gt; you can link them to the same process</div>
<div class="line">[Sunday 11 April 2010] [05:18:42] &lt;sustrik&gt; without them misiteracting</div>
<div class="line">[Sunday 11 April 2010] [05:19:15] &lt;sustrik&gt; exactly, if a misinteraction probelm cannot happen in PHP there&#8217;s no point in having context</div>
<div class="line">[Sunday 11 April 2010] [05:20:25] &lt;mikko&gt;   hmm, how does the polling work in 0mq at the moment?</div>
<div class="line">[Sunday 11 April 2010] [05:20:45] &lt;mikko&gt;   i would&#8217;ve thought that it checks for io at some point</div>
<div class="line">[Sunday 11 April 2010] [05:20:59] &lt;sustrik&gt; I/O is done in I/O threads</div>
<div class="line">[Sunday 11 April 2010] [05:21:20] &lt;sustrik&gt; what you are checking in zmq_poll is whether there are messages queued by I/O threads</div>
<div class="line">[Sunday 11 April 2010] [05:21:27] &lt;sustrik&gt; destined for application threads</div>
<div class="line">[Sunday 11 April 2010] [05:21:49] &lt;sustrik&gt; it&#8217;s done via a lock-free polling object</div>
<div class="line">[Sunday 11 April 2010] [05:21:55] &lt;sustrik&gt; ypollset.hpp</div>
<div class="line">[Sunday 11 April 2010] [05:21:57] &lt;sustrik&gt; iirc</div>
<div class="line">[Sunday 11 April 2010] [05:22:35] &lt;sustrik&gt; but the real point is that there&#8217;s no way to simulate an fd in user space</div>
<div class="line">[Sunday 11 April 2010] [05:22:45] &lt;sustrik&gt; so you can either go kernel</div>
<div class="line">[Sunday 11 April 2010] [05:22:51] &lt;sustrik&gt; thus loosing portability</div>
<div class="line">[Sunday 11 April 2010] [05:23:16] &lt;sustrik&gt; or you sacrifice fd&#8217;s</div>
<div class="line">[Sunday 11 April 2010] [05:24:09] &lt;sustrik&gt; the latter means that system polling mechanism - such as select of poll - cannot be used with your implementation</div>
<div class="line">[Sunday 11 April 2010] [05:24:09] &lt;sustrik&gt; :(</div>
<div class="line">[Sunday 11 April 2010] [05:24:19] &lt;mikko&gt;   now i get it</div>
<div class="line">[Sunday 11 April 2010] [05:24:29] &lt;mikko&gt;   i&#8217;ve only used event loops in very simple scenarios</div>
<div class="line">[Sunday 11 April 2010] [05:24:37] &lt;mikko&gt;   such as websocket daemon etc</div>
<div class="line">[Sunday 11 April 2010] [05:24:49] &lt;mikko&gt;   where there is a writable/readable fd</div>
<div class="line">[Sunday 11 April 2010] [05:24:57] &lt;sustrik&gt; ack</div>
<div class="line">[Sunday 11 April 2010] [05:25:17] &lt;sustrik&gt; when /me is rich and powerful, i&#8217;ll loby for adding user-space fds to POSIX</div>
<div class="line">[Sunday 11 April 2010] [05:27:19] &lt;mikko&gt;   <a class="reference external" href="http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che">http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che</a></div>
<div class="line">[Sunday 11 April 2010] [05:27:37] &lt;mikko&gt;   &#8220;Their main purpose is to integrate other event mechanisms into libev and their use is somewhat advanced. They could be used, for example, to track variable changes, implement your own watchers, integrate net-snmp or a coroutine library and lots more.&#8221;</div>
<div class="line">[Sunday 11 April 2010] [05:28:07] &lt;mikko&gt;   that might be fd based as well</div>
<div class="line">[Sunday 11 April 2010] [05:29:52] &lt;sustrik&gt; not sure</div>
<div class="line">[Sunday 11 April 2010] [05:30:06] &lt;sustrik&gt; maybe its just a way to to say &#8220;use zmq_poll instead of poll&#8221;</div>
<div class="line">[Sunday 11 April 2010] [05:30:25] &lt;sustrik&gt; and 0mq sockets instead of fds</div>
<div class="line">[Sunday 11 April 2010] [05:31:49] &lt;sustrik&gt; hm, looking at the example, it&#8217;s probably fd-based</div>
<div class="line">[Sunday 11 April 2010] [05:32:51] &lt;mikko&gt;   &#8220;The drawback with this solution is that the main loop is now no longer controllable by EV. The Glib::EV  module uses this approach, effectively embedding EV as a client into the horrible libglib event loop.&#8221;</div>
<div class="line">[Sunday 11 April 2010] [05:33:01] &lt;mikko&gt;   the author does not seem to be the most polite person</div>
<div class="line">[Sunday 11 April 2010] [05:34:02] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 11 April 2010] [05:34:24] &lt;sustrik&gt; but that seems to imply you can actually merge it with 0mq</div>
<div class="line">[Sunday 11 April 2010] [05:35:04] &lt;sustrik&gt; i am not sure i understand it correctly</div>
<div class="line">[Sunday 11 April 2010] [05:35:21] &lt;sustrik&gt; but does it mean you can delegate the actuall polling to zmq_poll</div>
<div class="line">[Sunday 11 April 2010] [05:35:31] &lt;sustrik&gt; ?</div>
<div class="line">[Sunday 11 April 2010] [05:35:35] &lt;mikko&gt;   i think event_poll_func is a callback for Glib::EV</div>
<div class="line">[Sunday 11 April 2010] [05:35:42] &lt;mikko&gt;   yes, seems like that</div>
<div class="line">[Sunday 11 April 2010] [05:36:39] &lt;sustrik&gt; ok, if someone appears with a need for libev integration, let&#8217;s point him this way</div>
<div class="line">[Sunday 11 April 2010] [07:21:58] &lt;mikko&gt;   sustrik: is the maximum size for ZMQ_IDENTITY exposed somehow?</div>
<div class="line">[Sunday 11 April 2010] [07:24:21] &lt;sustrik&gt; it&#8217;s 255</div>
<div class="line">[Sunday 11 April 2010] [07:24:30] &lt;sustrik&gt; you mean like a constant or so?</div>
<div class="line">[Sunday 11 April 2010] [07:25:04] &lt;mikko&gt;   i mean is that subject to change?</div>
<div class="line">[Sunday 11 April 2010] [07:25:15] &lt;sustrik&gt; no, it&#8217;s not</div>
<div class="line">[Sunday 11 April 2010] [07:25:22] &lt;sustrik&gt; 255 characters should be enough</div>
<div class="line">[Sunday 11 April 2010] [07:33:25] &lt;sustrik&gt; mikko: do you expect longer identites?</div>
<div class="line">[Sunday 11 April 2010] [07:33:59] &lt;mikko&gt;   no, just that if i hardcore the value and it changes in the future</div>
<div class="line">[Sunday 11 April 2010] [07:33:59] &lt;sustrik&gt; strictly speaking, there&#8217;s no real technological reason to limit the size of identity</div>
<div class="line">[Sunday 11 April 2010] [07:34:12] &lt;sustrik&gt; in theory it can be made unbound</div>
<div class="line">[Sunday 11 April 2010] [07:34:24]    * sustrik is thinking</div>
<div class="line">[Sunday 11 April 2010] [07:35:13] &lt;sustrik&gt; having identities longer than 255 characters is not a good idea</div>
<div class="line">[Sunday 11 April 2010] [07:35:29] &lt;sustrik&gt; but why limit those that want to do this kind of ugly stuff?</div>
<div class="line">[Sunday 11 April 2010] [07:36:01] &lt;mikko&gt;   retrieving is easier if its limited</div>
<div class="line">[Sunday 11 April 2010] [07:36:14] &lt;sustrik&gt; true</div>
<div class="line">[Sunday 11 April 2010] [07:36:32] &lt;sustrik&gt; a different question: should the identity even be retrievable?</div>
<div class="line">[Sunday 11 April 2010] [07:36:41] &lt;sustrik&gt; what is it good for?</div>
<div class="line">[Sunday 11 April 2010] [07:37:34] &lt;mikko&gt;   well, in case of php you might instantiate the object and then use it a few requests later</div>
<div class="line">[Sunday 11 April 2010] [07:37:50] &lt;mikko&gt;   effectively the socket is persisted and then tied to a new php object later</div>
<div class="line">[Sunday 11 April 2010] [07:38:02] &lt;sustrik&gt; right, but why would you want to retrieve the identity?</div>
<div class="line">[Sunday 11 April 2010] [07:38:14] &lt;mikko&gt;   you mean instead of resetting it each time?</div>
<div class="line">[Sunday 11 April 2010] [07:38:56]    * sustrik is not following</div>
<div class="line">[Sunday 11 April 2010] [07:39:19] &lt;sustrik&gt; the question is what&#8217;s the scenario where you need getsockopt (ZMQ_IDENTITY)?</div>
<div class="line">[Sunday 11 April 2010] [07:40:45] &lt;mikko&gt;   let&#8217;s a say you got a following php script: &lt;?php $object = new ZMQ(ZMQ::SOCKET_REP, &#8216;mysock1&#8217;); ?&gt;</div>
<div class="line">[Sunday 11 April 2010] [07:40:59] &lt;mikko&gt;   the socket structure is stored internally over multiple executions of this script</div>
<div class="line">[Sunday 11 April 2010] [07:41:04] &lt;mikko&gt;   to get persistent connections</div>
<div class="line">[Sunday 11 April 2010] [07:41:14] &lt;mikko&gt;   now, let&#8217;s say you have an identity</div>
<div class="line">[Sunday 11 April 2010] [07:41:48] &lt;mikko&gt;   the script becomes &lt;?php $object = new ZMQ(ZMQ::SOCKET_REP, &#8216;mysock1&#8217;); $object-&gt;setSockOpt(ZMQ::SOCKOPT_IDENTITY, &#8216;my best socket&#8217;); ?&gt;</div>
<div class="line">[Sunday 11 April 2010] [07:42:14] &lt;mikko&gt;   so on each execution of this script (page load) you would reset the identity</div>
<div class="line">[Sunday 11 April 2010] [07:42:19] &lt;mikko&gt;   i dont know if that makes any difference</div>
<div class="line">[Sunday 11 April 2010] [07:43:00] &lt;mikko&gt;   if you can retrieve it you could do &lt;?php $object = new ZMQ(ZMQ::SOCKET_REP, &#8216;mysock1&#8217;); if ($object-&gt;getSockOpt(ZMQ::SOCKOPT_IDENTITY) != &#8216;my best socket&#8217;) { $object-&gt;setSockOpt(ZMQ::SOCKOPT_IDENTITY, &#8216;my best socket&#8217;); }</div>
<div class="line">[Sunday 11 April 2010] [07:43:30] &lt;sustrik&gt; the identity is meant to stay the same</div>
<div class="line">[Sunday 11 April 2010] [07:43:35] &lt;sustrik&gt; so you open socket</div>
<div class="line">[Sunday 11 April 2010] [07:43:41] &lt;sustrik&gt; set the identity</div>
<div class="line">[Sunday 11 April 2010] [07:43:45] &lt;sustrik&gt; and that&#8217;s it</div>
<div class="line">[Sunday 11 April 2010] [07:43:53] &lt;sustrik&gt; you don&#8217;t need to touch it anymore</div>
<div class="line">[Sunday 11 April 2010] [07:44:06] &lt;mikko&gt;   indeed, but in phps case if you can&#8217;t retrieve the identity you can not know if it&#8217;s set already</div>
<div class="line">[Sunday 11 April 2010] [07:44:30] &lt;mikko&gt;   as the socket is persisted over multiple requests but the PHP object is recreated each time</div>
<div class="line">[Sunday 11 April 2010] [07:45:04] &lt;sustrik&gt; true, but still, setting it each time doesn&#8217;t really matter</div>
<div class="line">[Sunday 11 April 2010] [07:45:18] &lt;sustrik&gt; except as performance problem</div>
<div class="line">[Sunday 11 April 2010] [07:45:54] &lt;sustrik&gt; but i would suspect there are much more perf problems in PHP itself and setting a single string shouldn&#8217;t really matter</div>
<div class="line">[Sunday 11 April 2010] [07:46:51] &lt;mikko&gt;   well, in C you might have a large array sockets and each one have identity set at different stages</div>
<div class="line">[Sunday 11 April 2010] [07:47:30] &lt;sustrik&gt; yes, that&#8217;s the only use case i can think of</div>
<div class="line">[Sunday 11 April 2010] [07:49:10] &lt;mikko&gt;   i would think it makes no harm to limit/allow retrieving</div>
<div class="line">[Sunday 11 April 2010] [07:49:23] &lt;mikko&gt;   if someone needs longer identities let&#8217;s cross that bridge when we get there</div>
<div class="line">[Sunday 11 April 2010] [07:49:47] &lt;sustrik&gt; ok, good</div>
<div class="line">[Sunday 11 April 2010] [07:49:56] &lt;sustrik&gt; let it stay as it is now</div>
<div class="line">[Sunday 11 April 2010] [08:00:46] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r6cf0765 10/ include/zmq.h : C-style comments in zmq.h - <a class="reference external" href="http://bit.ly/dw16x4">http://bit.ly/dw16x4</a></div>
<div class="line">[Sunday 11 April 2010] [08:09:29] &lt;mikko&gt;   mmm</div>
<div class="line">[Sunday 11 April 2010] [08:09:34] &lt;mikko&gt;   protein bars taste horrible</div>
<div class="line">[Sunday 11 April 2010] [08:14:16] &lt;mikko&gt;   hmm</div>
<div class="line">[Sunday 11 April 2010] [08:14:24] &lt;mikko&gt;   one thing i was wondering that might be useful</div>
<div class="line">[Sunday 11 April 2010] [08:14:37] &lt;mikko&gt;   have the libzmq version exposed as constant as well</div>
<div class="line">[Sunday 11 April 2010] [08:14:49] &lt;mikko&gt;   that would show which version people compiled against vs runtime version</div>
<div class="line">[Sunday 11 April 2010] [08:18:02] &lt;sustrik&gt; yeah, it would be useful, but the version numbers are generated from configure.in</div>
<div class="line">[Sunday 11 April 2010] [08:18:10] &lt;sustrik&gt; try asking about it on the mailing list</div>
<div class="line">[Sunday 11 April 2010] [08:18:30] &lt;sustrik&gt; people who understand how the build system works may have an opinion</div>
<div class="line">[Sunday 11 April 2010] [08:20:09] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rdff79d7 10/ builds/msvc/platform.hpp : version number bumped to 2.0.7 for MSVC build - <a class="reference external" href="http://bit.ly/b2cKvx">http://bit.ly/b2cKvx</a></div>
<div class="line">[Sunday 11 April 2010] [09:45:29] &lt;sustrik&gt; people who understand how the build system works may have an opinion</div>
<div class="line">[Sunday 11 April 2010] [10:36:36] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rfba28c7 10/ (6 files in 2 dirs): issue 1 - Change zmq_term semantics - <a class="reference external" href="http://bit.ly/c7n0NQ">http://bit.ly/c7n0NQ</a></div>
<div class="line">[Sunday 11 April 2010] [10:55:09] &lt;mikko&gt;   reply-to &#8220;&amp;#216;MQ development list&#8221; &lt;<a class="reference external" href="mailto:zeromq-dev&#37;&#52;&#48;lists&#46;zeromq&#46;org">zeromq-dev<span>&#64;</span>lists<span>&#46;</span>zeromq<span>&#46;</span>org</a>&gt;</div>
<div class="line">[Sunday 11 April 2010] [10:55:12] &lt;mikko&gt;   odd</div>
<div class="line">[Sunday 11 April 2010] [10:59:06] &lt;sustrik&gt; it&#8217;ve been discussed on the mailing list</div>
<div class="line">[Sunday 11 April 2010] [10:59:14] &lt;sustrik&gt; i have no opinion on it</div>
<div class="line">[Sunday 11 April 2010] [10:59:21] &lt;sustrik&gt; feel free to complain</div>
<div class="line">[Sunday 11 April 2010] [10:59:27] &lt;mikko&gt;   sorry?</div>
<div class="line">[Sunday 11 April 2010] [10:59:35] &lt;sustrik&gt; the reply-to thing</div>
<div class="line">[Sunday 11 April 2010] [10:59:38] &lt;mikko&gt;   ah</div>
<div class="line">[Sunday 11 April 2010] [10:59:39] &lt;mikko&gt;   :)</div>
<div class="line">[Sunday 11 April 2010] [10:59:49] &lt;mikko&gt;   im just wondering why it goes like that</div>
<div class="line">[Sunday 11 April 2010] [11:00:07] &lt;mikko&gt;   noticed your post of zmq_term semantics and trying to formulate my idea into an email</div>
<div class="line">[Sunday 11 April 2010] [11:00:25] &lt;sustrik&gt; because people are used to hit reply button instead of reply to all</div>
<div class="line">[Sunday 11 April 2010] [11:00:52] &lt;sustrik&gt; thus the conversations tend to disappear from public view</div>
<div class="line">[Sunday 11 April 2010] [11:06:10] &lt;sustrik&gt; ah, you meant the strange character?</div>
<div class="line">[Sunday 11 April 2010] [11:06:11] &lt;sustrik&gt; &#8220;&amp;#216;</div>
<div class="line">[Sunday 11 April 2010] [11:06:22] &lt;sustrik&gt; I&#8217;ve just changes that to ordinary 0</div>
<div class="line">[Sunday 11 April 2010] [11:06:27] &lt;sustrik&gt; changed*</div>
<div class="line">[Sunday 11 April 2010] [11:08:20] &lt;mikko&gt;   yeah, i mean the strange character</div>
<div class="line">[Sunday 11 April 2010] [11:08:22] &lt;mikko&gt;   meant*</div>
<div class="line">[Sunday 11 April 2010] [11:08:39] &lt;sustrik&gt; fixed!</div>
<div class="line">[Sunday 11 April 2010] [11:17:15] &lt;mikko&gt;   my first mail to list sent</div>
<div class="line">[Sunday 11 April 2010] [11:18:11] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 11 April 2010] [11:18:15] &lt;sustrik&gt; let me reply</div>
<div class="line">[Sunday 11 April 2010] [12:01:17] &lt;mikko&gt;   im gonna hit the gym</div>
<div class="line">[Sunday 11 April 2010] [12:01:18] &lt;mikko&gt;   bbl</div>
<div class="line">[Sunday 11 April 2010] [14:47:01] &lt;mikko&gt;   back</div>
<div class="line">[Monday 12 April 2010] [03:25:14] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r3236cb1 10/ (7 files): ETERM is accounted for in the documentation - <a class="reference external" href="http://bit.ly/9KxYaI">http://bit.ly/9KxYaI</a></div>
<div class="line">[Monday 12 April 2010] [03:57:45] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r7668e79 10/ (doc/zmq_socket.txt src/zmq.cpp): zmq_poll returns ETERM in case of context termination - <a class="reference external" href="http://bit.ly/br7liv">http://bit.ly/br7liv</a></div>
<div class="line">[Monday 12 April 2010] [04:05:39] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r3496476 10/ (4 files in 4 dirs): MSVC perf build fixed - <a class="reference external" href="http://bit.ly/aF5lWU">http://bit.ly/aF5lWU</a></div>
<div class="line">[Monday 12 April 2010] [04:43:08] &lt;mikko&gt;   good morning</div>
<div class="line">[Monday 12 April 2010] [05:11:05] &lt;sustrik&gt; morning</div>
<div class="line">[Monday 12 April 2010] [07:15:58] &lt;olivier_c&gt;   hello everybody</div>
<div class="line">[Monday 12 April 2010] [07:37:47] &lt;sustrik&gt; olivier_c: hi</div>
<div class="line">[Monday 12 April 2010] [07:42:25] &lt;olivier_c&gt;   sustrik, could you bring me some clarifications on assertion in pgm_socket.cpp line 130, please ? I&#8217;ve got an assertion fail (assert false) there, and i don&#8217;t have any clue on what could have fail :/.</div>
<div class="line">[Monday 12 April 2010] [07:45:22] &lt;sustrik&gt; wait a sec</div>
<div class="line">[Monday 12 April 2010] [07:47:08] &lt;sustrik&gt; it&#8217;s an unexpected result code from OpenPGM library</div>
<div class="line">[Monday 12 April 2010] [07:47:21] &lt;sustrik&gt; can you check what exact error are you getting?</div>
<div class="line">[Monday 12 April 2010] [07:47:35] &lt;sustrik&gt; (both domain and code)</div>
<div class="line">[Monday 12 April 2010] [07:49:41] &lt;<a href="#id252"><span class="problematic" id="id253">olivier_c_</span></a>&gt;  ok I&#8217;m going to have a look on it</div>
<div class="line">[Monday 12 April 2010] [07:49:55] &lt;sustrik&gt; thanks</div>
<div class="line">[Monday 12 April 2010] [08:24:52] &lt;olivier_c&gt;   so. i just get &#8220;Assertion failed: false (pgm_socket.cpp line 130). Aborted.  i&#8217;m just trying to connect a SUB socket to &#8220;epgm://eth0;224.0.0.1:5555&#8221;. does it mean that pgm isn&#8217;t supported ?</div>
<div class="line">[Monday 12 April 2010] [08:41:31] &lt;sustrik&gt; olivier_c: no, it means that OpenPGM returned unexpected error</div>
<div class="line">[Monday 12 April 2010] [08:41:39] &lt;sustrik&gt; can you run the app under gdb</div>
<div class="line">[Monday 12 April 2010] [08:41:46] &lt;sustrik&gt; and check what the actual error is:</div>
<div class="line">[Monday 12 April 2010] [08:42:03] &lt;sustrik&gt; pgm_error-&gt;domain</div>
<div class="line">[Monday 12 April 2010] [08:42:13] &lt;sustrik&gt; and</div>
<div class="line">[Monday 12 April 2010] [08:42:14] &lt;sustrik&gt; pgm_error-&gt;code</div>
<div class="line">[Monday 12 April 2010] [08:43:59] &lt;olivier_c&gt;   ah ok, sorry for misunderstanding.</div>
<div class="line">[Monday 12 April 2010] [08:49:09] &lt;sustrik&gt; np</div>
<div class="line">[Monday 12 April 2010] [08:56:14] &lt;mato&gt;    sustrik: _WIN32 is always defined on Win32, yes?</div>
<div class="line">[Monday 12 April 2010] [08:56:36] &lt;mato&gt;    sustrik: at the top of zmq.h we have:</div>
<div class="line">[Monday 12 April 2010] [08:56:41] &lt;mato&gt;    (...)</div>
<div class="line">[Monday 12 April 2010] [08:56:46] &lt;mato&gt;    #include &lt;errno.h&gt;</div>
<div class="line">[Monday 12 April 2010] [08:56:46] &lt;mato&gt;    #include &lt;stddef.h&gt;</div>
<div class="line">[Monday 12 April 2010] [08:56:46] &lt;mato&gt;    #if defined _WIN32</div>
<div class="line">[Monday 12 April 2010] [08:56:47] &lt;mato&gt;    #include &#8220;winsock2.h&#8221;</div>
<div class="line">[Monday 12 April 2010] [08:56:47] &lt;mato&gt;    #endif</div>
<div class="line">[Monday 12 April 2010] [08:56:48] &lt;mato&gt;    #if defined ZMQ_BUILDING_LIBZMQ_WITH_MSVC</div>
<div class="line">[Monday 12 April 2010] [08:56:51] &lt;mato&gt;    #define ZMQ_EXPORT __declspec(dllexport)</div>
<div class="line">[Monday 12 April 2010] [08:56:53] &lt;mato&gt;    #elif defined _MSC_VER</div>
<div class="line">[Monday 12 April 2010] [08:56:56] &lt;mato&gt;    #define ZMQ_EXPORT __declspec(dllimport)</div>
<div class="line">[Monday 12 April 2010] [08:56:58] &lt;mato&gt;    #else</div>
<div class="line">[Monday 12 April 2010] [08:57:01] &lt;mato&gt;    #define ZMQ_EXPORT</div>
<div class="line">[Monday 12 April 2010] [08:57:03] &lt;mato&gt;    #endif</div>
<div class="line">[Monday 12 April 2010] [08:57:06] &lt;mato&gt;    (...)</div>
<div class="line">[Monday 12 April 2010] [08:58:47] &lt;sustrik&gt; at least with MSVC</div>
<div class="line">[Monday 12 April 2010] [08:58:54] &lt;sustrik&gt; not sure how gcc handles this</div>
<div class="line">[Monday 12 April 2010] [08:59:35] &lt;mato&gt;    ok and that BUILDING_LIBZMQ_WITH_MSVC is something you define in your project file, right?</div>
<div class="line">[Monday 12 April 2010] [08:59:42] &lt;sustrik&gt; right</div>
<div class="line">[Monday 12 April 2010] [08:59:50] &lt;mato&gt;    for libzmq only, and not for e.g. the perf tests or devices</div>
<div class="line">[Monday 12 April 2010] [08:59:51] &lt;mato&gt;    right?</div>
<div class="line">[Monday 12 April 2010] [08:59:57] &lt;sustrik&gt; right</div>
<div class="line">[Monday 12 April 2010] [09:00:09] &lt;sustrik&gt; and it&#8217;s not relevant to anyting except msvc</div>
<div class="line">[Monday 12 April 2010] [09:00:17] &lt;mato&gt;    no, it&#8217;s relevant to win32 in general</div>
<div class="line">[Monday 12 April 2010] [09:00:23] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 12 April 2010] [09:00:29] &lt;mato&gt;    MinGW also supports the __declspec(dll...) stuff</div>
<div class="line">[Monday 12 April 2010] [09:00:36] &lt;sustrik&gt; whoa</div>
<div class="line">[Monday 12 April 2010] [09:00:38] &lt;mato&gt;    at least it seems that way</div>
<div class="line">[Monday 12 April 2010] [09:00:43]    * sustrik haven&#8217;t know that</div>
<div class="line">[Monday 12 April 2010] [09:00:57] &lt;mato&gt;    well it certainly doesn&#8217;t complain</div>
<div class="line">[Monday 12 April 2010] [09:01:03] &lt;sustrik&gt; ok then</div>
<div class="line">[Monday 12 April 2010] [09:01:07] &lt;mato&gt;    so I&#8217;m thinking that the above if&#8217;s should be changed</div>
<div class="line">[Monday 12 April 2010] [09:01:18] &lt;sustrik&gt; maybe a more sound name should be used then?</div>
<div class="line">[Monday 12 April 2010] [09:01:31] &lt;mato&gt;    1. ZMQ_BUILDING... becomes something like LIBZMQ_DLL ?</div>
<div class="line">[Monday 12 April 2010] [09:01:49] &lt;mato&gt;    2. that can probably become #elif defined _WIN32, but I&#8217;m going to check</div>
<div class="line">[Monday 12 April 2010] [09:02:14] &lt;sustrik&gt; ZMQ_BUILD_IN_PROGRESS</div>
<div class="line">[Monday 12 April 2010] [09:02:25] &lt;mato&gt;    no, it&#8217;s only to do with a win32 dll</div>
<div class="line">[Monday 12 April 2010] [09:02:25] &lt;sustrik&gt; that  can be defined for all platforms</div>
<div class="line">[Monday 12 April 2010] [09:02:32] &lt;mato&gt;    ah</div>
<div class="line">[Monday 12 April 2010] [09:02:42] &lt;sustrik&gt; but then we&#8217;ll need _WIN32</div>
<div class="line">[Monday 12 April 2010] [09:02:47] &lt;mato&gt;    that&#8217;s no problem</div>
<div class="line">[Monday 12 April 2010] [09:05:21] &lt;mato&gt;    i&#8217;ll do something experimental on a branch, no hurry for this to go into git proper right now</div>
<div class="line">[Monday 12 April 2010] [09:06:21] &lt;sustrik&gt; ok</div>
<div class="line">[Monday 12 April 2010] [09:19:43] &lt;lvh&gt; Hello</div>
<div class="line">[Monday 12 April 2010] [09:19:52] &lt;lvh&gt; Anyone know where the zmq_server binary is in debian?</div>
<div class="line">[Monday 12 April 2010] [09:21:06] &lt;mato&gt;    lvh: there is no zmq_server binary :-)</div>
<div class="line">[Monday 12 April 2010] [09:21:34] &lt;mato&gt;    lvh: in any case the device binaries are in zeromq-bin</div>
<div class="line">[Monday 12 April 2010] [09:22:27] &lt;lvh&gt; So why does www.zeromq.org/code:examples-chat#toc15 tell me to run it? :-(</div>
<div class="line">[Monday 12 April 2010] [09:23:16] &lt;mato&gt;    that&#8217;s old 1.x material</div>
<div class="line">[Monday 12 April 2010] [09:23:35] &lt;mato&gt;    sorry, it really needs to be removed :(</div>
<div class="line">[Monday 12 April 2010] [09:23:42] &lt;mato&gt;    and/or updated</div>
<div class="line">[Monday 12 April 2010] [09:24:20] &lt;lvh&gt; Aha, I see.</div>
<div class="line">[Monday 12 April 2010] [09:24:26] &lt;lvh&gt; I&#8217;m trying to use pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:24:32] &lt;lvh&gt; I&#8217;m not sure if that&#8217;s 1.x material</div>
<div class="line">[Monday 12 April 2010] [09:24:34] &lt;mato&gt;    see the Cookbook for up to date examples</div>
<div class="line">[Monday 12 April 2010] [09:24:43] &lt;mato&gt;    no, pyzmq is definitely 2.x</div>
<div class="line">[Monday 12 April 2010] [09:24:48] &lt;lvh&gt; okay :-)</div>
<div class="line">[Monday 12 April 2010] [09:24:50] &lt;mato&gt;    how did you get to the old chat example?</div>
<div class="line">[Monday 12 April 2010] [09:24:58] &lt;mato&gt;    anyway, you want to look here: <a class="reference external" href="http://www.zeromq.org/docs:cookbook">http://www.zeromq.org/docs:cookbook</a></div>
<div class="line">[Monday 12 April 2010] [09:25:13] &lt;mato&gt;    and also on the pyzmq page itself</div>
<div class="line">[Monday 12 April 2010] [09:25:16] &lt;mato&gt;    <a class="reference external" href="http://www.zeromq.org/bindings:python">http://www.zeromq.org/bindings:python</a></div>
<div class="line">[Monday 12 April 2010] [09:25:17] &lt;lvh&gt; errrrrr</div>
<div class="line">[Monday 12 April 2010] [09:26:11] &lt;lvh&gt; I&#8217;m not sure.</div>
<div class="line">[Monday 12 April 2010] [09:27:50] &lt;lvh&gt; I&#8217;m trying to get the python chat example to work with no dice</div>
<div class="line">[Monday 12 April 2010] [09:28:05] &lt;lvh&gt; An address like <a class="reference external" href="tcp://localhost:5555">tcp://localhost:5555</a> is fine, right?</div>
<div class="line">[Monday 12 April 2010] [09:29:14] &lt;lvh&gt; Oh, I figured out how I got to that page.</div>
<div class="line">[Monday 12 April 2010] [09:29:17] &lt;lvh&gt; Google indexes it.</div>
<div class="line">[Monday 12 April 2010] [09:29:49] &lt;mato&gt;    localhost:5555 will work for connecting to localhost</div>
<div class="line">[Monday 12 April 2010] [09:30:06] &lt;mato&gt;    use (interface):5555 when binding, or just use IP addresses</div>
<div class="line">[Monday 12 April 2010] [09:30:14] &lt;mato&gt;    zee the zmq_connect() and zmq_bind() reference</div>
<div class="line">[Monday 12 April 2010] [09:30:18] &lt;lvh&gt; right</div>
<div class="line">[Monday 12 April 2010] [09:30:34] &lt;lvh&gt; the display.py script just blocks and doesnt react to signals other than SIGKILL</div>
<div class="line">[Monday 12 April 2010] [09:30:50] &lt;mato&gt;    read the FAQ :-)</div>
<div class="line">[Monday 12 April 2010] [09:31:21] &lt;lvh&gt; Just localhost:5555 gets me zmq._zmq.ZMQError: Invalid argument</div>
<div class="line">[Monday 12 April 2010] [09:31:21] &lt;lvh&gt;</div>
<div class="line">[Monday 12 April 2010] [09:31:41] &lt;mato&gt;    I meant <a class="reference external" href="tcp://">tcp://</a>... of course.</div>
<div class="line">[Monday 12 April 2010] [09:31:52] &lt;lvh&gt; Aha :-)</div>
<div class="line">[Monday 12 April 2010] [09:33:22] &lt;lvh&gt; paste.pocoo.org/show/200839/</div>
<div class="line">[Monday 12 April 2010] [09:34:18] &lt;mato&gt;    I&#8217;m sorry, I can&#8217;t help you right now. Not sure who wrote the python examples, maybe sustrik.</div>
<div class="line">[Monday 12 April 2010] [09:34:39] &lt;lvh&gt; ellisonbg</div>
<div class="line">[Monday 12 April 2010] [09:35:14] &lt;mato&gt;    Suggest you ask on the mailing list or wait for Brian to show up here (nick: bgranger).</div>
<div class="line">[Monday 12 April 2010] [09:35:33] &lt;lvh&gt; <a class="reference external" href="http://www.zeromq.org/code:pyzmq">http://www.zeromq.org/code:pyzmq</a></div>
<div class="line">[Monday 12 April 2010] [09:35:40] &lt;lvh&gt; this appears to be something completely different too</div>
<div class="line">[Monday 12 April 2010] [09:35:45] &lt;lvh&gt; it has a ZMQ object in the zmq modul</div>
<div class="line">[Monday 12 April 2010] [09:35:49] &lt;lvh&gt; mine doesn&#8217;t have that</div>
<div class="line">[Monday 12 April 2010] [09:36:12] &lt;lvh&gt; and the module&#8217;s called &#8220;pyzmq&#8221; instead of just &#8220;zmq&#8221;</div>
<div class="line">[Monday 12 April 2010] [09:36:13] &lt;mato&gt;    that&#8217;ll be 1.x also</div>
<div class="line">[Monday 12 April 2010] [09:36:23] &lt;lvh&gt; (but the thing on github <em>is</em> called pyzmq, yay)</div>
<div class="line">[Monday 12 April 2010] [09:36:27] &lt;mato&gt;    sustrik: We need to kill the 1.x stuff from the site.</div>
<div class="line">[Monday 12 April 2010] [09:37:20] &lt;lvh&gt; sustrik: (even the stuff that doesn&#8217;t have internal links: google got me there)</div>
<div class="line">[Monday 12 April 2010] [09:39:47] &lt;sustrik&gt; lvh: the paste is a pyzmq problem</div>
<div class="line">[Monday 12 April 2010] [09:39:58] &lt;sustrik&gt; it&#8217;s brian&#8217;s pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:40:03] &lt;sustrik&gt; not the old 1.0 pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:40:21] &lt;sustrik&gt; mato: yes, i think it&#8217;s time to ditch 1.0 stuff</div>
<div class="line">[Monday 12 April 2010] [09:40:41] &lt;sustrik&gt; i&#8217;ve kept it there so that people still using 1.0 have reference</div>
<div class="line">[Monday 12 April 2010] [09:40:52] &lt;sustrik&gt; but they had enough time to migrate by now</div>
<div class="line">[Monday 12 April 2010] [09:41:23] &lt;lvh&gt; sustrik: so these are the bindings I should be using, but I&#8217;ve found a bug?</div>
<div class="line">[Monday 12 April 2010] [09:41:40] &lt;sustrik&gt; yes, it looks like that</div>
<div class="line">[Monday 12 April 2010] [09:41:59] &lt;sustrik&gt; i would try filling an error report with pyzmq project</div>
<div class="line">[Monday 12 April 2010] [09:42:27] &lt;lvh&gt; will do :-)</div>
<div class="line">[Monday 12 April 2010] [09:42:42] &lt;sustrik&gt; lvh: wait a sec</div>
<div class="line">[Monday 12 April 2010] [09:42:52] &lt;sustrik&gt; where does the chat example come from</div>
<div class="line">[Monday 12 April 2010] [09:42:53] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 12 April 2010] [09:43:46] &lt;sustrik&gt; aha, looks like brian&#8217;s project</div>
<div class="line">[Monday 12 April 2010] [09:44:00] &lt;sustrik&gt; so yes, please report it with pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:45:08] &lt;sustrik&gt; lvh: i am not a python programmer, but what about this:</div>
<div class="line">[Monday 12 April 2010] [09:45:09] &lt;sustrik&gt; msg = raw_input(&#8220;%s&gt; &#8221; % who)</div>
<div class="line">[Monday 12 April 2010] [09:45:09] &lt;sustrik&gt; EOFError</div>
<div class="line">[Monday 12 April 2010] [09:45:13] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 12 April 2010] [09:45:23] &lt;lvh&gt; oh that just means it was waiting for imput and I mashed C-d</div>
<div class="line">[Monday 12 April 2010] [09:45:32] &lt;lvh&gt; input, even</div>
<div class="line">[Monday 12 April 2010] [09:45:51] &lt;lvh&gt; not a bug, expected behavior :-)</div>
<div class="line">[Monday 12 April 2010] [09:45:56] &lt;sustrik&gt; :)</div>
<div class="line">[Monday 12 April 2010] [09:47:12] &lt;lvh&gt; the test suite doesn&#8217;t work because there&#8217;s no pgm support, apparently</div>
<div class="line">[Monday 12 April 2010] [09:47:28] &lt;lvh&gt; somewhat weird that multicast doesn&#8217;t work &#8211; does that need userspace libs, or something?</div>
<div class="line">[Monday 12 April 2010] [09:47:55] &lt;lvh&gt; apt-cache search multicast lib dev doesn&#8217;t yield any likely candidates</div>
<div class="line">[Monday 12 April 2010] [09:48:23] &lt;sustrik&gt; lvh: does it work with tcp?</div>
<div class="line">[Monday 12 April 2010] [09:48:58] &lt;lvh&gt; sustrik: Nope, that pasted example was tcp</div>
<div class="line">[Monday 12 April 2010] [09:49:01] &lt;lvh&gt; I&#8217;m trying to run the test suite</div>
<div class="line">[Monday 12 April 2010] [09:49:15] &lt;lvh&gt; which fails (more quitely than I&#8217;d have liked it to), because pgm doesn&#8217;t work</div>
<div class="line">[Monday 12 April 2010] [09:49:52] &lt;sustrik&gt; lvh: this one: paste.pocoo.org/show/200839/ ?</div>
<div class="line">[Monday 12 April 2010] [09:50:05] &lt;sustrik&gt; the error is caused by Ctrl+C, no?</div>
<div class="line">[Monday 12 April 2010] [09:50:17] &lt;lvh&gt; right, but i was expecting display.py to display that message i did send</div>
<div class="line">[Monday 12 April 2010] [09:50:28] &lt;sustrik&gt; have you run zmq_forwarder?</div>
<div class="line">[Monday 12 April 2010] [09:50:39] &lt;lvh&gt; I didn&#8217;t know I was supposed to, so no</div>
<div class="line">[Monday 12 April 2010] [09:50:44] &lt;sustrik&gt; read README</div>
<div class="line">[Monday 12 April 2010] [09:50:53] &lt;sustrik&gt; aha</div>
<div class="line">[Monday 12 April 2010] [09:51:02] &lt;sustrik&gt; no README in the directory</div>
<div class="line">[Monday 12 April 2010] [09:51:04] &lt;lvh&gt; which one</div>
<div class="line">[Monday 12 April 2010] [09:51:05] &lt;lvh&gt; :D</div>
<div class="line">[Monday 12 April 2010] [09:51:11] &lt;sustrik&gt; you should complain to Brian</div>
<div class="line">[Monday 12 April 2010] [09:51:22] &lt;sustrik&gt; anyway, the C chat example is exactly the same</div>
<div class="line">[Monday 12 April 2010] [09:51:29] &lt;sustrik&gt; and there&#8217;s README</div>
<div class="line">[Monday 12 April 2010] [09:51:33] &lt;sustrik&gt; wait a sec</div>
<div class="line">[Monday 12 April 2010] [09:51:36] &lt;lvh&gt; i should open a ticket, branch, fix it, deploy patch</div>
<div class="line">[Monday 12 April 2010] [09:51:39] &lt;lvh&gt; there&#8217;s README.rst</div>
<div class="line">[Monday 12 April 2010] [09:51:42] &lt;lvh&gt; that describes building</div>
<div class="line">[Monday 12 April 2010] [09:51:55] &lt;sustrik&gt; <a class="reference external" href="http://github.com/sustrik/zeromq-chat/blob/master/README">http://github.com/sustrik/zeromq-chat/blob/master/README</a></div>
<div class="line">[Monday 12 April 2010] [09:53:17] &lt;lvh&gt; so if you wanted people to be able log in and have everything published to them automatically, you&#8217;d use PUBSUB mode?</div>
<div class="line">[Monday 12 April 2010] [09:53:22] &lt;lvh&gt; eg &#8220;like IRC&#8221;</div>
<div class="line">[Monday 12 April 2010] [09:54:10] &lt;lvh&gt; I&#8217;m building zmq2 manually now, I think pyzmq was building against my system installed libzeromq-dev files and that might be why it was breaking</div>
<div class="line">[Monday 12 April 2010] [10:00:54] &lt;sustrik&gt; lvh: yes, PUB/SUB</div>
<div class="line">[Monday 12 April 2010] [10:01:11] &lt;sustrik&gt; what system-insalled libzeromq-dev?</div>
<div class="line">[Monday 12 April 2010] [10:01:20] &lt;lvh&gt; library_dirs = /home/lvh/dev/zeromq2/lib</div>
<div class="line">[Monday 12 April 2010] [10:01:20] &lt;lvh&gt; include_dirs = /home/lvh/dev/zeromq2/include</div>
<div class="line">[Monday 12 April 2010] [10:01:20] &lt;lvh&gt;</div>
<div class="line">[Monday 12 April 2010] [10:01:43] &lt;lvh&gt; Any idea what the library_dirs is supposed to be on git checkouts of zeromq2?</div>
<div class="line">[Monday 12 April 2010] [10:01:55] &lt;lvh&gt; libzmq-dev - Development files and static library for the ZeroMQ library</div>
<div class="line">[Monday 12 April 2010] [10:02:10] &lt;lvh&gt; 2.0.6beta.dfsg-2 (/var/lib/apt/lists/ftp.kulnet.kuleuven.ac.be_debian_dists_unstable_main_binary-amd64_Packages)</div>
<div class="line">[Monday 12 April 2010] [10:02:26] &lt;sustrik&gt; you&#8217;ve had that installed by default?</div>
<div class="line">[Monday 12 April 2010] [10:02:43] &lt;sustrik&gt; strange</div>
<div class="line">[Monday 12 April 2010] [10:03:06] &lt;lvh&gt; nope, I installed it myself when I started playing with zmq</div>
<div class="line">[Monday 12 April 2010] [10:03:27] &lt;sustrik&gt; ok</div>
<div class="line">[Monday 12 April 2010] [10:03:35] &lt;lvh&gt; it makes pyzmq compile, but not necessarily work (apparently)</div>
<div class="line">[Monday 12 April 2010] [10:03:54] &lt;sustrik&gt; the best thing you can do is to remove all of it</div>
<div class="line">[Monday 12 April 2010] [10:04:20] &lt;lvh&gt; just did. what am I supposed to use as lib dir? /usr/bin/ld: cannot find -lzmq</div>
<div class="line">[Monday 12 April 2010] [10:04:20] &lt;sustrik&gt; and build both 0mq and pyzmq from git</div>
<div class="line">[Monday 12 April 2010] [10:04:31] &lt;lvh&gt; sustrik: build, or build and install?</div>
<div class="line">[Monday 12 April 2010] [10:04:38] &lt;lvh&gt; I haven&#8217;t installed 0mq, just built it</div>
<div class="line">[Monday 12 April 2010] [10:04:49] &lt;sustrik&gt; autotools by default use /usr/local as install directory</div>
<div class="line">[Monday 12 April 2010] [10:04:50] &lt;lvh&gt; ./autogen.sh &amp;&amp; ./configure &amp;&amp; make</div>
<div class="line">[Monday 12 April 2010] [10:05:18] &lt;sustrik&gt; where do you want to install it?</div>
<div class="line">[Monday 12 April 2010] [10:05:29] &lt;lvh&gt; /usr/local&#8217;s fine, home dir&#8217;s better</div>
<div class="line">[Monday 12 April 2010] [10:05:47] &lt;lvh&gt; ~/lib/</div>
<div class="line">[Monday 12 April 2010] [10:05:52] &lt;lvh&gt; That&#8217;s where all my python stuff lives, at least</div>
<div class="line">[Monday 12 April 2010] [10:06:32] &lt;sustrik&gt; pretty unorthodox</div>
<div class="line">[Monday 12 April 2010] [10:06:48] &lt;sustrik&gt; rather do it this way:</div>
<div class="line">[Monday 12 April 2010] [10:06:51] &lt;sustrik&gt; ./autogen.sh</div>
<div class="line">[Monday 12 April 2010] [10:07:26] &lt;sustrik&gt; ./configure &#8211;prefix=/usr</div>
<div class="line">[Monday 12 April 2010] [10:07:29] &lt;sustrik&gt; make</div>
<div class="line">[Monday 12 April 2010] [10:07:33] &lt;sustrik&gt; sudo make install</div>
<div class="line">[Monday 12 April 2010] [10:07:50] &lt;lvh&gt; right, got that</div>
<div class="line">[Monday 12 April 2010] [10:08:00] &lt;lvh&gt; where does it install the headers?</div>
<div class="line">[Monday 12 April 2010] [10:08:15] &lt;sustrik&gt; /usr/include</div>
<div class="line">[Monday 12 April 2010] [10:08:16] &lt;lvh&gt; ah, /usr/local/include</div>
<div class="line">[Monday 12 April 2010] [10:08:45] &lt;mato&gt;    sustrik: installing to /usr is not a good idea unless you know the implications</div>
<div class="line">[Monday 12 April 2010] [10:09:04] &lt;mato&gt;    sustrik: that&#8217;s what /usr/local is for, and most distributions have support for e.g. python/ruby/perl stuff in /usr/local also</div>
<div class="line">[Monday 12 April 2010] [10:09:04] &lt;sustrik&gt; ok, i am not an expert</div>
<div class="line">[Monday 12 April 2010] [10:09:20] &lt;sustrik&gt; ok, then use just ./configure</div>
<div class="line">[Monday 12 April 2010] [10:09:25] &lt;lvh&gt; mato: debian by default doesn&#8217;t, apparently ;-)</div>
<div class="line">[Monday 12 April 2010] [10:09:27] &lt;lvh&gt; ImportError: libzmq.so.0: cannot open shared object file: No such file or directory</div>
<div class="line">[Monday 12 April 2010] [10:10:48] &lt;lvh&gt; similarly letting setuptools loose on something your distro occasionally uses is a terrible idea</div>
<div class="line">[Monday 12 April 2010] [10:10:55] &lt;lvh&gt; but setuptools in general is a terrible idea</div>
<div class="line">[Monday 12 April 2010] [10:11:01] &lt;lvh&gt; it&#8217;s marginally worse than auto*hell</div>
<div class="line">[Monday 12 April 2010] [10:11:28] &lt;mato&gt;    lvh: so you have libzmq.so in /usr/local/lib and python can&#8217;t find it?</div>
<div class="line">[Monday 12 April 2010] [10:11:36] &lt;mato&gt;    lvh: did you run ldconfig as root after doing make install?</div>
<div class="line">[Monday 12 April 2010] [10:11:53] &lt;mikko&gt;   is /usr/local/lib in ld.so.conf?</div>
<div class="line">[Monday 12 April 2010] [10:12:00] &lt;lvh&gt; woo, that works</div>
<div class="line">[Monday 12 April 2010] [10:12:04] &lt;lvh&gt; nope, forgot ldconfig</div>
<div class="line">[Monday 12 April 2010] [10:12:18] &lt;lvh&gt; Ran 13 tests in 9.303s, yay</div>
<div class="line">[Monday 12 April 2010] [10:12:23] &lt;mato&gt;    there you go :-)</div>
<div class="line">[Monday 12 April 2010] [10:12:45] &lt;mato&gt;    mikko: on debian at least, yes</div>
<div class="line">[Monday 12 April 2010] [10:14:26] &lt;mikko&gt;   i think RHEL leaves it out by default</div>
<div class="line">[Monday 12 April 2010] [10:14:39] &lt;mikko&gt;   seems to be in /etc/ld.so.conf.d/libc.conf for deb</div>
<div class="line">[Monday 12 April 2010] [10:14:39] &lt;lvh&gt; is there a magic zmq_thing I have to run before the pubsub example&#8217;ll work?</div>
<div class="line">[Monday 12 April 2010] [10:14:53] &lt;sustrik&gt; zmq_forwarder</div>
<div class="line">[Monday 12 April 2010] [10:15:04] &lt;lvh&gt; I&#8217;m seeing zmq._zmq.ZMQError: No such device, afaik devices are things like zmq_*</div>
<div class="line">[Monday 12 April 2010] [10:16:47] &lt;sustrik&gt; <a class="reference external" href="http://github.com/sustrik/zeromq-chat/blob/master/README">http://github.com/sustrik/zeromq-chat/blob/master/README</a></div>
<div class="line">[Monday 12 April 2010] [10:17:01] &lt;lvh&gt; is the man page for that supposed to be empty?</div>
<div class="line">[Monday 12 April 2010] [10:19:15] &lt;olivier_c&gt;   fiou, sorry for the delay, so the error is AGAIN (pgm_error-&gt;code = 1 and pgm_error-&gt;domain = 8) and AGAIN isn&#8217;t in the &#8220;if&#8221; line 115 of pgm_socket.cpp</div>
<div class="line">[Monday 12 April 2010] [10:19:39] &lt;olivier_c&gt;   that&#8217;s why i get  this assert</div>
<div class="line">[Monday 12 April 2010] [10:19:56] &lt;lvh&gt; oh, that reminds me. in a pubsub context, what happens if I publish to things that have no listeners (subscribers)? stuff gets silently dropped, right?</div>
<div class="line">[Monday 12 April 2010] [10:20:00] &lt;lvh&gt; if so that would be ideal for my use case</div>
<div class="line">[Monday 12 April 2010] [10:20:43] &lt;sustrik&gt; lvh: right</div>
<div class="line">[Monday 12 April 2010] [10:20:52] &lt;sustrik&gt; olivier_c: wait a sec, checking...</div>
<div class="line">[Monday 12 April 2010] [10:24:22] &lt;sustrik&gt; olivier_c: PGM_IF_ERROR_AGAIN?</div>
<div class="line">[Monday 12 April 2010] [10:24:29] &lt;olivier_c&gt;   yes</div>
<div class="line">[Monday 12 April 2010] [10:26:27] &lt;sustrik&gt; hm, pretty vague error</div>
<div class="line">[Monday 12 April 2010] [10:27:02] &lt;lvh&gt; ack, now it works</div>
<div class="line">[Monday 12 April 2010] [10:27:11] &lt;sustrik&gt; EAI_AGAIN</div>
<div class="line">[Monday 12 April 2010] [10:27:12] &lt;sustrik&gt;               The name server returned a temporary failure indication.  Try again later.</div>
<div class="line">[Monday 12 April 2010] [10:27:25] &lt;sustrik&gt; olivier_c: is your name server working?</div>
<div class="line">[Monday 12 April 2010] [10:29:24] &lt;olivier_c&gt;   hmmm good question . it need a check !</div>
<div class="line">[Monday 12 April 2010] [10:30:59] &lt;sustrik&gt; anyway, i would say bind shouldn&#8217;t even try to access name server, probably an openPGM bug...</div>
<div class="line">[Monday 12 April 2010] [10:31:35] &lt;lvh&gt; what&#8217;s the difference between zmq.POLL and zmq.NOBLOCK? Both appear to be flags set on the Context.</div>
<div class="line">[Monday 12 April 2010] [10:31:52] &lt;lvh&gt; (and both want to not block)</div>
<div class="line">[Monday 12 April 2010] [10:32:10] &lt;mikko&gt;   NOBLOCK is send/recv flag</div>
<div class="line">[Monday 12 April 2010] [10:32:29] &lt;lvh&gt; I don&#8217;t really care if 0MQ blocks internally, as long as I can write my python code as if it doesn&#8217;t (but how does it tell me it has data when not blocking? callbacks?)</div>
<div class="line">[Monday 12 April 2010] [10:33:47] &lt;lvh&gt; aha, okay, so s.recv(flags=zmq.NOBLOCK), and then call that in perpetuity until ther&#8217;s something there? that sounds like busy waiting</div>
<div class="line">[Monday 12 April 2010] [10:34:34] &lt;sustrik&gt; that&#8217;s what non-blocking access is meant to be, if you want to block, don&#8217;t specify the flag</div>
<div class="line">[Monday 12 April 2010] [10:34:50] &lt;lvh&gt; perhaps I should be asking brian this</div>
<div class="line">[Monday 12 April 2010] [10:35:03] &lt;lvh&gt; sustrik: I&#8217;m used to non-blocking api&#8217;s that take callbacks</div>
<div class="line">[Monday 12 April 2010] [10:36:10] &lt;lvh&gt; apparently brian knows twisted, he might know how to best integrate the two</div>
<div class="line">[Monday 12 April 2010] [10:36:23] &lt;lvh&gt; having select and poll-likes sounds promising :-)</div>
<div class="line">[Monday 12 April 2010] [10:46:44] &lt;mato&gt;    sustrik: I am going to commit my magic Win32 changes, since they don&#8217;t break anything</div>
<div class="line">[Monday 12 April 2010] [10:47:09] &lt;sustrik&gt; ack</div>
<div class="line">[Monday 12 April 2010] [10:47:09] &lt;mato&gt;    sustrik: but I need two things from you</div>
<div class="line">[Monday 12 April 2010] [10:47:43] &lt;mato&gt;    sustrik: 1) Change your &#8220;DLL being built&#8221; define for the MSVC builds to just define &#8220;DLL_EXPORT&#8221;, don&#8217;t ask why :-)</div>
<div class="line">[Monday 12 April 2010] [10:48:03] &lt;mato&gt;    sustrik: 2) then when you have time retest the MSVC builds to make sure they still work (they should, but we need to be sure)</div>
<div class="line">[Monday 12 April 2010] [10:48:26] &lt;sustrik&gt; ok, commit it and I change MSVC build</div>
<div class="line">[Monday 12 April 2010] [10:48:37] &lt;sustrik&gt; however, are you sure about DLL_EXPORT</div>
<div class="line">[Monday 12 April 2010] [10:48:42] &lt;sustrik&gt; no <a href="#id254"><span class="problematic" id="id255">ZMQ_</span></a> prefix?</div>
<div class="line">[Monday 12 April 2010] [10:48:44] &lt;mato&gt;    sustrik: yes, don&#8217;t ask</div>
<div class="line">[Monday 12 April 2010] [10:49:18] &lt;sustrik&gt; no possible collisions with other projects?</div>
<div class="line">[Monday 12 April 2010] [10:49:49] &lt;mato&gt;    it shouldn&#8217;t matter right now, if someone complains i&#8217;ll do something else</div>
<div class="line">[Monday 12 April 2010] [10:50:41] &lt;sustrik&gt; well, you should know better than myself, but it sounds suspicious</div>
<div class="line">[Monday 12 April 2010] [10:52:05] &lt;CIA-5&gt;   zeromq2: 03Martin Lucina 07master * r0024d29 10/ (4 files in 4 dirs): Build fixes for cross compiling and Win32 - <a class="reference external" href="http://bit.ly/9kNUJ1">http://bit.ly/9kNUJ1</a></div>
<div class="line">[Monday 12 April 2010] [10:52:21] &lt;sustrik&gt; ok, i&#8217;m switching to win</div>
<div class="line">[Monday 12 April 2010] [11:00:58] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r370cde0 10/ builds/msvc/libzmq/libzmq.vcproj : win build fixed - <a class="reference external" href="http://bit.ly/d0rMDb">http://bit.ly/d0rMDb</a></div>
<div class="line">[Monday 12 April 2010] [11:38:37] &lt;lvh&gt; brian granger follows zeromq-dev, right?</div>
<div class="line">[Monday 12 April 2010] [11:39:15] &lt;mato&gt;    yup</div>
<div class="line">[Monday 12 April 2010] [11:39:54] &lt;lvh&gt; what exactly is zmq.POLL supposed to do? use async IO internally?</div>
<div class="line">[Monday 12 April 2010] [11:40:15] &lt;lvh&gt; ideally, I&#8217;d like to have an api that fires a callback as soon as messages come in</div>
<div class="line">[Monday 12 April 2010] [11:40:22] &lt;lvh&gt; I think that can be implemented using zmq_select</div>
<div class="line">[Monday 12 April 2010] [11:40:33] &lt;lvh&gt; well, zmq.select</div>
<div class="line">[Monday 12 April 2010] [13:02:24] &lt;lvh&gt; Does select busy-wait until something is available?</div>
<div class="line">[Monday 12 April 2010] [13:48:32] &lt;sophacles&gt;   2</div>
<div class="line">[Monday 12 April 2010] [13:49:13] &lt;lvh&gt; sophacles: ?</div>
<div class="line">[Monday 12 April 2010] [14:18:34] &lt;sophacles&gt;   sorry typo</div>
<div class="line">[Monday 12 April 2010] [15:45:51] &lt;lvh&gt; Hello.</div>
<div class="line">[Monday 12 April 2010] [21:08:10] &lt;iFire&gt;   mato, sustrik if I decide to make a custom udp layer for game communication i.e. custom (reliability, ordered) where should I start?</div>
<div class="line">[Monday 12 April 2010] [21:27:51] &lt;iFire&gt;   i.e. making 0mq do that</div>
<div class="line">[Monday 12 April 2010] [23:06:38] &lt;enki&gt;    yo, i&#8217;m sure you guys are biased - but any opinions on beanstalkd?</div>
<div class="line">[Tuesday 13 April 2010] [01:06:47] &lt;sustrik&gt;    iFire: reliable ordered UDP or unreliable unordered UDP?</div>
<div class="line">[Tuesday 13 April 2010] [01:06:52] &lt;iFire&gt;  both</div>
<div class="line">[Tuesday 13 April 2010] [01:07:07] &lt;iFire&gt;  <a class="reference external" href="http://www.jenkinssoftware.com/raknet/manual/reliabilitytypes.html">http://www.jenkinssoftware.com/raknet/manual/reliabilitytypes.html</a></div>
<div class="line">[Tuesday 13 April 2010] [01:07:09] &lt;iFire&gt;  example</div>
<div class="line">[Tuesday 13 April 2010] [01:07:18] &lt;sustrik&gt;    why not use TCP for the former?</div>
<div class="line">[Tuesday 13 April 2010] [01:08:08] &lt;sustrik&gt;    as for the latter, clone the PGM part of the codebase</div>
<div class="line">[Tuesday 13 April 2010] [01:08:08] &lt;iFire&gt;  well sometimes if you miss you get a visual error</div>
<div class="line">[Tuesday 13 April 2010] [01:08:33] &lt;iFire&gt;  there&#8217;s unreliable, unreliable sequenced, reliable, reliable sequenced</div>
<div class="line">[Tuesday 13 April 2010] [01:08:37] &lt;iFire&gt;  in that raknet page</div>
<div class="line">[Tuesday 13 April 2010] [01:08:51] &lt;sustrik&gt;    tcp is reliable sequenced</div>
<div class="line">[Tuesday 13 April 2010] [01:09:26] &lt;sustrik&gt;    that&#8217;s what you want, no?</div>
<div class="line">[Tuesday 13 April 2010] [01:09:38] &lt;iFire&gt;  I want unreliable sequenced</div>
<div class="line">[Tuesday 13 April 2010] [01:09:50] &lt;iFire&gt;  and unrealiable</div>
<div class="line">[Tuesday 13 April 2010] [01:10:01] &lt;sustrik&gt;    ok, then clone the pgm part</div>
<div class="line">[Tuesday 13 April 2010] [01:10:03] &lt;sustrik&gt;    (4 files)</div>
<div class="line">[Tuesday 13 April 2010] [01:10:12] &lt;sustrik&gt;    ditch the entrails</div>
<div class="line">[Tuesday 13 April 2010] [01:10:19] &lt;sustrik&gt;    and replace them by UDP code</div>
<div class="line">[Tuesday 13 April 2010] [01:10:58] &lt;sustrik&gt;    to get sequenced you&#8217;ll have to number the packets and drop out-of-order packets</div>
<div class="line">[Tuesday 13 April 2010] [01:11:42] &lt;sustrik&gt;    enki: sorry, never used it</div>
<div class="line">[Tuesday 13 April 2010] [01:12:49] &lt;iFire&gt;  well it&#8217;s be symmetrical if I have all four combinations in udp</div>
<div class="line">[Tuesday 13 April 2010] [01:13:06] &lt;iFire&gt;  sustrik it&#8217;s in zeromq2/src?</div>
<div class="line">[Tuesday 13 April 2010] [01:13:20] &lt;sustrik&gt;    reliabilty is not easy to implement</div>
<div class="line">[Tuesday 13 April 2010] [01:13:26] &lt;sustrik&gt;    and it&#8217;s provided by tcp anyway</div>
<div class="line">[Tuesday 13 April 2010] [01:13:35] &lt;sustrik&gt;    iFire: yes</div>
<div class="line">[Tuesday 13 April 2010] [01:13:43] &lt;sustrik&gt;    pgm_sender/pgm_receiver</div>
<div class="line">[Tuesday 13 April 2010] [01:16:56] &lt;iFire&gt;  there&#8217;s not problem with mixing messages right?</div>
<div class="line">[Tuesday 13 April 2010] [01:17:00] &lt;iFire&gt;  no problem</div>
<div class="line">[Tuesday 13 April 2010] [01:17:05] &lt;sustrik&gt;    mixing?</div>
<div class="line">[Tuesday 13 April 2010] [01:17:10] &lt;iFire&gt;  udp/tcp</div>
<div class="line">[Tuesday 13 April 2010] [01:17:20] &lt;sustrik&gt;    no, it&#8217;s different protocol</div>
<div class="line">[Tuesday 13 April 2010] [01:17:41] &lt;sustrik&gt;    btw, for a wire format you have to implement have a look here</div>
<div class="line">[Tuesday 13 April 2010] [01:17:42] &lt;sustrik&gt;    <a class="reference external" href="http://api.zeromq.org/zmq_pgm.html">http://api.zeromq.org/zmq_pgm.html</a></div>
<div class="line">[Tuesday 13 April 2010] [01:18:01] &lt;sustrik&gt;    it&#8217;s already in the pgm part so you can leave that in</div>
<div class="line">[Tuesday 13 April 2010] [01:20:18] &lt;iFire&gt;  well I want the benefits of being packet based rather than stream based</div>
<div class="line">[Tuesday 13 April 2010] [01:20:48] &lt;iFire&gt;  but just implementing unreliable and unreliable sequenced I can see how much  work to do</div>
<div class="line">[Tuesday 13 April 2010] [01:22:51] &lt;sustrik&gt;    iFire: designing a sane raliable protocol is hard; unless you are a networking researcher you don&#8217;t even want to try</div>
<div class="line">[Tuesday 13 April 2010] [01:23:08] &lt;sustrik&gt;    you would have to implement tx/rx windowing</div>
<div class="line">[Tuesday 13 April 2010] [01:23:12] &lt;sustrik&gt;    congestion control</div>
<div class="line">[Tuesday 13 April 2010] [01:23:14] &lt;sustrik&gt;    etc.</div>
<div class="line">[Tuesday 13 April 2010] [01:23:28] &lt;sustrik&gt;    all that stuff have been done over the years by tcp folks</div>
<div class="line">[Tuesday 13 April 2010] [01:23:50] &lt;iFire&gt;  I see</div>
<div class="line">[Tuesday 13 April 2010] [01:24:02] &lt;sustrik&gt;    as for the unreliable thing, i would estimate it as 1-2 days of work</div>
<div class="line">[Tuesday 13 April 2010] [01:29:32] &lt;iFire&gt;  I think you can migate the problem of older packets blocking newer packets by having different channels of tcp</div>
<div class="line">[Tuesday 13 April 2010] [01:30:14] &lt;iFire&gt;  hmm</div>
<div class="line">[Tuesday 13 April 2010] [01:30:28] &lt;iFire&gt;  sustrik are you familiar with sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:35:49] &lt;sustrik&gt;    iFire: yes</div>
<div class="line">[Tuesday 13 April 2010] [01:36:10] &lt;iFire&gt;  the last message I received is iFire sustrik are you familiar with sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:36:21] &lt;iFire&gt;  last message I saw</div>
<div class="line">[Tuesday 13 April 2010] [01:37:21] &lt;sustrik&gt;    yes, i am familiar with SCTP</div>
<div class="line">[Tuesday 13 April 2010] [01:37:31] &lt;iFire&gt;  sustrik last message was iFire sustrik are you familiar with sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:37:55] &lt;iFire&gt;  well tcp is notorious for packet blocking</div>
<div class="line">[Tuesday 13 April 2010] [01:38:23] &lt;iFire&gt;  so unreliable udp and sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:38:37] &lt;sustrik&gt;    that&#8217;s the price for reliability</div>
<div class="line">[Tuesday 13 April 2010] [01:38:46] &lt;sustrik&gt;    same thing with sctp btw</div>
<div class="line">[Tuesday 13 April 2010] [01:38:52] &lt;iFire&gt;  well sctp is reliable and has this concept of channel</div>
<div class="line">[Tuesday 13 April 2010] [01:39:08] &lt;sustrik&gt;    what do you need exactly?</div>
<div class="line">[Tuesday 13 April 2010] [01:39:14] &lt;iFire&gt;  well it counts in terms of messages</div>
<div class="line">[Tuesday 13 April 2010] [01:39:34] &lt;iFire&gt;  I want something that works well in a 3d online game aspect</div>
<div class="line">[Tuesday 13 April 2010] [01:39:51] &lt;sustrik&gt;    i am not familiar with game development</div>
<div class="line">[Tuesday 13 April 2010] [01:39:57] &lt;sustrik&gt;    what are the requirements?</div>
<div class="line">[Tuesday 13 April 2010] [01:40:16] &lt;iFire&gt;  sctp has this</div>
<div class="line">[Tuesday 13 April 2010] [01:40:17] &lt;iFire&gt;  Multi-streaming is an important feature of SCTP, especially when you consider some of the control and data issues in protocol design. In TCP, control and data typically share the same connection, which can be problematic because control packets can be delayed behind data packets. If control and data were split into independent streams, control data could be dealt with in a more timely manner, resulting in better utilization of available resources.</div>
<div class="line">[Tuesday 13 April 2010] [01:40:40] &lt;sustrik&gt;    yes, it&#8217;s same as having several tcp connections</div>
<div class="line">[Tuesday 13 April 2010] [01:43:43] &lt;sustrik&gt;    also, you should be aware that sctp is not available on windows as a part of OS</div>
<div class="line">[Tuesday 13 April 2010] [01:44:07] &lt;iFire&gt;  I did not know that</div>
<div class="line">[Tuesday 13 April 2010] [01:44:21] &lt;iFire&gt;  what does using several tcp connections require?</div>
<div class="line">[Tuesday 13 April 2010] [01:44:33] &lt;iFire&gt;  different ports?</div>
<div class="line">[Tuesday 13 April 2010] [01:44:40] &lt;sustrik&gt;    yes</div>
<div class="line">[Tuesday 13 April 2010] [01:45:57] &lt;sustrik&gt;    also, there&#8217;s a possibility of opening several connections to the same source port</div>
<div class="line">[Tuesday 13 April 2010] [01:46:21] &lt;sustrik&gt;    then you would have to tag the messages so that you know which connection it went through</div>
<div class="line">[Tuesday 13 April 2010] [01:46:29] &lt;sustrik&gt;    - if you need to know it at all</div>
<div class="line">[Tuesday 13 April 2010] [01:49:09] &lt;iFire&gt;  found <a class="reference external" href="http://www.bluestop.org/SctpDrv/">http://www.bluestop.org/SctpDrv/</a></div>
<div class="line">[Tuesday 13 April 2010] [01:50:19] &lt;iFire&gt;  no 64bit windows signing</div>
<div class="line">[Tuesday 13 April 2010] [02:02:17] &lt;iFire&gt;  Good Morning sustrik</div>
<div class="line">[Tuesday 13 April 2010] [02:06:49] &lt;sustrik&gt;    morning</div>
<div class="line">[Tuesday 13 April 2010] [02:15:12] &lt;iFire&gt;  sustrik here&#8217;s a good list of requirements <a class="reference external" href="http://stackoverflow.com/questions/1200901/why-is-udp-a-software-reliable-ordering-system-faster-than-tcp/2445227#2445227">http://stackoverflow.com/questions/1200901/why-is-udp-a-software-reliable-ordering-system-faster-than-tcp/2445227#2445227</a></div>
<div class="line">[Tuesday 13 April 2010] [02:15:32] &lt;iFire&gt;  but I not sure if zeromq is the right solution</div>
<div class="line">[Tuesday 13 April 2010] [02:18:33] &lt;sustrik&gt;    which part of the discussion makes you believe you want to implement reliability on top of UDP&gt;</div>
<div class="line">[Tuesday 13 April 2010] [02:18:34] &lt;sustrik&gt;    ?</div>
<div class="line">[Tuesday 13 April 2010] [02:18:46] &lt;iFire&gt;  so I would have to add a unreliable sequenced/unsequenced to the 0mq message</div>
<div class="line">[Tuesday 13 April 2010] [02:18:55] &lt;iFire&gt;  sustrik I found a library which did that</div>
<div class="line">[Tuesday 13 April 2010] [02:19:14] &lt;iFire&gt;  routing</div>
<div class="line">[Tuesday 13 April 2010] [02:20:10] &lt;iFire&gt;  <a class="reference external" href="http://enet.bespin.org/">http://enet.bespin.org/</a> but how would a routing message in zeromq work</div>
<div class="line">[Tuesday 13 April 2010] [02:20:30]   * iFire looks up wire format</div>
<div class="line">[Tuesday 13 April 2010] [02:21:18] &lt;sustrik&gt;    udp packets are routed in ip layer</div>
<div class="line">[Tuesday 13 April 2010] [02:21:57] &lt;iFire&gt;  I mean if I  put enet beneath 0mq, I&#8217;ll need some way of signaling which 0mq messages have to be routed some way</div>
<div class="line">[Tuesday 13 April 2010] [02:22:58] &lt;iFire&gt;  i.e. reliability/sequenced</div>
<div class="line">[Tuesday 13 April 2010] [02:23:57] &lt;sustrik&gt;    if you have a library that does what you need why bother about 0mq at all?</div>
<div class="line">[Tuesday 13 April 2010] [02:24:04] &lt;iFire&gt;  I don&#8217;t</div>
<div class="line">[Tuesday 13 April 2010] [02:24:11] &lt;iFire&gt;  it&#8217;s just a udp library</div>
<div class="line">[Tuesday 13 April 2010] [02:24:15] &lt;iFire&gt;  doesn&#8217;t do messenging</div>
<div class="line">[Tuesday 13 April 2010] [02:24:47] &lt;iFire&gt;  let&#8217;s go back to that discussion about adding unreliable to zeromq</div>
<div class="line">[Tuesday 13 April 2010] [02:25:24] &lt;iFire&gt;  I&#8217;ll take a look a the code and talk about it later</div>
<div class="line">[Tuesday 13 April 2010] [02:25:43] &lt;sustrik&gt;    sure</div>
<div class="line">[Tuesday 13 April 2010] [02:28:19] &lt;enki&gt;   ha, you guys could try using uTP for this :p</div>
<div class="line">[Tuesday 13 April 2010] [02:48:49] &lt;iFire&gt;  sustrik where are the zmq_msg_t flag definitions?</div>
<div class="line">[Tuesday 13 April 2010] [02:49:38] &lt;sustrik&gt;    zmq.h</div>
<div class="line">[Tuesday 13 April 2010] [02:49:47] &lt;sustrik&gt;    ZMQ_MSG_MORE</div>
<div class="line">[Tuesday 13 April 2010] [02:49:54] &lt;sustrik&gt;    ZMQ_MSG_SHARED</div>
<div class="line">[Tuesday 13 April 2010] [03:29:17] &lt;mikko&gt;  sndmore/recvmore added</div>
<div class="line">[Tuesday 13 April 2010] [06:01:44] &lt;sustrik&gt;    mato: ESHUTDOWN is not POSIX, it&#8217;s Linux-specific, leaving ETERM as is</div>
<div class="line">[Tuesday 13 April 2010] [07:12:32] &lt;sjampoo&gt;    Martin, just read your message regarding the Polling interface on the mailinglist, seems like you read my mind.</div>
<div class="line">[Tuesday 13 April 2010] [07:13:05] &lt;sjampoo&gt;    Do you suggest to have functions that register a socket within the ZMQ api?</div>
<div class="line">[Tuesday 13 April 2010] [07:15:54] &lt;sjampoo&gt;    Also, wouldn&#8217;t a linkedlist be a much nicer datastructure to store the pollable items?</div>
<div class="line">[Tuesday 13 April 2010] [07:31:38] &lt;mikko&gt;  sjampoo: the php bindings currently have &#8220;add&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [07:31:46] &lt;mikko&gt;  i dont know how orthodox it is</div>
<div class="line">[Tuesday 13 April 2010] [07:32:19] &lt;mikko&gt;  <a class="reference external" href="http://github.com/mkoppanen/php-zmq/blob/master/examples/poll-server.php">http://github.com/mkoppanen/php-zmq/blob/master/examples/poll-server.php</a></div>
<div class="line">[Tuesday 13 April 2010] [07:32:29] &lt;mikko&gt;  might be subject to change in future</div>
<div class="line">[Tuesday 13 April 2010] [07:38:06] &lt;sjampoo&gt;    yes, well I really wished that ZMQ had native support for managing a pollset, thus a level on top of the raw zmq_poll so that each binding does not have to implement its own pollset</div>
<div class="line">[Tuesday 13 April 2010] [07:40:53] &lt;sjampoo&gt;    pyzmq has register / unregister</div>
<div class="line">[Tuesday 13 April 2010] [07:42:44] &lt;sjampoo&gt;    but on each call to poll() the pollitems array gets rebuild from scratch, which will be expensive with lots of sockets</div>
<div class="line">[Tuesday 13 April 2010] [07:45:50] &lt;mikko&gt;  at the moment i just realloc up</div>
<div class="line">[Tuesday 13 April 2010] [07:45:54] &lt;mikko&gt;  never down</div>
<div class="line">[Tuesday 13 April 2010] [07:46:27] &lt;sjampoo&gt;    what do you do when you remove a socket?</div>
<div class="line">[Tuesday 13 April 2010] [07:46:31] &lt;mikko&gt;  why do you build the array on each poll?</div>
<div class="line">[Tuesday 13 April 2010] [07:46:42] &lt;sjampoo&gt;    (i don&#8217;t, pyzmq does)</div>
<div class="line">[Tuesday 13 April 2010] [07:46:48] &lt;mikko&gt;  you only need full rebuild on remove</div>
<div class="line">[Tuesday 13 April 2010] [07:46:58] &lt;mikko&gt;  add should only cause append</div>
<div class="line">[Tuesday 13 April 2010] [07:47:06] &lt;mikko&gt;  currently there is no remove in php</div>
<div class="line">[Tuesday 13 April 2010] [07:48:34] &lt;mikko&gt;  i got a local branch for making some changes to pollset which contains remove as well</div>
<div class="line">[Tuesday 13 April 2010] [07:49:13] &lt;sustrik&gt;    re</div>
<div class="line">[Tuesday 13 April 2010] [07:49:18] &lt;sjampoo&gt;    I use the same approach currently as you are suggesting.</div>
<div class="line">[Tuesday 13 April 2010] [07:49:46] &lt;sjampoo&gt;    I just think it would be nicer if it was implemented in ZMQ directly, ie as a linked list or whatever to get great performance.</div>
<div class="line">[Tuesday 13 April 2010] [07:50:00] &lt;mikko&gt;  yes, it would make sense</div>
<div class="line">[Tuesday 13 April 2010] [07:50:15] &lt;sjampoo&gt;    I don&#8217;t think the API directly matters, as the binding can then provide a thin layer on top of it.</div>
<div class="line">[Tuesday 13 April 2010] [07:51:05] &lt;sustrik&gt;    i&#8217;ll definitely move it to 0mq core once the api is agreed on</div>
<div class="line">[Tuesday 13 April 2010] [07:51:23] &lt;sustrik&gt;    sjampoo: i wouldn&#8217;t worry about creating the pollset each time</div>
<div class="line">[Tuesday 13 April 2010] [07:51:38] &lt;sustrik&gt;    there should never be more than couple of sockets in the pollset</div>
<div class="line">[Tuesday 13 April 2010] [07:52:47] &lt;sjampoo&gt;    Well, there are going to be lots if you are going to use it in some sort of IOLoop that also polls regular TCP sockets.</div>
<div class="line">[Tuesday 13 April 2010] [07:53:55] &lt;sustrik&gt;    true</div>
<div class="line">[Tuesday 13 April 2010] [07:54:55] &lt;sustrik&gt;    mikko, sjampoo: so what about the api, how do you believe the results should be retrieved from the pollset?</div>
<div class="line">[Tuesday 13 April 2010] [08:00:55] &lt;mikko&gt;  int revents; int id; zmq_pollset_t set; zmq_pollset_init(&amp;set); id = zmq_pollset_add_socket(set, s, ZMQ_POLLOUT); zmq_poll(set, -1); revents = zmq_get_events(set, id); if (revents &amp; ZMQ_POLLOUT) {}</div>
<div class="line">[Tuesday 13 April 2010] [08:01:00] &lt;mikko&gt;  top of my head</div>
<div class="line">[Tuesday 13 April 2010] [08:01:23] &lt;mikko&gt;  probably not any more flexible than the current one</div>
<div class="line">[Tuesday 13 April 2010] [08:06:27] &lt;sustrik&gt;    i don&#8217;t like the &#8216;id&#8217; part</div>
<div class="line">[Tuesday 13 April 2010] [08:06:50] &lt;sustrik&gt;    it somehow presuposes a hash inside the poller to map id to actual pollitem</div>
<div class="line">[Tuesday 13 April 2010] [08:07:18] &lt;sustrik&gt;    =&gt; performance impact</div>
<div class="line">[Tuesday 13 April 2010] [08:32:04] &lt;sjampoo&gt;    sustrik, it would be nice if i could simply iterate over some sort of result set, but i am not sure what the best approach would be.</div>
<div class="line">[Tuesday 13 April 2010] [08:34:58] &lt;sustrik&gt;    what about getting events one by one?</div>
<div class="line">[Tuesday 13 April 2010] [08:35:18] &lt;sustrik&gt;    event = pollset.next_event ();</div>
<div class="line">[Tuesday 13 April 2010] [08:37:44] &lt;sjampoo&gt;    i would like that i suppose, fe in python one could simply turn that into a generator and yield ready sockets</div>
<div class="line">[Tuesday 13 April 2010] [08:43:09] &lt;mikko&gt;  how do you know which socket the event ties to?</div>
<div class="line">[Tuesday 13 April 2010] [08:47:59] &lt;sustrik&gt;    that&#8217;s the question: what is the event?</div>
<div class="line">[Tuesday 13 April 2010] [08:48:08] &lt;sustrik&gt;    maybe a triple: socket, event, hint?</div>
<div class="line">[Tuesday 13 April 2010] [08:48:14] &lt;sustrik&gt;    any better ideas?</div>
<div class="line">[Tuesday 13 April 2010] [08:48:20] &lt;sjampoo&gt;    Event is actually an object consisting of &#8216;socket&#8217;, &#8216;event&#8217; and a &#8216;hint&#8217;, as you suggested in your mailing list.</div>
<div class="line">[Tuesday 13 April 2010] [08:48:32] &lt;sjampoo&gt;    And then the hint can be set while &#8216;adding&#8217; the pollitem.</div>
<div class="line">[Tuesday 13 April 2010] [08:48:43] &lt;sustrik&gt;    that&#8217;s how epoll does it</div>
<div class="line">[Tuesday 13 April 2010] [08:48:53] &lt;sjampoo&gt;    What are the restrictions on the hint?</div>
<div class="line">[Tuesday 13 April 2010] [08:49:07] &lt;sjampoo&gt;    What type is it?</div>
<div class="line">[Tuesday 13 April 2010] [08:49:24] &lt;sustrik&gt;    for epoll it&#8217;s void* or something like that</div>
<div class="line">[Tuesday 13 April 2010] [08:49:31] &lt;sjampoo&gt;    aha</div>
<div class="line">[Tuesday 13 April 2010] [08:49:43] &lt;sjampoo&gt;    well that would be perfect imho</div>
<div class="line">[Tuesday 13 April 2010] [08:49:52]   * sustrik is not sure how that tanslates to individual languages</div>
<div class="line">[Tuesday 13 April 2010] [08:50:11] &lt;sustrik&gt;    presumably not every language has &#8216;any&#8217; type</div>
<div class="line">[Tuesday 13 April 2010] [08:53:42] &lt;sjampoo&gt;    well, it shouldn&#8217;t be that difficult to translate it to something the language does understand by the binding maintainer</div>
<div class="line">[Tuesday 13 April 2010] [09:06:38] &lt;mato&gt;   re</div>
<div class="line">[Tuesday 13 April 2010] [09:06:40] &lt;mato&gt;   sustrik: ack</div>
<div class="line">[Tuesday 13 April 2010] [09:55:18] &lt;mato&gt;   sustrik: you&#8217;re following the pgm discussion on the mailing list?</div>
<div class="line">[Tuesday 13 April 2010] [09:55:40] &lt;mato&gt;   sustrik: i think we have finally hit on the problem and everyone agrees it&#8217;s there, which makes me happy</div>
<div class="line">[Tuesday 13 April 2010] [09:55:49] &lt;mato&gt;   sustrik: the question is now, what to do about it ...</div>
<div class="line">[Tuesday 13 April 2010] [09:57:37] &lt;sustrik&gt;    mato: yup, i am following it</div>
<div class="line">[Tuesday 13 April 2010] [09:58:00] &lt;sustrik&gt;    afaics what openpgm does is ok</div>
<div class="line">[Tuesday 13 April 2010] [09:58:07] &lt;sustrik&gt;    you advertise limit of x</div>
<div class="line">[Tuesday 13 April 2010] [09:58:15] &lt;sustrik&gt;    then publish &gt;x</div>
<div class="line">[Tuesday 13 April 2010] [09:58:24] &lt;sustrik&gt;    you experience message loss</div>
<div class="line">[Tuesday 13 April 2010] [09:58:30] &lt;sustrik&gt;    fair enough</div>
<div class="line">[Tuesday 13 April 2010] [09:58:45] &lt;sustrik&gt;    the problem is that 0mq adds queueing to the picture</div>
<div class="line">[Tuesday 13 April 2010] [09:59:00] &lt;sustrik&gt;    so you have queue full of data</div>
<div class="line">[Tuesday 13 April 2010] [09:59:11] &lt;sustrik&gt;    and want it pushed out through multicast</div>
<div class="line">[Tuesday 13 April 2010] [09:59:25] &lt;sustrik&gt;    you set the rate limit</div>
<div class="line">[Tuesday 13 April 2010] [09:59:33] &lt;vtl&gt;    sustrik: commit 716f4ac8714d33d21f9853f58482e35c1e3ad934 why do you use int64_t when it should be size_t?</div>
<div class="line">[Tuesday 13 April 2010] [09:59:43] &lt;sustrik&gt;    and publish much more than that</div>
<div class="line">[Tuesday 13 April 2010] [10:00:28] &lt;sustrik&gt;    my feeling is that steven may be right about us having to implement some rathe control on top of openpgm</div>
<div class="line">[Tuesday 13 April 2010] [10:00:33] &lt;sustrik&gt;    vtl: wait a sec</div>
<div class="line">[Tuesday 13 April 2010] [10:01:54] &lt;sustrik&gt;    vtl: where exactly?</div>
<div class="line">[Tuesday 13 April 2010] [10:02:00] &lt;mato&gt;   sustrik: us implementing rate control seems silly to me</div>
<div class="line">[Tuesday 13 April 2010] [10:02:15] &lt;mato&gt;   sustrik: openpgm already has all the information it needs</div>
<div class="line">[Tuesday 13 April 2010] [10:02:25] &lt;sustrik&gt;    note that what we do now when we hit the limit is busy looping</div>
<div class="line">[Tuesday 13 April 2010] [10:02:36] &lt;sustrik&gt;    that feels kind of strange anyway</div>
<div class="line">[Tuesday 13 April 2010] [10:03:12] &lt;vtl&gt;    sustrik: almost everywhere. socket options has type of size_t</div>
<div class="line">[Tuesday 13 April 2010] [10:03:23] &lt;sustrik&gt;    ?</div>
<div class="line">[Tuesday 13 April 2010] [10:03:31] &lt;mato&gt;   sustrik: my point is that the current situation is broken. AFAICS pgm with 0mq does not work. at all.</div>
<div class="line">[Tuesday 13 April 2010] [10:03:32] &lt;vtl&gt;    or I miss something?</div>
<div class="line">[Tuesday 13 April 2010] [10:03:39] &lt;sustrik&gt;    you mean POSIX socket options?</div>
<div class="line">[Tuesday 13 April 2010] [10:04:12] &lt;vtl&gt;    yeah, I messed it up. sorry</div>
<div class="line">[Tuesday 13 April 2010] [10:04:18] &lt;sustrik&gt;    np</div>
<div class="line">[Tuesday 13 April 2010] [10:04:39] &lt;sustrik&gt;    mato: it works unless the limit is hit, no?</div>
<div class="line">[Tuesday 13 April 2010] [10:05:22] &lt;mato&gt;   sustrik: yes, but the application has no way of controlling that</div>
<div class="line">[Tuesday 13 April 2010] [10:05:30] &lt;mato&gt;   sustrik: therefore it does not work</div>
<div class="line">[Tuesday 13 April 2010] [10:05:39] &lt;sustrik&gt;    then it&#8217;s not completely broken</div>
<div class="line">[Tuesday 13 April 2010] [10:05:54] &lt;sustrik&gt;    and btw pub/sub doesn&#8217;t guarantee delivery anyway</div>
<div class="line">[Tuesday 13 April 2010] [10:06:06] &lt;mato&gt;   sustrik: it&#8217;s not about guaranteeing delivery</div>
<div class="line">[Tuesday 13 April 2010] [10:06:08] &lt;sustrik&gt;    so it may be less reliable than expected but not broken</div>
<div class="line">[Tuesday 13 April 2010] [10:06:28] &lt;mato&gt;   sustrik: yes, but with the latest changes steven made, you saw what happened when i tried the performance tests</div>
<div class="line">[Tuesday 13 April 2010] [10:06:45] &lt;sustrik&gt;    hang up?</div>
<div class="line">[Tuesday 13 April 2010] [10:06:47] &lt;mato&gt;   sustrik: you run the _thr tests and the moment you hit the limit everything just hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:06:50] &lt;mato&gt;   yes</div>
<div class="line">[Tuesday 13 April 2010] [10:06:55] &lt;mato&gt;   hangs == broken in my book</div>
<div class="line">[Tuesday 13 April 2010] [10:07:15] &lt;sustrik&gt;    thr tests should be modified to use P2P sockets</div>
<div class="line">[Tuesday 13 April 2010] [10:07:47] &lt;mato&gt;   huh?</div>
<div class="line">[Tuesday 13 April 2010] [10:07:50] &lt;sustrik&gt;    P2P sovkets don&#8217;t allow for PGM as underlying protocol</div>
<div class="line">[Tuesday 13 April 2010] [10:07:56] &lt;sustrik&gt;    that solves the problem</div>
<div class="line">[Tuesday 13 April 2010] [10:07:59] &lt;mato&gt;   you&#8217;re side-stepping the issue</div>
<div class="line">[Tuesday 13 April 2010] [10:08:04] &lt;sustrik&gt;    nope</div>
<div class="line">[Tuesday 13 April 2010] [10:08:10] &lt;sustrik&gt;    PUB/SUB is unreliable</div>
<div class="line">[Tuesday 13 April 2010] [10:08:20] &lt;sustrik&gt;    thus you cannot base the test on it</div>
<div class="line">[Tuesday 13 April 2010] [10:08:37] &lt;sustrik&gt;    there&#8217;s always a chance of message being dropped</div>
<div class="line">[Tuesday 13 April 2010] [10:08:52] &lt;sustrik&gt;    that&#8217;s the nature of pub/sub</div>
<div class="line">[Tuesday 13 April 2010] [10:09:16] &lt;sustrik&gt;    &#8220;rather drop messages then let the slow consumer block the whole system&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [10:09:29] &lt;mato&gt;   the problem here is <em>not</em> about slow consumers</div>
<div class="line">[Tuesday 13 April 2010] [10:09:35] &lt;sustrik&gt;    i know</div>
<div class="line">[Tuesday 13 April 2010] [10:09:54] &lt;sustrik&gt;    but the semantics of pub/sub based on the slow consumer scenario</div>
<div class="line">[Tuesday 13 April 2010] [10:10:08] &lt;sustrik&gt;    fit even the case we are seeing niw</div>
<div class="line">[Tuesday 13 April 2010] [10:10:12] &lt;sustrik&gt;    now*</div>
<div class="line">[Tuesday 13 April 2010] [10:10:20] &lt;sustrik&gt;    what&#8217;s happening is annoying</div>
<div class="line">[Tuesday 13 April 2010] [10:10:25] &lt;sustrik&gt;    bet technically sound</div>
<div class="line">[Tuesday 13 April 2010] [10:10:32] &lt;sustrik&gt;    but*</div>
<div class="line">[Tuesday 13 April 2010] [10:10:48] &lt;mato&gt;   it might be technically sound according to the (vague) PGM spec, and according to the implementation</div>
<div class="line">[Tuesday 13 April 2010] [10:11:09] &lt;mato&gt;   but it seems to me that the current behaviour is totally useless from an application developer&#8217;s point of view</div>
<div class="line">[Tuesday 13 April 2010] [10:11:14] &lt;sustrik&gt;    ack</div>
<div class="line">[Tuesday 13 April 2010] [10:12:02] &lt;mato&gt;   the question remains, what to do about it...</div>
<div class="line">[Tuesday 13 April 2010] [10:12:52] &lt;sustrik&gt;    my feeling is that another rate limit has to be implemeted on 0mq level</div>
<div class="line">[Tuesday 13 April 2010] [10:13:50] &lt;mato&gt;   what&#8217;s wrong with reserving x% of the bandwidth for RDATA at the openpgm level?</div>
<div class="line">[Tuesday 13 April 2010] [10:14:23] &lt;sustrik&gt;    nothing, but you still end up with busy looping</div>
<div class="line">[Tuesday 13 April 2010] [10:15:06] &lt;mato&gt;   why are we busy looping?</div>
<div class="line">[Tuesday 13 April 2010] [10:15:51] &lt;sustrik&gt;    because when you try to send openPGM says: EAGAIN (because od the rate limit)</div>
<div class="line">[Tuesday 13 April 2010] [10:16:08] &lt;sustrik&gt;    you cannot poll for POLLOT</div>
<div class="line">[Tuesday 13 April 2010] [10:16:11] &lt;sustrik&gt;    POLLOUT</div>
<div class="line">[Tuesday 13 April 2010] [10:19:24] &lt;mato&gt;   well, i don&#8217;t know what to do now</div>
<div class="line">[Tuesday 13 April 2010] [10:19:57] &lt;mato&gt;   presumably 2.0.7 should include steven&#8217;s changes post openpgm 2.0.24 that fix the crashes, but introduce the hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:20:19] &lt;mato&gt;   but as for what to do with the current behaviour...</div>
<div class="line">[Tuesday 13 April 2010] [10:20:24] &lt;sustrik&gt;    it&#8217;s not easy</div>
<div class="line">[Tuesday 13 April 2010] [10:20:40] &lt;sustrik&gt;    what i am saying it&#8217;s good enough to let it be for now</div>
<div class="line">[Tuesday 13 April 2010] [10:21:03] &lt;sustrik&gt;    if the actual rate is lower than specified max rate everyting works as expected</div>
<div class="line">[Tuesday 13 April 2010] [10:21:18] &lt;sustrik&gt;    it you publish faster, messages get lost</div>
<div class="line">[Tuesday 13 April 2010] [10:21:35] &lt;mato&gt;   no, if you publish faster your publisher hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:21:44] &lt;sustrik&gt;    publisher?</div>
<div class="line">[Tuesday 13 April 2010] [10:21:54] &lt;mato&gt;   sorry, consumer</div>
<div class="line">[Tuesday 13 April 2010] [10:22:10] &lt;sustrik&gt;    it doesn&#8217;t hang, it only looses some messages, no?</div>
<div class="line">[Tuesday 13 April 2010] [10:22:16] &lt;mato&gt;   no, it hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:22:19] &lt;mato&gt;   forever</div>
<div class="line">[Tuesday 13 April 2010] [10:22:21] &lt;sustrik&gt;    a-ha</div>
<div class="line">[Tuesday 13 April 2010] [10:22:37] &lt;sustrik&gt;    how does that happen?</div>
<div class="line">[Tuesday 13 April 2010] [10:23:16] &lt;mato&gt;   that was discussed in the long thread between me and steven</div>
<div class="line">[Tuesday 13 April 2010] [10:23:30] &lt;sustrik&gt;    i;ve missed the consumer hanging part</div>
<div class="line">[Tuesday 13 April 2010] [10:23:39] &lt;mato&gt;   due to the packet loss, and the absence of RDATA, the receiver is unable to recover, ever</div>
<div class="line">[Tuesday 13 April 2010] [10:24:03] &lt;sustrik&gt;    if says &#8220;unrecoverable message loss&#8221;, no?</div>
<div class="line">[Tuesday 13 April 2010] [10:24:13] &lt;mato&gt;   no</div>
<div class="line">[Tuesday 13 April 2010] [10:24:21] &lt;sustrik&gt;    yuck</div>
<div class="line">[Tuesday 13 April 2010] [10:24:35] &lt;mato&gt;   well, i&#8217;m not 100% sure</div>
<div class="line">[Tuesday 13 April 2010] [10:24:52] &lt;mato&gt;   i&#8217;d have to retest at your place again</div>
<div class="line">[Tuesday 13 April 2010] [10:25:24] &lt;sustrik&gt;    i though local_the hangs because it does not get all the messages</div>
<div class="line">[Tuesday 13 April 2010] [10:25:34] &lt;sustrik&gt;    hm</div>
<div class="line">[Tuesday 13 April 2010] [10:26:25] &lt;mato&gt;   no, the behaviour i saw with local_thr was it gets ~2k messages, then (presumably) some packet loss occurs and it just sits there forever</div>
<div class="line">[Tuesday 13 April 2010] [10:26:57] &lt;sustrik&gt;    right, because the rest of the messages are lost</div>
<div class="line">[Tuesday 13 April 2010] [10:27:39] &lt;sustrik&gt;    it happens because you publish faster than the rate is set</div>
<div class="line">[Tuesday 13 April 2010] [10:28:57] &lt;sustrik&gt;    i am not saying it is great</div>
<div class="line">[Tuesday 13 April 2010] [10:29:30] &lt;sustrik&gt;    but it&#8217;s not a real bug</div>
<div class="line">[Tuesday 13 April 2010] [10:29:44] &lt;sustrik&gt;    it&#8217;s reliability deficiency problem :)</div>
<div class="line">[Tuesday 13 April 2010] [10:36:55] &lt;sustrik&gt;    mato: btw, there&#8217;s a pull request from mikko for the RPM packaging</div>
<div class="line">[Tuesday 13 April 2010] [10:38:52] &lt;mato&gt;   sustrik: yes, requires license-foo</div>
<div class="line">[Tuesday 13 April 2010] [10:39:16] &lt;sustrik&gt;    are you sure these are needed for packaging scripts/</div>
<div class="line">[Tuesday 13 April 2010] [10:39:17] &lt;sustrik&gt;    ?</div>
<div class="line">[Tuesday 13 April 2010] [10:39:21] &lt;mato&gt;   yes</div>
<div class="line">[Tuesday 13 April 2010] [10:39:28] &lt;mato&gt;   anything that goes into the 0mq git</div>
<div class="line">[Tuesday 13 April 2010] [10:39:32] &lt;sustrik&gt;    mikko: are you there?</div>
<div class="line">[Tuesday 13 April 2010] [10:40:44] &lt;sustrik&gt;    he seems to be out</div>
<div class="line">[Tuesday 13 April 2010] [10:46:38] &lt;sustrik&gt;    sent him a message</div>
<div class="line">[Tuesday 13 April 2010] [10:52:06] &lt;mikko&gt;  almost here</div>
<div class="line">[Tuesday 13 April 2010] [10:52:11] &lt;mikko&gt;  &#64;work</div>
<div class="line">[Tuesday 13 April 2010] [10:52:33] &lt;mikko&gt;  is there a CLA i can sign?</div>
<div class="line">[Tuesday 13 April 2010] [10:52:47] &lt;mikko&gt;  so that all my contributions would be automatically under the license</div>
<div class="line">[Tuesday 13 April 2010] [10:53:53] &lt;mato&gt;   mikko: we haven&#8217;t really formulated one yet</div>
<div class="line">[Tuesday 13 April 2010] [10:54:03] &lt;mato&gt;   adrian sent me this, for example:</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   +++</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   I, Adrian von Bidder, Switzerland, license my work on the Debian packaging of</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   the zeromq library to iMatrix under the MIT/X11 licsense.</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   +++</div>
<div class="line">[Tuesday 13 April 2010] [10:54:17] &lt;mato&gt;   by email, with the relevant patch attached</div>
<div class="line">[Tuesday 13 April 2010] [10:54:47] &lt;sustrik&gt;    shouldn&#8217;t it go to the mailing list?</div>
<div class="line">[Tuesday 13 April 2010] [10:54:55] &lt;mato&gt;   yes, he sent it to the mailing list</div>
<div class="line">[Tuesday 13 April 2010] [10:55:11] &lt;mato&gt;   sustrik: we need to decide how to handle this, and ph needs to agree</div>
<div class="line">[Tuesday 13 April 2010] [10:55:40] &lt;sustrik&gt;    yes, it&#8217;s a mess</div>
<div class="line">[Tuesday 13 April 2010] [10:55:52] &lt;sustrik&gt;    i am trying to direct this kind of thing to the mailing list</div>
<div class="line">[Tuesday 13 April 2010] [10:56:04] &lt;sustrik&gt;    as it&#8217;s presumably more persistent than personal mail boxes</div>
<div class="line">[Tuesday 13 April 2010] [10:56:15] &lt;mato&gt;   yeah, but even there the relevant statements will get lost</div>
<div class="line">[Tuesday 13 April 2010] [10:56:45] &lt;sustrik&gt;    shrug</div>
<div class="line">[Tuesday 13 April 2010] [10:56:54] &lt;mikko&gt;  CLA would make most sense</div>
<div class="line">[Tuesday 13 April 2010] [10:57:16] &lt;mikko&gt;  that in theory would eliminate the need for patches etc</div>
<div class="line">[Tuesday 13 April 2010] [10:57:42] &lt;mato&gt;   mikko: I&#8217;m thinking of two things</div>
<div class="line">[Tuesday 13 April 2010] [10:58:02] &lt;mato&gt;   mikko: 1) Simple template &#8220;CLA&#8221; or whatever you want to call it by email</div>
<div class="line">[Tuesday 13 April 2010] [10:58:29] &lt;mato&gt;   mikko: 2) Signed-off-by: on any git commits which is explicitly defined as &#8220;falls under the CLA&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [10:58:50] &lt;mikko&gt;  1) probably needs a signature (fax / scan / etc)</div>
<div class="line">[Tuesday 13 April 2010] [10:58:54] &lt;mikko&gt;  2) makes sense</div>
<div class="line">[Tuesday 13 April 2010] [10:59:05] &lt;mato&gt;   no, we want to deliberately avoid the whole fax/scan/etc</div>
<div class="line">[Tuesday 13 April 2010] [10:59:14] &lt;mato&gt;   email is enough, this is 2010 after all</div>
<div class="line">[Tuesday 13 April 2010] [10:59:33] &lt;mikko&gt;  is it legally binding? i&#8217;ve had to scan+email to many places</div>
<div class="line">[Tuesday 13 April 2010] [10:59:46] &lt;mato&gt;   mikko: the consensus is that it&#8217;s &#8220;Good enough&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [11:00:02] &lt;sustrik&gt;    what&#8217;s signed-off-by?</div>
<div class="line">[Tuesday 13 April 2010] [11:00:19] &lt;mato&gt;   mikko: see the commentary by Pieter Hintjens at <a class="reference external" href="http://www.zeromq.org/blog:why-the-mit-license-for-contributions">http://www.zeromq.org/blog:why-the-mit-license-for-contributions</a></div>
<div class="line">[Tuesday 13 April 2010] [11:00:53] &lt;mato&gt;   sustrik: it&#8217;s just an extra header you can add to git commits/patches</div>
<div class="line">[Tuesday 13 April 2010] [11:00:56] &lt;mikko&gt;  <a class="reference external" href="http://www.apache.org/licenses/icla.txt">http://www.apache.org/licenses/icla.txt</a></div>
<div class="line">[Tuesday 13 April 2010] [11:01:02] &lt;mikko&gt;  thats apache one</div>
<div class="line">[Tuesday 13 April 2010] [11:01:29] &lt;sustrik&gt;    isn&#8217;t the signed-off-by better then?</div>
<div class="line">[Tuesday 13 April 2010] [11:01:31] &lt;mato&gt;   sustrik: the Linux kernel people use it to mean &#8220;I sign off this patch and state that it came from me&#8221; or something similar</div>
<div class="line">[Tuesday 13 April 2010] [11:01:39] &lt;sustrik&gt;    everyone going to commit anyway</div>
<div class="line">[Tuesday 13 April 2010] [11:01:47] &lt;sustrik&gt;    so adding one field is not big a hassle</div>
<div class="line">[Tuesday 13 April 2010] [11:01:52] &lt;mato&gt;   sustrik: yeah, but you need to define somewhere <em>else</em> what the Signed-Off-By in the context of 0mq git means</div>
<div class="line">[Tuesday 13 April 2010] [11:01:55] &lt;sustrik&gt;    and we can pull the patches directly</div>
<div class="line">[Tuesday 13 April 2010] [11:02:21] &lt;sustrik&gt;    hm</div>
<div class="line">[Tuesday 13 April 2010] [11:03:06] &lt;mikko&gt;  <a class="reference external" href="http://www.oss-watch.ac.uk/resources/cla.xml#body.1_div.4">http://www.oss-watch.ac.uk/resources/cla.xml#body.1_div.4</a></div>
<div class="line">[Tuesday 13 April 2010] [11:03:09] &lt;mikko&gt;  4. Associating commits to CLAs</div>
<div class="line">[Tuesday 13 April 2010] [11:03:15] &lt;mato&gt;   sustrik: hence the combination of a simple email statement &#8220;I, XXX, of YYY, hereby state that any commits of mine containing Signed-Off-By: ..., are licensed under the MIT license.</div>
<div class="line">[Tuesday 13 April 2010] [11:03:28] &lt;mato&gt;   sustrik: with actual Signed-Off-By headers</div>
<div class="line">[Tuesday 13 April 2010] [11:03:55] &lt;sustrik&gt;    mikko:  right</div>
<div class="line">[Tuesday 13 April 2010] [11:04:08] &lt;sustrik&gt;    mato: yes, seems to make sense</div>
<div class="line">[Tuesday 13 April 2010] [11:04:39] &lt;mato&gt;   sustrik: it should also be possible to put a hook in github to reject commits w/o a Signed-Off-By</div>
<div class="line">[Tuesday 13 April 2010] [11:04:51] &lt;sustrik&gt;    mikko&#8217;s link suggest that&#8217;s it&#8217;s necessary to be able to blame each line of code</div>
<div class="line">[Tuesday 13 April 2010] [11:05:10] &lt;sustrik&gt;    that can be done only by direct pulling =&gt; singed-off-by</div>
<div class="line">[Tuesday 13 April 2010] [11:05:36] &lt;mato&gt;   no, it can work for all models</div>
<div class="line">[Tuesday 13 April 2010] [11:05:44] &lt;mato&gt;   at least i think so, here&#8217;s an example</div>
<div class="line">[Tuesday 13 April 2010] [11:05:52] &lt;sustrik&gt;    ah, the &#8211;author option</div>
<div class="line">[Tuesday 13 April 2010] [11:05:53] &lt;sustrik&gt;    right</div>
<div class="line">[Tuesday 13 April 2010] [11:06:20] &lt;mato&gt;   the point is you can set up your git so that <em>all</em> your commits to zeromq2 contain the signed-off-by tag</div>
<div class="line">[Tuesday 13 April 2010] [11:06:37] &lt;sustrik&gt;    that would be good, no?</div>
<div class="line">[Tuesday 13 April 2010] [11:06:44] &lt;mato&gt;   then, when those commits are pushed/pulled/whatever, the signed-off-by tags propagate</div>
<div class="line">[Tuesday 13 April 2010] [11:06:54] &lt;mato&gt;   sustrik: yes, that is what i have in mind</div>
<div class="line">[Tuesday 13 April 2010] [11:07:35] &lt;sustrik&gt;    mato: post a proposal to the mailing list and let&#8217;s see what will people say</div>
<div class="line">[Tuesday 13 April 2010] [11:08:24] &lt;mato&gt;   i&#8217;ll email a proposal to pieter first, and get him to make that post</div>
<div class="line">[Tuesday 13 April 2010] [11:08:28] &lt;mato&gt;   i don&#8217;t speak for imatix</div>
<div class="line">[Tuesday 13 April 2010] [11:08:29] &lt;sustrik&gt;    ok</div>
<div class="line">[Tuesday 13 April 2010] [11:09:11] &lt;sustrik&gt;    however, this is discussion of technical aspect of contributing so community should have a say</div>
<div class="line">[Tuesday 13 April 2010] [11:09:37] &lt;mato&gt;   right, well then i can make a proposal</div>
<div class="line">[Tuesday 13 April 2010] [11:52:46] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 13 April 2010] [11:53:23] &lt;mikko&gt;  if i add fd to pollset and close the remote peer the socket is marked readable in a loop</div>
<div class="line">[Tuesday 13 April 2010] [11:55:26] &lt;mikko&gt;  ermm confusing terms</div>
<div class="line">[Tuesday 13 April 2010] [11:55:53] &lt;mikko&gt;  adding normal fd that is connected to a remote peer. remote peer closes and poll marks it readable in in a loop</div>
<div class="line">[Tuesday 13 April 2010] [11:55:58] &lt;mikko&gt;  and chews 100% cpu</div>
<div class="line">[Tuesday 13 April 2010] [11:57:34] &lt;mikko&gt;  i guess i need to check for that</div>
<div class="line">[Tuesday 13 April 2010] [11:59:45] &lt;sustrik&gt;    mikko: &#8220;if i add fd to pollset and close the remote peer the socket is marked readable&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [11:59:52] &lt;sustrik&gt;    that&#8217;s standard POSIX behaviour</div>
<div class="line">[Tuesday 13 April 2010] [12:00:10] &lt;sustrik&gt;    in case of orderly shutdown POLLIN is signaled</div>
<div class="line">[Tuesday 13 April 2010] [12:00:18] &lt;sustrik&gt;    and subsequent read returns 0 bytes</div>
<div class="line">[Tuesday 13 April 2010] [12:00:20] &lt;sustrik&gt;    iirc</div>
<div class="line">[Tuesday 13 April 2010] [12:03:55] &lt;mikko&gt;  indeed</div>
<div class="line">[Tuesday 13 April 2010] [12:04:57] &lt;mikko&gt;  i need to work on this a bit on the evening</div>
<div class="line">[Tuesday 13 April 2010] [12:05:07] &lt;mikko&gt;  to make the removing of objects more fluent</div>
<div class="line">[Tuesday 13 April 2010] [12:09:15] &lt;mato&gt;   argh</div>
<div class="line">[Tuesday 13 April 2010] [12:09:31] &lt;mato&gt;   the whole signed-off-by thing with git is complicated :-(</div>
<div class="line">[Tuesday 13 April 2010] [12:09:43] &lt;mato&gt;   i don&#8217;t want to deal with this right now, i&#8217;d rather get some real work done</div>
<div class="line">[Tuesday 13 April 2010] [12:10:14] &lt;sustrik&gt;    ok, mikko, won&#8217;t you mind simply sending the patch to the mailing list and stating it&#8217;s MIT licensed?</div>
<div class="line">[Tuesday 13 April 2010] [12:10:22] &lt;mato&gt;   mikko: in the interim, can you just send a copy of your patch made with git-format-patch to the mailing list, and include one line that says &#8220;This patch is submitted under the MIT license&#8221;?</div>
<div class="line">[Tuesday 13 April 2010] [12:10:27] &lt;sustrik&gt;    :)</div>
<div class="line">[Tuesday 13 April 2010] [12:10:27] &lt;mato&gt;   sustrik: my words exactly :-)</div>
<div class="line">[Tuesday 13 April 2010] [12:11:07] &lt;mato&gt;   sustrik: ok, ad openpgm: i guess i should just email steven to make a 2.0.25 release with his latest changes, since that stops the crashes</div>
<div class="line">[Tuesday 13 April 2010] [12:11:17] &lt;mato&gt;   sustrik: that can go into our 2.0.7</div>
<div class="line">[Tuesday 13 April 2010] [12:11:21] &lt;sustrik&gt;    ack</div>
<div class="line">[Tuesday 13 April 2010] [12:11:44] &lt;mato&gt;   sustrik: therefore the only other thing is looking at the options/flags stuff, which i will write about</div>
<div class="line">[Tuesday 13 April 2010] [12:12:04] &lt;mato&gt;   and then i can get onto writing that nginx plugin which is actually interesting :-)</div>
<div class="line">[Tuesday 13 April 2010] [12:12:07] &lt;mato&gt;   sustrik: ack?</div>
<div class="line">[Tuesday 13 April 2010] [12:12:17] &lt;sustrik&gt;    sure, more useful even</div>
<div class="line">[Tuesday 13 April 2010] [12:12:47]   * mato is trying to ignore the list of administrivia and actually enjoy making something useful</div>
<div class="line">[Tuesday 13 April 2010] [12:12:47] &lt;sustrik&gt;    mato, mikko: the rpm spac file in the patch in in builds subdirectory</div>
<div class="line">[Tuesday 13 April 2010] [12:12:53] &lt;mato&gt;   good, we&#8217;re agreed then</div>
<div class="line">[Tuesday 13 April 2010] [12:13:08] &lt;sustrik&gt;    shouldn&#8217;t it go to &#8216;packages&#8217; ?</div>
<div class="line">[Tuesday 13 April 2010] [12:13:16] &lt;sustrik&gt;    mato: yes</div>
<div class="line">[Tuesday 13 April 2010] [12:13:27] &lt;mato&gt;   sustrik: why create packages when we already have builds, it doesn&#8217;t really matter</div>
<div class="line">[Tuesday 13 April 2010] [12:13:57] &lt;mato&gt;   sustrik: the point is at make dist time that spec file will get copied into the tarball root anyway</div>
<div class="line">[Tuesday 13 April 2010] [12:14:02] &lt;sustrik&gt;    dunno, msvc build system and rpm packaging script seem to be distinct kind of thing</div>
<div class="line">[Tuesday 13 April 2010] [12:14:05] &lt;mato&gt;   sustrik: this is similar to why debian is in /</div>
<div class="line">[Tuesday 13 April 2010] [12:14:35] &lt;sustrik&gt;    up to you guys, i&#8217;m giving up :)</div>
<div class="line">[Tuesday 13 April 2010] [12:14:43] &lt;mato&gt;   who cares</div>
<div class="line">[Tuesday 13 April 2010] [12:14:45] &lt;mato&gt;   it&#8217;s just trivia</div>
<div class="line">[Tuesday 13 April 2010] [12:14:50] &lt;mato&gt;   less directories is better :-)</div>
<div class="line">[Tuesday 13 April 2010] [12:14:57] &lt;mikko&gt;  &#8220;redhat builds&#8221;, &#8220;debian builds&#8221;, &#8220;windows builds&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [12:14:59] &lt;mikko&gt;  sounds logical</div>
<div class="line">[Tuesday 13 April 2010] [12:15:01] &lt;mato&gt;   exactly</div>
<div class="line">[Tuesday 13 April 2010] [12:15:16] &lt;sustrik&gt;    ah, it also builds the thing?</div>
<div class="line">[Tuesday 13 April 2010] [12:15:24] &lt;mikko&gt;  it creates binaries</div>
<div class="line">[Tuesday 13 April 2010] [12:15:29] &lt;mikko&gt;  or source rpms</div>
<div class="line">[Tuesday 13 April 2010] [12:15:31]   * sustrik has no idea how packaging works</div>
<div class="line">[Tuesday 13 April 2010] [12:15:39] &lt;sustrik&gt;    then it makes perfect sense</div>
<div class="line">[Tuesday 13 April 2010] [12:15:42] &lt;mikko&gt;  spec-file defines how it&#8217;s built</div>
<div class="line">[Tuesday 13 April 2010] [12:15:48] &lt;sustrik&gt;    sorry for trolling</div>
<div class="line">[Tuesday 13 April 2010] [12:15:51] &lt;mikko&gt;  and creates installable rpm package</div>
<div class="line">[Tuesday 13 April 2010] [12:16:00] &lt;mikko&gt;  i guess you are entitled for a bit of trolling :)</div>
<div class="line">[Tuesday 13 April 2010] [12:54:22] &lt;iFire&gt;  wow vmware is on a roll. They acquired rabbitmq</div>
<div class="line">[Tuesday 13 April 2010] [12:54:34] &lt;iFire&gt;  previously it was redis</div>
<div class="line">[Tuesday 13 April 2010] [12:57:43] &lt;sustrik&gt;    yup, looks like they are making a portfolio of cloud infrastructure</div>
<div class="line">[Tuesday 13 April 2010] [12:58:50] &lt;iFire&gt;  I hope vmware deals with rabbitmq the same way they dealt with redis. i.e. keep the same license, except pay the developers for work</div>
<div class="line">[Tuesday 13 April 2010] [12:59:52] &lt;iFire&gt;  (background info: redis is in bsd license)</div>
<div class="line">[Tuesday 13 April 2010] [13:01:25] &lt;sustrik&gt;    I&#8217;ve just spoke to rabbitmq guys, seems that that&#8217;s the plan</div>
<div class="line">[Tuesday 13 April 2010] [13:02:20] &lt;sustrik&gt;    from the press release: &#8220;RabbitMQ will continue to be open source and distributed in the same way</div>
<div class="line">[Tuesday 13 April 2010] [13:02:21] &lt;sustrik&gt;    as before. The RabbitMQ community can expect to see increased investment</div>
<div class="line">[Tuesday 13 April 2010] [13:02:21] &lt;sustrik&gt;    in this outstanding technology which should result in significant</div>
<div class="line">[Tuesday 13 April 2010] [13:02:21] &lt;sustrik&gt;    improvements to the open source release.&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [14:04:59] &lt;dirtmcgirt&gt; hi all.</div>
<div class="line">[Tuesday 13 April 2010] [14:05:09] &lt;dirtmcgirt&gt; can zeromq be used along side libevent?</div>
<div class="line">[Tuesday 13 April 2010] [14:05:58] &lt;mikko&gt;  dirtmcgirt: we actually discussed the other day about 0MQ and libev</div>
<div class="line">[Tuesday 13 April 2010] [14:06:15] &lt;dirtmcgirt&gt; mikko: ah! i missed it.</div>
<div class="line">[Tuesday 13 April 2010] [14:06:55] &lt;mikko&gt;  <a class="reference external" href="http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che">http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che</a></div>
<div class="line">[Tuesday 13 April 2010] [14:07:04] &lt;mikko&gt;  libev provides something like that looks like it could be used</div>
<div class="line">[Tuesday 13 April 2010] [14:07:13] &lt;mikko&gt;  you could check whether libevent provides something similar</div>
<div class="line">[Tuesday 13 April 2010] [14:09:07] &lt;dirtmcgirt&gt; interesting, thanks</div>
<div class="line">[Tuesday 13 April 2010] [14:09:33] &lt;mikko&gt;  i&#8217;ve written most of my stuff using libev lately (instead of libevent)</div>
<div class="line">[Tuesday 13 April 2010] [14:09:49] &lt;mikko&gt;  libevent has a nice http library though</div>
<div class="line">[Tuesday 13 April 2010] [14:09:58] &lt;mikko&gt;  evhttp i think it&#8217;s called</div>
<div class="line">[Tuesday 13 April 2010] [14:10:05] &lt;dirtmcgirt&gt; yes, we are using that</div>
<div class="line">[Tuesday 13 April 2010] [14:10:08] &lt;dirtmcgirt&gt; it&#8217;s great</div>
<div class="line">[Wednesday 14 April 2010] [13:35:48] &lt;jomofo&gt;   When I try to build libzmq from master I get this error (Linux x86) :  make[1]: <a href="#id25"><span class="problematic" id="id26">**</span></a>* No rule to make target <a href="#id27"><span class="problematic" id="id28">`</span></a>local_lat.c&#8217;, needed by <a href="#id29"><span class="problematic" id="id30">`</span></a>local_lat.o&#8217;.  Stop.</div>
<div class="line">[Wednesday 14 April 2010] [13:37:01] &lt;jomofo&gt;   Guessing it&#8217;s a makefile issue, but don&#8217;t have enough experience with automake to solve on my own.  Any hints?  Thanks</div>
<div class="line">[Wednesday 14 April 2010] [14:16:06] &lt;mikko&gt;    jomofo: lemme test</div>
<div class="line">[Wednesday 14 April 2010] [14:16:07] &lt;mikko&gt;    sec</div>
<div class="line">[Wednesday 14 April 2010] [14:19:12] &lt;mikko&gt;    builds fine here from clean git clone</div>
<div class="line">[Wednesday 14 April 2010] [14:20:32] &lt;jomofo&gt;   I will try a fresh clone</div>
<div class="line">[Wednesday 14 April 2010] [14:25:47] &lt;jomofo&gt;   mikko: it builds now, thanks.  I guess maybe I didn&#8217;t clean before I pulled and some remnant was causing that?</div>
<div class="line">[Wednesday 14 April 2010] [14:26:23] &lt;mikko&gt;    no harm in make clean &amp;&amp; ./autogen.sh after pull</div>
<div class="line">[Wednesday 14 April 2010] [14:26:36] &lt;mikko&gt;    and ./configure &amp;&amp; make</div>
<div class="line">[Wednesday 14 April 2010] [14:28:38] &lt;jomofo&gt;   mikko: I went through those steps several times after I pulled before I decided to come here.  Maybe clean was not wiping something?</div>
<div class="line">[Wednesday 14 April 2010] [14:29:09] &lt;mikko&gt;    make distclean might wipe more</div>
<div class="line">[Wednesday 14 April 2010] [14:29:12] &lt;mikko&gt;    or just fail</div>
<div class="line">[Wednesday 14 April 2010] [14:29:14] &lt;mikko&gt;    not sure</div>
<div class="line">[Wednesday 14 April 2010] [14:29:26] &lt;mikko&gt;    but make clean doesnt remove auto* artifacts</div>
<div class="line">[Wednesday 14 April 2010] [14:31:43] &lt;jomofo&gt;   That makes sense.  I still have the old working copy so I&#8217;ll play around and see if I can discover more about the black box I&#8217;m playing with... Thanks for the idea of starting over though</div>
<div class="line">[Wednesday 14 April 2010] [14:33:45] &lt;jomofo&gt;   make distclean did the trick in the old working copy</div>
<div class="line">[Wednesday 14 April 2010] [15:00:59] &lt;sustrik&gt;  jomofo: the files in question were renamed</div>
<div class="line">[Wednesday 14 April 2010] [15:01:13] &lt;sustrik&gt;  automake has problem couping with it</div>
<div class="line">[Wednesday 14 April 2010] [15:01:26] &lt;sustrik&gt;  in any case, fresh copy solves it</div>
<div class="line">[Wednesday 14 April 2010] [15:07:51] &lt;sophacles&gt;    sustrik: a few days back you mentioned to me using <a href="#id31"><span class="problematic" id="id32">*</span></a>_thr for some throughput testing using very large numbers for message sizes.  its strange when I do that remote_thr quits fairly soon and local_thr doesn&#8217;t ever finish.</div>
<div class="line">[Wednesday 14 April 2010] [15:07:58] &lt;sophacles&gt;    any thoughts as to why?</div>
<div class="line">[Wednesday 14 April 2010] [15:08:20] &lt;sustrik&gt;  there&#8217;s sleep(10) hardcoded in the sender</div>
<div class="line">[Wednesday 14 April 2010] [15:08:47] &lt;sustrik&gt;  it transmission takes more than that, the sender quits in the middle of the transmission</div>
<div class="line">[Wednesday 14 April 2010] [15:08:50] &lt;sustrik&gt;  ugly, i know</div>
<div class="line">[Wednesday 14 April 2010] [15:11:59] &lt;sophacles&gt;    ahhh ok. ill dig into the code then. thanks for the pointer</div>
<div class="line">[Wednesday 14 April 2010] [15:13:40] &lt;sustrik&gt;  to sanitize the throughput test, P2P sockets should be used instead of PUB/SUB</div>
<div class="line">[Wednesday 14 April 2010] [15:13:53] &lt;sophacles&gt;    is there a better way to determine if all messages have been sent? (e.g a zmq_wait() or zmq_join())?</div>
<div class="line">[Wednesday 14 April 2010] [15:14:08] &lt;sustrik&gt;  P2P being bi-directional would allow for &#8220;the end&#8221; message to be passed back to the sender</div>
<div class="line">[Wednesday 14 April 2010] [15:14:41] &lt;sustrik&gt;  that&#8217;s it, i think</div>
<div class="line">[Wednesday 14 April 2010] [15:15:18] &lt;sustrik&gt;  just change to socket type to P2P, after the receiver receives all messages make it send a dummy message</div>
<div class="line">[Wednesday 14 April 2010] [15:15:36] &lt;sustrik&gt;  the sender should send all messages and wait for the dummy message from receiver</div>
<div class="line">[Wednesday 14 April 2010] [15:16:01] &lt;sustrik&gt;  the problem is that there are ~10 instances of perf tests for various languages</div>
<div class="line">[Wednesday 14 April 2010] [15:16:11] &lt;sustrik&gt;  lot of work to fix all of it</div>
<div class="line">[Wednesday 14 April 2010] [15:17:07] &lt;sophacles&gt;    OK thanks. ill do that. sounds simple enough. sanity check on my approach: a simple blocking read place of zmq_sleep is the magic mechanism correct?</div>
<div class="line">[Wednesday 14 April 2010] [15:17:16] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 14 April 2010] [15:28:37] &lt;jomofo&gt;   sustrik: troubleshooting an error with JNI and came across this:  <a class="reference external" href="http://forums.sun.com/thread.jspa?threadID=5379144">http://forums.sun.com/thread.jspa?threadID=5379144</a></div>
<div class="line">[Wednesday 14 April 2010] [15:29:42] &lt;jomofo&gt;   sustrik: thought it was kinda funny when I noticed it was your thread</div>
<div class="line">[Wednesday 14 April 2010] [15:31:30] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 14 April 2010] [15:32:16] &lt;sustrik&gt;  i am not sure what the problem is now - gonzalo diethelm introduced the latest changes</div>
<div class="line">[Wednesday 14 April 2010] [15:32:26] &lt;sustrik&gt;  he probably got something wrong</div>
<div class="line">[Wednesday 14 April 2010] [15:33:44] &lt;jomofo&gt;   I will keep digging, I was just hoping someone on the list could tell me if I was doing something silly</div>
<div class="line">[Wednesday 14 April 2010] [15:35:57] &lt;sustrik&gt;  jomofo: any chance the old version of jzmq is being loaded?</div>
<div class="line">[Wednesday 14 April 2010] [15:38:46] &lt;jomofo&gt;   sustrik: I don&#8217;t believe so, but I&#8217;ve done crazier things.  I will wipe /usr/local/lib, verify it breaks my test, then build again</div>
<div class="line">[Wednesday 14 April 2010] [15:39:40] &lt;sustrik&gt;  the code looks more or less correct:</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;  JNIEXPORT void JNICALL Java_org_zeromq_ZMQ_00024Context_construct (JNIEnv <a href="#id33"><span class="problematic" id="id34">*</span></a>env,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;                                                                     jobject obj,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;                                                                     jint app_threads,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;                                                                     jint io_threads,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:43] &lt;sustrik&gt;                                                                     jint flags)</div>
<div class="line">[Wednesday 14 April 2010] [15:40:05] &lt;sustrik&gt;  I am not sure what the 00024 thing means...</div>
<div class="line">[Wednesday 14 April 2010] [15:40:39] &lt;jomofo&gt;   I think that must be somehow escaping the &#8216;$&#8217; you usually see with inner classes</div>
<div class="line">[Wednesday 14 April 2010] [15:41:24] &lt;sustrik&gt;  0x24 = $ ?</div>
<div class="line">[Wednesday 14 April 2010] [15:41:31] &lt;sustrik&gt;  lemme see</div>
<div class="line">[Wednesday 14 April 2010] [15:41:51] &lt;jomofo&gt;   yup</div>
<div class="line">[Wednesday 14 April 2010] [15:41:56] &lt;sustrik&gt;  bingo</div>
<div class="line">[Wednesday 14 April 2010] [15:42:30] &lt;jomofo&gt;   But I don&#8217;t know what&#8217;s making that translation or if it&#8217;s possibly broken at runtime?</div>
<div class="line">[Wednesday 14 April 2010] [15:42:49] &lt;sustrik&gt;  shrug</div>
<div class="line">[Wednesday 14 April 2010] [15:43:55] &lt;sustrik&gt;  can you check the prototype of the function in your JNI-generated header file?</div>
<div class="line">[Wednesday 14 April 2010] [15:44:01] &lt;sustrik&gt;  is it the same?</div>
<div class="line">[Wednesday 14 April 2010] [15:44:28] &lt;sustrik&gt;  org_zeromq_ZMQ_Context.h</div>
<div class="line">[Wednesday 14 April 2010] [15:44:47] &lt;jomofo&gt;   JNIEXPORT void JNICALL Java_org_zeromq_ZMQ_00024Context_construct</div>
<div class="line">[Wednesday 14 April 2010] [15:44:47] &lt;jomofo&gt;     (JNIEnv <a href="#id35"><span class="problematic" id="id36">*</span></a>, jobject, jint, jint, jint);</div>
<div class="line">[Wednesday 14 April 2010] [15:46:07] &lt;sustrik&gt;  hm</div>
<div class="line">[Wednesday 14 April 2010] [15:46:33] &lt;sustrik&gt;  let me try here</div>
<div class="line">[Wednesday 14 April 2010] [15:49:02] &lt;sustrik&gt;  yuck, i cannot even build it</div>
<div class="line">[Wednesday 14 April 2010] [15:49:09] &lt;sustrik&gt;  /usr/bin/ld: /usr/local/lib/libzmq.a(libzmq_la-zmq.o): relocation R_X86_64_32 against <a href="#id37"><span class="problematic" id="id38">`</span></a>.rodata&#8217; can not be used when making a shared object; recompile with -fPIC</div>
<div class="line">[Wednesday 14 April 2010] [15:49:09] &lt;sustrik&gt;  /usr/local/lib/libzmq.a: could not read symbols: Bad value</div>
<div class="line">[Wednesday 14 April 2010] [15:51:18] &lt;sophacles&gt;    so with p2p sockets, do i bind/connect or...? (wierd segfaulting issues)</div>
<div class="line">[Wednesday 14 April 2010] [15:51:52] &lt;jomofo&gt;   sustrik: eek, I don&#8217;t get that ... I can build it on Ubuntu 9.04 32-bit and 64-bit</div>
<div class="line">[Wednesday 14 April 2010] [15:52:02] &lt;jomofo&gt;   Does this mean anything to you? <a class="reference external" href="http://stackoverflow.com/1147890/relocation-r-x86-64-32-against-a-local-symbol-error">http://stackoverflow.com/1147890/relocation-r-x86-64-32-against-a-local-symbol-error</a></div>
<div class="line">[Wednesday 14 April 2010] [15:53:38] &lt;sustrik&gt;  page not found</div>
<div class="line">[Wednesday 14 April 2010] [15:54:37] &lt;jomofo&gt;   doh, copy/paste error <a class="reference external" href="http://stackoverflow.com/questions/1147890/relocation-r-x86-64-32-against-a-local-symbol-error">http://stackoverflow.com/questions/1147890/relocation-r-x86-64-32-against-a-local-symbol-error</a></div>
<div class="line">[Wednesday 14 April 2010] [15:58:40] &lt;sustrik&gt;  my fault, i had libzmq compiled with &#8211;disable-shared on my system</div>
<div class="line">[Wednesday 14 April 2010] [15:58:45] &lt;sustrik&gt;  now it builds ok</div>
<div class="line">[Wednesday 14 April 2010] [16:06:17] &lt;sophacles&gt;    ok, better phrasing/more info: when i change the perf example to use P2P sockets, in local_thr, the first call to zmq_recv in the for loop segfaults. it is very odd, as i haven&#8217;t changed anything other than changing the socket type and droping the setsockopt for subscription.</div>
<div class="line">[Wednesday 14 April 2010] [16:08:22] &lt;sustrik&gt;  :(</div>
<div class="line">[Wednesday 14 April 2010] [16:08:31] &lt;sustrik&gt;  P2P are experimental</div>
<div class="line">[Wednesday 14 April 2010] [16:08:47] &lt;sustrik&gt;  there must be some bug there...</div>
<div class="line">[Wednesday 14 April 2010] [16:08:56] &lt;sustrik&gt;  any chance of getting the backtrace?</div>
<div class="line">[Wednesday 14 April 2010] [16:09:20] &lt;sustrik&gt;  jomofo: it seems to work on my box</div>
<div class="line">[Wednesday 14 April 2010] [16:10:35] &lt;sophacles&gt;    I can do that, how do you want the trace?</div>
<div class="line">[Wednesday 14 April 2010] [16:11:06] &lt;sustrik&gt;  just run it under gdb</div>
<div class="line">[Wednesday 14 April 2010] [16:11:10] &lt;sustrik&gt;  when it breaks</div>
<div class="line">[Wednesday 14 April 2010] [16:11:11] &lt;sustrik&gt;  bt</div>
<div class="line">[Wednesday 14 April 2010] [16:16:27] &lt;jomofo&gt;   sustrik: if you don&#8217;t mind, what distro/version/arch is your box running?  It is similarly broken on both of my boxes.  I verified only one copy of libjzmq, but maybe I should try again in a clean VM</div>
<div class="line">[Wednesday 14 April 2010] [16:17:02] &lt;sustrik&gt;  Linux istvan 2.6.31-20-generic #58-Ubuntu SMP Fri Mar 12 04:38:19 UTC 2010 x86_64 GNU/Linux</div>
<div class="line">[Wednesday 14 April 2010] [16:17:45] &lt;sophacles&gt;    sustrik: <a class="reference external" href="http://paste.pocoo.org/show/201908/">http://paste.pocoo.org/show/201908/</a> has my version of local_thr and the gdb output. if you want any other info let me know</div>
<div class="line">[Wednesday 14 April 2010] [16:20:19] &lt;sustrik&gt;  sophacles: created new issue for that (no. 18)</div>
<div class="line">[Wednesday 14 April 2010] [16:20:47] &lt;sustrik&gt;  as for now you&#8217;ll have to do with manually tweaking the sleep(10) thing :(</div>
<div class="line">[Wednesday 14 April 2010] [16:23:37] &lt;sophacles&gt;    before anyone spends too much effort on that issue, it is linked against 2.0.6, which is hte current debian packaged version in Adrian&#8217;s repo. If relevant work has been done since then i can build the latest git repo and try that</div>
<div class="line">[Wednesday 14 April 2010] [17:43:56] &lt;sophacles&gt;    sustrik: i forgot to mention, thanks for the tip about remote_thr/local_thr w/ big message sizes, they fill the pipe w/out maxin the cpu :)</div>
<div class="line">[Wednesday 14 April 2010] [18:07:09] &lt;jomofo&gt;   sustrik: do you use Sun JDK or OpenJDK or ... ?  I don&#8217;t think it matters much, but don&#8217;t want to introduce more variables than I have to</div>
<div class="line">[Wednesday 14 April 2010] [18:07:55] &lt;jomofo&gt;   P.S. I kept saying Ubuntu 9.04 earlier, but it is 9.10 which looks like what you&#8217;re running</div>
<div class="line">[Thursday 15 April 2010] [01:34:14] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * rea18d30 10/ (include/zmq.h src/atomic_ptr.hpp): atomic_ptr fix of Win64 - <a class="reference external" href="http://bit.ly/aJ8j4j">http://bit.ly/aJ8j4j</a></div>
<div class="line">[Thursday 15 April 2010] [01:34:15] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r1c33941 10/ (9 files in 9 dirs): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/bQDCHM">http://bit.ly/bQDCHM</a></div>
<div class="line">[Thursday 15 April 2010] [01:49:48] &lt;CIA-5&gt; clrzmq: 03Martin Sustrik 07master * r360286b 10/ clrzmq/zmq.cs : zmq_msg_t size if estimated correctly idependent on microarchitecture used - <a class="reference external" href="http://bit.ly/bDlyVB">http://bit.ly/bDlyVB</a></div>
<div class="line">[Thursday 15 April 2010] [10:42:12] &lt;sophacles&gt; do the latest versions of 0mq compile with -g automatically or something, im suddenly getting glibc backtraces when I blow stuff up.</div>
<div class="line">[Thursday 15 April 2010] [10:56:08] &lt;sustrik&gt;   hm, doesn&#8217;t seem to happen here</div>
<div class="line">[Thursday 15 April 2010] [10:56:09] &lt;sustrik&gt;   /bin/bash ../libtool  &#8211;tag=CXX   &#8211;mode=compile g++ -DHAVE_CONFIG_H -I.   -Werror -pedantic -Wall -D_GNU_SOURCE -D_REENTRANT -D_THREAD_SAFE   -fPIC -MT libzmq_la-downstream.lo -MD -MP -MF .deps/libzmq_la-downstream.Tpo -c -o libzmq_la-downstream.lo <a href="#id39"><span class="problematic" id="id40">`</span></a>test -f &#8216;downstream.cpp&#8217; || echo &#8216;./&#8217;<a href="#id41"><span class="problematic" id="id42">`</span></a>downstream.cpp</div>
<div class="line">[Thursday 15 April 2010] [10:59:33] &lt;sophacles&gt; hmm. must be some wierd debian thing then.</div>
<div class="line">[Thursday 15 April 2010] [10:59:47] &lt;sophacles&gt; there are definately a lot of those :)</div>
<div class="line">[Thursday 15 April 2010] [11:02:51] &lt;sustrik&gt;   do you see the -g option when you compile it?</div>
<div class="line">[Thursday 15 April 2010] [11:10:00] &lt;sophacles&gt; yeah, seems it ends up in CFLAGS in the makefile. Not sure how, but no big deal, i think it&#8217;s what provided the backtrace i recently posted so net win</div>
<div class="line">[Thursday 15 April 2010] [11:22:23] &lt;sustrik&gt;   ok, issue reproduced</div>
<div class="line">[Thursday 15 April 2010] [13:00:44] &lt;mato&gt;  sustrik/sophacles: configure/autotools use -g -O2 with gcc by default</div>
<div class="line">[Thursday 15 April 2010] [13:01:20] &lt;sustrik&gt;   mato: it doesn&#8217;t seem to appear in the command line, see above</div>
<div class="line">[Thursday 15 April 2010] [13:02:15] &lt;mato&gt;  sustrik: that&#8217;s because that command line is not the real compile command, just some libtool/automake dependency-foo</div>
<div class="line">[Thursday 15 April 2010] [13:02:26] &lt;sustrik&gt;   aaah</div>
<div class="line">[Thursday 15 April 2010] [13:02:46] &lt;sustrik&gt;   btw, that makes the binary pretty large, no?</div>
<div class="line">[Thursday 15 April 2010] [13:02:55] &lt;mato&gt;  yes</div>
<div class="line">[Thursday 15 April 2010] [13:03:08] &lt;sustrik&gt;   does it affect resident memory footprint?</div>
<div class="line">[Thursday 15 April 2010] [13:03:25] &lt;mato&gt;  yes</div>
<div class="line">[Thursday 15 April 2010] [13:03:38] &lt;sustrik&gt;   shouldn&#8217;t we turn it off then?</div>
<div class="line">[Thursday 15 April 2010] [13:03:46] &lt;mato&gt;  definitely not by default</div>
<div class="line">[Thursday 15 April 2010] [13:04:02] &lt;sustrik&gt;   can it be turned off?</div>
<div class="line">[Thursday 15 April 2010] [13:05:01] &lt;mato&gt;  not right now, we could add a &#8211;disable-debug or similar option to configure</div>
<div class="line">[Thursday 15 April 2010] [13:05:08] &lt;mato&gt;  which would drop the -g</div>
<div class="line">[Thursday 15 April 2010] [13:05:37] &lt;mato&gt;  also, distribution packagers tend to muck with this</div>
<div class="line">[Thursday 15 April 2010] [13:06:03] &lt;mato&gt;  so for example on debian you will get libzmq0 which is the library w/o debugging symbols and libzmq-dbg or similar which includes them</div>
<div class="line">[Thursday 15 April 2010] [13:06:10] &lt;mato&gt;  i&#8217;m not sure of the exact details</div>
<div class="line">[Thursday 15 April 2010] [13:06:39] &lt;sustrik&gt;   what i mean is that we advertise small memory footprint, so we should at least document how to achieve it...</div>
<div class="line">[Thursday 15 April 2010] [13:07:31] &lt;sustrik&gt;   maybe alongside the instructions for building from git</div>
<div class="line">[Thursday 15 April 2010] [13:11:50] &lt;mato&gt;  hmm, maybe, i don&#8217;t want to muck with it right now</div>
<div class="line">[Thursday 15 April 2010] [13:12:03] &lt;mato&gt;  gets in the way of &#8220;real work&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:14:09] &lt;mato&gt;  sustrik: since you asked:</div>
<div class="line">[Thursday 15 April 2010] [13:14:15] &lt;mato&gt;  [dezo:.libs]$ ls -l libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:15] &lt;mato&gt;  -rwxr-xr-x 1 mato users 1996994 2010-04-15 19:13 libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:24] &lt;mato&gt;  [dezo:.libs]$ strip libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:25] &lt;mato&gt;  [dezo:.libs]$ ls -l libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:25] &lt;mato&gt;  -rwxr-xr-x 1 mato users 260880 2010-04-15 19:14 libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:34] &lt;mato&gt;  (amd64, w/o pgm)</div>
<div class="line">[Thursday 15 April 2010] [13:14:47] &lt;sustrik&gt;   that&#8217;s -g vs. no g?</div>
<div class="line">[Thursday 15 April 2010] [13:15:04] &lt;mato&gt;  no, that&#8217;s the same library, then i strip the debugging symbols from it</div>
<div class="line">[Thursday 15 April 2010] [13:15:19] &lt;sustrik&gt;   size down by 85%</div>
<div class="line">[Thursday 15 April 2010] [13:15:24] &lt;mato&gt;  yes, of course</div>
<div class="line">[Thursday 15 April 2010] [13:15:45] &lt;mato&gt;  C++ debugging symbols especially take up a lot of space</div>
<div class="line">[Thursday 15 April 2010] [13:16:02] &lt;sustrik&gt;   what about a one-line warning alongside the build instructions?</div>
<div class="line">[Thursday 15 April 2010] [13:16:09] &lt;mato&gt;  what warning?</div>
<div class="line">[Thursday 15 April 2010] [13:16:14] &lt;mato&gt;  what are you warning about?</div>
<div class="line">[Thursday 15 April 2010] [13:16:35] &lt;sustrik&gt;   &#8220;default build contains debugging symbols and thus can take a lot of space&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:16:50] &lt;sustrik&gt;   &#8220;turn if off if you care&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:17:33] &lt;mato&gt;  &#8220;strip your binaries and libzmq.so if you care&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:17:40] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 15 April 2010] [13:17:54] &lt;mato&gt;  you will get people asking &#8220;what is strip&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:18:04] &lt;mato&gt;  anyway, whatever, feel free</div>
<div class="line">[Thursday 15 April 2010] [13:19:43] &lt;mato&gt;  the reason it&#8217;s not the default is if you strip the library/binaries you will not get useful backtraces of any kind</div>
<div class="line">[Thursday 15 April 2010] [13:19:52] &lt;sustrik&gt;   i know</div>
<div class="line">[Thursday 15 April 2010] [13:20:23] &lt;sustrik&gt;   i just dont like false advertising: &#8220;Is thin. The core requires just a couple of pages in resident memory.&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:20:37] &lt;mato&gt;  it&#8217;s your advertising :-)</div>
<div class="line">[Thursday 15 April 2010] [13:20:48] &lt;sustrik&gt;   i&#8217;ve measured it :|</div>
<div class="line">[Thursday 15 April 2010] [13:20:48] &lt;mato&gt;  260k still != &#8220;a couple of pages&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:21:11] &lt;sustrik&gt;   not all of that seems to go to memory</div>
<div class="line">[Thursday 15 April 2010] [13:21:31] &lt;sustrik&gt;   there&#8217;s a lot of linking info afaiu</div>
<div class="line">[Thursday 15 April 2010] [13:21:45] &lt;mato&gt;  of course</div>
<div class="line">[Thursday 15 April 2010] [13:21:52] &lt;mato&gt;  there are ways to measure this</div>
<div class="line">[Thursday 15 April 2010] [13:22:05] &lt;sustrik&gt;   yup</div>
<div class="line">[Thursday 15 April 2010] [13:22:08] &lt;mato&gt;  you could write a couple of paragraphs and link to them from the &#8220;advertisement&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:22:20] &lt;sustrik&gt;   hm</div>
<div class="line">[Thursday 15 April 2010] [13:22:33] &lt;sustrik&gt;   seems like work</div>
<div class="line">[Thursday 15 April 2010] [13:22:37] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 15 April 2010] [13:22:39] &lt;mato&gt;  :-)</div>
<div class="line">[Thursday 15 April 2010] [13:23:08] &lt;sustrik&gt;   i&#8217;ll put it on my todo list</div>
<div class="line">[Thursday 15 April 2010] [13:23:28] &lt;mato&gt;  that&#8217;s always a good way of resolving &#8220;work&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:24:05] &lt;mato&gt;  anyway, let&#8217;s wait and see what proposal ph comes up with for the zeromq.org page, he has been promising something</div>
<div class="line">[Thursday 15 April 2010] [18:31:10] &lt;mikko&gt; a lot of changes going into 2.0.7 which also break bwc in places</div>
<div class="line">[Thursday 15 April 2010] [18:31:19] &lt;mikko&gt; should it really be 2.1.0 or 3.0.0?</div>
<div class="line">[Thursday 15 April 2010] [19:00:08] &lt;mato&gt;  mikko: nope, this is why 2.0.6 is still called &#8220;Beta&#8221;</div>
<div class="line">[Thursday 15 April 2010] [19:00:29] &lt;mato&gt;  mikko: the &#8220;Beta&#8221; refers to API/ABI stability rather than code stability.</div>
<div class="line">[Thursday 15 April 2010] [19:09:03] &lt;mikko&gt; mato: just to check, this is correct format: <a class="reference external" href="http://valokuva.org/~mikko/0001-Import-redhat-packaging.patch">http://valokuva.org/~mikko/0001-Import-redhat-packaging.patch</a> ?</div>
<div class="line">[Thursday 15 April 2010] [19:23:36] &lt;mikko&gt; im going to sleep for a while</div>
<div class="line">[Thursday 15 April 2010] [19:23:38] &lt;mikko&gt; -&gt;</div>
<div class="line">[Friday 16 April 2010] [03:53:49] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rd524c4e 10/ doc/zmq_setsockopt.txt : fix of documentation typo - <a class="reference external" href="http://bit.ly/cawYnX">http://bit.ly/cawYnX</a></div>
<div class="line">[Friday 16 April 2010] [04:21:06] &lt;mato&gt;    mikko: that patch looks good to me, yes</div>
<div class="line">[Friday 16 April 2010] [04:21:39] &lt;mikko&gt;   mato: is sed -i portable?</div>
<div class="line">[Friday 16 April 2010] [04:21:43] &lt;mikko&gt;   or is it gnuism</div>
<div class="line">[Friday 16 April 2010] [04:29:43] &lt;mato&gt;    mikko: the POSIX manpage for sed doesn&#8217;t mention -i</div>
<div class="line">[Friday 16 April 2010] [04:29:54] &lt;mikko&gt;   bummer</div>
<div class="line">[Friday 16 April 2010] [04:30:26] &lt;mikko&gt;   sed .. orig  &gt; f.tmp &amp;&amp; cat f.tmp &gt; orig &amp;&amp; rm f.tmp i guess</div>
<div class="line">[Friday 16 April 2010] [04:31:03] &lt;mato&gt;    something like that; i did use RPM packaging on non-Linux systems years ago but i wonder if anyone else does that :)</div>
<div class="line">[Friday 16 April 2010] [04:33:07] &lt;mikko&gt;   i would think it would be safe to assume gsed for now</div>
<div class="line">[Friday 16 April 2010] [04:33:30] &lt;mikko&gt;   &#8220;there is gnuism in linux build files&#8221; kinda makes sense</div>
<div class="line">[Friday 16 April 2010] [05:37:46] &lt;mikko&gt;   redhat packaging sent to lists</div>
<div class="line">[Friday 16 April 2010] [05:38:05] &lt;mikko&gt;   let me know if anything else is needed, i got full day of meetings but should be back this evening</div>
<div class="line">[Friday 16 April 2010] [05:40:06] &lt;mato&gt;    will do, thanks</div>
<div class="line">[Friday 16 April 2010] [07:17:26] &lt;sjampoo&gt; I know hardly anything about multicast, but zmq makes it so easy to use. Are there any pointers somewhere with more information about multicast?</div>
<div class="line">[Friday 16 April 2010] [07:17:40] &lt;sjampoo&gt; Specifically recommendations / its limitations?</div>
<div class="line">[Friday 16 April 2010] [07:18:45] &lt;sjampoo&gt; I am afraid i&#8217;ll run into problems when i create lots of multicast channels, but don&#8217;t know if there is any reason to.</div>
<div class="line">[Friday 16 April 2010] [07:19:42] &lt;sjampoo&gt; fe, i read somewhere that a NIC can handle 15 addresses fine but will into problems when needing to handle more than 100.</div>
<div class="line">[Friday 16 April 2010] [07:21:21] &lt;sustrik&gt; sjampoo: multicast is not easy to manage</div>
<div class="line">[Friday 16 April 2010] [07:21:40] &lt;sustrik&gt; if you don&#8217;t really need it don&#8217;t use ti</div>
<div class="line">[Friday 16 April 2010] [07:21:42] &lt;sustrik&gt; it*</div>
<div class="line">[Friday 16 April 2010] [07:23:40] &lt;sjampoo&gt; aha, so i really should invest some time in the app logic instead of just dumping it on the network.</div>
<div class="line">[Friday 16 April 2010] [07:26:11] &lt;sustrik&gt; ok, multicast:</div>
<div class="line">[Friday 16 April 2010] [07:26:14] &lt;sustrik&gt; 1. only on LAN</div>
<div class="line">[Friday 16 April 2010] [07:26:35] &lt;sustrik&gt; 2. use it only if your traffic exceeds the capacity of the LAN</div>
<div class="line">[Friday 16 April 2010] [07:26:53] &lt;sustrik&gt; 3. you need high-end networking harware</div>
<div class="line">[Friday 16 April 2010] [07:27:12] &lt;sustrik&gt; 4. you can still easily kill your network by overloading it with multicast packets</div>
<div class="line">[Friday 16 April 2010] [07:28:05] &lt;sustrik&gt; 0mq makes it easy NOT to use multicast, simply use PUB/SUB sockets on top of TCP and what you get is basically multicast semantics</div>
<div class="line">[Friday 16 April 2010] [07:30:57] &lt;guido_g&gt; for the price of higher system load, one should mention that</div>
<div class="line">[Friday 16 April 2010] [07:30:57] &lt;sjampoo&gt; I agree with that, but you still need some sort of DS to manage the socket connections, when using multicast you could just dump it on a channel and let the network figure it out. That makes it so tempting.</div>
<div class="line">[Friday 16 April 2010] [07:31:59] &lt;guido_g&gt; what about something unicast on top of udp? would at least make lots of subscriptions more ressource friendly, wouldn&#8217;t it?</div>
<div class="line">[Friday 16 April 2010] [07:37:43] &lt;sjampoo&gt; ill stay away from multicast for now, thanks for the info</div>
<div class="line">[Friday 16 April 2010] [07:37:50] &lt;sustrik&gt; sjampoo: you can do the same thing with PUB socket, no? Just dump your data to the socket and let 0mq do the work</div>
<div class="line">[Friday 16 April 2010] [07:37:56] &lt;sustrik&gt; you are welcome</div>
<div class="line">[Friday 16 April 2010] [07:39:04] &lt;sjampoo&gt; sustrik, well with multicast you could have 2 servers publish to a channel and a single subscriber all without extra logic</div>
<div class="line">[Friday 16 April 2010] [07:39:17] &lt;sjampoo&gt; In unicast you need to subscribe to the 2 servers</div>
<div class="line">[Friday 16 April 2010] [07:39:23] &lt;sustrik&gt; ah, multicast bus</div>
<div class="line">[Friday 16 April 2010] [07:39:47] &lt;sjampoo&gt; yes, thats really tempting</div>
<div class="line">[Friday 16 April 2010] [07:39:50] &lt;sustrik&gt; consider that that moves a lot of logic to your application</div>
<div class="line">[Friday 16 April 2010] [07:40:00] &lt;sustrik&gt; who does the message come from?</div>
<div class="line">[Friday 16 April 2010] [07:40:05] &lt;sustrik&gt; what should i do with it?</div>
<div class="line">[Friday 16 April 2010] [07:40:32] &lt;sustrik&gt; what if one of the senders fails while i am in the middle of transaction</div>
<div class="line">[Friday 16 April 2010] [07:40:33] &lt;sustrik&gt; etc.</div>
<div class="line">[Friday 16 April 2010] [07:42:33] &lt;guido_g&gt; sorry for my ignorance, but the other transports also have issues w/ the probs shown, right?</div>
<div class="line">[Friday 16 April 2010] [07:43:20] &lt;sjampoo&gt; Doesn&#8217;t zmq take care of the nasty parts already?</div>
<div class="line">[Friday 16 April 2010] [07:44:04] &lt;sustrik&gt; what i meant is that several publishers publishing to the same &#8220;group&#8221; is almost an antipattern</div>
<div class="line">[Friday 16 April 2010] [07:44:42] &lt;sustrik&gt; it can be used in some constrained scenarios</div>
<div class="line">[Friday 16 April 2010] [07:44:46] &lt;sjampoo&gt; i am thinking about distributed logging fe</div>
<div class="line">[Friday 16 April 2010] [07:45:07] &lt;guido_g&gt; ahh, here the bus semantic is really useful, imho</div>
<div class="line">[Friday 16 April 2010] [07:45:21] &lt;sustrik&gt; well, then you have just one logger no?</div>
<div class="line">[Friday 16 April 2010] [07:45:26] &lt;guido_g&gt; no</div>
<div class="line">[Friday 16 April 2010] [07:45:51] &lt;guido_g&gt; think about specialised clients that do filtering, storing etc.</div>
<div class="line">[Friday 16 April 2010] [07:46:21] &lt;sjampoo&gt; exactly</div>
<div class="line">[Friday 16 April 2010] [07:46:28] &lt;guido_g&gt; i.e. one could attach a special looger to the system to find a bug w/o changeing hte behaviour of the system</div>
<div class="line">[Friday 16 April 2010] [07:48:03] &lt;sustrik&gt; sure, if you don&#8217;t care about system producing log messages all the time, even when not needed, it should work</div>
<div class="line">[Friday 16 April 2010] [07:48:57] &lt;guido_g&gt; this is what&#8217;s recommended anyway</div>
<div class="line">[Friday 16 April 2010] [07:49:42] &lt;guido_g&gt; most of the larger sites don&#8217;t have log-levels anymore, when it&#8217;s true what&#8217;s published about them</div>
<div class="line">[Friday 16 April 2010] [07:50:40] &lt;guido_g&gt; infoq.com and highscalability.com do have articels/videos about that topic</div>
<div class="line">[Friday 16 April 2010] [07:51:04] &lt;sustrik&gt; feel free to post the links on the mailing list</div>
<div class="line">[Friday 16 April 2010] [07:51:20] &lt;guido_g&gt; ok</div>
<div class="line">[Friday 16 April 2010] [07:51:43] &lt;guido_g&gt; does posting via gmane work? i&#8217;m  reading via gmane</div>
<div class="line">[Friday 16 April 2010] [07:52:13] &lt;sustrik&gt; no idea, give it a try</div>
<div class="line">[Friday 16 April 2010] [07:52:19] &lt;guido_g&gt; i&#8217;ll do</div>
<div class="line">[Friday 16 April 2010] [09:20:27] &lt;sustrik&gt; guid_g: no lock?</div>
<div class="line">[Friday 16 April 2010] [09:20:29] &lt;sustrik&gt; luck*</div>
<div class="line">[Friday 16 April 2010] [09:21:36] &lt;guido_g&gt; sustrik: lock?</div>
<div class="line">[Friday 16 April 2010] [09:21:51] &lt;guido_g&gt; luck with what?</div>
<div class="line">[Friday 16 April 2010] [09:22:17] &lt;sustrik&gt; sending the email?</div>
<div class="line">[Friday 16 April 2010] [09:22:18] &lt;guido_g&gt; if you meen the links, i just came home from work and started the search</div>
<div class="line">[Friday 16 April 2010] [09:22:28]    * guido_g should type faster :)</div>
<div class="line">[Friday 16 April 2010] [09:22:45] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 16 April 2010] [09:23:04] &lt;guido_g&gt; <a class="reference external" href="http://delicious.com/guido_g/logging">http://delicious.com/guido_g/logging</a>  &lt;- in principle :)</div>
<div class="line">[Friday 16 April 2010] [09:23:21] &lt;guido_g&gt; but i&#8217;ll write a wrap-up</div>
<div class="line">[Friday 16 April 2010] [09:24:03] &lt;sustrik&gt; thanks</div>
<div class="line">[Friday 16 April 2010] [10:18:55] &lt;guido_g&gt; sustrik: news posting sent</div>
<div class="line">[Friday 16 April 2010] [10:33:22] &lt;sustrik&gt; nothing arrived yet.. let&#8217;s wait a while</div>
<div class="line">[Friday 16 April 2010] [10:33:46] &lt;guido_g&gt; yep, sure</div>
<div class="line">[Friday 16 April 2010] [10:37:56] &lt;guido_g&gt; btw, we talked about lots of servers, right? this is the current status of _lots_: <a class="reference external" href="http://www.intac.net/a-comparison-of-dedicated-servers-by-company_2010-04-13/">http://www.intac.net/a-comparison-of-dedicated-servers-by-company_2010-04-13/</a>   :)</div>
<div class="line">[Friday 16 April 2010] [10:42:31] &lt;sustrik&gt; still, if all the 1M google servers would start logging using multicast :)</div>
<div class="line">[Friday 16 April 2010] [10:43:00] &lt;guido_g&gt; hmmm...</div>
<div class="line">[Friday 16 April 2010] [10:43:33] &lt;guido_g&gt; at least, multicast would be much more prominent then</div>
<div class="line">[Friday 16 April 2010] [11:02:10] &lt;jomofo&gt;  Is something akin to TLS out of scope for 0MQ?   (Just performing thought experiments to better understand the architecture)</div>
<div class="line">[Friday 16 April 2010] [11:02:54] &lt;sustrik&gt; jomofo: what&#8217;s the idea?</div>
<div class="line">[Friday 16 April 2010] [11:05:11] &lt;jomofo&gt;  sustrik: Just thinking for a health care application or something along those lines you might want authentication and encryption on the wire.  Just wondering if it&#8217;s within the architectural constraints of 0mq to provide a TLS transport, or if this is something you need to do in the application protocol</div>
<div class="line">[Friday 16 April 2010] [11:05:51] &lt;jomofo&gt;  Not really an enhancement request, per se, but just trying to wrap my head around some of the abstractions</div>
<div class="line">[Friday 16 April 2010] [11:06:29] &lt;mikko&gt;   the question about TLS seems to come up fairly often</div>
<div class="line">[Friday 16 April 2010] [11:07:39] &lt;sustrik&gt; yep, but i&#8217;m not the right person to ask, i have very little security experience</div>
<div class="line">[Friday 16 April 2010] [11:07:52] &lt;sustrik&gt; maybe discussing it on list would help?</div>
<div class="line">[Friday 16 April 2010] [11:08:42] &lt;jomofo&gt;  sure, i&#8217;ll send something to the list</div>
<div class="line">[Saturday 17 April 2010] [03:44:54] &lt;guido_g&gt;   just compild 0mq, tried epgm, doesn&#8217;t work <em>grml</em></div>
<div class="line">[Saturday 17 April 2010] [03:55:18] &lt;guido_g&gt;   <a class="reference external" href="mailto:guido&#37;&#52;&#48;nathan">guido<span>&#64;</span>nathan</a>:~/prog/apps/zmq-trunk/perf$ ./local_thr epgm://eth0;239.1.1.1:5000 800 1000000</div>
<div class="line">[Saturday 17 April 2010] [03:55:18] &lt;guido_g&gt;   Assertion failed: false (pgm_socket.cpp:130)</div>
<div class="line">[Saturday 17 April 2010] [03:55:18] &lt;guido_g&gt;   Aborted</div>
<div class="line">[Saturday 17 April 2010] [03:55:26] &lt;guido_g&gt;   should work, shouldn&#8217;t it?</div>
<div class="line">[Saturday 17 April 2010] [04:02:05]      * guido_g stupid</div>
<div class="line">[Saturday 17 April 2010] [04:02:06] &lt;guido_g&gt;   forgot to set ZMQ_RATE</div>
<div class="line">[Saturday 17 April 2010] [04:50:45] &lt;sustrik&gt;   guido_g: still, it shouldn&#8217;t assert</div>
<div class="line">[Saturday 17 April 2010] [04:51:10] &lt;sustrik&gt;   can you possibly find out what error did OpenPGM returned that caused the assert?</div>
<div class="line">[Saturday 17 April 2010] [04:52:30] &lt;guido_g&gt;   omg, multicast kills the wifi router :(</div>
<div class="line">[Saturday 17 April 2010] [04:52:50] &lt;sustrik&gt;   yes, it does :)</div>
<div class="line">[Saturday 17 April 2010] [04:53:15] &lt;sustrik&gt;   set the rate to very low to keep it alive</div>
<div class="line">[Saturday 17 April 2010] [04:53:56] &lt;guido_g&gt;   i turned wifi of, now it works</div>
<div class="line">[Saturday 17 April 2010] [04:54:26] &lt;guido_g&gt;   <em>sigh</em></div>
<div class="line">[Saturday 17 April 2010] [04:54:35] &lt;guido_g&gt;   the world is not ready for multicast</div>
<div class="line">[Saturday 17 April 2010] [04:56:20] &lt;guido_g&gt;   <a class="reference external" href="mailto:guido&#37;&#52;&#48;nathan">guido<span>&#64;</span>nathan</a>:~/prog/apps/zmq-trunk/perf$ ./local_thr epgm://192.168.1.5;239.1.1.1:5000 500 100000</div>
<div class="line">[Saturday 17 April 2010] [04:56:20] &lt;guido_g&gt;   receiving first</div>
<div class="line">[Saturday 17 April 2010] [04:56:21] &lt;guido_g&gt;   received first</div>
<div class="line">[Saturday 17 April 2010] [04:56:21] &lt;guido_g&gt;   starting</div>
<div class="line">[Saturday 17 April 2010] [04:56:22] &lt;guido_g&gt;   msg_count: 10000</div>
<div class="line">[Saturday 17 April 2010] [04:56:24] &lt;guido_g&gt;   msg_count: 20000</div>
<div class="line">[Saturday 17 April 2010] [04:56:26] &lt;guido_g&gt;   <strong>* glibc detected *</strong> /home/guido/prog/apps/zmq-trunk/perf/.libs/lt-local_thr: malloc(): memory corruption: 0xb7205100 <a href="#id43"><span class="problematic" id="id44">**</span></a><a href="#id45"><span class="problematic" id="id46">*</span></a></div>
<div class="line">[Saturday 17 April 2010] [04:56:29] &lt;guido_g&gt;   message of incorrect size received</div>
<div class="line">[Saturday 17 April 2010] [04:56:31] &lt;guido_g&gt;   ======= Backtrace: =========</div>
<div class="line">[Saturday 17 April 2010] [04:56:33] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6[0xb7c7e824]</div>
<div class="line">[Saturday 17 April 2010] [04:56:37] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6[0xb7c812cb]</div>
<div class="line">[Saturday 17 April 2010] [04:56:39] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6[0xb7c82072]</div>
<div class="line">[Saturday 17 April 2010] [04:56:41] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6(__libc_memalign+0x9c)[0xb7c8369c]</div>
<div class="line">[Saturday 17 April 2010] [04:56:43] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6(posix_memalign+0x57)[0xb7c838e7]</div>
<div class="line">[Saturday 17 April 2010] [04:56:45] &lt;guido_g&gt;   /lib/libglib-2.0.so.0[0xb7ba506e]</div>
<div class="line">[Saturday 17 April 2010] [04:56:47] &lt;guido_g&gt;   /lib/libglib-2.0.so.0(g_slice_alloc+0x663)[0xb7ba6003]</div>
<div class="line">[Saturday 17 April 2010] [04:56:49] &lt;guido_g&gt;   /lib/libglib-2.0.so.0(g_slist_prepend+0x12)[0xb7ba7202]</div>
<div class="line">[Saturday 17 April 2010] [04:56:55] &lt;guido_g&gt;   nice one</div>
<div class="line">[Saturday 17 April 2010] [04:58:57] &lt;sustrik&gt;   looks like OpenPGM bug, 0MQ itself doesn&#8217;t use glib</div>
<div class="line">[Saturday 17 April 2010] [04:59:31] &lt;guido_g&gt;   ah thx</div>
<div class="line">[Saturday 17 April 2010] [05:04:36] &lt;guido_g&gt;   ok, and now for the python bindings...</div>
<div class="line">[Saturday 17 April 2010] [05:19:03] &lt;guido_g&gt;   yes! success! :)</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   message size: 500 [B]</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   array count: 100000</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   mean throughput: 97087 [msg/s]</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   mean throughput: 388.350 [Mb/s]</div>
<div class="line">[Saturday 17 April 2010] [05:20:43] &lt;sustrik&gt;   :)</div>
<div class="line">[Saturday 17 April 2010] [05:21:24]      * guido_g is happy</div>
<div class="line">[Tuesday 20 April 2010] [06:58:26] &lt;sjampoo&gt;    Quick question, zmq_msg_init_data(3) is relatively cheap to call right?</div>
<div class="line">[Tuesday 20 April 2010] [06:59:44] &lt;sjampoo&gt;    run in to the following issue, while working with Python bindings and non-copy. I want resend a message received with zmq_recv, but i think i have to reinit that with zmq_msg_init_data to get access to the callback</div>
<div class="line">[Tuesday 20 April 2010] [07:01:34] &lt;sjampoo&gt;    Because if i just resend the received message again without explicitly closing+reinitiazing it i can run in all sorts of problems.</div>
<div class="line">[Tuesday 20 April 2010] [07:07:14] &lt;sustrik&gt;    sjampoo: i don&#8217;t know how pyzmq works</div>
<div class="line">[Tuesday 20 April 2010] [07:07:21] &lt;sustrik&gt;    however, with raw C API</div>
<div class="line">[Tuesday 20 April 2010] [07:07:31] &lt;sustrik&gt;    sending a message deinitialises it</div>
<div class="line">[Tuesday 20 April 2010] [07:07:56] &lt;sustrik&gt;    there&#8217;s no copy made, existing copy is sent to I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:08:14] &lt;sustrik&gt;    if you want to send the same message to multiple sockets</div>
<div class="line">[Tuesday 20 April 2010] [07:08:19] &lt;sustrik&gt;    you have to copy it</div>
<div class="line">[Tuesday 20 April 2010] [07:08:25] &lt;sustrik&gt;    (zmg_msg_copy)</div>
<div class="line">[Tuesday 20 April 2010] [07:08:39] &lt;sjampoo&gt;    aha</div>
<div class="line">[Tuesday 20 April 2010] [07:08:48] &lt;sustrik&gt;    note that zmq_msg_copy actually just adds refcount rather than doing deep copy</div>
<div class="line">[Tuesday 20 April 2010] [07:09:09] &lt;sjampoo&gt;    Yes.</div>
<div class="line">[Tuesday 20 April 2010] [07:09:36] &lt;sjampoo&gt;    why is the callback function attached to the message and not to the close call?</div>
<div class="line">[Tuesday 20 April 2010] [07:13:04] &lt;sustrik&gt;    message is handed to the I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:13:18] &lt;sustrik&gt;    once that&#8217;s done user cannot access it</div>
<div class="line">[Tuesday 20 April 2010] [07:13:30] &lt;sustrik&gt;    so he has no way to supply the free function</div>
<div class="line">[Tuesday 20 April 2010] [07:32:51] &lt;sjampoo&gt;    hmm it makes a little bit more sense now, i never understood the existence of msg_copy and msg_move</div>
<div class="line">[Tuesday 20 April 2010] [07:33:38] &lt;sjampoo&gt;    So, what do you mean with de-initializes the message on send? What would happen if you would still send the message with the C-api?</div>
<div class="line">[Tuesday 20 April 2010] [07:35:43] &lt;sustrik&gt;    it would be empty</div>
<div class="line">[Tuesday 20 April 2010] [07:35:53] &lt;sustrik&gt;    the whole point is zero-copy</div>
<div class="line">[Tuesday 20 April 2010] [07:35:59] &lt;sustrik&gt;    message object owns a buffer</div>
<div class="line">[Tuesday 20 April 2010] [07:36:17] &lt;sustrik&gt;    when you send the message, buffer is passed to the I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:36:34] &lt;sustrik&gt;    message has no buffer any more</div>
<div class="line">[Tuesday 20 April 2010] [07:39:21] &lt;sjampoo&gt;    Okay, say i&#8217;ll have a message M1 i will have to copy it to M2 before sending M1 out. Now what does happen if i send M1?</div>
<div class="line">[Tuesday 20 April 2010] [07:39:52] &lt;sjampoo&gt;    M2 is just a pointer to M1 I believe with an added ref. count to M1</div>
<div class="line">[Tuesday 20 April 2010] [07:44:43] &lt;sustrik&gt;    exactly</div>
<div class="line">[Tuesday 20 April 2010] [07:46:12] &lt;sjampoo&gt;    but then, if i have send M1 out, M2 would point to a deinitialzed message right?</div>
<div class="line">[Tuesday 20 April 2010] [07:52:08] &lt;sustrik&gt;    actually bith M1 and M2 point to shared buffer</div>
<div class="line">[Tuesday 20 April 2010] [07:52:46] &lt;sustrik&gt;    ref count is 2</div>
<div class="line">[Tuesday 20 April 2010] [07:52:50] &lt;sustrik&gt;    then you send M1</div>
<div class="line">[Tuesday 20 April 2010] [07:53:06] &lt;sustrik&gt;    M1 is deinitialised, but the buffer is passed to I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:53:09] &lt;sustrik&gt;    refcount is still 2</div>
<div class="line">[Tuesday 20 April 2010] [07:53:40] &lt;sustrik&gt;    when I/O thread sends the message it doesn&#8217;t need it any more so it decerements the refcount and drops the pointer</div>
<div class="line">[Tuesday 20 April 2010] [07:53:51] &lt;sustrik&gt;    now the refcount is 1</div>
<div class="line">[Tuesday 20 April 2010] [07:54:02] &lt;sustrik&gt;    (only M2 points to the buffer)</div>
<div class="line">[Tuesday 20 April 2010] [08:32:12] &lt;sjampoo&gt;    ok, got it. thanks for the info.</div>
<div class="line">[Tuesday 20 April 2010] [09:37:40] &lt;pieter_hintjens&gt;    anyone familiar with MPI or OpenMP?</div>
<div class="line">[Tuesday 20 April 2010] [09:37:48] &lt;pieter_hintjens&gt;    especially how these compare to 0MQ...</div>
<div class="line">[Tuesday 20 April 2010] [10:04:07] &lt;sustrik&gt;    pieter: i have a dim idea</div>
<div class="line">[Tuesday 20 April 2010] [10:11:44] &lt;sophacles&gt;  pieter_hintjens: compare in a numbers/performance sense or compare in a user interface (api) sense?</div>
<div class="line">[Tuesday 20 April 2010] [10:12:36] &lt;sophacles&gt;  in the case of the latter, 0mq is nicer for pure messaging, but mpi does cool rpc and call balancing stuff for you... it really depends on the use case</div>
<div class="line">[Tuesday 20 April 2010] [10:14:33] &lt;sophacles&gt;  also mpi has semantics for addressing remote memory a bit easier, so its real nice for distributed matrix multiplies and the like</div>
<div class="line">[Tuesday 20 April 2010] [10:16:58] &lt;sophacles&gt;  the downside to mpi is that unless you really need the features for parallel computing, it is way too complex.</div>
<div class="line">[Tuesday 20 April 2010] [10:41:26] &lt;pieter_hintjens&gt;    sophacles: thanks, this is helpful</div>
<div class="line">[Tuesday 20 April 2010] [10:43:52] &lt;sophacles&gt;  y/w</div>
<div class="line">[Tuesday 20 April 2010] [12:13:26] &lt;<a href="#id121"><span class="problematic" id="id122">mikko__</span></a>&gt;    hello</div>
<div class="line">[Tuesday 20 April 2010] [12:13:38] &lt;sophacles&gt;  oh cool: talk tomorrow titled: Towards Secure Message Systems. ill send the list my notes :) (also if anyone is in the middle of illinois i can send you details)</div>
<div class="line">[Tuesday 20 April 2010] [12:15:31] &lt;sustrik&gt;    <a href="#id121"><span class="problematic" id="id123">mikko__</span></a>: hi</div>
<div class="line">[Tuesday 20 April 2010] [12:15:51] &lt;sustrik&gt;    sophacles: sounds interesting</div>
<div class="line">[Tuesday 20 April 2010] [12:25:14] &lt;sophacles&gt;  yeah the abstract is a little.. er.. abstrct, so im only 50% on if it actually applies to 0mq but there is also pizza there, so i figured at worst i still get lunch out of it.</div>
<div class="line">[Wednesday 21 April 2010] [06:22:28] &lt;sjampoo&gt;  awesome, got PyZMQ working without message copying, even with acquiring and releasing the GIL it isn&#8217;t slower on small messages and about twice as fast on messages larger than 512K</div>
<div class="line">[Wednesday 21 April 2010] [06:22:57] &lt;sustrik&gt;  sjampoo: is that a patch to pyzmq?</div>
<div class="line">[Wednesday 21 April 2010] [06:23:03] &lt;sjampoo&gt;  yes</div>
<div class="line">[Wednesday 21 April 2010] [06:23:20] &lt;sjampoo&gt;  haven&#8217;t committed it yet.</div>
<div class="line">[Wednesday 21 April 2010] [06:23:48] &lt;sjampoo&gt;  I want to have a chat with Brian first changed a few things</div>
<div class="line">[Wednesday 21 April 2010] [06:24:07] &lt;sustrik&gt;  can it in be made switching from copy to non-copy depending on message size?</div>
<div class="line">[Wednesday 21 April 2010] [06:24:52] &lt;sjampoo&gt;  I don&#8217;t see any reason too, it is even faster on smaller messages!</div>
<div class="line">[Wednesday 21 April 2010] [06:25:04] &lt;sjampoo&gt;  So there hardly seems to be any locking overhead</div>
<div class="line">[Wednesday 21 April 2010] [06:25:12] &lt;sustrik&gt;  ah, i see</div>
<div class="line">[Wednesday 21 April 2010] [06:25:32] &lt;sustrik&gt;  anyway, nice work!</div>
<div class="line">[Wednesday 21 April 2010] [06:26:02] &lt;sjampoo&gt;  it works now with a message object instead of a string</div>
<div class="line">[Wednesday 21 April 2010] [06:26:12] &lt;sjampoo&gt;  so you could also pass it directly a buffer</div>
<div class="line">[Wednesday 21 April 2010] [06:26:49] &lt;sustrik&gt;  how does the buffer get deallocated?</div>
<div class="line">[Wednesday 21 April 2010] [06:26:54] &lt;sjampoo&gt;  I think this will allow for neat stuff such as Tee-ing from a regular TCP socket buffer and than feeding it to ZMQ</div>
<div class="line">[Wednesday 21 April 2010] [06:27:13] &lt;sjampoo&gt;  I use the callback function to decrease the reference count</div>
<div class="line">[Wednesday 21 April 2010] [06:27:30] &lt;sjampoo&gt;  (the python ref. count)</div>
<div class="line">[Wednesday 21 April 2010] [06:27:34] &lt;sustrik&gt;  python refcount?</div>
<div class="line">[Wednesday 21 April 2010] [06:27:38] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 21 April 2010] [06:28:11] &lt;sustrik&gt;  doesn&#8217;t python object about decreasing the ref count from a different thread?</div>
<div class="line">[Wednesday 21 April 2010] [06:28:16] &lt;sjampoo&gt;  and i artificially increase the python ref. count prior to setting the call back</div>
<div class="line">[Wednesday 21 April 2010] [06:28:23] &lt;sjampoo&gt;  Well the callback acquires the GIL</div>
<div class="line">[Wednesday 21 April 2010] [06:28:41] &lt;sjampoo&gt;  (The Python Global Interpreter Lock)</div>
<div class="line">[Wednesday 21 April 2010] [06:29:07] &lt;sjampoo&gt;  so there only runs one Python Thread at all time</div>
<div class="line">[Wednesday 21 April 2010] [06:29:58] &lt;sustrik&gt;  the lock is held all the time from invoking send to message being deallocated?</div>
<div class="line">[Wednesday 21 April 2010] [06:30:51] &lt;sustrik&gt;  ... to free function being called?</div>
<div class="line">[Wednesday 21 April 2010] [06:30:58] &lt;sjampoo&gt;  the lock gets released on blocking calls</div>
<div class="line">[Wednesday 21 April 2010] [06:31:09] &lt;sjampoo&gt;  and on calls to zmq_send / zmq_recv etc..</div>
<div class="line">[Wednesday 21 April 2010] [06:31:52] &lt;sjampoo&gt;  not sure if that answers your question</div>
<div class="line">[Wednesday 21 April 2010] [06:32:11] &lt;sustrik&gt;  what i meant is &#8216;how long it the lock held&#8217;</div>
<div class="line">[Wednesday 21 April 2010] [06:32:30] &lt;sjampoo&gt;  Oh right you are worrying about me overwriting the buffer right prior to the message being dequeued by ZMQ ?</div>
<div class="line">[Wednesday 21 April 2010] [06:32:41] &lt;sustrik&gt;  say if the peer is offline and the message cannot be sent for a prolonged time</div>
<div class="line">[Wednesday 21 April 2010] [06:33:06] &lt;sustrik&gt;  i meant, what if message stays in a queue for an hour</div>
<div class="line">[Wednesday 21 April 2010] [06:33:19] &lt;sjampoo&gt;  Then the message object will stay alive</div>
<div class="line">[Wednesday 21 April 2010] [06:33:25] &lt;sustrik&gt;  does that block all python threads for 1 hour?</div>
<div class="line">[Wednesday 21 April 2010] [06:33:31] &lt;sjampoo&gt;  No no</div>
<div class="line">[Wednesday 21 April 2010] [06:37:30] &lt;sjampoo&gt;  Python will just keep on running and doing its stuff in its own separate thread, meanwhile all Python references set by the user might be gone, but Python will not garbage collect it.</div>
<div class="line">[Wednesday 21 April 2010] [06:37:56] &lt;sjampoo&gt;  the message object itself is immutable</div>
<div class="line">[Wednesday 21 April 2010] [06:40:27] &lt;sustrik&gt;  great</div>
<div class="line">[Wednesday 21 April 2010] [06:42:23] &lt;sjampoo&gt;  The only thing that could mess it up is when you have an external blocking call which doesn&#8217;t release the GIL.</div>
<div class="line">[Wednesday 21 April 2010] [06:42:48] &lt;sjampoo&gt;  This would of course block the Python thread, but I think it could also block the ZMQ thread as the callback will hang.</div>
<div class="line">[Wednesday 21 April 2010] [06:47:22] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 21 April 2010] [06:59:10] &lt;guido_g&gt;  whooo... sounds great!</div>
<div class="line">[Wednesday 21 April 2010] [11:32:56] &lt;sjampoo&gt;  i&#8217;ve plotted the latency results btw <a class="reference external" href="http://nichol.as/wp-content/latency.png">http://nichol.as/wp-content/latency.png</a></div>
<div class="line">[Wednesday 21 April 2010] [11:34:27] &lt;guido_g&gt;  looks good</div>
<div class="line">[Wednesday 21 April 2010] [11:48:31] &lt;sjampoo&gt;  right now i have an api something like this: m = Message(&#8216;blabla&#8217;)</div>
<div class="line">[Wednesday 21 April 2010] [11:48:37] &lt;sjampoo&gt;  s.send(m)</div>
<div class="line">[Wednesday 21 April 2010] [11:48:45] &lt;sjampoo&gt;  I wonder if Message is the right name</div>
<div class="line">[Wednesday 21 April 2010] [11:49:42] &lt;sjampoo&gt;  On the one hand, if you send a message you do not really have it anymore</div>
<div class="line">[Wednesday 21 April 2010] [11:50:38] &lt;sjampoo&gt;  just as in real life, but it might be a little bit counter intuitive if you come across it for the first time in the object sense</div>
<div class="line">[Thursday 22 April 2010] [06:06:30] &lt;sjampoo&gt;   Lets say I have multiple servers and i want to simulate the multicast bus, would it make sense to have them discover each other by using multicast and then have all the servers connect to each other?</div>
<div class="line">[Thursday 22 April 2010] [06:09:09] &lt;sjampoo&gt;   Now, if i also want to have several &#8216;message groups&#8217; (in a pub/sub setting) i can set the message filter with setsockopt. But i will have to do this for all the server it subscribes to, right?</div>
<div class="line">[Thursday 22 April 2010] [07:48:36] &lt;b0gg1e&gt;    Hello!</div>
<div class="line">[Thursday 22 April 2010] [07:49:30] &lt;b0gg1e&gt;    Is it possible to transplant a socket pointer between threads?</div>
<div class="line">[Thursday 22 April 2010] [07:49:56] &lt;b0gg1e&gt;    How does one use zeromq in an actor-like runtime environment where lightweight threads get scheduled to arbitrary threads?</div>
<div class="line">[Thursday 22 April 2010] [08:06:01] &lt;b0gg1e&gt;    I&#8217;m asking this because I wonder what would be the best way to write zmq bindings for the go language.  Go has lightweight processes that get scheduled by the runtime to some thread pool. So one can not easily ensure that the thread that is using a socket is the one that created it.  What I would like to say is: &#8220;Use this socket from now on in this thread, I promise to not use it from some other thread concurrently.&#8221;</div>
<div class="line">[Thursday 22 April 2010] [09:27:57] &lt;guido_g&gt;   re</div>
<div class="line">[Thursday 22 April 2010] [11:59:05] &lt;bgranger&gt;  sustrik: hi</div>
<div class="line">[Friday 23 April 2010] [15:29:34] &lt;sophacles&gt;   Does 0mq have a google summer of code thing?</div>
<div class="line">[Friday 23 April 2010] [15:31:02] &lt;sophacles&gt;   also, regarding research stuff previously discussed, I was given the greenlight to put some stuff to our students mailing list, but need a bit more in the way of guided ideas for research.</div>
<div class="line">[Friday 23 April 2010] [15:31:45] &lt;sophacles&gt;   also there may be some other interest but thats waiting on responses to followup emails :)</div>
<div class="line">[Friday 23 April 2010] [15:32:20] &lt;sophacles&gt;   (i finally cornered some people if you couldn&#8217;t tell &#8211; i now hate the all-hands meetings slightly less)</div>
<div class="line">[Friday 23 April 2010] [17:07:04] &lt;jomofo&gt;  are there any known race conditions in zeromq2 HEAD for TCP transport over REQ/REP sockets?</div>
<div class="line">[Friday 23 April 2010] [17:08:55] &lt;jomofo&gt;  I have a single-threaded server, multi-threaded client using jzmq ... Can both crash and deadlock JVM pretty consistently against HEAD, but not against 2.0.6 release</div>
<div class="line">[Saturday 24 April 2010] [16:42:13] &lt;unomystEz&gt; hey all</div>
<div class="line">[Saturday 24 April 2010] [16:42:41] &lt;unomystEz&gt; anyone here developing ultra high-frequency pipelines with zeromq?</div>
<div class="line">[Saturday 24 April 2010] [18:20:38] &lt;sustrik&gt;   hi</div>
<div class="line">[Saturday 24 April 2010] [18:20:49]      * sustrik is back from abroad</div>
<div class="line">[Saturday 24 April 2010] [18:21:39] &lt;sustrik&gt;   sophacles: the research ideas - sure, i&#8217;ll put some down tomorrow, however, we&#8217;ll have to discuss it to make it suitable for students</div>
<div class="line">[Saturday 24 April 2010] [18:21:46] &lt;sustrik&gt;   no summer of code, sorry</div>
<div class="line">[Saturday 24 April 2010] [18:21:58] &lt;sustrik&gt;   i&#8217;ve missed the deadline this year :(</div>
<div class="line">[Saturday 24 April 2010] [18:22:19] &lt;sustrik&gt;   jomofo: please, send the report to the mailing list</div>
<div class="line">[Saturday 24 April 2010] [18:22:25] &lt;sustrik&gt;   or open an issue at github</div>
<div class="line">[Saturday 24 April 2010] [18:30:45] &lt;jomofo&gt;    sustrik: I think I will just build on top of 2.0.6 and wait for your next beta/RC before bug testing it ... Problem is, I&#8217;m sort of learning the Linux C++ toolchain on the fly here, so I don&#8217;t want to bother you with issues with my setup</div>
<div class="line">[Saturday 24 April 2010] [18:31:17] &lt;jomofo&gt;    PS, welcome back. Where did you go?</div>
<div class="line">[Saturday 24 April 2010] [21:33:05] &lt;unomystEz&gt; hey guys</div>
<div class="line">[Saturday 24 April 2010] [21:33:49] &lt;unomystEz&gt; anyone know of a good document that describes low-latency networking at the kernel level? ie, packet comes in the NIC, through the driver, in the kernel, etc..</div>
<div class="line">[Sunday 25 April 2010] [01:39:14] &lt;sustrik&gt; jomofo: ok, it&#8217;s your call</div>
<div class="line">[Sunday 25 April 2010] [01:39:26] &lt;sustrik&gt; back from london</div>
<div class="line">[Sunday 25 April 2010] [01:39:56] &lt;sustrik&gt; <a href="#id121"><span class="problematic" id="id124">mikko__</span></a>: sorry, it was just a roundtrip, no evening spare for having a beer</div>
<div class="line">[Sunday 25 April 2010] [01:40:22] &lt;sustrik&gt; unomystEz: it depends on operating system</div>
<div class="line">[Sunday 25 April 2010] [01:42:01] &lt;sustrik&gt; for Linux there&#8217;s say &#8220;TCP/IP architecture, design and Implementation in Linux&#8221; book</div>
<div class="line">[Sunday 25 April 2010] [01:42:05] &lt;sustrik&gt; etc.</div>
<div class="line">[Sunday 25 April 2010] [02:26:33] &lt;sustrik&gt; unomystEz: btw, i recall an interesting presentation about Open-MX</div>
<div class="line">[Sunday 25 April 2010] [02:26:51] &lt;sustrik&gt; not a standard kernel, rather kernel-bypass HPC networking</div>
<div class="line">[Sunday 25 April 2010] [02:26:52] &lt;sustrik&gt; <a class="reference external" href="http://www.cse.scitech.ac.uk/disco/presentations/BriceGoglin.shtml">http://www.cse.scitech.ac.uk/disco/presentations/BriceGoglin.shtml</a></div>
<div class="line">[Sunday 25 April 2010] [09:04:41] &lt;CIA-5&gt;   zeromq2: 03Jon Dyte 07master * r7d9603d 10/ devices/zmq_queue/zmq_queue.cpp : Bug in zmq_queue fixed - <a class="reference external" href="http://bit.ly/bs03xP">http://bit.ly/bs03xP</a></div>
<div class="line">[Sunday 25 April 2010] [10:07:58] &lt;unomystEz&gt;   sustrik, interesting material</div>
<div class="line">[Sunday 25 April 2010] [10:08:26] &lt;sustrik&gt; depends on what you are interested in</div>
<div class="line">[Sunday 25 April 2010] [10:08:43] &lt;sustrik&gt; hacking networking stack in kernel?</div>
<div class="line">[Sunday 25 April 2010] [10:08:53] &lt;unomystEz&gt;   for now, I&#8217;m interested mostly in learning how the current TCP/IP stack is implemented in Linux</div>
<div class="line">[Sunday 25 April 2010] [10:09:10] &lt;unomystEz&gt;   and what the bottlenecks and scalability issues are</div>
<div class="line">[Sunday 25 April 2010] [10:09:14] &lt;sustrik&gt; ah, the book i&#8217;ve mentioned is pretty detailed</div>
<div class="line">[Sunday 25 April 2010] [10:09:17] &lt;unomystEz&gt;   with respect to both throughput and latency</div>
<div class="line">[Sunday 25 April 2010] [10:09:20] &lt;unomystEz&gt;   nice</div>
<div class="line">[Sunday 25 April 2010] [10:09:23] &lt;unomystEz&gt;   I&#8221;ll have to order it</div>
<div class="line">[Sunday 25 April 2010] [10:09:31] &lt;sustrik&gt; a bit boring but detailed :)</div>
<div class="line">[Sunday 25 April 2010] [10:09:48] &lt;sustrik&gt; also, i believe it&#8217;s about 2.4 kernel</div>
<div class="line">[Sunday 25 April 2010] [10:10:07] &lt;sustrik&gt; but the NW stack haven&#8217;t changed that much since</div>
<div class="line">[Sunday 25 April 2010] [10:10:08] &lt;unomystEz&gt;   im reading &#8216;Professional Linux Architecture&#8217; right now</div>
<div class="line">[Sunday 25 April 2010] [10:10:41] &lt;unomystEz&gt;                                            ^ Kernel</div>
<div class="line">[Sunday 25 April 2010] [10:10:46] &lt;sustrik&gt; also, the video i&#8217;ve sent the link to is worth viewing</div>
<div class="line">[Sunday 25 April 2010] [10:10:53] &lt;unomystEz&gt;   im reading the slides now</div>
<div class="line">[Sunday 25 April 2010] [10:10:53] &lt;sustrik&gt; the guy has heavy french accent</div>
<div class="line">[Sunday 25 April 2010] [10:10:56] &lt;unomystEz&gt;   haha</div>
<div class="line">[Sunday 25 April 2010] [10:11:05] &lt;sustrik&gt; but it&#8217;s rather relevant</div>
<div class="line">[Sunday 25 April 2010] [10:11:35] &lt;unomystEz&gt;   where are you from?</div>
<div class="line">[Sunday 25 April 2010] [10:11:39] &lt;sustrik&gt; europe</div>
<div class="line">[Sunday 25 April 2010] [10:11:42] &lt;sustrik&gt; slovakia</div>
<div class="line">[Sunday 25 April 2010] [10:11:44] &lt;unomystEz&gt;   nice</div>
<div class="line">[Sunday 25 April 2010] [10:11:57] &lt;unomystEz&gt;   I&#8217;m part slovakian</div>
<div class="line">[Sunday 25 April 2010] [10:12:01] &lt;unomystEz&gt;   miss the food</div>
<div class="line">[Sunday 25 April 2010] [10:12:13] &lt;sustrik&gt; ah</div>
<div class="line">[Sunday 25 April 2010] [10:12:20] &lt;sustrik&gt; where are you based now?</div>
<div class="line">[Sunday 25 April 2010] [10:12:25] &lt;unomystEz&gt;   NYC</div>
<div class="line">[Sunday 25 April 2010] [10:12:38] &lt;sustrik&gt; far away</div>
<div class="line">[Sunday 25 April 2010] [10:12:44] &lt;unomystEz&gt;   yup</div>
<div class="line">[Sunday 25 April 2010] [10:15:47] &lt;unomystEz&gt;   what are you guys using 0mq for?</div>
<div class="line">[Sunday 25 April 2010] [10:18:22] &lt;unomystEz&gt;   omg</div>
<div class="line">[Sunday 25 April 2010] [10:18:28] &lt;unomystEz&gt;   that&#8217;s the worst french accent I&#8217;ve ever heard</div>
<div class="line">[Sunday 25 April 2010] [10:26:40] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 25 April 2010] [10:26:58] &lt;unomystEz&gt;   im gonna go out and buy that book instead</div>
<div class="line">[Sunday 25 April 2010] [10:27:04] &lt;unomystEz&gt;   he doesn&#8217;t explain a lot of the concepts</div>
<div class="line">[Sunday 25 April 2010] [10:27:08] &lt;unomystEz&gt;   he&#8217;s basically just commenting on his slides</div>
<div class="line">[Sunday 25 April 2010] [10:27:24] &lt;sustrik&gt; yeah, but it&#8217;s more about high-perf</div>
<div class="line">[Sunday 25 April 2010] [10:27:34] &lt;sustrik&gt; the book is about how the standard stack works</div>
<div class="line">[Sunday 25 April 2010] [10:27:49] &lt;unomystEz&gt;   true</div>
<div class="line">[Sunday 25 April 2010] [10:27:55] &lt;sustrik&gt; not sure whether there&#8217;s relevant literature about high-perf networking</div>
<div class="line">[Sunday 25 April 2010] [10:28:00] &lt;sustrik&gt; in kernel</div>
<div class="line">[Sunday 25 April 2010] [10:28:06] &lt;unomystEz&gt;   well, i read the zeromq docs</div>
<div class="line">[Sunday 25 April 2010] [10:28:08] &lt;sustrik&gt; pretty small niche</div>
<div class="line">[Sunday 25 April 2010] [10:28:10] &lt;unomystEz&gt;   which were pretty good</div>
<div class="line">[Sunday 25 April 2010] [10:28:26] &lt;sustrik&gt; a bit messy and uncomplete though</div>
<div class="line">[Sunday 25 April 2010] [10:28:51] &lt;sustrik&gt; anyway, good resource are hard to be found in the area</div>
<div class="line">[Sunday 25 April 2010] [19:25:16] &lt;<a href="#id121"><span class="problematic" id="id125">mikko__</span></a>&gt; sustrik: ah, i guessed you are busy when visiting</div>
<div class="line">[Monday 26 April 2010] [02:33:13] &lt;sjampoo&gt; Hmm, i&#8217;m looking at pub.cpp. Shouldn&#8217;t the message flushing come before closing all the message objects? What if the ffn callback from zmq_msg_close clears the data?</div>
<div class="line">[Monday 26 April 2010] [02:47:34] &lt;sjampoo&gt; Ah got it, please ignore that last question.</div>
<div class="line">[Monday 26 April 2010] [03:28:01] &lt;sustrik&gt; sjampoo: :)</div>
<div class="line">[Monday 26 April 2010] [03:44:29] &lt;sjampoo&gt; Hmm if i just send my messages, i do not really need to close them right, as this gets done on a successful send anyway?</div>
<div class="line">[Monday 26 April 2010] [04:03:08] &lt;sustrik&gt; sjampoo: now you are speaking of internals of pub_t right?</div>
<div class="line">[Monday 26 April 2010] [04:03:36] &lt;sustrik&gt; consider this scenario:</div>
<div class="line">[Monday 26 April 2010] [04:03:47] &lt;sustrik&gt; user sends message with refcount 1</div>
<div class="line">[Monday 26 April 2010] [04:04:06] &lt;sustrik&gt; pub_t writes it to a pipe</div>
<div class="line">[Monday 26 April 2010] [04:04:16] &lt;sustrik&gt; leaves the refcount to be 1</div>
<div class="line">[Monday 26 April 2010] [04:04:54] &lt;sustrik&gt; it ommits close thus not decreasing the refcount</div>
<div class="line">[Monday 26 April 2010] [04:05:12] &lt;sustrik&gt; and inits user&#8217;s copy of the message to be blank</div>
<div class="line">[Monday 26 April 2010] [04:05:29] &lt;sustrik&gt; the refcount of the original message is still 1</div>
<div class="line">[Monday 26 April 2010] [04:06:16] &lt;sustrik&gt; but nows it refers to the pointer in the pipe rather than pointer in user&#8217;s zmq_msg_t object</div>
<div class="line">[Monday 26 April 2010] [04:12:14] &lt;sjampoo&gt; a-ha!</div>
<div class="line">[Monday 26 April 2010] [04:12:16] &lt;sjampoo&gt; thanks.</div>
<div class="line">[Monday 26 April 2010] [05:54:18] &lt;sustrik&gt; sjampoo: btw, if you find places like this in the code, where it&#8217;s not obvious what the code is doing feel free to write a comment explaining the behaviour and submit it as a patch</div>
<div class="line">[Monday 26 April 2010] [05:54:43] &lt;sustrik&gt; it&#8217;ll help improve overall quality of the codebase</div>
<div class="line">[Monday 26 April 2010] [10:51:23] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rbeffee9 10/ (8 files in 3 dirs): P2P renamed to PAIR - <a class="reference external" href="http://bit.ly/dCMQhz">http://bit.ly/dCMQhz</a></div>
<div class="line">[Monday 26 April 2010] [10:59:04] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r1ad6ade 10/ builds/msvc/libzmq/libzmq.vcproj : MSVC build fixed - <a class="reference external" href="http://bit.ly/cLmsJP">http://bit.ly/cLmsJP</a></div>
<div class="line">[Monday 26 April 2010] [11:42:09] &lt;CIA-5&gt;   rbzmq: 03Martin Sustrik 07master * r9f1b337 10/ (perf/local_lat.rb rbzmq.cpp): P2P renamed to PAIR - <a class="reference external" href="http://bit.ly/bs1QwB">http://bit.ly/bs1QwB</a></div>
<div class="line">[Monday 26 April 2010] [11:49:01] &lt;CIA-5&gt;   clrzmq: 03Martin Sustrik 07master * r52a9158 10/ clrzmq/zmq.cs : P2P renamed to PAIR - <a class="reference external" href="http://bit.ly/9fOAUO">http://bit.ly/9fOAUO</a></div>
<div class="line">[Monday 26 April 2010] [12:17:49] &lt;<a href="#id121"><span class="problematic" id="id126">mikko__</span></a>&gt; sustrik: there?</div>
<div class="line">[Monday 26 April 2010] [12:18:14] &lt;sustrik&gt; <a href="#id121"><span class="problematic" id="id127">nikko__</span></a>: yes, hi</div>
<div class="line">[Monday 26 April 2010] [12:18:27] &lt;<a href="#id121"><span class="problematic" id="id128">mikko__</span></a>&gt; <a class="reference external" href="http://valokuva.org/~mikko/iothreads/">http://valokuva.org/~mikko/iothreads/</a></div>
<div class="line">[Monday 26 April 2010] [12:18:31] &lt;<a href="#id121"><span class="problematic" id="id129">mikko__</span></a>&gt; might not be C++ish</div>
<div class="line">[Monday 26 April 2010] [12:18:50] &lt;<a href="#id121"><span class="problematic" id="id130">mikko__</span></a>&gt; noticed a TODO item</div>
<div class="line">[Monday 26 April 2010] [12:19:23] &lt;sustrik&gt; ah, i see</div>
<div class="line">[Monday 26 April 2010] [12:19:44] &lt;sustrik&gt; the ugly thing about it is that is has to be done at 3 places</div>
<div class="line">[Monday 26 April 2010] [12:20:25] &lt;<a href="#id121"><span class="problematic" id="id131">mikko__</span></a>&gt; yeah</div>
<div class="line">[Monday 26 April 2010] [12:20:32] &lt;sustrik&gt; jon dyte is working on merging all 3 devices into a single executable which would allow for having it at a single place</div>
<div class="line">[Monday 26 April 2010] [12:20:32] &lt;<a href="#id121"><span class="problematic" id="id132">mikko__</span></a>&gt; i guess it would be easy to write a macro</div>
<div class="line">[Monday 26 April 2010] [12:20:34] &lt;<a href="#id121"><span class="problematic" id="id133">mikko__</span></a>&gt; or something</div>
<div class="line">[Monday 26 April 2010] [12:20:44] &lt;<a href="#id121"><span class="problematic" id="id134">mikko__</span></a>&gt; that works as well</div>
<div class="line">[Monday 26 April 2010] [12:21:22] &lt;sustrik&gt; you may want to synchronise with him</div>
<div class="line">[Monday 26 April 2010] [12:21:38] &lt;sustrik&gt; he seems busy so we would surely appreciate patches like this one</div>
<div class="line">[Monday 26 April 2010] [12:21:55] &lt;<a href="#id121"><span class="problematic" id="id135">mikko__</span></a>&gt; im not sure how you are supposed to cast in C++</div>
<div class="line">[Monday 26 April 2010] [12:22:01] &lt;sustrik&gt; ()</div>
<div class="line">[Monday 26 April 2010] [12:22:04] &lt;sustrik&gt; (int) x</div>
<div class="line">[Monday 26 April 2010] [12:22:08] &lt;<a href="#id121"><span class="problematic" id="id136">mikko__</span></a>&gt; with const_cast, static_cast and reinterpret_cast</div>
<div class="line">[Monday 26 April 2010] [12:22:24] &lt;sustrik&gt; well, you mostly don&#8217;t need those</div>
<div class="line">[Monday 26 April 2010] [12:22:36] &lt;<a href="#id121"><span class="problematic" id="id137">mikko__</span></a>&gt; was reading about casts last night in C++</div>
<div class="line">[Monday 26 April 2010] [12:22:43] &lt;<a href="#id121"><span class="problematic" id="id138">mikko__</span></a>&gt; seems a lot more confusing than C :)</div>
<div class="line">[Monday 26 April 2010] [12:22:49] &lt;sustrik&gt; they are useful only for casting types with virtual function tables</div>
<div class="line">[Monday 26 April 2010] [12:23:05] &lt;sustrik&gt; ah, not so for const_cast</div>
<div class="line">[Monday 26 April 2010] [12:23:43] &lt;sustrik&gt; anyway, I would stick to (int) x</div>
<div class="line">[Monday 26 April 2010] [12:24:38] &lt;<a href="#id121"><span class="problematic" id="id139">mikko__</span></a>&gt; you can cast const char * with (int) ?</div>
<div class="line">[Monday 26 April 2010] [12:24:48] &lt;sustrik&gt; i mean (type) x</div>
<div class="line">[Monday 26 April 2010] [12:25:10] &lt;sustrik&gt; braces syntax</div>
<div class="line">[Monday 26 April 2010] [12:25:13] &lt;<a href="#id121"><span class="problematic" id="id140">mikko__</span></a>&gt; const char <a href="#id47"><span class="problematic" id="id48">*</span></a>foo = &#8220;123412423&#8221;; int x = (int) foo; ?</div>
<div class="line">[Monday 26 April 2010] [12:25:42] &lt;sustrik&gt; you&#8217;ll get numeric representation of the pointer to the string :)</div>
<div class="line">[Monday 26 April 2010] [12:26:01] &lt;<a href="#id121"><span class="problematic" id="id141">mikko__</span></a>&gt; yeah, that&#8217;s what i expected</div>
<div class="line">[Monday 26 April 2010] [12:26:22] &lt;sustrik&gt; atoi is OK</div>
<div class="line">[Monday 26 April 2010] [12:26:42] &lt;sustrik&gt; anyway, to give you some context</div>
<div class="line">[Monday 26 April 2010] [12:27:00] &lt;sustrik&gt; the xml files for devices should define a lot of properties</div>
<div class="line">[Monday 26 April 2010] [12:27:11] &lt;sustrik&gt; aside of io_threads, it&#8217;s all the socket options</div>
<div class="line">[Monday 26 April 2010] [12:27:39] &lt;sustrik&gt; so the code will be rather long</div>
<div class="line">[Monday 26 April 2010] [12:27:50] &lt;sustrik&gt; thus having it 3x in the codebase seems to be a bad idea</div>
<div class="line">[Monday 26 April 2010] [12:28:05] &lt;sustrik&gt; that&#8217;s why I would prefer to have devices merged first</div>
<div class="line">[Monday 26 April 2010] [12:28:19] &lt;sustrik&gt; then add the property-managing code</div>
<div class="line">[Monday 26 April 2010] [13:01:42] &lt;impl&gt;    <a href="#id121"><span class="problematic" id="id142">mikko__</span></a>: you should use intptr_t for that though</div>
<div class="line">[Monday 26 April 2010] [13:04:48] &lt;sustrik&gt; impl: i think this is only a theoretical discussion, no need for that kind of thing in the code</div>
<div class="line">[Monday 26 April 2010] [13:05:02] &lt;impl&gt;    ah</div>
<div class="line">[Monday 26 April 2010] [13:09:26] &lt;<a href="#id121"><span class="problematic" id="id143">mikko__</span></a>&gt; impl: i&#8217;m not storing a pointer</div>
<div class="line">[Monday 26 April 2010] [13:09:36] &lt;<a href="#id121"><span class="problematic" id="id144">mikko__</span></a>&gt; just casting const char * to integer</div>
<div class="line">[Monday 26 April 2010] [13:09:59] &lt;<a href="#id121"><span class="problematic" id="id145">mikko__</span></a>&gt; or i was wondering how do you cast that in C++</div>
<div class="line">[Monday 26 April 2010] [13:10:03] &lt;<a href="#id121"><span class="problematic" id="id146">mikko__</span></a>&gt; if there was some magic</div>
<div class="line">[Monday 26 April 2010] [17:02:45] &lt;ADruz&gt;   Can zeromq serve as a job queue system?</div>
<div class="line">[Monday 26 April 2010] [17:03:45] &lt;<a href="#id121"><span class="problematic" id="id147">mikko__</span></a>&gt; not really without added application logic</div>
<div class="line">[Monday 26 April 2010] [17:04:42] &lt;<a href="#id121"><span class="problematic" id="id148">mikko__</span></a>&gt; take a look at gearman or citrine scheduler if you want job queue / scheduling functionality</div>
<div class="line">[Monday 26 April 2010] [20:37:18] &lt;ADruz&gt;   <a href="#id121"><span class="problematic" id="id149">mikko__</span></a>: thanks</div>
<div class="line">[Monday 26 April 2010] [21:12:56] &lt;mike8901&gt;    How should I go about determining the proper value of io_threads?</div>
<div class="line">[Monday 26 April 2010] [21:47:57] &lt;mike8901&gt;    Is there any way to have multiple clients connect to a single TCP port(but be represented by multiple unicast sockets) with zmq?</div>
<div class="line">[Tuesday 27 April 2010] [00:31:14] &lt;rmancy&gt; Is this the best place to ask for help with my zeromq app?</div>
<div class="line">[Tuesday 27 April 2010] [00:31:58] &lt;mike8901&gt;   I guess so.</div>
<div class="line">[Tuesday 27 April 2010] [00:35:04] &lt;rmancy&gt; ok great :-) I&#8217;m trying to make a simple server/client with ZMQ_REP/ZMQ_REQ respectively. The server does the recv(), then send() seemingly fine, however my client after doing it&#8217;s initial send() to server (which the server gets), it sits there waiting for recv(). Is REP and REQ appropriate here ?</div>
<div class="line">[Tuesday 27 April 2010] [00:36:03] &lt;guido_g&gt;    yes, what did you expect?</div>
<div class="line">[Tuesday 27 April 2010] [00:37:09] &lt;rmancy&gt; guido_g, Well I&#8217;m expecting the client to actually recv the data that server sends back...however it doesn&#8217;t seem to receive it. Just seems to sit there _waiting_ to receive something, but doesn&#8217;t actually receive it</div>
<div class="line">[Tuesday 27 April 2010] [00:37:26] &lt;rmancy&gt; Have I missed something ?</div>
<div class="line">[Tuesday 27 April 2010] [00:37:42] &lt;guido_g&gt;    w/o seeing the code, hard to tell</div>
<div class="line">[Tuesday 27 April 2010] [00:38:06] &lt;guido_g&gt;    is there a packet filter in the way?</div>
<div class="line">[Tuesday 27 April 2010] [00:38:12] &lt;guido_g&gt;    aka firewall</div>
<div class="line">[Tuesday 27 April 2010] [00:38:19] &lt;rmancy&gt; guido_g, hmmmm.</div>
<div class="line">[Tuesday 27 April 2010] [00:38:23] &lt;rmancy&gt; will check</div>
<div class="line">[Tuesday 27 April 2010] [00:41:16] &lt;rmancy&gt; guido_g, nope</div>
<div class="line">[Tuesday 27 April 2010] [00:42:03] &lt;rmancy&gt; I&#8217;m running zmq_forwarder with a basic &#8216;in&#8217; and &#8216;out&#8217; elements that obviously work on the initial send, just not on the response it seems</div>
<div class="line">[Tuesday 27 April 2010] [00:42:06] &lt;guido_g&gt;    did you compare your code against the cookbok example?</div>
<div class="line">[Tuesday 27 April 2010] [00:42:25] &lt;guido_g&gt;    ouch</div>
<div class="line">[Tuesday 27 April 2010] [00:43:02] &lt;guido_g&gt;    as far as I understood, req/rep is meant for direct connection between the requesting client and the services</div>
<div class="line">[Tuesday 27 April 2010] [00:43:39] &lt;rmancy&gt; guido_g, oh ok. So no forwarder? I had used the forwarder from a SUB/PUB example, and just assumed I still needed it. Perhaps not though !</div>
<div class="line">[Tuesday 27 April 2010] [00:44:08] &lt;guido_g&gt;    not only perhaps</div>
<div class="line">[Tuesday 27 April 2010] [00:44:12] &lt;guido_g&gt;    see <a class="reference external" href="http://www.zeromq.org/docs:cookbook">http://www.zeromq.org/docs:cookbook</a></div>
<div class="line">[Tuesday 27 April 2010] [00:44:37] &lt;guido_g&gt;    a forwarder spreads out the messages to all subscribed entities</div>
<div class="line">[Tuesday 27 April 2010] [00:44:45] &lt;guido_g&gt;    req/rep works differently</div>
<div class="line">[Tuesday 27 April 2010] [00:51:03] &lt;rmancy&gt; guido_g, thanks. Didn&#8217;t realise :-(</div>
<div class="line">[Tuesday 27 April 2010] [00:51:46] &lt;rmancy&gt; I&#8217;m also not using &#8216;localhost&#8217; and &#8216;lo&#8217; as I get errors creating sockets on those. Using my public IP instead, but I don&#8217;t think that should have a bearing</div>
<div class="line">[Tuesday 27 April 2010] [00:52:11] &lt;rmancy&gt; or possible it does</div>
<div class="line">[Tuesday 27 April 2010] [00:52:16] &lt;guido_g&gt;    try 127.0.0.1, might be a naming issue</div>
<div class="line">[Tuesday 27 April 2010] [00:57:44] &lt;guido_g&gt;    i&#8217;m off, laters</div>
<div class="line">[Tuesday 27 April 2010] [00:58:02] &lt;rmancy&gt; guido_g, thanks, with that help i should be able to nut it out :-)</div>
<div class="line">[Tuesday 27 April 2010] [02:58:13] &lt;guido_g&gt;    re</div>
<div class="line">[Tuesday 27 April 2010] [08:20:06] &lt;rmancy&gt; Hi, anyone able to help with a simple zeromq prob I have ?</div>
<div class="line">[Tuesday 27 April 2010] [08:55:32] &lt;sustrik&gt;    rmancy: hi</div>
<div class="line">[Tuesday 27 April 2010] [08:55:38] &lt;sustrik&gt;    what&#8217;s the problem?</div>
<div class="line">[Tuesday 27 April 2010] [10:59:56] &lt;ka3ak&gt;  hello</div>
<div class="line">[Tuesday 27 April 2010] [11:00:10] &lt;ka3ak&gt;  can someone help me out with a zmq issue</div>
<div class="line">[Tuesday 27 April 2010] [11:00:41] &lt;sustrik&gt;    ka3ak: hello</div>
<div class="line">[Tuesday 27 April 2010] [11:00:51] &lt;ka3ak&gt;  hi</div>
<div class="line">[Tuesday 27 April 2010] [11:01:05] &lt;sustrik&gt;    what&#8217;s the problem?</div>
<div class="line">[Tuesday 27 April 2010] [11:01:36] &lt;ka3ak&gt;  i have a simple server set up with a ZMQ_REP socket ...</div>
<div class="line">[Tuesday 27 April 2010] [11:01:56] &lt;ka3ak&gt;  once in a while the recv will hang</div>
<div class="line">[Tuesday 27 April 2010] [11:02:31] &lt;ka3ak&gt;  the client send an enourmous amount of messages, so i&#8217;m not sure if the queue is getting backed up or what</div>
<div class="line">[Tuesday 27 April 2010] [11:02:42] &lt;sustrik&gt;    nope</div>
<div class="line">[Tuesday 27 April 2010] [11:02:48] &lt;sustrik&gt;    looks like a bug</div>
<div class="line">[Tuesday 27 April 2010] [11:02:51] &lt;ka3ak&gt;  i&#8217;ve tried increasing the high water mark and swap, but nothing works</div>
<div class="line">[Tuesday 27 April 2010] [11:03:06] &lt;sustrik&gt;    can you send the test program to the mailing list?</div>
<div class="line">[Tuesday 27 April 2010] [11:03:19] &lt;sustrik&gt;    or open an issue in a bug tracker?</div>
<div class="line">[Tuesday 27 April 2010] [11:03:30] &lt;ka3ak&gt;  sure</div>
<div class="line">[Tuesday 27 April 2010] [11:03:33] &lt;sustrik&gt;    thx</div>
<div class="line">[Tuesday 27 April 2010] [11:03:43] &lt;ka3ak&gt;  just to give you a bit more info on the hack to get around this ...</div>
<div class="line">[Tuesday 27 April 2010] [11:04:28] &lt;ka3ak&gt;  while (1) { message_t req; if (!sock_.recv(&amp;req, ZMQ_NONBLOCK)) continue; }    but this will spike up the cpu to 100 for a second or so for obvious reasons</div>
<div class="line">[Tuesday 27 April 2010] [11:05:06] &lt;ka3ak&gt;  but this fixes the problem albeit with a short pause and cpu spike on the server side of things</div>
<div class="line">[Tuesday 27 April 2010] [11:05:34] &lt;sustrik&gt;    ok, i see</div>
<div class="line">[Tuesday 27 April 2010] [11:36:02] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * rad6fa9d 10/ (src/rep.cpp src/req.cpp src/xrep.cpp src/xrep.hpp): initial version of multi-hop REQ/REP - <a class="reference external" href="http://bit.ly/cbReUI">http://bit.ly/cbReUI</a></div>
<div class="line">[Tuesday 27 April 2010] [15:38:34] &lt;mike8901&gt;   If I send a message, and the message gets deallocated immediately after I send the message, will the message still go through OK?</div>
<div class="line">[Tuesday 27 April 2010] [15:38:54] &lt;mike8901&gt;   i.e. will send copy the message?</div>
<div class="line">[Tuesday 27 April 2010] [15:45:58] &lt;sustrik&gt;    mike8901: it won&#8217;t copy the message, it will take possession of it</div>
<div class="line">[Tuesday 27 April 2010] [15:46:11] &lt;sustrik&gt;    there&#8217;s nothing left for you to deallocate</div>
<div class="line">[Tuesday 27 April 2010] [15:53:19] &lt;mike8901&gt;   so I can allocate a message_t on the stack, copy the data into the message, and send it, without worrying about what happens to the data?</div>
<div class="line">[Tuesday 27 April 2010] [16:00:53] &lt;sustrik&gt;    yes</div>
<div class="line">[Tuesday 27 April 2010] [16:04:02] &lt;mike8901&gt;   ok, cool :)</div>
<div class="line">[Tuesday 27 April 2010] [17:40:54] &lt;bgranger&gt;   sustrik:  I am going to be working on the Python bindings some more and have a few questions about release schedules...</div>
<div class="line">[Tuesday 27 April 2010] [18:20:07] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r506679b 10/ (6 files in 4 dirs): Renaming P2P -&gt; PAIR. - <a class="reference external" href="http://bit.ly/9MC0TY">http://bit.ly/9MC0TY</a></div>
<div class="line">[Tuesday 27 April 2010] [18:22:02] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r5177246 10/ (5 files in 2 dirs): Finish renaming of P2P -&gt; PAIR in filenames. - <a class="reference external" href="http://bit.ly/92CZZQ">http://bit.ly/92CZZQ</a></div>
<div class="line">[Tuesday 27 April 2010] [18:36:39] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * rbb7c339 10/ (zmq/_zmq.c zmq/_zmq.pyx zmq/tests/test_poll.py): Removed stopwatch stuff and fixed select. - <a class="reference external" href="http://bit.ly/9GT4M8">http://bit.ly/9GT4M8</a></div>
<div class="line">[Tuesday 27 April 2010] [18:39:53] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r16b0c20 10/ setup.py : Adding zmq.tests to setup.py packages. - <a class="reference external" href="http://bit.ly/ceobEw">http://bit.ly/ceobEw</a></div>
<div class="line">[Tuesday 27 April 2010] [19:26:10] &lt;<a href="#id121"><span class="problematic" id="id150">mikko__</span></a>&gt;    sustrik: hi</div>
<div class="line">[Tuesday 27 April 2010] [19:26:20] &lt;<a href="#id121"><span class="problematic" id="id151">mikko__</span></a>&gt;    <a class="reference external" href="http://pastie.org/938296">http://pastie.org/938296</a></div>
<div class="line">[Tuesday 27 April 2010] [19:26:28] &lt;<a href="#id121"><span class="problematic" id="id152">mikko__</span></a>&gt;    ending up to this with git HEAD</div>
<div class="line">[Tuesday 27 April 2010] [19:31:30] &lt;<a href="#id121"><span class="problematic" id="id153">mikko__</span></a>&gt;    ah</div>
<div class="line">[Tuesday 27 April 2010] [19:31:32] &lt;<a href="#id121"><span class="problematic" id="id154">mikko__</span></a>&gt;    my mistake</div>
<div class="line">[Tuesday 27 April 2010] [20:28:20] &lt;mike8901&gt;   Is it possible to do a read and a write simultaneously to a socket without breaking anything?</div>
<div class="line">[Tuesday 27 April 2010] [20:31:16] &lt;mike8901&gt;   I am doing nonblocking reads, if that makes any difference.</div>
<div class="line">[Tuesday 27 April 2010] [22:00:38] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * rb0352c8 10/ (zmq/_zmq.c zmq/_zmq.pyx):</div>
<div class="line">[Tuesday 27 April 2010] [22:00:39] &lt;CIA-15&gt; pyzmq: Fixing ctypedef of int64_t.</div>
<div class="line">[Tuesday 27 April 2010] [22:00:39] &lt;CIA-15&gt; pyzmq: Thanks to Lisandro Dalcin for the tip. - <a class="reference external" href="http://bit.ly/9ReFJF">http://bit.ly/9ReFJF</a></div>
<div class="line">[Tuesday 27 April 2010] [22:03:26] &lt;CIA-15&gt; pyzmq: 03Fernando Perez 07master * r811389d 10/ (examples/pubsub/topics_pub.py examples/pubsub/topics_sub.py): New example for publish/subscribe sockets with multiple topics. - <a class="reference external" href="http://bit.ly/9nMYsJ">http://bit.ly/9nMYsJ</a></div>
<div class="line">[Tuesday 27 April 2010] [22:12:32] &lt;rmancy&gt; Hi, does anyone know of a c++ example using ZMQ_REP ?</div>
<div class="line">[Tuesday 27 April 2010] [22:13:47] &lt;rmancy&gt; I was able to get the ZMQ_REP/ZMQ_REQ example using C/C++ fine, but looking for a C++ example using ZMQ_REP so I can find out what I&#8217;m doing wrong</div>
<div class="line">[Tuesday 27 April 2010] [22:31:07] &lt;mike8901&gt;   What&#8217;s the best way to have a vector of zmq::socket_t&#8217;s? Just have pointers to the vectors?</div>
<div class="line">[Tuesday 27 April 2010] [22:31:11] &lt;mike8901&gt;   <a href="#id49"><span class="problematic" id="id50">**</span></a>pointers to the sockets</div>
<div class="line">[Tuesday 27 April 2010] [22:31:15] &lt;mike8901&gt;   (or smart pointers)</div>
<div class="line">[Tuesday 27 April 2010] [23:47:01] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r792a621 10/ (zmq/_zmq.c zmq/_zmq.pyx): Added support for getsockopt and multipart messages. - <a class="reference external" href="http://bit.ly/cgZOqv">http://bit.ly/cgZOqv</a></div>
<div class="line">[Wednesday 28 April 2010] [01:42:31] &lt;sustrik&gt;  re</div>
<div class="line">[Wednesday 28 April 2010] [01:43:38] &lt;sustrik&gt;  mike8901: simultaneous read &amp; write? each socket can be used only from a single thread</div>
<div class="line">[Wednesday 28 April 2010] [01:43:49] &lt;mike8901&gt; okay</div>
<div class="line">[Wednesday 28 April 2010] [01:53:12] &lt;sustrik&gt;  mike8901: as for storing zmq::socket_t&#8217;s in vector</div>
<div class="line">[Wednesday 28 April 2010] [01:53:25] &lt;sustrik&gt;  they actually _are_ smart pointers</div>
<div class="line">[Wednesday 28 April 2010] [01:53:46] &lt;sustrik&gt;  they cannot be stored in a vector because they are not assignable</div>
<div class="line">[Wednesday 28 April 2010] [01:54:06] &lt;sustrik&gt;  i.e. they have no copy constructor and assignment operator</div>
<div class="line">[Wednesday 28 April 2010] [01:54:20] &lt;mike8901&gt; yes, I figured that out</div>
<div class="line">[Wednesday 28 April 2010] [01:54:26] &lt;sustrik&gt;  if you add those two, i&#8217;ll accept the patch to c++ binding</div>
<div class="line">[Wednesday 28 April 2010] [01:55:17] &lt;mike8901&gt; from my understanding, smart pointers aren&#8217;t _SUPPOSED_ to be stored in a vector</div>
<div class="line">[Wednesday 28 April 2010] [01:55:32] &lt;sustrik&gt;  what you can do is add reference count</div>
<div class="line">[Wednesday 28 April 2010] [01:55:48] &lt;sustrik&gt;  so when socket_t is copied reference count increases by 1</div>
<div class="line">[Wednesday 28 April 2010] [01:55:51] &lt;mike8901&gt; that&#8217;s not my main concern</div>
<div class="line">[Wednesday 28 April 2010] [01:56:09] &lt;mike8901&gt; I ended up just storing pointers to zmq::socket_t&#8217;s in the vector</div>
<div class="line">[Wednesday 28 April 2010] [01:56:25] &lt;sustrik&gt;  yes, can be done that way as well</div>
<div class="line">[Wednesday 28 April 2010] [01:56:57] &lt;sustrik&gt;  although you have to delete them manually afterwards</div>
<div class="line">[Wednesday 28 April 2010] [01:57:05] &lt;mike8901&gt; yes, of course</div>
<div class="line">[Wednesday 28 April 2010] [01:57:23] &lt;mike8901&gt; C++ would be so much nicer if it had -retain and -release like Obj-C</div>
<div class="line">[Wednesday 28 April 2010] [01:57:39] &lt;sustrik&gt;  that&#8217;s what refcounting can do</div>
<div class="line">[Wednesday 28 April 2010] [01:57:52] &lt;mike8901&gt; yeah, it would be nice if refcounting was builtin</div>
<div class="line">[Wednesday 28 April 2010] [01:58:44] &lt;mike8901&gt; btw, are there any plans to make zeromq BSD/MIT licensed?</div>
<div class="line">[Wednesday 28 April 2010] [01:58:44] &lt;sustrik&gt;  well, it can at least be done for socket_t</div>
<div class="line">[Wednesday 28 April 2010] [01:59:29] &lt;sustrik&gt;  in theory, once it&#8217;s established enough to make sure that contributions are flowing back to the project automatically</div>
<div class="line">[Wednesday 28 April 2010] [01:59:50] &lt;sustrik&gt;  at the present the fear is that people would patch it and don&#8217;t contribute back</div>
<div class="line">[Wednesday 28 April 2010] [02:00:12] &lt;sustrik&gt;  why do you need that?</div>
<div class="line">[Wednesday 28 April 2010] [02:00:15] &lt;mike8901&gt; I&#8217;m currently using zeromq for a project with clang(basically implementing distcc at a layer tightly coupled with the compiler)</div>
<div class="line">[Wednesday 28 April 2010] [02:00:35] &lt;mike8901&gt; I&#8217;m using zeromq because it&#8217;s easy to use and I&#8217;m running up against a tight deadline</div>
<div class="line">[Wednesday 28 April 2010] [02:00:38] &lt;mike8901&gt; (plus it&#8217;s fast)</div>
<div class="line">[Wednesday 28 April 2010] [02:00:50] &lt;mike8901&gt; but clang won&#8217;t accept my patch if it uses an LGPL library</div>
<div class="line">[Wednesday 28 April 2010] [02:00:54] &lt;mike8901&gt; everything has to be BSD licensed</div>
<div class="line">[Wednesday 28 April 2010] [02:01:09] &lt;sustrik&gt;  static linking?</div>
<div class="line">[Wednesday 28 April 2010] [02:01:20] &lt;mike8901&gt; I think they won&#8217;t even allow dynamic linking</div>
<div class="line">[Wednesday 28 April 2010] [02:01:28] &lt;mike8901&gt; (I&#8217;m dynamically linking now)</div>
<div class="line">[Wednesday 28 April 2010] [02:01:35] &lt;mike8901&gt; basically, their policy is BSD only</div>
<div class="line">[Wednesday 28 April 2010] [02:01:42] &lt;sustrik&gt;  there&#8217;s a clause explicitly allowing for static linking in 0mq license text</div>
<div class="line">[Wednesday 28 April 2010] [02:02:00] &lt;sustrik&gt;  anyway, if it&#8217;s their policy, there&#8217;s little to do at the moment</div>
<div class="line">[Wednesday 28 April 2010] [02:02:31] &lt;sustrik&gt;  you&#8217;ll have to keep the patch out of the tree</div>
<div class="line">[Wednesday 28 April 2010] [02:02:35] &lt;mike8901&gt; ok, I guess I&#8217;ll stick with zmq now, and hopefully by the time to patch back to mainline comes, zmq will be licensed for the process :)</div>
<div class="line">[Wednesday 28 April 2010] [02:02:50] &lt;mike8901&gt; <a href="#id51"><span class="problematic" id="id52">*</span></a>licensed using BSD</div>
<div class="line">[Wednesday 28 April 2010] [02:03:50] &lt;sustrik&gt;  hm, btw, what good is messaging layer in a compiler?</div>
<div class="line">[Wednesday 28 April 2010] [02:05:45] &lt;<a href="#id256"><span class="problematic" id="id257">rmancy_</span></a>&gt;  I&#8217;m sure this is a silly Q. Can I make zmq libs from the git repo? I checked it out the other day, but didn&#8217;t have much luck.</div>
<div class="line">[Wednesday 28 April 2010] [02:06:16] &lt;sustrik&gt;  <a href="#id258"><span class="problematic" id="id259">rmancy_</span></a>: what went wrong?</div>
<div class="line">[Wednesday 28 April 2010] [02:06:59] &lt;<a href="#id260"><span class="problematic" id="id261">rmancy_</span></a>&gt;  sustrik, first off I&#8217;m not too ofey with C Makefiles. It&#8217;s Been a while. Well there didn&#8217;t seem to be a configure script, so I just did autoconfigure. Is this right ?</div>
<div class="line">[Wednesday 28 April 2010] [02:07:13] &lt;sustrik&gt;  yes</div>
<div class="line">[Wednesday 28 April 2010] [02:07:23] &lt;sustrik&gt;  the script is generated so it&#8217;s not stored in git</div>
<div class="line">[Wednesday 28 April 2010] [02:07:38] &lt;sustrik&gt;  ./autogen.sh</div>
<div class="line">[Wednesday 28 April 2010] [02:07:43] &lt;sustrik&gt;  ./configure</div>
<div class="line">[Wednesday 28 April 2010] [02:07:47] &lt;sustrik&gt;  make</div>
<div class="line">[Wednesday 28 April 2010] [02:08:24] &lt;<a href="#id262"><span class="problematic" id="id263">rmancy_</span></a>&gt;  sustrik, excellent. Thanks so much.</div>
<div class="line">[Wednesday 28 April 2010] [02:08:32] &lt;sustrik&gt;  np</div>
<div class="line">[Wednesday 28 April 2010] [02:31:44] &lt;<a href="#id264"><span class="problematic" id="id265">rmancy_</span></a>&gt;  sustrik, I&#8217;ve been having a problem with a very simple ZMQ_REP/ZMQ_REQ app. Can you recommend a good ZMQ_REP example in c++ (I just converted the Server example from the 0mq site that was in C) ?</div>
<div class="line">[Wednesday 28 April 2010] [02:32:22] &lt;sustrik&gt;  what was the problem?</div>
<div class="line">[Wednesday 28 April 2010] [02:33:22] &lt;<a href="#id266"><span class="problematic" id="id267">rmancy_</span></a>&gt;  Well, the ZMQ_REP (server) gets the recv() and then _appears_ to send(), but the ZMQ_REQ (client) does not get the response. the client code works fine with the example written in C.</div>
<div class="line">[Wednesday 28 April 2010] [02:34:29] &lt;sustrik&gt;  send the test program to the mailing list</div>
<div class="line">[Wednesday 28 April 2010] [02:37:29] &lt;<a href="#id268"><span class="problematic" id="id269">rmancy_</span></a>&gt;  sustrik, ok cheers. I&#8217;m sure it&#8217;s an obvious problem to most other people. I&#8217;m brand new to C++ and it&#8217;s been over 4 years since I&#8217;ve even done C.</div>
<div class="line">[Wednesday 28 April 2010] [03:02:13] &lt;mike8901&gt; sustrik: I&#8217;m building a distributed compiler</div>
<div class="line">[Wednesday 28 April 2010] [03:02:37] &lt;mike8901&gt; similar to distcc, but much more efficient</div>
<div class="line">[Wednesday 28 April 2010] [03:10:46] &lt;sustrik&gt;  aha, interesting</div>
<div class="line">[Wednesday 28 April 2010] [03:10:58] &lt;sustrik&gt;  the point is make it compile faster?</div>
<div class="line">[Wednesday 28 April 2010] [03:12:34] &lt;sustrik&gt;  by running compilation of several machines at the same time?</div>
<div class="line">[Wednesday 28 April 2010] [09:46:56] &lt;b0gg1e&gt;   Hi</div>
<div class="line">[Wednesday 28 April 2010] [09:47:38] &lt;b0gg1e&gt;   I pushed some very early bindings for zeromq to go on github <a class="reference external" href="http://github.com/boggle/gozero">http://github.com/boggle/gozero</a></div>
<div class="line">[Wednesday 28 April 2010] [09:49:25] &lt;b0gg1e&gt;   Currently barely works there seems to happen some weirdness between go&#8217;s scheduler and zmq which I havent managed to understand yet, anyways feel free to peek or help</div>
<div class="line">[Wednesday 28 April 2010] [09:52:50] &lt;sustrik&gt;  b0ggle: great, thanks</div>
<div class="line">[Wednesday 28 April 2010] [09:53:10] &lt;sustrik&gt;  do you want to be referenced from zeromq.org website?</div>
<div class="line">[Wednesday 28 April 2010] [09:59:26] &lt;b0gg1e&gt;   its not actually usable right now, so that doesnt seem apropriate</div>
<div class="line">[Wednesday 28 April 2010] [10:00:27] &lt;sustrik&gt;  well, at least people would know about it</div>
<div class="line">[Wednesday 28 April 2010] [10:00:31] &lt;b0gg1e&gt;   more looking for help actually and am a bit lost whom to ask.. go people or zeromq people :-)</div>
<div class="line">[Wednesday 28 April 2010] [10:00:44] &lt;sustrik&gt;  you can place a big &#8220;EXPERIMENTAL&#8221; tag on the top of the page</div>
<div class="line">[Wednesday 28 April 2010] [10:01:19] &lt;b0gg1e&gt;   more like (BROKEN, NEEDS HELP)</div>
<div class="line">[Wednesday 28 April 2010] [10:01:28] &lt;sustrik&gt;  yes, sure</div>
<div class="line">[Wednesday 28 April 2010] [10:01:31] &lt;b0gg1e&gt;   ill do that on github</div>
<div class="line">[Wednesday 28 April 2010] [10:01:38] &lt;sustrik&gt;  as you wish</div>
<div class="line">[Wednesday 28 April 2010] [10:01:54] &lt;b0gg1e&gt;   maybe put a Go (EXPERIMENTAL) on the page if you like to</div>
<div class="line">[Wednesday 28 April 2010] [10:02:03] &lt;sustrik&gt;  sure</div>
<div class="line">[Wednesday 28 April 2010] [10:02:11] &lt;sustrik&gt;  do you want a wiki page on zeromq.org?</div>
<div class="line">[Wednesday 28 April 2010] [10:02:26] &lt;sustrik&gt;  or should i link to your page somewhere?</div>
<div class="line">[Wednesday 28 April 2010] [10:04:14] &lt;b0gg1e&gt;   A wiki page on zeromq.org would be nice</div>
<div class="line">[Wednesday 28 April 2010] [10:04:40] &lt;sustrik&gt;  ok, do this: open www.zeromq.org and create an account (top right of the page)</div>
<div class="line">[Wednesday 28 April 2010] [10:05:01] &lt;sustrik&gt;  let me know your login then and i&#8217;ll give you write access</div>
<div class="line">[Wednesday 28 April 2010] [10:09:18] &lt;b0gg1e&gt;   recovering wikidot account...</div>
<div class="line">[Wednesday 28 April 2010] [10:29:48] &lt;b0gg1e&gt;   account name is &#8220;splant&#8221;</div>
<div class="line">[Wednesday 28 April 2010] [10:31:13] &lt;sustrik&gt;  ok, you are invited</div>
<div class="line">[Wednesday 28 April 2010] [10:31:20] &lt;sustrik&gt;  i&#8217;ve created <a class="reference external" href="http://www.zeromq.org/bindings:go">http://www.zeromq.org/bindings:go</a></div>
<div class="line">[Wednesday 28 April 2010] [10:31:45] &lt;sustrik&gt;  put the python binding wiki page content there to give you some template</div>
<div class="line">[Wednesday 28 April 2010] [10:31:55] &lt;sustrik&gt;  feel free to edit it as you see fit</div>
<div class="line">[Wednesday 28 April 2010] [10:32:21] &lt;sustrik&gt;  b0ggle: let me know when it&#8217;s ready to be linked from the front page</div>
<div class="line">[Wednesday 28 April 2010] [10:38:36] &lt;b0gg1e&gt;   k thanks might take a while... the go folks are changing their gc and i might sit this out unless i have a good fast idea on how to fix things</div>
<div class="line">[Wednesday 28 April 2010] [10:39:06] &lt;sustrik&gt;  b0ggle: sure, it&#8217;s up to you</div>
<div class="line">[Wednesday 28 April 2010] [10:41:43] &lt;b0gg1e&gt;   i cant edit the page / dont see an edit link</div>
<div class="line">[Wednesday 28 April 2010] [11:22:36] &lt;sustrik&gt;  b0ggle: have you accepted the invitation?</div>
<div class="line">[Wednesday 28 April 2010] [11:25:00] &lt;sustrik&gt;  it doesn&#8217;t look so, i don&#8217;t see you among members</div>
<div class="line">[Wednesday 28 April 2010] [11:29:09] &lt;b0gg1e&gt;   ah</div>
<div class="line">[Wednesday 28 April 2010] [11:29:10] &lt;b0gg1e&gt;   :-)</div>
<div class="line">[Wednesday 28 April 2010] [11:29:46] &lt;b0gg1e&gt;   can edit now, thanks</div>
<div class="line">[Wednesday 28 April 2010] [11:32:36] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 28 April 2010] [11:59:10] &lt;b0gg1e&gt;   contexts are bound to the thread in which they are created.  is it possible to relax that to &#8220;contexts should only ever be used from a single thread at atime&#8221;?</div>
<div class="line">[Wednesday 28 April 2010] [11:59:52] &lt;b0gg1e&gt;   systems like erlang/go etc schedule lightweight processes on thread pools meaning the executing thread can change underneath you stackframe</div>
<div class="line">[Wednesday 28 April 2010] [12:06:10] &lt;sustrik&gt;  b0ggle: no, context are thread-safe and can be used from any thread</div>
<div class="line">[Wednesday 28 April 2010] [12:06:23] &lt;sustrik&gt;  the restricvtion you are speaking about applies to sockets</div>
<div class="line">[Wednesday 28 April 2010] [12:07:03] &lt;sustrik&gt;  and if you meant sockets, then no, it cannot be relaxed</div>
<div class="line">[Wednesday 28 April 2010] [12:07:16] &lt;b0gg1e&gt;   ah i ment sockets sure</div>
<div class="line">[Wednesday 28 April 2010] [12:08:24] &lt;b0gg1e&gt;   hm guess that has to do with the lock-free algos.  too bad, now i have to find out why go&#8217;s LockOSThread isnt working ;-(</div>
<div class="line">[Wednesday 28 April 2010] [12:08:39] &lt;b0gg1e&gt;   or what else is blocking.</div>
<div class="line">[Wednesday 28 April 2010] [12:09:02] &lt;sustrik&gt;  yes, it&#8217;s about lock-free queues</div>
<div class="line">[Wednesday 28 April 2010] [12:12:02] &lt;b0gg1e&gt;   that also means one cannot move contexts between threads which might also be nice for loadbalancing purposes</div>
<div class="line">[Wednesday 28 April 2010] [13:05:33] &lt;mike8901&gt; sustrik: Yup, the idea is to preproc on the master, do everything through object code generation on slave, and link together on master.</div>
<div class="line">[Wednesday 28 April 2010] [13:07:52] &lt;mike8901&gt; (in a much more efficient manner than distcc)</div>
<div class="line">[Wednesday 28 April 2010] [14:00:13] &lt;CIA-15&gt;   pyzmq: 03Brian E. Granger 07master * r1ffcf0e 10/ (zmq/_zmq.c zmq/_zmq.pyx): Removing SUBSCRIBE/UNSUBSCRIBE from the options in getsockopt. - <a class="reference external" href="http://bit.ly/cmNMa4">http://bit.ly/cmNMa4</a></div>
<div class="line">[Wednesday 28 April 2010] [15:28:51] &lt;sustrik&gt;  mike8901: aha, looks like good match for 0mq; pitty there&#8217;s the licensing problem</div>
<div class="line">[Wednesday 28 April 2010] [16:26:10] &lt;CIA-15&gt;   pyzmq: 03Brian E. Granger 07master * r7a9d487 10/ (zmq/_zmq.c zmq/_zmq.pyx zmq/zmq_compat.h):</div>
<div class="line">[Wednesday 28 April 2010] [16:26:10] &lt;CIA-15&gt;   pyzmq: Created zmq_compat.h for a compatibility header file.</div>
<div class="line">[Wednesday 28 April 2010] [16:26:10] &lt;CIA-15&gt;   pyzmq: This will hopefully fix the int64_t issue. - <a class="reference external" href="http://bit.ly/91UClL">http://bit.ly/91UClL</a></div>
<div class="line">[Wednesday 28 April 2010] [16:43:20] &lt;mike8901&gt; sustrik: yeah, zmq has worked out pretty nicely so far... you&#8217;re welcome to follow along at <a class="reference external" href="http://github.com/jhoush/dist-clang">http://github.com/jhoush/dist-clang</a></div>
<div class="line">[Wednesday 28 April 2010] [16:43:55] &lt;mike8901&gt; comments on (mis-)use of zeromq are greatly appriciated... there are probably some ways to use it better</div>
<div class="line">[Wednesday 28 April 2010] [16:44:32] &lt;mike8901&gt; right now, we&#8217;re just doing basic point-to-point communication between nodes</div>
<div class="line">[Wednesday 28 April 2010] [16:45:25] &lt;mike8901&gt; it might be better to do a multicast setup so work-stealing can be done without rebroadcasting the data(i.e. slaves maintain a cache of files sent out to other slaves so they can steal work from another slave without asking for the data to be sent out again)</div>
<div class="line">[Wednesday 28 April 2010] [16:46:23] &lt;mike8901&gt; It&#8217;s a shame we have a deadline in 2.5 weeks, so we&#8217;re basocally racing to finish this, and can&#8217;t do too many interesting optimizations</div>
<div class="line">[Wednesday 28 April 2010] [16:46:27] &lt;mike8901&gt; <a href="#id53"><span class="problematic" id="id54">*</span></a>basically</div>
<div class="line">[Wednesday 28 April 2010] [16:51:30] &lt;CIA-15&gt;   pyzmq: 03Brian E. Granger 07master * r6ff6da2 10/ README.rst : Edits to the README.rst. - <a class="reference external" href="http://bit.ly/dmPyGi">http://bit.ly/dmPyGi</a></div>
<div class="line">[Wednesday 28 April 2010] [17:27:29] &lt;mike8901&gt; sustrik: I ran into an issue where error_t was being defined by one(I don&#8217;t know which) of the headers included... I had to #undef error_t to use zmq.hpp.</div>
<div class="line">[Wednesday 28 April 2010] [17:27:35] &lt;mike8901&gt; Is that a known issue?</div>
<div class="line">[Wednesday 28 April 2010] [17:42:20] &lt;bgranger&gt; sustrik: I am trying out the XREP/XREQ support that you added yesterday</div>
<div class="line">[Thursday 29 April 2010] [01:34:52] &lt;sustrik&gt;   mike8901: no</div>
<div class="line">[Thursday 29 April 2010] [01:35:07] &lt;sustrik&gt;   can you check out where&#8217;s the other error_t included?</div>
<div class="line">[Thursday 29 April 2010] [01:35:13] &lt;sustrik&gt;   defined*</div>
<div class="line">[Thursday 29 April 2010] [01:38:40] &lt;sustrik&gt;   if it was a type, it wouldn&#8217;t be a problem - 0MQ error_t is defined within namespace zmq - the define is worse</div>
<div class="line">[Thursday 29 April 2010] [01:39:14] &lt;sustrik&gt;   bgranger: it&#8217;s almost untested</div>
<div class="line">[Thursday 29 April 2010] [01:39:20] &lt;sustrik&gt;   any problems with it?</div>
<div class="line">[Thursday 29 April 2010] [05:36:10] &lt;CIA-15&gt;    zeromq2: 03Steven McCoy 07master * r7cb076e 10/ (3 files): Defer NetBSD atomic ops to GCC builtins. Revert Sun atomic ops #define. - <a class="reference external" href="http://bit.ly/bJ10EV">http://bit.ly/bJ10EV</a></div>
<div class="line">[Thursday 29 April 2010] [05:59:30] Notice  -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Thursday 29 April 2010] [05:59:30] Notice  -NickServ- You are now identified for travlr.</div>
<div class="line">[Thursday 29 April 2010] [05:59:31] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 29 April 2010] [05:59:33] Notice  -ChanServ- [#qt-labs] Welcome to the Qt developers public hideout. Qt Development Frameworks personnel will have Voice status, so they should be easy to pinpoint in the crowd. Please do not paste large blocks of code in the channel, but rather use a pastebin site.</div>
<div class="line">[Thursday 29 April 2010] [05:59:33] Notice  -ChanServ- [#rekonq] welcome to rekonq, webkit KDE browser, channel</div>
<div class="line">[Thursday 29 April 2010] [05:59:33] Notice  -ChanServ- [#qt] Here are the rules for #qt: (1) Don&#8217;t just join, ask, and quit - stay around and answer questions yourself! (2) Be patient, people may not see your question right away.</div>
<div class="line">[Thursday 29 April 2010] [11:20:16] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * rc193fd1 10/ (18 files in 3 dirs): lock-free polling removed; ZMQ_POLL flag removed - <a class="reference external" href="http://bit.ly/csD6bs">http://bit.ly/csD6bs</a></div>
<div class="line">[Thursday 29 April 2010] [11:31:50] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r37128b7 10/ (10 files): fd_signaler_t renamed to signaler_t - <a class="reference external" href="http://bit.ly/d8kupZ">http://bit.ly/d8kupZ</a></div>
<div class="line">[Thursday 29 April 2010] [11:46:01] &lt;bgranger&gt;  sustrik:  I am back, I might have found a bug with the new XREP/XREQ stuff, but I am not sure.</div>
<div class="line">[Thursday 29 April 2010] [11:46:10] &lt;sustrik&gt;   hi</div>
<div class="line">[Thursday 29 April 2010] [11:46:15] &lt;sustrik&gt;   what bug?</div>
<div class="line">[Thursday 29 April 2010] [11:46:23] &lt;bgranger&gt;  But I want to make sure I understand what it should be doing</div>
<div class="line">[Thursday 29 April 2010] [11:46:32]      * sustrik is listening</div>
<div class="line">[Thursday 29 April 2010] [11:46:44] &lt;bgranger&gt;  The identity string should still be there, as the first part of a multipart message?</div>
<div class="line">[Thursday 29 April 2010] [11:47:15] &lt;sustrik&gt;   in REQ/REP</div>
<div class="line">[Thursday 29 April 2010] [11:47:17] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 29 April 2010] [11:47:24] &lt;bgranger&gt;  In XREP/XREQ</div>
<div class="line">[Thursday 29 April 2010] [11:47:37] &lt;sustrik&gt;   well, it works in this way:</div>
<div class="line">[Thursday 29 April 2010] [11:47:56] &lt;sustrik&gt;   each node identifies itself when the connection is created to its peer</div>
<div class="line">[Thursday 29 April 2010] [11:48:19] &lt;sustrik&gt;   when REQ sends a request, the only prefix is empty message part</div>
<div class="line">[Thursday 29 April 2010] [11:48:23] &lt;bgranger&gt;  Is this the same as the ZMQ_IDENTITY</div>
<div class="line">[Thursday 29 April 2010] [11:48:38] &lt;sustrik&gt;   no, it&#8217;s just a delimiter</div>
<div class="line">[Thursday 29 April 2010] [11:48:44] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 29 April 2010] [11:48:56] &lt;sustrik&gt;   then on the XREP side XREP sockets adds new prefix</div>
<div class="line">[Thursday 29 April 2010] [11:49:01] &lt;sustrik&gt;   the identity of the sender</div>
<div class="line">[Thursday 29 April 2010] [11:49:06] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:49:16] &lt;sustrik&gt;   XREQ socket sends the message further with no change</div>
<div class="line">[Thursday 29 April 2010] [11:49:29] &lt;sustrik&gt;   at the end of the chain there&#8217;s a REP socket</div>
<div class="line">[Thursday 29 April 2010] [11:49:40] &lt;sustrik&gt;   which extracts all the prefixes from the message</div>
<div class="line">[Thursday 29 April 2010] [11:49:53] &lt;sustrik&gt;   until it finds an empty message part (the delimiter)</div>
<div class="line">[Thursday 29 April 2010] [11:50:03] &lt;sustrik&gt;   the rest is passed to the user</div>
<div class="line">[Thursday 29 April 2010] [11:50:09] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 29 April 2010] [11:50:13] &lt;sustrik&gt;   when user send a reply</div>
<div class="line">[Thursday 29 April 2010] [11:50:30] &lt;bgranger&gt;  I am using a single XREP socket, so when I do a recv, I see the identity string</div>
<div class="line">[Thursday 29 April 2010] [11:50:35] &lt;sustrik&gt;   REP socket attaches all the prefixes from the request to the reply and sends it further</div>
<div class="line">[Thursday 29 April 2010] [11:50:49] &lt;sustrik&gt;   let me finish</div>
<div class="line">[Thursday 29 April 2010] [11:50:53] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 29 April 2010] [11:51:05] &lt;sustrik&gt;   XREQ socket passes the reply further unchanged</div>
<div class="line">[Thursday 29 April 2010] [11:51:25] &lt;sustrik&gt;   XREP socket strips the first prefix and uses it to forward the reply to the right connection</div>
<div class="line">[Thursday 29 April 2010] [11:51:43] &lt;sustrik&gt;   finally REQ socket strips the delimiter and returns the reply to the user</div>
<div class="line">[Thursday 29 April 2010] [11:51:48] &lt;sustrik&gt;   that&#8217;s all</div>
<div class="line">[Thursday 29 April 2010] [11:51:53] &lt;bgranger&gt;  This is in a configuration where an XREP forwards to an XREQ.</div>
<div class="line">[Thursday 29 April 2010] [11:52:05] &lt;sustrik&gt;   right, standard shared queue thing</div>
<div class="line">[Thursday 29 April 2010] [11:52:17] &lt;sustrik&gt;   now you have XREQ/XREP setting, right?</div>
<div class="line">[Thursday 29 April 2010] [11:53:14] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:53:26] &lt;sustrik&gt;   so this is what is expected:</div>
<div class="line">[Thursday 29 April 2010] [11:53:30] &lt;bgranger&gt;  I am not forwarding the XREP onto an XREQ</div>
<div class="line">[Thursday 29 April 2010] [11:53:42] &lt;sustrik&gt;   you send a request to XREQ socket</div>
<div class="line">[Thursday 29 April 2010] [11:53:49] &lt;sustrik&gt;   retrieve is from XREP socket</div>
<div class="line">[Thursday 29 April 2010] [11:54:04] &lt;sustrik&gt;   it should be prefixed by XREQ&#8217;s identity</div>
<div class="line">[Thursday 29 April 2010] [11:54:07] &lt;bgranger&gt;  Yes</div>
<div class="line">[Thursday 29 April 2010] [11:54:14] &lt;sustrik&gt;   however, you shouldn&#8217;t see the identity on the wire</div>
<div class="line">[Thursday 29 April 2010] [11:54:20] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:54:23] &lt;sustrik&gt;   (it&#8217;s passed on connection initiation only)</div>
<div class="line">[Thursday 29 April 2010] [11:54:33] &lt;sustrik&gt;   when you send a reply</div>
<div class="line">[Thursday 29 April 2010] [11:54:50] &lt;sustrik&gt;   first prefix is used to route the message to the right XREQ socket</div>
<div class="line">[Thursday 29 April 2010] [11:55:06] &lt;sustrik&gt;   if there&#8217;s no such peer, the reply is dropped</div>
<div class="line">[Thursday 29 April 2010] [11:55:16] &lt;bgranger&gt;  Right, we had that working fine before the multipart message stuff.</div>
<div class="line">[Thursday 29 April 2010] [11:55:28] &lt;sustrik&gt;   once again, the prefix should not be visible on the wire</div>
<div class="line">[Thursday 29 April 2010] [11:55:50] &lt;sustrik&gt;   also, you should receive the reply _w/<a href="#id270"><span class="problematic" id="id271">o_</span></a> the prefix</div>
<div class="line">[Thursday 29 April 2010] [11:55:53] &lt;sustrik&gt;   that&#8217;s it</div>
<div class="line">[Thursday 29 April 2010] [11:55:58] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:56:04] &lt;bgranger&gt;  Here is what we are seeing now:</div>
<div class="line">[Thursday 29 April 2010] [11:56:20] &lt;bgranger&gt;  s = c.socket(zmq.XREP)</div>
<div class="line">[Thursday 29 April 2010] [11:56:28] &lt;bgranger&gt;  s.bind(&#8216;<a class="reference external" href="tcp://127.0.0.1">tcp://127.0.0.1</a>&#8216;)</div>
<div class="line">[Thursday 29 April 2010] [11:56:41] &lt;bgranger&gt;  s.recv()</div>
<div class="line">[Thursday 29 April 2010] [11:56:48] &lt;bgranger&gt;  &#8216;x00xbaxd2Tx96xd6x8eLxabx84x19xa9xa5xe6x1fx95xeb&#8217;</div>
<div class="line">[Thursday 29 April 2010] [11:56:54] &lt;bgranger&gt;  s.rcvmore()</div>
<div class="line">[Thursday 29 April 2010] [11:56:58] &lt;bgranger&gt;  False</div>
<div class="line">[Thursday 29 April 2010] [11:57:05] &lt;bgranger&gt;  s.recv()</div>
<div class="line">[Thursday 29 April 2010] [11:57:10] &lt;bgranger&gt;  &#8216;themessage&#8217;</div>
<div class="line">[Thursday 29 April 2010] [11:57:37] &lt;bgranger&gt;  Is this correct?  I was expecting rcvmore() to return True (more is coming).</div>
<div class="line">[Thursday 29 April 2010] [11:57:50] &lt;sustrik&gt;   yeah</div>
<div class="line">[Thursday 29 April 2010] [11:57:55] &lt;sustrik&gt;   looks like a bug</div>
<div class="line">[Thursday 29 April 2010] [11:58:19] &lt;bgranger&gt;  So, the identity should show up as the first part of a multipart message in this type of situation?</div>
<div class="line">[Thursday 29 April 2010] [11:58:27] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 29 April 2010] [11:58:34] &lt;sustrik&gt;   and it&#8217;s there AFAIU</div>
<div class="line">[Thursday 29 April 2010] [11:58:43] &lt;sustrik&gt;   (auto-generated UUID)</div>
<div class="line">[Thursday 29 April 2010] [11:59:00] &lt;sustrik&gt;   have you set identity manually on the XREQ socket?</div>
<div class="line">[Thursday 29 April 2010] [11:59:09] &lt;bgranger&gt;  No, not in this case</div>
<div class="line">[Thursday 29 April 2010] [11:59:11] &lt;bgranger&gt;  Should I</div>
<div class="line">[Thursday 29 April 2010] [11:59:13] &lt;sustrik&gt;   then it&#8217;s ok</div>
<div class="line">[Thursday 29 April 2010] [11:59:21] &lt;sustrik&gt;   the False is bug though</div>
<div class="line">[Thursday 29 April 2010] [11:59:56] &lt;sustrik&gt;   i&#8217;ll have a look at it shortly...</div>
<div class="line">[Thursday 29 April 2010] [11:59:57] &lt;bgranger&gt;  How is the auto-generated UUID related to the ZMQ_IDENTITY if it is set?</div>
<div class="line">[Thursday 29 April 2010] [12:00:14] &lt;sustrik&gt;   UUID is generated only if there&#8217;s no identity</div>
<div class="line">[Thursday 29 April 2010] [12:00:32] &lt;bgranger&gt;  OK, so I should see the ZMQ_IDENTITY there if it has been set</div>
<div class="line">[Thursday 29 April 2010] [12:00:36] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 29 April 2010] [12:00:46] &lt;bgranger&gt;  Also, what do you think of the socket.rcvmore() API?</div>
<div class="line">[Thursday 29 April 2010] [12:00:59] &lt;bgranger&gt;  I also wrapped getsockopt as well.</div>
<div class="line">[Thursday 29 April 2010] [12:01:13] &lt;sustrik&gt;   it&#8217;s shorthand for getsockopt (ZMQ_MORE) ?</div>
<div class="line">[Thursday 29 April 2010] [12:01:20] &lt;bgranger&gt;  Yes</div>
<div class="line">[Thursday 29 April 2010] [12:01:27] &lt;sustrik&gt;   yes, seems reasonable</div>
<div class="line">[Thursday 29 April 2010] [12:01:33] &lt;bgranger&gt;  Isn&#8217;t it ZMQ_RCVMORE though?</div>
<div class="line">[Thursday 29 April 2010] [12:01:42] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 29 April 2010] [12:01:49] &lt;sustrik&gt;   lemme see</div>
<div class="line">[Thursday 29 April 2010] [12:01:54] &lt;bgranger&gt;  Cool, thanks!</div>
<div class="line">[Thursday 29 April 2010] [12:02:15] &lt;sustrik&gt;   right RCVMORE :)</div>
<div class="line">[Thursday 29 April 2010] [12:02:55] &lt;bgranger&gt;  The multipart stuff is fantastic though - will <em>really</em> help us</div>
<div class="line">[Thursday 29 April 2010] [12:03:30] &lt;bgranger&gt;  I will write a test suite for the multipart stuff to help test it all</div>
<div class="line">[Thursday 29 April 2010] [12:03:45] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r1ffc6dd 10/ (configure.in src/signaler.cpp src/signaler.hpp): eventfd-style signaling removed - <a class="reference external" href="http://bit.ly/9Jk5gv">http://bit.ly/9Jk5gv</a></div>
<div class="line">[Thursday 29 April 2010] [12:09:15] &lt;sustrik&gt;   bgranger: great, test suite will be of much help</div>
<div class="line">[Thursday 29 April 2010] [13:44:33] &lt;sustrik&gt;   bgranger: i don&#8217;t seem to have an option to close the issue</div>
<div class="line">[Thursday 29 April 2010] [13:45:00] &lt;sustrik&gt;   presumably only the original create of the issue can close it</div>
<div class="line">[Thursday 29 April 2010] [13:45:18] &lt;bgranger&gt;  Which issue?</div>
<div class="line">[Thursday 29 April 2010] [13:45:34] &lt;bgranger&gt;  I just close the one about ZMQ_IDENTITY a second ago</div>
<div class="line">[Thursday 29 April 2010] [13:45:45] &lt;sustrik&gt;   ah, good</div>
<div class="line">[Thursday 29 April 2010] [13:45:54] &lt;sustrik&gt;   thanks</div>
<div class="line">[Thursday 29 April 2010] [13:46:49] &lt;bgranger&gt;  sustrik:  so is ZMQ_POLL gone for good?</div>
<div class="line">[Thursday 29 April 2010] [13:47:10] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 29 April 2010] [13:47:28] &lt;sustrik&gt;   well, it&#8217;s still there to retain backward compatibility</div>
<div class="line">[Thursday 29 April 2010] [13:47:36] &lt;sustrik&gt;   but it does nothing</div>
<div class="line">[Thursday 29 April 2010] [13:48:06] &lt;sustrik&gt;   zmq_poll can be used by default now</div>
<div class="line">[Thursday 29 April 2010] [13:48:19] &lt;CIA-15&gt;    pyzmq: 03Brian E. Granger 07master * r4bf8945 10/ (zmq/_zmq.c zmq/_zmq.pyx): Fixing but in Python bindings to getsockopt with IDENTITY. - <a class="reference external" href="http://bit.ly/atHUvJ">http://bit.ly/atHUvJ</a></div>
<div class="line">[Thursday 29 April 2010] [13:48:36] &lt;bgranger&gt;  Nice, wasn&#8217;t there a small performance issue before?</div>
<div class="line">[Thursday 29 April 2010] [13:49:28] &lt;sustrik&gt;   it&#8217;s still there</div>
<div class="line">[Thursday 29 April 2010] [13:49:36] &lt;sustrik&gt;   the impact is ~2us on the latency side</div>
<div class="line">[Thursday 29 April 2010] [13:49:47] &lt;sustrik&gt;   on Linux</div>
<div class="line">[Thursday 29 April 2010] [13:50:03] &lt;sustrik&gt;   but the advantages seem worth of it</div>
<div class="line">[Thursday 29 April 2010] [13:50:37] &lt;sustrik&gt;   1. no annoying ZMQ_POLL flag</div>
<div class="line">[Thursday 29 April 2010] [13:50:50] &lt;sustrik&gt;   2. any number of threads can be used! even &gt;64</div>
<div class="line">[Thursday 29 April 2010] [13:51:04] &lt;sustrik&gt;   3. significant codebase simplification</div>
<div class="line">[Thursday 29 April 2010] [13:59:49] &lt;bgranger&gt;  Seems like a good trade off.  I like simplicity :)</div>
<div class="line">[Thursday 29 April 2010] [14:34:38] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * rae93ed3 10/ (12 files): signaler rewritten in such a way that any number (&gt;64) of threads can be used - <a class="reference external" href="http://bit.ly/chon4a">http://bit.ly/chon4a</a></div>
<div class="line">[Thursday 29 April 2010] [14:53:41] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * rbeb4da3 10/ (builds/msvc/libzmq/libzmq.vcproj src/signaler.cpp): windows port fixed - <a class="reference external" href="http://bit.ly/9BogHN">http://bit.ly/9BogHN</a></div>
<div class="line">[Thursday 29 April 2010] [22:54:17] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * racfd0f8 10/ src/xrep.cpp : prefix in XREP recv&#8217;d message misses MORE flag - <a class="reference external" href="http://bit.ly/aPynXa">http://bit.ly/aPynXa</a></div>
<div class="line">[Thursday 29 April 2010] [22:54:17] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r4a6bac1 10/ (builds/msvc/libzmq/libzmq.vcproj src/signaler.cpp): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/axsva4">http://bit.ly/axsva4</a></div>
<div class="line">[Thursday 29 April 2010] [22:54:25] &lt;sustrik&gt;   bgranger: try now</div>
<div class="line">[Friday 30 April 2010] [11:46:40] &lt;CIA-15&gt;  pyzmq: 03Brian E. Granger 07master * rb2097cf 10/ setup.cfg.template : Adding runtime_library_dirs option to setup.cfg.template. - <a class="reference external" href="http://bit.ly/aw2Xtd">http://bit.ly/aw2Xtd</a></div>
<div class="line">[Friday 30 April 2010] [18:51:46] &lt;bgranger&gt;    sustrik: are you around?</div>
<div class="line">[Thursday 01 April 2010] [04:02:21] &lt;sustrik&gt;   mikko: hi</div>
<div class="line">[Thursday 01 April 2010] [04:03:24] &lt;mikko&gt; hi</div>
<div class="line">[Thursday 01 April 2010] [04:03:49] &lt;sustrik&gt;   what&#8217;s the problem?</div>
<div class="line">[Thursday 01 April 2010] [04:03:52] &lt;mikko&gt; /usr/local/lib/libzmq.so.0: undefined symbol: _ZN3zmq7epoll_t4loopEv</div>
<div class="line">[Thursday 01 April 2010] [04:04:08] &lt;sustrik&gt;   only a single one?</div>
<div class="line">[Thursday 01 April 2010] [04:04:19] &lt;sustrik&gt;   single undefined symbol?</div>
<div class="line">[Thursday 01 April 2010] [04:04:23] &lt;mikko&gt; there are other symbols as well but it all seems very random</div>
<div class="line">[Thursday 01 April 2010] [04:04:47] &lt;mikko&gt; i can run the program let&#8217;s say 8 times successfully and on ninth i get lookup error</div>
<div class="line">[Thursday 01 April 2010] [04:04:58] &lt;mikko&gt; i wonder if something happened to my environment</div>
<div class="line">[Thursday 01 April 2010] [04:05:01] &lt;sustrik&gt;   strange</div>
<div class="line">[Thursday 01 April 2010] [04:05:20] &lt;sustrik&gt;   looks like your system is broken</div>
<div class="line">[Thursday 01 April 2010] [04:08:06] &lt;mikko&gt; trying with LD_DEBUG now</div>
<div class="line">[Thursday 01 April 2010] [04:11:15] &lt;mikko&gt; <a class="reference external" href="http://pastie.org/898514">http://pastie.org/898514</a></div>
<div class="line">[Thursday 01 April 2010] [04:11:19] &lt;mikko&gt; not sure what this tells me</div>
<div class="line">[Thursday 01 April 2010] [04:12:01] &lt;mikko&gt; trying with clean system</div>
<div class="line">[Thursday 01 April 2010] [04:21:10] &lt;mikko&gt; sustrik: also getting this occasionally symbol lookup error: /usr/local/lib/libzmq.so.0: undefined symbol: uuid_unparse, version UUID_1.0</div>
<div class="line">[Thursday 01 April 2010] [04:21:20] &lt;mikko&gt; but not on all runs, it seems very random</div>
<div class="line">[Thursday 01 April 2010] [04:21:53] &lt;sustrik&gt;   there must be something wrong with your system; library loading should be a deterministic process</div>
<div class="line">[Thursday 01 April 2010] [04:22:10] &lt;sustrik&gt;   can you try on a different box?</div>
<div class="line">[Thursday 01 April 2010] [04:22:57] &lt;mikko&gt; yeah, setting up another VM on the background</div>
<div class="line">[Thursday 01 April 2010] [05:24:46] &lt;sjampoo&gt;   Cool, got PGM working in Python code. Seems that i can only use a single context per process (because of refcounting?).</div>
<div class="line">[Thursday 01 April 2010] [05:25:11] &lt;sjampoo&gt;   How do i set an optimal multicast rate, by experimentation?</div>
<div class="line">[Thursday 01 April 2010] [05:47:54] &lt;sustrik&gt;   sjampoo: yes, one context per process suffices</div>
<div class="line">[Thursday 01 April 2010] [05:48:17] &lt;sustrik&gt;   as for the rate, set it up to match your requirements</div>
<div class="line">[Thursday 01 April 2010] [05:48:27] &lt;mikko&gt; oh, btw i forgot to mention: i am working on php bindings for zeromq</div>
<div class="line">[Thursday 01 April 2010] [05:48:35] &lt;mikko&gt; should have something working by the end of the day</div>
<div class="line">[Thursday 01 April 2010] [05:48:46] &lt;sustrik&gt;   mikko: nice</div>
<div class="line">[Thursday 01 April 2010] [05:49:05] &lt;sustrik&gt;   btw, there were several people messing with php</div>
<div class="line">[Thursday 01 April 2010] [05:49:22] &lt;sustrik&gt;   so you may ask about it on the mailing list</div>
<div class="line">[Thursday 01 April 2010] [05:49:57] &lt;sustrik&gt;   the main problem afaiu is to have a persistent connection from php</div>
<div class="line">[Thursday 01 April 2010] [05:50:14] &lt;sustrik&gt;   rather than establishing and tearing the connection all the time</div>
<div class="line">[Thursday 01 April 2010] [05:51:42] &lt;mikko&gt; sustrik: that should not really be hard</div>
<div class="line">[Thursday 01 April 2010] [05:53:02] &lt;mikko&gt; sustrik: i&#8217;ll take a peek at the mailing-lists</div>
<div class="line">[Thursday 01 April 2010] [06:02:52] &lt;<a href="#id272"><span class="problematic" id="id273">ud_</span></a>&gt;   hi</div>
<div class="line">[Thursday 01 April 2010] [06:03:04] &lt;<a href="#id274"><span class="problematic" id="id275">ud_</span></a>&gt;   Why PGM may loss messages ?</div>
<div class="line">[Thursday 01 April 2010] [06:10:09] &lt;sjampoo&gt;   ud, it might be that you are sending the messages from one context and that all your sends have finished but ZMQ is still pushing them to the network (because of the multicast rate). However, if you close the context before that is finished the rest of your message will never arrive.</div>
<div class="line">[Thursday 01 April 2010] [06:24:45] &lt;sustrik&gt;   <a href="#id276"><span class="problematic" id="id277">ud_</span></a>: also there&#8217;s a problem of the finite retransmit window</div>
<div class="line">[Thursday 01 April 2010] [06:25:05] &lt;sustrik&gt;   sender may store at most that much data</div>
<div class="line">[Thursday 01 April 2010] [06:25:46] &lt;sustrik&gt;   thus is receiver requests retransmission of data that were already dropped by the sender</div>
<div class="line">[Thursday 01 April 2010] [06:25:59] &lt;sustrik&gt;   sender has no way to retransmit</div>
<div class="line">[Thursday 01 April 2010] [06:36:50] &lt;<a href="#id278"><span class="problematic" id="id279">ud_</span></a>&gt;   Also, somtimes I handle this: Assertion failed: it != peers.end () (pgm_receiver.cpp:161)</div>
<div class="line">[Thursday 01 April 2010] [06:39:48] &lt;sustrik&gt;   <a href="#id280"><span class="problematic" id="id281">ud_</span></a>: let me see</div>
<div class="line">[Thursday 01 April 2010] [06:40:56] &lt;sustrik&gt;   <a href="#id282"><span class="problematic" id="id283">ud_</span></a>: there have been a bug in OpenPGM lately</div>
<div class="line">[Thursday 01 April 2010] [06:41:04] &lt;sustrik&gt;   this looks like it may be the consequence</div>
<div class="line">[Thursday 01 April 2010] [06:41:46] &lt;sustrik&gt;   however, if you don&#8217;t overload your network, you shouldn&#8217;t hit the problem</div>
<div class="line">[Thursday 01 April 2010] [06:42:12] &lt;sustrik&gt;   anyway, the original bug will be solved in next release (2.0.7)</div>
<div class="line">[Thursday 01 April 2010] [06:46:07] &lt;<a href="#id284"><span class="problematic" id="id285">ud_</span></a>&gt;   ok, when will the next release ? :)</div>
<div class="line">[Thursday 01 April 2010] [07:08:22] &lt;sustrik&gt;   <a href="#id286"><span class="problematic" id="id287">ud_</span></a>: couple of weeks from now</div>
<div class="line">[Thursday 01 April 2010] [07:09:19] &lt;sjampoo&gt;   ud, i got the same message when closing the context prematurely and then firing up a different context.</div>
<div class="line">[Thursday 01 April 2010] [07:12:57] &lt;sustrik&gt;   sjampoo: that&#8217;s interesting</div>
<div class="line">[Thursday 01 April 2010] [07:13:11] &lt;sustrik&gt;   i can imagine a way how that could happen</div>
<div class="line">[Thursday 01 April 2010] [07:13:28] &lt;sustrik&gt;   can you fill a bug report, please?</div>
<div class="line">[Thursday 01 April 2010] [07:14:49] &lt;sjampoo&gt;   hmm, i did not expect it to be a bug really, just misunderstanding on my part</div>
<div class="line">[Thursday 01 April 2010] [07:16:45] &lt;sustrik&gt;   sjampoo: i think it is a bug</div>
<div class="line">[Thursday 01 April 2010] [07:16:55] &lt;sjampoo&gt;   ok, ill file a report</div>
<div class="line">[Thursday 01 April 2010] [07:17:15] &lt;sustrik&gt;   what&#8217;s happening imo is that the two subsequent PGM session interact in a strange way</div>
<div class="line">[Thursday 01 April 2010] [07:17:18] &lt;sustrik&gt;   yes, please</div>
<div class="line">[Thursday 01 April 2010] [07:17:53] &lt;sustrik&gt;   it definitely shouldn&#8217;t assert, in worse case it should return error</div>
<div class="line">[Thursday 01 April 2010] [07:18:10] &lt;sjampoo&gt;   I am running it from Python code, also when loading two context in a single process i get an assertion error as well</div>
<div class="line">[Thursday 01 April 2010] [07:18:18] &lt;sjampoo&gt;   (when i compiled zmq with pgm support)</div>
<div class="line">[Thursday 01 April 2010] [07:18:54] &lt;sjampoo&gt;   not sure if this is somewhat related</div>
<div class="line">[Thursday 01 April 2010] [07:34:24] &lt;sustrik&gt;   what&#8217;s the assertion in that case?</div>
<div class="line">[Thursday 01 April 2010] [07:34:55] &lt;sjampoo&gt;   Assertion failed: !pgm_supported () (zmq.cpp:234)</div>
<div class="line">[Thursday 01 April 2010] [07:35:06] &lt;sjampoo&gt;   There is a comment about refcounting above it</div>
<div class="line">[Thursday 01 April 2010] [07:40:10] &lt;sustrik&gt;   that&#8217;s 0MQ/2.0.6?</div>
<div class="line">[Thursday 01 April 2010] [07:40:18] &lt;sjampoo&gt;   yes</div>
<div class="line">[Thursday 01 April 2010] [07:41:22] &lt;sustrik&gt;   ok, i see; to solve the problem OpenPGM has to be patched</div>
<div class="line">[Thursday 01 April 2010] [07:43:55] &lt;sjampoo&gt;   Hmmm, was just able to succesfully reproduce the peer.end() problem with the performance tools local_thr, and remote_thr</div>
<div class="line">[Thursday 01 April 2010] [07:44:00] &lt;sjampoo&gt;   Where should i file the bug?</div>
<div class="line">[Thursday 01 April 2010] [07:44:39] &lt;sustrik&gt;   go to github repo</div>
<div class="line">[Thursday 01 April 2010] [07:44:47] &lt;sjampoo&gt;   zeromq right?</div>
<div class="line">[Thursday 01 April 2010] [07:44:50] &lt;sustrik&gt;   there&#8217;s &#8220;issues&#8221; tab ther</div>
<div class="line">[Thursday 01 April 2010] [07:44:50] &lt;sjampoo&gt;   Nog OpenPGM?</div>
<div class="line">[Thursday 01 April 2010] [07:44:56] &lt;sjampoo&gt;   not even</div>
<div class="line">[Thursday 01 April 2010] [07:45:13] &lt;sustrik&gt;   the peer.end() is 0mq problem</div>
<div class="line">[Thursday 01 April 2010] [07:45:18] &lt;sjampoo&gt;   ok.</div>
<div class="line">[Thursday 01 April 2010] [07:45:48] &lt;sustrik&gt;   if you want the pgm_supported problem solved you should ask on OpenPGM mailing list</div>
<div class="line">[Thursday 01 April 2010] [07:46:35] &lt;sjampoo&gt;   ok, thanks for the info</div>
<div class="line">[Thursday 01 April 2010] [07:47:57] &lt;sustrik&gt;   np</div>
<div class="line">[Thursday 01 April 2010] [07:53:24] &lt;keenerd&gt;   Dumb question; where did the C bindings go in 2.0.6?  The docs just loop back on themselves.</div>
<div class="line">[Thursday 01 April 2010] [07:59:10] &lt;mikko&gt; keenerd: you mean <a class="reference external" href="http://api.zeromq.org/zmq.html">http://api.zeromq.org/zmq.html</a> ?</div>
<div class="line">[Thursday 01 April 2010] [08:02:02] &lt;keenerd&gt;   Yeah.  Is there an undocumented configure flag?</div>
<div class="line">[Thursday 01 April 2010] [08:02:22] &lt;mikko&gt; sustrik: <a class="reference external" href="http://pastie.org/898701">http://pastie.org/898701</a> am i waiting on a message?</div>
<div class="line">[Thursday 01 April 2010] [08:02:41] &lt;sustrik&gt;   mikko: looks like</div>
<div class="line">[Thursday 01 April 2010] [08:03:04] &lt;sustrik&gt;   keenerd, what configure flag&gt;</div>
<div class="line">[Thursday 01 April 2010] [08:03:05] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 01 April 2010] [08:03:11] &lt;sustrik&gt;   ./configure &#8211;help</div>
<div class="line">[Thursday 01 April 2010] [08:03:15] &lt;mikko&gt; hmm. the same thing works on a single process but as soon as i got multiple forks things go downhill</div>
<div class="line">[Thursday 01 April 2010] [08:03:20] &lt;sustrik&gt;   gives you list of all available flags</div>
<div class="line">[Thursday 01 April 2010] [08:03:21] &lt;keenerd&gt;   By loop back on themselves, I mean the homepage.  It presumes C bindings are just there, and does not give a source to make them.</div>
<div class="line">[Thursday 01 April 2010] [08:04:02] &lt;sustrik&gt;   0MQ native interface is C</div>
<div class="line">[Thursday 01 April 2010] [08:04:16] &lt;sustrik&gt;   so when you build it, you have it</div>
<div class="line">[Thursday 01 April 2010] [08:04:26] &lt;sustrik&gt;   no separate project is needed</div>
<div class="line">[Thursday 01 April 2010] [08:04:29] &lt;keenerd&gt;   No, nothing helpful in configure &#8211;help</div>
<div class="line">[Thursday 01 April 2010] [08:04:48] &lt;keenerd&gt;   sustrik: You sure?  It really looks like C++ is the naitive interface now.</div>
<div class="line">[Thursday 01 April 2010] [08:05:01] &lt;sustrik&gt;   no, C is native (zmq.h)</div>
<div class="line">[Thursday 01 April 2010] [08:05:10] &lt;sustrik&gt;   C++ is a thin wrapper over C (zmq.hpp)</div>
<div class="line">[Thursday 01 April 2010] [08:05:30] &lt;sustrik&gt;   the documentation is confusing though</div>
<div class="line">[Thursday 01 April 2010] [08:05:51] &lt;sustrik&gt;   when clicking on C in the left pane is should say that it&#8217;s native interface etc.</div>
<div class="line">[Thursday 01 April 2010] [08:06:04] &lt;keenerd&gt;   Okay, I see it.  &#8220;make install&#8221; ignores it, though.</div>
<div class="line">[Thursday 01 April 2010] [08:06:38] &lt;sustrik&gt;   nope, it should copy it to use/local/include</div>
<div class="line">[Thursday 01 April 2010] [08:06:50] &lt;keenerd&gt;   Does not work for me.</div>
<div class="line">[Thursday 01 April 2010] [08:06:50] &lt;sustrik&gt;   it&#8217;s possible that you dan&#8217;t have that on your path</div>
<div class="line">[Thursday 01 April 2010] [08:07:26] &lt;keenerd&gt;   No, I&#8217;m packaging the library.  It does not get moved from the source directoey to the package directory.</div>
<div class="line">[Thursday 01 April 2010] [08:07:47] &lt;sustrik&gt;   by packaging you mean make dist?</div>
<div class="line">[Thursday 01 April 2010] [08:07:57] &lt;keenerd&gt;   No.</div>
<div class="line">[Thursday 01 April 2010] [08:08:06] &lt;keenerd&gt;   I maintain it for Arch.</div>
<div class="line">[Thursday 01 April 2010] [08:08:30] &lt;sustrik&gt;   ok, can you be more specific on what you are doing?</div>
<div class="line">[Thursday 01 April 2010] [08:08:34] &lt;sustrik&gt;   ./autogen.sh</div>
<div class="line">[Thursday 01 April 2010] [08:08:37] &lt;sustrik&gt;   ./configure</div>
<div class="line">[Thursday 01 April 2010] [08:08:39] &lt;sustrik&gt;   make</div>
<div class="line">[Thursday 01 April 2010] [08:08:42] &lt;sustrik&gt;   make install</div>
<div class="line">[Thursday 01 April 2010] [08:08:43] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 01 April 2010] [08:09:16] &lt;keenerd&gt;   ./configure prefix=...</div>
<div class="line">[Thursday 01 April 2010] [08:09:17] &lt;keenerd&gt;   make</div>
<div class="line">[Thursday 01 April 2010] [08:09:21] &lt;keenerd&gt;   make install</div>
<div class="line">[Thursday 01 April 2010] [08:09:25] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 01 April 2010] [08:09:33] &lt;sustrik&gt;   what&#8217;s missing afterwards?</div>
<div class="line">[Thursday 01 April 2010] [08:09:44] &lt;keenerd&gt;   zmq.h, at the very least :-)</div>
<div class="line">[Thursday 01 April 2010] [08:09:51] &lt;sustrik&gt;   ok, let me try...</div>
<div class="line">[Thursday 01 April 2010] [08:10:17] &lt;sustrik&gt;   sjampoo: thanks</div>
<div class="line">[Thursday 01 April 2010] [08:10:23] &lt;keenerd&gt;   Is autogen really needed now?  Trying that...</div>
<div class="line">[Thursday 01 April 2010] [08:10:39] &lt;sustrik&gt;   depends on whether you build from the tar.gz package</div>
<div class="line">[Thursday 01 April 2010] [08:10:45] &lt;sustrik&gt;   if so, you don&#8217;t need it</div>
<div class="line">[Thursday 01 April 2010] [08:10:57] &lt;sustrik&gt;   if you are building directly from github repo, you need it</div>
<div class="line">[Thursday 01 April 2010] [08:11:39] &lt;keenerd&gt;   Ah, no.  Someone else maintains the git.</div>
<div class="line">[Thursday 01 April 2010] [08:12:17] &lt;sustrik&gt;   then just ommit the autogen step</div>
<div class="line">[Thursday 01 April 2010] [08:13:55] &lt;keenerd&gt;   Otherwise, building it is a lot simpler now.</div>
<div class="line">[Thursday 01 April 2010] [08:14:23] &lt;keenerd&gt;   The old &#8211;with would crash easily.</div>
<div class="line">[Thursday 01 April 2010] [08:14:30] &lt;mikko&gt; sustrik: the interesting thing is that it looks like im waiting for a message but i dont see the &#8220;request&#8221; in tcpdump</div>
<div class="line">[Thursday 01 April 2010] [08:14:40] &lt;mikko&gt; so nothing has been sent at that point</div>
<div class="line">[Thursday 01 April 2010] [08:15:28] &lt;sustrik&gt;   keenerd: yes, we&#8217;ve trew out all the stuf that wasn&#8217;t absolutely needed</div>
<div class="line">[Thursday 01 April 2010] [08:16:46] &lt;sustrik&gt;   mikko: different things may got wrong, send your test prog to the mailing list and i&#8217;ll have a look</div>
<div class="line">[Thursday 01 April 2010] [08:18:42] &lt;mikko&gt; sustrik: my test prog is the full php extension</div>
<div class="line">[Thursday 01 April 2010] [08:18:45] &lt;mikko&gt; it might be a bit heavy</div>
<div class="line">[Thursday 01 April 2010] [08:19:12] &lt;sustrik&gt;   then just describe what you are doing</div>
<div class="line">[Thursday 01 April 2010] [08:19:17] &lt;mikko&gt; i think it might have something to do with this <a class="reference external" href="http://pastie.org/898721">http://pastie.org/898721</a></div>
<div class="line">[Thursday 01 April 2010] [08:19:50] &lt;mikko&gt; but not sure yet</div>
<div class="line">[Thursday 01 April 2010] [08:19:56] &lt;sustrik&gt;   grr, that&#8217;s the bug i cannot get my hands on</div>
<div class="line">[Thursday 01 April 2010] [08:20:05] &lt;sustrik&gt;   i am not able to reproduce it here</div>
<div class="line">[Thursday 01 April 2010] [08:20:14] &lt;sustrik&gt;   would it be able to get access to your box?</div>
<div class="line">[Thursday 01 April 2010] [08:20:24] &lt;mikko&gt; Assertion failed: !incomplete_in (session.cpp:123)</div>
<div class="line">[Thursday 01 April 2010] [08:20:24] &lt;mikko&gt; Aborted</div>
<div class="line">[Thursday 01 April 2010] [08:20:29] &lt;mikko&gt; on the server side</div>
<div class="line">[Thursday 01 April 2010] [08:20:36] &lt;mikko&gt; sustrik: it&#8217;s a virtual machine</div>
<div class="line">[Thursday 01 April 2010] [08:20:41] &lt;mikko&gt; i can zip it up and send it to you</div>
<div class="line">[Thursday 01 April 2010] [08:21:01] &lt;mikko&gt; i can try to make it available online first though (not sure about local firewall)</div>
<div class="line">[Thursday 01 April 2010] [08:21:19] &lt;sustrik&gt;   that would be great</div>
<div class="line">[Thursday 01 April 2010] [08:24:06] &lt;sustrik&gt;   mikko: you are using bleeding edge version, this is a problem with the code committed last week</div>
<div class="line">[Thursday 01 April 2010] [08:24:33] &lt;sustrik&gt;   you may want to use 2.0.6 instead</div>
<div class="line">[Thursday 01 April 2010] [08:25:40] &lt;sustrik&gt;   keenerd: i&#8217;ve tested the build:</div>
<div class="line">[Thursday 01 April 2010] [08:25:51] &lt;sustrik&gt;   ./configure &#8211;prefix=xyz</div>
<div class="line">[Thursday 01 April 2010] [08:25:52] &lt;sustrik&gt;   make</div>
<div class="line">[Thursday 01 April 2010] [08:25:56] &lt;sustrik&gt;   make install</div>
<div class="line">[Thursday 01 April 2010] [08:26:04] &lt;sustrik&gt;   ls xyz/include</div>
<div class="line">[Thursday 01 April 2010] [08:26:08] &lt;sustrik&gt;     zmq.h</div>
<div class="line">[Thursday 01 April 2010] [08:26:10] &lt;sustrik&gt;     zmq.hpp</div>
<div class="line">[Thursday 01 April 2010] [08:26:15] &lt;keenerd&gt;   Huh.</div>
<div class="line">[Thursday 01 April 2010] [08:27:51] &lt;keenerd&gt;   Very odd.</div>
<div class="line">[Thursday 01 April 2010] [08:28:18] &lt;sustrik&gt;   maybe a typo in the path?</div>
<div class="line">[Thursday 01 April 2010] [08:28:36] &lt;keenerd&gt;   Which path?  I see zmq.hpp.</div>
<div class="line">[Thursday 01 April 2010] [08:29:29] &lt;sustrik&gt;   &#8211;prefix=path</div>
<div class="line">[Thursday 01 April 2010] [08:29:33] &lt;mikko&gt; sustrik: can you give me your pubkey?</div>
<div class="line">[Thursday 01 April 2010] [08:29:54] &lt;sustrik&gt;   what&#8217;s your email?</div>
<div class="line">[Thursday 01 April 2010] [08:30:15] &lt;mikko&gt; <a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a></div>
<div class="line">[Thursday 01 April 2010] [08:30:26] &lt;sustrik&gt;   wait a sec</div>
<div class="line">[Thursday 01 April 2010] [08:30:59] &lt;sustrik&gt;   mikko: ok, sent</div>
<div class="line">[Thursday 01 April 2010] [08:31:41] &lt;keenerd&gt;   sustrik: Okay, I reinstalled make and related packages.  Problem seems to be gone.  I blame cosmic rays, and will replace my aging drive soon.</div>
<div class="line">[Thursday 01 April 2010] [08:31:49] &lt;keenerd&gt;   Sorry for the hassle.</div>
<div class="line">[Thursday 01 April 2010] [08:31:53] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 01 April 2010] [08:32:37] &lt;keenerd&gt;   Thanks.</div>
<div class="line">[Thursday 01 April 2010] [08:34:13] &lt;sustrik&gt;   np, autotools is a mysterious piece of software with it&#8217;s own will</div>
<div class="line">[Thursday 01 April 2010] [11:20:29] &lt;mikko&gt; sustrik: still here?</div>
<div class="line">[Thursday 01 April 2010] [11:36:55] &lt;mikko&gt; anyone had this:</div>
<div class="line">[Thursday 01 April 2010] [11:36:57] &lt;mikko&gt; Assertion failed: !engine (session.cpp:263)</div>
<div class="line">[Thursday 01 April 2010] [12:20:08] &lt;Skaag&gt; ping?</div>
<div class="line">[Thursday 01 April 2010] [12:38:39] &lt;mikko&gt; pong</div>
<div class="line">[Thursday 01 April 2010] [13:28:33] &lt;Skaag&gt; an active person!</div>
<div class="line">[Thursday 01 April 2010] [13:36:32] &lt;mikko&gt; well, active and active</div>
<div class="line">[Thursday 01 April 2010] [13:36:35] &lt;mikko&gt; my first day here</div>
<div class="line">[Thursday 01 April 2010] [13:41:30] &lt;mikko&gt; Skaag: looks like you found my github repo</div>
<div class="line">[Thursday 01 April 2010] [13:41:59] &lt;Skaag&gt; lol</div>
<div class="line">[Thursday 01 April 2010] [13:42:09] &lt;Skaag&gt; yes :-)</div>
<div class="line">[Thursday 01 April 2010] [13:42:25] &lt;Skaag&gt; I wondered if you&#8217;d notice while here</div>
<div class="line">[Thursday 01 April 2010] [13:43:06] &lt;Skaag&gt; While it was a half joke, I will be happy to test it and add/edit documentation</div>
<div class="line">[Thursday 01 April 2010] [13:43:35] &lt;Skaag&gt; I think I may have made a mistake wt</div>
<div class="line">[Thursday 01 April 2010] [13:43:36] &lt;mikko&gt; sure, that would probably be useful</div>
<div class="line">[Thursday 01 April 2010] [13:43:41] &lt;mikko&gt; especially missing features</div>
<div class="line">[Thursday 01 April 2010] [13:43:44] &lt;Skaag&gt; with choosing rabbitmq prematurely</div>
<div class="line">[Thursday 01 April 2010] [13:43:47] &lt;mikko&gt; brb</div>
<div class="line">[Thursday 01 April 2010] [14:05:15] &lt;sustrik&gt;   mikko: Assertion failed: !engine (session.cpp:263) looks like a bug</div>
<div class="line">[Thursday 01 April 2010] [14:05:26] &lt;sustrik&gt;   any idea how to reproduct it?</div>
<div class="line">[Thursday 01 April 2010] [14:05:41] &lt;mikko&gt; sustrik: yes</div>
<div class="line">[Thursday 01 April 2010] [14:05:44] &lt;sustrik&gt;   reproduce*</div>
<div class="line">[Thursday 01 April 2010] [14:05:45] &lt;mikko&gt; i downgraded to 2.0.6</div>
<div class="line">[Thursday 01 April 2010] [14:05:49] &lt;mikko&gt; when i set IDENTITY</div>
<div class="line">[Thursday 01 April 2010] [14:05:53] &lt;sustrik&gt;   aha</div>
<div class="line">[Thursday 01 April 2010] [14:05:58] &lt;mikko&gt; it happens on second request</div>
<div class="line">[Thursday 01 April 2010] [14:06:06] &lt;mikko&gt; sustrik: btw i got the php bindings running</div>
<div class="line">[Thursday 01 April 2010] [14:06:14] &lt;mikko&gt; also persistent connections should be working</div>
<div class="line">[Thursday 01 April 2010] [14:06:16] &lt;sustrik&gt;   the IDENTITY is set on req or rep?</div>
<div class="line">[Thursday 01 April 2010] [14:06:21] &lt;sustrik&gt;   mikko: great</div>
<div class="line">[Thursday 01 April 2010] [14:06:25] &lt;mikko&gt; REQ</div>
<div class="line">[Thursday 01 April 2010] [14:06:42] &lt;sustrik&gt;   ok, i&#8217;ll give it a try - although after easter holiday</div>
<div class="line">[Thursday 01 April 2010] [14:06:59] &lt;sustrik&gt;   as for the binding, would you like me to link to it from the website?</div>
<div class="line">[Thursday 01 April 2010] [14:07:21] &lt;mikko&gt; that&#8217;s would nice, although it&#8217;s not stable yet</div>
<div class="line">[Thursday 01 April 2010] [14:07:31] &lt;mikko&gt; i guess people understand as its on github</div>
<div class="line">[Thursday 01 April 2010] [14:07:33] &lt;sustrik&gt;   call it &#8220;alpha&#8221;, no?</div>
<div class="line">[Thursday 01 April 2010] [14:07:37] &lt;mikko&gt; <a class="reference external" href="http://github.com/mkoppanen/php-zeromq">http://github.com/mkoppanen/php-zeromq</a></div>
<div class="line">[Thursday 01 April 2010] [14:07:44] &lt;mikko&gt; well, no tags / releases yet</div>
<div class="line">[Thursday 01 April 2010] [14:08:02] &lt;mikko&gt; let me add EXPERIMENTAL file</div>
<div class="line">[Thursday 01 April 2010] [14:08:08] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 01 April 2010] [14:08:50] &lt;mikko&gt; sustrik: i think the earlier epoll issue is related to forks</div>
<div class="line">[Thursday 01 April 2010] [14:09:00] &lt;mikko&gt; context created in parent and accessed in forked child</div>
<div class="line">[Thursday 01 April 2010] [14:09:07] &lt;mikko&gt; i might be mistaken on that</div>
<div class="line">[Thursday 01 April 2010] [14:09:43] &lt;sustrik&gt;   mikko: i am not sure whether that works</div>
<div class="line">[Thursday 01 April 2010] [14:09:49] &lt;sustrik&gt;   never tried it myself</div>
<div class="line">[Thursday 01 April 2010] [14:10:02] &lt;mikko&gt; i think that&#8217;s what i ended up with php module running in apache</div>
<div class="line">[Thursday 01 April 2010] [14:10:15] &lt;mikko&gt; i moved the context creation &#8216;per object&#8217; and all my problems went away</div>
<div class="line">[Thursday 01 April 2010] [14:10:35] &lt;sustrik&gt;   in any case it&#8217;s more clean solution</div>
<div class="line">[Thursday 01 April 2010] [14:10:45] &lt;mikko&gt; btw, zmq_msg_t seems to be empty after it&#8217;s been sent. is that due to possible async sending where everything is not sent on one go?</div>
<div class="line">[Thursday 01 April 2010] [14:10:47] &lt;Skaag&gt; very nice</div>
<div class="line">[Thursday 01 April 2010] [14:10:49] &lt;sustrik&gt;   context basically represents &#8220;library instance&#8221;</div>
<div class="line">[Thursday 01 April 2010] [14:11:38] &lt;sustrik&gt;   mikko: it&#8217;s a performance issue</div>
<div class="line">[Thursday 01 April 2010] [14:11:49] &lt;sustrik&gt;   if the message was retained</div>
<div class="line">[Thursday 01 April 2010] [14:12:01] &lt;sustrik&gt;   there would have to be a reference count attached to it</div>
<div class="line">[Thursday 01 April 2010] [14:12:17] &lt;sustrik&gt;   (one reference from sending I/O thread, other from client&#8217;s thread)</div>
<div class="line">[Thursday 01 April 2010] [14:12:32] &lt;sustrik&gt;   the refcount would have to be manipulated using atomic operations</div>
<div class="line">[Thursday 01 April 2010] [14:12:39] &lt;sustrik&gt;   those are pretty expensive</div>
<div class="line">[Thursday 01 April 2010] [14:12:50] &lt;mikko&gt; ok, now i get it</div>
<div class="line">[Thursday 01 April 2010] [14:12:56] &lt;sustrik&gt;   however, if you need to retain the message, there&#8217;s zmq_msg_copy</div>
<div class="line">[Thursday 01 April 2010] [14:13:04] &lt;sustrik&gt;   just copy it before sending</div>
<div class="line">[Thursday 01 April 2010] [14:14:03] &lt;mikko&gt; i would think copy is as expensive as initing a new one?</div>
<div class="line">[Thursday 01 April 2010] [14:14:35] &lt;mikko&gt; ah</div>
<div class="line">[Thursday 01 April 2010] [14:14:40] &lt;mikko&gt; reading man pages</div>
<div class="line">[Thursday 01 April 2010] [14:14:47] &lt;sustrik&gt;   no, there&#8217;s ref count turned on in such case</div>
<div class="line">[Thursday 01 April 2010] [14:14:53] &lt;sustrik&gt;   so it doens&#8217;t really copy the data</div>
<div class="line">[Thursday 01 April 2010] [14:15:52] &lt;mikko&gt; one thing i noticed here: <a class="reference external" href="http://api.zeromq.org/zmq_setsockopt.html">http://api.zeromq.org/zmq_setsockopt.html</a></div>
<div class="line">[Thursday 01 April 2010] [14:15:52] &lt;sustrik&gt;   mikko: ok, go here:</div>
<div class="line">[Thursday 01 April 2010] [14:15:53] &lt;sustrik&gt;   <a class="reference external" href="http://www.zeromq.org/bindings:php">http://www.zeromq.org/bindings:php</a></div>
<div class="line">[Thursday 01 April 2010] [14:15:58] &lt;mikko&gt; Setting I/O thread affinity</div>
<div class="line">[Thursday 01 April 2010] [14:16:05] &lt;sustrik&gt;   i&#8217;ve copied the text from python binding</div>
<div class="line">[Thursday 01 April 2010] [14:16:11] &lt;mikko&gt; it passes 2 as the parameter</div>
<div class="line">[Thursday 01 April 2010] [14:16:25] &lt;sustrik&gt;   create an account on the website and you may modify it as you see fit</div>
<div class="line">[Thursday 01 April 2010] [14:16:25] &lt;mikko&gt; which causes zmq to crash</div>
<div class="line">[Thursday 01 April 2010] [14:16:33] &lt;mikko&gt; thanks!</div>
<div class="line">[Thursday 01 April 2010] [14:16:36] &lt;sustrik&gt;   np</div>
<div class="line">[Thursday 01 April 2010] [14:16:54] &lt;sustrik&gt;   let me know your login so I can grant you write access btq</div>
<div class="line">[Thursday 01 April 2010] [14:16:57] &lt;sustrik&gt;   btw</div>
<div class="line">[Thursday 01 April 2010] [14:17:41] &lt;sustrik&gt;   as for the crash, does it crash in zmq_setsockopt itself?</div>
<div class="line">[Thursday 01 April 2010] [14:17:46] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 01 April 2010] [14:17:51] &lt;sustrik&gt;   segfault?</div>
<div class="line">[Thursday 01 April 2010] [14:18:04] &lt;mikko&gt; invalid read size of 8 (on my arch)</div>
<div class="line">[Thursday 01 April 2010] [14:18:11] &lt;mikko&gt; probably due to it expecting a pointer</div>
<div class="line">[Thursday 01 April 2010] [14:18:20] &lt;sustrik&gt;   yes, it expects a pointer</div>
<div class="line">[Thursday 01 April 2010] [14:18:38] &lt;sustrik&gt;   it similar to standard POSIX setsockopt</div>
<div class="line">[Thursday 01 April 2010] [14:18:58] &lt;mikko&gt; the example passes: rc = zmq_setsockopt (socket, ZMQ_AFFINITY, 2, sizeof (int64_t));</div>
<div class="line">[Thursday 01 April 2010] [14:19:15] &lt;sustrik&gt;   coincidence</div>
<div class="line">[Thursday 01 April 2010] [14:19:22] &lt;sustrik&gt;   it should look like this:</div>
<div class="line">[Thursday 01 April 2010] [14:19:30] &lt;sustrik&gt;   int64_t affinity =2;</div>
<div class="line">[Thursday 01 April 2010] [14:19:51] &lt;sustrik&gt;   zmq_setsockopt (s, ZMQ_AFFINITY, &amp;affinity, sizeof (affinity));</div>
<div class="line">[Thursday 01 April 2010] [14:20:00] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 01 April 2010] [14:20:14] &lt;mikko&gt; seems like all other examples are correct (camera, chat etc)</div>
<div class="line">[Thursday 01 April 2010] [14:20:42] &lt;mikko&gt; i seem to have a wikidot account already</div>
<div class="line">[Thursday 01 April 2010] [14:20:44] &lt;mikko&gt; &#8216;mkoppanen&#8217;</div>
<div class="line">[Thursday 01 April 2010] [14:20:49] &lt;sustrik&gt;   wait a sec</div>
<div class="line">[Thursday 01 April 2010] [14:20:56] &lt;mikko&gt; it must be because liblqr was hosted on wikidot</div>
<div class="line">[Thursday 01 April 2010] [14:21:00] &lt;mikko&gt; the website</div>
<div class="line">[Thursday 01 April 2010] [14:21:20] &lt;Skaag&gt; I never had one, made it now</div>
<div class="line">[Thursday 01 April 2010] [14:21:55] &lt;sustrik&gt;   Skaag: you want access too?</div>
<div class="line">[Thursday 01 April 2010] [14:22:00] &lt;Skaag&gt; sure</div>
<div class="line">[Thursday 01 April 2010] [14:22:05] &lt;sustrik&gt;   mikko: you are invited</div>
<div class="line">[Thursday 01 April 2010] [14:22:14] &lt;sustrik&gt;   jst accept and you can alter the page</div>
<div class="line">[Thursday 01 April 2010] [14:22:21] &lt;Skaag&gt; I&#8217;ll probably mostly fix typos if I find them, or rephrase sentences to clarify</div>
<div class="line">[Thursday 01 April 2010] [14:22:41] &lt;Skaag&gt; and maybe contribute some code samples, if applicable</div>
<div class="line">[Thursday 01 April 2010] [14:22:55] &lt;Skaag&gt; I&#8217;m &#8216;skaag&#8217; on wikidot</div>
<div class="line">[Thursday 01 April 2010] [14:23:00] &lt;sustrik&gt;   Skaag: you are working on PHP as well?</div>
<div class="line">[Thursday 01 April 2010] [14:23:12] &lt;Skaag&gt; PHP, C++ and Java</div>
<div class="line">[Thursday 01 April 2010] [14:23:41] &lt;sustrik&gt;   ok, feel free to change the page of the binding you are working on</div>
<div class="line">[Thursday 01 April 2010] [14:23:47] &lt;Skaag&gt; thanks</div>
<div class="line">[Thursday 01 April 2010] [14:23:53] &lt;sustrik&gt;   however, when changing generic content first discuss it on thr mailing listy</div>
<div class="line">[Thursday 01 April 2010] [14:24:31] &lt;sustrik&gt;   Skaag: you are invited</div>
<div class="line">[Thursday 01 April 2010] [14:25:41] &lt;Skaag&gt; awesome</div>
<div class="line">[Thursday 01 April 2010] [14:25:53] &lt;Skaag&gt; I assume you copied the python page content to the php binding page for convenience?</div>
<div class="line">[Thursday 01 April 2010] [14:28:06] &lt;sustrik&gt;   Skaag: yes, to give you a template</div>
<div class="line">[Thursday 01 April 2010] [14:28:14] &lt;Skaag&gt; awesome. it&#8217;s helpful.</div>
<div class="line">[Thursday 01 April 2010] [14:28:15] &lt;sustrik&gt;   however, feel free to modify it in any way</div>
<div class="line">[Thursday 01 April 2010] [14:28:41] &lt;sustrik&gt;   once you have something ready ping me and I&#8217;ll link your page from the main page</div>
<div class="line">[Thursday 01 April 2010] [14:29:29] &lt;mikko&gt; will do</div>
<div class="line">[Thursday 01 April 2010] [14:29:31] &lt;mikko&gt; thanks a lot</div>
<div class="line">[Thursday 01 April 2010] [16:35:06] &lt;sustrik&gt;   mikko: still there?</div>
<div class="line">[Thursday 01 April 2010] [16:41:19] &lt;mikko&gt; sustrik: yes</div>
<div class="line">[Thursday 01 April 2010] [18:15:00] &lt;mikko&gt; initial round on docs <a class="reference external" href="http://www.zeromq.org/bindings:php">http://www.zeromq.org/bindings:php</a></div>
<div class="line">[Thursday 01 April 2010] [18:15:20] &lt;mikko&gt; at least doesnt say py0MQ anymore :)</div>
<div class="line">[Thursday 01 April 2010] [18:15:50] &lt;Skaag&gt; awesome work</div>
<div class="line">[Thursday 01 April 2010] [18:15:55] &lt;Skaag&gt; I will test and give feedback</div>
<div class="line">[Thursday 01 April 2010] [20:24:39] &lt;mikko&gt; Skaag: <a class="reference external" href="http://wiki.github.com/mkoppanen/php-zeromq/api-documentation">http://wiki.github.com/mkoppanen/php-zeromq/api-documentation</a></div>
<div class="line">[Thursday 01 April 2010] [20:24:42] &lt;mikko&gt; initial api docs</div>
<div class="line">[Thursday 01 April 2010] [20:24:46] &lt;mikko&gt; getting a bit late</div>
<div class="line">[Thursday 01 April 2010] [21:03:55] &lt;dermoth&gt;   mikko, I am myself working on a php binding, but i&#8217;m focusing on the procedural interface with access to persistent sockets and thread safety... I wasn&#8217;t planning an OO interface.</div>
<div class="line">[Thursday 01 April 2010] [21:05:08] &lt;dermoth&gt;   mikko, persistence is very important for what I want as I will send data in short-lived request and expect best-effort delivery while the SAPI is running...</div>
<div class="line">[Thursday 01 April 2010] [21:07:13] &lt;dermoth&gt;   mikko, I haven&#8217;t written much code yet but I&#8217;ve already read nearly half a book on php extentions and was planning to start real coding very soon... i&#8217;m wondering if you&#8217;d like any help from me...</div>
<div class="line">[Thursday 01 April 2010] [21:11:49] &lt;dermoth&gt;   hummm I see you have persistence too. I was thinking of doing it explicitly though, with an optional key to allow re-using unique contexts, sockets, etc.</div>
<div class="line">[Thursday 01 April 2010] [21:17:30] &lt;mikko&gt; dermoth: in my case context is always tied to ZeroMQSocket object</div>
<div class="line">[Thursday 01 April 2010] [21:17:50] &lt;mikko&gt; and the ZeroMQSocket is stored with persistent_id</div>
<div class="line">[Thursday 01 April 2010] [21:18:13] &lt;mikko&gt; i didn&#8217;t see much point for multiple threads as there is no userland threading in php</div>
<div class="line">[Thursday 01 April 2010] [21:19:48] &lt;mikko&gt; dermoth: hmmm.. what was the idea behind using contexts explicitly?</div>
<div class="line">[Thursday 01 April 2010] [21:20:05] &lt;mikko&gt; allow setting thread counts and choose different context for a socket?</div>
<div class="line">[Thursday 01 April 2010] [21:20:09] &lt;dermoth&gt;   mikko, this would be my first module, but I was trying to do everything the right way... do you think it would be worth completing it then we can take the best of both? I&#8217;ve also been told OO interface are often built on top or procedural extentions...</div>
<div class="line">[Thursday 01 April 2010] [21:20:27] &lt;dermoth&gt;   mikko, at first I just wanted proper thread separation</div>
<div class="line">[Thursday 01 April 2010] [21:20:46] &lt;dermoth&gt;   i.e. each thread acting as a standalone process</div>
<div class="line">[Thursday 01 April 2010] [21:21:20] &lt;dermoth&gt;   ZMQ sockets cannot be shared anyway, even with locking (according to the api dioc) so only the xcontext could be shared, it there&#8217;s any advantage with that.</div>
<div class="line">[Thursday 01 April 2010] [21:21:22] &lt;mikko&gt; which threads?</div>
<div class="line">[Thursday 01 April 2010] [21:21:44] &lt;dermoth&gt;   mpm_worker for example...</div>
<div class="line">[Thursday 01 April 2010] [21:22:15] &lt;mikko&gt; i&#8217;m not that fuzzed about php + threading as large amounts of libraries php interacts with are not thread-safe</div>
<div class="line">[Thursday 01 April 2010] [21:22:22] &lt;dermoth&gt;   and before you ask the fact that many modules still crash in mpm_worker doesn&#8217;t mean a new module don&#8217;t need to be thread-safe ;)</div>
<div class="line">[Thursday 01 April 2010] [21:22:34] &lt;mikko&gt; and with large amounts of globals state the threaded version of php is often slower than single proces</div>
<div class="line">[Thursday 01 April 2010] [21:22:35] &lt;dermoth&gt;   awww you asked! :)</div>
<div class="line">[Thursday 01 April 2010] [21:22:45] &lt;mikko&gt; globals=global</div>
<div class="line">[Thursday 01 April 2010] [21:22:51] &lt;dermoth&gt;   yeah I know</div>
<div class="line">[Thursday 01 April 2010] [21:23:09] &lt;dermoth&gt;   but i beliebe it&#8217;s still the best wai under IIS  though</div>
<div class="line">[Thursday 01 April 2010] [21:23:31] &lt;dermoth&gt;   I believe it&#8217;s still the best way...</div>
<div class="line">[Thursday 01 April 2010] [21:23:32] &lt;mikko&gt; i think microsoft is now recommending fcgi since IIS7</div>
<div class="line">[Thursday 01 April 2010] [21:23:39] &lt;dermoth&gt;   really?</div>
<div class="line">[Thursday 01 April 2010] [21:23:43] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 01 April 2010] [21:23:53] &lt;dermoth&gt;   I though fcgi was nearly dead...</div>
<div class="line">[Thursday 01 April 2010] [21:23:56] &lt;mikko&gt; most of their php related development efforts seem to go to fcgi</div>
<div class="line">[Thursday 01 April 2010] [21:24:44] &lt;dermoth&gt;   any chances they fear php competing their .NET market?</div>
<div class="line">[Thursday 01 April 2010] [21:24:48] &lt;dermoth&gt;   lol</div>
<div class="line">[Thursday 01 April 2010] [21:24:50] &lt;mikko&gt; ISAPI is faster but less stable</div>
<div class="line">[Thursday 01 April 2010] [21:25:05] &lt;dermoth&gt;   yes, but that&#8217;s only because of php</div>
<div class="line">[Thursday 01 April 2010] [21:25:24] &lt;dermoth&gt;   fix php and isapi will be much better, imho</div>
<div class="line">[Thursday 01 April 2010] [21:25:26] &lt;mikko&gt; well, by definition native SAPI is always going to be faster</div>
<div class="line">[Thursday 01 April 2010] [21:25:46] &lt;mikko&gt; fix php and libraries that it uses</div>
<div class="line">[Thursday 01 April 2010] [21:26:00] &lt;dermoth&gt;   yes...</div>
<div class="line">[Thursday 01 April 2010] [21:27:21] &lt;dermoth&gt;   back to php-zeromq, itn&#8217;t it would be wasteful of resources to have one context per socket, when an application use many sockets?</div>
<div class="line">[Thursday 01 April 2010] [21:29:00] &lt;mikko&gt; but the sockets are persisted so the context is created only once</div>
<div class="line">[Thursday 01 April 2010] [21:29:20] &lt;mikko&gt; i had problems allocating the context globally</div>
<div class="line">[Thursday 01 April 2010] [21:29:48] &lt;mikko&gt; i think the persistence should use EG(persistent_list) instead of random hashtable though</div>
<div class="line">[Thursday 01 April 2010] [21:30:15] &lt;dermoth&gt;   I was wondering, in a threaded environment, if there would be any advantage to have a single context shared amongst threads. but anyway my plan was to have contexts handled by the php code like in the c and python APIs that I use already.</div>
<div class="line">[Thursday 01 April 2010] [21:32:35] &lt;dermoth&gt;   and make persistence explicit trough separate function or optional arguments - persistent contexts/sockets would also have an associated key so that could could have separate persistent sockets going to the same endpoint - and same soe ctx.</div>
<div class="line">[Thursday 01 April 2010] [21:33:36] &lt;dermoth&gt;   I&#8217;m not sure how useful this is but I fear trouble when multiple application start doing advanced things using the same sockets...</div>
<div class="line">[Thursday 01 April 2010] [21:34:27] &lt;dermoth&gt;   ex what if cone app gets a rep intended for another...</div>
<div class="line">[Thursday 01 April 2010] [21:35:21] &lt;mikko&gt; but that&#8217;s always going to be problematic if you run in a shared environment</div>
<div class="line">[Thursday 01 April 2010] [21:36:05] &lt;dermoth&gt;   yes, but at least I planned an api that allow explicit separation...</div>
<div class="line">[Thursday 01 April 2010] [21:36:30] &lt;mikko&gt; explicit separation of sockets?</div>
<div class="line">[Thursday 01 April 2010] [21:38:08] &lt;dermoth&gt;   ex: zmq_socket_p($context, $type [, $key]);</div>
<div class="line">[Thursday 01 April 2010] [21:38:52] &lt;mikko&gt; the only difference is that it allows setting context excplicitly</div>
<div class="line">[Thursday 01 April 2010] [21:38:59] &lt;mikko&gt; i guess that would make sense in some scenarios</div>
<div class="line">[Thursday 01 April 2010] [21:40:35] &lt;dermoth&gt;   I think we should mimic the zmq api as much as possible. There&#8217;s a reason behind its design, alter all. copying it gives as much versatility to the language it&#8217;s being bound to</div>
<div class="line">[Thursday 01 April 2010] [21:42:26] &lt;dermoth&gt;   and adding to it where it makes sense, like adding optional persistence to php to accommodate  get general workflow in web servers...</div>
<div class="line">[Thursday 01 April 2010] [21:44:40] &lt;mikko&gt; not sure how much the threading makes sense without userland threading</div>
<div class="line">[Thursday 01 April 2010] [21:44:44] &lt;mikko&gt; which C and python have</div>
<div class="line">[Thursday 01 April 2010] [21:49:12] &lt;dermoth&gt;   python threading isn&#8217;t so much better... although at least it doesn&#8217;t crash ;)</div>
<div class="line">[Thursday 01 April 2010] [21:50:52] &lt;mikko&gt; and there is a difference between userland threading and engine level threading</div>
<div class="line">[Thursday 01 April 2010] [21:51:08] &lt;mikko&gt; to the users point of view php is always &#8216;single threaded&#8217;</div>
<div class="line">[Thursday 01 April 2010] [21:51:27] &lt;dermoth&gt;   yea...  by thread-safe I mean separating the threads so that they don&#8217;t clobber each-other</div>
<div class="line">[Thursday 01 April 2010] [21:51:30] &lt;dermoth&gt;   yes</div>
<div class="line">[Thursday 01 April 2010] [21:52:32] &lt;dermoth&gt;   i.e. instead of declaring statics, you have to use macros so that the threaded-version will allocate per-thread structures in a hash.</div>
<div class="line">[Thursday 01 April 2010] [21:52:48] &lt;dermoth&gt;   without zts, though, the macros evaluate to a simple static</div>
<div class="line">[Thursday 01 April 2010] [21:54:59] &lt;dermoth&gt;   ok maybe I will get back to coding then, and than we can see what comes out.</div>
<div class="line">[Thursday 01 April 2010] [21:55:43] &lt;mikko&gt; but still, i don&#8217;t get what the point of having different contexts would be</div>
<div class="line">[Thursday 01 April 2010] [21:55:51] &lt;mikko&gt; as you would store those into resource lists</div>
<div class="line">[Thursday 01 April 2010] [21:55:56] &lt;mikko&gt; which would be shared between threads</div>
<div class="line">[Thursday 01 April 2010] [21:56:02] &lt;mikko&gt; and you end up into same problem</div>
<div class="line">[Thursday 01 April 2010] [21:56:03] &lt;dermoth&gt;   no</div>
<div class="line">[Thursday 01 April 2010] [21:56:11] &lt;dermoth&gt;   now shared between threads</div>
<div class="line">[Thursday 01 April 2010] [21:56:14] &lt;dermoth&gt;   not</div>
<div class="line">[Thursday 01 April 2010] [21:56:43] &lt;dermoth&gt;   each thread will have its own contextes...</div>
<div class="line">[Thursday 01 April 2010] [21:57:15] &lt;mikko&gt; yes, i tried allocating context in GINIT phase but it seemed to mess up everything</div>
<div class="line">[Thursday 01 April 2010] [21:57:50] &lt;mikko&gt; GINIT should be called per globals invocation, on single process when the process starts and with threading when a thread starts</div>
<div class="line">[Thursday 01 April 2010] [21:58:10] &lt;dermoth&gt;   contexts will be initialized on demand</div>
<div class="line">[Thursday 01 April 2010] [21:58:34] &lt;dermoth&gt;   i will expost zmw_init and zmq_init_p to userland...</div>
<div class="line">[Thursday 01 April 2010] [21:58:34] &lt;mikko&gt; where do you store them internally?</div>
<div class="line">[Thursday 01 April 2010] [21:59:11] &lt;dermoth&gt;   in EG(persistent_list)</div>
<div class="line">[Thursday 01 April 2010] [21:59:26] &lt;mikko&gt; i thought persistent_list is shared between threads</div>
<div class="line">[Thursday 01 April 2010] [21:59:46] &lt;mikko&gt; i might be wrong on that though</div>
<div class="line">[Thursday 01 April 2010] [21:59:50] &lt;dermoth&gt;   is it? you can add the thread_id in that case...</div>
<div class="line">[Thursday 01 April 2010] [22:00:12] &lt;dermoth&gt;   but i hope not as it would all lots of useless locking...</div>
<div class="line">[Thursday 01 April 2010] [22:00:17] &lt;dermoth&gt;   would add</div>
<div class="line">[Thursday 01 April 2010] [22:01:10] &lt;dermoth&gt;   and worst case i&#8217;m just enclose a die between #ifdef ZTS :p</div>
<div class="line">[Thursday 01 April 2010] [22:01:29] &lt;mikko&gt; no, it has to be thread-safe</div>
<div class="line">[Thursday 01 April 2010] [22:01:30] &lt;dermoth&gt;   problem solved...</div>
<div class="line">[Thursday 01 April 2010] [22:01:34] &lt;dermoth&gt;   lol</div>
<div class="line">[Thursday 01 April 2010] [22:01:41] &lt;mikko&gt; executor globals contains stuff like user erorr handlers</div>
<div class="line">[Thursday 01 April 2010] [22:01:43] &lt;mikko&gt; and so on</div>
<div class="line">[Thursday 01 April 2010] [22:01:48] &lt;mikko&gt; they couldn&#8217;t be shared between threads</div>
<div class="line">[Thursday 01 April 2010] [22:02:11] &lt;mikko&gt; so effectively my implementation is fairly thread-safe then</div>
<div class="line">[Thursday 01 April 2010] [22:02:20] &lt;mikko&gt; you live you learn :)</div>
<div class="line">[Thursday 01 April 2010] [22:03:07] &lt;dermoth&gt;   my primary goal is learning anyway... if it might be useful it&#8217;s a plug :)</div>
<div class="line">[Thursday 01 April 2010] [22:03:09] &lt;dermoth&gt;   plus</div>
<div class="line">[Thursday 01 April 2010] [22:03:28] &lt;mikko&gt; yes, i think combined procedural + oo is very good for learning</div>
<div class="line">[Thursday 01 April 2010] [22:03:38] &lt;mikko&gt; you can probably learn alot from pecl/memcache</div>
<div class="line">[Thursday 01 April 2010] [22:03:47] &lt;mikko&gt; or ext/mysqli</div>
<div class="line">[Thursday 01 April 2010] [22:04:04] &lt;dermoth&gt;   awwww I prefer not to think about oo just yet...</div>
<div class="line">[Thursday 01 April 2010] [22:04:32] &lt;dermoth&gt;   i don&#8217;t even code PHP! Actually I manage to write simple scripts but that&#8217;S all...</div>
<div class="line">[Thursday 01 April 2010] [22:05:13] &lt;mikko&gt; if the context is in a single thread does it make sense to allocate more than 1 app thread and 1 io thread?</div>
<div class="line">[Thursday 01 April 2010] [22:05:22] &lt;dermoth&gt;   i&#8217;m not the one that the use it... I&#8217;m the sysadmin</div>
<div class="line">[Thursday 01 April 2010] [22:05:50] &lt;dermoth&gt;   the contex threads are on the library side</div>
<div class="line">[Thursday 01 April 2010] [22:06:00] &lt;dermoth&gt;   the library use threading internally</div>
<div class="line">[Thursday 01 April 2010] [22:07:18] &lt;dermoth&gt;   so yes, someone might want to set more threads if that&#8217;s the only way to squeeze the last bits of performance out of his cpu cores...</div>
<div class="line">[Thursday 01 April 2010] [22:07:43] &lt;dermoth&gt;   but I have doubts this would apply to php...</div>
<div class="line">[Thursday 01 April 2010] [22:09:32] &lt;dermoth&gt;   it&#8217;s like putting a huge truck engine on a f1... the vehicle it fast but the engine won&#8217;t allow it!</div>
<div class="line">[Thursday 01 April 2010] [22:11:42] &lt;dermoth&gt;   i might rip your header... is that the &#8220;standard&#8221; php extention header?</div>
<div class="line">[Thursday 01 April 2010] [22:12:08] &lt;dermoth&gt;   i mean the copyright block...</div>
<div class="line">[Thursday 01 April 2010] [22:16:37] &lt;mikko&gt; nope</div>
<div class="line">[Thursday 01 April 2010] [22:16:40] &lt;mikko&gt; thats the BSD license</div>
<div class="line">[Thursday 01 April 2010] [22:17:21] &lt;mikko&gt; normally the PHP stuff is under PHP license</div>
<div class="line">[Thursday 01 April 2010] [22:17:44] &lt;mikko&gt; the stuff in php.net at least</div>
<div class="line">[Thursday 01 April 2010] [22:18:23] &lt;dermoth&gt;   and it  that more like LGPL?</div>
<div class="line">[Thursday 01 April 2010] [22:19:16] &lt;mikko&gt; <a class="reference external" href="http://en.wikipedia.org/wiki/BSD_licenses#3">http://en.wikipedia.org/wiki/BSD_licenses#3</a>-<a href="#id288"><span class="problematic" id="id289">clause_license_</span></a>.28.22New_BSD_License.22.29</div>
<div class="line">[Thursday 01 April 2010] [22:19:29] &lt;dermoth&gt;   no, the php license</div>
<div class="line">[Thursday 01 April 2010] [22:19:51] &lt;mikko&gt; the only difference between PHP license and BSD license is that PHP license has a naming clause</div>
<div class="line">[Thursday 01 April 2010] [22:20:07] &lt;mikko&gt; <a class="reference external" href="http://www.php.net/license/3_01.txt">http://www.php.net/license/3_01.txt</a></div>
<div class="line">[Thursday 01 April 2010] [22:20:10] &lt;mikko&gt; see 4th clause</div>
<div class="line">[Thursday 01 April 2010] [22:20:26] &lt;dermoth&gt;   ok, like the 3-clause BSD</div>
<div class="line">[Thursday 01 April 2010] [22:22:09] &lt;mikko&gt; added an ini-setting for setting thread counts</div>
<div class="line">[Thursday 01 April 2010] [22:23:13] &lt;dermoth&gt;   so technically php-zeromq wouldn&#8217;t even be allowed without permission!</div>
<div class="line">[Thursday 01 April 2010] [22:24:19] &lt;mikko&gt; that&#8217;s just the name of the repository</div>
<div class="line">[Thursday 01 April 2010] [22:24:26] &lt;mikko&gt; the product is not called &#8216;php-zeromq&#8217;</div>
<div class="line">[Thursday 01 April 2010] [22:26:35] &lt;mikko&gt; committed a fix to the header to indicate it more clearly :)</div>
<div class="line">[Thursday 01 April 2010] [22:27:14] &lt;dermoth&gt;   i see... i&#8217;m not saying that they would though, but packaging it in something like php-zeromq-x.xx.tar.gz would be very borderline...</div>
<div class="line">[Thursday 01 April 2010] [22:28:39] &lt;mikko&gt; it&#8217;s just to clarify on github as there is &#8220;zeromq2&#8221; project already and the language isn&#8217;t really clear from the context</div>
<div class="line">[Thursday 01 April 2010] [22:29:56] &lt;mikko&gt; i&#8217;m done, 18 hours straight coding is enough for a day</div>
<div class="line">[Thursday 01 April 2010] [22:30:13] &lt;mikko&gt; good night and good luck with your php expedition</div>
<div class="line">[Friday 02 April 2010] [02:21:08] &lt;desrt&gt;   hello.</div>
<div class="line">[Friday 02 April 2010] [02:22:26] &lt;desrt&gt;   what&#8217;s the amqp story?</div>
<div class="line">[Friday 02 April 2010] [02:25:05] &lt;desrt&gt;   hm.  i&#8217;ll be back tomorrow. :)</div>
<div class="line">[Friday 02 April 2010] [02:31:04] &lt;sustrik&gt; desrt: no big deal, imatix has no stakes in amqp anymore so it&#8217;s leaving the amqp working group</div>
<div class="line">[Friday 02 April 2010] [02:52:02] &lt;sustrik&gt; dermoth, mikko: what about bringing the issue of explicit/implicit context in PHP on the mailing list?</div>
<div class="line">[Friday 02 April 2010] [02:52:37] &lt;sustrik&gt; i belive other languages with limited thread support (python? ruby?) are facing the same dilemma</div>
<div class="line">[Friday 02 April 2010] [02:53:48] &lt;dermoth&gt; sustrik, sure... I&#8217;d like to have something at least partially working first though :)</div>
<div class="line">[Friday 02 April 2010] [02:54:17] &lt;dermoth&gt; talking about amqp, why was support for it dropped, I though that was a really nice feature</div>
<div class="line">[Friday 02 April 2010] [02:54:35] &lt;dermoth&gt; no patent should cover the basic functionality anyway...</div>
<div class="line">[Friday 02 April 2010] [02:57:21] &lt;sustrik&gt; hm, it&#8217;s a long story...</div>
<div class="line">[Friday 02 April 2010] [02:57:53] &lt;sustrik&gt; basically the participation in WG was pain</div>
<div class="line">[Friday 02 April 2010] [02:58:14] &lt;sustrik&gt; it&#8217;s a design-by-committee thing so it&#8217;s political rather than technical</div>
<div class="line">[Friday 02 April 2010] [02:58:38] &lt;sustrik&gt; furthermore, the resulting design is extremely complex</div>
<div class="line">[Friday 02 April 2010] [02:58:42] &lt;dermoth&gt; I couldn&#8217;t find much about it exceps some obscure &#8220;patent&#8221; issue, but I really liked the feature for one thing I had in mind...</div>
<div class="line">[Friday 02 April 2010] [02:58:53] &lt;sustrik&gt; so making it work is really costly</div>
<div class="line">[Friday 02 April 2010] [02:59:33] &lt;sustrik&gt; so you have to invest in political fight in the working group as well as in implementation</div>
<div class="line">[Friday 02 April 2010] [02:59:34] &lt;dermoth&gt; there is no standard yet?</div>
<div class="line">[Friday 02 April 2010] [02:59:41] &lt;sustrik&gt; several versions</div>
<div class="line">[Friday 02 April 2010] [02:59:48] &lt;sustrik&gt; mutually incompatible :)</div>
<div class="line">[Friday 02 April 2010] [02:59:52] &lt;dermoth&gt; backward-compatible?</div>
<div class="line">[Friday 02 April 2010] [02:59:56] &lt;sustrik&gt; nope</div>
<div class="line">[Friday 02 April 2010] [02:59:56] &lt;dermoth&gt; ouch</div>
<div class="line">[Friday 02 April 2010] [03:00:06] &lt;sustrik&gt; design-be-committee</div>
<div class="line">[Friday 02 April 2010] [03:00:16] &lt;sustrik&gt; anyway, so you are investing a lot in the thing</div>
<div class="line">[Friday 02 April 2010] [03:00:37] &lt;sustrik&gt; and then you find out the partners are patenting around of the standard</div>
<div class="line">[Friday 02 April 2010] [03:00:45] &lt;sustrik&gt; so you get mad and quit</div>
<div class="line">[Friday 02 April 2010] [03:00:55] &lt;sustrik&gt; that&#8217;s basically it</div>
<div class="line">[Friday 02 April 2010] [03:01:03] &lt;dermoth&gt; so could it possibly be re-implemented if the WG settles on a final protocol?</div>
<div class="line">[Friday 02 April 2010] [03:01:16] &lt;sustrik&gt; you&#8217;ve seen the specification?</div>
<div class="line">[Friday 02 April 2010] [03:01:19] &lt;dermoth&gt; no</div>
<div class="line">[Friday 02 April 2010] [03:01:21] &lt;dermoth&gt; lol</div>
<div class="line">[Friday 02 April 2010] [03:01:23] &lt;sustrik&gt; latest version is 270 pages long</div>
<div class="line">[Friday 02 April 2010] [03:01:32] &lt;sustrik&gt; who&#8217;s going to pay for that?</div>
<div class="line">[Friday 02 April 2010] [03:01:38] &lt;dermoth&gt; yes but I guess you don&#8217;t need all of it...</div>
<div class="line">[Friday 02 April 2010] [03:02:03] &lt;sustrik&gt; hm, i think that&#8217;s the basic spec, let me check...</div>
<div class="line">[Friday 02 April 2010] [03:02:12] &lt;dermoth&gt; nm</div>
<div class="line">[Friday 02 April 2010] [03:03:32] &lt;dermoth&gt; well anyway it wouldn&#8217;t be hard to add a glue to it... write a piece of code that use both APIs.</div>
<div class="line">[Friday 02 April 2010] [03:04:36] &lt;dermoth&gt; like the zmq devices...</div>
<div class="line">[Friday 02 April 2010] [03:04:36] &lt;sustrik&gt; they&#8217;ve got it down to 106 pages, but it&#8217;s core spec, you have to implement it all</div>
<div class="line">[Friday 02 April 2010] [03:04:50] &lt;sustrik&gt; well, you can try</div>
<div class="line">[Friday 02 April 2010] [03:05:01] &lt;sustrik&gt; but it&#8217;s not as easy as it seems</div>
<div class="line">[Friday 02 April 2010] [03:05:11] &lt;sustrik&gt; let me explain</div>
<div class="line">[Friday 02 April 2010] [03:05:13] &lt;dermoth&gt; i&#8217;l talking of using an existing library...</div>
<div class="line">[Friday 02 April 2010] [03:05:36] &lt;sustrik&gt; something like a bridge?</div>
<div class="line">[Friday 02 April 2010] [03:05:39] &lt;dermoth&gt; yes</div>
<div class="line">[Friday 02 April 2010] [03:05:45] &lt;sustrik&gt; yes, that&#8217;s doable</div>
<div class="line">[Friday 02 April 2010] [03:06:02] &lt;dermoth&gt; like a forwarded that use both zmq and an AMQP lib, like RabbitMQ</div>
<div class="line">[Friday 02 April 2010] [03:06:20] &lt;sustrik&gt; yes that makes sense</div>
<div class="line">[Friday 02 April 2010] [03:06:21] &lt;dermoth&gt; a forwarder</div>
<div class="line">[Friday 02 April 2010] [03:06:39] &lt;sustrik&gt; combine rabbitma C client with 0MQ devices</div>
<div class="line">[Friday 02 April 2010] [03:06:45] &lt;sustrik&gt; rabbitmq*</div>
<div class="line">[Friday 02 April 2010] [03:07:15] &lt;sustrik&gt; if there&#8217;s an Erlang binding to 0MQ</div>
<div class="line">[Friday 02 April 2010] [03:07:33] &lt;sustrik&gt; you would be even able to create a &#8220;custome exchange&#8221; in rabbitmq server</div>
<div class="line">[Friday 02 April 2010] [03:07:41] &lt;sustrik&gt; that would publish messages in 0MQ format</div>
<div class="line">[Friday 02 April 2010] [03:07:47] &lt;dermoth&gt; I think rabbitmq had sifferent binding, including python</div>
<div class="line">[Friday 02 April 2010] [03:08:05] &lt;sustrik&gt; yes, it does</div>
<div class="line">[Friday 02 April 2010] [03:08:19] &lt;dermoth&gt; or could be another broker, but I remember I tested some stuff with python</div>
<div class="line">[Friday 02 April 2010] [03:08:51] &lt;sustrik&gt; i think it&#8217;s real python AMQP client</div>
<div class="line">[Friday 02 April 2010] [03:10:48] &lt;dermoth&gt; But in about the same time I found an usable AMQP API I already has finished a working client/server test with ZeroMQ... that&#8217;s what I like about it :)</div>
<div class="line">[Friday 02 April 2010] [03:11:06] &lt;dermoth&gt; had</div>
<div class="line">[Friday 02 April 2010] [03:11:06] &lt;sustrik&gt; yup, it&#8217;s simpler</div>
<div class="line">[Friday 02 April 2010] [03:12:29] &lt;sustrik&gt; the basic difference is that AMQP was developed by adding features</div>
<div class="line">[Friday 02 April 2010] [03:12:43] &lt;sustrik&gt; while 0MQ was developed by ditching features</div>
<div class="line">[Friday 02 April 2010] [03:12:45] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 02 April 2010] [03:12:55] &lt;dermoth&gt; btw I was thinking this could be a nice fit for adding authentication/encryption to zeromq: <a class="reference external" href="http://nacl.cace-project.eu/">http://nacl.cace-project.eu/</a></div>
<div class="line">[Friday 02 April 2010] [03:13:26] &lt;sustrik&gt; definitely</div>
<div class="line">[Friday 02 April 2010] [03:13:39] &lt;dermoth&gt; another project built on simplicity and speed... unfortunately it doesn&#8217;t seem very active lately.</div>
<div class="line">[Friday 02 April 2010] [03:14:04] &lt;sustrik&gt; i am not very familiar with security</div>
<div class="line">[Friday 02 April 2010] [03:14:21] &lt;sustrik&gt; but you may speak to Martin Lucina, he&#8217;s looking at security aspects of 0mq</div>
<div class="line">[Friday 02 April 2010] [03:14:49] &lt;sustrik&gt; As for me, I was thinking of it in terms of messaging on Internet</div>
<div class="line">[Friday 02 April 2010] [03:14:58] &lt;sustrik&gt; imagine a network of devices</div>
<div class="line">[Friday 02 April 2010] [03:15:15] &lt;sustrik&gt; two terminal application points trust each other</div>
<div class="line">[Friday 02 April 2010] [03:15:25] &lt;sustrik&gt; but they don&#8217;t trust the devices in the middle</div>
<div class="line">[Friday 02 April 2010] [03:15:31] &lt;sustrik&gt; what should they do?</div>
<div class="line">[Friday 02 April 2010] [03:15:37] &lt;sustrik&gt; it&#8217;s an interesting area</div>
<div class="line">[Friday 02 April 2010] [03:15:51] &lt;dermoth&gt; well I don&#8217;t think a single open-source crypto package out there takes security as seriously and professionally as this project, which is based on work and participation by D. J. Bernstein</div>
<div class="line">[Friday 02 April 2010] [03:16:16] &lt;dermoth&gt; pki is likely what you want...</div>
<div class="line">[Friday 02 April 2010] [03:16:35] &lt;sustrik&gt; quite possible, i am not an expert though, feel free to discuss it on the mailing list</div>
<div class="line">[Friday 02 April 2010] [03:16:47] &lt;dermoth&gt; share secret keys securely the first time, then tou can trust each other&lt;</div>
<div class="line">[Friday 02 April 2010] [03:17:11] &lt;dermoth&gt; err</div>
<div class="line">[Friday 02 April 2010] [03:17:13] &lt;sustrik&gt; yes, that&#8217;s the basic idea</div>
<div class="line">[Friday 02 April 2010] [03:17:14] &lt;dermoth&gt; share public keys</div>
<div class="line">[Friday 02 April 2010] [03:17:31] &lt;sustrik&gt; not think of 1 to many data distribution</div>
<div class="line">[Friday 02 April 2010] [03:17:43] &lt;sustrik&gt; each subscriber had paid for the content</div>
<div class="line">[Friday 02 April 2010] [03:17:47] &lt;sustrik&gt; got the key</div>
<div class="line">[Friday 02 April 2010] [03:17:57] &lt;sustrik&gt; now, couple of months later</div>
<div class="line">[Friday 02 April 2010] [03:18:05] &lt;sustrik&gt; one of the subscribers haven&#8217;t paid</div>
<div class="line">[Friday 02 April 2010] [03:18:13] &lt;sustrik&gt; what now?</div>
<div class="line">[Friday 02 April 2010] [03:18:30] &lt;sustrik&gt; change the keys each month?</div>
<div class="line">[Friday 02 April 2010] [03:18:53] &lt;dermoth&gt; if you don&#8217;T multicast you can use each subscriber public key to encrypt their feed</div>
<div class="line">[Friday 02 April 2010] [03:19:20] &lt;sustrik&gt; you can&#8217;t because you don&#8217;t trust devices in the middle</div>
<div class="line">[Friday 02 April 2010] [03:19:28] &lt;dermoth&gt; that won&#8217;t wotk with a PUB socket unless you tie in in tight with NaCL though</div>
<div class="line">[Friday 02 April 2010] [03:19:32] &lt;sustrik&gt; they cannot do the encryption</div>
<div class="line">[Friday 02 April 2010] [03:19:50] &lt;desrt&gt;   sustrik: ya... but you almost get the impression that [something] happened</div>
<div class="line">[Friday 02 April 2010] [03:19:53] &lt;dermoth&gt; you just have to trust the public key</div>
<div class="line">[Friday 02 April 2010] [03:19:57] &lt;desrt&gt;   sustrik: just wondering what the something is :)</div>
<div class="line">[Friday 02 April 2010] [03:20:18] &lt;dermoth&gt; then ouy know the private key associated with it is the only one that can ecrypt it</div>
<div class="line">[Friday 02 April 2010] [03:20:44] &lt;sustrik&gt; desrt: have a look above, we&#8217;ve just discussed it with dermoth</div>
<div class="line">[Friday 02 April 2010] [03:20:52] &lt;desrt&gt;   oh.  ok.  i&#8217;ll read :)</div>
<div class="line">[Friday 02 April 2010] [03:22:09] &lt;sustrik&gt; dermoth: i mean, if the middle node has to encrypt messages, original provider has to deliver unecrypted content to the middle node - now recall we don&#8217;t trust the middle node</div>
<div class="line">[Friday 02 April 2010] [03:22:43] &lt;desrt&gt;   sustrik: hmm.  that seems pretty much like how i imagined</div>
<div class="line">[Friday 02 April 2010] [03:23:00] &lt;dermoth&gt; the original provider has to encrypt, or it won&#8217;t work... or you can di a trust chain between each forwarder</div>
<div class="line">[Friday 02 April 2010] [03:23:07] &lt;sustrik&gt; desrt: shrug</div>
<div class="line">[Friday 02 April 2010] [03:23:30] &lt;desrt&gt;   sustrik: it&#8217;s not so hard to believe large standards descending into design-by-comittee patent messes</div>
<div class="line">[Friday 02 April 2010] [03:24:10] &lt;sustrik&gt; dermoth: if you are interested in the area, take it to the mailing list; you&#8217;ll get much more educated audience there</div>
<div class="line">[Friday 02 April 2010] [03:24:20]    * sustrik is security idiot</div>
<div class="line">[Friday 02 April 2010] [03:24:41] &lt;sustrik&gt; desrt: it happens all the time</div>
<div class="line">[Friday 02 April 2010] [03:24:50] &lt;sustrik&gt; think of telco standards</div>
<div class="line">[Friday 02 April 2010] [03:24:50] &lt;dermoth&gt; ok, but it&#8217;s not on my roadmap just yet</div>
<div class="line">[Friday 02 April 2010] [03:24:55] &lt;sustrik&gt; sure</div>
<div class="line">[Friday 02 April 2010] [03:26:11] &lt;desrt&gt;   my only concern is taht amqp will become a widely-deployed standard nonetheless</div>
<div class="line">[Friday 02 April 2010] [03:26:20] &lt;desrt&gt;   and 0mq will be this thing that nobody uses</div>
<div class="line">[Friday 02 April 2010] [03:26:51] &lt;desrt&gt;   although the community around 0mq looks pretty active at the moment, which is nice</div>
<div class="line">[Friday 02 April 2010] [03:27:01] &lt;sustrik&gt; desrt: think of it this way:</div>
<div class="line">[Friday 02 April 2010] [03:27:21] &lt;sustrik&gt; &#8220;standard&#8221; means formalisation of best practices in the area</div>
<div class="line">[Friday 02 April 2010] [03:27:32] &lt;sustrik&gt; it&#8217;s strictly non-experimental</div>
<div class="line">[Friday 02 April 2010] [03:27:58] &lt;sustrik&gt; so what AMQP does is to formalise best practices for messaging in corporate environment</div>
<div class="line">[Friday 02 April 2010] [03:28:06] &lt;dermoth&gt; well i&#8217;m out, it&#8217;s pretty late here. see you...</div>
<div class="line">[Friday 02 April 2010] [03:28:12] &lt;sustrik&gt; cyl</div>
<div class="line">[Friday 02 April 2010] [03:28:16] &lt;desrt&gt;   ta</div>
<div class="line">[Friday 02 April 2010] [03:28:24] &lt;sustrik&gt; which are kind of broken anyway</div>
<div class="line">[Friday 02 April 2010] [03:28:28] &lt;sustrik&gt; or maybe not broken</div>
<div class="line">[Friday 02 April 2010] [03:28:39] &lt;sustrik&gt; but require large IT depts</div>
<div class="line">[Friday 02 April 2010] [03:28:52] &lt;desrt&gt;   the other thing is that 0mq seems not to support as rich of a routing model...</div>
<div class="line">[Friday 02 April 2010] [03:29:26] &lt;sustrik&gt; you mean complex routing criteria, say a SQL-like subscriptions</div>
<div class="line">[Friday 02 April 2010] [03:29:27] &lt;sustrik&gt; ?</div>
<div class="line">[Friday 02 April 2010] [03:29:42] &lt;desrt&gt;   no.  not criteria</div>
<div class="line">[Friday 02 April 2010] [03:29:57] &lt;desrt&gt;   but more like network traversal/propagation</div>
<div class="line">[Friday 02 April 2010] [03:30:18] &lt;desrt&gt;   the stuff that brokers did</div>
<div class="line">[Friday 02 April 2010] [03:30:35] &lt;sustrik&gt; there are devices that do the same thing</div>
<div class="line">[Friday 02 April 2010] [03:30:51] &lt;sustrik&gt; say zmq_forwarder is an app that acts a simple broker</div>
<div class="line">[Friday 02 April 2010] [03:31:09] &lt;desrt&gt;   so there is still support for asynchronous message queuing, etc</div>
<div class="line">[Friday 02 April 2010] [03:31:16] &lt;sustrik&gt; definitely</div>
<div class="line">[Friday 02 April 2010] [03:31:23] &lt;desrt&gt;   well</div>
<div class="line">[Friday 02 April 2010] [03:31:29] &lt;desrt&gt;   definitely seems like it&#8217;s worth looking into for me</div>
<div class="line">[Friday 02 April 2010] [03:31:38] &lt;sustrik&gt; sure, have a look</div>
<div class="line">[Friday 02 April 2010] [03:31:44] &lt;desrt&gt;   you guys made reddit, btw</div>
<div class="line">[Friday 02 April 2010] [03:31:56] &lt;sustrik&gt; ah, let me see...</div>
<div class="line">[Friday 02 April 2010] [03:32:01] &lt;desrt&gt;   <a class="reference external" href="http://www.reddit.com/r/programming/comments/bl9rb/while_imatix_was_the_original_designer_of_amqp_we/">http://www.reddit.com/r/programming/comments/bl9rb/while_imatix_was_the_original_designer_of_amqp_we/</a></div>
<div class="line">[Friday 02 April 2010] [03:32:10] &lt;desrt&gt;   that&#8217;s what brought me here</div>
<div class="line">[Friday 02 April 2010] [03:32:48] &lt;desrt&gt;   well, it made the frontpage of the programming reddit, anyway</div>
<div class="line">[Friday 02 April 2010] [03:34:02] &lt;sustrik&gt; 1000 hits on the website yesterday</div>
<div class="line">[Friday 02 April 2010] [03:34:17] &lt;sustrik&gt; not that bad for esoteric networking product</div>
<div class="line">[Friday 02 April 2010] [03:34:21] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 02 April 2010] [03:41:52] &lt;desrt&gt;   you guys need to get ubuntu packages</div>
<div class="line">[Friday 02 April 2010] [03:47:32] &lt;sustrik&gt; desrt: there are debian packages atm</div>
<div class="line">[Friday 02 April 2010] [03:47:38] &lt;sustrik&gt; should work with ubuntu</div>
<div class="line">[Friday 02 April 2010] [03:47:50] &lt;desrt&gt;   hm  nice</div>
<div class="line">[Friday 02 April 2010] [03:50:22] &lt;desrt&gt;   i meant more like having stuff in the repository :)</div>
<div class="line">[Friday 02 April 2010] [03:51:28] &lt;sustrik&gt; you mean the package build sources?</div>
<div class="line">[Friday 02 April 2010] [03:51:38] &lt;sustrik&gt; it&#8217;s in /debian subdirectory</div>
<div class="line">[Friday 02 April 2010] [03:51:42] &lt;desrt&gt;   no</div>
<div class="line">[Friday 02 April 2010] [03:51:51] &lt;sustrik&gt; a download?</div>
<div class="line">[Friday 02 April 2010] [03:51:53] &lt;desrt&gt;   i mean like, i should be able to type apt-get install zeromq</div>
<div class="line">[Friday 02 April 2010] [03:52:03] &lt;sustrik&gt; ah</div>
<div class="line">[Friday 02 April 2010] [03:52:09] &lt;sustrik&gt; it&#8217;s moving upstream</div>
<div class="line">[Friday 02 April 2010] [03:52:17] &lt;sustrik&gt; it takes time till it gets there</div>
<div class="line">[Friday 02 April 2010] [03:52:31] &lt;desrt&gt;   probably too late for this cycle anyway</div>
<div class="line">[Friday 02 April 2010] [03:52:45]    * desrt has already been pushing his luck with freeze breaks</div>
<div class="line">[Friday 02 April 2010] [03:53:39] &lt;sustrik&gt; it&#8217;s in &#8220;unstable&#8221; state</div>
<div class="line">[Friday 02 April 2010] [03:53:40] &lt;sustrik&gt; <a class="reference external" href="http://packages.debian.org/unstable/zeromq-bin">http://packages.debian.org/unstable/zeromq-bin</a></div>
<div class="line">[Friday 02 April 2010] [03:53:52] &lt;desrt&gt;   bin, eh?</div>
<div class="line">[Friday 02 April 2010] [03:53:56] &lt;desrt&gt;   what utils are those?</div>
<div class="line">[Friday 02 April 2010] [03:54:43] &lt;sustrik&gt; ah, those are just the devices</div>
<div class="line">[Friday 02 April 2010] [03:55:39] &lt;sustrik&gt; source package:</div>
<div class="line">[Friday 02 April 2010] [03:55:40] &lt;sustrik&gt; <a class="reference external" href="http://packages.debian.org/source/sid/zeromq">http://packages.debian.org/source/sid/zeromq</a></div>
<div class="line">[Friday 02 April 2010] [03:55:56] &lt;sustrik&gt; there are links to lib and dev packages there</div>
<div class="line">[Friday 02 April 2010] [03:56:05] &lt;desrt&gt;   thanks</div>
<div class="line">[Friday 02 April 2010] [04:05:41] &lt;desrt&gt;   sustrik: is this debian package up-to-date and in good standing?</div>
<div class="line">[Friday 02 April 2010] [04:07:00] &lt;desrt&gt;   (ie: no terrible bugs in it that have been fixed in master)</div>
<div class="line">[Friday 02 April 2010] [04:07:15] &lt;sustrik&gt; it&#8217;s the last release (2.0.6)</div>
<div class="line">[Friday 02 April 2010] [04:07:32] &lt;sustrik&gt; the master is a bit ustable now</div>
<div class="line">[Friday 02 April 2010] [04:07:40] &lt;sustrik&gt; so rather use the last release</div>
<div class="line">[Friday 02 April 2010] [04:08:59] &lt;desrt&gt;   ok</div>
<div class="line">[Friday 02 April 2010] [04:15:58] &lt;desrt&gt;   ok.  i&#8217;m going to push my luck one more time :)</div>
<div class="line">[Friday 02 April 2010] [04:21:40] &lt;desrt&gt;   sustrik: it seems that the freeze exception is likely to be granted</div>
<div class="line">[Friday 02 April 2010] [04:27:04] &lt;sustrik&gt; desrt: i&#8217;m not familir with the process</div>
<div class="line">[Friday 02 April 2010] [04:27:09] &lt;sustrik&gt; what does that mean?</div>
<div class="line">[Friday 02 April 2010] [04:27:27] &lt;desrt&gt;   sustrik: normally ubuntu is frozen for new packages at this point (the release is coming out later this month)</div>
<div class="line">[Friday 02 April 2010] [04:27:35] &lt;desrt&gt;   but i&#8217;ve requested a freeze break</div>
<div class="line">[Friday 02 April 2010] [04:27:47] &lt;sustrik&gt; desrt: nice</div>
<div class="line">[Friday 02 April 2010] [04:27:48] &lt;sustrik&gt; thanks</div>
<div class="line">[Friday 02 April 2010] [04:28:09] &lt;desrt&gt;   i want to use this stuff and having packages in the OS obviously makes that a lot easier for me :)</div>
<div class="line">[Friday 02 April 2010] [04:28:55] &lt;sustrik&gt; helping with packaging is appreciated</div>
<div class="line">[Friday 02 April 2010] [04:29:22] &lt;desrt&gt;   heh.  i&#8217;m not helping.  just asking for favours. :)</div>
<div class="line">[Friday 02 April 2010] [04:29:37] &lt;sustrik&gt; i&#8217;m leaving now; see you all after the holiday</div>
<div class="line">[Friday 02 April 2010] [04:29:41] &lt;sustrik&gt; happy Easter!</div>
<div class="line">[Friday 02 April 2010] [04:29:45] &lt;desrt&gt;   have a good weekend</div>
<div class="line">[Friday 02 April 2010] [04:29:49] &lt;desrt&gt;   thanks for your help this evening</div>
<div class="line">[Friday 02 April 2010] [06:57:57] &lt;mikko&gt;   sustrik: good morning</div>
<div class="line">[Friday 02 April 2010] [07:59:08] &lt;jldupont&gt;    hi - where is the wire-format for 0mq?  I&#8217;d like to build an Erlang binding for it.</div>
<div class="line">[Friday 02 April 2010] [07:59:21] &lt;jldupont&gt;    been browsing the site like crazy!!!</div>
<div class="line">[Friday 02 April 2010] [08:01:32] &lt;jldupont&gt;    anybody??</div>
<div class="line">[Friday 02 April 2010] [08:04:40] &lt;mikko&gt;   jldupont: can erlang use C libraries?</div>
<div class="line">[Friday 02 April 2010] [08:07:41] &lt;jldupont&gt;    mikko: yes... but the comm between the C library and erlang will be through.... sockets!</div>
<div class="line">[Friday 02 April 2010] [08:08:17] &lt;jldupont&gt;    mikko: that&#8217;s one way of doing it... there is a direct binding but the polling issue surfaces then....</div>
<div class="line">[Friday 02 April 2010] [08:08:27] &lt;jldupont&gt;    I&#8217;d rather bind directly over TCP/UDP</div>
<div class="line">[Friday 02 April 2010] [08:09:20] &lt;mikko&gt;   jldupont: ok, i think if you wait for a while you might get some help</div>
<div class="line">[Friday 02 April 2010] [08:09:28] &lt;mikko&gt;   it&#8217;s good friday and people might be with their families</div>
<div class="line">[Friday 02 April 2010] [08:11:24] &lt;jldupont&gt;    mikko: understood... thanks!</div>
<div class="line">[Friday 02 April 2010] [08:15:29] &lt;mikko&gt;   jldupont: it might even be that you need to wait until holiday is over. although you can probably extract the wire protocol from the source</div>
<div class="line">[Friday 02 April 2010] [08:37:58] &lt;FlaPer87&gt;    hey guys, are there some guidlines to install 0mq on windows?</div>
<div class="line">[Friday 02 April 2010] [08:38:37] &lt;FlaPer87&gt;    I built it with visual studio but I can&#8217;t find the zeromq_server command, how do I start the server?</div>
<div class="line">[Friday 02 April 2010] [09:37:47] &lt;FlaPer87&gt;    is there a sample configuration file somewhere?</div>
<div class="line">[Friday 02 April 2010] [17:51:30] &lt;<a href="#id290"><span class="problematic" id="id291">jomofo_</span></a>&gt; Any pointers for troubleshooting UnsatisfiedLinkError (no jzmq on java.library.path) on 64-bit Ubuntu 9.10 ?  I installed both libzmq and libjzmq to /usr/local/lib, ran ldconfig, set java.library.path and go, but no luck</div>
<div class="line">[Friday 02 April 2010] [23:01:34] &lt;old_sound&gt;   hi, I&#8217;ve just cloned the github repo, but I can&#8217;t find instructions on how to build it, there&#8217;s no INSTALL file as reported in the README</div>
<div class="line">[Friday 02 April 2010] [23:03:22] &lt;old_sound&gt;   OK, found it, had to run ./autogen.sh</div>
<div class="line">[Saturday 03 April 2010] [02:14:15] &lt;dermoth&gt;   old_sound, I&#8217;ve heard the master is a bit unstable, so unless you&#8217;re doing development you should use the latest release instead</div>
<div class="line">[Saturday 03 April 2010] [02:14:30] &lt;old_sound&gt; ok</div>
<div class="line">[Saturday 03 April 2010] [12:47:44] &lt;<a href="#id292"><span class="problematic" id="id293">jomofo_</span></a>&gt;   Any pointers for troubleshooting UnsatisfiedLinkError (no jzmq on java.library.path) on 64-bit Ubuntu 9.10 ?  I installed both libzmq and libjzmq to /usr/local/lib, ran ldconfig, set java.library.path and go, but no luck</div>
<div class="line">[Saturday 03 April 2010] [13:17:45] &lt;<a href="#id294"><span class="problematic" id="id295">jomofo_</span></a>&gt;   I think I found my problem I was setting java.library.path correctly, but wasn&#8217;t setting LD_LIBRARY_PATH.  I guess libjzmq wasn&#8217;t able to load libzmq because of that.  Thanks for listening to me ramble</div>
<div class="line">[Saturday 03 April 2010] [13:42:11] &lt;<a href="#id296"><span class="problematic" id="id297">jomofo_</span></a>&gt;   Just out of curiosity, why is the Java namespace org.zmq instead of org.zeromq?  If I visit zmq.org I get a parking lot</div>
<div class="line">[Saturday 03 April 2010] [16:36:44] &lt;mikko&gt; good evening</div>
<div class="line">[Saturday 03 April 2010] [16:37:43] &lt;mikko&gt; <a href="#id298"><span class="problematic" id="id299">jomofo_</span></a>: do you have /usr/local/lib in ld.so.conf ?</div>
<div class="line">[Saturday 03 April 2010] [16:37:52] &lt;mikko&gt; <a href="#id300"><span class="problematic" id="id301">jomofo_</span></a>: does ldconfig &#8211;print | grep zmq show the library?</div>
<div class="line">[Saturday 03 April 2010] [16:45:34] &lt;<a href="#id302"><span class="problematic" id="id303">jomofo_</span></a>&gt;   mikki, yes, both libzmq and libjzmq are there</div>
<div class="line">[Saturday 03 April 2010] [16:46:33] &lt;<a href="#id304"><span class="problematic" id="id305">jomofo_</span></a>&gt;   mikko: oops, %s/mikki/mikko/</div>
<div class="line">[Saturday 03 April 2010] [16:55:57] &lt;<a href="#id306"><span class="problematic" id="id307">jomofo_</span></a>&gt;   mikko: and /usr/local/lib is in /etc/ld.so.conf.d/libc.conf which is included by /etc/ld.so.conf</div>
<div class="line">[Saturday 03 April 2010] [16:56:35] &lt;<a href="#id308"><span class="problematic" id="id309">jomofo_</span></a>&gt;   mikko: If I define $LD_LIBRARY_PATH as /usr/local/lib it works, but not without it</div>
<div class="line">[Saturday 03 April 2010] [17:52:43] &lt;mikko&gt; <a href="#id310"><span class="problematic" id="id311">jomofo_</span></a>: does the java program you start override LD_LIBRARY_PATH?</div>
<div class="line">[Saturday 03 April 2010] [18:02:43] &lt;<a href="#id312"><span class="problematic" id="id313">jomofo_</span></a>&gt;   mikko: I don&#8217;t believe so.  It&#8217;s just a simple unit test to see if I can use the jzmq bindings, but I am running it via Maven2</div>
<div class="line">[Saturday 03 April 2010] [18:07:24] &lt;mikko&gt; have you tried mvn -X ?</div>
<div class="line">[Saturday 03 April 2010] [18:07:31] &lt;mikko&gt; it might give more insight (or not)</div>
<div class="line">[Sunday 04 April 2010] [08:24:27] &lt;mikko&gt;   good morning</div>
<div class="line">[Sunday 04 April 2010] [08:34:37] &lt;Skaag&gt;   good morning mikko</div>
<div class="line">[Sunday 04 April 2010] [08:34:39] &lt;Skaag&gt;   :-)</div>
<div class="line">[Sunday 04 April 2010] [08:41:59] &lt;mikko&gt;   i added a couple of more doc pages</div>
<div class="line">[Sunday 04 April 2010] [08:42:00] &lt;mikko&gt;   <a class="reference external" href="http://wiki.github.com/mkoppanen/php-zeromq/persistent-context-socket">http://wiki.github.com/mkoppanen/php-zeromq/persistent-context-socket</a></div>
<div class="line">[Sunday 04 April 2010] [08:42:10] &lt;mikko&gt;   and updated this a bit <a class="reference external" href="http://wiki.github.com/mkoppanen/php-zeromq/api-documentation">http://wiki.github.com/mkoppanen/php-zeromq/api-documentation</a></div>
<div class="line">[Sunday 04 April 2010] [08:55:17] &lt;Skaag&gt;   awesome</div>
<div class="line">[Sunday 04 April 2010] [08:56:48] &lt;mikko&gt;   now, time to head out to see tiergarten and brandenburg tor</div>
<div class="line">[Sunday 04 April 2010] [08:56:50] &lt;mikko&gt;   laters</div>
<div class="line">[Sunday 04 April 2010] [09:45:47] &lt;Skaag&gt;   tiergarten or biergarten?! :-)</div>
<div class="line">[Sunday 04 April 2010] [12:31:31] &lt;<a href="#id314"><span class="problematic" id="id315">jomofo_</span></a>&gt; If I want to create a new language binding for 0MQ, should I use the LGPL? The language is friendlier toward the Eclipse license, but I think either would work.</div>
<div class="line">[Sunday 04 April 2010] [14:10:40] &lt;desrt&gt;   sustrik: hey</div>
<div class="line">[Sunday 04 April 2010] [14:12:03] &lt;sustrik&gt; desrt: hi</div>
<div class="line">[Sunday 04 April 2010] [14:13:20] &lt;desrt&gt;   sustrik: are you a zmq developer?</div>
<div class="line">[Sunday 04 April 2010] [14:13:27] &lt;desrt&gt;   (just out of curiosity)</div>
<div class="line">[Sunday 04 April 2010] [14:13:45] &lt;sustrik&gt; you mean whether i wrote the 0mq code?</div>
<div class="line">[Sunday 04 April 2010] [14:13:51] &lt;sustrik&gt; yes, most of it</div>
<div class="line">[Sunday 04 April 2010] [14:13:56] &lt;desrt&gt;   cool</div>
<div class="line">[Sunday 04 April 2010] [14:14:12] &lt;desrt&gt;   a few questions</div>
<div class="line">[Sunday 04 April 2010] [14:14:28] &lt;desrt&gt;   1) is there any chance of some convenience additions/cleanups to some of the APIs?</div>
<div class="line">[Sunday 04 April 2010] [14:14:46] &lt;sustrik&gt; <a href="#id316"><span class="problematic" id="id317">jomofo_</span></a>: you can use any license that suits you</div>
<div class="line">[Sunday 04 April 2010] [14:15:02] &lt;desrt&gt;   like maybe using opaque structure types zmq_socket_t, zmq_context_t instead of void*</div>
<div class="line">[Sunday 04 April 2010] [14:15:16] &lt;desrt&gt;   and having all methods on sockets start like <a href="#id318"><span class="problematic" id="id319">zmq_socket_</span></a> {send, recv, whatever}</div>
<div class="line">[Sunday 04 April 2010] [14:15:35] &lt;desrt&gt;   (note: zmq_msg follows this convention, but not socket and context)</div>
<div class="line">[Sunday 04 April 2010] [14:15:38] &lt;sustrik&gt; desrt: the method names are based on POSIX socket API</div>
<div class="line">[Sunday 04 April 2010] [14:15:51] &lt;desrt&gt;   ah.  interesting.</div>
<div class="line">[Sunday 04 April 2010] [14:15:58] &lt;sustrik&gt; usign zmq_type_function would break the 1:1 correspondence</div>
<div class="line">[Sunday 04 April 2010] [14:16:19] &lt;desrt&gt;   well.. the correspondence is already fairly loose...</div>
<div class="line">[Sunday 04 April 2010] [14:16:24] &lt;desrt&gt;   they take pointers intaed of fds</div>
<div class="line">[Sunday 04 April 2010] [14:16:35] &lt;desrt&gt;   and strings instead of struct sockaddr and size</div>
<div class="line">[Sunday 04 April 2010] [14:16:49] &lt;sustrik&gt; that&#8217;s because POSIX doesn&#8217;t allow for user-space implementation of fds</div>
<div class="line">[Sunday 04 April 2010] [14:17:23] &lt;sustrik&gt; if the codebase ever moves to kernel space the void* would of course be replaced by fd</div>
<div class="line">[Sunday 04 April 2010] [14:17:25] &lt;desrt&gt;   hm.</div>
<div class="line">[Sunday 04 April 2010] [14:17:32] &lt;sustrik&gt; context will drop out entirely</div>
<div class="line">[Sunday 04 April 2010] [14:17:34] &lt;desrt&gt;   interesting.</div>
<div class="line">[Sunday 04 April 2010] [14:18:15] &lt;desrt&gt;   ok.  higher level question:</div>
<div class="line">[Sunday 04 April 2010] [14:18:41] &lt;desrt&gt;   say i have a publisher of a stream of events and many subscribers to that stream</div>
<div class="line">[Sunday 04 April 2010] [14:18:57] &lt;desrt&gt;   and some devices in between storing the events</div>
<div class="line">[Sunday 04 April 2010] [14:19:11] &lt;desrt&gt;   how does a subscriber tell a device about which events it has already seen?</div>
<div class="line">[Sunday 04 April 2010] [14:20:04] &lt;desrt&gt;   is this part of the ZMQ_SUBSCRIBE sockopt?</div>
<div class="line">[Sunday 04 April 2010] [14:20:31] &lt;sustrik&gt; it&#8217;s like a radio transmission, you start getting messages at the point when you create the connection</div>
<div class="line">[Sunday 04 April 2010] [14:20:39] &lt;sustrik&gt; you&#8217;ll never get older messages</div>
<div class="line">[Sunday 04 April 2010] [14:20:49] &lt;desrt&gt;   oh.</div>
<div class="line">[Sunday 04 April 2010] [14:21:20] &lt;desrt&gt;   i was under the impressiont that devices could queue up events</div>
<div class="line">[Sunday 04 April 2010] [14:21:56] &lt;desrt&gt;   so that implies that it&#8217;s quite possible to miss events in the case of shaky connectivity, then?</div>
<div class="line">[Sunday 04 April 2010] [14:21:56] &lt;sustrik&gt; they can, but in PUB/SUB messaging pattern it simply doesn&#8217;t make sense</div>
<div class="line">[Sunday 04 April 2010] [14:22:07] &lt;sustrik&gt; how long would you cache the events?</div>
<div class="line">[Sunday 04 April 2010] [14:22:09] &lt;sustrik&gt; a day?</div>
<div class="line">[Sunday 04 April 2010] [14:22:12] &lt;sustrik&gt; month?</div>
<div class="line">[Sunday 04 April 2010] [14:22:14] &lt;sustrik&gt; year?</div>
<div class="line">[Sunday 04 April 2010] [14:22:26] &lt;desrt&gt;   i have two possible answers</div>
<div class="line">[Sunday 04 April 2010] [14:22:29] &lt;desrt&gt;   the easy one is &#8220;forever&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:22:38] &lt;sustrik&gt; out of memory results</div>
<div class="line">[Sunday 04 April 2010] [14:22:40] &lt;desrt&gt;   the less easy one goes something like this:</div>
<div class="line">[Sunday 04 April 2010] [14:22:47] &lt;desrt&gt;   you maintain a list of active subscribers</div>
<div class="line">[Sunday 04 April 2010] [14:23:01] &lt;desrt&gt;   each subscriber must check in at least once a month (say) to keep their subscription valid</div>
<div class="line">[Sunday 04 April 2010] [14:23:11] &lt;desrt&gt;   and you keep events so long as you have active subscribers who the server knows are not up-to-date</div>
<div class="line">[Sunday 04 April 2010] [14:23:33] &lt;sustrik&gt; how do you know there&#8217;ll be a subscriber before it evn connects?</div>
<div class="line">[Sunday 04 April 2010] [14:23:53] &lt;desrt&gt;   i&#8217;m saying that a subscriber isn&#8217;t a subscriber until they first subscribe</div>
<div class="line">[Sunday 04 April 2010] [14:24:11] &lt;sustrik&gt; ah, sure, it works that way</div>
<div class="line">[Sunday 04 April 2010] [14:24:33] &lt;desrt&gt;   ah.  nice.</div>
<div class="line">[Sunday 04 April 2010] [14:24:37] &lt;desrt&gt;   so i can subscribe</div>
<div class="line">[Sunday 04 April 2010] [14:24:39] &lt;sustrik&gt; the only thing you need to do is set the identity of the subscriber</div>
<div class="line">[Sunday 04 April 2010] [14:24:39] &lt;desrt&gt;   go away for a week</div>
<div class="line">[Sunday 04 April 2010] [14:24:44] &lt;desrt&gt;   come back and say &#8220;i&#8217;m back!&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:24:50] &lt;desrt&gt;   and get a list of everything that happened meanwhile?</div>
<div class="line">[Sunday 04 April 2010] [14:24:50] &lt;sustrik&gt; so that the peer knows it&#8217;s the same subscriber</div>
<div class="line">[Sunday 04 April 2010] [14:24:57] &lt;sustrik&gt; when reconnection happens</div>
<div class="line">[Sunday 04 April 2010] [14:24:59] &lt;desrt&gt;   yes.  that&#8217;s exactly what i&#8217;m getting at</div>
<div class="line">[Sunday 04 April 2010] [14:25:02] &lt;desrt&gt;   awesome :)</div>
<div class="line">[Sunday 04 April 2010] [14:25:10] &lt;sustrik&gt; you just get it</div>
<div class="line">[Sunday 04 April 2010] [14:25:17] &lt;sustrik&gt; no need to do anything special</div>
<div class="line">[Sunday 04 April 2010] [14:25:58] &lt;desrt&gt;   so just popping a uuid in there is a reasonable thing to do</div>
<div class="line">[Sunday 04 April 2010] [14:26:33] &lt;sustrik&gt; well, the uuid is generated automatically anyway</div>
<div class="line">[Sunday 04 April 2010] [14:26:39] &lt;sustrik&gt; what you have to ensure</div>
<div class="line">[Sunday 04 April 2010] [14:26:49] &lt;desrt&gt;   ya.  but i need it to be the same oen across invocations</div>
<div class="line">[Sunday 04 April 2010] [14:26:55] &lt;sustrik&gt; if you want the subscription to last after subscriber&#8217;s restart</div>
<div class="line">[Sunday 04 April 2010] [14:27:06] &lt;sustrik&gt; is that the identity is always the same</div>
<div class="line">[Sunday 04 April 2010] [14:27:11] &lt;desrt&gt;   so how does that work with respect to subscriptions timing out?</div>
<div class="line">[Sunday 04 April 2010] [14:27:20] &lt;desrt&gt;   surely the server won&#8217;t save messages for an identity forever...</div>
<div class="line">[Sunday 04 April 2010] [14:27:21] &lt;sustrik&gt; no timeouts</div>
<div class="line">[Sunday 04 April 2010] [14:27:29] &lt;sustrik&gt; it would now :)</div>
<div class="line">[Sunday 04 April 2010] [14:27:33] &lt;desrt&gt;   heh</div>
<div class="line">[Sunday 04 April 2010] [14:27:43] &lt;desrt&gt;   so it has an on-disk cache, or....?</div>
<div class="line">[Sunday 04 April 2010] [14:27:44] &lt;sustrik&gt; feel free to make a patch</div>
<div class="line">[Sunday 04 April 2010] [14:27:54] &lt;sustrik&gt; in-memory</div>
<div class="line">[Sunday 04 April 2010] [14:27:58] &lt;desrt&gt;   oh</div>
<div class="line">[Sunday 04 April 2010] [14:28:01] &lt;desrt&gt;   so it only saves it until reboot...</div>
<div class="line">[Sunday 04 April 2010] [14:28:08] &lt;sustrik&gt; yes</div>
<div class="line">[Sunday 04 April 2010] [14:28:11] &lt;desrt&gt;   hrmph</div>
<div class="line">[Sunday 04 April 2010] [14:28:25]    * desrt was looking for something a little more reliable</div>
<div class="line">[Sunday 04 April 2010] [14:28:43] &lt;sustrik&gt; sure, there&#8217;s a lot of messaging solutions out there</div>
<div class="line">[Sunday 04 April 2010] [14:28:51] &lt;sustrik&gt; rabbitma, activemq etc.</div>
<div class="line">[Sunday 04 April 2010] [14:29:02] &lt;sustrik&gt; try one of those</div>
<div class="line">[Sunday 04 April 2010] [14:29:02] &lt;desrt&gt;   ya.  i&#8217;ve had a look around</div>
<div class="line">[Sunday 04 April 2010] [14:29:08] &lt;desrt&gt;   what attracted me to zmq was its simplicity</div>
<div class="line">[Sunday 04 April 2010] [14:29:24] &lt;sustrik&gt; yup</div>
<div class="line">[Sunday 04 April 2010] [14:29:30] &lt;desrt&gt;   my original introduction to this stuff was via a talk about amqp at fudcon</div>
<div class="line">[Sunday 04 April 2010] [14:29:35] &lt;sustrik&gt; however, it&#8217;s not as feature complete as other projects</div>
<div class="line">[Sunday 04 April 2010] [14:30:13] &lt;sustrik&gt; they&#8217;ve mentioned 0mq?</div>
<div class="line">[Sunday 04 April 2010] [14:30:15] &lt;desrt&gt;   i walked out of the room thinking &#8220;neat.  sounds useful.  way too bloated/complex.&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:30:17] &lt;sustrik&gt; interesting</div>
<div class="line">[Sunday 04 April 2010] [14:30:20] &lt;desrt&gt;   no</div>
<div class="line">[Sunday 04 April 2010] [14:30:43] &lt;desrt&gt;   a few days ago i saw a post on reddit about 0mq being by the original makers of amqp because amqp had gotten too bloated/complex</div>
<div class="line">[Sunday 04 April 2010] [14:30:51] &lt;sustrik&gt; ok, i see</div>
<div class="line">[Sunday 04 April 2010] [14:30:57] &lt;desrt&gt;   and i was like &#8220;hm.  i agree.  it must be nice!&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:31:13] &lt;sustrik&gt; well, persistence is still missing</div>
<div class="line">[Sunday 04 April 2010] [14:31:21] &lt;desrt&gt;   i&#8217;m writing the configuration system for GNOME 3</div>
<div class="line">[Sunday 04 April 2010] [14:31:31] &lt;desrt&gt;   currently figuring out how to do network support</div>
<div class="line">[Sunday 04 April 2010] [14:31:46] &lt;sustrik&gt; why do you need persistence?</div>
<div class="line">[Sunday 04 April 2010] [14:32:09] &lt;desrt&gt;   it has support for databases on your computer that are controlled by someone else</div>
<div class="line">[Sunday 04 April 2010] [14:32:13] &lt;desrt&gt;   &#8220;site settings&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:32:28] &lt;desrt&gt;   the way it works, when you are online with the network the updates come right away</div>
<div class="line">[Sunday 04 April 2010] [14:32:34] &lt;desrt&gt;   and you keep a local copy</div>
<div class="line">[Sunday 04 April 2010] [14:32:38] &lt;desrt&gt;   so when you go offline you still have the settings</div>
<div class="line">[Sunday 04 April 2010] [14:32:44] &lt;desrt&gt;   and when you connect again, it syncs back up</div>
<div class="line">[Sunday 04 April 2010] [14:33:22] &lt;sustrik&gt; ok, understood</div>
<div class="line">[Sunday 04 April 2010] [14:33:41] &lt;desrt&gt;   i currently have a flaky hand-written tcp protocol to do this</div>
<div class="line">[Sunday 04 April 2010] [14:33:54] &lt;desrt&gt;   was looking for something a bit less crappy</div>
<div class="line">[Sunday 04 April 2010] [14:34:37] &lt;desrt&gt;   also: i&#8217;m sort of drawn to the idea that people could do cool stuff with zeromq that has nothing to do with my particular use case that would result in new ways for people to use my stuff</div>
<div class="line">[Sunday 04 April 2010] [14:34:52] &lt;desrt&gt;   like add new queue or distribution logic, etc...</div>
<div class="line">[Sunday 04 April 2010] [14:35:04] &lt;sustrik&gt; desrt: right</div>
<div class="line">[Sunday 04 April 2010] [14:35:12] &lt;sustrik&gt; still, at the moment there&#8217;s no persistence</div>
<div class="line">[Sunday 04 April 2010] [14:35:33] &lt;sustrik&gt; so you have 3 options:</div>
<div class="line">[Sunday 04 April 2010] [14:35:41] &lt;sustrik&gt; 1. build persistence on top of 0mq</div>
<div class="line">[Sunday 04 April 2010] [14:35:44] &lt;sustrik&gt; 2. patch 0mq</div>
<div class="line">[Sunday 04 April 2010] [14:35:56] &lt;sustrik&gt; 3. move to a different solution</div>
<div class="line">[Sunday 04 April 2010] [14:36:10] &lt;desrt&gt;   4. use it anyway :)</div>
<div class="line">[Sunday 04 April 2010] [14:36:29] &lt;sustrik&gt; 5. hack the persistence in</div>
<div class="line">[Sunday 04 April 2010] [14:37:00] &lt;sustrik&gt; persistence is really a very complex problem</div>
<div class="line">[Sunday 04 April 2010] [14:37:14] &lt;sustrik&gt; to do it properly, lot of resources is needed</div>
<div class="line">[Sunday 04 April 2010] [14:37:35] &lt;sustrik&gt; however, to server a particulat use case, it&#8217;s normally pretty easy to do</div>
<div class="line">[Sunday 04 April 2010] [14:37:35] &lt;desrt&gt;   i&#8217;m thinking along these lines: if i can detect that i missed events then i can just redownload the whole DB</div>
<div class="line">[Sunday 04 April 2010] [14:38:02] &lt;sustrik&gt; so you can place sequence numbers into messages</div>
<div class="line">[Sunday 04 April 2010] [14:38:09] &lt;desrt&gt;   that&#8217;s what i do now</div>
<div class="line">[Sunday 04 April 2010] [14:38:24] &lt;desrt&gt;   each change to the DB has a sequence number</div>
<div class="line">[Sunday 04 April 2010] [14:38:29] &lt;desrt&gt;   the connecting client tells of the last change it saw</div>
<div class="line">[Sunday 04 April 2010] [14:38:34] &lt;desrt&gt;   and the server replays what happened since</div>
<div class="line">[Sunday 04 April 2010] [14:38:55] &lt;sustrik&gt; you can use req/rep sockets for that</div>
<div class="line">[Sunday 04 April 2010] [14:39:00] &lt;desrt&gt;   sequence numbers are 64bit, so i assume they never wrap</div>
<div class="line">[Sunday 04 April 2010] [14:39:06] &lt;desrt&gt;   right.</div>
<div class="line">[Sunday 04 April 2010] [14:39:12] &lt;sustrik&gt; it&#8217;s much more natural than pub/sub anyway</div>
<div class="line">[Sunday 04 April 2010] [14:39:12] &lt;desrt&gt;   that gets me RPC-over-TCP(ish), right?</div>
<div class="line">[Sunday 04 April 2010] [14:39:20] &lt;sustrik&gt; pub/sub is for things like stock quotes</div>
<div class="line">[Sunday 04 April 2010] [14:39:22] &lt;sustrik&gt; media</div>
<div class="line">[Sunday 04 April 2010] [14:39:24] &lt;sustrik&gt; etc.</div>
<div class="line">[Sunday 04 April 2010] [14:39:34] &lt;sustrik&gt; content that lookses value quickly</div>
<div class="line">[Sunday 04 April 2010] [14:39:42] &lt;sustrik&gt; looses*</div>
<div class="line">[Sunday 04 April 2010] [14:39:52] &lt;sustrik&gt; desrt: yes</div>
<div class="line">[Sunday 04 April 2010] [14:39:59] &lt;sustrik&gt; do you mind a roundtrip?</div>
<div class="line">[Sunday 04 April 2010] [14:39:59] &lt;desrt&gt;   might be appropriate</div>
<div class="line">[Sunday 04 April 2010] [14:40:09] &lt;desrt&gt;   well</div>
<div class="line">[Sunday 04 April 2010] [14:40:12] &lt;desrt&gt;   my protocol works sort of like imap now</div>
<div class="line">[Sunday 04 April 2010] [14:40:28] &lt;desrt&gt;   it&#8217;s very much not structured RPC-like</div>
<div class="line">[Sunday 04 April 2010] [14:40:50] &lt;desrt&gt;   the client understands that the server sends it a stream of events</div>
<div class="line">[Sunday 04 April 2010] [14:41:03] &lt;desrt&gt;   those events are because things happened [some time]</div>
<div class="line">[Sunday 04 April 2010] [14:41:09] &lt;sustrik&gt; still, the subscriber must acknowledge update receival</div>
<div class="line">[Sunday 04 April 2010] [14:41:11] &lt;desrt&gt;   so when the client goes online it just says &#8220;last time you saw me was _____&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:41:15] &lt;desrt&gt;   and the server sends events.....</div>
<div class="line">[Sunday 04 April 2010] [14:41:22] &lt;desrt&gt;   and the client just sees those as events....</div>
<div class="line">[Sunday 04 April 2010] [14:41:33] &lt;desrt&gt;   no.  they need not.</div>
<div class="line">[Sunday 04 April 2010] [14:41:41] &lt;desrt&gt;   since the client keeps track of what it knows &#8211; not the server</div>
<div class="line">[Sunday 04 April 2010] [14:41:54] &lt;sustrik&gt; how do you know how long you keep the updates in the database?</div>
<div class="line">[Sunday 04 April 2010] [14:42:00] &lt;desrt&gt;   so if the client gets the new events then it will update its serial number and ask for new events next time</div>
<div class="line">[Sunday 04 April 2010] [14:42:01] &lt;sustrik&gt; hm, forever, i guess?</div>
<div class="line">[Sunday 04 April 2010] [14:42:11] &lt;desrt&gt;   yes and no</div>
<div class="line">[Sunday 04 April 2010] [14:42:29] &lt;desrt&gt;   events will eventually drop from the queue if they are overridden by newer events</div>
<div class="line">[Sunday 04 April 2010] [14:42:36] &lt;desrt&gt;   like if someone writes to /some/setting with sequence number 5</div>
<div class="line">[Sunday 04 April 2010] [14:42:42] &lt;desrt&gt;   then laster /some/setting again with sequence number 8</div>
<div class="line">[Sunday 04 April 2010] [14:42:48] &lt;desrt&gt;   5 will never be sent ever again</div>
<div class="line">[Sunday 04 April 2010] [14:42:57] &lt;sustrik&gt; sure, understood</div>
<div class="line">[Sunday 04 April 2010] [14:43:31] &lt;desrt&gt;   so the number of events is bound by the natural size of the database</div>
<div class="line">[Sunday 04 April 2010] [14:44:40] &lt;sustrik&gt; well, i don&#8217;t believe abt queueing system has functionality like that</div>
<div class="line">[Sunday 04 April 2010] [14:44:58] &lt;sustrik&gt; if you send X to the queue</div>
<div class="line">[Sunday 04 April 2010] [14:44:58] &lt;desrt&gt;   k</div>
<div class="line">[Sunday 04 April 2010] [14:45:03] &lt;sustrik&gt; it will be delivered</div>
<div class="line">[Sunday 04 April 2010] [14:45:03] &lt;desrt&gt;   i might just stick with my homebrew then</div>
<div class="line">[Sunday 04 April 2010] [14:45:18] &lt;sustrik&gt; not depending on whether you send X+1 later on</div>
<div class="line">[Sunday 04 April 2010] [14:45:41] &lt;sustrik&gt; yes, that&#8217;s an option</div>
<div class="line">[Sunday 04 April 2010] [14:45:58] &lt;sustrik&gt; anyway, the scenario is interesting</div>
<div class="line">[Sunday 04 April 2010] [14:46:03] &lt;sustrik&gt; i&#8217;ll keep it in mind</div>
<div class="line">[Sunday 04 April 2010] [14:46:24] &lt;sustrik&gt; it&#8217;s somehow similar to a thing called &#8220;last value cache&#8221;</div>
<div class="line">[Sunday 04 April 2010] [14:46:49] &lt;sustrik&gt; it&#8217;s almost the same as with your scenario</div>
<div class="line">[Sunday 04 April 2010] [14:47:02] &lt;sustrik&gt; however, after client connect it get _whole_ set of settings</div>
<div class="line">[Sunday 04 April 2010] [14:47:13] &lt;sustrik&gt; not just those that have been changed in the meantime</div>
<div class="line">[Sunday 04 April 2010] [14:47:50] &lt;desrt&gt;   hmm</div>
<div class="line">[Sunday 04 April 2010] [14:47:58] &lt;desrt&gt;   well, my situation is slightly more complicated</div>
<div class="line">[Sunday 04 April 2010] [14:48:10] &lt;desrt&gt;   since writes may contain more than one value</div>
<div class="line">[Sunday 04 April 2010] [14:48:22] &lt;desrt&gt;   and there could be non-simple overlaps between different write events</div>
<div class="line">[Sunday 04 April 2010] [14:48:48] &lt;sustrik&gt; then you definitely have to perform the logic on application level</div>
<div class="line">[Sunday 04 April 2010] [14:48:59] &lt;sustrik&gt; however, you can still use 0mq instead of raw sockets</div>
<div class="line">[Sunday 04 April 2010] [14:49:24] &lt;sustrik&gt; just to transport the updates</div>
<div class="line">[Sunday 04 April 2010] [14:49:34] &lt;desrt&gt;   i&#8217;m using GNIO anyway (glib&#8217;s socket library)</div>
<div class="line">[Sunday 04 April 2010] [14:49:43] &lt;desrt&gt;   which has the benefit of glib mainloop integration</div>
<div class="line">[Sunday 04 April 2010] [14:49:49] &lt;desrt&gt;   (which is another question i wanted to ask about 0mq)</div>
<div class="line">[Sunday 04 April 2010] [14:50:06] &lt;sustrik&gt; what question exactly?</div>
<div class="line">[Sunday 04 April 2010] [14:50:13] &lt;desrt&gt;   i notice you have your own poll abstraction</div>
<div class="line">[Sunday 04 April 2010] [14:50:25] &lt;desrt&gt;   but most non-headless apps will already have their own mainloop</div>
<div class="line">[Sunday 04 April 2010] [14:50:40] &lt;desrt&gt;   and i didn&#8217;t see a way to integrate 0mq with another mainloop (or even get the fd...)</div>
<div class="line">[Sunday 04 April 2010] [14:50:48] &lt;sustrik&gt; well, there&#8217;s no way out of that</div>
<div class="line">[Sunday 04 April 2010] [14:51:12] &lt;sustrik&gt; POSIX doesn&#8217;t allow for creating your own fd implementation in user space</div>
<div class="line">[Sunday 04 April 2010] [14:51:45] &lt;sustrik&gt; lot of political pressure would be needed to amend POSIX</div>
<div class="line">[Sunday 04 April 2010] [14:52:04] &lt;sustrik&gt; still, it&#8217;ll take lot of time till all OSes would implement the new functionality</div>
<div class="line">[Sunday 04 April 2010] [14:52:08] &lt;desrt&gt;   many libraries provide mainloop integration hooks</div>
<div class="line">[Sunday 04 April 2010] [14:52:26] &lt;desrt&gt;   dbus comes to mind</div>
<div class="line">[Sunday 04 April 2010] [14:52:37] &lt;sustrik&gt; how does it achieve it?</div>
<div class="line">[Sunday 04 April 2010] [14:52:49] &lt;desrt&gt;   you give it a set of functions to call</div>
<div class="line">[Sunday 04 April 2010] [14:52:58] &lt;desrt&gt;   to start watching an fd for read/write</div>
<div class="line">[Sunday 04 April 2010] [14:53:15] &lt;sustrik&gt; ah, sure that&#8217;s easy</div>
<div class="line">[Sunday 04 April 2010] [14:53:31] &lt;desrt&gt;   i guess your case is hard since you&#8217;re essentially using a synchronous interface</div>
<div class="line">[Sunday 04 April 2010] [14:53:33] &lt;sustrik&gt; what i mean is that you cannot create your own &#8220;fd&#8221; in user space</div>
<div class="line">[Sunday 04 April 2010] [14:53:46] &lt;sustrik&gt; on Linux you have eventfd</div>
<div class="line">[Sunday 04 April 2010] [14:53:51] &lt;sustrik&gt; which is almost it</div>
<div class="line">[Sunday 04 April 2010] [14:54:18] &lt;sustrik&gt; (a little bit is missing that can be theoretically added in Linux)</div>
<div class="line">[Sunday 04 April 2010] [14:54:22] &lt;sustrik&gt; however, it&#8217;s not POSIX</div>
<div class="line">[Sunday 04 April 2010] [14:54:32] &lt;sustrik&gt; so other OSes have no equivalent</div>
<div class="line">[Sunday 04 April 2010] [17:45:56] &lt;mikko&gt;   sustrik: hi!</div>
<div class="line">[Sunday 04 April 2010] [17:54:47] &lt;mikko&gt;   too late</div>
<div class="line">[Monday 05 April 2010] [02:19:34] &lt;Bakafish&gt;    Hello group. I was hacking on the new &#8220;Butterfly&#8221; Example code and have an issue where I successfully send a message over an ipc channel but the blocked read side never seems to see it.</div>
<div class="line">[Monday 05 April 2010] [02:26:09] &lt;Bakafish&gt;    I&#8217;m referring to the final &#8216;sync&#8217; message indicating that all the test packets were received. The test packets are going across a similar channel just fine.  But the final sync packet to trigger the end of the timer is sent and the &#8220;Sending&#8221; process never seems to see it.</div>
<div class="line">[Monday 05 April 2010] [02:30:45] &lt;sustrik&gt; Bakafish: does the packet cross the network?</div>
<div class="line">[Monday 05 April 2010] [02:30:55] &lt;sustrik&gt; mikko: re</div>
<div class="line">[Monday 05 April 2010] [02:31:12] &lt;Bakafish&gt;    It&#8217;s using ipc (Pipes) so, no :-)</div>
<div class="line">[Monday 05 April 2010] [02:31:17] &lt;sustrik&gt; ah</div>
<div class="line">[Monday 05 April 2010] [02:33:46] &lt;Bakafish&gt;    Is it a situation where the packet is below some threshold so it&#8217;s being cached in a queue? I&#8217;m reaching for straws here.</div>
<div class="line">[Monday 05 April 2010] [02:34:23] &lt;sustrik&gt; Bakafish: no</div>
<div class="line">[Monday 05 April 2010] [02:34:31] &lt;sustrik&gt; it should be passed immediately</div>
<div class="line">[Monday 05 April 2010] [02:34:55] &lt;sustrik&gt; so all the components are running on the same box</div>
<div class="line">[Monday 05 April 2010] [02:35:03] &lt;sustrik&gt; using IPC for communication</div>
<div class="line">[Monday 05 April 2010] [02:35:05] &lt;sustrik&gt; right?</div>
<div class="line">[Monday 05 April 2010] [02:35:37] &lt;Bakafish&gt;    I&#8217;m getting a good return on the send side. The blocking read blocks correctly, it just never sees the packet.</div>
<div class="line">[Monday 05 April 2010] [02:35:50] &lt;Bakafish&gt;    That&#8217;s correct.</div>
<div class="line">[Monday 05 April 2010] [02:36:15] &lt;Bakafish&gt;    The other, seemingly identical connections are behaving correctly.</div>
<div class="line">[Monday 05 April 2010] [02:36:34] &lt;sustrik&gt; is the IPC filename same on the send and recv side?</div>
<div class="line">[Monday 05 April 2010] [02:36:46] &lt;sustrik&gt; (sanity check)</div>
<div class="line">[Monday 05 April 2010] [02:38:25] &lt;Bakafish&gt;    :-) I checked for that, and low and behold, one arg was ipc:///tmp/zmq/send_sync the other ipc://tmp/zmq/send_sync</div>
<div class="line">[Monday 05 April 2010] [02:38:40] &lt;Bakafish&gt;    Way to introduce myself to the group :-(</div>
<div class="line">[Monday 05 April 2010] [02:39:56] &lt;Bakafish&gt;    I was ls ing my tmp directory and saw the 3 expected files, didn&#8217;t think to check for a missing slash. Thanks for the help!</div>
<div class="line">[Monday 05 April 2010] [02:40:42] &lt;sustrik&gt; no problem :)</div>
<div class="line">[Monday 05 April 2010] [03:29:51] &lt;Bakafish&gt;    Okay, a question probably rivaling the level of stupidity of my prior one. In the case of more than one agent connecting to a ZMQ_DOWNSTREAM it round robins great, but if an agent goes away it doesn&#8217;t seem to be aware and packets are seemingly queued or lost for that agent. How do you access the queue registry and manipulate it?</div>
<div class="line">[Monday 05 April 2010] [03:43:19] &lt;sustrik&gt; Bakafish: the messages already delivered to an application are lost once the application crashes</div>
<div class="line">[Monday 05 April 2010] [03:43:28] &lt;sustrik&gt; you can limit the damage</div>
<div class="line">[Monday 05 April 2010] [03:43:42] &lt;sustrik&gt; by setting HWM socket option</div>
<div class="line">[Monday 05 April 2010] [03:43:58] &lt;sustrik&gt; which specifies how much messages may be queued in any given moment</div>
<div class="line">[Monday 05 April 2010] [03:46:23] &lt;Bakafish&gt;    That&#8217;s fair. But it&#8217;s not what I mean. If I launch the &#8216;Sender&#8217; with two &#8216;processor&#8217; nodes and one &#8216;results&#8217; node and run 1000 checks, everything is fine. 500 each. Then I kill one processor node, so there is only a single node in the pipeline. The queue still thinks there are two (timeout not met yet?) and a second run will result in 500 checks sent to the single processor instance.</div>
<div class="line">[Monday 05 April 2010] [03:47:09] &lt;sustrik&gt; let me see...</div>
<div class="line">[Monday 05 April 2010] [03:48:32] &lt;sustrik&gt; hm, i am not sure how UNIX domain sockets handle application crashes</div>
<div class="line">[Monday 05 April 2010] [03:48:52] &lt;sustrik&gt; maybe it takes some time to notify the sender that the receiver is dead?</div>
<div class="line">[Monday 05 April 2010] [03:49:19] &lt;sustrik&gt; can you try sleeping for a second after killing the app</div>
<div class="line">[Monday 05 April 2010] [03:49:30] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 05 April 2010] [03:49:51] &lt;Bakafish&gt;    If I have to write my own code to see if a process is alive or not that&#8217;s fine, but how do I identify the processor nodes attached to a paticular queue?</div>
<div class="line">[Monday 05 April 2010] [03:50:30] &lt;Bakafish&gt;    The server is dispatching these checks and so it has some knowledge of how many there are I&#8217;d assume.</div>
<div class="line">[Monday 05 April 2010] [03:50:48] &lt;Bakafish&gt;    Ahh, this isn&#8217;t a problem with TCP?</div>
<div class="line">[Monday 05 April 2010] [03:51:45] &lt;Bakafish&gt;    Meaning, if I was using TCP instead of sockets I shouldn&#8217;t expect this behavior?</div>
<div class="line">[Monday 05 April 2010] [03:51:57] &lt;sustrik&gt; well, i am not sure what&#8217;s happening, however, the obvious explanation would be that there&#8217;s an delay between receiver dying and sender being notified about the fact</div>
<div class="line">[Monday 05 April 2010] [03:52:04] &lt;Bakafish&gt;    sockets, bah. Pipes</div>
<div class="line">[Monday 05 April 2010] [03:52:16] &lt;sustrik&gt; in the meantime the mesages will be dispatched to that receiver</div>
<div class="line">[Monday 05 April 2010] [03:52:50] &lt;sustrik&gt; it applies to any communication channel (TCP, IPC, ...)</div>
<div class="line">[Monday 05 April 2010] [03:53:20] &lt;Bakafish&gt;    I see. I will check to see if it eventually times out. Is there a setting (I recall someone mentioning there was.)</div>
<div class="line">[Monday 05 April 2010] [03:53:39] &lt;sustrik&gt; nope, it&#8217;s dependent on IPC implementation</div>
<div class="line">[Monday 05 April 2010] [03:53:54] &lt;sustrik&gt; there&#8217;s probably a timeout in the kernel somewhere</div>
<div class="line">[Monday 05 April 2010] [03:56:12] &lt;Bakafish&gt;    Ahhh the HWM socket option was  what was discussed. I think someone was saying you could limit it but that there were all sorts of places where it could be queued along the path and reducing the number of messages in the queue had performance issues.</div>
<div class="line">[Monday 05 April 2010] [03:58:00] &lt;Bakafish&gt;    Let me play with it some more since I was using local pipes for convenience, I will be using TCP in production so it may behave better.</div>
<div class="line">[Monday 05 April 2010] [09:34:03] &lt;mikko&gt;   sustrik: did you notice the issue i opened at github over the hols?</div>
<div class="line">[Monday 05 April 2010] [09:47:37] &lt;sustrik&gt; mikko: yes, i did</div>
<div class="line">[Monday 05 April 2010] [10:09:17] &lt;mikko&gt;   cool</div>
<div class="line">[Monday 05 April 2010] [10:09:25] &lt;mikko&gt;   i got zmq_poll soon implemented</div>
<div class="line">[Monday 05 April 2010] [10:09:27] &lt;mikko&gt;   hopefully</div>
<div class="line">[Monday 05 April 2010] [10:15:16] &lt;sustrik&gt; mikko: seen you&#8217;ve did ~20 commits a day during the holiday :)</div>
<div class="line">[Monday 05 April 2010] [10:21:45] &lt;mikko&gt;   open source is made by night</div>
<div class="line">[Monday 05 April 2010] [10:21:47] &lt;mikko&gt;   :)</div>
<div class="line">[Monday 05 April 2010] [10:21:52] &lt;mikko&gt;   at least in my case</div>
<div class="line">[Monday 05 April 2010] [10:28:30] &lt;sustrik&gt; mikko: i&#8217;ve linked the PHP wiki page from the main page</div>
<div class="line">[Monday 05 April 2010] [10:28:52] &lt;mikko&gt;   sustrik: thanks</div>
<div class="line">[Monday 05 April 2010] [10:28:57] &lt;sustrik&gt; you should announce availability of the binding on the mailing list</div>
<div class="line">[Monday 05 April 2010] [10:29:15] &lt;mikko&gt;   sustrik: i&#8217;ll announce as soon as the api stabilizes</div>
<div class="line">[Monday 05 April 2010] [10:29:22] &lt;sustrik&gt; goodo</div>
<div class="line">[Monday 05 April 2010] [10:29:24] &lt;mikko&gt;   still need to add polling support</div>
<div class="line">[Monday 05 April 2010] [10:29:29] &lt;sustrik&gt; sure</div>
<div class="line">[Monday 05 April 2010] [10:29:31] &lt;mikko&gt;   after that it&#8217;s fairly complete</div>
<div class="line">[Monday 05 April 2010] [10:29:55] &lt;mikko&gt;   some of the tests are failing due to the zeromq2 / issue #12</div>
<div class="line">[Monday 05 April 2010] [10:32:22] &lt;sustrik&gt; i&#8217;ve reproduced the problem</div>
<div class="line">[Monday 05 April 2010] [10:32:31] &lt;sustrik&gt; trying to fix it...</div>
<div class="line">[Monday 05 April 2010] [10:32:38] &lt;mikko&gt;   different errors with different socket types</div>
<div class="line">[Monday 05 April 2010] [10:32:58] &lt;sustrik&gt; yes</div>
<div class="line">[Monday 05 April 2010] [10:37:31] &lt;mikko&gt;   i&#8217;m gonna take a short nap, been touring around berlin all day</div>
<div class="line">[Monday 05 April 2010] [10:37:32] &lt;mikko&gt;   laters</div>
<div class="line">[Monday 05 April 2010] [10:52:20] &lt;sustrik&gt; see you</div>
<div class="line">[Tuesday 06 April 2010] [01:34:20] &lt;CIA-5&gt;  zeromq2: 03Martin Sustrik 07master * r0777567 10/ doc/zmq_bind.txt : ENODEV from zmq_bind error described - <a class="reference external" href="http://bit.ly/bvC4mu">http://bit.ly/bvC4mu</a></div>
<div class="line">[Tuesday 06 April 2010] [09:23:34] &lt;CIA-5&gt;  zeromq2: 03Martin Lucina 07master * ra7973a2 10/ (doc/zmq_bind.txt doc/zmq_setsockopt.txt): Documentation fixes - <a class="reference external" href="http://bit.ly/b03kAA">http://bit.ly/b03kAA</a></div>
<div class="line">[Tuesday 06 April 2010] [09:27:06] &lt;jldupont&gt;   hi - where is the wire-format for 0mq?  I&#8217;d like to build an Erlang binding for it.</div>
<div class="line">[Tuesday 06 April 2010] [09:27:31] &lt;sustrik&gt;    jldupont: hi</div>
<div class="line">[Tuesday 06 April 2010] [09:27:37] &lt;sustrik&gt;    yes, there is</div>
<div class="line">[Tuesday 06 April 2010] [09:27:47] &lt;sustrik&gt;    have a look at zmq_tcp(7)</div>
<div class="line">[Tuesday 06 April 2010] [09:28:25] &lt;sustrik&gt;    however, wrapping the C library is much simpler than writing it anew in a different language</div>
<div class="line">[Tuesday 06 April 2010] [09:28:38] &lt;mato&gt;   it&#8217;s also much faster :-)</div>
<div class="line">[Tuesday 06 April 2010] [09:28:41] &lt;sustrik&gt;    while the API looks simple the entrails are pretty complex</div>
<div class="line">[Tuesday 06 April 2010] [09:29:10] &lt;jldupont&gt;   sustrik: hi - I don&#8217;t want to wrap the C library - there are two ways of interfacing with Erlang: through sockets or through a &#8220;driver&#8221; written in C.</div>
<div class="line">[Tuesday 06 April 2010] [09:29:27] &lt;sustrik&gt;    what&#8217;s the problem with the latter?</div>
<div class="line">[Tuesday 06 April 2010] [09:29:42] &lt;jldupont&gt;   sustrik: through the &#8220;C&#8221; driver, it is a pain - the polling part is not nice to do...</div>
<div class="line">[Tuesday 06 April 2010] [09:30:06] &lt;sustrik&gt;    you mean zmq_poll, right?</div>
<div class="line">[Tuesday 06 April 2010] [09:30:09] &lt;jldupont&gt;   writing code to handle sockets is very easy in Erlang.</div>
<div class="line">[Tuesday 06 April 2010] [09:30:39] &lt;jldupont&gt;   no: I don&#8217;t know zmq_poll but I know the pain of interfacing with Erlang through a C driver though.</div>
<div class="line">[Tuesday 06 April 2010] [09:30:50] &lt;sustrik&gt;    ok, i see</div>
<div class="line">[Tuesday 06 April 2010] [09:31:23] &lt;jldupont&gt;   If there isn&#8217;t a readily available wire-format doc, then I might reconsider writing a binding library for it.</div>
<div class="line">[Tuesday 06 April 2010] [09:31:33] &lt;mato&gt;   jldupont: hi, I would strongly recommend wrapping libzmq using the C API</div>
<div class="line">[Tuesday 06 April 2010] [09:32:04] &lt;sustrik&gt;    mato: well, if he wants just a silly sync library he can write it in Erlang</div>
<div class="line">[Tuesday 06 April 2010] [09:32:12] &lt;mato&gt;   jldupont: the higher level protocols are still in flux and not documented, so while you can &#8220;trivially&#8221; implement the framing layer, it won&#8217;t be very useful</div>
<div class="line">[Tuesday 06 April 2010] [09:32:29] &lt;mato&gt;   sustrik: yeah, but what would be the point of that? nothing to do with 0MQ really...</div>
<div class="line">[Tuesday 06 April 2010] [09:32:42] &lt;jldupont&gt;   mato: I see.  Then maybe 0MQ is not for me at this point then - I&#8217;ll stick with RabbitMQ.</div>
<div class="line">[Tuesday 06 April 2010] [09:33:32] &lt;jldupont&gt;   Thanks, ciao ciao.</div>
<div class="line">[Tuesday 06 April 2010] [09:33:41] &lt;sustrik&gt;    jldupond bye</div>
<div class="line">[Tuesday 06 April 2010] [09:40:19] &lt;sustrik&gt;    mato: there&#8217;s a fix for darwin build system in today&#8217;s email</div>
<div class="line">[Tuesday 06 April 2010] [09:40:26] &lt;sustrik&gt;    i haven&#8217;t apply it</div>
<div class="line">[Tuesday 06 April 2010] [09:40:36] &lt;sustrik&gt;    left it to you to check it</div>
<div class="line">[Tuesday 06 April 2010] [09:40:40] &lt;mato&gt;   thanks</div>
<div class="line">[Tuesday 06 April 2010] [09:40:46] &lt;mato&gt;   haven&#8217;t got that far in emails yet</div>
<div class="line">[Tuesday 06 April 2010] [09:40:53] &lt;sustrik&gt;    sure</div>
<div class="line">[Tuesday 06 April 2010] [10:11:53] &lt;mato&gt;   sustrik: where is the email about darwin? I&#8217;m missing it</div>
<div class="line">[Tuesday 06 April 2010] [10:12:05] &lt;sustrik&gt;    wait a sec</div>
<div class="line">[Tuesday 06 April 2010] [10:13:00] &lt;sustrik&gt;    [zeromq-dev] Publish/subscribe example &#8220;Operation not supported by  device&#8221;</div>
<div class="line">[Tuesday 06 April 2010] [10:13:03] &lt;sustrik&gt;    5:59 AM</div>
<div class="line">[Tuesday 06 April 2010] [10:13:25] &lt;mato&gt;   ah, people not using useful subjects, i hate that</div>
<div class="line">[Tuesday 06 April 2010] [10:44:28] &lt;mato&gt;   sustrik: i&#8217;ve fixed it in the jzmq git, i think</div>
<div class="line">[Tuesday 06 April 2010] [10:44:34] &lt;mato&gt;   will see what michael replies</div>
<div class="line">[Tuesday 06 April 2010] [10:46:11] &lt;sustrik&gt;    thx</div>
<div class="line">[Tuesday 06 April 2010] [10:46:47] &lt;sustrik&gt;    mato: you do the highlights?</div>
<div class="line">[Tuesday 06 April 2010] [10:46:56] &lt;sustrik&gt;    i was just getting to do it myself</div>
<div class="line">[Tuesday 06 April 2010] [10:47:02] &lt;mato&gt;   i&#8217;ll do it</div>
<div class="line">[Tuesday 06 April 2010] [10:47:05] &lt;sustrik&gt;    ok</div>
<div class="line">[Tuesday 06 April 2010] [10:47:08] &lt;mato&gt;   i know how listpages works more or less</div>
<div class="line">[Tuesday 06 April 2010] [10:47:14] &lt;sustrik&gt;    good, thanks</div>
<div class="line">[Tuesday 06 April 2010] [13:47:37] &lt;BusError&gt;   hi guys. Can I use multicast/udp without openpgm ?</div>
<div class="line">[Tuesday 06 April 2010] [13:48:27] &lt;sustrik&gt;    hi BusError :)</div>
<div class="line">[Tuesday 06 April 2010] [13:48:33] &lt;sustrik&gt;    no, you can&#8217;t</div>
<div class="line">[Tuesday 06 April 2010] [13:48:37] &lt;BusError&gt;   Hey :-)</div>
<div class="line">[Tuesday 06 April 2010] [13:48:42] &lt;BusError&gt;   ta !</div>
<div class="line">[Tuesday 06 April 2010] [13:49:04] &lt;BusError&gt;   I need the multicast bit, without necessarily the integrity bit</div>
<div class="line">[Tuesday 06 April 2010] [13:49:28] &lt;sustrik&gt;    you mean you need unreliable multicast, right?</div>
<div class="line">[Tuesday 06 April 2010] [13:49:45] &lt;sustrik&gt;    where messages can disapper randomly</div>
<div class="line">[Tuesday 06 April 2010] [13:49:57] &lt;BusError&gt;   yeah. It&#8217;s for mostly sending sensor data, and with just a bit of control</div>
<div class="line">[Tuesday 06 April 2010] [13:50:24] &lt;sustrik&gt;    several people spoke about adding support for that kind of thing to 0MQ</div>
<div class="line">[Tuesday 06 April 2010] [13:50:30] &lt;sustrik&gt;    but so far nobody did it</div>
<div class="line">[Tuesday 06 April 2010] [13:50:41] &lt;sustrik&gt;    currently you have to do with reliable multicast</div>
<div class="line">[Tuesday 06 April 2010] [13:50:58] &lt;BusError&gt;   openpgm looks &#8220;heavy&#8221; is it just an impression ?</div>
<div class="line">[Tuesday 06 April 2010] [13:51:16]   * BusError is doing embedded. He counts bytes :-)</div>
<div class="line">[Tuesday 06 April 2010] [13:51:40] &lt;sustrik&gt;    it&#8217;s dependent on glib which makes it somewhat fat</div>
<div class="line">[Tuesday 06 April 2010] [13:52:00] &lt;BusError&gt;   ah yeah. no kidding</div>
<div class="line">[Tuesday 06 April 2010] [13:52:38] &lt;sustrik&gt;    afaik there&#8217;s glib-less version of openpgm being worked on</div>
<div class="line">[Tuesday 06 April 2010] [13:52:53] &lt;sustrik&gt;    that may take some time though</div>
<div class="line">[Tuesday 06 April 2010] [13:53:22] &lt;BusError&gt;   well I think I&#8217;ll stick to my poor multicast for now then</div>
<div class="line">[Tuesday 06 April 2010] [13:54:15] &lt;sustrik&gt;    well, unless you have some time to plug unreliable multicast to 0mq, you are on your own :(</div>
<div class="line">[Tuesday 06 April 2010] [13:56:01] &lt;BusError&gt;   I&#8217;m already on WAY too many mailing lists :-)</div>
<div class="line">[Tuesday 06 April 2010] [13:56:25] &lt;BusError&gt;   but I&#8217;ll keep a tab in zeromq, looks fab, good job</div>
<div class="line">[Tuesday 06 April 2010] [13:56:36] &lt;sustrik&gt;    thanks</div>
<div class="line">[Tuesday 06 April 2010] [13:56:56] &lt;sustrik&gt;    keep eye on it, presumably someone will add unreliable multicast support</div>
<div class="line">[Tuesday 06 April 2010] [13:57:03] &lt;BusError&gt;   thanks for your help too</div>
<div class="line">[Tuesday 06 April 2010] [13:57:09] &lt;sustrik&gt;    you are welcome</div>
<div class="line">[Tuesday 06 April 2010] [13:57:23] &lt;BusError&gt;   well if I get desperate with my system, I&#8217;ll keep it in mind :-)</div>
<div class="line">[Tuesday 06 April 2010] [17:47:43] &lt;<a href="#id115"><span class="problematic" id="id116">|flyte|</span></a>&gt;    hornetQ vs 0MQ.... FIGTH!</div>
<div class="line">[Tuesday 06 April 2010] [17:47:46] &lt;<a href="#id117"><span class="problematic" id="id118">|flyte|</span></a>&gt;    heh.</div>
<div class="line">[Tuesday 06 April 2010] [17:47:49] &lt;<a href="#id119"><span class="problematic" id="id120">|flyte|</span></a>&gt;    hornetQ vs 0MQ.... FIGHT</div>
<div class="line">[Wednesday 07 April 2010] [02:21:22] &lt;CIA-5&gt;    zeromq2: 03Jon Dyte 07master * redfd05d 10/ (13 files in 5 dirs): devices can be created via API - <a class="reference external" href="http://bit.ly/dhJb8o">http://bit.ly/dhJb8o</a></div>
<div class="line">[Wednesday 07 April 2010] [02:21:24] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * r065e4d0 10/ (doc/zmq_bind.txt doc/zmq_setsockopt.txt): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/brkzAh">http://bit.ly/brkzAh</a></div>
<div class="line">[Wednesday 07 April 2010] [04:41:39] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * rb0250cc 10/ builds/msvc/libzmq/libzmq.vcproj : Win32 build fixed - <a class="reference external" href="http://bit.ly/9F6ImT">http://bit.ly/9F6ImT</a></div>
<div class="line">[Wednesday 07 April 2010] [05:02:04] &lt;mikko&gt;    good morning</div>
<div class="line">[Wednesday 07 April 2010] [05:11:42] &lt;sustrik&gt;  mikko: morning</div>
<div class="line">[Wednesday 07 April 2010] [05:12:58] &lt;mikko&gt;    sunny berlin</div>
<div class="line">[Wednesday 07 April 2010] [05:13:12] &lt;mikko&gt;    drinking double espresso in a cafe and waiting for my flight back</div>
<div class="line">[Wednesday 07 April 2010] [05:14:16] &lt;sustrik&gt;  lucky you :)</div>
<div class="line">[Wednesday 07 April 2010] [05:15:15] &lt;mikko&gt;    gdb is acting weird</div>
<div class="line">[Wednesday 07 April 2010] [05:15:23] &lt;mikko&gt;    (gdb) thread apply all bt</div>
<div class="line">[Wednesday 07 April 2010] [05:15:24] &lt;mikko&gt;    Cannot find new threads: generic error</div>
<div class="line">[Wednesday 07 April 2010] [05:15:27] &lt;mikko&gt;    do you ever get this?</div>
<div class="line">[Wednesday 07 April 2010] [05:15:46] &lt;sustrik&gt;  no</div>
<div class="line">[Wednesday 07 April 2010] [05:15:57] &lt;sustrik&gt;  but gdb sometimes acks in strange ways</div>
<div class="line">[Wednesday 07 April 2010] [05:16:04] &lt;sustrik&gt;  memory overwrites (?)</div>
<div class="line">[Wednesday 07 April 2010] [05:17:10] &lt;mikko&gt;    i get this whenever i run anything using libzmq</div>
<div class="line">[Wednesday 07 April 2010] [05:17:19] &lt;mikko&gt;    might be a kernel issue as well</div>
<div class="line">[Wednesday 07 April 2010] [05:17:44] &lt;sustrik&gt;  linux?</div>
<div class="line">[Wednesday 07 April 2010] [05:17:47] &lt;mikko&gt;    yep</div>
<div class="line">[Wednesday 07 April 2010] [05:17:56] &lt;mikko&gt;    Linux newdev 2.6.32-3-amd64 #1 SMP Wed Feb 24 18:07:42 UTC 2010 x86_64 GNU/Linux</div>
<div class="line">[Wednesday 07 April 2010] [05:18:25] &lt;sustrik&gt;  it behaves normally here:</div>
<div class="line">[Wednesday 07 April 2010] [05:18:26] &lt;sustrik&gt;  Linux istvan 2.6.31-20-generic #58-Ubuntu SMP Fri Mar 12 04:38:19 UTC 2010 x86_64 GNU/Linux</div>
<div class="line">[Wednesday 07 April 2010] [05:18:40] &lt;mikko&gt;    #58-ubuntu</div>
<div class="line">[Wednesday 07 April 2010] [05:18:45] &lt;mikko&gt;    thats a lot of compiles :)</div>
<div class="line">[Wednesday 07 April 2010] [05:18:52] &lt;mikko&gt;    ermm builds</div>
<div class="line">[Wednesday 07 April 2010] [05:19:04] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 07 April 2010] [05:19:47] &lt;sustrik&gt;  gcc 4.4.1</div>
<div class="line">[Wednesday 07 April 2010] [05:20:00] &lt;mikko&gt;    gcc version 4.4.3 20100108 (prerelease) (Debian 4.4.2-9)</div>
<div class="line">[Wednesday 07 April 2010] [05:20:19] &lt;mikko&gt;    i&#8217;ll try compiling with -ggdb3</div>
<div class="line">[Wednesday 07 April 2010] [05:20:51] &lt;mikko&gt;    shouldnt make difference though</div>
<div class="line">[Wednesday 07 April 2010] [05:21:50] &lt;mikko&gt;    or my env is just a bit too bleeding edge</div>
<div class="line">[Wednesday 07 April 2010] [05:22:01] &lt;mikko&gt;    i added polling support last night to php-zeromq</div>
<div class="line">[Wednesday 07 April 2010] [05:22:12] &lt;mikko&gt;    i think it starts to be feature complete soon</div>
<div class="line">[Wednesday 07 April 2010] [05:22:36] &lt;sustrik&gt;  great</div>
<div class="line">[Wednesday 07 April 2010] [05:23:20] &lt;sustrik&gt;  we&#8217;ve started a 0MQ blog, so when you have it ready it can be announced via blog (if you are willing to write few paragraphs about the binding)</div>
<div class="line">[Wednesday 07 April 2010] [05:25:45] &lt;mikko&gt;    sure</div>
<div class="line">[Wednesday 07 April 2010] [05:46:00] &lt;mikko&gt;    sustrik: <a class="reference external" href="http://pastie.org/907178">http://pastie.org/907178</a></div>
<div class="line">[Wednesday 07 April 2010] [05:46:09] &lt;mikko&gt;    is that me or libzmq?</div>
<div class="line">[Wednesday 07 April 2010] [05:48:42] &lt;sustrik&gt;  mikko: it&#8217;s trunk or 2.0.6?</div>
<div class="line">[Wednesday 07 April 2010] [05:50:44] &lt;sustrik&gt;  looks like trunk...</div>
<div class="line">[Wednesday 07 April 2010] [05:51:30] &lt;sustrik&gt;  there&#8217;s</div>
<div class="line">[Wednesday 07 April 2010] [05:51:36] &lt;sustrik&gt;  a bug there</div>
<div class="line">[Wednesday 07 April 2010] [05:51:40] &lt;sustrik&gt;  let me fix it</div>
<div class="line">[Wednesday 07 April 2010] [05:52:40] &lt;mikko&gt;    trunk</div>
<div class="line">[Wednesday 07 April 2010] [05:52:44] &lt;mikko&gt;    thanks</div>
<div class="line">[Wednesday 07 April 2010] [05:54:57] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * r745db9c 10/ src/session.cpp : unitialised member in seesion_t class - fixed - <a class="reference external" href="http://bit.ly/dfTd1L">http://bit.ly/dfTd1L</a></div>
<div class="line">[Wednesday 07 April 2010] [05:54:58] &lt;CIA-5&gt;    zeromq2: 03Martin Sustrik 07master * r0f7aab5 10/ builds/msvc/libzmq/libzmq.vcproj : Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/aQv9SX">http://bit.ly/aQv9SX</a></div>
<div class="line">[Wednesday 07 April 2010] [05:55:09] &lt;sustrik&gt;  mikko: try now</div>
<div class="line">[Wednesday 07 April 2010] [06:01:20] &lt;mikko&gt;    sustrik: ok, sec</div>
<div class="line">[Wednesday 07 April 2010] [06:02:13] &lt;mikko&gt;    off to the airport</div>
<div class="line">[Wednesday 07 April 2010] [06:02:18] &lt;mikko&gt;    i&#8217;ll be back later -&gt;</div>
<div class="line">[Wednesday 07 April 2010] [06:04:58] &lt;sustrik&gt;  cya</div>
<div class="line">[Wednesday 07 April 2010] [15:32:34] &lt;mikko&gt;    back!</div>
<div class="line">[Wednesday 07 April 2010] [15:36:25] &lt;mikko&gt;    sustrik: are you still here?</div>
<div class="line">[Wednesday 07 April 2010] [15:43:45] &lt;sustrik&gt;  mikko: yes</div>
<div class="line">[Wednesday 07 April 2010] [15:44:49] &lt;mikko&gt;    i found something new</div>
<div class="line">[Wednesday 07 April 2010] [15:44:57] &lt;mikko&gt;    <a class="reference external" href="http://pastie.org/908107">http://pastie.org/908107</a></div>
<div class="line">[Wednesday 07 April 2010] [15:45:04] &lt;mikko&gt;    haven&#8217;t got down to it yet</div>
<div class="line">[Wednesday 07 April 2010] [15:45:19] &lt;mikko&gt;    but seems to happen when i create pollitem but don&#8217;t execute poll</div>
<div class="line">[Wednesday 07 April 2010] [15:46:15] &lt;sustrik&gt;  hm, pollitem is a dumb structure</div>
<div class="line">[Wednesday 07 April 2010] [15:46:21] &lt;sustrik&gt;  it should have no effect</div>
<div class="line">[Wednesday 07 April 2010] [15:47:04] &lt;mikko&gt;    yep, i noticed</div>
<div class="line">[Wednesday 07 April 2010] [15:47:14] &lt;mikko&gt;    it might be something in my code as well</div>
<div class="line">[Wednesday 07 April 2010] [15:48:15] &lt;mikko&gt;    # ./test</div>
<div class="line">[Wednesday 07 April 2010] [15:48:15] &lt;mikko&gt;    Assertion failed: load.get () == 0 (epoll.cpp:49)</div>
<div class="line">[Wednesday 07 April 2010] [15:48:15] &lt;mikko&gt;    Aborted</div>
<div class="line">[Wednesday 07 April 2010] [15:48:18] &lt;mikko&gt;    here we go</div>
<div class="line">[Wednesday 07 April 2010] [15:48:59] &lt;mikko&gt;    that&#8217;s not the one i get though</div>
<div class="line">[Wednesday 07 April 2010] [15:49:19] &lt;sustrik&gt;  ok, there&#8217;s definitely a race condition in socket shutdown mechanism</div>
<div class="line">[Wednesday 07 April 2010] [15:49:29] &lt;sustrik&gt;  it&#8217;ve been reported serveral times</div>
<div class="line">[Wednesday 07 April 2010] [15:49:42] &lt;sustrik&gt;  what i need is to reproduce it here</div>
<div class="line">[Wednesday 07 April 2010] [15:49:51] &lt;sustrik&gt;  do you have a test program?</div>
<div class="line">[Wednesday 07 April 2010] [15:49:52] &lt;mikko&gt;    ok, let me pastebin it</div>
<div class="line">[Wednesday 07 April 2010] [15:49:54] &lt;mikko&gt;    yes i do</div>
<div class="line">[Wednesday 07 April 2010] [15:50:08] &lt;sustrik&gt;  great, can you send it to me?</div>
<div class="line">[Wednesday 07 April 2010] [15:50:08] &lt;mikko&gt;    <a class="reference external" href="http://pastie.org/908126">http://pastie.org/908126</a></div>
<div class="line">[Wednesday 07 April 2010] [15:50:09] &lt;mikko&gt;    there</div>
<div class="line">[Wednesday 07 April 2010] [15:50:16] &lt;sustrik&gt;  thx</div>
<div class="line">[Wednesday 07 April 2010] [15:50:41] &lt;mikko&gt;    testing with github master</div>
<div class="line">[Wednesday 07 April 2010] [15:50:45] &lt;mikko&gt;    (i think)</div>
<div class="line">[Wednesday 07 April 2010] [15:50:49] &lt;sustrik&gt;  ok</div>
<div class="line">[Wednesday 07 April 2010] [15:51:53] &lt;mikko&gt;    yes, interesting enough similar code generates: Invalid argument (mutex.hpp:97) under valgrind</div>
<div class="line">[Wednesday 07 April 2010] [15:52:21] &lt;mikko&gt;    so might be a race condition indeed</div>
<div class="line">[Wednesday 07 April 2010] [15:53:00] &lt;mikko&gt;    i&#8217;m probably stumbling into all possible edge cases here :)</div>
<div class="line">[Wednesday 07 April 2010] [15:54:13] &lt;sustrik&gt;  looks like it has to do with closing an unconnected socket...</div>
<div class="line">[Wednesday 07 April 2010] [15:54:23] &lt;sustrik&gt;  i&#8217;ll give it a closer look tomorrow</div>
<div class="line">[Wednesday 07 April 2010] [15:54:41] &lt;mikko&gt;    you are right</div>
<div class="line">[Wednesday 07 April 2010] [16:03:03] &lt;mikko&gt;    Assertion failed: !sending_reply || !more || reply_pipe != <a href="#id320"><span class="problematic" id="id321">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Wednesday 07 April 2010] [16:03:04] &lt;mikko&gt;    Aborted</div>
<div class="line">[Wednesday 07 April 2010] [16:03:08] &lt;mikko&gt;    this is interesting as well</div>
<div class="line">[Wednesday 07 April 2010] [17:38:32] &lt;lvh&gt;  Hello.</div>
<div class="line">[Wednesday 07 April 2010] [17:39:01] &lt;lvh&gt;  I&#8217;ve got a use case and I&#8217;m wondering how it translates into 0MQ.</div>
<div class="line">[Wednesday 07 April 2010] [17:39:25] &lt;lvh&gt;  Stuff comes in, all of it gets persisted. Some of it gets pushed to a COMET server and eventually to someone&#8217;s browser.</div>
<div class="line">[Wednesday 07 April 2010] [17:40:54] &lt;lvh&gt;  For persistence, I&#8217;d like something with load balancing and possibly failover (if possible), but the COMET part is special: out of all the persisters, only one of them needs to be pushed to, but all of the COMET listeners need to be pushed to.</div>
<div class="line">[Wednesday 07 April 2010] [17:41:13] &lt;lvh&gt;  Can I do that without sending a message twice?</div>
<div class="line">[Wednesday 07 April 2010] [17:41:30] &lt;lvh&gt;  Can I send a message twice into two exchanges?</div>
<div class="line">[Thursday 08 April 2010] [01:03:45] &lt;sustrik&gt;   mikko: Assertion failed: !sending_reply || !more || reply_pipe != <a href="#id322"><span class="problematic" id="id323">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Thursday 08 April 2010] [01:03:53] &lt;sustrik&gt;   are you playing with multi-part messages?</div>
<div class="line">[Thursday 08 April 2010] [02:34:34] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r38e9103 10/ src/object.cpp : issue 13 (Assertion failed: load.get () == 0 (epoll.cpp:49)) fixed - http://bit.ly/b86MQU</div>
<div class="line">[Thursday 08 April 2010] [03:20:53] &lt;mikko&gt; sustrik: nope</div>
<div class="line">[Thursday 08 April 2010] [03:22:42] &lt;mikko&gt; normal request reply</div>
<div class="line">[Thursday 08 April 2010] [04:15:06] &lt;mikko&gt; sustrik: although i still can&#8217;t get gdb to work</div>
<div class="line">[Thursday 08 April 2010] [04:19:14] &lt;sustrik&gt;   mikko: i&#8217;ve fixed thr load.get () == 0 problem</div>
<div class="line">[Thursday 08 April 2010] [04:19:29] &lt;sustrik&gt;   now looking at !sending_reply || !more || reply_pipe != <a href="#id324"><span class="problematic" id="id325">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Thursday 08 April 2010] [04:19:31] &lt;mikko&gt; sustrik: nice!</div>
<div class="line">[Thursday 08 April 2010] [04:23:53] &lt;mikko&gt; i wonder what&#8217;s going on now</div>
<div class="line">[Thursday 08 April 2010] [04:24:24] &lt;mikko&gt; <a class="reference external" href="http://pastie.org/908956">http://pastie.org/908956</a></div>
<div class="line">[Thursday 08 April 2010] [04:24:28] &lt;mikko&gt; it get&#8217;s stuck there</div>
<div class="line">[Thursday 08 April 2010] [04:26:46] &lt;mikko&gt; that is request-reply pattern: create server, create client, client sends, server recvs, server sends, client recvs</div>
<div class="line">[Thursday 08 April 2010] [04:27:47] &lt;sustrik&gt;   can you do a quick check with local_lat/remote_lat?</div>
<div class="line">[Thursday 08 April 2010] [04:27:51] &lt;sustrik&gt;   it&#8217;s the same pattern</div>
<div class="line">[Thursday 08 April 2010] [04:28:07] &lt;sustrik&gt;   and the test used to work before the multi-part message changes</div>
<div class="line">[Thursday 08 April 2010] [04:28:10] &lt;mikko&gt; downgrading to 2.0.6 works</div>
<div class="line">[Thursday 08 April 2010] [04:28:18] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [04:28:21] &lt;mikko&gt; ok, give me a sec</div>
<div class="line">[Thursday 08 April 2010] [04:29:03] &lt;mikko&gt; local_lat ?</div>
<div class="line">[Thursday 08 April 2010] [04:29:31] &lt;sustrik&gt;   perf/local_lat</div>
<div class="line">[Thursday 08 April 2010] [04:29:35] &lt;sustrik&gt;   latency test</div>
<div class="line">[Thursday 08 April 2010] [04:30:01] &lt;sustrik&gt;   local_lat <a class="reference external" href="tcp://lo:5555">tcp://lo:5555</a> 1 1000</div>
<div class="line">[Thursday 08 April 2010] [04:30:09] &lt;mikko&gt; ah</div>
<div class="line">[Thursday 08 April 2010] [04:30:10] &lt;sustrik&gt;   remote_lat <a class="reference external" href="tcp://localhost:5555">tcp://localhost:5555</a> 1 1000</div>
<div class="line">[Thursday 08 April 2010] [04:30:21] &lt;mikko&gt; Assertion failed: false (xrep.cpp:37)</div>
<div class="line">[Thursday 08 April 2010] [04:30:21] &lt;mikko&gt; Aborted</div>
<div class="line">[Thursday 08 April 2010] [04:30:28] &lt;mikko&gt; tested with XREP/XREQ</div>
<div class="line">[Thursday 08 April 2010] [04:30:43] &lt;sustrik&gt;   these are not functional at the moment</div>
<div class="line">[Thursday 08 April 2010] [04:30:50] &lt;sustrik&gt;   they are not even documented</div>
<div class="line">[Thursday 08 April 2010] [04:31:05] &lt;mikko&gt; ok</div>
<div class="line">[Thursday 08 April 2010] [04:31:49] &lt;mikko&gt; message size: 1 [B]</div>
<div class="line">[Thursday 08 April 2010] [04:31:49] &lt;mikko&gt; roundtrip count: 1000</div>
<div class="line">[Thursday 08 April 2010] [04:31:49] &lt;mikko&gt; average latency: 17.049 [us]</div>
<div class="line">[Thursday 08 April 2010] [04:33:21] &lt;sustrik&gt;   hm, that works</div>
<div class="line">[Thursday 08 April 2010] [04:33:52] &lt;sustrik&gt;   can i get the test peogram that caused the  <a class="reference external" href="http://pastie.org/908956">http://pastie.org/908956</a> problem?</div>
<div class="line">[Thursday 08 April 2010] [04:33:55] &lt;mikko&gt; let me make a reproducable case</div>
<div class="line">[Thursday 08 April 2010] [04:33:59] &lt;sustrik&gt;   thanks</div>
<div class="line">[Thursday 08 April 2010] [04:34:03] &lt;mikko&gt; sustrik: it&#8217;s one of the php tests</div>
<div class="line">[Thursday 08 April 2010] [04:34:07] &lt;sustrik&gt;   :|</div>
<div class="line">[Thursday 08 April 2010] [04:34:22] &lt;mikko&gt; i should be able to make a C test case</div>
<div class="line">[Thursday 08 April 2010] [04:45:55] &lt;mikko&gt; no, can&#8217;t reproduce outside php extension</div>
<div class="line">[Thursday 08 April 2010] [04:46:24] &lt;mikko&gt; REQ send, REP recv</div>
<div class="line">[Thursday 08 April 2010] [04:46:29] &lt;mikko&gt; it gets stuck on recv</div>
<div class="line">[Thursday 08 April 2010] [04:49:11] &lt;mikko&gt; similar thing works if i run client and server in different processes</div>
<div class="line">[Thursday 08 April 2010] [04:49:37] &lt;sustrik&gt;   it&#8217;s inproc transport?</div>
<div class="line">[Thursday 08 April 2010] [04:49:51] &lt;mikko&gt; <a class="reference external" href="tcp://">tcp://</a></div>
<div class="line">[Thursday 08 April 2010] [04:50:03] &lt;sustrik&gt;   within a single process?</div>
<div class="line">[Thursday 08 April 2010] [04:50:11] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 08 April 2010] [04:50:42] &lt;sustrik&gt;   hm, given that gdb doesn&#8217;t work for you, there&#8217;s no chance of getting a backtrace, right?</div>
<div class="line">[Thursday 08 April 2010] [04:51:23] &lt;mikko&gt; i can test on more stable environment later</div>
<div class="line">[Thursday 08 April 2010] [04:52:51] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [04:53:08] &lt;sustrik&gt;   now for the !sending_reply || !more || reply_pipe != <a href="#id326"><span class="problematic" id="id327">pipe_</span></a> (rep.cpp:96) problem</div>
<div class="line">[Thursday 08 April 2010] [04:53:31] &lt;sustrik&gt;   it looks like there must be multipart message involved somehow</div>
<div class="line">[Thursday 08 April 2010] [04:53:33] &lt;sustrik&gt;   strange</div>
<div class="line">[Thursday 08 April 2010] [04:53:40] &lt;sustrik&gt;   is it php or c test?</div>
<div class="line">[Thursday 08 April 2010] [04:53:55] &lt;mikko&gt; php</div>
<div class="line">[Thursday 08 April 2010] [04:54:07] &lt;sustrik&gt;   2 endpoints?</div>
<div class="line">[Thursday 08 April 2010] [04:54:15] &lt;mikko&gt; in two separate processes</div>
<div class="line">[Thursday 08 April 2010] [04:54:20] &lt;sustrik&gt;   tcp?</div>
<div class="line">[Thursday 08 April 2010] [04:54:23] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 08 April 2010] [04:54:27] &lt;mikko&gt; REQ/REP</div>
<div class="line">[Thursday 08 April 2010] [04:54:39] &lt;sustrik&gt;   ok, do you know how to work with wireshark?</div>
<div class="line">[Thursday 08 April 2010] [04:54:47] &lt;sustrik&gt;   or tcpdump</div>
<div class="line">[Thursday 08 April 2010] [04:54:53] &lt;mikko&gt; i can tcpdump</div>
<div class="line">[Thursday 08 April 2010] [04:55:03] &lt;mikko&gt; wireshark requires a qui iirc?</div>
<div class="line">[Thursday 08 April 2010] [04:55:42] &lt;sustrik&gt;   there&#8217;s command line version called tshark</div>
<div class="line">[Thursday 08 April 2010] [04:55:52] &lt;sustrik&gt;   tcpdump is ok</div>
<div class="line">[Thursday 08 April 2010] [04:56:05] &lt;sustrik&gt;   i just want to know what data are passed between the two</div>
<div class="line">[Thursday 08 April 2010] [04:56:11] &lt;sustrik&gt;   can you get that for me?</div>
<div class="line">[Thursday 08 April 2010] [04:58:11] &lt;mikko&gt; ok, i&#8217;ll try to get a dump</div>
<div class="line">[Thursday 08 April 2010] [05:00:03] &lt;mikko&gt; can&#8217;t seem to lure it out after the latest epoll fix</div>
<div class="line">[Thursday 08 April 2010] [05:02:59] &lt;mikko&gt; i wonder if it was related to that (something wrong in my end)</div>
<div class="line">[Thursday 08 April 2010] [05:08:11] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r77cbd18 10/ src/pgm_receiver.cpp : issue 11 - Assertion failed: it != peers.end () (pgm_receiver.cpp:161) - <a class="reference external" href="http://bit.ly/djxu54">http://bit.ly/djxu54</a></div>
<div class="line">[Thursday 08 April 2010] [05:20:00] &lt;mikko&gt; sustrik: now i can reproduce</div>
<div class="line">[Thursday 08 April 2010] [05:20:02] &lt;mikko&gt; time for tcpdump</div>
<div class="line">[Thursday 08 April 2010] [05:22:53] &lt;olivier_c&gt; hello everybody</div>
<div class="line">[Thursday 08 April 2010] [05:24:17] &lt;sustrik&gt;   olivier_c: hi</div>
<div class="line">[Thursday 08 April 2010] [05:26:45] &lt;mikko&gt; sustrik: <a class="reference external" href="http://valokuva.org/~mikko/comm.pcap.gz">http://valokuva.org/~mikko/comm.pcap.gz</a></div>
<div class="line">[Thursday 08 April 2010] [05:26:59] &lt;mikko&gt; that is tcpdump -vvv -w comm.pcap -i lo port 5555</div>
<div class="line">[Thursday 08 April 2010] [05:38:46] &lt;olivier_c&gt; sustrik, i&#8217;ve a little question about the behavior of sub multiple sockets.</div>
<div class="line">[Thursday 08 April 2010] [05:38:55] &lt;sustrik&gt;   sure</div>
<div class="line">[Thursday 08 April 2010] [05:38:58] &lt;olivier_c&gt; <a href="#id55"><span class="problematic" id="id56">*</span></a>multiple sub</div>
<div class="line">[Thursday 08 April 2010] [05:39:07] &lt;sustrik&gt;   mikko: (inspecting the pcap)</div>
<div class="line">[Thursday 08 April 2010] [05:39:43] &lt;olivier_c&gt;  if i create 2 sub sockets (in different threads), and send messages on them, the reception is &#8220;alternate&#8221;.  i-e socket_one receive a message, then zmq is waiting on socket_two, and ignore messages arriving on socket_one.</div>
<div class="line">[Thursday 08 April 2010] [05:39:54] &lt;olivier_c&gt; multiple sub sockets can&#8217;t receive messages simultaneously ?</div>
<div class="line">[Thursday 08 April 2010] [05:40:57] &lt;sustrik&gt;   they should</div>
<div class="line">[Thursday 08 April 2010] [05:41:18] &lt;sustrik&gt;   what socket type are you using on sender side?</div>
<div class="line">[Thursday 08 April 2010] [05:41:35] &lt;olivier_c&gt; ZMQ_PUB</div>
<div class="line">[Thursday 08 April 2010] [05:42:08] &lt;sustrik&gt;   &#8221; if i create 2 sub sockets (in different threads), and send messages on them&#8221;</div>
<div class="line">[Thursday 08 April 2010] [05:42:13] &lt;sustrik&gt;   you mean &#8220;to them&#8221;</div>
<div class="line">[Thursday 08 April 2010] [05:42:14] &lt;sustrik&gt;   right?</div>
<div class="line">[Thursday 08 April 2010] [05:42:57] &lt;olivier_c&gt; yes,</div>
<div class="line">[Thursday 08 April 2010] [05:43:26] &lt;mikko&gt; sustrik: possibly related symptom: my poll server example stopped working as well, it doesn&#8217;t send a message even though zmq_send returns 0 and the socket is continously marked as writable</div>
<div class="line">[Thursday 08 April 2010] [05:43:33] &lt;mikko&gt; which causes eternal loop in polling</div>
<div class="line">[Thursday 08 April 2010] [05:43:51] &lt;sustrik&gt;   olivier_c: do you have a test program?</div>
<div class="line">[Thursday 08 April 2010] [05:44:20] &lt;sustrik&gt;   mikko: ok, as for the tcp dump</div>
<div class="line">[Thursday 08 April 2010] [05:44:39] &lt;olivier_c&gt; yes, i send you this in few minutes</div>
<div class="line">[Thursday 08 April 2010] [05:44:42] &lt;mikko&gt; hopefully gdb works on my other box</div>
<div class="line">[Thursday 08 April 2010] [05:44:44] &lt;sustrik&gt;   there seem to be 3 connections established</div>
<div class="line">[Thursday 08 April 2010] [05:44:47] &lt;sustrik&gt;   right&gt;</div>
<div class="line">[Thursday 08 April 2010] [05:44:48] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 08 April 2010] [05:44:58] &lt;sustrik&gt;   olivier_c: please, do</div>
<div class="line">[Thursday 08 April 2010] [05:46:04] &lt;sustrik&gt;   the on one of them &#8220;hello there!&#8221; message is sent</div>
<div class="line">[Thursday 08 April 2010] [05:50:40] &lt;sustrik&gt;   mikko: a double check - the pcap you&#8217;ve sent caused the !sending_reply || !more || reply_pipe != <a href="#id328"><span class="problematic" id="id329">pipe_</span></a> (rep.cpp:96) assertion, right?</div>
<div class="line">[Thursday 08 April 2010] [05:52:42] &lt;mikko&gt; sustrik: yes</div>
<div class="line">[Thursday 08 April 2010] [05:52:56] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [06:03:01] &lt;sustrik&gt;   mikko: hm, there seems to be no way how this can heppen :(</div>
<div class="line">[Thursday 08 April 2010] [06:03:04] &lt;sustrik&gt;   it&#8217;s php?</div>
<div class="line">[Thursday 08 April 2010] [06:03:13] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 08 April 2010] [06:03:39] &lt;mikko&gt; seems like most of the things are not working with github master</div>
<div class="line">[Thursday 08 April 2010] [06:04:26] &lt;mikko&gt; the poll-server.php example gets stuck in eternal loop where socket is constantly writable</div>
<div class="line">[Thursday 08 April 2010] [06:04:31] &lt;mikko&gt; even though message was just sent</div>
<div class="line">[Thursday 08 April 2010] [06:04:36] &lt;mikko&gt; but the client does not receive the message</div>
<div class="line">[Thursday 08 April 2010] [06:04:55] &lt;mikko&gt; downgrading to 2.0.6 and everything works</div>
<div class="line">[Thursday 08 April 2010] [06:05:08] &lt;sustrik&gt;   it possibly has to do with multipart messages</div>
<div class="line">[Thursday 08 April 2010] [06:05:21] &lt;sustrik&gt;   i have to get it reproduced somehow...</div>
<div class="line">[Thursday 08 April 2010] [06:05:31] &lt;mikko&gt; you could try with the php extension?</div>
<div class="line">[Thursday 08 April 2010] [06:05:45] &lt;sustrik&gt;   if you instruct me how to do it</div>
<div class="line">[Thursday 08 April 2010] [06:06:00]      * sustrik never used php</div>
<div class="line">[Thursday 08 April 2010] [06:06:25] &lt;mikko&gt; <a class="reference external" href="http://php.net/distributions/php-5.3.2.tar.bz2">http://php.net/distributions/php-5.3.2.tar.bz2</a></div>
<div class="line">[Thursday 08 April 2010] [06:06:36] &lt;mikko&gt; tar xfj php-5.3.2.tar.bz2</div>
<div class="line">[Thursday 08 April 2010] [06:06:39] &lt;mikko&gt; cd php-5.3.2</div>
<div class="line">[Thursday 08 April 2010] [06:06:56] &lt;mikko&gt; ./configure &#8211;disable-all &#8211;prefix=/opt/local &#8211;enable-debug</div>
<div class="line">[Thursday 08 April 2010] [06:07:08] &lt;mikko&gt; make &amp;&amp; make install</div>
<div class="line">[Thursday 08 April 2010] [06:07:16] &lt;mikko&gt; to get php running with debug</div>
<div class="line">[Thursday 08 April 2010] [06:07:49] &lt;mikko&gt; to install zeromq extension</div>
<div class="line">[Thursday 08 April 2010] [06:07:50] &lt;mikko&gt; git clone git://github.com/mkoppanen/php-zeromq.git</div>
<div class="line">[Thursday 08 April 2010] [06:07:54] &lt;mikko&gt; cd php-zeromq</div>
<div class="line">[Thursday 08 April 2010] [06:08:14] &lt;mikko&gt; /opt/local/bin/phpize &amp;&amp; ./configure &#8211;with-php-config=/opt/local/bin/php-config</div>
<div class="line">[Thursday 08 April 2010] [06:08:21] &lt;mikko&gt; make install</div>
<div class="line">[Thursday 08 April 2010] [06:10:42] &lt;sustrik&gt;   mikko: done</div>
<div class="line">[Thursday 08 April 2010] [06:10:44] &lt;sustrik&gt;   what now?</div>
<div class="line">[Thursday 08 April 2010] [06:12:00] &lt;mikko&gt; ls -l /opt/local/lib/php/extensions/debug-non-zts-20090626/</div>
<div class="line">[Thursday 08 April 2010] [06:12:05] &lt;mikko&gt; do you have zeromq.so there?</div>
<div class="line">[Thursday 08 April 2010] [06:12:16] &lt;sustrik&gt;   yes, i do</div>
<div class="line">[Thursday 08 April 2010] [06:12:34] &lt;mikko&gt; create new file /opt/local/lib/php.ini and add:</div>
<div class="line">[Thursday 08 April 2010] [06:12:38] &lt;mikko&gt; extension_dir=/opt/local/lib/php/extensions/debug-non-zts-20090626/</div>
<div class="line">[Thursday 08 April 2010] [06:12:42] &lt;mikko&gt; extension=zeromq.so</div>
<div class="line">[Thursday 08 April 2010] [06:12:56] &lt;mikko&gt; after that /opt/local/bin/php -m should show zeromq in the extension list</div>
<div class="line">[Thursday 08 April 2010] [06:13:34] &lt;mikko&gt; then in the php-zeromq dir run /opt/local/bin/php examples/poll-server.php</div>
<div class="line">[Thursday 08 April 2010] [06:13:41] &lt;mikko&gt; and the client /opt/local/bin/php examples/client.php</div>
<div class="line">[Thursday 08 April 2010] [06:13:50] &lt;mikko&gt; the client should send and recv single message</div>
<div class="line">[Thursday 08 April 2010] [06:14:52] &lt;sustrik&gt;   it did</div>
<div class="line">[Thursday 08 April 2010] [06:15:01] &lt;mikko&gt; are you using 2.0.6 ?</div>
<div class="line">[Thursday 08 April 2010] [06:15:16] &lt;sustrik&gt;   it&#8217;s trunk</div>
<div class="line">[Thursday 08 April 2010] [06:15:20] &lt;sustrik&gt;   i think</div>
<div class="line">[Thursday 08 April 2010] [06:15:23] &lt;sustrik&gt;   let me double check</div>
<div class="line">[Thursday 08 April 2010] [06:15:43] &lt;mikko&gt; for me it works with 2.0.6 but trunk gets into eternal loop on the server side</div>
<div class="line">[Thursday 08 April 2010] [06:16:46] &lt;sustrik&gt;   how do i know?</div>
<div class="line">[Thursday 08 April 2010] [06:17:03] &lt;sustrik&gt;   it says: Received message: hello there!</div>
<div class="line">[Thursday 08 April 2010] [06:17:08] &lt;sustrik&gt;   then does nothing</div>
<div class="line">[Thursday 08 April 2010] [06:17:15] &lt;mikko&gt; does the client exit after that?</div>
<div class="line">[Thursday 08 April 2010] [06:17:32] &lt;sustrik&gt;   nope</div>
<div class="line">[Thursday 08 April 2010] [06:17:37] &lt;sustrik&gt;   one cpu core 100%</div>
<div class="line">[Thursday 08 April 2010] [06:17:51] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 08 April 2010] [06:17:57] &lt;mikko&gt; the server is in a loop</div>
<div class="line">[Thursday 08 April 2010] [06:18:13] &lt;mikko&gt; exit the server using ctrl c</div>
<div class="line">[Thursday 08 April 2010] [06:18:25] &lt;sustrik&gt;   zmq_poll return POLLIN</div>
<div class="line">[Thursday 08 April 2010] [06:18:30] &lt;sustrik&gt;   but there&#8217;s no message</div>
<div class="line">[Thursday 08 April 2010] [06:18:31] &lt;mikko&gt; if you rerun the same thing and exit client with ctrl c</div>
<div class="line">[Thursday 08 April 2010] [06:18:32] &lt;sustrik&gt;   right?</div>
<div class="line">[Thursday 08 April 2010] [06:18:38] &lt;mikko&gt; Received message: hello there!</div>
<div class="line">[Thursday 08 April 2010] [06:18:39] &lt;mikko&gt; Assertion failed: !sending_reply || !more || reply_pipe != <a href="#id330"><span class="problematic" id="id331">pipe_</span></a> (rep.cpp:96)</div>
<div class="line">[Thursday 08 April 2010] [06:18:39] &lt;mikko&gt; Aborted</div>
<div class="line">[Thursday 08 April 2010] [06:18:40] &lt;mikko&gt; yep</div>
<div class="line">[Thursday 08 April 2010] [06:18:56] &lt;mikko&gt; if the client goes away that assertion should appear</div>
<div class="line">[Thursday 08 April 2010] [06:19:01] &lt;sustrik&gt;   bingo!</div>
<div class="line">[Thursday 08 April 2010] [06:19:18] &lt;sustrik&gt;   thanks for helping me with reproducing it</div>
<div class="line">[Thursday 08 April 2010] [06:21:50] &lt;mikko&gt; no prob</div>
<div class="line">[Thursday 08 April 2010] [06:24:23] &lt;mikko&gt; it might be my code as well, but seems like with 2.0.6 things work as expected</div>
<div class="line">[Thursday 08 April 2010] [06:52:11] &lt;sustrik&gt;   mikko: how is it linked?</div>
<div class="line">[Thursday 08 April 2010] [06:52:23] &lt;sustrik&gt;   if i tweak and reinstall 0mq</div>
<div class="line">[Thursday 08 April 2010] [06:52:30] &lt;mikko&gt; dynamic linking</div>
<div class="line">[Thursday 08 April 2010] [06:52:31] &lt;sustrik&gt;   will it do</div>
<div class="line">[Thursday 08 April 2010] [06:52:37] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 08 April 2010] [06:52:37] &lt;mikko&gt; ldd /opt/local/lib/php/extensions/debug-non-zts-20090626/zeromq.so</div>
<div class="line">[Thursday 08 April 2010] [06:52:50] &lt;mikko&gt; you can make clean &amp;&amp; make install in case there are ABI changes</div>
<div class="line">[Thursday 08 April 2010] [07:15:10] &lt;mikko&gt; sustrik: installed debian stable and gdb works there</div>
<div class="line">[Thursday 08 April 2010] [07:15:15] &lt;mikko&gt; broken in testing</div>
<div class="line">[Thursday 08 April 2010] [07:18:47] &lt;sustrik&gt;   fine</div>
<div class="line">[Thursday 08 April 2010] [07:21:48] &lt;olivier_c&gt; Ah, thanks for the answer sustrik :)</div>
<div class="line">[Thursday 08 April 2010] [07:22:40] &lt;sustrik&gt;   you are welcome</div>
<div class="line">[Thursday 08 April 2010] [07:28:10] &lt;olivier_c&gt; btw, other little things : there is still the same problem for doc when install (solution : touch doc/zmq.7) and after that &#8220;make&#8221; doesn&#8217;t find rules for &#8220;forwarder.1&#8221;.  (i&#8217;ve comment some lines in Makefile of the &#8220;doc&#8221; repertory to ignore this)</div>
<div class="line">[Thursday 08 April 2010] [07:33:46] &lt;sustrik&gt;   olivier_c: that&#8217;s 2.0.6 or trunk?</div>
<div class="line">[Thursday 08 April 2010] [07:35:15] &lt;olivier_c&gt; from git,  &#8220;sustrik-zeromq2-0f7aab5.tar.gz&#8221;</div>
<div class="line">[Thursday 08 April 2010] [07:36:19] &lt;sustrik&gt;   can you paste the error here?</div>
<div class="line">[Thursday 08 April 2010] [07:39:12] &lt;olivier_c&gt; so the first one (with &#8221;./configure &#8211;with-pgm&#8221;)</div>
<div class="line">[Thursday 08 April 2010] [07:39:14] &lt;olivier_c&gt; checking whether to install manpages... configure: error: configure thinks we want to install manpages but they&#8217;re not present. Help!</div>
<div class="line">[Thursday 08 April 2010] [07:39:27] &lt;olivier_c&gt; =&gt; touch doc/zmq.7</div>
<div class="line">[Thursday 08 April 2010] [07:39:34] &lt;olivier_c&gt; then ok</div>
<div class="line">[Thursday 08 April 2010] [07:40:34] &lt;sustrik&gt;   hm, have you run autogen.sh?</div>
<div class="line">[Thursday 08 April 2010] [07:40:59] &lt;olivier_c&gt; yes</div>
<div class="line">[Thursday 08 April 2010] [07:41:09] &lt;sustrik&gt;   let me try it myself...</div>
<div class="line">[Thursday 08 April 2010] [07:43:52] &lt;sustrik&gt;   olivier_c: ok, got it</div>
<div class="line">[Thursday 08 April 2010] [07:43:59] &lt;sustrik&gt;   i&#8217;ll open a ticket</div>
<div class="line">[Thursday 08 April 2010] [07:44:24] &lt;sustrik&gt;   btw, if you clone the repo using standard git clone, you won&#8217;t get the error</div>
<div class="line">[Thursday 08 April 2010] [07:44:52] &lt;<a href="#id332"><span class="problematic" id="id333">olivier_c_</span></a>&gt;    re :/</div>
<div class="line">[Thursday 08 April 2010] [07:45:56] &lt;sustrik&gt;   &lt;sustrik&gt; olivier_c: ok, got it</div>
<div class="line">[Thursday 08 April 2010] [07:45:56] &lt;sustrik&gt;   &lt;sustrik&gt; i&#8217;ll open a ticket</div>
<div class="line">[Thursday 08 April 2010] [07:45:56] &lt;sustrik&gt;   &lt;sustrik&gt; btw, if you clone the repo using standard git clone, you won&#8217;t get the error</div>
<div class="line">[Thursday 08 April 2010] [07:46:22] &lt;<a href="#id334"><span class="problematic" id="id335">olivier_c_</span></a>&gt;    ok</div>
<div class="line">[Thursday 08 April 2010] [08:01:44] &lt;keenerd&gt;   Hi.</div>
<div class="line">[Thursday 08 April 2010] [08:02:07] &lt;keenerd&gt;   Another makefile question</div>
<div class="line">[Thursday 08 April 2010] [08:03:04] &lt;keenerd&gt;   libzmq.la gets make install&#8217;d, and it seems like it should not be</div>
<div class="line">[Thursday 08 April 2010] [08:04:40] &lt;sustrik&gt;   i am not sure</div>
<div class="line">[Thursday 08 April 2010] [08:04:44] &lt;sustrik&gt;   shouldn&#8217;t it?</div>
<div class="line">[Thursday 08 April 2010] [08:05:18] &lt;keenerd&gt;   It seems to be a bit of scrap from the build process.</div>
<div class="line">[Thursday 08 April 2010] [08:05:52] &lt;sustrik&gt;   yes, it&#8217;s a libtool bit</div>
<div class="line">[Thursday 08 April 2010] [08:06:01] &lt;sustrik&gt;   i am not sure how it is supposed to work</div>
<div class="line">[Thursday 08 April 2010] [08:06:21] &lt;sustrik&gt;   maybe it can be included by other libtool-based builds?</div>
<div class="line">[Thursday 08 April 2010] [08:06:45] &lt;sustrik&gt;   keenerd: try ask on the mailing list, please</div>
<div class="line">[Thursday 08 April 2010] [08:06:55] &lt;sustrik&gt;   someone may have an idea about it</div>
<div class="line">[Thursday 08 April 2010] [08:07:51] &lt;keenerd&gt;   I&#8217;m still trying to sort it out.</div>
<div class="line">[Thursday 08 April 2010] [08:08:40] &lt;keenerd&gt;   &#8220;Optional and frowned upon, but required in some magical cases&#8221; seems to be the opinion of .la files.</div>
<div class="line">[Thursday 08 April 2010] [08:09:21] &lt;sustrik&gt;   so i would say let&#8217;s rather keep it there</div>
<div class="line">[Thursday 08 April 2010] [08:09:33] &lt;sustrik&gt;   in case a magical case happens</div>
<div class="line">[Thursday 08 April 2010] [08:09:51] &lt;keenerd&gt;   I have a user complaining otherwise.</div>
<div class="line">[Thursday 08 April 2010] [08:10:01] &lt;sustrik&gt;   why so?</div>
<div class="line">[Thursday 08 April 2010] [08:10:06] &lt;sustrik&gt;   does it mess with anyting?</div>
<div class="line">[Thursday 08 April 2010] [08:11:07] &lt;keenerd&gt;   Not sure.  It seems my distro has a policy against .la files, that they can quickly become a cross linked mess.</div>
<div class="line">[Thursday 08 April 2010] [08:11:45] &lt;keenerd&gt;   (Every week [for years now] I learn something new about the underbelly of linux, it seems.)</div>
<div class="line">[Thursday 08 April 2010] [08:12:15] &lt;sustrik&gt;   well, autotools by itself is complex and mysterious</div>
<div class="line">[Thursday 08 April 2010] [08:12:21] &lt;keenerd&gt;   True.</div>
<div class="line">[Thursday 08 April 2010] [08:12:24] &lt;sustrik&gt;   anyway, I have no opinion on the matter</div>
<div class="line">[Thursday 08 April 2010] [08:12:29] &lt;sustrik&gt;   ask on the mailing list</div>
<div class="line">[Thursday 08 April 2010] [08:12:37] &lt;sustrik&gt;   if nobody complains we can try to remove it</div>
<div class="line">[Thursday 08 April 2010] [08:13:19] &lt;keenerd&gt;   Righto.  Thanks.</div>
<div class="line">[Thursday 08 April 2010] [08:15:24] &lt;keenerd&gt;   Wow, the zmq site is hilariously broken in elinks :-)</div>
<div class="line">[Thursday 08 April 2010] [08:15:57] &lt;sustrik&gt;   works for me...</div>
<div class="line">[Thursday 08 April 2010] [08:16:14] &lt;sustrik&gt;   (firefox)</div>
<div class="line">[Thursday 08 April 2010] [08:17:05] &lt;sustrik&gt;   here&#8217;s the direct link: <a class="reference external" href="http://lists.zeromq.org/mailman/listinfo/zeromq-dev">http://lists.zeromq.org/mailman/listinfo/zeromq-dev</a></div>
<div class="line">[Thursday 08 April 2010] [08:19:38] &lt;keenerd&gt;   Yeah, that is the page.  Had to fire up X just to look at it.</div>
<div class="line">[Thursday 08 April 2010] [08:20:25] &lt;keenerd&gt;   It ended up crashing Elinks, maybe a stack overflow from some bad JS?</div>
<div class="line">[Thursday 08 April 2010] [08:24:34] &lt;sustrik&gt;   no idea, it&#8217;s hosted on a wikifarm</div>
<div class="line">[Thursday 08 April 2010] [08:24:43] &lt;sustrik&gt;   so we don&#8217;t write the html ourselves</div>
<div class="line">[Thursday 08 April 2010] [08:32:56] &lt;keenerd&gt;   ML&#8217;ed.</div>
<div class="line">[Thursday 08 April 2010] [08:33:46] &lt;keenerd&gt;   Thanks again.</div>
<div class="line">[Thursday 08 April 2010] [09:40:15] &lt;mikko&gt; sustrik: did you find out anything more regarding the assertion?</div>
<div class="line">[Thursday 08 April 2010] [10:15:05] &lt;sustrik&gt;   mikko: not yet</div>
<div class="line">[Thursday 08 April 2010] [10:15:15] &lt;sustrik&gt;   been out of office</div>
<div class="line">[Thursday 08 April 2010] [10:41:00] &lt;sustrik&gt;   mikko: you there?</div>
<div class="line">[Thursday 08 April 2010] [10:41:09] &lt;sustrik&gt;   here&#8217;s the problem</div>
<div class="line">[Thursday 08 April 2010] [10:41:15] &lt;mikko&gt; im here</div>
<div class="line">[Thursday 08 April 2010] [10:41:16] &lt;sustrik&gt;   zeromq.c:282</div>
<div class="line">[Thursday 08 April 2010] [10:41:18] &lt;sustrik&gt;   <a class="reference external" href="http://github.com/sustrik/zeromq2/blob/master/src/prefix_tree.hpp">http://github.com/sustrik/zeromq2/blob/master/src/prefix_tree.hpp</a></div>
<div class="line">[Thursday 08 April 2010] [10:41:21] &lt;sustrik&gt;   oops</div>
<div class="line">[Thursday 08 April 2010] [10:41:26] &lt;sustrik&gt;   rc = zmq_send(intern-&gt;zms-&gt;socket, &amp;message, zmq_msg_size(&amp;message));</div>
<div class="line">[Thursday 08 April 2010] [10:41:38] &lt;sustrik&gt;   the third parameter is &#8216;flags&#8217; not &#8216;size&#8217;</div>
<div class="line">[Thursday 08 April 2010] [10:41:50] &lt;sustrik&gt;   the message contains the size all right</div>
<div class="line">[Thursday 08 April 2010] [10:41:57] &lt;sustrik&gt;   you don&#8217;t have to specify it second time</div>
<div class="line">[Thursday 08 April 2010] [10:42:10] &lt;mikko&gt; makes a lot of sense</div>
<div class="line">[Thursday 08 April 2010] [10:42:21] &lt;sustrik&gt;   accidentaly message size of &#8220;Got it!&#8221; is 7</div>
<div class="line">[Thursday 08 April 2010] [10:42:21] &lt;mikko&gt; i guess flags were unused in 2.0.6?</div>
<div class="line">[Thursday 08 April 2010] [10:42:31] &lt;sustrik&gt;   which means bit 0 is set</div>
<div class="line">[Thursday 08 April 2010] [10:42:51] &lt;sustrik&gt;   there&#8217;s a ZMQ_NOBLOCK flag</div>
<div class="line">[Thursday 08 April 2010] [10:43:04] &lt;sustrik&gt;   you haven&#8217;t hit the problem by chance</div>
<div class="line">[Thursday 08 April 2010] [10:44:57] &lt;sustrik&gt;   still, it shouldn&#8217;t fail</div>
<div class="line">[Thursday 08 April 2010] [10:45:24] &lt;sustrik&gt;   i&#8217;ll fix my part</div>
<div class="line">[Thursday 08 April 2010] [10:45:29] &lt;sustrik&gt;   you fix yours</div>
<div class="line">[Thursday 08 April 2010] [10:45:47] &lt;mikko&gt; thanks alot</div>
<div class="line">[Thursday 08 April 2010] [10:45:50] &lt;sustrik&gt;   np</div>
<div class="line">[Thursday 08 April 2010] [12:01:38] &lt;sophacles&gt; Hey all, slightly offtopic, but I&#8217;m instrumenting some systems to learn how they operate under various forms of contention. CPU loading is cake, as is CPU+Network loading. Now im looking for a tool to fill the network pipe without bogging down the cpu. Does anyone here have experience with such a tool?</div>
<div class="line">[Thursday 08 April 2010] [12:03:31] &lt;sophacles&gt; (all the ones ive come across so far use 100%cpu when filling the pipe)</div>
<div class="line">[Thursday 08 April 2010] [12:20:26] &lt;sustrik&gt;   no idea, iperf?</div>
<div class="line">[Thursday 08 April 2010] [12:36:27] &lt;sophacles&gt; unfortunately iperf eats all the cpu. thanks for the suggestion tho!</div>
<div class="line">[Thursday 08 April 2010] [12:41:25] &lt;sustrik&gt;   :</div>
<div class="line">[Thursday 08 April 2010] [12:41:40] &lt;sustrik&gt;   sophacles: what about local_the/remote_thr?</div>
<div class="line">[Thursday 08 April 2010] [12:41:52] &lt;sustrik&gt;   with a VERY BIG MESSAGE</div>
<div class="line">[Thursday 08 April 2010] [12:50:38] &lt;sophacles&gt; not sure i follow...</div>
<div class="line">[Thursday 08 April 2010] [12:52:08] &lt;sustrik&gt;   sophacles: 0MQ performance test</div>
<div class="line">[Thursday 08 April 2010] [12:52:31] &lt;sustrik&gt;   it does nothing but send large chunk of memory down TCP</div>
<div class="line">[Thursday 08 April 2010] [12:52:56] &lt;sophacles&gt; cool... ill give that a try!</div>
<div class="line">[Thursday 08 April 2010] [12:53:14] &lt;sustrik&gt;   ./configure &amp;&amp; make</div>
<div class="line">[Thursday 08 April 2010] [12:53:20] &lt;sustrik&gt;   then it&#8217;s in perf subdirectory</div>
<div class="line">[Thursday 08 April 2010] [12:54:04] &lt;sophacles&gt; yeah, i see them there... i just never thought to actually <em>use</em> them  :)</div>
<div class="line">[Thursday 08 April 2010] [12:54:22] &lt;sophacles&gt; kind of a facepalm moment on my part really</div>
<div class="line">[Thursday 08 April 2010] [12:55:36] &lt;sustrik&gt;   try using message size of several megabytes</div>
<div class="line">[Thursday 08 April 2010] [12:55:49] &lt;sustrik&gt;   that should ensure the least possible CPU usage</div>
<div class="line">[Thursday 08 April 2010] [12:56:40] &lt;sophacles&gt; ok, thanks for the tip... ill let you know how that works once i get the stuff pushed to all the right places :</div>
<div class="line">[Thursday 08 April 2010] [13:05:23] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r5cd9f74 10/ src/rep.cpp : few fixed related to multi-part messages in REP socket - <a class="reference external" href="http://bit.ly/aMGndT">http://bit.ly/aMGndT</a></div>
<div class="line">[Thursday 08 April 2010] [13:21:39] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r027bb1d 10/ src/zmq.cpp : issue 10 - zmq_strerror problem on Windows - <a class="reference external" href="http://bit.ly/d8SQ7M">http://bit.ly/d8SQ7M</a></div>
<div class="line">[Thursday 08 April 2010] [17:08:00] &lt;sophacles&gt; sustrik: so, with the latest zeromq2 stuff debian packaging should probably be cleaned up to not include all the language bindings, correct?</div>
<div class="line">[Thursday 08 April 2010] [18:37:01] &lt;dirtmcgirt&gt;    hi all. getting a &#8220;Exception in thread &#8220;main&#8221; java.lang.UnsatisfiedLinkError: /usr/local/lib/libjzmq.0.dylib:  no suitable image found.&#8221; with the latest checkout of jzmq</div>
<div class="line">[Thursday 08 April 2010] [18:37:17] &lt;dirtmcgirt&gt;    trying the test program: &#8220;java -Djava.library.path=/usr/local/lib -classpath ../src/Zmq.jar:. local_lat <a class="reference external" href="tcp://127.0.0.1:5555">tcp://127.0.0.1:5555</a> 1 100&#8221;</div>
<div class="line">[Friday 09 April 2010] [09:52:06] &lt;mikko&gt;   sustrik: thanks for r716f4ac!</div>
<div class="line">[Friday 09 April 2010] [09:59:21] &lt;sustrik&gt; np, i wanted to implement it anyway :)</div>
<div class="line">[Friday 09 April 2010] [09:59:50] &lt;mikko&gt;   i&#8217;ll add it to the php extension soon</div>
<div class="line">[Friday 09 April 2010] [09:59:56] &lt;mikko&gt;   is next release likely to be 2.0.7 ?</div>
<div class="line">[Friday 09 April 2010] [10:00:11] &lt;mikko&gt;   i guess i&#8217;ll just add check for zeromq &gt; 2.0.6</div>
<div class="line">[Friday 09 April 2010] [10:00:53] &lt;sustrik&gt; well, if you want to add support for getsockopt you should chack for 2.0.7</div>
<div class="line">[Friday 09 April 2010] [10:01:03] &lt;sustrik&gt; check*</div>
<div class="line">[Friday 09 April 2010] [10:01:28] &lt;mikko&gt;   i&#8217;m gonna check for that in any case because most of the tests fail with previous versions</div>
<div class="line">[Friday 09 April 2010] [10:01:38] &lt;mikko&gt;   due to the &#8216;closing unused socket&#8217;</div>
<div class="line">[Friday 09 April 2010] [10:03:08] &lt;sustrik&gt; ack</div>
<div class="line">[Friday 09 April 2010] [10:12:43] &lt;mikko&gt;   sustrik: can you up the version number in github?</div>
<div class="line">[Friday 09 April 2010] [10:12:54] &lt;mikko&gt;   it shows 2.0.6 still (naturally pkg-config check fails)</div>
<div class="line">[Friday 09 April 2010] [10:20:21] &lt;sustrik&gt; mato: you there?</div>
<div class="line">[Friday 09 April 2010] [10:20:38] &lt;sustrik&gt; where&#8217;s the version number defined?</div>
<div class="line">[Friday 09 April 2010] [10:23:08] &lt;sustrik&gt; there&#8217;s one in configure.in; i wonder whether that&#8217;s the only instance...</div>
<div class="line">[Friday 09 April 2010] [10:23:08] &lt;mato&gt;    sustrik: in configure.in, right at the top, there&#8217;s a nice big comment that tells you all about it :-)</div>
<div class="line">[Friday 09 April 2010] [10:23:13] &lt;mato&gt;    yes, it is</div>
<div class="line">[Friday 09 April 2010] [10:23:23] &lt;sustrik&gt; great</div>
<div class="line">[Friday 09 April 2010] [10:24:30] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r6ea76e9 10/ configure.in : version bumped to 2.0.7 - <a class="reference external" href="http://bit.ly/a8K6TO">http://bit.ly/a8K6TO</a></div>
<div class="line">[Friday 09 April 2010] [10:39:59] &lt;mikko&gt;   thanks!</div>
<div class="line">[Friday 09 April 2010] [10:40:11] &lt;mikko&gt;   sorry, missed the follow-up question</div>
<div class="line">[Friday 09 April 2010] [10:42:17] &lt;mikko&gt;   checking that libzmq version is at least 2.0.7... yes</div>
<div class="line">[Friday 09 April 2010] [10:42:19] &lt;mikko&gt;   works !</div>
<div class="line">[Friday 09 April 2010] [10:42:20] &lt;mikko&gt;   awesome</div>
<div class="line">[Friday 09 April 2010] [10:47:17] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 09 April 2010] [12:25:33] &lt;sustrik&gt; mato: can you have a look at this:</div>
<div class="line">[Friday 09 April 2010] [12:25:34] &lt;sustrik&gt; <a class="reference external" href="http://github.com/sustrik/zeromq2/issues#issue/14">http://github.com/sustrik/zeromq2/issues#issue/14</a></div>
<div class="line">[Friday 09 April 2010] [12:28:48] &lt;mato&gt;    sustrik: AGAIN?!</div>
<div class="line">[Friday 09 April 2010] [12:29:15] &lt;sustrik&gt; it only happens if you download the github generated tar</div>
<div class="line">[Friday 09 April 2010] [12:29:24] &lt;mato&gt;    aw crap</div>
<div class="line">[Friday 09 April 2010] [12:29:27] &lt;sustrik&gt; no idea what&#8217;s the difference</div>
<div class="line">[Friday 09 April 2010] [12:29:32] &lt;mato&gt;    you&#8217;re not supposed to download the github generated tar :)</div>
<div class="line">[Friday 09 April 2010] [12:29:50] &lt;sustrik&gt; i haven&#8217;t</div>
<div class="line">[Friday 09 April 2010] [12:29:53] &lt;sustrik&gt; someone else did</div>
<div class="line">[Friday 09 April 2010] [12:32:02] &lt;rossij&gt;  If one needs to secure send messages does one have to implement outside of zeromq or is their some way to emable secure network traffic.  From looking at the docs i am guessing I would have to do everything.</div>
<div class="line">[Friday 09 April 2010] [12:32:39] &lt;mato&gt;    rossij: see <a class="reference external" href="http://www.zeromq.org/faq">http://www.zeromq.org/faq</a></div>
<div class="line">[Friday 09 April 2010] [12:32:59]    * rossij is retarded ;)</div>
<div class="line">[Friday 09 April 2010] [12:33:17] &lt;rossij&gt;  mato: thank you</div>
<div class="line">[Friday 09 April 2010] [12:33:29] &lt;mato&gt;    rossij: no problem</div>
<div class="line">[Friday 09 April 2010] [12:36:51] &lt;mato&gt;    sustrik: the problem is i need some way to differentiate a &#8220;release&#8221; tarball from anything else</div>
<div class="line">[Friday 09 April 2010] [12:37:21] &lt;sustrik&gt; what&#8217;s release tarbal?</div>
<div class="line">[Friday 09 April 2010] [12:37:30] &lt;mato&gt;    one created with make dist</div>
<div class="line">[Friday 09 April 2010] [12:37:37] &lt;mato&gt;    which includes the generated documentation</div>
<div class="line">[Friday 09 April 2010] [12:37:47] &lt;mato&gt;    and thus does not depend on asciidoc being present</div>
<div class="line">[Friday 09 April 2010] [12:38:19] &lt;sustrik&gt; one thing puzzles me: what&#8217;s the difference between git clone and downloading and unpacking the tarbal?</div>
<div class="line">[Friday 09 April 2010] [12:38:31] &lt;sustrik&gt; i would assume i get exactly the same result</div>
<div class="line">[Friday 09 April 2010] [12:38:33] &lt;sophacles&gt;   Has anyone ever used 0m one way sockets (UPSTREAM/DOWNSTEAM) in conjunction with &#8220;digital diodes&#8221;?</div>
<div class="line">[Friday 09 April 2010] [12:38:47] &lt;sustrik&gt; 8o</div>
<div class="line">[Friday 09 April 2010] [12:38:53] &lt;mato&gt;    sustrik: the difference is that the git clone contains a .git directory so configure knows it&#8217;s a git clone</div>
<div class="line">[Friday 09 April 2010] [12:39:20] &lt;mato&gt;    sustrik: if there&#8217;s no git directory it assumes it&#8217;s building a release tarball</div>
<div class="line">[Friday 09 April 2010] [12:39:26] &lt;sustrik&gt; a-ha</div>
<div class="line">[Friday 09 April 2010] [12:40:15] &lt;sustrik&gt; sophacles: what&#8217;s &#8220;digital diodes&#8221;? sounds intriguing.</div>
<div class="line">[Friday 09 April 2010] [12:40:32] &lt;mato&gt;    the only way to work around it would be to have make dist include some special &#8220;stamp&#8221; file in the distribution tarball and do the detection on that</div>
<div class="line">[Friday 09 April 2010] [12:40:49] &lt;sophacles&gt;   lemme find the paper, but short version is: hardware enforced one-way packet flow</div>
<div class="line">[Friday 09 April 2010] [12:41:11] &lt;sophacles&gt;   secure network concept power grid folks (and other critical infrastructure) are looking at</div>
<div class="line">[Friday 09 April 2010] [12:41:15] &lt;sustrik&gt; mato: it&#8217;s your call</div>
<div class="line">[Friday 09 April 2010] [12:41:32] &lt;sustrik&gt; but depending on .git sounds strange</div>
<div class="line">[Friday 09 April 2010] [12:43:36] &lt;mato&gt;    well i didn&#8217;t think anyone would be grabbing tarballs that were not made with make dist</div>
<div class="line">[Friday 09 April 2010] [12:45:24] &lt;kristianpaul&gt;    hola :)</div>
<div class="line">[Friday 09 April 2010] [12:45:58] &lt;sustrik&gt; hola</div>
<div class="line">[Friday 09 April 2010] [12:48:10] &lt;kristianpaul&gt;    what is luuid ?</div>
<div class="line">[Friday 09 April 2010] [12:48:27] &lt;kristianpaul&gt;    i cant  compile zeromq because of that</div>
<div class="line">[Friday 09 April 2010] [12:48:41] &lt;sustrik&gt; what&#8217;s your system?</div>
<div class="line">[Friday 09 April 2010] [12:49:12] &lt;kristianpaul&gt;    debian squeeze</div>
<div class="line">[Friday 09 April 2010] [12:49:33] &lt;mato&gt;    kristianpaul: apt-get install uuid-dev</div>
<div class="line">[Friday 09 April 2010] [12:50:02] &lt;mato&gt;    sustrik: can&#8217;t we just disable the &#8216;download source&#8217; link on github, or (better) redirect it to the zeromq.org download page?</div>
<div class="line">[Friday 09 April 2010] [12:50:08] &lt;mato&gt;    sustrik: that would make the problem go away</div>
<div class="line">[Friday 09 April 2010] [12:50:24] &lt;sustrik&gt; mato: thx</div>
<div class="line">[Friday 09 April 2010] [12:50:33] &lt;mato&gt;    sustrik: if people want to use the git version then they should just clone it</div>
<div class="line">[Friday 09 April 2010] [12:50:33] &lt;sustrik&gt; can we?</div>
<div class="line">[Friday 09 April 2010] [12:50:38] &lt;mato&gt;    i don&#8217;t know</div>
<div class="line">[Friday 09 April 2010] [12:50:54] &lt;sustrik&gt; never seen such a button</div>
<div class="line">[Friday 09 April 2010] [12:54:28] &lt;mato&gt;    looks like it can&#8217;t be done :-(</div>
<div class="line">[Friday 09 April 2010] [12:57:11] &lt;kristianpaul&gt;    compiled :)</div>
<div class="line">[Friday 09 April 2010] [12:59:28] &lt;kristianpaul&gt;    i cloned this git://github.com/sustrik/zeromq-chat.git and was okay</div>
<div class="line">[Friday 09 April 2010] [12:59:47] &lt;sophacles&gt;   sustrik: <a class="reference external" href="http://www.dsto.defence.gov.au/publications/2110/DSTO-TR-0785.pdf">http://www.dsto.defence.gov.au/publications/2110/DSTO-TR-0785.pdf</a> for the digital diode paper we are looking at</div>
<div class="line">[Friday 09 April 2010] [13:01:00] &lt;sustrik&gt; sophacles: i give it a look later on</div>
<div class="line">[Friday 09 April 2010] [13:01:16] &lt;sustrik&gt; however, with one-way communication TCP is not possible, right?</div>
<div class="line">[Friday 09 April 2010] [13:04:13] &lt;sophacles&gt;   sustrik correct, hence our looking at middleware that has one-way semantics.</div>
<div class="line">[Friday 09 April 2010] [13:05:36] &lt;sophacles&gt;   so then we can have a box that on one interface has a sock_downstream listening, and pushes the data over another interface which is a hardware diode</div>
<div class="line">[Friday 09 April 2010] [13:05:59] &lt;sustrik&gt; sophacles: 0MQ is potentially capable of that but you must write true udp transport for that</div>
<div class="line">[Friday 09 April 2010] [13:06:11] &lt;sustrik&gt; true udp = unrealiable, no acks no nacks</div>
<div class="line">[Friday 09 April 2010] [13:06:31] &lt;sustrik&gt; couple of people already announced that they want to implement it</div>
<div class="line">[Friday 09 April 2010] [13:06:42] &lt;sustrik&gt; but obviously nobody have even started with it</div>
<div class="line">[Friday 09 April 2010] [13:07:23] &lt;kristianpaul&gt;    can i install zeromq i a 8 bit microcontroller?</div>
<div class="line">[Friday 09 April 2010] [13:07:45] &lt;sustrik&gt; kristianpaul: no idea</div>
<div class="line">[Friday 09 April 2010] [13:07:55] &lt;kristianpaul&gt;    it uses sdcc</div>
<div class="line">[Friday 09 April 2010] [13:07:59] &lt;kristianpaul&gt;    ok</div>
<div class="line">[Friday 09 April 2010] [13:08:11] &lt;sustrik&gt; you need at least c++ runtime, pthreads and libuuid</div>
<div class="line">[Friday 09 April 2010] [13:08:17] &lt;kristianpaul&gt;    }:/</div>
<div class="line">[Friday 09 April 2010] [13:08:26] &lt;kristianpaul&gt;    then not :)</div>
<div class="line">[Friday 09 April 2010] [13:08:57] &lt;sophacles&gt;   this is why im looking at the gateway concept. it provides realiability to the place where the diode is implemented, after the diode there is no reliablility of course, but hte assumption is the hard part is reliability to the diode and ont he other side of the diode</div>
<div class="line">[Friday 09 April 2010] [13:09:43] &lt;sustrik&gt; then just implement udp transport in 0mq and you can place a forwarder device on each end of the diode</div>
<div class="line">[Friday 09 April 2010] [13:10:14] &lt;sustrik&gt; tcp-&gt;forwarder-&gt;udp-&gt;diode-&gt;forwarder-&gt;tcp</div>
<div class="line">[Friday 09 April 2010] [13:10:15] &lt;sophacles&gt;   right, thats why we like 0mq for this :)</div>
<div class="line">[Friday 09 April 2010] [13:10:45] &lt;sustrik&gt; implementing udp shouldn&#8217;t be a big deal</div>
<div class="line">[Friday 09 April 2010] [13:11:10] &lt;sustrik&gt; if you decide to go that way let me know and i&#8217;ll point you in the right direction</div>
<div class="line">[Friday 09 April 2010] [13:11:46] &lt;sophacles&gt;   ok, thanks, for now we have enough for our proposal tho :)</div>
<div class="line">[Friday 09 April 2010] [13:11:58] &lt;sustrik&gt; goodo</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: 03Martin Lucina 07master * r1d28dc9 10/ configure.in :</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: Fix for Issue #14</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: Don&#8217;t fail hard if an unreleased tarball is being built and asciidoc is</div>
<div class="line">[Friday 09 April 2010] [13:16:59] &lt;CIA-5&gt;   zeromq2: not installed; instead just print a big fat warning - <a class="reference external" href="http://bit.ly/9mRdzJ">http://bit.ly/9mRdzJ</a></div>
<div class="line">[Friday 09 April 2010] [13:25:44] &lt;mato&gt;    sustrik: ok, fixed, i decided not to care and just print a big fat warning if someone has a tarball from git/git clone and no asciidoc</div>
<div class="line">[Friday 09 April 2010] [13:26:07] &lt;sustrik&gt; sure, np</div>
<div class="line">[Friday 09 April 2010] [13:26:26] &lt;mato&gt;    the github issue tracker is a bit sucky</div>
<div class="line">[Friday 09 April 2010] [13:26:30] &lt;mato&gt;    i seem to get random emails</div>
<div class="line">[Friday 09 April 2010] [13:26:44] &lt;mato&gt;    ah</div>
<div class="line">[Friday 09 April 2010] [13:26:47] &lt;sustrik&gt; yes, people do</div>
<div class="line">[Friday 09 April 2010] [13:26:52] &lt;sustrik&gt; get random emials</div>
<div class="line">[Friday 09 April 2010] [13:27:13] &lt;mato&gt;    yes, but the reason the emails look random is because you&#8217;re entering issues with no structure</div>
<div class="line">[Friday 09 April 2010] [13:27:22] &lt;mato&gt;    e.g. GH-13</div>
<div class="line">[Friday 09 April 2010] [13:27:35] &lt;sustrik&gt; eee</div>
<div class="line">[Friday 09 April 2010] [13:27:38] &lt;mato&gt;    I get an email with a looooong subject, and a body that says &#8220;Here&#8217;s the test program&#8221;</div>
<div class="line">[Friday 09 April 2010] [13:27:55] &lt;mato&gt;    which is totally unparseable at 1st glance :-)</div>
<div class="line">[Friday 09 April 2010] [13:28:08] &lt;sustrik&gt; what&#8217;s the magic then?</div>
<div class="line">[Friday 09 April 2010] [13:28:22] &lt;mato&gt;    we should have a template for issues</div>
<div class="line">[Friday 09 April 2010] [13:28:30] &lt;mato&gt;    so that the body of the email actually makes sense</div>
<div class="line">[Friday 09 April 2010] [13:28:35] &lt;sustrik&gt; ah</div>
<div class="line">[Friday 09 April 2010] [13:28:44] &lt;sustrik&gt; lemme see</div>
<div class="line">[Friday 09 April 2010] [13:28:44] &lt;mato&gt;    but i&#8217;m not sure if github can do that, i know that google code can</div>
<div class="line">[Friday 09 April 2010] [13:29:10] &lt;sustrik&gt; still i don&#8217;t get why emails are send _randomly_</div>
<div class="line">[Friday 09 April 2010] [13:29:23] &lt;mato&gt;    me neither</div>
<div class="line">[Friday 09 April 2010] [13:29:30] &lt;sustrik&gt; can we turn it off?</div>
<div class="line">[Friday 09 April 2010] [13:29:35] &lt;mato&gt;    don&#8217;t know</div>
<div class="line">[Friday 09 April 2010] [13:29:47] &lt;mato&gt;    i&#8217;ll look into it and try and file bugs/contact the github people</div>
<div class="line">[Friday 09 April 2010] [13:29:58] &lt;mato&gt;    it&#8217;s very hard to follow the way it works now</div>
<div class="line">[Friday 09 April 2010] [13:30:54] &lt;sustrik&gt; hm, i wanted to ask you to kill the jira</div>
<div class="line">[Friday 09 April 2010] [13:31:06] &lt;sustrik&gt; but it seems it&#8217;s maybe to early for that</div>
<div class="line">[Friday 09 April 2010] [13:31:11] &lt;mato&gt;    maybe</div>
<div class="line">[Friday 09 April 2010] [13:31:18] &lt;sustrik&gt; but you can definitely kill the old svn</div>
<div class="line">[Friday 09 April 2010] [13:31:25] &lt;sustrik&gt; nobody using it anymore</div>
<div class="line">[Friday 09 April 2010] [13:31:38] &lt;mato&gt;    not my job, email ewen</div>
<div class="line">[Friday 09 April 2010] [13:31:43] &lt;sustrik&gt; ok</div>
<div class="line">[Friday 09 April 2010] [13:31:55] &lt;mato&gt;    but i suggest you wait until we can kill the jira</div>
<div class="line">[Friday 09 April 2010] [13:32:07]    * sustrik is waiting</div>
<div class="line">[Friday 09 April 2010] [13:32:08] &lt;mato&gt;    then you can get ewen to just kill the entire svfastmq vm</div>
<div class="line">[Friday 09 April 2010] [13:32:09] &lt;mato&gt;    in one go</div>
<div class="line">[Friday 09 April 2010] [13:32:35] &lt;mato&gt;    i will try and talk to the github people to see if we can get some improvements made to the issue tracker</div>
<div class="line">[Friday 09 April 2010] [13:32:40] &lt;sustrik&gt; ack</div>
<div class="line">[Friday 09 April 2010] [13:32:48] &lt;mato&gt;    templates that users must fill in when submitting would be especially good</div>
<div class="line">[Friday 09 April 2010] [13:33:10] &lt;mato&gt;    &#8220;Please describe your Operating System, version,&#8221; and so on</div>
<div class="line">[Friday 09 April 2010] [13:33:16] &lt;mato&gt;    otherwise it&#8217;ll be a total mess</div>
<div class="line">[Friday 09 April 2010] [13:33:31] &lt;sustrik&gt; yup</div>
<div class="line">[Friday 09 April 2010] [13:34:48] &lt;dirtmcgirt&gt;  sustrik: about the java problem</div>
<div class="line">[Friday 09 April 2010] [13:35:01] &lt;dirtmcgirt&gt;  sustrik: OS is OS X</div>
<div class="line">[Friday 09 April 2010] [13:35:20] &lt;dirtmcgirt&gt;  getting a &#8220;Exception in thread &#8220;main&#8221; java.lang.UnsatisfiedLinkError: /usr/local/lib/libjzmq.0.dylib:  no suitable image found.&#8221; with the latest checkout of jzmq</div>
<div class="line">[Friday 09 April 2010] [13:35:32] &lt;dirtmcgirt&gt;  trying the test program: &#8220;java -Djava.library.path=/usr/local/lib -classpath ../src/Zmq.jar:. local_lat <a class="reference external" href="tcp://127.0.0.1:5555">tcp://127.0.0.1:5555</a> 1 100&#8221;</div>
<div class="line">[Friday 09 April 2010] [13:35:43] &lt;sustrik&gt; is there the library on the path?</div>
<div class="line">[Friday 09 April 2010] [13:35:59] &lt;dirtmcgirt&gt;  yep</div>
<div class="line">[Friday 09 April 2010] [13:36:01] &lt;sustrik&gt;  /usr/local/lib/libjzmq.0.dylib</div>
<div class="line">[Friday 09 April 2010] [13:36:25] &lt;sustrik&gt; what does &#8220;no suitable image found&#8221; mean then?</div>
<div class="line">[Friday 09 April 2010] [13:37:07] &lt;dirtmcgirt&gt;  going to try an rebuild from scratch</div>
<div class="line">[Friday 09 April 2010] [13:38:19] &lt;mato&gt;    sustrik: dinnertime, cyl in kut?</div>
<div class="line">[Friday 09 April 2010] [13:38:29] &lt;sustrik&gt; yes</div>
<div class="line">[Friday 09 April 2010] [13:41:25] &lt;sustrik&gt; dirtmcgirt: i cannot help you much as i have no experience with osx, however, try asking at the mailing list, there are definitely OSX people there</div>
<div class="line">[Friday 09 April 2010] [13:58:10] &lt;dirtmcgirt&gt;  dirtmcgirt: no known problems on linux (CentOS 5)?</div>
<div class="line">[Friday 09 April 2010] [13:58:14] &lt;dirtmcgirt&gt;  oops, sustrik</div>
<div class="line">[Friday 09 April 2010] [13:58:41] &lt;sustrik&gt; i am not aware of any</div>
<div class="line">[Friday 09 April 2010] [16:36:28] &lt;sophacles&gt;   interesting: on host A - an ubuntu maching, the toy client and server from the webpage compile just fine, on a debian machine tho, the client breaks with errors about context_t and socket_t not being members of zmq</div>
<div class="line">[Friday 09 April 2010] [16:36:35] &lt;sophacles&gt;   anyone seen this before?</div>
<div class="line">[Friday 09 April 2010] [16:45:40] &lt;sophacles&gt;   hahaha nevermind &#8211; the deb box had an ancient copy of zeromq1 sitting on it</div>
<div class="line">[Friday 09 April 2010] [18:19:29] &lt;dirtmcgirt&gt;  any binary builds for java?</div>
<div class="line">[Friday 09 April 2010] [18:19:34] &lt;dirtmcgirt&gt;  jar files?</div>
<div class="line">[Friday 09 April 2010] [18:24:09] &lt;dirtmcgirt&gt;  getting build problems on CentOS 5</div>
<div class="line">[Friday 09 April 2010] [18:24:19] &lt;dirtmcgirt&gt;  make[2]: util.hpp: Command not found</div>
<div class="line">[Saturday 10 April 2010] [04:52:41] &lt;mikko&gt; good morning</div>
<div class="line">[Saturday 10 April 2010] [04:52:58] &lt;sustrik&gt;   mikko: morning</div>
<div class="line">[Saturday 10 April 2010] [05:02:03] &lt;mikko&gt; getSockOpt added</div>
<div class="line">[Saturday 10 April 2010] [05:02:37] &lt;sustrik&gt;   !</div>
<div class="line">[Saturday 10 April 2010] [05:02:51] &lt;mikko&gt; ended up adding ifndef and <a class="reference external" href="http://github.com/mkoppanen/php-zeromq/blob/master/config.m4#L37">http://github.com/mkoppanen/php-zeromq/blob/master/config.m4#L37</a></div>
<div class="line">[Saturday 10 April 2010] [05:04:37] &lt;sustrik&gt;   2.0.6 vs. 2.0.7 isn&#8217;t sufficient?</div>
<div class="line">[Saturday 10 April 2010] [05:05:24] &lt;mikko&gt; if you do $z = new ZeroMq(ZeroMQ::SOCKET_REP); $z-&gt;connect(&#8220;tcp://lo:5555&#8221;); unset($z); in 2.0.6 it will crash on assertion error</div>
<div class="line">[Saturday 10 April 2010] [05:10:27] &lt;mikko&gt; with 2.0.6 people need to remember that socket needs recv/send or when the object get garbage collected it might terminate the script</div>
<div class="line">[Saturday 10 April 2010] [05:10:41] &lt;mikko&gt; but other than that it should work with 2.0.6 as well</div>
<div class="line">[Saturday 10 April 2010] [05:26:48] &lt;mato&gt;  sustrik: are you there?</div>
<div class="line">[Saturday 10 April 2010] [05:26:55] &lt;sustrik&gt;   mato: yes</div>
<div class="line">[Saturday 10 April 2010] [05:27:16] &lt;mato&gt;  sustrik: do you have the original patch for the debian packaging by peter busser? (that which is currently in  git)</div>
<div class="line">[Saturday 10 April 2010] [05:27:44] &lt;sustrik&gt;   i presume</div>
<div class="line">[Saturday 10 April 2010] [05:27:50] &lt;mato&gt;  sustrik: can you find it please?</div>
<div class="line">[Saturday 10 April 2010] [05:27:54] &lt;sustrik&gt;   but why not get it from git?</div>
<div class="line">[Saturday 10 April 2010] [05:28:08] &lt;mato&gt;  sustrik: i need to see that he sent it under the MIT license</div>
<div class="line">[Saturday 10 April 2010] [05:28:51] &lt;mato&gt;  sustrik: could you please find the email with the original patch and forward it to me? it must have gone to you privately since i don&#8217;t see anything obvious in the list archive</div>
<div class="line">[Saturday 10 April 2010] [05:30:36] &lt;sustrik&gt;   found couple of them</div>
<div class="line">[Saturday 10 April 2010] [05:30:39] &lt;sustrik&gt;   forwarding...</div>
<div class="line">[Saturday 10 April 2010] [05:30:42] &lt;mato&gt;  thanks</div>
<div class="line">[Saturday 10 April 2010] [05:31:39] &lt;sustrik&gt;   anyway, it&#8217;s just packaging, the license is irrelevant imo</div>
<div class="line">[Saturday 10 April 2010] [05:31:44] &lt;mato&gt;  no it&#8217;s not</div>
<div class="line">[Saturday 10 April 2010] [05:32:03]      * sustrik leaving now</div>
<div class="line">[Saturday 10 April 2010] [05:32:10] &lt;sustrik&gt;   starting test env</div>
<div class="line">[Saturday 10 April 2010] [05:32:14] &lt;mato&gt;  thanks</div>
<div class="line">[Saturday 10 April 2010] [05:42:06] &lt;mikko&gt; github is interesting: when you go to the wiki side it doesnt show you are logged in</div>
<div class="line">[Saturday 10 April 2010] [05:42:12] &lt;mikko&gt; shows &#8220;Pricing and signup&#8221;</div>
<div class="line">[Saturday 10 April 2010] [05:45:28] &lt;mikko&gt; have you got redhat packaging ?</div>
<div class="line">[Saturday 10 April 2010] [05:45:35] &lt;mato&gt;  nope</div>
<div class="line">[Saturday 10 April 2010] [05:45:40] &lt;mikko&gt; i can do spec files if that is needed</div>
<div class="line">[Saturday 10 April 2010] [05:45:49] &lt;mikko&gt; i&#8217;ve been doing them at work for the past year and a half</div>
<div class="line">[Saturday 10 April 2010] [05:46:25] &lt;mato&gt;  might be useful</div>
<div class="line">[Saturday 10 April 2010] [05:46:39] &lt;mato&gt;  tho we&#8217;ll have to figure out where the spec files will go</div>
<div class="line">[Saturday 10 April 2010] [05:46:52] &lt;mato&gt;  i had to spend 3 days convincing sustrik that the debian packaging could be in debian/</div>
<div class="line">[Saturday 10 April 2010] [05:47:15] &lt;mikko&gt; redhat/ usually</div>
<div class="line">[Saturday 10 April 2010] [05:47:43] &lt;mato&gt;  that&#8217;ll just annoy him about &#8220;creating more mess in the top level directory&#8221; :-)</div>
<div class="line">[Saturday 10 April 2010] [05:47:52] &lt;mikko&gt; usually in release packages .spec is in the root of the release package</div>
<div class="line">[Saturday 10 April 2010] [05:48:09] &lt;mikko&gt; that allows building with rpmbuild -tb zeromq-x.x.x.tar.gz</div>
<div class="line">[Saturday 10 April 2010] [05:48:15] &lt;mato&gt;  right</div>
<div class="line">[Saturday 10 April 2010] [05:48:37] &lt;mato&gt;  well, we can figure something out</div>
<div class="line">[Saturday 10 April 2010] [05:48:45] &lt;mato&gt;  it&#8217;d be nice to have RPM-land accounted for</div>
<div class="line">[Saturday 10 April 2010] [05:48:48] &lt;mikko&gt; maybe in builds/ ?</div>
<div class="line">[Saturday 10 April 2010] [05:48:51] &lt;mato&gt;  yeah</div>
<div class="line">[Saturday 10 April 2010] [05:49:12] &lt;mato&gt;  and make dist can copy them to the toplevel when making the tarball, sustrik will never know :-)</div>
<div class="line">[Saturday 10 April 2010] [05:49:26] &lt;mato&gt;  that way the rpmbuild trick you mentioned will work</div>
<div class="line">[Saturday 10 April 2010] [05:49:33] &lt;mato&gt;  if that&#8217;s what people are used to</div>
<div class="line">[Saturday 10 April 2010] [05:49:40] &lt;mato&gt;  i&#8217;ve not used a rpm-based distro for years</div>
<div class="line">[Saturday 10 April 2010] [05:49:57] &lt;mikko&gt; most of the companies where i&#8217;ve worked for use RHEL</div>
<div class="line">[Saturday 10 April 2010] [05:50:35] &lt;mato&gt;  yeah, i know</div>
<div class="line">[Saturday 10 April 2010] [05:50:46] &lt;mato&gt;  if you have the time, the contribution would be welcome</div>
<div class="line">[Saturday 10 April 2010] [05:50:54] &lt;mikko&gt; im already on it</div>
<div class="line">[Saturday 10 April 2010] [05:51:09] &lt;mato&gt;  i suggest you copy the current debian packaging</div>
<div class="line">[Saturday 10 April 2010] [05:51:16] &lt;mato&gt;  (that in adrian&#8217;s hg repository)</div>
<div class="line">[Saturday 10 April 2010] [05:51:21] &lt;mato&gt;  in terms of actual packages built</div>
<div class="line">[Saturday 10 April 2010] [05:51:29] &lt;mato&gt;  you want something equivalent to:</div>
<div class="line">[Saturday 10 April 2010] [05:51:34] &lt;mato&gt;  dpkg-deb: building package <a href="#id57"><span class="problematic" id="id58">`</span></a>libzmq0&#8217; in <a href="#id59"><span class="problematic" id="id60">`</span></a>../libzmq0_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [05:51:34] &lt;mato&gt;  dpkg-deb: building package <a href="#id61"><span class="problematic" id="id62">`</span></a>zeromq-bin&#8217; in <a href="#id63"><span class="problematic" id="id64">`</span></a>../zeromq-bin_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [05:51:37] &lt;mato&gt;  dpkg-deb: building package <a href="#id65"><span class="problematic" id="id66">`</span></a>libzmq-dev&#8217; in <a href="#id67"><span class="problematic" id="id68">`</span></a>../libzmq-dev_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [05:51:40] &lt;mato&gt;  dpkg-deb: building package <a href="#id69"><span class="problematic" id="id70">`</span></a>libzmq-dbg&#8217; in <a href="#id71"><span class="problematic" id="id72">`</span></a>../libzmq-dbg_2.0.6beta.dfsg-2_amd64.deb&#8217;.</div>
<div class="line">[Saturday 10 April 2010] [06:11:59] &lt;mikko&gt; hmm.. testing the spec file and i didn&#8217;t have &#8216;g++&#8217; but configure still passes</div>
<div class="line">[Saturday 10 April 2010] [06:13:11] &lt;mato&gt;  that&#8217;s strange :) I&#8217;ve not tried on a machine w/o g++</div>
<div class="line">[Saturday 10 April 2010] [06:33:20] &lt;mikko&gt; does &#8211;with-pgm add additional dependencies?</div>
<div class="line">[Saturday 10 April 2010] [06:37:27] &lt;mikko&gt; ah got it</div>
<div class="line">[Saturday 10 April 2010] [06:52:23] &lt;mato&gt;  yes</div>
<div class="line">[Saturday 10 April 2010] [06:52:27] &lt;mato&gt;  glib and gthread</div>
<div class="line">[Saturday 10 April 2010] [06:52:42] &lt;mato&gt;  but you only want &#8211;with-pgm on x86 and amd64</div>
<div class="line">[Saturday 10 April 2010] [06:53:47] &lt;mikko&gt; 95% of the hosts?</div>
<div class="line">[Saturday 10 April 2010] [06:53:48] &lt;mikko&gt; maybe</div>
<div class="line">[Saturday 10 April 2010] [06:54:42] &lt;mato&gt;  the point is pgm is not supported and won&#8217;t build on anything else atm</div>
<div class="line">[Saturday 10 April 2010] [06:55:05] &lt;mato&gt;  so on anything non-x86 you want to build packages w/o that</div>
<div class="line">[Saturday 10 April 2010] [06:55:11] &lt;mato&gt;  which is what the debian package does</div>
<div class="line">[Saturday 10 April 2010] [06:55:18] &lt;mikko&gt; RHEL supports</div>
<div class="line">[Saturday 10 April 2010] [06:55:19] &lt;mikko&gt; # Intel Itanium2</div>
<div class="line">[Saturday 10 April 2010] [06:55:19] &lt;mikko&gt; # IBM POWER</div>
<div class="line">[Saturday 10 April 2010] [06:55:19] &lt;mikko&gt; # IBM System z and S/390</div>
<div class="line">[Saturday 10 April 2010] [06:55:24] &lt;mikko&gt; apart from the others</div>
<div class="line">[Saturday 10 April 2010] [06:55:29] &lt;mikko&gt; i&#8217;ll add a condition for that</div>
<div class="line">[Saturday 10 April 2010] [07:18:43] &lt;mikko&gt; <a class="reference external" href="http://github.com/mkoppanen/zeromq2/blob/master/zeromq2.spec">http://github.com/mkoppanen/zeromq2/blob/master/zeromq2.spec</a></div>
<div class="line">[Saturday 10 April 2010] [07:18:47] &lt;mikko&gt; initial version there</div>
<div class="line">[Saturday 10 April 2010] [07:18:54] &lt;mikko&gt; i&#8217;ll do some tweaking later today</div>
<div class="line">[Saturday 10 April 2010] [07:30:04] &lt;CIA-5&gt; zeromq2: 03Adrian von Bidder 07master * r8aa2acd 10/ (35 files in 2 dirs): Debian packaging update from Adrian von Bidder - <a class="reference external" href="http://bit.ly/bfp9zr">http://bit.ly/bfp9zr</a></div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * r1dc0380 10/ (4 files):</div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: Debian packaging fixes suitable for 0MQ git</div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: Removed README.source, TODO.source since these are irrelevant to a generic</div>
<div class="line">[Saturday 10 April 2010] [07:30:06] &lt;CIA-5&gt; zeromq2: git package.</div>
<div class="line">[Saturday 10 April 2010] [07:30:07] &lt;CIA-5&gt; zeromq2: Fixed spelling in debian/copyright.</div>
<div class="line">[Saturday 10 April 2010] [07:30:07] &lt;CIA-5&gt; zeromq2: Removed RFC check in debian/rules, again irrelevant to a generic git package. - <a class="reference external" href="http://bit.ly/cNRlAG">http://bit.ly/cNRlAG</a></div>
<div class="line">[Saturday 10 April 2010] [10:19:01] &lt;sustrik&gt;   mato: ping</div>
<div class="line">[Saturday 10 April 2010] [10:19:08] &lt;mato&gt;  sustrik: yes?</div>
<div class="line">[Saturday 10 April 2010] [10:19:18] &lt;sustrik&gt;   still using the test env?</div>
<div class="line">[Saturday 10 April 2010] [10:19:23] &lt;mato&gt;  no</div>
<div class="line">[Saturday 10 April 2010] [10:19:29] &lt;mato&gt;  didnt get around to it at all</div>
<div class="line">[Saturday 10 April 2010] [10:19:29] &lt;sustrik&gt;   can i switch it off?</div>
<div class="line">[Saturday 10 April 2010] [10:19:33] &lt;mato&gt;  am mucking with the build stuff</div>
<div class="line">[Saturday 10 April 2010] [10:19:34] &lt;mato&gt;  yes</div>
<div class="line">[Saturday 10 April 2010] [10:19:42] &lt;sustrik&gt;   goodo, it&#8217;s kind of noisy</div>
<div class="line">[Saturday 10 April 2010] [10:20:20] &lt;sustrik&gt;   btw, can we set cia for the projects that don&#8217;t support it yet?</div>
<div class="line">[Saturday 10 April 2010] [10:20:36] &lt;mato&gt;  ?</div>
<div class="line">[Saturday 10 April 2010] [10:21:01] &lt;sustrik&gt;   i have at least rbzmq and jzmq</div>
<div class="line">[Saturday 10 April 2010] [10:21:11] &lt;sustrik&gt;   are those reported via CIA?</div>
<div class="line">[Saturday 10 April 2010] [10:21:18] &lt;mato&gt;  just a moment</div>
<div class="line">[Saturday 10 April 2010] [10:21:24] &lt;mato&gt;  let me finish what i&#8217;m doing :)</div>
<div class="line">[Saturday 10 April 2010] [10:21:43] &lt;sustrik&gt;   fine, ping me then</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * r770aedb 10/ (configure.in src/Makefile.am):</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Build fixes for Solaris and non-GNU compilers</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Compiling C++ code with -D_POSIX_SOURCE on Solaris is unsupported, so remove it.</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Isolate GCC-isms inside checks that we are actually using GCC/G++.</div>
<div class="line">[Saturday 10 April 2010] [10:22:05] &lt;CIA-5&gt; zeromq2: Only check for -lstdc++ when on GCC and doing static linking. - <a class="reference external" href="http://bit.ly/bvl9cL">http://bit.ly/bvl9cL</a></div>
<div class="line">[Saturday 10 April 2010] [10:27:12] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * rc214a24 10/ (src/forwarder.cpp src/queue.cpp src/streamer.cpp): fix for Sun C++ 5.8 - <a class="reference external" href="http://bit.ly/9gea7k">http://bit.ly/9gea7k</a></div>
<div class="line">[Saturday 10 April 2010] [10:33:38] &lt;mikko&gt; make[2]: <a href="#id73"><span class="problematic" id="id74">**</span></a>* No rule to make target <a href="#id75"><span class="problematic" id="id76">`</span></a>zmq_forwarder.1&#8217;, needed by <a href="#id77"><span class="problematic" id="id78">`</span></a>dist-hook&#8217;.  Stop.</div>
<div class="line">[Saturday 10 April 2010] [10:33:43] &lt;mikko&gt; during make dist</div>
<div class="line">[Saturday 10 April 2010] [10:33:48] &lt;mikko&gt; do i need to do something special?</div>
<div class="line">[Saturday 10 April 2010] [10:34:02] &lt;mato&gt;  make dist generates documentation</div>
<div class="line">[Saturday 10 April 2010] [10:34:14] &lt;mato&gt;  so you need asciidoc and xmlto installed</div>
<div class="line">[Saturday 10 April 2010] [10:34:21] &lt;mato&gt;  then re-run configure and it&#8217;ll work fine</div>
<div class="line">[Saturday 10 April 2010] [10:35:40] &lt;mikko&gt; mm</div>
<div class="line">[Saturday 10 April 2010] [10:35:44] &lt;mikko&gt; hefty package</div>
<div class="line">[Saturday 10 April 2010] [10:35:44] &lt;mikko&gt; Need to get 492MB/494MB of archives.</div>
<div class="line">[Saturday 10 April 2010] [10:35:45] &lt;mikko&gt; After this operation, 899MB of additional disk space will be used.</div>
<div class="line">[Saturday 10 April 2010] [10:35:50] &lt;mato&gt;  :-)</div>
<div class="line">[Saturday 10 April 2010] [10:35:55] &lt;mato&gt;  yeah, i know</div>
<div class="line">[Saturday 10 April 2010] [10:36:13] &lt;mato&gt;  normal users need never see it though</div>
<div class="line">[Saturday 10 April 2010] [10:36:32] &lt;mato&gt;  what are you doing &#8216;make dist&#8217; for anyway? :-)</div>
<div class="line">[Saturday 10 April 2010] [10:37:14] &lt;mato&gt;  crap</div>
<div class="line">[Saturday 10 April 2010] [10:37:15] &lt;mikko&gt; moved the spec file to builds/redhat/zeromq2.spec and making a dist-hook to copy to top-level</div>
<div class="line">[Saturday 10 April 2010] [10:37:16] &lt;mato&gt;  sustrik: ping</div>
<div class="line">[Saturday 10 April 2010] [10:37:20] &lt;mikko&gt; and remove after distclean</div>
<div class="line">[Saturday 10 April 2010] [10:37:24] &lt;mato&gt;  ah :)</div>
<div class="line">[Saturday 10 April 2010] [10:37:26] &lt;mato&gt;  fair enough</div>
<div class="line">[Saturday 10 April 2010] [10:37:50] &lt;mikko&gt; also trying to look into why configure succeeds when g++ is missing</div>
<div class="line">[Saturday 10 April 2010] [10:38:01] &lt;mikko&gt; or why it tries to use g++ even though it&#8217;s not there</div>
<div class="line">[Saturday 10 April 2010] [10:38:10] &lt;mato&gt;  default behaviour</div>
<div class="line">[Saturday 10 April 2010] [10:38:23] &lt;mato&gt;  <a class="reference external" href="http://www.gnu.org/software/hello/manual/autoconf/C_002b_002b-Compiler.html#C_002b_002b-Compiler">http://www.gnu.org/software/hello/manual/autoconf/C_002b_002b-Compiler.html#C_002b_002b-Compiler</a></div>
<div class="line">[Saturday 10 April 2010] [10:38:26] &lt;sustrik&gt;   mato: pong</div>
<div class="line">[Saturday 10 April 2010] [10:38:34] &lt;mato&gt;  . If none of those checks succeed, then as a last resort set CXX to g++.</div>
<div class="line">[Saturday 10 April 2010] [10:38:44] &lt;mato&gt;  sustrik: I have a problem with the perf tests</div>
<div class="line">[Saturday 10 April 2010] [10:38:52] &lt;mikko&gt; If none of those checks succeed, then as a last resort set CXX to g++.</div>
<div class="line">[Saturday 10 April 2010] [10:38:53] &lt;mikko&gt; ah</div>
<div class="line">[Saturday 10 April 2010] [10:39:07] &lt;sustrik&gt;   yes?</div>
<div class="line">[Saturday 10 April 2010] [10:39:34] &lt;mato&gt;  they need to link against the C++ runtime</div>
<div class="line">[Saturday 10 April 2010] [10:39:46] &lt;sustrik&gt;   they do</div>
<div class="line">[Saturday 10 April 2010] [10:39:50] &lt;mato&gt;  no they don&#8217;t</div>
<div class="line">[Saturday 10 April 2010] [10:39:57] &lt;sustrik&gt;   the libzmq does</div>
<div class="line">[Saturday 10 April 2010] [10:40:04] &lt;mato&gt;  I have a heap of checks in configure.in to deal with exactly this</div>
<div class="line">[Saturday 10 April 2010] [10:40:13] &lt;mato&gt;  No it doesn&#8217;t</div>
<div class="line">[Saturday 10 April 2010] [10:40:16] &lt;mato&gt;  let me explain</div>
<div class="line">[Saturday 10 April 2010] [10:40:23]      * sustrik is listening</div>
<div class="line">[Saturday 10 April 2010] [10:40:47] &lt;mato&gt;  the only case where it &#8220;just works&#8221; is if libzmq.so is a shared library</div>
<div class="line">[Saturday 10 April 2010] [10:40:54] &lt;sustrik&gt;   ack</div>
<div class="line">[Saturday 10 April 2010] [10:40:57] &lt;mato&gt;  even then only reliably on Linux/gcc</div>
<div class="line">[Saturday 10 April 2010] [10:41:12] &lt;mato&gt;  now, I cannot realistically make all the other combinations work</div>
<div class="line">[Saturday 10 April 2010] [10:41:20] &lt;mato&gt;  however there&#8217;s a trivial way to make it &#8220;just work&#8221; for us</div>
<div class="line">[Saturday 10 April 2010] [10:41:44] &lt;mato&gt;  which is to rename those source files to .cpp, which will cause them to be built with the C++ compiler, whatever that may be, which will just work</div>
<div class="line">[Saturday 10 April 2010] [10:41:56] &lt;sustrik&gt;   sure, why not</div>
<div class="line">[Saturday 10 April 2010] [10:42:00] &lt;mato&gt;  so, can i make that chage?</div>
<div class="line">[Saturday 10 April 2010] [10:42:01] &lt;mato&gt;  good</div>
<div class="line">[Saturday 10 April 2010] [10:42:10] &lt;mato&gt;  i&#8217;ll do that, i just wanted you to understand why</div>
<div class="line">[Saturday 10 April 2010] [10:43:31]      * sustrik thinks there should be a slim C++ variant with no specific runtime</div>
<div class="line">[Saturday 10 April 2010] [10:43:45] &lt;sustrik&gt;   OO-macros for CV</div>
<div class="line">[Saturday 10 April 2010] [10:43:47] &lt;sustrik&gt;   C</div>
<div class="line">[Saturday 10 April 2010] [10:43:52] &lt;mato&gt;  go complain to Bjarne Stroustrup</div>
<div class="line">[Saturday 10 April 2010] [10:44:02] &lt;mikko&gt; Bjarne hates macros</div>
<div class="line">[Saturday 10 April 2010] [10:44:17] &lt;sustrik&gt;   i mean, i am using nothing out of C++ runtime</div>
<div class="line">[Saturday 10 April 2010] [10:44:28] &lt;sustrik&gt;   almost</div>
<div class="line">[Saturday 10 April 2010] [10:44:49] &lt;sustrik&gt;   :|</div>
<div class="line">[Saturday 10 April 2010] [10:46:24] &lt;sustrik&gt;   btw, what about linking C++ runtime statically?</div>
<div class="line">[Saturday 10 April 2010] [10:46:49] &lt;mato&gt;  sustrik: there is <em>no</em> portable way to &#8220;link the C++ runtime&#8221; other than using the C++ compiler</div>
<div class="line">[Saturday 10 April 2010] [10:47:00] &lt;sustrik&gt;   gh</div>
<div class="line">[Saturday 10 April 2010] [10:47:18] &lt;mato&gt;  the libstdc++ stuff i had in configure was a hack for gcc</div>
<div class="line">[Saturday 10 April 2010] [10:47:22] &lt;mato&gt;  and it&#8217;s getting in the way</div>
<div class="line">[Saturday 10 April 2010] [10:47:44] &lt;sustrik&gt;   go on, get rid of it</div>
<div class="line">[Saturday 10 April 2010] [10:47:48] &lt;mato&gt;  which is why i want to compile/link all our binaries with the C++ compiler and not care about the problem</div>
<div class="line">[Saturday 10 April 2010] [10:52:53] &lt;CIA-5&gt; rbzmq: 03Martin Sustrik 07master * rcd25ce4 10/ rbzmq.cpp : setting integer socket options fixed - <a class="reference external" href="http://bit.ly/d0pygW">http://bit.ly/d0pygW</a></div>
<div class="line">[Saturday 10 April 2010] [10:59:59] &lt;sustrik&gt;   mato: i&#8217;ve enabled CIA for jzmq and clrzmq in github, please update your part of it later on</div>
<div class="line">[Saturday 10 April 2010] [11:00:15] &lt;mato&gt;  ok</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * rf6fa41d 10/ (10 files in 2 dirs):</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: Compile perf tests with the C++ compiler</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: This lets us build the binaries in a portable fashion w/o having to worry</div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: about how to link with the C++ runtime. - <a class="reference external" href="http://bit.ly/aJcfUn">http://bit.ly/aJcfUn</a></div>
<div class="line">[Saturday 10 April 2010] [11:05:02] &lt;CIA-5&gt; zeromq2: 03Martin Lucina 07master * rb668387 10/ (5 files in 5 dirs): Remove -Wxxx gcc-isms from subdir Makefiles - <a class="reference external" href="http://bit.ly/a0KHqq">http://bit.ly/a0KHqq</a></div>
<div class="line">[Saturday 10 April 2010] [11:07:45] &lt;mikko&gt; ok, make dist in debian -&gt; copy tarball to CentOS -&gt; rpmbuild -tb zeromq-2.0.7.tar.gz seems to generate RPMs as expected</div>
<div class="line">[Saturday 10 April 2010] [11:08:05] &lt;mikko&gt; i wonder if the debian/ should be moved to builds and copied during make dist</div>
<div class="line">[Saturday 10 April 2010] [11:10:01] &lt;mato&gt;  libtool: link: CC -g -o .libs/local_lat local_lat.o  ../src/.libs/libzmq.so -luuid -lrt -lnsl -lsocket -lpthread -R/usr/local/lib</div>
<div class="line">[Saturday 10 April 2010] [11:10:05] &lt;mato&gt;  Undefined                       first referenced symbol                             in file</div>
<div class="line">[Saturday 10 April 2010] [11:10:08] &lt;mato&gt;  bool std::operator==&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt; &gt;(const std::basic_string&lt;__type_0,__type_1,__type_2&gt;&amp;,const __type_0*) ../src/.libs/libzmq.so</div>
<div class="line">[Saturday 10 April 2010] [11:10:11] &lt;mato&gt;  ld: fatal: Symbol referencing errors. No output written to .libs/local_lat</div>
<div class="line">[Saturday 10 April 2010] [11:10:16] &lt;mato&gt;  wtf</div>
<div class="line">[Saturday 10 April 2010] [11:11:20] &lt;mato&gt;  mikko: cool</div>
<div class="line">[Saturday 10 April 2010] [11:11:48] &lt;mato&gt;  mikko: maybe, i&#8217;d need to check with adrian</div>
<div class="line">[Saturday 10 April 2010] [11:12:05]      * sustrik nods in accord</div>
<div class="line">[Saturday 10 April 2010] [11:12:43] &lt;sustrik&gt;   i would guess the equality operator on string class should be in libstdc++</div>
<div class="line">[Saturday 10 April 2010] [11:16:00] &lt;mato&gt;  grrr</div>
<div class="line">[Saturday 10 April 2010] [11:16:11] &lt;mato&gt;  I don&#8217;t know</div>
<div class="line">[Saturday 10 April 2010] [11:16:17] &lt;mato&gt;  that is, it should</div>
<div class="line">[Saturday 10 April 2010] [11:16:27] &lt;mato&gt;  and libzmq.so does pull in the relevant Sun C++ libraries</div>
<div class="line">[Saturday 10 April 2010] [11:16:35] &lt;mato&gt;  but it doesn&#8217;t work when linking the perf tests</div>
<div class="line">[Saturday 10 April 2010] [11:16:55] &lt;mato&gt;  enough for today, I&#8217;ll look at it again tomorrow</div>
<div class="line">[Saturday 10 April 2010] [11:21:36] &lt;mikko&gt; pull request sent</div>
<div class="line">[Saturday 10 April 2010] [11:21:43] &lt;mikko&gt; i think im gonna play for a minute</div>
<div class="line">[Saturday 10 April 2010] [11:21:44] &lt;mikko&gt; bbl</div>
<div class="line">[Saturday 10 April 2010] [11:26:02] &lt;mato&gt;  i&#8217;m off into town</div>
<div class="line">[Saturday 10 April 2010] [11:26:02] &lt;mato&gt;  bbl</div>
<div class="line">[Saturday 10 April 2010] [11:32:15] &lt;sustrik&gt;   cyl</div>
<div class="line">[Sunday 11 April 2010] [01:59:12] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r6fea422 10/ include/zmq.hpp : getsockopt added to c++ binding - <a class="reference external" href="http://bit.ly/aWN1od">http://bit.ly/aWN1od</a></div>
<div class="line">[Sunday 11 April 2010] [04:08:32] &lt;mikko&gt;   sustrik: pretty early commit, huh</div>
<div class="line">[Sunday 11 April 2010] [04:08:50] &lt;mikko&gt;   (assuming you are somewhat close to GMT)</div>
<div class="line">[Sunday 11 April 2010] [04:08:58] &lt;sustrik&gt; GMT+1</div>
<div class="line">[Sunday 11 April 2010] [04:09:08] &lt;sustrik&gt; what about you?</div>
<div class="line">[Sunday 11 April 2010] [04:09:46] &lt;mikko&gt;   GMT + 1 at the moment i think</div>
<div class="line">[Sunday 11 April 2010] [04:09:52] &lt;mikko&gt;   british summer time</div>
<div class="line">[Sunday 11 April 2010] [04:09:56] &lt;mikko&gt;   (london)</div>
<div class="line">[Sunday 11 April 2010] [04:10:35] &lt;sustrik&gt; ah, GMT+2 here then (CET summer time)</div>
<div class="line">[Sunday 11 April 2010] [04:10:49] &lt;mikko&gt;   is imatix a belgian company?</div>
<div class="line">[Sunday 11 April 2010] [04:11:02] &lt;mikko&gt;   at least the contact details seem to point to belgium</div>
<div class="line">[Sunday 11 April 2010] [04:11:18] &lt;sustrik&gt; imatix is belgain, but i am independent, just managing the project</div>
<div class="line">[Sunday 11 April 2010] [04:11:29] &lt;sustrik&gt; i&#8217;m based in bratislava, slovakia</div>
<div class="line">[Sunday 11 April 2010] [04:12:21] &lt;sustrik&gt; btw, i&#8217;ll have to go to london next week or so, so we can have a beer</div>
<div class="line">[Sunday 11 April 2010] [04:12:36] &lt;mikko&gt;   sure, just let me know when and where</div>
<div class="line">[Sunday 11 April 2010] [04:12:40] &lt;sustrik&gt; ack</div>
<div class="line">[Sunday 11 April 2010] [04:12:56] &lt;mikko&gt;   i visited bratislava in 2006</div>
<div class="line">[Sunday 11 April 2010] [04:13:12] &lt;sustrik&gt; haven&#8217;t changed much since :)</div>
<div class="line">[Sunday 11 April 2010] [04:13:13] &lt;mikko&gt;   after football world cup</div>
<div class="line">[Sunday 11 April 2010] [04:13:17] &lt;mikko&gt;   a lot of road works</div>
<div class="line">[Sunday 11 April 2010] [04:13:23] &lt;sustrik&gt; still the same</div>
<div class="line">[Sunday 11 April 2010] [04:13:29] &lt;mikko&gt;   seems like the whole city was being rebuilt</div>
<div class="line">[Sunday 11 April 2010] [04:13:54] &lt;sustrik&gt; that&#8217;s how cities look in balkans</div>
<div class="line">[Sunday 11 April 2010] [04:14:01] &lt;sustrik&gt; like they are rebuilt all the time</div>
<div class="line">[Sunday 11 April 2010] [04:14:10] &lt;sustrik&gt; bratislava is a bit on edge of the area</div>
<div class="line">[Sunday 11 April 2010] [04:14:15] &lt;sustrik&gt; but the impression is the same</div>
<div class="line">[Sunday 11 April 2010] [04:15:06] &lt;sustrik&gt; btw, how does the php api look like?</div>
<div class="line">[Sunday 11 April 2010] [04:15:31] &lt;sustrik&gt; i think i&#8217;ve noticed you are using &#8216;zeromq&#8217; prefix</div>
<div class="line">[Sunday 11 April 2010] [04:15:36] &lt;mikko&gt;   i tagged 0.1.0 beta</div>
<div class="line">[Sunday 11 April 2010] [04:15:43] &lt;sustrik&gt; yep, seen that</div>
<div class="line">[Sunday 11 April 2010] [04:16:20] &lt;sustrik&gt; some time ago we&#8217;ve tried to write a guidelines for APIs so that all the language bindings look more or less the same</div>
<div class="line">[Sunday 11 April 2010] [04:16:22] &lt;mikko&gt;   yep, class name in php can&#8217;t start with a number</div>
<div class="line">[Sunday 11 April 2010] [04:16:25] &lt;sustrik&gt; have tou seen that?</div>
<div class="line">[Sunday 11 April 2010] [04:16:32] &lt;mikko&gt;   no, missed that</div>
<div class="line">[Sunday 11 April 2010] [04:16:36] &lt;sustrik&gt; wait a sec</div>
<div class="line">[Sunday 11 April 2010] [04:16:42] &lt;mikko&gt;   it&#8217;s an easy change if needed</div>
<div class="line">[Sunday 11 April 2010] [04:16:59] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/guidelines:bindings">http://www.zeromq.org/guidelines:bindings</a></div>
<div class="line">[Sunday 11 April 2010] [04:17:07] &lt;sustrik&gt; it&#8217;s entirely up to you</div>
<div class="line">[Sunday 11 April 2010] [04:17:25] &lt;sustrik&gt; but following the guidelines is meant to ease the transition between different languages</div>
<div class="line">[Sunday 11 April 2010] [04:17:42] &lt;sustrik&gt; as well as to make communication between developers in different languages easier</div>
<div class="line">[Sunday 11 April 2010] [04:18:00] &lt;mikko&gt;   Preferred name of the object/namespace/prefix is &#8220;zmq&#8221;</div>
<div class="line">[Sunday 11 April 2010] [04:18:06] &lt;sustrik&gt; yes</div>
<div class="line">[Sunday 11 April 2010] [04:18:08] &lt;mikko&gt;   let me change that</div>
<div class="line">[Sunday 11 April 2010] [04:26:57] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r00cf3ce 10/ (include/zmq.h src/socket_base.cpp src/socket_base.hpp): multi-part message functionality available via ZMQ_SNDMORE and ZMQ_RCVMORE - <a class="reference external" href="http://bit.ly/aKIAhA">http://bit.ly/aKIAhA</a></div>
<div class="line">[Sunday 11 April 2010] [04:40:00] &lt;mikko&gt;   i renamed the extension from &#8216;zeromq&#8217; to &#8216;zmq&#8217; as well</div>
<div class="line">[Sunday 11 April 2010] [04:40:11] &lt;mikko&gt;   Search -&gt; Replace All</div>
<div class="line">[Sunday 11 April 2010] [04:40:14] &lt;mikko&gt;   :)</div>
<div class="line">[Sunday 11 April 2010] [04:40:20] &lt;sustrik&gt; mikko: great, thanks</div>
<div class="line">[Sunday 11 April 2010] [04:51:57] &lt;mikko&gt;   repo renamed, links updated, docs update</div>
<div class="line">[Sunday 11 April 2010] [04:52:02] &lt;mikko&gt;   i think it&#8217;s almost done</div>
<div class="line">[Sunday 11 April 2010] [04:58:00] &lt;sustrik&gt; mikko: you&#8217;ve already done the poll part, right?</div>
<div class="line">[Sunday 11 April 2010] [04:58:33] &lt;mikko&gt;   yep</div>
<div class="line">[Sunday 11 April 2010] [04:58:36] &lt;sustrik&gt; as you&#8217;ve seen in the guidelines there&#8217;s no standard for polling API at the moment</div>
<div class="line">[Sunday 11 April 2010] [04:58:48] &lt;sustrik&gt; on the mailing list there&#8217;s a thread called &#8220;polling API&#8221;</div>
<div class="line">[Sunday 11 April 2010] [04:59:09] &lt;sustrik&gt; i would be gread if you can comment on what the API looks like in PHP</div>
<div class="line">[Sunday 11 April 2010] [04:59:47] &lt;sustrik&gt; the ultimate goal is to get some common understanding how polling interface should look like to be acceptable for all languages</div>
<div class="line">[Sunday 11 April 2010] [05:00:59] &lt;mikko&gt;   i modelled the polling interface after existing &#8220;select&#8221; api in php</div>
<div class="line">[Sunday 11 April 2010] [05:01:10] &lt;mikko&gt;   so it would be somewhat familiar for the developer already</div>
<div class="line">[Sunday 11 April 2010] [05:01:21] &lt;mikko&gt;   i&#8217;ll take a look</div>
<div class="line">[Sunday 11 April 2010] [05:01:31] &lt;sustrik&gt; thx</div>
<div class="line">[Sunday 11 April 2010] [05:02:59] &lt;mikko&gt;   hm, i actually hid away the context from the developer</div>
<div class="line">[Sunday 11 April 2010] [05:03:11] &lt;mikko&gt;   due to the complexicity of persistent resources in php</div>
<div class="line">[Sunday 11 April 2010] [05:03:42] &lt;mikko&gt;   inside one process i create one context per combination of options which is persisted based on configuration setting which can be set by administrator</div>
<div class="line">[Sunday 11 April 2010] [05:03:59] &lt;mikko&gt;   that way in shared hosting scenario the admins can disable persistence altogether</div>
<div class="line">[Sunday 11 April 2010] [05:12:14] &lt;mikko&gt;   is there any reason why you didn&#8217;t use existing event loop libraries for polling?</div>
<div class="line">[Sunday 11 April 2010] [05:12:17] &lt;mikko&gt;   such as libev</div>
<div class="line">[Sunday 11 April 2010] [05:15:19] &lt;sustrik&gt; mikko: how would you do that?</div>
<div class="line">[Sunday 11 April 2010] [05:15:27] &lt;sustrik&gt; 0mq socket is not a file descriptor</div>
<div class="line">[Sunday 11 April 2010] [05:16:11] &lt;sustrik&gt; as for the context, it&#8217;s intent is to separate different applications running in the same process</div>
<div class="line">[Sunday 11 April 2010] [05:16:42] &lt;sustrik&gt; if PHP doesn&#8217;t allow that kind of thing, there&#8217;s no point in having context object exposed</div>
<div class="line">[Sunday 11 April 2010] [05:17:16] &lt;mikko&gt;   i don&#8217;t think for 99.9% of phps usecases context object is not needed</div>
<div class="line">[Sunday 11 April 2010] [05:17:46] &lt;mikko&gt;   as sharing context inside a php script should be advantage rather than harmful</div>
<div class="line">[Sunday 11 April 2010] [05:18:01] &lt;mikko&gt;   if there are other extensions that use zeromq they would have their own context</div>
<div class="line">[Sunday 11 April 2010] [05:18:09] &lt;sustrik&gt; it was originally designed for C</div>
<div class="line">[Sunday 11 April 2010] [05:18:15] &lt;mikko&gt;   usually i tend to try to design with simplicity in mind for php :)</div>
<div class="line">[Sunday 11 April 2010] [05:18:24] &lt;sustrik&gt; the use case was that if there are 2 libraries, each using 0MQ</div>
<div class="line">[Sunday 11 April 2010] [05:18:30] &lt;mikko&gt;   yeah, in C it makes a lot of sense</div>
<div class="line">[Sunday 11 April 2010] [05:18:33] &lt;sustrik&gt; you can link them to the same process</div>
<div class="line">[Sunday 11 April 2010] [05:18:42] &lt;sustrik&gt; without them misiteracting</div>
<div class="line">[Sunday 11 April 2010] [05:19:15] &lt;sustrik&gt; exactly, if a misinteraction probelm cannot happen in PHP there&#8217;s no point in having context</div>
<div class="line">[Sunday 11 April 2010] [05:20:25] &lt;mikko&gt;   hmm, how does the polling work in 0mq at the moment?</div>
<div class="line">[Sunday 11 April 2010] [05:20:45] &lt;mikko&gt;   i would&#8217;ve thought that it checks for io at some point</div>
<div class="line">[Sunday 11 April 2010] [05:20:59] &lt;sustrik&gt; I/O is done in I/O threads</div>
<div class="line">[Sunday 11 April 2010] [05:21:20] &lt;sustrik&gt; what you are checking in zmq_poll is whether there are messages queued by I/O threads</div>
<div class="line">[Sunday 11 April 2010] [05:21:27] &lt;sustrik&gt; destined for application threads</div>
<div class="line">[Sunday 11 April 2010] [05:21:49] &lt;sustrik&gt; it&#8217;s done via a lock-free polling object</div>
<div class="line">[Sunday 11 April 2010] [05:21:55] &lt;sustrik&gt; ypollset.hpp</div>
<div class="line">[Sunday 11 April 2010] [05:21:57] &lt;sustrik&gt; iirc</div>
<div class="line">[Sunday 11 April 2010] [05:22:35] &lt;sustrik&gt; but the real point is that there&#8217;s no way to simulate an fd in user space</div>
<div class="line">[Sunday 11 April 2010] [05:22:45] &lt;sustrik&gt; so you can either go kernel</div>
<div class="line">[Sunday 11 April 2010] [05:22:51] &lt;sustrik&gt; thus loosing portability</div>
<div class="line">[Sunday 11 April 2010] [05:23:16] &lt;sustrik&gt; or you sacrifice fd&#8217;s</div>
<div class="line">[Sunday 11 April 2010] [05:24:09] &lt;sustrik&gt; the latter means that system polling mechanism - such as select of poll - cannot be used with your implementation</div>
<div class="line">[Sunday 11 April 2010] [05:24:09] &lt;sustrik&gt; :(</div>
<div class="line">[Sunday 11 April 2010] [05:24:19] &lt;mikko&gt;   now i get it</div>
<div class="line">[Sunday 11 April 2010] [05:24:29] &lt;mikko&gt;   i&#8217;ve only used event loops in very simple scenarios</div>
<div class="line">[Sunday 11 April 2010] [05:24:37] &lt;mikko&gt;   such as websocket daemon etc</div>
<div class="line">[Sunday 11 April 2010] [05:24:49] &lt;mikko&gt;   where there is a writable/readable fd</div>
<div class="line">[Sunday 11 April 2010] [05:24:57] &lt;sustrik&gt; ack</div>
<div class="line">[Sunday 11 April 2010] [05:25:17] &lt;sustrik&gt; when /me is rich and powerful, i&#8217;ll loby for adding user-space fds to POSIX</div>
<div class="line">[Sunday 11 April 2010] [05:27:19] &lt;mikko&gt;   <a class="reference external" href="http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che">http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che</a></div>
<div class="line">[Sunday 11 April 2010] [05:27:37] &lt;mikko&gt;   &#8220;Their main purpose is to integrate other event mechanisms into libev and their use is somewhat advanced. They could be used, for example, to track variable changes, implement your own watchers, integrate net-snmp or a coroutine library and lots more.&#8221;</div>
<div class="line">[Sunday 11 April 2010] [05:28:07] &lt;mikko&gt;   that might be fd based as well</div>
<div class="line">[Sunday 11 April 2010] [05:29:52] &lt;sustrik&gt; not sure</div>
<div class="line">[Sunday 11 April 2010] [05:30:06] &lt;sustrik&gt; maybe its just a way to to say &#8220;use zmq_poll instead of poll&#8221;</div>
<div class="line">[Sunday 11 April 2010] [05:30:25] &lt;sustrik&gt; and 0mq sockets instead of fds</div>
<div class="line">[Sunday 11 April 2010] [05:31:49] &lt;sustrik&gt; hm, looking at the example, it&#8217;s probably fd-based</div>
<div class="line">[Sunday 11 April 2010] [05:32:51] &lt;mikko&gt;   &#8220;The drawback with this solution is that the main loop is now no longer controllable by EV. The Glib::EV  module uses this approach, effectively embedding EV as a client into the horrible libglib event loop.&#8221;</div>
<div class="line">[Sunday 11 April 2010] [05:33:01] &lt;mikko&gt;   the author does not seem to be the most polite person</div>
<div class="line">[Sunday 11 April 2010] [05:34:02] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 11 April 2010] [05:34:24] &lt;sustrik&gt; but that seems to imply you can actually merge it with 0mq</div>
<div class="line">[Sunday 11 April 2010] [05:35:04] &lt;sustrik&gt; i am not sure i understand it correctly</div>
<div class="line">[Sunday 11 April 2010] [05:35:21] &lt;sustrik&gt; but does it mean you can delegate the actuall polling to zmq_poll</div>
<div class="line">[Sunday 11 April 2010] [05:35:31] &lt;sustrik&gt; ?</div>
<div class="line">[Sunday 11 April 2010] [05:35:35] &lt;mikko&gt;   i think event_poll_func is a callback for Glib::EV</div>
<div class="line">[Sunday 11 April 2010] [05:35:42] &lt;mikko&gt;   yes, seems like that</div>
<div class="line">[Sunday 11 April 2010] [05:36:39] &lt;sustrik&gt; ok, if someone appears with a need for libev integration, let&#8217;s point him this way</div>
<div class="line">[Sunday 11 April 2010] [07:21:58] &lt;mikko&gt;   sustrik: is the maximum size for ZMQ_IDENTITY exposed somehow?</div>
<div class="line">[Sunday 11 April 2010] [07:24:21] &lt;sustrik&gt; it&#8217;s 255</div>
<div class="line">[Sunday 11 April 2010] [07:24:30] &lt;sustrik&gt; you mean like a constant or so?</div>
<div class="line">[Sunday 11 April 2010] [07:25:04] &lt;mikko&gt;   i mean is that subject to change?</div>
<div class="line">[Sunday 11 April 2010] [07:25:15] &lt;sustrik&gt; no, it&#8217;s not</div>
<div class="line">[Sunday 11 April 2010] [07:25:22] &lt;sustrik&gt; 255 characters should be enough</div>
<div class="line">[Sunday 11 April 2010] [07:33:25] &lt;sustrik&gt; mikko: do you expect longer identites?</div>
<div class="line">[Sunday 11 April 2010] [07:33:59] &lt;mikko&gt;   no, just that if i hardcore the value and it changes in the future</div>
<div class="line">[Sunday 11 April 2010] [07:33:59] &lt;sustrik&gt; strictly speaking, there&#8217;s no real technological reason to limit the size of identity</div>
<div class="line">[Sunday 11 April 2010] [07:34:12] &lt;sustrik&gt; in theory it can be made unbound</div>
<div class="line">[Sunday 11 April 2010] [07:34:24]    * sustrik is thinking</div>
<div class="line">[Sunday 11 April 2010] [07:35:13] &lt;sustrik&gt; having identities longer than 255 characters is not a good idea</div>
<div class="line">[Sunday 11 April 2010] [07:35:29] &lt;sustrik&gt; but why limit those that want to do this kind of ugly stuff?</div>
<div class="line">[Sunday 11 April 2010] [07:36:01] &lt;mikko&gt;   retrieving is easier if its limited</div>
<div class="line">[Sunday 11 April 2010] [07:36:14] &lt;sustrik&gt; true</div>
<div class="line">[Sunday 11 April 2010] [07:36:32] &lt;sustrik&gt; a different question: should the identity even be retrievable?</div>
<div class="line">[Sunday 11 April 2010] [07:36:41] &lt;sustrik&gt; what is it good for?</div>
<div class="line">[Sunday 11 April 2010] [07:37:34] &lt;mikko&gt;   well, in case of php you might instantiate the object and then use it a few requests later</div>
<div class="line">[Sunday 11 April 2010] [07:37:50] &lt;mikko&gt;   effectively the socket is persisted and then tied to a new php object later</div>
<div class="line">[Sunday 11 April 2010] [07:38:02] &lt;sustrik&gt; right, but why would you want to retrieve the identity?</div>
<div class="line">[Sunday 11 April 2010] [07:38:14] &lt;mikko&gt;   you mean instead of resetting it each time?</div>
<div class="line">[Sunday 11 April 2010] [07:38:56]    * sustrik is not following</div>
<div class="line">[Sunday 11 April 2010] [07:39:19] &lt;sustrik&gt; the question is what&#8217;s the scenario where you need getsockopt (ZMQ_IDENTITY)?</div>
<div class="line">[Sunday 11 April 2010] [07:40:45] &lt;mikko&gt;   let&#8217;s a say you got a following php script: &lt;?php $object = new ZMQ(ZMQ::SOCKET_REP, &#8216;mysock1&#8217;); ?&gt;</div>
<div class="line">[Sunday 11 April 2010] [07:40:59] &lt;mikko&gt;   the socket structure is stored internally over multiple executions of this script</div>
<div class="line">[Sunday 11 April 2010] [07:41:04] &lt;mikko&gt;   to get persistent connections</div>
<div class="line">[Sunday 11 April 2010] [07:41:14] &lt;mikko&gt;   now, let&#8217;s say you have an identity</div>
<div class="line">[Sunday 11 April 2010] [07:41:48] &lt;mikko&gt;   the script becomes &lt;?php $object = new ZMQ(ZMQ::SOCKET_REP, &#8216;mysock1&#8217;); $object-&gt;setSockOpt(ZMQ::SOCKOPT_IDENTITY, &#8216;my best socket&#8217;); ?&gt;</div>
<div class="line">[Sunday 11 April 2010] [07:42:14] &lt;mikko&gt;   so on each execution of this script (page load) you would reset the identity</div>
<div class="line">[Sunday 11 April 2010] [07:42:19] &lt;mikko&gt;   i dont know if that makes any difference</div>
<div class="line">[Sunday 11 April 2010] [07:43:00] &lt;mikko&gt;   if you can retrieve it you could do &lt;?php $object = new ZMQ(ZMQ::SOCKET_REP, &#8216;mysock1&#8217;); if ($object-&gt;getSockOpt(ZMQ::SOCKOPT_IDENTITY) != &#8216;my best socket&#8217;) { $object-&gt;setSockOpt(ZMQ::SOCKOPT_IDENTITY, &#8216;my best socket&#8217;); }</div>
<div class="line">[Sunday 11 April 2010] [07:43:30] &lt;sustrik&gt; the identity is meant to stay the same</div>
<div class="line">[Sunday 11 April 2010] [07:43:35] &lt;sustrik&gt; so you open socket</div>
<div class="line">[Sunday 11 April 2010] [07:43:41] &lt;sustrik&gt; set the identity</div>
<div class="line">[Sunday 11 April 2010] [07:43:45] &lt;sustrik&gt; and that&#8217;s it</div>
<div class="line">[Sunday 11 April 2010] [07:43:53] &lt;sustrik&gt; you don&#8217;t need to touch it anymore</div>
<div class="line">[Sunday 11 April 2010] [07:44:06] &lt;mikko&gt;   indeed, but in phps case if you can&#8217;t retrieve the identity you can not know if it&#8217;s set already</div>
<div class="line">[Sunday 11 April 2010] [07:44:30] &lt;mikko&gt;   as the socket is persisted over multiple requests but the PHP object is recreated each time</div>
<div class="line">[Sunday 11 April 2010] [07:45:04] &lt;sustrik&gt; true, but still, setting it each time doesn&#8217;t really matter</div>
<div class="line">[Sunday 11 April 2010] [07:45:18] &lt;sustrik&gt; except as performance problem</div>
<div class="line">[Sunday 11 April 2010] [07:45:54] &lt;sustrik&gt; but i would suspect there are much more perf problems in PHP itself and setting a single string shouldn&#8217;t really matter</div>
<div class="line">[Sunday 11 April 2010] [07:46:51] &lt;mikko&gt;   well, in C you might have a large array sockets and each one have identity set at different stages</div>
<div class="line">[Sunday 11 April 2010] [07:47:30] &lt;sustrik&gt; yes, that&#8217;s the only use case i can think of</div>
<div class="line">[Sunday 11 April 2010] [07:49:10] &lt;mikko&gt;   i would think it makes no harm to limit/allow retrieving</div>
<div class="line">[Sunday 11 April 2010] [07:49:23] &lt;mikko&gt;   if someone needs longer identities let&#8217;s cross that bridge when we get there</div>
<div class="line">[Sunday 11 April 2010] [07:49:47] &lt;sustrik&gt; ok, good</div>
<div class="line">[Sunday 11 April 2010] [07:49:56] &lt;sustrik&gt; let it stay as it is now</div>
<div class="line">[Sunday 11 April 2010] [08:00:46] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r6cf0765 10/ include/zmq.h : C-style comments in zmq.h - <a class="reference external" href="http://bit.ly/dw16x4">http://bit.ly/dw16x4</a></div>
<div class="line">[Sunday 11 April 2010] [08:09:29] &lt;mikko&gt;   mmm</div>
<div class="line">[Sunday 11 April 2010] [08:09:34] &lt;mikko&gt;   protein bars taste horrible</div>
<div class="line">[Sunday 11 April 2010] [08:14:16] &lt;mikko&gt;   hmm</div>
<div class="line">[Sunday 11 April 2010] [08:14:24] &lt;mikko&gt;   one thing i was wondering that might be useful</div>
<div class="line">[Sunday 11 April 2010] [08:14:37] &lt;mikko&gt;   have the libzmq version exposed as constant as well</div>
<div class="line">[Sunday 11 April 2010] [08:14:49] &lt;mikko&gt;   that would show which version people compiled against vs runtime version</div>
<div class="line">[Sunday 11 April 2010] [08:18:02] &lt;sustrik&gt; yeah, it would be useful, but the version numbers are generated from configure.in</div>
<div class="line">[Sunday 11 April 2010] [08:18:10] &lt;sustrik&gt; try asking about it on the mailing list</div>
<div class="line">[Sunday 11 April 2010] [08:18:30] &lt;sustrik&gt; people who understand how the build system works may have an opinion</div>
<div class="line">[Sunday 11 April 2010] [08:20:09] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rdff79d7 10/ builds/msvc/platform.hpp : version number bumped to 2.0.7 for MSVC build - <a class="reference external" href="http://bit.ly/b2cKvx">http://bit.ly/b2cKvx</a></div>
<div class="line">[Sunday 11 April 2010] [09:45:29] &lt;sustrik&gt; people who understand how the build system works may have an opinion</div>
<div class="line">[Sunday 11 April 2010] [10:36:36] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rfba28c7 10/ (6 files in 2 dirs): issue 1 - Change zmq_term semantics - <a class="reference external" href="http://bit.ly/c7n0NQ">http://bit.ly/c7n0NQ</a></div>
<div class="line">[Sunday 11 April 2010] [10:55:09] &lt;mikko&gt;   reply-to &#8220;&amp;#216;MQ development list&#8221; &lt;<a class="reference external" href="mailto:zeromq-dev&#37;&#52;&#48;lists&#46;zeromq&#46;org">zeromq-dev<span>&#64;</span>lists<span>&#46;</span>zeromq<span>&#46;</span>org</a>&gt;</div>
<div class="line">[Sunday 11 April 2010] [10:55:12] &lt;mikko&gt;   odd</div>
<div class="line">[Sunday 11 April 2010] [10:59:06] &lt;sustrik&gt; it&#8217;ve been discussed on the mailing list</div>
<div class="line">[Sunday 11 April 2010] [10:59:14] &lt;sustrik&gt; i have no opinion on it</div>
<div class="line">[Sunday 11 April 2010] [10:59:21] &lt;sustrik&gt; feel free to complain</div>
<div class="line">[Sunday 11 April 2010] [10:59:27] &lt;mikko&gt;   sorry?</div>
<div class="line">[Sunday 11 April 2010] [10:59:35] &lt;sustrik&gt; the reply-to thing</div>
<div class="line">[Sunday 11 April 2010] [10:59:38] &lt;mikko&gt;   ah</div>
<div class="line">[Sunday 11 April 2010] [10:59:39] &lt;mikko&gt;   :)</div>
<div class="line">[Sunday 11 April 2010] [10:59:49] &lt;mikko&gt;   im just wondering why it goes like that</div>
<div class="line">[Sunday 11 April 2010] [11:00:07] &lt;mikko&gt;   noticed your post of zmq_term semantics and trying to formulate my idea into an email</div>
<div class="line">[Sunday 11 April 2010] [11:00:25] &lt;sustrik&gt; because people are used to hit reply button instead of reply to all</div>
<div class="line">[Sunday 11 April 2010] [11:00:52] &lt;sustrik&gt; thus the conversations tend to disappear from public view</div>
<div class="line">[Sunday 11 April 2010] [11:06:10] &lt;sustrik&gt; ah, you meant the strange character?</div>
<div class="line">[Sunday 11 April 2010] [11:06:11] &lt;sustrik&gt; &#8220;&amp;#216;</div>
<div class="line">[Sunday 11 April 2010] [11:06:22] &lt;sustrik&gt; I&#8217;ve just changes that to ordinary 0</div>
<div class="line">[Sunday 11 April 2010] [11:06:27] &lt;sustrik&gt; changed*</div>
<div class="line">[Sunday 11 April 2010] [11:08:20] &lt;mikko&gt;   yeah, i mean the strange character</div>
<div class="line">[Sunday 11 April 2010] [11:08:22] &lt;mikko&gt;   meant*</div>
<div class="line">[Sunday 11 April 2010] [11:08:39] &lt;sustrik&gt; fixed!</div>
<div class="line">[Sunday 11 April 2010] [11:17:15] &lt;mikko&gt;   my first mail to list sent</div>
<div class="line">[Sunday 11 April 2010] [11:18:11] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 11 April 2010] [11:18:15] &lt;sustrik&gt; let me reply</div>
<div class="line">[Sunday 11 April 2010] [12:01:17] &lt;mikko&gt;   im gonna hit the gym</div>
<div class="line">[Sunday 11 April 2010] [12:01:18] &lt;mikko&gt;   bbl</div>
<div class="line">[Sunday 11 April 2010] [14:47:01] &lt;mikko&gt;   back</div>
<div class="line">[Monday 12 April 2010] [03:25:14] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r3236cb1 10/ (7 files): ETERM is accounted for in the documentation - <a class="reference external" href="http://bit.ly/9KxYaI">http://bit.ly/9KxYaI</a></div>
<div class="line">[Monday 12 April 2010] [03:57:45] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r7668e79 10/ (doc/zmq_socket.txt src/zmq.cpp): zmq_poll returns ETERM in case of context termination - <a class="reference external" href="http://bit.ly/br7liv">http://bit.ly/br7liv</a></div>
<div class="line">[Monday 12 April 2010] [04:05:39] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r3496476 10/ (4 files in 4 dirs): MSVC perf build fixed - <a class="reference external" href="http://bit.ly/aF5lWU">http://bit.ly/aF5lWU</a></div>
<div class="line">[Monday 12 April 2010] [04:43:08] &lt;mikko&gt;   good morning</div>
<div class="line">[Monday 12 April 2010] [05:11:05] &lt;sustrik&gt; morning</div>
<div class="line">[Monday 12 April 2010] [07:15:58] &lt;olivier_c&gt;   hello everybody</div>
<div class="line">[Monday 12 April 2010] [07:37:47] &lt;sustrik&gt; olivier_c: hi</div>
<div class="line">[Monday 12 April 2010] [07:42:25] &lt;olivier_c&gt;   sustrik, could you bring me some clarifications on assertion in pgm_socket.cpp line 130, please ? I&#8217;ve got an assertion fail (assert false) there, and i don&#8217;t have any clue on what could have fail :/.</div>
<div class="line">[Monday 12 April 2010] [07:45:22] &lt;sustrik&gt; wait a sec</div>
<div class="line">[Monday 12 April 2010] [07:47:08] &lt;sustrik&gt; it&#8217;s an unexpected result code from OpenPGM library</div>
<div class="line">[Monday 12 April 2010] [07:47:21] &lt;sustrik&gt; can you check what exact error are you getting?</div>
<div class="line">[Monday 12 April 2010] [07:47:35] &lt;sustrik&gt; (both domain and code)</div>
<div class="line">[Monday 12 April 2010] [07:49:41] &lt;<a href="#id336"><span class="problematic" id="id337">olivier_c_</span></a>&gt;  ok I&#8217;m going to have a look on it</div>
<div class="line">[Monday 12 April 2010] [07:49:55] &lt;sustrik&gt; thanks</div>
<div class="line">[Monday 12 April 2010] [08:24:52] &lt;olivier_c&gt;   so. i just get &#8220;Assertion failed: false (pgm_socket.cpp line 130). Aborted.  i&#8217;m just trying to connect a SUB socket to &#8220;epgm://eth0;224.0.0.1:5555&#8221;. does it mean that pgm isn&#8217;t supported ?</div>
<div class="line">[Monday 12 April 2010] [08:41:31] &lt;sustrik&gt; olivier_c: no, it means that OpenPGM returned unexpected error</div>
<div class="line">[Monday 12 April 2010] [08:41:39] &lt;sustrik&gt; can you run the app under gdb</div>
<div class="line">[Monday 12 April 2010] [08:41:46] &lt;sustrik&gt; and check what the actual error is:</div>
<div class="line">[Monday 12 April 2010] [08:42:03] &lt;sustrik&gt; pgm_error-&gt;domain</div>
<div class="line">[Monday 12 April 2010] [08:42:13] &lt;sustrik&gt; and</div>
<div class="line">[Monday 12 April 2010] [08:42:14] &lt;sustrik&gt; pgm_error-&gt;code</div>
<div class="line">[Monday 12 April 2010] [08:43:59] &lt;olivier_c&gt;   ah ok, sorry for misunderstanding.</div>
<div class="line">[Monday 12 April 2010] [08:49:09] &lt;sustrik&gt; np</div>
<div class="line">[Monday 12 April 2010] [08:56:14] &lt;mato&gt;    sustrik: _WIN32 is always defined on Win32, yes?</div>
<div class="line">[Monday 12 April 2010] [08:56:36] &lt;mato&gt;    sustrik: at the top of zmq.h we have:</div>
<div class="line">[Monday 12 April 2010] [08:56:41] &lt;mato&gt;    (...)</div>
<div class="line">[Monday 12 April 2010] [08:56:46] &lt;mato&gt;    #include &lt;errno.h&gt;</div>
<div class="line">[Monday 12 April 2010] [08:56:46] &lt;mato&gt;    #include &lt;stddef.h&gt;</div>
<div class="line">[Monday 12 April 2010] [08:56:46] &lt;mato&gt;    #if defined _WIN32</div>
<div class="line">[Monday 12 April 2010] [08:56:47] &lt;mato&gt;    #include &#8220;winsock2.h&#8221;</div>
<div class="line">[Monday 12 April 2010] [08:56:47] &lt;mato&gt;    #endif</div>
<div class="line">[Monday 12 April 2010] [08:56:48] &lt;mato&gt;    #if defined ZMQ_BUILDING_LIBZMQ_WITH_MSVC</div>
<div class="line">[Monday 12 April 2010] [08:56:51] &lt;mato&gt;    #define ZMQ_EXPORT __declspec(dllexport)</div>
<div class="line">[Monday 12 April 2010] [08:56:53] &lt;mato&gt;    #elif defined _MSC_VER</div>
<div class="line">[Monday 12 April 2010] [08:56:56] &lt;mato&gt;    #define ZMQ_EXPORT __declspec(dllimport)</div>
<div class="line">[Monday 12 April 2010] [08:56:58] &lt;mato&gt;    #else</div>
<div class="line">[Monday 12 April 2010] [08:57:01] &lt;mato&gt;    #define ZMQ_EXPORT</div>
<div class="line">[Monday 12 April 2010] [08:57:03] &lt;mato&gt;    #endif</div>
<div class="line">[Monday 12 April 2010] [08:57:06] &lt;mato&gt;    (...)</div>
<div class="line">[Monday 12 April 2010] [08:58:47] &lt;sustrik&gt; at least with MSVC</div>
<div class="line">[Monday 12 April 2010] [08:58:54] &lt;sustrik&gt; not sure how gcc handles this</div>
<div class="line">[Monday 12 April 2010] [08:59:35] &lt;mato&gt;    ok and that BUILDING_LIBZMQ_WITH_MSVC is something you define in your project file, right?</div>
<div class="line">[Monday 12 April 2010] [08:59:42] &lt;sustrik&gt; right</div>
<div class="line">[Monday 12 April 2010] [08:59:50] &lt;mato&gt;    for libzmq only, and not for e.g. the perf tests or devices</div>
<div class="line">[Monday 12 April 2010] [08:59:51] &lt;mato&gt;    right?</div>
<div class="line">[Monday 12 April 2010] [08:59:57] &lt;sustrik&gt; right</div>
<div class="line">[Monday 12 April 2010] [09:00:09] &lt;sustrik&gt; and it&#8217;s not relevant to anyting except msvc</div>
<div class="line">[Monday 12 April 2010] [09:00:17] &lt;mato&gt;    no, it&#8217;s relevant to win32 in general</div>
<div class="line">[Monday 12 April 2010] [09:00:23] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 12 April 2010] [09:00:29] &lt;mato&gt;    MinGW also supports the __declspec(dll...) stuff</div>
<div class="line">[Monday 12 April 2010] [09:00:36] &lt;sustrik&gt; whoa</div>
<div class="line">[Monday 12 April 2010] [09:00:38] &lt;mato&gt;    at least it seems that way</div>
<div class="line">[Monday 12 April 2010] [09:00:43]    * sustrik haven&#8217;t know that</div>
<div class="line">[Monday 12 April 2010] [09:00:57] &lt;mato&gt;    well it certainly doesn&#8217;t complain</div>
<div class="line">[Monday 12 April 2010] [09:01:03] &lt;sustrik&gt; ok then</div>
<div class="line">[Monday 12 April 2010] [09:01:07] &lt;mato&gt;    so I&#8217;m thinking that the above if&#8217;s should be changed</div>
<div class="line">[Monday 12 April 2010] [09:01:18] &lt;sustrik&gt; maybe a more sound name should be used then?</div>
<div class="line">[Monday 12 April 2010] [09:01:31] &lt;mato&gt;    1. ZMQ_BUILDING... becomes something like LIBZMQ_DLL ?</div>
<div class="line">[Monday 12 April 2010] [09:01:49] &lt;mato&gt;    2. that can probably become #elif defined _WIN32, but I&#8217;m going to check</div>
<div class="line">[Monday 12 April 2010] [09:02:14] &lt;sustrik&gt; ZMQ_BUILD_IN_PROGRESS</div>
<div class="line">[Monday 12 April 2010] [09:02:25] &lt;mato&gt;    no, it&#8217;s only to do with a win32 dll</div>
<div class="line">[Monday 12 April 2010] [09:02:25] &lt;sustrik&gt; that  can be defined for all platforms</div>
<div class="line">[Monday 12 April 2010] [09:02:32] &lt;mato&gt;    ah</div>
<div class="line">[Monday 12 April 2010] [09:02:42] &lt;sustrik&gt; but then we&#8217;ll need _WIN32</div>
<div class="line">[Monday 12 April 2010] [09:02:47] &lt;mato&gt;    that&#8217;s no problem</div>
<div class="line">[Monday 12 April 2010] [09:05:21] &lt;mato&gt;    i&#8217;ll do something experimental on a branch, no hurry for this to go into git proper right now</div>
<div class="line">[Monday 12 April 2010] [09:06:21] &lt;sustrik&gt; ok</div>
<div class="line">[Monday 12 April 2010] [09:19:43] &lt;lvh&gt; Hello</div>
<div class="line">[Monday 12 April 2010] [09:19:52] &lt;lvh&gt; Anyone know where the zmq_server binary is in debian?</div>
<div class="line">[Monday 12 April 2010] [09:21:06] &lt;mato&gt;    lvh: there is no zmq_server binary :-)</div>
<div class="line">[Monday 12 April 2010] [09:21:34] &lt;mato&gt;    lvh: in any case the device binaries are in zeromq-bin</div>
<div class="line">[Monday 12 April 2010] [09:22:27] &lt;lvh&gt; So why does www.zeromq.org/code:examples-chat#toc15 tell me to run it? :-(</div>
<div class="line">[Monday 12 April 2010] [09:23:16] &lt;mato&gt;    that&#8217;s old 1.x material</div>
<div class="line">[Monday 12 April 2010] [09:23:35] &lt;mato&gt;    sorry, it really needs to be removed :(</div>
<div class="line">[Monday 12 April 2010] [09:23:42] &lt;mato&gt;    and/or updated</div>
<div class="line">[Monday 12 April 2010] [09:24:20] &lt;lvh&gt; Aha, I see.</div>
<div class="line">[Monday 12 April 2010] [09:24:26] &lt;lvh&gt; I&#8217;m trying to use pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:24:32] &lt;lvh&gt; I&#8217;m not sure if that&#8217;s 1.x material</div>
<div class="line">[Monday 12 April 2010] [09:24:34] &lt;mato&gt;    see the Cookbook for up to date examples</div>
<div class="line">[Monday 12 April 2010] [09:24:43] &lt;mato&gt;    no, pyzmq is definitely 2.x</div>
<div class="line">[Monday 12 April 2010] [09:24:48] &lt;lvh&gt; okay :-)</div>
<div class="line">[Monday 12 April 2010] [09:24:50] &lt;mato&gt;    how did you get to the old chat example?</div>
<div class="line">[Monday 12 April 2010] [09:24:58] &lt;mato&gt;    anyway, you want to look here: <a class="reference external" href="http://www.zeromq.org/docs:cookbook">http://www.zeromq.org/docs:cookbook</a></div>
<div class="line">[Monday 12 April 2010] [09:25:13] &lt;mato&gt;    and also on the pyzmq page itself</div>
<div class="line">[Monday 12 April 2010] [09:25:16] &lt;mato&gt;    <a class="reference external" href="http://www.zeromq.org/bindings:python">http://www.zeromq.org/bindings:python</a></div>
<div class="line">[Monday 12 April 2010] [09:25:17] &lt;lvh&gt; errrrrr</div>
<div class="line">[Monday 12 April 2010] [09:26:11] &lt;lvh&gt; I&#8217;m not sure.</div>
<div class="line">[Monday 12 April 2010] [09:27:50] &lt;lvh&gt; I&#8217;m trying to get the python chat example to work with no dice</div>
<div class="line">[Monday 12 April 2010] [09:28:05] &lt;lvh&gt; An address like <a class="reference external" href="tcp://localhost:5555">tcp://localhost:5555</a> is fine, right?</div>
<div class="line">[Monday 12 April 2010] [09:29:14] &lt;lvh&gt; Oh, I figured out how I got to that page.</div>
<div class="line">[Monday 12 April 2010] [09:29:17] &lt;lvh&gt; Google indexes it.</div>
<div class="line">[Monday 12 April 2010] [09:29:49] &lt;mato&gt;    localhost:5555 will work for connecting to localhost</div>
<div class="line">[Monday 12 April 2010] [09:30:06] &lt;mato&gt;    use (interface):5555 when binding, or just use IP addresses</div>
<div class="line">[Monday 12 April 2010] [09:30:14] &lt;mato&gt;    zee the zmq_connect() and zmq_bind() reference</div>
<div class="line">[Monday 12 April 2010] [09:30:18] &lt;lvh&gt; right</div>
<div class="line">[Monday 12 April 2010] [09:30:34] &lt;lvh&gt; the display.py script just blocks and doesnt react to signals other than SIGKILL</div>
<div class="line">[Monday 12 April 2010] [09:30:50] &lt;mato&gt;    read the FAQ :-)</div>
<div class="line">[Monday 12 April 2010] [09:31:21] &lt;lvh&gt; Just localhost:5555 gets me zmq._zmq.ZMQError: Invalid argument</div>
<div class="line">[Monday 12 April 2010] [09:31:21] &lt;lvh&gt;</div>
<div class="line">[Monday 12 April 2010] [09:31:41] &lt;mato&gt;    I meant <a class="reference external" href="tcp://">tcp://</a>... of course.</div>
<div class="line">[Monday 12 April 2010] [09:31:52] &lt;lvh&gt; Aha :-)</div>
<div class="line">[Monday 12 April 2010] [09:33:22] &lt;lvh&gt; paste.pocoo.org/show/200839/</div>
<div class="line">[Monday 12 April 2010] [09:34:18] &lt;mato&gt;    I&#8217;m sorry, I can&#8217;t help you right now. Not sure who wrote the python examples, maybe sustrik.</div>
<div class="line">[Monday 12 April 2010] [09:34:39] &lt;lvh&gt; ellisonbg</div>
<div class="line">[Monday 12 April 2010] [09:35:14] &lt;mato&gt;    Suggest you ask on the mailing list or wait for Brian to show up here (nick: bgranger).</div>
<div class="line">[Monday 12 April 2010] [09:35:33] &lt;lvh&gt; <a class="reference external" href="http://www.zeromq.org/code:pyzmq">http://www.zeromq.org/code:pyzmq</a></div>
<div class="line">[Monday 12 April 2010] [09:35:40] &lt;lvh&gt; this appears to be something completely different too</div>
<div class="line">[Monday 12 April 2010] [09:35:45] &lt;lvh&gt; it has a ZMQ object in the zmq modul</div>
<div class="line">[Monday 12 April 2010] [09:35:49] &lt;lvh&gt; mine doesn&#8217;t have that</div>
<div class="line">[Monday 12 April 2010] [09:36:12] &lt;lvh&gt; and the module&#8217;s called &#8220;pyzmq&#8221; instead of just &#8220;zmq&#8221;</div>
<div class="line">[Monday 12 April 2010] [09:36:13] &lt;mato&gt;    that&#8217;ll be 1.x also</div>
<div class="line">[Monday 12 April 2010] [09:36:23] &lt;lvh&gt; (but the thing on github <em>is</em> called pyzmq, yay)</div>
<div class="line">[Monday 12 April 2010] [09:36:27] &lt;mato&gt;    sustrik: We need to kill the 1.x stuff from the site.</div>
<div class="line">[Monday 12 April 2010] [09:37:20] &lt;lvh&gt; sustrik: (even the stuff that doesn&#8217;t have internal links: google got me there)</div>
<div class="line">[Monday 12 April 2010] [09:39:47] &lt;sustrik&gt; lvh: the paste is a pyzmq problem</div>
<div class="line">[Monday 12 April 2010] [09:39:58] &lt;sustrik&gt; it&#8217;s brian&#8217;s pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:40:03] &lt;sustrik&gt; not the old 1.0 pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:40:21] &lt;sustrik&gt; mato: yes, i think it&#8217;s time to ditch 1.0 stuff</div>
<div class="line">[Monday 12 April 2010] [09:40:41] &lt;sustrik&gt; i&#8217;ve kept it there so that people still using 1.0 have reference</div>
<div class="line">[Monday 12 April 2010] [09:40:52] &lt;sustrik&gt; but they had enough time to migrate by now</div>
<div class="line">[Monday 12 April 2010] [09:41:23] &lt;lvh&gt; sustrik: so these are the bindings I should be using, but I&#8217;ve found a bug?</div>
<div class="line">[Monday 12 April 2010] [09:41:40] &lt;sustrik&gt; yes, it looks like that</div>
<div class="line">[Monday 12 April 2010] [09:41:59] &lt;sustrik&gt; i would try filling an error report with pyzmq project</div>
<div class="line">[Monday 12 April 2010] [09:42:27] &lt;lvh&gt; will do :-)</div>
<div class="line">[Monday 12 April 2010] [09:42:42] &lt;sustrik&gt; lvh: wait a sec</div>
<div class="line">[Monday 12 April 2010] [09:42:52] &lt;sustrik&gt; where does the chat example come from</div>
<div class="line">[Monday 12 April 2010] [09:42:53] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 12 April 2010] [09:43:46] &lt;sustrik&gt; aha, looks like brian&#8217;s project</div>
<div class="line">[Monday 12 April 2010] [09:44:00] &lt;sustrik&gt; so yes, please report it with pyzmq</div>
<div class="line">[Monday 12 April 2010] [09:45:08] &lt;sustrik&gt; lvh: i am not a python programmer, but what about this:</div>
<div class="line">[Monday 12 April 2010] [09:45:09] &lt;sustrik&gt; msg = raw_input(&#8220;%s&gt; &#8221; % who)</div>
<div class="line">[Monday 12 April 2010] [09:45:09] &lt;sustrik&gt; EOFError</div>
<div class="line">[Monday 12 April 2010] [09:45:13] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 12 April 2010] [09:45:23] &lt;lvh&gt; oh that just means it was waiting for imput and I mashed C-d</div>
<div class="line">[Monday 12 April 2010] [09:45:32] &lt;lvh&gt; input, even</div>
<div class="line">[Monday 12 April 2010] [09:45:51] &lt;lvh&gt; not a bug, expected behavior :-)</div>
<div class="line">[Monday 12 April 2010] [09:45:56] &lt;sustrik&gt; :)</div>
<div class="line">[Monday 12 April 2010] [09:47:12] &lt;lvh&gt; the test suite doesn&#8217;t work because there&#8217;s no pgm support, apparently</div>
<div class="line">[Monday 12 April 2010] [09:47:28] &lt;lvh&gt; somewhat weird that multicast doesn&#8217;t work &#8211; does that need userspace libs, or something?</div>
<div class="line">[Monday 12 April 2010] [09:47:55] &lt;lvh&gt; apt-cache search multicast lib dev doesn&#8217;t yield any likely candidates</div>
<div class="line">[Monday 12 April 2010] [09:48:23] &lt;sustrik&gt; lvh: does it work with tcp?</div>
<div class="line">[Monday 12 April 2010] [09:48:58] &lt;lvh&gt; sustrik: Nope, that pasted example was tcp</div>
<div class="line">[Monday 12 April 2010] [09:49:01] &lt;lvh&gt; I&#8217;m trying to run the test suite</div>
<div class="line">[Monday 12 April 2010] [09:49:15] &lt;lvh&gt; which fails (more quitely than I&#8217;d have liked it to), because pgm doesn&#8217;t work</div>
<div class="line">[Monday 12 April 2010] [09:49:52] &lt;sustrik&gt; lvh: this one: paste.pocoo.org/show/200839/ ?</div>
<div class="line">[Monday 12 April 2010] [09:50:05] &lt;sustrik&gt; the error is caused by Ctrl+C, no?</div>
<div class="line">[Monday 12 April 2010] [09:50:17] &lt;lvh&gt; right, but i was expecting display.py to display that message i did send</div>
<div class="line">[Monday 12 April 2010] [09:50:28] &lt;sustrik&gt; have you run zmq_forwarder?</div>
<div class="line">[Monday 12 April 2010] [09:50:39] &lt;lvh&gt; I didn&#8217;t know I was supposed to, so no</div>
<div class="line">[Monday 12 April 2010] [09:50:44] &lt;sustrik&gt; read README</div>
<div class="line">[Monday 12 April 2010] [09:50:53] &lt;sustrik&gt; aha</div>
<div class="line">[Monday 12 April 2010] [09:51:02] &lt;sustrik&gt; no README in the directory</div>
<div class="line">[Monday 12 April 2010] [09:51:04] &lt;lvh&gt; which one</div>
<div class="line">[Monday 12 April 2010] [09:51:05] &lt;lvh&gt; :D</div>
<div class="line">[Monday 12 April 2010] [09:51:11] &lt;sustrik&gt; you should complain to Brian</div>
<div class="line">[Monday 12 April 2010] [09:51:22] &lt;sustrik&gt; anyway, the C chat example is exactly the same</div>
<div class="line">[Monday 12 April 2010] [09:51:29] &lt;sustrik&gt; and there&#8217;s README</div>
<div class="line">[Monday 12 April 2010] [09:51:33] &lt;sustrik&gt; wait a sec</div>
<div class="line">[Monday 12 April 2010] [09:51:36] &lt;lvh&gt; i should open a ticket, branch, fix it, deploy patch</div>
<div class="line">[Monday 12 April 2010] [09:51:39] &lt;lvh&gt; there&#8217;s README.rst</div>
<div class="line">[Monday 12 April 2010] [09:51:42] &lt;lvh&gt; that describes building</div>
<div class="line">[Monday 12 April 2010] [09:51:55] &lt;sustrik&gt; <a class="reference external" href="http://github.com/sustrik/zeromq-chat/blob/master/README">http://github.com/sustrik/zeromq-chat/blob/master/README</a></div>
<div class="line">[Monday 12 April 2010] [09:53:17] &lt;lvh&gt; so if you wanted people to be able log in and have everything published to them automatically, you&#8217;d use PUBSUB mode?</div>
<div class="line">[Monday 12 April 2010] [09:53:22] &lt;lvh&gt; eg &#8220;like IRC&#8221;</div>
<div class="line">[Monday 12 April 2010] [09:54:10] &lt;lvh&gt; I&#8217;m building zmq2 manually now, I think pyzmq was building against my system installed libzeromq-dev files and that might be why it was breaking</div>
<div class="line">[Monday 12 April 2010] [10:00:54] &lt;sustrik&gt; lvh: yes, PUB/SUB</div>
<div class="line">[Monday 12 April 2010] [10:01:11] &lt;sustrik&gt; what system-insalled libzeromq-dev?</div>
<div class="line">[Monday 12 April 2010] [10:01:20] &lt;lvh&gt; library_dirs = /home/lvh/dev/zeromq2/lib</div>
<div class="line">[Monday 12 April 2010] [10:01:20] &lt;lvh&gt; include_dirs = /home/lvh/dev/zeromq2/include</div>
<div class="line">[Monday 12 April 2010] [10:01:20] &lt;lvh&gt;</div>
<div class="line">[Monday 12 April 2010] [10:01:43] &lt;lvh&gt; Any idea what the library_dirs is supposed to be on git checkouts of zeromq2?</div>
<div class="line">[Monday 12 April 2010] [10:01:55] &lt;lvh&gt; libzmq-dev - Development files and static library for the ZeroMQ library</div>
<div class="line">[Monday 12 April 2010] [10:02:10] &lt;lvh&gt; 2.0.6beta.dfsg-2 (/var/lib/apt/lists/ftp.kulnet.kuleuven.ac.be_debian_dists_unstable_main_binary-amd64_Packages)</div>
<div class="line">[Monday 12 April 2010] [10:02:26] &lt;sustrik&gt; you&#8217;ve had that installed by default?</div>
<div class="line">[Monday 12 April 2010] [10:02:43] &lt;sustrik&gt; strange</div>
<div class="line">[Monday 12 April 2010] [10:03:06] &lt;lvh&gt; nope, I installed it myself when I started playing with zmq</div>
<div class="line">[Monday 12 April 2010] [10:03:27] &lt;sustrik&gt; ok</div>
<div class="line">[Monday 12 April 2010] [10:03:35] &lt;lvh&gt; it makes pyzmq compile, but not necessarily work (apparently)</div>
<div class="line">[Monday 12 April 2010] [10:03:54] &lt;sustrik&gt; the best thing you can do is to remove all of it</div>
<div class="line">[Monday 12 April 2010] [10:04:20] &lt;lvh&gt; just did. what am I supposed to use as lib dir? /usr/bin/ld: cannot find -lzmq</div>
<div class="line">[Monday 12 April 2010] [10:04:20] &lt;sustrik&gt; and build both 0mq and pyzmq from git</div>
<div class="line">[Monday 12 April 2010] [10:04:31] &lt;lvh&gt; sustrik: build, or build and install?</div>
<div class="line">[Monday 12 April 2010] [10:04:38] &lt;lvh&gt; I haven&#8217;t installed 0mq, just built it</div>
<div class="line">[Monday 12 April 2010] [10:04:49] &lt;sustrik&gt; autotools by default use /usr/local as install directory</div>
<div class="line">[Monday 12 April 2010] [10:04:50] &lt;lvh&gt; ./autogen.sh &amp;&amp; ./configure &amp;&amp; make</div>
<div class="line">[Monday 12 April 2010] [10:05:18] &lt;sustrik&gt; where do you want to install it?</div>
<div class="line">[Monday 12 April 2010] [10:05:29] &lt;lvh&gt; /usr/local&#8217;s fine, home dir&#8217;s better</div>
<div class="line">[Monday 12 April 2010] [10:05:47] &lt;lvh&gt; ~/lib/</div>
<div class="line">[Monday 12 April 2010] [10:05:52] &lt;lvh&gt; That&#8217;s where all my python stuff lives, at least</div>
<div class="line">[Monday 12 April 2010] [10:06:32] &lt;sustrik&gt; pretty unorthodox</div>
<div class="line">[Monday 12 April 2010] [10:06:48] &lt;sustrik&gt; rather do it this way:</div>
<div class="line">[Monday 12 April 2010] [10:06:51] &lt;sustrik&gt; ./autogen.sh</div>
<div class="line">[Monday 12 April 2010] [10:07:26] &lt;sustrik&gt; ./configure &#8211;prefix=/usr</div>
<div class="line">[Monday 12 April 2010] [10:07:29] &lt;sustrik&gt; make</div>
<div class="line">[Monday 12 April 2010] [10:07:33] &lt;sustrik&gt; sudo make install</div>
<div class="line">[Monday 12 April 2010] [10:07:50] &lt;lvh&gt; right, got that</div>
<div class="line">[Monday 12 April 2010] [10:08:00] &lt;lvh&gt; where does it install the headers?</div>
<div class="line">[Monday 12 April 2010] [10:08:15] &lt;sustrik&gt; /usr/include</div>
<div class="line">[Monday 12 April 2010] [10:08:16] &lt;lvh&gt; ah, /usr/local/include</div>
<div class="line">[Monday 12 April 2010] [10:08:45] &lt;mato&gt;    sustrik: installing to /usr is not a good idea unless you know the implications</div>
<div class="line">[Monday 12 April 2010] [10:09:04] &lt;mato&gt;    sustrik: that&#8217;s what /usr/local is for, and most distributions have support for e.g. python/ruby/perl stuff in /usr/local also</div>
<div class="line">[Monday 12 April 2010] [10:09:04] &lt;sustrik&gt; ok, i am not an expert</div>
<div class="line">[Monday 12 April 2010] [10:09:20] &lt;sustrik&gt; ok, then use just ./configure</div>
<div class="line">[Monday 12 April 2010] [10:09:25] &lt;lvh&gt; mato: debian by default doesn&#8217;t, apparently ;-)</div>
<div class="line">[Monday 12 April 2010] [10:09:27] &lt;lvh&gt; ImportError: libzmq.so.0: cannot open shared object file: No such file or directory</div>
<div class="line">[Monday 12 April 2010] [10:10:48] &lt;lvh&gt; similarly letting setuptools loose on something your distro occasionally uses is a terrible idea</div>
<div class="line">[Monday 12 April 2010] [10:10:55] &lt;lvh&gt; but setuptools in general is a terrible idea</div>
<div class="line">[Monday 12 April 2010] [10:11:01] &lt;lvh&gt; it&#8217;s marginally worse than auto*hell</div>
<div class="line">[Monday 12 April 2010] [10:11:28] &lt;mato&gt;    lvh: so you have libzmq.so in /usr/local/lib and python can&#8217;t find it?</div>
<div class="line">[Monday 12 April 2010] [10:11:36] &lt;mato&gt;    lvh: did you run ldconfig as root after doing make install?</div>
<div class="line">[Monday 12 April 2010] [10:11:53] &lt;mikko&gt;   is /usr/local/lib in ld.so.conf?</div>
<div class="line">[Monday 12 April 2010] [10:12:00] &lt;lvh&gt; woo, that works</div>
<div class="line">[Monday 12 April 2010] [10:12:04] &lt;lvh&gt; nope, forgot ldconfig</div>
<div class="line">[Monday 12 April 2010] [10:12:18] &lt;lvh&gt; Ran 13 tests in 9.303s, yay</div>
<div class="line">[Monday 12 April 2010] [10:12:23] &lt;mato&gt;    there you go :-)</div>
<div class="line">[Monday 12 April 2010] [10:12:45] &lt;mato&gt;    mikko: on debian at least, yes</div>
<div class="line">[Monday 12 April 2010] [10:14:26] &lt;mikko&gt;   i think RHEL leaves it out by default</div>
<div class="line">[Monday 12 April 2010] [10:14:39] &lt;mikko&gt;   seems to be in /etc/ld.so.conf.d/libc.conf for deb</div>
<div class="line">[Monday 12 April 2010] [10:14:39] &lt;lvh&gt; is there a magic zmq_thing I have to run before the pubsub example&#8217;ll work?</div>
<div class="line">[Monday 12 April 2010] [10:14:53] &lt;sustrik&gt; zmq_forwarder</div>
<div class="line">[Monday 12 April 2010] [10:15:04] &lt;lvh&gt; I&#8217;m seeing zmq._zmq.ZMQError: No such device, afaik devices are things like zmq_*</div>
<div class="line">[Monday 12 April 2010] [10:16:47] &lt;sustrik&gt; <a class="reference external" href="http://github.com/sustrik/zeromq-chat/blob/master/README">http://github.com/sustrik/zeromq-chat/blob/master/README</a></div>
<div class="line">[Monday 12 April 2010] [10:17:01] &lt;lvh&gt; is the man page for that supposed to be empty?</div>
<div class="line">[Monday 12 April 2010] [10:19:15] &lt;olivier_c&gt;   fiou, sorry for the delay, so the error is AGAIN (pgm_error-&gt;code = 1 and pgm_error-&gt;domain = 8) and AGAIN isn&#8217;t in the &#8220;if&#8221; line 115 of pgm_socket.cpp</div>
<div class="line">[Monday 12 April 2010] [10:19:39] &lt;olivier_c&gt;   that&#8217;s why i get  this assert</div>
<div class="line">[Monday 12 April 2010] [10:19:56] &lt;lvh&gt; oh, that reminds me. in a pubsub context, what happens if I publish to things that have no listeners (subscribers)? stuff gets silently dropped, right?</div>
<div class="line">[Monday 12 April 2010] [10:20:00] &lt;lvh&gt; if so that would be ideal for my use case</div>
<div class="line">[Monday 12 April 2010] [10:20:43] &lt;sustrik&gt; lvh: right</div>
<div class="line">[Monday 12 April 2010] [10:20:52] &lt;sustrik&gt; olivier_c: wait a sec, checking...</div>
<div class="line">[Monday 12 April 2010] [10:24:22] &lt;sustrik&gt; olivier_c: PGM_IF_ERROR_AGAIN?</div>
<div class="line">[Monday 12 April 2010] [10:24:29] &lt;olivier_c&gt;   yes</div>
<div class="line">[Monday 12 April 2010] [10:26:27] &lt;sustrik&gt; hm, pretty vague error</div>
<div class="line">[Monday 12 April 2010] [10:27:02] &lt;lvh&gt; ack, now it works</div>
<div class="line">[Monday 12 April 2010] [10:27:11] &lt;sustrik&gt; EAI_AGAIN</div>
<div class="line">[Monday 12 April 2010] [10:27:12] &lt;sustrik&gt;               The name server returned a temporary failure indication.  Try again later.</div>
<div class="line">[Monday 12 April 2010] [10:27:25] &lt;sustrik&gt; olivier_c: is your name server working?</div>
<div class="line">[Monday 12 April 2010] [10:29:24] &lt;olivier_c&gt;   hmmm good question . it need a check !</div>
<div class="line">[Monday 12 April 2010] [10:30:59] &lt;sustrik&gt; anyway, i would say bind shouldn&#8217;t even try to access name server, probably an openPGM bug...</div>
<div class="line">[Monday 12 April 2010] [10:31:35] &lt;lvh&gt; what&#8217;s the difference between zmq.POLL and zmq.NOBLOCK? Both appear to be flags set on the Context.</div>
<div class="line">[Monday 12 April 2010] [10:31:52] &lt;lvh&gt; (and both want to not block)</div>
<div class="line">[Monday 12 April 2010] [10:32:10] &lt;mikko&gt;   NOBLOCK is send/recv flag</div>
<div class="line">[Monday 12 April 2010] [10:32:29] &lt;lvh&gt; I don&#8217;t really care if 0MQ blocks internally, as long as I can write my python code as if it doesn&#8217;t (but how does it tell me it has data when not blocking? callbacks?)</div>
<div class="line">[Monday 12 April 2010] [10:33:47] &lt;lvh&gt; aha, okay, so s.recv(flags=zmq.NOBLOCK), and then call that in perpetuity until ther&#8217;s something there? that sounds like busy waiting</div>
<div class="line">[Monday 12 April 2010] [10:34:34] &lt;sustrik&gt; that&#8217;s what non-blocking access is meant to be, if you want to block, don&#8217;t specify the flag</div>
<div class="line">[Monday 12 April 2010] [10:34:50] &lt;lvh&gt; perhaps I should be asking brian this</div>
<div class="line">[Monday 12 April 2010] [10:35:03] &lt;lvh&gt; sustrik: I&#8217;m used to non-blocking api&#8217;s that take callbacks</div>
<div class="line">[Monday 12 April 2010] [10:36:10] &lt;lvh&gt; apparently brian knows twisted, he might know how to best integrate the two</div>
<div class="line">[Monday 12 April 2010] [10:36:23] &lt;lvh&gt; having select and poll-likes sounds promising :-)</div>
<div class="line">[Monday 12 April 2010] [10:46:44] &lt;mato&gt;    sustrik: I am going to commit my magic Win32 changes, since they don&#8217;t break anything</div>
<div class="line">[Monday 12 April 2010] [10:47:09] &lt;sustrik&gt; ack</div>
<div class="line">[Monday 12 April 2010] [10:47:09] &lt;mato&gt;    sustrik: but I need two things from you</div>
<div class="line">[Monday 12 April 2010] [10:47:43] &lt;mato&gt;    sustrik: 1) Change your &#8220;DLL being built&#8221; define for the MSVC builds to just define &#8220;DLL_EXPORT&#8221;, don&#8217;t ask why :-)</div>
<div class="line">[Monday 12 April 2010] [10:48:03] &lt;mato&gt;    sustrik: 2) then when you have time retest the MSVC builds to make sure they still work (they should, but we need to be sure)</div>
<div class="line">[Monday 12 April 2010] [10:48:26] &lt;sustrik&gt; ok, commit it and I change MSVC build</div>
<div class="line">[Monday 12 April 2010] [10:48:37] &lt;sustrik&gt; however, are you sure about DLL_EXPORT</div>
<div class="line">[Monday 12 April 2010] [10:48:42] &lt;sustrik&gt; no <a href="#id338"><span class="problematic" id="id339">ZMQ_</span></a> prefix?</div>
<div class="line">[Monday 12 April 2010] [10:48:44] &lt;mato&gt;    sustrik: yes, don&#8217;t ask</div>
<div class="line">[Monday 12 April 2010] [10:49:18] &lt;sustrik&gt; no possible collisions with other projects?</div>
<div class="line">[Monday 12 April 2010] [10:49:49] &lt;mato&gt;    it shouldn&#8217;t matter right now, if someone complains i&#8217;ll do something else</div>
<div class="line">[Monday 12 April 2010] [10:50:41] &lt;sustrik&gt; well, you should know better than myself, but it sounds suspicious</div>
<div class="line">[Monday 12 April 2010] [10:52:05] &lt;CIA-5&gt;   zeromq2: 03Martin Lucina 07master * r0024d29 10/ (4 files in 4 dirs): Build fixes for cross compiling and Win32 - <a class="reference external" href="http://bit.ly/9kNUJ1">http://bit.ly/9kNUJ1</a></div>
<div class="line">[Monday 12 April 2010] [10:52:21] &lt;sustrik&gt; ok, i&#8217;m switching to win</div>
<div class="line">[Monday 12 April 2010] [11:00:58] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r370cde0 10/ builds/msvc/libzmq/libzmq.vcproj : win build fixed - <a class="reference external" href="http://bit.ly/d0rMDb">http://bit.ly/d0rMDb</a></div>
<div class="line">[Monday 12 April 2010] [11:38:37] &lt;lvh&gt; brian granger follows zeromq-dev, right?</div>
<div class="line">[Monday 12 April 2010] [11:39:15] &lt;mato&gt;    yup</div>
<div class="line">[Monday 12 April 2010] [11:39:54] &lt;lvh&gt; what exactly is zmq.POLL supposed to do? use async IO internally?</div>
<div class="line">[Monday 12 April 2010] [11:40:15] &lt;lvh&gt; ideally, I&#8217;d like to have an api that fires a callback as soon as messages come in</div>
<div class="line">[Monday 12 April 2010] [11:40:22] &lt;lvh&gt; I think that can be implemented using zmq_select</div>
<div class="line">[Monday 12 April 2010] [11:40:33] &lt;lvh&gt; well, zmq.select</div>
<div class="line">[Monday 12 April 2010] [13:02:24] &lt;lvh&gt; Does select busy-wait until something is available?</div>
<div class="line">[Monday 12 April 2010] [13:48:32] &lt;sophacles&gt;   2</div>
<div class="line">[Monday 12 April 2010] [13:49:13] &lt;lvh&gt; sophacles: ?</div>
<div class="line">[Monday 12 April 2010] [14:18:34] &lt;sophacles&gt;   sorry typo</div>
<div class="line">[Monday 12 April 2010] [15:45:51] &lt;lvh&gt; Hello.</div>
<div class="line">[Monday 12 April 2010] [21:08:10] &lt;iFire&gt;   mato, sustrik if I decide to make a custom udp layer for game communication i.e. custom (reliability, ordered) where should I start?</div>
<div class="line">[Monday 12 April 2010] [21:27:51] &lt;iFire&gt;   i.e. making 0mq do that</div>
<div class="line">[Monday 12 April 2010] [23:06:38] &lt;enki&gt;    yo, i&#8217;m sure you guys are biased - but any opinions on beanstalkd?</div>
<div class="line">[Tuesday 13 April 2010] [01:06:47] &lt;sustrik&gt;    iFire: reliable ordered UDP or unreliable unordered UDP?</div>
<div class="line">[Tuesday 13 April 2010] [01:06:52] &lt;iFire&gt;  both</div>
<div class="line">[Tuesday 13 April 2010] [01:07:07] &lt;iFire&gt;  <a class="reference external" href="http://www.jenkinssoftware.com/raknet/manual/reliabilitytypes.html">http://www.jenkinssoftware.com/raknet/manual/reliabilitytypes.html</a></div>
<div class="line">[Tuesday 13 April 2010] [01:07:09] &lt;iFire&gt;  example</div>
<div class="line">[Tuesday 13 April 2010] [01:07:18] &lt;sustrik&gt;    why not use TCP for the former?</div>
<div class="line">[Tuesday 13 April 2010] [01:08:08] &lt;sustrik&gt;    as for the latter, clone the PGM part of the codebase</div>
<div class="line">[Tuesday 13 April 2010] [01:08:08] &lt;iFire&gt;  well sometimes if you miss you get a visual error</div>
<div class="line">[Tuesday 13 April 2010] [01:08:33] &lt;iFire&gt;  there&#8217;s unreliable, unreliable sequenced, reliable, reliable sequenced</div>
<div class="line">[Tuesday 13 April 2010] [01:08:37] &lt;iFire&gt;  in that raknet page</div>
<div class="line">[Tuesday 13 April 2010] [01:08:51] &lt;sustrik&gt;    tcp is reliable sequenced</div>
<div class="line">[Tuesday 13 April 2010] [01:09:26] &lt;sustrik&gt;    that&#8217;s what you want, no?</div>
<div class="line">[Tuesday 13 April 2010] [01:09:38] &lt;iFire&gt;  I want unreliable sequenced</div>
<div class="line">[Tuesday 13 April 2010] [01:09:50] &lt;iFire&gt;  and unrealiable</div>
<div class="line">[Tuesday 13 April 2010] [01:10:01] &lt;sustrik&gt;    ok, then clone the pgm part</div>
<div class="line">[Tuesday 13 April 2010] [01:10:03] &lt;sustrik&gt;    (4 files)</div>
<div class="line">[Tuesday 13 April 2010] [01:10:12] &lt;sustrik&gt;    ditch the entrails</div>
<div class="line">[Tuesday 13 April 2010] [01:10:19] &lt;sustrik&gt;    and replace them by UDP code</div>
<div class="line">[Tuesday 13 April 2010] [01:10:58] &lt;sustrik&gt;    to get sequenced you&#8217;ll have to number the packets and drop out-of-order packets</div>
<div class="line">[Tuesday 13 April 2010] [01:11:42] &lt;sustrik&gt;    enki: sorry, never used it</div>
<div class="line">[Tuesday 13 April 2010] [01:12:49] &lt;iFire&gt;  well it&#8217;s be symmetrical if I have all four combinations in udp</div>
<div class="line">[Tuesday 13 April 2010] [01:13:06] &lt;iFire&gt;  sustrik it&#8217;s in zeromq2/src?</div>
<div class="line">[Tuesday 13 April 2010] [01:13:20] &lt;sustrik&gt;    reliabilty is not easy to implement</div>
<div class="line">[Tuesday 13 April 2010] [01:13:26] &lt;sustrik&gt;    and it&#8217;s provided by tcp anyway</div>
<div class="line">[Tuesday 13 April 2010] [01:13:35] &lt;sustrik&gt;    iFire: yes</div>
<div class="line">[Tuesday 13 April 2010] [01:13:43] &lt;sustrik&gt;    pgm_sender/pgm_receiver</div>
<div class="line">[Tuesday 13 April 2010] [01:16:56] &lt;iFire&gt;  there&#8217;s not problem with mixing messages right?</div>
<div class="line">[Tuesday 13 April 2010] [01:17:00] &lt;iFire&gt;  no problem</div>
<div class="line">[Tuesday 13 April 2010] [01:17:05] &lt;sustrik&gt;    mixing?</div>
<div class="line">[Tuesday 13 April 2010] [01:17:10] &lt;iFire&gt;  udp/tcp</div>
<div class="line">[Tuesday 13 April 2010] [01:17:20] &lt;sustrik&gt;    no, it&#8217;s different protocol</div>
<div class="line">[Tuesday 13 April 2010] [01:17:41] &lt;sustrik&gt;    btw, for a wire format you have to implement have a look here</div>
<div class="line">[Tuesday 13 April 2010] [01:17:42] &lt;sustrik&gt;    <a class="reference external" href="http://api.zeromq.org/zmq_pgm.html">http://api.zeromq.org/zmq_pgm.html</a></div>
<div class="line">[Tuesday 13 April 2010] [01:18:01] &lt;sustrik&gt;    it&#8217;s already in the pgm part so you can leave that in</div>
<div class="line">[Tuesday 13 April 2010] [01:20:18] &lt;iFire&gt;  well I want the benefits of being packet based rather than stream based</div>
<div class="line">[Tuesday 13 April 2010] [01:20:48] &lt;iFire&gt;  but just implementing unreliable and unreliable sequenced I can see how much  work to do</div>
<div class="line">[Tuesday 13 April 2010] [01:22:51] &lt;sustrik&gt;    iFire: designing a sane raliable protocol is hard; unless you are a networking researcher you don&#8217;t even want to try</div>
<div class="line">[Tuesday 13 April 2010] [01:23:08] &lt;sustrik&gt;    you would have to implement tx/rx windowing</div>
<div class="line">[Tuesday 13 April 2010] [01:23:12] &lt;sustrik&gt;    congestion control</div>
<div class="line">[Tuesday 13 April 2010] [01:23:14] &lt;sustrik&gt;    etc.</div>
<div class="line">[Tuesday 13 April 2010] [01:23:28] &lt;sustrik&gt;    all that stuff have been done over the years by tcp folks</div>
<div class="line">[Tuesday 13 April 2010] [01:23:50] &lt;iFire&gt;  I see</div>
<div class="line">[Tuesday 13 April 2010] [01:24:02] &lt;sustrik&gt;    as for the unreliable thing, i would estimate it as 1-2 days of work</div>
<div class="line">[Tuesday 13 April 2010] [01:29:32] &lt;iFire&gt;  I think you can migate the problem of older packets blocking newer packets by having different channels of tcp</div>
<div class="line">[Tuesday 13 April 2010] [01:30:14] &lt;iFire&gt;  hmm</div>
<div class="line">[Tuesday 13 April 2010] [01:30:28] &lt;iFire&gt;  sustrik are you familiar with sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:35:49] &lt;sustrik&gt;    iFire: yes</div>
<div class="line">[Tuesday 13 April 2010] [01:36:10] &lt;iFire&gt;  the last message I received is iFire sustrik are you familiar with sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:36:21] &lt;iFire&gt;  last message I saw</div>
<div class="line">[Tuesday 13 April 2010] [01:37:21] &lt;sustrik&gt;    yes, i am familiar with SCTP</div>
<div class="line">[Tuesday 13 April 2010] [01:37:31] &lt;iFire&gt;  sustrik last message was iFire sustrik are you familiar with sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:37:55] &lt;iFire&gt;  well tcp is notorious for packet blocking</div>
<div class="line">[Tuesday 13 April 2010] [01:38:23] &lt;iFire&gt;  so unreliable udp and sctp</div>
<div class="line">[Tuesday 13 April 2010] [01:38:37] &lt;sustrik&gt;    that&#8217;s the price for reliability</div>
<div class="line">[Tuesday 13 April 2010] [01:38:46] &lt;sustrik&gt;    same thing with sctp btw</div>
<div class="line">[Tuesday 13 April 2010] [01:38:52] &lt;iFire&gt;  well sctp is reliable and has this concept of channel</div>
<div class="line">[Tuesday 13 April 2010] [01:39:08] &lt;sustrik&gt;    what do you need exactly?</div>
<div class="line">[Tuesday 13 April 2010] [01:39:14] &lt;iFire&gt;  well it counts in terms of messages</div>
<div class="line">[Tuesday 13 April 2010] [01:39:34] &lt;iFire&gt;  I want something that works well in a 3d online game aspect</div>
<div class="line">[Tuesday 13 April 2010] [01:39:51] &lt;sustrik&gt;    i am not familiar with game development</div>
<div class="line">[Tuesday 13 April 2010] [01:39:57] &lt;sustrik&gt;    what are the requirements?</div>
<div class="line">[Tuesday 13 April 2010] [01:40:16] &lt;iFire&gt;  sctp has this</div>
<div class="line">[Tuesday 13 April 2010] [01:40:17] &lt;iFire&gt;  Multi-streaming is an important feature of SCTP, especially when you consider some of the control and data issues in protocol design. In TCP, control and data typically share the same connection, which can be problematic because control packets can be delayed behind data packets. If control and data were split into independent streams, control data could be dealt with in a more timely manner, resulting in better utilization of available resources.</div>
<div class="line">[Tuesday 13 April 2010] [01:40:40] &lt;sustrik&gt;    yes, it&#8217;s same as having several tcp connections</div>
<div class="line">[Tuesday 13 April 2010] [01:43:43] &lt;sustrik&gt;    also, you should be aware that sctp is not available on windows as a part of OS</div>
<div class="line">[Tuesday 13 April 2010] [01:44:07] &lt;iFire&gt;  I did not know that</div>
<div class="line">[Tuesday 13 April 2010] [01:44:21] &lt;iFire&gt;  what does using several tcp connections require?</div>
<div class="line">[Tuesday 13 April 2010] [01:44:33] &lt;iFire&gt;  different ports?</div>
<div class="line">[Tuesday 13 April 2010] [01:44:40] &lt;sustrik&gt;    yes</div>
<div class="line">[Tuesday 13 April 2010] [01:45:57] &lt;sustrik&gt;    also, there&#8217;s a possibility of opening several connections to the same source port</div>
<div class="line">[Tuesday 13 April 2010] [01:46:21] &lt;sustrik&gt;    then you would have to tag the messages so that you know which connection it went through</div>
<div class="line">[Tuesday 13 April 2010] [01:46:29] &lt;sustrik&gt;    - if you need to know it at all</div>
<div class="line">[Tuesday 13 April 2010] [01:49:09] &lt;iFire&gt;  found <a class="reference external" href="http://www.bluestop.org/SctpDrv/">http://www.bluestop.org/SctpDrv/</a></div>
<div class="line">[Tuesday 13 April 2010] [01:50:19] &lt;iFire&gt;  no 64bit windows signing</div>
<div class="line">[Tuesday 13 April 2010] [02:02:17] &lt;iFire&gt;  Good Morning sustrik</div>
<div class="line">[Tuesday 13 April 2010] [02:06:49] &lt;sustrik&gt;    morning</div>
<div class="line">[Tuesday 13 April 2010] [02:15:12] &lt;iFire&gt;  sustrik here&#8217;s a good list of requirements <a class="reference external" href="http://stackoverflow.com/questions/1200901/why-is-udp-a-software-reliable-ordering-system-faster-than-tcp/2445227#2445227">http://stackoverflow.com/questions/1200901/why-is-udp-a-software-reliable-ordering-system-faster-than-tcp/2445227#2445227</a></div>
<div class="line">[Tuesday 13 April 2010] [02:15:32] &lt;iFire&gt;  but I not sure if zeromq is the right solution</div>
<div class="line">[Tuesday 13 April 2010] [02:18:33] &lt;sustrik&gt;    which part of the discussion makes you believe you want to implement reliability on top of UDP&gt;</div>
<div class="line">[Tuesday 13 April 2010] [02:18:34] &lt;sustrik&gt;    ?</div>
<div class="line">[Tuesday 13 April 2010] [02:18:46] &lt;iFire&gt;  so I would have to add a unreliable sequenced/unsequenced to the 0mq message</div>
<div class="line">[Tuesday 13 April 2010] [02:18:55] &lt;iFire&gt;  sustrik I found a library which did that</div>
<div class="line">[Tuesday 13 April 2010] [02:19:14] &lt;iFire&gt;  routing</div>
<div class="line">[Tuesday 13 April 2010] [02:20:10] &lt;iFire&gt;  <a class="reference external" href="http://enet.bespin.org/">http://enet.bespin.org/</a> but how would a routing message in zeromq work</div>
<div class="line">[Tuesday 13 April 2010] [02:20:30]   * iFire looks up wire format</div>
<div class="line">[Tuesday 13 April 2010] [02:21:18] &lt;sustrik&gt;    udp packets are routed in ip layer</div>
<div class="line">[Tuesday 13 April 2010] [02:21:57] &lt;iFire&gt;  I mean if I  put enet beneath 0mq, I&#8217;ll need some way of signaling which 0mq messages have to be routed some way</div>
<div class="line">[Tuesday 13 April 2010] [02:22:58] &lt;iFire&gt;  i.e. reliability/sequenced</div>
<div class="line">[Tuesday 13 April 2010] [02:23:57] &lt;sustrik&gt;    if you have a library that does what you need why bother about 0mq at all?</div>
<div class="line">[Tuesday 13 April 2010] [02:24:04] &lt;iFire&gt;  I don&#8217;t</div>
<div class="line">[Tuesday 13 April 2010] [02:24:11] &lt;iFire&gt;  it&#8217;s just a udp library</div>
<div class="line">[Tuesday 13 April 2010] [02:24:15] &lt;iFire&gt;  doesn&#8217;t do messenging</div>
<div class="line">[Tuesday 13 April 2010] [02:24:47] &lt;iFire&gt;  let&#8217;s go back to that discussion about adding unreliable to zeromq</div>
<div class="line">[Tuesday 13 April 2010] [02:25:24] &lt;iFire&gt;  I&#8217;ll take a look a the code and talk about it later</div>
<div class="line">[Tuesday 13 April 2010] [02:25:43] &lt;sustrik&gt;    sure</div>
<div class="line">[Tuesday 13 April 2010] [02:28:19] &lt;enki&gt;   ha, you guys could try using uTP for this :p</div>
<div class="line">[Tuesday 13 April 2010] [02:48:49] &lt;iFire&gt;  sustrik where are the zmq_msg_t flag definitions?</div>
<div class="line">[Tuesday 13 April 2010] [02:49:38] &lt;sustrik&gt;    zmq.h</div>
<div class="line">[Tuesday 13 April 2010] [02:49:47] &lt;sustrik&gt;    ZMQ_MSG_MORE</div>
<div class="line">[Tuesday 13 April 2010] [02:49:54] &lt;sustrik&gt;    ZMQ_MSG_SHARED</div>
<div class="line">[Tuesday 13 April 2010] [03:29:17] &lt;mikko&gt;  sndmore/recvmore added</div>
<div class="line">[Tuesday 13 April 2010] [06:01:44] &lt;sustrik&gt;    mato: ESHUTDOWN is not POSIX, it&#8217;s Linux-specific, leaving ETERM as is</div>
<div class="line">[Tuesday 13 April 2010] [07:12:32] &lt;sjampoo&gt;    Martin, just read your message regarding the Polling interface on the mailinglist, seems like you read my mind.</div>
<div class="line">[Tuesday 13 April 2010] [07:13:05] &lt;sjampoo&gt;    Do you suggest to have functions that register a socket within the ZMQ api?</div>
<div class="line">[Tuesday 13 April 2010] [07:15:54] &lt;sjampoo&gt;    Also, wouldn&#8217;t a linkedlist be a much nicer datastructure to store the pollable items?</div>
<div class="line">[Tuesday 13 April 2010] [07:31:38] &lt;mikko&gt;  sjampoo: the php bindings currently have &#8220;add&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [07:31:46] &lt;mikko&gt;  i dont know how orthodox it is</div>
<div class="line">[Tuesday 13 April 2010] [07:32:19] &lt;mikko&gt;  <a class="reference external" href="http://github.com/mkoppanen/php-zmq/blob/master/examples/poll-server.php">http://github.com/mkoppanen/php-zmq/blob/master/examples/poll-server.php</a></div>
<div class="line">[Tuesday 13 April 2010] [07:32:29] &lt;mikko&gt;  might be subject to change in future</div>
<div class="line">[Tuesday 13 April 2010] [07:38:06] &lt;sjampoo&gt;    yes, well I really wished that ZMQ had native support for managing a pollset, thus a level on top of the raw zmq_poll so that each binding does not have to implement its own pollset</div>
<div class="line">[Tuesday 13 April 2010] [07:40:53] &lt;sjampoo&gt;    pyzmq has register / unregister</div>
<div class="line">[Tuesday 13 April 2010] [07:42:44] &lt;sjampoo&gt;    but on each call to poll() the pollitems array gets rebuild from scratch, which will be expensive with lots of sockets</div>
<div class="line">[Tuesday 13 April 2010] [07:45:50] &lt;mikko&gt;  at the moment i just realloc up</div>
<div class="line">[Tuesday 13 April 2010] [07:45:54] &lt;mikko&gt;  never down</div>
<div class="line">[Tuesday 13 April 2010] [07:46:27] &lt;sjampoo&gt;    what do you do when you remove a socket?</div>
<div class="line">[Tuesday 13 April 2010] [07:46:31] &lt;mikko&gt;  why do you build the array on each poll?</div>
<div class="line">[Tuesday 13 April 2010] [07:46:42] &lt;sjampoo&gt;    (i don&#8217;t, pyzmq does)</div>
<div class="line">[Tuesday 13 April 2010] [07:46:48] &lt;mikko&gt;  you only need full rebuild on remove</div>
<div class="line">[Tuesday 13 April 2010] [07:46:58] &lt;mikko&gt;  add should only cause append</div>
<div class="line">[Tuesday 13 April 2010] [07:47:06] &lt;mikko&gt;  currently there is no remove in php</div>
<div class="line">[Tuesday 13 April 2010] [07:48:34] &lt;mikko&gt;  i got a local branch for making some changes to pollset which contains remove as well</div>
<div class="line">[Tuesday 13 April 2010] [07:49:13] &lt;sustrik&gt;    re</div>
<div class="line">[Tuesday 13 April 2010] [07:49:18] &lt;sjampoo&gt;    I use the same approach currently as you are suggesting.</div>
<div class="line">[Tuesday 13 April 2010] [07:49:46] &lt;sjampoo&gt;    I just think it would be nicer if it was implemented in ZMQ directly, ie as a linked list or whatever to get great performance.</div>
<div class="line">[Tuesday 13 April 2010] [07:50:00] &lt;mikko&gt;  yes, it would make sense</div>
<div class="line">[Tuesday 13 April 2010] [07:50:15] &lt;sjampoo&gt;    I don&#8217;t think the API directly matters, as the binding can then provide a thin layer on top of it.</div>
<div class="line">[Tuesday 13 April 2010] [07:51:05] &lt;sustrik&gt;    i&#8217;ll definitely move it to 0mq core once the api is agreed on</div>
<div class="line">[Tuesday 13 April 2010] [07:51:23] &lt;sustrik&gt;    sjampoo: i wouldn&#8217;t worry about creating the pollset each time</div>
<div class="line">[Tuesday 13 April 2010] [07:51:38] &lt;sustrik&gt;    there should never be more than couple of sockets in the pollset</div>
<div class="line">[Tuesday 13 April 2010] [07:52:47] &lt;sjampoo&gt;    Well, there are going to be lots if you are going to use it in some sort of IOLoop that also polls regular TCP sockets.</div>
<div class="line">[Tuesday 13 April 2010] [07:53:55] &lt;sustrik&gt;    true</div>
<div class="line">[Tuesday 13 April 2010] [07:54:55] &lt;sustrik&gt;    mikko, sjampoo: so what about the api, how do you believe the results should be retrieved from the pollset?</div>
<div class="line">[Tuesday 13 April 2010] [08:00:55] &lt;mikko&gt;  int revents; int id; zmq_pollset_t set; zmq_pollset_init(&amp;set); id = zmq_pollset_add_socket(set, s, ZMQ_POLLOUT); zmq_poll(set, -1); revents = zmq_get_events(set, id); if (revents &amp; ZMQ_POLLOUT) {}</div>
<div class="line">[Tuesday 13 April 2010] [08:01:00] &lt;mikko&gt;  top of my head</div>
<div class="line">[Tuesday 13 April 2010] [08:01:23] &lt;mikko&gt;  probably not any more flexible than the current one</div>
<div class="line">[Tuesday 13 April 2010] [08:06:27] &lt;sustrik&gt;    i don&#8217;t like the &#8216;id&#8217; part</div>
<div class="line">[Tuesday 13 April 2010] [08:06:50] &lt;sustrik&gt;    it somehow presuposes a hash inside the poller to map id to actual pollitem</div>
<div class="line">[Tuesday 13 April 2010] [08:07:18] &lt;sustrik&gt;    =&gt; performance impact</div>
<div class="line">[Tuesday 13 April 2010] [08:32:04] &lt;sjampoo&gt;    sustrik, it would be nice if i could simply iterate over some sort of result set, but i am not sure what the best approach would be.</div>
<div class="line">[Tuesday 13 April 2010] [08:34:58] &lt;sustrik&gt;    what about getting events one by one?</div>
<div class="line">[Tuesday 13 April 2010] [08:35:18] &lt;sustrik&gt;    event = pollset.next_event ();</div>
<div class="line">[Tuesday 13 April 2010] [08:37:44] &lt;sjampoo&gt;    i would like that i suppose, fe in python one could simply turn that into a generator and yield ready sockets</div>
<div class="line">[Tuesday 13 April 2010] [08:43:09] &lt;mikko&gt;  how do you know which socket the event ties to?</div>
<div class="line">[Tuesday 13 April 2010] [08:47:59] &lt;sustrik&gt;    that&#8217;s the question: what is the event?</div>
<div class="line">[Tuesday 13 April 2010] [08:48:08] &lt;sustrik&gt;    maybe a triple: socket, event, hint?</div>
<div class="line">[Tuesday 13 April 2010] [08:48:14] &lt;sustrik&gt;    any better ideas?</div>
<div class="line">[Tuesday 13 April 2010] [08:48:20] &lt;sjampoo&gt;    Event is actually an object consisting of &#8216;socket&#8217;, &#8216;event&#8217; and a &#8216;hint&#8217;, as you suggested in your mailing list.</div>
<div class="line">[Tuesday 13 April 2010] [08:48:32] &lt;sjampoo&gt;    And then the hint can be set while &#8216;adding&#8217; the pollitem.</div>
<div class="line">[Tuesday 13 April 2010] [08:48:43] &lt;sustrik&gt;    that&#8217;s how epoll does it</div>
<div class="line">[Tuesday 13 April 2010] [08:48:53] &lt;sjampoo&gt;    What are the restrictions on the hint?</div>
<div class="line">[Tuesday 13 April 2010] [08:49:07] &lt;sjampoo&gt;    What type is it?</div>
<div class="line">[Tuesday 13 April 2010] [08:49:24] &lt;sustrik&gt;    for epoll it&#8217;s void* or something like that</div>
<div class="line">[Tuesday 13 April 2010] [08:49:31] &lt;sjampoo&gt;    aha</div>
<div class="line">[Tuesday 13 April 2010] [08:49:43] &lt;sjampoo&gt;    well that would be perfect imho</div>
<div class="line">[Tuesday 13 April 2010] [08:49:52]   * sustrik is not sure how that tanslates to individual languages</div>
<div class="line">[Tuesday 13 April 2010] [08:50:11] &lt;sustrik&gt;    presumably not every language has &#8216;any&#8217; type</div>
<div class="line">[Tuesday 13 April 2010] [08:53:42] &lt;sjampoo&gt;    well, it shouldn&#8217;t be that difficult to translate it to something the language does understand by the binding maintainer</div>
<div class="line">[Tuesday 13 April 2010] [09:06:38] &lt;mato&gt;   re</div>
<div class="line">[Tuesday 13 April 2010] [09:06:40] &lt;mato&gt;   sustrik: ack</div>
<div class="line">[Tuesday 13 April 2010] [09:55:18] &lt;mato&gt;   sustrik: you&#8217;re following the pgm discussion on the mailing list?</div>
<div class="line">[Tuesday 13 April 2010] [09:55:40] &lt;mato&gt;   sustrik: i think we have finally hit on the problem and everyone agrees it&#8217;s there, which makes me happy</div>
<div class="line">[Tuesday 13 April 2010] [09:55:49] &lt;mato&gt;   sustrik: the question is now, what to do about it ...</div>
<div class="line">[Tuesday 13 April 2010] [09:57:37] &lt;sustrik&gt;    mato: yup, i am following it</div>
<div class="line">[Tuesday 13 April 2010] [09:58:00] &lt;sustrik&gt;    afaics what openpgm does is ok</div>
<div class="line">[Tuesday 13 April 2010] [09:58:07] &lt;sustrik&gt;    you advertise limit of x</div>
<div class="line">[Tuesday 13 April 2010] [09:58:15] &lt;sustrik&gt;    then publish &gt;x</div>
<div class="line">[Tuesday 13 April 2010] [09:58:24] &lt;sustrik&gt;    you experience message loss</div>
<div class="line">[Tuesday 13 April 2010] [09:58:30] &lt;sustrik&gt;    fair enough</div>
<div class="line">[Tuesday 13 April 2010] [09:58:45] &lt;sustrik&gt;    the problem is that 0mq adds queueing to the picture</div>
<div class="line">[Tuesday 13 April 2010] [09:59:00] &lt;sustrik&gt;    so you have queue full of data</div>
<div class="line">[Tuesday 13 April 2010] [09:59:11] &lt;sustrik&gt;    and want it pushed out through multicast</div>
<div class="line">[Tuesday 13 April 2010] [09:59:25] &lt;sustrik&gt;    you set the rate limit</div>
<div class="line">[Tuesday 13 April 2010] [09:59:33] &lt;vtl&gt;    sustrik: commit 716f4ac8714d33d21f9853f58482e35c1e3ad934 why do you use int64_t when it should be size_t?</div>
<div class="line">[Tuesday 13 April 2010] [09:59:43] &lt;sustrik&gt;    and publish much more than that</div>
<div class="line">[Tuesday 13 April 2010] [10:00:28] &lt;sustrik&gt;    my feeling is that steven may be right about us having to implement some rathe control on top of openpgm</div>
<div class="line">[Tuesday 13 April 2010] [10:00:33] &lt;sustrik&gt;    vtl: wait a sec</div>
<div class="line">[Tuesday 13 April 2010] [10:01:54] &lt;sustrik&gt;    vtl: where exactly?</div>
<div class="line">[Tuesday 13 April 2010] [10:02:00] &lt;mato&gt;   sustrik: us implementing rate control seems silly to me</div>
<div class="line">[Tuesday 13 April 2010] [10:02:15] &lt;mato&gt;   sustrik: openpgm already has all the information it needs</div>
<div class="line">[Tuesday 13 April 2010] [10:02:25] &lt;sustrik&gt;    note that what we do now when we hit the limit is busy looping</div>
<div class="line">[Tuesday 13 April 2010] [10:02:36] &lt;sustrik&gt;    that feels kind of strange anyway</div>
<div class="line">[Tuesday 13 April 2010] [10:03:12] &lt;vtl&gt;    sustrik: almost everywhere. socket options has type of size_t</div>
<div class="line">[Tuesday 13 April 2010] [10:03:23] &lt;sustrik&gt;    ?</div>
<div class="line">[Tuesday 13 April 2010] [10:03:31] &lt;mato&gt;   sustrik: my point is that the current situation is broken. AFAICS pgm with 0mq does not work. at all.</div>
<div class="line">[Tuesday 13 April 2010] [10:03:32] &lt;vtl&gt;    or I miss something?</div>
<div class="line">[Tuesday 13 April 2010] [10:03:39] &lt;sustrik&gt;    you mean POSIX socket options?</div>
<div class="line">[Tuesday 13 April 2010] [10:04:12] &lt;vtl&gt;    yeah, I messed it up. sorry</div>
<div class="line">[Tuesday 13 April 2010] [10:04:18] &lt;sustrik&gt;    np</div>
<div class="line">[Tuesday 13 April 2010] [10:04:39] &lt;sustrik&gt;    mato: it works unless the limit is hit, no?</div>
<div class="line">[Tuesday 13 April 2010] [10:05:22] &lt;mato&gt;   sustrik: yes, but the application has no way of controlling that</div>
<div class="line">[Tuesday 13 April 2010] [10:05:30] &lt;mato&gt;   sustrik: therefore it does not work</div>
<div class="line">[Tuesday 13 April 2010] [10:05:39] &lt;sustrik&gt;    then it&#8217;s not completely broken</div>
<div class="line">[Tuesday 13 April 2010] [10:05:54] &lt;sustrik&gt;    and btw pub/sub doesn&#8217;t guarantee delivery anyway</div>
<div class="line">[Tuesday 13 April 2010] [10:06:06] &lt;mato&gt;   sustrik: it&#8217;s not about guaranteeing delivery</div>
<div class="line">[Tuesday 13 April 2010] [10:06:08] &lt;sustrik&gt;    so it may be less reliable than expected but not broken</div>
<div class="line">[Tuesday 13 April 2010] [10:06:28] &lt;mato&gt;   sustrik: yes, but with the latest changes steven made, you saw what happened when i tried the performance tests</div>
<div class="line">[Tuesday 13 April 2010] [10:06:45] &lt;sustrik&gt;    hang up?</div>
<div class="line">[Tuesday 13 April 2010] [10:06:47] &lt;mato&gt;   sustrik: you run the _thr tests and the moment you hit the limit everything just hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:06:50] &lt;mato&gt;   yes</div>
<div class="line">[Tuesday 13 April 2010] [10:06:55] &lt;mato&gt;   hangs == broken in my book</div>
<div class="line">[Tuesday 13 April 2010] [10:07:15] &lt;sustrik&gt;    thr tests should be modified to use P2P sockets</div>
<div class="line">[Tuesday 13 April 2010] [10:07:47] &lt;mato&gt;   huh?</div>
<div class="line">[Tuesday 13 April 2010] [10:07:50] &lt;sustrik&gt;    P2P sovkets don&#8217;t allow for PGM as underlying protocol</div>
<div class="line">[Tuesday 13 April 2010] [10:07:56] &lt;sustrik&gt;    that solves the problem</div>
<div class="line">[Tuesday 13 April 2010] [10:07:59] &lt;mato&gt;   you&#8217;re side-stepping the issue</div>
<div class="line">[Tuesday 13 April 2010] [10:08:04] &lt;sustrik&gt;    nope</div>
<div class="line">[Tuesday 13 April 2010] [10:08:10] &lt;sustrik&gt;    PUB/SUB is unreliable</div>
<div class="line">[Tuesday 13 April 2010] [10:08:20] &lt;sustrik&gt;    thus you cannot base the test on it</div>
<div class="line">[Tuesday 13 April 2010] [10:08:37] &lt;sustrik&gt;    there&#8217;s always a chance of message being dropped</div>
<div class="line">[Tuesday 13 April 2010] [10:08:52] &lt;sustrik&gt;    that&#8217;s the nature of pub/sub</div>
<div class="line">[Tuesday 13 April 2010] [10:09:16] &lt;sustrik&gt;    &#8220;rather drop messages then let the slow consumer block the whole system&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [10:09:29] &lt;mato&gt;   the problem here is <em>not</em> about slow consumers</div>
<div class="line">[Tuesday 13 April 2010] [10:09:35] &lt;sustrik&gt;    i know</div>
<div class="line">[Tuesday 13 April 2010] [10:09:54] &lt;sustrik&gt;    but the semantics of pub/sub based on the slow consumer scenario</div>
<div class="line">[Tuesday 13 April 2010] [10:10:08] &lt;sustrik&gt;    fit even the case we are seeing niw</div>
<div class="line">[Tuesday 13 April 2010] [10:10:12] &lt;sustrik&gt;    now*</div>
<div class="line">[Tuesday 13 April 2010] [10:10:20] &lt;sustrik&gt;    what&#8217;s happening is annoying</div>
<div class="line">[Tuesday 13 April 2010] [10:10:25] &lt;sustrik&gt;    bet technically sound</div>
<div class="line">[Tuesday 13 April 2010] [10:10:32] &lt;sustrik&gt;    but*</div>
<div class="line">[Tuesday 13 April 2010] [10:10:48] &lt;mato&gt;   it might be technically sound according to the (vague) PGM spec, and according to the implementation</div>
<div class="line">[Tuesday 13 April 2010] [10:11:09] &lt;mato&gt;   but it seems to me that the current behaviour is totally useless from an application developer&#8217;s point of view</div>
<div class="line">[Tuesday 13 April 2010] [10:11:14] &lt;sustrik&gt;    ack</div>
<div class="line">[Tuesday 13 April 2010] [10:12:02] &lt;mato&gt;   the question remains, what to do about it...</div>
<div class="line">[Tuesday 13 April 2010] [10:12:52] &lt;sustrik&gt;    my feeling is that another rate limit has to be implemeted on 0mq level</div>
<div class="line">[Tuesday 13 April 2010] [10:13:50] &lt;mato&gt;   what&#8217;s wrong with reserving x% of the bandwidth for RDATA at the openpgm level?</div>
<div class="line">[Tuesday 13 April 2010] [10:14:23] &lt;sustrik&gt;    nothing, but you still end up with busy looping</div>
<div class="line">[Tuesday 13 April 2010] [10:15:06] &lt;mato&gt;   why are we busy looping?</div>
<div class="line">[Tuesday 13 April 2010] [10:15:51] &lt;sustrik&gt;    because when you try to send openPGM says: EAGAIN (because od the rate limit)</div>
<div class="line">[Tuesday 13 April 2010] [10:16:08] &lt;sustrik&gt;    you cannot poll for POLLOT</div>
<div class="line">[Tuesday 13 April 2010] [10:16:11] &lt;sustrik&gt;    POLLOUT</div>
<div class="line">[Tuesday 13 April 2010] [10:19:24] &lt;mato&gt;   well, i don&#8217;t know what to do now</div>
<div class="line">[Tuesday 13 April 2010] [10:19:57] &lt;mato&gt;   presumably 2.0.7 should include steven&#8217;s changes post openpgm 2.0.24 that fix the crashes, but introduce the hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:20:19] &lt;mato&gt;   but as for what to do with the current behaviour...</div>
<div class="line">[Tuesday 13 April 2010] [10:20:24] &lt;sustrik&gt;    it&#8217;s not easy</div>
<div class="line">[Tuesday 13 April 2010] [10:20:40] &lt;sustrik&gt;    what i am saying it&#8217;s good enough to let it be for now</div>
<div class="line">[Tuesday 13 April 2010] [10:21:03] &lt;sustrik&gt;    if the actual rate is lower than specified max rate everyting works as expected</div>
<div class="line">[Tuesday 13 April 2010] [10:21:18] &lt;sustrik&gt;    it you publish faster, messages get lost</div>
<div class="line">[Tuesday 13 April 2010] [10:21:35] &lt;mato&gt;   no, if you publish faster your publisher hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:21:44] &lt;sustrik&gt;    publisher?</div>
<div class="line">[Tuesday 13 April 2010] [10:21:54] &lt;mato&gt;   sorry, consumer</div>
<div class="line">[Tuesday 13 April 2010] [10:22:10] &lt;sustrik&gt;    it doesn&#8217;t hang, it only looses some messages, no?</div>
<div class="line">[Tuesday 13 April 2010] [10:22:16] &lt;mato&gt;   no, it hangs</div>
<div class="line">[Tuesday 13 April 2010] [10:22:19] &lt;mato&gt;   forever</div>
<div class="line">[Tuesday 13 April 2010] [10:22:21] &lt;sustrik&gt;    a-ha</div>
<div class="line">[Tuesday 13 April 2010] [10:22:37] &lt;sustrik&gt;    how does that happen?</div>
<div class="line">[Tuesday 13 April 2010] [10:23:16] &lt;mato&gt;   that was discussed in the long thread between me and steven</div>
<div class="line">[Tuesday 13 April 2010] [10:23:30] &lt;sustrik&gt;    i;ve missed the consumer hanging part</div>
<div class="line">[Tuesday 13 April 2010] [10:23:39] &lt;mato&gt;   due to the packet loss, and the absence of RDATA, the receiver is unable to recover, ever</div>
<div class="line">[Tuesday 13 April 2010] [10:24:03] &lt;sustrik&gt;    if says &#8220;unrecoverable message loss&#8221;, no?</div>
<div class="line">[Tuesday 13 April 2010] [10:24:13] &lt;mato&gt;   no</div>
<div class="line">[Tuesday 13 April 2010] [10:24:21] &lt;sustrik&gt;    yuck</div>
<div class="line">[Tuesday 13 April 2010] [10:24:35] &lt;mato&gt;   well, i&#8217;m not 100% sure</div>
<div class="line">[Tuesday 13 April 2010] [10:24:52] &lt;mato&gt;   i&#8217;d have to retest at your place again</div>
<div class="line">[Tuesday 13 April 2010] [10:25:24] &lt;sustrik&gt;    i though local_the hangs because it does not get all the messages</div>
<div class="line">[Tuesday 13 April 2010] [10:25:34] &lt;sustrik&gt;    hm</div>
<div class="line">[Tuesday 13 April 2010] [10:26:25] &lt;mato&gt;   no, the behaviour i saw with local_thr was it gets ~2k messages, then (presumably) some packet loss occurs and it just sits there forever</div>
<div class="line">[Tuesday 13 April 2010] [10:26:57] &lt;sustrik&gt;    right, because the rest of the messages are lost</div>
<div class="line">[Tuesday 13 April 2010] [10:27:39] &lt;sustrik&gt;    it happens because you publish faster than the rate is set</div>
<div class="line">[Tuesday 13 April 2010] [10:28:57] &lt;sustrik&gt;    i am not saying it is great</div>
<div class="line">[Tuesday 13 April 2010] [10:29:30] &lt;sustrik&gt;    but it&#8217;s not a real bug</div>
<div class="line">[Tuesday 13 April 2010] [10:29:44] &lt;sustrik&gt;    it&#8217;s reliability deficiency problem :)</div>
<div class="line">[Tuesday 13 April 2010] [10:36:55] &lt;sustrik&gt;    mato: btw, there&#8217;s a pull request from mikko for the RPM packaging</div>
<div class="line">[Tuesday 13 April 2010] [10:38:52] &lt;mato&gt;   sustrik: yes, requires license-foo</div>
<div class="line">[Tuesday 13 April 2010] [10:39:16] &lt;sustrik&gt;    are you sure these are needed for packaging scripts/</div>
<div class="line">[Tuesday 13 April 2010] [10:39:17] &lt;sustrik&gt;    ?</div>
<div class="line">[Tuesday 13 April 2010] [10:39:21] &lt;mato&gt;   yes</div>
<div class="line">[Tuesday 13 April 2010] [10:39:28] &lt;mato&gt;   anything that goes into the 0mq git</div>
<div class="line">[Tuesday 13 April 2010] [10:39:32] &lt;sustrik&gt;    mikko: are you there?</div>
<div class="line">[Tuesday 13 April 2010] [10:40:44] &lt;sustrik&gt;    he seems to be out</div>
<div class="line">[Tuesday 13 April 2010] [10:46:38] &lt;sustrik&gt;    sent him a message</div>
<div class="line">[Tuesday 13 April 2010] [10:52:06] &lt;mikko&gt;  almost here</div>
<div class="line">[Tuesday 13 April 2010] [10:52:11] &lt;mikko&gt;  &#64;work</div>
<div class="line">[Tuesday 13 April 2010] [10:52:33] &lt;mikko&gt;  is there a CLA i can sign?</div>
<div class="line">[Tuesday 13 April 2010] [10:52:47] &lt;mikko&gt;  so that all my contributions would be automatically under the license</div>
<div class="line">[Tuesday 13 April 2010] [10:53:53] &lt;mato&gt;   mikko: we haven&#8217;t really formulated one yet</div>
<div class="line">[Tuesday 13 April 2010] [10:54:03] &lt;mato&gt;   adrian sent me this, for example:</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   +++</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   I, Adrian von Bidder, Switzerland, license my work on the Debian packaging of</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   the zeromq library to iMatrix under the MIT/X11 licsense.</div>
<div class="line">[Tuesday 13 April 2010] [10:54:09] &lt;mato&gt;   +++</div>
<div class="line">[Tuesday 13 April 2010] [10:54:17] &lt;mato&gt;   by email, with the relevant patch attached</div>
<div class="line">[Tuesday 13 April 2010] [10:54:47] &lt;sustrik&gt;    shouldn&#8217;t it go to the mailing list?</div>
<div class="line">[Tuesday 13 April 2010] [10:54:55] &lt;mato&gt;   yes, he sent it to the mailing list</div>
<div class="line">[Tuesday 13 April 2010] [10:55:11] &lt;mato&gt;   sustrik: we need to decide how to handle this, and ph needs to agree</div>
<div class="line">[Tuesday 13 April 2010] [10:55:40] &lt;sustrik&gt;    yes, it&#8217;s a mess</div>
<div class="line">[Tuesday 13 April 2010] [10:55:52] &lt;sustrik&gt;    i am trying to direct this kind of thing to the mailing list</div>
<div class="line">[Tuesday 13 April 2010] [10:56:04] &lt;sustrik&gt;    as it&#8217;s presumably more persistent than personal mail boxes</div>
<div class="line">[Tuesday 13 April 2010] [10:56:15] &lt;mato&gt;   yeah, but even there the relevant statements will get lost</div>
<div class="line">[Tuesday 13 April 2010] [10:56:45] &lt;sustrik&gt;    shrug</div>
<div class="line">[Tuesday 13 April 2010] [10:56:54] &lt;mikko&gt;  CLA would make most sense</div>
<div class="line">[Tuesday 13 April 2010] [10:57:16] &lt;mikko&gt;  that in theory would eliminate the need for patches etc</div>
<div class="line">[Tuesday 13 April 2010] [10:57:42] &lt;mato&gt;   mikko: I&#8217;m thinking of two things</div>
<div class="line">[Tuesday 13 April 2010] [10:58:02] &lt;mato&gt;   mikko: 1) Simple template &#8220;CLA&#8221; or whatever you want to call it by email</div>
<div class="line">[Tuesday 13 April 2010] [10:58:29] &lt;mato&gt;   mikko: 2) Signed-off-by: on any git commits which is explicitly defined as &#8220;falls under the CLA&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [10:58:50] &lt;mikko&gt;  1) probably needs a signature (fax / scan / etc)</div>
<div class="line">[Tuesday 13 April 2010] [10:58:54] &lt;mikko&gt;  2) makes sense</div>
<div class="line">[Tuesday 13 April 2010] [10:59:05] &lt;mato&gt;   no, we want to deliberately avoid the whole fax/scan/etc</div>
<div class="line">[Tuesday 13 April 2010] [10:59:14] &lt;mato&gt;   email is enough, this is 2010 after all</div>
<div class="line">[Tuesday 13 April 2010] [10:59:33] &lt;mikko&gt;  is it legally binding? i&#8217;ve had to scan+email to many places</div>
<div class="line">[Tuesday 13 April 2010] [10:59:46] &lt;mato&gt;   mikko: the consensus is that it&#8217;s &#8220;Good enough&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [11:00:02] &lt;sustrik&gt;    what&#8217;s signed-off-by?</div>
<div class="line">[Tuesday 13 April 2010] [11:00:19] &lt;mato&gt;   mikko: see the commentary by Pieter Hintjens at <a class="reference external" href="http://www.zeromq.org/blog:why-the-mit-license-for-contributions">http://www.zeromq.org/blog:why-the-mit-license-for-contributions</a></div>
<div class="line">[Tuesday 13 April 2010] [11:00:53] &lt;mato&gt;   sustrik: it&#8217;s just an extra header you can add to git commits/patches</div>
<div class="line">[Tuesday 13 April 2010] [11:00:56] &lt;mikko&gt;  <a class="reference external" href="http://www.apache.org/licenses/icla.txt">http://www.apache.org/licenses/icla.txt</a></div>
<div class="line">[Tuesday 13 April 2010] [11:01:02] &lt;mikko&gt;  thats apache one</div>
<div class="line">[Tuesday 13 April 2010] [11:01:29] &lt;sustrik&gt;    isn&#8217;t the signed-off-by better then?</div>
<div class="line">[Tuesday 13 April 2010] [11:01:31] &lt;mato&gt;   sustrik: the Linux kernel people use it to mean &#8220;I sign off this patch and state that it came from me&#8221; or something similar</div>
<div class="line">[Tuesday 13 April 2010] [11:01:39] &lt;sustrik&gt;    everyone going to commit anyway</div>
<div class="line">[Tuesday 13 April 2010] [11:01:47] &lt;sustrik&gt;    so adding one field is not big a hassle</div>
<div class="line">[Tuesday 13 April 2010] [11:01:52] &lt;mato&gt;   sustrik: yeah, but you need to define somewhere <em>else</em> what the Signed-Off-By in the context of 0mq git means</div>
<div class="line">[Tuesday 13 April 2010] [11:01:55] &lt;sustrik&gt;    and we can pull the patches directly</div>
<div class="line">[Tuesday 13 April 2010] [11:02:21] &lt;sustrik&gt;    hm</div>
<div class="line">[Tuesday 13 April 2010] [11:03:06] &lt;mikko&gt;  <a class="reference external" href="http://www.oss-watch.ac.uk/resources/cla.xml#body.1_div.4">http://www.oss-watch.ac.uk/resources/cla.xml#body.1_div.4</a></div>
<div class="line">[Tuesday 13 April 2010] [11:03:09] &lt;mikko&gt;  4. Associating commits to CLAs</div>
<div class="line">[Tuesday 13 April 2010] [11:03:15] &lt;mato&gt;   sustrik: hence the combination of a simple email statement &#8220;I, XXX, of YYY, hereby state that any commits of mine containing Signed-Off-By: ..., are licensed under the MIT license.</div>
<div class="line">[Tuesday 13 April 2010] [11:03:28] &lt;mato&gt;   sustrik: with actual Signed-Off-By headers</div>
<div class="line">[Tuesday 13 April 2010] [11:03:55] &lt;sustrik&gt;    mikko:  right</div>
<div class="line">[Tuesday 13 April 2010] [11:04:08] &lt;sustrik&gt;    mato: yes, seems to make sense</div>
<div class="line">[Tuesday 13 April 2010] [11:04:39] &lt;mato&gt;   sustrik: it should also be possible to put a hook in github to reject commits w/o a Signed-Off-By</div>
<div class="line">[Tuesday 13 April 2010] [11:04:51] &lt;sustrik&gt;    mikko&#8217;s link suggest that&#8217;s it&#8217;s necessary to be able to blame each line of code</div>
<div class="line">[Tuesday 13 April 2010] [11:05:10] &lt;sustrik&gt;    that can be done only by direct pulling =&gt; singed-off-by</div>
<div class="line">[Tuesday 13 April 2010] [11:05:36] &lt;mato&gt;   no, it can work for all models</div>
<div class="line">[Tuesday 13 April 2010] [11:05:44] &lt;mato&gt;   at least i think so, here&#8217;s an example</div>
<div class="line">[Tuesday 13 April 2010] [11:05:52] &lt;sustrik&gt;    ah, the &#8211;author option</div>
<div class="line">[Tuesday 13 April 2010] [11:05:53] &lt;sustrik&gt;    right</div>
<div class="line">[Tuesday 13 April 2010] [11:06:20] &lt;mato&gt;   the point is you can set up your git so that <em>all</em> your commits to zeromq2 contain the signed-off-by tag</div>
<div class="line">[Tuesday 13 April 2010] [11:06:37] &lt;sustrik&gt;    that would be good, no?</div>
<div class="line">[Tuesday 13 April 2010] [11:06:44] &lt;mato&gt;   then, when those commits are pushed/pulled/whatever, the signed-off-by tags propagate</div>
<div class="line">[Tuesday 13 April 2010] [11:06:54] &lt;mato&gt;   sustrik: yes, that is what i have in mind</div>
<div class="line">[Tuesday 13 April 2010] [11:07:35] &lt;sustrik&gt;    mato: post a proposal to the mailing list and let&#8217;s see what will people say</div>
<div class="line">[Tuesday 13 April 2010] [11:08:24] &lt;mato&gt;   i&#8217;ll email a proposal to pieter first, and get him to make that post</div>
<div class="line">[Tuesday 13 April 2010] [11:08:28] &lt;mato&gt;   i don&#8217;t speak for imatix</div>
<div class="line">[Tuesday 13 April 2010] [11:08:29] &lt;sustrik&gt;    ok</div>
<div class="line">[Tuesday 13 April 2010] [11:09:11] &lt;sustrik&gt;    however, this is discussion of technical aspect of contributing so community should have a say</div>
<div class="line">[Tuesday 13 April 2010] [11:09:37] &lt;mato&gt;   right, well then i can make a proposal</div>
<div class="line">[Tuesday 13 April 2010] [11:52:46] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 13 April 2010] [11:53:23] &lt;mikko&gt;  if i add fd to pollset and close the remote peer the socket is marked readable in a loop</div>
<div class="line">[Tuesday 13 April 2010] [11:55:26] &lt;mikko&gt;  ermm confusing terms</div>
<div class="line">[Tuesday 13 April 2010] [11:55:53] &lt;mikko&gt;  adding normal fd that is connected to a remote peer. remote peer closes and poll marks it readable in in a loop</div>
<div class="line">[Tuesday 13 April 2010] [11:55:58] &lt;mikko&gt;  and chews 100% cpu</div>
<div class="line">[Tuesday 13 April 2010] [11:57:34] &lt;mikko&gt;  i guess i need to check for that</div>
<div class="line">[Tuesday 13 April 2010] [11:59:45] &lt;sustrik&gt;    mikko: &#8220;if i add fd to pollset and close the remote peer the socket is marked readable&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [11:59:52] &lt;sustrik&gt;    that&#8217;s standard POSIX behaviour</div>
<div class="line">[Tuesday 13 April 2010] [12:00:10] &lt;sustrik&gt;    in case of orderly shutdown POLLIN is signaled</div>
<div class="line">[Tuesday 13 April 2010] [12:00:18] &lt;sustrik&gt;    and subsequent read returns 0 bytes</div>
<div class="line">[Tuesday 13 April 2010] [12:00:20] &lt;sustrik&gt;    iirc</div>
<div class="line">[Tuesday 13 April 2010] [12:03:55] &lt;mikko&gt;  indeed</div>
<div class="line">[Tuesday 13 April 2010] [12:04:57] &lt;mikko&gt;  i need to work on this a bit on the evening</div>
<div class="line">[Tuesday 13 April 2010] [12:05:07] &lt;mikko&gt;  to make the removing of objects more fluent</div>
<div class="line">[Tuesday 13 April 2010] [12:09:15] &lt;mato&gt;   argh</div>
<div class="line">[Tuesday 13 April 2010] [12:09:31] &lt;mato&gt;   the whole signed-off-by thing with git is complicated :-(</div>
<div class="line">[Tuesday 13 April 2010] [12:09:43] &lt;mato&gt;   i don&#8217;t want to deal with this right now, i&#8217;d rather get some real work done</div>
<div class="line">[Tuesday 13 April 2010] [12:10:14] &lt;sustrik&gt;    ok, mikko, won&#8217;t you mind simply sending the patch to the mailing list and stating it&#8217;s MIT licensed?</div>
<div class="line">[Tuesday 13 April 2010] [12:10:22] &lt;mato&gt;   mikko: in the interim, can you just send a copy of your patch made with git-format-patch to the mailing list, and include one line that says &#8220;This patch is submitted under the MIT license&#8221;?</div>
<div class="line">[Tuesday 13 April 2010] [12:10:27] &lt;sustrik&gt;    :)</div>
<div class="line">[Tuesday 13 April 2010] [12:10:27] &lt;mato&gt;   sustrik: my words exactly :-)</div>
<div class="line">[Tuesday 13 April 2010] [12:11:07] &lt;mato&gt;   sustrik: ok, ad openpgm: i guess i should just email steven to make a 2.0.25 release with his latest changes, since that stops the crashes</div>
<div class="line">[Tuesday 13 April 2010] [12:11:17] &lt;mato&gt;   sustrik: that can go into our 2.0.7</div>
<div class="line">[Tuesday 13 April 2010] [12:11:21] &lt;sustrik&gt;    ack</div>
<div class="line">[Tuesday 13 April 2010] [12:11:44] &lt;mato&gt;   sustrik: therefore the only other thing is looking at the options/flags stuff, which i will write about</div>
<div class="line">[Tuesday 13 April 2010] [12:12:04] &lt;mato&gt;   and then i can get onto writing that nginx plugin which is actually interesting :-)</div>
<div class="line">[Tuesday 13 April 2010] [12:12:07] &lt;mato&gt;   sustrik: ack?</div>
<div class="line">[Tuesday 13 April 2010] [12:12:17] &lt;sustrik&gt;    sure, more useful even</div>
<div class="line">[Tuesday 13 April 2010] [12:12:47]   * mato is trying to ignore the list of administrivia and actually enjoy making something useful</div>
<div class="line">[Tuesday 13 April 2010] [12:12:47] &lt;sustrik&gt;    mato, mikko: the rpm spac file in the patch in in builds subdirectory</div>
<div class="line">[Tuesday 13 April 2010] [12:12:53] &lt;mato&gt;   good, we&#8217;re agreed then</div>
<div class="line">[Tuesday 13 April 2010] [12:13:08] &lt;sustrik&gt;    shouldn&#8217;t it go to &#8216;packages&#8217; ?</div>
<div class="line">[Tuesday 13 April 2010] [12:13:16] &lt;sustrik&gt;    mato: yes</div>
<div class="line">[Tuesday 13 April 2010] [12:13:27] &lt;mato&gt;   sustrik: why create packages when we already have builds, it doesn&#8217;t really matter</div>
<div class="line">[Tuesday 13 April 2010] [12:13:57] &lt;mato&gt;   sustrik: the point is at make dist time that spec file will get copied into the tarball root anyway</div>
<div class="line">[Tuesday 13 April 2010] [12:14:02] &lt;sustrik&gt;    dunno, msvc build system and rpm packaging script seem to be distinct kind of thing</div>
<div class="line">[Tuesday 13 April 2010] [12:14:05] &lt;mato&gt;   sustrik: this is similar to why debian is in /</div>
<div class="line">[Tuesday 13 April 2010] [12:14:35] &lt;sustrik&gt;    up to you guys, i&#8217;m giving up :)</div>
<div class="line">[Tuesday 13 April 2010] [12:14:43] &lt;mato&gt;   who cares</div>
<div class="line">[Tuesday 13 April 2010] [12:14:45] &lt;mato&gt;   it&#8217;s just trivia</div>
<div class="line">[Tuesday 13 April 2010] [12:14:50] &lt;mato&gt;   less directories is better :-)</div>
<div class="line">[Tuesday 13 April 2010] [12:14:57] &lt;mikko&gt;  &#8220;redhat builds&#8221;, &#8220;debian builds&#8221;, &#8220;windows builds&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [12:14:59] &lt;mikko&gt;  sounds logical</div>
<div class="line">[Tuesday 13 April 2010] [12:15:01] &lt;mato&gt;   exactly</div>
<div class="line">[Tuesday 13 April 2010] [12:15:16] &lt;sustrik&gt;    ah, it also builds the thing?</div>
<div class="line">[Tuesday 13 April 2010] [12:15:24] &lt;mikko&gt;  it creates binaries</div>
<div class="line">[Tuesday 13 April 2010] [12:15:29] &lt;mikko&gt;  or source rpms</div>
<div class="line">[Tuesday 13 April 2010] [12:15:31]   * sustrik has no idea how packaging works</div>
<div class="line">[Tuesday 13 April 2010] [12:15:39] &lt;sustrik&gt;    then it makes perfect sense</div>
<div class="line">[Tuesday 13 April 2010] [12:15:42] &lt;mikko&gt;  spec-file defines how it&#8217;s built</div>
<div class="line">[Tuesday 13 April 2010] [12:15:48] &lt;sustrik&gt;    sorry for trolling</div>
<div class="line">[Tuesday 13 April 2010] [12:15:51] &lt;mikko&gt;  and creates installable rpm package</div>
<div class="line">[Tuesday 13 April 2010] [12:16:00] &lt;mikko&gt;  i guess you are entitled for a bit of trolling :)</div>
<div class="line">[Tuesday 13 April 2010] [12:54:22] &lt;iFire&gt;  wow vmware is on a roll. They acquired rabbitmq</div>
<div class="line">[Tuesday 13 April 2010] [12:54:34] &lt;iFire&gt;  previously it was redis</div>
<div class="line">[Tuesday 13 April 2010] [12:57:43] &lt;sustrik&gt;    yup, looks like they are making a portfolio of cloud infrastructure</div>
<div class="line">[Tuesday 13 April 2010] [12:58:50] &lt;iFire&gt;  I hope vmware deals with rabbitmq the same way they dealt with redis. i.e. keep the same license, except pay the developers for work</div>
<div class="line">[Tuesday 13 April 2010] [12:59:52] &lt;iFire&gt;  (background info: redis is in bsd license)</div>
<div class="line">[Tuesday 13 April 2010] [13:01:25] &lt;sustrik&gt;    I&#8217;ve just spoke to rabbitmq guys, seems that that&#8217;s the plan</div>
<div class="line">[Tuesday 13 April 2010] [13:02:20] &lt;sustrik&gt;    from the press release: &#8220;RabbitMQ will continue to be open source and distributed in the same way</div>
<div class="line">[Tuesday 13 April 2010] [13:02:21] &lt;sustrik&gt;    as before. The RabbitMQ community can expect to see increased investment</div>
<div class="line">[Tuesday 13 April 2010] [13:02:21] &lt;sustrik&gt;    in this outstanding technology which should result in significant</div>
<div class="line">[Tuesday 13 April 2010] [13:02:21] &lt;sustrik&gt;    improvements to the open source release.&#8221;</div>
<div class="line">[Tuesday 13 April 2010] [14:04:59] &lt;dirtmcgirt&gt; hi all.</div>
<div class="line">[Tuesday 13 April 2010] [14:05:09] &lt;dirtmcgirt&gt; can zeromq be used along side libevent?</div>
<div class="line">[Tuesday 13 April 2010] [14:05:58] &lt;mikko&gt;  dirtmcgirt: we actually discussed the other day about 0MQ and libev</div>
<div class="line">[Tuesday 13 April 2010] [14:06:15] &lt;dirtmcgirt&gt; mikko: ah! i missed it.</div>
<div class="line">[Tuesday 13 April 2010] [14:06:55] &lt;mikko&gt;  <a class="reference external" href="http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che">http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_prepare_code_and_code_ev_che</a></div>
<div class="line">[Tuesday 13 April 2010] [14:07:04] &lt;mikko&gt;  libev provides something like that looks like it could be used</div>
<div class="line">[Tuesday 13 April 2010] [14:07:13] &lt;mikko&gt;  you could check whether libevent provides something similar</div>
<div class="line">[Tuesday 13 April 2010] [14:09:07] &lt;dirtmcgirt&gt; interesting, thanks</div>
<div class="line">[Tuesday 13 April 2010] [14:09:33] &lt;mikko&gt;  i&#8217;ve written most of my stuff using libev lately (instead of libevent)</div>
<div class="line">[Tuesday 13 April 2010] [14:09:49] &lt;mikko&gt;  libevent has a nice http library though</div>
<div class="line">[Tuesday 13 April 2010] [14:09:58] &lt;mikko&gt;  evhttp i think it&#8217;s called</div>
<div class="line">[Tuesday 13 April 2010] [14:10:05] &lt;dirtmcgirt&gt; yes, we are using that</div>
<div class="line">[Tuesday 13 April 2010] [14:10:08] &lt;dirtmcgirt&gt; it&#8217;s great</div>
<div class="line">[Wednesday 14 April 2010] [13:35:48] &lt;jomofo&gt;   When I try to build libzmq from master I get this error (Linux x86) :  make[1]: <a href="#id79"><span class="problematic" id="id80">**</span></a>* No rule to make target <a href="#id81"><span class="problematic" id="id82">`</span></a>local_lat.c&#8217;, needed by <a href="#id83"><span class="problematic" id="id84">`</span></a>local_lat.o&#8217;.  Stop.</div>
<div class="line">[Wednesday 14 April 2010] [13:37:01] &lt;jomofo&gt;   Guessing it&#8217;s a makefile issue, but don&#8217;t have enough experience with automake to solve on my own.  Any hints?  Thanks</div>
<div class="line">[Wednesday 14 April 2010] [14:16:06] &lt;mikko&gt;    jomofo: lemme test</div>
<div class="line">[Wednesday 14 April 2010] [14:16:07] &lt;mikko&gt;    sec</div>
<div class="line">[Wednesday 14 April 2010] [14:19:12] &lt;mikko&gt;    builds fine here from clean git clone</div>
<div class="line">[Wednesday 14 April 2010] [14:20:32] &lt;jomofo&gt;   I will try a fresh clone</div>
<div class="line">[Wednesday 14 April 2010] [14:25:47] &lt;jomofo&gt;   mikko: it builds now, thanks.  I guess maybe I didn&#8217;t clean before I pulled and some remnant was causing that?</div>
<div class="line">[Wednesday 14 April 2010] [14:26:23] &lt;mikko&gt;    no harm in make clean &amp;&amp; ./autogen.sh after pull</div>
<div class="line">[Wednesday 14 April 2010] [14:26:36] &lt;mikko&gt;    and ./configure &amp;&amp; make</div>
<div class="line">[Wednesday 14 April 2010] [14:28:38] &lt;jomofo&gt;   mikko: I went through those steps several times after I pulled before I decided to come here.  Maybe clean was not wiping something?</div>
<div class="line">[Wednesday 14 April 2010] [14:29:09] &lt;mikko&gt;    make distclean might wipe more</div>
<div class="line">[Wednesday 14 April 2010] [14:29:12] &lt;mikko&gt;    or just fail</div>
<div class="line">[Wednesday 14 April 2010] [14:29:14] &lt;mikko&gt;    not sure</div>
<div class="line">[Wednesday 14 April 2010] [14:29:26] &lt;mikko&gt;    but make clean doesnt remove auto* artifacts</div>
<div class="line">[Wednesday 14 April 2010] [14:31:43] &lt;jomofo&gt;   That makes sense.  I still have the old working copy so I&#8217;ll play around and see if I can discover more about the black box I&#8217;m playing with... Thanks for the idea of starting over though</div>
<div class="line">[Wednesday 14 April 2010] [14:33:45] &lt;jomofo&gt;   make distclean did the trick in the old working copy</div>
<div class="line">[Wednesday 14 April 2010] [15:00:59] &lt;sustrik&gt;  jomofo: the files in question were renamed</div>
<div class="line">[Wednesday 14 April 2010] [15:01:13] &lt;sustrik&gt;  automake has problem couping with it</div>
<div class="line">[Wednesday 14 April 2010] [15:01:26] &lt;sustrik&gt;  in any case, fresh copy solves it</div>
<div class="line">[Wednesday 14 April 2010] [15:07:51] &lt;sophacles&gt;    sustrik: a few days back you mentioned to me using <a href="#id85"><span class="problematic" id="id86">*</span></a>_thr for some throughput testing using very large numbers for message sizes.  its strange when I do that remote_thr quits fairly soon and local_thr doesn&#8217;t ever finish.</div>
<div class="line">[Wednesday 14 April 2010] [15:07:58] &lt;sophacles&gt;    any thoughts as to why?</div>
<div class="line">[Wednesday 14 April 2010] [15:08:20] &lt;sustrik&gt;  there&#8217;s sleep(10) hardcoded in the sender</div>
<div class="line">[Wednesday 14 April 2010] [15:08:47] &lt;sustrik&gt;  it transmission takes more than that, the sender quits in the middle of the transmission</div>
<div class="line">[Wednesday 14 April 2010] [15:08:50] &lt;sustrik&gt;  ugly, i know</div>
<div class="line">[Wednesday 14 April 2010] [15:11:59] &lt;sophacles&gt;    ahhh ok. ill dig into the code then. thanks for the pointer</div>
<div class="line">[Wednesday 14 April 2010] [15:13:40] &lt;sustrik&gt;  to sanitize the throughput test, P2P sockets should be used instead of PUB/SUB</div>
<div class="line">[Wednesday 14 April 2010] [15:13:53] &lt;sophacles&gt;    is there a better way to determine if all messages have been sent? (e.g a zmq_wait() or zmq_join())?</div>
<div class="line">[Wednesday 14 April 2010] [15:14:08] &lt;sustrik&gt;  P2P being bi-directional would allow for &#8220;the end&#8221; message to be passed back to the sender</div>
<div class="line">[Wednesday 14 April 2010] [15:14:41] &lt;sustrik&gt;  that&#8217;s it, i think</div>
<div class="line">[Wednesday 14 April 2010] [15:15:18] &lt;sustrik&gt;  just change to socket type to P2P, after the receiver receives all messages make it send a dummy message</div>
<div class="line">[Wednesday 14 April 2010] [15:15:36] &lt;sustrik&gt;  the sender should send all messages and wait for the dummy message from receiver</div>
<div class="line">[Wednesday 14 April 2010] [15:16:01] &lt;sustrik&gt;  the problem is that there are ~10 instances of perf tests for various languages</div>
<div class="line">[Wednesday 14 April 2010] [15:16:11] &lt;sustrik&gt;  lot of work to fix all of it</div>
<div class="line">[Wednesday 14 April 2010] [15:17:07] &lt;sophacles&gt;    OK thanks. ill do that. sounds simple enough. sanity check on my approach: a simple blocking read place of zmq_sleep is the magic mechanism correct?</div>
<div class="line">[Wednesday 14 April 2010] [15:17:16] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 14 April 2010] [15:28:37] &lt;jomofo&gt;   sustrik: troubleshooting an error with JNI and came across this:  <a class="reference external" href="http://forums.sun.com/thread.jspa?threadID=5379144">http://forums.sun.com/thread.jspa?threadID=5379144</a></div>
<div class="line">[Wednesday 14 April 2010] [15:29:42] &lt;jomofo&gt;   sustrik: thought it was kinda funny when I noticed it was your thread</div>
<div class="line">[Wednesday 14 April 2010] [15:31:30] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 14 April 2010] [15:32:16] &lt;sustrik&gt;  i am not sure what the problem is now - gonzalo diethelm introduced the latest changes</div>
<div class="line">[Wednesday 14 April 2010] [15:32:26] &lt;sustrik&gt;  he probably got something wrong</div>
<div class="line">[Wednesday 14 April 2010] [15:33:44] &lt;jomofo&gt;   I will keep digging, I was just hoping someone on the list could tell me if I was doing something silly</div>
<div class="line">[Wednesday 14 April 2010] [15:35:57] &lt;sustrik&gt;  jomofo: any chance the old version of jzmq is being loaded?</div>
<div class="line">[Wednesday 14 April 2010] [15:38:46] &lt;jomofo&gt;   sustrik: I don&#8217;t believe so, but I&#8217;ve done crazier things.  I will wipe /usr/local/lib, verify it breaks my test, then build again</div>
<div class="line">[Wednesday 14 April 2010] [15:39:40] &lt;sustrik&gt;  the code looks more or less correct:</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;  JNIEXPORT void JNICALL Java_org_zeromq_ZMQ_00024Context_construct (JNIEnv <a href="#id87"><span class="problematic" id="id88">*</span></a>env,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;                                                                     jobject obj,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;                                                                     jint app_threads,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:41] &lt;sustrik&gt;                                                                     jint io_threads,</div>
<div class="line">[Wednesday 14 April 2010] [15:39:43] &lt;sustrik&gt;                                                                     jint flags)</div>
<div class="line">[Wednesday 14 April 2010] [15:40:05] &lt;sustrik&gt;  I am not sure what the 00024 thing means...</div>
<div class="line">[Wednesday 14 April 2010] [15:40:39] &lt;jomofo&gt;   I think that must be somehow escaping the &#8216;$&#8217; you usually see with inner classes</div>
<div class="line">[Wednesday 14 April 2010] [15:41:24] &lt;sustrik&gt;  0x24 = $ ?</div>
<div class="line">[Wednesday 14 April 2010] [15:41:31] &lt;sustrik&gt;  lemme see</div>
<div class="line">[Wednesday 14 April 2010] [15:41:51] &lt;jomofo&gt;   yup</div>
<div class="line">[Wednesday 14 April 2010] [15:41:56] &lt;sustrik&gt;  bingo</div>
<div class="line">[Wednesday 14 April 2010] [15:42:30] &lt;jomofo&gt;   But I don&#8217;t know what&#8217;s making that translation or if it&#8217;s possibly broken at runtime?</div>
<div class="line">[Wednesday 14 April 2010] [15:42:49] &lt;sustrik&gt;  shrug</div>
<div class="line">[Wednesday 14 April 2010] [15:43:55] &lt;sustrik&gt;  can you check the prototype of the function in your JNI-generated header file?</div>
<div class="line">[Wednesday 14 April 2010] [15:44:01] &lt;sustrik&gt;  is it the same?</div>
<div class="line">[Wednesday 14 April 2010] [15:44:28] &lt;sustrik&gt;  org_zeromq_ZMQ_Context.h</div>
<div class="line">[Wednesday 14 April 2010] [15:44:47] &lt;jomofo&gt;   JNIEXPORT void JNICALL Java_org_zeromq_ZMQ_00024Context_construct</div>
<div class="line">[Wednesday 14 April 2010] [15:44:47] &lt;jomofo&gt;     (JNIEnv <a href="#id89"><span class="problematic" id="id90">*</span></a>, jobject, jint, jint, jint);</div>
<div class="line">[Wednesday 14 April 2010] [15:46:07] &lt;sustrik&gt;  hm</div>
<div class="line">[Wednesday 14 April 2010] [15:46:33] &lt;sustrik&gt;  let me try here</div>
<div class="line">[Wednesday 14 April 2010] [15:49:02] &lt;sustrik&gt;  yuck, i cannot even build it</div>
<div class="line">[Wednesday 14 April 2010] [15:49:09] &lt;sustrik&gt;  /usr/bin/ld: /usr/local/lib/libzmq.a(libzmq_la-zmq.o): relocation R_X86_64_32 against <a href="#id91"><span class="problematic" id="id92">`</span></a>.rodata&#8217; can not be used when making a shared object; recompile with -fPIC</div>
<div class="line">[Wednesday 14 April 2010] [15:49:09] &lt;sustrik&gt;  /usr/local/lib/libzmq.a: could not read symbols: Bad value</div>
<div class="line">[Wednesday 14 April 2010] [15:51:18] &lt;sophacles&gt;    so with p2p sockets, do i bind/connect or...? (wierd segfaulting issues)</div>
<div class="line">[Wednesday 14 April 2010] [15:51:52] &lt;jomofo&gt;   sustrik: eek, I don&#8217;t get that ... I can build it on Ubuntu 9.04 32-bit and 64-bit</div>
<div class="line">[Wednesday 14 April 2010] [15:52:02] &lt;jomofo&gt;   Does this mean anything to you? <a class="reference external" href="http://stackoverflow.com/1147890/relocation-r-x86-64-32-against-a-local-symbol-error">http://stackoverflow.com/1147890/relocation-r-x86-64-32-against-a-local-symbol-error</a></div>
<div class="line">[Wednesday 14 April 2010] [15:53:38] &lt;sustrik&gt;  page not found</div>
<div class="line">[Wednesday 14 April 2010] [15:54:37] &lt;jomofo&gt;   doh, copy/paste error <a class="reference external" href="http://stackoverflow.com/questions/1147890/relocation-r-x86-64-32-against-a-local-symbol-error">http://stackoverflow.com/questions/1147890/relocation-r-x86-64-32-against-a-local-symbol-error</a></div>
<div class="line">[Wednesday 14 April 2010] [15:58:40] &lt;sustrik&gt;  my fault, i had libzmq compiled with &#8211;disable-shared on my system</div>
<div class="line">[Wednesday 14 April 2010] [15:58:45] &lt;sustrik&gt;  now it builds ok</div>
<div class="line">[Wednesday 14 April 2010] [16:06:17] &lt;sophacles&gt;    ok, better phrasing/more info: when i change the perf example to use P2P sockets, in local_thr, the first call to zmq_recv in the for loop segfaults. it is very odd, as i haven&#8217;t changed anything other than changing the socket type and droping the setsockopt for subscription.</div>
<div class="line">[Wednesday 14 April 2010] [16:08:22] &lt;sustrik&gt;  :(</div>
<div class="line">[Wednesday 14 April 2010] [16:08:31] &lt;sustrik&gt;  P2P are experimental</div>
<div class="line">[Wednesday 14 April 2010] [16:08:47] &lt;sustrik&gt;  there must be some bug there...</div>
<div class="line">[Wednesday 14 April 2010] [16:08:56] &lt;sustrik&gt;  any chance of getting the backtrace?</div>
<div class="line">[Wednesday 14 April 2010] [16:09:20] &lt;sustrik&gt;  jomofo: it seems to work on my box</div>
<div class="line">[Wednesday 14 April 2010] [16:10:35] &lt;sophacles&gt;    I can do that, how do you want the trace?</div>
<div class="line">[Wednesday 14 April 2010] [16:11:06] &lt;sustrik&gt;  just run it under gdb</div>
<div class="line">[Wednesday 14 April 2010] [16:11:10] &lt;sustrik&gt;  when it breaks</div>
<div class="line">[Wednesday 14 April 2010] [16:11:11] &lt;sustrik&gt;  bt</div>
<div class="line">[Wednesday 14 April 2010] [16:16:27] &lt;jomofo&gt;   sustrik: if you don&#8217;t mind, what distro/version/arch is your box running?  It is similarly broken on both of my boxes.  I verified only one copy of libjzmq, but maybe I should try again in a clean VM</div>
<div class="line">[Wednesday 14 April 2010] [16:17:02] &lt;sustrik&gt;  Linux istvan 2.6.31-20-generic #58-Ubuntu SMP Fri Mar 12 04:38:19 UTC 2010 x86_64 GNU/Linux</div>
<div class="line">[Wednesday 14 April 2010] [16:17:45] &lt;sophacles&gt;    sustrik: <a class="reference external" href="http://paste.pocoo.org/show/201908/">http://paste.pocoo.org/show/201908/</a> has my version of local_thr and the gdb output. if you want any other info let me know</div>
<div class="line">[Wednesday 14 April 2010] [16:20:19] &lt;sustrik&gt;  sophacles: created new issue for that (no. 18)</div>
<div class="line">[Wednesday 14 April 2010] [16:20:47] &lt;sustrik&gt;  as for now you&#8217;ll have to do with manually tweaking the sleep(10) thing :(</div>
<div class="line">[Wednesday 14 April 2010] [16:23:37] &lt;sophacles&gt;    before anyone spends too much effort on that issue, it is linked against 2.0.6, which is hte current debian packaged version in Adrian&#8217;s repo. If relevant work has been done since then i can build the latest git repo and try that</div>
<div class="line">[Wednesday 14 April 2010] [17:43:56] &lt;sophacles&gt;    sustrik: i forgot to mention, thanks for the tip about remote_thr/local_thr w/ big message sizes, they fill the pipe w/out maxin the cpu :)</div>
<div class="line">[Wednesday 14 April 2010] [18:07:09] &lt;jomofo&gt;   sustrik: do you use Sun JDK or OpenJDK or ... ?  I don&#8217;t think it matters much, but don&#8217;t want to introduce more variables than I have to</div>
<div class="line">[Wednesday 14 April 2010] [18:07:55] &lt;jomofo&gt;   P.S. I kept saying Ubuntu 9.04 earlier, but it is 9.10 which looks like what you&#8217;re running</div>
<div class="line">[Thursday 15 April 2010] [01:34:14] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * rea18d30 10/ (include/zmq.h src/atomic_ptr.hpp): atomic_ptr fix of Win64 - <a class="reference external" href="http://bit.ly/aJ8j4j">http://bit.ly/aJ8j4j</a></div>
<div class="line">[Thursday 15 April 2010] [01:34:15] &lt;CIA-5&gt; zeromq2: 03Martin Sustrik 07master * r1c33941 10/ (9 files in 9 dirs): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/bQDCHM">http://bit.ly/bQDCHM</a></div>
<div class="line">[Thursday 15 April 2010] [01:49:48] &lt;CIA-5&gt; clrzmq: 03Martin Sustrik 07master * r360286b 10/ clrzmq/zmq.cs : zmq_msg_t size if estimated correctly idependent on microarchitecture used - <a class="reference external" href="http://bit.ly/bDlyVB">http://bit.ly/bDlyVB</a></div>
<div class="line">[Thursday 15 April 2010] [10:42:12] &lt;sophacles&gt; do the latest versions of 0mq compile with -g automatically or something, im suddenly getting glibc backtraces when I blow stuff up.</div>
<div class="line">[Thursday 15 April 2010] [10:56:08] &lt;sustrik&gt;   hm, doesn&#8217;t seem to happen here</div>
<div class="line">[Thursday 15 April 2010] [10:56:09] &lt;sustrik&gt;   /bin/bash ../libtool  &#8211;tag=CXX   &#8211;mode=compile g++ -DHAVE_CONFIG_H -I.   -Werror -pedantic -Wall -D_GNU_SOURCE -D_REENTRANT -D_THREAD_SAFE   -fPIC -MT libzmq_la-downstream.lo -MD -MP -MF .deps/libzmq_la-downstream.Tpo -c -o libzmq_la-downstream.lo <a href="#id93"><span class="problematic" id="id94">`</span></a>test -f &#8216;downstream.cpp&#8217; || echo &#8216;./&#8217;<a href="#id95"><span class="problematic" id="id96">`</span></a>downstream.cpp</div>
<div class="line">[Thursday 15 April 2010] [10:59:33] &lt;sophacles&gt; hmm. must be some wierd debian thing then.</div>
<div class="line">[Thursday 15 April 2010] [10:59:47] &lt;sophacles&gt; there are definately a lot of those :)</div>
<div class="line">[Thursday 15 April 2010] [11:02:51] &lt;sustrik&gt;   do you see the -g option when you compile it?</div>
<div class="line">[Thursday 15 April 2010] [11:10:00] &lt;sophacles&gt; yeah, seems it ends up in CFLAGS in the makefile. Not sure how, but no big deal, i think it&#8217;s what provided the backtrace i recently posted so net win</div>
<div class="line">[Thursday 15 April 2010] [11:22:23] &lt;sustrik&gt;   ok, issue reproduced</div>
<div class="line">[Thursday 15 April 2010] [13:00:44] &lt;mato&gt;  sustrik/sophacles: configure/autotools use -g -O2 with gcc by default</div>
<div class="line">[Thursday 15 April 2010] [13:01:20] &lt;sustrik&gt;   mato: it doesn&#8217;t seem to appear in the command line, see above</div>
<div class="line">[Thursday 15 April 2010] [13:02:15] &lt;mato&gt;  sustrik: that&#8217;s because that command line is not the real compile command, just some libtool/automake dependency-foo</div>
<div class="line">[Thursday 15 April 2010] [13:02:26] &lt;sustrik&gt;   aaah</div>
<div class="line">[Thursday 15 April 2010] [13:02:46] &lt;sustrik&gt;   btw, that makes the binary pretty large, no?</div>
<div class="line">[Thursday 15 April 2010] [13:02:55] &lt;mato&gt;  yes</div>
<div class="line">[Thursday 15 April 2010] [13:03:08] &lt;sustrik&gt;   does it affect resident memory footprint?</div>
<div class="line">[Thursday 15 April 2010] [13:03:25] &lt;mato&gt;  yes</div>
<div class="line">[Thursday 15 April 2010] [13:03:38] &lt;sustrik&gt;   shouldn&#8217;t we turn it off then?</div>
<div class="line">[Thursday 15 April 2010] [13:03:46] &lt;mato&gt;  definitely not by default</div>
<div class="line">[Thursday 15 April 2010] [13:04:02] &lt;sustrik&gt;   can it be turned off?</div>
<div class="line">[Thursday 15 April 2010] [13:05:01] &lt;mato&gt;  not right now, we could add a &#8211;disable-debug or similar option to configure</div>
<div class="line">[Thursday 15 April 2010] [13:05:08] &lt;mato&gt;  which would drop the -g</div>
<div class="line">[Thursday 15 April 2010] [13:05:37] &lt;mato&gt;  also, distribution packagers tend to muck with this</div>
<div class="line">[Thursday 15 April 2010] [13:06:03] &lt;mato&gt;  so for example on debian you will get libzmq0 which is the library w/o debugging symbols and libzmq-dbg or similar which includes them</div>
<div class="line">[Thursday 15 April 2010] [13:06:10] &lt;mato&gt;  i&#8217;m not sure of the exact details</div>
<div class="line">[Thursday 15 April 2010] [13:06:39] &lt;sustrik&gt;   what i mean is that we advertise small memory footprint, so we should at least document how to achieve it...</div>
<div class="line">[Thursday 15 April 2010] [13:07:31] &lt;sustrik&gt;   maybe alongside the instructions for building from git</div>
<div class="line">[Thursday 15 April 2010] [13:11:50] &lt;mato&gt;  hmm, maybe, i don&#8217;t want to muck with it right now</div>
<div class="line">[Thursday 15 April 2010] [13:12:03] &lt;mato&gt;  gets in the way of &#8220;real work&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:14:09] &lt;mato&gt;  sustrik: since you asked:</div>
<div class="line">[Thursday 15 April 2010] [13:14:15] &lt;mato&gt;  [dezo:.libs]$ ls -l libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:15] &lt;mato&gt;  -rwxr-xr-x 1 mato users 1996994 2010-04-15 19:13 libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:24] &lt;mato&gt;  [dezo:.libs]$ strip libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:25] &lt;mato&gt;  [dezo:.libs]$ ls -l libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:25] &lt;mato&gt;  -rwxr-xr-x 1 mato users 260880 2010-04-15 19:14 libzmq.so.0.0.0</div>
<div class="line">[Thursday 15 April 2010] [13:14:34] &lt;mato&gt;  (amd64, w/o pgm)</div>
<div class="line">[Thursday 15 April 2010] [13:14:47] &lt;sustrik&gt;   that&#8217;s -g vs. no g?</div>
<div class="line">[Thursday 15 April 2010] [13:15:04] &lt;mato&gt;  no, that&#8217;s the same library, then i strip the debugging symbols from it</div>
<div class="line">[Thursday 15 April 2010] [13:15:19] &lt;sustrik&gt;   size down by 85%</div>
<div class="line">[Thursday 15 April 2010] [13:15:24] &lt;mato&gt;  yes, of course</div>
<div class="line">[Thursday 15 April 2010] [13:15:45] &lt;mato&gt;  C++ debugging symbols especially take up a lot of space</div>
<div class="line">[Thursday 15 April 2010] [13:16:02] &lt;sustrik&gt;   what about a one-line warning alongside the build instructions?</div>
<div class="line">[Thursday 15 April 2010] [13:16:09] &lt;mato&gt;  what warning?</div>
<div class="line">[Thursday 15 April 2010] [13:16:14] &lt;mato&gt;  what are you warning about?</div>
<div class="line">[Thursday 15 April 2010] [13:16:35] &lt;sustrik&gt;   &#8220;default build contains debugging symbols and thus can take a lot of space&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:16:50] &lt;sustrik&gt;   &#8220;turn if off if you care&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:17:33] &lt;mato&gt;  &#8220;strip your binaries and libzmq.so if you care&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:17:40] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 15 April 2010] [13:17:54] &lt;mato&gt;  you will get people asking &#8220;what is strip&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:18:04] &lt;mato&gt;  anyway, whatever, feel free</div>
<div class="line">[Thursday 15 April 2010] [13:19:43] &lt;mato&gt;  the reason it&#8217;s not the default is if you strip the library/binaries you will not get useful backtraces of any kind</div>
<div class="line">[Thursday 15 April 2010] [13:19:52] &lt;sustrik&gt;   i know</div>
<div class="line">[Thursday 15 April 2010] [13:20:23] &lt;sustrik&gt;   i just dont like false advertising: &#8220;Is thin. The core requires just a couple of pages in resident memory.&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:20:37] &lt;mato&gt;  it&#8217;s your advertising :-)</div>
<div class="line">[Thursday 15 April 2010] [13:20:48] &lt;sustrik&gt;   i&#8217;ve measured it :|</div>
<div class="line">[Thursday 15 April 2010] [13:20:48] &lt;mato&gt;  260k still != &#8220;a couple of pages&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:21:11] &lt;sustrik&gt;   not all of that seems to go to memory</div>
<div class="line">[Thursday 15 April 2010] [13:21:31] &lt;sustrik&gt;   there&#8217;s a lot of linking info afaiu</div>
<div class="line">[Thursday 15 April 2010] [13:21:45] &lt;mato&gt;  of course</div>
<div class="line">[Thursday 15 April 2010] [13:21:52] &lt;mato&gt;  there are ways to measure this</div>
<div class="line">[Thursday 15 April 2010] [13:22:05] &lt;sustrik&gt;   yup</div>
<div class="line">[Thursday 15 April 2010] [13:22:08] &lt;mato&gt;  you could write a couple of paragraphs and link to them from the &#8220;advertisement&#8221;</div>
<div class="line">[Thursday 15 April 2010] [13:22:20] &lt;sustrik&gt;   hm</div>
<div class="line">[Thursday 15 April 2010] [13:22:33] &lt;sustrik&gt;   seems like work</div>
<div class="line">[Thursday 15 April 2010] [13:22:37] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 15 April 2010] [13:22:39] &lt;mato&gt;  :-)</div>
<div class="line">[Thursday 15 April 2010] [13:23:08] &lt;sustrik&gt;   i&#8217;ll put it on my todo list</div>
<div class="line">[Thursday 15 April 2010] [13:23:28] &lt;mato&gt;  that&#8217;s always a good way of resolving &#8220;work&#8221; :-)</div>
<div class="line">[Thursday 15 April 2010] [13:24:05] &lt;mato&gt;  anyway, let&#8217;s wait and see what proposal ph comes up with for the zeromq.org page, he has been promising something</div>
<div class="line">[Thursday 15 April 2010] [18:31:10] &lt;mikko&gt; a lot of changes going into 2.0.7 which also break bwc in places</div>
<div class="line">[Thursday 15 April 2010] [18:31:19] &lt;mikko&gt; should it really be 2.1.0 or 3.0.0?</div>
<div class="line">[Thursday 15 April 2010] [19:00:08] &lt;mato&gt;  mikko: nope, this is why 2.0.6 is still called &#8220;Beta&#8221;</div>
<div class="line">[Thursday 15 April 2010] [19:00:29] &lt;mato&gt;  mikko: the &#8220;Beta&#8221; refers to API/ABI stability rather than code stability.</div>
<div class="line">[Thursday 15 April 2010] [19:09:03] &lt;mikko&gt; mato: just to check, this is correct format: <a class="reference external" href="http://valokuva.org/~mikko/0001-Import-redhat-packaging.patch">http://valokuva.org/~mikko/0001-Import-redhat-packaging.patch</a> ?</div>
<div class="line">[Thursday 15 April 2010] [19:23:36] &lt;mikko&gt; im going to sleep for a while</div>
<div class="line">[Thursday 15 April 2010] [19:23:38] &lt;mikko&gt; -&gt;</div>
<div class="line">[Friday 16 April 2010] [03:53:49] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rd524c4e 10/ doc/zmq_setsockopt.txt : fix of documentation typo - <a class="reference external" href="http://bit.ly/cawYnX">http://bit.ly/cawYnX</a></div>
<div class="line">[Friday 16 April 2010] [04:21:06] &lt;mato&gt;    mikko: that patch looks good to me, yes</div>
<div class="line">[Friday 16 April 2010] [04:21:39] &lt;mikko&gt;   mato: is sed -i portable?</div>
<div class="line">[Friday 16 April 2010] [04:21:43] &lt;mikko&gt;   or is it gnuism</div>
<div class="line">[Friday 16 April 2010] [04:29:43] &lt;mato&gt;    mikko: the POSIX manpage for sed doesn&#8217;t mention -i</div>
<div class="line">[Friday 16 April 2010] [04:29:54] &lt;mikko&gt;   bummer</div>
<div class="line">[Friday 16 April 2010] [04:30:26] &lt;mikko&gt;   sed .. orig  &gt; f.tmp &amp;&amp; cat f.tmp &gt; orig &amp;&amp; rm f.tmp i guess</div>
<div class="line">[Friday 16 April 2010] [04:31:03] &lt;mato&gt;    something like that; i did use RPM packaging on non-Linux systems years ago but i wonder if anyone else does that :)</div>
<div class="line">[Friday 16 April 2010] [04:33:07] &lt;mikko&gt;   i would think it would be safe to assume gsed for now</div>
<div class="line">[Friday 16 April 2010] [04:33:30] &lt;mikko&gt;   &#8220;there is gnuism in linux build files&#8221; kinda makes sense</div>
<div class="line">[Friday 16 April 2010] [05:37:46] &lt;mikko&gt;   redhat packaging sent to lists</div>
<div class="line">[Friday 16 April 2010] [05:38:05] &lt;mikko&gt;   let me know if anything else is needed, i got full day of meetings but should be back this evening</div>
<div class="line">[Friday 16 April 2010] [05:40:06] &lt;mato&gt;    will do, thanks</div>
<div class="line">[Friday 16 April 2010] [07:17:26] &lt;sjampoo&gt; I know hardly anything about multicast, but zmq makes it so easy to use. Are there any pointers somewhere with more information about multicast?</div>
<div class="line">[Friday 16 April 2010] [07:17:40] &lt;sjampoo&gt; Specifically recommendations / its limitations?</div>
<div class="line">[Friday 16 April 2010] [07:18:45] &lt;sjampoo&gt; I am afraid i&#8217;ll run into problems when i create lots of multicast channels, but don&#8217;t know if there is any reason to.</div>
<div class="line">[Friday 16 April 2010] [07:19:42] &lt;sjampoo&gt; fe, i read somewhere that a NIC can handle 15 addresses fine but will into problems when needing to handle more than 100.</div>
<div class="line">[Friday 16 April 2010] [07:21:21] &lt;sustrik&gt; sjampoo: multicast is not easy to manage</div>
<div class="line">[Friday 16 April 2010] [07:21:40] &lt;sustrik&gt; if you don&#8217;t really need it don&#8217;t use ti</div>
<div class="line">[Friday 16 April 2010] [07:21:42] &lt;sustrik&gt; it*</div>
<div class="line">[Friday 16 April 2010] [07:23:40] &lt;sjampoo&gt; aha, so i really should invest some time in the app logic instead of just dumping it on the network.</div>
<div class="line">[Friday 16 April 2010] [07:26:11] &lt;sustrik&gt; ok, multicast:</div>
<div class="line">[Friday 16 April 2010] [07:26:14] &lt;sustrik&gt; 1. only on LAN</div>
<div class="line">[Friday 16 April 2010] [07:26:35] &lt;sustrik&gt; 2. use it only if your traffic exceeds the capacity of the LAN</div>
<div class="line">[Friday 16 April 2010] [07:26:53] &lt;sustrik&gt; 3. you need high-end networking harware</div>
<div class="line">[Friday 16 April 2010] [07:27:12] &lt;sustrik&gt; 4. you can still easily kill your network by overloading it with multicast packets</div>
<div class="line">[Friday 16 April 2010] [07:28:05] &lt;sustrik&gt; 0mq makes it easy NOT to use multicast, simply use PUB/SUB sockets on top of TCP and what you get is basically multicast semantics</div>
<div class="line">[Friday 16 April 2010] [07:30:57] &lt;guido_g&gt; for the price of higher system load, one should mention that</div>
<div class="line">[Friday 16 April 2010] [07:30:57] &lt;sjampoo&gt; I agree with that, but you still need some sort of DS to manage the socket connections, when using multicast you could just dump it on a channel and let the network figure it out. That makes it so tempting.</div>
<div class="line">[Friday 16 April 2010] [07:31:59] &lt;guido_g&gt; what about something unicast on top of udp? would at least make lots of subscriptions more ressource friendly, wouldn&#8217;t it?</div>
<div class="line">[Friday 16 April 2010] [07:37:43] &lt;sjampoo&gt; ill stay away from multicast for now, thanks for the info</div>
<div class="line">[Friday 16 April 2010] [07:37:50] &lt;sustrik&gt; sjampoo: you can do the same thing with PUB socket, no? Just dump your data to the socket and let 0mq do the work</div>
<div class="line">[Friday 16 April 2010] [07:37:56] &lt;sustrik&gt; you are welcome</div>
<div class="line">[Friday 16 April 2010] [07:39:04] &lt;sjampoo&gt; sustrik, well with multicast you could have 2 servers publish to a channel and a single subscriber all without extra logic</div>
<div class="line">[Friday 16 April 2010] [07:39:17] &lt;sjampoo&gt; In unicast you need to subscribe to the 2 servers</div>
<div class="line">[Friday 16 April 2010] [07:39:23] &lt;sustrik&gt; ah, multicast bus</div>
<div class="line">[Friday 16 April 2010] [07:39:47] &lt;sjampoo&gt; yes, thats really tempting</div>
<div class="line">[Friday 16 April 2010] [07:39:50] &lt;sustrik&gt; consider that that moves a lot of logic to your application</div>
<div class="line">[Friday 16 April 2010] [07:40:00] &lt;sustrik&gt; who does the message come from?</div>
<div class="line">[Friday 16 April 2010] [07:40:05] &lt;sustrik&gt; what should i do with it?</div>
<div class="line">[Friday 16 April 2010] [07:40:32] &lt;sustrik&gt; what if one of the senders fails while i am in the middle of transaction</div>
<div class="line">[Friday 16 April 2010] [07:40:33] &lt;sustrik&gt; etc.</div>
<div class="line">[Friday 16 April 2010] [07:42:33] &lt;guido_g&gt; sorry for my ignorance, but the other transports also have issues w/ the probs shown, right?</div>
<div class="line">[Friday 16 April 2010] [07:43:20] &lt;sjampoo&gt; Doesn&#8217;t zmq take care of the nasty parts already?</div>
<div class="line">[Friday 16 April 2010] [07:44:04] &lt;sustrik&gt; what i meant is that several publishers publishing to the same &#8220;group&#8221; is almost an antipattern</div>
<div class="line">[Friday 16 April 2010] [07:44:42] &lt;sustrik&gt; it can be used in some constrained scenarios</div>
<div class="line">[Friday 16 April 2010] [07:44:46] &lt;sjampoo&gt; i am thinking about distributed logging fe</div>
<div class="line">[Friday 16 April 2010] [07:45:07] &lt;guido_g&gt; ahh, here the bus semantic is really useful, imho</div>
<div class="line">[Friday 16 April 2010] [07:45:21] &lt;sustrik&gt; well, then you have just one logger no?</div>
<div class="line">[Friday 16 April 2010] [07:45:26] &lt;guido_g&gt; no</div>
<div class="line">[Friday 16 April 2010] [07:45:51] &lt;guido_g&gt; think about specialised clients that do filtering, storing etc.</div>
<div class="line">[Friday 16 April 2010] [07:46:21] &lt;sjampoo&gt; exactly</div>
<div class="line">[Friday 16 April 2010] [07:46:28] &lt;guido_g&gt; i.e. one could attach a special looger to the system to find a bug w/o changeing hte behaviour of the system</div>
<div class="line">[Friday 16 April 2010] [07:48:03] &lt;sustrik&gt; sure, if you don&#8217;t care about system producing log messages all the time, even when not needed, it should work</div>
<div class="line">[Friday 16 April 2010] [07:48:57] &lt;guido_g&gt; this is what&#8217;s recommended anyway</div>
<div class="line">[Friday 16 April 2010] [07:49:42] &lt;guido_g&gt; most of the larger sites don&#8217;t have log-levels anymore, when it&#8217;s true what&#8217;s published about them</div>
<div class="line">[Friday 16 April 2010] [07:50:40] &lt;guido_g&gt; infoq.com and highscalability.com do have articels/videos about that topic</div>
<div class="line">[Friday 16 April 2010] [07:51:04] &lt;sustrik&gt; feel free to post the links on the mailing list</div>
<div class="line">[Friday 16 April 2010] [07:51:20] &lt;guido_g&gt; ok</div>
<div class="line">[Friday 16 April 2010] [07:51:43] &lt;guido_g&gt; does posting via gmane work? i&#8217;m  reading via gmane</div>
<div class="line">[Friday 16 April 2010] [07:52:13] &lt;sustrik&gt; no idea, give it a try</div>
<div class="line">[Friday 16 April 2010] [07:52:19] &lt;guido_g&gt; i&#8217;ll do</div>
<div class="line">[Friday 16 April 2010] [09:20:27] &lt;sustrik&gt; guid_g: no lock?</div>
<div class="line">[Friday 16 April 2010] [09:20:29] &lt;sustrik&gt; luck*</div>
<div class="line">[Friday 16 April 2010] [09:21:36] &lt;guido_g&gt; sustrik: lock?</div>
<div class="line">[Friday 16 April 2010] [09:21:51] &lt;guido_g&gt; luck with what?</div>
<div class="line">[Friday 16 April 2010] [09:22:17] &lt;sustrik&gt; sending the email?</div>
<div class="line">[Friday 16 April 2010] [09:22:18] &lt;guido_g&gt; if you meen the links, i just came home from work and started the search</div>
<div class="line">[Friday 16 April 2010] [09:22:28]    * guido_g should type faster :)</div>
<div class="line">[Friday 16 April 2010] [09:22:45] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 16 April 2010] [09:23:04] &lt;guido_g&gt; <a class="reference external" href="http://delicious.com/guido_g/logging">http://delicious.com/guido_g/logging</a>  &lt;- in principle :)</div>
<div class="line">[Friday 16 April 2010] [09:23:21] &lt;guido_g&gt; but i&#8217;ll write a wrap-up</div>
<div class="line">[Friday 16 April 2010] [09:24:03] &lt;sustrik&gt; thanks</div>
<div class="line">[Friday 16 April 2010] [10:18:55] &lt;guido_g&gt; sustrik: news posting sent</div>
<div class="line">[Friday 16 April 2010] [10:33:22] &lt;sustrik&gt; nothing arrived yet.. let&#8217;s wait a while</div>
<div class="line">[Friday 16 April 2010] [10:33:46] &lt;guido_g&gt; yep, sure</div>
<div class="line">[Friday 16 April 2010] [10:37:56] &lt;guido_g&gt; btw, we talked about lots of servers, right? this is the current status of _lots_: <a class="reference external" href="http://www.intac.net/a-comparison-of-dedicated-servers-by-company_2010-04-13/">http://www.intac.net/a-comparison-of-dedicated-servers-by-company_2010-04-13/</a>   :)</div>
<div class="line">[Friday 16 April 2010] [10:42:31] &lt;sustrik&gt; still, if all the 1M google servers would start logging using multicast :)</div>
<div class="line">[Friday 16 April 2010] [10:43:00] &lt;guido_g&gt; hmmm...</div>
<div class="line">[Friday 16 April 2010] [10:43:33] &lt;guido_g&gt; at least, multicast would be much more prominent then</div>
<div class="line">[Friday 16 April 2010] [11:02:10] &lt;jomofo&gt;  Is something akin to TLS out of scope for 0MQ?   (Just performing thought experiments to better understand the architecture)</div>
<div class="line">[Friday 16 April 2010] [11:02:54] &lt;sustrik&gt; jomofo: what&#8217;s the idea?</div>
<div class="line">[Friday 16 April 2010] [11:05:11] &lt;jomofo&gt;  sustrik: Just thinking for a health care application or something along those lines you might want authentication and encryption on the wire.  Just wondering if it&#8217;s within the architectural constraints of 0mq to provide a TLS transport, or if this is something you need to do in the application protocol</div>
<div class="line">[Friday 16 April 2010] [11:05:51] &lt;jomofo&gt;  Not really an enhancement request, per se, but just trying to wrap my head around some of the abstractions</div>
<div class="line">[Friday 16 April 2010] [11:06:29] &lt;mikko&gt;   the question about TLS seems to come up fairly often</div>
<div class="line">[Friday 16 April 2010] [11:07:39] &lt;sustrik&gt; yep, but i&#8217;m not the right person to ask, i have very little security experience</div>
<div class="line">[Friday 16 April 2010] [11:07:52] &lt;sustrik&gt; maybe discussing it on list would help?</div>
<div class="line">[Friday 16 April 2010] [11:08:42] &lt;jomofo&gt;  sure, i&#8217;ll send something to the list</div>
<div class="line">[Saturday 17 April 2010] [03:44:54] &lt;guido_g&gt;   just compild 0mq, tried epgm, doesn&#8217;t work <em>grml</em></div>
<div class="line">[Saturday 17 April 2010] [03:55:18] &lt;guido_g&gt;   <a class="reference external" href="mailto:guido&#37;&#52;&#48;nathan">guido<span>&#64;</span>nathan</a>:~/prog/apps/zmq-trunk/perf$ ./local_thr epgm://eth0;239.1.1.1:5000 800 1000000</div>
<div class="line">[Saturday 17 April 2010] [03:55:18] &lt;guido_g&gt;   Assertion failed: false (pgm_socket.cpp:130)</div>
<div class="line">[Saturday 17 April 2010] [03:55:18] &lt;guido_g&gt;   Aborted</div>
<div class="line">[Saturday 17 April 2010] [03:55:26] &lt;guido_g&gt;   should work, shouldn&#8217;t it?</div>
<div class="line">[Saturday 17 April 2010] [04:02:05]      * guido_g stupid</div>
<div class="line">[Saturday 17 April 2010] [04:02:06] &lt;guido_g&gt;   forgot to set ZMQ_RATE</div>
<div class="line">[Saturday 17 April 2010] [04:50:45] &lt;sustrik&gt;   guido_g: still, it shouldn&#8217;t assert</div>
<div class="line">[Saturday 17 April 2010] [04:51:10] &lt;sustrik&gt;   can you possibly find out what error did OpenPGM returned that caused the assert?</div>
<div class="line">[Saturday 17 April 2010] [04:52:30] &lt;guido_g&gt;   omg, multicast kills the wifi router :(</div>
<div class="line">[Saturday 17 April 2010] [04:52:50] &lt;sustrik&gt;   yes, it does :)</div>
<div class="line">[Saturday 17 April 2010] [04:53:15] &lt;sustrik&gt;   set the rate to very low to keep it alive</div>
<div class="line">[Saturday 17 April 2010] [04:53:56] &lt;guido_g&gt;   i turned wifi of, now it works</div>
<div class="line">[Saturday 17 April 2010] [04:54:26] &lt;guido_g&gt;   <em>sigh</em></div>
<div class="line">[Saturday 17 April 2010] [04:54:35] &lt;guido_g&gt;   the world is not ready for multicast</div>
<div class="line">[Saturday 17 April 2010] [04:56:20] &lt;guido_g&gt;   <a class="reference external" href="mailto:guido&#37;&#52;&#48;nathan">guido<span>&#64;</span>nathan</a>:~/prog/apps/zmq-trunk/perf$ ./local_thr epgm://192.168.1.5;239.1.1.1:5000 500 100000</div>
<div class="line">[Saturday 17 April 2010] [04:56:20] &lt;guido_g&gt;   receiving first</div>
<div class="line">[Saturday 17 April 2010] [04:56:21] &lt;guido_g&gt;   received first</div>
<div class="line">[Saturday 17 April 2010] [04:56:21] &lt;guido_g&gt;   starting</div>
<div class="line">[Saturday 17 April 2010] [04:56:22] &lt;guido_g&gt;   msg_count: 10000</div>
<div class="line">[Saturday 17 April 2010] [04:56:24] &lt;guido_g&gt;   msg_count: 20000</div>
<div class="line">[Saturday 17 April 2010] [04:56:26] &lt;guido_g&gt;   <strong>* glibc detected *</strong> /home/guido/prog/apps/zmq-trunk/perf/.libs/lt-local_thr: malloc(): memory corruption: 0xb7205100 <a href="#id97"><span class="problematic" id="id98">**</span></a><a href="#id99"><span class="problematic" id="id100">*</span></a></div>
<div class="line">[Saturday 17 April 2010] [04:56:29] &lt;guido_g&gt;   message of incorrect size received</div>
<div class="line">[Saturday 17 April 2010] [04:56:31] &lt;guido_g&gt;   ======= Backtrace: =========</div>
<div class="line">[Saturday 17 April 2010] [04:56:33] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6[0xb7c7e824]</div>
<div class="line">[Saturday 17 April 2010] [04:56:37] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6[0xb7c812cb]</div>
<div class="line">[Saturday 17 April 2010] [04:56:39] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6[0xb7c82072]</div>
<div class="line">[Saturday 17 April 2010] [04:56:41] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6(__libc_memalign+0x9c)[0xb7c8369c]</div>
<div class="line">[Saturday 17 April 2010] [04:56:43] &lt;guido_g&gt;   /lib/i686/cmov/libc.so.6(posix_memalign+0x57)[0xb7c838e7]</div>
<div class="line">[Saturday 17 April 2010] [04:56:45] &lt;guido_g&gt;   /lib/libglib-2.0.so.0[0xb7ba506e]</div>
<div class="line">[Saturday 17 April 2010] [04:56:47] &lt;guido_g&gt;   /lib/libglib-2.0.so.0(g_slice_alloc+0x663)[0xb7ba6003]</div>
<div class="line">[Saturday 17 April 2010] [04:56:49] &lt;guido_g&gt;   /lib/libglib-2.0.so.0(g_slist_prepend+0x12)[0xb7ba7202]</div>
<div class="line">[Saturday 17 April 2010] [04:56:55] &lt;guido_g&gt;   nice one</div>
<div class="line">[Saturday 17 April 2010] [04:58:57] &lt;sustrik&gt;   looks like OpenPGM bug, 0MQ itself doesn&#8217;t use glib</div>
<div class="line">[Saturday 17 April 2010] [04:59:31] &lt;guido_g&gt;   ah thx</div>
<div class="line">[Saturday 17 April 2010] [05:04:36] &lt;guido_g&gt;   ok, and now for the python bindings...</div>
<div class="line">[Saturday 17 April 2010] [05:19:03] &lt;guido_g&gt;   yes! success! :)</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   message size: 500 [B]</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   array count: 100000</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   mean throughput: 97087 [msg/s]</div>
<div class="line">[Saturday 17 April 2010] [05:19:27] &lt;guido_g&gt;   mean throughput: 388.350 [Mb/s]</div>
<div class="line">[Saturday 17 April 2010] [05:20:43] &lt;sustrik&gt;   :)</div>
<div class="line">[Saturday 17 April 2010] [05:21:24]      * guido_g is happy</div>
<div class="line">[Tuesday 20 April 2010] [06:58:26] &lt;sjampoo&gt;    Quick question, zmq_msg_init_data(3) is relatively cheap to call right?</div>
<div class="line">[Tuesday 20 April 2010] [06:59:44] &lt;sjampoo&gt;    run in to the following issue, while working with Python bindings and non-copy. I want resend a message received with zmq_recv, but i think i have to reinit that with zmq_msg_init_data to get access to the callback</div>
<div class="line">[Tuesday 20 April 2010] [07:01:34] &lt;sjampoo&gt;    Because if i just resend the received message again without explicitly closing+reinitiazing it i can run in all sorts of problems.</div>
<div class="line">[Tuesday 20 April 2010] [07:07:14] &lt;sustrik&gt;    sjampoo: i don&#8217;t know how pyzmq works</div>
<div class="line">[Tuesday 20 April 2010] [07:07:21] &lt;sustrik&gt;    however, with raw C API</div>
<div class="line">[Tuesday 20 April 2010] [07:07:31] &lt;sustrik&gt;    sending a message deinitialises it</div>
<div class="line">[Tuesday 20 April 2010] [07:07:56] &lt;sustrik&gt;    there&#8217;s no copy made, existing copy is sent to I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:08:14] &lt;sustrik&gt;    if you want to send the same message to multiple sockets</div>
<div class="line">[Tuesday 20 April 2010] [07:08:19] &lt;sustrik&gt;    you have to copy it</div>
<div class="line">[Tuesday 20 April 2010] [07:08:25] &lt;sustrik&gt;    (zmg_msg_copy)</div>
<div class="line">[Tuesday 20 April 2010] [07:08:39] &lt;sjampoo&gt;    aha</div>
<div class="line">[Tuesday 20 April 2010] [07:08:48] &lt;sustrik&gt;    note that zmq_msg_copy actually just adds refcount rather than doing deep copy</div>
<div class="line">[Tuesday 20 April 2010] [07:09:09] &lt;sjampoo&gt;    Yes.</div>
<div class="line">[Tuesday 20 April 2010] [07:09:36] &lt;sjampoo&gt;    why is the callback function attached to the message and not to the close call?</div>
<div class="line">[Tuesday 20 April 2010] [07:13:04] &lt;sustrik&gt;    message is handed to the I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:13:18] &lt;sustrik&gt;    once that&#8217;s done user cannot access it</div>
<div class="line">[Tuesday 20 April 2010] [07:13:30] &lt;sustrik&gt;    so he has no way to supply the free function</div>
<div class="line">[Tuesday 20 April 2010] [07:32:51] &lt;sjampoo&gt;    hmm it makes a little bit more sense now, i never understood the existence of msg_copy and msg_move</div>
<div class="line">[Tuesday 20 April 2010] [07:33:38] &lt;sjampoo&gt;    So, what do you mean with de-initializes the message on send? What would happen if you would still send the message with the C-api?</div>
<div class="line">[Tuesday 20 April 2010] [07:35:43] &lt;sustrik&gt;    it would be empty</div>
<div class="line">[Tuesday 20 April 2010] [07:35:53] &lt;sustrik&gt;    the whole point is zero-copy</div>
<div class="line">[Tuesday 20 April 2010] [07:35:59] &lt;sustrik&gt;    message object owns a buffer</div>
<div class="line">[Tuesday 20 April 2010] [07:36:17] &lt;sustrik&gt;    when you send the message, buffer is passed to the I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:36:34] &lt;sustrik&gt;    message has no buffer any more</div>
<div class="line">[Tuesday 20 April 2010] [07:39:21] &lt;sjampoo&gt;    Okay, say i&#8217;ll have a message M1 i will have to copy it to M2 before sending M1 out. Now what does happen if i send M1?</div>
<div class="line">[Tuesday 20 April 2010] [07:39:52] &lt;sjampoo&gt;    M2 is just a pointer to M1 I believe with an added ref. count to M1</div>
<div class="line">[Tuesday 20 April 2010] [07:44:43] &lt;sustrik&gt;    exactly</div>
<div class="line">[Tuesday 20 April 2010] [07:46:12] &lt;sjampoo&gt;    but then, if i have send M1 out, M2 would point to a deinitialzed message right?</div>
<div class="line">[Tuesday 20 April 2010] [07:52:08] &lt;sustrik&gt;    actually bith M1 and M2 point to shared buffer</div>
<div class="line">[Tuesday 20 April 2010] [07:52:46] &lt;sustrik&gt;    ref count is 2</div>
<div class="line">[Tuesday 20 April 2010] [07:52:50] &lt;sustrik&gt;    then you send M1</div>
<div class="line">[Tuesday 20 April 2010] [07:53:06] &lt;sustrik&gt;    M1 is deinitialised, but the buffer is passed to I/O thread</div>
<div class="line">[Tuesday 20 April 2010] [07:53:09] &lt;sustrik&gt;    refcount is still 2</div>
<div class="line">[Tuesday 20 April 2010] [07:53:40] &lt;sustrik&gt;    when I/O thread sends the message it doesn&#8217;t need it any more so it decerements the refcount and drops the pointer</div>
<div class="line">[Tuesday 20 April 2010] [07:53:51] &lt;sustrik&gt;    now the refcount is 1</div>
<div class="line">[Tuesday 20 April 2010] [07:54:02] &lt;sustrik&gt;    (only M2 points to the buffer)</div>
<div class="line">[Tuesday 20 April 2010] [08:32:12] &lt;sjampoo&gt;    ok, got it. thanks for the info.</div>
<div class="line">[Tuesday 20 April 2010] [09:37:40] &lt;pieter_hintjens&gt;    anyone familiar with MPI or OpenMP?</div>
<div class="line">[Tuesday 20 April 2010] [09:37:48] &lt;pieter_hintjens&gt;    especially how these compare to 0MQ...</div>
<div class="line">[Tuesday 20 April 2010] [10:04:07] &lt;sustrik&gt;    pieter: i have a dim idea</div>
<div class="line">[Tuesday 20 April 2010] [10:11:44] &lt;sophacles&gt;  pieter_hintjens: compare in a numbers/performance sense or compare in a user interface (api) sense?</div>
<div class="line">[Tuesday 20 April 2010] [10:12:36] &lt;sophacles&gt;  in the case of the latter, 0mq is nicer for pure messaging, but mpi does cool rpc and call balancing stuff for you... it really depends on the use case</div>
<div class="line">[Tuesday 20 April 2010] [10:14:33] &lt;sophacles&gt;  also mpi has semantics for addressing remote memory a bit easier, so its real nice for distributed matrix multiplies and the like</div>
<div class="line">[Tuesday 20 April 2010] [10:16:58] &lt;sophacles&gt;  the downside to mpi is that unless you really need the features for parallel computing, it is way too complex.</div>
<div class="line">[Tuesday 20 April 2010] [10:41:26] &lt;pieter_hintjens&gt;    sophacles: thanks, this is helpful</div>
<div class="line">[Tuesday 20 April 2010] [10:43:52] &lt;sophacles&gt;  y/w</div>
<div class="line">[Tuesday 20 April 2010] [12:13:26] &lt;<a href="#id121"><span class="problematic" id="id155">mikko__</span></a>&gt;    hello</div>
<div class="line">[Tuesday 20 April 2010] [12:13:38] &lt;sophacles&gt;  oh cool: talk tomorrow titled: Towards Secure Message Systems. ill send the list my notes :) (also if anyone is in the middle of illinois i can send you details)</div>
<div class="line">[Tuesday 20 April 2010] [12:15:31] &lt;sustrik&gt;    <a href="#id121"><span class="problematic" id="id156">mikko__</span></a>: hi</div>
<div class="line">[Tuesday 20 April 2010] [12:15:51] &lt;sustrik&gt;    sophacles: sounds interesting</div>
<div class="line">[Tuesday 20 April 2010] [12:25:14] &lt;sophacles&gt;  yeah the abstract is a little.. er.. abstrct, so im only 50% on if it actually applies to 0mq but there is also pizza there, so i figured at worst i still get lunch out of it.</div>
<div class="line">[Wednesday 21 April 2010] [06:22:28] &lt;sjampoo&gt;  awesome, got PyZMQ working without message copying, even with acquiring and releasing the GIL it isn&#8217;t slower on small messages and about twice as fast on messages larger than 512K</div>
<div class="line">[Wednesday 21 April 2010] [06:22:57] &lt;sustrik&gt;  sjampoo: is that a patch to pyzmq?</div>
<div class="line">[Wednesday 21 April 2010] [06:23:03] &lt;sjampoo&gt;  yes</div>
<div class="line">[Wednesday 21 April 2010] [06:23:20] &lt;sjampoo&gt;  haven&#8217;t committed it yet.</div>
<div class="line">[Wednesday 21 April 2010] [06:23:48] &lt;sjampoo&gt;  I want to have a chat with Brian first changed a few things</div>
<div class="line">[Wednesday 21 April 2010] [06:24:07] &lt;sustrik&gt;  can it in be made switching from copy to non-copy depending on message size?</div>
<div class="line">[Wednesday 21 April 2010] [06:24:52] &lt;sjampoo&gt;  I don&#8217;t see any reason too, it is even faster on smaller messages!</div>
<div class="line">[Wednesday 21 April 2010] [06:25:04] &lt;sjampoo&gt;  So there hardly seems to be any locking overhead</div>
<div class="line">[Wednesday 21 April 2010] [06:25:12] &lt;sustrik&gt;  ah, i see</div>
<div class="line">[Wednesday 21 April 2010] [06:25:32] &lt;sustrik&gt;  anyway, nice work!</div>
<div class="line">[Wednesday 21 April 2010] [06:26:02] &lt;sjampoo&gt;  it works now with a message object instead of a string</div>
<div class="line">[Wednesday 21 April 2010] [06:26:12] &lt;sjampoo&gt;  so you could also pass it directly a buffer</div>
<div class="line">[Wednesday 21 April 2010] [06:26:49] &lt;sustrik&gt;  how does the buffer get deallocated?</div>
<div class="line">[Wednesday 21 April 2010] [06:26:54] &lt;sjampoo&gt;  I think this will allow for neat stuff such as Tee-ing from a regular TCP socket buffer and than feeding it to ZMQ</div>
<div class="line">[Wednesday 21 April 2010] [06:27:13] &lt;sjampoo&gt;  I use the callback function to decrease the reference count</div>
<div class="line">[Wednesday 21 April 2010] [06:27:30] &lt;sjampoo&gt;  (the python ref. count)</div>
<div class="line">[Wednesday 21 April 2010] [06:27:34] &lt;sustrik&gt;  python refcount?</div>
<div class="line">[Wednesday 21 April 2010] [06:27:38] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 21 April 2010] [06:28:11] &lt;sustrik&gt;  doesn&#8217;t python object about decreasing the ref count from a different thread?</div>
<div class="line">[Wednesday 21 April 2010] [06:28:16] &lt;sjampoo&gt;  and i artificially increase the python ref. count prior to setting the call back</div>
<div class="line">[Wednesday 21 April 2010] [06:28:23] &lt;sjampoo&gt;  Well the callback acquires the GIL</div>
<div class="line">[Wednesday 21 April 2010] [06:28:41] &lt;sjampoo&gt;  (The Python Global Interpreter Lock)</div>
<div class="line">[Wednesday 21 April 2010] [06:29:07] &lt;sjampoo&gt;  so there only runs one Python Thread at all time</div>
<div class="line">[Wednesday 21 April 2010] [06:29:58] &lt;sustrik&gt;  the lock is held all the time from invoking send to message being deallocated?</div>
<div class="line">[Wednesday 21 April 2010] [06:30:51] &lt;sustrik&gt;  ... to free function being called?</div>
<div class="line">[Wednesday 21 April 2010] [06:30:58] &lt;sjampoo&gt;  the lock gets released on blocking calls</div>
<div class="line">[Wednesday 21 April 2010] [06:31:09] &lt;sjampoo&gt;  and on calls to zmq_send / zmq_recv etc..</div>
<div class="line">[Wednesday 21 April 2010] [06:31:52] &lt;sjampoo&gt;  not sure if that answers your question</div>
<div class="line">[Wednesday 21 April 2010] [06:32:11] &lt;sustrik&gt;  what i meant is &#8216;how long it the lock held&#8217;</div>
<div class="line">[Wednesday 21 April 2010] [06:32:30] &lt;sjampoo&gt;  Oh right you are worrying about me overwriting the buffer right prior to the message being dequeued by ZMQ ?</div>
<div class="line">[Wednesday 21 April 2010] [06:32:41] &lt;sustrik&gt;  say if the peer is offline and the message cannot be sent for a prolonged time</div>
<div class="line">[Wednesday 21 April 2010] [06:33:06] &lt;sustrik&gt;  i meant, what if message stays in a queue for an hour</div>
<div class="line">[Wednesday 21 April 2010] [06:33:19] &lt;sjampoo&gt;  Then the message object will stay alive</div>
<div class="line">[Wednesday 21 April 2010] [06:33:25] &lt;sustrik&gt;  does that block all python threads for 1 hour?</div>
<div class="line">[Wednesday 21 April 2010] [06:33:31] &lt;sjampoo&gt;  No no</div>
<div class="line">[Wednesday 21 April 2010] [06:37:30] &lt;sjampoo&gt;  Python will just keep on running and doing its stuff in its own separate thread, meanwhile all Python references set by the user might be gone, but Python will not garbage collect it.</div>
<div class="line">[Wednesday 21 April 2010] [06:37:56] &lt;sjampoo&gt;  the message object itself is immutable</div>
<div class="line">[Wednesday 21 April 2010] [06:40:27] &lt;sustrik&gt;  great</div>
<div class="line">[Wednesday 21 April 2010] [06:42:23] &lt;sjampoo&gt;  The only thing that could mess it up is when you have an external blocking call which doesn&#8217;t release the GIL.</div>
<div class="line">[Wednesday 21 April 2010] [06:42:48] &lt;sjampoo&gt;  This would of course block the Python thread, but I think it could also block the ZMQ thread as the callback will hang.</div>
<div class="line">[Wednesday 21 April 2010] [06:47:22] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 21 April 2010] [06:59:10] &lt;guido_g&gt;  whooo... sounds great!</div>
<div class="line">[Wednesday 21 April 2010] [11:32:56] &lt;sjampoo&gt;  i&#8217;ve plotted the latency results btw <a class="reference external" href="http://nichol.as/wp-content/latency.png">http://nichol.as/wp-content/latency.png</a></div>
<div class="line">[Wednesday 21 April 2010] [11:34:27] &lt;guido_g&gt;  looks good</div>
<div class="line">[Wednesday 21 April 2010] [11:48:31] &lt;sjampoo&gt;  right now i have an api something like this: m = Message(&#8216;blabla&#8217;)</div>
<div class="line">[Wednesday 21 April 2010] [11:48:37] &lt;sjampoo&gt;  s.send(m)</div>
<div class="line">[Wednesday 21 April 2010] [11:48:45] &lt;sjampoo&gt;  I wonder if Message is the right name</div>
<div class="line">[Wednesday 21 April 2010] [11:49:42] &lt;sjampoo&gt;  On the one hand, if you send a message you do not really have it anymore</div>
<div class="line">[Wednesday 21 April 2010] [11:50:38] &lt;sjampoo&gt;  just as in real life, but it might be a little bit counter intuitive if you come across it for the first time in the object sense</div>
<div class="line">[Thursday 22 April 2010] [06:06:30] &lt;sjampoo&gt;   Lets say I have multiple servers and i want to simulate the multicast bus, would it make sense to have them discover each other by using multicast and then have all the servers connect to each other?</div>
<div class="line">[Thursday 22 April 2010] [06:09:09] &lt;sjampoo&gt;   Now, if i also want to have several &#8216;message groups&#8217; (in a pub/sub setting) i can set the message filter with setsockopt. But i will have to do this for all the server it subscribes to, right?</div>
<div class="line">[Thursday 22 April 2010] [07:48:36] &lt;b0gg1e&gt;    Hello!</div>
<div class="line">[Thursday 22 April 2010] [07:49:30] &lt;b0gg1e&gt;    Is it possible to transplant a socket pointer between threads?</div>
<div class="line">[Thursday 22 April 2010] [07:49:56] &lt;b0gg1e&gt;    How does one use zeromq in an actor-like runtime environment where lightweight threads get scheduled to arbitrary threads?</div>
<div class="line">[Thursday 22 April 2010] [08:06:01] &lt;b0gg1e&gt;    I&#8217;m asking this because I wonder what would be the best way to write zmq bindings for the go language.  Go has lightweight processes that get scheduled by the runtime to some thread pool. So one can not easily ensure that the thread that is using a socket is the one that created it.  What I would like to say is: &#8220;Use this socket from now on in this thread, I promise to not use it from some other thread concurrently.&#8221;</div>
<div class="line">[Thursday 22 April 2010] [09:27:57] &lt;guido_g&gt;   re</div>
<div class="line">[Thursday 22 April 2010] [11:59:05] &lt;bgranger&gt;  sustrik: hi</div>
<div class="line">[Friday 23 April 2010] [15:29:34] &lt;sophacles&gt;   Does 0mq have a google summer of code thing?</div>
<div class="line">[Friday 23 April 2010] [15:31:02] &lt;sophacles&gt;   also, regarding research stuff previously discussed, I was given the greenlight to put some stuff to our students mailing list, but need a bit more in the way of guided ideas for research.</div>
<div class="line">[Friday 23 April 2010] [15:31:45] &lt;sophacles&gt;   also there may be some other interest but thats waiting on responses to followup emails :)</div>
<div class="line">[Friday 23 April 2010] [15:32:20] &lt;sophacles&gt;   (i finally cornered some people if you couldn&#8217;t tell &#8211; i now hate the all-hands meetings slightly less)</div>
<div class="line">[Friday 23 April 2010] [17:07:04] &lt;jomofo&gt;  are there any known race conditions in zeromq2 HEAD for TCP transport over REQ/REP sockets?</div>
<div class="line">[Friday 23 April 2010] [17:08:55] &lt;jomofo&gt;  I have a single-threaded server, multi-threaded client using jzmq ... Can both crash and deadlock JVM pretty consistently against HEAD, but not against 2.0.6 release</div>
<div class="line">[Saturday 24 April 2010] [16:42:13] &lt;unomystEz&gt; hey all</div>
<div class="line">[Saturday 24 April 2010] [16:42:41] &lt;unomystEz&gt; anyone here developing ultra high-frequency pipelines with zeromq?</div>
<div class="line">[Saturday 24 April 2010] [18:20:38] &lt;sustrik&gt;   hi</div>
<div class="line">[Saturday 24 April 2010] [18:20:49]      * sustrik is back from abroad</div>
<div class="line">[Saturday 24 April 2010] [18:21:39] &lt;sustrik&gt;   sophacles: the research ideas - sure, i&#8217;ll put some down tomorrow, however, we&#8217;ll have to discuss it to make it suitable for students</div>
<div class="line">[Saturday 24 April 2010] [18:21:46] &lt;sustrik&gt;   no summer of code, sorry</div>
<div class="line">[Saturday 24 April 2010] [18:21:58] &lt;sustrik&gt;   i&#8217;ve missed the deadline this year :(</div>
<div class="line">[Saturday 24 April 2010] [18:22:19] &lt;sustrik&gt;   jomofo: please, send the report to the mailing list</div>
<div class="line">[Saturday 24 April 2010] [18:22:25] &lt;sustrik&gt;   or open an issue at github</div>
<div class="line">[Saturday 24 April 2010] [18:30:45] &lt;jomofo&gt;    sustrik: I think I will just build on top of 2.0.6 and wait for your next beta/RC before bug testing it ... Problem is, I&#8217;m sort of learning the Linux C++ toolchain on the fly here, so I don&#8217;t want to bother you with issues with my setup</div>
<div class="line">[Saturday 24 April 2010] [18:31:17] &lt;jomofo&gt;    PS, welcome back. Where did you go?</div>
<div class="line">[Saturday 24 April 2010] [21:33:05] &lt;unomystEz&gt; hey guys</div>
<div class="line">[Saturday 24 April 2010] [21:33:49] &lt;unomystEz&gt; anyone know of a good document that describes low-latency networking at the kernel level? ie, packet comes in the NIC, through the driver, in the kernel, etc..</div>
<div class="line">[Sunday 25 April 2010] [01:39:14] &lt;sustrik&gt; jomofo: ok, it&#8217;s your call</div>
<div class="line">[Sunday 25 April 2010] [01:39:26] &lt;sustrik&gt; back from london</div>
<div class="line">[Sunday 25 April 2010] [01:39:56] &lt;sustrik&gt; <a href="#id121"><span class="problematic" id="id157">mikko__</span></a>: sorry, it was just a roundtrip, no evening spare for having a beer</div>
<div class="line">[Sunday 25 April 2010] [01:40:22] &lt;sustrik&gt; unomystEz: it depends on operating system</div>
<div class="line">[Sunday 25 April 2010] [01:42:01] &lt;sustrik&gt; for Linux there&#8217;s say &#8220;TCP/IP architecture, design and Implementation in Linux&#8221; book</div>
<div class="line">[Sunday 25 April 2010] [01:42:05] &lt;sustrik&gt; etc.</div>
<div class="line">[Sunday 25 April 2010] [02:26:33] &lt;sustrik&gt; unomystEz: btw, i recall an interesting presentation about Open-MX</div>
<div class="line">[Sunday 25 April 2010] [02:26:51] &lt;sustrik&gt; not a standard kernel, rather kernel-bypass HPC networking</div>
<div class="line">[Sunday 25 April 2010] [02:26:52] &lt;sustrik&gt; <a class="reference external" href="http://www.cse.scitech.ac.uk/disco/presentations/BriceGoglin.shtml">http://www.cse.scitech.ac.uk/disco/presentations/BriceGoglin.shtml</a></div>
<div class="line">[Sunday 25 April 2010] [09:04:41] &lt;CIA-5&gt;   zeromq2: 03Jon Dyte 07master * r7d9603d 10/ devices/zmq_queue/zmq_queue.cpp : Bug in zmq_queue fixed - <a class="reference external" href="http://bit.ly/bs03xP">http://bit.ly/bs03xP</a></div>
<div class="line">[Sunday 25 April 2010] [10:07:58] &lt;unomystEz&gt;   sustrik, interesting material</div>
<div class="line">[Sunday 25 April 2010] [10:08:26] &lt;sustrik&gt; depends on what you are interested in</div>
<div class="line">[Sunday 25 April 2010] [10:08:43] &lt;sustrik&gt; hacking networking stack in kernel?</div>
<div class="line">[Sunday 25 April 2010] [10:08:53] &lt;unomystEz&gt;   for now, I&#8217;m interested mostly in learning how the current TCP/IP stack is implemented in Linux</div>
<div class="line">[Sunday 25 April 2010] [10:09:10] &lt;unomystEz&gt;   and what the bottlenecks and scalability issues are</div>
<div class="line">[Sunday 25 April 2010] [10:09:14] &lt;sustrik&gt; ah, the book i&#8217;ve mentioned is pretty detailed</div>
<div class="line">[Sunday 25 April 2010] [10:09:17] &lt;unomystEz&gt;   with respect to both throughput and latency</div>
<div class="line">[Sunday 25 April 2010] [10:09:20] &lt;unomystEz&gt;   nice</div>
<div class="line">[Sunday 25 April 2010] [10:09:23] &lt;unomystEz&gt;   I&#8221;ll have to order it</div>
<div class="line">[Sunday 25 April 2010] [10:09:31] &lt;sustrik&gt; a bit boring but detailed :)</div>
<div class="line">[Sunday 25 April 2010] [10:09:48] &lt;sustrik&gt; also, i believe it&#8217;s about 2.4 kernel</div>
<div class="line">[Sunday 25 April 2010] [10:10:07] &lt;sustrik&gt; but the NW stack haven&#8217;t changed that much since</div>
<div class="line">[Sunday 25 April 2010] [10:10:08] &lt;unomystEz&gt;   im reading &#8216;Professional Linux Architecture&#8217; right now</div>
<div class="line">[Sunday 25 April 2010] [10:10:41] &lt;unomystEz&gt;                                            ^ Kernel</div>
<div class="line">[Sunday 25 April 2010] [10:10:46] &lt;sustrik&gt; also, the video i&#8217;ve sent the link to is worth viewing</div>
<div class="line">[Sunday 25 April 2010] [10:10:53] &lt;unomystEz&gt;   im reading the slides now</div>
<div class="line">[Sunday 25 April 2010] [10:10:53] &lt;sustrik&gt; the guy has heavy french accent</div>
<div class="line">[Sunday 25 April 2010] [10:10:56] &lt;unomystEz&gt;   haha</div>
<div class="line">[Sunday 25 April 2010] [10:11:05] &lt;sustrik&gt; but it&#8217;s rather relevant</div>
<div class="line">[Sunday 25 April 2010] [10:11:35] &lt;unomystEz&gt;   where are you from?</div>
<div class="line">[Sunday 25 April 2010] [10:11:39] &lt;sustrik&gt; europe</div>
<div class="line">[Sunday 25 April 2010] [10:11:42] &lt;sustrik&gt; slovakia</div>
<div class="line">[Sunday 25 April 2010] [10:11:44] &lt;unomystEz&gt;   nice</div>
<div class="line">[Sunday 25 April 2010] [10:11:57] &lt;unomystEz&gt;   I&#8217;m part slovakian</div>
<div class="line">[Sunday 25 April 2010] [10:12:01] &lt;unomystEz&gt;   miss the food</div>
<div class="line">[Sunday 25 April 2010] [10:12:13] &lt;sustrik&gt; ah</div>
<div class="line">[Sunday 25 April 2010] [10:12:20] &lt;sustrik&gt; where are you based now?</div>
<div class="line">[Sunday 25 April 2010] [10:12:25] &lt;unomystEz&gt;   NYC</div>
<div class="line">[Sunday 25 April 2010] [10:12:38] &lt;sustrik&gt; far away</div>
<div class="line">[Sunday 25 April 2010] [10:12:44] &lt;unomystEz&gt;   yup</div>
<div class="line">[Sunday 25 April 2010] [10:15:47] &lt;unomystEz&gt;   what are you guys using 0mq for?</div>
<div class="line">[Sunday 25 April 2010] [10:18:22] &lt;unomystEz&gt;   omg</div>
<div class="line">[Sunday 25 April 2010] [10:18:28] &lt;unomystEz&gt;   that&#8217;s the worst french accent I&#8217;ve ever heard</div>
<div class="line">[Sunday 25 April 2010] [10:26:40] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 25 April 2010] [10:26:58] &lt;unomystEz&gt;   im gonna go out and buy that book instead</div>
<div class="line">[Sunday 25 April 2010] [10:27:04] &lt;unomystEz&gt;   he doesn&#8217;t explain a lot of the concepts</div>
<div class="line">[Sunday 25 April 2010] [10:27:08] &lt;unomystEz&gt;   he&#8217;s basically just commenting on his slides</div>
<div class="line">[Sunday 25 April 2010] [10:27:24] &lt;sustrik&gt; yeah, but it&#8217;s more about high-perf</div>
<div class="line">[Sunday 25 April 2010] [10:27:34] &lt;sustrik&gt; the book is about how the standard stack works</div>
<div class="line">[Sunday 25 April 2010] [10:27:49] &lt;unomystEz&gt;   true</div>
<div class="line">[Sunday 25 April 2010] [10:27:55] &lt;sustrik&gt; not sure whether there&#8217;s relevant literature about high-perf networking</div>
<div class="line">[Sunday 25 April 2010] [10:28:00] &lt;sustrik&gt; in kernel</div>
<div class="line">[Sunday 25 April 2010] [10:28:06] &lt;unomystEz&gt;   well, i read the zeromq docs</div>
<div class="line">[Sunday 25 April 2010] [10:28:08] &lt;sustrik&gt; pretty small niche</div>
<div class="line">[Sunday 25 April 2010] [10:28:10] &lt;unomystEz&gt;   which were pretty good</div>
<div class="line">[Sunday 25 April 2010] [10:28:26] &lt;sustrik&gt; a bit messy and uncomplete though</div>
<div class="line">[Sunday 25 April 2010] [10:28:51] &lt;sustrik&gt; anyway, good resource are hard to be found in the area</div>
<div class="line">[Sunday 25 April 2010] [19:25:16] &lt;<a href="#id121"><span class="problematic" id="id158">mikko__</span></a>&gt; sustrik: ah, i guessed you are busy when visiting</div>
<div class="line">[Monday 26 April 2010] [02:33:13] &lt;sjampoo&gt; Hmm, i&#8217;m looking at pub.cpp. Shouldn&#8217;t the message flushing come before closing all the message objects? What if the ffn callback from zmq_msg_close clears the data?</div>
<div class="line">[Monday 26 April 2010] [02:47:34] &lt;sjampoo&gt; Ah got it, please ignore that last question.</div>
<div class="line">[Monday 26 April 2010] [03:28:01] &lt;sustrik&gt; sjampoo: :)</div>
<div class="line">[Monday 26 April 2010] [03:44:29] &lt;sjampoo&gt; Hmm if i just send my messages, i do not really need to close them right, as this gets done on a successful send anyway?</div>
<div class="line">[Monday 26 April 2010] [04:03:08] &lt;sustrik&gt; sjampoo: now you are speaking of internals of pub_t right?</div>
<div class="line">[Monday 26 April 2010] [04:03:36] &lt;sustrik&gt; consider this scenario:</div>
<div class="line">[Monday 26 April 2010] [04:03:47] &lt;sustrik&gt; user sends message with refcount 1</div>
<div class="line">[Monday 26 April 2010] [04:04:06] &lt;sustrik&gt; pub_t writes it to a pipe</div>
<div class="line">[Monday 26 April 2010] [04:04:16] &lt;sustrik&gt; leaves the refcount to be 1</div>
<div class="line">[Monday 26 April 2010] [04:04:54] &lt;sustrik&gt; it ommits close thus not decreasing the refcount</div>
<div class="line">[Monday 26 April 2010] [04:05:12] &lt;sustrik&gt; and inits user&#8217;s copy of the message to be blank</div>
<div class="line">[Monday 26 April 2010] [04:05:29] &lt;sustrik&gt; the refcount of the original message is still 1</div>
<div class="line">[Monday 26 April 2010] [04:06:16] &lt;sustrik&gt; but nows it refers to the pointer in the pipe rather than pointer in user&#8217;s zmq_msg_t object</div>
<div class="line">[Monday 26 April 2010] [04:12:14] &lt;sjampoo&gt; a-ha!</div>
<div class="line">[Monday 26 April 2010] [04:12:16] &lt;sjampoo&gt; thanks.</div>
<div class="line">[Monday 26 April 2010] [05:54:18] &lt;sustrik&gt; sjampoo: btw, if you find places like this in the code, where it&#8217;s not obvious what the code is doing feel free to write a comment explaining the behaviour and submit it as a patch</div>
<div class="line">[Monday 26 April 2010] [05:54:43] &lt;sustrik&gt; it&#8217;ll help improve overall quality of the codebase</div>
<div class="line">[Monday 26 April 2010] [10:51:23] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * rbeffee9 10/ (8 files in 3 dirs): P2P renamed to PAIR - <a class="reference external" href="http://bit.ly/dCMQhz">http://bit.ly/dCMQhz</a></div>
<div class="line">[Monday 26 April 2010] [10:59:04] &lt;CIA-5&gt;   zeromq2: 03Martin Sustrik 07master * r1ad6ade 10/ builds/msvc/libzmq/libzmq.vcproj : MSVC build fixed - <a class="reference external" href="http://bit.ly/cLmsJP">http://bit.ly/cLmsJP</a></div>
<div class="line">[Monday 26 April 2010] [11:42:09] &lt;CIA-5&gt;   rbzmq: 03Martin Sustrik 07master * r9f1b337 10/ (perf/local_lat.rb rbzmq.cpp): P2P renamed to PAIR - <a class="reference external" href="http://bit.ly/bs1QwB">http://bit.ly/bs1QwB</a></div>
<div class="line">[Monday 26 April 2010] [11:49:01] &lt;CIA-5&gt;   clrzmq: 03Martin Sustrik 07master * r52a9158 10/ clrzmq/zmq.cs : P2P renamed to PAIR - <a class="reference external" href="http://bit.ly/9fOAUO">http://bit.ly/9fOAUO</a></div>
<div class="line">[Monday 26 April 2010] [12:17:49] &lt;<a href="#id121"><span class="problematic" id="id159">mikko__</span></a>&gt; sustrik: there?</div>
<div class="line">[Monday 26 April 2010] [12:18:14] &lt;sustrik&gt; <a href="#id121"><span class="problematic" id="id160">nikko__</span></a>: yes, hi</div>
<div class="line">[Monday 26 April 2010] [12:18:27] &lt;<a href="#id121"><span class="problematic" id="id161">mikko__</span></a>&gt; <a class="reference external" href="http://valokuva.org/~mikko/iothreads/">http://valokuva.org/~mikko/iothreads/</a></div>
<div class="line">[Monday 26 April 2010] [12:18:31] &lt;<a href="#id121"><span class="problematic" id="id162">mikko__</span></a>&gt; might not be C++ish</div>
<div class="line">[Monday 26 April 2010] [12:18:50] &lt;<a href="#id121"><span class="problematic" id="id163">mikko__</span></a>&gt; noticed a TODO item</div>
<div class="line">[Monday 26 April 2010] [12:19:23] &lt;sustrik&gt; ah, i see</div>
<div class="line">[Monday 26 April 2010] [12:19:44] &lt;sustrik&gt; the ugly thing about it is that is has to be done at 3 places</div>
<div class="line">[Monday 26 April 2010] [12:20:25] &lt;<a href="#id121"><span class="problematic" id="id164">mikko__</span></a>&gt; yeah</div>
<div class="line">[Monday 26 April 2010] [12:20:32] &lt;sustrik&gt; jon dyte is working on merging all 3 devices into a single executable which would allow for having it at a single place</div>
<div class="line">[Monday 26 April 2010] [12:20:32] &lt;<a href="#id121"><span class="problematic" id="id165">mikko__</span></a>&gt; i guess it would be easy to write a macro</div>
<div class="line">[Monday 26 April 2010] [12:20:34] &lt;<a href="#id121"><span class="problematic" id="id166">mikko__</span></a>&gt; or something</div>
<div class="line">[Monday 26 April 2010] [12:20:44] &lt;<a href="#id121"><span class="problematic" id="id167">mikko__</span></a>&gt; that works as well</div>
<div class="line">[Monday 26 April 2010] [12:21:22] &lt;sustrik&gt; you may want to synchronise with him</div>
<div class="line">[Monday 26 April 2010] [12:21:38] &lt;sustrik&gt; he seems busy so we would surely appreciate patches like this one</div>
<div class="line">[Monday 26 April 2010] [12:21:55] &lt;<a href="#id121"><span class="problematic" id="id168">mikko__</span></a>&gt; im not sure how you are supposed to cast in C++</div>
<div class="line">[Monday 26 April 2010] [12:22:01] &lt;sustrik&gt; ()</div>
<div class="line">[Monday 26 April 2010] [12:22:04] &lt;sustrik&gt; (int) x</div>
<div class="line">[Monday 26 April 2010] [12:22:08] &lt;<a href="#id121"><span class="problematic" id="id169">mikko__</span></a>&gt; with const_cast, static_cast and reinterpret_cast</div>
<div class="line">[Monday 26 April 2010] [12:22:24] &lt;sustrik&gt; well, you mostly don&#8217;t need those</div>
<div class="line">[Monday 26 April 2010] [12:22:36] &lt;<a href="#id121"><span class="problematic" id="id170">mikko__</span></a>&gt; was reading about casts last night in C++</div>
<div class="line">[Monday 26 April 2010] [12:22:43] &lt;<a href="#id121"><span class="problematic" id="id171">mikko__</span></a>&gt; seems a lot more confusing than C :)</div>
<div class="line">[Monday 26 April 2010] [12:22:49] &lt;sustrik&gt; they are useful only for casting types with virtual function tables</div>
<div class="line">[Monday 26 April 2010] [12:23:05] &lt;sustrik&gt; ah, not so for const_cast</div>
<div class="line">[Monday 26 April 2010] [12:23:43] &lt;sustrik&gt; anyway, I would stick to (int) x</div>
<div class="line">[Monday 26 April 2010] [12:24:38] &lt;<a href="#id121"><span class="problematic" id="id172">mikko__</span></a>&gt; you can cast const char * with (int) ?</div>
<div class="line">[Monday 26 April 2010] [12:24:48] &lt;sustrik&gt; i mean (type) x</div>
<div class="line">[Monday 26 April 2010] [12:25:10] &lt;sustrik&gt; braces syntax</div>
<div class="line">[Monday 26 April 2010] [12:25:13] &lt;<a href="#id121"><span class="problematic" id="id173">mikko__</span></a>&gt; const char <a href="#id101"><span class="problematic" id="id102">*</span></a>foo = &#8220;123412423&#8221;; int x = (int) foo; ?</div>
<div class="line">[Monday 26 April 2010] [12:25:42] &lt;sustrik&gt; you&#8217;ll get numeric representation of the pointer to the string :)</div>
<div class="line">[Monday 26 April 2010] [12:26:01] &lt;<a href="#id121"><span class="problematic" id="id174">mikko__</span></a>&gt; yeah, that&#8217;s what i expected</div>
<div class="line">[Monday 26 April 2010] [12:26:22] &lt;sustrik&gt; atoi is OK</div>
<div class="line">[Monday 26 April 2010] [12:26:42] &lt;sustrik&gt; anyway, to give you some context</div>
<div class="line">[Monday 26 April 2010] [12:27:00] &lt;sustrik&gt; the xml files for devices should define a lot of properties</div>
<div class="line">[Monday 26 April 2010] [12:27:11] &lt;sustrik&gt; aside of io_threads, it&#8217;s all the socket options</div>
<div class="line">[Monday 26 April 2010] [12:27:39] &lt;sustrik&gt; so the code will be rather long</div>
<div class="line">[Monday 26 April 2010] [12:27:50] &lt;sustrik&gt; thus having it 3x in the codebase seems to be a bad idea</div>
<div class="line">[Monday 26 April 2010] [12:28:05] &lt;sustrik&gt; that&#8217;s why I would prefer to have devices merged first</div>
<div class="line">[Monday 26 April 2010] [12:28:19] &lt;sustrik&gt; then add the property-managing code</div>
<div class="line">[Monday 26 April 2010] [13:01:42] &lt;impl&gt;    <a href="#id121"><span class="problematic" id="id175">mikko__</span></a>: you should use intptr_t for that though</div>
<div class="line">[Monday 26 April 2010] [13:04:48] &lt;sustrik&gt; impl: i think this is only a theoretical discussion, no need for that kind of thing in the code</div>
<div class="line">[Monday 26 April 2010] [13:05:02] &lt;impl&gt;    ah</div>
<div class="line">[Monday 26 April 2010] [13:09:26] &lt;<a href="#id121"><span class="problematic" id="id176">mikko__</span></a>&gt; impl: i&#8217;m not storing a pointer</div>
<div class="line">[Monday 26 April 2010] [13:09:36] &lt;<a href="#id121"><span class="problematic" id="id177">mikko__</span></a>&gt; just casting const char * to integer</div>
<div class="line">[Monday 26 April 2010] [13:09:59] &lt;<a href="#id121"><span class="problematic" id="id178">mikko__</span></a>&gt; or i was wondering how do you cast that in C++</div>
<div class="line">[Monday 26 April 2010] [13:10:03] &lt;<a href="#id121"><span class="problematic" id="id179">mikko__</span></a>&gt; if there was some magic</div>
<div class="line">[Monday 26 April 2010] [17:02:45] &lt;ADruz&gt;   Can zeromq serve as a job queue system?</div>
<div class="line">[Monday 26 April 2010] [17:03:45] &lt;<a href="#id121"><span class="problematic" id="id180">mikko__</span></a>&gt; not really without added application logic</div>
<div class="line">[Monday 26 April 2010] [17:04:42] &lt;<a href="#id121"><span class="problematic" id="id181">mikko__</span></a>&gt; take a look at gearman or citrine scheduler if you want job queue / scheduling functionality</div>
<div class="line">[Monday 26 April 2010] [20:37:18] &lt;ADruz&gt;   <a href="#id121"><span class="problematic" id="id182">mikko__</span></a>: thanks</div>
<div class="line">[Monday 26 April 2010] [21:12:56] &lt;mike8901&gt;    How should I go about determining the proper value of io_threads?</div>
<div class="line">[Monday 26 April 2010] [21:47:57] &lt;mike8901&gt;    Is there any way to have multiple clients connect to a single TCP port(but be represented by multiple unicast sockets) with zmq?</div>
<div class="line">[Tuesday 27 April 2010] [00:31:14] &lt;rmancy&gt; Is this the best place to ask for help with my zeromq app?</div>
<div class="line">[Tuesday 27 April 2010] [00:31:58] &lt;mike8901&gt;   I guess so.</div>
<div class="line">[Tuesday 27 April 2010] [00:35:04] &lt;rmancy&gt; ok great :-) I&#8217;m trying to make a simple server/client with ZMQ_REP/ZMQ_REQ respectively. The server does the recv(), then send() seemingly fine, however my client after doing it&#8217;s initial send() to server (which the server gets), it sits there waiting for recv(). Is REP and REQ appropriate here ?</div>
<div class="line">[Tuesday 27 April 2010] [00:36:03] &lt;guido_g&gt;    yes, what did you expect?</div>
<div class="line">[Tuesday 27 April 2010] [00:37:09] &lt;rmancy&gt; guido_g, Well I&#8217;m expecting the client to actually recv the data that server sends back...however it doesn&#8217;t seem to receive it. Just seems to sit there _waiting_ to receive something, but doesn&#8217;t actually receive it</div>
<div class="line">[Tuesday 27 April 2010] [00:37:26] &lt;rmancy&gt; Have I missed something ?</div>
<div class="line">[Tuesday 27 April 2010] [00:37:42] &lt;guido_g&gt;    w/o seeing the code, hard to tell</div>
<div class="line">[Tuesday 27 April 2010] [00:38:06] &lt;guido_g&gt;    is there a packet filter in the way?</div>
<div class="line">[Tuesday 27 April 2010] [00:38:12] &lt;guido_g&gt;    aka firewall</div>
<div class="line">[Tuesday 27 April 2010] [00:38:19] &lt;rmancy&gt; guido_g, hmmmm.</div>
<div class="line">[Tuesday 27 April 2010] [00:38:23] &lt;rmancy&gt; will check</div>
<div class="line">[Tuesday 27 April 2010] [00:41:16] &lt;rmancy&gt; guido_g, nope</div>
<div class="line">[Tuesday 27 April 2010] [00:42:03] &lt;rmancy&gt; I&#8217;m running zmq_forwarder with a basic &#8216;in&#8217; and &#8216;out&#8217; elements that obviously work on the initial send, just not on the response it seems</div>
<div class="line">[Tuesday 27 April 2010] [00:42:06] &lt;guido_g&gt;    did you compare your code against the cookbok example?</div>
<div class="line">[Tuesday 27 April 2010] [00:42:25] &lt;guido_g&gt;    ouch</div>
<div class="line">[Tuesday 27 April 2010] [00:43:02] &lt;guido_g&gt;    as far as I understood, req/rep is meant for direct connection between the requesting client and the services</div>
<div class="line">[Tuesday 27 April 2010] [00:43:39] &lt;rmancy&gt; guido_g, oh ok. So no forwarder? I had used the forwarder from a SUB/PUB example, and just assumed I still needed it. Perhaps not though !</div>
<div class="line">[Tuesday 27 April 2010] [00:44:08] &lt;guido_g&gt;    not only perhaps</div>
<div class="line">[Tuesday 27 April 2010] [00:44:12] &lt;guido_g&gt;    see <a class="reference external" href="http://www.zeromq.org/docs:cookbook">http://www.zeromq.org/docs:cookbook</a></div>
<div class="line">[Tuesday 27 April 2010] [00:44:37] &lt;guido_g&gt;    a forwarder spreads out the messages to all subscribed entities</div>
<div class="line">[Tuesday 27 April 2010] [00:44:45] &lt;guido_g&gt;    req/rep works differently</div>
<div class="line">[Tuesday 27 April 2010] [00:51:03] &lt;rmancy&gt; guido_g, thanks. Didn&#8217;t realise :-(</div>
<div class="line">[Tuesday 27 April 2010] [00:51:46] &lt;rmancy&gt; I&#8217;m also not using &#8216;localhost&#8217; and &#8216;lo&#8217; as I get errors creating sockets on those. Using my public IP instead, but I don&#8217;t think that should have a bearing</div>
<div class="line">[Tuesday 27 April 2010] [00:52:11] &lt;rmancy&gt; or possible it does</div>
<div class="line">[Tuesday 27 April 2010] [00:52:16] &lt;guido_g&gt;    try 127.0.0.1, might be a naming issue</div>
<div class="line">[Tuesday 27 April 2010] [00:57:44] &lt;guido_g&gt;    i&#8217;m off, laters</div>
<div class="line">[Tuesday 27 April 2010] [00:58:02] &lt;rmancy&gt; guido_g, thanks, with that help i should be able to nut it out :-)</div>
<div class="line">[Tuesday 27 April 2010] [02:58:13] &lt;guido_g&gt;    re</div>
<div class="line">[Tuesday 27 April 2010] [08:20:06] &lt;rmancy&gt; Hi, anyone able to help with a simple zeromq prob I have ?</div>
<div class="line">[Tuesday 27 April 2010] [08:55:32] &lt;sustrik&gt;    rmancy: hi</div>
<div class="line">[Tuesday 27 April 2010] [08:55:38] &lt;sustrik&gt;    what&#8217;s the problem?</div>
<div class="line">[Tuesday 27 April 2010] [10:59:56] &lt;ka3ak&gt;  hello</div>
<div class="line">[Tuesday 27 April 2010] [11:00:10] &lt;ka3ak&gt;  can someone help me out with a zmq issue</div>
<div class="line">[Tuesday 27 April 2010] [11:00:41] &lt;sustrik&gt;    ka3ak: hello</div>
<div class="line">[Tuesday 27 April 2010] [11:00:51] &lt;ka3ak&gt;  hi</div>
<div class="line">[Tuesday 27 April 2010] [11:01:05] &lt;sustrik&gt;    what&#8217;s the problem?</div>
<div class="line">[Tuesday 27 April 2010] [11:01:36] &lt;ka3ak&gt;  i have a simple server set up with a ZMQ_REP socket ...</div>
<div class="line">[Tuesday 27 April 2010] [11:01:56] &lt;ka3ak&gt;  once in a while the recv will hang</div>
<div class="line">[Tuesday 27 April 2010] [11:02:31] &lt;ka3ak&gt;  the client send an enourmous amount of messages, so i&#8217;m not sure if the queue is getting backed up or what</div>
<div class="line">[Tuesday 27 April 2010] [11:02:42] &lt;sustrik&gt;    nope</div>
<div class="line">[Tuesday 27 April 2010] [11:02:48] &lt;sustrik&gt;    looks like a bug</div>
<div class="line">[Tuesday 27 April 2010] [11:02:51] &lt;ka3ak&gt;  i&#8217;ve tried increasing the high water mark and swap, but nothing works</div>
<div class="line">[Tuesday 27 April 2010] [11:03:06] &lt;sustrik&gt;    can you send the test program to the mailing list?</div>
<div class="line">[Tuesday 27 April 2010] [11:03:19] &lt;sustrik&gt;    or open an issue in a bug tracker?</div>
<div class="line">[Tuesday 27 April 2010] [11:03:30] &lt;ka3ak&gt;  sure</div>
<div class="line">[Tuesday 27 April 2010] [11:03:33] &lt;sustrik&gt;    thx</div>
<div class="line">[Tuesday 27 April 2010] [11:03:43] &lt;ka3ak&gt;  just to give you a bit more info on the hack to get around this ...</div>
<div class="line">[Tuesday 27 April 2010] [11:04:28] &lt;ka3ak&gt;  while (1) { message_t req; if (!sock_.recv(&amp;req, ZMQ_NONBLOCK)) continue; }    but this will spike up the cpu to 100 for a second or so for obvious reasons</div>
<div class="line">[Tuesday 27 April 2010] [11:05:06] &lt;ka3ak&gt;  but this fixes the problem albeit with a short pause and cpu spike on the server side of things</div>
<div class="line">[Tuesday 27 April 2010] [11:05:34] &lt;sustrik&gt;    ok, i see</div>
<div class="line">[Tuesday 27 April 2010] [11:36:02] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * rad6fa9d 10/ (src/rep.cpp src/req.cpp src/xrep.cpp src/xrep.hpp): initial version of multi-hop REQ/REP - <a class="reference external" href="http://bit.ly/cbReUI">http://bit.ly/cbReUI</a></div>
<div class="line">[Tuesday 27 April 2010] [15:38:34] &lt;mike8901&gt;   If I send a message, and the message gets deallocated immediately after I send the message, will the message still go through OK?</div>
<div class="line">[Tuesday 27 April 2010] [15:38:54] &lt;mike8901&gt;   i.e. will send copy the message?</div>
<div class="line">[Tuesday 27 April 2010] [15:45:58] &lt;sustrik&gt;    mike8901: it won&#8217;t copy the message, it will take possession of it</div>
<div class="line">[Tuesday 27 April 2010] [15:46:11] &lt;sustrik&gt;    there&#8217;s nothing left for you to deallocate</div>
<div class="line">[Tuesday 27 April 2010] [15:53:19] &lt;mike8901&gt;   so I can allocate a message_t on the stack, copy the data into the message, and send it, without worrying about what happens to the data?</div>
<div class="line">[Tuesday 27 April 2010] [16:00:53] &lt;sustrik&gt;    yes</div>
<div class="line">[Tuesday 27 April 2010] [16:04:02] &lt;mike8901&gt;   ok, cool :)</div>
<div class="line">[Tuesday 27 April 2010] [17:40:54] &lt;bgranger&gt;   sustrik:  I am going to be working on the Python bindings some more and have a few questions about release schedules...</div>
<div class="line">[Tuesday 27 April 2010] [18:20:07] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r506679b 10/ (6 files in 4 dirs): Renaming P2P -&gt; PAIR. - <a class="reference external" href="http://bit.ly/9MC0TY">http://bit.ly/9MC0TY</a></div>
<div class="line">[Tuesday 27 April 2010] [18:22:02] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r5177246 10/ (5 files in 2 dirs): Finish renaming of P2P -&gt; PAIR in filenames. - <a class="reference external" href="http://bit.ly/92CZZQ">http://bit.ly/92CZZQ</a></div>
<div class="line">[Tuesday 27 April 2010] [18:36:39] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * rbb7c339 10/ (zmq/_zmq.c zmq/_zmq.pyx zmq/tests/test_poll.py): Removed stopwatch stuff and fixed select. - <a class="reference external" href="http://bit.ly/9GT4M8">http://bit.ly/9GT4M8</a></div>
<div class="line">[Tuesday 27 April 2010] [18:39:53] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r16b0c20 10/ setup.py : Adding zmq.tests to setup.py packages. - <a class="reference external" href="http://bit.ly/ceobEw">http://bit.ly/ceobEw</a></div>
<div class="line">[Tuesday 27 April 2010] [19:26:10] &lt;<a href="#id121"><span class="problematic" id="id183">mikko__</span></a>&gt;    sustrik: hi</div>
<div class="line">[Tuesday 27 April 2010] [19:26:20] &lt;<a href="#id121"><span class="problematic" id="id184">mikko__</span></a>&gt;    <a class="reference external" href="http://pastie.org/938296">http://pastie.org/938296</a></div>
<div class="line">[Tuesday 27 April 2010] [19:26:28] &lt;<a href="#id121"><span class="problematic" id="id185">mikko__</span></a>&gt;    ending up to this with git HEAD</div>
<div class="line">[Tuesday 27 April 2010] [19:31:30] &lt;<a href="#id121"><span class="problematic" id="id186">mikko__</span></a>&gt;    ah</div>
<div class="line">[Tuesday 27 April 2010] [19:31:32] &lt;<a href="#id121"><span class="problematic" id="id187">mikko__</span></a>&gt;    my mistake</div>
<div class="line">[Tuesday 27 April 2010] [20:28:20] &lt;mike8901&gt;   Is it possible to do a read and a write simultaneously to a socket without breaking anything?</div>
<div class="line">[Tuesday 27 April 2010] [20:31:16] &lt;mike8901&gt;   I am doing nonblocking reads, if that makes any difference.</div>
<div class="line">[Tuesday 27 April 2010] [22:00:38] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * rb0352c8 10/ (zmq/_zmq.c zmq/_zmq.pyx):</div>
<div class="line">[Tuesday 27 April 2010] [22:00:39] &lt;CIA-15&gt; pyzmq: Fixing ctypedef of int64_t.</div>
<div class="line">[Tuesday 27 April 2010] [22:00:39] &lt;CIA-15&gt; pyzmq: Thanks to Lisandro Dalcin for the tip. - <a class="reference external" href="http://bit.ly/9ReFJF">http://bit.ly/9ReFJF</a></div>
<div class="line">[Tuesday 27 April 2010] [22:03:26] &lt;CIA-15&gt; pyzmq: 03Fernando Perez 07master * r811389d 10/ (examples/pubsub/topics_pub.py examples/pubsub/topics_sub.py): New example for publish/subscribe sockets with multiple topics. - <a class="reference external" href="http://bit.ly/9nMYsJ">http://bit.ly/9nMYsJ</a></div>
<div class="line">[Tuesday 27 April 2010] [22:12:32] &lt;rmancy&gt; Hi, does anyone know of a c++ example using ZMQ_REP ?</div>
<div class="line">[Tuesday 27 April 2010] [22:13:47] &lt;rmancy&gt; I was able to get the ZMQ_REP/ZMQ_REQ example using C/C++ fine, but looking for a C++ example using ZMQ_REP so I can find out what I&#8217;m doing wrong</div>
<div class="line">[Tuesday 27 April 2010] [22:31:07] &lt;mike8901&gt;   What&#8217;s the best way to have a vector of zmq::socket_t&#8217;s? Just have pointers to the vectors?</div>
<div class="line">[Tuesday 27 April 2010] [22:31:11] &lt;mike8901&gt;   <a href="#id103"><span class="problematic" id="id104">**</span></a>pointers to the sockets</div>
<div class="line">[Tuesday 27 April 2010] [22:31:15] &lt;mike8901&gt;   (or smart pointers)</div>
<div class="line">[Tuesday 27 April 2010] [23:47:01] &lt;CIA-15&gt; pyzmq: 03Brian E. Granger 07master * r792a621 10/ (zmq/_zmq.c zmq/_zmq.pyx): Added support for getsockopt and multipart messages. - <a class="reference external" href="http://bit.ly/cgZOqv">http://bit.ly/cgZOqv</a></div>
<div class="line">[Wednesday 28 April 2010] [01:42:31] &lt;sustrik&gt;  re</div>
<div class="line">[Wednesday 28 April 2010] [01:43:38] &lt;sustrik&gt;  mike8901: simultaneous read &amp; write? each socket can be used only from a single thread</div>
<div class="line">[Wednesday 28 April 2010] [01:43:49] &lt;mike8901&gt; okay</div>
<div class="line">[Wednesday 28 April 2010] [01:53:12] &lt;sustrik&gt;  mike8901: as for storing zmq::socket_t&#8217;s in vector</div>
<div class="line">[Wednesday 28 April 2010] [01:53:25] &lt;sustrik&gt;  they actually _are_ smart pointers</div>
<div class="line">[Wednesday 28 April 2010] [01:53:46] &lt;sustrik&gt;  they cannot be stored in a vector because they are not assignable</div>
<div class="line">[Wednesday 28 April 2010] [01:54:06] &lt;sustrik&gt;  i.e. they have no copy constructor and assignment operator</div>
<div class="line">[Wednesday 28 April 2010] [01:54:20] &lt;mike8901&gt; yes, I figured that out</div>
<div class="line">[Wednesday 28 April 2010] [01:54:26] &lt;sustrik&gt;  if you add those two, i&#8217;ll accept the patch to c++ binding</div>
<div class="line">[Wednesday 28 April 2010] [01:55:17] &lt;mike8901&gt; from my understanding, smart pointers aren&#8217;t _SUPPOSED_ to be stored in a vector</div>
<div class="line">[Wednesday 28 April 2010] [01:55:32] &lt;sustrik&gt;  what you can do is add reference count</div>
<div class="line">[Wednesday 28 April 2010] [01:55:48] &lt;sustrik&gt;  so when socket_t is copied reference count increases by 1</div>
<div class="line">[Wednesday 28 April 2010] [01:55:51] &lt;mike8901&gt; that&#8217;s not my main concern</div>
<div class="line">[Wednesday 28 April 2010] [01:56:09] &lt;mike8901&gt; I ended up just storing pointers to zmq::socket_t&#8217;s in the vector</div>
<div class="line">[Wednesday 28 April 2010] [01:56:25] &lt;sustrik&gt;  yes, can be done that way as well</div>
<div class="line">[Wednesday 28 April 2010] [01:56:57] &lt;sustrik&gt;  although you have to delete them manually afterwards</div>
<div class="line">[Wednesday 28 April 2010] [01:57:05] &lt;mike8901&gt; yes, of course</div>
<div class="line">[Wednesday 28 April 2010] [01:57:23] &lt;mike8901&gt; C++ would be so much nicer if it had -retain and -release like Obj-C</div>
<div class="line">[Wednesday 28 April 2010] [01:57:39] &lt;sustrik&gt;  that&#8217;s what refcounting can do</div>
<div class="line">[Wednesday 28 April 2010] [01:57:52] &lt;mike8901&gt; yeah, it would be nice if refcounting was builtin</div>
<div class="line">[Wednesday 28 April 2010] [01:58:44] &lt;mike8901&gt; btw, are there any plans to make zeromq BSD/MIT licensed?</div>
<div class="line">[Wednesday 28 April 2010] [01:58:44] &lt;sustrik&gt;  well, it can at least be done for socket_t</div>
<div class="line">[Wednesday 28 April 2010] [01:59:29] &lt;sustrik&gt;  in theory, once it&#8217;s established enough to make sure that contributions are flowing back to the project automatically</div>
<div class="line">[Wednesday 28 April 2010] [01:59:50] &lt;sustrik&gt;  at the present the fear is that people would patch it and don&#8217;t contribute back</div>
<div class="line">[Wednesday 28 April 2010] [02:00:12] &lt;sustrik&gt;  why do you need that?</div>
<div class="line">[Wednesday 28 April 2010] [02:00:15] &lt;mike8901&gt; I&#8217;m currently using zeromq for a project with clang(basically implementing distcc at a layer tightly coupled with the compiler)</div>
<div class="line">[Wednesday 28 April 2010] [02:00:35] &lt;mike8901&gt; I&#8217;m using zeromq because it&#8217;s easy to use and I&#8217;m running up against a tight deadline</div>
<div class="line">[Wednesday 28 April 2010] [02:00:38] &lt;mike8901&gt; (plus it&#8217;s fast)</div>
<div class="line">[Wednesday 28 April 2010] [02:00:50] &lt;mike8901&gt; but clang won&#8217;t accept my patch if it uses an LGPL library</div>
<div class="line">[Wednesday 28 April 2010] [02:00:54] &lt;mike8901&gt; everything has to be BSD licensed</div>
<div class="line">[Wednesday 28 April 2010] [02:01:09] &lt;sustrik&gt;  static linking?</div>
<div class="line">[Wednesday 28 April 2010] [02:01:20] &lt;mike8901&gt; I think they won&#8217;t even allow dynamic linking</div>
<div class="line">[Wednesday 28 April 2010] [02:01:28] &lt;mike8901&gt; (I&#8217;m dynamically linking now)</div>
<div class="line">[Wednesday 28 April 2010] [02:01:35] &lt;mike8901&gt; basically, their policy is BSD only</div>
<div class="line">[Wednesday 28 April 2010] [02:01:42] &lt;sustrik&gt;  there&#8217;s a clause explicitly allowing for static linking in 0mq license text</div>
<div class="line">[Wednesday 28 April 2010] [02:02:00] &lt;sustrik&gt;  anyway, if it&#8217;s their policy, there&#8217;s little to do at the moment</div>
<div class="line">[Wednesday 28 April 2010] [02:02:31] &lt;sustrik&gt;  you&#8217;ll have to keep the patch out of the tree</div>
<div class="line">[Wednesday 28 April 2010] [02:02:35] &lt;mike8901&gt; ok, I guess I&#8217;ll stick with zmq now, and hopefully by the time to patch back to mainline comes, zmq will be licensed for the process :)</div>
<div class="line">[Wednesday 28 April 2010] [02:02:50] &lt;mike8901&gt; <a href="#id105"><span class="problematic" id="id106">*</span></a>licensed using BSD</div>
<div class="line">[Wednesday 28 April 2010] [02:03:50] &lt;sustrik&gt;  hm, btw, what good is messaging layer in a compiler?</div>
<div class="line">[Wednesday 28 April 2010] [02:05:45] &lt;<a href="#id340"><span class="problematic" id="id341">rmancy_</span></a>&gt;  I&#8217;m sure this is a silly Q. Can I make zmq libs from the git repo? I checked it out the other day, but didn&#8217;t have much luck.</div>
<div class="line">[Wednesday 28 April 2010] [02:06:16] &lt;sustrik&gt;  <a href="#id342"><span class="problematic" id="id343">rmancy_</span></a>: what went wrong?</div>
<div class="line">[Wednesday 28 April 2010] [02:06:59] &lt;<a href="#id344"><span class="problematic" id="id345">rmancy_</span></a>&gt;  sustrik, first off I&#8217;m not too ofey with C Makefiles. It&#8217;s Been a while. Well there didn&#8217;t seem to be a configure script, so I just did autoconfigure. Is this right ?</div>
<div class="line">[Wednesday 28 April 2010] [02:07:13] &lt;sustrik&gt;  yes</div>
<div class="line">[Wednesday 28 April 2010] [02:07:23] &lt;sustrik&gt;  the script is generated so it&#8217;s not stored in git</div>
<div class="line">[Wednesday 28 April 2010] [02:07:38] &lt;sustrik&gt;  ./autogen.sh</div>
<div class="line">[Wednesday 28 April 2010] [02:07:43] &lt;sustrik&gt;  ./configure</div>
<div class="line">[Wednesday 28 April 2010] [02:07:47] &lt;sustrik&gt;  make</div>
<div class="line">[Wednesday 28 April 2010] [02:08:24] &lt;<a href="#id346"><span class="problematic" id="id347">rmancy_</span></a>&gt;  sustrik, excellent. Thanks so much.</div>
<div class="line">[Wednesday 28 April 2010] [02:08:32] &lt;sustrik&gt;  np</div>
<div class="line">[Wednesday 28 April 2010] [02:31:44] &lt;<a href="#id348"><span class="problematic" id="id349">rmancy_</span></a>&gt;  sustrik, I&#8217;ve been having a problem with a very simple ZMQ_REP/ZMQ_REQ app. Can you recommend a good ZMQ_REP example in c++ (I just converted the Server example from the 0mq site that was in C) ?</div>
<div class="line">[Wednesday 28 April 2010] [02:32:22] &lt;sustrik&gt;  what was the problem?</div>
<div class="line">[Wednesday 28 April 2010] [02:33:22] &lt;<a href="#id350"><span class="problematic" id="id351">rmancy_</span></a>&gt;  Well, the ZMQ_REP (server) gets the recv() and then _appears_ to send(), but the ZMQ_REQ (client) does not get the response. the client code works fine with the example written in C.</div>
<div class="line">[Wednesday 28 April 2010] [02:34:29] &lt;sustrik&gt;  send the test program to the mailing list</div>
<div class="line">[Wednesday 28 April 2010] [02:37:29] &lt;<a href="#id352"><span class="problematic" id="id353">rmancy_</span></a>&gt;  sustrik, ok cheers. I&#8217;m sure it&#8217;s an obvious problem to most other people. I&#8217;m brand new to C++ and it&#8217;s been over 4 years since I&#8217;ve even done C.</div>
<div class="line">[Wednesday 28 April 2010] [03:02:13] &lt;mike8901&gt; sustrik: I&#8217;m building a distributed compiler</div>
<div class="line">[Wednesday 28 April 2010] [03:02:37] &lt;mike8901&gt; similar to distcc, but much more efficient</div>
<div class="line">[Wednesday 28 April 2010] [03:10:46] &lt;sustrik&gt;  aha, interesting</div>
<div class="line">[Wednesday 28 April 2010] [03:10:58] &lt;sustrik&gt;  the point is make it compile faster?</div>
<div class="line">[Wednesday 28 April 2010] [03:12:34] &lt;sustrik&gt;  by running compilation of several machines at the same time?</div>
<div class="line">[Wednesday 28 April 2010] [09:46:56] &lt;b0gg1e&gt;   Hi</div>
<div class="line">[Wednesday 28 April 2010] [09:47:38] &lt;b0gg1e&gt;   I pushed some very early bindings for zeromq to go on github <a class="reference external" href="http://github.com/boggle/gozero">http://github.com/boggle/gozero</a></div>
<div class="line">[Wednesday 28 April 2010] [09:49:25] &lt;b0gg1e&gt;   Currently barely works there seems to happen some weirdness between go&#8217;s scheduler and zmq which I havent managed to understand yet, anyways feel free to peek or help</div>
<div class="line">[Wednesday 28 April 2010] [09:52:50] &lt;sustrik&gt;  b0ggle: great, thanks</div>
<div class="line">[Wednesday 28 April 2010] [09:53:10] &lt;sustrik&gt;  do you want to be referenced from zeromq.org website?</div>
<div class="line">[Wednesday 28 April 2010] [09:59:26] &lt;b0gg1e&gt;   its not actually usable right now, so that doesnt seem apropriate</div>
<div class="line">[Wednesday 28 April 2010] [10:00:27] &lt;sustrik&gt;  well, at least people would know about it</div>
<div class="line">[Wednesday 28 April 2010] [10:00:31] &lt;b0gg1e&gt;   more looking for help actually and am a bit lost whom to ask.. go people or zeromq people :-)</div>
<div class="line">[Wednesday 28 April 2010] [10:00:44] &lt;sustrik&gt;  you can place a big &#8220;EXPERIMENTAL&#8221; tag on the top of the page</div>
<div class="line">[Wednesday 28 April 2010] [10:01:19] &lt;b0gg1e&gt;   more like (BROKEN, NEEDS HELP)</div>
<div class="line">[Wednesday 28 April 2010] [10:01:28] &lt;sustrik&gt;  yes, sure</div>
<div class="line">[Wednesday 28 April 2010] [10:01:31] &lt;b0gg1e&gt;   ill do that on github</div>
<div class="line">[Wednesday 28 April 2010] [10:01:38] &lt;sustrik&gt;  as you wish</div>
<div class="line">[Wednesday 28 April 2010] [10:01:54] &lt;b0gg1e&gt;   maybe put a Go (EXPERIMENTAL) on the page if you like to</div>
<div class="line">[Wednesday 28 April 2010] [10:02:03] &lt;sustrik&gt;  sure</div>
<div class="line">[Wednesday 28 April 2010] [10:02:11] &lt;sustrik&gt;  do you want a wiki page on zeromq.org?</div>
<div class="line">[Wednesday 28 April 2010] [10:02:26] &lt;sustrik&gt;  or should i link to your page somewhere?</div>
<div class="line">[Wednesday 28 April 2010] [10:04:14] &lt;b0gg1e&gt;   A wiki page on zeromq.org would be nice</div>
<div class="line">[Wednesday 28 April 2010] [10:04:40] &lt;sustrik&gt;  ok, do this: open www.zeromq.org and create an account (top right of the page)</div>
<div class="line">[Wednesday 28 April 2010] [10:05:01] &lt;sustrik&gt;  let me know your login then and i&#8217;ll give you write access</div>
<div class="line">[Wednesday 28 April 2010] [10:09:18] &lt;b0gg1e&gt;   recovering wikidot account...</div>
<div class="line">[Wednesday 28 April 2010] [10:29:48] &lt;b0gg1e&gt;   account name is &#8220;splant&#8221;</div>
<div class="line">[Wednesday 28 April 2010] [10:31:13] &lt;sustrik&gt;  ok, you are invited</div>
<div class="line">[Wednesday 28 April 2010] [10:31:20] &lt;sustrik&gt;  i&#8217;ve created <a class="reference external" href="http://www.zeromq.org/bindings:go">http://www.zeromq.org/bindings:go</a></div>
<div class="line">[Wednesday 28 April 2010] [10:31:45] &lt;sustrik&gt;  put the python binding wiki page content there to give you some template</div>
<div class="line">[Wednesday 28 April 2010] [10:31:55] &lt;sustrik&gt;  feel free to edit it as you see fit</div>
<div class="line">[Wednesday 28 April 2010] [10:32:21] &lt;sustrik&gt;  b0ggle: let me know when it&#8217;s ready to be linked from the front page</div>
<div class="line">[Wednesday 28 April 2010] [10:38:36] &lt;b0gg1e&gt;   k thanks might take a while... the go folks are changing their gc and i might sit this out unless i have a good fast idea on how to fix things</div>
<div class="line">[Wednesday 28 April 2010] [10:39:06] &lt;sustrik&gt;  b0ggle: sure, it&#8217;s up to you</div>
<div class="line">[Wednesday 28 April 2010] [10:41:43] &lt;b0gg1e&gt;   i cant edit the page / dont see an edit link</div>
<div class="line">[Wednesday 28 April 2010] [11:22:36] &lt;sustrik&gt;  b0ggle: have you accepted the invitation?</div>
<div class="line">[Wednesday 28 April 2010] [11:25:00] &lt;sustrik&gt;  it doesn&#8217;t look so, i don&#8217;t see you among members</div>
<div class="line">[Wednesday 28 April 2010] [11:29:09] &lt;b0gg1e&gt;   ah</div>
<div class="line">[Wednesday 28 April 2010] [11:29:10] &lt;b0gg1e&gt;   :-)</div>
<div class="line">[Wednesday 28 April 2010] [11:29:46] &lt;b0gg1e&gt;   can edit now, thanks</div>
<div class="line">[Wednesday 28 April 2010] [11:32:36] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 28 April 2010] [11:59:10] &lt;b0gg1e&gt;   contexts are bound to the thread in which they are created.  is it possible to relax that to &#8220;contexts should only ever be used from a single thread at atime&#8221;?</div>
<div class="line">[Wednesday 28 April 2010] [11:59:52] &lt;b0gg1e&gt;   systems like erlang/go etc schedule lightweight processes on thread pools meaning the executing thread can change underneath you stackframe</div>
<div class="line">[Wednesday 28 April 2010] [12:06:10] &lt;sustrik&gt;  b0ggle: no, context are thread-safe and can be used from any thread</div>
<div class="line">[Wednesday 28 April 2010] [12:06:23] &lt;sustrik&gt;  the restricvtion you are speaking about applies to sockets</div>
<div class="line">[Wednesday 28 April 2010] [12:07:03] &lt;sustrik&gt;  and if you meant sockets, then no, it cannot be relaxed</div>
<div class="line">[Wednesday 28 April 2010] [12:07:16] &lt;b0gg1e&gt;   ah i ment sockets sure</div>
<div class="line">[Wednesday 28 April 2010] [12:08:24] &lt;b0gg1e&gt;   hm guess that has to do with the lock-free algos.  too bad, now i have to find out why go&#8217;s LockOSThread isnt working ;-(</div>
<div class="line">[Wednesday 28 April 2010] [12:08:39] &lt;b0gg1e&gt;   or what else is blocking.</div>
<div class="line">[Wednesday 28 April 2010] [12:09:02] &lt;sustrik&gt;  yes, it&#8217;s about lock-free queues</div>
<div class="line">[Wednesday 28 April 2010] [12:12:02] &lt;b0gg1e&gt;   that also means one cannot move contexts between threads which might also be nice for loadbalancing purposes</div>
<div class="line">[Wednesday 28 April 2010] [13:05:33] &lt;mike8901&gt; sustrik: Yup, the idea is to preproc on the master, do everything through object code generation on slave, and link together on master.</div>
<div class="line">[Wednesday 28 April 2010] [13:07:52] &lt;mike8901&gt; (in a much more efficient manner than distcc)</div>
<div class="line">[Wednesday 28 April 2010] [14:00:13] &lt;CIA-15&gt;   pyzmq: 03Brian E. Granger 07master * r1ffcf0e 10/ (zmq/_zmq.c zmq/_zmq.pyx): Removing SUBSCRIBE/UNSUBSCRIBE from the options in getsockopt. - <a class="reference external" href="http://bit.ly/cmNMa4">http://bit.ly/cmNMa4</a></div>
<div class="line">[Wednesday 28 April 2010] [15:28:51] &lt;sustrik&gt;  mike8901: aha, looks like good match for 0mq; pitty there&#8217;s the licensing problem</div>
<div class="line">[Wednesday 28 April 2010] [16:26:10] &lt;CIA-15&gt;   pyzmq: 03Brian E. Granger 07master * r7a9d487 10/ (zmq/_zmq.c zmq/_zmq.pyx zmq/zmq_compat.h):</div>
<div class="line">[Wednesday 28 April 2010] [16:26:10] &lt;CIA-15&gt;   pyzmq: Created zmq_compat.h for a compatibility header file.</div>
<div class="line">[Wednesday 28 April 2010] [16:26:10] &lt;CIA-15&gt;   pyzmq: This will hopefully fix the int64_t issue. - <a class="reference external" href="http://bit.ly/91UClL">http://bit.ly/91UClL</a></div>
<div class="line">[Wednesday 28 April 2010] [16:43:20] &lt;mike8901&gt; sustrik: yeah, zmq has worked out pretty nicely so far... you&#8217;re welcome to follow along at <a class="reference external" href="http://github.com/jhoush/dist-clang">http://github.com/jhoush/dist-clang</a></div>
<div class="line">[Wednesday 28 April 2010] [16:43:55] &lt;mike8901&gt; comments on (mis-)use of zeromq are greatly appriciated... there are probably some ways to use it better</div>
<div class="line">[Wednesday 28 April 2010] [16:44:32] &lt;mike8901&gt; right now, we&#8217;re just doing basic point-to-point communication between nodes</div>
<div class="line">[Wednesday 28 April 2010] [16:45:25] &lt;mike8901&gt; it might be better to do a multicast setup so work-stealing can be done without rebroadcasting the data(i.e. slaves maintain a cache of files sent out to other slaves so they can steal work from another slave without asking for the data to be sent out again)</div>
<div class="line">[Wednesday 28 April 2010] [16:46:23] &lt;mike8901&gt; It&#8217;s a shame we have a deadline in 2.5 weeks, so we&#8217;re basocally racing to finish this, and can&#8217;t do too many interesting optimizations</div>
<div class="line">[Wednesday 28 April 2010] [16:46:27] &lt;mike8901&gt; <a href="#id107"><span class="problematic" id="id108">*</span></a>basically</div>
<div class="line">[Wednesday 28 April 2010] [16:51:30] &lt;CIA-15&gt;   pyzmq: 03Brian E. Granger 07master * r6ff6da2 10/ README.rst : Edits to the README.rst. - <a class="reference external" href="http://bit.ly/dmPyGi">http://bit.ly/dmPyGi</a></div>
<div class="line">[Wednesday 28 April 2010] [17:27:29] &lt;mike8901&gt; sustrik: I ran into an issue where error_t was being defined by one(I don&#8217;t know which) of the headers included... I had to #undef error_t to use zmq.hpp.</div>
<div class="line">[Wednesday 28 April 2010] [17:27:35] &lt;mike8901&gt; Is that a known issue?</div>
<div class="line">[Wednesday 28 April 2010] [17:42:20] &lt;bgranger&gt; sustrik: I am trying out the XREP/XREQ support that you added yesterday</div>
<div class="line">[Thursday 29 April 2010] [01:34:52] &lt;sustrik&gt;   mike8901: no</div>
<div class="line">[Thursday 29 April 2010] [01:35:07] &lt;sustrik&gt;   can you check out where&#8217;s the other error_t included?</div>
<div class="line">[Thursday 29 April 2010] [01:35:13] &lt;sustrik&gt;   defined*</div>
<div class="line">[Thursday 29 April 2010] [01:38:40] &lt;sustrik&gt;   if it was a type, it wouldn&#8217;t be a problem - 0MQ error_t is defined within namespace zmq - the define is worse</div>
<div class="line">[Thursday 29 April 2010] [01:39:14] &lt;sustrik&gt;   bgranger: it&#8217;s almost untested</div>
<div class="line">[Thursday 29 April 2010] [01:39:20] &lt;sustrik&gt;   any problems with it?</div>
<div class="line">[Thursday 29 April 2010] [05:36:10] &lt;CIA-15&gt;    zeromq2: 03Steven McCoy 07master * r7cb076e 10/ (3 files): Defer NetBSD atomic ops to GCC builtins. Revert Sun atomic ops #define. - <a class="reference external" href="http://bit.ly/bJ10EV">http://bit.ly/bJ10EV</a></div>
<div class="line">[Thursday 29 April 2010] [05:59:30] Notice  -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Thursday 29 April 2010] [05:59:30] Notice  -NickServ- You are now identified for travlr.</div>
<div class="line">[Thursday 29 April 2010] [05:59:31] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 29 April 2010] [05:59:33] Notice  -ChanServ- [#qt-labs] Welcome to the Qt developers public hideout. Qt Development Frameworks personnel will have Voice status, so they should be easy to pinpoint in the crowd. Please do not paste large blocks of code in the channel, but rather use a pastebin site.</div>
<div class="line">[Thursday 29 April 2010] [05:59:33] Notice  -ChanServ- [#rekonq] welcome to rekonq, webkit KDE browser, channel</div>
<div class="line">[Thursday 29 April 2010] [05:59:33] Notice  -ChanServ- [#qt] Here are the rules for #qt: (1) Don&#8217;t just join, ask, and quit - stay around and answer questions yourself! (2) Be patient, people may not see your question right away.</div>
<div class="line">[Thursday 29 April 2010] [11:20:16] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * rc193fd1 10/ (18 files in 3 dirs): lock-free polling removed; ZMQ_POLL flag removed - <a class="reference external" href="http://bit.ly/csD6bs">http://bit.ly/csD6bs</a></div>
<div class="line">[Thursday 29 April 2010] [11:31:50] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r37128b7 10/ (10 files): fd_signaler_t renamed to signaler_t - <a class="reference external" href="http://bit.ly/d8kupZ">http://bit.ly/d8kupZ</a></div>
<div class="line">[Thursday 29 April 2010] [11:46:01] &lt;bgranger&gt;  sustrik:  I am back, I might have found a bug with the new XREP/XREQ stuff, but I am not sure.</div>
<div class="line">[Thursday 29 April 2010] [11:46:10] &lt;sustrik&gt;   hi</div>
<div class="line">[Thursday 29 April 2010] [11:46:15] &lt;sustrik&gt;   what bug?</div>
<div class="line">[Thursday 29 April 2010] [11:46:23] &lt;bgranger&gt;  But I want to make sure I understand what it should be doing</div>
<div class="line">[Thursday 29 April 2010] [11:46:32]      * sustrik is listening</div>
<div class="line">[Thursday 29 April 2010] [11:46:44] &lt;bgranger&gt;  The identity string should still be there, as the first part of a multipart message?</div>
<div class="line">[Thursday 29 April 2010] [11:47:15] &lt;sustrik&gt;   in REQ/REP</div>
<div class="line">[Thursday 29 April 2010] [11:47:17] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 29 April 2010] [11:47:24] &lt;bgranger&gt;  In XREP/XREQ</div>
<div class="line">[Thursday 29 April 2010] [11:47:37] &lt;sustrik&gt;   well, it works in this way:</div>
<div class="line">[Thursday 29 April 2010] [11:47:56] &lt;sustrik&gt;   each node identifies itself when the connection is created to its peer</div>
<div class="line">[Thursday 29 April 2010] [11:48:19] &lt;sustrik&gt;   when REQ sends a request, the only prefix is empty message part</div>
<div class="line">[Thursday 29 April 2010] [11:48:23] &lt;bgranger&gt;  Is this the same as the ZMQ_IDENTITY</div>
<div class="line">[Thursday 29 April 2010] [11:48:38] &lt;sustrik&gt;   no, it&#8217;s just a delimiter</div>
<div class="line">[Thursday 29 April 2010] [11:48:44] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 29 April 2010] [11:48:56] &lt;sustrik&gt;   then on the XREP side XREP sockets adds new prefix</div>
<div class="line">[Thursday 29 April 2010] [11:49:01] &lt;sustrik&gt;   the identity of the sender</div>
<div class="line">[Thursday 29 April 2010] [11:49:06] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:49:16] &lt;sustrik&gt;   XREQ socket sends the message further with no change</div>
<div class="line">[Thursday 29 April 2010] [11:49:29] &lt;sustrik&gt;   at the end of the chain there&#8217;s a REP socket</div>
<div class="line">[Thursday 29 April 2010] [11:49:40] &lt;sustrik&gt;   which extracts all the prefixes from the message</div>
<div class="line">[Thursday 29 April 2010] [11:49:53] &lt;sustrik&gt;   until it finds an empty message part (the delimiter)</div>
<div class="line">[Thursday 29 April 2010] [11:50:03] &lt;sustrik&gt;   the rest is passed to the user</div>
<div class="line">[Thursday 29 April 2010] [11:50:09] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 29 April 2010] [11:50:13] &lt;sustrik&gt;   when user send a reply</div>
<div class="line">[Thursday 29 April 2010] [11:50:30] &lt;bgranger&gt;  I am using a single XREP socket, so when I do a recv, I see the identity string</div>
<div class="line">[Thursday 29 April 2010] [11:50:35] &lt;sustrik&gt;   REP socket attaches all the prefixes from the request to the reply and sends it further</div>
<div class="line">[Thursday 29 April 2010] [11:50:49] &lt;sustrik&gt;   let me finish</div>
<div class="line">[Thursday 29 April 2010] [11:50:53] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 29 April 2010] [11:51:05] &lt;sustrik&gt;   XREQ socket passes the reply further unchanged</div>
<div class="line">[Thursday 29 April 2010] [11:51:25] &lt;sustrik&gt;   XREP socket strips the first prefix and uses it to forward the reply to the right connection</div>
<div class="line">[Thursday 29 April 2010] [11:51:43] &lt;sustrik&gt;   finally REQ socket strips the delimiter and returns the reply to the user</div>
<div class="line">[Thursday 29 April 2010] [11:51:48] &lt;sustrik&gt;   that&#8217;s all</div>
<div class="line">[Thursday 29 April 2010] [11:51:53] &lt;bgranger&gt;  This is in a configuration where an XREP forwards to an XREQ.</div>
<div class="line">[Thursday 29 April 2010] [11:52:05] &lt;sustrik&gt;   right, standard shared queue thing</div>
<div class="line">[Thursday 29 April 2010] [11:52:17] &lt;sustrik&gt;   now you have XREQ/XREP setting, right?</div>
<div class="line">[Thursday 29 April 2010] [11:53:14] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:53:26] &lt;sustrik&gt;   so this is what is expected:</div>
<div class="line">[Thursday 29 April 2010] [11:53:30] &lt;bgranger&gt;  I am not forwarding the XREP onto an XREQ</div>
<div class="line">[Thursday 29 April 2010] [11:53:42] &lt;sustrik&gt;   you send a request to XREQ socket</div>
<div class="line">[Thursday 29 April 2010] [11:53:49] &lt;sustrik&gt;   retrieve is from XREP socket</div>
<div class="line">[Thursday 29 April 2010] [11:54:04] &lt;sustrik&gt;   it should be prefixed by XREQ&#8217;s identity</div>
<div class="line">[Thursday 29 April 2010] [11:54:07] &lt;bgranger&gt;  Yes</div>
<div class="line">[Thursday 29 April 2010] [11:54:14] &lt;sustrik&gt;   however, you shouldn&#8217;t see the identity on the wire</div>
<div class="line">[Thursday 29 April 2010] [11:54:20] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:54:23] &lt;sustrik&gt;   (it&#8217;s passed on connection initiation only)</div>
<div class="line">[Thursday 29 April 2010] [11:54:33] &lt;sustrik&gt;   when you send a reply</div>
<div class="line">[Thursday 29 April 2010] [11:54:50] &lt;sustrik&gt;   first prefix is used to route the message to the right XREQ socket</div>
<div class="line">[Thursday 29 April 2010] [11:55:06] &lt;sustrik&gt;   if there&#8217;s no such peer, the reply is dropped</div>
<div class="line">[Thursday 29 April 2010] [11:55:16] &lt;bgranger&gt;  Right, we had that working fine before the multipart message stuff.</div>
<div class="line">[Thursday 29 April 2010] [11:55:28] &lt;sustrik&gt;   once again, the prefix should not be visible on the wire</div>
<div class="line">[Thursday 29 April 2010] [11:55:50] &lt;sustrik&gt;   also, you should receive the reply _w/<a href="#id354"><span class="problematic" id="id355">o_</span></a> the prefix</div>
<div class="line">[Thursday 29 April 2010] [11:55:53] &lt;sustrik&gt;   that&#8217;s it</div>
<div class="line">[Thursday 29 April 2010] [11:55:58] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 29 April 2010] [11:56:04] &lt;bgranger&gt;  Here is what we are seeing now:</div>
<div class="line">[Thursday 29 April 2010] [11:56:20] &lt;bgranger&gt;  s = c.socket(zmq.XREP)</div>
<div class="line">[Thursday 29 April 2010] [11:56:28] &lt;bgranger&gt;  s.bind(&#8216;<a class="reference external" href="tcp://127.0.0.1">tcp://127.0.0.1</a>&#8216;)</div>
<div class="line">[Thursday 29 April 2010] [11:56:41] &lt;bgranger&gt;  s.recv()</div>
<div class="line">[Thursday 29 April 2010] [11:56:48] &lt;bgranger&gt;  &#8216;x00xbaxd2Tx96xd6x8eLxabx84x19xa9xa5xe6x1fx95xeb&#8217;</div>
<div class="line">[Thursday 29 April 2010] [11:56:54] &lt;bgranger&gt;  s.rcvmore()</div>
<div class="line">[Thursday 29 April 2010] [11:56:58] &lt;bgranger&gt;  False</div>
<div class="line">[Thursday 29 April 2010] [11:57:05] &lt;bgranger&gt;  s.recv()</div>
<div class="line">[Thursday 29 April 2010] [11:57:10] &lt;bgranger&gt;  &#8216;themessage&#8217;</div>
<div class="line">[Thursday 29 April 2010] [11:57:37] &lt;bgranger&gt;  Is this correct?  I was expecting rcvmore() to return True (more is coming).</div>
<div class="line">[Thursday 29 April 2010] [11:57:50] &lt;sustrik&gt;   yeah</div>
<div class="line">[Thursday 29 April 2010] [11:57:55] &lt;sustrik&gt;   looks like a bug</div>
<div class="line">[Thursday 29 April 2010] [11:58:19] &lt;bgranger&gt;  So, the identity should show up as the first part of a multipart message in this type of situation?</div>
<div class="line">[Thursday 29 April 2010] [11:58:27] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 29 April 2010] [11:58:34] &lt;sustrik&gt;   and it&#8217;s there AFAIU</div>
<div class="line">[Thursday 29 April 2010] [11:58:43] &lt;sustrik&gt;   (auto-generated UUID)</div>
<div class="line">[Thursday 29 April 2010] [11:59:00] &lt;sustrik&gt;   have you set identity manually on the XREQ socket?</div>
<div class="line">[Thursday 29 April 2010] [11:59:09] &lt;bgranger&gt;  No, not in this case</div>
<div class="line">[Thursday 29 April 2010] [11:59:11] &lt;bgranger&gt;  Should I</div>
<div class="line">[Thursday 29 April 2010] [11:59:13] &lt;sustrik&gt;   then it&#8217;s ok</div>
<div class="line">[Thursday 29 April 2010] [11:59:21] &lt;sustrik&gt;   the False is bug though</div>
<div class="line">[Thursday 29 April 2010] [11:59:56] &lt;sustrik&gt;   i&#8217;ll have a look at it shortly...</div>
<div class="line">[Thursday 29 April 2010] [11:59:57] &lt;bgranger&gt;  How is the auto-generated UUID related to the ZMQ_IDENTITY if it is set?</div>
<div class="line">[Thursday 29 April 2010] [12:00:14] &lt;sustrik&gt;   UUID is generated only if there&#8217;s no identity</div>
<div class="line">[Thursday 29 April 2010] [12:00:32] &lt;bgranger&gt;  OK, so I should see the ZMQ_IDENTITY there if it has been set</div>
<div class="line">[Thursday 29 April 2010] [12:00:36] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 29 April 2010] [12:00:46] &lt;bgranger&gt;  Also, what do you think of the socket.rcvmore() API?</div>
<div class="line">[Thursday 29 April 2010] [12:00:59] &lt;bgranger&gt;  I also wrapped getsockopt as well.</div>
<div class="line">[Thursday 29 April 2010] [12:01:13] &lt;sustrik&gt;   it&#8217;s shorthand for getsockopt (ZMQ_MORE) ?</div>
<div class="line">[Thursday 29 April 2010] [12:01:20] &lt;bgranger&gt;  Yes</div>
<div class="line">[Thursday 29 April 2010] [12:01:27] &lt;sustrik&gt;   yes, seems reasonable</div>
<div class="line">[Thursday 29 April 2010] [12:01:33] &lt;bgranger&gt;  Isn&#8217;t it ZMQ_RCVMORE though?</div>
<div class="line">[Thursday 29 April 2010] [12:01:42] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 29 April 2010] [12:01:49] &lt;sustrik&gt;   lemme see</div>
<div class="line">[Thursday 29 April 2010] [12:01:54] &lt;bgranger&gt;  Cool, thanks!</div>
<div class="line">[Thursday 29 April 2010] [12:02:15] &lt;sustrik&gt;   right RCVMORE :)</div>
<div class="line">[Thursday 29 April 2010] [12:02:55] &lt;bgranger&gt;  The multipart stuff is fantastic though - will <em>really</em> help us</div>
<div class="line">[Thursday 29 April 2010] [12:03:30] &lt;bgranger&gt;  I will write a test suite for the multipart stuff to help test it all</div>
<div class="line">[Thursday 29 April 2010] [12:03:45] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r1ffc6dd 10/ (configure.in src/signaler.cpp src/signaler.hpp): eventfd-style signaling removed - <a class="reference external" href="http://bit.ly/9Jk5gv">http://bit.ly/9Jk5gv</a></div>
<div class="line">[Thursday 29 April 2010] [12:09:15] &lt;sustrik&gt;   bgranger: great, test suite will be of much help</div>
<div class="line">[Thursday 29 April 2010] [13:44:33] &lt;sustrik&gt;   bgranger: i don&#8217;t seem to have an option to close the issue</div>
<div class="line">[Thursday 29 April 2010] [13:45:00] &lt;sustrik&gt;   presumably only the original create of the issue can close it</div>
<div class="line">[Thursday 29 April 2010] [13:45:18] &lt;bgranger&gt;  Which issue?</div>
<div class="line">[Thursday 29 April 2010] [13:45:34] &lt;bgranger&gt;  I just close the one about ZMQ_IDENTITY a second ago</div>
<div class="line">[Thursday 29 April 2010] [13:45:45] &lt;sustrik&gt;   ah, good</div>
<div class="line">[Thursday 29 April 2010] [13:45:54] &lt;sustrik&gt;   thanks</div>
<div class="line">[Thursday 29 April 2010] [13:46:49] &lt;bgranger&gt;  sustrik:  so is ZMQ_POLL gone for good?</div>
<div class="line">[Thursday 29 April 2010] [13:47:10] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 29 April 2010] [13:47:28] &lt;sustrik&gt;   well, it&#8217;s still there to retain backward compatibility</div>
<div class="line">[Thursday 29 April 2010] [13:47:36] &lt;sustrik&gt;   but it does nothing</div>
<div class="line">[Thursday 29 April 2010] [13:48:06] &lt;sustrik&gt;   zmq_poll can be used by default now</div>
<div class="line">[Thursday 29 April 2010] [13:48:19] &lt;CIA-15&gt;    pyzmq: 03Brian E. Granger 07master * r4bf8945 10/ (zmq/_zmq.c zmq/_zmq.pyx): Fixing but in Python bindings to getsockopt with IDENTITY. - <a class="reference external" href="http://bit.ly/atHUvJ">http://bit.ly/atHUvJ</a></div>
<div class="line">[Thursday 29 April 2010] [13:48:36] &lt;bgranger&gt;  Nice, wasn&#8217;t there a small performance issue before?</div>
<div class="line">[Thursday 29 April 2010] [13:49:28] &lt;sustrik&gt;   it&#8217;s still there</div>
<div class="line">[Thursday 29 April 2010] [13:49:36] &lt;sustrik&gt;   the impact is ~2us on the latency side</div>
<div class="line">[Thursday 29 April 2010] [13:49:47] &lt;sustrik&gt;   on Linux</div>
<div class="line">[Thursday 29 April 2010] [13:50:03] &lt;sustrik&gt;   but the advantages seem worth of it</div>
<div class="line">[Thursday 29 April 2010] [13:50:37] &lt;sustrik&gt;   1. no annoying ZMQ_POLL flag</div>
<div class="line">[Thursday 29 April 2010] [13:50:50] &lt;sustrik&gt;   2. any number of threads can be used! even &gt;64</div>
<div class="line">[Thursday 29 April 2010] [13:51:04] &lt;sustrik&gt;   3. significant codebase simplification</div>
<div class="line">[Thursday 29 April 2010] [13:59:49] &lt;bgranger&gt;  Seems like a good trade off.  I like simplicity :)</div>
<div class="line">[Thursday 29 April 2010] [14:34:38] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * rae93ed3 10/ (12 files): signaler rewritten in such a way that any number (&gt;64) of threads can be used - <a class="reference external" href="http://bit.ly/chon4a">http://bit.ly/chon4a</a></div>
<div class="line">[Thursday 29 April 2010] [14:53:41] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * rbeb4da3 10/ (builds/msvc/libzmq/libzmq.vcproj src/signaler.cpp): windows port fixed - <a class="reference external" href="http://bit.ly/9BogHN">http://bit.ly/9BogHN</a></div>
<div class="line">[Thursday 29 April 2010] [22:54:17] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * racfd0f8 10/ src/xrep.cpp : prefix in XREP recv&#8217;d message misses MORE flag - <a class="reference external" href="http://bit.ly/aPynXa">http://bit.ly/aPynXa</a></div>
<div class="line">[Thursday 29 April 2010] [22:54:17] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r4a6bac1 10/ (builds/msvc/libzmq/libzmq.vcproj src/signaler.cpp): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/axsva4">http://bit.ly/axsva4</a></div>
<div class="line">[Thursday 29 April 2010] [22:54:25] &lt;sustrik&gt;   bgranger: try now</div>
<div class="line">[Friday 30 April 2010] [11:46:40] &lt;CIA-15&gt;  pyzmq: 03Brian E. Granger 07master * rb2097cf 10/ setup.cfg.template : Adding runtime_library_dirs option to setup.cfg.template. - <a class="reference external" href="http://bit.ly/aw2Xtd">http://bit.ly/aw2Xtd</a></div>
<div class="line">[Friday 30 April 2010] [18:51:46] &lt;bgranger&gt;    sustrik: are you around?</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2010-March.html"
                        title="previous chapter">&lt;no title&gt;</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="2010-May.html"
                        title="next chapter">&lt;no title&gt;</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2010-April.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2010-May.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="2010-March.html" title="&lt;no title&gt;"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>