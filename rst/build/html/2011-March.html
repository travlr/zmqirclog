

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="line-block">
<div class="line">[Friday 18 March 2011] [06:51:12] &lt;sustrik&gt;   oh well</div>
<div class="line">[Friday 18 March 2011] [06:51:41] &lt;sustrik&gt;   so it&#8217;s up to the rest of erlzmq community to drive the project forward</div>
<div class="line">[Friday 18 March 2011] [06:51:51] &lt;yrashk&gt;    yup</div>
<div class="line">[Friday 18 March 2011] [06:52:01] &lt;yrashk&gt;    but again</div>
<div class="line">[Friday 18 March 2011] [06:52:10] &lt;yrashk&gt;    erlzmq and erlzq2 can&#8217;t be merged by any means</div>
<div class="line">[Friday 18 March 2011] [06:52:15] &lt;yrashk&gt;    they are way too different</div>
<div class="line">[Friday 18 March 2011] [06:52:17] &lt;sustrik&gt;   yes, the codebase itself cannot be merged</div>
<div class="line">[Friday 18 March 2011] [06:52:25] &lt;yrashk&gt;    erlzmq2 won&#8217;t work with older Erlang VMs</div>
<div class="line">[Friday 18 March 2011] [06:52:30] &lt;yrashk&gt;    as it uses a new binding technique</div>
<div class="line">[Friday 18 March 2011] [06:52:30] &lt;sustrik&gt;   what could be merged is functionality</div>
<div class="line">[Friday 18 March 2011] [06:52:39] &lt;yrashk&gt;    I thiknk they are very close functionally</div>
<div class="line">[Friday 18 March 2011] [06:53:00] &lt;sustrik&gt;   close = equivalent?</div>
<div class="line">[Friday 18 March 2011] [06:53:00] &lt;yrashk&gt;    we don&#8217;t have an active mode (like saleyn had for the main erlzmq)</div>
<div class="line">[Friday 18 March 2011] [06:53:11] &lt;yrashk&gt;    APIs is not absolutely equivalent, no</div>
<div class="line">[Friday 18 March 2011] [06:53:22] &lt;yrashk&gt;    module names are different, app name is different</div>
<div class="line">[Friday 18 March 2011] [06:53:24] &lt;sustrik&gt;   the problem is that as long as there&#8217;s functionality missing, those using one binding</div>
<div class="line">[Friday 18 March 2011] [06:53:28] &lt;yrashk&gt;    some calls might look a little bit different</div>
<div class="line">[Friday 18 March 2011] [06:53:29] &lt;sustrik&gt;   cannot switch to anotherone</div>
<div class="line">[Friday 18 March 2011] [06:53:39] &lt;yrashk&gt;    I don&#8217;t think we have any functionality missing, really</div>
<div class="line">[Friday 18 March 2011] [06:53:52] &lt;yrashk&gt;    active mode was controversial anyway</div>
<div class="line">[Friday 18 March 2011] [06:54:01] &lt;yrashk&gt;    I think jugg opposed it a lot</div>
<div class="line">[Friday 18 March 2011] [06:54:14] &lt;sustrik&gt;   doesn&#8217;t it have to do with pushback?</div>
<div class="line">[Friday 18 March 2011] [06:54:27] &lt;sustrik&gt;   won&#8217;t passive mode just exhaust all the memory</div>
<div class="line">[Friday 18 March 2011] [06:54:34] &lt;sustrik&gt;   if sender is faster than receiver?</div>
<div class="line">[Friday 18 March 2011] [06:54:50] &lt;yrashk&gt;    well</div>
<div class="line">[Friday 18 March 2011] [06:55:00] &lt;yrashk&gt;    passive mode is pretty much reliant on the way 0mq works</div>
<div class="line">[Friday 18 March 2011] [06:55:34] &lt;yrashk&gt;    recv/poll</div>
<div class="line">[Friday 18 March 2011] [06:55:50] &lt;yrashk&gt;    there are certain issues why we haven&#8217;t implemented active mode yet</div>
<div class="line">[Friday 18 March 2011] [06:56:07] &lt;yrashk&gt;    we could have done a workaround.. but still not sure if it is worth it</div>
<div class="line">[Friday 18 March 2011] [06:56:22] &lt;yrashk&gt;    it probably is worth a try</div>
<div class="line">[Friday 18 March 2011] [06:56:23] &lt;sustrik&gt;   is there any other way to implement pushback?</div>
<div class="line">[Friday 18 March 2011] [06:56:34] &lt;yrashk&gt;    what od you mean by a pushback?</div>
<div class="line">[Friday 18 March 2011] [06:56:59] &lt;sustrik&gt;   meaning that when the receiving end is not able to keep up with the sender</div>
<div class="line">[Friday 18 March 2011] [06:57:05] &lt;sustrik&gt;   the sender gets blocked</div>
<div class="line">[Friday 18 March 2011] [06:57:19] &lt;sustrik&gt;   until the receiver catches up</div>
<div class="line">[Friday 18 March 2011] [06:57:23] &lt;yrashk&gt;    not sure how to do anything about this</div>
<div class="line">[Friday 18 March 2011] [06:57:36] &lt;sustrik&gt;   i think that was what active mode was for</div>
<div class="line">[Friday 18 March 2011] [06:57:37] &lt;yrashk&gt;    basically what we do is we just pass messages back to erlang</div>
<div class="line">[Friday 18 March 2011] [06:57:42] &lt;yrashk&gt;    either directly or as actual essages</div>
<div class="line">[Friday 18 March 2011] [06:58:03] &lt;yrashk&gt;    active mode is just something that does recv for you, basically</div>
<div class="line">[Friday 18 March 2011] [06:58:25] &lt;yrashk&gt;    so I am not sure</div>
<div class="line">[Friday 18 March 2011] [06:58:45] &lt;sustrik&gt;   the problem is that erlang stores the messages in erlang mailbox</div>
<div class="line">[Friday 18 March 2011] [06:58:50] &lt;yrashk&gt;    yep</div>
<div class="line">[Friday 18 March 2011] [06:58:51] &lt;sustrik&gt;   which grows indefinitely</div>
<div class="line">[Friday 18 March 2011] [06:58:57] &lt;yrashk&gt;    but we don&#8217;t send them unless you request</div>
<div class="line">[Friday 18 March 2011] [06:59:10] &lt;yrashk&gt;    active is what sends them regardless of whether you can keep up</div>
<div class="line">[Friday 18 March 2011] [06:59:16] &lt;yrashk&gt;    our recv() algo is simple</div>
<div class="line">[Friday 18 March 2011] [06:59:27] &lt;yrashk&gt;    1. recv noblock</div>
<div class="line">[Friday 18 March 2011] [06:59:31] &lt;yrashk&gt;    2. if there was something, return</div>
<div class="line">[Friday 18 March 2011] [06:59:40] &lt;yrashk&gt;    3. if not, let the reader thread poll it</div>
<div class="line">[Friday 18 March 2011] [06:59:51] &lt;sustrik&gt;   yes, that&#8217;s ok</div>
<div class="line">[Friday 18 March 2011] [06:59:52] &lt;yrashk&gt;    4. when something appears there, send a message to the original requesting process</div>
<div class="line">[Friday 18 March 2011] [06:59:58] &lt;sustrik&gt;   what about the sender side?</div>
<div class="line">[Friday 18 March 2011] [07:00:16] &lt;yrashk&gt;    sender just does send() and that&#8217;s it</div>
<div class="line">[Friday 18 March 2011] [07:00:27] &lt;sustrik&gt;   it blocks the thread?</div>
<div class="line">[Friday 18 March 2011] [07:00:38] &lt;yrashk&gt;    you mean the scheduler?</div>
<div class="line">[Friday 18 March 2011] [07:00:42] &lt;sustrik&gt;   then you can end up with deadlocked erlang VM</div>
<div class="line">[Friday 18 March 2011] [07:00:51] &lt;sustrik&gt;   i mean physicall thread</div>
<div class="line">[Friday 18 March 2011] [07:00:57] &lt;sustrik&gt;   from erlang&#8217;s thread pool</div>
<div class="line">[Friday 18 March 2011] [07:01:02] &lt;yrashk&gt;    if you don&#8217;t pass noblock, yes it will block the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:01:08] &lt;yrashk&gt;    we don&#8217;t use erlang&#8217;s thead pool</div>
<div class="line">[Friday 18 March 2011] [07:01:20] &lt;yrashk&gt;    NIF calls block the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:01:35] &lt;sustrik&gt;   i mean, erlang VM has to execute in an OS thread(s)</div>
<div class="line">[Friday 18 March 2011] [07:01:46] &lt;yrashk&gt;    so if zmq_send blocks, the VM is blocked (well, one cpu core is blocked, to be precise)</div>
<div class="line">[Friday 18 March 2011] [07:01:59] &lt;sustrik&gt;   exactly</div>
<div class="line">[Friday 18 March 2011] [07:02:00] &lt;yrashk&gt;    yes, erlang vm usually has # of schedulers equal to number of cores</div>
<div class="line">[Friday 18 March 2011] [07:02:08] &lt;sustrik&gt;   so, if there&#8217;s 1 CPU</div>
<div class="line">[Friday 18 March 2011] [07:02:20] &lt;yrashk&gt;    and 1 core?</div>
<div class="line">[Friday 18 March 2011] [07:02:27] &lt;sustrik&gt;   and you call invoke 0mq in a blocking way</div>
<div class="line">[Friday 18 March 2011] [07:02:41] &lt;sustrik&gt;   the whole OS process gets bloecked</div>
<div class="line">[Friday 18 March 2011] [07:02:43] &lt;yrashk&gt;    it will fuck up, yes</div>
<div class="line">[Friday 18 March 2011] [07:02:52] &lt;yrashk&gt;    we were thinking about non-blocking send()</div>
<div class="line">[Friday 18 March 2011] [07:02:58] &lt;yrashk&gt;    just haven&#8217;t done it yet</div>
<div class="line">[Friday 18 March 2011] [07:03:08] &lt;yrashk&gt;    there&#8217;s nothing that prevents us from doing it</div>
<div class="line">[Friday 18 March 2011] [07:03:30] &lt;sustrik&gt;   that would mean busy-looping and 100% CPU usage, no?</div>
<div class="line">[Friday 18 March 2011] [07:03:54] &lt;yrashk&gt;    nah</div>
<div class="line">[Friday 18 March 2011] [07:04:02] &lt;yrashk&gt;    we poll on internal inproc sockets</div>
<div class="line">[Friday 18 March 2011] [07:04:06] &lt;yrashk&gt;    for commands</div>
<div class="line">[Friday 18 March 2011] [07:04:13] &lt;yrashk&gt;    in the receiver thread</div>
<div class="line">[Friday 18 March 2011] [07:04:17] &lt;yrashk&gt;    which does async recv</div>
<div class="line">[Friday 18 March 2011] [07:04:37] &lt;yrashk&gt;    so we can do the same thing for send, pretty much</div>
<div class="line">[Friday 18 March 2011] [07:04:41] &lt;yrashk&gt;    may be even in the same thread</div>
<div class="line">[Friday 18 March 2011] [07:04:43] &lt;sustrik&gt;   aha</div>
<div class="line">[Friday 18 March 2011] [07:04:55] &lt;yrashk&gt;    no biggie</div>
<div class="line">[Friday 18 March 2011] [07:05:00] &lt;sustrik&gt;   that way the polling doesn&#8217;t block the erlang scheduler, right?</div>
<div class="line">[Friday 18 March 2011] [07:05:02] &lt;yrashk&gt;    will take probabyl an hour or two to implement</div>
<div class="line">[Friday 18 March 2011] [07:05:07] &lt;yrashk&gt;    it does not</div>
<div class="line">[Friday 18 March 2011] [07:05:10] &lt;yrashk&gt;    it never does</div>
<div class="line">[Friday 18 March 2011] [07:05:14] &lt;sustrik&gt;   nice</div>
<div class="line">[Friday 18 March 2011] [07:05:21] &lt;yrashk&gt;    it&#8217;s always in that second thread</div>
<div class="line">[Friday 18 March 2011] [07:05:27] &lt;yrashk&gt;    we have one thread per context</div>
<div class="line">[Friday 18 March 2011] [07:05:38] &lt;yrashk&gt;    which I guess is good enough</div>
<div class="line">[Friday 18 March 2011] [07:05:43] &lt;yrashk&gt;    originally I had a thread per socket</div>
<div class="line">[Friday 18 March 2011] [07:05:47] &lt;yrashk&gt;    and that was a tad nasty</div>
<div class="line">[Friday 18 March 2011] [07:05:56] &lt;yrashk&gt;    but evax refactored this nicely</div>
<div class="line">[Friday 18 March 2011] [07:06:05] &lt;sustrik&gt;   so erlang allows you to say &#8220;please invoke this code when this file descriptor becomes active&#8221;?</div>
<div class="line">[Friday 18 March 2011] [07:06:23] &lt;sustrik&gt;   and erlang scheduler will do that for you</div>
<div class="line">[Friday 18 March 2011] [07:06:28] &lt;yrashk&gt;    no, it&#8217;s all manual</div>
<div class="line">[Friday 18 March 2011] [07:06:41] &lt;yrashk&gt;    there&#8217;s some FD stuff in there, but not for NIFs afaik</div>
<div class="line">[Friday 18 March 2011] [07:06:59] &lt;yrashk&gt;    basically, when we poll in that thread</div>
<div class="line">[Friday 18 March 2011] [07:07:01] &lt;sustrik&gt;   the question is whether waiting for FD blocks the OS thread or not</div>
<div class="line">[Friday 18 March 2011] [07:07:16] &lt;yrashk&gt;    you mean zmq_poll?</div>
<div class="line">[Friday 18 March 2011] [07:07:22] &lt;sustrik&gt;   are you using zmq_poll?</div>
<div class="line">[Friday 18 March 2011] [07:07:24] &lt;yrashk&gt;    yes</div>
<div class="line">[Friday 18 March 2011] [07:07:33] &lt;sustrik&gt;   zmq_poll is blocking</div>
<div class="line">[Friday 18 March 2011] [07:07:38] &lt;yrashk&gt;    yes, and that&#8217;s fine</div>
<div class="line">[Friday 18 March 2011] [07:07:43] &lt;yrashk&gt;    because we&#8217;re in a separate thread</div>
<div class="line">[Friday 18 March 2011] [07:07:54] &lt;yrashk&gt;    which erlang has no idea about</div>
<div class="line">[Friday 18 March 2011] [07:07:55] &lt;sustrik&gt;   outside of erlang VM?</div>
<div class="line">[Friday 18 March 2011] [07:07:59] &lt;sustrik&gt;   i see</div>
<div class="line">[Friday 18 March 2011] [07:08:01] &lt;yrashk&gt;    well, it&#8217;s in the same process</div>
<div class="line">[Friday 18 March 2011] [07:08:11] &lt;yrashk&gt;    but it&#8217;s separate from the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:08:24] &lt;yrashk&gt;    so all NIF calls are generally very short</div>
<div class="line">[Friday 18 March 2011] [07:08:35] &lt;sustrik&gt;   yep, that could work</div>
<div class="line">[Friday 18 March 2011] [07:08:35] &lt;yrashk&gt;    except for send() which might theoretically block</div>
<div class="line">[Friday 18 March 2011] [07:08:43] &lt;yrashk&gt;    but that&#8217;s something we can definitely fix</div>
<div class="line">[Friday 18 March 2011] [07:08:51] &lt;yrashk&gt;    I just never saw zmq_send() blocking</div>
<div class="line">[Friday 18 March 2011] [07:08:51] &lt;sustrik&gt;   but can be done in same way as recv()</div>
<div class="line">[Friday 18 March 2011] [07:08:54] &lt;yrashk&gt;    yes</div>
<div class="line">[Friday 18 March 2011] [07:08:55] &lt;yrashk&gt;    absolutely</div>
<div class="line">[Friday 18 March 2011] [07:09:01] &lt;sustrik&gt;   you get that for high loads</div>
<div class="line">[Friday 18 March 2011] [07:09:06] &lt;yrashk&gt;    like I said, it&#8217;s an easy change</div>
<div class="line">[Friday 18 March 2011] [07:09:13] &lt;yrashk&gt;    since we have worked out the approach</div>
<div class="line">[Friday 18 March 2011] [07:09:20] &lt;sustrik&gt;   would be good to get that in</div>
<div class="line">[Friday 18 March 2011] [07:09:27] &lt;sustrik&gt;   it&#8217;s essential for some applications</div>
<div class="line">[Friday 18 March 2011] [07:09:31] &lt;yrashk&gt;    I see</div>
<div class="line">[Friday 18 March 2011] [07:09:35] &lt;sustrik&gt;   such as rabbitmq/0mq bridge</div>
<div class="line">[Friday 18 March 2011] [07:09:37] &lt;yrashk&gt;    I am adding a github issue right now</div>
<div class="line">[Friday 18 March 2011] [07:10:17] &lt;yrashk&gt;    <a class="reference external" href="https://github.com/zeromq/erlzmq2/issues/1">https://github.com/zeromq/erlzmq2/issues/1</a></div>
<div class="line">[Friday 18 March 2011] [07:10:21] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 18 March 2011] [07:10:41] &lt;sustrik&gt;   what about the third erlzmq binding?</div>
<div class="line">[Friday 18 March 2011] [07:10:48] &lt;sustrik&gt;   any additional functionality there?</div>
<div class="line">[Friday 18 March 2011] [07:11:16] &lt;yrashk&gt;    cstar/jugg&#8217;s?</div>
<div class="line">[Friday 18 March 2011] [07:11:21] &lt;sustrik&gt;   i guess</div>
<div class="line">[Friday 18 March 2011] [07:11:30] &lt;yrashk&gt;    I don&#8217;t remember any special functionality there</div>
<div class="line">[Friday 18 March 2011] [07:11:37] &lt;yrashk&gt;    it looked more polished than the official one</div>
<div class="line">[Friday 18 March 2011] [07:11:41] &lt;yrashk&gt;    to my eye</div>
<div class="line">[Friday 18 March 2011] [07:11:55] &lt;yrashk&gt;    so I guess it&#8217;s good for older erlangs</div>
<div class="line">[Friday 18 March 2011] [07:12:11] &lt;sustrik&gt;   aha, that&#8217;s the catch, right?</div>
<div class="line">[Friday 18 March 2011] [07:12:11] &lt;yrashk&gt;    or if you have any reasons to use port driver instead of NIF</div>
<div class="line">[Friday 18 March 2011] [07:12:16] &lt;sustrik&gt;   old arlangs don&#8217;t have NIF</div>
<div class="line">[Friday 18 March 2011] [07:12:19] &lt;yrashk&gt;    yeah they don&#8217;t</div>
<div class="line">[Friday 18 March 2011] [07:12:42] &lt;sustrik&gt;   well, if you believe there&#8217;s all the functionality in erlzmq2</div>
<div class="line">[Friday 18 March 2011] [07:12:44] &lt;yrashk&gt;    and some of those have (like last R13Bs and early R14As) but the API was changing a lot</div>
<div class="line">[Friday 18 March 2011] [07:12:58] &lt;yrashk&gt;    so we&#8217;re pretty much &gt;=R14B01 or so</div>
<div class="line">[Friday 18 March 2011] [07:13:12] &lt;sustrik&gt;   let&#8217;s discuss making it a primary erlang binding on the mailing list</div>
<div class="line">[Friday 18 March 2011] [07:13:22] &lt;yrashk&gt;    also, jugg was never able to clock performance comparable to erlzmq2</div>
<div class="line">[Friday 18 March 2011] [07:13:29] &lt;sustrik&gt;   yes, i recall that</div>
<div class="line">[Friday 18 March 2011] [07:13:30] &lt;yrashk&gt;    lets do that</div>
<div class="line">[Friday 18 March 2011] [07:13:37] &lt;yrashk&gt;    we have like 1.3mln/sec for 1bytes</div>
<div class="line">[Friday 18 March 2011] [07:13:41] &lt;yrashk&gt;    which is not bad</div>
<div class="line">[Friday 18 March 2011] [07:13:46] &lt;yrashk&gt;    not great, but decent</div>
<div class="line">[Friday 18 March 2011] [07:13:51] &lt;sustrik&gt;   it&#8217;s very nice</div>
<div class="line">[Friday 18 March 2011] [07:13:55] &lt;yrashk&gt;    (on my mac pro)</div>
<div class="line">[Friday 18 March 2011] [07:13:58] &lt;sustrik&gt;   comparable to other non-C languages</div>
<div class="line">[Friday 18 March 2011] [07:14:02] &lt;yrashk&gt;    c-to-c on my mac pro is like twice as fast</div>
<div class="line">[Friday 18 March 2011] [07:14:23] &lt;yrashk&gt;    2.5+mln/sec</div>
<div class="line">[Friday 18 March 2011] [07:14:31] &lt;yrashk&gt;    but we weren&#8217;t able to squeeze out more yet</div>
<div class="line">[Friday 18 March 2011] [07:14:36] &lt;yrashk&gt;    and I am not sure we can</div>
<div class="line">[Friday 18 March 2011] [07:14:56] &lt;sustrik&gt;   you have to keep in mind that erlang runtime does a lot of stuff</div>
<div class="line">[Friday 18 March 2011] [07:15:00] &lt;sustrik&gt;   scheduling etc.</div>
<div class="line">[Friday 18 March 2011] [07:15:08] &lt;sustrik&gt;   which takes some time itself</div>
<div class="line">[Friday 18 March 2011] [07:15:17] &lt;yrashk&gt;    of course</div>
<div class="line">[Friday 18 March 2011] [07:15:28] &lt;yrashk&gt;    I know erlang fairly well</div>
<div class="line">[Friday 18 March 2011] [07:15:31] &lt;yrashk&gt;    or so I think</div>
<div class="line">[Friday 18 March 2011] [07:15:37] &lt;sustrik&gt;   with throughput over 1M/sec</div>
<div class="line">[Friday 18 March 2011] [07:15:46] &lt;sustrik&gt;   you are getting to nanosecond ranges</div>
<div class="line">[Friday 18 March 2011] [07:15:53] &lt;yrashk&gt;    well that&#8217;s for 1bytes</div>
<div class="line">[Friday 18 March 2011] [07:15:59] &lt;yrashk&gt;    1Kb is like 300K/sec</div>
<div class="line">[Friday 18 March 2011] [07:16:13] &lt;yrashk&gt;    which is still okay I guess</div>
<div class="line">[Friday 18 March 2011] [07:16:22] &lt;sustrik&gt;   100% bandwidth utilisation i would guess</div>
<div class="line">[Friday 18 March 2011] [07:16:28] &lt;sustrik&gt;   1GbE?</div>
<div class="line">[Friday 18 March 2011] [07:16:36] &lt;yrashk&gt;    it&#8217;s all localhost tests :)</div>
<div class="line">[Friday 18 March 2011] [07:16:57] &lt;yrashk&gt;    both for c-to-c and erlang-to-erlang</div>
<div class="line">[Friday 18 March 2011] [07:17:04] &lt;sustrik&gt;   ack</div>
<div class="line">[Friday 18 March 2011] [07:17:07] &lt;yrashk&gt;    for comparison</div>
<div class="line">[Friday 18 March 2011] [07:17:11] &lt;yrashk&gt;    tcp transport</div>
<div class="line">[Friday 18 March 2011] [07:17:14] &lt;sustrik&gt;   the larger the message, the less the erlang overhead</div>
<div class="line">[Friday 18 March 2011] [07:17:16] &lt;yrashk&gt;    ipc was about the same</div>
<div class="line">[Friday 18 March 2011] [07:17:41] &lt;sustrik&gt;   anyway, 1.3M is great</div>
<div class="line">[Friday 18 March 2011] [07:18:30]      * yrashk performs a happy dance</div>
<div class="line">[Friday 18 March 2011] [07:19:11] &lt;yrashk&gt;    anyway</div>
<div class="line">[Friday 18 March 2011] [07:19:18] &lt;yrashk&gt;    lets discuss binding issue on the mailing list?</div>
<div class="line">[Friday 18 March 2011] [07:19:28] &lt;yrashk&gt;    I am subscribed (digest mode)</div>
<div class="line">[Friday 18 March 2011] [07:19:59] &lt;yrashk&gt;    will be back in about 30 mins</div>
<div class="line">[Friday 18 March 2011] [07:21:22] &lt;sustrik&gt;   yrashk: yes, send the proposal to the mailing listr</div>
<div class="line">[Friday 18 March 2011] [07:27:32] &lt;Guthur&gt;    talking of bindings, sustrik do you think it would be wise to discuss marking clrzmq as deprecated and that users should consider either the interop binding or clrzmq2</div>
<div class="line">[Friday 18 March 2011] [07:27:52] &lt;Guthur&gt;    the rational being that the original binding isn&#8217;t really actively developed</div>
<div class="line">[Friday 18 March 2011] [07:28:10] &lt;sustrik&gt;   it&#8217;s a community project, discuss it on the mailing list</div>
<div class="line">[Friday 18 March 2011] [07:28:14] &lt;Guthur&gt;    sure</div>
<div class="line">[Friday 18 March 2011] [07:28:19] &lt;sustrik&gt;   and if there&#8217;s no opposition, let&#8217;s do it</div>
<div class="line">[Friday 18 March 2011] [07:28:22] &lt;Guthur&gt;    just interested in what you think</div>
<div class="line">[Friday 18 March 2011] [07:28:45] &lt;sustrik&gt;   i would rather have actively maintained bindings as &#8220;official&#8221; :)</div>
<div class="line">[Friday 18 March 2011] [07:28:49] &lt;Guthur&gt;    ok, I&#8217;m raise it on the list later today</div>
<div class="line">[Friday 18 March 2011] [07:48:26] &lt;<a href="#id172"><span class="problematic" id="id173">pieterh_</span></a>&gt;  sustrik: ping</div>
<div class="line">[Friday 18 March 2011] [07:48:32] &lt;sustrik&gt;   pong</div>
<div class="line">[Friday 18 March 2011] [07:48:41] &lt;<a href="#id174"><span class="problematic" id="id175">pieterh_</span></a>&gt;  random question about pub/sub...</div>
<div class="line">[Friday 18 March 2011] [07:48:54] &lt;<a href="#id176"><span class="problematic" id="id177">pieterh_</span></a>&gt;  if I send a two-frame message, first key then value, I expect to receive two frames, right?</div>
<div class="line">[Friday 18 March 2011] [07:49:09] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [07:49:26] &lt;<a href="#id178"><span class="problematic" id="id179">pieterh_</span></a>&gt;  ok, I have a test case where it appears to sometimes fail at connection startup</div>
<div class="line">[Friday 18 March 2011] [07:49:39] &lt;<a href="#id180"><span class="problematic" id="id181">pieterh_</span></a>&gt;  loses first frame, sometimes</div>
<div class="line">[Friday 18 March 2011] [07:49:40] &lt;<a href="#id182"><span class="problematic" id="id183">pieterh_</span></a>&gt;  i</div>
<div class="line">[Friday 18 March 2011] [07:49:43] &lt;sustrik&gt;   ok</div>
<div class="line">[Friday 18 March 2011] [07:49:50] &lt;<a href="#id184"><span class="problematic" id="id185">pieterh_</span></a>&gt;  I&#8217;ll post the server and client, hang on...</div>
<div class="line">[Friday 18 March 2011] [07:50:45] &lt;Guthur&gt;    <a href="#id186"><span class="problematic" id="id187">pieterh_</span></a>: with your lazy pirate patterns did you notice that reconnecting after CPU overload rarely happened?</div>
<div class="line">[Friday 18 March 2011] [07:51:20] &lt;Guthur&gt;    I&#8217;ve noticed this behaviour, even with the C examples</div>
<div class="line">[Friday 18 March 2011] [07:51:24] &lt;<a href="#id188"><span class="problematic" id="id189">pieterh_</span></a>&gt;  Guthur: what do you mean?</div>
<div class="line">[Friday 18 March 2011] [07:51:29] &lt;<a href="#id190"><span class="problematic" id="id191">pieterh_</span></a>&gt;  the client doesn&#8217;t reconnect?</div>
<div class="line">[Friday 18 March 2011] [07:51:46] &lt;Guthur&gt;    yeah, it tries and thinks the server is not there</div>
<div class="line">[Friday 18 March 2011] [07:51:50] &lt;<a href="#id192"><span class="problematic" id="id193">pieterh_</span></a>&gt;  normal, because its timeouts are quite aggressive, and simulation of CPU overload is quite a long pause afair</div>
<div class="line">[Friday 18 March 2011] [07:51:54] &lt;Guthur&gt;    if I remove the 1sec sleep it connects</div>
<div class="line">[Friday 18 March 2011] [07:52:05] &lt;<a href="#id194"><span class="problematic" id="id195">pieterh_</span></a>&gt;  try making the client more patient...</div>
<div class="line">[Friday 18 March 2011] [07:52:11] &lt;Guthur&gt;    1sec (heavy work)</div>
<div class="line">[Friday 18 March 2011] [07:52:15] &lt;<a href="#id196"><span class="problematic" id="id197">pieterh_</span></a>&gt;  i&#8217;ll retest, hang on a sec...</div>
<div class="line">[Friday 18 March 2011] [07:53:10] &lt;<a href="#id198"><span class="problematic" id="id199">pieterh_</span></a>&gt;  sustrik: so, <a class="reference external" href="https://gist.github.com/875932">https://gist.github.com/875932</a></div>
<div class="line">[Friday 18 March 2011] [07:53:16] &lt;<a href="#id200"><span class="problematic" id="id201">pieterh_</span></a>&gt;  start the server, then the client</div>
<div class="line">[Friday 18 March 2011] [07:53:25] &lt;sustrik&gt;   ok, will give it a look</div>
<div class="line">[Friday 18 March 2011] [07:53:44] &lt;<a href="#id202"><span class="problematic" id="id203">pieterh_</span></a>&gt;  thanks, this is hitting one of my examples and I can&#8217;t see my fault</div>
<div class="line">[Friday 18 March 2011] [07:53:53] &lt;<a href="#id204"><span class="problematic" id="id205">pieterh_</span></a>&gt;  so made a simplistic case, it still hits...</div>
<div class="line">[Friday 18 March 2011] [07:58:07] &lt;<a href="#id206"><span class="problematic" id="id207">pieterh_</span></a>&gt;  Guthur: it&#8217;s just because the client is too impatient</div>
<div class="line">[Friday 18 March 2011] [07:59:03] &lt;Guthur&gt;    <a href="#id208"><span class="problematic" id="id209">pieterh_</span></a>: ok, cheers for testing</div>
<div class="line">[Friday 18 March 2011] [07:59:50] &lt;<a href="#id210"><span class="problematic" id="id211">pieterh_</span></a>&gt;  Guthur: I&#8217;ll change the &#8216;CPU overload&#8217; delay to 2 seconds instead of 5</div>
<div class="line">[Friday 18 March 2011] [07:59:57] &lt;<a href="#id212"><span class="problematic" id="id213">pieterh_</span></a>&gt;  this lets the client recover</div>
<div class="line">[Friday 18 March 2011] [08:00:09] &lt;Guthur&gt;    sounds good</div>
<div class="line">[Friday 18 March 2011] [08:01:02] &lt;yrashk&gt;    sustrik: what exactly should be in that proposal?</div>
<div class="line">[Friday 18 March 2011] [08:01:08] &lt;Guthur&gt;    it had me scratching my head for a while yesterday, for a moment I thought the Mono runtime was just insanely slow</div>
<div class="line">[Friday 18 March 2011] [08:01:18] &lt;Guthur&gt;    but then seen the same in C</div>
<div class="line">[Friday 18 March 2011] [08:02:18] &lt;<a href="#id214"><span class="problematic" id="id215">pieterh_</span></a>&gt;  yeah, it&#8217;s good to be able to compare the different languages</div>
<div class="line">[Friday 18 March 2011] [08:02:19] &lt;sustrik&gt;   yrashk: &#8220;i propose making erlzmq2 an official erlang binding while keeping erlzmq as a binding for old versions of erlang&#8221;</div>
<div class="line">[Friday 18 March 2011] [08:02:25] &lt;sustrik&gt;   then list your arguments</div>
<div class="line">[Friday 18 March 2011] [08:02:28] &lt;yrashk&gt;    ok</div>
<div class="line">[Friday 18 March 2011] [08:02:29] &lt;sustrik&gt;   and ask people to comment</div>
<div class="line">[Friday 18 March 2011] [08:02:36] &lt;<a href="#id216"><span class="problematic" id="id217">pieterh_</span></a>&gt;  sustrik: I think that was already agreed...</div>
<div class="line">[Friday 18 March 2011] [08:02:46] &lt;yrashk&gt;    can I refer to you as it was your idea?</div>
<div class="line">[Friday 18 March 2011] [08:02:51] &lt;<a href="#id218"><span class="problematic" id="id219">pieterh_</span></a>&gt;  so erlzmq kind of became v1</div>
<div class="line">[Friday 18 March 2011] [08:03:01] &lt;sustrik&gt;   did it?</div>
<div class="line">[Friday 18 March 2011] [08:03:04] &lt;yrashk&gt;    wel</div>
<div class="line">[Friday 18 March 2011] [08:03:05] &lt;yrashk&gt;    well</div>
<div class="line">[Friday 18 March 2011] [08:03:05] &lt;<a href="#id220"><span class="problematic" id="id221">pieterh_</span></a>&gt;  yrashk: I missed something, why are you asking for people to comment on this?</div>
<div class="line">[Friday 18 March 2011] [08:03:09] &lt;yrashk&gt;    ont the wiki, eys</div>
<div class="line">[Friday 18 March 2011] [08:03:16] &lt;yrashk&gt;    <a href="#id222"><span class="problematic" id="id223">pieterh_</span></a>: I am not, sustrik does</div>
<div class="line">[Friday 18 March 2011] [08:03:41] &lt;<a href="#id224"><span class="problematic" id="id225">pieterh_</span></a>&gt;  sustrik: we already afaik got agreement from the erlzmq authors to make v2</div>
<div class="line">[Friday 18 March 2011] [08:03:52] &lt;yrashk&gt;    <a href="#id226"><span class="problematic" id="id227">pieterh_</span></a>: just one of them</div>
<div class="line">[Friday 18 March 2011] [08:04:01] &lt;<a href="#id228"><span class="problematic" id="id229">pieterh_</span></a>&gt;  yrashk: ah... did you ask the others?</div>
<div class="line">[Friday 18 March 2011] [08:04:03] &lt;yrashk&gt;    <a href="#id230"><span class="problematic" id="id231">pieterh_</span></a>: saleyn is unable to answer for some sad reasons</div>
<div class="line">[Friday 18 March 2011] [08:04:10] &lt;<a href="#id232"><span class="problematic" id="id233">pieterh_</span></a>&gt;  ok</div>
<div class="line">[Friday 18 March 2011] [08:04:26] &lt;sustrik&gt;   if it was discussed already, then there&#8217;s no point in discussing it anew</div>
<div class="line">[Friday 18 March 2011] [08:04:31] &lt;<a href="#id234"><span class="problematic" id="id235">pieterh_</span></a>&gt;  indeed</div>
<div class="line">[Friday 18 March 2011] [08:04:34] &lt;yrashk&gt;    ok</div>
<div class="line">[Friday 18 March 2011] [08:04:35] &lt;sustrik&gt;   i just missed the original discussion</div>
<div class="line">[Friday 18 March 2011] [08:04:39] &lt;yrashk&gt;    ya it was discussed here</div>
<div class="line">[Friday 18 March 2011] [08:04:51] &lt;<a href="#id236"><span class="problematic" id="id237">pieterh_</span></a>&gt;  it&#8217;s already an official repository, and the name was made coherent, the wiki correct, etc.</div>
<div class="line">[Friday 18 March 2011] [08:05:08] &lt;sustrik&gt;   then there&#8217;s no problem</div>
<div class="line">[Friday 18 March 2011] [08:05:14] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:05:17] &lt;yrashk&gt;    less work for me then</div>
<div class="line">[Friday 18 March 2011] [08:05:23] &lt;yrashk&gt;    we&#8217;ll then improve send() some time later</div>
<div class="line">[Friday 18 March 2011] [08:05:26] &lt;<a href="#id238"><span class="problematic" id="id239">pieterh_</span></a>&gt;  given that it&#8217;s much faster and sticks to the same API, there was no real argument...</div>
<div class="line">[Friday 18 March 2011] [08:05:35] &lt;sustrik&gt;   i see</div>
<div class="line">[Friday 18 March 2011] [08:05:38] &lt;yrashk&gt;    to make it behave better on blocking sends</div>
<div class="line">[Friday 18 March 2011] [08:05:38] &lt;evax&gt;      yrashk, sustrik: doing it now</div>
<div class="line">[Friday 18 March 2011] [08:05:45] &lt;yrashk&gt;    evax: oh the issue #1?</div>
<div class="line">[Friday 18 March 2011] [08:05:50] &lt;evax&gt;      yes</div>
<div class="line">[Friday 18 March 2011] [08:06:01] &lt;yrashk&gt;    evax: I bet it should be easy to replicate the same method as we do with recv</div>
<div class="line">[Friday 18 March 2011] [08:06:05] &lt;yrashk&gt;    may be even the same thread</div>
<div class="line">[Friday 18 March 2011] [08:06:28] &lt;evax&gt;      same thread, yes</div>
<div class="line">[Friday 18 March 2011] [08:06:32] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:06:47] &lt;yrashk&gt;    should be fairly trivial then</div>
<div class="line">[Friday 18 March 2011] [08:06:56] &lt;yrashk&gt;    just adding an enum flag to recv structure</div>
<div class="line">[Friday 18 March 2011] [08:07:07] &lt;yrashk&gt;    and renaming recv structure to something like command or someting</div>
<div class="line">[Friday 18 March 2011] [08:07:16] &lt;yrashk&gt;    also, evax</div>
<div class="line">[Friday 18 March 2011] [08:07:22] &lt;evax&gt;      yes, along those lines</div>
<div class="line">[Friday 18 March 2011] [08:07:24] &lt;yrashk&gt;    do you plan to do exactly the same scheme?</div>
<div class="line">[Friday 18 March 2011] [08:07:26] &lt;yrashk&gt;    i.e.</div>
<div class="line">[Friday 18 March 2011] [08:07:30] &lt;yrashk&gt;    recv noblock first</div>
<div class="line">[Friday 18 March 2011] [08:07:33] &lt;evax&gt;      sure</div>
<div class="line">[Friday 18 March 2011] [08:07:35] &lt;yrashk&gt;    err</div>
<div class="line">[Friday 18 March 2011] [08:07:37] &lt;yrashk&gt;    send*</div>
<div class="line">[Friday 18 March 2011] [08:07:41] &lt;yrashk&gt;    if it says EAGAIN</div>
<div class="line">[Friday 18 March 2011] [08:07:43] &lt;yrashk&gt;    then pool it</div>
<div class="line">[Friday 18 March 2011] [08:07:56] &lt;evax&gt;      shouldn&#8217;t I ?</div>
<div class="line">[Friday 18 March 2011] [08:08:04] &lt;yrashk&gt;    so that we don&#8217;t pool when it is unnecessary</div>
<div class="line">[Friday 18 March 2011] [08:08:10] &lt;yrashk&gt;    I think it&#8217;s a good approach</div>
<div class="line">[Friday 18 March 2011] [08:08:22] &lt;yrashk&gt;    zmq_send(.., ZMQ_NOBLOCK) -&gt; if EGAGAIN, pool</div>
<div class="line">[Friday 18 March 2011] [08:08:27] &lt;yrashk&gt;    otherwise, be done with it</div>
<div class="line">[Friday 18 March 2011] [08:08:30] &lt;yrashk&gt;    EAGAIN*</div>
<div class="line">[Friday 18 March 2011] [08:08:49] &lt;yrashk&gt;    that looks really very much the same way recv does</div>
<div class="line">[Friday 18 March 2011] [08:11:21] &lt;evax&gt;      except we have to store the msg somewhere</div>
<div class="line">[Friday 18 March 2011] [08:12:17] &lt;yrashk&gt;    in the same struct</div>
<div class="line">[Friday 18 March 2011] [08:12:25] &lt;yrashk&gt;    recv, but renamed</div>
<div class="line">[Friday 18 March 2011] [08:12:35] &lt;yrashk&gt;    and extended accordingly</div>
<div class="line">[Friday 18 March 2011] [08:12:57] &lt;evax&gt;      this goes over the ipc socket, so for big messages its ugly</div>
<div class="line">[Friday 18 March 2011] [08:13:01] &lt;yrashk&gt;    just copy the zms_msg</div>
<div class="line">[Friday 18 March 2011] [08:13:07] &lt;yrashk&gt;    it is</div>
<div class="line">[Friday 18 March 2011] [08:13:13] &lt;yrashk&gt;    but its not ipc</div>
<div class="line">[Friday 18 March 2011] [08:13:16] &lt;yrashk&gt;    inproc</div>
<div class="line">[Friday 18 March 2011] [08:13:21] &lt;evax&gt;      yeah</div>
<div class="line">[Friday 18 March 2011] [08:13:24] &lt;yrashk&gt;    we just pass a pointer</div>
<div class="line">[Friday 18 March 2011] [08:13:31] &lt;yrashk&gt;    how about that?</div>
<div class="line">[Friday 18 March 2011] [08:13:59] &lt;yrashk&gt;    and then zmq_msg_close it when done sending it in a loop</div>
<div class="line">[Friday 18 March 2011] [08:14:23] &lt;yrashk&gt;    theres more important problem</div>
<div class="line">[Friday 18 March 2011] [08:14:33] &lt;yrashk&gt;    in that thread we poll</div>
<div class="line">[Friday 18 March 2011] [08:14:47] &lt;yrashk&gt;    but if we do the blocking send there</div>
<div class="line">[Friday 18 March 2011] [08:15:09] &lt;yrashk&gt;    then receivers will get blocked untill the send is over</div>
<div class="line">[Friday 18 March 2011] [08:15:12] &lt;yrashk&gt;    mhm</div>
<div class="line">[Friday 18 March 2011] [08:15:18] &lt;evax&gt;      reading zmq.h shouldn&#8217;t be a problem to pass the msg in, ideed</div>
<div class="line">[Friday 18 March 2011] [08:15:39] &lt;yrashk&gt;    yeah, so pointer in that struct for msg is cool</div>
<div class="line">[Friday 18 March 2011] [08:15:50] &lt;yrashk&gt;    but this problem above bothers me</div>
<div class="line">[Friday 18 March 2011] [08:15:53] &lt;yrashk&gt;    not nice</div>
<div class="line">[Friday 18 March 2011] [08:16:50] &lt;yrashk&gt;    also separate sending thread isnt solving this completely</div>
<div class="line">[Friday 18 March 2011] [08:17:02] &lt;yrashk&gt;    it will help us from blocking poller</div>
<div class="line">[Friday 18 March 2011] [08:17:23] &lt;yrashk&gt;    but it will not b able to send more than one thing at a time</div>
<div class="line">[Friday 18 March 2011] [08:17:33] &lt;yrashk&gt;    since sending is blocked</div>
<div class="line">[Friday 18 March 2011] [08:17:44] &lt;yrashk&gt;    if only we had a reverse poll</div>
<div class="line">[Friday 18 March 2011] [08:17:47] &lt;yrashk&gt;    wait</div>
<div class="line">[Friday 18 March 2011] [08:18:00] &lt;yrashk&gt;    dont we have that kind of event in poll?</div>
<div class="line">[Friday 18 March 2011] [08:18:08] &lt;evax&gt;      it has to be in the same thread</div>
<div class="line">[Friday 18 March 2011] [08:18:14] &lt;yrashk&gt;    not sure how it will help tho</div>
<div class="line">[Friday 18 March 2011] [08:18:43] &lt;evax&gt;      and I&#8217;m not sure sending and recving are allowed at the same time</div>
<div class="line">[Friday 18 March 2011] [08:19:05] &lt;evax&gt;      if one must not use a socket in multiple threads</div>
<div class="line">[Friday 18 March 2011] [08:19:37] &lt;yrashk&gt;    hey</div>
<div class="line">[Friday 18 March 2011] [08:19:52] &lt;yrashk&gt;    how about using zmq_pollout event?</div>
<div class="line">[Friday 18 March 2011] [08:20:03] &lt;evax&gt;      sure</div>
<div class="line">[Friday 18 March 2011] [08:20:09] &lt;yrashk&gt;    it guarantees you can send without blocking</div>
<div class="line">[Friday 18 March 2011] [08:20:27] &lt;yrashk&gt;    so we can embed this into our poller</div>
<div class="line">[Friday 18 March 2011] [08:21:03] &lt;yrashk&gt;    this way we wont be blocking the poller ever</div>
<div class="line">[Friday 18 March 2011] [08:21:11] &lt;yrashk&gt;    i think it is a sound idea</div>
<div class="line">[Friday 18 March 2011] [08:21:56] &lt;yrashk&gt;    sustrik, wdyt? will it work fine? any precautions?</div>
<div class="line">[Friday 18 March 2011] [08:23:28] &lt;yrashk&gt;    i really like it</div>
<div class="line">[Friday 18 March 2011] [08:42:40] &lt;sustrik&gt;   yes, that&#8217;s what POLLOUT is for</div>
<div class="line">[Friday 18 March 2011] [08:43:08] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:43:22] &lt;yrashk&gt;    so hopefully we&#8217;ll have this non-blocking very soon then</div>
<div class="line">[Friday 18 March 2011] [08:43:32] &lt;yrashk&gt;    as it will not change our poller much</div>
<div class="line">[Friday 18 March 2011] [08:45:51] &lt;Steve-o&gt;   mikko: looks like all the platforms are good now</div>
<div class="line">[Friday 18 March 2011] [09:06:34] &lt;<a href="#id240"><span class="problematic" id="id241">pieterh_</span></a>&gt;   sustrik: I think your email is inaccurate in some key ways</div>
<div class="line">[Friday 18 March 2011] [09:06:53] &lt;<a href="#id242"><span class="problematic" id="id243">pieterh_</span></a>&gt;  most critically, you are claiming a purpose for XREP that was never documented before</div>
<div class="line">[Friday 18 March 2011] [09:06:56] &lt;sustrik&gt;   feel free to discuss</div>
<div class="line">[Friday 18 March 2011] [09:07:09] &lt;sustrik&gt;   that&#8217;s why i sent the email out</div>
<div class="line">[Friday 18 March 2011] [09:07:11] &lt;<a href="#id244"><span class="problematic" id="id245">pieterh_</span></a>&gt;  as a user, and the developer of many devices, the notion that you would break this, is... shocking</div>
<div class="line">[Friday 18 March 2011] [09:07:40] &lt;sustrik&gt;   that&#8217;s why it has to be solved</div>
<div class="line">[Friday 18 March 2011] [09:07:41] &lt;<a href="#id246"><span class="problematic" id="id247">pieterh_</span></a>&gt;  it suggests (a) you don&#8217;t know wtf you were doing, (b) you don&#8217;t care about your users, (c) you don&#8217;t understand what they are doing</div>
<div class="line">[Friday 18 March 2011] [09:07:48] &lt;<a href="#id248"><span class="problematic" id="id249">pieterh_</span></a>&gt;  none of this is true, but it&#8217;s what your email suggests</div>
<div class="line">[Friday 18 March 2011] [09:07:50] &lt;sustrik&gt;   i would start with ZMQ)ROUTER socket type</div>
<div class="line">[Friday 18 March 2011] [09:08:19] &lt;sustrik&gt;   shrug, it has to be solved somehow</div>
<div class="line">[Friday 18 March 2011] [09:08:20] &lt;<a href="#id250"><span class="problematic" id="id251">pieterh_</span></a>&gt;  it&#8217;s unavoidable that people use this as a ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:08:27] &lt;<a href="#id252"><span class="problematic" id="id253">pieterh_</span></a>&gt;  so, embrace that and make it work nicely</div>
<div class="line">[Friday 18 March 2011] [09:08:28] &lt;sustrik&gt;   feel free to propose a solution</div>
<div class="line">[Friday 18 March 2011] [09:08:32] &lt;<a href="#id254"><span class="problematic" id="id255">pieterh_</span></a>&gt;  I&#8217;ve done that many times</div>
<div class="line">[Friday 18 March 2011] [09:08:39] &lt;sustrik&gt;   ZMQ_ROUTER, right?</div>
<div class="line">[Friday 18 March 2011] [09:08:40] &lt;<a href="#id256"><span class="problematic" id="id257">pieterh_</span></a>&gt;  call it by the right name, make it work a little better</div>
<div class="line">[Friday 18 March 2011] [09:08:42] &lt;<a href="#id258"><span class="problematic" id="id259">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:08:43] &lt;<a href="#id260"><span class="problematic" id="id261">pieterh_</span></a>&gt;  of course</div>
<div class="line">[Friday 18 March 2011] [09:08:49] &lt;sustrik&gt;   that&#8217;s option 2 i think</div>
<div class="line">[Friday 18 March 2011] [09:08:51] &lt;<a href="#id262"><span class="problematic" id="id263">pieterh_</span></a>&gt;  you will see the overwhelming consensus on the list</div>
<div class="line">[Friday 18 March 2011] [09:09:02] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [09:09:03] &lt;<a href="#id264"><span class="problematic" id="id265">pieterh_</span></a>&gt;  you did read that thread, right?</div>
<div class="line">[Friday 18 March 2011] [09:09:04] &lt;sustrik&gt;   np</div>
<div class="line">[Friday 18 March 2011] [09:09:17] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:09:21] &lt;<a href="#id266"><span class="problematic" id="id267">pieterh_</span></a>&gt;  I like your solution of a verbose compile option</div>
<div class="line">[Friday 18 March 2011] [09:09:29] &lt;sustrik&gt;   i am just explaining the internals</div>
<div class="line">[Friday 18 March 2011] [09:09:40] &lt;sustrik&gt;   opt.2 is probably the best</div>
<div class="line">[Friday 18 March 2011] [09:09:53] &lt;<a href="#id268"><span class="problematic" id="id269">pieterh_</span></a>&gt;  well, you&#8217;re saying you might make a different implementation of &#8220;return to sender&#8221;</div>
<div class="line">[Friday 18 March 2011] [09:10:03] &lt;sustrik&gt;   definitely</div>
<div class="line">[Friday 18 March 2011] [09:10:10] &lt;<a href="#id270"><span class="problematic" id="id271">pieterh_</span></a>&gt;  which (and I give you the raw emotion) is ... shokcing</div>
<div class="line">[Friday 18 March 2011] [09:10:11] &lt;<a href="#id272"><span class="problematic" id="id273">pieterh_</span></a>&gt;  shocking</div>
<div class="line">[Friday 18 March 2011] [09:10:14] &lt;sustrik&gt;   that&#8217;s the XREP should be separated from REOUTER</div>
<div class="line">[Friday 18 March 2011] [09:10:17] &lt;sustrik&gt;   ROUTER*</div>
<div class="line">[Friday 18 March 2011] [09:10:29] &lt;sustrik&gt;   they are two distinct things</div>
<div class="line">[Friday 18 March 2011] [09:10:32] &lt;<a href="#id274"><span class="problematic" id="id275">pieterh_</span></a>&gt;  you have a better idea for the REP-REQ chain?</div>
<div class="line">[Friday 18 March 2011] [09:10:40] &lt;sustrik&gt;   not at the moment</div>
<div class="line">[Friday 18 March 2011] [09:10:51] &lt;sustrik&gt;   but it&#8217;s conceptually different from router</div>
<div class="line">[Friday 18 March 2011] [09:10:56] &lt;<a href="#id276"><span class="problematic" id="id277">pieterh_</span></a>&gt;  precisely, and afaics it&#8217;s impossible without creating stateful fabric</div>
<div class="line">[Friday 18 March 2011] [09:11:02] &lt;sustrik&gt;   say the dropping of unroutable messages -&gt;</div>
<div class="line">[Friday 18 March 2011] [09:11:03] &lt;<a href="#id278"><span class="problematic" id="id279">pieterh_</span></a>&gt;  conceptually it&#8217;s the same</div>
<div class="line">[Friday 18 March 2011] [09:11:05] &lt;<a href="#id280"><span class="problematic" id="id281">pieterh_</span></a>&gt;  it&#8217;s a use case</div>
<div class="line">[Friday 18 March 2011] [09:11:08] &lt;sustrik&gt;   ROUTER should not drop</div>
<div class="line">[Friday 18 March 2011] [09:11:10] &lt;sustrik&gt;   XREP should</div>
<div class="line">[Friday 18 March 2011] [09:11:14] &lt;<a href="#id282"><span class="problematic" id="id283">pieterh_</span></a>&gt;  yes it should</div>
<div class="line">[Friday 18 March 2011] [09:11:24] &lt;<a href="#id284"><span class="problematic" id="id285">pieterh_</span></a>&gt;  ROUTER should drop BUT it should be able to warn you</div>
<div class="line">[Friday 18 March 2011] [09:11:45] &lt;<a href="#id286"><span class="problematic" id="id287">pieterh_</span></a>&gt;  there is nothing useful you can do with an unroutable message but since it often suggests a programming error, you need visibility</div>
<div class="line">[Friday 18 March 2011] [09:11:47] &lt;<a href="#id288"><span class="problematic" id="id289">pieterh_</span></a>&gt;  that&#8217;s all</div>
<div class="line">[Friday 18 March 2011] [09:11:52] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [09:12:08] &lt;<a href="#id290"><span class="problematic" id="id291">pieterh_</span></a>&gt;  I literally go into src/xrep.cpp and add a printf</div>
<div class="line">[Friday 18 March 2011] [09:12:15] &lt;<a href="#id292"><span class="problematic" id="id293">pieterh_</span></a>&gt;  so I can debug a complex router</div>
<div class="line">[Friday 18 March 2011] [09:12:41] &lt;<a href="#id294"><span class="problematic" id="id295">pieterh_</span></a>&gt;  doing a req-rep chain is just one use case for routing</div>
<div class="line">[Friday 18 March 2011] [09:12:44] &lt;<a href="#id296"><span class="problematic" id="id297">pieterh_</span></a>&gt;  it&#8217;s not a core pattern</div>
<div class="line">[Friday 18 March 2011] [09:12:50] &lt;sustrik&gt;   it is</div>
<div class="line">[Friday 18 March 2011] [09:13:00] &lt;<a href="#id298"><span class="problematic" id="id299">pieterh_</span></a>&gt;  not a <em>separate</em> core pattern</div>
<div class="line">[Friday 18 March 2011] [09:13:02] &lt;<a href="#id300"><span class="problematic" id="id301">pieterh_</span></a>&gt;  afaics</div>
<div class="line">[Friday 18 March 2011] [09:14:18] &lt;<a href="#id302"><span class="problematic" id="id303">pieterh_</span></a>&gt;  tbh the envelope concept is ugly as heck but I can&#8217;t see anything simpler or better</div>
<div class="line">[Friday 18 March 2011] [09:14:38] &lt;sustrik&gt;   the one described in the email is nice</div>
<div class="line">[Friday 18 March 2011] [09:14:46] &lt;sustrik&gt;   but works on only for req/rep</div>
<div class="line">[Friday 18 March 2011] [09:14:49] &lt;sustrik&gt;   not for router</div>
<div class="line">[Friday 18 March 2011] [09:15:02] &lt;sustrik&gt;   and it has some scaling issues</div>
<div class="line">[Friday 18 March 2011] [09:15:12] &lt;sustrik&gt;   so it&#8217;s not a real alternative, i think</div>
<div class="line">[Friday 18 March 2011] [09:16:29]      * <a href="#id304"><span class="problematic" id="id305">pieterh_</span></a> is re-reading the email</div>
<div class="line">[Friday 18 March 2011] [09:16:36] &lt;<a href="#id306"><span class="problematic" id="id307">pieterh_</span></a>&gt;  XPUB/XSUB are hop-by-hop?</div>
<div class="line">[Friday 18 March 2011] [09:16:53] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:16:59] &lt;<a href="#id308"><span class="problematic" id="id309">pieterh_</span></a>&gt;  the fact you implement PUB on XPUB, REQ on XREQ, is irrelevant to the user</div>
<div class="line">[Friday 18 March 2011] [09:17:04] &lt;<a href="#id310"><span class="problematic" id="id311">pieterh_</span></a>&gt;  it&#8217;s vital to you, irrelevant to me</div>
<div class="line">[Friday 18 March 2011] [09:17:15] &lt;<a href="#id312"><span class="problematic" id="id313">pieterh_</span></a>&gt;  in fact, worse than irrelevant, it&#8217;s negative data</div>
<div class="line">[Friday 18 March 2011] [09:17:53] &lt;<a href="#id314"><span class="problematic" id="id315">pieterh_</span></a>&gt;  you basically ask me as user to think about your implementation design, which breaks my brain</div>
<div class="line">[Friday 18 March 2011] [09:18:05] &lt;<a href="#id316"><span class="problematic" id="id317">pieterh_</span></a>&gt;  &#8220;The end-to-end type is always layered on top of the corresponding X socket&#8221;</div>
<div class="line">[Friday 18 March 2011] [09:18:06] &lt;sustrik&gt;   it works like IP and TCP</div>
<div class="line">[Friday 18 March 2011] [09:18:10] &lt;<a href="#id318"><span class="problematic" id="id319">pieterh_</span></a>&gt;  that&#8217;s rubbish, sorry</div>
<div class="line">[Friday 18 March 2011] [09:18:14] &lt;<a href="#id320"><span class="problematic" id="id321">pieterh_</span></a>&gt;  I don&#8217;t know IP</div>
<div class="line">[Friday 18 March 2011] [09:18:16] &lt;sustrik&gt;   a TCP user doesn&#8217;t have to be aware of IP</div>
<div class="line">[Friday 18 March 2011] [09:18:19] &lt;sustrik&gt;   but it&#8217;s there</div>
<div class="line">[Friday 18 March 2011] [09:18:32] &lt;<a href="#id322"><span class="problematic" id="id323">pieterh_</span></a>&gt;  sorry, it does not work for me, not at all</div>
<div class="line">[Friday 18 March 2011] [09:18:42] &lt;<a href="#id324"><span class="problematic" id="id325">pieterh_</span></a>&gt;  what I want are a set of socket types with clear names and clear semantics</div>
<div class="line">[Friday 18 March 2011] [09:18:50] &lt;Steve-o&gt;   +1</div>
<div class="line">[Friday 18 March 2011] [09:18:51] &lt;<a href="#id326"><span class="problematic" id="id327">pieterh_</span></a>&gt;  I don&#8217;t want some layering and abstraction I need to learn first</div>
<div class="line">[Friday 18 March 2011] [09:18:52] &lt;sustrik&gt;   that&#8217;s the option 2</div>
<div class="line">[Friday 18 March 2011] [09:18:59] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:19:06] &lt;<a href="#id328"><span class="problematic" id="id329">pieterh_</span></a>&gt;  do not try to sell me your abstractions, it&#8217;s what AMQP does and it&#8217;s bogus</div>
<div class="line">[Friday 18 March 2011] [09:19:22] &lt;sustrik&gt;   what do you want exactly then?</div>
<div class="line">[Friday 18 March 2011] [09:19:25] &lt;sustrik&gt;   i am not following</div>
<div class="line">[Friday 18 March 2011] [09:19:28] &lt;<a href="#id330"><span class="problematic" id="id331">pieterh_</span></a>&gt;  I want clear socket names</div>
<div class="line">[Friday 18 March 2011] [09:19:33] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:19:35] &lt;<a href="#id332"><span class="problematic" id="id333">pieterh_</span></a>&gt;  clear semantics that are documented up-front</div>
<div class="line">[Friday 18 March 2011] [09:19:36] &lt;<a href="#id334"><span class="problematic" id="id335">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:19:46] &lt;<a href="#id336"><span class="problematic" id="id337">pieterh_</span></a>&gt;  this is, sadly, reverse engineering</div>
<div class="line">[Friday 18 March 2011] [09:19:47] &lt;sustrik&gt;   what&#8217;s the problem then?</div>
<div class="line">[Friday 18 March 2011] [09:19:55] &lt;<a href="#id338"><span class="problematic" id="id339">pieterh_</span></a>&gt;  it&#8217;s me trying to make names that fit your semantics</div>
<div class="line">[Friday 18 March 2011] [09:20:12] &lt;<a href="#id340"><span class="problematic" id="id341">pieterh_</span></a>&gt;  there&#8217;s no problem so long as you don&#8217;t come back with abstractions that hurt my brain</div>
<div class="line">[Friday 18 March 2011] [09:20:13] &lt;<a href="#id342"><span class="problematic" id="id343">pieterh_</span></a>&gt;  :-)</div>
<div class="line">[Friday 18 March 2011] [09:20:23] &lt;<a href="#id344"><span class="problematic" id="id345">pieterh_</span></a>&gt;  it is already hard enough</div>
<div class="line">[Friday 18 March 2011] [09:20:35] &lt;sustrik&gt;   that&#8217;s an abstraction on which 0mq is working from very beginning</div>
<div class="line">[Friday 18 March 2011] [09:20:38] &lt;sustrik&gt;   just ignore it</div>
<div class="line">[Friday 18 March 2011] [09:20:55] &lt;sustrik&gt;   as a user you don&#8217;t have to care</div>
<div class="line">[Friday 18 March 2011] [09:20:58] &lt;<a href="#id346"><span class="problematic" id="id347">pieterh_</span></a>&gt;  do you understand that your semantics are counter-productive for mine?</div>
<div class="line">[Friday 18 March 2011] [09:21:08] &lt;<a href="#id348"><span class="problematic" id="id349">pieterh_</span></a>&gt;  we have a conflict, as user vs. designer?</div>
<div class="line">[Friday 18 March 2011] [09:21:27] &lt;sustrik&gt;   i don&#8217;t think so</div>
<div class="line">[Friday 18 March 2011] [09:21:37] &lt;<a href="#id350"><span class="problematic" id="id351">pieterh_</span></a>&gt;  it&#8217;s been that way so far</div>
<div class="line">[Friday 18 March 2011] [09:21:43] &lt;<a href="#id352"><span class="problematic" id="id353">pieterh_</span></a>&gt;  e.g. The end-to-end type is always layered on top of the corresponding X socket</div>
<div class="line">[Friday 18 March 2011] [09:21:49] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:22:03] &lt;<a href="#id354"><span class="problematic" id="id355">pieterh_</span></a>&gt;  that is toxic for me as user</div>
<div class="line">[Friday 18 March 2011] [09:22:12] &lt;sustrik&gt;   you don&#8217;t have to care</div>
<div class="line">[Friday 18 March 2011] [09:22:20] &lt;sustrik&gt;   use just the non-X types</div>
<div class="line">[Friday 18 March 2011] [09:22:26] &lt;sustrik&gt;   that&#8217;s what proposition 2 is about</div>
<div class="line">[Friday 18 March 2011] [09:22:34] &lt;sustrik&gt;   people want to use routing</div>
<div class="line">[Friday 18 March 2011] [09:22:43] &lt;sustrik&gt;   so let&#8217;s make routing a first-class non-X socket</div>
<div class="line">[Friday 18 March 2011] [09:22:46] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:22:53] &lt;<a href="#id356"><span class="problematic" id="id357">pieterh_</span></a>&gt;  well, you can make internal socket types that are undocumented</div>
<div class="line">[Friday 18 March 2011] [09:23:05] &lt;<a href="#id358"><span class="problematic" id="id359">pieterh_</span></a>&gt;  but ZMQ_ROUTER and ZMQ_DEALER cannot be internal and undocumented</div>
<div class="line">[Friday 18 March 2011] [09:23:15] &lt;<a href="#id360"><span class="problematic" id="id361">pieterh_</span></a>&gt;  since they cover 40%, as I said, of real application use cases</div>
<div class="line">[Friday 18 March 2011] [09:23:24] &lt;sustrik&gt;   X-sockets must be documented because they are used to make devices</div>
<div class="line">[Friday 18 March 2011] [09:23:32] &lt;<a href="#id362"><span class="problematic" id="id363">pieterh_</span></a>&gt;  devices are apps</div>
<div class="line">[Friday 18 March 2011] [09:23:43] &lt;sustrik&gt;   i.e. intermdiate nodes with no end-to-end functionalitty</div>
<div class="line">[Friday 18 March 2011] [09:23:46] &lt;<a href="#id364"><span class="problematic" id="id365">pieterh_</span></a>&gt;  X-sockets are your terminology</div>
<div class="line">[Friday 18 March 2011] [09:23:55] &lt;<a href="#id366"><span class="problematic" id="id367">pieterh_</span></a>&gt;  I&#8217;m against that terminology</div>
<div class="line">[Friday 18 March 2011] [09:24:02] &lt;sustrik&gt;   what would you want instead?</div>
<div class="line">[Friday 18 March 2011] [09:24:09] &lt;<a href="#id368"><span class="problematic" id="id369">pieterh_</span></a>&gt;  especially when you explain it</div>
<div class="line">[Friday 18 March 2011] [09:24:16] &lt;sustrik&gt;   i admitt the X- thing is stupid</div>
<div class="line">[Friday 18 March 2011] [09:24:18] &lt;<a href="#id370"><span class="problematic" id="id371">pieterh_</span></a>&gt;  just a clear set of sockets that are properly documented and match real requirements</div>
<div class="line">[Friday 18 March 2011] [09:24:23] &lt;<a href="#id372"><span class="problematic" id="id373">pieterh_</span></a>&gt;  it&#8217;s not hard</div>
<div class="line">[Friday 18 March 2011] [09:24:24] &lt;<a href="#id374"><span class="problematic" id="id375">pieterh_</span></a>&gt;  design from the use case backwards</div>
<div class="line">[Friday 18 March 2011] [09:24:29] &lt;sustrik&gt;   haven&#8217;t though of anything better though</div>
<div class="line">[Friday 18 March 2011] [09:24:30] &lt;<a href="#id376"><span class="problematic" id="id377">pieterh_</span></a>&gt;  not from the implementation forwards</div>
<div class="line">[Friday 18 March 2011] [09:24:36] &lt;<a href="#id378"><span class="problematic" id="id379">pieterh_</span></a>&gt;  I don&#8217;t <em>care</em> how you implement stuff</div>
<div class="line">[Friday 18 March 2011] [09:24:58] &lt;<a href="#id380"><span class="problematic" id="id381">pieterh_</span></a>&gt;  what I do care about is the clarity of documentation as a contract</div>
<div class="line">[Friday 18 March 2011] [09:25:00] &lt;<a href="#id382"><span class="problematic" id="id383">pieterh_</span></a>&gt;  clear names</div>
<div class="line">[Friday 18 March 2011] [09:25:09] &lt;sustrik&gt;   the problem is that X- sockets have to be exposed because of device implementers</div>
<div class="line">[Friday 18 March 2011] [09:25:12] &lt;<a href="#id384"><span class="problematic" id="id385">pieterh_</span></a>&gt;  clear semantics that directly speak to user requirements</div>
<div class="line">[Friday 18 March 2011] [09:25:16] &lt;<a href="#id386"><span class="problematic" id="id387">pieterh_</span></a>&gt;  ?</div>
<div class="line">[Friday 18 March 2011] [09:25:21] &lt;sustrik&gt;   so they can&#8217;t be hidden</div>
<div class="line">[Friday 18 March 2011] [09:25:22] &lt;<a href="#id388"><span class="problematic" id="id389">pieterh_</span></a>&gt;  ZMQ_ROUTER is not a problem</div>
<div class="line">[Friday 18 March 2011] [09:25:28] &lt;<a href="#id390"><span class="problematic" id="id391">pieterh_</span></a>&gt;  sigh</div>
<div class="line">[Friday 18 March 2011] [09:25:32] &lt;<a href="#id392"><span class="problematic" id="id393">pieterh_</span></a>&gt;  devices are apps</div>
<div class="line">[Friday 18 March 2011] [09:25:34] &lt;sustrik&gt;   no, the problem is layering</div>
<div class="line">[Friday 18 March 2011] [09:25:40] &lt;<a href="#id394"><span class="problematic" id="id395">pieterh_</span></a>&gt;  that&#8217;s your problem, not mine</div>
<div class="line">[Friday 18 March 2011] [09:25:55] &lt;<a href="#id396"><span class="problematic" id="id397">pieterh_</span></a>&gt;  that&#8217;s an implementation detail</div>
<div class="line">[Friday 18 March 2011] [09:25:58] &lt;<a href="#id398"><span class="problematic" id="id399">pieterh_</span></a>&gt;  look... just make small steps here</div>
<div class="line">[Friday 18 March 2011] [09:26:06] &lt;sustrik&gt;   ok, so just ignore the X types</div>
<div class="line">[Friday 18 March 2011] [09:26:09] &lt;<a href="#id400"><span class="problematic" id="id401">pieterh_</span></a>&gt;  rename XREP and XREQ to ROUTER and DEALER</div>
<div class="line">[Friday 18 March 2011] [09:26:17] &lt;<a href="#id402"><span class="problematic" id="id403">pieterh_</span></a>&gt;  and stop using weird names that make no sense</div>
<div class="line">[Friday 18 March 2011] [09:26:17] &lt;sustrik&gt;   it&#8217;s mine problem, not yours</div>
<div class="line">[Friday 18 March 2011] [09:26:33] &lt;<a href="#id404"><span class="problematic" id="id405">pieterh_</span></a>&gt;  if you want to use undocumented internal socket types, fine</div>
<div class="line">[Friday 18 March 2011] [09:26:38] &lt;<a href="#id406"><span class="problematic" id="id407">pieterh_</span></a>&gt;  but they don&#8217;t exist for me</div>
<div class="line">[Friday 18 March 2011] [09:26:45] &lt;sustrik&gt;   they must be documented because of devices</div>
<div class="line">[Friday 18 March 2011] [09:26:57] &lt;sustrik&gt;   there&#8217;s no way to create a device with REQ/REP</div>
<div class="line">[Friday 18 March 2011] [09:27:01] &lt;sustrik&gt;   it would blockl</div>
<div class="line">[Friday 18 March 2011] [09:27:01] &lt;<a href="#id408"><span class="problematic" id="id409">pieterh_</span></a>&gt;  then they are not internal</div>
<div class="line">[Friday 18 March 2011] [09:27:07] &lt;<a href="#id410"><span class="problematic" id="id411">pieterh_</span></a>&gt;  well, I do know that</div>
<div class="line">[Friday 18 March 2011] [09:27:25] &lt;<a href="#id412"><span class="problematic" id="id413">pieterh_</span></a>&gt;  when I say &#8220;undocumented internal socket types&#8221; I do not mean ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:27:25] &lt;<a href="#id414"><span class="problematic" id="id415">pieterh_</span></a>&gt;  obviously</div>
<div class="line">[Friday 18 March 2011] [09:27:41] &lt;<a href="#id416"><span class="problematic" id="id417">pieterh_</span></a>&gt;  I mean e.g. XPUB/XSUB</div>
<div class="line">[Friday 18 March 2011] [09:27:51] &lt;sustrik&gt;   so my proposition is let distiquish XREP/XREQ</div>
<div class="line">[Friday 18 March 2011] [09:27:55] &lt;sustrik&gt;   from ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:28:03] &lt;sustrik&gt;   you can then use ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:28:04] &lt;<a href="#id418"><span class="problematic" id="id419">pieterh_</span></a>&gt;  why?</div>
<div class="line">[Friday 18 March 2011] [09:28:12] &lt;<a href="#id420"><span class="problematic" id="id421">pieterh_</span></a>&gt;  why keep the old names at all?</div>
<div class="line">[Friday 18 March 2011] [09:28:15] &lt;sustrik&gt;   because it&#8217;s a different messaging pattern</div>
<div class="line">[Friday 18 March 2011] [09:28:21] &lt;<a href="#id422"><span class="problematic" id="id423">pieterh_</span></a>&gt;  sigh</div>
<div class="line">[Friday 18 March 2011] [09:28:23] &lt;<a href="#id424"><span class="problematic" id="id425">pieterh_</span></a>&gt;  this is just bogus</div>
<div class="line">[Friday 18 March 2011] [09:28:25] &lt;sustrik&gt;   it SMTP-like messaging</div>
<div class="line">[Friday 18 March 2011] [09:28:27] &lt;<a href="#id426"><span class="problematic" id="id427">pieterh_</span></a>&gt;  it&#8217;s not a different pattern</div>
<div class="line">[Friday 18 March 2011] [09:28:34] &lt;<a href="#id428"><span class="problematic" id="id429">pieterh_</span></a>&gt;  it&#8217;s just one use case</div>
<div class="line">[Friday 18 March 2011] [09:28:38] &lt;sustrik&gt;   specify an address, the message will get there</div>
<div class="line">[Friday 18 March 2011] [09:28:41] &lt;<a href="#id430"><span class="problematic" id="id431">pieterh_</span></a>&gt;  you have said it, there&#8217;s no better way to implement it</div>
<div class="line">[Friday 18 March 2011] [09:28:48] &lt;sustrik&gt;   while req/rep is:</div>
<div class="line">[Friday 18 March 2011] [09:28:52] &lt;<a href="#id432"><span class="problematic" id="id433">pieterh_</span></a>&gt;  &#8220;message will get there&#8221; is not a socket semantic</div>
<div class="line">[Friday 18 March 2011] [09:29:01] &lt;sustrik&gt;   specify the name of the service, you task will be executed</div>
<div class="line">[Friday 18 March 2011] [09:29:18] &lt;<a href="#id434"><span class="problematic" id="id435">pieterh_</span></a>&gt;  that is Majordomo</div>
<div class="line">[Friday 18 March 2011] [09:29:21] &lt;<a href="#id436"><span class="problematic" id="id437">pieterh_</span></a>&gt;  have you actually read the Guide?</div>
<div class="line">[Friday 18 March 2011] [09:29:28] &lt;sustrik&gt;   most of it</div>
<div class="line">[Friday 18 March 2011] [09:29:38] &lt;<a href="#id438"><span class="problematic" id="id439">pieterh_</span></a>&gt;  you should perhaps see what people do with your work</div>
<div class="line">[Friday 18 March 2011] [09:29:39] &lt;sustrik&gt;   anyway, let&#8217;s move this discussion on the mailing list</div>
<div class="line">[Friday 18 March 2011] [09:29:43] &lt;<a href="#id440"><span class="problematic" id="id441">pieterh_</span></a>&gt;  it&#8217;s all based on real questions on the list</div>
<div class="line">[Friday 18 March 2011] [09:29:49] &lt;<a href="#id442"><span class="problematic" id="id443">pieterh_</span></a>&gt;  SOA is not a socket semantic</div>
<div class="line">[Friday 18 March 2011] [09:30:16] &lt;<a href="#id444"><span class="problematic" id="id445">pieterh_</span></a>&gt;  my advice, honestly, is to make small, careful evolutionary steps</div>
<div class="line">[Friday 18 March 2011] [09:30:26] &lt;<a href="#id446"><span class="problematic" id="id447">pieterh_</span></a>&gt;  do not make radical changes to things that took years to learn</div>
<div class="line">[Friday 18 March 2011] [09:30:28] &lt;sustrik&gt;   #define ZMQ_ROUTER ZMQ_XREP</div>
<div class="line">[Friday 18 March 2011] [09:30:31] &lt;<a href="#id448"><span class="problematic" id="id449">pieterh_</span></a>&gt;  people will not like you for it</div>
<div class="line">[Friday 18 March 2011] [09:30:32] &lt;<a href="#id450"><span class="problematic" id="id451">pieterh_</span></a>&gt;  sure</div>
<div class="line">[Friday 18 March 2011] [09:30:33] &lt;sustrik&gt;   that&#8217;s as small as it gets</div>
<div class="line">[Friday 18 March 2011] [09:30:36] &lt;<a href="#id452"><span class="problematic" id="id453">pieterh_</span></a>&gt;  I&#8217;ve done that in 2.1</div>
<div class="line">[Friday 18 March 2011] [09:30:40] &lt;<a href="#id454"><span class="problematic" id="id455">pieterh_</span></a>&gt;  precisely that</div>
<div class="line">[Friday 18 March 2011] [09:30:45] &lt;sustrik&gt;   i&#8217;ll do that in trunk</div>
<div class="line">[Friday 18 March 2011] [09:30:48] &lt;<a href="#id456"><span class="problematic" id="id457">pieterh_</span></a>&gt;  it&#8217;s sufficient for me</div>
<div class="line">[Friday 18 March 2011] [09:30:54] &lt;sustrik&gt;   but i would like it to be discussed first</div>
<div class="line">[Friday 18 March 2011] [09:31:03] &lt;<a href="#id458"><span class="problematic" id="id459">pieterh_</span></a>&gt;  the naming has been discussed several times</div>
<div class="line">[Friday 18 March 2011] [09:31:05] &lt;sustrik&gt;   i assume that would be the preferred option</div>
<div class="line">[Friday 18 March 2011] [09:31:09] &lt;<a href="#id460"><span class="problematic" id="id461">pieterh_</span></a>&gt;  it&#8217;s not the same issue as semantic changes</div>
<div class="line">[Friday 18 March 2011] [09:31:16] &lt;sustrik&gt;   but i don&#8217;t want to do it without discussion on the list</div>
<div class="line">[Friday 18 March 2011] [09:31:21] &lt;<a href="#id462"><span class="problematic" id="id463">pieterh_</span></a>&gt;  you are mixing two issues and making the discussion harder</div>
<div class="line">[Friday 18 March 2011] [09:31:35] &lt;<a href="#id464"><span class="problematic" id="id465">pieterh_</span></a>&gt;  the naming <em>has</em> been discussed several times, with clear consensus</div>
<div class="line">[Friday 18 March 2011] [09:31:40] &lt;<a href="#id466"><span class="problematic" id="id467">pieterh_</span></a>&gt;  shall I point you to the thread?</div>
<div class="line">[Friday 18 March 2011] [09:31:44] &lt;sustrik&gt;   explain your point of view on the list then</div>
<div class="line">[Friday 18 March 2011] [09:31:54] &lt;sustrik&gt;   we are a community</div>
<div class="line">[Friday 18 March 2011] [09:31:56] &lt;<a href="#id468"><span class="problematic" id="id469">pieterh_</span></a>&gt;  I&#8217;ve done that, of course</div>
<div class="line">[Friday 18 March 2011] [09:31:59] &lt;<a href="#id470"><span class="problematic" id="id471">pieterh_</span></a>&gt;  we&#8217;re also on IRC</div>
<div class="line">[Friday 18 March 2011] [09:32:03] &lt;<a href="#id472"><span class="problematic" id="id473">pieterh_</span></a>&gt;  this is logged</div>
<div class="line">[Friday 18 March 2011] [09:32:18] &lt;sustrik&gt;   yep, but lot of people are not here at the moment</div>
<div class="line">[Friday 18 March 2011] [09:32:25] &lt;<a href="#id474"><span class="problematic" id="id475">pieterh_</span></a>&gt;  the list is also fairly passive</div>
<div class="line">[Friday 18 March 2011] [09:32:39] &lt;<a href="#id476"><span class="problematic" id="id477">pieterh_</span></a>&gt;  nonetheless, I have asked about renaming the sockets and there was <em>clear</em> consensus</div>
<div class="line">[Friday 18 March 2011] [09:32:43] &lt;<a href="#id478"><span class="problematic" id="id479">pieterh_</span></a>&gt;  please do respect that</div>
<div class="line">[Friday 18 March 2011] [09:32:47] &lt;<a href="#id480"><span class="problematic" id="id481">pieterh_</span></a>&gt;  we are a community, as you say</div>
<div class="line">[Friday 18 March 2011] [09:32:48] &lt;sustrik&gt;   it&#8217;s polite to allow even those in other timezones to discuss</div>
<div class="line">[Friday 18 March 2011] [09:33:10] &lt;<a href="#id482"><span class="problematic" id="id483">pieterh_</span></a>&gt;  also, reopening a discussion because you weren&#8217;t there, or don&#8217;t like the outcome is unpolite</div>
<div class="line">[Friday 18 March 2011] [09:33:17] &lt;sustrik&gt;   yep, i am for ZMQ_ROUTER options as well</div>
<div class="line">[Friday 18 March 2011] [09:33:22] &lt;<a href="#id484"><span class="problematic" id="id485">pieterh_</span></a>&gt;  so, we make that</div>
<div class="line">[Friday 18 March 2011] [09:33:29] &lt;<a href="#id486"><span class="problematic" id="id487">pieterh_</span></a>&gt;  and we consider the semantics as a separate issue</div>
<div class="line">[Friday 18 March 2011] [09:33:32] &lt;sustrik&gt;   it&#8217;s supplying the missing pieces of information</div>
<div class="line">[Friday 18 March 2011] [09:33:44] &lt;<a href="#id488"><span class="problematic" id="id489">pieterh_</span></a>&gt;  i&#8217;m always in favor of better semantics but they must be carefully worked out of use cases</div>
<div class="line">[Friday 18 March 2011] [09:33:53] &lt;sustrik&gt;   yup</div>
<div class="line">[Friday 18 March 2011] [09:33:55] &lt;<a href="#id490"><span class="problematic" id="id491">pieterh_</span></a>&gt;  abstract &#8220;it&#8217;s like XYZ&#8221; discussions are pointless IMO</div>
<div class="line">[Friday 18 March 2011] [09:33:59] &lt;<a href="#id492"><span class="problematic" id="id493">pieterh_</span></a>&gt;  we are not like XYZ</div>
<div class="line">[Friday 18 March 2011] [09:34:04] &lt;sustrik&gt;   sure, say so</div>
<div class="line">[Friday 18 March 2011] [09:34:07] &lt;<a href="#id494"><span class="problematic" id="id495">pieterh_</span></a>&gt;  XYZ is like us, done badly</div>
<div class="line">[Friday 18 March 2011] [09:34:07] &lt;<a href="#id496"><span class="problematic" id="id497">pieterh_</span></a>&gt;  period</div>
<div class="line">[Friday 18 March 2011] [09:34:18] &lt;<a href="#id498"><span class="problematic" id="id499">pieterh_</span></a>&gt;  what, again?</div>
<div class="line">[Friday 18 March 2011] [09:34:18] &lt;<a href="#id500"><span class="problematic" id="id501">pieterh_</span></a>&gt;  :-)</div>
<div class="line">[Friday 18 March 2011] [09:34:40] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 18 March 2011] [09:34:55] &lt;<a href="#id502"><span class="problematic" id="id503">pieterh_</span></a>&gt;  btw, for IPC, what do you think about making a shared memory transport?</div>
<div class="line">[Friday 18 March 2011] [09:35:11] &lt;<a href="#id504"><span class="problematic" id="id505">pieterh_</span></a>&gt;  one can make a portable shmem layer, then use that</div>
<div class="line">[Friday 18 March 2011] [09:35:29] &lt;sustrik&gt;   there&#8217;s an API problem with that</div>
<div class="line">[Friday 18 March 2011] [09:35:32] &lt;<a href="#id506"><span class="problematic" id="id507">pieterh_</span></a>&gt;  all we need is a portable shmem api people can implement</div>
<div class="line">[Friday 18 March 2011] [09:35:39] &lt;sustrik&gt;   when you allocate a message</div>
<div class="line">[Friday 18 March 2011] [09:35:48] &lt;sustrik&gt;   (zmq_msg_init_size)</div>
<div class="line">[Friday 18 March 2011] [09:35:54] &lt;sustrik&gt;   it&#8217;s allocated in process heap</div>
<div class="line">[Friday 18 March 2011] [09:36:01] &lt;<a href="#id508"><span class="problematic" id="id509">pieterh_</span></a>&gt;  right, that&#8217;s fine, we copy data</div>
<div class="line">[Friday 18 March 2011] [09:36:20] &lt;sustrik&gt;   if you copy data then there&#8217;s not much point in using shmem</div>
<div class="line">[Friday 18 March 2011] [09:36:32] &lt;<a href="#id510"><span class="problematic" id="id511">pieterh_</span></a>&gt;  much, much faster than IPC</div>
<div class="line">[Friday 18 March 2011] [09:36:45] &lt;<a href="#id512"><span class="problematic" id="id513">pieterh_</span></a>&gt;  also, am I wrong, but with ZMQ you <em>always</em> have to copy data on recv?</div>
<div class="line">[Friday 18 March 2011] [09:36:49] &lt;sustrik&gt;   if that&#8217;s the case, then sure</div>
<div class="line">[Friday 18 March 2011] [09:36:57] &lt;sustrik&gt;   it have been discussed serveral times</div>
<div class="line">[Friday 18 March 2011] [09:37:03] &lt;<a href="#id514"><span class="problematic" id="id515">pieterh_</span></a>&gt;  shmem?</div>
<div class="line">[Friday 18 March 2011] [09:37:07] &lt;sustrik&gt;   yep</div>
<div class="line">[Friday 18 March 2011] [09:37:18] &lt;sustrik&gt;   but nobody really tried to implement it</div>
<div class="line">[Friday 18 March 2011] [09:37:21] &lt;<a href="#id516"><span class="problematic" id="id517">pieterh_</span></a>&gt;  I&#8217;ve not seen any attempt to slice it into two</div>
<div class="line">[Friday 18 March 2011] [09:37:21] &lt;sustrik&gt;   at least afaik</div>
<div class="line">[Friday 18 March 2011] [09:37:37] &lt;sustrik&gt;   two what?</div>
<div class="line">[Friday 18 March 2011] [09:37:40] &lt;<a href="#id518"><span class="problematic" id="id519">pieterh_</span></a>&gt;  two layers</div>
<div class="line">[Friday 18 March 2011] [09:37:57] &lt;<a href="#id520"><span class="problematic" id="id521">pieterh_</span></a>&gt;  so, abstract shmem api, and implementations thereof, and use thereof</div>
<div class="line">[Friday 18 March 2011] [09:38:12] &lt;<a href="#id522"><span class="problematic" id="id523">pieterh_</span></a>&gt;  the problem is today, you&#8217;d have to know both sides of the cake to make it</div>
<div class="line">[Friday 18 March 2011] [09:38:21] &lt;<a href="#id524"><span class="problematic" id="id525">pieterh_</span></a>&gt;  both how to make a transport in 0MQ, and how to do shmem on system X</div>
<div class="line">[Friday 18 March 2011] [09:38:28] &lt;<a href="#id526"><span class="problematic" id="id527">pieterh_</span></a>&gt;  I&#8217;d like to slice this into two problems</div>
<div class="line">[Friday 18 March 2011] [09:38:46] &lt;sustrik&gt;   how would you do that?</div>
<div class="line">[Friday 18 March 2011] [09:38:54] &lt;Steve-o&gt;   re: shmem I got as far as this and haven&#8217;t looked at it again:  <a class="reference external" href="https://gist.github.com/876073">https://gist.github.com/876073</a></div>
<div class="line">[Friday 18 March 2011] [09:38:55] &lt;<a href="#id528"><span class="problematic" id="id529">pieterh_</span></a>&gt;  well, classic portable API solution</div>
<div class="line">[Friday 18 March 2011] [09:39:06] &lt;<a href="#id530"><span class="problematic" id="id531">pieterh_</span></a>&gt;  like how I made portable threading in ZFL</div>
<div class="line">[Friday 18 March 2011] [09:39:42] &lt;sustrik&gt;   currently 0MQ uses <a href="#id532"><span class="problematic" id="id533">ZMQ_HAVE_</span></a>... macros to provide OS-specific functionality</div>
<div class="line">[Friday 18 March 2011] [09:39:45] &lt;<a href="#id534"><span class="problematic" id="id535">pieterh_</span></a>&gt;  first step is to agree on what constitutes the necessary shmem api for a portable shmem transport in 0MQ</div>
<div class="line">[Friday 18 March 2011] [09:39:58] &lt;<a href="#id536"><span class="problematic" id="id537">pieterh_</span></a>&gt;  sure, but that&#8217;s not helpful here, forget it</div>
<div class="line">[Friday 18 March 2011] [09:40:07] &lt;<a href="#id538"><span class="problematic" id="id539">pieterh_</span></a>&gt;  you do that in some module, shmem.cpp or whatever</div>
<div class="line">[Friday 18 March 2011] [09:40:11] &lt;sustrik&gt;   ah, you are speaking of internal apis, right?</div>
<div class="line">[Friday 18 March 2011] [09:40:14] &lt;<a href="#id540"><span class="problematic" id="id541">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:40:20] &lt;sustrik&gt;   abstraction for transports</div>
<div class="line">[Friday 18 March 2011] [09:40:23] &lt;<a href="#id542"><span class="problematic" id="id543">pieterh_</span></a>&gt;  a portability API for shmem</div>
<div class="line">[Friday 18 March 2011] [09:40:24] &lt;<a href="#id544"><span class="problematic" id="id545">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:40:30] &lt;sustrik&gt;   that would be great</div>
<div class="line">[Friday 18 March 2011] [09:40:38] &lt;<a href="#id546"><span class="problematic" id="id547">pieterh_</span></a>&gt;  it means one person writes the transport, another group makes it work on random boxes</div>
<div class="line">[Friday 18 March 2011] [09:40:38] &lt;sustrik&gt;   i was thinking about it for a long time</div>
<div class="line">[Friday 18 March 2011] [09:40:43] &lt;sustrik&gt;   but it&#8217;s rather complex</div>
<div class="line">[Friday 18 March 2011] [09:40:48] &lt;<a href="#id548"><span class="problematic" id="id549">pieterh_</span></a>&gt;  all we need is a simple abstract API</div>
<div class="line">[Friday 18 March 2011] [09:40:52] &lt;<a href="#id550"><span class="problematic" id="id551">pieterh_</span></a>&gt;  shmem_get_block ()</div>
<div class="line">[Friday 18 March 2011] [09:40:56] &lt;<a href="#id552"><span class="problematic" id="id553">pieterh_</span></a>&gt;  shmem_write ()</div>
<div class="line">[Friday 18 March 2011] [09:41:00] &lt;<a href="#id554"><span class="problematic" id="id555">pieterh_</span></a>&gt;  etc. I have no idea...</div>
<div class="line">[Friday 18 March 2011] [09:41:05] &lt;sustrik&gt;   ah, at that level</div>
<div class="line">[Friday 18 March 2011] [09:41:21] &lt;sustrik&gt;   so not generic API for transports</div>
<div class="line">[Friday 18 March 2011] [09:41:30] &lt;mato&gt;      guys, re ROUTER, if we are going to formalize this then rather than just renaming XREP shouldn&#8217;t we think about what the real semantics are for people who wish to do routing by design?</div>
<div class="line">[Friday 18 March 2011] [09:41:30] &lt;<a href="#id556"><span class="problematic" id="id557">pieterh_</span></a>&gt;  no, only for shmem</div>
<div class="line">[Friday 18 March 2011] [09:41:31] &lt;sustrik&gt;   rather generic API for shmem</div>
<div class="line">[Friday 18 March 2011] [09:41:44] &lt;mato&gt;      since the current use of router has simply evolved out of what XREP provides.</div>
<div class="line">[Friday 18 March 2011] [09:41:46] &lt;<a href="#id558"><span class="problematic" id="id559">pieterh_</span></a>&gt;  sustrik: yes, just to solve this case</div>
<div class="line">[Friday 18 March 2011] [09:41:48] &lt;sustrik&gt;   spieterh: sure, feel free to implement</div>
<div class="line">[Friday 18 March 2011] [09:41:53] &lt;<a href="#id560"><span class="problematic" id="id561">pieterh_</span></a>&gt;  mato: yes, but it seems there&#8217;s no better way</div>
<div class="line">[Friday 18 March 2011] [09:42:12] &lt;<a href="#id562"><span class="problematic" id="id563">pieterh_</span></a>&gt;  sustrik: my problem is I have zero idea what a transport would need</div>
<div class="line">[Friday 18 March 2011] [09:42:14] &lt;mato&gt;      <a href="#id564"><span class="problematic" id="id565">pieterh_</span></a>: why so? there&#8217;s no hurry, 3.0 is a way away yet</div>
<div class="line">[Friday 18 March 2011] [09:42:17] &lt;sustrik&gt;   mato: ack</div>
<div class="line">[Friday 18 March 2011] [09:42:26] &lt;<a href="#id566"><span class="problematic" id="id567">pieterh_</span></a>&gt;  I&#8217;m happy to make shmem implementations of some defined API</div>
<div class="line">[Friday 18 March 2011] [09:42:37] &lt;mato&gt;      <a href="#id568"><span class="problematic" id="id569">pieterh_</span></a>: aren&#8217;t we supposed to be master programmers doing this well, rather than making rash decisions?</div>
<div class="line">[Friday 18 March 2011] [09:42:39] &lt;sustrik&gt;   pieterh: great</div>
<div class="line">[Friday 18 March 2011] [09:42:42] &lt;<a href="#id570"><span class="problematic" id="id571">pieterh_</span></a>&gt;  mato: there&#8217;s no hurry except the current names are painful</div>
<div class="line">[Friday 18 March 2011] [09:42:42] &lt;sustrik&gt;   mato: my feeling is people want SMTP like-semantivc</div>
<div class="line">[Friday 18 March 2011] [09:42:44] &lt;<a href="#id572"><span class="problematic" id="id573">pieterh_</span></a>&gt;  mato: lol</div>
<div class="line">[Friday 18 March 2011] [09:42:48] &lt;<a href="#id574"><span class="problematic" id="id575">pieterh_</span></a>&gt;  double lol</div>
<div class="line">[Friday 18 March 2011] [09:42:58] &lt;<a href="#id576"><span class="problematic" id="id577">pieterh_</span></a>&gt;  the man pages document code rather than code implementing man pages</div>
<div class="line">[Friday 18 March 2011] [09:43:10] &lt;mato&gt;      huh?</div>
<div class="line">[Friday 18 March 2011] [09:43:18] &lt;<a href="#id578"><span class="problematic" id="id579">pieterh_</span></a>&gt;  shrug</div>
<div class="line">[Friday 18 March 2011] [09:43:23] &lt;<a href="#id580"><span class="problematic" id="id581">pieterh_</span></a>&gt;  if you don&#8217;t know what I mean, forget it</div>
<div class="line">[Friday 18 March 2011] [09:43:42] &lt;<a href="#id582"><span class="problematic" id="id583">pieterh_</span></a>&gt;  anyhow, where is the rash decision?</div>
<div class="line">[Friday 18 March 2011] [09:43:51] &lt;<a href="#id584"><span class="problematic" id="id585">pieterh_</span></a>&gt;  there has been extensive discussion about the names of sockets</div>
<div class="line">[Friday 18 March 2011] [09:43:52] &lt;sustrik&gt;   mato: there&#8217;s one issue in the bugtracker to do with man pages</div>
<div class="line">[Friday 18 March 2011] [09:44:10] &lt;mato&gt;      but the names don&#8217;t fit with the big picture</div>
<div class="line">[Friday 18 March 2011] [09:44:10] &lt;sustrik&gt;   could you have a look at it?</div>
<div class="line">[Friday 18 March 2011] [09:44:12] &lt;<a href="#id586"><span class="problematic" id="id587">pieterh_</span></a>&gt;  and renaming XREP and XREQ has been agreed by the list, with total consensus</div>
<div class="line">[Friday 18 March 2011] [09:44:24] &lt;mato&gt;      i love your dogmatism</div>
<div class="line">[Friday 18 March 2011] [09:44:25] &lt;<a href="#id588"><span class="problematic" id="id589">pieterh_</span></a>&gt;  mato: what big picture? show me the design docs...</div>
<div class="line">[Friday 18 March 2011] [09:44:29] &lt;mato&gt;      4 people replied</div>
<div class="line">[Friday 18 March 2011] [09:44:31] &lt;<a href="#id590"><span class="problematic" id="id591">pieterh_</span></a>&gt;  if it&#8217;s just in someone&#8217;s head, it&#8217;s not on paper</div>
<div class="line">[Friday 18 March 2011] [09:44:34] &lt;mato&gt;      total consensus</div>
<div class="line">[Friday 18 March 2011] [09:44:41] &lt;<a href="#id592"><span class="problematic" id="id593">pieterh_</span></a>&gt;  4 people replied, no-one said no, that&#8217;s total consensus, yes</div>
<div class="line">[Friday 18 March 2011] [09:44:52] &lt;<a href="#id594"><span class="problematic" id="id595">pieterh_</span></a>&gt;  it&#8217;s not exactly a hypertalkative list</div>
<div class="line">[Friday 18 March 2011] [09:44:58] &lt;mato&gt;      right.</div>
<div class="line">[Friday 18 March 2011] [09:45:03] &lt;<a href="#id596"><span class="problematic" id="id597">pieterh_</span></a>&gt;  but if you want to veto it, go for it</div>
<div class="line">[Friday 18 March 2011] [09:45:28] &lt;<a href="#id598"><span class="problematic" id="id599">pieterh_</span></a>&gt;  I&#8217;m going to switch to the new names ASAP in any case</div>
<div class="line">[Friday 18 March 2011] [09:45:37] &lt;mato&gt;      right, so you&#8217;re going to fork the api</div>
<div class="line">[Friday 18 March 2011] [09:45:46] &lt;<a href="#id600"><span class="problematic" id="id601">pieterh_</span></a>&gt;  no, I&#8217;m implementing the consensus</div>
<div class="line">[Friday 18 March 2011] [09:45:47] &lt;mato&gt;      thanks for that.</div>
<div class="line">[Friday 18 March 2011] [09:45:54] &lt;<a href="#id602"><span class="problematic" id="id603">pieterh_</span></a>&gt;  if you don&#8217;t want to follow, fork the API</div>
<div class="line">[Friday 18 March 2011] [09:45:59] &lt;<a href="#id604"><span class="problematic" id="id605">pieterh_</span></a>&gt;  please don&#8217;t be silly, mato</div>
<div class="line">[Friday 18 March 2011] [09:46:05] &lt;<a href="#id606"><span class="problematic" id="id607">pieterh_</span></a>&gt;  this was discussed ad nauseam</div>
<div class="line">[Friday 18 March 2011] [09:46:28] &lt;<a href="#id608"><span class="problematic" id="id609">pieterh_</span></a>&gt;  Just like a 3.0 version will &#8216;fork the api&#8217;?</div>
<div class="line">[Friday 18 March 2011] [09:46:33] &lt;<a href="#id610"><span class="problematic" id="id611">pieterh_</span></a>&gt;  improvements that solve real problems people face</div>
<div class="line">[Friday 18 March 2011] [09:46:49] &lt;<a href="#id612"><span class="problematic" id="id613">pieterh_</span></a>&gt;  if you find this offensive, well... sigh</div>
<div class="line">[Friday 18 March 2011] [09:47:01] &lt;mato&gt;      forget it</div>
<div class="line">[Friday 18 March 2011] [09:47:07] &lt;<a href="#id614"><span class="problematic" id="id615">pieterh_</span></a>&gt;  whatever</div>
<div class="line">[Friday 18 March 2011] [09:47:18] &lt;<a href="#id616"><span class="problematic" id="id617">pieterh_</span></a>&gt;  discuss on that thread, it&#8217;s public</div>
<div class="line">[Friday 18 March 2011] [09:47:21] &lt;<a href="#id618"><span class="problematic" id="id619">pieterh_</span></a>&gt;  give your reasons</div>
<div class="line">[Friday 18 March 2011] [09:47:53] &lt;mato&gt;      sure.</div>
<div class="line">[Friday 18 March 2011] [09:52:53] &lt;drbobbeaty&gt;        Guys, I don&#8217;t mean to poke my ideas in in the middle of a discussion, but would there be a significant issue if the 2.x codebase used BOTH names, and then the 3.x codebase used just the &#8216;new&#8217; one? That way, people that use the names for a significant part of their understanding of their function can have both while not breaking backward compatibility.</div>
<div class="line">[Friday 18 March 2011] [09:53:50] &lt;drbobbeaty&gt;        I can see that names are important to understand, I deal with that from the users of my libraries every day. I sweat the names for a long time to make sure they are concise, descriptive, and clear.</div>
<div class="line">[Friday 18 March 2011] [09:53:54] &lt;ianbarber&gt; upstream downstream were (are?) still valid</div>
<div class="line">[Friday 18 March 2011] [09:54:38] &lt;drbobbeaty&gt;        But I can also see that the original design was based on these names, and they, too, have value to a group of users for just that reason. They understand the library and function in terms of these names.</div>
<div class="line">[Friday 18 March 2011] [09:54:48] &lt;drbobbeaty&gt;        Just my USD $0.02</div>
<div class="line">[Friday 18 March 2011] [09:55:59] &lt;sustrik&gt;   drbobbeaty: i think almost everybody agrees that ZMQ_ROUTER being introduced</div>
<div class="line">[Friday 18 March 2011] [09:56:19] &lt;sustrik&gt;   the discussion was about whether original XREP should remain as a different socket type</div>
<div class="line">[Friday 18 March 2011] [09:56:53] &lt;drbobbeaty&gt;        Oh... there... I should have stayed quiet. I thought it was about a name change. Please forgive my ignorance.</div>
<div class="line">[Friday 18 March 2011] [09:57:09] &lt;mato&gt;      sustrik: that is precisely the point.</div>
<div class="line">[Friday 18 March 2011] [10:00:22] &lt;jhawk28&gt;   I suspect that it will become more clear as more &#8220;devices&#8221; are written</div>
<div class="line">[Friday 18 March 2011] [10:04:45] &lt;mato&gt;      sustrik: SMTP, yes, that&#8217;s an interesting insight</div>
<div class="line">[Friday 18 March 2011] [10:04:50] &lt;mato&gt;      sustrik: I think you&#8217;re right</div>
<div class="line">[Friday 18 March 2011] [10:05:14] &lt;mato&gt;      sustrik: what is the manpage issue? i can&#8217;t find it...</div>
<div class="line">[Friday 18 March 2011] [10:05:20] &lt;sustrik&gt;   jhaw28: i would say so</div>
<div class="line">[Friday 18 March 2011] [10:05:38] &lt;sustrik&gt;   mato: let me see</div>
<div class="line">[Friday 18 March 2011] [10:08:49] &lt;sustrik&gt;   mato: issue 130</div>
<div class="line">[Friday 18 March 2011] [10:10:11] &lt;mile&gt;      hi</div>
<div class="line">[Friday 18 March 2011] [10:10:17] &lt;jhawk28&gt;   b.....tlllrrrrr</div>
<div class="line">[Friday 18 March 2011] [10:10:19] &lt;jhawk28&gt;   ]</div>
<div class="line">[Friday 18 March 2011] [10:10:27] &lt;mile&gt;      does anyone have hands-on experience with erlang bindings?</div>
<div class="line">[Friday 18 March 2011] [10:11:33] &lt;mato&gt;      sustrik: hmm, i can see how that might a bug in the manpage, but isn&#8217;t it just exposing an inconsistency in the internal implementation?</div>
<div class="line">[Friday 18 March 2011] [10:11:52] &lt;sustrik&gt;   mile: ask yrashk</div>
<div class="line">[Friday 18 March 2011] [10:12:02] &lt;sustrik&gt;   he should be here i think</div>
<div class="line">[Friday 18 March 2011] [10:12:02] &lt;mato&gt;      sustrik: shouldn&#8217;t the blocking behaviour be identical irrespective of the use of bind/connect?</div>
<div class="line">[Friday 18 March 2011] [10:12:16] &lt;sustrik&gt;   the problem is that on bind side</div>
<div class="line">[Friday 18 March 2011] [10:12:22] &lt;sustrik&gt;   when there&#8217;s no connection</div>
<div class="line">[Friday 18 March 2011] [10:12:25] &lt;sustrik&gt;   there&#8217;s no queue</div>
<div class="line">[Friday 18 March 2011] [10:12:27] &lt;mile&gt;      sustrik, tx, will do</div>
<div class="line">[Friday 18 March 2011] [10:12:39] &lt;mato&gt;      sustrik: yes, you&#8217;re describing the implementation</div>
<div class="line">[Friday 18 March 2011] [10:12:41] &lt;sustrik&gt;   and thus nowhere to store the message in</div>
<div class="line">[Friday 18 March 2011] [10:13:33] &lt;sustrik&gt;   the alternative would be to have one pipe pre-prepared even on bind side</div>
<div class="line">[Friday 18 March 2011] [10:13:41] &lt;sustrik&gt;   and assign it to first connected peer</div>
<div class="line">[Friday 18 March 2011] [10:13:55] &lt;mato&gt;      that would seem to result in more consistent behaviour on the user side</div>
<div class="line">[Friday 18 March 2011] [10:14:09] &lt;sustrik&gt;   ok, then create an issue for that</div>
<div class="line">[Friday 18 March 2011] [10:14:17] &lt;yrashk&gt;    sustrik: mile I am here</div>
<div class="line">[Friday 18 March 2011] [10:14:17] &lt;sustrik&gt;   so that we don&#8217;t forget</div>
<div class="line">[Friday 18 March 2011] [10:14:27] &lt;mato&gt;      alright.</div>
<div class="line">[Friday 18 March 2011] [10:14:32] &lt;mile&gt;      yrashk, hi, great :)</div>
<div class="line">[Friday 18 March 2011] [10:14:46] &lt;mile&gt;      i&#8217;m looking into connecting yaws to 0mq</div>
<div class="line">[Friday 18 March 2011] [10:14:56] &lt;mile&gt;      as a http front-end</div>
<div class="line">[Friday 18 March 2011] [10:15:16] &lt;mile&gt;      but I&#8217;m not sure about the state of the erlang bindings</div>
<div class="line">[Friday 18 March 2011] [10:15:45] &lt;yrashk&gt;    mile: what do you mean?</div>
<div class="line">[Friday 18 March 2011] [10:15:46] &lt;mile&gt;      since the alternative is hacking nginx, which I would very much like to avoid :)</div>
<div class="line">[Friday 18 March 2011] [10:16:08] &lt;yrashk&gt;    mile: what exactly are you worried about re: state?</div>
<div class="line">[Friday 18 March 2011] [10:16:31] &lt;mile&gt;      the bindings page states the both versions are not API compatible</div>
<div class="line">[Friday 18 March 2011] [10:16:54] &lt;mile&gt;      and I couldn&#8217;t find much of the benchmarks regarding the performance</div>
<div class="line">[Friday 18 March 2011] [10:17:38] &lt;yrashk&gt;    mile: short version: erlzmq is slow, erlzmq2 is fast</div>
<div class="line">[Friday 18 March 2011] [10:17:57] &lt;yrashk&gt;    on 1byte messages erlzmq2 does 1.3mln/sec (localhost) [on my mac pro]</div>
<div class="line">[Friday 18 March 2011] [10:18:03] &lt;yrashk&gt;    on 1Kbyte messages &#8211; about 300K/sec</div>
<div class="line">[Friday 18 March 2011] [10:18:37] &lt;mile&gt;      that should saturate a gbit ethernet, right?</div>
<div class="line">[Friday 18 March 2011] [10:18:41] &lt;yrashk&gt;    their API are close to each other, though &#8211; but not exactly the same, but fairly close</div>
<div class="line">[Friday 18 March 2011] [10:18:47] &lt;yrashk&gt;    hopefully, I guess</div>
<div class="line">[Friday 18 March 2011] [10:18:48] &lt;yrashk&gt;    never tried yet</div>
<div class="line">[Friday 18 March 2011] [10:19:01] &lt;mile&gt;      ok, thanks!</div>
<div class="line">[Friday 18 March 2011] [10:19:09] &lt;mile&gt;      i will be looking into this</div>
<div class="line">[Friday 18 March 2011] [10:19:25] &lt;mile&gt;      and report if I find something interesing ;)</div>
<div class="line">[Friday 18 March 2011] [10:19:34] &lt;sustrik&gt;   300K/sec = 2.45Gb/sec</div>
<div class="line">[Friday 18 March 2011] [10:20:08] &lt;mile&gt;      yeah :)</div>
<div class="line">[Friday 18 March 2011] [10:21:26] &lt;yrashk&gt;    mile: for erlzmq2, you have to have &gt;=R14B01</div>
<div class="line">[Friday 18 March 2011] [10:21:34] &lt;yrashk&gt;    as it is a NIF-based binding</div>
<div class="line">[Friday 18 March 2011] [10:21:49] &lt;mato&gt;      sustrik: i guess i should close the original issue then?</div>
<div class="line">[Friday 18 March 2011] [10:22:01] &lt;yrashk&gt;    mile: sure, I&#8217;d be pleased to see reports, erlzmq2 is fairly young</div>
<div class="line">[Friday 18 March 2011] [10:22:05] &lt;yrashk&gt;    but seems to work well</div>
<div class="line">[Friday 18 March 2011] [10:22:10] &lt;sustrik&gt;   yes, just mention the number of the new one when closing it</div>
<div class="line">[Friday 18 March 2011] [10:22:14] &lt;yrashk&gt;    if anything evax and I always ready to fix it :)</div>
<div class="line">[Friday 18 March 2011] [10:22:34] &lt;mile&gt;      yrashk, greta :)</div>
<div class="line">[Friday 18 March 2011] [10:22:54] &lt;mile&gt;      I&#8217;ll try to make a good benchmark for aws+0mq</div>
<div class="line">[Friday 18 March 2011] [10:23:01] &lt;mile&gt;      yaws*</div>
<div class="line">[Friday 18 March 2011] [10:23:17] &lt;mile&gt;      kind of like mongrail2</div>
<div class="line">[Friday 18 March 2011] [10:23:37] &lt;mile&gt;      thats what I&#8217;m aiming for</div>
<div class="line">[Friday 18 March 2011] [10:23:48] &lt;mile&gt;      only simpler and hopefully much faster</div>
<div class="line">[Friday 18 March 2011] [10:23:57] &lt;sustrik&gt;   mile: as for intreraction with nginx, meto mentioned he&#8217;s going to have a look at that</div>
<div class="line">[Friday 18 March 2011] [10:24:23] &lt;mato&gt;      i will, if i get the funding :-)</div>
<div class="line">[Friday 18 March 2011] [10:24:49] &lt;yrashk&gt;    mile: just please understand that those beforementioned benchmarks are from localhost</div>
<div class="line">[Friday 18 March 2011] [10:24:51] &lt;mile&gt;      I looked into it a couple of days ago, but it kind of freaked me out</div>
<div class="line">[Friday 18 March 2011] [10:24:57] &lt;yrashk&gt;    I haven&#8217;t tested anything else yet</div>
<div class="line">[Friday 18 March 2011] [10:25:21] &lt;mile&gt;      yrashk, sure, I will be setting up 2 boxes on a gbit switch</div>
<div class="line">[Friday 18 March 2011] [10:25:31] &lt;mile&gt;      and see how they perform</div>
<div class="line">[Friday 18 March 2011] [10:25:34] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [10:25:49] &lt;yrashk&gt;    mile: please send them over if possible (<a class="reference external" href="mailto:yrashk&#37;&#52;&#48;gmail&#46;com">yrashk<span>&#64;</span>gmail<span>&#46;</span>com</a>)</div>
<div class="line">[Friday 18 March 2011] [10:25:50] &lt;mile&gt;      and try to replicate the ck1mil</div>
<div class="line">[Friday 18 March 2011] [10:26:44] &lt;mile&gt;      I hope I&#8217;ll manage to do it next week</div>
<div class="line">[Friday 18 March 2011] [10:26:53] &lt;mile&gt;      then I&#8217;m gone for like 10 days :)</div>
<div class="line">[Friday 18 March 2011] [10:27:35] &lt;mile&gt;      but both nginx and yaws plugins would be very very cool stuff :)</div>
<div class="line">[Friday 18 March 2011] [10:27:59] &lt;mile&gt;      hopefully I&#8217;ll get something useful to opensource :)</div>
<div class="line">[Friday 18 March 2011] [10:28:15] &lt;mato&gt;      mile: i&#8217;ve been poring over the nginx internals, it looks doable but non-trivial</div>
<div class="line">[Friday 18 March 2011] [10:28:48] &lt;mile&gt;      mato, I was looking into proxy-modules for that, but my C is not good enough...</div>
<div class="line">[Friday 18 March 2011] [10:29:02] &lt;mile&gt;      since it in deed appears to be nontrivial :)</div>
<div class="line">[Friday 18 March 2011] [10:29:14] &lt;mato&gt;      mile: my C is more than good enough, but it&#8217;s still a non-trivial amount of work.</div>
<div class="line">[Friday 18 March 2011] [10:29:31] &lt;mile&gt;      but yaws has a very elegant way of attaching stuff</div>
<div class="line">[Friday 18 March 2011] [10:29:42] &lt;mato&gt;      yaws? /me goes off to google that</div>
<div class="line">[Friday 18 March 2011] [10:29:49] &lt;mile&gt;      erlang yaws</div>
<div class="line">[Friday 18 March 2011] [10:30:12] &lt;mile&gt;      so I&#8217;ll be looking into the performance of that combo</div>
<div class="line">[Friday 18 March 2011] [10:30:25] &lt;mato&gt;      aha, ok</div>
<div class="line">[Friday 18 March 2011] [10:30:29]      * mato has no erlang-fu</div>
<div class="line">[Friday 18 March 2011] [10:31:18] &lt;mile&gt;      my erlang is not that good</div>
<div class="line">[Friday 18 March 2011] [10:31:26] &lt;mile&gt;      but it&#8217;s straitforward as hell</div>
<div class="line">[Friday 18 March 2011] [10:31:41] &lt;mile&gt;      as long as one had something to do with functional programming</div>
<div class="line">[Friday 18 March 2011] [10:31:41] &lt;mile&gt;      :)</div>
<div class="line">[Friday 18 March 2011] [10:32:26] &lt;yrashk&gt;    it is indeed very straightforward</div>
<div class="line">[Friday 18 March 2011] [10:33:20] &lt;mile&gt;      the only problem is that you don&#8217;t get to find many erlang developers</div>
<div class="line">[Friday 18 March 2011] [10:33:31] &lt;mile&gt;      so its hard to sell it</div>
<div class="line">[Friday 18 March 2011] [10:33:42] &lt;mile&gt;      in small companies - hence the 0mq</div>
<div class="line">[Friday 18 March 2011] [10:34:02] &lt;mile&gt;      make the frontend in less then 100lines of erlang</div>
<div class="line">[Friday 18 March 2011] [10:34:26] &lt;yrashk&gt;    mile: my company is about to change it (i.e. make erlang more popular)</div>
<div class="line">[Friday 18 March 2011] [10:34:29] &lt;mile&gt;      and let others use whatever they want on the other side of 0mq</div>
<div class="line">[Friday 18 March 2011] [10:34:30] &lt;yrashk&gt;    :)</div>
<div class="line">[Friday 18 March 2011] [10:35:17] &lt;mile&gt;      thats a good thing! :)</div>
<div class="line">[Friday 18 March 2011] [10:35:45] &lt;mile&gt;      I had contact with haskell some time ago, and I&#8217;m sincerely charmed by erlang :)</div>
<div class="line">[Friday 18 March 2011] [10:35:59] &lt;yrashk&gt;    nice!</div>
<div class="line">[Friday 18 March 2011] [10:36:10] &lt;yrashk&gt;    I&#8217;ve been doing erlang on and off since 2001</div>
<div class="line">[Friday 18 March 2011] [10:37:11] &lt;mile&gt;      that&#8217;s a while :)</div>
<div class="line">[Friday 18 March 2011] [10:37:39] &lt;mile&gt;      I pinged you, hopefully next week I&#8217;ll have some data</div>
<div class="line">[Friday 18 March 2011] [10:38:03] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [10:38:05] &lt;yrashk&gt;    thanks</div>
<div class="line">[Friday 18 March 2011] [10:39:00] &lt;mile&gt;      I&#8217;m off for a weekend, thanks for the advice!</div>
<div class="line">[Friday 18 March 2011] [11:03:16] &lt;Guthur&gt;    pieterh &amp; sustrik: was that long discussion just about the naming of XREP and XREQ</div>
<div class="line">[Friday 18 March 2011] [11:04:05] &lt;sustrik&gt;   it was not about naming :)</div>
<div class="line">[Friday 18 March 2011] [11:04:40] &lt;sustrik&gt;   ultimately, it was about what should be done by 0mq itself and what should be done by the layers on top of it</div>
<div class="line">[Friday 18 March 2011] [11:05:58] &lt;Guthur&gt;    sustrik: ok, sorry I just came back and it was very long and I found it hard to figure out what was going on</div>
<div class="line">[Friday 18 March 2011] [11:06:17] &lt;sustrik&gt;   there&#8217;s a thread on the ML if you are interested</div>
<div class="line">[Friday 18 March 2011] [11:09:31] &lt;Guthur&gt;    ok, I&#8217;ll check it out</div>
<div class="line">[Friday 18 March 2011] [11:24:46] &lt;sustrik&gt;   pieterh: still here?</div>
<div class="line">[Friday 18 March 2011] [11:25:10] &lt;sustrik&gt;   the use case for the error you&#8217;ve reported have scrolled out of my irc window</div>
<div class="line">[Friday 18 March 2011] [11:25:15] &lt;sustrik&gt;   can you repost it?</div>
<div class="line">[Friday 18 March 2011] [11:29:19] &lt;sustrik&gt;   &lt;sustrik&gt; the use case for the error you&#8217;ve reported have scrolled out of my irc window</div>
<div class="line">[Friday 18 March 2011] [11:29:19] &lt;sustrik&gt;   &lt;sustrik&gt; can you repost it?</div>
<div class="line">[Friday 18 March 2011] [11:29:35] &lt;sustrik&gt;   <a href="#id620"><span class="problematic" id="id621">pieterh_</span></a>: ^^</div>
<div class="line">[Friday 18 March 2011] [11:29:55] &lt;<a href="#id622"><span class="problematic" id="id623">pieterh_</span></a>&gt;  sustrik: sorry, was offline for a while</div>
<div class="line">[Friday 18 March 2011] [11:30:01] &lt;sustrik&gt;   np</div>
<div class="line">[Friday 18 March 2011] [11:30:02] &lt;<a href="#id624"><span class="problematic" id="id625">pieterh_</span></a>&gt;  you lost the URIs?</div>
<div class="line">[Friday 18 March 2011] [11:30:06] &lt;sustrik&gt;   yep</div>
<div class="line">[Friday 18 March 2011] [11:30:10] &lt;<a href="#id626"><span class="problematic" id="id627">pieterh_</span></a>&gt;  <a class="reference external" href="https://gist.github.com/875932">https://gist.github.com/875932</a></div>
<div class="line">[Friday 18 March 2011] [11:30:14] &lt;sustrik&gt;   thanks</div>
<div class="line">[Friday 18 March 2011] [11:30:21] &lt;<a href="#id628"><span class="problematic" id="id629">pieterh_</span></a>&gt;  it looks like the first frame after a handshake gets lost</div>
<div class="line">[Friday 18 March 2011] [11:30:34]      * sustrik is having a look...</div>
<div class="line">[Friday 18 March 2011] [11:30:36] &lt;<a href="#id630"><span class="problematic" id="id631">pieterh_</span></a>&gt;  but randomly...</div>
<div class="line">[Friday 18 March 2011] [11:30:43] &lt;<a href="#id632"><span class="problematic" id="id633">pieterh_</span></a>&gt;  thanks, I appreciate it, it&#8217;s blocking me</div>
<div class="line">[Friday 18 March 2011] [11:40:31] &lt;evax&gt;      working on erlzmq2 some weird behaviour happens at times: after calling zmq_term and our own poller thread has ended, one thread enters a busy loop because SIGFE is trapped but keeps being raised</div>
<div class="line">[Friday 18 March 2011] [11:40:54] &lt;evax&gt;      <a href="#id1"><span class="problematic" id="id2">*</span></a>SIGFPE</div>
<div class="line">[Friday 18 March 2011] [11:43:01] &lt;evax&gt;      when zmq_term returns, all zmq threads have ended ?</div>
<div class="line">[Friday 18 March 2011] [11:46:59] &lt;<a href="#id634"><span class="problematic" id="id635">pieterh_</span></a>&gt;  evax: it should say so in the man page</div>
<div class="line">[Friday 18 March 2011] [11:48:48] &lt;mikko-_&gt;   pieter: all 2-1 builds succeed now</div>
<div class="line">[Friday 18 March 2011] [11:49:27] &lt;<a href="#id636"><span class="problematic" id="id637">pieterh_</span></a>&gt;  mikko: yup</div>
<div class="line">[Friday 18 March 2011] [11:49:37] &lt;evax&gt;      <a href="#id638"><span class="problematic" id="id639">pieterh_</span></a>: thanks, I was reading an outdated man page...</div>
<div class="line">[Friday 18 March 2011] [11:49:40] &lt;<a href="#id640"><span class="problematic" id="id641">pieterh_</span></a>&gt;  there are a couple of issues still to close, then 2-1 is ready to release</div>
<div class="line">[Friday 18 March 2011] [11:50:03] &lt;<a href="#id642"><span class="problematic" id="id643">pieterh_</span></a>&gt;  evax: does it say something useful in the man page?</div>
<div class="line">[Friday 18 March 2011] [11:51:40] &lt;evax&gt;      <a href="#id644"><span class="problematic" id="id645">pieterh_</span></a>: that it can fail with EINTR now</div>
<div class="line">[Friday 18 March 2011] [11:52:21] &lt;<a href="#id646"><span class="problematic" id="id647">pieterh_</span></a>&gt;  ok</div>
<div class="line">[Friday 18 March 2011] [12:26:52] &lt;evax&gt;      <a href="#id648"><span class="problematic" id="id649">pieterh_</span></a>: in the case of inproc sockets, is it possible that a zmq_recv succeeds before the associated send returns ?</div>
<div class="line">[Friday 18 March 2011] [12:28:56] &lt;evax&gt;      this is with a PUSH/PULL pair and the zmq_recv if right after a zmq_poll</div>
<div class="line">[Friday 18 March 2011] [12:30:21] &lt;sustrik&gt;   yes, it&#8217;s possible</div>
<div class="line">[Friday 18 March 2011] [12:30:55] &lt;evax&gt;      sustrik: thanks, then that&#8217;s what&#8217;s biting us</div>
<div class="line">[Friday 18 March 2011] [12:33:07] &lt;Guthur&gt;    evax: out of curiosity what are you working on for erlzmq?</div>
<div class="line">[Friday 18 March 2011] [12:33:28] &lt;Guthur&gt;    it is elrzmq, correct?</div>
<div class="line">[Friday 18 March 2011] [12:34:45] &lt;evax&gt;      we send a message to shut down the system, and sometimes before the zmq_send returns our polling thread recvs the request, closes the sockets and terminates the context, and this fires the SIGFPE busyloop in the original thread</div>
<div class="line">[Friday 18 March 2011] [12:34:57] &lt;evax&gt;      Guthur: erlzmq2, the NIF base version</div>
<div class="line">[Friday 18 March 2011] [12:35:55] &lt;Guthur&gt;    ah ok</div>
<div class="line">[Friday 18 March 2011] [12:36:09] &lt;Guthur&gt;    so you are using zmq to manage the state of your zmq binding</div>
<div class="line">[Friday 18 March 2011] [12:36:14] &lt;Guthur&gt;    many kudos there, hehe</div>
<div class="line">[Friday 18 March 2011] [12:39:11] &lt;evax&gt;      Guthur: I wanted to implementing non blocking send, but I stumbled on this busy loop issue</div>
<div class="line">[Friday 18 March 2011] [12:39:54] &lt;evax&gt;      Guthur: yeah, it felt really natural</div>
<div class="line">[Friday 18 March 2011] [12:40:23] &lt;michelp&gt;   wow you guys overflowed my backscroll :)</div>
<div class="line">[Friday 18 March 2011] [12:40:45] &lt;Guthur&gt;    it has been very busy today</div>
<div class="line">[Friday 18 March 2011] [12:41:37] &lt;Guthur&gt;    I&#8217;m still digesting the XREP vs. ROUTER stuff, the details are on the mailing list though</div>
<div class="line">[Friday 18 March 2011] [12:42:46] &lt;Guthur&gt;    sustrik: if XREP really could suddenly change, it probably should never have been exposed</div>
<div class="line">[Friday 18 March 2011] [12:43:03] &lt;Guthur&gt;    but I suppose that&#8217;s been argued already</div>
<div class="line">[Friday 18 March 2011] [12:43:21] &lt;sustrik&gt;   yup</div>
<div class="line">[Friday 18 March 2011] [12:54:46] &lt;Guthur&gt;    and those cool devices that guide demonstrates are pretty cool</div>
<div class="line">[Friday 18 March 2011] [12:54:51] &lt;Guthur&gt;    would be a shame if they broke</div>
<div class="line">[Friday 18 March 2011] [12:58:18] &lt;sustrik&gt;   i&#8217;m not proposing to break them</div>
<div class="line">[Friday 18 March 2011] [12:58:36] &lt;sustrik&gt;   it was just illustration</div>
<div class="line">[Friday 18 March 2011] [14:09:34] &lt;evax&gt;      sustrik: erlzmq2 can no more block the VM on send</div>
<div class="line">[Friday 18 March 2011] [14:09:55] &lt;sustrik&gt;   nice!</div>
<div class="line">[Friday 18 March 2011] [14:10:16] &lt;sustrik&gt;   thanks for quick fix</div>
<div class="line">[Friday 18 March 2011] [14:11:25] &lt;evax&gt;      np, let me know if there are other features missing</div>
<div class="line">[Friday 18 March 2011] [14:15:54] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [14:49:59] &lt;<a href="#id650"><span class="problematic" id="id651">pieterh_</span></a>&gt;  sustrik: sorry, was away... did you manage to reproduce the pub-sub issue?</div>
<div class="line">[Friday 18 March 2011] [15:16:21] &lt;pieterh&gt;   ok, reproduced on second box</div>
<div class="line">[Friday 18 March 2011] [16:17:05] &lt;Guthur&gt;    pieterh, do you mean to not increment the sequence in that gist?</div>
<div class="line">[Friday 18 March 2011] [18:08:59] &lt;rfw&gt;       hi there, does the pyzmq.eventloop ioloop have epoll support like tornado&#8217;s?</div>
<div class="line">[Friday 18 March 2011] [18:53:33] &lt;yrashk&gt;    so 8 years for saleyn :-(((</div>
<div class="line">[Friday 18 March 2011] [19:43:19] &lt;Guthur&gt;    yrashk, have you seen the first paragraph of the wiki page</div>
<div class="line">[Friday 18 March 2011] [19:44:07] &lt;Guthur&gt;    Goldman Sachs code, which is described as &#8220;there is a danger that somebody who knew how to use this program could use it to manipulate markets in unfair ways.&#8221;</div>
<div class="line">[Friday 18 March 2011] [19:44:23] &lt;Guthur&gt;    but it&#8217;s fine for Goldman to have it</div>
<div class="line">[Saturday 19 March 2011] [08:13:02] &lt;Guthur&gt;  pieterh, some of the code examples in ch4 have lines of code longer than the width of the code box</div>
<div class="line">[Saturday 19 March 2011] [08:13:19] &lt;Guthur&gt;  only a minor issue, but thought it worth raising.</div>
<div class="line">[Saturday 19 March 2011] [08:13:30] &lt;Guthur&gt;  I&#8217;m using chrome, if it matter</div>
<div class="line">[Saturday 19 March 2011] [09:55:56] &lt;FlaPer87&gt;        hi everyone, is it possible to have 2 threads listening to the same zmq socket? is there an example here[0] showing that? <a class="reference external" href="https://github.com/imatix/zguide">https://github.com/imatix/zguide</a></div>
<div class="line">[Saturday 19 March 2011] [09:58:09] &lt;mikko&gt;   FlaPer87: no</div>
<div class="line">[Saturday 19 March 2011] [09:58:28] &lt;FlaPer87&gt;        mikko ok, thnx :)</div>
<div class="line">[Saturday 19 March 2011] [09:58:30] &lt;mikko&gt;   FlaPer87: you can not access the same socket from multiple threads concurrently</div>
<div class="line">[Saturday 19 March 2011] [09:58:34] &lt;mikko&gt;   FlaPer87: what is the use-case?</div>
<div class="line">[Saturday 19 March 2011] [09:59:00] &lt;mikko&gt;   sec, my fish stock is boiling over</div>
<div class="line">[Saturday 19 March 2011] [10:00:27] &lt;FlaPer87&gt;        mikko I was wondering if that was possible in order to process more messages p/second. Now that I think about it that was a stupid question :P</div>
<div class="line">[Saturday 19 March 2011] [10:10:02] &lt;Guthur&gt;  FlaPer87, there is some examples in the guide showing custom routing to N worker threads</div>
<div class="line">[Saturday 19 March 2011] [10:10:30] &lt;Guthur&gt;  lruqueue, shows a device doing this</div>
<div class="line">[Saturday 19 March 2011] [10:13:47] &lt;Guthur&gt;  or the parallel pipeline pattern shown here;  <a class="reference external" href="http://zguide.zeromq.org/page:all#toc8">http://zguide.zeromq.org/page:all#toc8</a></div>
<div class="line">[Saturday 19 March 2011] [10:14:20] &lt;FlaPer87&gt;        Guthur, that&#8217;s useful, let me check</div>
<div class="line">[Saturday 19 March 2011] [10:14:26] &lt;FlaPer87&gt;        Guthur thnx</div>
<div class="line">[Saturday 19 March 2011] [12:13:16] &lt;<a href="#id652"><span class="problematic" id="id653">dermoth_</span></a>&gt;        FlaPer87, you can have two threads connect to the same endpoint... if the connection has to be incoming, you can use a device in the middle</div>
<div class="line">[Saturday 19 March 2011] [12:14:16] &lt;<a href="#id654"><span class="problematic" id="id655">dermoth_</span></a>&gt;        ime. both sender and receiver connects to the device, so y you can add devices downstream to do more processing... I assume PUSH/PULL sockets here...</div>
<div class="line">[Saturday 19 March 2011] [13:27:36] &lt;sustrik&gt; pieterh: are you here?</div>
<div class="line">[Saturday 19 March 2011] [13:27:58] &lt;sustrik&gt; it would be good to link zed shaw&#8217;s and ian barber&#8217;s talk from somewhere</div>
<div class="line">[Saturday 19 March 2011] [13:27:59] &lt;sustrik&gt; <a class="reference external" href="http://vimeo.com/20605470">http://vimeo.com/20605470</a></div>
<div class="line">[Saturday 19 March 2011] [13:28:18]    * sustrik has no idea how to embed video into wikidot</div>
<div class="line">[Saturday 19 March 2011] [13:31:00] &lt;Guthur&gt;  sustrik, It was a shame about the GSoC, did they give any suggestions on how to improve the application for the future?</div>
<div class="line">[Saturday 19 March 2011] [14:07:41] &lt;sustrik&gt; Guthur: nope</div>
<div class="line">[Saturday 19 March 2011] [14:07:57] &lt;sustrik&gt; what i resent is what i got</div>
<div class="line">[Saturday 19 March 2011] [14:08:19] &lt;Guthur&gt;  shame, btw you can embed HTML in wikidot</div>
<div class="line">[Saturday 19 March 2011] [14:08:38] &lt;Guthur&gt;  you should be able to use the embed markup there</div>
<div class="line">[Saturday 19 March 2011] [14:08:54] &lt;Guthur&gt;  for Ian and Zed&#8217;s videos</div>
<div class="line">[Saturday 19 March 2011] [14:13:52] &lt;sustrik&gt; no idea how to do that</div>
<div class="line">[Saturday 19 March 2011] [14:13:58] &lt;sustrik&gt; would you like to give it a try?</div>
<div class="line">[Saturday 19 March 2011] [14:14:23] &lt;sustrik&gt; say here:</div>
<div class="line">[Saturday 19 March 2011] [14:14:24] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/intro:read-the-manual">http://www.zeromq.org/intro:read-the-manual</a></div>
<div class="line">[Saturday 19 March 2011] [14:49:02] &lt;Guthur&gt;  sustrik, sure</div>
<div class="line">[Saturday 19 March 2011] [14:50:16] &lt;Guthur&gt;  sustrik, there is already videos on that page, should just take a small amount of &#8216;reverse engineering&#8217;, hehe</div>
<div class="line">[Saturday 19 March 2011] [15:08:38] &lt;Guthur&gt;  sustrik, ok done</div>
<div class="line">[Saturday 19 March 2011] [15:09:09] &lt;Guthur&gt;  I tried to maintain the aspect ratio so they are a little taller than the other videos</div>
<div class="line">[Saturday 19 March 2011] [15:11:48] &lt;guido_g&gt; i&#8217;ll never understand why a link is not enough... must be this web 2.0 thing...</div>
<div class="line">[Saturday 19 March 2011] [15:13:08] &lt;Guthur&gt;  certainly takes up less room</div>
<div class="line">[Saturday 19 March 2011] [15:13:41] &lt;guido_g&gt; and i&#8217;m free to decide if want to see it or not</div>
<div class="line">[Saturday 19 March 2011] [15:23:32] &lt;Guthur&gt;  that would never do</div>
<div class="line">[Saturday 19 March 2011] [15:24:08] &lt;Guthur&gt;  think, i&#8217;ve people went round choosing what they did and did not watch, the marketing guys would be out of a job</div>
<div class="line">[Saturday 19 March 2011] [15:24:16] &lt;Guthur&gt;  i&#8217;ve/if</div>
<div class="line">[Saturday 19 March 2011] [15:25:46] &lt;guido_g&gt; k</div>
<div class="line">[Saturday 19 March 2011] [15:25:57] &lt;guido_g&gt; and where is the bad part?</div>
<div class="line">[Saturday 19 March 2011] [23:30:22] &lt;jsimmons&gt;        is there any way to mitigate the performance loss of (i&#8217;m presuming to blame zeromq here) adding more endpoints to a zmq socket?</div>
<div class="line">[Saturday 19 March 2011] [23:31:06] &lt;jsimmons&gt;        I presume it&#8217;s the push/pull pair rather than the pub/sub pair</div>
<div class="line">[Saturday 19 March 2011] [23:35:23] &lt;jsimmons&gt;        that&#8217;s actually a bad way to put it, rephrasing. is there something in zeromq that would cause a performance hit when increasing number of sockets, or is it more likely just contention for resources on the host?</div>
<div class="line">[Sunday 20 March 2011] [00:37:57] &lt;<a href="#id656"><span class="problematic" id="id657">bth_</span></a>&gt;      hi</div>
<div class="line">[Sunday 20 March 2011] [00:37:59] &lt;<a href="#id658"><span class="problematic" id="id659">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:28] &lt;<a href="#id660"><span class="problematic" id="id661">bth_</span></a>&gt;      im a hacker :P</div>
<div class="line">[Sunday 20 March 2011] [00:38:29] &lt;<a href="#id662"><span class="problematic" id="id663">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:29] &lt;<a href="#id664"><span class="problematic" id="id665">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:30] &lt;<a href="#id666"><span class="problematic" id="id667">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [05:01:33] &lt;pieterh&gt;   sustrik: ping</div>
<div class="line">[Sunday 20 March 2011] [05:04:21] &lt;pieterh&gt;   I&#8217;d like to clarify in zmq_socket(3) that PAIR is intended only for inproc sockets</div>
<div class="line">[Sunday 20 March 2011] [05:11:42] &lt;sustrik&gt;   pieterh: morning</div>
<div class="line">[Sunday 20 March 2011] [05:11:47] &lt;pieterh&gt;   hi :-)</div>
<div class="line">[Sunday 20 March 2011] [05:11:47] &lt;sustrik&gt;   sure, do so</div>
<div class="line">[Sunday 20 March 2011] [05:11:54] &lt;pieterh&gt;   I&#8217;ll send you a patch to the man page</div>
<div class="line">[Sunday 20 March 2011] [05:11:58] &lt;sustrik&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [05:12:24] &lt;pieterh&gt;   I think this lets us close the issues on PAIR as &#8220;out of scope&#8221;</div>
<div class="line">[Sunday 20 March 2011] [05:12:41] &lt;sustrik&gt;   let me see</div>
<div class="line">[Sunday 20 March 2011] [05:15:10] &lt;sustrik&gt;   i don&#8217;t think restricting it to inproc solves the issues</div>
<div class="line">[Sunday 20 March 2011] [05:15:25] &lt;sustrik&gt;   4,19 and 26 can happen with inproc</div>
<div class="line">[Sunday 20 March 2011] [05:15:46] &lt;sustrik&gt;   as for 3, it cannot be demostrated because inproc itself lacks reconnect</div>
<div class="line">[Sunday 20 March 2011] [05:15:52] &lt;pieterh&gt;   let me check again</div>
<div class="line">[Sunday 20 March 2011] [05:17:51] &lt;pieterh&gt;   ok, 4 and 26 are proper bugs</div>
<div class="line">[Sunday 20 March 2011] [05:18:03] &lt;pieterh&gt;   19 seems fine, it asserts if you misuse it, which is fair</div>
<div class="line">[Sunday 20 March 2011] [05:18:12] &lt;pieterh&gt;   3 is out of scope, over inproc</div>
<div class="line">[Sunday 20 March 2011] [05:18:40] &lt;sustrik&gt;   it will resurface once auto-reconnect over inproc is implemented (issue 6)</div>
<div class="line">[Sunday 20 March 2011] [05:19:03] &lt;pieterh&gt;   yes, but we have a good pattern for using inproc without reconnect</div>
<div class="line">[Sunday 20 March 2011] [05:19:15] &lt;sustrik&gt;   ack</div>
<div class="line">[Sunday 20 March 2011] [05:19:19] &lt;pieterh&gt;   as long as there are guidelines that keep people away from trouble, it&#8217;s fine for me</div>
<div class="line">[Sunday 20 March 2011] [05:19:32] &lt;sustrik&gt;   yep, but leave the issues open</div>
<div class="line">[Sunday 20 March 2011] [05:19:38] &lt;pieterh&gt;   indeed</div>
<div class="line">[Sunday 20 March 2011] [05:19:39] &lt;sustrik&gt;   they have to be fixed anyway</div>
<div class="line">[Sunday 20 March 2011] [05:19:46] &lt;pieterh&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [05:19:56] &lt;pieterh&gt;   did you get a chance to look at that pubsub issue?</div>
<div class="line">[Sunday 20 March 2011] [05:20:37] &lt;pieterh&gt;   it seems to kind of completely break multipart pubsub</div>
<div class="line">[Sunday 20 March 2011] [05:20:37] &lt;sustrik&gt;   yes, i&#8217;ve tried several fixes already</div>
<div class="line">[Sunday 20 March 2011] [05:20:44] &lt;sustrik&gt;   i&#8217;ll have it ready today</div>
<div class="line">[Sunday 20 March 2011] [05:20:53] &lt;pieterh&gt;   lovely... !</div>
<div class="line">[Sunday 20 March 2011] [06:42:20] &lt;sustrik&gt;   pieterh: here&#8217;s the patch:</div>
<div class="line">[Sunday 20 March 2011] [06:42:21] &lt;sustrik&gt;   <a class="reference external" href="https://gist.github.com/878260">https://gist.github.com/878260</a></div>
<div class="line">[Sunday 20 March 2011] [06:42:29] &lt;sustrik&gt;   can you check whether it works ok?</div>
<div class="line">[Sunday 20 March 2011] [06:42:39] &lt;pieterh&gt;   a&#8217;ight! testing now...</div>
<div class="line">[Sunday 20 March 2011] [06:49:10] &lt;pieterh&gt;   sustrik: confirmed working</div>
<div class="line">[Sunday 20 March 2011] [06:49:15] &lt;sustrik&gt;   thanks</div>
<div class="line">[Sunday 20 March 2011] [06:49:58] &lt;pieterh&gt;   will you send me the commit when it&#8217;s done?</div>
<div class="line">[Sunday 20 March 2011] [06:51:21] &lt;sustrik&gt;   working on it</div>
<div class="line">[Sunday 20 March 2011] [06:52:34] &lt;pieterh&gt;   I think we&#8217;re ready for a 2.1 stable</div>
<div class="line">[Sunday 20 March 2011] [06:53:35] &lt;sustrik&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: 03Martin Sustrik 07master * r92c7c18 10/ (src/dist.cpp src/dist.hpp): (log message trimmed)</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: Message atomicity problem solved in PUB socket</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: When new peer connects to a PUB socket while it is in the middle</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: of sending of multi-part messages, it gets just the remaining</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: part of the message, i.e. message atomicity is broken.</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: This patch drops the tail part of the message and starts sending</div>
<div class="line">[Sunday 20 March 2011] [06:53:55] &lt;CIA-22&gt;    zeromq2: to the peer only when new message is started.</div>
<div class="line">[Sunday 20 March 2011] [06:54:02] &lt;sustrik&gt;   here you go</div>
<div class="line">[Sunday 20 March 2011] [09:42:34] &lt;Guthur&gt;    I&#8217;m looking to build a device that will accept client requests and send data to specific clients, the two options I see is too either do some custom routing with XREQ/XREP, or to have the client PUSH requests and bind on a PULL socket to receive data.</div>
<div class="line">[Sunday 20 March 2011] [09:43:28] &lt;Guthur&gt;    option 2 seems the cleanest in my mind, but it would surely involve maintaining a lot of open sockets to service all connected clients</div>
<div class="line">[Sunday 20 March 2011] [09:44:15] &lt;Guthur&gt;    Is there an option 3 anyone can think of</div>
<div class="line">[Sunday 20 March 2011] [09:47:42] &lt;nmmm&gt;      hi quick question i seems not finding the answer</div>
<div class="line">[Sunday 20 March 2011] [09:48:11] &lt;nmmm&gt;      is there a way to make timeout on recv()</div>
<div class="line">[Sunday 20 March 2011] [09:48:35] &lt;nmmm&gt;      supose i connect() socket 3-4 times</div>
<div class="line">[Sunday 20 March 2011] [09:48:51] &lt;nmmm&gt;      and suppose then one of the servers die</div>
<div class="line">[Sunday 20 March 2011] [09:49:08] &lt;Guthur&gt;    nmmm, you can poll with a timeout</div>
<div class="line">[Sunday 20 March 2011] [09:49:11] &lt;nmmm&gt;      then recv() will wait forever</div>
<div class="line">[Sunday 20 March 2011] [09:49:35] &lt;Guthur&gt;    or you could do a noblock recv in a loop and timeout yourself</div>
<div class="line">[Sunday 20 March 2011] [09:49:37] &lt;nmmm&gt;      i see, but is pool only option?</div>
<div class="line">[Sunday 20 March 2011] [09:50:03] &lt;nmmm&gt;      loop - yes I can too.</div>
<div class="line">[Sunday 20 March 2011] [09:50:17] &lt;nmmm&gt;      but there is no internal timeout ?</div>
<div class="line">[Sunday 20 March 2011] [09:50:27] &lt;Guthur&gt;    not on recv no</div>
<div class="line">[Sunday 20 March 2011] [09:50:57] &lt;nmmm&gt;      question 2 (but i did not study it that much, so could be obvious)</div>
<div class="line">[Sunday 20 March 2011] [09:51:13] &lt;nmmm&gt;      in poll, i can get responce from several nodes,</div>
<div class="line">[Sunday 20 March 2011] [09:51:36] &lt;nmmm&gt;      is it my responsibility if I need my request to be executed only from one node ?</div>
<div class="line">[Sunday 20 March 2011] [09:52:35] &lt;Guthur&gt;    nmm you can either just pass in one pollitem or you can choose to ignore the rest if you recv something on one socket</div>
<div class="line">[Sunday 20 March 2011] [09:52:48] &lt;Guthur&gt;    with an if else</div>
<div class="line">[Sunday 20 March 2011] [09:52:54] &lt;Guthur&gt;    2 secs I&#8217;ll show an example</div>
<div class="line">[Sunday 20 March 2011] [09:53:02] &lt;nmmm&gt;      ok</div>
<div class="line">[Sunday 20 March 2011] [09:53:40] &lt;nmmm&gt;      ignore - i can not do. let say the operation is very &#8220;intencive&#8221; or cost money.</div>
<div class="line">[Sunday 20 March 2011] [09:53:47] &lt;nmmm&gt;      or send email</div>
<div class="line">[Sunday 20 March 2011] [09:54:46] &lt;Guthur&gt;    sorry I may have miss-understood</div>
<div class="line">[Sunday 20 March 2011] [09:55:03] &lt;Guthur&gt;    did you mean you may want to ignore one of the connected nodes</div>
<div class="line">[Sunday 20 March 2011] [09:55:22] &lt;nmmm&gt;      let say we have system that sends emails</div>
<div class="line">[Sunday 20 March 2011] [09:55:30] &lt;nmmm&gt;      and i have thousend to be send</div>
<div class="line">[Sunday 20 March 2011] [09:56:00] &lt;nmmm&gt;      i can pass them to workes, but I want nobody to receive email twice</div>
<div class="line">[Sunday 20 March 2011] [09:56:32] &lt;Guthur&gt;    oh right, you need a device in the middle that will load balance between all the workers</div>
<div class="line">[Sunday 20 March 2011] [09:56:41] &lt;nmmm&gt;      this is good example on what i need to do. (actually will send SMS)</div>
<div class="line">[Sunday 20 March 2011] [09:56:44] &lt;Guthur&gt;    this is covered very early in the guide</div>
<div class="line">[Sunday 20 March 2011] [09:56:53] &lt;Guthur&gt;    have you seen it</div>
<div class="line">[Sunday 20 March 2011] [09:57:09] &lt;nmmm&gt;      yes I will check the devices, thanks</div>
<div class="line">[Sunday 20 March 2011] [09:57:19] &lt;nmmm&gt;      btw, great job</div>
<div class="line">[Sunday 20 March 2011] [09:58:01] &lt;Guthur&gt;    the praise needs to go to others not me, hehe</div>
<div class="line">[Sunday 20 March 2011] [09:58:16] &lt;Guthur&gt;    I only maintain the clrzmq2 binding (C#)</div>
<div class="line">[Sunday 20 March 2011] [09:58:44] &lt;nmmm&gt;      i have some project , works OK on 2 GB server, but Im thinking about scalling</div>
<div class="line">[Sunday 20 March 2011] [09:59:11] &lt;Guthur&gt;    a device like this may do <a class="reference external" href="http://zguide.zeromq.org/page:all#toc37">http://zguide.zeromq.org/page:all#toc37</a></div>
<div class="line">[Sunday 20 March 2011] [09:59:28] &lt;Guthur&gt;    scroll to the bottom of that section to see a nice diagram</div>
<div class="line">[Sunday 20 March 2011] [10:00:41] &lt;Guthur&gt;    the guide is full of nice 0MQ recipes</div>
<div class="line">[Sunday 20 March 2011] [10:00:51] &lt;nmmm&gt;      thanks a lot</div>
<div class="line">[Sunday 20 March 2011] [10:01:09] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Sunday 20 March 2011] [10:01:16] &lt;Guthur&gt;    happy coding</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: 03Martin Sustrik 07master * r1619b3d 10/ (src/lb.cpp src/lb.hpp):</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: Message atomicity bug in load-balancer fixed</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: If the peer getting the message have disconnected in the middle</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: of multiplart message, the remaining part of the message went</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: to a different peer. This patch fixes the issue.</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eAhwVE">http://bit.ly/eAhwVE</a></div>
<div class="line">[Monday 21 March 2011] [05:54:40] &lt;pieterh&gt;   sustrik: ping</div>
<div class="line">[Monday 21 March 2011] [06:01:31] &lt;pieterh&gt;   ok, new packages of 0MQ 2.0 and 2.1 are fresh and hot!</div>
<div class="line">[Monday 21 March 2011] [06:05:29] &lt;Guthur&gt;    pieterh: should all socket types be able to connect and bind in any order?</div>
<div class="line">[Monday 21 March 2011] [06:05:46] &lt;pieterh&gt;   Guthur: in an ideal world, yes, but there are gaps</div>
<div class="line">[Monday 21 March 2011] [06:05:52] &lt;pieterh&gt;   e.g. PAIR sockets can&#8217;t</div>
<div class="line">[Monday 21 March 2011] [06:06:01] &lt;Guthur&gt;    what about PUSH/PULL</div>
<div class="line">[Monday 21 March 2011] [06:06:08] &lt;pieterh&gt;   anything over inproc can&#8217;t either</div>
<div class="line">[Monday 21 March 2011] [06:06:14] &lt;Guthur&gt;    ah it was the inproc</div>
<div class="line">[Monday 21 March 2011] [06:06:19] &lt;pieterh&gt;   yep</div>
<div class="line">[Monday 21 March 2011] [06:06:35] &lt;pieterh&gt;   with inproc the pattern is &#8216;bind, start child thread, which connects&#8217;</div>
<div class="line">[Monday 21 March 2011] [06:06:47] &lt;Guthur&gt;    I suppose inproc ain&#8217;t so bad, relatively easy to control the order</div>
<div class="line">[Monday 21 March 2011] [06:07:03] &lt;pieterh&gt;   since it&#8217;s structurally different from other transports, I use it only when I&#8217;m doing literal multithreading</div>
<div class="line">[Monday 21 March 2011] [06:07:17] &lt;pieterh&gt;   as compared to multitasking with threads... which I use tcp or ipc for</div>
<div class="line">[Monday 21 March 2011] [06:07:44] &lt;pieterh&gt;   btw I fixed the guide examples to fit 73 columns, thanks for that hint</div>
<div class="line">[Monday 21 March 2011] [06:07:58] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Monday 21 March 2011] [06:08:30] &lt;Guthur&gt;    it wasn&#8217;t too bad, but you had set the bar high so these wee things are noticeable, hehe</div>
<div class="line">[Monday 21 March 2011] [06:09:22] &lt;Guthur&gt;    Ian Barber&#8217;s PHP conf video is really good</div>
<div class="line">[Monday 21 March 2011] [06:10:02] &lt;pieterh&gt;   the bar is never too high :-)</div>
<div class="line">[Monday 21 March 2011] [06:10:23] &lt;pieterh&gt;   Ian Barber is a phenomenon, it was great to meet him in London last week</div>
<div class="line">[Monday 21 March 2011] [06:11:01] &lt;pieterh&gt;   but then, this community seems to attract bru</div>
<div class="line">[Monday 21 March 2011] [06:11:06] &lt;pieterh&gt;   <a href="#id3"><span class="problematic" id="id4">*</span></a>brilliant people</div>
<div class="line">[Monday 21 March 2011] [06:11:29] &lt;Guthur&gt;    The mention of stable/unstable components was very enlighting</div>
<div class="line">[Monday 21 March 2011] [06:11:54] &lt;Guthur&gt;    static/dynamic is the other way of describing it</div>
<div class="line">[Monday 21 March 2011] [06:13:19] &lt;Guthur&gt;    His highlevel description of a imaging process system was a inspirational as well, fanning out and in where appropriate</div>
<div class="line">[Monday 21 March 2011] [06:13:39] &lt;Guthur&gt;    I&#8217;m looking a similar architecture for a 0MQ FIX engine</div>
<div class="line">[Monday 21 March 2011] [06:13:42] &lt;Guthur&gt;    a/at</div>
<div class="line">[Monday 21 March 2011] [06:14:19] &lt;pieterh&gt;   yup, understanding the stable/unstable aspects of an architecture is key to making it right</div>
<div class="line">[Monday 21 March 2011] [06:21:56] &lt;Guthur&gt;    I find myself now looking at my arch and asking the question is this a stable/unstable component</div>
<div class="line">[Monday 21 March 2011] [06:59:44] &lt;sustrik&gt;   pieterh: pong</div>
<div class="line">[Monday 21 March 2011] [07:00:22] &lt;pieterh&gt;   sustrik: I was just wondering if it was OK to mention the plans for 3.0 to zeromq-dev</div>
<div class="line">[Monday 21 March 2011] [07:00:36] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:00:40] &lt;sustrik&gt;   i&#8217;m going to do that now</div>
<div class="line">[Monday 21 March 2011] [07:00:50]      * sustrik was waiting for stable 2</div>
<div class="line">[Monday 21 March 2011] [07:00:57] &lt;pieterh&gt;   goodo</div>
<div class="line">[Monday 21 March 2011] [07:01:19] &lt;pieterh&gt;   I think it&#8217;s important to say that we will maintain 2.1 for a long time</div>
<div class="line">[Monday 21 March 2011] [07:01:44] &lt;pieterh&gt;   change is fun but also scary to anyone wanting to use 0MQ in production</div>
<div class="line">[Monday 21 March 2011] [07:02:02] &lt;sustrik&gt;   yep, several years presumably</div>
<div class="line">[Monday 21 March 2011] [07:02:17] &lt;pieterh&gt;   well, I was thinking of 6-12 months, more like :-)</div>
<div class="line">[Monday 21 March 2011] [07:02:34] &lt;sustrik&gt;   although the impact of new API won&#8217;t be that bad as it will affect only C apps</div>
<div class="line">[Monday 21 March 2011] [07:02:39] &lt;pieterh&gt;   I assume we will have a 3.0 stable fairly rapidly</div>
<div class="line">[Monday 21 March 2011] [07:02:45] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [07:03:09] &lt;Guthur&gt;    sustrik:why will the API change only effect C apps?</div>
<div class="line">[Monday 21 March 2011] [07:03:09] &lt;pieterh&gt;   if we do the API changes separately from semantic changes like xpub/xsub, it&#8217;s less painful</div>
<div class="line">[Monday 21 March 2011] [07:03:20] &lt;pieterh&gt;   Guthur: also affect all bindings, of course</div>
<div class="line">[Monday 21 March 2011] [07:03:30] &lt;sustrik&gt;   Guthur: have a look at 3.0 roadmap</div>
<div class="line">[Monday 21 March 2011] [07:03:42] &lt;sustrik&gt;   you&#8217;ll see that most changes don&#8217;t affect the bindings API</div>
<div class="line">[Monday 21 March 2011] [07:03:56] &lt;sustrik&gt;   although it obviously affect binding implemetations</div>
<div class="line">[Monday 21 March 2011] [07:04:05] &lt;Guthur&gt;    oh the roadmap page has been updated</div>
<div class="line">[Monday 21 March 2011] [07:04:14] &lt;Guthur&gt;    I had not noticed that</div>
<div class="line">[Monday 21 March 2011] [07:04:25] &lt;sustrik&gt;   yes, i&#8217;ve listed all the backward imcompatible changes there</div>
<div class="line">[Monday 21 March 2011] [07:04:26] &lt;pieterh&gt;   sustrik: I&#8217;m going to already switch to the new ROUTER/DEALER terminology in the guide</div>
<div class="line">[Monday 21 March 2011] [07:04:28] &lt;sustrik&gt;   feel free to comment</div>
<div class="line">[Monday 21 March 2011] [07:04:37] &lt;pieterh&gt;   this pushes that change up</div>
<div class="line">[Monday 21 March 2011] [07:04:56] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:05:02] &lt;sustrik&gt;   pieterh: yes, 2 steps</div>
<div class="line">[Monday 21 March 2011] [07:05:20] &lt;sustrik&gt;   1, change the API &#8211;&gt; do as quickly as possible</div>
<div class="line">[Monday 21 March 2011] [07:05:22] &lt;pieterh&gt;   sustrik: I&#8217;d like to get a stable 3.0 with new API and no real functionality changes, so we can kill 2.0</div>
<div class="line">[Monday 21 March 2011] [07:05:23] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:05:26] &lt;sustrik&gt;   2. add new functionality</div>
<div class="line">[Monday 21 March 2011] [07:05:33] &lt;pieterh&gt;   yes, +1</div>
<div class="line">[Monday 21 March 2011] [07:06:53] &lt;pieterh&gt;   I think the new release process is working nicely, it&#8217;s certainly easy</div>
<div class="line">[Monday 21 March 2011] [07:07:30] &lt;sustrik&gt;   well, nobody have really tested the recent changes</div>
<div class="line">[Monday 21 March 2011] [07:07:38] &lt;sustrik&gt;   let&#8217;s hope it works as expected</div>
<div class="line">[Monday 21 March 2011] [07:08:06] &lt;Guthur&gt;    what needs to be done to zmq_send/recv to make them coherent with POSIX?</div>
<div class="line">[Monday 21 March 2011] [07:08:25] &lt;sustrik&gt;   zmq_send (void <a href="#id5"><span class="problematic" id="id6">*</span></a>data, size_t size, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:08:32] &lt;sustrik&gt;   same for zmq_recv</div>
<div class="line">[Monday 21 March 2011] [07:08:44] &lt;sustrik&gt;   no zmq_msg_t</div>
<div class="line">[Monday 21 March 2011] [07:08:46] &lt;pieterh&gt;   sustrik: I&#8217;ve been testing pretty heavily, via Guide examples</div>
<div class="line">[Monday 21 March 2011] [07:08:53] &lt;sustrik&gt;   ah, ok then</div>
<div class="line">[Monday 21 March 2011] [07:09:02] &lt;Guthur&gt;    and then they would wrap it as a zmq_msg internally?</div>
<div class="line">[Monday 21 March 2011] [07:09:07] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:09:22] &lt;Guthur&gt;    umm, that&#8217;s pretty nice</div>
<div class="line">[Monday 21 March 2011] [07:09:24] &lt;sustrik&gt;   the original signature will still be available as zmq_sendmsg and zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:09:24] &lt;pieterh&gt;   sustrik: one thing I noticed is missing is zero-copy on recv</div>
<div class="line">[Monday 21 March 2011] [07:09:34] &lt;sustrik&gt;   yes?</div>
<div class="line">[Monday 21 March 2011] [07:09:44] &lt;Guthur&gt;    that could actually simplify bindings</div>
<div class="line">[Monday 21 March 2011] [07:09:46] &lt;pieterh&gt;   I assume this is what we can do with 3.0</div>
<div class="line">[Monday 21 March 2011] [07:10:08] &lt;pieterh&gt;   size = zmq_recv (socket, void <a href="#id7"><span class="problematic" id="id8">**</span></a>data)</div>
<div class="line">[Monday 21 March 2011] [07:10:27] &lt;Guthur&gt;    <a href="#id9"><span class="problematic" id="id10">*</span></a>authoring bindings</div>
<div class="line">[Monday 21 March 2011] [07:10:27] &lt;pieterh&gt;   where I get a malloc&#8217;d blob I can then pass around</div>
<div class="line">[Monday 21 March 2011] [07:10:48] &lt;sustrik&gt;   can&#8217;t be done</div>
<div class="line">[Monday 21 March 2011] [07:11:03] &lt;sustrik&gt;   because you don&#8217;t know what allocation mechanism was used to allocate the buffer</div>
<div class="line">[Monday 21 March 2011] [07:11:14] &lt;sustrik&gt;   thus, you don&#8217;t know whether to free it or what</div>
<div class="line">[Monday 21 March 2011] [07:11:21] &lt;pieterh&gt;   ah, I mean recv() would always allocate on the heap</div>
<div class="line">[Monday 21 March 2011] [07:11:31] &lt;sustrik&gt;   copying the data?</div>
<div class="line">[Monday 21 March 2011] [07:11:50] &lt;pieterh&gt;   no copying, allocate a block, read into that block, and provide the caller with the block address</div>
<div class="line">[Monday 21 March 2011] [07:11:58] &lt;pieterh&gt;   the caller then uses the block with no copying</div>
<div class="line">[Monday 21 March 2011] [07:12:05] &lt;pieterh&gt;   today, you have to always copy the data received</div>
<div class="line">[Monday 21 March 2011] [07:12:06] &lt;sustrik&gt;   the socket is not in control of the allocation process</div>
<div class="line">[Monday 21 March 2011] [07:12:18] &lt;sustrik&gt;   it can be say another socket allocating buffer</div>
<div class="line">[Monday 21 March 2011] [07:12:25] &lt;sustrik&gt;   and sending it via inproc</div>
<div class="line">[Monday 21 March 2011] [07:12:34] &lt;pieterh&gt;   inproc is special...</div>
<div class="line">[Monday 21 March 2011] [07:12:41] &lt;sustrik&gt;   it is</div>
<div class="line">[Monday 21 March 2011] [07:12:49] &lt;pieterh&gt;   forgetting inproc for a second...</div>
<div class="line">[Monday 21 March 2011] [07:13:07] &lt;sustrik&gt;   you still have the VSM problem</div>
<div class="line">[Monday 21 March 2011] [07:13:16] &lt;sustrik&gt;   very small messages are allocated on the stack</div>
<div class="line">[Monday 21 March 2011] [07:13:24] &lt;sustrik&gt;   to speed the processing</div>
<div class="line">[Monday 21 March 2011] [07:13:25] &lt;pieterh&gt;   in C?</div>
<div class="line">[Monday 21 March 2011] [07:13:32] &lt;sustrik&gt;   inside libzmq</div>
<div class="line">[Monday 21 March 2011] [07:13:42] &lt;pieterh&gt;   how do you return a zmq_msg_t referring to a VSM on the stack?</div>
<div class="line">[Monday 21 March 2011] [07:13:53] &lt;sustrik&gt;   it&#8217;s embedded</div>
<div class="line">[Monday 21 March 2011] [07:14:04] &lt;sustrik&gt;   see the definition in zmq.h</div>
<div class="line">[Monday 21 March 2011] [07:14:28] &lt;pieterh&gt;   ok, sure</div>
<div class="line">[Monday 21 March 2011] [07:14:30] &lt;sustrik&gt;   in short, there are different alloc/dealloc mechanisms</div>
<div class="line">[Monday 21 March 2011] [07:14:43] &lt;sustrik&gt;   zmq_msg_t cleanly wraps the buffer and the deallocation function</div>
<div class="line">[Monday 21 March 2011] [07:14:44] &lt;pieterh&gt;   ok, at the risk of being glib, forget VSMs for a second too, they&#8217;re special</div>
<div class="line">[Monday 21 March 2011] [07:14:51] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:15:00] &lt;pieterh&gt;   the bulk case is large messages, where copying is a cost</div>
<div class="line">[Monday 21 March 2011] [07:15:01] &lt;Guthur&gt;    so inproc is special and VSM is special</div>
<div class="line">[Monday 21 March 2011] [07:15:09] &lt;pieterh&gt;   yes, this is accurate, they&#8217;re both optimizations</div>
<div class="line">[Monday 21 March 2011] [07:15:20] &lt;pieterh&gt;   which means they can depend on a more complex API, that&#8217;s fine</div>
<div class="line">[Monday 21 March 2011] [07:16:16] &lt;pieterh&gt;   sustrik: the semantic which I used in the zmsg class, and which works really neatly</div>
<div class="line">[Monday 21 March 2011] [07:16:21] &lt;sustrik&gt;   if you don&#8217;t care about allocation and copying cost in inproc and small message scenarios</div>
<div class="line">[Monday 21 March 2011] [07:16:24] &lt;Guthur&gt;    at the moment though this specialness is too apparent the user, the inproc issue earlier withstanding</div>
<div class="line">[Monday 21 March 2011] [07:16:33] &lt;pieterh&gt;   is that recv() returns a freshly allocated block, and send() always frees a block when it&#8217;s done</div>
<div class="line">[Monday 21 March 2011] [07:16:38] &lt;Guthur&gt;    iis/isn&#8217;t</div>
<div class="line">[Monday 21 March 2011] [07:16:55] &lt;sustrik&gt;   you can wrap zmq_sendmsg to do the transformation of zmq_msg_t into alloc&#8217;d buffer</div>
<div class="line">[Monday 21 March 2011] [07:17:36] &lt;pieterh&gt;   sustrik: I do care, but we can (will) make multiple levels of API</div>
<div class="line">[Monday 21 March 2011] [07:17:55] &lt;sustrik&gt;   and what&#8217;s the point of the proposal?</div>
<div class="line">[Monday 21 March 2011] [07:18:00]      * sustrik doesn&#8217;t get it</div>
<div class="line">[Monday 21 March 2011] [07:18:06] &lt;pieterh&gt;   hmm, well,.. :-)</div>
<div class="line">[Monday 21 March 2011] [07:18:12] &lt;pieterh&gt;   zero-copy on read</div>
<div class="line">[Monday 21 March 2011] [07:18:19] &lt;pieterh&gt;   in the simplest possible fashion</div>
<div class="line">[Monday 21 March 2011] [07:18:37] &lt;pieterh&gt;   ok, forget it, POSIX socket API doesn&#8217;t offer this</div>
<div class="line">[Monday 21 March 2011] [07:18:43] &lt;sustrik&gt;   while at the same time sacrificing zero copy in some scenarios</div>
<div class="line">[Monday 21 March 2011] [07:18:50] &lt;sustrik&gt;   zero-copy is a beast</div>
<div class="line">[Monday 21 March 2011] [07:18:54] &lt;pieterh&gt;   as long as you can recv() directly into a user-allocated buffer, you get zero copy</div>
<div class="line">[Monday 21 March 2011] [07:18:55] &lt;sustrik&gt;   no support in POSIX</div>
<div class="line">[Monday 21 March 2011] [07:19:23] &lt;pieterh&gt;   I just want to be able to store message contents without copying them</div>
<div class="line">[Monday 21 March 2011] [07:19:28] &lt;sustrik&gt;   yes, but that makes the messaging lock-step</div>
<div class="line">[Monday 21 March 2011] [07:19:37] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [07:19:44] &lt;pieterh&gt;   only the recv knows how much memory to allocate</div>
<div class="line">[Monday 21 March 2011] [07:19:54] &lt;sustrik&gt;   exactly</div>
<div class="line">[Monday 21 March 2011] [07:20:05] &lt;sustrik&gt;   so think of zmq_msg_t as a buffer</div>
<div class="line">[Monday 21 March 2011] [07:20:06] &lt;pieterh&gt;   or else, as has been discussed, a user-pluggable allocator</div>
<div class="line">[Monday 21 March 2011] [07:20:10] &lt;pieterh&gt;   which is horrid IMO</div>
<div class="line">[Monday 21 March 2011] [07:20:38] &lt;sustrik&gt;   yuck</div>
<div class="line">[Monday 21 March 2011] [07:20:53] &lt;sustrik&gt;   you can use tcmalloc and similar though</div>
<div class="line">[Monday 21 March 2011] [07:21:00] &lt;sustrik&gt;   as they expose alloc/free API</div>
<div class="line">[Monday 21 March 2011] [07:21:07] &lt;pieterh&gt;   they look like malloc/free</div>
<div class="line">[Monday 21 March 2011] [07:21:16] &lt;sustrik&gt;   you just link the library</div>
<div class="line">[Monday 21 March 2011] [07:21:19] &lt;pieterh&gt;   yup</div>
<div class="line">[Monday 21 March 2011] [07:21:22] &lt;sustrik&gt;   and all allocations are redirected</div>
<div class="line">[Monday 21 March 2011] [07:21:33] &lt;pieterh&gt;   anyhow, think about it, if there&#8217;s a way to return a fresh buffer on recv</div>
<div class="line">[Monday 21 March 2011] [07:21:39] &lt;pieterh&gt;   it would be elegant IMO</div>
<div class="line">[Monday 21 March 2011] [07:21:45] &lt;sustrik&gt;   well, zmq_msg_t is a buffer</div>
<div class="line">[Monday 21 March 2011] [07:21:51] &lt;sustrik&gt;   it looks something like this:</div>
<div class="line">[Monday 21 March 2011] [07:21:52] &lt;pieterh&gt;   yeah, but it&#8217;s not a buffer</div>
<div class="line">[Monday 21 March 2011] [07:22:00] &lt;sustrik&gt;   struct zmq_msg_t</div>
<div class="line">[Monday 21 March 2011] [07:22:01] &lt;sustrik&gt;   {</div>
<div class="line">[Monday 21 March 2011] [07:22:03] &lt;sustrik&gt;      void <a href="#id11"><span class="problematic" id="id12">*</span></a>data</div>
<div class="line">[Monday 21 March 2011] [07:22:05] &lt;pieterh&gt;   it&#8217;s a structure that contains a buffer</div>
<div class="line">[Monday 21 March 2011] [07:22:06] &lt;sustrik&gt;      size_t size;</div>
<div class="line">[Monday 21 March 2011] [07:22:15] &lt;sustrik&gt;      free_fn_t free_fn;</div>
<div class="line">[Monday 21 March 2011] [07:22:16] &lt;sustrik&gt;   }</div>
<div class="line">[Monday 21 March 2011] [07:22:16] &lt;sustrik&gt;   ;</div>
<div class="line">[Monday 21 March 2011] [07:22:18] &lt;pieterh&gt;   well...</div>
<div class="line">[Monday 21 March 2011] [07:22:24] &lt;pieterh&gt;   ok, point taken, it does work</div>
<div class="line">[Monday 21 March 2011] [07:22:28] &lt;pieterh&gt;   it&#8217;s a blob descriptor</div>
<div class="line">[Monday 21 March 2011] [07:22:33] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:23:05] &lt;pieterh&gt;   (a) it should be called &#8216;blob_t&#8217; and (b) recv() should return a freshly created blob</div>
<div class="line">[Monday 21 March 2011] [07:23:18] &lt;pieterh&gt;   blob_t <a href="#id13"><span class="problematic" id="id14">*</span></a>blob = zmq_recv (socket)</div>
<div class="line">[Monday 21 March 2011] [07:23:28] &lt;sustrik&gt;   recv has to return int</div>
<div class="line">[Monday 21 March 2011] [07:23:34] &lt;sustrik&gt;   to be POSIX compliant</div>
<div class="line">[Monday 21 March 2011] [07:23:40] &lt;sustrik&gt;   int + errno</div>
<div class="line">[Monday 21 March 2011] [07:23:45] &lt;pieterh&gt;   int rc = zmq_recv (socket, &amp;blob)</div>
<div class="line">[Monday 21 March 2011] [07:23:49] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:23:59] &lt;sustrik&gt;   that&#8217;s how it works now</div>
<div class="line">[Monday 21 March 2011] [07:23:59] &lt;pieterh&gt;   point being, recv creates the buffer</div>
<div class="line">[Monday 21 March 2011] [07:24:02] &lt;sustrik&gt;   except for the name</div>
<div class="line">[Monday 21 March 2011] [07:24:09] &lt;pieterh&gt;   no, now you need this extra init</div>
<div class="line">[Monday 21 March 2011] [07:24:17] &lt;sustrik&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [07:24:17] &lt;pieterh&gt;   rather annoying</div>
<div class="line">[Monday 21 March 2011] [07:24:28] &lt;sustrik&gt;   that&#8217;s to avoid additional malloc</div>
<div class="line">[Monday 21 March 2011] [07:24:38] &lt;pieterh&gt;   optimization</div>
<div class="line">[Monday 21 March 2011] [07:24:39] &lt;sustrik&gt;   so you create blob_t on the stack</div>
<div class="line">[Monday 21 March 2011] [07:24:51] &lt;sustrik&gt;   which is really fast</div>
<div class="line">[Monday 21 March 2011] [07:24:55] &lt;pieterh&gt;   I know you want that but it shouldn&#8217;t be in the simple API</div>
<div class="line">[Monday 21 March 2011] [07:24:58] &lt;sustrik&gt;   instead of putting it on the heap</div>
<div class="line">[Monday 21 March 2011] [07:25:21] &lt;pieterh&gt;   simple API should be just fast enough, and as simple as it can be, and POSIX like</div>
<div class="line">[Monday 21 March 2011] [07:25:23] &lt;pieterh&gt;   IMO</div>
<div class="line">[Monday 21 March 2011] [07:25:24] &lt;sustrik&gt;   in 3.0 the simple API will be POSIX like</div>
<div class="line">[Monday 21 March 2011] [07:25:35] &lt;sustrik&gt;   zmq_send (void*, size_t)</div>
<div class="line">[Monday 21 March 2011] [07:25:45] &lt;sustrik&gt;   zero-copy is never neat</div>
<div class="line">[Monday 21 March 2011] [07:25:53] &lt;sustrik&gt;   it&#8217;s optimisation in itself</div>
<div class="line">[Monday 21 March 2011] [07:26:00] &lt;pieterh&gt;   what&#8217;s the zmq_recv syntax for 3.0...?</div>
<div class="line">[Monday 21 March 2011] [07:26:03] &lt;sustrik&gt;   and one that crosses all levels of stack</div>
<div class="line">[Monday 21 March 2011] [07:26:08] &lt;sustrik&gt;   and makes mess of layering</div>
<div class="line">[Monday 21 March 2011] [07:26:27] &lt;pieterh&gt;   int size = zmq_recv (socket, void <a href="#id15"><span class="problematic" id="id16">*</span></a>)...?</div>
<div class="line">[Monday 21 March 2011] [07:26:28] &lt;sustrik&gt;   zmq_recv (void <a href="#id17"><span class="problematic" id="id18">*</span></a>buf, size_t <a href="#id19"><span class="problematic" id="id20">*</span></a>size, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:26:39] &lt;sustrik&gt;   forgor socket</div>
<div class="line">[Monday 21 March 2011] [07:26:41] &lt;sustrik&gt;   forgot</div>
<div class="line">[Monday 21 March 2011] [07:26:52] &lt;sustrik&gt;   same as POSIX recv()</div>
<div class="line">[Monday 21 March 2011] [07:27:32] &lt;pieterh&gt;   ok, should be &#8216;ssize_t zmq_recv(void <a href="#id21"><span class="problematic" id="id22">*</span></a>socket, void <a href="#id23"><span class="problematic" id="id24">*</span></a>buf, size_t len, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:27:41] &lt;sustrik&gt;   size_t <a href="#id25"><span class="problematic" id="id26">*</span></a>len</div>
<div class="line">[Monday 21 March 2011] [07:27:45] &lt;pieterh&gt;   nope</div>
<div class="line">[Monday 21 March 2011] [07:27:51] &lt;pieterh&gt;   size_t len, maximum size of buffer</div>
<div class="line">[Monday 21 March 2011] [07:27:58] &lt;sustrik&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [07:27:59] &lt;pieterh&gt;   return code is actual size read</div>
<div class="line">[Monday 21 March 2011] [07:28:00] &lt;sustrik&gt;   you are right</div>
<div class="line">[Monday 21 March 2011] [07:28:11] &lt;pieterh&gt;   it&#8217;s hugely annoying because you have to allocate randomly huge buffers</div>
<div class="line">[Monday 21 March 2011] [07:28:25] &lt;pieterh&gt;   and there&#8217;s no way to recover if the buffer was too small</div>
<div class="line">[Monday 21 March 2011] [07:28:37] &lt;pieterh&gt;   conclusion: you <em>cannot</em> use the POSIX socket API 100% for recv</div>
<div class="line">[Monday 21 March 2011] [07:28:38] &lt;sustrik&gt;   EMSGSIZE</div>
<div class="line">[Monday 21 March 2011] [07:28:43] &lt;pieterh&gt;   no way to recover</div>
<div class="line">[Monday 21 March 2011] [07:28:48] &lt;sustrik&gt;   then you can increase the buffer</div>
<div class="line">[Monday 21 March 2011] [07:28:50] &lt;sustrik&gt;   and recv() anew</div>
<div class="line">[Monday 21 March 2011] [07:28:53] &lt;pieterh&gt;   &#8216;please go back and re-read&#8217;?</div>
<div class="line">[Monday 21 March 2011] [07:28:53] &lt;sustrik&gt;   however</div>
<div class="line">[Monday 21 March 2011] [07:28:57] &lt;pieterh&gt;   ugh</div>
<div class="line">[Monday 21 March 2011] [07:29:05] &lt;pieterh&gt;   ugh and ugh</div>
<div class="line">[Monday 21 March 2011] [07:29:15] &lt;sustrik&gt;   in most scenarios you want to put the limit on message size anyway</div>
<div class="line">[Monday 21 March 2011] [07:29:17] &lt;pieterh&gt;   it means putting message lengths into separate frames</div>
<div class="line">[Monday 21 March 2011] [07:29:27] &lt;sustrik&gt;   setsockopt (MAXMSGSIZE, 1000);</div>
<div class="line">[Monday 21 March 2011] [07:29:35] &lt;pieterh&gt;   that&#8217;s orthogonal to this</div>
<div class="line">[Monday 21 March 2011] [07:29:39] &lt;sustrik&gt;   char buff [1000];</div>
<div class="line">[Monday 21 March 2011] [07:29:46] &lt;sustrik&gt;   zmq_recv (buff, 1000);</div>
<div class="line">[Monday 21 March 2011] [07:29:50] &lt;pieterh&gt;   ugh and ugh again</div>
<div class="line">[Monday 21 March 2011] [07:30:03] &lt;pieterh&gt;   I have frames of 8 bytes and frames of 2MB</div>
<div class="line">[Monday 21 March 2011] [07:30:42] &lt;pieterh&gt;   seriously unsatisfactory to not be able to properly allocate the right buffer size for each frame</div>
<div class="line">[Monday 21 March 2011] [07:30:50] &lt;sustrik&gt;   then you need to use more complex API</div>
<div class="line">[Monday 21 March 2011] [07:31:16] &lt;pieterh&gt;   this makes the simple API almost useless IMO</div>
<div class="line">[Monday 21 March 2011] [07:31:21] &lt;pieterh&gt;   nice for send, useless for recv</div>
<div class="line">[Monday 21 March 2011] [07:32:25] &lt;sustrik&gt;   what&#8217;s the alternative then?</div>
<div class="line">[Monday 21 March 2011] [07:32:40] &lt;sustrik&gt;   tha&#8217;ts how UDP works, irrc</div>
<div class="line">[Monday 21 March 2011] [07:32:42] &lt;pieterh&gt;   I don&#8217;t know, but reading into a pre-allocated buffer is inacceptable IMO</div>
<div class="line">[Monday 21 March 2011] [07:32:47] &lt;pieterh&gt;   UDP has maximum frame sizes</div>
<div class="line">[Monday 21 March 2011] [07:32:51] &lt;pieterh&gt;   TCP is a stream</div>
<div class="line">[Monday 21 March 2011] [07:32:54] &lt;sustrik&gt;   ZMQ_MAXMSGSIZE</div>
<div class="line">[Monday 21 March 2011] [07:33:04] &lt;sustrik&gt;   same as MTU</div>
<div class="line">[Monday 21 March 2011] [07:33:07] &lt;pieterh&gt;   0MQ is message-oriented, that means different read/write semantics</div>
<div class="line">[Monday 21 March 2011] [07:33:09] &lt;sustrik&gt;   but on messaging level</div>
<div class="line">[Monday 21 March 2011] [07:33:15] &lt;pieterh&gt;   it&#8217;s not the same thing</div>
<div class="line">[Monday 21 March 2011] [07:33:24] &lt;pieterh&gt;   you have a 64-bit message size</div>
<div class="line">[Monday 21 March 2011] [07:33:48] &lt;sustrik&gt;   well, i think there are 2 distinct use cases here</div>
<div class="line">[Monday 21 March 2011] [07:33:54] &lt;sustrik&gt;   1. something like market data</div>
<div class="line">[Monday 21 March 2011] [07:34:02] &lt;pieterh&gt;   I think it&#8217;s necessary to define semantics that fit messaging</div>
<div class="line">[Monday 21 March 2011] [07:34:03] &lt;sustrik&gt;   you want to limit max size of message</div>
<div class="line">[Monday 21 March 2011] [07:34:10] &lt;pieterh&gt;   not try to make 0MQ look like TCP, it&#8217;s not</div>
<div class="line">[Monday 21 March 2011] [07:34:22] &lt;sustrik&gt;   to prevent someone killing the transmission by pushing 4GB blob</div>
<div class="line">[Monday 21 March 2011] [07:34:30] &lt;pieterh&gt;   this is orthogonal</div>
<div class="line">[Monday 21 March 2011] [07:34:33] &lt;pieterh&gt;   it&#8217;s not the issue</div>
<div class="line">[Monday 21 March 2011] [07:34:37] &lt;sustrik&gt;   in such case zmq_recv() is sufficient</div>
<div class="line">[Monday 21 March 2011] [07:34:46] &lt;pieterh&gt;   I can&#8217;t agree...</div>
<div class="line">[Monday 21 March 2011] [07:34:46] &lt;sustrik&gt;   2. something like FTP</div>
<div class="line">[Monday 21 March 2011] [07:34:52] &lt;pieterh&gt;   let&#8217;s say I want to hold a queue of messages</div>
<div class="line">[Monday 21 March 2011] [07:34:59] &lt;sustrik&gt;   in that case you don&#8217;t know the size in advance</div>
<div class="line">[Monday 21 March 2011] [07:35:00] &lt;pieterh&gt;   might be 1M messages, held for 1 second</div>
<div class="line">[Monday 21 March 2011] [07:35:09] &lt;pieterh&gt;   I have to allocate the maximum frame size for each one</div>
<div class="line">[Monday 21 March 2011] [07:35:15] &lt;pieterh&gt;   this is seriously problematic</div>
<div class="line">[Monday 21 March 2011] [07:35:33] &lt;pieterh&gt;   my alternative is to read everything into a frame buffer and memcpy</div>
<div class="line">[Monday 21 March 2011] [07:35:35] &lt;pieterh&gt;   that is seriously stupid</div>
<div class="line">[Monday 21 March 2011] [07:35:40] &lt;pieterh&gt;   what I want is a recv() that allocates and returns a block</div>
<div class="line">[Monday 21 March 2011] [07:35:43] &lt;pieterh&gt;   that is seriously simple</div>
<div class="line">[Monday 21 March 2011] [07:35:55] &lt;sustrik&gt;   that&#8217;s zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:36:02] &lt;pieterh&gt;   then I will never use recv() because it&#8217;s <em>more</em> complex</div>
<div class="line">[Monday 21 March 2011] [07:36:05] &lt;pieterh&gt;   which is pointless</div>
<div class="line">[Monday 21 March 2011] [07:36:09] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:36:16] &lt;pieterh&gt;   trying to make 0MQ look like TCP is a big mistake IMO</div>
<div class="line">[Monday 21 March 2011] [07:36:20] &lt;Guthur&gt;    frankly from what I&#8217;m reading POSIX recv is just pants</div>
<div class="line">[Monday 21 March 2011] [07:36:31] &lt;pieterh&gt;   it is simply not a file-oriented metaphor, period</div>
<div class="line">[Monday 21 March 2011] [07:36:38] &lt;Guthur&gt;    and modelling it after that is the problem</div>
<div class="line">[Monday 21 March 2011] [07:36:40] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:36:52] &lt;pieterh&gt;   and it won&#8217;t make 0MQ more compatible with the kernel</div>
<div class="line">[Monday 21 March 2011] [07:37:04] &lt;sustrik&gt;   so you want zmq_recvmsg and no zmq_recv, right?</div>
<div class="line">[Monday 21 March 2011] [07:37:07] &lt;pieterh&gt;   the way to get 0MQ into the kernel is to make it utterly compelling</div>
<div class="line">[Monday 21 March 2011] [07:37:12] &lt;pieterh&gt;   so every developer on the planet uses it</div>
<div class="line">[Monday 21 March 2011] [07:37:21] &lt;pieterh&gt;   and you get that by making it utterly simple for simple cases</div>
<div class="line">[Monday 21 March 2011] [07:37:56] &lt;pieterh&gt;   sustrik: what I want, speaking as a 0MQ user, is a recv method (any name) which returns a fresh buffer or blob structure</div>
<div class="line">[Monday 21 March 2011] [07:38:05] &lt;sustrik&gt;   zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:38:07] &lt;sustrik&gt;   that&#8217;s it</div>
<div class="line">[Monday 21 March 2011] [07:38:09] &lt;pieterh&gt;   and a send method that takes the same buffer or blob structure</div>
<div class="line">[Monday 21 March 2011] [07:38:18] &lt;sustrik&gt;   zmq_sendmsg</div>
<div class="line">[Monday 21 March 2011] [07:38:20] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:38:26] &lt;pieterh&gt;   then recv and send are useless</div>
<div class="line">[Monday 21 March 2011] [07:38:27] &lt;sustrik&gt;   it&#8217;s going to be there</div>
<div class="line">[Monday 21 March 2011] [07:38:30] &lt;pieterh&gt;   and won&#8217;t get showtime</div>
<div class="line">[Monday 21 March 2011] [07:38:43] &lt;sustrik&gt;   zmq_send (s, &#8220;ABC&#8221;, 3);</div>
<div class="line">[Monday 21 March 2011] [07:38:48] &lt;sustrik&gt;   what&#8217;s wrong about that?</div>
<div class="line">[Monday 21 March 2011] [07:38:55] &lt;pieterh&gt;   using one API metaphor for sending, another for receiving?</div>
<div class="line">[Monday 21 March 2011] [07:39:14] &lt;sustrik&gt;   char buff [3];</div>
<div class="line">[Monday 21 March 2011] [07:39:23] &lt;sustrik&gt;   zmq_recv (s, buf, 3)</div>
<div class="line">[Monday 21 March 2011] [07:39:35] &lt;pieterh&gt;   yes, and if the sender gives you 4 bytes, your socket is dead</div>
<div class="line">[Monday 21 March 2011] [07:39:38] &lt;sustrik&gt;   the sendmsg and recvmsg will be of course availabler</div>
<div class="line">[Monday 21 March 2011] [07:39:40] &lt;pieterh&gt;   it&#8217;s not defensible</div>
<div class="line">[Monday 21 March 2011] [07:39:46] &lt;sustrik&gt;   it&#8217;s not dead</div>
<div class="line">[Monday 21 March 2011] [07:39:49] &lt;sustrik&gt;   it reports error</div>
<div class="line">[Monday 21 March 2011] [07:39:54] &lt;pieterh&gt;   and the next read...</div>
<div class="line">[Monday 21 March 2011] [07:39:58] &lt;pieterh&gt;   next frame or same frame?</div>
<div class="line">[Monday 21 March 2011] [07:40:07] &lt;sustrik&gt;   i would copy UDP semantics</div>
<div class="line">[Monday 21 March 2011] [07:40:12] &lt;pieterh&gt;   or a special flag to re-read the same frame?</div>
<div class="line">[Monday 21 March 2011] [07:40:13] &lt;sustrik&gt;   but it&#8217;s open to discussion</div>
<div class="line">[Monday 21 March 2011] [07:40:19] &lt;pieterh&gt;   it gets horrid</div>
<div class="line">[Monday 21 March 2011] [07:40:25] &lt;pieterh&gt;   and it&#8217;s not worth it just to get that simple send</div>
<div class="line">[Monday 21 March 2011] [07:40:39] &lt;pieterh&gt;   I can make a &#8216;send string&#8217; method in 10 lines of C, and have done this</div>
<div class="line">[Monday 21 March 2011] [07:40:49] &lt;pieterh&gt;   it&#8217;s not worth upgrading to 3.0 to save 10 lines of C</div>
<div class="line">[Monday 21 March 2011] [07:40:51] &lt;sustrik&gt;   so you want to keep the existing API right?</div>
<div class="line">[Monday 21 March 2011] [07:40:53] &lt;pieterh&gt;   send is really not the issue</div>
<div class="line">[Monday 21 March 2011] [07:41:05] &lt;pieterh&gt;   nope, the existing API is also too complex</div>
<div class="line">[Monday 21 March 2011] [07:41:08] &lt;pieterh&gt;   sorry :-)</div>
<div class="line">[Monday 21 March 2011] [07:41:25] &lt;sustrik&gt;   ok, send your proposal to the mailing list</div>
<div class="line">[Monday 21 March 2011] [07:41:33] &lt;sustrik&gt;   no point in discussing it here</div>
<div class="line">[Monday 21 March 2011] [07:41:36] &lt;pieterh&gt;   well, I have thousands of lines of sample code in the Guide</div>
<div class="line">[Monday 21 March 2011] [07:41:42] &lt;pieterh&gt;   that show what I like as APIs, in C</div>
<div class="line">[Monday 21 March 2011] [07:41:54] &lt;pieterh&gt;   string = s_recv (socket); free (string);</div>
<div class="line">[Monday 21 March 2011] [07:41:54] &lt;sustrik&gt;   using blobs, yes</div>
<div class="line">[Monday 21 March 2011] [07:42:00] &lt;pieterh&gt;   s_send (socket, &#8220;Hello&#8221;);</div>
<div class="line">[Monday 21 March 2011] [07:42:08] &lt;pieterh&gt;   that&#8217;s for strings, it&#8217;s simple and clean</div>
<div class="line">[Monday 21 March 2011] [07:42:11] &lt;sustrik&gt;   that&#8217;s a special case of current 0mq api</div>
<div class="line">[Monday 21 March 2011] [07:42:54] &lt;sustrik&gt;   you can propose changing zmq_msg_t into blob_t</div>
<div class="line">[Monday 21 March 2011] [07:42:54] &lt;pieterh&gt;   anyhow, my advice is to not try to imitate neither TCP nor UDP but develop clear and optimal 0MQ semantics in the API</div>
<div class="line">[Monday 21 March 2011] [07:43:03] &lt;pieterh&gt;   you will get more adoption of your API</div>
<div class="line">[Monday 21 March 2011] [07:43:10] &lt;pieterh&gt;   and that&#8217;s the way to get 0MQ into the kernel</div>
<div class="line">[Monday 21 March 2011] [07:43:18] &lt;sustrik&gt;   sure, go on, propose an alternative</div>
<div class="line">[Monday 21 March 2011] [07:43:23] &lt;pieterh&gt;   slavish imitation of old, semi-accurate APIs won&#8217;t work</div>
<div class="line">[Monday 21 March 2011] [07:43:28] &lt;pieterh&gt;   ok, I&#8217;ll propose an alternative</div>
<div class="line">[Monday 21 March 2011] [07:43:33] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:44:04] &lt;sustrik&gt;   as for kernel it&#8217;s a very different problem so let&#8217;s forget about it atm</div>
<div class="line">[Monday 21 March 2011] [07:44:23] &lt;pieterh&gt;   well, I think the point is that simple / clean gets you market share</div>
<div class="line">[Monday 21 March 2011] [07:44:31] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:44:50] &lt;sustrik&gt;   kernel is different though &#8211; if you propose change to ABI, you&#8217;ll never get in</div>
<div class="line">[Monday 21 March 2011] [07:44:59] &lt;pieterh&gt;   the kernel is just peopl;e</div>
<div class="line">[Monday 21 March 2011] [07:45:02] &lt;pieterh&gt;   <a href="#id27"><span class="problematic" id="id28">*</span></a>people</div>
<div class="line">[Monday 21 March 2011] [07:45:22] &lt;sustrik&gt;   the problem with new ABIs is they have to be maintained indefinitely</div>
<div class="line">[Monday 21 March 2011] [07:45:24] &lt;Guthur&gt;    tis a shame C doesn&#8217;t support method overloading</div>
<div class="line">[Monday 21 March 2011] [07:45:42] &lt;Guthur&gt;    method/function</div>
<div class="line">[Monday 21 March 2011] [07:45:54] &lt;pieterh&gt;   Guthur: well, it&#8217;s nice that you know what a function is, forever</div>
<div class="line">[Monday 21 March 2011] [07:46:08] &lt;pieterh&gt;   sustrik: do you mind if I delete the irrelevant comments on the 3.0 page?</div>
<div class="line">[Monday 21 March 2011] [07:46:21] &lt;sustrik&gt;   which are those?</div>
<div class="line">[Monday 21 March 2011] [07:46:27] &lt;pieterh&gt;   all of them, I guess</div>
<div class="line">[Monday 21 March 2011] [07:46:27] &lt;sustrik&gt;   ah, the comments</div>
<div class="line">[Monday 21 March 2011] [07:46:30] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:46:31] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:46:39] &lt;sustrik&gt;   i haven&#8217;t known it&#8217;s even possible</div>
<div class="line">[Monday 21 March 2011] [07:46:40] &lt;Guthur&gt;    overloading doesn&#8217;t remove that but you can have Send(blob*, size)  Send(zmq_msg) etc</div>
<div class="line">[Monday 21 March 2011] [07:47:11] &lt;Guthur&gt;    anyway not really benefiting the discussing</div>
<div class="line">[Monday 21 March 2011] [07:47:11] &lt;sustrik&gt;   Guthur: that helps with API, but doesn&#8217;t help with ABI</div>
<div class="line">[Monday 21 March 2011] [07:47:27] &lt;sustrik&gt;   from ABI point of view it&#8217;s still 2 functions</div>
<div class="line">[Monday 21 March 2011] [07:48:57] &lt;Guthur&gt;    but this was a discussion about API,</div>
<div class="line">[Monday 21 March 2011] [07:49:03] &lt;Guthur&gt;    i thought</div>
<div class="line">[Monday 21 March 2011] [07:49:23] &lt;sustrik&gt;   mostly, there are some ABI users though</div>
<div class="line">[Monday 21 March 2011] [07:49:29] &lt;sustrik&gt;   namely, clrzmq :)</div>
<div class="line">[Monday 21 March 2011] [07:49:34] &lt;sustrik&gt;   right?</div>
<div class="line">[Monday 21 March 2011] [07:49:58] &lt;mile&gt;      yrashk,</div>
<div class="line">[Monday 21 March 2011] [07:50:07] &lt;Guthur&gt;    well... yeah</div>
<div class="line">[Monday 21 March 2011] [07:57:51] &lt;yrashk&gt;    mile: ?</div>
<div class="line">[Monday 21 March 2011] [07:58:56] &lt;mile&gt;      yrashk, hi, I was just into connecting yaws to erlzmq2, and I&#8217;d need some advice</div>
<div class="line">[Monday 21 March 2011] [07:59:14] &lt;yrashk&gt;    mile: sure</div>
<div class="line">[Monday 21 March 2011] [07:59:44] &lt;mile&gt;      docs says it creates an OS thread per context</div>
<div class="line">[Monday 21 March 2011] [08:00:16] &lt;yrashk&gt;    that&#8217;s right</div>
<div class="line">[Monday 21 March 2011] [08:00:21] &lt;mile&gt;      that means, if I want to serve a large number of connections (parallel), I should make some kind of a router talking to zmq</div>
<div class="line">[Monday 21 March 2011] [08:00:36] &lt;mile&gt;      which then talks to many erlang processes</div>
<div class="line">[Monday 21 March 2011] [08:00:59] &lt;yrashk&gt;    do you plan to open a large open of contexts?</div>
<div class="line">[Monday 21 March 2011] [08:01:16] &lt;pieterh&gt;   sustrik: ok, I&#8217;ve thrown together a very rough API proposal</div>
<div class="line">[Monday 21 March 2011] [08:01:17] &lt;mile&gt;      yes, a web server in the front</div>
<div class="line">[Monday 21 March 2011] [08:01:24] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [08:01:24] &lt;mile&gt;      so, the more, the better :)</div>
<div class="line">[Monday 21 March 2011] [08:01:44] &lt;pieterh&gt;   sustrik: mostly, there is a really nice class-oriented API style we&#8217;ve developed for ZFL</div>
<div class="line">[Monday 21 March 2011] [08:01:49] &lt;Guthur&gt;    pieterh: you sending to the mailing list, or is it on the wiki</div>
<div class="line">[Monday 21 March 2011] [08:01:55] &lt;yrashk&gt;    is there any good reason to open a large # of contexts?</div>
<div class="line">[Monday 21 March 2011] [08:02:02] &lt;mile&gt;      a good example is comet/ajax clients</div>
<div class="line">[Monday 21 March 2011] [08:02:04] &lt;sustrik&gt;   pieterh: can you send that to the ML</div>
<div class="line">[Monday 21 March 2011] [08:02:05] &lt;pieterh&gt;   Guthur: my pattern is to document on the wiki first, then tell the list or IRC about it</div>
<div class="line">[Monday 21 March 2011] [08:02:14] &lt;pieterh&gt;   sending specs / proposals to the ML is an anti-pattern</div>
<div class="line">[Monday 21 March 2011] [08:02:27] &lt;Guthur&gt;    no probs, just eager to have a look</div>
<div class="line">[Monday 21 March 2011] [08:02:33] &lt;mile&gt;      yrashk, no good reason, one would do good, it it takes care of multiplexing</div>
<div class="line">[Monday 21 March 2011] [08:02:36] &lt;sustrik&gt;   nobody is going to notice it</div>
<div class="line">[Monday 21 March 2011] [08:02:47] &lt;yrashk&gt;    mile: our recv does multiplex</div>
<div class="line">[Monday 21 March 2011] [08:03:31] &lt;mile&gt;      yrashk, so a single recv which then talks to a large number of erlang processes should work fine?</div>
<div class="line">[Monday 21 March 2011] [08:03:45] &lt;pieterh&gt;   sustrik: what are the actual goals with the 3.0 API?</div>
<div class="line">[Monday 21 March 2011] [08:04:12] &lt;sustrik&gt;   move towards POSIX</div>
<div class="line">[Monday 21 March 2011] [08:04:36] &lt;pieterh&gt;   simpler API?</div>
<div class="line">[Monday 21 March 2011] [08:04:41] &lt;pieterh&gt;   less lines of code in apps?</div>
<div class="line">[Monday 21 March 2011] [08:04:46] &lt;sustrik&gt;   nope, POSIX-like api</div>
<div class="line">[Monday 21 March 2011] [08:04:50] &lt;pieterh&gt;   that&#8217;s all?</div>
<div class="line">[Monday 21 March 2011] [08:04:55] &lt;sustrik&gt;   for me, yes</div>
<div class="line">[Monday 21 March 2011] [08:04:56] &lt;yrashk&gt;    mile: well, you can spawn multiple recvs on the erlang side for different sockets (even in a single context, but you can do multiple contextrs too) and every context will multiplex (it uses zmq_poll)</div>
<div class="line">[Monday 21 March 2011] [08:05:10] &lt;pieterh&gt;   ok, I&#8217;ll add my goals too, they&#8217;re not in conflict afaics</div>
<div class="line">[Monday 21 March 2011] [08:05:16] &lt;tjgillies&gt; anyone have a pub/sub example for node? i can&#8217;t find one anywhere</div>
<div class="line">[Monday 21 March 2011] [08:05:18] &lt;sustrik&gt;   + removing some obsolete stuff</div>
<div class="line">[Monday 21 March 2011] [08:05:30] &lt;sustrik&gt;   but please use mailing list</div>
<div class="line">[Monday 21 March 2011] [08:05:46] &lt;sustrik&gt;   nobody will see the discussion on the webpage</div>
<div class="line">[Monday 21 March 2011] [08:06:03] &lt;pieterh&gt;   sustrik: like I said, I document on the wiki first, <em>then</em> discuss on the list</div>
<div class="line">[Monday 21 March 2011] [08:06:03] &lt;mile&gt;      yrashk, thanks! :)   do you know of any code snippets around?</div>
<div class="line">[Monday 21 March 2011] [08:06:13] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [08:06:16] &lt;mile&gt;      I couldn&#8217;t find much on the webpage</div>
<div class="line">[Monday 21 March 2011] [08:06:25] &lt;yrashk&gt;    mile: perf/ and test/</div>
<div class="line">[Monday 21 March 2011] [08:06:30] &lt;yrashk&gt;    mile: in the repo</div>
<div class="line">[Monday 21 March 2011] [08:06:30] &lt;sustrik&gt;   but i makes unclear what&#8217;s your proposal</div>
<div class="line">[Monday 21 March 2011] [08:06:31] &lt;mile&gt;      tx :)</div>
<div class="line">[Monday 21 March 2011] [08:06:37] &lt;sustrik&gt;   at least mark it as such</div>
<div class="line">[Monday 21 March 2011] [08:06:44] &lt;pieterh&gt;   sustrik: have you read the page?</div>
<div class="line">[Monday 21 March 2011] [08:06:56] &lt;sustrik&gt;   yep</div>
<div class="line">[Monday 21 March 2011] [08:07:10] &lt;pieterh&gt;   it&#8217;s literally a brain dump, not organized yet</div>
<div class="line">[Monday 21 March 2011] [08:07:12] &lt;yrashk&gt;    mile: yw</div>
<div class="line">[Monday 21 March 2011] [08:07:22] &lt;sustrik&gt;   whatever</div>
<div class="line">[Monday 21 March 2011] [08:07:30] &lt;sustrik&gt;   just move the discussion the mailing list</div>
<div class="line">[Monday 21 March 2011] [08:07:50] &lt;pieterh&gt;   Yes, I&#8217;m in the process of doing that</div>
<div class="line">[Monday 21 March 2011] [08:07:55] &lt;sustrik&gt;   goodo</div>
<div class="line">[Monday 21 March 2011] [08:08:23] &lt;pieterh&gt;   you&#8217;d prefer that my proposal is marked &#8220;proposed by Pieter&#8221; or somesuch?</div>
<div class="line">[Monday 21 March 2011] [08:08:35] &lt;pieterh&gt;   we don&#8217;t generally do this</div>
<div class="line">[Monday 21 March 2011] [08:08:49] &lt;pieterh&gt;   wiki pages = edit into shape and consensus</div>
<div class="line">[Monday 21 March 2011] [08:09:32] &lt;sustrik&gt;   doesn&#8217;t really matter as long as it&#8217;s discussed on the mailing list</div>
<div class="line">[Monday 21 March 2011] [08:09:40] &lt;sustrik&gt;   then it&#8217;s clear who proposed what</div>
<div class="line">[Monday 21 March 2011] [08:13:12] &lt;pieterh&gt;   ok, done</div>
<div class="line">[Monday 21 March 2011] [08:13:19] &lt;Guthur&gt;    will pushing string handling down into 0MQ have any adverse effect on people sending binary blobs</div>
<div class="line">[Monday 21 March 2011] [08:13:29] &lt;pieterh&gt;   Guthur: it&#8217;s two different use cases</div>
<div class="line">[Monday 21 March 2011] [08:13:38] &lt;pieterh&gt;   sending strings is one very common case</div>
<div class="line">[Monday 21 March 2011] [08:13:54] &lt;Guthur&gt;    sure, but binary serialization is quite popular these days</div>
<div class="line">[Monday 21 March 2011] [08:13:58] &lt;pieterh&gt;   it&#8217;s only in C that a string and a blob are fundamentally different</div>
<div class="line">[Monday 21 March 2011] [08:14:03] &lt;Guthur&gt;    protobuffers etc</div>
<div class="line">[Monday 21 March 2011] [08:14:17] &lt;pieterh&gt;   yeah, but this is not stuff you want to learn as a beginner</div>
<div class="line">[Monday 21 March 2011] [08:15:13] &lt;Guthur&gt;    if you are a beginner you probably shouldn&#8217;t be using C</div>
<div class="line">[Monday 21 March 2011] [08:15:21] &lt;Guthur&gt;    you&#8217;re feet can only take so much</div>
<div class="line">[Monday 21 March 2011] [08:15:28] &lt;pieterh&gt;   perhaps it was an error to use C as the language for the Guide</div>
<div class="line">[Monday 21 March 2011] [08:16:32] &lt;Guthur&gt;    pieterh: you have done a good job there though</div>
<div class="line">[Monday 21 March 2011] [08:16:53] &lt;pieterh&gt;   with a lot of help from contributors...</div>
<div class="line">[Monday 21 March 2011] [08:16:59] &lt;Guthur&gt;    I suppose my comment was more programming general as opposed to 0MQ beginners</div>
<div class="line">[Monday 21 March 2011] [08:17:51] &lt;Guthur&gt;    I&#8217;d imagine most of the bindings provide string handling</div>
<div class="line">[Monday 21 March 2011] [08:18:02] &lt;Guthur&gt;    I know i did with clrzmq</div>
<div class="line">[Monday 21 March 2011] [08:18:04] &lt;pieterh&gt;   perhaps we should make a standard C binding... :-)</div>
<div class="line">[Monday 21 March 2011] [08:18:56] &lt;Guthur&gt;    well you did mention multiple levels of the API</div>
<div class="line">[Monday 21 March 2011] [08:20:01] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [08:22:47] &lt;pieterh&gt;   sustrik: if we made a separate C binding, most of my concerns could be solved there</div>
<div class="line">[Monday 21 March 2011] [08:23:25] &lt;sustrik&gt;   you mean like C binding on top of POSIX api</div>
<div class="line">[Monday 21 March 2011] [08:23:28] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [08:23:34] &lt;sustrik&gt;   why not</div>
<div class="line">[Monday 21 March 2011] [08:23:37] &lt;sustrik&gt;   it&#8217;s up to you</div>
<div class="line">[Monday 21 March 2011] [08:23:43] &lt;pieterh&gt;   I have a lovely class-oriented model in ZFL...</div>
<div class="line">[Monday 21 March 2011] [08:23:48] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 21 March 2011] [08:24:13] &lt;pieterh&gt;   this would remove the need for random ad-hoc layers like zmsg and s_recv/s_send</div>
<div class="line">[Monday 21 March 2011] [08:24:22] &lt;pieterh&gt;   ok, I&#8217;ll think it through</div>
<div class="line">[Monday 21 March 2011] [08:24:25] &lt;sustrik&gt;   sure, go for it</div>
<div class="line">[Monday 21 March 2011] [08:24:41] &lt;pieterh&gt;   there&#8217;s stuff like serialization that other bindings offer, right?</div>
<div class="line">[Monday 21 March 2011] [08:24:44] &lt;pieterh&gt;   json, etc.</div>
<div class="line">[Monday 21 March 2011] [08:24:53] &lt;sustrik&gt;   yes, different stuff</div>
<div class="line">[Monday 21 March 2011] [08:24:56] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [08:25:08] &lt;sustrik&gt;   some bindings don&#8217;t even follow the underlying APIs</div>
<div class="line">[Monday 21 March 2011] [08:25:18] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [08:25:34] &lt;sustrik&gt;   and adhere more to paradigm of the language in question</div>
<div class="line">[Monday 21 March 2011] [08:25:39] &lt;sustrik&gt;   like C#</div>
<div class="line">[Monday 21 March 2011] [08:25:51] &lt;sustrik&gt;   Guthur may be more specific on that</div>
<div class="line">[Monday 21 March 2011] [08:26:21] &lt;pieterh&gt;   this means the real API can be as complex as you need to make it</div>
<div class="line">[Monday 21 March 2011] [08:26:40] &lt;pieterh&gt;   hmm, ok, this is a good plan</div>
<div class="line">[Monday 21 March 2011] [08:26:46] &lt;sustrik&gt;   nice</div>
<div class="line">[Monday 21 March 2011] [08:40:05] &lt;Guthur&gt;    yeah. I&#8217;m guilty of deviating somewhat from the underlying API</div>
<div class="line">[Monday 21 March 2011] [08:41:01] &lt;Guthur&gt;    my rational is that to get accepted by a language community such as C# you need to provide adequate abstractions</div>
<div class="line">[Monday 21 March 2011] [08:41:33] &lt;Guthur&gt;    string handling being a prime example</div>
<div class="line">[Monday 21 March 2011] [08:42:09] &lt;Guthur&gt;    they get scared if they see too many byte arrays</div>
<div class="line">[Monday 21 March 2011] [08:43:03] &lt;Guthur&gt;    I&#8217;m not joking there either, when I demonstrated something to my boss that is exactly what he picked up on, he was like &#8216;ugh byte arrays&#8217;</div>
<div class="line">[Monday 21 March 2011] [08:43:25] &lt;Guthur&gt;    I should have hid that better for my demo</div>
<div class="line">[Monday 21 March 2011] [08:45:49] &lt;sustrik&gt;   :)</div>
<div class="line">[Monday 21 March 2011] [09:15:12] &lt;mile&gt;      yrashk, got the forst results</div>
<div class="line">[Monday 21 March 2011] [09:15:22] &lt;mile&gt;      erlang talking to c++</div>
<div class="line">[Monday 21 March 2011] [09:15:41] &lt;mile&gt;      but not very impressive, I guess I have done something wrong</div>
<div class="line">[Monday 21 March 2011] [09:16:03] &lt;mile&gt;      got around 2600 msg/sec</div>
<div class="line">[Monday 21 March 2011] [09:16:28] &lt;mile&gt;      that is, the double of that</div>
<div class="line">[Monday 21 March 2011] [09:16:29] &lt;pieterh&gt;   mile: are you doing request-reply?</div>
<div class="line">[Monday 21 March 2011] [09:16:50] &lt;mile&gt;      yes</div>
<div class="line">[Monday 21 March 2011] [09:17:00] &lt;pieterh&gt;   that&#8217;s pretty normal then</div>
<div class="line">[Monday 21 March 2011] [09:17:27] &lt;pieterh&gt;   round-tripping is slow</div>
<div class="line">[Monday 21 March 2011] [09:17:35] &lt;mile&gt;      ok, thats good in terms I didn&#8217;t screw up :)</div>
<div class="line">[Monday 21 March 2011] [09:17:54] &lt;pieterh&gt;   ah, you may also have screwed up, that&#8217;s not excluded :-)</div>
<div class="line">[Monday 21 March 2011] [09:18:07] &lt;mile&gt;      hehe</div>
<div class="line">[Monday 21 March 2011] [09:18:19] &lt;pieterh&gt;   if you want to measure throughput, try a push/pull or pub/sub test</div>
<div class="line">[Monday 21 March 2011] [09:18:30] &lt;mile&gt;      so, if I get it right, single request/reply are bounded by the roundtrip</div>
<div class="line">[Monday 21 March 2011] [09:18:35] &lt;yrashk&gt;    there are pub/sub perf tests in erlzmq2</div>
<div class="line">[Monday 21 March 2011] [09:18:38] &lt;mile&gt;      but if I had parallel clients</div>
<div class="line">[Monday 21 March 2011] [09:18:38] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [09:18:51] &lt;mile&gt;      that would scale</div>
<div class="line">[Monday 21 March 2011] [09:19:00] &lt;pieterh&gt;   mile: how far in the Guide have you read?</div>
<div class="line">[Monday 21 March 2011] [09:19:28] &lt;mile&gt;      pieterh, good point, I started skipping at some point</div>
<div class="line">[Monday 21 March 2011] [09:19:29] &lt;mile&gt;      :)</div>
<div class="line">[Monday 21 March 2011] [09:19:45] &lt;mile&gt;      I&#8217;ll get back to it</div>
<div class="line">[Monday 21 March 2011] [09:20:06] &lt;pieterh&gt;   it doesn&#8217;t talk about round-tripping until chapter 4</div>
<div class="line">[Monday 21 March 2011] [09:20:21] &lt;pieterh&gt;   but at least you need to know how to scale up req/rep</div>
<div class="line">[Monday 21 March 2011] [09:20:35] &lt;pieterh&gt;   using devices, which we cover in ch2</div>
<div class="line">[Monday 21 March 2011] [09:21:04] &lt;yrashk&gt;    btw pieterh I am considering actually using 0mq for some notification bus here :) still not sure whether I can make this simple enough, though..</div>
<div class="line">[Monday 21 March 2011] [09:21:06] &lt;mile&gt;      that I have read, but I definitely need to read it again :)</div>
<div class="line">[Monday 21 March 2011] [09:21:41] &lt;pieterh&gt;   yrashk: well, let us know if you hit any blocks</div>
<div class="line">[Monday 21 March 2011] [09:21:55] &lt;yrashk&gt;    I already hit one, it looks too complicated for me :D</div>
<div class="line">[Monday 21 March 2011] [09:23:06] &lt;pieterh&gt;   you mean the use case?</div>
<div class="line">[Monday 21 March 2011] [09:23:13] &lt;yrashk&gt;    yeah</div>
<div class="line">[Monday 21 March 2011] [09:23:28] &lt;yrashk&gt;    I am still to come to any kind of real model yet</div>
<div class="line">[Monday 21 March 2011] [09:23:44] &lt;pieterh&gt;   it&#8217;s a new system or you want to reimplement an existing one?</div>
<div class="line">[Monday 21 March 2011] [09:23:54] &lt;yrashk&gt;    but I need to build a cluster-wide notification system where everyone can push a mesasge to a &#8220;topic&#8221; and subscribe to any topic</div>
<div class="line">[Monday 21 March 2011] [09:24:14] &lt;yrashk&gt;    but it&#8217;s multihost and host-failure tolerant.. (well, it should be)</div>
<div class="line">[Monday 21 March 2011] [09:24:18] &lt;pieterh&gt;   read the whaleshark whitepaper yet?</div>
<div class="line">[Monday 21 March 2011] [09:24:27] &lt;yrashk&gt;    briefly</div>
<div class="line">[Monday 21 March 2011] [09:24:28] &lt;pieterh&gt;   that&#8217;s more or less the idea</div>
<div class="line">[Monday 21 March 2011] [09:24:52] &lt;pieterh&gt;   more or less, not exactly</div>
<div class="line">[Monday 21 March 2011] [09:24:59] &lt;pieterh&gt;   but there may be ideas there to help you</div>
<div class="line">[Monday 21 March 2011] [09:25:16] &lt;yrashk&gt;    good idea, thanks</div>
<div class="line">[Monday 21 March 2011] [09:25:32] &lt;pieterh&gt;   depending on the scale you can also make a brokered model</div>
<div class="line">[Monday 21 March 2011] [09:25:43] &lt;pieterh&gt;   e.g. something like AMQP&#8217;s topic exchange</div>
<div class="line">[Monday 21 March 2011] [09:25:55] &lt;yrashk&gt;    I&#8217;d rather avoid amqp</div>
<div class="line">[Monday 21 March 2011] [09:26:04] &lt;pieterh&gt;   no, not AMQP, just some of the semantics</div>
<div class="line">[Monday 21 March 2011] [09:26:13] &lt;yrashk&gt;    I mean</div>
<div class="line">[Monday 21 March 2011] [09:26:16] &lt;pieterh&gt;   I can explain briefly if you like, it&#8217;s very elegant</div>
<div class="line">[Monday 21 March 2011] [09:26:21] &lt;yrashk&gt;    I&#8217;d rather avoid single-broker thing</div>
<div class="line">[Monday 21 March 2011] [09:26:26] &lt;pieterh&gt;   ah, ok, why?</div>
<div class="line">[Monday 21 March 2011] [09:26:47] &lt;pieterh&gt;   &#8216;notification&#8217; doesn&#8217;t immediately suggest high volumes</div>
<div class="line">[Monday 21 March 2011] [09:26:48] &lt;yrashk&gt;    I need to be very tolerant to host failures (any host can go down any time)</div>
<div class="line">[Monday 21 March 2011] [09:26:56] &lt;pieterh&gt;   bleh, this is trivial to address</div>
<div class="line">[Monday 21 March 2011] [09:27:07] &lt;pieterh&gt;   you make live-live redundancy, period</div>
<div class="line">[Monday 21 March 2011] [09:27:24] &lt;pieterh&gt;   especially simple for pubsub models</div>
<div class="line">[Monday 21 March 2011] [09:27:40] &lt;pieterh&gt;   so what&#8217;s the volume?</div>
<div class="line">[Monday 21 March 2011] [09:28:12] &lt;yrashk&gt;    and yeah there no high volumes &#8211; I just want this system to work through any # of hosts, don&#8217;t fail when any host is down and make some messages durable</div>
<div class="line">[Monday 21 March 2011] [09:28:32] &lt;yrashk&gt;    a kind of intra-cluster signalling framework, so to say</div>
<div class="line">[Monday 21 March 2011] [09:28:38] &lt;yrashk&gt;    serverless one, if you wish</div>
<div class="line">[Monday 21 March 2011] [09:28:57] &lt;yrashk&gt;    i.e. each host is equal to any other host in the system</div>
<div class="line">[Monday 21 March 2011] [09:28:57] &lt;pieterh&gt;   ... removing stable points from a network doesn&#8217;t always make it simpler</div>
<div class="line">[Monday 21 March 2011] [09:29:03] &lt;pieterh&gt;   atomic multicast?</div>
<div class="line">[Monday 21 March 2011] [09:29:09] &lt;pieterh&gt;   paxos style?</div>
<div class="line">[Monday 21 March 2011] [09:29:27] &lt;pieterh&gt;   actually I have an Erlang implementation in my pocket somewhere</div>
<div class="line">[Monday 21 March 2011] [09:29:43] &lt;pieterh&gt;   but not using 0MQ</div>
<div class="line">[Monday 21 March 2011] [09:29:54] &lt;yrashk&gt;    I probably don&#8217;t even care about atomicity. Just getting messages delivered to those who want to listen to them, if the host was down, deliver all durable messages there, too</div>
<div class="line">[Monday 21 March 2011] [09:30:41] &lt;yrashk&gt;    and yeah, dynamic node additions and removals, obviously</div>
<div class="line">[Monday 21 March 2011] [09:30:44] &lt;pieterh&gt;   well... IMO you&#8217;re setting the bar too high</div>
<div class="line">[Monday 21 March 2011] [09:30:47] &lt;yrashk&gt;    nothing fancy, in fact</div>
<div class="line">[Monday 21 March 2011] [09:30:55] &lt;pieterh&gt;   yet, too complex to implement... :-)</div>
<div class="line">[Monday 21 March 2011] [09:31:03] &lt;pieterh&gt;   make it simpler, implement that, then improve it</div>
<div class="line">[Monday 21 March 2011] [09:31:03] &lt;yrashk&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [09:31:19] &lt;pieterh&gt;   my suggestion would be to use a broker, and if you need it, a broker pair</div>
<div class="line">[Monday 21 March 2011] [09:31:29] &lt;pieterh&gt;   use a simple topic routing engine, I can provide you a design if needed</div>
<div class="line">[Monday 21 March 2011] [09:31:54] &lt;pieterh&gt;   then, when you have that working, figure out what you really want to make</div>
<div class="line">[Monday 21 March 2011] [09:32:40] &lt;yrashk&gt;    I guess I also need to read about pgm</div>
<div class="line">[Monday 21 March 2011] [09:32:44] &lt;pieterh&gt;   you can relatively easily evolve from a broker-based architecture to a distributed one</div>
<div class="line">[Monday 21 March 2011] [09:32:55] &lt;pieterh&gt;   however, jumping straight to a distributed model is rather hard</div>
<div class="line">[Monday 21 March 2011] [09:33:01] &lt;pieterh&gt;   look at the RRR patterns in Ch4</div>
<div class="line">[Monday 21 March 2011] [09:33:01] &lt;yrashk&gt;    ikr :)</div>
<div class="line">[Monday 21 March 2011] [09:33:08] &lt;pieterh&gt;   the distributed pirate is the very last example</div>
<div class="line">[Monday 21 March 2011] [09:33:49] &lt;pieterh&gt;   pgm is a decent option here but will require network support</div>
<div class="line">[Monday 21 March 2011] [09:34:33] &lt;pieterh&gt;   you could even make this work with a forwarder device, in a very short time</div>
<div class="line">[Monday 21 March 2011] [09:34:36] &lt;pieterh&gt;   hah</div>
<div class="line">[Monday 21 March 2011] [09:34:45] &lt;pieterh&gt;   to cheat...</div>
<div class="line">[Monday 21 March 2011] [09:34:59] &lt;pieterh&gt;   every node connects to the forwarder front-end, and to the forwarder back-end</div>
<div class="line">[Monday 21 March 2011] [09:35:09] &lt;pieterh&gt;   use SUB socket filtering</div>
<div class="line">[Monday 21 March 2011] [09:35:15] &lt;pieterh&gt;   problem solved</div>
<div class="line">[Monday 21 March 2011] [09:35:31] &lt;yrashk&gt;    so a single forwarded device, then?</div>
<div class="line">[Monday 21 March 2011] [09:35:35] &lt;pieterh&gt;   yeah</div>
<div class="line">[Monday 21 March 2011] [09:35:36] &lt;yrashk&gt;    for starters</div>
<div class="line">[Monday 21 March 2011] [09:35:46] &lt;pieterh&gt;   all it does is connect a SUB to a PUB socket</div>
<div class="line">[Monday 21 March 2011] [09:36:16] &lt;pieterh&gt;   it acts like a network-global multicast group</div>
<div class="line">[Monday 21 March 2011] [09:36:26] &lt;yrashk&gt;    yeah I get it</div>
<div class="line">[Monday 21 March 2011] [09:36:41] &lt;pieterh&gt;   it&#8217;ll take you about 1 hour to make, maybe less</div>
<div class="line">[Monday 21 March 2011] [09:36:57] &lt;yrashk&gt;    I can already imagine this, I have some good visual thinking</div>
<div class="line">[Monday 21 March 2011] [09:37:08] &lt;pieterh&gt;   when it works, send $1.50 to my paypal account, thanks</div>
<div class="line">[Monday 21 March 2011] [09:37:16] &lt;yrashk&gt;    hahah</div>
<div class="line">[Monday 21 March 2011] [09:37:21] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [09:37:28] &lt;yrashk&gt;    what&#8217;s the account address? ;))</div>
<div class="line">[Monday 21 March 2011] [09:38:16] &lt;pieterh&gt;   ah, I have it here somewhere...</div>
<div class="line">[Monday 21 March 2011] [09:38:35] &lt;pieterh&gt;   so the downside of this approach is that filtering is subscriber-side</div>
<div class="line">[Monday 21 March 2011] [09:39:04] &lt;pieterh&gt;   and you have a central point, which you can scale to N redundant live-live instances</div>
<div class="line">[Monday 21 March 2011] [09:39:29] &lt;pieterh&gt;   upside is every node except the forwarder is dynamic</div>
<div class="line">[Monday 21 March 2011] [09:40:45] &lt;yrashk&gt;    yeah forwarders are obviously the bottlenecks here</div>
<div class="line">[Monday 21 March 2011] [09:41:12] &lt;pieterh&gt;   it won&#8217;t slow things down unless you&#8217;re doing millions of msg/sec</div>
<div class="line">[Monday 21 March 2011] [09:41:23] &lt;pieterh&gt;   if you need more scale, you switch to a name service approach</div>
<div class="line">[Monday 21 March 2011] [09:41:38] &lt;pieterh&gt;   i.e. every publisher is also a forwarder</div>
<div class="line">[Monday 21 March 2011] [09:41:39] &lt;yrashk&gt;    no I am not expecting huge volumes</div>
<div class="line">[Monday 21 March 2011] [09:41:49] &lt;pieterh&gt;   so, no bottleneck issue</div>
<div class="line">[Monday 21 March 2011] [09:42:01] &lt;pieterh&gt;   simple code doesn&#8217;t crash</div>
<div class="line">[Monday 21 March 2011] [09:42:31] &lt;pieterh&gt;   you probably need to set a HWM properly</div>
<div class="line">[Monday 21 March 2011] [09:43:07] &lt;yrashk&gt;    so what you&#8217;re suggesting is having a forwarder on each and every node, right?</div>
<div class="line">[Monday 21 March 2011] [09:44:00] &lt;pieterh&gt;   no, that&#8217;s only if you need a lot more scale</div>
<div class="line">[Monday 21 March 2011] [09:44:06] &lt;pieterh&gt;   forget that</div>
<div class="line">[Monday 21 March 2011] [09:44:11] &lt;pieterh&gt;   one forwarder in middle of network</div>
<div class="line">[Monday 21 March 2011] [09:44:20] &lt;pieterh&gt;   binds to a SUB frontend, binds to a PUB backend</div>
<div class="line">[Monday 21 March 2011] [09:44:45] &lt;pieterh&gt;   every node connects to those two sockets, one to publish, one to subscribe</div>
<div class="line">[Monday 21 March 2011] [09:44:54] &lt;pieterh&gt;   every node receives every message, and filters using SUB filtering</div>
<div class="line">[Monday 21 March 2011] [09:45:00] &lt;yrashk&gt;    right</div>
<div class="line">[Monday 21 March 2011] [09:45:13] &lt;pieterh&gt;   then, if you need it, you double the forwarders and make live/live redundancy</div>
<div class="line">[Monday 21 March 2011] [09:45:46] &lt;yrashk&gt;    this live-live redundancy, any suggestions on how you would typically do it?</div>
<div class="line">[Monday 21 March 2011] [09:46:00] &lt;yrashk&gt;    is it like doing the same operations on a # of forwarders?</div>
<div class="line">[Monday 21 March 2011] [09:46:05] &lt;pieterh&gt;   you run two forwarders, right?</div>
<div class="line">[Monday 21 March 2011] [09:46:23] &lt;pieterh&gt;   and every node connects its PUB socket to both forwarders, and its SUB socket to both forwarders</div>
<div class="line">[Monday 21 March 2011] [09:46:42] &lt;pieterh&gt;   then you have to identity each message uniquely (sequence number per publisher)</div>
<div class="line">[Monday 21 March 2011] [09:46:42] &lt;yrashk&gt;    yeah then I imagined it right</div>
<div class="line">[Monday 21 March 2011] [09:46:47] &lt;pieterh&gt;   and reject duplicates</div>
<div class="line">[Monday 21 March 2011] [09:46:55] &lt;pieterh&gt;   0MQ handles the fanout and fanin properly</div>
<div class="line">[Monday 21 March 2011] [10:50:45] &lt;mikko-_&gt;   hi</div>
<div class="line">[Monday 21 March 2011] [10:51:05] &lt;mikko-_&gt;   I am not quite clear who should prepare the upstream patch for openpgm changes</div>
<div class="line">[Monday 21 March 2011] [10:57:56] &lt;sustrik&gt;   mikko-_: neither am i</div>
<div class="line">[Monday 21 March 2011] [10:58:12] &lt;sustrik&gt;   presumably, it&#8217;s better to patch the master and downstream it afterwards</div>
<div class="line">[Monday 21 March 2011] [11:12:32] &lt;mikko-_&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [11:41:00] &lt;pieterh&gt;   hi mikko</div>
<div class="line">[Monday 21 March 2011] [11:41:26] &lt;pieterh&gt;   we can&#8217;t do pull requests to multiple gits, which is annoying</div>
<div class="line">[Monday 21 March 2011] [11:42:04] &lt;pieterh&gt;   mikko-_: I&#8217;m happy to send a patch from 2.1 to master</div>
<div class="line">[Monday 21 March 2011] [11:45:13] &lt;sustrik&gt;   pieterh: if you do so, take care to separate the openpgm thing from other functionality</div>
<div class="line">[Monday 21 March 2011] [11:45:32] &lt;pieterh&gt;   sustrik: yes, it&#8217;s a single commit, the only grey part is that I tend to update the NEWS at the same time</div>
<div class="line">[Monday 21 March 2011] [11:45:41] &lt;pieterh&gt;   I&#8217;m going to start doing that in a separate commit</div>
<div class="line">[Monday 21 March 2011] [11:45:46] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 21 March 2011] [11:46:24] &lt;pieterh&gt;   I&#8217;ll send you the patch for OpenPGM then, offlist since it&#8217;s rather huge</div>
<div class="line">[Monday 21 March 2011] [11:47:01] &lt;sustrik&gt;   ok, also don&#8217;t forget to sign it off</div>
<div class="line">[Monday 21 March 2011] [11:47:07] &lt;pieterh&gt;   right</div>
<div class="line">[Monday 21 March 2011] [11:48:41] &lt;pieterh&gt;   OK, sent...</div>
<div class="line">[Monday 21 March 2011] [11:49:19] &lt;pieterh&gt;   there&#8217;s a better way to do this kind of exchange</div>
<div class="line">[Monday 21 March 2011] [11:49:42] &lt;pieterh&gt;   but I keep forgetting the ins and outs of git... :-)</div>
<div class="line">[Monday 21 March 2011] [12:08:14] &lt;pieterh&gt;   sustrik: I&#8217;m not going to scream on the list, but I&#8217;m using PAIR quite systematically now</div>
<div class="line">[Monday 21 March 2011] [12:23:39] &lt;pieterh&gt;   ok, I screamt</div>
<div class="line">[Monday 21 March 2011] [12:52:02] &lt;<a href="#id89"><span class="problematic" id="id90">Aaron__</span></a>&gt;   So I&#8217;m trying to build zeromq and have it link against a static uuid library. I&#8217;m not very good with configure scripts, and I don&#8217;t see a parameter to tell configure where the static library and headers are. Can anyone help?</div>
<div class="line">[Monday 21 March 2011] [12:53:53] &lt;pieterh&gt;   <a href="#id89"><span class="problematic" id="id91">Aaron__</span></a>: what OS are you on?</div>
<div class="line">[Monday 21 March 2011] [12:54:05] &lt;pieterh&gt;   and what language are you working in?</div>
<div class="line">[Monday 21 March 2011] [12:54:18] &lt;<a href="#id89"><span class="problematic" id="id92">Aaron__</span></a>&gt;   Just Ubuntu.</div>
<div class="line">[Monday 21 March 2011] [12:54:28] &lt;<a href="#id89"><span class="problematic" id="id93">Aaron__</span></a>&gt;   c++</div>
<div class="line">[Monday 21 March 2011] [12:55:03] &lt;pieterh&gt;   hang on, I&#8217;ll get you the gcc syntax...</div>
<div class="line">[Monday 21 March 2011] [12:55:40] &lt;<a href="#id89"><span class="problematic" id="id94">Aaron__</span></a>&gt;   gcc? Don&#8217;t I need to satisfy the configure check?</div>
<div class="line">[Monday 21 March 2011] [12:55:44] &lt;<a href="#id89"><span class="problematic" id="id95">Aaron__</span></a>&gt;   first</div>
<div class="line">[Monday 21 March 2011] [12:56:02] &lt;pieterh&gt;   you are building an application right?</div>
<div class="line">[Monday 21 March 2011] [12:56:09] &lt;pieterh&gt;   or building zmq?</div>
<div class="line">[Monday 21 March 2011] [12:56:26] &lt;pieterh&gt;   ah, it doesn&#8217;t link against anything when you build it</div>
<div class="line">[Monday 21 March 2011] [12:56:31] &lt;<a href="#id89"><span class="problematic" id="id96">Aaron__</span></a>&gt;   Well, it&#8217;s a little complicated, but right now I&#8217;m just trying to build zeromq.</div>
<div class="line">[Monday 21 March 2011] [12:56:41] &lt;pieterh&gt;   please use the 2.1 package released today</div>
<div class="line">[Monday 21 March 2011] [12:56:47] &lt;<a href="#id89"><span class="problematic" id="id97">Aaron__</span></a>&gt;   I am.</div>
<div class="line">[Monday 21 March 2011] [12:56:57] &lt;pieterh&gt;   ok, good</div>
<div class="line">[Monday 21 March 2011] [12:57:10] &lt;<a href="#id89"><span class="problematic" id="id98">Aaron__</span></a>&gt;   It builds fine if I use the uuid-dev package.</div>
<div class="line">[Monday 21 March 2011] [12:57:17] &lt;pieterh&gt;   right, which is what you want</div>
<div class="line">[Monday 21 March 2011] [12:57:35] &lt;<a href="#id89"><span class="problematic" id="id99">Aaron__</span></a>&gt;   But that creates a dependance on libuuid.so.</div>
<div class="line">[Monday 21 March 2011] [12:57:39] &lt;<a href="#id89"><span class="problematic" id="id100">Aaron__</span></a>&gt;   Which I don&#8217;t want.</div>
<div class="line">[Monday 21 March 2011] [12:57:46] &lt;Seta00&gt;    <a href="#id89"><span class="problematic" id="id101">Aaron__</span></a>: should be something like &#8211;with-uuid=/path/to/your/custom/build</div>
<div class="line">[Monday 21 March 2011] [12:57:52] &lt;<a href="#id89"><span class="problematic" id="id102">Aaron__</span></a>&gt;   I have uuid built statically...</div>
<div class="line">[Monday 21 March 2011] [12:58:05] &lt;<a href="#id89"><span class="problematic" id="id103">Aaron__</span></a>&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [12:58:28] &lt;pieterh&gt;   <a href="#id89"><span class="problematic" id="id104">Aaron__</span></a>: when you find out how to do this, add it to the tips page at <a class="reference external" href="http://zero.mq/tips">http://zero.mq/tips</a></div>
<div class="line">[Monday 21 March 2011] [13:00:43] &lt;<a href="#id89"><span class="problematic" id="id105">Aaron__</span></a>&gt;   I tried &#8211;with-uuid=/path/to/uuid/install/folder but got nothing.</div>
<div class="line">[Monday 21 March 2011] [13:01:00] &lt;<a href="#id89"><span class="problematic" id="id106">Aaron__</span></a>&gt;   Just the same &#8220;configure: error: cannot link with -luuid, install uuid-dev.&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:02:12] &lt;<a href="#id89"><span class="problematic" id="id107">Aaron__</span></a>&gt;   I tried a few different directories, /path/to/uuid/install/folder, /path/to/uuid/install/folder/lib, /path/to/uuid/install/folder/include, /path/to/uuid/install/folder/bin, but nothing did anything different.</div>
<div class="line">[Monday 21 March 2011] [13:02:37] &lt;<a href="#id89"><span class="problematic" id="id108">Aaron__</span></a>&gt;   Does the configure script actually support that argument?</div>
<div class="line">[Monday 21 March 2011] [13:02:49] &lt;pieterh&gt;   <a href="#id89"><span class="problematic" id="id109">Aaron__</span></a>: from reading configure, it&#8217;s looking for, and not finding &#8216;uuid_generate&#8217; in -luuid</div>
<div class="line">[Monday 21 March 2011] [13:03:29] &lt;<a href="#id89"><span class="problematic" id="id110">Aaron__</span></a>&gt;   Hmm, I guess I could double check my uuid.</div>
<div class="line">[Monday 21 March 2011] [13:05:32] &lt;pieterh&gt;   The rule in configure.in is pretty clear:</div>
<div class="line">[Monday 21 March 2011] [13:05:33] &lt;pieterh&gt;   AC_CHECK_LIB(uuid, uuid_generate, ,</div>
<div class="line">[Monday 21 March 2011] [13:05:33] &lt;pieterh&gt;               [AC_MSG_ERROR([cannot link with -luuid, install uuid-dev.])])</div>
<div class="line">[Monday 21 March 2011] [13:06:55] &lt;<a href="#id89"><span class="problematic" id="id111">Aaron__</span></a>&gt;   Yeah, my uuid library does have a uuid_generate,</div>
<div class="line">[Monday 21 March 2011] [13:07:00] &lt;<a href="#id89"><span class="problematic" id="id112">Aaron__</span></a>&gt;   Sorry about that.</div>
<div class="line">[Monday 21 March 2011] [13:07:07] &lt;<a href="#id89"><span class="problematic" id="id113">Aaron__</span></a>&gt;   Barking up the wrong tree.</div>
<div class="line">[Monday 21 March 2011] [13:07:40] &lt;<a href="#id89"><span class="problematic" id="id114">Aaron__</span></a>&gt;   Thanks for the &#8211;with-uuid argument though.</div>
<div class="line">[Monday 21 March 2011] [13:08:07] &lt;<a href="#id89"><span class="problematic" id="id115">Aaron__</span></a>&gt;   I meant &#8220;doesn&#8217;t have uuid_generate&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:10:50] &lt;pieterh&gt;   ok, problem solved...</div>
<div class="line">[Monday 21 March 2011] [13:14:58] &lt;Seta00&gt;    :)</div>
<div class="line">[Monday 21 March 2011] [13:16:28] &lt;<a href="#id89"><span class="problematic" id="id116">Aaron__</span></a>&gt;   Apparantly there is more than one uuid library out there, sigh.</div>
<div class="line">[Monday 21 March 2011] [13:17:09] &lt;<a href="#id89"><span class="problematic" id="id117">Aaron__</span></a>&gt;   I thought it was the same one Postgresql was using.</div>
<div class="line">[Monday 21 March 2011] [13:17:31] &lt;mikko-_&gt;   <a href="#id89"><span class="problematic" id="id118">Aaron__</span></a>: are you building zeromq shared or static?</div>
<div class="line">[Monday 21 March 2011] [13:17:45] &lt;<a href="#id89"><span class="problematic" id="id119">Aaron__</span></a>&gt;   I want zeromq to be static too.</div>
<div class="line">[Monday 21 March 2011] [13:17:59] &lt;mikko-_&gt;   ./configure &#8211;disable-shared</div>
<div class="line">[Monday 21 March 2011] [13:18:17] &lt;<a href="#id89"><span class="problematic" id="id120">Aaron__</span></a>&gt;   Yeah, I&#8217;ll pop that on too.</div>
<div class="line">[Monday 21 March 2011] [13:18:26] &lt;mikko-_&gt;   as far as i understand if zeromq is static then libuuid would be as well</div>
<div class="line">[Monday 21 March 2011] [13:18:32] &lt;<a href="#id89"><span class="problematic" id="id121">Aaron__</span></a>&gt;   Ah</div>
<div class="line">[Monday 21 March 2011] [13:18:42] &lt;<a href="#id89"><span class="problematic" id="id122">Aaron__</span></a>&gt;   Well, I need to get the right uuid as the first step.</div>
<div class="line">[Monday 21 March 2011] [13:18:58] &lt;mikko-_&gt;   you should be able to use one provided by your OS</div>
<div class="line">[Monday 21 March 2011] [13:19:02] &lt;mikko-_&gt;   usually they ship .a as well</div>
<div class="line">[Monday 21 March 2011] [13:19:32] &lt;<a href="#id89"><span class="problematic" id="id123">Aaron__</span></a>&gt;   Yeah, I&#8217;m working on it as we speak.</div>
<div class="line">[Monday 21 March 2011] [13:20:32] &lt;mikko-_&gt;   on rhel its usually efsprogs and on ubuntu/debian etc uuid-dev</div>
<div class="line">[Monday 21 March 2011] [13:20:41] &lt;mikko-_&gt;   not sure about others</div>
<div class="line">[Monday 21 March 2011] [13:21:07] &lt;mikko-_&gt;   uuid libs are confusing as there are multiple of them</div>
<div class="line">[Monday 21 March 2011] [13:21:10] &lt;mikko-_&gt;   and they are not compatible</div>
<div class="line">[Monday 21 March 2011] [13:24:22] &lt;<a href="#id89"><span class="problematic" id="id124">Aaron__</span></a>&gt;   Yeah, I was certainly confused.</div>
<div class="line">[Monday 21 March 2011] [13:37:44] &lt;drbobbeaty&gt;        Question about the 2.1.3 packaging... with the change from 2.1.2 to 2.1.3, I now see that I&#8217;m generating a libpgm.so - but I&#8217;m not seeing it as an &#8216;ldd&#8217; dependency of libzmq.so - is this right?</div>
<div class="line">[Monday 21 March 2011] [13:38:23] &lt;drbobbeaty&gt;        I used &#8216;&#8211;with-pgm&#8217; in the build, and I see it unpacking the OpenPGM code, and the libpgm.so is generated, but I&#8217;m having trouble running my code that worked fine with 2.1.2.</div>
<div class="line">[Monday 21 March 2011] [13:38:32] &lt;<a href="#id89"><span class="problematic" id="id125">Aaron__</span></a>&gt;   Well, &#8220;nm &#8211;demangle&#8221; tells me I have uuid_generate (0000000000000ee0 T uuid_generate). I&#8217;m running configure like so, &#8221;../configure &#8211;with-pic &#8211;prefix=/root/zeromq_install/ &#8211;enable-static &#8211;disable-shared &#8211;without-documentation &#8211;with-uuid=/path/to/uuid/install/dir/ &#8221;. And I still get &#8220;configure: error: cannot link with -luuid, install uuid-dev.&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:39:21] &lt;drbobbeaty&gt;        I have tried linking with &#8216;-lzmq -lpgm&#8217; and still it&#8217;s not even starting to execute - it&#8217;s as if I&#8217;m missing a critical step.</div>
<div class="line">[Monday 21 March 2011] [13:39:26] &lt;drbobbeaty&gt;        Anyone run into this?</div>
<div class="line">[Monday 21 March 2011] [13:39:30] &lt;drbobbeaty&gt;        Pieter?</div>
<div class="line">[Monday 21 March 2011] [13:39:35] &lt;pieterh&gt;   drbobbeaty: this is indeed a new part of 2.1.3</div>
<div class="line">[Monday 21 March 2011] [13:40:38] &lt;pieterh&gt;   it&#8217;s quite possible that the OpenPGM integration doesn&#8217;t work properly yet :-/</div>
<div class="line">[Monday 21 March 2011] [13:40:43] &lt;drbobbeaty&gt;        I&#8217;m OK with it being new, but code that ran fine with 2.1.2 is core dumping on main() in 2.1.3 - like I&#8217;m missing a linking step or something. Is there something I&#8217;m missing OTHER than the inclusion of &#8216;-lpgm&#8217; in the linking step?</div>
<div class="line">[Monday 21 March 2011] [13:41:10] &lt;pieterh&gt;   drbobbeaty: mikko is the man to answer this</div>
<div class="line">[Monday 21 March 2011] [13:41:15] &lt;drbobbeaty&gt;        That would be sad for a &#8216;stable&#8217; tag.</div>
<div class="line">[Monday 21 March 2011] [13:41:15] &lt;pieterh&gt;   summon mikko...</div>
<div class="line">[Monday 21 March 2011] [13:41:45] &lt;pieterh&gt;   drbobbeaty: a bit, yes, but if there&#8217;s a problem we&#8217;ll fix it immediately</div>
<div class="line">[Monday 21 March 2011] [13:42:28] &lt;pieterh&gt;   mikko: are you around?</div>
<div class="line">[Monday 21 March 2011] [13:43:21] &lt;pieterh&gt;   drbobbeaty: can you post a minimal test case that causes it to die? I&#8217;ll reproduce it</div>
<div class="line">[Monday 21 March 2011] [13:43:41] &lt;drbobbeaty&gt;        peiterh: Sure, give me a sec.</div>
<div class="line">[Monday 21 March 2011] [13:43:45] &lt;pieterh&gt;   k</div>
<div class="line">[Monday 21 March 2011] [14:01:17] &lt;drbobbeaty&gt;        pieterh: is there a list of what&#8217;s changed from 2.1.2 to 2.1.3 - I&#8217;m having a tough time makeing the &#8220;minimal test&#8221; as my simple tests are OK, but the biggies that fail are awfully complex. Too complex for a test case, really.</div>
<div class="line">[Monday 21 March 2011] [14:01:34] &lt;drbobbeaty&gt;        If I knew what changed, maybe it&#8217;d help me find the issue in my code.</div>
<div class="line">[Monday 21 March 2011] [14:15:17] &lt;cremes&gt;    i&#8217;m starting to see a new assertion that i haven&#8217;t run into before</div>
<div class="line">[Monday 21 March 2011] [14:15:18] &lt;cremes&gt;    Assertion failed: sessions.empty () (socket_base.cpp:127)</div>
<div class="line">[Monday 21 March 2011] [14:15:35] &lt;cremes&gt;    my code hasn&#8217;t changed but i did update to the latest master</div>
<div class="line">[Monday 21 March 2011] [14:15:54] &lt;cremes&gt;    has anyone else seen this?</div>
<div class="line">[Monday 21 March 2011] [14:21:11] &lt;drbobbeaty&gt;        cremes: not me, but I&#8217;m seeing other problems with 2.1.3 that I wasn&#8217;t seeing in 2.1.2</div>
<div class="line">[Monday 21 March 2011] [14:21:27] &lt;cremes&gt;    drbobbeaty: what problems are you seeing?</div>
<div class="line">[Monday 21 March 2011] [14:23:24] &lt;drbobbeaty&gt;        cremes: I&#8217;m tracking down an immediate app core dump when using the new 2.1.3 - It&#8217;s not easily reproducable in a small app, but it&#8217;s 100% reproduceable in my larger app. I&#8217;m trying to trim it down to get a good test case, but it&#8217;s proving to be hard based on the immediate nature of the core dump.</div>
<div class="line">[Monday 21 March 2011] [14:23:44] &lt;drbobbeaty&gt;        The small test case runs fine. But the bigger one is nasty.</div>
<div class="line">[Monday 21 March 2011] [14:24:41] &lt;cremes&gt;    drbobbeaty: if you catch the crash in gdb, where is it crashing inside 0mq?</div>
<div class="line">[Monday 21 March 2011] [14:25:37] &lt;drbobbeaty&gt;        Nope, it&#8217;s crashing on main() - the very first executable line. But if I comment out the calls to 0MQ, it runs just fine.</div>
<div class="line">[Monday 21 March 2011] [14:26:00] &lt;drbobbeaty&gt;        It&#8217;s the invocation of the ZMQ calls in some way that&#8217;s causing it to core dump - I just haven&#8217;t figured out what.</div>
<div class="line">[Monday 21 March 2011] [14:26:19] &lt;cremes&gt;    that is quite... odd :)</div>
<div class="line">[Monday 21 March 2011] [14:26:20] &lt;drbobbeaty&gt;        If I had a nice stack trace, I&#8217;d be able to figure this out easily. But I don&#8217;t.</div>
<div class="line">[Monday 21 March 2011] [14:26:49] &lt;pieterh&gt;   drbobbeaty: are you using pgm in all your cases?</div>
<div class="line">[Monday 21 March 2011] [14:28:08] &lt;pieterh&gt;   cremes: this is from the development master?</div>
<div class="line">[Monday 21 March 2011] [14:28:17] &lt;cremes&gt;    pieterh: correct</div>
<div class="line">[Monday 21 March 2011] [14:28:31] &lt;pieterh&gt;   can you try with the 2.1 release and see if you also get it?</div>
<div class="line">[Monday 21 March 2011] [14:28:32] &lt;cremes&gt;    i am trying to &#8216;bisect&#8217; it now to see if i can narrow down the commit that broke it</div>
<div class="line">[Monday 21 March 2011] [14:28:41] &lt;cremes&gt;    sure, i can do that</div>
<div class="line">[Monday 21 March 2011] [14:29:30] &lt;drbobbeaty&gt;        pieterh: Yup, pgm is what I use - 100% of the time.</div>
<div class="line">[Monday 21 March 2011] [14:29:36] &lt;drbobbeaty&gt;        I&#8217;m getting closer... :)</div>
<div class="line">[Monday 21 March 2011] [14:29:49] &lt;pieterh&gt;   drbobbeaty: ok, so presumably there&#8217;s a load library issue</div>
<div class="line">[Monday 21 March 2011] [14:30:02] &lt;pieterh&gt;   the other changes over 2.1.2 are all quite specific patches for core bugs</div>
<div class="line">[Monday 21 March 2011] [14:32:26] &lt;drbobbeaty&gt;        pieterh: I&#8217;m in the configuration code of my app - setting the <a href="#id668"><span class="problematic" id="id669">ZMQ_</span></a> properties of the socket. It <em>appears</em> I&#8217;m getting close.</div>
<div class="line">[Monday 21 March 2011] [14:33:00] &lt;pieterh&gt;   drbobbeaty: presumably a load error on the openpgm library</div>
<div class="line">[Monday 21 March 2011] [14:33:59] &lt;drbobbeaty&gt;        In my simple test ( <a class="reference external" href="https://gist.github.com/635015">https://gist.github.com/635015</a> ) I&#8217;m now seeing the following error:</div>
<div class="line">[Monday 21 March 2011] [14:34:20] &lt;drbobbeaty&gt;        Assertion failed: rc == 0 (connect_session.cpp:84)</div>
<div class="line">[Monday 21 March 2011] [14:34:44] &lt;drbobbeaty&gt;        Double-checking to see if I messed up the test.</div>
<div class="line">[Monday 21 March 2011] [14:38:47] &lt;drbobbeaty&gt;        pieterh: triple-checked... if I compile this as &#8216;g++ xmit.cpp -o xmit -lzmq&#8217; I get the error.</div>
<div class="line">[Monday 21 March 2011] [14:38:59] &lt;drbobbeaty&gt;        If I add in the &#8216;-lpgm&#8217; at the end I still get the error.</div>
<div class="line">[Monday 21 March 2011] [14:39:09] &lt;pieterh&gt;   ok, let me give it a shot</div>
<div class="line">[Monday 21 March 2011] [14:39:20] &lt;drbobbeaty&gt;        If I switch the order so it reads: &#8216;-lpgm -lzmq&#8217; I still get the error.</div>
<div class="line">[Monday 21 March 2011] [14:42:38] &lt;pieterh&gt;   drbobbeaty: I get a clean error message &#8216;Protocol not supported&#8217; and then a core dump</div>
<div class="line">[Monday 21 March 2011] [14:42:49] &lt;pieterh&gt;   this is 0MQ 2.1.3 built without OpenPGM</div>
<div class="line">[Monday 21 March 2011] [14:43:50] &lt;drbobbeaty&gt;        pieterh: not surprising... I&#8217;m using OpenPGM in the example. You need to build it &#8211;with-pgm and then try it.</div>
<div class="line">[Monday 21 March 2011] [14:44:16] &lt;drbobbeaty&gt;        pieterh: I&#8217;ve tried two boxes - Ubuntu 10.04.1 and CentOS 5 and both have the same error when using 2.1.3 w/OpenPGM</div>
<div class="line">[Monday 21 March 2011] [14:44:31] &lt;pieterh&gt;   drbobbeaty: would you raise an issue at <a class="reference external" href="https://github.com/zeromq/zeromq2-1/issues">https://github.com/zeromq/zeromq2-1/issues</a> and put a link to your example?</div>
<div class="line">[Monday 21 March 2011] [14:44:33] &lt;drbobbeaty&gt;        (same gist used on both machines)</div>
<div class="line">[Monday 21 March 2011] [14:45:01] &lt;drbobbeaty&gt;        I&#8217;ve never done that. I&#8217;ll try. I&#8217;ll be as complete as I can be.</div>
<div class="line">[Monday 21 March 2011] [14:45:26] &lt;pieterh&gt;   interesting... when I build 2.1.3 with pgm, the test program says &#8216;sending...&#8217; in a loop</div>
<div class="line">[Monday 21 March 2011] [14:45:30] &lt;pieterh&gt;   it doesn&#8217;t crash</div>
<div class="line">[Monday 21 March 2011] [14:45:45] &lt;drbobbeaty&gt;        Ha... I saw that once, but then when I tried it again, it failed.</div>
<div class="line">[Monday 21 March 2011] [14:45:59] &lt;pieterh&gt;   ok, will try a few times... this is Ubuntu 10.10 fwiw</div>
<div class="line">[Monday 21 March 2011] [14:46:04] &lt;drbobbeaty&gt;        The correct behavior is to see the &#8220;sending...&#8221; in a loop. (until a Ctrl-C)</div>
<div class="line">[Monday 21 March 2011] [14:46:20] &lt;pieterh&gt;   yes, that&#8217;s what I get</div>
<div class="line">[Monday 21 March 2011] [14:46:25] &lt;pieterh&gt;   doing a naive build</div>
<div class="line">[Monday 21 March 2011] [14:46:46] &lt;pieterh&gt;   so... I&#8217;m suspecting you have a conflict between versions of OpenPGM on your systems</div>
<div class="line">[Monday 21 March 2011] [14:47:10] &lt;pieterh&gt;   or some such mix caused by the upgrade of the OpenPGM version in this package</div>
<div class="line">[Monday 21 March 2011] [14:48:09] &lt;pieterh&gt;   drbobbeaty: have you enabled core dumps (&#8216;ulimit unlimited&#8217;)?</div>
<div class="line">[Monday 21 March 2011] [14:48:09] &lt;drbobbeaty&gt;        Yeah, I&#8217;m going to check on that now. Thanks for showing that it might be me.</div>
<div class="line">[Monday 21 March 2011] [14:48:26] &lt;pieterh&gt;   when you get an assertion failure, you need to get the backtrace</div>
<div class="line">[Monday 21 March 2011] [14:52:19] &lt;drbobbeaty&gt;        pieterh: got the backtrace.</div>
<div class="line">[Monday 21 March 2011] [14:52:45] &lt;drbobbeaty&gt;        I&#8217;ll include it if I can&#8217;t clean up the problem with a drop and load of all the ZMQ libraries on the box.</div>
<div class="line">[Monday 21 March 2011] [14:52:49] &lt;pieterh&gt;   cool... actually, you can log the issue in the development git, <a class="reference external" href="https://github.com/zeromq/zeromq2">https://github.com/zeromq/zeromq2</a>, it&#8217;ll be the same</div>
<div class="line">[Monday 21 March 2011] [14:53:04] &lt;pieterh&gt;   please, do log the assertion and backtrace, it may be useful info</div>
<div class="line">[Monday 21 March 2011] [14:56:51] &lt;sustrik&gt;   yuck, the change should have gone to master first</div>
<div class="line">[Monday 21 March 2011] [15:01:59] &lt;pieterh&gt;   sustrik: no-one would have tested it there, and it&#8217;s not clear that it&#8217;s caused by a code change</div>
<div class="line">[Monday 21 March 2011] [15:03:17] &lt;pieterh&gt;   I&#8217;d rather see valuable code delivered fast, and fixed fast, than held back...</div>
<div class="line">[Monday 21 March 2011] [15:04:52] &lt;cremes&gt;    after using git-bisect, it tells me that this is the first bad commit</div>
<div class="line">[Monday 21 March 2011] [15:04:53] &lt;cremes&gt;    32ded2b457b2102dba4c15e00363f031d212b1c4</div>
<div class="line">[Monday 21 March 2011] [15:05:01] &lt;cremes&gt;    Duplicate identities now checked with zmq_connect</div>
<div class="line">[Monday 21 March 2011] [15:05:19] &lt;cremes&gt;    this commit touched quite a bit of code too</div>
<div class="line">[Monday 21 March 2011] [15:05:42] &lt;cremes&gt;    pieterh: want me to open an issue against master?</div>
<div class="line">[Monday 21 March 2011] [15:05:47] &lt;pieterh&gt;   cremes: yes, please</div>
<div class="line">[Monday 21 March 2011] [15:05:49] &lt;cremes&gt;    i don&#8217;t have a small repro</div>
<div class="line">[Monday 21 March 2011] [15:06:00] &lt;pieterh&gt;   it&#8217;ll be the same issue in master and in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [15:06:10] &lt;sustrik&gt;   how come it is in stable?</div>
<div class="line">[Monday 21 March 2011] [15:06:16] &lt;sustrik&gt;   it&#8217;s an untested patch</div>
<div class="line">[Monday 21 March 2011] [15:06:23] &lt;pieterh&gt;   sustrik: because we apply all patches to stable automatically</div>
<div class="line">[Monday 21 March 2011] [15:06:31] &lt;pieterh&gt;   there is no other process for defining what&#8217;s &#8220;tested&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:06:47] &lt;pieterh&gt;   no other way except real use, since we lack comprehensive test coverage</div>
<div class="line">[Monday 21 March 2011] [15:07:18] &lt;sustrik&gt;   mail from March 16th: &#8220;This patch solves issue 176. However, it was not yet tested thoroughly so it should be applied to stable later on, when it&#8217;s clear it doesn&#8217;t introduce new bugs.&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:07:32] &lt;pieterh&gt;   ah, then that is not in stable</div>
<div class="line">[Monday 21 March 2011] [15:07:42] &lt;pieterh&gt;   cremes is testing against development master</div>
<div class="line">[Monday 21 March 2011] [15:07:59] &lt;sustrik&gt;   ok, good</div>
<div class="line">[Monday 21 March 2011] [15:08:00] &lt;pieterh&gt;   if you tell me to hold back a patch I do so, of course</div>
<div class="line">[Monday 21 March 2011] [15:08:13] &lt;pieterh&gt;   np</div>
<div class="line">[Monday 21 March 2011] [15:08:14] &lt;cremes&gt;    <a class="reference external" href="https://github.com/zeromq/zeromq2/issues/181">https://github.com/zeromq/zeromq2/issues/181</a></div>
<div class="line">[Monday 21 March 2011] [15:08:23] &lt;sustrik&gt;   cremes: thx</div>
<div class="line">[Monday 21 March 2011] [15:08:33] &lt;pieterh&gt;   cremes, just for sanity, can you confirm the problem does _not_ happen on 2.1.3?</div>
<div class="line">[Monday 21 March 2011] [15:08:47] &lt;cremes&gt;    sure; i will download it and confirm</div>
<div class="line">[Monday 21 March 2011] [15:08:50] &lt;pieterh&gt;   much appreciated</div>
<div class="line">[Monday 21 March 2011] [15:10:14] &lt;FlaPer87&gt;  In case anyone is interested and willing to contribute: <a class="reference external" href="https://github.com/FlaPer87/asterisk-zmq-manager">https://github.com/FlaPer87/asterisk-zmq-manager</a></div>
<div class="line">[Monday 21 March 2011] [15:12:08] &lt;mikko&gt;     pieterh: am now</div>
<div class="line">[Monday 21 March 2011] [15:12:44] &lt;pieterh&gt;   mikko: possibly a false alarm, we found what might be a problem with OpenPGM in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [15:13:09] &lt;pieterh&gt;   drbobbeaty is seeing if it&#8217;s caused by library confusion on his systems</div>
<div class="line">[Monday 21 March 2011] [15:13:39] &lt;pieterh&gt;   anyhow, pgm example that worked with 2.1.2 fails with 2.1.3... on my system it works fine</div>
<div class="line">[Monday 21 March 2011] [15:14:39] &lt;mikko&gt;     zfl tests failed as well it seems</div>
<div class="line">[Monday 21 March 2011] [15:14:44] &lt;pieterh&gt;   FlaPer87: line 412 is lacking &#8216;zmq_msg_close (&amp;message);&#8217;</div>
<div class="line">[Monday 21 March 2011] [15:14:56] &lt;mikko&gt;     hmm, is there a way to test OpenPGM functionally easily?</div>
<div class="line">[Monday 21 March 2011] [15:15:10] &lt;pieterh&gt;   mikko: fixed that, was some old 2.0 code that magically continued to work on 2.1...</div>
<div class="line">[Monday 21 March 2011] [15:15:18] &lt;mikko&gt;     i kinda rely on Steven on that as I have no means on testing with any sort of wates</div>
<div class="line">[Monday 21 March 2011] [15:15:22] &lt;pieterh&gt;   yeah</div>
<div class="line">[Monday 21 March 2011] [15:15:28] &lt;mikko&gt;     rates*</div>
<div class="line">[Monday 21 March 2011] [15:15:51] &lt;pieterh&gt;   we have some pgm-capable material at iMatix in Slovakia but it&#8217;s not configured any longer</div>
<div class="line">[Monday 21 March 2011] [15:16:28] &lt;FlaPer87&gt;  pieterh opps, thanks</div>
<div class="line">[Monday 21 March 2011] [15:16:45] &lt;mikko&gt;     so the openpgm is a false alarm?</div>
<div class="line">[Monday 21 March 2011] [15:16:53] &lt;pieterh&gt;   FlaPer87: try running under valgrind, you&#8217;ll catch memory leaks like that</div>
<div class="line">[Monday 21 March 2011] [15:17:10] &lt;pieterh&gt;   mikko: don&#8217;t know yet, could be a build issue we&#8217;ve not hit before</div>
<div class="line">[Monday 21 March 2011] [15:17:22] &lt;mikko&gt;     what OS is drbobbeaty running?</div>
<div class="line">[Monday 21 March 2011] [15:17:26] &lt;FlaPer87&gt;  pieterh indeed, I will</div>
<div class="line">[Monday 21 March 2011] [15:17:29] &lt;FlaPer87&gt;  thanks :)</div>
<div class="line">[Monday 21 March 2011] [15:17:37] &lt;pieterh&gt;   Ubuntu and CentOS</div>
<div class="line">[Monday 21 March 2011] [15:17:42] &lt;drbobbeaty&gt;        mikko: Ubuntu 10.04.1 and CentOS 5</div>
<div class="line">[Monday 21 March 2011] [15:17:50] &lt;mikko&gt;     drbobbeaty: both fail?</div>
<div class="line">[Monday 21 March 2011] [15:18:00] &lt;drbobbeaty&gt;        Yup</div>
<div class="line">[Monday 21 March 2011] [15:19:22] &lt;mikko&gt;     drbobbeaty: it&#8217;s supposed to link against libtool convenience archive</div>
<div class="line">[Monday 21 March 2011] [15:19:30] &lt;mikko&gt;     libpgm_noinst.la</div>
<div class="line">[Monday 21 March 2011] [15:19:40] &lt;mikko&gt;     which just contains a set of object files</div>
<div class="line">[Monday 21 March 2011] [15:20:12] &lt;mikko&gt;     libpgm.so should not be used when building with zeromq</div>
<div class="line">[Monday 21 March 2011] [15:20:57] &lt;drbobbeaty&gt;        OK, that&#8217;s news. In the past (2.1.2), I used the &#8216;-lzmq&#8217; and it worked just fine with the ZMQ shared lib. Is this not supported in 2.1.3?</div>
<div class="line">[Monday 21 March 2011] [15:21:21] &lt;mikko&gt;     that should work fine</div>
<div class="line">[Monday 21 March 2011] [15:22:07] &lt;pieterh&gt;   fwiw I&#8217;ve done &#8216;g++ xmit.cpp -o xmit -lzmq&#8217; and the test case runs fine on my Ubuntu box</div>
<div class="line">[Monday 21 March 2011] [15:22:58] &lt;mikko&gt;     the convenience libtool archive is just a bunch of object files</div>
<div class="line">[Monday 21 March 2011] [15:23:08] &lt;mikko&gt;     and zeromq uses that rather than the .c files directly</div>
<div class="line">[Monday 21 March 2011] [15:23:43] &lt;mikko&gt;     in theory (unless there is some libtool weirdness going on) there should be no change how things work</div>
<div class="line">[Monday 21 March 2011] [15:23:56] &lt;Guest31294&gt;        in theory, everything always works.</div>
<div class="line">[Monday 21 March 2011] [15:24:40] &lt;cremes&gt;    pieterh: no assertion when using the 2.1.3 release, so that&#8217;s a good sign</div>
<div class="line">[Monday 21 March 2011] [15:25:02] &lt;pieterh&gt;   cremes: thanks for testing that, it means our ad-hoc change flow process is working ... :-)</div>
<div class="line">[Monday 21 March 2011] [15:25:02] &lt;drbobbeaty&gt;        mikko: I certainly hope that&#8217;s the case, but up to know I&#8217;ve had a ton of counter-examples staring me in the face. I&#8217;ll try to clean up things here and see if I can get it back to what works.</div>
<div class="line">[Monday 21 March 2011] [15:25:49] &lt;mikko&gt;     is there a test code i can run for this openpgm thing?</div>
<div class="line">[Monday 21 March 2011] [15:26:15] &lt;pieterh&gt;   mikko: <a class="reference external" href="https://gist.github.com/635015">https://gist.github.com/635015</a></div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     Initialization complete.</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:25] &lt;mikko&gt;     and so o n</div>
<div class="line">[Monday 21 March 2011] [15:28:32] &lt;mikko&gt;     is that the expected result?</div>
<div class="line">[Monday 21 March 2011] [15:29:42] &lt;drbobbeaty&gt;        mikko: yes.</div>
<div class="line">[Monday 21 March 2011] [15:30:09] &lt;drbobbeaty&gt;        What I&#8217;m getting is the &#8220;Assertion failed: rc == 0 (connect_session.cpp:84)&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:30:38] &lt;mikko&gt;     just in case i did rm /path/to/lib/libpgm*</div>
<div class="line">[Monday 21 March 2011] [15:30:43] &lt;mikko&gt;     and the example still runs</div>
<div class="line">[Monday 21 March 2011] [15:30:58] &lt;mikko&gt;     can you put nm /path/to/libzmq.so to gist.github.com?</div>
<div class="line">[Monday 21 March 2011] [15:31:03] &lt;mikko&gt;     and ldd /path/to/libzmq.so</div>
<div class="line">[Monday 21 March 2011] [15:32:26] &lt;pieterh&gt;   mikko: my guess is that drbobbeaty&#8217;s two systems have old versions of OpenPGM which is causing a problem</div>
<div class="line">[Monday 21 March 2011] [15:33:33] &lt;pieterh&gt;   drbobbeaty: any chance you can test on a virgin box? at least one you didn&#8217;t build on before?</div>
<div class="line">[Monday 21 March 2011] [15:33:39] &lt;drbobbeaty&gt;        pieterh: I didn&#8217;t have any old version of OpenPGM as I never had it until ZMQ. In 2.1.2 it was contained within the libzmq.so - with 2.1.3, it appeared that it was external. Now I see it wasn&#8217;t external at all, just optionally external.</div>
<div class="line">[Monday 21 March 2011] [15:34:04] &lt;pieterh&gt;   hmm... indeed</div>
<div class="line">[Monday 21 March 2011] [15:34:13] &lt;drbobbeaty&gt;        pieterh: I&#8217;m certainly working on all these ideas. As fast as I can.</div>
<div class="line">[Monday 21 March 2011] [15:34:25] &lt;drbobbeaty&gt;        I would like to believe it&#8217;s as simple as a bad version.</div>
<div class="line">[Monday 21 March 2011] [15:34:59] &lt;mikko&gt;     i would be keen on getting openpgm into daily builds somehow</div>
<div class="line">[Monday 21 March 2011] [15:35:10] &lt;mikko&gt;     that way we can see if the actual functionality ever breaks</div>
<div class="line">[Monday 21 March 2011] [15:35:58] &lt;pieterh&gt;   hmm, that would be very nice</div>
<div class="line">[Monday 21 March 2011] [15:37:16] &lt;mikko&gt;     drbobbeaty: can you paste nm output of libzmq.so ?</div>
<div class="line">[Monday 21 March 2011] [15:42:47] &lt;drbobbeaty&gt;        Yes, just need a bit. I&#8217;m trying to change the RPM packaging to remove the OpenPGM libraries and headers to make it cleaner as to what&#8217;s really being installed.</div>
<div class="line">[Monday 21 March 2011] [15:46:13] &lt;drbobbeaty&gt;        mikko: when I run: &#8216;nm /usr/lib64/libzmq.so.1&#8217; I get:</div>
<div class="line">[Monday 21 March 2011] [15:46:24] &lt;drbobbeaty&gt;        nm: /usr/lib64/libzmq.so.1: no symbols</div>
<div class="line">[Monday 21 March 2011] [15:47:01] &lt;drbobbeaty&gt;        I have cleaned up my RPMs and they are now built as zeromq, zeromq-devel and zeromq-pgm - where the latter has just the OpenPGM libs and headers.</div>
<div class="line">[Monday 21 March 2011] [15:47:24] &lt;drbobbeaty&gt;        Even after removing everything on my box related to ZMQ, and putting these new RPMs on, I get the assertion.</div>
<div class="line">[Monday 21 March 2011] [15:47:47] &lt;mikko&gt;     let me install a clean ubuntu VM</div>
<div class="line">[Monday 21 March 2011] [15:47:49] &lt;mikko&gt;     sec</div>
<div class="line">[Monday 21 March 2011] [15:55:24] &lt;mikko&gt;     drbobbeaty: i removed my installation of libzmq completely, rebuilt</div>
<div class="line">[Monday 21 March 2011] [15:55:40] &lt;mikko&gt;     rebuilt the xmit.cpp and ran with LD_LIBRARY_PATH</div>
<div class="line">[Monday 21 March 2011] [15:55:45] &lt;mikko&gt;     it seems to work ok</div>
<div class="line">[Monday 21 March 2011] [15:56:12] &lt;mikko&gt;     i&#8217;ll make an install-exec-hook patch later so that people dont get confused with libpgm.so</div>
<div class="line">[Monday 21 March 2011] [15:56:28] &lt;mikko&gt;     i dont think there is a way to force autotools not to install it</div>
<div class="line">[Monday 21 March 2011] [15:56:33] &lt;mikko&gt;     brb</div>
<div class="line">[Monday 21 March 2011] [15:56:37] &lt;drbobbeaty&gt;        mikko: Thanks for the checking... I&#8217;m getting convinced it&#8217;s now I have it built, but it&#8217;s not at all clear why the way I build it from 2.1.2 to 2.1.3 causes these issues. I&#8217;ve had many upgrades in this process.</div>
<div class="line">[Monday 21 March 2011] [15:58:05] &lt;mikko&gt;     drbobbeaty: i will install clean ubuntu vm later and test</div>
<div class="line">[Monday 21 March 2011] [15:58:14] &lt;mikko&gt;     it&#8217;s worrying if this actually fails for anyone</div>
<div class="line">[Monday 21 March 2011] [15:59:16] &lt;pieterh&gt;   drbobbeaty: can you post an issue with the assert and backtrace?</div>
<div class="line">[Monday 21 March 2011] [15:59:30] &lt;drbobbeaty&gt;        mikko: I&#8217;m troubled by what I&#8217;m seeing, and I fear it&#8217;s in the building. I&#8217;m going to see if I can build it without the RPM structure if it works. I&#8217;m guessing that&#8217;s how you guys are all doing it. Just &#8216;configure &#8211;with-pgm&#8217; - right?</div>
<div class="line">[Monday 21 March 2011] [15:59:39] &lt;pieterh&gt;   it may be possible to figure out what&#8217;s happening from that</div>
<div class="line">[Monday 21 March 2011] [15:59:45] &lt;pieterh&gt;   drbobbeaty: yes</div>
<div class="line">[Monday 21 March 2011] [16:00:02] &lt;drbobbeaty&gt;        pieterh: OK, trying that now</div>
<div class="line">[Monday 21 March 2011] [16:00:16] &lt;pieterh&gt;   just as explained in the docs; configure; make; sudo make install; sudo ldconfig</div>
<div class="line">[Monday 21 March 2011] [16:00:24] &lt;pieterh&gt;   &#8211;with-pgm, then</div>
<div class="line">[Monday 21 March 2011] [16:00:38] &lt;mikko&gt;     drbobbeaty: yes</div>
<div class="line">[Monday 21 March 2011] [16:01:24] &lt;mikko&gt;     drbobbeaty: it&#8217;s possible that the build breaks if for example RPM does something very weird</div>
<div class="line">[Monday 21 March 2011] [16:01:41] &lt;mikko&gt;     i think install-exec-hook should allow cleaning the libpgm stuff</div>
<div class="line">[Monday 21 March 2011] [16:01:46] &lt;drbobbeaty&gt;        mikko: it&#8217;s the same spec file that ships with the package.</div>
<div class="line">[Monday 21 March 2011] [16:02:02] &lt;mikko&gt;     drbobbeaty: i know, i don&#8217;t think it&#8217;s very actively checked (it seems)</div>
<div class="line">[Monday 21 March 2011] [16:02:29] &lt;mikko&gt;     i had RPM builds running earlier but it was in a chroot which was really slow</div>
<div class="line">[Monday 21 March 2011] [16:02:43] &lt;mikko&gt;     if there are actually RPM users i could install centos VM for rpm packaging</div>
<div class="line">[Monday 21 March 2011] [16:02:48] &lt;pieterh&gt;   drbobbeaty: I see at least one problem with the spec file in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [16:02:59] &lt;mikko&gt;     so that the packaging gets tested regurly as well</div>
<div class="line">[Monday 21 March 2011] [16:03:10] &lt;pieterh&gt;   it <em>might</em> be causing corrupted RPMs...</div>
<div class="line">[Monday 21 March 2011] [16:03:13] &lt;mikko&gt;     now i need to run for a min -&gt;</div>
<div class="line">[Monday 21 March 2011] [16:03:50]      * pieterh hates hand-generated build files...</div>
<div class="line">[Monday 21 March 2011] [16:06:09] &lt;pieterh&gt;   drbobbeaty: if you want a fixed spec file, <a class="reference external" href="https://gist.github.com/880103">https://gist.github.com/880103</a> should be better</div>
<div class="line">[Monday 21 March 2011] [16:06:23] &lt;pieterh&gt;   I doubt this could cause the test program to crash but you never know</div>
<div class="line">[Monday 21 March 2011] [16:06:37] &lt;<a href="#id670"><span class="problematic" id="id671">flexo_</span></a>&gt;    hey. as i didnt find an answer to my question in either the guide, reference or faq (well, actually the lack of an answer might be an answer...) here it goes: does zmq support unreliable transport? (pure udp unicast/multicast)</div>
<div class="line">[Monday 21 March 2011] [16:06:46] &lt;pieterh&gt;   <a href="#id672"><span class="problematic" id="id673">flexo_</span></a>: nope</div>
<div class="line">[Monday 21 March 2011] [16:07:07] &lt;<a href="#id674"><span class="problematic" id="id675">flexo_</span></a>&gt;    any plans to add support for it?</div>
<div class="line">[Monday 21 March 2011] [16:07:15] &lt;pieterh&gt;   <a href="#id676"><span class="problematic" id="id677">flexo_</span></a>: feel free to send us a patch...</div>
<div class="line">[Monday 21 March 2011] [16:07:24] &lt;<a href="#id678"><span class="problematic" id="id679">flexo_</span></a>&gt;    :)</div>
<div class="line">[Monday 21 March 2011] [16:07:37] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [16:08:04] &lt;drbobbeaty&gt;        pieterh: what changed? Something small, or a lot of things?</div>
<div class="line">[Monday 21 March 2011] [16:08:17] &lt;pieterh&gt;   drbobbeaty: in the spec file, removal of the stand-alone device programs</div>
<div class="line">[Monday 21 March 2011] [16:08:28] &lt;pieterh&gt;   in the core library, OpenPGM integration and a lot of small patches</div>
<div class="line">[Monday 21 March 2011] [16:08:37] &lt;pieterh&gt;   it&#8217;s in the NEWS and ChangeLog</div>
<div class="line">[Monday 21 March 2011] [16:08:48] &lt;pieterh&gt;   except the spec file, which I forgot to fix until just now</div>
<div class="line">[Monday 21 March 2011] [16:09:22] &lt;<a href="#id680"><span class="problematic" id="id681">flexo_</span></a>&gt;    seriously, would it fit into zmq&#8217;s design.. purpose.. whatever? (looks to me like quite some work was done to _guarantee_ that the messages arrive...)</div>
<div class="line">[Monday 21 March 2011] [16:09:41] &lt;pieterh&gt;   <a href="#id682"><span class="problematic" id="id683">flexo_</span></a>: it could be useful for certain apps, yes</div>
<div class="line">[Monday 21 March 2011] [16:09:59] &lt;<a href="#id684"><span class="problematic" id="id685">flexo_</span></a>&gt;    for example in the app i have in mind :)</div>
<div class="line">[Monday 21 March 2011] [16:10:15] &lt;pieterh&gt;   yeah, when real time performance is more important than reliability</div>
<div class="line">[Monday 21 March 2011] [16:10:21] &lt;<a href="#id686"><span class="problematic" id="id687">flexo_</span></a>&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [16:10:42] &lt;pieterh&gt;   seriously, if you need it, and if you can write C++, it should be doable</div>
<div class="line">[Monday 21 March 2011] [16:10:49] &lt;<a href="#id688"><span class="problematic" id="id689">flexo_</span></a>&gt;    but there are also certain kinds of messages which must arrive intact, hence having something like zmq for that kind of stuff would be nice</div>
<div class="line">[Monday 21 March 2011] [16:10:49] &lt;pieterh&gt;   transports are pluggable in 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:11:02] &lt;pieterh&gt;   you can use different sockets for different QoS</div>
<div class="line">[Monday 21 March 2011] [16:11:22] &lt;<a href="#id690"><span class="problematic" id="id691">flexo_</span></a>&gt;    pieterh: assuming that i am a c++ wizard, how long would think it would take me to do it?</div>
<div class="line">[Monday 21 March 2011] [16:11:39] &lt;<a href="#id692"><span class="problematic" id="id693">flexo_</span></a>&gt;    (i know zmq for 10 minutes :)</div>
<div class="line">[Monday 21 March 2011] [16:11:40] &lt;pieterh&gt;   if you also know UDP, 1 day to get it working, 2-3 more days to get it working real nice</div>
<div class="line">[Monday 21 March 2011] [16:12:02] &lt;<a href="#id694"><span class="problematic" id="id695">flexo_</span></a>&gt;    alright</div>
<div class="line">[Monday 21 March 2011] [16:12:33] &lt;pieterh&gt;   you start by asking the question on the list, &#8220;I intend to add UDP support, please tell me what files to create / modify&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:12:59] &lt;<a href="#id696"><span class="problematic" id="id697">flexo_</span></a>&gt;    im pretty confident i can figure it out by myself...</div>
<div class="line">[Monday 21 March 2011] [16:13:03] &lt;pieterh&gt;   we&#8217;ll help package it all (docs, etc.) afterwards</div>
<div class="line">[Monday 21 March 2011] [16:13:14] &lt;pieterh&gt;   well, take a look at pgm integration as an example</div>
<div class="line">[Monday 21 March 2011] [16:13:20]      * <a href="#id698"><span class="problematic" id="id699">flexo_</span></a> nods</div>
<div class="line">[Monday 21 March 2011] [16:13:37] &lt;pieterh&gt;   actually I should point out that it&#8217;s technically impossible</div>
<div class="line">[Monday 21 March 2011] [16:13:46] &lt;<a href="#id700"><span class="problematic" id="id701">flexo_</span></a>&gt;    uhm?</div>
<div class="line">[Monday 21 March 2011] [16:13:49] &lt;pieterh&gt;   no-one has ever done this before, make 0MQ work with UDP</div>
<div class="line">[Monday 21 March 2011] [16:13:55] &lt;pieterh&gt;   therefore it&#8217;s impossible</div>
<div class="line">[Monday 21 March 2011] [16:13:59] &lt;pieterh&gt;   and perhaps even illegal</div>
<div class="line">[Monday 21 March 2011] [16:14:01] &lt;<a href="#id702"><span class="problematic" id="id703">flexo_</span></a>&gt;    i see :(</div>
<div class="line">[Monday 21 March 2011] [16:14:01] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [16:14:12] &lt;<a href="#id704"><span class="problematic" id="id705">flexo_</span></a>&gt;    just fyi: the app i have in mind would be a flight simulation visual</div>
<div class="line">[Monday 21 March 2011] [16:14:37] &lt;pieterh&gt;   <a href="#id706"><span class="problematic" id="id707">flexo_</span></a>: I&#8217;m kidding, you&#8217;d be the first person to try it</div>
<div class="line">[Monday 21 March 2011] [16:14:58] &lt;<a href="#id708"><span class="problematic" id="id709">flexo_</span></a>&gt;    i.e. several render boxes which receive telemetry via multicast</div>
<div class="line">[Monday 21 March 2011] [16:15:04] &lt;pieterh&gt;   yes, excellent use case</div>
<div class="line">[Monday 21 March 2011] [16:15:09] &lt;<a href="#id710"><span class="problematic" id="id711">flexo_</span></a>&gt;    (which must get the data really fast. ;)</div>
<div class="line">[Monday 21 March 2011] [16:15:18] &lt;pieterh&gt;   but doesn&#8217;t mind if there&#8217;s some breakage</div>
<div class="line">[Monday 21 March 2011] [16:15:45] &lt;drbobbeaty&gt;        mikko: why are you passing in &#8216;&#8211;prefix=/usr/local&#8217; to the OpenPGM configure script within the main configure script? Isn&#8217;t that assuming that I&#8217;m putting it there? I&#8217;m not.</div>
<div class="line">[Monday 21 March 2011] [16:15:48] &lt;<a href="#id712"><span class="problematic" id="id713">flexo_</span></a>&gt;    (and otoh there is some stuff which must arrive, although it doesnt matter if the latency is somewhat higher, i.e. you change the scenario, daytime, etc.)</div>
<div class="line">[Monday 21 March 2011] [16:16:08] &lt;<a href="#id714"><span class="problematic" id="id715">flexo_</span></a>&gt;    add a new entity into the simulation, that kind of stuff</div>
<div class="line">[Monday 21 March 2011] [16:16:16] &lt;pieterh&gt;   yeah, it&#8217;s like VoIP</div>
<div class="line">[Monday 21 March 2011] [16:16:23] &lt;pieterh&gt;   mix of reliable and unreliable patterns</div>
<div class="line">[Monday 21 March 2011] [16:16:42] &lt;pieterh&gt;   UDP would make a great addition</div>
<div class="line">[Monday 21 March 2011] [16:17:04] &lt;pieterh&gt;   but impossible and perhaps even illegal, so don&#8217;t tell anyone...</div>
<div class="line">[Monday 21 March 2011] [16:17:04] &lt;<a href="#id716"><span class="problematic" id="id717">flexo_</span></a>&gt;    i was about to make up some protocol using a mix of tcp and multicast udp myself.. but i suppose it might be less work to just add unreliable transport support to zmq</div>
<div class="line">[Monday 21 March 2011] [16:17:09] &lt;<a href="#id718"><span class="problematic" id="id719">flexo_</span></a>&gt;    sure</div>
<div class="line">[Monday 21 March 2011] [16:17:39] &lt;pieterh&gt;   well, advantage of layering it under zmq is you get access to nice semantics on top</div>
<div class="line">[Monday 21 March 2011] [16:17:44] &lt;<a href="#id720"><span class="problematic" id="id721">flexo_</span></a>&gt;    its even intended for military usage so its morally nasty too</div>
<div class="line">[Monday 21 March 2011] [16:17:45] &lt;pieterh&gt;   plus APIs in lots of languages</div>
<div class="line">[Monday 21 March 2011] [16:17:51] &lt;pieterh&gt;   morally nasty, I love it</div>
<div class="line">[Monday 21 March 2011] [16:18:03] &lt;pieterh&gt;   I mean, terrible, terrible stuff...</div>
<div class="line">[Monday 21 March 2011] [16:18:16] &lt;<a href="#id722"><span class="problematic" id="id723">flexo_</span></a>&gt;    yes, and the zmq API looks really nice</div>
<div class="line">[Monday 21 March 2011] [16:18:25] &lt;<a href="#id724"><span class="problematic" id="id725">flexo_</span></a>&gt;    and well-looking APIs are rare :)</div>
<div class="line">[Monday 21 March 2011] [16:18:45] &lt;pieterh&gt;   it&#8217;s going to get polished some more for v3.0</div>
<div class="line">[Monday 21 March 2011] [16:19:44] &lt;<a href="#id726"><span class="problematic" id="id727">flexo_</span></a>&gt;    a far-fetching thought here... is there some project providing some highlevel RPC mechanisms on-top of zmq? (think CORBA)</div>
<div class="line">[Monday 21 March 2011] [16:21:45] &lt;pieterh&gt;   <a href="#id728"><span class="problematic" id="id729">flexo_</span></a>: see the Guide, Chapter 4</div>
<div class="line">[Monday 21 March 2011] [16:21:57] &lt;pieterh&gt;   there are a whole set of RPC-like patterns built on top of 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:22:11] &lt;pieterh&gt;   plus sample code and protocol specs</div>
<div class="line">[Monday 21 March 2011] [16:22:21] &lt;pieterh&gt;   not CORBA, though</div>
<div class="line">[Monday 21 March 2011] [16:22:24] &lt;pieterh&gt;   rather more 2011</div>
<div class="line">[Monday 21 March 2011] [16:23:07] &lt;<a href="#id730"><span class="problematic" id="id731">flexo_</span></a>&gt;    chapter 4? reliable request-reply?</div>
<div class="line">[Monday 21 March 2011] [16:23:15] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [16:23:25] &lt;<a href="#id732"><span class="problematic" id="id733">flexo_</span></a>&gt;    i realize that you can do all that stuff on-top of zmq</div>
<div class="line">[Monday 21 March 2011] [16:23:38] &lt;<a href="#id734"><span class="problematic" id="id735">flexo_</span></a>&gt;    but an ORB actually _does_ provide some pretty nice stuff</div>
<div class="line">[Monday 21 March 2011] [16:24:34] &lt;pieterh&gt;   specifically...?</div>
<div class="line">[Monday 21 March 2011] [16:24:50] &lt;pieterh&gt;   not that I&#8217;m disagreeing, just curious to what you mean</div>
<div class="line">[Monday 21 March 2011] [16:25:42] &lt;<a href="#id736"><span class="problematic" id="id737">flexo_</span></a>&gt;    well, the basic thing would be the IDL compiler - more advanced stuff would be object keys, activation / incarnation, etc.</div>
<div class="line">[Monday 21 March 2011] [16:26:03] &lt;<a href="#id738"><span class="problematic" id="id739">flexo_</span></a>&gt;    its pretty easy to do distributed garbage collected servants</div>
<div class="line">[Monday 21 March 2011] [16:26:41] &lt;pieterh&gt;   i prefer garbage collecting servants</div>
<div class="line">[Monday 21 March 2011] [16:26:49] &lt;pieterh&gt;   actually have no idea what those terms mean</div>
<div class="line">[Monday 21 March 2011] [16:26:53] &lt;<a href="#id740"><span class="problematic" id="id741">flexo_</span></a>&gt;    well</div>
<div class="line">[Monday 21 March 2011] [16:27:01] &lt;<a href="#id742"><span class="problematic" id="id743">flexo_</span></a>&gt;    take a virtual filesystem for example</div>
<div class="line">[Monday 21 March 2011] [16:27:16] &lt;pieterh&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [16:27:17] &lt;<a href="#id744"><span class="problematic" id="id745">flexo_</span></a>&gt;    built using interfaces like IStream, IFile, etc.</div>
<div class="line">[Monday 21 March 2011] [16:27:25] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [16:27:38] &lt;<a href="#id746"><span class="problematic" id="id747">flexo_</span></a>&gt;    you can connect to any component in our application, no matter where it runs and ask it to open a file for you</div>
<div class="line">[Monday 21 March 2011] [16:27:49] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [16:28:04] &lt;<a href="#id748"><span class="problematic" id="id749">flexo_</span></a>&gt;    it provides transparent encryption / decryption, there is a key ring manager which asks the user for passwords, etc.</div>
<div class="line">[Monday 21 March 2011] [16:28:36] &lt;pieterh&gt;   this can all be layered on top of 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:28:54] &lt;<a href="#id750"><span class="problematic" id="id751">flexo_</span></a>&gt;    the ORB provides me with the means to implement something like this in a nice object-oriented manner without writing lots of the low-level management code</div>
<div class="line">[Monday 21 March 2011] [16:29:38] &lt;<a href="#id752"><span class="problematic" id="id753">flexo_</span></a>&gt;    so i just say &#8220;give me a POA with this policy&#8221;, i put the filename into the object key, my servant manager gets invoked when someone wants to invoke a ::read() on the the stream</div>
<div class="line">[Monday 21 March 2011] [16:29:40] &lt;mikko&gt;     drbobbeaty: autotools probably pass down prefix automatically</div>
<div class="line">[Monday 21 March 2011] [16:30:05] &lt;pieterh&gt;   POA = piece of action? sorry, the jargon is not familiar to me</div>
<div class="line">[Monday 21 March 2011] [16:30:50] &lt;pieterh&gt;   so why are no companies making money from ORBs any more?</div>
<div class="line">[Monday 21 March 2011] [16:31:06] &lt;<a href="#id754"><span class="problematic" id="id755">flexo_</span></a>&gt;    portable object adapter.. an internal CORBA component which. hm..  is responsible for servants. it knows their servant manager and how to invoke methods on these servants</div>
<div class="line">[Monday 21 March 2011] [16:31:10] &lt;<a href="#id756"><span class="problematic" id="id757">flexo_</span></a>&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [16:31:15] &lt;<a href="#id758"><span class="problematic" id="id759">flexo_</span></a>&gt;    pieterh: dont get me wrong here</div>
<div class="line">[Monday 21 March 2011] [16:31:26] &lt;<a href="#id760"><span class="problematic" id="id761">flexo_</span></a>&gt;    CORBA heavily sucks in a lot of areas</div>
<div class="line">[Monday 21 March 2011] [16:31:36] &lt;pieterh&gt;   nah, I&#8217;m just curious, CORBA has always appeared to me as massively complex</div>
<div class="line">[Monday 21 March 2011] [16:31:48] &lt;pieterh&gt;   complex concepts, complex APIs, complex tools</div>
<div class="line">[Monday 21 March 2011] [16:31:52] &lt;<a href="#id762"><span class="problematic" id="id763">flexo_</span></a>&gt;    but most of its &#8220;complex&#8221; design actually makes sense</div>
<div class="line">[Monday 21 March 2011] [16:32:01] &lt;pieterh&gt;   sure, but that doesn&#8217;t mean much in the end</div>
<div class="line">[Monday 21 March 2011] [16:32:22] &lt;<a href="#id764"><span class="problematic" id="id765">flexo_</span></a>&gt;    actually</div>
<div class="line">[Monday 21 March 2011] [16:32:30] &lt;pieterh&gt;   sadly, a 100% complete solution that is 100x more complex than an 80% complete solution will not win</div>
<div class="line">[Monday 21 March 2011] [16:32:40] &lt;<a href="#id766"><span class="problematic" id="id767">flexo_</span></a>&gt;    well</div>
<div class="line">[Monday 21 March 2011] [16:32:44] &lt;<a href="#id768"><span class="problematic" id="id769">flexo_</span></a>&gt;    you definitly have a point there</div>
<div class="line">[Monday 21 March 2011] [16:32:50] &lt;pieterh&gt;   this is what I mean by 2011</div>
<div class="line">[Monday 21 March 2011] [16:32:53] &lt;<a href="#id770"><span class="problematic" id="id771">flexo_</span></a>&gt;    my company made money with an ORB i wrote couple of months ago</div>
<div class="line">[Monday 21 March 2011] [16:33:09] &lt;<a href="#id772"><span class="problematic" id="id773">flexo_</span></a>&gt;    but this ORB only implemented the features needed, so maybe it was like 70% conformant :)</div>
<div class="line">[Monday 21 March 2011] [16:33:17] &lt;pieterh&gt;   if you have customers for ORBs, you may enjoy using 0MQ as the transport</div>
<div class="line">[Monday 21 March 2011] [16:33:18] &lt;<a href="#id774"><span class="problematic" id="id775">flexo_</span></a>&gt;    (targeting embedded hardware)</div>
<div class="line">[Monday 21 March 2011] [16:33:41] &lt;<a href="#id776"><span class="problematic" id="id777">flexo_</span></a>&gt;    yea, im thinking about that</div>
<div class="line">[Monday 21 March 2011] [16:33:53] &lt;<a href="#id778"><span class="problematic" id="id779">flexo_</span></a>&gt;    im also thinking about replacing CORBA because it annoys me heavily...</div>
<div class="line">[Monday 21 March 2011] [16:33:57] &lt;pieterh&gt;   that&#8217;s how we see 0MQ, as a smart transport layer</div>
<div class="line">[Monday 21 March 2011] [16:34:10] &lt;<a href="#id780"><span class="problematic" id="id781">flexo_</span></a>&gt;    its very cumbersome to use, especially with the c++ mapping</div>
<div class="line">[Monday 21 March 2011] [16:34:11] &lt;pieterh&gt;   it&#8217;s never going to include IDLs and key managers</div>
<div class="line">[Monday 21 March 2011] [16:34:55] &lt;<a href="#id782"><span class="problematic" id="id783">flexo_</span></a>&gt;    do you think IDL compilers are bad in principle?</div>
<div class="line">[Monday 21 March 2011] [16:35:12] &lt;pieterh&gt;   no, just that data representation isn&#8217;t the job of the messaging fabric</div>
<div class="line">[Monday 21 March 2011] [16:35:19] &lt;<a href="#id784"><span class="problematic" id="id785">flexo_</span></a>&gt;    (i.e. the whole RPC idea which makes it look like a function/method call)</div>
<div class="line">[Monday 21 March 2011] [16:35:25] &lt;pieterh&gt;   for most purposes, JSON is fine</div>
<div class="line">[Monday 21 March 2011] [16:35:29] &lt;<a href="#id786"><span class="problematic" id="id787">flexo_</span></a>&gt;    i completely agree</div>
<div class="line">[Monday 21 March 2011] [16:35:34] &lt;pieterh&gt;   JSON is very 2011</div>
<div class="line">[Monday 21 March 2011] [16:35:40] &lt;<a href="#id788"><span class="problematic" id="id789">flexo_</span></a>&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [16:35:46] &lt;pieterh&gt;   totally cheap and nasty serialization that works for 80% of developers</div>
<div class="line">[Monday 21 March 2011] [16:35:54] &lt;<a href="#id790"><span class="problematic" id="id791">flexo_</span></a>&gt;    too nasty for my purposes</div>
<div class="line">[Monday 21 March 2011] [16:36:08] &lt;<a href="#id792"><span class="problematic" id="id793">flexo_</span></a>&gt;    the parsing overhead just...</div>
<div class="line">[Monday 21 March 2011] [16:36:09] &lt;<a href="#id794"><span class="problematic" id="id795">flexo_</span></a>&gt;    no</div>
<div class="line">[Monday 21 March 2011] [16:36:13] &lt;<a href="#id796"><span class="problematic" id="id797">flexo_</span></a>&gt;    it feels wrong.</div>
<div class="line">[Monday 21 March 2011] [16:36:22] &lt;pieterh&gt;   so you ideally want a JSON approach for low-volume cases, and smart binary framing for high-volume cases</div>
<div class="line">[Monday 21 March 2011] [16:36:44] &lt;pieterh&gt;   I&#8217;m also a fan of divide and conquer</div>
<div class="line">[Monday 21 March 2011] [16:36:45] &lt;<a href="#id798"><span class="problematic" id="id799">flexo_</span></a>&gt;    i dont really see the advantage of JSON over CDR</div>
<div class="line">[Monday 21 March 2011] [16:36:50] &lt;<a href="#id800"><span class="problematic" id="id801">flexo_</span></a>&gt;    CDR is very nice IMHO</div>
<div class="line">[Monday 21 March 2011] [16:36:56] &lt;pieterh&gt;   JSON requires no upfront thinking</div>
<div class="line">[Monday 21 March 2011] [16:37:13] &lt;<a href="#id802"><span class="problematic" id="id803">flexo_</span></a>&gt;    neighter does CDR if you are used to think of a struct like a damn struct in memory :)</div>
<div class="line">[Monday 21 March 2011] [16:37:25] &lt;pieterh&gt;   so why is no-one using CDR?</div>
<div class="line">[Monday 21 March 2011] [16:37:29] &lt;pieterh&gt;   I mean, the market decides</div>
<div class="line">[Monday 21 March 2011] [16:37:41] &lt;<a href="#id804"><span class="problematic" id="id805">flexo_</span></a>&gt;    pieterh: because CDR is deep within CORBA</div>
<div class="line">[Monday 21 March 2011] [16:37:44] &lt;<a href="#id806"><span class="problematic" id="id807">flexo_</span></a>&gt;    and CORBA scares people</div>
<div class="line">[Monday 21 March 2011] [16:37:48] &lt;pieterh&gt;   nah, because it&#8217;s a complex toolchain</div>
<div class="line">[Monday 21 March 2011] [16:37:59] &lt;<a href="#id808"><span class="problematic" id="id809">flexo_</span></a>&gt;    no, CDR is complety separete of everything</div>
<div class="line">[Monday 21 March 2011] [16:38:12] &lt;<a href="#id810"><span class="problematic" id="id811">flexo_</span></a>&gt;    its simply a binary data representation</div>
<div class="line">[Monday 21 March 2011] [16:38:28] &lt;<a href="#id812"><span class="problematic" id="id813">flexo_</span></a>&gt;    containing some stupid padding.. but thats far less worse than JSON</div>
<div class="line">[Monday 21 March 2011] [16:38:46] &lt;pieterh&gt;   I can&#8217;t even find a web page describing CDR</div>
<div class="line">[Monday 21 March 2011] [16:38:52] &lt;<a href="#id814"><span class="problematic" id="id815">flexo_</span></a>&gt;    as i said</div>
<div class="line">[Monday 21 March 2011] [16:38:53] &lt;pieterh&gt;   it&#8217;s embedded in some PDF somewhere</div>
<div class="line">[Monday 21 March 2011] [16:38:55] &lt;pieterh&gt;   fail</div>
<div class="line">[Monday 21 March 2011] [16:39:01] &lt;<a href="#id816"><span class="problematic" id="id817">flexo_</span></a>&gt;    thats the point.. its embedded deep inside the CORBA specs</div>
<div class="line">[Monday 21 March 2011] [16:39:06] &lt;<a href="#id818"><span class="problematic" id="id819">flexo_</span></a>&gt;    and thats the reason no-one uses it</div>
<div class="line">[Monday 21 March 2011] [16:39:09] &lt;<a href="#id820"><span class="problematic" id="id821">flexo_</span></a>&gt;    not because its bad</div>
<div class="line">[Monday 21 March 2011] [16:39:11] &lt;pieterh&gt;   yeah, but that&#8217;s not &#8220;very nice&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:39:17] &lt;<a href="#id822"><span class="problematic" id="id823">flexo_</span></a>&gt;    agreed</div>
<div class="line">[Monday 21 March 2011] [16:39:24] &lt;bpl29&gt;     Hello hello.  I am trying to link the zmq library to my project, but think I have built an 1386 library instead of x86_64.</div>
<div class="line">[Monday 21 March 2011] [16:39:34] &lt;<a href="#id824"><span class="problematic" id="id825">flexo_</span></a>&gt;    but &#8220;everyone uses it&#8221; doesnt make it a nice format.. take bittorrent for example</div>
<div class="line">[Monday 21 March 2011] [16:39:52] &lt;bpl29&gt;     <a href="#id29"><span class="problematic" id="id30">*</span></a>i386</div>
<div class="line">[Monday 21 March 2011] [16:39:56] &lt;<a href="#id826"><span class="problematic" id="id827">flexo_</span></a>&gt;    everyone uses bittorrent and bittorrent uses a highly stupid serialization format</div>
<div class="line">[Monday 21 March 2011] [16:40:17] &lt;pieterh&gt;   <a href="#id828"><span class="problematic" id="id829">flexo_</span></a>: well, I&#8217;ve made dozens, hundreds of technically brilliant tools over the years</div>
<div class="line">[Monday 21 March 2011] [16:40:18] &lt;pieterh&gt;   all &#8216;</div>
<div class="line">[Monday 21 March 2011] [16:40:21] &lt;pieterh&gt;   &#8216;perfect&#8217;</div>
<div class="line">[Monday 21 March 2011] [16:40:30] &lt;pieterh&gt;   all dead, because they were inaccessible</div>
<div class="line">[Monday 21 March 2011] [16:40:39] &lt;<a href="#id830"><span class="problematic" id="id831">flexo_</span></a>&gt;    its nice to parse with some regular expressions, but if you try to make a very-high throughput implementation you turn crazy because of that &#8220;human readable&#8221; ascii mess</div>
<div class="line">[Monday 21 March 2011] [16:40:59] &lt;pieterh&gt;   bpl29: have you copied the library from one box to another?</div>
<div class="line">[Monday 21 March 2011] [16:41:24] &lt;<a href="#id832"><span class="problematic" id="id833">flexo_</span></a>&gt;    pieterh: well. i dont disagree with you on any particular point...</div>
<div class="line">[Monday 21 March 2011] [16:41:41] &lt;pieterh&gt;   anyhow, wrt ORB capabilities over 0MQ, go for it, I&#8217;d say</div>
<div class="line">[Monday 21 March 2011] [16:41:54] &lt;bpl29&gt;     pieterh: No.  As well, I just rebuilt from source.  I am linking with -L/usr/local/lib -lzmq</div>
<div class="line">[Monday 21 March 2011] [16:42:02] &lt;<a href="#id834"><span class="problematic" id="id835">flexo_</span></a>&gt;    i just refuse to acknowledge that i spend so much time working with crap</div>
<div class="line">[Monday 21 March 2011] [16:42:14] &lt;pieterh&gt;   <a href="#id836"><span class="problematic" id="id837">flexo_</span></a>: Sturgeon&#8217;s Law</div>
<div class="line">[Monday 21 March 2011] [16:42:34] &lt;<a href="#id838"><span class="problematic" id="id839">flexo_</span></a>&gt;    yea :)</div>
<div class="line">[Monday 21 March 2011] [16:42:39] &lt;bpl29&gt;     pieterh: The error simply states &#8220;warning: in /usr/local/lib/libzmq.dylib, file was built for unsupported file format which is not the architecture being linked (i386)&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:42:40] &lt;pieterh&gt;   bpl29: so why do you think you built it wrong? it should work automatically, your compiler knows it&#8217;s on a 64-bit box</div>
<div class="line">[Monday 21 March 2011] [16:42:44] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [16:42:55] &lt;pieterh&gt;   what OS are you on?</div>
<div class="line">[Monday 21 March 2011] [16:43:02] &lt;bpl29&gt;     pieterh: OS X</div>
<div class="line">[Monday 21 March 2011] [16:43:28] &lt;pieterh&gt;   bpl29: sorry, I&#8217;m not expert in OS X builds, but maybe someone else here can help.. cremes?</div>
<div class="line">[Monday 21 March 2011] [16:43:45] &lt;cremes&gt;    pieterh: what&#8217;s up?</div>
<div class="line">[Monday 21 March 2011] [16:44:06] &lt;pieterh&gt;   any idea why a build on OS X would say &#8220;file was built for unsupported file format which is not the architecture being linked (i386)&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:45:14] &lt;cremes&gt;    yes...</div>
<div class="line">[Monday 21 March 2011] [16:45:42] &lt;cremes&gt;    the library is being built i386 but it&#8217;s linking against a (probably) x86_64 binary</div>
<div class="line">[Monday 21 March 2011] [16:46:00] &lt;cremes&gt;    bpl29: run &#8220;file &lt;name&gt;&#8221; against the library and tell us the output</div>
<div class="line">[Monday 21 March 2011] [16:46:11] &lt;bpl29&gt;     okay one moment</div>
<div class="line">[Monday 21 March 2011] [16:46:19] &lt;pieterh&gt;   &#8220;If you&#8217;re using Xcode, then by default Debug mode only builds your platforms native arch. So on a new mac, this would be an x86_64 binary.&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:46:19] &lt;yrashk&gt;    it looks like I&#8217;ve got a case of send() lockup with ZMQ_NOBLOCK :-</div>
<div class="line">[Monday 21 March 2011] [16:46:22] &lt;pieterh&gt;   <a class="reference external" href="http://www.qtcentre.org/threads/30670-On-Mac-quot-...file-was-built-for-unsupported-file-format..-quot-SOLVED">http://www.qtcentre.org/threads/30670-On-Mac-quot-...file-was-built-for-unsupported-file-format..-quot-SOLVED</a></div>
<div class="line">[Monday 21 March 2011] [16:46:33] &lt;pieterh&gt;   yrashk: cool!</div>
<div class="line">[Monday 21 March 2011] [16:46:41] &lt;<a href="#id840"><span class="problematic" id="id841">flexo_</span></a>&gt;    pieterh: anyway, just wanted to clarify that it seems to me that you are one of the more.. much more.. competent people i have met. although i disagree with your JSON notion. :)</div>
<div class="line">[Monday 21 March 2011] [16:47:00] &lt;bpl29&gt;     creme: /usr/local/lib/libzmq.dylib: Mach-O 64-bit dynamically linked shared library x86_64</div>
<div class="line">[Monday 21 March 2011] [16:47:05] &lt;pieterh&gt;   <a href="#id842"><span class="problematic" id="id843">flexo_</span></a>: I&#8217;m just old and cynical, not particularly competent, but the compliment feels nice, thanks</div>
<div class="line">[Monday 21 March 2011] [16:47:24] &lt;cremes&gt;    bpl29: and what program is trying to load that library? run &#8220;file&#8221; against it too</div>
<div class="line">[Monday 21 March 2011] [16:47:31] &lt;yrashk&gt;    pieterh: indeed :)</div>
<div class="line">[Monday 21 March 2011] [16:47:39] &lt;<a href="#id844"><span class="problematic" id="id845">flexo_</span></a>&gt;    pieterh: well, i am highly cynical aswell.. maybe thats the reason for the sympathy :)</div>
<div class="line">[Monday 21 March 2011] [16:47:59] &lt;<a href="#id846"><span class="problematic" id="id847">flexo_</span></a>&gt;    (not old though. :D)</div>
<div class="line">[Monday 21 March 2011] [16:48:00] &lt;yrashk&gt;    I think I know why it happens</div>
<div class="line">[Monday 21 March 2011] [16:48:06] &lt;pieterh&gt;   <a href="#id848"><span class="problematic" id="id849">flexo_</span></a>: one thing I&#8217;ve learned is that intelligence is a product of many minds, not a few experts</div>
<div class="line">[Monday 21 March 2011] [16:48:19] &lt;pieterh&gt;   yrashk: 2.1.3 or development master?</div>
<div class="line">[Monday 21 March 2011] [16:48:22] &lt;yrashk&gt;    but no idea how to fix it</div>
<div class="line">[Monday 21 March 2011] [16:48:33] &lt;pieterh&gt;   what do you think happens?</div>
<div class="line">[Monday 21 March 2011] [16:48:37] &lt;yrashk&gt;    184bdb8e2bb6fe252af1bf4dd16d1c9ed8892f7a</div>
<div class="line">[Monday 21 March 2011] [16:49:04] &lt;yrashk&gt;    with this specific command that I am sending to another thread, that thread closes the socket that its being sent through</div>
<div class="line">[Monday 21 March 2011] [16:49:13] &lt;bpl29&gt;     creme: I am using ocamlmklib.</div>
<div class="line">[Monday 21 March 2011] [16:49:21] &lt;yrashk&gt;    so sometimes it gets through fine (it closes the socket <em>after</em> send() is over)</div>
<div class="line">[Monday 21 March 2011] [16:49:25] &lt;bpl29&gt;     owait, sry, misinterpreted</div>
<div class="line">[Monday 21 March 2011] [16:49:35] &lt;jond&gt;      <a href="#id850"><span class="problematic" id="id851">flexo_</span></a> CDR is an ok encoding, though the character set stuff is dreadful. havent used corba for years though</div>
<div class="line">[Monday 21 March 2011] [16:49:37] &lt;yrashk&gt;    but sometimes it closes it while send() is still working</div>
<div class="line">[Monday 21 March 2011] [16:49:41] &lt;yrashk&gt;    and send() locks</div>
<div class="line">[Monday 21 March 2011] [16:49:48] &lt;yrashk&gt;    even though it&#8217;s in NOBLOCK</div>
<div class="line">[Monday 21 March 2011] [16:49:58] &lt;yrashk&gt;    or should I just upgrade to dev master?</div>
<div class="line">[Monday 21 March 2011] [16:50:06] &lt;<a href="#id852"><span class="problematic" id="id853">flexo_</span></a>&gt;    jond: i agree that it could be improved in some areas... i am just saying i prefer it over json :)</div>
<div class="line">[Monday 21 March 2011] [16:50:27] &lt;jond&gt;      flexo have you seen BSON?</div>
<div class="line">[Monday 21 March 2011] [16:50:27] &lt;pieterh&gt;   yrashk: that commit is in development master</div>
<div class="line">[Monday 21 March 2011] [16:50:49] &lt;yrashk&gt;    but are you aware of this issue I described? or whether it is an issue at all?</div>
<div class="line">[Monday 21 March 2011] [16:51:06] &lt;pieterh&gt;   not aware of the issue</div>
<div class="line">[Monday 21 March 2011] [16:51:22] &lt;pieterh&gt;   you distracted me by posting a long UUID</div>
<div class="line">[Monday 21 March 2011] [16:52:04] &lt;pieterh&gt;   yrashk: if you can log an issue, that&#8217;d be good, it sounds like an edge case</div>
<div class="line">[Monday 21 March 2011] [16:52:08] &lt;<a href="#id854"><span class="problematic" id="id855">flexo_</span></a>&gt;    jond: looking at it right now... what immediatly caught my attention... no unsigned integers?</div>
<div class="line">[Monday 21 March 2011] [16:52:22] &lt;yrashk&gt;    I am still experimenting</div>
<div class="line">[Monday 21 March 2011] [16:52:24] &lt;bpl29&gt;     creme: I&#8217;m not quite sure where that binary is.  Do you think it could be i386?  I can search more.</div>
<div class="line">[Monday 21 March 2011] [16:52:32] &lt;jond&gt;      flexo: always thought it would be nice to rip the structs / types part of idl out to use as message format generator, leaving all the interface stuff behind, idl looks so much better than an xml or some schema</div>
<div class="line">[Monday 21 March 2011] [16:52:40] &lt;bpl29&gt;     creme: ocamlmklib, that is</div>
<div class="line">[Monday 21 March 2011] [16:52:55] &lt;<a href="#id856"><span class="problematic" id="id857">flexo_</span></a>&gt;    jond: oh yea.</div>
<div class="line">[Monday 21 March 2011] [16:53:16] &lt;<a href="#id858"><span class="problematic" id="id859">flexo_</span></a>&gt;    especially if the IDL happens to look almost exactly the same in the language you are developing in... :)</div>
<div class="line">[Monday 21 March 2011] [16:54:01] &lt;<a href="#id860"><span class="problematic" id="id861">flexo_</span></a>&gt;    (but even if it doesnt fit... i like our python testcases, using omniorbpy)</div>
<div class="line">[Monday 21 March 2011] [16:54:48] &lt;<a href="#id862"><span class="problematic" id="id863">flexo_</span></a>&gt;    there are some nice really nice things about CORBA, the mean problem is that its one huge &#8220;solution&#8221;, not a set of solutions layered on-top of each other</div>
<div class="line">[Monday 21 March 2011] [16:54:52] &lt;cremes&gt;    bpl29: i&#8217;m not really sure what you are doing</div>
<div class="line">[Monday 21 March 2011] [16:54:53] &lt;jond&gt;      flexo : yep, but remember that python corba binding in omniorb almost makes corba bearable, so much easier than the c++</div>
<div class="line">[Monday 21 March 2011] [16:54:54] &lt;<a href="#id864"><span class="problematic" id="id865">flexo_</span></a>&gt;    <a href="#id31"><span class="problematic" id="id32">*</span></a>main</div>
<div class="line">[Monday 21 March 2011] [16:55:03] &lt;<a href="#id866"><span class="problematic" id="id867">flexo_</span></a>&gt;    jond: true...</div>
<div class="line">[Monday 21 March 2011] [16:55:09] &lt;cremes&gt;    bpl29: are you running the examples using the ocaml bindings?</div>
<div class="line">[Monday 21 March 2011] [16:55:20] &lt;<a href="#id868"><span class="problematic" id="id869">flexo_</span></a>&gt;    (the ICE mappings look like nice by the way)</div>
<div class="line">[Monday 21 March 2011] [16:55:44] &lt;bpl29&gt;     cremes: I am writing new OCaml bindings.</div>
<div class="line">[Monday 21 March 2011] [16:56:12] &lt;cremes&gt;    bpl29: ok; how do you execute your ocaml runtime?</div>
<div class="line">[Monday 21 March 2011] [16:56:36] &lt;<a href="#id870"><span class="problematic" id="id871">flexo_</span></a>&gt;    sigh. but project management will never let me deviate from the &#8220;industry standard&#8221; CORBA.... :)</div>
<div class="line">[Monday 21 March 2011] [16:57:16] &lt;jond&gt;      flexo: well henning was pretty damning in the end and thought he could better, even thought CDR was no better than XDR and the Zero Ice would be the way to go. Last time I looked Vinoski had discovered erlang</div>
<div class="line">[Monday 21 March 2011] [16:57:36] &lt;bpl29&gt;     cremes: the command in question is &#8220;ocamlmklib -o _wrapper_stubs wrapper.o -L/usr/local/lib -lzmq&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:57:47] &lt;<a href="#id872"><span class="problematic" id="id873">flexo_</span></a>&gt;    hehe</div>
<div class="line">[Monday 21 March 2011] [16:58:04] &lt;cremes&gt;    bpl29: ok; type &#8220;which ocamlmklib&#8221; and it will tell you where that program is in your PATH</div>
<div class="line">[Monday 21 March 2011] [16:58:08] &lt;cremes&gt;    then run &#8220;file&#8221; on it</div>
<div class="line">[Monday 21 March 2011] [16:58:25] &lt;bpl29&gt;     cremes: thanks.  I knew it was something so simple.</div>
<div class="line">[Monday 21 March 2011] [16:58:59] &lt;jond&gt;      flexo: where I am we use XDR and our own message defn language generating all the marshall/unmarshall classes. No corba</div>
<div class="line">[Monday 21 March 2011] [16:59:45] &lt;<a href="#id874"><span class="problematic" id="id875">flexo_</span></a>&gt;    jond: yea.. could have been done for our project too... but as i said.. &#8220;industry standard&#8221; :)</div>
<div class="line">[Monday 21 March 2011] [17:00:02] &lt;<a href="#id876"><span class="problematic" id="id877">flexo_</span></a>&gt;    (the department i am working for still has some 200mhz SGI boxes where they actually develop for)</div>
<div class="line">[Monday 21 March 2011] [17:00:16] &lt;bpl29&gt;     cremes: &#8220;/usr/local/bin/ocamlmktop: POSIX shell script text executable&#8221;</div>
<div class="line">[Monday 21 March 2011] [17:00:29] &lt;bpl29&gt;     cremes: I think that&#8217;s not what I&#8217;m looking for</div>
<div class="line">[Monday 21 March 2011] [17:00:33] &lt;cremes&gt;    bpl29: umm... you are going to have to do some digging</div>
<div class="line">[Monday 21 March 2011] [17:00:44] &lt;bpl29&gt;     cremes: the bash script just calls ocamlc, so I&#8217;ll go file that</div>
<div class="line">[Monday 21 March 2011] [17:00:54] &lt;cremes&gt;    that script must be calling some binary that is trying to link a 32-bit binary against the 64-bit 0mq lib</div>
<div class="line">[Monday 21 March 2011] [17:01:17] &lt;jond&gt;      flexo: that&#8217;s corporate life....</div>
<div class="line">[Monday 21 March 2011] [17:01:21] &lt;<a href="#id878"><span class="problematic" id="id879">flexo_</span></a>&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [17:01:28] &lt;<a href="#id880"><span class="problematic" id="id881">flexo_</span></a>&gt;    OTOH this is the reason i know some MIPS assembly :)</div>
<div class="line">[Monday 21 March 2011] [17:01:36] &lt;cremes&gt;    bpl29: you might need to pass some flags when linking your ocaml code so that it makes everything 64-bit</div>
<div class="line">[Monday 21 March 2011] [17:01:41] &lt;bpl29&gt;     cremes:  Okay, thanks Cremes.  I think I can do something with that.  You&#8217;ve been a big help to me, and you also helped me yesterday, so thank you very much.</div>
<div class="line">[Monday 21 March 2011] [17:01:52] &lt;yrashk&gt;    still can reproduce on master</div>
<div class="line">[Monday 21 March 2011] [17:01:54] &lt;<a href="#id882"><span class="problematic" id="id883">flexo_</span></a>&gt;    (i maintain a very small library which runs on said boxes... had to debug it there once :)</div>
<div class="line">[Monday 21 March 2011] [17:01:55] &lt;yrashk&gt;    hmmm</div>
<div class="line">[Monday 21 March 2011] [17:02:03] &lt;cremes&gt;    bpl29: ok; at this point, you&#8217;ll need to jump into the ocaml channel and ask them for some help :)</div>
<div class="line">[Monday 21 March 2011] [17:02:12] &lt;yrashk&gt;    but only on my slower laptop, not mac pro</div>
<div class="line">[Monday 21 March 2011] [17:02:13] &lt;yrashk&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [17:02:21] &lt;bpl29&gt;     cremes: That&#8217;s a good idea.  I&#8217;ll do that then.  Thanks again.</div>
<div class="line">[Monday 21 March 2011] [17:02:30] &lt;<a href="#id884"><span class="problematic" id="id885">flexo_</span></a>&gt;    the dept. is getting into trouble because its getting harder and harder to get replacement parts for these boxes :)</div>
<div class="line">[Monday 21 March 2011] [17:02:57] &lt;<a href="#id886"><span class="problematic" id="id887">flexo_</span></a>&gt;    the funny thing about the harddisks is that if the power goes out and they cool down about 1/3 of them dies</div>
<div class="line">[Monday 21 March 2011] [17:03:05] &lt;<a href="#id888"><span class="problematic" id="id889">flexo_</span></a>&gt;    so the boxes must be online all the time</div>
<div class="line">[Monday 21 March 2011] [17:03:48] &lt;<a href="#id890"><span class="problematic" id="id891">flexo_</span></a>&gt;    and i really enjoy taking interns into that room</div>
<div class="line">[Monday 21 March 2011] [17:05:23] &lt;<a href="#id892"><span class="problematic" id="id893">flexo_</span></a>&gt;    they dont quite believe it otherwise :)</div>
<div class="line">[Monday 21 March 2011] [17:06:04] &lt;<a href="#id894"><span class="problematic" id="id895">flexo_</span></a>&gt;    the number of people who know how to administer them grows shorter every year too</div>
<div class="line">[Monday 21 March 2011] [17:06:06] &lt;cremes&gt;    i just added one of my wish-list items to the 0mq 3.0 roadmap wiki page</div>
<div class="line">[Monday 21 March 2011] [17:06:15] &lt;<a href="#id896"><span class="problematic" id="id897">flexo_</span></a>&gt;    sheesh. where am i working :)</div>
<div class="line">[Monday 21 March 2011] [17:07:52] &lt;pieterh&gt;   cremes: a page is like... 60 lines of 80 chars?</div>
<div class="line">[Monday 21 March 2011] [17:08:21] &lt;cremes&gt;    pieterh: a page is usually some multiple of 512 bytes, like 4k on linux</div>
<div class="line">[Monday 21 March 2011] [17:09:06] &lt;pieterh&gt;   so, almost 60 x 80 like I thought :-)</div>
<div class="line">[Monday 21 March 2011] [17:09:21] &lt;cremes&gt;    almost</div>
<div class="line">[Monday 21 March 2011] [17:09:23] &lt;cremes&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [17:10:03] &lt;pieterh&gt;   nice change request, but you may have to submit the patch yourself</div>
<div class="line">[Monday 21 March 2011] [17:10:13] &lt;cremes&gt;    pieterh: understood</div>
<div class="line">[Monday 21 March 2011] [17:31:49] &lt;Guthur&gt;    hehe, I love how CORBA was defined by OMG</div>
<div class="line">[Monday 21 March 2011] [17:32:06] &lt;Guthur&gt;    I have this strange feeling it is very fitting]</div>
<div class="line">[Monday 21 March 2011] [17:50:57] &lt;mikko&gt;     drbobbeaty: i got a patch that disables shared library building on openpgm side</div>
<div class="line">[Monday 21 March 2011] [17:51:05] &lt;mikko&gt;     i will chat with steven about it and see what he things</div>
<div class="line">[Monday 21 March 2011] [17:51:08] &lt;mikko&gt;     thinks*</div>
<div class="line">[Monday 21 March 2011] [17:52:42] &lt;drbobbeaty&gt;        mikko: thanks, but I found the problem. You didn&#8217;t see it because etho0 is OK for you, but on my Ubuntu box, they bonded the NICs so I could use eth0, I had to use bond0.</div>
<div class="line">[Monday 21 March 2011] [17:52:53] &lt;drbobbeaty&gt;        tricky admins.</div>
<div class="line">[Monday 21 March 2011] [17:53:00] &lt;pieterh&gt;   drbobbeaty: heh, and this worked with 2.1.2?</div>
<div class="line">[Monday 21 March 2011] [17:53:17] &lt;drbobbeaty&gt;        It worked when I HAD 2.1.2 - they did it in the last week.</div>
<div class="line">[Monday 21 March 2011] [17:54:18] &lt;pieterh&gt;   drbobbeaty, ah, just retesting 2.1.2 would have saved us all some time</div>
<div class="line">[Monday 21 March 2011] [17:55:40] &lt;drbobbeaty&gt;        Yeah, that was my fault, and I&#8217;m really sorry about that. It just didn&#8217;t cross my mind because it was working.</div>
<div class="line">[Monday 21 March 2011] [17:56:25] &lt;pieterh&gt;   glad pgm is working, anyhow</div>
<div class="line">[Monday 21 March 2011] [18:00:54] &lt;mikko&gt;     drbobbeaty, pieterh good!</div>
<div class="line">[Monday 21 March 2011] [18:01:12] &lt;mikko&gt;     in any case i worked up solutions on zeromq and libpgm side to prevent the confusing libpgm.so install</div>
<div class="line">[Monday 21 March 2011] [18:01:18] &lt;mikko&gt;     pieterh: you are CCd on mail to steven</div>
<div class="line">[Monday 21 March 2011] [18:01:26] &lt;mikko&gt;     let&#8217;s see what he thinks</div>
<div class="line">[Monday 21 March 2011] [18:01:31] &lt;pieterh&gt;   mikko: reading it now...</div>
<div class="line">[Monday 21 March 2011] [18:01:32] &lt;drbobbeaty&gt;        Thanks, mikko... I think it&#8217;ll be a very good thing to have.</div>
<div class="line">[Monday 21 March 2011] [18:02:37] &lt;pieterh&gt;   mikko: I&#8217;d guess not installing the libpgm.so is best</div>
<div class="line">[Monday 21 March 2011] [18:04:08] &lt;mikko&gt;     yeah</div>
<div class="line">[Monday 21 March 2011] [18:04:16] &lt;mikko&gt;     would be the best if steven agrees with the patch</div>
<div class="line">[Monday 21 March 2011] [18:06:46] &lt;mikko&gt;     productive day</div>
<div class="line">[Monday 21 March 2011] [18:07:05] &lt;pieterh&gt;   yeah, I&#8217;ve almost finished the clone pattern</div>
<div class="line">[Monday 21 March 2011] [18:07:26] &lt;pieterh&gt;   <em>and</em> I took the kids to the park</div>
<div class="line">[Monday 21 March 2011] [18:07:28] &lt;pieterh&gt;   great day</div>
<div class="line">[Monday 21 March 2011] [18:11:10] &lt;Guthur&gt;    would exposing the connected IPs to a 0MQ be possible</div>
<div class="line">[Monday 21 March 2011] [18:11:20] &lt;pieterh&gt;   Guthur: doubt it</div>
<div class="line">[Monday 21 March 2011] [18:13:03] &lt;Guthur&gt;    shame, I was just thinking in terms of a FIX engine, one of the recommend authentication procedures was to match IPs to companies</div>
<div class="line">[Monday 21 March 2011] [18:13:28] &lt;Guthur&gt;    obviously spoofing is possible, which the whitepaper also mentions</div>
<div class="line">[Monday 21 March 2011] [18:13:29] &lt;pieterh&gt;   it&#8217;s been discussed before</div>
<div class="line">[Monday 21 March 2011] [18:13:36] &lt;Guthur&gt;    oh</div>
<div class="line">[Monday 21 March 2011] [18:14:00] &lt;pieterh&gt;   one might have a pluggable authentication layer that sits above the transport</div>
<div class="line">[Monday 21 March 2011] [18:14:24] &lt;pieterh&gt;   this would be necessary for any public-facing 0MQ server IMO</div>
<div class="line">[Monday 21 March 2011] [18:14:47] &lt;pieterh&gt;   though people have argued stuff like banning bogus clients is a firewall issue</div>
<div class="line">[Monday 21 March 2011] [18:15:39] &lt;Guthur&gt;    security is always should a head pickle</div>
<div class="line">[Monday 21 March 2011] [18:16:06] &lt;pieterh&gt;   indeed... :-)</div>
<div class="line">[Monday 21 March 2011] [18:16:57] &lt;Guthur&gt;    Better I at least making a passing effort to understand the options now though</div>
<div class="line">[Monday 21 March 2011] [18:17:21] &lt;pieterh&gt;   if you take 0MQ today, rather than some possible future version</div>
<div class="line">[Monday 21 March 2011] [18:17:35] &lt;pieterh&gt;   then validation must be done explicitly using authentication</div>
<div class="line">[Monday 21 March 2011] [18:18:10] &lt;pieterh&gt;   alternatively you can make a TCP front-end that speaks FIX to the world, and 0MQ to the internal network</div>
<div class="line">[Monday 21 March 2011] [18:18:28] &lt;Guthur&gt;    that was a feature I would like</div>
<div class="line">[Monday 21 March 2011] [18:18:40] &lt;Guthur&gt;    I was going to build the 0MQ version first though</div>
<div class="line">[Monday 21 March 2011] [18:18:40] &lt;pieterh&gt;   it&#8217;s a fairly simple app, if you have FIX libraries</div>
<div class="line">[Monday 21 March 2011] [18:18:55] &lt;Guthur&gt;    then add the bridge to TCP later</div>
<div class="line">[Monday 21 March 2011] [18:19:15] &lt;Guthur&gt;    I was going to take QuickFIXs message parsing for now</div>
<div class="line">[Monday 21 March 2011] [18:19:38] &lt;Guthur&gt;    and replace the engine with 0MQ</div>
<div class="line">[Monday 21 March 2011] [18:19:42] &lt;pieterh&gt;   if you asked me, I&#8217;d make the bridge first</div>
<div class="line">[Monday 21 March 2011] [18:20:03] &lt;pieterh&gt;   use QuickFIX parsing over TCP at one side, 0MQ at the other side</div>
<div class="line">[Monday 21 March 2011] [18:23:10] &lt;Guthur&gt;    probably the more sensible approach</div>
<div class="line">[Monday 21 March 2011] [18:23:45] &lt;Guthur&gt;    I was just really eager to build a big 0MQ system, hehe</div>
<div class="line">[Monday 21 March 2011] [18:28:14] &lt;pieterh&gt;   btw, an open source FIX-to-0MQ bridge would be very useful for Whaleshark</div>
<div class="line">[Monday 21 March 2011] [18:32:59] &lt;Guthur&gt;    the question in my mind is how much functionality to put in the bridge</div>
<div class="line">[Monday 21 March 2011] [18:33:27] &lt;pieterh&gt;   filtering and extraction</div>
<div class="line">[Monday 21 March 2011] [18:33:45] &lt;pieterh&gt;   so that you chop the message flow down as far as possible</div>
<div class="line">[Monday 21 March 2011] [18:33:49] &lt;pieterh&gt;   without doing too much CPU intensive work</div>
<div class="line">[Monday 21 March 2011] [18:34:01] &lt;pieterh&gt;   IMHO</div>
<div class="line">[Monday 21 March 2011] [18:34:29] &lt;Guthur&gt;    well the easy one is splitting the admin and app message</div>
<div class="line">[Monday 21 March 2011] [18:34:37] &lt;Guthur&gt;    messages*#</div>
<div class="line">[Monday 21 March 2011] [18:35:39] &lt;Guthur&gt;    would a bridge offer a place to add encryption/decryption</div>
<div class="line">[Monday 21 March 2011] [18:36:04] &lt;pieterh&gt;   probably not, unless you can offload that work</div>
<div class="line">[Monday 21 March 2011] [18:37:11] &lt;Guthur&gt;    so add the basic level possibly filter admin/app messages, and verify checksums</div>
<div class="line">[Monday 21 March 2011] [18:37:16] &lt;Guthur&gt;    add/at</div>
<div class="line">[Monday 21 March 2011] [18:37:37] &lt;pieterh&gt;   it depends really on the volumes you&#8217;re dealing with and your hardware</div>
<div class="line">[Monday 21 March 2011] [18:37:50] &lt;pieterh&gt;   you want to get the machines working hard enough but not stressed</div>
<div class="line">[Monday 21 March 2011] [18:38:12] &lt;pieterh&gt;   otherwise you&#8217;re going to get latency spikes when there&#8217;s a lot of data</div>
<div class="line">[Monday 21 March 2011] [18:38:26] &lt;Guthur&gt;    FIX engines can be running on some pretty hefty hardware</div>
<div class="line">[Monday 21 March 2011] [18:38:54] &lt;Guthur&gt;    the bank I work for is now serving up all their FX pricing on a FIX engine</div>
<div class="line">[Monday 21 March 2011] [18:39:06] &lt;pieterh&gt;   you work for a bank...</div>
<div class="line">[Monday 21 March 2011] [18:39:13] &lt;Guthur&gt;    and now even clients are asking for it to be exposed them</div>
<div class="line">[Monday 21 March 2011] [18:39:16] &lt;Guthur&gt;    pieterh, yep</div>
<div class="line">[Monday 21 March 2011] [18:39:16]      * pieterh ends the free consulting</div>
<div class="line">[Monday 21 March 2011] [18:39:21] &lt;Guthur&gt;    lol</div>
<div class="line">[Monday 21 March 2011] [18:39:28]      * pieterh doubles his rates</div>
<div class="line">[Monday 21 March 2011] [18:39:47] &lt;Guthur&gt;    if only I was writing the cheques</div>
<div class="line">[Monday 21 March 2011] [18:40:15] &lt;Guthur&gt;    in truth though this is a personal project</div>
<div class="line">[Monday 21 March 2011] [18:40:37] &lt;pieterh&gt;   an open source FIX-to-0MQ bridge would be neat</div>
<div class="line">[Monday 21 March 2011] [18:41:25] &lt;Guthur&gt;    yep, it&#8217;s my goal to have this stuff open source</div>
<div class="line">[Monday 21 March 2011] [18:41:38] &lt;Guthur&gt;    if I can build it properly</div>
<div class="line">[Monday 21 March 2011] [18:41:55] &lt;mikko&gt;     pieterh: sent you some stuff again</div>
<div class="line">[Monday 21 March 2011] [18:41:56] &lt;pieterh&gt;   make it open source first, then you&#8217;ll be sure to build it properly</div>
<div class="line">[Monday 21 March 2011] [18:42:09] &lt;mikko&gt;     don&#8217;t read it before morning, it&#8217;s work related</div>
<div class="line">[Monday 21 March 2011] [18:42:23] &lt;mikko&gt;     build the community first, good products will follow</div>
<div class="line">[Monday 21 March 2011] [18:42:37] &lt;mikko&gt;     said some mozilla guy</div>
<div class="line">[Monday 21 March 2011] [18:42:41] &lt;pieterh&gt;   mikko: I&#8217;m supposed to <em>sleep</em> knowing there&#8217;s an unread mail from you?</div>
<div class="line">[Monday 21 March 2011] [18:42:44] &lt;pieterh&gt;   unpossible</div>
<div class="line">[Monday 21 March 2011] [18:43:17] &lt;mikko&gt;     heh, im gonna sleep now. another long day ahead</div>
<div class="line">[Monday 21 March 2011] [18:43:18] &lt;mikko&gt;     night</div>
<div class="line">[Monday 21 March 2011] [19:00:36] &lt;pieterh&gt;   anyone here using 0MQ from C?</div>
<div class="line">[Monday 21 March 2011] [19:07:13] &lt;Guthur&gt;    when something does not work I now use it for a sanity check</div>
<div class="line">[Monday 21 March 2011] [19:07:19] &lt;Guthur&gt;    but i don&#8217;t think that really counts</div>
<div class="line">[Monday 21 March 2011] [19:18:44] &lt;pieterh&gt;   I&#8217;ve sketched out a proposal for a high-level C binding</div>
<div class="line">[Monday 21 March 2011] [19:18:53] &lt;pieterh&gt;   <a class="reference external" href="http://www.zeromq.org/bindings:c">http://www.zeromq.org/bindings:c</a></div>
<div class="line">[Monday 21 March 2011] [19:21:35] &lt;pieterh&gt;   well, g&#8217;nite everyone...</div>
<div class="line">[Monday 21 March 2011] [19:32:45] &lt;Guthur&gt;    g&#8217;night pieterh</div>
<div class="line">[Monday 21 March 2011] [21:02:11] &lt;reiddraper&gt;        I&#8217;m seeing ~4K requests/second for a REQ-REP socket with two python processes. The are sending &#8220;hello&#8221;. Is this performance expected?</div>
<div class="line">[Monday 21 March 2011] [21:04:28] &lt;jhawk28&gt;   not sure about python, but it usually depends</div>
<div class="line">[Monday 21 March 2011] [21:04:50] &lt;jhawk28&gt;   on the network, the computing platform, and the language bindings</div>
<div class="line">[Monday 21 March 2011] [21:05:22] &lt;reiddraper&gt;        jhawk28: localhost, ubuntu</div>
<div class="line">[Monday 21 March 2011] [21:06:01] &lt;reiddraper&gt;        jhawk28: suppose I was expecting it to be an order of magnitude faster</div>
<div class="line">[Monday 21 March 2011] [21:06:27] &lt;jhawk28&gt;   are you just req: Hello and Rep: hello?</div>
<div class="line">[Monday 21 March 2011] [21:06:40] &lt;reiddraper&gt;        yes</div>
<div class="line">[Monday 21 March 2011] [21:07:25] &lt;reiddraper&gt;        zeromq 2.1.3</div>
<div class="line">[Monday 21 March 2011] [21:07:41] &lt;jhawk28&gt;   let me do a quick one in Java</div>
<div class="line">[Monday 21 March 2011] [21:07:52] &lt;reiddraper&gt;        same performance with ipc and tcp</div>
<div class="line">[Monday 21 March 2011] [21:08:13] &lt;reiddraper&gt;        jhawk28: thanks</div>
<div class="line">[Monday 21 March 2011] [21:21:17] &lt;andrewvc&gt;  cremes: around?</div>
<div class="line">[Monday 21 March 2011] [21:21:29] &lt;andrewvc&gt;  cremes: Wondering if you&#8217;d mind me releasing 0.7.3 w/ zdevice support</div>
<div class="line">[Monday 21 March 2011] [21:23:52] &lt;jhawk28&gt;   reiddraper: I&#8217;m getting about 10k/s</div>
<div class="line">[Monday 21 March 2011] [21:25:30] &lt;reiddraper&gt;        jhawk28: ok, seems reasonable that python would be 4K then</div>
<div class="line">[Monday 21 March 2011] [21:26:51] &lt;jhawk28&gt;   thats Java with 2.1.3 on a 2.4 Core i5 (OSX)</div>
<div class="line">[Monday 21 March 2011] [21:30:01] &lt;jhawk28&gt;   reiddraper: push/pull gets 2mil/s</div>
<div class="line">[Monday 21 March 2011] [21:30:37] &lt;reiddraper&gt;        jhawk28: pretty big difference</div>
<div class="line">[Monday 21 March 2011] [21:31:40] &lt;reiddraper&gt;        only really surprised because I&#8217;ve seen http servers do more req/s than what I&#8217;m seeing</div>
<div class="line">[Monday 21 March 2011] [21:33:10] &lt;jhawk28&gt;   req/rep is synchronous</div>
<div class="line">[Monday 21 March 2011] [21:33:20] &lt;jhawk28&gt;   single threaded both sides</div>
<div class="line">[Monday 21 March 2011] [21:34:44] &lt;reiddraper&gt;        yeah, figured it would have to be, that being said, so is something like Redis, which gets 10&#8217;s of thousands of operations / second, over tcp</div>
<div class="line">[Monday 21 March 2011] [21:34:53] &lt;reiddraper&gt;        req-rep</div>
<div class="line">[Monday 21 March 2011] [21:47:17] &lt;jhawk28&gt;   reiddraper: increase the number of clients</div>
<div class="line">[Monday 21 March 2011] [21:48:30] &lt;jhawk28&gt;   when I bump up the number of clients, I am getting 25k/sec</div>
<div class="line">[Monday 21 March 2011] [21:49:56] &lt;reiddraper&gt;        jhawk28: Cool, and to be honest, for what I have in mind, 4k/sec is plenty fast</div>
<div class="line">[Monday 21 March 2011] [21:51:15] &lt;jhawk28&gt;   I could probably scale it more if I used XREP</div>
<div class="line">[Monday 21 March 2011] [21:52:16] &lt;jhawk28&gt;   and actually split it between machines</div>
<div class="line">[Monday 21 March 2011] [21:55:20] &lt;reiddraper&gt;        jhawk28: can you explain the difference betwen xreq/rep and req/rep?</div>
<div class="line">[Monday 21 March 2011] [21:56:02] &lt;jhawk28&gt;   req/rep is syncronous, xreq/xrep uses identities</div>
<div class="line">[Monday 21 March 2011] [21:56:48] &lt;reiddraper&gt;        ah, OK</div>
<div class="line">[Monday 21 March 2011] [21:56:56] &lt;jhawk28&gt;   the identities are then used by zmq to route the response back to the correct socket</div>
<div class="line">[Monday 21 March 2011] [21:58:07] &lt;jhawk28&gt;   thats as much as I know</div>
<div class="line">[Monday 21 March 2011] [21:58:16] &lt;jhawk28&gt;   I haven&#8217;t used them much</div>
<div class="line">[Monday 21 March 2011] [21:58:27] &lt;jhawk28&gt;   its on my todo list...</div>
<div class="line">[Monday 21 March 2011] [22:00:08] &lt;reiddraper&gt;        jhawk28: ok, so you don&#8217;t get slowed down by slowest client that is load-balanced</div>
<div class="line">[Monday 21 March 2011] [22:01:15] &lt;jhawk28&gt;   or worker</div>
<div class="line">[Monday 21 March 2011] [22:01:40] &lt;jhawk28&gt;   thats what xreq is for (for dealing out work)</div>
<div class="line">[Monday 21 March 2011] [22:04:14] &lt;reiddraper&gt;        ok, so for a queue broker, the clients sending xreq (give me a task), and the broker sending xrep (do this) makes sense?</div>
<div class="line">[Monday 21 March 2011] [22:07:41] &lt;jhawk28&gt;   Chapter 3 does a good job explaining it: <a class="reference external" href="http://zguide.zeromq.org/page:all#toc45">http://zguide.zeromq.org/page:all#toc45</a></div>
<div class="line">[Monday 21 March 2011] [22:08:15] &lt;reiddraper&gt;        jhawk28: awesome. thanks</div>
<div class="line">[Monday 21 March 2011] [22:16:11] &lt;believa&gt;   newb question - are the following statements true? You cannot &#8220;bind&#8221; multiple sockets to the same endpoint. You &#8220;can&#8221; connect multiple sockets to the same endpoint. A socket can &#8220;bind&#8221; and/or &#8220;connect&#8221; to multiple endpoints.</div>
<div class="line">[Monday 21 March 2011] [22:18:58] &lt;jhawk28&gt;   Yes, yes</div>
<div class="line">[Monday 21 March 2011] [22:19:16] &lt;jhawk28&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [22:19:21] &lt;believa&gt;   jhawk28: thanks for the confirmation</div>
<div class="line">[Monday 21 March 2011] [22:20:46] &lt;neopallium&gt;        believa: you can bind one socket to multiple different endpoints, but you can&#8217;t bind multiple sockets to the same endpoint.</div>
<div class="line">[Monday 21 March 2011] [22:21:13] &lt;believa&gt;   neopallium: gotcha</div>
<div class="line">[Monday 21 March 2011] [22:21:15] &lt;neopallium&gt;        just like you can&#8217;t bind multiple tcp sockets to the same port on the same computer.</div>
<div class="line">[Monday 21 March 2011] [22:22:29] &lt;believa&gt;   neopallium: that should result in EADDRINUSE right?</div>
<div class="line">[Monday 21 March 2011] [22:30:20] &lt;neopallium&gt;        believa: yes</div>
<div class="line">[Monday 21 March 2011] [22:30:35] &lt;believa&gt;   neopallium: thanks</div>
<div class="line">[Tuesday 22 March 2011] [03:47:12] &lt;sustrik&gt;  reiddrapper: req/rep is lock-step; the performance is determined by the latency of your network</div>
<div class="line">[Tuesday 22 March 2011] [03:47:32] &lt;sustrik&gt;  the actual messaging fabric is almost irrelevant</div>
<div class="line">[Tuesday 22 March 2011] [04:09:14] &lt;pieterh&gt;  good morning</div>
<div class="line">[Tuesday 22 March 2011] [04:10:23] &lt;pieterh&gt;  sustrik: we had this question twice in a day, perhaps worth some explanation in the guide</div>
<div class="line">[Tuesday 22 March 2011] [04:12:06] &lt;sustrik&gt;  yes, that would be good</div>
<div class="line">[Tuesday 22 March 2011] [04:12:11] &lt;sustrik&gt;  alternatively</div>
<div class="line">[Tuesday 22 March 2011] [04:12:17] &lt;sustrik&gt;  there&#8217;s a page about rinning perf tests</div>
<div class="line">[Tuesday 22 March 2011] [04:12:21] &lt;sustrik&gt;  let me see</div>
<div class="line">[Tuesday 22 March 2011] [04:12:40] &lt;pieterh&gt;  perhaps an explicit page we can refer to upfront, yes</div>
<div class="line">[Tuesday 22 March 2011] [04:12:54] &lt;pieterh&gt;  e.g. expected throughput and latency of each pattern</div>
<div class="line">[Tuesday 22 March 2011] [04:13:05] &lt;pieterh&gt;  very rough, but to set expectations properly</div>
<div class="line">[Tuesday 22 March 2011] [04:14:23] &lt;sustrik&gt;  <a class="reference external" href="http://www.zeromq.org/results:perf-howto">http://www.zeromq.org/results:perf-howto</a></div>
<div class="line">[Tuesday 22 March 2011] [04:20:18] &lt;pieterh&gt;  sustrik: it&#8217;s not very useful to beginners IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:21:25] &lt;pieterh&gt;  I&#8217;ll think about how to explain this, it&#8217;s got to be in terms of limits, capacity, speed of different patterns &amp; transports</div>
<div class="line">[Tuesday 22 March 2011] [04:21:35] &lt;pieterh&gt;  like a spec sheet</div>
<div class="line">[Tuesday 22 March 2011] [04:21:40] &lt;sustrik&gt;  let me send you a diagram</div>
<div class="line">[Tuesday 22 March 2011] [04:22:17] &lt;pieterh&gt;  sure</div>
<div class="line">[Tuesday 22 March 2011] [04:39:19] &lt;pieterh&gt;  sustrik: random idea for cleaner semantics on multipart messages</div>
<div class="line">[Tuesday 22 March 2011] [04:39:36] &lt;pieterh&gt;  make the MORE bit a property of a frame (zmq_msg_t) rather than a socket</div>
<div class="line">[Tuesday 22 March 2011] [04:40:03] &lt;sustrik&gt;  that&#8217;s how it works on wire level</div>
<div class="line">[Tuesday 22 March 2011] [04:40:11] &lt;pieterh&gt;  it would also make more sense at the API level IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:40:12] &lt;sustrik&gt;  with API it&#8217;s a pain to use</div>
<div class="line">[Tuesday 22 March 2011] [04:40:26] &lt;sustrik&gt;  i though of combining the two approaches</div>
<div class="line">[Tuesday 22 March 2011] [04:40:30] &lt;pieterh&gt;  it means I can prepare a frame and write it with a generic method</div>
<div class="line">[Tuesday 22 March 2011] [04:40:41] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:40:58] &lt;pieterh&gt;  if you consider zmq_msg_t as a &#8216;smart blob&#8217; (and I like this), then it should have a more property</div>
<div class="line">[Tuesday 22 March 2011] [04:41:10] &lt;sustrik&gt;  the problem is this:</div>
<div class="line">[Tuesday 22 March 2011] [04:41:27] &lt;sustrik&gt;  zmq_send (msg, MSG_SNDMORE);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:27] &lt;sustrik&gt;  vs.</div>
<div class="line">[Tuesday 22 March 2011] [04:41:47] &lt;sustrik&gt;  zmq_msg_setflag (msg, ZMQ_MORE, 1);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:51] &lt;pieterh&gt;  you can always do both</div>
<div class="line">[Tuesday 22 March 2011] [04:41:53] &lt;sustrik&gt;  zmq_send (msg, 0);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:58] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:42:19] &lt;pieterh&gt;  I see the zmq_send (..., MSG_SENDMORE) as either an optimization or an override</div>
<div class="line">[Tuesday 22 March 2011] [04:42:26] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:42:32] &lt;sustrik&gt;  convenience feature</div>
<div class="line">[Tuesday 22 March 2011] [04:42:45] &lt;pieterh&gt;  e.g. if I have an identity frame, and want to send it, it&#8217;s always going to be MORE</div>
<div class="line">[Tuesday 22 March 2011] [04:43:04] &lt;pieterh&gt;  read / write then become symmetric</div>
<div class="line">[Tuesday 22 March 2011] [04:43:04] &lt;sustrik&gt;  yes, it would simplify devices</div>
<div class="line">[Tuesday 22 March 2011] [04:43:07] &lt;pieterh&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:43:20] &lt;pieterh&gt;  indeed, any generic handling of multipart messages becomes cleaner</div>
<div class="line">[Tuesday 22 March 2011] [04:43:30] &lt;sustrik&gt;  ack</div>
<div class="line">[Tuesday 22 March 2011] [04:43:38] &lt;pieterh&gt;  another question, is it necessary to destroy a message after sending it?</div>
<div class="line">[Tuesday 22 March 2011] [04:43:50] &lt;pieterh&gt;  sending the same frame N times is rather clumsy today</div>
<div class="line">[Tuesday 22 March 2011] [04:43:53] &lt;sustrik&gt;  it you don&#8217;t nothing happens</div>
<div class="line">[Tuesday 22 March 2011] [04:44:13] &lt;sustrik&gt;  but it&#8217;s safer to do so for forward compatibility</div>
<div class="line">[Tuesday 22 March 2011] [04:44:23] &lt;pieterh&gt;  ah, you mean _close is optional</div>
<div class="line">[Tuesday 22 March 2011] [04:44:29] &lt;sustrik&gt;  nope</div>
<div class="line">[Tuesday 22 March 2011] [04:44:46] &lt;sustrik&gt;  technically, closing empty message translates to noop</div>
<div class="line">[Tuesday 22 March 2011] [04:45:03] &lt;sustrik&gt;  however, that is not guaranteed to hold in future versions of 0mq</div>
<div class="line">[Tuesday 22 March 2011] [04:45:31] &lt;sustrik&gt;  so, preferable, close the messages so that 0mq can hook into message destruction process</div>
<div class="line">[Tuesday 22 March 2011] [04:45:41] &lt;sustrik&gt;  preferably*</div>
<div class="line">[Tuesday 22 March 2011] [04:46:01] &lt;pieterh&gt;  To send a message twice I need to:</div>
<div class="line">[Tuesday 22 March 2011] [04:46:02] &lt;pieterh&gt;  zmq_msg_t copy;</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_init (&amp;copy);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_copy (&amp;copy, &amp;original);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_send (socket, &amp;copy, 0);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_close (&amp;copy);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:13] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:46:39] &lt;sustrik&gt;  well, you should close the original as well</div>
<div class="line">[Tuesday 22 March 2011] [04:46:39] &lt;pieterh&gt;  so my question is whether it&#8217;s necessary for 0MQ to destroy the message after sending</div>
<div class="line">[Tuesday 22 March 2011] [04:46:43] &lt;sustrik&gt;  unless you are going to use it</div>
<div class="line">[Tuesday 22 March 2011] [04:46:49] &lt;sustrik&gt;  not now</div>
<div class="line">[Tuesday 22 March 2011] [04:46:55] &lt;sustrik&gt;  may be necessary in future</div>
<div class="line">[Tuesday 22 March 2011] [04:47:04] &lt;pieterh&gt;  could I have a flag saying, &#8220;don&#8217;t nullify after sending&#8221;?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:13] &lt;pieterh&gt;  MSG_REUSE</div>
<div class="line">[Tuesday 22 March 2011] [04:47:29] &lt;sustrik&gt;  ah, a convenience feature</div>
<div class="line">[Tuesday 22 March 2011] [04:47:41] &lt;sustrik&gt;  you can have that, but you should be aware it&#8217;s slow</div>
<div class="line">[Tuesday 22 March 2011] [04:47:53] &lt;pieterh&gt;  slower than creating copies each time?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:54] &lt;pieterh&gt;  how so?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:59] &lt;sustrik&gt;  there&#8217;s refernce counting going on there</div>
<div class="line">[Tuesday 22 March 2011] [04:48:05] &lt;sustrik&gt;  which is implemented using atomic ops</div>
<div class="line">[Tuesday 22 March 2011] [04:48:19] &lt;sustrik&gt;  which in turn means the memory bus is locked each time you do so</div>
<div class="line">[Tuesday 22 March 2011] [04:48:37] &lt;pieterh&gt;  yes, but I&#8217;m copying the message each time now</div>
<div class="line">[Tuesday 22 March 2011] [04:48:43] &lt;pieterh&gt;  that also locks the memory bus each time</div>
<div class="line">[Tuesday 22 March 2011] [04:48:48] &lt;sustrik&gt;  yes, we can add the convenience flag</div>
<div class="line">[Tuesday 22 March 2011] [04:49:07] &lt;sustrik&gt;  nope, copying doesn&#8217;t lock the bus</div>
<div class="line">[Tuesday 22 March 2011] [04:49:24] &lt;sustrik&gt;  well, unless there&#8217;s contention between CPU cores on that particular cacheline</div>
<div class="line">[Tuesday 22 March 2011] [04:49:33] &lt;pieterh&gt;  well, copying also uses atomic ops for reference counting</div>
<div class="line">[Tuesday 22 March 2011] [04:49:51] &lt;sustrik&gt;  ah, you mean zmq_msg_copy</div>
<div class="line">[Tuesday 22 March 2011] [04:49:53] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:49:59] &lt;sustrik&gt;  so yes, we can add the flag</div>
<div class="line">[Tuesday 22 March 2011] [04:50:07] &lt;pieterh&gt;  yes, there&#8217;s no other way to send the same frame twice</div>
<div class="line">[Tuesday 22 March 2011] [04:50:17] &lt;sustrik&gt;  what i&#8217;m saying is that it should not be the default</div>
<div class="line">[Tuesday 22 March 2011] [04:50:17] &lt;pieterh&gt;  aight...</div>
<div class="line">[Tuesday 22 March 2011] [04:50:22] &lt;pieterh&gt;  ah, certainly</div>
<div class="line">[Tuesday 22 March 2011] [04:51:00]     * pieterh peeks at the code...</div>
<div class="line">[Tuesday 22 March 2011] [04:52:18] &lt;pieterh&gt;  well, I&#8217;ll add this to the 3.0 page but I have no idea how to make it :-)</div>
<div class="line">[Tuesday 22 March 2011] [04:52:25] &lt;pieterh&gt;  it would be useful, though IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:53:54] &lt;sustrik&gt;  it&#8217;s backward compatible, so no need to solve it immediately</div>
<div class="line">[Tuesday 22 March 2011] [04:54:12] &lt;sustrik&gt;  the backward incompatible changes are what&#8217;s in focus now</div>
<div class="line">[Tuesday 22 March 2011] [04:54:28] &lt;sustrik&gt;  they have to be done in a single go, if possible</div>
<div class="line">[Tuesday 22 March 2011] [04:54:33] &lt;sustrik&gt;  to minimise the pain</div>
<div class="line">[Tuesday 22 March 2011] [04:54:53] &lt;sustrik&gt;  the remaining functionality can be added gradually afterwards</div>
<div class="line">[Tuesday 22 March 2011] [04:58:29] &lt;pieterh&gt;  I&#8217;m not sure the changes will be as painful as you imagine</div>
<div class="line">[Tuesday 22 March 2011] [04:58:55] &lt;sustrik&gt;  dunno, but minimising the pain is a good thing in itself</div>
<div class="line">[Tuesday 22 March 2011] [04:59:10] &lt;pieterh&gt;  yes, at least doing it all in one go</div>
<div class="line">[Tuesday 22 March 2011] [06:59:40] &lt;pieterh&gt;  sustrik: I&#8217;ve built the basic API for the high-level C binding, at <a class="reference external" href="https://github.com/zeromq/zapi">https://github.com/zeromq/zapi</a></div>
<div class="line">[Tuesday 22 March 2011] [06:59:51] &lt;pieterh&gt;  will fill in the pieces over the next few days</div>
<div class="line">[Tuesday 22 March 2011] [07:01:10] &lt;drbobbeaty&gt;       pieterh: if the C level binding is separate in 3.x, is the C++ binding as well? Are they different bindings? What comes &#8220;standard&#8221; with the ZMQ libraries? Any &#8216;default&#8217; API?</div>
<div class="line">[Tuesday 22 March 2011] [07:01:25] &lt;pieterh&gt;  drbobbeaty: yes, we plan to split off the C++ binding as well</div>
<div class="line">[Tuesday 22 March 2011] [07:01:33] &lt;pieterh&gt;  the default API is the Core C API</div>
<div class="line">[Tuesday 22 March 2011] [07:02:09] &lt;pieterh&gt;  the new C binding will work over 2.x as well as 3.x</div>
<div class="line">[Tuesday 22 March 2011] [07:02:42] &lt;drbobbeaty&gt;       Ah! I see the advantage to having the separate binding now - bridge the versions. Nice plan.</div>
<div class="line">[Tuesday 22 March 2011] [07:03:03] &lt;pieterh&gt;  also it makes it much easier to add useful functionality without breaking other language bindings</div>
<div class="line">[Tuesday 22 March 2011] [07:03:18] &lt;pieterh&gt;  so we can e.g. write a C reactor without affecting the core</div>
<div class="line">[Tuesday 22 March 2011] [07:18:47] &lt;Guthur&gt;   pieterh: I think I&#8217;ll draw some inspiration from the new C binding</div>
<div class="line">[Tuesday 22 March 2011] [07:19:09] &lt;pieterh&gt;  Guthur: could be fun, I&#8217;ve tried to use a class-oriented approach for most of it</div>
<div class="line">[Tuesday 22 March 2011] [07:20:26] &lt;pieterh&gt;  I&#8217;ll be converting the Guide examples to zapi when it&#8217;s ready</div>
<div class="line">[Tuesday 22 March 2011] [07:20:40] &lt;pieterh&gt;  so if the C++ binding is anything like that, it&#8217;ll be a lot easier for those examples too</div>
<div class="line">[Tuesday 22 March 2011] [07:21:14] &lt;pieterh&gt;  Guthur: when you need a repository created in the zeromq organization, give me a shout</div>
<div class="line">[Tuesday 22 March 2011] [07:21:16] &lt;Guthur&gt;   C# you mean, hehe</div>
<div class="line">[Tuesday 22 March 2011] [07:21:21] &lt;pieterh&gt;  oh, sorry</div>
<div class="line">[Tuesday 22 March 2011] [07:21:23] &lt;pieterh&gt;  C#</div>
<div class="line">[Tuesday 22 March 2011] [07:21:29]     * pieterh was getting all confused</div>
<div class="line">[Tuesday 22 March 2011] [07:21:48]     * pieterh searches for the &#8216;edit&#8217; button...</div>
<div class="line">[Tuesday 22 March 2011] [07:24:16] &lt;Guthur&gt;   When 0MQ 3.0 API is finalized I&#8217;m going to develop a new branch for clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:24:46] &lt;Guthur&gt;   I have a far better idea now what works and what doesn&#8217;t</div>
<div class="line">[Tuesday 22 March 2011] [07:25:02] &lt;pieterh&gt;  please don&#8217;t call it clrzmq3 :-)</div>
<div class="line">[Tuesday 22 March 2011] [07:25:23] &lt;Guthur&gt;   yeah I&#8217;ll resist that temptation</div>
<div class="line">[Tuesday 22 March 2011] [07:25:47] &lt;Guthur&gt;   It will just be a branch of clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:26:00] &lt;pieterh&gt;  though ... embracing the chaos... it could be useful</div>
<div class="line">[Tuesday 22 March 2011] [07:26:07] &lt;pieterh&gt;  if binding versions track the development version</div>
<div class="line">[Tuesday 22 March 2011] [07:26:19] &lt;pieterh&gt;  so people know that clrzmq3 supports 3.x and 2.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:26] &lt;Guthur&gt;   the assembly will be version 3.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:49] &lt;Guthur&gt;   the assembly is currently 2.1.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:58] &lt;pieterh&gt;  problem is that the version number is in the github repo name</div>
<div class="line">[Tuesday 22 March 2011] [07:27:05] &lt;Guthur&gt;   true</div>
<div class="line">[Tuesday 22 March 2011] [07:27:11] &lt;pieterh&gt;  we have the same problem with zeromq2</div>
<div class="line">[Tuesday 22 March 2011] [07:28:00] &lt;Guthur&gt;   not an easy decision to be honest</div>
<div class="line">[Tuesday 22 March 2011] [07:28:15] &lt;Guthur&gt;   I really don&#8217;t want to confuse potential/current users</div>
<div class="line">[Tuesday 22 March 2011] [07:30:50] &lt;Guthur&gt;   pieterh: can you briefly explain you reactor pattern thing in the C binding</div>
<div class="line">[Tuesday 22 March 2011] [07:31:16] &lt;pieterh&gt;  Guthur: to be honest I&#8217;ve never used a reactor pattern so this is kind of a guess</div>
<div class="line">[Tuesday 22 March 2011] [07:31:25] &lt;pieterh&gt;  the idea is to register the events you want to handle</div>
<div class="line">[Tuesday 22 March 2011] [07:31:34] &lt;pieterh&gt;  and then a tickless poll loop can handle it</div>
<div class="line">[Tuesday 22 March 2011] [07:31:38] &lt;mikko&gt;    howdy boys</div>
<div class="line">[Tuesday 22 March 2011] [07:31:39] &lt;mikko&gt;    and girls</div>
<div class="line">[Tuesday 22 March 2011] [07:31:42] &lt;pieterh&gt;  hey mikko!</div>
<div class="line">[Tuesday 22 March 2011] [07:31:47] &lt;Guthur&gt;   hi mikko</div>
<div class="line">[Tuesday 22 March 2011] [07:31:55] &lt;Guthur&gt;   pieterh: what is the alarm part</div>
<div class="line">[Tuesday 22 March 2011] [07:32:17] &lt;Guthur&gt;   and clock</div>
<div class="line">[Tuesday 22 March 2011] [07:32:21] &lt;pieterh&gt;  Guthur: if you look at a realistic app like the Majordomo broker</div>
<div class="line">[Tuesday 22 March 2011] [07:32:27] &lt;pieterh&gt;  then it mixes socket events with timer events</div>
<div class="line">[Tuesday 22 March 2011] [07:32:36] &lt;pieterh&gt;  e.g. &#8220;send heartbeats every 3 seconds&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [07:32:46] &lt;pieterh&gt;  &#8220;kill server if no response in 2500 msecs&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [07:33:12] &lt;pieterh&gt;  I made a proper tickless poll loop in the flcliapi (freelance client)</div>
<div class="line">[Tuesday 22 March 2011] [07:33:21] &lt;pieterh&gt;  it calculates the next timer event and polls that long</div>
<div class="line">[Tuesday 22 March 2011] [07:33:23] &lt;Guthur&gt;   ok so that would be too all registered sockets</div>
<div class="line">[Tuesday 22 March 2011] [07:33:28] &lt;pieterh&gt;  rather than polling every second or whatever</div>
<div class="line">[Tuesday 22 March 2011] [07:33:47] &lt;Guthur&gt;   I haven&#8217;t got as far as freelance yet</div>
<div class="line">[Tuesday 22 March 2011] [07:34:17] &lt;pieterh&gt;  take a brief look at the flcliapi poll loop, if you want to understand zloop</div>
<div class="line">[Tuesday 22 March 2011] [07:34:19] &lt;Guthur&gt;   I&#8217;ve just got to majordomo</div>
<div class="line">[Tuesday 22 March 2011] [07:34:22] &lt;pieterh&gt;  :-)</div>
<div class="line">[Tuesday 22 March 2011] [07:35:18] &lt;pieterh&gt;  the reactor won&#8217;t work for all cases, sometimes we poll selectively</div>
<div class="line">[Tuesday 22 March 2011] [07:35:27] &lt;pieterh&gt;  but it should help the more complex designs</div>
<div class="line">[Tuesday 22 March 2011] [07:40:40] &lt;Guthur&gt;   I think I&#8217;ve sort of included a limited reactor pattern in clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:42:19] &lt;Guthur&gt;   but unfortunately the incremental nature of the development of the polling mechanism has left the API in a state that is less clear that I would like</div>
<div class="line">[Tuesday 22 March 2011] [07:42:42] &lt;Guthur&gt;   it&#8217;s one of the main area&#8217;s I would like to refactor</div>
<div class="line">[Tuesday 22 March 2011] [07:44:10] &lt;Guthur&gt;   I&#8217;d also like to simplify the send/recv</div>
<div class="line">[Tuesday 22 March 2011] [07:45:29] &lt;pieterh&gt;  in C# strings are just blobs, right?</div>
<div class="line">[Tuesday 22 March 2011] [07:45:55] &lt;Guthur&gt;   they are objects</div>
<div class="line">[Tuesday 22 March 2011] [07:46:36] &lt;pieterh&gt;  right</div>
<div class="line">[Tuesday 22 March 2011] [07:47:35] &lt;Guthur&gt;   i&#8217;d rather deal with them in an msg object as oppose to at the socket level send/recv</div>
<div class="line">[Tuesday 22 March 2011] [07:48:00] &lt;pieterh&gt;  the breakdown I&#8217;m using in zapi is frame vs. msg</div>
<div class="line">[Tuesday 22 March 2011] [07:48:08] &lt;pieterh&gt;  where frame is one part, msg is a multipart object</div>
<div class="line">[Tuesday 22 March 2011] [07:48:23] &lt;Guthur&gt;   I meant to ask about the framw</div>
<div class="line">[Tuesday 22 March 2011] [07:48:26] &lt;Guthur&gt;   frame*</div>
<div class="line">[Tuesday 22 March 2011] [07:48:44] &lt;pieterh&gt;  0MQ uses &#8216;msg&#8217; to mean &#8216;part&#8217;, which is confusing</div>
<div class="line">[Tuesday 22 March 2011] [07:49:11] &lt;Guthur&gt;   yeah, was taking more about the multipart you describe</div>
<div class="line">[Tuesday 22 March 2011] [07:49:21] &lt;pieterh&gt;  perhaps I should use &#8216;part&#8217; instead of &#8216;frame&#8217;... anyhow</div>
<div class="line">[Tuesday 22 March 2011] [07:49:39] &lt;pieterh&gt;  the frame class lets you do things like &#8216;receive the identity&#8217; and &#8216;send the identity&#8217; with ROUTER sockets</div>
<div class="line">[Tuesday 22 March 2011] [07:50:14] &lt;pieterh&gt;  whereas the msg class is more like &#8216;recv a list of frames&#8217; and &#8216;send a list of frames&#8217;</div>
<div class="line">[Tuesday 22 March 2011] [07:51:46] &lt;Guthur&gt;   I was also then going to take a lazy marshalling approach, only marshalling the zeromq msg (part) to a c# data type when required, should improved performance in situations where you don&#8217;t need to know about the whole message</div>
<div class="line">[Tuesday 22 March 2011] [07:52:24] &lt;pieterh&gt;  that makes sense, it&#8217;s what I&#8217;m doing in other places</div>
<div class="line">[Tuesday 22 March 2011] [07:52:28] &lt;Guthur&gt;   it&#8217;s sort of all in my head at the moment though, I really should try to define the API like you have done</div>
<div class="line">[Tuesday 22 March 2011] [07:52:40] &lt;pieterh&gt;  yeah, start with the API, it makes everything clearer</div>
<div class="line">[Tuesday 22 March 2011] [09:03:12] &lt;drbobbeaty&gt;       I have a core dump with ZeroMQ 2.1.3 this morning... I have detailed it in this gist: <a class="reference external" href="https://gist.github.com/881176">https://gist.github.com/881176</a> . It includes the stack trace and the code from OpenPGM that&#8217;s the last step in the trace.</div>
<div class="line">[Tuesday 22 March 2011] [09:03:49] &lt;drbobbeaty&gt;       It seems impossible to be true &#8211; if the assert is causing the exception, then the value of minor_bucket has to be NULL... but it&#8217;s not, as shown in the stack trace.</div>
<div class="line">[Tuesday 22 March 2011] [09:03:58] &lt;drbobbeaty&gt;       Is this a problem for Steve?</div>
<div class="line">[Tuesday 22 March 2011] [09:04:34] &lt;drbobbeaty&gt;       (I&#8217;ve received this on two different boxes on four separate occasions this morning)</div>
<div class="line">[Tuesday 22 March 2011] [09:06:38] &lt;drbobbeaty&gt;       HA! I think it&#8217;s the data_size being 0!</div>
<div class="line">[Tuesday 22 March 2011] [09:06:47] &lt;drbobbeaty&gt;       Any ideas as to why that would be?</div>
<div class="line">[Tuesday 22 March 2011] [09:07:03] &lt;sustrik&gt;  drbobbeaty: you have to discuss that with steve-o</div>
<div class="line">[Tuesday 22 March 2011] [09:07:14] &lt;sustrik&gt;  seem to be a problem with new version of opnepgm</div>
<div class="line">[Tuesday 22 March 2011] [09:09:58] &lt;drbobbeaty&gt;       Steve-o: can you have a look at <a class="reference external" href="https://gist.github.com/881176">https://gist.github.com/881176</a> and give me an idea of why data_size == 0 on the call? I&#8217;m hitting the assertion and have no idea why.</div>
<div class="line">[Tuesday 22 March 2011] [09:10:20] &lt;drbobbeaty&gt;       pieterh: should I just hit the mailing list for steve-o?</div>
<div class="line">[Tuesday 22 March 2011] [09:10:58] &lt;pieterh&gt;  drbobbeaty: I&#8217;d do that, he&#8217;s in Asia and probably out of the office by now</div>
<div class="line">[Tuesday 22 March 2011] [09:11:21] &lt;pieterh&gt;  the good news is you can get a new OpenPGM and use that with 2.1.3 without further changes</div>
<div class="line">[Tuesday 22 March 2011] [09:16:16] &lt;Guthur&gt;   sustrik: I see in the IPC discussion no one is actually talking about using IOCP and named pipes. I&#8217;ve been meaning to ask you about whether you think an abstraction layer over either Sockets &amp; Named Pipes or IOCP itself could feasibly provide the necessary functionality to mimic what is required from poll, select etc in 0MQ</div>
<div class="line">[Tuesday 22 March 2011] [09:16:50] &lt;Guthur&gt;   this would all be window centric changes of course</div>
<div class="line">[Tuesday 22 March 2011] [09:22:50] &lt;drbobbeaty&gt;       Steve-o: if you get this, please check the mailing list... I&#8217;m getting more than two core dumps an hour with 2.1.3 due to this data_size == 0 issue. Yikes!</div>
<div class="line">[Tuesday 22 March 2011] [09:23:56] &lt;pieterh&gt;  drbobbeaty: sorry about this, we don&#8217;t have the facilities to properly test OpenPGM yet</div>
<div class="line">[Tuesday 22 March 2011] [09:24:29] &lt;pieterh&gt;  I&#8217;d advise you to rollback to 2.1.2 until we get a fix to it</div>
<div class="line">[Tuesday 22 March 2011] [09:24:42] &lt;drbobbeaty&gt;       I understand... If I had to guess it&#8217;s an edge condition where data_size == 0, and I&#8217;m just hitting it more with all the exchange feeds I&#8217;m dealing with.</div>
<div class="line">[Tuesday 22 March 2011] [09:24:51] &lt;sustrik&gt;  Guthur: what&#8217;s being discussed is a workaround</div>
<div class="line">[Tuesday 22 March 2011] [09:25:00] &lt;drbobbeaty&gt;       pieterh: that&#8217;s a good plan.</div>
<div class="line">[Tuesday 22 March 2011] [09:25:06] &lt;sustrik&gt;  something that would look like IPC but would actually be TCP</div>
<div class="line">[Tuesday 22 March 2011] [09:25:17] &lt;pieterh&gt;  drbobbeaty: I expect tomorrow morning Steve will have an updated OpenPGM package</div>
<div class="line">[Tuesday 22 March 2011] [09:25:17] &lt;sustrik&gt;  real solution is IPC &amp; NamedPipes</div>
<div class="line">[Tuesday 22 March 2011] [09:25:46] &lt;pieterh&gt;  you can install it and rebuild 2.1.3, &#8211;with-openpgm=&lt;version&gt; or somesuch, I&#8217;m not 100% sure on that syntax</div>
<div class="line">[Tuesday 22 March 2011] [09:28:10] &lt;Guthur&gt;   sustrik: does the abstraction sound like a feasible objective?</div>
<div class="line">[Tuesday 22 March 2011] [09:29:52] &lt;sustrik&gt;  Guthur: the abstraction exists already</div>
<div class="line">[Tuesday 22 March 2011] [09:30:12] &lt;sustrik&gt;  check how poll_t, select_t, epoll_t etc. interface with the rest of the system</div>
<div class="line">[Tuesday 22 March 2011] [09:30:27] &lt;sustrik&gt;  check whether IOCP can use the same interface</div>
<div class="line">[Tuesday 22 March 2011] [09:30:35] &lt;sustrik&gt;  if not, propose changes</div>
<div class="line">[Tuesday 22 March 2011] [09:31:06] &lt;Guthur&gt;   I thought the problem was that underneath those abstractions they use functionality that IOCP does not provide</div>
<div class="line">[Tuesday 22 March 2011] [09:31:22] &lt;Guthur&gt;   IOCP only providing notification of completion</div>
<div class="line">[Tuesday 22 March 2011] [09:32:10] &lt;sustrik&gt;  right, IOCP has an additional buffer between the user and the network</div>
<div class="line">[Tuesday 22 March 2011] [09:32:14] &lt;sustrik&gt;  something like AIO</div>
<div class="line">[Tuesday 22 March 2011] [09:32:24] &lt;sustrik&gt;  is there a way to limit the size of the buffer?</div>
<div class="line">[Tuesday 22 March 2011] [09:32:40] &lt;Guthur&gt;   I can check that out</div>
<div class="line">[Tuesday 22 March 2011] [09:33:00] &lt;sustrik&gt;  yes, please</div>
<div class="line">[Tuesday 22 March 2011] [09:33:08] &lt;sustrik&gt;  if there&#8217;s no limit to the buffer</div>
<div class="line">[Tuesday 22 March 2011] [09:33:17] &lt;sustrik&gt;  it could easily exhaust all the memory</div>
<div class="line">[Tuesday 22 March 2011] [09:33:47] &lt;sustrik&gt;  in such case the code using IOCP would have to keep track of amount of memory in use</div>
<div class="line">[Tuesday 22 March 2011] [09:35:12] &lt;Guthur&gt;   oh, that does not sound ideal</div>
<div class="line">[Tuesday 22 March 2011] [09:45:48] &lt;sustrik&gt;  cremes: hi</div>
<div class="line">[Tuesday 22 March 2011] [09:46:01] &lt;cremes&gt;   sustrik: good morning</div>
<div class="line">[Tuesday 22 March 2011] [09:46:09] &lt;sustrik&gt;  morning</div>
<div class="line">[Tuesday 22 March 2011] [09:46:23] &lt;sustrik&gt;  as for the assertion, any chance of getting backtrace?</div>
<div class="line">[Tuesday 22 March 2011] [09:47:01] &lt;cremes&gt;   sustrik: i can try to capture it in gdb; give me a few minutes and i&#8217;ll see what i can do</div>
<div class="line">[Tuesday 22 March 2011] [09:47:07] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [09:47:28] &lt;sustrik&gt;  another thing: the allocation mechanism you proposed</div>
<div class="line">[Tuesday 22 March 2011] [09:47:44] &lt;sustrik&gt;  have you found out where the memory disappers?</div>
<div class="line">[Tuesday 22 March 2011] [09:48:18] &lt;sustrik&gt;  (issue 174)</div>
<div class="line">[Tuesday 22 March 2011] [09:48:31] &lt;cremes&gt;   sustrik: i need to run your code with the patch you supplied on my linux box</div>
<div class="line">[Tuesday 22 March 2011] [09:48:45] &lt;cremes&gt;   i ran it on my osx box and it was disappearing in the same place as before</div>
<div class="line">[Tuesday 22 March 2011] [09:48:59] &lt;cremes&gt;   (the backtrace in issue 174)</div>
<div class="line">[Tuesday 22 March 2011] [09:52:32] &lt;sustrik&gt;  i though the proposal you made is related to 174</div>
<div class="line">[Tuesday 22 March 2011] [09:54:33] &lt;cremes&gt;   sustrik: it was; based on your feedback i was assuming the memory growth was due to page fragmentation caused</div>
<div class="line">[Tuesday 22 March 2011] [09:54:37] &lt;cremes&gt;   by small memory allocations</div>
<div class="line">[Tuesday 22 March 2011] [09:55:33] &lt;sustrik&gt;  afaik most allocators have per-size caches</div>
<div class="line">[Tuesday 22 March 2011] [09:55:49] &lt;sustrik&gt;  so you have special cache for 16 byte blocks</div>
<div class="line">[Tuesday 22 March 2011] [09:56:04] &lt;sustrik&gt;  another one for 32 byte blocks etc.</div>
<div class="line">[Tuesday 22 March 2011] [09:56:06] &lt;Guthur&gt;   sustrik: you can indeed specify a buffer size</div>
<div class="line">[Tuesday 22 March 2011] [09:56:25] &lt;sustrik&gt;  that in turn leads to optimal heap utilisation</div>
<div class="line">[Tuesday 22 March 2011] [09:56:48] &lt;Guthur&gt;   I need to check some of my resources at home though to remind myself of details of IOCP</div>
<div class="line">[Tuesday 22 March 2011] [09:56:49] &lt;cremes&gt;   sustrik: okay, then i don&#8217;t understand why in the ticket you wrote that it&#8217;s due to a known problem with malloc</div>
<div class="line">[Tuesday 22 March 2011] [09:56:55] &lt;sustrik&gt;  Guthur: how do you do that?</div>
<div class="line">[Tuesday 22 March 2011] [09:57:12] &lt;Guthur&gt;   sustrik: during the read call</div>
<div class="line">[Tuesday 22 March 2011] [09:57:31] &lt;Guthur&gt;   you specify a buffer and bytestoread</div>
<div class="line">[Tuesday 22 March 2011] [09:58:15] &lt;sustrik&gt;  Guthur: i meant limiting the send buffer</div>
<div class="line">[Tuesday 22 March 2011] [09:58:33] &lt;sustrik&gt;  say, totoal amount that can be used is 64kB</div>
<div class="line">[Tuesday 22 March 2011] [09:58:55] &lt;sustrik&gt;  attempt to exceed the buffer would mean the send call would fail</div>
<div class="line">[Tuesday 22 March 2011] [09:59:07] &lt;sustrik&gt;  is there anything like that in IOCP?</div>
<div class="line">[Tuesday 22 March 2011] [09:59:33] &lt;sustrik&gt;  cremes: the problem i referred to is that processes don&#8217;t return allocated memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [10:00:13] &lt;sustrik&gt;  thus, it&#8217;s not used, but cannot be reused by a different process</div>
<div class="line">[Tuesday 22 March 2011] [10:00:54] &lt;cremes&gt;   sustrik: sure, and from my research that is due to page fragmentation caused by malloc/free called on lots of small blocks (smaller than a page)</div>
<div class="line">[Tuesday 22 March 2011] [10:01:19] &lt;sustrik&gt;  does it return allocated memory at all?</div>
<div class="line">[Tuesday 22 March 2011] [10:01:33] &lt;cremes&gt;   yes, if an entire page can be freed</div>
<div class="line">[Tuesday 22 March 2011] [10:01:42] &lt;sustrik&gt;  that&#8217;s linux?</div>
<div class="line">[Tuesday 22 March 2011] [10:01:45] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 22 March 2011] [10:01:54] &lt;sustrik&gt;  nice</div>
<div class="line">[Tuesday 22 March 2011] [10:02:03] &lt;cremes&gt;   i got this from a few different write-ups that i read on stackoverflow and one other site</div>
<div class="line">[Tuesday 22 March 2011] [10:02:03] &lt;sustrik&gt;  iirc it wasn&#8217;t the case in the past</div>
<div class="line">[Tuesday 22 March 2011] [10:02:11] &lt;cremes&gt;   i&#8217;ll try to find them again</div>
<div class="line">[Tuesday 22 March 2011] [10:02:17] &lt;Guthur&gt;   sustrik: do you mean more than <a class="reference external" href="http://msdn.microsoft.com/en-us/library/aa365748(v=VS.85).aspx">http://msdn.microsoft.com/en-us/library/aa365748(v=VS.85).aspx</a></div>
<div class="line">[Tuesday 22 March 2011] [10:02:30] &lt;cremes&gt;   yes, it appears that was an issue with kernel 2.4 and earlier</div>
<div class="line">[Tuesday 22 March 2011] [10:02:39] &lt;cremes&gt;   apparently 2.6 resolves that issue</div>
<div class="line">[Tuesday 22 March 2011] [10:05:19] &lt;Guthur&gt;   you could presumably build some chunking mechanism on top of that with IOCP</div>
<div class="line">[Tuesday 22 March 2011] [10:05:48] &lt;Guthur&gt;   send chunk 1 with Completed send chunk 2....</div>
<div class="line">[Tuesday 22 March 2011] [10:05:53] &lt;Guthur&gt;   with/when</div>
<div class="line">[Tuesday 22 March 2011] [10:09:16] &lt;sustrik&gt;  Guthur: yes, something like that</div>
<div class="line">[Tuesday 22 March 2011] [10:09:41] &lt;sustrik&gt;  cremes: nice</div>
<div class="line">[Tuesday 22 March 2011] [10:10:09] &lt;sustrik&gt;  now, the problem occurs because of 2 specific allocations</div>
<div class="line">[Tuesday 22 March 2011] [10:10:17] &lt;sustrik&gt;  according to the OSX tool</div>
<div class="line">[Tuesday 22 March 2011] [10:10:33] &lt;sustrik&gt;  1. allocating the chunk in yqueue_t</div>
<div class="line">[Tuesday 22 March 2011] [10:10:55] &lt;sustrik&gt;  2. allocating the encoder/decoder buffers in engine</div>
<div class="line">[Tuesday 22 March 2011] [10:11:34] &lt;sustrik&gt;  so, afaiu, if the size of those allocations is a muliply of page size, the problem should go away, right?</div>
<div class="line">[Tuesday 22 March 2011] [10:11:54] &lt;sustrik&gt;  as for 2 the size of those buffers is 8kB</div>
<div class="line">[Tuesday 22 March 2011] [10:12:07] &lt;sustrik&gt;  so there&#8217;s no fragmentation issue</div>
<div class="line">[Tuesday 22 March 2011] [10:12:30] &lt;sustrik&gt;  hm, for 1. the size is 12kB</div>
<div class="line">[Tuesday 22 March 2011] [10:12:45] &lt;sustrik&gt;  so the fragmentation should not happen</div>
<div class="line">[Tuesday 22 March 2011] [10:13:08] &lt;sustrik&gt;  but given that the test is run on OSX, the allocation mechanism may be different</div>
<div class="line">[Tuesday 22 March 2011] [10:13:57] &lt;cremes&gt;   sustrik: true, but the memory growth is also reproducible on linux</div>
<div class="line">[Tuesday 22 March 2011] [10:14:04] &lt;cremes&gt;   i just don&#8217;t have a tool there to show where it&#8217;s happening</div>
<div class="line">[Tuesday 22 March 2011] [10:14:12] &lt;sustrik&gt;  :(</div>
<div class="line">[Tuesday 22 March 2011] [10:14:18] &lt;cremes&gt;   i am <em>assuming</em> it occurs in the same place on both OSes</div>
<div class="line">[Tuesday 22 March 2011] [10:14:36] &lt;sustrik&gt;  you&#8217;ll have to run the test with my patch</div>
<div class="line">[Tuesday 22 March 2011] [10:14:38] &lt;cremes&gt;   sustrik: just to confirm, you were able to reproduce this on your linux system with that example code, right?</div>
<div class="line">[Tuesday 22 March 2011] [10:14:47] &lt;sustrik&gt;  that&#8217;ll at least show whether it&#8217;s the yqueue issue</div>
<div class="line">[Tuesday 22 March 2011] [10:15:15] &lt;sustrik&gt;  yes, i think so</div>
<div class="line">[Tuesday 22 March 2011] [10:15:38] &lt;sustrik&gt;  i assumed it was process not returning memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [10:15:53] &lt;sustrik&gt;  but given the issue was solved in linux/2.6</div>
<div class="line">[Tuesday 22 March 2011] [10:15:59] &lt;sustrik&gt;  it has to be something different</div>
<div class="line">[Tuesday 22 March 2011] [10:16:43] &lt;cremes&gt;   sustrik: after i try to get this backtrace for the other issue (181) i&#8217;ll apply your patch on linux and run it</div>
<div class="line">[Tuesday 22 March 2011] [10:16:51] &lt;sustrik&gt;  thanks</div>
<div class="line">[Tuesday 22 March 2011] [10:20:46] &lt;Guthur&gt;   pieterh: with MDP do you see anything inherently wrong with having workers being other brokers</div>
<div class="line">[Tuesday 22 March 2011] [10:29:00] &lt;Guthur&gt;   maybe even have service requests routed via a URI</div>
<div class="line">[Tuesday 22 March 2011] [10:52:13] &lt;pieterh&gt;  Guthur: workers can certainly be brokers as well</div>
<div class="line">[Tuesday 22 March 2011] [10:54:25] &lt;cremes&gt;   sustrik: got a core; do you want the output from &#8216;bt&#8217; or from &#8216;thread apply all bt&#8217;?</div>
<div class="line">[Tuesday 22 March 2011] [10:54:53] &lt;sustrik&gt;  presumably the latter</div>
<div class="line">[Tuesday 22 March 2011] [10:55:12] &lt;cremes&gt;   sustrik: ok... i&#8217;ll give you both :)</div>
<div class="line">[Tuesday 22 March 2011] [10:55:27] &lt;sustrik&gt;  thx</div>
<div class="line">[Tuesday 22 March 2011] [10:55:51] &lt;cremes&gt;   sustrik: <a class="reference external" href="https://gist.github.com/881336">https://gist.github.com/881336</a></div>
<div class="line">[Tuesday 22 March 2011] [10:56:51] &lt;cremes&gt;   btw, this is off of commit 1619b3d84a04fe1886347fd83280a607</div>
<div class="line">[Tuesday 22 March 2011] [10:59:51] &lt;sustrik&gt;  cremes: the assertion happens in mutex destructor</div>
<div class="line">[Tuesday 22 March 2011] [10:59:57] &lt;sustrik&gt;  interesting</div>
<div class="line">[Tuesday 22 March 2011] [11:00:04] &lt;sustrik&gt;  do you console output?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:23] &lt;sustrik&gt;  it should print out the actual error code</div>
<div class="line">[Tuesday 22 March 2011] [11:00:28] &lt;cremes&gt;   i don&#8217;t understand the question; i have a core file... is there something else you want me to look at?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:33] &lt;sustrik&gt;  errno</div>
<div class="line">[Tuesday 22 March 2011] [11:00:42] &lt;cremes&gt;   p errno?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:44] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [11:00:49] &lt;sustrik&gt;  in the asserted thread</div>
<div class="line">[Tuesday 22 March 2011] [11:01:12] &lt;sustrik&gt;  thread 1</div>
<div class="line">[Tuesday 22 March 2011] [11:01:14] &lt;sustrik&gt;  p errno</div>
<div class="line">[Tuesday 22 March 2011] [11:01:47] &lt;cremes&gt;   Cannot find thread-local variables on this target</div>
<div class="line">[Tuesday 22 March 2011] [11:01:56] &lt;sustrik&gt;  :|</div>
<div class="line">[Tuesday 22 March 2011] [11:02:19] &lt;sustrik&gt;  does the program show the console output</div>
<div class="line">[Tuesday 22 March 2011] [11:02:20] &lt;sustrik&gt;  ?</div>
<div class="line">[Tuesday 22 March 2011] [11:02:23] &lt;sustrik&gt;  stderr</div>
<div class="line">[Tuesday 22 March 2011] [11:02:25] &lt;sustrik&gt;  ?</div>
<div class="line">[Tuesday 22 March 2011] [11:02:59] &lt;sustrik&gt;  if so, the error should be visible there</div>
<div class="line">[Tuesday 22 March 2011] [11:03:30] &lt;cremes&gt;   looking...</div>
<div class="line">[Tuesday 22 March 2011] [11:03:55] &lt;sustrik&gt;  you should see the assert there</div>
<div class="line">[Tuesday 22 March 2011] [11:04:06] &lt;sustrik&gt;  the line above it should be the error</div>
<div class="line">[Tuesday 22 March 2011] [11:04:59] &lt;cremes&gt;   all it printed was the assert from socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:05:32] &lt;sustrik&gt;  the stack trace shows a different assert</div>
<div class="line">[Tuesday 22 March 2011] [11:05:42] &lt;sustrik&gt;  is that the same run?</div>
<div class="line">[Tuesday 22 March 2011] [11:05:45] &lt;cremes&gt;   let me run it again and put everything to the console instead of to files (i usually redirect the output)</div>
<div class="line">[Tuesday 22 March 2011] [11:05:54] &lt;cremes&gt;   same run</div>
<div class="line">[Tuesday 22 March 2011] [11:05:58] &lt;sustrik&gt;  strange</div>
<div class="line">[Tuesday 22 March 2011] [11:06:52] &lt;cremes&gt;   running again...</div>
<div class="line">[Tuesday 22 March 2011] [11:12:47] &lt;cremes&gt;   sustrik: all it prints is:</div>
<div class="line">[Tuesday 22 March 2011] [11:12:48] &lt;cremes&gt;   Assertion failed: sessions.empty () (socket_base.cpp:127)</div>
<div class="line">[Tuesday 22 March 2011] [11:12:56] &lt;cremes&gt;   Aborted (core dumped)</div>
<div class="line">[Tuesday 22 March 2011] [11:14:00] &lt;cremes&gt;   the thread backtraces are the same for this core</div>
<div class="line">[Tuesday 22 March 2011] [11:15:43] &lt;sustrik&gt;  that&#8217;s really strange</div>
<div class="line">[Tuesday 22 March 2011] [11:15:56] &lt;sustrik&gt;  thread 1 reports the assertion happened in mutex.hpp</div>
<div class="line">[Tuesday 22 March 2011] [11:16:06] &lt;sustrik&gt;  rather than in socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:16:21] &lt;sustrik&gt;  maybe it&#8217;s optimiser&#8217;s fault</div>
<div class="line">[Tuesday 22 March 2011] [11:16:23] &lt;cremes&gt;   i don&#8217;t have an explanation :(</div>
<div class="line">[Tuesday 22 March 2011] [11:16:35] &lt;pieterh&gt;  cremes: are you building a debug version?</div>
<div class="line">[Tuesday 22 March 2011] [11:16:36] &lt;sustrik&gt;  any chance of building 0mq with optimisations disabled?</div>
<div class="line">[Tuesday 22 March 2011] [11:16:45] &lt;cremes&gt;   pieterh: yes, ./configure &#8211;enable-debug</div>
<div class="line">[Tuesday 22 March 2011] [11:16:53] &lt;cremes&gt;   sustrik: yes</div>
<div class="line">[Tuesday 22 March 2011] [11:17:11] &lt;sustrik&gt;  &#8211;enable-debug should turn optimisations off</div>
<div class="line">[Tuesday 22 March 2011] [11:17:16] &lt;sustrik&gt;  (-O0)</div>
<div class="line">[Tuesday 22 March 2011] [11:17:42] &lt;cremes&gt;   let me rebuild</div>
<div class="line">[Tuesday 22 March 2011] [11:17:48] &lt;cremes&gt;   i&#8217;ll make clean first...</div>
<div class="line">[Tuesday 22 March 2011] [11:18:03] &lt;sustrik&gt;  cremes: wait a sec</div>
<div class="line">[Tuesday 22 March 2011] [11:18:16] &lt;sustrik&gt;  maybe it makes more sense to try to figure out what&#8217;s failing</div>
<div class="line">[Tuesday 22 March 2011] [11:18:22] &lt;sustrik&gt;  are you using identities?</div>
<div class="line">[Tuesday 22 March 2011] [11:18:53] &lt;cremes&gt;   oops, too late</div>
<div class="line">[Tuesday 22 March 2011] [11:18:58] &lt;cremes&gt;   yes, i am using identities</div>
<div class="line">[Tuesday 22 March 2011] [11:19:40] &lt;sustrik&gt;  the failing socket seems to be xreq, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:19:54] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 22 March 2011] [11:20:19] &lt;sustrik&gt;  any chance it gets connected to two peers that happen to have the same identity</div>
<div class="line">[Tuesday 22 March 2011] [11:20:27] &lt;sustrik&gt;  one of them via connect, other one via bind?</div>
<div class="line">[Tuesday 22 March 2011] [11:20:42] &lt;cremes&gt;   let me take a quick look at the code; i want to say &#8220;no&#8221; but let me verify</div>
<div class="line">[Tuesday 22 March 2011] [11:21:02] &lt;sustrik&gt;  simpler question: do you bind or connect the xreq socket; or both?</div>
<div class="line">[Tuesday 22 March 2011] [11:22:33] &lt;cremes&gt;   hard to say</div>
<div class="line">[Tuesday 22 March 2011] [11:22:41] &lt;cremes&gt;   if the xreq is part of a QUEUE device, then it&#8217;s binding</div>
<div class="line">[Tuesday 22 March 2011] [11:22:46] &lt;cremes&gt;   otherwise all other sockets connect</div>
<div class="line">[Tuesday 22 March 2011] [11:23:02] &lt;sustrik&gt;  never both on the same socket, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:23:08] &lt;cremes&gt;   correct</div>
<div class="line">[Tuesday 22 March 2011] [11:24:49] &lt;sustrik&gt;  hm, maybe the socket_base_t happens to get destructed twice</div>
<div class="line">[Tuesday 22 March 2011] [11:24:59] &lt;sustrik&gt;  is it possible to add printf&#8217;s to your program?</div>
<div class="line">[Tuesday 22 March 2011] [11:25:10] &lt;cremes&gt;   sustrik: yes</div>
<div class="line">[Tuesday 22 March 2011] [11:25:30] &lt;cremes&gt;   you want them added to calls to zmq_close() ?</div>
<div class="line">[Tuesday 22 March 2011] [11:25:34] &lt;sustrik&gt;  something like this:</div>
<div class="line">[Tuesday 22 March 2011] [11:25:55] &lt;sustrik&gt;  printf (&#8220;alloc %pn&#8221;, (void*) this);</div>
<div class="line">[Tuesday 22 March 2011] [11:26:07] &lt;sustrik&gt;  in socket_base_t constructor</div>
<div class="line">[Tuesday 22 March 2011] [11:26:09] &lt;sustrik&gt;  and</div>
<div class="line">[Tuesday 22 March 2011] [11:26:17] &lt;sustrik&gt;  printf (&#8220;dealloc %pn&#8221;, (void*) this);</div>
<div class="line">[Tuesday 22 March 2011] [11:26:21] &lt;sustrik&gt;  in the destructor</div>
<div class="line">[Tuesday 22 March 2011] [11:26:41] &lt;sustrik&gt;  that should show us whether the destructor is called twice for the same object</div>
<div class="line">[Tuesday 22 March 2011] [11:27:17] &lt;cremes&gt;   in the destructor, do you want this printf called first or last?</div>
<div class="line">[Tuesday 22 March 2011] [11:27:25] &lt;cremes&gt;   presumably first</div>
<div class="line">[Tuesday 22 March 2011] [11:27:43] &lt;sustrik&gt;  first</div>
<div class="line">[Tuesday 22 March 2011] [11:28:40] &lt;cremes&gt;   running...</div>
<div class="line">[Tuesday 22 March 2011] [11:28:55] &lt;cremes&gt;   hmmm, i should have separated that stuff out to stderr</div>
<div class="line">[Tuesday 22 March 2011] [11:31:59] &lt;cremes&gt;   how do i redirect stdout and stderr to separate files in bash?</div>
<div class="line">[Tuesday 22 March 2011] [11:33:26] &lt;cremes&gt;   figured it out</div>
<div class="line">[Tuesday 22 March 2011] [11:33:27] &lt;pieterh&gt;  cremes: someproc 2&gt; stderr.log</div>
<div class="line">[Tuesday 22 March 2011] [11:33:30] &lt;cremes&gt;   running...</div>
<div class="line">[Tuesday 22 March 2011] [11:38:31] &lt;mikko&gt;    pieterh: did you merge the pull req?</div>
<div class="line">[Tuesday 22 March 2011] [11:38:36] &lt;mikko&gt;    there is prolly more coming soon</div>
<div class="line">[Tuesday 22 March 2011] [11:38:43] &lt;mikko&gt;    ([zeromq-dev] ZMQ 2.1.3 w/OpenPGM Assertion on pgm_rate_check2())</div>
<div class="line">[Tuesday 22 March 2011] [11:38:51] &lt;pieterh&gt;  mikko: you mean the autoconf fix for OpenPGM in 2.1?</div>
<div class="line">[Tuesday 22 March 2011] [11:38:58] &lt;mikko&gt;    y</div>
<div class="line">[Tuesday 22 March 2011] [11:39:09] &lt;mikko&gt;    im thinking this atm</div>
<div class="line">[Tuesday 22 March 2011] [11:39:10] &lt;pieterh&gt;  hmm, did you see my email about sending patches instead?</div>
<div class="line">[Tuesday 22 March 2011] [11:39:14] &lt;pieterh&gt;  I think it&#8217;s going to be simpler</div>
<div class="line">[Tuesday 22 March 2011] [11:39:37] &lt;pieterh&gt;  pubsub instead of reqrep</div>
<div class="line">[Tuesday 22 March 2011] [11:39:50] &lt;mikko&gt;    &#8220;There is a smarter way to do this, and I think it is:&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [11:39:53] &lt;pieterh&gt;  two subscribers (martin, myself), one publisher (you)</div>
<div class="line">[Tuesday 22 March 2011] [11:40:25] &lt;mikko&gt;    i will update a patch and send to ML</div>
<div class="line">[Tuesday 22 March 2011] [11:40:31] &lt;pieterh&gt;  that&#8217;s best IMO</div>
<div class="line">[Tuesday 22 March 2011] [11:41:11] &lt;pieterh&gt;  somewhere there&#8217;s a magic git incantation to pull a commit from a random git, but I don&#8217;t know it</div>
<div class="line">[Tuesday 22 March 2011] [11:41:34] &lt;mikko&gt;    what do you mean?</div>
<div class="line">[Tuesday 22 March 2011] [11:41:41] &lt;mikko&gt;    git is built on that sort of thing</div>
<div class="line">[Tuesday 22 March 2011] [11:41:49] &lt;sustrik&gt;  cherry-pick?</div>
<div class="line">[Tuesday 22 March 2011] [11:41:52] &lt;mikko&gt;    you could even pull changes from my personal repo</div>
<div class="line">[Tuesday 22 March 2011] [11:42:04] &lt;mikko&gt;    and if i was privileged to i could push to your home machine</div>
<div class="line">[Tuesday 22 March 2011] [11:42:38] &lt;cremes&gt;   sustrik: with a confirmed debug build, the backtraces are different now</div>
<div class="line">[Tuesday 22 March 2011] [11:42:41] &lt;cremes&gt;   sustrik: <a class="reference external" href="https://gist.github.com/881439">https://gist.github.com/881439</a></div>
<div class="line">[Tuesday 22 March 2011] [11:42:46] &lt;cremes&gt;   thread 1 and thread 19 look relevant</div>
<div class="line">[Tuesday 22 March 2011] [11:42:54] &lt;cremes&gt;   i still can&#8217;t print errno</div>
<div class="line">[Tuesday 22 March 2011] [11:44:09] &lt;sustrik&gt;  never mind, this is the assert (empty) thing</div>
<div class="line">[Tuesday 22 March 2011] [11:44:17] &lt;sustrik&gt;  what about the output?</div>
<div class="line">[Tuesday 22 March 2011] [11:44:22] &lt;pieterh&gt;  mikko, ok, so how do we do this without using github&#8217;s pull request?</div>
<div class="line">[Tuesday 22 March 2011] [11:44:27] &lt;cremes&gt;   lots of alloc/dealloc messages</div>
<div class="line">[Tuesday 22 March 2011] [11:44:41] &lt;pieterh&gt;  e.g. create an issue pointing to a remote git/commit</div>
<div class="line">[Tuesday 22 March 2011] [11:45:02] &lt;mikko&gt;    pieterh: or mailing list?</div>
<div class="line">[Tuesday 22 March 2011] [11:45:11] &lt;pieterh&gt;  let&#8217;s work it out here...</div>
<div class="line">[Tuesday 22 March 2011] [11:45:19] &lt;sustrik&gt;  cremes: check for 0x7f1a582a4ea0</div>
<div class="line">[Tuesday 22 March 2011] [11:45:24] &lt;pieterh&gt;  what git commands do I need to use to pull one commit from your git</div>
<div class="line">[Tuesday 22 March 2011] [11:45:47] &lt;cremes&gt;   sustrik: 1 alloc, 1 dealloc</div>
<div class="line">[Tuesday 22 March 2011] [11:46:05] &lt;cremes&gt;   sustrik: however, that is the <em>last</em> dealloc printed</div>
<div class="line">[Tuesday 22 March 2011] [11:46:06] &lt;mikko&gt;    git remote add mikko &lt;url to my repo&gt;</div>
<div class="line">[Tuesday 22 March 2011] [11:46:15] &lt;pieterh&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [11:46:16] &lt;sustrik&gt;  and the printf is at the beginning of the destructor, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:46:17] &lt;mikko&gt;    git fetch mikko</div>
<div class="line">[Tuesday 22 March 2011] [11:46:22] &lt;mikko&gt;    then check the hash of the commit</div>
<div class="line">[Tuesday 22 March 2011] [11:46:23] &lt;cremes&gt;   correct</div>
<div class="line">[Tuesday 22 March 2011] [11:46:24] &lt;pieterh&gt;  git fetch &#8211;no-tags, at least</div>
<div class="line">[Tuesday 22 March 2011] [11:46:28] &lt;mikko&gt;    and cherry-pick it</div>
<div class="line">[Tuesday 22 March 2011] [11:46:37] &lt;mikko&gt;    i think that should do it</div>
<div class="line">[Tuesday 22 March 2011] [11:46:50] &lt;sustrik&gt;  then it&#8217;s some other problem...</div>
<div class="line">[Tuesday 22 March 2011] [11:46:50] &lt;cremes&gt;   sustrik: line 792 is the first line of the destructor</div>
<div class="line">[Tuesday 22 March 2011] [11:47:12] &lt;pieterh&gt;  git fetch won&#8217;t make a mess of your target git?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:13] &lt;cremes&gt;   sustrik: i grep&#8217;ed all of the dealloc lines to their own file &#8216;z2&#8217;</div>
<div class="line">[Tuesday 22 March 2011] [11:47:23] &lt;sustrik&gt;  792?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:27] &lt;sustrik&gt;  what file?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:30] &lt;cremes&gt;   sustrik: then ran:  wc -l z2; sort -u z2 | wc -l</div>
<div class="line">[Tuesday 22 March 2011] [11:47:35] &lt;sustrik&gt;  socket_base_t?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:36] &lt;cremes&gt;   socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:47:48] &lt;mikko&gt;    pieterh: git-fetch - Download objects and refs from another repository</div>
<div class="line">[Tuesday 22 March 2011] [11:47:54] &lt;mikko&gt;    pieterh: nope</div>
<div class="line">[Tuesday 22 March 2011] [11:47:56] &lt;sustrik&gt;  cremes: what version?</div>
<div class="line">[Tuesday 22 March 2011] [11:48:02] &lt;sustrik&gt;  my socket_base.cpp ends at 790</div>
<div class="line">[Tuesday 22 March 2011] [11:48:22] &lt;pieterh&gt;  mikko: ok, I like cherry-pick, it&#8217;s how I pull patches from sustrik</div>
<div class="line">[Tuesday 22 March 2011] [11:48:33] &lt;cremes&gt;   sustrik: oops, sorry, misread the vi output; line 124 of 792 (i added two printfs)</div>
<div class="line">[Tuesday 22 March 2011] [11:48:40] &lt;pieterh&gt;  but you have to do &#8216;git fetch &#8211;no-tags whatever&#8217; to avoid polluting your home git</div>
<div class="line">[Tuesday 22 March 2011] [11:48:56] &lt;sustrik&gt;  cremes: ok</div>
<div class="line">[Tuesday 22 March 2011] [11:48:58] &lt;pieterh&gt;  sustrik: do you want to try cherry-pick from mikko&#8217;s git?</div>
<div class="line">[Tuesday 22 March 2011] [11:49:19] &lt;sustrik&gt;  i want a patch on the ML</div>
<div class="line">[Tuesday 22 March 2011] [11:49:23] &lt;sustrik&gt;  that&#8217;s the process</div>
<div class="line">[Tuesday 22 March 2011] [11:49:35] &lt;cremes&gt;   sustrik: anyway, by removing duplicate dealloc prints using &#8216;sort -u&#8217; it looks like 180 sockets are dealloc&#8217;ed twice</div>
<div class="line">[Tuesday 22 March 2011] [11:49:36] &lt;pieterh&gt;  sustrik: you don&#8217;t send me patches via the ML</div>
<div class="line">[Tuesday 22 March 2011] [11:49:43] &lt;sustrik&gt;  i should</div>
<div class="line">[Tuesday 22 March 2011] [11:49:43] &lt;pieterh&gt;  so the process isn&#8217;t symmetric now</div>
<div class="line">[Tuesday 22 March 2011] [11:49:51] &lt;pieterh&gt;  perhaps</div>
<div class="line">[Tuesday 22 March 2011] [11:50:04] &lt;pieterh&gt;  sending me a commit tag is much less work for you</div>
<div class="line">[Tuesday 22 March 2011] [11:50:08] &lt;pieterh&gt;  and also easier for me</div>
<div class="line">[Tuesday 22 March 2011] [11:50:31] &lt;pieterh&gt;  if you send the URI to the commit, it&#8217;s as good as a patch</div>
<div class="line">[Tuesday 22 March 2011] [11:50:36] &lt;sustrik&gt;  that&#8217;s good for backporting</div>
<div class="line">[Tuesday 22 March 2011] [11:50:36] &lt;pieterh&gt;  everyone who cares can review it</div>
<div class="line">[Tuesday 22 March 2011] [11:50:47] &lt;pieterh&gt;  here we&#8217;re porting in all directions, no back or fwd</div>
<div class="line">[Tuesday 22 March 2011] [11:50:49] &lt;sustrik&gt;  it&#8217;s only a reference to what has to be backported</div>
<div class="line">[Tuesday 22 March 2011] [11:50:57] &lt;pieterh&gt;  nope, no special cases please</div>
<div class="line">[Tuesday 22 March 2011] [11:50:59] &lt;sustrik&gt;  with new functionality you want a full patch</div>
<div class="line">[Tuesday 22 March 2011] [11:51:26] &lt;pieterh&gt;  it should be a single process between any two gits</div>
<div class="line">[Tuesday 22 March 2011] [11:51:53] &lt;pieterh&gt;  github pull requests are eliminated because they only work between forks</div>
<div class="line">[Tuesday 22 March 2011] [11:52:03] &lt;sustrik&gt;  there has to be an entry point</div>
<div class="line">[Tuesday 22 March 2011] [11:52:08] &lt;pieterh&gt;  entry point?</div>
<div class="line">[Tuesday 22 March 2011] [11:52:18] &lt;sustrik&gt;  the place where patch enters the ecosystem</div>
<div class="line">[Tuesday 22 March 2011] [11:52:23] &lt;pieterh&gt;  one always addresses a patch/commit to the author of the target git</div>
<div class="line">[Tuesday 22 March 2011] [11:52:33] &lt;pieterh&gt;  entry point can be ML, that&#8217;s excellent</div>
<div class="line">[Tuesday 22 March 2011] [11:52:38] &lt;pieterh&gt;  it&#8217;s ideal for this</div>
<div class="line">[Tuesday 22 March 2011] [11:52:41] &lt;sustrik&gt;  yup</div>
<div class="line">[Tuesday 22 March 2011] [11:52:46] &lt;pieterh&gt;  but signed patches are extra effort</div>
<div class="line">[Tuesday 22 March 2011] [11:52:59] &lt;pieterh&gt;  and we can do it better</div>
<div class="line">[Tuesday 22 March 2011] [11:53:19] &lt;pieterh&gt;  i think, anyhow, and I&#8217;m sure it should be orthogonal for any two gits</div>
<div class="line">[Tuesday 22 March 2011] [11:53:35] &lt;pieterh&gt;  i.e. if you want to send a patch to mikko, same process</div>
<div class="line">[Tuesday 22 March 2011] [11:53:53] &lt;sustrik&gt;  mikko doesn&#8217;t care about sign-offs</div>
<div class="line">[Tuesday 22 March 2011] [11:53:59] &lt;sustrik&gt;  as it&#8217;s his private git</div>
<div class="line">[Tuesday 22 March 2011] [11:54:06] &lt;pieterh&gt;  that&#8217;s a separate issue</div>
<div class="line">[Tuesday 22 March 2011] [11:54:14] &lt;pieterh&gt;  signed off or not, that&#8217;s QC on the patch or commit</div>
<div class="line">[Tuesday 22 March 2011] [11:54:52] &lt;pieterh&gt;  I&#8217;d like a single process for all of us, no special cases</div>
<div class="line">[Tuesday 22 March 2011] [11:54:53] &lt;mikko&gt;    what about CLA?</div>
<div class="line">[Tuesday 22 March 2011] [11:54:56] &lt;mikko&gt;    too complicated?</div>
<div class="line">[Tuesday 22 March 2011] [11:54:58] &lt;pieterh&gt;  CLA?</div>
<div class="line">[Tuesday 22 March 2011] [11:55:02] &lt;pieterh&gt;  way too complex</div>
<div class="line">[Tuesday 22 March 2011] [11:55:04] &lt;pieterh&gt;  by 100x</div>
<div class="line">[Tuesday 22 March 2011] [11:55:11] &lt;mikko&gt;    contributor license agreement</div>
<div class="line">[Tuesday 22 March 2011] [11:55:13] &lt;mikko&gt;    like apache etc do</div>
<div class="line">[Tuesday 22 March 2011] [11:55:22] &lt;pieterh&gt;  no way, dead body over, etc.</div>
<div class="line">[Tuesday 22 March 2011] [11:55:27] &lt;sustrik&gt;  sign-off is simpler imo</div>
<div class="line">[Tuesday 22 March 2011] [11:55:39] &lt;pieterh&gt;  it creates <em>huge</em> management issues and individual developers hate it to the point of not contributing</div>
<div class="line">[Tuesday 22 March 2011] [11:56:05] &lt;pieterh&gt;  we switched to co-owned code and signoff last year, it&#8217;s superior in every sense</div>
<div class="line">[Tuesday 22 March 2011] [11:56:21] &lt;pieterh&gt;  this is not relevant to the thread however</div>
<div class="line">[Tuesday 22 March 2011] [11:56:33] &lt;pieterh&gt;  cherry-picking is very simple for both parties</div>
<div class="line">[Tuesday 22 March 2011] [11:56:47] &lt;mikko&gt;    pieterh: we were a bit too drunk to discuss this properly last weds</div>
<div class="line">[Tuesday 22 March 2011] [11:56:59] &lt;pieterh&gt;  mikko: drunk? I&#8217;m Scottish, we don&#8217;t get drunk</div>
<div class="line">[Tuesday 22 March 2011] [11:57:09] &lt;pieterh&gt;  oh, hang on, yes we do... but it was English beer, doesn&#8217;t count</div>
<div class="line">[Tuesday 22 March 2011] [11:57:41] &lt;pieterh&gt;  sustrik: I&#8217;m not sure cherry-picking conforms to signing off, that&#8217;s all</div>
<div class="line">[Tuesday 22 March 2011] [11:58:06] &lt;pieterh&gt;  but it has to, of course</div>
<div class="line">[Tuesday 22 March 2011] [11:58:19] &lt;mikko&gt;    can you not sign a commit?</div>
<div class="line">[Tuesday 22 March 2011] [11:58:19] &lt;pieterh&gt;  pulling code from a public git means it&#8217;s by definition signed off</div>
<div class="line">[Tuesday 22 March 2011] [11:58:23] &lt;pieterh&gt;  you don&#8217;t need to</div>
<div class="line">[Tuesday 22 March 2011] [11:58:38] &lt;pieterh&gt;  once you commit &amp; push to a git, you license the code under whatever, LGPL etc.</div>
<div class="line">[Tuesday 22 March 2011] [11:59:08] &lt;pieterh&gt;  this is why pull requests work</div>
<div class="line">[Tuesday 22 March 2011] [11:59:24] &lt;pieterh&gt;  but they are crippled for general use</div>
<div class="line">[Tuesday 22 March 2011] [11:59:55] &lt;pieterh&gt;  sustrik: allow me to make a short proposal on the list, OK?</div>
<div class="line">[Tuesday 22 March 2011] [12:00:01] &lt;sustrik&gt;  sure</div>
<div class="line">[Tuesday 22 March 2011] [12:00:07] &lt;pieterh&gt;  thanks</div>
<div class="line">[Tuesday 22 March 2011] [12:00:15] &lt;pieterh&gt;  BTW the new C API is almost working</div>
<div class="line">[Tuesday 22 March 2011] [12:00:35] &lt;pieterh&gt;  it does everything I was asking for, e.g. automatic close of sockets, message reuse, etc.</div>
<div class="line">[Tuesday 22 March 2011] [12:00:51] &lt;pieterh&gt;  nicely emulates 2.0 semantics on termination :-)</div>
<div class="line">[Tuesday 22 March 2011] [12:01:23] &lt;sustrik&gt;  goodo</div>
<div class="line">[Tuesday 22 March 2011] [12:01:33] &lt;cremes&gt;   sustrik: i applied your patch for issue 174 and ran your minimal test case (also in that issue)</div>
<div class="line">[Tuesday 22 March 2011] [12:01:41] &lt;cremes&gt;   sustrik: shall i email you the output?</div>
<div class="line">[Tuesday 22 March 2011] [12:01:46] &lt;cremes&gt;   it&#8217;s too big to pastie</div>
<div class="line">[Tuesday 22 March 2011] [12:04:04] &lt;Guthur&gt;   pieterh: you&#8217;re scottish?</div>
<div class="line">[Tuesday 22 March 2011] [12:04:15] &lt;pieterh&gt;  Guthur: half Scottish, half Belgian...</div>
<div class="line">[Tuesday 22 March 2011] [12:04:24] &lt;pieterh&gt;  born somewhere in the middle of the North Sea</div>
<div class="line">[Tuesday 22 March 2011] [12:06:22] &lt;Guthur&gt;   one of those water births then</div>
<div class="line">[Tuesday 22 March 2011] [12:07:23] &lt;pieterh&gt;  lol</div>
<div class="line">[Tuesday 22 March 2011] [12:08:53] &lt;Guthur&gt;   belgians aren&#8217;t renown for their seafaring as well</div>
<div class="line">[Tuesday 22 March 2011] [12:09:01] &lt;Guthur&gt;   I hear they don&#8217;t have much of a navy</div>
<div class="line">[Tuesday 22 March 2011] [12:10:45] &lt;pieterh&gt;  my great-great grandfather was hung for being a pirate</div>
<div class="line">[Tuesday 22 March 2011] [12:11:28] &lt;sustrik&gt;  cremes: did it drop to 0?</div>
<div class="line">[Tuesday 22 March 2011] [12:11:55] &lt;cremes&gt;   sustrik: no, it didn&#8217;t; i just sent you the output in an email with attachment</div>
<div class="line">[Tuesday 22 March 2011] [12:12:03] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [12:13:17] &lt;sustrik&gt;  cremes: it&#8217;s looks like it&#8217;s dropping</div>
<div class="line">[Tuesday 22 March 2011] [12:13:24] &lt;sustrik&gt;  see the end of the file</div>
<div class="line">[Tuesday 22 March 2011] [12:13:58] &lt;sustrik&gt;  if you let it run a bit longet it would probably get to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:14:13] &lt;sustrik&gt;  longer*</div>
<div class="line">[Tuesday 22 March 2011] [12:14:57] &lt;cremes&gt;   sustrik: i let it run for 5 minutes... it didn&#8217;t appear to be dropping anymore</div>
<div class="line">[Tuesday 22 March 2011] [12:15:06] &lt;cremes&gt;   sustrik: i&#8217;ll let it go for 20m and see what happens</div>
<div class="line">[Tuesday 22 March 2011] [12:15:30] &lt;sustrik&gt;  it seems like it was terminated in the middle of the process of dropping</div>
<div class="line">[Tuesday 22 March 2011] [12:15:34] &lt;sustrik&gt;  see the last line</div>
<div class="line">[Tuesday 22 March 2011] [12:15:44] &lt;sustrik&gt;  it&#8217;s cut in the middle of output</div>
<div class="line">[Tuesday 22 March 2011] [12:16:04] &lt;sustrik&gt;  356 355 354 35</div>
<div class="line">[Tuesday 22 March 2011] [12:16:06] &lt;cremes&gt;   sustrik: i think that&#8217;s from buffered output</div>
<div class="line">[Tuesday 22 March 2011] [12:16:17] &lt;cremes&gt;   i was tailing the log file and it stopped there</div>
<div class="line">[Tuesday 22 March 2011] [12:16:20] &lt;sustrik&gt;  ah</div>
<div class="line">[Tuesday 22 March 2011] [12:16:28] &lt;sustrik&gt;  anyway, it dropped almost to zero</div>
<div class="line">[Tuesday 22 March 2011] [12:16:39] &lt;sustrik&gt;  up to 30,000</div>
<div class="line">[Tuesday 22 March 2011] [12:16:51] &lt;sustrik&gt;  then back to 353</div>
<div class="line">[Tuesday 22 March 2011] [12:17:18] &lt;sustrik&gt;  the leak is either elsewhere</div>
<div class="line">[Tuesday 22 March 2011] [12:17:28] &lt;sustrik&gt;  or it&#8217;s process not returning memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [12:18:19] &lt;cremes&gt;   sustrik: i&#8217;ll let it sit for a while... i just saw it go from 1 to 3200 and now it&#8217;s down to 310</div>
<div class="line">[Tuesday 22 March 2011] [12:18:26] &lt;cremes&gt;   but it&#8217;s not printing anything anymore</div>
<div class="line">[Tuesday 22 March 2011] [12:18:40] &lt;sustrik&gt;  hm</div>
<div class="line">[Tuesday 22 March 2011] [12:18:44] &lt;cremes&gt;   if it&#8217;s &#8216;cut off&#8217; due to stdout buffering, hitting ctrl-c ought to flush that buffer</div>
<div class="line">[Tuesday 22 March 2011] [12:19:02] &lt;sustrik&gt;  maybe a problem with the buffering itself?</div>
<div class="line">[Tuesday 22 March 2011] [12:19:27] &lt;sustrik&gt;  anyway, i&#8217;ve used simple non-buffered console</div>
<div class="line">[Tuesday 22 March 2011] [12:19:39] &lt;sustrik&gt;  and i saw the number of chunks dropping to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:19:56] &lt;cremes&gt;   i don&#8217;t know how to get an unbuffered xterm going</div>
<div class="line">[Tuesday 22 March 2011] [12:20:12] &lt;sustrik&gt;  cremes: i don&#8217;t think it matters</div>
<div class="line">[Tuesday 22 March 2011] [12:20:18] &lt;cremes&gt;   i should probably add an explicit flush</div>
<div class="line">[Tuesday 22 March 2011] [12:20:28] &lt;sustrik&gt;  350 chunks won&#8217;t account for all the allocated memory you see</div>
<div class="line">[Tuesday 22 March 2011] [12:20:30] &lt;sustrik&gt;  right?</div>
<div class="line">[Tuesday 22 March 2011] [12:20:34] &lt;sustrik&gt;  1 chunk = 12kb</div>
<div class="line">[Tuesday 22 March 2011] [12:20:34] &lt;mikko&gt;    fflush (stdout);</div>
<div class="line">[Tuesday 22 March 2011] [12:20:48] &lt;sustrik&gt;  x350 = 4.2MB</div>
<div class="line">[Tuesday 22 March 2011] [12:20:58] &lt;cremes&gt;   sustrik: do those chunks contain message data?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:16] &lt;sustrik&gt;  how large is your message?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:19] &lt;sustrik&gt;  8 bytes?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:30] &lt;cremes&gt;   your test case was using a 20byte message</div>
<div class="line">[Tuesday 22 March 2011] [12:21:36] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [12:21:43] &lt;sustrik&gt;  then the chunks contain message data</div>
<div class="line">[Tuesday 22 March 2011] [12:23:28] &lt;cremes&gt;   i added fflush() and am rerunning; we&#8217;ll see if that makes a difference</div>
<div class="line">[Tuesday 22 March 2011] [12:23:35] &lt;cremes&gt;   it did; count went to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:23:50] &lt;cremes&gt;   resident memory is still inflated though</div>
<div class="line">[Tuesday 22 March 2011] [12:24:14] &lt;sustrik&gt;  the next step would be to replace all the mallocs and frees and news and deletes</div>
<div class="line">[Tuesday 22 March 2011] [12:24:28] &lt;sustrik&gt;  by something that would track amount of memory allocated</div>
<div class="line">[Tuesday 22 March 2011] [12:24:46] &lt;cremes&gt;   sustrik: i think it&#8217;s easier for me to just restart my applications every 48 hours</div>
<div class="line">[Tuesday 22 March 2011] [12:24:49] &lt;cremes&gt;   to free up swap</div>
<div class="line">[Tuesday 22 March 2011] [12:25:02] &lt;sustrik&gt;  hm</div>
<div class="line">[Tuesday 22 March 2011] [12:25:31] &lt;sustrik&gt;  let&#8217;s keep the issue open then</div>
<div class="line">[Tuesday 22 March 2011] [12:25:37] &lt;sustrik&gt;  when i get some time</div>
<div class="line">[Tuesday 22 March 2011] [12:25:42] &lt;cremes&gt;   ok</div>
<div class="line">[Tuesday 22 March 2011] [12:25:50] &lt;cremes&gt;   i&#8217;ll add an update with my findings</div>
<div class="line">[Tuesday 22 March 2011] [12:25:55] &lt;spht&gt;     Does zmq not exit in its SIGINT handler? Can&#8217;t SIGINT to kill my script using the python binding..</div>
<div class="line">[Tuesday 22 March 2011] [12:26:05] &lt;sustrik&gt;  i&#8217;ll try to check whether the memory is held by 0mq or glibc</div>
<div class="line">[Tuesday 22 March 2011] [12:27:19] &lt;sustrik&gt;  spht: what version of 0mq are you using?</div>
<div class="line">[Tuesday 22 March 2011] [12:27:54] &lt;spht&gt;     sustrik:  Python module version is 2.0.10</div>
<div class="line">[Tuesday 22 March 2011] [12:28:43] &lt;sustrik&gt;  there used to be a problem with SIGINT in old versions, let me check...</div>
<div class="line">[Tuesday 22 March 2011] [12:29:22] &lt;cremes&gt;   spht: this was fixed in the 2.1 branches</div>
<div class="line">[Tuesday 22 March 2011] [12:29:41] &lt;cremes&gt;   spht: time to upgrade</div>
<div class="line">[Tuesday 22 March 2011] [12:29:44] &lt;spht&gt;     cremes: sustrik: Ahht thanks! I&#8217;ll go upgrade ASAP :)</div>
<div class="line">[Tuesday 22 March 2011] [12:29:48] &lt;ianbarber&gt;        mikko: about?</div>
<div class="line">[Tuesday 22 March 2011] [12:29:51] &lt;mikko&gt;    ianbarber: yes</div>
<div class="line">[Tuesday 22 March 2011] [12:29:55] &lt;mikko&gt;    bam!</div>
<div class="line">[Tuesday 22 March 2011] [12:31:02] &lt;ianbarber&gt;        bam!</div>
<div class="line">[Tuesday 22 March 2011] [12:31:10] &lt;ianbarber&gt;        so, I was translating a pieterh example</div>
<div class="line">[Tuesday 22 March 2011] [12:31:16] &lt;ianbarber&gt;        which measures round trip speed</div>
<div class="line">[Tuesday 22 March 2011] [12:31:48] &lt;ianbarber&gt;        it starts a client, worker and broker, and tries doing send() recv() 10000 time and then send() 10000 and recv() 10000</div>
<div class="line">[Tuesday 22 March 2011] [12:32:01] &lt;ianbarber&gt;        to compare the speed of waiting for a response versus async</div>
<div class="line">[Tuesday 22 March 2011] [12:32:24] &lt;ianbarber&gt;        in the c version I get ~6k/s for the first, around 50k/s for the second</div>
<div class="line">[Tuesday 22 March 2011] [12:32:32] &lt;ianbarber&gt;        in the PHP i get ~6k/s for both</div>
<div class="line">[Tuesday 22 March 2011] [12:33:37] &lt;mikko&gt;    that&#8217;s interesting</div>
<div class="line">[Tuesday 22 March 2011] [12:33:40] &lt;ianbarber&gt;        i thought it might be because PHP was doing a msg destroy after each one, but taking that out of the c version didn&#8217;t affect it</div>
<div class="line">[Tuesday 22 March 2011] [12:34:03] &lt;mikko&gt;    probably need to run with a profiler to see</div>
<div class="line">[Tuesday 22 March 2011] [12:35:16] &lt;ianbarber&gt;        yeah, i guess</div>
<div class="line">[Tuesday 22 March 2011] [13:01:46] &lt;pieterh&gt;  ianbarber: destroying messages, allocs, etc. don&#8217;t make that much impact</div>
<div class="line">[Tuesday 22 March 2011] [13:06:53] &lt;ianbarber&gt;        yeah, that&#8217;s what i concluded.</div>
<div class="line">[Tuesday 22 March 2011] [14:32:11] &lt;picasso&gt;  i&#8217;m designing an analytics system that needs to handle  potentially heavy loads and usage spikes</div>
<div class="line">[Tuesday 22 March 2011] [14:32:25] &lt;picasso&gt;  creating a web service API (preferrably in PHP), packaging  incoming requests and dumping onto a message queue, and then  processing these requests in the background</div>
<div class="line">[Tuesday 22 March 2011] [14:33:57] &lt;picasso&gt;  i apologize for not being too familiar with zeroMQ, but is this a type of problem that would be a good use case for zero?</div>
<div class="line">[Tuesday 22 March 2011] [14:43:00] &lt;cremes&gt;   picasso: yep, it sure would</div>
<div class="line">[Tuesday 22 March 2011] [14:43:26] &lt;cremes&gt;   have you read the guide? <a class="reference external" href="http://zero.mq/zg">http://zero.mq/zg</a></div>
<div class="line">[Tuesday 22 March 2011] [14:43:35] &lt;cremes&gt;   it covers several use-cases</div>
<div class="line">[Tuesday 22 March 2011] [14:46:05] &lt;picasso&gt;  seems i have quite a bit of reading to do :)</div>
<div class="line">[Tuesday 22 March 2011] [15:13:22] &lt;cremes&gt;   picasso: just a little bit!</div>
<div class="line">[Tuesday 22 March 2011] [15:49:06] &lt;michelp&gt;  i&#8217;m just reading the news about Sergey Aleynikov, was he a 0mq developer?</div>
<div class="line">[Tuesday 22 March 2011] [15:49:47] &lt;michelp&gt;  i saw his github (maybe bitbucket) googleing around a few days ago but now it appears to be gone</div>
<div class="line">[Tuesday 22 March 2011] [15:49:54] &lt;michelp&gt;  and it looked like he had made some contributions</div>
<div class="line">[Tuesday 22 March 2011] [15:50:13] &lt;michelp&gt;  weird that i can&#8217;t find it now, they must have deleted it</div>
<div class="line">[Tuesday 22 March 2011] [15:52:07] &lt;pieterh&gt;  michelp: he wrote the original Erlang binding for 0MQ</div>
<div class="line">[Tuesday 22 March 2011] [15:52:48] &lt;pieterh&gt;  user id on github is saleyn</div>
<div class="line">[Tuesday 22 March 2011] [15:53:32] &lt;michelp&gt;  i&#8217;m not up on the details, but his sentence seems extremely harsh for just moving code, it doesn&#8217;t sound they proved he used it in any way</div>
<div class="line">[Tuesday 22 March 2011] [15:56:03] &lt;michelp&gt;  ah it&#8217;s still up on github</div>
<div class="line">[Tuesday 22 March 2011] [15:57:10] &lt;cremes&gt;   michelp: it doesn&#8217;t matter if he used it or not; let&#8217;s say you take a candy bar from the store but you don&#8217;t eat it; has it been stolen?</div>
<div class="line">[Tuesday 22 March 2011] [15:57:13] &lt;cremes&gt;   or not?</div>
<div class="line">[Tuesday 22 March 2011] [15:58:54] &lt;michelp&gt;  yeah i guess it has.  the couple of stories i&#8217;ve read so far don&#8217;t have much detail, but i just found one that does</div>
<div class="line">[Tuesday 22 March 2011] [15:59:10] &lt;pieterh&gt;  michelp: crimes against property are usually treated harshly unless you&#8217;re wealthy</div>
<div class="line">[Tuesday 22 March 2011] [15:59:23] &lt;spht&gt;     dang: He was employed for two years at Goldman on a salary of $400,000. In early June, he left Goldman to join Teza Technologies, a Chicago start-up which offered to triple his pay.</div>
<div class="line">[Tuesday 22 March 2011] [16:00:13] &lt;spht&gt;     $1.2M coding, that&#8217;s pretty decent I&#8217;d say :)</div>
<div class="line">[Tuesday 22 March 2011] [16:08:01] &lt;pieterh&gt;  aight, zapi the high-level C binding for 0MQ is now ready and working!</div>
<div class="line">[Tuesday 22 March 2011] [16:08:07] &lt;pieterh&gt;  <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Tuesday 22 March 2011] [16:09:13] &lt;mikko&gt;    cool!</div>
<div class="line">[Tuesday 22 March 2011] [16:09:42] &lt;mikko&gt;    did you take zfl build as base?</div>
<div class="line">[Tuesday 22 March 2011] [16:09:50] &lt;pieterh&gt;  yes, for the autotools</div>
<div class="line">[Tuesday 22 March 2011] [16:09:55] &lt;mikko&gt;    very good</div>
<div class="line">[Tuesday 22 March 2011] [16:10:00] &lt;mikko&gt;    should be about the same process</div>
<div class="line">[Tuesday 22 March 2011] [16:10:02] &lt;pieterh&gt;  the only change was to switch to valgrind for the selftest script</div>
<div class="line">[Tuesday 22 March 2011] [16:10:18] &lt;pieterh&gt;  much better than whatever heap checker I was using in ZFL</div>
<div class="line">[Tuesday 22 March 2011] [17:24:12] &lt;pieterh&gt;  sigh</div>
<div class="line">[Tuesday 22 March 2011] [18:00:11] &lt;Guthur&gt;   pieterh, you work fast</div>
<div class="line">[Tuesday 22 March 2011] [18:00:18] &lt;pieterh&gt;  yeah</div>
<div class="line">[Tuesday 22 March 2011] [18:00:22] &lt;pieterh&gt;  am just making packages now</div>
<div class="line">[Tuesday 22 March 2011] [18:00:26] &lt;pieterh&gt;  beta release in one day</div>
<div class="line">[Tuesday 22 March 2011] [18:00:49] &lt;pieterh&gt;  will aim to also upload man pages to a web site, should be doable</div>
<div class="line">[Tuesday 22 March 2011] [18:01:06] &lt;pieterh&gt;  first replying to people who confuse posix streams with length-specified messages</div>
<div class="line">[Tuesday 22 March 2011] [18:01:07] &lt;pieterh&gt;  sigh</div>
<div class="line">[Tuesday 22 March 2011] [18:01:10] &lt;Guthur&gt;   In the same time I haven&#8217;t got nearly as far with the 0MQ-FIX bridge</div>
<div class="line">[Tuesday 22 March 2011] [18:01:23] &lt;Guthur&gt;   admittedly I had to go to work in the middle</div>
<div class="line">[Tuesday 22 March 2011] [18:03:06] &lt;Guthur&gt;   robustly extracting a FIX message from a socket wrote buffer is non too trivial exercise though</div>
<div class="line">[Tuesday 22 March 2011] [18:03:23] &lt;pieterh&gt;  FIX is complex</div>
<div class="line">[Tuesday 22 March 2011] [18:03:35] &lt;pieterh&gt;  that&#8217;s why I suggested doing that totally separately</div>
<div class="line">[Tuesday 22 March 2011] [18:05:24] &lt;Guthur&gt;   it&#8217;s actually my first time working directly with raw sockets as well</div>
<div class="line">[Tuesday 22 March 2011] [18:05:33] &lt;Guthur&gt;   so all a bit of a learning curce</div>
<div class="line">[Tuesday 22 March 2011] [18:05:38] &lt;Guthur&gt;   curve*</div>
<div class="line">[Tuesday 22 March 2011] [18:24:26] &lt;pieterh&gt;  raw sockets are pretty OK if you&#8217;re not trying to be multithreaded or something</div>
<div class="line">[Tuesday 22 March 2011] [18:31:26] &lt;Guthur&gt;   hehe, I quickly decided not to try that</div>
<div class="line">[Tuesday 22 March 2011] [18:32:03] &lt;Guthur&gt;   it&#8217;s not so much the Sockets it&#8217;s extracting the individual messages from the stream</div>
<div class="line">[Tuesday 22 March 2011] [18:32:20] &lt;Guthur&gt;   ensuring they are complete and valid</div>
<div class="line">[Tuesday 22 March 2011] [18:34:11] &lt;Guthur&gt;   just trying to find the nice solution, I&#8217;ve made a state transition table, which should help</div>
<div class="line">[Tuesday 22 March 2011] [18:34:28] &lt;Guthur&gt;   and just ran a small socket demo to sanity check my socket understanding</div>
<div class="line">[Tuesday 22 March 2011] [18:34:48] &lt;Guthur&gt;   so all set now to do the real work</div>
<div class="line">[Tuesday 22 March 2011] [18:46:52] &lt;pieterh&gt;  Guthur: are you working in C or C# for this?</div>
<div class="line">[Tuesday 22 March 2011] [18:49:08] &lt;Guthur&gt;   C# for the time being, I think it might suit being implement in C, if its &#8216;dumb&#8217; enough</div>
<div class="line">[Tuesday 22 March 2011] [19:01:22] &lt;pieterh&gt;  I&#8217;m really curious to see how you get with this</div>
<div class="line">[Tuesday 22 March 2011] [20:31:38] &lt;Guthur&gt;   out of curiosity do many specifically build 0MQ for 64bit platform?</div>
<div class="line">[Tuesday 22 March 2011] [20:33:46] &lt;Guthur&gt;   oh nvm, it&#8217;s not really the issue I had mind</div>
<div class="line">[Tuesday 22 March 2011] [20:38:11] &lt;klestes&gt;  greetings</div>
<div class="line">[Tuesday 22 March 2011] [20:38:31] &lt;klestes&gt;  anyone here ?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:02] &lt;Guthur&gt;   klestes, a few</div>
<div class="line">[Tuesday 22 March 2011] [20:39:21] &lt;Guthur&gt;   i wont be here long though, just about to hit the sack</div>
<div class="line">[Tuesday 22 March 2011] [20:39:25] &lt;Guthur&gt;   what&#8217;s up?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:33] &lt;klestes&gt;  good.  I am preparing to do my first patch submission</div>
<div class="line">[Tuesday 22 March 2011] [20:39:51] &lt;klestes&gt;  where are you, Guth ?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:57] &lt;Guthur&gt;   UK</div>
<div class="line">[Tuesday 22 March 2011] [20:40:07] &lt;klestes&gt;  ah.  Hows the weather ?</div>
<div class="line">[Tuesday 22 March 2011] [20:40:09] &lt;Guthur&gt;   I&#8217;m not much of a git gurur</div>
<div class="line">[Tuesday 22 March 2011] [20:40:20] &lt;Guthur&gt;   it&#8217;s actually been quite good recently</div>
<div class="line">[Tuesday 22 March 2011] [20:40:22] &lt;klestes&gt;  me either !</div>
<div class="line">[Tuesday 22 March 2011] [20:40:28] &lt;klestes&gt;  great !</div>
<div class="line">[Tuesday 22 March 2011] [20:40:37] &lt;Guthur&gt;   pieterh, ping</div>
<div class="line">[Tuesday 22 March 2011] [20:40:51] &lt;Guthur&gt;   pieterh might be able to help, if he&#8217;s about</div>
<div class="line">[Tuesday 22 March 2011] [20:41:00] &lt;klestes&gt;  yep, if you hear the 0Mgods gripe about that damn newbie patch, I was susccessful :)</div>
<div class="line">[Tuesday 22 March 2011] [20:41:17] &lt;klestes&gt;  I think the SF meetup was today, so he may be out of it.  or having beer.</div>
<div class="line">[Tuesday 22 March 2011] [20:41:32] &lt;klestes&gt;  anyway, if I botch it, there&#8217;s always tomorrow.</div>
<div class="line">[Tuesday 22 March 2011] [20:41:43] &lt;Guthur&gt;   oh ok, well there is a couple of resources on the web on how to make git patches</div>
<div class="line">[Tuesday 22 March 2011] [20:41:51] &lt;klestes&gt;  yes, I am reading one now.</div>
<div class="line">[Tuesday 22 March 2011] [20:42:04] &lt;Guthur&gt;   it&#8217;s actually not too hard, I just can&#8217;t remember otoh</div>
<div class="line">[Tuesday 22 March 2011] [20:42:32] &lt;Guthur&gt;   I really need sleep though, sorry I can&#8217;t be more help</div>
<div class="line">[Tuesday 22 March 2011] [20:42:44] &lt;klestes&gt;  thats ok.</div>
<div class="line">[Tuesday 22 March 2011] [20:42:53] &lt;klestes&gt;  I wonder if I can submit just a plain diff the first time ?</div>
<div class="line">[Tuesday 22 March 2011] [20:43:09] &lt;Guthur&gt;   they do like signed off patches to be honest</div>
<div class="line">[Tuesday 22 March 2011] [20:43:16] &lt;klestes&gt;  ah, ok.</div>
<div class="line">[Tuesday 22 March 2011] [20:43:39] &lt;Guthur&gt;   anyhoo must go, later klestes</div>
<div class="line">[Tuesday 22 March 2011] [20:43:40] &lt;klestes&gt;  now,what exactly qualifies a patch as being &#8216;signed off&#8217; - use of the git format-patch command ?</div>
<div class="line">[Tuesday 22 March 2011] [20:43:52] &lt;klestes&gt;  nice talking to you, guthur.  Have a good night !</div>
<div class="line">[Tuesday 22 March 2011] [20:44:31] &lt;Guthur&gt;   we should probably document this process somewhere</div>
<div class="line">[Tuesday 22 March 2011] [20:44:41] &lt;Guthur&gt;   g&#8217;night</div>
<div class="line">[Tuesday 22 March 2011] [21:06:14] &lt;klestes&gt;  well, my first patch has been submitted.  Bombs away !!</div>
<div class="line">[Tuesday 22 March 2011] [21:06:22] &lt;klestes&gt;  and to all, a good nyte.</div>
<div class="line">[Wednesday 23 March 2011] [02:03:42] &lt;Freejack&gt;       Has anyone tried plugging ZeroMQ into anything besides sockets? (i.e. TIPC, DIPC, LINX, Streams, etc...)?</div>
<div class="line">[Wednesday 23 March 2011] [02:07:56] &lt;sustrik&gt;        Freejack: nope</div>
<div class="line">[Wednesday 23 March 2011] [02:08:06] &lt;sustrik&gt;        you are free to try</div>
<div class="line">[Wednesday 23 March 2011] [02:08:42] &lt;sustrik&gt;        however, if the underlying transport doesn&#8217;t use file descriptors, it will be pretty hard to integrate into 0mq</div>
<div class="line">[Wednesday 23 March 2011] [02:08:59] &lt;Freejack&gt;       Sounds like a plan. Yeah, it uses file descriptors.</div>
<div class="line">[Wednesday 23 March 2011] [02:09:46] &lt;Freejack&gt;       I&#8217;ve been playing with message queues for a while now...and find posix queues and Linx Queues to be extremely efficient.</div>
<div class="line">[Wednesday 23 March 2011] [02:11:09] &lt;Freejack&gt;       Linx Queues especially. Their like traveling at light speed compared to sockets over the LAN.</div>
<div class="line">[Wednesday 23 March 2011] [02:13:50] &lt;Freejack&gt;       sustrik: Besides...since ZeroMQ is in fact a high level MQ API, I figure the two would be a good match.</div>
<div class="line">[Wednesday 23 March 2011] [02:14:23] &lt;sustrik&gt;        sure</div>
<div class="line">[Wednesday 23 March 2011] [02:14:28] &lt;sustrik&gt;        go on with it</div>
<div class="line">[Wednesday 23 March 2011] [02:17:55] &lt;Freejack&gt;       Guess I&#8217;d better start grokking the code. bbl.</div>
<div class="line">[Wednesday 23 March 2011] [04:30:20] &lt;pieterh&gt;        sustrik: how easy is it to add a transport layer to 0MQ?</div>
<div class="line">[Wednesday 23 March 2011] [04:44:16] &lt;sustrik&gt;        pieterh: depends</div>
<div class="line">[Wednesday 23 March 2011] [04:44:39] &lt;sustrik&gt;        what transport do you have in mind?</div>
<div class="line">[Wednesday 23 March 2011] [04:45:17] &lt;pieterh&gt;        well, of course TLS/SSL for a start</div>
<div class="line">[Wednesday 23 March 2011] [04:45:25] &lt;pieterh&gt;        but more generally, any virtual stream</div>
<div class="line">[Wednesday 23 March 2011] [04:46:05] &lt;pieterh&gt;        we get these questions about implementing UDP, SCTP, etc. regularly</div>
<div class="line">[Wednesday 23 March 2011] [04:46:19] &lt;pieterh&gt;        and there is no good answer except &#8220;go study the code and send us a patch&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [04:47:21] &lt;pieterh&gt;        have you ever looked at e.g. the Linux user-space file system (FUSE)?</div>
<div class="line">[Wednesday 23 March 2011] [04:50:10] &lt;sustrik&gt;        it would be nice to have standardised interface for transports</div>
<div class="line">[Wednesday 23 March 2011] [04:50:25] &lt;sustrik&gt;        however, it&#8217;s hard to define it</div>
<div class="line">[Wednesday 23 March 2011] [04:50:57] &lt;sustrik&gt;        given the pretty large differences between trasnsports (inproc, pgm, tcp)</div>
<div class="line">[Wednesday 23 March 2011] [04:51:06] &lt;sustrik&gt;        as FUSE: no</div>
<div class="line">[Wednesday 23 March 2011] [04:59:00] &lt;pieterh&gt;        FUSE is just an analogy</div>
<div class="line">[Wednesday 23 March 2011] [04:59:25] &lt;pieterh&gt;        you can keep a bunch of native transports tightly bound to whatever...</div>
<div class="line">[Wednesday 23 March 2011] [04:59:43] &lt;pieterh&gt;        but it would be neat to have a virtual interface for stream transports</div>
<div class="line">[Wednesday 23 March 2011] [05:00:08] &lt;pieterh&gt;        e.g. I&#8217;d like to explore making a shmem transport, but where do I start?</div>
<div class="line">[Wednesday 23 March 2011] [05:00:54] &lt;sustrik&gt;        it&#8217;s a connection-based transport, so have a look how tcp transport works</div>
<div class="line">[Wednesday 23 March 2011] [05:01:19] &lt;sustrik&gt;        zmq_listener_t, zmq_connecter_t, zmq_init_t, zmq_engine_t</div>
<div class="line">[Wednesday 23 March 2011] [05:01:33] &lt;pieterh&gt;        no, I&#8217;m not asking for documentation now, here, on IRC... :-)</div>
<div class="line">[Wednesday 23 March 2011] [05:02:36] &lt;pieterh&gt;        if tcp is the right model for all connected stream transports</div>
<div class="line">[Wednesday 23 March 2011] [05:02:55] &lt;sustrik&gt;        probably not</div>
<div class="line">[Wednesday 23 March 2011] [05:03:00] &lt;sustrik&gt;        no idea actually</div>
<div class="line">[Wednesday 23 March 2011] [05:03:03] &lt;pieterh&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [05:03:38] &lt;pieterh&gt;        IMO this is a major barrier to contributors able to extend 0MQ&#8217;s transports</div>
<div class="line">[Wednesday 23 March 2011] [05:03:42] &lt;sustrik&gt;        agreed</div>
<div class="line">[Wednesday 23 March 2011] [05:04:46] &lt;Guthur&gt; +1 that, hehe</div>
<div class="line">[Wednesday 23 March 2011] [05:05:01] &lt;sustrik&gt;        the question is how to define the interface</div>
<div class="line">[Wednesday 23 March 2011] [05:05:15] &lt;sustrik&gt;        right now 0mq doesn&#8217;t do much for you</div>
<div class="line">[Wednesday 23 March 2011] [05:05:26] &lt;pieterh&gt;        well, it can IMO map the 0MQ API semantics</div>
<div class="line">[Wednesday 23 March 2011] [05:05:27] &lt;sustrik&gt;        there&#8217;s a framework for launching async objects</div>
<div class="line">[Wednesday 23 March 2011] [05:05:32] &lt;pieterh&gt;        bind, connect, send, recv</div>
<div class="line">[Wednesday 23 March 2011] [05:05:41] &lt;sustrik&gt;        nope, it&#8217;s event-driven</div>
<div class="line">[Wednesday 23 March 2011] [05:06:00] &lt;sustrik&gt;        another part of functionality, is pollers</div>
<div class="line">[Wednesday 23 March 2011] [05:06:09] &lt;sustrik&gt;        which allow you to register your fds</div>
<div class="line">[Wednesday 23 March 2011] [05:06:18] &lt;sustrik&gt;        and get events such as pollin and pollout</div>
<div class="line">[Wednesday 23 March 2011] [05:06:24] &lt;pieterh&gt;        so any transport layer has to export FDs</div>
<div class="line">[Wednesday 23 March 2011] [05:06:39] &lt;pieterh&gt;        is that how the pgm transport works?</div>
<div class="line">[Wednesday 23 March 2011] [05:06:41] &lt;sustrik&gt;        well, it can run a thread of it&#8217;s own</div>
<div class="line">[Wednesday 23 March 2011] [05:06:48] &lt;sustrik&gt;        and ignore the I/O threads</div>
<div class="line">[Wednesday 23 March 2011] [05:06:55] &lt;pieterh&gt;        that&#8217;s a good start IMO</div>
<div class="line">[Wednesday 23 March 2011] [05:06:55] &lt;sustrik&gt;        = standard pollers</div>
<div class="line">[Wednesday 23 March 2011] [05:07:35] &lt;pieterh&gt;        how about... a transport as a bridge?</div>
<div class="line">[Wednesday 23 March 2011] [05:07:40] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [05:07:43] &lt;pieterh&gt;        hehe</div>
<div class="line">[Wednesday 23 March 2011] [05:07:53] &lt;pieterh&gt;        ok, this is crazy, but...</div>
<div class="line">[Wednesday 23 March 2011] [05:08:03] &lt;pieterh&gt;        transport X runs as its own thread, OK?</div>
<div class="line">[Wednesday 23 March 2011] [05:08:09] &lt;pieterh&gt;        it communicates purely over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:08:22] &lt;pieterh&gt;        define an inproc API back to 0MQ core</div>
<div class="line">[Wednesday 23 March 2011] [05:08:32] &lt;pieterh&gt;        <em>any</em> thread can register, use it, become a transport</div>
<div class="line">[Wednesday 23 March 2011] [05:09:06] &lt;sustrik&gt;        can you be more specific?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:31] &lt;pieterh&gt;        I&#8217;ve not had coffee yet, I know close to nothing about the 0MQ internals, and you want more details?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:35] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [05:09:52] &lt;sustrik&gt;        i don&#8217;t understand what you meant, that&#8217;s all</div>
<div class="line">[Wednesday 23 March 2011] [05:09:55] &lt;ianbarber&gt;      is that better than just writing a 0MQ bridge in &#8216;userland&#8217;?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:56] &lt;ianbarber&gt;      (not sure why i added scare quotes there :))</div>
<div class="line">[Wednesday 23 March 2011] [05:10:10] &lt;pieterh&gt;        ianbarber: it&#8217;s exactly the same except it can be hidden as a transport</div>
<div class="line">[Wednesday 23 March 2011] [05:10:20] &lt;pieterh&gt;        i.e. you can plug in and plug out without changing code</div>
<div class="line">[Wednesday 23 March 2011] [05:10:33] &lt;pieterh&gt;        whereas if it&#8217;s in userland, its architecturally significant</div>
<div class="line">[Wednesday 23 March 2011] [05:10:43] &lt;pieterh&gt;        it&#8217;s FUSE by analogy</div>
<div class="line">[Wednesday 23 March 2011] [05:10:57] &lt;ianbarber&gt;      maybe have that functionality as a device or similar</div>
<div class="line">[Wednesday 23 March 2011] [05:11:00] &lt;pieterh&gt;        sustrik: specifics...</div>
<div class="line">[Wednesday 23 March 2011] [05:11:09] &lt;pieterh&gt;        a transport thread has to register, using some name</div>
<div class="line">[Wednesday 23 March 2011] [05:11:21] &lt;pieterh&gt;        that name becomes available to applications for binding and connecting</div>
<div class="line">[Wednesday 23 March 2011] [05:11:28] &lt;sustrik&gt;        that&#8217;s inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:11:32] &lt;pieterh&gt;        hang on</div>
<div class="line">[Wednesday 23 March 2011] [05:11:54] &lt;pieterh&gt;        the transport thread then accepts a set of control messages over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:11:57] &lt;pieterh&gt;        - bind to endpoint</div>
<div class="line">[Wednesday 23 March 2011] [05:12:00] &lt;pieterh&gt;        - connect to endpoint</div>
<div class="line">[Wednesday 23 March 2011] [05:12:06] &lt;pieterh&gt;        - send message</div>
<div class="line">[Wednesday 23 March 2011] [05:12:09] &lt;pieterh&gt;        - ?</div>
<div class="line">[Wednesday 23 March 2011] [05:12:26] &lt;pieterh&gt;        it returns events asynchronously</div>
<div class="line">[Wednesday 23 March 2011] [05:12:41] &lt;pieterh&gt;        obviously there has to be a peer inside 0MQ able to manage these threads and events</div>
<div class="line">[Wednesday 23 March 2011] [05:12:52] &lt;pieterh&gt;        so it&#8217;s a virtualized transport</div>
<div class="line">[Wednesday 23 March 2011] [05:13:12] &lt;pieterh&gt;        now, I can write an SSL transport really simply</div>
<div class="line">[Wednesday 23 March 2011] [05:13:22] &lt;pieterh&gt;        or a transport that logs everything</div>
<div class="line">[Wednesday 23 March 2011] [05:13:35] &lt;sustrik&gt;        looks like an obvious case for layering on top of 0mq</div>
<div class="line">[Wednesday 23 March 2011] [05:13:48] &lt;pieterh&gt;        of course you can layer it on top but that&#8217;s missing the point</div>
<div class="line">[Wednesday 23 March 2011] [05:13:53] &lt;sustrik&gt;        basically, 0mq is used as a transport between the &#8220;transport&#8221; and the user</div>
<div class="line">[Wednesday 23 March 2011] [05:14:07] &lt;pieterh&gt;        if you layer it at the bottom you get different effects</div>
<div class="line">[Wednesday 23 March 2011] [05:14:13] &lt;pieterh&gt;        again, please understand FUSE</div>
<div class="line">[Wednesday 23 March 2011] [05:14:25] &lt;pieterh&gt;        I can implement a file system in user space</div>
<div class="line">[Wednesday 23 March 2011] [05:14:37] &lt;pieterh&gt;        all my tools work on that file system, since it&#8217;s just a virtualized transport layer</div>
<div class="line">[Wednesday 23 March 2011] [05:15:02] &lt;pieterh&gt;        in 0MQ jargon, my devices, brokers, etc. would automatically work over any virtualized transport</div>
<div class="line">[Wednesday 23 March 2011] [05:15:10] &lt;sustrik&gt;        ack, what&#8217;s needed is an interface from kernel back to user space</div>
<div class="line">[Wednesday 23 March 2011] [05:15:16] &lt;pieterh&gt;        it&#8217;s much, much, much cleaner than implementing the transport on top of 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [05:15:19] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [05:15:28] &lt;sustrik&gt;        but we already have that :)</div>
<div class="line">[Wednesday 23 March 2011] [05:15:35] &lt;sustrik&gt;        it&#8217;s inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:15:47] &lt;pieterh&gt;        that&#8217;s the transport for the interface, it&#8217;s not the interface</div>
<div class="line">[Wednesday 23 March 2011] [05:16:20] &lt;pieterh&gt;        what I want is to inject user space code inside the 0MQ API, not on top of it</div>
<div class="line">[Wednesday 23 March 2011] [05:16:43] &lt;pieterh&gt;        but instead of going and modifying core and sending you a patch</div>
<div class="line">[Wednesday 23 March 2011] [05:16:44] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [05:16:51] &lt;pieterh&gt;        I want to write a thread that talks to your code, over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:16:56] &lt;sustrik&gt;        have a look at 0mq internals and find a way to do that</div>
<div class="line">[Wednesday 23 March 2011] [05:17:20] &lt;pieterh&gt;        i&#8217;ve just made it really easy for you to offer dozens of contributors a virtualized transport layer</div>
<div class="line">[Wednesday 23 March 2011] [05:17:29] &lt;sustrik&gt;        ack</div>
<div class="line">[Wednesday 23 March 2011] [05:17:48] &lt;pieterh&gt;        you know full well I&#8217;m not competent to look at the 0MQ internals and find a way to actually implement this</div>
<div class="line">[Wednesday 23 March 2011] [05:18:06] &lt;pieterh&gt;        if you want people to invest in new transport layers, do <em>not</em> tell them to go read the code</div>
<div class="line">[Wednesday 23 March 2011] [05:18:08] &lt;pieterh&gt;        it will not work</div>
<div class="line">[Wednesday 23 March 2011] [05:18:19] &lt;pieterh&gt;        it&#8217;s basically saying &#8220;piss off&#8221; with a smile</div>
<div class="line">[Wednesday 23 March 2011] [05:18:19] &lt;sustrik&gt;        the point is that&#8217;s it not obvious how to do it</div>
<div class="line">[Wednesday 23 March 2011] [05:18:30] &lt;sustrik&gt;        given that internally, 0mq uses very different model</div>
<div class="line">[Wednesday 23 March 2011] [05:18:38] &lt;sustrik&gt;        it&#8217;s completely event driven</div>
<div class="line">[Wednesday 23 March 2011] [05:18:51] &lt;sustrik&gt;        so there&#8217;s no such thing as say &#8220;connect&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [05:18:51] &lt;pieterh&gt;        you can clearly make event driven APIs over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:19:28] &lt;sustrik&gt;        it&#8217;s different kind of events, those that are passed via mailbox_t</div>
<div class="line">[Wednesday 23 March 2011] [05:19:33] &lt;pieterh&gt;        how many user contributed transports since 0MQ went fully open source?</div>
<div class="line">[Wednesday 23 March 2011] [05:19:34] &lt;sustrik&gt;        see command.hpp</div>
<div class="line">[Wednesday 23 March 2011] [05:19:41] &lt;sustrik&gt;        none</div>
<div class="line">[Wednesday 23 March 2011] [05:19:53] &lt;sustrik&gt;        you don&#8217;t have to convince me</div>
<div class="line">[Wednesday 23 March 2011] [05:19:56] &lt;pieterh&gt;        and this is the reason IMO, no abstract interface</div>
<div class="line">[Wednesday 23 March 2011] [05:20:02] &lt;sustrik&gt;        i am all for standardised transport API</div>
<div class="line">[Wednesday 23 March 2011] [05:20:10] &lt;sustrik&gt;        i just don&#8217;t know how to implement it</div>
<div class="line">[Wednesday 23 March 2011] [05:20:13] &lt;sustrik&gt;        that&#8217;s it</div>
<div class="line">[Wednesday 23 March 2011] [05:20:27] &lt;pieterh&gt;        well, forget efficiency as such, this is about extensibility, not performance</div>
<div class="line">[Wednesday 23 March 2011] [05:20:41] &lt;pieterh&gt;        what are the events passed via mailboxes?</div>
<div class="line">[Wednesday 23 March 2011] [05:21:03] &lt;sustrik&gt;        internal events, such as &#8220;there&#8217;s a new pipe you should start dealing with&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [05:21:30] &lt;pieterh&gt;        so how about pipes extended across inproc?</div>
<div class="line">[Wednesday 23 March 2011] [05:21:35] &lt;pieterh&gt;        logically, I mean</div>
<div class="line">[Wednesday 23 March 2011] [05:21:56] &lt;sustrik&gt;        the concept is that the pipe itself is agnostic about who&#8217;s on the either end of it</div>
<div class="line">[Wednesday 23 March 2011] [05:22:03] &lt;pieterh&gt;        we already have this virtualized interface internally, with mailboxes and pipes</div>
<div class="line">[Wednesday 23 March 2011] [05:22:11] &lt;sustrik&gt;        with inproc, there&#8217;s a socket on both ends</div>
<div class="line">[Wednesday 23 March 2011] [05:22:25] &lt;sustrik&gt;        with tcp, there&#8217;s a socket on one end and a session on the other</div>
<div class="line">[Wednesday 23 March 2011] [05:22:27] &lt;pieterh&gt;        yes, but you can hide that, obviously</div>
<div class="line">[Wednesday 23 March 2011] [05:22:37] &lt;sustrik&gt;        propose a way</div>
<div class="line">[Wednesday 23 March 2011] [05:22:42] &lt;sustrik&gt;        it&#8217;s not easy</div>
<div class="line">[Wednesday 23 March 2011] [05:22:51] &lt;sustrik&gt;        i&#8217;ve spent a lot of time thinking about it</div>
<div class="line">[Wednesday 23 March 2011] [05:22:59] &lt;sustrik&gt;        but haven&#8217;t get to anything sensible so far</div>
<div class="line">[Wednesday 23 March 2011] [05:23:13] &lt;pieterh&gt;        well, thinking by yourself is not often a very productive process...</div>
<div class="line">[Wednesday 23 March 2011] [05:23:27] &lt;sustrik&gt;        sure, feel free to help</div>
<div class="line">[Wednesday 23 March 2011] [05:23:33] &lt;pieterh&gt;        this is what I&#8217;m doing now</div>
<div class="line">[Wednesday 23 March 2011] [05:23:42] &lt;pieterh&gt;        or trying to, anyhow</div>
<div class="line">[Wednesday 23 March 2011] [05:23:51] &lt;sustrik&gt;        well, have a look at the internals first</div>
<div class="line">[Wednesday 23 March 2011] [05:23:58] &lt;sustrik&gt;        so that you have an idea of how it works</div>
<div class="line">[Wednesday 23 March 2011] [05:24:04] &lt;pieterh&gt;        is this documented somewhere?</div>
<div class="line">[Wednesday 23 March 2011] [05:24:12] &lt;sustrik&gt;        source code</div>
<div class="line">[Wednesday 23 March 2011] [05:24:22] &lt;pieterh&gt;        asking me to read C++ code simply to discuss architecture is a waste of my time, sorry</div>
<div class="line">[Wednesday 23 March 2011] [05:24:37] &lt;sustrik&gt;        ok, let it be then</div>
<div class="line">[Wednesday 23 March 2011] [05:24:51]   * sustrik is doing accounting today</div>
<div class="line">[Wednesday 23 March 2011] [05:25:26] &lt;ianbarber&gt;      one thing that maybe is worth considering for connectors is just sticking the files into a different directory</div>
<div class="line">[Wednesday 23 March 2011] [05:25:53] &lt;pieterh&gt;        ianbarber: what connectors, and what files? I&#8217;m confused</div>
<div class="line">[Wednesday 23 March 2011] [05:26:00] &lt;ianbarber&gt;      for the transports, sorry</div>
<div class="line">[Wednesday 23 March 2011] [05:26:14] &lt;pieterh&gt;        actually I&#8217;d like to not even use inproc but IPC</div>
<div class="line">[Wednesday 23 March 2011] [05:26:19] &lt;pieterh&gt;        so a transport can be a separate process</div>
<div class="line">[Wednesday 23 March 2011] [05:26:33] &lt;ianbarber&gt;      so like, once i realised there would be a connector and a socket and listener, it was easier to browse around</div>
<div class="line">[Wednesday 23 March 2011] [05:26:54] &lt;pieterh&gt;        ah, you mean organization of the 0MQ source code?</div>
<div class="line">[Wednesday 23 March 2011] [05:26:57] &lt;ianbarber&gt;      and in terms of people building new ones, the best reference is usually other examples</div>
<div class="line">[Wednesday 23 March 2011] [05:26:57] &lt;ianbarber&gt;      yeah</div>
<div class="line">[Wednesday 23 March 2011] [05:27:08] &lt;pieterh&gt;        yeah, nice</div>
<div class="line">[Wednesday 23 March 2011] [05:27:20] &lt;pieterh&gt;        so all the code for one transport is actually identifiable in one place</div>
<div class="line">[Wednesday 23 March 2011] [05:27:24] &lt;ianbarber&gt;      yeah</div>
<div class="line">[Wednesday 23 March 2011] [05:27:29] &lt;pieterh&gt;        excellent suggestion</div>
<div class="line">[Wednesday 23 March 2011] [05:27:32] &lt;pieterh&gt;        send a patch to the list</div>
<div class="line">[Wednesday 23 March 2011] [05:27:44] &lt;pieterh&gt;        :-) sorry, just being facetious</div>
<div class="line">[Wednesday 23 March 2011] [05:28:03]   * pieterh really needs a coffee</div>
<div class="line">[Wednesday 23 March 2011] [05:28:26] &lt;pieterh&gt;        sustrik: if this all ends up with me learning C++ I&#8217;m seriously never going to forgive you</div>
<div class="line">[Wednesday 23 March 2011] [05:28:38] &lt;sustrik&gt;        :)</div>
<div class="line">[Wednesday 23 March 2011] [05:29:00] &lt;sustrik&gt;        here&#8217;s a beginning of a design document:</div>
<div class="line">[Wednesday 23 March 2011] [05:29:00] &lt;sustrik&gt;        <a class="reference external" href="http://www.zeromq.org/whitepapers:architecture">http://www.zeromq.org/whitepapers:architecture</a></div>
<div class="line">[Wednesday 23 March 2011] [05:29:10] &lt;sustrik&gt;        i never had time to finish it though</div>
<div class="line">[Wednesday 23 March 2011] [05:30:07] &lt;ianbarber&gt;      oh, this looks like a good start!</div>
<div class="line">[Wednesday 23 March 2011] [05:30:42] &lt;ianbarber&gt;      already helpful</div>
<div class="line">[Wednesday 23 March 2011] [05:30:53] &lt;sustrik&gt;        if only it was at least 5x longer :|</div>
<div class="line">[Wednesday 23 March 2011] [05:31:18] &lt;pieterh&gt;        it&#8217;s a good start, I just clicked the &#8216;rating +1&#8217; button</div>
<div class="line">[Wednesday 23 March 2011] [05:31:56] &lt;pieterh&gt;        I think ianbarber&#8217;s idea of moving submodules to their own directory is neat, though just using naming conventions is often simpler</div>
<div class="line">[Wednesday 23 March 2011] [05:32:04] &lt;pieterh&gt;        i.e. zmq_tcp_whatever</div>
<div class="line">[Wednesday 23 March 2011] [05:32:19] &lt;sustrik&gt;        the problem is that&#8217;s it&#8217;s a mess atm</div>
<div class="line">[Wednesday 23 March 2011] [05:32:33] &lt;sustrik&gt;        there are pieces of tcp even in other files</div>
<div class="line">[Wednesday 23 March 2011] [05:32:41] &lt;pieterh&gt;        yes, this is often how it happens</div>
<div class="line">[Wednesday 23 March 2011] [05:32:49] &lt;sustrik&gt;        the consequence of not having a clean interface</div>
<div class="line">[Wednesday 23 March 2011] [05:33:01] &lt;pieterh&gt;        part of the benefit of making a pluggable architecture is you&#8217;re forced to make it clean</div>
<div class="line">[Wednesday 23 March 2011] [05:33:11] &lt;sustrik&gt;        full-heartedly agreed</div>
<div class="line">[Wednesday 23 March 2011] [05:33:25] &lt;pieterh&gt;        sigh, I regret not being able to help, really</div>
<div class="line">[Wednesday 23 March 2011] [05:36:20] &lt;sustrik&gt;        np, it&#8217;ll get sorted out eventually</div>
<div class="line">[Wednesday 23 March 2011] [05:37:50] &lt;sustrik&gt;        pieterh: an idea, maybe you can move the rationale for zmq_msg_t design into the arch document?</div>
<div class="line">[Wednesday 23 March 2011] [05:37:59] &lt;sustrik&gt;        it kind of belongs there</div>
<div class="line">[Wednesday 23 March 2011] [05:38:11] &lt;pieterh&gt;        yes, that&#8217;s where it belongs, indeed... let me do that</div>
<div class="line">[Wednesday 23 March 2011] [05:38:23] &lt;pieterh&gt;        I will also link to the arch document from the main wiki page</div>
<div class="line">[Wednesday 23 March 2011] [05:38:29] &lt;pieterh&gt;        we need more focus on the core codebase IMO</div>
<div class="line">[Wednesday 23 March 2011] [05:39:33] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [05:46:02] &lt;pieterh&gt;        ok, all done</div>
<div class="line">[Wednesday 23 March 2011] [05:46:13] &lt;pieterh&gt;        I also renamed the GSoC page to be reusable</div>
<div class="line">[Wednesday 23 March 2011] [05:50:06] &lt;Guthur&gt; is the labs page the only source for examples of people using 0MQ in anger?</div>
<div class="line">[Wednesday 23 March 2011] [06:04:17] &lt;pieterh&gt;        Guthur: yes, that and Google</div>
<div class="line">[Wednesday 23 March 2011] [06:08:55] &lt;pieterh&gt;        sustrik: random idea, sorry to interrupt your accounting...</div>
<div class="line">[Wednesday 23 March 2011] [06:09:25] &lt;valmac&gt; no body</div>
<div class="line">[Wednesday 23 March 2011] [06:09:39] &lt;valmac&gt; wow! how many people</div>
<div class="line">[Wednesday 23 March 2011] [06:09:47] &lt;valmac&gt; good day!</div>
<div class="line">[Wednesday 23 March 2011] [06:11:45] &lt;mikko&#8211;&gt;        hi</div>
<div class="line">[Wednesday 23 March 2011] [06:12:00] &lt;pieterh&gt;        mikko&#8211;: hello sir</div>
<div class="line">[Wednesday 23 March 2011] [06:20:52] &lt;valmac&gt; poka poka</div>
<div class="line">[Wednesday 23 March 2011] [06:36:28] &lt;arvind&gt; hi guys need a small info regarding ZMQ_PULL queue.. anyone around</div>
<div class="line">[Wednesday 23 March 2011] [06:38:50] &lt;pieterh&gt;        arvind: shoot...</div>
<div class="line">[Wednesday 23 March 2011] [06:48:30] &lt;arvind&gt; hi</div>
<div class="line">[Wednesday 23 March 2011] [06:48:34] &lt;arvind&gt; thanks</div>
<div class="line">[Wednesday 23 March 2011] [06:48:52] &lt;arvind&gt; well i have a PUSH PULL queue working great using IPCmode..</div>
<div class="line">[Wednesday 23 March 2011] [06:49:01] &lt;pieterh&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [06:49:40] &lt;arvind&gt; but when i have set up my push pull queue, the PUSH side has no ZMQ_HWM or SWAP setup</div>
<div class="line">[Wednesday 23 March 2011] [06:49:47] &lt;arvind&gt; and so is the PULL side..</div>
<div class="line">[Wednesday 23 March 2011] [06:50:25] &lt;pieterh&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [06:50:33] &lt;pieterh&gt;        what is your question?</div>
<div class="line">[Wednesday 23 March 2011] [06:50:38] &lt;arvind&gt; noticed that when the PULL side gets a bit slower then PUSH side, i don&#8217;t lose any messages, but the MEMORY size on the PULL side process starts increasing</div>
<div class="line">[Wednesday 23 March 2011] [06:50:47] &lt;pieterh&gt;        yes, this is normal</div>
<div class="line">[Wednesday 23 March 2011] [06:51:12] &lt;arvind&gt; and the issue is the memory does not seem to come down even after the PULL side process picks up everything..</div>
<div class="line">[Wednesday 23 March 2011] [06:51:35] &lt;pieterh&gt;        that is a side-effect of the operating system, probably</div>
<div class="line">[Wednesday 23 March 2011] [06:51:49] &lt;arvind&gt; as in ?? sorry did not get that..</div>
<div class="line">[Wednesday 23 March 2011] [06:52:02] &lt;arvind&gt; i am using freebsd by the way..</div>
<div class="line">[Wednesday 23 March 2011] [06:52:14] &lt;pieterh&gt;        either it does not reduce VM size of process, or it does not return smaller allocations to heap</div>
<div class="line">[Wednesday 23 March 2011] [06:52:59] &lt;pieterh&gt;        alternatively</div>
<div class="line">[Wednesday 23 March 2011] [06:53:10] &lt;pieterh&gt;        you are not properly closing messages in your PULL code</div>
<div class="line">[Wednesday 23 March 2011] [06:53:17] &lt;pieterh&gt;        you may have a simple leak</div>
<div class="line">[Wednesday 23 March 2011] [06:53:20] &lt;arvind&gt; oh ok...  actually its the top command output that shows this increase in MEM</div>
<div class="line">[Wednesday 23 March 2011] [06:53:34] &lt;arvind&gt; well i thought so, and verified it ..</div>
<div class="line">[Wednesday 23 March 2011] [06:53:37] &lt;pieterh&gt;        it is simple to test, run under valgrind</div>
<div class="line">[Wednesday 23 March 2011] [06:54:01] &lt;pieterh&gt;        if that reports all memory properly freed, it is an artifact of FreeBSD and/or runtime memory management</div>
<div class="line">[Wednesday 23 March 2011] [06:54:38] &lt;arvind&gt; ok.. so just wanted to confirm that i had missed any flag for this kind of behavior..</div>
<div class="line">[Wednesday 23 March 2011] [06:54:58] &lt;arvind&gt; sorry &#8220;NOT MISSED&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [06:55:14] &lt;pieterh&gt;        nothing special, this seems to happen... there is some work going on to try to make this work better</div>
<div class="line">[Wednesday 23 March 2011] [06:55:41] &lt;arvind&gt; great and last question...</div>
<div class="line">[Wednesday 23 March 2011] [06:56:00] &lt;arvind&gt; should i set the HWM and SWAP config on the PULL side socket too ??</div>
<div class="line">[Wednesday 23 March 2011] [06:56:26] &lt;pieterh&gt;        if you use top, note that VIRT and RES are very different</div>
<div class="line">[Wednesday 23 March 2011] [06:57:05] &lt;pieterh&gt;        you can set HWM and SWAP on the PULL socket but I&#8217;ve not actually tried that to see what happens</div>
<div class="line">[Wednesday 23 March 2011] [06:57:07] &lt;arvind&gt; yes both VIRT and RES both seem to increase and stay there even when there are no more writes into the queue and everything in the queue is read</div>
<div class="line">[Wednesday 23 March 2011] [06:58:03] &lt;pieterh&gt;        it doesn&#8217;t look like a happy process, but I&#8217;ve no more info on the causes than &#8220;this happens, it&#8217;s not a leak&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [06:58:39] &lt;arvind&gt; ok</div>
<div class="line">[Wednesday 23 March 2011] [06:58:52] &lt;arvind&gt; hey thanks for sharing the info..</div>
<div class="line">[Wednesday 23 March 2011] [06:59:06] &lt;arvind&gt;  will debug more and maybe update the behavior on the mailing list too..</div>
<div class="line">[Wednesday 23 March 2011] [06:59:29] &lt;pieterh&gt;        anything you can dig up would be useful</div>
<div class="line">[Wednesday 23 March 2011] [06:59:38] &lt;arvind&gt; sure thanks</div>
<div class="line">[Wednesday 23 March 2011] [07:00:43] &lt;onceuponatime&gt;  Hi everybody</div>
<div class="line">[Wednesday 23 March 2011] [07:01:00] &lt;onceuponatime&gt;  I just downloaded the latest version of zeromq</div>
<div class="line">[Wednesday 23 March 2011] [07:01:10] &lt;onceuponatime&gt;  and installed the php binding</div>
<div class="line">[Wednesday 23 March 2011] [07:01:32] &lt;onceuponatime&gt;  and when loading the zmq extension the following error is logged:</div>
<div class="line">[Wednesday 23 March 2011] [07:01:35] &lt;onceuponatime&gt;  PHP Warning:  PHP Startup: Unable to load dynamic library &#8216;/Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so&#8217; - dlopen(/Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so, 9): no suitable image found.  Did find:</div>
<div class="line">[Wednesday 23 March 2011] [07:01:35] &lt;onceuponatime&gt;          /Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so: mach-o, but wrong architecture in Unknown on line 0</div>
<div class="line">[Wednesday 23 March 2011] [07:01:48] &lt;onceuponatime&gt;  does anyone have any idea what is going on?</div>
<div class="line">[Wednesday 23 March 2011] [07:02:18] &lt;onceuponatime&gt;  Im doing it in Mac OS X</div>
<div class="line">[Wednesday 23 March 2011] [07:03:01] &lt;pieterh&gt;        not an expert in PHP on OS X but the message seems self-explanatory</div>
<div class="line">[Wednesday 23 March 2011] [07:03:33] &lt;onceuponatime&gt;  so it is not supported for mac os x 64 bit</div>
<div class="line">[Wednesday 23 March 2011] [07:03:35] &lt;pieterh&gt;        you&#8217;re trying, it seems, to use a zmq.so built for a different architecture</div>
<div class="line">[Wednesday 23 March 2011] [07:03:58] &lt;onceuponatime&gt;  ?</div>
<div class="line">[Wednesday 23 March 2011] [07:04:01] &lt;pieterh&gt;        I&#8217;d suggest rebuilding the PHP binding on your box</div>
<div class="line">[Wednesday 23 March 2011] [07:04:16] &lt;onceuponatime&gt;  I built it on my box</div>
<div class="line">[Wednesday 23 March 2011] [07:05:00] &lt;pieterh&gt;        hmm</div>
<div class="line">[Wednesday 23 March 2011] [07:05:17] &lt;pieterh&gt;        ianbarber: ever used 0MQ/PHP on OS X?</div>
<div class="line">[Wednesday 23 March 2011] [07:05:41] &lt;so_solid_moo&gt;   it probably just guessed the wrong arch when it build</div>
<div class="line">[Wednesday 23 March 2011] [07:06:09] &lt;so_solid_moo&gt;   I would use &#8216;file&#8217; to check other php extensions and see what that is compiled as</div>
<div class="line">[Wednesday 23 March 2011] [07:09:43] &lt;onceuponatime&gt;  ok thanks, I just had a wrong reference to the pecl binnary and it took the wrong config file when installing the extension</div>
<div class="line">[Wednesday 23 March 2011] [07:10:02] &lt;pieterh&gt;        onceuponatime: would you like to add this to the tips page?</div>
<div class="line">[Wednesday 23 March 2011] [07:10:07] &lt;pieterh&gt;        <a class="reference external" href="http://zero.mq/tips">http://zero.mq/tips</a></div>
<div class="line">[Wednesday 23 March 2011] [07:11:32] &lt;onceuponatime&gt;  well, it is just use the pear &amp;&amp; pecl files within MAMP dir</div>
<div class="line">[Wednesday 23 March 2011] [07:12:13] &lt;pieterh&gt;        perhaps add this to the PHP binding page then</div>
<div class="line">[Wednesday 23 March 2011] [07:13:15] &lt;mikko&#8211;&gt;        CWW scheduled for 1 April 2011: yes</div>
<div class="line">[Wednesday 23 March 2011] [07:13:22] &lt;mikko&#8211;&gt;        ermm</div>
<div class="line">[Wednesday 23 March 2011] [07:13:26] &lt;mikko&#8211;&gt;        onceuponatime</div>
<div class="line">[Wednesday 23 March 2011] [07:13:30] &lt;mikko&#8211;&gt;        i got a fix for that</div>
<div class="line">[Wednesday 23 March 2011] [07:13:36] &lt;mikko&#8211;&gt;        steve-o !</div>
<div class="line">[Wednesday 23 March 2011] [07:14:15] &lt;<a href="#id898"><span class="problematic" id="id899">Steve-o_</span></a>&gt;       yo</div>
<div class="line">[Wednesday 23 March 2011] [07:14:30] &lt;onceuponatime&gt;  what fix?</div>
<div class="line">[Wednesday 23 March 2011] [07:14:30] &lt;mikko&#8211;&gt;        onceuponatime: <a class="reference external" href="https://github.com/mkoppanen/php-zmq/issues/20">https://github.com/mkoppanen/php-zmq/issues/20</a></div>
<div class="line">[Wednesday 23 March 2011] [07:14:40] &lt;mikko&#8211;&gt;        this reported had the same issue</div>
<div class="line">[Wednesday 23 March 2011] [07:15:07] &lt;onceuponatime&gt;  cool, thx mikko&#8211;</div>
<div class="line">[Wednesday 23 March 2011] [07:15:07] &lt;mikko&#8211;&gt;        i boils down that both libzmq and php extension need to built with 32bit or 64 bit</div>
<div class="line">[Wednesday 23 March 2011] [07:15:12] &lt;mikko&#8211;&gt;        what ever matches your apache</div>
<div class="line">[Wednesday 23 March 2011] [07:22:06] &lt;<a href="#id900"><span class="problematic" id="id901">Steve-o_</span></a>&gt;       mikko: had me concerned I broke Solaris again there, just checked it&#8217;s fine :P</div>
<div class="line">[Wednesday 23 March 2011] [07:23:27] &lt;sustrik&gt;        re</div>
<div class="line">[Wednesday 23 March 2011] [07:23:47] &lt;pieterh&gt;        sustrik: I&#8217;m making the zapi context wrapper threadsafe</div>
<div class="line">[Wednesday 23 March 2011] [07:23:55] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [07:24:04] &lt;pieterh&gt;        am inspired by your explanation &#8220;MQ&#8217;s concurency model may a bit confusing at first. The reason is that we eat our own dogfood and use message passing to achieve concurrency and internal scalability.&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:24:11] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [07:24:22] &lt;sustrik&gt;        wait a sec, context wrapper?</div>
<div class="line">[Wednesday 23 March 2011] [07:24:27] &lt;pieterh&gt;        haha</div>
<div class="line">[Wednesday 23 March 2011] [07:24:27] &lt;sustrik&gt;        context is thread safe</div>
<div class="line">[Wednesday 23 March 2011] [07:24:37] &lt;sustrik&gt;        no need to add any synchronisation there</div>
<div class="line">[Wednesday 23 March 2011] [07:24:46] &lt;tjgillies&gt;      <a class="reference external" href="http://draw.nostat.us">http://draw.nostat.us</a></div>
<div class="line">[Wednesday 23 March 2011] [07:24:59] &lt;pieterh&gt;        zapi&#8217;s context wrapper does things like automatically close all open sockets, emulate 2.0 zmq_term if you want it, etc.</div>
<div class="line">[Wednesday 23 March 2011] [07:25:10] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [07:26:07] &lt;mikko&#8211;&gt;        <a href="#id902"><span class="problematic" id="id903">Steve-o_</span></a>: thanks for the tip on automake thing</div>
<div class="line">[Wednesday 23 March 2011] [07:26:09] &lt;mikko&#8211;&gt;        works like a dream</div>
<div class="line">[Wednesday 23 March 2011] [07:26:10] &lt;pieterh&gt;        so the approach is to start an agent thread that does the real work, and talk to it over inproc</div>
<div class="line">[Wednesday 23 March 2011] [07:26:39] &lt;<a href="#id904"><span class="problematic" id="id905">Steve-o_</span></a>&gt;       mikko: I saw, Google can be awesome at times</div>
<div class="line">[Wednesday 23 March 2011] [07:26:57] &lt;mikko&#8211;&gt;        <a href="#id906"><span class="problematic" id="id907">Steve-o_</span></a>: i knew that something like that must exist but used the wrong search terms</div>
<div class="line">[Wednesday 23 March 2011] [07:27:11] &lt;mikko&#8211;&gt;        i searched for something like &#8220;prevent automake install in subdirs&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:27:18] &lt;mikko&#8211;&gt;        came up with a lot of irrelevant results</div>
<div class="line">[Wednesday 23 March 2011] [07:30:35] &lt;<a href="#id908"><span class="problematic" id="id909">Steve-o_</span></a>&gt;       Your Google-fu is weak master Mikko</div>
<div class="line">[Wednesday 23 March 2011] [07:30:46] &lt;<a href="#id910"><span class="problematic" id="id911">Steve-o_</span></a>&gt;       I used &#8220;stop recursive make install&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:31:16] &lt;pieterh&gt;        heh, I love IRC</div>
<div class="line">[Wednesday 23 March 2011] [07:31:45] &lt;pieterh&gt;        meanwhile people are still struggling with stuff like this:</div>
<div class="line">[Wednesday 23 March 2011] [07:31:48] &lt;pieterh&gt;        &#8220;Reminder:  Due to the DST clock change in the US, a couple of weeks ago, phone conference will again commence 1 hour earlier for those dialling in from Europe/Asia.&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [08:02:43] &lt;Guthur&gt; pieterh: do you have a phone conference re 0MQ?</div>
<div class="line">[Wednesday 23 March 2011] [08:03:00] &lt;pieterh&gt;        Guthur: no, I get invited to these things, which I try to ignore</div>
<div class="line">[Wednesday 23 March 2011] [08:03:12] &lt;pieterh&gt;        it&#8217;s most definitely not 0MQ... :-)</div>
<div class="line">[Wednesday 23 March 2011] [08:12:09] &lt;mikko&#8211;&gt;        <a href="#id912"><span class="problematic" id="id913">Steve-o_</span></a>: yeah, that is true</div>
<div class="line">[Wednesday 23 March 2011] [08:12:31] &lt;mikko&#8211;&gt;        <a href="#id914"><span class="problematic" id="id915">Steve-o_</span></a>: anyway, thanks for the work on autoconf stuff. it makes things million times easier on zeromq side</div>
<div class="line">[Wednesday 23 March 2011] [08:15:33] &lt;djc&gt;    I</div>
<div class="line">[Wednesday 23 March 2011] [08:15:42] &lt;djc&gt;    &#8216;m hitting an assert in a Python client</div>
<div class="line">[Wednesday 23 March 2011] [08:15:50] &lt;djc&gt;    I can see where the assert comes from, but not sure why it hits</div>
<div class="line">[Wednesday 23 March 2011] [08:16:05] &lt;djc&gt;    it&#8217;s in 2.0 zeromq, req.cpp:225</div>
<div class="line">[Wednesday 23 March 2011] [08:20:04] &lt;sustrik&gt;        looks like someone is sending junk to the socket</div>
<div class="line">[Wednesday 23 March 2011] [08:20:48] &lt;sustrik&gt;        maybe you are connecting it by an incompatible socket type?</div>
<div class="line">[Wednesday 23 March 2011] [08:24:40] &lt;djc&gt;    mmm, pretty sure I&#8217;m not</div>
<div class="line">[Wednesday 23 March 2011] [08:25:00] &lt;djc&gt;    ah, wait</div>
<div class="line">[Wednesday 23 March 2011] [08:25:04] &lt;pieterh&gt;        djc: can you please post a minimal test case?</div>
<div class="line">[Wednesday 23 March 2011] [08:25:23] &lt;pieterh&gt;        this is explained on <a class="reference external" href="http://www.zeromq.org/intro:ask-for-help">http://www.zeromq.org/intro:ask-for-help</a></div>
<div class="line">[Wednesday 23 March 2011] [08:25:52] &lt;djc&gt;    already fixed it, sorry about that</div>
<div class="line">[Wednesday 23 March 2011] [08:25:58] &lt;djc&gt;    was referencing an endpoint of the wrong type</div>
<div class="line">[Wednesday 23 March 2011] [08:26:17] &lt;djc&gt;    at least now my server segfaults :P</div>
<div class="line">[Wednesday 23 March 2011] [08:26:18] &lt;pieterh&gt;        sustrik: can we not assert when getting junk on a socket?</div>
<div class="line">[Wednesday 23 March 2011] [08:26:36] &lt;pieterh&gt;        or this has already been removed in 2.1 and later?</div>
<div class="line">[Wednesday 23 March 2011] [08:26:41]   * pieterh should read tf code</div>
<div class="line">[Wednesday 23 March 2011] [08:26:47] &lt;djc&gt;    2.1 has very different code, already looked at that</div>
<div class="line">[Wednesday 23 March 2011] [08:26:56] &lt;sustrik&gt;        there were several related fixes in 2.1</div>
<div class="line">[Wednesday 23 March 2011] [08:27:12] &lt;pieterh&gt;        djc: any specific reason you&#8217;re still using 2.0?</div>
<div class="line">[Wednesday 23 March 2011] [08:29:58] &lt;djc&gt;    because it&#8217;s the stable version</div>
<div class="line">[Wednesday 23 March 2011] [08:30:25] &lt;djc&gt;    or, I guess, was, until two days ago :P</div>
<div class="line">[Wednesday 23 March 2011] [08:30:29] &lt;djc&gt;    I&#8217;ll see about upgrading :)</div>
<div class="line">[Wednesday 23 March 2011] [08:30:43] &lt;pieterh&gt;        please do so, 2.1 fixes a <em>lot</em> of issues in 2.0</div>
<div class="line">[Wednesday 23 March 2011] [08:31:01] &lt;djc&gt;    I definitely wanted to, but decided to wait until y&#8217;all would tag it stable</div>
<div class="line">[Wednesday 23 March 2011] [08:31:11] &lt;pieterh&gt;        plus we have no intention of fixing any issues reported in 2.0 unless they are also in 2.1</div>
<div class="line">[Wednesday 23 March 2011] [08:31:48] &lt;pieterh&gt;        ok, thanks for the explanation, was just curious</div>
<div class="line">[Wednesday 23 March 2011] [08:47:28] &lt;Guthur&gt; You know after the &#8216;discussion&#8217; last night on the mailing list I started to think more about the XREP/XREQ, and I was wondering what exactly they were intended for if not for ROUTER/DEALER type patterns</div>
<div class="line">[Wednesday 23 March 2011] [08:48:52] &lt;pieterh&gt;        Guthur: me too, and afaics routing is exactly a core mechanism for returning stuff to sender, i.e. what xrep does</div>
<div class="line">[Wednesday 23 March 2011] [08:50:32] &lt;Guthur&gt; I think it might be a prime example that if you expose something like this, people will use and abuse it</div>
<div class="line">[Wednesday 23 March 2011] [08:50:49] &lt;pieterh&gt;        that was an original argument for not documenting xrep/xreq</div>
<div class="line">[Wednesday 23 March 2011] [08:50:57] &lt;pieterh&gt;        but I don&#8217;t see how to make real code without this</div>
<div class="line">[Wednesday 23 March 2011] [08:51:23] &lt;pieterh&gt;        e.g. I&#8217;m making a request-reply chain right now, between two threads</div>
<div class="line">[Wednesday 23 March 2011] [08:51:36] &lt;pieterh&gt;        if I use req/rep, it has to be lock-step, every request MUST send a reply</div>
<div class="line">[Wednesday 23 March 2011] [08:51:41] &lt;Guthur&gt; well I could possibly see some saying that you need to use a different product for routing</div>
<div class="line">[Wednesday 23 March 2011] [08:51:48] &lt;pieterh&gt;        but using dealer/router I can send requests that don&#8217;t need replies</div>
<div class="line">[Wednesday 23 March 2011] [08:51:57] &lt;Guthur&gt; not that I would necessarily agree just that I can see that arguement</div>
<div class="line">[Wednesday 23 March 2011] [08:52:29] &lt;pieterh&gt;        also I can&#8217;t see how user space divides into cases that want router semantics and those that want xrep semantics</div>
<div class="line">[Wednesday 23 March 2011] [08:52:37] &lt;pieterh&gt;        that is a senseless division, it just isn&#8217;t there</div>
<div class="line">[Wednesday 23 March 2011] [08:52:50] &lt;pieterh&gt;        unless you count 100% and 0% as a division</div>
<div class="line">[Wednesday 23 March 2011] [08:53:07] &lt;Guthur&gt; hehe, I stillhave to keep checking back to the guide to see which is the router and the dealer</div>
<div class="line">[Wednesday 23 March 2011] [08:53:14] &lt;Guthur&gt; I need to write it on my hand or something</div>
<div class="line">[Wednesday 23 March 2011] [08:53:28] &lt;pieterh&gt;        well, the one exception I can see is a simplistic req/rep device, but there are no real use cases for those</div>
<div class="line">[Wednesday 23 March 2011] [08:53:36] &lt;pieterh&gt;        dealer is push+pull, remember that</div>
<div class="line">[Wednesday 23 March 2011] [08:53:45] &lt;pieterh&gt;        it does nothing with envelopes</div>
<div class="line">[Wednesday 23 March 2011] [08:54:04] &lt;sustrik&gt;        the problem is that req/rep is going to evolve</div>
<div class="line">[Wednesday 23 March 2011] [08:54:20] &lt;Guthur&gt; oh that bit is fine I just keep forgetting which XREQ/XREP is the DEALER/ROUTER</div>
<div class="line">[Wednesday 23 March 2011] [08:54:21] &lt;sustrik&gt;        and can undeliberately break the other use case</div>
<div class="line">[Wednesday 23 March 2011] [08:54:22] &lt;pieterh&gt;        sustrik: you need to clarify that, it&#8217;s much too vague as an argument</div>
<div class="line">[Wednesday 23 March 2011] [08:54:23] &lt;sustrik&gt;        cases</div>
<div class="line">[Wednesday 23 March 2011] [08:54:33] &lt;pieterh&gt;        i agree in theory, just can&#8217;t see it in practice</div>
<div class="line">[Wednesday 23 March 2011] [08:54:51] &lt;sustrik&gt;        well, imagine the alternative routing algorithm</div>
<div class="line">[Wednesday 23 March 2011] [08:54:52] &lt;pieterh&gt;        anything could evolve</div>
<div class="line">[Wednesday 23 March 2011] [08:54:59] &lt;sustrik&gt;        i&#8217;ve described it in one email</div>
<div class="line">[Wednesday 23 March 2011] [08:55:12] &lt;pieterh&gt;        you described something that had no design afaics...</div>
<div class="line">[Wednesday 23 March 2011] [08:55:17] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [08:55:24] &lt;Guthur&gt; the other case where REQ/REP falls down is the strict request/reply pattern</div>
<div class="line">[Wednesday 23 March 2011] [08:55:36] &lt;pieterh&gt;        well, sorry, I didn&#8217;t understand the design then</div>
<div class="line">[Wednesday 23 March 2011] [08:55:52] &lt;pieterh&gt;        to get a reply back to a sender, across a chain, you need an address stack</div>
<div class="line">[Wednesday 23 March 2011] [08:55:56] &lt;sustrik&gt;        the idea was to keep routing table in nodes</div>
<div class="line">[Wednesday 23 March 2011] [08:56:04] &lt;sustrik&gt;        instead of in the message itself</div>
<div class="line">[Wednesday 23 March 2011] [08:56:12] &lt;sustrik&gt;        similar to how IP behaves</div>
<div class="line">[Wednesday 23 March 2011] [08:56:13] &lt;pieterh&gt;        and if a node crashes?</div>
<div class="line">[Wednesday 23 March 2011] [08:56:21] &lt;sustrik&gt;        same as now</div>
<div class="line">[Wednesday 23 March 2011] [08:56:24] &lt;sustrik&gt;        the message is dropped</div>
<div class="line">[Wednesday 23 March 2011] [08:56:35] &lt;pieterh&gt;        no, now I can resend via a different route</div>
<div class="line">[Wednesday 23 March 2011] [08:56:35] &lt;sustrik&gt;        anyway, it&#8217;s probably not viable</div>
<div class="line">[Wednesday 23 March 2011] [08:56:48] &lt;pieterh&gt;        if it&#8217;s not viable, please don&#8217;t raise it as a realistic case... :-(</div>
<div class="line">[Wednesday 23 March 2011] [08:56:59] &lt;sustrik&gt;        the point, however, is that it would break req/rep used for something else than req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:06] &lt;pieterh&gt;        it&#8217;s all req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:11] &lt;pieterh&gt;        routing is req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:21] &lt;pieterh&gt;        there are no illegal semantics here</div>
<div class="line">[Wednesday 23 March 2011] [08:57:22] &lt;sustrik&gt;        no point in discussing this</div>
<div class="line">[Wednesday 23 March 2011] [08:57:36] &lt;sustrik&gt;        once it break, we&#8217;ll have to find the solution</div>
<div class="line">[Wednesday 23 March 2011] [08:57:38] &lt;pieterh&gt;        well, you say that when you don&#8217;t want to discuss stuff</div>
<div class="line">[Wednesday 23 March 2011] [08:57:53] &lt;sustrik&gt;        we don&#8217;t have the problem yet</div>
<div class="line">[Wednesday 23 March 2011] [08:57:56] &lt;pieterh&gt;        yet this is very sensitive to people and when you say you might break it all... you&#8217;ll get discussion</div>
<div class="line">[Wednesday 23 March 2011] [08:58:09] &lt;pieterh&gt;        I wrote two entire chapters on req-rep</div>
<div class="line">[Wednesday 23 March 2011] [08:58:12] &lt;sustrik&gt;        well, you are asking for the problem</div>
<div class="line">[Wednesday 23 March 2011] [08:58:16] &lt;sustrik&gt;        there&#8217;s none yet</div>
<div class="line">[Wednesday 23 March 2011] [08:58:20] &lt;sustrik&gt;        will be in the future</div>
<div class="line">[Wednesday 23 March 2011] [08:58:33] &lt;Guthur&gt; sustrik: we will face this problem for 3.0 though, correct?</div>
<div class="line">[Wednesday 23 March 2011] [08:58:43] &lt;Guthur&gt; or is it going to be deferred for later</div>
<div class="line">[Wednesday 23 March 2011] [08:58:53] &lt;sustrik&gt;        not immediately</div>
<div class="line">[Wednesday 23 March 2011] [08:58:59] &lt;pieterh&gt;        &#8216;there will be change in the future&#8217; is kind of ... anyhow...</div>
<div class="line">[Wednesday 23 March 2011] [08:59:11]   * pieterh just wants a sane vocabulary</div>
<div class="line">[Wednesday 23 March 2011] [08:59:26] &lt;sustrik&gt;        well, as i said, no immediate problem</div>
<div class="line">[Wednesday 23 March 2011] [08:59:40] &lt;pieterh&gt;        i&#8217;m all open to new routing semantics</div>
<div class="line">[Wednesday 23 March 2011] [08:59:50] &lt;sustrik&gt;        however, separating the routing pattern from req/rep pattern would help to prevent the clash in the future</div>
<div class="line">[Wednesday 23 March 2011] [08:59:52] &lt;pieterh&gt;        but the ones we have, are precious</div>
<div class="line">[Wednesday 23 March 2011] [09:00:04] &lt;pieterh&gt;        sustrik: please, it&#8217;s not separable</div>
<div class="line">[Wednesday 23 March 2011] [09:00:11] &lt;pieterh&gt;        it is part of the same package... sigh</div>
<div class="line">[Wednesday 23 March 2011] [09:00:12] &lt;sustrik&gt;        shrug</div>
<div class="line">[Wednesday 23 March 2011] [09:00:14] &lt;sustrik&gt;        never mind</div>
<div class="line">[Wednesday 23 March 2011] [09:00:28]   * sustrik is back to accounting</div>
<div class="line">[Wednesday 23 March 2011] [09:00:29] &lt;Guthur&gt; hehe, alot of circling going on</div>
<div class="line">[Wednesday 23 March 2011] [09:00:32] &lt;pieterh&gt;        you are suggesting making divisions that won&#8217;t help anyone</div>
<div class="line">[Wednesday 23 March 2011] [09:00:46] &lt;pieterh&gt;        leave it, it works, just let the syntax get cleaner</div>
<div class="line">[Wednesday 23 March 2011] [09:00:47] &lt;Guthur&gt; sorry for stirring it up again</div>
<div class="line">[Wednesday 23 March 2011] [09:00:49] &lt;sustrik&gt;        Guthur: here&#8217;s some background to req/rep design</div>
<div class="line">[Wednesday 23 March 2011] [09:00:57] &lt;sustrik&gt;        see Request/reply chapter</div>
<div class="line">[Wednesday 23 March 2011] [09:01:43] &lt;pieterh&gt;        sustrik: I&#8217;ll make the analogy with AMQP and the desire of architects to &#8220;get it right&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:01:54] &lt;pieterh&gt;        it takes years to collectively learn these patterns properly</div>
<div class="line">[Wednesday 23 March 2011] [09:02:25] &lt;pieterh&gt;        if you arbitrarily put that investment into question, you will get into trouble</div>
<div class="line">[Wednesday 23 March 2011] [09:02:34] &lt;pieterh&gt;        change has to be worth it for users</div>
<div class="line">[Wednesday 23 March 2011] [09:02:45] &lt;Guthur&gt; sustrik: chapter in the manual</div>
<div class="line">[Wednesday 23 March 2011] [09:02:45] &lt;pieterh&gt;        this is the cost of success</div>
<div class="line">[Wednesday 23 March 2011] [09:02:48] &lt;Guthur&gt; ?</div>
<div class="line">[Wednesday 23 March 2011] [09:03:11] &lt;sustrik&gt;        Guthur: <a class="reference external" href="http://www.250bpm.com/hits">http://www.250bpm.com/hits</a></div>
<div class="line">[Wednesday 23 March 2011] [09:05:41] &lt;pieterh&gt;        sustrik: one difficulty with this discussion is you are thinking 10-50 years into the future</div>
<div class="line">[Wednesday 23 March 2011] [09:05:52] &lt;sustrik&gt;        someone has to :)</div>
<div class="line">[Wednesday 23 March 2011] [09:05:56] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [09:06:09] &lt;pieterh&gt;        but you see Guthur&#8217;s question, &#8220;will this change affect 3.0?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:06:20] &lt;pieterh&gt;        the timescales here, in this community, are usually weeks or months</div>
<div class="line">[Wednesday 23 March 2011] [09:06:27] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [09:07:04] &lt;pieterh&gt;        goodo, we&#8217;ll embrace this tension, it&#8217;s healthy</div>
<div class="line">[Wednesday 23 March 2011] [09:07:11] &lt;sustrik&gt;        i think so</div>
<div class="line">[Wednesday 23 March 2011] [09:07:18] &lt;sustrik&gt;        more amusing as well</div>
<div class="line">[Wednesday 23 March 2011] [09:07:23] &lt;pieterh&gt;        just don&#8217;t go do a JOH on us...</div>
<div class="line">[Wednesday 23 March 2011] [09:07:33] &lt;sustrik&gt;        not my intention</div>
<div class="line">[Wednesday 23 March 2011] [09:07:40] &lt;pieterh&gt;        yeah, forgive my paranoia</div>
<div class="line">[Wednesday 23 March 2011] [09:07:55] &lt;sustrik&gt;        however, i have to have clear pattern separation to get anything sensible in the long term</div>
<div class="line">[Wednesday 23 March 2011] [09:08:08] &lt;sustrik&gt;        btw, i&#8217;ve recalled you &#8220;content classes&#8221; in AMQP</div>
<div class="line">[Wednesday 23 March 2011] [09:08:09] &lt;pieterh&gt;        I think stretching 0MQ across these scales is perhaps the most interesting problem I&#8217;ve seen in decades</div>
<div class="line">[Wednesday 23 March 2011] [09:08:17] &lt;sustrik&gt;        it&#8217;s basically the same idea</div>
<div class="line">[Wednesday 23 March 2011] [09:08:20] &lt;pieterh&gt;        oh, content classes... lol</div>
<div class="line">[Wednesday 23 March 2011] [09:08:29] &lt;sustrik&gt;        vertical separation of the stack</div>
<div class="line">[Wednesday 23 March 2011] [09:08:36] &lt;pieterh&gt;        shot in the back of the head, thrown into the ditch of ignorance... :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:09:11] &lt;sustrik&gt;        so the idea is that there a vertical segment of the stack called req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:09:23] &lt;sustrik&gt;        which is a dumb 1 request followed by 1 reply thing</div>
<div class="line">[Wednesday 23 March 2011] [09:09:41] &lt;Guthur&gt; what&#8217;s a JOH?</div>
<div class="line">[Wednesday 23 March 2011] [09:09:42] &lt;pieterh&gt;        this stops working real fast, though</div>
<div class="line">[Wednesday 23 March 2011] [09:09:53] &lt;sustrik&gt;        not imo, but that&#8217;s not the point</div>
<div class="line">[Wednesday 23 March 2011] [09:10:05] &lt;pieterh&gt;        Guthur: a JOH is a mythical beast that creates havoc by randomly changing fundamental architecture for no good reason</div>
<div class="line">[Wednesday 23 March 2011] [09:10:07] &lt;sustrik&gt;        the point is that&#8217;s it vertically separated from different patterns</div>
<div class="line">[Wednesday 23 March 2011] [09:10:12] &lt;sustrik&gt;        such as pub/sub</div>
<div class="line">[Wednesday 23 March 2011] [09:10:15] &lt;pieterh&gt;        yes, agreed</div>
<div class="line">[Wednesday 23 March 2011] [09:10:34] &lt;sustrik&gt;        now, given that people are using req/rep to do something that is not strictly speaking req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:10:40] &lt;pieterh&gt;        ah</div>
<div class="line">[Wednesday 23 March 2011] [09:10:48] &lt;pieterh&gt;        but router/dealer are strictly part of req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:10:50] &lt;sustrik&gt;        i am proposing to create a new vertical slot</div>
<div class="line">[Wednesday 23 March 2011] [09:10:58] &lt;pieterh&gt;        this is where you are purely wrong IMO</div>
<div class="line">[Wednesday 23 March 2011] [09:11:18] &lt;sustrik&gt;        can router route two replies to a single request?</div>
<div class="line">[Wednesday 23 March 2011] [09:11:21] &lt;pieterh&gt;        speaking as a user of 0MQ, router/dealer are essentially just async req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:11:25] &lt;sustrik&gt;        if so, it&#8217;s not &#8220;strict&#8221; req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:11:30] &lt;pieterh&gt;        and async req/rep is the majority pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:11:37] &lt;sustrik&gt;        async is ok</div>
<div class="line">[Wednesday 23 March 2011] [09:11:39] &lt;mikko&#8211;&gt;        pieterh: heads up: there are some things i need to clean up on the build. trying to get patch to you today</div>
<div class="line">[Wednesday 23 March 2011] [09:11:41] &lt;pieterh&gt;        simple lock-step req/rep stops working real fast</div>
<div class="line">[Wednesday 23 March 2011] [09:11:49] &lt;pieterh&gt;        mikko&#8211;: no hurry</div>
<div class="line">[Wednesday 23 March 2011] [09:11:51] &lt;sustrik&gt;        what&#8217;s not ok is breaking 1:1 request/reply relation</div>
<div class="line">[Wednesday 23 March 2011] [09:12:00] &lt;pieterh&gt;        no plans to release 2.1.4 for a few days yet</div>
<div class="line">[Wednesday 23 March 2011] [09:12:20] &lt;sustrik&gt;        anyway, back to accounting, otherwide i&#8217;ll never have it ready</div>
<div class="line">[Wednesday 23 March 2011] [09:12:27] &lt;pieterh&gt;        sustrik: in my email I listed 4-5 cases where sync req/rep just stops working</div>
<div class="line">[Wednesday 23 March 2011] [09:12:34] &lt;pieterh&gt;        very rapidly</div>
<div class="line">[Wednesday 23 March 2011] [09:12:42] &lt;pieterh&gt;        you cannot make real req/rep without router/dealer</div>
<div class="line">[Wednesday 23 March 2011] [09:12:52] &lt;pieterh&gt;        thus these are intrinsically part of that vertical stack</div>
<div class="line">[Wednesday 23 March 2011] [09:13:18] &lt;pieterh&gt;        it&#8217;s like saying the car and the engine are two different products</div>
<div class="line">[Wednesday 23 March 2011] [09:14:10] &lt;sustrik&gt;        does router guarantee that there&#8217;s 1:1 relationship between requests and replies?</div>
<div class="line">[Wednesday 23 March 2011] [09:14:17] &lt;sustrik&gt;        i suppose it does not</div>
<div class="line">[Wednesday 23 March 2011] [09:14:22] &lt;pieterh&gt;        that relationship is not intrinsic to req-rep</div>
<div class="line">[Wednesday 23 March 2011] [09:14:29] &lt;pieterh&gt;        does every email I send get 1 reply?</div>
<div class="line">[Wednesday 23 March 2011] [09:14:29] &lt;sustrik&gt;        it is</div>
<div class="line">[Wednesday 23 March 2011] [09:14:35] &lt;pieterh&gt;        not in the real world</div>
<div class="line">[Wednesday 23 March 2011] [09:14:37] &lt;Guthur&gt; I&#8217;m not sure if router/dealer should be so intrinsically linked to req-rep</div>
<div class="line">[Wednesday 23 March 2011] [09:14:40] &lt;pieterh&gt;        only in some fictional world</div>
<div class="line">[Wednesday 23 March 2011] [09:14:42] &lt;sustrik&gt;        it&#8217;s the only way to allow end-to-end reliability</div>
<div class="line">[Wednesday 23 March 2011] [09:14:49] &lt;sustrik&gt;        the reply works as an ack</div>
<div class="line">[Wednesday 23 March 2011] [09:14:56] &lt;pieterh&gt;        end-to-end reliability is a subcase too</div>
<div class="line">[Wednesday 23 March 2011] [09:15:08] &lt;pieterh&gt;        are you suggesting that&#8217;s the only use case for req-rep?</div>
<div class="line">[Wednesday 23 March 2011] [09:15:20] &lt;pieterh&gt;        what if the ack is lost?</div>
<div class="line">[Wednesday 23 March 2011] [09:15:25] &lt;sustrik&gt;        timeout and resend</div>
<div class="line">[Wednesday 23 March 2011] [09:15:31] &lt;pieterh&gt;        so heartbeating</div>
<div class="line">[Wednesday 23 March 2011] [09:15:39] &lt;sustrik&gt;        kind of</div>
<div class="line">[Wednesday 23 March 2011] [09:15:39] &lt;pieterh&gt;        look, I&#8217;m an expert in this, really</div>
<div class="line">[Wednesday 23 March 2011] [09:15:46] &lt;pieterh&gt;        and you cannot do it with synchronous endpoints</div>
<div class="line">[Wednesday 23 March 2011] [09:15:47] &lt;sustrik&gt;        where reply works as a heartbeat</div>
<div class="line">[Wednesday 23 March 2011] [09:16:05] &lt;pieterh&gt;        you may find other patterns and socket types</div>
<div class="line">[Wednesday 23 March 2011] [09:16:09] &lt;sustrik&gt;        you can, but it has to be done inside 0mq rather than on top of it</div>
<div class="line">[Wednesday 23 March 2011] [09:16:23] &lt;pieterh&gt;        but today, realistic req-rep needs those four socket types</div>
<div class="line">[Wednesday 23 March 2011] [09:16:31] &lt;pieterh&gt;        actually it barely needs req and rep at all</div>
<div class="line">[Wednesday 23 March 2011] [09:16:41] &lt;pieterh&gt;        router/dealer is the real core of request-reply</div>
<div class="line">[Wednesday 23 March 2011] [09:16:42] &lt;sustrik&gt;        yes, because it&#8217;s unfinished</div>
<div class="line">[Wednesday 23 March 2011] [09:17:12] &lt;pieterh&gt;        you speak like an artist sometimes</div>
<div class="line">[Wednesday 23 March 2011] [09:17:46] &lt;sustrik&gt;        well, the resend thing is missing in REQ socket</div>
<div class="line">[Wednesday 23 March 2011] [09:17:51] &lt;pieterh&gt;        the issue here is brains learning patterns, and the cost of that</div>
<div class="line">[Wednesday 23 March 2011] [09:18:00] &lt;pieterh&gt;        it&#8217;s about people, not technicalities</div>
<div class="line">[Wednesday 23 March 2011] [09:18:09] &lt;sustrik&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [09:18:15] &lt;pieterh&gt;        you publish ideas, people invest decades in learning them</div>
<div class="line">[Wednesday 23 March 2011] [09:18:22] &lt;pieterh&gt;        and then you say, &#8220;aha, but it&#8217;s unfinished! &#8220;</div>
<div class="line">[Wednesday 23 March 2011] [09:18:34] &lt;pieterh&gt;        I&#8217;m not a fan</div>
<div class="line">[Wednesday 23 March 2011] [09:18:53] &lt;pieterh&gt;        there is a lot missing in REQ</div>
<div class="line">[Wednesday 23 March 2011] [09:19:02] &lt;Guthur&gt; I&#8217;m confused why REQ/REP keeps getting drawn into it, that socket type does a job and works well, the issue is people also want a socket that provides less restrictive send/recv and control over message routing</div>
<div class="line">[Wednesday 23 March 2011] [09:19:05] &lt;sustrik&gt;        i am just a human being, i cannot finish everything at once</div>
<div class="line">[Wednesday 23 March 2011] [09:19:08] &lt;Guthur&gt; or am I missing something</div>
<div class="line">[Wednesday 23 March 2011] [09:19:20] &lt;pieterh&gt;        sustrik: then don&#8217;t threaten change no-one is asking for...</div>
<div class="line">[Wednesday 23 March 2011] [09:19:45] &lt;pieterh&gt;        if you didn&#8217;t want people to use router/dealer you had to make req/rep actually work in real code</div>
<div class="line">[Wednesday 23 March 2011] [09:20:00] &lt;pieterh&gt;        since they don&#8217;t, people have had no choice except to learn and use router/dealer</div>
<div class="line">[Wednesday 23 March 2011] [09:20:04] &lt;sustrik&gt;        ack</div>
<div class="line">[Wednesday 23 March 2011] [09:20:09] &lt;pieterh&gt;        that is now the state of the art</div>
<div class="line">[Wednesday 23 March 2011] [09:20:34] &lt;pieterh&gt;        I&#8217;d much prefer not having four socket types to learn</div>
<div class="line">[Wednesday 23 March 2011] [09:20:40] &lt;pieterh&gt;        but this is where we are today</div>
<div class="line">[Wednesday 23 March 2011] [09:20:53] &lt;pieterh&gt;        it works, it&#8217;s usable, it&#8217;s actually elegant enough to defend</div>
<div class="line">[Wednesday 23 March 2011] [09:20:54] &lt;sustrik&gt;        the problem is that aside of legitimate uses of xreq/xrep such as building relianility</div>
<div class="line">[Wednesday 23 March 2011] [09:21:01] &lt;sustrik&gt;        people use it in a following way</div>
<div class="line">[Wednesday 23 March 2011] [09:21:07] &lt;sustrik&gt;        i have a XREP socket</div>
<div class="line">[Wednesday 23 March 2011] [09:21:13] &lt;sustrik&gt;        i connect three apps to it</div>
<div class="line">[Wednesday 23 March 2011] [09:21:19] &lt;pieterh&gt;        I don&#8217;t think you actually know how people use it</div>
<div class="line">[Wednesday 23 March 2011] [09:21:24] &lt;sustrik&gt;        i set an identity to each app, say A, B and C</div>
<div class="line">[Wednesday 23 March 2011] [09:21:36] &lt;pieterh&gt;        the terminology  &#8220;legitimate&#8221; is like an artist</div>
<div class="line">[Wednesday 23 March 2011] [09:21:42] &lt;sustrik&gt;        when i want to send message to A, i pushlish A+payload</div>
<div class="line">[Wednesday 23 March 2011] [09:21:46] &lt;pieterh&gt;        there is no illegitimate use, only bad design</div>
<div class="line">[Wednesday 23 March 2011] [09:21:53] &lt;sustrik&gt;        well, it doesn&#8217;t scale</div>
<div class="line">[Wednesday 23 March 2011] [09:22:00] &lt;pieterh&gt;        repeat after me, when users misuse a product, it&#8217;s the designer&#8217;s fault</div>
<div class="line">[Wednesday 23 March 2011] [09:22:02] &lt;pieterh&gt;        always</div>
<div class="line">[Wednesday 23 March 2011] [09:22:09] &lt;sustrik&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [09:22:11] &lt;pieterh&gt;        this is a key tenet of good design</div>
<div class="line">[Wednesday 23 March 2011] [09:22:12] &lt;sustrik&gt;        mea culpa</div>
<div class="line">[Wednesday 23 March 2011] [09:22:26] &lt;sustrik&gt;        i should have left xreq/xrep undocumented</div>
<div class="line">[Wednesday 23 March 2011] [09:22:29] &lt;sustrik&gt;        too late now</div>
<div class="line">[Wednesday 23 March 2011] [09:22:38] &lt;pieterh&gt;        that was not an option, you know it... sigh</div>
<div class="line">[Wednesday 23 March 2011] [09:22:50] &lt;pieterh&gt;        let me explain a simple router use case I am making right now</div>
<div class="line">[Wednesday 23 March 2011] [09:23:09] &lt;Guthur&gt; sustrik: is that routing to specific clients bad in your eyes?</div>
<div class="line">[Wednesday 23 March 2011] [09:23:31] &lt;sustrik&gt;        pieterh: sure</div>
<div class="line">[Wednesday 23 March 2011] [09:23:45] &lt;sustrik&gt;        Gurthur: yes, because it&#8217;s not scalable</div>
<div class="line">[Wednesday 23 March 2011] [09:23:49] &lt;pieterh&gt;        so in fact setting identities is a Bad Thing with some very few exceptions</div>
<div class="line">[Wednesday 23 March 2011] [09:23:57] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [09:24:09] &lt;sustrik&gt;        i should not have introduced them at all</div>
<div class="line">[Wednesday 23 March 2011] [09:24:17] &lt;pieterh&gt;        there are some necessary use cases</div>
<div class="line">[Wednesday 23 March 2011] [09:24:25] &lt;pieterh&gt;        I&#8217;ve found two, actually</div>
<div class="line">[Wednesday 23 March 2011] [09:24:34] &lt;sustrik&gt;        well, they give an impression of &#8220;reliability&#8221; in AMQP sense</div>
<div class="line">[Wednesday 23 March 2011] [09:24:39] &lt;Guthur&gt; sustrik: but surely it&#8217;s essential in some cases unless you use some different layer to expose to clients</div>
<div class="line">[Wednesday 23 March 2011] [09:24:39] &lt;pieterh&gt;        persistent subscribers, and ... hehe... router-to-router routing</div>
<div class="line">[Wednesday 23 March 2011] [09:24:46] &lt;sustrik&gt;        whereas, in reality, 0mq is more like TCP</div>
<div class="line">[Wednesday 23 March 2011] [09:24:53] &lt;sustrik&gt;        transient in nature</div>
<div class="line">[Wednesday 23 March 2011] [09:25:03] &lt;pieterh&gt;        indeed, reliable network buffers is just weird</div>
<div class="line">[Wednesday 23 March 2011] [09:25:04] &lt;sustrik&gt;        the mix of the two is pretty awkward</div>
<div class="line">[Wednesday 23 March 2011] [09:25:06] &lt;pieterh&gt;        I agree</div>
<div class="line">[Wednesday 23 March 2011] [09:25:16] &lt;pieterh&gt;        I&#8217;d vote to kill explicit identities</div>
<div class="line">[Wednesday 23 March 2011] [09:25:25] &lt;pieterh&gt;        except that one use case absolutely needs them, and it&#8217;s safe</div>
<div class="line">[Wednesday 23 March 2011] [09:25:33] &lt;pieterh&gt;        distributed name service, see Ch4</div>
<div class="line">[Wednesday 23 March 2011] [09:25:40] &lt;pieterh&gt;        but this is divergence</div>
<div class="line">[Wednesday 23 March 2011] [09:25:51] &lt;sustrik&gt;        that would be nice</div>
<div class="line">[Wednesday 23 March 2011] [09:26:00] &lt;pieterh&gt;        my current use case is using a thread to isolate an object, the context wrapper in zapi</div>
<div class="line">[Wednesday 23 March 2011] [09:26:00] &lt;sustrik&gt;        the code for identities is a nightmare</div>
<div class="line">[Wednesday 23 March 2011] [09:26:13] &lt;sustrik&gt;        a pile of special cases basically :(</div>
<div class="line">[Wednesday 23 March 2011] [09:26:26] &lt;pieterh&gt;        yes, we can IMO aim to remove that functionality</div>
<div class="line">[Wednesday 23 March 2011] [09:26:35] &lt;pieterh&gt;        especially if we provide layers on top that do the same only better</div>
<div class="line">[Wednesday 23 March 2011] [09:26:42] &lt;pieterh&gt;        e.g. Clone pattern for reliable pub/sub</div>
<div class="line">[Wednesday 23 March 2011] [09:26:53] &lt;pieterh&gt;        which I&#8217;ve made, and which is really easy finally</div>
<div class="line">[Wednesday 23 March 2011] [09:27:05] &lt;pieterh&gt;        so I have threads that send commands to this object thread</div>
<div class="line">[Wednesday 23 March 2011] [09:27:10] &lt;pieterh&gt;        it&#8217;s what you do in 0MQ core, right</div>
<div class="line">[Wednesday 23 March 2011] [09:27:16] &lt;pieterh&gt;        now commands are async</div>
<div class="line">[Wednesday 23 March 2011] [09:27:21] &lt;pieterh&gt;        only one or two have replies</div>
<div class="line">[Wednesday 23 March 2011] [09:27:33] &lt;pieterh&gt;        if I use req/rep, I have to artificially send a reply to each request</div>
<div class="line">[Wednesday 23 March 2011] [09:27:37] &lt;pieterh&gt;        I did that</div>
<div class="line">[Wednesday 23 March 2011] [09:27:40] &lt;pieterh&gt;        it&#8217;s horrid</div>
<div class="line">[Wednesday 23 March 2011] [09:27:59] &lt;pieterh&gt;        using dealer/router I can do it right, reply only when needed</div>
<div class="line">[Wednesday 23 March 2011] [09:28:42] &lt;sustrik&gt;        yes, sure there are use cases for it</div>
<div class="line">[Wednesday 23 March 2011] [09:28:44] &lt;pieterh&gt;        the reply address has to be delivered to my code because the reply can happen later</div>
<div class="line">[Wednesday 23 March 2011] [09:28:52] &lt;pieterh&gt;        it can&#8217;t be &#8216;reply to previous request&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [09:29:04] &lt;sustrik&gt;        the main question imo is what 0mq should provide</div>
<div class="line">[Wednesday 23 March 2011] [09:29:09] &lt;pieterh&gt;        just this</div>
<div class="line">[Wednesday 23 March 2011] [09:29:10] &lt;sustrik&gt;        there are two mindsets:</div>
<div class="line">[Wednesday 23 March 2011] [09:29:14] &lt;pieterh&gt;        what it provides <em>works</em></div>
<div class="line">[Wednesday 23 March 2011] [09:29:18] &lt;sustrik&gt;        1. generic networking</div>
<div class="line">[Wednesday 23 March 2011] [09:29:28] &lt;sustrik&gt;        such as ACE, Asio etc.</div>
<div class="line">[Wednesday 23 March 2011] [09:29:31] &lt;sustrik&gt;        2. scalability</div>
<div class="line">[Wednesday 23 March 2011] [09:29:37] &lt;pieterh&gt;        both, obviously</div>
<div class="line">[Wednesday 23 March 2011] [09:29:43] &lt;pieterh&gt;        that&#8217;s a false dichotomy</div>
<div class="line">[Wednesday 23 March 2011] [09:29:53] &lt;sustrik&gt;        well, the second means restricting unscalable behaviour</div>
<div class="line">[Wednesday 23 March 2011] [09:29:54] &lt;pieterh&gt;        I want scalable generic networking</div>
<div class="line">[Wednesday 23 March 2011] [09:29:59] &lt;sustrik&gt;        no way</div>
<div class="line">[Wednesday 23 March 2011] [09:30:03] &lt;pieterh&gt;        yes, way :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:30:05] &lt;Guthur&gt; hehe, I think that&#8217;s the issue, we all like making connections with 0MQ we want to use it everwhere</div>
<div class="line">[Wednesday 23 March 2011] [09:30:16] &lt;pieterh&gt;        the trick is generic networking at multiple scales</div>
<div class="line">[Wednesday 23 March 2011] [09:30:24] &lt;sustrik&gt;        it does not</div>
<div class="line">[Wednesday 23 March 2011] [09:30:28] &lt;pieterh&gt;        i.e. same semantic for inproc as for clusters</div>
<div class="line">[Wednesday 23 March 2011] [09:30:31] &lt;pieterh&gt;        yes, it does</div>
<div class="line">[Wednesday 23 March 2011] [09:30:32] &lt;sustrik&gt;        see the A, B, C example</div>
<div class="line">[Wednesday 23 March 2011] [09:30:35] &lt;sustrik&gt;        it does not scale</div>
<div class="line">[Wednesday 23 March 2011] [09:30:43] &lt;sustrik&gt;        if there&#8217;s a lot of clients</div>
<div class="line">[Wednesday 23 March 2011] [09:30:45] &lt;pieterh&gt;        ah, I see what you mean</div>
<div class="line">[Wednesday 23 March 2011] [09:30:52] &lt;pieterh&gt;        look, you have this kind of backwards IMO</div>
<div class="line">[Wednesday 23 March 2011] [09:30:56] &lt;sustrik&gt;        you cannot simply interject a device to scale it up</div>
<div class="line">[Wednesday 23 March 2011] [09:31:02] &lt;pieterh&gt;        allow me to explain</div>
<div class="line">[Wednesday 23 March 2011] [09:31:03] &lt;sustrik&gt;        it&#8217;s fixed 1-hop architecture</div>
<div class="line">[Wednesday 23 March 2011] [09:31:11] &lt;pieterh&gt;        hang on :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:31:26] &lt;pieterh&gt;        speaking as a 0MQ user, who knows about scale,...</div>
<div class="line">[Wednesday 23 March 2011] [09:31:47] &lt;pieterh&gt;        I don&#8217;t really expect, or need, my architectures to scale without some redesign</div>
<div class="line">[Wednesday 23 March 2011] [09:31:55] &lt;pieterh&gt;        however I want that redesign to be cheap</div>
<div class="line">[Wednesday 23 March 2011] [09:32:10] &lt;pieterh&gt;        and I really, really want one set of semantics at all scales</div>
<div class="line">[Wednesday 23 March 2011] [09:32:29] &lt;pieterh&gt;        e.g. I know that multicast is not just click-click</div>
<div class="line">[Wednesday 23 March 2011] [09:32:33] &lt;pieterh&gt;        it&#8217;s a <em>lot</em> of extra work</div>
<div class="line">[Wednesday 23 March 2011] [09:32:42] &lt;pieterh&gt;        but my code will basically not change (too much)</div>
<div class="line">[Wednesday 23 March 2011] [09:32:56] &lt;pieterh&gt;        this is the key to 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [09:33:12] &lt;pieterh&gt;        it&#8217;s not that apps magically scale just by adding devices  and IMO it&#8217;s not helpful to aim for that</div>
<div class="line">[Wednesday 23 March 2011] [09:33:27] &lt;pieterh&gt;        it&#8217;s that you can re-architect code really easily to make it fit arbitrary scales</div>
<div class="line">[Wednesday 23 March 2011] [09:33:34] &lt;sustrik&gt;        well, i am aiming for that</div>
<div class="line">[Wednesday 23 March 2011] [09:33:36] &lt;pieterh&gt;        I can give a real example from Ch4</div>
<div class="line">[Wednesday 23 March 2011] [09:33:41] &lt;pieterh&gt;        where this works beautifully</div>
<div class="line">[Wednesday 23 March 2011] [09:33:51] &lt;pieterh&gt;        I make a whole reliability design, based on a broker, right?</div>
<div class="line">[Wednesday 23 March 2011] [09:34:05] &lt;sustrik&gt;        broker is inherently inscalable</div>
<div class="line">[Wednesday 23 March 2011] [09:34:11] &lt;pieterh&gt;        then at the end, like a magic trick, I move the broker into the client and it disappears</div>
<div class="line">[Wednesday 23 March 2011] [09:34:13] &lt;sustrik&gt;        when you want to add another broker</div>
<div class="line">[Wednesday 23 March 2011] [09:34:21] &lt;sustrik&gt;        you run into AMQP-style problems</div>
<div class="line">[Wednesday 23 March 2011] [09:34:23] &lt;pieterh&gt;        and I get full scalability across an N-to-N network of clients and workers</div>
<div class="line">[Wednesday 23 March 2011] [09:34:32] &lt;pieterh&gt;        this is what works</div>
<div class="line">[Wednesday 23 March 2011] [09:34:47] &lt;sustrik&gt;        ah, so it&#8217;s the device interhjection pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:34:48] &lt;pieterh&gt;        federating brokers is just how banks waste money :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:34:58] &lt;pieterh&gt;        it&#8217;s the &#8220;rescale my code&#8221; pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:34:58] &lt;sustrik&gt;        yes, that the only viable way to scale imo</div>
<div class="line">[Wednesday 23 March 2011] [09:35:08] &lt;sustrik&gt;        adding hops</div>
<div class="line">[Wednesday 23 March 2011] [09:35:14] &lt;sustrik&gt;        without changing semantics</div>
<div class="line">[Wednesday 23 March 2011] [09:35:15] &lt;pieterh&gt;        this is why these socket types cannot be hidden</div>
<div class="line">[Wednesday 23 March 2011] [09:35:31] &lt;sustrik&gt;        yes, there&#8217;s good reason to keep them visible</div>
<div class="line">[Wednesday 23 March 2011] [09:35:40] &lt;sustrik&gt;        however, they can be used only in certain ways</div>
<div class="line">[Wednesday 23 March 2011] [09:35:46] &lt;pieterh&gt;        this is true</div>
<div class="line">[Wednesday 23 March 2011] [09:35:47] &lt;sustrik&gt;        to keep the overall design scalable</div>
<div class="line">[Wednesday 23 March 2011] [09:35:52] &lt;pieterh&gt;        it&#8217;s about education</div>
<div class="line">[Wednesday 23 March 2011] [09:35:54] &lt;sustrik&gt;        well, that&#8217;s my point</div>
<div class="line">[Wednesday 23 March 2011] [09:35:58] &lt;pieterh&gt;        i.e. please drive on the right</div>
<div class="line">[Wednesday 23 March 2011] [09:36:41] &lt;pieterh&gt;        however it is justifiable to build unscalable designs</div>
<div class="line">[Wednesday 23 March 2011] [09:36:50] &lt;pieterh&gt;        because it&#8217;s easy to refactor them as needed</div>
<div class="line">[Wednesday 23 March 2011] [09:37:00] &lt;pieterh&gt;        e.g. starting with a broker is just much simpler, conceptually</div>
<div class="line">[Wednesday 23 March 2011] [09:37:39] &lt;pieterh&gt;        to be honest, I think 0MQ is already magically good at this</div>
<div class="line">[Wednesday 23 March 2011] [09:38:06] &lt;sustrik&gt;        yeah, i haven&#8217;t expected it to be this universal</div>
<div class="line">[Wednesday 23 March 2011] [09:38:17] &lt;sustrik&gt;        back in 2007</div>
<div class="line">[Wednesday 23 March 2011] [09:38:45] &lt;sustrik&gt;        back to serious stuff!</div>
<div class="line">[Wednesday 23 March 2011] [09:38:45] &lt;pieterh&gt;        yeah, it was not really the initial vision :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:38:50]   * sustrik goes accounting</div>
<div class="line">[Wednesday 23 March 2011] [09:38:50] &lt;pieterh&gt;        accounting! code!</div>
<div class="line">[Wednesday 23 March 2011] [09:41:49] &lt;pieterh&gt;        mikko&#8211;: ping</div>
<div class="line">[Wednesday 23 March 2011] [09:42:13] &lt;pieterh&gt;        if you clone <a class="reference external" href="https://github.com/zeromq/zeromq2-1">https://github.com/zeromq/zeromq2-1</a> and then try to build with openpgm, you get an error</div>
<div class="line">[Wednesday 23 March 2011] [09:42:24] &lt;pieterh&gt;        config.status: error: cannot find input file: <a href="#id33"><span class="problematic" id="id34">`</span></a>Makefile.in&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [09:51:14] &lt;pieterh&gt;        mikko&#8211;: np, solved it I think</div>
<div class="line">[Wednesday 23 March 2011] [09:53:17] &lt;<a href="#id916"><span class="problematic" id="id917">Steve-o_</span></a>&gt;       :P</div>
<div class="line">[Wednesday 23 March 2011] [09:53:49] &lt;<a href="#id918"><span class="problematic" id="id919">Steve-o_</span></a>&gt;       That error occurs when using a openpgm svn snapshot without bootstrap</div>
<div class="line">[Wednesday 23 March 2011] [09:54:34] &lt;<a href="#id920"><span class="problematic" id="id921">Steve-o_</span></a>&gt;       for 114 and 115 I now bootstrap Autoconf</div>
<div class="line">[Wednesday 23 March 2011] [09:55:20] &lt;<a href="#id922"><span class="problematic" id="id923">Steve-o_</span></a>&gt;       only annoying bit is autogen.sh not creating the pgm staging directory</div>
<div class="line">[Wednesday 23 March 2011] [09:55:24] &lt;pieterh&gt;        <a href="#id924"><span class="problematic" id="id925">Steve-o_</span></a>: weird thing is the missing file is zeromq&#8217;s root file, not in openpgm</div>
<div class="line">[Wednesday 23 March 2011] [09:55:40] &lt;pieterh&gt;        though the message may be inaccurate</div>
<div class="line">[Wednesday 23 March 2011] [09:56:37] &lt;<a href="#id926"><span class="problematic" id="id927">Steve-o_</span></a>&gt;       more importantly you didn&#8217;t read Bob&#8217;s response, it&#8217;s already working for him</div>
<div class="line">[Wednesday 23 March 2011] [09:56:46] &lt;pieterh&gt;        orly?</div>
<div class="line">[Wednesday 23 March 2011] [09:56:51] &lt;<a href="#id928"><span class="problematic" id="id929">Steve-o_</span></a>&gt;       your last two mails are out of date</div>
<div class="line">[Wednesday 23 March 2011] [09:56:52] &lt;<a href="#id930"><span class="problematic" id="id931">Steve-o_</span></a>&gt;       :P</div>
<div class="line">[Wednesday 23 March 2011] [09:56:53]   * pieterh needs to read more and write less</div>
<div class="line">[Wednesday 23 March 2011] [09:57:34] &lt;pieterh&gt;        nope, his last email (that I have) says, &#8220;Can you verify that it configures properly and it&#8217;s me and not the tarball?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:57:52] &lt;<a href="#id932"><span class="problematic" id="id933">Steve-o_</span></a>&gt;       lol, ok two to me :D</div>
<div class="line">[Wednesday 23 March 2011] [09:57:55] &lt;pieterh&gt;        maybe he replied to you offlist</div>
<div class="line">[Wednesday 23 March 2011] [09:57:56] &lt;Guthur&gt; pieterh: we drive on the left</div>
<div class="line">[Wednesday 23 March 2011] [09:59:17] &lt;<a href="#id934"><span class="problematic" id="id935">Steve-o_</span></a>&gt;       I reproduced the error here:  <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/010041.html">http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/010041.html</a></div>
<div class="line">[Wednesday 23 March 2011] [10:01:34] &lt;pieterh&gt;        Guthur: thanks?</div>
<div class="line">[Wednesday 23 March 2011] [10:08:43] &lt;cremes&gt; i&#8217;d like to ask a question about 3.0; any chance the project will get a major refactoring</div>
<div class="line">[Wednesday 23 March 2011] [10:08:52] &lt;cremes&gt; and reorg so that the internal classes can be fully tested?</div>
<div class="line">[Wednesday 23 March 2011] [10:09:09] &lt;cremes&gt; right now the only testing we can do is &#8216;black box&#8217; style where we give it some input and hope</div>
<div class="line">[Wednesday 23 March 2011] [10:09:19] &lt;cremes&gt; that all the plumbing works well enough to get an answer on the other side</div>
<div class="line">[Wednesday 23 March 2011] [10:09:27] &lt;Guthur&gt; cremes: there was a discussion earlier about something related</div>
<div class="line">[Wednesday 23 March 2011] [10:09:40] &lt;Guthur&gt; more to ease the understanding of 0MQ core</div>
<div class="line">[Wednesday 23 March 2011] [10:09:57] &lt;cremes&gt; Guthur: what was the outcome of the discussion? or is it still ongoing?</div>
<div class="line">[Wednesday 23 March 2011] [10:10:12] &lt;Guthur&gt; &#8216;yeah that would be nice&#8217; hehe</div>
<div class="line">[Wednesday 23 March 2011] [10:10:31] &lt;sustrik&gt;        cremes: can be done, but it requires a significant effor writing unit tests</div>
<div class="line">[Wednesday 23 March 2011] [10:10:53] &lt;sustrik&gt;        exactly, &#8216;yeah that would be nice&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [10:11:08] &lt;sustrik&gt;        if you want to help with that we can give it a try</div>
<div class="line">[Wednesday 23 March 2011] [10:12:41] &lt;pieterh&gt;        cremes: what about writing unit tests on top, not in core?</div>
<div class="line">[Wednesday 23 March 2011] [10:12:53] &lt;pieterh&gt;        any refactoring of core is going to be expensive</div>
<div class="line">[Wednesday 23 March 2011] [10:13:55] &lt;pieterh&gt;        I know it&#8217;s not the same...</div>
<div class="line">[Wednesday 23 March 2011] [10:14:11] &lt;pieterh&gt;        I&#8217;m using systematic unit tests in zapi and it&#8217;s a really nice way of working</div>
<div class="line">[Wednesday 23 March 2011] [10:20:32] &lt;mikko&#8211;&gt;        <a href="#id936"><span class="problematic" id="id937">Steve-o_</span></a>: thats my fault</div>
<div class="line">[Wednesday 23 March 2011] [10:20:39] &lt;mikko&#8211;&gt;        i got a patch soon(ish) for it</div>
<div class="line">[Wednesday 23 March 2011] [10:22:03] &lt;mikko&#8211;&gt;        mkoppanen/zeromq2-1 has a branch fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [10:22:12] &lt;mikko&#8211;&gt;        can you test that?</div>
<div class="line">[Wednesday 23 March 2011] [10:23:44] &lt;<a href="#id938"><span class="problematic" id="id939">Steve-o_</span></a>&gt;       k</div>
<div class="line">[Wednesday 23 March 2011] [10:25:14] &lt;Guthur&gt; pieterh: imo retrospectively adding adequate unit test coverage is usually difficult or next to impossible</div>
<div class="line">[Wednesday 23 March 2011] [10:25:47] &lt;Guthur&gt; the code really needs to be design with it in mind from the beginning</div>
<div class="line">[Wednesday 23 March 2011] [10:25:50] &lt;pieterh&gt;        Guthur: I believe you&#8217;re right, and it&#8217;s not going to be possible to refactor core to make this happen</div>
<div class="line">[Wednesday 23 March 2011] [10:26:02] &lt;pieterh&gt;        not without major, major effort, i.e. manyears of work</div>
<div class="line">[Wednesday 23 March 2011] [10:26:51] &lt;pieterh&gt;        so what we need is a separate tests project IMO</div>
<div class="line">[Wednesday 23 March 2011] [10:27:09] &lt;pieterh&gt;        where anyone can bung a test case</div>
<div class="line">[Wednesday 23 March 2011] [10:27:20] &lt;pieterh&gt;        and which we can use when doing daily builds</div>
<div class="line">[Wednesday 23 March 2011] [10:28:24] &lt;<a href="#id940"><span class="problematic" id="id941">Steve-o_</span></a>&gt;       mikko&#8211;: looks fine, just finishing the build</div>
<div class="line">[Wednesday 23 March 2011] [10:29:22] &lt;<a href="#id942"><span class="problematic" id="id943">Steve-o_</span></a>&gt;       well zeromq should go for two test beds, an external one sitting above the apis and one living next to the code testing each class</div>
<div class="line">[Wednesday 23 March 2011] [10:30:20] &lt;pieterh&gt;        <a href="#id944"><span class="problematic" id="id945">Steve-o_</span></a>: indeed, but the second case is probably impossible to make</div>
<div class="line">[Wednesday 23 March 2011] [10:30:35] &lt;pieterh&gt;        and right now the external one is part of core, which is a problem IMO</div>
<div class="line">[Wednesday 23 March 2011] [10:30:47] &lt;<a href="#id946"><span class="problematic" id="id947">Steve-o_</span></a>&gt;       depends, have you looked at Chromium unit tests?  They&#8217;re pretty fruity</div>
<div class="line">[Wednesday 23 March 2011] [10:31:12] &lt;<a href="#id948"><span class="problematic" id="id949">Steve-o_</span></a>&gt;       mine too for OpenPGM can only go so far</div>
<div class="line">[Wednesday 23 March 2011] [10:31:59] &lt;<a href="#id950"><span class="problematic" id="id951">Steve-o_</span></a>&gt;       mikko&#8211;: all done, no problems encountered.</div>
<div class="line">[Wednesday 23 March 2011] [10:32:08] &lt;mikko&#8211;&gt;        make dist works as well?</div>
<div class="line">[Wednesday 23 March 2011] [10:32:52] &lt;<a href="#id952"><span class="problematic" id="id953">Steve-o_</span></a>&gt;       yup</div>
<div class="line">[Wednesday 23 March 2011] [10:33:01] &lt;mikko&#8211;&gt;        if anyone has boxes that can execute network tests they can be plugged into the central jenkins cluster</div>
<div class="line">[Wednesday 23 March 2011] [10:33:45] &lt;<a href="#id954"><span class="problematic" id="id955">Steve-o_</span></a>&gt;       I&#8217;m thinking of investigating upgrading my network testing to use Python and zeromq</div>
<div class="line">[Wednesday 23 March 2011] [10:34:07] &lt;<a href="#id956"><span class="problematic" id="id957">Steve-o_</span></a>&gt;       the bit issue with network testing is stopping and cleaning up when things go wrong</div>
<div class="line">[Wednesday 23 March 2011] [10:34:32] &lt;<a href="#id958"><span class="problematic" id="id959">Steve-o_</span></a>&gt;       s/bit/big/</div>
<div class="line">[Wednesday 23 March 2011] [10:34:41] &lt;mikko&#8211;&gt;        you mean going with too high rates?</div>
<div class="line">[Wednesday 23 March 2011] [10:35:04] &lt;<a href="#id960"><span class="problematic" id="id961">Steve-o_</span></a>&gt;       usually dead locks</div>
<div class="line">[Wednesday 23 March 2011] [10:35:21] &lt;<a href="#id962"><span class="problematic" id="id963">Steve-o_</span></a>&gt;       I have a few years ago suffered quite funny network problems</div>
<div class="line">[Wednesday 23 March 2011] [10:35:34] &lt;<a href="#id964"><span class="problematic" id="id965">Steve-o_</span></a>&gt;       i.e. too high data rate, literally millions of packets per second</div>
<div class="line">[Wednesday 23 March 2011] [10:35:43] &lt;<a href="#id966"><span class="problematic" id="id967">Steve-o_</span></a>&gt;       turned the switch into a hub and floored the entire network</div>
<div class="line">[Wednesday 23 March 2011] [10:35:49] &lt;pieterh&gt;        mikko&#8211;: did you see drbobbeaty&#8217;s offer of OpenPGM testing space?</div>
<div class="line">[Wednesday 23 March 2011] [10:35:50] &lt;<a href="#id968"><span class="problematic" id="id969">Steve-o_</span></a>&gt;       fcuk.</div>
<div class="line">[Wednesday 23 March 2011] [10:36:58] &lt;drbobbeaty&gt;     pieterh: it&#8217;s actually an offer of financial support - for ZMQ to have it&#8217;s own OpenPGM testing space so we don&#8217;t have these same kinds of issues in the future.</div>
<div class="line">[Wednesday 23 March 2011] [10:37:38] &lt;pieterh&gt;        drbobbeaty: please meet Mikko, who is starting his own ZMQ support company</div>
<div class="line">[Wednesday 23 March 2011] [10:37:39] &lt;drbobbeaty&gt;     pieterh: it could be machines, if that&#8217;s all that&#8217;s needed, but my original intention was to help fund an expansion to the testing facilities.</div>
<div class="line">[Wednesday 23 March 2011] [10:38:22] &lt;pieterh&gt;        It would be excellent if your organization would fund an expansion of the testing facilities via mikko&#8211;</div>
<div class="line">[Wednesday 23 March 2011] [10:38:41] &lt;drbobbeaty&gt;     mikko-: OK, if you&#8217;re the guy, great. I think we want the same thing - a tested tarball for users. I&#8217;m just ready to see what it&#8217;ll take and try to swing that through the company I work for.</div>
<div class="line">[Wednesday 23 March 2011] [10:39:35] &lt;<a href="#id970"><span class="problematic" id="id971">Steve-o_</span></a>&gt;       I might be able to move some of my hardware in the future</div>
<div class="line">[Wednesday 23 March 2011] [10:39:43] &lt;Guthur&gt; I don&#8217;t mind offering some capacity on my VPS if that is what is being talked about</div>
<div class="line">[Wednesday 23 March 2011] [10:39:59] &lt;pieterh&gt;        I think what we&#8217;re talking about is two things,</div>
<div class="line">[Wednesday 23 March 2011] [10:40:17] &lt;pieterh&gt;        a. buying or finding some PGM-capable switches</div>
<div class="line">[Wednesday 23 March 2011] [10:40:22] &lt;<a href="#id972"><span class="problematic" id="id973">Steve-o_</span></a>&gt;       I have a ibm blade chassis and a ultra sparc which need new homes when I move to NY</div>
<div class="line">[Wednesday 23 March 2011] [10:40:51] &lt;pieterh&gt;        b. setting up and managing a test process</div>
<div class="line">[Wednesday 23 March 2011] [10:41:47] &lt;pieterh&gt;        drbobbeaty: I think funding would have to cover time as well as materials</div>
<div class="line">[Wednesday 23 March 2011] [10:42:05] &lt;pieterh&gt;        it would not be huge amounts, but mikko&#8211; is a professional</div>
<div class="line">[Wednesday 23 March 2011] [10:42:34] &lt;pieterh&gt;        his firm is at <a class="reference external" href="http://kuut.io/">http://kuut.io/</a></div>
<div class="line">[Wednesday 23 March 2011] [10:42:36] &lt;drbobbeaty&gt;     pieterh: I&#8217;m not against that. I benefit from ZMQ, and me not having to spend a day debugging a new release is worth real $$ to my employer.</div>
<div class="line">[Wednesday 23 March 2011] [10:42:40] &lt;pieterh&gt;        indeed</div>
<div class="line">[Wednesday 23 March 2011] [10:42:43] &lt;pieterh&gt;        it&#8217;s win-win-win</div>
<div class="line">[Wednesday 23 March 2011] [10:43:40] &lt;pieterh&gt;        I suggest you can discuss with Mikko privately, I&#8217;m available if you need me, but this does not need to involve iMatix</div>
<div class="line">[Wednesday 23 March 2011] [10:44:20] &lt;drbobbeaty&gt;     pieterh: you and mikko chat - I really don&#8217;t care who does it, who owns it, etc. When you were here on your talk, you talked about support contracts. We&#8217;re not against that - towards getting the testing as part of this.</div>
<div class="line">[Wednesday 23 March 2011] [10:44:58] &lt;drbobbeaty&gt;     I&#8217;d just like someone that&#8217;s going to stay in the project for a long time be the one we fund because I&#8217;d hate to be in this situation in 6 months.</div>
<div class="line">[Wednesday 23 March 2011] [10:45:07] &lt;pieterh&gt;        ok, so there are two ways to approach this</div>
<div class="line">[Wednesday 23 March 2011] [10:45:52] &lt;drbobbeaty&gt;     like I said - I&#8217;m very easy on this. You know what I want... you let me know if there&#8217;s a way I can help get us all there.</div>
<div class="line">[Wednesday 23 March 2011] [10:45:56] &lt;pieterh&gt;        either, you fund work done by the community, which means working with Mikko, who is the owner of all that is testing</div>
<div class="line">[Wednesday 23 March 2011] [10:46:05] &lt;pieterh&gt;        or, you ask iMatix for a proper liong</div>
<div class="line">[Wednesday 23 March 2011] [10:46:25] &lt;pieterh&gt;        <a href="#id35"><span class="problematic" id="id36">*</span></a>long-term support contract, which we&#8217;re more than happy to do, and we take care of everything</div>
<div class="line">[Wednesday 23 March 2011] [10:48:03] &lt;sustrik&gt;        mikko: nice website</div>
<div class="line">[Wednesday 23 March 2011] [10:48:12] &lt;sustrik&gt;        the design, i mean</div>
<div class="line">[Wednesday 23 March 2011] [10:54:57] &lt;sustrik&gt;        pieterh: accepting a new functionality into stable without testing it on master of elsewhere is not a good idea imo</div>
<div class="line">[Wednesday 23 March 2011] [10:55:17] &lt;pieterh&gt;        sustrik: you mean openpgm?</div>
<div class="line">[Wednesday 23 March 2011] [10:55:27] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [10:55:32] &lt;sustrik&gt;        btw, it&#8217;s still not in master</div>
<div class="line">[Wednesday 23 March 2011] [10:55:33] &lt;sustrik&gt;        :(</div>
<div class="line">[Wednesday 23 March 2011] [10:55:37] &lt;pieterh&gt;        true, but basically it was broken before</div>
<div class="line">[Wednesday 23 March 2011] [10:56:03] &lt;sustrik&gt;        well, it worked for drbobbeaty</div>
<div class="line">[Wednesday 23 March 2011] [10:56:05] &lt;pieterh&gt;        i&#8217;m not sure why it&#8217;s not yet in master... just waiting for a patch from mikko?</div>
<div class="line">[Wednesday 23 March 2011] [10:56:10] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [10:56:13] &lt;pieterh&gt;        ah, rc2 worked, yes</div>
<div class="line">[Wednesday 23 March 2011] [10:56:45] &lt;pieterh&gt;        it&#8217;s not easy to know &#8216;new functionality&#8217; vs &#8216;necessary patch&#8217; in foreign imports</div>
<div class="line">[Wednesday 23 March 2011] [10:57:01] &lt;pieterh&gt;        the solution is proper testing of daily builds off github</div>
<div class="line">[Wednesday 23 March 2011] [10:57:02] &lt;<a href="#id974"><span class="problematic" id="id975">Steve-o_</span></a>&gt;       you get both :D</div>
<div class="line">[Wednesday 23 March 2011] [10:57:20] &lt;cremes&gt; sorry about not responding to the unit test stuff an hour ago; we had a little outage here that i had to attend to</div>
<div class="line">[Wednesday 23 March 2011] [10:57:21] &lt;pieterh&gt;        mostly, I expect the release process to self-stabilize</div>
<div class="line">[Wednesday 23 March 2011] [10:57:28] &lt;pieterh&gt;        this is my experience</div>
<div class="line">[Wednesday 23 March 2011] [10:57:43] &lt;cremes&gt; so i agree that refactoring core would be many man-years of effort</div>
<div class="line">[Wednesday 23 March 2011] [10:58:05] &lt;cremes&gt; but i think the idea of having some unit tests that live &#8220;underneath&#8221; the public api and test internal classes</div>
<div class="line">[Wednesday 23 March 2011] [10:58:06] &lt;cremes&gt; is a good idea</div>
<div class="line">[Wednesday 23 March 2011] [10:58:22] &lt;cremes&gt; i am willing to write some code (i.e. put my money/time where my mouth is)</div>
<div class="line">[Wednesday 23 March 2011] [10:59:03] &lt;cremes&gt; i think that over a period of time as unit tests are written, we&#8217;ll find the pain points that require redesign/refactoring</div>
<div class="line">[Wednesday 23 March 2011] [10:59:05] &lt;sustrik&gt;        pieterh: pushing _anything_ untested into stable is no good</div>
<div class="line">[Wednesday 23 March 2011] [10:59:10] &lt;cremes&gt; of the internal classes and it can be done piece-meal</div>
<div class="line">[Wednesday 23 March 2011] [10:59:24] &lt;pieterh&gt;        sustrik: it&#8217;s only testable in master now because it&#8217;s the same codebase</div>
<div class="line">[Wednesday 23 March 2011] [10:59:32] &lt;sustrik&gt;        cremes: well, do you have an idea of a specific unit test you want to write</div>
<div class="line">[Wednesday 23 March 2011] [10:59:35] &lt;pieterh&gt;        as soon as there&#8217;s functional changes, that stops being possible</div>
<div class="line">[Wednesday 23 March 2011] [10:59:49] &lt;sustrik&gt;        then test it elsewhere</div>
<div class="line">[Wednesday 23 March 2011] [11:00:00] &lt;pieterh&gt;        this is not a problem, really</div>
<div class="line">[Wednesday 23 March 2011] [11:00:06] &lt;cremes&gt; sustrik: i do; i thought a good initial set of tests would be to exercise the yqueue class since it is</div>
<div class="line">[Wednesday 23 March 2011] [11:00:12] &lt;cremes&gt; so important to internal communications</div>
<div class="line">[Wednesday 23 March 2011] [11:00:23] &lt;sustrik&gt;        pieterh: it&#8217;s up to you, but unstable stable is a problem afaics</div>
<div class="line">[Wednesday 23 March 2011] [11:00:36] &lt;<a href="#id976"><span class="problematic" id="id977">Steve-o_</span></a>&gt;       cremes: I think you&#8217;re jumping into a different conversation</div>
<div class="line">[Wednesday 23 March 2011] [11:00:37] &lt;sustrik&gt;        cremes: sounds good</div>
<div class="line">[Wednesday 23 March 2011] [11:00:47] &lt;pieterh&gt;        sustrik: you are stressed because you want a perfect product, but that is not how it happens</div>
<div class="line">[Wednesday 23 March 2011] [11:01:06] &lt;sustrik&gt;        if you write one unit test we can have a look at how to incorporate it into the codebase</div>
<div class="line">[Wednesday 23 March 2011] [11:01:09] &lt;cremes&gt; <a href="#id978"><span class="problematic" id="id979">Steve-o_</span></a>: just answering a direct query from sustrik; but yeah, the channel has a few topics going simultaneously :)</div>
<div class="line">[Wednesday 23 March 2011] [11:01:27] &lt;pieterh&gt;        cremes: it sounds like a good plan</div>
<div class="line">[Wednesday 23 March 2011] [11:01:50] &lt;cremes&gt; i will endeavor to do a proof-of-concept this weekend so we can discuss on monday/tuesday</div>
<div class="line">[Wednesday 23 March 2011] [11:02:08] &lt;pieterh&gt;        sustrik: the other option, which I wanted to discuss, was to start a 2.2 release cycle</div>
<div class="line">[Wednesday 23 March 2011] [11:02:29] &lt;sustrik&gt;        what would that be?</div>
<div class="line">[Wednesday 23 March 2011] [11:02:44] &lt;pieterh&gt;        well, in strict principle, no new functionality in 2.1 at all...</div>
<div class="line">[Wednesday 23 March 2011] [11:02:55] &lt;pieterh&gt;        so 2.2 allows us to add new functionality without changing the api</div>
<div class="line">[Wednesday 23 March 2011] [11:03:22] &lt;sustrik&gt;        well, if you feel like maintaining 3 separate repos :)</div>
<div class="line">[Wednesday 23 March 2011] [11:03:32] &lt;<a href="#id980"><span class="problematic" id="id981">Steve-o_</span></a>&gt;       pieterh: re: &#8220;it&#8217;s not easy to know &#8216;new functionality&#8217; vs &#8216;necessary patch&#8217; in foreign imports&#8221;, new functionality would be a openpgm 6.x, I only push small changes down</div>
<div class="line">[Wednesday 23 March 2011] [11:03:36] &lt;pieterh&gt;        i&#8217;ve no problem with that, I maintain 20-30 repositories</div>
<div class="line">[Wednesday 23 March 2011] [11:03:56] &lt;sustrik&gt;        wait till you start doing real backports</div>
<div class="line">[Wednesday 23 March 2011] [11:03:58] &lt;sustrik&gt;        :)</div>
<div class="line">[Wednesday 23 March 2011] [11:04:15] &lt;pieterh&gt;        sustrik: somewhere along the line you missed the trick that as maintainer I don&#8217;t do ports at all</div>
<div class="line">[Wednesday 23 March 2011] [11:04:28] &lt;pieterh&gt;        look, let me give you an example...</div>
<div class="line">[Wednesday 23 March 2011] [11:04:37] &lt;pieterh&gt;        2.1 will be used in production for a very long time</div>
<div class="line">[Wednesday 23 March 2011] [11:04:57] &lt;pieterh&gt;        now say you want to deliver some new socket options to users</div>
<div class="line">[Wednesday 23 March 2011] [11:05:03] &lt;pieterh&gt;        nothing dangerous</div>
<div class="line">[Wednesday 23 March 2011] [11:05:18] &lt;pieterh&gt;        but if you only provide them via 3.0, it&#8217;ll be ages before you get proper feedback</div>
<div class="line">[Wednesday 23 March 2011] [11:05:33] &lt;pieterh&gt;        so you convince me, as maintainer, to release them in 2.2</div>
<div class="line">[Wednesday 23 March 2011] [11:05:36] &lt;pieterh&gt;        everyone wins</div>
<div class="line">[Wednesday 23 March 2011] [11:05:48] &lt;sustrik&gt;        if it&#8217;s fully backward compatible it can go into 2.1</div>
<div class="line">[Wednesday 23 March 2011] [11:05:51] &lt;pieterh&gt;        nope</div>
<div class="line">[Wednesday 23 March 2011] [11:05:53] &lt;pieterh&gt;        it cannot</div>
<div class="line">[Wednesday 23 March 2011] [11:06:00] &lt;sustrik&gt;        up to you</div>
<div class="line">[Wednesday 23 March 2011] [11:06:04]   * sustrik shuts up</div>
<div class="line">[Wednesday 23 March 2011] [11:06:20] &lt;<a href="#id982"><span class="problematic" id="id983">Steve-o_</span></a>&gt;       I thought the definition was new features = minor++, API breakage = major++?</div>
<div class="line">[Wednesday 23 March 2011] [11:06:20] &lt;pieterh&gt;        the point is that 2.1 is &#8220;stable&#8221; and thus does not get new functionality</div>
<div class="line">[Wednesday 23 March 2011] [11:06:31] &lt;pieterh&gt;        <a href="#id984"><span class="problematic" id="id985">Steve-o_</span></a>: exactluy</div>
<div class="line">[Wednesday 23 March 2011] [11:06:37] &lt;pieterh&gt;        new functionality = new minor release</div>
<div class="line">[Wednesday 23 March 2011] [11:06:37] &lt;Guthur&gt; pieterh: only a day or two ago you mentioned there would be no 2.2, iirc</div>
<div class="line">[Wednesday 23 March 2011] [11:06:45] &lt;pieterh&gt;        Guthur: I said, we had no plans</div>
<div class="line">[Wednesday 23 March 2011] [11:06:54] &lt;pieterh&gt;        plans change and develop</div>
<div class="line">[Wednesday 23 March 2011] [11:07:46] &lt;Guthur&gt; so if there was a 2.2 would that be 4 main repos of 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [11:07:55] &lt;Guthur&gt; your 3 and sustrik&#8217;s one</div>
<div class="line">[Wednesday 23 March 2011] [11:07:56] &lt;pieterh&gt;        Guthur: which is fine, seriously</div>
<div class="line">[Wednesday 23 March 2011] [11:08:02] &lt;pieterh&gt;        it is scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:08:23] &lt;pieterh&gt;        it&#8217;s perhaps unusual but it&#8217;s very simple, predictable, and scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:08:58] &lt;pieterh&gt;        plus there are dozens of 0MQ repos, in fact</div>
<div class="line">[Wednesday 23 March 2011] [11:09:10] &lt;pieterh&gt;        we have a distributed development process and the repos map that</div>
<div class="line">[Wednesday 23 March 2011] [11:09:18] &lt;pieterh&gt;        there is no &#8220;main&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:09:35] &lt;pieterh&gt;        there is only the rather more valuable repos maintained by El Sustrik</div>
<div class="line">[Wednesday 23 March 2011] [11:09:48] &lt;Guthur&gt; Sure. I&#8217;ll have to trust you on it to be honest</div>
<div class="line">[Wednesday 23 March 2011] [11:09:49] &lt;pieterh&gt;        and the cheap &amp; nasty imitations made by other folk</div>
<div class="line">[Wednesday 23 March 2011] [11:10:43] &lt;pieterh&gt;        sustrik: do you plan to develop 3.0 inside the zeromq2 repository?</div>
<div class="line">[Wednesday 23 March 2011] [11:11:07] &lt;sustrik&gt;        depends on how painful it is to rename it</div>
<div class="line">[Wednesday 23 March 2011] [11:11:18] &lt;sustrik&gt;        i assume people have links to the repo</div>
<div class="line">[Wednesday 23 March 2011] [11:11:21] &lt;pieterh&gt;        millions of internet links break</div>
<div class="line">[Wednesday 23 March 2011] [11:11:24] &lt;pieterh&gt;        there is no forwarding</div>
<div class="line">[Wednesday 23 March 2011] [11:11:26] &lt;sustrik&gt;        yeah</div>
<div class="line">[Wednesday 23 March 2011] [11:11:29] &lt;sustrik&gt;        :|</div>
<div class="line">[Wednesday 23 March 2011] [11:11:35] &lt;pieterh&gt;        however, everyone watching the old site still watches the new one</div>
<div class="line">[Wednesday 23 March 2011] [11:11:51] &lt;pieterh&gt;        so my idea was to rename it, and then make a new zeromq2 with a cover page</div>
<div class="line">[Wednesday 23 March 2011] [11:12:15] &lt;mikko&#8211;&gt;        pieterh: saw it</div>
<div class="line">[Wednesday 23 March 2011] [11:12:16] &lt;pieterh&gt;        i mentioned this already, you may recall</div>
<div class="line">[Wednesday 23 March 2011] [11:12:19] &lt;mikko&#8211;&gt;        havent had time to respond yet</div>
<div class="line">[Wednesday 23 March 2011] [11:12:30] &lt;pieterh&gt;        mikko&#8211;: ok</div>
<div class="line">[Wednesday 23 March 2011] [11:12:33] &lt;sustrik&gt;        dunno whather it&#8217;s worth of the trouble</div>
<div class="line">[Wednesday 23 March 2011] [11:12:42] &lt;sustrik&gt;        it&#8217;s just a name anyway</div>
<div class="line">[Wednesday 23 March 2011] [11:13:03] &lt;pieterh&gt;        sigh... you want to break an entire naming scheme just because &#8220;it&#8217;s just a name?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:13:52] &lt;pieterh&gt;        how on earth can we manage a family of repositories if the names don&#8217;t make sense?</div>
<div class="line">[Wednesday 23 March 2011] [11:14:21] &lt;sustrik&gt;        let&#8217;s find out what exactly would break</div>
<div class="line">[Wednesday 23 March 2011] [11:14:30] &lt;sustrik&gt;        obviosuly, existing web links</div>
<div class="line">[Wednesday 23 March 2011] [11:14:37] &lt;pieterh&gt;        like I said, that can be fixed</div>
<div class="line">[Wednesday 23 March 2011] [11:14:39] &lt;sustrik&gt;        mikko&#8217;s auto builds</div>
<div class="line">[Wednesday 23 March 2011] [11:14:44] &lt;pieterh&gt;        did you understand my proposal?</div>
<div class="line">[Wednesday 23 March 2011] [11:14:50] &lt;sustrik&gt;        rename</div>
<div class="line">[Wednesday 23 March 2011] [11:14:56] &lt;pieterh&gt;        and recreate</div>
<div class="line">[Wednesday 23 March 2011] [11:14:59] &lt;sustrik&gt;        no way</div>
<div class="line">[Wednesday 23 March 2011] [11:15:00] &lt;pieterh&gt;        rename and recreate</div>
<div class="line">[Wednesday 23 March 2011] [11:15:05] &lt;pieterh&gt;        yes, obviously</div>
<div class="line">[Wednesday 23 March 2011] [11:15:15] &lt;sustrik&gt;        that&#8217;s kicking out 350+ people watching the repo</div>
<div class="line">[Wednesday 23 March 2011] [11:15:20] &lt;pieterh&gt;        sigh...</div>
<div class="line">[Wednesday 23 March 2011] [11:15:29] &lt;pieterh&gt;        please assume I&#8217;m not an idiot</div>
<div class="line">[Wednesday 23 March 2011] [11:15:51] &lt;pieterh&gt;        you rename, the watchers follow along to the new zeromq3 repo, ok?</div>
<div class="line">[Wednesday 23 March 2011] [11:15:57] &lt;pieterh&gt;        everything is cool</div>
<div class="line">[Wednesday 23 March 2011] [11:16:11] &lt;pieterh&gt;        now you create a <em>new</em> zeromq2 repo to take the place of the old one</div>
<div class="line">[Wednesday 23 March 2011] [11:16:19] &lt;sustrik&gt;        yuck</div>
<div class="line">[Wednesday 23 March 2011] [11:16:21] &lt;sustrik&gt;        sorry, no</div>
<div class="line">[Wednesday 23 March 2011] [11:16:24] &lt;pieterh&gt;        you make a cover page, which provides a map for visitors</div>
<div class="line">[Wednesday 23 March 2011] [11:16:28] &lt;pieterh&gt;        all internet links work</div>
<div class="line">[Wednesday 23 March 2011] [11:16:53] &lt;pieterh&gt;        this is far better than doing 3.0 work in a repo called zeromq2, seriously</div>
<div class="line">[Wednesday 23 March 2011] [11:17:27] &lt;pieterh&gt;        &#8220;we were afraid of renaming it, that&#8217;s why it&#8217;s still weird in 2015, sorry&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:17:46] &lt;pieterh&gt;        better, rename it now to &#8216;zeromq&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [11:18:46] &lt;pieterh&gt;        when we get to making stable releases of 3.0, there will be repos like zeromq3-0</div>
<div class="line">[Wednesday 23 March 2011] [11:18:51] &lt;pieterh&gt;        based off zeromq2?????</div>
<div class="line">[Wednesday 23 March 2011] [11:19:00] &lt;sustrik&gt;        i am not against renaming</div>
<div class="line">[Wednesday 23 March 2011] [11:19:07] &lt;pieterh&gt;        it&#8217;s so bad I&#8217;m tempted to take my ball and stop playing</div>
<div class="line">[Wednesday 23 March 2011] [11:19:21] &lt;sustrik&gt;        just re-creating is a nonsense</div>
<div class="line">[Wednesday 23 March 2011] [11:19:22] &lt;pieterh&gt;        you&#8217;re against making a replacement cover page?</div>
<div class="line">[Wednesday 23 March 2011] [11:19:30] &lt;pieterh&gt;        you prefer broken links?</div>
<div class="line">[Wednesday 23 March 2011] [11:19:38] &lt;pieterh&gt;        shrug, I have no more to offer</div>
<div class="line">[Wednesday 23 March 2011] [11:19:41] &lt;sustrik&gt;        rename zeromq2-&gt;zeromq</div>
<div class="line">[Wednesday 23 March 2011] [11:19:41]   * pieterh goes back to work</div>
<div class="line">[Wednesday 23 March 2011] [11:19:52] &lt;sustrik&gt;        then do whatever with zeromq2 namespace</div>
<div class="line">[Wednesday 23 March 2011] [11:20:15] &lt;sustrik&gt;        that way the watchers remain subscribed</div>
<div class="line">[Wednesday 23 March 2011] [11:20:32] &lt;sustrik&gt;        no point in annying 350 people</div>
<div class="line">[Wednesday 23 March 2011] [11:20:32] &lt;pieterh&gt;        how is it possible to say, &#8220;yuck no way:&#8221; while agreeing with my proposal?</div>
<div class="line">[Wednesday 23 March 2011] [11:20:43] &lt;sustrik&gt;        you said, &#8220;recreate&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:20:58] &lt;sustrik&gt;        recreate what?</div>
<div class="line">[Wednesday 23 March 2011] [11:21:01]   * pieterh bangs his head slowly on table</div>
<div class="line">[Wednesday 23 March 2011] [11:21:16] &lt;pieterh&gt;        my fault for not communicating this more clearly</div>
<div class="line">[Wednesday 23 March 2011] [11:21:24] &lt;pieterh&gt;        please excuse me, I&#8217;ll try again</div>
<div class="line">[Wednesday 23 March 2011] [11:21:57] &lt;pieterh&gt;        a. you rename the repo, watchers are not annoyed, ack?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:01] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:22:14] &lt;pieterh&gt;        b. there is now no repo called &#8216;zeromq2&#8217;, ack?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:25] &lt;sustrik&gt;        ah, you want to re-create that one?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:32] &lt;sustrik&gt;        as a strawman</div>
<div class="line">[Wednesday 23 March 2011] [11:22:35] &lt;pieterh&gt;        the word &#8216;recreate&#8217; seems pretty clear</div>
<div class="line">[Wednesday 23 March 2011] [11:22:55] &lt;pieterh&gt;        yes, create an empty repo with the old name</div>
<div class="line">[Wednesday 23 March 2011] [11:23:03] &lt;sustrik&gt;        why i thouth you were suggesting was &#8220;re-create the master&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:23:07] &lt;pieterh&gt;        and fill it with one page, a cover sheet that helps people navigate the new structure</div>
<div class="line">[Wednesday 23 March 2011] [11:23:08] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [11:23:11] &lt;sustrik&gt;        that makes sense</div>
<div class="line">[Wednesday 23 March 2011] [11:23:15] &lt;pieterh&gt;        well, you assume I&#8217;m stupid, maybe</div>
<div class="line">[Wednesday 23 March 2011] [11:23:18] &lt;pieterh&gt;        don&#8217;t know...</div>
<div class="line">[Wednesday 23 March 2011] [11:23:23] &lt;pieterh&gt;        it&#8217;s ok</div>
<div class="line">[Wednesday 23 March 2011] [11:23:36] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [11:23:38] &lt;sustrik&gt;        will do, once i move to 3.0</div>
<div class="line">[Wednesday 23 March 2011] [11:24:05] &lt;pieterh&gt;        if we do rename the repo, I&#8217;d consider the new name carefully</div>
<div class="line">[Wednesday 23 March 2011] [11:24:20] &lt;pieterh&gt;        it&#8217;s very important to get this right</div>
<div class="line">[Wednesday 23 March 2011] [11:24:21] &lt;sustrik&gt;        zeromq?</div>
<div class="line">[Wednesday 23 March 2011] [11:24:24] &lt;sustrik&gt;        zeromq-master</div>
<div class="line">[Wednesday 23 March 2011] [11:24:28] &lt;pieterh&gt;        hang on</div>
<div class="line">[Wednesday 23 March 2011] [11:24:28] &lt;sustrik&gt;        zeromq-dev</div>
<div class="line">[Wednesday 23 March 2011] [11:24:29] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [11:24:32] &lt;sustrik&gt;        dunno</div>
<div class="line">[Wednesday 23 March 2011] [11:24:35] &lt;pieterh&gt;        core</div>
<div class="line">[Wednesday 23 March 2011] [11:24:49] &lt;pieterh&gt;        or libzmq</div>
<div class="line">[Wednesday 23 March 2011] [11:24:52] &lt;sustrik&gt;        core sounds more like a component rather than branch</div>
<div class="line">[Wednesday 23 March 2011] [11:25:00] &lt;pieterh&gt;        it&#8217;s not a branch, at all</div>
<div class="line">[Wednesday 23 March 2011] [11:25:13] &lt;pieterh&gt;        it is <em>the</em> living project within the 0MQ community</div>
<div class="line">[Wednesday 23 March 2011] [11:25:25] &lt;pieterh&gt;        there are two issues I see here</div>
<div class="line">[Wednesday 23 March 2011] [11:25:35] &lt;pieterh&gt;        a. confusion between zeromq as a community, and zeromq as a library</div>
<div class="line">[Wednesday 23 March 2011] [11:25:44] &lt;sustrik&gt;        good point</div>
<div class="line">[Wednesday 23 March 2011] [11:25:46] &lt;pieterh&gt;        b. zeromq as a package will end up including multiple projects</div>
<div class="line">[Wednesday 23 March 2011] [11:26:02] &lt;pieterh&gt;        my vision of the packaging is we package the community</div>
<div class="line">[Wednesday 23 March 2011] [11:26:03] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [11:26:13] &lt;pieterh&gt;        and that matches the organization name, zeromq</div>
<div class="line">[Wednesday 23 March 2011] [11:26:14] &lt;sustrik&gt;        libzmq+pyzmq+clrzmq etc.</div>
<div class="line">[Wednesday 23 March 2011] [11:26:17] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:26:19] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [11:26:38] &lt;pieterh&gt;        so this is also an explanation why we have multiple repositories</div>
<div class="line">[Wednesday 23 March 2011] [11:27:09] &lt;pieterh&gt;        it is only possible to increase the scope of packaging if we have separate projects for that</div>
<div class="line">[Wednesday 23 March 2011] [11:27:25] &lt;sustrik&gt;        libzmq would make sense then, however, i am not sure whether it&#8217;s worth of renaming everything now</div>
<div class="line">[Wednesday 23 March 2011] [11:27:25]   * pieterh is not just a pretty face...</div>
<div class="line">[Wednesday 23 March 2011] [11:27:40] &lt;pieterh&gt;        I&#8217;d really enjoy seeing libzmq, to be honest</div>
<div class="line">[Wednesday 23 March 2011] [11:27:52] &lt;sustrik&gt;        it would be nice</div>
<div class="line">[Wednesday 23 March 2011] [11:28:09] &lt;pieterh&gt;        I&#8217;d rename zapi to libzapi in the same sense then</div>
<div class="line">[Wednesday 23 March 2011] [11:28:10] &lt;sustrik&gt;        the question is how annoying would the renaming be</div>
<div class="line">[Wednesday 23 March 2011] [11:28:20] &lt;pieterh&gt;        it&#8217;s going to have to happen anyhow</div>
<div class="line">[Wednesday 23 March 2011] [11:28:28] &lt;pieterh&gt;        and this is very helpful to people IMO</div>
<div class="line">[Wednesday 23 March 2011] [11:28:53] &lt;pieterh&gt;        change that makes things better is always acceptable</div>
<div class="line">[Wednesday 23 March 2011] [11:29:36] &lt;sustrik&gt;        the benefit should be weighted against all the annoyance the rename will reate</div>
<div class="line">[Wednesday 23 March 2011] [11:29:45] &lt;sustrik&gt;        create</div>
<div class="line">[Wednesday 23 March 2011] [11:30:15] &lt;sustrik&gt;        actually, current naming doesn&#8217;t necessarily clash with package naming</div>
<div class="line">[Wednesday 23 March 2011] [11:30:16] &lt;pieterh&gt;        we won&#8217;t know the annoyance until we&#8217;ve done the rename</div>
<div class="line">[Wednesday 23 March 2011] [11:30:53] &lt;sustrik&gt;        the name of the project on github is kind of invisible to end users</div>
<div class="line">[Wednesday 23 March 2011] [11:30:58] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:31:01] &lt;sustrik&gt;        it&#8217;s of interest only to devs</div>
<div class="line">[Wednesday 23 March 2011] [11:31:19] &lt;pieterh&gt;        we need to check that forks of the repo don&#8217;t break when it&#8217;s renamed</div>
<div class="line">[Wednesday 23 March 2011] [11:31:27] &lt;pieterh&gt;        forks and watches, that&#8217;s the real value</div>
<div class="line">[Wednesday 23 March 2011] [11:31:44] &lt;sustrik&gt;        +1</div>
<div class="line">[Wednesday 23 March 2011] [11:32:03] &lt;pieterh&gt;        and IMO if we recreate a useful map for visitors who follow the old link, it&#8217;s solved</div>
<div class="line">[Wednesday 23 March 2011] [11:32:15] &lt;pieterh&gt;        I&#8217;d like to make a map of the community anyhow</div>
<div class="line">[Wednesday 23 March 2011] [11:32:19] &lt;pieterh&gt;        every project</div>
<div class="line">[Wednesday 23 March 2011] [11:32:26] &lt;pieterh&gt;        with a person and a URI</div>
<div class="line">[Wednesday 23 March 2011] [11:33:22] &lt;pieterh&gt;        ok, we can come back to this when you start on 3.0</div>
<div class="line">[Wednesday 23 March 2011] [11:36:03] &lt;Guthur&gt; pieterh: are you building whaleshark at the moment?</div>
<div class="line">[Wednesday 23 March 2011] [11:36:21] &lt;pieterh&gt;        Guthur: in a manner of speaking, I&#8217;m working on the API that I&#8217;ll need to build Whaleshark</div>
<div class="line">[Wednesday 23 March 2011] [11:36:36] &lt;pieterh&gt;        parts are almost done, like the name service</div>
<div class="line">[Wednesday 23 March 2011] [11:36:53] &lt;Guthur&gt; is that related to MDP</div>
<div class="line">[Wednesday 23 March 2011] [11:37:13] &lt;pieterh&gt;        well, the name service is the Freelance pattern described at the end of Ch4</div>
<div class="line">[Wednesday 23 March 2011] [11:37:30] &lt;pieterh&gt;        the client does broker-style work but the workers are simpler than MDP workers</div>
<div class="line">[Wednesday 23 March 2011] [11:37:40] &lt;pieterh&gt;        it&#8217;s distributed client-server</div>
<div class="line">[Wednesday 23 March 2011] [11:38:05] &lt;pieterh&gt;        you don&#8217;t really want to access a name service via a broker, too heavy</div>
<div class="line">[Wednesday 23 March 2011] [11:39:15] &lt;Guthur&gt; just reading the protocol now</div>
<div class="line">[Wednesday 23 March 2011] [11:47:15] &lt;Guthur&gt; sorry to bring this up again, I&#8217;m having trouble seeing how explicitly routing to client A or B or C... goes against scalability, you could surely use a DEALER at the client side which load-balances across a number of ROUTER based devices</div>
<div class="line">[Wednesday 23 March 2011] [11:47:16] &lt;Guthur&gt; am I missing something</div>
<div class="line">[Wednesday 23 March 2011] [11:47:52] &lt;pieterh&gt;        Guthur: the point is using explicit identities</div>
<div class="line">[Wednesday 23 March 2011] [11:48:10] &lt;pieterh&gt;        if you&#8217;re using automatic identities, and a stack, you don&#8217;t route to a client A, B, or C</div>
<div class="line">[Wednesday 23 March 2011] [11:48:19] &lt;pieterh&gt;        but rather you route backwards along a path</div>
<div class="line">[Wednesday 23 March 2011] [11:48:23] &lt;pieterh&gt;        which is scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:49:18] &lt;pieterh&gt;        does that help?</div>
<div class="line">[Wednesday 23 March 2011] [11:49:58] &lt;pieterh&gt;        e.g. in MDP, we never use our own identities, only those provided by 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [11:50:03] &lt;pieterh&gt;        it&#8217;s scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:50:47] &lt;Guthur&gt; ok, but if you take same routing pattern with 0MQ generated UUIDs it is fine?</div>
<div class="line">[Wednesday 23 March 2011] [11:51:41] &lt;pieterh&gt;        well, I see two issues</div>
<div class="line">[Wednesday 23 March 2011] [11:51:54] &lt;pieterh&gt;        one, using durable sockets is not scalable, as we</div>
<div class="line">[Wednesday 23 March 2011] [11:51:58] &lt;pieterh&gt;        <a href="#id37"><span class="problematic" id="id38">*</span></a>we&#8217;ve learned</div>
<div class="line">[Wednesday 23 March 2011] [11:52:29] &lt;pieterh&gt;        two, treating an envelope as 1 frame rather than a path is probably not scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:52:41] &lt;pieterh&gt;        probably, but not necessarily</div>
<div class="line">[Wednesday 23 March 2011] [11:53:32] &lt;pieterh&gt;        I&#8217;ve not actually seen real use cases for req-rep with more than 2 hops</div>
<div class="line">[Wednesday 23 March 2011] [11:54:05] &lt;Guthur&gt; yeah I think outside the req-rep pattern tbh</div>
<div class="line">[Wednesday 23 March 2011] [11:54:16] &lt;pieterh&gt;        sustrik&#8217;s whitepaper does present some but they seem contrived to me</div>
<div class="line">[Wednesday 23 March 2011] [11:54:52] &lt;Guthur&gt; it&#8217;s in relation to my endeavours with FIX, this is very much a disjointed async communication</div>
<div class="line">[Wednesday 23 March 2011] [11:55:10] &lt;Guthur&gt; you may send off 1 request and async recv N replies</div>
<div class="line">[Wednesday 23 March 2011] [11:55:29] &lt;pieterh&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [11:55:48] &lt;Guthur&gt; So the X sockets are the only way to go really</div>
<div class="line">[Wednesday 23 March 2011] [11:56:09] &lt;Guthur&gt; without maybe using multiple sockets</div>
<div class="line">[Wednesday 23 March 2011] [12:11:59] &lt;sp|ke&gt;  hi guys</div>
<div class="line">[Wednesday 23 March 2011] [12:12:36] &lt;sp|ke&gt;  i have setup a pub server with a bunch of sub clients</div>
<div class="line">[Wednesday 23 March 2011] [12:13:16] &lt;sp|ke&gt;  is it possible to make the sub client get data after the pub server have shutdown and get back online ?</div>
<div class="line">[Wednesday 23 March 2011] [12:13:30] &lt;sp|ke&gt;  without restarting the client</div>
<div class="line">[Wednesday 23 March 2011] [12:14:40] &lt;pieterh&gt;        sp|ke: the sub client will reconnect automatically</div>
<div class="line">[Wednesday 23 March 2011] [12:14:48] &lt;pieterh&gt;        but it will lose data obviously</div>
<div class="line">[Wednesday 23 March 2011] [12:41:53] &lt;sp|ke&gt;  pieterh: yes indeed, i must have done some mistake, do you think it&#8217;s possible with REQ/REP pattern too ?</div>
<div class="line">[Wednesday 23 March 2011] [12:42:42] &lt;sp|ke&gt;  i have done some tests if i shutdwon the server after the client have sent the request</div>
<div class="line">[Wednesday 23 March 2011] [12:42:49] &lt;sp|ke&gt;  adn restart the server</div>
<div class="line">[Wednesday 23 March 2011] [12:43:03] &lt;sp|ke&gt;  the client stay blocked</div>
<div class="line">[Wednesday 23 March 2011] [12:43:22] &lt;sp|ke&gt;  is there a way to check that the req zmqsocket is still alive ?</div>
<div class="line">[Wednesday 23 March 2011] [12:54:26] &lt;cremes&gt; sp|ke: no, you can&#8217;t do that with req/rep when using blocking send/recv; you have to create your own timeout</div>
<div class="line">[Wednesday 23 March 2011] [12:54:55] &lt;cremes&gt; and use non-blocking send/recv along with zmq_poll() to detect a timeout and to handle that situation</div>
<div class="line">[Wednesday 23 March 2011] [13:01:00] &lt;sp|ke&gt;  cremes: ok thanx for the advice</div>
<div class="line">[Wednesday 23 March 2011] [15:09:38] &lt;mikko&gt;  drbobbeaty: did you manage to test the new version of openpgm?</div>
<div class="line">[Wednesday 23 March 2011] [15:10:06] &lt;drbobbeaty&gt;     mikko: yup, sure did. Works fine.</div>
<div class="line">[Wednesday 23 March 2011] [15:10:11] &lt;mikko&gt;  cool</div>
<div class="line">[Wednesday 23 March 2011] [15:10:31] &lt;drbobbeaty&gt;     mikko: I used 0MQ 2.1.3 and the 5.1.115 OpenPGM from Steve-o</div>
<div class="line">[Wednesday 23 March 2011] [15:11:07] &lt;mikko&gt;  the &#8211;with-pgm=pgknamehere ?</div>
<div class="line">[Wednesday 23 March 2011] [17:14:39] &lt;drbobbeaty&gt;     mikko: yes, sorry I didn&#8217;t see it earlier, I used the name of the tarball in the config line.</div>
<div class="line">[Wednesday 23 March 2011] [17:16:21] &lt;mikko&gt;  drbobbeaty: cool</div>
<div class="line">[Wednesday 23 March 2011] [17:16:41] &lt;mikko&gt;  that feature proved to be useful quite quickly</div>
<div class="line">[Wednesday 23 March 2011] [17:23:51] &lt;pieterh&gt;        mikko: the new openpgm packaging is really nicely done, congrats</div>
<div class="line">[Wednesday 23 March 2011] [17:25:18] &lt;mikko&gt;  pieterh: i will send pull request for the make dist fixes</div>
<div class="line">[Wednesday 23 March 2011] [17:25:32] &lt;mikko&gt;  and clear hudson job workspaces so that it will build from empty</div>
<div class="line">[Wednesday 23 March 2011] [17:27:16] &lt;pieterh&gt;        mikko: we still need to get this into the libzmq core repository</div>
<div class="line">[Wednesday 23 March 2011] [17:27:25] &lt;pieterh&gt;        sustrik&#8217;s repo</div>
<div class="line">[Wednesday 23 March 2011] [17:27:43] &lt;mikko&gt;  yes</div>
<div class="line">[Wednesday 23 March 2011] [17:27:56] &lt;mikko&gt;  as soon as it works properly i&#8217;ll get it ready for el sustrik</div>
<div class="line">[Wednesday 23 March 2011] [17:28:13] &lt;pieterh&gt;        I figured out (I&#8217;m so thick) how to pull individual commits across repos</div>
<div class="line">[Wednesday 23 March 2011] [17:28:20] &lt;mikko&gt;  cherry pick?</div>
<div class="line">[Wednesday 23 March 2011] [17:28:27] &lt;pieterh&gt;        don&#8217;t need to fetch and cherry-pick</div>
<div class="line">[Wednesday 23 March 2011] [17:28:36] &lt;pieterh&gt;        gah</div>
<div class="line">[Wednesday 23 March 2011] [17:29:00] &lt;pieterh&gt;        just define the remote and then use &#8216;git pull&#8217; with the commit number</div>
<div class="line">[Wednesday 23 March 2011] [17:29:15] &lt;pieterh&gt;        the precise syntax is explained by github when you have a pull request</div>
<div class="line">[Wednesday 23 March 2011] [17:29:23] &lt;pieterh&gt;        in your face the whole time, so to speak</div>
<div class="line">[Wednesday 23 March 2011] [17:29:54] &lt;mikko&gt;  yeah</div>
<div class="line">[Wednesday 23 March 2011] [17:30:03] &lt;mikko&gt;  been thinking about this situation for some time</div>
<div class="line">[Wednesday 23 March 2011] [17:30:20] &lt;pieterh&gt;        github pull requests are just issues that wrap manual git commands</div>
<div class="line">[Wednesday 23 March 2011] [17:30:24] &lt;mikko&gt;  pull request effectively isn&#8217;t much more than github thing around pulling from other request</div>
<div class="line">[Wednesday 23 March 2011] [17:30:27] &lt;mikko&gt;  yes</div>
<div class="line">[Wednesday 23 March 2011] [17:30:30] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [17:30:45] &lt;mikko&gt;  we could use the underlying mechanism but just make the requests via mailing-list</div>
<div class="line">[Wednesday 23 March 2011] [17:31:09] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [17:31:15] &lt;pieterh&gt;        that&#8217;s what I&#8217;d like to aim for</div>
<div class="line">[Wednesday 23 March 2011] [17:31:55] &lt;pieterh&gt;        precisely this:</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git checkout -b mkoppanen-fix-make-dist master</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git pull <a class="reference external" href="https://github.com/mkoppanen/zeromq2-1.git">https://github.com/mkoppanen/zeromq2-1.git</a> fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git checkout master</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git merge mkoppanen-fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [17:32:06] &lt;pieterh&gt;        to take your last pull request as example</div>
<div class="line">[Wednesday 23 March 2011] [17:33:04] &lt;mikko&gt;  very simple process</div>
<div class="line">[Wednesday 23 March 2011] [17:33:14] &lt;pieterh&gt;        it seems so</div>
<div class="line">[Wednesday 23 March 2011] [17:33:25] &lt;pieterh&gt;        now we just have to convince el sustrik to try it ... :-)</div>
<div class="line">[Wednesday 23 March 2011] [17:35:07] &lt;pieterh&gt;        let me document this quickly on the contributing page...</div>
<div class="line">[Wednesday 23 March 2011] [17:46:27] &lt;Guthur&gt; pieterh, could you quickly take a look at the issue this guy describes <a class="reference external" href="https://github.com/zeromq/clrzmq/issues/11#comment_909819">https://github.com/zeromq/clrzmq/issues/11#comment_909819</a></div>
<div class="line">[Wednesday 23 March 2011] [17:46:37] &lt;pieterh&gt;        Guthur: ack, on it...</div>
<div class="line">[Wednesday 23 March 2011] [17:46:42] &lt;Guthur&gt; Would it be possible it is a slow subscriber issue</div>
<div class="line">[Wednesday 23 March 2011] [17:46:56] &lt;Guthur&gt; I understand there is very little in the way of concrete details</div>
<div class="line">[Wednesday 23 March 2011] [17:47:06] &lt;Guthur&gt; just your gut feeling would be suffice</div>
<div class="line">[Wednesday 23 March 2011] [17:50:17] &lt;pieterh&gt;        Guthur: do you expose the zmq_msg_init_data call in your API?</div>
<div class="line">[Wednesday 23 March 2011] [17:50:49] &lt;pieterh&gt;        gut feeling is he&#8217;s sending stuff that he meanwhile frees</div>
<div class="line">[Wednesday 23 March 2011] [17:53:31] &lt;pieterh&gt;        Guthur: ok, comment added</div>
<div class="line">[Wednesday 23 March 2011] [18:06:30] &lt;Guthur&gt; pieterh, sorry was afk there</div>
<div class="line">[Wednesday 23 March 2011] [18:06:39] &lt;Guthur&gt; my flatmates made some food</div>
<div class="line">[Wednesday 23 March 2011] [18:06:44] &lt;pieterh&gt;        curry?</div>
<div class="line">[Wednesday 23 March 2011] [18:06:52] &lt;Guthur&gt; pizza and pasta</div>
<div class="line">[Wednesday 23 March 2011] [18:07:00] &lt;pieterh&gt;        sounds excellent</div>
<div class="line">[Wednesday 23 March 2011] [18:07:16] &lt;pieterh&gt;        and you seriously still want to discuss 0MQ? :-)</div>
<div class="line">[Wednesday 23 March 2011] [18:07:25] &lt;Guthur&gt; it was</div>
<div class="line">[Wednesday 23 March 2011] [18:07:39] &lt;Guthur&gt; well I knew you might be answer so felt bad leaving so quickly</div>
<div class="line">[Wednesday 23 March 2011] [18:07:39] &lt;pieterh&gt;        hehe</div>
<div class="line">[Wednesday 23 March 2011] [18:07:53] &lt;Guthur&gt; I&#8217;m just about to go back for tea an chocolates</div>
<div class="line">[Wednesday 23 March 2011] [18:08:06] &lt;pieterh&gt;        go for it, I&#8217;m writing some docs</div>
<div class="line">[Wednesday 23 March 2011] [18:08:14] &lt;Guthur&gt; ok, back in a bit</div>
<div class="line">[Wednesday 23 March 2011] [19:31:06] &lt;Guthur&gt; Hi jeckstein, did you raise the issue for clrzmq2 on github</div>
<div class="line">[Wednesday 23 March 2011] [19:31:31] &lt;jeckstein&gt;      yes i did, hi michael</div>
<div class="line">[Wednesday 23 March 2011] [19:31:58] &lt;Guthur&gt; are you using the latest version of clrzmq2 from github?</div>
<div class="line">[Wednesday 23 March 2011] [19:32:01] &lt;jeckstein&gt;      i&#8217;m going to try to come up with a simple scenario to reproduce the error</div>
<div class="line">[Wednesday 23 March 2011] [19:32:26] &lt;Guthur&gt; that would be best</div>
<div class="line">[Wednesday 23 March 2011] [19:32:46] &lt;Guthur&gt; best isolating the issue much easier</div>
<div class="line">[Wednesday 23 March 2011] [19:33:19] &lt;jeckstein&gt;      i&#8217;m not actually, i&#8217;m using the clrzmq2 v2.0.0</div>
<div class="line">[Wednesday 23 March 2011] [19:33:24] &lt;jeckstein&gt;      since you said all it did was add the newer socket options, i didn&#8217;t want to introduce too many new components into my app</div>
<div class="line">[Wednesday 23 March 2011] [19:33:52] &lt;Guthur&gt; jeckstein, there was actually a couple of bug fixes after that</div>
<div class="line">[Wednesday 23 March 2011] [19:34:03] &lt;Guthur&gt; are you using polling?</div>
<div class="line">[Wednesday 23 March 2011] [19:35:06] &lt;jeckstein&gt;      i&#8217;m not setting polling explicitly</div>
<div class="line">[Wednesday 23 March 2011] [19:36:12] &lt;Guthur&gt; ok, best to get some code together so I can run an identical test to try and reproduce the bug</div>
<div class="line">[Wednesday 23 March 2011] [19:37:45] &lt;jeckstein&gt;      ok, I&#8217;ll update my clrzmq2</div>
<div class="line">[Wednesday 23 March 2011] [19:39:49] &lt;jeckstein&gt;      guthur, are you familiar with reading windows memory dump files?</div>
<div class="line">[Wednesday 23 March 2011] [19:40:24] &lt;Guthur&gt; to be honest no</div>
<div class="line">[Wednesday 23 March 2011] [19:41:40] &lt;jeckstein&gt;      no problem, i was able to get the dump but couldn&#8217;t get too much out of it..one thing I did see interesting was that part of the stack trace for the error included 2 back to back calls to zmq_stopwatch_stop</div>
<div class="line">[Wednesday 23 March 2011] [20:05:12] &lt;mikko&gt;  pieterh: did you push the latest make dist fixes?</div>
<div class="line">[Wednesday 23 March 2011] [20:12:46] &lt;Guthur&gt; jeckstein, any success getting a minimal test case?</div>
<div class="line">[Wednesday 23 March 2011] [20:14:11] &lt;jeckstein&gt;      no, its going to take me a little while to do that, i just compiled and loaded the newest clrzmq2 (2.1.0) and am testing it on my application now</div>
<div class="line">[Wednesday 23 March 2011] [20:18:13] &lt;Guthur&gt; ok, cool</div>
<div class="line">[Wednesday 23 March 2011] [20:37:27] &lt;jaten&gt;  hey guys, I&#8217;m getting a core dump in /lib/libpthread.so in the head of the git repos for zeromq, running the first server.cpp example in the Guide. This is on ubuntu 10.10 with /lib/libpthread.so.0 from libc 2.12.1-0ubuntu10.2.  It doesn&#8217;t happen with with the earlier 10.04 with libc 2.11.1-0ubuntu7.8 or 7.7, which has /lib/libpthread.so.0 version  2.11.1.  Is this a known issue?  If not where would I post for assistance/bug report?</div>
<div class="line">[Wednesday 23 March 2011] [20:43:10] &lt;Guthur&gt; jaten, you should probably raise a ticket on github, and maybe fire a description on to the mailing list</div>
<div class="line">[Wednesday 23 March 2011] [21:51:19] &lt;jaten&gt;  Guthur: okay, thanks. I&#8217;ll do that.</div>
<div class="line">[Thursday 24 March 2011] [02:16:22] &lt;ferrouswheel&gt;    is there any support for message priorities or QoS? saw various discussions on the mailing list, but not sure if it eventuated into anything?</div>
<div class="line">[Thursday 24 March 2011] [02:26:25] &lt;sustrik&gt; ad message priorities: no, you have to use different message feeds to get different priorities</div>
<div class="line">[Thursday 24 March 2011] [02:26:33] &lt;sustrik&gt; ad QoS: it can be set on network level</div>
<div class="line">[Thursday 24 March 2011] [02:27:24] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/whitepapers:traffic-monitoring-v20">http://www.zeromq.org/whitepapers:traffic-monitoring-v20</a></div>
<div class="line">[Thursday 24 March 2011] [02:30:11] &lt;ferrouswheel&gt;    sustrik, thanks - that&#8217;s what i suspected</div>
<div class="line">[Thursday 24 March 2011] [02:39:39] &lt;ferrouswheel&gt;    i want to use zeromq for an (initially) inprocess rpc, but would like to decrease the priority of clients that make more requests. I can see various ways to do this, but am curious if a particular design makes more logical sense than others when using zeromq...</div>
<div class="line">[Thursday 24 March 2011] [02:46:38] &lt;sustrik&gt; ferrouswheel: create several REP sockets, one for each priority</div>
<div class="line">[Thursday 24 March 2011] [02:46:57] &lt;sustrik&gt; read requests from high priority sockets first</div>
<div class="line">[Thursday 24 March 2011] [02:47:28] &lt;sustrik&gt; alternatively, you can add priority scheduling to 0mq core directly, which is something that&#8217;s on the roadmap already</div>
<div class="line">[Thursday 24 March 2011] [02:50:08] &lt;ferrouswheel&gt;    sustrik, okay - the async server (fig 47) in the guide also seems appropriate... deciding on which worker to send a client to, depending on the request rate</div>
<div class="line">[Thursday 24 March 2011] [02:50:36] &lt;ferrouswheel&gt;    but i think i&#8217;ll leave 0mq core modifications until i&#8217;ve actually used and understand 0mq better ;-)</div>
<div class="line">[Thursday 24 March 2011] [02:50:44] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [04:28:13] &lt;ianbarber&gt;       fully confused by git. i pulled in changes from the upstream, but it seems to have committed it as a commit, so now if I do a pull req it includes those</div>
<div class="line">[Thursday 24 March 2011] [04:28:30] &lt;ianbarber&gt;       bunch of zguide examples and stuff</div>
<div class="line">[Thursday 24 March 2011] [04:42:06] &lt;Steve-o&gt; hence it&#8217;s called &#8220;git&#8221;</div>
<div class="line">[Thursday 24 March 2011] [04:42:43] &lt;Steve-o&gt; I think it&#8217;s git-rebase for the equivalent of svn update</div>
<div class="line">[Thursday 24 March 2011] [04:43:34] &lt;ianbarber&gt;       ah cool, will have a look</div>
<div class="line">[Thursday 24 March 2011] [05:55:29] &lt;private_meta&gt;    I&#8217;ve got a tcp connection, my client is stopping, but it won&#8217;t quit the program, it hangs at &#8220;return&#8221; in main in mailbox_t::recv(), any idea why?</div>
<div class="line">[Thursday 24 March 2011] [05:56:53] &lt;private_meta&gt;    It hangs there at the termination of the context, although the connection should have been set not to linger (zmq_linger with a value of 0)</div>
<div class="line">[Thursday 24 March 2011] [06:01:41] &lt;pieterh&gt; private_meta: you have a socket open somewhere</div>
<div class="line">[Thursday 24 March 2011] [06:02:38] &lt;pieterh&gt; you have to close every single socket and you have to first set linger to zero on any socket which may still be doing some work (sending, or connecting)</div>
<div class="line">[Thursday 24 March 2011] [06:03:09] &lt;pieterh&gt; this is the rather painful way 2.1 works but it can be fixed in the language binding</div>
<div class="line">[Thursday 24 March 2011] [06:03:51] &lt;private_meta&gt;    pieterh: linger is on zero on EVERY socket that is open, and how can I close the sockets in C++ apart from calling their destructor (which I&#8217;m already doing)?</div>
<div class="line">[Thursday 24 March 2011] [06:04:41] &lt;pieterh&gt; I see two possibilities... either you have forgotten a socket somewhere, or the C++ binding is buggy</div>
<div class="line">[Thursday 24 March 2011] [06:05:46] &lt;private_meta&gt;    let me try something</div>
<div class="line">[Thursday 24 March 2011] [06:05:59] &lt;pieterh&gt; private_meta: I&#8217;ve just checked the C++ binding code and there is an explicit close method</div>
<div class="line">[Thursday 24 March 2011] [06:06:33] &lt;pieterh&gt; which the destructor just wraps</div>
<div class="line">[Thursday 24 March 2011] [06:06:45] &lt;private_meta&gt;    Ah ok... the socket was a pointer in there, and destructor of a pointer isn&#8217;t called implicitly</div>
<div class="line">[Thursday 24 March 2011] [06:06:53] &lt;pieterh&gt; right</div>
<div class="line">[Thursday 24 March 2011] [06:06:59] &lt;private_meta&gt;    only if it&#8217;s a non-pointer object (which I use normally)</div>
<div class="line">[Thursday 24 March 2011] [06:07:47] &lt;pieterh&gt; in zapi, I&#8217;m delingering/closing sockets automatically when the context is destroyed</div>
<div class="line">[Thursday 24 March 2011] [06:07:58] &lt;pieterh&gt; it makes life so much simpler</div>
<div class="line">[Thursday 24 March 2011] [06:08:06] &lt;private_meta&gt;    zapi?</div>
<div class="line">[Thursday 24 March 2011] [06:08:15] &lt;pieterh&gt; the new high-level C API</div>
<div class="line">[Thursday 24 March 2011] [06:08:20] &lt;pieterh&gt; <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Thursday 24 March 2011] [06:09:42] &lt;private_meta&gt;    Well, if the socket object were destroyed that would have been the case, but it wasn&#8217;t</div>
<div class="line">[Thursday 24 March 2011] [06:10:12] &lt;pieterh&gt; Sure, you still need to go set linger to zero on sockets</div>
<div class="line">[Thursday 24 March 2011] [06:11:14]    * pieterh does not like a terminate function that potentially blocks forever</div>
<div class="line">[Thursday 24 March 2011] [06:11:32] &lt;private_meta&gt;    I did some other stuff for a week so I&#8217;m still at translating the guide examples</div>
<div class="line">[Thursday 24 March 2011] [06:11:43] &lt;pieterh&gt; into C++?</div>
<div class="line">[Thursday 24 March 2011] [06:11:46] &lt;private_meta&gt;    yeah</div>
<div class="line">[Thursday 24 March 2011] [06:11:58] &lt;pieterh&gt; was it you who asked about modifying the C++ API?</div>
<div class="line">[Thursday 24 March 2011] [06:12:29] &lt;private_meta&gt;    Well, I asked about using pointers in the C++ binding</div>
<div class="line">[Thursday 24 March 2011] [06:12:42] &lt;private_meta&gt;    and the zmq::version</div>
<div class="line">[Thursday 24 March 2011] [06:12:51] &lt;pieterh&gt; yeah, and that led to thinking about splitting the C++ binding into its own project</div>
<div class="line">[Thursday 24 March 2011] [06:12:55] &lt;private_meta&gt;    Yes</div>
<div class="line">[Thursday 24 March 2011] [06:13:03] &lt;private_meta&gt;    As far as I remember, it did</div>
<div class="line">[Thursday 24 March 2011] [06:13:05] &lt;pieterh&gt; you already translated zhelpers, zmsg, etc. right?</div>
<div class="line">[Thursday 24 March 2011] [06:13:10] &lt;private_meta&gt;    Yes</div>
<div class="line">[Thursday 24 March 2011] [06:13:20] &lt;pieterh&gt; so... I have a small suggestion</div>
<div class="line">[Thursday 24 March 2011] [06:13:27] &lt;pieterh&gt; let&#8217;s make zapi++</div>
<div class="line">[Thursday 24 March 2011] [06:13:28] &lt;private_meta&gt;    I didN&#8217;t get to continue until now, so I&#8217;m at ppworker/ppqueue now</div>
<div class="line">[Thursday 24 March 2011] [06:13:45] &lt;pieterh&gt; zapi basically refactors the zhelpers/zmsg APIs into something neater</div>
<div class="line">[Thursday 24 March 2011] [06:15:31] &lt;private_meta&gt;    Sounds ok, but I&#8217;d recommend not using pointers in function parameters</div>
<div class="line">[Thursday 24 March 2011] [06:15:37] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [06:16:20] &lt;pieterh&gt; so the thing here is that I&#8217;m going to migrate the C examples onto zapi</div>
<div class="line">[Thursday 24 March 2011] [06:16:28] &lt;pieterh&gt; maybe not all, but the more complex ones, in any case</div>
<div class="line">[Thursday 24 March 2011] [06:17:52] &lt;pieterh&gt; since you know the zhelpers/zmsg API well, would you take a look at zapi?</div>
<div class="line">[Thursday 24 March 2011] [06:18:22] &lt;private_meta&gt;    sure</div>
<div class="line">[Thursday 24 March 2011] [06:18:42] &lt;pieterh&gt; it&#8217;d be really useful to get your design of a C++ binding at the same level</div>
<div class="line">[Thursday 24 March 2011] [06:18:44] &lt;private_meta&gt;    but right now I need to fix this (somewhat) small ppworker problem I have, it doesn&#8217;t get a connection</div>
<div class="line">[Thursday 24 March 2011] [06:19:11] &lt;pieterh&gt; if you need a hand, shout, I&#8217;m happy to help debug code</div>
<div class="line">[Thursday 24 March 2011] [06:19:27] &lt;pieterh&gt; paranoid pirates :-)</div>
<div class="line">[Thursday 24 March 2011] [06:20:16] &lt;private_meta&gt;    Apparently you dislike curly brackets in example code</div>
<div class="line">[Thursday 24 March 2011] [06:20:25] &lt;pieterh&gt; I use them only where needed</div>
<div class="line">[Thursday 24 March 2011] [06:20:39] &lt;pieterh&gt; code minimalism is kind of a style with me</div>
<div class="line">[Thursday 24 March 2011] [06:20:40] &lt;private_meta&gt;    Every programming teacher tells you to not do that ;)</div>
<div class="line">[Thursday 24 March 2011] [06:20:48] &lt;pieterh&gt; that&#8217;s why they&#8217;re teachers</div>
<div class="line">[Thursday 24 March 2011] [06:20:52] &lt;pieterh&gt; not programmers</div>
<div class="line">[Thursday 24 March 2011] [06:20:54] &lt;private_meta&gt;    It destroys readability</div>
<div class="line">[Thursday 24 March 2011] [06:21:03] &lt;pieterh&gt; there&#8217;s only one way to learn how to program</div>
<div class="line">[Thursday 24 March 2011] [06:21:20] &lt;pieterh&gt; to quote Zed Shaw, by &#8220;programming, motherfucker&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:21:26] &lt;private_meta&gt;    Oh, I tend to agree with them, and many programming teachers we have here had huge programming projects already</div>
<div class="line">[Thursday 24 March 2011] [06:21:59] &lt;pieterh&gt; so you mean for example an if statement with only one line, no braces?</div>
<div class="line">[Thursday 24 March 2011] [06:22:02] &lt;private_meta&gt;    You add one line to an if statement, tend to forget you didn&#8217;t have brackets</div>
<div class="line">[Thursday 24 March 2011] [06:22:16] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [06:23:05] &lt;pieterh&gt; then this is one of my bad habits, removing braces when they&#8217;re not needed</div>
<div class="line">[Thursday 24 March 2011] [06:23:06] &lt;private_meta&gt;    Code shouldn&#8217;t be hard to read, especially if adding brackets doesn&#8217;t change the compiled results</div>
<div class="line">[Thursday 24 March 2011] [06:23:24] &lt;pieterh&gt; readability comes only from consistency, adding or removing brackets doesn&#8217;t affect it IMO</div>
<div class="line">[Thursday 24 March 2011] [06:23:40] &lt;pieterh&gt; however, if you want, go through all my examples and add brackets</div>
<div class="line">[Thursday 24 March 2011] [06:23:45] &lt;private_meta&gt;    Consistency also means you use brackets, so use them everywhere :)</div>
<div class="line">[Thursday 24 March 2011] [06:23:46] &lt;pieterh&gt; my only rule is 100% consistency, really</div>
<div class="line">[Thursday 24 March 2011] [06:24:00] &lt;pieterh&gt; I consistently don&#8217;t use them when I can avoid them</div>
<div class="line">[Thursday 24 March 2011] [06:24:19] &lt;pieterh&gt; it creates extra lines that do nothing, grouping a single line is pointless IMO</div>
<div class="line">[Thursday 24 March 2011] [06:24:42] &lt;private_meta&gt;    sure, it seems pointless if you like minimalism</div>
<div class="line">[Thursday 24 March 2011] [06:24:47] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [06:24:50] &lt;pieterh&gt; which I really do</div>
<div class="line">[Thursday 24 March 2011] [06:25:06] &lt;pieterh&gt; functional minimalism, of course, so using clear names, blank space, etc.</div>
<div class="line">[Thursday 24 March 2011] [06:25:32] &lt;pieterh&gt; but it is probably just a bad habit... :-)</div>
<div class="line">[Thursday 24 March 2011] [06:25:43] &lt;private_meta&gt;    I mean, using &#8220;cond ? statem1 : statem2&#8221; would be minimalistic</div>
<div class="line">[Thursday 24 March 2011] [06:25:52] &lt;pieterh&gt; yes, but unreadable in practice</div>
<div class="line">[Thursday 24 March 2011] [06:25:56] &lt;private_meta&gt;    still you should only do it in very special cases, &#8216;cause mostly it&#8217;s unreadable</div>
<div class="line">[Thursday 24 March 2011] [06:26:00] &lt;pieterh&gt; I do that in some cases when it&#8217;s obvious</div>
<div class="line">[Thursday 24 March 2011] [06:26:04] &lt;private_meta&gt;    yes</div>
<div class="line">[Thursday 24 March 2011] [06:26:16] &lt;pieterh&gt; the test over time is whether you can easily reuse code</div>
<div class="line">[Thursday 24 March 2011] [06:26:33] &lt;pieterh&gt; I was able to put together 3K lines of code in zapi, fully tested and documented, in 1 day</div>
<div class="line">[Thursday 24 March 2011] [06:26:53] &lt;private_meta&gt;    by the way, is it your style to put the opening bracket on functions in the next line, but the opening brackt of ifs and elses on the same?</div>
<div class="line">[Thursday 24 March 2011] [06:27:23] &lt;pieterh&gt; yes, this is historic, we reused the GNU style for functions but our own style for statements</div>
<div class="line">[Thursday 24 March 2011] [06:27:28] &lt;private_meta&gt;    yeah, you used that argument already with a simple text editor and printf debugging, but that still didn&#8217;t make me use that</div>
<div class="line">[Thursday 24 March 2011] [06:27:45] &lt;pieterh&gt; I debug zapi using printfs and valgrind</div>
<div class="line">[Thursday 24 March 2011] [06:27:52] &lt;pieterh&gt; it&#8217;s extraordinarily effective</div>
<div class="line">[Thursday 24 March 2011] [06:28:33] &lt;private_meta&gt;    not for me :)</div>
<div class="line">[Thursday 24 March 2011] [06:28:35] &lt;pieterh&gt; I&#8217;m actually shocked at being able to write masses of C code and then hammer it into shape with brute force, and it works as designed</div>
<div class="line">[Thursday 24 March 2011] [06:29:02] &lt;pieterh&gt; trick is to start with the API, and tests, and then implement &amp; test small pieces at a time</div>
<div class="line">[Thursday 24 March 2011] [06:29:49] &lt;pieterh&gt; presumably C++ eliminates a lot of the pointer errors we make in C</div>
<div class="line">[Thursday 24 March 2011] [06:30:17] &lt;pieterh&gt; anyhow, if zapi++ takes off, you can impose your style on that :-)</div>
<div class="line">[Thursday 24 March 2011] [06:30:40] &lt;private_meta&gt;    hmm</div>
<div class="line">[Thursday 24 March 2011] [06:31:18] &lt;private_meta&gt;    I&#8217;ve got a weird error in ppqueue that doesn&#8217;t let lpclient connect</div>
<div class="line">[Thursday 24 March 2011] [06:31:38] &lt;pieterh&gt; can you paste the code somewhere?</div>
<div class="line">[Thursday 24 March 2011] [06:31:48] &lt;private_meta&gt;    sec</div>
<div class="line">[Thursday 24 March 2011] [06:34:24] &lt;private_meta&gt;    Well, I don&#8217;t quite see where the error is exactly... If I use the c version of ppqueue and ppworker, lpclient works fine</div>
<div class="line">[Thursday 24 March 2011] [06:34:42] &lt;private_meta&gt;    <a class="reference external" href="https://gist.github.com/5f6a4b0a41981a66d99f">https://gist.github.com/5f6a4b0a41981a66d99f</a> <a class="reference external" href="https://gist.github.com/0d7456f199b546ffe5e9">https://gist.github.com/0d7456f199b546ffe5e9</a> <a class="reference external" href="https://gist.github.com/253bc2038df7d9b3ba00">https://gist.github.com/253bc2038df7d9b3ba00</a></div>
<div class="line">[Thursday 24 March 2011] [06:34:54] &lt;pieterh&gt; you can put multiple files into one gist BTW</div>
<div class="line">[Thursday 24 March 2011] [06:35:27] &lt;private_meta&gt;    files, yeah, but I wasn&#8217;t logged in at my virtual machine in gist</div>
<div class="line">[Thursday 24 March 2011] [06:35:33] &lt;private_meta&gt;    so I didn&#8217;t have my files here</div>
<div class="line">[Thursday 24 March 2011] [06:35:50] &lt;pieterh&gt; so ppqueue doesn&#8217;t poll the client at all, unless there are workers, that&#8217;s the first thing</div>
<div class="line">[Thursday 24 March 2011] [06:36:49] &lt;pieterh&gt; code looks nice, very neat...</div>
<div class="line">[Thursday 24 March 2011] [06:37:18] &lt;private_meta&gt;    My test setup is starting ppqueue, 1 ppworker, 1 lpclient</div>
<div class="line">[Thursday 24 March 2011] [06:37:21] &lt;pieterh&gt; have you already traced activity by putting in msg.dump() all over the place?</div>
<div class="line">[Thursday 24 March 2011] [06:37:29] &lt;private_meta&gt;    ppworker uses heartbeats</div>
<div class="line">[Thursday 24 March 2011] [06:37:32] &lt;private_meta&gt;    but lpclient can&#8217;t connect</div>
<div class="line">[Thursday 24 March 2011] [06:37:48] &lt;pieterh&gt; &#8216;can&#8217;t connect&#8217; means &#8216;does not get a reply within X seconds&#8217;</div>
<div class="line">[Thursday 24 March 2011] [06:37:53] &lt;private_meta&gt;    sec</div>
<div class="line">[Thursday 24 March 2011] [06:37:54] &lt;pieterh&gt; so you need to trace activity in the queue</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    W: no response from server, retrying...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:10] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [06:38:14] &lt;pieterh&gt; that can mean anything</div>
<div class="line">[Thursday 24 March 2011] [06:38:20] &lt;pieterh&gt; it&#8217;s not really a connection failure</div>
<div class="line">[Thursday 24 March 2011] [06:38:32] &lt;Guthur&gt;  that could be seem behaviour I experience with teh default timeout</div>
<div class="line">[Thursday 24 March 2011] [06:38:51] &lt;Guthur&gt;  It was too aggressive in it&#8217;s timeout</div>
<div class="line">[Thursday 24 March 2011] [06:39:06] &lt;Guthur&gt;  relaxing the intervals helped</div>
<div class="line">[Thursday 24 March 2011] [06:39:12] &lt;pieterh&gt; Guthur: good memory...!</div>
<div class="line">[Thursday 24 March 2011] [06:39:18] &lt;private_meta&gt;    if I&#8217;m using ppworker and ppqueue in the c version, lpclient doesn&#8217;t receive timeouts or anything</div>
<div class="line">[Thursday 24 March 2011] [06:39:26] &lt;pieterh&gt; I fixed this in the C code, hang on, let me check...</div>
<div class="line">[Thursday 24 March 2011] [06:39:56] &lt;Guthur&gt;  pieterh: it had me scratching my head long enough that I have deep grove to remind me, hehe</div>
<div class="line">[Thursday 24 March 2011] [06:40:14] &lt;Guthur&gt;  groove*</div>
<div class="line">[Thursday 24 March 2011] [06:40:48] &lt;private_meta&gt;    by the way, using the c++ client takes way more time than the c client</div>
<div class="line">[Thursday 24 March 2011] [06:41:27] &lt;pieterh&gt; Guthur: it was in the ppworker when it simulated a CPU overload, that was always more than the client&#8217;s full timeout</div>
<div class="line">[Thursday 24 March 2011] [06:41:33] &lt;private_meta&gt;    meaning, using c queue and worker normally, then alternating between lpclient for c and c++, the c version is way faster</div>
<div class="line">[Thursday 24 March 2011] [06:41:46] &lt;pieterh&gt; private_meta: weird, that&#8217;s not expected</div>
<div class="line">[Thursday 24 March 2011] [06:42:20] &lt;pieterh&gt; sounds like a timer problem of some kind</div>
<div class="line">[Thursday 24 March 2011] [06:42:43] &lt;pieterh&gt; there should be no measurable (let alone visible) difference between the two</div>
<div class="line">[Thursday 24 March 2011] [06:43:02] &lt;pieterh&gt; private_meta: so please add msg.dump on everything the broker recvs and sends, that&#8217;s step 1</div>
<div class="line">[Thursday 24 March 2011] [06:45:12] &lt;private_meta&gt;    k, receiving is always done in the zmsg constructor, so I&#8217;ll add the dump there. should I paste the output of ppqueue?</div>
<div class="line">[Thursday 24 March 2011] [06:45:30] &lt;pieterh&gt; sounds good</div>
<div class="line">[Thursday 24 March 2011] [06:45:42] &lt;pieterh&gt; that will show us what the client is sending</div>
<div class="line">[Thursday 24 March 2011] [06:46:14] &lt;private_meta&gt;    Should I also dump messages in worker and client or just queue for now?</div>
<div class="line">[Thursday 24 March 2011] [06:46:15] &lt;pieterh&gt; then we also want to see what ppqueue is sending</div>
<div class="line">[Thursday 24 March 2011] [06:46:22] &lt;pieterh&gt; start with queue</div>
<div class="line">[Thursday 24 March 2011] [06:46:26] &lt;private_meta&gt;    k</div>
<div class="line">[Thursday 24 March 2011] [06:46:31] &lt;pieterh&gt; presumably there&#8217;s a problem between queue and worker</div>
<div class="line">[Thursday 24 March 2011] [06:46:34] &lt;pieterh&gt; so next, worker</div>
<div class="line">[Thursday 24 March 2011] [06:51:25] &lt;private_meta&gt;    argh</div>
<div class="line">[Thursday 24 March 2011] [06:51:32] &lt;private_meta&gt;    how do I redirect output AND stderror to file?</div>
<div class="line">[Thursday 24 March 2011] [06:51:54] &lt;pieterh&gt; myprog &gt; err.log 2&gt;&amp;1</div>
<div class="line">[Thursday 24 March 2011] [06:52:50] &lt;private_meta&gt;    &#8220;Aborted&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:53:10] &lt;private_meta&gt;    ah ok now</div>
<div class="line">[Thursday 24 March 2011] [06:53:44] &lt;private_meta&gt;    argh</div>
<div class="line">[Thursday 24 March 2011] [06:54:22] &lt;pieterh&gt; sounds positive... :-)</div>
<div class="line">[Thursday 24 March 2011] [06:54:34] &lt;pieterh&gt; or else you&#8217;re at the dentist... &#8220;open wider, please!&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:54:48] &lt;ianbarber&gt;       pieterh: sent a pull req for the zguide, noticed that it was notifying sustrik though, which seems probably incorrect</div>
<div class="line">[Thursday 24 March 2011] [06:55:04] &lt;private_meta&gt;    no, that didn&#8217;t redirect everything</div>
<div class="line">[Thursday 24 March 2011] [06:55:35] &lt;pieterh&gt; ianbarber: weird, but presumably he&#8217;s a watcher of that repo?</div>
<div class="line">[Thursday 24 March 2011] [06:55:54] &lt;private_meta&gt;    ok, screw it, I&#8217;ll just copy from console if that doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [06:57:18] &lt;private_meta&gt;    pieterh: <a class="reference external" href="https://gist.github.com/2a9823bb9163202ec026">https://gist.github.com/2a9823bb9163202ec026</a></div>
<div class="line">[Thursday 24 March 2011] [06:57:57] &lt;private_meta&gt;    pieterh: that&#8217;s the log from starting ppworker till disconnecting (killing) ppworker</div>
<div class="line">[Thursday 24 March 2011] [06:58:10] &lt;private_meta&gt;    in the middle, I started lpclient and it terminated by itself</div>
<div class="line">[Thursday 24 March 2011] [06:58:18] &lt;pieterh&gt; ianbarber: got them, thanks!</div>
<div class="line">[Thursday 24 March 2011] [06:58:24] &lt;pieterh&gt; private_meta: ok, reading that...</div>
<div class="line">[Thursday 24 March 2011] [06:59:12] &lt;pieterh&gt; private_meta: I assume it should say &#8216;after recv&#8217; not &#8216;before recv&#8217;...</div>
<div class="line">[Thursday 24 March 2011] [06:59:23] &lt;private_meta&gt;    ah yes</div>
<div class="line">[Thursday 24 March 2011] [06:59:30] &lt;pieterh&gt; so you have a bug in the worker</div>
<div class="line">[Thursday 24 March 2011] [06:59:40] &lt;pieterh&gt; try running your queue, your client, my worker</div>
<div class="line">[Thursday 24 March 2011] [07:00:29] &lt;pieterh&gt; I&#8217;ll let you figure out what the error is, it&#8217;s clear from the trace</div>
<div class="line">[Thursday 24 March 2011] [07:00:37] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [07:00:50] &lt;private_meta&gt;    Doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [07:00:58] &lt;private_meta&gt;    same error</div>
<div class="line">[Thursday 24 March 2011] [07:01:20] &lt;pieterh&gt; that&#8217;s unpossible! :-)</div>
<div class="line">[Thursday 24 March 2011] [07:01:41] &lt;pieterh&gt; ok, try my worker, my client, your queue...</div>
<div class="line">[Thursday 24 March 2011] [07:02:06] &lt;pieterh&gt; hang on, that&#8217;s just the same, sorry...</div>
<div class="line">[Thursday 24 March 2011] [07:02:25] &lt;pieterh&gt; your worker, my queue, your client...</div>
<div class="line">[Thursday 24 March 2011] [07:03:00] &lt;pieterh&gt; the error shows on lines 32-41</div>
<div class="line">[Thursday 24 March 2011] [07:03:01] &lt;private_meta&gt;    should be the same, let me check (i think i tried that already)</div>
<div class="line">[Thursday 24 March 2011] [07:03:33] &lt;private_meta&gt;    No, doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [07:04:00] &lt;private_meta&gt;    sec, gotta fetch a delivery, bb in 5 minutes or so</div>
<div class="line">[Thursday 24 March 2011] [07:04:03] &lt;pieterh&gt; then you have a problem in BOTH your worker and your queue, perhaps because it&#8217;s in the msg class</div>
<div class="line">[Thursday 24 March 2011] [07:04:09] &lt;pieterh&gt; cyl, then</div>
<div class="line">[Thursday 24 March 2011] [07:08:07] &lt;private_meta&gt;    i hope this time the tablet pc is alright</div>
<div class="line">[Thursday 24 March 2011] [07:08:20] &lt;private_meta&gt;    pieterh: ok, then what might be the problem in the zmsg class? any idea?</div>
<div class="line">[Thursday 24 March 2011] [07:08:36] &lt;pieterh&gt; private_meta: look at lines 32-41 of your trace</div>
<div class="line">[Thursday 24 March 2011] [07:08:51] &lt;pieterh&gt; the worker sends back (or the queue wrongly receives) the worker address twice</div>
<div class="line">[Thursday 24 March 2011] [07:09:01] &lt;pieterh&gt; when it should be worker address, then original client address</div>
<div class="line">[Thursday 24 March 2011] [07:09:14] &lt;pieterh&gt; thus the reply to the client gets sent back to the worker instead</div>
<div class="line">[Thursday 24 March 2011] [07:09:28] &lt;private_meta&gt;    hmm</div>
<div class="line">[Thursday 24 March 2011] [07:09:55] &lt;pieterh&gt; you see the wrong addresses, right?</div>
<div class="line">[Thursday 24 March 2011] [07:10:04] &lt;private_meta&gt;    yes</div>
<div class="line">[Thursday 24 March 2011] [07:10:33] &lt;pieterh&gt; this is kind of standard when using envelopes, they are tricky to get right</div>
<div class="line">[Thursday 24 March 2011] [07:11:10] &lt;pieterh&gt; you can now add printfs to msg where it&#8217;s recving and sending frames</div>
<div class="line">[Thursday 24 March 2011] [07:11:27] &lt;private_meta&gt;    So this might be a problem the selftest didn&#8217;t catch?</div>
<div class="line">[Thursday 24 March 2011] [07:11:31] &lt;pieterh&gt; for sure</div>
<div class="line">[Thursday 24 March 2011] [07:12:33] &lt;pieterh&gt; hmm, there is a unit test for this but it&#8217;s not double-checking every frame</div>
<div class="line">[Thursday 24 March 2011] [07:12:38] &lt;pieterh&gt; could improve that</div>
<div class="line">[Thursday 24 March 2011] [07:13:02] &lt;private_meta&gt;    ah goddammit, i need to fetch a usb dvd drive again...</div>
<div class="line">[Thursday 24 March 2011] [07:13:05] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [07:13:26] &lt;private_meta&gt;    well, hp guys didn&#8217;t think it would be a good idea to install a 64bit operating system on their latest notebooks</div>
<div class="line">[Thursday 24 March 2011] [07:13:41] &lt;pieterh&gt; 32 bits should be enough for anyone</div>
<div class="line">[Thursday 24 March 2011] [07:13:50] &lt;pieterh&gt; maybe it&#8217;s a subtle hint to install Ubuntu...</div>
<div class="line">[Thursday 24 March 2011] [07:14:16] &lt;private_meta&gt;    No, I can&#8217;t use Linux in everyday life, creates too many problems</div>
<div class="line">[Thursday 24 March 2011] [07:14:24] &lt;private_meta&gt;    (Murphies Law and everything)</div>
<div class="line">[Thursday 24 March 2011] [07:14:35] &lt;pieterh&gt; my sympathies...</div>
<div class="line">[Thursday 24 March 2011] [07:15:19] &lt;private_meta&gt;    Everytime I tried to use something on Linux for personal use, it failed in a way that wasn&#8217;t fixable</div>
<div class="line">[Thursday 24 March 2011] [07:15:47] &lt;pieterh&gt; weird, I&#8217;ve been using Linux for 10+ years and it&#8217;s irreplaceable for me</div>
<div class="line">[Thursday 24 March 2011] [07:15:56] &lt;private_meta&gt;    I&#8217;ve been using Linux for that long as well, but I can&#8217;t use it as a primary system</div>
<div class="line">[Thursday 24 March 2011] [07:16:08] &lt;private_meta&gt;    apart from that, as a gamer I need Windows anyway</div>
<div class="line">[Thursday 24 March 2011] [07:16:12] &lt;pieterh&gt; 10+ years for primary personal use, since early 1990&#8217;s for work</div>
<div class="line">[Thursday 24 March 2011] [07:16:27] &lt;pieterh&gt; ah, games</div>
<div class="line">[Thursday 24 March 2011] [07:16:49] &lt;private_meta&gt;    Well, some like it, others don&#8217;t, I tend to be someone fond of games :)</div>
<div class="line">[Thursday 24 March 2011] [07:17:11] &lt;private_meta&gt;    But it&#8217;s not like playing games is the only reason ;)</div>
<div class="line">[Thursday 24 March 2011] [07:17:48] &lt;pieterh&gt; are any game engines using 0MQ yet, I wonder...</div>
<div class="line">[Thursday 24 March 2011] [07:18:11] &lt;pieterh&gt; &#8220;shoots 4M bullets per second!!!&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:27:23] &lt;mikko-_&gt; mato</div>
<div class="line">[Thursday 24 March 2011] [07:27:25] &lt;mikko-_&gt; there?</div>
<div class="line">[Thursday 24 March 2011] [07:27:44] &lt;mikko-_&gt; pieterh: you remember ben from zeromq london meetup?</div>
<div class="line">[Thursday 24 March 2011] [07:27:50] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [07:27:55] &lt;mikko-_&gt; he works in gaming industry</div>
<div class="line">[Thursday 24 March 2011] [07:28:12] &lt;pieterh&gt; right, he was &#8220;putting 0MQ everywhere&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:28:27] &lt;mikko-_&gt; you could pry from him on which games he works on</div>
<div class="line">[Thursday 24 March 2011] [07:28:35] &lt;pieterh&gt; nah, I don&#8217;t really care :-)</div>
<div class="line">[Thursday 24 March 2011] [07:28:59] &lt;ianbarber&gt;       his latest, total war shogun 2 is out now! i&#8217;m sure he&#8217;d support your purchasing :)</div>
<div class="line">[Thursday 24 March 2011] [07:29:05] &lt;pieterh&gt; I used to write games but don&#8217;t play them</div>
<div class="line">[Thursday 24 March 2011] [07:29:21] &lt;Guthur&gt;  I really liked the total war series</div>
<div class="line">[Thursday 24 March 2011] [07:29:29] &lt;Guthur&gt;  don&#8217;t game much anymore though</div>
<div class="line">[Thursday 24 March 2011] [07:30:14] &lt;ianbarber&gt;       shogun 2 is actually quite a lot of fun. i&#8217;m all mac everywhere now though, and they&#8217;re windows only though</div>
<div class="line">[Thursday 24 March 2011] [07:30:16] &lt;Guthur&gt;  no time these days unfortunately</div>
<div class="line">[Thursday 24 March 2011] [07:31:46] &lt;ianbarber&gt;       i think it would be very beneficial for engines though, everyone has to deal with many cores these days</div>
<div class="line">[Thursday 24 March 2011] [07:32:09] &lt;ianbarber&gt;       x360 is what, 6? ps3 7. and most decent desktops are at least 4</div>
<div class="line">[Thursday 24 March 2011] [07:32:10] &lt;pieterh&gt; I recall people asking about this ages ago, when 0MQ was 0.something</div>
<div class="line">[Thursday 24 March 2011] [07:45:20] &lt;pieterh&gt; mikko-_: you got a second?</div>
<div class="line">[Thursday 24 March 2011] [07:48:35] &lt;mikko-_&gt; pieterh: yes</div>
<div class="line">[Thursday 24 March 2011] [07:49:09] &lt;pieterh&gt; I&#8217;d like to start on a new phase of the zmq packaging</div>
<div class="line">[Thursday 24 March 2011] [07:49:26] &lt;pieterh&gt; that is, start including other parts of the community into &#8220;ZeroMQ/x.y&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:49:36] &lt;pieterh&gt; 2.1 is libzmq and libpgm</div>
<div class="line">[Thursday 24 March 2011] [07:50:11] &lt;pieterh&gt; I&#8217;m thinking 2.2 will be libzmq, libpgm, libzapi, and maybe one or two other language bindings</div>
<div class="line">[Thursday 24 March 2011] [07:51:40] &lt;pieterh&gt; any thoughts on that? libzapi uses autotools, should be simple</div>
<div class="line">[Thursday 24 March 2011] [07:53:31] &lt;sustrik&gt; given that it&#8217;s exactly 1 day old, it sound a bit premature to include it into stable</div>
<div class="line">[Thursday 24 March 2011] [07:53:42] &lt;pieterh&gt; sustrik: that&#8217;s why I said 2.2...</div>
<div class="line">[Thursday 24 March 2011] [07:53:48] &lt;sustrik&gt; ah, ok</div>
<div class="line">[Thursday 24 March 2011] [07:53:54] &lt;pieterh&gt; :-) indeed, it&#8217;s not ready for stable</div>
<div class="line">[Thursday 24 March 2011] [07:54:16] &lt;pieterh&gt; it strikes me that libpgm integration doesn&#8217;t have to be a special case</div>
<div class="line">[Thursday 24 March 2011] [07:55:32] &lt;pieterh&gt; sustrik: btw, I used inproc pipes to create a lockfree object, as you do inside core</div>
<div class="line">[Thursday 24 March 2011] [07:55:52] &lt;pieterh&gt; it&#8217;s tricky because the object is actually the context wrapper, but it&#8217;s really neat otherwise</div>
<div class="line">[Thursday 24 March 2011] [07:58:38] &lt;mikko-_&gt; hmm</div>
<div class="line">[Thursday 24 March 2011] [07:58:51] &lt;mikko-_&gt; pieter: you mean into same package?</div>
<div class="line">[Thursday 24 March 2011] [07:59:01] &lt;pieterh&gt; yes, I mean expand the scope of the download</div>
<div class="line">[Thursday 24 March 2011] [07:59:08] &lt;mikko-_&gt; distros like if you keep things separate</div>
<div class="line">[Thursday 24 March 2011] [07:59:18] &lt;pieterh&gt; different issue</div>
<div class="line">[Thursday 24 March 2011] [07:59:24] &lt;pieterh&gt; distros can repackage individual libraries</div>
<div class="line">[Thursday 24 March 2011] [07:59:33] &lt;pieterh&gt; users like getting one package</div>
<div class="line">[Thursday 24 March 2011] [07:59:47] &lt;pieterh&gt; imagine having to download &amp; build libpgm separately</div>
<div class="line">[Thursday 24 March 2011] [07:59:58] &lt;mikko-_&gt; thats what i would normally expect to do</div>
<div class="line">[Thursday 24 March 2011] [08:00:01] &lt;mikko-_&gt; :)</div>
<div class="line">[Thursday 24 March 2011] [08:00:10] &lt;mikko-_&gt; install dependencies before the software</div>
<div class="line">[Thursday 24 March 2011] [08:00:13] &lt;pieterh&gt; yes, but you&#8217;re a developer not a sysadmin</div>
<div class="line">[Thursday 24 March 2011] [08:00:48] &lt;mikko-_&gt; from sysadmin pov i would package rpm and install the packages that are defined in &#8220;BuildRequires&#8221; stanza</div>
<div class="line">[Thursday 24 March 2011] [08:00:58] &lt;mikko-_&gt; assuming everything is available as rpm</div>
<div class="line">[Thursday 24 March 2011] [08:00:59] &lt;pieterh&gt; we can still publish minimal packages for distros</div>
<div class="line">[Thursday 24 March 2011] [08:01:13] &lt;mikko-_&gt; do you want these to be built together as well?</div>
<div class="line">[Thursday 24 March 2011] [08:01:18] &lt;mikko-_&gt; or just packaged together?</div>
<div class="line">[Thursday 24 March 2011] [08:01:28] &lt;pieterh&gt; well, there are two main reasons for packaging together</div>
<div class="line">[Thursday 24 March 2011] [08:01:43] &lt;pieterh&gt; a. convenience for installing</div>
<div class="line">[Thursday 24 March 2011] [08:01:50] &lt;pieterh&gt; b. tested as a single unit</div>
<div class="line">[Thursday 24 March 2011] [08:02:04] &lt;pieterh&gt; so for b, yes, we&#8217;d also build/test the collection</div>
<div class="line">[Thursday 24 March 2011] [08:02:14] &lt;pieterh&gt; as we would do for libpgm, it&#8217;s exactly the same</div>
<div class="line">[Thursday 24 March 2011] [08:02:43] &lt;pieterh&gt; otherwise 0MQ cannot scale</div>
<div class="line">[Thursday 24 March 2011] [08:03:10] &lt;mikko-_&gt; where do you draw the line what should be packaged?</div>
<div class="line">[Thursday 24 March 2011] [08:03:16] &lt;mikko-_&gt; should all language bindings be bundled?</div>
<div class="line">[Thursday 24 March 2011] [08:03:21] &lt;pieterh&gt; well, I don&#8217;t draw a line as such</div>
<div class="line">[Thursday 24 March 2011] [08:03:21] &lt;mikko-_&gt; what about devices?</div>
<div class="line">[Thursday 24 March 2011] [08:03:40] &lt;pieterh&gt; what I&#8217;d do is do this step by step and stop when it&#8217;s no longer worth going further</div>
<div class="line">[Thursday 24 March 2011] [08:03:52] &lt;pieterh&gt; imagine there&#8217;s a separate project with overall tests</div>
<div class="line">[Thursday 24 March 2011] [08:03:56] &lt;pieterh&gt; I&#8217;d probably package that</div>
<div class="line">[Thursday 24 March 2011] [08:04:10] &lt;pieterh&gt; I&#8217;d probably package all available documentation</div>
<div class="line">[Thursday 24 March 2011] [08:04:31] &lt;pieterh&gt; but gradually, otherwise it&#8217;s indigestable</div>
<div class="line">[Thursday 24 March 2011] [08:05:21] &lt;pieterh&gt; this also makes it easier to e.g. make a Windows kit, it&#8217;s the same set of packages with a MSI frontend</div>
<div class="line">[Thursday 24 March 2011] [08:06:08] &lt;pieterh&gt; so the release repositories are where this happens, presumably using submodules</div>
<div class="line">[Thursday 24 March 2011] [08:07:17] &lt;pieterh&gt; this also gives project developers something to aim at</div>
<div class="line">[Thursday 24 March 2011] [08:07:24] &lt;Guthur&gt;  I have to admit that I would take a similar point of view as mikko</div>
<div class="line">[Thursday 24 March 2011] [08:07:39] &lt;pieterh&gt; many people will, for sure</div>
<div class="line">[Thursday 24 March 2011] [08:07:55] &lt;Guthur&gt;  I have a similar decision to make with clrzmq2</div>
<div class="line">[Thursday 24 March 2011] [08:08:23] &lt;pieterh&gt; if you actually look at the process of getting 0MQ working with language XYZ, it&#8217;s often a real pain</div>
<div class="line">[Thursday 24 March 2011] [08:08:27] &lt;Guthur&gt;  prepackaging libzmq.dll would allow the binding to seamlessly support 32/64 bit environment</div>
<div class="line">[Thursday 24 March 2011] [08:08:33] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [08:08:53] &lt;Guthur&gt;  but I would rather have the users get the libzmq straight from the &#8216;golden&#8217; source</div>
<div class="line">[Thursday 24 March 2011] [08:09:07] &lt;pieterh&gt; If I download 0MQ for Windows I&#8217;d expect to get clrzmq2 included</div>
<div class="line">[Thursday 24 March 2011] [08:09:15] &lt;Guthur&gt;  so bug fixes etc can be propagated</div>
<div class="line">[Thursday 24 March 2011] [08:09:20] &lt;pieterh&gt; well, as an option</div>
<div class="line">[Thursday 24 March 2011] [08:09:33] &lt;pieterh&gt; but mostly, it&#8217;s asking users to do extra work</div>
<div class="line">[Thursday 24 March 2011] [08:09:50] &lt;pieterh&gt; that always eliminates a large chunk of users</div>
<div class="line">[Thursday 24 March 2011] [08:10:04] &lt;Guthur&gt;  yeah, I&#8217;m aware I maybe be falling into the worse is better mind set</div>
<div class="line">[Thursday 24 March 2011] [08:10:55] &lt;pieterh&gt; people who don&#8217;t (yet) have an emotional connection to a project simply won&#8217;t tolerate pain to start using it</div>
<div class="line">[Thursday 24 March 2011] [08:11:09] &lt;pieterh&gt; it has to be really, really simple to &#8220;get&#8221; 0MQ</div>
<div class="line">[Thursday 24 March 2011] [08:11:22] &lt;pieterh&gt; after that, it can become more and more complex, that&#8217;s fine</div>
<div class="line">[Thursday 24 March 2011] [08:11:56] &lt;pieterh&gt; but the first taste must not be complex or difficult</div>
<div class="line">[Thursday 24 March 2011] [08:12:22] &lt;pieterh&gt; IMHO</div>
<div class="line">[Thursday 24 March 2011] [08:12:38] &lt;Guthur&gt;  sure, someone is actually looking to contribute something to clrzmq2 to improve the 32/64 bit issue</div>
<div class="line">[Thursday 24 March 2011] [08:12:55] &lt;Guthur&gt;  that issue would even more simply removed by prepackaging</div>
<div class="line">[Thursday 24 March 2011] [08:13:11] &lt;pieterh&gt; so let&#8217;s look at making a Windows package?</div>
<div class="line">[Thursday 24 March 2011] [08:13:27] &lt;pieterh&gt; libzmq+clrzmq2+libzapi</div>
<div class="line">[Thursday 24 March 2011] [08:13:41] &lt;pieterh&gt; +libpgm</div>
<div class="line">[Thursday 24 March 2011] [08:14:08] &lt;Guthur&gt;  I&#8217;ll put looking at a WiX project for it on my ToDo list</div>
<div class="line">[Thursday 24 March 2011] [08:14:16] &lt;pieterh&gt; WiX = windows installer?</div>
<div class="line">[Thursday 24 March 2011] [08:14:24] &lt;Guthur&gt;  WiX is a windows installer declarative language</div>
<div class="line">[Thursday 24 March 2011] [08:14:30] &lt;pieterh&gt; nice</div>
<div class="line">[Thursday 24 March 2011] [08:15:01] &lt;Guthur&gt;  yeah only down side is it uses XML based grammar</div>
<div class="line">[Thursday 24 March 2011] [08:15:24] &lt;pieterh&gt; XML grammars can be neat if done right but usually they&#8217;re not</div>
<div class="line">[Thursday 24 March 2011] [08:15:42] &lt;Guthur&gt;  the worlds irrational love of XML pains me</div>
<div class="line">[Thursday 24 March 2011] [08:16:13] &lt;pieterh&gt; Well, I&#8217;ve written maybe 100k lines of declarative XML and it works fine if you&#8217;re minimalist</div>
<div class="line">[Thursday 24 March 2011] [08:16:41] &lt;Guthur&gt;  there is some many attributes and elements that it quickly becomes messy</div>
<div class="line">[Thursday 24 March 2011] [08:16:50] &lt;Guthur&gt;  ...for WiX</div>
<div class="line">[Thursday 24 March 2011] [08:17:18] &lt;pieterh&gt; <a class="reference external" href="http://download.imatix.com/mop/beginning.html">http://download.imatix.com/mop/beginning.html</a> for example</div>
<div class="line">[Thursday 24 March 2011] [08:17:25] &lt;pieterh&gt; anyhow, WiX...</div>
<div class="line">[Thursday 24 March 2011] [08:17:52] &lt;pieterh&gt; if you decide to start a packaging project, let&#8217;s make a separate repo for that</div>
<div class="line">[Thursday 24 March 2011] [08:17:57] &lt;pieterh&gt; not inside clrzmq2</div>
<div class="line">[Thursday 24 March 2011] [08:17:59] &lt;Guthur&gt;  on the other hand I like sexp, which a lot of people don&#8217;t like</div>
<div class="line">[Thursday 24 March 2011] [08:18:05] &lt;Guthur&gt;  pieterh: ok</div>
<div class="line">[Thursday 24 March 2011] [08:30:51] &lt;mikko-_&gt; pieter</div>
<div class="line">[Thursday 24 March 2011] [08:30:55] &lt;mikko-_&gt; the doc generation is broken</div>
<div class="line">[Thursday 24 March 2011] [08:30:59] &lt;mikko-_&gt; in mnay ways</div>
<div class="line">[Thursday 24 March 2011] [08:31:01] &lt;pieterh&gt; which project?</div>
<div class="line">[Thursday 24 March 2011] [08:31:02] &lt;mikko-_&gt; :)</div>
<div class="line">[Thursday 24 March 2011] [08:31:05] &lt;pieterh&gt; rfc?</div>
<div class="line">[Thursday 24 March 2011] [08:31:09] &lt;mikko-_&gt; zeromq</div>
<div class="line">[Thursday 24 March 2011] [08:31:13] &lt;mikko-_&gt; the wikidot api thingy</div>
<div class="line">[Thursday 24 March 2011] [08:31:23] &lt;pieterh&gt; hang on a sec...</div>
<div class="line">[Thursday 24 March 2011] [08:31:27] &lt;mikko-_&gt; 1) the call to wikidot fails with &#8220;Unauthorised&#8221;</div>
<div class="line">[Thursday 24 March 2011] [08:31:36] &lt;mikko-_&gt; 2) it prints out your API key in the error message</div>
<div class="line">[Thursday 24 March 2011] [08:31:41] &lt;pieterh&gt; yes, I pinged you about that, you missed that</div>
<div class="line">[Thursday 24 March 2011] [08:31:59] &lt;pieterh&gt; Wikidot upgraded their API for security reasons</div>
<div class="line">[Thursday 24 March 2011] [08:32:00] &lt;mikko-_&gt; i miss so many things using this web irc client</div>
<div class="line">[Thursday 24 March 2011] [08:32:31] &lt;pieterh&gt; you need to be a member of the rfc site to publish to it, that&#8217;s one thing</div>
<div class="line">[Thursday 24 March 2011] [08:32:38] &lt;pieterh&gt; afair I did make you member, let me check</div>
<div class="line">[Thursday 24 March 2011] [08:32:59] &lt;pieterh&gt; s/rfc/api/</div>
<div class="line">[Thursday 24 March 2011] [08:33:01] &lt;mikko-_&gt; it uses pieterh user</div>
<div class="line">[Thursday 24 March 2011] [08:33:21] &lt;pieterh&gt; you should be using your own API key by now  :-)</div>
<div class="line">[Thursday 24 March 2011] [08:33:27] &lt;pieterh&gt; you were authorized ages ago</div>
<div class="line">[Thursday 24 March 2011] [08:33:32] &lt;mikko-_&gt; oh, ok</div>
<div class="line">[Thursday 24 March 2011] [08:33:39] &lt;pieterh&gt; mine changed, old one is no longer valid</div>
<div class="line">[Thursday 24 March 2011] [08:33:39] &lt;mikko-_&gt; will check that this evening</div>
<div class="line">[Thursday 24 March 2011] [08:33:50] &lt;mikko-_&gt; good</div>
<div class="line">[Thursday 24 March 2011] [08:34:07] &lt;pieterh&gt; what&#8217;s your wikidot user id?</div>
<div class="line">[Thursday 24 March 2011] [08:34:13] &lt;pieterh&gt; i need to make you member of the site</div>
<div class="line">[Thursday 24 March 2011] [08:34:35] &lt;pieterh&gt; mkoppanen, I assume, you&#8217;re invited</div>
<div class="line">[Thursday 24 March 2011] [08:34:51] &lt;pieterh&gt; you were already invited, mikko :-)</div>
<div class="line">[Thursday 24 March 2011] [08:35:32] &lt;pieterh&gt; accept the invite, grab your own API key, fix your environment, and it&#8217;ll work</div>
<div class="line">[Thursday 24 March 2011] [08:36:07] &lt;pieterh&gt; meanwhile I&#8217;ll update that site for 2.1.3</div>
<div class="line">[Thursday 24 March 2011] [08:53:00] &lt;Guthur&gt;  pieterh: actually in relation to clrzmq2 packaging, there is something called NuGet</div>
<div class="line">[Thursday 24 March 2011] [08:53:09] &lt;Guthur&gt;  which I think is something similar to Maven</div>
<div class="line">[Thursday 24 March 2011] [08:53:25] &lt;pieterh&gt; Guthur tries to confuse pieterh by throwing random words at him</div>
<div class="line">[Thursday 24 March 2011] [08:53:45] &lt;Guthur&gt;  similiar to ANT with dependency repo management</div>
<div class="line">[Thursday 24 March 2011] [08:53:46]    * pieterh is suitably confused, rolls 5 &#8220;Go to Google&#8221;</div>
<div class="line">[Thursday 24 March 2011] [08:53:53] &lt;private_meta&gt;    This is great</div>
<div class="line">[Thursday 24 March 2011] [08:54:04] &lt;Guthur&gt;  hehe I was just trying to confuse you more with that last one</div>
<div class="line">[Thursday 24 March 2011] [08:54:05] &lt;private_meta&gt;    I have VirtualBox Virtual Machines running on Windows</div>
<div class="line">[Thursday 24 March 2011] [08:54:23] &lt;pieterh&gt; private_meta: VirtualBox is really useful, indeed</div>
<div class="line">[Thursday 24 March 2011] [08:54:24] &lt;private_meta&gt;    As soon as I pull up the Microsoft VirtualPC Settings dialog, every VirtualBox Machine crashes</div>
<div class="line">[Thursday 24 March 2011] [08:54:27] &lt;Guthur&gt;  private_meta: I go the other way round VM windows on Linux, heeh</div>
<div class="line">[Thursday 24 March 2011] [08:54:32] &lt;pieterh&gt; oh, lol</div>
<div class="line">[Thursday 24 March 2011] [08:54:44] &lt;pieterh&gt; VirtualPC has the VirtualBox killer option enabled!</div>
<div class="line">[Thursday 24 March 2011] [08:54:46] &lt;private_meta&gt;    great, isn&#8217;t it?</div>
<div class="line">[Thursday 24 March 2011] [08:55:06] &lt;Guthur&gt;  Virtual Box is pretty neat</div>
<div class="line">[Thursday 24 March 2011] [08:55:28] &lt;pieterh&gt; it is, indeed... I used it to install a Windows iTunes to reformat my old iPod so I could use that under Ubuntu...</div>
<div class="line">[Thursday 24 March 2011] [08:55:30]    * Guthur worries about what Oracle might do with all the free stuff they now own</div>
<div class="line">[Thursday 24 March 2011] [08:55:31] &lt;private_meta&gt;    It has it&#8217;s disadvantages, but there is only so much choice you have if you go the gratis way</div>
<div class="line">[Thursday 24 March 2011] [08:55:48] &lt;Guthur&gt;  oracle is not renowned for their generosity</div>
<div class="line">[Thursday 24 March 2011] [08:55:57] &lt;private_meta&gt;    Not really, no</div>
<div class="line">[Thursday 24 March 2011] [08:56:01] &lt;pieterh&gt; Guthur: the GPL doesn&#8217;t depend on generosity...</div>
<div class="line">[Thursday 24 March 2011] [08:56:34] &lt;private_meta&gt;    That&#8217;s not the problem imho</div>
<div class="line">[Thursday 24 March 2011] [08:57:03] &lt;private_meta&gt;    Oracle owns the majority of the developers working on VirtualBox</div>
<div class="line">[Thursday 24 March 2011] [08:57:11] &lt;private_meta&gt;    That means, whatever they want in, they can put in</div>
<div class="line">[Thursday 24 March 2011] [08:57:17] &lt;private_meta&gt;    Same with Java or OpenOffice</div>
<div class="line">[Thursday 24 March 2011] [08:57:29] &lt;private_meta&gt;    Now, as seen with OpenOffice, the only way to go against that would be a fork</div>
<div class="line">[Thursday 24 March 2011] [08:57:34] &lt;private_meta&gt;    and that&#8217;s never an ideal solution</div>
<div class="line">[Thursday 24 March 2011] [08:57:57] &lt;pieterh&gt; I doubt Oracle is worse than, say, IBM, who have lots of people working on Apache projects</div>
<div class="line">[Thursday 24 March 2011] [08:58:20] &lt;pieterh&gt; Oracle will happily do what IBM does, use free software to hurt competitors</div>
<div class="line">[Thursday 24 March 2011] [08:59:35] &lt;private_meta&gt;    The good/bad thing about doubt is that it&#8217;s not the same thing as proof</div>
<div class="line">[Thursday 24 March 2011] [09:00:08] &lt;pieterh&gt; well, Sun weren&#8217;t particularly great with FOSS either</div>
<div class="line">[Thursday 24 March 2011] [09:00:27] &lt;pieterh&gt; shrug, there is no certainty in life, and that&#8217;s probably a good thing</div>
<div class="line">[Thursday 24 March 2011] [09:01:28] &lt;private_meta&gt;    Well, seeing it in a different way, when you analyze evolution, and you think about mutation, it&#8217;s not always the &#8220;better&#8221; solution that survives</div>
<div class="line">[Thursday 24 March 2011] [09:01:36] &lt;private_meta&gt;    it&#8217;s the stronger one...</div>
<div class="line">[Thursday 24 March 2011] [09:01:49] &lt;private_meta&gt;    Oracle might be stronger, doesn&#8217;t mean it&#8217;s better for everyone</div>
<div class="line">[Thursday 24 March 2011] [09:01:54] &lt;pieterh&gt; private_meta: actually, by the very definition of selection, it is always the better one... :-)</div>
<div class="line">[Thursday 24 March 2011] [09:02:16] &lt;pieterh&gt; but business is not evolutionary, really</div>
<div class="line">[Thursday 24 March 2011] [09:02:25] &lt;private_meta&gt;    in some way it is</div>
<div class="line">[Thursday 24 March 2011] [09:02:28] &lt;pieterh&gt; well, actually yes, it is</div>
<div class="line">[Thursday 24 March 2011] [09:02:37] &lt;pieterh&gt; and large firms are like large predators</div>
<div class="line">[Thursday 24 March 2011] [09:02:38] &lt;private_meta&gt;    it&#8217;s just a redefinition of &#8220;better&#8221;</div>
<div class="line">[Thursday 24 March 2011] [09:02:42] &lt;pieterh&gt; yes, precisely</div>
<div class="line">[Thursday 24 March 2011] [09:03:08] &lt;pieterh&gt; large firms can be extraordinarily greedy, damaging, etc. but they are also slow, stupid, cautious</div>
<div class="line">[Thursday 24 March 2011] [09:03:28] &lt;Guthur&gt;  0MQ is better, so we win, hehe</div>
<div class="line">[Thursday 24 March 2011] [09:03:51] &lt;pieterh&gt; 100 genius brains, sitting in a corporate office, cannot compete with 100 happy brains, organized freely</div>
<div class="line">[Thursday 24 March 2011] [09:04:04] &lt;pieterh&gt; we&#8217;re better, therefore 0MQ is better</div>
<div class="line">[Thursday 24 March 2011] [09:04:44] &lt;stimpie&gt; if we find out why my application gets slow when using inproc to communicate between java threads</div>
<div class="line">[Thursday 24 March 2011] [09:05:00] &lt;pieterh&gt; stimpie: how are you measuring it?</div>
<div class="line">[Thursday 24 March 2011] [09:06:23]    * private_meta imagines 100 happy Forrest Gumps sitting in front of computers</div>
<div class="line">[Thursday 24 March 2011] [09:06:31] &lt;stimpie&gt; systems with network: p-&gt; b -&gt;s    where b uses a thread to receivce tcp and an inproc socket to sent to another thread</div>
<div class="line">[Thursday 24 March 2011] [09:06:58] &lt;stimpie&gt; when b is a single thread I get 200k m/s</div>
<div class="line">[Thursday 24 March 2011] [09:07:16] &lt;stimpie&gt; adding a dispatcher to another thread drops speed to 70k m/s</div>
<div class="line">[Thursday 24 March 2011] [09:07:43] &lt;stimpie&gt; I would expect the performance penalty in througput would be almost zero</div>
<div class="line">[Thursday 24 March 2011] [09:08:22] &lt;pieterh&gt; stimpie: how many cores are you running on?</div>
<div class="line">[Thursday 24 March 2011] [09:08:44] &lt;pieterh&gt; private_meta: <a class="reference external" href="http://www.devilswiki.com/wiki:collective-intelligence">http://www.devilswiki.com/wiki:collective-intelligence</a></div>
<div class="line">[Thursday 24 March 2011] [09:08:53] &lt;stimpie&gt; 8 available 3 are used</div>
<div class="line">[Thursday 24 March 2011] [09:09:32] &lt;pieterh&gt; do you see a CPU usage increase?</div>
<div class="line">[Thursday 24 March 2011] [09:09:44] &lt;pieterh&gt; there are two possible causes, IMO</div>
<div class="line">[Thursday 24 March 2011] [09:09:57] &lt;pieterh&gt; a. actually doing extra work, e.g. recoding messages</div>
<div class="line">[Thursday 24 March 2011] [09:10:12] &lt;pieterh&gt; b. round-tripping, i.e. doing req/rep on each message</div>
<div class="line">[Thursday 24 March 2011] [09:12:13] &lt;stimpie&gt; extra work is minimal, all sockets are XREP</div>
<div class="line">[Thursday 24 March 2011] [09:12:27] &lt;pieterh&gt; no acknowledgments?</div>
<div class="line">[Thursday 24 March 2011] [09:12:37] &lt;stimpie&gt; none</div>
<div class="line">[Thursday 24 March 2011] [09:12:52] &lt;stimpie&gt; iam sending and receiving on a single socket</div>
<div class="line">[Thursday 24 March 2011] [09:13:02] &lt;stimpie&gt; could that cause some race condition?</div>
<div class="line">[Thursday 24 March 2011] [09:13:05] &lt;pieterh&gt; hmm, interesting. So do you see CPU usage or memory usage going up?</div>
<div class="line">[Thursday 24 March 2011] [09:14:12] &lt;pieterh&gt; presumably messages queues will back up and memory use will increase</div>
<div class="line">[Thursday 24 March 2011] [09:14:41] &lt;pieterh&gt; sounds like something in the Java binding... I&#8217;ve not played much with that</div>
<div class="line">[Thursday 24 March 2011] [09:15:47] &lt;sustrik&gt; if you are sending and receiving on the same socket from different threads, that can result in race condition</div>
<div class="line">[Thursday 24 March 2011] [09:17:27] &lt;stimpie&gt; cpu usage is ~230% memory usages appears to keep increasing</div>
<div class="line">[Thursday 24 March 2011] [09:17:48] &lt;pieterh&gt; stimpie: are you using the same socket from more than one thread?</div>
<div class="line">[Thursday 24 March 2011] [09:18:13] &lt;stimpie&gt; one sockets sends to multiple threads</div>
<div class="line">[Thursday 24 March 2011] [09:18:22] &lt;stimpie&gt; each thread has his own socket</div>
<div class="line">[Thursday 24 March 2011] [09:18:44] &lt;pieterh&gt; something is doing a <em>lot</em> of work... how large are these messages?</div>
<div class="line">[Thursday 24 March 2011] [09:19:06] &lt;stimpie&gt; message size is about 40 bytes,  I will try using 2 sockets, one for sending one for receiving</div>
<div class="line">[Thursday 24 March 2011] [09:19:17] &lt;pieterh&gt; that won&#8217;t help IMO</div>
<div class="line">[Thursday 24 March 2011] [09:19:51] &lt;pieterh&gt; stimpie: even your single thread case is abnormally slow</div>
<div class="line">[Thursday 24 March 2011] [09:19:59] &lt;pieterh&gt; 200K per second is not what you&#8217;d expect</div>
<div class="line">[Thursday 24 March 2011] [09:20:36] &lt;pieterh&gt; best approach IMO would be to verify Java binding performance with a simple test case</div>
<div class="line">[Thursday 24 March 2011] [09:21:23] &lt;pieterh&gt; two threads, send messages from A to B over inproc</div>
<div class="line">[Thursday 24 March 2011] [09:21:54] &lt;stimpie&gt; oke let me write something, just a sec</div>
<div class="line">[Thursday 24 March 2011] [09:22:05] &lt;pieterh&gt; problem can be in 3 layers, libzmq, jzmq, or your code</div>
<div class="line">[Thursday 24 March 2011] [09:22:22] &lt;pieterh&gt; this test should tell us what layer is guilty</div>
<div class="line">[Thursday 24 March 2011] [10:02:18] &lt;stimpie&gt; while(true) send();  //is not nice on inproc</div>
<div class="line">[Thursday 24 March 2011] [10:02:45] &lt;stimpie&gt; duration: 1961.39 ms, messages:1000000, speed: 509842.88 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:02:58] &lt;stimpie&gt; xrep inproc-&gt;xrep inproc</div>
<div class="line">[Thursday 24 March 2011] [10:07:10] &lt;stimpie&gt; ps. this is on my &#8216;slow&#8217; laptop</div>
<div class="line">[Thursday 24 March 2011] [10:13:01] &lt;stimpie&gt; my test for 2way messages appears to deadlock, see <a class="reference external" href="http://pastebin.com/K20P6YhZ">http://pastebin.com/K20P6YhZ</a></div>
<div class="line">[Thursday 24 March 2011] [10:14:06] &lt;stimpie&gt; aha my mistake</div>
<div class="line">[Thursday 24 March 2011] [10:16:42] &lt;stimpie&gt; performance on with a 2 way ping-pong</div>
<div class="line">[Thursday 24 March 2011] [10:16:43] &lt;stimpie&gt; duration: 3871.77 ms, messages:100000, speed: 25827.98 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:21:45] &lt;sustrik&gt; what&#8217;s wrong with that?</div>
<div class="line">[Thursday 24 March 2011] [10:22:00] &lt;stimpie&gt; nothing</div>
<div class="line">[Thursday 24 March 2011] [10:22:10] &lt;stimpie&gt; 2 threads both sending and receiving 1M messages (not interleaved)</div>
<div class="line">[Thursday 24 March 2011] [10:22:12] &lt;stimpie&gt; duration: 531.86 ms, messages:100000, speed: 188020.73 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:22:14] &lt;sustrik&gt; is it 25k rountrips/sec</div>
<div class="line">[Thursday 24 March 2011] [10:22:16] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [10:22:21] &lt;stimpie&gt; yes roundtrips</div>
<div class="line">[Thursday 24 March 2011] [10:22:30] &lt;sustrik&gt; that&#8217;s 40us per roundrip</div>
<div class="line">[Thursday 24 March 2011] [10:22:34] &lt;sustrik&gt; i.e. 20us single-way</div>
<div class="line">[Thursday 24 March 2011] [10:22:51] &lt;pieterh&gt; stimpie: you said you weren&#8217;t doing round trips in your application</div>
<div class="line">[Thursday 24 March 2011] [10:22:51] &lt;sustrik&gt; that sounds reasonable, given that JNI and java is on the stack</div>
<div class="line">[Thursday 24 March 2011] [10:23:48] &lt;stimpie&gt; pieterh, its just a test case</div>
<div class="line">[Thursday 24 March 2011] [10:24:12] &lt;pieterh&gt; sure, but we want a test case that simulates the basic flow you&#8217;re using</div>
<div class="line">[Thursday 24 March 2011] [10:24:19] &lt;stimpie&gt; so far everything appears fine with jzmq+zmq</div>
<div class="line">[Thursday 24 March 2011] [10:24:24] &lt;pieterh&gt; i.e. xrep to xrep over inproc, one-way</div>
<div class="line">[Thursday 24 March 2011] [10:24:58] &lt;pieterh&gt; hang on, you did that, 509K/sec...</div>
<div class="line">[Thursday 24 March 2011] [10:25:09] &lt;pieterh&gt; and 188k send/recv...</div>
<div class="line">[Thursday 24 March 2011] [10:25:52] &lt;pieterh&gt; IMO there&#8217;s something with the Java threading</div>
<div class="line">[Thursday 24 March 2011] [10:25:57] &lt;stimpie&gt; the send/recv should be double its only measured on 1 side</div>
<div class="line">[Thursday 24 March 2011] [10:28:45] &lt;stimpie&gt; I do believe my setup with a client -&gt; dispatcher -&gt; thread -&gt; dispatcher -&gt; client  should not use one socket to connect thread and dispatcher</div>
<div class="line">[Thursday 24 March 2011] [10:29:44] &lt;stimpie&gt; probably I should run each dispatcher in his own thread</div>
<div class="line">[Thursday 24 March 2011] [10:30:14] &lt;stimpie&gt; that should give a flow of ~500K m/s</div>
<div class="line">[Thursday 24 March 2011] [10:32:36] &lt;pieterh&gt; looks like that&#8217;s the jzmq limit per thread, on your &#8216;slow&#8217; machine</div>
<div class="line">[Thursday 24 March 2011] [10:38:42] &lt;mato&gt;    mikko-_: hi</div>
<div class="line">[Thursday 24 March 2011] [10:39:04] &lt;mato&gt;    actually, more a question for pieterh</div>
<div class="line">[Thursday 24 March 2011] [10:39:15] &lt;pieterh&gt; mato: shoot</div>
<div class="line">[Thursday 24 March 2011] [10:39:47] &lt;mato&gt;    pieterh: how soon until 2.1.4? i can either arm-twist the debian build to work with 2.1.3 or wait for 2.1.4 (re the openpgm thread)</div>
<div class="line">[Thursday 24 March 2011] [10:40:24] &lt;pieterh&gt; I can make 2.1.4 this weekend, I&#8217;d like to wait a day or two for more feedback on use</div>
<div class="line">[Thursday 24 March 2011] [10:40:35] &lt;mato&gt;    ok, fine</div>
<div class="line">[Thursday 24 March 2011] [10:40:48] &lt;pieterh&gt; if you are blocked by this, I can make it sooner, or give you a preview</div>
<div class="line">[Thursday 24 March 2011] [10:40:58] &lt;pieterh&gt; but you need an official package, don&#8217;t you</div>
<div class="line">[Thursday 24 March 2011] [10:41:03] &lt;mato&gt;    pretty much</div>
<div class="line">[Thursday 24 March 2011] [10:41:16] &lt;mato&gt;    don&#8217;t worry about it, it can wait till the weekend</div>
<div class="line">[Thursday 24 March 2011] [10:41:48] &lt;pieterh&gt; ok, that&#8217;ll work then</div>
<div class="line">[Thursday 24 March 2011] [10:41:55] &lt;mato&gt;    but, i need to test the fixes. so, if i want &#8220;what will become 2.1.4&#8221;, that is in zeromq2-1.git ?</div>
<div class="line">[Thursday 24 March 2011] [10:42:11] &lt;pieterh&gt; yes, the 2-1 git is the to-be-released 2.1.4</div>
<div class="line">[Thursday 24 March 2011] [10:42:23] &lt;pieterh&gt; master branch, no surprises</div>
<div class="line">[Thursday 24 March 2011] [10:42:28] &lt;mato&gt;    good,m so i can do make dist myself from that to test things</div>
<div class="line">[Thursday 24 March 2011] [10:42:33] &lt;pieterh&gt; exactly</div>
<div class="line">[Thursday 24 March 2011] [10:42:48] &lt;pieterh&gt; I noticed dist also makes zip files, that&#8217;s nice</div>
<div class="line">[Thursday 24 March 2011] [10:42:59] &lt;pieterh&gt; I&#8217;d like to do that in zapi and zfl too...</div>
<div class="line">[Thursday 24 March 2011] [10:43:24] &lt;mato&gt;    just copy what libzmq does</div>
<div class="line">[Thursday 24 March 2011] [10:43:39] &lt;pieterh&gt; yup, will do</div>
<div class="line">[Thursday 24 March 2011] [10:47:35] &lt;stimpie&gt; my &#8216;faster&#8217; machine gets the following perfomance on inproc  duration: 12681.44 ms, messages:10000000, speed: 788554.25 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:48:18] &lt;stimpie&gt; considering I got over 2M with tcp its still quite slow</div>
<div class="line">[Thursday 24 March 2011] [10:57:02] &lt;private_meta&gt;    788km/sec... that&#8217;s almost twice as fast as the earths rotational speed!</div>
<div class="line">[Thursday 24 March 2011] [10:57:29] &lt;private_meta&gt;    oh wait</div>
<div class="line">[Thursday 24 March 2011] [10:57:31] &lt;private_meta&gt;    way more</div>
<div class="line">[Thursday 24 March 2011] [10:57:36] &lt;private_meta&gt;    spinning out of control</div>
<div class="line">[Thursday 24 March 2011] [10:58:38] &lt;stimpie&gt; it would save nasa some money ;-)</div>
<div class="line">[Thursday 24 March 2011] [11:02:27] &lt;sustrik&gt; stimpie: iirc JNI locks a mutex for each call</div>
<div class="line">[Thursday 24 March 2011] [11:02:48] &lt;sustrik&gt; which could account for limiting number of calls per sec to below 1M</div>
<div class="line">[Thursday 24 March 2011] [11:05:47] &lt;SurfaceTension&gt;  Does anybody have an approximate object code size for ARM Thumb?</div>
<div class="line">[Thursday 24 March 2011] [11:12:07] &lt;private_meta&gt;    hmpf... it&#8217;s difficult to find the problem with the paranoid pirate/zmsg problem</div>
<div class="line">[Thursday 24 March 2011] [11:13:12] &lt;mato&gt;    pieterh: ok, 2.1.4 git fixes my problem but still has a couple of problems with openpgm integration, have reported those on the ML</div>
<div class="line">[Thursday 24 March 2011] [11:15:26] &lt;sustrik&gt; mato: also notice that pre-compiled devices were removed</div>
<div class="line">[Thursday 24 March 2011] [11:15:38] &lt;mato&gt;    sustrik: yes, i have already noticed</div>
<div class="line">[Thursday 24 March 2011] [11:15:44] &lt;mato&gt;    sustrik: thx</div>
<div class="line">[Thursday 24 March 2011] [11:15:46] &lt;sustrik&gt; which means some functionality will actually disappear after installing new package</div>
<div class="line">[Thursday 24 March 2011] [11:15:52] &lt;mato&gt;    yes, i know</div>
<div class="line">[Thursday 24 March 2011] [11:15:55] &lt;mato&gt;    not up to me</div>
<div class="line">[Thursday 24 March 2011] [11:16:00] &lt;sustrik&gt; no idea what process debian uses for that kind of thing</div>
<div class="line">[Thursday 24 March 2011] [11:16:05] &lt;mato&gt;    actually, it won&#8217;t disappear in debian</div>
<div class="line">[Thursday 24 March 2011] [11:16:21] &lt;sustrik&gt; heh</div>
<div class="line">[Thursday 24 March 2011] [11:16:39] &lt;mato&gt;    you&#8217;ll just get the 2.0.x devices staying installed if you installed them in the 1st place</div>
<div class="line">[Thursday 24 March 2011] [11:16:56] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [11:17:35] &lt;mato&gt;    i.e. after upgrading to 2.1.x you will get libzmq0 (2.0.10) zeromq-bin (2.0.10) libzmq1 (2.1.x) and libzmq-dev (2.1.x) installed</div>
<div class="line">[Thursday 24 March 2011] [11:18:31] &lt;mato&gt;    which may confuse some people, in which case i will cheerfully pass on said people to the upstream maintainer :-)</div>
<div class="line">[Thursday 24 March 2011] [11:19:58] &lt;mato&gt;    hmm.</div>
<div class="line">[Thursday 24 March 2011] [11:20:08] &lt;mato&gt;    sustrik: i&#8217;m just thinking, about those devices</div>
<div class="line">[Thursday 24 March 2011] [11:20:32] &lt;mato&gt;    sustrik: d&#8217;you think i should force their removal?</div>
<div class="line">[Thursday 24 March 2011] [11:20:59] &lt;sustrik&gt; mato: no idea</div>
<div class="line">[Thursday 24 March 2011] [11:21:43] &lt;sustrik&gt; i would say the minor upgrade shouldn&#8217;t break backward compatibility</div>
<div class="line">[Thursday 24 March 2011] [11:21:51] &lt;sustrik&gt; but it&#8217;s too late for that</div>
<div class="line">[Thursday 24 March 2011] [11:22:10] &lt;sustrik&gt; hm, presumably, leaving the old devices there would be better</div>
<div class="line">[Thursday 24 March 2011] [11:22:27] &lt;sustrik&gt; at least the things won&#8217;t stop working after upgrade</div>
<div class="line">[Thursday 24 March 2011] [11:22:45] &lt;mato&gt;    yes, except that they won&#8217;t talk to 2.1 applications anyway</div>
<div class="line">[Thursday 24 March 2011] [11:22:50] &lt;mato&gt;    (wire protocol change)</div>
<div class="line">[Thursday 24 March 2011] [11:23:10] &lt;mato&gt;    i&#8217;ll ask the debian people i&#8217;m working with</div>
<div class="line">[Thursday 24 March 2011] [11:23:19] &lt;sustrik&gt; ah, the last debian release was 2.0, right?</div>
<div class="line">[Thursday 24 March 2011] [11:23:27] &lt;mato&gt;    yup.</div>
<div class="line">[Thursday 24 March 2011] [11:23:30] &lt;mikko-_&gt; mato: i will look at the two issues you mentioned</div>
<div class="line">[Thursday 24 March 2011] [11:23:34] &lt;sustrik&gt; then delete the devices</div>
<div class="line">[Thursday 24 March 2011] [11:23:53] &lt;sustrik&gt; missing executable is pretty obvious</div>
<div class="line">[Thursday 24 March 2011] [11:24:06] &lt;sustrik&gt; incompatible wire format is hard to detect</div>
<div class="line">[Thursday 24 March 2011] [11:24:25] &lt;mato&gt;    sustrik: precisely</div>
<div class="line">[Thursday 24 March 2011] [11:24:39] &lt;mato&gt;    sustrik: ok i&#8217;ll see if there&#8217;s a way to do that</div>
<div class="line">[Thursday 24 March 2011] [11:24:53] &lt;mato&gt;    mikko-_: thanks!</div>
<div class="line">[Thursday 24 March 2011] [11:25:17] &lt;mikko-_&gt; mato: the linking issue im not sure how that will work</div>
<div class="line">[Thursday 24 March 2011] [11:25:35] &lt;mikko-_&gt; might not have time today as i got leaving drinks tonight</div>
<div class="line">[Thursday 24 March 2011] [11:25:48] &lt;mato&gt;    mikko-_: well, i used to do it by building openpgm with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:26:07] &lt;mato&gt;    mikko-_: we should be able to do that with the current system, no?</div>
<div class="line">[Thursday 24 March 2011] [11:26:13] &lt;mikko-_&gt; mato: i thought that openpgm builds with visibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:27:32] &lt;mikko-_&gt; but i&#8217;ll get into this at some point today or tomorrow</div>
<div class="line">[Thursday 24 March 2011] [11:27:39] &lt;mato&gt;    mikko-_: IIRC what it does is use __attribute__ internally in the code</div>
<div class="line">[Thursday 24 March 2011] [11:27:54] &lt;mato&gt;    mikko-_: but what we need is for it to hide the API symbols as well</div>
<div class="line">[Thursday 24 March 2011] [11:28:17] &lt;mato&gt;    mikko-_: and I managed to override that by forcing it to build with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:28:28] &lt;mato&gt;    mikko-_: back in the day...</div>
<div class="line">[Thursday 24 March 2011] [11:29:39] &lt;mikko-_&gt; roughly what happens at the moment:</div>
<div class="line">[Thursday 24 March 2011] [11:29:54] &lt;mikko-_&gt; zeromq build invokes openpgm build and they build a libtool convenience library</div>
<div class="line">[Thursday 24 March 2011] [11:30:03] &lt;mikko-_&gt; which contains the built objects</div>
<div class="line">[Thursday 24 March 2011] [11:30:09] &lt;mikko-_&gt; called libpgm_noinsta.la</div>
<div class="line">[Thursday 24 March 2011] [11:30:18] &lt;mikko-_&gt; libpgm_noinst.la</div>
<div class="line">[Thursday 24 March 2011] [11:30:54] &lt;mikko-_&gt; and that libtool archive is added with libzmq_la_LIBADD</div>
<div class="line">[Thursday 24 March 2011] [11:31:08] &lt;mato&gt;    ignoring the libtool bit, that libpgm_noinst.la is essentially a static library archive, right?</div>
<div class="line">[Thursday 24 March 2011] [11:31:52] &lt;mikko-_&gt; essentially yes</div>
<div class="line">[Thursday 24 March 2011] [11:32:05] &lt;mato&gt;    and AC_CONIFG_SUBDIRS(...) is what invokes the OpenPGM configure?</div>
<div class="line">[Thursday 24 March 2011] [11:33:43] &lt;mikko-_&gt; it&#8217;s collection of the built objects</div>
<div class="line">[Thursday 24 March 2011] [11:33:50] &lt;mikko-_&gt; yes</div>
<div class="line">[Thursday 24 March 2011] [11:34:15] &lt;mato&gt;    ok, problem is i see no way to pass e.g. CFLAGS to AC_CONFIG_SUBDIRS</div>
<div class="line">[Thursday 24 March 2011] [11:34:35] &lt;mikko-_&gt; mato: if you look at <a class="reference external" href="http://openpgm.googlecode.com/svn/trunk/openpgm/pgm/configure.ac">http://openpgm.googlecode.com/svn/trunk/openpgm/pgm/configure.ac</a></div>
<div class="line">[Thursday 24 March 2011] [11:34:37] &lt;mato&gt;    or options, or anything</div>
<div class="line">[Thursday 24 March 2011] [11:34:51] &lt;mikko-_&gt; they are detecting visibility</div>
<div class="line">[Thursday 24 March 2011] [11:35:01] &lt;mikko-_&gt; CFLAGS are passed down from parent</div>
<div class="line">[Thursday 24 March 2011] [11:35:21] &lt;mikko-_&gt; CFLAGS=&#8217;-xyz&#8217; ./configure in zeromq build passes those down to openpgm build</div>
<div class="line">[Thursday 24 March 2011] [11:35:34] &lt;mato&gt;    mikko-_: yes, but openpgm deals with visibility differently than zmq</div>
<div class="line">[Thursday 24 March 2011] [11:36:03] &lt;mato&gt;    mikko-_: zmq uses the &#8220;<a href="#id39"><span class="problematic" id="id40">*</span></a>everything is hidden&#8221; approach</div>
<div class="line">[Thursday 24 March 2011] [11:36:14] &lt;mikko-_&gt; CFLAGS should be safe to modify even within zeromq build as that should not be used anywhere</div>
<div class="line">[Thursday 24 March 2011] [11:36:22] &lt;mikko-_&gt; CXXFLAGS and CPPFLAGS for zeromq</div>
<div class="line">[Thursday 24 March 2011] [11:36:34] &lt;mikko-_&gt; as the source is c++</div>
<div class="line">[Thursday 24 March 2011] [11:36:34] &lt;sustrik&gt; mato: btw, how do i remove an outdated topic branch from github?</div>
<div class="line">[Thursday 24 March 2011] [11:36:50] &lt;mato&gt;    pgm uses default visibility, and defines PGM_GNUC_INTERNAL to use __attribute__ ((visibility(&#8220;hidden&#8221;))</div>
<div class="line">[Thursday 24 March 2011] [11:37:13] &lt;mato&gt;    which means if the default is set to hidden with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:37:27] &lt;mato&gt;    then the pgm api symbols will disappear from the library</div>
<div class="line">[Thursday 24 March 2011] [11:37:58] &lt;mato&gt;    sustrik: git push origin :&lt;branch name&gt; i think</div>
<div class="line">[Thursday 24 March 2011] [11:38:13] &lt;sustrik&gt; the colon deletes the branch?</div>
<div class="line">[Thursday 24 March 2011] [11:38:17] &lt;sustrik&gt; strange</div>
<div class="line">[Thursday 24 March 2011] [11:38:18] &lt;sustrik&gt; thanks</div>
<div class="line">[Thursday 24 March 2011] [11:38:28] &lt;mato&gt;    yeah, it pushes an empty ref to it or something</div>
<div class="line">[Thursday 24 March 2011] [11:38:47] &lt;mato&gt;    deleting the remote branch via push is not the same as deleting a local branch...</div>
<div class="line">[Thursday 24 March 2011] [11:39:11] &lt;sustrik&gt; ok, np</div>
<div class="line">[Thursday 24 March 2011] [11:42:05] &lt;mato&gt;    mikko-_: in theory all that needs to be done is CFLAGS=-fvisibility=hidden for the PGM build</div>
<div class="line">[Thursday 24 March 2011] [11:42:24] &lt;mato&gt;    mikko-_: let me know if you can&#8217;t make it work</div>
<div class="line">[Thursday 24 March 2011] [11:42:38] &lt;mato&gt;    i have to go, am on a train and battery dying</div>
<div class="line">[Thursday 24 March 2011] [11:42:52] &lt;mikko-_&gt; mato: i will test as soon as i get a chance</div>
<div class="line">[Thursday 24 March 2011] [11:42:55] &lt;mikko-_&gt; wil let you know</div>
<div class="line">[Thursday 24 March 2011] [11:44:52] &lt;mato&gt;    ok, cyl</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rbc4a1ce 10/ (8 files in 4 dirs):</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: ZMQ_HWM split into ZMQ_SNDHWM and ZMQ_RCVHWM</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: These new options allow to control the maximum size of the</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: inbound and outbound message pipe separately.</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; (+17 more commits...) - <a class="reference external" href="http://bit.ly/gIsQa8">http://bit.ly/gIsQa8</a></div>
<div class="line">[Thursday 24 March 2011] [13:11:00] &lt;pieterh&gt; sustrik: random question</div>
<div class="line">[Thursday 24 March 2011] [13:11:06] &lt;sustrik&gt; yes?</div>
<div class="line">[Thursday 24 March 2011] [13:11:17] &lt;pieterh&gt; you&#8217;re working both on master and on the pre30 branch?</div>
<div class="line">[Thursday 24 March 2011] [13:11:26] &lt;sustrik&gt; it&#8217;s a topic branch</div>
<div class="line">[Thursday 24 March 2011] [13:11:42] &lt;pieterh&gt; is that a yes or a no?</div>
<div class="line">[Thursday 24 March 2011] [13:11:57] &lt;sustrik&gt; it&#8217;s like a transaction</div>
<div class="line">[Thursday 24 March 2011] [13:12:02] &lt;sustrik&gt; not to break the master</div>
<div class="line">[Thursday 24 March 2011] [13:12:08] &lt;pieterh&gt; e.g. ZMQ_HWM split, is on master or on pre30</div>
<div class="line">[Thursday 24 March 2011] [13:12:09] &lt;pieterh&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [13:12:10] &lt;sustrik&gt; the work is done on a branch</div>
<div class="line">[Thursday 24 March 2011] [13:12:19] &lt;sustrik&gt; then it can be pulled to master in one go</div>
<div class="line">[Thursday 24 March 2011] [13:12:25] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 24 March 2011] [13:13:01] &lt;sustrik&gt; on pre30</div>
<div class="line">[Thursday 24 March 2011] [13:13:02] &lt;pieterh&gt; I&#8217;ll rephrase: are you still making improvements to the master branch provisionally marked as 2.2.0?</div>
<div class="line">[Thursday 24 March 2011] [13:13:09] &lt;pieterh&gt; or is that frozen?</div>
<div class="line">[Thursday 24 March 2011] [13:13:23] &lt;sustrik&gt; 2.2 is frozen</div>
<div class="line">[Thursday 24 March 2011] [13:13:27] &lt;sustrik&gt; tou are free to use it</div>
<div class="line">[Thursday 24 March 2011] [13:13:30] &lt;sustrik&gt; you</div>
<div class="line">[Thursday 24 March 2011] [13:13:44] &lt;pieterh&gt; yes, that was my idea, to pull specific changes into that</div>
<div class="line">[Thursday 24 March 2011] [13:13:54] &lt;sustrik&gt; note that first patch to be pulled to master is version bump to 3.0</div>
<div class="line">[Thursday 24 March 2011] [13:14:04] &lt;pieterh&gt; hmm</div>
<div class="line">[Thursday 24 March 2011] [13:14:38] &lt;pieterh&gt; ok, let me create a 2.2 release git, then we can do the switch for 3.0</div>
<div class="line">[Thursday 24 March 2011] [13:14:55] &lt;pieterh&gt; there&#8217;s not much point using a topic branch for the 3.0 stuff IMO</div>
<div class="line">[Thursday 24 March 2011] [13:15:36] &lt;ptrb&gt;    mato: you around?</div>
<div class="line">[Thursday 24 March 2011] [13:15:37] &lt;pieterh&gt; I&#8217;d like to cherry pick some changes into 2.2, such as the HWM change</div>
<div class="line">[Thursday 24 March 2011] [13:15:49] &lt;sustrik&gt; sure, do so</div>
<div class="line">[Thursday 24 March 2011] [13:15:54] &lt;pieterh&gt; ack, going for it now</div>
<div class="line">[Thursday 24 March 2011] [13:16:05] &lt;sustrik&gt; i would wait for reviews at least</div>
<div class="line">[Thursday 24 March 2011] [13:16:19] &lt;sustrik&gt; otherwise you risk having conflictins with actual master</div>
<div class="line">[Thursday 24 March 2011] [13:16:57] &lt;pieterh&gt; how so?</div>
<div class="line">[Thursday 24 March 2011] [13:17:13] &lt;sustrik&gt; well, say someone complains about something in pre30</div>
<div class="line">[Thursday 24 March 2011] [13:17:17] &lt;sustrik&gt; it will be fixed</div>
<div class="line">[Thursday 24 March 2011] [13:17:35] &lt;sustrik&gt; and the fixed patch will be pulled to master</div>
<div class="line">[Thursday 24 March 2011] [13:17:46] &lt;sustrik&gt; then you have an incompatible version in 2.2</div>
<div class="line">[Thursday 24 March 2011] [13:17:57] &lt;sustrik&gt; and you have to reconcile the problem by hand</div>
<div class="line">[Thursday 24 March 2011] [13:18:11] &lt;pieterh&gt; sure... as long as you make atomic commits, it&#8217;ll be doable IMO</div>
<div class="line">[Thursday 24 March 2011] [13:18:20] &lt;sustrik&gt; ok,  it&#8217;s up to you</div>
<div class="line">[Thursday 24 March 2011] [13:18:21] &lt;pieterh&gt; at some point the structure of 3.0 will change too far</div>
<div class="line">[Thursday 24 March 2011] [13:18:33] &lt;pieterh&gt; but we&#8217;re not going to make big changes in 2.2, just tweaks</div>
<div class="line">[Thursday 24 March 2011] [13:19:13] &lt;pieterh&gt; we may not even need the 2.2 release but I&#8217;d rather be ready than have to try to make it later</div>
<div class="line">[Thursday 24 March 2011] [13:19:33] &lt;sustrik&gt; are you aware that the patch in question is backward incompatible?</div>
<div class="line">[Thursday 24 March 2011] [13:19:41] &lt;sustrik&gt; actually all the patches in pre30 are</div>
<div class="line">[Thursday 24 March 2011] [13:19:50] &lt;pieterh&gt; yes, indeed</div>
<div class="line">[Thursday 24 March 2011] [13:20:08] &lt;sustrik&gt; and that it breaks all the language bindings?</div>
<div class="line">[Thursday 24 March 2011] [13:20:14] &lt;pieterh&gt; my immediate reaction is, this patch adds value, is worth it</div>
<div class="line">[Thursday 24 March 2011] [13:20:31] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:20:52] &lt;pieterh&gt; I think each time we&#8217;ve asked binding authors this question, they&#8217;ve answered the same</div>
<div class="line">[Thursday 24 March 2011] [13:21:26] &lt;pieterh&gt; something like, &#8220;we&#8217;d rather get new useful functionality now, even if it means fixing up stuff&#8221;</div>
<div class="line">[Thursday 24 March 2011] [13:21:54] &lt;pieterh&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:22:09] &lt;cremes&gt;  as a bindings author, i agree with that quote</div>
<div class="line">[Thursday 24 March 2011] [13:22:46] &lt;pieterh&gt; cremes: thanks, I don&#8217;t like to speak for others</div>
<div class="line">[Thursday 24 March 2011] [13:24:19] &lt;sustrik&gt; cremes: it&#8217;s up to you obviously</div>
<div class="line">[Thursday 24 March 2011] [13:24:39] &lt;sustrik&gt; my point was that if bacward incompatible changes are to happen anytime</div>
<div class="line">[Thursday 24 March 2011] [13:24:49] &lt;sustrik&gt; the bindings end up as a mess of ifdefs</div>
<div class="line">[Thursday 24 March 2011] [13:24:55] &lt;cremes&gt;  since the library version is exposed via the zmq_* api, it&#8217;s pretty easy to turn things on/off at runtime</div>
<div class="line">[Thursday 24 March 2011] [13:25:21] &lt;cremes&gt;  i agree that with too many minor differences things could get ugly</div>
<div class="line">[Thursday 24 March 2011] [13:25:38] &lt;cremes&gt;  as a bindings author, i reserve the right to require minimum versions of the library</div>
<div class="line">[Thursday 24 March 2011] [13:25:49] &lt;cremes&gt;  so that i can keep those ifdefs to a manageable size</div>
<div class="line">[Thursday 24 March 2011] [13:26:52] &lt;cremes&gt;  btw, this weekend i plan to do a small test using cxxtest for writing unit tests for yqueue</div>
<div class="line">[Thursday 24 March 2011] [13:27:03] &lt;sustrik&gt; great</div>
<div class="line">[Thursday 24 March 2011] [13:27:11] &lt;cremes&gt;  i&#8217;m going to put that into a fork of the current master; i&#8217;ll fork it under my username chuckremes</div>
<div class="line">[Thursday 24 March 2011] [13:27:22] &lt;cremes&gt;  and point you guys to it when i get something working</div>
<div class="line">[Thursday 24 March 2011] [13:27:57] &lt;cremes&gt;  i want to just stick with ruby but i have an itch that can only be scratched by c++ apparently... ;)</div>
<div class="line">[Thursday 24 March 2011] [13:28:18] &lt;sustrik&gt; i think the tests unit tests have to be incorporated into the build system somehow ultimately</div>
<div class="line">[Thursday 24 March 2011] [13:28:51] &lt;pieterh&gt; sustrik: in zfl &amp; zapi we do this with &#8216;make check&#8217;, which runs a single main which runs all unit tests</div>
<div class="line">[Thursday 24 March 2011] [13:29:02] &lt;cremes&gt;  sustrik: that will be part of my experiment</div>
<div class="line">[Thursday 24 March 2011] [13:29:15] &lt;sustrik&gt; yes, something like tha</div>
<div class="line">[Thursday 24 March 2011] [13:29:15] &lt;cremes&gt;  the cxxtest readme has examples on how to include that in the build process</div>
<div class="line">[Thursday 24 March 2011] [13:29:17] &lt;sustrik&gt; that</div>
<div class="line">[Thursday 24 March 2011] [13:29:49] &lt;pieterh&gt; sustrik: ok, 2.2 is safely forked off, we can now play with the core repo...</div>
<div class="line">[Thursday 24 March 2011] [13:30:23] &lt;pieterh&gt; no hurry but I&#8217;d suggest we make and announce the rename when you&#8217;re comfortable with it</div>
<div class="line">[Thursday 24 March 2011] [13:31:42] &lt;sustrik&gt; have you done the test?</div>
<div class="line">[Thursday 24 March 2011] [13:31:53] &lt;sustrik&gt; does rename retain watchers</div>
<div class="line">[Thursday 24 March 2011] [13:31:54] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [13:32:10] &lt;sustrik&gt; do the forks map nicely to the renamed repo?</div>
<div class="line">[Thursday 24 March 2011] [13:32:42] &lt;pieterh&gt; let me run some tests in my own profile, then</div>
<div class="line">[Thursday 24 March 2011] [13:32:50] &lt;pieterh&gt; (good questions)</div>
<div class="line">[Thursday 24 March 2011] [13:32:57] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:33:03] &lt;sustrik&gt; if you need a watcher, ping me</div>
<div class="line">[Thursday 24 March 2011] [13:34:39] &lt;pieterh&gt; ok, can you watch <a class="reference external" href="https://github.com/pieterh/test">https://github.com/pieterh/test</a> ?</div>
<div class="line">[Thursday 24 March 2011] [13:34:53] &lt;pieterh&gt; and also fork it</div>
<div class="line">[Thursday 24 March 2011] [13:36:06] &lt;sustrik&gt; pieterh: done</div>
<div class="line">[Thursday 24 March 2011] [13:36:14] &lt;pieterh&gt; ok, I&#8217;ve also made a couple of forks...</div>
<div class="line">[Thursday 24 March 2011] [13:36:16] &lt;pieterh&gt; now renaming it...</div>
<div class="line">[Thursday 24 March 2011] [13:37:25] &lt;pieterh&gt; you watched it as &#8216;zeromq&#8217;?</div>
<div class="line">[Thursday 24 March 2011] [13:37:38] &lt;sustrik&gt; no idea</div>
<div class="line">[Thursday 24 March 2011] [13:37:43] &lt;pieterh&gt; oh snap, sorry</div>
<div class="line">[Thursday 24 March 2011] [13:37:49] &lt;pieterh&gt; I forked it, and then renamed the fork... :-)</div>
<div class="line">[Thursday 24 March 2011] [13:39:13] &lt;pieterh&gt; so it works, the repo is now called <a class="reference external" href="https://github.com/pieterh/libtest">https://github.com/pieterh/libtest</a></div>
<div class="line">[Thursday 24 March 2011] [13:39:25] &lt;pieterh&gt; watchers and forks shaken but still attached</div>
<div class="line">[Thursday 24 March 2011] [13:40:27] &lt;sustrik&gt; the &#8216;network&#8217; graph seems to be broken</div>
<div class="line">[Thursday 24 March 2011] [13:40:32] &lt;sustrik&gt; i don&#8217;t see you there</div>
<div class="line">[Thursday 24 March 2011] [13:41:12] &lt;pieterh&gt; it seemed broken before the rename, too</div>
<div class="line">[Thursday 24 March 2011] [13:41:18] &lt;pieterh&gt; only showed a single entry</div>
<div class="line">[Thursday 24 March 2011] [13:41:34] &lt;sustrik&gt; that&#8217;s ok as there was only a single entry</div>
<div class="line">[Thursday 24 March 2011] [13:41:40] &lt;sustrik&gt; what i&#8217;m seeing</div>
<div class="line">[Thursday 24 March 2011] [13:41:55] &lt;sustrik&gt; is that the fist commit you&#8217;ve made is under &#8216;sustrik&#8217;</div>
<div class="line">[Thursday 24 March 2011] [13:42:03] &lt;pieterh&gt; what repo?</div>
<div class="line">[Thursday 24 March 2011] [13:42:10] &lt;sustrik&gt; sustrik/test</div>
<div class="line">[Thursday 24 March 2011] [13:42:40] &lt;pieterh&gt; on my box the whole network viewer is buggy, shows no commits at all</div>
<div class="line">[Thursday 24 March 2011] [13:42:46] &lt;pieterh&gt; but the commit list is accurate</div>
<div class="line">[Thursday 24 March 2011] [13:43:12] &lt;sustrik&gt; yes, commits look ok</div>
<div class="line">[Thursday 24 March 2011] [13:43:28] &lt;pieterh&gt; I&#8217;ve no idea what this means, a github bug?</div>
<div class="line">[Thursday 24 March 2011] [13:43:35] &lt;sustrik&gt; no idea</div>
<div class="line">[Thursday 24 March 2011] [13:44:13] &lt;pieterh&gt; well, I&#8217;d suggest we go ahead with the rename, if the network appears broken afterwards we ask github to fix it</div>
<div class="line">[Thursday 24 March 2011] [13:44:30] &lt;pieterh&gt; but let&#8217;s wait a day or two until the new name is obvious</div>
<div class="line">[Thursday 24 March 2011] [13:44:58] &lt;pieterh&gt; libzmq is my preference right now</div>
<div class="line">[Thursday 24 March 2011] [13:45:11] &lt;pieterh&gt; but it&#8217;s your project, your call :-)</div>
<div class="line">[Thursday 24 March 2011] [13:45:29] &lt;sustrik&gt; i&#8217;ll give it a thought</div>
<div class="line">[Thursday 24 March 2011] [13:45:38] &lt;sustrik&gt; zeromq otoh would require less renaming</div>
<div class="line">[Thursday 24 March 2011] [13:45:54] &lt;sustrik&gt; ie. stable repos would stay as they are now</div>
<div class="line">[Thursday 24 March 2011] [13:46:13] &lt;pieterh&gt; indeed, it&#8217;s more consistent with that</div>
<div class="line">[Thursday 24 March 2011] [13:46:27] &lt;pieterh&gt; but if we start to make the release repos into distribution containers, that changes</div>
<div class="line">[Thursday 24 March 2011] [13:46:35] &lt;sustrik&gt; yes, i know</div>
<div class="line">[Thursday 24 March 2011] [13:46:46]    * pieterh goes back to preparing 2.2...</div>
<div class="line">[Thursday 24 March 2011] [13:52:54] &lt;klestes&gt; hullo, is anyone actively awake ?</div>
<div class="line">[Thursday 24 March 2011] [13:53:12] &lt;pieterh&gt; klestes: passively awake, here...</div>
<div class="line">[Thursday 24 March 2011] [13:53:20] &lt;klestes&gt; that&#8217;ll do :)</div>
<div class="line">[Thursday 24 March 2011] [13:53:25] &lt;pieterh&gt; what&#8217;s up?</div>
<div class="line">[Thursday 24 March 2011] [13:53:52] &lt;klestes&gt; sorry about my first patch.  I could have sworn I read somewhere that a 2.2 version wasn&#8217;t being pursued.</div>
<div class="line">[Thursday 24 March 2011] [13:54:04] &lt;pieterh&gt; we changed our minds...</div>
<div class="line">[Thursday 24 March 2011] [13:54:12] &lt;klestes&gt; D&#8217;oh!</div>
<div class="line">[Thursday 24 March 2011] [13:54:26] &lt;klestes&gt; oh well, back to the hacking boarrd =)</div>
<div class="line">[Thursday 24 March 2011] [13:55:00] &lt;klestes&gt; uhm, would minor spelling corrections to header files be a worthwile contribution ?</div>
<div class="line">[Thursday 24 March 2011] [13:57:19] &lt;pieterh&gt; depends how perfectionist the maintainer is, they may just find it annoying</div>
<div class="line">[Thursday 24 March 2011] [13:57:35] &lt;klestes&gt; reasonable.</div>
<div class="line">[Thursday 24 March 2011] [13:57:47] &lt;klestes&gt; also, on to the matter of LOAD BALANCING.</div>
<div class="line">[Thursday 24 March 2011] [13:58:16] &lt;klestes&gt; now, suppose I have a client talking to a server, a PUSH/PULL kinda relationship.</div>
<div class="line">[Thursday 24 March 2011] [13:58:41] &lt;klestes&gt; once I have these two chatting, I introduce a second client PULLing from the server as well.</div>
<div class="line">[Thursday 24 March 2011] [13:59:01] &lt;klestes&gt; my question is, upon introduction of the second client, will the load be balanced again ?</div>
<div class="line">[Thursday 24 March 2011] [14:03:19] &lt;klestes&gt; (oooh! FF6 is out !)</div>
<div class="line">[Thursday 24 March 2011] [14:03:53] &lt;klestes&gt; (sorry, bug in my FPU, thats FF4)</div>
<div class="line">[Thursday 24 March 2011] [14:08:12] &lt;sustrik&gt; patches to the spelling are acceptable</div>
<div class="line">[Thursday 24 March 2011] [14:09:02] &lt;sustrik&gt; the load already assigned to the first client won&#8217;t be re-balanced</div>
<div class="line">[Thursday 24 March 2011] [14:09:11] &lt;sustrik&gt; but new messages will be</div>
<div class="line">[Thursday 24 March 2011] [14:10:13] &lt;klestes&gt; ok, thats what I had thought the proper behavior should be.</div>
<div class="line">[Thursday 24 March 2011] [14:10:40] &lt;klestes&gt; where in the source is the load balancing mechanism ?</div>
<div class="line">[Thursday 24 March 2011] [14:14:53] &lt;cremes&gt;  sustrik: running a test using jemalloc and LD_PRELOAD on linux</div>
<div class="line">[Thursday 24 March 2011] [14:14:58] &lt;cremes&gt;  results look promising so far</div>
<div class="line">[Thursday 24 March 2011] [14:23:04] &lt;pieterh&gt; sustrik: actually there are some nice improvements in the 2.2 branch over 2.1...</div>
<div class="line">[Thursday 24 March 2011] [14:23:22] &lt;pieterh&gt; e.g. checking &amp;logging of duplicate identities...</div>
<div class="line">[Thursday 24 March 2011] [14:23:26] &lt;pieterh&gt; I&#8217;ll check them all</div>
<div class="line">[Thursday 24 March 2011] [14:25:51] &lt;cremes&gt;  pieterh: i have an open ticket on that duplicate identity commit; i get crashes with it</div>
<div class="line">[Thursday 24 March 2011] [14:26:06] &lt;pieterh&gt; cremes: ah, right...</div>
<div class="line">[Thursday 24 March 2011] [14:26:18] &lt;pieterh&gt; well, 2.2 is not going to be stable for a while, that&#8217;s OK</div>
<div class="line">[Thursday 24 March 2011] [14:26:37] &lt;cremes&gt;  true; hopefully i&#8217;ll be able to come up with a small repro</div>
<div class="line">[Thursday 24 March 2011] [14:27:51] &lt;Guthur&gt;  is 2.2 available?</div>
<div class="line">[Thursday 24 March 2011] [14:27:59] &lt;Guthur&gt;  is it the pgm stuff?</div>
<div class="line">[Thursday 24 March 2011] [14:28:03] &lt;pieterh&gt; Guthur: not yet, soon enough</div>
<div class="line">[Thursday 24 March 2011] [14:28:08] &lt;pieterh&gt; the pgm stuff is already in 2.1</div>
<div class="line">[Thursday 24 March 2011] [14:28:33] &lt;klestes&gt; can you not get 2.2 with git ?</div>
<div class="line">[Thursday 24 March 2011] [14:28:41] &lt;sustrik&gt; still missing in master :(</div>
<div class="line">[Thursday 24 March 2011] [14:28:56] &lt;pieterh&gt; sustrik: what&#8217;s missing in master?</div>
<div class="line">[Thursday 24 March 2011] [14:28:59] &lt;pieterh&gt; ah, yes</div>
<div class="line">[Thursday 24 March 2011] [14:29:01] &lt;sustrik&gt; jemalloc: let me know whether it helps</div>
<div class="line">[Thursday 24 March 2011] [14:29:24] &lt;pieterh&gt; sustrik, mikko is still working on making a patch, maybe he&#8217;s stuck, I&#8217;ll ask him... I know he&#8217;s real busy right now</div>
<div class="line">[Thursday 24 March 2011] [14:29:39] &lt;pieterh&gt; I&#8217;m applying those openpgm changes to 2.2, I&#8217;ll see if it works</div>
<div class="line">[Thursday 24 March 2011] [14:29:55] &lt;pieterh&gt; configure.in, Makefile.am, libpgm tarball, that&#8217;s it...</div>
<div class="line">[Thursday 24 March 2011] [14:38:45] &lt;Guthur&gt;  would it be possible to expose the subscription mechanism on SUB sockets, so that people could maybe add other models to replace the prefix one</div>
<div class="line">[Thursday 24 March 2011] [14:39:32] &lt;Guthur&gt;  this is in relation to 3.0</div>
<div class="line">[Thursday 24 March 2011] [14:47:04] &lt;pieterh&gt; Guthur: it&#8217;s a neat idea but probably quite difficult to make happen</div>
<div class="line">[Thursday 24 March 2011] [14:56:33] &lt;sustrik&gt; Guthur: can be doable on top of 0mq, with XPUB/XSUB sockets</div>
<div class="line">[Thursday 24 March 2011] [14:56:37] &lt;sustrik&gt; when those are finished :)</div>
<div class="line">[Thursday 24 March 2011] [14:58:19] &lt;pieterh&gt; sustrik: upstream arbitrary subscription keys?</div>
<div class="line">[Thursday 24 March 2011] [15:02:24] &lt;sustrik&gt; possibly</div>
<div class="line">[Thursday 24 March 2011] [15:02:27] &lt;sustrik&gt; we&#8217;ll see</div>
<div class="line">[Thursday 24 March 2011] [15:02:35] &lt;sustrik&gt; it&#8217;s not done yet</div>
<div class="line">[Thursday 24 March 2011] [15:02:54] &lt;pieterh&gt; could be fun to turn xpub sockets into mini exchanges</div>
<div class="line">[Thursday 24 March 2011] [15:03:42] &lt;pieterh&gt; sustrik: if you want a patch for the openpgm stuff, I can make it, have tested that on 2.2</div>
<div class="line">[Thursday 24 March 2011] [15:04:14] &lt;pieterh&gt; but I think you want the real author&#8217;s patch... sigh</div>
<div class="line">[Thursday 24 March 2011] [15:04:20] &lt;pieterh&gt; well, it&#8217;s LGPL</div>
<div class="line">[Thursday 24 March 2011] [15:04:28] &lt;pieterh&gt; already signed off</div>
<div class="line">[Thursday 24 March 2011] [15:04:50] &lt;pieterh&gt; this whole free software concept sometimes confuses me... :-)</div>
<div class="line">[Thursday 24 March 2011] [15:29:39] &lt;Guthur&gt;  cool, I look forward to seeing XSUB and XPUB</div>
<div class="line">[Thursday 24 March 2011] [15:29:55] &lt;Guthur&gt;  will they need to be renamed after they have been released for a while, hehe</div>
<div class="line">[Thursday 24 March 2011] [15:31:31] &lt;cremes&gt;  Guthur: yes, they are going to be renamed SUCK and BLOW</div>
<div class="line">[Thursday 24 March 2011] [15:31:51] &lt;cremes&gt;  no one raised any objection on the mailing list, so that&#8217;s going into 2.1.4</div>
<div class="line">[Thursday 24 March 2011] [15:31:52] &lt;cremes&gt;  :)</div>
<div class="line">[Thursday 24 March 2011] [15:41:59] &lt;jond&gt;    cremes: what&#8217;s the conclusion on jemalloc</div>
<div class="line">[Thursday 24 March 2011] [15:42:39] &lt;cremes&gt;  jond: superior to glibc malloc on linux for the way i use 0mq</div>
<div class="line">[Thursday 24 March 2011] [15:43:10] &lt;cremes&gt;  the memory footprint still grows, but now the &#8216;fragmentation leak&#8217; is slower</div>
<div class="line">[Thursday 24 March 2011] [15:43:40] &lt;jond&gt;    cremes: does jemalloc just replace malloc/free et al or the C++ operator&#8217;s as well</div>
<div class="line">[Thursday 24 March 2011] [15:44:10] &lt;cremes&gt;  jond: it&#8217;s my understanding that under the covers C++ #new, et al. are calling malloc/free</div>
<div class="line">[Thursday 24 March 2011] [15:44:20] &lt;cremes&gt;  so jemalloc replaces them too</div>
<div class="line">[Thursday 24 March 2011] [15:44:32] &lt;pieterh&gt; cremes: sometimes you&#8217;re evil...</div>
<div class="line">[Thursday 24 March 2011] [15:44:49] &lt;cremes&gt;  pieterh: ah, you like the new pub/sub names then?</div>
<div class="line">[Thursday 24 March 2011] [15:45:07] &lt;pieterh&gt; I think the old names were fine (PUB/SUB)</div>
<div class="line">[Thursday 24 March 2011] [15:45:35]    * cremes is leaving shortly to do evil elsewhere</div>
<div class="line">[Thursday 24 March 2011] [15:45:53] &lt;jond&gt;    cremes: ok ; think I asked the tcmalloc people a while back and technically new etc don&#8217;t have to use malloc free ....</div>
<div class="line">[Thursday 24 March 2011] [15:46:29] &lt;cremes&gt;  jond: that&#8217;s true; from comments i have read while researching this stuff, no one was able to find a case where c++ did <em>not</em></div>
<div class="line">[Thursday 24 March 2011] [15:46:31] &lt;jond&gt;    pieterh: HOOKER and PIMP?</div>
<div class="line">[Thursday 24 March 2011] [15:46:33] &lt;cremes&gt;  use malloc/free</div>
<div class="line">[Thursday 24 March 2011] [15:46:46] &lt;pieterh&gt; HOOKER would be XSUB then?</div>
<div class="line">[Thursday 24 March 2011] [15:46:53] &lt;cremes&gt;  jond: ooh, good replacement names for PUSH/PULL</div>
<div class="line">[Thursday 24 March 2011] [15:47:05] &lt;cremes&gt;  :)</div>
<div class="line">[Thursday 24 March 2011] [15:47:12] &lt;pieterh&gt; where does JOHN fit in? that&#8217;s my question</div>
<div class="line">[Thursday 24 March 2011] [15:47:32] &lt;cremes&gt;  pieterh: PAIR -&gt; JOHN</div>
<div class="line">[Thursday 24 March 2011] [15:47:45] &lt;pieterh&gt; surely PAIR-&gt; FABIO</div>
<div class="line">[Thursday 24 March 2011] [15:47:53] &lt;cremes&gt;  surely</div>
<div class="line">[Thursday 24 March 2011] [15:48:05] &lt;pieterh&gt; let&#8217;s start a Naming Committee</div>
<div class="line">[Thursday 24 March 2011] [15:48:14] &lt;pieterh&gt; with its own repository</div>
<div class="line">[Thursday 24 March 2011] [15:48:35] &lt;cremes&gt;  heh</div>
<div class="line">[Thursday 24 March 2011] [15:48:39]    * pieterh is very happy to be generating zapi man pages from the C source code</div>
<div class="line">[Thursday 24 March 2011] [15:49:16] &lt;jond&gt;    cremes: c++ new et al; that&#8217;s what I&#8217;ve read too, but there&#8217;s probably some obscure games console compiler somewhere</div>
<div class="line">[Thursday 24 March 2011] [15:49:46] &lt;cremes&gt;  jond: probably</div>
<div class="line">[Thursday 24 March 2011] [15:50:00] &lt;cremes&gt;  but since i don&#8217;t use it, i don&#8217;t care ;)</div>
<div class="line">[Thursday 24 March 2011] [15:51:19] &lt;jond&gt;    so you just LD_PRELOAD with jemalloc on the path and that&#8217;s it? I&#8217;m sure google recommend recompile with tcmalloc though LD_PRELOAD can work</div>
<div class="line">[Thursday 24 March 2011] [15:52:01] &lt;cremes&gt;  yes</div>
<div class="line">[Thursday 24 March 2011] [15:52:14] &lt;cremes&gt;  LD_PRELOAD=/usr/local/lib/libjemalloc.so a.out</div>
<div class="line">[Thursday 24 March 2011] [15:53:15] &lt;jond&gt;    cremes does it improve ruby performance at all apart from 0mq aspect?</div>
<div class="line">[Thursday 24 March 2011] [15:53:56] &lt;cremes&gt;  jond: if it does, i can&#8217;t see it... there may be a small % difference but i can&#8217;t tell</div>
<div class="line">[Thursday 24 March 2011] [15:54:51] &lt;jond&gt;    cremes: I&#8217;ll go and have a look at jemalloc now</div>
<div class="line">[Thursday 24 March 2011] [15:55:08] &lt;cremes&gt;  jond: when i ran sustrik&#8217;s leak repro (ticket 174) the resident memory would jump to 25MB and stay there</div>
<div class="line">[Thursday 24 March 2011] [15:55:17] &lt;cremes&gt;  with jemalloc it would drop back down to 15MB</div>
<div class="line">[Thursday 24 March 2011] [15:55:31] &lt;cremes&gt;  so while it isn&#8217;t perfect, it <em>was</em> able to help out a bit</div>
<div class="line">[Thursday 24 March 2011] [15:58:21] &lt;jond&gt;    cremes: i may give jemalloc a test against an app at work, non zeromq though sadly</div>
<div class="line">[Thursday 24 March 2011] [16:04:25] &lt;cremes&gt;  jond: please share your results (0mq or non-0mq) with me; i&#8217;d love to hear your results</div>
<div class="line">[Thursday 24 March 2011] [16:16:26] &lt;jond&gt;    pieterh: you ever thought of putting a &#8216;jobs&#8217; section on the website?</div>
<div class="line">[Thursday 24 March 2011] [16:16:45] &lt;pieterh&gt; jond: yes</div>
<div class="line">[Thursday 24 March 2011] [16:17:22] &lt;pieterh&gt; but rather, I&#8217;d like to make a &#8216;marketplace&#8217;</div>
<div class="line">[Thursday 24 March 2011] [16:17:32] &lt;jond&gt;    pieterh: yes better idea</div>
<div class="line">[Thursday 24 March 2011] [16:18:07] &lt;pieterh&gt; the idea would be that proven contributors can promote their business</div>
<div class="line">[Thursday 24 March 2011] [16:18:47] &lt;pieterh&gt; this would happen on the main website (not the community site) and would be run by iMatix</div>
<div class="line">[Thursday 24 March 2011] [16:19:32] &lt;pieterh&gt; &#8216;run&#8217; = vetted, more than anything else</div>
<div class="line">[Thursday 24 March 2011] [16:20:28] &lt;sustrik&gt; btw, i&#8217;ve created a zeromq group on linked-in long time ago</div>
<div class="line">[Thursday 24 March 2011] [16:20:49]    * pieterh dislikes linkedin intensely...</div>
<div class="line">[Thursday 24 March 2011] [16:21:08] &lt;sustrik&gt; i don&#8217;t use it much</div>
<div class="line">[Thursday 24 March 2011] [16:21:19] &lt;sustrik&gt; i don&#8217;t even recall why i&#8217;ve created the group</div>
<div class="line">[Thursday 24 March 2011] [16:21:25] &lt;sustrik&gt; someone asked me to, i suppose</div>
<div class="line">[Thursday 24 March 2011] [16:21:27] &lt;pieterh&gt; the idea of promoting partners able to help in specific areas, or specific regions, seems win-win</div>
<div class="line">[Thursday 24 March 2011] [16:21:38]    * sustrik checks the group</div>
<div class="line">[Thursday 24 March 2011] [16:21:42] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [16:21:52] &lt;sustrik&gt; intersting</div>
<div class="line">[Thursday 24 March 2011] [16:21:55] &lt;sustrik&gt; 28 members</div>
<div class="line">[Thursday 24 March 2011] [16:22:11] &lt;sustrik&gt; looks like some people are actually using linkedin</div>
<div class="line">[Thursday 24 March 2011] [16:22:35] &lt;pieterh&gt; some people do seem to like collecting contacts, indeed...</div>
<div class="line">[Thursday 24 March 2011] [16:22:57] &lt;Moltar&gt;  I&#8217;m trying to limit the outstanding messages in python using setsockopt(zmq.HWM, 1000) (for example) and it seems that this has no effect.  Any suggestions to what I might be doing wrong?</div>
<div class="line">[Thursday 24 March 2011] [16:24:48] &lt;hexa&gt;    Hi I just went tought the guide.. and wow :) .. but it got me many ideas one of which is to use it to do some worker/task management  inprocess ..  but I&#8217;m struggling to find a way to pass for exemple function pointers to a generic worker thread.. I checked google protobufs .. things like that but i&#8217;m not sure about it when it comes to pointers etc.. any suggestions ideas on this ?</div>
<div class="line">[Thursday 24 March 2011] [16:25:44] &lt;pieterh&gt; hexa: the way I send pointers between threads is printf (&#8220;%p&#8221;, pointer) and sscanf (message, &#8220;%p&#8221;, &amp;pointer)</div>
<div class="line">[Thursday 24 March 2011] [16:25:46] &lt;sustrik&gt; Moltar: the messages are presumably queued in TCP buffers</div>
<div class="line">[Thursday 24 March 2011] [16:25:46] &lt;pieterh&gt; seems to work</div>
<div class="line">[Thursday 24 March 2011] [16:26:15] &lt;pieterh&gt; hexa: there&#8217;s an example in the zapi, zctx class, somewhere in <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Thursday 24 March 2011] [16:26:19] &lt;hexa&gt;    pieterh, heheh guess that would work.. but I would like something a bit more versatile...</div>
<div class="line">[Thursday 24 March 2011] [16:27:00] &lt;pieterh&gt; well, just shove the pointer in a message of the right size</div>
<div class="line">[Thursday 24 March 2011] [16:27:02] &lt;Moltar&gt;  sustrik: I&#8217;m using unix-domain socket with zSocket.bind(&#8216;ipc:///tmp/sendalias&#8217;), so probably queued in unix socket buffer</div>
<div class="line">[Thursday 24 March 2011] [16:27:48] &lt;Moltar&gt;  sustrik: But I have quite a lot of data to push to my worker processes, and I don&#8217;t think having gigabytes of data in this buffer is going to be a good idea.</div>
<div class="line">[Thursday 24 March 2011] [16:28:33] &lt;hexa&gt;    pieterh, heh I guess I could just do void* func , void* marshalling_func, void* data  , pieterh thx for the link I hadn&#8217;t see that yet</div>
<div class="line">[Thursday 24 March 2011] [16:33:27] &lt;jond&gt;    sustrik: what&#8217;s the status of subscription forwarding in master?</div>
<div class="line">[Thursday 24 March 2011] [16:50:27] &lt;SurfaceTension&gt;  still nobody with a (rough) number for the binary code size on arm thumb?</div>
<div class="line">[Thursday 24 March 2011] [17:11:02] &lt;sustrik&gt; Moltar: you can set the buffer size using ZMQ_SNDBUF and ZMQ_RCVBUF options</div>
<div class="line">[Thursday 24 March 2011] [17:11:09] &lt;sustrik&gt; jond: no progress</div>
<div class="line">[Thursday 24 March 2011] [17:11:52] &lt;sustrik&gt; SurfaceTension: try asking on the mailing list</div>
<div class="line">[Thursday 24 March 2011] [17:12:01] &lt;Moltar&gt;  sustrik: Thanks, I&#8217;ll give that a go</div>
<div class="line">[Thursday 24 March 2011] [17:12:02] &lt;sustrik&gt; there are few people using 0mq on ARM iirc</div>
<div class="line">[Thursday 24 March 2011] [17:18:37] &lt;jond&gt;    sustrik: does that mean it&#8217;s all in master but incomplete or on that branch?</div>
<div class="line">[Thursday 24 March 2011] [17:19:07] &lt;sustrik&gt; it&#8217;s incomplete and located in sub-forward branch</div>
<div class="line">[Thursday 24 March 2011] [17:20:27] &lt;jond&gt;    sustrik: ok, thanks. I&#8217;m abandoning xrep you see from my proof of concept</div>
<div class="line">[Thursday 24 March 2011] [17:56:08] &lt;SurfaceTension&gt;  sustrik: will do, thanks</div>
<div class="line">[Thursday 24 March 2011] [18:47:14] &lt;Guthur&gt;  thrift provides a means for RPC, which I suppose could be used instead passing func ptrs</div>
<div class="line">[Thursday 24 March 2011] [18:47:37] &lt;Guthur&gt;  but hexa has left...</div>
<div class="line">[Thursday 24 March 2011] [21:24:11] &lt;Seta00&gt;  where is that &#8216;c&#8217; tool available?</div>
<div class="line">[Thursday 24 March 2011] [22:29:26] &lt;dku&gt;     Is it incorrect to call recv() twice consequitively on a ZMQ_REQ socket?</div>
<div class="line">[Thursday 24 March 2011] [22:29:41] &lt;dku&gt;     (without a send() in between, i mean)</div>
<div class="line">[Thursday 24 March 2011] [22:30:00] &lt;lowenhart&gt;       hey guys</div>
<div class="line">[Thursday 24 March 2011] [22:32:40] &lt;lowenhart&gt;       anyone know of a good decorator for zeromq + django?</div>
<div class="line">[Friday 25 March 2011] [04:06:23] &lt;pieterh&gt;   Seta00: on the C binding page</div>
<div class="line">[Friday 25 March 2011] [04:06:32] &lt;pieterh&gt;   dku: nope</div>
<div class="line">[Friday 25 March 2011] [04:25:33] &lt;pieterh&gt;   sustrik: I&#8217;ve sent an email to zeromq-dev regarding the repository rename</div>
<div class="line">[Friday 25 March 2011] [04:25:52] &lt;pieterh&gt;   it&#8217;d be interesting to see what the response is, if any</div>
<div class="line">[Friday 25 March 2011] [05:27:43] &lt;private_meta&gt;      pieterh: btw, if you really want to push something like zmsg into zapi, it&#8217;d require a redesign imho</div>
<div class="line">[Friday 25 March 2011] [05:41:47] &lt;private_meta&gt;      pieterh: for C++ it would be interesting to work with templates, just as an idea</div>
<div class="line">[Friday 25 March 2011] [05:44:55] &lt;guido_g&gt;   reminds me why i left c++</div>
<div class="line">[Friday 25 March 2011] [06:01:50] &lt;private_meta&gt;      I don&#8217;t see generic programming as that bad of an idea</div>
<div class="line">[Friday 25 March 2011] [06:02:03] &lt;private_meta&gt;      If it&#8217;s used in places where it can be an advantage</div>
<div class="line">[Friday 25 March 2011] [06:44:55] &lt;Seta00&gt;    pieterh: the zip archive on that page is missing the MSVS project/solution files, btw</div>
<div class="line">[Friday 25 March 2011] [06:45:05] &lt;Seta00&gt;    they are on the repo but not on the archive for some reason</div>
<div class="line">[Friday 25 March 2011] [07:13:18] &lt;private_meta&gt;      pieterh: btw, what was the reason to use the 0-byte in the messages?</div>
<div class="line">[Friday 25 March 2011] [07:21:27] &lt;Guthur&gt;    private_meta: you mean a message with no contents?</div>
<div class="line">[Friday 25 March 2011] [07:21:46] &lt;private_meta&gt;      no, 0-bytes in non-empty messages</div>
<div class="line">[Friday 25 March 2011] [07:22:06] &lt;Guthur&gt;    is this in a guide example?</div>
<div class="line">[Friday 25 March 2011] [07:22:45] &lt;private_meta&gt;      uuid encoding in multipart messages</div>
<div class="line">[Friday 25 March 2011] [07:23:38] &lt;Guthur&gt;    0MQ uuid will start with a byte of 0, iirc</div>
<div class="line">[Friday 25 March 2011] [07:24:03] &lt;Guthur&gt;    and that would have to be added back when encoding the string presentation back to binary</div>
<div class="line">[Friday 25 March 2011] [07:25:05] &lt;private_meta&gt;      I know, I want to know the reason for this decision</div>
<div class="line">[Friday 25 March 2011] [07:27:18] &lt;Guthur&gt;    it&#8217;s not a valid UUID for 0MQ without the 0</div>
<div class="line">[Friday 25 March 2011] [07:27:45] &lt;Guthur&gt;    maybe I am misunderstanding your question</div>
<div class="line">[Friday 25 March 2011] [07:27:58] &lt;private_meta&gt;      Yes, you are...</div>
<div class="line">[Friday 25 March 2011] [07:28:14] &lt;private_meta&gt;      I want to know the reason why they used the 0-byte in the uuid in the first place</div>
<div class="line">[Friday 25 March 2011] [07:28:25] &lt;private_meta&gt;      It&#8217;s a design-question</div>
<div class="line">[Friday 25 March 2011] [07:29:09] &lt;Guthur&gt;    yeah I&#8217;d imagine so</div>
<div class="line">[Friday 25 March 2011] [07:29:21] &lt;private_meta&gt;      ...</div>
<div class="line">[Friday 25 March 2011] [07:29:35] &lt;Guthur&gt;    possibly to make it more identifiable as a UUID</div>
<div class="line">[Friday 25 March 2011] [07:29:40] &lt;Guthur&gt;    at a guess</div>
<div class="line">[Friday 25 March 2011] [07:29:49] &lt;Guthur&gt;    sustrik: ?</div>
<div class="line">[Friday 25 March 2011] [07:40:56] &lt;Seta00&gt;    OpenPGM is the only implementation of PGM on 0MQ, right?</div>
<div class="line">[Friday 25 March 2011] [07:41:09] &lt;Seta00&gt;    as in, I can&#8217;t use PGM on normal builds</div>
<div class="line">[Friday 25 March 2011] [07:51:28] &lt;private_meta&gt;      pieterh: finally fixed it</div>
<div class="line">[Friday 25 March 2011] [08:28:41] &lt;so_solid_moo&gt;      hi peeps. is the freelance pattern stuff built into a library at all, like zfl or something?</div>
<div class="line">[Friday 25 March 2011] [08:40:12] &lt;iphony&gt;    Has anyone successfully compiled the zmq c library for the iphone?</div>
<div class="line">[Friday 25 March 2011] [09:51:30] &lt;private_meta&gt;      pieterh: are you here?</div>
<div class="line">[Friday 25 March 2011] [11:38:08] &lt;nikolay&gt;   hi</div>
<div class="line">[Friday 25 March 2011] [11:38:15] &lt;cremes&gt;    hi</div>
<div class="line">[Friday 25 March 2011] [11:38:28] &lt;nikolay&gt;   I am trying following</div>
<div class="line">[Friday 25 March 2011] [11:38:32] &lt;nikolay&gt;   star a server,</div>
<div class="line">[Friday 25 March 2011] [11:38:41] &lt;nikolay&gt;   then do curl localhost:5555</div>
<div class="line">[Friday 25 March 2011] [11:39:07] &lt;nikolay&gt;   request is invalid of cource, and server do &#8220;Assertion failed: fetched (rep.cpp:232)&#8221;</div>
<div class="line">[Friday 25 March 2011] [11:39:24] &lt;nikolay&gt;   the server app is in PHP</div>
<div class="line">[Friday 25 March 2011] [11:39:40] &lt;nikolay&gt;   how I can do so PHP not to crash?</div>
<div class="line">[Friday 25 March 2011] [11:40:21] &lt;cremes&gt;    nikolay: you can&#8217;t connect a non-0mq socket to a 0mq socket unless you conform to the 0mq wire protocol</div>
<div class="line">[Friday 25 March 2011] [11:40:28] &lt;cremes&gt;    otherwise you&#8217;ll get assertions</div>
<div class="line">[Friday 25 March 2011] [11:40:50] &lt;nikolay&gt;   yes, but generally how i can &#8220;catch&#8221; the assert() call ?</div>
<div class="line">[Friday 25 March 2011] [11:40:56] &lt;cremes&gt;    you can&#8217;t</div>
<div class="line">[Friday 25 March 2011] [11:41:14] &lt;cremes&gt;    you should open a bug issue  on github; 0mq asserts on a lot of &#8216;invalid&#8217; data when it probably shouldn&#8217;t</div>
<div class="line">[Friday 25 March 2011] [11:41:37] &lt;cremes&gt;    it should probably just disconnect the socket that sent the invalid data</div>
<div class="line">[Friday 25 March 2011] [11:41:40] &lt;nikolay&gt;   hmm this is kind of stupid , isn&#8217;t it ? then server will crash, instead to close the conn</div>
<div class="line">[Friday 25 March 2011] [11:41:42] &lt;cremes&gt;    instead of asserting</div>
<div class="line">[Friday 25 March 2011] [11:41:52] &lt;cremes&gt;    nikolay: yes, it&#8217;s stupid; open a 0mq bug</div>
<div class="line">[Friday 25 March 2011] [11:42:07] &lt;nikolay&gt;   good idea , thank you</div>
<div class="line">[Friday 25 March 2011] [11:42:22] &lt;cremes&gt;    nikolay: make sure you include some code that can reproduce the <em>entire</em> problem (client and server)</div>
<div class="line">[Friday 25 March 2011] [11:42:34] &lt;cremes&gt;    along with the steps to reproduce the crash</div>
<div class="line">[Friday 25 March 2011] [11:42:50] &lt;nikolay&gt;   is not a problem , but it may happen if the client app is killed</div>
<div class="line">[Friday 25 March 2011] [11:43:07] &lt;nikolay&gt;   thanks</div>
<div class="line">[Friday 25 March 2011] [11:43:27] &lt;nikolay&gt;   bye</div>
<div class="line">[Friday 25 March 2011] [11:51:56] &lt;Guthur&gt;    cremes: it same strange there hasn&#8217;t been more effort to remove asserts</div>
<div class="line">[Friday 25 March 2011] [11:52:01] &lt;Guthur&gt;    same/seems</div>
<div class="line">[Friday 25 March 2011] [11:52:30] &lt;cremes&gt;    Guthur: 2.1 is way better than 2.0; sustrik removed quite a few asserts but there are still a bunch left</div>
<div class="line">[Friday 25 March 2011] [11:52:51] &lt;cremes&gt;    that&#8217;s why i think writing unit tests for the internal classes is a good idea</div>
<div class="line">[Friday 25 March 2011] [11:53:16] &lt;cremes&gt;    it will help reign in the use of asserts and it will encourage writing code to actually handle those error conditions instead</div>
<div class="line">[Friday 25 March 2011] [11:53:20] &lt;cremes&gt;    of just aborting</div>
<div class="line">[Friday 25 March 2011] [11:54:24] &lt;Guthur&gt;    yep, is there a strategy in place yet for refactoring the current code base to facilitate unit testing</div>
<div class="line">[Friday 25 March 2011] [11:56:04] &lt;cremes&gt;    Guthur: nope, no strategy yet</div>
<div class="line">[Friday 25 March 2011] [11:56:17] &lt;cremes&gt;    i&#8217;m going to do a quick spike this weekend using cxxtest on yqueue.cpp</div>
<div class="line">[Friday 25 March 2011] [11:56:36] &lt;Seta00&gt;    the documentation for zmg_msg_init_data says &#8220;If provided, the deallocation function ffn shall be called...&#8221;, but the parameter isn&#8217;t optional. should I just pass NULL?</div>
<div class="line">[Friday 25 March 2011] [11:56:43] &lt;cremes&gt;    the way i like to do unit testing is going to require <em>most</em> of these classes to become a lot smaller than they are</div>
<div class="line">[Friday 25 March 2011] [11:56:50] &lt;cremes&gt;    so that they can be thoroughly tested</div>
<div class="line">[Friday 25 March 2011] [11:56:58] &lt;cremes&gt;    Seta00: yes</div>
<div class="line">[Friday 25 March 2011] [11:57:04] &lt;Seta00&gt;    cremes: thanks</div>
<div class="line">[Friday 25 March 2011] [11:59:08] &lt;Guthur&gt;    cremes: ack</div>
<div class="line">[Friday 25 March 2011] [12:00:13] &lt;cremes&gt;    i don&#8217;t know if all of that refactoring would/will fit with sustrik&#8217;s style</div>
<div class="line">[Friday 25 March 2011] [12:00:38] &lt;cremes&gt;    the classes look big to me; but then again, c++ is so verbose even simple classes look pretty large</div>
<div class="line">[Friday 25 March 2011] [12:20:02] &lt;Guthur&gt;    I think sustrik would buy if it could deliver better test coverage</div>
<div class="line">[Friday 25 March 2011] [12:24:08] &lt;Guthur&gt;    buy in*</div>
<div class="line">[Friday 25 March 2011] [12:57:37] &lt;anddam&gt;    hello</div>
<div class="line">[Friday 25 March 2011] [12:58:19] &lt;cremes&gt;    hi</div>
<div class="line">[Friday 25 March 2011] [13:01:17] &lt;anddam&gt;    I&#8217;ve built mongrel2 using zeromq from macports, when I try to kill the test server it get stucks with <a class="reference external" href="http://pastesite.com/22567">http://pastesite.com/22567</a> (after ^C at line :49)</div>
<div class="line">[Friday 25 March 2011] [13:01:31] &lt;anddam&gt;    can it be possibly related to this zmq&#8217;s test error <a class="reference external" href="http://pastesite.com/22568">http://pastesite.com/22568</a> ?</div>
<div class="line">[Friday 25 March 2011] [13:03:37] &lt;anddam&gt;    nice mailbox.cpp:191 &#8221; This should never happen as we&#8217;ve already checked that command size less than PIPE_BUF.&#8221;</div>
<div class="line">[Friday 25 March 2011] [13:03:45] &lt;anddam&gt;    seems it&#8217;s happening</div>
<div class="line">[Friday 25 March 2011] [13:05:53] &lt;klestes&gt;   Thats the beauty of ZeroMQ:  It makes the impossible possible !</div>
<div class="line">[Friday 25 March 2011] [13:07:45] &lt;anddam&gt;    &#8220;the possimpible&#8221;</div>
<div class="line">[Friday 25 March 2011] [13:08:16] &lt;cremes&gt;    anddam: check the tuning guide:  <a class="reference external" href="http://www.zeromq.org/docs:tuning-zeromq">http://www.zeromq.org/docs:tuning-zeromq</a></div>
<div class="line">[Friday 25 March 2011] [13:08:31] &lt;cremes&gt;    usually mailbox errors in 0mq are due to the tiny default buffer sizes on osx</div>
<div class="line">[Friday 25 March 2011] [13:08:33] &lt;klestes&gt;   anddam:  Nice word !</div>
<div class="line">[Friday 25 March 2011] [13:08:37] &lt;anddam&gt;    this happens on OS X, anyone confirming he&#8217;s got zmq working on osx?</div>
<div class="line">[Friday 25 March 2011] [13:08:44] &lt;anddam&gt;    klestes: that&#8217;s from that tv show</div>
<div class="line">[Friday 25 March 2011] [13:08:57] &lt;klestes&gt;   there&#8217;s a tv show of that name ?</div>
<div class="line">[Friday 25 March 2011] [13:09:05] &lt;cremes&gt;    anddam: i use 0mq on osx every day; works fine after doing a little kernel tuning</div>
<div class="line">[Friday 25 March 2011] [13:09:18] &lt;klestes&gt;   OS X seems to be a bitch to program on, from what I&#8217;ve seen hereabouts.</div>
<div class="line">[Friday 25 March 2011] [13:09:41] &lt;cremes&gt;    no harder than linux</div>
<div class="line">[Friday 25 March 2011] [13:09:44] &lt;cremes&gt;    same apis</div>
<div class="line">[Friday 25 March 2011] [13:09:45] &lt;anddam&gt;    cremes: I understand system tuning but how can test reach linux?</div>
<div class="line">[Friday 25 March 2011] [13:10:13] &lt;cremes&gt;    anddam: i don&#8217;t understand your question, please rephrase</div>
<div class="line">[Friday 25 March 2011] [13:10:19] &lt;anddam&gt;    klestes: I think it depends on your targets, if you&#8217;re going to do iOS development it&#8217;s not a bitch</div>
<div class="line">[Friday 25 March 2011] [13:10:33] &lt;anddam&gt;    cremes: of course you don&#8217;t understand it, I mixed two phrases</div>
<div class="line">[Friday 25 March 2011] [13:10:39] &lt;klestes&gt;   good to know.</div>
<div class="line">[Friday 25 March 2011] [13:11:31] &lt;anddam&gt;    cremes: my hardlimit for files is unlimited</div>
<div class="line">[Friday 25 March 2011] [13:11:45] &lt;anddam&gt;    how could that affect tests?</div>
<div class="line">[Friday 25 March 2011] [13:12:33] &lt;cremes&gt;    anddam: did you modify your sendspace/recvspace kernel params?</div>
<div class="line">[Friday 25 March 2011] [13:13:18] &lt;cremes&gt;    and to answer your first question, it can affect your tests if the soft limit (ulimit -a) is lower than the number of sockets created</div>
<div class="line">[Friday 25 March 2011] [13:13:28] &lt;anddam&gt;    no, I&#8217;m checking sysctl syntax to avoid rebooting</div>
<div class="line">[Friday 25 March 2011] [13:16:21] &lt;anddam&gt;    cremes: not that hard sysctl -w</div>
<div class="line">[Friday 25 March 2011] [13:19:11] &lt;anddam&gt;    cremes: you were damn right</div>
<div class="line">[Friday 25 March 2011] [13:19:28] &lt;cremes&gt;    :)</div>
<div class="line">[Friday 25 March 2011] [13:19:40] &lt;anddam&gt;    <a class="reference external" href="http://pastesite.com/22571">http://pastesite.com/22571</a></div>
<div class="line">[Friday 25 March 2011] [13:19:46] &lt;anddam&gt;    so my issue is only mongrel2</div>
<div class="line">[Friday 25 March 2011] [13:19:53] &lt;anddam&gt;    I had no issues with a debian</div>
<div class="line">[Friday 25 March 2011] [13:29:25] &lt;anddam&gt;    cremes: seems this is it <a class="reference external" href="https://gist.github.com/724778">https://gist.github.com/724778</a></div>
<div class="line">[Friday 25 March 2011] [13:29:43] &lt;anddam&gt;    in fact,   zmq &#64;2.1.3_0 (active)</div>
<div class="line">[Friday 25 March 2011] [13:30:32] &lt;cremes&gt;    yes, the termination semantics changed from 2.0.10 to 2.1.0</div>
<div class="line">[Friday 25 March 2011] [13:31:16] &lt;anddam&gt;    I&#8217;ll checkout from repo, but I&#8217;m packaging for macports a stable tarball would be better</div>
<div class="line">[Friday 25 March 2011] [13:31:19] &lt;anddam&gt;    thanks, bye</div>
<div class="line">[Friday 25 March 2011] [13:48:29] &lt;mih&gt;       hello. One question about  new 2.1.3 version. It is build only .la static lib (even with &#8211;enable-shared option). Is it bug or feature?</div>
<div class="line">[Friday 25 March 2011] [13:55:39] &lt;cremes&gt;    mih: by default it should produce a shared library</div>
<div class="line">[Friday 25 March 2011] [16:30:54] &lt;traviscline&gt;       I want running web server processes to on certain events share internal state information. Just to clarify i&#8217;ll likely want a pub socket in each process and (at least one) corresponding sub sockets elsewhere for each of them. A friend suggested using req/rep on startup for the procs to know where to bind, sound reasonable?</div>
<div class="line">[Friday 25 March 2011] [16:43:29] &lt;dermoth|work&gt;      traviscline, in general for in pub/sub you have one suv with many put connecting to it</div>
<div class="line">[Friday 25 March 2011] [16:43:37] &lt;dermoth|work&gt;      one sub with many pub</div>
<div class="line">[Friday 25 March 2011] [16:43:44] &lt;dermoth|work&gt;      oops</div>
<div class="line">[Friday 25 March 2011] [16:43:49] &lt;dermoth|work&gt;      i mean toe opposite</div>
<div class="line">[Friday 25 March 2011] [16:44:09] &lt;dermoth|work&gt;      now I get what you mean :)</div>
<div class="line">[Friday 25 March 2011] [16:45:12] &lt;dermoth|work&gt;      traviscline, so it is that any web process should be ble to update the other processes?</div>
<div class="line">[Friday 25 March 2011] [17:04:10] &lt;dermoth|work&gt;      traviscline, well assuming this is what you want, you&#8217;ll need a forwarder device; all processes will connect their pub and sub sockets to it... and I strongly suggest testing it, expecially thing like all web servers reloading at once (could happen when logrotate kicks in if you leave it on)</div>
<div class="line">[Friday 25 March 2011] [17:05:02] &lt;dermoth|work&gt;      traviscline, ohoh I feel a cache pool like memcached might be better suited gfor that and could consume much less resources than two tcp connections per web process</div>
<div class="line">[Friday 25 March 2011] [18:13:34] &lt;mikko&gt;     evenin&#8217;</div>
<div class="line">[Friday 25 March 2011] [18:20:44] &lt;Seta00&gt;    hey I want a dot on that community map too :3</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rabb184a 10/ (6 files in 4 dirs):</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: ZMQ_NOBLOCK renamed ZMQ_DONTWAIT</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: Done because of POSIX compliance</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hEKZog">http://bit.ly/hEKZog</a></div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * r82dbef3 10/ src/zmq.cpp :</div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: Memory leak in zmq_recv fixed</div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ie2raB">http://bit.ly/ie2raB</a></div>
<div class="line">[Saturday 26 March 2011] [09:45:47] &lt;Guthur&gt;  I see someone mention compiled binary size on ARM cores on the mailing list...</div>
<div class="line">[Saturday 26 March 2011] [09:46:04] &lt;Guthur&gt;  can ZeroMQ be successfully cross compiled for the ARM</div>
<div class="line">[Saturday 26 March 2011] [10:04:41] &lt;sustrik&gt; Guthur: iirc someone have done it</div>
<div class="line">[Saturday 26 March 2011] [10:04:53] &lt;sustrik&gt; there should be a mail about it on the mailing list</div>
<div class="line">[Saturday 26 March 2011] [10:05:02] &lt;sustrik&gt; or maybe a wiki page on the site</div>
<div class="line">[Saturday 26 March 2011] [10:05:30] &lt;Guthur&gt;  sustrik, I&#8217;ll have a look</div>
<div class="line">[Saturday 26 March 2011] [10:05:52] &lt;Guthur&gt;  Is there some search mechanism for the mailing list bar google</div>
<div class="line">[Saturday 26 March 2011] [10:10:36] &lt;Guthur&gt;  oh nvm</div>
<div class="line">[Saturday 26 March 2011] [10:32:43] &lt;Guthur&gt;  pieterh, I have the opportunity of presenting ZeroMQ to my team at work, any suggestions on content</div>
<div class="line">[Saturday 26 March 2011] [12:17:06] &lt;Eruquen&gt; is there a difference between zmq_zmsg_t and zmsg_t?</div>
<div class="line">[Saturday 26 March 2011] [12:18:02] &lt;sustrik&gt; what&#8217;s zmsg_t?</div>
<div class="line">[Saturday 26 March 2011] [12:21:07] &lt;Eruquen&gt; a type that is used in the C examples</div>
<div class="line">[Saturday 26 March 2011] [12:22:03] &lt;Eruquen&gt; maybe that&#8217;s why I get abitrary results vom zmq_msg_size</div>
<div class="line">[Saturday 26 March 2011] [12:42:30] &lt;sustrik&gt; i assume it&#8217;s some layer on top of 0mq that&#8217;s used by the guide</div>
<div class="line">[Saturday 26 March 2011] [12:42:35] &lt;sustrik&gt; no idea how it works</div>
<div class="line">[Saturday 26 March 2011] [12:42:36] &lt;sustrik&gt; sorry</div>
<div class="line">[Saturday 26 March 2011] [12:52:21] &lt;Guthur&gt;  Eruquen, source is here <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C/zmsg.h">https://github.com/imatix/zguide/blob/master/examples/C/zmsg.h</a></div>
<div class="line">[Saturday 26 March 2011] [12:52:47] &lt;Guthur&gt;  it provides some useful helper functions for msg</div>
<div class="line">[Saturday 26 March 2011] [14:30:36] &lt;Zevv&gt;    Hi all. Just learned about 0mq, seems that this can fix a lot of my daily pains. One question: is it possible in a inproc environment to pass pointers around ? I&#8217;m considering if 0mq can be used in our app which shares video data among a few threads on an embedded device which is painfully slow doing memcpy()&#8217;s</div>
<div class="line">[Saturday 26 March 2011] [14:31:05] &lt;Zevv&gt;    most of the messaging is probably ok to do using 0mq, but only the video data itself - several MB&#8217;s per frame - can not be copied around for performance reasons</div>
<div class="line">[Saturday 26 March 2011] [14:31:13] &lt;Zevv&gt;    is this a known scenario ?</div>
<div class="line">[Saturday 26 March 2011] [14:58:55] &lt;Guthur&gt;  Zevv, sure you could pass the memory address around if you want</div>
<div class="line">[Saturday 26 March 2011] [15:11:01] &lt;dermoth|home&gt;    Hey... I posted on the mailing list about PUSH/PULL sockets not failing over... now I&#8217;m reading 2.1 documentation, and it seems ZMQ_BACKLOG is what I want... Basically I want to fail over to other devices connected to the same socket as soon as possible, without alrering the high watermark</div>
<div class="line">[Saturday 26 March 2011] [15:12:01] &lt;dermoth|home&gt;    so multiple devices can be used for redundancy, without queueing message if one is down.</div>
<div class="line">[Saturday 26 March 2011] [15:17:41] &lt;sustrik&gt; dermoth|home: ZMQ_BACKLOG has to do only with connecting, it has no effect on messages themselves</div>
<div class="line">[Saturday 26 March 2011] [15:17:46] &lt;sustrik&gt; see man listen</div>
<div class="line">[Saturday 26 March 2011] [15:23:10] &lt;dermoth|home&gt;    oh</div>
<div class="line">[Saturday 26 March 2011] [15:23:55] &lt;dermoth|home&gt;    right, i missed the &#8220;peer connection&#8221; part</div>
<div class="line">[Saturday 26 March 2011] [16:08:34] &lt;seb`&gt;    can zeromq 2.1 talk to 2.0.10?</div>
<div class="line">[Saturday 26 March 2011] [16:08:49] &lt;sustrik&gt; let me see</div>
<div class="line">[Saturday 26 March 2011] [16:08:58] &lt;seb`&gt;    it would make it easier to upgrade:-)</div>
<div class="line">[Saturday 26 March 2011] [16:09:02] &lt;seb`&gt;    sustrik: thanks:-)</div>
<div class="line">[Saturday 26 March 2011] [16:09:45] &lt;sustrik&gt; yes, it can</div>
<div class="line">[Saturday 26 March 2011] [16:09:52] &lt;seb`&gt;    cool</div>
<div class="line">[Saturday 26 March 2011] [16:10:44] &lt;seb`&gt;    that will really save me from upgrade hell</div>
<div class="line">[Saturday 26 March 2011] [16:11:02] &lt;sustrik&gt; :)</div>
<div class="line">[Saturday 26 March 2011] [16:30:38] &lt;Guthur&gt;  surely if it couldn&#8217;t that would be a big issue</div>
<div class="line">[Saturday 26 March 2011] [18:43:36] &lt;<a href="#id89"><span class="problematic" id="id126">thatch__</span></a>&gt;        Is there a way to verify that a remote zeromq server is available before atempting to connect to it?</div>
<div class="line">[Saturday 26 March 2011] [19:05:02] &lt;Guthur&gt;  <a href="#id89"><span class="problematic" id="id127">thatch__</span></a>, you could checkout chapter 4 of the guide for some reliability patterns</div>
<div class="line">[Saturday 26 March 2011] [19:05:37] &lt;<a href="#id89"><span class="problematic" id="id128">thatch__</span></a>&gt;        thanks :)</div>
<div class="line">[Sunday 27 March 2011] [00:17:27] &lt;EduardoFonseca&gt;    Hi Guys. I&#8217;m trying to figure out how to implement connection dettection on top of zeroMQ. Any tips?</div>
<div class="line">[Sunday 27 March 2011] [00:17:35] &lt;EduardoFonseca&gt;    <a href="#id41"><span class="problematic" id="id42">*</span></a>detection, sorry.</div>
<div class="line">[Sunday 27 March 2011] [00:33:39] &lt;seb`&gt;      EduardoFonseca: you could send a first message to signal the connection</div>
<div class="line">[Sunday 27 March 2011] [00:33:58] &lt;seb`&gt;      it would have to be added to your own protocol</div>
<div class="line">[Sunday 27 March 2011] [00:37:56] &lt;EduardoFonseca&gt;    great</div>
<div class="line">[Sunday 27 March 2011] [00:38:07] &lt;EduardoFonseca&gt;    but what about detecting when this connection has gone away?</div>
<div class="line">[Sunday 27 March 2011] [00:38:43] &lt;EduardoFonseca&gt;    I tried implementing heartbeats, but the code started to get really complex.</div>
<div class="line">[Sunday 27 March 2011] [00:38:57] &lt;seb`&gt;      I was going to suggest that:-)</div>
<div class="line">[Sunday 27 March 2011] [00:39:21] &lt;seb`&gt;      on req/rep a heartbeat should not be that complex</div>
<div class="line">[Sunday 27 March 2011] [00:40:22] &lt;EduardoFonseca&gt;    I&#8217;m using XREQ and XREP... but the loadbalancing part got complex.</div>
<div class="line">[Sunday 27 March 2011] [00:40:44] &lt;EduardoFonseca&gt;    I was planning to reimplement the Majordomo pattern... but, why use zeroMQ if you need a broker? :)</div>
<div class="line">[Sunday 27 March 2011] [13:09:55] &lt;mikko&gt;     howdy guys</div>
<div class="line">[Sunday 27 March 2011] [13:57:22] &lt;Guthur&gt;    hey mikko</div>
<div class="line">[Sunday 27 March 2011] [13:57:54] &lt;Guthur&gt;    do you know if Ian Barbers PHP presentation slides are available anywhere for download, besides slideshare</div>
<div class="line">[Sunday 27 March 2011] [13:58:08] &lt;mikko&gt;     Guthur: let me check</div>
<div class="line">[Sunday 27 March 2011] [13:59:19] &lt;mikko&gt;     his blog seems to be down</div>
<div class="line">[Sunday 27 March 2011] [14:06:31] &lt;Guthur&gt;    ok, I&#8217;ll check it later</div>
<div class="line">[Sunday 27 March 2011] [14:06:36] &lt;Guthur&gt;    cheers mikko</div>
<div class="line">[Sunday 27 March 2011] [14:14:07] &lt;mikko&gt;     i can ask him for a pdf</div>
<div class="line">[Sunday 27 March 2011] [14:25:19] &lt;Guthur&gt;    mikko, that would great, cheers</div>
<div class="line">[Sunday 27 March 2011] [14:36:12] &lt;pieter_hintjens&gt;   Guthur: slideshare should offer downloads, doesn&#8217;t it?</div>
<div class="line">[Sunday 27 March 2011] [14:36:42] &lt;Guthur&gt;    pieter_hintjens, It does. i just didn&#8217;t want to sign up</div>
<div class="line">[Sunday 27 March 2011] [14:36:53] &lt;pieter_hintjens&gt;   yeah</div>
<div class="line">[Sunday 27 March 2011] [14:41:29] &lt;mikko&gt;     finally got some more build capacity online</div>
<div class="line">[Sunday 27 March 2011] [14:41:34] &lt;mikko&gt;     x86_64 centos</div>
<div class="line">[Sunday 27 March 2011] [14:41:46] &lt;mikko&gt;     rpms are now built every night</div>
<div class="line">[Sunday 27 March 2011] [14:43:01] &lt;mikko&gt;     pieter_hintjens: i&#8217;ll try to add libzapi today</div>
<div class="line">[Sunday 27 March 2011] [14:43:08] &lt;pieter_hintjens&gt;   mikko: nice!</div>
<div class="line">[Sunday 27 March 2011] [14:43:18] &lt;pieter_hintjens&gt;   I also renamed ZFL to libzfl, you saw that</div>
<div class="line">[Sunday 27 March 2011] [14:43:23] &lt;mikko&gt;     i did</div>
<div class="line">[Sunday 27 March 2011] [14:43:27] &lt;Guthur&gt;    I was actually going to draw some inspiration from Ian&#8217;s presentation for a presentation at work</div>
<div class="line">[Sunday 27 March 2011] [14:43:28] &lt;mikko&gt;     i was away yesterday and today</div>
<div class="line">[Sunday 27 March 2011] [14:43:31] &lt;mikko&gt;     spa weekend</div>
<div class="line">[Sunday 27 March 2011] [14:43:42] &lt;pieter_hintjens&gt;   :-) it was excellent weather here in Belgium</div>
<div class="line">[Sunday 27 March 2011] [14:43:42] &lt;mikko&gt;     been doing nothing but soaking in warm water</div>
<div class="line">[Sunday 27 March 2011] [14:44:13] &lt;Guthur&gt;    I&#8217;ve been wanting to ask him if it would be ok to borrow some stuff, just haven&#8217;t been able to catch him in here</div>
<div class="line">[Sunday 27 March 2011] [14:49:07]      * pieterh is making a new version of the guide</div>
<div class="line">[Sunday 27 March 2011] [14:49:18] &lt;pieterh&gt;   all code blocks highlighted, all collapsible (except a few)</div>
<div class="line">[Sunday 27 March 2011] [14:49:19] &lt;pieterh&gt;   <a class="reference external" href="http://zguide.zeromq.org/test:ch1">http://zguide.zeromq.org/test:ch1</a></div>
<div class="line">[Sunday 27 March 2011] [15:40:18]      * pieterh has created a monster, the Guide won&#8217;t load any longer...</div>
<div class="line">[Sunday 27 March 2011] [15:45:24] &lt;Guthur&gt;    it loads for me</div>
<div class="line">[Sunday 27 March 2011] [15:45:32]      * pieterh is fixing it as we speak...</div>
<div class="line">[Sunday 27 March 2011] [15:45:37] &lt;Guthur&gt;    but there is issues with the language translation link</div>
<div class="line">[Sunday 27 March 2011] [15:45:41] &lt;Guthur&gt;    links*</div>
<div class="line">[Sunday 27 March 2011] [15:45:50] &lt;pieterh&gt;   yes, reload in a few heartbeats...</div>
<div class="line">[Sunday 27 March 2011] [15:45:54] &lt;pieterh&gt;   the problem is the marked up code blocks are huge</div>
<div class="line">[Sunday 27 March 2011] [15:46:10] &lt;pieterh&gt;   including 320 of them in the page kind of does not work</div>
<div class="line">[Sunday 27 March 2011] [15:46:44] &lt;Guthur&gt;    hehe, I can imagine</div>
<div class="line">[Sunday 27 March 2011] [15:47:06] &lt;pieterh&gt;   it should work better now, code examples appear in a new tab</div>
<div class="line">[Sunday 27 March 2011] [15:47:17] &lt;pieterh&gt;   shame, it was kind of nice to have them inline...</div>
<div class="line">[Sunday 27 March 2011] [15:50:17] &lt;Guthur&gt;    oh new tabs, umm, I tend to curse pages that do that</div>
<div class="line">[Sunday 27 March 2011] [15:51:32] &lt;Guthur&gt;    is the C version still inline?</div>
<div class="line">[Sunday 27 March 2011] [15:53:36] &lt;pieterh&gt;   well, nope, but I&#8217;m going to make a further round of improvements</div>
<div class="line">[Sunday 27 March 2011] [15:53:52] &lt;pieterh&gt;   will inline the C version</div>
<div class="line">[Sunday 27 March 2011] [15:53:58] &lt;pieterh&gt;   and ditto for the PHP version</div>
<div class="line">[Sunday 27 March 2011] [15:56:28] &lt;mikko&gt;     pieterh: <a class="reference external" href="http://build.zero.mq/job/libzapi/3/console">http://build.zero.mq/job/libzapi/3/console</a></div>
<div class="line">[Sunday 27 March 2011] [15:56:38] &lt;mikko&gt;     ROUTER and DEALER are not in the main repo?</div>
<div class="line">[Sunday 27 March 2011] [15:56:52] &lt;mikko&gt;     the one that sustrik maintains</div>
<div class="line">[Sunday 27 March 2011] [15:56:55] &lt;pieterh&gt;   nope</div>
<div class="line">[Sunday 27 March 2011] [15:57:07] &lt;pieterh&gt;   libzapi needs 2.1.latest</div>
<div class="line">[Sunday 27 March 2011] [15:57:26] &lt;pieterh&gt;   I&#8217;m hoping sustrik will eventually make the ROUTER/DEALER changes but can&#8217;t force him to</div>
<div class="line">[Sunday 27 March 2011] [15:57:34] &lt;pieterh&gt;   mikko: hang on, I&#8217;</div>
<div class="line">[Sunday 27 March 2011] [15:57:36] &lt;mikko&gt;     this situation is very confusing</div>
<div class="line">[Sunday 27 March 2011] [15:57:39] &lt;pieterh&gt;   I&#8217;ll make a patch to libzapi</div>
<div class="line">[Sunday 27 March 2011] [15:57:50] &lt;pieterh&gt;   it&#8217;ll become less confusing over time</div>
<div class="line">[Sunday 27 March 2011] [15:57:58] &lt;pieterh&gt;   a lot of change happening in a lot of places...</div>
<div class="line">[Sunday 27 March 2011] [15:58:03] &lt;pieterh&gt;   gimme 2 minutes...</div>
<div class="line">[Sunday 27 March 2011] [15:58:09] &lt;mikko&gt;     no hurry</div>
<div class="line">[Sunday 27 March 2011] [16:00:16] &lt;pieterh&gt;   mikko: ok, done, new version pushed</div>
<div class="line">[Sunday 27 March 2011] [16:00:38] &lt;mikko&gt;     kicking off a new build</div>
<div class="line">[Sunday 27 March 2011] [16:00:48] &lt;mikko&gt;     #4 on the way</div>
<div class="line">[Sunday 27 March 2011] [16:00:51] &lt;pieterh&gt;   :-)</div>
<div class="line">[Sunday 27 March 2011] [16:02:40] &lt;mikko&gt;     builds</div>
<div class="line">[Sunday 27 March 2011] [16:02:52] &lt;mikko&gt;     <a class="reference external" href="http://build.zero.mq/job/libzapi/4/cobertura/_default_/">http://build.zero.mq/job/libzapi/4/cobertura/_default_/</a></div>
<div class="line">[Sunday 27 March 2011] [16:02:57] &lt;mikko&gt;     here is the code coverage</div>
<div class="line">[Sunday 27 March 2011] [16:04:02] &lt;mikko&gt;     i will refactor the builds as soon as the repository rename happens</div>
<div class="line">[Sunday 27 March 2011] [16:04:16] &lt;Guthur&gt;    pieterh, are you using ROUTER/DEALER in the guide</div>
<div class="line">[Sunday 27 March 2011] [16:04:16] &lt;mikko&gt;     so that i can do the changes in one go</div>
<div class="line">[Sunday 27 March 2011] [16:04:27] &lt;pieterh&gt;   Guthur: not yet, but that&#8217;s the next step</div>
<div class="line">[Sunday 27 March 2011] [16:04:45] &lt;pieterh&gt;   then, move the C code over to using libzapi</div>
<div class="line">[Sunday 27 March 2011] [16:04:57] &lt;pieterh&gt;   mikko: sweet!</div>
<div class="line">[Sunday 27 March 2011] [16:05:48] &lt;mikko&gt;     zeromq2-2, is this a new branch as well?</div>
<div class="line">[Sunday 27 March 2011] [16:06:00] &lt;pieterh&gt;   mikko: yes, that&#8217;s the packaging project for 2.2</div>
<div class="line">[Sunday 27 March 2011] [16:06:10] &lt;pieterh&gt;   the packaging projects will include more than libzmq, hopefully</div>
<div class="line">[Sunday 27 March 2011] [16:06:17] &lt;mikko&gt;     did my patch get through to the list ?</div>
<div class="line">[Sunday 27 March 2011] [16:06:21] &lt;pieterh&gt;   but they&#8217;ll track the libzmq major/minor versions</div>
<div class="line">[Sunday 27 March 2011] [16:06:25] &lt;pieterh&gt;   yes, your patch made it</div>
<div class="line">[Sunday 27 March 2011] [16:06:38] &lt;mikko&gt;     cool, not very good connectivity out in the sticks</div>
<div class="line">[Sunday 27 March 2011] [16:06:56] &lt;pieterh&gt;   from the hot spas... :-)</div>
<div class="line">[Sunday 27 March 2011] [16:08:02] &lt;mikko&gt;     so, what is the role of zeromq2, zeromq2-2 and zeromq2-1 repos?</div>
<div class="line">[Sunday 27 March 2011] [16:08:14] &lt;pieterh&gt;   just for consistency, really</div>
<div class="line">[Sunday 27 March 2011] [16:08:26] &lt;pieterh&gt;   zeromq2 will be deprecated, become a map for visitors who use the old URI</div>
<div class="line">[Sunday 27 March 2011] [16:08:45] &lt;mikko&gt;     do we in the future push changes to upstream first?</div>
<div class="line">[Sunday 27 March 2011] [16:08:48] &lt;pieterh&gt;   2-1 and 2-2 are packaging projects, 2-2 will be where we add new projects like libzapi</div>
<div class="line">[Sunday 27 March 2011] [16:08:49] &lt;mikko&gt;     because that would be ideal</div>
<div class="line">[Sunday 27 March 2011] [16:09:05] &lt;pieterh&gt;   yes, if possible</div>
<div class="line">[Sunday 27 March 2011] [16:09:11] &lt;pieterh&gt;   sometimes it won&#8217;t be possible</div>
<div class="line">[Sunday 27 March 2011] [16:09:29] &lt;pieterh&gt;   the 3.0 libzmq core will eventually change too much</div>
<div class="line">[Sunday 27 March 2011] [16:10:14] &lt;pieterh&gt;   we already had this case for one patch to 2.0, which had to be hand-made for that version</div>
<div class="line">[Sunday 27 March 2011] [16:10:42] &lt;mikko&gt;     something in this model feels very wrong but i really can&#8217;t put my finger on it</div>
<div class="line">[Sunday 27 March 2011] [16:11:04] &lt;mikko&gt;     it feels like duplicating the effort in some ways</div>
<div class="line">[Sunday 27 March 2011] [16:11:11] &lt;pieterh&gt;   in fact it&#8217;s not</div>
<div class="line">[Sunday 27 March 2011] [16:11:25] &lt;mikko&gt;     i made the openpgm build patches twice</div>
<div class="line">[Sunday 27 March 2011] [16:11:30] &lt;mikko&gt;     2-1 and upstream</div>
<div class="line">[Sunday 27 March 2011] [16:11:37] &lt;pieterh&gt;   yes, because you used pull requests to send to me</div>
<div class="line">[Sunday 27 March 2011] [16:11:54] &lt;pieterh&gt;   and sustrik does not accept anything except patches to ML</div>
<div class="line">[Sunday 27 March 2011] [16:12:03] &lt;pieterh&gt;   it would not change if we had one repo, two branches</div>
<div class="line">[Sunday 27 March 2011] [16:12:33] &lt;pieterh&gt;   the advantage is you were able to get rapid feedback that your changes worked</div>
<div class="line">[Sunday 27 March 2011] [16:12:39] &lt;mikko&gt;     so, we are still doing the patches on ML?</div>
<div class="line">[Sunday 27 March 2011] [16:12:43] &lt;pieterh&gt;   if you send upstream, you have no control over when they are released</div>
<div class="line">[Sunday 27 March 2011] [16:12:56] &lt;pieterh&gt;   i guess so, yes</div>
<div class="line">[Sunday 27 March 2011] [16:13:09] &lt;pieterh&gt;   I&#8217;d rather use the pull model explained on the contributing page</div>
<div class="line">[Sunday 27 March 2011] [16:13:26] &lt;pieterh&gt;   especially since that&#8217;s how Sustriks sends me changes... :-/</div>
<div class="line">[Sunday 27 March 2011] [16:14:25] &lt;pieterh&gt;   basically, any contributor has to convince the project owner to accept his patch</div>
<div class="line">[Sunday 27 March 2011] [16:14:37] &lt;pieterh&gt;   project owner can define how patches are submitted</div>
<div class="line">[Sunday 27 March 2011] [16:15:17] &lt;pieterh&gt;   and contributor is the one who stresses if project A and project B have different codebases</div>
<div class="line">[Sunday 27 March 2011] [16:15:26] &lt;Guthur&gt;    but is this not sort of fracturing zeromq too much</div>
<div class="line">[Sunday 27 March 2011] [16:15:30] &lt;pieterh&gt;   nah</div>
<div class="line">[Sunday 27 March 2011] [16:15:32] &lt;mikko&gt;     yes, it is</div>
<div class="line">[Sunday 27 March 2011] [16:15:33] &lt;Guthur&gt;    projects with in a project</div>
<div class="line">[Sunday 27 March 2011] [16:15:40] &lt;pieterh&gt;   libzmq != ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:15:42] &lt;mikko&gt;     this puts more pressure on contributors</div>
<div class="line">[Sunday 27 March 2011] [16:15:49] &lt;pieterh&gt;   yes, mikko, it does</div>
<div class="line">[Sunday 27 March 2011] [16:15:59] &lt;pieterh&gt;   but that&#8217;s necessary if we&#8217;re not to have bottlenecks</div>
<div class="line">[Sunday 27 March 2011] [16:16:15] &lt;mikko&gt;     we already have massive bottlenecks</div>
<div class="line">[Sunday 27 March 2011] [16:16:27] &lt;pieterh&gt;   yes, but this is one big one removed</div>
<div class="line">[Sunday 27 March 2011] [16:16:32] &lt;mikko&gt;     we have three separate branches as three separate projects</div>
<div class="line">[Sunday 27 March 2011] [16:16:43] &lt;pieterh&gt;   that&#8217;s not a bottleneck...</div>
<div class="line">[Sunday 27 March 2011] [16:16:44] &lt;mikko&gt;     every contributor has to mix and match their patches</div>
<div class="line">[Sunday 27 March 2011] [16:16:52] &lt;mikko&gt;     and only one person can accept that patch</div>
<div class="line">[Sunday 27 March 2011] [16:17:01] &lt;pieterh&gt;   sorry, this isn&#8217;t accurate, mikko</div>
<div class="line">[Sunday 27 March 2011] [16:17:04] &lt;mikko&gt;     if that person is on hols your patch is sitting and waiting somewhere</div>
<div class="line">[Sunday 27 March 2011] [16:17:26] &lt;pieterh&gt;   this is standard with Git</div>
<div class="line">[Sunday 27 March 2011] [16:17:36] &lt;pieterh&gt;   you send patches or pull requests to a project maintainer</div>
<div class="line">[Sunday 27 March 2011] [16:17:41] &lt;mikko&gt;     no, it&#8217;s not</div>
<div class="line">[Sunday 27 March 2011] [16:17:52] &lt;pieterh&gt;   you want everyone to commit to the repository?</div>
<div class="line">[Sunday 27 March 2011] [16:17:55] &lt;mikko&gt;     this is one possible workflow</div>
<div class="line">[Sunday 27 March 2011] [16:18:08] &lt;mikko&gt;     who do you mean by everyone?</div>
<div class="line">[Sunday 27 March 2011] [16:18:13] &lt;pieterh&gt;   it&#8217;s the one that scales to many projects, because each one is smallish</div>
<div class="line">[Sunday 27 March 2011] [16:18:43] &lt;pieterh&gt;   and this only affects libzmq because it&#8217;s got several incompatible versions</div>
<div class="line">[Sunday 27 March 2011] [16:18:57] &lt;pieterh&gt;   that is only one project out of 20 or 30</div>
<div class="line">[Sunday 27 March 2011] [16:20:50] &lt;pieterh&gt;   mikko: do you have an alternative proposal that lets us do what we want to do?</div>
<div class="line">[Sunday 27 March 2011] [16:21:20] &lt;mikko&gt;     currently we are doing everything very differently from what people contributing to open source are used to</div>
<div class="line">[Sunday 27 March 2011] [16:21:31] &lt;mikko&gt;     and that alienates contributors</div>
<div class="line">[Sunday 27 March 2011] [16:21:44] &lt;pieterh&gt;   that&#8217;s true if you look at the core project but it&#8217;s not true for the overall scheme</div>
<div class="line">[Sunday 27 March 2011] [16:22:22] &lt;pieterh&gt;   each project accepts contributors and contributions in its own way</div>
<div class="line">[Sunday 27 March 2011] [16:22:32] &lt;pieterh&gt;   this is consistent with how open source communities work</div>
<div class="line">[Sunday 27 March 2011] [16:22:44] &lt;pieterh&gt;   the only difference here is we have separate projects for <em>packaging</em> ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:22:52] &lt;pieterh&gt;   but that is necessary because libzmq != ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:23:02] &lt;pieterh&gt;   which will become much clearer once the core repo is renamed</div>
<div class="line">[Sunday 27 March 2011] [16:23:37] &lt;mikko&gt;     a contributor should not need to understand this amazing complex grand schema</div>
<div class="line">[Sunday 27 March 2011] [16:23:55] &lt;pieterh&gt;   well, we do have a lot of projects, how do you propose to map this?</div>
<div class="line">[Sunday 27 March 2011] [16:23:57] &lt;mikko&gt;     it should be as straigh-forward as: i run 2.1, find the git repo, make a patch</div>
<div class="line">[Sunday 27 March 2011] [16:24:04] &lt;pieterh&gt;   the packaging projects are largely hidden</div>
<div class="line">[Sunday 27 March 2011] [16:24:17] &lt;pieterh&gt;   make your patches against the libzmq git</div>
<div class="line">[Sunday 27 March 2011] [16:24:33] &lt;mikko&gt;     this should not be followed by having to understand that actually if my patch goes to libzmq i need to get it accepted to zeromq2-2 and zeromq2-1</div>
<div class="line">[Sunday 27 March 2011] [16:24:46] &lt;mikko&gt;     and possibly need to rework the patch for each version separately</div>
<div class="line">[Sunday 27 March 2011] [16:24:51] &lt;pieterh&gt;   well, fair enough, but understand that...</div>
<div class="line">[Sunday 27 March 2011] [16:25:04] &lt;pieterh&gt;   these repositories are for stabilization</div>
<div class="line">[Sunday 27 March 2011] [16:25:12] &lt;mikko&gt;     but they aren&#8217;t</div>
<div class="line">[Sunday 27 March 2011] [16:25:20] &lt;pieterh&gt;   that means they only in theory get bug fixes or very safe functional changes</div>
<div class="line">[Sunday 27 March 2011] [16:25:21] &lt;mikko&gt;     we pushed openpgm build fixes straight to 2-1</div>
<div class="line">[Sunday 27 March 2011] [16:25:29] &lt;mikko&gt;     not through &#8216;libzmq&#8217; repo</div>
<div class="line">[Sunday 27 March 2011] [16:25:36] &lt;pieterh&gt;   indeed, let&#8217;s not do that again</div>
<div class="line">[Sunday 27 March 2011] [16:25:45] &lt;pieterh&gt;   however, realize that it&#8217;s how you got those changes <em>tested</em> rapidly</div>
<div class="line">[Sunday 27 March 2011] [16:26:00] &lt;pieterh&gt;   next time, send to the ML</div>
<div class="line">[Sunday 27 March 2011] [16:26:07] &lt;Guthur&gt;    i&#8217;ve not really seen various version of a library being seen as projects</div>
<div class="line">[Sunday 27 March 2011] [16:26:22] &lt;pieterh&gt;   RHEL x.x?</div>
<div class="line">[Sunday 27 March 2011] [16:26:23] &lt;Guthur&gt;    if that happens they usually fork off and rename,</div>
<div class="line">[Sunday 27 March 2011] [16:26:55] &lt;Guthur&gt;    not familiar with RH to be honest</div>
<div class="line">[Sunday 27 March 2011] [16:27:02] &lt;pieterh&gt;   the linux kernel is repackaged in many distributions, each is a project</div>
<div class="line">[Sunday 27 March 2011] [16:27:42] &lt;Guthur&gt;    yes but are we not talking about the &#8216;kernel&#8217; at the moment</div>
<div class="line">[Sunday 27 March 2011] [16:27:51] &lt;pieterh&gt;   well, libzmq is like the kernel for ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:28:14] &lt;pieterh&gt;   mikko: next time you send me a pull request for 2-1, I&#8217;ll reject it, OK?</div>
<div class="line">[Sunday 27 March 2011] [16:28:19] &lt;Guthur&gt;    so 2, 2-1, 2-2 are distros?</div>
<div class="line">[Sunday 27 March 2011] [16:28:24] &lt;pieterh&gt;   yes, thank you</div>
<div class="line">[Sunday 27 March 2011] [16:28:29] &lt;pieterh&gt;   2 is not</div>
<div class="line">[Sunday 27 March 2011] [16:28:33] &lt;pieterh&gt;   2 is dead</div>
<div class="line">[Sunday 27 March 2011] [16:28:45] &lt;pieterh&gt;   will be dead once it&#8217;s been renamed to libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:29:04] &lt;Guthur&gt;    seems I a bit crazy to me, but i&#8217;m not overly experienced with these sort of things</div>
<div class="line">[Sunday 27 March 2011] [16:29:26] &lt;pieterh&gt;   there is no other way to create the freedom to make real packaging projects</div>
<div class="line">[Sunday 27 March 2011] [16:29:36] &lt;pieterh&gt;   it seems pretty clear to me</div>
<div class="line">[Sunday 27 March 2011] [16:29:53] &lt;pieterh&gt;   alternative is to all work in one repo, and have no packaging projects</div>
<div class="line">[Sunday 27 March 2011] [16:30:02] &lt;mikko&gt;     hahaha, you designed the schema</div>
<div class="line">[Sunday 27 March 2011] [16:30:07] &lt;mikko&gt;     of course it&#8217;s clear to you</div>
<div class="line">[Sunday 27 March 2011] [16:30:16] &lt;pieterh&gt;   sure</div>
<div class="line">[Sunday 27 March 2011] [16:30:22] &lt;mikko&gt;     but from contributor&#8217;s point of view the situation is not very good (imho)</div>
<div class="line">[Sunday 27 March 2011] [16:30:33] &lt;pieterh&gt;   well, it&#8217;ll be clearer IMO when libzmq is properly named</div>
<div class="line">[Sunday 27 March 2011] [16:30:43] &lt;pieterh&gt;   &#8220;send your patch to the libzmq project&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:30:50] &lt;pieterh&gt;   and that can downstream to the various distros</div>
<div class="line">[Sunday 27 March 2011] [16:30:53] &lt;mikko&gt;     what happens when sustrik is on holidays?</div>
<div class="line">[Sunday 27 March 2011] [16:31:00] &lt;pieterh&gt;   ask him, I don&#8217;t know</div>
<div class="line">[Sunday 27 March 2011] [16:31:10] &lt;pieterh&gt;   mikko: this is not a command-and-control model</div>
<div class="line">[Sunday 27 March 2011] [16:31:13] &lt;mikko&gt;     see, are we not creating massive bottlenecks?</div>
<div class="line">[Sunday 27 March 2011] [16:31:28] &lt;pieterh&gt;   propose an alternative to &#8220;person who knows the code real well&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:31:38] &lt;pieterh&gt;   we&#8217;re not <em>creating</em> that bottleneck, it exists</div>
<div class="line">[Sunday 27 March 2011] [16:31:48] &lt;pieterh&gt;   seriously, your alternative is what, clone sustrik?</div>
<div class="line">[Sunday 27 March 2011] [16:32:05] &lt;pieterh&gt;   there are other people who know the core structures pretty well</div>
<div class="line">[Sunday 27 March 2011] [16:32:14] &lt;pieterh&gt;   if sustrik is unable to act as maintainer, I&#8217;m sure he&#8217;ll delegate</div>
<div class="line">[Sunday 27 March 2011] [16:32:21] &lt;pieterh&gt;   but it is <em>his</em> responsibility</div>
<div class="line">[Sunday 27 March 2011] [16:32:35] &lt;pieterh&gt;   you and me can debate that for years, it matters not at all</div>
<div class="line">[Sunday 27 March 2011] [16:32:52] &lt;mikko&gt;     yes, what i don&#8217;t get is this cycle:</div>
<div class="line">[Sunday 27 March 2011] [16:32:56] &lt;Guthur&gt;    could we not have the situation where the &#8216;distros&#8217; start deviating quite far from the main dev branch</div>
<div class="line">[Sunday 27 March 2011] [16:33:05] &lt;pieterh&gt;   Guthur: unlikely, why would they?</div>
<div class="line">[Sunday 27 March 2011] [16:33:31] &lt;mikko&gt;     fork libzmq, create patch, commit, create signed patch, reset, wait for a merge, then pull down your own changes</div>
<div class="line">[Sunday 27 March 2011] [16:33:32] &lt;pieterh&gt;   the very point is that the people maintaining distros don&#8217;t know the code</div>
<div class="line">[Sunday 27 March 2011] [16:33:40] &lt;Guthur&gt;    just curious really, they seemed to have become more than just previous versions</div>
<div class="line">[Sunday 27 March 2011] [16:33:46] &lt;pieterh&gt;   mikko: ack, it&#8217;s complex and I don&#8217;t like it</div>
<div class="line">[Sunday 27 March 2011] [16:33:50] &lt;Guthur&gt;    they seemed to have become their own projects</div>
<div class="line">[Sunday 27 March 2011] [16:34:06] &lt;mikko&gt;     forgot the &#8220;send mail to mailing-list&#8221; from that</div>
<div class="line">[Sunday 27 March 2011] [16:34:12] &lt;pieterh&gt;   Guthur: &#8216;seem to&#8217; is mild, the goal was to create dependent projects</div>
<div class="line">[Sunday 27 March 2011] [16:34:16] &lt;pieterh&gt;   mikko: yes, I know</div>
<div class="line">[Sunday 27 March 2011] [16:34:29] &lt;pieterh&gt;   I&#8217;ve lobbied sustrik on this several times, here and on the list</div>
<div class="line">[Sunday 27 March 2011] [16:34:49] &lt;pieterh&gt;   next time, chime in, on the ML thread ... :-/</div>
<div class="line">[Sunday 27 March 2011] [16:35:10] &lt;mikko&gt;     i had forgotten about the ML patches already</div>
<div class="line">[Sunday 27 March 2011] [16:35:18] &lt;pieterh&gt;   I spent a lot of effort documenting alternative flows on the contributing page</div>
<div class="line">[Sunday 27 March 2011] [16:39:55] &lt;Guthur&gt;    pieterh, dependent or independent?</div>
<div class="line">[Sunday 27 March 2011] [16:40:04] &lt;pieterh&gt;   both :-)</div>
<div class="line">[Sunday 27 March 2011] [16:40:17] &lt;pieterh&gt;   look, 2-1 is not a good example, it&#8217;s too young</div>
<div class="line">[Sunday 27 March 2011] [16:40:33] &lt;Guthur&gt;    though it already as deviation</div>
<div class="line">[Sunday 27 March 2011] [16:40:36] &lt;pieterh&gt;   2-2 will include, in my plans, libzmq, libzapi, the new C++ binding</div>
<div class="line">[Sunday 27 March 2011] [16:40:43] &lt;Guthur&gt;    where something needs forward ported</div>
<div class="line">[Sunday 27 March 2011] [16:40:53] &lt;pieterh&gt;   obviously it depends on those N projects</div>
<div class="line">[Sunday 27 March 2011] [16:41:03] &lt;Guthur&gt;    admittedly only a minor #define</div>
<div class="line">[Sunday 27 March 2011] [16:41:11] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:41:32] &lt;pieterh&gt;   one way would be to use submodules and branches in the source repo</div>
<div class="line">[Sunday 27 March 2011] [16:41:50] &lt;pieterh&gt;   that would require that the branches are maintained in that repo</div>
<div class="line">[Sunday 27 March 2011] [16:42:26] &lt;pieterh&gt;   experience is that this wasn&#8217;t happening, due to complexity of moving changes between branches (or somesuch)</div>
<div class="line">[Sunday 27 March 2011] [16:42:47] &lt;pieterh&gt;   lack of interest from main developers in maintaining branches</div>
<div class="line">[Sunday 27 March 2011] [16:42:54] &lt;mikko&gt;     it&#8217;s the same amount of complexity as between different repos</div>
<div class="line">[Sunday 27 March 2011] [16:42:58] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:43:12] &lt;pieterh&gt;   exactly, but with different repos, you can slice the work over several people much more easily</div>
<div class="line">[Sunday 27 March 2011] [16:43:22] &lt;pieterh&gt;   this is the key insight</div>
<div class="line">[Sunday 27 March 2011] [16:43:31] &lt;pieterh&gt;   collaborating inside one repo is really difficult</div>
<div class="line">[Sunday 27 March 2011] [16:43:35] &lt;pieterh&gt;   it demands agreement</div>
<div class="line">[Sunday 27 March 2011] [16:43:42] &lt;pieterh&gt;   clearly we don&#8217;t get that easily</div>
<div class="line">[Sunday 27 March 2011] [16:43:44] &lt;Guthur&gt;    I thought git made it easier</div>
<div class="line">[Sunday 27 March 2011] [16:43:54] &lt;pieterh&gt;   it doesn&#8217;t change people and make them less stubborn</div>
<div class="line">[Sunday 27 March 2011] [16:43:58] &lt;Guthur&gt;    certainly easier than the likes of SVN</div>
<div class="line">[Sunday 27 March 2011] [16:44:04] &lt;pieterh&gt;   git makes it easier to have many repos</div>
<div class="line">[Sunday 27 March 2011] [16:44:15]      * Guthur has SVN pain at work, it&#8217;s not pretty</div>
<div class="line">[Sunday 27 March 2011] [16:44:19] &lt;pieterh&gt;   indeed</div>
<div class="line">[Sunday 27 March 2011] [16:44:34] &lt;pieterh&gt;   git lets us solve the problem by slicing projects up, like I said on the ML, per ego</div>
<div class="line">[Sunday 27 March 2011] [16:44:45] &lt;pieterh&gt;   it&#8217;s actually a really pleasant way to work</div>
<div class="line">[Sunday 27 March 2011] [16:44:53] &lt;Guthur&gt;    yeah, that discussion got a little out of hand</div>
<div class="line">[Sunday 27 March 2011] [16:45:09] &lt;Guthur&gt;    well it appeared so from an onlookers perspective</div>
<div class="line">[Sunday 27 March 2011] [16:45:14] &lt;pieterh&gt;   exactly, and that was the same last time we discussed multiple branches in the main repo</div>
<div class="line">[Sunday 27 March 2011] [16:46:39] &lt;pieterh&gt;   that was sometime in July iir, and my conclusion was &#8220;don&#8217;t work in the core repo, ever&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:47:18] &lt;mikko&gt;     as the community grows an ideal process to me would be to have multiple people with commit access</div>
<div class="line">[Sunday 27 March 2011] [16:47:29] &lt;mikko&gt;     and each set of changes is mailed automatically to mailing-list</div>
<div class="line">[Sunday 27 March 2011] [16:47:52] &lt;pieterh&gt;   mikko: yes, probably a good model</div>
<div class="line">[Sunday 27 March 2011] [16:48:36] &lt;mikko&gt;     this also gives more visibility to changes going into repo and allows easily start conversation on mailing-list</div>
<div class="line">[Sunday 27 March 2011] [16:48:53] &lt;pieterh&gt;   however, I&#8217;m not going to raise this discussion for libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:49:15] &lt;pieterh&gt;   you already have committer access to libzapi and libzfl</div>
<div class="line">[Sunday 27 March 2011] [16:50:25] &lt;Guthur&gt;    libzmq is the heart of it all though, and so the most important</div>
<div class="line">[Sunday 27 March 2011] [16:50:27] &lt;mikko&gt;     yes</div>
<div class="line">[Sunday 27 March 2011] [16:50:39] &lt;mikko&gt;     for example now i would be keen on getting coverage into libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:50:39] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:50:51] &lt;mikko&gt;     but it&#8217;s futile to work on the stuff before openpgm patch has been merged</div>
<div class="line">[Sunday 27 March 2011] [16:51:08] &lt;pieterh&gt;   mikko: my experience contributing to core has been quite negative, I have to admit</div>
<div class="line">[Sunday 27 March 2011] [16:51:10] &lt;mikko&gt;     i don&#8217;t even know if rebase works well on that cycle</div>
<div class="line">[Sunday 27 March 2011] [16:51:50] &lt;mikko&gt;     as in, when i pull back the changes merged by sustrik does that conflict with my local changes?</div>
<div class="line">[Sunday 27 March 2011] [16:51:59] &lt;mikko&gt;     or is it the same commit?</div>
<div class="line">[Sunday 27 March 2011] [16:52:08] &lt;pieterh&gt;   depends how you do it IMO</div>
<div class="line">[Sunday 27 March 2011] [16:58:43] &lt;pieterh&gt;   Guthur: OK, I&#8217;m able to inline the main language, the page is slow but loads</div>
<div class="line">[Sunday 27 March 2011] [17:00:28] &lt;Seta00&gt;    pieterh: the libzapi project file is broken</div>
<div class="line">[Sunday 27 March 2011] [17:00:54] &lt;pieterh&gt;   Seta00: yes, I&#8217;ve not tested it yet on MSVC</div>
<div class="line">[Sunday 27 March 2011] [17:01:03] &lt;pieterh&gt;   do you want to try fixing it and sending a patch?</div>
<div class="line">[Sunday 27 March 2011] [17:01:25] &lt;Seta00&gt;    yes</div>
<div class="line">[Sunday 27 March 2011] [17:01:31] &lt;pieterh&gt;   it&#8217;s a copy of the libzfl project file, but obviously refers to the wrong sources &amp; includes</div>
<div class="line">[Sunday 27 March 2011] [17:01:33] &lt;pieterh&gt;   thanks! :-)</div>
<div class="line">[Sunday 27 March 2011] [17:06:19] &lt;pieterh&gt;   g&#8217;night folks, I need to crash, early morning tomorrow</div>
<div class="line">[Sunday 27 March 2011] [17:06:48] &lt;Seta00&gt;    pieterh: just a small question before you go, if you have to include non-standard headers to the project, where should they go? on the standard include directory?</div>
<div class="line">[Sunday 27 March 2011] [17:06:55] &lt;Seta00&gt;    (MSVC doesn&#8217;t have inttypes.h)</div>
<div class="line">[Sunday 27 March 2011] [17:07:05] &lt;Seta00&gt;    but there&#8217;s <a class="reference external" href="https://code.google.com/p/msinttypes/">https://code.google.com/p/msinttypes/</a></div>
<div class="line">[Sunday 27 March 2011] [17:07:24] &lt;pieterh&gt;   Seta00: hmm, edit zapi_prelude.h to include the right files and move the existing include to one of the #if UNIX blocks</div>
<div class="line">[Sunday 27 March 2011] [17:07:33] &lt;Seta00&gt;    okay thanks</div>
<div class="line">[Sunday 27 March 2011] [17:07:49] &lt;pieterh&gt;   there&#8217;s a section in the doc on Porting libzapi, may be helpful</div>
<div class="line">[Sunday 27 March 2011] [17:39:14] &lt;Seta00&gt;    apparently msvc has no implementation of sigaction</div>
<div class="line">[Sunday 27 March 2011] [17:39:23] &lt;Seta00&gt;    :(</div>
<div class="line">[Sunday 27 March 2011] [17:42:31] &lt;JusticeFries&gt;      what are the differences in typical use cases for 0mq vs something like rabbitmq?</div>
<div class="line">[Sunday 27 March 2011] [19:05:16] &lt;klestes&gt;   hello, is anyone talking today ?</div>
<div class="line">[Sunday 27 March 2011] [19:19:27] &lt;klestes&gt;   if anyone does see this, what is the best way to interoperate with channels in basic (non 0MQ) tcp ?  do you have to write a custom gateway, TCP &lt;&#8211;&gt; 0MQ, or is there a better solution inherent in 0MQ that I&#8217;ve missed ?</div>
<div class="line">[Sunday 27 March 2011] [19:20:09] &lt;jdroid-&gt;   i&#8217;ve been using zmq with python and am trying to compile some stuff with c now, but I keep getting errors.</div>
<div class="line">[Sunday 27 March 2011] [19:20:36] &lt;jdroid-&gt;   does this make sense to anyone? <a class="reference external" href="http://pastebin.com/7Mj5KSSH">http://pastebin.com/7Mj5KSSH</a></div>
<div class="line">[Sunday 27 March 2011] [19:20:44]      * jdroid- is very rusty with c...</div>
<div class="line">[Sunday 27 March 2011] [19:21:06] &lt;jdroid-&gt;   here&#8217;s the code: <a class="reference external" href="http://pastebin.com/efKgRJiK">http://pastebin.com/efKgRJiK</a></div>
<div class="line">[Sunday 27 March 2011] [19:21:22] &lt;klestes&gt;   you have to program a lot lower with C than with python - how would you say the experience has been using python with 0MQ ?</div>
<div class="line">[Sunday 27 March 2011] [19:22:06] &lt;jdroid-&gt;   The experience with python has been awesome so far. Very easy.</div>
<div class="line">[Sunday 27 March 2011] [19:22:23] &lt;jdroid-&gt;   I built a Mongrel2 handler with eventlet and zeromq recently. github.com/j2labs/brubeck</div>
<div class="line">[Sunday 27 March 2011] [19:23:20] &lt;jdroid-&gt;   I&#8217;ve been posting a few pyzmq examples to github as it comes up in conversation, but I want to add a multilang example AND get back in C doing it.</div>
<div class="line">[Sunday 27 March 2011] [19:23:26] &lt;jdroid-&gt;   <a class="reference external" href="https://github.com/j2labs/zmq_examples">https://github.com/j2labs/zmq_examples</a></div>
<div class="line">[Sunday 27 March 2011] [19:23:53] &lt;klestes&gt;   after learning Perl, my goal is never go back to C!  Evah !</div>
<div class="line">[Sunday 27 March 2011] [19:24:13] &lt;jdroid-&gt;   After learning Perl, I vowed never to go back to Perl. So right back atcha buddy!</div>
<div class="line">[Sunday 27 March 2011] [19:24:31] &lt;jdroid-&gt;   :)</div>
<div class="line">[Sunday 27 March 2011] [19:24:47] &lt;klestes&gt;   also you might want to check out the new zapi.  Hintjen is very excited about it, so it could be big.</div>
<div class="line">[Sunday 27 March 2011] [19:25:06] &lt;klestes&gt;   well, I&#8217;m not going to stir up a fight.  I have a lot of respect for Python, and might be doing some work in it soon myself.</div>
<div class="line">[Sunday 27 March 2011] [19:26:28] &lt;klestes&gt;   my point was to be, programming 0MQ in either python or perl is much easier than C, IMHO.</div>
<div class="line">[Sunday 27 March 2011] [19:26:52] &lt;jdroid-&gt;   Well I&#8217;m only kidding anyway. Perl is a fine language if you&#8217;re working with people who respect others. :)</div>
<div class="line">[Sunday 27 March 2011] [19:28:29] &lt;klestes&gt;   It has its warts, and its uhm, non warty really ok type features.</div>
<div class="line">[Sunday 27 March 2011] [19:28:53] &lt;klestes&gt;   I get sick of all those $ signs all the time, esp. since its been a while since I&#8217;ve seen $$$$ !</div>
<div class="line">[Sunday 27 March 2011] [19:29:32] &lt;jdroid-&gt;   You&#8217;ll dig python then I&#8217;m sure. The code is generally as easy to read as people say.</div>
<div class="line">[Sunday 27 March 2011] [19:29:38] &lt;jdroid-&gt;   But anyway... I&#8217;m trying to get some c compiled!</div>
<div class="line">[Sunday 27 March 2011] [19:29:52] &lt;klestes&gt;   I looked at your code, but not being in C for at least a decade, I couildn&#8217;t catch anything right off the bat.  I know its either a linking issue, or maybe forgetting to include a header (but you seem to have done that right)</div>
<div class="line">[Sunday 27 March 2011] [19:30:19] &lt;klestes&gt;   what compiler are you using, Gcc ?</div>
<div class="line">[Sunday 27 March 2011] [19:31:03] &lt;jdroid-&gt;   oh great question actually... i&#8217;m using the gcc xcode gave me</div>
<div class="line">[Sunday 27 March 2011] [19:31:34] &lt;jdroid-&gt;   seems to compile mongrel2 just fine, so i figure i&#8217;ve got my args wrong somehow</div>
<div class="line">[Sunday 27 March 2011] [19:31:50] &lt;jdroid-&gt;   gcc 4.2.1 specifically tho</div>
<div class="line">[Sunday 27 March 2011] [19:31:51] &lt;klestes&gt;   uhm, xcode - are you on OS/X ?</div>
<div class="line">[Sunday 27 March 2011] [19:31:54] &lt;jdroid-&gt;   yep</div>
<div class="line">[Sunday 27 March 2011] [19:31:59] &lt;klestes&gt;   lucky guy !</div>
<div class="line">[Sunday 27 March 2011] [19:32:09] &lt;jdroid-&gt;   i guess..? macs are cheap these days</div>
<div class="line">[Sunday 27 March 2011] [19:32:18] &lt;klestes&gt;   someday I&#8217;m gonna go mac...and never come back.</div>
<div class="line">[Sunday 27 March 2011] [19:32:33] &lt;klestes&gt;   well, depends on what kinda mac you want.  the one I want is 2.5 - 3k.</div>
<div class="line">[Sunday 27 March 2011] [19:34:03] &lt;klestes&gt;   try compiling and linking one of the simple examples from the guide.  do you get the same errors ?</div>
<div class="line">[Sunday 27 March 2011] [19:35:54] &lt;jdroid-&gt;   i seem to get the same errrors</div>
<div class="line">[Sunday 27 March 2011] [19:35:56] &lt;jdroid-&gt;   hmm</div>
<div class="line">[Sunday 27 March 2011] [19:36:11] &lt;jdroid-&gt;   i tried this: <a class="reference external" href="http://zguide.zeromq.org/c:hwclient">http://zguide.zeromq.org/c:hwclient</a></div>
<div class="line">[Sunday 27 March 2011] [19:38:51] &lt;jdroid-&gt;   ah got it</div>
<div class="line">[Sunday 27 March 2011] [19:39:00] &lt;jdroid-&gt;   i forgot -lzmq at the end of the gcc cmd</div>
<div class="line">[Sunday 27 March 2011] [19:39:42] &lt;JusticeFries&gt;      what is the difference in typical use case for 0mq versus something in the realm of rabbitmq?</div>
<div class="line">[Sunday 27 March 2011] [19:40:05] &lt;jdroid-&gt;   JusticeFries: I think the mistake there is assuming zmq is a replacement for rabbitmq</div>
<div class="line">[Sunday 27 March 2011] [19:40:19] &lt;JusticeFries&gt;      nope</div>
<div class="line">[Sunday 27 March 2011] [19:40:23] &lt;JusticeFries&gt;      not assuming replacement.</div>
<div class="line">[Sunday 27 March 2011] [19:40:30] &lt;JusticeFries&gt;      i&#8217;m interested in how they complement each other, too. :)</div>
<div class="line">[Sunday 27 March 2011] [19:40:34] &lt;JusticeFries&gt;      and what each one excels at.</div>
<div class="line">[Sunday 27 March 2011] [19:40:53] &lt;jdroid-&gt;   :)</div>
<div class="line">[Sunday 27 March 2011] [19:41:30] &lt;jdroid-&gt;   So ZMQ is more like sockets with messaging semantics. You&#8217;d still build your broker, which might be dropping stuff from one zmq socket in a db, while sending stuff out of the db across another socket</div>
<div class="line">[Sunday 27 March 2011] [19:41:58] &lt;JusticeFries&gt;      okay.</div>
<div class="line">[Sunday 27 March 2011] [19:42:05] &lt;JusticeFries&gt;      unix sockets, or something more specific to ZMQ?</div>
<div class="line">[Sunday 27 March 2011] [19:42:16] &lt;jdroid-&gt;   Zmq offers multiple types of sockets.</div>
<div class="line">[Sunday 27 March 2011] [19:42:21] &lt;JusticeFries&gt;      fair enough.</div>
<div class="line">[Sunday 27 March 2011] [19:42:25] &lt;jdroid-&gt;   You could use unix sockets if you want. You could use tcp just as easily</div>
<div class="line">[Sunday 27 March 2011] [19:43:49] &lt;JusticeFries&gt;      so then - I&#8217;m looking at doing something that settles somewhere near rabbit&#8217;s topic exchanges. basically, using it for some group messaging functions for end users that doesn&#8217;t hit the DB.</div>
<div class="line">[Sunday 27 March 2011] [19:43:52] &lt;klestes&gt;   I&#8217;ve heard that rabbitMQ is somewhat synergetic with ZMQ, it can be made into a broker.</div>
<div class="line">[Sunday 27 March 2011] [19:44:01] &lt;JusticeFries&gt;      i&#8217;ve heard that too.</div>
<div class="line">[Sunday 27 March 2011] [19:44:10] &lt;klestes&gt;   we musta read the same article ;)_</div>
<div class="line">[Sunday 27 March 2011] [19:44:15] &lt;JusticeFries&gt;      just not sure where to fit it in, or if it is even useful in this current context.</div>
<div class="line">[Sunday 27 March 2011] [19:44:44] &lt;jdroid-&gt;   what you heard is probably that zeromq has amqp support: <a class="reference external" href="http://www.zeromq.org/docs:welcome-from-amqp">http://www.zeromq.org/docs:welcome-from-amqp</a></div>
<div class="line">[Sunday 27 March 2011] [19:44:58] &lt;JusticeFries&gt;      either that or ilya&#8217;s blog.</div>
<div class="line">[Sunday 27 March 2011] [19:45:02] &lt;JusticeFries&gt;      igvita</div>
<div class="line">[Sunday 27 March 2011] [19:45:33] &lt;JusticeFries&gt;      heh I like the gross generalizations.</div>
<div class="line">[Sunday 27 March 2011] [19:45:46] &lt;jdroid-&gt;   thanks. i&#8217;m the James Dennis that&#8217;s quoted!</div>
<div class="line">[Sunday 27 March 2011] [19:45:51] &lt;klestes&gt;   yeah, he does that well :)</div>
<div class="line">[Sunday 27 March 2011] [19:45:59] &lt;JusticeFries&gt;      ha nice.</div>
<div class="line">[Sunday 27 March 2011] [19:46:13] &lt;klestes&gt;   its a small 0world after all.</div>
<div class="line">[Sunday 27 March 2011] [19:46:26] &lt;JusticeFries&gt;      well i may assault you with questions later - though the guide is pretty extensive</div>
<div class="line">[Sunday 27 March 2011] [19:46:34] &lt;klestes&gt;   0mq used to - didn&#8217;t they chunk the amqp thang ?</div>
<div class="line">[Sunday 27 March 2011] [19:46:49] &lt;klestes&gt;   yeah, and it seems to be getting biggeer and betta&#8217; all the time...</div>
<div class="line">[Sunday 27 March 2011] [21:35:55] &lt;jdroid-&gt;   These slides are awesome: <a class="reference external" href="http://www.slideshare.net/IanBarber/zeromq-is-the-answer">http://www.slideshare.net/IanBarber/zeromq-is-the-answer</a></div>
<div class="line">[Sunday 27 March 2011] [21:41:34] &lt;xet&gt;       hi</div>
<div class="line">[Sunday 27 March 2011] [21:42:33] &lt;xet&gt;       im doing some tests in a small pub/sub app</div>
<div class="line">[Sunday 27 March 2011] [21:42:43] &lt;xet&gt;       need some help</div>
<div class="line">[Monday 28 March 2011] [03:29:36] &lt;guido_g&gt;   pieterh: what the hell did you do to the guide? firefox uses 100% cpu and opera takes ages to load the page.</div>
<div class="line">[Monday 28 March 2011] [06:59:32] &lt;pieterh&gt;   guido_g: hi</div>
<div class="line">[Monday 28 March 2011] [09:43:54] &lt;nicolas&gt;   hi</div>
<div class="line">[Monday 28 March 2011] [09:56:03] &lt;pieterh&gt;   nicolas: hi</div>
<div class="line">[Monday 28 March 2011] [10:07:42] &lt;nicolas&gt;   i&#8217;m having some trouble with zmq pub/sub in c++</div>
<div class="line">[Monday 28 March 2011] [10:08:29] &lt;nicolas&gt;   memory starts to be eaten by my application</div>
<div class="line">[Monday 28 March 2011] [10:08:48] &lt;nicolas&gt;   and it has no memory leaks</div>
<div class="line">[Monday 28 March 2011] [10:09:03] &lt;nicolas&gt;   its just a simple client/server pair to do performance tests</div>
<div class="line">[Monday 28 March 2011] [10:15:09] &lt;nicolas&gt;   it seems to be that the client is receiving or processing data faster than the server, and then the server starts to eat memory up</div>
<div class="line">[Monday 28 March 2011] [10:21:59] &lt;pieterh&gt;   nicolas: yes, this is normal</div>
<div class="line">[Monday 28 March 2011] [10:22:09] &lt;pieterh&gt;   the client is presumably slower than the server</div>
<div class="line">[Monday 28 March 2011] [10:23:04] &lt;pieterh&gt;   you should set a high-water mark, on the PUB socket</div>
<div class="line">[Monday 28 March 2011] [10:24:31] &lt;traviscline&gt;       nicolas: with 0mq it&#8217;s up to you in some sense how you want to deal with that mismatch, covered well by the guide</div>
<div class="line">[Monday 28 March 2011] [10:25:53] &lt;CIA-22&gt;    jzmq: 03Gonzalo Diethelm 07master * re3dc6dc 10/ (2 files): Got rid of calls to sleep() in all examples / tests. - <a class="reference external" href="http://bit.ly/fnyW8U">http://bit.ly/fnyW8U</a></div>
<div class="line">[Monday 28 March 2011] [10:45:54] &lt;nicolas&gt;   I see</div>
<div class="line">[Monday 28 March 2011] [10:46:33] &lt;nicolas&gt;   pieterh: thanks</div>
<div class="line">[Monday 28 March 2011] [10:46:44] &lt;pieterh&gt;   nicolas: np</div>
<div class="line">[Monday 28 March 2011] [10:46:50] &lt;nicolas&gt;   traviscline: any particular seciton of the guide that might be helpful for my problem ?</div>
<div class="line">[Monday 28 March 2011] [10:47:32] &lt;traviscline&gt;       nicolas: absolutely read the whole thing, but in particular look for HWM references</div>
<div class="line">[Monday 28 March 2011] [10:47:33] &lt;pieterh&gt;   nicolas: this is explained in Ch2, <a class="reference external" href="http://zguide.zeromq.org/page:all#toc43">http://zguide.zeromq.org/page:all#toc43</a></div>
<div class="line">[Monday 28 March 2011] [10:47:45] &lt;nicolas&gt;   thanks!</div>
<div class="line">[Monday 28 March 2011] [11:17:33] &lt;private_meta&gt;      ahahaha... binary star... good name</div>
<div class="line">[Monday 28 March 2011] [11:24:38] &lt;private_meta&gt;      pieterh: there?</div>
<div class="line">[Monday 28 March 2011] [12:21:09] &lt;rbancroft&gt; l</div>
<div class="line">[Monday 28 March 2011] [12:21:25] &lt;rbancroft&gt; im sorry, mischan</div>
<div class="line">[Monday 28 March 2011] [12:22:58] &lt;mikko&gt;     hi</div>
<div class="line">[Monday 28 March 2011] [12:53:11] &lt;private_meta&gt;      pieterh: a short question about zmsg. You are using unsigned characters as storage option for message parts, but whatever input or output you do or get from zmsg is signed char. You told me that void * instead of char * should be used, but still I find it somewhat inconsistent that you store in unsigned char and input/output in the zmsg as signed char.</div>
<div class="line">[Monday 28 March 2011] [12:53:48] &lt;private_meta&gt;      pieterh: maybe some consistency update would be good, like making it signed char as the entire existing api of zmsg is signed char only</div>
<div class="line">[Monday 28 March 2011] [13:40:38] &lt;pieterh&gt;   private_meta: re</div>
<div class="line">[Monday 28 March 2011] [13:41:25] &lt;pieterh&gt;   zmsg in the Guide is string-based but in libzapi I moved to a proper binary API</div>
<div class="line">[Monday 28 March 2011] [15:03:35] &lt;pieterh&gt;   mikko: hi!</div>
<div class="line">[Monday 28 March 2011] [15:08:07] &lt;jobytaffey&gt;        Hi, I&#8217;m having a problem with libev and REP sockets. I get the fd from ZMQ_FD, I watch for EV_READ and then zmq_recv(). I then watch for EV_WRITE and zmq_send(). But, after the first pair of messages, I never see EV_READ again. Oddly, if I ctrl-c my REQ test app (infinite loop doing zmq_send + zmq_recv) my REP app receives a packet. Any ideas?</div>
<div class="line">[Monday 28 March 2011] [15:09:58] &lt;pieterh&gt;   jobytaffey: are you checking for errors on all 0MQ calls?</div>
<div class="line">[Monday 28 March 2011] [15:10:09] &lt;jobytaffey&gt;        I believe so, yes.</div>
<div class="line">[Monday 28 March 2011] [15:11:14] &lt;pieterh&gt;   Sounds like you&#8217;re stuck in a blocking call which exits when you press Ctrl-C, and then your test app does a send on the REQ socket</div>
<div class="line">[Monday 28 March 2011] [15:11:49] &lt;pieterh&gt;   without a minimal example to look at, it&#8217;s hard to help...</div>
<div class="line">[Monday 28 March 2011] [15:12:07] &lt;jobytaffey&gt;        I thought you&#8217;d say that, I&#8217;ll get to work on one :-)</div>
<div class="line">[Monday 28 March 2011] [15:14:26] &lt;mikko&gt;     pieterh: hi</div>
<div class="line">[Monday 28 March 2011] [15:14:35] &lt;pieterh&gt;   mikko: excellent latency this evening :-)</div>
<div class="line">[Monday 28 March 2011] [15:40:35] &lt;Guthur&gt;    Describing ZeroMQ in five minutes, is it possible? hehe</div>
<div class="line">[Monday 28 March 2011] [15:41:05] &lt;Guthur&gt;    there is space for a 5 min lightening talk at the ELS, and I&#8217;m tempted to give it a go</div>
<div class="line">[Monday 28 March 2011] [15:41:17] &lt;mikko&gt;     whats ELS?</div>
<div class="line">[Monday 28 March 2011] [15:41:53] &lt;Guthur&gt;    European Lisp Symposium</div>
<div class="line">[Monday 28 March 2011] [15:42:02] &lt;Guthur&gt;    it&#8217;s on this week in Hamburg</div>
<div class="line">[Monday 28 March 2011] [15:43:45] &lt;jond&gt;      Guthur : which lisp are you using out of interest?</div>
<div class="line">[Monday 28 March 2011] [15:44:01] &lt;pieterh&gt;   Guthur: 5 minutes is kind of tight :-)</div>
<div class="line">[Monday 28 March 2011] [15:44:21] &lt;pieterh&gt;   you can say exactly one thing, and repeat it three times</div>
<div class="line">[Monday 28 March 2011] [15:44:23] &lt;jdroid-&gt;   Guthur: I think you can get the gist of it quickly.</div>
<div class="line">[Monday 28 March 2011] [15:44:48] &lt;Guthur&gt;    jond, I don&#8217;t get to use it nearly as much as I like, but it would be usually Common Lisp, SBCL would be my implementation of choice</div>
<div class="line">[Monday 28 March 2011] [15:44:57] &lt;jdroid-&gt;   I wrote this on HN yesterday and realized you actually can describe zmq fast. You just need to start with saying it&#8217;s a sockets system.</div>
<div class="line">[Monday 28 March 2011] [15:44:59] &lt;jdroid-&gt;   <a class="reference external" href="http://news.ycombinator.com/item?id=2377224">http://news.ycombinator.com/item?id=2377224</a></div>
<div class="line">[Monday 28 March 2011] [15:45:26] &lt;jdroid-&gt;   Put messaging in to the idea once they understand how the socket&#8217;s side of it works. I think Zed takes this approach too, but I&#8217;m inferring that from having seen him speak</div>
<div class="line">[Monday 28 March 2011] [15:45:32] &lt;pieterh&gt;   &#8220;That&#8217;s correct that ZeroMQ isn&#8217;t a server&#8221;...</div>
<div class="line">[Monday 28 March 2011] [15:45:32] &lt;jond&gt;      Guthur: didnt zed shaw have a &#8220;sockets done right&#8221; article somewhere which might have been appropriated into the guide somewhere?</div>
<div class="line">[Monday 28 March 2011] [15:45:48] &lt;pieterh&gt;   jond: I had used part of Zed&#8217;s text, originally, but took it out again</div>
<div class="line">[Monday 28 March 2011] [15:45:52] &lt;jdroid-&gt;   pieterh: do you take issue with that line?</div>
<div class="line">[Monday 28 March 2011] [15:45:53] &lt;Guthur&gt;    I&#8217;ll have a look</div>
<div class="line">[Monday 28 March 2011] [15:46:06] &lt;pieterh&gt;   jdroid-: nope, it&#8217;s accurate</div>
<div class="line">[Monday 28 March 2011] [15:46:10] &lt;jdroid-&gt;   sweet</div>
<div class="line">[Monday 28 March 2011] [15:46:26] &lt;jdroid-&gt;   here&#8217;s the whole thread: <a class="reference external" href="http://news.ycombinator.com/item?id=2376822">http://news.ycombinator.com/item?id=2376822</a></div>
<div class="line">[Monday 28 March 2011] [15:46:27] &lt;pieterh&gt;   I&#8217;m just lolling because I finished writing Binary Star, a pattern for a high-availability server pair</div>
<div class="line">[Monday 28 March 2011] [15:46:54] &lt;pieterh&gt;   0MQ is a high-level language for constructing asynchronous messaging architectures</div>
<div class="line">[Monday 28 March 2011] [15:47:08] &lt;pieterh&gt;   it has implementations in 20+ programming languages</div>
<div class="line">[Monday 28 March 2011] [15:47:12] &lt;Guthur&gt;    I suppose it will be a good challenge to try a lightening talk, if nothing else</div>
<div class="line">[Monday 28 March 2011] [15:47:30] &lt;pieterh&gt;   it can construct brokers, clients, services, data distribution, workload distribution</div>
<div class="line">[Monday 28 March 2011] [15:47:35] &lt;jdroid-&gt;   Guthur: I put together these examples with that in mind: <a class="reference external" href="https://github.com/j2labs/zmq_examples">https://github.com/j2labs/zmq_examples</a></div>
<div class="line">[Monday 28 March 2011] [15:48:13] &lt;jond&gt;      pieterh : but actually via zfl zapi it becomes less about 0mq</div>
<div class="line">[Monday 28 March 2011] [15:48:27] &lt;pieterh&gt;   jond: it&#8217;s the same high level language</div>
<div class="line">[Monday 28 March 2011] [15:48:44] &lt;jdroid-&gt;   You can simulate OneMQ, using ZeroMQ. And with a OneMQ, you can simulate InfinityMQ.</div>
<div class="line">[Monday 28 March 2011] [15:48:51] &lt;jdroid-&gt;   Maybe that&#8217; not quite it... there&#8217;s a ZOI analogy in there somewhere</div>
<div class="line">[Monday 28 March 2011] [15:49:04] &lt;pieterh&gt;   well, all messaging systems are turing equivalent I guess</div>
<div class="line">[Monday 28 March 2011] [15:49:10] &lt;pieterh&gt;   but they&#8217;re not the same</div>
<div class="line">[Monday 28 March 2011] [15:51:02] &lt;pieterh&gt;   IMO it&#8217;s inaccurate to describe XREP/XREQ as non-blocking versions of REP/REQ</div>
<div class="line">[Monday 28 March 2011] [15:51:41] &lt;jond&gt;      has anyone got a link to the Ian Barber presentation?</div>
<div class="line">[Monday 28 March 2011] [15:52:21] &lt;mpales&gt;    pieterh: the guide describes them in the same way</div>
<div class="line">[Monday 28 March 2011] [15:52:37] &lt;jobytaffey&gt;        I&#8217;d really appreciate it if someone could take a look at my libev/REQ:REP problem. It&#8217;s probably something silly, but I can&#8217;t see it. There&#8217;s a minimal example (files and tarball) here http://www.hodgepig.org/testcase/</div>
<div class="line">[Monday 28 March 2011] [15:52:48] &lt;pieterh&gt;   mpales: then I need to fix that, I&#8217;m going to review that whole explanation</div>
<div class="line">[Monday 28 March 2011] [15:52:51] &lt;Guthur&gt;    jond, <a class="reference external" href="http://vimeo.com/20605470">http://vimeo.com/20605470</a></div>
<div class="line">[Monday 28 March 2011] [15:54:38] &lt;pieterh&gt;   jobytaffey: maybe the client should connect to localhost, not <a href="#id43"><span class="problematic" id="id44">*</span></a>?</div>
<div class="line">[Monday 28 March 2011] [15:54:39] &lt;mpales&gt;    pieterh: in ch2: A Request-Reply Broker, there is this sentence: Luckily there are non-blocking versions of these two sockets, called XREQ and XREP.</div>
<div class="line">[Monday 28 March 2011] [15:54:50] &lt;pieterh&gt;   mpales: ugh...</div>
<div class="line">[Monday 28 March 2011] [15:54:59] &lt;jobytaffey&gt;        pieterh: Would that make a difference? It does connect ok.</div>
<div class="line">[Monday 28 March 2011] [15:55:14] &lt;jond&gt;      Guthur: cheers. also sbcl is pretty cool, though havent used lisp for quite a while (though did manage to have a job where i did it for three years!)</div>
<div class="line">[Monday 28 March 2011] [15:55:27] &lt;pieterh&gt;   jobytaffey: you connect to a name or IP address, not an interface</div>
<div class="line">[Monday 28 March 2011] [15:56:13] &lt;pieterh&gt;   mpales: thanks for pointing this out, I&#8217;m going to try to make the explanations more accurate</div>
<div class="line">[Monday 28 March 2011] [15:56:17] &lt;Guthur&gt;    jond, not many get the opportunity do such employment</div>
<div class="line">[Monday 28 March 2011] [15:56:21] &lt;jobytaffey&gt;        Ah, I see what you mean. * means bind to any i/f, but you need to be explicit for the connect.</div>
<div class="line">[Monday 28 March 2011] [15:56:46] &lt;pieterh&gt;   jobytaffey: indeed, fix this and see if your code works better, the rest looks fine though I&#8217;ve not run it</div>
<div class="line">[Monday 28 March 2011] [15:56:55] &lt;jobytaffey&gt;        No, that didn&#8217;t help.</div>
<div class="line">[Monday 28 March 2011] [15:57:00] &lt;Guthur&gt;    jond, are you still in software development?</div>
<div class="line">[Monday 28 March 2011] [15:57:26] &lt;mpales&gt;    pieterh: there is another thing I&#8217;d like to ask you</div>
<div class="line">[Monday 28 March 2011] [15:57:29] &lt;jond&gt;      Guthur: yes. <a class="reference external" href="http://xkcd.com/297/">http://xkcd.com/297/</a></div>
<div class="line">[Monday 28 March 2011] [15:57:34] &lt;pieterh&gt;   mpales: sure...</div>
<div class="line">[Monday 28 March 2011] [15:58:16] &lt;pieterh&gt;   jond: &#8220;elegant weapons...&#8221; lol</div>
<div class="line">[Monday 28 March 2011] [15:59:30] &lt;mpales&gt;    pieterh: the guide explains how to send a big file using multipart messages</div>
<div class="line">[Monday 28 March 2011] [15:59:37] &lt;Guthur&gt;    jond, i love how when &#8216;new&#8217; languages get new features which users trumpet the features are often ones that Lisps have had for over 20 years</div>
<div class="line">[Monday 28 March 2011] [15:59:56] &lt;pieterh&gt;   mpales: well, multipart messages are not really meant for files</div>
<div class="line">[Monday 28 March 2011] [16:00:07] &lt;mpales&gt;    pieterh: but also explains that until last part is sent/recvd, everything is kept in memory</div>
<div class="line">[Monday 28 March 2011] [16:00:14] &lt;pieterh&gt;   rather, it&#8217;s a simple way to marshal data</div>
<div class="line">[Monday 28 March 2011] [16:00:19] &lt;pieterh&gt;   indeed, all in memory</div>
<div class="line">[Monday 28 March 2011] [16:00:36] &lt;pieterh&gt;   if you want to send files you need to send chunks as individual messages</div>
<div class="line">[Monday 28 March 2011] [16:01:37] &lt;pieterh&gt;   if you want to do restartable file transfer, then</div>
<div class="line">[Monday 28 March 2011] [16:01:43] &lt;pieterh&gt;   handshake with the recipient, ask how much of the file they have, then send the rest</div>
<div class="line">[Monday 28 March 2011] [16:02:05] &lt;pieterh&gt;   if you send large chunks, e.g. 1MB, you can destroy any network</div>
<div class="line">[Monday 28 March 2011] [16:02:25] &lt;jond&gt;      Guthur. it&#8217;s all true but <a class="reference external" href="http://xkcd.com/224/">http://xkcd.com/224/</a> and there&#8217;s rarely any paying work in it</div>
<div class="line">[Monday 28 March 2011] [16:02:46] &lt;mpales&gt;    pieterh: i see, my mistake, multipart messages are not mentioned in this context</div>
<div class="line">[Monday 28 March 2011] [16:03:25] &lt;pieterh&gt;   mpales: I&#8217;ll make a file transfer example later on</div>
<div class="line">[Monday 28 March 2011] [16:03:36] &lt;jdroid-&gt;   pieterh: agreed, the guide gave me that text. In fact, the italicized text is literally copied from the guide so grep for that</div>
<div class="line">[Monday 28 March 2011] [16:04:16] &lt;pieterh&gt;   jdroid-: lol, that&#8217;s funny, I was about to rant about how inaccurate that text was :-)</div>
<div class="line">[Monday 28 March 2011] [16:04:49] &lt;jdroid-&gt;   in yo face!</div>
<div class="line">[Monday 28 March 2011] [16:04:51] &lt;jdroid-&gt;   :D</div>
<div class="line">[Monday 28 March 2011] [16:04:56] &lt;mpales&gt;    pieterh: great!</div>
<div class="line">[Monday 28 March 2011] [16:05:02] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 28 March 2011] [16:05:38] &lt;mpales&gt;    pieterh: i really like the style of the guide, thanks for the amazing work</div>
<div class="line">[Monday 28 March 2011] [16:05:57] &lt;pieterh&gt;   mpales: np, it&#8217;s fun to write, though it&#8217;s getting quite ... large...</div>
<div class="line">[Monday 28 March 2011] [16:07:04] &lt;Guthur&gt;    jond: I recently seen a job in London looking for a functional programmer with knowledge of clojure, very well paid</div>
<div class="line">[Monday 28 March 2011] [16:07:32] &lt;Guthur&gt;    though that&#8217;s relative to your current pay grade of course</div>
<div class="line">[Monday 28 March 2011] [16:07:55] &lt;Guthur&gt;    mine is most certainly on the lower end, hehe</div>
<div class="line">[Monday 28 March 2011] [16:08:25] &lt;mpales&gt;    pieterh: yes, it is</div>
<div class="line">[Monday 28 March 2011] [16:10:15] &lt;mpales&gt;    pieterh: btw. I used to read the guide with a larger font size, but since last week when I increase the font size, the browser goes mad... I use google chrome</div>
<div class="line">[Monday 28 March 2011] [16:11:02] &lt;pieterh&gt;   mpales: yeah, the HTML got significantly fatter, since I added color markup for the code examples</div>
<div class="line">[Monday 28 March 2011] [16:11:51] &lt;pieterh&gt;   oh, I just tried a larger font in Chrome, it gets very unhappy...</div>
<div class="line">[Monday 28 March 2011] [16:13:29] &lt;mpales&gt;    pieterh: you can get some cash from google if you report it :-)</div>
<div class="line">[Monday 28 March 2011] [16:14:21] &lt;i2pi&gt;      Hi. I have a PUSH/PULL queue working with multiple PULL&#8217;ers. I&#8217;m using NOBLOCK on both ends. I&#8217;d like the PUSH&#8217;er to not block if no PULLers are available, but for messages to be queued up for when the PULLers come back online. Is this possible? If so, how?</div>
<div class="line">[Monday 28 March 2011] [16:14:54] &lt;pieterh&gt;   mpales: they&#8217;ll just tell me to stop writing insane HTML... :-)</div>
<div class="line">[Monday 28 March 2011] [16:15:20] &lt;pieterh&gt;   i2pi: you can use zmq_poll</div>
<div class="line">[Monday 28 March 2011] [16:16:07] &lt;i2pi&gt;      pieterh: reading the docs now. Thanks.</div>
<div class="line">[Monday 28 March 2011] [16:16:30] &lt;Guthur&gt;    pieterh,  your guide has actually only 3 validation errors</div>
<div class="line">[Monday 28 March 2011] [16:16:43] &lt;Guthur&gt;    which is a lot better than the vast majority of the internet</div>
<div class="line">[Monday 28 March 2011] [16:16:55] &lt;pieterh&gt;   Guthur: ah, that&#8217;s because in fact I don&#8217;t write any of the HTML at all</div>
<div class="line">[Monday 28 March 2011] [16:17:07] &lt;pieterh&gt;   mpales: firefox has no trouble resizing the font, interestingly</div>
<div class="line">[Monday 28 March 2011] [16:17:09] &lt;Guthur&gt;    probably the best way, hehe</div>
<div class="line">[Monday 28 March 2011] [16:17:39] &lt;i2pi&gt;      pieterh: Hmm. I&#8217;m not sure if i understand this correctly. Can you give me a hint?</div>
<div class="line">[Monday 28 March 2011] [16:18:13] &lt;pieterh&gt;   i2pi: you poll on the PUSH socket using ZMQ_POLLOUT</div>
<div class="line">[Monday 28 March 2011] [16:18:24] &lt;mpales&gt;    pieterh: yes, looks definitely like a chrome bug</div>
<div class="line">[Monday 28 March 2011] [16:18:28] &lt;pieterh&gt;   I&#8217;ve not tried that, to be honest, but it&#8217;s the proper way IMO</div>
<div class="line">[Monday 28 March 2011] [16:18:39] &lt;pieterh&gt;   mpales: yes, I&#8217;m looking for a place to file it</div>
<div class="line">[Monday 28 March 2011] [16:19:08] &lt;mpales&gt;    pieterh: settings / tools / report...</div>
<div class="line">[Monday 28 March 2011] [16:20:11] &lt;i2pi&gt;      pieterh: Is the correct pattern to try doing a zmq_send() and if that fails with EAGAIN, then add that item to a list to poll. And then keep polling until the recvr returns?</div>
<div class="line">[Monday 28 March 2011] [16:20:53] &lt;pieterh&gt;   i2pi: look at the zmq_poll examples in the Guide, do the same except writing rather than reading</div>
<div class="line">[Monday 28 March 2011] [16:21:03] &lt;pieterh&gt;   you loop: poll / write / poll / write...</div>
<div class="line">[Monday 28 March 2011] [16:21:13] &lt;pieterh&gt;   doing a write only when poll tells you it&#8217;s OK</div>
<div class="line">[Monday 28 March 2011] [16:21:19] &lt;pieterh&gt;   s/write/send/</div>
<div class="line">[Monday 28 March 2011] [16:21:35] &lt;i2pi&gt;      so, its up to my app to maintain the queue of unsent items?</div>
<div class="line">[Monday 28 March 2011] [16:21:59] &lt;i2pi&gt;      (I&#8217;m coming from AMQP, where I expect the queue to do queuing for me)</div>
<div class="line">[Monday 28 March 2011] [16:23:16] &lt;jobytaffey&gt;        The plot thickens on my problem - tcpdump shows that despite my evserver.c calling zmq_send() and it returning 0, the packet is never transmitted (I assume, because it thinks the socket is blocked).</div>
<div class="line">[Monday 28 March 2011] [16:24:03] &lt;pieterh&gt;   i2pi: you need to read the Guide</div>
<div class="line">[Monday 28 March 2011] [16:24:22] &lt;i2pi&gt;      ok :)</div>
<div class="line">[Monday 28 March 2011] [16:24:37] &lt;pieterh&gt;   jobytaffey: have you already written some examples without using evserver?</div>
<div class="line">[Monday 28 March 2011] [16:25:04] &lt;jobytaffey&gt;        Yes, they&#8217;re in the URL I posted. There&#8217;s a REQ/REP client and server without libev.</div>
<div class="line">[Monday 28 March 2011] [16:25:20] &lt;i2pi&gt;      pieterh: I started on the guide, and please don&#8217;t take offense to this, but it is a little daunting that it starts very philosophically. I&#8217;d rather get straight into the meat.</div>
<div class="line">[Monday 28 March 2011] [16:25:43] &lt;pieterh&gt;   i2pi: there&#8217;s only about 1 page of philosophy, then it gets straight into code...</div>
<div class="line">[Monday 28 March 2011] [18:22:04] &lt;private_meta&gt;      pieterh: yes, you hinted on that before, but right now, the zguide version is still inconsistent</div>
<div class="line">[Monday 28 March 2011] [18:44:33] &lt;i2pi&gt;      pieterh: I&#8217;m a few hours into the guide and I&#8217;m still not seeing it in the guide.</div>
<div class="line">[Monday 28 March 2011] [22:32:59] &lt;Dawgmatix&gt; any pointers on how to write a zeromq device in python?</div>
<div class="line">[Monday 28 March 2011] [22:37:44] &lt;traviscline&gt;       Dawgmatix: <a class="reference external" href="http://zeromq.github.com/pyzmq/devices.html">http://zeromq.github.com/pyzmq/devices.html</a> read that?</div>
<div class="line">[Monday 28 March 2011] [22:38:10] &lt;Dawgmatix&gt; ah no, wasnt aware of that documentation</div>
<div class="line">[Monday 28 March 2011] [22:38:19] &lt;Dawgmatix&gt; have just read the guide so far</div>
<div class="line">[Monday 28 March 2011] [22:38:26] &lt;Dawgmatix&gt; and written some small programs</div>
<div class="line">[Monday 28 March 2011] [22:39:29] &lt;Dawgmatix&gt; thanks for the pointer :)</div>
<div class="line">[Wednesday 30 March 2011] [07:06:00] &lt;drbobbeaty&gt;     pieterh: any news on the release of 2.1.4 with the fixes we worked on? I&#8217;m interested in getting it and using it.</div>
<div class="line">[Wednesday 30 March 2011] [07:09:31] &lt;<a href="#id89"><span class="problematic" id="id129">mikko__</span></a>&gt;        sustrik: weekend is fine by me</div>
<div class="line">[Wednesday 30 March 2011] [07:10:25] &lt;sustrik&gt;        ok, let&#8217;s get in touch on weekend</div>
<div class="line">[Wednesday 30 March 2011] [07:13:13] &lt;murkel&gt; Hi...  I&#8217;m having an issue with poll() on zmq sockets (2.1.3 cpp) which are not yet connected on the TCP layer: the timeouts are not honoured.</div>
<div class="line">[Wednesday 30 March 2011] [07:13:29] &lt;murkel&gt; If I create a REQ socket, connect to an endpoint without a server listening, transmit a message and then poll( ZMQ_POLLIN ) before recv(), the poll never times out.</div>
<div class="line">[Wednesday 30 March 2011] [07:14:19] &lt;murkel&gt; just as a test, I noticed that the poll never times out if I try to send two messages over the same un-connected socket.</div>
<div class="line">[Wednesday 30 March 2011] [07:14:38] &lt;murkel&gt; Is this the correct approach or should I be doing this differently?</div>
<div class="line">[Wednesday 30 March 2011] [07:15:48] &lt;sustrik&gt;        can you post the test program to the mailing list?</div>
<div class="line">[Wednesday 30 March 2011] [07:16:25] &lt;murkel&gt; okay ...</div>
<div class="line">[Wednesday 30 March 2011] [07:16:30] &lt;sustrik&gt;        thx</div>
<div class="line">[Wednesday 30 March 2011] [07:34:59] &lt;drbobbeaty&gt;     <a href="#id89"><span class="problematic" id="id130">mikko__</span></a>, sustrik: thanks guys. That would be great.</div>
<div class="line">[Wednesday 30 March 2011] [07:36:00] &lt;sustrik&gt;        drbobbeaty: please, do make sure that the changes you are interested in have made it to the mikko&#8217;s patch as posted on the mailing list</div>
<div class="line">[Wednesday 30 March 2011] [07:36:28] &lt;drbobbeaty&gt;     Yup, they sure did. I tested it.</div>
<div class="line">[Wednesday 30 March 2011] [07:36:45] &lt;sustrik&gt;        :)</div>
<div class="line">[Thursday 31 March 2011] [12:22:25] &lt;djc&gt;     would it be acceptable to have a mode of building zeromq linking with an externally-built openpgm?</div>
<div class="line">[Thursday 31 March 2011] [12:22:33] &lt;djc&gt;     and if so, how can we make that happen?</div>
<div class="line">[Thursday 31 March 2011] [12:25:41] &lt;rforte&gt;  does anyone know if zmq has been successfully built/used on iOS?</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * r17fdb5e 10/ src/zmq.cpp :</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: zmq_recv() returns size of the message even if it&#8217;s truncated</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hqUOiu">http://bit.ly/hqUOiu</a></div>
<div class="line">[Thursday 31 March 2011] [12:44:09] &lt;CIA-22&gt;  zeromq2: 03Mikko Koppanen 07pre30 * rfbf1f51 10/ (7 files in 3 dirs):</div>
<div class="line">[Thursday 31 March 2011] [12:44:10] &lt;CIA-22&gt;  zeromq2: Upstream the openpgm build fixes. Add DSO symbol visibility to OpenPGM builds</div>
<div class="line">[Thursday 31 March 2011] [12:44:10] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/eoZoFT">http://bit.ly/eoZoFT</a></div>
<div class="line">[Thursday 31 March 2011] [12:44:11] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rd36d9a3 10/ src/zmq_engine.cpp :</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: Comments improvement</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: related to fairness while reading/writing large messages</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hmvGwd">http://bit.ly/hmvGwd</a></div>
<div class="line">[Thursday 31 March 2011] [12:45:14] &lt;sustrik&gt; djc: i think that may be possible, however, ask on the mailing list</div>
<div class="line">[Thursday 31 March 2011] [12:46:13] &lt;sustrik&gt; rforte: there were some people discussing iOS issues some time ago</div>
<div class="line">[Thursday 31 March 2011] [12:46:18] &lt;sustrik&gt; so i assum it&#8217;s possible</div>
<div class="line">[Thursday 31 March 2011] [12:47:57] &lt;djc&gt;     sustrik: I opened issue 15 about it</div>
<div class="line">[Thursday 31 March 2011] [12:48:22] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 31 March 2011] [12:53:49] &lt;cremes&gt;  rforte: it builds and runs fine on osx</div>
<div class="line">[Friday 18 March 2011] [06:51:12] &lt;sustrik&gt;   oh well</div>
<div class="line">[Friday 18 March 2011] [06:51:41] &lt;sustrik&gt;   so it&#8217;s up to the rest of erlzmq community to drive the project forward</div>
<div class="line">[Friday 18 March 2011] [06:51:51] &lt;yrashk&gt;    yup</div>
<div class="line">[Friday 18 March 2011] [06:52:01] &lt;yrashk&gt;    but again</div>
<div class="line">[Friday 18 March 2011] [06:52:10] &lt;yrashk&gt;    erlzmq and erlzq2 can&#8217;t be merged by any means</div>
<div class="line">[Friday 18 March 2011] [06:52:15] &lt;yrashk&gt;    they are way too different</div>
<div class="line">[Friday 18 March 2011] [06:52:17] &lt;sustrik&gt;   yes, the codebase itself cannot be merged</div>
<div class="line">[Friday 18 March 2011] [06:52:25] &lt;yrashk&gt;    erlzmq2 won&#8217;t work with older Erlang VMs</div>
<div class="line">[Friday 18 March 2011] [06:52:30] &lt;yrashk&gt;    as it uses a new binding technique</div>
<div class="line">[Friday 18 March 2011] [06:52:30] &lt;sustrik&gt;   what could be merged is functionality</div>
<div class="line">[Friday 18 March 2011] [06:52:39] &lt;yrashk&gt;    I thiknk they are very close functionally</div>
<div class="line">[Friday 18 March 2011] [06:53:00] &lt;sustrik&gt;   close = equivalent?</div>
<div class="line">[Friday 18 March 2011] [06:53:00] &lt;yrashk&gt;    we don&#8217;t have an active mode (like saleyn had for the main erlzmq)</div>
<div class="line">[Friday 18 March 2011] [06:53:11] &lt;yrashk&gt;    APIs is not absolutely equivalent, no</div>
<div class="line">[Friday 18 March 2011] [06:53:22] &lt;yrashk&gt;    module names are different, app name is different</div>
<div class="line">[Friday 18 March 2011] [06:53:24] &lt;sustrik&gt;   the problem is that as long as there&#8217;s functionality missing, those using one binding</div>
<div class="line">[Friday 18 March 2011] [06:53:28] &lt;yrashk&gt;    some calls might look a little bit different</div>
<div class="line">[Friday 18 March 2011] [06:53:29] &lt;sustrik&gt;   cannot switch to anotherone</div>
<div class="line">[Friday 18 March 2011] [06:53:39] &lt;yrashk&gt;    I don&#8217;t think we have any functionality missing, really</div>
<div class="line">[Friday 18 March 2011] [06:53:52] &lt;yrashk&gt;    active mode was controversial anyway</div>
<div class="line">[Friday 18 March 2011] [06:54:01] &lt;yrashk&gt;    I think jugg opposed it a lot</div>
<div class="line">[Friday 18 March 2011] [06:54:14] &lt;sustrik&gt;   doesn&#8217;t it have to do with pushback?</div>
<div class="line">[Friday 18 March 2011] [06:54:27] &lt;sustrik&gt;   won&#8217;t passive mode just exhaust all the memory</div>
<div class="line">[Friday 18 March 2011] [06:54:34] &lt;sustrik&gt;   if sender is faster than receiver?</div>
<div class="line">[Friday 18 March 2011] [06:54:50] &lt;yrashk&gt;    well</div>
<div class="line">[Friday 18 March 2011] [06:55:00] &lt;yrashk&gt;    passive mode is pretty much reliant on the way 0mq works</div>
<div class="line">[Friday 18 March 2011] [06:55:34] &lt;yrashk&gt;    recv/poll</div>
<div class="line">[Friday 18 March 2011] [06:55:50] &lt;yrashk&gt;    there are certain issues why we haven&#8217;t implemented active mode yet</div>
<div class="line">[Friday 18 March 2011] [06:56:07] &lt;yrashk&gt;    we could have done a workaround.. but still not sure if it is worth it</div>
<div class="line">[Friday 18 March 2011] [06:56:22] &lt;yrashk&gt;    it probably is worth a try</div>
<div class="line">[Friday 18 March 2011] [06:56:23] &lt;sustrik&gt;   is there any other way to implement pushback?</div>
<div class="line">[Friday 18 March 2011] [06:56:34] &lt;yrashk&gt;    what od you mean by a pushback?</div>
<div class="line">[Friday 18 March 2011] [06:56:59] &lt;sustrik&gt;   meaning that when the receiving end is not able to keep up with the sender</div>
<div class="line">[Friday 18 March 2011] [06:57:05] &lt;sustrik&gt;   the sender gets blocked</div>
<div class="line">[Friday 18 March 2011] [06:57:19] &lt;sustrik&gt;   until the receiver catches up</div>
<div class="line">[Friday 18 March 2011] [06:57:23] &lt;yrashk&gt;    not sure how to do anything about this</div>
<div class="line">[Friday 18 March 2011] [06:57:36] &lt;sustrik&gt;   i think that was what active mode was for</div>
<div class="line">[Friday 18 March 2011] [06:57:37] &lt;yrashk&gt;    basically what we do is we just pass messages back to erlang</div>
<div class="line">[Friday 18 March 2011] [06:57:42] &lt;yrashk&gt;    either directly or as actual essages</div>
<div class="line">[Friday 18 March 2011] [06:58:03] &lt;yrashk&gt;    active mode is just something that does recv for you, basically</div>
<div class="line">[Friday 18 March 2011] [06:58:25] &lt;yrashk&gt;    so I am not sure</div>
<div class="line">[Friday 18 March 2011] [06:58:45] &lt;sustrik&gt;   the problem is that erlang stores the messages in erlang mailbox</div>
<div class="line">[Friday 18 March 2011] [06:58:50] &lt;yrashk&gt;    yep</div>
<div class="line">[Friday 18 March 2011] [06:58:51] &lt;sustrik&gt;   which grows indefinitely</div>
<div class="line">[Friday 18 March 2011] [06:58:57] &lt;yrashk&gt;    but we don&#8217;t send them unless you request</div>
<div class="line">[Friday 18 March 2011] [06:59:10] &lt;yrashk&gt;    active is what sends them regardless of whether you can keep up</div>
<div class="line">[Friday 18 March 2011] [06:59:16] &lt;yrashk&gt;    our recv() algo is simple</div>
<div class="line">[Friday 18 March 2011] [06:59:27] &lt;yrashk&gt;    1. recv noblock</div>
<div class="line">[Friday 18 March 2011] [06:59:31] &lt;yrashk&gt;    2. if there was something, return</div>
<div class="line">[Friday 18 March 2011] [06:59:40] &lt;yrashk&gt;    3. if not, let the reader thread poll it</div>
<div class="line">[Friday 18 March 2011] [06:59:51] &lt;sustrik&gt;   yes, that&#8217;s ok</div>
<div class="line">[Friday 18 March 2011] [06:59:52] &lt;yrashk&gt;    4. when something appears there, send a message to the original requesting process</div>
<div class="line">[Friday 18 March 2011] [06:59:58] &lt;sustrik&gt;   what about the sender side?</div>
<div class="line">[Friday 18 March 2011] [07:00:16] &lt;yrashk&gt;    sender just does send() and that&#8217;s it</div>
<div class="line">[Friday 18 March 2011] [07:00:27] &lt;sustrik&gt;   it blocks the thread?</div>
<div class="line">[Friday 18 March 2011] [07:00:38] &lt;yrashk&gt;    you mean the scheduler?</div>
<div class="line">[Friday 18 March 2011] [07:00:42] &lt;sustrik&gt;   then you can end up with deadlocked erlang VM</div>
<div class="line">[Friday 18 March 2011] [07:00:51] &lt;sustrik&gt;   i mean physicall thread</div>
<div class="line">[Friday 18 March 2011] [07:00:57] &lt;sustrik&gt;   from erlang&#8217;s thread pool</div>
<div class="line">[Friday 18 March 2011] [07:01:02] &lt;yrashk&gt;    if you don&#8217;t pass noblock, yes it will block the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:01:08] &lt;yrashk&gt;    we don&#8217;t use erlang&#8217;s thead pool</div>
<div class="line">[Friday 18 March 2011] [07:01:20] &lt;yrashk&gt;    NIF calls block the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:01:35] &lt;sustrik&gt;   i mean, erlang VM has to execute in an OS thread(s)</div>
<div class="line">[Friday 18 March 2011] [07:01:46] &lt;yrashk&gt;    so if zmq_send blocks, the VM is blocked (well, one cpu core is blocked, to be precise)</div>
<div class="line">[Friday 18 March 2011] [07:01:59] &lt;sustrik&gt;   exactly</div>
<div class="line">[Friday 18 March 2011] [07:02:00] &lt;yrashk&gt;    yes, erlang vm usually has # of schedulers equal to number of cores</div>
<div class="line">[Friday 18 March 2011] [07:02:08] &lt;sustrik&gt;   so, if there&#8217;s 1 CPU</div>
<div class="line">[Friday 18 March 2011] [07:02:20] &lt;yrashk&gt;    and 1 core?</div>
<div class="line">[Friday 18 March 2011] [07:02:27] &lt;sustrik&gt;   and you call invoke 0mq in a blocking way</div>
<div class="line">[Friday 18 March 2011] [07:02:41] &lt;sustrik&gt;   the whole OS process gets bloecked</div>
<div class="line">[Friday 18 March 2011] [07:02:43] &lt;yrashk&gt;    it will fuck up, yes</div>
<div class="line">[Friday 18 March 2011] [07:02:52] &lt;yrashk&gt;    we were thinking about non-blocking send()</div>
<div class="line">[Friday 18 March 2011] [07:02:58] &lt;yrashk&gt;    just haven&#8217;t done it yet</div>
<div class="line">[Friday 18 March 2011] [07:03:08] &lt;yrashk&gt;    there&#8217;s nothing that prevents us from doing it</div>
<div class="line">[Friday 18 March 2011] [07:03:30] &lt;sustrik&gt;   that would mean busy-looping and 100% CPU usage, no?</div>
<div class="line">[Friday 18 March 2011] [07:03:54] &lt;yrashk&gt;    nah</div>
<div class="line">[Friday 18 March 2011] [07:04:02] &lt;yrashk&gt;    we poll on internal inproc sockets</div>
<div class="line">[Friday 18 March 2011] [07:04:06] &lt;yrashk&gt;    for commands</div>
<div class="line">[Friday 18 March 2011] [07:04:13] &lt;yrashk&gt;    in the receiver thread</div>
<div class="line">[Friday 18 March 2011] [07:04:17] &lt;yrashk&gt;    which does async recv</div>
<div class="line">[Friday 18 March 2011] [07:04:37] &lt;yrashk&gt;    so we can do the same thing for send, pretty much</div>
<div class="line">[Friday 18 March 2011] [07:04:41] &lt;yrashk&gt;    may be even in the same thread</div>
<div class="line">[Friday 18 March 2011] [07:04:43] &lt;sustrik&gt;   aha</div>
<div class="line">[Friday 18 March 2011] [07:04:55] &lt;yrashk&gt;    no biggie</div>
<div class="line">[Friday 18 March 2011] [07:05:00] &lt;sustrik&gt;   that way the polling doesn&#8217;t block the erlang scheduler, right?</div>
<div class="line">[Friday 18 March 2011] [07:05:02] &lt;yrashk&gt;    will take probabyl an hour or two to implement</div>
<div class="line">[Friday 18 March 2011] [07:05:07] &lt;yrashk&gt;    it does not</div>
<div class="line">[Friday 18 March 2011] [07:05:10] &lt;yrashk&gt;    it never does</div>
<div class="line">[Friday 18 March 2011] [07:05:14] &lt;sustrik&gt;   nice</div>
<div class="line">[Friday 18 March 2011] [07:05:21] &lt;yrashk&gt;    it&#8217;s always in that second thread</div>
<div class="line">[Friday 18 March 2011] [07:05:27] &lt;yrashk&gt;    we have one thread per context</div>
<div class="line">[Friday 18 March 2011] [07:05:38] &lt;yrashk&gt;    which I guess is good enough</div>
<div class="line">[Friday 18 March 2011] [07:05:43] &lt;yrashk&gt;    originally I had a thread per socket</div>
<div class="line">[Friday 18 March 2011] [07:05:47] &lt;yrashk&gt;    and that was a tad nasty</div>
<div class="line">[Friday 18 March 2011] [07:05:56] &lt;yrashk&gt;    but evax refactored this nicely</div>
<div class="line">[Friday 18 March 2011] [07:06:05] &lt;sustrik&gt;   so erlang allows you to say &#8220;please invoke this code when this file descriptor becomes active&#8221;?</div>
<div class="line">[Friday 18 March 2011] [07:06:23] &lt;sustrik&gt;   and erlang scheduler will do that for you</div>
<div class="line">[Friday 18 March 2011] [07:06:28] &lt;yrashk&gt;    no, it&#8217;s all manual</div>
<div class="line">[Friday 18 March 2011] [07:06:41] &lt;yrashk&gt;    there&#8217;s some FD stuff in there, but not for NIFs afaik</div>
<div class="line">[Friday 18 March 2011] [07:06:59] &lt;yrashk&gt;    basically, when we poll in that thread</div>
<div class="line">[Friday 18 March 2011] [07:07:01] &lt;sustrik&gt;   the question is whether waiting for FD blocks the OS thread or not</div>
<div class="line">[Friday 18 March 2011] [07:07:16] &lt;yrashk&gt;    you mean zmq_poll?</div>
<div class="line">[Friday 18 March 2011] [07:07:22] &lt;sustrik&gt;   are you using zmq_poll?</div>
<div class="line">[Friday 18 March 2011] [07:07:24] &lt;yrashk&gt;    yes</div>
<div class="line">[Friday 18 March 2011] [07:07:33] &lt;sustrik&gt;   zmq_poll is blocking</div>
<div class="line">[Friday 18 March 2011] [07:07:38] &lt;yrashk&gt;    yes, and that&#8217;s fine</div>
<div class="line">[Friday 18 March 2011] [07:07:43] &lt;yrashk&gt;    because we&#8217;re in a separate thread</div>
<div class="line">[Friday 18 March 2011] [07:07:54] &lt;yrashk&gt;    which erlang has no idea about</div>
<div class="line">[Friday 18 March 2011] [07:07:55] &lt;sustrik&gt;   outside of erlang VM?</div>
<div class="line">[Friday 18 March 2011] [07:07:59] &lt;sustrik&gt;   i see</div>
<div class="line">[Friday 18 March 2011] [07:08:01] &lt;yrashk&gt;    well, it&#8217;s in the same process</div>
<div class="line">[Friday 18 March 2011] [07:08:11] &lt;yrashk&gt;    but it&#8217;s separate from the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:08:24] &lt;yrashk&gt;    so all NIF calls are generally very short</div>
<div class="line">[Friday 18 March 2011] [07:08:35] &lt;sustrik&gt;   yep, that could work</div>
<div class="line">[Friday 18 March 2011] [07:08:35] &lt;yrashk&gt;    except for send() which might theoretically block</div>
<div class="line">[Friday 18 March 2011] [07:08:43] &lt;yrashk&gt;    but that&#8217;s something we can definitely fix</div>
<div class="line">[Friday 18 March 2011] [07:08:51] &lt;yrashk&gt;    I just never saw zmq_send() blocking</div>
<div class="line">[Friday 18 March 2011] [07:08:51] &lt;sustrik&gt;   but can be done in same way as recv()</div>
<div class="line">[Friday 18 March 2011] [07:08:54] &lt;yrashk&gt;    yes</div>
<div class="line">[Friday 18 March 2011] [07:08:55] &lt;yrashk&gt;    absolutely</div>
<div class="line">[Friday 18 March 2011] [07:09:01] &lt;sustrik&gt;   you get that for high loads</div>
<div class="line">[Friday 18 March 2011] [07:09:06] &lt;yrashk&gt;    like I said, it&#8217;s an easy change</div>
<div class="line">[Friday 18 March 2011] [07:09:13] &lt;yrashk&gt;    since we have worked out the approach</div>
<div class="line">[Friday 18 March 2011] [07:09:20] &lt;sustrik&gt;   would be good to get that in</div>
<div class="line">[Friday 18 March 2011] [07:09:27] &lt;sustrik&gt;   it&#8217;s essential for some applications</div>
<div class="line">[Friday 18 March 2011] [07:09:31] &lt;yrashk&gt;    I see</div>
<div class="line">[Friday 18 March 2011] [07:09:35] &lt;sustrik&gt;   such as rabbitmq/0mq bridge</div>
<div class="line">[Friday 18 March 2011] [07:09:37] &lt;yrashk&gt;    I am adding a github issue right now</div>
<div class="line">[Friday 18 March 2011] [07:10:17] &lt;yrashk&gt;    <a class="reference external" href="https://github.com/zeromq/erlzmq2/issues/1">https://github.com/zeromq/erlzmq2/issues/1</a></div>
<div class="line">[Friday 18 March 2011] [07:10:21] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 18 March 2011] [07:10:41] &lt;sustrik&gt;   what about the third erlzmq binding?</div>
<div class="line">[Friday 18 March 2011] [07:10:48] &lt;sustrik&gt;   any additional functionality there?</div>
<div class="line">[Friday 18 March 2011] [07:11:16] &lt;yrashk&gt;    cstar/jugg&#8217;s?</div>
<div class="line">[Friday 18 March 2011] [07:11:21] &lt;sustrik&gt;   i guess</div>
<div class="line">[Friday 18 March 2011] [07:11:30] &lt;yrashk&gt;    I don&#8217;t remember any special functionality there</div>
<div class="line">[Friday 18 March 2011] [07:11:37] &lt;yrashk&gt;    it looked more polished than the official one</div>
<div class="line">[Friday 18 March 2011] [07:11:41] &lt;yrashk&gt;    to my eye</div>
<div class="line">[Friday 18 March 2011] [07:11:55] &lt;yrashk&gt;    so I guess it&#8217;s good for older erlangs</div>
<div class="line">[Friday 18 March 2011] [07:12:11] &lt;sustrik&gt;   aha, that&#8217;s the catch, right?</div>
<div class="line">[Friday 18 March 2011] [07:12:11] &lt;yrashk&gt;    or if you have any reasons to use port driver instead of NIF</div>
<div class="line">[Friday 18 March 2011] [07:12:16] &lt;sustrik&gt;   old arlangs don&#8217;t have NIF</div>
<div class="line">[Friday 18 March 2011] [07:12:19] &lt;yrashk&gt;    yeah they don&#8217;t</div>
<div class="line">[Friday 18 March 2011] [07:12:42] &lt;sustrik&gt;   well, if you believe there&#8217;s all the functionality in erlzmq2</div>
<div class="line">[Friday 18 March 2011] [07:12:44] &lt;yrashk&gt;    and some of those have (like last R13Bs and early R14As) but the API was changing a lot</div>
<div class="line">[Friday 18 March 2011] [07:12:58] &lt;yrashk&gt;    so we&#8217;re pretty much &gt;=R14B01 or so</div>
<div class="line">[Friday 18 March 2011] [07:13:12] &lt;sustrik&gt;   let&#8217;s discuss making it a primary erlang binding on the mailing list</div>
<div class="line">[Friday 18 March 2011] [07:13:22] &lt;yrashk&gt;    also, jugg was never able to clock performance comparable to erlzmq2</div>
<div class="line">[Friday 18 March 2011] [07:13:29] &lt;sustrik&gt;   yes, i recall that</div>
<div class="line">[Friday 18 March 2011] [07:13:30] &lt;yrashk&gt;    lets do that</div>
<div class="line">[Friday 18 March 2011] [07:13:37] &lt;yrashk&gt;    we have like 1.3mln/sec for 1bytes</div>
<div class="line">[Friday 18 March 2011] [07:13:41] &lt;yrashk&gt;    which is not bad</div>
<div class="line">[Friday 18 March 2011] [07:13:46] &lt;yrashk&gt;    not great, but decent</div>
<div class="line">[Friday 18 March 2011] [07:13:51] &lt;sustrik&gt;   it&#8217;s very nice</div>
<div class="line">[Friday 18 March 2011] [07:13:55] &lt;yrashk&gt;    (on my mac pro)</div>
<div class="line">[Friday 18 March 2011] [07:13:58] &lt;sustrik&gt;   comparable to other non-C languages</div>
<div class="line">[Friday 18 March 2011] [07:14:02] &lt;yrashk&gt;    c-to-c on my mac pro is like twice as fast</div>
<div class="line">[Friday 18 March 2011] [07:14:23] &lt;yrashk&gt;    2.5+mln/sec</div>
<div class="line">[Friday 18 March 2011] [07:14:31] &lt;yrashk&gt;    but we weren&#8217;t able to squeeze out more yet</div>
<div class="line">[Friday 18 March 2011] [07:14:36] &lt;yrashk&gt;    and I am not sure we can</div>
<div class="line">[Friday 18 March 2011] [07:14:56] &lt;sustrik&gt;   you have to keep in mind that erlang runtime does a lot of stuff</div>
<div class="line">[Friday 18 March 2011] [07:15:00] &lt;sustrik&gt;   scheduling etc.</div>
<div class="line">[Friday 18 March 2011] [07:15:08] &lt;sustrik&gt;   which takes some time itself</div>
<div class="line">[Friday 18 March 2011] [07:15:17] &lt;yrashk&gt;    of course</div>
<div class="line">[Friday 18 March 2011] [07:15:28] &lt;yrashk&gt;    I know erlang fairly well</div>
<div class="line">[Friday 18 March 2011] [07:15:31] &lt;yrashk&gt;    or so I think</div>
<div class="line">[Friday 18 March 2011] [07:15:37] &lt;sustrik&gt;   with throughput over 1M/sec</div>
<div class="line">[Friday 18 March 2011] [07:15:46] &lt;sustrik&gt;   you are getting to nanosecond ranges</div>
<div class="line">[Friday 18 March 2011] [07:15:53] &lt;yrashk&gt;    well that&#8217;s for 1bytes</div>
<div class="line">[Friday 18 March 2011] [07:15:59] &lt;yrashk&gt;    1Kb is like 300K/sec</div>
<div class="line">[Friday 18 March 2011] [07:16:13] &lt;yrashk&gt;    which is still okay I guess</div>
<div class="line">[Friday 18 March 2011] [07:16:22] &lt;sustrik&gt;   100% bandwidth utilisation i would guess</div>
<div class="line">[Friday 18 March 2011] [07:16:28] &lt;sustrik&gt;   1GbE?</div>
<div class="line">[Friday 18 March 2011] [07:16:36] &lt;yrashk&gt;    it&#8217;s all localhost tests :)</div>
<div class="line">[Friday 18 March 2011] [07:16:57] &lt;yrashk&gt;    both for c-to-c and erlang-to-erlang</div>
<div class="line">[Friday 18 March 2011] [07:17:04] &lt;sustrik&gt;   ack</div>
<div class="line">[Friday 18 March 2011] [07:17:07] &lt;yrashk&gt;    for comparison</div>
<div class="line">[Friday 18 March 2011] [07:17:11] &lt;yrashk&gt;    tcp transport</div>
<div class="line">[Friday 18 March 2011] [07:17:14] &lt;sustrik&gt;   the larger the message, the less the erlang overhead</div>
<div class="line">[Friday 18 March 2011] [07:17:16] &lt;yrashk&gt;    ipc was about the same</div>
<div class="line">[Friday 18 March 2011] [07:17:41] &lt;sustrik&gt;   anyway, 1.3M is great</div>
<div class="line">[Friday 18 March 2011] [07:18:30]      * yrashk performs a happy dance</div>
<div class="line">[Friday 18 March 2011] [07:19:11] &lt;yrashk&gt;    anyway</div>
<div class="line">[Friday 18 March 2011] [07:19:18] &lt;yrashk&gt;    lets discuss binding issue on the mailing list?</div>
<div class="line">[Friday 18 March 2011] [07:19:28] &lt;yrashk&gt;    I am subscribed (digest mode)</div>
<div class="line">[Friday 18 March 2011] [07:19:59] &lt;yrashk&gt;    will be back in about 30 mins</div>
<div class="line">[Friday 18 March 2011] [07:21:22] &lt;sustrik&gt;   yrashk: yes, send the proposal to the mailing listr</div>
<div class="line">[Friday 18 March 2011] [07:27:32] &lt;Guthur&gt;    talking of bindings, sustrik do you think it would be wise to discuss marking clrzmq as deprecated and that users should consider either the interop binding or clrzmq2</div>
<div class="line">[Friday 18 March 2011] [07:27:52] &lt;Guthur&gt;    the rational being that the original binding isn&#8217;t really actively developed</div>
<div class="line">[Friday 18 March 2011] [07:28:10] &lt;sustrik&gt;   it&#8217;s a community project, discuss it on the mailing list</div>
<div class="line">[Friday 18 March 2011] [07:28:14] &lt;Guthur&gt;    sure</div>
<div class="line">[Friday 18 March 2011] [07:28:19] &lt;sustrik&gt;   and if there&#8217;s no opposition, let&#8217;s do it</div>
<div class="line">[Friday 18 March 2011] [07:28:22] &lt;Guthur&gt;    just interested in what you think</div>
<div class="line">[Friday 18 March 2011] [07:28:45] &lt;sustrik&gt;   i would rather have actively maintained bindings as &#8220;official&#8221; :)</div>
<div class="line">[Friday 18 March 2011] [07:28:49] &lt;Guthur&gt;    ok, I&#8217;m raise it on the list later today</div>
<div class="line">[Friday 18 March 2011] [07:48:26] &lt;<a href="#id986"><span class="problematic" id="id987">pieterh_</span></a>&gt;  sustrik: ping</div>
<div class="line">[Friday 18 March 2011] [07:48:32] &lt;sustrik&gt;   pong</div>
<div class="line">[Friday 18 March 2011] [07:48:41] &lt;<a href="#id988"><span class="problematic" id="id989">pieterh_</span></a>&gt;  random question about pub/sub...</div>
<div class="line">[Friday 18 March 2011] [07:48:54] &lt;<a href="#id990"><span class="problematic" id="id991">pieterh_</span></a>&gt;  if I send a two-frame message, first key then value, I expect to receive two frames, right?</div>
<div class="line">[Friday 18 March 2011] [07:49:09] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [07:49:26] &lt;<a href="#id992"><span class="problematic" id="id993">pieterh_</span></a>&gt;  ok, I have a test case where it appears to sometimes fail at connection startup</div>
<div class="line">[Friday 18 March 2011] [07:49:39] &lt;<a href="#id994"><span class="problematic" id="id995">pieterh_</span></a>&gt;  loses first frame, sometimes</div>
<div class="line">[Friday 18 March 2011] [07:49:40] &lt;<a href="#id996"><span class="problematic" id="id997">pieterh_</span></a>&gt;  i</div>
<div class="line">[Friday 18 March 2011] [07:49:43] &lt;sustrik&gt;   ok</div>
<div class="line">[Friday 18 March 2011] [07:49:50] &lt;<a href="#id998"><span class="problematic" id="id999">pieterh_</span></a>&gt;  I&#8217;ll post the server and client, hang on...</div>
<div class="line">[Friday 18 March 2011] [07:50:45] &lt;Guthur&gt;    <a href="#id1000"><span class="problematic" id="id1001">pieterh_</span></a>: with your lazy pirate patterns did you notice that reconnecting after CPU overload rarely happened?</div>
<div class="line">[Friday 18 March 2011] [07:51:20] &lt;Guthur&gt;    I&#8217;ve noticed this behaviour, even with the C examples</div>
<div class="line">[Friday 18 March 2011] [07:51:24] &lt;<a href="#id1002"><span class="problematic" id="id1003">pieterh_</span></a>&gt;  Guthur: what do you mean?</div>
<div class="line">[Friday 18 March 2011] [07:51:29] &lt;<a href="#id1004"><span class="problematic" id="id1005">pieterh_</span></a>&gt;  the client doesn&#8217;t reconnect?</div>
<div class="line">[Friday 18 March 2011] [07:51:46] &lt;Guthur&gt;    yeah, it tries and thinks the server is not there</div>
<div class="line">[Friday 18 March 2011] [07:51:50] &lt;<a href="#id1006"><span class="problematic" id="id1007">pieterh_</span></a>&gt;  normal, because its timeouts are quite aggressive, and simulation of CPU overload is quite a long pause afair</div>
<div class="line">[Friday 18 March 2011] [07:51:54] &lt;Guthur&gt;    if I remove the 1sec sleep it connects</div>
<div class="line">[Friday 18 March 2011] [07:52:05] &lt;<a href="#id1008"><span class="problematic" id="id1009">pieterh_</span></a>&gt;  try making the client more patient...</div>
<div class="line">[Friday 18 March 2011] [07:52:11] &lt;Guthur&gt;    1sec (heavy work)</div>
<div class="line">[Friday 18 March 2011] [07:52:15] &lt;<a href="#id1010"><span class="problematic" id="id1011">pieterh_</span></a>&gt;  i&#8217;ll retest, hang on a sec...</div>
<div class="line">[Friday 18 March 2011] [07:53:10] &lt;<a href="#id1012"><span class="problematic" id="id1013">pieterh_</span></a>&gt;  sustrik: so, <a class="reference external" href="https://gist.github.com/875932">https://gist.github.com/875932</a></div>
<div class="line">[Friday 18 March 2011] [07:53:16] &lt;<a href="#id1014"><span class="problematic" id="id1015">pieterh_</span></a>&gt;  start the server, then the client</div>
<div class="line">[Friday 18 March 2011] [07:53:25] &lt;sustrik&gt;   ok, will give it a look</div>
<div class="line">[Friday 18 March 2011] [07:53:44] &lt;<a href="#id1016"><span class="problematic" id="id1017">pieterh_</span></a>&gt;  thanks, this is hitting one of my examples and I can&#8217;t see my fault</div>
<div class="line">[Friday 18 March 2011] [07:53:53] &lt;<a href="#id1018"><span class="problematic" id="id1019">pieterh_</span></a>&gt;  so made a simplistic case, it still hits...</div>
<div class="line">[Friday 18 March 2011] [07:58:07] &lt;<a href="#id1020"><span class="problematic" id="id1021">pieterh_</span></a>&gt;  Guthur: it&#8217;s just because the client is too impatient</div>
<div class="line">[Friday 18 March 2011] [07:59:03] &lt;Guthur&gt;    <a href="#id1022"><span class="problematic" id="id1023">pieterh_</span></a>: ok, cheers for testing</div>
<div class="line">[Friday 18 March 2011] [07:59:50] &lt;<a href="#id1024"><span class="problematic" id="id1025">pieterh_</span></a>&gt;  Guthur: I&#8217;ll change the &#8216;CPU overload&#8217; delay to 2 seconds instead of 5</div>
<div class="line">[Friday 18 March 2011] [07:59:57] &lt;<a href="#id1026"><span class="problematic" id="id1027">pieterh_</span></a>&gt;  this lets the client recover</div>
<div class="line">[Friday 18 March 2011] [08:00:09] &lt;Guthur&gt;    sounds good</div>
<div class="line">[Friday 18 March 2011] [08:01:02] &lt;yrashk&gt;    sustrik: what exactly should be in that proposal?</div>
<div class="line">[Friday 18 March 2011] [08:01:08] &lt;Guthur&gt;    it had me scratching my head for a while yesterday, for a moment I thought the Mono runtime was just insanely slow</div>
<div class="line">[Friday 18 March 2011] [08:01:18] &lt;Guthur&gt;    but then seen the same in C</div>
<div class="line">[Friday 18 March 2011] [08:02:18] &lt;<a href="#id1028"><span class="problematic" id="id1029">pieterh_</span></a>&gt;  yeah, it&#8217;s good to be able to compare the different languages</div>
<div class="line">[Friday 18 March 2011] [08:02:19] &lt;sustrik&gt;   yrashk: &#8220;i propose making erlzmq2 an official erlang binding while keeping erlzmq as a binding for old versions of erlang&#8221;</div>
<div class="line">[Friday 18 March 2011] [08:02:25] &lt;sustrik&gt;   then list your arguments</div>
<div class="line">[Friday 18 March 2011] [08:02:28] &lt;yrashk&gt;    ok</div>
<div class="line">[Friday 18 March 2011] [08:02:29] &lt;sustrik&gt;   and ask people to comment</div>
<div class="line">[Friday 18 March 2011] [08:02:36] &lt;<a href="#id1030"><span class="problematic" id="id1031">pieterh_</span></a>&gt;  sustrik: I think that was already agreed...</div>
<div class="line">[Friday 18 March 2011] [08:02:46] &lt;yrashk&gt;    can I refer to you as it was your idea?</div>
<div class="line">[Friday 18 March 2011] [08:02:51] &lt;<a href="#id1032"><span class="problematic" id="id1033">pieterh_</span></a>&gt;  so erlzmq kind of became v1</div>
<div class="line">[Friday 18 March 2011] [08:03:01] &lt;sustrik&gt;   did it?</div>
<div class="line">[Friday 18 March 2011] [08:03:04] &lt;yrashk&gt;    wel</div>
<div class="line">[Friday 18 March 2011] [08:03:05] &lt;yrashk&gt;    well</div>
<div class="line">[Friday 18 March 2011] [08:03:05] &lt;<a href="#id1034"><span class="problematic" id="id1035">pieterh_</span></a>&gt;  yrashk: I missed something, why are you asking for people to comment on this?</div>
<div class="line">[Friday 18 March 2011] [08:03:09] &lt;yrashk&gt;    ont the wiki, eys</div>
<div class="line">[Friday 18 March 2011] [08:03:16] &lt;yrashk&gt;    <a href="#id1036"><span class="problematic" id="id1037">pieterh_</span></a>: I am not, sustrik does</div>
<div class="line">[Friday 18 March 2011] [08:03:41] &lt;<a href="#id1038"><span class="problematic" id="id1039">pieterh_</span></a>&gt;  sustrik: we already afaik got agreement from the erlzmq authors to make v2</div>
<div class="line">[Friday 18 March 2011] [08:03:52] &lt;yrashk&gt;    <a href="#id1040"><span class="problematic" id="id1041">pieterh_</span></a>: just one of them</div>
<div class="line">[Friday 18 March 2011] [08:04:01] &lt;<a href="#id1042"><span class="problematic" id="id1043">pieterh_</span></a>&gt;  yrashk: ah... did you ask the others?</div>
<div class="line">[Friday 18 March 2011] [08:04:03] &lt;yrashk&gt;    <a href="#id1044"><span class="problematic" id="id1045">pieterh_</span></a>: saleyn is unable to answer for some sad reasons</div>
<div class="line">[Friday 18 March 2011] [08:04:10] &lt;<a href="#id1046"><span class="problematic" id="id1047">pieterh_</span></a>&gt;  ok</div>
<div class="line">[Friday 18 March 2011] [08:04:26] &lt;sustrik&gt;   if it was discussed already, then there&#8217;s no point in discussing it anew</div>
<div class="line">[Friday 18 March 2011] [08:04:31] &lt;<a href="#id1048"><span class="problematic" id="id1049">pieterh_</span></a>&gt;  indeed</div>
<div class="line">[Friday 18 March 2011] [08:04:34] &lt;yrashk&gt;    ok</div>
<div class="line">[Friday 18 March 2011] [08:04:35] &lt;sustrik&gt;   i just missed the original discussion</div>
<div class="line">[Friday 18 March 2011] [08:04:39] &lt;yrashk&gt;    ya it was discussed here</div>
<div class="line">[Friday 18 March 2011] [08:04:51] &lt;<a href="#id1050"><span class="problematic" id="id1051">pieterh_</span></a>&gt;  it&#8217;s already an official repository, and the name was made coherent, the wiki correct, etc.</div>
<div class="line">[Friday 18 March 2011] [08:05:08] &lt;sustrik&gt;   then there&#8217;s no problem</div>
<div class="line">[Friday 18 March 2011] [08:05:14] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:05:17] &lt;yrashk&gt;    less work for me then</div>
<div class="line">[Friday 18 March 2011] [08:05:23] &lt;yrashk&gt;    we&#8217;ll then improve send() some time later</div>
<div class="line">[Friday 18 March 2011] [08:05:26] &lt;<a href="#id1052"><span class="problematic" id="id1053">pieterh_</span></a>&gt;  given that it&#8217;s much faster and sticks to the same API, there was no real argument...</div>
<div class="line">[Friday 18 March 2011] [08:05:35] &lt;sustrik&gt;   i see</div>
<div class="line">[Friday 18 March 2011] [08:05:38] &lt;yrashk&gt;    to make it behave better on blocking sends</div>
<div class="line">[Friday 18 March 2011] [08:05:38] &lt;evax&gt;      yrashk, sustrik: doing it now</div>
<div class="line">[Friday 18 March 2011] [08:05:45] &lt;yrashk&gt;    evax: oh the issue #1?</div>
<div class="line">[Friday 18 March 2011] [08:05:50] &lt;evax&gt;      yes</div>
<div class="line">[Friday 18 March 2011] [08:06:01] &lt;yrashk&gt;    evax: I bet it should be easy to replicate the same method as we do with recv</div>
<div class="line">[Friday 18 March 2011] [08:06:05] &lt;yrashk&gt;    may be even the same thread</div>
<div class="line">[Friday 18 March 2011] [08:06:28] &lt;evax&gt;      same thread, yes</div>
<div class="line">[Friday 18 March 2011] [08:06:32] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:06:47] &lt;yrashk&gt;    should be fairly trivial then</div>
<div class="line">[Friday 18 March 2011] [08:06:56] &lt;yrashk&gt;    just adding an enum flag to recv structure</div>
<div class="line">[Friday 18 March 2011] [08:07:07] &lt;yrashk&gt;    and renaming recv structure to something like command or someting</div>
<div class="line">[Friday 18 March 2011] [08:07:16] &lt;yrashk&gt;    also, evax</div>
<div class="line">[Friday 18 March 2011] [08:07:22] &lt;evax&gt;      yes, along those lines</div>
<div class="line">[Friday 18 March 2011] [08:07:24] &lt;yrashk&gt;    do you plan to do exactly the same scheme?</div>
<div class="line">[Friday 18 March 2011] [08:07:26] &lt;yrashk&gt;    i.e.</div>
<div class="line">[Friday 18 March 2011] [08:07:30] &lt;yrashk&gt;    recv noblock first</div>
<div class="line">[Friday 18 March 2011] [08:07:33] &lt;evax&gt;      sure</div>
<div class="line">[Friday 18 March 2011] [08:07:35] &lt;yrashk&gt;    err</div>
<div class="line">[Friday 18 March 2011] [08:07:37] &lt;yrashk&gt;    send*</div>
<div class="line">[Friday 18 March 2011] [08:07:41] &lt;yrashk&gt;    if it says EAGAIN</div>
<div class="line">[Friday 18 March 2011] [08:07:43] &lt;yrashk&gt;    then pool it</div>
<div class="line">[Friday 18 March 2011] [08:07:56] &lt;evax&gt;      shouldn&#8217;t I ?</div>
<div class="line">[Friday 18 March 2011] [08:08:04] &lt;yrashk&gt;    so that we don&#8217;t pool when it is unnecessary</div>
<div class="line">[Friday 18 March 2011] [08:08:10] &lt;yrashk&gt;    I think it&#8217;s a good approach</div>
<div class="line">[Friday 18 March 2011] [08:08:22] &lt;yrashk&gt;    zmq_send(.., ZMQ_NOBLOCK) -&gt; if EGAGAIN, pool</div>
<div class="line">[Friday 18 March 2011] [08:08:27] &lt;yrashk&gt;    otherwise, be done with it</div>
<div class="line">[Friday 18 March 2011] [08:08:30] &lt;yrashk&gt;    EAGAIN*</div>
<div class="line">[Friday 18 March 2011] [08:08:49] &lt;yrashk&gt;    that looks really very much the same way recv does</div>
<div class="line">[Friday 18 March 2011] [08:11:21] &lt;evax&gt;      except we have to store the msg somewhere</div>
<div class="line">[Friday 18 March 2011] [08:12:17] &lt;yrashk&gt;    in the same struct</div>
<div class="line">[Friday 18 March 2011] [08:12:25] &lt;yrashk&gt;    recv, but renamed</div>
<div class="line">[Friday 18 March 2011] [08:12:35] &lt;yrashk&gt;    and extended accordingly</div>
<div class="line">[Friday 18 March 2011] [08:12:57] &lt;evax&gt;      this goes over the ipc socket, so for big messages its ugly</div>
<div class="line">[Friday 18 March 2011] [08:13:01] &lt;yrashk&gt;    just copy the zms_msg</div>
<div class="line">[Friday 18 March 2011] [08:13:07] &lt;yrashk&gt;    it is</div>
<div class="line">[Friday 18 March 2011] [08:13:13] &lt;yrashk&gt;    but its not ipc</div>
<div class="line">[Friday 18 March 2011] [08:13:16] &lt;yrashk&gt;    inproc</div>
<div class="line">[Friday 18 March 2011] [08:13:21] &lt;evax&gt;      yeah</div>
<div class="line">[Friday 18 March 2011] [08:13:24] &lt;yrashk&gt;    we just pass a pointer</div>
<div class="line">[Friday 18 March 2011] [08:13:31] &lt;yrashk&gt;    how about that?</div>
<div class="line">[Friday 18 March 2011] [08:13:59] &lt;yrashk&gt;    and then zmq_msg_close it when done sending it in a loop</div>
<div class="line">[Friday 18 March 2011] [08:14:23] &lt;yrashk&gt;    theres more important problem</div>
<div class="line">[Friday 18 March 2011] [08:14:33] &lt;yrashk&gt;    in that thread we poll</div>
<div class="line">[Friday 18 March 2011] [08:14:47] &lt;yrashk&gt;    but if we do the blocking send there</div>
<div class="line">[Friday 18 March 2011] [08:15:09] &lt;yrashk&gt;    then receivers will get blocked untill the send is over</div>
<div class="line">[Friday 18 March 2011] [08:15:12] &lt;yrashk&gt;    mhm</div>
<div class="line">[Friday 18 March 2011] [08:15:18] &lt;evax&gt;      reading zmq.h shouldn&#8217;t be a problem to pass the msg in, ideed</div>
<div class="line">[Friday 18 March 2011] [08:15:39] &lt;yrashk&gt;    yeah, so pointer in that struct for msg is cool</div>
<div class="line">[Friday 18 March 2011] [08:15:50] &lt;yrashk&gt;    but this problem above bothers me</div>
<div class="line">[Friday 18 March 2011] [08:15:53] &lt;yrashk&gt;    not nice</div>
<div class="line">[Friday 18 March 2011] [08:16:50] &lt;yrashk&gt;    also separate sending thread isnt solving this completely</div>
<div class="line">[Friday 18 March 2011] [08:17:02] &lt;yrashk&gt;    it will help us from blocking poller</div>
<div class="line">[Friday 18 March 2011] [08:17:23] &lt;yrashk&gt;    but it will not b able to send more than one thing at a time</div>
<div class="line">[Friday 18 March 2011] [08:17:33] &lt;yrashk&gt;    since sending is blocked</div>
<div class="line">[Friday 18 March 2011] [08:17:44] &lt;yrashk&gt;    if only we had a reverse poll</div>
<div class="line">[Friday 18 March 2011] [08:17:47] &lt;yrashk&gt;    wait</div>
<div class="line">[Friday 18 March 2011] [08:18:00] &lt;yrashk&gt;    dont we have that kind of event in poll?</div>
<div class="line">[Friday 18 March 2011] [08:18:08] &lt;evax&gt;      it has to be in the same thread</div>
<div class="line">[Friday 18 March 2011] [08:18:14] &lt;yrashk&gt;    not sure how it will help tho</div>
<div class="line">[Friday 18 March 2011] [08:18:43] &lt;evax&gt;      and I&#8217;m not sure sending and recving are allowed at the same time</div>
<div class="line">[Friday 18 March 2011] [08:19:05] &lt;evax&gt;      if one must not use a socket in multiple threads</div>
<div class="line">[Friday 18 March 2011] [08:19:37] &lt;yrashk&gt;    hey</div>
<div class="line">[Friday 18 March 2011] [08:19:52] &lt;yrashk&gt;    how about using zmq_pollout event?</div>
<div class="line">[Friday 18 March 2011] [08:20:03] &lt;evax&gt;      sure</div>
<div class="line">[Friday 18 March 2011] [08:20:09] &lt;yrashk&gt;    it guarantees you can send without blocking</div>
<div class="line">[Friday 18 March 2011] [08:20:27] &lt;yrashk&gt;    so we can embed this into our poller</div>
<div class="line">[Friday 18 March 2011] [08:21:03] &lt;yrashk&gt;    this way we wont be blocking the poller ever</div>
<div class="line">[Friday 18 March 2011] [08:21:11] &lt;yrashk&gt;    i think it is a sound idea</div>
<div class="line">[Friday 18 March 2011] [08:21:56] &lt;yrashk&gt;    sustrik, wdyt? will it work fine? any precautions?</div>
<div class="line">[Friday 18 March 2011] [08:23:28] &lt;yrashk&gt;    i really like it</div>
<div class="line">[Friday 18 March 2011] [08:42:40] &lt;sustrik&gt;   yes, that&#8217;s what POLLOUT is for</div>
<div class="line">[Friday 18 March 2011] [08:43:08] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:43:22] &lt;yrashk&gt;    so hopefully we&#8217;ll have this non-blocking very soon then</div>
<div class="line">[Friday 18 March 2011] [08:43:32] &lt;yrashk&gt;    as it will not change our poller much</div>
<div class="line">[Friday 18 March 2011] [08:45:51] &lt;Steve-o&gt;   mikko: looks like all the platforms are good now</div>
<div class="line">[Friday 18 March 2011] [09:06:34] &lt;<a href="#id1054"><span class="problematic" id="id1055">pieterh_</span></a>&gt;   sustrik: I think your email is inaccurate in some key ways</div>
<div class="line">[Friday 18 March 2011] [09:06:53] &lt;<a href="#id1056"><span class="problematic" id="id1057">pieterh_</span></a>&gt;  most critically, you are claiming a purpose for XREP that was never documented before</div>
<div class="line">[Friday 18 March 2011] [09:06:56] &lt;sustrik&gt;   feel free to discuss</div>
<div class="line">[Friday 18 March 2011] [09:07:09] &lt;sustrik&gt;   that&#8217;s why i sent the email out</div>
<div class="line">[Friday 18 March 2011] [09:07:11] &lt;<a href="#id1058"><span class="problematic" id="id1059">pieterh_</span></a>&gt;  as a user, and the developer of many devices, the notion that you would break this, is... shocking</div>
<div class="line">[Friday 18 March 2011] [09:07:40] &lt;sustrik&gt;   that&#8217;s why it has to be solved</div>
<div class="line">[Friday 18 March 2011] [09:07:41] &lt;<a href="#id1060"><span class="problematic" id="id1061">pieterh_</span></a>&gt;  it suggests (a) you don&#8217;t know wtf you were doing, (b) you don&#8217;t care about your users, (c) you don&#8217;t understand what they are doing</div>
<div class="line">[Friday 18 March 2011] [09:07:48] &lt;<a href="#id1062"><span class="problematic" id="id1063">pieterh_</span></a>&gt;  none of this is true, but it&#8217;s what your email suggests</div>
<div class="line">[Friday 18 March 2011] [09:07:50] &lt;sustrik&gt;   i would start with ZMQ)ROUTER socket type</div>
<div class="line">[Friday 18 March 2011] [09:08:19] &lt;sustrik&gt;   shrug, it has to be solved somehow</div>
<div class="line">[Friday 18 March 2011] [09:08:20] &lt;<a href="#id1064"><span class="problematic" id="id1065">pieterh_</span></a>&gt;  it&#8217;s unavoidable that people use this as a ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:08:27] &lt;<a href="#id1066"><span class="problematic" id="id1067">pieterh_</span></a>&gt;  so, embrace that and make it work nicely</div>
<div class="line">[Friday 18 March 2011] [09:08:28] &lt;sustrik&gt;   feel free to propose a solution</div>
<div class="line">[Friday 18 March 2011] [09:08:32] &lt;<a href="#id1068"><span class="problematic" id="id1069">pieterh_</span></a>&gt;  I&#8217;ve done that many times</div>
<div class="line">[Friday 18 March 2011] [09:08:39] &lt;sustrik&gt;   ZMQ_ROUTER, right?</div>
<div class="line">[Friday 18 March 2011] [09:08:40] &lt;<a href="#id1070"><span class="problematic" id="id1071">pieterh_</span></a>&gt;  call it by the right name, make it work a little better</div>
<div class="line">[Friday 18 March 2011] [09:08:42] &lt;<a href="#id1072"><span class="problematic" id="id1073">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:08:43] &lt;<a href="#id1074"><span class="problematic" id="id1075">pieterh_</span></a>&gt;  of course</div>
<div class="line">[Friday 18 March 2011] [09:08:49] &lt;sustrik&gt;   that&#8217;s option 2 i think</div>
<div class="line">[Friday 18 March 2011] [09:08:51] &lt;<a href="#id1076"><span class="problematic" id="id1077">pieterh_</span></a>&gt;  you will see the overwhelming consensus on the list</div>
<div class="line">[Friday 18 March 2011] [09:09:02] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [09:09:03] &lt;<a href="#id1078"><span class="problematic" id="id1079">pieterh_</span></a>&gt;  you did read that thread, right?</div>
<div class="line">[Friday 18 March 2011] [09:09:04] &lt;sustrik&gt;   np</div>
<div class="line">[Friday 18 March 2011] [09:09:17] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:09:21] &lt;<a href="#id1080"><span class="problematic" id="id1081">pieterh_</span></a>&gt;  I like your solution of a verbose compile option</div>
<div class="line">[Friday 18 March 2011] [09:09:29] &lt;sustrik&gt;   i am just explaining the internals</div>
<div class="line">[Friday 18 March 2011] [09:09:40] &lt;sustrik&gt;   opt.2 is probably the best</div>
<div class="line">[Friday 18 March 2011] [09:09:53] &lt;<a href="#id1082"><span class="problematic" id="id1083">pieterh_</span></a>&gt;  well, you&#8217;re saying you might make a different implementation of &#8220;return to sender&#8221;</div>
<div class="line">[Friday 18 March 2011] [09:10:03] &lt;sustrik&gt;   definitely</div>
<div class="line">[Friday 18 March 2011] [09:10:10] &lt;<a href="#id1084"><span class="problematic" id="id1085">pieterh_</span></a>&gt;  which (and I give you the raw emotion) is ... shokcing</div>
<div class="line">[Friday 18 March 2011] [09:10:11] &lt;<a href="#id1086"><span class="problematic" id="id1087">pieterh_</span></a>&gt;  shocking</div>
<div class="line">[Friday 18 March 2011] [09:10:14] &lt;sustrik&gt;   that&#8217;s the XREP should be separated from REOUTER</div>
<div class="line">[Friday 18 March 2011] [09:10:17] &lt;sustrik&gt;   ROUTER*</div>
<div class="line">[Friday 18 March 2011] [09:10:29] &lt;sustrik&gt;   they are two distinct things</div>
<div class="line">[Friday 18 March 2011] [09:10:32] &lt;<a href="#id1088"><span class="problematic" id="id1089">pieterh_</span></a>&gt;  you have a better idea for the REP-REQ chain?</div>
<div class="line">[Friday 18 March 2011] [09:10:40] &lt;sustrik&gt;   not at the moment</div>
<div class="line">[Friday 18 March 2011] [09:10:51] &lt;sustrik&gt;   but it&#8217;s conceptually different from router</div>
<div class="line">[Friday 18 March 2011] [09:10:56] &lt;<a href="#id1090"><span class="problematic" id="id1091">pieterh_</span></a>&gt;  precisely, and afaics it&#8217;s impossible without creating stateful fabric</div>
<div class="line">[Friday 18 March 2011] [09:11:02] &lt;sustrik&gt;   say the dropping of unroutable messages -&gt;</div>
<div class="line">[Friday 18 March 2011] [09:11:03] &lt;<a href="#id1092"><span class="problematic" id="id1093">pieterh_</span></a>&gt;  conceptually it&#8217;s the same</div>
<div class="line">[Friday 18 March 2011] [09:11:05] &lt;<a href="#id1094"><span class="problematic" id="id1095">pieterh_</span></a>&gt;  it&#8217;s a use case</div>
<div class="line">[Friday 18 March 2011] [09:11:08] &lt;sustrik&gt;   ROUTER should not drop</div>
<div class="line">[Friday 18 March 2011] [09:11:10] &lt;sustrik&gt;   XREP should</div>
<div class="line">[Friday 18 March 2011] [09:11:14] &lt;<a href="#id1096"><span class="problematic" id="id1097">pieterh_</span></a>&gt;  yes it should</div>
<div class="line">[Friday 18 March 2011] [09:11:24] &lt;<a href="#id1098"><span class="problematic" id="id1099">pieterh_</span></a>&gt;  ROUTER should drop BUT it should be able to warn you</div>
<div class="line">[Friday 18 March 2011] [09:11:45] &lt;<a href="#id1100"><span class="problematic" id="id1101">pieterh_</span></a>&gt;  there is nothing useful you can do with an unroutable message but since it often suggests a programming error, you need visibility</div>
<div class="line">[Friday 18 March 2011] [09:11:47] &lt;<a href="#id1102"><span class="problematic" id="id1103">pieterh_</span></a>&gt;  that&#8217;s all</div>
<div class="line">[Friday 18 March 2011] [09:11:52] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [09:12:08] &lt;<a href="#id1104"><span class="problematic" id="id1105">pieterh_</span></a>&gt;  I literally go into src/xrep.cpp and add a printf</div>
<div class="line">[Friday 18 March 2011] [09:12:15] &lt;<a href="#id1106"><span class="problematic" id="id1107">pieterh_</span></a>&gt;  so I can debug a complex router</div>
<div class="line">[Friday 18 March 2011] [09:12:41] &lt;<a href="#id1108"><span class="problematic" id="id1109">pieterh_</span></a>&gt;  doing a req-rep chain is just one use case for routing</div>
<div class="line">[Friday 18 March 2011] [09:12:44] &lt;<a href="#id1110"><span class="problematic" id="id1111">pieterh_</span></a>&gt;  it&#8217;s not a core pattern</div>
<div class="line">[Friday 18 March 2011] [09:12:50] &lt;sustrik&gt;   it is</div>
<div class="line">[Friday 18 March 2011] [09:13:00] &lt;<a href="#id1112"><span class="problematic" id="id1113">pieterh_</span></a>&gt;  not a <em>separate</em> core pattern</div>
<div class="line">[Friday 18 March 2011] [09:13:02] &lt;<a href="#id1114"><span class="problematic" id="id1115">pieterh_</span></a>&gt;  afaics</div>
<div class="line">[Friday 18 March 2011] [09:14:18] &lt;<a href="#id1116"><span class="problematic" id="id1117">pieterh_</span></a>&gt;  tbh the envelope concept is ugly as heck but I can&#8217;t see anything simpler or better</div>
<div class="line">[Friday 18 March 2011] [09:14:38] &lt;sustrik&gt;   the one described in the email is nice</div>
<div class="line">[Friday 18 March 2011] [09:14:46] &lt;sustrik&gt;   but works on only for req/rep</div>
<div class="line">[Friday 18 March 2011] [09:14:49] &lt;sustrik&gt;   not for router</div>
<div class="line">[Friday 18 March 2011] [09:15:02] &lt;sustrik&gt;   and it has some scaling issues</div>
<div class="line">[Friday 18 March 2011] [09:15:12] &lt;sustrik&gt;   so it&#8217;s not a real alternative, i think</div>
<div class="line">[Friday 18 March 2011] [09:16:29]      * <a href="#id1118"><span class="problematic" id="id1119">pieterh_</span></a> is re-reading the email</div>
<div class="line">[Friday 18 March 2011] [09:16:36] &lt;<a href="#id1120"><span class="problematic" id="id1121">pieterh_</span></a>&gt;  XPUB/XSUB are hop-by-hop?</div>
<div class="line">[Friday 18 March 2011] [09:16:53] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:16:59] &lt;<a href="#id1122"><span class="problematic" id="id1123">pieterh_</span></a>&gt;  the fact you implement PUB on XPUB, REQ on XREQ, is irrelevant to the user</div>
<div class="line">[Friday 18 March 2011] [09:17:04] &lt;<a href="#id1124"><span class="problematic" id="id1125">pieterh_</span></a>&gt;  it&#8217;s vital to you, irrelevant to me</div>
<div class="line">[Friday 18 March 2011] [09:17:15] &lt;<a href="#id1126"><span class="problematic" id="id1127">pieterh_</span></a>&gt;  in fact, worse than irrelevant, it&#8217;s negative data</div>
<div class="line">[Friday 18 March 2011] [09:17:53] &lt;<a href="#id1128"><span class="problematic" id="id1129">pieterh_</span></a>&gt;  you basically ask me as user to think about your implementation design, which breaks my brain</div>
<div class="line">[Friday 18 March 2011] [09:18:05] &lt;<a href="#id1130"><span class="problematic" id="id1131">pieterh_</span></a>&gt;  &#8220;The end-to-end type is always layered on top of the corresponding X socket&#8221;</div>
<div class="line">[Friday 18 March 2011] [09:18:06] &lt;sustrik&gt;   it works like IP and TCP</div>
<div class="line">[Friday 18 March 2011] [09:18:10] &lt;<a href="#id1132"><span class="problematic" id="id1133">pieterh_</span></a>&gt;  that&#8217;s rubbish, sorry</div>
<div class="line">[Friday 18 March 2011] [09:18:14] &lt;<a href="#id1134"><span class="problematic" id="id1135">pieterh_</span></a>&gt;  I don&#8217;t know IP</div>
<div class="line">[Friday 18 March 2011] [09:18:16] &lt;sustrik&gt;   a TCP user doesn&#8217;t have to be aware of IP</div>
<div class="line">[Friday 18 March 2011] [09:18:19] &lt;sustrik&gt;   but it&#8217;s there</div>
<div class="line">[Friday 18 March 2011] [09:18:32] &lt;<a href="#id1136"><span class="problematic" id="id1137">pieterh_</span></a>&gt;  sorry, it does not work for me, not at all</div>
<div class="line">[Friday 18 March 2011] [09:18:42] &lt;<a href="#id1138"><span class="problematic" id="id1139">pieterh_</span></a>&gt;  what I want are a set of socket types with clear names and clear semantics</div>
<div class="line">[Friday 18 March 2011] [09:18:50] &lt;Steve-o&gt;   +1</div>
<div class="line">[Friday 18 March 2011] [09:18:51] &lt;<a href="#id1140"><span class="problematic" id="id1141">pieterh_</span></a>&gt;  I don&#8217;t want some layering and abstraction I need to learn first</div>
<div class="line">[Friday 18 March 2011] [09:18:52] &lt;sustrik&gt;   that&#8217;s the option 2</div>
<div class="line">[Friday 18 March 2011] [09:18:59] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:19:06] &lt;<a href="#id1142"><span class="problematic" id="id1143">pieterh_</span></a>&gt;  do not try to sell me your abstractions, it&#8217;s what AMQP does and it&#8217;s bogus</div>
<div class="line">[Friday 18 March 2011] [09:19:22] &lt;sustrik&gt;   what do you want exactly then?</div>
<div class="line">[Friday 18 March 2011] [09:19:25] &lt;sustrik&gt;   i am not following</div>
<div class="line">[Friday 18 March 2011] [09:19:28] &lt;<a href="#id1144"><span class="problematic" id="id1145">pieterh_</span></a>&gt;  I want clear socket names</div>
<div class="line">[Friday 18 March 2011] [09:19:33] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:19:35] &lt;<a href="#id1146"><span class="problematic" id="id1147">pieterh_</span></a>&gt;  clear semantics that are documented up-front</div>
<div class="line">[Friday 18 March 2011] [09:19:36] &lt;<a href="#id1148"><span class="problematic" id="id1149">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:19:46] &lt;<a href="#id1150"><span class="problematic" id="id1151">pieterh_</span></a>&gt;  this is, sadly, reverse engineering</div>
<div class="line">[Friday 18 March 2011] [09:19:47] &lt;sustrik&gt;   what&#8217;s the problem then?</div>
<div class="line">[Friday 18 March 2011] [09:19:55] &lt;<a href="#id1152"><span class="problematic" id="id1153">pieterh_</span></a>&gt;  it&#8217;s me trying to make names that fit your semantics</div>
<div class="line">[Friday 18 March 2011] [09:20:12] &lt;<a href="#id1154"><span class="problematic" id="id1155">pieterh_</span></a>&gt;  there&#8217;s no problem so long as you don&#8217;t come back with abstractions that hurt my brain</div>
<div class="line">[Friday 18 March 2011] [09:20:13] &lt;<a href="#id1156"><span class="problematic" id="id1157">pieterh_</span></a>&gt;  :-)</div>
<div class="line">[Friday 18 March 2011] [09:20:23] &lt;<a href="#id1158"><span class="problematic" id="id1159">pieterh_</span></a>&gt;  it is already hard enough</div>
<div class="line">[Friday 18 March 2011] [09:20:35] &lt;sustrik&gt;   that&#8217;s an abstraction on which 0mq is working from very beginning</div>
<div class="line">[Friday 18 March 2011] [09:20:38] &lt;sustrik&gt;   just ignore it</div>
<div class="line">[Friday 18 March 2011] [09:20:55] &lt;sustrik&gt;   as a user you don&#8217;t have to care</div>
<div class="line">[Friday 18 March 2011] [09:20:58] &lt;<a href="#id1160"><span class="problematic" id="id1161">pieterh_</span></a>&gt;  do you understand that your semantics are counter-productive for mine?</div>
<div class="line">[Friday 18 March 2011] [09:21:08] &lt;<a href="#id1162"><span class="problematic" id="id1163">pieterh_</span></a>&gt;  we have a conflict, as user vs. designer?</div>
<div class="line">[Friday 18 March 2011] [09:21:27] &lt;sustrik&gt;   i don&#8217;t think so</div>
<div class="line">[Friday 18 March 2011] [09:21:37] &lt;<a href="#id1164"><span class="problematic" id="id1165">pieterh_</span></a>&gt;  it&#8217;s been that way so far</div>
<div class="line">[Friday 18 March 2011] [09:21:43] &lt;<a href="#id1166"><span class="problematic" id="id1167">pieterh_</span></a>&gt;  e.g. The end-to-end type is always layered on top of the corresponding X socket</div>
<div class="line">[Friday 18 March 2011] [09:21:49] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:22:03] &lt;<a href="#id1168"><span class="problematic" id="id1169">pieterh_</span></a>&gt;  that is toxic for me as user</div>
<div class="line">[Friday 18 March 2011] [09:22:12] &lt;sustrik&gt;   you don&#8217;t have to care</div>
<div class="line">[Friday 18 March 2011] [09:22:20] &lt;sustrik&gt;   use just the non-X types</div>
<div class="line">[Friday 18 March 2011] [09:22:26] &lt;sustrik&gt;   that&#8217;s what proposition 2 is about</div>
<div class="line">[Friday 18 March 2011] [09:22:34] &lt;sustrik&gt;   people want to use routing</div>
<div class="line">[Friday 18 March 2011] [09:22:43] &lt;sustrik&gt;   so let&#8217;s make routing a first-class non-X socket</div>
<div class="line">[Friday 18 March 2011] [09:22:46] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:22:53] &lt;<a href="#id1170"><span class="problematic" id="id1171">pieterh_</span></a>&gt;  well, you can make internal socket types that are undocumented</div>
<div class="line">[Friday 18 March 2011] [09:23:05] &lt;<a href="#id1172"><span class="problematic" id="id1173">pieterh_</span></a>&gt;  but ZMQ_ROUTER and ZMQ_DEALER cannot be internal and undocumented</div>
<div class="line">[Friday 18 March 2011] [09:23:15] &lt;<a href="#id1174"><span class="problematic" id="id1175">pieterh_</span></a>&gt;  since they cover 40%, as I said, of real application use cases</div>
<div class="line">[Friday 18 March 2011] [09:23:24] &lt;sustrik&gt;   X-sockets must be documented because they are used to make devices</div>
<div class="line">[Friday 18 March 2011] [09:23:32] &lt;<a href="#id1176"><span class="problematic" id="id1177">pieterh_</span></a>&gt;  devices are apps</div>
<div class="line">[Friday 18 March 2011] [09:23:43] &lt;sustrik&gt;   i.e. intermdiate nodes with no end-to-end functionalitty</div>
<div class="line">[Friday 18 March 2011] [09:23:46] &lt;<a href="#id1178"><span class="problematic" id="id1179">pieterh_</span></a>&gt;  X-sockets are your terminology</div>
<div class="line">[Friday 18 March 2011] [09:23:55] &lt;<a href="#id1180"><span class="problematic" id="id1181">pieterh_</span></a>&gt;  I&#8217;m against that terminology</div>
<div class="line">[Friday 18 March 2011] [09:24:02] &lt;sustrik&gt;   what would you want instead?</div>
<div class="line">[Friday 18 March 2011] [09:24:09] &lt;<a href="#id1182"><span class="problematic" id="id1183">pieterh_</span></a>&gt;  especially when you explain it</div>
<div class="line">[Friday 18 March 2011] [09:24:16] &lt;sustrik&gt;   i admitt the X- thing is stupid</div>
<div class="line">[Friday 18 March 2011] [09:24:18] &lt;<a href="#id1184"><span class="problematic" id="id1185">pieterh_</span></a>&gt;  just a clear set of sockets that are properly documented and match real requirements</div>
<div class="line">[Friday 18 March 2011] [09:24:23] &lt;<a href="#id1186"><span class="problematic" id="id1187">pieterh_</span></a>&gt;  it&#8217;s not hard</div>
<div class="line">[Friday 18 March 2011] [09:24:24] &lt;<a href="#id1188"><span class="problematic" id="id1189">pieterh_</span></a>&gt;  design from the use case backwards</div>
<div class="line">[Friday 18 March 2011] [09:24:29] &lt;sustrik&gt;   haven&#8217;t though of anything better though</div>
<div class="line">[Friday 18 March 2011] [09:24:30] &lt;<a href="#id1190"><span class="problematic" id="id1191">pieterh_</span></a>&gt;  not from the implementation forwards</div>
<div class="line">[Friday 18 March 2011] [09:24:36] &lt;<a href="#id1192"><span class="problematic" id="id1193">pieterh_</span></a>&gt;  I don&#8217;t <em>care</em> how you implement stuff</div>
<div class="line">[Friday 18 March 2011] [09:24:58] &lt;<a href="#id1194"><span class="problematic" id="id1195">pieterh_</span></a>&gt;  what I do care about is the clarity of documentation as a contract</div>
<div class="line">[Friday 18 March 2011] [09:25:00] &lt;<a href="#id1196"><span class="problematic" id="id1197">pieterh_</span></a>&gt;  clear names</div>
<div class="line">[Friday 18 March 2011] [09:25:09] &lt;sustrik&gt;   the problem is that X- sockets have to be exposed because of device implementers</div>
<div class="line">[Friday 18 March 2011] [09:25:12] &lt;<a href="#id1198"><span class="problematic" id="id1199">pieterh_</span></a>&gt;  clear semantics that directly speak to user requirements</div>
<div class="line">[Friday 18 March 2011] [09:25:16] &lt;<a href="#id1200"><span class="problematic" id="id1201">pieterh_</span></a>&gt;  ?</div>
<div class="line">[Friday 18 March 2011] [09:25:21] &lt;sustrik&gt;   so they can&#8217;t be hidden</div>
<div class="line">[Friday 18 March 2011] [09:25:22] &lt;<a href="#id1202"><span class="problematic" id="id1203">pieterh_</span></a>&gt;  ZMQ_ROUTER is not a problem</div>
<div class="line">[Friday 18 March 2011] [09:25:28] &lt;<a href="#id1204"><span class="problematic" id="id1205">pieterh_</span></a>&gt;  sigh</div>
<div class="line">[Friday 18 March 2011] [09:25:32] &lt;<a href="#id1206"><span class="problematic" id="id1207">pieterh_</span></a>&gt;  devices are apps</div>
<div class="line">[Friday 18 March 2011] [09:25:34] &lt;sustrik&gt;   no, the problem is layering</div>
<div class="line">[Friday 18 March 2011] [09:25:40] &lt;<a href="#id1208"><span class="problematic" id="id1209">pieterh_</span></a>&gt;  that&#8217;s your problem, not mine</div>
<div class="line">[Friday 18 March 2011] [09:25:55] &lt;<a href="#id1210"><span class="problematic" id="id1211">pieterh_</span></a>&gt;  that&#8217;s an implementation detail</div>
<div class="line">[Friday 18 March 2011] [09:25:58] &lt;<a href="#id1212"><span class="problematic" id="id1213">pieterh_</span></a>&gt;  look... just make small steps here</div>
<div class="line">[Friday 18 March 2011] [09:26:06] &lt;sustrik&gt;   ok, so just ignore the X types</div>
<div class="line">[Friday 18 March 2011] [09:26:09] &lt;<a href="#id1214"><span class="problematic" id="id1215">pieterh_</span></a>&gt;  rename XREP and XREQ to ROUTER and DEALER</div>
<div class="line">[Friday 18 March 2011] [09:26:17] &lt;<a href="#id1216"><span class="problematic" id="id1217">pieterh_</span></a>&gt;  and stop using weird names that make no sense</div>
<div class="line">[Friday 18 March 2011] [09:26:17] &lt;sustrik&gt;   it&#8217;s mine problem, not yours</div>
<div class="line">[Friday 18 March 2011] [09:26:33] &lt;<a href="#id1218"><span class="problematic" id="id1219">pieterh_</span></a>&gt;  if you want to use undocumented internal socket types, fine</div>
<div class="line">[Friday 18 March 2011] [09:26:38] &lt;<a href="#id1220"><span class="problematic" id="id1221">pieterh_</span></a>&gt;  but they don&#8217;t exist for me</div>
<div class="line">[Friday 18 March 2011] [09:26:45] &lt;sustrik&gt;   they must be documented because of devices</div>
<div class="line">[Friday 18 March 2011] [09:26:57] &lt;sustrik&gt;   there&#8217;s no way to create a device with REQ/REP</div>
<div class="line">[Friday 18 March 2011] [09:27:01] &lt;sustrik&gt;   it would blockl</div>
<div class="line">[Friday 18 March 2011] [09:27:01] &lt;<a href="#id1222"><span class="problematic" id="id1223">pieterh_</span></a>&gt;  then they are not internal</div>
<div class="line">[Friday 18 March 2011] [09:27:07] &lt;<a href="#id1224"><span class="problematic" id="id1225">pieterh_</span></a>&gt;  well, I do know that</div>
<div class="line">[Friday 18 March 2011] [09:27:25] &lt;<a href="#id1226"><span class="problematic" id="id1227">pieterh_</span></a>&gt;  when I say &#8220;undocumented internal socket types&#8221; I do not mean ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:27:25] &lt;<a href="#id1228"><span class="problematic" id="id1229">pieterh_</span></a>&gt;  obviously</div>
<div class="line">[Friday 18 March 2011] [09:27:41] &lt;<a href="#id1230"><span class="problematic" id="id1231">pieterh_</span></a>&gt;  I mean e.g. XPUB/XSUB</div>
<div class="line">[Friday 18 March 2011] [09:27:51] &lt;sustrik&gt;   so my proposition is let distiquish XREP/XREQ</div>
<div class="line">[Friday 18 March 2011] [09:27:55] &lt;sustrik&gt;   from ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:28:03] &lt;sustrik&gt;   you can then use ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:28:04] &lt;<a href="#id1232"><span class="problematic" id="id1233">pieterh_</span></a>&gt;  why?</div>
<div class="line">[Friday 18 March 2011] [09:28:12] &lt;<a href="#id1234"><span class="problematic" id="id1235">pieterh_</span></a>&gt;  why keep the old names at all?</div>
<div class="line">[Friday 18 March 2011] [09:28:15] &lt;sustrik&gt;   because it&#8217;s a different messaging pattern</div>
<div class="line">[Friday 18 March 2011] [09:28:21] &lt;<a href="#id1236"><span class="problematic" id="id1237">pieterh_</span></a>&gt;  sigh</div>
<div class="line">[Friday 18 March 2011] [09:28:23] &lt;<a href="#id1238"><span class="problematic" id="id1239">pieterh_</span></a>&gt;  this is just bogus</div>
<div class="line">[Friday 18 March 2011] [09:28:25] &lt;sustrik&gt;   it SMTP-like messaging</div>
<div class="line">[Friday 18 March 2011] [09:28:27] &lt;<a href="#id1240"><span class="problematic" id="id1241">pieterh_</span></a>&gt;  it&#8217;s not a different pattern</div>
<div class="line">[Friday 18 March 2011] [09:28:34] &lt;<a href="#id1242"><span class="problematic" id="id1243">pieterh_</span></a>&gt;  it&#8217;s just one use case</div>
<div class="line">[Friday 18 March 2011] [09:28:38] &lt;sustrik&gt;   specify an address, the message will get there</div>
<div class="line">[Friday 18 March 2011] [09:28:41] &lt;<a href="#id1244"><span class="problematic" id="id1245">pieterh_</span></a>&gt;  you have said it, there&#8217;s no better way to implement it</div>
<div class="line">[Friday 18 March 2011] [09:28:48] &lt;sustrik&gt;   while req/rep is:</div>
<div class="line">[Friday 18 March 2011] [09:28:52] &lt;<a href="#id1246"><span class="problematic" id="id1247">pieterh_</span></a>&gt;  &#8220;message will get there&#8221; is not a socket semantic</div>
<div class="line">[Friday 18 March 2011] [09:29:01] &lt;sustrik&gt;   specify the name of the service, you task will be executed</div>
<div class="line">[Friday 18 March 2011] [09:29:18] &lt;<a href="#id1248"><span class="problematic" id="id1249">pieterh_</span></a>&gt;  that is Majordomo</div>
<div class="line">[Friday 18 March 2011] [09:29:21] &lt;<a href="#id1250"><span class="problematic" id="id1251">pieterh_</span></a>&gt;  have you actually read the Guide?</div>
<div class="line">[Friday 18 March 2011] [09:29:28] &lt;sustrik&gt;   most of it</div>
<div class="line">[Friday 18 March 2011] [09:29:38] &lt;<a href="#id1252"><span class="problematic" id="id1253">pieterh_</span></a>&gt;  you should perhaps see what people do with your work</div>
<div class="line">[Friday 18 March 2011] [09:29:39] &lt;sustrik&gt;   anyway, let&#8217;s move this discussion on the mailing list</div>
<div class="line">[Friday 18 March 2011] [09:29:43] &lt;<a href="#id1254"><span class="problematic" id="id1255">pieterh_</span></a>&gt;  it&#8217;s all based on real questions on the list</div>
<div class="line">[Friday 18 March 2011] [09:29:49] &lt;<a href="#id1256"><span class="problematic" id="id1257">pieterh_</span></a>&gt;  SOA is not a socket semantic</div>
<div class="line">[Friday 18 March 2011] [09:30:16] &lt;<a href="#id1258"><span class="problematic" id="id1259">pieterh_</span></a>&gt;  my advice, honestly, is to make small, careful evolutionary steps</div>
<div class="line">[Friday 18 March 2011] [09:30:26] &lt;<a href="#id1260"><span class="problematic" id="id1261">pieterh_</span></a>&gt;  do not make radical changes to things that took years to learn</div>
<div class="line">[Friday 18 March 2011] [09:30:28] &lt;sustrik&gt;   #define ZMQ_ROUTER ZMQ_XREP</div>
<div class="line">[Friday 18 March 2011] [09:30:31] &lt;<a href="#id1262"><span class="problematic" id="id1263">pieterh_</span></a>&gt;  people will not like you for it</div>
<div class="line">[Friday 18 March 2011] [09:30:32] &lt;<a href="#id1264"><span class="problematic" id="id1265">pieterh_</span></a>&gt;  sure</div>
<div class="line">[Friday 18 March 2011] [09:30:33] &lt;sustrik&gt;   that&#8217;s as small as it gets</div>
<div class="line">[Friday 18 March 2011] [09:30:36] &lt;<a href="#id1266"><span class="problematic" id="id1267">pieterh_</span></a>&gt;  I&#8217;ve done that in 2.1</div>
<div class="line">[Friday 18 March 2011] [09:30:40] &lt;<a href="#id1268"><span class="problematic" id="id1269">pieterh_</span></a>&gt;  precisely that</div>
<div class="line">[Friday 18 March 2011] [09:30:45] &lt;sustrik&gt;   i&#8217;ll do that in trunk</div>
<div class="line">[Friday 18 March 2011] [09:30:48] &lt;<a href="#id1270"><span class="problematic" id="id1271">pieterh_</span></a>&gt;  it&#8217;s sufficient for me</div>
<div class="line">[Friday 18 March 2011] [09:30:54] &lt;sustrik&gt;   but i would like it to be discussed first</div>
<div class="line">[Friday 18 March 2011] [09:31:03] &lt;<a href="#id1272"><span class="problematic" id="id1273">pieterh_</span></a>&gt;  the naming has been discussed several times</div>
<div class="line">[Friday 18 March 2011] [09:31:05] &lt;sustrik&gt;   i assume that would be the preferred option</div>
<div class="line">[Friday 18 March 2011] [09:31:09] &lt;<a href="#id1274"><span class="problematic" id="id1275">pieterh_</span></a>&gt;  it&#8217;s not the same issue as semantic changes</div>
<div class="line">[Friday 18 March 2011] [09:31:16] &lt;sustrik&gt;   but i don&#8217;t want to do it without discussion on the list</div>
<div class="line">[Friday 18 March 2011] [09:31:21] &lt;<a href="#id1276"><span class="problematic" id="id1277">pieterh_</span></a>&gt;  you are mixing two issues and making the discussion harder</div>
<div class="line">[Friday 18 March 2011] [09:31:35] &lt;<a href="#id1278"><span class="problematic" id="id1279">pieterh_</span></a>&gt;  the naming <em>has</em> been discussed several times, with clear consensus</div>
<div class="line">[Friday 18 March 2011] [09:31:40] &lt;<a href="#id1280"><span class="problematic" id="id1281">pieterh_</span></a>&gt;  shall I point you to the thread?</div>
<div class="line">[Friday 18 March 2011] [09:31:44] &lt;sustrik&gt;   explain your point of view on the list then</div>
<div class="line">[Friday 18 March 2011] [09:31:54] &lt;sustrik&gt;   we are a community</div>
<div class="line">[Friday 18 March 2011] [09:31:56] &lt;<a href="#id1282"><span class="problematic" id="id1283">pieterh_</span></a>&gt;  I&#8217;ve done that, of course</div>
<div class="line">[Friday 18 March 2011] [09:31:59] &lt;<a href="#id1284"><span class="problematic" id="id1285">pieterh_</span></a>&gt;  we&#8217;re also on IRC</div>
<div class="line">[Friday 18 March 2011] [09:32:03] &lt;<a href="#id1286"><span class="problematic" id="id1287">pieterh_</span></a>&gt;  this is logged</div>
<div class="line">[Friday 18 March 2011] [09:32:18] &lt;sustrik&gt;   yep, but lot of people are not here at the moment</div>
<div class="line">[Friday 18 March 2011] [09:32:25] &lt;<a href="#id1288"><span class="problematic" id="id1289">pieterh_</span></a>&gt;  the list is also fairly passive</div>
<div class="line">[Friday 18 March 2011] [09:32:39] &lt;<a href="#id1290"><span class="problematic" id="id1291">pieterh_</span></a>&gt;  nonetheless, I have asked about renaming the sockets and there was <em>clear</em> consensus</div>
<div class="line">[Friday 18 March 2011] [09:32:43] &lt;<a href="#id1292"><span class="problematic" id="id1293">pieterh_</span></a>&gt;  please do respect that</div>
<div class="line">[Friday 18 March 2011] [09:32:47] &lt;<a href="#id1294"><span class="problematic" id="id1295">pieterh_</span></a>&gt;  we are a community, as you say</div>
<div class="line">[Friday 18 March 2011] [09:32:48] &lt;sustrik&gt;   it&#8217;s polite to allow even those in other timezones to discuss</div>
<div class="line">[Friday 18 March 2011] [09:33:10] &lt;<a href="#id1296"><span class="problematic" id="id1297">pieterh_</span></a>&gt;  also, reopening a discussion because you weren&#8217;t there, or don&#8217;t like the outcome is unpolite</div>
<div class="line">[Friday 18 March 2011] [09:33:17] &lt;sustrik&gt;   yep, i am for ZMQ_ROUTER options as well</div>
<div class="line">[Friday 18 March 2011] [09:33:22] &lt;<a href="#id1298"><span class="problematic" id="id1299">pieterh_</span></a>&gt;  so, we make that</div>
<div class="line">[Friday 18 March 2011] [09:33:29] &lt;<a href="#id1300"><span class="problematic" id="id1301">pieterh_</span></a>&gt;  and we consider the semantics as a separate issue</div>
<div class="line">[Friday 18 March 2011] [09:33:32] &lt;sustrik&gt;   it&#8217;s supplying the missing pieces of information</div>
<div class="line">[Friday 18 March 2011] [09:33:44] &lt;<a href="#id1302"><span class="problematic" id="id1303">pieterh_</span></a>&gt;  i&#8217;m always in favor of better semantics but they must be carefully worked out of use cases</div>
<div class="line">[Friday 18 March 2011] [09:33:53] &lt;sustrik&gt;   yup</div>
<div class="line">[Friday 18 March 2011] [09:33:55] &lt;<a href="#id1304"><span class="problematic" id="id1305">pieterh_</span></a>&gt;  abstract &#8220;it&#8217;s like XYZ&#8221; discussions are pointless IMO</div>
<div class="line">[Friday 18 March 2011] [09:33:59] &lt;<a href="#id1306"><span class="problematic" id="id1307">pieterh_</span></a>&gt;  we are not like XYZ</div>
<div class="line">[Friday 18 March 2011] [09:34:04] &lt;sustrik&gt;   sure, say so</div>
<div class="line">[Friday 18 March 2011] [09:34:07] &lt;<a href="#id1308"><span class="problematic" id="id1309">pieterh_</span></a>&gt;  XYZ is like us, done badly</div>
<div class="line">[Friday 18 March 2011] [09:34:07] &lt;<a href="#id1310"><span class="problematic" id="id1311">pieterh_</span></a>&gt;  period</div>
<div class="line">[Friday 18 March 2011] [09:34:18] &lt;<a href="#id1312"><span class="problematic" id="id1313">pieterh_</span></a>&gt;  what, again?</div>
<div class="line">[Friday 18 March 2011] [09:34:18] &lt;<a href="#id1314"><span class="problematic" id="id1315">pieterh_</span></a>&gt;  :-)</div>
<div class="line">[Friday 18 March 2011] [09:34:40] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 18 March 2011] [09:34:55] &lt;<a href="#id1316"><span class="problematic" id="id1317">pieterh_</span></a>&gt;  btw, for IPC, what do you think about making a shared memory transport?</div>
<div class="line">[Friday 18 March 2011] [09:35:11] &lt;<a href="#id1318"><span class="problematic" id="id1319">pieterh_</span></a>&gt;  one can make a portable shmem layer, then use that</div>
<div class="line">[Friday 18 March 2011] [09:35:29] &lt;sustrik&gt;   there&#8217;s an API problem with that</div>
<div class="line">[Friday 18 March 2011] [09:35:32] &lt;<a href="#id1320"><span class="problematic" id="id1321">pieterh_</span></a>&gt;  all we need is a portable shmem api people can implement</div>
<div class="line">[Friday 18 March 2011] [09:35:39] &lt;sustrik&gt;   when you allocate a message</div>
<div class="line">[Friday 18 March 2011] [09:35:48] &lt;sustrik&gt;   (zmq_msg_init_size)</div>
<div class="line">[Friday 18 March 2011] [09:35:54] &lt;sustrik&gt;   it&#8217;s allocated in process heap</div>
<div class="line">[Friday 18 March 2011] [09:36:01] &lt;<a href="#id1322"><span class="problematic" id="id1323">pieterh_</span></a>&gt;  right, that&#8217;s fine, we copy data</div>
<div class="line">[Friday 18 March 2011] [09:36:20] &lt;sustrik&gt;   if you copy data then there&#8217;s not much point in using shmem</div>
<div class="line">[Friday 18 March 2011] [09:36:32] &lt;<a href="#id1324"><span class="problematic" id="id1325">pieterh_</span></a>&gt;  much, much faster than IPC</div>
<div class="line">[Friday 18 March 2011] [09:36:45] &lt;<a href="#id1326"><span class="problematic" id="id1327">pieterh_</span></a>&gt;  also, am I wrong, but with ZMQ you <em>always</em> have to copy data on recv?</div>
<div class="line">[Friday 18 March 2011] [09:36:49] &lt;sustrik&gt;   if that&#8217;s the case, then sure</div>
<div class="line">[Friday 18 March 2011] [09:36:57] &lt;sustrik&gt;   it have been discussed serveral times</div>
<div class="line">[Friday 18 March 2011] [09:37:03] &lt;<a href="#id1328"><span class="problematic" id="id1329">pieterh_</span></a>&gt;  shmem?</div>
<div class="line">[Friday 18 March 2011] [09:37:07] &lt;sustrik&gt;   yep</div>
<div class="line">[Friday 18 March 2011] [09:37:18] &lt;sustrik&gt;   but nobody really tried to implement it</div>
<div class="line">[Friday 18 March 2011] [09:37:21] &lt;<a href="#id1330"><span class="problematic" id="id1331">pieterh_</span></a>&gt;  I&#8217;ve not seen any attempt to slice it into two</div>
<div class="line">[Friday 18 March 2011] [09:37:21] &lt;sustrik&gt;   at least afaik</div>
<div class="line">[Friday 18 March 2011] [09:37:37] &lt;sustrik&gt;   two what?</div>
<div class="line">[Friday 18 March 2011] [09:37:40] &lt;<a href="#id1332"><span class="problematic" id="id1333">pieterh_</span></a>&gt;  two layers</div>
<div class="line">[Friday 18 March 2011] [09:37:57] &lt;<a href="#id1334"><span class="problematic" id="id1335">pieterh_</span></a>&gt;  so, abstract shmem api, and implementations thereof, and use thereof</div>
<div class="line">[Friday 18 March 2011] [09:38:12] &lt;<a href="#id1336"><span class="problematic" id="id1337">pieterh_</span></a>&gt;  the problem is today, you&#8217;d have to know both sides of the cake to make it</div>
<div class="line">[Friday 18 March 2011] [09:38:21] &lt;<a href="#id1338"><span class="problematic" id="id1339">pieterh_</span></a>&gt;  both how to make a transport in 0MQ, and how to do shmem on system X</div>
<div class="line">[Friday 18 March 2011] [09:38:28] &lt;<a href="#id1340"><span class="problematic" id="id1341">pieterh_</span></a>&gt;  I&#8217;d like to slice this into two problems</div>
<div class="line">[Friday 18 March 2011] [09:38:46] &lt;sustrik&gt;   how would you do that?</div>
<div class="line">[Friday 18 March 2011] [09:38:54] &lt;Steve-o&gt;   re: shmem I got as far as this and haven&#8217;t looked at it again:  <a class="reference external" href="https://gist.github.com/876073">https://gist.github.com/876073</a></div>
<div class="line">[Friday 18 March 2011] [09:38:55] &lt;<a href="#id1342"><span class="problematic" id="id1343">pieterh_</span></a>&gt;  well, classic portable API solution</div>
<div class="line">[Friday 18 March 2011] [09:39:06] &lt;<a href="#id1344"><span class="problematic" id="id1345">pieterh_</span></a>&gt;  like how I made portable threading in ZFL</div>
<div class="line">[Friday 18 March 2011] [09:39:42] &lt;sustrik&gt;   currently 0MQ uses <a href="#id1346"><span class="problematic" id="id1347">ZMQ_HAVE_</span></a>... macros to provide OS-specific functionality</div>
<div class="line">[Friday 18 March 2011] [09:39:45] &lt;<a href="#id1348"><span class="problematic" id="id1349">pieterh_</span></a>&gt;  first step is to agree on what constitutes the necessary shmem api for a portable shmem transport in 0MQ</div>
<div class="line">[Friday 18 March 2011] [09:39:58] &lt;<a href="#id1350"><span class="problematic" id="id1351">pieterh_</span></a>&gt;  sure, but that&#8217;s not helpful here, forget it</div>
<div class="line">[Friday 18 March 2011] [09:40:07] &lt;<a href="#id1352"><span class="problematic" id="id1353">pieterh_</span></a>&gt;  you do that in some module, shmem.cpp or whatever</div>
<div class="line">[Friday 18 March 2011] [09:40:11] &lt;sustrik&gt;   ah, you are speaking of internal apis, right?</div>
<div class="line">[Friday 18 March 2011] [09:40:14] &lt;<a href="#id1354"><span class="problematic" id="id1355">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:40:20] &lt;sustrik&gt;   abstraction for transports</div>
<div class="line">[Friday 18 March 2011] [09:40:23] &lt;<a href="#id1356"><span class="problematic" id="id1357">pieterh_</span></a>&gt;  a portability API for shmem</div>
<div class="line">[Friday 18 March 2011] [09:40:24] &lt;<a href="#id1358"><span class="problematic" id="id1359">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:40:30] &lt;sustrik&gt;   that would be great</div>
<div class="line">[Friday 18 March 2011] [09:40:38] &lt;<a href="#id1360"><span class="problematic" id="id1361">pieterh_</span></a>&gt;  it means one person writes the transport, another group makes it work on random boxes</div>
<div class="line">[Friday 18 March 2011] [09:40:38] &lt;sustrik&gt;   i was thinking about it for a long time</div>
<div class="line">[Friday 18 March 2011] [09:40:43] &lt;sustrik&gt;   but it&#8217;s rather complex</div>
<div class="line">[Friday 18 March 2011] [09:40:48] &lt;<a href="#id1362"><span class="problematic" id="id1363">pieterh_</span></a>&gt;  all we need is a simple abstract API</div>
<div class="line">[Friday 18 March 2011] [09:40:52] &lt;<a href="#id1364"><span class="problematic" id="id1365">pieterh_</span></a>&gt;  shmem_get_block ()</div>
<div class="line">[Friday 18 March 2011] [09:40:56] &lt;<a href="#id1366"><span class="problematic" id="id1367">pieterh_</span></a>&gt;  shmem_write ()</div>
<div class="line">[Friday 18 March 2011] [09:41:00] &lt;<a href="#id1368"><span class="problematic" id="id1369">pieterh_</span></a>&gt;  etc. I have no idea...</div>
<div class="line">[Friday 18 March 2011] [09:41:05] &lt;sustrik&gt;   ah, at that level</div>
<div class="line">[Friday 18 March 2011] [09:41:21] &lt;sustrik&gt;   so not generic API for transports</div>
<div class="line">[Friday 18 March 2011] [09:41:30] &lt;mato&gt;      guys, re ROUTER, if we are going to formalize this then rather than just renaming XREP shouldn&#8217;t we think about what the real semantics are for people who wish to do routing by design?</div>
<div class="line">[Friday 18 March 2011] [09:41:30] &lt;<a href="#id1370"><span class="problematic" id="id1371">pieterh_</span></a>&gt;  no, only for shmem</div>
<div class="line">[Friday 18 March 2011] [09:41:31] &lt;sustrik&gt;   rather generic API for shmem</div>
<div class="line">[Friday 18 March 2011] [09:41:44] &lt;mato&gt;      since the current use of router has simply evolved out of what XREP provides.</div>
<div class="line">[Friday 18 March 2011] [09:41:46] &lt;<a href="#id1372"><span class="problematic" id="id1373">pieterh_</span></a>&gt;  sustrik: yes, just to solve this case</div>
<div class="line">[Friday 18 March 2011] [09:41:48] &lt;sustrik&gt;   spieterh: sure, feel free to implement</div>
<div class="line">[Friday 18 March 2011] [09:41:53] &lt;<a href="#id1374"><span class="problematic" id="id1375">pieterh_</span></a>&gt;  mato: yes, but it seems there&#8217;s no better way</div>
<div class="line">[Friday 18 March 2011] [09:42:12] &lt;<a href="#id1376"><span class="problematic" id="id1377">pieterh_</span></a>&gt;  sustrik: my problem is I have zero idea what a transport would need</div>
<div class="line">[Friday 18 March 2011] [09:42:14] &lt;mato&gt;      <a href="#id1378"><span class="problematic" id="id1379">pieterh_</span></a>: why so? there&#8217;s no hurry, 3.0 is a way away yet</div>
<div class="line">[Friday 18 March 2011] [09:42:17] &lt;sustrik&gt;   mato: ack</div>
<div class="line">[Friday 18 March 2011] [09:42:26] &lt;<a href="#id1380"><span class="problematic" id="id1381">pieterh_</span></a>&gt;  I&#8217;m happy to make shmem implementations of some defined API</div>
<div class="line">[Friday 18 March 2011] [09:42:37] &lt;mato&gt;      <a href="#id1382"><span class="problematic" id="id1383">pieterh_</span></a>: aren&#8217;t we supposed to be master programmers doing this well, rather than making rash decisions?</div>
<div class="line">[Friday 18 March 2011] [09:42:39] &lt;sustrik&gt;   pieterh: great</div>
<div class="line">[Friday 18 March 2011] [09:42:42] &lt;<a href="#id1384"><span class="problematic" id="id1385">pieterh_</span></a>&gt;  mato: there&#8217;s no hurry except the current names are painful</div>
<div class="line">[Friday 18 March 2011] [09:42:42] &lt;sustrik&gt;   mato: my feeling is people want SMTP like-semantivc</div>
<div class="line">[Friday 18 March 2011] [09:42:44] &lt;<a href="#id1386"><span class="problematic" id="id1387">pieterh_</span></a>&gt;  mato: lol</div>
<div class="line">[Friday 18 March 2011] [09:42:48] &lt;<a href="#id1388"><span class="problematic" id="id1389">pieterh_</span></a>&gt;  double lol</div>
<div class="line">[Friday 18 March 2011] [09:42:58] &lt;<a href="#id1390"><span class="problematic" id="id1391">pieterh_</span></a>&gt;  the man pages document code rather than code implementing man pages</div>
<div class="line">[Friday 18 March 2011] [09:43:10] &lt;mato&gt;      huh?</div>
<div class="line">[Friday 18 March 2011] [09:43:18] &lt;<a href="#id1392"><span class="problematic" id="id1393">pieterh_</span></a>&gt;  shrug</div>
<div class="line">[Friday 18 March 2011] [09:43:23] &lt;<a href="#id1394"><span class="problematic" id="id1395">pieterh_</span></a>&gt;  if you don&#8217;t know what I mean, forget it</div>
<div class="line">[Friday 18 March 2011] [09:43:42] &lt;<a href="#id1396"><span class="problematic" id="id1397">pieterh_</span></a>&gt;  anyhow, where is the rash decision?</div>
<div class="line">[Friday 18 March 2011] [09:43:51] &lt;<a href="#id1398"><span class="problematic" id="id1399">pieterh_</span></a>&gt;  there has been extensive discussion about the names of sockets</div>
<div class="line">[Friday 18 March 2011] [09:43:52] &lt;sustrik&gt;   mato: there&#8217;s one issue in the bugtracker to do with man pages</div>
<div class="line">[Friday 18 March 2011] [09:44:10] &lt;mato&gt;      but the names don&#8217;t fit with the big picture</div>
<div class="line">[Friday 18 March 2011] [09:44:10] &lt;sustrik&gt;   could you have a look at it?</div>
<div class="line">[Friday 18 March 2011] [09:44:12] &lt;<a href="#id1400"><span class="problematic" id="id1401">pieterh_</span></a>&gt;  and renaming XREP and XREQ has been agreed by the list, with total consensus</div>
<div class="line">[Friday 18 March 2011] [09:44:24] &lt;mato&gt;      i love your dogmatism</div>
<div class="line">[Friday 18 March 2011] [09:44:25] &lt;<a href="#id1402"><span class="problematic" id="id1403">pieterh_</span></a>&gt;  mato: what big picture? show me the design docs...</div>
<div class="line">[Friday 18 March 2011] [09:44:29] &lt;mato&gt;      4 people replied</div>
<div class="line">[Friday 18 March 2011] [09:44:31] &lt;<a href="#id1404"><span class="problematic" id="id1405">pieterh_</span></a>&gt;  if it&#8217;s just in someone&#8217;s head, it&#8217;s not on paper</div>
<div class="line">[Friday 18 March 2011] [09:44:34] &lt;mato&gt;      total consensus</div>
<div class="line">[Friday 18 March 2011] [09:44:41] &lt;<a href="#id1406"><span class="problematic" id="id1407">pieterh_</span></a>&gt;  4 people replied, no-one said no, that&#8217;s total consensus, yes</div>
<div class="line">[Friday 18 March 2011] [09:44:52] &lt;<a href="#id1408"><span class="problematic" id="id1409">pieterh_</span></a>&gt;  it&#8217;s not exactly a hypertalkative list</div>
<div class="line">[Friday 18 March 2011] [09:44:58] &lt;mato&gt;      right.</div>
<div class="line">[Friday 18 March 2011] [09:45:03] &lt;<a href="#id1410"><span class="problematic" id="id1411">pieterh_</span></a>&gt;  but if you want to veto it, go for it</div>
<div class="line">[Friday 18 March 2011] [09:45:28] &lt;<a href="#id1412"><span class="problematic" id="id1413">pieterh_</span></a>&gt;  I&#8217;m going to switch to the new names ASAP in any case</div>
<div class="line">[Friday 18 March 2011] [09:45:37] &lt;mato&gt;      right, so you&#8217;re going to fork the api</div>
<div class="line">[Friday 18 March 2011] [09:45:46] &lt;<a href="#id1414"><span class="problematic" id="id1415">pieterh_</span></a>&gt;  no, I&#8217;m implementing the consensus</div>
<div class="line">[Friday 18 March 2011] [09:45:47] &lt;mato&gt;      thanks for that.</div>
<div class="line">[Friday 18 March 2011] [09:45:54] &lt;<a href="#id1416"><span class="problematic" id="id1417">pieterh_</span></a>&gt;  if you don&#8217;t want to follow, fork the API</div>
<div class="line">[Friday 18 March 2011] [09:45:59] &lt;<a href="#id1418"><span class="problematic" id="id1419">pieterh_</span></a>&gt;  please don&#8217;t be silly, mato</div>
<div class="line">[Friday 18 March 2011] [09:46:05] &lt;<a href="#id1420"><span class="problematic" id="id1421">pieterh_</span></a>&gt;  this was discussed ad nauseam</div>
<div class="line">[Friday 18 March 2011] [09:46:28] &lt;<a href="#id1422"><span class="problematic" id="id1423">pieterh_</span></a>&gt;  Just like a 3.0 version will &#8216;fork the api&#8217;?</div>
<div class="line">[Friday 18 March 2011] [09:46:33] &lt;<a href="#id1424"><span class="problematic" id="id1425">pieterh_</span></a>&gt;  improvements that solve real problems people face</div>
<div class="line">[Friday 18 March 2011] [09:46:49] &lt;<a href="#id1426"><span class="problematic" id="id1427">pieterh_</span></a>&gt;  if you find this offensive, well... sigh</div>
<div class="line">[Friday 18 March 2011] [09:47:01] &lt;mato&gt;      forget it</div>
<div class="line">[Friday 18 March 2011] [09:47:07] &lt;<a href="#id1428"><span class="problematic" id="id1429">pieterh_</span></a>&gt;  whatever</div>
<div class="line">[Friday 18 March 2011] [09:47:18] &lt;<a href="#id1430"><span class="problematic" id="id1431">pieterh_</span></a>&gt;  discuss on that thread, it&#8217;s public</div>
<div class="line">[Friday 18 March 2011] [09:47:21] &lt;<a href="#id1432"><span class="problematic" id="id1433">pieterh_</span></a>&gt;  give your reasons</div>
<div class="line">[Friday 18 March 2011] [09:47:53] &lt;mato&gt;      sure.</div>
<div class="line">[Friday 18 March 2011] [09:52:53] &lt;drbobbeaty&gt;        Guys, I don&#8217;t mean to poke my ideas in in the middle of a discussion, but would there be a significant issue if the 2.x codebase used BOTH names, and then the 3.x codebase used just the &#8216;new&#8217; one? That way, people that use the names for a significant part of their understanding of their function can have both while not breaking backward compatibility.</div>
<div class="line">[Friday 18 March 2011] [09:53:50] &lt;drbobbeaty&gt;        I can see that names are important to understand, I deal with that from the users of my libraries every day. I sweat the names for a long time to make sure they are concise, descriptive, and clear.</div>
<div class="line">[Friday 18 March 2011] [09:53:54] &lt;ianbarber&gt; upstream downstream were (are?) still valid</div>
<div class="line">[Friday 18 March 2011] [09:54:38] &lt;drbobbeaty&gt;        But I can also see that the original design was based on these names, and they, too, have value to a group of users for just that reason. They understand the library and function in terms of these names.</div>
<div class="line">[Friday 18 March 2011] [09:54:48] &lt;drbobbeaty&gt;        Just my USD $0.02</div>
<div class="line">[Friday 18 March 2011] [09:55:59] &lt;sustrik&gt;   drbobbeaty: i think almost everybody agrees that ZMQ_ROUTER being introduced</div>
<div class="line">[Friday 18 March 2011] [09:56:19] &lt;sustrik&gt;   the discussion was about whether original XREP should remain as a different socket type</div>
<div class="line">[Friday 18 March 2011] [09:56:53] &lt;drbobbeaty&gt;        Oh... there... I should have stayed quiet. I thought it was about a name change. Please forgive my ignorance.</div>
<div class="line">[Friday 18 March 2011] [09:57:09] &lt;mato&gt;      sustrik: that is precisely the point.</div>
<div class="line">[Friday 18 March 2011] [10:00:22] &lt;jhawk28&gt;   I suspect that it will become more clear as more &#8220;devices&#8221; are written</div>
<div class="line">[Friday 18 March 2011] [10:04:45] &lt;mato&gt;      sustrik: SMTP, yes, that&#8217;s an interesting insight</div>
<div class="line">[Friday 18 March 2011] [10:04:50] &lt;mato&gt;      sustrik: I think you&#8217;re right</div>
<div class="line">[Friday 18 March 2011] [10:05:14] &lt;mato&gt;      sustrik: what is the manpage issue? i can&#8217;t find it...</div>
<div class="line">[Friday 18 March 2011] [10:05:20] &lt;sustrik&gt;   jhaw28: i would say so</div>
<div class="line">[Friday 18 March 2011] [10:05:38] &lt;sustrik&gt;   mato: let me see</div>
<div class="line">[Friday 18 March 2011] [10:08:49] &lt;sustrik&gt;   mato: issue 130</div>
<div class="line">[Friday 18 March 2011] [10:10:11] &lt;mile&gt;      hi</div>
<div class="line">[Friday 18 March 2011] [10:10:17] &lt;jhawk28&gt;   b.....tlllrrrrr</div>
<div class="line">[Friday 18 March 2011] [10:10:19] &lt;jhawk28&gt;   ]</div>
<div class="line">[Friday 18 March 2011] [10:10:27] &lt;mile&gt;      does anyone have hands-on experience with erlang bindings?</div>
<div class="line">[Friday 18 March 2011] [10:11:33] &lt;mato&gt;      sustrik: hmm, i can see how that might a bug in the manpage, but isn&#8217;t it just exposing an inconsistency in the internal implementation?</div>
<div class="line">[Friday 18 March 2011] [10:11:52] &lt;sustrik&gt;   mile: ask yrashk</div>
<div class="line">[Friday 18 March 2011] [10:12:02] &lt;sustrik&gt;   he should be here i think</div>
<div class="line">[Friday 18 March 2011] [10:12:02] &lt;mato&gt;      sustrik: shouldn&#8217;t the blocking behaviour be identical irrespective of the use of bind/connect?</div>
<div class="line">[Friday 18 March 2011] [10:12:16] &lt;sustrik&gt;   the problem is that on bind side</div>
<div class="line">[Friday 18 March 2011] [10:12:22] &lt;sustrik&gt;   when there&#8217;s no connection</div>
<div class="line">[Friday 18 March 2011] [10:12:25] &lt;sustrik&gt;   there&#8217;s no queue</div>
<div class="line">[Friday 18 March 2011] [10:12:27] &lt;mile&gt;      sustrik, tx, will do</div>
<div class="line">[Friday 18 March 2011] [10:12:39] &lt;mato&gt;      sustrik: yes, you&#8217;re describing the implementation</div>
<div class="line">[Friday 18 March 2011] [10:12:41] &lt;sustrik&gt;   and thus nowhere to store the message in</div>
<div class="line">[Friday 18 March 2011] [10:13:33] &lt;sustrik&gt;   the alternative would be to have one pipe pre-prepared even on bind side</div>
<div class="line">[Friday 18 March 2011] [10:13:41] &lt;sustrik&gt;   and assign it to first connected peer</div>
<div class="line">[Friday 18 March 2011] [10:13:55] &lt;mato&gt;      that would seem to result in more consistent behaviour on the user side</div>
<div class="line">[Friday 18 March 2011] [10:14:09] &lt;sustrik&gt;   ok, then create an issue for that</div>
<div class="line">[Friday 18 March 2011] [10:14:17] &lt;yrashk&gt;    sustrik: mile I am here</div>
<div class="line">[Friday 18 March 2011] [10:14:17] &lt;sustrik&gt;   so that we don&#8217;t forget</div>
<div class="line">[Friday 18 March 2011] [10:14:27] &lt;mato&gt;      alright.</div>
<div class="line">[Friday 18 March 2011] [10:14:32] &lt;mile&gt;      yrashk, hi, great :)</div>
<div class="line">[Friday 18 March 2011] [10:14:46] &lt;mile&gt;      i&#8217;m looking into connecting yaws to 0mq</div>
<div class="line">[Friday 18 March 2011] [10:14:56] &lt;mile&gt;      as a http front-end</div>
<div class="line">[Friday 18 March 2011] [10:15:16] &lt;mile&gt;      but I&#8217;m not sure about the state of the erlang bindings</div>
<div class="line">[Friday 18 March 2011] [10:15:45] &lt;yrashk&gt;    mile: what do you mean?</div>
<div class="line">[Friday 18 March 2011] [10:15:46] &lt;mile&gt;      since the alternative is hacking nginx, which I would very much like to avoid :)</div>
<div class="line">[Friday 18 March 2011] [10:16:08] &lt;yrashk&gt;    mile: what exactly are you worried about re: state?</div>
<div class="line">[Friday 18 March 2011] [10:16:31] &lt;mile&gt;      the bindings page states the both versions are not API compatible</div>
<div class="line">[Friday 18 March 2011] [10:16:54] &lt;mile&gt;      and I couldn&#8217;t find much of the benchmarks regarding the performance</div>
<div class="line">[Friday 18 March 2011] [10:17:38] &lt;yrashk&gt;    mile: short version: erlzmq is slow, erlzmq2 is fast</div>
<div class="line">[Friday 18 March 2011] [10:17:57] &lt;yrashk&gt;    on 1byte messages erlzmq2 does 1.3mln/sec (localhost) [on my mac pro]</div>
<div class="line">[Friday 18 March 2011] [10:18:03] &lt;yrashk&gt;    on 1Kbyte messages &#8211; about 300K/sec</div>
<div class="line">[Friday 18 March 2011] [10:18:37] &lt;mile&gt;      that should saturate a gbit ethernet, right?</div>
<div class="line">[Friday 18 March 2011] [10:18:41] &lt;yrashk&gt;    their API are close to each other, though &#8211; but not exactly the same, but fairly close</div>
<div class="line">[Friday 18 March 2011] [10:18:47] &lt;yrashk&gt;    hopefully, I guess</div>
<div class="line">[Friday 18 March 2011] [10:18:48] &lt;yrashk&gt;    never tried yet</div>
<div class="line">[Friday 18 March 2011] [10:19:01] &lt;mile&gt;      ok, thanks!</div>
<div class="line">[Friday 18 March 2011] [10:19:09] &lt;mile&gt;      i will be looking into this</div>
<div class="line">[Friday 18 March 2011] [10:19:25] &lt;mile&gt;      and report if I find something interesing ;)</div>
<div class="line">[Friday 18 March 2011] [10:19:34] &lt;sustrik&gt;   300K/sec = 2.45Gb/sec</div>
<div class="line">[Friday 18 March 2011] [10:20:08] &lt;mile&gt;      yeah :)</div>
<div class="line">[Friday 18 March 2011] [10:21:26] &lt;yrashk&gt;    mile: for erlzmq2, you have to have &gt;=R14B01</div>
<div class="line">[Friday 18 March 2011] [10:21:34] &lt;yrashk&gt;    as it is a NIF-based binding</div>
<div class="line">[Friday 18 March 2011] [10:21:49] &lt;mato&gt;      sustrik: i guess i should close the original issue then?</div>
<div class="line">[Friday 18 March 2011] [10:22:01] &lt;yrashk&gt;    mile: sure, I&#8217;d be pleased to see reports, erlzmq2 is fairly young</div>
<div class="line">[Friday 18 March 2011] [10:22:05] &lt;yrashk&gt;    but seems to work well</div>
<div class="line">[Friday 18 March 2011] [10:22:10] &lt;sustrik&gt;   yes, just mention the number of the new one when closing it</div>
<div class="line">[Friday 18 March 2011] [10:22:14] &lt;yrashk&gt;    if anything evax and I always ready to fix it :)</div>
<div class="line">[Friday 18 March 2011] [10:22:34] &lt;mile&gt;      yrashk, greta :)</div>
<div class="line">[Friday 18 March 2011] [10:22:54] &lt;mile&gt;      I&#8217;ll try to make a good benchmark for aws+0mq</div>
<div class="line">[Friday 18 March 2011] [10:23:01] &lt;mile&gt;      yaws*</div>
<div class="line">[Friday 18 March 2011] [10:23:17] &lt;mile&gt;      kind of like mongrail2</div>
<div class="line">[Friday 18 March 2011] [10:23:37] &lt;mile&gt;      thats what I&#8217;m aiming for</div>
<div class="line">[Friday 18 March 2011] [10:23:48] &lt;mile&gt;      only simpler and hopefully much faster</div>
<div class="line">[Friday 18 March 2011] [10:23:57] &lt;sustrik&gt;   mile: as for intreraction with nginx, meto mentioned he&#8217;s going to have a look at that</div>
<div class="line">[Friday 18 March 2011] [10:24:23] &lt;mato&gt;      i will, if i get the funding :-)</div>
<div class="line">[Friday 18 March 2011] [10:24:49] &lt;yrashk&gt;    mile: just please understand that those beforementioned benchmarks are from localhost</div>
<div class="line">[Friday 18 March 2011] [10:24:51] &lt;mile&gt;      I looked into it a couple of days ago, but it kind of freaked me out</div>
<div class="line">[Friday 18 March 2011] [10:24:57] &lt;yrashk&gt;    I haven&#8217;t tested anything else yet</div>
<div class="line">[Friday 18 March 2011] [10:25:21] &lt;mile&gt;      yrashk, sure, I will be setting up 2 boxes on a gbit switch</div>
<div class="line">[Friday 18 March 2011] [10:25:31] &lt;mile&gt;      and see how they perform</div>
<div class="line">[Friday 18 March 2011] [10:25:34] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [10:25:49] &lt;yrashk&gt;    mile: please send them over if possible (<a class="reference external" href="mailto:yrashk&#37;&#52;&#48;gmail&#46;com">yrashk<span>&#64;</span>gmail<span>&#46;</span>com</a>)</div>
<div class="line">[Friday 18 March 2011] [10:25:50] &lt;mile&gt;      and try to replicate the ck1mil</div>
<div class="line">[Friday 18 March 2011] [10:26:44] &lt;mile&gt;      I hope I&#8217;ll manage to do it next week</div>
<div class="line">[Friday 18 March 2011] [10:26:53] &lt;mile&gt;      then I&#8217;m gone for like 10 days :)</div>
<div class="line">[Friday 18 March 2011] [10:27:35] &lt;mile&gt;      but both nginx and yaws plugins would be very very cool stuff :)</div>
<div class="line">[Friday 18 March 2011] [10:27:59] &lt;mile&gt;      hopefully I&#8217;ll get something useful to opensource :)</div>
<div class="line">[Friday 18 March 2011] [10:28:15] &lt;mato&gt;      mile: i&#8217;ve been poring over the nginx internals, it looks doable but non-trivial</div>
<div class="line">[Friday 18 March 2011] [10:28:48] &lt;mile&gt;      mato, I was looking into proxy-modules for that, but my C is not good enough...</div>
<div class="line">[Friday 18 March 2011] [10:29:02] &lt;mile&gt;      since it in deed appears to be nontrivial :)</div>
<div class="line">[Friday 18 March 2011] [10:29:14] &lt;mato&gt;      mile: my C is more than good enough, but it&#8217;s still a non-trivial amount of work.</div>
<div class="line">[Friday 18 March 2011] [10:29:31] &lt;mile&gt;      but yaws has a very elegant way of attaching stuff</div>
<div class="line">[Friday 18 March 2011] [10:29:42] &lt;mato&gt;      yaws? /me goes off to google that</div>
<div class="line">[Friday 18 March 2011] [10:29:49] &lt;mile&gt;      erlang yaws</div>
<div class="line">[Friday 18 March 2011] [10:30:12] &lt;mile&gt;      so I&#8217;ll be looking into the performance of that combo</div>
<div class="line">[Friday 18 March 2011] [10:30:25] &lt;mato&gt;      aha, ok</div>
<div class="line">[Friday 18 March 2011] [10:30:29]      * mato has no erlang-fu</div>
<div class="line">[Friday 18 March 2011] [10:31:18] &lt;mile&gt;      my erlang is not that good</div>
<div class="line">[Friday 18 March 2011] [10:31:26] &lt;mile&gt;      but it&#8217;s straitforward as hell</div>
<div class="line">[Friday 18 March 2011] [10:31:41] &lt;mile&gt;      as long as one had something to do with functional programming</div>
<div class="line">[Friday 18 March 2011] [10:31:41] &lt;mile&gt;      :)</div>
<div class="line">[Friday 18 March 2011] [10:32:26] &lt;yrashk&gt;    it is indeed very straightforward</div>
<div class="line">[Friday 18 March 2011] [10:33:20] &lt;mile&gt;      the only problem is that you don&#8217;t get to find many erlang developers</div>
<div class="line">[Friday 18 March 2011] [10:33:31] &lt;mile&gt;      so its hard to sell it</div>
<div class="line">[Friday 18 March 2011] [10:33:42] &lt;mile&gt;      in small companies - hence the 0mq</div>
<div class="line">[Friday 18 March 2011] [10:34:02] &lt;mile&gt;      make the frontend in less then 100lines of erlang</div>
<div class="line">[Friday 18 March 2011] [10:34:26] &lt;yrashk&gt;    mile: my company is about to change it (i.e. make erlang more popular)</div>
<div class="line">[Friday 18 March 2011] [10:34:29] &lt;mile&gt;      and let others use whatever they want on the other side of 0mq</div>
<div class="line">[Friday 18 March 2011] [10:34:30] &lt;yrashk&gt;    :)</div>
<div class="line">[Friday 18 March 2011] [10:35:17] &lt;mile&gt;      thats a good thing! :)</div>
<div class="line">[Friday 18 March 2011] [10:35:45] &lt;mile&gt;      I had contact with haskell some time ago, and I&#8217;m sincerely charmed by erlang :)</div>
<div class="line">[Friday 18 March 2011] [10:35:59] &lt;yrashk&gt;    nice!</div>
<div class="line">[Friday 18 March 2011] [10:36:10] &lt;yrashk&gt;    I&#8217;ve been doing erlang on and off since 2001</div>
<div class="line">[Friday 18 March 2011] [10:37:11] &lt;mile&gt;      that&#8217;s a while :)</div>
<div class="line">[Friday 18 March 2011] [10:37:39] &lt;mile&gt;      I pinged you, hopefully next week I&#8217;ll have some data</div>
<div class="line">[Friday 18 March 2011] [10:38:03] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [10:38:05] &lt;yrashk&gt;    thanks</div>
<div class="line">[Friday 18 March 2011] [10:39:00] &lt;mile&gt;      I&#8217;m off for a weekend, thanks for the advice!</div>
<div class="line">[Friday 18 March 2011] [11:03:16] &lt;Guthur&gt;    pieterh &amp; sustrik: was that long discussion just about the naming of XREP and XREQ</div>
<div class="line">[Friday 18 March 2011] [11:04:05] &lt;sustrik&gt;   it was not about naming :)</div>
<div class="line">[Friday 18 March 2011] [11:04:40] &lt;sustrik&gt;   ultimately, it was about what should be done by 0mq itself and what should be done by the layers on top of it</div>
<div class="line">[Friday 18 March 2011] [11:05:58] &lt;Guthur&gt;    sustrik: ok, sorry I just came back and it was very long and I found it hard to figure out what was going on</div>
<div class="line">[Friday 18 March 2011] [11:06:17] &lt;sustrik&gt;   there&#8217;s a thread on the ML if you are interested</div>
<div class="line">[Friday 18 March 2011] [11:09:31] &lt;Guthur&gt;    ok, I&#8217;ll check it out</div>
<div class="line">[Friday 18 March 2011] [11:24:46] &lt;sustrik&gt;   pieterh: still here?</div>
<div class="line">[Friday 18 March 2011] [11:25:10] &lt;sustrik&gt;   the use case for the error you&#8217;ve reported have scrolled out of my irc window</div>
<div class="line">[Friday 18 March 2011] [11:25:15] &lt;sustrik&gt;   can you repost it?</div>
<div class="line">[Friday 18 March 2011] [11:29:19] &lt;sustrik&gt;   &lt;sustrik&gt; the use case for the error you&#8217;ve reported have scrolled out of my irc window</div>
<div class="line">[Friday 18 March 2011] [11:29:19] &lt;sustrik&gt;   &lt;sustrik&gt; can you repost it?</div>
<div class="line">[Friday 18 March 2011] [11:29:35] &lt;sustrik&gt;   <a href="#id1434"><span class="problematic" id="id1435">pieterh_</span></a>: ^^</div>
<div class="line">[Friday 18 March 2011] [11:29:55] &lt;<a href="#id1436"><span class="problematic" id="id1437">pieterh_</span></a>&gt;  sustrik: sorry, was offline for a while</div>
<div class="line">[Friday 18 March 2011] [11:30:01] &lt;sustrik&gt;   np</div>
<div class="line">[Friday 18 March 2011] [11:30:02] &lt;<a href="#id1438"><span class="problematic" id="id1439">pieterh_</span></a>&gt;  you lost the URIs?</div>
<div class="line">[Friday 18 March 2011] [11:30:06] &lt;sustrik&gt;   yep</div>
<div class="line">[Friday 18 March 2011] [11:30:10] &lt;<a href="#id1440"><span class="problematic" id="id1441">pieterh_</span></a>&gt;  <a class="reference external" href="https://gist.github.com/875932">https://gist.github.com/875932</a></div>
<div class="line">[Friday 18 March 2011] [11:30:14] &lt;sustrik&gt;   thanks</div>
<div class="line">[Friday 18 March 2011] [11:30:21] &lt;<a href="#id1442"><span class="problematic" id="id1443">pieterh_</span></a>&gt;  it looks like the first frame after a handshake gets lost</div>
<div class="line">[Friday 18 March 2011] [11:30:34]      * sustrik is having a look...</div>
<div class="line">[Friday 18 March 2011] [11:30:36] &lt;<a href="#id1444"><span class="problematic" id="id1445">pieterh_</span></a>&gt;  but randomly...</div>
<div class="line">[Friday 18 March 2011] [11:30:43] &lt;<a href="#id1446"><span class="problematic" id="id1447">pieterh_</span></a>&gt;  thanks, I appreciate it, it&#8217;s blocking me</div>
<div class="line">[Friday 18 March 2011] [11:40:31] &lt;evax&gt;      working on erlzmq2 some weird behaviour happens at times: after calling zmq_term and our own poller thread has ended, one thread enters a busy loop because SIGFE is trapped but keeps being raised</div>
<div class="line">[Friday 18 March 2011] [11:40:54] &lt;evax&gt;      <a href="#id45"><span class="problematic" id="id46">*</span></a>SIGFPE</div>
<div class="line">[Friday 18 March 2011] [11:43:01] &lt;evax&gt;      when zmq_term returns, all zmq threads have ended ?</div>
<div class="line">[Friday 18 March 2011] [11:46:59] &lt;<a href="#id1448"><span class="problematic" id="id1449">pieterh_</span></a>&gt;  evax: it should say so in the man page</div>
<div class="line">[Friday 18 March 2011] [11:48:48] &lt;mikko-_&gt;   pieter: all 2-1 builds succeed now</div>
<div class="line">[Friday 18 March 2011] [11:49:27] &lt;<a href="#id1450"><span class="problematic" id="id1451">pieterh_</span></a>&gt;  mikko: yup</div>
<div class="line">[Friday 18 March 2011] [11:49:37] &lt;evax&gt;      <a href="#id1452"><span class="problematic" id="id1453">pieterh_</span></a>: thanks, I was reading an outdated man page...</div>
<div class="line">[Friday 18 March 2011] [11:49:40] &lt;<a href="#id1454"><span class="problematic" id="id1455">pieterh_</span></a>&gt;  there are a couple of issues still to close, then 2-1 is ready to release</div>
<div class="line">[Friday 18 March 2011] [11:50:03] &lt;<a href="#id1456"><span class="problematic" id="id1457">pieterh_</span></a>&gt;  evax: does it say something useful in the man page?</div>
<div class="line">[Friday 18 March 2011] [11:51:40] &lt;evax&gt;      <a href="#id1458"><span class="problematic" id="id1459">pieterh_</span></a>: that it can fail with EINTR now</div>
<div class="line">[Friday 18 March 2011] [11:52:21] &lt;<a href="#id1460"><span class="problematic" id="id1461">pieterh_</span></a>&gt;  ok</div>
<div class="line">[Friday 18 March 2011] [12:26:52] &lt;evax&gt;      <a href="#id1462"><span class="problematic" id="id1463">pieterh_</span></a>: in the case of inproc sockets, is it possible that a zmq_recv succeeds before the associated send returns ?</div>
<div class="line">[Friday 18 March 2011] [12:28:56] &lt;evax&gt;      this is with a PUSH/PULL pair and the zmq_recv if right after a zmq_poll</div>
<div class="line">[Friday 18 March 2011] [12:30:21] &lt;sustrik&gt;   yes, it&#8217;s possible</div>
<div class="line">[Friday 18 March 2011] [12:30:55] &lt;evax&gt;      sustrik: thanks, then that&#8217;s what&#8217;s biting us</div>
<div class="line">[Friday 18 March 2011] [12:33:07] &lt;Guthur&gt;    evax: out of curiosity what are you working on for erlzmq?</div>
<div class="line">[Friday 18 March 2011] [12:33:28] &lt;Guthur&gt;    it is elrzmq, correct?</div>
<div class="line">[Friday 18 March 2011] [12:34:45] &lt;evax&gt;      we send a message to shut down the system, and sometimes before the zmq_send returns our polling thread recvs the request, closes the sockets and terminates the context, and this fires the SIGFPE busyloop in the original thread</div>
<div class="line">[Friday 18 March 2011] [12:34:57] &lt;evax&gt;      Guthur: erlzmq2, the NIF base version</div>
<div class="line">[Friday 18 March 2011] [12:35:55] &lt;Guthur&gt;    ah ok</div>
<div class="line">[Friday 18 March 2011] [12:36:09] &lt;Guthur&gt;    so you are using zmq to manage the state of your zmq binding</div>
<div class="line">[Friday 18 March 2011] [12:36:14] &lt;Guthur&gt;    many kudos there, hehe</div>
<div class="line">[Friday 18 March 2011] [12:39:11] &lt;evax&gt;      Guthur: I wanted to implementing non blocking send, but I stumbled on this busy loop issue</div>
<div class="line">[Friday 18 March 2011] [12:39:54] &lt;evax&gt;      Guthur: yeah, it felt really natural</div>
<div class="line">[Friday 18 March 2011] [12:40:23] &lt;michelp&gt;   wow you guys overflowed my backscroll :)</div>
<div class="line">[Friday 18 March 2011] [12:40:45] &lt;Guthur&gt;    it has been very busy today</div>
<div class="line">[Friday 18 March 2011] [12:41:37] &lt;Guthur&gt;    I&#8217;m still digesting the XREP vs. ROUTER stuff, the details are on the mailing list though</div>
<div class="line">[Friday 18 March 2011] [12:42:46] &lt;Guthur&gt;    sustrik: if XREP really could suddenly change, it probably should never have been exposed</div>
<div class="line">[Friday 18 March 2011] [12:43:03] &lt;Guthur&gt;    but I suppose that&#8217;s been argued already</div>
<div class="line">[Friday 18 March 2011] [12:43:21] &lt;sustrik&gt;   yup</div>
<div class="line">[Friday 18 March 2011] [12:54:46] &lt;Guthur&gt;    and those cool devices that guide demonstrates are pretty cool</div>
<div class="line">[Friday 18 March 2011] [12:54:51] &lt;Guthur&gt;    would be a shame if they broke</div>
<div class="line">[Friday 18 March 2011] [12:58:18] &lt;sustrik&gt;   i&#8217;m not proposing to break them</div>
<div class="line">[Friday 18 March 2011] [12:58:36] &lt;sustrik&gt;   it was just illustration</div>
<div class="line">[Friday 18 March 2011] [14:09:34] &lt;evax&gt;      sustrik: erlzmq2 can no more block the VM on send</div>
<div class="line">[Friday 18 March 2011] [14:09:55] &lt;sustrik&gt;   nice!</div>
<div class="line">[Friday 18 March 2011] [14:10:16] &lt;sustrik&gt;   thanks for quick fix</div>
<div class="line">[Friday 18 March 2011] [14:11:25] &lt;evax&gt;      np, let me know if there are other features missing</div>
<div class="line">[Friday 18 March 2011] [14:15:54] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [14:49:59] &lt;<a href="#id1464"><span class="problematic" id="id1465">pieterh_</span></a>&gt;  sustrik: sorry, was away... did you manage to reproduce the pub-sub issue?</div>
<div class="line">[Friday 18 March 2011] [15:16:21] &lt;pieterh&gt;   ok, reproduced on second box</div>
<div class="line">[Friday 18 March 2011] [16:17:05] &lt;Guthur&gt;    pieterh, do you mean to not increment the sequence in that gist?</div>
<div class="line">[Friday 18 March 2011] [18:08:59] &lt;rfw&gt;       hi there, does the pyzmq.eventloop ioloop have epoll support like tornado&#8217;s?</div>
<div class="line">[Friday 18 March 2011] [18:53:33] &lt;yrashk&gt;    so 8 years for saleyn :-(((</div>
<div class="line">[Friday 18 March 2011] [19:43:19] &lt;Guthur&gt;    yrashk, have you seen the first paragraph of the wiki page</div>
<div class="line">[Friday 18 March 2011] [19:44:07] &lt;Guthur&gt;    Goldman Sachs code, which is described as &#8220;there is a danger that somebody who knew how to use this program could use it to manipulate markets in unfair ways.&#8221;</div>
<div class="line">[Friday 18 March 2011] [19:44:23] &lt;Guthur&gt;    but it&#8217;s fine for Goldman to have it</div>
<div class="line">[Saturday 19 March 2011] [08:13:02] &lt;Guthur&gt;  pieterh, some of the code examples in ch4 have lines of code longer than the width of the code box</div>
<div class="line">[Saturday 19 March 2011] [08:13:19] &lt;Guthur&gt;  only a minor issue, but thought it worth raising.</div>
<div class="line">[Saturday 19 March 2011] [08:13:30] &lt;Guthur&gt;  I&#8217;m using chrome, if it matter</div>
<div class="line">[Saturday 19 March 2011] [09:55:56] &lt;FlaPer87&gt;        hi everyone, is it possible to have 2 threads listening to the same zmq socket? is there an example here[0] showing that? <a class="reference external" href="https://github.com/imatix/zguide">https://github.com/imatix/zguide</a></div>
<div class="line">[Saturday 19 March 2011] [09:58:09] &lt;mikko&gt;   FlaPer87: no</div>
<div class="line">[Saturday 19 March 2011] [09:58:28] &lt;FlaPer87&gt;        mikko ok, thnx :)</div>
<div class="line">[Saturday 19 March 2011] [09:58:30] &lt;mikko&gt;   FlaPer87: you can not access the same socket from multiple threads concurrently</div>
<div class="line">[Saturday 19 March 2011] [09:58:34] &lt;mikko&gt;   FlaPer87: what is the use-case?</div>
<div class="line">[Saturday 19 March 2011] [09:59:00] &lt;mikko&gt;   sec, my fish stock is boiling over</div>
<div class="line">[Saturday 19 March 2011] [10:00:27] &lt;FlaPer87&gt;        mikko I was wondering if that was possible in order to process more messages p/second. Now that I think about it that was a stupid question :P</div>
<div class="line">[Saturday 19 March 2011] [10:10:02] &lt;Guthur&gt;  FlaPer87, there is some examples in the guide showing custom routing to N worker threads</div>
<div class="line">[Saturday 19 March 2011] [10:10:30] &lt;Guthur&gt;  lruqueue, shows a device doing this</div>
<div class="line">[Saturday 19 March 2011] [10:13:47] &lt;Guthur&gt;  or the parallel pipeline pattern shown here;  <a class="reference external" href="http://zguide.zeromq.org/page:all#toc8">http://zguide.zeromq.org/page:all#toc8</a></div>
<div class="line">[Saturday 19 March 2011] [10:14:20] &lt;FlaPer87&gt;        Guthur, that&#8217;s useful, let me check</div>
<div class="line">[Saturday 19 March 2011] [10:14:26] &lt;FlaPer87&gt;        Guthur thnx</div>
<div class="line">[Saturday 19 March 2011] [12:13:16] &lt;<a href="#id1466"><span class="problematic" id="id1467">dermoth_</span></a>&gt;        FlaPer87, you can have two threads connect to the same endpoint... if the connection has to be incoming, you can use a device in the middle</div>
<div class="line">[Saturday 19 March 2011] [12:14:16] &lt;<a href="#id1468"><span class="problematic" id="id1469">dermoth_</span></a>&gt;        ime. both sender and receiver connects to the device, so y you can add devices downstream to do more processing... I assume PUSH/PULL sockets here...</div>
<div class="line">[Saturday 19 March 2011] [13:27:36] &lt;sustrik&gt; pieterh: are you here?</div>
<div class="line">[Saturday 19 March 2011] [13:27:58] &lt;sustrik&gt; it would be good to link zed shaw&#8217;s and ian barber&#8217;s talk from somewhere</div>
<div class="line">[Saturday 19 March 2011] [13:27:59] &lt;sustrik&gt; <a class="reference external" href="http://vimeo.com/20605470">http://vimeo.com/20605470</a></div>
<div class="line">[Saturday 19 March 2011] [13:28:18]    * sustrik has no idea how to embed video into wikidot</div>
<div class="line">[Saturday 19 March 2011] [13:31:00] &lt;Guthur&gt;  sustrik, It was a shame about the GSoC, did they give any suggestions on how to improve the application for the future?</div>
<div class="line">[Saturday 19 March 2011] [14:07:41] &lt;sustrik&gt; Guthur: nope</div>
<div class="line">[Saturday 19 March 2011] [14:07:57] &lt;sustrik&gt; what i resent is what i got</div>
<div class="line">[Saturday 19 March 2011] [14:08:19] &lt;Guthur&gt;  shame, btw you can embed HTML in wikidot</div>
<div class="line">[Saturday 19 March 2011] [14:08:38] &lt;Guthur&gt;  you should be able to use the embed markup there</div>
<div class="line">[Saturday 19 March 2011] [14:08:54] &lt;Guthur&gt;  for Ian and Zed&#8217;s videos</div>
<div class="line">[Saturday 19 March 2011] [14:13:52] &lt;sustrik&gt; no idea how to do that</div>
<div class="line">[Saturday 19 March 2011] [14:13:58] &lt;sustrik&gt; would you like to give it a try?</div>
<div class="line">[Saturday 19 March 2011] [14:14:23] &lt;sustrik&gt; say here:</div>
<div class="line">[Saturday 19 March 2011] [14:14:24] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/intro:read-the-manual">http://www.zeromq.org/intro:read-the-manual</a></div>
<div class="line">[Saturday 19 March 2011] [14:49:02] &lt;Guthur&gt;  sustrik, sure</div>
<div class="line">[Saturday 19 March 2011] [14:50:16] &lt;Guthur&gt;  sustrik, there is already videos on that page, should just take a small amount of &#8216;reverse engineering&#8217;, hehe</div>
<div class="line">[Saturday 19 March 2011] [15:08:38] &lt;Guthur&gt;  sustrik, ok done</div>
<div class="line">[Saturday 19 March 2011] [15:09:09] &lt;Guthur&gt;  I tried to maintain the aspect ratio so they are a little taller than the other videos</div>
<div class="line">[Saturday 19 March 2011] [15:11:48] &lt;guido_g&gt; i&#8217;ll never understand why a link is not enough... must be this web 2.0 thing...</div>
<div class="line">[Saturday 19 March 2011] [15:13:08] &lt;Guthur&gt;  certainly takes up less room</div>
<div class="line">[Saturday 19 March 2011] [15:13:41] &lt;guido_g&gt; and i&#8217;m free to decide if want to see it or not</div>
<div class="line">[Saturday 19 March 2011] [15:23:32] &lt;Guthur&gt;  that would never do</div>
<div class="line">[Saturday 19 March 2011] [15:24:08] &lt;Guthur&gt;  think, i&#8217;ve people went round choosing what they did and did not watch, the marketing guys would be out of a job</div>
<div class="line">[Saturday 19 March 2011] [15:24:16] &lt;Guthur&gt;  i&#8217;ve/if</div>
<div class="line">[Saturday 19 March 2011] [15:25:46] &lt;guido_g&gt; k</div>
<div class="line">[Saturday 19 March 2011] [15:25:57] &lt;guido_g&gt; and where is the bad part?</div>
<div class="line">[Saturday 19 March 2011] [23:30:22] &lt;jsimmons&gt;        is there any way to mitigate the performance loss of (i&#8217;m presuming to blame zeromq here) adding more endpoints to a zmq socket?</div>
<div class="line">[Saturday 19 March 2011] [23:31:06] &lt;jsimmons&gt;        I presume it&#8217;s the push/pull pair rather than the pub/sub pair</div>
<div class="line">[Saturday 19 March 2011] [23:35:23] &lt;jsimmons&gt;        that&#8217;s actually a bad way to put it, rephrasing. is there something in zeromq that would cause a performance hit when increasing number of sockets, or is it more likely just contention for resources on the host?</div>
<div class="line">[Sunday 20 March 2011] [00:37:57] &lt;<a href="#id1470"><span class="problematic" id="id1471">bth_</span></a>&gt;      hi</div>
<div class="line">[Sunday 20 March 2011] [00:37:59] &lt;<a href="#id1472"><span class="problematic" id="id1473">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:28] &lt;<a href="#id1474"><span class="problematic" id="id1475">bth_</span></a>&gt;      im a hacker :P</div>
<div class="line">[Sunday 20 March 2011] [00:38:29] &lt;<a href="#id1476"><span class="problematic" id="id1477">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:29] &lt;<a href="#id1478"><span class="problematic" id="id1479">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:30] &lt;<a href="#id1480"><span class="problematic" id="id1481">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [05:01:33] &lt;pieterh&gt;   sustrik: ping</div>
<div class="line">[Sunday 20 March 2011] [05:04:21] &lt;pieterh&gt;   I&#8217;d like to clarify in zmq_socket(3) that PAIR is intended only for inproc sockets</div>
<div class="line">[Sunday 20 March 2011] [05:11:42] &lt;sustrik&gt;   pieterh: morning</div>
<div class="line">[Sunday 20 March 2011] [05:11:47] &lt;pieterh&gt;   hi :-)</div>
<div class="line">[Sunday 20 March 2011] [05:11:47] &lt;sustrik&gt;   sure, do so</div>
<div class="line">[Sunday 20 March 2011] [05:11:54] &lt;pieterh&gt;   I&#8217;ll send you a patch to the man page</div>
<div class="line">[Sunday 20 March 2011] [05:11:58] &lt;sustrik&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [05:12:24] &lt;pieterh&gt;   I think this lets us close the issues on PAIR as &#8220;out of scope&#8221;</div>
<div class="line">[Sunday 20 March 2011] [05:12:41] &lt;sustrik&gt;   let me see</div>
<div class="line">[Sunday 20 March 2011] [05:15:10] &lt;sustrik&gt;   i don&#8217;t think restricting it to inproc solves the issues</div>
<div class="line">[Sunday 20 March 2011] [05:15:25] &lt;sustrik&gt;   4,19 and 26 can happen with inproc</div>
<div class="line">[Sunday 20 March 2011] [05:15:46] &lt;sustrik&gt;   as for 3, it cannot be demostrated because inproc itself lacks reconnect</div>
<div class="line">[Sunday 20 March 2011] [05:15:52] &lt;pieterh&gt;   let me check again</div>
<div class="line">[Sunday 20 March 2011] [05:17:51] &lt;pieterh&gt;   ok, 4 and 26 are proper bugs</div>
<div class="line">[Sunday 20 March 2011] [05:18:03] &lt;pieterh&gt;   19 seems fine, it asserts if you misuse it, which is fair</div>
<div class="line">[Sunday 20 March 2011] [05:18:12] &lt;pieterh&gt;   3 is out of scope, over inproc</div>
<div class="line">[Sunday 20 March 2011] [05:18:40] &lt;sustrik&gt;   it will resurface once auto-reconnect over inproc is implemented (issue 6)</div>
<div class="line">[Sunday 20 March 2011] [05:19:03] &lt;pieterh&gt;   yes, but we have a good pattern for using inproc without reconnect</div>
<div class="line">[Sunday 20 March 2011] [05:19:15] &lt;sustrik&gt;   ack</div>
<div class="line">[Sunday 20 March 2011] [05:19:19] &lt;pieterh&gt;   as long as there are guidelines that keep people away from trouble, it&#8217;s fine for me</div>
<div class="line">[Sunday 20 March 2011] [05:19:32] &lt;sustrik&gt;   yep, but leave the issues open</div>
<div class="line">[Sunday 20 March 2011] [05:19:38] &lt;pieterh&gt;   indeed</div>
<div class="line">[Sunday 20 March 2011] [05:19:39] &lt;sustrik&gt;   they have to be fixed anyway</div>
<div class="line">[Sunday 20 March 2011] [05:19:46] &lt;pieterh&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [05:19:56] &lt;pieterh&gt;   did you get a chance to look at that pubsub issue?</div>
<div class="line">[Sunday 20 March 2011] [05:20:37] &lt;pieterh&gt;   it seems to kind of completely break multipart pubsub</div>
<div class="line">[Sunday 20 March 2011] [05:20:37] &lt;sustrik&gt;   yes, i&#8217;ve tried several fixes already</div>
<div class="line">[Sunday 20 March 2011] [05:20:44] &lt;sustrik&gt;   i&#8217;ll have it ready today</div>
<div class="line">[Sunday 20 March 2011] [05:20:53] &lt;pieterh&gt;   lovely... !</div>
<div class="line">[Sunday 20 March 2011] [06:42:20] &lt;sustrik&gt;   pieterh: here&#8217;s the patch:</div>
<div class="line">[Sunday 20 March 2011] [06:42:21] &lt;sustrik&gt;   <a class="reference external" href="https://gist.github.com/878260">https://gist.github.com/878260</a></div>
<div class="line">[Sunday 20 March 2011] [06:42:29] &lt;sustrik&gt;   can you check whether it works ok?</div>
<div class="line">[Sunday 20 March 2011] [06:42:39] &lt;pieterh&gt;   a&#8217;ight! testing now...</div>
<div class="line">[Sunday 20 March 2011] [06:49:10] &lt;pieterh&gt;   sustrik: confirmed working</div>
<div class="line">[Sunday 20 March 2011] [06:49:15] &lt;sustrik&gt;   thanks</div>
<div class="line">[Sunday 20 March 2011] [06:49:58] &lt;pieterh&gt;   will you send me the commit when it&#8217;s done?</div>
<div class="line">[Sunday 20 March 2011] [06:51:21] &lt;sustrik&gt;   working on it</div>
<div class="line">[Sunday 20 March 2011] [06:52:34] &lt;pieterh&gt;   I think we&#8217;re ready for a 2.1 stable</div>
<div class="line">[Sunday 20 March 2011] [06:53:35] &lt;sustrik&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: 03Martin Sustrik 07master * r92c7c18 10/ (src/dist.cpp src/dist.hpp): (log message trimmed)</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: Message atomicity problem solved in PUB socket</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: When new peer connects to a PUB socket while it is in the middle</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: of sending of multi-part messages, it gets just the remaining</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: part of the message, i.e. message atomicity is broken.</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: This patch drops the tail part of the message and starts sending</div>
<div class="line">[Sunday 20 March 2011] [06:53:55] &lt;CIA-22&gt;    zeromq2: to the peer only when new message is started.</div>
<div class="line">[Sunday 20 March 2011] [06:54:02] &lt;sustrik&gt;   here you go</div>
<div class="line">[Sunday 20 March 2011] [09:42:34] &lt;Guthur&gt;    I&#8217;m looking to build a device that will accept client requests and send data to specific clients, the two options I see is too either do some custom routing with XREQ/XREP, or to have the client PUSH requests and bind on a PULL socket to receive data.</div>
<div class="line">[Sunday 20 March 2011] [09:43:28] &lt;Guthur&gt;    option 2 seems the cleanest in my mind, but it would surely involve maintaining a lot of open sockets to service all connected clients</div>
<div class="line">[Sunday 20 March 2011] [09:44:15] &lt;Guthur&gt;    Is there an option 3 anyone can think of</div>
<div class="line">[Sunday 20 March 2011] [09:47:42] &lt;nmmm&gt;      hi quick question i seems not finding the answer</div>
<div class="line">[Sunday 20 March 2011] [09:48:11] &lt;nmmm&gt;      is there a way to make timeout on recv()</div>
<div class="line">[Sunday 20 March 2011] [09:48:35] &lt;nmmm&gt;      supose i connect() socket 3-4 times</div>
<div class="line">[Sunday 20 March 2011] [09:48:51] &lt;nmmm&gt;      and suppose then one of the servers die</div>
<div class="line">[Sunday 20 March 2011] [09:49:08] &lt;Guthur&gt;    nmmm, you can poll with a timeout</div>
<div class="line">[Sunday 20 March 2011] [09:49:11] &lt;nmmm&gt;      then recv() will wait forever</div>
<div class="line">[Sunday 20 March 2011] [09:49:35] &lt;Guthur&gt;    or you could do a noblock recv in a loop and timeout yourself</div>
<div class="line">[Sunday 20 March 2011] [09:49:37] &lt;nmmm&gt;      i see, but is pool only option?</div>
<div class="line">[Sunday 20 March 2011] [09:50:03] &lt;nmmm&gt;      loop - yes I can too.</div>
<div class="line">[Sunday 20 March 2011] [09:50:17] &lt;nmmm&gt;      but there is no internal timeout ?</div>
<div class="line">[Sunday 20 March 2011] [09:50:27] &lt;Guthur&gt;    not on recv no</div>
<div class="line">[Sunday 20 March 2011] [09:50:57] &lt;nmmm&gt;      question 2 (but i did not study it that much, so could be obvious)</div>
<div class="line">[Sunday 20 March 2011] [09:51:13] &lt;nmmm&gt;      in poll, i can get responce from several nodes,</div>
<div class="line">[Sunday 20 March 2011] [09:51:36] &lt;nmmm&gt;      is it my responsibility if I need my request to be executed only from one node ?</div>
<div class="line">[Sunday 20 March 2011] [09:52:35] &lt;Guthur&gt;    nmm you can either just pass in one pollitem or you can choose to ignore the rest if you recv something on one socket</div>
<div class="line">[Sunday 20 March 2011] [09:52:48] &lt;Guthur&gt;    with an if else</div>
<div class="line">[Sunday 20 March 2011] [09:52:54] &lt;Guthur&gt;    2 secs I&#8217;ll show an example</div>
<div class="line">[Sunday 20 March 2011] [09:53:02] &lt;nmmm&gt;      ok</div>
<div class="line">[Sunday 20 March 2011] [09:53:40] &lt;nmmm&gt;      ignore - i can not do. let say the operation is very &#8220;intencive&#8221; or cost money.</div>
<div class="line">[Sunday 20 March 2011] [09:53:47] &lt;nmmm&gt;      or send email</div>
<div class="line">[Sunday 20 March 2011] [09:54:46] &lt;Guthur&gt;    sorry I may have miss-understood</div>
<div class="line">[Sunday 20 March 2011] [09:55:03] &lt;Guthur&gt;    did you mean you may want to ignore one of the connected nodes</div>
<div class="line">[Sunday 20 March 2011] [09:55:22] &lt;nmmm&gt;      let say we have system that sends emails</div>
<div class="line">[Sunday 20 March 2011] [09:55:30] &lt;nmmm&gt;      and i have thousend to be send</div>
<div class="line">[Sunday 20 March 2011] [09:56:00] &lt;nmmm&gt;      i can pass them to workes, but I want nobody to receive email twice</div>
<div class="line">[Sunday 20 March 2011] [09:56:32] &lt;Guthur&gt;    oh right, you need a device in the middle that will load balance between all the workers</div>
<div class="line">[Sunday 20 March 2011] [09:56:41] &lt;nmmm&gt;      this is good example on what i need to do. (actually will send SMS)</div>
<div class="line">[Sunday 20 March 2011] [09:56:44] &lt;Guthur&gt;    this is covered very early in the guide</div>
<div class="line">[Sunday 20 March 2011] [09:56:53] &lt;Guthur&gt;    have you seen it</div>
<div class="line">[Sunday 20 March 2011] [09:57:09] &lt;nmmm&gt;      yes I will check the devices, thanks</div>
<div class="line">[Sunday 20 March 2011] [09:57:19] &lt;nmmm&gt;      btw, great job</div>
<div class="line">[Sunday 20 March 2011] [09:58:01] &lt;Guthur&gt;    the praise needs to go to others not me, hehe</div>
<div class="line">[Sunday 20 March 2011] [09:58:16] &lt;Guthur&gt;    I only maintain the clrzmq2 binding (C#)</div>
<div class="line">[Sunday 20 March 2011] [09:58:44] &lt;nmmm&gt;      i have some project , works OK on 2 GB server, but Im thinking about scalling</div>
<div class="line">[Sunday 20 March 2011] [09:59:11] &lt;Guthur&gt;    a device like this may do <a class="reference external" href="http://zguide.zeromq.org/page:all#toc37">http://zguide.zeromq.org/page:all#toc37</a></div>
<div class="line">[Sunday 20 March 2011] [09:59:28] &lt;Guthur&gt;    scroll to the bottom of that section to see a nice diagram</div>
<div class="line">[Sunday 20 March 2011] [10:00:41] &lt;Guthur&gt;    the guide is full of nice 0MQ recipes</div>
<div class="line">[Sunday 20 March 2011] [10:00:51] &lt;nmmm&gt;      thanks a lot</div>
<div class="line">[Sunday 20 March 2011] [10:01:09] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Sunday 20 March 2011] [10:01:16] &lt;Guthur&gt;    happy coding</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: 03Martin Sustrik 07master * r1619b3d 10/ (src/lb.cpp src/lb.hpp):</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: Message atomicity bug in load-balancer fixed</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: If the peer getting the message have disconnected in the middle</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: of multiplart message, the remaining part of the message went</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: to a different peer. This patch fixes the issue.</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eAhwVE">http://bit.ly/eAhwVE</a></div>
<div class="line">[Monday 21 March 2011] [05:54:40] &lt;pieterh&gt;   sustrik: ping</div>
<div class="line">[Monday 21 March 2011] [06:01:31] &lt;pieterh&gt;   ok, new packages of 0MQ 2.0 and 2.1 are fresh and hot!</div>
<div class="line">[Monday 21 March 2011] [06:05:29] &lt;Guthur&gt;    pieterh: should all socket types be able to connect and bind in any order?</div>
<div class="line">[Monday 21 March 2011] [06:05:46] &lt;pieterh&gt;   Guthur: in an ideal world, yes, but there are gaps</div>
<div class="line">[Monday 21 March 2011] [06:05:52] &lt;pieterh&gt;   e.g. PAIR sockets can&#8217;t</div>
<div class="line">[Monday 21 March 2011] [06:06:01] &lt;Guthur&gt;    what about PUSH/PULL</div>
<div class="line">[Monday 21 March 2011] [06:06:08] &lt;pieterh&gt;   anything over inproc can&#8217;t either</div>
<div class="line">[Monday 21 March 2011] [06:06:14] &lt;Guthur&gt;    ah it was the inproc</div>
<div class="line">[Monday 21 March 2011] [06:06:19] &lt;pieterh&gt;   yep</div>
<div class="line">[Monday 21 March 2011] [06:06:35] &lt;pieterh&gt;   with inproc the pattern is &#8216;bind, start child thread, which connects&#8217;</div>
<div class="line">[Monday 21 March 2011] [06:06:47] &lt;Guthur&gt;    I suppose inproc ain&#8217;t so bad, relatively easy to control the order</div>
<div class="line">[Monday 21 March 2011] [06:07:03] &lt;pieterh&gt;   since it&#8217;s structurally different from other transports, I use it only when I&#8217;m doing literal multithreading</div>
<div class="line">[Monday 21 March 2011] [06:07:17] &lt;pieterh&gt;   as compared to multitasking with threads... which I use tcp or ipc for</div>
<div class="line">[Monday 21 March 2011] [06:07:44] &lt;pieterh&gt;   btw I fixed the guide examples to fit 73 columns, thanks for that hint</div>
<div class="line">[Monday 21 March 2011] [06:07:58] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Monday 21 March 2011] [06:08:30] &lt;Guthur&gt;    it wasn&#8217;t too bad, but you had set the bar high so these wee things are noticeable, hehe</div>
<div class="line">[Monday 21 March 2011] [06:09:22] &lt;Guthur&gt;    Ian Barber&#8217;s PHP conf video is really good</div>
<div class="line">[Monday 21 March 2011] [06:10:02] &lt;pieterh&gt;   the bar is never too high :-)</div>
<div class="line">[Monday 21 March 2011] [06:10:23] &lt;pieterh&gt;   Ian Barber is a phenomenon, it was great to meet him in London last week</div>
<div class="line">[Monday 21 March 2011] [06:11:01] &lt;pieterh&gt;   but then, this community seems to attract bru</div>
<div class="line">[Monday 21 March 2011] [06:11:06] &lt;pieterh&gt;   <a href="#id47"><span class="problematic" id="id48">*</span></a>brilliant people</div>
<div class="line">[Monday 21 March 2011] [06:11:29] &lt;Guthur&gt;    The mention of stable/unstable components was very enlighting</div>
<div class="line">[Monday 21 March 2011] [06:11:54] &lt;Guthur&gt;    static/dynamic is the other way of describing it</div>
<div class="line">[Monday 21 March 2011] [06:13:19] &lt;Guthur&gt;    His highlevel description of a imaging process system was a inspirational as well, fanning out and in where appropriate</div>
<div class="line">[Monday 21 March 2011] [06:13:39] &lt;Guthur&gt;    I&#8217;m looking a similar architecture for a 0MQ FIX engine</div>
<div class="line">[Monday 21 March 2011] [06:13:42] &lt;Guthur&gt;    a/at</div>
<div class="line">[Monday 21 March 2011] [06:14:19] &lt;pieterh&gt;   yup, understanding the stable/unstable aspects of an architecture is key to making it right</div>
<div class="line">[Monday 21 March 2011] [06:21:56] &lt;Guthur&gt;    I find myself now looking at my arch and asking the question is this a stable/unstable component</div>
<div class="line">[Monday 21 March 2011] [06:59:44] &lt;sustrik&gt;   pieterh: pong</div>
<div class="line">[Monday 21 March 2011] [07:00:22] &lt;pieterh&gt;   sustrik: I was just wondering if it was OK to mention the plans for 3.0 to zeromq-dev</div>
<div class="line">[Monday 21 March 2011] [07:00:36] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:00:40] &lt;sustrik&gt;   i&#8217;m going to do that now</div>
<div class="line">[Monday 21 March 2011] [07:00:50]      * sustrik was waiting for stable 2</div>
<div class="line">[Monday 21 March 2011] [07:00:57] &lt;pieterh&gt;   goodo</div>
<div class="line">[Monday 21 March 2011] [07:01:19] &lt;pieterh&gt;   I think it&#8217;s important to say that we will maintain 2.1 for a long time</div>
<div class="line">[Monday 21 March 2011] [07:01:44] &lt;pieterh&gt;   change is fun but also scary to anyone wanting to use 0MQ in production</div>
<div class="line">[Monday 21 March 2011] [07:02:02] &lt;sustrik&gt;   yep, several years presumably</div>
<div class="line">[Monday 21 March 2011] [07:02:17] &lt;pieterh&gt;   well, I was thinking of 6-12 months, more like :-)</div>
<div class="line">[Monday 21 March 2011] [07:02:34] &lt;sustrik&gt;   although the impact of new API won&#8217;t be that bad as it will affect only C apps</div>
<div class="line">[Monday 21 March 2011] [07:02:39] &lt;pieterh&gt;   I assume we will have a 3.0 stable fairly rapidly</div>
<div class="line">[Monday 21 March 2011] [07:02:45] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [07:03:09] &lt;Guthur&gt;    sustrik:why will the API change only effect C apps?</div>
<div class="line">[Monday 21 March 2011] [07:03:09] &lt;pieterh&gt;   if we do the API changes separately from semantic changes like xpub/xsub, it&#8217;s less painful</div>
<div class="line">[Monday 21 March 2011] [07:03:20] &lt;pieterh&gt;   Guthur: also affect all bindings, of course</div>
<div class="line">[Monday 21 March 2011] [07:03:30] &lt;sustrik&gt;   Guthur: have a look at 3.0 roadmap</div>
<div class="line">[Monday 21 March 2011] [07:03:42] &lt;sustrik&gt;   you&#8217;ll see that most changes don&#8217;t affect the bindings API</div>
<div class="line">[Monday 21 March 2011] [07:03:56] &lt;sustrik&gt;   although it obviously affect binding implemetations</div>
<div class="line">[Monday 21 March 2011] [07:04:05] &lt;Guthur&gt;    oh the roadmap page has been updated</div>
<div class="line">[Monday 21 March 2011] [07:04:14] &lt;Guthur&gt;    I had not noticed that</div>
<div class="line">[Monday 21 March 2011] [07:04:25] &lt;sustrik&gt;   yes, i&#8217;ve listed all the backward imcompatible changes there</div>
<div class="line">[Monday 21 March 2011] [07:04:26] &lt;pieterh&gt;   sustrik: I&#8217;m going to already switch to the new ROUTER/DEALER terminology in the guide</div>
<div class="line">[Monday 21 March 2011] [07:04:28] &lt;sustrik&gt;   feel free to comment</div>
<div class="line">[Monday 21 March 2011] [07:04:37] &lt;pieterh&gt;   this pushes that change up</div>
<div class="line">[Monday 21 March 2011] [07:04:56] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:05:02] &lt;sustrik&gt;   pieterh: yes, 2 steps</div>
<div class="line">[Monday 21 March 2011] [07:05:20] &lt;sustrik&gt;   1, change the API &#8211;&gt; do as quickly as possible</div>
<div class="line">[Monday 21 March 2011] [07:05:22] &lt;pieterh&gt;   sustrik: I&#8217;d like to get a stable 3.0 with new API and no real functionality changes, so we can kill 2.0</div>
<div class="line">[Monday 21 March 2011] [07:05:23] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:05:26] &lt;sustrik&gt;   2. add new functionality</div>
<div class="line">[Monday 21 March 2011] [07:05:33] &lt;pieterh&gt;   yes, +1</div>
<div class="line">[Monday 21 March 2011] [07:06:53] &lt;pieterh&gt;   I think the new release process is working nicely, it&#8217;s certainly easy</div>
<div class="line">[Monday 21 March 2011] [07:07:30] &lt;sustrik&gt;   well, nobody have really tested the recent changes</div>
<div class="line">[Monday 21 March 2011] [07:07:38] &lt;sustrik&gt;   let&#8217;s hope it works as expected</div>
<div class="line">[Monday 21 March 2011] [07:08:06] &lt;Guthur&gt;    what needs to be done to zmq_send/recv to make them coherent with POSIX?</div>
<div class="line">[Monday 21 March 2011] [07:08:25] &lt;sustrik&gt;   zmq_send (void <a href="#id49"><span class="problematic" id="id50">*</span></a>data, size_t size, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:08:32] &lt;sustrik&gt;   same for zmq_recv</div>
<div class="line">[Monday 21 March 2011] [07:08:44] &lt;sustrik&gt;   no zmq_msg_t</div>
<div class="line">[Monday 21 March 2011] [07:08:46] &lt;pieterh&gt;   sustrik: I&#8217;ve been testing pretty heavily, via Guide examples</div>
<div class="line">[Monday 21 March 2011] [07:08:53] &lt;sustrik&gt;   ah, ok then</div>
<div class="line">[Monday 21 March 2011] [07:09:02] &lt;Guthur&gt;    and then they would wrap it as a zmq_msg internally?</div>
<div class="line">[Monday 21 March 2011] [07:09:07] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:09:22] &lt;Guthur&gt;    umm, that&#8217;s pretty nice</div>
<div class="line">[Monday 21 March 2011] [07:09:24] &lt;sustrik&gt;   the original signature will still be available as zmq_sendmsg and zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:09:24] &lt;pieterh&gt;   sustrik: one thing I noticed is missing is zero-copy on recv</div>
<div class="line">[Monday 21 March 2011] [07:09:34] &lt;sustrik&gt;   yes?</div>
<div class="line">[Monday 21 March 2011] [07:09:44] &lt;Guthur&gt;    that could actually simplify bindings</div>
<div class="line">[Monday 21 March 2011] [07:09:46] &lt;pieterh&gt;   I assume this is what we can do with 3.0</div>
<div class="line">[Monday 21 March 2011] [07:10:08] &lt;pieterh&gt;   size = zmq_recv (socket, void <a href="#id51"><span class="problematic" id="id52">**</span></a>data)</div>
<div class="line">[Monday 21 March 2011] [07:10:27] &lt;Guthur&gt;    <a href="#id53"><span class="problematic" id="id54">*</span></a>authoring bindings</div>
<div class="line">[Monday 21 March 2011] [07:10:27] &lt;pieterh&gt;   where I get a malloc&#8217;d blob I can then pass around</div>
<div class="line">[Monday 21 March 2011] [07:10:48] &lt;sustrik&gt;   can&#8217;t be done</div>
<div class="line">[Monday 21 March 2011] [07:11:03] &lt;sustrik&gt;   because you don&#8217;t know what allocation mechanism was used to allocate the buffer</div>
<div class="line">[Monday 21 March 2011] [07:11:14] &lt;sustrik&gt;   thus, you don&#8217;t know whether to free it or what</div>
<div class="line">[Monday 21 March 2011] [07:11:21] &lt;pieterh&gt;   ah, I mean recv() would always allocate on the heap</div>
<div class="line">[Monday 21 March 2011] [07:11:31] &lt;sustrik&gt;   copying the data?</div>
<div class="line">[Monday 21 March 2011] [07:11:50] &lt;pieterh&gt;   no copying, allocate a block, read into that block, and provide the caller with the block address</div>
<div class="line">[Monday 21 March 2011] [07:11:58] &lt;pieterh&gt;   the caller then uses the block with no copying</div>
<div class="line">[Monday 21 March 2011] [07:12:05] &lt;pieterh&gt;   today, you have to always copy the data received</div>
<div class="line">[Monday 21 March 2011] [07:12:06] &lt;sustrik&gt;   the socket is not in control of the allocation process</div>
<div class="line">[Monday 21 March 2011] [07:12:18] &lt;sustrik&gt;   it can be say another socket allocating buffer</div>
<div class="line">[Monday 21 March 2011] [07:12:25] &lt;sustrik&gt;   and sending it via inproc</div>
<div class="line">[Monday 21 March 2011] [07:12:34] &lt;pieterh&gt;   inproc is special...</div>
<div class="line">[Monday 21 March 2011] [07:12:41] &lt;sustrik&gt;   it is</div>
<div class="line">[Monday 21 March 2011] [07:12:49] &lt;pieterh&gt;   forgetting inproc for a second...</div>
<div class="line">[Monday 21 March 2011] [07:13:07] &lt;sustrik&gt;   you still have the VSM problem</div>
<div class="line">[Monday 21 March 2011] [07:13:16] &lt;sustrik&gt;   very small messages are allocated on the stack</div>
<div class="line">[Monday 21 March 2011] [07:13:24] &lt;sustrik&gt;   to speed the processing</div>
<div class="line">[Monday 21 March 2011] [07:13:25] &lt;pieterh&gt;   in C?</div>
<div class="line">[Monday 21 March 2011] [07:13:32] &lt;sustrik&gt;   inside libzmq</div>
<div class="line">[Monday 21 March 2011] [07:13:42] &lt;pieterh&gt;   how do you return a zmq_msg_t referring to a VSM on the stack?</div>
<div class="line">[Monday 21 March 2011] [07:13:53] &lt;sustrik&gt;   it&#8217;s embedded</div>
<div class="line">[Monday 21 March 2011] [07:14:04] &lt;sustrik&gt;   see the definition in zmq.h</div>
<div class="line">[Monday 21 March 2011] [07:14:28] &lt;pieterh&gt;   ok, sure</div>
<div class="line">[Monday 21 March 2011] [07:14:30] &lt;sustrik&gt;   in short, there are different alloc/dealloc mechanisms</div>
<div class="line">[Monday 21 March 2011] [07:14:43] &lt;sustrik&gt;   zmq_msg_t cleanly wraps the buffer and the deallocation function</div>
<div class="line">[Monday 21 March 2011] [07:14:44] &lt;pieterh&gt;   ok, at the risk of being glib, forget VSMs for a second too, they&#8217;re special</div>
<div class="line">[Monday 21 March 2011] [07:14:51] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:15:00] &lt;pieterh&gt;   the bulk case is large messages, where copying is a cost</div>
<div class="line">[Monday 21 March 2011] [07:15:01] &lt;Guthur&gt;    so inproc is special and VSM is special</div>
<div class="line">[Monday 21 March 2011] [07:15:09] &lt;pieterh&gt;   yes, this is accurate, they&#8217;re both optimizations</div>
<div class="line">[Monday 21 March 2011] [07:15:20] &lt;pieterh&gt;   which means they can depend on a more complex API, that&#8217;s fine</div>
<div class="line">[Monday 21 March 2011] [07:16:16] &lt;pieterh&gt;   sustrik: the semantic which I used in the zmsg class, and which works really neatly</div>
<div class="line">[Monday 21 March 2011] [07:16:21] &lt;sustrik&gt;   if you don&#8217;t care about allocation and copying cost in inproc and small message scenarios</div>
<div class="line">[Monday 21 March 2011] [07:16:24] &lt;Guthur&gt;    at the moment though this specialness is too apparent the user, the inproc issue earlier withstanding</div>
<div class="line">[Monday 21 March 2011] [07:16:33] &lt;pieterh&gt;   is that recv() returns a freshly allocated block, and send() always frees a block when it&#8217;s done</div>
<div class="line">[Monday 21 March 2011] [07:16:38] &lt;Guthur&gt;    iis/isn&#8217;t</div>
<div class="line">[Monday 21 March 2011] [07:16:55] &lt;sustrik&gt;   you can wrap zmq_sendmsg to do the transformation of zmq_msg_t into alloc&#8217;d buffer</div>
<div class="line">[Monday 21 March 2011] [07:17:36] &lt;pieterh&gt;   sustrik: I do care, but we can (will) make multiple levels of API</div>
<div class="line">[Monday 21 March 2011] [07:17:55] &lt;sustrik&gt;   and what&#8217;s the point of the proposal?</div>
<div class="line">[Monday 21 March 2011] [07:18:00]      * sustrik doesn&#8217;t get it</div>
<div class="line">[Monday 21 March 2011] [07:18:06] &lt;pieterh&gt;   hmm, well,.. :-)</div>
<div class="line">[Monday 21 March 2011] [07:18:12] &lt;pieterh&gt;   zero-copy on read</div>
<div class="line">[Monday 21 March 2011] [07:18:19] &lt;pieterh&gt;   in the simplest possible fashion</div>
<div class="line">[Monday 21 March 2011] [07:18:37] &lt;pieterh&gt;   ok, forget it, POSIX socket API doesn&#8217;t offer this</div>
<div class="line">[Monday 21 March 2011] [07:18:43] &lt;sustrik&gt;   while at the same time sacrificing zero copy in some scenarios</div>
<div class="line">[Monday 21 March 2011] [07:18:50] &lt;sustrik&gt;   zero-copy is a beast</div>
<div class="line">[Monday 21 March 2011] [07:18:54] &lt;pieterh&gt;   as long as you can recv() directly into a user-allocated buffer, you get zero copy</div>
<div class="line">[Monday 21 March 2011] [07:18:55] &lt;sustrik&gt;   no support in POSIX</div>
<div class="line">[Monday 21 March 2011] [07:19:23] &lt;pieterh&gt;   I just want to be able to store message contents without copying them</div>
<div class="line">[Monday 21 March 2011] [07:19:28] &lt;sustrik&gt;   yes, but that makes the messaging lock-step</div>
<div class="line">[Monday 21 March 2011] [07:19:37] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [07:19:44] &lt;pieterh&gt;   only the recv knows how much memory to allocate</div>
<div class="line">[Monday 21 March 2011] [07:19:54] &lt;sustrik&gt;   exactly</div>
<div class="line">[Monday 21 March 2011] [07:20:05] &lt;sustrik&gt;   so think of zmq_msg_t as a buffer</div>
<div class="line">[Monday 21 March 2011] [07:20:06] &lt;pieterh&gt;   or else, as has been discussed, a user-pluggable allocator</div>
<div class="line">[Monday 21 March 2011] [07:20:10] &lt;pieterh&gt;   which is horrid IMO</div>
<div class="line">[Monday 21 March 2011] [07:20:38] &lt;sustrik&gt;   yuck</div>
<div class="line">[Monday 21 March 2011] [07:20:53] &lt;sustrik&gt;   you can use tcmalloc and similar though</div>
<div class="line">[Monday 21 March 2011] [07:21:00] &lt;sustrik&gt;   as they expose alloc/free API</div>
<div class="line">[Monday 21 March 2011] [07:21:07] &lt;pieterh&gt;   they look like malloc/free</div>
<div class="line">[Monday 21 March 2011] [07:21:16] &lt;sustrik&gt;   you just link the library</div>
<div class="line">[Monday 21 March 2011] [07:21:19] &lt;pieterh&gt;   yup</div>
<div class="line">[Monday 21 March 2011] [07:21:22] &lt;sustrik&gt;   and all allocations are redirected</div>
<div class="line">[Monday 21 March 2011] [07:21:33] &lt;pieterh&gt;   anyhow, think about it, if there&#8217;s a way to return a fresh buffer on recv</div>
<div class="line">[Monday 21 March 2011] [07:21:39] &lt;pieterh&gt;   it would be elegant IMO</div>
<div class="line">[Monday 21 March 2011] [07:21:45] &lt;sustrik&gt;   well, zmq_msg_t is a buffer</div>
<div class="line">[Monday 21 March 2011] [07:21:51] &lt;sustrik&gt;   it looks something like this:</div>
<div class="line">[Monday 21 March 2011] [07:21:52] &lt;pieterh&gt;   yeah, but it&#8217;s not a buffer</div>
<div class="line">[Monday 21 March 2011] [07:22:00] &lt;sustrik&gt;   struct zmq_msg_t</div>
<div class="line">[Monday 21 March 2011] [07:22:01] &lt;sustrik&gt;   {</div>
<div class="line">[Monday 21 March 2011] [07:22:03] &lt;sustrik&gt;      void <a href="#id55"><span class="problematic" id="id56">*</span></a>data</div>
<div class="line">[Monday 21 March 2011] [07:22:05] &lt;pieterh&gt;   it&#8217;s a structure that contains a buffer</div>
<div class="line">[Monday 21 March 2011] [07:22:06] &lt;sustrik&gt;      size_t size;</div>
<div class="line">[Monday 21 March 2011] [07:22:15] &lt;sustrik&gt;      free_fn_t free_fn;</div>
<div class="line">[Monday 21 March 2011] [07:22:16] &lt;sustrik&gt;   }</div>
<div class="line">[Monday 21 March 2011] [07:22:16] &lt;sustrik&gt;   ;</div>
<div class="line">[Monday 21 March 2011] [07:22:18] &lt;pieterh&gt;   well...</div>
<div class="line">[Monday 21 March 2011] [07:22:24] &lt;pieterh&gt;   ok, point taken, it does work</div>
<div class="line">[Monday 21 March 2011] [07:22:28] &lt;pieterh&gt;   it&#8217;s a blob descriptor</div>
<div class="line">[Monday 21 March 2011] [07:22:33] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:23:05] &lt;pieterh&gt;   (a) it should be called &#8216;blob_t&#8217; and (b) recv() should return a freshly created blob</div>
<div class="line">[Monday 21 March 2011] [07:23:18] &lt;pieterh&gt;   blob_t <a href="#id57"><span class="problematic" id="id58">*</span></a>blob = zmq_recv (socket)</div>
<div class="line">[Monday 21 March 2011] [07:23:28] &lt;sustrik&gt;   recv has to return int</div>
<div class="line">[Monday 21 March 2011] [07:23:34] &lt;sustrik&gt;   to be POSIX compliant</div>
<div class="line">[Monday 21 March 2011] [07:23:40] &lt;sustrik&gt;   int + errno</div>
<div class="line">[Monday 21 March 2011] [07:23:45] &lt;pieterh&gt;   int rc = zmq_recv (socket, &amp;blob)</div>
<div class="line">[Monday 21 March 2011] [07:23:49] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:23:59] &lt;sustrik&gt;   that&#8217;s how it works now</div>
<div class="line">[Monday 21 March 2011] [07:23:59] &lt;pieterh&gt;   point being, recv creates the buffer</div>
<div class="line">[Monday 21 March 2011] [07:24:02] &lt;sustrik&gt;   except for the name</div>
<div class="line">[Monday 21 March 2011] [07:24:09] &lt;pieterh&gt;   no, now you need this extra init</div>
<div class="line">[Monday 21 March 2011] [07:24:17] &lt;sustrik&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [07:24:17] &lt;pieterh&gt;   rather annoying</div>
<div class="line">[Monday 21 March 2011] [07:24:28] &lt;sustrik&gt;   that&#8217;s to avoid additional malloc</div>
<div class="line">[Monday 21 March 2011] [07:24:38] &lt;pieterh&gt;   optimization</div>
<div class="line">[Monday 21 March 2011] [07:24:39] &lt;sustrik&gt;   so you create blob_t on the stack</div>
<div class="line">[Monday 21 March 2011] [07:24:51] &lt;sustrik&gt;   which is really fast</div>
<div class="line">[Monday 21 March 2011] [07:24:55] &lt;pieterh&gt;   I know you want that but it shouldn&#8217;t be in the simple API</div>
<div class="line">[Monday 21 March 2011] [07:24:58] &lt;sustrik&gt;   instead of putting it on the heap</div>
<div class="line">[Monday 21 March 2011] [07:25:21] &lt;pieterh&gt;   simple API should be just fast enough, and as simple as it can be, and POSIX like</div>
<div class="line">[Monday 21 March 2011] [07:25:23] &lt;pieterh&gt;   IMO</div>
<div class="line">[Monday 21 March 2011] [07:25:24] &lt;sustrik&gt;   in 3.0 the simple API will be POSIX like</div>
<div class="line">[Monday 21 March 2011] [07:25:35] &lt;sustrik&gt;   zmq_send (void*, size_t)</div>
<div class="line">[Monday 21 March 2011] [07:25:45] &lt;sustrik&gt;   zero-copy is never neat</div>
<div class="line">[Monday 21 March 2011] [07:25:53] &lt;sustrik&gt;   it&#8217;s optimisation in itself</div>
<div class="line">[Monday 21 March 2011] [07:26:00] &lt;pieterh&gt;   what&#8217;s the zmq_recv syntax for 3.0...?</div>
<div class="line">[Monday 21 March 2011] [07:26:03] &lt;sustrik&gt;   and one that crosses all levels of stack</div>
<div class="line">[Monday 21 March 2011] [07:26:08] &lt;sustrik&gt;   and makes mess of layering</div>
<div class="line">[Monday 21 March 2011] [07:26:27] &lt;pieterh&gt;   int size = zmq_recv (socket, void <a href="#id59"><span class="problematic" id="id60">*</span></a>)...?</div>
<div class="line">[Monday 21 March 2011] [07:26:28] &lt;sustrik&gt;   zmq_recv (void <a href="#id61"><span class="problematic" id="id62">*</span></a>buf, size_t <a href="#id63"><span class="problematic" id="id64">*</span></a>size, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:26:39] &lt;sustrik&gt;   forgor socket</div>
<div class="line">[Monday 21 March 2011] [07:26:41] &lt;sustrik&gt;   forgot</div>
<div class="line">[Monday 21 March 2011] [07:26:52] &lt;sustrik&gt;   same as POSIX recv()</div>
<div class="line">[Monday 21 March 2011] [07:27:32] &lt;pieterh&gt;   ok, should be &#8216;ssize_t zmq_recv(void <a href="#id65"><span class="problematic" id="id66">*</span></a>socket, void <a href="#id67"><span class="problematic" id="id68">*</span></a>buf, size_t len, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:27:41] &lt;sustrik&gt;   size_t <a href="#id69"><span class="problematic" id="id70">*</span></a>len</div>
<div class="line">[Monday 21 March 2011] [07:27:45] &lt;pieterh&gt;   nope</div>
<div class="line">[Monday 21 March 2011] [07:27:51] &lt;pieterh&gt;   size_t len, maximum size of buffer</div>
<div class="line">[Monday 21 March 2011] [07:27:58] &lt;sustrik&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [07:27:59] &lt;pieterh&gt;   return code is actual size read</div>
<div class="line">[Monday 21 March 2011] [07:28:00] &lt;sustrik&gt;   you are right</div>
<div class="line">[Monday 21 March 2011] [07:28:11] &lt;pieterh&gt;   it&#8217;s hugely annoying because you have to allocate randomly huge buffers</div>
<div class="line">[Monday 21 March 2011] [07:28:25] &lt;pieterh&gt;   and there&#8217;s no way to recover if the buffer was too small</div>
<div class="line">[Monday 21 March 2011] [07:28:37] &lt;pieterh&gt;   conclusion: you <em>cannot</em> use the POSIX socket API 100% for recv</div>
<div class="line">[Monday 21 March 2011] [07:28:38] &lt;sustrik&gt;   EMSGSIZE</div>
<div class="line">[Monday 21 March 2011] [07:28:43] &lt;pieterh&gt;   no way to recover</div>
<div class="line">[Monday 21 March 2011] [07:28:48] &lt;sustrik&gt;   then you can increase the buffer</div>
<div class="line">[Monday 21 March 2011] [07:28:50] &lt;sustrik&gt;   and recv() anew</div>
<div class="line">[Monday 21 March 2011] [07:28:53] &lt;pieterh&gt;   &#8216;please go back and re-read&#8217;?</div>
<div class="line">[Monday 21 March 2011] [07:28:53] &lt;sustrik&gt;   however</div>
<div class="line">[Monday 21 March 2011] [07:28:57] &lt;pieterh&gt;   ugh</div>
<div class="line">[Monday 21 March 2011] [07:29:05] &lt;pieterh&gt;   ugh and ugh</div>
<div class="line">[Monday 21 March 2011] [07:29:15] &lt;sustrik&gt;   in most scenarios you want to put the limit on message size anyway</div>
<div class="line">[Monday 21 March 2011] [07:29:17] &lt;pieterh&gt;   it means putting message lengths into separate frames</div>
<div class="line">[Monday 21 March 2011] [07:29:27] &lt;sustrik&gt;   setsockopt (MAXMSGSIZE, 1000);</div>
<div class="line">[Monday 21 March 2011] [07:29:35] &lt;pieterh&gt;   that&#8217;s orthogonal to this</div>
<div class="line">[Monday 21 March 2011] [07:29:39] &lt;sustrik&gt;   char buff [1000];</div>
<div class="line">[Monday 21 March 2011] [07:29:46] &lt;sustrik&gt;   zmq_recv (buff, 1000);</div>
<div class="line">[Monday 21 March 2011] [07:29:50] &lt;pieterh&gt;   ugh and ugh again</div>
<div class="line">[Monday 21 March 2011] [07:30:03] &lt;pieterh&gt;   I have frames of 8 bytes and frames of 2MB</div>
<div class="line">[Monday 21 March 2011] [07:30:42] &lt;pieterh&gt;   seriously unsatisfactory to not be able to properly allocate the right buffer size for each frame</div>
<div class="line">[Monday 21 March 2011] [07:30:50] &lt;sustrik&gt;   then you need to use more complex API</div>
<div class="line">[Monday 21 March 2011] [07:31:16] &lt;pieterh&gt;   this makes the simple API almost useless IMO</div>
<div class="line">[Monday 21 March 2011] [07:31:21] &lt;pieterh&gt;   nice for send, useless for recv</div>
<div class="line">[Monday 21 March 2011] [07:32:25] &lt;sustrik&gt;   what&#8217;s the alternative then?</div>
<div class="line">[Monday 21 March 2011] [07:32:40] &lt;sustrik&gt;   tha&#8217;ts how UDP works, irrc</div>
<div class="line">[Monday 21 March 2011] [07:32:42] &lt;pieterh&gt;   I don&#8217;t know, but reading into a pre-allocated buffer is inacceptable IMO</div>
<div class="line">[Monday 21 March 2011] [07:32:47] &lt;pieterh&gt;   UDP has maximum frame sizes</div>
<div class="line">[Monday 21 March 2011] [07:32:51] &lt;pieterh&gt;   TCP is a stream</div>
<div class="line">[Monday 21 March 2011] [07:32:54] &lt;sustrik&gt;   ZMQ_MAXMSGSIZE</div>
<div class="line">[Monday 21 March 2011] [07:33:04] &lt;sustrik&gt;   same as MTU</div>
<div class="line">[Monday 21 March 2011] [07:33:07] &lt;pieterh&gt;   0MQ is message-oriented, that means different read/write semantics</div>
<div class="line">[Monday 21 March 2011] [07:33:09] &lt;sustrik&gt;   but on messaging level</div>
<div class="line">[Monday 21 March 2011] [07:33:15] &lt;pieterh&gt;   it&#8217;s not the same thing</div>
<div class="line">[Monday 21 March 2011] [07:33:24] &lt;pieterh&gt;   you have a 64-bit message size</div>
<div class="line">[Monday 21 March 2011] [07:33:48] &lt;sustrik&gt;   well, i think there are 2 distinct use cases here</div>
<div class="line">[Monday 21 March 2011] [07:33:54] &lt;sustrik&gt;   1. something like market data</div>
<div class="line">[Monday 21 March 2011] [07:34:02] &lt;pieterh&gt;   I think it&#8217;s necessary to define semantics that fit messaging</div>
<div class="line">[Monday 21 March 2011] [07:34:03] &lt;sustrik&gt;   you want to limit max size of message</div>
<div class="line">[Monday 21 March 2011] [07:34:10] &lt;pieterh&gt;   not try to make 0MQ look like TCP, it&#8217;s not</div>
<div class="line">[Monday 21 March 2011] [07:34:22] &lt;sustrik&gt;   to prevent someone killing the transmission by pushing 4GB blob</div>
<div class="line">[Monday 21 March 2011] [07:34:30] &lt;pieterh&gt;   this is orthogonal</div>
<div class="line">[Monday 21 March 2011] [07:34:33] &lt;pieterh&gt;   it&#8217;s not the issue</div>
<div class="line">[Monday 21 March 2011] [07:34:37] &lt;sustrik&gt;   in such case zmq_recv() is sufficient</div>
<div class="line">[Monday 21 March 2011] [07:34:46] &lt;pieterh&gt;   I can&#8217;t agree...</div>
<div class="line">[Monday 21 March 2011] [07:34:46] &lt;sustrik&gt;   2. something like FTP</div>
<div class="line">[Monday 21 March 2011] [07:34:52] &lt;pieterh&gt;   let&#8217;s say I want to hold a queue of messages</div>
<div class="line">[Monday 21 March 2011] [07:34:59] &lt;sustrik&gt;   in that case you don&#8217;t know the size in advance</div>
<div class="line">[Monday 21 March 2011] [07:35:00] &lt;pieterh&gt;   might be 1M messages, held for 1 second</div>
<div class="line">[Monday 21 March 2011] [07:35:09] &lt;pieterh&gt;   I have to allocate the maximum frame size for each one</div>
<div class="line">[Monday 21 March 2011] [07:35:15] &lt;pieterh&gt;   this is seriously problematic</div>
<div class="line">[Monday 21 March 2011] [07:35:33] &lt;pieterh&gt;   my alternative is to read everything into a frame buffer and memcpy</div>
<div class="line">[Monday 21 March 2011] [07:35:35] &lt;pieterh&gt;   that is seriously stupid</div>
<div class="line">[Monday 21 March 2011] [07:35:40] &lt;pieterh&gt;   what I want is a recv() that allocates and returns a block</div>
<div class="line">[Monday 21 March 2011] [07:35:43] &lt;pieterh&gt;   that is seriously simple</div>
<div class="line">[Monday 21 March 2011] [07:35:55] &lt;sustrik&gt;   that&#8217;s zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:36:02] &lt;pieterh&gt;   then I will never use recv() because it&#8217;s <em>more</em> complex</div>
<div class="line">[Monday 21 March 2011] [07:36:05] &lt;pieterh&gt;   which is pointless</div>
<div class="line">[Monday 21 March 2011] [07:36:09] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:36:16] &lt;pieterh&gt;   trying to make 0MQ look like TCP is a big mistake IMO</div>
<div class="line">[Monday 21 March 2011] [07:36:20] &lt;Guthur&gt;    frankly from what I&#8217;m reading POSIX recv is just pants</div>
<div class="line">[Monday 21 March 2011] [07:36:31] &lt;pieterh&gt;   it is simply not a file-oriented metaphor, period</div>
<div class="line">[Monday 21 March 2011] [07:36:38] &lt;Guthur&gt;    and modelling it after that is the problem</div>
<div class="line">[Monday 21 March 2011] [07:36:40] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:36:52] &lt;pieterh&gt;   and it won&#8217;t make 0MQ more compatible with the kernel</div>
<div class="line">[Monday 21 March 2011] [07:37:04] &lt;sustrik&gt;   so you want zmq_recvmsg and no zmq_recv, right?</div>
<div class="line">[Monday 21 March 2011] [07:37:07] &lt;pieterh&gt;   the way to get 0MQ into the kernel is to make it utterly compelling</div>
<div class="line">[Monday 21 March 2011] [07:37:12] &lt;pieterh&gt;   so every developer on the planet uses it</div>
<div class="line">[Monday 21 March 2011] [07:37:21] &lt;pieterh&gt;   and you get that by making it utterly simple for simple cases</div>
<div class="line">[Monday 21 March 2011] [07:37:56] &lt;pieterh&gt;   sustrik: what I want, speaking as a 0MQ user, is a recv method (any name) which returns a fresh buffer or blob structure</div>
<div class="line">[Monday 21 March 2011] [07:38:05] &lt;sustrik&gt;   zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:38:07] &lt;sustrik&gt;   that&#8217;s it</div>
<div class="line">[Monday 21 March 2011] [07:38:09] &lt;pieterh&gt;   and a send method that takes the same buffer or blob structure</div>
<div class="line">[Monday 21 March 2011] [07:38:18] &lt;sustrik&gt;   zmq_sendmsg</div>
<div class="line">[Monday 21 March 2011] [07:38:20] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:38:26] &lt;pieterh&gt;   then recv and send are useless</div>
<div class="line">[Monday 21 March 2011] [07:38:27] &lt;sustrik&gt;   it&#8217;s going to be there</div>
<div class="line">[Monday 21 March 2011] [07:38:30] &lt;pieterh&gt;   and won&#8217;t get showtime</div>
<div class="line">[Monday 21 March 2011] [07:38:43] &lt;sustrik&gt;   zmq_send (s, &#8220;ABC&#8221;, 3);</div>
<div class="line">[Monday 21 March 2011] [07:38:48] &lt;sustrik&gt;   what&#8217;s wrong about that?</div>
<div class="line">[Monday 21 March 2011] [07:38:55] &lt;pieterh&gt;   using one API metaphor for sending, another for receiving?</div>
<div class="line">[Monday 21 March 2011] [07:39:14] &lt;sustrik&gt;   char buff [3];</div>
<div class="line">[Monday 21 March 2011] [07:39:23] &lt;sustrik&gt;   zmq_recv (s, buf, 3)</div>
<div class="line">[Monday 21 March 2011] [07:39:35] &lt;pieterh&gt;   yes, and if the sender gives you 4 bytes, your socket is dead</div>
<div class="line">[Monday 21 March 2011] [07:39:38] &lt;sustrik&gt;   the sendmsg and recvmsg will be of course availabler</div>
<div class="line">[Monday 21 March 2011] [07:39:40] &lt;pieterh&gt;   it&#8217;s not defensible</div>
<div class="line">[Monday 21 March 2011] [07:39:46] &lt;sustrik&gt;   it&#8217;s not dead</div>
<div class="line">[Monday 21 March 2011] [07:39:49] &lt;sustrik&gt;   it reports error</div>
<div class="line">[Monday 21 March 2011] [07:39:54] &lt;pieterh&gt;   and the next read...</div>
<div class="line">[Monday 21 March 2011] [07:39:58] &lt;pieterh&gt;   next frame or same frame?</div>
<div class="line">[Monday 21 March 2011] [07:40:07] &lt;sustrik&gt;   i would copy UDP semantics</div>
<div class="line">[Monday 21 March 2011] [07:40:12] &lt;pieterh&gt;   or a special flag to re-read the same frame?</div>
<div class="line">[Monday 21 March 2011] [07:40:13] &lt;sustrik&gt;   but it&#8217;s open to discussion</div>
<div class="line">[Monday 21 March 2011] [07:40:19] &lt;pieterh&gt;   it gets horrid</div>
<div class="line">[Monday 21 March 2011] [07:40:25] &lt;pieterh&gt;   and it&#8217;s not worth it just to get that simple send</div>
<div class="line">[Monday 21 March 2011] [07:40:39] &lt;pieterh&gt;   I can make a &#8216;send string&#8217; method in 10 lines of C, and have done this</div>
<div class="line">[Monday 21 March 2011] [07:40:49] &lt;pieterh&gt;   it&#8217;s not worth upgrading to 3.0 to save 10 lines of C</div>
<div class="line">[Monday 21 March 2011] [07:40:51] &lt;sustrik&gt;   so you want to keep the existing API right?</div>
<div class="line">[Monday 21 March 2011] [07:40:53] &lt;pieterh&gt;   send is really not the issue</div>
<div class="line">[Monday 21 March 2011] [07:41:05] &lt;pieterh&gt;   nope, the existing API is also too complex</div>
<div class="line">[Monday 21 March 2011] [07:41:08] &lt;pieterh&gt;   sorry :-)</div>
<div class="line">[Monday 21 March 2011] [07:41:25] &lt;sustrik&gt;   ok, send your proposal to the mailing list</div>
<div class="line">[Monday 21 March 2011] [07:41:33] &lt;sustrik&gt;   no point in discussing it here</div>
<div class="line">[Monday 21 March 2011] [07:41:36] &lt;pieterh&gt;   well, I have thousands of lines of sample code in the Guide</div>
<div class="line">[Monday 21 March 2011] [07:41:42] &lt;pieterh&gt;   that show what I like as APIs, in C</div>
<div class="line">[Monday 21 March 2011] [07:41:54] &lt;pieterh&gt;   string = s_recv (socket); free (string);</div>
<div class="line">[Monday 21 March 2011] [07:41:54] &lt;sustrik&gt;   using blobs, yes</div>
<div class="line">[Monday 21 March 2011] [07:42:00] &lt;pieterh&gt;   s_send (socket, &#8220;Hello&#8221;);</div>
<div class="line">[Monday 21 March 2011] [07:42:08] &lt;pieterh&gt;   that&#8217;s for strings, it&#8217;s simple and clean</div>
<div class="line">[Monday 21 March 2011] [07:42:11] &lt;sustrik&gt;   that&#8217;s a special case of current 0mq api</div>
<div class="line">[Monday 21 March 2011] [07:42:54] &lt;sustrik&gt;   you can propose changing zmq_msg_t into blob_t</div>
<div class="line">[Monday 21 March 2011] [07:42:54] &lt;pieterh&gt;   anyhow, my advice is to not try to imitate neither TCP nor UDP but develop clear and optimal 0MQ semantics in the API</div>
<div class="line">[Monday 21 March 2011] [07:43:03] &lt;pieterh&gt;   you will get more adoption of your API</div>
<div class="line">[Monday 21 March 2011] [07:43:10] &lt;pieterh&gt;   and that&#8217;s the way to get 0MQ into the kernel</div>
<div class="line">[Monday 21 March 2011] [07:43:18] &lt;sustrik&gt;   sure, go on, propose an alternative</div>
<div class="line">[Monday 21 March 2011] [07:43:23] &lt;pieterh&gt;   slavish imitation of old, semi-accurate APIs won&#8217;t work</div>
<div class="line">[Monday 21 March 2011] [07:43:28] &lt;pieterh&gt;   ok, I&#8217;ll propose an alternative</div>
<div class="line">[Monday 21 March 2011] [07:43:33] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:44:04] &lt;sustrik&gt;   as for kernel it&#8217;s a very different problem so let&#8217;s forget about it atm</div>
<div class="line">[Monday 21 March 2011] [07:44:23] &lt;pieterh&gt;   well, I think the point is that simple / clean gets you market share</div>
<div class="line">[Monday 21 March 2011] [07:44:31] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:44:50] &lt;sustrik&gt;   kernel is different though &#8211; if you propose change to ABI, you&#8217;ll never get in</div>
<div class="line">[Monday 21 March 2011] [07:44:59] &lt;pieterh&gt;   the kernel is just peopl;e</div>
<div class="line">[Monday 21 March 2011] [07:45:02] &lt;pieterh&gt;   <a href="#id71"><span class="problematic" id="id72">*</span></a>people</div>
<div class="line">[Monday 21 March 2011] [07:45:22] &lt;sustrik&gt;   the problem with new ABIs is they have to be maintained indefinitely</div>
<div class="line">[Monday 21 March 2011] [07:45:24] &lt;Guthur&gt;    tis a shame C doesn&#8217;t support method overloading</div>
<div class="line">[Monday 21 March 2011] [07:45:42] &lt;Guthur&gt;    method/function</div>
<div class="line">[Monday 21 March 2011] [07:45:54] &lt;pieterh&gt;   Guthur: well, it&#8217;s nice that you know what a function is, forever</div>
<div class="line">[Monday 21 March 2011] [07:46:08] &lt;pieterh&gt;   sustrik: do you mind if I delete the irrelevant comments on the 3.0 page?</div>
<div class="line">[Monday 21 March 2011] [07:46:21] &lt;sustrik&gt;   which are those?</div>
<div class="line">[Monday 21 March 2011] [07:46:27] &lt;pieterh&gt;   all of them, I guess</div>
<div class="line">[Monday 21 March 2011] [07:46:27] &lt;sustrik&gt;   ah, the comments</div>
<div class="line">[Monday 21 March 2011] [07:46:30] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:46:31] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:46:39] &lt;sustrik&gt;   i haven&#8217;t known it&#8217;s even possible</div>
<div class="line">[Monday 21 March 2011] [07:46:40] &lt;Guthur&gt;    overloading doesn&#8217;t remove that but you can have Send(blob*, size)  Send(zmq_msg) etc</div>
<div class="line">[Monday 21 March 2011] [07:47:11] &lt;Guthur&gt;    anyway not really benefiting the discussing</div>
<div class="line">[Monday 21 March 2011] [07:47:11] &lt;sustrik&gt;   Guthur: that helps with API, but doesn&#8217;t help with ABI</div>
<div class="line">[Monday 21 March 2011] [07:47:27] &lt;sustrik&gt;   from ABI point of view it&#8217;s still 2 functions</div>
<div class="line">[Monday 21 March 2011] [07:48:57] &lt;Guthur&gt;    but this was a discussion about API,</div>
<div class="line">[Monday 21 March 2011] [07:49:03] &lt;Guthur&gt;    i thought</div>
<div class="line">[Monday 21 March 2011] [07:49:23] &lt;sustrik&gt;   mostly, there are some ABI users though</div>
<div class="line">[Monday 21 March 2011] [07:49:29] &lt;sustrik&gt;   namely, clrzmq :)</div>
<div class="line">[Monday 21 March 2011] [07:49:34] &lt;sustrik&gt;   right?</div>
<div class="line">[Monday 21 March 2011] [07:49:58] &lt;mile&gt;      yrashk,</div>
<div class="line">[Monday 21 March 2011] [07:50:07] &lt;Guthur&gt;    well... yeah</div>
<div class="line">[Monday 21 March 2011] [07:57:51] &lt;yrashk&gt;    mile: ?</div>
<div class="line">[Monday 21 March 2011] [07:58:56] &lt;mile&gt;      yrashk, hi, I was just into connecting yaws to erlzmq2, and I&#8217;d need some advice</div>
<div class="line">[Monday 21 March 2011] [07:59:14] &lt;yrashk&gt;    mile: sure</div>
<div class="line">[Monday 21 March 2011] [07:59:44] &lt;mile&gt;      docs says it creates an OS thread per context</div>
<div class="line">[Monday 21 March 2011] [08:00:16] &lt;yrashk&gt;    that&#8217;s right</div>
<div class="line">[Monday 21 March 2011] [08:00:21] &lt;mile&gt;      that means, if I want to serve a large number of connections (parallel), I should make some kind of a router talking to zmq</div>
<div class="line">[Monday 21 March 2011] [08:00:36] &lt;mile&gt;      which then talks to many erlang processes</div>
<div class="line">[Monday 21 March 2011] [08:00:59] &lt;yrashk&gt;    do you plan to open a large open of contexts?</div>
<div class="line">[Monday 21 March 2011] [08:01:16] &lt;pieterh&gt;   sustrik: ok, I&#8217;ve thrown together a very rough API proposal</div>
<div class="line">[Monday 21 March 2011] [08:01:17] &lt;mile&gt;      yes, a web server in the front</div>
<div class="line">[Monday 21 March 2011] [08:01:24] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [08:01:24] &lt;mile&gt;      so, the more, the better :)</div>
<div class="line">[Monday 21 March 2011] [08:01:44] &lt;pieterh&gt;   sustrik: mostly, there is a really nice class-oriented API style we&#8217;ve developed for ZFL</div>
<div class="line">[Monday 21 March 2011] [08:01:49] &lt;Guthur&gt;    pieterh: you sending to the mailing list, or is it on the wiki</div>
<div class="line">[Monday 21 March 2011] [08:01:55] &lt;yrashk&gt;    is there any good reason to open a large # of contexts?</div>
<div class="line">[Monday 21 March 2011] [08:02:02] &lt;mile&gt;      a good example is comet/ajax clients</div>
<div class="line">[Monday 21 March 2011] [08:02:04] &lt;sustrik&gt;   pieterh: can you send that to the ML</div>
<div class="line">[Monday 21 March 2011] [08:02:05] &lt;pieterh&gt;   Guthur: my pattern is to document on the wiki first, then tell the list or IRC about it</div>
<div class="line">[Monday 21 March 2011] [08:02:14] &lt;pieterh&gt;   sending specs / proposals to the ML is an anti-pattern</div>
<div class="line">[Monday 21 March 2011] [08:02:27] &lt;Guthur&gt;    no probs, just eager to have a look</div>
<div class="line">[Monday 21 March 2011] [08:02:33] &lt;mile&gt;      yrashk, no good reason, one would do good, it it takes care of multiplexing</div>
<div class="line">[Monday 21 March 2011] [08:02:36] &lt;sustrik&gt;   nobody is going to notice it</div>
<div class="line">[Monday 21 March 2011] [08:02:47] &lt;yrashk&gt;    mile: our recv does multiplex</div>
<div class="line">[Monday 21 March 2011] [08:03:31] &lt;mile&gt;      yrashk, so a single recv which then talks to a large number of erlang processes should work fine?</div>
<div class="line">[Monday 21 March 2011] [08:03:45] &lt;pieterh&gt;   sustrik: what are the actual goals with the 3.0 API?</div>
<div class="line">[Monday 21 March 2011] [08:04:12] &lt;sustrik&gt;   move towards POSIX</div>
<div class="line">[Monday 21 March 2011] [08:04:36] &lt;pieterh&gt;   simpler API?</div>
<div class="line">[Monday 21 March 2011] [08:04:41] &lt;pieterh&gt;   less lines of code in apps?</div>
<div class="line">[Monday 21 March 2011] [08:04:46] &lt;sustrik&gt;   nope, POSIX-like api</div>
<div class="line">[Monday 21 March 2011] [08:04:50] &lt;pieterh&gt;   that&#8217;s all?</div>
<div class="line">[Monday 21 March 2011] [08:04:55] &lt;sustrik&gt;   for me, yes</div>
<div class="line">[Monday 21 March 2011] [08:04:56] &lt;yrashk&gt;    mile: well, you can spawn multiple recvs on the erlang side for different sockets (even in a single context, but you can do multiple contextrs too) and every context will multiplex (it uses zmq_poll)</div>
<div class="line">[Monday 21 March 2011] [08:05:10] &lt;pieterh&gt;   ok, I&#8217;ll add my goals too, they&#8217;re not in conflict afaics</div>
<div class="line">[Monday 21 March 2011] [08:05:16] &lt;tjgillies&gt; anyone have a pub/sub example for node? i can&#8217;t find one anywhere</div>
<div class="line">[Monday 21 March 2011] [08:05:18] &lt;sustrik&gt;   + removing some obsolete stuff</div>
<div class="line">[Monday 21 March 2011] [08:05:30] &lt;sustrik&gt;   but please use mailing list</div>
<div class="line">[Monday 21 March 2011] [08:05:46] &lt;sustrik&gt;   nobody will see the discussion on the webpage</div>
<div class="line">[Monday 21 March 2011] [08:06:03] &lt;pieterh&gt;   sustrik: like I said, I document on the wiki first, <em>then</em> discuss on the list</div>
<div class="line">[Monday 21 March 2011] [08:06:03] &lt;mile&gt;      yrashk, thanks! :)   do you know of any code snippets around?</div>
<div class="line">[Monday 21 March 2011] [08:06:13] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [08:06:16] &lt;mile&gt;      I couldn&#8217;t find much on the webpage</div>
<div class="line">[Monday 21 March 2011] [08:06:25] &lt;yrashk&gt;    mile: perf/ and test/</div>
<div class="line">[Monday 21 March 2011] [08:06:30] &lt;yrashk&gt;    mile: in the repo</div>
<div class="line">[Monday 21 March 2011] [08:06:30] &lt;sustrik&gt;   but i makes unclear what&#8217;s your proposal</div>
<div class="line">[Monday 21 March 2011] [08:06:31] &lt;mile&gt;      tx :)</div>
<div class="line">[Monday 21 March 2011] [08:06:37] &lt;sustrik&gt;   at least mark it as such</div>
<div class="line">[Monday 21 March 2011] [08:06:44] &lt;pieterh&gt;   sustrik: have you read the page?</div>
<div class="line">[Monday 21 March 2011] [08:06:56] &lt;sustrik&gt;   yep</div>
<div class="line">[Monday 21 March 2011] [08:07:10] &lt;pieterh&gt;   it&#8217;s literally a brain dump, not organized yet</div>
<div class="line">[Monday 21 March 2011] [08:07:12] &lt;yrashk&gt;    mile: yw</div>
<div class="line">[Monday 21 March 2011] [08:07:22] &lt;sustrik&gt;   whatever</div>
<div class="line">[Monday 21 March 2011] [08:07:30] &lt;sustrik&gt;   just move the discussion the mailing list</div>
<div class="line">[Monday 21 March 2011] [08:07:50] &lt;pieterh&gt;   Yes, I&#8217;m in the process of doing that</div>
<div class="line">[Monday 21 March 2011] [08:07:55] &lt;sustrik&gt;   goodo</div>
<div class="line">[Monday 21 March 2011] [08:08:23] &lt;pieterh&gt;   you&#8217;d prefer that my proposal is marked &#8220;proposed by Pieter&#8221; or somesuch?</div>
<div class="line">[Monday 21 March 2011] [08:08:35] &lt;pieterh&gt;   we don&#8217;t generally do this</div>
<div class="line">[Monday 21 March 2011] [08:08:49] &lt;pieterh&gt;   wiki pages = edit into shape and consensus</div>
<div class="line">[Monday 21 March 2011] [08:09:32] &lt;sustrik&gt;   doesn&#8217;t really matter as long as it&#8217;s discussed on the mailing list</div>
<div class="line">[Monday 21 March 2011] [08:09:40] &lt;sustrik&gt;   then it&#8217;s clear who proposed what</div>
<div class="line">[Monday 21 March 2011] [08:13:12] &lt;pieterh&gt;   ok, done</div>
<div class="line">[Monday 21 March 2011] [08:13:19] &lt;Guthur&gt;    will pushing string handling down into 0MQ have any adverse effect on people sending binary blobs</div>
<div class="line">[Monday 21 March 2011] [08:13:29] &lt;pieterh&gt;   Guthur: it&#8217;s two different use cases</div>
<div class="line">[Monday 21 March 2011] [08:13:38] &lt;pieterh&gt;   sending strings is one very common case</div>
<div class="line">[Monday 21 March 2011] [08:13:54] &lt;Guthur&gt;    sure, but binary serialization is quite popular these days</div>
<div class="line">[Monday 21 March 2011] [08:13:58] &lt;pieterh&gt;   it&#8217;s only in C that a string and a blob are fundamentally different</div>
<div class="line">[Monday 21 March 2011] [08:14:03] &lt;Guthur&gt;    protobuffers etc</div>
<div class="line">[Monday 21 March 2011] [08:14:17] &lt;pieterh&gt;   yeah, but this is not stuff you want to learn as a beginner</div>
<div class="line">[Monday 21 March 2011] [08:15:13] &lt;Guthur&gt;    if you are a beginner you probably shouldn&#8217;t be using C</div>
<div class="line">[Monday 21 March 2011] [08:15:21] &lt;Guthur&gt;    you&#8217;re feet can only take so much</div>
<div class="line">[Monday 21 March 2011] [08:15:28] &lt;pieterh&gt;   perhaps it was an error to use C as the language for the Guide</div>
<div class="line">[Monday 21 March 2011] [08:16:32] &lt;Guthur&gt;    pieterh: you have done a good job there though</div>
<div class="line">[Monday 21 March 2011] [08:16:53] &lt;pieterh&gt;   with a lot of help from contributors...</div>
<div class="line">[Monday 21 March 2011] [08:16:59] &lt;Guthur&gt;    I suppose my comment was more programming general as opposed to 0MQ beginners</div>
<div class="line">[Monday 21 March 2011] [08:17:51] &lt;Guthur&gt;    I&#8217;d imagine most of the bindings provide string handling</div>
<div class="line">[Monday 21 March 2011] [08:18:02] &lt;Guthur&gt;    I know i did with clrzmq</div>
<div class="line">[Monday 21 March 2011] [08:18:04] &lt;pieterh&gt;   perhaps we should make a standard C binding... :-)</div>
<div class="line">[Monday 21 March 2011] [08:18:56] &lt;Guthur&gt;    well you did mention multiple levels of the API</div>
<div class="line">[Monday 21 March 2011] [08:20:01] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [08:22:47] &lt;pieterh&gt;   sustrik: if we made a separate C binding, most of my concerns could be solved there</div>
<div class="line">[Monday 21 March 2011] [08:23:25] &lt;sustrik&gt;   you mean like C binding on top of POSIX api</div>
<div class="line">[Monday 21 March 2011] [08:23:28] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [08:23:34] &lt;sustrik&gt;   why not</div>
<div class="line">[Monday 21 March 2011] [08:23:37] &lt;sustrik&gt;   it&#8217;s up to you</div>
<div class="line">[Monday 21 March 2011] [08:23:43] &lt;pieterh&gt;   I have a lovely class-oriented model in ZFL...</div>
<div class="line">[Monday 21 March 2011] [08:23:48] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 21 March 2011] [08:24:13] &lt;pieterh&gt;   this would remove the need for random ad-hoc layers like zmsg and s_recv/s_send</div>
<div class="line">[Monday 21 March 2011] [08:24:22] &lt;pieterh&gt;   ok, I&#8217;ll think it through</div>
<div class="line">[Monday 21 March 2011] [08:24:25] &lt;sustrik&gt;   sure, go for it</div>
<div class="line">[Monday 21 March 2011] [08:24:41] &lt;pieterh&gt;   there&#8217;s stuff like serialization that other bindings offer, right?</div>
<div class="line">[Monday 21 March 2011] [08:24:44] &lt;pieterh&gt;   json, etc.</div>
<div class="line">[Monday 21 March 2011] [08:24:53] &lt;sustrik&gt;   yes, different stuff</div>
<div class="line">[Monday 21 March 2011] [08:24:56] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [08:25:08] &lt;sustrik&gt;   some bindings don&#8217;t even follow the underlying APIs</div>
<div class="line">[Monday 21 March 2011] [08:25:18] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [08:25:34] &lt;sustrik&gt;   and adhere more to paradigm of the language in question</div>
<div class="line">[Monday 21 March 2011] [08:25:39] &lt;sustrik&gt;   like C#</div>
<div class="line">[Monday 21 March 2011] [08:25:51] &lt;sustrik&gt;   Guthur may be more specific on that</div>
<div class="line">[Monday 21 March 2011] [08:26:21] &lt;pieterh&gt;   this means the real API can be as complex as you need to make it</div>
<div class="line">[Monday 21 March 2011] [08:26:40] &lt;pieterh&gt;   hmm, ok, this is a good plan</div>
<div class="line">[Monday 21 March 2011] [08:26:46] &lt;sustrik&gt;   nice</div>
<div class="line">[Monday 21 March 2011] [08:40:05] &lt;Guthur&gt;    yeah. I&#8217;m guilty of deviating somewhat from the underlying API</div>
<div class="line">[Monday 21 March 2011] [08:41:01] &lt;Guthur&gt;    my rational is that to get accepted by a language community such as C# you need to provide adequate abstractions</div>
<div class="line">[Monday 21 March 2011] [08:41:33] &lt;Guthur&gt;    string handling being a prime example</div>
<div class="line">[Monday 21 March 2011] [08:42:09] &lt;Guthur&gt;    they get scared if they see too many byte arrays</div>
<div class="line">[Monday 21 March 2011] [08:43:03] &lt;Guthur&gt;    I&#8217;m not joking there either, when I demonstrated something to my boss that is exactly what he picked up on, he was like &#8216;ugh byte arrays&#8217;</div>
<div class="line">[Monday 21 March 2011] [08:43:25] &lt;Guthur&gt;    I should have hid that better for my demo</div>
<div class="line">[Monday 21 March 2011] [08:45:49] &lt;sustrik&gt;   :)</div>
<div class="line">[Monday 21 March 2011] [09:15:12] &lt;mile&gt;      yrashk, got the forst results</div>
<div class="line">[Monday 21 March 2011] [09:15:22] &lt;mile&gt;      erlang talking to c++</div>
<div class="line">[Monday 21 March 2011] [09:15:41] &lt;mile&gt;      but not very impressive, I guess I have done something wrong</div>
<div class="line">[Monday 21 March 2011] [09:16:03] &lt;mile&gt;      got around 2600 msg/sec</div>
<div class="line">[Monday 21 March 2011] [09:16:28] &lt;mile&gt;      that is, the double of that</div>
<div class="line">[Monday 21 March 2011] [09:16:29] &lt;pieterh&gt;   mile: are you doing request-reply?</div>
<div class="line">[Monday 21 March 2011] [09:16:50] &lt;mile&gt;      yes</div>
<div class="line">[Monday 21 March 2011] [09:17:00] &lt;pieterh&gt;   that&#8217;s pretty normal then</div>
<div class="line">[Monday 21 March 2011] [09:17:27] &lt;pieterh&gt;   round-tripping is slow</div>
<div class="line">[Monday 21 March 2011] [09:17:35] &lt;mile&gt;      ok, thats good in terms I didn&#8217;t screw up :)</div>
<div class="line">[Monday 21 March 2011] [09:17:54] &lt;pieterh&gt;   ah, you may also have screwed up, that&#8217;s not excluded :-)</div>
<div class="line">[Monday 21 March 2011] [09:18:07] &lt;mile&gt;      hehe</div>
<div class="line">[Monday 21 March 2011] [09:18:19] &lt;pieterh&gt;   if you want to measure throughput, try a push/pull or pub/sub test</div>
<div class="line">[Monday 21 March 2011] [09:18:30] &lt;mile&gt;      so, if I get it right, single request/reply are bounded by the roundtrip</div>
<div class="line">[Monday 21 March 2011] [09:18:35] &lt;yrashk&gt;    there are pub/sub perf tests in erlzmq2</div>
<div class="line">[Monday 21 March 2011] [09:18:38] &lt;mile&gt;      but if I had parallel clients</div>
<div class="line">[Monday 21 March 2011] [09:18:38] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [09:18:51] &lt;mile&gt;      that would scale</div>
<div class="line">[Monday 21 March 2011] [09:19:00] &lt;pieterh&gt;   mile: how far in the Guide have you read?</div>
<div class="line">[Monday 21 March 2011] [09:19:28] &lt;mile&gt;      pieterh, good point, I started skipping at some point</div>
<div class="line">[Monday 21 March 2011] [09:19:29] &lt;mile&gt;      :)</div>
<div class="line">[Monday 21 March 2011] [09:19:45] &lt;mile&gt;      I&#8217;ll get back to it</div>
<div class="line">[Monday 21 March 2011] [09:20:06] &lt;pieterh&gt;   it doesn&#8217;t talk about round-tripping until chapter 4</div>
<div class="line">[Monday 21 March 2011] [09:20:21] &lt;pieterh&gt;   but at least you need to know how to scale up req/rep</div>
<div class="line">[Monday 21 March 2011] [09:20:35] &lt;pieterh&gt;   using devices, which we cover in ch2</div>
<div class="line">[Monday 21 March 2011] [09:21:04] &lt;yrashk&gt;    btw pieterh I am considering actually using 0mq for some notification bus here :) still not sure whether I can make this simple enough, though..</div>
<div class="line">[Monday 21 March 2011] [09:21:06] &lt;mile&gt;      that I have read, but I definitely need to read it again :)</div>
<div class="line">[Monday 21 March 2011] [09:21:41] &lt;pieterh&gt;   yrashk: well, let us know if you hit any blocks</div>
<div class="line">[Monday 21 March 2011] [09:21:55] &lt;yrashk&gt;    I already hit one, it looks too complicated for me :D</div>
<div class="line">[Monday 21 March 2011] [09:23:06] &lt;pieterh&gt;   you mean the use case?</div>
<div class="line">[Monday 21 March 2011] [09:23:13] &lt;yrashk&gt;    yeah</div>
<div class="line">[Monday 21 March 2011] [09:23:28] &lt;yrashk&gt;    I am still to come to any kind of real model yet</div>
<div class="line">[Monday 21 March 2011] [09:23:44] &lt;pieterh&gt;   it&#8217;s a new system or you want to reimplement an existing one?</div>
<div class="line">[Monday 21 March 2011] [09:23:54] &lt;yrashk&gt;    but I need to build a cluster-wide notification system where everyone can push a mesasge to a &#8220;topic&#8221; and subscribe to any topic</div>
<div class="line">[Monday 21 March 2011] [09:24:14] &lt;yrashk&gt;    but it&#8217;s multihost and host-failure tolerant.. (well, it should be)</div>
<div class="line">[Monday 21 March 2011] [09:24:18] &lt;pieterh&gt;   read the whaleshark whitepaper yet?</div>
<div class="line">[Monday 21 March 2011] [09:24:27] &lt;yrashk&gt;    briefly</div>
<div class="line">[Monday 21 March 2011] [09:24:28] &lt;pieterh&gt;   that&#8217;s more or less the idea</div>
<div class="line">[Monday 21 March 2011] [09:24:52] &lt;pieterh&gt;   more or less, not exactly</div>
<div class="line">[Monday 21 March 2011] [09:24:59] &lt;pieterh&gt;   but there may be ideas there to help you</div>
<div class="line">[Monday 21 March 2011] [09:25:16] &lt;yrashk&gt;    good idea, thanks</div>
<div class="line">[Monday 21 March 2011] [09:25:32] &lt;pieterh&gt;   depending on the scale you can also make a brokered model</div>
<div class="line">[Monday 21 March 2011] [09:25:43] &lt;pieterh&gt;   e.g. something like AMQP&#8217;s topic exchange</div>
<div class="line">[Monday 21 March 2011] [09:25:55] &lt;yrashk&gt;    I&#8217;d rather avoid amqp</div>
<div class="line">[Monday 21 March 2011] [09:26:04] &lt;pieterh&gt;   no, not AMQP, just some of the semantics</div>
<div class="line">[Monday 21 March 2011] [09:26:13] &lt;yrashk&gt;    I mean</div>
<div class="line">[Monday 21 March 2011] [09:26:16] &lt;pieterh&gt;   I can explain briefly if you like, it&#8217;s very elegant</div>
<div class="line">[Monday 21 March 2011] [09:26:21] &lt;yrashk&gt;    I&#8217;d rather avoid single-broker thing</div>
<div class="line">[Monday 21 March 2011] [09:26:26] &lt;pieterh&gt;   ah, ok, why?</div>
<div class="line">[Monday 21 March 2011] [09:26:47] &lt;pieterh&gt;   &#8216;notification&#8217; doesn&#8217;t immediately suggest high volumes</div>
<div class="line">[Monday 21 March 2011] [09:26:48] &lt;yrashk&gt;    I need to be very tolerant to host failures (any host can go down any time)</div>
<div class="line">[Monday 21 March 2011] [09:26:56] &lt;pieterh&gt;   bleh, this is trivial to address</div>
<div class="line">[Monday 21 March 2011] [09:27:07] &lt;pieterh&gt;   you make live-live redundancy, period</div>
<div class="line">[Monday 21 March 2011] [09:27:24] &lt;pieterh&gt;   especially simple for pubsub models</div>
<div class="line">[Monday 21 March 2011] [09:27:40] &lt;pieterh&gt;   so what&#8217;s the volume?</div>
<div class="line">[Monday 21 March 2011] [09:28:12] &lt;yrashk&gt;    and yeah there no high volumes &#8211; I just want this system to work through any # of hosts, don&#8217;t fail when any host is down and make some messages durable</div>
<div class="line">[Monday 21 March 2011] [09:28:32] &lt;yrashk&gt;    a kind of intra-cluster signalling framework, so to say</div>
<div class="line">[Monday 21 March 2011] [09:28:38] &lt;yrashk&gt;    serverless one, if you wish</div>
<div class="line">[Monday 21 March 2011] [09:28:57] &lt;yrashk&gt;    i.e. each host is equal to any other host in the system</div>
<div class="line">[Monday 21 March 2011] [09:28:57] &lt;pieterh&gt;   ... removing stable points from a network doesn&#8217;t always make it simpler</div>
<div class="line">[Monday 21 March 2011] [09:29:03] &lt;pieterh&gt;   atomic multicast?</div>
<div class="line">[Monday 21 March 2011] [09:29:09] &lt;pieterh&gt;   paxos style?</div>
<div class="line">[Monday 21 March 2011] [09:29:27] &lt;pieterh&gt;   actually I have an Erlang implementation in my pocket somewhere</div>
<div class="line">[Monday 21 March 2011] [09:29:43] &lt;pieterh&gt;   but not using 0MQ</div>
<div class="line">[Monday 21 March 2011] [09:29:54] &lt;yrashk&gt;    I probably don&#8217;t even care about atomicity. Just getting messages delivered to those who want to listen to them, if the host was down, deliver all durable messages there, too</div>
<div class="line">[Monday 21 March 2011] [09:30:41] &lt;yrashk&gt;    and yeah, dynamic node additions and removals, obviously</div>
<div class="line">[Monday 21 March 2011] [09:30:44] &lt;pieterh&gt;   well... IMO you&#8217;re setting the bar too high</div>
<div class="line">[Monday 21 March 2011] [09:30:47] &lt;yrashk&gt;    nothing fancy, in fact</div>
<div class="line">[Monday 21 March 2011] [09:30:55] &lt;pieterh&gt;   yet, too complex to implement... :-)</div>
<div class="line">[Monday 21 March 2011] [09:31:03] &lt;pieterh&gt;   make it simpler, implement that, then improve it</div>
<div class="line">[Monday 21 March 2011] [09:31:03] &lt;yrashk&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [09:31:19] &lt;pieterh&gt;   my suggestion would be to use a broker, and if you need it, a broker pair</div>
<div class="line">[Monday 21 March 2011] [09:31:29] &lt;pieterh&gt;   use a simple topic routing engine, I can provide you a design if needed</div>
<div class="line">[Monday 21 March 2011] [09:31:54] &lt;pieterh&gt;   then, when you have that working, figure out what you really want to make</div>
<div class="line">[Monday 21 March 2011] [09:32:40] &lt;yrashk&gt;    I guess I also need to read about pgm</div>
<div class="line">[Monday 21 March 2011] [09:32:44] &lt;pieterh&gt;   you can relatively easily evolve from a broker-based architecture to a distributed one</div>
<div class="line">[Monday 21 March 2011] [09:32:55] &lt;pieterh&gt;   however, jumping straight to a distributed model is rather hard</div>
<div class="line">[Monday 21 March 2011] [09:33:01] &lt;pieterh&gt;   look at the RRR patterns in Ch4</div>
<div class="line">[Monday 21 March 2011] [09:33:01] &lt;yrashk&gt;    ikr :)</div>
<div class="line">[Monday 21 March 2011] [09:33:08] &lt;pieterh&gt;   the distributed pirate is the very last example</div>
<div class="line">[Monday 21 March 2011] [09:33:49] &lt;pieterh&gt;   pgm is a decent option here but will require network support</div>
<div class="line">[Monday 21 March 2011] [09:34:33] &lt;pieterh&gt;   you could even make this work with a forwarder device, in a very short time</div>
<div class="line">[Monday 21 March 2011] [09:34:36] &lt;pieterh&gt;   hah</div>
<div class="line">[Monday 21 March 2011] [09:34:45] &lt;pieterh&gt;   to cheat...</div>
<div class="line">[Monday 21 March 2011] [09:34:59] &lt;pieterh&gt;   every node connects to the forwarder front-end, and to the forwarder back-end</div>
<div class="line">[Monday 21 March 2011] [09:35:09] &lt;pieterh&gt;   use SUB socket filtering</div>
<div class="line">[Monday 21 March 2011] [09:35:15] &lt;pieterh&gt;   problem solved</div>
<div class="line">[Monday 21 March 2011] [09:35:31] &lt;yrashk&gt;    so a single forwarded device, then?</div>
<div class="line">[Monday 21 March 2011] [09:35:35] &lt;pieterh&gt;   yeah</div>
<div class="line">[Monday 21 March 2011] [09:35:36] &lt;yrashk&gt;    for starters</div>
<div class="line">[Monday 21 March 2011] [09:35:46] &lt;pieterh&gt;   all it does is connect a SUB to a PUB socket</div>
<div class="line">[Monday 21 March 2011] [09:36:16] &lt;pieterh&gt;   it acts like a network-global multicast group</div>
<div class="line">[Monday 21 March 2011] [09:36:26] &lt;yrashk&gt;    yeah I get it</div>
<div class="line">[Monday 21 March 2011] [09:36:41] &lt;pieterh&gt;   it&#8217;ll take you about 1 hour to make, maybe less</div>
<div class="line">[Monday 21 March 2011] [09:36:57] &lt;yrashk&gt;    I can already imagine this, I have some good visual thinking</div>
<div class="line">[Monday 21 March 2011] [09:37:08] &lt;pieterh&gt;   when it works, send $1.50 to my paypal account, thanks</div>
<div class="line">[Monday 21 March 2011] [09:37:16] &lt;yrashk&gt;    hahah</div>
<div class="line">[Monday 21 March 2011] [09:37:21] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [09:37:28] &lt;yrashk&gt;    what&#8217;s the account address? ;))</div>
<div class="line">[Monday 21 March 2011] [09:38:16] &lt;pieterh&gt;   ah, I have it here somewhere...</div>
<div class="line">[Monday 21 March 2011] [09:38:35] &lt;pieterh&gt;   so the downside of this approach is that filtering is subscriber-side</div>
<div class="line">[Monday 21 March 2011] [09:39:04] &lt;pieterh&gt;   and you have a central point, which you can scale to N redundant live-live instances</div>
<div class="line">[Monday 21 March 2011] [09:39:29] &lt;pieterh&gt;   upside is every node except the forwarder is dynamic</div>
<div class="line">[Monday 21 March 2011] [09:40:45] &lt;yrashk&gt;    yeah forwarders are obviously the bottlenecks here</div>
<div class="line">[Monday 21 March 2011] [09:41:12] &lt;pieterh&gt;   it won&#8217;t slow things down unless you&#8217;re doing millions of msg/sec</div>
<div class="line">[Monday 21 March 2011] [09:41:23] &lt;pieterh&gt;   if you need more scale, you switch to a name service approach</div>
<div class="line">[Monday 21 March 2011] [09:41:38] &lt;pieterh&gt;   i.e. every publisher is also a forwarder</div>
<div class="line">[Monday 21 March 2011] [09:41:39] &lt;yrashk&gt;    no I am not expecting huge volumes</div>
<div class="line">[Monday 21 March 2011] [09:41:49] &lt;pieterh&gt;   so, no bottleneck issue</div>
<div class="line">[Monday 21 March 2011] [09:42:01] &lt;pieterh&gt;   simple code doesn&#8217;t crash</div>
<div class="line">[Monday 21 March 2011] [09:42:31] &lt;pieterh&gt;   you probably need to set a HWM properly</div>
<div class="line">[Monday 21 March 2011] [09:43:07] &lt;yrashk&gt;    so what you&#8217;re suggesting is having a forwarder on each and every node, right?</div>
<div class="line">[Monday 21 March 2011] [09:44:00] &lt;pieterh&gt;   no, that&#8217;s only if you need a lot more scale</div>
<div class="line">[Monday 21 March 2011] [09:44:06] &lt;pieterh&gt;   forget that</div>
<div class="line">[Monday 21 March 2011] [09:44:11] &lt;pieterh&gt;   one forwarder in middle of network</div>
<div class="line">[Monday 21 March 2011] [09:44:20] &lt;pieterh&gt;   binds to a SUB frontend, binds to a PUB backend</div>
<div class="line">[Monday 21 March 2011] [09:44:45] &lt;pieterh&gt;   every node connects to those two sockets, one to publish, one to subscribe</div>
<div class="line">[Monday 21 March 2011] [09:44:54] &lt;pieterh&gt;   every node receives every message, and filters using SUB filtering</div>
<div class="line">[Monday 21 March 2011] [09:45:00] &lt;yrashk&gt;    right</div>
<div class="line">[Monday 21 March 2011] [09:45:13] &lt;pieterh&gt;   then, if you need it, you double the forwarders and make live/live redundancy</div>
<div class="line">[Monday 21 March 2011] [09:45:46] &lt;yrashk&gt;    this live-live redundancy, any suggestions on how you would typically do it?</div>
<div class="line">[Monday 21 March 2011] [09:46:00] &lt;yrashk&gt;    is it like doing the same operations on a # of forwarders?</div>
<div class="line">[Monday 21 March 2011] [09:46:05] &lt;pieterh&gt;   you run two forwarders, right?</div>
<div class="line">[Monday 21 March 2011] [09:46:23] &lt;pieterh&gt;   and every node connects its PUB socket to both forwarders, and its SUB socket to both forwarders</div>
<div class="line">[Monday 21 March 2011] [09:46:42] &lt;pieterh&gt;   then you have to identity each message uniquely (sequence number per publisher)</div>
<div class="line">[Monday 21 March 2011] [09:46:42] &lt;yrashk&gt;    yeah then I imagined it right</div>
<div class="line">[Monday 21 March 2011] [09:46:47] &lt;pieterh&gt;   and reject duplicates</div>
<div class="line">[Monday 21 March 2011] [09:46:55] &lt;pieterh&gt;   0MQ handles the fanout and fanin properly</div>
<div class="line">[Monday 21 March 2011] [10:50:45] &lt;mikko-_&gt;   hi</div>
<div class="line">[Monday 21 March 2011] [10:51:05] &lt;mikko-_&gt;   I am not quite clear who should prepare the upstream patch for openpgm changes</div>
<div class="line">[Monday 21 March 2011] [10:57:56] &lt;sustrik&gt;   mikko-_: neither am i</div>
<div class="line">[Monday 21 March 2011] [10:58:12] &lt;sustrik&gt;   presumably, it&#8217;s better to patch the master and downstream it afterwards</div>
<div class="line">[Monday 21 March 2011] [11:12:32] &lt;mikko-_&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [11:41:00] &lt;pieterh&gt;   hi mikko</div>
<div class="line">[Monday 21 March 2011] [11:41:26] &lt;pieterh&gt;   we can&#8217;t do pull requests to multiple gits, which is annoying</div>
<div class="line">[Monday 21 March 2011] [11:42:04] &lt;pieterh&gt;   mikko-_: I&#8217;m happy to send a patch from 2.1 to master</div>
<div class="line">[Monday 21 March 2011] [11:45:13] &lt;sustrik&gt;   pieterh: if you do so, take care to separate the openpgm thing from other functionality</div>
<div class="line">[Monday 21 March 2011] [11:45:32] &lt;pieterh&gt;   sustrik: yes, it&#8217;s a single commit, the only grey part is that I tend to update the NEWS at the same time</div>
<div class="line">[Monday 21 March 2011] [11:45:41] &lt;pieterh&gt;   I&#8217;m going to start doing that in a separate commit</div>
<div class="line">[Monday 21 March 2011] [11:45:46] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 21 March 2011] [11:46:24] &lt;pieterh&gt;   I&#8217;ll send you the patch for OpenPGM then, offlist since it&#8217;s rather huge</div>
<div class="line">[Monday 21 March 2011] [11:47:01] &lt;sustrik&gt;   ok, also don&#8217;t forget to sign it off</div>
<div class="line">[Monday 21 March 2011] [11:47:07] &lt;pieterh&gt;   right</div>
<div class="line">[Monday 21 March 2011] [11:48:41] &lt;pieterh&gt;   OK, sent...</div>
<div class="line">[Monday 21 March 2011] [11:49:19] &lt;pieterh&gt;   there&#8217;s a better way to do this kind of exchange</div>
<div class="line">[Monday 21 March 2011] [11:49:42] &lt;pieterh&gt;   but I keep forgetting the ins and outs of git... :-)</div>
<div class="line">[Monday 21 March 2011] [12:08:14] &lt;pieterh&gt;   sustrik: I&#8217;m not going to scream on the list, but I&#8217;m using PAIR quite systematically now</div>
<div class="line">[Monday 21 March 2011] [12:23:39] &lt;pieterh&gt;   ok, I screamt</div>
<div class="line">[Monday 21 March 2011] [12:52:02] &lt;<a href="#id89"><span class="problematic" id="id131">Aaron__</span></a>&gt;   So I&#8217;m trying to build zeromq and have it link against a static uuid library. I&#8217;m not very good with configure scripts, and I don&#8217;t see a parameter to tell configure where the static library and headers are. Can anyone help?</div>
<div class="line">[Monday 21 March 2011] [12:53:53] &lt;pieterh&gt;   <a href="#id89"><span class="problematic" id="id132">Aaron__</span></a>: what OS are you on?</div>
<div class="line">[Monday 21 March 2011] [12:54:05] &lt;pieterh&gt;   and what language are you working in?</div>
<div class="line">[Monday 21 March 2011] [12:54:18] &lt;<a href="#id89"><span class="problematic" id="id133">Aaron__</span></a>&gt;   Just Ubuntu.</div>
<div class="line">[Monday 21 March 2011] [12:54:28] &lt;<a href="#id89"><span class="problematic" id="id134">Aaron__</span></a>&gt;   c++</div>
<div class="line">[Monday 21 March 2011] [12:55:03] &lt;pieterh&gt;   hang on, I&#8217;ll get you the gcc syntax...</div>
<div class="line">[Monday 21 March 2011] [12:55:40] &lt;<a href="#id89"><span class="problematic" id="id135">Aaron__</span></a>&gt;   gcc? Don&#8217;t I need to satisfy the configure check?</div>
<div class="line">[Monday 21 March 2011] [12:55:44] &lt;<a href="#id89"><span class="problematic" id="id136">Aaron__</span></a>&gt;   first</div>
<div class="line">[Monday 21 March 2011] [12:56:02] &lt;pieterh&gt;   you are building an application right?</div>
<div class="line">[Monday 21 March 2011] [12:56:09] &lt;pieterh&gt;   or building zmq?</div>
<div class="line">[Monday 21 March 2011] [12:56:26] &lt;pieterh&gt;   ah, it doesn&#8217;t link against anything when you build it</div>
<div class="line">[Monday 21 March 2011] [12:56:31] &lt;<a href="#id89"><span class="problematic" id="id137">Aaron__</span></a>&gt;   Well, it&#8217;s a little complicated, but right now I&#8217;m just trying to build zeromq.</div>
<div class="line">[Monday 21 March 2011] [12:56:41] &lt;pieterh&gt;   please use the 2.1 package released today</div>
<div class="line">[Monday 21 March 2011] [12:56:47] &lt;<a href="#id89"><span class="problematic" id="id138">Aaron__</span></a>&gt;   I am.</div>
<div class="line">[Monday 21 March 2011] [12:56:57] &lt;pieterh&gt;   ok, good</div>
<div class="line">[Monday 21 March 2011] [12:57:10] &lt;<a href="#id89"><span class="problematic" id="id139">Aaron__</span></a>&gt;   It builds fine if I use the uuid-dev package.</div>
<div class="line">[Monday 21 March 2011] [12:57:17] &lt;pieterh&gt;   right, which is what you want</div>
<div class="line">[Monday 21 March 2011] [12:57:35] &lt;<a href="#id89"><span class="problematic" id="id140">Aaron__</span></a>&gt;   But that creates a dependance on libuuid.so.</div>
<div class="line">[Monday 21 March 2011] [12:57:39] &lt;<a href="#id89"><span class="problematic" id="id141">Aaron__</span></a>&gt;   Which I don&#8217;t want.</div>
<div class="line">[Monday 21 March 2011] [12:57:46] &lt;Seta00&gt;    <a href="#id89"><span class="problematic" id="id142">Aaron__</span></a>: should be something like &#8211;with-uuid=/path/to/your/custom/build</div>
<div class="line">[Monday 21 March 2011] [12:57:52] &lt;<a href="#id89"><span class="problematic" id="id143">Aaron__</span></a>&gt;   I have uuid built statically...</div>
<div class="line">[Monday 21 March 2011] [12:58:05] &lt;<a href="#id89"><span class="problematic" id="id144">Aaron__</span></a>&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [12:58:28] &lt;pieterh&gt;   <a href="#id89"><span class="problematic" id="id145">Aaron__</span></a>: when you find out how to do this, add it to the tips page at <a class="reference external" href="http://zero.mq/tips">http://zero.mq/tips</a></div>
<div class="line">[Monday 21 March 2011] [13:00:43] &lt;<a href="#id89"><span class="problematic" id="id146">Aaron__</span></a>&gt;   I tried &#8211;with-uuid=/path/to/uuid/install/folder but got nothing.</div>
<div class="line">[Monday 21 March 2011] [13:01:00] &lt;<a href="#id89"><span class="problematic" id="id147">Aaron__</span></a>&gt;   Just the same &#8220;configure: error: cannot link with -luuid, install uuid-dev.&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:02:12] &lt;<a href="#id89"><span class="problematic" id="id148">Aaron__</span></a>&gt;   I tried a few different directories, /path/to/uuid/install/folder, /path/to/uuid/install/folder/lib, /path/to/uuid/install/folder/include, /path/to/uuid/install/folder/bin, but nothing did anything different.</div>
<div class="line">[Monday 21 March 2011] [13:02:37] &lt;<a href="#id89"><span class="problematic" id="id149">Aaron__</span></a>&gt;   Does the configure script actually support that argument?</div>
<div class="line">[Monday 21 March 2011] [13:02:49] &lt;pieterh&gt;   <a href="#id89"><span class="problematic" id="id150">Aaron__</span></a>: from reading configure, it&#8217;s looking for, and not finding &#8216;uuid_generate&#8217; in -luuid</div>
<div class="line">[Monday 21 March 2011] [13:03:29] &lt;<a href="#id89"><span class="problematic" id="id151">Aaron__</span></a>&gt;   Hmm, I guess I could double check my uuid.</div>
<div class="line">[Monday 21 March 2011] [13:05:32] &lt;pieterh&gt;   The rule in configure.in is pretty clear:</div>
<div class="line">[Monday 21 March 2011] [13:05:33] &lt;pieterh&gt;   AC_CHECK_LIB(uuid, uuid_generate, ,</div>
<div class="line">[Monday 21 March 2011] [13:05:33] &lt;pieterh&gt;               [AC_MSG_ERROR([cannot link with -luuid, install uuid-dev.])])</div>
<div class="line">[Monday 21 March 2011] [13:06:55] &lt;<a href="#id89"><span class="problematic" id="id152">Aaron__</span></a>&gt;   Yeah, my uuid library does have a uuid_generate,</div>
<div class="line">[Monday 21 March 2011] [13:07:00] &lt;<a href="#id89"><span class="problematic" id="id153">Aaron__</span></a>&gt;   Sorry about that.</div>
<div class="line">[Monday 21 March 2011] [13:07:07] &lt;<a href="#id89"><span class="problematic" id="id154">Aaron__</span></a>&gt;   Barking up the wrong tree.</div>
<div class="line">[Monday 21 March 2011] [13:07:40] &lt;<a href="#id89"><span class="problematic" id="id155">Aaron__</span></a>&gt;   Thanks for the &#8211;with-uuid argument though.</div>
<div class="line">[Monday 21 March 2011] [13:08:07] &lt;<a href="#id89"><span class="problematic" id="id156">Aaron__</span></a>&gt;   I meant &#8220;doesn&#8217;t have uuid_generate&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:10:50] &lt;pieterh&gt;   ok, problem solved...</div>
<div class="line">[Monday 21 March 2011] [13:14:58] &lt;Seta00&gt;    :)</div>
<div class="line">[Monday 21 March 2011] [13:16:28] &lt;<a href="#id89"><span class="problematic" id="id157">Aaron__</span></a>&gt;   Apparantly there is more than one uuid library out there, sigh.</div>
<div class="line">[Monday 21 March 2011] [13:17:09] &lt;<a href="#id89"><span class="problematic" id="id158">Aaron__</span></a>&gt;   I thought it was the same one Postgresql was using.</div>
<div class="line">[Monday 21 March 2011] [13:17:31] &lt;mikko-_&gt;   <a href="#id89"><span class="problematic" id="id159">Aaron__</span></a>: are you building zeromq shared or static?</div>
<div class="line">[Monday 21 March 2011] [13:17:45] &lt;<a href="#id89"><span class="problematic" id="id160">Aaron__</span></a>&gt;   I want zeromq to be static too.</div>
<div class="line">[Monday 21 March 2011] [13:17:59] &lt;mikko-_&gt;   ./configure &#8211;disable-shared</div>
<div class="line">[Monday 21 March 2011] [13:18:17] &lt;<a href="#id89"><span class="problematic" id="id161">Aaron__</span></a>&gt;   Yeah, I&#8217;ll pop that on too.</div>
<div class="line">[Monday 21 March 2011] [13:18:26] &lt;mikko-_&gt;   as far as i understand if zeromq is static then libuuid would be as well</div>
<div class="line">[Monday 21 March 2011] [13:18:32] &lt;<a href="#id89"><span class="problematic" id="id162">Aaron__</span></a>&gt;   Ah</div>
<div class="line">[Monday 21 March 2011] [13:18:42] &lt;<a href="#id89"><span class="problematic" id="id163">Aaron__</span></a>&gt;   Well, I need to get the right uuid as the first step.</div>
<div class="line">[Monday 21 March 2011] [13:18:58] &lt;mikko-_&gt;   you should be able to use one provided by your OS</div>
<div class="line">[Monday 21 March 2011] [13:19:02] &lt;mikko-_&gt;   usually they ship .a as well</div>
<div class="line">[Monday 21 March 2011] [13:19:32] &lt;<a href="#id89"><span class="problematic" id="id164">Aaron__</span></a>&gt;   Yeah, I&#8217;m working on it as we speak.</div>
<div class="line">[Monday 21 March 2011] [13:20:32] &lt;mikko-_&gt;   on rhel its usually efsprogs and on ubuntu/debian etc uuid-dev</div>
<div class="line">[Monday 21 March 2011] [13:20:41] &lt;mikko-_&gt;   not sure about others</div>
<div class="line">[Monday 21 March 2011] [13:21:07] &lt;mikko-_&gt;   uuid libs are confusing as there are multiple of them</div>
<div class="line">[Monday 21 March 2011] [13:21:10] &lt;mikko-_&gt;   and they are not compatible</div>
<div class="line">[Monday 21 March 2011] [13:24:22] &lt;<a href="#id89"><span class="problematic" id="id165">Aaron__</span></a>&gt;   Yeah, I was certainly confused.</div>
<div class="line">[Monday 21 March 2011] [13:37:44] &lt;drbobbeaty&gt;        Question about the 2.1.3 packaging... with the change from 2.1.2 to 2.1.3, I now see that I&#8217;m generating a libpgm.so - but I&#8217;m not seeing it as an &#8216;ldd&#8217; dependency of libzmq.so - is this right?</div>
<div class="line">[Monday 21 March 2011] [13:38:23] &lt;drbobbeaty&gt;        I used &#8216;&#8211;with-pgm&#8217; in the build, and I see it unpacking the OpenPGM code, and the libpgm.so is generated, but I&#8217;m having trouble running my code that worked fine with 2.1.2.</div>
<div class="line">[Monday 21 March 2011] [13:38:32] &lt;<a href="#id89"><span class="problematic" id="id166">Aaron__</span></a>&gt;   Well, &#8220;nm &#8211;demangle&#8221; tells me I have uuid_generate (0000000000000ee0 T uuid_generate). I&#8217;m running configure like so, &#8221;../configure &#8211;with-pic &#8211;prefix=/root/zeromq_install/ &#8211;enable-static &#8211;disable-shared &#8211;without-documentation &#8211;with-uuid=/path/to/uuid/install/dir/ &#8221;. And I still get &#8220;configure: error: cannot link with -luuid, install uuid-dev.&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:39:21] &lt;drbobbeaty&gt;        I have tried linking with &#8216;-lzmq -lpgm&#8217; and still it&#8217;s not even starting to execute - it&#8217;s as if I&#8217;m missing a critical step.</div>
<div class="line">[Monday 21 March 2011] [13:39:26] &lt;drbobbeaty&gt;        Anyone run into this?</div>
<div class="line">[Monday 21 March 2011] [13:39:30] &lt;drbobbeaty&gt;        Pieter?</div>
<div class="line">[Monday 21 March 2011] [13:39:35] &lt;pieterh&gt;   drbobbeaty: this is indeed a new part of 2.1.3</div>
<div class="line">[Monday 21 March 2011] [13:40:38] &lt;pieterh&gt;   it&#8217;s quite possible that the OpenPGM integration doesn&#8217;t work properly yet :-/</div>
<div class="line">[Monday 21 March 2011] [13:40:43] &lt;drbobbeaty&gt;        I&#8217;m OK with it being new, but code that ran fine with 2.1.2 is core dumping on main() in 2.1.3 - like I&#8217;m missing a linking step or something. Is there something I&#8217;m missing OTHER than the inclusion of &#8216;-lpgm&#8217; in the linking step?</div>
<div class="line">[Monday 21 March 2011] [13:41:10] &lt;pieterh&gt;   drbobbeaty: mikko is the man to answer this</div>
<div class="line">[Monday 21 March 2011] [13:41:15] &lt;drbobbeaty&gt;        That would be sad for a &#8216;stable&#8217; tag.</div>
<div class="line">[Monday 21 March 2011] [13:41:15] &lt;pieterh&gt;   summon mikko...</div>
<div class="line">[Monday 21 March 2011] [13:41:45] &lt;pieterh&gt;   drbobbeaty: a bit, yes, but if there&#8217;s a problem we&#8217;ll fix it immediately</div>
<div class="line">[Monday 21 March 2011] [13:42:28] &lt;pieterh&gt;   mikko: are you around?</div>
<div class="line">[Monday 21 March 2011] [13:43:21] &lt;pieterh&gt;   drbobbeaty: can you post a minimal test case that causes it to die? I&#8217;ll reproduce it</div>
<div class="line">[Monday 21 March 2011] [13:43:41] &lt;drbobbeaty&gt;        peiterh: Sure, give me a sec.</div>
<div class="line">[Monday 21 March 2011] [13:43:45] &lt;pieterh&gt;   k</div>
<div class="line">[Monday 21 March 2011] [14:01:17] &lt;drbobbeaty&gt;        pieterh: is there a list of what&#8217;s changed from 2.1.2 to 2.1.3 - I&#8217;m having a tough time makeing the &#8220;minimal test&#8221; as my simple tests are OK, but the biggies that fail are awfully complex. Too complex for a test case, really.</div>
<div class="line">[Monday 21 March 2011] [14:01:34] &lt;drbobbeaty&gt;        If I knew what changed, maybe it&#8217;d help me find the issue in my code.</div>
<div class="line">[Monday 21 March 2011] [14:15:17] &lt;cremes&gt;    i&#8217;m starting to see a new assertion that i haven&#8217;t run into before</div>
<div class="line">[Monday 21 March 2011] [14:15:18] &lt;cremes&gt;    Assertion failed: sessions.empty () (socket_base.cpp:127)</div>
<div class="line">[Monday 21 March 2011] [14:15:35] &lt;cremes&gt;    my code hasn&#8217;t changed but i did update to the latest master</div>
<div class="line">[Monday 21 March 2011] [14:15:54] &lt;cremes&gt;    has anyone else seen this?</div>
<div class="line">[Monday 21 March 2011] [14:21:11] &lt;drbobbeaty&gt;        cremes: not me, but I&#8217;m seeing other problems with 2.1.3 that I wasn&#8217;t seeing in 2.1.2</div>
<div class="line">[Monday 21 March 2011] [14:21:27] &lt;cremes&gt;    drbobbeaty: what problems are you seeing?</div>
<div class="line">[Monday 21 March 2011] [14:23:24] &lt;drbobbeaty&gt;        cremes: I&#8217;m tracking down an immediate app core dump when using the new 2.1.3 - It&#8217;s not easily reproducable in a small app, but it&#8217;s 100% reproduceable in my larger app. I&#8217;m trying to trim it down to get a good test case, but it&#8217;s proving to be hard based on the immediate nature of the core dump.</div>
<div class="line">[Monday 21 March 2011] [14:23:44] &lt;drbobbeaty&gt;        The small test case runs fine. But the bigger one is nasty.</div>
<div class="line">[Monday 21 March 2011] [14:24:41] &lt;cremes&gt;    drbobbeaty: if you catch the crash in gdb, where is it crashing inside 0mq?</div>
<div class="line">[Monday 21 March 2011] [14:25:37] &lt;drbobbeaty&gt;        Nope, it&#8217;s crashing on main() - the very first executable line. But if I comment out the calls to 0MQ, it runs just fine.</div>
<div class="line">[Monday 21 March 2011] [14:26:00] &lt;drbobbeaty&gt;        It&#8217;s the invocation of the ZMQ calls in some way that&#8217;s causing it to core dump - I just haven&#8217;t figured out what.</div>
<div class="line">[Monday 21 March 2011] [14:26:19] &lt;cremes&gt;    that is quite... odd :)</div>
<div class="line">[Monday 21 March 2011] [14:26:20] &lt;drbobbeaty&gt;        If I had a nice stack trace, I&#8217;d be able to figure this out easily. But I don&#8217;t.</div>
<div class="line">[Monday 21 March 2011] [14:26:49] &lt;pieterh&gt;   drbobbeaty: are you using pgm in all your cases?</div>
<div class="line">[Monday 21 March 2011] [14:28:08] &lt;pieterh&gt;   cremes: this is from the development master?</div>
<div class="line">[Monday 21 March 2011] [14:28:17] &lt;cremes&gt;    pieterh: correct</div>
<div class="line">[Monday 21 March 2011] [14:28:31] &lt;pieterh&gt;   can you try with the 2.1 release and see if you also get it?</div>
<div class="line">[Monday 21 March 2011] [14:28:32] &lt;cremes&gt;    i am trying to &#8216;bisect&#8217; it now to see if i can narrow down the commit that broke it</div>
<div class="line">[Monday 21 March 2011] [14:28:41] &lt;cremes&gt;    sure, i can do that</div>
<div class="line">[Monday 21 March 2011] [14:29:30] &lt;drbobbeaty&gt;        pieterh: Yup, pgm is what I use - 100% of the time.</div>
<div class="line">[Monday 21 March 2011] [14:29:36] &lt;drbobbeaty&gt;        I&#8217;m getting closer... :)</div>
<div class="line">[Monday 21 March 2011] [14:29:49] &lt;pieterh&gt;   drbobbeaty: ok, so presumably there&#8217;s a load library issue</div>
<div class="line">[Monday 21 March 2011] [14:30:02] &lt;pieterh&gt;   the other changes over 2.1.2 are all quite specific patches for core bugs</div>
<div class="line">[Monday 21 March 2011] [14:32:26] &lt;drbobbeaty&gt;        pieterh: I&#8217;m in the configuration code of my app - setting the <a href="#id1482"><span class="problematic" id="id1483">ZMQ_</span></a> properties of the socket. It <em>appears</em> I&#8217;m getting close.</div>
<div class="line">[Monday 21 March 2011] [14:33:00] &lt;pieterh&gt;   drbobbeaty: presumably a load error on the openpgm library</div>
<div class="line">[Monday 21 March 2011] [14:33:59] &lt;drbobbeaty&gt;        In my simple test ( <a class="reference external" href="https://gist.github.com/635015">https://gist.github.com/635015</a> ) I&#8217;m now seeing the following error:</div>
<div class="line">[Monday 21 March 2011] [14:34:20] &lt;drbobbeaty&gt;        Assertion failed: rc == 0 (connect_session.cpp:84)</div>
<div class="line">[Monday 21 March 2011] [14:34:44] &lt;drbobbeaty&gt;        Double-checking to see if I messed up the test.</div>
<div class="line">[Monday 21 March 2011] [14:38:47] &lt;drbobbeaty&gt;        pieterh: triple-checked... if I compile this as &#8216;g++ xmit.cpp -o xmit -lzmq&#8217; I get the error.</div>
<div class="line">[Monday 21 March 2011] [14:38:59] &lt;drbobbeaty&gt;        If I add in the &#8216;-lpgm&#8217; at the end I still get the error.</div>
<div class="line">[Monday 21 March 2011] [14:39:09] &lt;pieterh&gt;   ok, let me give it a shot</div>
<div class="line">[Monday 21 March 2011] [14:39:20] &lt;drbobbeaty&gt;        If I switch the order so it reads: &#8216;-lpgm -lzmq&#8217; I still get the error.</div>
<div class="line">[Monday 21 March 2011] [14:42:38] &lt;pieterh&gt;   drbobbeaty: I get a clean error message &#8216;Protocol not supported&#8217; and then a core dump</div>
<div class="line">[Monday 21 March 2011] [14:42:49] &lt;pieterh&gt;   this is 0MQ 2.1.3 built without OpenPGM</div>
<div class="line">[Monday 21 March 2011] [14:43:50] &lt;drbobbeaty&gt;        pieterh: not surprising... I&#8217;m using OpenPGM in the example. You need to build it &#8211;with-pgm and then try it.</div>
<div class="line">[Monday 21 March 2011] [14:44:16] &lt;drbobbeaty&gt;        pieterh: I&#8217;ve tried two boxes - Ubuntu 10.04.1 and CentOS 5 and both have the same error when using 2.1.3 w/OpenPGM</div>
<div class="line">[Monday 21 March 2011] [14:44:31] &lt;pieterh&gt;   drbobbeaty: would you raise an issue at <a class="reference external" href="https://github.com/zeromq/zeromq2-1/issues">https://github.com/zeromq/zeromq2-1/issues</a> and put a link to your example?</div>
<div class="line">[Monday 21 March 2011] [14:44:33] &lt;drbobbeaty&gt;        (same gist used on both machines)</div>
<div class="line">[Monday 21 March 2011] [14:45:01] &lt;drbobbeaty&gt;        I&#8217;ve never done that. I&#8217;ll try. I&#8217;ll be as complete as I can be.</div>
<div class="line">[Monday 21 March 2011] [14:45:26] &lt;pieterh&gt;   interesting... when I build 2.1.3 with pgm, the test program says &#8216;sending...&#8217; in a loop</div>
<div class="line">[Monday 21 March 2011] [14:45:30] &lt;pieterh&gt;   it doesn&#8217;t crash</div>
<div class="line">[Monday 21 March 2011] [14:45:45] &lt;drbobbeaty&gt;        Ha... I saw that once, but then when I tried it again, it failed.</div>
<div class="line">[Monday 21 March 2011] [14:45:59] &lt;pieterh&gt;   ok, will try a few times... this is Ubuntu 10.10 fwiw</div>
<div class="line">[Monday 21 March 2011] [14:46:04] &lt;drbobbeaty&gt;        The correct behavior is to see the &#8220;sending...&#8221; in a loop. (until a Ctrl-C)</div>
<div class="line">[Monday 21 March 2011] [14:46:20] &lt;pieterh&gt;   yes, that&#8217;s what I get</div>
<div class="line">[Monday 21 March 2011] [14:46:25] &lt;pieterh&gt;   doing a naive build</div>
<div class="line">[Monday 21 March 2011] [14:46:46] &lt;pieterh&gt;   so... I&#8217;m suspecting you have a conflict between versions of OpenPGM on your systems</div>
<div class="line">[Monday 21 March 2011] [14:47:10] &lt;pieterh&gt;   or some such mix caused by the upgrade of the OpenPGM version in this package</div>
<div class="line">[Monday 21 March 2011] [14:48:09] &lt;pieterh&gt;   drbobbeaty: have you enabled core dumps (&#8216;ulimit unlimited&#8217;)?</div>
<div class="line">[Monday 21 March 2011] [14:48:09] &lt;drbobbeaty&gt;        Yeah, I&#8217;m going to check on that now. Thanks for showing that it might be me.</div>
<div class="line">[Monday 21 March 2011] [14:48:26] &lt;pieterh&gt;   when you get an assertion failure, you need to get the backtrace</div>
<div class="line">[Monday 21 March 2011] [14:52:19] &lt;drbobbeaty&gt;        pieterh: got the backtrace.</div>
<div class="line">[Monday 21 March 2011] [14:52:45] &lt;drbobbeaty&gt;        I&#8217;ll include it if I can&#8217;t clean up the problem with a drop and load of all the ZMQ libraries on the box.</div>
<div class="line">[Monday 21 March 2011] [14:52:49] &lt;pieterh&gt;   cool... actually, you can log the issue in the development git, <a class="reference external" href="https://github.com/zeromq/zeromq2">https://github.com/zeromq/zeromq2</a>, it&#8217;ll be the same</div>
<div class="line">[Monday 21 March 2011] [14:53:04] &lt;pieterh&gt;   please, do log the assertion and backtrace, it may be useful info</div>
<div class="line">[Monday 21 March 2011] [14:56:51] &lt;sustrik&gt;   yuck, the change should have gone to master first</div>
<div class="line">[Monday 21 March 2011] [15:01:59] &lt;pieterh&gt;   sustrik: no-one would have tested it there, and it&#8217;s not clear that it&#8217;s caused by a code change</div>
<div class="line">[Monday 21 March 2011] [15:03:17] &lt;pieterh&gt;   I&#8217;d rather see valuable code delivered fast, and fixed fast, than held back...</div>
<div class="line">[Monday 21 March 2011] [15:04:52] &lt;cremes&gt;    after using git-bisect, it tells me that this is the first bad commit</div>
<div class="line">[Monday 21 March 2011] [15:04:53] &lt;cremes&gt;    32ded2b457b2102dba4c15e00363f031d212b1c4</div>
<div class="line">[Monday 21 March 2011] [15:05:01] &lt;cremes&gt;    Duplicate identities now checked with zmq_connect</div>
<div class="line">[Monday 21 March 2011] [15:05:19] &lt;cremes&gt;    this commit touched quite a bit of code too</div>
<div class="line">[Monday 21 March 2011] [15:05:42] &lt;cremes&gt;    pieterh: want me to open an issue against master?</div>
<div class="line">[Monday 21 March 2011] [15:05:47] &lt;pieterh&gt;   cremes: yes, please</div>
<div class="line">[Monday 21 March 2011] [15:05:49] &lt;cremes&gt;    i don&#8217;t have a small repro</div>
<div class="line">[Monday 21 March 2011] [15:06:00] &lt;pieterh&gt;   it&#8217;ll be the same issue in master and in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [15:06:10] &lt;sustrik&gt;   how come it is in stable?</div>
<div class="line">[Monday 21 March 2011] [15:06:16] &lt;sustrik&gt;   it&#8217;s an untested patch</div>
<div class="line">[Monday 21 March 2011] [15:06:23] &lt;pieterh&gt;   sustrik: because we apply all patches to stable automatically</div>
<div class="line">[Monday 21 March 2011] [15:06:31] &lt;pieterh&gt;   there is no other process for defining what&#8217;s &#8220;tested&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:06:47] &lt;pieterh&gt;   no other way except real use, since we lack comprehensive test coverage</div>
<div class="line">[Monday 21 March 2011] [15:07:18] &lt;sustrik&gt;   mail from March 16th: &#8220;This patch solves issue 176. However, it was not yet tested thoroughly so it should be applied to stable later on, when it&#8217;s clear it doesn&#8217;t introduce new bugs.&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:07:32] &lt;pieterh&gt;   ah, then that is not in stable</div>
<div class="line">[Monday 21 March 2011] [15:07:42] &lt;pieterh&gt;   cremes is testing against development master</div>
<div class="line">[Monday 21 March 2011] [15:07:59] &lt;sustrik&gt;   ok, good</div>
<div class="line">[Monday 21 March 2011] [15:08:00] &lt;pieterh&gt;   if you tell me to hold back a patch I do so, of course</div>
<div class="line">[Monday 21 March 2011] [15:08:13] &lt;pieterh&gt;   np</div>
<div class="line">[Monday 21 March 2011] [15:08:14] &lt;cremes&gt;    <a class="reference external" href="https://github.com/zeromq/zeromq2/issues/181">https://github.com/zeromq/zeromq2/issues/181</a></div>
<div class="line">[Monday 21 March 2011] [15:08:23] &lt;sustrik&gt;   cremes: thx</div>
<div class="line">[Monday 21 March 2011] [15:08:33] &lt;pieterh&gt;   cremes, just for sanity, can you confirm the problem does _not_ happen on 2.1.3?</div>
<div class="line">[Monday 21 March 2011] [15:08:47] &lt;cremes&gt;    sure; i will download it and confirm</div>
<div class="line">[Monday 21 March 2011] [15:08:50] &lt;pieterh&gt;   much appreciated</div>
<div class="line">[Monday 21 March 2011] [15:10:14] &lt;FlaPer87&gt;  In case anyone is interested and willing to contribute: <a class="reference external" href="https://github.com/FlaPer87/asterisk-zmq-manager">https://github.com/FlaPer87/asterisk-zmq-manager</a></div>
<div class="line">[Monday 21 March 2011] [15:12:08] &lt;mikko&gt;     pieterh: am now</div>
<div class="line">[Monday 21 March 2011] [15:12:44] &lt;pieterh&gt;   mikko: possibly a false alarm, we found what might be a problem with OpenPGM in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [15:13:09] &lt;pieterh&gt;   drbobbeaty is seeing if it&#8217;s caused by library confusion on his systems</div>
<div class="line">[Monday 21 March 2011] [15:13:39] &lt;pieterh&gt;   anyhow, pgm example that worked with 2.1.2 fails with 2.1.3... on my system it works fine</div>
<div class="line">[Monday 21 March 2011] [15:14:39] &lt;mikko&gt;     zfl tests failed as well it seems</div>
<div class="line">[Monday 21 March 2011] [15:14:44] &lt;pieterh&gt;   FlaPer87: line 412 is lacking &#8216;zmq_msg_close (&amp;message);&#8217;</div>
<div class="line">[Monday 21 March 2011] [15:14:56] &lt;mikko&gt;     hmm, is there a way to test OpenPGM functionally easily?</div>
<div class="line">[Monday 21 March 2011] [15:15:10] &lt;pieterh&gt;   mikko: fixed that, was some old 2.0 code that magically continued to work on 2.1...</div>
<div class="line">[Monday 21 March 2011] [15:15:18] &lt;mikko&gt;     i kinda rely on Steven on that as I have no means on testing with any sort of wates</div>
<div class="line">[Monday 21 March 2011] [15:15:22] &lt;pieterh&gt;   yeah</div>
<div class="line">[Monday 21 March 2011] [15:15:28] &lt;mikko&gt;     rates*</div>
<div class="line">[Monday 21 March 2011] [15:15:51] &lt;pieterh&gt;   we have some pgm-capable material at iMatix in Slovakia but it&#8217;s not configured any longer</div>
<div class="line">[Monday 21 March 2011] [15:16:28] &lt;FlaPer87&gt;  pieterh opps, thanks</div>
<div class="line">[Monday 21 March 2011] [15:16:45] &lt;mikko&gt;     so the openpgm is a false alarm?</div>
<div class="line">[Monday 21 March 2011] [15:16:53] &lt;pieterh&gt;   FlaPer87: try running under valgrind, you&#8217;ll catch memory leaks like that</div>
<div class="line">[Monday 21 March 2011] [15:17:10] &lt;pieterh&gt;   mikko: don&#8217;t know yet, could be a build issue we&#8217;ve not hit before</div>
<div class="line">[Monday 21 March 2011] [15:17:22] &lt;mikko&gt;     what OS is drbobbeaty running?</div>
<div class="line">[Monday 21 March 2011] [15:17:26] &lt;FlaPer87&gt;  pieterh indeed, I will</div>
<div class="line">[Monday 21 March 2011] [15:17:29] &lt;FlaPer87&gt;  thanks :)</div>
<div class="line">[Monday 21 March 2011] [15:17:37] &lt;pieterh&gt;   Ubuntu and CentOS</div>
<div class="line">[Monday 21 March 2011] [15:17:42] &lt;drbobbeaty&gt;        mikko: Ubuntu 10.04.1 and CentOS 5</div>
<div class="line">[Monday 21 March 2011] [15:17:50] &lt;mikko&gt;     drbobbeaty: both fail?</div>
<div class="line">[Monday 21 March 2011] [15:18:00] &lt;drbobbeaty&gt;        Yup</div>
<div class="line">[Monday 21 March 2011] [15:19:22] &lt;mikko&gt;     drbobbeaty: it&#8217;s supposed to link against libtool convenience archive</div>
<div class="line">[Monday 21 March 2011] [15:19:30] &lt;mikko&gt;     libpgm_noinst.la</div>
<div class="line">[Monday 21 March 2011] [15:19:40] &lt;mikko&gt;     which just contains a set of object files</div>
<div class="line">[Monday 21 March 2011] [15:20:12] &lt;mikko&gt;     libpgm.so should not be used when building with zeromq</div>
<div class="line">[Monday 21 March 2011] [15:20:57] &lt;drbobbeaty&gt;        OK, that&#8217;s news. In the past (2.1.2), I used the &#8216;-lzmq&#8217; and it worked just fine with the ZMQ shared lib. Is this not supported in 2.1.3?</div>
<div class="line">[Monday 21 March 2011] [15:21:21] &lt;mikko&gt;     that should work fine</div>
<div class="line">[Monday 21 March 2011] [15:22:07] &lt;pieterh&gt;   fwiw I&#8217;ve done &#8216;g++ xmit.cpp -o xmit -lzmq&#8217; and the test case runs fine on my Ubuntu box</div>
<div class="line">[Monday 21 March 2011] [15:22:58] &lt;mikko&gt;     the convenience libtool archive is just a bunch of object files</div>
<div class="line">[Monday 21 March 2011] [15:23:08] &lt;mikko&gt;     and zeromq uses that rather than the .c files directly</div>
<div class="line">[Monday 21 March 2011] [15:23:43] &lt;mikko&gt;     in theory (unless there is some libtool weirdness going on) there should be no change how things work</div>
<div class="line">[Monday 21 March 2011] [15:23:56] &lt;Guest31294&gt;        in theory, everything always works.</div>
<div class="line">[Monday 21 March 2011] [15:24:40] &lt;cremes&gt;    pieterh: no assertion when using the 2.1.3 release, so that&#8217;s a good sign</div>
<div class="line">[Monday 21 March 2011] [15:25:02] &lt;pieterh&gt;   cremes: thanks for testing that, it means our ad-hoc change flow process is working ... :-)</div>
<div class="line">[Monday 21 March 2011] [15:25:02] &lt;drbobbeaty&gt;        mikko: I certainly hope that&#8217;s the case, but up to know I&#8217;ve had a ton of counter-examples staring me in the face. I&#8217;ll try to clean up things here and see if I can get it back to what works.</div>
<div class="line">[Monday 21 March 2011] [15:25:49] &lt;mikko&gt;     is there a test code i can run for this openpgm thing?</div>
<div class="line">[Monday 21 March 2011] [15:26:15] &lt;pieterh&gt;   mikko: <a class="reference external" href="https://gist.github.com/635015">https://gist.github.com/635015</a></div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     Initialization complete.</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:25] &lt;mikko&gt;     and so o n</div>
<div class="line">[Monday 21 March 2011] [15:28:32] &lt;mikko&gt;     is that the expected result?</div>
<div class="line">[Monday 21 March 2011] [15:29:42] &lt;drbobbeaty&gt;        mikko: yes.</div>
<div class="line">[Monday 21 March 2011] [15:30:09] &lt;drbobbeaty&gt;        What I&#8217;m getting is the &#8220;Assertion failed: rc == 0 (connect_session.cpp:84)&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:30:38] &lt;mikko&gt;     just in case i did rm /path/to/lib/libpgm*</div>
<div class="line">[Monday 21 March 2011] [15:30:43] &lt;mikko&gt;     and the example still runs</div>
<div class="line">[Monday 21 March 2011] [15:30:58] &lt;mikko&gt;     can you put nm /path/to/libzmq.so to gist.github.com?</div>
<div class="line">[Monday 21 March 2011] [15:31:03] &lt;mikko&gt;     and ldd /path/to/libzmq.so</div>
<div class="line">[Monday 21 March 2011] [15:32:26] &lt;pieterh&gt;   mikko: my guess is that drbobbeaty&#8217;s two systems have old versions of OpenPGM which is causing a problem</div>
<div class="line">[Monday 21 March 2011] [15:33:33] &lt;pieterh&gt;   drbobbeaty: any chance you can test on a virgin box? at least one you didn&#8217;t build on before?</div>
<div class="line">[Monday 21 March 2011] [15:33:39] &lt;drbobbeaty&gt;        pieterh: I didn&#8217;t have any old version of OpenPGM as I never had it until ZMQ. In 2.1.2 it was contained within the libzmq.so - with 2.1.3, it appeared that it was external. Now I see it wasn&#8217;t external at all, just optionally external.</div>
<div class="line">[Monday 21 March 2011] [15:34:04] &lt;pieterh&gt;   hmm... indeed</div>
<div class="line">[Monday 21 March 2011] [15:34:13] &lt;drbobbeaty&gt;        pieterh: I&#8217;m certainly working on all these ideas. As fast as I can.</div>
<div class="line">[Monday 21 March 2011] [15:34:25] &lt;drbobbeaty&gt;        I would like to believe it&#8217;s as simple as a bad version.</div>
<div class="line">[Monday 21 March 2011] [15:34:59] &lt;mikko&gt;     i would be keen on getting openpgm into daily builds somehow</div>
<div class="line">[Monday 21 March 2011] [15:35:10] &lt;mikko&gt;     that way we can see if the actual functionality ever breaks</div>
<div class="line">[Monday 21 March 2011] [15:35:58] &lt;pieterh&gt;   hmm, that would be very nice</div>
<div class="line">[Monday 21 March 2011] [15:37:16] &lt;mikko&gt;     drbobbeaty: can you paste nm output of libzmq.so ?</div>
<div class="line">[Monday 21 March 2011] [15:42:47] &lt;drbobbeaty&gt;        Yes, just need a bit. I&#8217;m trying to change the RPM packaging to remove the OpenPGM libraries and headers to make it cleaner as to what&#8217;s really being installed.</div>
<div class="line">[Monday 21 March 2011] [15:46:13] &lt;drbobbeaty&gt;        mikko: when I run: &#8216;nm /usr/lib64/libzmq.so.1&#8217; I get:</div>
<div class="line">[Monday 21 March 2011] [15:46:24] &lt;drbobbeaty&gt;        nm: /usr/lib64/libzmq.so.1: no symbols</div>
<div class="line">[Monday 21 March 2011] [15:47:01] &lt;drbobbeaty&gt;        I have cleaned up my RPMs and they are now built as zeromq, zeromq-devel and zeromq-pgm - where the latter has just the OpenPGM libs and headers.</div>
<div class="line">[Monday 21 March 2011] [15:47:24] &lt;drbobbeaty&gt;        Even after removing everything on my box related to ZMQ, and putting these new RPMs on, I get the assertion.</div>
<div class="line">[Monday 21 March 2011] [15:47:47] &lt;mikko&gt;     let me install a clean ubuntu VM</div>
<div class="line">[Monday 21 March 2011] [15:47:49] &lt;mikko&gt;     sec</div>
<div class="line">[Monday 21 March 2011] [15:55:24] &lt;mikko&gt;     drbobbeaty: i removed my installation of libzmq completely, rebuilt</div>
<div class="line">[Monday 21 March 2011] [15:55:40] &lt;mikko&gt;     rebuilt the xmit.cpp and ran with LD_LIBRARY_PATH</div>
<div class="line">[Monday 21 March 2011] [15:55:45] &lt;mikko&gt;     it seems to work ok</div>
<div class="line">[Monday 21 March 2011] [15:56:12] &lt;mikko&gt;     i&#8217;ll make an install-exec-hook patch later so that people dont get confused with libpgm.so</div>
<div class="line">[Monday 21 March 2011] [15:56:28] &lt;mikko&gt;     i dont think there is a way to force autotools not to install it</div>
<div class="line">[Monday 21 March 2011] [15:56:33] &lt;mikko&gt;     brb</div>
<div class="line">[Monday 21 March 2011] [15:56:37] &lt;drbobbeaty&gt;        mikko: Thanks for the checking... I&#8217;m getting convinced it&#8217;s now I have it built, but it&#8217;s not at all clear why the way I build it from 2.1.2 to 2.1.3 causes these issues. I&#8217;ve had many upgrades in this process.</div>
<div class="line">[Monday 21 March 2011] [15:58:05] &lt;mikko&gt;     drbobbeaty: i will install clean ubuntu vm later and test</div>
<div class="line">[Monday 21 March 2011] [15:58:14] &lt;mikko&gt;     it&#8217;s worrying if this actually fails for anyone</div>
<div class="line">[Monday 21 March 2011] [15:59:16] &lt;pieterh&gt;   drbobbeaty: can you post an issue with the assert and backtrace?</div>
<div class="line">[Monday 21 March 2011] [15:59:30] &lt;drbobbeaty&gt;        mikko: I&#8217;m troubled by what I&#8217;m seeing, and I fear it&#8217;s in the building. I&#8217;m going to see if I can build it without the RPM structure if it works. I&#8217;m guessing that&#8217;s how you guys are all doing it. Just &#8216;configure &#8211;with-pgm&#8217; - right?</div>
<div class="line">[Monday 21 March 2011] [15:59:39] &lt;pieterh&gt;   it may be possible to figure out what&#8217;s happening from that</div>
<div class="line">[Monday 21 March 2011] [15:59:45] &lt;pieterh&gt;   drbobbeaty: yes</div>
<div class="line">[Monday 21 March 2011] [16:00:02] &lt;drbobbeaty&gt;        pieterh: OK, trying that now</div>
<div class="line">[Monday 21 March 2011] [16:00:16] &lt;pieterh&gt;   just as explained in the docs; configure; make; sudo make install; sudo ldconfig</div>
<div class="line">[Monday 21 March 2011] [16:00:24] &lt;pieterh&gt;   &#8211;with-pgm, then</div>
<div class="line">[Monday 21 March 2011] [16:00:38] &lt;mikko&gt;     drbobbeaty: yes</div>
<div class="line">[Monday 21 March 2011] [16:01:24] &lt;mikko&gt;     drbobbeaty: it&#8217;s possible that the build breaks if for example RPM does something very weird</div>
<div class="line">[Monday 21 March 2011] [16:01:41] &lt;mikko&gt;     i think install-exec-hook should allow cleaning the libpgm stuff</div>
<div class="line">[Monday 21 March 2011] [16:01:46] &lt;drbobbeaty&gt;        mikko: it&#8217;s the same spec file that ships with the package.</div>
<div class="line">[Monday 21 March 2011] [16:02:02] &lt;mikko&gt;     drbobbeaty: i know, i don&#8217;t think it&#8217;s very actively checked (it seems)</div>
<div class="line">[Monday 21 March 2011] [16:02:29] &lt;mikko&gt;     i had RPM builds running earlier but it was in a chroot which was really slow</div>
<div class="line">[Monday 21 March 2011] [16:02:43] &lt;mikko&gt;     if there are actually RPM users i could install centos VM for rpm packaging</div>
<div class="line">[Monday 21 March 2011] [16:02:48] &lt;pieterh&gt;   drbobbeaty: I see at least one problem with the spec file in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [16:02:59] &lt;mikko&gt;     so that the packaging gets tested regurly as well</div>
<div class="line">[Monday 21 March 2011] [16:03:10] &lt;pieterh&gt;   it <em>might</em> be causing corrupted RPMs...</div>
<div class="line">[Monday 21 March 2011] [16:03:13] &lt;mikko&gt;     now i need to run for a min -&gt;</div>
<div class="line">[Monday 21 March 2011] [16:03:50]      * pieterh hates hand-generated build files...</div>
<div class="line">[Monday 21 March 2011] [16:06:09] &lt;pieterh&gt;   drbobbeaty: if you want a fixed spec file, <a class="reference external" href="https://gist.github.com/880103">https://gist.github.com/880103</a> should be better</div>
<div class="line">[Monday 21 March 2011] [16:06:23] &lt;pieterh&gt;   I doubt this could cause the test program to crash but you never know</div>
<div class="line">[Monday 21 March 2011] [16:06:37] &lt;<a href="#id1484"><span class="problematic" id="id1485">flexo_</span></a>&gt;    hey. as i didnt find an answer to my question in either the guide, reference or faq (well, actually the lack of an answer might be an answer...) here it goes: does zmq support unreliable transport? (pure udp unicast/multicast)</div>
<div class="line">[Monday 21 March 2011] [16:06:46] &lt;pieterh&gt;   <a href="#id1486"><span class="problematic" id="id1487">flexo_</span></a>: nope</div>
<div class="line">[Monday 21 March 2011] [16:07:07] &lt;<a href="#id1488"><span class="problematic" id="id1489">flexo_</span></a>&gt;    any plans to add support for it?</div>
<div class="line">[Monday 21 March 2011] [16:07:15] &lt;pieterh&gt;   <a href="#id1490"><span class="problematic" id="id1491">flexo_</span></a>: feel free to send us a patch...</div>
<div class="line">[Monday 21 March 2011] [16:07:24] &lt;<a href="#id1492"><span class="problematic" id="id1493">flexo_</span></a>&gt;    :)</div>
<div class="line">[Monday 21 March 2011] [16:07:37] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [16:08:04] &lt;drbobbeaty&gt;        pieterh: what changed? Something small, or a lot of things?</div>
<div class="line">[Monday 21 March 2011] [16:08:17] &lt;pieterh&gt;   drbobbeaty: in the spec file, removal of the stand-alone device programs</div>
<div class="line">[Monday 21 March 2011] [16:08:28] &lt;pieterh&gt;   in the core library, OpenPGM integration and a lot of small patches</div>
<div class="line">[Monday 21 March 2011] [16:08:37] &lt;pieterh&gt;   it&#8217;s in the NEWS and ChangeLog</div>
<div class="line">[Monday 21 March 2011] [16:08:48] &lt;pieterh&gt;   except the spec file, which I forgot to fix until just now</div>
<div class="line">[Monday 21 March 2011] [16:09:22] &lt;<a href="#id1494"><span class="problematic" id="id1495">flexo_</span></a>&gt;    seriously, would it fit into zmq&#8217;s design.. purpose.. whatever? (looks to me like quite some work was done to _guarantee_ that the messages arrive...)</div>
<div class="line">[Monday 21 March 2011] [16:09:41] &lt;pieterh&gt;   <a href="#id1496"><span class="problematic" id="id1497">flexo_</span></a>: it could be useful for certain apps, yes</div>
<div class="line">[Monday 21 March 2011] [16:09:59] &lt;<a href="#id1498"><span class="problematic" id="id1499">flexo_</span></a>&gt;    for example in the app i have in mind :)</div>
<div class="line">[Monday 21 March 2011] [16:10:15] &lt;pieterh&gt;   yeah, when real time performance is more important than reliability</div>
<div class="line">[Monday 21 March 2011] [16:10:21] &lt;<a href="#id1500"><span class="problematic" id="id1501">flexo_</span></a>&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [16:10:42] &lt;pieterh&gt;   seriously, if you need it, and if you can write C++, it should be doable</div>
<div class="line">[Monday 21 March 2011] [16:10:49] &lt;<a href="#id1502"><span class="problematic" id="id1503">flexo_</span></a>&gt;    but there are also certain kinds of messages which must arrive intact, hence having something like zmq for that kind of stuff would be nice</div>
<div class="line">[Monday 21 March 2011] [16:10:49] &lt;pieterh&gt;   transports are pluggable in 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:11:02] &lt;pieterh&gt;   you can use different sockets for different QoS</div>
<div class="line">[Monday 21 March 2011] [16:11:22] &lt;<a href="#id1504"><span class="problematic" id="id1505">flexo_</span></a>&gt;    pieterh: assuming that i am a c++ wizard, how long would think it would take me to do it?</div>
<div class="line">[Monday 21 March 2011] [16:11:39] &lt;<a href="#id1506"><span class="problematic" id="id1507">flexo_</span></a>&gt;    (i know zmq for 10 minutes :)</div>
<div class="line">[Monday 21 March 2011] [16:11:40] &lt;pieterh&gt;   if you also know UDP, 1 day to get it working, 2-3 more days to get it working real nice</div>
<div class="line">[Monday 21 March 2011] [16:12:02] &lt;<a href="#id1508"><span class="problematic" id="id1509">flexo_</span></a>&gt;    alright</div>
<div class="line">[Monday 21 March 2011] [16:12:33] &lt;pieterh&gt;   you start by asking the question on the list, &#8220;I intend to add UDP support, please tell me what files to create / modify&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:12:59] &lt;<a href="#id1510"><span class="problematic" id="id1511">flexo_</span></a>&gt;    im pretty confident i can figure it out by myself...</div>
<div class="line">[Monday 21 March 2011] [16:13:03] &lt;pieterh&gt;   we&#8217;ll help package it all (docs, etc.) afterwards</div>
<div class="line">[Monday 21 March 2011] [16:13:14] &lt;pieterh&gt;   well, take a look at pgm integration as an example</div>
<div class="line">[Monday 21 March 2011] [16:13:20]      * <a href="#id1512"><span class="problematic" id="id1513">flexo_</span></a> nods</div>
<div class="line">[Monday 21 March 2011] [16:13:37] &lt;pieterh&gt;   actually I should point out that it&#8217;s technically impossible</div>
<div class="line">[Monday 21 March 2011] [16:13:46] &lt;<a href="#id1514"><span class="problematic" id="id1515">flexo_</span></a>&gt;    uhm?</div>
<div class="line">[Monday 21 March 2011] [16:13:49] &lt;pieterh&gt;   no-one has ever done this before, make 0MQ work with UDP</div>
<div class="line">[Monday 21 March 2011] [16:13:55] &lt;pieterh&gt;   therefore it&#8217;s impossible</div>
<div class="line">[Monday 21 March 2011] [16:13:59] &lt;pieterh&gt;   and perhaps even illegal</div>
<div class="line">[Monday 21 March 2011] [16:14:01] &lt;<a href="#id1516"><span class="problematic" id="id1517">flexo_</span></a>&gt;    i see :(</div>
<div class="line">[Monday 21 March 2011] [16:14:01] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [16:14:12] &lt;<a href="#id1518"><span class="problematic" id="id1519">flexo_</span></a>&gt;    just fyi: the app i have in mind would be a flight simulation visual</div>
<div class="line">[Monday 21 March 2011] [16:14:37] &lt;pieterh&gt;   <a href="#id1520"><span class="problematic" id="id1521">flexo_</span></a>: I&#8217;m kidding, you&#8217;d be the first person to try it</div>
<div class="line">[Monday 21 March 2011] [16:14:58] &lt;<a href="#id1522"><span class="problematic" id="id1523">flexo_</span></a>&gt;    i.e. several render boxes which receive telemetry via multicast</div>
<div class="line">[Monday 21 March 2011] [16:15:04] &lt;pieterh&gt;   yes, excellent use case</div>
<div class="line">[Monday 21 March 2011] [16:15:09] &lt;<a href="#id1524"><span class="problematic" id="id1525">flexo_</span></a>&gt;    (which must get the data really fast. ;)</div>
<div class="line">[Monday 21 March 2011] [16:15:18] &lt;pieterh&gt;   but doesn&#8217;t mind if there&#8217;s some breakage</div>
<div class="line">[Monday 21 March 2011] [16:15:45] &lt;drbobbeaty&gt;        mikko: why are you passing in &#8216;&#8211;prefix=/usr/local&#8217; to the OpenPGM configure script within the main configure script? Isn&#8217;t that assuming that I&#8217;m putting it there? I&#8217;m not.</div>
<div class="line">[Monday 21 March 2011] [16:15:48] &lt;<a href="#id1526"><span class="problematic" id="id1527">flexo_</span></a>&gt;    (and otoh there is some stuff which must arrive, although it doesnt matter if the latency is somewhat higher, i.e. you change the scenario, daytime, etc.)</div>
<div class="line">[Monday 21 March 2011] [16:16:08] &lt;<a href="#id1528"><span class="problematic" id="id1529">flexo_</span></a>&gt;    add a new entity into the simulation, that kind of stuff</div>
<div class="line">[Monday 21 March 2011] [16:16:16] &lt;pieterh&gt;   yeah, it&#8217;s like VoIP</div>
<div class="line">[Monday 21 March 2011] [16:16:23] &lt;pieterh&gt;   mix of reliable and unreliable patterns</div>
<div class="line">[Monday 21 March 2011] [16:16:42] &lt;pieterh&gt;   UDP would make a great addition</div>
<div class="line">[Monday 21 March 2011] [16:17:04] &lt;pieterh&gt;   but impossible and perhaps even illegal, so don&#8217;t tell anyone...</div>
<div class="line">[Monday 21 March 2011] [16:17:04] &lt;<a href="#id1530"><span class="problematic" id="id1531">flexo_</span></a>&gt;    i was about to make up some protocol using a mix of tcp and multicast udp myself.. but i suppose it might be less work to just add unreliable transport support to zmq</div>
<div class="line">[Monday 21 March 2011] [16:17:09] &lt;<a href="#id1532"><span class="problematic" id="id1533">flexo_</span></a>&gt;    sure</div>
<div class="line">[Monday 21 March 2011] [16:17:39] &lt;pieterh&gt;   well, advantage of layering it under zmq is you get access to nice semantics on top</div>
<div class="line">[Monday 21 March 2011] [16:17:44] &lt;<a href="#id1534"><span class="problematic" id="id1535">flexo_</span></a>&gt;    its even intended for military usage so its morally nasty too</div>
<div class="line">[Monday 21 March 2011] [16:17:45] &lt;pieterh&gt;   plus APIs in lots of languages</div>
<div class="line">[Monday 21 March 2011] [16:17:51] &lt;pieterh&gt;   morally nasty, I love it</div>
<div class="line">[Monday 21 March 2011] [16:18:03] &lt;pieterh&gt;   I mean, terrible, terrible stuff...</div>
<div class="line">[Monday 21 March 2011] [16:18:16] &lt;<a href="#id1536"><span class="problematic" id="id1537">flexo_</span></a>&gt;    yes, and the zmq API looks really nice</div>
<div class="line">[Monday 21 March 2011] [16:18:25] &lt;<a href="#id1538"><span class="problematic" id="id1539">flexo_</span></a>&gt;    and well-looking APIs are rare :)</div>
<div class="line">[Monday 21 March 2011] [16:18:45] &lt;pieterh&gt;   it&#8217;s going to get polished some more for v3.0</div>
<div class="line">[Monday 21 March 2011] [16:19:44] &lt;<a href="#id1540"><span class="problematic" id="id1541">flexo_</span></a>&gt;    a far-fetching thought here... is there some project providing some highlevel RPC mechanisms on-top of zmq? (think CORBA)</div>
<div class="line">[Monday 21 March 2011] [16:21:45] &lt;pieterh&gt;   <a href="#id1542"><span class="problematic" id="id1543">flexo_</span></a>: see the Guide, Chapter 4</div>
<div class="line">[Monday 21 March 2011] [16:21:57] &lt;pieterh&gt;   there are a whole set of RPC-like patterns built on top of 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:22:11] &lt;pieterh&gt;   plus sample code and protocol specs</div>
<div class="line">[Monday 21 March 2011] [16:22:21] &lt;pieterh&gt;   not CORBA, though</div>
<div class="line">[Monday 21 March 2011] [16:22:24] &lt;pieterh&gt;   rather more 2011</div>
<div class="line">[Monday 21 March 2011] [16:23:07] &lt;<a href="#id1544"><span class="problematic" id="id1545">flexo_</span></a>&gt;    chapter 4? reliable request-reply?</div>
<div class="line">[Monday 21 March 2011] [16:23:15] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [16:23:25] &lt;<a href="#id1546"><span class="problematic" id="id1547">flexo_</span></a>&gt;    i realize that you can do all that stuff on-top of zmq</div>
<div class="line">[Monday 21 March 2011] [16:23:38] &lt;<a href="#id1548"><span class="problematic" id="id1549">flexo_</span></a>&gt;    but an ORB actually _does_ provide some pretty nice stuff</div>
<div class="line">[Monday 21 March 2011] [16:24:34] &lt;pieterh&gt;   specifically...?</div>
<div class="line">[Monday 21 March 2011] [16:24:50] &lt;pieterh&gt;   not that I&#8217;m disagreeing, just curious to what you mean</div>
<div class="line">[Monday 21 March 2011] [16:25:42] &lt;<a href="#id1550"><span class="problematic" id="id1551">flexo_</span></a>&gt;    well, the basic thing would be the IDL compiler - more advanced stuff would be object keys, activation / incarnation, etc.</div>
<div class="line">[Monday 21 March 2011] [16:26:03] &lt;<a href="#id1552"><span class="problematic" id="id1553">flexo_</span></a>&gt;    its pretty easy to do distributed garbage collected servants</div>
<div class="line">[Monday 21 March 2011] [16:26:41] &lt;pieterh&gt;   i prefer garbage collecting servants</div>
<div class="line">[Monday 21 March 2011] [16:26:49] &lt;pieterh&gt;   actually have no idea what those terms mean</div>
<div class="line">[Monday 21 March 2011] [16:26:53] &lt;<a href="#id1554"><span class="problematic" id="id1555">flexo_</span></a>&gt;    well</div>
<div class="line">[Monday 21 March 2011] [16:27:01] &lt;<a href="#id1556"><span class="problematic" id="id1557">flexo_</span></a>&gt;    take a virtual filesystem for example</div>
<div class="line">[Monday 21 March 2011] [16:27:16] &lt;pieterh&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [16:27:17] &lt;<a href="#id1558"><span class="problematic" id="id1559">flexo_</span></a>&gt;    built using interfaces like IStream, IFile, etc.</div>
<div class="line">[Monday 21 March 2011] [16:27:25] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [16:27:38] &lt;<a href="#id1560"><span class="problematic" id="id1561">flexo_</span></a>&gt;    you can connect to any component in our application, no matter where it runs and ask it to open a file for you</div>
<div class="line">[Monday 21 March 2011] [16:27:49] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [16:28:04] &lt;<a href="#id1562"><span class="problematic" id="id1563">flexo_</span></a>&gt;    it provides transparent encryption / decryption, there is a key ring manager which asks the user for passwords, etc.</div>
<div class="line">[Monday 21 March 2011] [16:28:36] &lt;pieterh&gt;   this can all be layered on top of 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:28:54] &lt;<a href="#id1564"><span class="problematic" id="id1565">flexo_</span></a>&gt;    the ORB provides me with the means to implement something like this in a nice object-oriented manner without writing lots of the low-level management code</div>
<div class="line">[Monday 21 March 2011] [16:29:38] &lt;<a href="#id1566"><span class="problematic" id="id1567">flexo_</span></a>&gt;    so i just say &#8220;give me a POA with this policy&#8221;, i put the filename into the object key, my servant manager gets invoked when someone wants to invoke a ::read() on the the stream</div>
<div class="line">[Monday 21 March 2011] [16:29:40] &lt;mikko&gt;     drbobbeaty: autotools probably pass down prefix automatically</div>
<div class="line">[Monday 21 March 2011] [16:30:05] &lt;pieterh&gt;   POA = piece of action? sorry, the jargon is not familiar to me</div>
<div class="line">[Monday 21 March 2011] [16:30:50] &lt;pieterh&gt;   so why are no companies making money from ORBs any more?</div>
<div class="line">[Monday 21 March 2011] [16:31:06] &lt;<a href="#id1568"><span class="problematic" id="id1569">flexo_</span></a>&gt;    portable object adapter.. an internal CORBA component which. hm..  is responsible for servants. it knows their servant manager and how to invoke methods on these servants</div>
<div class="line">[Monday 21 March 2011] [16:31:10] &lt;<a href="#id1570"><span class="problematic" id="id1571">flexo_</span></a>&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [16:31:15] &lt;<a href="#id1572"><span class="problematic" id="id1573">flexo_</span></a>&gt;    pieterh: dont get me wrong here</div>
<div class="line">[Monday 21 March 2011] [16:31:26] &lt;<a href="#id1574"><span class="problematic" id="id1575">flexo_</span></a>&gt;    CORBA heavily sucks in a lot of areas</div>
<div class="line">[Monday 21 March 2011] [16:31:36] &lt;pieterh&gt;   nah, I&#8217;m just curious, CORBA has always appeared to me as massively complex</div>
<div class="line">[Monday 21 March 2011] [16:31:48] &lt;pieterh&gt;   complex concepts, complex APIs, complex tools</div>
<div class="line">[Monday 21 March 2011] [16:31:52] &lt;<a href="#id1576"><span class="problematic" id="id1577">flexo_</span></a>&gt;    but most of its &#8220;complex&#8221; design actually makes sense</div>
<div class="line">[Monday 21 March 2011] [16:32:01] &lt;pieterh&gt;   sure, but that doesn&#8217;t mean much in the end</div>
<div class="line">[Monday 21 March 2011] [16:32:22] &lt;<a href="#id1578"><span class="problematic" id="id1579">flexo_</span></a>&gt;    actually</div>
<div class="line">[Monday 21 March 2011] [16:32:30] &lt;pieterh&gt;   sadly, a 100% complete solution that is 100x more complex than an 80% complete solution will not win</div>
<div class="line">[Monday 21 March 2011] [16:32:40] &lt;<a href="#id1580"><span class="problematic" id="id1581">flexo_</span></a>&gt;    well</div>
<div class="line">[Monday 21 March 2011] [16:32:44] &lt;<a href="#id1582"><span class="problematic" id="id1583">flexo_</span></a>&gt;    you definitly have a point there</div>
<div class="line">[Monday 21 March 2011] [16:32:50] &lt;pieterh&gt;   this is what I mean by 2011</div>
<div class="line">[Monday 21 March 2011] [16:32:53] &lt;<a href="#id1584"><span class="problematic" id="id1585">flexo_</span></a>&gt;    my company made money with an ORB i wrote couple of months ago</div>
<div class="line">[Monday 21 March 2011] [16:33:09] &lt;<a href="#id1586"><span class="problematic" id="id1587">flexo_</span></a>&gt;    but this ORB only implemented the features needed, so maybe it was like 70% conformant :)</div>
<div class="line">[Monday 21 March 2011] [16:33:17] &lt;pieterh&gt;   if you have customers for ORBs, you may enjoy using 0MQ as the transport</div>
<div class="line">[Monday 21 March 2011] [16:33:18] &lt;<a href="#id1588"><span class="problematic" id="id1589">flexo_</span></a>&gt;    (targeting embedded hardware)</div>
<div class="line">[Monday 21 March 2011] [16:33:41] &lt;<a href="#id1590"><span class="problematic" id="id1591">flexo_</span></a>&gt;    yea, im thinking about that</div>
<div class="line">[Monday 21 March 2011] [16:33:53] &lt;<a href="#id1592"><span class="problematic" id="id1593">flexo_</span></a>&gt;    im also thinking about replacing CORBA because it annoys me heavily...</div>
<div class="line">[Monday 21 March 2011] [16:33:57] &lt;pieterh&gt;   that&#8217;s how we see 0MQ, as a smart transport layer</div>
<div class="line">[Monday 21 March 2011] [16:34:10] &lt;<a href="#id1594"><span class="problematic" id="id1595">flexo_</span></a>&gt;    its very cumbersome to use, especially with the c++ mapping</div>
<div class="line">[Monday 21 March 2011] [16:34:11] &lt;pieterh&gt;   it&#8217;s never going to include IDLs and key managers</div>
<div class="line">[Monday 21 March 2011] [16:34:55] &lt;<a href="#id1596"><span class="problematic" id="id1597">flexo_</span></a>&gt;    do you think IDL compilers are bad in principle?</div>
<div class="line">[Monday 21 March 2011] [16:35:12] &lt;pieterh&gt;   no, just that data representation isn&#8217;t the job of the messaging fabric</div>
<div class="line">[Monday 21 March 2011] [16:35:19] &lt;<a href="#id1598"><span class="problematic" id="id1599">flexo_</span></a>&gt;    (i.e. the whole RPC idea which makes it look like a function/method call)</div>
<div class="line">[Monday 21 March 2011] [16:35:25] &lt;pieterh&gt;   for most purposes, JSON is fine</div>
<div class="line">[Monday 21 March 2011] [16:35:29] &lt;<a href="#id1600"><span class="problematic" id="id1601">flexo_</span></a>&gt;    i completely agree</div>
<div class="line">[Monday 21 March 2011] [16:35:34] &lt;pieterh&gt;   JSON is very 2011</div>
<div class="line">[Monday 21 March 2011] [16:35:40] &lt;<a href="#id1602"><span class="problematic" id="id1603">flexo_</span></a>&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [16:35:46] &lt;pieterh&gt;   totally cheap and nasty serialization that works for 80% of developers</div>
<div class="line">[Monday 21 March 2011] [16:35:54] &lt;<a href="#id1604"><span class="problematic" id="id1605">flexo_</span></a>&gt;    too nasty for my purposes</div>
<div class="line">[Monday 21 March 2011] [16:36:08] &lt;<a href="#id1606"><span class="problematic" id="id1607">flexo_</span></a>&gt;    the parsing overhead just...</div>
<div class="line">[Monday 21 March 2011] [16:36:09] &lt;<a href="#id1608"><span class="problematic" id="id1609">flexo_</span></a>&gt;    no</div>
<div class="line">[Monday 21 March 2011] [16:36:13] &lt;<a href="#id1610"><span class="problematic" id="id1611">flexo_</span></a>&gt;    it feels wrong.</div>
<div class="line">[Monday 21 March 2011] [16:36:22] &lt;pieterh&gt;   so you ideally want a JSON approach for low-volume cases, and smart binary framing for high-volume cases</div>
<div class="line">[Monday 21 March 2011] [16:36:44] &lt;pieterh&gt;   I&#8217;m also a fan of divide and conquer</div>
<div class="line">[Monday 21 March 2011] [16:36:45] &lt;<a href="#id1612"><span class="problematic" id="id1613">flexo_</span></a>&gt;    i dont really see the advantage of JSON over CDR</div>
<div class="line">[Monday 21 March 2011] [16:36:50] &lt;<a href="#id1614"><span class="problematic" id="id1615">flexo_</span></a>&gt;    CDR is very nice IMHO</div>
<div class="line">[Monday 21 March 2011] [16:36:56] &lt;pieterh&gt;   JSON requires no upfront thinking</div>
<div class="line">[Monday 21 March 2011] [16:37:13] &lt;<a href="#id1616"><span class="problematic" id="id1617">flexo_</span></a>&gt;    neighter does CDR if you are used to think of a struct like a damn struct in memory :)</div>
<div class="line">[Monday 21 March 2011] [16:37:25] &lt;pieterh&gt;   so why is no-one using CDR?</div>
<div class="line">[Monday 21 March 2011] [16:37:29] &lt;pieterh&gt;   I mean, the market decides</div>
<div class="line">[Monday 21 March 2011] [16:37:41] &lt;<a href="#id1618"><span class="problematic" id="id1619">flexo_</span></a>&gt;    pieterh: because CDR is deep within CORBA</div>
<div class="line">[Monday 21 March 2011] [16:37:44] &lt;<a href="#id1620"><span class="problematic" id="id1621">flexo_</span></a>&gt;    and CORBA scares people</div>
<div class="line">[Monday 21 March 2011] [16:37:48] &lt;pieterh&gt;   nah, because it&#8217;s a complex toolchain</div>
<div class="line">[Monday 21 March 2011] [16:37:59] &lt;<a href="#id1622"><span class="problematic" id="id1623">flexo_</span></a>&gt;    no, CDR is complety separete of everything</div>
<div class="line">[Monday 21 March 2011] [16:38:12] &lt;<a href="#id1624"><span class="problematic" id="id1625">flexo_</span></a>&gt;    its simply a binary data representation</div>
<div class="line">[Monday 21 March 2011] [16:38:28] &lt;<a href="#id1626"><span class="problematic" id="id1627">flexo_</span></a>&gt;    containing some stupid padding.. but thats far less worse than JSON</div>
<div class="line">[Monday 21 March 2011] [16:38:46] &lt;pieterh&gt;   I can&#8217;t even find a web page describing CDR</div>
<div class="line">[Monday 21 March 2011] [16:38:52] &lt;<a href="#id1628"><span class="problematic" id="id1629">flexo_</span></a>&gt;    as i said</div>
<div class="line">[Monday 21 March 2011] [16:38:53] &lt;pieterh&gt;   it&#8217;s embedded in some PDF somewhere</div>
<div class="line">[Monday 21 March 2011] [16:38:55] &lt;pieterh&gt;   fail</div>
<div class="line">[Monday 21 March 2011] [16:39:01] &lt;<a href="#id1630"><span class="problematic" id="id1631">flexo_</span></a>&gt;    thats the point.. its embedded deep inside the CORBA specs</div>
<div class="line">[Monday 21 March 2011] [16:39:06] &lt;<a href="#id1632"><span class="problematic" id="id1633">flexo_</span></a>&gt;    and thats the reason no-one uses it</div>
<div class="line">[Monday 21 March 2011] [16:39:09] &lt;<a href="#id1634"><span class="problematic" id="id1635">flexo_</span></a>&gt;    not because its bad</div>
<div class="line">[Monday 21 March 2011] [16:39:11] &lt;pieterh&gt;   yeah, but that&#8217;s not &#8220;very nice&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:39:17] &lt;<a href="#id1636"><span class="problematic" id="id1637">flexo_</span></a>&gt;    agreed</div>
<div class="line">[Monday 21 March 2011] [16:39:24] &lt;bpl29&gt;     Hello hello.  I am trying to link the zmq library to my project, but think I have built an 1386 library instead of x86_64.</div>
<div class="line">[Monday 21 March 2011] [16:39:34] &lt;<a href="#id1638"><span class="problematic" id="id1639">flexo_</span></a>&gt;    but &#8220;everyone uses it&#8221; doesnt make it a nice format.. take bittorrent for example</div>
<div class="line">[Monday 21 March 2011] [16:39:52] &lt;bpl29&gt;     <a href="#id73"><span class="problematic" id="id74">*</span></a>i386</div>
<div class="line">[Monday 21 March 2011] [16:39:56] &lt;<a href="#id1640"><span class="problematic" id="id1641">flexo_</span></a>&gt;    everyone uses bittorrent and bittorrent uses a highly stupid serialization format</div>
<div class="line">[Monday 21 March 2011] [16:40:17] &lt;pieterh&gt;   <a href="#id1642"><span class="problematic" id="id1643">flexo_</span></a>: well, I&#8217;ve made dozens, hundreds of technically brilliant tools over the years</div>
<div class="line">[Monday 21 March 2011] [16:40:18] &lt;pieterh&gt;   all &#8216;</div>
<div class="line">[Monday 21 March 2011] [16:40:21] &lt;pieterh&gt;   &#8216;perfect&#8217;</div>
<div class="line">[Monday 21 March 2011] [16:40:30] &lt;pieterh&gt;   all dead, because they were inaccessible</div>
<div class="line">[Monday 21 March 2011] [16:40:39] &lt;<a href="#id1644"><span class="problematic" id="id1645">flexo_</span></a>&gt;    its nice to parse with some regular expressions, but if you try to make a very-high throughput implementation you turn crazy because of that &#8220;human readable&#8221; ascii mess</div>
<div class="line">[Monday 21 March 2011] [16:40:59] &lt;pieterh&gt;   bpl29: have you copied the library from one box to another?</div>
<div class="line">[Monday 21 March 2011] [16:41:24] &lt;<a href="#id1646"><span class="problematic" id="id1647">flexo_</span></a>&gt;    pieterh: well. i dont disagree with you on any particular point...</div>
<div class="line">[Monday 21 March 2011] [16:41:41] &lt;pieterh&gt;   anyhow, wrt ORB capabilities over 0MQ, go for it, I&#8217;d say</div>
<div class="line">[Monday 21 March 2011] [16:41:54] &lt;bpl29&gt;     pieterh: No.  As well, I just rebuilt from source.  I am linking with -L/usr/local/lib -lzmq</div>
<div class="line">[Monday 21 March 2011] [16:42:02] &lt;<a href="#id1648"><span class="problematic" id="id1649">flexo_</span></a>&gt;    i just refuse to acknowledge that i spend so much time working with crap</div>
<div class="line">[Monday 21 March 2011] [16:42:14] &lt;pieterh&gt;   <a href="#id1650"><span class="problematic" id="id1651">flexo_</span></a>: Sturgeon&#8217;s Law</div>
<div class="line">[Monday 21 March 2011] [16:42:34] &lt;<a href="#id1652"><span class="problematic" id="id1653">flexo_</span></a>&gt;    yea :)</div>
<div class="line">[Monday 21 March 2011] [16:42:39] &lt;bpl29&gt;     pieterh: The error simply states &#8220;warning: in /usr/local/lib/libzmq.dylib, file was built for unsupported file format which is not the architecture being linked (i386)&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:42:40] &lt;pieterh&gt;   bpl29: so why do you think you built it wrong? it should work automatically, your compiler knows it&#8217;s on a 64-bit box</div>
<div class="line">[Monday 21 March 2011] [16:42:44] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [16:42:55] &lt;pieterh&gt;   what OS are you on?</div>
<div class="line">[Monday 21 March 2011] [16:43:02] &lt;bpl29&gt;     pieterh: OS X</div>
<div class="line">[Monday 21 March 2011] [16:43:28] &lt;pieterh&gt;   bpl29: sorry, I&#8217;m not expert in OS X builds, but maybe someone else here can help.. cremes?</div>
<div class="line">[Monday 21 March 2011] [16:43:45] &lt;cremes&gt;    pieterh: what&#8217;s up?</div>
<div class="line">[Monday 21 March 2011] [16:44:06] &lt;pieterh&gt;   any idea why a build on OS X would say &#8220;file was built for unsupported file format which is not the architecture being linked (i386)&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:45:14] &lt;cremes&gt;    yes...</div>
<div class="line">[Monday 21 March 2011] [16:45:42] &lt;cremes&gt;    the library is being built i386 but it&#8217;s linking against a (probably) x86_64 binary</div>
<div class="line">[Monday 21 March 2011] [16:46:00] &lt;cremes&gt;    bpl29: run &#8220;file &lt;name&gt;&#8221; against the library and tell us the output</div>
<div class="line">[Monday 21 March 2011] [16:46:11] &lt;bpl29&gt;     okay one moment</div>
<div class="line">[Monday 21 March 2011] [16:46:19] &lt;pieterh&gt;   &#8220;If you&#8217;re using Xcode, then by default Debug mode only builds your platforms native arch. So on a new mac, this would be an x86_64 binary.&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:46:19] &lt;yrashk&gt;    it looks like I&#8217;ve got a case of send() lockup with ZMQ_NOBLOCK :-</div>
<div class="line">[Monday 21 March 2011] [16:46:22] &lt;pieterh&gt;   <a class="reference external" href="http://www.qtcentre.org/threads/30670-On-Mac-quot-...file-was-built-for-unsupported-file-format..-quot-SOLVED">http://www.qtcentre.org/threads/30670-On-Mac-quot-...file-was-built-for-unsupported-file-format..-quot-SOLVED</a></div>
<div class="line">[Monday 21 March 2011] [16:46:33] &lt;pieterh&gt;   yrashk: cool!</div>
<div class="line">[Monday 21 March 2011] [16:46:41] &lt;<a href="#id1654"><span class="problematic" id="id1655">flexo_</span></a>&gt;    pieterh: anyway, just wanted to clarify that it seems to me that you are one of the more.. much more.. competent people i have met. although i disagree with your JSON notion. :)</div>
<div class="line">[Monday 21 March 2011] [16:47:00] &lt;bpl29&gt;     creme: /usr/local/lib/libzmq.dylib: Mach-O 64-bit dynamically linked shared library x86_64</div>
<div class="line">[Monday 21 March 2011] [16:47:05] &lt;pieterh&gt;   <a href="#id1656"><span class="problematic" id="id1657">flexo_</span></a>: I&#8217;m just old and cynical, not particularly competent, but the compliment feels nice, thanks</div>
<div class="line">[Monday 21 March 2011] [16:47:24] &lt;cremes&gt;    bpl29: and what program is trying to load that library? run &#8220;file&#8221; against it too</div>
<div class="line">[Monday 21 March 2011] [16:47:31] &lt;yrashk&gt;    pieterh: indeed :)</div>
<div class="line">[Monday 21 March 2011] [16:47:39] &lt;<a href="#id1658"><span class="problematic" id="id1659">flexo_</span></a>&gt;    pieterh: well, i am highly cynical aswell.. maybe thats the reason for the sympathy :)</div>
<div class="line">[Monday 21 March 2011] [16:47:59] &lt;<a href="#id1660"><span class="problematic" id="id1661">flexo_</span></a>&gt;    (not old though. :D)</div>
<div class="line">[Monday 21 March 2011] [16:48:00] &lt;yrashk&gt;    I think I know why it happens</div>
<div class="line">[Monday 21 March 2011] [16:48:06] &lt;pieterh&gt;   <a href="#id1662"><span class="problematic" id="id1663">flexo_</span></a>: one thing I&#8217;ve learned is that intelligence is a product of many minds, not a few experts</div>
<div class="line">[Monday 21 March 2011] [16:48:19] &lt;pieterh&gt;   yrashk: 2.1.3 or development master?</div>
<div class="line">[Monday 21 March 2011] [16:48:22] &lt;yrashk&gt;    but no idea how to fix it</div>
<div class="line">[Monday 21 March 2011] [16:48:33] &lt;pieterh&gt;   what do you think happens?</div>
<div class="line">[Monday 21 March 2011] [16:48:37] &lt;yrashk&gt;    184bdb8e2bb6fe252af1bf4dd16d1c9ed8892f7a</div>
<div class="line">[Monday 21 March 2011] [16:49:04] &lt;yrashk&gt;    with this specific command that I am sending to another thread, that thread closes the socket that its being sent through</div>
<div class="line">[Monday 21 March 2011] [16:49:13] &lt;bpl29&gt;     creme: I am using ocamlmklib.</div>
<div class="line">[Monday 21 March 2011] [16:49:21] &lt;yrashk&gt;    so sometimes it gets through fine (it closes the socket <em>after</em> send() is over)</div>
<div class="line">[Monday 21 March 2011] [16:49:25] &lt;bpl29&gt;     owait, sry, misinterpreted</div>
<div class="line">[Monday 21 March 2011] [16:49:35] &lt;jond&gt;      <a href="#id1664"><span class="problematic" id="id1665">flexo_</span></a> CDR is an ok encoding, though the character set stuff is dreadful. havent used corba for years though</div>
<div class="line">[Monday 21 March 2011] [16:49:37] &lt;yrashk&gt;    but sometimes it closes it while send() is still working</div>
<div class="line">[Monday 21 March 2011] [16:49:41] &lt;yrashk&gt;    and send() locks</div>
<div class="line">[Monday 21 March 2011] [16:49:48] &lt;yrashk&gt;    even though it&#8217;s in NOBLOCK</div>
<div class="line">[Monday 21 March 2011] [16:49:58] &lt;yrashk&gt;    or should I just upgrade to dev master?</div>
<div class="line">[Monday 21 March 2011] [16:50:06] &lt;<a href="#id1666"><span class="problematic" id="id1667">flexo_</span></a>&gt;    jond: i agree that it could be improved in some areas... i am just saying i prefer it over json :)</div>
<div class="line">[Monday 21 March 2011] [16:50:27] &lt;jond&gt;      flexo have you seen BSON?</div>
<div class="line">[Monday 21 March 2011] [16:50:27] &lt;pieterh&gt;   yrashk: that commit is in development master</div>
<div class="line">[Monday 21 March 2011] [16:50:49] &lt;yrashk&gt;    but are you aware of this issue I described? or whether it is an issue at all?</div>
<div class="line">[Monday 21 March 2011] [16:51:06] &lt;pieterh&gt;   not aware of the issue</div>
<div class="line">[Monday 21 March 2011] [16:51:22] &lt;pieterh&gt;   you distracted me by posting a long UUID</div>
<div class="line">[Monday 21 March 2011] [16:52:04] &lt;pieterh&gt;   yrashk: if you can log an issue, that&#8217;d be good, it sounds like an edge case</div>
<div class="line">[Monday 21 March 2011] [16:52:08] &lt;<a href="#id1668"><span class="problematic" id="id1669">flexo_</span></a>&gt;    jond: looking at it right now... what immediatly caught my attention... no unsigned integers?</div>
<div class="line">[Monday 21 March 2011] [16:52:22] &lt;yrashk&gt;    I am still experimenting</div>
<div class="line">[Monday 21 March 2011] [16:52:24] &lt;bpl29&gt;     creme: I&#8217;m not quite sure where that binary is.  Do you think it could be i386?  I can search more.</div>
<div class="line">[Monday 21 March 2011] [16:52:32] &lt;jond&gt;      flexo: always thought it would be nice to rip the structs / types part of idl out to use as message format generator, leaving all the interface stuff behind, idl looks so much better than an xml or some schema</div>
<div class="line">[Monday 21 March 2011] [16:52:40] &lt;bpl29&gt;     creme: ocamlmklib, that is</div>
<div class="line">[Monday 21 March 2011] [16:52:55] &lt;<a href="#id1670"><span class="problematic" id="id1671">flexo_</span></a>&gt;    jond: oh yea.</div>
<div class="line">[Monday 21 March 2011] [16:53:16] &lt;<a href="#id1672"><span class="problematic" id="id1673">flexo_</span></a>&gt;    especially if the IDL happens to look almost exactly the same in the language you are developing in... :)</div>
<div class="line">[Monday 21 March 2011] [16:54:01] &lt;<a href="#id1674"><span class="problematic" id="id1675">flexo_</span></a>&gt;    (but even if it doesnt fit... i like our python testcases, using omniorbpy)</div>
<div class="line">[Monday 21 March 2011] [16:54:48] &lt;<a href="#id1676"><span class="problematic" id="id1677">flexo_</span></a>&gt;    there are some nice really nice things about CORBA, the mean problem is that its one huge &#8220;solution&#8221;, not a set of solutions layered on-top of each other</div>
<div class="line">[Monday 21 March 2011] [16:54:52] &lt;cremes&gt;    bpl29: i&#8217;m not really sure what you are doing</div>
<div class="line">[Monday 21 March 2011] [16:54:53] &lt;jond&gt;      flexo : yep, but remember that python corba binding in omniorb almost makes corba bearable, so much easier than the c++</div>
<div class="line">[Monday 21 March 2011] [16:54:54] &lt;<a href="#id1678"><span class="problematic" id="id1679">flexo_</span></a>&gt;    <a href="#id75"><span class="problematic" id="id76">*</span></a>main</div>
<div class="line">[Monday 21 March 2011] [16:55:03] &lt;<a href="#id1680"><span class="problematic" id="id1681">flexo_</span></a>&gt;    jond: true...</div>
<div class="line">[Monday 21 March 2011] [16:55:09] &lt;cremes&gt;    bpl29: are you running the examples using the ocaml bindings?</div>
<div class="line">[Monday 21 March 2011] [16:55:20] &lt;<a href="#id1682"><span class="problematic" id="id1683">flexo_</span></a>&gt;    (the ICE mappings look like nice by the way)</div>
<div class="line">[Monday 21 March 2011] [16:55:44] &lt;bpl29&gt;     cremes: I am writing new OCaml bindings.</div>
<div class="line">[Monday 21 March 2011] [16:56:12] &lt;cremes&gt;    bpl29: ok; how do you execute your ocaml runtime?</div>
<div class="line">[Monday 21 March 2011] [16:56:36] &lt;<a href="#id1684"><span class="problematic" id="id1685">flexo_</span></a>&gt;    sigh. but project management will never let me deviate from the &#8220;industry standard&#8221; CORBA.... :)</div>
<div class="line">[Monday 21 March 2011] [16:57:16] &lt;jond&gt;      flexo: well henning was pretty damning in the end and thought he could better, even thought CDR was no better than XDR and the Zero Ice would be the way to go. Last time I looked Vinoski had discovered erlang</div>
<div class="line">[Monday 21 March 2011] [16:57:36] &lt;bpl29&gt;     cremes: the command in question is &#8220;ocamlmklib -o _wrapper_stubs wrapper.o -L/usr/local/lib -lzmq&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:57:47] &lt;<a href="#id1686"><span class="problematic" id="id1687">flexo_</span></a>&gt;    hehe</div>
<div class="line">[Monday 21 March 2011] [16:58:04] &lt;cremes&gt;    bpl29: ok; type &#8220;which ocamlmklib&#8221; and it will tell you where that program is in your PATH</div>
<div class="line">[Monday 21 March 2011] [16:58:08] &lt;cremes&gt;    then run &#8220;file&#8221; on it</div>
<div class="line">[Monday 21 March 2011] [16:58:25] &lt;bpl29&gt;     cremes: thanks.  I knew it was something so simple.</div>
<div class="line">[Monday 21 March 2011] [16:58:59] &lt;jond&gt;      flexo: where I am we use XDR and our own message defn language generating all the marshall/unmarshall classes. No corba</div>
<div class="line">[Monday 21 March 2011] [16:59:45] &lt;<a href="#id1688"><span class="problematic" id="id1689">flexo_</span></a>&gt;    jond: yea.. could have been done for our project too... but as i said.. &#8220;industry standard&#8221; :)</div>
<div class="line">[Monday 21 March 2011] [17:00:02] &lt;<a href="#id1690"><span class="problematic" id="id1691">flexo_</span></a>&gt;    (the department i am working for still has some 200mhz SGI boxes where they actually develop for)</div>
<div class="line">[Monday 21 March 2011] [17:00:16] &lt;bpl29&gt;     cremes: &#8220;/usr/local/bin/ocamlmktop: POSIX shell script text executable&#8221;</div>
<div class="line">[Monday 21 March 2011] [17:00:29] &lt;bpl29&gt;     cremes: I think that&#8217;s not what I&#8217;m looking for</div>
<div class="line">[Monday 21 March 2011] [17:00:33] &lt;cremes&gt;    bpl29: umm... you are going to have to do some digging</div>
<div class="line">[Monday 21 March 2011] [17:00:44] &lt;bpl29&gt;     cremes: the bash script just calls ocamlc, so I&#8217;ll go file that</div>
<div class="line">[Monday 21 March 2011] [17:00:54] &lt;cremes&gt;    that script must be calling some binary that is trying to link a 32-bit binary against the 64-bit 0mq lib</div>
<div class="line">[Monday 21 March 2011] [17:01:17] &lt;jond&gt;      flexo: that&#8217;s corporate life....</div>
<div class="line">[Monday 21 March 2011] [17:01:21] &lt;<a href="#id1692"><span class="problematic" id="id1693">flexo_</span></a>&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [17:01:28] &lt;<a href="#id1694"><span class="problematic" id="id1695">flexo_</span></a>&gt;    OTOH this is the reason i know some MIPS assembly :)</div>
<div class="line">[Monday 21 March 2011] [17:01:36] &lt;cremes&gt;    bpl29: you might need to pass some flags when linking your ocaml code so that it makes everything 64-bit</div>
<div class="line">[Monday 21 March 2011] [17:01:41] &lt;bpl29&gt;     cremes:  Okay, thanks Cremes.  I think I can do something with that.  You&#8217;ve been a big help to me, and you also helped me yesterday, so thank you very much.</div>
<div class="line">[Monday 21 March 2011] [17:01:52] &lt;yrashk&gt;    still can reproduce on master</div>
<div class="line">[Monday 21 March 2011] [17:01:54] &lt;<a href="#id1696"><span class="problematic" id="id1697">flexo_</span></a>&gt;    (i maintain a very small library which runs on said boxes... had to debug it there once :)</div>
<div class="line">[Monday 21 March 2011] [17:01:55] &lt;yrashk&gt;    hmmm</div>
<div class="line">[Monday 21 March 2011] [17:02:03] &lt;cremes&gt;    bpl29: ok; at this point, you&#8217;ll need to jump into the ocaml channel and ask them for some help :)</div>
<div class="line">[Monday 21 March 2011] [17:02:12] &lt;yrashk&gt;    but only on my slower laptop, not mac pro</div>
<div class="line">[Monday 21 March 2011] [17:02:13] &lt;yrashk&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [17:02:21] &lt;bpl29&gt;     cremes: That&#8217;s a good idea.  I&#8217;ll do that then.  Thanks again.</div>
<div class="line">[Monday 21 March 2011] [17:02:30] &lt;<a href="#id1698"><span class="problematic" id="id1699">flexo_</span></a>&gt;    the dept. is getting into trouble because its getting harder and harder to get replacement parts for these boxes :)</div>
<div class="line">[Monday 21 March 2011] [17:02:57] &lt;<a href="#id1700"><span class="problematic" id="id1701">flexo_</span></a>&gt;    the funny thing about the harddisks is that if the power goes out and they cool down about 1/3 of them dies</div>
<div class="line">[Monday 21 March 2011] [17:03:05] &lt;<a href="#id1702"><span class="problematic" id="id1703">flexo_</span></a>&gt;    so the boxes must be online all the time</div>
<div class="line">[Monday 21 March 2011] [17:03:48] &lt;<a href="#id1704"><span class="problematic" id="id1705">flexo_</span></a>&gt;    and i really enjoy taking interns into that room</div>
<div class="line">[Monday 21 March 2011] [17:05:23] &lt;<a href="#id1706"><span class="problematic" id="id1707">flexo_</span></a>&gt;    they dont quite believe it otherwise :)</div>
<div class="line">[Monday 21 March 2011] [17:06:04] &lt;<a href="#id1708"><span class="problematic" id="id1709">flexo_</span></a>&gt;    the number of people who know how to administer them grows shorter every year too</div>
<div class="line">[Monday 21 March 2011] [17:06:06] &lt;cremes&gt;    i just added one of my wish-list items to the 0mq 3.0 roadmap wiki page</div>
<div class="line">[Monday 21 March 2011] [17:06:15] &lt;<a href="#id1710"><span class="problematic" id="id1711">flexo_</span></a>&gt;    sheesh. where am i working :)</div>
<div class="line">[Monday 21 March 2011] [17:07:52] &lt;pieterh&gt;   cremes: a page is like... 60 lines of 80 chars?</div>
<div class="line">[Monday 21 March 2011] [17:08:21] &lt;cremes&gt;    pieterh: a page is usually some multiple of 512 bytes, like 4k on linux</div>
<div class="line">[Monday 21 March 2011] [17:09:06] &lt;pieterh&gt;   so, almost 60 x 80 like I thought :-)</div>
<div class="line">[Monday 21 March 2011] [17:09:21] &lt;cremes&gt;    almost</div>
<div class="line">[Monday 21 March 2011] [17:09:23] &lt;cremes&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [17:10:03] &lt;pieterh&gt;   nice change request, but you may have to submit the patch yourself</div>
<div class="line">[Monday 21 March 2011] [17:10:13] &lt;cremes&gt;    pieterh: understood</div>
<div class="line">[Monday 21 March 2011] [17:31:49] &lt;Guthur&gt;    hehe, I love how CORBA was defined by OMG</div>
<div class="line">[Monday 21 March 2011] [17:32:06] &lt;Guthur&gt;    I have this strange feeling it is very fitting]</div>
<div class="line">[Monday 21 March 2011] [17:50:57] &lt;mikko&gt;     drbobbeaty: i got a patch that disables shared library building on openpgm side</div>
<div class="line">[Monday 21 March 2011] [17:51:05] &lt;mikko&gt;     i will chat with steven about it and see what he things</div>
<div class="line">[Monday 21 March 2011] [17:51:08] &lt;mikko&gt;     thinks*</div>
<div class="line">[Monday 21 March 2011] [17:52:42] &lt;drbobbeaty&gt;        mikko: thanks, but I found the problem. You didn&#8217;t see it because etho0 is OK for you, but on my Ubuntu box, they bonded the NICs so I could use eth0, I had to use bond0.</div>
<div class="line">[Monday 21 March 2011] [17:52:53] &lt;drbobbeaty&gt;        tricky admins.</div>
<div class="line">[Monday 21 March 2011] [17:53:00] &lt;pieterh&gt;   drbobbeaty: heh, and this worked with 2.1.2?</div>
<div class="line">[Monday 21 March 2011] [17:53:17] &lt;drbobbeaty&gt;        It worked when I HAD 2.1.2 - they did it in the last week.</div>
<div class="line">[Monday 21 March 2011] [17:54:18] &lt;pieterh&gt;   drbobbeaty, ah, just retesting 2.1.2 would have saved us all some time</div>
<div class="line">[Monday 21 March 2011] [17:55:40] &lt;drbobbeaty&gt;        Yeah, that was my fault, and I&#8217;m really sorry about that. It just didn&#8217;t cross my mind because it was working.</div>
<div class="line">[Monday 21 March 2011] [17:56:25] &lt;pieterh&gt;   glad pgm is working, anyhow</div>
<div class="line">[Monday 21 March 2011] [18:00:54] &lt;mikko&gt;     drbobbeaty, pieterh good!</div>
<div class="line">[Monday 21 March 2011] [18:01:12] &lt;mikko&gt;     in any case i worked up solutions on zeromq and libpgm side to prevent the confusing libpgm.so install</div>
<div class="line">[Monday 21 March 2011] [18:01:18] &lt;mikko&gt;     pieterh: you are CCd on mail to steven</div>
<div class="line">[Monday 21 March 2011] [18:01:26] &lt;mikko&gt;     let&#8217;s see what he thinks</div>
<div class="line">[Monday 21 March 2011] [18:01:31] &lt;pieterh&gt;   mikko: reading it now...</div>
<div class="line">[Monday 21 March 2011] [18:01:32] &lt;drbobbeaty&gt;        Thanks, mikko... I think it&#8217;ll be a very good thing to have.</div>
<div class="line">[Monday 21 March 2011] [18:02:37] &lt;pieterh&gt;   mikko: I&#8217;d guess not installing the libpgm.so is best</div>
<div class="line">[Monday 21 March 2011] [18:04:08] &lt;mikko&gt;     yeah</div>
<div class="line">[Monday 21 March 2011] [18:04:16] &lt;mikko&gt;     would be the best if steven agrees with the patch</div>
<div class="line">[Monday 21 March 2011] [18:06:46] &lt;mikko&gt;     productive day</div>
<div class="line">[Monday 21 March 2011] [18:07:05] &lt;pieterh&gt;   yeah, I&#8217;ve almost finished the clone pattern</div>
<div class="line">[Monday 21 March 2011] [18:07:26] &lt;pieterh&gt;   <em>and</em> I took the kids to the park</div>
<div class="line">[Monday 21 March 2011] [18:07:28] &lt;pieterh&gt;   great day</div>
<div class="line">[Monday 21 March 2011] [18:11:10] &lt;Guthur&gt;    would exposing the connected IPs to a 0MQ be possible</div>
<div class="line">[Monday 21 March 2011] [18:11:20] &lt;pieterh&gt;   Guthur: doubt it</div>
<div class="line">[Monday 21 March 2011] [18:13:03] &lt;Guthur&gt;    shame, I was just thinking in terms of a FIX engine, one of the recommend authentication procedures was to match IPs to companies</div>
<div class="line">[Monday 21 March 2011] [18:13:28] &lt;Guthur&gt;    obviously spoofing is possible, which the whitepaper also mentions</div>
<div class="line">[Monday 21 March 2011] [18:13:29] &lt;pieterh&gt;   it&#8217;s been discussed before</div>
<div class="line">[Monday 21 March 2011] [18:13:36] &lt;Guthur&gt;    oh</div>
<div class="line">[Monday 21 March 2011] [18:14:00] &lt;pieterh&gt;   one might have a pluggable authentication layer that sits above the transport</div>
<div class="line">[Monday 21 March 2011] [18:14:24] &lt;pieterh&gt;   this would be necessary for any public-facing 0MQ server IMO</div>
<div class="line">[Monday 21 March 2011] [18:14:47] &lt;pieterh&gt;   though people have argued stuff like banning bogus clients is a firewall issue</div>
<div class="line">[Monday 21 March 2011] [18:15:39] &lt;Guthur&gt;    security is always should a head pickle</div>
<div class="line">[Monday 21 March 2011] [18:16:06] &lt;pieterh&gt;   indeed... :-)</div>
<div class="line">[Monday 21 March 2011] [18:16:57] &lt;Guthur&gt;    Better I at least making a passing effort to understand the options now though</div>
<div class="line">[Monday 21 March 2011] [18:17:21] &lt;pieterh&gt;   if you take 0MQ today, rather than some possible future version</div>
<div class="line">[Monday 21 March 2011] [18:17:35] &lt;pieterh&gt;   then validation must be done explicitly using authentication</div>
<div class="line">[Monday 21 March 2011] [18:18:10] &lt;pieterh&gt;   alternatively you can make a TCP front-end that speaks FIX to the world, and 0MQ to the internal network</div>
<div class="line">[Monday 21 March 2011] [18:18:28] &lt;Guthur&gt;    that was a feature I would like</div>
<div class="line">[Monday 21 March 2011] [18:18:40] &lt;Guthur&gt;    I was going to build the 0MQ version first though</div>
<div class="line">[Monday 21 March 2011] [18:18:40] &lt;pieterh&gt;   it&#8217;s a fairly simple app, if you have FIX libraries</div>
<div class="line">[Monday 21 March 2011] [18:18:55] &lt;Guthur&gt;    then add the bridge to TCP later</div>
<div class="line">[Monday 21 March 2011] [18:19:15] &lt;Guthur&gt;    I was going to take QuickFIXs message parsing for now</div>
<div class="line">[Monday 21 March 2011] [18:19:38] &lt;Guthur&gt;    and replace the engine with 0MQ</div>
<div class="line">[Monday 21 March 2011] [18:19:42] &lt;pieterh&gt;   if you asked me, I&#8217;d make the bridge first</div>
<div class="line">[Monday 21 March 2011] [18:20:03] &lt;pieterh&gt;   use QuickFIX parsing over TCP at one side, 0MQ at the other side</div>
<div class="line">[Monday 21 March 2011] [18:23:10] &lt;Guthur&gt;    probably the more sensible approach</div>
<div class="line">[Monday 21 March 2011] [18:23:45] &lt;Guthur&gt;    I was just really eager to build a big 0MQ system, hehe</div>
<div class="line">[Monday 21 March 2011] [18:28:14] &lt;pieterh&gt;   btw, an open source FIX-to-0MQ bridge would be very useful for Whaleshark</div>
<div class="line">[Monday 21 March 2011] [18:32:59] &lt;Guthur&gt;    the question in my mind is how much functionality to put in the bridge</div>
<div class="line">[Monday 21 March 2011] [18:33:27] &lt;pieterh&gt;   filtering and extraction</div>
<div class="line">[Monday 21 March 2011] [18:33:45] &lt;pieterh&gt;   so that you chop the message flow down as far as possible</div>
<div class="line">[Monday 21 March 2011] [18:33:49] &lt;pieterh&gt;   without doing too much CPU intensive work</div>
<div class="line">[Monday 21 March 2011] [18:34:01] &lt;pieterh&gt;   IMHO</div>
<div class="line">[Monday 21 March 2011] [18:34:29] &lt;Guthur&gt;    well the easy one is splitting the admin and app message</div>
<div class="line">[Monday 21 March 2011] [18:34:37] &lt;Guthur&gt;    messages*#</div>
<div class="line">[Monday 21 March 2011] [18:35:39] &lt;Guthur&gt;    would a bridge offer a place to add encryption/decryption</div>
<div class="line">[Monday 21 March 2011] [18:36:04] &lt;pieterh&gt;   probably not, unless you can offload that work</div>
<div class="line">[Monday 21 March 2011] [18:37:11] &lt;Guthur&gt;    so add the basic level possibly filter admin/app messages, and verify checksums</div>
<div class="line">[Monday 21 March 2011] [18:37:16] &lt;Guthur&gt;    add/at</div>
<div class="line">[Monday 21 March 2011] [18:37:37] &lt;pieterh&gt;   it depends really on the volumes you&#8217;re dealing with and your hardware</div>
<div class="line">[Monday 21 March 2011] [18:37:50] &lt;pieterh&gt;   you want to get the machines working hard enough but not stressed</div>
<div class="line">[Monday 21 March 2011] [18:38:12] &lt;pieterh&gt;   otherwise you&#8217;re going to get latency spikes when there&#8217;s a lot of data</div>
<div class="line">[Monday 21 March 2011] [18:38:26] &lt;Guthur&gt;    FIX engines can be running on some pretty hefty hardware</div>
<div class="line">[Monday 21 March 2011] [18:38:54] &lt;Guthur&gt;    the bank I work for is now serving up all their FX pricing on a FIX engine</div>
<div class="line">[Monday 21 March 2011] [18:39:06] &lt;pieterh&gt;   you work for a bank...</div>
<div class="line">[Monday 21 March 2011] [18:39:13] &lt;Guthur&gt;    and now even clients are asking for it to be exposed them</div>
<div class="line">[Monday 21 March 2011] [18:39:16] &lt;Guthur&gt;    pieterh, yep</div>
<div class="line">[Monday 21 March 2011] [18:39:16]      * pieterh ends the free consulting</div>
<div class="line">[Monday 21 March 2011] [18:39:21] &lt;Guthur&gt;    lol</div>
<div class="line">[Monday 21 March 2011] [18:39:28]      * pieterh doubles his rates</div>
<div class="line">[Monday 21 March 2011] [18:39:47] &lt;Guthur&gt;    if only I was writing the cheques</div>
<div class="line">[Monday 21 March 2011] [18:40:15] &lt;Guthur&gt;    in truth though this is a personal project</div>
<div class="line">[Monday 21 March 2011] [18:40:37] &lt;pieterh&gt;   an open source FIX-to-0MQ bridge would be neat</div>
<div class="line">[Monday 21 March 2011] [18:41:25] &lt;Guthur&gt;    yep, it&#8217;s my goal to have this stuff open source</div>
<div class="line">[Monday 21 March 2011] [18:41:38] &lt;Guthur&gt;    if I can build it properly</div>
<div class="line">[Monday 21 March 2011] [18:41:55] &lt;mikko&gt;     pieterh: sent you some stuff again</div>
<div class="line">[Monday 21 March 2011] [18:41:56] &lt;pieterh&gt;   make it open source first, then you&#8217;ll be sure to build it properly</div>
<div class="line">[Monday 21 March 2011] [18:42:09] &lt;mikko&gt;     don&#8217;t read it before morning, it&#8217;s work related</div>
<div class="line">[Monday 21 March 2011] [18:42:23] &lt;mikko&gt;     build the community first, good products will follow</div>
<div class="line">[Monday 21 March 2011] [18:42:37] &lt;mikko&gt;     said some mozilla guy</div>
<div class="line">[Monday 21 March 2011] [18:42:41] &lt;pieterh&gt;   mikko: I&#8217;m supposed to <em>sleep</em> knowing there&#8217;s an unread mail from you?</div>
<div class="line">[Monday 21 March 2011] [18:42:44] &lt;pieterh&gt;   unpossible</div>
<div class="line">[Monday 21 March 2011] [18:43:17] &lt;mikko&gt;     heh, im gonna sleep now. another long day ahead</div>
<div class="line">[Monday 21 March 2011] [18:43:18] &lt;mikko&gt;     night</div>
<div class="line">[Monday 21 March 2011] [19:00:36] &lt;pieterh&gt;   anyone here using 0MQ from C?</div>
<div class="line">[Monday 21 March 2011] [19:07:13] &lt;Guthur&gt;    when something does not work I now use it for a sanity check</div>
<div class="line">[Monday 21 March 2011] [19:07:19] &lt;Guthur&gt;    but i don&#8217;t think that really counts</div>
<div class="line">[Monday 21 March 2011] [19:18:44] &lt;pieterh&gt;   I&#8217;ve sketched out a proposal for a high-level C binding</div>
<div class="line">[Monday 21 March 2011] [19:18:53] &lt;pieterh&gt;   <a class="reference external" href="http://www.zeromq.org/bindings:c">http://www.zeromq.org/bindings:c</a></div>
<div class="line">[Monday 21 March 2011] [19:21:35] &lt;pieterh&gt;   well, g&#8217;nite everyone...</div>
<div class="line">[Monday 21 March 2011] [19:32:45] &lt;Guthur&gt;    g&#8217;night pieterh</div>
<div class="line">[Monday 21 March 2011] [21:02:11] &lt;reiddraper&gt;        I&#8217;m seeing ~4K requests/second for a REQ-REP socket with two python processes. The are sending &#8220;hello&#8221;. Is this performance expected?</div>
<div class="line">[Monday 21 March 2011] [21:04:28] &lt;jhawk28&gt;   not sure about python, but it usually depends</div>
<div class="line">[Monday 21 March 2011] [21:04:50] &lt;jhawk28&gt;   on the network, the computing platform, and the language bindings</div>
<div class="line">[Monday 21 March 2011] [21:05:22] &lt;reiddraper&gt;        jhawk28: localhost, ubuntu</div>
<div class="line">[Monday 21 March 2011] [21:06:01] &lt;reiddraper&gt;        jhawk28: suppose I was expecting it to be an order of magnitude faster</div>
<div class="line">[Monday 21 March 2011] [21:06:27] &lt;jhawk28&gt;   are you just req: Hello and Rep: hello?</div>
<div class="line">[Monday 21 March 2011] [21:06:40] &lt;reiddraper&gt;        yes</div>
<div class="line">[Monday 21 March 2011] [21:07:25] &lt;reiddraper&gt;        zeromq 2.1.3</div>
<div class="line">[Monday 21 March 2011] [21:07:41] &lt;jhawk28&gt;   let me do a quick one in Java</div>
<div class="line">[Monday 21 March 2011] [21:07:52] &lt;reiddraper&gt;        same performance with ipc and tcp</div>
<div class="line">[Monday 21 March 2011] [21:08:13] &lt;reiddraper&gt;        jhawk28: thanks</div>
<div class="line">[Monday 21 March 2011] [21:21:17] &lt;andrewvc&gt;  cremes: around?</div>
<div class="line">[Monday 21 March 2011] [21:21:29] &lt;andrewvc&gt;  cremes: Wondering if you&#8217;d mind me releasing 0.7.3 w/ zdevice support</div>
<div class="line">[Monday 21 March 2011] [21:23:52] &lt;jhawk28&gt;   reiddraper: I&#8217;m getting about 10k/s</div>
<div class="line">[Monday 21 March 2011] [21:25:30] &lt;reiddraper&gt;        jhawk28: ok, seems reasonable that python would be 4K then</div>
<div class="line">[Monday 21 March 2011] [21:26:51] &lt;jhawk28&gt;   thats Java with 2.1.3 on a 2.4 Core i5 (OSX)</div>
<div class="line">[Monday 21 March 2011] [21:30:01] &lt;jhawk28&gt;   reiddraper: push/pull gets 2mil/s</div>
<div class="line">[Monday 21 March 2011] [21:30:37] &lt;reiddraper&gt;        jhawk28: pretty big difference</div>
<div class="line">[Monday 21 March 2011] [21:31:40] &lt;reiddraper&gt;        only really surprised because I&#8217;ve seen http servers do more req/s than what I&#8217;m seeing</div>
<div class="line">[Monday 21 March 2011] [21:33:10] &lt;jhawk28&gt;   req/rep is synchronous</div>
<div class="line">[Monday 21 March 2011] [21:33:20] &lt;jhawk28&gt;   single threaded both sides</div>
<div class="line">[Monday 21 March 2011] [21:34:44] &lt;reiddraper&gt;        yeah, figured it would have to be, that being said, so is something like Redis, which gets 10&#8217;s of thousands of operations / second, over tcp</div>
<div class="line">[Monday 21 March 2011] [21:34:53] &lt;reiddraper&gt;        req-rep</div>
<div class="line">[Monday 21 March 2011] [21:47:17] &lt;jhawk28&gt;   reiddraper: increase the number of clients</div>
<div class="line">[Monday 21 March 2011] [21:48:30] &lt;jhawk28&gt;   when I bump up the number of clients, I am getting 25k/sec</div>
<div class="line">[Monday 21 March 2011] [21:49:56] &lt;reiddraper&gt;        jhawk28: Cool, and to be honest, for what I have in mind, 4k/sec is plenty fast</div>
<div class="line">[Monday 21 March 2011] [21:51:15] &lt;jhawk28&gt;   I could probably scale it more if I used XREP</div>
<div class="line">[Monday 21 March 2011] [21:52:16] &lt;jhawk28&gt;   and actually split it between machines</div>
<div class="line">[Monday 21 March 2011] [21:55:20] &lt;reiddraper&gt;        jhawk28: can you explain the difference betwen xreq/rep and req/rep?</div>
<div class="line">[Monday 21 March 2011] [21:56:02] &lt;jhawk28&gt;   req/rep is syncronous, xreq/xrep uses identities</div>
<div class="line">[Monday 21 March 2011] [21:56:48] &lt;reiddraper&gt;        ah, OK</div>
<div class="line">[Monday 21 March 2011] [21:56:56] &lt;jhawk28&gt;   the identities are then used by zmq to route the response back to the correct socket</div>
<div class="line">[Monday 21 March 2011] [21:58:07] &lt;jhawk28&gt;   thats as much as I know</div>
<div class="line">[Monday 21 March 2011] [21:58:16] &lt;jhawk28&gt;   I haven&#8217;t used them much</div>
<div class="line">[Monday 21 March 2011] [21:58:27] &lt;jhawk28&gt;   its on my todo list...</div>
<div class="line">[Monday 21 March 2011] [22:00:08] &lt;reiddraper&gt;        jhawk28: ok, so you don&#8217;t get slowed down by slowest client that is load-balanced</div>
<div class="line">[Monday 21 March 2011] [22:01:15] &lt;jhawk28&gt;   or worker</div>
<div class="line">[Monday 21 March 2011] [22:01:40] &lt;jhawk28&gt;   thats what xreq is for (for dealing out work)</div>
<div class="line">[Monday 21 March 2011] [22:04:14] &lt;reiddraper&gt;        ok, so for a queue broker, the clients sending xreq (give me a task), and the broker sending xrep (do this) makes sense?</div>
<div class="line">[Monday 21 March 2011] [22:07:41] &lt;jhawk28&gt;   Chapter 3 does a good job explaining it: <a class="reference external" href="http://zguide.zeromq.org/page:all#toc45">http://zguide.zeromq.org/page:all#toc45</a></div>
<div class="line">[Monday 21 March 2011] [22:08:15] &lt;reiddraper&gt;        jhawk28: awesome. thanks</div>
<div class="line">[Monday 21 March 2011] [22:16:11] &lt;believa&gt;   newb question - are the following statements true? You cannot &#8220;bind&#8221; multiple sockets to the same endpoint. You &#8220;can&#8221; connect multiple sockets to the same endpoint. A socket can &#8220;bind&#8221; and/or &#8220;connect&#8221; to multiple endpoints.</div>
<div class="line">[Monday 21 March 2011] [22:18:58] &lt;jhawk28&gt;   Yes, yes</div>
<div class="line">[Monday 21 March 2011] [22:19:16] &lt;jhawk28&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [22:19:21] &lt;believa&gt;   jhawk28: thanks for the confirmation</div>
<div class="line">[Monday 21 March 2011] [22:20:46] &lt;neopallium&gt;        believa: you can bind one socket to multiple different endpoints, but you can&#8217;t bind multiple sockets to the same endpoint.</div>
<div class="line">[Monday 21 March 2011] [22:21:13] &lt;believa&gt;   neopallium: gotcha</div>
<div class="line">[Monday 21 March 2011] [22:21:15] &lt;neopallium&gt;        just like you can&#8217;t bind multiple tcp sockets to the same port on the same computer.</div>
<div class="line">[Monday 21 March 2011] [22:22:29] &lt;believa&gt;   neopallium: that should result in EADDRINUSE right?</div>
<div class="line">[Monday 21 March 2011] [22:30:20] &lt;neopallium&gt;        believa: yes</div>
<div class="line">[Monday 21 March 2011] [22:30:35] &lt;believa&gt;   neopallium: thanks</div>
<div class="line">[Tuesday 22 March 2011] [03:47:12] &lt;sustrik&gt;  reiddrapper: req/rep is lock-step; the performance is determined by the latency of your network</div>
<div class="line">[Tuesday 22 March 2011] [03:47:32] &lt;sustrik&gt;  the actual messaging fabric is almost irrelevant</div>
<div class="line">[Tuesday 22 March 2011] [04:09:14] &lt;pieterh&gt;  good morning</div>
<div class="line">[Tuesday 22 March 2011] [04:10:23] &lt;pieterh&gt;  sustrik: we had this question twice in a day, perhaps worth some explanation in the guide</div>
<div class="line">[Tuesday 22 March 2011] [04:12:06] &lt;sustrik&gt;  yes, that would be good</div>
<div class="line">[Tuesday 22 March 2011] [04:12:11] &lt;sustrik&gt;  alternatively</div>
<div class="line">[Tuesday 22 March 2011] [04:12:17] &lt;sustrik&gt;  there&#8217;s a page about rinning perf tests</div>
<div class="line">[Tuesday 22 March 2011] [04:12:21] &lt;sustrik&gt;  let me see</div>
<div class="line">[Tuesday 22 March 2011] [04:12:40] &lt;pieterh&gt;  perhaps an explicit page we can refer to upfront, yes</div>
<div class="line">[Tuesday 22 March 2011] [04:12:54] &lt;pieterh&gt;  e.g. expected throughput and latency of each pattern</div>
<div class="line">[Tuesday 22 March 2011] [04:13:05] &lt;pieterh&gt;  very rough, but to set expectations properly</div>
<div class="line">[Tuesday 22 March 2011] [04:14:23] &lt;sustrik&gt;  <a class="reference external" href="http://www.zeromq.org/results:perf-howto">http://www.zeromq.org/results:perf-howto</a></div>
<div class="line">[Tuesday 22 March 2011] [04:20:18] &lt;pieterh&gt;  sustrik: it&#8217;s not very useful to beginners IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:21:25] &lt;pieterh&gt;  I&#8217;ll think about how to explain this, it&#8217;s got to be in terms of limits, capacity, speed of different patterns &amp; transports</div>
<div class="line">[Tuesday 22 March 2011] [04:21:35] &lt;pieterh&gt;  like a spec sheet</div>
<div class="line">[Tuesday 22 March 2011] [04:21:40] &lt;sustrik&gt;  let me send you a diagram</div>
<div class="line">[Tuesday 22 March 2011] [04:22:17] &lt;pieterh&gt;  sure</div>
<div class="line">[Tuesday 22 March 2011] [04:39:19] &lt;pieterh&gt;  sustrik: random idea for cleaner semantics on multipart messages</div>
<div class="line">[Tuesday 22 March 2011] [04:39:36] &lt;pieterh&gt;  make the MORE bit a property of a frame (zmq_msg_t) rather than a socket</div>
<div class="line">[Tuesday 22 March 2011] [04:40:03] &lt;sustrik&gt;  that&#8217;s how it works on wire level</div>
<div class="line">[Tuesday 22 March 2011] [04:40:11] &lt;pieterh&gt;  it would also make more sense at the API level IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:40:12] &lt;sustrik&gt;  with API it&#8217;s a pain to use</div>
<div class="line">[Tuesday 22 March 2011] [04:40:26] &lt;sustrik&gt;  i though of combining the two approaches</div>
<div class="line">[Tuesday 22 March 2011] [04:40:30] &lt;pieterh&gt;  it means I can prepare a frame and write it with a generic method</div>
<div class="line">[Tuesday 22 March 2011] [04:40:41] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:40:58] &lt;pieterh&gt;  if you consider zmq_msg_t as a &#8216;smart blob&#8217; (and I like this), then it should have a more property</div>
<div class="line">[Tuesday 22 March 2011] [04:41:10] &lt;sustrik&gt;  the problem is this:</div>
<div class="line">[Tuesday 22 March 2011] [04:41:27] &lt;sustrik&gt;  zmq_send (msg, MSG_SNDMORE);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:27] &lt;sustrik&gt;  vs.</div>
<div class="line">[Tuesday 22 March 2011] [04:41:47] &lt;sustrik&gt;  zmq_msg_setflag (msg, ZMQ_MORE, 1);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:51] &lt;pieterh&gt;  you can always do both</div>
<div class="line">[Tuesday 22 March 2011] [04:41:53] &lt;sustrik&gt;  zmq_send (msg, 0);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:58] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:42:19] &lt;pieterh&gt;  I see the zmq_send (..., MSG_SENDMORE) as either an optimization or an override</div>
<div class="line">[Tuesday 22 March 2011] [04:42:26] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:42:32] &lt;sustrik&gt;  convenience feature</div>
<div class="line">[Tuesday 22 March 2011] [04:42:45] &lt;pieterh&gt;  e.g. if I have an identity frame, and want to send it, it&#8217;s always going to be MORE</div>
<div class="line">[Tuesday 22 March 2011] [04:43:04] &lt;pieterh&gt;  read / write then become symmetric</div>
<div class="line">[Tuesday 22 March 2011] [04:43:04] &lt;sustrik&gt;  yes, it would simplify devices</div>
<div class="line">[Tuesday 22 March 2011] [04:43:07] &lt;pieterh&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:43:20] &lt;pieterh&gt;  indeed, any generic handling of multipart messages becomes cleaner</div>
<div class="line">[Tuesday 22 March 2011] [04:43:30] &lt;sustrik&gt;  ack</div>
<div class="line">[Tuesday 22 March 2011] [04:43:38] &lt;pieterh&gt;  another question, is it necessary to destroy a message after sending it?</div>
<div class="line">[Tuesday 22 March 2011] [04:43:50] &lt;pieterh&gt;  sending the same frame N times is rather clumsy today</div>
<div class="line">[Tuesday 22 March 2011] [04:43:53] &lt;sustrik&gt;  it you don&#8217;t nothing happens</div>
<div class="line">[Tuesday 22 March 2011] [04:44:13] &lt;sustrik&gt;  but it&#8217;s safer to do so for forward compatibility</div>
<div class="line">[Tuesday 22 March 2011] [04:44:23] &lt;pieterh&gt;  ah, you mean _close is optional</div>
<div class="line">[Tuesday 22 March 2011] [04:44:29] &lt;sustrik&gt;  nope</div>
<div class="line">[Tuesday 22 March 2011] [04:44:46] &lt;sustrik&gt;  technically, closing empty message translates to noop</div>
<div class="line">[Tuesday 22 March 2011] [04:45:03] &lt;sustrik&gt;  however, that is not guaranteed to hold in future versions of 0mq</div>
<div class="line">[Tuesday 22 March 2011] [04:45:31] &lt;sustrik&gt;  so, preferable, close the messages so that 0mq can hook into message destruction process</div>
<div class="line">[Tuesday 22 March 2011] [04:45:41] &lt;sustrik&gt;  preferably*</div>
<div class="line">[Tuesday 22 March 2011] [04:46:01] &lt;pieterh&gt;  To send a message twice I need to:</div>
<div class="line">[Tuesday 22 March 2011] [04:46:02] &lt;pieterh&gt;  zmq_msg_t copy;</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_init (&amp;copy);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_copy (&amp;copy, &amp;original);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_send (socket, &amp;copy, 0);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_close (&amp;copy);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:13] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:46:39] &lt;sustrik&gt;  well, you should close the original as well</div>
<div class="line">[Tuesday 22 March 2011] [04:46:39] &lt;pieterh&gt;  so my question is whether it&#8217;s necessary for 0MQ to destroy the message after sending</div>
<div class="line">[Tuesday 22 March 2011] [04:46:43] &lt;sustrik&gt;  unless you are going to use it</div>
<div class="line">[Tuesday 22 March 2011] [04:46:49] &lt;sustrik&gt;  not now</div>
<div class="line">[Tuesday 22 March 2011] [04:46:55] &lt;sustrik&gt;  may be necessary in future</div>
<div class="line">[Tuesday 22 March 2011] [04:47:04] &lt;pieterh&gt;  could I have a flag saying, &#8220;don&#8217;t nullify after sending&#8221;?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:13] &lt;pieterh&gt;  MSG_REUSE</div>
<div class="line">[Tuesday 22 March 2011] [04:47:29] &lt;sustrik&gt;  ah, a convenience feature</div>
<div class="line">[Tuesday 22 March 2011] [04:47:41] &lt;sustrik&gt;  you can have that, but you should be aware it&#8217;s slow</div>
<div class="line">[Tuesday 22 March 2011] [04:47:53] &lt;pieterh&gt;  slower than creating copies each time?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:54] &lt;pieterh&gt;  how so?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:59] &lt;sustrik&gt;  there&#8217;s refernce counting going on there</div>
<div class="line">[Tuesday 22 March 2011] [04:48:05] &lt;sustrik&gt;  which is implemented using atomic ops</div>
<div class="line">[Tuesday 22 March 2011] [04:48:19] &lt;sustrik&gt;  which in turn means the memory bus is locked each time you do so</div>
<div class="line">[Tuesday 22 March 2011] [04:48:37] &lt;pieterh&gt;  yes, but I&#8217;m copying the message each time now</div>
<div class="line">[Tuesday 22 March 2011] [04:48:43] &lt;pieterh&gt;  that also locks the memory bus each time</div>
<div class="line">[Tuesday 22 March 2011] [04:48:48] &lt;sustrik&gt;  yes, we can add the convenience flag</div>
<div class="line">[Tuesday 22 March 2011] [04:49:07] &lt;sustrik&gt;  nope, copying doesn&#8217;t lock the bus</div>
<div class="line">[Tuesday 22 March 2011] [04:49:24] &lt;sustrik&gt;  well, unless there&#8217;s contention between CPU cores on that particular cacheline</div>
<div class="line">[Tuesday 22 March 2011] [04:49:33] &lt;pieterh&gt;  well, copying also uses atomic ops for reference counting</div>
<div class="line">[Tuesday 22 March 2011] [04:49:51] &lt;sustrik&gt;  ah, you mean zmq_msg_copy</div>
<div class="line">[Tuesday 22 March 2011] [04:49:53] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:49:59] &lt;sustrik&gt;  so yes, we can add the flag</div>
<div class="line">[Tuesday 22 March 2011] [04:50:07] &lt;pieterh&gt;  yes, there&#8217;s no other way to send the same frame twice</div>
<div class="line">[Tuesday 22 March 2011] [04:50:17] &lt;sustrik&gt;  what i&#8217;m saying is that it should not be the default</div>
<div class="line">[Tuesday 22 March 2011] [04:50:17] &lt;pieterh&gt;  aight...</div>
<div class="line">[Tuesday 22 March 2011] [04:50:22] &lt;pieterh&gt;  ah, certainly</div>
<div class="line">[Tuesday 22 March 2011] [04:51:00]     * pieterh peeks at the code...</div>
<div class="line">[Tuesday 22 March 2011] [04:52:18] &lt;pieterh&gt;  well, I&#8217;ll add this to the 3.0 page but I have no idea how to make it :-)</div>
<div class="line">[Tuesday 22 March 2011] [04:52:25] &lt;pieterh&gt;  it would be useful, though IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:53:54] &lt;sustrik&gt;  it&#8217;s backward compatible, so no need to solve it immediately</div>
<div class="line">[Tuesday 22 March 2011] [04:54:12] &lt;sustrik&gt;  the backward incompatible changes are what&#8217;s in focus now</div>
<div class="line">[Tuesday 22 March 2011] [04:54:28] &lt;sustrik&gt;  they have to be done in a single go, if possible</div>
<div class="line">[Tuesday 22 March 2011] [04:54:33] &lt;sustrik&gt;  to minimise the pain</div>
<div class="line">[Tuesday 22 March 2011] [04:54:53] &lt;sustrik&gt;  the remaining functionality can be added gradually afterwards</div>
<div class="line">[Tuesday 22 March 2011] [04:58:29] &lt;pieterh&gt;  I&#8217;m not sure the changes will be as painful as you imagine</div>
<div class="line">[Tuesday 22 March 2011] [04:58:55] &lt;sustrik&gt;  dunno, but minimising the pain is a good thing in itself</div>
<div class="line">[Tuesday 22 March 2011] [04:59:10] &lt;pieterh&gt;  yes, at least doing it all in one go</div>
<div class="line">[Tuesday 22 March 2011] [06:59:40] &lt;pieterh&gt;  sustrik: I&#8217;ve built the basic API for the high-level C binding, at <a class="reference external" href="https://github.com/zeromq/zapi">https://github.com/zeromq/zapi</a></div>
<div class="line">[Tuesday 22 March 2011] [06:59:51] &lt;pieterh&gt;  will fill in the pieces over the next few days</div>
<div class="line">[Tuesday 22 March 2011] [07:01:10] &lt;drbobbeaty&gt;       pieterh: if the C level binding is separate in 3.x, is the C++ binding as well? Are they different bindings? What comes &#8220;standard&#8221; with the ZMQ libraries? Any &#8216;default&#8217; API?</div>
<div class="line">[Tuesday 22 March 2011] [07:01:25] &lt;pieterh&gt;  drbobbeaty: yes, we plan to split off the C++ binding as well</div>
<div class="line">[Tuesday 22 March 2011] [07:01:33] &lt;pieterh&gt;  the default API is the Core C API</div>
<div class="line">[Tuesday 22 March 2011] [07:02:09] &lt;pieterh&gt;  the new C binding will work over 2.x as well as 3.x</div>
<div class="line">[Tuesday 22 March 2011] [07:02:42] &lt;drbobbeaty&gt;       Ah! I see the advantage to having the separate binding now - bridge the versions. Nice plan.</div>
<div class="line">[Tuesday 22 March 2011] [07:03:03] &lt;pieterh&gt;  also it makes it much easier to add useful functionality without breaking other language bindings</div>
<div class="line">[Tuesday 22 March 2011] [07:03:18] &lt;pieterh&gt;  so we can e.g. write a C reactor without affecting the core</div>
<div class="line">[Tuesday 22 March 2011] [07:18:47] &lt;Guthur&gt;   pieterh: I think I&#8217;ll draw some inspiration from the new C binding</div>
<div class="line">[Tuesday 22 March 2011] [07:19:09] &lt;pieterh&gt;  Guthur: could be fun, I&#8217;ve tried to use a class-oriented approach for most of it</div>
<div class="line">[Tuesday 22 March 2011] [07:20:26] &lt;pieterh&gt;  I&#8217;ll be converting the Guide examples to zapi when it&#8217;s ready</div>
<div class="line">[Tuesday 22 March 2011] [07:20:40] &lt;pieterh&gt;  so if the C++ binding is anything like that, it&#8217;ll be a lot easier for those examples too</div>
<div class="line">[Tuesday 22 March 2011] [07:21:14] &lt;pieterh&gt;  Guthur: when you need a repository created in the zeromq organization, give me a shout</div>
<div class="line">[Tuesday 22 March 2011] [07:21:16] &lt;Guthur&gt;   C# you mean, hehe</div>
<div class="line">[Tuesday 22 March 2011] [07:21:21] &lt;pieterh&gt;  oh, sorry</div>
<div class="line">[Tuesday 22 March 2011] [07:21:23] &lt;pieterh&gt;  C#</div>
<div class="line">[Tuesday 22 March 2011] [07:21:29]     * pieterh was getting all confused</div>
<div class="line">[Tuesday 22 March 2011] [07:21:48]     * pieterh searches for the &#8216;edit&#8217; button...</div>
<div class="line">[Tuesday 22 March 2011] [07:24:16] &lt;Guthur&gt;   When 0MQ 3.0 API is finalized I&#8217;m going to develop a new branch for clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:24:46] &lt;Guthur&gt;   I have a far better idea now what works and what doesn&#8217;t</div>
<div class="line">[Tuesday 22 March 2011] [07:25:02] &lt;pieterh&gt;  please don&#8217;t call it clrzmq3 :-)</div>
<div class="line">[Tuesday 22 March 2011] [07:25:23] &lt;Guthur&gt;   yeah I&#8217;ll resist that temptation</div>
<div class="line">[Tuesday 22 March 2011] [07:25:47] &lt;Guthur&gt;   It will just be a branch of clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:26:00] &lt;pieterh&gt;  though ... embracing the chaos... it could be useful</div>
<div class="line">[Tuesday 22 March 2011] [07:26:07] &lt;pieterh&gt;  if binding versions track the development version</div>
<div class="line">[Tuesday 22 March 2011] [07:26:19] &lt;pieterh&gt;  so people know that clrzmq3 supports 3.x and 2.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:26] &lt;Guthur&gt;   the assembly will be version 3.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:49] &lt;Guthur&gt;   the assembly is currently 2.1.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:58] &lt;pieterh&gt;  problem is that the version number is in the github repo name</div>
<div class="line">[Tuesday 22 March 2011] [07:27:05] &lt;Guthur&gt;   true</div>
<div class="line">[Tuesday 22 March 2011] [07:27:11] &lt;pieterh&gt;  we have the same problem with zeromq2</div>
<div class="line">[Tuesday 22 March 2011] [07:28:00] &lt;Guthur&gt;   not an easy decision to be honest</div>
<div class="line">[Tuesday 22 March 2011] [07:28:15] &lt;Guthur&gt;   I really don&#8217;t want to confuse potential/current users</div>
<div class="line">[Tuesday 22 March 2011] [07:30:50] &lt;Guthur&gt;   pieterh: can you briefly explain you reactor pattern thing in the C binding</div>
<div class="line">[Tuesday 22 March 2011] [07:31:16] &lt;pieterh&gt;  Guthur: to be honest I&#8217;ve never used a reactor pattern so this is kind of a guess</div>
<div class="line">[Tuesday 22 March 2011] [07:31:25] &lt;pieterh&gt;  the idea is to register the events you want to handle</div>
<div class="line">[Tuesday 22 March 2011] [07:31:34] &lt;pieterh&gt;  and then a tickless poll loop can handle it</div>
<div class="line">[Tuesday 22 March 2011] [07:31:38] &lt;mikko&gt;    howdy boys</div>
<div class="line">[Tuesday 22 March 2011] [07:31:39] &lt;mikko&gt;    and girls</div>
<div class="line">[Tuesday 22 March 2011] [07:31:42] &lt;pieterh&gt;  hey mikko!</div>
<div class="line">[Tuesday 22 March 2011] [07:31:47] &lt;Guthur&gt;   hi mikko</div>
<div class="line">[Tuesday 22 March 2011] [07:31:55] &lt;Guthur&gt;   pieterh: what is the alarm part</div>
<div class="line">[Tuesday 22 March 2011] [07:32:17] &lt;Guthur&gt;   and clock</div>
<div class="line">[Tuesday 22 March 2011] [07:32:21] &lt;pieterh&gt;  Guthur: if you look at a realistic app like the Majordomo broker</div>
<div class="line">[Tuesday 22 March 2011] [07:32:27] &lt;pieterh&gt;  then it mixes socket events with timer events</div>
<div class="line">[Tuesday 22 March 2011] [07:32:36] &lt;pieterh&gt;  e.g. &#8220;send heartbeats every 3 seconds&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [07:32:46] &lt;pieterh&gt;  &#8220;kill server if no response in 2500 msecs&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [07:33:12] &lt;pieterh&gt;  I made a proper tickless poll loop in the flcliapi (freelance client)</div>
<div class="line">[Tuesday 22 March 2011] [07:33:21] &lt;pieterh&gt;  it calculates the next timer event and polls that long</div>
<div class="line">[Tuesday 22 March 2011] [07:33:23] &lt;Guthur&gt;   ok so that would be too all registered sockets</div>
<div class="line">[Tuesday 22 March 2011] [07:33:28] &lt;pieterh&gt;  rather than polling every second or whatever</div>
<div class="line">[Tuesday 22 March 2011] [07:33:47] &lt;Guthur&gt;   I haven&#8217;t got as far as freelance yet</div>
<div class="line">[Tuesday 22 March 2011] [07:34:17] &lt;pieterh&gt;  take a brief look at the flcliapi poll loop, if you want to understand zloop</div>
<div class="line">[Tuesday 22 March 2011] [07:34:19] &lt;Guthur&gt;   I&#8217;ve just got to majordomo</div>
<div class="line">[Tuesday 22 March 2011] [07:34:22] &lt;pieterh&gt;  :-)</div>
<div class="line">[Tuesday 22 March 2011] [07:35:18] &lt;pieterh&gt;  the reactor won&#8217;t work for all cases, sometimes we poll selectively</div>
<div class="line">[Tuesday 22 March 2011] [07:35:27] &lt;pieterh&gt;  but it should help the more complex designs</div>
<div class="line">[Tuesday 22 March 2011] [07:40:40] &lt;Guthur&gt;   I think I&#8217;ve sort of included a limited reactor pattern in clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:42:19] &lt;Guthur&gt;   but unfortunately the incremental nature of the development of the polling mechanism has left the API in a state that is less clear that I would like</div>
<div class="line">[Tuesday 22 March 2011] [07:42:42] &lt;Guthur&gt;   it&#8217;s one of the main area&#8217;s I would like to refactor</div>
<div class="line">[Tuesday 22 March 2011] [07:44:10] &lt;Guthur&gt;   I&#8217;d also like to simplify the send/recv</div>
<div class="line">[Tuesday 22 March 2011] [07:45:29] &lt;pieterh&gt;  in C# strings are just blobs, right?</div>
<div class="line">[Tuesday 22 March 2011] [07:45:55] &lt;Guthur&gt;   they are objects</div>
<div class="line">[Tuesday 22 March 2011] [07:46:36] &lt;pieterh&gt;  right</div>
<div class="line">[Tuesday 22 March 2011] [07:47:35] &lt;Guthur&gt;   i&#8217;d rather deal with them in an msg object as oppose to at the socket level send/recv</div>
<div class="line">[Tuesday 22 March 2011] [07:48:00] &lt;pieterh&gt;  the breakdown I&#8217;m using in zapi is frame vs. msg</div>
<div class="line">[Tuesday 22 March 2011] [07:48:08] &lt;pieterh&gt;  where frame is one part, msg is a multipart object</div>
<div class="line">[Tuesday 22 March 2011] [07:48:23] &lt;Guthur&gt;   I meant to ask about the framw</div>
<div class="line">[Tuesday 22 March 2011] [07:48:26] &lt;Guthur&gt;   frame*</div>
<div class="line">[Tuesday 22 March 2011] [07:48:44] &lt;pieterh&gt;  0MQ uses &#8216;msg&#8217; to mean &#8216;part&#8217;, which is confusing</div>
<div class="line">[Tuesday 22 March 2011] [07:49:11] &lt;Guthur&gt;   yeah, was taking more about the multipart you describe</div>
<div class="line">[Tuesday 22 March 2011] [07:49:21] &lt;pieterh&gt;  perhaps I should use &#8216;part&#8217; instead of &#8216;frame&#8217;... anyhow</div>
<div class="line">[Tuesday 22 March 2011] [07:49:39] &lt;pieterh&gt;  the frame class lets you do things like &#8216;receive the identity&#8217; and &#8216;send the identity&#8217; with ROUTER sockets</div>
<div class="line">[Tuesday 22 March 2011] [07:50:14] &lt;pieterh&gt;  whereas the msg class is more like &#8216;recv a list of frames&#8217; and &#8216;send a list of frames&#8217;</div>
<div class="line">[Tuesday 22 March 2011] [07:51:46] &lt;Guthur&gt;   I was also then going to take a lazy marshalling approach, only marshalling the zeromq msg (part) to a c# data type when required, should improved performance in situations where you don&#8217;t need to know about the whole message</div>
<div class="line">[Tuesday 22 March 2011] [07:52:24] &lt;pieterh&gt;  that makes sense, it&#8217;s what I&#8217;m doing in other places</div>
<div class="line">[Tuesday 22 March 2011] [07:52:28] &lt;Guthur&gt;   it&#8217;s sort of all in my head at the moment though, I really should try to define the API like you have done</div>
<div class="line">[Tuesday 22 March 2011] [07:52:40] &lt;pieterh&gt;  yeah, start with the API, it makes everything clearer</div>
<div class="line">[Tuesday 22 March 2011] [09:03:12] &lt;drbobbeaty&gt;       I have a core dump with ZeroMQ 2.1.3 this morning... I have detailed it in this gist: <a class="reference external" href="https://gist.github.com/881176">https://gist.github.com/881176</a> . It includes the stack trace and the code from OpenPGM that&#8217;s the last step in the trace.</div>
<div class="line">[Tuesday 22 March 2011] [09:03:49] &lt;drbobbeaty&gt;       It seems impossible to be true &#8211; if the assert is causing the exception, then the value of minor_bucket has to be NULL... but it&#8217;s not, as shown in the stack trace.</div>
<div class="line">[Tuesday 22 March 2011] [09:03:58] &lt;drbobbeaty&gt;       Is this a problem for Steve?</div>
<div class="line">[Tuesday 22 March 2011] [09:04:34] &lt;drbobbeaty&gt;       (I&#8217;ve received this on two different boxes on four separate occasions this morning)</div>
<div class="line">[Tuesday 22 March 2011] [09:06:38] &lt;drbobbeaty&gt;       HA! I think it&#8217;s the data_size being 0!</div>
<div class="line">[Tuesday 22 March 2011] [09:06:47] &lt;drbobbeaty&gt;       Any ideas as to why that would be?</div>
<div class="line">[Tuesday 22 March 2011] [09:07:03] &lt;sustrik&gt;  drbobbeaty: you have to discuss that with steve-o</div>
<div class="line">[Tuesday 22 March 2011] [09:07:14] &lt;sustrik&gt;  seem to be a problem with new version of opnepgm</div>
<div class="line">[Tuesday 22 March 2011] [09:09:58] &lt;drbobbeaty&gt;       Steve-o: can you have a look at <a class="reference external" href="https://gist.github.com/881176">https://gist.github.com/881176</a> and give me an idea of why data_size == 0 on the call? I&#8217;m hitting the assertion and have no idea why.</div>
<div class="line">[Tuesday 22 March 2011] [09:10:20] &lt;drbobbeaty&gt;       pieterh: should I just hit the mailing list for steve-o?</div>
<div class="line">[Tuesday 22 March 2011] [09:10:58] &lt;pieterh&gt;  drbobbeaty: I&#8217;d do that, he&#8217;s in Asia and probably out of the office by now</div>
<div class="line">[Tuesday 22 March 2011] [09:11:21] &lt;pieterh&gt;  the good news is you can get a new OpenPGM and use that with 2.1.3 without further changes</div>
<div class="line">[Tuesday 22 March 2011] [09:16:16] &lt;Guthur&gt;   sustrik: I see in the IPC discussion no one is actually talking about using IOCP and named pipes. I&#8217;ve been meaning to ask you about whether you think an abstraction layer over either Sockets &amp; Named Pipes or IOCP itself could feasibly provide the necessary functionality to mimic what is required from poll, select etc in 0MQ</div>
<div class="line">[Tuesday 22 March 2011] [09:16:50] &lt;Guthur&gt;   this would all be window centric changes of course</div>
<div class="line">[Tuesday 22 March 2011] [09:22:50] &lt;drbobbeaty&gt;       Steve-o: if you get this, please check the mailing list... I&#8217;m getting more than two core dumps an hour with 2.1.3 due to this data_size == 0 issue. Yikes!</div>
<div class="line">[Tuesday 22 March 2011] [09:23:56] &lt;pieterh&gt;  drbobbeaty: sorry about this, we don&#8217;t have the facilities to properly test OpenPGM yet</div>
<div class="line">[Tuesday 22 March 2011] [09:24:29] &lt;pieterh&gt;  I&#8217;d advise you to rollback to 2.1.2 until we get a fix to it</div>
<div class="line">[Tuesday 22 March 2011] [09:24:42] &lt;drbobbeaty&gt;       I understand... If I had to guess it&#8217;s an edge condition where data_size == 0, and I&#8217;m just hitting it more with all the exchange feeds I&#8217;m dealing with.</div>
<div class="line">[Tuesday 22 March 2011] [09:24:51] &lt;sustrik&gt;  Guthur: what&#8217;s being discussed is a workaround</div>
<div class="line">[Tuesday 22 March 2011] [09:25:00] &lt;drbobbeaty&gt;       pieterh: that&#8217;s a good plan.</div>
<div class="line">[Tuesday 22 March 2011] [09:25:06] &lt;sustrik&gt;  something that would look like IPC but would actually be TCP</div>
<div class="line">[Tuesday 22 March 2011] [09:25:17] &lt;pieterh&gt;  drbobbeaty: I expect tomorrow morning Steve will have an updated OpenPGM package</div>
<div class="line">[Tuesday 22 March 2011] [09:25:17] &lt;sustrik&gt;  real solution is IPC &amp; NamedPipes</div>
<div class="line">[Tuesday 22 March 2011] [09:25:46] &lt;pieterh&gt;  you can install it and rebuild 2.1.3, &#8211;with-openpgm=&lt;version&gt; or somesuch, I&#8217;m not 100% sure on that syntax</div>
<div class="line">[Tuesday 22 March 2011] [09:28:10] &lt;Guthur&gt;   sustrik: does the abstraction sound like a feasible objective?</div>
<div class="line">[Tuesday 22 March 2011] [09:29:52] &lt;sustrik&gt;  Guthur: the abstraction exists already</div>
<div class="line">[Tuesday 22 March 2011] [09:30:12] &lt;sustrik&gt;  check how poll_t, select_t, epoll_t etc. interface with the rest of the system</div>
<div class="line">[Tuesday 22 March 2011] [09:30:27] &lt;sustrik&gt;  check whether IOCP can use the same interface</div>
<div class="line">[Tuesday 22 March 2011] [09:30:35] &lt;sustrik&gt;  if not, propose changes</div>
<div class="line">[Tuesday 22 March 2011] [09:31:06] &lt;Guthur&gt;   I thought the problem was that underneath those abstractions they use functionality that IOCP does not provide</div>
<div class="line">[Tuesday 22 March 2011] [09:31:22] &lt;Guthur&gt;   IOCP only providing notification of completion</div>
<div class="line">[Tuesday 22 March 2011] [09:32:10] &lt;sustrik&gt;  right, IOCP has an additional buffer between the user and the network</div>
<div class="line">[Tuesday 22 March 2011] [09:32:14] &lt;sustrik&gt;  something like AIO</div>
<div class="line">[Tuesday 22 March 2011] [09:32:24] &lt;sustrik&gt;  is there a way to limit the size of the buffer?</div>
<div class="line">[Tuesday 22 March 2011] [09:32:40] &lt;Guthur&gt;   I can check that out</div>
<div class="line">[Tuesday 22 March 2011] [09:33:00] &lt;sustrik&gt;  yes, please</div>
<div class="line">[Tuesday 22 March 2011] [09:33:08] &lt;sustrik&gt;  if there&#8217;s no limit to the buffer</div>
<div class="line">[Tuesday 22 March 2011] [09:33:17] &lt;sustrik&gt;  it could easily exhaust all the memory</div>
<div class="line">[Tuesday 22 March 2011] [09:33:47] &lt;sustrik&gt;  in such case the code using IOCP would have to keep track of amount of memory in use</div>
<div class="line">[Tuesday 22 March 2011] [09:35:12] &lt;Guthur&gt;   oh, that does not sound ideal</div>
<div class="line">[Tuesday 22 March 2011] [09:45:48] &lt;sustrik&gt;  cremes: hi</div>
<div class="line">[Tuesday 22 March 2011] [09:46:01] &lt;cremes&gt;   sustrik: good morning</div>
<div class="line">[Tuesday 22 March 2011] [09:46:09] &lt;sustrik&gt;  morning</div>
<div class="line">[Tuesday 22 March 2011] [09:46:23] &lt;sustrik&gt;  as for the assertion, any chance of getting backtrace?</div>
<div class="line">[Tuesday 22 March 2011] [09:47:01] &lt;cremes&gt;   sustrik: i can try to capture it in gdb; give me a few minutes and i&#8217;ll see what i can do</div>
<div class="line">[Tuesday 22 March 2011] [09:47:07] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [09:47:28] &lt;sustrik&gt;  another thing: the allocation mechanism you proposed</div>
<div class="line">[Tuesday 22 March 2011] [09:47:44] &lt;sustrik&gt;  have you found out where the memory disappers?</div>
<div class="line">[Tuesday 22 March 2011] [09:48:18] &lt;sustrik&gt;  (issue 174)</div>
<div class="line">[Tuesday 22 March 2011] [09:48:31] &lt;cremes&gt;   sustrik: i need to run your code with the patch you supplied on my linux box</div>
<div class="line">[Tuesday 22 March 2011] [09:48:45] &lt;cremes&gt;   i ran it on my osx box and it was disappearing in the same place as before</div>
<div class="line">[Tuesday 22 March 2011] [09:48:59] &lt;cremes&gt;   (the backtrace in issue 174)</div>
<div class="line">[Tuesday 22 March 2011] [09:52:32] &lt;sustrik&gt;  i though the proposal you made is related to 174</div>
<div class="line">[Tuesday 22 March 2011] [09:54:33] &lt;cremes&gt;   sustrik: it was; based on your feedback i was assuming the memory growth was due to page fragmentation caused</div>
<div class="line">[Tuesday 22 March 2011] [09:54:37] &lt;cremes&gt;   by small memory allocations</div>
<div class="line">[Tuesday 22 March 2011] [09:55:33] &lt;sustrik&gt;  afaik most allocators have per-size caches</div>
<div class="line">[Tuesday 22 March 2011] [09:55:49] &lt;sustrik&gt;  so you have special cache for 16 byte blocks</div>
<div class="line">[Tuesday 22 March 2011] [09:56:04] &lt;sustrik&gt;  another one for 32 byte blocks etc.</div>
<div class="line">[Tuesday 22 March 2011] [09:56:06] &lt;Guthur&gt;   sustrik: you can indeed specify a buffer size</div>
<div class="line">[Tuesday 22 March 2011] [09:56:25] &lt;sustrik&gt;  that in turn leads to optimal heap utilisation</div>
<div class="line">[Tuesday 22 March 2011] [09:56:48] &lt;Guthur&gt;   I need to check some of my resources at home though to remind myself of details of IOCP</div>
<div class="line">[Tuesday 22 March 2011] [09:56:49] &lt;cremes&gt;   sustrik: okay, then i don&#8217;t understand why in the ticket you wrote that it&#8217;s due to a known problem with malloc</div>
<div class="line">[Tuesday 22 March 2011] [09:56:55] &lt;sustrik&gt;  Guthur: how do you do that?</div>
<div class="line">[Tuesday 22 March 2011] [09:57:12] &lt;Guthur&gt;   sustrik: during the read call</div>
<div class="line">[Tuesday 22 March 2011] [09:57:31] &lt;Guthur&gt;   you specify a buffer and bytestoread</div>
<div class="line">[Tuesday 22 March 2011] [09:58:15] &lt;sustrik&gt;  Guthur: i meant limiting the send buffer</div>
<div class="line">[Tuesday 22 March 2011] [09:58:33] &lt;sustrik&gt;  say, totoal amount that can be used is 64kB</div>
<div class="line">[Tuesday 22 March 2011] [09:58:55] &lt;sustrik&gt;  attempt to exceed the buffer would mean the send call would fail</div>
<div class="line">[Tuesday 22 March 2011] [09:59:07] &lt;sustrik&gt;  is there anything like that in IOCP?</div>
<div class="line">[Tuesday 22 March 2011] [09:59:33] &lt;sustrik&gt;  cremes: the problem i referred to is that processes don&#8217;t return allocated memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [10:00:13] &lt;sustrik&gt;  thus, it&#8217;s not used, but cannot be reused by a different process</div>
<div class="line">[Tuesday 22 March 2011] [10:00:54] &lt;cremes&gt;   sustrik: sure, and from my research that is due to page fragmentation caused by malloc/free called on lots of small blocks (smaller than a page)</div>
<div class="line">[Tuesday 22 March 2011] [10:01:19] &lt;sustrik&gt;  does it return allocated memory at all?</div>
<div class="line">[Tuesday 22 March 2011] [10:01:33] &lt;cremes&gt;   yes, if an entire page can be freed</div>
<div class="line">[Tuesday 22 March 2011] [10:01:42] &lt;sustrik&gt;  that&#8217;s linux?</div>
<div class="line">[Tuesday 22 March 2011] [10:01:45] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 22 March 2011] [10:01:54] &lt;sustrik&gt;  nice</div>
<div class="line">[Tuesday 22 March 2011] [10:02:03] &lt;cremes&gt;   i got this from a few different write-ups that i read on stackoverflow and one other site</div>
<div class="line">[Tuesday 22 March 2011] [10:02:03] &lt;sustrik&gt;  iirc it wasn&#8217;t the case in the past</div>
<div class="line">[Tuesday 22 March 2011] [10:02:11] &lt;cremes&gt;   i&#8217;ll try to find them again</div>
<div class="line">[Tuesday 22 March 2011] [10:02:17] &lt;Guthur&gt;   sustrik: do you mean more than <a class="reference external" href="http://msdn.microsoft.com/en-us/library/aa365748(v=VS.85).aspx">http://msdn.microsoft.com/en-us/library/aa365748(v=VS.85).aspx</a></div>
<div class="line">[Tuesday 22 March 2011] [10:02:30] &lt;cremes&gt;   yes, it appears that was an issue with kernel 2.4 and earlier</div>
<div class="line">[Tuesday 22 March 2011] [10:02:39] &lt;cremes&gt;   apparently 2.6 resolves that issue</div>
<div class="line">[Tuesday 22 March 2011] [10:05:19] &lt;Guthur&gt;   you could presumably build some chunking mechanism on top of that with IOCP</div>
<div class="line">[Tuesday 22 March 2011] [10:05:48] &lt;Guthur&gt;   send chunk 1 with Completed send chunk 2....</div>
<div class="line">[Tuesday 22 March 2011] [10:05:53] &lt;Guthur&gt;   with/when</div>
<div class="line">[Tuesday 22 March 2011] [10:09:16] &lt;sustrik&gt;  Guthur: yes, something like that</div>
<div class="line">[Tuesday 22 March 2011] [10:09:41] &lt;sustrik&gt;  cremes: nice</div>
<div class="line">[Tuesday 22 March 2011] [10:10:09] &lt;sustrik&gt;  now, the problem occurs because of 2 specific allocations</div>
<div class="line">[Tuesday 22 March 2011] [10:10:17] &lt;sustrik&gt;  according to the OSX tool</div>
<div class="line">[Tuesday 22 March 2011] [10:10:33] &lt;sustrik&gt;  1. allocating the chunk in yqueue_t</div>
<div class="line">[Tuesday 22 March 2011] [10:10:55] &lt;sustrik&gt;  2. allocating the encoder/decoder buffers in engine</div>
<div class="line">[Tuesday 22 March 2011] [10:11:34] &lt;sustrik&gt;  so, afaiu, if the size of those allocations is a muliply of page size, the problem should go away, right?</div>
<div class="line">[Tuesday 22 March 2011] [10:11:54] &lt;sustrik&gt;  as for 2 the size of those buffers is 8kB</div>
<div class="line">[Tuesday 22 March 2011] [10:12:07] &lt;sustrik&gt;  so there&#8217;s no fragmentation issue</div>
<div class="line">[Tuesday 22 March 2011] [10:12:30] &lt;sustrik&gt;  hm, for 1. the size is 12kB</div>
<div class="line">[Tuesday 22 March 2011] [10:12:45] &lt;sustrik&gt;  so the fragmentation should not happen</div>
<div class="line">[Tuesday 22 March 2011] [10:13:08] &lt;sustrik&gt;  but given that the test is run on OSX, the allocation mechanism may be different</div>
<div class="line">[Tuesday 22 March 2011] [10:13:57] &lt;cremes&gt;   sustrik: true, but the memory growth is also reproducible on linux</div>
<div class="line">[Tuesday 22 March 2011] [10:14:04] &lt;cremes&gt;   i just don&#8217;t have a tool there to show where it&#8217;s happening</div>
<div class="line">[Tuesday 22 March 2011] [10:14:12] &lt;sustrik&gt;  :(</div>
<div class="line">[Tuesday 22 March 2011] [10:14:18] &lt;cremes&gt;   i am <em>assuming</em> it occurs in the same place on both OSes</div>
<div class="line">[Tuesday 22 March 2011] [10:14:36] &lt;sustrik&gt;  you&#8217;ll have to run the test with my patch</div>
<div class="line">[Tuesday 22 March 2011] [10:14:38] &lt;cremes&gt;   sustrik: just to confirm, you were able to reproduce this on your linux system with that example code, right?</div>
<div class="line">[Tuesday 22 March 2011] [10:14:47] &lt;sustrik&gt;  that&#8217;ll at least show whether it&#8217;s the yqueue issue</div>
<div class="line">[Tuesday 22 March 2011] [10:15:15] &lt;sustrik&gt;  yes, i think so</div>
<div class="line">[Tuesday 22 March 2011] [10:15:38] &lt;sustrik&gt;  i assumed it was process not returning memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [10:15:53] &lt;sustrik&gt;  but given the issue was solved in linux/2.6</div>
<div class="line">[Tuesday 22 March 2011] [10:15:59] &lt;sustrik&gt;  it has to be something different</div>
<div class="line">[Tuesday 22 March 2011] [10:16:43] &lt;cremes&gt;   sustrik: after i try to get this backtrace for the other issue (181) i&#8217;ll apply your patch on linux and run it</div>
<div class="line">[Tuesday 22 March 2011] [10:16:51] &lt;sustrik&gt;  thanks</div>
<div class="line">[Tuesday 22 March 2011] [10:20:46] &lt;Guthur&gt;   pieterh: with MDP do you see anything inherently wrong with having workers being other brokers</div>
<div class="line">[Tuesday 22 March 2011] [10:29:00] &lt;Guthur&gt;   maybe even have service requests routed via a URI</div>
<div class="line">[Tuesday 22 March 2011] [10:52:13] &lt;pieterh&gt;  Guthur: workers can certainly be brokers as well</div>
<div class="line">[Tuesday 22 March 2011] [10:54:25] &lt;cremes&gt;   sustrik: got a core; do you want the output from &#8216;bt&#8217; or from &#8216;thread apply all bt&#8217;?</div>
<div class="line">[Tuesday 22 March 2011] [10:54:53] &lt;sustrik&gt;  presumably the latter</div>
<div class="line">[Tuesday 22 March 2011] [10:55:12] &lt;cremes&gt;   sustrik: ok... i&#8217;ll give you both :)</div>
<div class="line">[Tuesday 22 March 2011] [10:55:27] &lt;sustrik&gt;  thx</div>
<div class="line">[Tuesday 22 March 2011] [10:55:51] &lt;cremes&gt;   sustrik: <a class="reference external" href="https://gist.github.com/881336">https://gist.github.com/881336</a></div>
<div class="line">[Tuesday 22 March 2011] [10:56:51] &lt;cremes&gt;   btw, this is off of commit 1619b3d84a04fe1886347fd83280a607</div>
<div class="line">[Tuesday 22 March 2011] [10:59:51] &lt;sustrik&gt;  cremes: the assertion happens in mutex destructor</div>
<div class="line">[Tuesday 22 March 2011] [10:59:57] &lt;sustrik&gt;  interesting</div>
<div class="line">[Tuesday 22 March 2011] [11:00:04] &lt;sustrik&gt;  do you console output?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:23] &lt;sustrik&gt;  it should print out the actual error code</div>
<div class="line">[Tuesday 22 March 2011] [11:00:28] &lt;cremes&gt;   i don&#8217;t understand the question; i have a core file... is there something else you want me to look at?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:33] &lt;sustrik&gt;  errno</div>
<div class="line">[Tuesday 22 March 2011] [11:00:42] &lt;cremes&gt;   p errno?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:44] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [11:00:49] &lt;sustrik&gt;  in the asserted thread</div>
<div class="line">[Tuesday 22 March 2011] [11:01:12] &lt;sustrik&gt;  thread 1</div>
<div class="line">[Tuesday 22 March 2011] [11:01:14] &lt;sustrik&gt;  p errno</div>
<div class="line">[Tuesday 22 March 2011] [11:01:47] &lt;cremes&gt;   Cannot find thread-local variables on this target</div>
<div class="line">[Tuesday 22 March 2011] [11:01:56] &lt;sustrik&gt;  :|</div>
<div class="line">[Tuesday 22 March 2011] [11:02:19] &lt;sustrik&gt;  does the program show the console output</div>
<div class="line">[Tuesday 22 March 2011] [11:02:20] &lt;sustrik&gt;  ?</div>
<div class="line">[Tuesday 22 March 2011] [11:02:23] &lt;sustrik&gt;  stderr</div>
<div class="line">[Tuesday 22 March 2011] [11:02:25] &lt;sustrik&gt;  ?</div>
<div class="line">[Tuesday 22 March 2011] [11:02:59] &lt;sustrik&gt;  if so, the error should be visible there</div>
<div class="line">[Tuesday 22 March 2011] [11:03:30] &lt;cremes&gt;   looking...</div>
<div class="line">[Tuesday 22 March 2011] [11:03:55] &lt;sustrik&gt;  you should see the assert there</div>
<div class="line">[Tuesday 22 March 2011] [11:04:06] &lt;sustrik&gt;  the line above it should be the error</div>
<div class="line">[Tuesday 22 March 2011] [11:04:59] &lt;cremes&gt;   all it printed was the assert from socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:05:32] &lt;sustrik&gt;  the stack trace shows a different assert</div>
<div class="line">[Tuesday 22 March 2011] [11:05:42] &lt;sustrik&gt;  is that the same run?</div>
<div class="line">[Tuesday 22 March 2011] [11:05:45] &lt;cremes&gt;   let me run it again and put everything to the console instead of to files (i usually redirect the output)</div>
<div class="line">[Tuesday 22 March 2011] [11:05:54] &lt;cremes&gt;   same run</div>
<div class="line">[Tuesday 22 March 2011] [11:05:58] &lt;sustrik&gt;  strange</div>
<div class="line">[Tuesday 22 March 2011] [11:06:52] &lt;cremes&gt;   running again...</div>
<div class="line">[Tuesday 22 March 2011] [11:12:47] &lt;cremes&gt;   sustrik: all it prints is:</div>
<div class="line">[Tuesday 22 March 2011] [11:12:48] &lt;cremes&gt;   Assertion failed: sessions.empty () (socket_base.cpp:127)</div>
<div class="line">[Tuesday 22 March 2011] [11:12:56] &lt;cremes&gt;   Aborted (core dumped)</div>
<div class="line">[Tuesday 22 March 2011] [11:14:00] &lt;cremes&gt;   the thread backtraces are the same for this core</div>
<div class="line">[Tuesday 22 March 2011] [11:15:43] &lt;sustrik&gt;  that&#8217;s really strange</div>
<div class="line">[Tuesday 22 March 2011] [11:15:56] &lt;sustrik&gt;  thread 1 reports the assertion happened in mutex.hpp</div>
<div class="line">[Tuesday 22 March 2011] [11:16:06] &lt;sustrik&gt;  rather than in socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:16:21] &lt;sustrik&gt;  maybe it&#8217;s optimiser&#8217;s fault</div>
<div class="line">[Tuesday 22 March 2011] [11:16:23] &lt;cremes&gt;   i don&#8217;t have an explanation :(</div>
<div class="line">[Tuesday 22 March 2011] [11:16:35] &lt;pieterh&gt;  cremes: are you building a debug version?</div>
<div class="line">[Tuesday 22 March 2011] [11:16:36] &lt;sustrik&gt;  any chance of building 0mq with optimisations disabled?</div>
<div class="line">[Tuesday 22 March 2011] [11:16:45] &lt;cremes&gt;   pieterh: yes, ./configure &#8211;enable-debug</div>
<div class="line">[Tuesday 22 March 2011] [11:16:53] &lt;cremes&gt;   sustrik: yes</div>
<div class="line">[Tuesday 22 March 2011] [11:17:11] &lt;sustrik&gt;  &#8211;enable-debug should turn optimisations off</div>
<div class="line">[Tuesday 22 March 2011] [11:17:16] &lt;sustrik&gt;  (-O0)</div>
<div class="line">[Tuesday 22 March 2011] [11:17:42] &lt;cremes&gt;   let me rebuild</div>
<div class="line">[Tuesday 22 March 2011] [11:17:48] &lt;cremes&gt;   i&#8217;ll make clean first...</div>
<div class="line">[Tuesday 22 March 2011] [11:18:03] &lt;sustrik&gt;  cremes: wait a sec</div>
<div class="line">[Tuesday 22 March 2011] [11:18:16] &lt;sustrik&gt;  maybe it makes more sense to try to figure out what&#8217;s failing</div>
<div class="line">[Tuesday 22 March 2011] [11:18:22] &lt;sustrik&gt;  are you using identities?</div>
<div class="line">[Tuesday 22 March 2011] [11:18:53] &lt;cremes&gt;   oops, too late</div>
<div class="line">[Tuesday 22 March 2011] [11:18:58] &lt;cremes&gt;   yes, i am using identities</div>
<div class="line">[Tuesday 22 March 2011] [11:19:40] &lt;sustrik&gt;  the failing socket seems to be xreq, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:19:54] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 22 March 2011] [11:20:19] &lt;sustrik&gt;  any chance it gets connected to two peers that happen to have the same identity</div>
<div class="line">[Tuesday 22 March 2011] [11:20:27] &lt;sustrik&gt;  one of them via connect, other one via bind?</div>
<div class="line">[Tuesday 22 March 2011] [11:20:42] &lt;cremes&gt;   let me take a quick look at the code; i want to say &#8220;no&#8221; but let me verify</div>
<div class="line">[Tuesday 22 March 2011] [11:21:02] &lt;sustrik&gt;  simpler question: do you bind or connect the xreq socket; or both?</div>
<div class="line">[Tuesday 22 March 2011] [11:22:33] &lt;cremes&gt;   hard to say</div>
<div class="line">[Tuesday 22 March 2011] [11:22:41] &lt;cremes&gt;   if the xreq is part of a QUEUE device, then it&#8217;s binding</div>
<div class="line">[Tuesday 22 March 2011] [11:22:46] &lt;cremes&gt;   otherwise all other sockets connect</div>
<div class="line">[Tuesday 22 March 2011] [11:23:02] &lt;sustrik&gt;  never both on the same socket, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:23:08] &lt;cremes&gt;   correct</div>
<div class="line">[Tuesday 22 March 2011] [11:24:49] &lt;sustrik&gt;  hm, maybe the socket_base_t happens to get destructed twice</div>
<div class="line">[Tuesday 22 March 2011] [11:24:59] &lt;sustrik&gt;  is it possible to add printf&#8217;s to your program?</div>
<div class="line">[Tuesday 22 March 2011] [11:25:10] &lt;cremes&gt;   sustrik: yes</div>
<div class="line">[Tuesday 22 March 2011] [11:25:30] &lt;cremes&gt;   you want them added to calls to zmq_close() ?</div>
<div class="line">[Tuesday 22 March 2011] [11:25:34] &lt;sustrik&gt;  something like this:</div>
<div class="line">[Tuesday 22 March 2011] [11:25:55] &lt;sustrik&gt;  printf (&#8220;alloc %pn&#8221;, (void*) this);</div>
<div class="line">[Tuesday 22 March 2011] [11:26:07] &lt;sustrik&gt;  in socket_base_t constructor</div>
<div class="line">[Tuesday 22 March 2011] [11:26:09] &lt;sustrik&gt;  and</div>
<div class="line">[Tuesday 22 March 2011] [11:26:17] &lt;sustrik&gt;  printf (&#8220;dealloc %pn&#8221;, (void*) this);</div>
<div class="line">[Tuesday 22 March 2011] [11:26:21] &lt;sustrik&gt;  in the destructor</div>
<div class="line">[Tuesday 22 March 2011] [11:26:41] &lt;sustrik&gt;  that should show us whether the destructor is called twice for the same object</div>
<div class="line">[Tuesday 22 March 2011] [11:27:17] &lt;cremes&gt;   in the destructor, do you want this printf called first or last?</div>
<div class="line">[Tuesday 22 March 2011] [11:27:25] &lt;cremes&gt;   presumably first</div>
<div class="line">[Tuesday 22 March 2011] [11:27:43] &lt;sustrik&gt;  first</div>
<div class="line">[Tuesday 22 March 2011] [11:28:40] &lt;cremes&gt;   running...</div>
<div class="line">[Tuesday 22 March 2011] [11:28:55] &lt;cremes&gt;   hmmm, i should have separated that stuff out to stderr</div>
<div class="line">[Tuesday 22 March 2011] [11:31:59] &lt;cremes&gt;   how do i redirect stdout and stderr to separate files in bash?</div>
<div class="line">[Tuesday 22 March 2011] [11:33:26] &lt;cremes&gt;   figured it out</div>
<div class="line">[Tuesday 22 March 2011] [11:33:27] &lt;pieterh&gt;  cremes: someproc 2&gt; stderr.log</div>
<div class="line">[Tuesday 22 March 2011] [11:33:30] &lt;cremes&gt;   running...</div>
<div class="line">[Tuesday 22 March 2011] [11:38:31] &lt;mikko&gt;    pieterh: did you merge the pull req?</div>
<div class="line">[Tuesday 22 March 2011] [11:38:36] &lt;mikko&gt;    there is prolly more coming soon</div>
<div class="line">[Tuesday 22 March 2011] [11:38:43] &lt;mikko&gt;    ([zeromq-dev] ZMQ 2.1.3 w/OpenPGM Assertion on pgm_rate_check2())</div>
<div class="line">[Tuesday 22 March 2011] [11:38:51] &lt;pieterh&gt;  mikko: you mean the autoconf fix for OpenPGM in 2.1?</div>
<div class="line">[Tuesday 22 March 2011] [11:38:58] &lt;mikko&gt;    y</div>
<div class="line">[Tuesday 22 March 2011] [11:39:09] &lt;mikko&gt;    im thinking this atm</div>
<div class="line">[Tuesday 22 March 2011] [11:39:10] &lt;pieterh&gt;  hmm, did you see my email about sending patches instead?</div>
<div class="line">[Tuesday 22 March 2011] [11:39:14] &lt;pieterh&gt;  I think it&#8217;s going to be simpler</div>
<div class="line">[Tuesday 22 March 2011] [11:39:37] &lt;pieterh&gt;  pubsub instead of reqrep</div>
<div class="line">[Tuesday 22 March 2011] [11:39:50] &lt;mikko&gt;    &#8220;There is a smarter way to do this, and I think it is:&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [11:39:53] &lt;pieterh&gt;  two subscribers (martin, myself), one publisher (you)</div>
<div class="line">[Tuesday 22 March 2011] [11:40:25] &lt;mikko&gt;    i will update a patch and send to ML</div>
<div class="line">[Tuesday 22 March 2011] [11:40:31] &lt;pieterh&gt;  that&#8217;s best IMO</div>
<div class="line">[Tuesday 22 March 2011] [11:41:11] &lt;pieterh&gt;  somewhere there&#8217;s a magic git incantation to pull a commit from a random git, but I don&#8217;t know it</div>
<div class="line">[Tuesday 22 March 2011] [11:41:34] &lt;mikko&gt;    what do you mean?</div>
<div class="line">[Tuesday 22 March 2011] [11:41:41] &lt;mikko&gt;    git is built on that sort of thing</div>
<div class="line">[Tuesday 22 March 2011] [11:41:49] &lt;sustrik&gt;  cherry-pick?</div>
<div class="line">[Tuesday 22 March 2011] [11:41:52] &lt;mikko&gt;    you could even pull changes from my personal repo</div>
<div class="line">[Tuesday 22 March 2011] [11:42:04] &lt;mikko&gt;    and if i was privileged to i could push to your home machine</div>
<div class="line">[Tuesday 22 March 2011] [11:42:38] &lt;cremes&gt;   sustrik: with a confirmed debug build, the backtraces are different now</div>
<div class="line">[Tuesday 22 March 2011] [11:42:41] &lt;cremes&gt;   sustrik: <a class="reference external" href="https://gist.github.com/881439">https://gist.github.com/881439</a></div>
<div class="line">[Tuesday 22 March 2011] [11:42:46] &lt;cremes&gt;   thread 1 and thread 19 look relevant</div>
<div class="line">[Tuesday 22 March 2011] [11:42:54] &lt;cremes&gt;   i still can&#8217;t print errno</div>
<div class="line">[Tuesday 22 March 2011] [11:44:09] &lt;sustrik&gt;  never mind, this is the assert (empty) thing</div>
<div class="line">[Tuesday 22 March 2011] [11:44:17] &lt;sustrik&gt;  what about the output?</div>
<div class="line">[Tuesday 22 March 2011] [11:44:22] &lt;pieterh&gt;  mikko, ok, so how do we do this without using github&#8217;s pull request?</div>
<div class="line">[Tuesday 22 March 2011] [11:44:27] &lt;cremes&gt;   lots of alloc/dealloc messages</div>
<div class="line">[Tuesday 22 March 2011] [11:44:41] &lt;pieterh&gt;  e.g. create an issue pointing to a remote git/commit</div>
<div class="line">[Tuesday 22 March 2011] [11:45:02] &lt;mikko&gt;    pieterh: or mailing list?</div>
<div class="line">[Tuesday 22 March 2011] [11:45:11] &lt;pieterh&gt;  let&#8217;s work it out here...</div>
<div class="line">[Tuesday 22 March 2011] [11:45:19] &lt;sustrik&gt;  cremes: check for 0x7f1a582a4ea0</div>
<div class="line">[Tuesday 22 March 2011] [11:45:24] &lt;pieterh&gt;  what git commands do I need to use to pull one commit from your git</div>
<div class="line">[Tuesday 22 March 2011] [11:45:47] &lt;cremes&gt;   sustrik: 1 alloc, 1 dealloc</div>
<div class="line">[Tuesday 22 March 2011] [11:46:05] &lt;cremes&gt;   sustrik: however, that is the <em>last</em> dealloc printed</div>
<div class="line">[Tuesday 22 March 2011] [11:46:06] &lt;mikko&gt;    git remote add mikko &lt;url to my repo&gt;</div>
<div class="line">[Tuesday 22 March 2011] [11:46:15] &lt;pieterh&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [11:46:16] &lt;sustrik&gt;  and the printf is at the beginning of the destructor, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:46:17] &lt;mikko&gt;    git fetch mikko</div>
<div class="line">[Tuesday 22 March 2011] [11:46:22] &lt;mikko&gt;    then check the hash of the commit</div>
<div class="line">[Tuesday 22 March 2011] [11:46:23] &lt;cremes&gt;   correct</div>
<div class="line">[Tuesday 22 March 2011] [11:46:24] &lt;pieterh&gt;  git fetch &#8211;no-tags, at least</div>
<div class="line">[Tuesday 22 March 2011] [11:46:28] &lt;mikko&gt;    and cherry-pick it</div>
<div class="line">[Tuesday 22 March 2011] [11:46:37] &lt;mikko&gt;    i think that should do it</div>
<div class="line">[Tuesday 22 March 2011] [11:46:50] &lt;sustrik&gt;  then it&#8217;s some other problem...</div>
<div class="line">[Tuesday 22 March 2011] [11:46:50] &lt;cremes&gt;   sustrik: line 792 is the first line of the destructor</div>
<div class="line">[Tuesday 22 March 2011] [11:47:12] &lt;pieterh&gt;  git fetch won&#8217;t make a mess of your target git?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:13] &lt;cremes&gt;   sustrik: i grep&#8217;ed all of the dealloc lines to their own file &#8216;z2&#8217;</div>
<div class="line">[Tuesday 22 March 2011] [11:47:23] &lt;sustrik&gt;  792?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:27] &lt;sustrik&gt;  what file?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:30] &lt;cremes&gt;   sustrik: then ran:  wc -l z2; sort -u z2 | wc -l</div>
<div class="line">[Tuesday 22 March 2011] [11:47:35] &lt;sustrik&gt;  socket_base_t?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:36] &lt;cremes&gt;   socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:47:48] &lt;mikko&gt;    pieterh: git-fetch - Download objects and refs from another repository</div>
<div class="line">[Tuesday 22 March 2011] [11:47:54] &lt;mikko&gt;    pieterh: nope</div>
<div class="line">[Tuesday 22 March 2011] [11:47:56] &lt;sustrik&gt;  cremes: what version?</div>
<div class="line">[Tuesday 22 March 2011] [11:48:02] &lt;sustrik&gt;  my socket_base.cpp ends at 790</div>
<div class="line">[Tuesday 22 March 2011] [11:48:22] &lt;pieterh&gt;  mikko: ok, I like cherry-pick, it&#8217;s how I pull patches from sustrik</div>
<div class="line">[Tuesday 22 March 2011] [11:48:33] &lt;cremes&gt;   sustrik: oops, sorry, misread the vi output; line 124 of 792 (i added two printfs)</div>
<div class="line">[Tuesday 22 March 2011] [11:48:40] &lt;pieterh&gt;  but you have to do &#8216;git fetch &#8211;no-tags whatever&#8217; to avoid polluting your home git</div>
<div class="line">[Tuesday 22 March 2011] [11:48:56] &lt;sustrik&gt;  cremes: ok</div>
<div class="line">[Tuesday 22 March 2011] [11:48:58] &lt;pieterh&gt;  sustrik: do you want to try cherry-pick from mikko&#8217;s git?</div>
<div class="line">[Tuesday 22 March 2011] [11:49:19] &lt;sustrik&gt;  i want a patch on the ML</div>
<div class="line">[Tuesday 22 March 2011] [11:49:23] &lt;sustrik&gt;  that&#8217;s the process</div>
<div class="line">[Tuesday 22 March 2011] [11:49:35] &lt;cremes&gt;   sustrik: anyway, by removing duplicate dealloc prints using &#8216;sort -u&#8217; it looks like 180 sockets are dealloc&#8217;ed twice</div>
<div class="line">[Tuesday 22 March 2011] [11:49:36] &lt;pieterh&gt;  sustrik: you don&#8217;t send me patches via the ML</div>
<div class="line">[Tuesday 22 March 2011] [11:49:43] &lt;sustrik&gt;  i should</div>
<div class="line">[Tuesday 22 March 2011] [11:49:43] &lt;pieterh&gt;  so the process isn&#8217;t symmetric now</div>
<div class="line">[Tuesday 22 March 2011] [11:49:51] &lt;pieterh&gt;  perhaps</div>
<div class="line">[Tuesday 22 March 2011] [11:50:04] &lt;pieterh&gt;  sending me a commit tag is much less work for you</div>
<div class="line">[Tuesday 22 March 2011] [11:50:08] &lt;pieterh&gt;  and also easier for me</div>
<div class="line">[Tuesday 22 March 2011] [11:50:31] &lt;pieterh&gt;  if you send the URI to the commit, it&#8217;s as good as a patch</div>
<div class="line">[Tuesday 22 March 2011] [11:50:36] &lt;sustrik&gt;  that&#8217;s good for backporting</div>
<div class="line">[Tuesday 22 March 2011] [11:50:36] &lt;pieterh&gt;  everyone who cares can review it</div>
<div class="line">[Tuesday 22 March 2011] [11:50:47] &lt;pieterh&gt;  here we&#8217;re porting in all directions, no back or fwd</div>
<div class="line">[Tuesday 22 March 2011] [11:50:49] &lt;sustrik&gt;  it&#8217;s only a reference to what has to be backported</div>
<div class="line">[Tuesday 22 March 2011] [11:50:57] &lt;pieterh&gt;  nope, no special cases please</div>
<div class="line">[Tuesday 22 March 2011] [11:50:59] &lt;sustrik&gt;  with new functionality you want a full patch</div>
<div class="line">[Tuesday 22 March 2011] [11:51:26] &lt;pieterh&gt;  it should be a single process between any two gits</div>
<div class="line">[Tuesday 22 March 2011] [11:51:53] &lt;pieterh&gt;  github pull requests are eliminated because they only work between forks</div>
<div class="line">[Tuesday 22 March 2011] [11:52:03] &lt;sustrik&gt;  there has to be an entry point</div>
<div class="line">[Tuesday 22 March 2011] [11:52:08] &lt;pieterh&gt;  entry point?</div>
<div class="line">[Tuesday 22 March 2011] [11:52:18] &lt;sustrik&gt;  the place where patch enters the ecosystem</div>
<div class="line">[Tuesday 22 March 2011] [11:52:23] &lt;pieterh&gt;  one always addresses a patch/commit to the author of the target git</div>
<div class="line">[Tuesday 22 March 2011] [11:52:33] &lt;pieterh&gt;  entry point can be ML, that&#8217;s excellent</div>
<div class="line">[Tuesday 22 March 2011] [11:52:38] &lt;pieterh&gt;  it&#8217;s ideal for this</div>
<div class="line">[Tuesday 22 March 2011] [11:52:41] &lt;sustrik&gt;  yup</div>
<div class="line">[Tuesday 22 March 2011] [11:52:46] &lt;pieterh&gt;  but signed patches are extra effort</div>
<div class="line">[Tuesday 22 March 2011] [11:52:59] &lt;pieterh&gt;  and we can do it better</div>
<div class="line">[Tuesday 22 March 2011] [11:53:19] &lt;pieterh&gt;  i think, anyhow, and I&#8217;m sure it should be orthogonal for any two gits</div>
<div class="line">[Tuesday 22 March 2011] [11:53:35] &lt;pieterh&gt;  i.e. if you want to send a patch to mikko, same process</div>
<div class="line">[Tuesday 22 March 2011] [11:53:53] &lt;sustrik&gt;  mikko doesn&#8217;t care about sign-offs</div>
<div class="line">[Tuesday 22 March 2011] [11:53:59] &lt;sustrik&gt;  as it&#8217;s his private git</div>
<div class="line">[Tuesday 22 March 2011] [11:54:06] &lt;pieterh&gt;  that&#8217;s a separate issue</div>
<div class="line">[Tuesday 22 March 2011] [11:54:14] &lt;pieterh&gt;  signed off or not, that&#8217;s QC on the patch or commit</div>
<div class="line">[Tuesday 22 March 2011] [11:54:52] &lt;pieterh&gt;  I&#8217;d like a single process for all of us, no special cases</div>
<div class="line">[Tuesday 22 March 2011] [11:54:53] &lt;mikko&gt;    what about CLA?</div>
<div class="line">[Tuesday 22 March 2011] [11:54:56] &lt;mikko&gt;    too complicated?</div>
<div class="line">[Tuesday 22 March 2011] [11:54:58] &lt;pieterh&gt;  CLA?</div>
<div class="line">[Tuesday 22 March 2011] [11:55:02] &lt;pieterh&gt;  way too complex</div>
<div class="line">[Tuesday 22 March 2011] [11:55:04] &lt;pieterh&gt;  by 100x</div>
<div class="line">[Tuesday 22 March 2011] [11:55:11] &lt;mikko&gt;    contributor license agreement</div>
<div class="line">[Tuesday 22 March 2011] [11:55:13] &lt;mikko&gt;    like apache etc do</div>
<div class="line">[Tuesday 22 March 2011] [11:55:22] &lt;pieterh&gt;  no way, dead body over, etc.</div>
<div class="line">[Tuesday 22 March 2011] [11:55:27] &lt;sustrik&gt;  sign-off is simpler imo</div>
<div class="line">[Tuesday 22 March 2011] [11:55:39] &lt;pieterh&gt;  it creates <em>huge</em> management issues and individual developers hate it to the point of not contributing</div>
<div class="line">[Tuesday 22 March 2011] [11:56:05] &lt;pieterh&gt;  we switched to co-owned code and signoff last year, it&#8217;s superior in every sense</div>
<div class="line">[Tuesday 22 March 2011] [11:56:21] &lt;pieterh&gt;  this is not relevant to the thread however</div>
<div class="line">[Tuesday 22 March 2011] [11:56:33] &lt;pieterh&gt;  cherry-picking is very simple for both parties</div>
<div class="line">[Tuesday 22 March 2011] [11:56:47] &lt;mikko&gt;    pieterh: we were a bit too drunk to discuss this properly last weds</div>
<div class="line">[Tuesday 22 March 2011] [11:56:59] &lt;pieterh&gt;  mikko: drunk? I&#8217;m Scottish, we don&#8217;t get drunk</div>
<div class="line">[Tuesday 22 March 2011] [11:57:09] &lt;pieterh&gt;  oh, hang on, yes we do... but it was English beer, doesn&#8217;t count</div>
<div class="line">[Tuesday 22 March 2011] [11:57:41] &lt;pieterh&gt;  sustrik: I&#8217;m not sure cherry-picking conforms to signing off, that&#8217;s all</div>
<div class="line">[Tuesday 22 March 2011] [11:58:06] &lt;pieterh&gt;  but it has to, of course</div>
<div class="line">[Tuesday 22 March 2011] [11:58:19] &lt;mikko&gt;    can you not sign a commit?</div>
<div class="line">[Tuesday 22 March 2011] [11:58:19] &lt;pieterh&gt;  pulling code from a public git means it&#8217;s by definition signed off</div>
<div class="line">[Tuesday 22 March 2011] [11:58:23] &lt;pieterh&gt;  you don&#8217;t need to</div>
<div class="line">[Tuesday 22 March 2011] [11:58:38] &lt;pieterh&gt;  once you commit &amp; push to a git, you license the code under whatever, LGPL etc.</div>
<div class="line">[Tuesday 22 March 2011] [11:59:08] &lt;pieterh&gt;  this is why pull requests work</div>
<div class="line">[Tuesday 22 March 2011] [11:59:24] &lt;pieterh&gt;  but they are crippled for general use</div>
<div class="line">[Tuesday 22 March 2011] [11:59:55] &lt;pieterh&gt;  sustrik: allow me to make a short proposal on the list, OK?</div>
<div class="line">[Tuesday 22 March 2011] [12:00:01] &lt;sustrik&gt;  sure</div>
<div class="line">[Tuesday 22 March 2011] [12:00:07] &lt;pieterh&gt;  thanks</div>
<div class="line">[Tuesday 22 March 2011] [12:00:15] &lt;pieterh&gt;  BTW the new C API is almost working</div>
<div class="line">[Tuesday 22 March 2011] [12:00:35] &lt;pieterh&gt;  it does everything I was asking for, e.g. automatic close of sockets, message reuse, etc.</div>
<div class="line">[Tuesday 22 March 2011] [12:00:51] &lt;pieterh&gt;  nicely emulates 2.0 semantics on termination :-)</div>
<div class="line">[Tuesday 22 March 2011] [12:01:23] &lt;sustrik&gt;  goodo</div>
<div class="line">[Tuesday 22 March 2011] [12:01:33] &lt;cremes&gt;   sustrik: i applied your patch for issue 174 and ran your minimal test case (also in that issue)</div>
<div class="line">[Tuesday 22 March 2011] [12:01:41] &lt;cremes&gt;   sustrik: shall i email you the output?</div>
<div class="line">[Tuesday 22 March 2011] [12:01:46] &lt;cremes&gt;   it&#8217;s too big to pastie</div>
<div class="line">[Tuesday 22 March 2011] [12:04:04] &lt;Guthur&gt;   pieterh: you&#8217;re scottish?</div>
<div class="line">[Tuesday 22 March 2011] [12:04:15] &lt;pieterh&gt;  Guthur: half Scottish, half Belgian...</div>
<div class="line">[Tuesday 22 March 2011] [12:04:24] &lt;pieterh&gt;  born somewhere in the middle of the North Sea</div>
<div class="line">[Tuesday 22 March 2011] [12:06:22] &lt;Guthur&gt;   one of those water births then</div>
<div class="line">[Tuesday 22 March 2011] [12:07:23] &lt;pieterh&gt;  lol</div>
<div class="line">[Tuesday 22 March 2011] [12:08:53] &lt;Guthur&gt;   belgians aren&#8217;t renown for their seafaring as well</div>
<div class="line">[Tuesday 22 March 2011] [12:09:01] &lt;Guthur&gt;   I hear they don&#8217;t have much of a navy</div>
<div class="line">[Tuesday 22 March 2011] [12:10:45] &lt;pieterh&gt;  my great-great grandfather was hung for being a pirate</div>
<div class="line">[Tuesday 22 March 2011] [12:11:28] &lt;sustrik&gt;  cremes: did it drop to 0?</div>
<div class="line">[Tuesday 22 March 2011] [12:11:55] &lt;cremes&gt;   sustrik: no, it didn&#8217;t; i just sent you the output in an email with attachment</div>
<div class="line">[Tuesday 22 March 2011] [12:12:03] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [12:13:17] &lt;sustrik&gt;  cremes: it&#8217;s looks like it&#8217;s dropping</div>
<div class="line">[Tuesday 22 March 2011] [12:13:24] &lt;sustrik&gt;  see the end of the file</div>
<div class="line">[Tuesday 22 March 2011] [12:13:58] &lt;sustrik&gt;  if you let it run a bit longet it would probably get to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:14:13] &lt;sustrik&gt;  longer*</div>
<div class="line">[Tuesday 22 March 2011] [12:14:57] &lt;cremes&gt;   sustrik: i let it run for 5 minutes... it didn&#8217;t appear to be dropping anymore</div>
<div class="line">[Tuesday 22 March 2011] [12:15:06] &lt;cremes&gt;   sustrik: i&#8217;ll let it go for 20m and see what happens</div>
<div class="line">[Tuesday 22 March 2011] [12:15:30] &lt;sustrik&gt;  it seems like it was terminated in the middle of the process of dropping</div>
<div class="line">[Tuesday 22 March 2011] [12:15:34] &lt;sustrik&gt;  see the last line</div>
<div class="line">[Tuesday 22 March 2011] [12:15:44] &lt;sustrik&gt;  it&#8217;s cut in the middle of output</div>
<div class="line">[Tuesday 22 March 2011] [12:16:04] &lt;sustrik&gt;  356 355 354 35</div>
<div class="line">[Tuesday 22 March 2011] [12:16:06] &lt;cremes&gt;   sustrik: i think that&#8217;s from buffered output</div>
<div class="line">[Tuesday 22 March 2011] [12:16:17] &lt;cremes&gt;   i was tailing the log file and it stopped there</div>
<div class="line">[Tuesday 22 March 2011] [12:16:20] &lt;sustrik&gt;  ah</div>
<div class="line">[Tuesday 22 March 2011] [12:16:28] &lt;sustrik&gt;  anyway, it dropped almost to zero</div>
<div class="line">[Tuesday 22 March 2011] [12:16:39] &lt;sustrik&gt;  up to 30,000</div>
<div class="line">[Tuesday 22 March 2011] [12:16:51] &lt;sustrik&gt;  then back to 353</div>
<div class="line">[Tuesday 22 March 2011] [12:17:18] &lt;sustrik&gt;  the leak is either elsewhere</div>
<div class="line">[Tuesday 22 March 2011] [12:17:28] &lt;sustrik&gt;  or it&#8217;s process not returning memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [12:18:19] &lt;cremes&gt;   sustrik: i&#8217;ll let it sit for a while... i just saw it go from 1 to 3200 and now it&#8217;s down to 310</div>
<div class="line">[Tuesday 22 March 2011] [12:18:26] &lt;cremes&gt;   but it&#8217;s not printing anything anymore</div>
<div class="line">[Tuesday 22 March 2011] [12:18:40] &lt;sustrik&gt;  hm</div>
<div class="line">[Tuesday 22 March 2011] [12:18:44] &lt;cremes&gt;   if it&#8217;s &#8216;cut off&#8217; due to stdout buffering, hitting ctrl-c ought to flush that buffer</div>
<div class="line">[Tuesday 22 March 2011] [12:19:02] &lt;sustrik&gt;  maybe a problem with the buffering itself?</div>
<div class="line">[Tuesday 22 March 2011] [12:19:27] &lt;sustrik&gt;  anyway, i&#8217;ve used simple non-buffered console</div>
<div class="line">[Tuesday 22 March 2011] [12:19:39] &lt;sustrik&gt;  and i saw the number of chunks dropping to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:19:56] &lt;cremes&gt;   i don&#8217;t know how to get an unbuffered xterm going</div>
<div class="line">[Tuesday 22 March 2011] [12:20:12] &lt;sustrik&gt;  cremes: i don&#8217;t think it matters</div>
<div class="line">[Tuesday 22 March 2011] [12:20:18] &lt;cremes&gt;   i should probably add an explicit flush</div>
<div class="line">[Tuesday 22 March 2011] [12:20:28] &lt;sustrik&gt;  350 chunks won&#8217;t account for all the allocated memory you see</div>
<div class="line">[Tuesday 22 March 2011] [12:20:30] &lt;sustrik&gt;  right?</div>
<div class="line">[Tuesday 22 March 2011] [12:20:34] &lt;sustrik&gt;  1 chunk = 12kb</div>
<div class="line">[Tuesday 22 March 2011] [12:20:34] &lt;mikko&gt;    fflush (stdout);</div>
<div class="line">[Tuesday 22 March 2011] [12:20:48] &lt;sustrik&gt;  x350 = 4.2MB</div>
<div class="line">[Tuesday 22 March 2011] [12:20:58] &lt;cremes&gt;   sustrik: do those chunks contain message data?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:16] &lt;sustrik&gt;  how large is your message?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:19] &lt;sustrik&gt;  8 bytes?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:30] &lt;cremes&gt;   your test case was using a 20byte message</div>
<div class="line">[Tuesday 22 March 2011] [12:21:36] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [12:21:43] &lt;sustrik&gt;  then the chunks contain message data</div>
<div class="line">[Tuesday 22 March 2011] [12:23:28] &lt;cremes&gt;   i added fflush() and am rerunning; we&#8217;ll see if that makes a difference</div>
<div class="line">[Tuesday 22 March 2011] [12:23:35] &lt;cremes&gt;   it did; count went to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:23:50] &lt;cremes&gt;   resident memory is still inflated though</div>
<div class="line">[Tuesday 22 March 2011] [12:24:14] &lt;sustrik&gt;  the next step would be to replace all the mallocs and frees and news and deletes</div>
<div class="line">[Tuesday 22 March 2011] [12:24:28] &lt;sustrik&gt;  by something that would track amount of memory allocated</div>
<div class="line">[Tuesday 22 March 2011] [12:24:46] &lt;cremes&gt;   sustrik: i think it&#8217;s easier for me to just restart my applications every 48 hours</div>
<div class="line">[Tuesday 22 March 2011] [12:24:49] &lt;cremes&gt;   to free up swap</div>
<div class="line">[Tuesday 22 March 2011] [12:25:02] &lt;sustrik&gt;  hm</div>
<div class="line">[Tuesday 22 March 2011] [12:25:31] &lt;sustrik&gt;  let&#8217;s keep the issue open then</div>
<div class="line">[Tuesday 22 March 2011] [12:25:37] &lt;sustrik&gt;  when i get some time</div>
<div class="line">[Tuesday 22 March 2011] [12:25:42] &lt;cremes&gt;   ok</div>
<div class="line">[Tuesday 22 March 2011] [12:25:50] &lt;cremes&gt;   i&#8217;ll add an update with my findings</div>
<div class="line">[Tuesday 22 March 2011] [12:25:55] &lt;spht&gt;     Does zmq not exit in its SIGINT handler? Can&#8217;t SIGINT to kill my script using the python binding..</div>
<div class="line">[Tuesday 22 March 2011] [12:26:05] &lt;sustrik&gt;  i&#8217;ll try to check whether the memory is held by 0mq or glibc</div>
<div class="line">[Tuesday 22 March 2011] [12:27:19] &lt;sustrik&gt;  spht: what version of 0mq are you using?</div>
<div class="line">[Tuesday 22 March 2011] [12:27:54] &lt;spht&gt;     sustrik:  Python module version is 2.0.10</div>
<div class="line">[Tuesday 22 March 2011] [12:28:43] &lt;sustrik&gt;  there used to be a problem with SIGINT in old versions, let me check...</div>
<div class="line">[Tuesday 22 March 2011] [12:29:22] &lt;cremes&gt;   spht: this was fixed in the 2.1 branches</div>
<div class="line">[Tuesday 22 March 2011] [12:29:41] &lt;cremes&gt;   spht: time to upgrade</div>
<div class="line">[Tuesday 22 March 2011] [12:29:44] &lt;spht&gt;     cremes: sustrik: Ahht thanks! I&#8217;ll go upgrade ASAP :)</div>
<div class="line">[Tuesday 22 March 2011] [12:29:48] &lt;ianbarber&gt;        mikko: about?</div>
<div class="line">[Tuesday 22 March 2011] [12:29:51] &lt;mikko&gt;    ianbarber: yes</div>
<div class="line">[Tuesday 22 March 2011] [12:29:55] &lt;mikko&gt;    bam!</div>
<div class="line">[Tuesday 22 March 2011] [12:31:02] &lt;ianbarber&gt;        bam!</div>
<div class="line">[Tuesday 22 March 2011] [12:31:10] &lt;ianbarber&gt;        so, I was translating a pieterh example</div>
<div class="line">[Tuesday 22 March 2011] [12:31:16] &lt;ianbarber&gt;        which measures round trip speed</div>
<div class="line">[Tuesday 22 March 2011] [12:31:48] &lt;ianbarber&gt;        it starts a client, worker and broker, and tries doing send() recv() 10000 time and then send() 10000 and recv() 10000</div>
<div class="line">[Tuesday 22 March 2011] [12:32:01] &lt;ianbarber&gt;        to compare the speed of waiting for a response versus async</div>
<div class="line">[Tuesday 22 March 2011] [12:32:24] &lt;ianbarber&gt;        in the c version I get ~6k/s for the first, around 50k/s for the second</div>
<div class="line">[Tuesday 22 March 2011] [12:32:32] &lt;ianbarber&gt;        in the PHP i get ~6k/s for both</div>
<div class="line">[Tuesday 22 March 2011] [12:33:37] &lt;mikko&gt;    that&#8217;s interesting</div>
<div class="line">[Tuesday 22 March 2011] [12:33:40] &lt;ianbarber&gt;        i thought it might be because PHP was doing a msg destroy after each one, but taking that out of the c version didn&#8217;t affect it</div>
<div class="line">[Tuesday 22 March 2011] [12:34:03] &lt;mikko&gt;    probably need to run with a profiler to see</div>
<div class="line">[Tuesday 22 March 2011] [12:35:16] &lt;ianbarber&gt;        yeah, i guess</div>
<div class="line">[Tuesday 22 March 2011] [13:01:46] &lt;pieterh&gt;  ianbarber: destroying messages, allocs, etc. don&#8217;t make that much impact</div>
<div class="line">[Tuesday 22 March 2011] [13:06:53] &lt;ianbarber&gt;        yeah, that&#8217;s what i concluded.</div>
<div class="line">[Tuesday 22 March 2011] [14:32:11] &lt;picasso&gt;  i&#8217;m designing an analytics system that needs to handle  potentially heavy loads and usage spikes</div>
<div class="line">[Tuesday 22 March 2011] [14:32:25] &lt;picasso&gt;  creating a web service API (preferrably in PHP), packaging  incoming requests and dumping onto a message queue, and then  processing these requests in the background</div>
<div class="line">[Tuesday 22 March 2011] [14:33:57] &lt;picasso&gt;  i apologize for not being too familiar with zeroMQ, but is this a type of problem that would be a good use case for zero?</div>
<div class="line">[Tuesday 22 March 2011] [14:43:00] &lt;cremes&gt;   picasso: yep, it sure would</div>
<div class="line">[Tuesday 22 March 2011] [14:43:26] &lt;cremes&gt;   have you read the guide? <a class="reference external" href="http://zero.mq/zg">http://zero.mq/zg</a></div>
<div class="line">[Tuesday 22 March 2011] [14:43:35] &lt;cremes&gt;   it covers several use-cases</div>
<div class="line">[Tuesday 22 March 2011] [14:46:05] &lt;picasso&gt;  seems i have quite a bit of reading to do :)</div>
<div class="line">[Tuesday 22 March 2011] [15:13:22] &lt;cremes&gt;   picasso: just a little bit!</div>
<div class="line">[Tuesday 22 March 2011] [15:49:06] &lt;michelp&gt;  i&#8217;m just reading the news about Sergey Aleynikov, was he a 0mq developer?</div>
<div class="line">[Tuesday 22 March 2011] [15:49:47] &lt;michelp&gt;  i saw his github (maybe bitbucket) googleing around a few days ago but now it appears to be gone</div>
<div class="line">[Tuesday 22 March 2011] [15:49:54] &lt;michelp&gt;  and it looked like he had made some contributions</div>
<div class="line">[Tuesday 22 March 2011] [15:50:13] &lt;michelp&gt;  weird that i can&#8217;t find it now, they must have deleted it</div>
<div class="line">[Tuesday 22 March 2011] [15:52:07] &lt;pieterh&gt;  michelp: he wrote the original Erlang binding for 0MQ</div>
<div class="line">[Tuesday 22 March 2011] [15:52:48] &lt;pieterh&gt;  user id on github is saleyn</div>
<div class="line">[Tuesday 22 March 2011] [15:53:32] &lt;michelp&gt;  i&#8217;m not up on the details, but his sentence seems extremely harsh for just moving code, it doesn&#8217;t sound they proved he used it in any way</div>
<div class="line">[Tuesday 22 March 2011] [15:56:03] &lt;michelp&gt;  ah it&#8217;s still up on github</div>
<div class="line">[Tuesday 22 March 2011] [15:57:10] &lt;cremes&gt;   michelp: it doesn&#8217;t matter if he used it or not; let&#8217;s say you take a candy bar from the store but you don&#8217;t eat it; has it been stolen?</div>
<div class="line">[Tuesday 22 March 2011] [15:57:13] &lt;cremes&gt;   or not?</div>
<div class="line">[Tuesday 22 March 2011] [15:58:54] &lt;michelp&gt;  yeah i guess it has.  the couple of stories i&#8217;ve read so far don&#8217;t have much detail, but i just found one that does</div>
<div class="line">[Tuesday 22 March 2011] [15:59:10] &lt;pieterh&gt;  michelp: crimes against property are usually treated harshly unless you&#8217;re wealthy</div>
<div class="line">[Tuesday 22 March 2011] [15:59:23] &lt;spht&gt;     dang: He was employed for two years at Goldman on a salary of $400,000. In early June, he left Goldman to join Teza Technologies, a Chicago start-up which offered to triple his pay.</div>
<div class="line">[Tuesday 22 March 2011] [16:00:13] &lt;spht&gt;     $1.2M coding, that&#8217;s pretty decent I&#8217;d say :)</div>
<div class="line">[Tuesday 22 March 2011] [16:08:01] &lt;pieterh&gt;  aight, zapi the high-level C binding for 0MQ is now ready and working!</div>
<div class="line">[Tuesday 22 March 2011] [16:08:07] &lt;pieterh&gt;  <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Tuesday 22 March 2011] [16:09:13] &lt;mikko&gt;    cool!</div>
<div class="line">[Tuesday 22 March 2011] [16:09:42] &lt;mikko&gt;    did you take zfl build as base?</div>
<div class="line">[Tuesday 22 March 2011] [16:09:50] &lt;pieterh&gt;  yes, for the autotools</div>
<div class="line">[Tuesday 22 March 2011] [16:09:55] &lt;mikko&gt;    very good</div>
<div class="line">[Tuesday 22 March 2011] [16:10:00] &lt;mikko&gt;    should be about the same process</div>
<div class="line">[Tuesday 22 March 2011] [16:10:02] &lt;pieterh&gt;  the only change was to switch to valgrind for the selftest script</div>
<div class="line">[Tuesday 22 March 2011] [16:10:18] &lt;pieterh&gt;  much better than whatever heap checker I was using in ZFL</div>
<div class="line">[Tuesday 22 March 2011] [17:24:12] &lt;pieterh&gt;  sigh</div>
<div class="line">[Tuesday 22 March 2011] [18:00:11] &lt;Guthur&gt;   pieterh, you work fast</div>
<div class="line">[Tuesday 22 March 2011] [18:00:18] &lt;pieterh&gt;  yeah</div>
<div class="line">[Tuesday 22 March 2011] [18:00:22] &lt;pieterh&gt;  am just making packages now</div>
<div class="line">[Tuesday 22 March 2011] [18:00:26] &lt;pieterh&gt;  beta release in one day</div>
<div class="line">[Tuesday 22 March 2011] [18:00:49] &lt;pieterh&gt;  will aim to also upload man pages to a web site, should be doable</div>
<div class="line">[Tuesday 22 March 2011] [18:01:06] &lt;pieterh&gt;  first replying to people who confuse posix streams with length-specified messages</div>
<div class="line">[Tuesday 22 March 2011] [18:01:07] &lt;pieterh&gt;  sigh</div>
<div class="line">[Tuesday 22 March 2011] [18:01:10] &lt;Guthur&gt;   In the same time I haven&#8217;t got nearly as far with the 0MQ-FIX bridge</div>
<div class="line">[Tuesday 22 March 2011] [18:01:23] &lt;Guthur&gt;   admittedly I had to go to work in the middle</div>
<div class="line">[Tuesday 22 March 2011] [18:03:06] &lt;Guthur&gt;   robustly extracting a FIX message from a socket wrote buffer is non too trivial exercise though</div>
<div class="line">[Tuesday 22 March 2011] [18:03:23] &lt;pieterh&gt;  FIX is complex</div>
<div class="line">[Tuesday 22 March 2011] [18:03:35] &lt;pieterh&gt;  that&#8217;s why I suggested doing that totally separately</div>
<div class="line">[Tuesday 22 March 2011] [18:05:24] &lt;Guthur&gt;   it&#8217;s actually my first time working directly with raw sockets as well</div>
<div class="line">[Tuesday 22 March 2011] [18:05:33] &lt;Guthur&gt;   so all a bit of a learning curce</div>
<div class="line">[Tuesday 22 March 2011] [18:05:38] &lt;Guthur&gt;   curve*</div>
<div class="line">[Tuesday 22 March 2011] [18:24:26] &lt;pieterh&gt;  raw sockets are pretty OK if you&#8217;re not trying to be multithreaded or something</div>
<div class="line">[Tuesday 22 March 2011] [18:31:26] &lt;Guthur&gt;   hehe, I quickly decided not to try that</div>
<div class="line">[Tuesday 22 March 2011] [18:32:03] &lt;Guthur&gt;   it&#8217;s not so much the Sockets it&#8217;s extracting the individual messages from the stream</div>
<div class="line">[Tuesday 22 March 2011] [18:32:20] &lt;Guthur&gt;   ensuring they are complete and valid</div>
<div class="line">[Tuesday 22 March 2011] [18:34:11] &lt;Guthur&gt;   just trying to find the nice solution, I&#8217;ve made a state transition table, which should help</div>
<div class="line">[Tuesday 22 March 2011] [18:34:28] &lt;Guthur&gt;   and just ran a small socket demo to sanity check my socket understanding</div>
<div class="line">[Tuesday 22 March 2011] [18:34:48] &lt;Guthur&gt;   so all set now to do the real work</div>
<div class="line">[Tuesday 22 March 2011] [18:46:52] &lt;pieterh&gt;  Guthur: are you working in C or C# for this?</div>
<div class="line">[Tuesday 22 March 2011] [18:49:08] &lt;Guthur&gt;   C# for the time being, I think it might suit being implement in C, if its &#8216;dumb&#8217; enough</div>
<div class="line">[Tuesday 22 March 2011] [19:01:22] &lt;pieterh&gt;  I&#8217;m really curious to see how you get with this</div>
<div class="line">[Tuesday 22 March 2011] [20:31:38] &lt;Guthur&gt;   out of curiosity do many specifically build 0MQ for 64bit platform?</div>
<div class="line">[Tuesday 22 March 2011] [20:33:46] &lt;Guthur&gt;   oh nvm, it&#8217;s not really the issue I had mind</div>
<div class="line">[Tuesday 22 March 2011] [20:38:11] &lt;klestes&gt;  greetings</div>
<div class="line">[Tuesday 22 March 2011] [20:38:31] &lt;klestes&gt;  anyone here ?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:02] &lt;Guthur&gt;   klestes, a few</div>
<div class="line">[Tuesday 22 March 2011] [20:39:21] &lt;Guthur&gt;   i wont be here long though, just about to hit the sack</div>
<div class="line">[Tuesday 22 March 2011] [20:39:25] &lt;Guthur&gt;   what&#8217;s up?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:33] &lt;klestes&gt;  good.  I am preparing to do my first patch submission</div>
<div class="line">[Tuesday 22 March 2011] [20:39:51] &lt;klestes&gt;  where are you, Guth ?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:57] &lt;Guthur&gt;   UK</div>
<div class="line">[Tuesday 22 March 2011] [20:40:07] &lt;klestes&gt;  ah.  Hows the weather ?</div>
<div class="line">[Tuesday 22 March 2011] [20:40:09] &lt;Guthur&gt;   I&#8217;m not much of a git gurur</div>
<div class="line">[Tuesday 22 March 2011] [20:40:20] &lt;Guthur&gt;   it&#8217;s actually been quite good recently</div>
<div class="line">[Tuesday 22 March 2011] [20:40:22] &lt;klestes&gt;  me either !</div>
<div class="line">[Tuesday 22 March 2011] [20:40:28] &lt;klestes&gt;  great !</div>
<div class="line">[Tuesday 22 March 2011] [20:40:37] &lt;Guthur&gt;   pieterh, ping</div>
<div class="line">[Tuesday 22 March 2011] [20:40:51] &lt;Guthur&gt;   pieterh might be able to help, if he&#8217;s about</div>
<div class="line">[Tuesday 22 March 2011] [20:41:00] &lt;klestes&gt;  yep, if you hear the 0Mgods gripe about that damn newbie patch, I was susccessful :)</div>
<div class="line">[Tuesday 22 March 2011] [20:41:17] &lt;klestes&gt;  I think the SF meetup was today, so he may be out of it.  or having beer.</div>
<div class="line">[Tuesday 22 March 2011] [20:41:32] &lt;klestes&gt;  anyway, if I botch it, there&#8217;s always tomorrow.</div>
<div class="line">[Tuesday 22 March 2011] [20:41:43] &lt;Guthur&gt;   oh ok, well there is a couple of resources on the web on how to make git patches</div>
<div class="line">[Tuesday 22 March 2011] [20:41:51] &lt;klestes&gt;  yes, I am reading one now.</div>
<div class="line">[Tuesday 22 March 2011] [20:42:04] &lt;Guthur&gt;   it&#8217;s actually not too hard, I just can&#8217;t remember otoh</div>
<div class="line">[Tuesday 22 March 2011] [20:42:32] &lt;Guthur&gt;   I really need sleep though, sorry I can&#8217;t be more help</div>
<div class="line">[Tuesday 22 March 2011] [20:42:44] &lt;klestes&gt;  thats ok.</div>
<div class="line">[Tuesday 22 March 2011] [20:42:53] &lt;klestes&gt;  I wonder if I can submit just a plain diff the first time ?</div>
<div class="line">[Tuesday 22 March 2011] [20:43:09] &lt;Guthur&gt;   they do like signed off patches to be honest</div>
<div class="line">[Tuesday 22 March 2011] [20:43:16] &lt;klestes&gt;  ah, ok.</div>
<div class="line">[Tuesday 22 March 2011] [20:43:39] &lt;Guthur&gt;   anyhoo must go, later klestes</div>
<div class="line">[Tuesday 22 March 2011] [20:43:40] &lt;klestes&gt;  now,what exactly qualifies a patch as being &#8216;signed off&#8217; - use of the git format-patch command ?</div>
<div class="line">[Tuesday 22 March 2011] [20:43:52] &lt;klestes&gt;  nice talking to you, guthur.  Have a good night !</div>
<div class="line">[Tuesday 22 March 2011] [20:44:31] &lt;Guthur&gt;   we should probably document this process somewhere</div>
<div class="line">[Tuesday 22 March 2011] [20:44:41] &lt;Guthur&gt;   g&#8217;night</div>
<div class="line">[Tuesday 22 March 2011] [21:06:14] &lt;klestes&gt;  well, my first patch has been submitted.  Bombs away !!</div>
<div class="line">[Tuesday 22 March 2011] [21:06:22] &lt;klestes&gt;  and to all, a good nyte.</div>
<div class="line">[Wednesday 23 March 2011] [02:03:42] &lt;Freejack&gt;       Has anyone tried plugging ZeroMQ into anything besides sockets? (i.e. TIPC, DIPC, LINX, Streams, etc...)?</div>
<div class="line">[Wednesday 23 March 2011] [02:07:56] &lt;sustrik&gt;        Freejack: nope</div>
<div class="line">[Wednesday 23 March 2011] [02:08:06] &lt;sustrik&gt;        you are free to try</div>
<div class="line">[Wednesday 23 March 2011] [02:08:42] &lt;sustrik&gt;        however, if the underlying transport doesn&#8217;t use file descriptors, it will be pretty hard to integrate into 0mq</div>
<div class="line">[Wednesday 23 March 2011] [02:08:59] &lt;Freejack&gt;       Sounds like a plan. Yeah, it uses file descriptors.</div>
<div class="line">[Wednesday 23 March 2011] [02:09:46] &lt;Freejack&gt;       I&#8217;ve been playing with message queues for a while now...and find posix queues and Linx Queues to be extremely efficient.</div>
<div class="line">[Wednesday 23 March 2011] [02:11:09] &lt;Freejack&gt;       Linx Queues especially. Their like traveling at light speed compared to sockets over the LAN.</div>
<div class="line">[Wednesday 23 March 2011] [02:13:50] &lt;Freejack&gt;       sustrik: Besides...since ZeroMQ is in fact a high level MQ API, I figure the two would be a good match.</div>
<div class="line">[Wednesday 23 March 2011] [02:14:23] &lt;sustrik&gt;        sure</div>
<div class="line">[Wednesday 23 March 2011] [02:14:28] &lt;sustrik&gt;        go on with it</div>
<div class="line">[Wednesday 23 March 2011] [02:17:55] &lt;Freejack&gt;       Guess I&#8217;d better start grokking the code. bbl.</div>
<div class="line">[Wednesday 23 March 2011] [04:30:20] &lt;pieterh&gt;        sustrik: how easy is it to add a transport layer to 0MQ?</div>
<div class="line">[Wednesday 23 March 2011] [04:44:16] &lt;sustrik&gt;        pieterh: depends</div>
<div class="line">[Wednesday 23 March 2011] [04:44:39] &lt;sustrik&gt;        what transport do you have in mind?</div>
<div class="line">[Wednesday 23 March 2011] [04:45:17] &lt;pieterh&gt;        well, of course TLS/SSL for a start</div>
<div class="line">[Wednesday 23 March 2011] [04:45:25] &lt;pieterh&gt;        but more generally, any virtual stream</div>
<div class="line">[Wednesday 23 March 2011] [04:46:05] &lt;pieterh&gt;        we get these questions about implementing UDP, SCTP, etc. regularly</div>
<div class="line">[Wednesday 23 March 2011] [04:46:19] &lt;pieterh&gt;        and there is no good answer except &#8220;go study the code and send us a patch&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [04:47:21] &lt;pieterh&gt;        have you ever looked at e.g. the Linux user-space file system (FUSE)?</div>
<div class="line">[Wednesday 23 March 2011] [04:50:10] &lt;sustrik&gt;        it would be nice to have standardised interface for transports</div>
<div class="line">[Wednesday 23 March 2011] [04:50:25] &lt;sustrik&gt;        however, it&#8217;s hard to define it</div>
<div class="line">[Wednesday 23 March 2011] [04:50:57] &lt;sustrik&gt;        given the pretty large differences between trasnsports (inproc, pgm, tcp)</div>
<div class="line">[Wednesday 23 March 2011] [04:51:06] &lt;sustrik&gt;        as FUSE: no</div>
<div class="line">[Wednesday 23 March 2011] [04:59:00] &lt;pieterh&gt;        FUSE is just an analogy</div>
<div class="line">[Wednesday 23 March 2011] [04:59:25] &lt;pieterh&gt;        you can keep a bunch of native transports tightly bound to whatever...</div>
<div class="line">[Wednesday 23 March 2011] [04:59:43] &lt;pieterh&gt;        but it would be neat to have a virtual interface for stream transports</div>
<div class="line">[Wednesday 23 March 2011] [05:00:08] &lt;pieterh&gt;        e.g. I&#8217;d like to explore making a shmem transport, but where do I start?</div>
<div class="line">[Wednesday 23 March 2011] [05:00:54] &lt;sustrik&gt;        it&#8217;s a connection-based transport, so have a look how tcp transport works</div>
<div class="line">[Wednesday 23 March 2011] [05:01:19] &lt;sustrik&gt;        zmq_listener_t, zmq_connecter_t, zmq_init_t, zmq_engine_t</div>
<div class="line">[Wednesday 23 March 2011] [05:01:33] &lt;pieterh&gt;        no, I&#8217;m not asking for documentation now, here, on IRC... :-)</div>
<div class="line">[Wednesday 23 March 2011] [05:02:36] &lt;pieterh&gt;        if tcp is the right model for all connected stream transports</div>
<div class="line">[Wednesday 23 March 2011] [05:02:55] &lt;sustrik&gt;        probably not</div>
<div class="line">[Wednesday 23 March 2011] [05:03:00] &lt;sustrik&gt;        no idea actually</div>
<div class="line">[Wednesday 23 March 2011] [05:03:03] &lt;pieterh&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [05:03:38] &lt;pieterh&gt;        IMO this is a major barrier to contributors able to extend 0MQ&#8217;s transports</div>
<div class="line">[Wednesday 23 March 2011] [05:03:42] &lt;sustrik&gt;        agreed</div>
<div class="line">[Wednesday 23 March 2011] [05:04:46] &lt;Guthur&gt; +1 that, hehe</div>
<div class="line">[Wednesday 23 March 2011] [05:05:01] &lt;sustrik&gt;        the question is how to define the interface</div>
<div class="line">[Wednesday 23 March 2011] [05:05:15] &lt;sustrik&gt;        right now 0mq doesn&#8217;t do much for you</div>
<div class="line">[Wednesday 23 March 2011] [05:05:26] &lt;pieterh&gt;        well, it can IMO map the 0MQ API semantics</div>
<div class="line">[Wednesday 23 March 2011] [05:05:27] &lt;sustrik&gt;        there&#8217;s a framework for launching async objects</div>
<div class="line">[Wednesday 23 March 2011] [05:05:32] &lt;pieterh&gt;        bind, connect, send, recv</div>
<div class="line">[Wednesday 23 March 2011] [05:05:41] &lt;sustrik&gt;        nope, it&#8217;s event-driven</div>
<div class="line">[Wednesday 23 March 2011] [05:06:00] &lt;sustrik&gt;        another part of functionality, is pollers</div>
<div class="line">[Wednesday 23 March 2011] [05:06:09] &lt;sustrik&gt;        which allow you to register your fds</div>
<div class="line">[Wednesday 23 March 2011] [05:06:18] &lt;sustrik&gt;        and get events such as pollin and pollout</div>
<div class="line">[Wednesday 23 March 2011] [05:06:24] &lt;pieterh&gt;        so any transport layer has to export FDs</div>
<div class="line">[Wednesday 23 March 2011] [05:06:39] &lt;pieterh&gt;        is that how the pgm transport works?</div>
<div class="line">[Wednesday 23 March 2011] [05:06:41] &lt;sustrik&gt;        well, it can run a thread of it&#8217;s own</div>
<div class="line">[Wednesday 23 March 2011] [05:06:48] &lt;sustrik&gt;        and ignore the I/O threads</div>
<div class="line">[Wednesday 23 March 2011] [05:06:55] &lt;pieterh&gt;        that&#8217;s a good start IMO</div>
<div class="line">[Wednesday 23 March 2011] [05:06:55] &lt;sustrik&gt;        = standard pollers</div>
<div class="line">[Wednesday 23 March 2011] [05:07:35] &lt;pieterh&gt;        how about... a transport as a bridge?</div>
<div class="line">[Wednesday 23 March 2011] [05:07:40] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [05:07:43] &lt;pieterh&gt;        hehe</div>
<div class="line">[Wednesday 23 March 2011] [05:07:53] &lt;pieterh&gt;        ok, this is crazy, but...</div>
<div class="line">[Wednesday 23 March 2011] [05:08:03] &lt;pieterh&gt;        transport X runs as its own thread, OK?</div>
<div class="line">[Wednesday 23 March 2011] [05:08:09] &lt;pieterh&gt;        it communicates purely over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:08:22] &lt;pieterh&gt;        define an inproc API back to 0MQ core</div>
<div class="line">[Wednesday 23 March 2011] [05:08:32] &lt;pieterh&gt;        <em>any</em> thread can register, use it, become a transport</div>
<div class="line">[Wednesday 23 March 2011] [05:09:06] &lt;sustrik&gt;        can you be more specific?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:31] &lt;pieterh&gt;        I&#8217;ve not had coffee yet, I know close to nothing about the 0MQ internals, and you want more details?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:35] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [05:09:52] &lt;sustrik&gt;        i don&#8217;t understand what you meant, that&#8217;s all</div>
<div class="line">[Wednesday 23 March 2011] [05:09:55] &lt;ianbarber&gt;      is that better than just writing a 0MQ bridge in &#8216;userland&#8217;?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:56] &lt;ianbarber&gt;      (not sure why i added scare quotes there :))</div>
<div class="line">[Wednesday 23 March 2011] [05:10:10] &lt;pieterh&gt;        ianbarber: it&#8217;s exactly the same except it can be hidden as a transport</div>
<div class="line">[Wednesday 23 March 2011] [05:10:20] &lt;pieterh&gt;        i.e. you can plug in and plug out without changing code</div>
<div class="line">[Wednesday 23 March 2011] [05:10:33] &lt;pieterh&gt;        whereas if it&#8217;s in userland, its architecturally significant</div>
<div class="line">[Wednesday 23 March 2011] [05:10:43] &lt;pieterh&gt;        it&#8217;s FUSE by analogy</div>
<div class="line">[Wednesday 23 March 2011] [05:10:57] &lt;ianbarber&gt;      maybe have that functionality as a device or similar</div>
<div class="line">[Wednesday 23 March 2011] [05:11:00] &lt;pieterh&gt;        sustrik: specifics...</div>
<div class="line">[Wednesday 23 March 2011] [05:11:09] &lt;pieterh&gt;        a transport thread has to register, using some name</div>
<div class="line">[Wednesday 23 March 2011] [05:11:21] &lt;pieterh&gt;        that name becomes available to applications for binding and connecting</div>
<div class="line">[Wednesday 23 March 2011] [05:11:28] &lt;sustrik&gt;        that&#8217;s inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:11:32] &lt;pieterh&gt;        hang on</div>
<div class="line">[Wednesday 23 March 2011] [05:11:54] &lt;pieterh&gt;        the transport thread then accepts a set of control messages over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:11:57] &lt;pieterh&gt;        - bind to endpoint</div>
<div class="line">[Wednesday 23 March 2011] [05:12:00] &lt;pieterh&gt;        - connect to endpoint</div>
<div class="line">[Wednesday 23 March 2011] [05:12:06] &lt;pieterh&gt;        - send message</div>
<div class="line">[Wednesday 23 March 2011] [05:12:09] &lt;pieterh&gt;        - ?</div>
<div class="line">[Wednesday 23 March 2011] [05:12:26] &lt;pieterh&gt;        it returns events asynchronously</div>
<div class="line">[Wednesday 23 March 2011] [05:12:41] &lt;pieterh&gt;        obviously there has to be a peer inside 0MQ able to manage these threads and events</div>
<div class="line">[Wednesday 23 March 2011] [05:12:52] &lt;pieterh&gt;        so it&#8217;s a virtualized transport</div>
<div class="line">[Wednesday 23 March 2011] [05:13:12] &lt;pieterh&gt;        now, I can write an SSL transport really simply</div>
<div class="line">[Wednesday 23 March 2011] [05:13:22] &lt;pieterh&gt;        or a transport that logs everything</div>
<div class="line">[Wednesday 23 March 2011] [05:13:35] &lt;sustrik&gt;        looks like an obvious case for layering on top of 0mq</div>
<div class="line">[Wednesday 23 March 2011] [05:13:48] &lt;pieterh&gt;        of course you can layer it on top but that&#8217;s missing the point</div>
<div class="line">[Wednesday 23 March 2011] [05:13:53] &lt;sustrik&gt;        basically, 0mq is used as a transport between the &#8220;transport&#8221; and the user</div>
<div class="line">[Wednesday 23 March 2011] [05:14:07] &lt;pieterh&gt;        if you layer it at the bottom you get different effects</div>
<div class="line">[Wednesday 23 March 2011] [05:14:13] &lt;pieterh&gt;        again, please understand FUSE</div>
<div class="line">[Wednesday 23 March 2011] [05:14:25] &lt;pieterh&gt;        I can implement a file system in user space</div>
<div class="line">[Wednesday 23 March 2011] [05:14:37] &lt;pieterh&gt;        all my tools work on that file system, since it&#8217;s just a virtualized transport layer</div>
<div class="line">[Wednesday 23 March 2011] [05:15:02] &lt;pieterh&gt;        in 0MQ jargon, my devices, brokers, etc. would automatically work over any virtualized transport</div>
<div class="line">[Wednesday 23 March 2011] [05:15:10] &lt;sustrik&gt;        ack, what&#8217;s needed is an interface from kernel back to user space</div>
<div class="line">[Wednesday 23 March 2011] [05:15:16] &lt;pieterh&gt;        it&#8217;s much, much, much cleaner than implementing the transport on top of 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [05:15:19] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [05:15:28] &lt;sustrik&gt;        but we already have that :)</div>
<div class="line">[Wednesday 23 March 2011] [05:15:35] &lt;sustrik&gt;        it&#8217;s inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:15:47] &lt;pieterh&gt;        that&#8217;s the transport for the interface, it&#8217;s not the interface</div>
<div class="line">[Wednesday 23 March 2011] [05:16:20] &lt;pieterh&gt;        what I want is to inject user space code inside the 0MQ API, not on top of it</div>
<div class="line">[Wednesday 23 March 2011] [05:16:43] &lt;pieterh&gt;        but instead of going and modifying core and sending you a patch</div>
<div class="line">[Wednesday 23 March 2011] [05:16:44] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [05:16:51] &lt;pieterh&gt;        I want to write a thread that talks to your code, over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:16:56] &lt;sustrik&gt;        have a look at 0mq internals and find a way to do that</div>
<div class="line">[Wednesday 23 March 2011] [05:17:20] &lt;pieterh&gt;        i&#8217;ve just made it really easy for you to offer dozens of contributors a virtualized transport layer</div>
<div class="line">[Wednesday 23 March 2011] [05:17:29] &lt;sustrik&gt;        ack</div>
<div class="line">[Wednesday 23 March 2011] [05:17:48] &lt;pieterh&gt;        you know full well I&#8217;m not competent to look at the 0MQ internals and find a way to actually implement this</div>
<div class="line">[Wednesday 23 March 2011] [05:18:06] &lt;pieterh&gt;        if you want people to invest in new transport layers, do <em>not</em> tell them to go read the code</div>
<div class="line">[Wednesday 23 March 2011] [05:18:08] &lt;pieterh&gt;        it will not work</div>
<div class="line">[Wednesday 23 March 2011] [05:18:19] &lt;pieterh&gt;        it&#8217;s basically saying &#8220;piss off&#8221; with a smile</div>
<div class="line">[Wednesday 23 March 2011] [05:18:19] &lt;sustrik&gt;        the point is that&#8217;s it not obvious how to do it</div>
<div class="line">[Wednesday 23 March 2011] [05:18:30] &lt;sustrik&gt;        given that internally, 0mq uses very different model</div>
<div class="line">[Wednesday 23 March 2011] [05:18:38] &lt;sustrik&gt;        it&#8217;s completely event driven</div>
<div class="line">[Wednesday 23 March 2011] [05:18:51] &lt;sustrik&gt;        so there&#8217;s no such thing as say &#8220;connect&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [05:18:51] &lt;pieterh&gt;        you can clearly make event driven APIs over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:19:28] &lt;sustrik&gt;        it&#8217;s different kind of events, those that are passed via mailbox_t</div>
<div class="line">[Wednesday 23 March 2011] [05:19:33] &lt;pieterh&gt;        how many user contributed transports since 0MQ went fully open source?</div>
<div class="line">[Wednesday 23 March 2011] [05:19:34] &lt;sustrik&gt;        see command.hpp</div>
<div class="line">[Wednesday 23 March 2011] [05:19:41] &lt;sustrik&gt;        none</div>
<div class="line">[Wednesday 23 March 2011] [05:19:53] &lt;sustrik&gt;        you don&#8217;t have to convince me</div>
<div class="line">[Wednesday 23 March 2011] [05:19:56] &lt;pieterh&gt;        and this is the reason IMO, no abstract interface</div>
<div class="line">[Wednesday 23 March 2011] [05:20:02] &lt;sustrik&gt;        i am all for standardised transport API</div>
<div class="line">[Wednesday 23 March 2011] [05:20:10] &lt;sustrik&gt;        i just don&#8217;t know how to implement it</div>
<div class="line">[Wednesday 23 March 2011] [05:20:13] &lt;sustrik&gt;        that&#8217;s it</div>
<div class="line">[Wednesday 23 March 2011] [05:20:27] &lt;pieterh&gt;        well, forget efficiency as such, this is about extensibility, not performance</div>
<div class="line">[Wednesday 23 March 2011] [05:20:41] &lt;pieterh&gt;        what are the events passed via mailboxes?</div>
<div class="line">[Wednesday 23 March 2011] [05:21:03] &lt;sustrik&gt;        internal events, such as &#8220;there&#8217;s a new pipe you should start dealing with&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [05:21:30] &lt;pieterh&gt;        so how about pipes extended across inproc?</div>
<div class="line">[Wednesday 23 March 2011] [05:21:35] &lt;pieterh&gt;        logically, I mean</div>
<div class="line">[Wednesday 23 March 2011] [05:21:56] &lt;sustrik&gt;        the concept is that the pipe itself is agnostic about who&#8217;s on the either end of it</div>
<div class="line">[Wednesday 23 March 2011] [05:22:03] &lt;pieterh&gt;        we already have this virtualized interface internally, with mailboxes and pipes</div>
<div class="line">[Wednesday 23 March 2011] [05:22:11] &lt;sustrik&gt;        with inproc, there&#8217;s a socket on both ends</div>
<div class="line">[Wednesday 23 March 2011] [05:22:25] &lt;sustrik&gt;        with tcp, there&#8217;s a socket on one end and a session on the other</div>
<div class="line">[Wednesday 23 March 2011] [05:22:27] &lt;pieterh&gt;        yes, but you can hide that, obviously</div>
<div class="line">[Wednesday 23 March 2011] [05:22:37] &lt;sustrik&gt;        propose a way</div>
<div class="line">[Wednesday 23 March 2011] [05:22:42] &lt;sustrik&gt;        it&#8217;s not easy</div>
<div class="line">[Wednesday 23 March 2011] [05:22:51] &lt;sustrik&gt;        i&#8217;ve spent a lot of time thinking about it</div>
<div class="line">[Wednesday 23 March 2011] [05:22:59] &lt;sustrik&gt;        but haven&#8217;t get to anything sensible so far</div>
<div class="line">[Wednesday 23 March 2011] [05:23:13] &lt;pieterh&gt;        well, thinking by yourself is not often a very productive process...</div>
<div class="line">[Wednesday 23 March 2011] [05:23:27] &lt;sustrik&gt;        sure, feel free to help</div>
<div class="line">[Wednesday 23 March 2011] [05:23:33] &lt;pieterh&gt;        this is what I&#8217;m doing now</div>
<div class="line">[Wednesday 23 March 2011] [05:23:42] &lt;pieterh&gt;        or trying to, anyhow</div>
<div class="line">[Wednesday 23 March 2011] [05:23:51] &lt;sustrik&gt;        well, have a look at the internals first</div>
<div class="line">[Wednesday 23 March 2011] [05:23:58] &lt;sustrik&gt;        so that you have an idea of how it works</div>
<div class="line">[Wednesday 23 March 2011] [05:24:04] &lt;pieterh&gt;        is this documented somewhere?</div>
<div class="line">[Wednesday 23 March 2011] [05:24:12] &lt;sustrik&gt;        source code</div>
<div class="line">[Wednesday 23 March 2011] [05:24:22] &lt;pieterh&gt;        asking me to read C++ code simply to discuss architecture is a waste of my time, sorry</div>
<div class="line">[Wednesday 23 March 2011] [05:24:37] &lt;sustrik&gt;        ok, let it be then</div>
<div class="line">[Wednesday 23 March 2011] [05:24:51]   * sustrik is doing accounting today</div>
<div class="line">[Wednesday 23 March 2011] [05:25:26] &lt;ianbarber&gt;      one thing that maybe is worth considering for connectors is just sticking the files into a different directory</div>
<div class="line">[Wednesday 23 March 2011] [05:25:53] &lt;pieterh&gt;        ianbarber: what connectors, and what files? I&#8217;m confused</div>
<div class="line">[Wednesday 23 March 2011] [05:26:00] &lt;ianbarber&gt;      for the transports, sorry</div>
<div class="line">[Wednesday 23 March 2011] [05:26:14] &lt;pieterh&gt;        actually I&#8217;d like to not even use inproc but IPC</div>
<div class="line">[Wednesday 23 March 2011] [05:26:19] &lt;pieterh&gt;        so a transport can be a separate process</div>
<div class="line">[Wednesday 23 March 2011] [05:26:33] &lt;ianbarber&gt;      so like, once i realised there would be a connector and a socket and listener, it was easier to browse around</div>
<div class="line">[Wednesday 23 March 2011] [05:26:54] &lt;pieterh&gt;        ah, you mean organization of the 0MQ source code?</div>
<div class="line">[Wednesday 23 March 2011] [05:26:57] &lt;ianbarber&gt;      and in terms of people building new ones, the best reference is usually other examples</div>
<div class="line">[Wednesday 23 March 2011] [05:26:57] &lt;ianbarber&gt;      yeah</div>
<div class="line">[Wednesday 23 March 2011] [05:27:08] &lt;pieterh&gt;        yeah, nice</div>
<div class="line">[Wednesday 23 March 2011] [05:27:20] &lt;pieterh&gt;        so all the code for one transport is actually identifiable in one place</div>
<div class="line">[Wednesday 23 March 2011] [05:27:24] &lt;ianbarber&gt;      yeah</div>
<div class="line">[Wednesday 23 March 2011] [05:27:29] &lt;pieterh&gt;        excellent suggestion</div>
<div class="line">[Wednesday 23 March 2011] [05:27:32] &lt;pieterh&gt;        send a patch to the list</div>
<div class="line">[Wednesday 23 March 2011] [05:27:44] &lt;pieterh&gt;        :-) sorry, just being facetious</div>
<div class="line">[Wednesday 23 March 2011] [05:28:03]   * pieterh really needs a coffee</div>
<div class="line">[Wednesday 23 March 2011] [05:28:26] &lt;pieterh&gt;        sustrik: if this all ends up with me learning C++ I&#8217;m seriously never going to forgive you</div>
<div class="line">[Wednesday 23 March 2011] [05:28:38] &lt;sustrik&gt;        :)</div>
<div class="line">[Wednesday 23 March 2011] [05:29:00] &lt;sustrik&gt;        here&#8217;s a beginning of a design document:</div>
<div class="line">[Wednesday 23 March 2011] [05:29:00] &lt;sustrik&gt;        <a class="reference external" href="http://www.zeromq.org/whitepapers:architecture">http://www.zeromq.org/whitepapers:architecture</a></div>
<div class="line">[Wednesday 23 March 2011] [05:29:10] &lt;sustrik&gt;        i never had time to finish it though</div>
<div class="line">[Wednesday 23 March 2011] [05:30:07] &lt;ianbarber&gt;      oh, this looks like a good start!</div>
<div class="line">[Wednesday 23 March 2011] [05:30:42] &lt;ianbarber&gt;      already helpful</div>
<div class="line">[Wednesday 23 March 2011] [05:30:53] &lt;sustrik&gt;        if only it was at least 5x longer :|</div>
<div class="line">[Wednesday 23 March 2011] [05:31:18] &lt;pieterh&gt;        it&#8217;s a good start, I just clicked the &#8216;rating +1&#8217; button</div>
<div class="line">[Wednesday 23 March 2011] [05:31:56] &lt;pieterh&gt;        I think ianbarber&#8217;s idea of moving submodules to their own directory is neat, though just using naming conventions is often simpler</div>
<div class="line">[Wednesday 23 March 2011] [05:32:04] &lt;pieterh&gt;        i.e. zmq_tcp_whatever</div>
<div class="line">[Wednesday 23 March 2011] [05:32:19] &lt;sustrik&gt;        the problem is that&#8217;s it&#8217;s a mess atm</div>
<div class="line">[Wednesday 23 March 2011] [05:32:33] &lt;sustrik&gt;        there are pieces of tcp even in other files</div>
<div class="line">[Wednesday 23 March 2011] [05:32:41] &lt;pieterh&gt;        yes, this is often how it happens</div>
<div class="line">[Wednesday 23 March 2011] [05:32:49] &lt;sustrik&gt;        the consequence of not having a clean interface</div>
<div class="line">[Wednesday 23 March 2011] [05:33:01] &lt;pieterh&gt;        part of the benefit of making a pluggable architecture is you&#8217;re forced to make it clean</div>
<div class="line">[Wednesday 23 March 2011] [05:33:11] &lt;sustrik&gt;        full-heartedly agreed</div>
<div class="line">[Wednesday 23 March 2011] [05:33:25] &lt;pieterh&gt;        sigh, I regret not being able to help, really</div>
<div class="line">[Wednesday 23 March 2011] [05:36:20] &lt;sustrik&gt;        np, it&#8217;ll get sorted out eventually</div>
<div class="line">[Wednesday 23 March 2011] [05:37:50] &lt;sustrik&gt;        pieterh: an idea, maybe you can move the rationale for zmq_msg_t design into the arch document?</div>
<div class="line">[Wednesday 23 March 2011] [05:37:59] &lt;sustrik&gt;        it kind of belongs there</div>
<div class="line">[Wednesday 23 March 2011] [05:38:11] &lt;pieterh&gt;        yes, that&#8217;s where it belongs, indeed... let me do that</div>
<div class="line">[Wednesday 23 March 2011] [05:38:23] &lt;pieterh&gt;        I will also link to the arch document from the main wiki page</div>
<div class="line">[Wednesday 23 March 2011] [05:38:29] &lt;pieterh&gt;        we need more focus on the core codebase IMO</div>
<div class="line">[Wednesday 23 March 2011] [05:39:33] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [05:46:02] &lt;pieterh&gt;        ok, all done</div>
<div class="line">[Wednesday 23 March 2011] [05:46:13] &lt;pieterh&gt;        I also renamed the GSoC page to be reusable</div>
<div class="line">[Wednesday 23 March 2011] [05:50:06] &lt;Guthur&gt; is the labs page the only source for examples of people using 0MQ in anger?</div>
<div class="line">[Wednesday 23 March 2011] [06:04:17] &lt;pieterh&gt;        Guthur: yes, that and Google</div>
<div class="line">[Wednesday 23 March 2011] [06:08:55] &lt;pieterh&gt;        sustrik: random idea, sorry to interrupt your accounting...</div>
<div class="line">[Wednesday 23 March 2011] [06:09:25] &lt;valmac&gt; no body</div>
<div class="line">[Wednesday 23 March 2011] [06:09:39] &lt;valmac&gt; wow! how many people</div>
<div class="line">[Wednesday 23 March 2011] [06:09:47] &lt;valmac&gt; good day!</div>
<div class="line">[Wednesday 23 March 2011] [06:11:45] &lt;mikko&#8211;&gt;        hi</div>
<div class="line">[Wednesday 23 March 2011] [06:12:00] &lt;pieterh&gt;        mikko&#8211;: hello sir</div>
<div class="line">[Wednesday 23 March 2011] [06:20:52] &lt;valmac&gt; poka poka</div>
<div class="line">[Wednesday 23 March 2011] [06:36:28] &lt;arvind&gt; hi guys need a small info regarding ZMQ_PULL queue.. anyone around</div>
<div class="line">[Wednesday 23 March 2011] [06:38:50] &lt;pieterh&gt;        arvind: shoot...</div>
<div class="line">[Wednesday 23 March 2011] [06:48:30] &lt;arvind&gt; hi</div>
<div class="line">[Wednesday 23 March 2011] [06:48:34] &lt;arvind&gt; thanks</div>
<div class="line">[Wednesday 23 March 2011] [06:48:52] &lt;arvind&gt; well i have a PUSH PULL queue working great using IPCmode..</div>
<div class="line">[Wednesday 23 March 2011] [06:49:01] &lt;pieterh&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [06:49:40] &lt;arvind&gt; but when i have set up my push pull queue, the PUSH side has no ZMQ_HWM or SWAP setup</div>
<div class="line">[Wednesday 23 March 2011] [06:49:47] &lt;arvind&gt; and so is the PULL side..</div>
<div class="line">[Wednesday 23 March 2011] [06:50:25] &lt;pieterh&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [06:50:33] &lt;pieterh&gt;        what is your question?</div>
<div class="line">[Wednesday 23 March 2011] [06:50:38] &lt;arvind&gt; noticed that when the PULL side gets a bit slower then PUSH side, i don&#8217;t lose any messages, but the MEMORY size on the PULL side process starts increasing</div>
<div class="line">[Wednesday 23 March 2011] [06:50:47] &lt;pieterh&gt;        yes, this is normal</div>
<div class="line">[Wednesday 23 March 2011] [06:51:12] &lt;arvind&gt; and the issue is the memory does not seem to come down even after the PULL side process picks up everything..</div>
<div class="line">[Wednesday 23 March 2011] [06:51:35] &lt;pieterh&gt;        that is a side-effect of the operating system, probably</div>
<div class="line">[Wednesday 23 March 2011] [06:51:49] &lt;arvind&gt; as in ?? sorry did not get that..</div>
<div class="line">[Wednesday 23 March 2011] [06:52:02] &lt;arvind&gt; i am using freebsd by the way..</div>
<div class="line">[Wednesday 23 March 2011] [06:52:14] &lt;pieterh&gt;        either it does not reduce VM size of process, or it does not return smaller allocations to heap</div>
<div class="line">[Wednesday 23 March 2011] [06:52:59] &lt;pieterh&gt;        alternatively</div>
<div class="line">[Wednesday 23 March 2011] [06:53:10] &lt;pieterh&gt;        you are not properly closing messages in your PULL code</div>
<div class="line">[Wednesday 23 March 2011] [06:53:17] &lt;pieterh&gt;        you may have a simple leak</div>
<div class="line">[Wednesday 23 March 2011] [06:53:20] &lt;arvind&gt; oh ok...  actually its the top command output that shows this increase in MEM</div>
<div class="line">[Wednesday 23 March 2011] [06:53:34] &lt;arvind&gt; well i thought so, and verified it ..</div>
<div class="line">[Wednesday 23 March 2011] [06:53:37] &lt;pieterh&gt;        it is simple to test, run under valgrind</div>
<div class="line">[Wednesday 23 March 2011] [06:54:01] &lt;pieterh&gt;        if that reports all memory properly freed, it is an artifact of FreeBSD and/or runtime memory management</div>
<div class="line">[Wednesday 23 March 2011] [06:54:38] &lt;arvind&gt; ok.. so just wanted to confirm that i had missed any flag for this kind of behavior..</div>
<div class="line">[Wednesday 23 March 2011] [06:54:58] &lt;arvind&gt; sorry &#8220;NOT MISSED&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [06:55:14] &lt;pieterh&gt;        nothing special, this seems to happen... there is some work going on to try to make this work better</div>
<div class="line">[Wednesday 23 March 2011] [06:55:41] &lt;arvind&gt; great and last question...</div>
<div class="line">[Wednesday 23 March 2011] [06:56:00] &lt;arvind&gt; should i set the HWM and SWAP config on the PULL side socket too ??</div>
<div class="line">[Wednesday 23 March 2011] [06:56:26] &lt;pieterh&gt;        if you use top, note that VIRT and RES are very different</div>
<div class="line">[Wednesday 23 March 2011] [06:57:05] &lt;pieterh&gt;        you can set HWM and SWAP on the PULL socket but I&#8217;ve not actually tried that to see what happens</div>
<div class="line">[Wednesday 23 March 2011] [06:57:07] &lt;arvind&gt; yes both VIRT and RES both seem to increase and stay there even when there are no more writes into the queue and everything in the queue is read</div>
<div class="line">[Wednesday 23 March 2011] [06:58:03] &lt;pieterh&gt;        it doesn&#8217;t look like a happy process, but I&#8217;ve no more info on the causes than &#8220;this happens, it&#8217;s not a leak&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [06:58:39] &lt;arvind&gt; ok</div>
<div class="line">[Wednesday 23 March 2011] [06:58:52] &lt;arvind&gt; hey thanks for sharing the info..</div>
<div class="line">[Wednesday 23 March 2011] [06:59:06] &lt;arvind&gt;  will debug more and maybe update the behavior on the mailing list too..</div>
<div class="line">[Wednesday 23 March 2011] [06:59:29] &lt;pieterh&gt;        anything you can dig up would be useful</div>
<div class="line">[Wednesday 23 March 2011] [06:59:38] &lt;arvind&gt; sure thanks</div>
<div class="line">[Wednesday 23 March 2011] [07:00:43] &lt;onceuponatime&gt;  Hi everybody</div>
<div class="line">[Wednesday 23 March 2011] [07:01:00] &lt;onceuponatime&gt;  I just downloaded the latest version of zeromq</div>
<div class="line">[Wednesday 23 March 2011] [07:01:10] &lt;onceuponatime&gt;  and installed the php binding</div>
<div class="line">[Wednesday 23 March 2011] [07:01:32] &lt;onceuponatime&gt;  and when loading the zmq extension the following error is logged:</div>
<div class="line">[Wednesday 23 March 2011] [07:01:35] &lt;onceuponatime&gt;  PHP Warning:  PHP Startup: Unable to load dynamic library &#8216;/Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so&#8217; - dlopen(/Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so, 9): no suitable image found.  Did find:</div>
<div class="line">[Wednesday 23 March 2011] [07:01:35] &lt;onceuponatime&gt;          /Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so: mach-o, but wrong architecture in Unknown on line 0</div>
<div class="line">[Wednesday 23 March 2011] [07:01:48] &lt;onceuponatime&gt;  does anyone have any idea what is going on?</div>
<div class="line">[Wednesday 23 March 2011] [07:02:18] &lt;onceuponatime&gt;  Im doing it in Mac OS X</div>
<div class="line">[Wednesday 23 March 2011] [07:03:01] &lt;pieterh&gt;        not an expert in PHP on OS X but the message seems self-explanatory</div>
<div class="line">[Wednesday 23 March 2011] [07:03:33] &lt;onceuponatime&gt;  so it is not supported for mac os x 64 bit</div>
<div class="line">[Wednesday 23 March 2011] [07:03:35] &lt;pieterh&gt;        you&#8217;re trying, it seems, to use a zmq.so built for a different architecture</div>
<div class="line">[Wednesday 23 March 2011] [07:03:58] &lt;onceuponatime&gt;  ?</div>
<div class="line">[Wednesday 23 March 2011] [07:04:01] &lt;pieterh&gt;        I&#8217;d suggest rebuilding the PHP binding on your box</div>
<div class="line">[Wednesday 23 March 2011] [07:04:16] &lt;onceuponatime&gt;  I built it on my box</div>
<div class="line">[Wednesday 23 March 2011] [07:05:00] &lt;pieterh&gt;        hmm</div>
<div class="line">[Wednesday 23 March 2011] [07:05:17] &lt;pieterh&gt;        ianbarber: ever used 0MQ/PHP on OS X?</div>
<div class="line">[Wednesday 23 March 2011] [07:05:41] &lt;so_solid_moo&gt;   it probably just guessed the wrong arch when it build</div>
<div class="line">[Wednesday 23 March 2011] [07:06:09] &lt;so_solid_moo&gt;   I would use &#8216;file&#8217; to check other php extensions and see what that is compiled as</div>
<div class="line">[Wednesday 23 March 2011] [07:09:43] &lt;onceuponatime&gt;  ok thanks, I just had a wrong reference to the pecl binnary and it took the wrong config file when installing the extension</div>
<div class="line">[Wednesday 23 March 2011] [07:10:02] &lt;pieterh&gt;        onceuponatime: would you like to add this to the tips page?</div>
<div class="line">[Wednesday 23 March 2011] [07:10:07] &lt;pieterh&gt;        <a class="reference external" href="http://zero.mq/tips">http://zero.mq/tips</a></div>
<div class="line">[Wednesday 23 March 2011] [07:11:32] &lt;onceuponatime&gt;  well, it is just use the pear &amp;&amp; pecl files within MAMP dir</div>
<div class="line">[Wednesday 23 March 2011] [07:12:13] &lt;pieterh&gt;        perhaps add this to the PHP binding page then</div>
<div class="line">[Wednesday 23 March 2011] [07:13:15] &lt;mikko&#8211;&gt;        CWW scheduled for 1 April 2011: yes</div>
<div class="line">[Wednesday 23 March 2011] [07:13:22] &lt;mikko&#8211;&gt;        ermm</div>
<div class="line">[Wednesday 23 March 2011] [07:13:26] &lt;mikko&#8211;&gt;        onceuponatime</div>
<div class="line">[Wednesday 23 March 2011] [07:13:30] &lt;mikko&#8211;&gt;        i got a fix for that</div>
<div class="line">[Wednesday 23 March 2011] [07:13:36] &lt;mikko&#8211;&gt;        steve-o !</div>
<div class="line">[Wednesday 23 March 2011] [07:14:15] &lt;<a href="#id1712"><span class="problematic" id="id1713">Steve-o_</span></a>&gt;       yo</div>
<div class="line">[Wednesday 23 March 2011] [07:14:30] &lt;onceuponatime&gt;  what fix?</div>
<div class="line">[Wednesday 23 March 2011] [07:14:30] &lt;mikko&#8211;&gt;        onceuponatime: <a class="reference external" href="https://github.com/mkoppanen/php-zmq/issues/20">https://github.com/mkoppanen/php-zmq/issues/20</a></div>
<div class="line">[Wednesday 23 March 2011] [07:14:40] &lt;mikko&#8211;&gt;        this reported had the same issue</div>
<div class="line">[Wednesday 23 March 2011] [07:15:07] &lt;onceuponatime&gt;  cool, thx mikko&#8211;</div>
<div class="line">[Wednesday 23 March 2011] [07:15:07] &lt;mikko&#8211;&gt;        i boils down that both libzmq and php extension need to built with 32bit or 64 bit</div>
<div class="line">[Wednesday 23 March 2011] [07:15:12] &lt;mikko&#8211;&gt;        what ever matches your apache</div>
<div class="line">[Wednesday 23 March 2011] [07:22:06] &lt;<a href="#id1714"><span class="problematic" id="id1715">Steve-o_</span></a>&gt;       mikko: had me concerned I broke Solaris again there, just checked it&#8217;s fine :P</div>
<div class="line">[Wednesday 23 March 2011] [07:23:27] &lt;sustrik&gt;        re</div>
<div class="line">[Wednesday 23 March 2011] [07:23:47] &lt;pieterh&gt;        sustrik: I&#8217;m making the zapi context wrapper threadsafe</div>
<div class="line">[Wednesday 23 March 2011] [07:23:55] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [07:24:04] &lt;pieterh&gt;        am inspired by your explanation &#8220;MQ&#8217;s concurency model may a bit confusing at first. The reason is that we eat our own dogfood and use message passing to achieve concurrency and internal scalability.&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:24:11] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [07:24:22] &lt;sustrik&gt;        wait a sec, context wrapper?</div>
<div class="line">[Wednesday 23 March 2011] [07:24:27] &lt;pieterh&gt;        haha</div>
<div class="line">[Wednesday 23 March 2011] [07:24:27] &lt;sustrik&gt;        context is thread safe</div>
<div class="line">[Wednesday 23 March 2011] [07:24:37] &lt;sustrik&gt;        no need to add any synchronisation there</div>
<div class="line">[Wednesday 23 March 2011] [07:24:46] &lt;tjgillies&gt;      <a class="reference external" href="http://draw.nostat.us">http://draw.nostat.us</a></div>
<div class="line">[Wednesday 23 March 2011] [07:24:59] &lt;pieterh&gt;        zapi&#8217;s context wrapper does things like automatically close all open sockets, emulate 2.0 zmq_term if you want it, etc.</div>
<div class="line">[Wednesday 23 March 2011] [07:25:10] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [07:26:07] &lt;mikko&#8211;&gt;        <a href="#id1716"><span class="problematic" id="id1717">Steve-o_</span></a>: thanks for the tip on automake thing</div>
<div class="line">[Wednesday 23 March 2011] [07:26:09] &lt;mikko&#8211;&gt;        works like a dream</div>
<div class="line">[Wednesday 23 March 2011] [07:26:10] &lt;pieterh&gt;        so the approach is to start an agent thread that does the real work, and talk to it over inproc</div>
<div class="line">[Wednesday 23 March 2011] [07:26:39] &lt;<a href="#id1718"><span class="problematic" id="id1719">Steve-o_</span></a>&gt;       mikko: I saw, Google can be awesome at times</div>
<div class="line">[Wednesday 23 March 2011] [07:26:57] &lt;mikko&#8211;&gt;        <a href="#id1720"><span class="problematic" id="id1721">Steve-o_</span></a>: i knew that something like that must exist but used the wrong search terms</div>
<div class="line">[Wednesday 23 March 2011] [07:27:11] &lt;mikko&#8211;&gt;        i searched for something like &#8220;prevent automake install in subdirs&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:27:18] &lt;mikko&#8211;&gt;        came up with a lot of irrelevant results</div>
<div class="line">[Wednesday 23 March 2011] [07:30:35] &lt;<a href="#id1722"><span class="problematic" id="id1723">Steve-o_</span></a>&gt;       Your Google-fu is weak master Mikko</div>
<div class="line">[Wednesday 23 March 2011] [07:30:46] &lt;<a href="#id1724"><span class="problematic" id="id1725">Steve-o_</span></a>&gt;       I used &#8220;stop recursive make install&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:31:16] &lt;pieterh&gt;        heh, I love IRC</div>
<div class="line">[Wednesday 23 March 2011] [07:31:45] &lt;pieterh&gt;        meanwhile people are still struggling with stuff like this:</div>
<div class="line">[Wednesday 23 March 2011] [07:31:48] &lt;pieterh&gt;        &#8220;Reminder:  Due to the DST clock change in the US, a couple of weeks ago, phone conference will again commence 1 hour earlier for those dialling in from Europe/Asia.&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [08:02:43] &lt;Guthur&gt; pieterh: do you have a phone conference re 0MQ?</div>
<div class="line">[Wednesday 23 March 2011] [08:03:00] &lt;pieterh&gt;        Guthur: no, I get invited to these things, which I try to ignore</div>
<div class="line">[Wednesday 23 March 2011] [08:03:12] &lt;pieterh&gt;        it&#8217;s most definitely not 0MQ... :-)</div>
<div class="line">[Wednesday 23 March 2011] [08:12:09] &lt;mikko&#8211;&gt;        <a href="#id1726"><span class="problematic" id="id1727">Steve-o_</span></a>: yeah, that is true</div>
<div class="line">[Wednesday 23 March 2011] [08:12:31] &lt;mikko&#8211;&gt;        <a href="#id1728"><span class="problematic" id="id1729">Steve-o_</span></a>: anyway, thanks for the work on autoconf stuff. it makes things million times easier on zeromq side</div>
<div class="line">[Wednesday 23 March 2011] [08:15:33] &lt;djc&gt;    I</div>
<div class="line">[Wednesday 23 March 2011] [08:15:42] &lt;djc&gt;    &#8216;m hitting an assert in a Python client</div>
<div class="line">[Wednesday 23 March 2011] [08:15:50] &lt;djc&gt;    I can see where the assert comes from, but not sure why it hits</div>
<div class="line">[Wednesday 23 March 2011] [08:16:05] &lt;djc&gt;    it&#8217;s in 2.0 zeromq, req.cpp:225</div>
<div class="line">[Wednesday 23 March 2011] [08:20:04] &lt;sustrik&gt;        looks like someone is sending junk to the socket</div>
<div class="line">[Wednesday 23 March 2011] [08:20:48] &lt;sustrik&gt;        maybe you are connecting it by an incompatible socket type?</div>
<div class="line">[Wednesday 23 March 2011] [08:24:40] &lt;djc&gt;    mmm, pretty sure I&#8217;m not</div>
<div class="line">[Wednesday 23 March 2011] [08:25:00] &lt;djc&gt;    ah, wait</div>
<div class="line">[Wednesday 23 March 2011] [08:25:04] &lt;pieterh&gt;        djc: can you please post a minimal test case?</div>
<div class="line">[Wednesday 23 March 2011] [08:25:23] &lt;pieterh&gt;        this is explained on <a class="reference external" href="http://www.zeromq.org/intro:ask-for-help">http://www.zeromq.org/intro:ask-for-help</a></div>
<div class="line">[Wednesday 23 March 2011] [08:25:52] &lt;djc&gt;    already fixed it, sorry about that</div>
<div class="line">[Wednesday 23 March 2011] [08:25:58] &lt;djc&gt;    was referencing an endpoint of the wrong type</div>
<div class="line">[Wednesday 23 March 2011] [08:26:17] &lt;djc&gt;    at least now my server segfaults :P</div>
<div class="line">[Wednesday 23 March 2011] [08:26:18] &lt;pieterh&gt;        sustrik: can we not assert when getting junk on a socket?</div>
<div class="line">[Wednesday 23 March 2011] [08:26:36] &lt;pieterh&gt;        or this has already been removed in 2.1 and later?</div>
<div class="line">[Wednesday 23 March 2011] [08:26:41]   * pieterh should read tf code</div>
<div class="line">[Wednesday 23 March 2011] [08:26:47] &lt;djc&gt;    2.1 has very different code, already looked at that</div>
<div class="line">[Wednesday 23 March 2011] [08:26:56] &lt;sustrik&gt;        there were several related fixes in 2.1</div>
<div class="line">[Wednesday 23 March 2011] [08:27:12] &lt;pieterh&gt;        djc: any specific reason you&#8217;re still using 2.0?</div>
<div class="line">[Wednesday 23 March 2011] [08:29:58] &lt;djc&gt;    because it&#8217;s the stable version</div>
<div class="line">[Wednesday 23 March 2011] [08:30:25] &lt;djc&gt;    or, I guess, was, until two days ago :P</div>
<div class="line">[Wednesday 23 March 2011] [08:30:29] &lt;djc&gt;    I&#8217;ll see about upgrading :)</div>
<div class="line">[Wednesday 23 March 2011] [08:30:43] &lt;pieterh&gt;        please do so, 2.1 fixes a <em>lot</em> of issues in 2.0</div>
<div class="line">[Wednesday 23 March 2011] [08:31:01] &lt;djc&gt;    I definitely wanted to, but decided to wait until y&#8217;all would tag it stable</div>
<div class="line">[Wednesday 23 March 2011] [08:31:11] &lt;pieterh&gt;        plus we have no intention of fixing any issues reported in 2.0 unless they are also in 2.1</div>
<div class="line">[Wednesday 23 March 2011] [08:31:48] &lt;pieterh&gt;        ok, thanks for the explanation, was just curious</div>
<div class="line">[Wednesday 23 March 2011] [08:47:28] &lt;Guthur&gt; You know after the &#8216;discussion&#8217; last night on the mailing list I started to think more about the XREP/XREQ, and I was wondering what exactly they were intended for if not for ROUTER/DEALER type patterns</div>
<div class="line">[Wednesday 23 March 2011] [08:48:52] &lt;pieterh&gt;        Guthur: me too, and afaics routing is exactly a core mechanism for returning stuff to sender, i.e. what xrep does</div>
<div class="line">[Wednesday 23 March 2011] [08:50:32] &lt;Guthur&gt; I think it might be a prime example that if you expose something like this, people will use and abuse it</div>
<div class="line">[Wednesday 23 March 2011] [08:50:49] &lt;pieterh&gt;        that was an original argument for not documenting xrep/xreq</div>
<div class="line">[Wednesday 23 March 2011] [08:50:57] &lt;pieterh&gt;        but I don&#8217;t see how to make real code without this</div>
<div class="line">[Wednesday 23 March 2011] [08:51:23] &lt;pieterh&gt;        e.g. I&#8217;m making a request-reply chain right now, between two threads</div>
<div class="line">[Wednesday 23 March 2011] [08:51:36] &lt;pieterh&gt;        if I use req/rep, it has to be lock-step, every request MUST send a reply</div>
<div class="line">[Wednesday 23 March 2011] [08:51:41] &lt;Guthur&gt; well I could possibly see some saying that you need to use a different product for routing</div>
<div class="line">[Wednesday 23 March 2011] [08:51:48] &lt;pieterh&gt;        but using dealer/router I can send requests that don&#8217;t need replies</div>
<div class="line">[Wednesday 23 March 2011] [08:51:57] &lt;Guthur&gt; not that I would necessarily agree just that I can see that arguement</div>
<div class="line">[Wednesday 23 March 2011] [08:52:29] &lt;pieterh&gt;        also I can&#8217;t see how user space divides into cases that want router semantics and those that want xrep semantics</div>
<div class="line">[Wednesday 23 March 2011] [08:52:37] &lt;pieterh&gt;        that is a senseless division, it just isn&#8217;t there</div>
<div class="line">[Wednesday 23 March 2011] [08:52:50] &lt;pieterh&gt;        unless you count 100% and 0% as a division</div>
<div class="line">[Wednesday 23 March 2011] [08:53:07] &lt;Guthur&gt; hehe, I stillhave to keep checking back to the guide to see which is the router and the dealer</div>
<div class="line">[Wednesday 23 March 2011] [08:53:14] &lt;Guthur&gt; I need to write it on my hand or something</div>
<div class="line">[Wednesday 23 March 2011] [08:53:28] &lt;pieterh&gt;        well, the one exception I can see is a simplistic req/rep device, but there are no real use cases for those</div>
<div class="line">[Wednesday 23 March 2011] [08:53:36] &lt;pieterh&gt;        dealer is push+pull, remember that</div>
<div class="line">[Wednesday 23 March 2011] [08:53:45] &lt;pieterh&gt;        it does nothing with envelopes</div>
<div class="line">[Wednesday 23 March 2011] [08:54:04] &lt;sustrik&gt;        the problem is that req/rep is going to evolve</div>
<div class="line">[Wednesday 23 March 2011] [08:54:20] &lt;Guthur&gt; oh that bit is fine I just keep forgetting which XREQ/XREP is the DEALER/ROUTER</div>
<div class="line">[Wednesday 23 March 2011] [08:54:21] &lt;sustrik&gt;        and can undeliberately break the other use case</div>
<div class="line">[Wednesday 23 March 2011] [08:54:22] &lt;pieterh&gt;        sustrik: you need to clarify that, it&#8217;s much too vague as an argument</div>
<div class="line">[Wednesday 23 March 2011] [08:54:23] &lt;sustrik&gt;        cases</div>
<div class="line">[Wednesday 23 March 2011] [08:54:33] &lt;pieterh&gt;        i agree in theory, just can&#8217;t see it in practice</div>
<div class="line">[Wednesday 23 March 2011] [08:54:51] &lt;sustrik&gt;        well, imagine the alternative routing algorithm</div>
<div class="line">[Wednesday 23 March 2011] [08:54:52] &lt;pieterh&gt;        anything could evolve</div>
<div class="line">[Wednesday 23 March 2011] [08:54:59] &lt;sustrik&gt;        i&#8217;ve described it in one email</div>
<div class="line">[Wednesday 23 March 2011] [08:55:12] &lt;pieterh&gt;        you described something that had no design afaics...</div>
<div class="line">[Wednesday 23 March 2011] [08:55:17] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [08:55:24] &lt;Guthur&gt; the other case where REQ/REP falls down is the strict request/reply pattern</div>
<div class="line">[Wednesday 23 March 2011] [08:55:36] &lt;pieterh&gt;        well, sorry, I didn&#8217;t understand the design then</div>
<div class="line">[Wednesday 23 March 2011] [08:55:52] &lt;pieterh&gt;        to get a reply back to a sender, across a chain, you need an address stack</div>
<div class="line">[Wednesday 23 March 2011] [08:55:56] &lt;sustrik&gt;        the idea was to keep routing table in nodes</div>
<div class="line">[Wednesday 23 March 2011] [08:56:04] &lt;sustrik&gt;        instead of in the message itself</div>
<div class="line">[Wednesday 23 March 2011] [08:56:12] &lt;sustrik&gt;        similar to how IP behaves</div>
<div class="line">[Wednesday 23 March 2011] [08:56:13] &lt;pieterh&gt;        and if a node crashes?</div>
<div class="line">[Wednesday 23 March 2011] [08:56:21] &lt;sustrik&gt;        same as now</div>
<div class="line">[Wednesday 23 March 2011] [08:56:24] &lt;sustrik&gt;        the message is dropped</div>
<div class="line">[Wednesday 23 March 2011] [08:56:35] &lt;pieterh&gt;        no, now I can resend via a different route</div>
<div class="line">[Wednesday 23 March 2011] [08:56:35] &lt;sustrik&gt;        anyway, it&#8217;s probably not viable</div>
<div class="line">[Wednesday 23 March 2011] [08:56:48] &lt;pieterh&gt;        if it&#8217;s not viable, please don&#8217;t raise it as a realistic case... :-(</div>
<div class="line">[Wednesday 23 March 2011] [08:56:59] &lt;sustrik&gt;        the point, however, is that it would break req/rep used for something else than req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:06] &lt;pieterh&gt;        it&#8217;s all req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:11] &lt;pieterh&gt;        routing is req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:21] &lt;pieterh&gt;        there are no illegal semantics here</div>
<div class="line">[Wednesday 23 March 2011] [08:57:22] &lt;sustrik&gt;        no point in discussing this</div>
<div class="line">[Wednesday 23 March 2011] [08:57:36] &lt;sustrik&gt;        once it break, we&#8217;ll have to find the solution</div>
<div class="line">[Wednesday 23 March 2011] [08:57:38] &lt;pieterh&gt;        well, you say that when you don&#8217;t want to discuss stuff</div>
<div class="line">[Wednesday 23 March 2011] [08:57:53] &lt;sustrik&gt;        we don&#8217;t have the problem yet</div>
<div class="line">[Wednesday 23 March 2011] [08:57:56] &lt;pieterh&gt;        yet this is very sensitive to people and when you say you might break it all... you&#8217;ll get discussion</div>
<div class="line">[Wednesday 23 March 2011] [08:58:09] &lt;pieterh&gt;        I wrote two entire chapters on req-rep</div>
<div class="line">[Wednesday 23 March 2011] [08:58:12] &lt;sustrik&gt;        well, you are asking for the problem</div>
<div class="line">[Wednesday 23 March 2011] [08:58:16] &lt;sustrik&gt;        there&#8217;s none yet</div>
<div class="line">[Wednesday 23 March 2011] [08:58:20] &lt;sustrik&gt;        will be in the future</div>
<div class="line">[Wednesday 23 March 2011] [08:58:33] &lt;Guthur&gt; sustrik: we will face this problem for 3.0 though, correct?</div>
<div class="line">[Wednesday 23 March 2011] [08:58:43] &lt;Guthur&gt; or is it going to be deferred for later</div>
<div class="line">[Wednesday 23 March 2011] [08:58:53] &lt;sustrik&gt;        not immediately</div>
<div class="line">[Wednesday 23 March 2011] [08:58:59] &lt;pieterh&gt;        &#8216;there will be change in the future&#8217; is kind of ... anyhow...</div>
<div class="line">[Wednesday 23 March 2011] [08:59:11]   * pieterh just wants a sane vocabulary</div>
<div class="line">[Wednesday 23 March 2011] [08:59:26] &lt;sustrik&gt;        well, as i said, no immediate problem</div>
<div class="line">[Wednesday 23 March 2011] [08:59:40] &lt;pieterh&gt;        i&#8217;m all open to new routing semantics</div>
<div class="line">[Wednesday 23 March 2011] [08:59:50] &lt;sustrik&gt;        however, separating the routing pattern from req/rep pattern would help to prevent the clash in the future</div>
<div class="line">[Wednesday 23 March 2011] [08:59:52] &lt;pieterh&gt;        but the ones we have, are precious</div>
<div class="line">[Wednesday 23 March 2011] [09:00:04] &lt;pieterh&gt;        sustrik: please, it&#8217;s not separable</div>
<div class="line">[Wednesday 23 March 2011] [09:00:11] &lt;pieterh&gt;        it is part of the same package... sigh</div>
<div class="line">[Wednesday 23 March 2011] [09:00:12] &lt;sustrik&gt;        shrug</div>
<div class="line">[Wednesday 23 March 2011] [09:00:14] &lt;sustrik&gt;        never mind</div>
<div class="line">[Wednesday 23 March 2011] [09:00:28]   * sustrik is back to accounting</div>
<div class="line">[Wednesday 23 March 2011] [09:00:29] &lt;Guthur&gt; hehe, alot of circling going on</div>
<div class="line">[Wednesday 23 March 2011] [09:00:32] &lt;pieterh&gt;        you are suggesting making divisions that won&#8217;t help anyone</div>
<div class="line">[Wednesday 23 March 2011] [09:00:46] &lt;pieterh&gt;        leave it, it works, just let the syntax get cleaner</div>
<div class="line">[Wednesday 23 March 2011] [09:00:47] &lt;Guthur&gt; sorry for stirring it up again</div>
<div class="line">[Wednesday 23 March 2011] [09:00:49] &lt;sustrik&gt;        Guthur: here&#8217;s some background to req/rep design</div>
<div class="line">[Wednesday 23 March 2011] [09:00:57] &lt;sustrik&gt;        see Request/reply chapter</div>
<div class="line">[Wednesday 23 March 2011] [09:01:43] &lt;pieterh&gt;        sustrik: I&#8217;ll make the analogy with AMQP and the desire of architects to &#8220;get it right&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:01:54] &lt;pieterh&gt;        it takes years to collectively learn these patterns properly</div>
<div class="line">[Wednesday 23 March 2011] [09:02:25] &lt;pieterh&gt;        if you arbitrarily put that investment into question, you will get into trouble</div>
<div class="line">[Wednesday 23 March 2011] [09:02:34] &lt;pieterh&gt;        change has to be worth it for users</div>
<div class="line">[Wednesday 23 March 2011] [09:02:45] &lt;Guthur&gt; sustrik: chapter in the manual</div>
<div class="line">[Wednesday 23 March 2011] [09:02:45] &lt;pieterh&gt;        this is the cost of success</div>
<div class="line">[Wednesday 23 March 2011] [09:02:48] &lt;Guthur&gt; ?</div>
<div class="line">[Wednesday 23 March 2011] [09:03:11] &lt;sustrik&gt;        Guthur: <a class="reference external" href="http://www.250bpm.com/hits">http://www.250bpm.com/hits</a></div>
<div class="line">[Wednesday 23 March 2011] [09:05:41] &lt;pieterh&gt;        sustrik: one difficulty with this discussion is you are thinking 10-50 years into the future</div>
<div class="line">[Wednesday 23 March 2011] [09:05:52] &lt;sustrik&gt;        someone has to :)</div>
<div class="line">[Wednesday 23 March 2011] [09:05:56] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [09:06:09] &lt;pieterh&gt;        but you see Guthur&#8217;s question, &#8220;will this change affect 3.0?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:06:20] &lt;pieterh&gt;        the timescales here, in this community, are usually weeks or months</div>
<div class="line">[Wednesday 23 March 2011] [09:06:27] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [09:07:04] &lt;pieterh&gt;        goodo, we&#8217;ll embrace this tension, it&#8217;s healthy</div>
<div class="line">[Wednesday 23 March 2011] [09:07:11] &lt;sustrik&gt;        i think so</div>
<div class="line">[Wednesday 23 March 2011] [09:07:18] &lt;sustrik&gt;        more amusing as well</div>
<div class="line">[Wednesday 23 March 2011] [09:07:23] &lt;pieterh&gt;        just don&#8217;t go do a JOH on us...</div>
<div class="line">[Wednesday 23 March 2011] [09:07:33] &lt;sustrik&gt;        not my intention</div>
<div class="line">[Wednesday 23 March 2011] [09:07:40] &lt;pieterh&gt;        yeah, forgive my paranoia</div>
<div class="line">[Wednesday 23 March 2011] [09:07:55] &lt;sustrik&gt;        however, i have to have clear pattern separation to get anything sensible in the long term</div>
<div class="line">[Wednesday 23 March 2011] [09:08:08] &lt;sustrik&gt;        btw, i&#8217;ve recalled you &#8220;content classes&#8221; in AMQP</div>
<div class="line">[Wednesday 23 March 2011] [09:08:09] &lt;pieterh&gt;        I think stretching 0MQ across these scales is perhaps the most interesting problem I&#8217;ve seen in decades</div>
<div class="line">[Wednesday 23 March 2011] [09:08:17] &lt;sustrik&gt;        it&#8217;s basically the same idea</div>
<div class="line">[Wednesday 23 March 2011] [09:08:20] &lt;pieterh&gt;        oh, content classes... lol</div>
<div class="line">[Wednesday 23 March 2011] [09:08:29] &lt;sustrik&gt;        vertical separation of the stack</div>
<div class="line">[Wednesday 23 March 2011] [09:08:36] &lt;pieterh&gt;        shot in the back of the head, thrown into the ditch of ignorance... :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:09:11] &lt;sustrik&gt;        so the idea is that there a vertical segment of the stack called req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:09:23] &lt;sustrik&gt;        which is a dumb 1 request followed by 1 reply thing</div>
<div class="line">[Wednesday 23 March 2011] [09:09:41] &lt;Guthur&gt; what&#8217;s a JOH?</div>
<div class="line">[Wednesday 23 March 2011] [09:09:42] &lt;pieterh&gt;        this stops working real fast, though</div>
<div class="line">[Wednesday 23 March 2011] [09:09:53] &lt;sustrik&gt;        not imo, but that&#8217;s not the point</div>
<div class="line">[Wednesday 23 March 2011] [09:10:05] &lt;pieterh&gt;        Guthur: a JOH is a mythical beast that creates havoc by randomly changing fundamental architecture for no good reason</div>
<div class="line">[Wednesday 23 March 2011] [09:10:07] &lt;sustrik&gt;        the point is that&#8217;s it vertically separated from different patterns</div>
<div class="line">[Wednesday 23 March 2011] [09:10:12] &lt;sustrik&gt;        such as pub/sub</div>
<div class="line">[Wednesday 23 March 2011] [09:10:15] &lt;pieterh&gt;        yes, agreed</div>
<div class="line">[Wednesday 23 March 2011] [09:10:34] &lt;sustrik&gt;        now, given that people are using req/rep to do something that is not strictly speaking req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:10:40] &lt;pieterh&gt;        ah</div>
<div class="line">[Wednesday 23 March 2011] [09:10:48] &lt;pieterh&gt;        but router/dealer are strictly part of req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:10:50] &lt;sustrik&gt;        i am proposing to create a new vertical slot</div>
<div class="line">[Wednesday 23 March 2011] [09:10:58] &lt;pieterh&gt;        this is where you are purely wrong IMO</div>
<div class="line">[Wednesday 23 March 2011] [09:11:18] &lt;sustrik&gt;        can router route two replies to a single request?</div>
<div class="line">[Wednesday 23 March 2011] [09:11:21] &lt;pieterh&gt;        speaking as a user of 0MQ, router/dealer are essentially just async req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:11:25] &lt;sustrik&gt;        if so, it&#8217;s not &#8220;strict&#8221; req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:11:30] &lt;pieterh&gt;        and async req/rep is the majority pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:11:37] &lt;sustrik&gt;        async is ok</div>
<div class="line">[Wednesday 23 March 2011] [09:11:39] &lt;mikko&#8211;&gt;        pieterh: heads up: there are some things i need to clean up on the build. trying to get patch to you today</div>
<div class="line">[Wednesday 23 March 2011] [09:11:41] &lt;pieterh&gt;        simple lock-step req/rep stops working real fast</div>
<div class="line">[Wednesday 23 March 2011] [09:11:49] &lt;pieterh&gt;        mikko&#8211;: no hurry</div>
<div class="line">[Wednesday 23 March 2011] [09:11:51] &lt;sustrik&gt;        what&#8217;s not ok is breaking 1:1 request/reply relation</div>
<div class="line">[Wednesday 23 March 2011] [09:12:00] &lt;pieterh&gt;        no plans to release 2.1.4 for a few days yet</div>
<div class="line">[Wednesday 23 March 2011] [09:12:20] &lt;sustrik&gt;        anyway, back to accounting, otherwide i&#8217;ll never have it ready</div>
<div class="line">[Wednesday 23 March 2011] [09:12:27] &lt;pieterh&gt;        sustrik: in my email I listed 4-5 cases where sync req/rep just stops working</div>
<div class="line">[Wednesday 23 March 2011] [09:12:34] &lt;pieterh&gt;        very rapidly</div>
<div class="line">[Wednesday 23 March 2011] [09:12:42] &lt;pieterh&gt;        you cannot make real req/rep without router/dealer</div>
<div class="line">[Wednesday 23 March 2011] [09:12:52] &lt;pieterh&gt;        thus these are intrinsically part of that vertical stack</div>
<div class="line">[Wednesday 23 March 2011] [09:13:18] &lt;pieterh&gt;        it&#8217;s like saying the car and the engine are two different products</div>
<div class="line">[Wednesday 23 March 2011] [09:14:10] &lt;sustrik&gt;        does router guarantee that there&#8217;s 1:1 relationship between requests and replies?</div>
<div class="line">[Wednesday 23 March 2011] [09:14:17] &lt;sustrik&gt;        i suppose it does not</div>
<div class="line">[Wednesday 23 March 2011] [09:14:22] &lt;pieterh&gt;        that relationship is not intrinsic to req-rep</div>
<div class="line">[Wednesday 23 March 2011] [09:14:29] &lt;pieterh&gt;        does every email I send get 1 reply?</div>
<div class="line">[Wednesday 23 March 2011] [09:14:29] &lt;sustrik&gt;        it is</div>
<div class="line">[Wednesday 23 March 2011] [09:14:35] &lt;pieterh&gt;        not in the real world</div>
<div class="line">[Wednesday 23 March 2011] [09:14:37] &lt;Guthur&gt; I&#8217;m not sure if router/dealer should be so intrinsically linked to req-rep</div>
<div class="line">[Wednesday 23 March 2011] [09:14:40] &lt;pieterh&gt;        only in some fictional world</div>
<div class="line">[Wednesday 23 March 2011] [09:14:42] &lt;sustrik&gt;        it&#8217;s the only way to allow end-to-end reliability</div>
<div class="line">[Wednesday 23 March 2011] [09:14:49] &lt;sustrik&gt;        the reply works as an ack</div>
<div class="line">[Wednesday 23 March 2011] [09:14:56] &lt;pieterh&gt;        end-to-end reliability is a subcase too</div>
<div class="line">[Wednesday 23 March 2011] [09:15:08] &lt;pieterh&gt;        are you suggesting that&#8217;s the only use case for req-rep?</div>
<div class="line">[Wednesday 23 March 2011] [09:15:20] &lt;pieterh&gt;        what if the ack is lost?</div>
<div class="line">[Wednesday 23 March 2011] [09:15:25] &lt;sustrik&gt;        timeout and resend</div>
<div class="line">[Wednesday 23 March 2011] [09:15:31] &lt;pieterh&gt;        so heartbeating</div>
<div class="line">[Wednesday 23 March 2011] [09:15:39] &lt;sustrik&gt;        kind of</div>
<div class="line">[Wednesday 23 March 2011] [09:15:39] &lt;pieterh&gt;        look, I&#8217;m an expert in this, really</div>
<div class="line">[Wednesday 23 March 2011] [09:15:46] &lt;pieterh&gt;        and you cannot do it with synchronous endpoints</div>
<div class="line">[Wednesday 23 March 2011] [09:15:47] &lt;sustrik&gt;        where reply works as a heartbeat</div>
<div class="line">[Wednesday 23 March 2011] [09:16:05] &lt;pieterh&gt;        you may find other patterns and socket types</div>
<div class="line">[Wednesday 23 March 2011] [09:16:09] &lt;sustrik&gt;        you can, but it has to be done inside 0mq rather than on top of it</div>
<div class="line">[Wednesday 23 March 2011] [09:16:23] &lt;pieterh&gt;        but today, realistic req-rep needs those four socket types</div>
<div class="line">[Wednesday 23 March 2011] [09:16:31] &lt;pieterh&gt;        actually it barely needs req and rep at all</div>
<div class="line">[Wednesday 23 March 2011] [09:16:41] &lt;pieterh&gt;        router/dealer is the real core of request-reply</div>
<div class="line">[Wednesday 23 March 2011] [09:16:42] &lt;sustrik&gt;        yes, because it&#8217;s unfinished</div>
<div class="line">[Wednesday 23 March 2011] [09:17:12] &lt;pieterh&gt;        you speak like an artist sometimes</div>
<div class="line">[Wednesday 23 March 2011] [09:17:46] &lt;sustrik&gt;        well, the resend thing is missing in REQ socket</div>
<div class="line">[Wednesday 23 March 2011] [09:17:51] &lt;pieterh&gt;        the issue here is brains learning patterns, and the cost of that</div>
<div class="line">[Wednesday 23 March 2011] [09:18:00] &lt;pieterh&gt;        it&#8217;s about people, not technicalities</div>
<div class="line">[Wednesday 23 March 2011] [09:18:09] &lt;sustrik&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [09:18:15] &lt;pieterh&gt;        you publish ideas, people invest decades in learning them</div>
<div class="line">[Wednesday 23 March 2011] [09:18:22] &lt;pieterh&gt;        and then you say, &#8220;aha, but it&#8217;s unfinished! &#8220;</div>
<div class="line">[Wednesday 23 March 2011] [09:18:34] &lt;pieterh&gt;        I&#8217;m not a fan</div>
<div class="line">[Wednesday 23 March 2011] [09:18:53] &lt;pieterh&gt;        there is a lot missing in REQ</div>
<div class="line">[Wednesday 23 March 2011] [09:19:02] &lt;Guthur&gt; I&#8217;m confused why REQ/REP keeps getting drawn into it, that socket type does a job and works well, the issue is people also want a socket that provides less restrictive send/recv and control over message routing</div>
<div class="line">[Wednesday 23 March 2011] [09:19:05] &lt;sustrik&gt;        i am just a human being, i cannot finish everything at once</div>
<div class="line">[Wednesday 23 March 2011] [09:19:08] &lt;Guthur&gt; or am I missing something</div>
<div class="line">[Wednesday 23 March 2011] [09:19:20] &lt;pieterh&gt;        sustrik: then don&#8217;t threaten change no-one is asking for...</div>
<div class="line">[Wednesday 23 March 2011] [09:19:45] &lt;pieterh&gt;        if you didn&#8217;t want people to use router/dealer you had to make req/rep actually work in real code</div>
<div class="line">[Wednesday 23 March 2011] [09:20:00] &lt;pieterh&gt;        since they don&#8217;t, people have had no choice except to learn and use router/dealer</div>
<div class="line">[Wednesday 23 March 2011] [09:20:04] &lt;sustrik&gt;        ack</div>
<div class="line">[Wednesday 23 March 2011] [09:20:09] &lt;pieterh&gt;        that is now the state of the art</div>
<div class="line">[Wednesday 23 March 2011] [09:20:34] &lt;pieterh&gt;        I&#8217;d much prefer not having four socket types to learn</div>
<div class="line">[Wednesday 23 March 2011] [09:20:40] &lt;pieterh&gt;        but this is where we are today</div>
<div class="line">[Wednesday 23 March 2011] [09:20:53] &lt;pieterh&gt;        it works, it&#8217;s usable, it&#8217;s actually elegant enough to defend</div>
<div class="line">[Wednesday 23 March 2011] [09:20:54] &lt;sustrik&gt;        the problem is that aside of legitimate uses of xreq/xrep such as building relianility</div>
<div class="line">[Wednesday 23 March 2011] [09:21:01] &lt;sustrik&gt;        people use it in a following way</div>
<div class="line">[Wednesday 23 March 2011] [09:21:07] &lt;sustrik&gt;        i have a XREP socket</div>
<div class="line">[Wednesday 23 March 2011] [09:21:13] &lt;sustrik&gt;        i connect three apps to it</div>
<div class="line">[Wednesday 23 March 2011] [09:21:19] &lt;pieterh&gt;        I don&#8217;t think you actually know how people use it</div>
<div class="line">[Wednesday 23 March 2011] [09:21:24] &lt;sustrik&gt;        i set an identity to each app, say A, B and C</div>
<div class="line">[Wednesday 23 March 2011] [09:21:36] &lt;pieterh&gt;        the terminology  &#8220;legitimate&#8221; is like an artist</div>
<div class="line">[Wednesday 23 March 2011] [09:21:42] &lt;sustrik&gt;        when i want to send message to A, i pushlish A+payload</div>
<div class="line">[Wednesday 23 March 2011] [09:21:46] &lt;pieterh&gt;        there is no illegitimate use, only bad design</div>
<div class="line">[Wednesday 23 March 2011] [09:21:53] &lt;sustrik&gt;        well, it doesn&#8217;t scale</div>
<div class="line">[Wednesday 23 March 2011] [09:22:00] &lt;pieterh&gt;        repeat after me, when users misuse a product, it&#8217;s the designer&#8217;s fault</div>
<div class="line">[Wednesday 23 March 2011] [09:22:02] &lt;pieterh&gt;        always</div>
<div class="line">[Wednesday 23 March 2011] [09:22:09] &lt;sustrik&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [09:22:11] &lt;pieterh&gt;        this is a key tenet of good design</div>
<div class="line">[Wednesday 23 March 2011] [09:22:12] &lt;sustrik&gt;        mea culpa</div>
<div class="line">[Wednesday 23 March 2011] [09:22:26] &lt;sustrik&gt;        i should have left xreq/xrep undocumented</div>
<div class="line">[Wednesday 23 March 2011] [09:22:29] &lt;sustrik&gt;        too late now</div>
<div class="line">[Wednesday 23 March 2011] [09:22:38] &lt;pieterh&gt;        that was not an option, you know it... sigh</div>
<div class="line">[Wednesday 23 March 2011] [09:22:50] &lt;pieterh&gt;        let me explain a simple router use case I am making right now</div>
<div class="line">[Wednesday 23 March 2011] [09:23:09] &lt;Guthur&gt; sustrik: is that routing to specific clients bad in your eyes?</div>
<div class="line">[Wednesday 23 March 2011] [09:23:31] &lt;sustrik&gt;        pieterh: sure</div>
<div class="line">[Wednesday 23 March 2011] [09:23:45] &lt;sustrik&gt;        Gurthur: yes, because it&#8217;s not scalable</div>
<div class="line">[Wednesday 23 March 2011] [09:23:49] &lt;pieterh&gt;        so in fact setting identities is a Bad Thing with some very few exceptions</div>
<div class="line">[Wednesday 23 March 2011] [09:23:57] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [09:24:09] &lt;sustrik&gt;        i should not have introduced them at all</div>
<div class="line">[Wednesday 23 March 2011] [09:24:17] &lt;pieterh&gt;        there are some necessary use cases</div>
<div class="line">[Wednesday 23 March 2011] [09:24:25] &lt;pieterh&gt;        I&#8217;ve found two, actually</div>
<div class="line">[Wednesday 23 March 2011] [09:24:34] &lt;sustrik&gt;        well, they give an impression of &#8220;reliability&#8221; in AMQP sense</div>
<div class="line">[Wednesday 23 March 2011] [09:24:39] &lt;Guthur&gt; sustrik: but surely it&#8217;s essential in some cases unless you use some different layer to expose to clients</div>
<div class="line">[Wednesday 23 March 2011] [09:24:39] &lt;pieterh&gt;        persistent subscribers, and ... hehe... router-to-router routing</div>
<div class="line">[Wednesday 23 March 2011] [09:24:46] &lt;sustrik&gt;        whereas, in reality, 0mq is more like TCP</div>
<div class="line">[Wednesday 23 March 2011] [09:24:53] &lt;sustrik&gt;        transient in nature</div>
<div class="line">[Wednesday 23 March 2011] [09:25:03] &lt;pieterh&gt;        indeed, reliable network buffers is just weird</div>
<div class="line">[Wednesday 23 March 2011] [09:25:04] &lt;sustrik&gt;        the mix of the two is pretty awkward</div>
<div class="line">[Wednesday 23 March 2011] [09:25:06] &lt;pieterh&gt;        I agree</div>
<div class="line">[Wednesday 23 March 2011] [09:25:16] &lt;pieterh&gt;        I&#8217;d vote to kill explicit identities</div>
<div class="line">[Wednesday 23 March 2011] [09:25:25] &lt;pieterh&gt;        except that one use case absolutely needs them, and it&#8217;s safe</div>
<div class="line">[Wednesday 23 March 2011] [09:25:33] &lt;pieterh&gt;        distributed name service, see Ch4</div>
<div class="line">[Wednesday 23 March 2011] [09:25:40] &lt;pieterh&gt;        but this is divergence</div>
<div class="line">[Wednesday 23 March 2011] [09:25:51] &lt;sustrik&gt;        that would be nice</div>
<div class="line">[Wednesday 23 March 2011] [09:26:00] &lt;pieterh&gt;        my current use case is using a thread to isolate an object, the context wrapper in zapi</div>
<div class="line">[Wednesday 23 March 2011] [09:26:00] &lt;sustrik&gt;        the code for identities is a nightmare</div>
<div class="line">[Wednesday 23 March 2011] [09:26:13] &lt;sustrik&gt;        a pile of special cases basically :(</div>
<div class="line">[Wednesday 23 March 2011] [09:26:26] &lt;pieterh&gt;        yes, we can IMO aim to remove that functionality</div>
<div class="line">[Wednesday 23 March 2011] [09:26:35] &lt;pieterh&gt;        especially if we provide layers on top that do the same only better</div>
<div class="line">[Wednesday 23 March 2011] [09:26:42] &lt;pieterh&gt;        e.g. Clone pattern for reliable pub/sub</div>
<div class="line">[Wednesday 23 March 2011] [09:26:53] &lt;pieterh&gt;        which I&#8217;ve made, and which is really easy finally</div>
<div class="line">[Wednesday 23 March 2011] [09:27:05] &lt;pieterh&gt;        so I have threads that send commands to this object thread</div>
<div class="line">[Wednesday 23 March 2011] [09:27:10] &lt;pieterh&gt;        it&#8217;s what you do in 0MQ core, right</div>
<div class="line">[Wednesday 23 March 2011] [09:27:16] &lt;pieterh&gt;        now commands are async</div>
<div class="line">[Wednesday 23 March 2011] [09:27:21] &lt;pieterh&gt;        only one or two have replies</div>
<div class="line">[Wednesday 23 March 2011] [09:27:33] &lt;pieterh&gt;        if I use req/rep, I have to artificially send a reply to each request</div>
<div class="line">[Wednesday 23 March 2011] [09:27:37] &lt;pieterh&gt;        I did that</div>
<div class="line">[Wednesday 23 March 2011] [09:27:40] &lt;pieterh&gt;        it&#8217;s horrid</div>
<div class="line">[Wednesday 23 March 2011] [09:27:59] &lt;pieterh&gt;        using dealer/router I can do it right, reply only when needed</div>
<div class="line">[Wednesday 23 March 2011] [09:28:42] &lt;sustrik&gt;        yes, sure there are use cases for it</div>
<div class="line">[Wednesday 23 March 2011] [09:28:44] &lt;pieterh&gt;        the reply address has to be delivered to my code because the reply can happen later</div>
<div class="line">[Wednesday 23 March 2011] [09:28:52] &lt;pieterh&gt;        it can&#8217;t be &#8216;reply to previous request&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [09:29:04] &lt;sustrik&gt;        the main question imo is what 0mq should provide</div>
<div class="line">[Wednesday 23 March 2011] [09:29:09] &lt;pieterh&gt;        just this</div>
<div class="line">[Wednesday 23 March 2011] [09:29:10] &lt;sustrik&gt;        there are two mindsets:</div>
<div class="line">[Wednesday 23 March 2011] [09:29:14] &lt;pieterh&gt;        what it provides <em>works</em></div>
<div class="line">[Wednesday 23 March 2011] [09:29:18] &lt;sustrik&gt;        1. generic networking</div>
<div class="line">[Wednesday 23 March 2011] [09:29:28] &lt;sustrik&gt;        such as ACE, Asio etc.</div>
<div class="line">[Wednesday 23 March 2011] [09:29:31] &lt;sustrik&gt;        2. scalability</div>
<div class="line">[Wednesday 23 March 2011] [09:29:37] &lt;pieterh&gt;        both, obviously</div>
<div class="line">[Wednesday 23 March 2011] [09:29:43] &lt;pieterh&gt;        that&#8217;s a false dichotomy</div>
<div class="line">[Wednesday 23 March 2011] [09:29:53] &lt;sustrik&gt;        well, the second means restricting unscalable behaviour</div>
<div class="line">[Wednesday 23 March 2011] [09:29:54] &lt;pieterh&gt;        I want scalable generic networking</div>
<div class="line">[Wednesday 23 March 2011] [09:29:59] &lt;sustrik&gt;        no way</div>
<div class="line">[Wednesday 23 March 2011] [09:30:03] &lt;pieterh&gt;        yes, way :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:30:05] &lt;Guthur&gt; hehe, I think that&#8217;s the issue, we all like making connections with 0MQ we want to use it everwhere</div>
<div class="line">[Wednesday 23 March 2011] [09:30:16] &lt;pieterh&gt;        the trick is generic networking at multiple scales</div>
<div class="line">[Wednesday 23 March 2011] [09:30:24] &lt;sustrik&gt;        it does not</div>
<div class="line">[Wednesday 23 March 2011] [09:30:28] &lt;pieterh&gt;        i.e. same semantic for inproc as for clusters</div>
<div class="line">[Wednesday 23 March 2011] [09:30:31] &lt;pieterh&gt;        yes, it does</div>
<div class="line">[Wednesday 23 March 2011] [09:30:32] &lt;sustrik&gt;        see the A, B, C example</div>
<div class="line">[Wednesday 23 March 2011] [09:30:35] &lt;sustrik&gt;        it does not scale</div>
<div class="line">[Wednesday 23 March 2011] [09:30:43] &lt;sustrik&gt;        if there&#8217;s a lot of clients</div>
<div class="line">[Wednesday 23 March 2011] [09:30:45] &lt;pieterh&gt;        ah, I see what you mean</div>
<div class="line">[Wednesday 23 March 2011] [09:30:52] &lt;pieterh&gt;        look, you have this kind of backwards IMO</div>
<div class="line">[Wednesday 23 March 2011] [09:30:56] &lt;sustrik&gt;        you cannot simply interject a device to scale it up</div>
<div class="line">[Wednesday 23 March 2011] [09:31:02] &lt;pieterh&gt;        allow me to explain</div>
<div class="line">[Wednesday 23 March 2011] [09:31:03] &lt;sustrik&gt;        it&#8217;s fixed 1-hop architecture</div>
<div class="line">[Wednesday 23 March 2011] [09:31:11] &lt;pieterh&gt;        hang on :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:31:26] &lt;pieterh&gt;        speaking as a 0MQ user, who knows about scale,...</div>
<div class="line">[Wednesday 23 March 2011] [09:31:47] &lt;pieterh&gt;        I don&#8217;t really expect, or need, my architectures to scale without some redesign</div>
<div class="line">[Wednesday 23 March 2011] [09:31:55] &lt;pieterh&gt;        however I want that redesign to be cheap</div>
<div class="line">[Wednesday 23 March 2011] [09:32:10] &lt;pieterh&gt;        and I really, really want one set of semantics at all scales</div>
<div class="line">[Wednesday 23 March 2011] [09:32:29] &lt;pieterh&gt;        e.g. I know that multicast is not just click-click</div>
<div class="line">[Wednesday 23 March 2011] [09:32:33] &lt;pieterh&gt;        it&#8217;s a <em>lot</em> of extra work</div>
<div class="line">[Wednesday 23 March 2011] [09:32:42] &lt;pieterh&gt;        but my code will basically not change (too much)</div>
<div class="line">[Wednesday 23 March 2011] [09:32:56] &lt;pieterh&gt;        this is the key to 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [09:33:12] &lt;pieterh&gt;        it&#8217;s not that apps magically scale just by adding devices  and IMO it&#8217;s not helpful to aim for that</div>
<div class="line">[Wednesday 23 March 2011] [09:33:27] &lt;pieterh&gt;        it&#8217;s that you can re-architect code really easily to make it fit arbitrary scales</div>
<div class="line">[Wednesday 23 March 2011] [09:33:34] &lt;sustrik&gt;        well, i am aiming for that</div>
<div class="line">[Wednesday 23 March 2011] [09:33:36] &lt;pieterh&gt;        I can give a real example from Ch4</div>
<div class="line">[Wednesday 23 March 2011] [09:33:41] &lt;pieterh&gt;        where this works beautifully</div>
<div class="line">[Wednesday 23 March 2011] [09:33:51] &lt;pieterh&gt;        I make a whole reliability design, based on a broker, right?</div>
<div class="line">[Wednesday 23 March 2011] [09:34:05] &lt;sustrik&gt;        broker is inherently inscalable</div>
<div class="line">[Wednesday 23 March 2011] [09:34:11] &lt;pieterh&gt;        then at the end, like a magic trick, I move the broker into the client and it disappears</div>
<div class="line">[Wednesday 23 March 2011] [09:34:13] &lt;sustrik&gt;        when you want to add another broker</div>
<div class="line">[Wednesday 23 March 2011] [09:34:21] &lt;sustrik&gt;        you run into AMQP-style problems</div>
<div class="line">[Wednesday 23 March 2011] [09:34:23] &lt;pieterh&gt;        and I get full scalability across an N-to-N network of clients and workers</div>
<div class="line">[Wednesday 23 March 2011] [09:34:32] &lt;pieterh&gt;        this is what works</div>
<div class="line">[Wednesday 23 March 2011] [09:34:47] &lt;sustrik&gt;        ah, so it&#8217;s the device interhjection pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:34:48] &lt;pieterh&gt;        federating brokers is just how banks waste money :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:34:58] &lt;pieterh&gt;        it&#8217;s the &#8220;rescale my code&#8221; pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:34:58] &lt;sustrik&gt;        yes, that the only viable way to scale imo</div>
<div class="line">[Wednesday 23 March 2011] [09:35:08] &lt;sustrik&gt;        adding hops</div>
<div class="line">[Wednesday 23 March 2011] [09:35:14] &lt;sustrik&gt;        without changing semantics</div>
<div class="line">[Wednesday 23 March 2011] [09:35:15] &lt;pieterh&gt;        this is why these socket types cannot be hidden</div>
<div class="line">[Wednesday 23 March 2011] [09:35:31] &lt;sustrik&gt;        yes, there&#8217;s good reason to keep them visible</div>
<div class="line">[Wednesday 23 March 2011] [09:35:40] &lt;sustrik&gt;        however, they can be used only in certain ways</div>
<div class="line">[Wednesday 23 March 2011] [09:35:46] &lt;pieterh&gt;        this is true</div>
<div class="line">[Wednesday 23 March 2011] [09:35:47] &lt;sustrik&gt;        to keep the overall design scalable</div>
<div class="line">[Wednesday 23 March 2011] [09:35:52] &lt;pieterh&gt;        it&#8217;s about education</div>
<div class="line">[Wednesday 23 March 2011] [09:35:54] &lt;sustrik&gt;        well, that&#8217;s my point</div>
<div class="line">[Wednesday 23 March 2011] [09:35:58] &lt;pieterh&gt;        i.e. please drive on the right</div>
<div class="line">[Wednesday 23 March 2011] [09:36:41] &lt;pieterh&gt;        however it is justifiable to build unscalable designs</div>
<div class="line">[Wednesday 23 March 2011] [09:36:50] &lt;pieterh&gt;        because it&#8217;s easy to refactor them as needed</div>
<div class="line">[Wednesday 23 March 2011] [09:37:00] &lt;pieterh&gt;        e.g. starting with a broker is just much simpler, conceptually</div>
<div class="line">[Wednesday 23 March 2011] [09:37:39] &lt;pieterh&gt;        to be honest, I think 0MQ is already magically good at this</div>
<div class="line">[Wednesday 23 March 2011] [09:38:06] &lt;sustrik&gt;        yeah, i haven&#8217;t expected it to be this universal</div>
<div class="line">[Wednesday 23 March 2011] [09:38:17] &lt;sustrik&gt;        back in 2007</div>
<div class="line">[Wednesday 23 March 2011] [09:38:45] &lt;sustrik&gt;        back to serious stuff!</div>
<div class="line">[Wednesday 23 March 2011] [09:38:45] &lt;pieterh&gt;        yeah, it was not really the initial vision :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:38:50]   * sustrik goes accounting</div>
<div class="line">[Wednesday 23 March 2011] [09:38:50] &lt;pieterh&gt;        accounting! code!</div>
<div class="line">[Wednesday 23 March 2011] [09:41:49] &lt;pieterh&gt;        mikko&#8211;: ping</div>
<div class="line">[Wednesday 23 March 2011] [09:42:13] &lt;pieterh&gt;        if you clone <a class="reference external" href="https://github.com/zeromq/zeromq2-1">https://github.com/zeromq/zeromq2-1</a> and then try to build with openpgm, you get an error</div>
<div class="line">[Wednesday 23 March 2011] [09:42:24] &lt;pieterh&gt;        config.status: error: cannot find input file: <a href="#id77"><span class="problematic" id="id78">`</span></a>Makefile.in&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [09:51:14] &lt;pieterh&gt;        mikko&#8211;: np, solved it I think</div>
<div class="line">[Wednesday 23 March 2011] [09:53:17] &lt;<a href="#id1730"><span class="problematic" id="id1731">Steve-o_</span></a>&gt;       :P</div>
<div class="line">[Wednesday 23 March 2011] [09:53:49] &lt;<a href="#id1732"><span class="problematic" id="id1733">Steve-o_</span></a>&gt;       That error occurs when using a openpgm svn snapshot without bootstrap</div>
<div class="line">[Wednesday 23 March 2011] [09:54:34] &lt;<a href="#id1734"><span class="problematic" id="id1735">Steve-o_</span></a>&gt;       for 114 and 115 I now bootstrap Autoconf</div>
<div class="line">[Wednesday 23 March 2011] [09:55:20] &lt;<a href="#id1736"><span class="problematic" id="id1737">Steve-o_</span></a>&gt;       only annoying bit is autogen.sh not creating the pgm staging directory</div>
<div class="line">[Wednesday 23 March 2011] [09:55:24] &lt;pieterh&gt;        <a href="#id1738"><span class="problematic" id="id1739">Steve-o_</span></a>: weird thing is the missing file is zeromq&#8217;s root file, not in openpgm</div>
<div class="line">[Wednesday 23 March 2011] [09:55:40] &lt;pieterh&gt;        though the message may be inaccurate</div>
<div class="line">[Wednesday 23 March 2011] [09:56:37] &lt;<a href="#id1740"><span class="problematic" id="id1741">Steve-o_</span></a>&gt;       more importantly you didn&#8217;t read Bob&#8217;s response, it&#8217;s already working for him</div>
<div class="line">[Wednesday 23 March 2011] [09:56:46] &lt;pieterh&gt;        orly?</div>
<div class="line">[Wednesday 23 March 2011] [09:56:51] &lt;<a href="#id1742"><span class="problematic" id="id1743">Steve-o_</span></a>&gt;       your last two mails are out of date</div>
<div class="line">[Wednesday 23 March 2011] [09:56:52] &lt;<a href="#id1744"><span class="problematic" id="id1745">Steve-o_</span></a>&gt;       :P</div>
<div class="line">[Wednesday 23 March 2011] [09:56:53]   * pieterh needs to read more and write less</div>
<div class="line">[Wednesday 23 March 2011] [09:57:34] &lt;pieterh&gt;        nope, his last email (that I have) says, &#8220;Can you verify that it configures properly and it&#8217;s me and not the tarball?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:57:52] &lt;<a href="#id1746"><span class="problematic" id="id1747">Steve-o_</span></a>&gt;       lol, ok two to me :D</div>
<div class="line">[Wednesday 23 March 2011] [09:57:55] &lt;pieterh&gt;        maybe he replied to you offlist</div>
<div class="line">[Wednesday 23 March 2011] [09:57:56] &lt;Guthur&gt; pieterh: we drive on the left</div>
<div class="line">[Wednesday 23 March 2011] [09:59:17] &lt;<a href="#id1748"><span class="problematic" id="id1749">Steve-o_</span></a>&gt;       I reproduced the error here:  <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/010041.html">http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/010041.html</a></div>
<div class="line">[Wednesday 23 March 2011] [10:01:34] &lt;pieterh&gt;        Guthur: thanks?</div>
<div class="line">[Wednesday 23 March 2011] [10:08:43] &lt;cremes&gt; i&#8217;d like to ask a question about 3.0; any chance the project will get a major refactoring</div>
<div class="line">[Wednesday 23 March 2011] [10:08:52] &lt;cremes&gt; and reorg so that the internal classes can be fully tested?</div>
<div class="line">[Wednesday 23 March 2011] [10:09:09] &lt;cremes&gt; right now the only testing we can do is &#8216;black box&#8217; style where we give it some input and hope</div>
<div class="line">[Wednesday 23 March 2011] [10:09:19] &lt;cremes&gt; that all the plumbing works well enough to get an answer on the other side</div>
<div class="line">[Wednesday 23 March 2011] [10:09:27] &lt;Guthur&gt; cremes: there was a discussion earlier about something related</div>
<div class="line">[Wednesday 23 March 2011] [10:09:40] &lt;Guthur&gt; more to ease the understanding of 0MQ core</div>
<div class="line">[Wednesday 23 March 2011] [10:09:57] &lt;cremes&gt; Guthur: what was the outcome of the discussion? or is it still ongoing?</div>
<div class="line">[Wednesday 23 March 2011] [10:10:12] &lt;Guthur&gt; &#8216;yeah that would be nice&#8217; hehe</div>
<div class="line">[Wednesday 23 March 2011] [10:10:31] &lt;sustrik&gt;        cremes: can be done, but it requires a significant effor writing unit tests</div>
<div class="line">[Wednesday 23 March 2011] [10:10:53] &lt;sustrik&gt;        exactly, &#8216;yeah that would be nice&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [10:11:08] &lt;sustrik&gt;        if you want to help with that we can give it a try</div>
<div class="line">[Wednesday 23 March 2011] [10:12:41] &lt;pieterh&gt;        cremes: what about writing unit tests on top, not in core?</div>
<div class="line">[Wednesday 23 March 2011] [10:12:53] &lt;pieterh&gt;        any refactoring of core is going to be expensive</div>
<div class="line">[Wednesday 23 March 2011] [10:13:55] &lt;pieterh&gt;        I know it&#8217;s not the same...</div>
<div class="line">[Wednesday 23 March 2011] [10:14:11] &lt;pieterh&gt;        I&#8217;m using systematic unit tests in zapi and it&#8217;s a really nice way of working</div>
<div class="line">[Wednesday 23 March 2011] [10:20:32] &lt;mikko&#8211;&gt;        <a href="#id1750"><span class="problematic" id="id1751">Steve-o_</span></a>: thats my fault</div>
<div class="line">[Wednesday 23 March 2011] [10:20:39] &lt;mikko&#8211;&gt;        i got a patch soon(ish) for it</div>
<div class="line">[Wednesday 23 March 2011] [10:22:03] &lt;mikko&#8211;&gt;        mkoppanen/zeromq2-1 has a branch fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [10:22:12] &lt;mikko&#8211;&gt;        can you test that?</div>
<div class="line">[Wednesday 23 March 2011] [10:23:44] &lt;<a href="#id1752"><span class="problematic" id="id1753">Steve-o_</span></a>&gt;       k</div>
<div class="line">[Wednesday 23 March 2011] [10:25:14] &lt;Guthur&gt; pieterh: imo retrospectively adding adequate unit test coverage is usually difficult or next to impossible</div>
<div class="line">[Wednesday 23 March 2011] [10:25:47] &lt;Guthur&gt; the code really needs to be design with it in mind from the beginning</div>
<div class="line">[Wednesday 23 March 2011] [10:25:50] &lt;pieterh&gt;        Guthur: I believe you&#8217;re right, and it&#8217;s not going to be possible to refactor core to make this happen</div>
<div class="line">[Wednesday 23 March 2011] [10:26:02] &lt;pieterh&gt;        not without major, major effort, i.e. manyears of work</div>
<div class="line">[Wednesday 23 March 2011] [10:26:51] &lt;pieterh&gt;        so what we need is a separate tests project IMO</div>
<div class="line">[Wednesday 23 March 2011] [10:27:09] &lt;pieterh&gt;        where anyone can bung a test case</div>
<div class="line">[Wednesday 23 March 2011] [10:27:20] &lt;pieterh&gt;        and which we can use when doing daily builds</div>
<div class="line">[Wednesday 23 March 2011] [10:28:24] &lt;<a href="#id1754"><span class="problematic" id="id1755">Steve-o_</span></a>&gt;       mikko&#8211;: looks fine, just finishing the build</div>
<div class="line">[Wednesday 23 March 2011] [10:29:22] &lt;<a href="#id1756"><span class="problematic" id="id1757">Steve-o_</span></a>&gt;       well zeromq should go for two test beds, an external one sitting above the apis and one living next to the code testing each class</div>
<div class="line">[Wednesday 23 March 2011] [10:30:20] &lt;pieterh&gt;        <a href="#id1758"><span class="problematic" id="id1759">Steve-o_</span></a>: indeed, but the second case is probably impossible to make</div>
<div class="line">[Wednesday 23 March 2011] [10:30:35] &lt;pieterh&gt;        and right now the external one is part of core, which is a problem IMO</div>
<div class="line">[Wednesday 23 March 2011] [10:30:47] &lt;<a href="#id1760"><span class="problematic" id="id1761">Steve-o_</span></a>&gt;       depends, have you looked at Chromium unit tests?  They&#8217;re pretty fruity</div>
<div class="line">[Wednesday 23 March 2011] [10:31:12] &lt;<a href="#id1762"><span class="problematic" id="id1763">Steve-o_</span></a>&gt;       mine too for OpenPGM can only go so far</div>
<div class="line">[Wednesday 23 March 2011] [10:31:59] &lt;<a href="#id1764"><span class="problematic" id="id1765">Steve-o_</span></a>&gt;       mikko&#8211;: all done, no problems encountered.</div>
<div class="line">[Wednesday 23 March 2011] [10:32:08] &lt;mikko&#8211;&gt;        make dist works as well?</div>
<div class="line">[Wednesday 23 March 2011] [10:32:52] &lt;<a href="#id1766"><span class="problematic" id="id1767">Steve-o_</span></a>&gt;       yup</div>
<div class="line">[Wednesday 23 March 2011] [10:33:01] &lt;mikko&#8211;&gt;        if anyone has boxes that can execute network tests they can be plugged into the central jenkins cluster</div>
<div class="line">[Wednesday 23 March 2011] [10:33:45] &lt;<a href="#id1768"><span class="problematic" id="id1769">Steve-o_</span></a>&gt;       I&#8217;m thinking of investigating upgrading my network testing to use Python and zeromq</div>
<div class="line">[Wednesday 23 March 2011] [10:34:07] &lt;<a href="#id1770"><span class="problematic" id="id1771">Steve-o_</span></a>&gt;       the bit issue with network testing is stopping and cleaning up when things go wrong</div>
<div class="line">[Wednesday 23 March 2011] [10:34:32] &lt;<a href="#id1772"><span class="problematic" id="id1773">Steve-o_</span></a>&gt;       s/bit/big/</div>
<div class="line">[Wednesday 23 March 2011] [10:34:41] &lt;mikko&#8211;&gt;        you mean going with too high rates?</div>
<div class="line">[Wednesday 23 March 2011] [10:35:04] &lt;<a href="#id1774"><span class="problematic" id="id1775">Steve-o_</span></a>&gt;       usually dead locks</div>
<div class="line">[Wednesday 23 March 2011] [10:35:21] &lt;<a href="#id1776"><span class="problematic" id="id1777">Steve-o_</span></a>&gt;       I have a few years ago suffered quite funny network problems</div>
<div class="line">[Wednesday 23 March 2011] [10:35:34] &lt;<a href="#id1778"><span class="problematic" id="id1779">Steve-o_</span></a>&gt;       i.e. too high data rate, literally millions of packets per second</div>
<div class="line">[Wednesday 23 March 2011] [10:35:43] &lt;<a href="#id1780"><span class="problematic" id="id1781">Steve-o_</span></a>&gt;       turned the switch into a hub and floored the entire network</div>
<div class="line">[Wednesday 23 March 2011] [10:35:49] &lt;pieterh&gt;        mikko&#8211;: did you see drbobbeaty&#8217;s offer of OpenPGM testing space?</div>
<div class="line">[Wednesday 23 March 2011] [10:35:50] &lt;<a href="#id1782"><span class="problematic" id="id1783">Steve-o_</span></a>&gt;       fcuk.</div>
<div class="line">[Wednesday 23 March 2011] [10:36:58] &lt;drbobbeaty&gt;     pieterh: it&#8217;s actually an offer of financial support - for ZMQ to have it&#8217;s own OpenPGM testing space so we don&#8217;t have these same kinds of issues in the future.</div>
<div class="line">[Wednesday 23 March 2011] [10:37:38] &lt;pieterh&gt;        drbobbeaty: please meet Mikko, who is starting his own ZMQ support company</div>
<div class="line">[Wednesday 23 March 2011] [10:37:39] &lt;drbobbeaty&gt;     pieterh: it could be machines, if that&#8217;s all that&#8217;s needed, but my original intention was to help fund an expansion to the testing facilities.</div>
<div class="line">[Wednesday 23 March 2011] [10:38:22] &lt;pieterh&gt;        It would be excellent if your organization would fund an expansion of the testing facilities via mikko&#8211;</div>
<div class="line">[Wednesday 23 March 2011] [10:38:41] &lt;drbobbeaty&gt;     mikko-: OK, if you&#8217;re the guy, great. I think we want the same thing - a tested tarball for users. I&#8217;m just ready to see what it&#8217;ll take and try to swing that through the company I work for.</div>
<div class="line">[Wednesday 23 March 2011] [10:39:35] &lt;<a href="#id1784"><span class="problematic" id="id1785">Steve-o_</span></a>&gt;       I might be able to move some of my hardware in the future</div>
<div class="line">[Wednesday 23 March 2011] [10:39:43] &lt;Guthur&gt; I don&#8217;t mind offering some capacity on my VPS if that is what is being talked about</div>
<div class="line">[Wednesday 23 March 2011] [10:39:59] &lt;pieterh&gt;        I think what we&#8217;re talking about is two things,</div>
<div class="line">[Wednesday 23 March 2011] [10:40:17] &lt;pieterh&gt;        a. buying or finding some PGM-capable switches</div>
<div class="line">[Wednesday 23 March 2011] [10:40:22] &lt;<a href="#id1786"><span class="problematic" id="id1787">Steve-o_</span></a>&gt;       I have a ibm blade chassis and a ultra sparc which need new homes when I move to NY</div>
<div class="line">[Wednesday 23 March 2011] [10:40:51] &lt;pieterh&gt;        b. setting up and managing a test process</div>
<div class="line">[Wednesday 23 March 2011] [10:41:47] &lt;pieterh&gt;        drbobbeaty: I think funding would have to cover time as well as materials</div>
<div class="line">[Wednesday 23 March 2011] [10:42:05] &lt;pieterh&gt;        it would not be huge amounts, but mikko&#8211; is a professional</div>
<div class="line">[Wednesday 23 March 2011] [10:42:34] &lt;pieterh&gt;        his firm is at <a class="reference external" href="http://kuut.io/">http://kuut.io/</a></div>
<div class="line">[Wednesday 23 March 2011] [10:42:36] &lt;drbobbeaty&gt;     pieterh: I&#8217;m not against that. I benefit from ZMQ, and me not having to spend a day debugging a new release is worth real $$ to my employer.</div>
<div class="line">[Wednesday 23 March 2011] [10:42:40] &lt;pieterh&gt;        indeed</div>
<div class="line">[Wednesday 23 March 2011] [10:42:43] &lt;pieterh&gt;        it&#8217;s win-win-win</div>
<div class="line">[Wednesday 23 March 2011] [10:43:40] &lt;pieterh&gt;        I suggest you can discuss with Mikko privately, I&#8217;m available if you need me, but this does not need to involve iMatix</div>
<div class="line">[Wednesday 23 March 2011] [10:44:20] &lt;drbobbeaty&gt;     pieterh: you and mikko chat - I really don&#8217;t care who does it, who owns it, etc. When you were here on your talk, you talked about support contracts. We&#8217;re not against that - towards getting the testing as part of this.</div>
<div class="line">[Wednesday 23 March 2011] [10:44:58] &lt;drbobbeaty&gt;     I&#8217;d just like someone that&#8217;s going to stay in the project for a long time be the one we fund because I&#8217;d hate to be in this situation in 6 months.</div>
<div class="line">[Wednesday 23 March 2011] [10:45:07] &lt;pieterh&gt;        ok, so there are two ways to approach this</div>
<div class="line">[Wednesday 23 March 2011] [10:45:52] &lt;drbobbeaty&gt;     like I said - I&#8217;m very easy on this. You know what I want... you let me know if there&#8217;s a way I can help get us all there.</div>
<div class="line">[Wednesday 23 March 2011] [10:45:56] &lt;pieterh&gt;        either, you fund work done by the community, which means working with Mikko, who is the owner of all that is testing</div>
<div class="line">[Wednesday 23 March 2011] [10:46:05] &lt;pieterh&gt;        or, you ask iMatix for a proper liong</div>
<div class="line">[Wednesday 23 March 2011] [10:46:25] &lt;pieterh&gt;        <a href="#id79"><span class="problematic" id="id80">*</span></a>long-term support contract, which we&#8217;re more than happy to do, and we take care of everything</div>
<div class="line">[Wednesday 23 March 2011] [10:48:03] &lt;sustrik&gt;        mikko: nice website</div>
<div class="line">[Wednesday 23 March 2011] [10:48:12] &lt;sustrik&gt;        the design, i mean</div>
<div class="line">[Wednesday 23 March 2011] [10:54:57] &lt;sustrik&gt;        pieterh: accepting a new functionality into stable without testing it on master of elsewhere is not a good idea imo</div>
<div class="line">[Wednesday 23 March 2011] [10:55:17] &lt;pieterh&gt;        sustrik: you mean openpgm?</div>
<div class="line">[Wednesday 23 March 2011] [10:55:27] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [10:55:32] &lt;sustrik&gt;        btw, it&#8217;s still not in master</div>
<div class="line">[Wednesday 23 March 2011] [10:55:33] &lt;sustrik&gt;        :(</div>
<div class="line">[Wednesday 23 March 2011] [10:55:37] &lt;pieterh&gt;        true, but basically it was broken before</div>
<div class="line">[Wednesday 23 March 2011] [10:56:03] &lt;sustrik&gt;        well, it worked for drbobbeaty</div>
<div class="line">[Wednesday 23 March 2011] [10:56:05] &lt;pieterh&gt;        i&#8217;m not sure why it&#8217;s not yet in master... just waiting for a patch from mikko?</div>
<div class="line">[Wednesday 23 March 2011] [10:56:10] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [10:56:13] &lt;pieterh&gt;        ah, rc2 worked, yes</div>
<div class="line">[Wednesday 23 March 2011] [10:56:45] &lt;pieterh&gt;        it&#8217;s not easy to know &#8216;new functionality&#8217; vs &#8216;necessary patch&#8217; in foreign imports</div>
<div class="line">[Wednesday 23 March 2011] [10:57:01] &lt;pieterh&gt;        the solution is proper testing of daily builds off github</div>
<div class="line">[Wednesday 23 March 2011] [10:57:02] &lt;<a href="#id1788"><span class="problematic" id="id1789">Steve-o_</span></a>&gt;       you get both :D</div>
<div class="line">[Wednesday 23 March 2011] [10:57:20] &lt;cremes&gt; sorry about not responding to the unit test stuff an hour ago; we had a little outage here that i had to attend to</div>
<div class="line">[Wednesday 23 March 2011] [10:57:21] &lt;pieterh&gt;        mostly, I expect the release process to self-stabilize</div>
<div class="line">[Wednesday 23 March 2011] [10:57:28] &lt;pieterh&gt;        this is my experience</div>
<div class="line">[Wednesday 23 March 2011] [10:57:43] &lt;cremes&gt; so i agree that refactoring core would be many man-years of effort</div>
<div class="line">[Wednesday 23 March 2011] [10:58:05] &lt;cremes&gt; but i think the idea of having some unit tests that live &#8220;underneath&#8221; the public api and test internal classes</div>
<div class="line">[Wednesday 23 March 2011] [10:58:06] &lt;cremes&gt; is a good idea</div>
<div class="line">[Wednesday 23 March 2011] [10:58:22] &lt;cremes&gt; i am willing to write some code (i.e. put my money/time where my mouth is)</div>
<div class="line">[Wednesday 23 March 2011] [10:59:03] &lt;cremes&gt; i think that over a period of time as unit tests are written, we&#8217;ll find the pain points that require redesign/refactoring</div>
<div class="line">[Wednesday 23 March 2011] [10:59:05] &lt;sustrik&gt;        pieterh: pushing _anything_ untested into stable is no good</div>
<div class="line">[Wednesday 23 March 2011] [10:59:10] &lt;cremes&gt; of the internal classes and it can be done piece-meal</div>
<div class="line">[Wednesday 23 March 2011] [10:59:24] &lt;pieterh&gt;        sustrik: it&#8217;s only testable in master now because it&#8217;s the same codebase</div>
<div class="line">[Wednesday 23 March 2011] [10:59:32] &lt;sustrik&gt;        cremes: well, do you have an idea of a specific unit test you want to write</div>
<div class="line">[Wednesday 23 March 2011] [10:59:35] &lt;pieterh&gt;        as soon as there&#8217;s functional changes, that stops being possible</div>
<div class="line">[Wednesday 23 March 2011] [10:59:49] &lt;sustrik&gt;        then test it elsewhere</div>
<div class="line">[Wednesday 23 March 2011] [11:00:00] &lt;pieterh&gt;        this is not a problem, really</div>
<div class="line">[Wednesday 23 March 2011] [11:00:06] &lt;cremes&gt; sustrik: i do; i thought a good initial set of tests would be to exercise the yqueue class since it is</div>
<div class="line">[Wednesday 23 March 2011] [11:00:12] &lt;cremes&gt; so important to internal communications</div>
<div class="line">[Wednesday 23 March 2011] [11:00:23] &lt;sustrik&gt;        pieterh: it&#8217;s up to you, but unstable stable is a problem afaics</div>
<div class="line">[Wednesday 23 March 2011] [11:00:36] &lt;<a href="#id1790"><span class="problematic" id="id1791">Steve-o_</span></a>&gt;       cremes: I think you&#8217;re jumping into a different conversation</div>
<div class="line">[Wednesday 23 March 2011] [11:00:37] &lt;sustrik&gt;        cremes: sounds good</div>
<div class="line">[Wednesday 23 March 2011] [11:00:47] &lt;pieterh&gt;        sustrik: you are stressed because you want a perfect product, but that is not how it happens</div>
<div class="line">[Wednesday 23 March 2011] [11:01:06] &lt;sustrik&gt;        if you write one unit test we can have a look at how to incorporate it into the codebase</div>
<div class="line">[Wednesday 23 March 2011] [11:01:09] &lt;cremes&gt; <a href="#id1792"><span class="problematic" id="id1793">Steve-o_</span></a>: just answering a direct query from sustrik; but yeah, the channel has a few topics going simultaneously :)</div>
<div class="line">[Wednesday 23 March 2011] [11:01:27] &lt;pieterh&gt;        cremes: it sounds like a good plan</div>
<div class="line">[Wednesday 23 March 2011] [11:01:50] &lt;cremes&gt; i will endeavor to do a proof-of-concept this weekend so we can discuss on monday/tuesday</div>
<div class="line">[Wednesday 23 March 2011] [11:02:08] &lt;pieterh&gt;        sustrik: the other option, which I wanted to discuss, was to start a 2.2 release cycle</div>
<div class="line">[Wednesday 23 March 2011] [11:02:29] &lt;sustrik&gt;        what would that be?</div>
<div class="line">[Wednesday 23 March 2011] [11:02:44] &lt;pieterh&gt;        well, in strict principle, no new functionality in 2.1 at all...</div>
<div class="line">[Wednesday 23 March 2011] [11:02:55] &lt;pieterh&gt;        so 2.2 allows us to add new functionality without changing the api</div>
<div class="line">[Wednesday 23 March 2011] [11:03:22] &lt;sustrik&gt;        well, if you feel like maintaining 3 separate repos :)</div>
<div class="line">[Wednesday 23 March 2011] [11:03:32] &lt;<a href="#id1794"><span class="problematic" id="id1795">Steve-o_</span></a>&gt;       pieterh: re: &#8220;it&#8217;s not easy to know &#8216;new functionality&#8217; vs &#8216;necessary patch&#8217; in foreign imports&#8221;, new functionality would be a openpgm 6.x, I only push small changes down</div>
<div class="line">[Wednesday 23 March 2011] [11:03:36] &lt;pieterh&gt;        i&#8217;ve no problem with that, I maintain 20-30 repositories</div>
<div class="line">[Wednesday 23 March 2011] [11:03:56] &lt;sustrik&gt;        wait till you start doing real backports</div>
<div class="line">[Wednesday 23 March 2011] [11:03:58] &lt;sustrik&gt;        :)</div>
<div class="line">[Wednesday 23 March 2011] [11:04:15] &lt;pieterh&gt;        sustrik: somewhere along the line you missed the trick that as maintainer I don&#8217;t do ports at all</div>
<div class="line">[Wednesday 23 March 2011] [11:04:28] &lt;pieterh&gt;        look, let me give you an example...</div>
<div class="line">[Wednesday 23 March 2011] [11:04:37] &lt;pieterh&gt;        2.1 will be used in production for a very long time</div>
<div class="line">[Wednesday 23 March 2011] [11:04:57] &lt;pieterh&gt;        now say you want to deliver some new socket options to users</div>
<div class="line">[Wednesday 23 March 2011] [11:05:03] &lt;pieterh&gt;        nothing dangerous</div>
<div class="line">[Wednesday 23 March 2011] [11:05:18] &lt;pieterh&gt;        but if you only provide them via 3.0, it&#8217;ll be ages before you get proper feedback</div>
<div class="line">[Wednesday 23 March 2011] [11:05:33] &lt;pieterh&gt;        so you convince me, as maintainer, to release them in 2.2</div>
<div class="line">[Wednesday 23 March 2011] [11:05:36] &lt;pieterh&gt;        everyone wins</div>
<div class="line">[Wednesday 23 March 2011] [11:05:48] &lt;sustrik&gt;        if it&#8217;s fully backward compatible it can go into 2.1</div>
<div class="line">[Wednesday 23 March 2011] [11:05:51] &lt;pieterh&gt;        nope</div>
<div class="line">[Wednesday 23 March 2011] [11:05:53] &lt;pieterh&gt;        it cannot</div>
<div class="line">[Wednesday 23 March 2011] [11:06:00] &lt;sustrik&gt;        up to you</div>
<div class="line">[Wednesday 23 March 2011] [11:06:04]   * sustrik shuts up</div>
<div class="line">[Wednesday 23 March 2011] [11:06:20] &lt;<a href="#id1796"><span class="problematic" id="id1797">Steve-o_</span></a>&gt;       I thought the definition was new features = minor++, API breakage = major++?</div>
<div class="line">[Wednesday 23 March 2011] [11:06:20] &lt;pieterh&gt;        the point is that 2.1 is &#8220;stable&#8221; and thus does not get new functionality</div>
<div class="line">[Wednesday 23 March 2011] [11:06:31] &lt;pieterh&gt;        <a href="#id1798"><span class="problematic" id="id1799">Steve-o_</span></a>: exactluy</div>
<div class="line">[Wednesday 23 March 2011] [11:06:37] &lt;pieterh&gt;        new functionality = new minor release</div>
<div class="line">[Wednesday 23 March 2011] [11:06:37] &lt;Guthur&gt; pieterh: only a day or two ago you mentioned there would be no 2.2, iirc</div>
<div class="line">[Wednesday 23 March 2011] [11:06:45] &lt;pieterh&gt;        Guthur: I said, we had no plans</div>
<div class="line">[Wednesday 23 March 2011] [11:06:54] &lt;pieterh&gt;        plans change and develop</div>
<div class="line">[Wednesday 23 March 2011] [11:07:46] &lt;Guthur&gt; so if there was a 2.2 would that be 4 main repos of 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [11:07:55] &lt;Guthur&gt; your 3 and sustrik&#8217;s one</div>
<div class="line">[Wednesday 23 March 2011] [11:07:56] &lt;pieterh&gt;        Guthur: which is fine, seriously</div>
<div class="line">[Wednesday 23 March 2011] [11:08:02] &lt;pieterh&gt;        it is scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:08:23] &lt;pieterh&gt;        it&#8217;s perhaps unusual but it&#8217;s very simple, predictable, and scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:08:58] &lt;pieterh&gt;        plus there are dozens of 0MQ repos, in fact</div>
<div class="line">[Wednesday 23 March 2011] [11:09:10] &lt;pieterh&gt;        we have a distributed development process and the repos map that</div>
<div class="line">[Wednesday 23 March 2011] [11:09:18] &lt;pieterh&gt;        there is no &#8220;main&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:09:35] &lt;pieterh&gt;        there is only the rather more valuable repos maintained by El Sustrik</div>
<div class="line">[Wednesday 23 March 2011] [11:09:48] &lt;Guthur&gt; Sure. I&#8217;ll have to trust you on it to be honest</div>
<div class="line">[Wednesday 23 March 2011] [11:09:49] &lt;pieterh&gt;        and the cheap &amp; nasty imitations made by other folk</div>
<div class="line">[Wednesday 23 March 2011] [11:10:43] &lt;pieterh&gt;        sustrik: do you plan to develop 3.0 inside the zeromq2 repository?</div>
<div class="line">[Wednesday 23 March 2011] [11:11:07] &lt;sustrik&gt;        depends on how painful it is to rename it</div>
<div class="line">[Wednesday 23 March 2011] [11:11:18] &lt;sustrik&gt;        i assume people have links to the repo</div>
<div class="line">[Wednesday 23 March 2011] [11:11:21] &lt;pieterh&gt;        millions of internet links break</div>
<div class="line">[Wednesday 23 March 2011] [11:11:24] &lt;pieterh&gt;        there is no forwarding</div>
<div class="line">[Wednesday 23 March 2011] [11:11:26] &lt;sustrik&gt;        yeah</div>
<div class="line">[Wednesday 23 March 2011] [11:11:29] &lt;sustrik&gt;        :|</div>
<div class="line">[Wednesday 23 March 2011] [11:11:35] &lt;pieterh&gt;        however, everyone watching the old site still watches the new one</div>
<div class="line">[Wednesday 23 March 2011] [11:11:51] &lt;pieterh&gt;        so my idea was to rename it, and then make a new zeromq2 with a cover page</div>
<div class="line">[Wednesday 23 March 2011] [11:12:15] &lt;mikko&#8211;&gt;        pieterh: saw it</div>
<div class="line">[Wednesday 23 March 2011] [11:12:16] &lt;pieterh&gt;        i mentioned this already, you may recall</div>
<div class="line">[Wednesday 23 March 2011] [11:12:19] &lt;mikko&#8211;&gt;        havent had time to respond yet</div>
<div class="line">[Wednesday 23 March 2011] [11:12:30] &lt;pieterh&gt;        mikko&#8211;: ok</div>
<div class="line">[Wednesday 23 March 2011] [11:12:33] &lt;sustrik&gt;        dunno whather it&#8217;s worth of the trouble</div>
<div class="line">[Wednesday 23 March 2011] [11:12:42] &lt;sustrik&gt;        it&#8217;s just a name anyway</div>
<div class="line">[Wednesday 23 March 2011] [11:13:03] &lt;pieterh&gt;        sigh... you want to break an entire naming scheme just because &#8220;it&#8217;s just a name?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:13:52] &lt;pieterh&gt;        how on earth can we manage a family of repositories if the names don&#8217;t make sense?</div>
<div class="line">[Wednesday 23 March 2011] [11:14:21] &lt;sustrik&gt;        let&#8217;s find out what exactly would break</div>
<div class="line">[Wednesday 23 March 2011] [11:14:30] &lt;sustrik&gt;        obviosuly, existing web links</div>
<div class="line">[Wednesday 23 March 2011] [11:14:37] &lt;pieterh&gt;        like I said, that can be fixed</div>
<div class="line">[Wednesday 23 March 2011] [11:14:39] &lt;sustrik&gt;        mikko&#8217;s auto builds</div>
<div class="line">[Wednesday 23 March 2011] [11:14:44] &lt;pieterh&gt;        did you understand my proposal?</div>
<div class="line">[Wednesday 23 March 2011] [11:14:50] &lt;sustrik&gt;        rename</div>
<div class="line">[Wednesday 23 March 2011] [11:14:56] &lt;pieterh&gt;        and recreate</div>
<div class="line">[Wednesday 23 March 2011] [11:14:59] &lt;sustrik&gt;        no way</div>
<div class="line">[Wednesday 23 March 2011] [11:15:00] &lt;pieterh&gt;        rename and recreate</div>
<div class="line">[Wednesday 23 March 2011] [11:15:05] &lt;pieterh&gt;        yes, obviously</div>
<div class="line">[Wednesday 23 March 2011] [11:15:15] &lt;sustrik&gt;        that&#8217;s kicking out 350+ people watching the repo</div>
<div class="line">[Wednesday 23 March 2011] [11:15:20] &lt;pieterh&gt;        sigh...</div>
<div class="line">[Wednesday 23 March 2011] [11:15:29] &lt;pieterh&gt;        please assume I&#8217;m not an idiot</div>
<div class="line">[Wednesday 23 March 2011] [11:15:51] &lt;pieterh&gt;        you rename, the watchers follow along to the new zeromq3 repo, ok?</div>
<div class="line">[Wednesday 23 March 2011] [11:15:57] &lt;pieterh&gt;        everything is cool</div>
<div class="line">[Wednesday 23 March 2011] [11:16:11] &lt;pieterh&gt;        now you create a <em>new</em> zeromq2 repo to take the place of the old one</div>
<div class="line">[Wednesday 23 March 2011] [11:16:19] &lt;sustrik&gt;        yuck</div>
<div class="line">[Wednesday 23 March 2011] [11:16:21] &lt;sustrik&gt;        sorry, no</div>
<div class="line">[Wednesday 23 March 2011] [11:16:24] &lt;pieterh&gt;        you make a cover page, which provides a map for visitors</div>
<div class="line">[Wednesday 23 March 2011] [11:16:28] &lt;pieterh&gt;        all internet links work</div>
<div class="line">[Wednesday 23 March 2011] [11:16:53] &lt;pieterh&gt;        this is far better than doing 3.0 work in a repo called zeromq2, seriously</div>
<div class="line">[Wednesday 23 March 2011] [11:17:27] &lt;pieterh&gt;        &#8220;we were afraid of renaming it, that&#8217;s why it&#8217;s still weird in 2015, sorry&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:17:46] &lt;pieterh&gt;        better, rename it now to &#8216;zeromq&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [11:18:46] &lt;pieterh&gt;        when we get to making stable releases of 3.0, there will be repos like zeromq3-0</div>
<div class="line">[Wednesday 23 March 2011] [11:18:51] &lt;pieterh&gt;        based off zeromq2?????</div>
<div class="line">[Wednesday 23 March 2011] [11:19:00] &lt;sustrik&gt;        i am not against renaming</div>
<div class="line">[Wednesday 23 March 2011] [11:19:07] &lt;pieterh&gt;        it&#8217;s so bad I&#8217;m tempted to take my ball and stop playing</div>
<div class="line">[Wednesday 23 March 2011] [11:19:21] &lt;sustrik&gt;        just re-creating is a nonsense</div>
<div class="line">[Wednesday 23 March 2011] [11:19:22] &lt;pieterh&gt;        you&#8217;re against making a replacement cover page?</div>
<div class="line">[Wednesday 23 March 2011] [11:19:30] &lt;pieterh&gt;        you prefer broken links?</div>
<div class="line">[Wednesday 23 March 2011] [11:19:38] &lt;pieterh&gt;        shrug, I have no more to offer</div>
<div class="line">[Wednesday 23 March 2011] [11:19:41] &lt;sustrik&gt;        rename zeromq2-&gt;zeromq</div>
<div class="line">[Wednesday 23 March 2011] [11:19:41]   * pieterh goes back to work</div>
<div class="line">[Wednesday 23 March 2011] [11:19:52] &lt;sustrik&gt;        then do whatever with zeromq2 namespace</div>
<div class="line">[Wednesday 23 March 2011] [11:20:15] &lt;sustrik&gt;        that way the watchers remain subscribed</div>
<div class="line">[Wednesday 23 March 2011] [11:20:32] &lt;sustrik&gt;        no point in annying 350 people</div>
<div class="line">[Wednesday 23 March 2011] [11:20:32] &lt;pieterh&gt;        how is it possible to say, &#8220;yuck no way:&#8221; while agreeing with my proposal?</div>
<div class="line">[Wednesday 23 March 2011] [11:20:43] &lt;sustrik&gt;        you said, &#8220;recreate&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:20:58] &lt;sustrik&gt;        recreate what?</div>
<div class="line">[Wednesday 23 March 2011] [11:21:01]   * pieterh bangs his head slowly on table</div>
<div class="line">[Wednesday 23 March 2011] [11:21:16] &lt;pieterh&gt;        my fault for not communicating this more clearly</div>
<div class="line">[Wednesday 23 March 2011] [11:21:24] &lt;pieterh&gt;        please excuse me, I&#8217;ll try again</div>
<div class="line">[Wednesday 23 March 2011] [11:21:57] &lt;pieterh&gt;        a. you rename the repo, watchers are not annoyed, ack?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:01] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:22:14] &lt;pieterh&gt;        b. there is now no repo called &#8216;zeromq2&#8217;, ack?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:25] &lt;sustrik&gt;        ah, you want to re-create that one?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:32] &lt;sustrik&gt;        as a strawman</div>
<div class="line">[Wednesday 23 March 2011] [11:22:35] &lt;pieterh&gt;        the word &#8216;recreate&#8217; seems pretty clear</div>
<div class="line">[Wednesday 23 March 2011] [11:22:55] &lt;pieterh&gt;        yes, create an empty repo with the old name</div>
<div class="line">[Wednesday 23 March 2011] [11:23:03] &lt;sustrik&gt;        why i thouth you were suggesting was &#8220;re-create the master&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:23:07] &lt;pieterh&gt;        and fill it with one page, a cover sheet that helps people navigate the new structure</div>
<div class="line">[Wednesday 23 March 2011] [11:23:08] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [11:23:11] &lt;sustrik&gt;        that makes sense</div>
<div class="line">[Wednesday 23 March 2011] [11:23:15] &lt;pieterh&gt;        well, you assume I&#8217;m stupid, maybe</div>
<div class="line">[Wednesday 23 March 2011] [11:23:18] &lt;pieterh&gt;        don&#8217;t know...</div>
<div class="line">[Wednesday 23 March 2011] [11:23:23] &lt;pieterh&gt;        it&#8217;s ok</div>
<div class="line">[Wednesday 23 March 2011] [11:23:36] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [11:23:38] &lt;sustrik&gt;        will do, once i move to 3.0</div>
<div class="line">[Wednesday 23 March 2011] [11:24:05] &lt;pieterh&gt;        if we do rename the repo, I&#8217;d consider the new name carefully</div>
<div class="line">[Wednesday 23 March 2011] [11:24:20] &lt;pieterh&gt;        it&#8217;s very important to get this right</div>
<div class="line">[Wednesday 23 March 2011] [11:24:21] &lt;sustrik&gt;        zeromq?</div>
<div class="line">[Wednesday 23 March 2011] [11:24:24] &lt;sustrik&gt;        zeromq-master</div>
<div class="line">[Wednesday 23 March 2011] [11:24:28] &lt;pieterh&gt;        hang on</div>
<div class="line">[Wednesday 23 March 2011] [11:24:28] &lt;sustrik&gt;        zeromq-dev</div>
<div class="line">[Wednesday 23 March 2011] [11:24:29] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [11:24:32] &lt;sustrik&gt;        dunno</div>
<div class="line">[Wednesday 23 March 2011] [11:24:35] &lt;pieterh&gt;        core</div>
<div class="line">[Wednesday 23 March 2011] [11:24:49] &lt;pieterh&gt;        or libzmq</div>
<div class="line">[Wednesday 23 March 2011] [11:24:52] &lt;sustrik&gt;        core sounds more like a component rather than branch</div>
<div class="line">[Wednesday 23 March 2011] [11:25:00] &lt;pieterh&gt;        it&#8217;s not a branch, at all</div>
<div class="line">[Wednesday 23 March 2011] [11:25:13] &lt;pieterh&gt;        it is <em>the</em> living project within the 0MQ community</div>
<div class="line">[Wednesday 23 March 2011] [11:25:25] &lt;pieterh&gt;        there are two issues I see here</div>
<div class="line">[Wednesday 23 March 2011] [11:25:35] &lt;pieterh&gt;        a. confusion between zeromq as a community, and zeromq as a library</div>
<div class="line">[Wednesday 23 March 2011] [11:25:44] &lt;sustrik&gt;        good point</div>
<div class="line">[Wednesday 23 March 2011] [11:25:46] &lt;pieterh&gt;        b. zeromq as a package will end up including multiple projects</div>
<div class="line">[Wednesday 23 March 2011] [11:26:02] &lt;pieterh&gt;        my vision of the packaging is we package the community</div>
<div class="line">[Wednesday 23 March 2011] [11:26:03] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [11:26:13] &lt;pieterh&gt;        and that matches the organization name, zeromq</div>
<div class="line">[Wednesday 23 March 2011] [11:26:14] &lt;sustrik&gt;        libzmq+pyzmq+clrzmq etc.</div>
<div class="line">[Wednesday 23 March 2011] [11:26:17] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:26:19] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [11:26:38] &lt;pieterh&gt;        so this is also an explanation why we have multiple repositories</div>
<div class="line">[Wednesday 23 March 2011] [11:27:09] &lt;pieterh&gt;        it is only possible to increase the scope of packaging if we have separate projects for that</div>
<div class="line">[Wednesday 23 March 2011] [11:27:25] &lt;sustrik&gt;        libzmq would make sense then, however, i am not sure whether it&#8217;s worth of renaming everything now</div>
<div class="line">[Wednesday 23 March 2011] [11:27:25]   * pieterh is not just a pretty face...</div>
<div class="line">[Wednesday 23 March 2011] [11:27:40] &lt;pieterh&gt;        I&#8217;d really enjoy seeing libzmq, to be honest</div>
<div class="line">[Wednesday 23 March 2011] [11:27:52] &lt;sustrik&gt;        it would be nice</div>
<div class="line">[Wednesday 23 March 2011] [11:28:09] &lt;pieterh&gt;        I&#8217;d rename zapi to libzapi in the same sense then</div>
<div class="line">[Wednesday 23 March 2011] [11:28:10] &lt;sustrik&gt;        the question is how annoying would the renaming be</div>
<div class="line">[Wednesday 23 March 2011] [11:28:20] &lt;pieterh&gt;        it&#8217;s going to have to happen anyhow</div>
<div class="line">[Wednesday 23 March 2011] [11:28:28] &lt;pieterh&gt;        and this is very helpful to people IMO</div>
<div class="line">[Wednesday 23 March 2011] [11:28:53] &lt;pieterh&gt;        change that makes things better is always acceptable</div>
<div class="line">[Wednesday 23 March 2011] [11:29:36] &lt;sustrik&gt;        the benefit should be weighted against all the annoyance the rename will reate</div>
<div class="line">[Wednesday 23 March 2011] [11:29:45] &lt;sustrik&gt;        create</div>
<div class="line">[Wednesday 23 March 2011] [11:30:15] &lt;sustrik&gt;        actually, current naming doesn&#8217;t necessarily clash with package naming</div>
<div class="line">[Wednesday 23 March 2011] [11:30:16] &lt;pieterh&gt;        we won&#8217;t know the annoyance until we&#8217;ve done the rename</div>
<div class="line">[Wednesday 23 March 2011] [11:30:53] &lt;sustrik&gt;        the name of the project on github is kind of invisible to end users</div>
<div class="line">[Wednesday 23 March 2011] [11:30:58] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:31:01] &lt;sustrik&gt;        it&#8217;s of interest only to devs</div>
<div class="line">[Wednesday 23 March 2011] [11:31:19] &lt;pieterh&gt;        we need to check that forks of the repo don&#8217;t break when it&#8217;s renamed</div>
<div class="line">[Wednesday 23 March 2011] [11:31:27] &lt;pieterh&gt;        forks and watches, that&#8217;s the real value</div>
<div class="line">[Wednesday 23 March 2011] [11:31:44] &lt;sustrik&gt;        +1</div>
<div class="line">[Wednesday 23 March 2011] [11:32:03] &lt;pieterh&gt;        and IMO if we recreate a useful map for visitors who follow the old link, it&#8217;s solved</div>
<div class="line">[Wednesday 23 March 2011] [11:32:15] &lt;pieterh&gt;        I&#8217;d like to make a map of the community anyhow</div>
<div class="line">[Wednesday 23 March 2011] [11:32:19] &lt;pieterh&gt;        every project</div>
<div class="line">[Wednesday 23 March 2011] [11:32:26] &lt;pieterh&gt;        with a person and a URI</div>
<div class="line">[Wednesday 23 March 2011] [11:33:22] &lt;pieterh&gt;        ok, we can come back to this when you start on 3.0</div>
<div class="line">[Wednesday 23 March 2011] [11:36:03] &lt;Guthur&gt; pieterh: are you building whaleshark at the moment?</div>
<div class="line">[Wednesday 23 March 2011] [11:36:21] &lt;pieterh&gt;        Guthur: in a manner of speaking, I&#8217;m working on the API that I&#8217;ll need to build Whaleshark</div>
<div class="line">[Wednesday 23 March 2011] [11:36:36] &lt;pieterh&gt;        parts are almost done, like the name service</div>
<div class="line">[Wednesday 23 March 2011] [11:36:53] &lt;Guthur&gt; is that related to MDP</div>
<div class="line">[Wednesday 23 March 2011] [11:37:13] &lt;pieterh&gt;        well, the name service is the Freelance pattern described at the end of Ch4</div>
<div class="line">[Wednesday 23 March 2011] [11:37:30] &lt;pieterh&gt;        the client does broker-style work but the workers are simpler than MDP workers</div>
<div class="line">[Wednesday 23 March 2011] [11:37:40] &lt;pieterh&gt;        it&#8217;s distributed client-server</div>
<div class="line">[Wednesday 23 March 2011] [11:38:05] &lt;pieterh&gt;        you don&#8217;t really want to access a name service via a broker, too heavy</div>
<div class="line">[Wednesday 23 March 2011] [11:39:15] &lt;Guthur&gt; just reading the protocol now</div>
<div class="line">[Wednesday 23 March 2011] [11:47:15] &lt;Guthur&gt; sorry to bring this up again, I&#8217;m having trouble seeing how explicitly routing to client A or B or C... goes against scalability, you could surely use a DEALER at the client side which load-balances across a number of ROUTER based devices</div>
<div class="line">[Wednesday 23 March 2011] [11:47:16] &lt;Guthur&gt; am I missing something</div>
<div class="line">[Wednesday 23 March 2011] [11:47:52] &lt;pieterh&gt;        Guthur: the point is using explicit identities</div>
<div class="line">[Wednesday 23 March 2011] [11:48:10] &lt;pieterh&gt;        if you&#8217;re using automatic identities, and a stack, you don&#8217;t route to a client A, B, or C</div>
<div class="line">[Wednesday 23 March 2011] [11:48:19] &lt;pieterh&gt;        but rather you route backwards along a path</div>
<div class="line">[Wednesday 23 March 2011] [11:48:23] &lt;pieterh&gt;        which is scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:49:18] &lt;pieterh&gt;        does that help?</div>
<div class="line">[Wednesday 23 March 2011] [11:49:58] &lt;pieterh&gt;        e.g. in MDP, we never use our own identities, only those provided by 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [11:50:03] &lt;pieterh&gt;        it&#8217;s scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:50:47] &lt;Guthur&gt; ok, but if you take same routing pattern with 0MQ generated UUIDs it is fine?</div>
<div class="line">[Wednesday 23 March 2011] [11:51:41] &lt;pieterh&gt;        well, I see two issues</div>
<div class="line">[Wednesday 23 March 2011] [11:51:54] &lt;pieterh&gt;        one, using durable sockets is not scalable, as we</div>
<div class="line">[Wednesday 23 March 2011] [11:51:58] &lt;pieterh&gt;        <a href="#id81"><span class="problematic" id="id82">*</span></a>we&#8217;ve learned</div>
<div class="line">[Wednesday 23 March 2011] [11:52:29] &lt;pieterh&gt;        two, treating an envelope as 1 frame rather than a path is probably not scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:52:41] &lt;pieterh&gt;        probably, but not necessarily</div>
<div class="line">[Wednesday 23 March 2011] [11:53:32] &lt;pieterh&gt;        I&#8217;ve not actually seen real use cases for req-rep with more than 2 hops</div>
<div class="line">[Wednesday 23 March 2011] [11:54:05] &lt;Guthur&gt; yeah I think outside the req-rep pattern tbh</div>
<div class="line">[Wednesday 23 March 2011] [11:54:16] &lt;pieterh&gt;        sustrik&#8217;s whitepaper does present some but they seem contrived to me</div>
<div class="line">[Wednesday 23 March 2011] [11:54:52] &lt;Guthur&gt; it&#8217;s in relation to my endeavours with FIX, this is very much a disjointed async communication</div>
<div class="line">[Wednesday 23 March 2011] [11:55:10] &lt;Guthur&gt; you may send off 1 request and async recv N replies</div>
<div class="line">[Wednesday 23 March 2011] [11:55:29] &lt;pieterh&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [11:55:48] &lt;Guthur&gt; So the X sockets are the only way to go really</div>
<div class="line">[Wednesday 23 March 2011] [11:56:09] &lt;Guthur&gt; without maybe using multiple sockets</div>
<div class="line">[Wednesday 23 March 2011] [12:11:59] &lt;sp|ke&gt;  hi guys</div>
<div class="line">[Wednesday 23 March 2011] [12:12:36] &lt;sp|ke&gt;  i have setup a pub server with a bunch of sub clients</div>
<div class="line">[Wednesday 23 March 2011] [12:13:16] &lt;sp|ke&gt;  is it possible to make the sub client get data after the pub server have shutdown and get back online ?</div>
<div class="line">[Wednesday 23 March 2011] [12:13:30] &lt;sp|ke&gt;  without restarting the client</div>
<div class="line">[Wednesday 23 March 2011] [12:14:40] &lt;pieterh&gt;        sp|ke: the sub client will reconnect automatically</div>
<div class="line">[Wednesday 23 March 2011] [12:14:48] &lt;pieterh&gt;        but it will lose data obviously</div>
<div class="line">[Wednesday 23 March 2011] [12:41:53] &lt;sp|ke&gt;  pieterh: yes indeed, i must have done some mistake, do you think it&#8217;s possible with REQ/REP pattern too ?</div>
<div class="line">[Wednesday 23 March 2011] [12:42:42] &lt;sp|ke&gt;  i have done some tests if i shutdwon the server after the client have sent the request</div>
<div class="line">[Wednesday 23 March 2011] [12:42:49] &lt;sp|ke&gt;  adn restart the server</div>
<div class="line">[Wednesday 23 March 2011] [12:43:03] &lt;sp|ke&gt;  the client stay blocked</div>
<div class="line">[Wednesday 23 March 2011] [12:43:22] &lt;sp|ke&gt;  is there a way to check that the req zmqsocket is still alive ?</div>
<div class="line">[Wednesday 23 March 2011] [12:54:26] &lt;cremes&gt; sp|ke: no, you can&#8217;t do that with req/rep when using blocking send/recv; you have to create your own timeout</div>
<div class="line">[Wednesday 23 March 2011] [12:54:55] &lt;cremes&gt; and use non-blocking send/recv along with zmq_poll() to detect a timeout and to handle that situation</div>
<div class="line">[Wednesday 23 March 2011] [13:01:00] &lt;sp|ke&gt;  cremes: ok thanx for the advice</div>
<div class="line">[Wednesday 23 March 2011] [15:09:38] &lt;mikko&gt;  drbobbeaty: did you manage to test the new version of openpgm?</div>
<div class="line">[Wednesday 23 March 2011] [15:10:06] &lt;drbobbeaty&gt;     mikko: yup, sure did. Works fine.</div>
<div class="line">[Wednesday 23 March 2011] [15:10:11] &lt;mikko&gt;  cool</div>
<div class="line">[Wednesday 23 March 2011] [15:10:31] &lt;drbobbeaty&gt;     mikko: I used 0MQ 2.1.3 and the 5.1.115 OpenPGM from Steve-o</div>
<div class="line">[Wednesday 23 March 2011] [15:11:07] &lt;mikko&gt;  the &#8211;with-pgm=pgknamehere ?</div>
<div class="line">[Wednesday 23 March 2011] [17:14:39] &lt;drbobbeaty&gt;     mikko: yes, sorry I didn&#8217;t see it earlier, I used the name of the tarball in the config line.</div>
<div class="line">[Wednesday 23 March 2011] [17:16:21] &lt;mikko&gt;  drbobbeaty: cool</div>
<div class="line">[Wednesday 23 March 2011] [17:16:41] &lt;mikko&gt;  that feature proved to be useful quite quickly</div>
<div class="line">[Wednesday 23 March 2011] [17:23:51] &lt;pieterh&gt;        mikko: the new openpgm packaging is really nicely done, congrats</div>
<div class="line">[Wednesday 23 March 2011] [17:25:18] &lt;mikko&gt;  pieterh: i will send pull request for the make dist fixes</div>
<div class="line">[Wednesday 23 March 2011] [17:25:32] &lt;mikko&gt;  and clear hudson job workspaces so that it will build from empty</div>
<div class="line">[Wednesday 23 March 2011] [17:27:16] &lt;pieterh&gt;        mikko: we still need to get this into the libzmq core repository</div>
<div class="line">[Wednesday 23 March 2011] [17:27:25] &lt;pieterh&gt;        sustrik&#8217;s repo</div>
<div class="line">[Wednesday 23 March 2011] [17:27:43] &lt;mikko&gt;  yes</div>
<div class="line">[Wednesday 23 March 2011] [17:27:56] &lt;mikko&gt;  as soon as it works properly i&#8217;ll get it ready for el sustrik</div>
<div class="line">[Wednesday 23 March 2011] [17:28:13] &lt;pieterh&gt;        I figured out (I&#8217;m so thick) how to pull individual commits across repos</div>
<div class="line">[Wednesday 23 March 2011] [17:28:20] &lt;mikko&gt;  cherry pick?</div>
<div class="line">[Wednesday 23 March 2011] [17:28:27] &lt;pieterh&gt;        don&#8217;t need to fetch and cherry-pick</div>
<div class="line">[Wednesday 23 March 2011] [17:28:36] &lt;pieterh&gt;        gah</div>
<div class="line">[Wednesday 23 March 2011] [17:29:00] &lt;pieterh&gt;        just define the remote and then use &#8216;git pull&#8217; with the commit number</div>
<div class="line">[Wednesday 23 March 2011] [17:29:15] &lt;pieterh&gt;        the precise syntax is explained by github when you have a pull request</div>
<div class="line">[Wednesday 23 March 2011] [17:29:23] &lt;pieterh&gt;        in your face the whole time, so to speak</div>
<div class="line">[Wednesday 23 March 2011] [17:29:54] &lt;mikko&gt;  yeah</div>
<div class="line">[Wednesday 23 March 2011] [17:30:03] &lt;mikko&gt;  been thinking about this situation for some time</div>
<div class="line">[Wednesday 23 March 2011] [17:30:20] &lt;pieterh&gt;        github pull requests are just issues that wrap manual git commands</div>
<div class="line">[Wednesday 23 March 2011] [17:30:24] &lt;mikko&gt;  pull request effectively isn&#8217;t much more than github thing around pulling from other request</div>
<div class="line">[Wednesday 23 March 2011] [17:30:27] &lt;mikko&gt;  yes</div>
<div class="line">[Wednesday 23 March 2011] [17:30:30] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [17:30:45] &lt;mikko&gt;  we could use the underlying mechanism but just make the requests via mailing-list</div>
<div class="line">[Wednesday 23 March 2011] [17:31:09] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [17:31:15] &lt;pieterh&gt;        that&#8217;s what I&#8217;d like to aim for</div>
<div class="line">[Wednesday 23 March 2011] [17:31:55] &lt;pieterh&gt;        precisely this:</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git checkout -b mkoppanen-fix-make-dist master</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git pull <a class="reference external" href="https://github.com/mkoppanen/zeromq2-1.git">https://github.com/mkoppanen/zeromq2-1.git</a> fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git checkout master</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git merge mkoppanen-fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [17:32:06] &lt;pieterh&gt;        to take your last pull request as example</div>
<div class="line">[Wednesday 23 March 2011] [17:33:04] &lt;mikko&gt;  very simple process</div>
<div class="line">[Wednesday 23 March 2011] [17:33:14] &lt;pieterh&gt;        it seems so</div>
<div class="line">[Wednesday 23 March 2011] [17:33:25] &lt;pieterh&gt;        now we just have to convince el sustrik to try it ... :-)</div>
<div class="line">[Wednesday 23 March 2011] [17:35:07] &lt;pieterh&gt;        let me document this quickly on the contributing page...</div>
<div class="line">[Wednesday 23 March 2011] [17:46:27] &lt;Guthur&gt; pieterh, could you quickly take a look at the issue this guy describes <a class="reference external" href="https://github.com/zeromq/clrzmq/issues/11#comment_909819">https://github.com/zeromq/clrzmq/issues/11#comment_909819</a></div>
<div class="line">[Wednesday 23 March 2011] [17:46:37] &lt;pieterh&gt;        Guthur: ack, on it...</div>
<div class="line">[Wednesday 23 March 2011] [17:46:42] &lt;Guthur&gt; Would it be possible it is a slow subscriber issue</div>
<div class="line">[Wednesday 23 March 2011] [17:46:56] &lt;Guthur&gt; I understand there is very little in the way of concrete details</div>
<div class="line">[Wednesday 23 March 2011] [17:47:06] &lt;Guthur&gt; just your gut feeling would be suffice</div>
<div class="line">[Wednesday 23 March 2011] [17:50:17] &lt;pieterh&gt;        Guthur: do you expose the zmq_msg_init_data call in your API?</div>
<div class="line">[Wednesday 23 March 2011] [17:50:49] &lt;pieterh&gt;        gut feeling is he&#8217;s sending stuff that he meanwhile frees</div>
<div class="line">[Wednesday 23 March 2011] [17:53:31] &lt;pieterh&gt;        Guthur: ok, comment added</div>
<div class="line">[Wednesday 23 March 2011] [18:06:30] &lt;Guthur&gt; pieterh, sorry was afk there</div>
<div class="line">[Wednesday 23 March 2011] [18:06:39] &lt;Guthur&gt; my flatmates made some food</div>
<div class="line">[Wednesday 23 March 2011] [18:06:44] &lt;pieterh&gt;        curry?</div>
<div class="line">[Wednesday 23 March 2011] [18:06:52] &lt;Guthur&gt; pizza and pasta</div>
<div class="line">[Wednesday 23 March 2011] [18:07:00] &lt;pieterh&gt;        sounds excellent</div>
<div class="line">[Wednesday 23 March 2011] [18:07:16] &lt;pieterh&gt;        and you seriously still want to discuss 0MQ? :-)</div>
<div class="line">[Wednesday 23 March 2011] [18:07:25] &lt;Guthur&gt; it was</div>
<div class="line">[Wednesday 23 March 2011] [18:07:39] &lt;Guthur&gt; well I knew you might be answer so felt bad leaving so quickly</div>
<div class="line">[Wednesday 23 March 2011] [18:07:39] &lt;pieterh&gt;        hehe</div>
<div class="line">[Wednesday 23 March 2011] [18:07:53] &lt;Guthur&gt; I&#8217;m just about to go back for tea an chocolates</div>
<div class="line">[Wednesday 23 March 2011] [18:08:06] &lt;pieterh&gt;        go for it, I&#8217;m writing some docs</div>
<div class="line">[Wednesday 23 March 2011] [18:08:14] &lt;Guthur&gt; ok, back in a bit</div>
<div class="line">[Wednesday 23 March 2011] [19:31:06] &lt;Guthur&gt; Hi jeckstein, did you raise the issue for clrzmq2 on github</div>
<div class="line">[Wednesday 23 March 2011] [19:31:31] &lt;jeckstein&gt;      yes i did, hi michael</div>
<div class="line">[Wednesday 23 March 2011] [19:31:58] &lt;Guthur&gt; are you using the latest version of clrzmq2 from github?</div>
<div class="line">[Wednesday 23 March 2011] [19:32:01] &lt;jeckstein&gt;      i&#8217;m going to try to come up with a simple scenario to reproduce the error</div>
<div class="line">[Wednesday 23 March 2011] [19:32:26] &lt;Guthur&gt; that would be best</div>
<div class="line">[Wednesday 23 March 2011] [19:32:46] &lt;Guthur&gt; best isolating the issue much easier</div>
<div class="line">[Wednesday 23 March 2011] [19:33:19] &lt;jeckstein&gt;      i&#8217;m not actually, i&#8217;m using the clrzmq2 v2.0.0</div>
<div class="line">[Wednesday 23 March 2011] [19:33:24] &lt;jeckstein&gt;      since you said all it did was add the newer socket options, i didn&#8217;t want to introduce too many new components into my app</div>
<div class="line">[Wednesday 23 March 2011] [19:33:52] &lt;Guthur&gt; jeckstein, there was actually a couple of bug fixes after that</div>
<div class="line">[Wednesday 23 March 2011] [19:34:03] &lt;Guthur&gt; are you using polling?</div>
<div class="line">[Wednesday 23 March 2011] [19:35:06] &lt;jeckstein&gt;      i&#8217;m not setting polling explicitly</div>
<div class="line">[Wednesday 23 March 2011] [19:36:12] &lt;Guthur&gt; ok, best to get some code together so I can run an identical test to try and reproduce the bug</div>
<div class="line">[Wednesday 23 March 2011] [19:37:45] &lt;jeckstein&gt;      ok, I&#8217;ll update my clrzmq2</div>
<div class="line">[Wednesday 23 March 2011] [19:39:49] &lt;jeckstein&gt;      guthur, are you familiar with reading windows memory dump files?</div>
<div class="line">[Wednesday 23 March 2011] [19:40:24] &lt;Guthur&gt; to be honest no</div>
<div class="line">[Wednesday 23 March 2011] [19:41:40] &lt;jeckstein&gt;      no problem, i was able to get the dump but couldn&#8217;t get too much out of it..one thing I did see interesting was that part of the stack trace for the error included 2 back to back calls to zmq_stopwatch_stop</div>
<div class="line">[Wednesday 23 March 2011] [20:05:12] &lt;mikko&gt;  pieterh: did you push the latest make dist fixes?</div>
<div class="line">[Wednesday 23 March 2011] [20:12:46] &lt;Guthur&gt; jeckstein, any success getting a minimal test case?</div>
<div class="line">[Wednesday 23 March 2011] [20:14:11] &lt;jeckstein&gt;      no, its going to take me a little while to do that, i just compiled and loaded the newest clrzmq2 (2.1.0) and am testing it on my application now</div>
<div class="line">[Wednesday 23 March 2011] [20:18:13] &lt;Guthur&gt; ok, cool</div>
<div class="line">[Wednesday 23 March 2011] [20:37:27] &lt;jaten&gt;  hey guys, I&#8217;m getting a core dump in /lib/libpthread.so in the head of the git repos for zeromq, running the first server.cpp example in the Guide. This is on ubuntu 10.10 with /lib/libpthread.so.0 from libc 2.12.1-0ubuntu10.2.  It doesn&#8217;t happen with with the earlier 10.04 with libc 2.11.1-0ubuntu7.8 or 7.7, which has /lib/libpthread.so.0 version  2.11.1.  Is this a known issue?  If not where would I post for assistance/bug report?</div>
<div class="line">[Wednesday 23 March 2011] [20:43:10] &lt;Guthur&gt; jaten, you should probably raise a ticket on github, and maybe fire a description on to the mailing list</div>
<div class="line">[Wednesday 23 March 2011] [21:51:19] &lt;jaten&gt;  Guthur: okay, thanks. I&#8217;ll do that.</div>
<div class="line">[Thursday 24 March 2011] [02:16:22] &lt;ferrouswheel&gt;    is there any support for message priorities or QoS? saw various discussions on the mailing list, but not sure if it eventuated into anything?</div>
<div class="line">[Thursday 24 March 2011] [02:26:25] &lt;sustrik&gt; ad message priorities: no, you have to use different message feeds to get different priorities</div>
<div class="line">[Thursday 24 March 2011] [02:26:33] &lt;sustrik&gt; ad QoS: it can be set on network level</div>
<div class="line">[Thursday 24 March 2011] [02:27:24] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/whitepapers:traffic-monitoring-v20">http://www.zeromq.org/whitepapers:traffic-monitoring-v20</a></div>
<div class="line">[Thursday 24 March 2011] [02:30:11] &lt;ferrouswheel&gt;    sustrik, thanks - that&#8217;s what i suspected</div>
<div class="line">[Thursday 24 March 2011] [02:39:39] &lt;ferrouswheel&gt;    i want to use zeromq for an (initially) inprocess rpc, but would like to decrease the priority of clients that make more requests. I can see various ways to do this, but am curious if a particular design makes more logical sense than others when using zeromq...</div>
<div class="line">[Thursday 24 March 2011] [02:46:38] &lt;sustrik&gt; ferrouswheel: create several REP sockets, one for each priority</div>
<div class="line">[Thursday 24 March 2011] [02:46:57] &lt;sustrik&gt; read requests from high priority sockets first</div>
<div class="line">[Thursday 24 March 2011] [02:47:28] &lt;sustrik&gt; alternatively, you can add priority scheduling to 0mq core directly, which is something that&#8217;s on the roadmap already</div>
<div class="line">[Thursday 24 March 2011] [02:50:08] &lt;ferrouswheel&gt;    sustrik, okay - the async server (fig 47) in the guide also seems appropriate... deciding on which worker to send a client to, depending on the request rate</div>
<div class="line">[Thursday 24 March 2011] [02:50:36] &lt;ferrouswheel&gt;    but i think i&#8217;ll leave 0mq core modifications until i&#8217;ve actually used and understand 0mq better ;-)</div>
<div class="line">[Thursday 24 March 2011] [02:50:44] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [04:28:13] &lt;ianbarber&gt;       fully confused by git. i pulled in changes from the upstream, but it seems to have committed it as a commit, so now if I do a pull req it includes those</div>
<div class="line">[Thursday 24 March 2011] [04:28:30] &lt;ianbarber&gt;       bunch of zguide examples and stuff</div>
<div class="line">[Thursday 24 March 2011] [04:42:06] &lt;Steve-o&gt; hence it&#8217;s called &#8220;git&#8221;</div>
<div class="line">[Thursday 24 March 2011] [04:42:43] &lt;Steve-o&gt; I think it&#8217;s git-rebase for the equivalent of svn update</div>
<div class="line">[Thursday 24 March 2011] [04:43:34] &lt;ianbarber&gt;       ah cool, will have a look</div>
<div class="line">[Thursday 24 March 2011] [05:55:29] &lt;private_meta&gt;    I&#8217;ve got a tcp connection, my client is stopping, but it won&#8217;t quit the program, it hangs at &#8220;return&#8221; in main in mailbox_t::recv(), any idea why?</div>
<div class="line">[Thursday 24 March 2011] [05:56:53] &lt;private_meta&gt;    It hangs there at the termination of the context, although the connection should have been set not to linger (zmq_linger with a value of 0)</div>
<div class="line">[Thursday 24 March 2011] [06:01:41] &lt;pieterh&gt; private_meta: you have a socket open somewhere</div>
<div class="line">[Thursday 24 March 2011] [06:02:38] &lt;pieterh&gt; you have to close every single socket and you have to first set linger to zero on any socket which may still be doing some work (sending, or connecting)</div>
<div class="line">[Thursday 24 March 2011] [06:03:09] &lt;pieterh&gt; this is the rather painful way 2.1 works but it can be fixed in the language binding</div>
<div class="line">[Thursday 24 March 2011] [06:03:51] &lt;private_meta&gt;    pieterh: linger is on zero on EVERY socket that is open, and how can I close the sockets in C++ apart from calling their destructor (which I&#8217;m already doing)?</div>
<div class="line">[Thursday 24 March 2011] [06:04:41] &lt;pieterh&gt; I see two possibilities... either you have forgotten a socket somewhere, or the C++ binding is buggy</div>
<div class="line">[Thursday 24 March 2011] [06:05:46] &lt;private_meta&gt;    let me try something</div>
<div class="line">[Thursday 24 March 2011] [06:05:59] &lt;pieterh&gt; private_meta: I&#8217;ve just checked the C++ binding code and there is an explicit close method</div>
<div class="line">[Thursday 24 March 2011] [06:06:33] &lt;pieterh&gt; which the destructor just wraps</div>
<div class="line">[Thursday 24 March 2011] [06:06:45] &lt;private_meta&gt;    Ah ok... the socket was a pointer in there, and destructor of a pointer isn&#8217;t called implicitly</div>
<div class="line">[Thursday 24 March 2011] [06:06:53] &lt;pieterh&gt; right</div>
<div class="line">[Thursday 24 March 2011] [06:06:59] &lt;private_meta&gt;    only if it&#8217;s a non-pointer object (which I use normally)</div>
<div class="line">[Thursday 24 March 2011] [06:07:47] &lt;pieterh&gt; in zapi, I&#8217;m delingering/closing sockets automatically when the context is destroyed</div>
<div class="line">[Thursday 24 March 2011] [06:07:58] &lt;pieterh&gt; it makes life so much simpler</div>
<div class="line">[Thursday 24 March 2011] [06:08:06] &lt;private_meta&gt;    zapi?</div>
<div class="line">[Thursday 24 March 2011] [06:08:15] &lt;pieterh&gt; the new high-level C API</div>
<div class="line">[Thursday 24 March 2011] [06:08:20] &lt;pieterh&gt; <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Thursday 24 March 2011] [06:09:42] &lt;private_meta&gt;    Well, if the socket object were destroyed that would have been the case, but it wasn&#8217;t</div>
<div class="line">[Thursday 24 March 2011] [06:10:12] &lt;pieterh&gt; Sure, you still need to go set linger to zero on sockets</div>
<div class="line">[Thursday 24 March 2011] [06:11:14]    * pieterh does not like a terminate function that potentially blocks forever</div>
<div class="line">[Thursday 24 March 2011] [06:11:32] &lt;private_meta&gt;    I did some other stuff for a week so I&#8217;m still at translating the guide examples</div>
<div class="line">[Thursday 24 March 2011] [06:11:43] &lt;pieterh&gt; into C++?</div>
<div class="line">[Thursday 24 March 2011] [06:11:46] &lt;private_meta&gt;    yeah</div>
<div class="line">[Thursday 24 March 2011] [06:11:58] &lt;pieterh&gt; was it you who asked about modifying the C++ API?</div>
<div class="line">[Thursday 24 March 2011] [06:12:29] &lt;private_meta&gt;    Well, I asked about using pointers in the C++ binding</div>
<div class="line">[Thursday 24 March 2011] [06:12:42] &lt;private_meta&gt;    and the zmq::version</div>
<div class="line">[Thursday 24 March 2011] [06:12:51] &lt;pieterh&gt; yeah, and that led to thinking about splitting the C++ binding into its own project</div>
<div class="line">[Thursday 24 March 2011] [06:12:55] &lt;private_meta&gt;    Yes</div>
<div class="line">[Thursday 24 March 2011] [06:13:03] &lt;private_meta&gt;    As far as I remember, it did</div>
<div class="line">[Thursday 24 March 2011] [06:13:05] &lt;pieterh&gt; you already translated zhelpers, zmsg, etc. right?</div>
<div class="line">[Thursday 24 March 2011] [06:13:10] &lt;private_meta&gt;    Yes</div>
<div class="line">[Thursday 24 March 2011] [06:13:20] &lt;pieterh&gt; so... I have a small suggestion</div>
<div class="line">[Thursday 24 March 2011] [06:13:27] &lt;pieterh&gt; let&#8217;s make zapi++</div>
<div class="line">[Thursday 24 March 2011] [06:13:28] &lt;private_meta&gt;    I didN&#8217;t get to continue until now, so I&#8217;m at ppworker/ppqueue now</div>
<div class="line">[Thursday 24 March 2011] [06:13:45] &lt;pieterh&gt; zapi basically refactors the zhelpers/zmsg APIs into something neater</div>
<div class="line">[Thursday 24 March 2011] [06:15:31] &lt;private_meta&gt;    Sounds ok, but I&#8217;d recommend not using pointers in function parameters</div>
<div class="line">[Thursday 24 March 2011] [06:15:37] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [06:16:20] &lt;pieterh&gt; so the thing here is that I&#8217;m going to migrate the C examples onto zapi</div>
<div class="line">[Thursday 24 March 2011] [06:16:28] &lt;pieterh&gt; maybe not all, but the more complex ones, in any case</div>
<div class="line">[Thursday 24 March 2011] [06:17:52] &lt;pieterh&gt; since you know the zhelpers/zmsg API well, would you take a look at zapi?</div>
<div class="line">[Thursday 24 March 2011] [06:18:22] &lt;private_meta&gt;    sure</div>
<div class="line">[Thursday 24 March 2011] [06:18:42] &lt;pieterh&gt; it&#8217;d be really useful to get your design of a C++ binding at the same level</div>
<div class="line">[Thursday 24 March 2011] [06:18:44] &lt;private_meta&gt;    but right now I need to fix this (somewhat) small ppworker problem I have, it doesn&#8217;t get a connection</div>
<div class="line">[Thursday 24 March 2011] [06:19:11] &lt;pieterh&gt; if you need a hand, shout, I&#8217;m happy to help debug code</div>
<div class="line">[Thursday 24 March 2011] [06:19:27] &lt;pieterh&gt; paranoid pirates :-)</div>
<div class="line">[Thursday 24 March 2011] [06:20:16] &lt;private_meta&gt;    Apparently you dislike curly brackets in example code</div>
<div class="line">[Thursday 24 March 2011] [06:20:25] &lt;pieterh&gt; I use them only where needed</div>
<div class="line">[Thursday 24 March 2011] [06:20:39] &lt;pieterh&gt; code minimalism is kind of a style with me</div>
<div class="line">[Thursday 24 March 2011] [06:20:40] &lt;private_meta&gt;    Every programming teacher tells you to not do that ;)</div>
<div class="line">[Thursday 24 March 2011] [06:20:48] &lt;pieterh&gt; that&#8217;s why they&#8217;re teachers</div>
<div class="line">[Thursday 24 March 2011] [06:20:52] &lt;pieterh&gt; not programmers</div>
<div class="line">[Thursday 24 March 2011] [06:20:54] &lt;private_meta&gt;    It destroys readability</div>
<div class="line">[Thursday 24 March 2011] [06:21:03] &lt;pieterh&gt; there&#8217;s only one way to learn how to program</div>
<div class="line">[Thursday 24 March 2011] [06:21:20] &lt;pieterh&gt; to quote Zed Shaw, by &#8220;programming, motherfucker&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:21:26] &lt;private_meta&gt;    Oh, I tend to agree with them, and many programming teachers we have here had huge programming projects already</div>
<div class="line">[Thursday 24 March 2011] [06:21:59] &lt;pieterh&gt; so you mean for example an if statement with only one line, no braces?</div>
<div class="line">[Thursday 24 March 2011] [06:22:02] &lt;private_meta&gt;    You add one line to an if statement, tend to forget you didn&#8217;t have brackets</div>
<div class="line">[Thursday 24 March 2011] [06:22:16] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [06:23:05] &lt;pieterh&gt; then this is one of my bad habits, removing braces when they&#8217;re not needed</div>
<div class="line">[Thursday 24 March 2011] [06:23:06] &lt;private_meta&gt;    Code shouldn&#8217;t be hard to read, especially if adding brackets doesn&#8217;t change the compiled results</div>
<div class="line">[Thursday 24 March 2011] [06:23:24] &lt;pieterh&gt; readability comes only from consistency, adding or removing brackets doesn&#8217;t affect it IMO</div>
<div class="line">[Thursday 24 March 2011] [06:23:40] &lt;pieterh&gt; however, if you want, go through all my examples and add brackets</div>
<div class="line">[Thursday 24 March 2011] [06:23:45] &lt;private_meta&gt;    Consistency also means you use brackets, so use them everywhere :)</div>
<div class="line">[Thursday 24 March 2011] [06:23:46] &lt;pieterh&gt; my only rule is 100% consistency, really</div>
<div class="line">[Thursday 24 March 2011] [06:24:00] &lt;pieterh&gt; I consistently don&#8217;t use them when I can avoid them</div>
<div class="line">[Thursday 24 March 2011] [06:24:19] &lt;pieterh&gt; it creates extra lines that do nothing, grouping a single line is pointless IMO</div>
<div class="line">[Thursday 24 March 2011] [06:24:42] &lt;private_meta&gt;    sure, it seems pointless if you like minimalism</div>
<div class="line">[Thursday 24 March 2011] [06:24:47] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [06:24:50] &lt;pieterh&gt; which I really do</div>
<div class="line">[Thursday 24 March 2011] [06:25:06] &lt;pieterh&gt; functional minimalism, of course, so using clear names, blank space, etc.</div>
<div class="line">[Thursday 24 March 2011] [06:25:32] &lt;pieterh&gt; but it is probably just a bad habit... :-)</div>
<div class="line">[Thursday 24 March 2011] [06:25:43] &lt;private_meta&gt;    I mean, using &#8220;cond ? statem1 : statem2&#8221; would be minimalistic</div>
<div class="line">[Thursday 24 March 2011] [06:25:52] &lt;pieterh&gt; yes, but unreadable in practice</div>
<div class="line">[Thursday 24 March 2011] [06:25:56] &lt;private_meta&gt;    still you should only do it in very special cases, &#8216;cause mostly it&#8217;s unreadable</div>
<div class="line">[Thursday 24 March 2011] [06:26:00] &lt;pieterh&gt; I do that in some cases when it&#8217;s obvious</div>
<div class="line">[Thursday 24 March 2011] [06:26:04] &lt;private_meta&gt;    yes</div>
<div class="line">[Thursday 24 March 2011] [06:26:16] &lt;pieterh&gt; the test over time is whether you can easily reuse code</div>
<div class="line">[Thursday 24 March 2011] [06:26:33] &lt;pieterh&gt; I was able to put together 3K lines of code in zapi, fully tested and documented, in 1 day</div>
<div class="line">[Thursday 24 March 2011] [06:26:53] &lt;private_meta&gt;    by the way, is it your style to put the opening bracket on functions in the next line, but the opening brackt of ifs and elses on the same?</div>
<div class="line">[Thursday 24 March 2011] [06:27:23] &lt;pieterh&gt; yes, this is historic, we reused the GNU style for functions but our own style for statements</div>
<div class="line">[Thursday 24 March 2011] [06:27:28] &lt;private_meta&gt;    yeah, you used that argument already with a simple text editor and printf debugging, but that still didn&#8217;t make me use that</div>
<div class="line">[Thursday 24 March 2011] [06:27:45] &lt;pieterh&gt; I debug zapi using printfs and valgrind</div>
<div class="line">[Thursday 24 March 2011] [06:27:52] &lt;pieterh&gt; it&#8217;s extraordinarily effective</div>
<div class="line">[Thursday 24 March 2011] [06:28:33] &lt;private_meta&gt;    not for me :)</div>
<div class="line">[Thursday 24 March 2011] [06:28:35] &lt;pieterh&gt; I&#8217;m actually shocked at being able to write masses of C code and then hammer it into shape with brute force, and it works as designed</div>
<div class="line">[Thursday 24 March 2011] [06:29:02] &lt;pieterh&gt; trick is to start with the API, and tests, and then implement &amp; test small pieces at a time</div>
<div class="line">[Thursday 24 March 2011] [06:29:49] &lt;pieterh&gt; presumably C++ eliminates a lot of the pointer errors we make in C</div>
<div class="line">[Thursday 24 March 2011] [06:30:17] &lt;pieterh&gt; anyhow, if zapi++ takes off, you can impose your style on that :-)</div>
<div class="line">[Thursday 24 March 2011] [06:30:40] &lt;private_meta&gt;    hmm</div>
<div class="line">[Thursday 24 March 2011] [06:31:18] &lt;private_meta&gt;    I&#8217;ve got a weird error in ppqueue that doesn&#8217;t let lpclient connect</div>
<div class="line">[Thursday 24 March 2011] [06:31:38] &lt;pieterh&gt; can you paste the code somewhere?</div>
<div class="line">[Thursday 24 March 2011] [06:31:48] &lt;private_meta&gt;    sec</div>
<div class="line">[Thursday 24 March 2011] [06:34:24] &lt;private_meta&gt;    Well, I don&#8217;t quite see where the error is exactly... If I use the c version of ppqueue and ppworker, lpclient works fine</div>
<div class="line">[Thursday 24 March 2011] [06:34:42] &lt;private_meta&gt;    <a class="reference external" href="https://gist.github.com/5f6a4b0a41981a66d99f">https://gist.github.com/5f6a4b0a41981a66d99f</a> <a class="reference external" href="https://gist.github.com/0d7456f199b546ffe5e9">https://gist.github.com/0d7456f199b546ffe5e9</a> <a class="reference external" href="https://gist.github.com/253bc2038df7d9b3ba00">https://gist.github.com/253bc2038df7d9b3ba00</a></div>
<div class="line">[Thursday 24 March 2011] [06:34:54] &lt;pieterh&gt; you can put multiple files into one gist BTW</div>
<div class="line">[Thursday 24 March 2011] [06:35:27] &lt;private_meta&gt;    files, yeah, but I wasn&#8217;t logged in at my virtual machine in gist</div>
<div class="line">[Thursday 24 March 2011] [06:35:33] &lt;private_meta&gt;    so I didn&#8217;t have my files here</div>
<div class="line">[Thursday 24 March 2011] [06:35:50] &lt;pieterh&gt; so ppqueue doesn&#8217;t poll the client at all, unless there are workers, that&#8217;s the first thing</div>
<div class="line">[Thursday 24 March 2011] [06:36:49] &lt;pieterh&gt; code looks nice, very neat...</div>
<div class="line">[Thursday 24 March 2011] [06:37:18] &lt;private_meta&gt;    My test setup is starting ppqueue, 1 ppworker, 1 lpclient</div>
<div class="line">[Thursday 24 March 2011] [06:37:21] &lt;pieterh&gt; have you already traced activity by putting in msg.dump() all over the place?</div>
<div class="line">[Thursday 24 March 2011] [06:37:29] &lt;private_meta&gt;    ppworker uses heartbeats</div>
<div class="line">[Thursday 24 March 2011] [06:37:32] &lt;private_meta&gt;    but lpclient can&#8217;t connect</div>
<div class="line">[Thursday 24 March 2011] [06:37:48] &lt;pieterh&gt; &#8216;can&#8217;t connect&#8217; means &#8216;does not get a reply within X seconds&#8217;</div>
<div class="line">[Thursday 24 March 2011] [06:37:53] &lt;private_meta&gt;    sec</div>
<div class="line">[Thursday 24 March 2011] [06:37:54] &lt;pieterh&gt; so you need to trace activity in the queue</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    W: no response from server, retrying...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:10] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [06:38:14] &lt;pieterh&gt; that can mean anything</div>
<div class="line">[Thursday 24 March 2011] [06:38:20] &lt;pieterh&gt; it&#8217;s not really a connection failure</div>
<div class="line">[Thursday 24 March 2011] [06:38:32] &lt;Guthur&gt;  that could be seem behaviour I experience with teh default timeout</div>
<div class="line">[Thursday 24 March 2011] [06:38:51] &lt;Guthur&gt;  It was too aggressive in it&#8217;s timeout</div>
<div class="line">[Thursday 24 March 2011] [06:39:06] &lt;Guthur&gt;  relaxing the intervals helped</div>
<div class="line">[Thursday 24 March 2011] [06:39:12] &lt;pieterh&gt; Guthur: good memory...!</div>
<div class="line">[Thursday 24 March 2011] [06:39:18] &lt;private_meta&gt;    if I&#8217;m using ppworker and ppqueue in the c version, lpclient doesn&#8217;t receive timeouts or anything</div>
<div class="line">[Thursday 24 March 2011] [06:39:26] &lt;pieterh&gt; I fixed this in the C code, hang on, let me check...</div>
<div class="line">[Thursday 24 March 2011] [06:39:56] &lt;Guthur&gt;  pieterh: it had me scratching my head long enough that I have deep grove to remind me, hehe</div>
<div class="line">[Thursday 24 March 2011] [06:40:14] &lt;Guthur&gt;  groove*</div>
<div class="line">[Thursday 24 March 2011] [06:40:48] &lt;private_meta&gt;    by the way, using the c++ client takes way more time than the c client</div>
<div class="line">[Thursday 24 March 2011] [06:41:27] &lt;pieterh&gt; Guthur: it was in the ppworker when it simulated a CPU overload, that was always more than the client&#8217;s full timeout</div>
<div class="line">[Thursday 24 March 2011] [06:41:33] &lt;private_meta&gt;    meaning, using c queue and worker normally, then alternating between lpclient for c and c++, the c version is way faster</div>
<div class="line">[Thursday 24 March 2011] [06:41:46] &lt;pieterh&gt; private_meta: weird, that&#8217;s not expected</div>
<div class="line">[Thursday 24 March 2011] [06:42:20] &lt;pieterh&gt; sounds like a timer problem of some kind</div>
<div class="line">[Thursday 24 March 2011] [06:42:43] &lt;pieterh&gt; there should be no measurable (let alone visible) difference between the two</div>
<div class="line">[Thursday 24 March 2011] [06:43:02] &lt;pieterh&gt; private_meta: so please add msg.dump on everything the broker recvs and sends, that&#8217;s step 1</div>
<div class="line">[Thursday 24 March 2011] [06:45:12] &lt;private_meta&gt;    k, receiving is always done in the zmsg constructor, so I&#8217;ll add the dump there. should I paste the output of ppqueue?</div>
<div class="line">[Thursday 24 March 2011] [06:45:30] &lt;pieterh&gt; sounds good</div>
<div class="line">[Thursday 24 March 2011] [06:45:42] &lt;pieterh&gt; that will show us what the client is sending</div>
<div class="line">[Thursday 24 March 2011] [06:46:14] &lt;private_meta&gt;    Should I also dump messages in worker and client or just queue for now?</div>
<div class="line">[Thursday 24 March 2011] [06:46:15] &lt;pieterh&gt; then we also want to see what ppqueue is sending</div>
<div class="line">[Thursday 24 March 2011] [06:46:22] &lt;pieterh&gt; start with queue</div>
<div class="line">[Thursday 24 March 2011] [06:46:26] &lt;private_meta&gt;    k</div>
<div class="line">[Thursday 24 March 2011] [06:46:31] &lt;pieterh&gt; presumably there&#8217;s a problem between queue and worker</div>
<div class="line">[Thursday 24 March 2011] [06:46:34] &lt;pieterh&gt; so next, worker</div>
<div class="line">[Thursday 24 March 2011] [06:51:25] &lt;private_meta&gt;    argh</div>
<div class="line">[Thursday 24 March 2011] [06:51:32] &lt;private_meta&gt;    how do I redirect output AND stderror to file?</div>
<div class="line">[Thursday 24 March 2011] [06:51:54] &lt;pieterh&gt; myprog &gt; err.log 2&gt;&amp;1</div>
<div class="line">[Thursday 24 March 2011] [06:52:50] &lt;private_meta&gt;    &#8220;Aborted&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:53:10] &lt;private_meta&gt;    ah ok now</div>
<div class="line">[Thursday 24 March 2011] [06:53:44] &lt;private_meta&gt;    argh</div>
<div class="line">[Thursday 24 March 2011] [06:54:22] &lt;pieterh&gt; sounds positive... :-)</div>
<div class="line">[Thursday 24 March 2011] [06:54:34] &lt;pieterh&gt; or else you&#8217;re at the dentist... &#8220;open wider, please!&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:54:48] &lt;ianbarber&gt;       pieterh: sent a pull req for the zguide, noticed that it was notifying sustrik though, which seems probably incorrect</div>
<div class="line">[Thursday 24 March 2011] [06:55:04] &lt;private_meta&gt;    no, that didn&#8217;t redirect everything</div>
<div class="line">[Thursday 24 March 2011] [06:55:35] &lt;pieterh&gt; ianbarber: weird, but presumably he&#8217;s a watcher of that repo?</div>
<div class="line">[Thursday 24 March 2011] [06:55:54] &lt;private_meta&gt;    ok, screw it, I&#8217;ll just copy from console if that doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [06:57:18] &lt;private_meta&gt;    pieterh: <a class="reference external" href="https://gist.github.com/2a9823bb9163202ec026">https://gist.github.com/2a9823bb9163202ec026</a></div>
<div class="line">[Thursday 24 March 2011] [06:57:57] &lt;private_meta&gt;    pieterh: that&#8217;s the log from starting ppworker till disconnecting (killing) ppworker</div>
<div class="line">[Thursday 24 March 2011] [06:58:10] &lt;private_meta&gt;    in the middle, I started lpclient and it terminated by itself</div>
<div class="line">[Thursday 24 March 2011] [06:58:18] &lt;pieterh&gt; ianbarber: got them, thanks!</div>
<div class="line">[Thursday 24 March 2011] [06:58:24] &lt;pieterh&gt; private_meta: ok, reading that...</div>
<div class="line">[Thursday 24 March 2011] [06:59:12] &lt;pieterh&gt; private_meta: I assume it should say &#8216;after recv&#8217; not &#8216;before recv&#8217;...</div>
<div class="line">[Thursday 24 March 2011] [06:59:23] &lt;private_meta&gt;    ah yes</div>
<div class="line">[Thursday 24 March 2011] [06:59:30] &lt;pieterh&gt; so you have a bug in the worker</div>
<div class="line">[Thursday 24 March 2011] [06:59:40] &lt;pieterh&gt; try running your queue, your client, my worker</div>
<div class="line">[Thursday 24 March 2011] [07:00:29] &lt;pieterh&gt; I&#8217;ll let you figure out what the error is, it&#8217;s clear from the trace</div>
<div class="line">[Thursday 24 March 2011] [07:00:37] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [07:00:50] &lt;private_meta&gt;    Doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [07:00:58] &lt;private_meta&gt;    same error</div>
<div class="line">[Thursday 24 March 2011] [07:01:20] &lt;pieterh&gt; that&#8217;s unpossible! :-)</div>
<div class="line">[Thursday 24 March 2011] [07:01:41] &lt;pieterh&gt; ok, try my worker, my client, your queue...</div>
<div class="line">[Thursday 24 March 2011] [07:02:06] &lt;pieterh&gt; hang on, that&#8217;s just the same, sorry...</div>
<div class="line">[Thursday 24 March 2011] [07:02:25] &lt;pieterh&gt; your worker, my queue, your client...</div>
<div class="line">[Thursday 24 March 2011] [07:03:00] &lt;pieterh&gt; the error shows on lines 32-41</div>
<div class="line">[Thursday 24 March 2011] [07:03:01] &lt;private_meta&gt;    should be the same, let me check (i think i tried that already)</div>
<div class="line">[Thursday 24 March 2011] [07:03:33] &lt;private_meta&gt;    No, doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [07:04:00] &lt;private_meta&gt;    sec, gotta fetch a delivery, bb in 5 minutes or so</div>
<div class="line">[Thursday 24 March 2011] [07:04:03] &lt;pieterh&gt; then you have a problem in BOTH your worker and your queue, perhaps because it&#8217;s in the msg class</div>
<div class="line">[Thursday 24 March 2011] [07:04:09] &lt;pieterh&gt; cyl, then</div>
<div class="line">[Thursday 24 March 2011] [07:08:07] &lt;private_meta&gt;    i hope this time the tablet pc is alright</div>
<div class="line">[Thursday 24 March 2011] [07:08:20] &lt;private_meta&gt;    pieterh: ok, then what might be the problem in the zmsg class? any idea?</div>
<div class="line">[Thursday 24 March 2011] [07:08:36] &lt;pieterh&gt; private_meta: look at lines 32-41 of your trace</div>
<div class="line">[Thursday 24 March 2011] [07:08:51] &lt;pieterh&gt; the worker sends back (or the queue wrongly receives) the worker address twice</div>
<div class="line">[Thursday 24 March 2011] [07:09:01] &lt;pieterh&gt; when it should be worker address, then original client address</div>
<div class="line">[Thursday 24 March 2011] [07:09:14] &lt;pieterh&gt; thus the reply to the client gets sent back to the worker instead</div>
<div class="line">[Thursday 24 March 2011] [07:09:28] &lt;private_meta&gt;    hmm</div>
<div class="line">[Thursday 24 March 2011] [07:09:55] &lt;pieterh&gt; you see the wrong addresses, right?</div>
<div class="line">[Thursday 24 March 2011] [07:10:04] &lt;private_meta&gt;    yes</div>
<div class="line">[Thursday 24 March 2011] [07:10:33] &lt;pieterh&gt; this is kind of standard when using envelopes, they are tricky to get right</div>
<div class="line">[Thursday 24 March 2011] [07:11:10] &lt;pieterh&gt; you can now add printfs to msg where it&#8217;s recving and sending frames</div>
<div class="line">[Thursday 24 March 2011] [07:11:27] &lt;private_meta&gt;    So this might be a problem the selftest didn&#8217;t catch?</div>
<div class="line">[Thursday 24 March 2011] [07:11:31] &lt;pieterh&gt; for sure</div>
<div class="line">[Thursday 24 March 2011] [07:12:33] &lt;pieterh&gt; hmm, there is a unit test for this but it&#8217;s not double-checking every frame</div>
<div class="line">[Thursday 24 March 2011] [07:12:38] &lt;pieterh&gt; could improve that</div>
<div class="line">[Thursday 24 March 2011] [07:13:02] &lt;private_meta&gt;    ah goddammit, i need to fetch a usb dvd drive again...</div>
<div class="line">[Thursday 24 March 2011] [07:13:05] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [07:13:26] &lt;private_meta&gt;    well, hp guys didn&#8217;t think it would be a good idea to install a 64bit operating system on their latest notebooks</div>
<div class="line">[Thursday 24 March 2011] [07:13:41] &lt;pieterh&gt; 32 bits should be enough for anyone</div>
<div class="line">[Thursday 24 March 2011] [07:13:50] &lt;pieterh&gt; maybe it&#8217;s a subtle hint to install Ubuntu...</div>
<div class="line">[Thursday 24 March 2011] [07:14:16] &lt;private_meta&gt;    No, I can&#8217;t use Linux in everyday life, creates too many problems</div>
<div class="line">[Thursday 24 March 2011] [07:14:24] &lt;private_meta&gt;    (Murphies Law and everything)</div>
<div class="line">[Thursday 24 March 2011] [07:14:35] &lt;pieterh&gt; my sympathies...</div>
<div class="line">[Thursday 24 March 2011] [07:15:19] &lt;private_meta&gt;    Everytime I tried to use something on Linux for personal use, it failed in a way that wasn&#8217;t fixable</div>
<div class="line">[Thursday 24 March 2011] [07:15:47] &lt;pieterh&gt; weird, I&#8217;ve been using Linux for 10+ years and it&#8217;s irreplaceable for me</div>
<div class="line">[Thursday 24 March 2011] [07:15:56] &lt;private_meta&gt;    I&#8217;ve been using Linux for that long as well, but I can&#8217;t use it as a primary system</div>
<div class="line">[Thursday 24 March 2011] [07:16:08] &lt;private_meta&gt;    apart from that, as a gamer I need Windows anyway</div>
<div class="line">[Thursday 24 March 2011] [07:16:12] &lt;pieterh&gt; 10+ years for primary personal use, since early 1990&#8217;s for work</div>
<div class="line">[Thursday 24 March 2011] [07:16:27] &lt;pieterh&gt; ah, games</div>
<div class="line">[Thursday 24 March 2011] [07:16:49] &lt;private_meta&gt;    Well, some like it, others don&#8217;t, I tend to be someone fond of games :)</div>
<div class="line">[Thursday 24 March 2011] [07:17:11] &lt;private_meta&gt;    But it&#8217;s not like playing games is the only reason ;)</div>
<div class="line">[Thursday 24 March 2011] [07:17:48] &lt;pieterh&gt; are any game engines using 0MQ yet, I wonder...</div>
<div class="line">[Thursday 24 March 2011] [07:18:11] &lt;pieterh&gt; &#8220;shoots 4M bullets per second!!!&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:27:23] &lt;mikko-_&gt; mato</div>
<div class="line">[Thursday 24 March 2011] [07:27:25] &lt;mikko-_&gt; there?</div>
<div class="line">[Thursday 24 March 2011] [07:27:44] &lt;mikko-_&gt; pieterh: you remember ben from zeromq london meetup?</div>
<div class="line">[Thursday 24 March 2011] [07:27:50] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [07:27:55] &lt;mikko-_&gt; he works in gaming industry</div>
<div class="line">[Thursday 24 March 2011] [07:28:12] &lt;pieterh&gt; right, he was &#8220;putting 0MQ everywhere&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:28:27] &lt;mikko-_&gt; you could pry from him on which games he works on</div>
<div class="line">[Thursday 24 March 2011] [07:28:35] &lt;pieterh&gt; nah, I don&#8217;t really care :-)</div>
<div class="line">[Thursday 24 March 2011] [07:28:59] &lt;ianbarber&gt;       his latest, total war shogun 2 is out now! i&#8217;m sure he&#8217;d support your purchasing :)</div>
<div class="line">[Thursday 24 March 2011] [07:29:05] &lt;pieterh&gt; I used to write games but don&#8217;t play them</div>
<div class="line">[Thursday 24 March 2011] [07:29:21] &lt;Guthur&gt;  I really liked the total war series</div>
<div class="line">[Thursday 24 March 2011] [07:29:29] &lt;Guthur&gt;  don&#8217;t game much anymore though</div>
<div class="line">[Thursday 24 March 2011] [07:30:14] &lt;ianbarber&gt;       shogun 2 is actually quite a lot of fun. i&#8217;m all mac everywhere now though, and they&#8217;re windows only though</div>
<div class="line">[Thursday 24 March 2011] [07:30:16] &lt;Guthur&gt;  no time these days unfortunately</div>
<div class="line">[Thursday 24 March 2011] [07:31:46] &lt;ianbarber&gt;       i think it would be very beneficial for engines though, everyone has to deal with many cores these days</div>
<div class="line">[Thursday 24 March 2011] [07:32:09] &lt;ianbarber&gt;       x360 is what, 6? ps3 7. and most decent desktops are at least 4</div>
<div class="line">[Thursday 24 March 2011] [07:32:10] &lt;pieterh&gt; I recall people asking about this ages ago, when 0MQ was 0.something</div>
<div class="line">[Thursday 24 March 2011] [07:45:20] &lt;pieterh&gt; mikko-_: you got a second?</div>
<div class="line">[Thursday 24 March 2011] [07:48:35] &lt;mikko-_&gt; pieterh: yes</div>
<div class="line">[Thursday 24 March 2011] [07:49:09] &lt;pieterh&gt; I&#8217;d like to start on a new phase of the zmq packaging</div>
<div class="line">[Thursday 24 March 2011] [07:49:26] &lt;pieterh&gt; that is, start including other parts of the community into &#8220;ZeroMQ/x.y&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:49:36] &lt;pieterh&gt; 2.1 is libzmq and libpgm</div>
<div class="line">[Thursday 24 March 2011] [07:50:11] &lt;pieterh&gt; I&#8217;m thinking 2.2 will be libzmq, libpgm, libzapi, and maybe one or two other language bindings</div>
<div class="line">[Thursday 24 March 2011] [07:51:40] &lt;pieterh&gt; any thoughts on that? libzapi uses autotools, should be simple</div>
<div class="line">[Thursday 24 March 2011] [07:53:31] &lt;sustrik&gt; given that it&#8217;s exactly 1 day old, it sound a bit premature to include it into stable</div>
<div class="line">[Thursday 24 March 2011] [07:53:42] &lt;pieterh&gt; sustrik: that&#8217;s why I said 2.2...</div>
<div class="line">[Thursday 24 March 2011] [07:53:48] &lt;sustrik&gt; ah, ok</div>
<div class="line">[Thursday 24 March 2011] [07:53:54] &lt;pieterh&gt; :-) indeed, it&#8217;s not ready for stable</div>
<div class="line">[Thursday 24 March 2011] [07:54:16] &lt;pieterh&gt; it strikes me that libpgm integration doesn&#8217;t have to be a special case</div>
<div class="line">[Thursday 24 March 2011] [07:55:32] &lt;pieterh&gt; sustrik: btw, I used inproc pipes to create a lockfree object, as you do inside core</div>
<div class="line">[Thursday 24 March 2011] [07:55:52] &lt;pieterh&gt; it&#8217;s tricky because the object is actually the context wrapper, but it&#8217;s really neat otherwise</div>
<div class="line">[Thursday 24 March 2011] [07:58:38] &lt;mikko-_&gt; hmm</div>
<div class="line">[Thursday 24 March 2011] [07:58:51] &lt;mikko-_&gt; pieter: you mean into same package?</div>
<div class="line">[Thursday 24 March 2011] [07:59:01] &lt;pieterh&gt; yes, I mean expand the scope of the download</div>
<div class="line">[Thursday 24 March 2011] [07:59:08] &lt;mikko-_&gt; distros like if you keep things separate</div>
<div class="line">[Thursday 24 March 2011] [07:59:18] &lt;pieterh&gt; different issue</div>
<div class="line">[Thursday 24 March 2011] [07:59:24] &lt;pieterh&gt; distros can repackage individual libraries</div>
<div class="line">[Thursday 24 March 2011] [07:59:33] &lt;pieterh&gt; users like getting one package</div>
<div class="line">[Thursday 24 March 2011] [07:59:47] &lt;pieterh&gt; imagine having to download &amp; build libpgm separately</div>
<div class="line">[Thursday 24 March 2011] [07:59:58] &lt;mikko-_&gt; thats what i would normally expect to do</div>
<div class="line">[Thursday 24 March 2011] [08:00:01] &lt;mikko-_&gt; :)</div>
<div class="line">[Thursday 24 March 2011] [08:00:10] &lt;mikko-_&gt; install dependencies before the software</div>
<div class="line">[Thursday 24 March 2011] [08:00:13] &lt;pieterh&gt; yes, but you&#8217;re a developer not a sysadmin</div>
<div class="line">[Thursday 24 March 2011] [08:00:48] &lt;mikko-_&gt; from sysadmin pov i would package rpm and install the packages that are defined in &#8220;BuildRequires&#8221; stanza</div>
<div class="line">[Thursday 24 March 2011] [08:00:58] &lt;mikko-_&gt; assuming everything is available as rpm</div>
<div class="line">[Thursday 24 March 2011] [08:00:59] &lt;pieterh&gt; we can still publish minimal packages for distros</div>
<div class="line">[Thursday 24 March 2011] [08:01:13] &lt;mikko-_&gt; do you want these to be built together as well?</div>
<div class="line">[Thursday 24 March 2011] [08:01:18] &lt;mikko-_&gt; or just packaged together?</div>
<div class="line">[Thursday 24 March 2011] [08:01:28] &lt;pieterh&gt; well, there are two main reasons for packaging together</div>
<div class="line">[Thursday 24 March 2011] [08:01:43] &lt;pieterh&gt; a. convenience for installing</div>
<div class="line">[Thursday 24 March 2011] [08:01:50] &lt;pieterh&gt; b. tested as a single unit</div>
<div class="line">[Thursday 24 March 2011] [08:02:04] &lt;pieterh&gt; so for b, yes, we&#8217;d also build/test the collection</div>
<div class="line">[Thursday 24 March 2011] [08:02:14] &lt;pieterh&gt; as we would do for libpgm, it&#8217;s exactly the same</div>
<div class="line">[Thursday 24 March 2011] [08:02:43] &lt;pieterh&gt; otherwise 0MQ cannot scale</div>
<div class="line">[Thursday 24 March 2011] [08:03:10] &lt;mikko-_&gt; where do you draw the line what should be packaged?</div>
<div class="line">[Thursday 24 March 2011] [08:03:16] &lt;mikko-_&gt; should all language bindings be bundled?</div>
<div class="line">[Thursday 24 March 2011] [08:03:21] &lt;pieterh&gt; well, I don&#8217;t draw a line as such</div>
<div class="line">[Thursday 24 March 2011] [08:03:21] &lt;mikko-_&gt; what about devices?</div>
<div class="line">[Thursday 24 March 2011] [08:03:40] &lt;pieterh&gt; what I&#8217;d do is do this step by step and stop when it&#8217;s no longer worth going further</div>
<div class="line">[Thursday 24 March 2011] [08:03:52] &lt;pieterh&gt; imagine there&#8217;s a separate project with overall tests</div>
<div class="line">[Thursday 24 March 2011] [08:03:56] &lt;pieterh&gt; I&#8217;d probably package that</div>
<div class="line">[Thursday 24 March 2011] [08:04:10] &lt;pieterh&gt; I&#8217;d probably package all available documentation</div>
<div class="line">[Thursday 24 March 2011] [08:04:31] &lt;pieterh&gt; but gradually, otherwise it&#8217;s indigestable</div>
<div class="line">[Thursday 24 March 2011] [08:05:21] &lt;pieterh&gt; this also makes it easier to e.g. make a Windows kit, it&#8217;s the same set of packages with a MSI frontend</div>
<div class="line">[Thursday 24 March 2011] [08:06:08] &lt;pieterh&gt; so the release repositories are where this happens, presumably using submodules</div>
<div class="line">[Thursday 24 March 2011] [08:07:17] &lt;pieterh&gt; this also gives project developers something to aim at</div>
<div class="line">[Thursday 24 March 2011] [08:07:24] &lt;Guthur&gt;  I have to admit that I would take a similar point of view as mikko</div>
<div class="line">[Thursday 24 March 2011] [08:07:39] &lt;pieterh&gt; many people will, for sure</div>
<div class="line">[Thursday 24 March 2011] [08:07:55] &lt;Guthur&gt;  I have a similar decision to make with clrzmq2</div>
<div class="line">[Thursday 24 March 2011] [08:08:23] &lt;pieterh&gt; if you actually look at the process of getting 0MQ working with language XYZ, it&#8217;s often a real pain</div>
<div class="line">[Thursday 24 March 2011] [08:08:27] &lt;Guthur&gt;  prepackaging libzmq.dll would allow the binding to seamlessly support 32/64 bit environment</div>
<div class="line">[Thursday 24 March 2011] [08:08:33] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [08:08:53] &lt;Guthur&gt;  but I would rather have the users get the libzmq straight from the &#8216;golden&#8217; source</div>
<div class="line">[Thursday 24 March 2011] [08:09:07] &lt;pieterh&gt; If I download 0MQ for Windows I&#8217;d expect to get clrzmq2 included</div>
<div class="line">[Thursday 24 March 2011] [08:09:15] &lt;Guthur&gt;  so bug fixes etc can be propagated</div>
<div class="line">[Thursday 24 March 2011] [08:09:20] &lt;pieterh&gt; well, as an option</div>
<div class="line">[Thursday 24 March 2011] [08:09:33] &lt;pieterh&gt; but mostly, it&#8217;s asking users to do extra work</div>
<div class="line">[Thursday 24 March 2011] [08:09:50] &lt;pieterh&gt; that always eliminates a large chunk of users</div>
<div class="line">[Thursday 24 March 2011] [08:10:04] &lt;Guthur&gt;  yeah, I&#8217;m aware I maybe be falling into the worse is better mind set</div>
<div class="line">[Thursday 24 March 2011] [08:10:55] &lt;pieterh&gt; people who don&#8217;t (yet) have an emotional connection to a project simply won&#8217;t tolerate pain to start using it</div>
<div class="line">[Thursday 24 March 2011] [08:11:09] &lt;pieterh&gt; it has to be really, really simple to &#8220;get&#8221; 0MQ</div>
<div class="line">[Thursday 24 March 2011] [08:11:22] &lt;pieterh&gt; after that, it can become more and more complex, that&#8217;s fine</div>
<div class="line">[Thursday 24 March 2011] [08:11:56] &lt;pieterh&gt; but the first taste must not be complex or difficult</div>
<div class="line">[Thursday 24 March 2011] [08:12:22] &lt;pieterh&gt; IMHO</div>
<div class="line">[Thursday 24 March 2011] [08:12:38] &lt;Guthur&gt;  sure, someone is actually looking to contribute something to clrzmq2 to improve the 32/64 bit issue</div>
<div class="line">[Thursday 24 March 2011] [08:12:55] &lt;Guthur&gt;  that issue would even more simply removed by prepackaging</div>
<div class="line">[Thursday 24 March 2011] [08:13:11] &lt;pieterh&gt; so let&#8217;s look at making a Windows package?</div>
<div class="line">[Thursday 24 March 2011] [08:13:27] &lt;pieterh&gt; libzmq+clrzmq2+libzapi</div>
<div class="line">[Thursday 24 March 2011] [08:13:41] &lt;pieterh&gt; +libpgm</div>
<div class="line">[Thursday 24 March 2011] [08:14:08] &lt;Guthur&gt;  I&#8217;ll put looking at a WiX project for it on my ToDo list</div>
<div class="line">[Thursday 24 March 2011] [08:14:16] &lt;pieterh&gt; WiX = windows installer?</div>
<div class="line">[Thursday 24 March 2011] [08:14:24] &lt;Guthur&gt;  WiX is a windows installer declarative language</div>
<div class="line">[Thursday 24 March 2011] [08:14:30] &lt;pieterh&gt; nice</div>
<div class="line">[Thursday 24 March 2011] [08:15:01] &lt;Guthur&gt;  yeah only down side is it uses XML based grammar</div>
<div class="line">[Thursday 24 March 2011] [08:15:24] &lt;pieterh&gt; XML grammars can be neat if done right but usually they&#8217;re not</div>
<div class="line">[Thursday 24 March 2011] [08:15:42] &lt;Guthur&gt;  the worlds irrational love of XML pains me</div>
<div class="line">[Thursday 24 March 2011] [08:16:13] &lt;pieterh&gt; Well, I&#8217;ve written maybe 100k lines of declarative XML and it works fine if you&#8217;re minimalist</div>
<div class="line">[Thursday 24 March 2011] [08:16:41] &lt;Guthur&gt;  there is some many attributes and elements that it quickly becomes messy</div>
<div class="line">[Thursday 24 March 2011] [08:16:50] &lt;Guthur&gt;  ...for WiX</div>
<div class="line">[Thursday 24 March 2011] [08:17:18] &lt;pieterh&gt; <a class="reference external" href="http://download.imatix.com/mop/beginning.html">http://download.imatix.com/mop/beginning.html</a> for example</div>
<div class="line">[Thursday 24 March 2011] [08:17:25] &lt;pieterh&gt; anyhow, WiX...</div>
<div class="line">[Thursday 24 March 2011] [08:17:52] &lt;pieterh&gt; if you decide to start a packaging project, let&#8217;s make a separate repo for that</div>
<div class="line">[Thursday 24 March 2011] [08:17:57] &lt;pieterh&gt; not inside clrzmq2</div>
<div class="line">[Thursday 24 March 2011] [08:17:59] &lt;Guthur&gt;  on the other hand I like sexp, which a lot of people don&#8217;t like</div>
<div class="line">[Thursday 24 March 2011] [08:18:05] &lt;Guthur&gt;  pieterh: ok</div>
<div class="line">[Thursday 24 March 2011] [08:30:51] &lt;mikko-_&gt; pieter</div>
<div class="line">[Thursday 24 March 2011] [08:30:55] &lt;mikko-_&gt; the doc generation is broken</div>
<div class="line">[Thursday 24 March 2011] [08:30:59] &lt;mikko-_&gt; in mnay ways</div>
<div class="line">[Thursday 24 March 2011] [08:31:01] &lt;pieterh&gt; which project?</div>
<div class="line">[Thursday 24 March 2011] [08:31:02] &lt;mikko-_&gt; :)</div>
<div class="line">[Thursday 24 March 2011] [08:31:05] &lt;pieterh&gt; rfc?</div>
<div class="line">[Thursday 24 March 2011] [08:31:09] &lt;mikko-_&gt; zeromq</div>
<div class="line">[Thursday 24 March 2011] [08:31:13] &lt;mikko-_&gt; the wikidot api thingy</div>
<div class="line">[Thursday 24 March 2011] [08:31:23] &lt;pieterh&gt; hang on a sec...</div>
<div class="line">[Thursday 24 March 2011] [08:31:27] &lt;mikko-_&gt; 1) the call to wikidot fails with &#8220;Unauthorised&#8221;</div>
<div class="line">[Thursday 24 March 2011] [08:31:36] &lt;mikko-_&gt; 2) it prints out your API key in the error message</div>
<div class="line">[Thursday 24 March 2011] [08:31:41] &lt;pieterh&gt; yes, I pinged you about that, you missed that</div>
<div class="line">[Thursday 24 March 2011] [08:31:59] &lt;pieterh&gt; Wikidot upgraded their API for security reasons</div>
<div class="line">[Thursday 24 March 2011] [08:32:00] &lt;mikko-_&gt; i miss so many things using this web irc client</div>
<div class="line">[Thursday 24 March 2011] [08:32:31] &lt;pieterh&gt; you need to be a member of the rfc site to publish to it, that&#8217;s one thing</div>
<div class="line">[Thursday 24 March 2011] [08:32:38] &lt;pieterh&gt; afair I did make you member, let me check</div>
<div class="line">[Thursday 24 March 2011] [08:32:59] &lt;pieterh&gt; s/rfc/api/</div>
<div class="line">[Thursday 24 March 2011] [08:33:01] &lt;mikko-_&gt; it uses pieterh user</div>
<div class="line">[Thursday 24 March 2011] [08:33:21] &lt;pieterh&gt; you should be using your own API key by now  :-)</div>
<div class="line">[Thursday 24 March 2011] [08:33:27] &lt;pieterh&gt; you were authorized ages ago</div>
<div class="line">[Thursday 24 March 2011] [08:33:32] &lt;mikko-_&gt; oh, ok</div>
<div class="line">[Thursday 24 March 2011] [08:33:39] &lt;pieterh&gt; mine changed, old one is no longer valid</div>
<div class="line">[Thursday 24 March 2011] [08:33:39] &lt;mikko-_&gt; will check that this evening</div>
<div class="line">[Thursday 24 March 2011] [08:33:50] &lt;mikko-_&gt; good</div>
<div class="line">[Thursday 24 March 2011] [08:34:07] &lt;pieterh&gt; what&#8217;s your wikidot user id?</div>
<div class="line">[Thursday 24 March 2011] [08:34:13] &lt;pieterh&gt; i need to make you member of the site</div>
<div class="line">[Thursday 24 March 2011] [08:34:35] &lt;pieterh&gt; mkoppanen, I assume, you&#8217;re invited</div>
<div class="line">[Thursday 24 March 2011] [08:34:51] &lt;pieterh&gt; you were already invited, mikko :-)</div>
<div class="line">[Thursday 24 March 2011] [08:35:32] &lt;pieterh&gt; accept the invite, grab your own API key, fix your environment, and it&#8217;ll work</div>
<div class="line">[Thursday 24 March 2011] [08:36:07] &lt;pieterh&gt; meanwhile I&#8217;ll update that site for 2.1.3</div>
<div class="line">[Thursday 24 March 2011] [08:53:00] &lt;Guthur&gt;  pieterh: actually in relation to clrzmq2 packaging, there is something called NuGet</div>
<div class="line">[Thursday 24 March 2011] [08:53:09] &lt;Guthur&gt;  which I think is something similar to Maven</div>
<div class="line">[Thursday 24 March 2011] [08:53:25] &lt;pieterh&gt; Guthur tries to confuse pieterh by throwing random words at him</div>
<div class="line">[Thursday 24 March 2011] [08:53:45] &lt;Guthur&gt;  similiar to ANT with dependency repo management</div>
<div class="line">[Thursday 24 March 2011] [08:53:46]    * pieterh is suitably confused, rolls 5 &#8220;Go to Google&#8221;</div>
<div class="line">[Thursday 24 March 2011] [08:53:53] &lt;private_meta&gt;    This is great</div>
<div class="line">[Thursday 24 March 2011] [08:54:04] &lt;Guthur&gt;  hehe I was just trying to confuse you more with that last one</div>
<div class="line">[Thursday 24 March 2011] [08:54:05] &lt;private_meta&gt;    I have VirtualBox Virtual Machines running on Windows</div>
<div class="line">[Thursday 24 March 2011] [08:54:23] &lt;pieterh&gt; private_meta: VirtualBox is really useful, indeed</div>
<div class="line">[Thursday 24 March 2011] [08:54:24] &lt;private_meta&gt;    As soon as I pull up the Microsoft VirtualPC Settings dialog, every VirtualBox Machine crashes</div>
<div class="line">[Thursday 24 March 2011] [08:54:27] &lt;Guthur&gt;  private_meta: I go the other way round VM windows on Linux, heeh</div>
<div class="line">[Thursday 24 March 2011] [08:54:32] &lt;pieterh&gt; oh, lol</div>
<div class="line">[Thursday 24 March 2011] [08:54:44] &lt;pieterh&gt; VirtualPC has the VirtualBox killer option enabled!</div>
<div class="line">[Thursday 24 March 2011] [08:54:46] &lt;private_meta&gt;    great, isn&#8217;t it?</div>
<div class="line">[Thursday 24 March 2011] [08:55:06] &lt;Guthur&gt;  Virtual Box is pretty neat</div>
<div class="line">[Thursday 24 March 2011] [08:55:28] &lt;pieterh&gt; it is, indeed... I used it to install a Windows iTunes to reformat my old iPod so I could use that under Ubuntu...</div>
<div class="line">[Thursday 24 March 2011] [08:55:30]    * Guthur worries about what Oracle might do with all the free stuff they now own</div>
<div class="line">[Thursday 24 March 2011] [08:55:31] &lt;private_meta&gt;    It has it&#8217;s disadvantages, but there is only so much choice you have if you go the gratis way</div>
<div class="line">[Thursday 24 March 2011] [08:55:48] &lt;Guthur&gt;  oracle is not renowned for their generosity</div>
<div class="line">[Thursday 24 March 2011] [08:55:57] &lt;private_meta&gt;    Not really, no</div>
<div class="line">[Thursday 24 March 2011] [08:56:01] &lt;pieterh&gt; Guthur: the GPL doesn&#8217;t depend on generosity...</div>
<div class="line">[Thursday 24 March 2011] [08:56:34] &lt;private_meta&gt;    That&#8217;s not the problem imho</div>
<div class="line">[Thursday 24 March 2011] [08:57:03] &lt;private_meta&gt;    Oracle owns the majority of the developers working on VirtualBox</div>
<div class="line">[Thursday 24 March 2011] [08:57:11] &lt;private_meta&gt;    That means, whatever they want in, they can put in</div>
<div class="line">[Thursday 24 March 2011] [08:57:17] &lt;private_meta&gt;    Same with Java or OpenOffice</div>
<div class="line">[Thursday 24 March 2011] [08:57:29] &lt;private_meta&gt;    Now, as seen with OpenOffice, the only way to go against that would be a fork</div>
<div class="line">[Thursday 24 March 2011] [08:57:34] &lt;private_meta&gt;    and that&#8217;s never an ideal solution</div>
<div class="line">[Thursday 24 March 2011] [08:57:57] &lt;pieterh&gt; I doubt Oracle is worse than, say, IBM, who have lots of people working on Apache projects</div>
<div class="line">[Thursday 24 March 2011] [08:58:20] &lt;pieterh&gt; Oracle will happily do what IBM does, use free software to hurt competitors</div>
<div class="line">[Thursday 24 March 2011] [08:59:35] &lt;private_meta&gt;    The good/bad thing about doubt is that it&#8217;s not the same thing as proof</div>
<div class="line">[Thursday 24 March 2011] [09:00:08] &lt;pieterh&gt; well, Sun weren&#8217;t particularly great with FOSS either</div>
<div class="line">[Thursday 24 March 2011] [09:00:27] &lt;pieterh&gt; shrug, there is no certainty in life, and that&#8217;s probably a good thing</div>
<div class="line">[Thursday 24 March 2011] [09:01:28] &lt;private_meta&gt;    Well, seeing it in a different way, when you analyze evolution, and you think about mutation, it&#8217;s not always the &#8220;better&#8221; solution that survives</div>
<div class="line">[Thursday 24 March 2011] [09:01:36] &lt;private_meta&gt;    it&#8217;s the stronger one...</div>
<div class="line">[Thursday 24 March 2011] [09:01:49] &lt;private_meta&gt;    Oracle might be stronger, doesn&#8217;t mean it&#8217;s better for everyone</div>
<div class="line">[Thursday 24 March 2011] [09:01:54] &lt;pieterh&gt; private_meta: actually, by the very definition of selection, it is always the better one... :-)</div>
<div class="line">[Thursday 24 March 2011] [09:02:16] &lt;pieterh&gt; but business is not evolutionary, really</div>
<div class="line">[Thursday 24 March 2011] [09:02:25] &lt;private_meta&gt;    in some way it is</div>
<div class="line">[Thursday 24 March 2011] [09:02:28] &lt;pieterh&gt; well, actually yes, it is</div>
<div class="line">[Thursday 24 March 2011] [09:02:37] &lt;pieterh&gt; and large firms are like large predators</div>
<div class="line">[Thursday 24 March 2011] [09:02:38] &lt;private_meta&gt;    it&#8217;s just a redefinition of &#8220;better&#8221;</div>
<div class="line">[Thursday 24 March 2011] [09:02:42] &lt;pieterh&gt; yes, precisely</div>
<div class="line">[Thursday 24 March 2011] [09:03:08] &lt;pieterh&gt; large firms can be extraordinarily greedy, damaging, etc. but they are also slow, stupid, cautious</div>
<div class="line">[Thursday 24 March 2011] [09:03:28] &lt;Guthur&gt;  0MQ is better, so we win, hehe</div>
<div class="line">[Thursday 24 March 2011] [09:03:51] &lt;pieterh&gt; 100 genius brains, sitting in a corporate office, cannot compete with 100 happy brains, organized freely</div>
<div class="line">[Thursday 24 March 2011] [09:04:04] &lt;pieterh&gt; we&#8217;re better, therefore 0MQ is better</div>
<div class="line">[Thursday 24 March 2011] [09:04:44] &lt;stimpie&gt; if we find out why my application gets slow when using inproc to communicate between java threads</div>
<div class="line">[Thursday 24 March 2011] [09:05:00] &lt;pieterh&gt; stimpie: how are you measuring it?</div>
<div class="line">[Thursday 24 March 2011] [09:06:23]    * private_meta imagines 100 happy Forrest Gumps sitting in front of computers</div>
<div class="line">[Thursday 24 March 2011] [09:06:31] &lt;stimpie&gt; systems with network: p-&gt; b -&gt;s    where b uses a thread to receivce tcp and an inproc socket to sent to another thread</div>
<div class="line">[Thursday 24 March 2011] [09:06:58] &lt;stimpie&gt; when b is a single thread I get 200k m/s</div>
<div class="line">[Thursday 24 March 2011] [09:07:16] &lt;stimpie&gt; adding a dispatcher to another thread drops speed to 70k m/s</div>
<div class="line">[Thursday 24 March 2011] [09:07:43] &lt;stimpie&gt; I would expect the performance penalty in througput would be almost zero</div>
<div class="line">[Thursday 24 March 2011] [09:08:22] &lt;pieterh&gt; stimpie: how many cores are you running on?</div>
<div class="line">[Thursday 24 March 2011] [09:08:44] &lt;pieterh&gt; private_meta: <a class="reference external" href="http://www.devilswiki.com/wiki:collective-intelligence">http://www.devilswiki.com/wiki:collective-intelligence</a></div>
<div class="line">[Thursday 24 March 2011] [09:08:53] &lt;stimpie&gt; 8 available 3 are used</div>
<div class="line">[Thursday 24 March 2011] [09:09:32] &lt;pieterh&gt; do you see a CPU usage increase?</div>
<div class="line">[Thursday 24 March 2011] [09:09:44] &lt;pieterh&gt; there are two possible causes, IMO</div>
<div class="line">[Thursday 24 March 2011] [09:09:57] &lt;pieterh&gt; a. actually doing extra work, e.g. recoding messages</div>
<div class="line">[Thursday 24 March 2011] [09:10:12] &lt;pieterh&gt; b. round-tripping, i.e. doing req/rep on each message</div>
<div class="line">[Thursday 24 March 2011] [09:12:13] &lt;stimpie&gt; extra work is minimal, all sockets are XREP</div>
<div class="line">[Thursday 24 March 2011] [09:12:27] &lt;pieterh&gt; no acknowledgments?</div>
<div class="line">[Thursday 24 March 2011] [09:12:37] &lt;stimpie&gt; none</div>
<div class="line">[Thursday 24 March 2011] [09:12:52] &lt;stimpie&gt; iam sending and receiving on a single socket</div>
<div class="line">[Thursday 24 March 2011] [09:13:02] &lt;stimpie&gt; could that cause some race condition?</div>
<div class="line">[Thursday 24 March 2011] [09:13:05] &lt;pieterh&gt; hmm, interesting. So do you see CPU usage or memory usage going up?</div>
<div class="line">[Thursday 24 March 2011] [09:14:12] &lt;pieterh&gt; presumably messages queues will back up and memory use will increase</div>
<div class="line">[Thursday 24 March 2011] [09:14:41] &lt;pieterh&gt; sounds like something in the Java binding... I&#8217;ve not played much with that</div>
<div class="line">[Thursday 24 March 2011] [09:15:47] &lt;sustrik&gt; if you are sending and receiving on the same socket from different threads, that can result in race condition</div>
<div class="line">[Thursday 24 March 2011] [09:17:27] &lt;stimpie&gt; cpu usage is ~230% memory usages appears to keep increasing</div>
<div class="line">[Thursday 24 March 2011] [09:17:48] &lt;pieterh&gt; stimpie: are you using the same socket from more than one thread?</div>
<div class="line">[Thursday 24 March 2011] [09:18:13] &lt;stimpie&gt; one sockets sends to multiple threads</div>
<div class="line">[Thursday 24 March 2011] [09:18:22] &lt;stimpie&gt; each thread has his own socket</div>
<div class="line">[Thursday 24 March 2011] [09:18:44] &lt;pieterh&gt; something is doing a <em>lot</em> of work... how large are these messages?</div>
<div class="line">[Thursday 24 March 2011] [09:19:06] &lt;stimpie&gt; message size is about 40 bytes,  I will try using 2 sockets, one for sending one for receiving</div>
<div class="line">[Thursday 24 March 2011] [09:19:17] &lt;pieterh&gt; that won&#8217;t help IMO</div>
<div class="line">[Thursday 24 March 2011] [09:19:51] &lt;pieterh&gt; stimpie: even your single thread case is abnormally slow</div>
<div class="line">[Thursday 24 March 2011] [09:19:59] &lt;pieterh&gt; 200K per second is not what you&#8217;d expect</div>
<div class="line">[Thursday 24 March 2011] [09:20:36] &lt;pieterh&gt; best approach IMO would be to verify Java binding performance with a simple test case</div>
<div class="line">[Thursday 24 March 2011] [09:21:23] &lt;pieterh&gt; two threads, send messages from A to B over inproc</div>
<div class="line">[Thursday 24 March 2011] [09:21:54] &lt;stimpie&gt; oke let me write something, just a sec</div>
<div class="line">[Thursday 24 March 2011] [09:22:05] &lt;pieterh&gt; problem can be in 3 layers, libzmq, jzmq, or your code</div>
<div class="line">[Thursday 24 March 2011] [09:22:22] &lt;pieterh&gt; this test should tell us what layer is guilty</div>
<div class="line">[Thursday 24 March 2011] [10:02:18] &lt;stimpie&gt; while(true) send();  //is not nice on inproc</div>
<div class="line">[Thursday 24 March 2011] [10:02:45] &lt;stimpie&gt; duration: 1961.39 ms, messages:1000000, speed: 509842.88 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:02:58] &lt;stimpie&gt; xrep inproc-&gt;xrep inproc</div>
<div class="line">[Thursday 24 March 2011] [10:07:10] &lt;stimpie&gt; ps. this is on my &#8216;slow&#8217; laptop</div>
<div class="line">[Thursday 24 March 2011] [10:13:01] &lt;stimpie&gt; my test for 2way messages appears to deadlock, see <a class="reference external" href="http://pastebin.com/K20P6YhZ">http://pastebin.com/K20P6YhZ</a></div>
<div class="line">[Thursday 24 March 2011] [10:14:06] &lt;stimpie&gt; aha my mistake</div>
<div class="line">[Thursday 24 March 2011] [10:16:42] &lt;stimpie&gt; performance on with a 2 way ping-pong</div>
<div class="line">[Thursday 24 March 2011] [10:16:43] &lt;stimpie&gt; duration: 3871.77 ms, messages:100000, speed: 25827.98 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:21:45] &lt;sustrik&gt; what&#8217;s wrong with that?</div>
<div class="line">[Thursday 24 March 2011] [10:22:00] &lt;stimpie&gt; nothing</div>
<div class="line">[Thursday 24 March 2011] [10:22:10] &lt;stimpie&gt; 2 threads both sending and receiving 1M messages (not interleaved)</div>
<div class="line">[Thursday 24 March 2011] [10:22:12] &lt;stimpie&gt; duration: 531.86 ms, messages:100000, speed: 188020.73 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:22:14] &lt;sustrik&gt; is it 25k rountrips/sec</div>
<div class="line">[Thursday 24 March 2011] [10:22:16] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [10:22:21] &lt;stimpie&gt; yes roundtrips</div>
<div class="line">[Thursday 24 March 2011] [10:22:30] &lt;sustrik&gt; that&#8217;s 40us per roundrip</div>
<div class="line">[Thursday 24 March 2011] [10:22:34] &lt;sustrik&gt; i.e. 20us single-way</div>
<div class="line">[Thursday 24 March 2011] [10:22:51] &lt;pieterh&gt; stimpie: you said you weren&#8217;t doing round trips in your application</div>
<div class="line">[Thursday 24 March 2011] [10:22:51] &lt;sustrik&gt; that sounds reasonable, given that JNI and java is on the stack</div>
<div class="line">[Thursday 24 March 2011] [10:23:48] &lt;stimpie&gt; pieterh, its just a test case</div>
<div class="line">[Thursday 24 March 2011] [10:24:12] &lt;pieterh&gt; sure, but we want a test case that simulates the basic flow you&#8217;re using</div>
<div class="line">[Thursday 24 March 2011] [10:24:19] &lt;stimpie&gt; so far everything appears fine with jzmq+zmq</div>
<div class="line">[Thursday 24 March 2011] [10:24:24] &lt;pieterh&gt; i.e. xrep to xrep over inproc, one-way</div>
<div class="line">[Thursday 24 March 2011] [10:24:58] &lt;pieterh&gt; hang on, you did that, 509K/sec...</div>
<div class="line">[Thursday 24 March 2011] [10:25:09] &lt;pieterh&gt; and 188k send/recv...</div>
<div class="line">[Thursday 24 March 2011] [10:25:52] &lt;pieterh&gt; IMO there&#8217;s something with the Java threading</div>
<div class="line">[Thursday 24 March 2011] [10:25:57] &lt;stimpie&gt; the send/recv should be double its only measured on 1 side</div>
<div class="line">[Thursday 24 March 2011] [10:28:45] &lt;stimpie&gt; I do believe my setup with a client -&gt; dispatcher -&gt; thread -&gt; dispatcher -&gt; client  should not use one socket to connect thread and dispatcher</div>
<div class="line">[Thursday 24 March 2011] [10:29:44] &lt;stimpie&gt; probably I should run each dispatcher in his own thread</div>
<div class="line">[Thursday 24 March 2011] [10:30:14] &lt;stimpie&gt; that should give a flow of ~500K m/s</div>
<div class="line">[Thursday 24 March 2011] [10:32:36] &lt;pieterh&gt; looks like that&#8217;s the jzmq limit per thread, on your &#8216;slow&#8217; machine</div>
<div class="line">[Thursday 24 March 2011] [10:38:42] &lt;mato&gt;    mikko-_: hi</div>
<div class="line">[Thursday 24 March 2011] [10:39:04] &lt;mato&gt;    actually, more a question for pieterh</div>
<div class="line">[Thursday 24 March 2011] [10:39:15] &lt;pieterh&gt; mato: shoot</div>
<div class="line">[Thursday 24 March 2011] [10:39:47] &lt;mato&gt;    pieterh: how soon until 2.1.4? i can either arm-twist the debian build to work with 2.1.3 or wait for 2.1.4 (re the openpgm thread)</div>
<div class="line">[Thursday 24 March 2011] [10:40:24] &lt;pieterh&gt; I can make 2.1.4 this weekend, I&#8217;d like to wait a day or two for more feedback on use</div>
<div class="line">[Thursday 24 March 2011] [10:40:35] &lt;mato&gt;    ok, fine</div>
<div class="line">[Thursday 24 March 2011] [10:40:48] &lt;pieterh&gt; if you are blocked by this, I can make it sooner, or give you a preview</div>
<div class="line">[Thursday 24 March 2011] [10:40:58] &lt;pieterh&gt; but you need an official package, don&#8217;t you</div>
<div class="line">[Thursday 24 March 2011] [10:41:03] &lt;mato&gt;    pretty much</div>
<div class="line">[Thursday 24 March 2011] [10:41:16] &lt;mato&gt;    don&#8217;t worry about it, it can wait till the weekend</div>
<div class="line">[Thursday 24 March 2011] [10:41:48] &lt;pieterh&gt; ok, that&#8217;ll work then</div>
<div class="line">[Thursday 24 March 2011] [10:41:55] &lt;mato&gt;    but, i need to test the fixes. so, if i want &#8220;what will become 2.1.4&#8221;, that is in zeromq2-1.git ?</div>
<div class="line">[Thursday 24 March 2011] [10:42:11] &lt;pieterh&gt; yes, the 2-1 git is the to-be-released 2.1.4</div>
<div class="line">[Thursday 24 March 2011] [10:42:23] &lt;pieterh&gt; master branch, no surprises</div>
<div class="line">[Thursday 24 March 2011] [10:42:28] &lt;mato&gt;    good,m so i can do make dist myself from that to test things</div>
<div class="line">[Thursday 24 March 2011] [10:42:33] &lt;pieterh&gt; exactly</div>
<div class="line">[Thursday 24 March 2011] [10:42:48] &lt;pieterh&gt; I noticed dist also makes zip files, that&#8217;s nice</div>
<div class="line">[Thursday 24 March 2011] [10:42:59] &lt;pieterh&gt; I&#8217;d like to do that in zapi and zfl too...</div>
<div class="line">[Thursday 24 March 2011] [10:43:24] &lt;mato&gt;    just copy what libzmq does</div>
<div class="line">[Thursday 24 March 2011] [10:43:39] &lt;pieterh&gt; yup, will do</div>
<div class="line">[Thursday 24 March 2011] [10:47:35] &lt;stimpie&gt; my &#8216;faster&#8217; machine gets the following perfomance on inproc  duration: 12681.44 ms, messages:10000000, speed: 788554.25 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:48:18] &lt;stimpie&gt; considering I got over 2M with tcp its still quite slow</div>
<div class="line">[Thursday 24 March 2011] [10:57:02] &lt;private_meta&gt;    788km/sec... that&#8217;s almost twice as fast as the earths rotational speed!</div>
<div class="line">[Thursday 24 March 2011] [10:57:29] &lt;private_meta&gt;    oh wait</div>
<div class="line">[Thursday 24 March 2011] [10:57:31] &lt;private_meta&gt;    way more</div>
<div class="line">[Thursday 24 March 2011] [10:57:36] &lt;private_meta&gt;    spinning out of control</div>
<div class="line">[Thursday 24 March 2011] [10:58:38] &lt;stimpie&gt; it would save nasa some money ;-)</div>
<div class="line">[Thursday 24 March 2011] [11:02:27] &lt;sustrik&gt; stimpie: iirc JNI locks a mutex for each call</div>
<div class="line">[Thursday 24 March 2011] [11:02:48] &lt;sustrik&gt; which could account for limiting number of calls per sec to below 1M</div>
<div class="line">[Thursday 24 March 2011] [11:05:47] &lt;SurfaceTension&gt;  Does anybody have an approximate object code size for ARM Thumb?</div>
<div class="line">[Thursday 24 March 2011] [11:12:07] &lt;private_meta&gt;    hmpf... it&#8217;s difficult to find the problem with the paranoid pirate/zmsg problem</div>
<div class="line">[Thursday 24 March 2011] [11:13:12] &lt;mato&gt;    pieterh: ok, 2.1.4 git fixes my problem but still has a couple of problems with openpgm integration, have reported those on the ML</div>
<div class="line">[Thursday 24 March 2011] [11:15:26] &lt;sustrik&gt; mato: also notice that pre-compiled devices were removed</div>
<div class="line">[Thursday 24 March 2011] [11:15:38] &lt;mato&gt;    sustrik: yes, i have already noticed</div>
<div class="line">[Thursday 24 March 2011] [11:15:44] &lt;mato&gt;    sustrik: thx</div>
<div class="line">[Thursday 24 March 2011] [11:15:46] &lt;sustrik&gt; which means some functionality will actually disappear after installing new package</div>
<div class="line">[Thursday 24 March 2011] [11:15:52] &lt;mato&gt;    yes, i know</div>
<div class="line">[Thursday 24 March 2011] [11:15:55] &lt;mato&gt;    not up to me</div>
<div class="line">[Thursday 24 March 2011] [11:16:00] &lt;sustrik&gt; no idea what process debian uses for that kind of thing</div>
<div class="line">[Thursday 24 March 2011] [11:16:05] &lt;mato&gt;    actually, it won&#8217;t disappear in debian</div>
<div class="line">[Thursday 24 March 2011] [11:16:21] &lt;sustrik&gt; heh</div>
<div class="line">[Thursday 24 March 2011] [11:16:39] &lt;mato&gt;    you&#8217;ll just get the 2.0.x devices staying installed if you installed them in the 1st place</div>
<div class="line">[Thursday 24 March 2011] [11:16:56] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [11:17:35] &lt;mato&gt;    i.e. after upgrading to 2.1.x you will get libzmq0 (2.0.10) zeromq-bin (2.0.10) libzmq1 (2.1.x) and libzmq-dev (2.1.x) installed</div>
<div class="line">[Thursday 24 March 2011] [11:18:31] &lt;mato&gt;    which may confuse some people, in which case i will cheerfully pass on said people to the upstream maintainer :-)</div>
<div class="line">[Thursday 24 March 2011] [11:19:58] &lt;mato&gt;    hmm.</div>
<div class="line">[Thursday 24 March 2011] [11:20:08] &lt;mato&gt;    sustrik: i&#8217;m just thinking, about those devices</div>
<div class="line">[Thursday 24 March 2011] [11:20:32] &lt;mato&gt;    sustrik: d&#8217;you think i should force their removal?</div>
<div class="line">[Thursday 24 March 2011] [11:20:59] &lt;sustrik&gt; mato: no idea</div>
<div class="line">[Thursday 24 March 2011] [11:21:43] &lt;sustrik&gt; i would say the minor upgrade shouldn&#8217;t break backward compatibility</div>
<div class="line">[Thursday 24 March 2011] [11:21:51] &lt;sustrik&gt; but it&#8217;s too late for that</div>
<div class="line">[Thursday 24 March 2011] [11:22:10] &lt;sustrik&gt; hm, presumably, leaving the old devices there would be better</div>
<div class="line">[Thursday 24 March 2011] [11:22:27] &lt;sustrik&gt; at least the things won&#8217;t stop working after upgrade</div>
<div class="line">[Thursday 24 March 2011] [11:22:45] &lt;mato&gt;    yes, except that they won&#8217;t talk to 2.1 applications anyway</div>
<div class="line">[Thursday 24 March 2011] [11:22:50] &lt;mato&gt;    (wire protocol change)</div>
<div class="line">[Thursday 24 March 2011] [11:23:10] &lt;mato&gt;    i&#8217;ll ask the debian people i&#8217;m working with</div>
<div class="line">[Thursday 24 March 2011] [11:23:19] &lt;sustrik&gt; ah, the last debian release was 2.0, right?</div>
<div class="line">[Thursday 24 March 2011] [11:23:27] &lt;mato&gt;    yup.</div>
<div class="line">[Thursday 24 March 2011] [11:23:30] &lt;mikko-_&gt; mato: i will look at the two issues you mentioned</div>
<div class="line">[Thursday 24 March 2011] [11:23:34] &lt;sustrik&gt; then delete the devices</div>
<div class="line">[Thursday 24 March 2011] [11:23:53] &lt;sustrik&gt; missing executable is pretty obvious</div>
<div class="line">[Thursday 24 March 2011] [11:24:06] &lt;sustrik&gt; incompatible wire format is hard to detect</div>
<div class="line">[Thursday 24 March 2011] [11:24:25] &lt;mato&gt;    sustrik: precisely</div>
<div class="line">[Thursday 24 March 2011] [11:24:39] &lt;mato&gt;    sustrik: ok i&#8217;ll see if there&#8217;s a way to do that</div>
<div class="line">[Thursday 24 March 2011] [11:24:53] &lt;mato&gt;    mikko-_: thanks!</div>
<div class="line">[Thursday 24 March 2011] [11:25:17] &lt;mikko-_&gt; mato: the linking issue im not sure how that will work</div>
<div class="line">[Thursday 24 March 2011] [11:25:35] &lt;mikko-_&gt; might not have time today as i got leaving drinks tonight</div>
<div class="line">[Thursday 24 March 2011] [11:25:48] &lt;mato&gt;    mikko-_: well, i used to do it by building openpgm with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:26:07] &lt;mato&gt;    mikko-_: we should be able to do that with the current system, no?</div>
<div class="line">[Thursday 24 March 2011] [11:26:13] &lt;mikko-_&gt; mato: i thought that openpgm builds with visibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:27:32] &lt;mikko-_&gt; but i&#8217;ll get into this at some point today or tomorrow</div>
<div class="line">[Thursday 24 March 2011] [11:27:39] &lt;mato&gt;    mikko-_: IIRC what it does is use __attribute__ internally in the code</div>
<div class="line">[Thursday 24 March 2011] [11:27:54] &lt;mato&gt;    mikko-_: but what we need is for it to hide the API symbols as well</div>
<div class="line">[Thursday 24 March 2011] [11:28:17] &lt;mato&gt;    mikko-_: and I managed to override that by forcing it to build with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:28:28] &lt;mato&gt;    mikko-_: back in the day...</div>
<div class="line">[Thursday 24 March 2011] [11:29:39] &lt;mikko-_&gt; roughly what happens at the moment:</div>
<div class="line">[Thursday 24 March 2011] [11:29:54] &lt;mikko-_&gt; zeromq build invokes openpgm build and they build a libtool convenience library</div>
<div class="line">[Thursday 24 March 2011] [11:30:03] &lt;mikko-_&gt; which contains the built objects</div>
<div class="line">[Thursday 24 March 2011] [11:30:09] &lt;mikko-_&gt; called libpgm_noinsta.la</div>
<div class="line">[Thursday 24 March 2011] [11:30:18] &lt;mikko-_&gt; libpgm_noinst.la</div>
<div class="line">[Thursday 24 March 2011] [11:30:54] &lt;mikko-_&gt; and that libtool archive is added with libzmq_la_LIBADD</div>
<div class="line">[Thursday 24 March 2011] [11:31:08] &lt;mato&gt;    ignoring the libtool bit, that libpgm_noinst.la is essentially a static library archive, right?</div>
<div class="line">[Thursday 24 March 2011] [11:31:52] &lt;mikko-_&gt; essentially yes</div>
<div class="line">[Thursday 24 March 2011] [11:32:05] &lt;mato&gt;    and AC_CONIFG_SUBDIRS(...) is what invokes the OpenPGM configure?</div>
<div class="line">[Thursday 24 March 2011] [11:33:43] &lt;mikko-_&gt; it&#8217;s collection of the built objects</div>
<div class="line">[Thursday 24 March 2011] [11:33:50] &lt;mikko-_&gt; yes</div>
<div class="line">[Thursday 24 March 2011] [11:34:15] &lt;mato&gt;    ok, problem is i see no way to pass e.g. CFLAGS to AC_CONFIG_SUBDIRS</div>
<div class="line">[Thursday 24 March 2011] [11:34:35] &lt;mikko-_&gt; mato: if you look at <a class="reference external" href="http://openpgm.googlecode.com/svn/trunk/openpgm/pgm/configure.ac">http://openpgm.googlecode.com/svn/trunk/openpgm/pgm/configure.ac</a></div>
<div class="line">[Thursday 24 March 2011] [11:34:37] &lt;mato&gt;    or options, or anything</div>
<div class="line">[Thursday 24 March 2011] [11:34:51] &lt;mikko-_&gt; they are detecting visibility</div>
<div class="line">[Thursday 24 March 2011] [11:35:01] &lt;mikko-_&gt; CFLAGS are passed down from parent</div>
<div class="line">[Thursday 24 March 2011] [11:35:21] &lt;mikko-_&gt; CFLAGS=&#8217;-xyz&#8217; ./configure in zeromq build passes those down to openpgm build</div>
<div class="line">[Thursday 24 March 2011] [11:35:34] &lt;mato&gt;    mikko-_: yes, but openpgm deals with visibility differently than zmq</div>
<div class="line">[Thursday 24 March 2011] [11:36:03] &lt;mato&gt;    mikko-_: zmq uses the &#8220;<a href="#id83"><span class="problematic" id="id84">*</span></a>everything is hidden&#8221; approach</div>
<div class="line">[Thursday 24 March 2011] [11:36:14] &lt;mikko-_&gt; CFLAGS should be safe to modify even within zeromq build as that should not be used anywhere</div>
<div class="line">[Thursday 24 March 2011] [11:36:22] &lt;mikko-_&gt; CXXFLAGS and CPPFLAGS for zeromq</div>
<div class="line">[Thursday 24 March 2011] [11:36:34] &lt;mikko-_&gt; as the source is c++</div>
<div class="line">[Thursday 24 March 2011] [11:36:34] &lt;sustrik&gt; mato: btw, how do i remove an outdated topic branch from github?</div>
<div class="line">[Thursday 24 March 2011] [11:36:50] &lt;mato&gt;    pgm uses default visibility, and defines PGM_GNUC_INTERNAL to use __attribute__ ((visibility(&#8220;hidden&#8221;))</div>
<div class="line">[Thursday 24 March 2011] [11:37:13] &lt;mato&gt;    which means if the default is set to hidden with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:37:27] &lt;mato&gt;    then the pgm api symbols will disappear from the library</div>
<div class="line">[Thursday 24 March 2011] [11:37:58] &lt;mato&gt;    sustrik: git push origin :&lt;branch name&gt; i think</div>
<div class="line">[Thursday 24 March 2011] [11:38:13] &lt;sustrik&gt; the colon deletes the branch?</div>
<div class="line">[Thursday 24 March 2011] [11:38:17] &lt;sustrik&gt; strange</div>
<div class="line">[Thursday 24 March 2011] [11:38:18] &lt;sustrik&gt; thanks</div>
<div class="line">[Thursday 24 March 2011] [11:38:28] &lt;mato&gt;    yeah, it pushes an empty ref to it or something</div>
<div class="line">[Thursday 24 March 2011] [11:38:47] &lt;mato&gt;    deleting the remote branch via push is not the same as deleting a local branch...</div>
<div class="line">[Thursday 24 March 2011] [11:39:11] &lt;sustrik&gt; ok, np</div>
<div class="line">[Thursday 24 March 2011] [11:42:05] &lt;mato&gt;    mikko-_: in theory all that needs to be done is CFLAGS=-fvisibility=hidden for the PGM build</div>
<div class="line">[Thursday 24 March 2011] [11:42:24] &lt;mato&gt;    mikko-_: let me know if you can&#8217;t make it work</div>
<div class="line">[Thursday 24 March 2011] [11:42:38] &lt;mato&gt;    i have to go, am on a train and battery dying</div>
<div class="line">[Thursday 24 March 2011] [11:42:52] &lt;mikko-_&gt; mato: i will test as soon as i get a chance</div>
<div class="line">[Thursday 24 March 2011] [11:42:55] &lt;mikko-_&gt; wil let you know</div>
<div class="line">[Thursday 24 March 2011] [11:44:52] &lt;mato&gt;    ok, cyl</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rbc4a1ce 10/ (8 files in 4 dirs):</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: ZMQ_HWM split into ZMQ_SNDHWM and ZMQ_RCVHWM</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: These new options allow to control the maximum size of the</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: inbound and outbound message pipe separately.</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; (+17 more commits...) - <a class="reference external" href="http://bit.ly/gIsQa8">http://bit.ly/gIsQa8</a></div>
<div class="line">[Thursday 24 March 2011] [13:11:00] &lt;pieterh&gt; sustrik: random question</div>
<div class="line">[Thursday 24 March 2011] [13:11:06] &lt;sustrik&gt; yes?</div>
<div class="line">[Thursday 24 March 2011] [13:11:17] &lt;pieterh&gt; you&#8217;re working both on master and on the pre30 branch?</div>
<div class="line">[Thursday 24 March 2011] [13:11:26] &lt;sustrik&gt; it&#8217;s a topic branch</div>
<div class="line">[Thursday 24 March 2011] [13:11:42] &lt;pieterh&gt; is that a yes or a no?</div>
<div class="line">[Thursday 24 March 2011] [13:11:57] &lt;sustrik&gt; it&#8217;s like a transaction</div>
<div class="line">[Thursday 24 March 2011] [13:12:02] &lt;sustrik&gt; not to break the master</div>
<div class="line">[Thursday 24 March 2011] [13:12:08] &lt;pieterh&gt; e.g. ZMQ_HWM split, is on master or on pre30</div>
<div class="line">[Thursday 24 March 2011] [13:12:09] &lt;pieterh&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [13:12:10] &lt;sustrik&gt; the work is done on a branch</div>
<div class="line">[Thursday 24 March 2011] [13:12:19] &lt;sustrik&gt; then it can be pulled to master in one go</div>
<div class="line">[Thursday 24 March 2011] [13:12:25] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 24 March 2011] [13:13:01] &lt;sustrik&gt; on pre30</div>
<div class="line">[Thursday 24 March 2011] [13:13:02] &lt;pieterh&gt; I&#8217;ll rephrase: are you still making improvements to the master branch provisionally marked as 2.2.0?</div>
<div class="line">[Thursday 24 March 2011] [13:13:09] &lt;pieterh&gt; or is that frozen?</div>
<div class="line">[Thursday 24 March 2011] [13:13:23] &lt;sustrik&gt; 2.2 is frozen</div>
<div class="line">[Thursday 24 March 2011] [13:13:27] &lt;sustrik&gt; tou are free to use it</div>
<div class="line">[Thursday 24 March 2011] [13:13:30] &lt;sustrik&gt; you</div>
<div class="line">[Thursday 24 March 2011] [13:13:44] &lt;pieterh&gt; yes, that was my idea, to pull specific changes into that</div>
<div class="line">[Thursday 24 March 2011] [13:13:54] &lt;sustrik&gt; note that first patch to be pulled to master is version bump to 3.0</div>
<div class="line">[Thursday 24 March 2011] [13:14:04] &lt;pieterh&gt; hmm</div>
<div class="line">[Thursday 24 March 2011] [13:14:38] &lt;pieterh&gt; ok, let me create a 2.2 release git, then we can do the switch for 3.0</div>
<div class="line">[Thursday 24 March 2011] [13:14:55] &lt;pieterh&gt; there&#8217;s not much point using a topic branch for the 3.0 stuff IMO</div>
<div class="line">[Thursday 24 March 2011] [13:15:36] &lt;ptrb&gt;    mato: you around?</div>
<div class="line">[Thursday 24 March 2011] [13:15:37] &lt;pieterh&gt; I&#8217;d like to cherry pick some changes into 2.2, such as the HWM change</div>
<div class="line">[Thursday 24 March 2011] [13:15:49] &lt;sustrik&gt; sure, do so</div>
<div class="line">[Thursday 24 March 2011] [13:15:54] &lt;pieterh&gt; ack, going for it now</div>
<div class="line">[Thursday 24 March 2011] [13:16:05] &lt;sustrik&gt; i would wait for reviews at least</div>
<div class="line">[Thursday 24 March 2011] [13:16:19] &lt;sustrik&gt; otherwise you risk having conflictins with actual master</div>
<div class="line">[Thursday 24 March 2011] [13:16:57] &lt;pieterh&gt; how so?</div>
<div class="line">[Thursday 24 March 2011] [13:17:13] &lt;sustrik&gt; well, say someone complains about something in pre30</div>
<div class="line">[Thursday 24 March 2011] [13:17:17] &lt;sustrik&gt; it will be fixed</div>
<div class="line">[Thursday 24 March 2011] [13:17:35] &lt;sustrik&gt; and the fixed patch will be pulled to master</div>
<div class="line">[Thursday 24 March 2011] [13:17:46] &lt;sustrik&gt; then you have an incompatible version in 2.2</div>
<div class="line">[Thursday 24 March 2011] [13:17:57] &lt;sustrik&gt; and you have to reconcile the problem by hand</div>
<div class="line">[Thursday 24 March 2011] [13:18:11] &lt;pieterh&gt; sure... as long as you make atomic commits, it&#8217;ll be doable IMO</div>
<div class="line">[Thursday 24 March 2011] [13:18:20] &lt;sustrik&gt; ok,  it&#8217;s up to you</div>
<div class="line">[Thursday 24 March 2011] [13:18:21] &lt;pieterh&gt; at some point the structure of 3.0 will change too far</div>
<div class="line">[Thursday 24 March 2011] [13:18:33] &lt;pieterh&gt; but we&#8217;re not going to make big changes in 2.2, just tweaks</div>
<div class="line">[Thursday 24 March 2011] [13:19:13] &lt;pieterh&gt; we may not even need the 2.2 release but I&#8217;d rather be ready than have to try to make it later</div>
<div class="line">[Thursday 24 March 2011] [13:19:33] &lt;sustrik&gt; are you aware that the patch in question is backward incompatible?</div>
<div class="line">[Thursday 24 March 2011] [13:19:41] &lt;sustrik&gt; actually all the patches in pre30 are</div>
<div class="line">[Thursday 24 March 2011] [13:19:50] &lt;pieterh&gt; yes, indeed</div>
<div class="line">[Thursday 24 March 2011] [13:20:08] &lt;sustrik&gt; and that it breaks all the language bindings?</div>
<div class="line">[Thursday 24 March 2011] [13:20:14] &lt;pieterh&gt; my immediate reaction is, this patch adds value, is worth it</div>
<div class="line">[Thursday 24 March 2011] [13:20:31] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:20:52] &lt;pieterh&gt; I think each time we&#8217;ve asked binding authors this question, they&#8217;ve answered the same</div>
<div class="line">[Thursday 24 March 2011] [13:21:26] &lt;pieterh&gt; something like, &#8220;we&#8217;d rather get new useful functionality now, even if it means fixing up stuff&#8221;</div>
<div class="line">[Thursday 24 March 2011] [13:21:54] &lt;pieterh&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:22:09] &lt;cremes&gt;  as a bindings author, i agree with that quote</div>
<div class="line">[Thursday 24 March 2011] [13:22:46] &lt;pieterh&gt; cremes: thanks, I don&#8217;t like to speak for others</div>
<div class="line">[Thursday 24 March 2011] [13:24:19] &lt;sustrik&gt; cremes: it&#8217;s up to you obviously</div>
<div class="line">[Thursday 24 March 2011] [13:24:39] &lt;sustrik&gt; my point was that if bacward incompatible changes are to happen anytime</div>
<div class="line">[Thursday 24 March 2011] [13:24:49] &lt;sustrik&gt; the bindings end up as a mess of ifdefs</div>
<div class="line">[Thursday 24 March 2011] [13:24:55] &lt;cremes&gt;  since the library version is exposed via the zmq_* api, it&#8217;s pretty easy to turn things on/off at runtime</div>
<div class="line">[Thursday 24 March 2011] [13:25:21] &lt;cremes&gt;  i agree that with too many minor differences things could get ugly</div>
<div class="line">[Thursday 24 March 2011] [13:25:38] &lt;cremes&gt;  as a bindings author, i reserve the right to require minimum versions of the library</div>
<div class="line">[Thursday 24 March 2011] [13:25:49] &lt;cremes&gt;  so that i can keep those ifdefs to a manageable size</div>
<div class="line">[Thursday 24 March 2011] [13:26:52] &lt;cremes&gt;  btw, this weekend i plan to do a small test using cxxtest for writing unit tests for yqueue</div>
<div class="line">[Thursday 24 March 2011] [13:27:03] &lt;sustrik&gt; great</div>
<div class="line">[Thursday 24 March 2011] [13:27:11] &lt;cremes&gt;  i&#8217;m going to put that into a fork of the current master; i&#8217;ll fork it under my username chuckremes</div>
<div class="line">[Thursday 24 March 2011] [13:27:22] &lt;cremes&gt;  and point you guys to it when i get something working</div>
<div class="line">[Thursday 24 March 2011] [13:27:57] &lt;cremes&gt;  i want to just stick with ruby but i have an itch that can only be scratched by c++ apparently... ;)</div>
<div class="line">[Thursday 24 March 2011] [13:28:18] &lt;sustrik&gt; i think the tests unit tests have to be incorporated into the build system somehow ultimately</div>
<div class="line">[Thursday 24 March 2011] [13:28:51] &lt;pieterh&gt; sustrik: in zfl &amp; zapi we do this with &#8216;make check&#8217;, which runs a single main which runs all unit tests</div>
<div class="line">[Thursday 24 March 2011] [13:29:02] &lt;cremes&gt;  sustrik: that will be part of my experiment</div>
<div class="line">[Thursday 24 March 2011] [13:29:15] &lt;sustrik&gt; yes, something like tha</div>
<div class="line">[Thursday 24 March 2011] [13:29:15] &lt;cremes&gt;  the cxxtest readme has examples on how to include that in the build process</div>
<div class="line">[Thursday 24 March 2011] [13:29:17] &lt;sustrik&gt; that</div>
<div class="line">[Thursday 24 March 2011] [13:29:49] &lt;pieterh&gt; sustrik: ok, 2.2 is safely forked off, we can now play with the core repo...</div>
<div class="line">[Thursday 24 March 2011] [13:30:23] &lt;pieterh&gt; no hurry but I&#8217;d suggest we make and announce the rename when you&#8217;re comfortable with it</div>
<div class="line">[Thursday 24 March 2011] [13:31:42] &lt;sustrik&gt; have you done the test?</div>
<div class="line">[Thursday 24 March 2011] [13:31:53] &lt;sustrik&gt; does rename retain watchers</div>
<div class="line">[Thursday 24 March 2011] [13:31:54] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [13:32:10] &lt;sustrik&gt; do the forks map nicely to the renamed repo?</div>
<div class="line">[Thursday 24 March 2011] [13:32:42] &lt;pieterh&gt; let me run some tests in my own profile, then</div>
<div class="line">[Thursday 24 March 2011] [13:32:50] &lt;pieterh&gt; (good questions)</div>
<div class="line">[Thursday 24 March 2011] [13:32:57] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:33:03] &lt;sustrik&gt; if you need a watcher, ping me</div>
<div class="line">[Thursday 24 March 2011] [13:34:39] &lt;pieterh&gt; ok, can you watch <a class="reference external" href="https://github.com/pieterh/test">https://github.com/pieterh/test</a> ?</div>
<div class="line">[Thursday 24 March 2011] [13:34:53] &lt;pieterh&gt; and also fork it</div>
<div class="line">[Thursday 24 March 2011] [13:36:06] &lt;sustrik&gt; pieterh: done</div>
<div class="line">[Thursday 24 March 2011] [13:36:14] &lt;pieterh&gt; ok, I&#8217;ve also made a couple of forks...</div>
<div class="line">[Thursday 24 March 2011] [13:36:16] &lt;pieterh&gt; now renaming it...</div>
<div class="line">[Thursday 24 March 2011] [13:37:25] &lt;pieterh&gt; you watched it as &#8216;zeromq&#8217;?</div>
<div class="line">[Thursday 24 March 2011] [13:37:38] &lt;sustrik&gt; no idea</div>
<div class="line">[Thursday 24 March 2011] [13:37:43] &lt;pieterh&gt; oh snap, sorry</div>
<div class="line">[Thursday 24 March 2011] [13:37:49] &lt;pieterh&gt; I forked it, and then renamed the fork... :-)</div>
<div class="line">[Thursday 24 March 2011] [13:39:13] &lt;pieterh&gt; so it works, the repo is now called <a class="reference external" href="https://github.com/pieterh/libtest">https://github.com/pieterh/libtest</a></div>
<div class="line">[Thursday 24 March 2011] [13:39:25] &lt;pieterh&gt; watchers and forks shaken but still attached</div>
<div class="line">[Thursday 24 March 2011] [13:40:27] &lt;sustrik&gt; the &#8216;network&#8217; graph seems to be broken</div>
<div class="line">[Thursday 24 March 2011] [13:40:32] &lt;sustrik&gt; i don&#8217;t see you there</div>
<div class="line">[Thursday 24 March 2011] [13:41:12] &lt;pieterh&gt; it seemed broken before the rename, too</div>
<div class="line">[Thursday 24 March 2011] [13:41:18] &lt;pieterh&gt; only showed a single entry</div>
<div class="line">[Thursday 24 March 2011] [13:41:34] &lt;sustrik&gt; that&#8217;s ok as there was only a single entry</div>
<div class="line">[Thursday 24 March 2011] [13:41:40] &lt;sustrik&gt; what i&#8217;m seeing</div>
<div class="line">[Thursday 24 March 2011] [13:41:55] &lt;sustrik&gt; is that the fist commit you&#8217;ve made is under &#8216;sustrik&#8217;</div>
<div class="line">[Thursday 24 March 2011] [13:42:03] &lt;pieterh&gt; what repo?</div>
<div class="line">[Thursday 24 March 2011] [13:42:10] &lt;sustrik&gt; sustrik/test</div>
<div class="line">[Thursday 24 March 2011] [13:42:40] &lt;pieterh&gt; on my box the whole network viewer is buggy, shows no commits at all</div>
<div class="line">[Thursday 24 March 2011] [13:42:46] &lt;pieterh&gt; but the commit list is accurate</div>
<div class="line">[Thursday 24 March 2011] [13:43:12] &lt;sustrik&gt; yes, commits look ok</div>
<div class="line">[Thursday 24 March 2011] [13:43:28] &lt;pieterh&gt; I&#8217;ve no idea what this means, a github bug?</div>
<div class="line">[Thursday 24 March 2011] [13:43:35] &lt;sustrik&gt; no idea</div>
<div class="line">[Thursday 24 March 2011] [13:44:13] &lt;pieterh&gt; well, I&#8217;d suggest we go ahead with the rename, if the network appears broken afterwards we ask github to fix it</div>
<div class="line">[Thursday 24 March 2011] [13:44:30] &lt;pieterh&gt; but let&#8217;s wait a day or two until the new name is obvious</div>
<div class="line">[Thursday 24 March 2011] [13:44:58] &lt;pieterh&gt; libzmq is my preference right now</div>
<div class="line">[Thursday 24 March 2011] [13:45:11] &lt;pieterh&gt; but it&#8217;s your project, your call :-)</div>
<div class="line">[Thursday 24 March 2011] [13:45:29] &lt;sustrik&gt; i&#8217;ll give it a thought</div>
<div class="line">[Thursday 24 March 2011] [13:45:38] &lt;sustrik&gt; zeromq otoh would require less renaming</div>
<div class="line">[Thursday 24 March 2011] [13:45:54] &lt;sustrik&gt; ie. stable repos would stay as they are now</div>
<div class="line">[Thursday 24 March 2011] [13:46:13] &lt;pieterh&gt; indeed, it&#8217;s more consistent with that</div>
<div class="line">[Thursday 24 March 2011] [13:46:27] &lt;pieterh&gt; but if we start to make the release repos into distribution containers, that changes</div>
<div class="line">[Thursday 24 March 2011] [13:46:35] &lt;sustrik&gt; yes, i know</div>
<div class="line">[Thursday 24 March 2011] [13:46:46]    * pieterh goes back to preparing 2.2...</div>
<div class="line">[Thursday 24 March 2011] [13:52:54] &lt;klestes&gt; hullo, is anyone actively awake ?</div>
<div class="line">[Thursday 24 March 2011] [13:53:12] &lt;pieterh&gt; klestes: passively awake, here...</div>
<div class="line">[Thursday 24 March 2011] [13:53:20] &lt;klestes&gt; that&#8217;ll do :)</div>
<div class="line">[Thursday 24 March 2011] [13:53:25] &lt;pieterh&gt; what&#8217;s up?</div>
<div class="line">[Thursday 24 March 2011] [13:53:52] &lt;klestes&gt; sorry about my first patch.  I could have sworn I read somewhere that a 2.2 version wasn&#8217;t being pursued.</div>
<div class="line">[Thursday 24 March 2011] [13:54:04] &lt;pieterh&gt; we changed our minds...</div>
<div class="line">[Thursday 24 March 2011] [13:54:12] &lt;klestes&gt; D&#8217;oh!</div>
<div class="line">[Thursday 24 March 2011] [13:54:26] &lt;klestes&gt; oh well, back to the hacking boarrd =)</div>
<div class="line">[Thursday 24 March 2011] [13:55:00] &lt;klestes&gt; uhm, would minor spelling corrections to header files be a worthwile contribution ?</div>
<div class="line">[Thursday 24 March 2011] [13:57:19] &lt;pieterh&gt; depends how perfectionist the maintainer is, they may just find it annoying</div>
<div class="line">[Thursday 24 March 2011] [13:57:35] &lt;klestes&gt; reasonable.</div>
<div class="line">[Thursday 24 March 2011] [13:57:47] &lt;klestes&gt; also, on to the matter of LOAD BALANCING.</div>
<div class="line">[Thursday 24 March 2011] [13:58:16] &lt;klestes&gt; now, suppose I have a client talking to a server, a PUSH/PULL kinda relationship.</div>
<div class="line">[Thursday 24 March 2011] [13:58:41] &lt;klestes&gt; once I have these two chatting, I introduce a second client PULLing from the server as well.</div>
<div class="line">[Thursday 24 March 2011] [13:59:01] &lt;klestes&gt; my question is, upon introduction of the second client, will the load be balanced again ?</div>
<div class="line">[Thursday 24 March 2011] [14:03:19] &lt;klestes&gt; (oooh! FF6 is out !)</div>
<div class="line">[Thursday 24 March 2011] [14:03:53] &lt;klestes&gt; (sorry, bug in my FPU, thats FF4)</div>
<div class="line">[Thursday 24 March 2011] [14:08:12] &lt;sustrik&gt; patches to the spelling are acceptable</div>
<div class="line">[Thursday 24 March 2011] [14:09:02] &lt;sustrik&gt; the load already assigned to the first client won&#8217;t be re-balanced</div>
<div class="line">[Thursday 24 March 2011] [14:09:11] &lt;sustrik&gt; but new messages will be</div>
<div class="line">[Thursday 24 March 2011] [14:10:13] &lt;klestes&gt; ok, thats what I had thought the proper behavior should be.</div>
<div class="line">[Thursday 24 March 2011] [14:10:40] &lt;klestes&gt; where in the source is the load balancing mechanism ?</div>
<div class="line">[Thursday 24 March 2011] [14:14:53] &lt;cremes&gt;  sustrik: running a test using jemalloc and LD_PRELOAD on linux</div>
<div class="line">[Thursday 24 March 2011] [14:14:58] &lt;cremes&gt;  results look promising so far</div>
<div class="line">[Thursday 24 March 2011] [14:23:04] &lt;pieterh&gt; sustrik: actually there are some nice improvements in the 2.2 branch over 2.1...</div>
<div class="line">[Thursday 24 March 2011] [14:23:22] &lt;pieterh&gt; e.g. checking &amp;logging of duplicate identities...</div>
<div class="line">[Thursday 24 March 2011] [14:23:26] &lt;pieterh&gt; I&#8217;ll check them all</div>
<div class="line">[Thursday 24 March 2011] [14:25:51] &lt;cremes&gt;  pieterh: i have an open ticket on that duplicate identity commit; i get crashes with it</div>
<div class="line">[Thursday 24 March 2011] [14:26:06] &lt;pieterh&gt; cremes: ah, right...</div>
<div class="line">[Thursday 24 March 2011] [14:26:18] &lt;pieterh&gt; well, 2.2 is not going to be stable for a while, that&#8217;s OK</div>
<div class="line">[Thursday 24 March 2011] [14:26:37] &lt;cremes&gt;  true; hopefully i&#8217;ll be able to come up with a small repro</div>
<div class="line">[Thursday 24 March 2011] [14:27:51] &lt;Guthur&gt;  is 2.2 available?</div>
<div class="line">[Thursday 24 March 2011] [14:27:59] &lt;Guthur&gt;  is it the pgm stuff?</div>
<div class="line">[Thursday 24 March 2011] [14:28:03] &lt;pieterh&gt; Guthur: not yet, soon enough</div>
<div class="line">[Thursday 24 March 2011] [14:28:08] &lt;pieterh&gt; the pgm stuff is already in 2.1</div>
<div class="line">[Thursday 24 March 2011] [14:28:33] &lt;klestes&gt; can you not get 2.2 with git ?</div>
<div class="line">[Thursday 24 March 2011] [14:28:41] &lt;sustrik&gt; still missing in master :(</div>
<div class="line">[Thursday 24 March 2011] [14:28:56] &lt;pieterh&gt; sustrik: what&#8217;s missing in master?</div>
<div class="line">[Thursday 24 March 2011] [14:28:59] &lt;pieterh&gt; ah, yes</div>
<div class="line">[Thursday 24 March 2011] [14:29:01] &lt;sustrik&gt; jemalloc: let me know whether it helps</div>
<div class="line">[Thursday 24 March 2011] [14:29:24] &lt;pieterh&gt; sustrik, mikko is still working on making a patch, maybe he&#8217;s stuck, I&#8217;ll ask him... I know he&#8217;s real busy right now</div>
<div class="line">[Thursday 24 March 2011] [14:29:39] &lt;pieterh&gt; I&#8217;m applying those openpgm changes to 2.2, I&#8217;ll see if it works</div>
<div class="line">[Thursday 24 March 2011] [14:29:55] &lt;pieterh&gt; configure.in, Makefile.am, libpgm tarball, that&#8217;s it...</div>
<div class="line">[Thursday 24 March 2011] [14:38:45] &lt;Guthur&gt;  would it be possible to expose the subscription mechanism on SUB sockets, so that people could maybe add other models to replace the prefix one</div>
<div class="line">[Thursday 24 March 2011] [14:39:32] &lt;Guthur&gt;  this is in relation to 3.0</div>
<div class="line">[Thursday 24 March 2011] [14:47:04] &lt;pieterh&gt; Guthur: it&#8217;s a neat idea but probably quite difficult to make happen</div>
<div class="line">[Thursday 24 March 2011] [14:56:33] &lt;sustrik&gt; Guthur: can be doable on top of 0mq, with XPUB/XSUB sockets</div>
<div class="line">[Thursday 24 March 2011] [14:56:37] &lt;sustrik&gt; when those are finished :)</div>
<div class="line">[Thursday 24 March 2011] [14:58:19] &lt;pieterh&gt; sustrik: upstream arbitrary subscription keys?</div>
<div class="line">[Thursday 24 March 2011] [15:02:24] &lt;sustrik&gt; possibly</div>
<div class="line">[Thursday 24 March 2011] [15:02:27] &lt;sustrik&gt; we&#8217;ll see</div>
<div class="line">[Thursday 24 March 2011] [15:02:35] &lt;sustrik&gt; it&#8217;s not done yet</div>
<div class="line">[Thursday 24 March 2011] [15:02:54] &lt;pieterh&gt; could be fun to turn xpub sockets into mini exchanges</div>
<div class="line">[Thursday 24 March 2011] [15:03:42] &lt;pieterh&gt; sustrik: if you want a patch for the openpgm stuff, I can make it, have tested that on 2.2</div>
<div class="line">[Thursday 24 March 2011] [15:04:14] &lt;pieterh&gt; but I think you want the real author&#8217;s patch... sigh</div>
<div class="line">[Thursday 24 March 2011] [15:04:20] &lt;pieterh&gt; well, it&#8217;s LGPL</div>
<div class="line">[Thursday 24 March 2011] [15:04:28] &lt;pieterh&gt; already signed off</div>
<div class="line">[Thursday 24 March 2011] [15:04:50] &lt;pieterh&gt; this whole free software concept sometimes confuses me... :-)</div>
<div class="line">[Thursday 24 March 2011] [15:29:39] &lt;Guthur&gt;  cool, I look forward to seeing XSUB and XPUB</div>
<div class="line">[Thursday 24 March 2011] [15:29:55] &lt;Guthur&gt;  will they need to be renamed after they have been released for a while, hehe</div>
<div class="line">[Thursday 24 March 2011] [15:31:31] &lt;cremes&gt;  Guthur: yes, they are going to be renamed SUCK and BLOW</div>
<div class="line">[Thursday 24 March 2011] [15:31:51] &lt;cremes&gt;  no one raised any objection on the mailing list, so that&#8217;s going into 2.1.4</div>
<div class="line">[Thursday 24 March 2011] [15:31:52] &lt;cremes&gt;  :)</div>
<div class="line">[Thursday 24 March 2011] [15:41:59] &lt;jond&gt;    cremes: what&#8217;s the conclusion on jemalloc</div>
<div class="line">[Thursday 24 March 2011] [15:42:39] &lt;cremes&gt;  jond: superior to glibc malloc on linux for the way i use 0mq</div>
<div class="line">[Thursday 24 March 2011] [15:43:10] &lt;cremes&gt;  the memory footprint still grows, but now the &#8216;fragmentation leak&#8217; is slower</div>
<div class="line">[Thursday 24 March 2011] [15:43:40] &lt;jond&gt;    cremes: does jemalloc just replace malloc/free et al or the C++ operator&#8217;s as well</div>
<div class="line">[Thursday 24 March 2011] [15:44:10] &lt;cremes&gt;  jond: it&#8217;s my understanding that under the covers C++ #new, et al. are calling malloc/free</div>
<div class="line">[Thursday 24 March 2011] [15:44:20] &lt;cremes&gt;  so jemalloc replaces them too</div>
<div class="line">[Thursday 24 March 2011] [15:44:32] &lt;pieterh&gt; cremes: sometimes you&#8217;re evil...</div>
<div class="line">[Thursday 24 March 2011] [15:44:49] &lt;cremes&gt;  pieterh: ah, you like the new pub/sub names then?</div>
<div class="line">[Thursday 24 March 2011] [15:45:07] &lt;pieterh&gt; I think the old names were fine (PUB/SUB)</div>
<div class="line">[Thursday 24 March 2011] [15:45:35]    * cremes is leaving shortly to do evil elsewhere</div>
<div class="line">[Thursday 24 March 2011] [15:45:53] &lt;jond&gt;    cremes: ok ; think I asked the tcmalloc people a while back and technically new etc don&#8217;t have to use malloc free ....</div>
<div class="line">[Thursday 24 March 2011] [15:46:29] &lt;cremes&gt;  jond: that&#8217;s true; from comments i have read while researching this stuff, no one was able to find a case where c++ did <em>not</em></div>
<div class="line">[Thursday 24 March 2011] [15:46:31] &lt;jond&gt;    pieterh: HOOKER and PIMP?</div>
<div class="line">[Thursday 24 March 2011] [15:46:33] &lt;cremes&gt;  use malloc/free</div>
<div class="line">[Thursday 24 March 2011] [15:46:46] &lt;pieterh&gt; HOOKER would be XSUB then?</div>
<div class="line">[Thursday 24 March 2011] [15:46:53] &lt;cremes&gt;  jond: ooh, good replacement names for PUSH/PULL</div>
<div class="line">[Thursday 24 March 2011] [15:47:05] &lt;cremes&gt;  :)</div>
<div class="line">[Thursday 24 March 2011] [15:47:12] &lt;pieterh&gt; where does JOHN fit in? that&#8217;s my question</div>
<div class="line">[Thursday 24 March 2011] [15:47:32] &lt;cremes&gt;  pieterh: PAIR -&gt; JOHN</div>
<div class="line">[Thursday 24 March 2011] [15:47:45] &lt;pieterh&gt; surely PAIR-&gt; FABIO</div>
<div class="line">[Thursday 24 March 2011] [15:47:53] &lt;cremes&gt;  surely</div>
<div class="line">[Thursday 24 March 2011] [15:48:05] &lt;pieterh&gt; let&#8217;s start a Naming Committee</div>
<div class="line">[Thursday 24 March 2011] [15:48:14] &lt;pieterh&gt; with its own repository</div>
<div class="line">[Thursday 24 March 2011] [15:48:35] &lt;cremes&gt;  heh</div>
<div class="line">[Thursday 24 March 2011] [15:48:39]    * pieterh is very happy to be generating zapi man pages from the C source code</div>
<div class="line">[Thursday 24 March 2011] [15:49:16] &lt;jond&gt;    cremes: c++ new et al; that&#8217;s what I&#8217;ve read too, but there&#8217;s probably some obscure games console compiler somewhere</div>
<div class="line">[Thursday 24 March 2011] [15:49:46] &lt;cremes&gt;  jond: probably</div>
<div class="line">[Thursday 24 March 2011] [15:50:00] &lt;cremes&gt;  but since i don&#8217;t use it, i don&#8217;t care ;)</div>
<div class="line">[Thursday 24 March 2011] [15:51:19] &lt;jond&gt;    so you just LD_PRELOAD with jemalloc on the path and that&#8217;s it? I&#8217;m sure google recommend recompile with tcmalloc though LD_PRELOAD can work</div>
<div class="line">[Thursday 24 March 2011] [15:52:01] &lt;cremes&gt;  yes</div>
<div class="line">[Thursday 24 March 2011] [15:52:14] &lt;cremes&gt;  LD_PRELOAD=/usr/local/lib/libjemalloc.so a.out</div>
<div class="line">[Thursday 24 March 2011] [15:53:15] &lt;jond&gt;    cremes does it improve ruby performance at all apart from 0mq aspect?</div>
<div class="line">[Thursday 24 March 2011] [15:53:56] &lt;cremes&gt;  jond: if it does, i can&#8217;t see it... there may be a small % difference but i can&#8217;t tell</div>
<div class="line">[Thursday 24 March 2011] [15:54:51] &lt;jond&gt;    cremes: I&#8217;ll go and have a look at jemalloc now</div>
<div class="line">[Thursday 24 March 2011] [15:55:08] &lt;cremes&gt;  jond: when i ran sustrik&#8217;s leak repro (ticket 174) the resident memory would jump to 25MB and stay there</div>
<div class="line">[Thursday 24 March 2011] [15:55:17] &lt;cremes&gt;  with jemalloc it would drop back down to 15MB</div>
<div class="line">[Thursday 24 March 2011] [15:55:31] &lt;cremes&gt;  so while it isn&#8217;t perfect, it <em>was</em> able to help out a bit</div>
<div class="line">[Thursday 24 March 2011] [15:58:21] &lt;jond&gt;    cremes: i may give jemalloc a test against an app at work, non zeromq though sadly</div>
<div class="line">[Thursday 24 March 2011] [16:04:25] &lt;cremes&gt;  jond: please share your results (0mq or non-0mq) with me; i&#8217;d love to hear your results</div>
<div class="line">[Thursday 24 March 2011] [16:16:26] &lt;jond&gt;    pieterh: you ever thought of putting a &#8216;jobs&#8217; section on the website?</div>
<div class="line">[Thursday 24 March 2011] [16:16:45] &lt;pieterh&gt; jond: yes</div>
<div class="line">[Thursday 24 March 2011] [16:17:22] &lt;pieterh&gt; but rather, I&#8217;d like to make a &#8216;marketplace&#8217;</div>
<div class="line">[Thursday 24 March 2011] [16:17:32] &lt;jond&gt;    pieterh: yes better idea</div>
<div class="line">[Thursday 24 March 2011] [16:18:07] &lt;pieterh&gt; the idea would be that proven contributors can promote their business</div>
<div class="line">[Thursday 24 March 2011] [16:18:47] &lt;pieterh&gt; this would happen on the main website (not the community site) and would be run by iMatix</div>
<div class="line">[Thursday 24 March 2011] [16:19:32] &lt;pieterh&gt; &#8216;run&#8217; = vetted, more than anything else</div>
<div class="line">[Thursday 24 March 2011] [16:20:28] &lt;sustrik&gt; btw, i&#8217;ve created a zeromq group on linked-in long time ago</div>
<div class="line">[Thursday 24 March 2011] [16:20:49]    * pieterh dislikes linkedin intensely...</div>
<div class="line">[Thursday 24 March 2011] [16:21:08] &lt;sustrik&gt; i don&#8217;t use it much</div>
<div class="line">[Thursday 24 March 2011] [16:21:19] &lt;sustrik&gt; i don&#8217;t even recall why i&#8217;ve created the group</div>
<div class="line">[Thursday 24 March 2011] [16:21:25] &lt;sustrik&gt; someone asked me to, i suppose</div>
<div class="line">[Thursday 24 March 2011] [16:21:27] &lt;pieterh&gt; the idea of promoting partners able to help in specific areas, or specific regions, seems win-win</div>
<div class="line">[Thursday 24 March 2011] [16:21:38]    * sustrik checks the group</div>
<div class="line">[Thursday 24 March 2011] [16:21:42] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [16:21:52] &lt;sustrik&gt; intersting</div>
<div class="line">[Thursday 24 March 2011] [16:21:55] &lt;sustrik&gt; 28 members</div>
<div class="line">[Thursday 24 March 2011] [16:22:11] &lt;sustrik&gt; looks like some people are actually using linkedin</div>
<div class="line">[Thursday 24 March 2011] [16:22:35] &lt;pieterh&gt; some people do seem to like collecting contacts, indeed...</div>
<div class="line">[Thursday 24 March 2011] [16:22:57] &lt;Moltar&gt;  I&#8217;m trying to limit the outstanding messages in python using setsockopt(zmq.HWM, 1000) (for example) and it seems that this has no effect.  Any suggestions to what I might be doing wrong?</div>
<div class="line">[Thursday 24 March 2011] [16:24:48] &lt;hexa&gt;    Hi I just went tought the guide.. and wow :) .. but it got me many ideas one of which is to use it to do some worker/task management  inprocess ..  but I&#8217;m struggling to find a way to pass for exemple function pointers to a generic worker thread.. I checked google protobufs .. things like that but i&#8217;m not sure about it when it comes to pointers etc.. any suggestions ideas on this ?</div>
<div class="line">[Thursday 24 March 2011] [16:25:44] &lt;pieterh&gt; hexa: the way I send pointers between threads is printf (&#8220;%p&#8221;, pointer) and sscanf (message, &#8220;%p&#8221;, &amp;pointer)</div>
<div class="line">[Thursday 24 March 2011] [16:25:46] &lt;sustrik&gt; Moltar: the messages are presumably queued in TCP buffers</div>
<div class="line">[Thursday 24 March 2011] [16:25:46] &lt;pieterh&gt; seems to work</div>
<div class="line">[Thursday 24 March 2011] [16:26:15] &lt;pieterh&gt; hexa: there&#8217;s an example in the zapi, zctx class, somewhere in <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Thursday 24 March 2011] [16:26:19] &lt;hexa&gt;    pieterh, heheh guess that would work.. but I would like something a bit more versatile...</div>
<div class="line">[Thursday 24 March 2011] [16:27:00] &lt;pieterh&gt; well, just shove the pointer in a message of the right size</div>
<div class="line">[Thursday 24 March 2011] [16:27:02] &lt;Moltar&gt;  sustrik: I&#8217;m using unix-domain socket with zSocket.bind(&#8216;ipc:///tmp/sendalias&#8217;), so probably queued in unix socket buffer</div>
<div class="line">[Thursday 24 March 2011] [16:27:48] &lt;Moltar&gt;  sustrik: But I have quite a lot of data to push to my worker processes, and I don&#8217;t think having gigabytes of data in this buffer is going to be a good idea.</div>
<div class="line">[Thursday 24 March 2011] [16:28:33] &lt;hexa&gt;    pieterh, heh I guess I could just do void* func , void* marshalling_func, void* data  , pieterh thx for the link I hadn&#8217;t see that yet</div>
<div class="line">[Thursday 24 March 2011] [16:33:27] &lt;jond&gt;    sustrik: what&#8217;s the status of subscription forwarding in master?</div>
<div class="line">[Thursday 24 March 2011] [16:50:27] &lt;SurfaceTension&gt;  still nobody with a (rough) number for the binary code size on arm thumb?</div>
<div class="line">[Thursday 24 March 2011] [17:11:02] &lt;sustrik&gt; Moltar: you can set the buffer size using ZMQ_SNDBUF and ZMQ_RCVBUF options</div>
<div class="line">[Thursday 24 March 2011] [17:11:09] &lt;sustrik&gt; jond: no progress</div>
<div class="line">[Thursday 24 March 2011] [17:11:52] &lt;sustrik&gt; SurfaceTension: try asking on the mailing list</div>
<div class="line">[Thursday 24 March 2011] [17:12:01] &lt;Moltar&gt;  sustrik: Thanks, I&#8217;ll give that a go</div>
<div class="line">[Thursday 24 March 2011] [17:12:02] &lt;sustrik&gt; there are few people using 0mq on ARM iirc</div>
<div class="line">[Thursday 24 March 2011] [17:18:37] &lt;jond&gt;    sustrik: does that mean it&#8217;s all in master but incomplete or on that branch?</div>
<div class="line">[Thursday 24 March 2011] [17:19:07] &lt;sustrik&gt; it&#8217;s incomplete and located in sub-forward branch</div>
<div class="line">[Thursday 24 March 2011] [17:20:27] &lt;jond&gt;    sustrik: ok, thanks. I&#8217;m abandoning xrep you see from my proof of concept</div>
<div class="line">[Thursday 24 March 2011] [17:56:08] &lt;SurfaceTension&gt;  sustrik: will do, thanks</div>
<div class="line">[Thursday 24 March 2011] [18:47:14] &lt;Guthur&gt;  thrift provides a means for RPC, which I suppose could be used instead passing func ptrs</div>
<div class="line">[Thursday 24 March 2011] [18:47:37] &lt;Guthur&gt;  but hexa has left...</div>
<div class="line">[Thursday 24 March 2011] [21:24:11] &lt;Seta00&gt;  where is that &#8216;c&#8217; tool available?</div>
<div class="line">[Thursday 24 March 2011] [22:29:26] &lt;dku&gt;     Is it incorrect to call recv() twice consequitively on a ZMQ_REQ socket?</div>
<div class="line">[Thursday 24 March 2011] [22:29:41] &lt;dku&gt;     (without a send() in between, i mean)</div>
<div class="line">[Thursday 24 March 2011] [22:30:00] &lt;lowenhart&gt;       hey guys</div>
<div class="line">[Thursday 24 March 2011] [22:32:40] &lt;lowenhart&gt;       anyone know of a good decorator for zeromq + django?</div>
<div class="line">[Friday 25 March 2011] [04:06:23] &lt;pieterh&gt;   Seta00: on the C binding page</div>
<div class="line">[Friday 25 March 2011] [04:06:32] &lt;pieterh&gt;   dku: nope</div>
<div class="line">[Friday 25 March 2011] [04:25:33] &lt;pieterh&gt;   sustrik: I&#8217;ve sent an email to zeromq-dev regarding the repository rename</div>
<div class="line">[Friday 25 March 2011] [04:25:52] &lt;pieterh&gt;   it&#8217;d be interesting to see what the response is, if any</div>
<div class="line">[Friday 25 March 2011] [05:27:43] &lt;private_meta&gt;      pieterh: btw, if you really want to push something like zmsg into zapi, it&#8217;d require a redesign imho</div>
<div class="line">[Friday 25 March 2011] [05:41:47] &lt;private_meta&gt;      pieterh: for C++ it would be interesting to work with templates, just as an idea</div>
<div class="line">[Friday 25 March 2011] [05:44:55] &lt;guido_g&gt;   reminds me why i left c++</div>
<div class="line">[Friday 25 March 2011] [06:01:50] &lt;private_meta&gt;      I don&#8217;t see generic programming as that bad of an idea</div>
<div class="line">[Friday 25 March 2011] [06:02:03] &lt;private_meta&gt;      If it&#8217;s used in places where it can be an advantage</div>
<div class="line">[Friday 25 March 2011] [06:44:55] &lt;Seta00&gt;    pieterh: the zip archive on that page is missing the MSVS project/solution files, btw</div>
<div class="line">[Friday 25 March 2011] [06:45:05] &lt;Seta00&gt;    they are on the repo but not on the archive for some reason</div>
<div class="line">[Friday 25 March 2011] [07:13:18] &lt;private_meta&gt;      pieterh: btw, what was the reason to use the 0-byte in the messages?</div>
<div class="line">[Friday 25 March 2011] [07:21:27] &lt;Guthur&gt;    private_meta: you mean a message with no contents?</div>
<div class="line">[Friday 25 March 2011] [07:21:46] &lt;private_meta&gt;      no, 0-bytes in non-empty messages</div>
<div class="line">[Friday 25 March 2011] [07:22:06] &lt;Guthur&gt;    is this in a guide example?</div>
<div class="line">[Friday 25 March 2011] [07:22:45] &lt;private_meta&gt;      uuid encoding in multipart messages</div>
<div class="line">[Friday 25 March 2011] [07:23:38] &lt;Guthur&gt;    0MQ uuid will start with a byte of 0, iirc</div>
<div class="line">[Friday 25 March 2011] [07:24:03] &lt;Guthur&gt;    and that would have to be added back when encoding the string presentation back to binary</div>
<div class="line">[Friday 25 March 2011] [07:25:05] &lt;private_meta&gt;      I know, I want to know the reason for this decision</div>
<div class="line">[Friday 25 March 2011] [07:27:18] &lt;Guthur&gt;    it&#8217;s not a valid UUID for 0MQ without the 0</div>
<div class="line">[Friday 25 March 2011] [07:27:45] &lt;Guthur&gt;    maybe I am misunderstanding your question</div>
<div class="line">[Friday 25 March 2011] [07:27:58] &lt;private_meta&gt;      Yes, you are...</div>
<div class="line">[Friday 25 March 2011] [07:28:14] &lt;private_meta&gt;      I want to know the reason why they used the 0-byte in the uuid in the first place</div>
<div class="line">[Friday 25 March 2011] [07:28:25] &lt;private_meta&gt;      It&#8217;s a design-question</div>
<div class="line">[Friday 25 March 2011] [07:29:09] &lt;Guthur&gt;    yeah I&#8217;d imagine so</div>
<div class="line">[Friday 25 March 2011] [07:29:21] &lt;private_meta&gt;      ...</div>
<div class="line">[Friday 25 March 2011] [07:29:35] &lt;Guthur&gt;    possibly to make it more identifiable as a UUID</div>
<div class="line">[Friday 25 March 2011] [07:29:40] &lt;Guthur&gt;    at a guess</div>
<div class="line">[Friday 25 March 2011] [07:29:49] &lt;Guthur&gt;    sustrik: ?</div>
<div class="line">[Friday 25 March 2011] [07:40:56] &lt;Seta00&gt;    OpenPGM is the only implementation of PGM on 0MQ, right?</div>
<div class="line">[Friday 25 March 2011] [07:41:09] &lt;Seta00&gt;    as in, I can&#8217;t use PGM on normal builds</div>
<div class="line">[Friday 25 March 2011] [07:51:28] &lt;private_meta&gt;      pieterh: finally fixed it</div>
<div class="line">[Friday 25 March 2011] [08:28:41] &lt;so_solid_moo&gt;      hi peeps. is the freelance pattern stuff built into a library at all, like zfl or something?</div>
<div class="line">[Friday 25 March 2011] [08:40:12] &lt;iphony&gt;    Has anyone successfully compiled the zmq c library for the iphone?</div>
<div class="line">[Friday 25 March 2011] [09:51:30] &lt;private_meta&gt;      pieterh: are you here?</div>
<div class="line">[Friday 25 March 2011] [11:38:08] &lt;nikolay&gt;   hi</div>
<div class="line">[Friday 25 March 2011] [11:38:15] &lt;cremes&gt;    hi</div>
<div class="line">[Friday 25 March 2011] [11:38:28] &lt;nikolay&gt;   I am trying following</div>
<div class="line">[Friday 25 March 2011] [11:38:32] &lt;nikolay&gt;   star a server,</div>
<div class="line">[Friday 25 March 2011] [11:38:41] &lt;nikolay&gt;   then do curl localhost:5555</div>
<div class="line">[Friday 25 March 2011] [11:39:07] &lt;nikolay&gt;   request is invalid of cource, and server do &#8220;Assertion failed: fetched (rep.cpp:232)&#8221;</div>
<div class="line">[Friday 25 March 2011] [11:39:24] &lt;nikolay&gt;   the server app is in PHP</div>
<div class="line">[Friday 25 March 2011] [11:39:40] &lt;nikolay&gt;   how I can do so PHP not to crash?</div>
<div class="line">[Friday 25 March 2011] [11:40:21] &lt;cremes&gt;    nikolay: you can&#8217;t connect a non-0mq socket to a 0mq socket unless you conform to the 0mq wire protocol</div>
<div class="line">[Friday 25 March 2011] [11:40:28] &lt;cremes&gt;    otherwise you&#8217;ll get assertions</div>
<div class="line">[Friday 25 March 2011] [11:40:50] &lt;nikolay&gt;   yes, but generally how i can &#8220;catch&#8221; the assert() call ?</div>
<div class="line">[Friday 25 March 2011] [11:40:56] &lt;cremes&gt;    you can&#8217;t</div>
<div class="line">[Friday 25 March 2011] [11:41:14] &lt;cremes&gt;    you should open a bug issue  on github; 0mq asserts on a lot of &#8216;invalid&#8217; data when it probably shouldn&#8217;t</div>
<div class="line">[Friday 25 March 2011] [11:41:37] &lt;cremes&gt;    it should probably just disconnect the socket that sent the invalid data</div>
<div class="line">[Friday 25 March 2011] [11:41:40] &lt;nikolay&gt;   hmm this is kind of stupid , isn&#8217;t it ? then server will crash, instead to close the conn</div>
<div class="line">[Friday 25 March 2011] [11:41:42] &lt;cremes&gt;    instead of asserting</div>
<div class="line">[Friday 25 March 2011] [11:41:52] &lt;cremes&gt;    nikolay: yes, it&#8217;s stupid; open a 0mq bug</div>
<div class="line">[Friday 25 March 2011] [11:42:07] &lt;nikolay&gt;   good idea , thank you</div>
<div class="line">[Friday 25 March 2011] [11:42:22] &lt;cremes&gt;    nikolay: make sure you include some code that can reproduce the <em>entire</em> problem (client and server)</div>
<div class="line">[Friday 25 March 2011] [11:42:34] &lt;cremes&gt;    along with the steps to reproduce the crash</div>
<div class="line">[Friday 25 March 2011] [11:42:50] &lt;nikolay&gt;   is not a problem , but it may happen if the client app is killed</div>
<div class="line">[Friday 25 March 2011] [11:43:07] &lt;nikolay&gt;   thanks</div>
<div class="line">[Friday 25 March 2011] [11:43:27] &lt;nikolay&gt;   bye</div>
<div class="line">[Friday 25 March 2011] [11:51:56] &lt;Guthur&gt;    cremes: it same strange there hasn&#8217;t been more effort to remove asserts</div>
<div class="line">[Friday 25 March 2011] [11:52:01] &lt;Guthur&gt;    same/seems</div>
<div class="line">[Friday 25 March 2011] [11:52:30] &lt;cremes&gt;    Guthur: 2.1 is way better than 2.0; sustrik removed quite a few asserts but there are still a bunch left</div>
<div class="line">[Friday 25 March 2011] [11:52:51] &lt;cremes&gt;    that&#8217;s why i think writing unit tests for the internal classes is a good idea</div>
<div class="line">[Friday 25 March 2011] [11:53:16] &lt;cremes&gt;    it will help reign in the use of asserts and it will encourage writing code to actually handle those error conditions instead</div>
<div class="line">[Friday 25 March 2011] [11:53:20] &lt;cremes&gt;    of just aborting</div>
<div class="line">[Friday 25 March 2011] [11:54:24] &lt;Guthur&gt;    yep, is there a strategy in place yet for refactoring the current code base to facilitate unit testing</div>
<div class="line">[Friday 25 March 2011] [11:56:04] &lt;cremes&gt;    Guthur: nope, no strategy yet</div>
<div class="line">[Friday 25 March 2011] [11:56:17] &lt;cremes&gt;    i&#8217;m going to do a quick spike this weekend using cxxtest on yqueue.cpp</div>
<div class="line">[Friday 25 March 2011] [11:56:36] &lt;Seta00&gt;    the documentation for zmg_msg_init_data says &#8220;If provided, the deallocation function ffn shall be called...&#8221;, but the parameter isn&#8217;t optional. should I just pass NULL?</div>
<div class="line">[Friday 25 March 2011] [11:56:43] &lt;cremes&gt;    the way i like to do unit testing is going to require <em>most</em> of these classes to become a lot smaller than they are</div>
<div class="line">[Friday 25 March 2011] [11:56:50] &lt;cremes&gt;    so that they can be thoroughly tested</div>
<div class="line">[Friday 25 March 2011] [11:56:58] &lt;cremes&gt;    Seta00: yes</div>
<div class="line">[Friday 25 March 2011] [11:57:04] &lt;Seta00&gt;    cremes: thanks</div>
<div class="line">[Friday 25 March 2011] [11:59:08] &lt;Guthur&gt;    cremes: ack</div>
<div class="line">[Friday 25 March 2011] [12:00:13] &lt;cremes&gt;    i don&#8217;t know if all of that refactoring would/will fit with sustrik&#8217;s style</div>
<div class="line">[Friday 25 March 2011] [12:00:38] &lt;cremes&gt;    the classes look big to me; but then again, c++ is so verbose even simple classes look pretty large</div>
<div class="line">[Friday 25 March 2011] [12:20:02] &lt;Guthur&gt;    I think sustrik would buy if it could deliver better test coverage</div>
<div class="line">[Friday 25 March 2011] [12:24:08] &lt;Guthur&gt;    buy in*</div>
<div class="line">[Friday 25 March 2011] [12:57:37] &lt;anddam&gt;    hello</div>
<div class="line">[Friday 25 March 2011] [12:58:19] &lt;cremes&gt;    hi</div>
<div class="line">[Friday 25 March 2011] [13:01:17] &lt;anddam&gt;    I&#8217;ve built mongrel2 using zeromq from macports, when I try to kill the test server it get stucks with <a class="reference external" href="http://pastesite.com/22567">http://pastesite.com/22567</a> (after ^C at line :49)</div>
<div class="line">[Friday 25 March 2011] [13:01:31] &lt;anddam&gt;    can it be possibly related to this zmq&#8217;s test error <a class="reference external" href="http://pastesite.com/22568">http://pastesite.com/22568</a> ?</div>
<div class="line">[Friday 25 March 2011] [13:03:37] &lt;anddam&gt;    nice mailbox.cpp:191 &#8221; This should never happen as we&#8217;ve already checked that command size less than PIPE_BUF.&#8221;</div>
<div class="line">[Friday 25 March 2011] [13:03:45] &lt;anddam&gt;    seems it&#8217;s happening</div>
<div class="line">[Friday 25 March 2011] [13:05:53] &lt;klestes&gt;   Thats the beauty of ZeroMQ:  It makes the impossible possible !</div>
<div class="line">[Friday 25 March 2011] [13:07:45] &lt;anddam&gt;    &#8220;the possimpible&#8221;</div>
<div class="line">[Friday 25 March 2011] [13:08:16] &lt;cremes&gt;    anddam: check the tuning guide:  <a class="reference external" href="http://www.zeromq.org/docs:tuning-zeromq">http://www.zeromq.org/docs:tuning-zeromq</a></div>
<div class="line">[Friday 25 March 2011] [13:08:31] &lt;cremes&gt;    usually mailbox errors in 0mq are due to the tiny default buffer sizes on osx</div>
<div class="line">[Friday 25 March 2011] [13:08:33] &lt;klestes&gt;   anddam:  Nice word !</div>
<div class="line">[Friday 25 March 2011] [13:08:37] &lt;anddam&gt;    this happens on OS X, anyone confirming he&#8217;s got zmq working on osx?</div>
<div class="line">[Friday 25 March 2011] [13:08:44] &lt;anddam&gt;    klestes: that&#8217;s from that tv show</div>
<div class="line">[Friday 25 March 2011] [13:08:57] &lt;klestes&gt;   there&#8217;s a tv show of that name ?</div>
<div class="line">[Friday 25 March 2011] [13:09:05] &lt;cremes&gt;    anddam: i use 0mq on osx every day; works fine after doing a little kernel tuning</div>
<div class="line">[Friday 25 March 2011] [13:09:18] &lt;klestes&gt;   OS X seems to be a bitch to program on, from what I&#8217;ve seen hereabouts.</div>
<div class="line">[Friday 25 March 2011] [13:09:41] &lt;cremes&gt;    no harder than linux</div>
<div class="line">[Friday 25 March 2011] [13:09:44] &lt;cremes&gt;    same apis</div>
<div class="line">[Friday 25 March 2011] [13:09:45] &lt;anddam&gt;    cremes: I understand system tuning but how can test reach linux?</div>
<div class="line">[Friday 25 March 2011] [13:10:13] &lt;cremes&gt;    anddam: i don&#8217;t understand your question, please rephrase</div>
<div class="line">[Friday 25 March 2011] [13:10:19] &lt;anddam&gt;    klestes: I think it depends on your targets, if you&#8217;re going to do iOS development it&#8217;s not a bitch</div>
<div class="line">[Friday 25 March 2011] [13:10:33] &lt;anddam&gt;    cremes: of course you don&#8217;t understand it, I mixed two phrases</div>
<div class="line">[Friday 25 March 2011] [13:10:39] &lt;klestes&gt;   good to know.</div>
<div class="line">[Friday 25 March 2011] [13:11:31] &lt;anddam&gt;    cremes: my hardlimit for files is unlimited</div>
<div class="line">[Friday 25 March 2011] [13:11:45] &lt;anddam&gt;    how could that affect tests?</div>
<div class="line">[Friday 25 March 2011] [13:12:33] &lt;cremes&gt;    anddam: did you modify your sendspace/recvspace kernel params?</div>
<div class="line">[Friday 25 March 2011] [13:13:18] &lt;cremes&gt;    and to answer your first question, it can affect your tests if the soft limit (ulimit -a) is lower than the number of sockets created</div>
<div class="line">[Friday 25 March 2011] [13:13:28] &lt;anddam&gt;    no, I&#8217;m checking sysctl syntax to avoid rebooting</div>
<div class="line">[Friday 25 March 2011] [13:16:21] &lt;anddam&gt;    cremes: not that hard sysctl -w</div>
<div class="line">[Friday 25 March 2011] [13:19:11] &lt;anddam&gt;    cremes: you were damn right</div>
<div class="line">[Friday 25 March 2011] [13:19:28] &lt;cremes&gt;    :)</div>
<div class="line">[Friday 25 March 2011] [13:19:40] &lt;anddam&gt;    <a class="reference external" href="http://pastesite.com/22571">http://pastesite.com/22571</a></div>
<div class="line">[Friday 25 March 2011] [13:19:46] &lt;anddam&gt;    so my issue is only mongrel2</div>
<div class="line">[Friday 25 March 2011] [13:19:53] &lt;anddam&gt;    I had no issues with a debian</div>
<div class="line">[Friday 25 March 2011] [13:29:25] &lt;anddam&gt;    cremes: seems this is it <a class="reference external" href="https://gist.github.com/724778">https://gist.github.com/724778</a></div>
<div class="line">[Friday 25 March 2011] [13:29:43] &lt;anddam&gt;    in fact,   zmq &#64;2.1.3_0 (active)</div>
<div class="line">[Friday 25 March 2011] [13:30:32] &lt;cremes&gt;    yes, the termination semantics changed from 2.0.10 to 2.1.0</div>
<div class="line">[Friday 25 March 2011] [13:31:16] &lt;anddam&gt;    I&#8217;ll checkout from repo, but I&#8217;m packaging for macports a stable tarball would be better</div>
<div class="line">[Friday 25 March 2011] [13:31:19] &lt;anddam&gt;    thanks, bye</div>
<div class="line">[Friday 25 March 2011] [13:48:29] &lt;mih&gt;       hello. One question about  new 2.1.3 version. It is build only .la static lib (even with &#8211;enable-shared option). Is it bug or feature?</div>
<div class="line">[Friday 25 March 2011] [13:55:39] &lt;cremes&gt;    mih: by default it should produce a shared library</div>
<div class="line">[Friday 25 March 2011] [16:30:54] &lt;traviscline&gt;       I want running web server processes to on certain events share internal state information. Just to clarify i&#8217;ll likely want a pub socket in each process and (at least one) corresponding sub sockets elsewhere for each of them. A friend suggested using req/rep on startup for the procs to know where to bind, sound reasonable?</div>
<div class="line">[Friday 25 March 2011] [16:43:29] &lt;dermoth|work&gt;      traviscline, in general for in pub/sub you have one suv with many put connecting to it</div>
<div class="line">[Friday 25 March 2011] [16:43:37] &lt;dermoth|work&gt;      one sub with many pub</div>
<div class="line">[Friday 25 March 2011] [16:43:44] &lt;dermoth|work&gt;      oops</div>
<div class="line">[Friday 25 March 2011] [16:43:49] &lt;dermoth|work&gt;      i mean toe opposite</div>
<div class="line">[Friday 25 March 2011] [16:44:09] &lt;dermoth|work&gt;      now I get what you mean :)</div>
<div class="line">[Friday 25 March 2011] [16:45:12] &lt;dermoth|work&gt;      traviscline, so it is that any web process should be ble to update the other processes?</div>
<div class="line">[Friday 25 March 2011] [17:04:10] &lt;dermoth|work&gt;      traviscline, well assuming this is what you want, you&#8217;ll need a forwarder device; all processes will connect their pub and sub sockets to it... and I strongly suggest testing it, expecially thing like all web servers reloading at once (could happen when logrotate kicks in if you leave it on)</div>
<div class="line">[Friday 25 March 2011] [17:05:02] &lt;dermoth|work&gt;      traviscline, ohoh I feel a cache pool like memcached might be better suited gfor that and could consume much less resources than two tcp connections per web process</div>
<div class="line">[Friday 25 March 2011] [18:13:34] &lt;mikko&gt;     evenin&#8217;</div>
<div class="line">[Friday 25 March 2011] [18:20:44] &lt;Seta00&gt;    hey I want a dot on that community map too :3</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rabb184a 10/ (6 files in 4 dirs):</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: ZMQ_NOBLOCK renamed ZMQ_DONTWAIT</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: Done because of POSIX compliance</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hEKZog">http://bit.ly/hEKZog</a></div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * r82dbef3 10/ src/zmq.cpp :</div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: Memory leak in zmq_recv fixed</div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ie2raB">http://bit.ly/ie2raB</a></div>
<div class="line">[Saturday 26 March 2011] [09:45:47] &lt;Guthur&gt;  I see someone mention compiled binary size on ARM cores on the mailing list...</div>
<div class="line">[Saturday 26 March 2011] [09:46:04] &lt;Guthur&gt;  can ZeroMQ be successfully cross compiled for the ARM</div>
<div class="line">[Saturday 26 March 2011] [10:04:41] &lt;sustrik&gt; Guthur: iirc someone have done it</div>
<div class="line">[Saturday 26 March 2011] [10:04:53] &lt;sustrik&gt; there should be a mail about it on the mailing list</div>
<div class="line">[Saturday 26 March 2011] [10:05:02] &lt;sustrik&gt; or maybe a wiki page on the site</div>
<div class="line">[Saturday 26 March 2011] [10:05:30] &lt;Guthur&gt;  sustrik, I&#8217;ll have a look</div>
<div class="line">[Saturday 26 March 2011] [10:05:52] &lt;Guthur&gt;  Is there some search mechanism for the mailing list bar google</div>
<div class="line">[Saturday 26 March 2011] [10:10:36] &lt;Guthur&gt;  oh nvm</div>
<div class="line">[Saturday 26 March 2011] [10:32:43] &lt;Guthur&gt;  pieterh, I have the opportunity of presenting ZeroMQ to my team at work, any suggestions on content</div>
<div class="line">[Saturday 26 March 2011] [12:17:06] &lt;Eruquen&gt; is there a difference between zmq_zmsg_t and zmsg_t?</div>
<div class="line">[Saturday 26 March 2011] [12:18:02] &lt;sustrik&gt; what&#8217;s zmsg_t?</div>
<div class="line">[Saturday 26 March 2011] [12:21:07] &lt;Eruquen&gt; a type that is used in the C examples</div>
<div class="line">[Saturday 26 March 2011] [12:22:03] &lt;Eruquen&gt; maybe that&#8217;s why I get abitrary results vom zmq_msg_size</div>
<div class="line">[Saturday 26 March 2011] [12:42:30] &lt;sustrik&gt; i assume it&#8217;s some layer on top of 0mq that&#8217;s used by the guide</div>
<div class="line">[Saturday 26 March 2011] [12:42:35] &lt;sustrik&gt; no idea how it works</div>
<div class="line">[Saturday 26 March 2011] [12:42:36] &lt;sustrik&gt; sorry</div>
<div class="line">[Saturday 26 March 2011] [12:52:21] &lt;Guthur&gt;  Eruquen, source is here <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C/zmsg.h">https://github.com/imatix/zguide/blob/master/examples/C/zmsg.h</a></div>
<div class="line">[Saturday 26 March 2011] [12:52:47] &lt;Guthur&gt;  it provides some useful helper functions for msg</div>
<div class="line">[Saturday 26 March 2011] [14:30:36] &lt;Zevv&gt;    Hi all. Just learned about 0mq, seems that this can fix a lot of my daily pains. One question: is it possible in a inproc environment to pass pointers around ? I&#8217;m considering if 0mq can be used in our app which shares video data among a few threads on an embedded device which is painfully slow doing memcpy()&#8217;s</div>
<div class="line">[Saturday 26 March 2011] [14:31:05] &lt;Zevv&gt;    most of the messaging is probably ok to do using 0mq, but only the video data itself - several MB&#8217;s per frame - can not be copied around for performance reasons</div>
<div class="line">[Saturday 26 March 2011] [14:31:13] &lt;Zevv&gt;    is this a known scenario ?</div>
<div class="line">[Saturday 26 March 2011] [14:58:55] &lt;Guthur&gt;  Zevv, sure you could pass the memory address around if you want</div>
<div class="line">[Saturday 26 March 2011] [15:11:01] &lt;dermoth|home&gt;    Hey... I posted on the mailing list about PUSH/PULL sockets not failing over... now I&#8217;m reading 2.1 documentation, and it seems ZMQ_BACKLOG is what I want... Basically I want to fail over to other devices connected to the same socket as soon as possible, without alrering the high watermark</div>
<div class="line">[Saturday 26 March 2011] [15:12:01] &lt;dermoth|home&gt;    so multiple devices can be used for redundancy, without queueing message if one is down.</div>
<div class="line">[Saturday 26 March 2011] [15:17:41] &lt;sustrik&gt; dermoth|home: ZMQ_BACKLOG has to do only with connecting, it has no effect on messages themselves</div>
<div class="line">[Saturday 26 March 2011] [15:17:46] &lt;sustrik&gt; see man listen</div>
<div class="line">[Saturday 26 March 2011] [15:23:10] &lt;dermoth|home&gt;    oh</div>
<div class="line">[Saturday 26 March 2011] [15:23:55] &lt;dermoth|home&gt;    right, i missed the &#8220;peer connection&#8221; part</div>
<div class="line">[Saturday 26 March 2011] [16:08:34] &lt;seb`&gt;    can zeromq 2.1 talk to 2.0.10?</div>
<div class="line">[Saturday 26 March 2011] [16:08:49] &lt;sustrik&gt; let me see</div>
<div class="line">[Saturday 26 March 2011] [16:08:58] &lt;seb`&gt;    it would make it easier to upgrade:-)</div>
<div class="line">[Saturday 26 March 2011] [16:09:02] &lt;seb`&gt;    sustrik: thanks:-)</div>
<div class="line">[Saturday 26 March 2011] [16:09:45] &lt;sustrik&gt; yes, it can</div>
<div class="line">[Saturday 26 March 2011] [16:09:52] &lt;seb`&gt;    cool</div>
<div class="line">[Saturday 26 March 2011] [16:10:44] &lt;seb`&gt;    that will really save me from upgrade hell</div>
<div class="line">[Saturday 26 March 2011] [16:11:02] &lt;sustrik&gt; :)</div>
<div class="line">[Saturday 26 March 2011] [16:30:38] &lt;Guthur&gt;  surely if it couldn&#8217;t that would be a big issue</div>
<div class="line">[Saturday 26 March 2011] [18:43:36] &lt;<a href="#id89"><span class="problematic" id="id167">thatch__</span></a>&gt;        Is there a way to verify that a remote zeromq server is available before atempting to connect to it?</div>
<div class="line">[Saturday 26 March 2011] [19:05:02] &lt;Guthur&gt;  <a href="#id89"><span class="problematic" id="id168">thatch__</span></a>, you could checkout chapter 4 of the guide for some reliability patterns</div>
<div class="line">[Saturday 26 March 2011] [19:05:37] &lt;<a href="#id89"><span class="problematic" id="id169">thatch__</span></a>&gt;        thanks :)</div>
<div class="line">[Sunday 27 March 2011] [00:17:27] &lt;EduardoFonseca&gt;    Hi Guys. I&#8217;m trying to figure out how to implement connection dettection on top of zeroMQ. Any tips?</div>
<div class="line">[Sunday 27 March 2011] [00:17:35] &lt;EduardoFonseca&gt;    <a href="#id85"><span class="problematic" id="id86">*</span></a>detection, sorry.</div>
<div class="line">[Sunday 27 March 2011] [00:33:39] &lt;seb`&gt;      EduardoFonseca: you could send a first message to signal the connection</div>
<div class="line">[Sunday 27 March 2011] [00:33:58] &lt;seb`&gt;      it would have to be added to your own protocol</div>
<div class="line">[Sunday 27 March 2011] [00:37:56] &lt;EduardoFonseca&gt;    great</div>
<div class="line">[Sunday 27 March 2011] [00:38:07] &lt;EduardoFonseca&gt;    but what about detecting when this connection has gone away?</div>
<div class="line">[Sunday 27 March 2011] [00:38:43] &lt;EduardoFonseca&gt;    I tried implementing heartbeats, but the code started to get really complex.</div>
<div class="line">[Sunday 27 March 2011] [00:38:57] &lt;seb`&gt;      I was going to suggest that:-)</div>
<div class="line">[Sunday 27 March 2011] [00:39:21] &lt;seb`&gt;      on req/rep a heartbeat should not be that complex</div>
<div class="line">[Sunday 27 March 2011] [00:40:22] &lt;EduardoFonseca&gt;    I&#8217;m using XREQ and XREP... but the loadbalancing part got complex.</div>
<div class="line">[Sunday 27 March 2011] [00:40:44] &lt;EduardoFonseca&gt;    I was planning to reimplement the Majordomo pattern... but, why use zeroMQ if you need a broker? :)</div>
<div class="line">[Sunday 27 March 2011] [13:09:55] &lt;mikko&gt;     howdy guys</div>
<div class="line">[Sunday 27 March 2011] [13:57:22] &lt;Guthur&gt;    hey mikko</div>
<div class="line">[Sunday 27 March 2011] [13:57:54] &lt;Guthur&gt;    do you know if Ian Barbers PHP presentation slides are available anywhere for download, besides slideshare</div>
<div class="line">[Sunday 27 March 2011] [13:58:08] &lt;mikko&gt;     Guthur: let me check</div>
<div class="line">[Sunday 27 March 2011] [13:59:19] &lt;mikko&gt;     his blog seems to be down</div>
<div class="line">[Sunday 27 March 2011] [14:06:31] &lt;Guthur&gt;    ok, I&#8217;ll check it later</div>
<div class="line">[Sunday 27 March 2011] [14:06:36] &lt;Guthur&gt;    cheers mikko</div>
<div class="line">[Sunday 27 March 2011] [14:14:07] &lt;mikko&gt;     i can ask him for a pdf</div>
<div class="line">[Sunday 27 March 2011] [14:25:19] &lt;Guthur&gt;    mikko, that would great, cheers</div>
<div class="line">[Sunday 27 March 2011] [14:36:12] &lt;pieter_hintjens&gt;   Guthur: slideshare should offer downloads, doesn&#8217;t it?</div>
<div class="line">[Sunday 27 March 2011] [14:36:42] &lt;Guthur&gt;    pieter_hintjens, It does. i just didn&#8217;t want to sign up</div>
<div class="line">[Sunday 27 March 2011] [14:36:53] &lt;pieter_hintjens&gt;   yeah</div>
<div class="line">[Sunday 27 March 2011] [14:41:29] &lt;mikko&gt;     finally got some more build capacity online</div>
<div class="line">[Sunday 27 March 2011] [14:41:34] &lt;mikko&gt;     x86_64 centos</div>
<div class="line">[Sunday 27 March 2011] [14:41:46] &lt;mikko&gt;     rpms are now built every night</div>
<div class="line">[Sunday 27 March 2011] [14:43:01] &lt;mikko&gt;     pieter_hintjens: i&#8217;ll try to add libzapi today</div>
<div class="line">[Sunday 27 March 2011] [14:43:08] &lt;pieter_hintjens&gt;   mikko: nice!</div>
<div class="line">[Sunday 27 March 2011] [14:43:18] &lt;pieter_hintjens&gt;   I also renamed ZFL to libzfl, you saw that</div>
<div class="line">[Sunday 27 March 2011] [14:43:23] &lt;mikko&gt;     i did</div>
<div class="line">[Sunday 27 March 2011] [14:43:27] &lt;Guthur&gt;    I was actually going to draw some inspiration from Ian&#8217;s presentation for a presentation at work</div>
<div class="line">[Sunday 27 March 2011] [14:43:28] &lt;mikko&gt;     i was away yesterday and today</div>
<div class="line">[Sunday 27 March 2011] [14:43:31] &lt;mikko&gt;     spa weekend</div>
<div class="line">[Sunday 27 March 2011] [14:43:42] &lt;pieter_hintjens&gt;   :-) it was excellent weather here in Belgium</div>
<div class="line">[Sunday 27 March 2011] [14:43:42] &lt;mikko&gt;     been doing nothing but soaking in warm water</div>
<div class="line">[Sunday 27 March 2011] [14:44:13] &lt;Guthur&gt;    I&#8217;ve been wanting to ask him if it would be ok to borrow some stuff, just haven&#8217;t been able to catch him in here</div>
<div class="line">[Sunday 27 March 2011] [14:49:07]      * pieterh is making a new version of the guide</div>
<div class="line">[Sunday 27 March 2011] [14:49:18] &lt;pieterh&gt;   all code blocks highlighted, all collapsible (except a few)</div>
<div class="line">[Sunday 27 March 2011] [14:49:19] &lt;pieterh&gt;   <a class="reference external" href="http://zguide.zeromq.org/test:ch1">http://zguide.zeromq.org/test:ch1</a></div>
<div class="line">[Sunday 27 March 2011] [15:40:18]      * pieterh has created a monster, the Guide won&#8217;t load any longer...</div>
<div class="line">[Sunday 27 March 2011] [15:45:24] &lt;Guthur&gt;    it loads for me</div>
<div class="line">[Sunday 27 March 2011] [15:45:32]      * pieterh is fixing it as we speak...</div>
<div class="line">[Sunday 27 March 2011] [15:45:37] &lt;Guthur&gt;    but there is issues with the language translation link</div>
<div class="line">[Sunday 27 March 2011] [15:45:41] &lt;Guthur&gt;    links*</div>
<div class="line">[Sunday 27 March 2011] [15:45:50] &lt;pieterh&gt;   yes, reload in a few heartbeats...</div>
<div class="line">[Sunday 27 March 2011] [15:45:54] &lt;pieterh&gt;   the problem is the marked up code blocks are huge</div>
<div class="line">[Sunday 27 March 2011] [15:46:10] &lt;pieterh&gt;   including 320 of them in the page kind of does not work</div>
<div class="line">[Sunday 27 March 2011] [15:46:44] &lt;Guthur&gt;    hehe, I can imagine</div>
<div class="line">[Sunday 27 March 2011] [15:47:06] &lt;pieterh&gt;   it should work better now, code examples appear in a new tab</div>
<div class="line">[Sunday 27 March 2011] [15:47:17] &lt;pieterh&gt;   shame, it was kind of nice to have them inline...</div>
<div class="line">[Sunday 27 March 2011] [15:50:17] &lt;Guthur&gt;    oh new tabs, umm, I tend to curse pages that do that</div>
<div class="line">[Sunday 27 March 2011] [15:51:32] &lt;Guthur&gt;    is the C version still inline?</div>
<div class="line">[Sunday 27 March 2011] [15:53:36] &lt;pieterh&gt;   well, nope, but I&#8217;m going to make a further round of improvements</div>
<div class="line">[Sunday 27 March 2011] [15:53:52] &lt;pieterh&gt;   will inline the C version</div>
<div class="line">[Sunday 27 March 2011] [15:53:58] &lt;pieterh&gt;   and ditto for the PHP version</div>
<div class="line">[Sunday 27 March 2011] [15:56:28] &lt;mikko&gt;     pieterh: <a class="reference external" href="http://build.zero.mq/job/libzapi/3/console">http://build.zero.mq/job/libzapi/3/console</a></div>
<div class="line">[Sunday 27 March 2011] [15:56:38] &lt;mikko&gt;     ROUTER and DEALER are not in the main repo?</div>
<div class="line">[Sunday 27 March 2011] [15:56:52] &lt;mikko&gt;     the one that sustrik maintains</div>
<div class="line">[Sunday 27 March 2011] [15:56:55] &lt;pieterh&gt;   nope</div>
<div class="line">[Sunday 27 March 2011] [15:57:07] &lt;pieterh&gt;   libzapi needs 2.1.latest</div>
<div class="line">[Sunday 27 March 2011] [15:57:26] &lt;pieterh&gt;   I&#8217;m hoping sustrik will eventually make the ROUTER/DEALER changes but can&#8217;t force him to</div>
<div class="line">[Sunday 27 March 2011] [15:57:34] &lt;pieterh&gt;   mikko: hang on, I&#8217;</div>
<div class="line">[Sunday 27 March 2011] [15:57:36] &lt;mikko&gt;     this situation is very confusing</div>
<div class="line">[Sunday 27 March 2011] [15:57:39] &lt;pieterh&gt;   I&#8217;ll make a patch to libzapi</div>
<div class="line">[Sunday 27 March 2011] [15:57:50] &lt;pieterh&gt;   it&#8217;ll become less confusing over time</div>
<div class="line">[Sunday 27 March 2011] [15:57:58] &lt;pieterh&gt;   a lot of change happening in a lot of places...</div>
<div class="line">[Sunday 27 March 2011] [15:58:03] &lt;pieterh&gt;   gimme 2 minutes...</div>
<div class="line">[Sunday 27 March 2011] [15:58:09] &lt;mikko&gt;     no hurry</div>
<div class="line">[Sunday 27 March 2011] [16:00:16] &lt;pieterh&gt;   mikko: ok, done, new version pushed</div>
<div class="line">[Sunday 27 March 2011] [16:00:38] &lt;mikko&gt;     kicking off a new build</div>
<div class="line">[Sunday 27 March 2011] [16:00:48] &lt;mikko&gt;     #4 on the way</div>
<div class="line">[Sunday 27 March 2011] [16:00:51] &lt;pieterh&gt;   :-)</div>
<div class="line">[Sunday 27 March 2011] [16:02:40] &lt;mikko&gt;     builds</div>
<div class="line">[Sunday 27 March 2011] [16:02:52] &lt;mikko&gt;     <a class="reference external" href="http://build.zero.mq/job/libzapi/4/cobertura/_default_/">http://build.zero.mq/job/libzapi/4/cobertura/_default_/</a></div>
<div class="line">[Sunday 27 March 2011] [16:02:57] &lt;mikko&gt;     here is the code coverage</div>
<div class="line">[Sunday 27 March 2011] [16:04:02] &lt;mikko&gt;     i will refactor the builds as soon as the repository rename happens</div>
<div class="line">[Sunday 27 March 2011] [16:04:16] &lt;Guthur&gt;    pieterh, are you using ROUTER/DEALER in the guide</div>
<div class="line">[Sunday 27 March 2011] [16:04:16] &lt;mikko&gt;     so that i can do the changes in one go</div>
<div class="line">[Sunday 27 March 2011] [16:04:27] &lt;pieterh&gt;   Guthur: not yet, but that&#8217;s the next step</div>
<div class="line">[Sunday 27 March 2011] [16:04:45] &lt;pieterh&gt;   then, move the C code over to using libzapi</div>
<div class="line">[Sunday 27 March 2011] [16:04:57] &lt;pieterh&gt;   mikko: sweet!</div>
<div class="line">[Sunday 27 March 2011] [16:05:48] &lt;mikko&gt;     zeromq2-2, is this a new branch as well?</div>
<div class="line">[Sunday 27 March 2011] [16:06:00] &lt;pieterh&gt;   mikko: yes, that&#8217;s the packaging project for 2.2</div>
<div class="line">[Sunday 27 March 2011] [16:06:10] &lt;pieterh&gt;   the packaging projects will include more than libzmq, hopefully</div>
<div class="line">[Sunday 27 March 2011] [16:06:17] &lt;mikko&gt;     did my patch get through to the list ?</div>
<div class="line">[Sunday 27 March 2011] [16:06:21] &lt;pieterh&gt;   but they&#8217;ll track the libzmq major/minor versions</div>
<div class="line">[Sunday 27 March 2011] [16:06:25] &lt;pieterh&gt;   yes, your patch made it</div>
<div class="line">[Sunday 27 March 2011] [16:06:38] &lt;mikko&gt;     cool, not very good connectivity out in the sticks</div>
<div class="line">[Sunday 27 March 2011] [16:06:56] &lt;pieterh&gt;   from the hot spas... :-)</div>
<div class="line">[Sunday 27 March 2011] [16:08:02] &lt;mikko&gt;     so, what is the role of zeromq2, zeromq2-2 and zeromq2-1 repos?</div>
<div class="line">[Sunday 27 March 2011] [16:08:14] &lt;pieterh&gt;   just for consistency, really</div>
<div class="line">[Sunday 27 March 2011] [16:08:26] &lt;pieterh&gt;   zeromq2 will be deprecated, become a map for visitors who use the old URI</div>
<div class="line">[Sunday 27 March 2011] [16:08:45] &lt;mikko&gt;     do we in the future push changes to upstream first?</div>
<div class="line">[Sunday 27 March 2011] [16:08:48] &lt;pieterh&gt;   2-1 and 2-2 are packaging projects, 2-2 will be where we add new projects like libzapi</div>
<div class="line">[Sunday 27 March 2011] [16:08:49] &lt;mikko&gt;     because that would be ideal</div>
<div class="line">[Sunday 27 March 2011] [16:09:05] &lt;pieterh&gt;   yes, if possible</div>
<div class="line">[Sunday 27 March 2011] [16:09:11] &lt;pieterh&gt;   sometimes it won&#8217;t be possible</div>
<div class="line">[Sunday 27 March 2011] [16:09:29] &lt;pieterh&gt;   the 3.0 libzmq core will eventually change too much</div>
<div class="line">[Sunday 27 March 2011] [16:10:14] &lt;pieterh&gt;   we already had this case for one patch to 2.0, which had to be hand-made for that version</div>
<div class="line">[Sunday 27 March 2011] [16:10:42] &lt;mikko&gt;     something in this model feels very wrong but i really can&#8217;t put my finger on it</div>
<div class="line">[Sunday 27 March 2011] [16:11:04] &lt;mikko&gt;     it feels like duplicating the effort in some ways</div>
<div class="line">[Sunday 27 March 2011] [16:11:11] &lt;pieterh&gt;   in fact it&#8217;s not</div>
<div class="line">[Sunday 27 March 2011] [16:11:25] &lt;mikko&gt;     i made the openpgm build patches twice</div>
<div class="line">[Sunday 27 March 2011] [16:11:30] &lt;mikko&gt;     2-1 and upstream</div>
<div class="line">[Sunday 27 March 2011] [16:11:37] &lt;pieterh&gt;   yes, because you used pull requests to send to me</div>
<div class="line">[Sunday 27 March 2011] [16:11:54] &lt;pieterh&gt;   and sustrik does not accept anything except patches to ML</div>
<div class="line">[Sunday 27 March 2011] [16:12:03] &lt;pieterh&gt;   it would not change if we had one repo, two branches</div>
<div class="line">[Sunday 27 March 2011] [16:12:33] &lt;pieterh&gt;   the advantage is you were able to get rapid feedback that your changes worked</div>
<div class="line">[Sunday 27 March 2011] [16:12:39] &lt;mikko&gt;     so, we are still doing the patches on ML?</div>
<div class="line">[Sunday 27 March 2011] [16:12:43] &lt;pieterh&gt;   if you send upstream, you have no control over when they are released</div>
<div class="line">[Sunday 27 March 2011] [16:12:56] &lt;pieterh&gt;   i guess so, yes</div>
<div class="line">[Sunday 27 March 2011] [16:13:09] &lt;pieterh&gt;   I&#8217;d rather use the pull model explained on the contributing page</div>
<div class="line">[Sunday 27 March 2011] [16:13:26] &lt;pieterh&gt;   especially since that&#8217;s how Sustriks sends me changes... :-/</div>
<div class="line">[Sunday 27 March 2011] [16:14:25] &lt;pieterh&gt;   basically, any contributor has to convince the project owner to accept his patch</div>
<div class="line">[Sunday 27 March 2011] [16:14:37] &lt;pieterh&gt;   project owner can define how patches are submitted</div>
<div class="line">[Sunday 27 March 2011] [16:15:17] &lt;pieterh&gt;   and contributor is the one who stresses if project A and project B have different codebases</div>
<div class="line">[Sunday 27 March 2011] [16:15:26] &lt;Guthur&gt;    but is this not sort of fracturing zeromq too much</div>
<div class="line">[Sunday 27 March 2011] [16:15:30] &lt;pieterh&gt;   nah</div>
<div class="line">[Sunday 27 March 2011] [16:15:32] &lt;mikko&gt;     yes, it is</div>
<div class="line">[Sunday 27 March 2011] [16:15:33] &lt;Guthur&gt;    projects with in a project</div>
<div class="line">[Sunday 27 March 2011] [16:15:40] &lt;pieterh&gt;   libzmq != ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:15:42] &lt;mikko&gt;     this puts more pressure on contributors</div>
<div class="line">[Sunday 27 March 2011] [16:15:49] &lt;pieterh&gt;   yes, mikko, it does</div>
<div class="line">[Sunday 27 March 2011] [16:15:59] &lt;pieterh&gt;   but that&#8217;s necessary if we&#8217;re not to have bottlenecks</div>
<div class="line">[Sunday 27 March 2011] [16:16:15] &lt;mikko&gt;     we already have massive bottlenecks</div>
<div class="line">[Sunday 27 March 2011] [16:16:27] &lt;pieterh&gt;   yes, but this is one big one removed</div>
<div class="line">[Sunday 27 March 2011] [16:16:32] &lt;mikko&gt;     we have three separate branches as three separate projects</div>
<div class="line">[Sunday 27 March 2011] [16:16:43] &lt;pieterh&gt;   that&#8217;s not a bottleneck...</div>
<div class="line">[Sunday 27 March 2011] [16:16:44] &lt;mikko&gt;     every contributor has to mix and match their patches</div>
<div class="line">[Sunday 27 March 2011] [16:16:52] &lt;mikko&gt;     and only one person can accept that patch</div>
<div class="line">[Sunday 27 March 2011] [16:17:01] &lt;pieterh&gt;   sorry, this isn&#8217;t accurate, mikko</div>
<div class="line">[Sunday 27 March 2011] [16:17:04] &lt;mikko&gt;     if that person is on hols your patch is sitting and waiting somewhere</div>
<div class="line">[Sunday 27 March 2011] [16:17:26] &lt;pieterh&gt;   this is standard with Git</div>
<div class="line">[Sunday 27 March 2011] [16:17:36] &lt;pieterh&gt;   you send patches or pull requests to a project maintainer</div>
<div class="line">[Sunday 27 March 2011] [16:17:41] &lt;mikko&gt;     no, it&#8217;s not</div>
<div class="line">[Sunday 27 March 2011] [16:17:52] &lt;pieterh&gt;   you want everyone to commit to the repository?</div>
<div class="line">[Sunday 27 March 2011] [16:17:55] &lt;mikko&gt;     this is one possible workflow</div>
<div class="line">[Sunday 27 March 2011] [16:18:08] &lt;mikko&gt;     who do you mean by everyone?</div>
<div class="line">[Sunday 27 March 2011] [16:18:13] &lt;pieterh&gt;   it&#8217;s the one that scales to many projects, because each one is smallish</div>
<div class="line">[Sunday 27 March 2011] [16:18:43] &lt;pieterh&gt;   and this only affects libzmq because it&#8217;s got several incompatible versions</div>
<div class="line">[Sunday 27 March 2011] [16:18:57] &lt;pieterh&gt;   that is only one project out of 20 or 30</div>
<div class="line">[Sunday 27 March 2011] [16:20:50] &lt;pieterh&gt;   mikko: do you have an alternative proposal that lets us do what we want to do?</div>
<div class="line">[Sunday 27 March 2011] [16:21:20] &lt;mikko&gt;     currently we are doing everything very differently from what people contributing to open source are used to</div>
<div class="line">[Sunday 27 March 2011] [16:21:31] &lt;mikko&gt;     and that alienates contributors</div>
<div class="line">[Sunday 27 March 2011] [16:21:44] &lt;pieterh&gt;   that&#8217;s true if you look at the core project but it&#8217;s not true for the overall scheme</div>
<div class="line">[Sunday 27 March 2011] [16:22:22] &lt;pieterh&gt;   each project accepts contributors and contributions in its own way</div>
<div class="line">[Sunday 27 March 2011] [16:22:32] &lt;pieterh&gt;   this is consistent with how open source communities work</div>
<div class="line">[Sunday 27 March 2011] [16:22:44] &lt;pieterh&gt;   the only difference here is we have separate projects for <em>packaging</em> ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:22:52] &lt;pieterh&gt;   but that is necessary because libzmq != ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:23:02] &lt;pieterh&gt;   which will become much clearer once the core repo is renamed</div>
<div class="line">[Sunday 27 March 2011] [16:23:37] &lt;mikko&gt;     a contributor should not need to understand this amazing complex grand schema</div>
<div class="line">[Sunday 27 March 2011] [16:23:55] &lt;pieterh&gt;   well, we do have a lot of projects, how do you propose to map this?</div>
<div class="line">[Sunday 27 March 2011] [16:23:57] &lt;mikko&gt;     it should be as straigh-forward as: i run 2.1, find the git repo, make a patch</div>
<div class="line">[Sunday 27 March 2011] [16:24:04] &lt;pieterh&gt;   the packaging projects are largely hidden</div>
<div class="line">[Sunday 27 March 2011] [16:24:17] &lt;pieterh&gt;   make your patches against the libzmq git</div>
<div class="line">[Sunday 27 March 2011] [16:24:33] &lt;mikko&gt;     this should not be followed by having to understand that actually if my patch goes to libzmq i need to get it accepted to zeromq2-2 and zeromq2-1</div>
<div class="line">[Sunday 27 March 2011] [16:24:46] &lt;mikko&gt;     and possibly need to rework the patch for each version separately</div>
<div class="line">[Sunday 27 March 2011] [16:24:51] &lt;pieterh&gt;   well, fair enough, but understand that...</div>
<div class="line">[Sunday 27 March 2011] [16:25:04] &lt;pieterh&gt;   these repositories are for stabilization</div>
<div class="line">[Sunday 27 March 2011] [16:25:12] &lt;mikko&gt;     but they aren&#8217;t</div>
<div class="line">[Sunday 27 March 2011] [16:25:20] &lt;pieterh&gt;   that means they only in theory get bug fixes or very safe functional changes</div>
<div class="line">[Sunday 27 March 2011] [16:25:21] &lt;mikko&gt;     we pushed openpgm build fixes straight to 2-1</div>
<div class="line">[Sunday 27 March 2011] [16:25:29] &lt;mikko&gt;     not through &#8216;libzmq&#8217; repo</div>
<div class="line">[Sunday 27 March 2011] [16:25:36] &lt;pieterh&gt;   indeed, let&#8217;s not do that again</div>
<div class="line">[Sunday 27 March 2011] [16:25:45] &lt;pieterh&gt;   however, realize that it&#8217;s how you got those changes <em>tested</em> rapidly</div>
<div class="line">[Sunday 27 March 2011] [16:26:00] &lt;pieterh&gt;   next time, send to the ML</div>
<div class="line">[Sunday 27 March 2011] [16:26:07] &lt;Guthur&gt;    i&#8217;ve not really seen various version of a library being seen as projects</div>
<div class="line">[Sunday 27 March 2011] [16:26:22] &lt;pieterh&gt;   RHEL x.x?</div>
<div class="line">[Sunday 27 March 2011] [16:26:23] &lt;Guthur&gt;    if that happens they usually fork off and rename,</div>
<div class="line">[Sunday 27 March 2011] [16:26:55] &lt;Guthur&gt;    not familiar with RH to be honest</div>
<div class="line">[Sunday 27 March 2011] [16:27:02] &lt;pieterh&gt;   the linux kernel is repackaged in many distributions, each is a project</div>
<div class="line">[Sunday 27 March 2011] [16:27:42] &lt;Guthur&gt;    yes but are we not talking about the &#8216;kernel&#8217; at the moment</div>
<div class="line">[Sunday 27 March 2011] [16:27:51] &lt;pieterh&gt;   well, libzmq is like the kernel for ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:28:14] &lt;pieterh&gt;   mikko: next time you send me a pull request for 2-1, I&#8217;ll reject it, OK?</div>
<div class="line">[Sunday 27 March 2011] [16:28:19] &lt;Guthur&gt;    so 2, 2-1, 2-2 are distros?</div>
<div class="line">[Sunday 27 March 2011] [16:28:24] &lt;pieterh&gt;   yes, thank you</div>
<div class="line">[Sunday 27 March 2011] [16:28:29] &lt;pieterh&gt;   2 is not</div>
<div class="line">[Sunday 27 March 2011] [16:28:33] &lt;pieterh&gt;   2 is dead</div>
<div class="line">[Sunday 27 March 2011] [16:28:45] &lt;pieterh&gt;   will be dead once it&#8217;s been renamed to libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:29:04] &lt;Guthur&gt;    seems I a bit crazy to me, but i&#8217;m not overly experienced with these sort of things</div>
<div class="line">[Sunday 27 March 2011] [16:29:26] &lt;pieterh&gt;   there is no other way to create the freedom to make real packaging projects</div>
<div class="line">[Sunday 27 March 2011] [16:29:36] &lt;pieterh&gt;   it seems pretty clear to me</div>
<div class="line">[Sunday 27 March 2011] [16:29:53] &lt;pieterh&gt;   alternative is to all work in one repo, and have no packaging projects</div>
<div class="line">[Sunday 27 March 2011] [16:30:02] &lt;mikko&gt;     hahaha, you designed the schema</div>
<div class="line">[Sunday 27 March 2011] [16:30:07] &lt;mikko&gt;     of course it&#8217;s clear to you</div>
<div class="line">[Sunday 27 March 2011] [16:30:16] &lt;pieterh&gt;   sure</div>
<div class="line">[Sunday 27 March 2011] [16:30:22] &lt;mikko&gt;     but from contributor&#8217;s point of view the situation is not very good (imho)</div>
<div class="line">[Sunday 27 March 2011] [16:30:33] &lt;pieterh&gt;   well, it&#8217;ll be clearer IMO when libzmq is properly named</div>
<div class="line">[Sunday 27 March 2011] [16:30:43] &lt;pieterh&gt;   &#8220;send your patch to the libzmq project&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:30:50] &lt;pieterh&gt;   and that can downstream to the various distros</div>
<div class="line">[Sunday 27 March 2011] [16:30:53] &lt;mikko&gt;     what happens when sustrik is on holidays?</div>
<div class="line">[Sunday 27 March 2011] [16:31:00] &lt;pieterh&gt;   ask him, I don&#8217;t know</div>
<div class="line">[Sunday 27 March 2011] [16:31:10] &lt;pieterh&gt;   mikko: this is not a command-and-control model</div>
<div class="line">[Sunday 27 March 2011] [16:31:13] &lt;mikko&gt;     see, are we not creating massive bottlenecks?</div>
<div class="line">[Sunday 27 March 2011] [16:31:28] &lt;pieterh&gt;   propose an alternative to &#8220;person who knows the code real well&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:31:38] &lt;pieterh&gt;   we&#8217;re not <em>creating</em> that bottleneck, it exists</div>
<div class="line">[Sunday 27 March 2011] [16:31:48] &lt;pieterh&gt;   seriously, your alternative is what, clone sustrik?</div>
<div class="line">[Sunday 27 March 2011] [16:32:05] &lt;pieterh&gt;   there are other people who know the core structures pretty well</div>
<div class="line">[Sunday 27 March 2011] [16:32:14] &lt;pieterh&gt;   if sustrik is unable to act as maintainer, I&#8217;m sure he&#8217;ll delegate</div>
<div class="line">[Sunday 27 March 2011] [16:32:21] &lt;pieterh&gt;   but it is <em>his</em> responsibility</div>
<div class="line">[Sunday 27 March 2011] [16:32:35] &lt;pieterh&gt;   you and me can debate that for years, it matters not at all</div>
<div class="line">[Sunday 27 March 2011] [16:32:52] &lt;mikko&gt;     yes, what i don&#8217;t get is this cycle:</div>
<div class="line">[Sunday 27 March 2011] [16:32:56] &lt;Guthur&gt;    could we not have the situation where the &#8216;distros&#8217; start deviating quite far from the main dev branch</div>
<div class="line">[Sunday 27 March 2011] [16:33:05] &lt;pieterh&gt;   Guthur: unlikely, why would they?</div>
<div class="line">[Sunday 27 March 2011] [16:33:31] &lt;mikko&gt;     fork libzmq, create patch, commit, create signed patch, reset, wait for a merge, then pull down your own changes</div>
<div class="line">[Sunday 27 March 2011] [16:33:32] &lt;pieterh&gt;   the very point is that the people maintaining distros don&#8217;t know the code</div>
<div class="line">[Sunday 27 March 2011] [16:33:40] &lt;Guthur&gt;    just curious really, they seemed to have become more than just previous versions</div>
<div class="line">[Sunday 27 March 2011] [16:33:46] &lt;pieterh&gt;   mikko: ack, it&#8217;s complex and I don&#8217;t like it</div>
<div class="line">[Sunday 27 March 2011] [16:33:50] &lt;Guthur&gt;    they seemed to have become their own projects</div>
<div class="line">[Sunday 27 March 2011] [16:34:06] &lt;mikko&gt;     forgot the &#8220;send mail to mailing-list&#8221; from that</div>
<div class="line">[Sunday 27 March 2011] [16:34:12] &lt;pieterh&gt;   Guthur: &#8216;seem to&#8217; is mild, the goal was to create dependent projects</div>
<div class="line">[Sunday 27 March 2011] [16:34:16] &lt;pieterh&gt;   mikko: yes, I know</div>
<div class="line">[Sunday 27 March 2011] [16:34:29] &lt;pieterh&gt;   I&#8217;ve lobbied sustrik on this several times, here and on the list</div>
<div class="line">[Sunday 27 March 2011] [16:34:49] &lt;pieterh&gt;   next time, chime in, on the ML thread ... :-/</div>
<div class="line">[Sunday 27 March 2011] [16:35:10] &lt;mikko&gt;     i had forgotten about the ML patches already</div>
<div class="line">[Sunday 27 March 2011] [16:35:18] &lt;pieterh&gt;   I spent a lot of effort documenting alternative flows on the contributing page</div>
<div class="line">[Sunday 27 March 2011] [16:39:55] &lt;Guthur&gt;    pieterh, dependent or independent?</div>
<div class="line">[Sunday 27 March 2011] [16:40:04] &lt;pieterh&gt;   both :-)</div>
<div class="line">[Sunday 27 March 2011] [16:40:17] &lt;pieterh&gt;   look, 2-1 is not a good example, it&#8217;s too young</div>
<div class="line">[Sunday 27 March 2011] [16:40:33] &lt;Guthur&gt;    though it already as deviation</div>
<div class="line">[Sunday 27 March 2011] [16:40:36] &lt;pieterh&gt;   2-2 will include, in my plans, libzmq, libzapi, the new C++ binding</div>
<div class="line">[Sunday 27 March 2011] [16:40:43] &lt;Guthur&gt;    where something needs forward ported</div>
<div class="line">[Sunday 27 March 2011] [16:40:53] &lt;pieterh&gt;   obviously it depends on those N projects</div>
<div class="line">[Sunday 27 March 2011] [16:41:03] &lt;Guthur&gt;    admittedly only a minor #define</div>
<div class="line">[Sunday 27 March 2011] [16:41:11] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:41:32] &lt;pieterh&gt;   one way would be to use submodules and branches in the source repo</div>
<div class="line">[Sunday 27 March 2011] [16:41:50] &lt;pieterh&gt;   that would require that the branches are maintained in that repo</div>
<div class="line">[Sunday 27 March 2011] [16:42:26] &lt;pieterh&gt;   experience is that this wasn&#8217;t happening, due to complexity of moving changes between branches (or somesuch)</div>
<div class="line">[Sunday 27 March 2011] [16:42:47] &lt;pieterh&gt;   lack of interest from main developers in maintaining branches</div>
<div class="line">[Sunday 27 March 2011] [16:42:54] &lt;mikko&gt;     it&#8217;s the same amount of complexity as between different repos</div>
<div class="line">[Sunday 27 March 2011] [16:42:58] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:43:12] &lt;pieterh&gt;   exactly, but with different repos, you can slice the work over several people much more easily</div>
<div class="line">[Sunday 27 March 2011] [16:43:22] &lt;pieterh&gt;   this is the key insight</div>
<div class="line">[Sunday 27 March 2011] [16:43:31] &lt;pieterh&gt;   collaborating inside one repo is really difficult</div>
<div class="line">[Sunday 27 March 2011] [16:43:35] &lt;pieterh&gt;   it demands agreement</div>
<div class="line">[Sunday 27 March 2011] [16:43:42] &lt;pieterh&gt;   clearly we don&#8217;t get that easily</div>
<div class="line">[Sunday 27 March 2011] [16:43:44] &lt;Guthur&gt;    I thought git made it easier</div>
<div class="line">[Sunday 27 March 2011] [16:43:54] &lt;pieterh&gt;   it doesn&#8217;t change people and make them less stubborn</div>
<div class="line">[Sunday 27 March 2011] [16:43:58] &lt;Guthur&gt;    certainly easier than the likes of SVN</div>
<div class="line">[Sunday 27 March 2011] [16:44:04] &lt;pieterh&gt;   git makes it easier to have many repos</div>
<div class="line">[Sunday 27 March 2011] [16:44:15]      * Guthur has SVN pain at work, it&#8217;s not pretty</div>
<div class="line">[Sunday 27 March 2011] [16:44:19] &lt;pieterh&gt;   indeed</div>
<div class="line">[Sunday 27 March 2011] [16:44:34] &lt;pieterh&gt;   git lets us solve the problem by slicing projects up, like I said on the ML, per ego</div>
<div class="line">[Sunday 27 March 2011] [16:44:45] &lt;pieterh&gt;   it&#8217;s actually a really pleasant way to work</div>
<div class="line">[Sunday 27 March 2011] [16:44:53] &lt;Guthur&gt;    yeah, that discussion got a little out of hand</div>
<div class="line">[Sunday 27 March 2011] [16:45:09] &lt;Guthur&gt;    well it appeared so from an onlookers perspective</div>
<div class="line">[Sunday 27 March 2011] [16:45:14] &lt;pieterh&gt;   exactly, and that was the same last time we discussed multiple branches in the main repo</div>
<div class="line">[Sunday 27 March 2011] [16:46:39] &lt;pieterh&gt;   that was sometime in July iir, and my conclusion was &#8220;don&#8217;t work in the core repo, ever&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:47:18] &lt;mikko&gt;     as the community grows an ideal process to me would be to have multiple people with commit access</div>
<div class="line">[Sunday 27 March 2011] [16:47:29] &lt;mikko&gt;     and each set of changes is mailed automatically to mailing-list</div>
<div class="line">[Sunday 27 March 2011] [16:47:52] &lt;pieterh&gt;   mikko: yes, probably a good model</div>
<div class="line">[Sunday 27 March 2011] [16:48:36] &lt;mikko&gt;     this also gives more visibility to changes going into repo and allows easily start conversation on mailing-list</div>
<div class="line">[Sunday 27 March 2011] [16:48:53] &lt;pieterh&gt;   however, I&#8217;m not going to raise this discussion for libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:49:15] &lt;pieterh&gt;   you already have committer access to libzapi and libzfl</div>
<div class="line">[Sunday 27 March 2011] [16:50:25] &lt;Guthur&gt;    libzmq is the heart of it all though, and so the most important</div>
<div class="line">[Sunday 27 March 2011] [16:50:27] &lt;mikko&gt;     yes</div>
<div class="line">[Sunday 27 March 2011] [16:50:39] &lt;mikko&gt;     for example now i would be keen on getting coverage into libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:50:39] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:50:51] &lt;mikko&gt;     but it&#8217;s futile to work on the stuff before openpgm patch has been merged</div>
<div class="line">[Sunday 27 March 2011] [16:51:08] &lt;pieterh&gt;   mikko: my experience contributing to core has been quite negative, I have to admit</div>
<div class="line">[Sunday 27 March 2011] [16:51:10] &lt;mikko&gt;     i don&#8217;t even know if rebase works well on that cycle</div>
<div class="line">[Sunday 27 March 2011] [16:51:50] &lt;mikko&gt;     as in, when i pull back the changes merged by sustrik does that conflict with my local changes?</div>
<div class="line">[Sunday 27 March 2011] [16:51:59] &lt;mikko&gt;     or is it the same commit?</div>
<div class="line">[Sunday 27 March 2011] [16:52:08] &lt;pieterh&gt;   depends how you do it IMO</div>
<div class="line">[Sunday 27 March 2011] [16:58:43] &lt;pieterh&gt;   Guthur: OK, I&#8217;m able to inline the main language, the page is slow but loads</div>
<div class="line">[Sunday 27 March 2011] [17:00:28] &lt;Seta00&gt;    pieterh: the libzapi project file is broken</div>
<div class="line">[Sunday 27 March 2011] [17:00:54] &lt;pieterh&gt;   Seta00: yes, I&#8217;ve not tested it yet on MSVC</div>
<div class="line">[Sunday 27 March 2011] [17:01:03] &lt;pieterh&gt;   do you want to try fixing it and sending a patch?</div>
<div class="line">[Sunday 27 March 2011] [17:01:25] &lt;Seta00&gt;    yes</div>
<div class="line">[Sunday 27 March 2011] [17:01:31] &lt;pieterh&gt;   it&#8217;s a copy of the libzfl project file, but obviously refers to the wrong sources &amp; includes</div>
<div class="line">[Sunday 27 March 2011] [17:01:33] &lt;pieterh&gt;   thanks! :-)</div>
<div class="line">[Sunday 27 March 2011] [17:06:19] &lt;pieterh&gt;   g&#8217;night folks, I need to crash, early morning tomorrow</div>
<div class="line">[Sunday 27 March 2011] [17:06:48] &lt;Seta00&gt;    pieterh: just a small question before you go, if you have to include non-standard headers to the project, where should they go? on the standard include directory?</div>
<div class="line">[Sunday 27 March 2011] [17:06:55] &lt;Seta00&gt;    (MSVC doesn&#8217;t have inttypes.h)</div>
<div class="line">[Sunday 27 March 2011] [17:07:05] &lt;Seta00&gt;    but there&#8217;s <a class="reference external" href="https://code.google.com/p/msinttypes/">https://code.google.com/p/msinttypes/</a></div>
<div class="line">[Sunday 27 March 2011] [17:07:24] &lt;pieterh&gt;   Seta00: hmm, edit zapi_prelude.h to include the right files and move the existing include to one of the #if UNIX blocks</div>
<div class="line">[Sunday 27 March 2011] [17:07:33] &lt;Seta00&gt;    okay thanks</div>
<div class="line">[Sunday 27 March 2011] [17:07:49] &lt;pieterh&gt;   there&#8217;s a section in the doc on Porting libzapi, may be helpful</div>
<div class="line">[Sunday 27 March 2011] [17:39:14] &lt;Seta00&gt;    apparently msvc has no implementation of sigaction</div>
<div class="line">[Sunday 27 March 2011] [17:39:23] &lt;Seta00&gt;    :(</div>
<div class="line">[Sunday 27 March 2011] [17:42:31] &lt;JusticeFries&gt;      what are the differences in typical use cases for 0mq vs something like rabbitmq?</div>
<div class="line">[Sunday 27 March 2011] [19:05:16] &lt;klestes&gt;   hello, is anyone talking today ?</div>
<div class="line">[Sunday 27 March 2011] [19:19:27] &lt;klestes&gt;   if anyone does see this, what is the best way to interoperate with channels in basic (non 0MQ) tcp ?  do you have to write a custom gateway, TCP &lt;&#8211;&gt; 0MQ, or is there a better solution inherent in 0MQ that I&#8217;ve missed ?</div>
<div class="line">[Sunday 27 March 2011] [19:20:09] &lt;jdroid-&gt;   i&#8217;ve been using zmq with python and am trying to compile some stuff with c now, but I keep getting errors.</div>
<div class="line">[Sunday 27 March 2011] [19:20:36] &lt;jdroid-&gt;   does this make sense to anyone? <a class="reference external" href="http://pastebin.com/7Mj5KSSH">http://pastebin.com/7Mj5KSSH</a></div>
<div class="line">[Sunday 27 March 2011] [19:20:44]      * jdroid- is very rusty with c...</div>
<div class="line">[Sunday 27 March 2011] [19:21:06] &lt;jdroid-&gt;   here&#8217;s the code: <a class="reference external" href="http://pastebin.com/efKgRJiK">http://pastebin.com/efKgRJiK</a></div>
<div class="line">[Sunday 27 March 2011] [19:21:22] &lt;klestes&gt;   you have to program a lot lower with C than with python - how would you say the experience has been using python with 0MQ ?</div>
<div class="line">[Sunday 27 March 2011] [19:22:06] &lt;jdroid-&gt;   The experience with python has been awesome so far. Very easy.</div>
<div class="line">[Sunday 27 March 2011] [19:22:23] &lt;jdroid-&gt;   I built a Mongrel2 handler with eventlet and zeromq recently. github.com/j2labs/brubeck</div>
<div class="line">[Sunday 27 March 2011] [19:23:20] &lt;jdroid-&gt;   I&#8217;ve been posting a few pyzmq examples to github as it comes up in conversation, but I want to add a multilang example AND get back in C doing it.</div>
<div class="line">[Sunday 27 March 2011] [19:23:26] &lt;jdroid-&gt;   <a class="reference external" href="https://github.com/j2labs/zmq_examples">https://github.com/j2labs/zmq_examples</a></div>
<div class="line">[Sunday 27 March 2011] [19:23:53] &lt;klestes&gt;   after learning Perl, my goal is never go back to C!  Evah !</div>
<div class="line">[Sunday 27 March 2011] [19:24:13] &lt;jdroid-&gt;   After learning Perl, I vowed never to go back to Perl. So right back atcha buddy!</div>
<div class="line">[Sunday 27 March 2011] [19:24:31] &lt;jdroid-&gt;   :)</div>
<div class="line">[Sunday 27 March 2011] [19:24:47] &lt;klestes&gt;   also you might want to check out the new zapi.  Hintjen is very excited about it, so it could be big.</div>
<div class="line">[Sunday 27 March 2011] [19:25:06] &lt;klestes&gt;   well, I&#8217;m not going to stir up a fight.  I have a lot of respect for Python, and might be doing some work in it soon myself.</div>
<div class="line">[Sunday 27 March 2011] [19:26:28] &lt;klestes&gt;   my point was to be, programming 0MQ in either python or perl is much easier than C, IMHO.</div>
<div class="line">[Sunday 27 March 2011] [19:26:52] &lt;jdroid-&gt;   Well I&#8217;m only kidding anyway. Perl is a fine language if you&#8217;re working with people who respect others. :)</div>
<div class="line">[Sunday 27 March 2011] [19:28:29] &lt;klestes&gt;   It has its warts, and its uhm, non warty really ok type features.</div>
<div class="line">[Sunday 27 March 2011] [19:28:53] &lt;klestes&gt;   I get sick of all those $ signs all the time, esp. since its been a while since I&#8217;ve seen $$$$ !</div>
<div class="line">[Sunday 27 March 2011] [19:29:32] &lt;jdroid-&gt;   You&#8217;ll dig python then I&#8217;m sure. The code is generally as easy to read as people say.</div>
<div class="line">[Sunday 27 March 2011] [19:29:38] &lt;jdroid-&gt;   But anyway... I&#8217;m trying to get some c compiled!</div>
<div class="line">[Sunday 27 March 2011] [19:29:52] &lt;klestes&gt;   I looked at your code, but not being in C for at least a decade, I couildn&#8217;t catch anything right off the bat.  I know its either a linking issue, or maybe forgetting to include a header (but you seem to have done that right)</div>
<div class="line">[Sunday 27 March 2011] [19:30:19] &lt;klestes&gt;   what compiler are you using, Gcc ?</div>
<div class="line">[Sunday 27 March 2011] [19:31:03] &lt;jdroid-&gt;   oh great question actually... i&#8217;m using the gcc xcode gave me</div>
<div class="line">[Sunday 27 March 2011] [19:31:34] &lt;jdroid-&gt;   seems to compile mongrel2 just fine, so i figure i&#8217;ve got my args wrong somehow</div>
<div class="line">[Sunday 27 March 2011] [19:31:50] &lt;jdroid-&gt;   gcc 4.2.1 specifically tho</div>
<div class="line">[Sunday 27 March 2011] [19:31:51] &lt;klestes&gt;   uhm, xcode - are you on OS/X ?</div>
<div class="line">[Sunday 27 March 2011] [19:31:54] &lt;jdroid-&gt;   yep</div>
<div class="line">[Sunday 27 March 2011] [19:31:59] &lt;klestes&gt;   lucky guy !</div>
<div class="line">[Sunday 27 March 2011] [19:32:09] &lt;jdroid-&gt;   i guess..? macs are cheap these days</div>
<div class="line">[Sunday 27 March 2011] [19:32:18] &lt;klestes&gt;   someday I&#8217;m gonna go mac...and never come back.</div>
<div class="line">[Sunday 27 March 2011] [19:32:33] &lt;klestes&gt;   well, depends on what kinda mac you want.  the one I want is 2.5 - 3k.</div>
<div class="line">[Sunday 27 March 2011] [19:34:03] &lt;klestes&gt;   try compiling and linking one of the simple examples from the guide.  do you get the same errors ?</div>
<div class="line">[Sunday 27 March 2011] [19:35:54] &lt;jdroid-&gt;   i seem to get the same errrors</div>
<div class="line">[Sunday 27 March 2011] [19:35:56] &lt;jdroid-&gt;   hmm</div>
<div class="line">[Sunday 27 March 2011] [19:36:11] &lt;jdroid-&gt;   i tried this: <a class="reference external" href="http://zguide.zeromq.org/c:hwclient">http://zguide.zeromq.org/c:hwclient</a></div>
<div class="line">[Sunday 27 March 2011] [19:38:51] &lt;jdroid-&gt;   ah got it</div>
<div class="line">[Sunday 27 March 2011] [19:39:00] &lt;jdroid-&gt;   i forgot -lzmq at the end of the gcc cmd</div>
<div class="line">[Sunday 27 March 2011] [19:39:42] &lt;JusticeFries&gt;      what is the difference in typical use case for 0mq versus something in the realm of rabbitmq?</div>
<div class="line">[Sunday 27 March 2011] [19:40:05] &lt;jdroid-&gt;   JusticeFries: I think the mistake there is assuming zmq is a replacement for rabbitmq</div>
<div class="line">[Sunday 27 March 2011] [19:40:19] &lt;JusticeFries&gt;      nope</div>
<div class="line">[Sunday 27 March 2011] [19:40:23] &lt;JusticeFries&gt;      not assuming replacement.</div>
<div class="line">[Sunday 27 March 2011] [19:40:30] &lt;JusticeFries&gt;      i&#8217;m interested in how they complement each other, too. :)</div>
<div class="line">[Sunday 27 March 2011] [19:40:34] &lt;JusticeFries&gt;      and what each one excels at.</div>
<div class="line">[Sunday 27 March 2011] [19:40:53] &lt;jdroid-&gt;   :)</div>
<div class="line">[Sunday 27 March 2011] [19:41:30] &lt;jdroid-&gt;   So ZMQ is more like sockets with messaging semantics. You&#8217;d still build your broker, which might be dropping stuff from one zmq socket in a db, while sending stuff out of the db across another socket</div>
<div class="line">[Sunday 27 March 2011] [19:41:58] &lt;JusticeFries&gt;      okay.</div>
<div class="line">[Sunday 27 March 2011] [19:42:05] &lt;JusticeFries&gt;      unix sockets, or something more specific to ZMQ?</div>
<div class="line">[Sunday 27 March 2011] [19:42:16] &lt;jdroid-&gt;   Zmq offers multiple types of sockets.</div>
<div class="line">[Sunday 27 March 2011] [19:42:21] &lt;JusticeFries&gt;      fair enough.</div>
<div class="line">[Sunday 27 March 2011] [19:42:25] &lt;jdroid-&gt;   You could use unix sockets if you want. You could use tcp just as easily</div>
<div class="line">[Sunday 27 March 2011] [19:43:49] &lt;JusticeFries&gt;      so then - I&#8217;m looking at doing something that settles somewhere near rabbit&#8217;s topic exchanges. basically, using it for some group messaging functions for end users that doesn&#8217;t hit the DB.</div>
<div class="line">[Sunday 27 March 2011] [19:43:52] &lt;klestes&gt;   I&#8217;ve heard that rabbitMQ is somewhat synergetic with ZMQ, it can be made into a broker.</div>
<div class="line">[Sunday 27 March 2011] [19:44:01] &lt;JusticeFries&gt;      i&#8217;ve heard that too.</div>
<div class="line">[Sunday 27 March 2011] [19:44:10] &lt;klestes&gt;   we musta read the same article ;)_</div>
<div class="line">[Sunday 27 March 2011] [19:44:15] &lt;JusticeFries&gt;      just not sure where to fit it in, or if it is even useful in this current context.</div>
<div class="line">[Sunday 27 March 2011] [19:44:44] &lt;jdroid-&gt;   what you heard is probably that zeromq has amqp support: <a class="reference external" href="http://www.zeromq.org/docs:welcome-from-amqp">http://www.zeromq.org/docs:welcome-from-amqp</a></div>
<div class="line">[Sunday 27 March 2011] [19:44:58] &lt;JusticeFries&gt;      either that or ilya&#8217;s blog.</div>
<div class="line">[Sunday 27 March 2011] [19:45:02] &lt;JusticeFries&gt;      igvita</div>
<div class="line">[Sunday 27 March 2011] [19:45:33] &lt;JusticeFries&gt;      heh I like the gross generalizations.</div>
<div class="line">[Sunday 27 March 2011] [19:45:46] &lt;jdroid-&gt;   thanks. i&#8217;m the James Dennis that&#8217;s quoted!</div>
<div class="line">[Sunday 27 March 2011] [19:45:51] &lt;klestes&gt;   yeah, he does that well :)</div>
<div class="line">[Sunday 27 March 2011] [19:45:59] &lt;JusticeFries&gt;      ha nice.</div>
<div class="line">[Sunday 27 March 2011] [19:46:13] &lt;klestes&gt;   its a small 0world after all.</div>
<div class="line">[Sunday 27 March 2011] [19:46:26] &lt;JusticeFries&gt;      well i may assault you with questions later - though the guide is pretty extensive</div>
<div class="line">[Sunday 27 March 2011] [19:46:34] &lt;klestes&gt;   0mq used to - didn&#8217;t they chunk the amqp thang ?</div>
<div class="line">[Sunday 27 March 2011] [19:46:49] &lt;klestes&gt;   yeah, and it seems to be getting biggeer and betta&#8217; all the time...</div>
<div class="line">[Sunday 27 March 2011] [21:35:55] &lt;jdroid-&gt;   These slides are awesome: <a class="reference external" href="http://www.slideshare.net/IanBarber/zeromq-is-the-answer">http://www.slideshare.net/IanBarber/zeromq-is-the-answer</a></div>
<div class="line">[Sunday 27 March 2011] [21:41:34] &lt;xet&gt;       hi</div>
<div class="line">[Sunday 27 March 2011] [21:42:33] &lt;xet&gt;       im doing some tests in a small pub/sub app</div>
<div class="line">[Sunday 27 March 2011] [21:42:43] &lt;xet&gt;       need some help</div>
<div class="line">[Monday 28 March 2011] [03:29:36] &lt;guido_g&gt;   pieterh: what the hell did you do to the guide? firefox uses 100% cpu and opera takes ages to load the page.</div>
<div class="line">[Monday 28 March 2011] [06:59:32] &lt;pieterh&gt;   guido_g: hi</div>
<div class="line">[Monday 28 March 2011] [09:43:54] &lt;nicolas&gt;   hi</div>
<div class="line">[Monday 28 March 2011] [09:56:03] &lt;pieterh&gt;   nicolas: hi</div>
<div class="line">[Monday 28 March 2011] [10:07:42] &lt;nicolas&gt;   i&#8217;m having some trouble with zmq pub/sub in c++</div>
<div class="line">[Monday 28 March 2011] [10:08:29] &lt;nicolas&gt;   memory starts to be eaten by my application</div>
<div class="line">[Monday 28 March 2011] [10:08:48] &lt;nicolas&gt;   and it has no memory leaks</div>
<div class="line">[Monday 28 March 2011] [10:09:03] &lt;nicolas&gt;   its just a simple client/server pair to do performance tests</div>
<div class="line">[Monday 28 March 2011] [10:15:09] &lt;nicolas&gt;   it seems to be that the client is receiving or processing data faster than the server, and then the server starts to eat memory up</div>
<div class="line">[Monday 28 March 2011] [10:21:59] &lt;pieterh&gt;   nicolas: yes, this is normal</div>
<div class="line">[Monday 28 March 2011] [10:22:09] &lt;pieterh&gt;   the client is presumably slower than the server</div>
<div class="line">[Monday 28 March 2011] [10:23:04] &lt;pieterh&gt;   you should set a high-water mark, on the PUB socket</div>
<div class="line">[Monday 28 March 2011] [10:24:31] &lt;traviscline&gt;       nicolas: with 0mq it&#8217;s up to you in some sense how you want to deal with that mismatch, covered well by the guide</div>
<div class="line">[Monday 28 March 2011] [10:25:53] &lt;CIA-22&gt;    jzmq: 03Gonzalo Diethelm 07master * re3dc6dc 10/ (2 files): Got rid of calls to sleep() in all examples / tests. - <a class="reference external" href="http://bit.ly/fnyW8U">http://bit.ly/fnyW8U</a></div>
<div class="line">[Monday 28 March 2011] [10:45:54] &lt;nicolas&gt;   I see</div>
<div class="line">[Monday 28 March 2011] [10:46:33] &lt;nicolas&gt;   pieterh: thanks</div>
<div class="line">[Monday 28 March 2011] [10:46:44] &lt;pieterh&gt;   nicolas: np</div>
<div class="line">[Monday 28 March 2011] [10:46:50] &lt;nicolas&gt;   traviscline: any particular seciton of the guide that might be helpful for my problem ?</div>
<div class="line">[Monday 28 March 2011] [10:47:32] &lt;traviscline&gt;       nicolas: absolutely read the whole thing, but in particular look for HWM references</div>
<div class="line">[Monday 28 March 2011] [10:47:33] &lt;pieterh&gt;   nicolas: this is explained in Ch2, <a class="reference external" href="http://zguide.zeromq.org/page:all#toc43">http://zguide.zeromq.org/page:all#toc43</a></div>
<div class="line">[Monday 28 March 2011] [10:47:45] &lt;nicolas&gt;   thanks!</div>
<div class="line">[Monday 28 March 2011] [11:17:33] &lt;private_meta&gt;      ahahaha... binary star... good name</div>
<div class="line">[Monday 28 March 2011] [11:24:38] &lt;private_meta&gt;      pieterh: there?</div>
<div class="line">[Monday 28 March 2011] [12:21:09] &lt;rbancroft&gt; l</div>
<div class="line">[Monday 28 March 2011] [12:21:25] &lt;rbancroft&gt; im sorry, mischan</div>
<div class="line">[Monday 28 March 2011] [12:22:58] &lt;mikko&gt;     hi</div>
<div class="line">[Monday 28 March 2011] [12:53:11] &lt;private_meta&gt;      pieterh: a short question about zmsg. You are using unsigned characters as storage option for message parts, but whatever input or output you do or get from zmsg is signed char. You told me that void * instead of char * should be used, but still I find it somewhat inconsistent that you store in unsigned char and input/output in the zmsg as signed char.</div>
<div class="line">[Monday 28 March 2011] [12:53:48] &lt;private_meta&gt;      pieterh: maybe some consistency update would be good, like making it signed char as the entire existing api of zmsg is signed char only</div>
<div class="line">[Monday 28 March 2011] [13:40:38] &lt;pieterh&gt;   private_meta: re</div>
<div class="line">[Monday 28 March 2011] [13:41:25] &lt;pieterh&gt;   zmsg in the Guide is string-based but in libzapi I moved to a proper binary API</div>
<div class="line">[Monday 28 March 2011] [15:03:35] &lt;pieterh&gt;   mikko: hi!</div>
<div class="line">[Monday 28 March 2011] [15:08:07] &lt;jobytaffey&gt;        Hi, I&#8217;m having a problem with libev and REP sockets. I get the fd from ZMQ_FD, I watch for EV_READ and then zmq_recv(). I then watch for EV_WRITE and zmq_send(). But, after the first pair of messages, I never see EV_READ again. Oddly, if I ctrl-c my REQ test app (infinite loop doing zmq_send + zmq_recv) my REP app receives a packet. Any ideas?</div>
<div class="line">[Monday 28 March 2011] [15:09:58] &lt;pieterh&gt;   jobytaffey: are you checking for errors on all 0MQ calls?</div>
<div class="line">[Monday 28 March 2011] [15:10:09] &lt;jobytaffey&gt;        I believe so, yes.</div>
<div class="line">[Monday 28 March 2011] [15:11:14] &lt;pieterh&gt;   Sounds like you&#8217;re stuck in a blocking call which exits when you press Ctrl-C, and then your test app does a send on the REQ socket</div>
<div class="line">[Monday 28 March 2011] [15:11:49] &lt;pieterh&gt;   without a minimal example to look at, it&#8217;s hard to help...</div>
<div class="line">[Monday 28 March 2011] [15:12:07] &lt;jobytaffey&gt;        I thought you&#8217;d say that, I&#8217;ll get to work on one :-)</div>
<div class="line">[Monday 28 March 2011] [15:14:26] &lt;mikko&gt;     pieterh: hi</div>
<div class="line">[Monday 28 March 2011] [15:14:35] &lt;pieterh&gt;   mikko: excellent latency this evening :-)</div>
<div class="line">[Monday 28 March 2011] [15:40:35] &lt;Guthur&gt;    Describing ZeroMQ in five minutes, is it possible? hehe</div>
<div class="line">[Monday 28 March 2011] [15:41:05] &lt;Guthur&gt;    there is space for a 5 min lightening talk at the ELS, and I&#8217;m tempted to give it a go</div>
<div class="line">[Monday 28 March 2011] [15:41:17] &lt;mikko&gt;     whats ELS?</div>
<div class="line">[Monday 28 March 2011] [15:41:53] &lt;Guthur&gt;    European Lisp Symposium</div>
<div class="line">[Monday 28 March 2011] [15:42:02] &lt;Guthur&gt;    it&#8217;s on this week in Hamburg</div>
<div class="line">[Monday 28 March 2011] [15:43:45] &lt;jond&gt;      Guthur : which lisp are you using out of interest?</div>
<div class="line">[Monday 28 March 2011] [15:44:01] &lt;pieterh&gt;   Guthur: 5 minutes is kind of tight :-)</div>
<div class="line">[Monday 28 March 2011] [15:44:21] &lt;pieterh&gt;   you can say exactly one thing, and repeat it three times</div>
<div class="line">[Monday 28 March 2011] [15:44:23] &lt;jdroid-&gt;   Guthur: I think you can get the gist of it quickly.</div>
<div class="line">[Monday 28 March 2011] [15:44:48] &lt;Guthur&gt;    jond, I don&#8217;t get to use it nearly as much as I like, but it would be usually Common Lisp, SBCL would be my implementation of choice</div>
<div class="line">[Monday 28 March 2011] [15:44:57] &lt;jdroid-&gt;   I wrote this on HN yesterday and realized you actually can describe zmq fast. You just need to start with saying it&#8217;s a sockets system.</div>
<div class="line">[Monday 28 March 2011] [15:44:59] &lt;jdroid-&gt;   <a class="reference external" href="http://news.ycombinator.com/item?id=2377224">http://news.ycombinator.com/item?id=2377224</a></div>
<div class="line">[Monday 28 March 2011] [15:45:26] &lt;jdroid-&gt;   Put messaging in to the idea once they understand how the socket&#8217;s side of it works. I think Zed takes this approach too, but I&#8217;m inferring that from having seen him speak</div>
<div class="line">[Monday 28 March 2011] [15:45:32] &lt;pieterh&gt;   &#8220;That&#8217;s correct that ZeroMQ isn&#8217;t a server&#8221;...</div>
<div class="line">[Monday 28 March 2011] [15:45:32] &lt;jond&gt;      Guthur: didnt zed shaw have a &#8220;sockets done right&#8221; article somewhere which might have been appropriated into the guide somewhere?</div>
<div class="line">[Monday 28 March 2011] [15:45:48] &lt;pieterh&gt;   jond: I had used part of Zed&#8217;s text, originally, but took it out again</div>
<div class="line">[Monday 28 March 2011] [15:45:52] &lt;jdroid-&gt;   pieterh: do you take issue with that line?</div>
<div class="line">[Monday 28 March 2011] [15:45:53] &lt;Guthur&gt;    I&#8217;ll have a look</div>
<div class="line">[Monday 28 March 2011] [15:46:06] &lt;pieterh&gt;   jdroid-: nope, it&#8217;s accurate</div>
<div class="line">[Monday 28 March 2011] [15:46:10] &lt;jdroid-&gt;   sweet</div>
<div class="line">[Monday 28 March 2011] [15:46:26] &lt;jdroid-&gt;   here&#8217;s the whole thread: <a class="reference external" href="http://news.ycombinator.com/item?id=2376822">http://news.ycombinator.com/item?id=2376822</a></div>
<div class="line">[Monday 28 March 2011] [15:46:27] &lt;pieterh&gt;   I&#8217;m just lolling because I finished writing Binary Star, a pattern for a high-availability server pair</div>
<div class="line">[Monday 28 March 2011] [15:46:54] &lt;pieterh&gt;   0MQ is a high-level language for constructing asynchronous messaging architectures</div>
<div class="line">[Monday 28 March 2011] [15:47:08] &lt;pieterh&gt;   it has implementations in 20+ programming languages</div>
<div class="line">[Monday 28 March 2011] [15:47:12] &lt;Guthur&gt;    I suppose it will be a good challenge to try a lightening talk, if nothing else</div>
<div class="line">[Monday 28 March 2011] [15:47:30] &lt;pieterh&gt;   it can construct brokers, clients, services, data distribution, workload distribution</div>
<div class="line">[Monday 28 March 2011] [15:47:35] &lt;jdroid-&gt;   Guthur: I put together these examples with that in mind: <a class="reference external" href="https://github.com/j2labs/zmq_examples">https://github.com/j2labs/zmq_examples</a></div>
<div class="line">[Monday 28 March 2011] [15:48:13] &lt;jond&gt;      pieterh : but actually via zfl zapi it becomes less about 0mq</div>
<div class="line">[Monday 28 March 2011] [15:48:27] &lt;pieterh&gt;   jond: it&#8217;s the same high level language</div>
<div class="line">[Monday 28 March 2011] [15:48:44] &lt;jdroid-&gt;   You can simulate OneMQ, using ZeroMQ. And with a OneMQ, you can simulate InfinityMQ.</div>
<div class="line">[Monday 28 March 2011] [15:48:51] &lt;jdroid-&gt;   Maybe that&#8217; not quite it... there&#8217;s a ZOI analogy in there somewhere</div>
<div class="line">[Monday 28 March 2011] [15:49:04] &lt;pieterh&gt;   well, all messaging systems are turing equivalent I guess</div>
<div class="line">[Monday 28 March 2011] [15:49:10] &lt;pieterh&gt;   but they&#8217;re not the same</div>
<div class="line">[Monday 28 March 2011] [15:51:02] &lt;pieterh&gt;   IMO it&#8217;s inaccurate to describe XREP/XREQ as non-blocking versions of REP/REQ</div>
<div class="line">[Monday 28 March 2011] [15:51:41] &lt;jond&gt;      has anyone got a link to the Ian Barber presentation?</div>
<div class="line">[Monday 28 March 2011] [15:52:21] &lt;mpales&gt;    pieterh: the guide describes them in the same way</div>
<div class="line">[Monday 28 March 2011] [15:52:37] &lt;jobytaffey&gt;        I&#8217;d really appreciate it if someone could take a look at my libev/REQ:REP problem. It&#8217;s probably something silly, but I can&#8217;t see it. There&#8217;s a minimal example (files and tarball) here http://www.hodgepig.org/testcase/</div>
<div class="line">[Monday 28 March 2011] [15:52:48] &lt;pieterh&gt;   mpales: then I need to fix that, I&#8217;m going to review that whole explanation</div>
<div class="line">[Monday 28 March 2011] [15:52:51] &lt;Guthur&gt;    jond, <a class="reference external" href="http://vimeo.com/20605470">http://vimeo.com/20605470</a></div>
<div class="line">[Monday 28 March 2011] [15:54:38] &lt;pieterh&gt;   jobytaffey: maybe the client should connect to localhost, not <a href="#id87"><span class="problematic" id="id88">*</span></a>?</div>
<div class="line">[Monday 28 March 2011] [15:54:39] &lt;mpales&gt;    pieterh: in ch2: A Request-Reply Broker, there is this sentence: Luckily there are non-blocking versions of these two sockets, called XREQ and XREP.</div>
<div class="line">[Monday 28 March 2011] [15:54:50] &lt;pieterh&gt;   mpales: ugh...</div>
<div class="line">[Monday 28 March 2011] [15:54:59] &lt;jobytaffey&gt;        pieterh: Would that make a difference? It does connect ok.</div>
<div class="line">[Monday 28 March 2011] [15:55:14] &lt;jond&gt;      Guthur: cheers. also sbcl is pretty cool, though havent used lisp for quite a while (though did manage to have a job where i did it for three years!)</div>
<div class="line">[Monday 28 March 2011] [15:55:27] &lt;pieterh&gt;   jobytaffey: you connect to a name or IP address, not an interface</div>
<div class="line">[Monday 28 March 2011] [15:56:13] &lt;pieterh&gt;   mpales: thanks for pointing this out, I&#8217;m going to try to make the explanations more accurate</div>
<div class="line">[Monday 28 March 2011] [15:56:17] &lt;Guthur&gt;    jond, not many get the opportunity do such employment</div>
<div class="line">[Monday 28 March 2011] [15:56:21] &lt;jobytaffey&gt;        Ah, I see what you mean. * means bind to any i/f, but you need to be explicit for the connect.</div>
<div class="line">[Monday 28 March 2011] [15:56:46] &lt;pieterh&gt;   jobytaffey: indeed, fix this and see if your code works better, the rest looks fine though I&#8217;ve not run it</div>
<div class="line">[Monday 28 March 2011] [15:56:55] &lt;jobytaffey&gt;        No, that didn&#8217;t help.</div>
<div class="line">[Monday 28 March 2011] [15:57:00] &lt;Guthur&gt;    jond, are you still in software development?</div>
<div class="line">[Monday 28 March 2011] [15:57:26] &lt;mpales&gt;    pieterh: there is another thing I&#8217;d like to ask you</div>
<div class="line">[Monday 28 March 2011] [15:57:29] &lt;jond&gt;      Guthur: yes. <a class="reference external" href="http://xkcd.com/297/">http://xkcd.com/297/</a></div>
<div class="line">[Monday 28 March 2011] [15:57:34] &lt;pieterh&gt;   mpales: sure...</div>
<div class="line">[Monday 28 March 2011] [15:58:16] &lt;pieterh&gt;   jond: &#8220;elegant weapons...&#8221; lol</div>
<div class="line">[Monday 28 March 2011] [15:59:30] &lt;mpales&gt;    pieterh: the guide explains how to send a big file using multipart messages</div>
<div class="line">[Monday 28 March 2011] [15:59:37] &lt;Guthur&gt;    jond, i love how when &#8216;new&#8217; languages get new features which users trumpet the features are often ones that Lisps have had for over 20 years</div>
<div class="line">[Monday 28 March 2011] [15:59:56] &lt;pieterh&gt;   mpales: well, multipart messages are not really meant for files</div>
<div class="line">[Monday 28 March 2011] [16:00:07] &lt;mpales&gt;    pieterh: but also explains that until last part is sent/recvd, everything is kept in memory</div>
<div class="line">[Monday 28 March 2011] [16:00:14] &lt;pieterh&gt;   rather, it&#8217;s a simple way to marshal data</div>
<div class="line">[Monday 28 March 2011] [16:00:19] &lt;pieterh&gt;   indeed, all in memory</div>
<div class="line">[Monday 28 March 2011] [16:00:36] &lt;pieterh&gt;   if you want to send files you need to send chunks as individual messages</div>
<div class="line">[Monday 28 March 2011] [16:01:37] &lt;pieterh&gt;   if you want to do restartable file transfer, then</div>
<div class="line">[Monday 28 March 2011] [16:01:43] &lt;pieterh&gt;   handshake with the recipient, ask how much of the file they have, then send the rest</div>
<div class="line">[Monday 28 March 2011] [16:02:05] &lt;pieterh&gt;   if you send large chunks, e.g. 1MB, you can destroy any network</div>
<div class="line">[Monday 28 March 2011] [16:02:25] &lt;jond&gt;      Guthur. it&#8217;s all true but <a class="reference external" href="http://xkcd.com/224/">http://xkcd.com/224/</a> and there&#8217;s rarely any paying work in it</div>
<div class="line">[Monday 28 March 2011] [16:02:46] &lt;mpales&gt;    pieterh: i see, my mistake, multipart messages are not mentioned in this context</div>
<div class="line">[Monday 28 March 2011] [16:03:25] &lt;pieterh&gt;   mpales: I&#8217;ll make a file transfer example later on</div>
<div class="line">[Monday 28 March 2011] [16:03:36] &lt;jdroid-&gt;   pieterh: agreed, the guide gave me that text. In fact, the italicized text is literally copied from the guide so grep for that</div>
<div class="line">[Monday 28 March 2011] [16:04:16] &lt;pieterh&gt;   jdroid-: lol, that&#8217;s funny, I was about to rant about how inaccurate that text was :-)</div>
<div class="line">[Monday 28 March 2011] [16:04:49] &lt;jdroid-&gt;   in yo face!</div>
<div class="line">[Monday 28 March 2011] [16:04:51] &lt;jdroid-&gt;   :D</div>
<div class="line">[Monday 28 March 2011] [16:04:56] &lt;mpales&gt;    pieterh: great!</div>
<div class="line">[Monday 28 March 2011] [16:05:02] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 28 March 2011] [16:05:38] &lt;mpales&gt;    pieterh: i really like the style of the guide, thanks for the amazing work</div>
<div class="line">[Monday 28 March 2011] [16:05:57] &lt;pieterh&gt;   mpales: np, it&#8217;s fun to write, though it&#8217;s getting quite ... large...</div>
<div class="line">[Monday 28 March 2011] [16:07:04] &lt;Guthur&gt;    jond: I recently seen a job in London looking for a functional programmer with knowledge of clojure, very well paid</div>
<div class="line">[Monday 28 March 2011] [16:07:32] &lt;Guthur&gt;    though that&#8217;s relative to your current pay grade of course</div>
<div class="line">[Monday 28 March 2011] [16:07:55] &lt;Guthur&gt;    mine is most certainly on the lower end, hehe</div>
<div class="line">[Monday 28 March 2011] [16:08:25] &lt;mpales&gt;    pieterh: yes, it is</div>
<div class="line">[Monday 28 March 2011] [16:10:15] &lt;mpales&gt;    pieterh: btw. I used to read the guide with a larger font size, but since last week when I increase the font size, the browser goes mad... I use google chrome</div>
<div class="line">[Monday 28 March 2011] [16:11:02] &lt;pieterh&gt;   mpales: yeah, the HTML got significantly fatter, since I added color markup for the code examples</div>
<div class="line">[Monday 28 March 2011] [16:11:51] &lt;pieterh&gt;   oh, I just tried a larger font in Chrome, it gets very unhappy...</div>
<div class="line">[Monday 28 March 2011] [16:13:29] &lt;mpales&gt;    pieterh: you can get some cash from google if you report it :-)</div>
<div class="line">[Monday 28 March 2011] [16:14:21] &lt;i2pi&gt;      Hi. I have a PUSH/PULL queue working with multiple PULL&#8217;ers. I&#8217;m using NOBLOCK on both ends. I&#8217;d like the PUSH&#8217;er to not block if no PULLers are available, but for messages to be queued up for when the PULLers come back online. Is this possible? If so, how?</div>
<div class="line">[Monday 28 March 2011] [16:14:54] &lt;pieterh&gt;   mpales: they&#8217;ll just tell me to stop writing insane HTML... :-)</div>
<div class="line">[Monday 28 March 2011] [16:15:20] &lt;pieterh&gt;   i2pi: you can use zmq_poll</div>
<div class="line">[Monday 28 March 2011] [16:16:07] &lt;i2pi&gt;      pieterh: reading the docs now. Thanks.</div>
<div class="line">[Monday 28 March 2011] [16:16:30] &lt;Guthur&gt;    pieterh,  your guide has actually only 3 validation errors</div>
<div class="line">[Monday 28 March 2011] [16:16:43] &lt;Guthur&gt;    which is a lot better than the vast majority of the internet</div>
<div class="line">[Monday 28 March 2011] [16:16:55] &lt;pieterh&gt;   Guthur: ah, that&#8217;s because in fact I don&#8217;t write any of the HTML at all</div>
<div class="line">[Monday 28 March 2011] [16:17:07] &lt;pieterh&gt;   mpales: firefox has no trouble resizing the font, interestingly</div>
<div class="line">[Monday 28 March 2011] [16:17:09] &lt;Guthur&gt;    probably the best way, hehe</div>
<div class="line">[Monday 28 March 2011] [16:17:39] &lt;i2pi&gt;      pieterh: Hmm. I&#8217;m not sure if i understand this correctly. Can you give me a hint?</div>
<div class="line">[Monday 28 March 2011] [16:18:13] &lt;pieterh&gt;   i2pi: you poll on the PUSH socket using ZMQ_POLLOUT</div>
<div class="line">[Monday 28 March 2011] [16:18:24] &lt;mpales&gt;    pieterh: yes, looks definitely like a chrome bug</div>
<div class="line">[Monday 28 March 2011] [16:18:28] &lt;pieterh&gt;   I&#8217;ve not tried that, to be honest, but it&#8217;s the proper way IMO</div>
<div class="line">[Monday 28 March 2011] [16:18:39] &lt;pieterh&gt;   mpales: yes, I&#8217;m looking for a place to file it</div>
<div class="line">[Monday 28 March 2011] [16:19:08] &lt;mpales&gt;    pieterh: settings / tools / report...</div>
<div class="line">[Monday 28 March 2011] [16:20:11] &lt;i2pi&gt;      pieterh: Is the correct pattern to try doing a zmq_send() and if that fails with EAGAIN, then add that item to a list to poll. And then keep polling until the recvr returns?</div>
<div class="line">[Monday 28 March 2011] [16:20:53] &lt;pieterh&gt;   i2pi: look at the zmq_poll examples in the Guide, do the same except writing rather than reading</div>
<div class="line">[Monday 28 March 2011] [16:21:03] &lt;pieterh&gt;   you loop: poll / write / poll / write...</div>
<div class="line">[Monday 28 March 2011] [16:21:13] &lt;pieterh&gt;   doing a write only when poll tells you it&#8217;s OK</div>
<div class="line">[Monday 28 March 2011] [16:21:19] &lt;pieterh&gt;   s/write/send/</div>
<div class="line">[Monday 28 March 2011] [16:21:35] &lt;i2pi&gt;      so, its up to my app to maintain the queue of unsent items?</div>
<div class="line">[Monday 28 March 2011] [16:21:59] &lt;i2pi&gt;      (I&#8217;m coming from AMQP, where I expect the queue to do queuing for me)</div>
<div class="line">[Monday 28 March 2011] [16:23:16] &lt;jobytaffey&gt;        The plot thickens on my problem - tcpdump shows that despite my evserver.c calling zmq_send() and it returning 0, the packet is never transmitted (I assume, because it thinks the socket is blocked).</div>
<div class="line">[Monday 28 March 2011] [16:24:03] &lt;pieterh&gt;   i2pi: you need to read the Guide</div>
<div class="line">[Monday 28 March 2011] [16:24:22] &lt;i2pi&gt;      ok :)</div>
<div class="line">[Monday 28 March 2011] [16:24:37] &lt;pieterh&gt;   jobytaffey: have you already written some examples without using evserver?</div>
<div class="line">[Monday 28 March 2011] [16:25:04] &lt;jobytaffey&gt;        Yes, they&#8217;re in the URL I posted. There&#8217;s a REQ/REP client and server without libev.</div>
<div class="line">[Monday 28 March 2011] [16:25:20] &lt;i2pi&gt;      pieterh: I started on the guide, and please don&#8217;t take offense to this, but it is a little daunting that it starts very philosophically. I&#8217;d rather get straight into the meat.</div>
<div class="line">[Monday 28 March 2011] [16:25:43] &lt;pieterh&gt;   i2pi: there&#8217;s only about 1 page of philosophy, then it gets straight into code...</div>
<div class="line">[Monday 28 March 2011] [18:22:04] &lt;private_meta&gt;      pieterh: yes, you hinted on that before, but right now, the zguide version is still inconsistent</div>
<div class="line">[Monday 28 March 2011] [18:44:33] &lt;i2pi&gt;      pieterh: I&#8217;m a few hours into the guide and I&#8217;m still not seeing it in the guide.</div>
<div class="line">[Monday 28 March 2011] [22:32:59] &lt;Dawgmatix&gt; any pointers on how to write a zeromq device in python?</div>
<div class="line">[Monday 28 March 2011] [22:37:44] &lt;traviscline&gt;       Dawgmatix: <a class="reference external" href="http://zeromq.github.com/pyzmq/devices.html">http://zeromq.github.com/pyzmq/devices.html</a> read that?</div>
<div class="line">[Monday 28 March 2011] [22:38:10] &lt;Dawgmatix&gt; ah no, wasnt aware of that documentation</div>
<div class="line">[Monday 28 March 2011] [22:38:19] &lt;Dawgmatix&gt; have just read the guide so far</div>
<div class="line">[Monday 28 March 2011] [22:38:26] &lt;Dawgmatix&gt; and written some small programs</div>
<div class="line">[Monday 28 March 2011] [22:39:29] &lt;Dawgmatix&gt; thanks for the pointer :)</div>
<div class="line">[Wednesday 30 March 2011] [07:06:00] &lt;drbobbeaty&gt;     pieterh: any news on the release of 2.1.4 with the fixes we worked on? I&#8217;m interested in getting it and using it.</div>
<div class="line">[Wednesday 30 March 2011] [07:09:31] &lt;<a href="#id89"><span class="problematic" id="id170">mikko__</span></a>&gt;        sustrik: weekend is fine by me</div>
<div class="line">[Wednesday 30 March 2011] [07:10:25] &lt;sustrik&gt;        ok, let&#8217;s get in touch on weekend</div>
<div class="line">[Wednesday 30 March 2011] [07:13:13] &lt;murkel&gt; Hi...  I&#8217;m having an issue with poll() on zmq sockets (2.1.3 cpp) which are not yet connected on the TCP layer: the timeouts are not honoured.</div>
<div class="line">[Wednesday 30 March 2011] [07:13:29] &lt;murkel&gt; If I create a REQ socket, connect to an endpoint without a server listening, transmit a message and then poll( ZMQ_POLLIN ) before recv(), the poll never times out.</div>
<div class="line">[Wednesday 30 March 2011] [07:14:19] &lt;murkel&gt; just as a test, I noticed that the poll never times out if I try to send two messages over the same un-connected socket.</div>
<div class="line">[Wednesday 30 March 2011] [07:14:38] &lt;murkel&gt; Is this the correct approach or should I be doing this differently?</div>
<div class="line">[Wednesday 30 March 2011] [07:15:48] &lt;sustrik&gt;        can you post the test program to the mailing list?</div>
<div class="line">[Wednesday 30 March 2011] [07:16:25] &lt;murkel&gt; okay ...</div>
<div class="line">[Wednesday 30 March 2011] [07:16:30] &lt;sustrik&gt;        thx</div>
<div class="line">[Wednesday 30 March 2011] [07:34:59] &lt;drbobbeaty&gt;     <a href="#id89"><span class="problematic" id="id171">mikko__</span></a>, sustrik: thanks guys. That would be great.</div>
<div class="line">[Wednesday 30 March 2011] [07:36:00] &lt;sustrik&gt;        drbobbeaty: please, do make sure that the changes you are interested in have made it to the mikko&#8217;s patch as posted on the mailing list</div>
<div class="line">[Wednesday 30 March 2011] [07:36:28] &lt;drbobbeaty&gt;     Yup, they sure did. I tested it.</div>
<div class="line">[Wednesday 30 March 2011] [07:36:45] &lt;sustrik&gt;        :)</div>
<div class="line">[Thursday 31 March 2011] [12:22:25] &lt;djc&gt;     would it be acceptable to have a mode of building zeromq linking with an externally-built openpgm?</div>
<div class="line">[Thursday 31 March 2011] [12:22:33] &lt;djc&gt;     and if so, how can we make that happen?</div>
<div class="line">[Thursday 31 March 2011] [12:25:41] &lt;rforte&gt;  does anyone know if zmq has been successfully built/used on iOS?</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * r17fdb5e 10/ src/zmq.cpp :</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: zmq_recv() returns size of the message even if it&#8217;s truncated</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hqUOiu">http://bit.ly/hqUOiu</a></div>
<div class="line">[Thursday 31 March 2011] [12:44:09] &lt;CIA-22&gt;  zeromq2: 03Mikko Koppanen 07pre30 * rfbf1f51 10/ (7 files in 3 dirs):</div>
<div class="line">[Thursday 31 March 2011] [12:44:10] &lt;CIA-22&gt;  zeromq2: Upstream the openpgm build fixes. Add DSO symbol visibility to OpenPGM builds</div>
<div class="line">[Thursday 31 March 2011] [12:44:10] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/eoZoFT">http://bit.ly/eoZoFT</a></div>
<div class="line">[Thursday 31 March 2011] [12:44:11] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rd36d9a3 10/ src/zmq_engine.cpp :</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: Comments improvement</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: related to fairness while reading/writing large messages</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hmvGwd">http://bit.ly/hmvGwd</a></div>
<div class="line">[Thursday 31 March 2011] [12:45:14] &lt;sustrik&gt; djc: i think that may be possible, however, ask on the mailing list</div>
<div class="line">[Thursday 31 March 2011] [12:46:13] &lt;sustrik&gt; rforte: there were some people discussing iOS issues some time ago</div>
<div class="line">[Thursday 31 March 2011] [12:46:18] &lt;sustrik&gt; so i assum it&#8217;s possible</div>
<div class="line">[Thursday 31 March 2011] [12:47:57] &lt;djc&gt;     sustrik: I opened issue 15 about it</div>
<div class="line">[Thursday 31 March 2011] [12:48:22] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 31 March 2011] [12:53:49] &lt;cremes&gt;  rforte: it builds and runs fine on osx</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2011-March.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>