

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2011-March &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="next" title="2011-April" href="2011-April.html" />
    <link rel="prev" title="2011-February" href="2011-February.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2011-April.html" title="2011-April"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="2011-February.html" title="2011-February"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="march">
<h1>2011-March<a class="headerlink" href="#march" title="Permalink to this headline">Â¶</a></h1>
<div class="line-block">
<div class="line">[Tuesday 01 March 2011] [00:29:05] &lt;cremes&gt;   andrewvc: for a little bit; what&#8217;s up?</div>
<div class="line">[Tuesday 01 March 2011] [00:29:22] &lt;andrewvc&gt; hey, some good news, wanted your thoughts on something</div>
<div class="line">[Tuesday 01 March 2011] [00:29:35] &lt;andrewvc&gt; so, one issue with ffi-rzmq is depending on ffi</div>
<div class="line">[Tuesday 01 March 2011] [00:29:48] &lt;andrewvc&gt; which is good in MRI, but bad in RBX and jRuby</div>
<div class="line">[Tuesday 01 March 2011] [00:30:02] &lt;cremes&gt;   right</div>
<div class="line">[Tuesday 01 March 2011] [00:30:16] &lt;andrewvc&gt; <a class="reference external" href="https://github.com/andrewvc/em-zeromq/blob/master/em-zeromq.gemspec">https://github.com/andrewvc/em-zeromq/blob/master/em-zeromq.gemspec</a></div>
<div class="line">[Tuesday 01 March 2011] [00:30:21] &lt;andrewvc&gt; did you know you can do that in a gemspec?</div>
<div class="line">[Tuesday 01 March 2011] [00:30:26] &lt;cremes&gt;   the jruby &amp; rbx guys are working on a solution so the dependencies are tracked properly</div>
<div class="line">[Tuesday 01 March 2011] [00:30:26] &lt;andrewvc&gt; I <a class="reference external" href="https://github.com/andrewvc/em-zeromq/blob/master/em-zeromq.gemspec#L20">https://github.com/andrewvc/em-zeromq/blob/master/em-zeromq.gemspec#L20</a></div>
<div class="line">[Tuesday 01 March 2011] [00:30:29] &lt;andrewvc&gt; err that line</div>
<div class="line">[Tuesday 01 March 2011] [00:30:33] &lt;andrewvc&gt; I think that should work</div>
<div class="line">[Tuesday 01 March 2011] [00:30:51] &lt;cremes&gt;   true!</div>
<div class="line">[Tuesday 01 March 2011] [00:30:57] &lt;cremes&gt;   it&#8217;s just ruby after all</div>
<div class="line">[Tuesday 01 March 2011] [00:31:01] &lt;andrewvc&gt; yep</div>
<div class="line">[Tuesday 01 March 2011] [00:31:19] &lt;andrewvc&gt; yeah, oruen contributed that bit</div>
<div class="line">[Tuesday 01 March 2011] [00:31:27] &lt;cremes&gt;   i&#8217;ll commit something similar; thanks for the idea</div>
<div class="line">[Tuesday 01 March 2011] [00:31:31] &lt;andrewvc&gt; but it should really be in ffi-rzmq not em-zeromq</div>
<div class="line">[Tuesday 01 March 2011] [00:31:36] &lt;andrewvc&gt; cool, actually, one other thing</div>
<div class="line">[Tuesday 01 March 2011] [00:31:46] &lt;andrewvc&gt; he switched me off bones and onto bundler for gem releases</div>
<div class="line">[Tuesday 01 March 2011] [00:32:01] &lt;cremes&gt;   yeah, i saw that; honeslty, bones has been pissing me off</div>
<div class="line">[Tuesday 01 March 2011] [00:32:09] &lt;andrewvc&gt; yeah, it doesn&#8217;t work well under rbx either</div>
<div class="line">[Tuesday 01 March 2011] [00:32:12] &lt;cremes&gt;   there is no compatibility between the 2.x and 3.x versions</div>
<div class="line">[Tuesday 01 March 2011] [00:32:29] &lt;andrewvc&gt; oh? yeah it&#8217;s a bit of overkill, the skeleton is nice, the rake tasks, not so much</div>
<div class="line">[Tuesday 01 March 2011] [00:32:51] &lt;cremes&gt;   it&#8217;s kind of a big change for so little benefit... i&#8217;m open to suggestions and/or patches</div>
<div class="line">[Tuesday 01 March 2011] [00:33:07] &lt;andrewvc&gt; yeah, I&#8217;ll throw one together this week if you like the idea</div>
<div class="line">[Tuesday 01 March 2011] [00:33:19] &lt;cremes&gt;   sure</div>
<div class="line">[Tuesday 01 March 2011] [00:33:30] &lt;andrewvc&gt; I&#8217;m excited with these changes it should finally be possible to just gem install and get everything you need</div>
<div class="line">[Tuesday 01 March 2011] [00:34:05] &lt;cremes&gt;   that is a nice little benefit; the &#8216;ffi&#8217; gem situation has been poor for a while now</div>
<div class="line">[Tuesday 01 March 2011] [00:34:09] &lt;andrewvc&gt; right now dripdrop needs a custom eventmachine and libzeromq2 and maybe ffi.</div>
<div class="line">[Tuesday 01 March 2011] [00:34:15] &lt;andrewvc&gt; such a pain</div>
<div class="line">[Tuesday 01 March 2011] [00:34:18] &lt;cremes&gt;   true</div>
<div class="line">[Tuesday 01 March 2011] [00:34:28] &lt;cremes&gt;   every little bit to make it easier is worthwhile</div>
<div class="line">[Tuesday 01 March 2011] [00:35:22] &lt;andrewvc&gt; yep, the only missing piece is probably an apt package for a current zeromq</div>
<div class="line">[Tuesday 01 March 2011] [00:35:47] &lt;andrewvc&gt; but that&#8217;s prolly about 2 years off :)</div>
<div class="line">[Tuesday 01 March 2011] [00:35:59] &lt;cremes&gt;   well, 0mq seems to be moving a little faster again... packages are always out of date</div>
<div class="line">[Tuesday 01 March 2011] [00:36:04] &lt;cremes&gt;   we live in a git world now</div>
<div class="line">[Tuesday 01 March 2011] [00:36:20] &lt;andrewvc&gt; yeah, someone should right an apt adapter to github</div>
<div class="line">[Tuesday 01 March 2011] [00:36:38] &lt;andrewvc&gt; or git in general I guess</div>
<div class="line">[Tuesday 01 March 2011] [00:37:30] &lt;andrewvc&gt; hmmm, that&#8217;s definitely going on my spare time ideas list</div>
<div class="line">[Tuesday 01 March 2011] [00:41:01] &lt;cremes&gt;   i think something like that exists already... but i can&#8217;t remember where i saw it :(</div>
<div class="line">[Tuesday 01 March 2011] [00:41:02] &lt;cremes&gt;   time for bed... i&#8217;ve been burning the candle at both ends lately</div>
<div class="line">[Tuesday 01 March 2011] [02:50:32] &lt;jstrom`&gt;  Hi ppl! I&#8217;m playing a bit with async zmq (2.1.1rc) and perl on FreeBSD.. Building a POE socket wrapper (yes i know about the anyevent/moose thingy), works great! However, when I close sockets (pub/sub tcp in same app) it crashes :/ Seems to sometimes crash in mailbox_t::send right after close(), and sometimes it can close both but then crash in kqueue::kevent_add.. Is there any known bugs regarding kqueue/freebsd/perl? I&#8217;ve tried to reproduce in C but canno</div>
<div class="line">[Tuesday 01 March 2011] [02:52:05] &lt;jstrom`&gt;  if it doesnt crash in close, the kevent_add crash comes right after the close() calls (waiting a bit before calling ctx-&gt;terminate()).</div>
<div class="line">[Tuesday 01 March 2011] [02:58:42] &lt;jstrom`&gt;  the perl unittests seems to work at least.. hrm.. gotta dig deeper i guess :)</div>
<div class="line">[Tuesday 01 March 2011] [03:00:35] &lt;jstrom`&gt;  the crash in send is hitting errno_assert (nbytes != -1); in mailbox_t::send</div>
<div class="line">[Tuesday 01 March 2011] [03:15:49] &lt;private_meta&gt;     jstrom`: Your first message was cut off after &#8220;reproduce in C but canno&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [03:21:54] &lt;jstrom`&gt;  doh, ah well nothing vital there: I&#8217;ve tried to reproduce in C but cannot</div>
<div class="line">[Tuesday 01 March 2011] [03:21:55] &lt;jstrom`&gt;                      really get it to fail there..</div>
<div class="line">[Tuesday 01 March 2011] [03:21:59] &lt;jstrom`&gt;  (evil newlines!)</div>
<div class="line">[Tuesday 01 March 2011] [03:22:31] &lt;jstrom`&gt;  errno=35 (EAGAIN) when i hit the assert btw</div>
<div class="line">[Tuesday 01 March 2011] [03:37:42] &lt;sustrik&gt;  jstrom`: afaics what&#8217;s happening there is 0mq filling up the socketpair buffer, so it doubles it&#8217;s size, checks whether size was doubled and tries to write to the socketpair once again &#8211; it fails but it should not</div>
<div class="line">[Tuesday 01 March 2011] [03:37:57] &lt;sustrik&gt;  some strange freebsd quirk i assume</div>
<div class="line">[Tuesday 01 March 2011] [03:39:47] &lt;jstrom`&gt;  maybee, will try harder to reproduce in C (havent gotten around to do select stuff there, only open pub/sub, then send/recv and then close)</div>
<div class="line">[Tuesday 01 March 2011] [03:40:10] &lt;sustrik&gt;  you don&#8217;t have to reproduce it</div>
<div class="line">[Tuesday 01 March 2011] [03:40:23] &lt;sustrik&gt;  the question is why freebsd behaves in such a way</div>
<div class="line">[Tuesday 01 March 2011] [03:40:31] &lt;sustrik&gt;  and whether it can be worked around</div>
<div class="line">[Tuesday 01 March 2011] [03:41:09] &lt;jstrom`&gt;  mkey</div>
<div class="line">[Tuesday 01 March 2011] [03:41:59] &lt;jstrom`&gt;  I&#8217;ll try to strip it down to a simple test case at least :)</div>
<div class="line">[Tuesday 01 March 2011] [03:48:59] &lt;private_meta&gt;     The term &#8220;workaround&#8221; makes me shudder every time I read or hear it...</div>
<div class="line">[Tuesday 01 March 2011] [03:52:31] &lt;sustrik&gt;  that&#8217;s often exaclty what you have to do in the case with OS bug :)</div>
<div class="line">[Tuesday 01 March 2011] [04:01:56] &lt;jstrom`&gt;  hm simple non-FD-based socket(),socket(),send(),recv(),close(),close(),term() works fine.. seems to be in more advanced cases the problem occurs (i can reproduce it fully there). Will continue until i get a working testcase, but will have to do it later today.</div>
<div class="line">[Tuesday 01 March 2011] [04:07:56] &lt;private_meta&gt;     Hmm... if heartbeats are asynchroneous in both directions and heartbeat sending and receiving are made via zmq_poll on the server side, how can you make independent sending on the client side if you don&#8217;t have zmq_poll&#8217;s timeouts?</div>
<div class="line">[Tuesday 01 March 2011] [04:38:02] &lt;private_meta&gt;     When using socket_t::getsockopt, the equivalent of C&#8217;s zmq_getsockopt in C++, it works if I call getsockopt in the same function as I create the socket, but fails if I give the socket pointer to a different function and request it there. It gives me an invalid argument error in the function.</div>
<div class="line">[Tuesday 01 March 2011] [04:38:20] &lt;private_meta&gt;     According to the man pages, that&#8217;s &#8220;The requested option option_name is unknown, or the requested option_len or option_value is invalid, or the size of the buffer pointed to by option_value, as specified by option_len, is insufficient for storing the option value.&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [04:38:43] &lt;private_meta&gt;     But I call it exactly the same, I even call the same pointer, but in two different places, yet the same thread. Any idea what might be the problem there?</div>
<div class="line">[Tuesday 01 March 2011] [04:45:55] &lt;private_meta&gt;     hmm now it suddenly works... I hate demonstrative effects to the core</div>
<div class="line">[Tuesday 01 March 2011] [04:46:28] &lt;private_meta&gt;     Somewhat unreliable behavior</div>
<div class="line">[Tuesday 01 March 2011] [05:48:22] &lt;Guthur&gt;   sustrik: will there be minutes are a webcast of the meetup at san fran</div>
<div class="line">[Tuesday 01 March 2011] [06:35:32] &lt;jstrom`&gt;  sustrik: i think i found the problem.. I was using IO::Handle to wrap the ZMQ_FD to make it select&#8217;able in POE, and i accidentally called close() on the IO::handle, which means close() on the actual FD..</div>
<div class="line">[Tuesday 01 March 2011] [06:37:44] &lt;jstrom`&gt;  so, not a ZMQ/freebsd problem, just buggy code on my end :)</div>
<div class="line">[Tuesday 01 March 2011] [06:41:53] &lt;Guest19497&gt;       can any one help me about 0mq</div>
<div class="line">[Tuesday 01 March 2011] [06:41:56] &lt;skm&gt;      0mq for sending files: stupid idea, yes?</div>
<div class="line">[Tuesday 01 March 2011] [06:42:15] &lt;Guest19497&gt;       what the 0mq architecture?</div>
<div class="line">[Tuesday 01 March 2011] [06:42:19] &lt;drbobbeaty&gt;       skim: It&#8217;s not what I&#8217;d use, no.</div>
<div class="line">[Tuesday 01 March 2011] [06:42:41] &lt;Guest19497&gt;       hi</div>
<div class="line">[Tuesday 01 March 2011] [06:42:55] &lt;skm&gt;      sweet - ill stick to 0mq for messaging and regular sockets for file sending</div>
<div class="line">[Tuesday 01 March 2011] [06:43:17] &lt;drbobbeaty&gt;       Guest19497: There&#8217;s a very nice into to ZeroMQ at <a class="reference external" href="http://zguide.zeromq.org/page:all">http://zguide.zeromq.org/page:all</a></div>
<div class="line">[Tuesday 01 March 2011] [06:43:59] &lt;Guest19497&gt;       thanks</div>
<div class="line">[Tuesday 01 March 2011] [06:44:10] &lt;drbobbeaty&gt;       Guest19497: it contains lots of examples, explanations, even different language bindings.</div>
<div class="line">[Tuesday 01 March 2011] [06:44:35] &lt;pieterh&gt;  I&#8217;ve made a URL shortener at zero.mq</div>
<div class="line">[Tuesday 01 March 2011] [06:45:00] &lt;pieterh&gt;  e.g. <a class="reference external" href="http://zero.mq/ib-">http://zero.mq/ib-</a>&gt;https://github.com/ianbarber/ZeroMQ-Talk</div>
<div class="line">[Tuesday 01 March 2011] [06:45:08] &lt;pieterh&gt;  if anyone wants access to this, let me know</div>
<div class="line">[Tuesday 01 March 2011] [06:53:40] &lt;private_meta&gt;     pieterh: hmm... when trying to translate the lazy pirate pattern to C++ I get assertions</div>
<div class="line">[Tuesday 01 March 2011] [06:54:05] &lt;pieterh&gt;  private_meta: such as...?</div>
<div class="line">[Tuesday 01 March 2011] [06:54:53] &lt;private_meta&gt;     I have the lazy pirate client, I try to start it, and I would have the setsockopt call for ZMQ_LINGER. When calling it, I get the error &#8220;Assertion failed: rc == 0 (zmq_connecter.cpp:47)&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [06:55:00] &lt;pieterh&gt;  please post your code to a gist</div>
<div class="line">[Tuesday 01 March 2011] [06:55:05] &lt;private_meta&gt;     gist?</div>
<div class="line">[Tuesday 01 March 2011] [06:55:18] &lt;pieterh&gt;  gist.github.com or another pastebin</div>
<div class="line">[Tuesday 01 March 2011] [06:55:40] &lt;pieterh&gt;  presumably the connection failed because you have no server running?</div>
<div class="line">[Tuesday 01 March 2011] [06:55:56] &lt;pieterh&gt;  I don&#8217;t know, can&#8217;t tell without code to look at...</div>
<div class="line">[Tuesday 01 March 2011] [06:56:13] &lt;pieterh&gt;  you&#8217;ve run the C code, and it works?</div>
<div class="line">[Tuesday 01 March 2011] [06:56:32] &lt;private_meta&gt;     The server is running</div>
<div class="line">[Tuesday 01 March 2011] [06:56:39] &lt;private_meta&gt;     hmm... No, I didn&#8217;t try the C version</div>
<div class="line">[Tuesday 01 March 2011] [06:56:55] &lt;private_meta&gt;     I don&#8217;t really code in C, I try to avoid it</div>
<div class="line">[Tuesday 01 March 2011] [06:56:58] &lt;private_meta&gt;     (don&#8217;t like it)</div>
<div class="line">[Tuesday 01 March 2011] [06:57:38] &lt;pieterh&gt;  at least run it, as a sanity check</div>
<div class="line">[Tuesday 01 March 2011] [06:57:55] &lt;private_meta&gt;     meh... I&#8217;ll try</div>
<div class="line">[Tuesday 01 March 2011] [06:58:34] &lt;pieterh&gt;  it&#8217;s a basic tool for problem solving, replace pieces and see when it starts/stops breaking</div>
<div class="line">[Tuesday 01 March 2011] [07:00:18] &lt;private_meta&gt;     pieterh: btw, you wrote in the docs that you use the lazy pirate client for the paranoid pirate server. You made heartbeats in the server, but apparently not on the client. am I misunderstanding something there?</div>
<div class="line">[Tuesday 01 March 2011] [07:00:28] &lt;pieterh&gt;  nope, that&#8217;s how it works</div>
<div class="line">[Tuesday 01 March 2011] [07:01:02] &lt;pieterh&gt;  there are good reasons to do heartbeating from queue to worker, but not from client to queue, afaics</div>
<div class="line">[Tuesday 01 March 2011] [07:01:27] &lt;pieterh&gt;  queues don&#8217;t hold any resources per client</div>
<div class="line">[Tuesday 01 March 2011] [07:01:39] &lt;pieterh&gt;  clients don&#8217;t care if the queue is present/absent except when they are doing a request</div>
<div class="line">[Tuesday 01 March 2011] [07:01:51] &lt;private_meta&gt;     You send a heartbeat out, but the client doesn&#8217;t even seem to receive one, I don&#8217;t quite get how that works to assure that there actually IS a working connection</div>
<div class="line">[Tuesday 01 March 2011] [07:02:08] &lt;pieterh&gt;  the client-to-queue dialog has no heartbeating</div>
<div class="line">[Tuesday 01 March 2011] [07:02:48] &lt;private_meta&gt;     ok, you say, queue, do you mean the server?</div>
<div class="line">[Tuesday 01 March 2011] [07:03:10] &lt;pieterh&gt;  I&#8217;m avoiding the word &#8216;server&#8217; because it&#8217;s ambiguous</div>
<div class="line">[Tuesday 01 March 2011] [07:03:19] &lt;pieterh&gt;  we have client, queue, and worker</div>
<div class="line">[Tuesday 01 March 2011] [07:03:30] &lt;pieterh&gt;  when I say &#8216;queue&#8217;, I mean &#8216;queue&#8217;... :-)</div>
<div class="line">[Tuesday 01 March 2011] [07:05:14] &lt;private_meta&gt;     ok, then can you define those three, what they do exactly, because I didn&#8217;t seem to find any good definition in the docs</div>
<div class="line">[Tuesday 01 March 2011] [07:05:49] &lt;pieterh&gt;  it is always local to the pattern</div>
<div class="line">[Tuesday 01 March 2011] [07:06:02] &lt;pieterh&gt;  that&#8217;s why I provide a schema for each pattern with the boxes clearly labelled</div>
<div class="line">[Tuesday 01 March 2011] [07:06:18] &lt;pieterh&gt;  client is easy</div>
<div class="line">[Tuesday 01 March 2011] [07:06:21] &lt;pieterh&gt;  queue is easy</div>
<div class="line">[Tuesday 01 March 2011] [07:06:28] &lt;pieterh&gt;  worker is also unambiguous</div>
<div class="line">[Tuesday 01 March 2011] [07:06:41] &lt;pieterh&gt;  but &#8220;server&#8221; is anything that accepts a connection, or does work, or ...</div>
<div class="line">[Tuesday 01 March 2011] [07:07:42] &lt;private_meta&gt;     So going after figure 21 in the docs, &#8220;Client&#8221; is what I and everyone I work with always understood as &#8220;Server&#8221;, and &#8220;worker&#8221; is what I understand as &#8220;Client&#8221;, and the &#8220;Server in the figure is something I didn&#8217;t even name yet in that regard</div>
<div class="line">[Tuesday 01 March 2011] [07:08:19] &lt;private_meta&gt;     I have never met anyone who defined it the way it&#8217;s defined here</div>
<div class="line">[Tuesday 01 March 2011] [07:10:48] &lt;pieterh&gt;  private_meta: figure 21 is really clear</div>
<div class="line">[Tuesday 01 March 2011] [07:11:01] &lt;pieterh&gt;  the client is the application that makes a request</div>
<div class="line">[Tuesday 01 March 2011] [07:11:10] &lt;pieterh&gt;  the server is the host that does the work</div>
<div class="line">[Tuesday 01 March 2011] [07:11:21] &lt;private_meta&gt;     pieterh: Yeah, according to that, as I said, I never met ANYONE who defined it like that, not even remotely</div>
<div class="line">[Tuesday 01 March 2011] [07:11:21] &lt;pieterh&gt;  hmm, e.g. web browser and web server</div>
<div class="line">[Tuesday 01 March 2011] [07:11:30] &lt;pieterh&gt;  so your browser is a &#8220;server&#8221;?</div>
<div class="line">[Tuesday 01 March 2011] [07:11:44] &lt;pieterh&gt;  and google.com is the &#8220;client&#8221; of your browser?</div>
<div class="line">[Tuesday 01 March 2011] [07:11:59] &lt;private_meta&gt;     No, my browser is a client, google is a server</div>
<div class="line">[Tuesday 01 March 2011] [07:12:06] &lt;pieterh&gt;  and that&#8217;s figure 21</div>
<div class="line">[Tuesday 01 March 2011] [07:12:22] &lt;pieterh&gt;  what&#8217;s confusing about it?</div>
<div class="line">[Tuesday 01 March 2011] [07:12:33] &lt;pieterh&gt;  maybe you want the server at the top of the page, and the client below?</div>
<div class="line">[Tuesday 01 March 2011] [07:12:46] &lt;pieterh&gt;  all the diagrams show the logical flow of requests / tasks from top to bottom</div>
<div class="line">[Tuesday 01 March 2011] [07:13:23] &lt;private_meta&gt;     Wait, in Figure 21 Google would be the worker?</div>
<div class="line">[Tuesday 01 March 2011] [07:13:28] &lt;pieterh&gt;  figure 21 shows an application server, in fact</div>
<div class="line">[Tuesday 01 March 2011] [07:13:41] &lt;pieterh&gt;  workers are applications, if you like</div>
<div class="line">[Tuesday 01 March 2011] [07:13:55] &lt;pieterh&gt;  server plugins</div>
<div class="line">[Tuesday 01 March 2011] [07:14:16] &lt;pieterh&gt;  this is all classic stuff, can I please go back to my Majordomo coding now ? :-)</div>
<div class="line">[Tuesday 01 March 2011] [07:14:37] &lt;private_meta&gt;     Well, you didn&#8217;t really help me understand it</div>
<div class="line">[Tuesday 01 March 2011] [07:14:41] &lt;private_meta&gt;     :/</div>
<div class="line">[Tuesday 01 March 2011] [07:14:51] &lt;pieterh&gt;  since you don&#8217;t tell me what your confusion is...</div>
<div class="line">[Tuesday 01 March 2011] [07:15:00] &lt;pieterh&gt;  I&#8217;d suggest reading the text like 10 times until it clicks</div>
<div class="line">[Tuesday 01 March 2011] [07:15:17] &lt;pieterh&gt;  these concepts are slippery, I know</div>
<div class="line">[Tuesday 01 March 2011] [07:15:32] &lt;pieterh&gt;  but I can&#8217;t explain them over IRC better than the text and pictures already do</div>
<div class="line">[Tuesday 01 March 2011] [07:15:54] &lt;private_meta&gt;     Well, just give me a real world example what CLIENT, SERVER and WORKER would be in an example I can understand</div>
<div class="line">[Tuesday 01 March 2011] [07:15:58] &lt;private_meta&gt;     you&#8217;re giving me confusing information</div>
<div class="line">[Tuesday 01 March 2011] [07:16:09] &lt;pieterh&gt;  I&#8217;ve just done that, you&#8217;re making me repeat myself</div>
<div class="line">[Tuesday 01 March 2011] [07:16:14] &lt;pieterh&gt;  web browser = client</div>
<div class="line">[Tuesday 01 March 2011] [07:16:18] &lt;pieterh&gt;  web server = server</div>
<div class="line">[Tuesday 01 March 2011] [07:16:31] &lt;pieterh&gt;  PHP application producing web content = worker</div>
<div class="line">[Tuesday 01 March 2011] [07:16:37] &lt;private_meta&gt;     ok, that was clear</div>
<div class="line">[Tuesday 01 March 2011] [07:16:41] &lt;pieterh&gt;  there are hundreds of such examples</div>
<div class="line">[Tuesday 01 March 2011] [07:16:42] &lt;guido_g&gt;  rofl</div>
<div class="line">[Tuesday 01 March 2011] [07:16:42] &lt;private_meta&gt;     it wasn&#8217;t clear before</div>
<div class="line">[Tuesday 01 March 2011] [07:17:15] &lt;private_meta&gt;     hmm... sanity check for lazy pirate pattern worked in C</div>
<div class="line">[Tuesday 01 March 2011] [07:17:16] &lt;guido_g&gt;  &lt;private_meta&gt; I have never met anyone who defined it the way it&#8217;s defined here  &lt;- hard to believe</div>
<div class="line">[Tuesday 01 March 2011] [07:17:23] &lt;pieterh&gt;  private_meta: like I said, re-read the text until it clicks</div>
<div class="line">[Tuesday 01 March 2011] [07:18:30] &lt;private_meta&gt;     int linger = 0; client-&gt;setsockopt(ZMQ_LINGER, &amp;linger, sizeof(linger)); &lt;&#8211; that line fails in c++</div>
<div class="line">[Tuesday 01 March 2011] [07:19:03] &lt;skm&gt;      i have 3 servers that dish out work (in the form of mp3 files) and 5 clients that need to receive the files - i want to add servers and clients with little effort so im going to have a manager inbetween them all..</div>
<div class="line">[Tuesday 01 March 2011] [07:19:30] &lt;jugg&gt;     eh, api.zeromq.org is broken...</div>
<div class="line">[Tuesday 01 March 2011] [07:19:35] &lt;skm&gt;      im using push/pull for the servers - my problem is what if the manager fails then comes back up - what&#8217;s the best way to resend the files</div>
<div class="line">[Tuesday 01 March 2011] [07:19:36] &lt;pieterh&gt;  jugg: where?</div>
<div class="line">[Tuesday 01 March 2011] [07:19:47] &lt;jugg&gt;     <a class="reference external" href="http://api.zeromq.org/zmq-setsockopt-html">http://api.zeromq.org/zmq-setsockopt-html</a></div>
<div class="line">[Tuesday 01 March 2011] [07:19:54] &lt;jugg&gt;     but any of the links</div>
<div class="line">[Tuesday 01 March 2011] [07:20:04] &lt;skm&gt;      (the files exist on the server until a client downloads it from the server - the manager just has a list in a queue)</div>
<div class="line">[Tuesday 01 March 2011] [07:20:14] &lt;pieterh&gt;  skm: there&#8217;s no documented patterns for reliable push/pull, I&#8217;m working on those</div>
<div class="line">[Tuesday 01 March 2011] [07:20:18] &lt;pieterh&gt;  jugg: bleh</div>
<div class="line">[Tuesday 01 March 2011] [07:20:25] &lt;private_meta&gt;     pieterh: yeah, all links from the guide to the api are broken</div>
<div class="line">[Tuesday 01 March 2011] [07:20:36] &lt;private_meta&gt;     or seem to be</div>
<div class="line">[Tuesday 01 March 2011] [07:20:37] &lt;jugg&gt;     hmm, looks like api.zeromq.org was cached, forced refresh pulls the new page.</div>
<div class="line">[Tuesday 01 March 2011] [07:20:44] &lt;pieterh&gt;  private_meta: nope, fixed those about 10 minutes ago, reload</div>
<div class="line">[Tuesday 01 March 2011] [07:20:44] &lt;jugg&gt;     which has different links</div>
<div class="line">[Tuesday 01 March 2011] [07:20:57] &lt;pieterh&gt;  jugg: I&#8217;ll need to make forwards from all the old API pages... bleh</div>
<div class="line">[Tuesday 01 March 2011] [07:21:07] &lt;jugg&gt;     yah</div>
<div class="line">[Tuesday 01 March 2011] [07:21:15] &lt;private_meta&gt;     ah ok</div>
<div class="line">[Tuesday 01 March 2011] [07:21:25] &lt;private_meta&gt;     just reloaded 30 minutes ago XD</div>
<div class="line">[Tuesday 01 March 2011] [07:22:11] &lt;private_meta&gt;     pieterh: maybe I made a mistake, but I thought it should be a working translation <a class="reference external" href="https://gist.github.com/45ae7e2a36ad5c1ca50f">https://gist.github.com/45ae7e2a36ad5c1ca50f</a> <a class="reference external" href="https://gist.github.com/a4df2891f9c8edc1ac0c">https://gist.github.com/a4df2891f9c8edc1ac0c</a></div>
<div class="line">[Tuesday 01 March 2011] [07:23:30] &lt;jugg&gt;     v2.1.1 is not tagged in Git</div>
<div class="line">[Tuesday 01 March 2011] [07:23:51] &lt;pieterh&gt;  private_meta: yeah, it looks OK, I&#8217;ve no idea why the C++ setsockopt would be failing</div>
<div class="line">[Tuesday 01 March 2011] [07:24:06] &lt;pieterh&gt;  jugg: it&#8217;s in <a class="reference external" href="http://github.com/zeromq/zeromq2-1">http://github.com/zeromq/zeromq2-1</a></div>
<div class="line">[Tuesday 01 March 2011] [07:24:16] &lt;pieterh&gt;  we forked the repository to make life easier for everyone</div>
<div class="line">[Tuesday 01 March 2011] [07:24:38] &lt;jugg&gt;     ugh</div>
<div class="line">[Tuesday 01 March 2011] [07:25:19] &lt;pieterh&gt;  jugg: there are pros and cons but it&#8217;s simplified our work a lot</div>
<div class="line">[Tuesday 01 March 2011] [07:25:29] &lt;private_meta&gt;     The setsockopt fails with the error stated 30 minutes ago, and if continued I get the error &#8220;Bad file descriptor, nbytes != -1 (mailbox.cpp:241)&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [07:25:38] &lt;jugg&gt;     well, thankfully Git supports multiple remotes...</div>
<div class="line">[Tuesday 01 March 2011] [07:30:05] &lt;private_meta&gt;     pieterh: Now that I got the terminology described, my worker needs to know if the client is there, and my client needs to know if my worker is there, so i need heartbeats from client to server and vice versa, that&#8217;s why I was asking before about the heartbeats</div>
<div class="line">[Tuesday 01 March 2011] [07:31:31] &lt;Guthur&gt;   umm this talk of linger has just made be notice a minor type bug in clrzmq2</div>
<div class="line">[Tuesday 01 March 2011] [07:31:39] &lt;Guthur&gt;   at least it was good for something, hehe</div>
<div class="line">[Tuesday 01 March 2011] [07:32:54] &lt;Guthur&gt;   be/me</div>
<div class="line">[Tuesday 01 March 2011] [07:34:46] &lt;pieterh&gt;  private_meta: what pattern are you talking about?</div>
<div class="line">[Tuesday 01 March 2011] [07:34:56] &lt;pieterh&gt;  figure 21 is asynchronous server</div>
<div class="line">[Tuesday 01 March 2011] [07:35:11] &lt;pieterh&gt;  clients don&#8217;t see workers, workers don&#8217;t see clients</div>
<div class="line">[Tuesday 01 March 2011] [07:35:20] &lt;private_meta&gt;     pieterh: I was talking about figure 21 because it made it understandable somewhat more easily</div>
<div class="line">[Tuesday 01 March 2011] [07:36:01] &lt;pieterh&gt;  jugg: all the old API links should properly redirect now</div>
<div class="line">[Tuesday 01 March 2011] [07:36:08] &lt;pieterh&gt;  I sent them to 2.1.1</div>
<div class="line">[Tuesday 01 March 2011] [07:39:21] &lt;private_meta&gt;     pieterh: I need custom routing, something like router-to-dealer, but with heartbeating, but in both directions, as workers and clients should be aware of each other</div>
<div class="line">[Tuesday 01 March 2011] [07:39:57] &lt;private_meta&gt;     I don&#8217;t know if there is a pattern more fitting to that</div>
<div class="line">[Tuesday 01 March 2011] [07:40:06] &lt;pieterh&gt;  take a look at <a class="reference external" href="http://zero.mq/md">http://zero.mq/md</a>, specifically the server protocol, it may what you need</div>
<div class="line">[Tuesday 01 March 2011] [07:40:29] &lt;pieterh&gt;  your client could implement the broker part of the protocol</div>
<div class="line">[Tuesday 01 March 2011] [07:40:56] &lt;jugg&gt;     pieterh, looks like it.</div>
<div class="line">[Tuesday 01 March 2011] [07:41:05] &lt;pieterh&gt;  if you implement precisely the protocol as specified it&#8217;ll interoperate with other code using the same spec</div>
<div class="line">[Tuesday 01 March 2011] [07:41:09] &lt;pieterh&gt;  jugg: great!</div>
<div class="line">[Tuesday 01 March 2011] [07:46:20] &lt;private_meta&gt;     pieterh: ok, so I would have n Clients and 1 Worker I assume</div>
<div class="line">[Tuesday 01 March 2011] [08:03:24] &lt;private_meta&gt;     So if I adhere to the protocol specifications best as possible, a guide chapter is in the works to help me with the problem specificied</div>
<div class="line">[Tuesday 01 March 2011] [08:03:29] &lt;private_meta&gt;     ?</div>
<div class="line">[Tuesday 01 March 2011] [08:15:17] &lt;skm&gt;      if i have 1 client pushing and 3 clients pulling - if the client pushes 100msgs will they be sent to the first client that connects</div>
<div class="line">[Tuesday 01 March 2011] [08:15:24] &lt;skm&gt;      or in order of each client recving</div>
<div class="line">[Tuesday 01 March 2011] [08:19:31] &lt;private_meta&gt;     pieterh: should I create an issue for the ZMQ_LINGER problem in the c++ translation?</div>
<div class="line">[Tuesday 01 March 2011] [08:21:01] &lt;cremes&gt;   private_meta: put up a pastie with the compilation error; that c++ you posted earlier looked correct</div>
<div class="line">[Tuesday 01 March 2011] [08:21:17] &lt;private_meta&gt;     cremes: there&#8217;s a runtime error, not a compilation error</div>
<div class="line">[Tuesday 01 March 2011] [08:21:47] &lt;cremes&gt;   ok, then post that error (all of it)</div>
<div class="line">[Tuesday 01 March 2011] [08:22:04] &lt;private_meta&gt;     Yeah, just wanted to say that it doesn&#8217;t change that I should post the error :)</div>
<div class="line">[Tuesday 01 March 2011] [08:22:12] &lt;cremes&gt;   heh</div>
<div class="line">[Tuesday 01 March 2011] [08:26:34] &lt;private_meta&gt;     cremes: theoretically, if it&#8217;s translated correctly, the C server should work with the C++ client, shouldn&#8217;t it?</div>
<div class="line">[Tuesday 01 March 2011] [08:27:17] &lt;cremes&gt;   yes; i have 0mq from ruby interacting with 0mq from C on a regular basis</div>
<div class="line">[Tuesday 01 March 2011] [08:27:39] &lt;cremes&gt;   and it&#8217;s not even theoretical!</div>
<div class="line">[Tuesday 01 March 2011] [08:27:43] &lt;cremes&gt;   :)</div>
<div class="line">[Tuesday 01 March 2011] [08:27:55] &lt;stimpie&gt;  Iam having some problems using an xrep socket on en inproc transport, any way of sniffing or logging the inproc transport?</div>
<div class="line">[Tuesday 01 March 2011] [08:28:47] &lt;cremes&gt;   stimpie: i am not sure.... there is a new &#8220;sys&#8221; logging facility that may be of use</div>
<div class="line">[Tuesday 01 March 2011] [08:29:01] &lt;cremes&gt;   check the mail archives for discussion or the git log for patches</div>
<div class="line">[Tuesday 01 March 2011] [08:29:09] &lt;private_meta&gt;     ok, c server works with c client, c++ server works with c client, but both servers won&#8217;t work with c++ client</div>
<div class="line">[Tuesday 01 March 2011] [08:29:41] &lt;cremes&gt;   private_meta: ok; please post the error <em>and</em> the code for all of the components</div>
<div class="line">[Tuesday 01 March 2011] [08:29:56] &lt;cremes&gt;   you might have something wired wrong</div>
<div class="line">[Tuesday 01 March 2011] [08:30:46] &lt;cremes&gt;   (i&#8217;m expecting a gist with five files: error, c client, c server, c++ client, c++ server)</div>
<div class="line">[Tuesday 01 March 2011] [08:31:49] &lt;private_meta&gt;     Well, I write 4 gists with the 4 c/c++ files and I write the error in the issue</div>
<div class="line">[Tuesday 01 March 2011] [08:32:41] &lt;private_meta&gt;     cremes: then again the c client and server are exactly those from the docs</div>
<div class="line">[Tuesday 01 March 2011] [08:32:50] &lt;private_meta&gt;     so i won&#8217;t need to &#8220;gist&#8221; them</div>
<div class="line">[Tuesday 01 March 2011] [08:34:08] &lt;cremes&gt;   private_meta: i&#8217;m reading &#8220;cremes, i don&#8217;t really want your help&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [08:34:20] &lt;private_meta&gt;     lol</div>
<div class="line">[Tuesday 01 March 2011] [08:34:21] &lt;cremes&gt;   at least send me a link to the components that are from the docs</div>
<div class="line">[Tuesday 01 March 2011] [08:34:32] &lt;private_meta&gt;     cremes: I intended to put them into the issue</div>
<div class="line">[Tuesday 01 March 2011] [08:34:36] &lt;cremes&gt;   don&#8217;t make me do a lot of extra work to help you out; it isn&#8217;t fair</div>
<div class="line">[Tuesday 01 March 2011] [08:34:55] &lt;cremes&gt;   i don&#8217;t think we have established yet that this warrants an issue</div>
<div class="line">[Tuesday 01 March 2011] [08:35:05] &lt;cremes&gt;   these things interoperate all of the time</div>
<div class="line">[Tuesday 01 March 2011] [08:35:18] &lt;cremes&gt;   let&#8217;s dig just a little before opening a ticket</div>
<div class="line">[Tuesday 01 March 2011] [08:35:33] &lt;private_meta&gt;     If you want to</div>
<div class="line">[Tuesday 01 March 2011] [08:37:41] &lt;private_meta&gt;     cremes: <a class="reference external" href="https://gist.github.com/dadca0c3b776aa5713da">https://gist.github.com/dadca0c3b776aa5713da</a> sufficient?</div>
<div class="line">[Tuesday 01 March 2011] [08:38:38] &lt;cremes&gt;   good enough; give me a few to look through it</div>
<div class="line">[Tuesday 01 March 2011] [08:39:20] &lt;private_meta&gt;     Maybe it&#8217;s just a problem with me using setsockopt, but I hope not</div>
<div class="line">[Tuesday 01 March 2011] [08:40:59] &lt;guido_g&gt;  client-&gt;connect(&#8220;<a class="reference external" href="tcp://localhost.5555">tcp://localhost.5555</a>&#8221;); &lt;- wrong</div>
<div class="line">[Tuesday 01 March 2011] [08:41:39] &lt;skm&gt;      uf a pusher has pushed 100msgd, the first client to call recv then gets all 100 msgs (and has to recv 99 more times to see them) - correct?</div>
<div class="line">[Tuesday 01 March 2011] [08:42:45] &lt;private_meta&gt;     guido_g: I translated it with that url from the C version</div>
<div class="line">[Tuesday 01 March 2011] [08:42:50] &lt;private_meta&gt;     guido_g: why is it wrong?</div>
<div class="line">[Tuesday 01 March 2011] [08:42:56] &lt;guido_g&gt;  read it</div>
<div class="line">[Tuesday 01 March 2011] [08:43:18] &lt;H-nes&gt;    hint: &#8221;:&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [08:43:31] &lt;private_meta&gt;     oh</div>
<div class="line">[Tuesday 01 March 2011] [08:43:31] &lt;guido_g&gt;  right</div>
<div class="line">[Tuesday 01 March 2011] [08:43:47] &lt;private_meta&gt;     damn me</div>
<div class="line">[Tuesday 01 March 2011] [08:43:47] &lt;guido_g&gt;  all thar trouble for basically nothing</div>
<div class="line">[Tuesday 01 March 2011] [08:43:51] &lt;guido_g&gt;  <a href="#id1"><span class="problematic" id="id2">*</span></a>taht</div>
<div class="line">[Tuesday 01 March 2011] [08:43:57] &lt;guido_g&gt;  <a href="#id3"><span class="problematic" id="id4">*</span></a>that</div>
<div class="line">[Tuesday 01 March 2011] [08:44:06] &lt;guido_g&gt;  how effective</div>
<div class="line">[Tuesday 01 March 2011] [08:44:48] &lt;cremes&gt;   guido_g: good eye</div>
<div class="line">[Tuesday 01 March 2011] [08:45:29] &lt;guido_g&gt;  cremes: we in germany are now known for our keen eyes on copied work   ,)</div>
<div class="line">[Tuesday 01 March 2011] [08:45:36] &lt;Guthur&gt;   guido_g: I did realise that I need to implement these options in the clrzmq2 binding due to this discussion, if that is any consolation, hehe</div>
<div class="line">[Tuesday 01 March 2011] [08:45:50] &lt;cremes&gt;   guido_g: ;)</div>
<div class="line">[Tuesday 01 March 2011] [08:46:07] &lt;cremes&gt;   private_meta: after you make that change, let us know if all is well</div>
<div class="line">[Tuesday 01 March 2011] [08:46:39] &lt;private_meta&gt;     hmm apparently not</div>
<div class="line">[Tuesday 01 March 2011] [08:47:06] &lt;guido_g&gt;  more typos?</div>
<div class="line">[Tuesday 01 March 2011] [08:47:48] &lt;private_meta&gt;     I hope not</div>
<div class="line">[Tuesday 01 March 2011] [08:47:53] &lt;private_meta&gt;     But it&#8217;s a different error now</div>
<div class="line">[Tuesday 01 March 2011] [08:53:12] &lt;private_meta&gt;     cremes: update</div>
<div class="line">[Tuesday 01 March 2011] [08:53:21] &lt;private_meta&gt;     cremes: <a class="reference external" href="https://gist.github.com/dadca0c3b776aa5713da">https://gist.github.com/dadca0c3b776aa5713da</a></div>
<div class="line">[Tuesday 01 March 2011] [08:54:40] &lt;cremes&gt;   private_meta: that is oftentimes a buffer sizing problem; what OS are you on?</div>
<div class="line">[Tuesday 01 March 2011] [08:55:08] &lt;private_meta&gt;     Ubuntu 10.4 x64</div>
<div class="line">[Tuesday 01 March 2011] [08:56:33] &lt;cremes&gt;   private_meta: give me a gist with:  net.core.rmem_default, net.core.rmem_max, net.core.wmem_default, net.core.wmem_max</div>
<div class="line">[Tuesday 01 March 2011] [08:57:05] &lt;cremes&gt;   these control the size of the buffers for &#8220;socketpairs&#8221; which are used for all internal signaling in 0mq</div>
<div class="line">[Tuesday 01 March 2011] [08:57:28] &lt;private_meta&gt;     How do I get those?</div>
<div class="line">[Tuesday 01 March 2011] [08:58:15] &lt;cremes&gt;   sysctl -a | egrep &#8216;wmem|rmem&#8217;</div>
<div class="line">[Tuesday 01 March 2011] [08:58:25] &lt;private_meta&gt;     kk</div>
<div class="line">[Tuesday 01 March 2011] [08:58:49] &lt;cremes&gt;   how long before you saw that error? 10s, 1m, longer?</div>
<div class="line">[Tuesday 01 March 2011] [08:58:58] &lt;private_meta&gt;     Let me test</div>
<div class="line">[Tuesday 01 March 2011] [08:59:01] &lt;cremes&gt;   and does it happen on <em>every</em> run</div>
<div class="line">[Tuesday 01 March 2011] [08:59:14] &lt;stimpie&gt;  took me 4 hours to find out I encountered an known issue #issue/82 grrrr</div>
<div class="line">[Tuesday 01 March 2011] [08:59:45] &lt;cremes&gt;   private_meta: the reason i ask is because the c client should produce the same error in roughly the same timeframe</div>
<div class="line">[Tuesday 01 March 2011] [08:59:58] &lt;private_meta&gt;     cremes: Immediately, at every run</div>
<div class="line">[Tuesday 01 March 2011] [09:00:04] &lt;private_meta&gt;     But the C Client works</div>
<div class="line">[Tuesday 01 March 2011] [09:00:12] &lt;cremes&gt;   now that is odd</div>
<div class="line">[Tuesday 01 March 2011] [09:01:54] &lt;private_meta&gt;     cremes: <a class="reference external" href="https://gist.github.com/6c43ecadae82d425773b">https://gist.github.com/6c43ecadae82d425773b</a></div>
<div class="line">[Tuesday 01 March 2011] [09:01:58] &lt;cremes&gt;   you should run it run gdb and pastie the backtrace too</div>
<div class="line">[Tuesday 01 March 2011] [09:02:30] &lt;cremes&gt;   those sizes should be ok</div>
<div class="line">[Tuesday 01 March 2011] [09:02:39] &lt;private_meta&gt;     cremes: the entire gdb trace?</div>
<div class="line">[Tuesday 01 March 2011] [09:02:56] &lt;cremes&gt;   i use 5242880 for all of those settings, fyi</div>
<div class="line">[Tuesday 01 March 2011] [09:03:05] &lt;cremes&gt;   private_meta: yes, all of it</div>
<div class="line">[Tuesday 01 March 2011] [09:03:13] &lt;cremes&gt;   do: thread apply all bt</div>
<div class="line">[Tuesday 01 March 2011] [09:03:36] &lt;private_meta&gt;     cremes: <a class="reference external" href="https://gist.github.com/8c059893dbec50829e84">https://gist.github.com/8c059893dbec50829e84</a></div>
<div class="line">[Tuesday 01 March 2011] [09:06:33] &lt;cremes&gt;   private_meta: i can&#8217;t make heads or tails of that output</div>
<div class="line">[Tuesday 01 March 2011] [09:06:51] &lt;cremes&gt;   it looks like nonsense</div>
<div class="line">[Tuesday 01 March 2011] [09:07:11] &lt;private_meta&gt;     cremes: I never worked closly with gdb or traces, so I gave you what eclipse tagged as &#8220;traces&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [09:07:24] &lt;cremes&gt;   oh...</div>
<div class="line">[Tuesday 01 March 2011] [09:07:33] &lt;private_meta&gt;     gdb traces to be exact</div>
<div class="line">[Tuesday 01 March 2011] [09:07:48] &lt;cremes&gt;   from a command line, run this:  gdb &#8211;args &lt;name of lpclient&gt;</div>
<div class="line">[Tuesday 01 March 2011] [09:07:52] &lt;private_meta&gt;     sec</div>
<div class="line">[Tuesday 01 March 2011] [09:07:52] &lt;cremes&gt;   (gdb) run</div>
<div class="line">[Tuesday 01 March 2011] [09:08:01] &lt;cremes&gt;   (gdb) thread apply all bt</div>
<div class="line">[Tuesday 01 March 2011] [09:08:04] &lt;cremes&gt;   pastie the output</div>
<div class="line">[Tuesday 01 March 2011] [09:11:23] &lt;private_meta&gt;     cremes: better? <a class="reference external" href="https://gist.github.com/0eba301579e05243a715">https://gist.github.com/0eba301579e05243a715</a></div>
<div class="line">[Tuesday 01 March 2011] [09:12:17] &lt;cremes&gt;   better</div>
<div class="line">[Tuesday 01 March 2011] [09:14:35] &lt;cremes&gt;   private_meta: change: zmq::poll (items, 1, REQUEST_TIMEOUT * 1000);</div>
<div class="line">[Tuesday 01 March 2011] [09:14:42] &lt;cremes&gt;   to:  zmq::poll (&amp;items, 1, REQUEST_TIMEOUT * 1000);</div>
<div class="line">[Tuesday 01 March 2011] [09:14:55] &lt;cremes&gt;   (just added &amp; in front of items)</div>
<div class="line">[Tuesday 01 March 2011] [09:17:00] &lt;private_meta&gt;     cremes: cannot convert &#8216;zmq::pollitem_t (*)[1]&#8217; to &#8216;zmq_pollitem_t*&#8217; for argument &#8216;1&#8217; to &#8216;int zmq::poll(zmq_pollitem_t*, int, long int)&#8217;</div>
<div class="line">[Tuesday 01 March 2011] [09:21:10] &lt;cremes&gt;   private_meta: oops, my mistake; try this:</div>
<div class="line">[Tuesday 01 March 2011] [09:21:22] &lt;cremes&gt;   zmq::poll (&amp;items[0], 1, REQUEST_TIMEOUT * 1000);</div>
<div class="line">[Tuesday 01 March 2011] [09:21:36] &lt;guido_g&gt;  yeah, that&#8217;s c++ :)</div>
<div class="line">[Tuesday 01 March 2011] [09:21:41] &lt;cremes&gt;   btw, i&#8217;m getting all of this from looking at the c++ examples in the zguide</div>
<div class="line">[Tuesday 01 March 2011] [09:21:54] &lt;guido_g&gt;  hrhrhr</div>
<div class="line">[Tuesday 01 March 2011] [09:21:57] &lt;cremes&gt;   your translation needs work</div>
<div class="line">[Tuesday 01 March 2011] [09:22:16] &lt;private_meta&gt;     same</div>
<div class="line">[Tuesday 01 March 2011] [09:22:46] &lt;cremes&gt;   won&#8217;t compile?</div>
<div class="line">[Tuesday 01 March 2011] [09:22:52] &lt;private_meta&gt;     no, same as items</div>
<div class="line">[Tuesday 01 March 2011] [09:23:01] &lt;private_meta&gt;     so, same runtime error</div>
<div class="line">[Tuesday 01 March 2011] [09:23:07] &lt;cremes&gt;   can you get any of the c++ examples in the zguide to run?</div>
<div class="line">[Tuesday 01 March 2011] [09:24:05] &lt;private_meta&gt;     sure</div>
<div class="line">[Tuesday 01 March 2011] [09:24:07] &lt;guido_g&gt;  just to make sure, try a delay (sleep) after the send and before the poll, might be that the connection is not yet established</div>
<div class="line">[Tuesday 01 March 2011] [09:24:31] &lt;private_meta&gt;     guido_g: nope</div>
<div class="line">[Tuesday 01 March 2011] [09:25:02] &lt;guido_g&gt;  why?</div>
<div class="line">[Tuesday 01 March 2011] [09:25:13] &lt;private_meta&gt;     &#8220;nope&#8221; as in &#8220;doesn&#8217;t help&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [09:25:53] &lt;Guthur&gt;   guido_g: would polling before the connection establishes cause issues?</div>
<div class="line">[Tuesday 01 March 2011] [09:26:09] &lt;guido_g&gt;  i&#8217;m not sure</div>
<div class="line">[Tuesday 01 March 2011] [09:26:18] &lt;private_meta&gt;     cremes: I haven&#8217;t tried ALL of them, but they normally DO work</div>
<div class="line">[Tuesday 01 March 2011] [09:26:24] &lt;guido_g&gt;  that&#8217;s why i asked to test it</div>
<div class="line">[Tuesday 01 March 2011] [09:26:46] &lt;Guthur&gt;   guido_g: ok, the reason I asked was I had an issue like that last night on linux</div>
<div class="line">[Tuesday 01 March 2011] [09:26:55] &lt;private_meta&gt;     guido_g: A sleep of 1 second didn&#8217;t help</div>
<div class="line">[Tuesday 01 March 2011] [09:26:55] &lt;Guthur&gt;   using the clrzmq2 binding</div>
<div class="line">[Tuesday 01 March 2011] [09:27:08] &lt;guido_g&gt;  private_meta: where was the sleep?</div>
<div class="line">[Tuesday 01 March 2011] [09:27:35] &lt;private_meta&gt;     after s_send before zmq::pollitem_t, but not after every poll.</div>
<div class="line">[Tuesday 01 March 2011] [09:28:06] &lt;guido_g&gt;  ok</div>
<div class="line">[Tuesday 01 March 2011] [09:28:47] &lt;cremes&gt;   when i run it under gdb, it shows that it is spawning 2 client threads and connecting to the server twice</div>
<div class="line">[Tuesday 01 March 2011] [09:29:34] &lt;cremes&gt;   wtf?</div>
<div class="line">[Tuesday 01 March 2011] [09:30:39] &lt;cremes&gt;   no, something else is up...</div>
<div class="line">[Tuesday 01 March 2011] [09:34:36] &lt;private_meta&gt;     pieterh: Just out of premature curiosity, how would I then be able to use the Majordomo Protocol?</div>
<div class="line">[Tuesday 01 March 2011] [09:37:51] &lt;cremes&gt;   private_meta: fixed it</div>
<div class="line">[Tuesday 01 March 2011] [09:37:56] &lt;cremes&gt;   change: zmq::pollitem_t items [] = { { client, 0, ZMQ_POLLIN, 0 } };</div>
<div class="line">[Tuesday 01 March 2011] [09:37:59] &lt;cremes&gt;   to: zmq::pollitem_t items [] = { { <a href="#id5"><span class="problematic" id="id6">*</span></a>client, 0, ZMQ_POLLIN, 0 } };</div>
<div class="line">[Tuesday 01 March 2011] [09:38:28] &lt;cremes&gt;   (and keep the other changes)</div>
<div class="line">[Tuesday 01 March 2011] [09:39:06] &lt;cremes&gt;   wow, i haven&#8217;t done any c++ in about 10 years and this experience hasn&#8217;t made me miss it :)</div>
<div class="line">[Tuesday 01 March 2011] [09:39:22] &lt;guido_g&gt;  hehe</div>
<div class="line">[Tuesday 01 March 2011] [09:39:56] &lt;private_meta&gt;     cremes: wtf?</div>
<div class="line">[Tuesday 01 March 2011] [09:39:58] &lt;cremes&gt;   private_meta: do i get a coauthor credit on this translation? :P</div>
<div class="line">[Tuesday 01 March 2011] [09:40:27] &lt;cremes&gt;   private_meta: look at the other c++ examples; yours is the only one that uses &#8216;new&#8217;</div>
<div class="line">[Tuesday 01 March 2011] [09:41:04] &lt;cremes&gt;   i think you had a pointer to a socket pointer</div>
<div class="line">[Tuesday 01 March 2011] [09:41:24] &lt;cremes&gt;   or something... i&#8217;m out of my depth :)</div>
<div class="line">[Tuesday 01 March 2011] [09:41:52] &lt;guido_g&gt;  cremes: oh nice, didn&#8217;t spot that one</div>
<div class="line">[Tuesday 01 March 2011] [09:42:06] &lt;private_meta&gt;     cremes: It&#8217;s not that I wanted to use new</div>
<div class="line">[Tuesday 01 March 2011] [09:42:11] &lt;cremes&gt;   guido_g: better lucky that good   &lt;&#8212; my motto</div>
<div class="line">[Tuesday 01 March 2011] [09:42:20] &lt;cremes&gt;   s/that/than/</div>
<div class="line">[Tuesday 01 March 2011] [09:43:09] &lt;private_meta&gt;     cremes: As far as I can see it&#8217;s the only example where the socket is created in a different method, and for one the first example returned a pointer, so I wanted as well, and I thought it made the same problems as message_t</div>
<div class="line">[Tuesday 01 March 2011] [09:43:53] &lt;cremes&gt;   private_meta: what i remember about c++ could fit in a thimble; i just started matching up working code against non-working</div>
<div class="line">[Tuesday 01 March 2011] [09:43:55] &lt;cremes&gt;   and went from there</div>
<div class="line">[Tuesday 01 March 2011] [09:44:33] &lt;cremes&gt;   seems like the library should do some more sanity checking on passed arguments though</div>
<div class="line">[Tuesday 01 March 2011] [09:44:41] &lt;private_meta&gt;     cremes: the copy constructor of socket_t is private, so I can&#8217;t return it as a non-pointer, and I didn&#8217;t want to push socket_t into the parameters</div>
<div class="line">[Tuesday 01 March 2011] [09:44:58] &lt;cremes&gt;   it doesn&#8217;t seem like we should be able to compile and run something with so many errors</div>
<div class="line">[Tuesday 01 March 2011] [09:45:21] &lt;cremes&gt;   (easy to make errors... i&#8217;m not poitning any fingers)</div>
<div class="line">[Tuesday 01 March 2011] [09:45:29] &lt;Guthur&gt;   sanity and c++?</div>
<div class="line">[Tuesday 01 March 2011] [09:45:39] &lt;cremes&gt;   Guthur: i know!</div>
<div class="line">[Tuesday 01 March 2011] [09:45:41] &lt;private_meta&gt;     Well, C takes a pointer, C++ doesn&#8217;t, it&#8217;s nasty</div>
<div class="line">[Tuesday 01 March 2011] [09:46:13] &lt;private_meta&gt;     ok</div>
<div class="line">[Tuesday 01 March 2011] [09:47:21] &lt;private_meta&gt;     cremes: the problem is that zmq_pollitem_t is in the zmq.h, there is no zmq.hpp version where (void <a href="#id7"><span class="problematic" id="id8">*</span></a>) is correctly translated to socket_t apparently</div>
<div class="line">[Tuesday 01 March 2011] [09:47:56] &lt;cremes&gt;   i don&#8217;t know what that means ;)</div>
<div class="line">[Tuesday 01 March 2011] [09:48:02] &lt;cremes&gt;   heh</div>
<div class="line">[Tuesday 01 March 2011] [09:48:38] &lt;cremes&gt;   if that&#8217;s a genuine hole in the lib, open a ticket with a patch</div>
<div class="line">[Tuesday 01 March 2011] [09:48:48] &lt;cremes&gt;   sounds like it would be pretty easy to make</div>
<div class="line">[Tuesday 01 March 2011] [09:49:54] &lt;private_meta&gt;     hmm</div>
<div class="line">[Tuesday 01 March 2011] [09:50:21] &lt;private_meta&gt;     either a genuine type for c++ or a sanity check in zmq::poll</div>
<div class="line">[Tuesday 01 March 2011] [09:50:35] &lt;private_meta&gt;     but the latter won&#8217;t fix the problem at compile time</div>
<div class="line">[Tuesday 01 March 2011] [09:51:29] &lt;private_meta&gt;     typedef struct { void <em>socket; int fd; short events; short revents; } zmq_pollitem_t; &lt;&#8211; the void</em> there is the unfriendly thing</div>
<div class="line">[Tuesday 01 March 2011] [09:56:10] &lt;private_meta&gt;     hmm</div>
<div class="line">[Tuesday 01 March 2011] [10:02:38] &lt;private_meta&gt;     cremes: doesn&#8217;t seem THAT easy</div>
<div class="line">[Tuesday 01 March 2011] [10:13:07] &lt;CIA-21&gt;   zeromq2: 03Martin Sustrik 07master * r4c74462 10/ src/socket_base.cpp :</div>
<div class="line">[Tuesday 01 March 2011] [10:13:07] &lt;CIA-21&gt;   zeromq2: Explicit identities bug in inproc transport fixed.</div>
<div class="line">[Tuesday 01 March 2011] [10:13:07] &lt;CIA-21&gt;   zeromq2: The identity of bound socket was not used. Instead, transient</div>
<div class="line">[Tuesday 01 March 2011] [10:13:07] &lt;CIA-21&gt;   zeromq2: identity was generated.</div>
<div class="line">[Tuesday 01 March 2011] [10:13:07] &lt;CIA-21&gt;   zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/heLOOL">http://bit.ly/heLOOL</a></div>
<div class="line">[Tuesday 01 March 2011] [10:14:51] &lt;private_meta&gt;     Been led to the following problem, <a class="reference external" href="http://stackoverflow.com/questions/231760/what-does-a-type-followed-by-t-underscore-t-represent/231807#231807">http://stackoverflow.com/questions/231760/what-does-a-type-followed-by-t-underscore-t-represent/231807#231807</a>, don&#8217;t you concern yourself with the problem because you prefix every type in C with &#8220;<a href="#id215"><span class="problematic" id="id216">zmq_</span></a>&#8221;?</div>
<div class="line">[Tuesday 01 March 2011] [10:40:54] &lt;stimpie&gt;  sustrik, great I was just running in to it.</div>
<div class="line">[Tuesday 01 March 2011] [11:02:27] &lt;sustrik&gt;  stimpie :)</div>
<div class="line">[Tuesday 01 March 2011] [11:52:39] &lt;private_meta&gt;     <a class="reference external" href="https://gist.github.com/5beb18da2cdb0ed04e02">https://gist.github.com/5beb18da2cdb0ed04e02</a> <a class="reference external" href="https://gist.github.com/427a77b7837b5010483a">https://gist.github.com/427a77b7837b5010483a</a> &lt;&#8211; I thought that would be an easy class based example for communicated through zmq_poll, shouldn&#8217;t I get the &#8220;START&#8221; message at the worker? What am I doing wrong?</div>
<div class="line">[Tuesday 01 March 2011] [11:53:26] &lt;ianbarber&gt;        pieterh: are the lazy pirate examples translatable now then?</div>
<div class="line">[Tuesday 01 March 2011] [12:12:27] &lt;private_meta&gt;     k, got it to work &gt;_&gt;</div>
<div class="line">[Tuesday 01 March 2011] [12:12:58] &lt;cremes&gt;   private_meta: you&#8217;re going through some of the same growing pains most of us did when we first</div>
<div class="line">[Tuesday 01 March 2011] [12:13:02] &lt;cremes&gt;   started playing with 0mq</div>
<div class="line">[Tuesday 01 March 2011] [12:13:15] &lt;cremes&gt;   though i&#8217;ll say maybe the c++ aspect is throwing an additional monkey-wrench into the process</div>
<div class="line">[Tuesday 01 March 2011] [12:13:17] &lt;cremes&gt;   :)</div>
<div class="line">[Tuesday 01 March 2011] [12:15:58] &lt;private_meta&gt;     cremes: my problem is that we had to switch from a different comm library because it threw it&#8217;s own monkey wrench into the project, and now everybody tells me &#8220;quick, we need it, immediately, if you don&#8217;t, we have problems&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [12:16:07] &lt;private_meta&gt;     cremes: and I&#8217;m completely new with zmq</div>
<div class="line">[Tuesday 01 March 2011] [12:16:15] &lt;cremes&gt;   uh oh</div>
<div class="line">[Tuesday 01 March 2011] [12:16:42] &lt;cremes&gt;   not to say you won&#8217;t have success with 0mq, but it comes with time &amp; experience</div>
<div class="line">[Tuesday 01 March 2011] [12:17:36] &lt;private_meta&gt;     uhm... do durable sockets send multipart messages with the id as the first part?</div>
<div class="line">[Tuesday 01 March 2011] [12:19:00] &lt;ianbarber&gt;        xrep does</div>
<div class="line">[Tuesday 01 March 2011] [12:19:11] &lt;private_meta&gt;     hmm</div>
<div class="line">[Tuesday 01 March 2011] [12:19:32] &lt;cremes&gt;   the ID is only sent upon connect/bind for each socket type</div>
<div class="line">[Tuesday 01 March 2011] [12:19:36] &lt;cremes&gt;   this is invisible to the application</div>
<div class="line">[Tuesday 01 March 2011] [12:19:43] &lt;private_meta&gt;     cremes: quote from my project manager: &#8220;If you take too long with zmq I assume it won&#8217;t help us, and you have to implement communication from scratch&#8221;</div>
<div class="line">[Tuesday 01 March 2011] [12:19:55] &lt;ianbarber&gt;        ouch!</div>
<div class="line">[Tuesday 01 March 2011] [12:20:11] &lt;ianbarber&gt;        xrep wraps the message with the ID, so it knows who to route back to</div>
<div class="line">[Tuesday 01 March 2011] [12:20:17] &lt;cremes&gt;   xrep sends the identity as a visible message part as part of a routing envelope on a reply</div>
<div class="line">[Tuesday 01 March 2011] [12:20:19] &lt;ianbarber&gt;        it&#8217;ll unwrap when you send back</div>
<div class="line">[Tuesday 01 March 2011] [12:20:38] &lt;cremes&gt;   private_meta: your manager must have pointy hair</div>
<div class="line">[Tuesday 01 March 2011] [12:21:13] &lt;private_meta&gt;     cremes: actually, he&#8217;s a programmer, he even programmed in projects</div>
<div class="line">[Tuesday 01 March 2011] [12:21:22] &lt;private_meta&gt;     cremes: and apparently the projects didn&#8217;t fail</div>
<div class="line">[Tuesday 01 March 2011] [12:21:38] &lt;private_meta&gt;     hmm</div>
<div class="line">[Tuesday 01 March 2011] [12:21:47] &lt;cremes&gt;   well, making that statement undermines past performance</div>
<div class="line">[Tuesday 01 March 2011] [12:22:01] &lt;cremes&gt;   he may be a good programmer but he doesn&#8217;t seem to be too hot of a manager (IMHO)</div>
<div class="line">[Tuesday 01 March 2011] [12:22:03] &lt;private_meta&gt;     That&#8217;s the paradox</div>
<div class="line">[Tuesday 01 March 2011] [12:22:32] &lt;cremes&gt;   we&#8217;ll help where we can; have you read the guide from start to finish twice yet? ;)</div>
<div class="line">[Tuesday 01 March 2011] [12:22:53] &lt;ianbarber&gt;        and tried the examples!</div>
<div class="line">[Tuesday 01 March 2011] [12:23:07] &lt;cremes&gt;   ianbarber: indeed!</div>
<div class="line">[Tuesday 01 March 2011] [12:23:20] &lt;private_meta&gt;     I read much of it and tried some examples, tried modifying them and stuff</div>
<div class="line">[Tuesday 01 March 2011] [12:23:45] &lt;ianbarber&gt;        it does help to thing of XREP and XREQ as router and dealer</div>
<div class="line">[Tuesday 01 March 2011] [12:23:53] &lt;ianbarber&gt;        makes it clearer what they do</div>
<div class="line">[Tuesday 01 March 2011] [12:23:56] &lt;ianbarber&gt;        s/thing/think</div>
<div class="line">[Tuesday 01 March 2011] [12:24:34] &lt;private_meta&gt;     Well, I did try to build a router/dealer</div>
<div class="line">[Tuesday 01 March 2011] [12:24:35] &lt;private_meta&gt;     sec</div>
<div class="line">[Tuesday 01 March 2011] [12:24:46] &lt;private_meta&gt;     <a class="reference external" href="https://gist.github.com/5beb18da2cdb0ed04e02">https://gist.github.com/5beb18da2cdb0ed04e02</a> <a class="reference external" href="https://gist.github.com/427a77b7837b5010483a">https://gist.github.com/427a77b7837b5010483a</a></div>
<div class="line">[Tuesday 01 March 2011] [12:25:27] &lt;private_meta&gt;     I was just confused that I got something like &lt;id&gt;n&lt;message&gt;n&lt;id&gt;n&lt;message2&gt;n&lt;id&gt;n&lt;message3&gt;</div>
<div class="line">[Tuesday 01 March 2011] [12:26:07] &lt;sarikan&gt;  greetings</div>
<div class="line">[Tuesday 01 March 2011] [12:26:10] &lt;ianbarber&gt;        yeah, that&#8217;s just xrep doing its thing, you can use req and rep for straightforward client server</div>
<div class="line">[Tuesday 01 March 2011] [12:26:30] &lt;private_meta&gt;     Well, I already established I need something in the range of router/dealer</div>
<div class="line">[Tuesday 01 March 2011] [12:26:42] &lt;ianbarber&gt;        if you went req -&gt; xrep -&gt; xreq -&gt; rep the &#8216;req&#8217; and &#8216;rep&#8217; would never see the extra field</div>
<div class="line">[Tuesday 01 March 2011] [12:26:51] &lt;private_meta&gt;     pieterh said something that would fit my requirements would be the majordomo protocol he is currently working on</div>
<div class="line">[Tuesday 01 March 2011] [12:28:05] &lt;private_meta&gt;     ianbarber: I don&#8217;t think the extra layer is all that neccessary</div>
<div class="line">[Tuesday 01 March 2011] [12:28:26] &lt;private_meta&gt;     damn.... still wanted to buy food :/</div>
<div class="line">[Tuesday 01 March 2011] [12:28:42] &lt;private_meta&gt;     damn this town and it&#8217;s stores closing at 18.30</div>
<div class="line">[Tuesday 01 March 2011] [12:29:30] &lt;ianbarber&gt;        takeaway! friend to the hungry coder :)</div>
<div class="line">[Tuesday 01 March 2011] [12:30:04] &lt;private_meta&gt;     hmm</div>
<div class="line">[Tuesday 01 March 2011] [12:30:13] &lt;private_meta&gt;     I don&#8217;t have a car :D</div>
<div class="line">[Tuesday 01 March 2011] [12:31:08] &lt;private_meta&gt;     And the only pizza delivery service here requires you to order 2-3 pizzas for them to deliver <em>sigh</em></div>
<div class="line">[Tuesday 01 March 2011] [12:31:13] &lt;ianbarber&gt;        maybe pieterh has a fast food distribution system planned for chapter 5 of the guide</div>
<div class="line">[Tuesday 01 March 2011] [12:31:17] &lt;private_meta&gt;     hahaha</div>
<div class="line">[Tuesday 01 March 2011] [12:31:35] &lt;cremes&gt;   private_meta: it might be best if you described your use-case in detail</div>
<div class="line">[Tuesday 01 March 2011] [12:31:39] &lt;cremes&gt;   then we can make suggestions</div>
<div class="line">[Tuesday 01 March 2011] [12:31:45] &lt;private_meta&gt;     hmm</div>
<div class="line">[Tuesday 01 March 2011] [12:31:46] &lt;cremes&gt;   this might also be a good thing to take to the mailing list</div>
<div class="line">[Tuesday 01 March 2011] [12:32:04] &lt;cremes&gt;   i&#8217;m going to have to go &#8220;async&#8221; on irc in a few... lots of work to do</div>
<div class="line">[Tuesday 01 March 2011] [12:32:07] &lt;ianbarber&gt;        yeah, probably better if it&#8217;s more than a one-line job to describe it</div>
<div class="line">[Tuesday 01 March 2011] [12:32:14] &lt;cremes&gt;   so following a conversation will be hard for me</div>
<div class="line">[Tuesday 01 March 2011] [12:32:18] &lt;ianbarber&gt;        also helpful for future people searching</div>
<div class="line">[Tuesday 01 March 2011] [12:32:43] &lt;cremes&gt;   private_meta: feel free to leave out the super-secret-squirrel-intellectual-property parts</div>
<div class="line">[Tuesday 01 March 2011] [12:32:47] &lt;private_meta&gt;     I&#8217;ll start drawing a pic</div>
<div class="line">[Tuesday 01 March 2011] [12:32:52] &lt;cremes&gt;   that would make your boss mad if they were public :)</div>
<div class="line">[Tuesday 01 March 2011] [12:40:18] &lt;cremes&gt;   sustrik: ping</div>
<div class="line">[Tuesday 01 March 2011] [12:40:25] &lt;sustrik&gt;  pong</div>
<div class="line">[Tuesday 01 March 2011] [12:40:31] &lt;cremes&gt;   anything i can do to make <a class="reference external" href="https://github.com/zeromq/zeromq2/issues/174">https://github.com/zeromq/zeromq2/issues/174</a> clearer for you and pieterh?</div>
<div class="line">[Tuesday 01 March 2011] [12:40:54] &lt;cremes&gt;   he can&#8217;t seem to repro the problem as stated</div>
<div class="line">[Tuesday 01 March 2011] [12:41:30] &lt;cremes&gt;   maybe file descriptors need to be bumped for the process to some larger value?</div>
<div class="line">[Tuesday 01 March 2011] [12:41:53] &lt;cremes&gt;   or src/config.hpp needs to be modified so max_sockets is &gt; 512 (default)</div>
<div class="line">[Tuesday 01 March 2011] [12:42:07] &lt;cremes&gt;   i usually build the lib with 51200 as my max_sockets :)</div>
<div class="line">[Tuesday 01 March 2011] [12:42:41] &lt;private_meta&gt;     I have 1 &#8220;manager&#8221;, the worker. I have n clients, nodes. The manager needs to send routed messages to single specified nodes which logon beforehand. Communication needs to be asynchroneous, bidirectional, so both have to initiate communication if neccessary. I also need awareness of connection termination, so a heartbeat on both sides.</div>
<div class="line">[Tuesday 01 March 2011] [12:43:11] &lt;private_meta&gt;     cremes, ianbarber, that would be an overall description</div>
<div class="line">[Tuesday 01 March 2011] [12:43:30] &lt;cremes&gt;   private_meta: yep, sounds like pieterh&#8217;s new mdp project</div>
<div class="line">[Tuesday 01 March 2011] [12:43:43] &lt;cremes&gt;   he&#8217;s hard at work on it right now; perhaps there could be collaboration?</div>
<div class="line">[Tuesday 01 March 2011] [12:43:52] &lt;private_meta&gt;     As soon as these asynchroneous messages arrive at their respective endpoints, a logic is already in place to handle these messages, if needed even to create synchronity out of async messages</div>
<div class="line">[Tuesday 01 March 2011] [12:44:54] &lt;private_meta&gt;     Well, I would like to help, it would make it faster for me in some respect, I just don&#8217;t know how I can helpo</div>
<div class="line">[Tuesday 01 March 2011] [12:44:57] &lt;private_meta&gt;     -o</div>
<div class="line">[Tuesday 01 March 2011] [12:50:54] &lt;private_meta&gt;     cremes: Well... I can ask pieterh if I could do anything to help, but if not I guess that the best thing to do right now would be to get to understand zmq better until he&#8217;s done</div>
<div class="line">[Tuesday 01 March 2011] [12:51:25] &lt;cremes&gt;   good plan... you are kind of diving into the deep end</div>
<div class="line">[Tuesday 01 March 2011] [12:51:52] &lt;private_meta&gt;     cremes: well, I guess it wouldn&#8217;t be good for me if he finished it and I still don&#8217;t know that much about it &gt;_&gt;</div>
<div class="line">[Tuesday 01 March 2011] [12:52:10] &lt;private_meta&gt;     pieterh: so anything I can do to help, just tell :D</div>
<div class="line">[Tuesday 01 March 2011] [12:52:55] &lt;private_meta&gt;     k, bbl</div>
<div class="line">[Tuesday 01 March 2011] [12:57:33] &lt;sarikan&gt;  if I use the java bindings for zeromq in a web application, would I run into threading issues?</div>
<div class="line">[Tuesday 01 March 2011] [12:58:23] &lt;sarikan&gt;  multiple java threads will be using jni to access zeromq</div>
<div class="line">[Tuesday 01 March 2011] [12:59:32] &lt;cremes&gt;   sarikan: only if you try to access the same socket from multiple threads; allocate a 0mq socket per thread and you&#8217;ll be fine</div>
<div class="line">[Tuesday 01 March 2011] [13:02:15] &lt;sarikan&gt;  cremes:  so If I create, use and close a socket for each request, I should be fine</div>
<div class="line">[Tuesday 01 March 2011] [13:03:08] &lt;cremes&gt;   sarikan: sure, but that&#8217;s an anti-pattern</div>
<div class="line">[Tuesday 01 March 2011] [13:03:13] &lt;cremes&gt;   what&#8217;s your use-case?</div>
<div class="line">[Tuesday 01 March 2011] [13:03:42] &lt;sarikan&gt;  java web services, talking to some native code using 0mq as the middleware</div>
<div class="line">[Tuesday 01 March 2011] [13:03:53] &lt;sarikan&gt;  each request to java web service ends up being a thread</div>
<div class="line">[Tuesday 01 March 2011] [13:04:15] &lt;cremes&gt;   sarikan: a new thread or a thread from a pool?</div>
<div class="line">[Tuesday 01 March 2011] [13:04:17] &lt;sarikan&gt;  so I can&#8217;t think of anything other than what I&#8217;ve written above</div>
<div class="line">[Tuesday 01 March 2011] [13:04:34] &lt;sarikan&gt;  more likely to be a thread from a pool</div>
<div class="line">[Tuesday 01 March 2011] [13:05:00] &lt;cremes&gt;   ok, so allocate a socket for each thread in the pool and reuse the socket just like you&#8217;re reusing the thread</div>
<div class="line">[Tuesday 01 March 2011] [13:05:43] &lt;sarikan&gt;  cremes: that is an interesting approach, if I can monitor and control thread creation in the java web server, it should work fine</div>
<div class="line">[Tuesday 01 March 2011] [13:07:12] &lt;sarikan&gt;  cremes: do you think I need to watch for this if I&#8217;m using c++ instead of java? I guess it would be the same</div>
<div class="line">[Tuesday 01 March 2011] [13:08:45] &lt;sarikan&gt;  cremes: thanks anyway, helpful starting point</div>
<div class="line">[Tuesday 01 March 2011] [14:03:00] &lt;Guthur&gt;   I just noticed ZMQ_FD, is that not going to be a little problematic if we manage to get named pipes on Windows?</div>
<div class="line">[Tuesday 01 March 2011] [15:20:14] &lt;Guthur&gt;   is there some overriding technical reason why it is not possible to query for assigned subscription patterns</div>
<div class="line">[Tuesday 01 March 2011] [16:51:49] &lt;mikko&gt;    man, i love london</div>
<div class="line">[Tuesday 01 March 2011] [16:51:56] &lt;mikko&gt;    it&#8217;s full of random things and events</div>
<div class="line">[Tuesday 01 March 2011] [17:02:38] &lt;Guthur&gt;   mikko, you a londoner then?</div>
<div class="line">[Tuesday 01 March 2011] [17:02:53] &lt;mikko&gt;    yep</div>
<div class="line">[Tuesday 01 March 2011] [17:03:01] &lt;Guthur&gt;   I was there last week actually, it&#8217;s ok.</div>
<div class="line">[Tuesday 01 March 2011] [17:03:20] &lt;Guthur&gt;   I was only there for 2 days though, and it was mostly business</div>
<div class="line">[Tuesday 01 March 2011] [17:03:27] &lt;mikko&gt;    you should&#8217;ve told!</div>
<div class="line">[Tuesday 01 March 2011] [17:03:33] &lt;mikko&gt;    we could&#8217;ve had a mini-meetup</div>
<div class="line">[Tuesday 01 March 2011] [17:03:43] &lt;Guthur&gt;   never thought actually</div>
<div class="line">[Tuesday 01 March 2011] [17:04:01] &lt;mikko&gt;    we went out for beers last time sustrik was here</div>
<div class="line">[Tuesday 01 March 2011] [17:04:12] &lt;mikko&gt;    one other guy from london came out as well</div>
<div class="line">[Tuesday 01 March 2011] [17:04:55] &lt;Guthur&gt;   i&#8217;m sure i&#8217;ll be there again sometime, i&#8217;m only across the irish sea, hehe</div>
<div class="line">[Tuesday 01 March 2011] [17:05:16] &lt;ianbarber&gt;        definitely up for london mini-meetups if everyone is about</div>
<div class="line">[Tuesday 01 March 2011] [17:05:22] &lt;Guthur&gt;   actually does anyone leave near Hamburg</div>
<div class="line">[Tuesday 01 March 2011] [17:05:24] &lt;Guthur&gt;   leave/live</div>
<div class="line">[Tuesday 01 March 2011] [17:05:25] &lt;mikko&gt;    we could organise one</div>
<div class="line">[Tuesday 01 March 2011] [17:05:58] &lt;Guthur&gt;   i&#8217;m in hamburg for the European Lisp Symposium</div>
<div class="line">[Tuesday 01 March 2011] [17:06:46] &lt;Guthur&gt;   it&#8217;s a shame I never thought of setting up some demo with ZeroMQ and Common Lisp,  the theme for this year is concurrency</div>
<div class="line">[Tuesday 01 March 2011] [17:07:00] &lt;mikko&gt;    ianbarber: why don&#8217;t we organise one at some point?</div>
<div class="line">[Tuesday 01 March 2011] [17:07:39] &lt;ianbarber&gt;        mikko: that&#8217;s a good idea!</div>
<div class="line">[Tuesday 01 March 2011] [17:07:51] &lt;ianbarber&gt;        we can setup a meetup event or something, and email the list</div>
<div class="line">[Tuesday 01 March 2011] [17:07:59] &lt;ianbarber&gt;        mid-late march?</div>
<div class="line">[Tuesday 01 March 2011] [17:09:00] &lt;ianbarber&gt;        i&#8217;m at confoo next week, but maybe the 17th or something like that</div>
<div class="line">[Tuesday 01 March 2011] [17:09:47] &lt;mikko&gt;    groupspaces</div>
<div class="line">[Tuesday 01 March 2011] [17:09:52] &lt;mikko&gt;    support local industries</div>
<div class="line">[Tuesday 01 March 2011] [17:10:56] &lt;ianbarber&gt;        good point :)</div>
<div class="line">[Tuesday 01 March 2011] [17:18:51] &lt;ianbarber&gt;        done: <a class="reference external" href="http://groupspaces.com/zeromq-london/">http://groupspaces.com/zeromq-london/</a> :)</div>
<div class="line">[Tuesday 01 March 2011] [19:30:07] &lt;skm&gt;      if a pusher has pushed 100msgd, the first client to call recv then gets all 100 msgs (and has to recv 99 more times to see them) - correct?</div>
<div class="line">[Tuesday 01 March 2011] [20:22:02] &lt;Guthur&gt;   skm, according to the docs push will go into an exceptional state if there is nothing downstream to recv</div>
<div class="line">[Tuesday 01 March 2011] [20:22:12] &lt;Guthur&gt;   <a class="reference external" href="http://api.zeromq.org/master:zmq-socket#toc12">http://api.zeromq.org/master:zmq-socket#toc12</a></div>
<div class="line">[Tuesday 01 March 2011] [20:23:19] &lt;Guthur&gt;   and it&#8217;s load balanced across any connected downstream peers</div>
<div class="line">[Tuesday 01 March 2011] [20:28:16] &lt;skm&gt;      i want to know what happens though when multiple clients connect with 100pending messages</div>
<div class="line">[Tuesday 01 March 2011] [20:28:23] &lt;skm&gt;      and the first connected client calls recv</div>
<div class="line">[Tuesday 01 March 2011] [20:28:51] &lt;skm&gt;      does it get one message or are all messages then sent to that</div>
<div class="line">[Tuesday 01 March 2011] [20:29:37] &lt;skm&gt;      im using the nodejs javascript binding which that is the case - the first recv gets all messages (and needs to call recv another 99 times to read the other messages)</div>
<div class="line">[Tuesday 01 March 2011] [20:29:59] &lt;skm&gt;      im just wondering if that is because of the binding or if that&#8217;s the way 0mq works</div>
<div class="line">[Tuesday 01 March 2011] [20:30:03] &lt;Guthur&gt;   umm does sound right to me</div>
<div class="line">[Tuesday 01 March 2011] [20:30:06] &lt;Guthur&gt;   doesn&#8217;t</div>
<div class="line">[Tuesday 01 March 2011] [20:30:43] &lt;Guthur&gt;   well that doesn&#8217;t sound like it full fills the load-balancing aspect</div>
<div class="line">[Tuesday 01 March 2011] [20:32:17] &lt;Guthur&gt;   I can&#8217;t say for sure to be honest</div>
<div class="line">[Tuesday 01 March 2011] [20:32:32] &lt;Guthur&gt;   someone else will have to clarify</div>
<div class="line">[Tuesday 01 March 2011] [21:43:50] &lt;jugg&gt;     pieterh, api.zeromq.org defaults to &#8216;master/2.2.0&#8217;.  Perhaps it should default to the current stable release?</div>
<div class="line">[Tuesday 01 March 2011] [21:44:20] &lt;jugg&gt;     eg, the same as the redirects from the old api pages.</div>
<div class="line">[Wednesday 02 March 2011] [02:19:25] &lt;Steve-o&gt;        almost complete for next release of OpenPGM, just need platform tests on Autoconf &amp; Cmake</div>
<div class="line">[Wednesday 02 March 2011] [02:19:58] &lt;Steve-o&gt;        performance docs uploaded for Windows, Linux, Sparc, general latency improvement all around</div>
<div class="line">[Wednesday 02 March 2011] [03:01:48] &lt;CIA-21&gt; zeromq2: 03Martin Sustrik 07master * r5fcef1c 10/ (9 files in 3 dirs):</div>
<div class="line">[Wednesday 02 March 2011] [03:01:48] &lt;CIA-21&gt; zeromq2: ZMQ_MAXMSGSIZE option added</div>
<div class="line">[Wednesday 02 March 2011] [03:01:48] &lt;CIA-21&gt; zeromq2: The new option allows user to guard against peers sending</div>
<div class="line">[Wednesday 02 March 2011] [03:01:48] &lt;CIA-21&gt; zeromq2: oversized messages. Connection to peer sending oversized message</div>
<div class="line">[Wednesday 02 March 2011] [03:01:48] &lt;CIA-21&gt; zeromq2: is dropped.</div>
<div class="line">[Wednesday 02 March 2011] [03:01:48] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eXNW24">http://bit.ly/eXNW24</a></div>
<div class="line">[Wednesday 02 March 2011] [03:48:00] &lt;eyecue&gt; <em>waves</em> o/~</div>
<div class="line">[Wednesday 02 March 2011] [03:48:22] &lt;eyecue&gt; watching pieters preso, very cool</div>
<div class="line">[Wednesday 02 March 2011] [04:30:04] &lt;yrashk&gt; ok so apparently erlang binding (say, ezmq) isn&#8217;t that slow</div>
<div class="line">[Wednesday 02 March 2011] [04:30:29] &lt;yrashk&gt; the perf tests were erroneously scripted as interpreted code</div>
<div class="line">[Wednesday 02 March 2011] [04:30:33] &lt;yrashk&gt; which slowed things down</div>
<div class="line">[Wednesday 02 March 2011] [04:30:52] &lt;sustrik&gt;        heh</div>
<div class="line">[Wednesday 02 March 2011] [04:30:59] &lt;sustrik&gt;        what are the figures now?</div>
<div class="line">[Wednesday 02 March 2011] [04:31:25] &lt;yrashk&gt; 11-13mb/s</div>
<div class="line">[Wednesday 02 March 2011] [04:31:41] &lt;sustrik&gt;        and in msgs/sec?</div>
<div class="line">[Wednesday 02 March 2011] [04:31:53] &lt;yrashk&gt; I don&#8217;t have that data yet, let me ask the guy who discovered this</div>
<div class="line">[Wednesday 02 March 2011] [04:32:10] &lt;sustrik&gt;        sure</div>
<div class="line">[Wednesday 02 March 2011] [04:35:39] &lt;yrashk&gt; 750694msg/s</div>
<div class="line">[Wednesday 02 March 2011] [04:36:34] &lt;yrashk&gt; minor correction, with erlang-to-erlang local-remote it&#8217;s rather 6mb/s</div>
<div class="line">[Wednesday 02 March 2011] [04:36:42] &lt;yrashk&gt; but still that 750694msg/s</div>
<div class="line">[Wednesday 02 March 2011] [04:36:54] &lt;yrashk&gt; still way better</div>
<div class="line">[Wednesday 02 March 2011] [04:43:35] &lt;yrashk&gt; this is exciting</div>
<div class="line">[Wednesday 02 March 2011] [04:43:38] &lt;yrashk&gt; sustrik: ^^</div>
<div class="line">[Wednesday 02 March 2011] [04:51:06] &lt;Steve-o&gt;        that&#8217;s on 100mb or 1gb?</div>
<div class="line">[Wednesday 02 March 2011] [04:51:45] &lt;yrashk&gt; that&#8217;s on localhost I believe</div>
<div class="line">[Wednesday 02 March 2011] [04:53:00] &lt;Steve-o&gt;        eek</div>
<div class="line">[Wednesday 02 March 2011] [04:55:50] &lt;Steve-o&gt;        that&#8217;s a bit of a hit</div>
<div class="line">[Wednesday 02 March 2011] [05:02:08] &lt;jugg&gt;   yrashk, have you confirmed this, as I tried compiling the code previously and it made no difference.</div>
<div class="line">[Wednesday 02 March 2011] [05:02:52] &lt;yrashk&gt; jugg: I can&#8217;t confirm this myself yet, but the guy clais this is what he gets on compiled modules (not on compiled escripts), and he&#8217;s promising to send a pull req soon</div>
<div class="line">[Wednesday 02 March 2011] [05:03:10] &lt;yrashk&gt; jugg: have you been trying to compile for erlzmq? using -mode(compile) or by converting them into modules?</div>
<div class="line">[Wednesday 02 March 2011] [05:03:21] &lt;jugg&gt;   both, neither changes performance.</div>
<div class="line">[Wednesday 02 March 2011] [05:03:24] &lt;pieterh&gt;        re</div>
<div class="line">[Wednesday 02 March 2011] [05:03:35] &lt;yrashk&gt; well maybe ezmq is superior? ;)</div>
<div class="line">[Wednesday 02 March 2011] [05:03:44] &lt;jugg&gt;   :)</div>
<div class="line">[Wednesday 02 March 2011] [05:03:59] &lt;yrashk&gt; after all it doesn&#8217;t have that decoding/encoding overhead</div>
<div class="line">[Wednesday 02 March 2011] [05:04:23] &lt;jugg&gt;   I&#8217;ll be interested if you can confirm the results.</div>
<div class="line">[Wednesday 02 March 2011] [05:06:09] &lt;yrashk&gt; I am waiting for that pull req</div>
<div class="line">[Wednesday 02 March 2011] [05:06:14]   * eyecue blinks</div>
<div class="line">[Wednesday 02 March 2011] [05:06:28] &lt;yrashk&gt; I hope I will be able to confirm this soon</div>
<div class="line">[Wednesday 02 March 2011] [05:06:35] &lt;eyecue&gt; reading the guide :]</div>
<div class="line">[Wednesday 02 March 2011] [05:09:44] &lt;eyecue&gt; the install guide mentions uuid-dev and uuid/e2fsprogs libs, but the FreeBSD port for ezmq doesnt seem to depend on them. are these conditional/optional dependencies?</div>
<div class="line">[Wednesday 02 March 2011] [05:11:45] &lt;yrashk&gt; you mean the fbsd port of 0mq?</div>
<div class="line">[Wednesday 02 March 2011] [05:11:52] &lt;yrashk&gt; because ezmq is an erlang library</div>
<div class="line">[Wednesday 02 March 2011] [05:12:00] &lt;yrashk&gt; because ezmq is the erlang library for 0mq*</div>
<div class="line">[Wednesday 02 March 2011] [05:12:18] &lt;eyecue&gt; apologies :)</div>
<div class="line">[Wednesday 02 March 2011] [05:12:20] &lt;eyecue&gt; 0mq.</div>
<div class="line">[Wednesday 02 March 2011] [05:12:35] &lt;eyecue&gt; under <a class="reference external" href="http://www.freshports.org/net/zmq">http://www.freshports.org/net/zmq</a> for reference</div>
<div class="line">[Wednesday 02 March 2011] [05:13:36] &lt;eyecue&gt; yay, python bindings are in ports too</div>
<div class="line">[Wednesday 02 March 2011] [05:19:22] &lt;pieterh&gt;        yrashk: are those figures published anywhere?</div>
<div class="line">[Wednesday 02 March 2011] [05:23:03] &lt;yrashk&gt; pieterh: not yet, it&#8217;s the other guy who&#8217;s fixing perf tests</div>
<div class="line">[Wednesday 02 March 2011] [05:23:33] &lt;pieterh&gt;        750K, up from, what was it, 20K or so?</div>
<div class="line">[Wednesday 02 March 2011] [05:23:37] &lt;pieterh&gt;        pretty nice</div>
<div class="line">[Wednesday 02 March 2011] [05:28:46] &lt;yrashk&gt; pieterh: ya</div>
<div class="line">[Wednesday 02 March 2011] [05:28:54] &lt;yrashk&gt; from 30Kish</div>
<div class="line">[Wednesday 02 March 2011] [05:33:48] &lt;yrashk&gt; pieterh: it&#8217;s basically without changing ezmq, just fixing perf tests</div>
<div class="line">[Wednesday 02 March 2011] [05:34:04] &lt;yrashk&gt; although according to jugg the same approach didn&#8217;t help speeding up erlzmq perf tests</div>
<div class="line">[Wednesday 02 March 2011] [05:34:37]   * pieterh is somewhat confused with all the e{rl}zmq versions</div>
<div class="line">[Wednesday 02 March 2011] [05:35:06] &lt;pieterh&gt;        ezmq is the latest rewrite, right?</div>
<div class="line">[Wednesday 02 March 2011] [05:35:20] &lt;yrashk&gt; pieterh: ezmq is my NIF-based complete rewrite</div>
<div class="line">[Wednesday 02 March 2011] [05:35:33] &lt;yrashk&gt; both erlzmqs (yeah, there are two of them) are port driver-based</div>
<div class="line">[Wednesday 02 March 2011] [05:35:56] &lt;pieterh&gt;        right, so eventually you want to merge all these together and call the result erlzmq again, I guess</div>
<div class="line">[Wednesday 02 March 2011] [05:36:05] &lt;yrashk&gt; not necessarily</div>
<div class="line">[Wednesday 02 March 2011] [05:36:21] &lt;yrashk&gt; and this is unlikely to happen I think</div>
<div class="line">[Wednesday 02 March 2011] [05:36:26] &lt;pieterh&gt;        hmm</div>
<div class="line">[Wednesday 02 March 2011] [05:36:27] &lt;yrashk&gt; they are both quite different</div>
<div class="line">[Wednesday 02 March 2011] [05:36:36] &lt;pieterh&gt;        different APIs for apps?</div>
<div class="line">[Wednesday 02 March 2011] [05:36:40] &lt;yrashk&gt; different approaches to interfacing with C</div>
<div class="line">[Wednesday 02 March 2011] [05:37:06] &lt;pieterh&gt;        is that relevant to users, except for performance?</div>
<div class="line">[Wednesday 02 March 2011] [05:37:25] &lt;yrashk&gt; it is not</div>
<div class="line">[Wednesday 02 March 2011] [05:37:32] &lt;yrashk&gt; for the most part</div>
<div class="line">[Wednesday 02 March 2011] [05:37:41] &lt;pieterh&gt;        so when I say &#8216;merge&#8217; I mean, replace</div>
<div class="line">[Wednesday 02 March 2011] [05:38:09] &lt;yrashk&gt; it&#8217;s really up to saleyn and jugg, really</div>
<div class="line">[Wednesday 02 March 2011] [05:38:38] &lt;pieterh&gt;        of course</div>
<div class="line">[Wednesday 02 March 2011] [05:38:43] &lt;yrashk&gt; I am just trying to maintain my own binding as I personally prefer NIF bindings</div>
<div class="line">[Wednesday 02 March 2011] [05:39:00] &lt;yrashk&gt; I don&#8217;t really care if it will be an official binding or not</div>
<div class="line">[Wednesday 02 March 2011] [05:39:03] &lt;eyecue&gt; yrashk; sorry, newbie here, NIF? :)</div>
<div class="line">[Wednesday 02 March 2011] [05:39:18] &lt;yrashk&gt; eyecue: Native Implemented Function, erlang term</div>
<div class="line">[Wednesday 02 March 2011] [05:39:23] &lt;eyecue&gt; ta :]</div>
<div class="line">[Wednesday 02 March 2011] [05:39:56] &lt;yrashk&gt; pieterh: I am fine if ezmq will remain as secondary binding</div>
<div class="line">[Wednesday 02 March 2011] [05:40:02] &lt;yrashk&gt; as a*</div>
<div class="line">[Wednesday 02 March 2011] [05:40:07] &lt;eyecue&gt; pieterh; btw, loving what i see/read about 0mq so far. trying to figure out how i can apply it to our email architecture</div>
<div class="line">[Wednesday 02 March 2011] [05:40:50] &lt;pieterh&gt;        yrashk: I&#8217;d personally use names that are more explanatory</div>
<div class="line">[Wednesday 02 March 2011] [05:41:01] &lt;pieterh&gt;        e.g. erlzmq-nif</div>
<div class="line">[Wednesday 02 March 2011] [05:41:10] &lt;pieterh&gt;        but it&#8217;s not my call</div>
<div class="line">[Wednesday 02 March 2011] [05:41:44] &lt;pieterh&gt;        eyecue: glad you like it</div>
<div class="line">[Wednesday 02 March 2011] [05:41:56] &lt;eyecue&gt; yrashk; just came across the UUID reference in the guide btw: All ?MQ sockets have identities but by default they are generated &#8216;unique universal identifiers&#8217; (UUIDs)</div>
<div class="line">[Wednesday 02 March 2011] [05:42:31] &lt;eyecue&gt; perhaps only relevent when using identies with durable sockets?</div>
<div class="line">[Wednesday 02 March 2011] [05:42:57] &lt;yrashk&gt; pieterh: well... I don&#8217;t have an opinion on that right now</div>
<div class="line">[Wednesday 02 March 2011] [05:43:24] &lt;yrashk&gt; I think erlzmq and erlzmq-nif implies that the latter is a fork of a sort or soemthing</div>
<div class="line">[Wednesday 02 March 2011] [05:44:16] &lt;yrashk&gt; but ezmq is in fact a full rewrite</div>
<div class="line">[Wednesday 02 March 2011] [05:44:21] &lt;yrashk&gt; except for the constants</div>
<div class="line">[Wednesday 02 March 2011] [05:44:29] &lt;yrashk&gt; I admit I stole the header file</div>
<div class="line">[Wednesday 02 March 2011] [05:44:52] &lt;yrashk&gt; either way</div>
<div class="line">[Wednesday 02 March 2011] [05:45:01] &lt;yrashk&gt; this is a minor issue (naming and whatnot)</div>
<div class="line">[Wednesday 02 March 2011] [05:46:12] &lt;pieterh&gt;        there are similarly several versions of clrzmq</div>
<div class="line">[Wednesday 02 March 2011] [05:46:27] &lt;pieterh&gt;        the latest one simply called itself clrzmq2</div>
<div class="line">[Wednesday 02 March 2011] [05:46:34] &lt;yrashk&gt; .net?</div>
<div class="line">[Wednesday 02 March 2011] [05:46:47] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 02 March 2011] [05:47:18] &lt;yrashk&gt; well</div>
<div class="line">[Wednesday 02 March 2011] [05:47:24] &lt;pieterh&gt;        naming is always delicate</div>
<div class="line">[Wednesday 02 March 2011] [05:47:29] &lt;yrashk&gt; yes and no</div>
<div class="line">[Wednesday 02 March 2011] [05:47:35] &lt;pieterh&gt;        imagine ezmq really takes off (it&#8217;s lovely and fast)</div>
<div class="line">[Wednesday 02 March 2011] [05:47:49] &lt;pieterh&gt;        you&#8217;ll have confused users asking, for years, why it&#8217;s &#8216;ezmq&#8217; and not &#8216;erlzmq&#8217;...</div>
<div class="line">[Wednesday 02 March 2011] [05:47:54] &lt;pieterh&gt;        just my 5c</div>
<div class="line">[Wednesday 02 March 2011] [05:48:00] &lt;eyecue&gt; i can vouch for that already :D</div>
<div class="line">[Wednesday 02 March 2011] [05:48:03] &lt;yrashk&gt; I&#8217;ll take care of this later</div>
<div class="line">[Wednesday 02 March 2011] [05:48:17] &lt;yrashk&gt; I am just too lazy to think about this now</div>
<div class="line">[Wednesday 02 March 2011] [05:48:20] &lt;pieterh&gt;        lol</div>
<div class="line">[Wednesday 02 March 2011] [05:48:29] &lt;yrashk&gt; sipping beer feels better</div>
<div class="line">[Wednesday 02 March 2011] [05:48:47] &lt;yrashk&gt; I just hate renaming all files and module names</div>
<div class="line">[Wednesday 02 March 2011] [05:49:07] &lt;eyecue&gt; pieterh; are you guys talking about various iterations/forks of the same  essential codebase implementing various new structures/patterns/paradigms, or something entirely different?</div>
<div class="line">[Wednesday 02 March 2011] [05:49:27] &lt;pieterh&gt;        yrashk: it doesn&#8217;t get easier over time, indeed the name will stick</div>
<div class="line">[Wednesday 02 March 2011] [05:49:34] &lt;eyecue&gt; and subsequently what to name the resulting output codebase?</div>
<div class="line">[Wednesday 02 March 2011] [05:49:36] &lt;pieterh&gt;        eyecue: it&#8217;s a rewrite, as yrashk said</div>
<div class="line">[Wednesday 02 March 2011] [05:49:56] &lt;yrashk&gt; ya from scratch</div>
<div class="line">[Wednesday 02 March 2011] [05:50:01] &lt;pieterh&gt;        but it exposes the same API to applications, so from users&#8217; point of view it&#8217;s a Version 2</div>
<div class="line">[Wednesday 02 March 2011] [05:50:07] &lt;eyecue&gt; whats the purpose /goal / driving motivator behind it ?</div>
<div class="line">[Wednesday 02 March 2011] [05:50:08] &lt;yrashk&gt; pieterh: not the same</div>
<div class="line">[Wednesday 02 March 2011] [05:50:20] &lt;yrashk&gt; pieterh: it&#8217;s slightly different</div>
<div class="line">[Wednesday 02 March 2011] [05:50:26] &lt;eyecue&gt; internal extensibility, or abstracting away upgrades behind the scenes?</div>
<div class="line">[Wednesday 02 March 2011] [05:50:27] &lt;pieterh&gt;        yrashk: sure</div>
<div class="line">[Wednesday 02 March 2011] [05:55:49] &lt;yrashk&gt; this is ezmq results with fixed perf tests on my mac pro</div>
<div class="line">[Wednesday 02 March 2011] [05:55:49] &lt;yrashk&gt; message size: 1 [B]</div>
<div class="line">[Wednesday 02 March 2011] [05:55:49] &lt;yrashk&gt; message count: 1000000</div>
<div class="line">[Wednesday 02 March 2011] [05:55:50] &lt;yrashk&gt; mean throughput: 1330266.625339717 [msg/s]</div>
<div class="line">[Wednesday 02 March 2011] [05:55:50] &lt;yrashk&gt; mean throughput: 10.642133002717735 [Mb/s]</div>
<div class="line">[Wednesday 02 March 2011] [05:56:17] &lt;pieterh&gt;        yrashk: you should do 10M messages, perhaps</div>
<div class="line">[Wednesday 02 March 2011] [05:56:54] &lt;pieterh&gt;        I love the 17-digit precision</div>
<div class="line">[Wednesday 02 March 2011] [05:57:10] &lt;pieterh&gt;        1.3M msg/sec is pretty impressive</div>
<div class="line">[Wednesday 02 March 2011] [05:57:59] &lt;eyecue&gt; certainly for sync tasks, id be keen to see the relative changes at incremental message sizes</div>
<div class="line">[Wednesday 02 March 2011] [05:58:04] &lt;yrashk&gt; sure</div>
<div class="line">[Wednesday 02 March 2011] [05:58:05] &lt;yrashk&gt; message size: 1 [B]</div>
<div class="line">[Wednesday 02 March 2011] [05:58:05] &lt;yrashk&gt; message count: 10000000</div>
<div class="line">[Wednesday 02 March 2011] [05:58:05] &lt;yrashk&gt; mean throughput: 1312724.6071802885 [msg/s]</div>
<div class="line">[Wednesday 02 March 2011] [05:58:05] &lt;yrashk&gt; mean throughput: 10.501796857442308 [Mb/s]</div>
<div class="line">[Wednesday 02 March 2011] [05:58:30] &lt;eyecue&gt; yrashk; ipc or?</div>
<div class="line">[Wednesday 02 March 2011] [05:58:35] &lt;yrashk&gt; tcp</div>
<div class="line">[Wednesday 02 March 2011] [05:58:45] &lt;eyecue&gt; local i take it ?</div>
<div class="line">[Wednesday 02 March 2011] [05:58:47] &lt;yrashk&gt; ya</div>
<div class="line">[Wednesday 02 March 2011] [05:58:52] &lt;eyecue&gt; sweet</div>
<div class="line">[Wednesday 02 March 2011] [05:58:56] &lt;yrashk&gt; not bad</div>
<div class="line">[Wednesday 02 March 2011] [05:59:01] &lt;yrashk&gt; jugg: ^^^</div>
<div class="line">[Wednesday 02 March 2011] [05:59:01] &lt;eyecue&gt; whats the tcp overhead above ipc ?</div>
<div class="line">[Wednesday 02 March 2011] [05:59:09] &lt;eyecue&gt; on the same &#8216;box&#8217;</div>
<div class="line">[Wednesday 02 March 2011] [05:59:10] &lt;yrashk&gt; I have no #s</div>
<div class="line">[Wednesday 02 March 2011] [05:59:12] &lt;yrashk&gt; ah</div>
<div class="line">[Wednesday 02 March 2011] [05:59:13] &lt;yrashk&gt; that</div>
<div class="line">[Wednesday 02 March 2011] [05:59:23] &lt;eyecue&gt; quite interesting</div>
<div class="line">[Wednesday 02 March 2011] [05:59:51] &lt;eyecue&gt; i can so tell im going to be spending alot more time on 0mq.</div>
<div class="line">[Wednesday 02 March 2011] [06:00:47] &lt;yrashk&gt; never used ipc</div>
<div class="line">[Wednesday 02 March 2011] [06:00:54] &lt;yrashk&gt; what would be an example ipc:// url?</div>
<div class="line">[Wednesday 02 March 2011] [06:01:21] &lt;eyecue&gt; correct me if im wrong, but ipc:///tmp/somesocketname?</div>
<div class="line">[Wednesday 02 March 2011] [06:02:04] &lt;eyecue&gt; first video on <a class="reference external" href="http://www.zeromq.org/intro:read-the-manual">http://www.zeromq.org/intro:read-the-manual</a> shows an example (i may be wrong)</div>
<div class="line">[Wednesday 02 March 2011] [06:02:42] &lt;yrashk&gt; pieterh: on my hw c-to-c perf test is about twice as fast</div>
<div class="line">[Wednesday 02 March 2011] [06:02:50] &lt;yrashk&gt; it makes me sad :-(</div>
<div class="line">[Wednesday 02 March 2011] [06:03:09] &lt;pieterh&gt;        yrashk: it&#8217;s tragic</div>
<div class="line">[Wednesday 02 March 2011] [06:03:25] &lt;yrashk&gt; this is on ipc:</div>
<div class="line">[Wednesday 02 March 2011] [06:03:25] &lt;yrashk&gt; mean throughput: 1343429.6550005474 [msg/s]</div>
<div class="line">[Wednesday 02 March 2011] [06:03:25] &lt;yrashk&gt; mean throughput: 10.747437240004379 [Mb/s]</div>
<div class="line">[Wednesday 02 March 2011] [06:03:31] &lt;eyecue&gt; again, excuse what might be a silly question, c-to-c ?</div>
<div class="line">[Wednesday 02 March 2011] [06:03:31] &lt;yrashk&gt; pretty much the same</div>
<div class="line">[Wednesday 02 March 2011] [06:03:32] &lt;pieterh&gt;        eyecue: yes, that would be a good place to put ipc files</div>
<div class="line">[Wednesday 02 March 2011] [06:03:42] &lt;eyecue&gt; yrashk; thats pretty cool</div>
<div class="line">[Wednesday 02 March 2011] [06:04:06] &lt;yrashk&gt; eyecue: perf tests from zeromq itself as opposed those implemented in erlang (which is what I am testing right now)</div>
<div class="line">[Wednesday 02 March 2011] [06:04:13] &lt;pieterh&gt;        ipc:// uses a filename, e.g. ipc://somefile.ipc</div>
<div class="line">[Wednesday 02 March 2011] [06:04:20] &lt;yrashk&gt; pieterh: sarcasm? ;)</div>
<div class="line">[Wednesday 02 March 2011] [06:04:23] &lt;pieterh&gt;        must be writeable by all processes that use it</div>
<div class="line">[Wednesday 02 March 2011] [06:04:27] &lt;eyecue&gt; yrashk; thats what i thought :)</div>
<div class="line">[Wednesday 02 March 2011] [06:04:28] &lt;pieterh&gt;        yrashk: gentle irony</div>
<div class="line">[Wednesday 02 March 2011] [06:04:33] &lt;eyecue&gt; pieterh; i saw the uid note for it :]</div>
<div class="line">[Wednesday 02 March 2011] [06:04:38] &lt;yrashk&gt; pieterh: do you think this is a good result?</div>
<div class="line">[Wednesday 02 March 2011] [06:04:43] &lt;pieterh&gt;        yrashk: rather good, yes</div>
<div class="line">[Wednesday 02 March 2011] [06:05:00] &lt;eyecue&gt; i find it interesting that an ipc socket and tcp perf is roughly the same</div>
<div class="line">[Wednesday 02 March 2011] [06:05:17] &lt;pieterh&gt;        eyecue: they are identical, on Linux localhost</div>
<div class="line">[Wednesday 02 March 2011] [06:05:23] &lt;pieterh&gt;        local domain sockets</div>
<div class="line">[Wednesday 02 March 2011] [06:05:38] &lt;yrashk&gt; it&#8217;s osx</div>
<div class="line">[Wednesday 02 March 2011] [06:06:01] &lt;pieterh&gt;        osx is linux, it just hasn&#8217;t quite realized it yet</div>
<div class="line">[Wednesday 02 March 2011] [06:06:04] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 02 March 2011] [06:06:11] &lt;eyecue&gt; still the file socket stack and tcp stacks often have quite not-the-same performance characteristics, and tuning parameters</div>
<div class="line">[Wednesday 02 March 2011] [06:06:14] &lt;pieterh&gt;        yrashk: you could try inproc to see what the raw API costs are</div>
<div class="line">[Wednesday 02 March 2011] [06:06:44] &lt;yrashk&gt; pieterh: for that I have to tweak tests... not in this beer mode :)</div>
<div class="line">[Wednesday 02 March 2011] [06:07:26] &lt;pieterh&gt;        ah, beer mode... :-)</div>
<div class="line">[Wednesday 02 March 2011] [06:07:30] &lt;pieterh&gt;        i&#8217;m in coffee mode here</div>
<div class="line">[Wednesday 02 March 2011] [06:08:04] &lt;eyecue&gt; i wish i was in coffee mode, food search mode here :)</div>
<div class="line">[Wednesday 02 March 2011] [06:08:07] &lt;eyecue&gt; &lt;&#8211; .au</div>
<div class="line">[Wednesday 02 March 2011] [06:09:03] &lt;sejo&gt;   quick question, if I create a FIFO que with 2 servers and multiple clients, is it possible to save the items in the que somewhere to make sure when the servers crash the items are retrievable?</div>
<div class="line">[Wednesday 02 March 2011] [06:09:13] &lt;sejo&gt;   or should I write such code myself?</div>
<div class="line">[Wednesday 02 March 2011] [06:10:27] &lt;pieterh&gt;        sejo: it&#8217;s being explained in Chapter 4 of the guide</div>
<div class="line">[Wednesday 02 March 2011] [06:10:34] &lt;eyecue&gt; workers can die too, so resilience there can often be more important than queue resilience</div>
<div class="line">[Wednesday 02 March 2011] [06:10:35] &lt;pieterh&gt;        see <a class="reference external" href="http://zero.mq/md">http://zero.mq/md</a></div>
<div class="line">[Wednesday 02 March 2011] [06:10:46] &lt;pieterh&gt;        I&#8217;m working on an implementation of that right now</div>
<div class="line">[Wednesday 02 March 2011] [06:10:50] &lt;eyecue&gt; ooo, a new page to look at</div>
<div class="line">[Wednesday 02 March 2011] [06:11:03] &lt;eyecue&gt; pieterh; why the name majordomo?</div>
<div class="line">[Wednesday 02 March 2011] [06:11:12] &lt;Guthur&gt; pieterh: what stage of completeness is Ch4? out of interest</div>
<div class="line">[Wednesday 02 March 2011] [06:11:13] &lt;pieterh&gt;        eyecue: all the patterns in Ch4 get cute names</div>
<div class="line">[Wednesday 02 March 2011] [06:11:22] &lt;pieterh&gt;        and Ch4 is about 50% done afaics</div>
<div class="line">[Wednesday 02 March 2011] [06:11:28] &lt;eyecue&gt; not worried about the open source app by the same name ? :]</div>
<div class="line">[Wednesday 02 March 2011] [06:11:32] &lt;pieterh&gt;        Majordomo because it provides a reliable service</div>
<div class="line">[Wednesday 02 March 2011] [06:11:34] &lt;eyecue&gt; or are you leveraging it ;)</div>
<div class="line">[Wednesday 02 March 2011] [06:11:39] &lt;pieterh&gt;        what other app?</div>
<div class="line">[Wednesday 02 March 2011] [06:11:44]   * pieterh is happily ignorant</div>
<div class="line">[Wednesday 02 March 2011] [06:11:48] &lt;eyecue&gt; majordomo the mailing list manager :]</div>
<div class="line">[Wednesday 02 March 2011] [06:11:54] &lt;pieterh&gt;        no idea what you&#8217;re talking about</div>
<div class="line">[Wednesday 02 March 2011] [06:12:27] &lt;eyecue&gt; one of the most widely used open source mailing list management softwares :]</div>
<div class="line">[Wednesday 02 March 2011] [06:12:40] &lt;pieterh&gt;        does it use 0MQ?</div>
<div class="line">[Wednesday 02 March 2011] [06:12:48] &lt;eyecue&gt; nono, its name is just majordomo</div>
<div class="line">[Wednesday 02 March 2011] [06:13:00] &lt;pieterh&gt;        do they have a trademark on their name?</div>
<div class="line">[Wednesday 02 March 2011] [06:13:07]   * pieterh checks that rapidly...</div>
<div class="line">[Wednesday 02 March 2011] [06:13:15] &lt;Guthur&gt; I&#8217;d guess no</div>
<div class="line">[Wednesday 02 March 2011] [06:13:24] &lt;eyecue&gt; greatcircle software is the company who makes it, but ive never thought of that :)</div>
<div class="line">[Wednesday 02 March 2011] [06:13:25] &lt;pieterh&gt;        they don&#8217;t even own majordomo.org</div>
<div class="line">[Wednesday 02 March 2011] [06:13:34] &lt;ianbarber&gt;      you&#8217;re probably all right on this one, it&#8217;s more of a protocol thing than a particular bit of software</div>
<div class="line">[Wednesday 02 March 2011] [06:13:51] &lt;Guthur&gt; wiki has this on the majordomo page: Development status End of life</div>
<div class="line">[Wednesday 02 March 2011] [06:13:53] &lt;pieterh&gt;        legally, if there is a trademark and risk of confusion, I&#8217;d have to choose another name</div>
<div class="line">[Wednesday 02 March 2011] [06:14:07] &lt;ianbarber&gt;      wordpress inspired the ire of many recently by naming their most recent release django, which was clever</div>
<div class="line">[Wednesday 02 March 2011] [06:14:18] &lt;eyecue&gt; yah it was more out of interest than to point out any/possible risks :]</div>
<div class="line">[Wednesday 02 March 2011] [06:14:23] &lt;Guthur&gt; last stable release 11 years ago</div>
<div class="line">[Wednesday 02 March 2011] [06:14:30] &lt;pieterh&gt;        morally, this is a 0MQ pattern name, there is no confusion</div>
<div class="line">[Wednesday 02 March 2011] [06:14:34] &lt;Guthur&gt; it&#8217;s possible it is perfect though</div>
<div class="line">[Wednesday 02 March 2011] [06:14:39] &lt;pieterh&gt;        like Libero</div>
<div class="line">[Wednesday 02 March 2011] [06:14:40] &lt;eyecue&gt; there is of course the issue of user confusion, but i digress</div>
<div class="line">[Wednesday 02 March 2011] [06:15:04] &lt;pieterh&gt;        Libero is a FSM tool I wrote in the early 90&#8217;s, which actually had no bugs and no more features to add</div>
<div class="line">[Wednesday 02 March 2011] [06:15:22] &lt;pieterh&gt;        so perhaps Majordomo-the-software was perfect, but ... probably it&#8217;s just dead</div>
<div class="line">[Wednesday 02 March 2011] [06:15:31]   * pieterh can digress with the best of them</div>
<div class="line">[Wednesday 02 March 2011] [06:15:40] &lt;Guthur&gt; it can even run on newer versions of Unix, apparently</div>
<div class="line">[Wednesday 02 March 2011] [06:15:41] &lt;eyecue&gt; its still one of the most widely deployed mailing list managers for open source projects full stop :]</div>
<div class="line">[Wednesday 02 March 2011] [06:15:47] &lt;Guthur&gt; all this from the wiki page mind you</div>
<div class="line">[Wednesday 02 March 2011] [06:15:52] &lt;Guthur&gt; can/can&#8217;t</div>
<div class="line">[Wednesday 02 March 2011] [06:15:55] &lt;eyecue&gt; im actually quite suprised youd never heard of it</div>
<div class="line">[Wednesday 02 March 2011] [06:16:29] &lt;pieterh&gt;        aiksaurus suggests &#8216;chamberlain&#8217; as an alternative but somehow I prefer &#8216;Majordomo&#8217;</div>
<div class="line">[Wednesday 02 March 2011] [06:16:40] &lt;eyecue&gt; it sounds authoritive :)</div>
<div class="line">[Wednesday 02 March 2011] [06:16:59]   * pieterh gets back to coding</div>
<div class="line">[Wednesday 02 March 2011] [06:37:37] &lt;pieterh&gt;        ianbarber: so we&#8217;re on for the 16th?</div>
<div class="line">[Wednesday 02 March 2011] [06:38:54] &lt;ianbarber&gt;      yep</div>
<div class="line">[Wednesday 02 March 2011] [06:40:38] &lt;ianbarber&gt;      just tweeted about it, i haven&#8217;t actually been to this place before, but mikko knows it</div>
<div class="line">[Wednesday 02 March 2011] [06:41:46] &lt;ianbarber&gt;      it&#8217;s near oxford circus so it&#8217;s just straight down the victoria line for kings cross, if you can come, and come in by train</div>
<div class="line">[Wednesday 02 March 2011] [06:45:57] &lt;ianbarber&gt;      will be awesome! do you have any clients in London to see or similar, feel bad for your travel if you&#8217;re just coming to chat to us :)</div>
<div class="line">[Wednesday 02 March 2011] [06:58:52] &lt;pieterh&gt;        ianbarber: yes, there are always people to meet in London</div>
<div class="line">[Wednesday 02 March 2011] [06:59:05] &lt;yrashk&gt; night everybody :)</div>
<div class="line">[Wednesday 02 March 2011] [06:59:10] &lt;ianbarber&gt;      :)</div>
<div class="line">[Wednesday 02 March 2011] [06:59:11] &lt;pieterh&gt;        yrashk: night :-)</div>
<div class="line">[Wednesday 02 March 2011] [07:12:24] &lt;eyecue&gt; night</div>
<div class="line">[Wednesday 02 March 2011] [07:21:14] &lt;private_meta&gt;   haven&#8217;t been in London for 3 years</div>
<div class="line">[Wednesday 02 March 2011] [07:45:44] &lt;pieterh&gt;        ianbarber: do you want a link shortener at zero.mq? I&#8217;ve set this up at zero.mq/go</div>
<div class="line">[Wednesday 02 March 2011] [07:46:00] &lt;ianbarber&gt;      oh, that&#8217;s an idea</div>
<div class="line">[Wednesday 02 March 2011] [07:46:21] &lt;ianbarber&gt;      have to chuck canonical links in heads of pages</div>
<div class="line">[Wednesday 02 March 2011] [07:47:27] &lt;ianbarber&gt;      that looks very handy</div>
<div class="line">[Wednesday 02 March 2011] [07:47:49] &lt;pieterh&gt;        register at Wikidot if not done, click Join and I&#8217;ll give you access</div>
<div class="line">[Wednesday 02 March 2011] [07:49:25] &lt;ianbarber&gt;      done</div>
<div class="line">[Wednesday 02 March 2011] [07:52:04] &lt;pieterh&gt;        done: to create a shortcut you just enter the short URL you want, then click Create, and enter the target URL in the page title and save</div>
<div class="line">[Wednesday 02 March 2011] [07:52:53] &lt;pieterh&gt;        ianbarber: I&#8217;ve made you site admin too, so you can give others ccess</div>
<div class="line">[Wednesday 02 March 2011] [07:52:58] &lt;pieterh&gt;        <a href="#id9"><span class="problematic" id="id10">*</span></a>access</div>
<div class="line">[Wednesday 02 March 2011] [07:53:01] &lt;sejo&gt;   ping</div>
<div class="line">[Wednesday 02 March 2011] [07:53:07] &lt;sejo&gt;   sorry</div>
<div class="line">[Wednesday 02 March 2011] [07:53:38] &lt;pieterh&gt;        ianbarber: yay :-) it works</div>
<div class="line">[Wednesday 02 March 2011] [07:53:53] &lt;ianbarber&gt;      cool :)</div>
<div class="line">[Wednesday 02 March 2011] [07:53:58] &lt;ianbarber&gt;      thanks!</div>
<div class="line">[Wednesday 02 March 2011] [07:55:48] &lt;pieterh&gt;        hey, thanks to you for zero.mq, it&#8217;s quite a fun toy</div>
<div class="line">[Wednesday 02 March 2011] [07:57:09] &lt;pieterh&gt;        have to leave, cyal</div>
<div class="line">[Wednesday 02 March 2011] [08:44:35] &lt;private_meta&gt;   pieterh: in the majordomo protocol, why does the client have a nullbyte?</div>
<div class="line">[Wednesday 02 March 2011] [08:45:26] &lt;private_meta&gt;   pieterh: is it because the REQ socket normally inserts it?</div>
<div class="line">[Wednesday 02 March 2011] [09:05:26] &lt;<a href="#id217"><span class="problematic" id="id218">guyvdb_</span></a>&gt;        Hi, I am just starting to read about zeromq. Is the socket event driven behind the scenes? I.e. if I do zmq_bind() on a server and then 10K low traffic clients do zmq_connect() is the library doing epoll() or similar in the background?</div>
<div class="line">[Wednesday 02 March 2011] [09:45:16] &lt;djc&gt;    anyone around? I could use some help with my first zmq thingy</div>
<div class="line">[Wednesday 02 March 2011] [09:45:49] &lt;drbobbeaty&gt;     djc: I&#8217;m no expert, but you can ask, and I can see if I can help.</div>
<div class="line">[Wednesday 02 March 2011] [09:46:08] &lt;djc&gt;    I&#8217;m trying to do a pub/sub thing</div>
<div class="line">[Wednesday 02 March 2011] [09:46:20] &lt;djc&gt;    but I&#8217;m not getting any messages on the client</div>
<div class="line">[Wednesday 02 March 2011] [09:46:38] &lt;djc&gt;    (the zmq_send() call on the publisher returns 0, so that seems to work at least)</div>
<div class="line">[Wednesday 02 March 2011] [09:46:45] &lt;drbobbeaty&gt;     Have you looked at the Guide? It&#8217;s got PUB/SUB examples...</div>
<div class="line">[Wednesday 02 March 2011] [09:46:48] &lt;djc&gt;    the client just sits there, apparently blocking</div>
<div class="line">[Wednesday 02 March 2011] [09:46:53] &lt;djc&gt;    yeah, I&#8217;m looking at it</div>
<div class="line">[Wednesday 02 March 2011] [09:46:59] &lt;djc&gt;    that&#8217;s what I derived my code from :)</div>
<div class="line">[Wednesday 02 March 2011] [09:47:01] &lt;drbobbeaty&gt;     The client&#8217;s recv() will block - that&#8217;s by design.</div>
<div class="line">[Wednesday 02 March 2011] [09:47:38] &lt;drbobbeaty&gt;     What transport are you using? The URL used by the PUB and SUB to know where to PUB and SUB.</div>
<div class="line">[Wednesday 02 March 2011] [09:47:55] &lt;guido_g&gt;        djc: paste your code (and any error message) to a paste bin, w/o the code we&#8217;re guessing</div>
<div class="line">[Wednesday 02 March 2011] [09:49:36] &lt;guido_g&gt;        <a class="reference external" href="https://github.com/">https://github.com/</a> &lt;- nice paste bin</div>
<div class="line">[Wednesday 02 March 2011] [09:50:08] &lt;guido_g&gt;        oops <a class="reference external" href="https://gist.github.com/">https://gist.github.com/</a> &lt;- take this</div>
<div class="line">[Wednesday 02 March 2011] [09:50:18] &lt;djc&gt;    <a class="reference external" href="http://dpaste.com/465507/">http://dpaste.com/465507/</a></div>
<div class="line">[Wednesday 02 March 2011] [09:50:56] &lt;djc&gt;    is what I have so far</div>
<div class="line">[Wednesday 02 March 2011] [09:51:01] &lt;guido_g&gt;        tz tz tz</div>
<div class="line">[Wednesday 02 March 2011] [09:51:12] &lt;guido_g&gt;        you need to subscribe on the sub</div>
<div class="line">[Wednesday 02 March 2011] [09:51:17] &lt;guido_g&gt;        see manual and guide</div>
<div class="line">[Wednesday 02 March 2011] [09:52:42] &lt;djc&gt;    oops, missed that</div>
<div class="line">[Wednesday 02 March 2011] [09:56:01] &lt;guido_g&gt;        case closed, i assume ,)</div>
<div class="line">[Wednesday 02 March 2011] [09:56:07] &lt;djc&gt;    it works! o/</div>
<div class="line">[Wednesday 02 March 2011] [09:56:09] &lt;djc&gt;    thanks :)</div>
<div class="line">[Wednesday 02 March 2011] [09:56:15] &lt;djc&gt;    (and sorry for not reading better)</div>
<div class="line">[Wednesday 02 March 2011] [09:57:06] &lt;djc&gt;    btw, kind of weird that the python bindings don&#8217;t respect SIGINT</div>
<div class="line">[Wednesday 02 March 2011] [09:57:20] &lt;djc&gt;    oh, I guess it respects it only when it awakes or something</div>
<div class="line">[Wednesday 02 March 2011] [09:57:49] &lt;guido_g&gt;        depends on the version of the bindings <em>and</em> mq</div>
<div class="line">[Wednesday 02 March 2011] [09:58:29] &lt;guido_g&gt;        with pyzma from git master and 2.1.0 mq ctrl-c works, w/ older mq not</div>
<div class="line">[Wednesday 02 March 2011] [09:59:22] &lt;djc&gt;    yeah, I just picked up 2.0.10.1 because it&#8217;s on the py bindings page</div>
<div class="line">[Wednesday 02 March 2011] [10:00:03] &lt;guido_g&gt;        way to old</div>
<div class="line">[Wednesday 02 March 2011] [10:00:58] &lt;guido_g&gt;        if you dare to compile mq yourself, use the git://github.com/zeromq/zeromq2-1.git repository I&#8217;d say</div>
<div class="line">[Wednesday 02 March 2011] [10:01:42] &lt;guido_g&gt;        this will be the &#8220;stable&#8221; for 2.1.x and is now &#8220;release candidate&#8221; or so</div>
<div class="line">[Wednesday 02 March 2011] [10:02:42] &lt;djc&gt;    well, it doesn&#8217;t look like 2.1.x is &#8220;stable&#8221; yet</div>
<div class="line">[Wednesday 02 March 2011] [10:03:37] &lt;guido_g&gt;        it is more stable than 2.0.x ever was</div>
<div class="line">[Wednesday 02 March 2011] [10:04:20] &lt;guido_g&gt;        and if you start using mq there is no need to use the old version</div>
<div class="line">[Wednesday 02 March 2011] [10:04:44] &lt;guido_g&gt;        i&#8217;m using the old 2.1.0 tar and it&#8217;s fine w/ pyzmq</div>
<div class="line">[Wednesday 02 March 2011] [10:06:53] &lt;cremes&gt; sustrik: what is the use-case for setting ZMQ_MAXMSGSIZE to 0? your changes allow that but i don&#8217;t see the point</div>
<div class="line">[Wednesday 02 March 2011] [10:39:00] &lt;CIA-21&gt; zeromq2: 03Martin Sustrik 07master * r18b9ebe 10/ (151 files in 9 dirs):</div>
<div class="line">[Wednesday 02 March 2011] [10:39:01] &lt;CIA-21&gt; zeromq2: The copyrights in file headers updated.</div>
<div class="line">[Wednesday 02 March 2011] [10:39:01] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/h7FJB3">http://bit.ly/h7FJB3</a></div>
<div class="line">[Wednesday 02 March 2011] [10:47:12] &lt;private_meta&gt;   pieterh: does zmsg.c actually compile for you?</div>
<div class="line">[Wednesday 02 March 2011] [10:50:41] &lt;cremes&gt; private_meta: i can&#8217;t get it to compile on osx; it appears to compile ok on linux</div>
<div class="line">[Wednesday 02 March 2011] [10:50:56] &lt;private_meta&gt;   I&#8217;m trying to compile it on linux, cremes</div>
<div class="line">[Wednesday 02 March 2011] [10:51:07] &lt;cremes&gt; oh</div>
<div class="line">[Wednesday 02 March 2011] [10:51:30] &lt;private_meta&gt;   for every function in there I get a &#8220;multiple definition&#8221; error</div>
<div class="line">[Wednesday 02 March 2011] [10:51:41] &lt;private_meta&gt;   cremes: what&#8217;s your problem on OSX?</div>
<div class="line">[Wednesday 02 March 2011] [10:52:23] &lt;cremes&gt; <a class="reference external" href="https://gist.github.com/851138">https://gist.github.com/851138</a></div>
<div class="line">[Wednesday 02 March 2011] [10:54:39] &lt;private_meta&gt;   actually, &#8220;gcc -o file -lzmq ppqueue.c zmsg.c&#8221; SHOULD be sufficient, shouldn&#8217;t it?</div>
<div class="line">[Wednesday 02 March 2011] [10:57:32] &lt;private_meta&gt;   cremes: hmm... I get the same result when compiling asyncsrv.c</div>
<div class="line">[Wednesday 02 March 2011] [10:58:36] &lt;private_meta&gt;   cremes: <a class="reference external" href="https://gist.github.com/355144225f76f096c67a">https://gist.github.com/355144225f76f096c67a</a></div>
<div class="line">[Wednesday 02 March 2011] [10:58:49] &lt;private_meta&gt;   cremes: what&#8217;s your compile command?</div>
<div class="line">[Wednesday 02 March 2011] [11:00:59] &lt;guido_g&gt;        seems that the errors are in the link phase</div>
<div class="line">[Wednesday 02 March 2011] [11:01:22] &lt;private_meta&gt;   Seems so</div>
<div class="line">[Wednesday 02 March 2011] [11:01:29] &lt;guido_g&gt;        try to compile and link step-by-step</div>
<div class="line">[Wednesday 02 March 2011] [11:01:56] &lt;private_meta&gt;   phew... no idea how...</div>
<div class="line">[Wednesday 02 March 2011] [11:02:32] &lt;private_meta&gt;   k, -c</div>
<div class="line">[Wednesday 02 March 2011] [11:02:41] &lt;guido_g&gt;        compile the source files to .o then link these .o files to an executable using the relevant libs</div>
<div class="line">[Wednesday 02 March 2011] [11:03:05] &lt;private_meta&gt;   yeah, I know the steps, but I just never did them manually</div>
<div class="line">[Wednesday 02 March 2011] [11:03:13] &lt;private_meta&gt;   I mean, I hardly ever used gcc by hand to start</div>
<div class="line">[Wednesday 02 March 2011] [11:05:30] &lt;private_meta&gt;   guido_g: it compiled correctly, but the linker had the same error</div>
<div class="line">[Wednesday 02 March 2011] [11:07:38] &lt;guido_g&gt;        seems that all functions are already defined in the asyncsrv file</div>
<div class="line">[Wednesday 02 March 2011] [11:07:51] &lt;guido_g&gt;        check the includes i&#8217;d say</div>
<div class="line">[Wednesday 02 March 2011] [11:09:32] &lt;private_meta&gt;   Well, what makes it break is zmsg.c</div>
<div class="line">[Wednesday 02 March 2011] [11:09:38] &lt;private_meta&gt;   but apparently it should work</div>
<div class="line">[Wednesday 02 March 2011] [11:09:41] &lt;cremes&gt; my compile command is &#8221;./build all&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [11:09:44] &lt;cremes&gt; :)</div>
<div class="line">[Wednesday 02 March 2011] [11:09:46] &lt;guido_g&gt;        <em>sigh</em></div>
<div class="line">[Wednesday 02 March 2011] [11:10:27] &lt;guido_g&gt;        private_meta: did you really read the error message? it states that the functions are already there, comming from the async file</div>
<div class="line">[Wednesday 02 March 2011] [11:10:56] &lt;guido_g&gt;        which is strange, becase they also appear in the zmsg file</div>
<div class="line">[Wednesday 02 March 2011] [11:12:12] &lt;private_meta&gt;   I took it as is from the website. asyncsrv.c includes zhelpers and zmsg, zmsg itself includes zhelpers</div>
<div class="line">[Wednesday 02 March 2011] [11:12:58] &lt;guido_g&gt;        it includes zmsg.c?</div>
<div class="line">[Wednesday 02 March 2011] [11:13:08] &lt;private_meta&gt;   Don&#8217;t ask me, it&#8217;s treated as a .h file</div>
<div class="line">[Wednesday 02 March 2011] [11:13:25] &lt;guido_g&gt;        link to code</div>
<div class="line">[Wednesday 02 March 2011] [11:13:45] &lt;private_meta&gt;   <a class="reference external" href="https://github.com/imatix/zguide/tree/chapter4-wip/examples/C">https://github.com/imatix/zguide/tree/chapter4-wip/examples/C</a> &lt;&#8211; zhelpers.h, zmsg.c, asyncsrv.c</div>
<div class="line">[Wednesday 02 March 2011] [11:13:58] &lt;private_meta&gt;   hmm</div>
<div class="line">[Wednesday 02 March 2011] [11:14:08] &lt;guido_g&gt;        oh my god</div>
<div class="line">[Wednesday 02 March 2011] [11:14:13] &lt;private_meta&gt;   wait,I took the non-branch one</div>
<div class="line">[Wednesday 02 March 2011] [11:14:22] &lt;private_meta&gt;   the master one</div>
<div class="line">[Wednesday 02 March 2011] [11:14:35] &lt;private_meta&gt;   What?</div>
<div class="line">[Wednesday 02 March 2011] [11:15:13] &lt;guido_g&gt;        it really includes a .c file</div>
<div class="line">[Wednesday 02 March 2011] [11:15:28] &lt;guido_g&gt;        one should poke pieter for that</div>
<div class="line">[Wednesday 02 March 2011] [11:15:52] &lt;guido_g&gt;        private_meta: leave out the zmq.* from the compile/link</div>
<div class="line">[Wednesday 02 March 2011] [11:16:18] &lt;private_meta&gt;   guido_g: ?</div>
<div class="line">[Wednesday 02 March 2011] [11:16:30] &lt;guido_g&gt;        what?</div>
<div class="line">[Wednesday 02 March 2011] [11:16:38] &lt;private_meta&gt;   what do you mean leave it out?</div>
<div class="line">[Wednesday 02 March 2011] [11:16:45] &lt;guido_g&gt;        drop it from the command</div>
<div class="line">[Wednesday 02 March 2011] [11:17:18] &lt;private_meta&gt;   oh</div>
<div class="line">[Wednesday 02 March 2011] [11:17:42] &lt;private_meta&gt;   &gt;_&lt;</div>
<div class="line">[Wednesday 02 March 2011] [11:17:56] &lt;guido_g&gt;        line noise?</div>
<div class="line">[Wednesday 02 March 2011] [11:17:59] &lt;private_meta&gt;   ok, then I need to set the file as &#8220;exclude from build&#8221; in eclipse for it to work</div>
<div class="line">[Wednesday 02 March 2011] [11:18:08] &lt;guido_g&gt;        in the 21st century?</div>
<div class="line">[Wednesday 02 March 2011] [11:18:37] &lt;private_meta&gt;   guido_g: k, thanks, stupid of me not to think of that</div>
<div class="line">[Wednesday 02 March 2011] [11:19:05] &lt;guido_g&gt;        also not very clever to <em>do that</em> in the first place</div>
<div class="line">[Wednesday 02 March 2011] [11:19:15] &lt;private_meta&gt;   ik</div>
<div class="line">[Wednesday 02 March 2011] [11:19:25] &lt;guido_g&gt;        you should tell pieterh and demand action</div>
<div class="line">[Wednesday 02 March 2011] [11:21:46] &lt;cremes&gt; alternately, fix it and submit a patch</div>
<div class="line">[Wednesday 02 March 2011] [11:23:54] &lt;private_meta&gt;   I&#8217;m more interested in a C++ version</div>
<div class="line">[Wednesday 02 March 2011] [11:24:16] &lt;private_meta&gt;   But then everything should be a proper class and the problem would be gone</div>
<div class="line">[Wednesday 02 March 2011] [11:25:16] &lt;guido_g&gt;        zhelper thingie is for c</div>
<div class="line">[Wednesday 02 March 2011] [11:26:04] &lt;guido_g&gt;        you should use the c++ api and build from there, otherwise you put a layer on top of a layer...</div>
<div class="line">[Wednesday 02 March 2011] [11:26:13] &lt;private_meta&gt;   IK</div>
<div class="line">[Wednesday 02 March 2011] [11:26:18] &lt;private_meta&gt;   Doing that already</div>
<div class="line">[Wednesday 02 March 2011] [11:26:40] &lt;private_meta&gt;   In other words, I never intended to use zhelpers.c, but I need it for comparison</div>
<div class="line">[Wednesday 02 March 2011] [11:27:38] &lt;guido_g&gt;        compare to what?</div>
<div class="line">[Wednesday 02 March 2011] [11:27:55] &lt;private_meta&gt;   zhelpers.h to zhelpers.hpp equivalents</div>
<div class="line">[Wednesday 02 March 2011] [11:28:22] &lt;private_meta&gt;   If I use zmsg and translate it, I should do it in a way it&#8217;s useful for the docs</div>
<div class="line">[Wednesday 02 March 2011] [11:28:23] &lt;guido_g&gt;        i don&#8217;t see any benefit</div>
<div class="line">[Wednesday 02 March 2011] [11:28:48] &lt;private_meta&gt;   anyway, what I want to say is I won&#8217;t use zhelpers.h for C++</div>
<div class="line">[Wednesday 02 March 2011] [11:29:01] &lt;guido_g&gt;        a useful c++ helper collection would not look like the c version, i&#8217;d guess</div>
<div class="line">[Wednesday 02 March 2011] [13:29:11] &lt;pieterh&gt;        re</div>
<div class="line">[Wednesday 02 March 2011] [13:30:03] &lt;pieterh&gt;        private_meta: you still around?</div>
<div class="line">[Wednesday 02 March 2011] [13:49:05] &lt;pieterh&gt;        guido_g: you around?</div>
<div class="line">[Wednesday 02 March 2011] [13:50:04] &lt;guido_g&gt;        jepp, now</div>
<div class="line">[Wednesday 02 March 2011] [13:50:26] &lt;pieterh&gt;        so what&#8217;s the beef with my C coding style?</div>
<div class="line">[Wednesday 02 March 2011] [13:50:27] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 02 March 2011] [13:51:35] &lt;pieterh&gt;        the idea is to allow people to compile and link individual examples</div>
<div class="line">[Wednesday 02 March 2011] [13:51:36] &lt;guido_g&gt;        you&#8217;re including a a c file</div>
<div class="line">[Wednesday 02 March 2011] [13:51:41] &lt;pieterh&gt;        rather than have to construct libraries</div>
<div class="line">[Wednesday 02 March 2011] [13:52:12] &lt;guido_g&gt;        but obviously the normal reflex of a c programmer is to compile c files</div>
<div class="line">[Wednesday 02 March 2011] [13:52:21] &lt;pieterh&gt;        there&#8217;s even a &#8216;build&#8217; script provided</div>
<div class="line">[Wednesday 02 March 2011] [13:52:23] &lt;pieterh&gt;        yeah</div>
<div class="line">[Wednesday 02 March 2011] [13:52:30] &lt;pieterh&gt;        anyhow, I&#8217;m renaming these mystery classes to .h</div>
<div class="line">[Wednesday 02 March 2011] [13:52:42] &lt;guido_g&gt;        would help</div>
<div class="line">[Wednesday 02 March 2011] [13:52:59] &lt;pieterh&gt;        it&#8217;s either write 2,000 line examples, or include stuff</div>
<div class="line">[Wednesday 02 March 2011] [13:53:01] &lt;guido_g&gt;        i think back in the old times one would have used .i or so</div>
<div class="line">[Wednesday 02 March 2011] [13:53:12] &lt;pieterh&gt;        would that be clearer?</div>
<div class="line">[Wednesday 02 March 2011] [13:53:21] &lt;guido_g&gt;        imho yes</div>
<div class="line">[Wednesday 02 March 2011] [13:53:35] &lt;guido_g&gt;        .c is realy ment to be compiled</div>
<div class="line">[Wednesday 02 March 2011] [13:53:36] &lt;pieterh&gt;        in 2011 we&#8217;re allowed as many as 3 chars per extension afaik</div>
<div class="line">[Wednesday 02 March 2011] [13:53:45] &lt;pieterh&gt;        .dnc?</div>
<div class="line">[Wednesday 02 March 2011] [13:53:48] &lt;guido_g&gt;        .h is for declarations</div>
<div class="line">[Wednesday 02 March 2011] [13:54:02] &lt;pieterh&gt;        zmsg.h is a class file in face</div>
<div class="line">[Wednesday 02 March 2011] [13:54:07] &lt;pieterh&gt;        in <a href="#id11"><span class="problematic" id="id12">*</span></a>fact</div>
<div class="line">[Wednesday 02 March 2011] [13:54:13] &lt;pieterh&gt;        a mix of declarations and methods</div>
<div class="line">[Wednesday 02 March 2011] [13:54:18] &lt;pieterh&gt;        aha</div>
<div class="line">[Wednesday 02 March 2011] [13:54:25] &lt;guido_g&gt;        sure, but it&#8217;s c++ then</div>
<div class="line">[Wednesday 02 March 2011] [13:54:25] &lt;pieterh&gt;        #include &#8220;zmsg.class&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [13:54:32] &lt;pieterh&gt;        yes :-)</div>
<div class="line">[Wednesday 02 March 2011] [13:54:44] &lt;pieterh&gt;        no, it&#8217;s class-oriented C</div>
<div class="line">[Wednesday 02 March 2011] [13:54:50] &lt;pieterh&gt;        C++ did not take patents on that</div>
<div class="line">[Wednesday 02 March 2011] [13:55:06] &lt;guido_g&gt;        the only problem was to use an extension that&#8217;s been assocciated w/ a specific action</div>
<div class="line">[Wednesday 02 March 2011] [13:55:18] &lt;pieterh&gt;        yes, you&#8217;re right, makefiles and such get very confused</div>
<div class="line">[Wednesday 02 March 2011] [13:55:27] &lt;pieterh&gt;        people will ask me wtf the class file business is, and I can then upsell ZFL</div>
<div class="line">[Wednesday 02 March 2011] [13:55:31] &lt;pieterh&gt;        very neat, thanks!</div>
<div class="line">[Wednesday 02 March 2011] [13:56:59] &lt;guido_g&gt;        np</div>
<div class="line">[Wednesday 02 March 2011] [13:57:57] &lt;pieterh&gt;        this makes my evening, in fact</div>
<div class="line">[Wednesday 02 March 2011] [13:58:09] &lt;pieterh&gt;        I love it when a semantic comes together</div>
<div class="line">[Wednesday 02 March 2011] [14:00:33] &lt;guido_g&gt;        i&#8217;m still touched by the idea of including code this way</div>
<div class="line">[Wednesday 02 March 2011] [14:00:42] &lt;guido_g&gt;        seems odd after some decades ,)</div>
<div class="line">[Wednesday 02 March 2011] [14:03:30] &lt;pieterh&gt;        well, however you do it, you need to say &#8220;I want to use class XYZ&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [14:03:42] &lt;guido_g&gt;        sure</div>
<div class="line">[Wednesday 02 March 2011] [14:04:01] &lt;pieterh&gt;        if I break the classes into .h and .c I <em>force</em> people to make libraries and maintain them</div>
<div class="line">[Wednesday 02 March 2011] [14:04:14] &lt;pieterh&gt;        this way, they can build just the single example and it works</div>
<div class="line">[Wednesday 02 March 2011] [14:04:18] &lt;private_meta&gt;   pieterh:  what is it?</div>
<div class="line">[Wednesday 02 March 2011] [14:04:18] &lt;guido_g&gt;        i finally figured it from the error messages private_meta got while linking</div>
<div class="line">[Wednesday 02 March 2011] [14:04:48] &lt;pieterh&gt;        well, people who are smart enough to go make their own compile / link commands instead of using the ones I provided...</div>
<div class="line">[Wednesday 02 March 2011] [14:04:53] &lt;pieterh&gt;        &#8216;build all&#8217;</div>
<div class="line">[Wednesday 02 March 2011] [14:04:57] &lt;pieterh&gt;        &#8216;build asyncsrc&#8217;</div>
<div class="line">[Wednesday 02 March 2011] [14:05:09] &lt;guido_g&gt;        this use of import has become uncommon in the last decades, that&#8217;s all I wanted to mention ,)</div>
<div class="line">[Wednesday 02 March 2011] [14:05:32] &lt;guido_g&gt;        s/import/include/</div>
<div class="line">[Wednesday 02 March 2011] [14:05:45] &lt;guido_g&gt;        curse you, python! :)</div>
<div class="line">[Wednesday 02 March 2011] [14:06:07] &lt;pieterh&gt;        Python uses import, right?</div>
<div class="line">[Wednesday 02 March 2011] [14:06:19] &lt;guido_g&gt;        yes</div>
<div class="line">[Wednesday 02 March 2011] [14:06:25] &lt;private_meta&gt;   pieterh:  what did you want?</div>
<div class="line">[Wednesday 02 March 2011] [14:06:26] &lt;guido_g&gt;        but it&#8217;s not like include</div>
<div class="line">[Wednesday 02 March 2011] [14:06:26] &lt;pieterh&gt;        even for basic stuff like command line arguments, which I find very quaint, as a modern C programmer</div>
<div class="line">[Wednesday 02 March 2011] [14:06:52] &lt;guido_g&gt;        import deals w/ namespaces</div>
<div class="line">[Wednesday 02 March 2011] [14:07:17] &lt;guido_g&gt;        so it&#8217;s more like a combination of include w/ c++ namespaces</div>
<div class="line">[Wednesday 02 March 2011] [14:07:41] &lt;guido_g&gt;        w/ some dynmaic linking...</div>
<div class="line">[Wednesday 02 March 2011] [14:07:48] &lt;guido_g&gt;        ok</div>
<div class="line">[Wednesday 02 March 2011] [14:07:59] &lt;guido_g&gt;        in fact, it&#8217;s not like include</div>
<div class="line">[Wednesday 02 March 2011] [14:08:53] &lt;Guthur&gt; are messages beginning with 0 reserved for ZMQ, or am I imagining things?</div>
<div class="line">[Wednesday 02 March 2011] [14:09:04] &lt;Guthur&gt; maybe it was identities</div>
<div class="line">[Wednesday 02 March 2011] [14:09:49] &lt;guido_g&gt;        the latter, afair</div>
<div class="line">[Wednesday 02 March 2011] [14:10:13] &lt;guido_g&gt;        mq generated identities are starting w/ a 0 byte</div>
<div class="line">[Wednesday 02 March 2011] [14:10:49] &lt;Guthur&gt; ok</div>
<div class="line">[Wednesday 02 March 2011] [14:11:01] &lt;Guthur&gt; at least I wasn&#8217;t completely imagining things, hehe</div>
<div class="line">[Wednesday 02 March 2011] [14:11:27] &lt;guido_g&gt;        yeah</div>
<div class="line">[Wednesday 02 March 2011] [14:11:49] &lt;guido_g&gt;        it&#8217;s amazing how much information is in the so sparse looking documentation</div>
<div class="line">[Wednesday 02 March 2011] [14:12:20] &lt;cremes&gt; pieterh: any particular roadmap or timeframe until 2.1.1 is blessed as a final release?</div>
<div class="line">[Wednesday 02 March 2011] [14:12:35] &lt;cremes&gt; reason i ask is we still have so many folks popping in here asking questions about 2.0.10</div>
<div class="line">[Wednesday 02 March 2011] [14:12:35] &lt;pieterh&gt;        ... phone... busy</div>
<div class="line">[Wednesday 02 March 2011] [14:12:44] &lt;cremes&gt; because it is the last &#8220;official&#8221; release</div>
<div class="line">[Wednesday 02 March 2011] [14:12:51] &lt;cremes&gt; sure, answer whenever</div>
<div class="line">[Wednesday 02 March 2011] [14:13:24] &lt;guido_g&gt;        true</div>
<div class="line">[Wednesday 02 March 2011] [14:14:16] &lt;guido_g&gt;        and it&#8217;s somewhat hard to tell people to use a &#8220;release candidate&#8221; because it&#8217;s more stable than the &#8220;stable&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [14:14:25] &lt;cremes&gt; agreed</div>
<div class="line">[Wednesday 02 March 2011] [14:14:53] &lt;private_meta&gt;   pieterh:  Btw I&#8217;m implementing zmsg as a class, I hope that helps with the c++ examples, I just didn&#8217;t finish yet</div>
<div class="line">[Wednesday 02 March 2011] [14:15:56] &lt;private_meta&gt;    c++ class that is</div>
<div class="line">[Wednesday 02 March 2011] [14:29:01] &lt;pieterh&gt;        ok, back...</div>
<div class="line">[Wednesday 02 March 2011] [14:29:19] &lt;pieterh&gt;        private_meta: zmsg is IMO useful in any language</div>
<div class="line">[Wednesday 02 March 2011] [14:29:44] &lt;pieterh&gt;        presumably modified to suit</div>
<div class="line">[Wednesday 02 March 2011] [14:29:59] &lt;pieterh&gt;        what it does is let you manipulate whole 0MQ multipart messages as single objects</div>
<div class="line">[Wednesday 02 March 2011] [14:30:10] &lt;pieterh&gt;        this is extremely useful unless you like writing repetitive code</div>
<div class="line">[Wednesday 02 March 2011] [14:30:26] &lt;pieterh&gt;        cremes: wrt 2.1.x, it&#8217;s ASAP</div>
<div class="line">[Wednesday 02 March 2011] [14:30:36] &lt;pieterh&gt;        I&#8217;d like to make an rc2 this week</div>
<div class="line">[Wednesday 02 March 2011] [14:30:49] &lt;pieterh&gt;        and then it&#8217;s probably 7-10 more days for a final stable release</div>
<div class="line">[Wednesday 02 March 2011] [14:32:16] &lt;private_meta&gt;   pieterh: I&#8217;m just saying I&#8217;ll write a nice c++ class based version , more or Less</div>
<div class="line">[Wednesday 02 March 2011] [14:32:48] &lt;pieterh&gt;        IMO it will be useful in general for C++ developers</div>
<div class="line">[Wednesday 02 March 2011] [14:33:15] &lt;cremes&gt; pieterh: great, i like that timeline</div>
<div class="line">[Wednesday 02 March 2011] [14:33:24] &lt;cremes&gt; only 2 more weeks of questions on 2.0.10 :)</div>
<div class="line">[Wednesday 02 March 2011] [14:33:45] &lt;pieterh&gt;        cremes: my goal is to make new stable releases every 3 months or so</div>
<div class="line">[Wednesday 02 March 2011] [14:33:51] &lt;pieterh&gt;        perhaps even faster</div>
<div class="line">[Wednesday 02 March 2011] [14:34:00] &lt;guido_g&gt;        hmmm</div>
<div class="line">[Wednesday 02 March 2011] [14:34:01] &lt;pieterh&gt;        but not every six months like before</div>
<div class="line">[Wednesday 02 March 2011] [14:34:09] &lt;pieterh&gt;        s/six/24/</div>
<div class="line">[Wednesday 02 March 2011] [14:34:12] &lt;cremes&gt; good idea; i&#8217;ve been &#8220;living&#8221; out of master for the past 3 months</div>
<div class="line">[Wednesday 02 March 2011] [14:34:16] &lt;guido_g&gt;        any news on the (e)pgm problem i reported?</div>
<div class="line">[Wednesday 02 March 2011] [14:35:21] &lt;pieterh&gt;        guido_g: it wasn&#8217;t this one? <a class="reference external" href="https://github.com/zeromq/zeromq2/commit/29e0e7dbadfcd0bab70feee119bd7c5e623b38d4">https://github.com/zeromq/zeromq2/commit/29e0e7dbadfcd0bab70feee119bd7c5e623b38d4</a></div>
<div class="line">[Wednesday 02 March 2011] [14:35:44] &lt;guido_g&gt;        no idea</div>
<div class="line">[Wednesday 02 March 2011] [14:36:29] &lt;guido_g&gt;        i was just going to compile from zerom2-1</div>
<div class="line">[Wednesday 02 March 2011] [14:36:37] &lt;guido_g&gt;        is this fix in there?</div>
<div class="line">[Wednesday 02 March 2011] [14:37:05] &lt;private_meta&gt;    pieterh,  how&#8217;s Majordomo coming along?</div>
<div class="line">[Wednesday 02 March 2011] [14:37:29] &lt;pieterh&gt;        private_meta: quickly, I have client and worker APIs, and heartbeating in the broker</div>
<div class="line">[Wednesday 02 March 2011] [14:37:59] &lt;pieterh&gt;        it&#8217;s all on that chapter4-wip branch that you should not be looking at</div>
<div class="line">[Wednesday 02 March 2011] [14:38:54] &lt;private_meta&gt;    I&#8217;ve looked through it but thought as this is much WIP, should wait</div>
<div class="line">[Wednesday 02 March 2011] [14:39:37] &lt;pieterh&gt;        guido_g: that fix is in the zeromq2-1 git master</div>
<div class="line">[Wednesday 02 March 2011] [14:40:01] &lt;pieterh&gt;        we&#8217;ve been backporting all bug fixes from 2.2 to 2.1</div>
<div class="line">[Wednesday 02 March 2011] [14:40:06] &lt;guido_g&gt;        ok, just compiled it</div>
<div class="line">[Wednesday 02 March 2011] [14:41:25] &lt;guido_g&gt;        ahhh.. great!</div>
<div class="line">[Wednesday 02 March 2011] [14:41:33] &lt;guido_g&gt;        multicast is back</div>
<div class="line">[Wednesday 02 March 2011] [14:41:37] &lt;pieterh&gt;        excellent!</div>
<div class="line">[Wednesday 02 March 2011] [14:42:08] &lt;private_meta&gt;    hmm... &#8220;Developing a port was quite difficult as it took us guile long to port all the bugs correctly&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [14:42:24] &lt;private_meta&gt;    -guilt + quite</div>
<div class="line">[Wednesday 02 March 2011] [15:30:00] &lt;guido_g&gt;        pieterh: care to explain wich application would need a 10ms heartbeat?</div>
<div class="line">[Wednesday 02 March 2011] [15:30:13] &lt;pieterh&gt;        anything far away</div>
<div class="line">[Wednesday 02 March 2011] [15:30:15] &lt;guido_g&gt;        just reading ch4 of the guide</div>
<div class="line">[Wednesday 02 March 2011] [15:30:23] &lt;pieterh&gt;        it&#8217;s strictly dependent on network architecture</div>
<div class="line">[Wednesday 02 March 2011] [15:30:27] &lt;pieterh&gt;        sorry!</div>
<div class="line">[Wednesday 02 March 2011] [15:30:39] &lt;pieterh&gt;        :) I read &#8220;would need more than 10ms&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [15:30:49] &lt;guido_g&gt;        ok</div>
<div class="line">[Wednesday 02 March 2011] [15:30:49] &lt;pieterh&gt;        anything really close and extremely low latency</div>
<div class="line">[Wednesday 02 March 2011] [15:31:01] &lt;guido_g&gt;        but...</div>
<div class="line">[Wednesday 02 March 2011] [15:31:11] Notice   -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Wednesday 02 March 2011] [15:31:14] &lt;guido_g&gt;        heratbeat is going over the same socket as the data</div>
<div class="line">[Wednesday 02 March 2011] [15:31:17] &lt;pieterh&gt;        if you&#8217;re getting 1M messages a second and suddenly there&#8217;s silence for 10msec... that&#8217;s serious</div>
<div class="line">[Wednesday 02 March 2011] [15:31:28] &lt;guido_g&gt;        ack</div>
<div class="line">[Wednesday 02 March 2011] [15:31:32] &lt;pieterh&gt;        you want to know after maybe 1msec</div>
<div class="line">[Wednesday 02 March 2011] [15:31:36] &lt;pieterh&gt;        and then switch to a backup</div>
<div class="line">[Wednesday 02 March 2011] [15:31:43] &lt;guido_g&gt;        but you don&#8217;t send heartbeats when sending data</div>
<div class="line">[Wednesday 02 March 2011] [15:31:50] &lt;pieterh&gt;        precisely</div>
<div class="line">[Wednesday 02 March 2011] [15:32:13] &lt;guido_g&gt;        so a received data packet counts as &#8220;alive&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [15:32:24] &lt;pieterh&gt;        to do this optimally, you create a slope</div>
<div class="line">[Wednesday 02 March 2011] [15:32:31] &lt;guido_g&gt;        ack</div>
<div class="line">[Wednesday 02 March 2011] [15:32:41] &lt;pieterh&gt;        so heartbeat immediately as data stops, then double the time until it&#8217;s infinite</div>
<div class="line">[Wednesday 02 March 2011] [15:32:52] &lt;guido_g&gt;        done this in prototype of a rmc protocol</div>
<div class="line">[Wednesday 02 March 2011] [15:32:55] &lt;pieterh&gt;        but that&#8217;s a lot of work for an example and overkill for 99% of cases</div>
<div class="line">[Wednesday 02 March 2011] [15:33:09] &lt;guido_g&gt;        sure</div>
<div class="line">[Wednesday 02 March 2011] [15:33:36] &lt;pieterh&gt;        I&#8217;d suspect the minimum sane heartbeating is around 1msec for low latency apps</div>
<div class="line">[Wednesday 02 March 2011] [15:33:45] &lt;pieterh&gt;        that&#8217;s a typical SLA</div>
<div class="line">[Wednesday 02 March 2011] [15:33:58] &lt;guido_g&gt;        ok</div>
<div class="line">[Wednesday 02 March 2011] [15:34:28]   * pieterh is really liking the zmsg.class style</div>
<div class="line">[Wednesday 02 March 2011] [15:34:37] &lt;pieterh&gt;        C99 just became C2011</div>
<div class="line">[Wednesday 02 March 2011] [15:34:48] &lt;guido_g&gt;        but still the sender should only send a marker (heartbeat) when there is no data to send</div>
<div class="line">[Wednesday 02 March 2011] [15:35:22] &lt;guido_g&gt;        should go into spec7, somnehow</div>
<div class="line">[Wednesday 02 March 2011] [15:35:28] &lt;guido_g&gt;        <a href="#id13"><span class="problematic" id="id14">*</span></a>somehow</div>
<div class="line">[Wednesday 02 March 2011] [15:35:57] &lt;mikko&gt;  hello</div>
<div class="line">[Wednesday 02 March 2011] [15:36:35] &lt;guido_g&gt;        hiho</div>
<div class="line">[Wednesday 02 March 2011] [15:38:41] &lt;pieterh&gt;        guido_g: indeed, thanks</div>
<div class="line">[Wednesday 02 March 2011] [15:39:03] &lt;guido_g&gt;        its a nice read, btw</div>
<div class="line">[Wednesday 02 March 2011] [15:39:26] &lt;mikko&gt;  i&#8217;ve been at a customer lately and no irc during the day</div>
<div class="line">[Wednesday 02 March 2011] [15:39:40] &lt;guido_g&gt;        overall i like the idea of sketching these things in this semi-formal form</div>
<div class="line">[Wednesday 02 March 2011] [15:40:16] &lt;pieterh&gt;        guido_g: it makes life surprisingly easy</div>
<div class="line">[Wednesday 02 March 2011] [15:40:27] &lt;pieterh&gt;        sketch the protocol, implement it</div>
<div class="line">[Wednesday 02 March 2011] [15:41:00] &lt;guido_g&gt;        no, not w/ six bytes for the protocol version ,)</div>
<div class="line">[Wednesday 02 March 2011] [15:41:29] &lt;pieterh&gt;        what do you mean?</div>
<div class="line">[Wednesday 02 March 2011] [15:41:45] &lt;guido_g&gt;        &#8220;Frame 0: &#8220;MDPW01&#8221; (six bytes, representing MDP/Worker v0.1)&#8221; &lt;- that</div>
<div class="line">[Wednesday 02 March 2011] [15:42:07] &lt;guido_g&gt;        it&#8217;s even in the heartbeat</div>
<div class="line">[Wednesday 02 March 2011] [15:42:27] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 02 March 2011] [15:42:32] &lt;pieterh&gt;        there&#8217;s a good reason for that</div>
<div class="line">[Wednesday 02 March 2011] [15:42:43] &lt;guido_g&gt;        i mean, we&#8217;re talking about the machine where 1byte messages are use for benchmarks, right?</div>
<div class="line">[Wednesday 02 March 2011] [15:42:50] &lt;pieterh&gt;        I want to make brokers that can handle any mix of protocols over a single socket</div>
<div class="line">[Wednesday 02 March 2011] [15:43:01] &lt;pieterh&gt;        request-reply is <em>not</em> performance sensitive</div>
<div class="line">[Wednesday 02 March 2011] [15:43:25] &lt;pieterh&gt;        at least not at the 6M msg/second level</div>
<div class="line">[Wednesday 02 March 2011] [15:43:36] &lt;guido_g&gt;        depend on the amount of packets send on the segment, right?</div>
<div class="line">[Wednesday 02 March 2011] [15:43:51] &lt;pieterh&gt;        use cases are key</div>
<div class="line">[Wednesday 02 March 2011] [15:44:01] &lt;pieterh&gt;        data distribution -&gt; millions / second, microsecond latency</div>
<div class="line">[Wednesday 02 March 2011] [15:44:15] &lt;pieterh&gt;        task distribution -&gt; thousands / second, millisecond latency</div>
<div class="line">[Wednesday 02 March 2011] [15:44:21] &lt;guido_g&gt;        sure</div>
<div class="line">[Wednesday 02 March 2011] [15:44:45] &lt;guido_g&gt;        but still, 6 bytes for a protocol version?</div>
<div class="line">[Wednesday 02 March 2011] [15:45:17] &lt;pieterh&gt;        didn&#8217;t hurt HTTP</div>
<div class="line">[Wednesday 02 March 2011] [15:45:31] &lt;pieterh&gt;        it should be printable, unique, and include a version number</div>
<div class="line">[Wednesday 02 March 2011] [15:45:39] &lt;pieterh&gt;        &#8216;M&#8217; is not a protocol name</div>
<div class="line">[Wednesday 02 March 2011] [15:45:47] &lt;guido_g&gt;        ah</div>
<div class="line">[Wednesday 02 March 2011] [15:45:59] &lt;pieterh&gt;        seriously, this is not worth optimizing, not even marginally</div>
<div class="line">[Wednesday 02 March 2011] [15:46:02] &lt;guido_g&gt;        so the command doesn&#8217;t need to be printable then?</div>
<div class="line">[Wednesday 02 March 2011] [15:46:09] &lt;pieterh&gt;        the payload is opaque binary</div>
<div class="line">[Wednesday 02 March 2011] [15:46:19] &lt;pieterh&gt;        the command... good suggestion</div>
<div class="line">[Wednesday 02 March 2011] [15:46:31] &lt;pieterh&gt;        nope</div>
<div class="line">[Wednesday 02 March 2011] [15:46:37] &lt;pieterh&gt;        identities aren&#8217;t either</div>
<div class="line">[Wednesday 02 March 2011] [15:46:44] &lt;guido_g&gt;        i&#8217;d say 2 bytes for proto version would be more then enough</div>
<div class="line">[Wednesday 02 March 2011] [15:47:03] &lt;guido_g&gt;        how many incarnations could one expect?</div>
<div class="line">[Wednesday 02 March 2011] [15:47:13] &lt;pieterh&gt;        it is two bytes for proto version...</div>
<div class="line">[Wednesday 02 March 2011] [15:47:19] &lt;pieterh&gt;        MDPSxx</div>
<div class="line">[Wednesday 02 March 2011] [15:47:33] &lt;guido_g&gt;        <em>sigh</em></div>
<div class="line">[Wednesday 02 March 2011] [15:47:47] &lt;pieterh&gt;        proto name = 3 chars, proto subname = 1 char, proto version = 2 chars</div>
<div class="line">[Wednesday 02 March 2011] [15:47:49] &lt;Guthur&gt; pieterh, do you have a timeframe on when you hope to finished Ch4?</div>
<div class="line">[Wednesday 02 March 2011] [15:48:05] &lt;pieterh&gt;        Guthur: depends how long guido_g keeps nagging about these six bytes...</div>
<div class="line">[Wednesday 02 March 2011] [15:48:11] &lt;Guthur&gt; hehe</div>
<div class="line">[Wednesday 02 March 2011] [15:48:14] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 02 March 2011] [15:48:26] &lt;guido_g&gt;        pfff...</div>
<div class="line">[Wednesday 02 March 2011] [15:48:27] &lt;cremes&gt; guido_g: i mentioned the same thing when i reviewed an earlier version of the rfc</div>
<div class="line">[Wednesday 02 March 2011] [15:48:28] &lt;guido_g&gt;        ,)</div>
<div class="line">[Wednesday 02 March 2011] [15:48:39] &lt;cremes&gt; guido_g: i agree though that it isn&#8217;t worth arguing about</div>
<div class="line">[Wednesday 02 March 2011] [15:48:48] &lt;guido_g&gt;        sure</div>
<div class="line">[Wednesday 02 March 2011] [15:49:12] &lt;pieterh&gt;        look...</div>
<div class="line">[Wednesday 02 March 2011] [15:49:21] &lt;pieterh&gt;        the mdbroker opens a single socket for both clients and workers</div>
<div class="line">[Wednesday 02 March 2011] [15:49:29] &lt;guido_g&gt;        ack</div>
<div class="line">[Wednesday 02 March 2011] [15:49:33] &lt;pieterh&gt;        that is much easier for admin than two endpoints</div>
<div class="line">[Wednesday 02 March 2011] [15:49:41] &lt;guido_g&gt;        agreed</div>
<div class="line">[Wednesday 02 March 2011] [15:49:42] &lt;pieterh&gt;        i want to write a couple more protocols</div>
<div class="line">[Wednesday 02 March 2011] [15:49:48] &lt;pieterh&gt;        there&#8217;ll be one for persistence (to disk)</div>
<div class="line">[Wednesday 02 March 2011] [15:49:52] &lt;guido_g&gt;        dozens?</div>
<div class="line">[Wednesday 02 March 2011] [15:49:56] &lt;guido_g&gt;        hunderts?</div>
<div class="line">[Wednesday 02 March 2011] [15:49:57] &lt;pieterh&gt;        nope, a few</div>
<div class="line">[Wednesday 02 March 2011] [15:50:02] &lt;pieterh&gt;        but that&#8217;s just me</div>
<div class="line">[Wednesday 02 March 2011] [15:50:17] &lt;pieterh&gt;        i assume there will be variations on MDP</div>
<div class="line">[Wednesday 02 March 2011] [15:50:26] &lt;pieterh&gt;        not versions but variations</div>
<div class="line">[Wednesday 02 March 2011] [15:50:27] &lt;guido_g&gt;        we do have the message-parts</div>
<div class="line">[Wednesday 02 March 2011] [15:50:35] &lt;guido_g&gt;        so lets start small</div>
<div class="line">[Wednesday 02 March 2011] [15:50:37] &lt;pieterh&gt;        say you want to experiment with a new command</div>
<div class="line">[Wednesday 02 March 2011] [15:50:40] &lt;guido_g&gt;        like ip</div>
<div class="line">[Wednesday 02 March 2011] [15:51:03] &lt;pieterh&gt;        you can fork spec:7 and create a new spec:8</div>
<div class="line">[Wednesday 02 March 2011] [15:51:10] &lt;pieterh&gt;        but you will choose a new name</div>
<div class="line">[Wednesday 02 March 2011] [15:51:13] &lt;guido_g&gt;        would be more 7.1 :)</div>
<div class="line">[Wednesday 02 March 2011] [15:51:22] &lt;pieterh&gt;        so yes, there can be dozens or hundreds of protocols</div>
<div class="line">[Wednesday 02 March 2011] [15:51:33] &lt;pieterh&gt;        nope, not 7.1, read COSS if you care</div>
<div class="line">[Wednesday 02 March 2011] [15:51:41] &lt;guido_g&gt;        yes, the guttenberg-protocol</div>
<div class="line">[Wednesday 02 March 2011] [15:51:42] &lt;pieterh&gt;        each spec is independent, has its own editor, is forkable</div>
<div class="line">[Wednesday 02 March 2011] [15:51:48] &lt;guido_g&gt;        because it&#8217;s mostly copied</div>
<div class="line">[Wednesday 02 March 2011] [15:52:18] &lt;pieterh&gt;        why do I get link errors on 0MQ of the style crti.o: No such file or directory</div>
<div class="line">[Wednesday 02 March 2011] [15:52:23] &lt;pieterh&gt;        (new Ubuntu install)</div>
<div class="line">[Wednesday 02 March 2011] [15:53:07] &lt;guido_g&gt;        compile and link use different versions?</div>
<div class="line">[Wednesday 02 March 2011] [15:53:29] &lt;pieterh&gt;        could be</div>
<div class="line">[Wednesday 02 March 2011] [15:53:45] &lt;guido_g&gt;        or some packages not properly installed</div>
<div class="line">[Wednesday 02 March 2011] [15:54:05] &lt;pieterh&gt;        I just swapped my notebook HDD for an SSD, copied a bunch of stuff across</div>
<div class="line">[Wednesday 02 March 2011] [15:54:12] &lt;pieterh&gt;        so probably mix of old/new code</div>
<div class="line">[Wednesday 02 March 2011] [15:54:20] &lt;pieterh&gt;        np</div>
<div class="line">[Wednesday 02 March 2011] [15:54:35] &lt;pieterh&gt;        look, if you don&#8217;t like the 6-byte header, you fork MDP and create your own new spec</div>
<div class="line">[Wednesday 02 March 2011] [15:54:40] &lt;guido_g&gt;        or you didn&#8217;t install c++ properly (and/or in the correct version)</div>
<div class="line">[Wednesday 02 March 2011] [15:54:53] &lt;pieterh&gt;        (that is, if I don&#8217;t accept your suggestions)</div>
<div class="line">[Wednesday 02 March 2011] [15:54:59] &lt;guido_g&gt;        no, not for this one change</div>
<div class="line">[Wednesday 02 March 2011] [15:55:36] &lt;pieterh&gt;        it could be improved by adding a more formal start-up handshake</div>
<div class="line">[Wednesday 02 March 2011] [15:55:37] &lt;guido_g&gt;        btw, ssd in laptop rocks :)</div>
<div class="line">[Wednesday 02 March 2011] [15:55:54] &lt;pieterh&gt;        yeah, unbreakable...</div>
<div class="line">[Wednesday 02 March 2011] [15:55:56] &lt;guido_g&gt;        or smaller headers and the possibility for extensions</div>
<div class="line">[Wednesday 02 March 2011] [15:56:12] &lt;guido_g&gt;        like the ip header extensions</div>
<div class="line">[Wednesday 02 March 2011] [15:56:15] &lt;pieterh&gt;        bleh... it&#8217;s a draft protocol, it has to be _simple_ above all</div>
<div class="line">[Wednesday 02 March 2011] [15:56:23] &lt;guido_g&gt;        sure</div>
<div class="line">[Wednesday 02 March 2011] [15:56:31] &lt;pieterh&gt;        it is counter-productive to optimize a draft, pathological even</div>
<div class="line">[Wednesday 02 March 2011] [15:56:53] &lt;guido_g&gt;        but talking (and sometimes even thinking) about it helps</div>
<div class="line">[Wednesday 02 March 2011] [15:57:09] &lt;pieterh&gt;        clients and workers would have to &#8216;sign in&#8217; and specify a protocol</div>
<div class="line">[Wednesday 02 March 2011] [15:57:28] &lt;guido_g&gt;        or more then one</div>
<div class="line">[Wednesday 02 March 2011] [15:57:30] &lt;pieterh&gt;        then every message would first require a lookup to determine, &#8220;ah, this peer is using protocol XYZ&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [15:57:45] &lt;pieterh&gt;        and then you could remove the protocol header from every command except the first</div>
<div class="line">[Wednesday 02 March 2011] [15:57:58] &lt;pieterh&gt;        you&#8217;d save 6 bytes on requests of 1K and responses of 20K</div>
<div class="line">[Wednesday 02 March 2011] [15:58:01] &lt;pieterh&gt;        the world would rejoice</div>
<div class="line">[Wednesday 02 March 2011] [15:58:06] &lt;guido_g&gt;        if workers stick to one protocol yes</div>
<div class="line">[Wednesday 02 March 2011] [15:58:17] &lt;pieterh&gt;        and every single implementor would get that handshake wrong at least once</div>
<div class="line">[Wednesday 02 March 2011] [15:58:45] &lt;guido_g&gt;        this is one of those assuptions i generally don&#8217;t like</div>
<div class="line">[Wednesday 02 March 2011] [15:59:02] &lt;pieterh&gt;        so spec:7 makes as few assumptions as it can</div>
<div class="line">[Wednesday 02 March 2011] [15:59:08] &lt;guido_g&gt;        they lead to a &#8220;cover foreign asses&#8221; mentality</div>
<div class="line">[Wednesday 02 March 2011] [15:59:41] &lt;pieterh&gt;        i&#8217;m not sure we have a good pattern for a connected dialog, yet</div>
<div class="line">[Wednesday 02 March 2011] [15:59:57] &lt;pieterh&gt;        when we do, this will become much easier</div>
<div class="line">[Wednesday 02 March 2011] [16:02:25] &lt;guido_g&gt;        i think spec:7 is a nice starting point</div>
<div class="line">[Wednesday 02 March 2011] [16:02:42] &lt;guido_g&gt;        i&#8217;ll try to implemnt it w/ pyzmq</div>
<div class="line">[Wednesday 02 March 2011] [16:03:28] &lt;pieterh&gt;        guido_g: if you take the chapter4-wip branch, there are already working client &amp; worker APIs in mdcliapi and mdwrkapi</div>
<div class="line">[Wednesday 02 March 2011] [16:03:50] &lt;pieterh&gt;        they expose simple classes to applications</div>
<div class="line">[Wednesday 02 March 2011] [16:04:04]   * pieterh has to go rename them to .class as well... lol</div>
<div class="line">[Wednesday 02 March 2011] [16:04:14] &lt;guido_g&gt;        uhhh</div>
<div class="line">[Wednesday 02 March 2011] [16:04:32] &lt;mikko&gt;  pieterh: so you are coming on 16th?</div>
<div class="line">[Wednesday 02 March 2011] [16:04:33] &lt;guido_g&gt;        pyzmq makes this even more simple</div>
<div class="line">[Wednesday 02 March 2011] [16:04:39] &lt;pieterh&gt;        mikko: yes</div>
<div class="line">[Wednesday 02 March 2011] [16:04:45] &lt;pieterh&gt;        guido_g: how so?</div>
<div class="line">[Wednesday 02 March 2011] [16:04:59] &lt;pieterh&gt;        mikko: I&#8217;ll be there earlier</div>
<div class="line">[Wednesday 02 March 2011] [16:05:45] &lt;guido_g&gt;        it has a eventloop built in, including timers etc.  <a class="reference external" href="http://zeromq.github.com/pyzmq/eventloop.html">http://zeromq.github.com/pyzmq/eventloop.html</a></div>
<div class="line">[Wednesday 02 March 2011] [16:06:22] &lt;mikko&gt;  pieterh: how much earlier?</div>
<div class="line">[Wednesday 02 March 2011] [16:06:32] &lt;mikko&gt;  pieterh: i work very close to oxford circus</div>
<div class="line">[Wednesday 02 March 2011] [16:06:48] &lt;pieterh&gt;        mikko: I can be there (in London) at lunchtime</div>
<div class="line">[Wednesday 02 March 2011] [16:07:02] &lt;pieterh&gt;        might meet some other people for lunch, or before</div>
<div class="line">[Wednesday 02 March 2011] [16:07:04] &lt;mikko&gt;  pieterh: are you having any meetings during the day?</div>
<div class="line">[Wednesday 02 March 2011] [16:07:10] &lt;pieterh&gt;        you want to catch up?</div>
<div class="line">[Wednesday 02 March 2011] [16:07:21] &lt;pieterh&gt;        happy to come and evangelize 0MQ</div>
<div class="line">[Wednesday 02 March 2011] [16:07:54] &lt;pieterh&gt;        guido_g: the complete worker API, in C, is 200 lines of code</div>
<div class="line">[Wednesday 02 March 2011] [16:07:56] &lt;mikko&gt;  maybe, not sure about my schedule yet</div>
<div class="line">[Wednesday 02 March 2011] [16:08:38] &lt;guido_g&gt;        pieterh: <a class="reference external" href="http://zeromq.github.com/pyzmq/api/generated/zmq.eventloop.zmqstream.html">http://zeromq.github.com/pyzmq/api/generated/zmq.eventloop.zmqstream.html</a>  &lt;- less then 50 lines w/ this</div>
<div class="line">[Wednesday 02 March 2011] [16:08:41] &lt;pieterh&gt;        guido_g: of which maybe 30 lines is the central poll loop &amp; timers</div>
<div class="line">[Wednesday 02 March 2011] [16:10:07] &lt;pieterh&gt;        guido_g: yes, I&#8217;m sure it can be even less than 200 lines, maybe 180 or 174, but that&#8217;s not fair to readers who are learning 0MQ core, rather than language-specific frameworks</div>
<div class="line">[Wednesday 02 March 2011] [16:10:14] &lt;mikko&gt;  pieterh: but it would be nice to catch up</div>
<div class="line">[Wednesday 02 March 2011] [16:10:33] &lt;pieterh&gt;        mikko: I&#8217;ll keep some time free in the afternoon, no problem</div>
<div class="line">[Wednesday 02 March 2011] [16:10:35] &lt;mikko&gt;  i can ask if devs at the company are interested in hearing about zeromq</div>
<div class="line">[Wednesday 02 March 2011] [16:10:39] &lt;mikko&gt;  from horse&#8217;s mouth</div>
<div class="line">[Wednesday 02 March 2011] [16:10:55] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 02 March 2011] [16:11:03] &lt;mikko&gt;  some of them saw ianbarber last friday</div>
<div class="line">[Wednesday 02 March 2011] [16:11:13] &lt;guido_g&gt;        pieterh: agreed, but we&#8217;ll see more bindings with additional functionality i assume</div>
<div class="line">[Wednesday 02 March 2011] [16:11:31] &lt;pieterh&gt;        guido_g: any useful pattern should be documented in a language neutral form</div>
<div class="line">[Wednesday 02 March 2011] [16:11:32] &lt;guido_g&gt;        anyway, i&#8217;m much more a python than a c programmer nowadays</div>
<div class="line">[Wednesday 02 March 2011] [16:11:37] &lt;pieterh&gt;        otherwise it&#8217;s just fragmentation</div>
<div class="line">[Wednesday 02 March 2011] [16:11:44] &lt;pieterh&gt;        the language is not relevant, barely</div>
<div class="line">[Wednesday 02 March 2011] [16:11:46] &lt;guido_g&gt;        pieterh: ack, i was going for an implementation</div>
<div class="line">[Wednesday 02 March 2011] [16:11:51] &lt;guido_g&gt;        the spec:7 is fine</div>
<div class="line">[Wednesday 02 March 2011] [16:12:01] &lt;pieterh&gt;        guido_g: yeah, but it&#8217;s a shame to not first translate the guide examples</div>
<div class="line">[Wednesday 02 March 2011] [16:12:18] &lt;pieterh&gt;        if you Pythonistos can hit 100%, you achieve an ianbarbarism</div>
<div class="line">[Wednesday 02 March 2011] [16:12:29] &lt;pieterh&gt;        that is, you get a Guide in Python</div>
<div class="line">[Wednesday 02 March 2011] [16:12:52] &lt;pieterh&gt;        but I guess it&#8217;s too difficult... :-/ Python has a reputation as harder to use than PHP or C</div>
<div class="line">[Wednesday 02 March 2011] [16:13:24] &lt;guido_g&gt;        i can&#8217;t avoid the feeling that some wants to talk me into doing something... but i can&#8217;t put a finger on it...</div>
<div class="line">[Wednesday 02 March 2011] [16:13:41] &lt;Guthur&gt; i really should finish ch3 for clrzmq2</div>
<div class="line">[Wednesday 02 March 2011] [16:13:52] &lt;pieterh&gt;        no, in fact I formally forbid you from even thinking about it...!</div>
<div class="line">[Wednesday 02 March 2011] [16:13:57] &lt;Guthur&gt; I got lazy</div>
<div class="line">[Wednesday 02 March 2011] [16:14:16] &lt;pieterh&gt;        Guthur: guido_g: race on... C# vs Python! who will be first to get their own Guide???</div>
<div class="line">[Wednesday 02 March 2011] [16:14:24] &lt;pieterh&gt;        my money is on Perl, to be honest</div>
<div class="line">[Wednesday 02 March 2011] [16:14:28] &lt;Guthur&gt; pieterh, you like your reverse physiology</div>
<div class="line">[Wednesday 02 March 2011] [16:14:33] &lt;Guthur&gt; hehe</div>
<div class="line">[Wednesday 02 March 2011] [16:14:37] &lt;mikko&gt;  PHP won ?</div>
<div class="line">[Wednesday 02 March 2011] [16:14:47] &lt;guido_g&gt;        he has to train it, he has kids :)</div>
<div class="line">[Wednesday 02 March 2011] [16:14:54] &lt;pieterh&gt;        yup, mikko, Ian Barber won...</div>
<div class="line">[Wednesday 02 March 2011] [16:15:16] &lt;pieterh&gt;        <a class="reference external" href="http://zguide.zeromq.org/php:all">http://zguide.zeromq.org/php:all</a></div>
<div class="line">[Wednesday 02 March 2011] [16:15:19] &lt;Guthur&gt; my c# examples wouldn&#8217;t really qualify, I had using blocks to avoid explicit disposal</div>
<div class="line">[Wednesday 02 March 2011] [16:15:34] &lt;pieterh&gt;        to be honest, it&#8217;s pretty cool to see the examples in random other languages</div>
<div class="line">[Wednesday 02 March 2011] [16:15:47] &lt;Guthur&gt; and other sugar</div>
<div class="line">[Wednesday 02 March 2011] [16:16:46] &lt;pieterh&gt;        Guthur: if the sugar makes it easier to write, use it</div>
<div class="line">[Wednesday 02 March 2011] [16:17:15] &lt;pieterh&gt;        after all, it&#8217;s about teaching developers in language X how best to use the 0MQ binding/API</div>
<div class="line">[Wednesday 02 March 2011] [16:17:15] &lt;Guthur&gt; yeah things like returning and accepting strings, instead of byte arrays</div>
<div class="line">[Wednesday 02 March 2011] [16:18:00] &lt;Guthur&gt; even if it can&#8217;t get its own guide it would be good experience for me with 0MQ</div>
<div class="line">[Wednesday 02 March 2011] [16:18:16] &lt;Guthur&gt; the more the better I think, hehe</div>
<div class="line">[Wednesday 02 March 2011] [16:18:55] &lt;pieterh&gt;        One day, when Google human resources conduct their 10-minute screenings they will ask, &#8220;how would you rate your 0MQ knowledge, 0 to 10?&#8221;</div>
<div class="line">[Wednesday 02 March 2011] [16:19:25] &lt;mikko&gt;  haha</div>
<div class="line">[Wednesday 02 March 2011] [16:19:27] &lt;guido_g&gt;        who cares  ]:-&gt;</div>
<div class="line">[Wednesday 02 March 2011] [16:20:33] &lt;guido_g&gt;        there are already a lot of python examples</div>
<div class="line">[Wednesday 02 March 2011] [16:20:58] &lt;pieterh&gt;        guido_g: yes, only a few left, your chance for eternal fame is slipping away fast</div>
<div class="line">[Wednesday 02 March 2011] [16:22:48] &lt;Guthur&gt; hehe, it&#8217;s sad but I actually liked seeing my name at the top of the guide</div>
<div class="line">[Wednesday 02 March 2011] [16:22:58] &lt;Guthur&gt; my one bit of programming fame</div>
<div class="line">[Wednesday 02 March 2011] [16:23:27] &lt;pieterh&gt;        To be honest, being named as contributor to a successful open source project is better than a good CV</div>
<div class="line">[Wednesday 02 March 2011] [16:23:52] &lt;guido_g&gt;        depends on where you want to apply</div>
<div class="line">[Wednesday 02 March 2011] [16:23:57] &lt;pieterh&gt;        precisely</div>
<div class="line">[Wednesday 02 March 2011] [16:24:22] &lt;guido_g&gt;        my last gig was at a bank...</div>
<div class="line">[Wednesday 02 March 2011] [16:24:29] &lt;pieterh&gt;        i mean, any firm that does not google you and check you on github is going to be painful to work for</div>
<div class="line">[Wednesday 02 March 2011] [16:24:54] &lt;guido_g&gt;        makes approx. 99.99% of all companies :)</div>
<div class="line">[Wednesday 02 March 2011] [16:25:32] &lt;guido_g&gt;        and the others... well there not that much of them</div>
<div class="line">[Wednesday 02 March 2011] [16:25:41] &lt;Guthur&gt; guido_g, Did you find that banks don&#8217;t dig work on OSS</div>
<div class="line">[Wednesday 02 March 2011] [16:25:44] &lt;pieterh&gt;        the thing that eventually caused 0MQ started 6 years ago because someone was once impressed by the C library I wrote</div>
<div class="line">[Wednesday 02 March 2011] [16:25:53] &lt;pieterh&gt;        and it was a bank</div>
<div class="line">[Wednesday 02 March 2011] [16:26:25] &lt;guido_g&gt;        sure, there might be exceptions</div>
<div class="line">[Wednesday 02 March 2011] [16:26:46] &lt;pieterh&gt;        ok, I have a messaging broker to write before the sun rises or the vampires will get me</div>
<div class="line">[Wednesday 02 March 2011] [16:26:47] &lt;pieterh&gt;        cyal</div>
<div class="line">[Wednesday 02 March 2011] [16:26:57] &lt;guido_g&gt;        Guthur: dig work on? sorry, don&#8217;t understand that</div>
<div class="line">[Wednesday 02 March 2011] [16:27:16] &lt;guido_g&gt;        pieterh: cu</div>
<div class="line">[Wednesday 02 March 2011] [16:27:28] &lt;pieterh&gt;        guido_g: ciao</div>
<div class="line">[Wednesday 02 March 2011] [16:28:37] &lt;Guthur&gt; guido_g, rate approvingly</div>
<div class="line">[Wednesday 02 March 2011] [16:29:52] &lt;guido_g&gt;        i&#8217;ve been lucky, the bank i worked for used python, this is why i got the job</div>
<div class="line">[Wednesday 02 March 2011] [16:30:03] &lt;guido_g&gt;        but they didn&#8217;t know about oss in general</div>
<div class="line">[Wednesday 02 March 2011] [16:30:39] &lt;guido_g&gt;        and now, neither the bank nor the headhunters did check my (non-existant) oss track record</div>
<div class="line">[Wednesday 02 March 2011] [16:31:01] &lt;Guthur&gt; did you mention standout projects in your CV?</div>
<div class="line">[Wednesday 02 March 2011] [16:31:46] &lt;guido_g&gt;        i mostly worked w/ oss software in the last 12 years, so lots of names in my cv</div>
<div class="line">[Wednesday 02 March 2011] [16:32:18] &lt;guido_g&gt;        but they don&#8217;t know even postgresql</div>
<div class="line">[Wednesday 02 March 2011] [16:32:35] &lt;guido_g&gt;        totaly closed shop (and minds)</div>
<div class="line">[Wednesday 02 March 2011] [16:33:49] &lt;Guthur&gt; yeah that can be quite prevalent in corporate culture</div>
<div class="line">[Wednesday 02 March 2011] [16:34:27] &lt;guido_g&gt;        <a class="reference external" href="http://site.despair.com/images/dpage/consulting03.jpg">http://site.despair.com/images/dpage/consulting03.jpg</a>  &lt;- true :)</div>
<div class="line">[Wednesday 02 March 2011] [16:40:01] &lt;dijix&gt;  guido_g: sounds like my .NET shop..  I can&#8217;t even carry on a conversation with most of them - they haven&#8217;t even heard of things like Python.. and most assuredly, not ZeroMQ..</div>
<div class="line">[Wednesday 02 March 2011] [16:40:22] &lt;guido_g&gt;        dijix: not even that</div>
<div class="line">[Wednesday 02 March 2011] [16:41:16] &lt;guido_g&gt;        they run programs, that&#8217;s it</div>
<div class="line">[Wednesday 02 March 2011] [16:41:39] &lt;guido_g&gt;        they do have 2 or 3 people w/ some technical know-how</div>
<div class="line">[Wednesday 02 March 2011] [16:42:21] &lt;guido_g&gt;        but given the fact that of the most important pieces of software there is still written in cobol...</div>
<div class="line">[Wednesday 02 March 2011] [16:42:36] &lt;eyecue&gt; <em>yawn</em></div>
<div class="line">[Wednesday 02 March 2011] [16:42:37] &lt;eyecue&gt; morning</div>
<div class="line">[Wednesday 02 March 2011] [16:42:39] &lt;guido_g&gt;        my python gig there was ok</div>
<div class="line">[Wednesday 02 March 2011] [16:43:09] &lt;guido_g&gt;        howdy</div>
<div class="line">[Wednesday 02 March 2011] [16:43:16] &lt;eyecue&gt; :)</div>
<div class="line">[Wednesday 02 March 2011] [16:43:43] &lt;eyecue&gt; 0mq kinda blew me away last night, i got home at 6:30 after work, and before i knew it had been reading for a good 5 hours</div>
<div class="line">[Wednesday 02 March 2011] [16:44:16] &lt;guido_g&gt;        i&#8217;d treat that as a good start</div>
<div class="line">[Wednesday 02 March 2011] [16:44:28] &lt;eyecue&gt; yeh :)</div>
<div class="line">[Wednesday 02 March 2011] [16:54:40] &lt;cremes&gt; anyone know why i would get errno=2 and error_string &#8220;No such file or directory&#8221; when trying to connect using inproc?</div>
<div class="line">[Wednesday 02 March 2011] [16:57:40] &lt;sustrik&gt;        strange</div>
<div class="line">[Wednesday 02 March 2011] [16:57:47] &lt;sustrik&gt;        do you have SWAP set?</div>
<div class="line">[Wednesday 02 March 2011] [16:59:53] &lt;cremes&gt; no</div>
<div class="line">[Wednesday 02 March 2011] [17:00:13] &lt;cremes&gt; will it report that error if i bind/connect two sockets within the same context?</div>
<div class="line">[Wednesday 02 March 2011] [17:00:34] &lt;cremes&gt; btw, syntax is: &#8220;inproc://some_name&#8221; right?</div>
<div class="line">[Wednesday 02 March 2011] [17:02:03] &lt;sustrik&gt;        right</div>
<div class="line">[Wednesday 02 March 2011] [17:02:16] &lt;sustrik&gt;        the errno looks to be bogus</div>
<div class="line">[Wednesday 02 March 2011] [17:02:20] &lt;sustrik&gt;        is it reproducible?</div>
<div class="line">[Wednesday 02 March 2011] [17:02:41] &lt;cremes&gt; it might be a problem with my binding... investigating &lt;sigh&gt;</div>
<div class="line">[Wednesday 02 March 2011] [17:03:36] &lt;sustrik&gt;        cremes: win32?</div>
<div class="line">[Wednesday 02 March 2011] [17:04:00] &lt;cremes&gt; no, linux</div>
<div class="line">[Wednesday 02 March 2011] [17:04:06] &lt;sustrik&gt;        hm</div>
<div class="line">[Wednesday 02 March 2011] [17:04:14] &lt;sustrik&gt;        no idea then</div>
<div class="line">[Wednesday 02 March 2011] [17:06:01] &lt;cremes&gt; now i&#8217;m getting:  errno [111], error_string [Connection refused]</div>
<div class="line">[Wednesday 02 March 2011] [17:18:36] &lt;Guthur&gt; cremes, which binding is that out of interest</div>
<div class="line">[Wednesday 02 March 2011] [17:19:13] &lt;cremes&gt; ruby</div>
<div class="line">[Wednesday 02 March 2011] [17:19:38] &lt;cremes&gt; looks like it isn&#8217;t a binding bug... 0mq throws that error if you try to zmq_connect() an inproc before yu zmq_bind() it</div>
<div class="line">[Wednesday 02 March 2011] [17:20:57] &lt;guido_g&gt;        ahhh</div>
<div class="line">[Wednesday 02 March 2011] [17:26:27] &lt;mikko&gt;  cremes: thats a known limitation</div>
<div class="line">[Wednesday 02 March 2011] [17:27:03] &lt;cremes&gt; mikko: yeah, but i thought it failed silently</div>
<div class="line">[Wednesday 02 March 2011] [17:27:19] &lt;cremes&gt; it now returns -1.... which is new to 2.1.1 i think</div>
<div class="line">[Wednesday 02 March 2011] [17:29:25] &lt;guido_g&gt;        effect of an assert that got removed?</div>
<div class="line">[Wednesday 02 March 2011] [17:37:40] &lt;guido_g&gt;        oh late already, night all!</div>
<div class="line">[Wednesday 02 March 2011] [17:42:25] &lt;pieterh&gt;        cremes: afaik it always returned a -1</div>
<div class="line">[Wednesday 02 March 2011] [18:20:25] &lt;JoderCoder&gt;     Hi everyone, I am trying to write some IPC code that can pass data between 2 processes on a single machine. Am I at right place? :)</div>
<div class="line">[Wednesday 02 March 2011] [18:24:44] &lt;Guthur&gt; JoderCoder, You can certainly use ZeroMQ to do IPC</div>
<div class="line">[Wednesday 02 March 2011] [18:24:55] &lt;Guthur&gt; what platform?</div>
<div class="line">[Wednesday 02 March 2011] [18:28:16] &lt;JoderCoder&gt;     Guthur, Linux initially, then Windows..</div>
<div class="line">[Wednesday 02 March 2011] [18:29:19] &lt;JoderCoder&gt;     <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/009637.html">http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/009637.html</a></div>
<div class="line">[Wednesday 02 March 2011] [18:29:25] &lt;Guthur&gt; you can use IPC transport on Linux but on Windows you would need to use TCP</div>
<div class="line">[Wednesday 02 March 2011] [18:29:33] &lt;JoderCoder&gt;     this is the mail I sent to the forum</div>
<div class="line">[Wednesday 02 March 2011] [18:29:45] &lt;Guthur&gt; IPC via named pipes on windows is not yet available</div>
<div class="line">[Wednesday 02 March 2011] [18:29:58] &lt;JoderCoder&gt;     yes, I came across with that note on the docs somewhere</div>
<div class="line">[Wednesday 02 March 2011] [18:30:09] &lt;JoderCoder&gt;     Linux is my priority anyways..</div>
<div class="line">[Wednesday 02 March 2011] [18:30:59] &lt;JoderCoder&gt;     is there any sample code available somewhere that I could re-use?</div>
<div class="line">[Wednesday 02 March 2011] [18:31:09] &lt;Guthur&gt; the guide is a code place to start</div>
<div class="line">[Wednesday 02 March 2011] [18:31:10] &lt;pieterh&gt;        JoderCoder: have you read the Guide?</div>
<div class="line">[Wednesday 02 March 2011] [18:31:30] &lt;Guthur&gt; code/good</div>
<div class="line">[Wednesday 02 March 2011] [18:31:46] &lt;Guthur&gt; hehe, too much coding in the brain</div>
<div class="line">[Wednesday 02 March 2011] [18:32:29] &lt;JoderCoder&gt;     pieterh, I did read it, to some extend. Firstly, I am not sure what pattern to use.</div>
<div class="line">[Wednesday 02 March 2011] [18:32:49] &lt;pieterh&gt;        JoderCoder: read it again, until it makes sense</div>
<div class="line">[Wednesday 02 March 2011] [18:32:50] &lt;JoderCoder&gt;     I was recommended to use Router-to-Router</div>
<div class="line">[Wednesday 02 March 2011] [18:33:02] &lt;pieterh&gt;        this would be your first 0MQ program?</div>
<div class="line">[Wednesday 02 March 2011] [18:33:12] &lt;JoderCoder&gt;     yes</div>
<div class="line">[Wednesday 02 March 2011] [18:33:20] &lt;pieterh&gt;        so please start at Ch1 not Ch3</div>
<div class="line">[Wednesday 02 March 2011] [18:33:27] &lt;pieterh&gt;        do take the time to learn this properly</div>
<div class="line">[Wednesday 02 March 2011] [18:33:39] &lt;pieterh&gt;        otherwise you&#8217;re going to get lost</div>
<div class="line">[Wednesday 02 March 2011] [18:33:52] &lt;pieterh&gt;        walk, then run</div>
<div class="line">[Wednesday 02 March 2011] [18:33:57] &lt;JoderCoder&gt;     :-)</div>
<div class="line">[Wednesday 02 March 2011] [18:36:03] &lt;JoderCoder&gt;     well, I guess I am not the first one, but under some pressure due to the tight schedule.. but you&#8217;re right.. I will read it tomorrow.</div>
<div class="line">[Wednesday 02 March 2011] [18:36:29] &lt;pieterh&gt;        if you want to save time, hire someone who already knows the technology well</div>
<div class="line">[Wednesday 02 March 2011] [18:36:51] &lt;JoderCoder&gt;     :-)</div>
<div class="line">[Wednesday 02 March 2011] [18:36:56] &lt;pieterh&gt;        but jumping into deep water before you can swim will really not save you time</div>
<div class="line">[Wednesday 02 March 2011] [18:37:18] &lt;pieterh&gt;        it&#8217;s about 2-3 days to learn the basics and feel them &#8216;click&#8217; in your mind</div>
<div class="line">[Wednesday 02 March 2011] [18:37:33] &lt;pieterh&gt;        you will save that easily on the first app you make properly</div>
<div class="line">[Wednesday 02 March 2011] [18:37:43] &lt;Guthur&gt; JoderCoder, what language are you going to use, out of interest</div>
<div class="line">[Wednesday 02 March 2011] [18:37:43] &lt;JoderCoder&gt;     I will replace my current Sys V MQ with ZMQ since we plan to use it as a MQ across network</div>
<div class="line">[Wednesday 02 March 2011] [18:37:51] &lt;JoderCoder&gt;     c++</div>
<div class="line">[Wednesday 02 March 2011] [18:40:21] &lt;JoderCoder&gt;     OK guys, thanks for your time.. I&#8217;ll get to it tomorrow morning. g&#8217;night</div>
<div class="line">[Wednesday 02 March 2011] [18:40:34] &lt;pieterh&gt;        JoderCoder: cyat</div>
<div class="line">[Wednesday 02 March 2011] [18:40:54] &lt;Guthur&gt; night JoderCoder</div>
<div class="line">[Wednesday 02 March 2011] [18:40:59] &lt;Guthur&gt; it&#8217;s worth reading the guide</div>
<div class="line">[Wednesday 02 March 2011] [18:41:05] &lt;Guthur&gt; lots of idea</div>
<div class="line">[Wednesday 02 March 2011] [18:41:08] &lt;Guthur&gt; ideas*</div>
<div class="line">[Wednesday 02 March 2011] [18:41:36] &lt;JoderCoder&gt;     ok danke schon</div>
<div class="line">[Wednesday 02 March 2011] [18:42:00] &lt;Guthur&gt; your welcome, i must sleep now too</div>
<div class="line">[Wednesday 02 March 2011] [18:56:20] &lt;jugg&gt;   yrashk, pieterh:  The only reason the csrl/erlzmq fork exists is because the zeromq/erlzmq bindings are incomplete/broken.  I&#8217;d love to use yrashk/ezmq, but my application runs on R13B04 which can&#8217;t run ezmq (requires R14).  When I have time to move to R14, I&#8217;ll most likely move to ezmq.</div>
<div class="line">[Wednesday 02 March 2011] [18:56:30] &lt;jugg&gt;   yrashk, nice perf results.</div>
<div class="line">[Wednesday 02 March 2011] [18:56:56] &lt;pieterh&gt;        jugg: makes sense, I&#8217;d advise you to agree on one name and two version numbers, for your users&#8217; sanity</div>
<div class="line">[Wednesday 02 March 2011] [20:16:46] &lt;cremes&gt; ha, figured out why my zmq_connect() calls were returning an error</div>
<div class="line">[Wednesday 02 March 2011] [20:17:03] &lt;cremes&gt; i was trying to connect two sockets in <em>different</em> contexts via inproc</div>
<div class="line">[Wednesday 02 March 2011] [20:17:11] &lt;cremes&gt; that doesn&#8217;t work :)</div>
<div class="line">[Wednesday 02 March 2011] [21:58:18] &lt;cremes&gt; i&#8217;m digging this inproc transport</div>
<div class="line">[Wednesday 02 March 2011] [21:58:48] &lt;cremes&gt; it reduces latency by at least 30%... me likey</div>
<div class="line">[Wednesday 02 March 2011] [22:07:59] &lt;Steve-o&gt;        just need a Windows version</div>
<div class="line">[Thursday 03 March 2011] [01:51:31] &lt;Steve-o&gt; mikko: pingu</div>
<div class="line">[Thursday 03 March 2011] [01:58:36] &lt;Steve-o&gt; mikko: ready for bumping zeromq with autoconf of openpgm</div>
<div class="line">[Thursday 03 March 2011] [02:44:09] &lt;guido_g&gt; mornig all</div>
<div class="line">[Thursday 03 March 2011] [02:44:19] &lt;pieterh&gt; guido_g: g&#8217;morning</div>
<div class="line">[Thursday 03 March 2011] [02:44:27] &lt;guido_g&gt; hi pieterh</div>
<div class="line">[Thursday 03 March 2011] [02:44:51] &lt;guido_g&gt; just saw that you&#8217;ve been busy</div>
<div class="line">[Thursday 03 March 2011] [02:46:35] &lt;guido_g&gt; will have a look at the mdp broker later</div>
<div class="line">[Thursday 03 March 2011] [02:48:13] &lt;pieterh&gt; it does everything but leaks a little memory, and is slow</div>
<div class="line">[Thursday 03 March 2011] [02:50:05] &lt;guido_g&gt; &#8220;The biggest improvement in performance is the non-working-to-working</div>
<div class="line">[Thursday 03 March 2011] [02:50:05] &lt;guido_g&gt; transition.&#8221;</div>
<div class="line">[Thursday 03 March 2011] [02:50:05] &lt;guido_g&gt;    &#8211; John Ousterhout</div>
<div class="line">[Thursday 03 March 2011] [02:50:42] &lt;pieterh&gt; what&#8217;s nice is how it all handles when you stop/restart pieces</div>
<div class="line">[Thursday 03 March 2011] [02:51:24] &lt;guido_g&gt; will use it as counterpart for my python mdp implementation</div>
<div class="line">[Thursday 03 March 2011] [02:52:40] &lt;pieterh&gt; I&#8217;d start by implementing the client and worker APIs</div>
<div class="line">[Thursday 03 March 2011] [02:52:49] &lt;pieterh&gt; you can then test against the existing broker</div>
<div class="line">[Thursday 03 March 2011] [02:53:03] &lt;guido_g&gt; that was the idea</div>
<div class="line">[Thursday 03 March 2011] [02:53:12] &lt;guido_g&gt; i&#8217;m on the client atm</div>
<div class="line">[Thursday 03 March 2011] [02:53:15] &lt;pieterh&gt; I&#8217;m keen to see what you come up with</div>
<div class="line">[Thursday 03 March 2011] [02:53:27] &lt;pieterh&gt; mdp will also solve the problem of reliable pipelines</div>
<div class="line">[Thursday 03 March 2011] [02:54:04] &lt;pieterh&gt; today I profile to see where the CPU time is going</div>
<div class="line">[Thursday 03 March 2011] [02:54:13] &lt;pieterh&gt; I suspect too much envelope stuffing</div>
<div class="line">[Thursday 03 March 2011] [02:54:24] &lt;guido_g&gt; my idea is not to write another mdp example, but a lib that can be used for apps</div>
<div class="line">[Thursday 03 March 2011] [02:54:37] &lt;pieterh&gt; this is what the two APIs are meant to be</div>
<div class="line">[Thursday 03 March 2011] [02:55:07] &lt;guido_g&gt; so i figured that right at least :)</div>
<div class="line">[Thursday 03 March 2011] [02:55:44] &lt;pieterh&gt; so an actual client looks like: <a class="reference external" href="https://github.com/imatix/zguide/blob/chapter4-wip/examples/C/mdclient.c">https://github.com/imatix/zguide/blob/chapter4-wip/examples/C/mdclient.c</a></div>
<div class="line">[Thursday 03 March 2011] [02:55:57] &lt;pieterh&gt; and the worker: <a class="reference external" href="https://github.com/imatix/zguide/blob/chapter4-wip/examples/C/mdworker.c">https://github.com/imatix/zguide/blob/chapter4-wip/examples/C/mdworker.c</a></div>
<div class="line">[Thursday 03 March 2011] [02:56:14] &lt;guido_g&gt; sweet</div>
<div class="line">[Thursday 03 March 2011] [02:56:33] &lt;pieterh&gt; yeah, I think so too... :-)</div>
<div class="line">[Thursday 03 March 2011] [02:56:50] &lt;guido_g&gt; no really</div>
<div class="line">[Thursday 03 March 2011] [02:56:50] &lt;pieterh&gt; especially since it&#8217;s like 3-4 days&#8217; total work so far from concept to running code</div>
<div class="line">[Thursday 03 March 2011] [02:57:10] &lt;guido_g&gt; as one who is not used to c anymore, this is very easy to read</div>
<div class="line">[Thursday 03 March 2011] [02:57:27] &lt;pieterh&gt; well, it&#8217;s not about the language, just the semantics you implement</div>
<div class="line">[Thursday 03 March 2011] [02:57:51] &lt;pieterh&gt; the class-based C style we developed at iMatix is pleasant to work with</div>
<div class="line">[Thursday 03 March 2011] [02:58:30] &lt;pieterh&gt; i&#8217;m curious to see how that maps into Python</div>
<div class="line">[Thursday 03 March 2011] [02:58:34] &lt;guido_g&gt; sure, but you need to know a language quite well to come up w/ a good api for something</div>
<div class="line">[Thursday 03 March 2011] [02:58:43] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 03 March 2011] [03:13:13] &lt;yrashk&gt;  I forgot this again &#8211; in the latest 0mq can you or can you not use sockets in diff threads?</div>
<div class="line">[Thursday 03 March 2011] [03:13:19] &lt;yrashk&gt;  this was getting confusing at some point</div>
<div class="line">[Thursday 03 March 2011] [03:13:37] &lt;guido_g&gt; you can, but you should do it <em>very</em> carefully</div>
<div class="line">[Thursday 03 March 2011] [03:13:50] &lt;guido_g&gt; as always when using threads</div>
<div class="line">[Thursday 03 March 2011] [03:13:56] &lt;yrashk&gt;  what consitutes carefulness in this case?</div>
<div class="line">[Thursday 03 March 2011] [03:14:25] &lt;sustrik&gt; no parallel access</div>
<div class="line">[Thursday 03 March 2011] [03:14:54] &lt;yrashk&gt;  so if mutexed around, we&#8217;re fine?</div>
<div class="line">[Thursday 03 March 2011] [03:15:02] &lt;eyecue&gt;  moin</div>
<div class="line">[Thursday 03 March 2011] [03:15:04] &lt;guido_g&gt; which means the same usage-pattern as before, but you can migrate a socket from thread to another</div>
<div class="line">[Thursday 03 March 2011] [03:15:12] &lt;guido_g&gt; yrashk: no</div>
<div class="line">[Thursday 03 March 2011] [03:15:30] &lt;guido_g&gt; yrashk: doesn&#8217;t make sense</div>
<div class="line">[Thursday 03 March 2011] [03:15:47] &lt;sustrik&gt; guido_g: it would work</div>
<div class="line">[Thursday 03 March 2011] [03:16:00] &lt;sustrik&gt; basically it means you migrate the socket each time the mutex is locked</div>
<div class="line">[Thursday 03 March 2011] [03:16:04] &lt;eyecue&gt;  pieterh; nice coincidence, a vendor we&#8217;re engaging today uses zeromq to arbitrate their mail and messaging infrastructure :)</div>
<div class="line">[Thursday 03 March 2011] [03:16:13] &lt;sustrik&gt; yrashk: it&#8217;s going to be slow</div>
<div class="line">[Thursday 03 March 2011] [03:16:18] &lt;yrashk&gt;  sustrik: yeah</div>
<div class="line">[Thursday 03 March 2011] [03:16:26] &lt;yrashk&gt;  mutexes add a penalty</div>
<div class="line">[Thursday 03 March 2011] [03:16:31] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [03:16:32] &lt;guido_g&gt; sustrik: technically yes, but you should be the one pointing out that it is broken by design and start to protect the innocent developers...</div>
<div class="line">[Thursday 03 March 2011] [03:16:32] &lt;pieterh&gt; eyecue: nice</div>
<div class="line">[Thursday 03 March 2011] [03:16:39] &lt;eyecue&gt;  pieterh; taguchimail :]</div>
<div class="line">[Thursday 03 March 2011] [03:16:39] &lt;sustrik&gt; exactly</div>
<div class="line">[Thursday 03 March 2011] [03:16:43] &lt;eyecue&gt;  in case youre interested</div>
<div class="line">[Thursday 03 March 2011] [03:16:49]    * pieterh goes to check</div>
<div class="line">[Thursday 03 March 2011] [03:17:01] &lt;sustrik&gt; that&#8217;s why we added scary stuff about memory barriers into docs :)</div>
<div class="line">[Thursday 03 March 2011] [03:17:21] &lt;guido_g&gt; obviously didn&#8217;t work</div>
<div class="line">[Thursday 03 March 2011] [03:17:24] &lt;guido_g&gt; ]:-&gt;</div>
<div class="line">[Thursday 03 March 2011] [03:17:27] &lt;eyecue&gt;  i might need to pick some irc brains soon for how i can apply 0mq to our stuff</div>
<div class="line">[Thursday 03 March 2011] [03:17:41] &lt;pieterh&gt; sustrik: problem is that &#8216;memory barriers&#8217; isn&#8217;t very explanatory</div>
<div class="line">[Thursday 03 March 2011] [03:17:47] &lt;guido_g&gt; i&#8217;m available for hire ,)</div>
<div class="line">[Thursday 03 March 2011] [03:17:51] &lt;sustrik&gt; that&#8217;s the point</div>
<div class="line">[Thursday 03 March 2011] [03:18:03] &lt;sustrik&gt; for most people it translates to &#8220;don&#8217;t do this&#8221;</div>
<div class="line">[Thursday 03 March 2011] [03:18:04] &lt;pieterh&gt; sustrik: doesn&#8217;t help to be mysterious</div>
<div class="line">[Thursday 03 March 2011] [03:18:15] &lt;sustrik&gt; which is exactly the message</div>
<div class="line">[Thursday 03 March 2011] [03:18:16] &lt;pieterh&gt; passing sockets from thread to thread is a valid pattern</div>
<div class="line">[Thursday 03 March 2011] [03:18:20] &lt;pieterh&gt; bleh</div>
<div class="line">[Thursday 03 March 2011] [03:18:40] &lt;eyecue&gt;  pieterh; would this sentence make sense: i would get a developer to build a daemon&#8217;able queueing application using the 0mq library and add support for some form of persistant storage?</div>
<div class="line">[Thursday 03 March 2011] [03:19:05] &lt;pieterh&gt; eyecue: depends whom you&#8217;re talking to</div>
<div class="line">[Thursday 03 March 2011] [03:19:05] &lt;sustrik&gt; pieterh: we can remove the memory barrier text</div>
<div class="line">[Thursday 03 March 2011] [03:19:14] &lt;pieterh&gt; sustrik: the explanation needs to be precise</div>
<div class="line">[Thursday 03 March 2011] [03:19:26] &lt;sustrik&gt; but actually, you <em>do</em> have to do the memory barrier</div>
<div class="line">[Thursday 03 March 2011] [03:19:30] &lt;pieterh&gt; you can create a socket in one thread and pass that to another thread</div>
<div class="line">[Thursday 03 March 2011] [03:19:32] &lt;eyecue&gt;  pieterh; in the strictest sense that 0mq is a programming &#8216;library&#8217; which one can use to then build daemons (instead of say a client app)</div>
<div class="line">[Thursday 03 March 2011] [03:19:44] &lt;pieterh&gt; you MUST NOT read/write/close the same socket in multiple threads</div>
<div class="line">[Thursday 03 March 2011] [03:19:49] &lt;sustrik&gt; the thing is that in 99% of cases it&#8217;s done for you</div>
<div class="line">[Thursday 03 March 2011] [03:20:02] &lt;sustrik&gt; so you don&#8217;t have to care about it</div>
<div class="line">[Thursday 03 March 2011] [03:20:02] &lt;eyecue&gt;  pieterh; compared to say your beanstalkd&#8217;s, which implement and provide a daemon out of the box</div>
<div class="line">[Thursday 03 March 2011] [03:20:08] &lt;pieterh&gt; sustrik: not one person has hit a problem related to memory barriers afaics</div>
<div class="line">[Thursday 03 March 2011] [03:20:17] &lt;yrashk&gt;  the proble is that we DON&#8217;T WANT to do this</div>
<div class="line">[Thursday 03 March 2011] [03:20:25] &lt;pieterh&gt; eyecue: yes, 0MQ is a toolkit with which you build frameworks</div>
<div class="line">[Thursday 03 March 2011] [03:20:26] &lt;yrashk&gt;  but we have to deal with the way erlang uses schedulers</div>
<div class="line">[Thursday 03 March 2011] [03:20:28] &lt;sustrik&gt; right, so should we remove the text?</div>
<div class="line">[Thursday 03 March 2011] [03:20:31] &lt;yrashk&gt;  each scheduler is a differnet OS thread</div>
<div class="line">[Thursday 03 March 2011] [03:20:32] &lt;eyecue&gt;  pieterh; ta :]</div>
<div class="line">[Thursday 03 March 2011] [03:20:50] &lt;yrashk&gt;  and we can&#8217;t tell Erlang to use one specific scheduler only</div>
<div class="line">[Thursday 03 March 2011] [03:20:54] &lt;pieterh&gt; eyecue: look at zero.mq/md for an example, that&#8217;s 3-4 days from concept to running code</div>
<div class="line">[Thursday 03 March 2011] [03:21:03] &lt;pieterh&gt; with full APIs etc, and in C</div>
<div class="line">[Thursday 03 March 2011] [03:21:05] &lt;eyecue&gt;  roger that</div>
<div class="line">[Thursday 03 March 2011] [03:21:23] &lt;pieterh&gt; that&#8217;s less time than it takes to <em>learn</em> a conventional messaging API</div>
<div class="line">[Thursday 03 March 2011] [03:21:47] &lt;eyecue&gt;  pieterh; i read the guide last night, and the most intriguing part was the self-healing slash self adapting node network concept</div>
<div class="line">[Thursday 03 March 2011] [03:21:49] &lt;pieterh&gt; sustrik: any text in the docs has to reference people&#8217;s real questions and needs</div>
<div class="line">[Thursday 03 March 2011] [03:22:05] &lt;eyecue&gt;  pieterh; yeh, i got one of our django guys to take a look at 0mq today</div>
<div class="line">[Thursday 03 March 2011] [03:22:14] &lt;pieterh&gt; sustrik: if you like I&#8217;ll review that man page and propose changes</div>
<div class="line">[Thursday 03 March 2011] [03:22:57] &lt;eyecue&gt;  pieterh; i have a particular problem to solve where i dont know what the load of the input system will be ahead of time, nor do i want to care necessarily about the message/payload size (email bodies * mailing list members)</div>
<div class="line">[Thursday 03 March 2011] [03:23:19] &lt;sustrik&gt; sure, give it a try</div>
<div class="line">[Thursday 03 March 2011] [03:23:42] &lt;eyecue&gt;  pieterh; i want to avoid serially queueing campaigns, and i dont really care about fair queueing, so im toying with the concept of an abstract fifo queue per campaign. the issue that i have is the idea that any campaign can &#8216;start&#8217; or be scheduled at any time</div>
<div class="line">[Thursday 03 March 2011] [03:23:47] &lt;pieterh&gt; eyecue: my advice would be to ask here for someone to spend a short time training &amp; helping your team use 0MQ</div>
<div class="line">[Thursday 03 March 2011] [03:23:54] &lt;sustrik&gt; reference should be complete though, so the memory barrier issue should be at least mentioned</div>
<div class="line">[Thursday 03 March 2011] [03:23:58] &lt;eyecue&gt;  pieterh; we&#8217;re in .au, know anyone here? :)</div>
<div class="line">[Thursday 03 March 2011] [03:23:59] &lt;sustrik&gt; maybe in a note?</div>
<div class="line">[Thursday 03 March 2011] [03:24:07] &lt;eyecue&gt;  pieterh; id be more than happy to entertain that idea</div>
<div class="line">[Thursday 03 March 2011] [03:24:53] &lt;eyecue&gt;  <em>reads mdp</em></div>
<div class="line">[Thursday 03 March 2011] [03:25:08] &lt;pieterh&gt; sustrik: do we know anyone in .au?</div>
<div class="line">[Thursday 03 March 2011] [03:25:20] &lt;sustrik&gt; let me see</div>
<div class="line">[Thursday 03 March 2011] [03:25:54] &lt;eyecue&gt;  do you have have an active/developed advocacy network/framework/contact list going?</div>
<div class="line">[Thursday 03 March 2011] [03:26:00] &lt;sustrik&gt; i have kind of vague feeling that we do, but not sure</div>
<div class="line">[Thursday 03 March 2011] [03:26:24] &lt;eyecue&gt;  pieterh; well, apart from taguchimail ;) i may go and pick his brain a bit (since we&#8217;re already paying him)</div>
<div class="line">[Thursday 03 March 2011] [03:26:54] &lt;eyecue&gt;  haha very cute -&gt; The Majordomo pattern has no relation to the open source mailing list software with the same name.</div>
<div class="line">[Thursday 03 March 2011] [03:27:14] &lt;pieterh&gt; eyecue: someone pointed out the risk of confusion</div>
<div class="line">[Thursday 03 March 2011] [03:27:21] &lt;eyecue&gt;  that was me last night :]</div>
<div class="line">[Thursday 03 March 2011] [03:27:24] &lt;eyecue&gt;  too much beer? :]</div>
<div class="line">[Thursday 03 March 2011] [03:27:24] &lt;pieterh&gt; ah!</div>
<div class="line">[Thursday 03 March 2011] [03:27:33] &lt;pieterh&gt; hey, it&#8217;s all one big blur...</div>
<div class="line">[Thursday 03 March 2011] [03:27:41] &lt;eyecue&gt;  amen, and so it should be</div>
<div class="line">[Thursday 03 March 2011] [03:28:18] &lt;eyecue&gt;  actually mdp may well solve for our problem domain</div>
<div class="line">[Thursday 03 March 2011] [03:28:33] &lt;eyecue&gt;  each worker can say how many active campaigns are available to dequeue</div>
<div class="line">[Thursday 03 March 2011] [03:28:48] &lt;eyecue&gt;  it could assign itself one of the &#8216;service names&#8217;</div>
<div class="line">[Thursday 03 March 2011] [03:28:50] &lt;pieterh&gt; eyecue: yes, mdp seems to cover a lot of problems</div>
<div class="line">[Thursday 03 March 2011] [03:28:52] &lt;eyecue&gt;  ensuring a 1:1</div>
<div class="line">[Thursday 03 March 2011] [03:29:01] &lt;sejo&gt;    if I would want to persist all the messages (untill they are processed) what backend would you suggest (need a fast backing)</div>
<div class="line">[Thursday 03 March 2011] [03:29:24] &lt;eyecue&gt;  pieterh; i could then interleave/loadbalance the MTA injection form that point</div>
<div class="line">[Thursday 03 March 2011] [03:29:24] &lt;pieterh&gt; sejo: it&#8217;s not that simple but you might look at Tokyo Cabinet or similar</div>
<div class="line">[Thursday 03 March 2011] [03:29:46] &lt;sejo&gt;    pieterh: tokio cabinet, mongodb, couchdb etc?</div>
<div class="line">[Thursday 03 March 2011] [03:29:57] &lt;eyecue&gt;  hmm, could even spawn new workers based on workload that mdp knows about</div>
<div class="line">[Thursday 03 March 2011] [03:30:09] &lt;eyecue&gt;  id say threadpool, but i only mean in concept.</div>
<div class="line">[Thursday 03 March 2011] [03:30:42] &lt;eyecue&gt;  this may be a kicker though -&gt; Workers are idempotent, i.e. it is safe to execute the same request more than once.</div>
<div class="line">[Thursday 03 March 2011] [03:30:55] &lt;pieterh&gt; eyecue: that&#8217;s a matter of shared database</div>
<div class="line">[Thursday 03 March 2011] [03:30:59] &lt;eyecue&gt;  we need to ensure non-duplicate delivery of mail/messages</div>
<div class="line">[Thursday 03 March 2011] [03:31:02] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 03 March 2011] [03:31:07] &lt;eyecue&gt;  im not sure how it applies, but yeh</div>
<div class="line">[Thursday 03 March 2011] [03:31:12] &lt;guido_g&gt; sejo: redis for speed only, if you have the memory</div>
<div class="line">[Thursday 03 March 2011] [03:31:42] &lt;sejo&gt;    guido_g: needs to be persistable and distributed :p</div>
<div class="line">[Thursday 03 March 2011] [03:31:52] &lt;sejo&gt;    (not that I&#8217;m asking a lot :p)</div>
<div class="line">[Thursday 03 March 2011] [03:32:00] &lt;guido_g&gt; sure, go read</div>
<div class="line">[Thursday 03 March 2011] [03:32:05] &lt;pieterh&gt; sejo: what&#8217;re the performance requirements?</div>
<div class="line">[Thursday 03 March 2011] [03:32:27] &lt;guido_g&gt; sejo: mongodb is quite fast too</div>
<div class="line">[Thursday 03 March 2011] [03:32:30] &lt;pieterh&gt; eyecue: if you&#8217;re up for sponsoring work on MDP and/or broker implementations, drop me a line</div>
<div class="line">[Thursday 03 March 2011] [03:32:36] &lt;sejo&gt;    pieterh: 100-500 reqs a second</div>
<div class="line">[Thursday 03 March 2011] [03:32:43] &lt;sejo&gt;    might even go up</div>
<div class="line">[Thursday 03 March 2011] [03:32:56] &lt;pieterh&gt; sejo: can you wait a week or two? I&#8217;m working on a rust-based reliability pattern</div>
<div class="line">[Thursday 03 March 2011] [03:33:00] &lt;pieterh&gt; fire and forget</div>
<div class="line">[Thursday 03 March 2011] [03:33:08] &lt;eyecue&gt;  pieterh; i was just about to ask you about &#8216;pausing&#8217; queues, or something semantically similar. i note that some of your socket types block or drop, depending on which is chosen, so that may be a way</div>
<div class="line">[Thursday 03 March 2011] [03:33:08] &lt;pieterh&gt; client sends to rust-based broker</div>
<div class="line">[Thursday 03 March 2011] [03:33:20] &lt;pieterh&gt; broker then sends to workers</div>
<div class="line">[Thursday 03 March 2011] [03:33:48] &lt;pieterh&gt; whole thing is brute-force ack&#8217;d</div>
<div class="line">[Thursday 03 March 2011] [03:33:52] &lt;sejo&gt;    cool, looks what I need, but sorry no time for wait (startup here and my money isn&#8217;t unlimited)</div>
<div class="line">[Thursday 03 March 2011] [03:34:24] &lt;pieterh&gt; sejo: where do you want your persistence, in client, or in center?</div>
<div class="line">[Thursday 03 March 2011] [03:34:46] &lt;sejo&gt;    on the broker</div>
<div class="line">[Thursday 03 March 2011] [03:34:52] &lt;pieterh&gt; ugh</div>
<div class="line">[Thursday 03 March 2011] [03:34:56] &lt;pieterh&gt; that&#8217;s the worst choice</div>
<div class="line">[Thursday 03 March 2011] [03:34:59] &lt;sejo&gt;    worker should just execute and send results</div>
<div class="line">[Thursday 03 March 2011] [03:35:12] &lt;pieterh&gt; so the problem here is that when you want the broker to hold the state</div>
<div class="line">[Thursday 03 March 2011] [03:35:35] &lt;sejo&gt;    well not much states just a group of key-value&#8217;s</div>
<div class="line">[Thursday 03 March 2011] [03:35:50] &lt;eyecue&gt;  im out, thanks for the help pieter</div>
<div class="line">[Thursday 03 March 2011] [03:35:50] &lt;pieterh&gt; you need extra work to speak to that state reliably</div>
<div class="line">[Thursday 03 March 2011] [03:35:54] &lt;pieterh&gt; eyecue: ciao</div>
<div class="line">[Thursday 03 March 2011] [03:36:07] &lt;pieterh&gt; sejo: if you place the persistence in the client API, for example</div>
<div class="line">[Thursday 03 March 2011] [03:36:13] &lt;pieterh&gt; you can use dumb brokers</div>
<div class="line">[Thursday 03 March 2011] [03:37:26] &lt;sejo&gt;    ok, basicly i need a group of brokers (that share data) which is pulled by workers, the same workers will push new tasks generated from the result to the broker. State is kept in worker, the minute it reaches the broker, only the messagedata is state</div>
<div class="line">[Thursday 03 March 2011] [03:37:54] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 03 March 2011] [03:38:05] &lt;sejo&gt;    btw redis is master-slave</div>
<div class="line">[Thursday 03 March 2011] [03:39:37] &lt;pieterh&gt; sustrik: random question about style</div>
<div class="line">[Thursday 03 March 2011] [03:39:38] &lt;sejo&gt;    couchdb is master:master</div>
<div class="line">[Thursday 03 March 2011] [03:39:45] &lt;pieterh&gt; the man pages are written in the form of specifications</div>
<div class="line">[Thursday 03 March 2011] [03:39:51] &lt;pieterh&gt; (which is excellent IMO)</div>
<div class="line">[Thursday 03 March 2011] [03:40:27] &lt;pieterh&gt; to make this more contractual, we could use <a class="reference external" href="http://tools.ietf.org/html/rfc2119">http://tools.ietf.org/html/rfc2119</a></div>
<div class="line">[Thursday 03 March 2011] [03:41:00] &lt;pieterh&gt; e.g. &#8220;Applications MAY create a socket in one thread with _zmq_socket()_ and then pass it to a _newly <a href="#id219"><span class="problematic" id="id220">created_</span></a> thread as part of thread initialization, for example via a structure passed as an argument to _pthread_create()_. Applications MUST NOT do stupid stuff.&#8221;</div>
<div class="line">[Thursday 03 March 2011] [03:44:59] &lt;sejo&gt;    nice did you guys use couchdb already?</div>
<div class="line">[Thursday 03 March 2011] [03:45:07] &lt;sejo&gt;    looks pretty good</div>
<div class="line">[Thursday 03 March 2011] [03:45:11]    * sejo plays with it</div>
<div class="line">[Thursday 03 March 2011] [03:47:11]    * sejo just fell in love</div>
<div class="line">[Thursday 03 March 2011] [03:54:24] &lt;pieterh&gt; sustrik: ok, patch to zmq_socket sent</div>
<div class="line">[Thursday 03 March 2011] [03:54:30] &lt;pieterh&gt; that should help IMO</div>
<div class="line">[Thursday 03 March 2011] [03:56:54] &lt;djc&gt;     sejo: couchdb is awesome, we use it a lot at work</div>
<div class="line">[Thursday 03 March 2011] [03:57:10] &lt;sejo&gt;    djc: Yeah going to use it also</div>
<div class="line">[Thursday 03 March 2011] [03:57:25] &lt;sejo&gt;    already started playing with it :p</div>
<div class="line">[Thursday 03 March 2011] [03:57:27] &lt;sejo&gt;    =80</div>
<div class="line">[Thursday 03 March 2011] [03:58:04] &lt;sustrik&gt; pieterh: does that help in any way?</div>
<div class="line">[Thursday 03 March 2011] [03:58:13] &lt;sustrik&gt; it doesn&#8217;t answer yrashk&#8217;s question</div>
<div class="line">[Thursday 03 March 2011] [03:58:13] &lt;pieterh&gt; does what help?</div>
<div class="line">[Thursday 03 March 2011] [03:58:17] &lt;sustrik&gt; the patch</div>
<div class="line">[Thursday 03 March 2011] [03:58:31] &lt;pieterh&gt; what&#8217;s yrashk&#8217;s question? sorry, I missed something</div>
<div class="line">[Thursday 03 March 2011] [03:58:43] &lt;sustrik&gt; the one that started the disussion</div>
<div class="line">[Thursday 03 March 2011] [03:58:56] &lt;sustrik&gt; whether sockets can be used from 2 threads</div>
<div class="line">[Thursday 03 March 2011] [03:59:04] &lt;pieterh&gt; &#8221; can you or can you not use sockets in diff threads?&#8221;</div>
<div class="line">[Thursday 03 March 2011] [03:59:15] &lt;pieterh&gt; I think the patch makes this very clear</div>
<div class="line">[Thursday 03 March 2011] [03:59:16] &lt;sustrik&gt; then the argument was that speaking about memory barriers is not clear</div>
<div class="line">[Thursday 03 March 2011] [03:59:18] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 03 March 2011] [03:59:25] &lt;pieterh&gt; the man page started by talking about contexts</div>
<div class="line">[Thursday 03 March 2011] [03:59:38] &lt;pieterh&gt; now it says &#8220;sockets are not thread safe. period&#8221;.</div>
<div class="line">[Thursday 03 March 2011] [03:59:41] &lt;sustrik&gt; and that haven&#8217;t changed</div>
<div class="line">[Thursday 03 March 2011] [04:00:04] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 03 March 2011] [04:00:05] &lt;sustrik&gt; +0MQ &#8216;sockets&#8217; are _not_ thread safe. Applications MAY create a socket in one</div>
<div class="line">[Thursday 03 March 2011] [04:00:05] &lt;sustrik&gt; +thread with _zmq_socket()_ and then pass it to a _newly <a href="#id221"><span class="problematic" id="id222">created_</span></a> thread as</div>
<div class="line">[Thursday 03 March 2011] [04:00:05] &lt;sustrik&gt; +part of thread initialization, for example via a structure passed as an</div>
<div class="line">[Thursday 03 March 2011] [04:00:09] &lt;sustrik&gt; +argument to _pthread_create()_. Applications MUST NOT otherwise use a socket</div>
<div class="line">[Thursday 03 March 2011] [04:00:10] &lt;sustrik&gt; +from multiple threads except after migrating a socket from one thread to</div>
<div class="line">[Thursday 03 March 2011] [04:00:13] &lt;sustrik&gt; +another with a &#8220;full fence&#8221; memory barrier.</div>
<div class="line">[Thursday 03 March 2011] [04:00:18] &lt;pieterh&gt; the first sentence is the most important</div>
<div class="line">[Thursday 03 March 2011] [04:00:30] &lt;sustrik&gt; yep, that&#8217;s ok</div>
<div class="line">[Thursday 03 March 2011] [04:00:35] &lt;pieterh&gt; the second sentence provides the ONE valid use case</div>
<div class="line">[Thursday 03 March 2011] [04:00:41] &lt;pieterh&gt; the third sentence explains it for those who care</div>
<div class="line">[Thursday 03 March 2011] [04:00:51] &lt;pieterh&gt; and fourth, some bla blah about contexts</div>
<div class="line">[Thursday 03 March 2011] [04:00:55] &lt;sustrik&gt; why singling out one valid use case?</div>
<div class="line">[Thursday 03 March 2011] [04:01:01] &lt;pieterh&gt; it&#8217;s the only one I know of</div>
<div class="line">[Thursday 03 March 2011] [04:01:07] &lt;pieterh&gt; for normal apps</div>
<div class="line">[Thursday 03 March 2011] [04:01:07] &lt;sustrik&gt; that&#8217;s more of a guide stuff</div>
<div class="line">[Thursday 03 March 2011] [04:01:22] &lt;pieterh&gt; that was already in the man page... I just trimmed it a little</div>
<div class="line">[Thursday 03 March 2011] [04:01:39] &lt;pieterh&gt; plus it really does need to be there</div>
<div class="line">[Thursday 03 March 2011] [04:01:56] &lt;guido_g&gt; ha! client just passed first send unittest</div>
<div class="line">[Thursday 03 March 2011] [04:01:58] &lt;sustrik&gt; you mean the memory barrier stuff?</div>
<div class="line">[Thursday 03 March 2011] [04:02:00] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [04:02:15] &lt;sustrik&gt; the one use case should be moved to guide imo</div>
<div class="line">[Thursday 03 March 2011] [04:02:20] &lt;pieterh&gt; sustrik: please, no</div>
<div class="line">[Thursday 03 March 2011] [04:02:30] &lt;pieterh&gt; don&#8217;t make life harder for users than it has to be</div>
<div class="line">[Thursday 03 March 2011] [04:02:50] &lt;pieterh&gt; i agree that this is explanatory and not a specification</div>
<div class="line">[Thursday 03 March 2011] [04:02:59] &lt;pieterh&gt; but this is so important for MT apps</div>
<div class="line">[Thursday 03 March 2011] [04:03:11] &lt;pieterh&gt; you can&#8217;t afford to hide it somewhere in a 1000-page book</div>
<div class="line">[Thursday 03 March 2011] [04:03:19] &lt;sustrik&gt; i mean there are many use cases, so singling one of them out gives wrong impression</div>
<div class="line">[Thursday 03 March 2011] [04:03:24] &lt;sustrik&gt; what about making it an example?</div>
<div class="line">[Thursday 03 March 2011] [04:03:25] &lt;pieterh&gt; there are not many use cases!</div>
<div class="line">[Thursday 03 March 2011] [04:03:28] &lt;pieterh&gt; sorry,</div>
<div class="line">[Thursday 03 March 2011] [04:03:33] &lt;pieterh&gt; that&#8217;s just not accurate</div>
<div class="line">[Thursday 03 March 2011] [04:03:57] &lt;pieterh&gt; i&#8217;ve hit precisely one, in 40-50 examples that cover every angle</div>
<div class="line">[Thursday 03 March 2011] [04:04:06] &lt;pieterh&gt; you may imagine use cases, that&#8217;s not the same</div>
<div class="line">[Thursday 03 March 2011] [04:04:27] &lt;sustrik&gt; garbage collecting the socket is pretty common</div>
<div class="line">[Thursday 03 March 2011] [04:04:30] &lt;pieterh&gt; if you fix the inproc connect/bind issue, this use case disapepars</div>
<div class="line">[Thursday 03 March 2011] [04:04:33] &lt;pieterh&gt; <a href="#id15"><span class="problematic" id="id16">*</span></a>disappears</div>
<div class="line">[Thursday 03 March 2011] [04:04:47] &lt;pieterh&gt; that would be ideal IMO</div>
<div class="line">[Thursday 03 March 2011] [04:05:05] &lt;pieterh&gt; only 5 people, globally, will ever write a socket garbage collector</div>
<div class="line">[Thursday 03 March 2011] [04:05:17] &lt;pieterh&gt; maybe 10, ever</div>
<div class="line">[Thursday 03 March 2011] [04:05:24] &lt;sustrik&gt; wait a sec, you are saying that this use case is <em>necessary</em>?</div>
<div class="line">[Thursday 03 March 2011] [04:05:27] &lt;sustrik&gt; how so?</div>
<div class="line">[Thursday 03 March 2011] [04:05:28] &lt;pieterh&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [04:05:34] &lt;sustrik&gt; you can pass context to the other thread</div>
<div class="line">[Thursday 03 March 2011] [04:05:39] &lt;pieterh&gt; because there&#8217;s no other way to create a working inproc socket pair</div>
<div class="line">[Thursday 03 March 2011] [04:05:40] &lt;sustrik&gt; and create the socket there</div>
<div class="line">[Thursday 03 March 2011] [04:05:41] &lt;sustrik&gt; no?</div>
<div class="line">[Thursday 03 March 2011] [04:05:44] &lt;pieterh&gt; due to the bind/connect issue</div>
<div class="line">[Thursday 03 March 2011] [04:05:53] &lt;pieterh&gt; sustrik: have you read the Guide?</div>
<div class="line">[Thursday 03 March 2011] [04:05:57] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [04:06:03] &lt;pieterh&gt; read it again until you understand 0MQ</div>
<div class="line">[Thursday 03 March 2011] [04:06:06] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 03 March 2011] [04:06:09] &lt;pieterh&gt; heh</div>
<div class="line">[Thursday 03 March 2011] [04:06:15] &lt;sustrik&gt; what&#8217;s wrong with this:</div>
<div class="line">[Thursday 03 March 2011] [04:06:26] &lt;sustrik&gt; c = context()</div>
<div class="line">[Thursday 03 March 2011] [04:06:35] &lt;sustrik&gt; s = socket (c);</div>
<div class="line">[Thursday 03 March 2011] [04:06:44] &lt;sustrik&gt; s.bind (...);</div>
<div class="line">[Thursday 03 March 2011] [04:06:57] &lt;sustrik&gt; pthread_create (c);</div>
<div class="line">[Thursday 03 March 2011] [04:07:02] &lt;sustrik&gt; and in the worker thread:</div>
<div class="line">[Thursday 03 March 2011] [04:07:06] &lt;sustrik&gt; s = socket(c);</div>
<div class="line">[Thursday 03 March 2011] [04:07:09] &lt;sustrik&gt; s.connect (...)</div>
<div class="line">[Thursday 03 March 2011] [04:07:11] &lt;pieterh&gt; the example in the Guide has 3 stages</div>
<div class="line">[Thursday 03 March 2011] [04:07:51] &lt;sustrik&gt; same thing, no?</div>
<div class="line">[Thursday 03 March 2011] [04:08:10] &lt;pieterh&gt; let me double check</div>
<div class="line">[Thursday 03 March 2011] [04:08:21] &lt;pieterh&gt; if there is a valid pattern, this use case disappears</div>
<div class="line">[Thursday 03 March 2011] [04:09:23] &lt;pieterh&gt; ok, you&#8217;re right afaics</div>
<div class="line">[Thursday 03 March 2011] [04:09:33] &lt;pieterh&gt; bind before creating child threads</div>
<div class="line">[Thursday 03 March 2011] [04:09:59] &lt;pieterh&gt; I need to change some stuff in the guide</div>
<div class="line">[Thursday 03 March 2011] [04:10:25] &lt;pieterh&gt; we can indeed remove that example from the man page... hang on a sec then...</div>
<div class="line">[Thursday 03 March 2011] [04:12:38] &lt;pieterh&gt; sustrik: patch sent, this is much cleaner</div>
<div class="line">[Thursday 03 March 2011] [04:12:51] &lt;sustrik&gt; ok, thanks</div>
<div class="line">[Thursday 03 March 2011] [04:12:57]    * pieterh enjoys learning new stuff about 0MQ</div>
<div class="line">[Thursday 03 March 2011] [04:13:48] &lt;sustrik&gt; pieterh: you&#8217;ve sent the old patch i think</div>
<div class="line">[Thursday 03 March 2011] [04:14:04] &lt;sustrik&gt; looks the same</div>
<div class="line">[Thursday 03 March 2011] [04:14:40] &lt;pieterh&gt; git did something... hang on</div>
<div class="line">[Thursday 03 March 2011] [04:15:39] &lt;pieterh&gt; weird, git produces the wrong patch</div>
<div class="line">[Thursday 03 March 2011] [04:16:38] &lt;sustrik&gt; never mind, i can do it myself</div>
<div class="line">[Thursday 03 March 2011] [04:16:46] &lt;sustrik&gt; it&#8217;s just reversing two paragraphs</div>
<div class="line">[Thursday 03 March 2011] [04:16:49] &lt;pieterh&gt; sigh, just use this paragraph:</div>
<div class="line">[Thursday 03 March 2011] [04:16:51] &lt;sustrik&gt; and adding a period</div>
<div class="line">[Thursday 03 March 2011] [04:16:53] &lt;sustrik&gt; right?</div>
<div class="line">[Thursday 03 March 2011] [04:16:53] &lt;pieterh&gt; 0MQ &#8216;sockets&#8217; are _not_ thread safe. Applications MUST NOT use a socket</div>
<div class="line">[Thursday 03 March 2011] [04:16:53] &lt;pieterh&gt; from multiple threads except after migrating a socket from one thread to</div>
<div class="line">[Thursday 03 March 2011] [04:16:53] &lt;pieterh&gt; another with a &#8220;full fence&#8221; memory barrier.</div>
<div class="line">[Thursday 03 March 2011] [04:16:59] &lt;pieterh&gt; and move the context stuff below</div>
<div class="line">[Thursday 03 March 2011] [04:17:10] &lt;pieterh&gt; i forgot a &#8216;git add&#8217;</div>
<div class="line">[Thursday 03 March 2011] [04:17:27] &lt;pieterh&gt; too many little bitty steps</div>
<div class="line">[Thursday 03 March 2011] [04:18:03] &lt;pieterh&gt; BTW &#8220;full fence&#8221; is the proper jargon afaics</div>
<div class="line">[Thursday 03 March 2011] [04:18:33] &lt;sustrik&gt; possibly</div>
<div class="line">[Thursday 03 March 2011] [04:18:51] &lt;sustrik&gt; btw, we&#8217;ve changed the wording a bit</div>
<div class="line">[Thursday 03 March 2011] [04:19:00] &lt;sustrik&gt; but haven&#8217;t addressed the original issue</div>
<div class="line">[Thursday 03 March 2011] [04:19:10] &lt;sustrik&gt; that speaking about &#8216;fences&#8217; is mysterious</div>
<div class="line">[Thursday 03 March 2011] [04:19:15] &lt;sustrik&gt; rather than helpful</div>
<div class="line">[Thursday 03 March 2011] [04:19:21] &lt;pieterh&gt; the question was &#8216;are sockets thread safe&#8217;?</div>
<div class="line">[Thursday 03 March 2011] [04:19:30] &lt;pieterh&gt; and the answer is &#8216;no&#8217;... how is that not answering it?</div>
<div class="line">[Thursday 03 March 2011] [04:19:50] &lt;sustrik&gt; the docs said so even before</div>
<div class="line">[Thursday 03 March 2011] [04:19:57] &lt;pieterh&gt; they hid that in a lot of other text</div>
<div class="line">[Thursday 03 March 2011] [04:20:03] &lt;pieterh&gt; obviously people didn&#8217;t see it clearly</div>
<div class="line">[Thursday 03 March 2011] [04:20:48] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 03 March 2011] [04:20:51] &lt;sustrik&gt; the period helps</div>
<div class="line">[Thursday 03 March 2011] [04:21:22] &lt;pieterh&gt; shrug, I&#8217;m not sure what you&#8217;re asking, yrashk&#8217;s question was clear, and it seems clear the man page had way too much wrapping around the essential statement, &#8220;don&#8217;t do it, but if you must, use full fence memory barriers&#8221;</div>
<div class="line">[Thursday 03 March 2011] [04:23:45] &lt;sustrik&gt; well, the only real change seems to be the period; what i&#8217;m asking is: should it say something like &#8220;you can use socket from multiple threads given you synchronise the access&#8221;</div>
<div class="line">[Thursday 03 March 2011] [04:24:11] &lt;pieterh&gt; people will start using mutexes all over the place</div>
<div class="line">[Thursday 03 March 2011] [04:24:14] &lt;sustrik&gt; it&#8217;s antipattern in most cases, but technically, the statement is sound</div>
<div class="line">[Thursday 03 March 2011] [04:24:19] &lt;sustrik&gt; exactly</div>
<div class="line">[Thursday 03 March 2011] [04:24:55] &lt;sustrik&gt; that was the original discussion, whether it&#8217;s ok to scare people using terms like &#8220;memory barrier&#8221;</div>
<div class="line">[Thursday 03 March 2011] [04:25:07] &lt;sustrik&gt; or rather be technically precise</div>
<div class="line">[Thursday 03 March 2011] [04:25:12] &lt;pieterh&gt; i don&#8217;t think fear is a valid tool</div>
<div class="line">[Thursday 03 March 2011] [04:25:17] &lt;pieterh&gt; this is a contract</div>
<div class="line">[Thursday 03 March 2011] [04:25:28] &lt;pieterh&gt; it should simply state what is allowed, and what is not</div>
<div class="line">[Thursday 03 March 2011] [04:25:59] &lt;sustrik&gt; ok, then it should be &#8220;you can use socket from multiple threads given you synchronise the access&#8221;</div>
<div class="line">[Thursday 03 March 2011] [04:26:22] &lt;sustrik&gt; that&#8217;s more comprehensible than memory barrier stuff</div>
<div class="line">[Thursday 03 March 2011] [04:26:23] &lt;pieterh&gt; every contract aims to force the signer to behave in some way</div>
<div class="line">[Thursday 03 March 2011] [04:26:39] &lt;pieterh&gt; look, we don&#8217;t want people to share sockets between threads, period</div>
<div class="line">[Thursday 03 March 2011] [04:26:45] &lt;pieterh&gt; it&#8217;s the cause of repeated failures</div>
<div class="line">[Thursday 03 March 2011] [04:27:04] &lt;sustrik&gt; ok, good</div>
<div class="line">[Thursday 03 March 2011] [04:27:04] &lt;pieterh&gt; we see one or two bizarre 0MQ crash reports a week due to this</div>
<div class="line">[Thursday 03 March 2011] [04:27:18]    * sustrik has no strong opinion on this matter</div>
<div class="line">[Thursday 03 March 2011] [04:28:23]    * pieterh wants to steer people away from misusing the tool</div>
<div class="line">[Thursday 03 March 2011] [04:34:53] &lt;pieterh&gt; I&#8217;m ripping out all explanation of socket migration from the guide, we&#8217;ll use the pattern you explained, bind before starting child thread</div>
<div class="line">[Thursday 03 March 2011] [04:49:33] &lt;sejo&gt;    if you have a zmq.PULL and recv() something, is it possible to know what worker sent that?</div>
<div class="line">[Thursday 03 March 2011] [04:49:59] &lt;pieterh&gt; sejo: you have to add the information yourself to the message</div>
<div class="line">[Thursday 03 March 2011] [04:50:14] &lt;pieterh&gt; otherwise, use a ROUTER (XREP) socket instead</div>
<div class="line">[Thursday 03 March 2011] [04:50:16] &lt;sejo&gt;    pieterh: ok good! thanks!</div>
<div class="line">[Thursday 03 March 2011] [04:50:30] &lt;sejo&gt;    I think it&#8217;ll be better to put it in the message</div>
<div class="line">[Thursday 03 March 2011] [04:52:49] &lt;pieterh&gt; sustrik: so, I&#8217;ve removed all examples of socket migration from the guide</div>
<div class="line">[Thursday 03 March 2011] [04:53:09] &lt;pieterh&gt; your pattern is actually much clearer and simpler than passing sockets around</div>
<div class="line">[Thursday 03 March 2011] [05:03:47] &lt;sustrik&gt; ok, good</div>
<div class="line">[Thursday 03 March 2011] [05:03:56] &lt;sustrik&gt; i&#8217;ll update the reference accordingly</div>
<div class="line">[Thursday 03 March 2011] [05:19:54]    * guido_g is going offline, getting new internet! :)</div>
<div class="line">[Thursday 03 March 2011] [05:58:08] &lt;guido_g&gt; re with new internet :)</div>
<div class="line">[Thursday 03 March 2011] [06:03:26] &lt;pieterh&gt; sustrik: is there any recommended way to trap Ctrl-C in a 0MQ program (C++ or C)?</div>
<div class="line">[Thursday 03 March 2011] [06:04:22] &lt;sustrik&gt; standard C way</div>
<div class="line">[Thursday 03 March 2011] [06:04:27] &lt;sustrik&gt; no specifics</div>
<div class="line">[Thursday 03 March 2011] [06:04:40] &lt;pieterh&gt; ok, I&#8217;ll give it a shot...</div>
<div class="line">[Thursday 03 March 2011] [06:16:58] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * r97add1e 10/ (doc/zmq_init.txt doc/zmq_socket.txt):</div>
<div class="line">[Thursday 03 March 2011] [06:16:58] &lt;CIA-21&gt;  zeromq2: Documentation wrt thread-safety cleaned up.</div>
<div class="line">[Thursday 03 March 2011] [06:16:58] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/dLdfr0">http://bit.ly/dLdfr0</a></div>
<div class="line">[Thursday 03 March 2011] [06:25:32] &lt;pieterh&gt; sustrik: cool, signal handling works perfectly to shut down 0MQ...</div>
<div class="line">[Thursday 03 March 2011] [06:25:39] &lt;pieterh&gt; I&#8217;ll document it, it&#8217;s simple and clean</div>
<div class="line">[Thursday 03 March 2011] [06:38:28] &lt;sejo&gt;    hmm I created a small zmq.PULL and try to send with telnet a message to it... when debugging it it never gets to recv()</div>
<div class="line">[Thursday 03 March 2011] [06:38:51] &lt;AlexB&gt;   Hello. :) I&#8217;ve found an issue with having inproc sockets that are bound but without any connected end-point. With recent versions of ZeroMQ and PyZMQ, closing a context with socket like that hangs. Here&#8217;s a short test-case: <a class="reference external" href="https://gist.github.com/852644">https://gist.github.com/852644</a></div>
<div class="line">[Thursday 03 March 2011] [06:39:33] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * r184bdb8 10/ src/xrep.cpp :</div>
<div class="line">[Thursday 03 March 2011] [06:39:33] &lt;CIA-21&gt;  zeromq2: Bug caused by interaction of REQ/REP routing and HWM fixed.</div>
<div class="line">[Thursday 03 March 2011] [06:39:33] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ec5ykN">http://bit.ly/ec5ykN</a></div>
<div class="line">[Thursday 03 March 2011] [06:39:39] &lt;guido_g&gt; sejo: mq does have its own wire-format</div>
<div class="line">[Thursday 03 March 2011] [06:40:01] &lt;sejo&gt;    guido_g: ach ok, so i&#8217;d better write my client then :p</div>
<div class="line">[Thursday 03 March 2011] [06:40:04] &lt;sejo&gt;    thanks!</div>
<div class="line">[Thursday 03 March 2011] [06:40:31] &lt;pieterh&gt; AlexB: this is a known issue</div>
<div class="line">[Thursday 03 March 2011] [06:40:40] &lt;pieterh&gt; you need to close the socket before closing the context</div>
<div class="line">[Thursday 03 March 2011] [06:46:25] &lt;AlexB&gt;   I see. I found it in the docs now.</div>
<div class="line">[Thursday 03 March 2011] [06:46:53] &lt;AlexB&gt;   Thanks. :)</div>
<div class="line">[Thursday 03 March 2011] [06:50:37] &lt;pieterh&gt; sustrik: can 184bdb8 go to 2.0.x?</div>
<div class="line">[Thursday 03 March 2011] [06:52:11] &lt;sustrik&gt; yes, if applicable</div>
<div class="line">[Thursday 03 March 2011] [06:53:32] &lt;pieterh&gt; :-) do you really trust me to figure that out and make the change?</div>
<div class="line">[Thursday 03 March 2011] [06:53:45] &lt;pieterh&gt; the code in xrep.cpp looks similar enough</div>
<div class="line">[Thursday 03 March 2011] [06:54:07] &lt;pieterh&gt; but I&#8217;m not comfortable backporting patches that I did not write myself</div>
<div class="line">[Thursday 03 March 2011] [06:54:44] &lt;private_meta&gt;    pieterh: hmm... renaming the .c files to .class somewhat broke online viewing on github :/</div>
<div class="line">[Thursday 03 March 2011] [06:54:51] &lt;sustrik&gt; this is why i said maintaining a stable branch needs a dedicated person :)</div>
<div class="line">[Thursday 03 March 2011] [06:55:18] &lt;pieterh&gt; sustrik: the process can work fine if we are consistent about patch flow</div>
<div class="line">[Thursday 03 March 2011] [06:55:29] &lt;pieterh&gt; i.e. anyone wants a patch to version X they send it</div>
<div class="line">[Thursday 03 March 2011] [06:55:43] &lt;pieterh&gt; separate the work of making the release, and making the code</div>
<div class="line">[Thursday 03 March 2011] [06:55:52] &lt;pieterh&gt; it should be two separate hats / people</div>
<div class="line">[Thursday 03 March 2011] [06:56:28] &lt;pieterh&gt; imagine it&#8217;s not you...</div>
<div class="line">[Thursday 03 March 2011] [06:56:51] &lt;pieterh&gt; who would be best to backport OpenPGM 5 support to 2.0?</div>
<div class="line">[Thursday 03 March 2011] [06:57:06] &lt;pieterh&gt; clearly, the person who made that work in 2.1</div>
<div class="line">[Thursday 03 March 2011] [06:57:30] &lt;pieterh&gt; private_meta: well, you were the one trying to compile these classes</div>
<div class="line">[Thursday 03 March 2011] [06:57:32] &lt;guido_g&gt; private_meta: i bet that&#8217;s because .class files are compiled .java files</div>
<div class="line">[Thursday 03 March 2011] [06:57:41] &lt;pieterh&gt; lol java</div>
<div class="line">[Thursday 03 March 2011] [06:58:13] &lt;pieterh&gt; private_meta: indeed, nothing shows at all... :-/</div>
<div class="line">[Thursday 03 March 2011] [06:58:33] &lt;guido_g&gt; so another rename...</div>
<div class="line">[Thursday 03 March 2011] [06:58:40] &lt;pieterh&gt; ok, alternate suggestions?</div>
<div class="line">[Thursday 03 March 2011] [06:58:42] &lt;private_meta&gt;    pieterh: Well, I wouldn&#8217;t mind just &#8221;.h&#8221;</div>
<div class="line">[Thursday 03 March 2011] [06:58:52] &lt;private_meta&gt;    if it were c++, I&#8217;d go with &#8221;.hpp&#8221; with those classes</div>
<div class="line">[Thursday 03 March 2011] [06:59:11] &lt;pieterh&gt; i suppose it&#8217;s consistent with zhelpers.h</div>
<div class="line">[Thursday 03 March 2011] [06:59:20] &lt;private_meta&gt;    It would be, yes</div>
<div class="line">[Thursday 03 March 2011] [06:59:42] &lt;pieterh&gt; sigh, &#8216;clever&#8217; software...</div>
<div class="line">[Thursday 03 March 2011] [07:00:24] &lt;private_meta&gt;    heh</div>
<div class="line">[Thursday 03 March 2011] [07:00:30] &lt;guido_g&gt; hehe</div>
<div class="line">[Thursday 03 March 2011] [07:00:47] &lt;pieterh&gt; sustrik: if you want that patch to go into 2.0.11 (which it should IMO), please spend 2 minutes at <a class="reference external" href="https://github.com/zeromq/zeromq2-0/blob/master/src/xrep.cpp">https://github.com/zeromq/zeromq2-0/blob/master/src/xrep.cpp</a></div>
<div class="line">[Thursday 03 March 2011] [07:00:59] &lt;pieterh&gt; it&#8217;s not going to work if you ask the release maintainer to do backports</div>
<div class="line">[Thursday 03 March 2011] [07:01:16] &lt;pieterh&gt; (a) I refuse, it would be insane, and (b) it&#8217;s impossible if you have a real community of developers</div>
<div class="line">[Thursday 03 March 2011] [07:01:43] &lt;pieterh&gt; just like you ask contributors to provide you with patches, I&#8217;m asking you</div>
<div class="line">[Thursday 03 March 2011] [07:01:47] &lt;pieterh&gt; pretty please</div>
<div class="line">[Thursday 03 March 2011] [07:07:40] &lt;sustrik&gt; well, i don&#8217;t have resources to maintain 3 branches, sorry</div>
<div class="line">[Thursday 03 March 2011] [07:07:49] &lt;sustrik&gt; i&#8217;ve warned you</div>
<div class="line">[Thursday 03 March 2011] [07:12:30] &lt;pieterh&gt; this is not about maintaining branches, martin</div>
<div class="line">[Thursday 03 March 2011] [07:12:42] &lt;pieterh&gt; it&#8217;s about how we backport changes when we have N contributors and N release versions</div>
<div class="line">[Thursday 03 March 2011] [07:12:57] &lt;pieterh&gt; did you understand my example of OpenPGM?</div>
<div class="line">[Thursday 03 March 2011] [07:13:09] &lt;pieterh&gt; if you want this to scale, it&#8217;s the only way I can see</div>
<div class="line">[Thursday 03 March 2011] [07:13:52] &lt;pieterh&gt; it&#8217;s literally two minutes for you, you know the code perfectly, it&#8217;s a 10-line patch</div>
<div class="line">[Thursday 03 March 2011] [07:14:10] &lt;pieterh&gt; and I take care of delivering that to the user community</div>
<div class="line">[Thursday 03 March 2011] [07:14:26] &lt;pieterh&gt; but if you comingle these two tasks, there will never be properly maintained stable releases</div>
<div class="line">[Thursday 03 March 2011] [07:14:28] &lt;pieterh&gt; period</div>
<div class="line">[Thursday 03 March 2011] [07:14:54] &lt;pieterh&gt; do you have another suggestion?</div>
<div class="line">[Thursday 03 March 2011] [07:15:58] &lt;sustrik&gt; it&#8217;s not a 2 minute work</div>
<div class="line">[Thursday 03 March 2011] [07:16:15] &lt;sustrik&gt; the code has changed in the meanwhile and works somewhat differentlu</div>
<div class="line">[Thursday 03 March 2011] [07:16:31] &lt;sustrik&gt; so it needs, careful patching, testing etc.</div>
<div class="line">[Thursday 03 March 2011] [07:16:35] &lt;sustrik&gt; backporting is hard work</div>
<div class="line">[Thursday 03 March 2011] [07:16:46] &lt;pieterh&gt; this is perfectly acceptable as an answer</div>
<div class="line">[Thursday 03 March 2011] [07:16:48] &lt;pieterh&gt; &#8220;no&#8221;</div>
<div class="line">[Thursday 03 March 2011] [07:18:00] &lt;pieterh&gt; you have two sets of people, those able to make release packages (follow procedures perfectly) and those able to backport patches</div>
<div class="line">[Thursday 03 March 2011] [07:18:14] &lt;pieterh&gt; the intersection of those two sets is close to zero, if not literally zero</div>
<div class="line">[Thursday 03 March 2011] [07:18:20] &lt;pieterh&gt; that&#8217;s the major issue here</div>
<div class="line">[Thursday 03 March 2011] [07:18:33] &lt;Steve-o&gt; :O</div>
<div class="line">[Thursday 03 March 2011] [07:18:58] &lt;pieterh&gt; in the 0MQ world, specifically</div>
<div class="line">[Thursday 03 March 2011] [07:19:26] &lt;Steve-o&gt; backporting networking code is hard and tedious work</div>
<div class="line">[Thursday 03 March 2011] [07:19:32] &lt;jsimmons&gt;        backporting sucks everywhere</div>
<div class="line">[Thursday 03 March 2011] [07:19:33] &lt;pieterh&gt; it gets much worse if you consider a &#8216;release&#8217; to include multiple projects</div>
<div class="line">[Thursday 03 March 2011] [07:19:56] &lt;Steve-o&gt; I did it once for you guys with pgm 5.0, not again :/</div>
<div class="line">[Thursday 03 March 2011] [07:20:25] &lt;jsimmons&gt;        forwardport dont go backwards :D</div>
<div class="line">[Thursday 03 March 2011] [07:20:50] &lt;Steve-o&gt; I only maintain critical fixes to old branches now</div>
<div class="line">[Thursday 03 March 2011] [07:20:52] &lt;pieterh&gt; well, the way I see it, someone <em>wants</em> fix X on version Y</div>
<div class="line">[Thursday 03 March 2011] [07:20:59] &lt;pieterh&gt; customer needs it, perhaps</div>
<div class="line">[Thursday 03 March 2011] [07:21:05] &lt;pieterh&gt; so the backport has an economic basis</div>
<div class="line">[Thursday 03 March 2011] [07:21:20] &lt;Steve-o&gt; which is what support contracts are about</div>
<div class="line">[Thursday 03 March 2011] [07:21:24] &lt;pieterh&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [07:22:06] &lt;pieterh&gt; my goal with 2.0 and 2.1 is to accept and manage backports provided by people who <em>want</em> them to be in a specific released version</div>
<div class="line">[Thursday 03 March 2011] [07:22:55] &lt;pieterh&gt; so, sustrik, my question was really &#8220;do you <em>want</em> 184bdb8 to go into 2.0.x?&#8221;</div>
<div class="line">[Thursday 03 March 2011] [07:24:08] &lt;Guthur&gt;  surely it a customer wants a new feature you say &#8216;upgrade&#8217;</div>
<div class="line">[Thursday 03 March 2011] [07:27:11] &lt;Steve-o&gt; Looks like mikko not about today?</div>
<div class="line">[Thursday 03 March 2011] [07:30:07] &lt;private_meta&gt;    pieterh: A question about zmsg_recv in the zmsg.[h|class] file. You exit the entire application if a message isn&#8217;t received, is that intentional?</div>
<div class="line">[Thursday 03 March 2011] [07:30:23] &lt;pieterh&gt; private_meta: nope, I&#8217;ve changed that, just now</div>
<div class="line">[Thursday 03 March 2011] [07:30:29] &lt;private_meta&gt;    oh</div>
<div class="line">[Thursday 03 March 2011] [07:30:31] &lt;pieterh&gt; it should return NULL</div>
<div class="line">[Thursday 03 March 2011] [07:30:34] &lt;private_meta&gt;    ok</div>
<div class="line">[Thursday 03 March 2011] [07:30:54] &lt;private_meta&gt;    I&#8217;ll think of something equivalent in C++</div>
<div class="line">[Thursday 03 March 2011] [07:37:20] &lt;sustrik&gt; pieterh: it would be nice if someone backported it</div>
<div class="line">[Thursday 03 March 2011] [07:38:03] &lt;pieterh&gt; sustrik: that&#8217;s what I felt but someone has to want to, enough to do it, and then convince the maintainer (me) to accept the patch</div>
<div class="line">[Thursday 03 March 2011] [07:38:11] &lt;pieterh&gt; it&#8217;s the same workflow for all projects, right?</div>
<div class="line">[Thursday 03 March 2011] [07:38:46] &lt;pieterh&gt; I think there are compromises possible here...</div>
<div class="line">[Thursday 03 March 2011] [07:38:59] &lt;sustrik&gt; yes, i think so</div>
<div class="line">[Thursday 03 March 2011] [07:38:59] &lt;pieterh&gt; for example, I&#8217;m happy to test a release heavily before it goes out</div>
<div class="line">[Thursday 03 March 2011] [07:39:08] &lt;pieterh&gt; but that demands proper test cases for every (new) patch</div>
<div class="line">[Thursday 03 March 2011] [07:39:20] &lt;sustrik&gt; right, lot of work</div>
<div class="line">[Thursday 03 March 2011] [07:39:21] &lt;pieterh&gt; I&#8217;m happy to coordinate with mikko to ensure the rc builds</div>
<div class="line">[Thursday 03 March 2011] [07:39:28] &lt;pieterh&gt; divide the work, then it&#8217;s not so much</div>
<div class="line">[Thursday 03 March 2011] [07:39:49] &lt;pieterh&gt; the only thing I totally refuse to do is patch code I did not write</div>
<div class="line">[Thursday 03 March 2011] [07:40:15] &lt;pieterh&gt; not in stable production releases</div>
<div class="line">[Thursday 03 March 2011] [07:40:19] &lt;sustrik&gt; so no  backports?</div>
<div class="line">[Thursday 03 March 2011] [07:40:26] &lt;pieterh&gt; again: divide the work</div>
<div class="line">[Thursday 03 March 2011] [07:40:37] &lt;sustrik&gt; then i would suggest dropping the stable repos and using tags on master instead</div>
<div class="line">[Thursday 03 March 2011] [07:40:37] &lt;pieterh&gt; author of code can confidently do a backport if there is incentive</div>
<div class="line">[Thursday 03 March 2011] [07:40:41] &lt;pieterh&gt; sigh</div>
<div class="line">[Thursday 03 March 2011] [07:40:54] &lt;sustrik&gt; ah, yes, sure</div>
<div class="line">[Thursday 03 March 2011] [07:41:15] &lt;pieterh&gt; if you insist on mixing the two roles, we&#8217;re going to get badly stuck</div>
<div class="line">[Thursday 03 March 2011] [07:41:25] &lt;pieterh&gt; that&#8217;s MHO</div>
<div class="line">[Thursday 03 March 2011] [07:41:31] &lt;pieterh&gt; s/you/we/</div>
<div class="line">[Thursday 03 March 2011] [07:42:21] &lt;pieterh&gt; look, you provide me with a patch to 2.1, it applies cleanly, ok</div>
<div class="line">[Thursday 03 March 2011] [07:42:30] &lt;pieterh&gt; I&#8217;m still going to test the thing before it&#8217;s released</div>
<div class="line">[Thursday 03 March 2011] [07:42:48] &lt;pieterh&gt; but you can&#8217;t assume I know the code well enough to do that manualluy</div>
<div class="line">[Thursday 03 March 2011] [07:42:50] &lt;pieterh&gt; <a href="#id17"><span class="problematic" id="id18">*</span></a>manually</div>
<div class="line">[Thursday 03 March 2011] [07:42:58] &lt;pieterh&gt; so there must also be proper test cases for new patches</div>
<div class="line">[Thursday 03 March 2011] [07:43:05] &lt;pieterh&gt; all of this makes it possible to scale</div>
<div class="line">[Thursday 03 March 2011] [07:43:30] &lt;pieterh&gt; if you depend on unique people able to do <em>everything</em>, you cannot scale</div>
<div class="line">[Thursday 03 March 2011] [07:43:45] &lt;pieterh&gt; s/you/we/</div>
<div class="line">[Thursday 03 March 2011] [07:43:57] &lt;sustrik&gt; ok, let me explain my pov</div>
<div class="line">[Thursday 03 March 2011] [07:44:02] &lt;pieterh&gt; shoot</div>
<div class="line">[Thursday 03 March 2011] [07:44:08] &lt;sustrik&gt; it&#8217;s a problem of cost</div>
<div class="line">[Thursday 03 March 2011] [07:44:21] &lt;sustrik&gt; the process we&#8217;ve had before was the minimal-cost process</div>
<div class="line">[Thursday 03 March 2011] [07:44:29] &lt;pieterh&gt; in what sense was is cheap before?</div>
<div class="line">[Thursday 03 March 2011] [07:44:36] &lt;pieterh&gt; <a href="#id19"><span class="problematic" id="id20">*</span></a>it</div>
<div class="line">[Thursday 03 March 2011] [07:44:41] &lt;sustrik&gt; no backporting</div>
<div class="line">[Thursday 03 March 2011] [07:44:51] &lt;sustrik&gt; there was maint</div>
<div class="line">[Thursday 03 March 2011] [07:45:01] &lt;pieterh&gt; well, there should have been backporting of critical fixes</div>
<div class="line">[Thursday 03 March 2011] [07:45:04] &lt;sustrik&gt; the patches to maint were upstreamed to master</div>
<div class="line">[Thursday 03 March 2011] [07:45:09] &lt;sustrik&gt; but not other way round</div>
<div class="line">[Thursday 03 March 2011] [07:45:21] &lt;pieterh&gt; ... ok, and how often did that happen?</div>
<div class="line">[Thursday 03 March 2011] [07:45:28] &lt;pieterh&gt; last fix to maint was 1 december afaict</div>
<div class="line">[Thursday 03 March 2011] [07:45:42] &lt;sustrik&gt; rarely</div>
<div class="line">[Thursday 03 March 2011] [07:45:42] &lt;sustrik&gt; that&#8217;s why the cost was low</div>
<div class="line">[Thursday 03 March 2011] [07:45:47] &lt;pieterh&gt; the process was cheap because the process was never used</div>
<div class="line">[Thursday 03 March 2011] [07:45:49] &lt;sustrik&gt; so the user was faced with following choice:</div>
<div class="line">[Thursday 03 March 2011] [07:45:53] &lt;pieterh&gt; hey, I can do that now as well</div>
<div class="line">[Thursday 03 March 2011] [07:46:10] &lt;pieterh&gt; and we can upstream today just as easily</div>
<div class="line">[Thursday 03 March 2011] [07:46:14] &lt;pieterh&gt; it&#8217;s no different</div>
<div class="line">[Thursday 03 March 2011] [07:46:19] &lt;sustrik&gt; 1. stay with maint, patch the problem there, submit the patch</div>
<div class="line">[Thursday 03 March 2011] [07:46:25] &lt;sustrik&gt; 2. move to master</div>
<div class="line">[Thursday 03 March 2011] [07:46:33] &lt;pieterh&gt; 1. stay with 2.0, patch the problem there, submit the patch</div>
<div class="line">[Thursday 03 March 2011] [07:46:44] &lt;pieterh&gt; 2. move to 2.1, patch the problem there, submit the patch</div>
<div class="line">[Thursday 03 March 2011] [07:46:49] &lt;pieterh&gt; 3. move to 2.2 master, etc...</div>
<div class="line">[Thursday 03 March 2011] [07:46:55] &lt;sustrik&gt; yeah</div>
<div class="line">[Thursday 03 March 2011] [07:46:56] &lt;pieterh&gt; it is exactly the same process</div>
<div class="line">[Thursday 03 March 2011] [07:47:06] &lt;sustrik&gt; nope, it&#8217;s unidirectional</div>
<div class="line">[Thursday 03 March 2011] [07:47:20] &lt;pieterh&gt; ok, theoretical question</div>
<div class="line">[Thursday 03 March 2011] [07:47:36] &lt;pieterh&gt; if someone provides a patch to 2.0, how does that get upstreamed?</div>
<div class="line">[Thursday 03 March 2011] [07:47:40] &lt;pieterh&gt; who does that work?</div>
<div class="line">[Thursday 03 March 2011] [07:47:46] &lt;sustrik&gt; myself</div>
<div class="line">[Thursday 03 March 2011] [07:48:01] &lt;sustrik&gt; i&#8217;m maintainer of master</div>
<div class="line">[Thursday 03 March 2011] [07:48:10] &lt;sustrik&gt; so i want it to be bug-free</div>
<div class="line">[Thursday 03 March 2011] [07:48:15] &lt;pieterh&gt; but you&#8217;re not following the old releases</div>
<div class="line">[Thursday 03 March 2011] [07:48:23] &lt;pieterh&gt; how do you even know there was a change?</div>
<div class="line">[Thursday 03 March 2011] [07:48:31] &lt;sustrik&gt; so if someone finds a bug in maint and submits a patch</div>
<div class="line">[Thursday 03 March 2011] [07:48:34] &lt;sustrik&gt; i want it to get to master</div>
<div class="line">[Thursday 03 March 2011] [07:48:41] &lt;sustrik&gt; all the patches flew via myself</div>
<div class="line">[Thursday 03 March 2011] [07:48:48] &lt;pieterh&gt; ah</div>
<div class="line">[Thursday 03 March 2011] [07:48:53] &lt;pieterh&gt; so you also maintain maint?</div>
<div class="line">[Thursday 03 March 2011] [07:49:08] &lt;pieterh&gt; and if there are three branches, you maintain all 3?</div>
<div class="line">[Thursday 03 March 2011] [07:49:41] &lt;pieterh&gt; afaics we agree on the problem and the solution</div>
<div class="line">[Thursday 03 March 2011] [07:50:04] &lt;sustrik&gt; &#8216;maintain&#8217; in terms of applying patches that i get from other people</div>
<div class="line">[Thursday 03 March 2011] [07:50:20] &lt;pieterh&gt; yes, but you don&#8217;t want to get patches to old versions, do you</div>
<div class="line">[Thursday 03 March 2011] [07:50:27] &lt;pieterh&gt; because that makes you maintainer of those</div>
<div class="line">[Thursday 03 March 2011] [07:50:43] &lt;sustrik&gt; git apply</div>
<div class="line">[Thursday 03 March 2011] [07:50:46] &lt;sustrik&gt; git commit</div>
<div class="line">[Thursday 03 March 2011] [07:50:50] &lt;sustrik&gt; git push</div>
<div class="line">[Thursday 03 March 2011] [07:50:59] &lt;sustrik&gt; easy</div>
<div class="line">[Thursday 03 March 2011] [07:51:23] &lt;pieterh&gt; that assumes the patch is tested and perfect</div>
<div class="line">[Thursday 03 March 2011] [07:51:28] &lt;pieterh&gt; ok, let&#8217;s assume that</div>
<div class="line">[Thursday 03 March 2011] [07:51:32] &lt;sustrik&gt; yes, that&#8217;s up to submitter</div>
<div class="line">[Thursday 03 March 2011] [07:51:44] &lt;pieterh&gt; so we do the same today, except you don&#8217;t have to do that</div>
<div class="line">[Thursday 03 March 2011] [07:51:54] &lt;pieterh&gt; the patch must be tested and perfect</div>
<div class="line">[Thursday 03 March 2011] [07:52:10] &lt;pieterh&gt; then <em>anyone</em> who follows the process can apply/commit/push</div>
<div class="line">[Thursday 03 March 2011] [07:52:19] &lt;pieterh&gt; does not require your time</div>
<div class="line">[Thursday 03 March 2011] [07:52:30] &lt;pieterh&gt; that then becomes scalable</div>
<div class="line">[Thursday 03 March 2011] [07:52:56] &lt;sustrik&gt; it&#8217;s up to you what process you use for stable branches</div>
<div class="line">[Thursday 03 March 2011] [07:53:04] &lt;pieterh&gt; and if the patch is not perfect, you don&#8217;t want to be fixing up old branches, do you</div>
<div class="line">[Thursday 03 March 2011] [07:53:14] &lt;pieterh&gt; retesting 2.0?</div>
<div class="line">[Thursday 03 March 2011] [07:53:44] &lt;pieterh&gt; so what we&#8217;ve done with the separate gits, and why we both like it</div>
<div class="line">[Thursday 03 March 2011] [07:54:01] &lt;pieterh&gt; is that you have delegated the grunt work of applying <em>perfect</em> patches to old versions</div>
<div class="line">[Thursday 03 March 2011] [07:54:18] &lt;pieterh&gt; followed by documentation, release packaging, uploading, emails, etc. etc.</div>
<div class="line">[Thursday 03 March 2011] [07:54:28] &lt;pieterh&gt; ack?</div>
<div class="line">[Thursday 03 March 2011] [07:54:43] &lt;pieterh&gt; second aspect is upstream vs. downstream</div>
<div class="line">[Thursday 03 March 2011] [07:55:00] &lt;pieterh&gt; totally orthogonal, this applies equally if we had 1 repo or 3 repos</div>
<div class="line">[Thursday 03 March 2011] [07:55:02] &lt;sustrik&gt; yeah, i&#8217;ve delegated hat work to you</div>
<div class="line">[Thursday 03 March 2011] [07:55:09] &lt;sustrik&gt; now i don&#8217;t care about it amymore</div>
<div class="line">[Thursday 03 March 2011] [07:55:11] &lt;pieterh&gt; yes, and that is a big improvement</div>
<div class="line">[Thursday 03 March 2011] [07:55:22] &lt;sustrik&gt; life is beautiful now :)</div>
<div class="line">[Thursday 03 March 2011] [07:55:33] &lt;pieterh&gt; well, that is what I call a saving in time and cost</div>
<div class="line">[Thursday 03 March 2011] [07:55:51] &lt;pieterh&gt; so now we look at the orthogonal issue of up/down streaming</div>
<div class="line">[Thursday 03 March 2011] [07:56:24] &lt;pieterh&gt; as maintainer, I&#8217;ll accept <em>perfect</em> patches from anyone I trust</div>
<div class="line">[Thursday 03 March 2011] [07:57:15] &lt;pieterh&gt; I don&#8217;t necessarily see 2.0 as downstream from 2.1, they act as two independent projects, almost</div>
<div class="line">[Thursday 03 March 2011] [07:57:34] &lt;sustrik&gt; sure, it&#8217;s up to you</div>
<div class="line">[Thursday 03 March 2011] [07:58:46] &lt;pieterh&gt; do you understand why I want to separate the role of coding from release management?</div>
<div class="line">[Thursday 03 March 2011] [07:58:58] &lt;ianbarber&gt;       in that process there must be an agent who wants a patch from &lt;new version&gt; in &lt;maintenance version&gt; and is willing to do the work to test and submit the perfect patch. But, the people most likely to be trusted by the maintainer are also mostly likely to be working on the later/latest versions, I would guess.</div>
<div class="line">[Thursday 03 March 2011] [07:59:28] &lt;ianbarber&gt;       and the people that are on the older versions don&#8217;t necessarily have the awareness that there are improvements that would benefit them</div>
<div class="line">[Thursday 03 March 2011] [07:59:30] &lt;pieterh&gt; ianbarber: to a point, but if we are smarter, it scales better</div>
<div class="line">[Thursday 03 March 2011] [07:59:40] &lt;pieterh&gt; for example, better test cases</div>
<div class="line">[Thursday 03 March 2011] [07:59:46] &lt;ianbarber&gt;       yeah</div>
<div class="line">[Thursday 03 March 2011] [07:59:47] &lt;sustrik&gt; it&#8217;s hard to get someone to do that kind of work</div>
<div class="line">[Thursday 03 March 2011] [07:59:59] &lt;sustrik&gt; linux has GregKH</div>
<div class="line">[Thursday 03 March 2011] [07:59:59] &lt;pieterh&gt; sustrik: there has to be an economic incentive in every case</div>
<div class="line">[Thursday 03 March 2011] [07:59:59] &lt;ianbarber&gt;       better test cases would let you apply patches more speculatively</div>
<div class="line">[Thursday 03 March 2011] [08:00:13] &lt;ianbarber&gt;       if you could know things will shout if you break stuff</div>
<div class="line">[Thursday 03 March 2011] [08:00:13] &lt;sustrik&gt; but i would guess people like that are pretty rare</div>
<div class="line">[Thursday 03 March 2011] [08:00:31] &lt;pieterh&gt; ianbarber: indeed, I&#8217;d rather trust a test case I can understand than someone&#8217;s patch</div>
<div class="line">[Thursday 03 March 2011] [08:00:46] &lt;ianbarber&gt;       definitely.</div>
<div class="line">[Thursday 03 March 2011] [08:00:47] &lt;pieterh&gt; sustrik: not only rare, but counter-productive in the end</div>
<div class="line">[Thursday 03 March 2011] [08:00:54] &lt;pieterh&gt; if you know too much, you cut corners</div>
<div class="line">[Thursday 03 March 2011] [08:01:25]    * sustrik doesn&#8217;t follow</div>
<div class="line">[Thursday 03 March 2011] [08:01:28] &lt;pieterh&gt; being naive forces better process in many cases</div>
<div class="line">[Thursday 03 March 2011] [08:01:40] &lt;pieterh&gt; e.g. I don&#8217;t know the internals so I insist on better test cases</div>
<div class="line">[Thursday 03 March 2011] [08:01:42] &lt;sustrik&gt; having a dedicated maintainer of stable is counter-productive?</div>
<div class="line">[Thursday 03 March 2011] [08:01:51] &lt;pieterh&gt; if I know the code really well, I won&#8217;t use test cases</div>
<div class="line">[Thursday 03 March 2011] [08:02:02] &lt;pieterh&gt; and the product and process will suffer (this has already happened a lot)</div>
<div class="line">[Thursday 03 March 2011] [08:02:30] &lt;pieterh&gt; sustrik: you say &#8220;maintainer&#8221; to mean two different things in my view</div>
<div class="line">[Thursday 03 March 2011] [08:02:50] &lt;pieterh&gt; I am the dedicated maintainer but not in the sense of &#8220;I own the code&#8221;</div>
<div class="line">[Thursday 03 March 2011] [08:02:55] &lt;pieterh&gt; I own the release and the process</div>
<div class="line">[Thursday 03 March 2011] [08:03:04] &lt;pieterh&gt; the code is owned by its authors</div>
<div class="line">[Thursday 03 March 2011] [08:03:27] &lt;sustrik&gt; maintainer in terms of &#8220;i am willing to spend all my free time to maintain stable&#8221;</div>
<div class="line">[Thursday 03 March 2011] [08:03:34] &lt;pieterh&gt; define &#8220;maintain&#8221; please</div>
<div class="line">[Thursday 03 March 2011] [08:03:34] &lt;sustrik&gt; that&#8217;s pretty rare i would say :)</div>
<div class="line">[Thursday 03 March 2011] [08:04:18] &lt;pieterh&gt; look, I maintain the Guide, yes?</div>
<div class="line">[Thursday 03 March 2011] [08:04:46] &lt;pieterh&gt; that is, I&#8217;m responsible for the repository, publishing it, and I write the text</div>
<div class="line">[Thursday 03 March 2011] [08:04:57] &lt;pieterh&gt; but every set of translations has their authors</div>
<div class="line">[Thursday 03 March 2011] [08:05:03] &lt;pieterh&gt; they own that code</div>
<div class="line">[Thursday 03 March 2011] [08:05:09] &lt;pieterh&gt; I don&#8217;t maintain it</div>
<div class="line">[Thursday 03 March 2011] [08:05:10] &lt;sustrik&gt; this discussion is pointless</div>
<div class="line">[Thursday 03 March 2011] [08:05:21] &lt;sustrik&gt; the process in stable is entirely up to you</div>
<div class="line">[Thursday 03 March 2011] [08:05:27]    * sustrik shuts up</div>
<div class="line">[Thursday 03 March 2011] [08:05:45] &lt;pieterh&gt; if you want that patch to go into 2.0, send it my way, thanks</div>
<div class="line">[Thursday 03 March 2011] [08:05:52]    * pieterh goes back to work</div>
<div class="line">[Thursday 03 March 2011] [08:05:57] &lt;Guthur&gt;  pieterh: Do you think it would be nice to have some readily available statistic of the guide example coverage for each language binding?</div>
<div class="line">[Thursday 03 March 2011] [08:06:07] &lt;pieterh&gt; Gurthur: hang on...</div>
<div class="line">[Thursday 03 March 2011] [08:06:23] &lt;Guthur&gt;  it&#8217;s ok i&#8217;m not going anywhere soon</div>
<div class="line">[Thursday 03 March 2011] [08:06:38] &lt;Guthur&gt;  hehe, and I know you guys are having a heated debate</div>
<div class="line">[Thursday 03 March 2011] [08:06:43] &lt;pieterh&gt; Translations (48 in total):</div>
<div class="line">[Thursday 03 March 2011] [08:06:43] &lt;pieterh&gt; Ada               0,   0%</div>
<div class="line">[Thursday 03 March 2011] [08:06:43] &lt;pieterh&gt; Basic             0,   0%</div>
<div class="line">[Thursday 03 March 2011] [08:06:43] &lt;pieterh&gt; C                48, 100%</div>
<div class="line">[Thursday 03 March 2011] [08:06:43] &lt;pieterh&gt; C++              33,  68%</div>
<div class="line">[Thursday 03 March 2011] [08:06:43] &lt;pieterh&gt; C#               26,  54%</div>
<div class="line">[Thursday 03 March 2011] [08:06:43] &lt;pieterh&gt; Common Lisp      32,  66%</div>
<div class="line">[Thursday 03 March 2011] [08:06:44] &lt;pieterh&gt; Erlang            0,   0%</div>
<div class="line">[Thursday 03 March 2011] [08:06:44] &lt;pieterh&gt; Go                2,   4%</div>
<div class="line">[Thursday 03 March 2011] [08:06:45] &lt;pieterh&gt; Haskell           0,   0%</div>
<div class="line">[Thursday 03 March 2011] [08:06:45] &lt;pieterh&gt; Java             17,  35%</div>
<div class="line">[Thursday 03 March 2011] [08:06:46] &lt;pieterh&gt; Lua               0,   0%</div>
<div class="line">[Thursday 03 March 2011] [08:06:46] &lt;pieterh&gt; Objective-C       0,   0%</div>
<div class="line">[Thursday 03 March 2011] [08:06:47] &lt;pieterh&gt; ooc               0,   0%</div>
<div class="line">[Thursday 03 March 2011] [08:06:57] &lt;Guthur&gt;  oh whao</div>
<div class="line">[Thursday 03 March 2011] [08:07:07] &lt;Guthur&gt;  I wasn&#8217;t expecting there to be any</div>
<div class="line">[Thursday 03 March 2011] [08:07:54] &lt;Guthur&gt;  Would that be worth making visible, do you think?</div>
<div class="line">[Thursday 03 March 2011] [08:08:02] &lt;pieterh&gt; where?</div>
<div class="line">[Thursday 03 March 2011] [08:08:17] &lt;Guthur&gt;  top of the guide maybe</div>
<div class="line">[Thursday 03 March 2011] [08:08:23] &lt;pieterh&gt; hang on...</div>
<div class="line">[Thursday 03 March 2011] [08:08:42] &lt;pieterh&gt; I&#8217;ll post it next time I do an update, if I remember</div>
<div class="line">[Thursday 03 March 2011] [08:08:47] &lt;Guthur&gt;  cool</div>
<div class="line">[Thursday 03 March 2011] [08:09:02] &lt;Guthur&gt;  I need to bump that C# number up a bit, hehe</div>
<div class="line">[Thursday 03 March 2011] [08:21:00] &lt;private_meta&gt;    pieterh: about zmsg, is it made to cater other types but standard character strings?</div>
<div class="line">[Thursday 03 March 2011] [08:21:13] &lt;pieterh&gt; nope</div>
<div class="line">[Thursday 03 March 2011] [08:21:30] &lt;pieterh&gt; this is not meant to be production code, it&#8217;s for the examples</div>
<div class="line">[Thursday 03 March 2011] [08:21:51] &lt;private_meta&gt;    pieterh: in the dump function you differ between non-character blob and string, that&#8217;s why I ask</div>
<div class="line">[Thursday 03 March 2011] [08:22:12] &lt;pieterh&gt; yes, because a socket can get anything</div>
<div class="line">[Thursday 03 March 2011] [08:22:26] &lt;pieterh&gt; the class <em>could</em> be expanded to allow binary message parts</div>
<div class="line">[Thursday 03 March 2011] [08:22:38] &lt;pieterh&gt; but that gets complex quickly, and was not worth it for here</div>
<div class="line">[Thursday 03 March 2011] [08:22:51] &lt;pieterh&gt; I&#8217;d do it in zfl_msg, which is a more serious implementation</div>
<div class="line">[Thursday 03 March 2011] [08:23:14] &lt;private_meta&gt;    hmm ok. If it were string only, i would use std::string and the implementation would be a little more clean</div>
<div class="line">[Thursday 03 March 2011] [08:23:37] &lt;private_meta&gt;    but the example should follow the same functionality as the C version i guess</div>
<div class="line">[Thursday 03 March 2011] [08:24:49] &lt;pieterh&gt; you can implement it any way you like, I&#8217;d suggest keeping the API similar so people can follow</div>
<div class="line">[Thursday 03 March 2011] [08:25:21] &lt;pieterh&gt; the methods that muck with envelopes... wrap/unwrap/push/ etc.</div>
<div class="line">[Thursday 03 March 2011] [09:38:36] &lt;guido_g&gt; pieterh: ping?</div>
<div class="line">[Thursday 03 March 2011] [09:38:44] &lt;pieterh&gt; hi guido_g</div>
<div class="line">[Thursday 03 March 2011] [09:38:56] &lt;guido_g&gt; question about mdp spec</div>
<div class="line">[Thursday 03 March 2011] [09:39:00] &lt;pieterh&gt; shoot</div>
<div class="line">[Thursday 03 March 2011] [09:39:16] &lt;guido_g&gt; worker send ready message to broker</div>
<div class="line">[Thursday 03 March 2011] [09:39:25] &lt;guido_g&gt; there will be no response to that, right?</div>
<div class="line">[Thursday 03 March 2011] [09:39:35] &lt;pieterh&gt; there is a response but it&#8217;s not immediate</div>
<div class="line">[Thursday 03 March 2011] [09:39:41] &lt;pieterh&gt; it&#8217;s the lru pattern</div>
<div class="line">[Thursday 03 March 2011] [09:40:01] &lt;guido_g&gt; i&#8217;m talking about the ready message</div>
<div class="line">[Thursday 03 March 2011] [09:40:03] &lt;pieterh&gt; worker waits, indefinitely, for a client request to arrive, that&#8217;s the response</div>
<div class="line">[Thursday 03 March 2011] [09:40:07] &lt;guido_g&gt; from the worker</div>
<div class="line">[Thursday 03 March 2011] [09:40:13] &lt;guido_g&gt; to the broker</div>
<div class="line">[Thursday 03 March 2011] [09:40:17] &lt;guido_g&gt; aka handshake</div>
<div class="line">[Thursday 03 March 2011] [09:40:32] &lt;guido_g&gt; ok, half of a handshake</div>
<div class="line">[Thursday 03 March 2011] [09:40:40] &lt;pieterh&gt; yes, I do understand what you are asking</div>
<div class="line">[Thursday 03 March 2011] [09:40:47] &lt;pieterh&gt; it is the lru pattern</div>
<div class="line">[Thursday 03 March 2011] [09:41:12] &lt;guido_g&gt; i can&#8217;t find any answer to the ready message is the spec</div>
<div class="line">[Thursday 03 March 2011] [09:41:18] &lt;guido_g&gt; <a href="#id21"><span class="problematic" id="id22">*</span></a>in the spec</div>
<div class="line">[Thursday 03 March 2011] [09:41:20] &lt;pieterh&gt; there is no answer to the ready spec, as such</div>
<div class="line">[Thursday 03 March 2011] [09:41:26] &lt;pieterh&gt; the first REQUEST is the answer</div>
<div class="line">[Thursday 03 March 2011] [09:41:31] &lt;guido_g&gt; ahh we&#8217;re getting closer</div>
<div class="line">[Thursday 03 March 2011] [09:41:38] &lt;pieterh&gt; a DISCONNECT would be a negative acknowledgement</div>
<div class="line">[Thursday 03 March 2011] [09:41:53] &lt;pieterh&gt; sorry, when I say &#8220;lru pattern&#8221; does that make any sense?</div>
<div class="line">[Thursday 03 March 2011] [09:42:03] &lt;guido_g&gt; ok, so till a request arrives the woker does not know if the broker has his service registered correctly, right?</div>
<div class="line">[Thursday 03 March 2011] [09:42:34] &lt;guido_g&gt; no it doesn&#8217;t, because we&#8217;re on mdp protcol level</div>
<div class="line">[Thursday 03 March 2011] [09:42:42] &lt;pieterh&gt; it can safely assume all is OK unless it (a) gets a disconnect or (b) no heartbeat within whatever time</div>
<div class="line">[Thursday 03 March 2011] [09:43:06] &lt;pieterh&gt; ok, good point, I&#8217;ll add this explicitly</div>
<div class="line">[Thursday 03 March 2011] [09:43:41] &lt;guido_g&gt; so a received hb from the broker will count as &#8220;registration is fine&#8221;</div>
<div class="line">[Thursday 03 March 2011] [09:44:09] &lt;guido_g&gt; so we need a basic timeout value for the handshake</div>
<div class="line">[Thursday 03 March 2011] [09:44:26] &lt;guido_g&gt; or a dedicated &#8220;got your ready&#8221; reply</div>
<div class="line">[Thursday 03 March 2011] [09:45:48] &lt;pieterh&gt; what is the value of a dedicated &#8220;OK&#8221; command?</div>
<div class="line">[Thursday 03 March 2011] [09:46:02] &lt;pieterh&gt; I&#8217;m not against it, but it seems unnecessary</div>
<div class="line">[Thursday 03 March 2011] [09:46:53] &lt;guido_g&gt; the value would be that the worker from this point on knows that his service is registered and he does receive heartbeats etc.</div>
<div class="line">[Thursday 03 March 2011] [09:47:32] &lt;pieterh&gt; what is the value of the worker knowing?</div>
<div class="line">[Thursday 03 March 2011] [09:47:46] &lt;guido_g&gt; would allow for small timeouts in the handshake phase</div>
<div class="line">[Thursday 03 March 2011] [09:47:54] &lt;pieterh&gt; I&#8217;m being serious, remember we&#8217;re on disconnected TCP</div>
<div class="line">[Thursday 03 March 2011] [09:48:01] &lt;pieterh&gt; so the broker can arrive 30 minutes late</div>
<div class="line">[Thursday 03 March 2011] [09:48:25] &lt;pieterh&gt; do we want to break that? I&#8217;d rather not, it&#8217;s valuable</div>
<div class="line">[Thursday 03 March 2011] [09:48:49] &lt;guido_g&gt; wouldn&#8217;t break that, just needs a longer timeout</div>
<div class="line">[Thursday 03 March 2011] [09:48:56] &lt;pieterh&gt; which is the heartbeat</div>
<div class="line">[Thursday 03 March 2011] [09:49:05] &lt;guido_g&gt; right</div>
<div class="line">[Thursday 03 March 2011] [09:49:11] &lt;pieterh&gt; so you don&#8217;t need a positive ack</div>
<div class="line">[Thursday 03 March 2011] [09:49:24] &lt;guido_g&gt; but not the &#8220;i&#8217;m ok&#8221; hb, but the one for the connection handshake</div>
<div class="line">[Thursday 03 March 2011] [09:49:25] &lt;pieterh&gt; a negative ack gives you just the same semantics</div>
<div class="line">[Thursday 03 March 2011] [09:50:15] &lt;guido_g&gt; example: no broker , worker starts, broker comes 30 seconds later</div>
<div class="line">[Thursday 03 March 2011] [09:50:25] &lt;guido_g&gt; general hb interval is 1 sec</div>
<div class="line">[Thursday 03 March 2011] [09:50:35] &lt;guido_g&gt; client died due to lots of missed hbs</div>
<div class="line">[Thursday 03 March 2011] [09:50:38] &lt;pieterh&gt; worker will reconnect over and over and eventually get a HB back</div>
<div class="line">[Thursday 03 March 2011] [09:50:46] &lt;pieterh&gt; clients have different timescales</div>
<div class="line">[Thursday 03 March 2011] [09:51:07] &lt;pieterh&gt; the client could easily retry like the worker does</div>
<div class="line">[Thursday 03 March 2011] [09:51:17] &lt;pieterh&gt; that&#8217;s not MDP&#8217;s problem</div>
<div class="line">[Thursday 03 March 2011] [09:51:27] &lt;guido_g&gt; shit, s/client/worker/</div>
<div class="line">[Thursday 03 March 2011] [09:51:42] &lt;pieterh&gt; worker does not die, if you look at my API</div>
<div class="line">[Thursday 03 March 2011] [09:51:45] &lt;guido_g&gt; again</div>
<div class="line">[Thursday 03 March 2011] [09:52:00] &lt;pieterh&gt; it keeps reconnecting forever (or until Ctrl-C in my latest code)</div>
<div class="line">[Thursday 03 March 2011] [09:52:03] &lt;guido_g&gt; i do look at the spec</div>
<div class="line">[Thursday 03 March 2011] [09:52:12] &lt;pieterh&gt; right</div>
<div class="line">[Thursday 03 March 2011] [09:52:43] &lt;pieterh&gt; &#8220;If the worker detects that the broker has disconnected, it MUST restart a new conversation.&#8221;</div>
<div class="line">[Thursday 03 March 2011] [09:52:55] &lt;pieterh&gt; I&#8217;m not sure that&#8217;s accurate</div>
<div class="line">[Thursday 03 March 2011] [09:52:58] &lt;guido_g&gt; ok</div>
<div class="line">[Thursday 03 March 2011] [09:53:17] &lt;pieterh&gt; but it allows the broker to kick workers that come in without doing &#8216;ready&#8217;</div>
<div class="line">[Thursday 03 March 2011] [09:53:29] &lt;guido_g&gt; would mean: after x missed hbs close socket and start from the beginning</div>
<div class="line">[Thursday 03 March 2011] [09:53:33] &lt;pieterh&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [09:53:47] &lt;pieterh&gt; &#8220;Both broker and worker MUST send heartbeats at regular and agreed-upon intervals. A peer can consider the other peer &#8220;disconnected&#8221; if no heartbeat arrives within some multiple of that interval (usually 3-5).&#8221;</div>
<div class="line">[Thursday 03 March 2011] [09:53:48] &lt;guido_g&gt; ok, i&#8217;ll implement it that way</div>
<div class="line">[Thursday 03 March 2011] [09:53:57] &lt;pieterh&gt; s/can/SHOULD/</div>
<div class="line">[Thursday 03 March 2011] [09:54:14] &lt;guido_g&gt; MUST even</div>
<div class="line">[Thursday 03 March 2011] [09:54:25] &lt;guido_g&gt; otherwise the whole thing would be useless</div>
<div class="line">[Thursday 03 March 2011] [09:54:52] &lt;guido_g&gt; i&#8217;ll start the hb timer after sending the ready message then</div>
<div class="line">[Thursday 03 March 2011] [09:55:06] &lt;pieterh&gt; ack, MUST it is</div>
<div class="line">[Thursday 03 March 2011] [09:55:37] &lt;guido_g&gt; fine</div>
<div class="line">[Thursday 03 March 2011] [09:55:43] &lt;pieterh&gt; I need to reboot this box, it&#8217;s starting to act funny</div>
<div class="line">[Thursday 03 March 2011] [09:55:51] &lt;pieterh&gt; cy in a minute or two</div>
<div class="line">[Thursday 03 March 2011] [09:55:55] &lt;guido_g&gt; np</div>
<div class="line">[Thursday 03 March 2011] [09:59:10] &lt;pieter_hintjens&gt; back</div>
<div class="line">[Thursday 03 March 2011] [09:59:18] &lt;pieter_hintjens&gt; what did I miss? :-)</div>
<div class="line">[Thursday 03 March 2011] [10:00:11] &lt;cremes&gt;  is your new laptop with the ssd giving you fits?</div>
<div class="line">[Thursday 03 March 2011] [10:01:40] &lt;pieter_hintjens&gt; cremes: it all works... :-)</div>
<div class="line">[Thursday 03 March 2011] [10:01:46] &lt;pieter_hintjens&gt; it&#8217;s silent and uses a little less power, and it&#8217;s faster</div>
<div class="line">[Thursday 03 March 2011] [10:01:54] &lt;guido_g&gt; pieter_hintjens: why are you talking about missing x hbs? why not simply set the hb interval and barf if one is missed?</div>
<div class="line">[Thursday 03 March 2011] [10:02:13] &lt;pieter_hintjens&gt; guido_g: bitter experience</div>
<div class="line">[Thursday 03 March 2011] [10:02:19] &lt;guido_g&gt; uh</div>
<div class="line">[Thursday 03 March 2011] [10:02:43] &lt;guido_g&gt; could you explain that a bit?</div>
<div class="line">[Thursday 03 March 2011] [10:02:55] &lt;pieter_hintjens&gt; it&#8217;s relatively easy to miss single HBs due to the two peers each sending out at intervals</div>
<div class="line">[Thursday 03 March 2011] [10:03:15] &lt;pieter_hintjens&gt; it&#8217;s also relatively easy to get them delayed when there&#8217;s congestion</div>
<div class="line">[Thursday 03 March 2011] [10:03:32] &lt;pieter_hintjens&gt; we did extensive testing of this for AMQP</div>
<div class="line">[Thursday 03 March 2011] [10:04:22] &lt;pieter_hintjens&gt; you basically really do not want false positives</div>
<div class="line">[Thursday 03 March 2011] [10:04:39]    * pieter_hintjens is not being very clear...</div>
<div class="line">[Thursday 03 March 2011] [10:04:52] &lt;guido_g&gt; ah its ok</div>
<div class="line">[Thursday 03 March 2011] [10:04:59] &lt;pieter_hintjens&gt; try it yourself, set the liveness to 1, run it in real use</div>
<div class="line">[Thursday 03 March 2011] [10:07:08] &lt;guido_g&gt; so basically the hb interval is the max. time w/o a message divided by the liveness as you call it</div>
<div class="line">[Thursday 03 March 2011] [10:07:33] &lt;pieter_hintjens&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [10:07:52] &lt;pieter_hintjens&gt; this is a simpleminded design, I&#8217;m sure we can do better over time</div>
<div class="line">[Thursday 03 March 2011] [10:08:01] &lt;guido_g&gt; me too :)</div>
<div class="line">[Thursday 03 March 2011] [10:08:12] &lt;pieter_hintjens&gt; here&#8217;s one key aspect...</div>
<div class="line">[Thursday 03 March 2011] [10:08:18] &lt;pieter_hintjens&gt; say the clock is 1 second</div>
<div class="line">[Thursday 03 March 2011] [10:08:30] &lt;pieter_hintjens&gt; and a HB comes in at 1.001 seconds</div>
<div class="line">[Thursday 03 March 2011] [10:08:36] &lt;pieter_hintjens&gt; and your liveness is 1</div>
<div class="line">[Thursday 03 March 2011] [10:08:45] &lt;pieter_hintjens&gt; you now disconnect</div>
<div class="line">[Thursday 03 March 2011] [10:09:00] &lt;pieter_hintjens&gt; so liveness must be at least 2 to allow for fractional delays in HBs</div>
<div class="line">[Thursday 03 March 2011] [10:09:03] &lt;guido_g&gt; you have to draw the border somwwhere</div>
<div class="line">[Thursday 03 March 2011] [10:09:08] &lt;guido_g&gt; <a href="#id23"><span class="problematic" id="id24">*</span></a>somewhere</div>
<div class="line">[Thursday 03 March 2011] [10:09:22] &lt;pieter_hintjens&gt; what border?</div>
<div class="line">[Thursday 03 March 2011] [10:09:36] &lt;guido_g&gt; connection alive or not</div>
<div class="line">[Thursday 03 March 2011] [10:09:37] &lt;pieter_hintjens&gt; yes, how delayed can a HB be...</div>
<div class="line">[Thursday 03 March 2011] [10:09:49] &lt;pieter_hintjens&gt; if it&#8217;s 0.1% delayed, that&#8217;s not a dead peer</div>
<div class="line">[Thursday 03 March 2011] [10:09:50] &lt;guido_g&gt; infinite?</div>
<div class="line">[Thursday 03 March 2011] [10:10:01] &lt;pieter_hintjens&gt; if it&#8217;s infinite, you don&#8217;t have heartbeating any more</div>
<div class="line">[Thursday 03 March 2011] [10:10:05] &lt;guido_g&gt; by a femto second?</div>
<div class="line">[Thursday 03 March 2011] [10:10:16] &lt;pieter_hintjens&gt; by a couple of heartbeats, is the best answer we found</div>
<div class="line">[Thursday 03 March 2011] [10:10:59] &lt;pieter_hintjens&gt; it&#8217;s like your own heart can miss one beat, two if you&#8217;re really shocked, but three means you&#8217;re dead</div>
<div class="line">[Thursday 03 March 2011] [10:11:34] &lt;guido_g&gt; this is more a problem of how to define the border between alive and not</div>
<div class="line">[Thursday 03 March 2011] [10:12:06] &lt;pieter_hintjens&gt; yes, and it&#8217;s a heuristic you can&#8217;t really make until you have real apps</div>
<div class="line">[Thursday 03 March 2011] [10:12:13] &lt;guido_g&gt; you get the same problem when counting hbs</div>
<div class="line">[Thursday 03 March 2011] [10:12:15] &lt;pieter_hintjens&gt; that&#8217;s why it&#8217;s configurable in my latest api</div>
<div class="line">[Thursday 03 March 2011] [10:12:43] &lt;guido_g&gt; ok</div>
<div class="line">[Thursday 03 March 2011] [10:13:13] &lt;guido_g&gt; i&#8217;ll implement that as a simple counter decremented by a periodically called method</div>
<div class="line">[Thursday 03 March 2011] [10:13:40] &lt;guido_g&gt; so one can adjust the interval and the count as he/she/it sees fit</div>
<div class="line">[Thursday 03 March 2011] [10:19:34] &lt;pieter_hintjens&gt; kiss...</div>
<div class="line">[Thursday 03 March 2011] [10:19:40] &lt;guido_g&gt; thanks :)</div>
<div class="line">[Thursday 03 March 2011] [10:19:43] &lt;pieter_hintjens&gt; it just has to detect real failure</div>
<div class="line">[Thursday 03 March 2011] [10:19:50] &lt;pieter_hintjens&gt;  :-)</div>
<div class="line">[Thursday 03 March 2011] [10:20:46] &lt;guido_g&gt; i need to read <a class="reference external" href="http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/">http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/</a></div>
<div class="line">[Thursday 03 March 2011] [10:24:58] &lt;pieter_hintjens&gt; guido_g: there may also be some threads on the websocket heartbeating discussions</div>
<div class="line">[Thursday 03 March 2011] [10:27:28] &lt;guido_g&gt; first i&#8217;ll implement the simple version</div>
<div class="line">[Thursday 03 March 2011] [10:32:11] &lt;sustrik&gt; guido_g: tcp&#8217;s keepalives in just a afterthought</div>
<div class="line">[Thursday 03 March 2011] [10:32:30] &lt;sustrik&gt; even explictly discouraged by the spec</div>
<div class="line">[Thursday 03 March 2011] [10:32:36] &lt;guido_g&gt; ah ok</div>
<div class="line">[Thursday 03 March 2011] [10:32:50] &lt;sustrik&gt; if you want to read about sane heartbeating mechanism, have a look at SCTP heartbeats</div>
<div class="line">[Thursday 03 March 2011] [10:32:56] &lt;guido_g&gt; one tab less open in the browser then :)</div>
<div class="line">[Thursday 03 March 2011] [10:33:48] &lt;guido_g&gt; ok, will do, but later</div>
<div class="line">[Thursday 03 March 2011] [10:33:56] &lt;sustrik&gt; just a tip :)</div>
<div class="line">[Thursday 03 March 2011] [11:00:18] &lt;ok2&gt;     hi!</div>
<div class="line">[Thursday 03 March 2011] [11:02:02] &lt;ok2&gt;     question, how can i see with zmq, on send() that the other end is not here anymore?</div>
<div class="line">[Thursday 03 March 2011] [11:02:23] &lt;ok2&gt;     zmq simply hangs for me, if the other side crashes</div>
<div class="line">[Thursday 03 March 2011] [11:05:35] &lt;cremes&gt;  ok2: you need to use zmq_poll(), zmq_send() with ZM_NOBLOCK and setup your own timeout logic</div>
<div class="line">[Thursday 03 March 2011] [11:06:13] &lt;cremes&gt;  there is some work being done to wrap up this pattern (it gets asked about a lot)</div>
<div class="line">[Thursday 03 March 2011] [11:06:34] &lt;cremes&gt;  but i have no idea what the status is on that work</div>
<div class="line">[Thursday 03 March 2011] [11:06:59] &lt;cremes&gt;  i&#8217;ve built this myself but using ruby instead of C</div>
<div class="line">[Thursday 03 March 2011] [11:08:36] &lt;ok2&gt;     it means that i make zmq_poll(x, NOBLOCK) and wait on zmq_poll for POLLOUT?</div>
<div class="line">[Thursday 03 March 2011] [11:08:46] &lt;ok2&gt;     zmq_send(x, NONBLOCK)</div>
<div class="line">[Thursday 03 March 2011] [11:09:08] &lt;ok2&gt;     no, on POLLERR ...</div>
<div class="line">[Thursday 03 March 2011] [11:20:57] &lt;cremes&gt;  ok2: no, that isn&#8217;t correct</div>
<div class="line">[Thursday 03 March 2011] [11:21:27] &lt;cremes&gt;  let&#8217;s say you are using a req/rep socket pair and you want to timeout on the request</div>
<div class="line">[Thursday 03 March 2011] [11:21:43] &lt;cremes&gt;  you would do something like:</div>
<div class="line">[Thursday 03 March 2011] [11:22:25] &lt;cremes&gt;  zmq_send(req_socket, message, ZM_NOBLOCK)</div>
<div class="line">[Thursday 03 March 2011] [11:22:46] &lt;cremes&gt;  register req_socket with zmq_poll()</div>
<div class="line">[Thursday 03 March 2011] [11:23:18] &lt;cremes&gt;  and POLLIN (you are looking for a reply, so that will be a recv operation)</div>
<div class="line">[Thursday 03 March 2011] [11:24:10] &lt;cremes&gt;  when req_socket returns POLLIN, call zmq_recv(req_socket, replymsg, 0)</div>
<div class="line">[Thursday 03 March 2011] [11:24:15] &lt;cremes&gt;  OR</div>
<div class="line">[Thursday 03 March 2011] [11:24:33] &lt;cremes&gt;  generate an application error if your timeout has expired before req_socket returns POLLIN</div>
<div class="line">[Thursday 03 March 2011] [11:24:39] &lt;cremes&gt;  make sense?</div>
<div class="line">[Thursday 03 March 2011] [11:39:30] &lt;pieter_hintjens&gt; ok2: it&#8217;s explained here: <a class="reference external" href="http://zguide.zeromq.org/page:all#toc68">http://zguide.zeromq.org/page:all#toc68</a></div>
<div class="line">[Thursday 03 March 2011] [11:42:15] &lt;guido_g&gt; pieter_hintjens: any chance that the frame order in spec:7 is wrong?</div>
<div class="line">[Thursday 03 March 2011] [11:42:26] &lt;pieter_hintjens&gt; where exactly?</div>
<div class="line">[Thursday 03 March 2011] [11:42:48] &lt;guido_g&gt; given that the broker is a XREQ type, it needs to prepend the target identity</div>
<div class="line">[Thursday 03 March 2011] [11:42:55] &lt;pieter_hintjens&gt; guido_g: you know, I&#8217;m so pleased to see you implementing this</div>
<div class="line">[Thursday 03 March 2011] [11:43:08] &lt;guido_g&gt; sarcasm?</div>
<div class="line">[Thursday 03 March 2011] [11:43:16] &lt;pieter_hintjens&gt; no</div>
<div class="line">[Thursday 03 March 2011] [11:43:20] &lt;guido_g&gt; puh</div>
<div class="line">[Thursday 03 March 2011] [11:43:24] &lt;guido_g&gt; :)</div>
<div class="line">[Thursday 03 March 2011] [11:43:42] &lt;pieter_hintjens&gt; seriously, it&#8217;s magic to see someone implement a spec the day after it&#8217;s published</div>
<div class="line">[Thursday 03 March 2011] [11:43:49] &lt;pieter_hintjens&gt; what command are you looking at?</div>
<div class="line">[Thursday 03 March 2011] [11:44:33] &lt;guido_g&gt; worker &lt;-&gt; broker</div>
<div class="line">[Thursday 03 March 2011] [11:44:50] &lt;guido_g&gt; broker is XREQ</div>
<div class="line">[Thursday 03 March 2011] [11:44:58] &lt;pieter_hintjens&gt; this is why all the framing says &#8220;on the wire&#8221;</div>
<div class="line">[Thursday 03 March 2011] [11:45:10] &lt;guido_g&gt; pardon?</div>
<div class="line">[Thursday 03 March 2011] [11:45:29] &lt;pieter_hintjens&gt; when you send a message to a router socket you always prepend the address</div>
<div class="line">[Thursday 03 March 2011] [11:45:33] &lt;pieter_hintjens&gt; but that does not go on the wire</div>
<div class="line">[Thursday 03 March 2011] [11:45:41] &lt;pieter_hintjens&gt; it&#8217;s not sent, thus is not relevant to the protocol</div>
<div class="line">[Thursday 03 March 2011] [11:45:56] &lt;pieter_hintjens&gt; however I&#8217;ll explain this, it&#8217;s confusing</div>
<div class="line">[Thursday 03 March 2011] [11:46:01] &lt;guido_g&gt; it is</div>
<div class="line">[Thursday 03 March 2011] [11:53:15] &lt;pieter_hintjens&gt; guido_g: ok, I&#8217;ve added a note, can you see if it&#8217;s clear?</div>
<div class="line">[Thursday 03 March 2011] [11:53:25] &lt;pieter_hintjens&gt; <a class="reference external" href="http://rfc.zeromq.org/spec:7#toc11">http://rfc.zeromq.org/spec:7#toc11</a></div>
<div class="line">[Thursday 03 March 2011] [11:55:11] &lt;guido_g&gt; GREAT!</div>
<div class="line">[Thursday 03 March 2011] [12:01:43] &lt;guido_g&gt; getting close now</div>
<div class="line">[Thursday 03 March 2011] [12:01:47] &lt;guido_g&gt; <a href="#id25"><span class="problematic" id="id26">*</span></a>closer</div>
<div class="line">[Thursday 03 March 2011] [12:03:43] &lt;ok2&gt;     cremes and pieter_hintjens: thank you very much, i think i got what i need :-)</div>
<div class="line">[Thursday 03 March 2011] [12:03:52] &lt;pieter_hintjens&gt; ok2, np</div>
<div class="line">[Thursday 03 March 2011] [12:05:02] &lt;guido_g&gt; first success for the worker</div>
<div class="line">[Thursday 03 March 2011] [12:09:42] &lt;pieter_hintjens&gt; broker is tricky to get right</div>
<div class="line">[Thursday 03 March 2011] [12:10:01] &lt;pieter_hintjens&gt; am still finding undispatched messages in some cases</div>
<div class="line">[Thursday 03 March 2011] [12:11:31] &lt;guido_g&gt; so, short break and then testing my worker against your broker</div>
<div class="line">[Thursday 03 March 2011] [12:12:09] &lt;pieter_hintjens&gt; I&#8217;ll need to commit, almost ready</div>
<div class="line">[Thursday 03 March 2011] [12:12:28] &lt;guido_g&gt; ok, no hurry</div>
<div class="line">[Thursday 03 March 2011] [12:24:00] &lt;Altxp&gt;   Hello there.</div>
<div class="line">[Thursday 03 March 2011] [12:36:31] &lt;pieter_hintjens&gt; guido_g: ok, done</div>
<div class="line">[Thursday 03 March 2011] [12:36:44] &lt;pieter_hintjens&gt; the broker is, afaict, complete and robust</div>
<div class="line">[Thursday 03 March 2011] [12:40:49] &lt;pieter_hintjens&gt; I&#8217;ve pushed this to the website, and committed all the source code</div>
<div class="line">[Thursday 03 March 2011] [12:41:11] &lt;djc&gt;     okay, I have some questions with my distro hat on</div>
<div class="line">[Thursday 03 March 2011] [12:41:30] &lt;djc&gt;     are there options to rely on external openpgm instead of the bundled one?</div>
<div class="line">[Thursday 03 March 2011] [12:41:56] &lt;djc&gt;     what versions of openpgm are compatible with zeromq-2.1.1?</div>
<div class="line">[Thursday 03 March 2011] [12:42:22] &lt;djc&gt;     does zeromq actually depend on the xmlParser, or can that be disableD?</div>
<div class="line">[Thursday 03 March 2011] [12:45:22] &lt;guido_g&gt; pieter_hintjens: thanks</div>
<div class="line">[Thursday 03 March 2011] [12:45:56] &lt;guido_g&gt; after some phineas and ferb i&#8217;ll check it out</div>
<div class="line">[Thursday 03 March 2011] [12:49:03] &lt;private_meta&gt;    pieter_hintjens: so it&#8217;s basically finished?</div>
<div class="line">[Thursday 03 March 2011] [12:52:32] &lt;guido_g&gt; pieter_hintjens: simple hb works</div>
<div class="line">[Thursday 03 March 2011] [12:54:08] &lt;guido_g&gt; ahh my worker crashes when the broker is restarted</div>
<div class="line">[Thursday 03 March 2011] [13:08:17] &lt;guido_g&gt; ha! works now</div>
<div class="line">[Thursday 03 March 2011] [13:24:53] Notice    -tomaw- [Global Notice] Hi all.  As you probably noticed we&#8217;re experiencing some connectivity issues currently.  We&#8217;re investigating options and will continue with any updates via wallops (/mode yournick +w to enable)</div>
<div class="line">[Thursday 03 March 2011] [13:52:56] &lt;guido_g&gt; pieter_hintjens: python client and worker are running against your broker</div>
<div class="line">[Thursday 03 March 2011] [14:21:23] &lt;yrashk&gt;  according to our latest fixes to erlzmq tests, ezmq is still way faster</div>
<div class="line">[Thursday 03 March 2011] [15:07:28] &lt;pieter_hintjens&gt; guido_g: I&#8217;m back... that&#8217;s great!</div>
<div class="line">[Thursday 03 March 2011] [15:07:53] &lt;pieter_hintjens&gt; private_meta: yes, it&#8217;s finished for now</div>
<div class="line">[Thursday 03 March 2011] [15:11:36] &lt;guido_g&gt; pieter_hintjens: wb</div>
<div class="line">[Thursday 03 March 2011] [15:11:59] &lt;pieter_hintjens&gt; guido_g: I added you as contributor to the spec, if that&#8217;s ok</div>
<div class="line">[Thursday 03 March 2011] [15:12:00] &lt;guido_g&gt; small thing, the mdbroker segfaults sometimes :)</div>
<div class="line">[Thursday 03 March 2011] [15:12:08] &lt;guido_g&gt; thanks</div>
<div class="line">[Thursday 03 March 2011] [15:12:14] &lt;pieter_hintjens&gt; can you get me a backtrace?</div>
<div class="line">[Thursday 03 March 2011] [15:12:29] &lt;pieter_hintjens&gt; or reproducible case</div>
<div class="line">[Thursday 03 March 2011] [15:12:29] &lt;guido_g&gt; i&#8217;ll try my best</div>
<div class="line">[Thursday 03 March 2011] [15:12:41] &lt;travlr&gt;  pieter_hintjens: hey pieter, how would suggest I implement a mail list service for an open source community project i&#8217;m ready to start?</div>
<div class="line">[Thursday 03 March 2011] [15:12:45] &lt;pieter_hintjens&gt; ulimit -u</div>
<div class="line">[Thursday 03 March 2011] [15:12:46] &lt;guido_g&gt; it&#8217;s related to a worker beeing killed</div>
<div class="line">[Thursday 03 March 2011] [15:12:52] &lt;pieter_hintjens&gt; and then you&#8217;ll get core files</div>
<div class="line">[Thursday 03 March 2011] [15:13:02] &lt;pieter_hintjens&gt; yeah, cleaning up dead workers is tricky</div>
<div class="line">[Thursday 03 March 2011] [15:13:18] &lt;pieter_hintjens&gt; travlr: hmm... I&#8217;d avoid email lists altogether, personally</div>
<div class="line">[Thursday 03 March 2011] [15:13:23] &lt;guido_g&gt; are your build scripts compiling w/ debug on?</div>
<div class="line">[Thursday 03 March 2011] [15:13:32] &lt;pieter_hintjens&gt; guido_g: should be, now</div>
<div class="line">[Thursday 03 March 2011] [15:13:39] &lt;pieter_hintjens&gt; try &#8216;c -C&#8217; for sure</div>
<div class="line">[Thursday 03 March 2011] [15:13:54] &lt;travlr&gt;  pieter_hintjens: what might be your suggestion then.</div>
<div class="line">[Thursday 03 March 2011] [15:13:59] &lt;pieter_hintjens&gt; travlr: you might take one of the wikis at <a class="reference external" href="http://irongiant.wikidot.com">http://irongiant.wikidot.com</a></div>
<div class="line">[Thursday 03 March 2011] [15:14:11] &lt;pieter_hintjens&gt; that works well for community projects</div>
<div class="line">[Thursday 03 March 2011] [15:14:29] &lt;pieter_hintjens&gt; forum + email alerts + wiki combinations</div>
<div class="line">[Thursday 03 March 2011] [15:14:30] &lt;travlr&gt;  is that just using wikidot&#8217;s forum widgets?</div>
<div class="line">[Thursday 03 March 2011] [15:14:48] &lt;pieter_hintjens&gt; no, pages + comments in those ones</div>
<div class="line">[Thursday 03 March 2011] [15:15:18] &lt;travlr&gt;  ah, ok so its irongiant specific... let me look at the link, thank you.</div>
<div class="line">[Thursday 03 March 2011] [15:15:36] &lt;pieter_hintjens&gt; email lists are ok but a bit useless for dynamic work</div>
<div class="line">[Thursday 03 March 2011] [15:15:42] &lt;pieter_hintjens&gt; thus we all hang out here on irc...</div>
<div class="line">[Thursday 03 March 2011] [15:16:03] &lt;travlr&gt;  yes, i was hoping for forum, email notication integration</div>
<div class="line">[Thursday 03 March 2011] [15:16:10] &lt;pieter_hintjens&gt; you got it all there</div>
<div class="line">[Thursday 03 March 2011] [15:16:17] &lt;pieter_hintjens&gt; there is an open source project template afair</div>
<div class="line">[Thursday 03 March 2011] [15:16:24] &lt;travlr&gt;  k</div>
<div class="line">[Thursday 03 March 2011] [15:16:27] &lt;travlr&gt;  thanks</div>
<div class="line">[Thursday 03 March 2011] [15:16:33] &lt;pieter_hintjens&gt; clickety-clone and it&#8217;s done, very simple</div>
<div class="line">[Thursday 03 March 2011] [15:16:35] &lt;pieter_hintjens&gt; np</div>
<div class="line">[Thursday 03 March 2011] [15:25:27] &lt;guido_g&gt; pieter_hintjens: <a class="reference external" href="https://gist.github.com/853467">https://gist.github.com/853467</a>  is not enough info i guess</div>
<div class="line">[Thursday 03 March 2011] [15:26:00] &lt;pieter_hintjens&gt; guido_g: when did you pull the branch from git?</div>
<div class="line">[Thursday 03 March 2011] [15:26:08] &lt;pieter_hintjens&gt; this is a bug I fixed afaik</div>
<div class="line">[Thursday 03 March 2011] [15:26:18] &lt;guido_g&gt; ok, i&#8217;ll check</div>
<div class="line">[Thursday 03 March 2011] [15:26:31] &lt;pieter_hintjens&gt; also it&#8217;s not debug, so I think the previous version...</div>
<div class="line">[Thursday 03 March 2011] [15:26:45] &lt;pieter_hintjens&gt; I&#8217;ll have to put a version number in the broker :-)</div>
<div class="line">[Thursday 03 March 2011] [15:30:28] &lt;guido_g&gt; it&#8217;s up-to-date when i do a pull</div>
<div class="line">[Thursday 03 March 2011] [15:30:53] &lt;pieter_hintjens&gt; hmm</div>
<div class="line">[Thursday 03 March 2011] [15:31:06] &lt;pieter_hintjens&gt; master branch...</div>
<div class="line">[Thursday 03 March 2011] [15:31:26] &lt;pieter_hintjens&gt; ok, let me add a version number print...</div>
<div class="line">[Thursday 03 March 2011] [15:31:36] &lt;guido_g&gt; <a class="reference external" href="https://gist.github.com/853483">https://gist.github.com/853483</a> &lt;- output of run</div>
<div class="line">[Thursday 03 March 2011] [15:31:58] &lt;guido_g&gt; trying to get more info out of gdb</div>
<div class="line">[Thursday 03 March 2011] [15:33:25] &lt;pieter_hintjens&gt; can you grab the latest master, rebuild the broker?</div>
<div class="line">[Thursday 03 March 2011] [15:35:06] &lt;guido_g&gt; grml the c script ignores the -g</div>
<div class="line">[Thursday 03 March 2011] [15:35:23] &lt;pieter_hintjens&gt; how are you building?</div>
<div class="line">[Thursday 03 March 2011] [15:35:31] &lt;pieter_hintjens&gt; &#8216;./build mdbroker&#8217; should work</div>
<div class="line">[Thursday 03 March 2011] [15:36:00] &lt;guido_g&gt; the c script does not pass the -g to the compiler</div>
<div class="line">[Thursday 03 March 2011] [15:36:07] &lt;pieter_hintjens&gt; nope, it doesn&#8217;t</div>
<div class="line">[Thursday 03 March 2011] [15:36:13] &lt;pieter_hintjens&gt; that&#8217;s not how it works</div>
<div class="line">[Thursday 03 March 2011] [15:36:21] &lt;guido_g&gt; ??</div>
<div class="line">[Thursday 03 March 2011] [15:36:28] &lt;pieter_hintjens&gt; sigh... it&#8217;s a long story</div>
<div class="line">[Thursday 03 March 2011] [15:36:32] &lt;guido_g&gt; build calls this script</div>
<div class="line">[Thursday 03 March 2011] [15:36:34] &lt;pieter_hintjens&gt; can&#8217;t you just &#8216;./build all&#8217;?</div>
<div class="line">[Thursday 03 March 2011] [15:36:39] &lt;pieter_hintjens&gt; ah hang on</div>
<div class="line">[Thursday 03 March 2011] [15:36:44] &lt;guido_g&gt; <em>sigh</em></div>
<div class="line">[Thursday 03 March 2011] [15:36:51] &lt;guido_g&gt; yes, i can but w/o debug info</div>
<div class="line">[Thursday 03 March 2011] [15:36:58] &lt;pieter_hintjens&gt; yes, but it doesn&#8217;t pass a -g option</div>
<div class="line">[Thursday 03 March 2011] [15:37:15] &lt;guido_g&gt; then the header of c should be changed</div>
<div class="line">[Thursday 03 March 2011] [15:37:21] &lt;guido_g&gt; there is a -g mentioned</div>
<div class="line">[Thursday 03 March 2011] [15:37:42] &lt;pieter_hintjens&gt; yes, that&#8217;s wrong</div>
<div class="line">[Thursday 03 March 2011] [15:37:58] &lt;guido_g&gt; double <em>sigh</em></div>
<div class="line">[Thursday 03 March 2011] [15:38:07] &lt;pieter_hintjens&gt; what git commit are you on?</div>
<div class="line">[Thursday 03 March 2011] [15:38:11] &lt;pieter_hintjens&gt; git log -1</div>
<div class="line">[Thursday 03 March 2011] [15:39:39] &lt;guido_g&gt; new clone and fresh broker (w/o debug info)</div>
<div class="line">[Thursday 03 March 2011] [15:39:44] &lt;guido_g&gt; testing...</div>
<div class="line">[Thursday 03 March 2011] [15:39:56] &lt;pieter_hintjens&gt; what git commit are you on?</div>
<div class="line">[Thursday 03 March 2011] [15:40:11] &lt;pieter_hintjens&gt; the c script is ok, it doesn&#8217;t pass -g to the compiler as such, it processes it</div>
<div class="line">[Thursday 03 March 2011] [15:40:17] &lt;pieter_hintjens&gt; but all this is beside the point</div>
<div class="line">[Thursday 03 March 2011] [15:40:24] &lt;guido_g&gt;  git log -1</div>
<div class="line">[Thursday 03 March 2011] [15:40:24] &lt;guido_g&gt; commit a8121994b0c25f4d242bbf06074dc6cc389ff336</div>
<div class="line">[Thursday 03 March 2011] [15:40:42] &lt;pieter_hintjens&gt; ok</div>
<div class="line">[Thursday 03 March 2011] [15:40:51] &lt;pieter_hintjens&gt; take hammer, break glass</div>
<div class="line">[Thursday 03 March 2011] [15:40:58] &lt;pieter_hintjens&gt; export BOOM_MODEL=debug; build all</div>
<div class="line">[Thursday 03 March 2011] [15:41:23] &lt;djc&gt;     pieter_hintjens: if you have a moment later, could you take a peek at my questions from 3h ago?</div>
<div class="line">[Thursday 03 March 2011] [15:41:46] &lt;pieter_hintjens&gt; djc: let me look...</div>
<div class="line">[Thursday 03 March 2011] [15:42:04] &lt;pieter_hintjens&gt; ok... for openpgm, I don&#8217;t know</div>
<div class="line">[Thursday 03 March 2011] [15:42:18] &lt;pieter_hintjens&gt; for the XML dependency, it&#8217;s there in some random main programs still being built with 0MQ</div>
<div class="line">[Thursday 03 March 2011] [15:42:37] &lt;pieter_hintjens&gt; they resist being killed because they theoretically form part of the &#8216;API&#8217; and thus are holy</div>
<div class="line">[Thursday 03 March 2011] [15:42:49] &lt;djc&gt;     ah yes, that is how it goes</div>
<div class="line">[Thursday 03 March 2011] [15:42:59] &lt;pieter_hintjens&gt; guido_g: the build script _should_ be making debug builds</div>
<div class="line">[Thursday 03 March 2011] [15:43:08] &lt;guido_g&gt; it does not</div>
<div class="line">[Thursday 03 March 2011] [15:43:17] &lt;djc&gt;     so for openpgm I should probably stick to .92 and wait for you guys to test something newer?</div>
<div class="line">[Thursday 03 March 2011] [15:43:26] &lt;pieter_hintjens&gt; djc: you need to ask steve-o</div>
<div class="line">[Thursday 03 March 2011] [15:43:33] &lt;djc&gt;     pieter_hintjens: okay, thanks</div>
<div class="line">[Thursday 03 March 2011] [15:43:45] &lt;djc&gt;     does he come around here, and if so, in what tz?</div>
<div class="line">[Thursday 03 March 2011] [15:43:50] &lt;pieter_hintjens&gt; guido_g: ok, can you add &#8216;c -C&#8217; to build just before the first if statement?</div>
<div class="line">[Thursday 03 March 2011] [15:44:08] &lt;pieter_hintjens&gt; that&#8217;ll produce a report of the actual C compiler syntax it uses</div>
<div class="line">[Thursday 03 March 2011] [15:44:17] &lt;guido_g&gt; w/ debug info <a class="reference external" href="https://gist.github.com/853467">https://gist.github.com/853467</a></div>
<div class="line">[Thursday 03 March 2011] [15:44:18]    * pieter_hintjens is annoyed when small things don&#8217;t work as they should</div>
<div class="line">[Thursday 03 March 2011] [15:44:27] &lt;guido_g&gt; hehe</div>
<div class="line">[Thursday 03 March 2011] [15:44:41] &lt;guido_g&gt; i did the export hingie and it seemed to work</div>
<div class="line">[Thursday 03 March 2011] [15:44:46] &lt;guido_g&gt; <a href="#id27"><span class="problematic" id="id28">*</span></a>thingie</div>
<div class="line">[Thursday 03 March 2011] [15:45:26] &lt;pieter_hintjens&gt; which the dratted build script is meant to do itself if necessary</div>
<div class="line">[Thursday 03 March 2011] [15:45:41] &lt;pieter_hintjens&gt; one line of shell, how complex can it be... :-(</div>
<div class="line">[Thursday 03 March 2011] [15:46:02] &lt;pieter_hintjens&gt; ok, looking at that backtrace, thanks</div>
<div class="line">[Thursday 03 March 2011] [15:46:52] &lt;guido_g&gt; this happens when the (only) worker exits w/o disconnect (just disapears)</div>
<div class="line">[Thursday 03 March 2011] [15:47:03]    * pieter_hintjens will try to reproduce</div>
<div class="line">[Thursday 03 March 2011] [15:47:13] &lt;guido_g&gt; oops</div>
<div class="line">[Thursday 03 March 2011] [15:47:27] &lt;guido_g&gt; tested this w/ my worker</div>
<div class="line">[Thursday 03 March 2011] [15:47:34] &lt;guido_g&gt; will try the c worker now</div>
<div class="line">[Thursday 03 March 2011] [15:48:36] &lt;pieter_hintjens&gt; if your worker makes it crash, send that to me</div>
<div class="line">[Thursday 03 March 2011] [15:48:41] &lt;pieter_hintjens&gt; I can&#8217;t get the crash using the C worker</div>
<div class="line">[Thursday 03 March 2011] [15:48:50] &lt;guido_g&gt; i can :)</div>
<div class="line">[Thursday 03 March 2011] [15:49:19] &lt;guido_g&gt; you stopped the worker w/ ctrl-c?</div>
<div class="line">[Thursday 03 March 2011] [15:49:24] &lt;pieter_hintjens&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [15:49:28] &lt;guido_g&gt; tz tz tz</div>
<div class="line">[Thursday 03 March 2011] [15:49:38] &lt;pieter_hintjens&gt; kill -9?</div>
<div class="line">[Thursday 03 March 2011] [15:49:49] &lt;pieter_hintjens&gt; should not make any difference</div>
<div class="line">[Thursday 03 March 2011] [15:49:57] &lt;guido_g&gt; it looks like the woker sends a disconnect on sigint</div>
<div class="line">[Thursday 03 March 2011] [15:50:09] &lt;pieter_hintjens&gt; nope, don&#8217;t think so...</div>
<div class="line">[Thursday 03 March 2011] [15:50:24] &lt;guido_g&gt; ok</div>
<div class="line">[Thursday 03 March 2011] [15:50:59] &lt;pieter_hintjens&gt; well, valgrind is also real good for this</div>
<div class="line">[Thursday 03 March 2011] [15:51:09] &lt;pieter_hintjens&gt; valgrind &#8211;tool=memcheck mdbroker</div>
<div class="line">[Thursday 03 March 2011] [15:51:22] &lt;guido_g&gt; crash when killing the worker w/ ctrl-c too</div>
<div class="line">[Thursday 03 March 2011] [15:51:34] &lt;pieter_hintjens&gt; hmm, can&#8217;t be a timing issue, it&#8217;s all one thread</div>
<div class="line">[Thursday 03 March 2011] [15:51:44] &lt;pieter_hintjens&gt; are you also running a client?</div>
<div class="line">[Thursday 03 March 2011] [15:51:45] &lt;guido_g&gt; bt looks like its the same place</div>
<div class="line">[Thursday 03 March 2011] [15:52:01] &lt;guido_g&gt; no, client has been disconnected before</div>
<div class="line">[Thursday 03 March 2011] [15:52:15] &lt;pieter_hintjens&gt; but do you start it in the test case?</div>
<div class="line">[Thursday 03 March 2011] [15:52:37] &lt;guido_g&gt; i&#8217;ve a one shot client that sends one request</div>
<div class="line">[Thursday 03 March 2011] [15:52:48] &lt;pieter_hintjens&gt; this makes a difference</div>
<div class="line">[Thursday 03 March 2011] [15:52:53] &lt;pieter_hintjens&gt; yes, I got the crash now</div>
<div class="line">[Thursday 03 March 2011] [15:53:00] &lt;pieter_hintjens&gt; need to have a client request</div>
<div class="line">[Thursday 03 March 2011] [15:53:12] &lt;guido_g&gt; even a processed one?</div>
<div class="line">[Thursday 03 March 2011] [15:53:31] &lt;pieter_hintjens&gt; it all affects the broker state</div>
<div class="line">[Thursday 03 March 2011] [15:53:49] &lt;guido_g&gt; obviously</div>
<div class="line">[Thursday 03 March 2011] [15:54:17] &lt;pieter_hintjens&gt; ok, I got the error, but will look at it tomorrow</div>
<div class="line">[Thursday 03 March 2011] [15:54:32] &lt;pieter_hintjens&gt; i appreciate the feedback enormously, guido_g</div>
<div class="line">[Thursday 03 March 2011] [15:54:35] &lt;guido_g&gt; mq is like a time machine, didn&#8217;t use gdb for 10 years</div>
<div class="line">[Thursday 03 March 2011] [15:54:42] &lt;pieter_hintjens&gt; heh</div>
<div class="line">[Thursday 03 March 2011] [15:57:31] &lt;guido_g&gt; any idea where to put the python version of mdp?</div>
<div class="line">[Thursday 03 March 2011] [15:58:07] &lt;guido_g&gt; i&#8217;ll make a repo for it</div>
<div class="line">[Thursday 03 March 2011] [16:05:44] &lt;pieter_hintjens&gt; guido_g: I&#8217;d hope for Python translations that can be used for the Guide</div>
<div class="line">[Thursday 03 March 2011] [16:06:12] &lt;pieter_hintjens&gt; these are minimal implementations, we can make a real product &amp; repository after</div>
<div class="line">[Thursday 03 March 2011] [16:06:14] &lt;guido_g&gt; sure, but there not translations of the c code, as i said</div>
<div class="line">[Thursday 03 March 2011] [16:06:46] &lt;guido_g&gt; this a mdp implementation using the async features of pyzmq</div>
<div class="line">[Thursday 03 March 2011] [16:07:11] &lt;pieter_hintjens&gt; that sounds fine</div>
<div class="line">[Thursday 03 March 2011] [16:07:18] &lt;pieter_hintjens&gt; the point isn&#8217;t to write C in Python</div>
<div class="line">[Thursday 03 March 2011] [16:07:32] &lt;pieter_hintjens&gt; the point is to show Python programmers how to make the example in question</div>
<div class="line">[Thursday 03 March 2011] [16:07:38] &lt;pieter_hintjens&gt; so, client API, worker API, broker</div>
<div class="line">[Thursday 03 March 2011] [16:07:47] &lt;pieter_hintjens&gt; using whatever the language offers</div>
<div class="line">[Thursday 03 March 2011] [16:07:56] &lt;guido_g&gt; <a class="reference external" href="https://gist.github.com/853561">https://gist.github.com/853561</a>  &lt;- the test worker</div>
<div class="line">[Thursday 03 March 2011] [16:09:04] &lt;pieter_hintjens&gt; did you read mdwrkapi.c?</div>
<div class="line">[Thursday 03 March 2011] [16:09:08] &lt;pieter_hintjens&gt; and mdworker.c</div>
<div class="line">[Thursday 03 March 2011] [16:09:11] &lt;guido_g&gt; no</div>
<div class="line">[Thursday 03 March 2011] [16:09:23] &lt;pieter_hintjens&gt; probably worth doing</div>
<div class="line">[Thursday 03 March 2011] [16:09:45] &lt;guido_g&gt; why?</div>
<div class="line">[Thursday 03 March 2011] [16:09:51] &lt;pieter_hintjens&gt; simply to see if we can offer a consistent API</div>
<div class="line">[Thursday 03 March 2011] [16:10:01] &lt;pieter_hintjens&gt; worker API in C or Python can look similar</div>
<div class="line">[Thursday 03 March 2011] [16:10:08] &lt;guido_g&gt; pieter_hintjens&gt; the point isn&#8217;t to write C in Python  &lt;- ...</div>
<div class="line">[Thursday 03 March 2011] [16:10:15] &lt;pieter_hintjens&gt; the API I made is not C</div>
<div class="line">[Thursday 03 March 2011] [16:10:19] &lt;pieter_hintjens&gt; it&#8217;s implemented in C</div>
<div class="line">[Thursday 03 March 2011] [16:10:40] &lt;pieter_hintjens&gt; I&#8217;d thought of specifying the API as a rfc</div>
<div class="line">[Thursday 03 March 2011] [16:10:44] &lt;pieter_hintjens&gt; both APIs</div>
<div class="line">[Thursday 03 March 2011] [16:11:04] &lt;pieter_hintjens&gt; for example, in mdworker.c there is no 0MQ context, it&#8217;s invisible</div>
<div class="line">[Thursday 03 March 2011] [16:12:29] &lt;pieter_hintjens&gt; see <a class="reference external" href="https://gist.github.com/853581">https://gist.github.com/853581</a></div>
<div class="line">[Thursday 03 March 2011] [16:12:53] &lt;pieter_hintjens&gt; and yes it includes a .c, please don&#8217;t complain... :-)</div>
<div class="line">[Thursday 03 March 2011] [16:15:25] &lt;guido_g&gt; <a class="reference external" href="https://github.com/guidog/pyzmq-mdp">https://github.com/guidog/pyzmq-mdp</a> &lt;- first go</div>
<div class="line">[Thursday 03 March 2011] [16:16:11] &lt;guido_g&gt; see, the api is completely different because of the mechanisms used</div>
<div class="line">[Thursday 03 March 2011] [16:16:47] &lt;guido_g&gt; as i said, i want to make use of the async features built into pyzmq</div>
<div class="line">[Thursday 03 March 2011] [16:17:48] &lt;pieter_hintjens&gt; for sure</div>
<div class="line">[Thursday 03 March 2011] [16:18:10] &lt;pieter_hintjens&gt; though I&#8217;ve no idea what the value is in offering such a complex API to app developers...</div>
<div class="line">[Thursday 03 March 2011] [16:18:20] &lt;guido_g&gt; complex?</div>
<div class="line">[Thursday 03 March 2011] [16:18:51] &lt;pieter_hintjens&gt; look, my API has three methods</div>
<div class="line">[Thursday 03 March 2011] [16:18:58] &lt;pieter_hintjens&gt; create, send/recv, destroy</div>
<div class="line">[Thursday 03 March 2011] [16:19:05] &lt;pieter_hintjens&gt; yours exposes the internals of MDP</div>
<div class="line">[Thursday 03 March 2011] [16:19:10] &lt;pieter_hintjens&gt; every timeout, every message</div>
<div class="line">[Thursday 03 March 2011] [16:19:24] &lt;pieter_hintjens&gt; it&#8217;s not a wrapper at all, just a deconfobulatorix</div>
<div class="line">[Thursday 03 March 2011] [16:19:25] &lt;guido_g&gt; the create is line 31 in the example worker</div>
<div class="line">[Thursday 03 March 2011] [16:19:35] &lt;pieter_hintjens&gt; i made that up, btw</div>
<div class="line">[Thursday 03 March 2011] [16:19:42] &lt;pieter_hintjens&gt; sorry :-) it&#8217;s late</div>
<div class="line">[Thursday 03 March 2011] [16:19:51] &lt;guido_g&gt; the worker method is the on_request</div>
<div class="line">[Thursday 03 March 2011] [16:20:04] &lt;guido_g&gt; and the reply is sent by self.reply</div>
<div class="line">[Thursday 03 March 2011] [16:20:12] &lt;pieter_hintjens&gt; i&#8217;m not complaining, this is fantastic work</div>
<div class="line">[Thursday 03 March 2011] [16:20:15] &lt;guido_g&gt; very complicated, i&#8217;ve to admit</div>
<div class="line">[Thursday 03 March 2011] [16:20:27] &lt;pieter_hintjens&gt; please do look at that gist I posted just now</div>
<div class="line">[Thursday 03 March 2011] [16:20:36] &lt;pieter_hintjens&gt; that&#8217;s what the app developer sees</div>
<div class="line">[Thursday 03 March 2011] [16:20:51] &lt;pieter_hintjens&gt; when my C code is shorter than your Python code, to do the same work... that&#8217;s... well...</div>
<div class="line">[Thursday 03 March 2011] [16:21:02] &lt;pieter_hintjens&gt; ok</div>
<div class="line">[Thursday 03 March 2011] [16:21:05] &lt;pieter_hintjens&gt; projects...</div>
<div class="line">[Thursday 03 March 2011] [16:21:13] &lt;pieter_hintjens&gt; MDP is the protocol, not software</div>
<div class="line">[Thursday 03 March 2011] [16:21:45] &lt;guido_g&gt; shorter?</div>
<div class="line">[Thursday 03 March 2011] [16:21:46] &lt;pieter_hintjens&gt; do you see value in a project with mixed pieces, e.g. brokers / apis in different languages</div>
<div class="line">[Thursday 03 March 2011] [16:21:54] &lt;pieter_hintjens&gt; <a class="reference external" href="https://gist.github.com/853581">https://gist.github.com/853581</a></div>
<div class="line">[Thursday 03 March 2011] [16:21:59] &lt;guido_g&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [16:22:03] &lt;pieter_hintjens&gt; that&#8217;s the echo worker</div>
<div class="line">[Thursday 03 March 2011] [16:22:06] &lt;pieter_hintjens&gt; ok, let&#8217;</div>
<div class="line">[Thursday 03 March 2011] [16:22:10] &lt;pieter_hintjens&gt; let&#8217;s invent a name</div>
<div class="line">[Thursday 03 March 2011] [16:22:18] &lt;guido_g&gt; i might be shocked, but can still read</div>
<div class="line">[Thursday 03 March 2011] [16:22:39] &lt;pieter_hintjens&gt; majordomo already been taken by some random FOSS project apparently</div>
<div class="line">[Thursday 03 March 2011] [16:23:00] &lt;guido_g&gt; random... <em>cough</em></div>
<div class="line">[Thursday 03 March 2011] [16:23:04]    * pieter_hintjens searches for random but memorable name...</div>
<div class="line">[Thursday 03 March 2011] [16:23:18] &lt;pieter_hintjens&gt; do you prefer memorable or meaningful?</div>
<div class="line">[Thursday 03 March 2011] [16:23:18] &lt;guido_g&gt; the interoperability is there</div>
<div class="line">[Thursday 03 March 2011] [16:23:21] &lt;pieter_hintjens&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [16:23:36] &lt;guido_g&gt; i&#8217;m using my worker w/ your broker and and client</div>
<div class="line">[Thursday 03 March 2011] [16:23:39] &lt;pieter_hintjens&gt; interop is a funny thing though, it operates at multiple levels</div>
<div class="line">[Thursday 03 March 2011] [16:23:45] &lt;pieter_hintjens&gt; e.g. 0mq api is interop</div>
<div class="line">[Thursday 03 March 2011] [16:24:00] &lt;Guthur&gt;  pieter_hintjens, what&#8217;s the link to this protocol?</div>
<div class="line">[Thursday 03 March 2011] [16:24:06] &lt;pieter_hintjens&gt; zero.mq/md</div>
<div class="line">[Thursday 03 March 2011] [16:24:18]    * pieter_hintjens likes the link shorterner at zero.mq...</div>
<div class="line">[Thursday 03 March 2011] [16:24:20] &lt;guido_g&gt; <a class="reference external" href="http://rfc.zeromq.org/spec:7">http://rfc.zeromq.org/spec:7</a></div>
<div class="line">[Thursday 03 March 2011] [16:24:23] &lt;Guthur&gt;  cheers</div>
<div class="line">[Thursday 03 March 2011] [16:24:33] &lt;pieter_hintjens&gt; :-)</div>
<div class="line">[Thursday 03 March 2011] [16:24:50] &lt;Guthur&gt;  did you find that majordomo is trademarked?</div>
<div class="line">[Thursday 03 March 2011] [16:25:00] &lt;pieter_hintjens&gt; nope, it&#8217;s not afaics</div>
<div class="line">[Thursday 03 March 2011] [16:25:25] &lt;guido_g&gt; but still, the name is known for a quite long time</div>
<div class="line">[Thursday 03 March 2011] [16:25:26] &lt;pieter_hintjens&gt; but it&#8217;s a bad idea to mix the pattern - protocol - implementation</div>
<div class="line">[Thursday 03 March 2011] [16:26:37] &lt;pieter_hintjens&gt; oh god, a bank email hit the list</div>
<div class="line">[Thursday 03 March 2011] [16:26:46] &lt;pieter_hintjens&gt; you can tell them by the 1000-word disclaimers</div>
<div class="line">[Thursday 03 March 2011] [16:27:02] &lt;pieter_hintjens&gt; And someone&#8217;s acidic reply, &#8220;It took me a moment to realize your ridiculous disclaimer is not the message itself...&#8221;</div>
<div class="line">[Thursday 03 March 2011] [16:27:04] &lt;pieter_hintjens&gt; hehe</div>
<div class="line">[Thursday 03 March 2011] [16:27:15] &lt;guido_g&gt; hehe</div>
<div class="line">[Thursday 03 March 2011] [16:29:38] &lt;Guthur&gt;  it then has another link to even more disclaimer talk</div>
<div class="line">[Thursday 03 March 2011] [16:30:05] &lt;pieter_hintjens&gt; I think I just sold my soul to BoA by replying to that email</div>
<div class="line">[Thursday 03 March 2011] [16:31:00] &lt;pieter_hintjens&gt; ok, guido, let&#8217;s make a project called Popcorn</div>
<div class="line">[Thursday 03 March 2011] [16:31:10] &lt;pieter_hintjens&gt; cause I&#8217;m finishing a large bowl I made a while ago</div>
<div class="line">[Thursday 03 March 2011] [16:31:46] &lt;pieter_hintjens&gt; there are dozens of FOSS projects called popcorn so there&#8217;s no chance of confusion</div>
<div class="line">[Thursday 03 March 2011] [16:31:55] &lt;guido_g&gt; there was a song called like that... back when music came these black large discs...</div>
<div class="line">[Thursday 03 March 2011] [16:32:02] &lt;pieter_hintjens&gt; 8&#8221; floppies?</div>
<div class="line">[Thursday 03 March 2011] [16:32:10]    * pieter_hintjens vaguely remembers...</div>
<div class="line">[Thursday 03 March 2011] [16:32:11] &lt;guido_g&gt; no, harder</div>
<div class="line">[Thursday 03 March 2011] [16:32:23] &lt;pieter_hintjens&gt; 12&#8221; removable winchesters?</div>
<div class="line">[Thursday 03 March 2011] [16:32:37] &lt;pieter_hintjens&gt; did they have MP3s in those days? don&#8217;t think so...</div>
<div class="line">[Thursday 03 March 2011] [16:32:45] &lt;guido_g&gt; but drive was open mostly</div>
<div class="line">[Thursday 03 March 2011] [16:32:47] &lt;pieter_hintjens&gt; you&#8217;re making this up as you&#8217;re going along!</div>
<div class="line">[Thursday 03 March 2011] [16:33:03] &lt;pieter_hintjens&gt; so, guido_g, shall I make this as an official zeromq community project?</div>
<div class="line">[Thursday 03 March 2011] [16:33:20] &lt;guido_g&gt; let it cook a bit more first</div>
<div class="line">[Thursday 03 March 2011] [16:33:27] &lt;pieter_hintjens&gt; embrace the chaos!</div>
<div class="line">[Thursday 03 March 2011] [16:33:38] &lt;pieter_hintjens&gt; it burns if you leave it cooking too long</div>
<div class="line">[Thursday 03 March 2011] [16:34:09] &lt;guido_g&gt; if we have full interop w/ the c version, then it might be worth to be announced</div>
<div class="line">[Thursday 03 March 2011] [16:34:29] &lt;guido_g&gt; for this it needs a broker</div>
<div class="line">[Thursday 03 March 2011] [16:34:29] &lt;pieter_hintjens&gt; ah, but the trick with projects is to announce a stunning goal way before you can make it happen</div>
<div class="line">[Thursday 03 March 2011] [16:34:35] &lt;Guthur&gt;  what is this new project</div>
<div class="line">[Thursday 03 March 2011] [16:34:45] &lt;pieter_hintjens&gt; guido_g: see, we have interest already...</div>
<div class="line">[Thursday 03 March 2011] [16:34:53] &lt;pieter_hintjens&gt; Guthur: sorry, can&#8217;t tell you, it&#8217;s confidential</div>
<div class="line">[Thursday 03 March 2011] [16:34:55] &lt;guido_g&gt; <em>sigh</em></div>
<div class="line">[Thursday 03 March 2011] [16:34:58] &lt;pieter_hintjens&gt; :-)</div>
<div class="line">[Thursday 03 March 2011] [16:35:02] &lt;Guthur&gt;  I could try the logs hehe</div>
<div class="line">[Thursday 03 March 2011] [16:35:09] &lt;Guthur&gt;  they are quite long though</div>
<div class="line">[Thursday 03 March 2011] [16:35:16] &lt;guido_g&gt; <a class="reference external" href="https://github.com/guidog/pyzmq-mdp">https://github.com/guidog/pyzmq-mdp</a></div>
<div class="line">[Thursday 03 March 2011] [16:35:25] &lt;Guthur&gt;  you guys were chatting for ages, hehe</div>
<div class="line">[Thursday 03 March 2011] [16:35:48] &lt;pieter_hintjens&gt; guido_g: cook it a while, anyhow</div>
<div class="line">[Thursday 03 March 2011] [16:36:17] &lt;pieter_hintjens&gt; if it was my project, I&#8217;d insist on common APIs in all languages</div>
<div class="line">[Thursday 03 March 2011] [16:36:18] &lt;guido_g&gt; at the least the broker should be there and working with your worker and client</div>
<div class="line">[Thursday 03 March 2011] [16:36:24] &lt;pieter_hintjens&gt; yes</div>
<div class="line">[Thursday 03 March 2011] [16:36:43] &lt;pieter_hintjens&gt; defining good, language neutral APIs is quite fun</div>
<div class="line">[Thursday 03 March 2011] [16:36:52] &lt;pieter_hintjens&gt; and extraordinarily useful to app developers</div>
<div class="line">[Thursday 03 March 2011] [16:36:54] &lt;guido_g&gt; pieter_hintjens: then i&#8217;d remove the repo immediately</div>
<div class="line">[Thursday 03 March 2011] [16:37:32] &lt;pieterh&gt; i can make event driven APIs in C, that&#8217;s not the issue</div>
<div class="line">[Thursday 03 March 2011] [16:37:55] &lt;pieterh&gt; the issue is just the semantics you show to users, and whether these can be consistent between languages</div>
<div class="line">[Thursday 03 March 2011] [16:38:15] &lt;pieterh&gt; I&#8217;m pretty adamant they can be consistent</div>
<div class="line">[Thursday 03 March 2011] [16:38:17] &lt;guido_g&gt; there is more than language</div>
<div class="line">[Thursday 03 March 2011] [16:38:39] &lt;pieterh&gt; guido_g: are you in London by any chance?</div>
<div class="line">[Thursday 03 March 2011] [16:38:44] &lt;guido_g&gt; nope</div>
<div class="line">[Thursday 03 March 2011] [16:38:48] &lt;pieterh&gt; sigh...</div>
<div class="line">[Thursday 03 March 2011] [16:39:05] &lt;guido_g&gt; too expensive just for a beer</div>
<div class="line">[Thursday 03 March 2011] [16:39:31] &lt;pieterh&gt; I&#8217;d actually take a train somewhere to thrash this out</div>
<div class="line">[Thursday 03 March 2011] [16:39:57] &lt;guido_g&gt; wouldn&#8217;t make it cheaper</div>
<div class="line">[Thursday 03 March 2011] [16:40:55] &lt;pieterh&gt; ok, let&#8217;s cook this a while.</div>
<div class="line">[Thursday 03 March 2011] [16:41:15] &lt;pieterh&gt; I need to get onto the rest of Ch4 anyhow</div>
<div class="line">[Thursday 03 March 2011] [16:41:21] &lt;pieterh&gt; there is a lot still to do</div>
<div class="line">[Thursday 03 March 2011] [16:41:55] &lt;pieterh&gt; I&#8217;ll fix that broker crash tomorrow when I find an hour, it&#8217;s a busy day</div>
<div class="line">[Thursday 03 March 2011] [16:42:06] &lt;guido_g&gt; fine with me</div>
<div class="line">[Thursday 03 March 2011] [16:42:57] &lt;pieterh&gt; ok, gnite !</div>
<div class="line">[Thursday 03 March 2011] [16:43:02] &lt;guido_g&gt; good night!</div>
<div class="line">[Thursday 03 March 2011] [16:55:50] &lt;guido_g&gt; has been a long day, need some sleep</div>
<div class="line">[Thursday 03 March 2011] [16:55:57] &lt;guido_g&gt; cya</div>
<div class="line">[Thursday 03 March 2011] [17:32:52] &lt;Guthur&gt;  pieterh, umm did the implementation of zhelpers.h not use to be in the guide text</div>
<div class="line">[Thursday 03 March 2011] [17:33:41] &lt;pieterh&gt; Guthur: (a) it got very long and (b) the translation model only works for .c files so it was showing C code in the PHP/whatever versions</div>
<div class="line">[Thursday 03 March 2011] [17:33:59] &lt;Guthur&gt;  ok</div>
<div class="line">[Thursday 03 March 2011] [17:34:09] &lt;pieterh&gt; Did you like having it in the guide?</div>
<div class="line">[Thursday 03 March 2011] [17:34:32] &lt;Guthur&gt;  doesn&#8217;t matter too much, I just wanted to check the dump implementation</div>
<div class="line">[Thursday 03 March 2011] [17:35:04] &lt;pieterh&gt; I think the Guide is moving towards being less focused on C</div>
<div class="line">[Thursday 03 March 2011] [17:35:16] &lt;Guthur&gt;  true</div>
<div class="line">[Thursday 03 March 2011] [17:35:36] &lt;pieterh&gt; Though I think C is the future... but still...</div>
<div class="line">[Thursday 03 March 2011] [17:35:43] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 03 March 2011] [17:35:46] &lt;Guthur&gt;  I thought C was the past, hehe</div>
<div class="line">[Thursday 03 March 2011] [17:35:58] &lt;Guthur&gt;  Lisp is the future, hehe</div>
<div class="line">[Thursday 03 March 2011] [17:36:06] &lt;pieterh&gt; Lisp is older than C afair</div>
<div class="line">[Thursday 03 March 2011] [17:37:10] &lt;Guthur&gt;  that was LISP</div>
<div class="line">[Thursday 03 March 2011] [17:37:53] &lt;Guthur&gt;  but true, Lisps ancestor is the second oldest high level language</div>
<div class="line">[Thursday 03 March 2011] [17:38:03] &lt;Guthur&gt;  after Fortran</div>
<div class="line">[Thursday 03 March 2011] [17:38:19] &lt;Guthur&gt;  First with a Garbage Collector as well</div>
<div class="line">[Thursday 03 March 2011] [17:38:43] &lt;Guthur&gt;  afaik</div>
<div class="line">[Thursday 03 March 2011] [17:38:57]    * pieterh resists all language discussions</div>
<div class="line">[Thursday 03 March 2011] [17:39:04] &lt;pieterh&gt; gawk rules</div>
<div class="line">[Thursday 03 March 2011] [17:39:29] &lt;Guthur&gt;  Lisp is a very enlightening experience as they say</div>
<div class="line">[Thursday 03 March 2011] [17:40:25] &lt;Guthur&gt;  Javascript is pretty awesome as well, it&#8217;s just a pity it always lives in a browser, hehe</div>
<div class="line">[Thursday 03 March 2011] [17:46:34] &lt;Guthur&gt;  pieterh, have you ever tried Forth? last language mention, I swear</div>
<div class="line">[Thursday 03 March 2011] [17:47:02] &lt;sp4ke&gt;   hi guys</div>
<div class="line">[Thursday 03 March 2011] [17:47:06] &lt;pieterh&gt; Guthur: I used to build Forth machines in 6502 assembler, quite freaky</div>
<div class="line">[Thursday 03 March 2011] [17:47:29] &lt;pieterh&gt; hi sp4ke</div>
<div class="line">[Thursday 03 March 2011] [17:47:44] &lt;Guthur&gt;  pieterh, cool, 6502 was one of my first programming experiences</div>
<div class="line">[Thursday 03 March 2011] [17:47:54] &lt;pieterh&gt; The sign of a Real Programmer</div>
<div class="line">[Thursday 03 March 2011] [17:47:55] &lt;Guthur&gt;  BBC micros</div>
<div class="line">[Thursday 03 March 2011] [17:48:02] &lt;sp4ke&gt;   want just to post this link for people who want to use zmq with MSVC 2010 i made a tutorial after struggling to make it work</div>
<div class="line">[Thursday 03 March 2011] [17:48:03] &lt;sp4ke&gt;   <a class="reference external" href="http://www.mansysadmin.com/2011/03/using-zeromq-framework-with-visual-studio-2010-tutorial/">http://www.mansysadmin.com/2011/03/using-zeromq-framework-with-visual-studio-2010-tutorial/</a></div>
<div class="line">[Thursday 03 March 2011] [17:48:14] &lt;sp4ke&gt;   it could be useful on irc archive</div>
<div class="line">[Thursday 03 March 2011] [17:49:00] &lt;pieterh&gt; sp4ke: ... it&#8217;s ...</div>
<div class="line">[Thursday 03 March 2011] [17:49:04] &lt;pieterh&gt; it comes down to &#8220;VS2010 made some changes to output properties, go to projects properties -&gt; General -&gt; , then change the Output Directory field to&#8221;......lib&#8221; (the same path as in (Linker -&gt; General -&gt; Output File) property&#8221;</div>
<div class="line">[Thursday 03 March 2011] [17:49:19] &lt;pieterh&gt; why not add that to <a class="reference external" href="http://zero.mq/tips">http://zero.mq/tips</a></div>
<div class="line">[Thursday 03 March 2011] [17:49:54] &lt;sp4ke&gt;   yes indeed but for a new comer to MSVC it is not obvious</div>
<div class="line">[Thursday 03 March 2011] [17:50:03] &lt;sp4ke&gt;   ok i will do</div>
<div class="line">[Thursday 03 March 2011] [17:50:11] &lt;sp4ke&gt;   did not know that link</div>
<div class="line">[Thursday 03 March 2011] [17:50:39] &lt;pieterh&gt; lol</div>
<div class="line">[Thursday 03 March 2011] [17:52:31] &lt;Guthur&gt;  it always works without any bother for me</div>
<div class="line">[Thursday 03 March 2011] [17:52:38] &lt;Guthur&gt;  I convert and compile</div>
<div class="line">[Thursday 03 March 2011] [17:53:06] &lt;Guthur&gt;  maybe I&#8217;m just lucky, hehe</div>
<div class="line">[Thursday 03 March 2011] [17:53:35] &lt;pieterh&gt; yeah, but he made a <em>screenshot</em></div>
<div class="line">[Thursday 03 March 2011] [18:08:48] &lt;Guthur&gt;  pieterh, the identity.c is setting the identity after connecting</div>
<div class="line">[Thursday 03 March 2011] [18:09:15] &lt;Guthur&gt;  no sorry</div>
<div class="line">[Thursday 03 March 2011] [18:09:18] &lt;Guthur&gt;  my bad</div>
<div class="line">[Thursday 03 March 2011] [18:09:29] &lt;Guthur&gt;  tired eyes</div>
<div class="line">[Thursday 03 March 2011] [18:09:53] &lt;pieterh&gt; yeah, it does it twice</div>
<div class="line">[Thursday 03 March 2011] [18:10:03] &lt;pieterh&gt; get some sleep, man!</div>
<div class="line">[Thursday 03 March 2011] [18:10:39] &lt;Guthur&gt;  soon, just want to get this dump working right</div>
<div class="line">[Thursday 03 March 2011] [18:11:34] &lt;pieterh&gt; :-) well, I fixed the Last Bug in mdbroker, am now crashing...</div>
<div class="line">[Thursday 03 March 2011] [20:42:49] &lt;yrashk&gt;  looks like ezmq got much more stable now</div>
<div class="line">[Thursday 03 March 2011] [20:43:12] &lt;yrashk&gt;  and thanks to evaxsoftware it doesn&#8217;t have a thread per socket design anymore</div>
<div class="line">[Thursday 03 March 2011] [20:43:15] &lt;yrashk&gt;  we&#8217;re multiplexing now :)</div>
<div class="line">[Thursday 03 March 2011] [21:16:31] &lt;<a href="#id223"><span class="problematic" id="id224">catlee_</span></a>&gt; hello</div>
<div class="line">[Thursday 03 March 2011] [21:16:40] &lt;<a href="#id225"><span class="problematic" id="id226">catlee_</span></a>&gt; how does zeromq compare to something like rabbitmq?</div>
<div class="line">[Thursday 03 March 2011] [22:05:27] &lt;datuanmac&gt;       hi</div>
<div class="line">[Thursday 03 March 2011] [22:06:42] &lt;datuanmac&gt;       I&#8217;m trying integrate zmq to my project in Visual c++ version 6 but it&#8217;s conflic version winsock2 ?</div>
<div class="line">[Thursday 03 March 2011] [22:16:04] &lt;datuanmac&gt;       What solution for visual 6 ?</div>
<div class="line">[Thursday 03 March 2011] [23:43:30] &lt;ctrlc-root&gt;      hello, im trying to run the hello world client/server example from the website on windows with vs2010 and the server isnt running right</div>
<div class="line">[Thursday 03 March 2011] [23:43:54] &lt;ctrlc-root&gt;      it starts but then it fails with an unhandled exception, error number 156384763</div>
<div class="line">[Thursday 03 March 2011] [23:44:06] &lt;ctrlc-root&gt;      &#8220;The operation cannot be completed because the socket is not in the right state&#8221;</div>
<div class="line">[Thursday 03 March 2011] [23:44:14] &lt;ctrlc-root&gt;      this is on the socket.recv() call in teh c++ api</div>
<div class="line">[Thursday 03 March 2011] [23:44:19] &lt;ctrlc-root&gt;      anyone know what could be going wrong?</div>
<div class="line">[Friday 04 March 2011] [01:34:31] &lt;guido_g&gt;   morning all</div>
<div class="line">[Friday 04 March 2011] [01:45:07] &lt;eyecue&gt;    tgif</div>
<div class="line">[Friday 04 March 2011] [02:03:06] &lt;guido_g&gt;   hehehe</div>
<div class="line">[Friday 04 March 2011] [02:07:05] &lt;guido_g&gt;   <a class="reference external" href="http://1.bp.blogspot.com/-LkXUSknbalU/TXB1HTDJs_I/AAAAAAAB_gw/q8Njub9H2e4/s1600/ironic_sign_situations_01.jpg">http://1.bp.blogspot.com/-LkXUSknbalU/TXB1HTDJs_I/AAAAAAAB_gw/q8Njub9H2e4/s1600/ironic_sign_situations_01.jpg</a>  &lt;- see what bad naming can do</div>
<div class="line">[Friday 04 March 2011] [02:07:42] &lt;guido_g&gt;   and now up for mor mdp fun</div>
<div class="line">[Friday 04 March 2011] [02:09:59] &lt;eyecue&gt;    that looks like its from the brisbane flood in australia</div>
<div class="line">[Friday 04 March 2011] [02:10:36] &lt;eyecue&gt;    guido_g; there was also this one during the same event :) <a class="reference external" href="http://resources1.news.com.au/images/2011/01/13/1225987/039817-suncorp-stadium.jpg">http://resources1.news.com.au/images/2011/01/13/1225987/039817-suncorp-stadium.jpg</a></div>
<div class="line">[Friday 04 March 2011] [02:11:16] &lt;guido_g&gt;   hehe</div>
<div class="line">[Friday 04 March 2011] [02:11:35] &lt;guido_g&gt;   this is the humor one would expect</div>
<div class="line">[Friday 04 March 2011] [02:11:43] &lt;eyecue&gt;    :]</div>
<div class="line">[Friday 04 March 2011] [02:11:46] &lt;eyecue&gt;    from aussies? yeh :)</div>
<div class="line">[Friday 04 March 2011] [02:12:48] &lt;guido_g&gt;   must be hard</div>
<div class="line">[Friday 04 March 2011] [02:13:12] &lt;guido_g&gt;   living close to water for the larger part of my life, but luckily never got flooded</div>
<div class="line">[Friday 04 March 2011] [02:14:21] &lt;jsimmons&gt;  i live on a hill, handy.</div>
<div class="line">[Friday 04 March 2011] [02:14:26] &lt;guido_g&gt;   once i saw a flood mark 1m above a telephoneboth in a small coastal town i lived</div>
<div class="line">[Friday 04 March 2011] [02:14:50] &lt;guido_g&gt;   coward! :)</div>
<div class="line">[Friday 04 March 2011] [02:15:31] &lt;jsimmons&gt;  im not going to slum it with the plebs down near the waterline :D</div>
<div class="line">[Friday 04 March 2011] [02:17:01] &lt;eyecue&gt;    guido_g; <a class="reference external" href="http://ian.umces.edu/blog/wp-content/uploads/2011/02/ipswich_in_flood.jpg">http://ian.umces.edu/blog/wp-content/uploads/2011/02/ipswich_in_flood.jpg</a> :)</div>
<div class="line">[Friday 04 March 2011] [02:17:26] &lt;eyecue&gt;    we do everything bigger and better in .au</div>
<div class="line">[Friday 04 March 2011] [02:17:40] &lt;guido_g&gt;   seems so</div>
<div class="line">[Friday 04 March 2011] [02:18:00] &lt;eyecue&gt;    <a class="reference external" href="http://images.brisbanetimes.com.au/2011/01/12/2130176/420ipswich-420x0.jpg">http://images.brisbanetimes.com.au/2011/01/12/2130176/420ipswich-420x0.jpg</a> &lt;&#8211; shopping centre :)</div>
<div class="line">[Friday 04 March 2011] [02:18:08] &lt;eyecue&gt;    i think they got upwards of 15m in some parts there</div>
<div class="line">[Friday 04 March 2011] [02:21:11]      * guido_g should move to the mountains</div>
<div class="line">[Friday 04 March 2011] [02:34:36] &lt;jsimmons&gt;  <a class="reference external" href="http://www.youtube.com/watch?v=LdOwFTo4Q3I">http://www.youtube.com/watch?v=LdOwFTo4Q3I</a></div>
<div class="line">[Friday 04 March 2011] [02:34:41] &lt;jsimmons&gt;  weirdo queenslanders</div>
<div class="line">[Friday 04 March 2011] [03:14:56] &lt;eyecue&gt;    :]</div>
<div class="line">[Friday 04 March 2011] [04:13:06] &lt;mikko&gt;     good morning</div>
<div class="line">[Friday 04 March 2011] [04:18:17] &lt;Steve-o&gt;   top of the morning to you mikko</div>
<div class="line">[Friday 04 March 2011] [04:20:22] &lt;mikko&gt;     i don&#8217;t fully understand this mingw32 vs mingw64 business</div>
<div class="line">[Friday 04 March 2011] [04:20:58] &lt;Steve-o&gt;   mingw64 is just an updated fork of mingw32</div>
<div class="line">[Friday 04 March 2011] [04:21:05] &lt;Steve-o&gt;   with 32-bit and 64-bit compilers</div>
<div class="line">[Friday 04 March 2011] [04:21:44] &lt;Steve-o&gt;   some rfit causing the split</div>
<div class="line">[Friday 04 March 2011] [04:21:49] &lt;Steve-o&gt;   rfit</div>
<div class="line">[Friday 04 March 2011] [04:21:51] &lt;Steve-o&gt;   rift</div>
<div class="line">[Friday 04 March 2011] [04:21:54] &lt;Steve-o&gt;   third time lucky</div>
<div class="line">[Friday 04 March 2011] [04:22:19] &lt;mikko&gt;     can i cross-compile 64bit binaries on 32bit machine with it?</div>
<div class="line">[Friday 04 March 2011] [04:22:36] &lt;mikko&gt;     looks like my own win7 build machine is offline</div>
<div class="line">[Friday 04 March 2011] [04:22:39] &lt;Steve-o&gt;   I guess you should be able to</div>
<div class="line">[Friday 04 March 2011] [04:22:45] &lt;mikko&gt;     probably installed updates again <em>sigh</em></div>
<div class="line">[Friday 04 March 2011] [04:22:51] &lt;Steve-o&gt;   SP1</div>
<div class="line">[Friday 04 March 2011] [04:23:06] &lt;Steve-o&gt;   haven&#8217;t installed it myself,</div>
<div class="line">[Friday 04 March 2011] [04:23:25] &lt;Steve-o&gt;   looking for api changes, cannot find any docs but just found some notes on getaddrinfo() today</div>
<div class="line">[Friday 04 March 2011] [04:24:38] &lt;Steve-o&gt;   you can tag interfaces to be excluded from the results using netsh</div>
<div class="line">[Friday 04 March 2011] [04:24:41] &lt;mikko&gt;     confusing situation</div>
<div class="line">[Friday 04 March 2011] [04:25:06] &lt;mikko&gt;     are mingw32 dlls compatible with mingw64 binaries?</div>
<div class="line">[Friday 04 March 2011] [04:25:30] &lt;Steve-o&gt;   are 32-bit and 64-dlls interchangable, no</div>
<div class="line">[Friday 04 March 2011] [04:25:42] &lt;mikko&gt;     whats about 32bit ones?</div>
<div class="line">[Friday 04 March 2011] [04:26:03] &lt;Steve-o&gt;   via wow64 you can run 32-bit windows winsock apps on 64-bit windows</div>
<div class="line">[Friday 04 March 2011] [04:26:15] &lt;Steve-o&gt;   there are api changes that hide the details</div>
<div class="line">[Friday 04 March 2011] [04:26:33] &lt;Steve-o&gt;   and new apis like getnativesysteminfo() just for wow64</div>
<div class="line">[Friday 04 March 2011] [04:27:20] &lt;Steve-o&gt;   wow = windows on windows</div>
<div class="line">[Friday 04 March 2011] [04:34:10] &lt;Steve-o&gt;   but it&#8217;s all transparent to the user</div>
<div class="line">[Friday 04 March 2011] [04:36:11] &lt;mikko&gt;     so building 32bit target with mingw64 doesn&#8217;t really provide value over 32bit mingw32?</div>
<div class="line">[Friday 04 March 2011] [04:36:14] &lt;mikko&gt;     from user&#8217;s point of view</div>
<div class="line">[Friday 04 March 2011] [04:44:57] &lt;<a href="#id227"><span class="problematic" id="id228">Steve-o_</span></a>&gt;  weeee, Google Chrome&#8217;s hardware acceleration is definitely not stable yet :/</div>
<div class="line">[Friday 04 March 2011] [04:55:38] &lt;<a href="#id229"><span class="problematic" id="id230">Steve-o_</span></a>&gt;  downside with mingw is that it brings in a lot of compiler dependencies and debugging is ass</div>
<div class="line">[Friday 04 March 2011] [04:56:48] &lt;mikko&gt;     one of the downsides*</div>
<div class="line">[Friday 04 March 2011] [05:03:47] &lt;<a href="#id231"><span class="problematic" id="id232">Steve-o_</span></a>&gt;  more annoying is that it is slower than msvc</div>
<div class="line">[Friday 04 March 2011] [05:05:43] &lt;<a href="#id233"><span class="problematic" id="id234">Steve-o_</span></a>&gt;  I guess mingw-w64 is more updated and closer to gcc trunk and should be faster</div>
<div class="line">[Friday 04 March 2011] [05:09:20] &lt;<a href="#id235"><span class="problematic" id="id236">Steve-o_</span></a>&gt;  Should try ICC on Windows, haven&#8217;t done that yet</div>
<div class="line">[Friday 04 March 2011] [05:10:17] &lt;<a href="#id237"><span class="problematic" id="id238">Steve-o_</span></a>&gt;  any numbers for 0mq and tcp?</div>
<div class="line">[Friday 04 March 2011] [05:10:37] &lt;mikko&gt;     5 - 6.5 million 1 byte messages over localhost</div>
<div class="line">[Friday 04 March 2011] [05:10:41] &lt;mikko&gt;     per sec</div>
<div class="line">[Friday 04 March 2011] [05:10:50] &lt;mikko&gt;     but it&#8217;s questionable how accurate that is</div>
<div class="line">[Friday 04 March 2011] [05:11:48] &lt;<a href="#id239"><span class="problematic" id="id240">Steve-o_</span></a>&gt;  that was msvc on numa?</div>
<div class="line">[Friday 04 March 2011] [05:12:19] &lt;mikko&gt;     oh you mean windows</div>
<div class="line">[Friday 04 March 2011] [05:12:23] &lt;mikko&gt;     no numbers on windows</div>
<div class="line">[Friday 04 March 2011] [05:14:40] &lt;<a href="#id241"><span class="problematic" id="id242">Steve-o_</span></a>&gt;  ah ok</div>
<div class="line">[Friday 04 March 2011] [05:16:29] &lt;<a href="#id243"><span class="problematic" id="id244">Steve-o_</span></a>&gt;  was thinking of testing windows IPC after this release</div>
<div class="line">[Friday 04 March 2011] [05:17:07] &lt;<a href="#id245"><span class="problematic" id="id246">Steve-o_</span></a>&gt;  be easy to get something working and then see how the numbers get worse or better</div>
<div class="line">[Friday 04 March 2011] [05:18:10] &lt;<a href="#id247"><span class="problematic" id="id248">Steve-o_</span></a>&gt;  I sent an idea for broadcast IPC to sustrik before as an expansion on the idea, but I don&#8217;t have numa boxes to performance test</div>
<div class="line">[Friday 04 March 2011] [05:20:13] &lt;mikko&gt;     i think Guthur is working for named pipes for windows</div>
<div class="line">[Friday 04 March 2011] [05:20:28] &lt;mikko&gt;     to get ipc:// working</div>
<div class="line">[Friday 04 March 2011] [06:24:32] &lt;Guthur&gt;    mikko: &#8216;working&#8217; is a little strong at the moment</div>
<div class="line">[Friday 04 March 2011] [06:24:52] &lt;Guthur&gt;    Initial research completed at the moment</div>
<div class="line">[Friday 04 March 2011] [06:25:06] &lt;Guthur&gt;    need to develop a strategy for integration</div>
<div class="line">[Friday 04 March 2011] [06:26:43] &lt;Guthur&gt;    On my agenda is talk to sustrik more about what an abstraction of the name pipes using IOCP would need to emulate the current functionality provided and required by the polling methods on POSIX</div>
<div class="line">[Friday 04 March 2011] [06:27:38] &lt;Guthur&gt;    the problem is that plain IOCP is only a completion notification system</div>
<div class="line">[Friday 04 March 2011] [06:27:54] &lt;Guthur&gt;    and polling on POSIX provides more than that</div>
<div class="line">[Friday 04 March 2011] [06:41:35] &lt;yrashk&gt;    hey</div>
<div class="line">[Friday 04 March 2011] [06:41:50] &lt;yrashk&gt;    any idea on how we can check whether there are any unclosed sockets prior to zmq_term?</div>
<div class="line">[Friday 04 March 2011] [06:42:04] &lt;yrashk&gt;    we need to avoid blocking Erlang&#8217;s VM in all possible situations</div>
<div class="line">[Friday 04 March 2011] [06:42:15] &lt;yrashk&gt;    so we&#8217;d rather not call zmq_term if we know that it will block</div>
<div class="line">[Friday 04 March 2011] [07:10:11] &lt;guido_g&gt;   no, that i know of</div>
<div class="line">[Friday 04 March 2011] [07:10:26] &lt;guido_g&gt;   this kind of information is not ment for us mere mortals</div>
<div class="line">[Friday 04 March 2011] [07:49:17] &lt;private_meta&gt;      Isn&#8217;t there a way to tell zmq_term to terminate all sockets without waiting for finished messages? I thought I read something about it</div>
<div class="line">[Friday 04 March 2011] [07:50:02] &lt;guido_g&gt;   per socket</div>
<div class="line">[Friday 04 March 2011] [07:50:10] &lt;guido_g&gt;   via LINGER option</div>
<div class="line">[Friday 04 March 2011] [07:50:26] &lt;guido_g&gt;   but the sockets still have to be closed first</div>
<div class="line">[Friday 04 March 2011] [07:50:47] &lt;yrashk&gt;    well, we&#8217;ve got around this</div>
<div class="line">[Friday 04 March 2011] [07:51:05] &lt;yrashk&gt;    we now terminate context in a separate thread that we have anyway</div>
<div class="line">[Friday 04 March 2011] [09:32:44] &lt;sejo&gt;      hey all what are the pitfals for speed? what is the n* of messages i can send/receive with zeromq?</div>
<div class="line">[Friday 04 March 2011] [09:35:11] &lt;guido_g&gt;   depends on hardware and message size, so the question is futile</div>
<div class="line">[Friday 04 March 2011] [09:35:39] &lt;guido_g&gt;   btw, there are benchmarks in the mq git, use them</div>
<div class="line">[Friday 04 March 2011] [09:36:01] &lt;sejo&gt;      ach I will thx!</div>
<div class="line">[Friday 04 March 2011] [09:38:25] &lt;sejo&gt;      hmm with my code I only get 1/sec</div>
<div class="line">[Friday 04 March 2011] [09:38:30] &lt;sejo&gt;      that is way to few :p</div>
<div class="line">[Friday 04 March 2011] [09:39:11] &lt;sejo&gt;      but I use it from python</div>
<div class="line">[Friday 04 March 2011] [09:39:49] &lt;guido_g&gt;   even w/ serialization i get ~4k messages per second using python</div>
<div class="line">[Friday 04 March 2011] [09:41:10]      * sejo slaps own head</div>
<div class="line">[Friday 04 March 2011] [09:41:35] &lt;sejo&gt;      please accept my apologies... still had time.sleep(1)  in my code :/</div>
<div class="line">[Friday 04 March 2011] [09:41:41] &lt;sejo&gt;      I&#8217;m a moron</div>
<div class="line">[Friday 04 March 2011] [09:41:59] &lt;guido_g&gt;   ok, we&#8217;ll take that for granted</div>
<div class="line">[Friday 04 March 2011] [09:42:02] &lt;guido_g&gt;   :)</div>
<div class="line">[Friday 04 March 2011] [10:02:17] &lt;sejo&gt;      guido_g: apparently you should :p</div>
<div class="line">[Friday 04 March 2011] [10:02:35] &lt;sejo&gt;      now get approx 30/s (with saving to chouchdb)</div>
<div class="line">[Friday 04 March 2011] [10:02:40] &lt;sejo&gt;      so not that bad</div>
<div class="line">[Friday 04 March 2011] [10:03:19] &lt;guido_g&gt;   slow db?</div>
<div class="line">[Friday 04 March 2011] [10:13:33] &lt;sejo&gt;      guido_g: no slow way of doing it, I save document after document and not bulk save... that would improve a lot. Also python is owesome to write in but not _the_ fastest language there is</div>
<div class="line">[Friday 04 March 2011] [10:14:15] &lt;sejo&gt;      if we get funding and have more time I might redo in C, right now... python it is :p</div>
<div class="line">[Friday 04 March 2011] [10:14:22] &lt;guido_g&gt;   depends on how you do things</div>
<div class="line">[Friday 04 March 2011] [10:14:49] &lt;guido_g&gt;   usually python is fast enough</div>
<div class="line">[Friday 04 March 2011] [10:16:52] &lt;guido_g&gt;   ok, time for a break</div>
<div class="line">[Friday 04 March 2011] [10:16:55] &lt;guido_g&gt;   laters!</div>
<div class="line">[Friday 04 March 2011] [11:31:47] Notice      -tomaw- [Global Notice] Hi again.  As you will have noticed we&#8217;re having some connectivity problems again this afternoon.  We&#8217;re working with sponsors to rectify it.</div>
<div class="line">[Friday 04 March 2011] [11:57:30] &lt;lt_schmidt_jr&gt;     A couple of quesitons for the experts</div>
<div class="line">[Friday 04 March 2011] [11:58:11] &lt;lt_schmidt_jr&gt;     If a receiving socket goes unpolled can I detect if HWM has overflowed?</div>
<div class="line">[Friday 04 March 2011] [12:03:44] &lt;mikko&gt;     lt_schmidt_jr: yes</div>
<div class="line">[Friday 04 March 2011] [12:03:58] &lt;mikko&gt;     lt_schmidt_jr: non-blocking send should return EAGAIN assuming it&#8217;s a socket that would block</div>
<div class="line">[Friday 04 March 2011] [12:05:22] &lt;lt_schmidt_jr&gt;     mikko: I am using pub sub, are you saying the pub socket will return eagain if a subscriber goes unpolled?</div>
<div class="line">[Friday 04 March 2011] [12:05:35] &lt;mikko&gt;     no, it would drop the message</div>
<div class="line">[Friday 04 March 2011] [12:05:48] &lt;mikko&gt;     you can&#8217;t really detect HWM overflow with pub socket</div>
<div class="line">[Friday 04 March 2011] [12:05:56] &lt;mikko&gt;     as the messages are simply dropped</div>
<div class="line">[Friday 04 March 2011] [12:06:10] &lt;mikko&gt;     unless you poll</div>
<div class="line">[Friday 04 March 2011] [12:06:29] &lt;mikko&gt;     i am not sure whether poll indicates that it&#8217;s writable</div>
<div class="line">[Friday 04 March 2011] [12:06:52] &lt;lt_schmidt_jr&gt;     interesting</div>
<div class="line">[Friday 04 March 2011] [12:07:06] &lt;lt_schmidt_jr&gt;     I thought I could have a sub-socket queue</div>
<div class="line">[Friday 04 March 2011] [12:07:21] &lt;lt_schmidt_jr&gt;     build up and it could overflow there</div>
<div class="line">[Friday 04 March 2011] [12:07:35] &lt;lt_schmidt_jr&gt;     as opposed on the publisher</div>
<div class="line">[Friday 04 March 2011] [12:07:55] &lt;mikko&gt;     i&#8217;m not really 100% how hwm interacts with pub-sub</div>
<div class="line">[Friday 04 March 2011] [12:08:18] &lt;mikko&gt;     let me check</div>
<div class="line">[Friday 04 March 2011] [12:08:37] &lt;lt_schmidt_jr&gt;     I am using inproc btw</div>
<div class="line">[Friday 04 March 2011] [12:08:47] &lt;mikko&gt;     <a class="reference external" href="http://api.zeromq.org/master:zmq-socket">http://api.zeromq.org/master:zmq-socket</a></div>
<div class="line">[Friday 04 March 2011] [12:09:00] &lt;mikko&gt;     if you look at the ZMQ_HWM option action under SUB</div>
<div class="line">[Friday 04 March 2011] [12:09:03] &lt;mikko&gt;     not applicable</div>
<div class="line">[Friday 04 March 2011] [12:10:10] &lt;lt_schmidt_jr&gt;     I see</div>
<div class="line">[Friday 04 March 2011] [12:10:17] &lt;lt_schmidt_jr&gt;     darn</div>
<div class="line">[Friday 04 March 2011] [12:14:34] &lt;lt_schmidt_jr&gt;     I wanted to pause socket polling on behalf of disconnected clients, but I guess I will have to build my own queue</div>
<div class="line">[Friday 04 March 2011] [12:14:57] &lt;lt_schmidt_jr&gt;     instead of relying on socket to queue</div>
<div class="line">[Friday 04 March 2011] [12:21:52] &lt;lt_schmidt_jr&gt;     mikko: thanks for the RTFM :) I forgot about that part of the doc having been studying the Guide</div>
<div class="line">[Friday 04 March 2011] [12:22:50] &lt;mikko&gt;     no problem</div>
<div class="line">[Friday 04 March 2011] [13:37:10] &lt;<a href="#id249"><span class="problematic" id="id250">Phantom_</span></a>&gt;  hello all</div>
<div class="line">[Friday 04 March 2011] [13:37:17] &lt;<a href="#id251"><span class="problematic" id="id252">Phantom_</span></a>&gt;  has anyone got the perl binding to work ?  it seems...nonfunctional.</div>
<div class="line">[Friday 04 March 2011] [13:41:04] &lt;<a href="#id253"><span class="problematic" id="id254">Phantom_</span></a>&gt;  &#8216;ello.  Is anyone out there ?</div>
<div class="line">[Friday 04 March 2011] [13:45:24] &lt;andrewvc&gt;  cremes: wish I had a better answer re: ffi as a dependency</div>
<div class="line">[Friday 04 March 2011] [13:45:34] &lt;andrewvc&gt;  the alternate gems thing doesn&#8217;t really solve it</div>
<div class="line">[Friday 04 March 2011] [13:45:56] &lt;cremes&gt;    andrewvc: yeah, i hate that solution</div>
<div class="line">[Friday 04 March 2011] [13:46:12] &lt;cremes&gt;    i&#8217;m going to open up a feature request with the rubygems project</div>
<div class="line">[Friday 04 March 2011] [13:46:13] &lt;andrewvc&gt;  I was thinking actually, it&#8217;d be best if maybe the FFI project just did nothing if it was required in a non MRI ruby</div>
<div class="line">[Friday 04 March 2011] [13:46:21] &lt;andrewvc&gt;  yeah, that&#8217;s the right long term solution</div>
<div class="line">[Friday 04 March 2011] [13:46:42] &lt;cremes&gt;    it&#8217;s not the &#8216;require&#8217; step that breaks things</div>
<div class="line">[Friday 04 March 2011] [13:46:47] &lt;cremes&gt;    it&#8217;s the installation of the gem</div>
<div class="line">[Friday 04 March 2011] [13:46:55] &lt;cremes&gt;    it tries to install the &#8216;ffi&#8217; gem and blows up</div>
<div class="line">[Friday 04 March 2011] [13:46:57] &lt;andrewvc&gt;  oh, what happens if you try and install in on rbx or jruby</div>
<div class="line">[Friday 04 March 2011] [13:47:04] &lt;cremes&gt;    kaboom</div>
<div class="line">[Friday 04 March 2011] [13:47:06] &lt;andrewvc&gt;  oh, because it tries to compile the ext</div>
<div class="line">[Friday 04 March 2011] [13:47:08] &lt;andrewvc&gt;  damn</div>
<div class="line">[Friday 04 March 2011] [13:47:09] &lt;cremes&gt;    right</div>
<div class="line">[Friday 04 March 2011] [13:48:01] &lt;andrewvc&gt;  yeah, RUBY_PLATFORM isn&#8217;t enough, rubygems needs RUBY_ENGINE</div>
<div class="line">[Friday 04 March 2011] [13:48:07] &lt;andrewvc&gt;  is I&#8217;m guessing what you&#8217;re going to request</div>
<div class="line">[Friday 04 March 2011] [13:48:41] &lt;andrewvc&gt;  it&#8217;s funny, because the alternate gem thing works fine for jruby, just not rbx</div>
<div class="line">[Friday 04 March 2011] [13:53:37] &lt;mikko&gt;     pieter_hintjens: there?</div>
<div class="line">[Friday 04 March 2011] [14:47:49] &lt;mathijs&gt;   Hi all, is zmq_poll edge-triggered? in other words: if I poll on 10 items, and 3 of them have events waiting, but I only handle 1 and poll again, will the second poll call still return the other 2, or those be forgotten, letting poll wait for new events?</div>
<div class="line">[Friday 04 March 2011] [15:11:59] &lt;mikko&gt;     mathijs: it is</div>
<div class="line">[Friday 04 March 2011] [15:12:03] &lt;Guthur&gt;    <a class="reference external" href="http://api.zeromq.org/master:zmq-poll">http://api.zeromq.org/master:zmq-poll</a></div>
<div class="line">[Friday 04 March 2011] [15:12:11] &lt;Guthur&gt;    oh mikko beat me to it</div>
<div class="line">[Friday 04 March 2011] [15:12:31] &lt;mathijs&gt;   mikko: so I should take care to handle all events that occured before re-polling?</div>
<div class="line">[Friday 04 March 2011] [15:12:39] &lt;mikko&gt;     yes</div>
<div class="line">[Friday 04 March 2011] [15:12:43] &lt;Guthur&gt;    it says level triggered there</div>
<div class="line">[Friday 04 March 2011] [15:12:55] &lt;mikko&gt;     that sounds wrong</div>
<div class="line">[Friday 04 March 2011] [15:13:13] &lt;mathijs&gt;   ah, I was reading that page for some minutes but couldn&#8217;t find it :P</div>
<div class="line">[Friday 04 March 2011] [15:13:34] &lt;mikko&gt;     i&#8217;m almost certain that the manual page there is wrong</div>
<div class="line">[Friday 04 March 2011] [15:14:03] &lt;mathijs&gt;   level triggered is wrong I think. level triggered normally means that the trigger keeps popping up as long as the &#8220;level&#8221;/state is positive</div>
<div class="line">[Friday 04 March 2011] [15:15:27] &lt;mikko&gt;     see this one from el sustrik: <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg01620.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg01620.html</a></div>
<div class="line">[Friday 04 March 2011] [15:15:32] &lt;mikko&gt;     &#8220;Say there are two messages available. You read one of them. If you wait</div>
<div class="line">[Friday 04 March 2011] [15:15:33] &lt;mikko&gt;     for the fd at this point it may never unblock, because there&#8217;s still one</div>
<div class="line">[Friday 04 March 2011] [15:15:33] &lt;mikko&gt;     message to read. Command saying &#8220;there are new messages available&#8221; is</div>
<div class="line">[Friday 04 March 2011] [15:15:33] &lt;mikko&gt;     sent to your thread only if you&#8217;ve read all the messages before. You can</div>
<div class="line">[Friday 04 March 2011] [15:15:33] &lt;mikko&gt;     think of it as edge-triggered polling&#8221;</div>
<div class="line">[Friday 04 March 2011] [15:15:42] &lt;mikko&gt;     longer paste than i expected</div>
<div class="line">[Friday 04 March 2011] [15:15:59] &lt;Guthur&gt;    is that maybe specific to FD though?</div>
<div class="line">[Friday 04 March 2011] [15:16:19] &lt;Guthur&gt;    i.e. not a zmq socket</div>
<div class="line">[Friday 04 March 2011] [15:16:23] &lt;mikko&gt;     it&#8217;s possible</div>
<div class="line">[Friday 04 March 2011] [15:16:36] &lt;mikko&gt;     i was always under the impression that zmq socket is edge-triggered as well</div>
<div class="line">[Friday 04 March 2011] [15:16:38] &lt;mathijs&gt;   yeah, I knew that behavior is like that for FD, it was stated that was truely edge-triggered.</div>
<div class="line">[Friday 04 March 2011] [15:17:00] &lt;mikko&gt;     double check with sustrik or pieter_hintjens when either one of them is back</div>
<div class="line">[Friday 04 March 2011] [15:17:17] &lt;mathijs&gt;   well I&#8217;ll do some quick tests, not too hard to find out</div>
<div class="line">[Friday 04 March 2011] [15:18:02] &lt;Guthur&gt;    my quick test seems to confirm its level</div>
<div class="line">[Friday 04 March 2011] [15:18:49] &lt;mikko&gt;     i guess if you need edge triggered you can always get the ZMQ_FD and poll on that</div>
<div class="line">[Friday 04 March 2011] [15:20:01] &lt;mathijs&gt;   no, I don&#8217;t really need either of them, just want to make sure my expectations are right and I don&#8217;t accidentally abuse some loophole</div>
<div class="line">[Friday 04 March 2011] [15:20:49] &lt;mikko&gt;     level triggered certainly makes it easier</div>
<div class="line">[Friday 04 March 2011] [15:21:41] &lt;mathijs&gt;   indeed, but not as die-hard :P</div>
<div class="line">[Friday 04 March 2011] [17:30:01] &lt;lt_schmidt_jr&gt;     What happens when a HWM is reached by a publisher in pub/sub?</div>
<div class="line">[Friday 04 March 2011] [17:30:14] &lt;lt_schmidt_jr&gt;     are the new messages dropped or the old ones are dequeud?</div>
<div class="line">[Friday 04 March 2011] [17:33:11] &lt;Guthur&gt;    new messages dropped</div>
<div class="line">[Friday 04 March 2011] [17:33:28] &lt;lt_schmidt_jr&gt;     Guthur: thanks</div>
<div class="line">[Friday 04 March 2011] [17:33:46] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Friday 04 March 2011] [17:42:36] &lt;yrashk&gt;    so, what would be the best way to add a library to <a class="reference external" href="http://www.zeromq.org/bindings:erlang">http://www.zeromq.org/bindings:erlang</a> ?</div>
<div class="line">[Friday 04 March 2011] [17:55:57] &lt;Guthur&gt;    yrashk, you mean add another erlang binding?</div>
<div class="line">[Friday 04 March 2011] [17:56:11] &lt;yrashk&gt;    yep</div>
<div class="line">[Friday 04 March 2011] [18:00:14] &lt;Guthur&gt;    is it publicly available</div>
<div class="line">[Friday 04 March 2011] [18:00:30] &lt;Guthur&gt;    tbh I&#8217;m not sure if there is a procedure</div>
<div class="line">[Friday 04 March 2011] [18:00:41] &lt;Guthur&gt;    pieter_hintjens, ping</div>
<div class="line">[Friday 04 March 2011] [18:08:22] &lt;kdj&gt;       I am having some trouble getting pyzmq installed on Ubuntu...</div>
<div class="line">[Friday 04 March 2011] [18:12:09] &lt;kdj&gt;       I follow the steps in the docs, and it works fine, but if I log out and back in, I seem to lose some env variable</div>
<div class="line">[Friday 04 March 2011] [18:20:26] &lt;yrashk&gt;    Guthur: new binding? yes, it is</div>
<div class="line">[Friday 04 March 2011] [18:23:09] &lt;Guthur&gt;    yrashk, I&#8217;m not sure if there is a process, best to mention it on the mailing list then pieter or martin can see it</div>
<div class="line">[Friday 04 March 2011] [18:23:51] &lt;Guthur&gt;    I&#8217;d imagine you just add a description and links to that page</div>
<div class="line">[Friday 04 March 2011] [18:24:11] &lt;yrashk&gt;    well they are aware of it</div>
<div class="line">[Friday 04 March 2011] [18:24:33] &lt;yrashk&gt;    anyway, will take care of this later</div>
<div class="line">[Saturday 05 March 2011] [02:47:07] &lt;vrc&gt;     hi</div>
<div class="line">[Saturday 05 March 2011] [02:47:18] &lt;vrc&gt;     had a quick question about the pub-sub model and reliability</div>
<div class="line">[Saturday 05 March 2011] [02:48:25] &lt;vrc&gt;     i set up a pub-sub model..and if my subscribers receive packets (in a loop) -&gt; and spend a lot of time processing them, will they lose packets</div>
<div class="line">[Saturday 05 March 2011] [02:49:22] &lt;vrc&gt;     or is the pub-sub model guaranteed to provide reliability i.e, all packets sent by the pub are received by each sub..i do realize that some packets in the beginning could be lost due to connection delays, etc</div>
<div class="line">[Saturday 05 March 2011] [02:49:31] &lt;vrc&gt;     thanks - i&#8217;m new to zeromq</div>
<div class="line">[Saturday 05 March 2011] [02:51:24] &lt;cremes&gt;  vrc: think of a PUB socket as a radio broadcast</div>
<div class="line">[Saturday 05 March 2011] [02:51:45] &lt;cremes&gt;  if your subscriber isn&#8217;t around to &#8220;hear&#8221; it, there is no guarantee it will get all packets</div>
<div class="line">[Saturday 05 March 2011] [02:52:21] &lt;cremes&gt;  by default, PUB will queue packets for all connected subscribers but a slow subscriber can cause a huge backlog</div>
<div class="line">[Saturday 05 March 2011] [02:52:29] &lt;cremes&gt;  and memory pressure on the publisher if they can&#8217;t keep up</div>
<div class="line">[Saturday 05 March 2011] [02:52:42] &lt;cremes&gt;  so, there is a mechanism called ZM_HWM (high water mark)</div>
<div class="line">[Saturday 05 March 2011] [02:53:07] &lt;cremes&gt;  if there are more than X outstanding packets (where X is the HWM) then the pub socket drops them to /dev/null</div>
<div class="line">[Saturday 05 March 2011] [02:53:34] &lt;cremes&gt;  if you need reliability, then you need to work out some kind of &#8216;ack&#8217; mechanism and a pub/sub pattern is no</div>
<div class="line">[Saturday 05 March 2011] [02:53:36] &lt;cremes&gt;  longer appropriate</div>
<div class="line">[Saturday 05 March 2011] [02:53:55] &lt;cremes&gt;  be sure to read all 4 chapters of the guide... of lot of these use-cases are discussed in there</div>
<div class="line">[Saturday 05 March 2011] [02:54:20] &lt;cremes&gt;  vrc: did that help?</div>
<div class="line">[Saturday 05 March 2011] [02:57:30] &lt;vrc&gt;     cremes - thank you very much. that was very useful - in fact, i was reading your comments somewhere else on the internet</div>
<div class="line">[Saturday 05 March 2011] [02:57:47] &lt;cremes&gt;  heh</div>
<div class="line">[Saturday 05 March 2011] [02:58:00] &lt;cremes&gt;  well, it&#8217;s bed time; good luck with your investigations</div>
<div class="line">[Saturday 05 March 2011] [02:58:06] &lt;vrc&gt;     even if you use PUB/SUB over TCP-IP, there&#8217;s no guaranteed delivery ?</div>
<div class="line">[Saturday 05 March 2011] [02:58:17] &lt;cremes&gt;  this channel is usually pretty well covered during the weekdays</div>
<div class="line">[Saturday 05 March 2011] [02:58:38] &lt;cremes&gt;  no</div>
<div class="line">[Saturday 05 March 2011] [02:59:05] &lt;cremes&gt;  read the guide... this is almost faq :)</div>
<div class="line">[Saturday 05 March 2011] [02:59:11] &lt;vrc&gt;     ok. thanks - won&#8217;t keep you up</div>
<div class="line">[Saturday 05 March 2011] [02:59:16] &lt;cremes&gt;  cool</div>
<div class="line">[Saturday 05 March 2011] [03:16:49] &lt;guido_g&gt; good morning all</div>
<div class="line">[Saturday 05 March 2011] [04:43:17] &lt;pieter_hintjens&gt; guido_g: good morning</div>
<div class="line">[Saturday 05 March 2011] [04:43:29] &lt;guido_g&gt; howdy pieter_hintjens</div>
<div class="line">[Saturday 05 March 2011] [04:43:39] &lt;pieter_hintjens&gt; how&#8217;s it going... ?</div>
<div class="line">[Saturday 05 March 2011] [04:44:24] &lt;guido_g&gt; didn&#8217;t do anything yesterday</div>
<div class="line">[Saturday 05 March 2011] [04:44:42] &lt;guido_g&gt; except finding a glitch in the spec, but i need to verify that first</div>
<div class="line">[Saturday 05 March 2011] [04:45:05] &lt;pieter_hintjens&gt; a glitch, interesting</div>
<div class="line">[Saturday 05 March 2011] [04:45:22] &lt;guido_g&gt; yep</div>
<div class="line">[Saturday 05 March 2011] [04:46:05] &lt;guido_g&gt; in client &lt;-&gt; broker there is no client address mentioned</div>
<div class="line">[Saturday 05 March 2011] [04:46:36] &lt;guido_g&gt; but it appears magically (as full list even) in worker &lt;-&gt; broker</div>
<div class="line">[Saturday 05 March 2011] [04:46:56] &lt;pieter_hintjens&gt; right, it&#8217;s the same as for broker-worker</div>
<div class="line">[Saturday 05 March 2011] [04:47:23] &lt;pieter_hintjens&gt; that note should be made to cover both sides</div>
<div class="line">[Saturday 05 March 2011] [04:47:36] &lt;guido_g&gt; i mean where does the client address in frame 2 come from? that should be explaind</div>
<div class="line">[Saturday 05 March 2011] [04:47:41] &lt;guido_g&gt; <a href="#id29"><span class="problematic" id="id30">*</span></a>ed</div>
<div class="line">[Saturday 05 March 2011] [04:47:54] &lt;pieter_hintjens&gt; hmm, one assumes the implementor knows his XREP/ROUTER stuff</div>
<div class="line">[Saturday 05 March 2011] [04:48:51] &lt;guido_g&gt; but still it&#8217;s not clear where the address in frame 2 comes from, itr should be mentioned in the spec &#8211; imho</div>
<div class="line">[Saturday 05 March 2011] [04:50:23] &lt;pieter_hintjens&gt; indeed... it assumes too much, I&#8217;ll fix that</div>
<div class="line">[Saturday 05 March 2011] [04:50:48] &lt;guido_g&gt; oh and eventually move the XREQ note to the front of the spec</div>
<div class="line">[Saturday 05 March 2011] [04:51:18] &lt;guido_g&gt; so one can see it before its needed</div>
<div class="line">[Saturday 05 March 2011] [04:52:31] &lt;pieter_hintjens&gt; indeed</div>
<div class="line">[Saturday 05 March 2011] [04:53:15] &lt;guido_g&gt; i think i&#8217;ll start on some broker parts this afternoon</div>
<div class="line">[Saturday 05 March 2011] [04:54:21] &lt;guido_g&gt; if we could get that running, all these &#8220;but i need reliability&#8221; questions could be answered w/ a link :)</div>
<div class="line">[Saturday 05 March 2011] [04:55:59] &lt;pieter_hintjens&gt; ah, almost :-)</div>
<div class="line">[Saturday 05 March 2011] [04:56:06] &lt;pieter_hintjens&gt; after this, it&#8217;s the Titanic pattern</div>
<div class="line">[Saturday 05 March 2011] [04:56:28] &lt;mikko&gt;   looks like steve got openpgm out</div>
<div class="line">[Saturday 05 March 2011] [04:56:34] &lt;pieter_hintjens&gt; &#8220;but I need reliability on spinning rust&#8221;</div>
<div class="line">[Saturday 05 March 2011] [04:56:59] &lt;pieter_hintjens&gt; mikko: saw that...</div>
<div class="line">[Saturday 05 March 2011] [04:57:00] &lt;guido_g&gt; rust?</div>
<div class="line">[Saturday 05 March 2011] [04:57:36] &lt;pieter_hintjens&gt; guido_g: iron oxide? magnetised brown stuff used to hold data</div>
<div class="line">[Saturday 05 March 2011] [04:57:49] &lt;guido_g&gt; ahhh...</div>
<div class="line">[Saturday 05 March 2011] [04:58:20] &lt;guido_g&gt; sorry, thought you just got a ssd, so it&#8217;ll be &#8220;built on sand&#8221;</div>
<div class="line">[Saturday 05 March 2011] [04:59:20] &lt;pieter_hintjens&gt; guido_g: I replaced the HD in my notebook with an SSD that Sustrik gave me a while back</div>
<div class="line">[Saturday 05 March 2011] [04:59:27] &lt;pieter_hintjens&gt; quite neat</div>
<div class="line">[Saturday 05 March 2011] [04:59:38] &lt;djc&gt;     in the guide&#8217;s fig9, shouldn&#8217;t the second right-hand box be &#8220;Start the SUB sockets before the PUB to avoid loss&#8221; (i.e. the other way around)?</div>
<div class="line">[Saturday 05 March 2011] [04:59:53] &lt;pieter_hintjens&gt; djc: let me check...</div>
<div class="line">[Saturday 05 March 2011] [05:00:41] &lt;guido_g&gt; pieter_hintjens: spec:7 &#8220;Clients will issue at most one request at a time, and will wait for a reply in realtime.&#8221; &lt;- can this be lifted, i can&#8217;t see why</div>
<div class="line">[Saturday 05 March 2011] [05:01:13] &lt;djc&gt;     pieter_hintjens: in the bottom box it also says 9zeromq, I think it means #zeromq?</div>
<div class="line">[Saturday 05 March 2011] [05:01:17] &lt;guido_g&gt; oops... time for furniture shopping</div>
<div class="line">[Saturday 05 March 2011] [05:01:25] &lt;guido_g&gt; l8tr</div>
<div class="line">[Saturday 05 March 2011] [05:02:07] &lt;pieter_hintjens&gt; guido_g: it can&#8217;t be lifted without other changes</div>
<div class="line">[Saturday 05 March 2011] [05:02:25] &lt;pieter_hintjens&gt; djc: fixed both errors, thanks</div>
<div class="line">[Saturday 05 March 2011] [05:02:32] &lt;djc&gt;     awesome, thanks</div>
<div class="line">[Saturday 05 March 2011] [05:02:42] &lt;djc&gt;     I could write up a list of language refinements if you&#8217;re interested</div>
<div class="line">[Saturday 05 March 2011] [05:02:53] &lt;djc&gt;     I presume you&#8217;re not a native speaker, either? :)</div>
<div class="line">[Saturday 05 March 2011] [05:03:28] &lt;pieter_hintjens&gt; djc: of what language?</div>
<div class="line">[Saturday 05 March 2011] [05:03:46] &lt;djc&gt;     the refinements, or a native speaker?</div>
<div class="line">[Saturday 05 March 2011] [05:03:57] &lt;djc&gt;     if the former, some things in the guide read awkwardly</div>
<div class="line">[Saturday 05 March 2011] [05:04:01] &lt;pieter_hintjens&gt; uhm, English is my native language, yes</div>
<div class="line">[Saturday 05 March 2011] [05:04:11] &lt;pieter_hintjens&gt; feel free to point out the awkward parts</div>
<div class="line">[Saturday 05 March 2011] [05:04:18] &lt;djc&gt;     oh, ok, I assumed from your name</div>
<div class="line">[Saturday 05 March 2011] [05:04:43] &lt;djc&gt;     sorry about that!</div>
<div class="line">[Saturday 05 March 2011] [05:04:56] &lt;pieter_hintjens&gt; np</div>
<div class="line">[Saturday 05 March 2011] [05:05:13] &lt;pieter_hintjens&gt; there&#8217;s an issue tracker on the Guide github</div>
<div class="line">[Saturday 05 March 2011] [05:05:18] &lt;djc&gt;     ok</div>
<div class="line">[Saturday 05 March 2011] [05:06:02] &lt;djc&gt;     another question: what&#8217;s the reason I have to memcpy() my data to the zmq_message, for example in the guide&#8217;s pub/sub example&#8217;s publisher</div>
<div class="line">[Saturday 05 March 2011] [05:06:42] &lt;djc&gt;     it seems like it should be okay to reference it as long as I make sure it stays around until the zmq_msg_close()?</div>
<div class="line">[Saturday 05 March 2011] [05:07:13] &lt;pieter_hintjens&gt; sure</div>
<div class="line">[Saturday 05 March 2011] [05:07:21] &lt;mikko&gt;   djc: with inproc that is ok</div>
<div class="line">[Saturday 05 March 2011] [05:07:33] &lt;pieter_hintjens&gt; the examples don&#8217;t try to optimise</div>
<div class="line">[Saturday 05 March 2011] [05:08:26] &lt;pieter_hintjens&gt; mikko: fixed issue #3 on ztools</div>
<div class="line">[Saturday 05 March 2011] [05:09:18] &lt;mikko&gt;   thanks</div>
<div class="line">[Saturday 05 March 2011] [05:09:37] &lt;mikko&gt;   im trying to figure out a good build order for zeromq2 in the daily builds</div>
<div class="line">[Saturday 05 March 2011] [05:09:52] &lt;mikko&gt;   tests use the same ports so concurrent builds have intermittent test fails</div>
<div class="line">[Saturday 05 March 2011] [05:10:19] &lt;pieter_hintjens&gt; how so?</div>
<div class="line">[Saturday 05 March 2011] [05:10:58] &lt;mikko&gt;   well, multiple builds run test that tries to bind to 5555</div>
<div class="line">[Saturday 05 March 2011] [05:11:12] &lt;mikko&gt;   which throws EADDRINUSE</div>
<div class="line">[Saturday 05 March 2011] [05:11:20] &lt;mikko&gt;   btw, did you see this: <a class="reference external" href="https://github.com/mkoppanen/zeromq2-docs">https://github.com/mkoppanen/zeromq2-docs</a></div>
<div class="line">[Saturday 05 March 2011] [05:11:35] &lt;mikko&gt;   that uses submobules to bring everything in to same &#8216;workspace&#8217;</div>
<div class="line">[Saturday 05 March 2011] [05:12:17] &lt;pieter_hintjens&gt; ah, right... tests should use unique ports</div>
<div class="line">[Saturday 05 March 2011] [05:12:27] &lt;mikko&gt;   you mean randomise the port?</div>
<div class="line">[Saturday 05 March 2011] [05:12:49] &lt;pieter_hintjens&gt; not randomize, but allocate sequentially or something</div>
<div class="line">[Saturday 05 March 2011] [05:12:53] &lt;pieter_hintjens&gt; number the tests 1 up</div>
<div class="line">[Saturday 05 March 2011] [05:13:09] &lt;mikko&gt;   that&#8217;s all fine but i build 4 zeromq builds on the same machine at the same time</div>
<div class="line">[Saturday 05 March 2011] [05:13:14] &lt;pieter_hintjens&gt; oh, hang on, it&#8217;s the same test running in parallel, right</div>
<div class="line">[Saturday 05 March 2011] [05:13:16] &lt;pieter_hintjens&gt; bleh</div>
<div class="line">[Saturday 05 March 2011] [05:13:17] &lt;mikko&gt;   so sequence would be the same</div>
<div class="line">[Saturday 05 March 2011] [05:13:42] &lt;pieter_hintjens&gt; no answer except &#8220;serialize the tests&#8221;</div>
<div class="line">[Saturday 05 March 2011] [05:14:06] &lt;pieter_hintjens&gt; btw, we forked off zeromq2-0 as well</div>
<div class="line">[Saturday 05 March 2011] [05:14:34] &lt;djc&gt;     hmmm, so what does it mean for zmq_msg_init_data() to &#8220;take ownership of the supplied buffer&#8221;? for example, I want to send a part of a stack-allocated buffer, what would be the optimal way to put this into a message?</div>
<div class="line">[Saturday 05 March 2011] [05:14:44] &lt;djc&gt;     given that there are no weird threading things going on in my app</div>
<div class="line">[Saturday 05 March 2011] [05:15:11] &lt;pieter_hintjens&gt; djc: &#8216;optimal&#8217; as in &#8216;save the last CPU cycle&#8217; or as in &#8216;don&#8217;t write code that confuses me&#8217;?</div>
<div class="line">[Saturday 05 March 2011] [05:15:35] &lt;pieter_hintjens&gt; if you aren&#8217;t really comfortable with the API you should not be trying to optimize, period</div>
<div class="line">[Saturday 05 March 2011] [05:15:50] &lt;pieter_hintjens&gt; and even when you are, you should still not be optimizing</div>
<div class="line">[Saturday 05 March 2011] [05:16:11] &lt;djc&gt;     this is me trying to become comfortable with the API :)</div>
<div class="line">[Saturday 05 March 2011] [05:16:24] &lt;djc&gt;     I know, I know, I should only optimize after stress-testing</div>
<div class="line">[Saturday 05 March 2011] [05:16:34] &lt;djc&gt;     I was just wondering about the underlying model</div>
<div class="line">[Saturday 05 March 2011] [05:17:04] &lt;pieter_hintjens&gt; use mempcy and focus on more interesting aspects of the model</div>
<div class="line">[Saturday 05 March 2011] [05:17:29] &lt;djc&gt;     ok</div>
<div class="line">[Saturday 05 March 2011] [05:38:13] &lt;mikko&gt;   pieter_hintjens: i updated zfl README.txt last night</div>
<div class="line">[Saturday 05 March 2011] [05:38:32] &lt;mikko&gt;   but didnt have time to investigate into generating README.md</div>
<div class="line">[Saturday 05 March 2011] [05:38:40] &lt;mikko&gt;   can you update that?</div>
<div class="line">[Saturday 05 March 2011] [05:39:00] &lt;pieter_hintjens&gt; sure, it uses gitdown</div>
<div class="line">[Saturday 05 March 2011] [05:39:03] &lt;pieter_hintjens&gt; will do now</div>
<div class="line">[Saturday 05 March 2011] [05:39:29] &lt;pieter_hintjens&gt; done</div>
<div class="line">[Saturday 05 March 2011] [05:53:54] &lt;mikko&gt;   thanks</div>
<div class="line">[Saturday 05 March 2011] [09:05:04] &lt;larhat&gt;  Hi, folks! If i set ZMQ_HWM=1 and ZMQ_SWP=N (N&gt;0) on socket, process will store all, that cannot be processed immediately, on disk. But it process fails, can it restore swapped messages and retry sending? I wonder, can i use this for some kind of persistence queue?</div>
<div class="line">[Saturday 05 March 2011] [09:13:03] &lt;Guthur&gt;  larhat, I have a feeling it cannot</div>
<div class="line">[Saturday 05 March 2011] [09:51:40] &lt;mikko&gt;   larhat: no, it cannot be done at the moment</div>
<div class="line">[Saturday 05 March 2011] [09:51:54] &lt;mikko&gt;   larhat: there has been discussion about creating persistence devices</div>
<div class="line">[Saturday 05 March 2011] [09:52:12] &lt;mikko&gt;   where you could &#8216;plug in&#8217; persistence on sockets you need</div>
<div class="line">[Saturday 05 March 2011] [09:54:31] &lt;larhat&gt;  ok, thanks, guys</div>
<div class="line">[Saturday 05 March 2011] [16:45:59] &lt;surikator&gt;       hi! anyone out there who tried ZeroMQ for OCaml?</div>
<div class="line">[Saturday 05 March 2011] [17:15:30] &lt;Guthur&gt;  is there any reason why rtrouter from the guide should not worker with inproc transport</div>
<div class="line">[Saturday 05 March 2011] [17:32:10] &lt;Guthur&gt;  surikator, there does not yet seem to be a binding for OCaml</div>
<div class="line">[Saturday 05 March 2011] [17:32:29] &lt;surikator&gt;       yes, there is...</div>
<div class="line">[Saturday 05 March 2011] [17:32:41] &lt;Guthur&gt;  oh ok, it&#8217;s not mentioned on the site</div>
<div class="line">[Saturday 05 March 2011] [17:32:44] &lt;surikator&gt;       <a class="reference external" href="https://github.com/pdhborges/ocaml-zmq">https://github.com/pdhborges/ocaml-zmq</a></div>
<div class="line">[Saturday 05 March 2011] [17:33:08] &lt;surikator&gt;       =)</div>
<div class="line">[Saturday 05 March 2011] [17:35:01] &lt;surikator&gt;       but regarding zeromq in general, can we pass whole data structures and objects through the sockets?</div>
<div class="line">[Saturday 05 March 2011] [17:38:40] &lt;Guthur&gt;  surikator, you&#8217;d need to serialize them</div>
<div class="line">[Saturday 05 March 2011] [17:39:06] &lt;Guthur&gt;  I&#8217;m not familiar with that binding, it may or may not have that built in</div>
<div class="line">[Saturday 05 March 2011] [17:39:30] &lt;Guthur&gt;  ZeroMQ does not provide it though</div>
<div class="line">[Saturday 05 March 2011] [17:39:53] &lt;Guthur&gt;  there is some pretty decent serialization solutions out there though</div>
<div class="line">[Saturday 05 March 2011] [17:43:28] &lt;surikator&gt;       it doesn&#8217;t have that built in. it mimics ZeroMQ only.</div>
<div class="line">[Saturday 05 March 2011] [17:51:12] &lt;surikator&gt;       ok, so I&#8217;d probably have to use Ocaml Marshal library. which solutions do you mean?</div>
<div class="line">[Saturday 05 March 2011] [18:08:03] &lt;Guthur&gt;  surikator, protocol buffers, thrift, or maybe even JSON</div>
<div class="line">[Saturday 05 March 2011] [18:08:24] &lt;Guthur&gt;  i&#8217;m not familiar with OCaml though</div>
<div class="line">[Sunday 06 March 2011] [01:55:25] &lt;guido_g&gt;   hello world!</div>
<div class="line">[Sunday 06 March 2011] [04:39:39] &lt;pieter_hintjens&gt;   hi all, I just made the 2.1.2 rc2 release</div>
<div class="line">[Sunday 06 March 2011] [04:40:37] &lt;guido_g&gt;   and lots of old tags on zeromq2-1</div>
<div class="line">[Sunday 06 March 2011] [04:44:21] &lt;pieter_hintjens&gt;   yeah, I was wondering about those... OK, will delete them...</div>
<div class="line">[Sunday 06 March 2011] [04:44:32] &lt;guido_g&gt;   pieter_hintjens: can we change the woker side framing of the mdp? would like to have an empty frame before the version, so it&#8217;s the same as for the client</div>
<div class="line">[Sunday 06 March 2011] [04:45:16] &lt;guido_g&gt;   makes the code much easier and would be more consistent</div>
<div class="line">[Sunday 06 March 2011] [04:45:17] &lt;pieter_hintjens&gt;   guido_g: an extra frame for nothing...</div>
<div class="line">[Sunday 06 March 2011] [04:45:29] &lt;pieter_hintjens&gt;   I&#8217;d thought of it but figured it was pointless</div>
<div class="line">[Sunday 06 March 2011] [04:45:39] &lt;guido_g&gt;   it&#8217;s not</div>
<div class="line">[Sunday 06 March 2011] [04:45:49] &lt;pieter_hintjens&gt;   ok, let me think about it a sec</div>
<div class="line">[Sunday 06 March 2011] [04:46:00] &lt;guido_g&gt;   if all goes over one zmq socket, you need to figure out where the message came from</div>
<div class="line">[Sunday 06 March 2011] [04:46:53] &lt;guido_g&gt;   if we could strip the return path with a generic function, the first part of the remaining message would be the sender</div>
<div class="line">[Sunday 06 March 2011] [04:47:14] &lt;pieter_hintjens&gt;   consistency? hmm, a novel idea...</div>
<div class="line">[Sunday 06 March 2011] [04:47:27] &lt;guido_g&gt;   <em>sigh</em></div>
<div class="line">[Sunday 06 March 2011] [04:47:30] &lt;guido_g&gt;   ,)</div>
<div class="line">[Sunday 06 March 2011] [04:48:28] &lt;pieter_hintjens&gt;   so the reason there&#8217;s an empty frame before the version is purely to emulate a REQ socket</div>
<div class="line">[Sunday 06 March 2011] [04:49:56] &lt;pieter_hintjens&gt;   there&#8217;s no consistent return path afaics</div>
<div class="line">[Sunday 06 March 2011] [04:50:12] &lt;pieter_hintjens&gt;   tell me precisely what commands you&#8217;d want to change, guido_g</div>
<div class="line">[Sunday 06 March 2011] [04:50:23] &lt;pieter_hintjens&gt;   ready, heartbeat, request, reply, disconnect?</div>
<div class="line">[Sunday 06 March 2011] [04:51:12] &lt;guido_g&gt;   it would change all of them</div>
<div class="line">[Sunday 06 March 2011] [04:51:41] &lt;pieter_hintjens&gt;   it would not make these consistent with client commands</div>
<div class="line">[Sunday 06 March 2011] [04:51:51] &lt;pieter_hintjens&gt;   because the worker commands all have that frame with the command number</div>
<div class="line">[Sunday 06 March 2011] [04:52:01] &lt;pieter_hintjens&gt;   i&#8217;m unsure what you mean by &#8216;return path&#8217;</div>
<div class="line">[Sunday 06 March 2011] [04:52:22] &lt;pieter_hintjens&gt;   are you talking about the broker or the APIs?</div>
<div class="line">[Sunday 06 March 2011] [04:52:37]      * pieter_hintjens needs more context...</div>
<div class="line">[Sunday 06 March 2011] [04:52:44] &lt;guido_g&gt;   it make the overall structure more consistent</div>
<div class="line">[Sunday 06 March 2011] [04:52:53] &lt;pieter_hintjens&gt;   overall structure of <em>what</em>?</div>
<div class="line">[Sunday 06 March 2011] [04:53:06] &lt;guido_g&gt;   i do talk about the sequence of message frames send to the broker</div>
<div class="line">[Sunday 06 March 2011] [04:53:29] &lt;pieter_hintjens&gt;   ok, so there is a reason the client and worker protocols are quite different</div>
<div class="line">[Sunday 06 March 2011] [04:53:37] &lt;guido_g&gt;   <em>sigh</em></div>
<div class="line">[Sunday 06 March 2011] [04:54:10] &lt;guido_g&gt;   it makes the more complex, when using a shared socket in the broker</div>
<div class="line">[Sunday 06 March 2011] [04:54:16] &lt;pieter_hintjens&gt;   so use two sockets, that&#8217;s fine</div>
<div class="line">[Sunday 06 March 2011] [04:54:39] &lt;pieter_hintjens&gt;   you&#8217;ve not actually explained what you mean, except &#8220;more consistent&#8221; and &#8220;<em>sigh</em>&#8220;</div>
<div class="line">[Sunday 06 March 2011] [04:54:41] &lt;pieter_hintjens&gt;   :-)</div>
<div class="line">[Sunday 06 March 2011] [04:54:48] &lt;pieter_hintjens&gt;   please be precise</div>
<div class="line">[Sunday 06 March 2011] [04:54:53] &lt;guido_g&gt;   to me it&#8217;s obvious</div>
<div class="line">[Sunday 06 March 2011] [04:54:58] &lt;pieter_hintjens&gt;   obviously</div>
<div class="line">[Sunday 06 March 2011] [04:55:30] &lt;guido_g&gt;   the client sends id followed by delimiter (the empty frame)</div>
<div class="line">[Sunday 06 March 2011] [04:55:47] &lt;pieter_hintjens&gt;   wait, please</div>
<div class="line">[Sunday 06 March 2011] [04:55:51] &lt;pieter_hintjens&gt;   the client does not send ID</div>
<div class="line">[Sunday 06 March 2011] [04:55:56] &lt;guido_g&gt;   the worker send id and then immediately the 6 byte proto version</div>
<div class="line">[Sunday 06 March 2011] [04:56:10] &lt;guido_g&gt;   the req does</div>
<div class="line">[Sunday 06 March 2011] [04:56:18] &lt;pieter_hintjens&gt;   nope, the client does not send its id</div>
<div class="line">[Sunday 06 March 2011] [04:56:27] &lt;pieter_hintjens&gt;   if you believe it does, we have a communications issue</div>
<div class="line">[Sunday 06 March 2011] [04:56:36] &lt;pieter_hintjens&gt;   the xrep socket prepends the ID of the originator</div>
<div class="line">[Sunday 06 March 2011] [04:56:58] &lt;guido_g&gt;   ok so that is what the app sees</div>
<div class="line">[Sunday 06 March 2011] [04:57:08] &lt;pieter_hintjens&gt;   the client sends (if it&#8217;s a REQ) the protocol version followed by the service name followed by the message</div>
<div class="line">[Sunday 06 March 2011] [04:57:24] &lt;guido_g&gt;   ok, again</div>
<div class="line">[Sunday 06 March 2011] [04:57:27] &lt;pieter_hintjens&gt;   the client sends (if it&#8217;s an XREQ) this, prepended by an empty frame</div>
<div class="line">[Sunday 06 March 2011] [04:57:37] &lt;pieter_hintjens&gt;   the &#8216;app&#8217; is <em>what</em>?</div>
<div class="line">[Sunday 06 March 2011] [04:57:47] &lt;pieter_hintjens&gt;   you need to be precise, we have three nodes here, each seeing different things</div>
<div class="line">[Sunday 06 March 2011] [04:57:48] &lt;guido_g&gt;   the program getting the messages from the xreq sees a leading id</div>
<div class="line">[Sunday 06 March 2011] [04:58:01] &lt;guido_g&gt;   followed by an empty frame</div>
<div class="line">[Sunday 06 March 2011] [04:58:16] &lt;guido_g&gt;   this was a recv gives</div>
<div class="line">[Sunday 06 March 2011] [04:58:20] &lt;pieter_hintjens&gt;   ok</div>
<div class="line">[Sunday 06 March 2011] [04:58:31] &lt;guido_g&gt;   this should be the same for both sides</div>
<div class="line">[Sunday 06 March 2011] [04:58:56] &lt;guido_g&gt;   so one could use the same function for splitting this information and the following part reliably</div>
<div class="line">[Sunday 06 March 2011] [04:58:58] &lt;pieter_hintjens&gt;   well, it&#8217;s 2 lines of code more or less in the broker</div>
<div class="line">[Sunday 06 March 2011] [04:59:08] &lt;pieter_hintjens&gt;   and it&#8217;s an extra frame for the worker protocol for absolutely no advantage</div>
<div class="line">[Sunday 06 March 2011] [04:59:49] &lt;pieter_hintjens&gt;   i will not make the protocol more complex to create minimal advantage to implementations</div>
<div class="line">[Sunday 06 March 2011] [04:59:53] &lt;pieter_hintjens&gt;   sorry</div>
<div class="line">[Sunday 06 March 2011] [05:00:00] &lt;pieter_hintjens&gt;   the frames need to have a <em>functional</em> purpose</div>
<div class="line">[Sunday 06 March 2011] [05:00:02] &lt;guido_g&gt;   says the guy who needs six byte to distinguish 2 protocols and their versions</div>
<div class="line">[Sunday 06 March 2011] [05:00:08] &lt;pieter_hintjens&gt;   &#8220;I can reuse the same code&#8221; is not a functional purpose</div>
<div class="line">[Sunday 06 March 2011] [05:00:11] &lt;guido_g&gt;   it does</div>
<div class="line">[Sunday 06 March 2011] [05:00:35] &lt;guido_g&gt;   it delimits the routing part from the mdp protocol information</div>
<div class="line">[Sunday 06 March 2011] [05:00:54] &lt;pieter_hintjens&gt;   here is how my code does it:</div>
<div class="line">[Sunday 06 March 2011] [05:00:55] &lt;pieter_hintjens&gt;               char <a href="#id31"><span class="problematic" id="id32">*</span></a>sender = zmsg_unwrap (msg);</div>
<div class="line">[Sunday 06 March 2011] [05:00:55] &lt;pieter_hintjens&gt;               char <a href="#id33"><span class="problematic" id="id34">*</span></a>header = zmsg_pop (msg);</div>
<div class="line">[Sunday 06 March 2011] [05:01:13] &lt;pieter_hintjens&gt;   totally generic, works for both client and worker messages</div>
<div class="line">[Sunday 06 March 2011] [05:01:31] &lt;pieter_hintjens&gt;               if (strcmp (header, MDPC_CLIENT) == 0)</div>
<div class="line">[Sunday 06 March 2011] [05:01:31] &lt;pieter_hintjens&gt;                   s_client_process (self, sender, msg);</div>
<div class="line">[Sunday 06 March 2011] [05:01:31] &lt;pieter_hintjens&gt;               else</div>
<div class="line">[Sunday 06 March 2011] [05:01:31] &lt;pieter_hintjens&gt;               if (strcmp (header, MDPW_WORKER) == 0)</div>
<div class="line">[Sunday 06 March 2011] [05:01:31] &lt;pieter_hintjens&gt;                   s_worker_process (self, sender, msg);</div>
<div class="line">[Sunday 06 March 2011] [05:01:45] &lt;pieter_hintjens&gt;   I&#8217;m surprised it&#8217;s easier in C than in Python</div>
<div class="line">[Sunday 06 March 2011] [05:02:16] &lt;guido_g&gt;   i don&#8217;t know what these function do</div>
<div class="line">[Sunday 06 March 2011] [05:02:50] &lt;pieter_hintjens&gt;   unwrap removes an address plus optional empty part</div>
<div class="line">[Sunday 06 March 2011] [05:02:51] &lt;guido_g&gt;   but the client header start w/ an emty frame per spec, can&#8217;t see that handled here</div>
<div class="line">[Sunday 06 March 2011] [05:02:55] &lt;guido_g&gt;   ahhh</div>
<div class="line">[Sunday 06 March 2011] [05:02:58] &lt;pieter_hintjens&gt;   since this question of empty parts occurs in many places</div>
<div class="line">[Sunday 06 March 2011] [05:03:02] &lt;guido_g&gt;   only one address</div>
<div class="line">[Sunday 06 March 2011] [05:03:15] &lt;pieter_hintjens&gt;   you want to manage an address stack?</div>
<div class="line">[Sunday 06 March 2011] [05:03:23] &lt;guido_g&gt;   there is nothing to manage</div>
<div class="line">[Sunday 06 March 2011] [05:03:29] &lt;pieter_hintjens&gt;   there is no stack</div>
<div class="line">[Sunday 06 March 2011] [05:03:46] &lt;guido_g&gt;   it&#8217;s just a list of ids followed by an empty frame</div>
<div class="line">[Sunday 06 March 2011] [05:03:52] &lt;pieter_hintjens&gt;   there is no list</div>
<div class="line">[Sunday 06 March 2011] [05:03:55] &lt;pieter_hintjens&gt;   it&#8217;s exactly one</div>
<div class="line">[Sunday 06 March 2011] [05:04:06] &lt;pieter_hintjens&gt;   the only way you can get a list is to chain multiple brokers</div>
<div class="line">[Sunday 06 March 2011] [05:04:18] &lt;pieter_hintjens&gt;   and that won&#8217;t work without other changes</div>
<div class="line">[Sunday 06 March 2011] [05:04:54] &lt;pieter_hintjens&gt;   this, at least, is the broker&#8217;s view of the world</div>
<div class="line">[Sunday 06 March 2011] [05:05:04] &lt;pieter_hintjens&gt;   workers, as terminators, can manage a stack without trouble</div>
<div class="line">[Sunday 06 March 2011] [05:05:52] &lt;pieter_hintjens&gt;   so the request command emulates a REP socket (stack of addresses + empty part + body)</div>
<div class="line">[Sunday 06 March 2011] [05:06:17] &lt;pieter_hintjens&gt;   guido_g: ok, here&#8217;s a compromise</div>
<div class="line">[Sunday 06 March 2011] [05:06:36] &lt;pieter_hintjens&gt;   your point is noted, I had the same idea but it didn&#8217;t stick</div>
<div class="line">[Sunday 06 March 2011] [05:07:07] &lt;pieter_hintjens&gt;   we&#8217;ll probably want to make more radical changes to MDP anyhow, later</div>
<div class="line">[Sunday 06 March 2011] [05:08:49] &lt;guido_g&gt;   and where&#8217;s the compromise?</div>
<div class="line">[Sunday 06 March 2011] [05:09:04] &lt;guido_g&gt;   i mean we <em>might</em> do it later doesn&#8217;t sound like one</div>
<div class="line">[Sunday 06 March 2011] [05:09:18] &lt;guido_g&gt;   but, ok i&#8217;ll implement the way it is</div>
<div class="line">[Sunday 06 March 2011] [05:11:07] &lt;pieter_hintjens&gt;   Meaning, the issue remains open, it&#8217;s not rejected, but needs more thought</div>
<div class="line">[Sunday 06 March 2011] [05:11:32] &lt;pieter_hintjens&gt;   I&#8217;m not sure the &#8216;many frames&#8217; approach is ideal at all</div>
<div class="line">[Sunday 06 March 2011] [05:12:36] &lt;guido_g&gt;   no, it&#8217;s significantly slower, but ra performance isn&#8217;t important here i was told</div>
<div class="line">[Sunday 06 March 2011] [05:12:56] &lt;guido_g&gt;   s/ra/raw/</div>
<div class="line">[Sunday 06 March 2011] [05:13:35] &lt;Guthur&gt;    pieter_hintjens, was that second archive i sent yesterday ok?</div>
<div class="line">[Sunday 06 March 2011] [05:13:58] &lt;pieter_hintjens&gt;   Guthur: yup, I already pushed those translations, thanks</div>
<div class="line">[Sunday 06 March 2011] [05:14:14] &lt;pieter_hintjens&gt;   guido_g: indeed, I want the semantics of routing to be clear, this is educational</div>
<div class="line">[Sunday 06 March 2011] [05:14:23] &lt;Guthur&gt;    pieter_hintjens, cool, cheers</div>
<div class="line">[Sunday 06 March 2011] [05:14:54] &lt;pieter_hintjens&gt;   Guthur: only a dozen or so more, and you can get the Guide in C# :-)</div>
<div class="line">[Sunday 06 March 2011] [05:15:29] &lt;Guthur&gt;    I hope to have ch3 finished soon enough</div>
<div class="line">[Sunday 06 March 2011] [05:15:38] &lt;Guthur&gt;    1/2 half through peering2</div>
<div class="line">[Sunday 06 March 2011] [05:16:21] &lt;Guthur&gt;    I&#8217;m going with some friends to airsoft today, so there&#8217;s likely to little progress today</div>
<div class="line">[Sunday 06 March 2011] [05:16:50] &lt;pieter_hintjens&gt;   that blasted hintjens guy keeps moving the goal posts...</div>
<div class="line">[Sunday 06 March 2011] [05:17:15] &lt;Guthur&gt;    is ch4 still in quite a bit of flux</div>
<div class="line">[Sunday 06 March 2011] [05:17:55] &lt;pieter_hintjens&gt;   What&#8217;s there now is stable, it&#8217;s coming to a close</div>
<div class="line">[Sunday 06 March 2011] [05:18:03] &lt;pieter_hintjens&gt;   two more large patterns and it&#8217;s done</div>
<div class="line">[Sunday 06 March 2011] [05:18:17] &lt;Guthur&gt;    nice</div>
<div class="line">[Sunday 06 March 2011] [05:18:25] &lt;Guthur&gt;    is this the final chapter</div>
<div class="line">[Sunday 06 March 2011] [05:18:31] &lt;pieter_hintjens&gt;   lol, no :-)</div>
<div class="line">[Sunday 06 March 2011] [05:18:53] &lt;pieter_hintjens&gt;   there&#8217;ll be a few more chapters</div>
<div class="line">[Sunday 06 March 2011] [05:23:53] &lt;Guthur&gt;    ok, got to go, later all</div>
<div class="line">[Sunday 06 March 2011] [06:09:18] &lt;mikko&gt;     good morning</div>
<div class="line">[Sunday 06 March 2011] [06:16:03] &lt;pieter_hintjens&gt;   hi mikko!</div>
<div class="line">[Sunday 06 March 2011] [06:22:56] &lt;mikko&gt;     solaris isn&#8217;t playing ball :/</div>
<div class="line">[Sunday 06 March 2011] [06:23:26] &lt;mikko&gt;     i tried to catch up with you on friday i think</div>
<div class="line">[Sunday 06 March 2011] [06:23:41] &lt;mikko&gt;     i did some build refactoring and would&#8217;ve warned that there might be some emails coming to your way</div>
<div class="line">[Sunday 06 March 2011] [06:23:52] &lt;mikko&gt;     i think you get failure emails at least for some builds</div>
<div class="line">[Sunday 06 March 2011] [06:23:54] &lt;pieter_hintjens&gt;   I saw them, np</div>
<div class="line">[Sunday 06 March 2011] [06:24:05] &lt;pieter_hintjens&gt;   I assumed you were changing something</div>
<div class="line">[Sunday 06 March 2011] [06:25:03] &lt;mikko&gt;     i am exploring using amazon ec2 to add some capacity</div>
<div class="line">[Sunday 06 March 2011] [06:25:08] &lt;mikko&gt;     win64 / linux64</div>
<div class="line">[Sunday 06 March 2011] [06:25:50] &lt;pieter_hintjens&gt;   interesting...</div>
<div class="line">[Sunday 06 March 2011] [06:26:44] &lt;mikko&gt;     start build slaves on demand and shutdown after they are done</div>
<div class="line">[Sunday 06 March 2011] [06:26:55] &lt;mikko&gt;     jenkins has a plugin for this so it should be fairly easy</div>
<div class="line">[Sunday 06 March 2011] [06:27:15] &lt;pieter_hintjens&gt;   and amazon charges only for what is actually used?</div>
<div class="line">[Sunday 06 March 2011] [06:27:24] &lt;pieter_hintjens&gt;   I&#8217;ve never tried ec2</div>
<div class="line">[Sunday 06 March 2011] [06:29:55] &lt;mikko&gt;     yeah</div>
<div class="line">[Sunday 06 March 2011] [06:30:35] &lt;mikko&gt;     linux is $0.025 per hour</div>
<div class="line">[Sunday 06 March 2011] [06:30:42] &lt;mikko&gt;     and windows is $0.035 per hour</div>
<div class="line">[Sunday 06 March 2011] [06:30:58] &lt;mikko&gt;     for the smallest instances</div>
<div class="line">[Sunday 06 March 2011] [06:56:03] &lt;guido_g&gt;   ha! python mdp broker just routed its first requests</div>
<div class="line">[Sunday 06 March 2011] [06:58:40] &lt;mikko&gt;     nice!</div>
<div class="line">[Sunday 06 March 2011] [07:01:01] &lt;guido_g&gt;   jepp, write it in ca. 4 hours :)</div>
<div class="line">[Sunday 06 March 2011] [07:01:11] &lt;guido_g&gt;   s/write/wrote/</div>
<div class="line">[Sunday 06 March 2011] [07:31:29] &lt;guido_g&gt;   pieter_hintjens: error while compling <a class="reference external" href="https://gist.github.com/857252">https://gist.github.com/857252</a></div>
<div class="line">[Sunday 06 March 2011] [07:55:28] &lt;guido_g&gt;   tiem for a break</div>
<div class="line">[Sunday 06 March 2011] [07:55:31] &lt;guido_g&gt;   <a href="#id35"><span class="problematic" id="id36">*</span></a>time</div>
<div class="line">[Sunday 06 March 2011] [10:35:01] &lt;pieter_hintjens&gt;   guido_g: 4 hours for a messaging broker, sweet</div>
<div class="line">[Sunday 06 March 2011] [10:35:14] &lt;pieter_hintjens&gt;   I fixed that error in mdbroker and also added the empty frame as you wanted</div>
<div class="line">[Sunday 06 March 2011] [10:38:43] &lt;guido_g&gt;   great thanks!</div>
<div class="line">[Sunday 06 March 2011] [10:49:49] &lt;apexi200sx&gt;        Hi,does this channel get logged to anywhere ?</div>
<div class="line">[Sunday 06 March 2011] [11:30:12] &lt;travlr&gt;    apexi200sx: IRC log is located at <a class="reference external" href="http://travlr.github.com/zmqirclog/">http://travlr.github.com/zmqirclog/</a></div>
<div class="line">[Sunday 06 March 2011] [12:13:55] &lt;guido_g&gt;   pieter_hintjens: mdbroker seems to be broken</div>
<div class="line">[Sunday 06 March 2011] [12:14:19] &lt;pieter_hintjens&gt;   yeah, probably, I didn&#8217;t retest it</div>
<div class="line">[Sunday 06 March 2011] [12:14:21] &lt;pieter_hintjens&gt;   sigh</div>
<div class="line">[Sunday 06 March 2011] [12:14:29] &lt;pieter_hintjens&gt;   am distracted today, sorry</div>
<div class="line">[Sunday 06 March 2011] [12:14:34] &lt;guido_g&gt;   np</div>
<div class="line">[Sunday 06 March 2011] [12:14:41] &lt;guido_g&gt;   my broker works :)</div>
<div class="line">[Sunday 06 March 2011] [12:14:52] &lt;pieter_hintjens&gt;   you win 9,000 internets, sir!</div>
<div class="line">[Sunday 06 March 2011] [12:14:53] &lt;pieter_hintjens&gt;   :-)</div>
<div class="line">[Sunday 06 March 2011] [12:15:04] &lt;guido_g&gt;   shit, just bought a new one last week</div>
<div class="line">[Sunday 06 March 2011] [12:15:11] &lt;pieter_hintjens&gt;   np, keep them in reserve</div>
<div class="line">[Sunday 06 March 2011] [12:15:17] &lt;guido_g&gt;   right</div>
<div class="line">[Sunday 06 March 2011] [12:15:47] &lt;guido_g&gt;   as as i can tell from mdclient2, the broker should queue incomming client requests?</div>
<div class="line">[Sunday 06 March 2011] [12:16:00] &lt;pieter_hintjens&gt;   yes, it should</div>
<div class="line">[Sunday 06 March 2011] [12:16:35] &lt;guido_g&gt;   ok</div>
<div class="line">[Sunday 06 March 2011] [12:17:00] &lt;pieter_hintjens&gt;   clearly if N clients send requests at once, the broker has to queue them until workers are available</div>
<div class="line">[Sunday 06 March 2011] [12:18:04] &lt;guido_g&gt;   &#8220;Workers will handle at most one request a time, and will issue exactly one reply for each successful request.&#8221; &lt;- from the spec</div>
<div class="line">[Sunday 06 March 2011] [12:18:15] &lt;pieter_hintjens&gt;   workers, yes</div>
<div class="line">[Sunday 06 March 2011] [12:18:18] &lt;pieter_hintjens&gt;   but clients no</div>
<div class="line">[Sunday 06 March 2011] [12:18:20] &lt;guido_g&gt;   mdclient2 violates that restriction</div>
<div class="line">[Sunday 06 March 2011] [12:18:55] &lt;pieter_hintjens&gt;   clients != workers, right</div>
<div class="line">[Sunday 06 March 2011] [12:18:55] &lt;guido_g&gt;   note to self: read carefully</div>
<div class="line">[Sunday 06 March 2011] [12:20:45] &lt;guido_g&gt;   what about requests for a service that was never registered?</div>
<div class="line">[Sunday 06 March 2011] [12:21:07] &lt;pieter_hintjens&gt;   indeed, that is not covered by the spec</div>
<div class="line">[Sunday 06 March 2011] [12:21:30] &lt;pieter_hintjens&gt;   I think the best semantics are that the broker accepts the client requests anyhow</div>
<div class="line">[Sunday 06 March 2011] [12:21:46] &lt;pieter_hintjens&gt;   and tries to deliver them at some future time</div>
<div class="line">[Sunday 06 March 2011] [12:22:11] &lt;guido_g&gt;   on the risk of filling all memory with useless requests</div>
<div class="line">[Sunday 06 March 2011] [12:22:13] &lt;pieter_hintjens&gt;   however it&#8217;s open... if the broker does this, it risks accumulating undeliverable messages for non-existent services</div>
<div class="line">[Sunday 06 March 2011] [12:22:31] &lt;pieter_hintjens&gt;   and if it does not do this, it breaks the asynchronous model where nodes come and go randomly</div>
<div class="line">[Sunday 06 March 2011] [12:23:03] &lt;guido_g&gt;   so there is room for a version 2 of the spec :)</div>
<div class="line">[Sunday 06 March 2011] [12:23:14] &lt;pieter_hintjens&gt;   for sure, like I said, this is a learning process...</div>
<div class="line">[Sunday 06 March 2011] [12:23:22] &lt;guido_g&gt;   i&#8217;ll implement a queue per service now</div>
<div class="line">[Sunday 06 March 2011] [12:23:45] &lt;pieter_hintjens&gt;   yes, that&#8217;s what I&#8217;ve done</div>
<div class="line">[Sunday 06 March 2011] [12:24:07] &lt;pieter_hintjens&gt;   that lets you dispatch messages to services when workers appear</div>
<div class="line">[Sunday 06 March 2011] [12:25:11] &lt;guido_g&gt;   done in a few minutes</div>
<div class="line">[Sunday 06 March 2011] [12:30:49] &lt;pieter_hintjens&gt;   ok, fixed the mdworker api, it didn&#8217;t add the empty part. broker seemed to be fine</div>
<div class="line">[Sunday 06 March 2011] [12:30:54] &lt;pieter_hintjens&gt;   pushed to master</div>
<div class="line">[Sunday 06 March 2011] [12:32:40] &lt;guido_g&gt;   will check</div>
<div class="line">[Sunday 06 March 2011] [12:33:14] &lt;guido_g&gt;   no output from mdworker or mdbroker</div>
<div class="line">[Sunday 06 March 2011] [12:36:23] &lt;pieter_hintjens&gt;   set VERBOSE to 1 in mdbroker head, rebuild...</div>
<div class="line">[Sunday 06 March 2011] [12:36:46] &lt;pieter_hintjens&gt;   I&#8217;ve fixed the spec to clarify how the broker should handle client requests for non-existent services</div>
<div class="line">[Sunday 06 March 2011] [12:37:08] &lt;guido_g&gt;   getting assertion in worker when using my broker:</div>
<div class="line">[Sunday 06 March 2011] [12:37:11] &lt;guido_g&gt;   mdworker: mdwrkapi.c:190: mdwrk_recv: Assertion <a href="#id37"><span class="problematic" id="id38">`</span></a>zmsg_parts (msg) &gt;= 3&#8217; failed.</div>
<div class="line">[Sunday 06 March 2011] [12:37:11] &lt;guido_g&gt;   Aborted (core dumped)</div>
<div class="line">[Sunday 06 March 2011] [12:37:15] &lt;guido_g&gt;   ok, will do</div>
<div class="line">[Sunday 06 March 2011] [12:37:22] &lt;pieter_hintjens&gt;   did you add the empty part?</div>
<div class="line">[Sunday 06 March 2011] [12:37:26] &lt;guido_g&gt;   yes</div>
<div class="line">[Sunday 06 March 2011] [12:37:29] &lt;pieter_hintjens&gt;   empty + protocol + command = 3</div>
<div class="line">[Sunday 06 March 2011] [12:38:38] &lt;pieter_hintjens&gt;   you can also enable message debugging in mdworker, pass 1 instead of 0 to API constructor</div>
<div class="line">[Sunday 06 March 2011] [12:39:03] &lt;guido_g&gt;   ahhh ok</div>
<div class="line">[Sunday 06 March 2011] [12:46:54] &lt;guido_g&gt;   found it, forgot to adapt the hb message</div>
<div class="line">[Sunday 06 March 2011] [12:47:19] &lt;pieter_hintjens&gt;   you should use a single method to send to a particular peer, maybe</div>
<div class="line">[Sunday 06 March 2011] [12:47:25] &lt;guido_g&gt;   now the md* suite works fine</div>
<div class="line">[Sunday 06 March 2011] [12:47:29] &lt;pieter_hintjens&gt;   nice...</div>
<div class="line">[Sunday 06 March 2011] [12:47:34] &lt;pieter_hintjens&gt;   we have interoperability!</div>
<div class="line">[Sunday 06 March 2011] [12:47:39] &lt;guido_g&gt;   yes</div>
<div class="line">[Sunday 06 March 2011] [12:48:40] &lt;pieter_hintjens&gt;   that was fast</div>
<div class="line">[Sunday 06 March 2011] [12:49:38] &lt;pieter_hintjens&gt;   where&#8217;s your git?</div>
<div class="line">[Sunday 06 March 2011] [12:49:47] &lt;guido_g&gt;   wait, still some glitches</div>
<div class="line">[Sunday 06 March 2011] [12:50:05] &lt;guido_g&gt;   and i need to test the queuing</div>
<div class="line">[Sunday 06 March 2011] [12:51:32] &lt;guido_g&gt;   where is the hb interval set in the broker?</div>
<div class="line">[Sunday 06 March 2011] [12:51:56] &lt;guido_g&gt;   need to sync mine w/ the md* values</div>
<div class="line">[Sunday 06 March 2011] [12:52:53] &lt;guido_g&gt;   ahh got it</div>
<div class="line">[Sunday 06 March 2011] [13:16:44] &lt;pieter_hintjens&gt;   g&#8217;night all...</div>
<div class="line">[Sunday 06 March 2011] [13:17:01] &lt;guido_g&gt;   oh</div>
<div class="line">[Sunday 06 March 2011] [13:17:02] &lt;guido_g&gt;   night</div>
<div class="line">[Sunday 06 March 2011] [13:51:30] &lt;guido_g&gt;   full interop betwenn c and python via mdp. goal achieved!</div>
<div class="line">[Sunday 06 March 2011] [17:22:59] &lt;Guthur&gt;    pieter_hintjens, The C# link in the language list for new examples I sent is not currently bold</div>
<div class="line">[Sunday 06 March 2011] [18:08:48] &lt;Skaag&gt;     I have an assertion while running the tests under /jzmq/perf</div>
<div class="line">[Sunday 06 March 2011] [18:09:12] &lt;Skaag&gt;     Assertion failed: <a href="#id255"><span class="problematic" id="id256">msg_</span></a>-&gt;flags &amp; ZMQ_MSG_MORE (req.cpp:86)</div>
<div class="line">[Monday 07 March 2011] [04:05:05] &lt;sejo&gt;      is there a way to send a message to a que and have mutiple subscribers, but only one handles the message?</div>
<div class="line">[Monday 07 March 2011] [04:09:31] &lt;guido_g&gt;   with pub/sub not out of the box</div>
<div class="line">[Monday 07 March 2011] [04:09:49] &lt;guido_g&gt;   check the other socket types like push/pull</div>
<div class="line">[Monday 07 March 2011] [04:13:13] &lt;pieter_hintjens&gt;   g&#8217;morning</div>
<div class="line">[Monday 07 March 2011] [04:13:29] &lt;guido_g&gt;   howdy pieter_hintjens</div>
<div class="line">[Monday 07 March 2011] [04:13:41] &lt;guido_g&gt;   saw a new spec comming up</div>
<div class="line">[Monday 07 March 2011] [04:13:45] &lt;pieter_hintjens&gt;   :-)</div>
<div class="line">[Monday 07 March 2011] [04:14:05] &lt;guido_g&gt;   atm fighting w/ github and documentation</div>
<div class="line">[Monday 07 March 2011] [04:14:26] &lt;guido_g&gt;   see <a class="reference external" href="http://guidog.github.com/pyzmq-mdp/">http://guidog.github.com/pyzmq-mdp/</a></div>
<div class="line">[Monday 07 March 2011] [04:14:47] &lt;pieter_hintjens&gt;   hey, nice</div>
<div class="line">[Monday 07 March 2011] [04:14:53] &lt;pieter_hintjens&gt;   how do you get the subdomain?</div>
<div class="line">[Monday 07 March 2011] [04:15:02] &lt;guido_g&gt;   it&#8217;s the standard githup page</div>
<div class="line">[Monday 07 March 2011] [04:15:33] &lt;pieter_hintjens&gt;   hmm</div>
<div class="line">[Monday 07 March 2011] [04:15:43] &lt;guido_g&gt;   go to a repo -&gt; admin -&lt; check GitHup Pages</div>
<div class="line">[Monday 07 March 2011] [04:16:15] &lt;pieter_hintjens&gt;   yes, looking at it...</div>
<div class="line">[Monday 07 March 2011] [04:16:31] &lt;pieter_hintjens&gt;   nah, forget it, wasted too many years writing HTML already</div>
<div class="line">[Monday 07 March 2011] [04:16:37] &lt;pieter_hintjens&gt;   this is why I like wikidot</div>
<div class="line">[Monday 07 March 2011] [04:16:52] &lt;guido_g&gt;   i&#8217;m using Sphinx for documentation</div>
<div class="line">[Monday 07 March 2011] [04:17:08] &lt;guido_g&gt;   just need to fix the css refs and it should work</div>
<div class="line">[Monday 07 March 2011] [04:17:20]      * guido_g is not a web guy</div>
<div class="line">[Monday 07 March 2011] [04:36:37] &lt;mikko&gt;     good morning</div>
<div class="line">[Monday 07 March 2011] [04:37:39] &lt;Steve-o&gt;   afternoon</div>
<div class="line">[Monday 07 March 2011] [04:37:53] &lt;Steve-o&gt;   just installing msvc x64 again to test out win64 builds</div>
<div class="line">[Monday 07 March 2011] [04:39:51] &lt;mikko&gt;     Steve-o: i was thinking about that as well</div>
<div class="line">[Monday 07 March 2011] [04:39:55] &lt;mikko&gt;     msvc64 builds</div>
<div class="line">[Monday 07 March 2011] [04:40:19] &lt;mikko&gt;     i am investigating using amazon EC2 for linux64/win64</div>
<div class="line">[Monday 07 March 2011] [04:40:35] &lt;mikko&gt;     if win64 works ok i can add daily builds for openpgm as well if you want</div>
<div class="line">[Monday 07 March 2011] [04:41:05] &lt;Steve-o&gt;   i need to test masm64</div>
<div class="line">[Monday 07 March 2011] [04:41:52] &lt;Steve-o&gt;   I doubt mingw-w64 is happy with that</div>
<div class="line">[Monday 07 March 2011] [04:43:01] &lt;Steve-o&gt;   I complete forgot about lack of inline assembler</div>
<div class="line">[Monday 07 March 2011] [04:44:18] &lt;pieter_hintjens&gt;   Steve-o: afternoon... :-)</div>
<div class="line">[Monday 07 March 2011] [04:44:28] &lt;Steve-o&gt;   so difficult to work with 8 &amp; 16-bit atomics</div>
<div class="line">[Monday 07 March 2011] [04:44:35] &lt;pieter_hintjens&gt;   I forgot to ask you whether there were patches to go into 2.1.2 or not...</div>
<div class="line">[Monday 07 March 2011] [04:45:09] &lt;Steve-o&gt;   I don&#8217;t know whether you wish to stay on 5.0 or not</div>
<div class="line">[Monday 07 March 2011] [04:45:22] &lt;pieter_hintjens&gt;   I have no opinion on that...</div>
<div class="line">[Monday 07 March 2011] [04:45:24] &lt;Steve-o&gt;   5.0.93 was out in December as a large backport</div>
<div class="line">[Monday 07 March 2011] [04:45:32] &lt;Steve-o&gt;   mainly Win64 stuff, tedious</div>
<div class="line">[Monday 07 March 2011] [04:45:53] &lt;Steve-o&gt;   but someone else posted patches for 5.1.99 for OSX</div>
<div class="line">[Monday 07 March 2011] [04:46:08] &lt;Steve-o&gt;   The 5.1 branch brings in OSX support</div>
<div class="line">[Monday 07 March 2011] [04:46:13] &lt;Steve-o&gt;   forward ported from 3.0</div>
<div class="line">[Monday 07 March 2011] [04:46:28] &lt;pieter_hintjens&gt;   do you think it&#8217;s doable to bring that into the 2.1.x branch of 0MQ?</div>
<div class="line">[Monday 07 March 2011] [04:46:53] &lt;pieter_hintjens&gt;   all I want is people who download the stable 0MQ to get OpenPGM working with it</div>
<div class="line">[Monday 07 March 2011] [04:47:47] &lt;Steve-o&gt;   The API is very similar, only the definition of restrict changed</div>
<div class="line">[Monday 07 March 2011] [04:48:05] &lt;Steve-o&gt;   I&#8217;m only testing Windows with the 5.1 branch</div>
<div class="line">[Monday 07 March 2011] [04:48:49] &lt;pieter_hintjens&gt;   Steve-o: are you testing OpenPGM together with 0MQ?</div>
<div class="line">[Monday 07 March 2011] [04:48:58] &lt;Steve-o&gt;   Mikko&#8217;s autoconf changes will be really useful though</div>
<div class="line">[Monday 07 March 2011] [04:49:34] &lt;pieter_hintjens&gt;   mikko: can you shine a light here?</div>
<div class="line">[Monday 07 March 2011] [04:49:39] &lt;mikko&gt;     pieter_hintjens: sure</div>
<div class="line">[Monday 07 March 2011] [04:49:54] &lt;mikko&gt;     pieter_hintjens: we&#8217;ve been working on adding autotools build to openpgm</div>
<div class="line">[Monday 07 March 2011] [04:50:10] &lt;mikko&gt;     and we would invoke that build from zeromq build</div>
<div class="line">[Monday 07 March 2011] [04:50:25] &lt;pieterh&gt;   it&#8217;s not yet in the zeromq build, then</div>
<div class="line">[Monday 07 March 2011] [04:50:28] &lt;Steve-o&gt;   5.1 adds cmake and autoconf build systems for release</div>
<div class="line">[Monday 07 March 2011] [04:50:38] &lt;mikko&gt;     pieterh: i have a branch where this works pretty well</div>
<div class="line">[Monday 07 March 2011] [04:50:47] &lt;pieterh&gt;   mikko: branch off what?</div>
<div class="line">[Monday 07 March 2011] [04:50:52] &lt;mikko&gt;     pieterh: zeromq2</div>
<div class="line">[Monday 07 March 2011] [04:50:57] &lt;pieterh&gt;   what version</div>
<div class="line">[Monday 07 March 2011] [04:50:59] &lt;pieterh&gt;   master?</div>
<div class="line">[Monday 07 March 2011] [04:50:59] &lt;mikko&gt;     master</div>
<div class="line">[Monday 07 March 2011] [04:51:07] &lt;pieterh&gt;   ok, close enough...</div>
<div class="line">[Monday 07 March 2011] [04:51:12] &lt;mikko&gt;     but the changes are easy to port to any branch</div>
<div class="line">[Monday 07 March 2011] [04:51:36] &lt;mikko&gt;     linux and solaris are now pretty well tested</div>
<div class="line">[Monday 07 March 2011] [04:51:39] &lt;pieterh&gt;   do you want to try to get this into 2.1.13?</div>
<div class="line">[Monday 07 March 2011] [04:51:40] &lt;Steve-o&gt;   and with that I want to test the outstanding github issues again</div>
<div class="line">[Monday 07 March 2011] [04:52:16] &lt;pieterh&gt;   it can go into a later stable version too but sooner seems better</div>
<div class="line">[Monday 07 March 2011] [04:52:28] &lt;pieterh&gt;   sorry... 2.1.3!</div>
<div class="line">[Monday 07 March 2011] [04:52:38]      * pieterh has version number confusion</div>
<div class="line">[Monday 07 March 2011] [04:52:44] &lt;mikko&gt;     well, we can work towards that goal</div>
<div class="line">[Monday 07 March 2011] [04:53:01] &lt;mikko&gt;     most of the work we&#8217;ve been doing doesn&#8217;t have visibility in the zeromq community</div>
<div class="line">[Monday 07 March 2011] [04:53:11] &lt;mikko&gt;     as the changes tend to go to openpgm trunk</div>
<div class="line">[Monday 07 March 2011] [04:53:19] &lt;pieterh&gt;   indeed, it&#8217;s been submarinish</div>
<div class="line">[Monday 07 March 2011] [04:53:49] &lt;mikko&gt;     and this hopefully helps openpgm as well</div>
<div class="line">[Monday 07 March 2011] [04:54:02] &lt;Steve-o&gt;   apart from I&#8221;m looking after three build systems now :O</div>
<div class="line">[Monday 07 March 2011] [04:54:02] &lt;mikko&gt;     as distros like to package autotools builds</div>
<div class="line">[Monday 07 March 2011] [04:54:15] &lt;pieterh&gt;   oh, joy... :-)</div>
<div class="line">[Monday 07 March 2011] [04:54:50] &lt;pieterh&gt;   ok, mikko, let&#8217;s see if we can backport these changes to the 2.1 branch sometime</div>
<div class="line">[Monday 07 March 2011] [04:54:57] &lt;pieterh&gt;   i&#8217;m happy to help of course</div>
<div class="line">[Monday 07 March 2011] [04:55:19] &lt;mikko&gt;     Steve-o: what is the situation with freebsd?</div>
<div class="line">[Monday 07 March 2011] [04:55:24] &lt;mikko&gt;     openpgm + freebsd?</div>
<div class="line">[Monday 07 March 2011] [04:55:42] &lt;Steve-o&gt;   I use freebsd as part of my network testing suite</div>
<div class="line">[Monday 07 March 2011] [04:55:49] &lt;Steve-o&gt;   but not as a target platform</div>
<div class="line">[Monday 07 March 2011] [04:55:56] &lt;Steve-o&gt;   if that makes sense</div>
<div class="line">[Monday 07 March 2011] [04:56:32] &lt;Steve-o&gt;   I can build and monitor traffic from Solaris, Windows, and Linux perfectly</div>
<div class="line">[Monday 07 March 2011] [04:57:03] &lt;mikko&gt;     is there anything i can help with the builds?</div>
<div class="line">[Monday 07 March 2011] [04:57:04] &lt;Steve-o&gt;   but I have problems building the rest of the test suite on it, the FreeBSD networking stack is a bit too different for how the tests are written</div>
<div class="line">[Monday 07 March 2011] [04:58:35] &lt;Steve-o&gt;   you can try building with the unit tests, -DWITH_CHECK=true and -DWITH_TEST=true in scons</div>
<div class="line">[Monday 07 March 2011] [04:58:58] &lt;Steve-o&gt;   its just a lot of small differences everywhere</div>
<div class="line">[Monday 07 March 2011] [04:59:13] &lt;mikko&gt;     ok</div>
<div class="line">[Monday 07 March 2011] [04:59:14] &lt;Steve-o&gt;   annoying as Sun works fine</div>
<div class="line">[Monday 07 March 2011] [04:59:33] &lt;mikko&gt;     what about mac os x?</div>
<div class="line">[Monday 07 March 2011] [04:59:38] &lt;Steve-o&gt;   but no one is paying for it though, so meh</div>
<div class="line">[Monday 07 March 2011] [04:59:57] &lt;Steve-o&gt;   My desktop is a max mini, so occasionally I boot in and test</div>
<div class="line">[Monday 07 March 2011] [05:00:11] &lt;Steve-o&gt;   I haven&#8217;t tried the test suite, basic functionality seems ok</div>
<div class="line">[Monday 07 March 2011] [05:00:14] &lt;engwan&gt;    Hi, I&#8217;m stumped with just a segfault and no other info</div>
<div class="line">[Monday 07 March 2011] [05:00:24] &lt;engwan&gt;    what might have gone wrong?</div>
<div class="line">[Monday 07 March 2011] [05:00:30] &lt;engwan&gt;    I&#8217;m using the ruby ffi client</div>
<div class="line">[Monday 07 March 2011] [05:00:36] &lt;engwan&gt;    and traced the segfault to this call</div>
<div class="line">[Monday 07 March 2011] [05:00:37] &lt;engwan&gt;    msg = &#64;reqs.recv_string(0)</div>
<div class="line">[Monday 07 March 2011] [05:00:55] &lt;mikko&gt;     cremes: here?</div>
<div class="line">[Monday 07 March 2011] [05:00:58] &lt;mikko&gt;     andrewvc: here?</div>
<div class="line">[Monday 07 March 2011] [05:01:05] &lt;mikko&gt;     those two are the rubyists</div>
<div class="line">[Monday 07 March 2011] [05:01:06] &lt;andrewvc&gt;  mikko: yo</div>
<div class="line">[Monday 07 March 2011] [05:01:16] &lt;mikko&gt;     as far as i know</div>
<div class="line">[Monday 07 March 2011] [05:01:34] &lt;andrewvc&gt;  engwan: which ruby/ZMQ version are you using</div>
<div class="line">[Monday 07 March 2011] [05:02:07] &lt;engwan&gt;    i tried zmq 2.0.8, 2.0.10 and 2.1.0</div>
<div class="line">[Monday 07 March 2011] [05:02:11] &lt;engwan&gt;    none worked</div>
<div class="line">[Monday 07 March 2011] [05:02:14] &lt;engwan&gt;    ruby 1.9.2</div>
<div class="line">[Monday 07 March 2011] [05:02:17] &lt;andrewvc&gt;  hmmm</div>
<div class="line">[Monday 07 March 2011] [05:02:27] &lt;andrewvc&gt;  it should work well with 1.9.2/HEAD</div>
<div class="line">[Monday 07 March 2011] [05:02:41] &lt;andrewvc&gt;  generally, we work for compat with HEAD, not the released versions</div>
<div class="line">[Monday 07 March 2011] [05:02:43] &lt;Steve-o&gt;   mikko: I cannot imagine many businesses wanting to use PGM on OSX though, I wait to be surprised</div>
<div class="line">[Monday 07 March 2011] [05:02:49] &lt;andrewvc&gt;  however, it should work regardless</div>
<div class="line">[Monday 07 March 2011] [05:02:52] &lt;engwan&gt;    im actually trying to run my rails app using rack-mongrel2</div>
<div class="line">[Monday 07 March 2011] [05:02:59] &lt;andrewvc&gt;  what exactly are you trying to do in the code?</div>
<div class="line">[Monday 07 March 2011] [05:03:00] &lt;mikko&gt;     Steve-o: only developers i guess</div>
<div class="line">[Monday 07 March 2011] [05:03:16] &lt;engwan&gt;    and segfaults when i try to start the server</div>
<div class="line">[Monday 07 March 2011] [05:03:34] &lt;Steve-o&gt;   mikko: Oddly enough I was the first to port TIBCO&#8217;s Rendezvous to OS X</div>
<div class="line">[Monday 07 March 2011] [05:03:56] &lt;engwan&gt;    i traced the segfault to line 23</div>
<div class="line">[Monday 07 March 2011] [05:03:58] &lt;engwan&gt;    in <a class="reference external" href="https://github.com/darkhelmet/rack-mongrel2/blob/master/lib/mongrel2/connection.rb">https://github.com/darkhelmet/rack-mongrel2/blob/master/lib/mongrel2/connection.rb</a></div>
<div class="line">[Monday 07 March 2011] [05:04:05] &lt;Steve-o&gt;   mikko: it made sales and architects happy to show off</div>
<div class="line">[Monday 07 March 2011] [05:04:57] &lt;Steve-o&gt;   mikko: plus it took nearly 2 years for TIBCO to actually do it themselves</div>
<div class="line">[Monday 07 March 2011] [05:05:42] &lt;mikko&gt;     hehehe</div>
<div class="line">[Monday 07 March 2011] [05:05:46] &lt;Steve-o&gt;   mikko: OSX APIs are older than FreeBSD though which is really gnarly</div>
<div class="line">[Monday 07 March 2011] [05:06:16] &lt;mikko&gt;     Steve-o: but it has a pretty gui!</div>
<div class="line">[Monday 07 March 2011] [05:06:30] &lt;Steve-o&gt;   I&#8217;m under the impression Lion is getting a boost though</div>
<div class="line">[Monday 07 March 2011] [05:07:22] &lt;Steve-o&gt;   and hopefully a tidy up for IPv6</div>
<div class="line">[Monday 07 March 2011] [05:08:54] &lt;Steve-o&gt;   I still don&#8217;t have a Java API yet because the platform is too old, when will Oracle push v7 out of the door?</div>
<div class="line">[Monday 07 March 2011] [05:10:47] &lt;Steve-o&gt;   bindings are all pretty difficult to implement due to immaturity of IPv6 and SSM support :(</div>
<div class="line">[Monday 07 March 2011] [05:13:50] &lt;Steve-o&gt;   I&#8217;ve tried Erlang, Java, Perl, and Python.  All I managed to get working was a trivial Perl API.</div>
<div class="line">[Monday 07 March 2011] [05:18:24] &lt;Guthur&gt;    IPv6 seems to taking along time to get ready, in general</div>
<div class="line">[Monday 07 March 2011] [05:18:32] &lt;Guthur&gt;    considering it was need like yesterday</div>
<div class="line">[Monday 07 March 2011] [05:19:06] &lt;Steve-o&gt;   The APIs are hilarious, they have changed like 3-4 times</div>
<div class="line">[Monday 07 March 2011] [05:20:35] &lt;Steve-o&gt;   And clearly most developers are not going to get scopes or zone identifiers working well</div>
<div class="line">[Monday 07 March 2011] [05:22:01] &lt;Steve-o&gt;   And Solaris, ugh, you cannot assign a static IPv6 address (!)</div>
<div class="line">[Monday 07 March 2011] [05:23:42] &lt;Steve-o&gt;   Setup RIP and give everyone else on the network another address for fun</div>
<div class="line">[Monday 07 March 2011] [05:27:21] &lt;Steve-o&gt;   Also, the PGM protocol is IP agnostic so you can end up with really insane environments hoping between families</div>
<div class="line">[Monday 07 March 2011] [05:30:22] &lt;Guthur&gt;    Steve-o: sounds like fun times, hehe</div>
<div class="line">[Monday 07 March 2011] [05:33:28] &lt;Steve-o&gt;   mmm, CMake not generating a Makefile for Win64, ...</div>
<div class="line">[Monday 07 March 2011] [05:34:11] &lt;Guthur&gt;    pieterh: still not renamed majordomo yet?</div>
<div class="line">[Monday 07 March 2011] [05:34:31] &lt;pieterh&gt;   Guthur: no intention, that&#8217;s the name of the pattern</div>
<div class="line">[Monday 07 March 2011] [05:34:51] &lt;pieterh&gt;   you mean because of the old mailing list software?</div>
<div class="line">[Monday 07 March 2011] [05:34:55] &lt;Guthur&gt;    yep</div>
<div class="line">[Monday 07 March 2011] [05:35:00] &lt;pieterh&gt;   nah</div>
<div class="line">[Monday 07 March 2011] [05:35:04] &lt;Guthur&gt;    cool</div>
<div class="line">[Monday 07 March 2011] [05:35:17] &lt;stimpie&gt;   is there a limit on the number of &#8216;connections&#8217; a socket can have?</div>
<div class="line">[Monday 07 March 2011] [05:35:17] &lt;Guthur&gt;    I just thought you were going  to change it</div>
<div class="line">[Monday 07 March 2011] [05:37:36] &lt;pieterh&gt;   Guthur: the software seems quite dead, sadly</div>
<div class="line">[Monday 07 March 2011] [05:37:44] &lt;pieterh&gt;   stimpie: not in 0mq, but your OS will have limits</div>
<div class="line">[Monday 07 March 2011] [05:39:17] &lt;andrewvc&gt;  engwan: I&#8217;m not familiar with that codebase</div>
<div class="line">[Monday 07 March 2011] [05:39:28] &lt;andrewvc&gt;  does it use threading at all by chance?</div>
<div class="line">[Monday 07 March 2011] [05:39:40] &lt;engwan&gt;    i actually figured out something</div>
<div class="line">[Monday 07 March 2011] [05:39:44] &lt;andrewvc&gt;  oh?</div>
<div class="line">[Monday 07 March 2011] [05:39:47] &lt;engwan&gt;    it segfaults when i use threading</div>
<div class="line">[Monday 07 March 2011] [05:39:53] &lt;engwan&gt;    coz im using a custom loader</div>
<div class="line">[Monday 07 March 2011] [05:39:59] &lt;engwan&gt;    that forks into separate threads</div>
<div class="line">[Monday 07 March 2011] [05:40:33] &lt;engwan&gt;    i was trying to achieve this: load rails, then fork 3 processes</div>
<div class="line">[Monday 07 March 2011] [05:40:44] &lt;engwan&gt;    each connecting to the same zeromq/mongrel</div>
<div class="line">[Monday 07 March 2011] [05:40:48] &lt;andrewvc&gt;  yeah</div>
<div class="line">[Monday 07 March 2011] [05:41:02] &lt;engwan&gt;    are there inherent problems with threading and zeromq?</div>
<div class="line">[Monday 07 March 2011] [05:41:03] &lt;andrewvc&gt;  well, sharing sockets between threads isn&#8217;t something you&#8217;re supposed to do with zmq</div>
<div class="line">[Monday 07 March 2011] [05:41:17] &lt;andrewvc&gt;  you can pass one between threads, but you may not concurrently access one, so far as I know</div>
<div class="line">[Monday 07 March 2011] [05:41:29] &lt;andrewvc&gt;  at any rate, here&#8217;s what I&#8217;d do</div>
<div class="line">[Monday 07 March 2011] [05:41:41] &lt;andrewvc&gt;  have a single thread that handles all messages on a single socket</div>
<div class="line">[Monday 07 March 2011] [05:41:45] &lt;andrewvc&gt;  and delegate to worker processes</div>
<div class="line">[Monday 07 March 2011] [05:42:12] &lt;andrewvc&gt;  that, or spawn one socket per thread</div>
<div class="line">[Monday 07 March 2011] [05:43:43] &lt;engwan&gt;    hmm.. but i tried just spawning one thread.. and it still segfaults</div>
<div class="line">[Monday 07 March 2011] [05:44:01] &lt;andrewvc&gt;  hmmm, if the thread is different than the one that created the socket, you may still have issues</div>
<div class="line">[Monday 07 March 2011] [05:44:08] &lt;engwan&gt;    my loader forks/execs then creates the socket</div>
<div class="line">[Monday 07 March 2011] [05:44:12] &lt;engwan&gt;    then segfault</div>
<div class="line">[Monday 07 March 2011] [05:44:15] &lt;andrewvc&gt;  ohhhhhhhhhh</div>
<div class="line">[Monday 07 March 2011] [05:44:19] &lt;andrewvc&gt;  there&#8217;s your problem</div>
<div class="line">[Monday 07 March 2011] [05:44:23] &lt;engwan&gt;    but if i do it directly</div>
<div class="line">[Monday 07 March 2011] [05:44:25] &lt;engwan&gt;    without fork</div>
<div class="line">[Monday 07 March 2011] [05:44:27] &lt;engwan&gt;    it works</div>
<div class="line">[Monday 07 March 2011] [05:44:30] &lt;andrewvc&gt;  yeah, exactly</div>
<div class="line">[Monday 07 March 2011] [05:44:41] &lt;pieterh&gt;   sockets are not thread safe</div>
<div class="line">[Monday 07 March 2011] [05:44:42] &lt;andrewvc&gt;  I&#8217;ve found that requiring ffi-rzmq before forking does not work</div>
<div class="line">[Monday 07 March 2011] [05:44:52] &lt;andrewvc&gt;  so, don&#8217;t require ffi-rzmq till after you&#8217;ve forked</div>
<div class="line">[Monday 07 March 2011] [05:44:53] &lt;engwan&gt;    ohh...</div>
<div class="line">[Monday 07 March 2011] [05:45:06] &lt;andrewvc&gt;  each process will need its own context anyway</div>
<div class="line">[Monday 07 March 2011] [05:45:35] &lt;andrewvc&gt;  still, you should have one socket per thread</div>
<div class="line">[Monday 07 March 2011] [05:45:53] &lt;andrewvc&gt;  or just have an IO dedicated thread that handles a single socket</div>
<div class="line">[Monday 07 March 2011] [05:46:05] &lt;andrewvc&gt;  you can even use eventmachine for that with em-zeromq</div>
<div class="line">[Monday 07 March 2011] [05:46:17] &lt;andrewvc&gt;  kinda like a zmq version of thin</div>
<div class="line">[Monday 07 March 2011] [05:46:35] &lt;andrewvc&gt;  though, I with a low number of sockets there&#8217;s not much benefit</div>
<div class="line">[Monday 07 March 2011] [05:50:08] &lt;andrewvc&gt;  pieterh: does that advice make sense for you? Would you go one socket per worker, or just spawn a single thread reading off the sock and delegating to workers</div>
<div class="line">[Monday 07 March 2011] [05:50:16] &lt;andrewvc&gt;  in a multi-threaded up</div>
<div class="line">[Monday 07 March 2011] [05:50:51] &lt;pieterh&gt;   ... typically, one TCP socket facing clients, and multiple inproc sockets sending work to/from workers</div>
<div class="line">[Monday 07 March 2011] [05:51:27] &lt;pieterh&gt;   you need to know why you&#8217;re using multiple threads</div>
<div class="line">[Monday 07 March 2011] [05:51:35] &lt;andrewvc&gt;  well, it&#8217;s engwan&#8217;s thing</div>
<div class="line">[Monday 07 March 2011] [05:51:40] &lt;andrewvc&gt;  a mongrel2 handler</div>
<div class="line">[Monday 07 March 2011] [05:51:44] &lt;andrewvc&gt;  each thread has a full rails process</div>
<div class="line">[Monday 07 March 2011] [05:52:03] &lt;pieterh&gt;   each thread is a handler?</div>
<div class="line">[Monday 07 March 2011] [05:52:18] &lt;andrewvc&gt;  I tend to think inproc isn&#8217;t so good in ruby, as there&#8217;s a serialization cost. In C you can just stuff a struct in one, in ruby you have to serialize/deserialize</div>
<div class="line">[Monday 07 March 2011] [05:52:32] &lt;andrewvc&gt;  yeah, each thread handles a separate HTTP request using rails</div>
<div class="line">[Monday 07 March 2011] [05:52:42] &lt;engwan&gt;    I&#8217;m just creating an easier way to create lots of rails processes connecting to mongrel2</div>
<div class="line">[Monday 07 March 2011] [05:52:50] &lt;engwan&gt;    instead of starting each one individually</div>
<div class="line">[Monday 07 March 2011] [05:52:58] &lt;engwan&gt;    i thought of starting one then forking</div>
<div class="line">[Monday 07 March 2011] [05:53:06] &lt;andrewvc&gt;  well, here&#8217;s the other thing about having a master thread</div>
<div class="line">[Monday 07 March 2011] [05:53:11] &lt;andrewvc&gt;  you can have a local-global request queue</div>
<div class="line">[Monday 07 March 2011] [05:53:13] &lt;pieterh&gt;   engwan: ok, so give each thread its own context</div>
<div class="line">[Monday 07 March 2011] [05:53:23] &lt;pieterh&gt;   its own sockets, let them connect independently back to mongrel2</div>
<div class="line">[Monday 07 March 2011] [05:53:38] &lt;engwan&gt;    yup, thats what im doing</div>
<div class="line">[Monday 07 March 2011] [05:53:43] &lt;andrewvc&gt;  i mean, as I understand it, ZMQ will round-robin requests to various workers</div>
<div class="line">[Monday 07 March 2011] [05:53:53] &lt;andrewvc&gt;  so you want the workers pulling work, not getting it pushed to them, ideally</div>
<div class="line">[Monday 07 March 2011] [05:53:58] &lt;engwan&gt;    you were right andrewvc regarding the require thing</div>
<div class="line">[Monday 07 March 2011] [05:54:04] &lt;andrewvc&gt;  ah, cool, glad I could help</div>
<div class="line">[Monday 07 March 2011] [05:54:35] &lt;engwan&gt;    yeah, im not pushing work to the workers, rather the workers themselves connect to mongrel2 and ask for work</div>
<div class="line">[Monday 07 March 2011] [05:54:41] &lt;andrewvc&gt;  you could either use the router/dealer stuff for that, or the easy way would be just to use a ruby construct to pull the work</div>
<div class="line">[Monday 07 March 2011] [05:54:46] &lt;pieterh&gt;   engwan: sounds fine, where are you creating the context?</div>
<div class="line">[Monday 07 March 2011] [05:54:53] &lt;andrewvc&gt;  yeah, I&#8217;m not nuts about that part of mongrel2</div>
<div class="line">[Monday 07 March 2011] [05:55:01] &lt;andrewvc&gt;  since it uses a PUSH socket</div>
<div class="line">[Monday 07 March 2011] [05:55:06] &lt;engwan&gt;    i created the context after forking</div>
<div class="line">[Monday 07 March 2011] [05:55:13] &lt;andrewvc&gt;  PUSH has no backpressure right pieter?</div>
<div class="line">[Monday 07 March 2011] [05:55:16] &lt;pieterh&gt;   so as far as zeromq is concerned, this should all be safe</div>
<div class="line">[Monday 07 March 2011] [05:55:21] &lt;andrewvc&gt;  so, a slow worker will get equal work, correct</div>
<div class="line">[Monday 07 March 2011] [05:55:28] &lt;pieterh&gt;   andrewvc: nope, it&#8217;s just fanout</div>
<div class="line">[Monday 07 March 2011] [05:55:36] &lt;pieterh&gt;   i mean, yes, you&#8217;re right</div>
<div class="line">[Monday 07 March 2011] [05:55:48] &lt;andrewvc&gt;  yeah, so engwan, I think that&#8217;s kind of a design deficiency in mongrel2</div>
<div class="line">[Monday 07 March 2011] [05:56:02] &lt;andrewvc&gt;  in that a slow worker will queue messages, even while others are free</div>
<div class="line">[Monday 07 March 2011] [05:56:16] &lt;andrewvc&gt;  you could mitigate this in your handler by implementing your own global queue</div>
<div class="line">[Monday 07 March 2011] [05:56:20] &lt;andrewvc&gt;  off a single socket</div>
<div class="line">[Monday 07 March 2011] [05:56:46] &lt;pieterh&gt;   what mongrel2 should use is the LRU queue pattern</div>
<div class="line">[Monday 07 March 2011] [05:57:00] &lt;pieterh&gt;   but I think engwan&#8217;s question is &#8220;why is it crashing?&#8221; :-)</div>
<div class="line">[Monday 07 March 2011] [05:57:01] &lt;engwan&gt;    oh, so these workers listen to the socket and receive zeromq messages, plainly round robin?</div>
<div class="line">[Monday 07 March 2011] [05:57:07] &lt;andrewvc&gt;  oh, the crashing part has been fixed</div>
<div class="line">[Monday 07 March 2011] [05:57:13] &lt;andrewvc&gt;  it was related to forking</div>
<div class="line">[Monday 07 March 2011] [05:57:18] &lt;pieterh&gt;   ah, ok, excellent</div>
<div class="line">[Monday 07 March 2011] [05:57:27] &lt;pieterh&gt;   so engwan, read Chapter 3 of the Guide</div>
<div class="line">[Monday 07 March 2011] [05:57:30] &lt;pieterh&gt;   (and 1 and 2)</div>
<div class="line">[Monday 07 March 2011] [05:57:43] &lt;pieterh&gt;   and if you want a really balanced mongrel2 engine...</div>
<div class="line">[Monday 07 March 2011] [05:57:50] &lt;andrewvc&gt;  pieterh: I agree about the LRU queue</div>
<div class="line">[Monday 07 March 2011] [05:58:03] &lt;pieterh&gt;   one LRU queue that accepts everything from mongrel2 and then distributes that to workers on a LRU basis</div>
<div class="line">[Monday 07 March 2011] [05:58:05] &lt;andrewvc&gt;  but mongrel 2 uses PUSH and SUB</div>
<div class="line">[Monday 07 March 2011] [05:58:09] &lt;pieterh&gt;   np</div>
<div class="line">[Monday 07 March 2011] [05:58:15] &lt;andrewvc&gt;  ah, I see, just inject it eh</div>
<div class="line">[Monday 07 March 2011] [05:58:21] &lt;pieterh&gt;   proxy</div>
<div class="line">[Monday 07 March 2011] [05:58:22] &lt;andrewvc&gt;  that&#8217;d be pretty cool actually</div>
<div class="line">[Monday 07 March 2011] [05:58:33] &lt;engwan&gt;    ok, will read more about zeromq.. i read the mongrel2 docs but forgot to read the zeromq docs</div>
<div class="line">[Monday 07 March 2011] [05:58:33] &lt;pieterh&gt;   0MQ is a construction kit</div>
<div class="line">[Monday 07 March 2011] [05:58:34] &lt;engwan&gt;    :D</div>
<div class="line">[Monday 07 March 2011] [05:58:41] &lt;andrewvc&gt;  that is cool about zmq, that you can fix a design flaw like that so easily</div>
<div class="line">[Monday 07 March 2011] [05:58:50] &lt;pieterh&gt;   it&#8217;s not a design flaw</div>
<div class="line">[Monday 07 March 2011] [05:58:59] &lt;pieterh&gt;   remember that Zed made this before we&#8217;d documented any LRU patterns</div>
<div class="line">[Monday 07 March 2011] [05:59:06] &lt;andrewvc&gt;  ah, yeah, sorry, that&#8217;s correct</div>
<div class="line">[Monday 07 March 2011] [05:59:20] &lt;pieterh&gt;   if workers are reasonably behaved, it&#8217;s simple and fast since there&#8217;s no chit chat</div>
<div class="line">[Monday 07 March 2011] [05:59:24] &lt;andrewvc&gt;  yeah</div>
<div class="line">[Monday 07 March 2011] [06:00:35] &lt;andrewvc&gt;  someone, not me, should write a LRU Queue middleware in some generic fashion for mongrel 2</div>
<div class="line">[Monday 07 March 2011] [06:01:14] &lt;pieterh&gt;   &lt;insert call for volunteers here&gt; :-)</div>
<div class="line">[Monday 07 March 2011] [06:01:19] &lt;andrewvc&gt;  lol</div>
<div class="line">[Monday 07 March 2011] [06:01:26] &lt;engwan&gt;    lol</div>
<div class="line">[Monday 07 March 2011] [06:02:04] &lt;guido_g&gt;   hehe</div>
<div class="line">[Monday 07 March 2011] [06:03:03] &lt;guido_g&gt;   pieterh: <a class="reference external" href="http://guidog.github.com/pyzmq-mdp/">http://guidog.github.com/pyzmq-mdp/</a> &lt;- the link you might want to add to the implementions section or mdp project page</div>
<div class="line">[Monday 07 March 2011] [06:03:12] &lt;andrewvc&gt;  pieterh: well, is it LRU you want really</div>
<div class="line">[Monday 07 March 2011] [06:03:54] &lt;andrewvc&gt;  nm, I guess any router/dealer would work. the important thing is the clients don&#8217;t queue messages</div>
<div class="line">[Monday 07 March 2011] [06:04:18] &lt;pieterh&gt;   guido_g: done</div>
<div class="line">[Monday 07 March 2011] [06:04:22] &lt;guido_g&gt;   thx</div>
<div class="line">[Monday 07 March 2011] [06:05:03] &lt;pieterh&gt;   andrewvc: yes, LRU is the pattern that comes back again and again</div>
<div class="line">[Monday 07 March 2011] [06:05:44] &lt;andrewvc&gt;  is that because it guarantees that our workers service one req at a time and leave queuing to the router</div>
<div class="line">[Monday 07 March 2011] [06:06:03] &lt;andrewvc&gt;  just making sure I&#8217;m on the same page?</div>
<div class="line">[Monday 07 March 2011] [06:06:24] &lt;pieterh&gt;   yes, it basically:</div>
<div class="line">[Monday 07 March 2011] [06:06:30] &lt;pieterh&gt;   - allows synchronous workers</div>
<div class="line">[Monday 07 March 2011] [06:06:39] &lt;pieterh&gt;   - only gives work to a worker that&#8217;s explicitly ready</div>
<div class="line">[Monday 07 March 2011] [06:06:49] &lt;pieterh&gt;   - queues requests in one place</div>
<div class="line">[Monday 07 March 2011] [06:07:19] &lt;pieterh&gt;   all of the more sophisticated queuing broker designs we make are based on LRU</div>
<div class="line">[Monday 07 March 2011] [06:07:27] &lt;andrewvc&gt;  hmm, is there zdevice for it yet?</div>
<div class="line">[Monday 07 March 2011] [06:07:31] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 07 March 2011] [06:07:49] &lt;pieterh&gt;   mdbroker example, and guido_g&#8217;s Python implementation he just referred to</div>
<div class="line">[Monday 07 March 2011] [06:07:56] &lt;pieterh&gt;   this is MDP, rather more than basic LRU</div>
<div class="line">[Monday 07 March 2011] [06:08:33] &lt;pieterh&gt;   lruqueue example, etc.</div>
<div class="line">[Monday 07 March 2011] [06:09:03] &lt;andrewvc&gt;  cool</div>
<div class="line">[Monday 07 March 2011] [06:09:35] &lt;andrewvc&gt;  I&#8217;ll be  integrating this into my own work for sure. I really need to re-read the guide, there&#8217;s more and more good stuff in there</div>
<div class="line">[Monday 07 March 2011] [06:10:24] &lt;guido_g&gt;   i think over time it&#8217;ll evolve into the standard book for using mq</div>
<div class="line">[Monday 07 March 2011] [06:10:40] &lt;andrewvc&gt;  yeah</div>
<div class="line">[Monday 07 March 2011] [06:10:47] &lt;pieterh&gt;   guido_g: that&#8217;s kind of the idea, yeah</div>
<div class="line">[Monday 07 March 2011] [06:10:47] &lt;guido_g&gt;   wie might even see a dead tree edition &#8211; will we?</div>
<div class="line">[Monday 07 March 2011] [06:10:50] &lt;pieterh&gt;   yup</div>
<div class="line">[Monday 07 March 2011] [06:10:56] &lt;pieterh&gt;   lulu.com eventually</div>
<div class="line">[Monday 07 March 2011] [06:15:56] &lt;pieterh&gt;   ok, have to go, cyal</div>
<div class="line">[Monday 07 March 2011] [06:16:47] &lt;guido_g&gt;   cu</div>
<div class="line">[Monday 07 March 2011] [06:17:19] &lt;guido_g&gt;   oh, lunch time already</div>
<div class="line">[Monday 07 March 2011] [08:16:45] &lt;yrashk&gt;    hey</div>
<div class="line">[Monday 07 March 2011] [08:17:02] &lt;yrashk&gt;    out of curiosity, does 0mq work on android and/or iOS?</div>
<div class="line">[Monday 07 March 2011] [08:22:19] &lt;Guthur&gt;    yrashk: I remember someone mentioning doing it</div>
<div class="line">[Monday 07 March 2011] [08:22:32] &lt;yrashk&gt;    android or iOS?</div>
<div class="line">[Monday 07 March 2011] [08:22:32] &lt;Guthur&gt;    sorry I can&#8217;t remember any other details</div>
<div class="line">[Monday 07 March 2011] [08:22:58] &lt;Guthur&gt;    yrashk: I can&#8217;t remember tbh, it was some smartphone though</div>
<div class="line">[Monday 07 March 2011] [08:23:10] &lt;yrashk&gt;    I see</div>
<div class="line">[Monday 07 March 2011] [08:23:13] &lt;Guthur&gt;    sorry</div>
<div class="line">[Monday 07 March 2011] [08:23:14] &lt;yrashk&gt;    thanks anyway :)</div>
<div class="line">[Monday 07 March 2011] [08:23:32] &lt;Guthur&gt;    fire something onto the mailing list</div>
<div class="line">[Monday 07 March 2011] [08:23:54] &lt;yrashk&gt;    not curious enough</div>
<div class="line">[Monday 07 March 2011] [08:24:05] &lt;yrashk&gt;    was just chatting with a friend about a project he&#8217;s working on for his employer</div>
<div class="line">[Monday 07 March 2011] [08:25:29] &lt;Guthur&gt;    <a class="reference external" href="http://www.zeromq.org/distro:android">http://www.zeromq.org/distro:android</a></div>
<div class="line">[Monday 07 March 2011] [08:26:12] &lt;yrashk&gt;    thanks!</div>
<div class="line">[Monday 07 March 2011] [08:27:04] &lt;Guthur&gt;    <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg05684.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg05684.html</a></div>
<div class="line">[Monday 07 March 2011] [08:27:14] &lt;Guthur&gt;    there was the mailing thread ^^^</div>
<div class="line">[Monday 07 March 2011] [08:44:51] &lt;Guthur&gt;    pieterh: png?</div>
<div class="line">[Monday 07 March 2011] [08:44:54] &lt;Guthur&gt;    ping*</div>
<div class="line">[Monday 07 March 2011] [08:45:12] &lt;pieterh&gt;   Guthur: hi</div>
<div class="line">[Monday 07 March 2011] [08:45:36] &lt;Guthur&gt;    the link to the new C# examples I sent is not bold</div>
<div class="line">[Monday 07 March 2011] [08:45:45] &lt;Guthur&gt;    in the language list below the example</div>
<div class="line">[Monday 07 March 2011] [08:45:51] &lt;pieterh&gt;   it should be fixed now, requires a rebuild of the docs</div>
<div class="line">[Monday 07 March 2011] [08:46:01] &lt;Guthur&gt;    oh ok</div>
<div class="line">[Monday 07 March 2011] [08:46:27] &lt;Guthur&gt;    oh yeah, sorry i needed to refresh</div>
<div class="line">[Monday 07 March 2011] [08:46:28] &lt;Guthur&gt;    doh</div>
<div class="line">[Monday 07 March 2011] [08:46:40] &lt;pieterh&gt;   so you&#8217;re at 61% :-)</div>
<div class="line">[Monday 07 March 2011] [08:46:59] &lt;Guthur&gt;    i&#8217;m on peering2 at the moment</div>
<div class="line">[Monday 07 March 2011] [08:47:00] &lt;pieterh&gt;   oh, sorry... 54%...</div>
<div class="line">[Monday 07 March 2011] [08:47:15] &lt;Guthur&gt;    oh, I thought I was 54% before I sent those</div>
<div class="line">[Monday 07 March 2011] [08:47:20] &lt;pieterh&gt;   hang on, scoreboard seems wrong...</div>
<div class="line">[Monday 07 March 2011] [08:47:28] &lt;pieterh&gt;   these pages are not produced dynamically</div>
<div class="line">[Monday 07 March 2011] [08:51:01] &lt;Guthur&gt;    btw, can more than one socket bind to a named pipe?</div>
<div class="line">[Monday 07 March 2011] [08:51:22] &lt;pieterh&gt;   named pipe, you mean ipc? nope</div>
<div class="line">[Monday 07 March 2011] [08:51:24] &lt;Guthur&gt;    ie. IPC</div>
<div class="line">[Monday 07 March 2011] [08:51:39] &lt;Guthur&gt;    how is peering2 working then</div>
<div class="line">[Monday 07 March 2011] [08:52:16] &lt;pieterh&gt;   it&#8217;s using different ipc endpoints but the names may be confusingly similar</div>
<div class="line">[Monday 07 March 2011] [08:52:21] &lt;Guthur&gt;        //  Prepare local frontend and backend     void <a href="#id39"><span class="problematic" id="id40">*</span></a>localfe = zmq_socket (context, ZMQ_XREP);     zmq_bind (localfe, &#8220;ipc://localfe.ipc&#8221;);     void <a href="#id41"><span class="problematic" id="id42">*</span></a>localbe = zmq_socket (context, ZMQ_XREP);     zmq_bind (localbe, &#8220;ipc://localbe.ipc&#8221;);</div>
<div class="line">[Monday 07 March 2011] [08:52:24] &lt;Guthur&gt;    arrrgh</div>
<div class="line">[Monday 07 March 2011] [08:52:25] &lt;Guthur&gt;    sorry</div>
<div class="line">[Monday 07 March 2011] [08:52:51] &lt;Guthur&gt;    those binds are causing an error when I try to run two instances</div>
<div class="line">[Monday 07 March 2011] [08:53:12] &lt;pieterh&gt;   yeah, you need different peer names</div>
<div class="line">[Monday 07 March 2011] [08:53:21] &lt;pieterh&gt;   peering2 you me, peering2 me you</div>
<div class="line">[Monday 07 March 2011] [08:53:38] &lt;Guthur&gt;    but those are hardcoded strings</div>
<div class="line">[Monday 07 March 2011] [08:54:00] &lt;pieterh&gt;   peering2 takes the peer name from the command line</div>
<div class="line">[Monday 07 March 2011] [08:55:04] &lt;Guthur&gt;    but they are not used for the localfe and localbe</div>
<div class="line">[Monday 07 March 2011] [08:55:18] &lt;Guthur&gt;    they are used by the cloud ones</div>
<div class="line">[Monday 07 March 2011] [08:55:47] &lt;Guthur&gt;    am I suppose to change those hardcoded strings</div>
<div class="line">[Monday 07 March 2011] [08:55:51] &lt;Guthur&gt;    I assume not</div>
<div class="line">[Monday 07 March 2011] [09:00:13] &lt;private_meta&gt;      dammit... the first character of a message being 0 in the zmsg example causes SERIOUS problems for using any type of intelligent container</div>
<div class="line">[Monday 07 March 2011] [09:03:09] &lt;pieterh&gt;   Guthur: sorry, was getting a coffee... let me check</div>
<div class="line">[Monday 07 March 2011] [09:03:36] &lt;pieterh&gt;   heh, IMO peering2 just ignores the error</div>
<div class="line">[Monday 07 March 2011] [09:04:51] &lt;pieterh&gt;   this used to use inproc and I switched to ipc</div>
<div class="line">[Monday 07 March 2011] [09:05:25] &lt;pieterh&gt;   localfe and localbe can&#8217;t be hardcoded on ipc as they are</div>
<div class="line">[Monday 07 March 2011] [09:06:27] &lt;pieterh&gt;   I changed the client &amp; worker threads to use their own contexts</div>
<div class="line">[Monday 07 March 2011] [09:06:38] &lt;pieterh&gt;   I&#8217;ll need to make more changes... thanks for finding this error</div>
<div class="line">[Monday 07 March 2011] [09:15:11] &lt;Guthur&gt;    pieterh: not a bother</div>
<div class="line">[Monday 07 March 2011] [09:15:42] &lt;pieterh&gt;   Guthur: ok, I&#8217;ve fixed peering2 and peering3</div>
<div class="line">[Monday 07 March 2011] [09:16:00] &lt;Guthur&gt;    cheers, I&#8217;ll update mine later</div>
<div class="line">[Monday 07 March 2011] [09:16:04] &lt;pieterh&gt;   you can find the new versions in the git, they use unique endpoints and they use assertions properly on binds</div>
<div class="line">[Monday 07 March 2011] [09:16:13] &lt;Guthur&gt;    cool</div>
<div class="line">[Monday 07 March 2011] [09:16:28] &lt;Guthur&gt;    I want to get up to Ch4 asap</div>
<div class="line">[Monday 07 March 2011] [09:16:30] &lt;pieterh&gt;   it&#8217;s really great that you double-check my work like this</div>
<div class="line">[Monday 07 March 2011] [09:16:48] &lt;pieterh&gt;   getting the examples right is sometimes delicate</div>
<div class="line">[Monday 07 March 2011] [09:16:57] &lt;Guthur&gt;    pieterh: tbh it&#8217;s only because I was implementing the example and wanted to test my own code</div>
<div class="line">[Monday 07 March 2011] [09:17:31] &lt;Guthur&gt;    if I had had completed then it would have gone by unchecked</div>
<div class="line">[Monday 07 March 2011] [09:17:32] &lt;pieterh&gt;   it&#8217;s a treasure trove, the examples archive</div>
<div class="line">[Monday 07 March 2011] [09:17:43] &lt;private_meta&gt;      hmm</div>
<div class="line">[Monday 07 March 2011] [09:17:51] &lt;pieterh&gt;   private_meta: still having trouble with nulls?</div>
<div class="line">[Monday 07 March 2011] [09:18:02] &lt;private_meta&gt;      I circumvented it</div>
<div class="line">[Monday 07 March 2011] [09:18:05] &lt;private_meta&gt;      I have a different problem now</div>
<div class="line">[Monday 07 March 2011] [09:18:10] &lt;pieterh&gt;   i had to hack around it too, in zmsg</div>
<div class="line">[Monday 07 March 2011] [09:18:17] &lt;private_meta&gt;      When I debug the program, it works, when I run it normally, it fails</div>
<div class="line">[Monday 07 March 2011] [09:18:36] &lt;pieterh&gt;   usually a timing issue... so don&#8217;t debug it, use prints</div>
<div class="line">[Monday 07 March 2011] [09:18:39] &lt;private_meta&gt;      In the zmsg test, when normally executing it without gdb, it doesn&#8217;t receive the &#8220;Hello&#8221;</div>
<div class="line">[Monday 07 March 2011] [09:18:53] &lt;pieterh&gt;   multiple threads, I assume</div>
<div class="line">[Monday 07 March 2011] [09:18:55] &lt;private_meta&gt;      Well, it&#8217;s the OTHER way around, when I use prints to debug it fails</div>
<div class="line">[Monday 07 March 2011] [09:18:56] &lt;private_meta&gt;      no</div>
<div class="line">[Monday 07 March 2011] [09:18:57] &lt;private_meta&gt;      one thread</div>
<div class="line">[Monday 07 March 2011] [09:19:02] &lt;private_meta&gt;      your zmsg example, c++ified</div>
<div class="line">[Monday 07 March 2011] [09:19:11] &lt;pieterh&gt;   which zmsg example? there are... a few...</div>
<div class="line">[Monday 07 March 2011] [09:19:20] &lt;pieterh&gt;   ah, I mean, what test program</div>
<div class="line">[Monday 07 March 2011] [09:19:22] &lt;private_meta&gt;      the one in the master branch, C folder, zmsg.h</div>
<div class="line">[Monday 07 March 2011] [09:19:33] &lt;pieterh&gt;   the selftest method?</div>
<div class="line">[Monday 07 March 2011] [09:19:36] &lt;private_meta&gt;      Yes</div>
<div class="line">[Monday 07 March 2011] [09:19:40]      * pieterh checks</div>
<div class="line">[Monday 07 March 2011] [09:20:33] &lt;pieterh&gt;   hmm, so it sends a message to itself and checks it read back the right stuff</div>
<div class="line">[Monday 07 March 2011] [09:20:50] &lt;pieterh&gt;   my advice is (a) forget the case where it works, gdb, and use only the case where it breaks</div>
<div class="line">[Monday 07 March 2011] [09:21:08] &lt;pieterh&gt;   and (b) put printfs in the recv method to see what you&#8217;re actually getting back, if anything</div>
<div class="line">[Monday 07 March 2011] [09:21:56] &lt;private_meta&gt;      damn, i just removed the print statements because it DID work in debug</div>
<div class="line">[Monday 07 March 2011] [09:23:02] &lt;private_meta&gt;      If I put a sleep(1) before the receive method, it works</div>
<div class="line">[Monday 07 March 2011] [09:23:51] &lt;pieterh&gt;   you&#8217;re using the same ipc:// transport?</div>
<div class="line">[Monday 07 March 2011] [09:24:45] &lt;pieterh&gt;   0MQ has some of these weird timing issues in various places</div>
<div class="line">[Monday 07 March 2011] [09:24:54] &lt;pieterh&gt;   I&#8217;ll have to document them, there are a bunch of them</div>
<div class="line">[Monday 07 March 2011] [09:25:07] &lt;private_meta&gt;      pieterh: It&#8217;s pretty much a translation, I didn&#8217;t change anything important in it&#8217;s meaning</div>
<div class="line">[Monday 07 March 2011] [09:25:54] &lt;pieterh&gt;   private_meta: ok, first thing is to forget the case where it works, and identify which timing issue it is</div>
<div class="line">[Monday 07 March 2011] [09:26:12] &lt;pieterh&gt;   move the sleep around... after the bind, before connect</div>
<div class="line">[Monday 07 March 2011] [09:26:46] &lt;pieterh&gt;   I can&#8217;t see what it&#8217;d be, right away</div>
<div class="line">[Monday 07 March 2011] [09:27:39] &lt;private_meta&gt;      pieterh: It HAS to be between send and receive</div>
<div class="line">[Monday 07 March 2011] [09:28:08] &lt;pieterh&gt;   could be between bind and connect</div>
<div class="line">[Monday 07 March 2011] [09:28:33] &lt;pieterh&gt;   it&#8217;s one thread, there are only two async things happening</div>
<div class="line">[Monday 07 March 2011] [09:28:45] &lt;private_meta&gt;      no, I mean, if the sleep isn&#8217;t between send and receive, it won&#8217;t work</div>
<div class="line">[Monday 07 March 2011] [09:29:09] &lt;pieterh&gt;   are you doing a non-blocking recv?</div>
<div class="line">[Monday 07 March 2011] [09:29:21] &lt;pieterh&gt;   recv should block forever until there&#8217;s input</div>
<div class="line">[Monday 07 March 2011] [09:29:32] &lt;private_meta&gt;      Apparently it receives an empty message</div>
<div class="line">[Monday 07 March 2011] [09:29:38] &lt;private_meta&gt;      Ok, wait a second</div>
<div class="line">[Monday 07 March 2011] [09:29:55] &lt;private_meta&gt;      I&#8217;d like to put it on gist, but git lost my logon information</div>
<div class="line">[Monday 07 March 2011] [09:30:59] &lt;pieterh&gt;   silly git...</div>
<div class="line">[Monday 07 March 2011] [09:31:04] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 07 March 2011] [09:32:07] &lt;private_meta&gt;      ok <a class="reference external" href="http://codepad.org/7VjMTxTR">http://codepad.org/7VjMTxTR</a> this is the code</div>
<div class="line">[Monday 07 March 2011] [09:32:27] &lt;private_meta&gt;      <a class="reference external" href="http://codepad.org/rlTpafqH">http://codepad.org/rlTpafqH</a> This is the output</div>
<div class="line">[Monday 07 March 2011] [09:32:49] &lt;private_meta&gt;      The Message, part 2, should read &#8220;[005] Hello&#8221;, but it is empty</div>
<div class="line">[Monday 07 March 2011] [09:33:32] &lt;private_meta&gt;      <a class="reference external" href="http://codepad.org/ucswZvfR">http://codepad.org/ucswZvfR</a> output if sleep between zm.send() and zm.recv() is in place</div>
<div class="line">[Monday 07 March 2011] [09:34:50] &lt;yrashk&gt;    pieterh: speaking of ezmq/erlzmq, if we&#8217;ll decide to rename, would you consider creating zeromq/erlzmq2 repo?</div>
<div class="line">[Monday 07 March 2011] [09:35:32] &lt;pieterh&gt;   yrashk: of course</div>
<div class="line">[Monday 07 March 2011] [09:35:38] &lt;yrashk&gt;    great</div>
<div class="line">[Monday 07 March 2011] [09:35:54] &lt;pieterh&gt;   private_meta: weird, so it gets a couple of parts correctly and not the remainder...</div>
<div class="line">[Monday 07 March 2011] [09:36:03] &lt;yrashk&gt;    Dhammika already +1&#8217;d this renaming</div>
<div class="line">[Monday 07 March 2011] [09:36:10] &lt;yrashk&gt;    I am waiting for others to vote</div>
<div class="line">[Monday 07 March 2011] [09:36:17] &lt;private_meta&gt;      pieterh: It even gets the size of the message right</div>
<div class="line">[Monday 07 March 2011] [09:37:08] &lt;private_meta&gt;      I&#8217;ve put in a line to output content and size of the message</div>
<div class="line">[Monday 07 March 2011] [09:37:16] &lt;private_meta&gt;      recv: &#8220;&#8221;, size 17</div>
<div class="line">[Monday 07 March 2011] [09:37:17] &lt;private_meta&gt;      recv: &#8220;&#8221;, size 5</div>
<div class="line">[Monday 07 March 2011] [09:37:18] &lt;private_meta&gt;      I get this</div>
<div class="line">[Monday 07 March 2011] [09:37:27] &lt;pieterh&gt;   private_meta: hang on, there message output is strange</div>
<div class="line">[Monday 07 March 2011] [09:37:30] &lt;private_meta&gt;      For the first message that&#8217;s ok, as the &#8220;0&#8221; prevents a normal output</div>
<div class="line">[Monday 07 March 2011] [09:37:31] &lt;pieterh&gt;   <a href="#id43"><span class="problematic" id="id44">*</span></a>the</div>
<div class="line">[Monday 07 March 2011] [09:37:42] &lt;private_meta&gt;      The second message should show &#8220;Hello&#8221;</div>
<div class="line">[Monday 07 March 2011] [09:37:48] &lt;private_meta&gt;      what&#8217;s strange in the output?</div>
<div class="line">[Monday 07 March 2011] [09:38:13] &lt;pieterh&gt;   well, we send 1 part, &#8220;hello&#8221; on an XREQ socket</div>
<div class="line">[Monday 07 March 2011] [09:38:24] &lt;pieterh&gt;   and we receive on an XREP socket, which should prepend the identity</div>
<div class="line">[Monday 07 March 2011] [09:38:38] &lt;pieterh&gt;   so the message should be two frames, identity and then hello</div>
<div class="line">[Monday 07 March 2011] [09:38:49] &lt;pieterh&gt;   <a class="reference external" href="http://codepad.org/ucswZvfR">http://codepad.org/ucswZvfR</a> is not correct</div>
<div class="line">[Monday 07 March 2011] [09:39:14] &lt;private_meta&gt;      pieterh: where is it not correct?</div>
<div class="line">[Monday 07 March 2011] [09:39:28] &lt;private_meta&gt;      Wait, let me change something</div>
<div class="line">[Monday 07 March 2011] [09:39:49] &lt;pieterh&gt;   it should print two frames, identity + hello body</div>
<div class="line">[Monday 07 March 2011] [09:40:37] &lt;pieterh&gt;   ok, this is for multiple messages, not just the first one</div>
<div class="line">[Monday 07 March 2011] [09:40:45] &lt;pieterh&gt;   I think you&#8217;re assembling the frames wrongly</div>
<div class="line">[Monday 07 March 2011] [09:41:40] &lt;private_meta&gt;      I&#8217;ve made a new line between each dump now</div>
<div class="line">[Monday 07 March 2011] [09:41:40] &lt;private_meta&gt;      <a class="reference external" href="http://codepad.org/PeaZD9GI">http://codepad.org/PeaZD9GI</a></div>
<div class="line">[Monday 07 March 2011] [09:41:41] &lt;pieterh&gt;   see <a class="reference external" href="http://codepad.org/nSsVMEhq">http://codepad.org/nSsVMEhq</a></div>
<div class="line">[Monday 07 March 2011] [09:41:45] &lt;private_meta&gt;      The first one is a dump of sendmessage</div>
<div class="line">[Monday 07 March 2011] [09:41:52] &lt;private_meta&gt;      the second and third are received messages</div>
<div class="line">[Monday 07 March 2011] [09:41:57] &lt;pieterh&gt;   ah, ok</div>
<div class="line">[Monday 07 March 2011] [09:42:48] &lt;pieterh&gt;   so... in the case when it fails</div>
<div class="line">[Monday 07 March 2011] [09:42:49] &lt;private_meta&gt;      So, the output is at it is supposed to look like, but only if there is some waiting between send and receive</div>
<div class="line">[Monday 07 March 2011] [09:42:58] &lt;pieterh&gt;   you read the ID frame but not the content frame</div>
<div class="line">[Monday 07 March 2011] [09:43:24] &lt;pieterh&gt;   can you remove all sleeps, and add printfs until you know the cause of that &#8216;not reading the content frame&#8217;?</div>
<div class="line">[Monday 07 March 2011] [09:43:32] &lt;private_meta&gt;      I read ID size and message, and I read content size, but not content message</div>
<div class="line">[Monday 07 March 2011] [09:43:43] &lt;pieterh&gt;   how can you read the content size?</div>
<div class="line">[Monday 07 March 2011] [09:43:49] &lt;private_meta&gt;      How should I know?</div>
<div class="line">[Monday 07 March 2011] [09:43:56] &lt;private_meta&gt;      I just tested it</div>
<div class="line">[Monday 07 March 2011] [09:44:13] &lt;private_meta&gt;      see &#64;15:37</div>
<div class="line">[Monday 07 March 2011] [09:44:13] &lt;pieterh&gt;   :-) I mean, you ask 0MQ for a &#8216;message&#8217; and it returns you size+data</div>
<div class="line">[Monday 07 March 2011] [09:44:22] &lt;private_meta&gt;      I get the message</div>
<div class="line">[Monday 07 March 2011] [09:44:33] &lt;private_meta&gt;      message.data returns zip, message.size returns the correct size of the message</div>
<div class="line">[Monday 07 March 2011] [09:44:52] &lt;pieterh&gt;   wow</div>
<div class="line">[Monday 07 March 2011] [09:45:01] &lt;private_meta&gt;      The message should be &#8220;Hello&#8221;, so the size is correct to be &#8220;5&#8221;</div>
<div class="line">[Monday 07 March 2011] [09:45:07] &lt;pieterh&gt;   I&#8217;ve never seen that before</div>
<div class="line">[Monday 07 March 2011] [09:45:23] &lt;private_meta&gt;      Story of my life</div>
<div class="line">[Monday 07 March 2011] [09:46:19] &lt;pieterh&gt;   what OS are you using?</div>
<div class="line">[Monday 07 March 2011] [09:46:23] &lt;private_meta&gt;      Ubuntu</div>
<div class="line">[Monday 07 March 2011] [09:46:25] &lt;private_meta&gt;      64bit</div>
<div class="line">[Monday 07 March 2011] [09:46:33] &lt;pieterh&gt;   multicore box?</div>
<div class="line">[Monday 07 March 2011] [09:46:59] &lt;pieterh&gt;   latest version of 0MQ?</div>
<div class="line">[Monday 07 March 2011] [09:47:18] &lt;pieterh&gt;   ah, wait...</div>
<div class="line">[Monday 07 March 2011] [09:47:22] &lt;pieterh&gt;   :-) obviously</div>
<div class="line">[Monday 07 March 2011] [09:47:25] &lt;pieterh&gt;   hehe</div>
<div class="line">[Monday 07 March 2011] [09:47:42] &lt;private_meta&gt;      I&#8217;m using it on a VirtualBox Virtual Machine</div>
<div class="line">[Monday 07 March 2011] [09:47:49] &lt;private_meta&gt;      zmq 2.1.1</div>
<div class="line">[Monday 07 March 2011] [09:48:02] &lt;pieterh&gt;   you are indeed sending 5 bytes</div>
<div class="line">[Monday 07 March 2011] [09:48:16] &lt;pieterh&gt;   but the buffer you are sending is not hanging around</div>
<div class="line">[Monday 07 March 2011] [09:48:49] &lt;pieterh&gt;   let me double check how you implemented zmq_send...</div>
<div class="line">[Monday 07 March 2011] [09:49:11] &lt;pieterh&gt;   The &#8220;I send stuff and receive garbage&#8221; symptom comes from sending from a transient buffer</div>
<div class="line">[Monday 07 March 2011] [09:49:34] &lt;pieterh&gt;   socket.send is not copying, I assume</div>
<div class="line">[Monday 07 March 2011] [09:50:17] &lt;private_meta&gt;      hm?</div>
<div class="line">[Monday 07 March 2011] [09:50:32] &lt;pieterh&gt;   I&#8217;m not familiar with exactly how the C++ API works, but...</div>
<div class="line">[Monday 07 March 2011] [09:51:00] &lt;pieterh&gt;   but look at how the C zmsg_send function sends a frame:</div>
<div class="line">[Monday 07 March 2011] [09:51:01] &lt;pieterh&gt;               zmq_msg_init_size (&amp;message, size);</div>
<div class="line">[Monday 07 March 2011] [09:51:01] &lt;pieterh&gt;               memcpy (zmq_msg_data (&amp;message), data, size);</div>
<div class="line">[Monday 07 March 2011] [09:51:59] &lt;private_meta&gt;      &amp;message is syntactically impossible there</div>
<div class="line">[Monday 07 March 2011] [09:52:24] &lt;pieterh&gt;   that&#8217;s not the point (message is a 0MQ message here)</div>
<div class="line">[Monday 07 March 2011] [09:52:29] &lt;pieterh&gt;   the point is memcpy</div>
<div class="line">[Monday 07 March 2011] [09:52:39] &lt;private_meta&gt;      ah, that&#8217;s what you mean</div>
<div class="line">[Monday 07 March 2011] [09:53:10] &lt;private_meta&gt;      Instead of memcpy I use rebuild... You think rebuild can&#8217;t be used for that?</div>
<div class="line">[Monday 07 March 2011] [09:53:53] &lt;private_meta&gt;      Don&#8217;t tell me I can&#8217;t use the message without memcpy</div>
<div class="line">[Monday 07 March 2011] [09:53:55] &lt;pieterh&gt;   I&#8217;ve no idea but when you send &#8220;Hello&#8221; and receive &#8220;<a class="reference external" href="mailto:?&#37;&#52;&#48;$AS">?<span>&#64;</span>$AS</a>&#8221; it&#8217;s because the buffer you sent disappeared before 0MQ could asynchronously finish sending</div>
<div class="line">[Monday 07 March 2011] [09:54:24] &lt;private_meta&gt;      hmm</div>
<div class="line">[Monday 07 March 2011] [09:54:24] &lt;pieterh&gt;   You should be able to send from the zmsg frames, directly</div>
<div class="line">[Monday 07 March 2011] [09:54:35] &lt;private_meta&gt;      What do you mean by that?</div>
<div class="line">[Monday 07 March 2011] [09:55:09] &lt;pieterh&gt;   where is the C++ API documented?</div>
<div class="line">[Monday 07 March 2011] [09:55:16] &lt;pieterh&gt;   I&#8217;ve never used it</div>
<div class="line">[Monday 07 March 2011] [09:55:27] &lt;private_meta&gt;      Good question... I honestly don&#8217;t know</div>
<div class="line">[Monday 07 March 2011] [09:55:32] &lt;mikko&gt;     zmq.hpp ?</div>
<div class="line">[Monday 07 March 2011] [09:55:34] &lt;pieterh&gt;   ok, checking</div>
<div class="line">[Monday 07 March 2011] [09:55:39] &lt;pieterh&gt;   <a class="reference external" href="http://api.zeromq.org/2-1-1:zmq-cpp">http://api.zeromq.org/2-1-1:zmq-cpp</a></div>
<div class="line">[Monday 07 March 2011] [09:56:01] &lt;private_meta&gt;      mikko: there are hardly any comments in there ;)</div>
<div class="line">[Monday 07 March 2011] [09:56:48] &lt;pieterh&gt;   god, that documentation is terrible</div>
<div class="line">[Monday 07 March 2011] [09:56:58] &lt;guido_g&gt;   private_meta: memcpy(msg-&gt;data(), s.c_str(), ms);</div>
<div class="line">[Monday 07 March 2011] [09:57:02] &lt;pieterh&gt;   it says rebuild is &#8220;equivalent to calling the zmq_msg_close() function followed by the corresponding zmq_msg_init() function.&#8221;</div>
<div class="line">[Monday 07 March 2011] [09:57:21] &lt;guido_g&gt;   examples are there -&gt; <a class="reference external" href="https://github.com/guidog/cpp/tree/master/zmqcpp">https://github.com/guidog/cpp/tree/master/zmqcpp</a></div>
<div class="line">[Monday 07 March 2011] [09:57:23] &lt;pieterh&gt;   but there&#8217;s a world of difference between the different zmq_msg_init() functions&#8221;</div>
<div class="line">[Monday 07 March 2011] [09:59:06] &lt;pieterh&gt;   guido_g: seems you already made a multipart message class...</div>
<div class="line">[Monday 07 March 2011] [09:59:10] &lt;private_meta&gt;      I&#8217;ll test if memcpy does the trick... if it does, that&#8217;s terrifying</div>
<div class="line">[Monday 07 March 2011] [09:59:19] &lt;pieterh&gt;   private_meta: I&#8217;m sure there&#8217;s a proper way to do it</div>
<div class="line">[Monday 07 March 2011] [09:59:28] &lt;guido_g&gt;   pieterh: yes, long time ago</div>
<div class="line">[Monday 07 March 2011] [09:59:30] &lt;pieterh&gt;   but you need to know more about the C++ API</div>
<div class="line">[Monday 07 March 2011] [09:59:57] &lt;private_meta&gt;      pieterh: it doesn&#8217;t look like it</div>
<div class="line">[Monday 07 March 2011] [10:00:08] &lt;pieterh&gt;   anyhow, that&#8217;s your problem here, referring to memory that&#8217;s deallocated by the time the send happens</div>
<div class="line">[Monday 07 March 2011] [10:00:28] &lt;pieterh&gt;   check the implementation of rebuild</div>
<div class="line">[Monday 07 March 2011] [10:00:36] &lt;private_meta&gt;      No, that&#8217;s not what I meant</div>
<div class="line">[Monday 07 March 2011] [10:00:45] &lt;private_meta&gt;      I meant, if memcpy is the only way to do that, that&#8217;s terrible</div>
<div class="line">[Monday 07 March 2011] [10:01:26] &lt;pieterh&gt;   you mean &#8216;memcpy&#8217; the function, or &#8216;copying memory in general&#8217;?</div>
<div class="line">[Monday 07 March 2011] [10:01:35] &lt;private_meta&gt;      the function in general</div>
<div class="line">[Monday 07 March 2011] [10:02:04] &lt;pieterh&gt;   you can _always_ make it more efficient, the question is whether you need to for the examples</div>
<div class="line">[Monday 07 March 2011] [10:02:04] &lt;private_meta&gt;      I&#8217;m not using classes and proper design to fickle around with friggin memcpy (sorry)</div>
<div class="line">[Monday 07 March 2011] [10:02:14] &lt;pieterh&gt;   ah, the function</div>
<div class="line">[Monday 07 March 2011] [10:03:23] &lt;private_meta&gt;      rebuild uses &#8220;zmq_msg_init_data&#8221;</div>
<div class="line">[Monday 07 March 2011] [10:03:38] &lt;pieterh&gt;   yes, and it doesn&#8217;t copy anything</div>
<div class="line">[Monday 07 March 2011] [10:04:04] &lt;pieterh&gt;   are you destroying messages on send, as the C code did?</div>
<div class="line">[Monday 07 March 2011] [10:06:55] &lt;private_meta&gt;      More or less</div>
<div class="line">[Monday 07 March 2011] [10:07:20] &lt;private_meta&gt;      Not in the same way you did. I&#8217;m using basic_string as objects, and these objects terminate after they are cleared from the vector</div>
<div class="line">[Monday 07 March 2011] [10:07:22] &lt;pieterh&gt;   like guido_g says, add the necessary memcpy after rebuild</div>
<div class="line">[Monday 07 March 2011] [10:08:18] &lt;pieterh&gt;   you can make it cleaner afterwards, presumably using zero copy nicely</div>
<div class="line">[Monday 07 March 2011] [10:08:49] &lt;guido_g&gt;   i didn&#8217;t care about zero-copy, was too much of a hassle</div>
<div class="line">[Monday 07 March 2011] [10:09:16] &lt;guido_g&gt;   i doubt that we have lots of people here that <em>really</em> need it</div>
<div class="line">[Monday 07 March 2011] [10:09:21] &lt;private_meta&gt;      It&#8217;s rather sad that it now works and I have to use  memcpy to make it work</div>
<div class="line">[Monday 07 March 2011] [10:09:40] &lt;pieterh&gt;   private_meta: it doesn&#8217;t work, it&#8217;s trying to send data it doesn&#8217;t own</div>
<div class="line">[Monday 07 March 2011] [10:10:11] &lt;private_meta&gt;      pieterh: not sure if I need it, but what exactly is zero copy and how does it work? I may have a general idea, but I&#8217;ve never heard it before</div>
<div class="line">[Monday 07 March 2011] [10:10:31] &lt;pieterh&gt;   well, you provide 0MQ with the destructor / free function</div>
<div class="line">[Monday 07 March 2011] [10:10:38] &lt;pieterh&gt;   then it&#8217;ll call it when it&#8217;s sent the message</div>
<div class="line">[Monday 07 March 2011] [10:11:15] &lt;pieterh&gt;   it avoids the memcpy, basically</div>
<div class="line">[Monday 07 March 2011] [10:11:42] &lt;pieterh&gt;   relevant for sending messages only, not receiving them</div>
<div class="line">[Monday 07 March 2011] [10:11:48] &lt;private_meta&gt;      kk</div>
<div class="line">[Monday 07 March 2011] [10:11:54] &lt;private_meta&gt;      ok, seems to work now</div>
<div class="line">[Monday 07 March 2011] [10:12:23] &lt;private_meta&gt;      want it in the mailing list as well?</div>
<div class="line">[Monday 07 March 2011] [10:12:31] &lt;private_meta&gt;      or maybe guido wants to look over it</div>
<div class="line">[Monday 07 March 2011] [10:13:31] &lt;guido_g&gt;   hm?</div>
<div class="line">[Monday 07 March 2011] [10:14:00] &lt;guido_g&gt;   private_meta: look over what?</div>
<div class="line">[Monday 07 March 2011] [10:15:16] &lt;private_meta&gt;      the c++ version of zmsg.h, thought you might wanna take a look at it, as you seem to be ok with c++</div>
<div class="line">[Monday 07 March 2011] [10:17:12] &lt;guido_g&gt;   which zmsg.h?</div>
<div class="line">[Monday 07 March 2011] [10:17:30]      * guido_g is completely of track</div>
<div class="line">[Monday 07 March 2011] [10:17:47] &lt;pieterh&gt;   :-) guido_g: private_meta has been translating examples from the Guide</div>
<div class="line">[Monday 07 March 2011] [10:17:53] &lt;guido_g&gt;   ahhh</div>
<div class="line">[Monday 07 March 2011] [10:17:57] &lt;pieterh&gt;   zmsg is the multipart message class I made for the C examples</div>
<div class="line">[Monday 07 March 2011] [10:18:16] &lt;guido_g&gt;   ic</div>
<div class="line">[Monday 07 March 2011] [10:18:31] &lt;pieterh&gt;   private_meta: to be honest, the code looks nice, I assume you&#8217;ll call it .cpp not .h...</div>
<div class="line">[Monday 07 March 2011] [10:18:59] &lt;guido_g&gt;   or .hpp if it&#8217;s to be included</div>
<div class="line">[Monday 07 March 2011] [10:19:05] &lt;pieterh&gt;   the advantage of making the class with the same methods is that the more complex C examples will be easy to turn into C++</div>
<div class="line">[Monday 07 March 2011] [10:20:16] &lt;guido_g&gt;   ouch</div>
<div class="line">[Monday 07 March 2011] [10:20:30] &lt;guido_g&gt;   should change the licence of my python-mdp stuff</div>
<div class="line">[Monday 07 March 2011] [10:20:59] &lt;guido_g&gt;   agpl might be a little too much</div>
<div class="line">[Monday 07 March 2011] [10:23:07] &lt;private_meta&gt;      pieterh: want the updated version via paste on a website or via mailing list?</div>
<div class="line">[Monday 07 March 2011] [10:23:49] &lt;private_meta&gt;      pieterh: The advantage of translating that stuff to the language I need before trying myself is so I get to know errors like the memcpy one, so I&#8217;m able to avoid them</div>
<div class="line">[Monday 07 March 2011] [10:24:35] &lt;pieterh&gt;   private_meta: mailing list is best, if you translate a bunch of examples, a pull request is also good</div>
<div class="line">[Monday 07 March 2011] [10:24:44] &lt;private_meta&gt;      pull request?</div>
<div class="line">[Monday 07 March 2011] [10:24:46] &lt;pieterh&gt;   guido_g: yeah, saw that, did not comment :-)</div>
<div class="line">[Monday 07 March 2011] [10:24:54] &lt;pieterh&gt;   private_meta: github pull request</div>
<div class="line">[Monday 07 March 2011] [10:25:04] &lt;private_meta&gt;      Oh, I never used GIT</div>
<div class="line">[Monday 07 March 2011] [10:25:15] &lt;guido_g&gt;   pieterh: suggestions?</div>
<div class="line">[Monday 07 March 2011] [10:25:16] &lt;pieterh&gt;   it&#8217;s worth learning</div>
<div class="line">[Monday 07 March 2011] [10:25:23] &lt;pieterh&gt;   guido_g: just GPLv3 in this case</div>
<div class="line">[Monday 07 March 2011] [10:25:23] &lt;private_meta&gt;      somehow I don&#8217;t feel like going through the hassle of installing and configuring it just to do something like a pull request</div>
<div class="line">[Monday 07 March 2011] [10:25:32] &lt;guido_g&gt;   pieterh: oki</div>
<div class="line">[Monday 07 March 2011] [10:25:45] &lt;pieterh&gt;   private_meta: it lets you do things like grab the zguide repository, see versions, changes, etc.</div>
<div class="line">[Monday 07 March 2011] [10:26:35] &lt;pieterh&gt;   in general a good version control system is worth gold, and git is one of the better ones</div>
<div class="line">[Monday 07 March 2011] [10:26:43] &lt;private_meta&gt;      We&#8217;re using SVN here</div>
<div class="line">[Monday 07 March 2011] [10:26:54] &lt;pieterh&gt;   well, git is to svn like svn is to cvs</div>
<div class="line">[Monday 07 March 2011] [10:27:48] &lt;private_meta&gt;      Can&#8217;t say, never used it, although the client configuration somehow feels way more complicated than svn</div>
<div class="line">[Monday 07 March 2011] [10:28:00] &lt;private_meta&gt;      and to be honest, download from github works, so i haven&#8217;t felt the need yte</div>
<div class="line">[Monday 07 March 2011] [10:28:05] &lt;pieterh&gt;   like I say, it&#8217;s worth learning</div>
<div class="line">[Monday 07 March 2011] [10:28:22] &lt;private_meta&gt;      In case I need it for more than this, I&#8217;ll consider it :)</div>
<div class="line">[Monday 07 March 2011] [10:28:27] &lt;pieterh&gt;   anyhow, send the class to the list, sure</div>
<div class="line">[Monday 07 March 2011] [10:29:33] &lt;private_meta&gt;      Don&#8217;t misunderstand me... It&#8217;s just a matter of experience that when I start looking into GIT now, it will take me an endless amount of time because of the problems I&#8217;ll face before I can properly use it</div>
<div class="line">[Monday 07 March 2011] [10:30:07] &lt;private_meta&gt;      So my threshold to start using it is higher than normal I guess</div>
<div class="line">[Monday 07 March 2011] [10:31:01] &lt;cremes&gt;    i need a little confirmation on how zmq_msg_t&#8217;s are handled with inproc transport</div>
<div class="line">[Monday 07 March 2011] [10:31:10] &lt;guido_g&gt;   true, git is not for the faint-hearted</div>
<div class="line">[Monday 07 March 2011] [10:31:14] &lt;cremes&gt;    the sender needs to call close on the message</div>
<div class="line">[Monday 07 March 2011] [10:31:27] &lt;cremes&gt;    and the receiver needs to close it too after it&#8217;s done with the data buffer</div>
<div class="line">[Monday 07 March 2011] [10:31:29] &lt;cremes&gt;    true?</div>
<div class="line">[Monday 07 March 2011] [10:32:15] &lt;private_meta&gt;      guido_g: Well, I somewhat compare it to people telling you &#8220;Well, if you need that and that, just start using Linux... Linux is so easy if you&#8217;re proficient&#8221; but they dare not say that REAL proficiency takes up to 5-10 years with Linux if you&#8217;re unlucky</div>
<div class="line">[Monday 07 March 2011] [10:32:47] &lt;guido_g&gt;   and infinite time for windows...</div>
<div class="line">[Monday 07 March 2011] [10:33:37] &lt;private_meta&gt;      Don&#8217;t exaggerate ;)</div>
<div class="line">[Monday 07 March 2011] [10:34:57] &lt;private_meta&gt;      I mean, I&#8217;m using Linux, of course, but for those kind of problems, using the Linux analogy again, It&#8217;s questionable to learn something for 5 years to do something in a minute which would otherwise take 5</div>
<div class="line">[Monday 07 March 2011] [10:35:05] &lt;pieterh&gt;   cremes: is there a special case for inproc...?</div>
<div class="line">[Monday 07 March 2011] [10:35:16] &lt;cremes&gt;    right, that&#8217;s the question</div>
<div class="line">[Monday 07 March 2011] [10:35:24] &lt;pieterh&gt;   afaik 0MQ copies the data</div>
<div class="line">[Monday 07 March 2011] [10:35:35] &lt;cremes&gt;    or do i handle those messages exactly the same as i would for other transport types?</div>
<div class="line">[Monday 07 March 2011] [10:35:39] &lt;pieterh&gt;   exactly the same</div>
<div class="line">[Monday 07 March 2011] [10:35:43] &lt;cremes&gt;    perfect</div>
<div class="line">[Monday 07 March 2011] [10:35:50] &lt;pieterh&gt;   unless there is a line in the man pages saying otherwise</div>
<div class="line">[Monday 07 March 2011] [10:36:15] &lt;cremes&gt;    nope, but since it just flips pointers around behind the scenes i wondered if there was a special case</div>
<div class="line">[Monday 07 March 2011] [10:36:20] &lt;cremes&gt;    thanks for the answer</div>
<div class="line">[Monday 07 March 2011] [10:36:40] &lt;private_meta&gt;      pieterh: hmm... Now I can finally take a look at majordomo ;)</div>
<div class="line">[Monday 07 March 2011] [10:36:43] &lt;pieterh&gt;   you&#8217;d have to ask Sustrik but I&#8217;m pretty sure the received message data is a copy</div>
<div class="line">[Monday 07 March 2011] [10:36:58] &lt;pieterh&gt;   private_meta: :-)</div>
<div class="line">[Monday 07 March 2011] [10:36:59] &lt;cremes&gt;    pieterh: i believe you :)</div>
<div class="line">[Monday 07 March 2011] [10:38:36] &lt;private_meta&gt;      pieterh: 11 files prefixed with md are the basic majordomo files, am I missing anything?</div>
<div class="line">[Monday 07 March 2011] [10:39:13] &lt;pieterh&gt;   private_meta: that&#8217;s it</div>
<div class="line">[Monday 07 March 2011] [10:39:25] &lt;pieterh&gt;   you should IMO start at the top of Ch4</div>
<div class="line">[Monday 07 March 2011] [10:39:57] &lt;pieterh&gt;   because it&#8217;s easier to understand the MD pattern if you&#8217;ve seen the evolution of it</div>
<div class="line">[Monday 07 March 2011] [10:40:17] &lt;private_meta&gt;      kk</div>
<div class="line">[Monday 07 March 2011] [10:41:03] &lt;private_meta&gt;      You said that for my problem, 1 worker (management service) and n clients, I should integrate the broker into the worker?</div>
<div class="line">[Monday 07 March 2011] [10:41:09] &lt;private_meta&gt;      Do I remember that correctly?</div>
<div class="line">[Monday 07 March 2011] [10:41:33] &lt;pieterh&gt;   well, it&#8217;s one way</div>
<div class="line">[Monday 07 March 2011] [10:41:39] &lt;pieterh&gt;   I&#8217;ve not documented it yet, that&#8217;s after titanic</div>
<div class="line">[Monday 07 March 2011] [10:41:41] &lt;private_meta&gt;      -should+can</div>
<div class="line">[Monday 07 March 2011] [10:41:49] &lt;private_meta&gt;      titanic?</div>
<div class="line">[Monday 07 March 2011] [10:41:58] &lt;pieterh&gt;   :-) unsinkable etc. etc.</div>
<div class="line">[Monday 07 March 2011] [10:42:34] &lt;private_meta&gt;      ah, i need to translate zhash and zlist as well it seems</div>
<div class="line">[Monday 07 March 2011] [10:42:45] &lt;pieterh&gt;   nope, in C++ you&#8217;ll find lists and hashes IMO</div>
<div class="line">[Monday 07 March 2011] [10:42:58] &lt;pieterh&gt;   STL, right?</div>
<div class="line">[Monday 07 March 2011] [10:43:04] &lt;private_meta&gt;      ah ok</div>
<div class="line">[Monday 07 March 2011] [10:43:14] &lt;private_meta&gt;      so you just implemented a normal hash and list class</div>
<div class="line">[Monday 07 March 2011] [10:43:18] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 07 March 2011] [10:43:24] &lt;private_meta&gt;      ok, good</div>
<div class="line">[Monday 07 March 2011] [10:43:27] &lt;private_meta&gt;      Good to know</div>
<div class="line">[Monday 07 March 2011] [10:46:00] &lt;Guthur&gt;    I&#8217;m looking forward to implementing majordomo</div>
<div class="line">[Monday 07 March 2011] [10:46:23] &lt;private_meta&gt;      Ok, let&#8217;s dive deep into Chapter 4 then</div>
<div class="line">[Monday 07 March 2011] [10:46:26] &lt;Guthur&gt;    need to do Ch4</div>
<div class="line">[Monday 07 March 2011] [10:48:14] &lt;guido_g&gt;   pieterh: guide ch4: doesn&#8217;t mq deactivate nagle?</div>
<div class="line">[Monday 07 March 2011] [10:48:36] &lt;pieterh&gt;   guido_g: I&#8217;m not sure why it would</div>
<div class="line">[Monday 07 March 2011] [10:48:41] &lt;pieterh&gt;   let me check the source</div>
<div class="line">[Monday 07 March 2011] [10:48:49] &lt;guido_g&gt;   pieterh: would mean at least a 20ms delay for small messages</div>
<div class="line">[Monday 07 March 2011] [10:49:25] &lt;pieterh&gt;   yup, indeed it does</div>
<div class="line">[Monday 07 March 2011] [10:49:27] &lt;guido_g&gt;   ahhh i shouldn&#8217;t read that now</div>
<div class="line">[Monday 07 March 2011] [10:49:33] &lt;pieterh&gt;   :-) I&#8217;ll fix that, thanks</div>
<div class="line">[Monday 07 March 2011] [10:49:41] &lt;private_meta&gt;      What&#8217;s Nagle?</div>
<div class="line">[Monday 07 March 2011] [10:49:47] &lt;guido_g&gt;   <em>sigh</em></div>
<div class="line">[Monday 07 March 2011] [10:49:48] &lt;pieterh&gt;   google is your buddy :-)</div>
<div class="line">[Monday 07 March 2011] [10:50:18] &lt;guido_g&gt;   <a class="reference external" href="http://en.wikipedia.org/wiki/Nagle's_algorithm">http://en.wikipedia.org/wiki/Nagle&#8217;s_algorithm</a>   &lt;- copied from the guide, ch4</div>
<div class="line">[Monday 07 March 2011] [10:50:53] &lt;guido_g&gt;   private_meta: remember, the guide!  it knows <em>everything</em>!</div>
<div class="line">[Monday 07 March 2011] [10:50:57] &lt;private_meta&gt;      ah</div>
<div class="line">[Monday 07 March 2011] [10:51:31] &lt;private_meta&gt;      The answer to life, the universe, and everything?</div>
<div class="line">[Monday 07 March 2011] [10:51:41] &lt;guido_g&gt;   yes</div>
<div class="line">[Monday 07 March 2011] [10:51:46] &lt;private_meta&gt;      nice</div>
<div class="line">[Monday 07 March 2011] [10:51:53] &lt;private_meta&gt;      Google Calculator knows that too</div>
<div class="line">[Monday 07 March 2011] [10:52:08] &lt;guido_g&gt;   who&#8217;s google?</div>
<div class="line">[Monday 07 March 2011] [10:52:20] &lt;private_meta&gt;      Ask the Guide, it should know</div>
<div class="line">[Monday 07 March 2011] [10:52:22] &lt;guido_g&gt;   it&#8217;s not in the guide, so it&#8217;s not existing</div>
<div class="line">[Monday 07 March 2011] [10:52:40] &lt;Guthur&gt;    it&#8217;s some small startup company</div>
<div class="line">[Monday 07 March 2011] [10:52:53] &lt;Guthur&gt;    doing webby stuff</div>
<div class="line">[Monday 07 March 2011] [10:53:09] &lt;Guthur&gt;    it&#8217;ll never last...</div>
<div class="line">[Monday 07 March 2011] [10:53:13] &lt;guido_g&gt;   ahh this web crap doesn&#8217;t have a future</div>
<div class="line">[Monday 07 March 2011] [10:54:23] &lt;private_meta&gt;      Yeah, that&#8217;ll never last... what would be next? Social Networks? Preposterous</div>
<div class="line">[Monday 07 March 2011] [10:55:12] &lt;private_meta&gt;      pieterh: Just out of curiosity, what does it take for your rfc drafts to become stable?</div>
<div class="line">[Monday 07 March 2011] [10:55:31] &lt;pieterh&gt;   private_meta: that&#8217;s explained in the sidebar, I think</div>
<div class="line">[Monday 07 March 2011] [10:55:31] &lt;guido_g&gt;   as if ordinary people will spend hours in front of a computer... unthinkable</div>
<div class="line">[Monday 07 March 2011] [10:55:38] &lt;Guthur&gt;    when he stops making changes</div>
<div class="line">[Monday 07 March 2011] [10:55:48] &lt;private_meta&gt;      Ah</div>
<div class="line">[Monday 07 March 2011] [10:55:48] &lt;guido_g&gt;   hrhrhr</div>
<div class="line">[Monday 07 March 2011] [10:56:34] &lt;private_meta&gt;      not seeing the forest for the trees</div>
<div class="line">[Monday 07 March 2011] [11:08:22] &lt;pieterh&gt;   private_meta: the state of a specification is a contract with its users, basically</div>
<div class="line">[Monday 07 March 2011] [11:08:58] &lt;pieterh&gt;   the whole thing is explained here: <a class="reference external" href="http://www.digistan.org/spec:1/COSS">http://www.digistan.org/spec:1/COSS</a></div>
<div class="line">[Monday 07 March 2011] [11:11:11] &lt;private_meta&gt;      so, if I use Majordomo somewhere, it would become stable. How far, in your COS System, could a protocol be modified to be still considered as &#8220;deployed&#8221;?</div>
<div class="line">[Monday 07 March 2011] [11:11:12] &lt;Guthur&gt;    it would be nice to have a few language bindings interop&#8217;ing using the majordomo protocol</div>
<div class="line">[Monday 07 March 2011] [11:11:35] &lt;pieterh&gt;   private_meta: once a protocol is deployed to real users it can&#8217;t be modified any more</div>
<div class="line">[Monday 07 March 2011] [11:11:57] &lt;pieterh&gt;   instead you fork it, make a new version</div>
<div class="line">[Monday 07 March 2011] [11:12:17] &lt;private_meta&gt;      So if I deviate from the protocol slightly, it doesn&#8217;t count as deployed?</div>
<div class="line">[Monday 07 March 2011] [11:12:32] &lt;private_meta&gt;      Guthur: I&#8217;ll make a C++ binding for Majordomo</div>
<div class="line">[Monday 07 March 2011] [11:12:40] &lt;pieterh&gt;   deviate? then you&#8217;re implementing something else</div>
<div class="line">[Monday 07 March 2011] [11:12:47] &lt;private_meta&gt;      kk</div>
<div class="line">[Monday 07 March 2011] [11:13:14] &lt;pieterh&gt;   which of course anyone can do, but the point is you as implementer need assurance the spec won&#8217;t change randomly</div>
<div class="line">[Monday 07 March 2011] [11:14:01] &lt;private_meta&gt;      Yeah, so the protocol can be referred to, makes oversight easier I guess?</div>
<div class="line">[Monday 07 March 2011] [11:14:50] &lt;pieterh&gt;   what do you mean by &#8216;oversight&#8217;?</div>
<div class="line">[Monday 07 March 2011] [11:15:11] &lt;private_meta&gt;      Ah well</div>
<div class="line">[Monday 07 March 2011] [11:15:59] &lt;private_meta&gt;      overlook, for problem solving, I think you mentioned something like that... &#8220;So, you need help with that? You kept to that protocol? Good, that&#8217;s a starting point&#8221;</div>
<div class="line">[Monday 07 March 2011] [11:16:11] &lt;pieterh&gt;   yes, indeed</div>
<div class="line">[Monday 07 March 2011] [11:16:32] &lt;pieterh&gt;   the core reason for a formal spec is that multiple teams can work on pieces of the problem</div>
<div class="line">[Monday 07 March 2011] [11:16:39] &lt;pieterh&gt;   so the spec is their contract</div>
<div class="line">[Monday 07 March 2011] [11:16:44] &lt;private_meta&gt;      k</div>
<div class="line">[Monday 07 March 2011] [11:16:59] &lt;guido_g&gt;   works quite well</div>
<div class="line">[Monday 07 March 2011] [11:17:00] &lt;pieterh&gt;   this is why guido_g and I have been arguing over words, if they&#8217;re unclear, the contract is unclear</div>
<div class="line">[Monday 07 March 2011] [11:17:15] &lt;guido_g&gt;   yeah</div>
<div class="line">[Monday 07 March 2011] [11:17:32] &lt;private_meta&gt;      So if something is unclear in the Protocol it should be mentioned?</div>
<div class="line">[Monday 07 March 2011] [11:17:42] &lt;private_meta&gt;      (sounds obvious)</div>
<div class="line">[Monday 07 March 2011] [11:17:44] &lt;pieterh&gt;   yes, as you implement it, you&#8217;ll find areas that are unclear</div>
<div class="line">[Monday 07 March 2011] [11:18:02] &lt;pieterh&gt;   assumptions the author made, or things he knows but other people don&#8217;t</div>
<div class="line">[Monday 07 March 2011] [11:18:25] &lt;private_meta&gt;      Yeah, I assume there might be stuff in there you both are clear about, but others like me may not be</div>
<div class="line">[Monday 07 March 2011] [11:18:29] &lt;pieterh&gt;   especially if the author is also writing a reference implementation</div>
<div class="line">[Monday 07 March 2011] [11:19:07] &lt;pieterh&gt;   in the case of Majordomo, we assume working knowledge of the Guide</div>
<div class="line">[Monday 07 March 2011] [11:20:05] &lt;private_meta&gt;      sure</div>
<div class="line">[Monday 07 March 2011] [11:51:24] &lt;Guthur&gt;    pieterh: is PPP completely superseded by MDP</div>
<div class="line">[Monday 07 March 2011] [11:52:10] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 07 March 2011] [11:52:45] &lt;Guthur&gt;    PPP was a little short lived</div>
<div class="line">[Monday 07 March 2011] [11:53:04] &lt;pieterh&gt;   Poor PPP... it didn&#8217;t get much market traction</div>
<div class="line">[Monday 07 March 2011] [11:55:05] &lt;stimpie&gt;   I have installed zmq with &#8211;prefix=$HOME/bin/  and Iam trying to build jzmq but it keeps failing with configure: error: cannot find zmq.h even with &#8211;includedir pointing to the location</div>
<div class="line">[Monday 07 March 2011] [12:18:02] &lt;guido_g&gt;   ahhh more guide stuff...</div>
<div class="line">[Monday 07 March 2011] [12:41:34] &lt;pieterh&gt;   guido_g: cyl, I&#8217;m off for a while...</div>
<div class="line">[Monday 07 March 2011] [12:41:47] &lt;guido_g&gt;   habv fun</div>
<div class="line">[Monday 07 March 2011] [12:41:52] &lt;guido_g&gt;   7me is impmenting mmi</div>
<div class="line">[Monday 07 March 2011] [12:41:56] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 07 March 2011] [15:41:13] &lt;cremes&gt;    has anyone seen a &#8220;double free&#8221; error from zmq_msg_close() before?  <a class="reference external" href="https://gist.github.com/859170">https://gist.github.com/859170</a></div>
<div class="line">[Monday 07 March 2011] [15:41:41] &lt;cremes&gt;    it&#8217;s possible/probably that my code is calling zmq_msg_close() twice and i just havent&#8217; found it yet, but</div>
<div class="line">[Monday 07 March 2011] [15:41:50] &lt;mikko&gt;     double freeing message?</div>
<div class="line">[Monday 07 March 2011] [15:41:53] &lt;cremes&gt;    i thought i would ask in case this error popped up under other conditions</div>
<div class="line">[Monday 07 March 2011] [15:42:09] &lt;cremes&gt;    mikko: that&#8217;s what it says</div>
<div class="line">[Monday 07 March 2011] [15:42:23] &lt;cremes&gt;    the reason i am curious though is because this is one worker of 3</div>
<div class="line">[Monday 07 March 2011] [15:42:31] &lt;cremes&gt;    they are all running the same code off of the same box</div>
<div class="line">[Monday 07 March 2011] [15:42:51] &lt;cremes&gt;    but the same one craps out with this error after about an hour of running</div>
<div class="line">[Monday 07 March 2011] [15:42:55] &lt;cremes&gt;    so, i&#8217;m puzzled</div>
<div class="line">[Monday 07 March 2011] [15:42:58] &lt;mikko&gt;     is the message data copied?</div>
<div class="line">[Monday 07 March 2011] [15:43:16] &lt;cremes&gt;    yes</div>
<div class="line">[Monday 07 March 2011] [15:43:40] &lt;mikko&gt;     very hard to say what it could be without seeing larger context</div>
<div class="line">[Monday 07 March 2011] [15:43:56] &lt;mikko&gt;     i guess most likely that zmq_msg_data has been freed before calling zmq_msg_close</div>
<div class="line">[Monday 07 March 2011] [15:44:12] &lt;<a href="#id257"><span class="problematic" id="id258">andrewvc_</span></a>&gt; cremes, could it be some object finalizer bug?</div>
<div class="line">[Monday 07 March 2011] [15:44:53] &lt;cremes&gt;    <a href="#id259"><span class="problematic" id="id260">andrewvc_</span></a>: improbable; it happens under jruby and mri 1.9.2 which handle finalizers differently</div>
<div class="line">[Monday 07 March 2011] [15:45:45] &lt;cremes&gt;    i was kind of hoping someone would have seen something similar and knew what mistake i had made</div>
<div class="line">[Monday 07 March 2011] [15:45:50] &lt;andrewvc&gt;  cremes: ah, well nm then</div>
<div class="line">[Monday 07 March 2011] [15:46:11] &lt;andrewvc&gt;  btw, what are your thoughts on finalizers? Evan&#8217;s not a fan?</div>
<div class="line">[Monday 07 March 2011] [15:46:12] &lt;cremes&gt;    whenever i see a malloc or free bug, i&#8217;m reminded that it could just be heap corruption</div>
<div class="line">[Monday 07 March 2011] [15:46:27] &lt;cremes&gt;    and malloc/free are the first to stumble across it and bitch</div>
<div class="line">[Monday 07 March 2011] [15:46:44] &lt;cremes&gt;    andrewvc: i think they are necessary</div>
<div class="line">[Monday 07 March 2011] [15:47:00] &lt;andrewvc&gt;  better than the alternative of manual freeing then</div>
<div class="line">[Monday 07 March 2011] [15:47:09] &lt;cremes&gt;    particularly when you need to interface managed code (ruby/python/etc) with unmanaged memory (c/c++//etc)</div>
<div class="line">[Monday 07 March 2011] [15:47:42] &lt;cremes&gt;    ok, well, i&#8217;m off to audit my worker code <em>again</em> to see where this could be getting triggered</div>
<div class="line">[Monday 07 March 2011] [15:47:53] &lt;andrewvc&gt;  cremes: good luck :)</div>
<div class="line">[Monday 07 March 2011] [15:48:05] &lt;andrewvc&gt;  let me know if there&#8217;s a passage that could use a second set of eye</div>
<div class="line">[Monday 07 March 2011] [15:48:07] &lt;andrewvc&gt;  <a href="#id45"><span class="problematic" id="id46">*</span></a>eyes</div>
<div class="line">[Monday 07 March 2011] [15:48:18] &lt;cremes&gt;    andrewvc: thank you, will do</div>
<div class="line">[Monday 07 March 2011] [15:48:35] &lt;mikko&gt;     cremes: run inside valgrind</div>
<div class="line">[Monday 07 March 2011] [15:48:41] &lt;mikko&gt;     and see if you can reproduc</div>
<div class="line">[Monday 07 March 2011] [15:48:49] &lt;mikko&gt;     would probably give a lot more insight</div>
<div class="line">[Monday 07 March 2011] [15:49:08] &lt;cremes&gt;    mikko: don&#8217;t i have to recompile 0mq with some make-valgrind-happy flag?</div>
<div class="line">[Monday 07 March 2011] [15:49:15] &lt;mikko&gt;     cremes: nope</div>
<div class="line">[Monday 07 March 2011] [15:49:21] &lt;cremes&gt;    oh, good</div>
<div class="line">[Monday 07 March 2011] [15:49:23] &lt;mikko&gt;     there are just some &#8216;false&#8217; alerts</div>
<div class="line">[Monday 07 March 2011] [15:49:42] &lt;mikko&gt;     &#8216;x points to unitialized bytes&#8221;</div>
<div class="line">[Monday 07 March 2011] [16:08:25] &lt;cremes&gt;    andrewvc: ping</div>
<div class="line">[Monday 07 March 2011] [16:08:43] &lt;andrewvc&gt;  cremes: yo, on a call, i&#8217;ll be around in a bit</div>
<div class="line">[Monday 07 March 2011] [16:08:59] &lt;cremes&gt;    ok, ping me when you are... i need to pick your brain</div>
<div class="line">[Monday 07 March 2011] [17:11:31] &lt;andrewvc&gt;  cremes: what&#8217;s up?</div>
<div class="line">[Monday 07 March 2011] [17:13:35] &lt;cremes&gt;    so, i think i found the problem; it requires a change to an api &#8216;contract&#8217; in ffi-rzmq</div>
<div class="line">[Monday 07 March 2011] [17:14:17] &lt;cremes&gt;    right now when you call #send it handles calling Message#close for you</div>
<div class="line">[Monday 07 March 2011] [17:14:30] &lt;cremes&gt;    however, this can be a problem if the #send fails</div>
<div class="line">[Monday 07 March 2011] [17:14:42] &lt;andrewvc&gt;  oh, interesting</div>
<div class="line">[Monday 07 March 2011] [17:15:00] &lt;cremes&gt;    zmqmachine has a #send_messages method that automatically sets the right flags for multi-part messages, etc</div>
<div class="line">[Monday 07 March 2011] [17:15:13] &lt;cremes&gt;    and it uses this lower level method from ffi-rzmq to handle the sending</div>
<div class="line">[Monday 07 March 2011] [17:15:14] &lt;andrewvc&gt;  yeah, one of the nice features in it</div>
<div class="line">[Monday 07 March 2011] [17:15:36] &lt;andrewvc&gt;  just Socket#send right</div>
<div class="line">[Monday 07 March 2011] [17:15:41] &lt;cremes&gt;    right</div>
<div class="line">[Monday 07 March 2011] [17:15:58] &lt;andrewvc&gt;  I see an ensure there</div>
<div class="line">[Monday 07 March 2011] [17:16:05] &lt;cremes&gt;    so as i built even more abstractions on top of these functions, i painted myself into a corner</div>
<div class="line">[Monday 07 March 2011] [17:16:09] &lt;andrewvc&gt;  ensure message.close</div>
<div class="line">[Monday 07 March 2011] [17:16:19] &lt;cremes&gt;    yes, i think that&#8217;s the &#8220;bug&#8221;</div>
<div class="line">[Monday 07 March 2011] [17:16:22] &lt;andrewvc&gt;  oh?</div>
<div class="line">[Monday 07 March 2011] [17:16:26] &lt;cremes&gt;    let me get you a gist...</div>
<div class="line">[Monday 07 March 2011] [17:16:33] &lt;andrewvc&gt;  cool</div>
<div class="line">[Monday 07 March 2011] [17:17:22] &lt;cremes&gt;    take a look at the logic for #write:  <a class="reference external" href="https://gist.github.com/859387">https://gist.github.com/859387</a></div>
<div class="line">[Monday 07 March 2011] [17:17:47] &lt;cremes&gt;    if the call to send_messages returns a failure, it keeps the messages on the internal queue and</div>
<div class="line">[Monday 07 March 2011] [17:18:09] &lt;cremes&gt;    tries to resend them in 10ms</div>
<div class="line">[Monday 07 March 2011] [17:18:33] &lt;cremes&gt;    however, the only way this would fail is if at least one part of a multi-part message failed</div>
<div class="line">[Monday 07 March 2011] [17:18:55] &lt;cremes&gt;    but any parts <em>before</em> that one already had Message#close called on them</div>
<div class="line">[Monday 07 March 2011] [17:19:09] &lt;cremes&gt;    so when i try to resend and then close them, kaboom, double free</div>
<div class="line">[Monday 07 March 2011] [17:19:18] &lt;andrewvc&gt;  ohhh</div>
<div class="line">[Monday 07 March 2011] [17:19:25] &lt;andrewvc&gt;  how does one part of a multipart fail?</div>
<div class="line">[Monday 07 March 2011] [17:19:27] &lt;andrewvc&gt;  HWM?</div>
<div class="line">[Monday 07 March 2011] [17:19:30] &lt;cremes&gt;    i don&#8217;t know</div>
<div class="line">[Monday 07 March 2011] [17:19:47] &lt;cremes&gt;    it&#8217;s my only theory and the backtraces kind of led me to here</div>
<div class="line">[Monday 07 March 2011] [17:20:10] &lt;andrewvc&gt;  hmmm, I mean, do you have a HWM set?</div>
<div class="line">[Monday 07 March 2011] [17:20:14] &lt;cremes&gt;    regardless, changing the contract for Socket#send moves the api a little closer back to the C version</div>
<div class="line">[Monday 07 March 2011] [17:20:26] &lt;andrewvc&gt;  so, no more &#8216;ensure&#8217;</div>
<div class="line">[Monday 07 March 2011] [17:20:38] &lt;andrewvc&gt;  do users need to manually message.close then?</div>
<div class="line">[Monday 07 March 2011] [17:21:03] &lt;cremes&gt;    correct</div>
<div class="line">[Monday 07 March 2011] [17:21:11] &lt;cremes&gt;    on both counts</div>
<div class="line">[Monday 07 March 2011] [17:22:02] &lt;andrewvc&gt;  That sounds OK to me. However, it&#8217;ll break all current code</div>
<div class="line">[Monday 07 March 2011] [17:22:12] &lt;andrewvc&gt;  any ideas for compat?</div>
<div class="line">[Monday 07 March 2011] [17:22:14] &lt;cremes&gt;    right, that&#8217;s why i wanted to bring this up with you</div>
<div class="line">[Monday 07 March 2011] [17:22:26] &lt;cremes&gt;    you&#8217;re the only one (other than me) who has projects that depend on this</div>
<div class="line">[Monday 07 March 2011] [17:22:39] &lt;andrewvc&gt;  hehe, well, others are picking it up, I think they&#8217;re just quiet</div>
<div class="line">[Monday 07 March 2011] [17:22:50] &lt;andrewvc&gt;  I think there&#8217;s a silent minority, or not</div>
<div class="line">[Monday 07 March 2011] [17:22:53] &lt;cremes&gt;    so, it&#8217;s a backward-incompatible change</div>
<div class="line">[Monday 07 March 2011] [17:23:13] &lt;andrewvc&gt;  yeah, it&#8217;s no big deal to me, I just rely on em-zeromq these days</div>
<div class="line">[Monday 07 March 2011] [17:23:15] &lt;cremes&gt;    it <em>is</em> a pre-1.0 release, so this kind of thing can happen</div>
<div class="line">[Monday 07 March 2011] [17:23:18] &lt;andrewvc&gt;  so, it&#8217;s like 1 line</div>
<div class="line">[Monday 07 March 2011] [17:23:24] &lt;cremes&gt;    good to hear</div>
<div class="line">[Monday 07 March 2011] [17:23:36] &lt;cremes&gt;    does dripdrop need changes too or no?</div>
<div class="line">[Monday 07 March 2011] [17:23:44] &lt;andrewvc&gt;  shouldn&#8217;t</div>
<div class="line">[Monday 07 March 2011] [17:24:00] &lt;andrewvc&gt;  well, yeah, my bad dripdrop needs one</div>
<div class="line">[Monday 07 March 2011] [17:24:03] &lt;andrewvc&gt;  em-zeromq actually doesn&#8217;t</div>
<div class="line">[Monday 07 March 2011] [17:24:32] &lt;andrewvc&gt;  since you end up writing straight to the socket there, it&#8217;s not  its responsibility</div>
<div class="line">[Monday 07 March 2011] [17:24:48] &lt;andrewvc&gt;  hmmm, here&#8217;s an idea</div>
<div class="line">[Monday 07 March 2011] [17:24:50] &lt;cremes&gt;    i&#8217;ve documented the change and breakage in the History.txt / changelog but i don&#8217;t know if folks really read those</div>
<div class="line">[Monday 07 March 2011] [17:24:59] &lt;andrewvc&gt;  maybe we could deprecate it somehow</div>
<div class="line">[Monday 07 March 2011] [17:25:10] &lt;andrewvc&gt;  one thing I&#8217;ve never liked is the collision between #send and Object#send</div>
<div class="line">[Monday 07 March 2011] [17:25:18] &lt;andrewvc&gt;  I know it&#8217;s in the ZMQ guidelines, but in ruby, &#8216;send&#8217; is special</div>
<div class="line">[Monday 07 March 2011] [17:25:29] &lt;andrewvc&gt;  it might be a good way to phase that out at the same time</div>
<div class="line">[Monday 07 March 2011] [17:25:41] &lt;andrewvc&gt;  maybe deprecate #send, and implement a #send_message</div>
<div class="line">[Monday 07 March 2011] [17:25:43] &lt;cremes&gt;    what&#8217;s an alternative name that you think works?</div>
<div class="line">[Monday 07 March 2011] [17:25:58] &lt;andrewvc&gt;  or send_msg for brevity</div>
<div class="line">[Monday 07 March 2011] [17:26:36] &lt;cremes&gt;    then i&#8217;m going to want to change #recv so that they are symmetrical :)</div>
<div class="line">[Monday 07 March 2011] [17:26:49] &lt;andrewvc&gt;  ohh, damn, yeah, good point</div>
<div class="line">[Monday 07 March 2011] [17:27:06] &lt;andrewvc&gt;  I like short names, recv_msg is better than rcv_message</div>
<div class="line">[Monday 07 March 2011] [17:27:13] &lt;andrewvc&gt;  in terms of consistency</div>
<div class="line">[Monday 07 March 2011] [17:27:56] &lt;cremes&gt;    well, i&#8217;m going to pull the trigger on this right now</div>
<div class="line">[Monday 07 March 2011] [17:28:04] &lt;cremes&gt;    i&#8217;ll do send_msg and recv_msg</div>
<div class="line">[Monday 07 March 2011] [17:28:15] &lt;andrewvc&gt;  awesome, yeah, I was bit trying to dynamically use Object#send on a socket ages ago, this&#8217;ll be awesome. Usually I justp deprecate by throwing a STDERR.write(&#8220;Socket#send is deprecated, use Socket#send_msg&#8221;)</div>
<div class="line">[Monday 07 March 2011] [17:28:19] &lt;andrewvc&gt;  in there</div>
<div class="line">[Monday 07 March 2011] [17:28:37] &lt;cremes&gt;    you could always use _send_</div>
<div class="line">[Monday 07 March 2011] [17:28:40] &lt;andrewvc&gt;  dunno if that might break people&#8217;s apps terribly, but on the other hand it <em>would</em> annoy them terribly, to great effect</div>
<div class="line">[Monday 07 March 2011] [17:28:41] &lt;cremes&gt;    i think that&#8217;s an alias</div>
<div class="line">[Monday 07 March 2011] [17:28:49] &lt;andrewvc&gt;  I never knew about that, is that on all objects?</div>
<div class="line">[Monday 07 March 2011] [17:28:55] &lt;cremes&gt;    yes</div>
<div class="line">[Monday 07 March 2011] [17:29:16] &lt;andrewvc&gt;  not on my ruby</div>
<div class="line">[Monday 07 March 2011] [17:29:20] &lt;andrewvc&gt;  oh, in ffi-rzmq?</div>
<div class="line">[Monday 07 March 2011] [17:29:28] &lt;cremes&gt;    no, it&#8217;s a ruby thing</div>
<div class="line">[Monday 07 March 2011] [17:29:57] &lt;andrewvc&gt;  ruby-1.9.2-p180 :008 &gt; Object._send_</div>
<div class="line">[Monday 07 March 2011] [17:29:58] &lt;andrewvc&gt;  does not work</div>
<div class="line">[Monday 07 March 2011] [17:30:05] &lt;andrewvc&gt;  undefined method</div>
<div class="line">[Monday 07 March 2011] [17:30:05] &lt;cremes&gt;    oh, it&#8217;s __send__ with two underscores</div>
<div class="line">[Monday 07 March 2011] [17:30:08] &lt;andrewvc&gt;  ohhhhh</div>
<div class="line">[Monday 07 March 2011] [17:30:14] &lt;cremes&gt;    i had to look that up</div>
<div class="line">[Monday 07 March 2011] [17:30:29] &lt;andrewvc&gt;  interesting, maybe I should use that elsewhere</div>
<div class="line">[Monday 07 March 2011] [17:30:46] &lt;andrewvc&gt;  I&#8217;d argue that&#8217;s a bit of a deficiency in ruby, shoulda been named send_method or something</div>
<div class="line">[Monday 07 March 2011] [17:31:00] &lt;andrewvc&gt;  because what programmer would ever want a method named &#8216;send&#8217; in their library</div>
<div class="line">[Monday 07 March 2011] [17:31:19] &lt;cremes&gt;    heh</div>
<div class="line">[Monday 07 March 2011] [17:32:01] &lt;andrewvc&gt;  we have define_method, but no send_method</div>
<div class="line">[Monday 07 March 2011] [17:32:17] &lt;andrewvc&gt;  anway... so, basically now, you send a message, and must close each one you send</div>
<div class="line">[Monday 07 March 2011] [17:32:38] &lt;cremes&gt;    correct</div>
<div class="line">[Monday 07 March 2011] [17:32:45] &lt;cremes&gt;    just like the c api</div>
<div class="line">[Monday 07 March 2011] [17:32:45] &lt;andrewvc&gt;  how does this affect send_string</div>
<div class="line">[Monday 07 March 2011] [17:32:57] &lt;andrewvc&gt;  kinda makes that a bit odd eh?</div>
<div class="line">[Monday 07 March 2011] [17:32:58] &lt;cremes&gt;    that will get a line added to it to release the message</div>
<div class="line">[Monday 07 March 2011] [17:33:28] &lt;cremes&gt;    it&#8217;s never exposed to the end user anyway so they don&#8217;t even know a Message object was created there</div>
<div class="line">[Monday 07 March 2011] [17:33:40] &lt;cremes&gt;    it&#8217;s behavior will be unchanged</div>
<div class="line">[Monday 07 March 2011] [17:33:58] &lt;andrewvc&gt;  yeah, so, if I send a multi-part message based out of strings</div>
<div class="line">[Monday 07 March 2011] [17:34:06] &lt;andrewvc&gt;  send_string will still have this bug no?</div>
<div class="line">[Monday 07 March 2011] [17:34:13] &lt;cremes&gt;    no</div>
<div class="line">[Monday 07 March 2011] [17:34:28] &lt;cremes&gt;    it doesn&#8217;t try to resend the <em>same</em> Message object</div>
<div class="line">[Monday 07 March 2011] [17:34:35] &lt;cremes&gt;    it allocates a new one for every #send_string call</div>
<div class="line">[Monday 07 March 2011] [17:34:40] &lt;andrewvc&gt;  oh, gotcha</div>
<div class="line">[Monday 07 March 2011] [17:34:53] &lt;cremes&gt;    y&#8217;know, i&#8217;m bothered by this deprecation thing</div>
<div class="line">[Monday 07 March 2011] [17:35:08] &lt;andrewvc&gt;  yeah, it isn&#8217;t nice, maybe we should think about it a bit</div>
<div class="line">[Monday 07 March 2011] [17:35:14] &lt;cremes&gt;    the way it works now is just wrong</div>
<div class="line">[Monday 07 March 2011] [17:35:35] &lt;cremes&gt;    maybe i could create a #fire_and_forget that behaves like the original #send</div>
<div class="line">[Monday 07 March 2011] [17:35:44] &lt;cremes&gt;    it would manage the message close for you</div>
<div class="line">[Monday 07 March 2011] [17:36:01] &lt;cremes&gt;    so the functionality could still be in the library but it wouldn&#8217;t be the default</div>
<div class="line">[Monday 07 March 2011] [17:36:16] &lt;andrewvc&gt;  hmmm</div>
<div class="line">[Monday 07 March 2011] [17:36:39] &lt;cremes&gt;    #send_and_close(message)  ??</div>
<div class="line">[Monday 07 March 2011] [17:36:45] &lt;andrewvc&gt;  much better</div>
<div class="line">[Monday 07 March 2011] [17:37:26] &lt;cremes&gt;    i like that better too</div>
<div class="line">[Monday 07 March 2011] [17:41:25] &lt;cremes&gt;    andrewvc: done... <a class="reference external" href="https://gist.github.com/859387">https://gist.github.com/859387</a></div>
<div class="line">[Monday 07 March 2011] [17:51:57] &lt;andrewvc&gt;  lookin good</div>
<div class="line">[Monday 07 March 2011] [18:41:27] &lt;cremes&gt;    what are the conditions that raise this assertion?</div>
<div class="line">[Monday 07 March 2011] [18:41:28] &lt;cremes&gt;    Assertion failed: !more || pipes [current] != <a href="#id261"><span class="problematic" id="id262">pipe_</span></a> (fq.cpp:62)</div>
<div class="line">[Monday 07 March 2011] [18:44:53] &lt;cremes&gt;    i am seeing it when writing a 2-part message to a pub socket using an inproc transport</div>
<div class="line">[Monday 07 March 2011] [18:45:25] &lt;cremes&gt;    it&#8217;s not super high-volume either... maybe 1000 msgs/sec</div>
<div class="line">[Monday 07 March 2011] [18:45:57] &lt;cremes&gt;    size of the first message part is under 10 bytes and the second part is under 200 bytes</div>
<div class="line">[Monday 07 March 2011] [18:46:14] &lt;cremes&gt;    i&#8217;ll try to put together some C code to reproduce</div>
<div class="line">[Monday 07 March 2011] [18:46:19] &lt;cremes&gt;    it</div>
<div class="line">[Monday 07 March 2011] [19:20:18] &lt;lt_schmidt_jr&gt;     Hello</div>
<div class="line">[Monday 07 March 2011] [19:20:33] &lt;lt_schmidt_jr&gt;     anyone here familiar with cross compilation?</div>
<div class="line">[Monday 07 March 2011] [19:20:57] &lt;lt_schmidt_jr&gt;     I would like to compile for mutliple unix platforms from mac OSX</div>
<div class="line">[Monday 07 March 2011] [19:21:21] &lt;lt_schmidt_jr&gt;     ubuntu and centos both x64</div>
<div class="line">[Monday 07 March 2011] [19:21:51] &lt;lt_schmidt_jr&gt;     Windows x64 would be a nice bonus, but I am not expecting it</div>
<div class="line">[Monday 07 March 2011] [20:04:49] &lt;ctrlc-root&gt;        im trying to make an application with ZeroMQ on Windows XP using VS2010 and the server code (<a class="reference external" href="http://tinypaste.com/e2187a">http://tinypaste.com/e2187a</a>)  throws an exception when I call &#8220;zmqSocket.recv(...)&#8221;. What am i doing wrong?</div>
<div class="line">[Monday 07 March 2011] [20:06:24] &lt;ctrlc-root&gt;        it says something like &#8220;Operation cannot be completed because socket isn&#8217;t in the correct state&#8221; i think</div>
<div class="line">[Monday 07 March 2011] [20:16:12] &lt;ctrlc-root&gt;        nevermind, i figured it out</div>
<div class="line">[Monday 07 March 2011] [20:44:18] &lt;lt_schmidt_jr&gt;     anyone has tips on cross-compiling?</div>
<div class="line">[Monday 07 March 2011] [20:46:00] &lt;cremes&gt;    lt_schmidt_jr: cross-compiling is typically done with mingw</div>
<div class="line">[Monday 07 March 2011] [20:46:11] &lt;cremes&gt;    there is a thread on the mailing list and an open issue</div>
<div class="line">[Monday 07 March 2011] [20:46:23] &lt;lt_schmidt_jr&gt;     thanks cremes</div>
<div class="line">[Monday 07 March 2011] [20:46:25] &lt;cremes&gt;    regarding the inability for 0mq to cleanly compile using mingw-w64 (64-bit mingw</div>
<div class="line">[Monday 07 March 2011] [20:46:32] &lt;lt_schmidt_jr&gt;     ah</div>
<div class="line">[Monday 07 March 2011] [20:46:43] &lt;cremes&gt;    i suggest you compare notes and experiences with the folks who</div>
<div class="line">[Monday 07 March 2011] [20:46:46] &lt;cremes&gt;    have already indicated interest</div>
<div class="line">[Monday 07 March 2011] [20:46:50] &lt;lt_schmidt_jr&gt;     that would really be  a nice-to-have</div>
<div class="line">[Monday 07 March 2011] [20:46:56] &lt;cremes&gt;    honestly, in about a month this is going to be important to me too :)</div>
<div class="line">[Monday 07 March 2011] [20:47:12] &lt;lt_schmidt_jr&gt;     but just cross-compiling for unix is what I am really after tonight</div>
<div class="line">[Monday 07 March 2011] [20:47:32] &lt;lt_schmidt_jr&gt;     I am sort  of a java weenie so this is all a bit overwhelming</div>
<div class="line">[Monday 07 March 2011] [20:47:34] &lt;cremes&gt;    ok, then there are various guides on the &#8216;net on how to do it</div>
<div class="line">[Monday 07 March 2011] [20:47:46] &lt;lt_schmidt_jr&gt;     ok, thanks</div>
<div class="line">[Monday 07 March 2011] [20:47:47] &lt;cremes&gt;    sorry that it&#8217;s a google-is-your-friend answer but... ;)</div>
<div class="line">[Monday 07 March 2011] [20:47:57] &lt;cremes&gt;    check out mingw.org</div>
<div class="line">[Monday 07 March 2011] [20:48:03] &lt;cremes&gt;    and also lookup the site for mingw-w64</div>
<div class="line">[Monday 07 March 2011] [20:48:08] &lt;cremes&gt;    they have FAQs on this stuff</div>
<div class="line">[Monday 07 March 2011] [20:48:09] &lt;lt_schmidt_jr&gt;     hey, if someone had just done it, it would save me some time</div>
<div class="line">[Monday 07 March 2011] [20:48:14] &lt;lt_schmidt_jr&gt;     thanks</div>
<div class="line">[Monday 07 March 2011] [20:48:23] &lt;cremes&gt;    yeah, unfortunately i don&#8217;t think anyone has yet</div>
<div class="line">[Monday 07 March 2011] [20:48:44] &lt;cremes&gt;    if you figure it out, put up a page on the wiki!</div>
<div class="line">[Monday 07 March 2011] [20:49:06] &lt;lt_schmidt_jr&gt;     :) I&#8217;ll try</div>
<div class="line">[Tuesday 08 March 2011] [01:14:52] &lt;andrewvc&gt; cremes: around?</div>
<div class="line">[Tuesday 08 March 2011] [01:22:58] &lt;engwan&gt;   hi andrewvc, got another problem with my rails app.. it might not be related to zeromq / mongrel2 but related to the threading problem</div>
<div class="line">[Tuesday 08 March 2011] [01:23:09] &lt;andrewvc&gt; engwan: yo</div>
<div class="line">[Tuesday 08 March 2011] [01:23:14] &lt;engwan&gt;   now im getting this</div>
<div class="line">[Tuesday 08 March 2011] [01:23:16] &lt;engwan&gt;   Unhandled exception when trying to join handler #&lt;ThreadError: deadlock; recursive locking&gt;.</div>
<div class="line">[Tuesday 08 March 2011] [01:23:16] &lt;engwan&gt;   /opt/palmade/development/rvm/gems/ruby-1.9.2-p136/gems/actionpack-2.3.11/lib/action_controller/reloader.rb:31:in <a href="#id47"><span class="problematic" id="id48">`</span></a>lock&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [01:23:16] &lt;engwan&gt;   /opt/palmade/development/rvm/gems/ruby-1.9.2-p136/gems/actionpack-2.3.11/lib/action_controller/reloader.rb:31:in <a href="#id49"><span class="problematic" id="id50">`</span></a>run&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [01:23:16] &lt;engwan&gt;   /opt/palmade/development/rvm/gems/ruby-1.9.2-p136/gems/actionpack-2.3.11/lib/action_controller/dispatcher.rb:108:in <a href="#id51"><span class="problematic" id="id52">`</span></a>call&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [01:23:18] &lt;engwan&gt;   /opt/palmade/development/rvm/gems/ruby-1.9.2-p136/gems/thin-1.2.7/lib/rack/adapter/rails.rb:74:in <a href="#id53"><span class="problematic" id="id54">`</span></a>call&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [01:23:20] &lt;engwan&gt;   on every other request</div>
<div class="line">[Tuesday 08 March 2011] [01:23:28] &lt;engwan&gt;   so when i open up the page, it works fine</div>
<div class="line">[Tuesday 08 March 2011] [01:23:29] &lt;andrewvc&gt; hmmm, i&#8217;m not familiar with that one</div>
<div class="line">[Tuesday 08 March 2011] [01:23:33] &lt;engwan&gt;   when i refresh it</div>
<div class="line">[Tuesday 08 March 2011] [01:23:37] &lt;engwan&gt;   that error</div>
<div class="line">[Tuesday 08 March 2011] [01:23:48] &lt;engwan&gt;   then my master process respawns the dead process</div>
<div class="line">[Tuesday 08 March 2011] [01:23:51] &lt;engwan&gt;   then repeat..</div>
<div class="line">[Tuesday 08 March 2011] [01:23:51] &lt;engwan&gt;   hehe</div>
<div class="line">[Tuesday 08 March 2011] [01:24:33] &lt;andrewvc&gt; hmmm</div>
<div class="line">[Tuesday 08 March 2011] [01:24:42] &lt;andrewvc&gt; btw, have you set Thread.abort_on_exception = true</div>
<div class="line">[Tuesday 08 March 2011] [01:25:17] &lt;andrewvc&gt; looks like the magic class reloading in rails is having issues</div>
<div class="line">[Tuesday 08 March 2011] [01:25:46] &lt;engwan&gt;   yeah, that reloading class has wrapper locking / unlocking mechanism</div>
<div class="line">[Tuesday 08 March 2011] [01:27:01] &lt;andrewvc&gt; well, it looks like there&#8217;s an exception somewhere</div>
<div class="line">[Tuesday 08 March 2011] [01:27:15] &lt;andrewvc&gt; that gets rescued, question is, what&#8217;s the exception</div>
<div class="line">[Tuesday 08 March 2011] [01:27:54] &lt;engwan&gt;   hmm.. isnt the exception #&lt;ThreadError: deadlock; recursive locking&gt;?</div>
<div class="line">[Tuesday 08 March 2011] [01:28:03] &lt;engwan&gt;   related to mutex?</div>
<div class="line">[Tuesday 08 March 2011] [01:29:38] &lt;engwan&gt;   :w</div>
<div class="line">[Tuesday 08 March 2011] [01:29:59] &lt;andrewvc&gt; hmmm</div>
<div class="line">[Tuesday 08 March 2011] [01:30:47] &lt;engwan&gt;   i solved the problem</div>
<div class="line">[Tuesday 08 March 2011] [01:30:59] &lt;engwan&gt;   the lock was actually not unlocked</div>
<div class="line">[Tuesday 08 March 2011] [01:31:28] &lt;andrewvc&gt; well, yeah</div>
<div class="line">[Tuesday 08 March 2011] [01:31:31] &lt;engwan&gt;   its a bug in rack-mongrel2.. it should call close on the response body of the rack app</div>
<div class="line">[Tuesday 08 March 2011] [01:31:38] &lt;andrewvc&gt; cool</div>
<div class="line">[Tuesday 08 March 2011] [01:31:41] &lt;engwan&gt;   as rails hooks the unlock into that method</div>
<div class="line">[Tuesday 08 March 2011] [01:31:42] &lt;andrewvc&gt; so, the other question is</div>
<div class="line">[Tuesday 08 March 2011] [01:32:09] &lt;andrewvc&gt; it looks like exceptions that don&#8217;t get handled cause mutex to complain that it now won&#8217;t get unlocked.</div>
<div class="line">[Tuesday 08 March 2011] [01:32:18] &lt;andrewvc&gt; does that sound right, or am I misunderstanding this?</div>
<div class="line">[Tuesday 08 March 2011] [01:32:44] &lt;engwan&gt;   no, its just that the mutex was locked twice</div>
<div class="line">[Tuesday 08 March 2011] [01:32:47] &lt;engwan&gt;   without getting unlocked</div>
<div class="line">[Tuesday 08 March 2011] [01:32:53] &lt;engwan&gt;   so it gave out that exception</div>
<div class="line">[Tuesday 08 March 2011] [01:33:01] &lt;andrewvc&gt; ohhhhhhh, gotcha</div>
<div class="line">[Tuesday 08 March 2011] [01:33:52] &lt;andrewvc&gt; I was thinking what I said didn&#8217;t quite made sense</div>
<div class="line">[Tuesday 08 March 2011] [01:33:55] &lt;andrewvc&gt; btw</div>
<div class="line">[Tuesday 08 March 2011] [01:34:07] &lt;andrewvc&gt; we&#8217;re making a rather significant change to ffi-rzmq</div>
<div class="line">[Tuesday 08 March 2011] [01:34:26] &lt;engwan&gt;   what would that change be?</div>
<div class="line">[Tuesday 08 March 2011] [01:35:03] &lt;andrewvc&gt; well, it won&#8217;t affect you if you use Socket#send_string</div>
<div class="line">[Tuesday 08 March 2011] [01:35:14] &lt;andrewvc&gt; but if you use Socket#send directly, instantiating zmq objects</div>
<div class="line">[Tuesday 08 March 2011] [01:35:18] &lt;andrewvc&gt; it will</div>
<div class="line">[Tuesday 08 March 2011] [01:35:41] &lt;andrewvc&gt; we&#8217;re going to require that you manually close any sent messages after the send</div>
<div class="line">[Tuesday 08 March 2011] [01:35:58] &lt;andrewvc&gt; #send won&#8217;t manually close the message for you any more</div>
<div class="line">[Tuesday 08 March 2011] [01:36:16] &lt;andrewvc&gt; and #send will likely be renamed as well, just be on the look out for it, we&#8217;ll likely bump it this week</div>
<div class="line">[Tuesday 08 March 2011] [01:36:17] &lt;engwan&gt;   any reason for the change?</div>
<div class="line">[Tuesday 08 March 2011] [01:36:21] &lt;andrewvc&gt; yeah</div>
<div class="line">[Tuesday 08 March 2011] [01:36:29] &lt;andrewvc&gt; basically, here&#8217;s the deal</div>
<div class="line">[Tuesday 08 March 2011] [01:37:27] &lt;andrewvc&gt; lets say you&#8217;re sending a multi-part message</div>
<div class="line">[Tuesday 08 March 2011] [01:37:33] &lt;andrewvc&gt; and its got 4 parts</div>
<div class="line">[Tuesday 08 March 2011] [01:38:12] &lt;andrewvc&gt; and it fails on part 2</div>
<div class="line">[Tuesday 08 March 2011] [01:38:32] &lt;andrewvc&gt; then lets say you try and resend the message, starting from part 1</div>
<div class="line">[Tuesday 08 March 2011] [01:39:00] &lt;andrewvc&gt; well, #send has modified those Message objects, they&#8217;ve been closed, so you can&#8217;t resend part 1 and 2</div>
<div class="line">[Tuesday 08 March 2011] [01:39:06] &lt;andrewvc&gt; you have to recreate the Message objects</div>
<div class="line">[Tuesday 08 March 2011] [01:39:23] &lt;andrewvc&gt; what you really want to do is send all 4, then close all 4, not send each, closing them one at a time as you go</div>
<div class="line">[Tuesday 08 March 2011] [01:39:29] &lt;engwan&gt;   ohh.. yeah, that makes sense..</div>
<div class="line">[Tuesday 08 March 2011] [01:39:55] &lt;andrewvc&gt; though, something still seems odd about it to me, maybe there&#8217;s a better way</div>
<div class="line">[Tuesday 08 March 2011] [01:40:10] &lt;andrewvc&gt; though, the other thing we discussed was renaming send, as it conflicts with Object#send</div>
<div class="line">[Tuesday 08 March 2011] [01:40:24] &lt;andrewvc&gt; though the proper zmq api uses #send</div>
<div class="line">[Tuesday 08 March 2011] [01:40:37] &lt;andrewvc&gt; anyway, it&#8217;s late and I&#8217;m rambling</div>
<div class="line">[Tuesday 08 March 2011] [01:40:45] &lt;andrewvc&gt; looking forward to your M2 handler btw</div>
<div class="line">[Tuesday 08 March 2011] [01:41:23] &lt;engwan&gt;   sure, i&#8217;ll post it up on github when ready</div>
<div class="line">[Tuesday 08 March 2011] [03:08:20] &lt;guido_g&gt;  good morning</div>
<div class="line">[Tuesday 08 March 2011] [03:20:02] &lt;guido_g&gt;  pieter_hintjens: <a class="reference external" href="http://www.inspirel.com/yami4/">http://www.inspirel.com/yami4/</a>  &lt;- competitors ahead &#8211; and thy have a book already!!!  ,)</div>
<div class="line">[Tuesday 08 March 2011] [03:22:48] &lt;siggimoo&gt; zmq has a better name and license, imo</div>
<div class="line">[Tuesday 08 March 2011] [03:27:35] &lt;Steve-o&gt;  it&#8217;s a lulu book</div>
<div class="line">[Tuesday 08 March 2011] [03:27:49] &lt;Steve-o&gt;  plus they don&#8217;t have a good multicast protocol :)</div>
<div class="line">[Tuesday 08 March 2011] [03:30:27] &lt;guido_g&gt;  <em>shhh</em></div>
<div class="line">[Tuesday 08 March 2011] [03:31:20] &lt;guido_g&gt;  i wanted to persuade pieter to publish the guide as book</div>
<div class="line">[Tuesday 08 March 2011] [03:37:06] &lt;Steve-o&gt;  mmm, odd,</div>
<div class="line">[Tuesday 08 March 2011] [03:37:17] &lt;guido_g&gt;  what?</div>
<div class="line">[Tuesday 08 March 2011] [03:37:22] &lt;Steve-o&gt;  Windows and Linux PGM is working perfectly fine now</div>
<div class="line">[Tuesday 08 March 2011] [03:37:29] &lt;Steve-o&gt;  but I get double the performance number on Windows</div>
<div class="line">[Tuesday 08 March 2011] [03:38:16] &lt;Steve-o&gt;  out of the box, ~100mb/s Linux and ~200mb/s Windows</div>
<div class="line">[Tuesday 08 March 2011] [03:39:21] &lt;guido_g&gt;  odd indeed</div>
<div class="line">[Tuesday 08 March 2011] [03:40:13] &lt;Steve-o&gt;  i think it&#8217;s supposed to default to 100kb/s too :D</div>
<div class="line">[Tuesday 08 March 2011] [03:40:56] &lt;guido_g&gt;  at least this is the default rate set by mq</div>
<div class="line">[Tuesday 08 March 2011] [03:41:04] &lt;guido_g&gt;  afair</div>
<div class="line">[Tuesday 08 March 2011] [03:45:35] &lt;pieter_hintjens&gt;  re</div>
<div class="line">[Tuesday 08 March 2011] [03:46:49] &lt;guido_g&gt;  wb</div>
<div class="line">[Tuesday 08 March 2011] [03:46:51] &lt;pieter_hintjens&gt;  0MQ doesn&#8217;t really have competitors</div>
<div class="line">[Tuesday 08 March 2011] [03:47:20] &lt;guido_g&gt;  the former nokia ceo said the same once...</div>
<div class="line">[Tuesday 08 March 2011] [03:47:44] &lt;pieter_hintjens&gt;  It&#8217;s still true, Nokia tyres are the best in the world</div>
<div class="line">[Tuesday 08 March 2011] [03:48:09] &lt;pieter_hintjens&gt;  as for the Guide as a book, I thought that was the obvious goal from the start</div>
<div class="line">[Tuesday 08 March 2011] [03:48:16] &lt;guido_g&gt;  yeah, unfortunately i&#8217;ve no use for them</div>
<div class="line">[Tuesday 08 March 2011] [03:48:27] &lt;pieter_hintjens&gt;  yeah, they insist on Windows 7...</div>
<div class="line">[Tuesday 08 March 2011] [03:49:47] &lt;pieter_hintjens&gt;  &#8220;yet another messaging interface, version 4&#8221;?</div>
<div class="line">[Tuesday 08 March 2011] [03:50:33] &lt;pieter_hintjens&gt;  anyhow, 0MQ is above all a community of experts</div>
<div class="line">[Tuesday 08 March 2011] [03:51:07] &lt;pieter_hintjens&gt;  guido_g: thanks for the feedback on Ch4, I&#8217;m making those fixes now</div>
<div class="line">[Tuesday 08 March 2011] [03:51:26] &lt;guido_g&gt;  no problem</div>
<div class="line">[Tuesday 08 March 2011] [03:51:57] &lt;guido_g&gt;  the titanic idea is nice</div>
<div class="line">[Tuesday 08 March 2011] [03:56:15] &lt;pieter_hintjens&gt;  guido_g: do you know <a class="reference external" href="http://lmgtfy.com/?q=spinning+rust">http://lmgtfy.com/?q=spinning+rust</a> ?</div>
<div class="line">[Tuesday 08 March 2011] [03:56:44] &lt;pieter_hintjens&gt;  too sarcastic for a serious book on messaging?</div>
<div class="line">[Tuesday 08 March 2011] [03:56:55] &lt;guido_g&gt;  pieter_hintjens: not when reading a book or article</div>
<div class="line">[Tuesday 08 March 2011] [03:57:39] &lt;guido_g&gt;  you&#8217;ve to admit that the term is not that widely known</div>
<div class="line">[Tuesday 08 March 2011] [03:58:06] &lt;mikko&gt;    good morning</div>
<div class="line">[Tuesday 08 March 2011] [03:58:10] &lt;pieter_hintjens&gt;  it isn&#8217;t? I thought it was pretty standard</div>
<div class="line">[Tuesday 08 March 2011] [03:58:17] &lt;pieter_hintjens&gt;  hi mikko</div>
<div class="line">[Tuesday 08 March 2011] [03:58:32] &lt;guido_g&gt;  howdy mikko</div>
<div class="line">[Tuesday 08 March 2011] [04:06:56] &lt;Steve-o&gt;  erk, local_thr.exe is crashing</div>
<div class="line">[Tuesday 08 March 2011] [04:07:38] &lt;mikko&gt;    Steve-o: win64?</div>
<div class="line">[Tuesday 08 March 2011] [04:08:05] &lt;Steve-o&gt;  win32 on 2008 r2 sp1</div>
<div class="line">[Tuesday 08 March 2011] [04:09:15] &lt;Steve-o&gt;  remote_thr.exe runs fine</div>
<div class="line">[Tuesday 08 March 2011] [04:09:40] &lt;Steve-o&gt;  and of course linux doesn&#8217;t crash</div>
<div class="line">[Tuesday 08 March 2011] [04:20:22] &lt;Steve-o&gt;  one guess is that zeromq is sending as two threads, which matches the double bandwidth</div>
<div class="line">[Tuesday 08 March 2011] [04:27:31] &lt;stimpie&gt;  does any one has a clue what could cause /cm/shared/apps/gcc/4.3.4/lib/../lib/libstdc++.so: could not read symbols: File in wrong format?</div>
<div class="line">[Tuesday 08 March 2011] [04:28:41] &lt;stimpie&gt;  aha I do, It should use lib64</div>
<div class="line">[Tuesday 08 March 2011] [04:41:27] &lt;stimpie&gt;  anyone knows howto specify from which location libstdc++.so is linked (for jzmq)?</div>
<div class="line">[Tuesday 08 March 2011] [04:45:55] &lt;pieter_hintjens&gt;  stimpie: sorry,... nope</div>
<div class="line">[Tuesday 08 March 2011] [04:46:41] &lt;stimpie&gt;  I will try to link &#8216;manualy&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [04:46:44] &lt;mikko&gt;    stimpie: i would assume that&#8217;s based on runtime linkers config</div>
<div class="line">[Tuesday 08 March 2011] [04:46:53] &lt;mikko&gt;    stimpie: or compilers</div>
<div class="line">[Tuesday 08 March 2011] [04:47:58] &lt;mikko&gt;    stimpie: echo | g++ -v -x c -E -</div>
<div class="line">[Tuesday 08 March 2011] [04:49:07] &lt;stimpie&gt;  mikko, strange that gives X86_64 as the first option</div>
<div class="line">[Tuesday 08 March 2011] [04:50:07] &lt;mikko&gt;    i wonder if adding -m64 to compiler flags would help</div>
<div class="line">[Tuesday 08 March 2011] [04:56:21] &lt;stimpie&gt;  -m64 appears to have no effect, output of g++ -v -x c -E  posted at <a class="reference external" href="http://pastebin.com/aumWMsxT">http://pastebin.com/aumWMsxT</a></div>
<div class="line">[Tuesday 08 March 2011] [05:05:21] &lt;sejo&gt;     can you have multiple PULL receivers ? (PUSH sender)</div>
<div class="line">[Tuesday 08 March 2011] [05:06:07] &lt;sejo&gt;     the guide states yes :p</div>
<div class="line">[Tuesday 08 March 2011] [05:06:09] &lt;sejo&gt;     nvm</div>
<div class="line">[Tuesday 08 March 2011] [05:09:14] &lt;Steve-o&gt;  doh, 2.1.2 drops txw_max_rte so there is no rate limiting</div>
<div class="line">[Tuesday 08 March 2011] [05:30:35] &lt;Steve-o&gt;  oh yay, doesn&#8217;t crash now, fruity compiling</div>
<div class="line">[Tuesday 08 March 2011] [05:34:56] &lt;stimpie&gt;  my libstdc++ issue appears to be a very old bug in libtool <a class="reference external" href="http://lists.gnu.org/archive/html/libtool/2005-08/msg00041.html">http://lists.gnu.org/archive/html/libtool/2005-08/msg00041.html</a></div>
<div class="line">[Tuesday 08 March 2011] [08:09:47] &lt;Steve-o&gt;  living on the bleeding edge gives bleeding wounds</div>
<div class="line">[Tuesday 08 March 2011] [08:10:12] &lt;Steve-o&gt;  nice /feature/ of MSVC release mode and local scope __restrict</div>
<div class="line">[Tuesday 08 March 2011] [08:10:30] &lt;Steve-o&gt;  randomly makes pointers appear as NULL unless they are used a lot</div>
<div class="line">[Tuesday 08 March 2011] [08:41:51] &lt;mikko&gt;    <a class="reference external" href="https://build.zero.mq/job/code-coverage-test/2/cobertura/_default_/">https://build.zero.mq/job/code-coverage-test/2/cobertura/_default_/</a></div>
<div class="line">[Tuesday 08 March 2011] [08:41:54] &lt;CIA-103&gt;  zeromq2: 03Brett Cameron 07master * rb00be26 10/ (5 files in 2 dirs):</div>
<div class="line">[Tuesday 08 March 2011] [08:41:54] &lt;CIA-103&gt;  zeromq2: Different fixed to make OpenVMS port work.</div>
<div class="line">[Tuesday 08 March 2011] [08:41:54] &lt;CIA-103&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/g79MvJ">http://bit.ly/g79MvJ</a></div>
<div class="line">[Tuesday 08 March 2011] [08:41:56] &lt;mikko&gt;    zeromq2 code coverage</div>
<div class="line">[Tuesday 08 March 2011] [08:44:05] &lt;Steve-o&gt;  mikko: so the win64 updates and solaris x86 fixes can be found in the new 5.1.113 tarball</div>
<div class="line">[Tuesday 08 March 2011] [08:44:18] &lt;Steve-o&gt;  I hope nothing else appears too soon</div>
<div class="line">[Tuesday 08 March 2011] [08:45:17] &lt;mikko&gt;    Steve-o: will carry on testing those</div>
<div class="line">[Tuesday 08 March 2011] [08:46:11] &lt;Steve-o&gt;  cmake on win64 is odd, it doesn&#8217;t produce makefiles by default</div>
<div class="line">[Tuesday 08 March 2011] [08:46:55] &lt;Steve-o&gt;  at least the packager works reasonably well</div>
<div class="line">[Tuesday 08 March 2011] [08:50:34] &lt;cremes&gt;   hmmm, yami4 has a wireshark plugin for inspecting frames on the wire</div>
<div class="line">[Tuesday 08 March 2011] [08:50:52] &lt;cremes&gt;   that&#8217;s a pretty good idea (pretty good ideas are usually worth stealing)</div>
<div class="line">[Tuesday 08 March 2011] [08:52:11] &lt;Steve-o&gt;  PGM has been in Wireshark a lot longer :P</div>
<div class="line">[Tuesday 08 March 2011] [08:52:35] &lt;Steve-o&gt;  not forgetting tcpdump</div>
<div class="line">[Tuesday 08 March 2011] [08:53:15] &lt;Steve-o&gt;  you could chain the decoders all the way through to your data format</div>
<div class="line">[Tuesday 08 March 2011] [09:08:10] &lt;Clement&gt;  Hello</div>
<div class="line">[Tuesday 08 March 2011] [09:08:28] &lt;Guest85177&gt;       I&#8217;ve a problem inside ZMQ DLL</div>
<div class="line">[Tuesday 08 March 2011] [09:08:43] &lt;Guest85177&gt;       Somebody can help me?</div>
<div class="line">[Tuesday 08 March 2011] [09:09:07] &lt;Steve-o&gt;  which socket type and binding?</div>
<div class="line">[Tuesday 08 March 2011] [09:09:29] &lt;Guest85177&gt;       I use CLRZMQ as input</div>
<div class="line">[Tuesday 08 March 2011] [09:09:38] &lt;Guest85177&gt;       for publishing</div>
<div class="line">[Tuesday 08 March 2011] [09:09:52] &lt;Guest85177&gt;       I&#8217;ve a memcopy problem</div>
<div class="line">[Tuesday 08 March 2011] [09:10:15] &lt;Guest85177&gt;       I&#8217;ve used the ZMQ source code</div>
<div class="line">[Tuesday 08 March 2011] [09:10:20] &lt;Guest85177&gt;       in VS 2010</div>
<div class="line">[Tuesday 08 March 2011] [09:10:35] &lt;Guest85177&gt;       and I&#8217;ve found this problem</div>
<div class="line">[Tuesday 08 March 2011] [09:10:48] &lt;Guest85177&gt;       I use TCP binding</div>
<div class="line">[Tuesday 08 March 2011] [09:11:25] &lt;Steve-o&gt;  k, is it reproducible with a small example?</div>
<div class="line">[Tuesday 08 March 2011] [09:11:47] &lt;Guest85177&gt;       Badly I don&#8217;t think so</div>
<div class="line">[Tuesday 08 March 2011] [09:11:57] &lt;Guest85177&gt;       I reproduce this problem</div>
<div class="line">[Tuesday 08 March 2011] [09:12:00] &lt;Steve-o&gt;  and have you tried 2.1. or is this 2.0?</div>
<div class="line">[Tuesday 08 March 2011] [09:14:10] &lt;Steve-o&gt;  have you followed the c# examples in the guide?</div>
<div class="line">[Tuesday 08 March 2011] [09:14:54] &lt;Guest85177&gt;       I use the 2.1</div>
<div class="line">[Tuesday 08 March 2011] [09:15:23] &lt;Guest85177&gt;       The problem is that run with few data</div>
<div class="line">[Tuesday 08 March 2011] [09:15:47] &lt;Guest85177&gt;       and when data rate is bigger</div>
<div class="line">[Tuesday 08 March 2011] [09:16:04] &lt;Guest85177&gt;       It failed with a C++ exception</div>
<div class="line">[Tuesday 08 March 2011] [09:16:27] &lt;Steve-o&gt;  out of memory?</div>
<div class="line">[Tuesday 08 March 2011] [09:16:39] &lt;Guest85177&gt;       No</div>
<div class="line">[Tuesday 08 March 2011] [09:17:07] &lt;Guest85177&gt;       memcopy</div>
<div class="line">[Tuesday 08 March 2011] [09:17:45] &lt;Steve-o&gt;  k, sounds like you need one of the C# binding guys to help</div>
<div class="line">[Tuesday 08 March 2011] [09:18:00] &lt;Steve-o&gt;  stick around for a bit or post more detail on the mailling list</div>
<div class="line">[Tuesday 08 March 2011] [09:18:31] &lt;Guest85177&gt;       I dont think that it comes from C# bindings</div>
<div class="line">[Tuesday 08 March 2011] [09:18:50] &lt;Guest85177&gt;       because I&#8217;ve used two wrappers and twice failed</div>
<div class="line">[Tuesday 08 March 2011] [09:20:19] &lt;mikko&gt;    Guest85177: have you got any debug info?</div>
<div class="line">[Tuesday 08 March 2011] [09:20:24] &lt;mikko&gt;    backtrace or similar</div>
<div class="line">[Tuesday 08 March 2011] [09:21:26] &lt;Guest85177&gt;       encoder.hpp line 115</div>
<div class="line">[Tuesday 08 March 2011] [09:21:35] &lt;Guest85177&gt;       It failed at this line</div>
<div class="line">[Tuesday 08 March 2011] [09:22:07] &lt;Guest85177&gt;       I use VS with the source code</div>
<div class="line">[Tuesday 08 March 2011] [09:22:19] &lt;Guest85177&gt;       and pdb</div>
<div class="line">[Tuesday 08 March 2011] [09:24:14] &lt;Guest85177&gt;       write_pos is designated as a bad pointer</div>
<div class="line">[Tuesday 08 March 2011] [11:34:17] &lt;andrewvc&gt; cremes: ping</div>
<div class="line">[Tuesday 08 March 2011] [12:27:16] &lt;pieter_hintjens&gt;  guido_g: have a new RFC, if you want to review it: <a class="reference external" href="http://rfc.zeromq.org/spec:9">http://rfc.zeromq.org/spec:9</a></div>
<div class="line">[Tuesday 08 March 2011] [12:30:10] &lt;guido_g&gt;  will do</div>
<div class="line">[Tuesday 08 March 2011] [12:30:48] &lt;pieter_hintjens&gt;  guido_g: :-)</div>
<div class="line">[Tuesday 08 March 2011] [12:41:05] &lt;guido_g&gt;  and changes on spec:7</div>
<div class="line">[Tuesday 08 March 2011] [12:42:12] &lt;private_meta&gt;     Is there any good reason to use a pointer to std::string in the zhelpers for c++? I&#8217;m just curious if anyone of you knows</div>
<div class="line">[Tuesday 08 March 2011] [12:42:18] &lt;private_meta&gt;     in s_recv that is</div>
<div class="line">[Tuesday 08 March 2011] [12:42:36] &lt;guido_g&gt;  link?</div>
<div class="line">[Tuesday 08 March 2011] [12:43:45] &lt;private_meta&gt;     sec</div>
<div class="line">[Tuesday 08 March 2011] [12:43:59] &lt;private_meta&gt;     <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C%2B%2B/zhelpers.hpp">https://github.com/imatix/zguide/blob/master/examples/C%2B%2B/zhelpers.hpp</a> Line 59</div>
<div class="line">[Tuesday 08 March 2011] [12:46:28] &lt;guido_g&gt;  it&#8217;s just because the string is allocated on the heap</div>
<div class="line">[Tuesday 08 March 2011] [12:48:09] &lt;private_meta&gt;     I&#8217;d rather have it on the Stack and not having to handle pointers</div>
<div class="line">[Tuesday 08 March 2011] [12:50:42] &lt;guido_g&gt;  then you need to pass it to the function</div>
<div class="line">[Tuesday 08 March 2011] [12:51:06] &lt;private_meta&gt;     I&#8217;d use a return value</div>
<div class="line">[Tuesday 08 March 2011] [12:51:47] &lt;guido_g&gt;  the stack is gone after the return</div>
<div class="line">[Tuesday 08 March 2011] [12:53:16] &lt;guido_g&gt;  one could return a std::string and rely on the c++ copy semantics, but this might be a problem when optimization is on</div>
<div class="line">[Tuesday 08 March 2011] [12:53:36] &lt;private_meta&gt;     Why would that be a problen?</div>
<div class="line">[Tuesday 08 March 2011] [12:53:39] &lt;private_meta&gt;     <a href="#id55"><span class="problematic" id="id56">*</span></a>problem</div>
<div class="line">[Tuesday 08 March 2011] [12:53:42] &lt;private_meta&gt;     I do that all the time</div>
<div class="line">[Tuesday 08 March 2011] [12:53:58] &lt;guido_g&gt;  then it might work ,)</div>
<div class="line">[Tuesday 08 March 2011] [12:55:02] &lt;private_meta&gt;     doing &#8220;std::string func();&#8221; just copies the string from the stack of the function to the stack of the function caller</div>
<div class="line">[Tuesday 08 March 2011] [12:55:29] &lt;guido_g&gt;  right</div>
<div class="line">[Tuesday 08 March 2011] [12:55:30] &lt;private_meta&gt;     It makes it easier and you don&#8217;t have to think about dealing with pointers and deletes</div>
<div class="line">[Tuesday 08 March 2011] [12:55:47] &lt;guido_g&gt;  true</div>
<div class="line">[Tuesday 08 March 2011] [12:55:50] &lt;private_meta&gt;     It&#8217;s an advantage in convenience and clean code, but it has a small advantage that you, in fact, do copy code</div>
<div class="line">[Tuesday 08 March 2011] [12:55:57] &lt;private_meta&gt;     <a href="#id57"><span class="problematic" id="id58">*</span></a>small disadvantage</div>
<div class="line">[Tuesday 08 March 2011] [12:56:05] &lt;private_meta&gt;     erm</div>
<div class="line">[Tuesday 08 March 2011] [12:56:07] &lt;private_meta&gt;     copy data</div>
<div class="line">[Tuesday 08 March 2011] [12:56:19] &lt;guido_g&gt;  it should be noted that references are not allowed</div>
<div class="line">[Tuesday 08 March 2011] [12:56:46] &lt;private_meta&gt;     Well, references in return values are problematic anyway</div>
<div class="line">[Tuesday 08 March 2011] [12:57:04] &lt;private_meta&gt;     References are to be used in parameters</div>
<div class="line">[Tuesday 08 March 2011] [12:59:23] &lt;guido_g&gt;  const std::string&amp; res = fnc(); &lt;- that would be a problem, right?</div>
<div class="line">[Tuesday 08 March 2011] [13:00:58] &lt;private_meta&gt;     Well, you are referencing a temporary variable</div>
<div class="line">[Tuesday 08 March 2011] [13:01:00] &lt;private_meta&gt;     so, yes</div>
<div class="line">[Tuesday 08 March 2011] [13:01:16] &lt;private_meta&gt;     You could make the value you return static, but that wouldn&#8217;t work well for multiple threads</div>
<div class="line">[Tuesday 08 March 2011] [13:01:50] &lt;pieter_hintjens&gt;  private_meta: you can&#8217;t return references to (a) static values or (b) stack values</div>
<div class="line">[Tuesday 08 March 2011] [13:03:48] &lt;private_meta&gt;     private_meta: why wouldn&#8217;t you be able to return static values?</div>
<div class="line">[Tuesday 08 March 2011] [13:04:25] &lt;private_meta&gt;     int &amp; test() { static int test1 = 5; return test1; }</div>
<div class="line">[Tuesday 08 March 2011] [13:04:25] &lt;private_meta&gt;     int main() { int blubb = test(); return 0; }</div>
<div class="line">[Tuesday 08 March 2011] [13:04:33] &lt;private_meta&gt;     theoretically, this works in C++</div>
<div class="line">[Tuesday 08 March 2011] [13:05:43] &lt;pieter_hintjens&gt;  private_meta: ... reference to A is not the same as value of A</div>
<div class="line">[Tuesday 08 March 2011] [13:06:08] &lt;private_meta&gt;     I return test1 by reference</div>
<div class="line">[Tuesday 08 March 2011] [13:06:40] &lt;pieter_hintjens&gt;  int &amp; test()... ok</div>
<div class="line">[Tuesday 08 March 2011] [13:08:13] &lt;pieter_hintjens&gt;  so you return reference to value on the stack, stack is now unwound, value no longer exists...</div>
<div class="line">[Tuesday 08 March 2011] [13:09:07] &lt;pieter_hintjens&gt;  sorry, my C++ fu is too limited, /me sits down and shuts up</div>
<div class="line">[Tuesday 08 March 2011] [13:09:29] &lt;private_meta&gt;     Well, that&#8217;s what static would be for</div>
<div class="line">[Tuesday 08 March 2011] [13:09:44] &lt;private_meta&gt;     static means the value remains and isn&#8217;t killed once the function is done.</div>
<div class="line">[Tuesday 08 March 2011] [13:10:06] &lt;private_meta&gt;     The problem with that is that you get troubles with threads, so concurrent access of the function</div>
<div class="line">[Tuesday 08 March 2011] [13:10:12] &lt;pieter_hintjens&gt;  yes, but then it&#8217;s not thread safe</div>
<div class="line">[Tuesday 08 March 2011] [13:10:16] &lt;private_meta&gt;     Yes</div>
<div class="line">[Tuesday 08 March 2011] [13:10:19] &lt;private_meta&gt;     As I said</div>
<div class="line">[Tuesday 08 March 2011] [13:11:01] &lt;private_meta&gt;     So, basically you have some ways to return values. As a reference to a static value, but that is not thread safe. as a pointer, but you always have to delete the pointer afterwards.</div>
<div class="line">[Tuesday 08 March 2011] [13:11:05] &lt;pieter_hintjens&gt;  ok, so you <em>shouldn&#8217;t</em> return references (or pointers, in C) to static items or items on the stack</div>
<div class="line">[Tuesday 08 March 2011] [13:11:41] &lt;private_meta&gt;     It&#8217;s pretty much the same with everything in C++</div>
<div class="line">[Tuesday 08 March 2011] [13:11:51] &lt;private_meta&gt;     You can use it if you really know what you are doing and you REALLY need it that way</div>
<div class="line">[Tuesday 08 March 2011] [13:12:03] &lt;pieter_hintjens&gt;  you can <em>safely</em> return a value (1, &#8216;c&#8217;) or a newly allocated buffer</div>
<div class="line">[Tuesday 08 March 2011] [13:12:32] &lt;private_meta&gt;     continuing: Why I don&#8217;t like returning a pointer to std::string: You use the return mechanism. Returning it, immediately being able to use it further, let&#8217;s say in a different function</div>
<div class="line">[Tuesday 08 March 2011] [13:12:44] &lt;private_meta&gt;     but as you have to DELETE the value to avoid memory leaks, you have to store it somewhere</div>
<div class="line">[Tuesday 08 March 2011] [13:13:01] &lt;private_meta&gt;     which makes the entire mechanic of returning by &#8220;return;&#8221; kindof useless</div>
<div class="line">[Tuesday 08 March 2011] [13:13:33] &lt;private_meta&gt;     If you do it like that, you can also return it as an in/out parameter</div>
<div class="line">[Tuesday 08 March 2011] [13:14:02] &lt;pieter_hintjens&gt;  afaik 0MQ does this for new messages, allocates them on the stack if small, heap if large</div>
<div class="line">[Tuesday 08 March 2011] [13:14:19] &lt;private_meta&gt;     Example: you want to transform clock time into a string. The clean C++ Way is to push it into a stringstream.</div>
<div class="line">[Tuesday 08 March 2011] [13:14:37] &lt;private_meta&gt;     Now You receive the message, push it into the stringstream and extract an integer</div>
<div class="line">[Tuesday 08 March 2011] [13:16:15] &lt;private_meta&gt;     For me &#8220;sstream.str(s_recv(endpoint)); ss &gt;&gt; number;&#8221; looks way better than &#8220;std::string * string = s_recv(endpoint); ss.str(<a href="#id59"><span class="problematic" id="id60">*</span></a>string); ss&gt;&gt;number; delete string;&#8221;</div>
<div class="line">[Tuesday 08 March 2011] [13:16:33] &lt;private_meta&gt;     Don&#8217;t know if I bring across my point properly</div>
<div class="line">[Tuesday 08 March 2011] [13:17:54] &lt;private_meta&gt;     So, it&#8217;s for neatness of code, and for the fact that I would like any and all possibilities to safeguard against memory leaks</div>
<div class="line">[Tuesday 08 March 2011] [13:31:46] &lt;pieter_hintjens&gt;  the neater the better</div>
<div class="line">[Tuesday 08 March 2011] [13:32:07] &lt;pieter_hintjens&gt;  it was unclear what you were asking, tbh</div>
<div class="line">[Tuesday 08 March 2011] [13:37:58] &lt;andrewvc&gt; cremes: ping</div>
<div class="line">[Tuesday 08 March 2011] [13:38:09] &lt;private_meta&gt;     pieter_hintjens: is it clearer now, or is it still unclear?</div>
<div class="line">[Tuesday 08 March 2011] [13:38:12] &lt;cremes&gt;   andrewvc: pong</div>
<div class="line">[Tuesday 08 March 2011] [13:38:36] &lt;pieter_hintjens&gt;  private_meta: it&#8217;s clear and my opinion, fwiw, is that neatness is always worth it</div>
<div class="line">[Tuesday 08 March 2011] [13:38:55] &lt;pieter_hintjens&gt;  IMO the original code was a straight conversion of the C code</div>
<div class="line">[Tuesday 08 March 2011] [13:39:11] &lt;pieter_hintjens&gt;  cremes: wireshark is a great idea, want to add it to the wiki (GSoC page?)</div>
<div class="line">[Tuesday 08 March 2011] [13:39:23] &lt;private_meta&gt;     pieter_hintjens: Then I&#8217;ll change the receive method for zhelpers.hpp and update all the already translated files</div>
<div class="line">[Tuesday 08 March 2011] [13:39:35] &lt;private_meta&gt;     pieter_hintjens: is that ok?</div>
<div class="line">[Tuesday 08 March 2011] [13:39:39] &lt;pieter_hintjens&gt;  for sure...</div>
<div class="line">[Tuesday 08 March 2011] [13:39:43] &lt;pieter_hintjens&gt;  you&#8217;re not using git, right?</div>
<div class="line">[Tuesday 08 March 2011] [13:39:50] &lt;private_meta&gt;     No</div>
<div class="line">[Tuesday 08 March 2011] [13:40:09] &lt;private_meta&gt;     I could try to start using it, but I&#8217;m absolutely not knowledgeable about it</div>
<div class="line">[Tuesday 08 March 2011] [13:40:16] &lt;pieter_hintjens&gt;  it&#8217;s unsafe to send full modified versions of files</div>
<div class="line">[Tuesday 08 March 2011] [13:40:20] &lt;pieter_hintjens&gt;  patches are better</div>
<div class="line">[Tuesday 08 March 2011] [13:40:48] &lt;pieter_hintjens&gt;  if you want, I&#8217;ll walk you through an instant git course</div>
<div class="line">[Tuesday 08 March 2011] [13:40:55] &lt;pieter_hintjens&gt;  it&#8217;ll take a few minutes</div>
<div class="line">[Tuesday 08 March 2011] [13:41:07] &lt;private_meta&gt;     Which OS are you using?</div>
<div class="line">[Tuesday 08 March 2011] [13:41:11] &lt;pieter_hintjens&gt;  Linux</div>
<div class="line">[Tuesday 08 March 2011] [13:41:21] &lt;private_meta&gt;     kk</div>
<div class="line">[Tuesday 08 March 2011] [13:41:25] &lt;pieter_hintjens&gt;  you are on?</div>
<div class="line">[Tuesday 08 March 2011] [13:41:44] &lt;private_meta&gt;     Well, my coding environment is Ubuntu in a virtual machine, my host system is Windows, so I pretty much have both</div>
<div class="line">[Tuesday 08 March 2011] [13:41:45] &lt;cremes&gt;   pieter_hintjens: i&#8217;ll add it!</div>
<div class="line">[Tuesday 08 March 2011] [13:42:11] &lt;private_meta&gt;     Wireshark is a fine tool</div>
<div class="line">[Tuesday 08 March 2011] [13:42:12] &lt;pieter_hintjens&gt;  private_meta: ok, either Windows or Ubuntu is fine, first install git and make sure it works from the command line</div>
<div class="line">[Tuesday 08 March 2011] [13:42:33] &lt;pieter_hintjens&gt;  apt-get install git-all</div>
<div class="line">[Tuesday 08 March 2011] [13:43:06] &lt;pieter_hintjens&gt;  hmm, or just the &#8216;git&#8217; package, git-all may be large</div>
<div class="line">[Tuesday 08 March 2011] [13:43:13] &lt;private_meta&gt;     &#8220;Couldn&#8217;t find package git-all&#8221; :D</div>
<div class="line">[Tuesday 08 March 2011] [13:44:06] &lt;private_meta&gt;     Neither git or git-all are in my repos</div>
<div class="line">[Tuesday 08 March 2011] [13:44:21] &lt;pieter_hintjens&gt;  &#8216;sudo apt-get dist-upgrade&#8217; :-)</div>
<div class="line">[Tuesday 08 March 2011] [13:44:32] &lt;pieter_hintjens&gt;  &#8216;sudo apt-get git&lt;TAB&gt;&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [13:44:34] &lt;private_meta&gt;     I do that regularily</div>
<div class="line">[Tuesday 08 March 2011] [13:45:08] &lt;pieter_hintjens&gt;  sorry... &#8216;sudo apt-get install git&lt;TAB&gt;&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [13:45:09] &lt;private_meta&gt;     I got git-core</div>
<div class="line">[Tuesday 08 March 2011] [13:45:12] &lt;pieter_hintjens&gt;  install it</div>
<div class="line">[Tuesday 08 March 2011] [13:45:22] &lt;private_meta&gt;     apt-get doesn&#8217;t have autocomplete</div>
<div class="line">[Tuesday 08 March 2011] [13:47:36] &lt;pieter_hintjens&gt;  installed?</div>
<div class="line">[Tuesday 08 March 2011] [13:48:09] &lt;pieter_hintjens&gt;  configure git so we know who you are:</div>
<div class="line">[Tuesday 08 March 2011] [13:48:10] &lt;pieter_hintjens&gt;  git config &#8211;global user.name &#8220;Your Name&#8221;</div>
<div class="line">[Tuesday 08 March 2011] [13:48:11] &lt;pieter_hintjens&gt;  git config &#8211;global user.email <a class="reference external" href="mailto:you&#37;&#52;&#48;example&#46;com">you<span>&#64;</span>example<span>&#46;</span>com</a></div>
<div class="line">[Tuesday 08 March 2011] [13:48:16] &lt;private_meta&gt;     There is no git-all</div>
<div class="line">[Tuesday 08 March 2011] [13:48:31] &lt;pieter_hintjens&gt;  &#8216;sudo apt-get install git-core&#8217; was what I meant...</div>
<div class="line">[Tuesday 08 March 2011] [13:48:36] &lt;pieter_hintjens&gt;  by &#8216;install it&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [13:48:37] &lt;pieter_hintjens&gt;  sorry</div>
<div class="line">[Tuesday 08 March 2011] [13:49:00]     * pieter_hintjens is noting these steps, will make a quick guide for new git users</div>
<div class="line">[Tuesday 08 March 2011] [13:49:47] &lt;private_meta&gt;     I&#8217;m using my nickname for username</div>
<div class="line">[Tuesday 08 March 2011] [13:50:31] &lt;pieter_hintjens&gt;  you need to use your real name and email for contributions</div>
<div class="line">[Tuesday 08 March 2011] [13:50:38] &lt;private_meta&gt;     meh</div>
<div class="line">[Tuesday 08 March 2011] [13:51:09] &lt;pieter_hintjens&gt;  it&#8217;s about being able to reuse what you make</div>
<div class="line">[Tuesday 08 March 2011] [13:51:21] &lt;private_meta&gt;     sure,doen</div>
<div class="line">[Tuesday 08 March 2011] [13:51:23] &lt;private_meta&gt;     <a href="#id61"><span class="problematic" id="id62">*</span></a>done</div>
<div class="line">[Tuesday 08 March 2011] [13:51:29] &lt;pieter_hintjens&gt;  if you are (e.g.) prohibited by your company from making FOSS contributions, etc. etc.</div>
<div class="line">[Tuesday 08 March 2011] [13:51:40] &lt;pieter_hintjens&gt;  ok, next, <a class="reference external" href="http://www.zeromq.org/docs:contributing">http://www.zeromq.org/docs:contributing</a></div>
<div class="line">[Tuesday 08 March 2011] [13:51:53] &lt;private_meta&gt;     We&#8217;re in academic research, it should be ok :p</div>
<div class="line">[Tuesday 08 March 2011] [13:52:04] &lt;pieter_hintjens&gt;  Read the &#8216;Contributing to 0MQ Core&#8217; part</div>
<div class="line">[Tuesday 08 March 2011] [13:52:15] &lt;private_meta&gt;     Ah yeah... github blocked me</div>
<div class="line">[Tuesday 08 March 2011] [13:52:33] &lt;pieter_hintjens&gt;  we&#8217;ll clone the Guide:</div>
<div class="line">[Tuesday 08 March 2011] [13:52:35] &lt;pieter_hintjens&gt;  git clone git://github.com/imatix/zguide.git</div>
<div class="line">[Tuesday 08 March 2011] [13:53:04] &lt;pieter_hintjens&gt;  this gives you a full fork of the main repository, history and everything</div>
<div class="line">[Tuesday 08 March 2011] [13:53:46] &lt;pieter_hintjens&gt;  that is the main difference between SVN and git, lots of copies of the whole repository, all over the place</div>
<div class="line">[Tuesday 08 March 2011] [13:54:12] &lt;private_meta&gt;     ok, so my username on github is still taken</div>
<div class="line">[Tuesday 08 March 2011] [13:54:22] &lt;private_meta&gt;     but none of my email addresses are still connected to that account</div>
<div class="line">[Tuesday 08 March 2011] [13:54:55] &lt;private_meta&gt;     As far as I&#8217;ve heard is that the main point of it is using forks all over</div>
<div class="line">[Tuesday 08 March 2011] [13:55:25] &lt;private_meta&gt;     pieter_hintjens: it&#8217;s odne</div>
<div class="line">[Tuesday 08 March 2011] [13:55:26] &lt;pieter_hintjens&gt;  we can forget github at this point except as a URI to clone off</div>
<div class="line">[Tuesday 08 March 2011] [13:55:29] &lt;private_meta&gt;     <a href="#id63"><span class="problematic" id="id64">*</span></a>done</div>
<div class="line">[Tuesday 08 March 2011] [13:55:39] &lt;pieter_hintjens&gt;  ok, now you can &#8216;cd zguide&#8217; and look around</div>
<div class="line">[Tuesday 08 March 2011] [13:56:04] &lt;pieter_hintjens&gt;  cd examples/C++</div>
<div class="line">[Tuesday 08 March 2011] [13:57:02] &lt;pieter_hintjens&gt;  git log &#8211;name-only .</div>
<div class="line">[Tuesday 08 March 2011] [13:57:03] &lt;private_meta&gt;     yeah, got the files there</div>
<div class="line">[Tuesday 08 March 2011] [13:57:26] &lt;pieter_hintjens&gt;  now you make any changes you want, build, test (:-)) and then...</div>
<div class="line">[Tuesday 08 March 2011] [13:57:47] &lt;pieter_hintjens&gt;  git add .</div>
<div class="line">[Tuesday 08 March 2011] [13:58:09] &lt;pieter_hintjens&gt;  git commit -s -m &#8220;Explain what you fixed&#8221;</div>
<div class="line">[Tuesday 08 March 2011] [13:58:23] &lt;pieter_hintjens&gt;  git format-patch origin/master</div>
<div class="line">[Tuesday 08 March 2011] [13:58:44] &lt;private_meta&gt;     Doing it like that is somewhat annoying... I&#8217;m using eclipse cdt, and as every file has a main (almost), compiling is a hassle in eclipse</div>
<div class="line">[Tuesday 08 March 2011] [13:59:21] &lt;pieter_hintjens&gt;  open a console, use &#8216;./build all&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [13:59:32] &lt;private_meta&gt;     I don&#8217;t want console build logs</div>
<div class="line">[Tuesday 08 March 2011] [13:59:41] &lt;private_meta&gt;     I&#8217;m not using an IDE to build like that</div>
<div class="line">[Tuesday 08 March 2011] [13:59:46] &lt;private_meta&gt;     at least I don&#8217;t want to</div>
<div class="line">[Tuesday 08 March 2011] [13:59:52] &lt;pieter_hintjens&gt;  console build logs?</div>
<div class="line">[Tuesday 08 March 2011] [14:00:29] &lt;pieter_hintjens&gt;  perhaps try what I suggest before explaining why you don&#8217;t want to use it... ?</div>
<div class="line">[Tuesday 08 March 2011] [14:02:01] &lt;private_meta&gt;     Yeah, I did, but it&#8217;s exactly what i don&#8217;t like</div>
<div class="line">[Tuesday 08 March 2011] [14:02:17]     * pieter_hintjens doesn&#8217;t follow...</div>
<div class="line">[Tuesday 08 March 2011] [14:02:29] &lt;pieter_hintjens&gt;  how do you intend to start/stop these examples?</div>
<div class="line">[Tuesday 08 March 2011] [14:02:43] &lt;private_meta&gt;     Eclipse has integration (duh, [I]DE), i can jump to error lines by click, error lines are neatly formatted, I don&#8217;t want to compile by command line</div>
<div class="line">[Tuesday 08 March 2011] [14:03:19] &lt;private_meta&gt;     I build/debug within eclipse, but I either use different projects for different files, or I use build targets</div>
<div class="line">[Tuesday 08 March 2011] [14:03:28] &lt;pieter_hintjens&gt;  sorry, I can&#8217;t help you, your &#8216;Easier to use environment&#8217; is making your life harder</div>
<div class="line">[Tuesday 08 March 2011] [14:03:44] &lt;private_meta&gt;     and, I know you can do /build &lt;examplename&gt;, but imho that&#8217;s not my point</div>
<div class="line">[Tuesday 08 March 2011] [14:04:01] &lt;pieter_hintjens&gt;  there&#8217;s a reason I can produce 300-500 <em>tested</em> and documented lines of C code in a day</div>
<div class="line">[Tuesday 08 March 2011] [14:04:08] &lt;private_meta&gt;     Well, wasn&#8217;t before ;)</div>
<div class="line">[Tuesday 08 March 2011] [14:04:20]     * cremes ooh, ide smack down!</div>
<div class="line">[Tuesday 08 March 2011] [14:04:26] &lt;private_meta&gt;     What editor do you use?</div>
<div class="line">[Tuesday 08 March 2011] [14:04:29] &lt;pieter_hintjens&gt;  Kate</div>
<div class="line">[Tuesday 08 March 2011] [14:05:11] &lt;private_meta&gt;     I don&#8217;t want to use that, I got used to autocomplete and other stoff</div>
<div class="line">[Tuesday 08 March 2011] [14:05:14] &lt;private_meta&gt;     <a href="#id65"><span class="problematic" id="id66">*</span></a>stuff</div>
<div class="line">[Tuesday 08 March 2011] [14:05:18] &lt;pieter_hintjens&gt;  exactly</div>
<div class="line">[Tuesday 08 March 2011] [14:05:37] &lt;pieter_hintjens&gt;  ok, make the changes, test, any way you feel happy, not my world</div>
<div class="line">[Tuesday 08 March 2011] [14:06:13] &lt;pieter_hintjens&gt;  &#8216;git diff&#8217; at any point to show the differences</div>
<div class="line">[Tuesday 08 March 2011] [14:06:27] &lt;pieter_hintjens&gt;  and once you have the formatted patch, email it to the zeromq-dev list</div>
<div class="line">[Tuesday 08 March 2011] [14:06:39] &lt;private_meta&gt;     hmm... how do you debug?</div>
<div class="line">[Tuesday 08 March 2011] [14:06:40] &lt;pieter_hintjens&gt;  that&#8217;s the official contribution process</div>
<div class="line">[Tuesday 08 March 2011] [14:06:43] &lt;pieter_hintjens&gt;  debug?</div>
<div class="line">[Tuesday 08 March 2011] [14:06:46] &lt;pieter_hintjens&gt;  don&#8217;t make errors</div>
<div class="line">[Tuesday 08 March 2011] [14:06:47] &lt;pieter_hintjens&gt;  :-)</div>
<div class="line">[Tuesday 08 March 2011] [14:06:54] &lt;pieter_hintjens&gt;  just kidding...</div>
<div class="line">[Tuesday 08 March 2011] [14:07:08] &lt;private_meta&gt;     Don&#8217;t worry, didn&#8217;t take it seriously</div>
<div class="line">[Tuesday 08 March 2011] [14:07:21] &lt;pieter_hintjens&gt;  first, if you write methods, test them explicitly</div>
<div class="line">[Tuesday 08 March 2011] [14:07:40] &lt;pieter_hintjens&gt;  so anything abstracted has its own selftests</div>
<div class="line">[Tuesday 08 March 2011] [14:07:54] &lt;private_meta&gt;     You don&#8217;t answer my question with that</div>
<div class="line">[Tuesday 08 March 2011] [14:08:01] &lt;private_meta&gt;     (how) do you debug?</div>
<div class="line">[Tuesday 08 March 2011] [14:08:04] &lt;pieter_hintjens&gt;  second, I use printfs</div>
<div class="line">[Tuesday 08 March 2011] [14:08:11] &lt;pieter_hintjens&gt;  optional verbose tracing</div>
<div class="line">[Tuesday 08 March 2011] [14:08:16] &lt;pieter_hintjens&gt;  message dumps</div>
<div class="line">[Tuesday 08 March 2011] [14:08:27] &lt;pieter_hintjens&gt;  never debuggers</div>
<div class="line">[Tuesday 08 March 2011] [14:08:35] &lt;private_meta&gt;     I didn&#8217;t get into perl to avoid exactly THAT</div>
<div class="line">[Tuesday 08 March 2011] [14:08:35] &lt;pieter_hintjens&gt;  never stepping through code, fgs</div>
<div class="line">[Tuesday 08 March 2011] [14:09:06] &lt;private_meta&gt;     fgs?</div>
<div class="line">[Tuesday 08 March 2011] [14:09:08]     * guido_g just got this above mentioned silly productivty tool to work w/ git</div>
<div class="line">[Tuesday 08 March 2011] [14:09:22] &lt;pieter_hintjens&gt;  expression of hope</div>
<div class="line">[Tuesday 08 March 2011] [14:10:02] &lt;private_meta&gt;     &#8220;for gods sake&#8221;?</div>
<div class="line">[Tuesday 08 March 2011] [14:10:05] &lt;pieter_hintjens&gt;  indeed</div>
<div class="line">[Tuesday 08 March 2011] [14:10:23] &lt;private_meta&gt;     kk</div>
<div class="line">[Tuesday 08 March 2011] [14:11:23] &lt;pieter_hintjens&gt;  how to debug? it depends on the kind of problem you&#8217;re facing</div>
<div class="line">[Tuesday 08 March 2011] [14:11:56] &lt;private_meta&gt;     no, don&#8217;t worry, your kind of &#8220;debugging&#8221; isn&#8217;t what I would want to do</div>
<div class="line">[Tuesday 08 March 2011] [14:12:00] &lt;private_meta&gt;     it&#8217;s ok</div>
<div class="line">[Tuesday 08 March 2011] [14:12:39] &lt;pieter_hintjens&gt;  if you know a faster way to produce perfect code, please tell me</div>
<div class="line">[Tuesday 08 March 2011] [14:12:59] &lt;pieter_hintjens&gt;  always keen to learn</div>
<div class="line">[Tuesday 08 March 2011] [14:13:25] &lt;pieter_hintjens&gt;  anyhowl y</div>
<div class="line">[Tuesday 08 March 2011] [14:13:32] &lt;pieter_hintjens&gt;  anyhow, you have git working</div>
<div class="line">[Tuesday 08 March 2011] [14:13:45] &lt;pieter_hintjens&gt;  stay away from branches, merges, etc. for a few weeks</div>
<div class="line">[Tuesday 08 March 2011] [14:13:51] &lt;private_meta&gt;     If it works for you, just do it that way, it&#8217;s ok, as I said</div>
<div class="line">[Tuesday 08 March 2011] [14:14:01] &lt;private_meta&gt;     I couldn&#8217;t do it that way, it would drive me insane</div>
<div class="line">[Tuesday 08 March 2011] [14:14:26] &lt;private_meta&gt;     Don&#8217;t worry, I won&#8217;t use it for anything other than this for quite some time I guess</div>
<div class="line">[Tuesday 08 March 2011] [14:15:11] &lt;pieter_hintjens&gt;  cremes: random question</div>
<div class="line">[Tuesday 08 March 2011] [14:15:33] &lt;cremes&gt;   pieter_hintjens: then you won&#8217;t mind a random answer?</div>
<div class="line">[Tuesday 08 March 2011] [14:15:42] &lt;pieter_hintjens&gt;  that&#8217;ll do fine</div>
<div class="line">[Tuesday 08 March 2011] [14:16:21] &lt;pieter_hintjens&gt;  hang on, you answered with a  question, doesn&#8217;t count</div>
<div class="line">[Tuesday 08 March 2011] [14:16:31] &lt;cremes&gt;   heh</div>
<div class="line">[Tuesday 08 March 2011] [14:16:38] &lt;pieter_hintjens&gt;  so I&#8217;m wondering, do I make a massive Ch4 with all reliability, all patterns</div>
<div class="line">[Tuesday 08 March 2011] [14:17:00] &lt;pieter_hintjens&gt;  or split it up, so reliable request-reply in Ch4, reliable pubsub Ch5</div>
<div class="line">[Tuesday 08 March 2011] [14:17:07] &lt;cremes&gt;   split &#8216;em</div>
<div class="line">[Tuesday 08 March 2011] [14:17:19] &lt;pieter_hintjens&gt;  excellent, thanks</div>
<div class="line">[Tuesday 08 March 2011] [14:18:03] &lt;pieter_hintjens&gt;  BTW I have full disconnected acknowledged persistent disk-based reliability working</div>
<div class="line">[Tuesday 08 March 2011] [14:18:19] &lt;pieter_hintjens&gt;  I&#8217;m kind of afraid to measure its performance</div>
<div class="line">[Tuesday 08 March 2011] [14:18:22] &lt;cremes&gt;   very nice</div>
<div class="line">[Tuesday 08 March 2011] [14:18:43] &lt;cremes&gt;   don&#8217;t worry, you can always improve perf by throwing a memory cache in between</div>
<div class="line">[Tuesday 08 March 2011] [14:18:45] &lt;cremes&gt;   ;)</div>
<div class="line">[Tuesday 08 March 2011] [14:18:49] &lt;pieter_hintjens&gt;  lol</div>
<div class="line">[Tuesday 08 March 2011] [14:37:14] &lt;moore&gt;    hey any one else have issues with the easy install?</div>
<div class="line">[Tuesday 08 March 2011] [14:37:24] &lt;moore&gt;    I get a trace back with debian</div>
<div class="line">[Tuesday 08 March 2011] [14:37:29] &lt;moore&gt;    err</div>
<div class="line">[Tuesday 08 March 2011] [14:37:30] &lt;moore&gt;    ubuntu</div>
<div class="line">[Tuesday 08 March 2011] [14:37:43] &lt;moore&gt;    IndexError: list index out of range</div>
<div class="line">[Tuesday 08 March 2011] [14:42:37] &lt;private_meta&gt;     pieter_hintjens: how do i update for new changes?</div>
<div class="line">[Tuesday 08 March 2011] [14:42:37] &lt;guido_g&gt;  easy install of what?</div>
<div class="line">[Tuesday 08 March 2011] [14:42:57] &lt;guido_g&gt;  moore: you need to tell at least what you did</div>
<div class="line">[Tuesday 08 March 2011] [14:43:03] &lt;pieter_hintjens&gt;  private_meta: you mean if the repository you cloned is updated?</div>
<div class="line">[Tuesday 08 March 2011] [14:43:21] &lt;pieter_hintjens&gt;  i.e. with your patches...?</div>
<div class="line">[Tuesday 08 March 2011] [14:43:42] &lt;private_meta&gt;     no. let&#8217;s say I have 5 files I work on, 15 files I don&#8217;t, and I want those 15 files updated with the master repo</div>
<div class="line">[Tuesday 08 March 2011] [14:43:42] &lt;guido_g&gt;  private_meta: you might want to try egit w/ eclipse, seems to work fine</div>
<div class="line">[Tuesday 08 March 2011] [14:44:07] &lt;pieter_hintjens&gt;  guido_g: hang on, let&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [14:44:16] &lt;pieter_hintjens&gt;  let&#8217;s see what private meta wants to achieve...</div>
<div class="line">[Tuesday 08 March 2011] [14:44:27] &lt;guido_g&gt;  ok</div>
<div class="line">[Tuesday 08 March 2011] [14:44:28] &lt;pieter_hintjens&gt;  the 15 files you don&#8217;t touch, you just don&#8217;t touch...</div>
<div class="line">[Tuesday 08 March 2011] [14:44:34] &lt;private_meta&gt;     Well, ok</div>
<div class="line">[Tuesday 08 March 2011] [14:44:42] &lt;private_meta&gt;     I have my offline cloned repository</div>
<div class="line">[Tuesday 08 March 2011] [14:44:46] &lt;pieter_hintjens&gt;  yes</div>
<div class="line">[Tuesday 08 March 2011] [14:44:51] &lt;private_meta&gt;     I take your files and translate them to C</div>
<div class="line">[Tuesday 08 March 2011] [14:44:59] &lt;private_meta&gt;     let&#8217;s say you add a new file</div>
<div class="line">[Tuesday 08 March 2011] [14:45:03] &lt;pieter_hintjens&gt;  to C?</div>
<div class="line">[Tuesday 08 March 2011] [14:45:05] &lt;private_meta&gt;     Yes</div>
<div class="line">[Tuesday 08 March 2011] [14:45:13] &lt;pieter_hintjens&gt;  you take my C code and translate to C?</div>
<div class="line">[Tuesday 08 March 2011] [14:45:14] &lt;private_meta&gt;     and you add the stubs to C++</div>
<div class="line">[Tuesday 08 March 2011] [14:45:20]     * pieter_hintjens is confused</div>
<div class="line">[Tuesday 08 March 2011] [14:45:27] &lt;private_meta&gt;     how do I get your C versions and the C++ stub to my repostiory</div>
<div class="line">[Tuesday 08 March 2011] [14:45:30] &lt;private_meta&gt;     repository</div>
<div class="line">[Tuesday 08 March 2011] [14:45:55] &lt;pieter_hintjens&gt;  so you spoke about making a change to zhelpers.hpp and matching changes to programs that used it</div>
<div class="line">[Tuesday 08 March 2011] [14:46:22] &lt;private_meta&gt;     Well, that&#8217;s ok, i do my diff, and blah...</div>
<div class="line">[Tuesday 08 March 2011] [14:46:32] &lt;private_meta&gt;     but suppose you add a file and I wanna get that into my repo</div>
<div class="line">[Tuesday 08 March 2011] [14:46:36] &lt;pieter_hintjens&gt;  ah, ok</div>
<div class="line">[Tuesday 08 March 2011] [14:46:43] &lt;pieter_hintjens&gt;  so I have added two new files for the Titanic pattern</div>
<div class="line">[Tuesday 08 March 2011] [14:47:26] &lt;pieter_hintjens&gt;  so you will update your repo by pulling the latest version from mine</div>
<div class="line">[Tuesday 08 March 2011] [14:47:32] &lt;pieter_hintjens&gt;  that is, &#8216;git pull origin master&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [14:47:55] &lt;pieter_hintjens&gt;  this fetches the master branch from &#8216;origin&#8217;, which is where you cloned your repo from</div>
<div class="line">[Tuesday 08 March 2011] [14:48:02] &lt;pieter_hintjens&gt;  and it then merges that into your repo</div>
<div class="line">[Tuesday 08 March 2011] [14:48:10] &lt;private_meta&gt;     Does it merge with files I modified?</div>
<div class="line">[Tuesday 08 March 2011] [14:48:14] &lt;pieter_hintjens&gt;  if the merge fails, you have conflicts etc.</div>
<div class="line">[Tuesday 08 March 2011] [14:48:41] &lt;pieter_hintjens&gt;  the main problem with the files you modified is that if I apply your formatted patch, you&#8217;ll get a bunch of conflicts</div>
<div class="line">[Tuesday 08 March 2011] [14:49:27] &lt;pieter_hintjens&gt;  basically, this is why github pull requests are safer &amp; easier (if you can get your github account working)</div>
<div class="line">[Tuesday 08 March 2011] [14:49:29] &lt;private_meta&gt;     So if I want to get new files, I have to pull all changes from the master</div>
<div class="line">[Tuesday 08 March 2011] [14:49:54] &lt;pieter_hintjens&gt;  you can take individual changes if you want, but it&#8217;s more hassle</div>
<div class="line">[Tuesday 08 March 2011] [14:50:38] &lt;pieter_hintjens&gt;  in order for me to <em>safely</em> merge your changes into my repo, I have to set-up your repo as a remote, and do &#8216;pull&#8217; from it</div>
<div class="line">[Tuesday 08 March 2011] [14:50:49] &lt;pieter_hintjens&gt;  which isn&#8217;t possible in this case</div>
<div class="line">[Tuesday 08 March 2011] [14:50:54] &lt;private_meta&gt;     Why so?</div>
<div class="line">[Tuesday 08 March 2011] [14:51:01] &lt;pieter_hintjens&gt;  you have a git server running?</div>
<div class="line">[Tuesday 08 March 2011] [14:51:32] &lt;private_meta&gt;     No. That seems to be the kind of stuff to set up that made me think normal git is complicated to setup</div>
<div class="line">[Tuesday 08 March 2011] [14:51:36] &lt;pieter_hintjens&gt;  I mean, it&#8217;s not very difficult, but unless you have that, your repository is not going to respond to my git pull requests</div>
<div class="line">[Tuesday 08 March 2011] [14:51:43] &lt;pieter_hintjens&gt;  even I can set-up a git server</div>
<div class="line">[Tuesday 08 March 2011] [14:51:51] &lt;pieter_hintjens&gt;  however I <em>far</em> prefer to use github</div>
<div class="line">[Tuesday 08 March 2011] [14:52:10] &lt;pieter_hintjens&gt;  so, after sending me the formatted patch, you reset your repository to where it was before</div>
<div class="line">[Tuesday 08 March 2011] [14:52:23] &lt;pieter_hintjens&gt;  &#8216;git reset &#8211;hard &lt;whatever&gt;&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [14:52:33] &lt;pieter_hintjens&gt;  or, reclone the whole thing</div>
<div class="line">[Tuesday 08 March 2011] [14:52:51] &lt;pieter_hintjens&gt;  or, resolve a bunch of conflicts afterwards</div>
<div class="line">[Tuesday 08 March 2011] [14:53:03] &lt;pieter_hintjens&gt;  or, just get github working, and send me a pull request</div>
<div class="line">[Tuesday 08 March 2011] [14:53:04] &lt;mikko&gt;    good evening</div>
<div class="line">[Tuesday 08 March 2011] [14:53:13] &lt;pieter_hintjens&gt;  hi mikko!</div>
<div class="line">[Tuesday 08 March 2011] [14:53:16] &lt;private_meta&gt;     I think I prefer the reset</div>
<div class="line">[Tuesday 08 March 2011] [14:53:29] &lt;pieter_hintjens&gt;  yeah, it&#8217;s what I do when I send sustrik a zeromq patch</div>
<div class="line">[Tuesday 08 March 2011] [15:31:36] &lt;private_meta&gt;     pieter_hintjens: do i need to execute those git add and git commit lines even if I don&#8217;t actually write anything to the server, just to generate a patch?</div>
<div class="line">[Tuesday 08 March 2011] [15:31:53] &lt;pieter_hintjens&gt;  if you want a signed-off and formatted patch, yes</div>
<div class="line">[Tuesday 08 March 2011] [15:32:05] &lt;pieter_hintjens&gt;  however you can also run &#8216;git diff&#8217; and capture the output</div>
<div class="line">[Tuesday 08 March 2011] [15:32:33] &lt;private_meta&gt;     and git format-patch origin/master &lt;&#8211; origin is the url with .git at the end?</div>
<div class="line">[Tuesday 08 March 2011] [15:32:41] &lt;pieter_hintjens&gt;  origin is a &#8216;remote&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [15:32:47] &lt;pieter_hintjens&gt;  try &#8216;git remote -v&#8217;</div>
<div class="line">[Tuesday 08 March 2011] [15:33:15] &lt;pieter_hintjens&gt;  you&#8217;d type that command as-is</div>
<div class="line">[Tuesday 08 March 2011] [15:33:20] &lt;private_meta&gt;     ah ok</div>
<div class="line">[Tuesday 08 March 2011] [15:33:49] &lt;Guthur&gt;   on linux I seem to be getting a lot interrupt system call errors</div>
<div class="line">[Tuesday 08 March 2011] [15:33:52] &lt;pieter_hintjens&gt;  all I can say for git is it gets easier and more obvious over time</div>
<div class="line">[Tuesday 08 March 2011] [15:33:53] &lt;private_meta&gt;     so origin is somewhat of a variable in git, and master is the repo in there</div>
<div class="line">[Tuesday 08 March 2011] [15:33:57] &lt;Guthur&gt;   anyone noticed this behaviour before</div>
<div class="line">[Tuesday 08 March 2011] [15:33:59] &lt;pieter_hintjens&gt;  yes</div>
<div class="line">[Tuesday 08 March 2011] [15:34:22] &lt;pieter_hintjens&gt;  Guthur: you upgraded to a more recent version of 0MQ?</div>
<div class="line">[Tuesday 08 March 2011] [15:34:47] &lt;Guthur&gt;   I should be on a pretty recent version</div>
<div class="line">[Tuesday 08 March 2011] [15:34:49] &lt;Guthur&gt;   let me check</div>
<div class="line">[Tuesday 08 March 2011] [15:35:45] &lt;Guthur&gt;   2.2</div>
<div class="line">[Tuesday 08 March 2011] [15:36:04] &lt;pieter_hintjens&gt;  source repository, thus</div>
<div class="line">[Tuesday 08 March 2011] [15:36:17] &lt;pieter_hintjens&gt;  did you recently upgrade from an older version?</div>
<div class="line">[Tuesday 08 March 2011] [15:36:21] &lt;pieter_hintjens&gt;  e.g. 2.0.10?</div>
<div class="line">[Tuesday 08 March 2011] [15:36:30] &lt;Guthur&gt;   pieter_hintjens, yep</div>
<div class="line">[Tuesday 08 March 2011] [15:36:45] &lt;pieter_hintjens&gt;  then presumably interrupt handling changed</div>
<div class="line">[Tuesday 08 March 2011] [15:36:58] &lt;pieter_hintjens&gt;  have you checked the release notes?</div>
<div class="line">[Tuesday 08 March 2011] [15:37:35] &lt;pieter_hintjens&gt;  finally, an example of what you are doing would be helpful</div>
<div class="line">[Tuesday 08 March 2011] [15:37:58] &lt;nadime&gt;   in 2.1.2, we can migrate all sockets between threads (including inproc), right (with full memory barriers)</div>
<div class="line">[Tuesday 08 March 2011] [15:38:02] &lt;nadime&gt;   ?</div>
<div class="line">[Tuesday 08 March 2011] [15:38:05] &lt;pieter_hintjens&gt;  a minimal example that reproduces an interrupted system call</div>
<div class="line">[Tuesday 08 March 2011] [15:38:24] &lt;pieter_hintjens&gt;  nadime: don&#8217;t do it unless you are happy writing full fence memory barriers</div>
<div class="line">[Tuesday 08 March 2011] [15:39:07] &lt;pieter_hintjens&gt;  slightly imperfect socket migration causes 0MQ to fail with random errors under stress</div>
<div class="line">[Tuesday 08 March 2011] [15:39:11] &lt;nadime&gt;   don&#8217;t really have a good choice unless i want to rewrite our threadng libraries</div>
<div class="line">[Tuesday 08 March 2011] [15:39:50] &lt;pieter_hintjens&gt;  be warned, then, when you get weird assertion failures in 0MQ, and you&#8217;re moving sockets between threads, this is a major cause</div>
<div class="line">[Tuesday 08 March 2011] [15:39:56] &lt;pieter_hintjens&gt;  having said that, yes, it works</div>
<div class="line">[Tuesday 08 March 2011] [15:39:58] &lt;nadime&gt;   yeah i know</div>
<div class="line">[Tuesday 08 March 2011] [15:40:09] &lt;nadime&gt;   i&#8217;m in such a case right now ;)</div>
<div class="line">[Tuesday 08 March 2011] [15:40:23] &lt;Guthur&gt;   pieter_hintjens, I&#8217;ll try to get a minimal example</div>
<div class="line">[Tuesday 08 March 2011] [15:40:32] &lt;pieter_hintjens&gt;  Guthur: ok, pl;ease</div>
<div class="line">[Tuesday 08 March 2011] [15:40:41] &lt;Guthur&gt;   the same code works fine enough on Win32, just as an FYI</div>
<div class="line">[Tuesday 08 March 2011] [15:40:41] &lt;pieter_hintjens&gt;  <a href="#id67"><span class="problematic" id="id68">*</span></a>please post to list, I&#8217;m not here all the time</div>
<div class="line">[Tuesday 08 March 2011] [15:40:48] &lt;pieter_hintjens&gt;  yeah, &#8220;it works&#8221; is often random</div>
<div class="line">[Tuesday 08 March 2011] [15:42:16] &lt;Guthur&gt;   I&#8217;ve never seen anything similar on Win32, but it&#8217;s very frequent on linux (Ubuntu 10.04)</div>
<div class="line">[Tuesday 08 March 2011] [15:42:47] &lt;Guthur&gt;   but I know what you&#8217;re going to ask me to do...</div>
<div class="line">[Tuesday 08 March 2011] [15:42:56] &lt;Guthur&gt;   show a C example, hehe</div>
<div class="line">[Tuesday 08 March 2011] [15:43:02] &lt;pieter_hintjens&gt;  Guthur: if you want help on an issue, telling me where it works is useless</div>
<div class="line">[Tuesday 08 March 2011] [15:43:04] &lt;Guthur&gt;   this is C# code</div>
<div class="line">[Tuesday 08 March 2011] [15:43:15] &lt;pieter_hintjens&gt;  what we need is a <em>minimal</em> example in any language</div>
<div class="line">[Tuesday 08 March 2011] [15:43:28] &lt;pieter_hintjens&gt;  we then translate that to C or C++ to ensure we&#8217;re not hitting a language binding issue</div>
<div class="line">[Tuesday 08 March 2011] [15:43:50] &lt;pieter_hintjens&gt;  that lets us triangulate the problem</div>
<div class="line">[Tuesday 08 March 2011] [15:46:26] &lt;private_meta&gt;     pieter_hintjens: does git also store file permissions, like &#8220;executable&#8221;? It seems so</div>
<div class="line">[Tuesday 08 March 2011] [15:46:45] &lt;pieter_hintjens&gt;  private_meta: yes, and it also realizes that text files are... text... automatically</div>
<div class="line">[Tuesday 08 March 2011] [15:47:08] &lt;private_meta&gt;     pieter_hintjens: in your examples folder, C, &#8220;asyncsrv.c&#8221; is executable, I doubt that&#8217;s intended</div>
<div class="line">[Tuesday 08 March 2011] [15:47:19] &lt;pieter_hintjens&gt;  let me check..</div>
<div class="line">[Tuesday 08 March 2011] [15:47:33] &lt;pieter_hintjens&gt;  hah! nice catch</div>
<div class="line">[Tuesday 08 March 2011] [15:50:55] &lt;private_meta&gt;     oy... lruqueue.cpp throws an exception</div>
<div class="line">[Tuesday 08 March 2011] [15:51:02] &lt;private_meta&gt;     the unmodified one in the repo</div>
<div class="line">[Tuesday 08 March 2011] [15:51:28] &lt;Guthur&gt;   pieter_hintjens: <a class="reference external" href="https://gist.github.com/861018">https://gist.github.com/861018</a></div>
<div class="line">[Tuesday 08 March 2011] [15:51:50] &lt;Guthur&gt;   if i remove that sleep I get the error pretty consistently</div>
<div class="line">[Tuesday 08 March 2011] [15:52:31] &lt;pieter_hintjens&gt;  you get the error <em>where</em>?</div>
<div class="line">[Tuesday 08 March 2011] [15:52:39] &lt;pieter_hintjens&gt;  on the poll?</div>
<div class="line">[Tuesday 08 March 2011] [15:53:43] &lt;Guthur&gt;   yep</div>
<div class="line">[Tuesday 08 March 2011] [15:54:09] &lt;pieter_hintjens&gt;  perhaps it&#8217;s not an error at all</div>
<div class="line">[Tuesday 08 March 2011] [15:54:21] &lt;pieter_hintjens&gt;  &#8216;interrupted system call&#8217; means something interrupted the system call</div>
<div class="line">[Tuesday 08 March 2011] [15:54:24] &lt;Guthur&gt;   errno is set to 4#</div>
<div class="line">[Tuesday 08 March 2011] [15:54:30] &lt;pieter_hintjens&gt;  shrug</div>
<div class="line">[Tuesday 08 March 2011] [15:54:34] &lt;Guthur&gt;   and the poll is returning -1</div>
<div class="line">[Tuesday 08 March 2011] [15:55:01] &lt;pieter_hintjens&gt;  ok, now make a C version, should be easy</div>
<div class="line">[Tuesday 08 March 2011] [15:55:26] &lt;pieter_hintjens&gt;  the example looks straight-forward so I&#8217;d primarily suspect the C# binding</div>
<div class="line">[Tuesday 08 March 2011] [15:55:27] &lt;Guthur&gt;   I knew you were going to say that, hehe</div>
<div class="line">[Tuesday 08 March 2011] [15:55:56] &lt;pieter_hintjens&gt;  are you checking what the zmq_poll() call itself returns?</div>
<div class="line">[Tuesday 08 March 2011] [15:56:02] &lt;Guthur&gt;   yeah</div>
<div class="line">[Tuesday 08 March 2011] [15:56:13] &lt;Guthur&gt;   that&#8217;s what I use to throw the exception</div>
<div class="line">[Tuesday 08 March 2011] [15:56:18] &lt;pieter_hintjens&gt;  hmm</div>
<div class="line">[Tuesday 08 March 2011] [15:56:40] &lt;Guthur&gt;   if it&#8217;s less than 0 I throw the exception which checks the errno</div>
<div class="line">[Tuesday 08 March 2011] [15:56:54] &lt;pieter_hintjens&gt;  the code really looks fine...</div>
<div class="line">[Tuesday 08 March 2011] [15:57:07] &lt;Guthur&gt;   I know and with the sleep it works</div>
<div class="line">[Tuesday 08 March 2011] [15:57:17]     * pieter_hintjens doesn&#8217;t care when it works...</div>
<div class="line">[Tuesday 08 March 2011] [15:57:22]     * pieter_hintjens really doesn&#8217;t</div>
<div class="line">[Tuesday 08 March 2011] [15:57:39] &lt;Guthur&gt;   well without the sleep it doesn&#8217;t work then</div>
<div class="line">[Tuesday 08 March 2011] [15:58:22] &lt;pieterh&gt;  without the &#8220;exit&#8221; it doesn&#8217;t work either</div>
<div class="line">[Tuesday 08 March 2011] [15:58:35] &lt;pieterh&gt;  can you get me a C version then?</div>
<div class="line">[Tuesday 08 March 2011] [15:59:02] &lt;Guthur&gt;   it&#8217;ll take a bit of time</div>
<div class="line">[Tuesday 08 March 2011] [15:59:09] &lt;Guthur&gt;   I&#8217;ve no C dev env setup</div>
<div class="line">[Tuesday 08 March 2011] [15:59:55] &lt;pieterh&gt;  ok, can you then instead</div>
<div class="line">[Tuesday 08 March 2011] [16:00:08] &lt;pieterh&gt;  expand your example to actually show the error happening (I don&#8217;t see any exception handling)</div>
<div class="line">[Tuesday 08 March 2011] [16:00:13] &lt;pieterh&gt;  and post to the zeromq-dev list?</div>
<div class="line">[Tuesday 08 March 2011] [16:00:43] &lt;Guthur&gt;   oh yeah I can catch the exception</div>
<div class="line">[Tuesday 08 March 2011] [16:01:19] &lt;Guthur&gt;   but i&#8217;m not sure why I should be getting it in the first place</div>
<div class="line">[Tuesday 08 March 2011] [16:09:53] &lt;pieterh&gt;  g&#8217;night all</div>
<div class="line">[Tuesday 08 March 2011] [16:31:11] &lt;yrashk&gt;   <a class="reference external" href="https://github.com/rigtorp/nanomq">https://github.com/rigtorp/nanomq</a> heh</div>
<div class="line">[Tuesday 08 March 2011] [16:54:59] &lt;noah&gt;     does anyone know if it is possible to determine if a bidirectional socket has been closed?</div>
<div class="line">[Tuesday 08 March 2011] [16:55:18] &lt;noah&gt;     through ZMQ, without pinging and such</div>
<div class="line">[Tuesday 08 March 2011] [16:55:23] &lt;mikko&gt;    noah: you mean the other end has been closed?</div>
<div class="line">[Tuesday 08 March 2011] [16:55:28] &lt;noah&gt;     right</div>
<div class="line">[Tuesday 08 March 2011] [16:55:45] &lt;mikko&gt;    bidirectional being PAIR?</div>
<div class="line">[Tuesday 08 March 2011] [16:55:58] &lt;mikko&gt;    and to answer your question, not directly</div>
<div class="line">[Tuesday 08 March 2011] [17:02:48] &lt;Guthur&gt;   can anyone see why the SUB doesn&#8217;t receive anything?</div>
<div class="line">[Tuesday 08 March 2011] [17:02:49] &lt;Guthur&gt;   <a class="reference external" href="https://gist.github.com/861182">https://gist.github.com/861182</a></div>
<div class="line">[Tuesday 08 March 2011] [17:03:26] &lt;mikko&gt;    Guthur: zmq_bind(skt, &#8220;<a class="reference external" href="tcp://">tcp://</a><a href="#id69"><span class="problematic" id="id70">*</span></a>5555&#8221;);</div>
<div class="line">[Tuesday 08 March 2011] [17:03:28] &lt;guido_g&gt;  &#8220;<a class="reference external" href="tcp://">tcp://</a><a href="#id71"><span class="problematic" id="id72">*</span></a>5555&#8221;  &lt;- wrong</div>
<div class="line">[Tuesday 08 March 2011] [17:03:29] &lt;mikko&gt;    missing color</div>
<div class="line">[Tuesday 08 March 2011] [17:03:31] &lt;mikko&gt;    colon*</div>
<div class="line">[Tuesday 08 March 2011] [17:03:38] &lt;Guthur&gt;   oh doh</div>
<div class="line">[Tuesday 08 March 2011] [17:03:45] &lt;Guthur&gt;   never seen that at all</div>
<div class="line">[Tuesday 08 March 2011] [17:03:56] &lt;Guthur&gt;   cheers mikko</div>
<div class="line">[Tuesday 08 March 2011] [17:03:59] &lt;guido_g&gt;  use larger font ,)</div>
<div class="line">[Tuesday 08 March 2011] [17:04:16]     * Guthur  feels a little silly</div>
<div class="line">[Tuesday 08 March 2011] [17:05:29] &lt;guido_g&gt;  time get some sleep</div>
<div class="line">[Tuesday 08 March 2011] [17:05:33] &lt;guido_g&gt;  night all!</div>
<div class="line">[Tuesday 08 March 2011] [17:06:00] &lt;mikko&gt;    night</div>
<div class="line">[Tuesday 08 March 2011] [17:18:10] &lt;Guthur&gt;   ah this is so frightfully annoying, the errno 4 doesn&#8217;t happen in the C code</div>
<div class="line">[Tuesday 08 March 2011] [17:18:25] &lt;Guthur&gt;   but it does using the C# code in Mono</div>
<div class="line">[Tuesday 08 March 2011] [17:18:36] &lt;Guthur&gt;   but I&#8217;m pretty confident the issue isn&#8217;t with binding</div>
<div class="line">[Tuesday 08 March 2011] [17:41:05] &lt;lt_schmidt_jr&gt;    Hmm, looks like the latest 2.1.2 tar is failing to compile on centos</div>
<div class="line">[Tuesday 08 March 2011] [17:41:14] &lt;mikko&gt;    lt_schmidt_jr: which centos?</div>
<div class="line">[Tuesday 08 March 2011] [17:41:18] &lt;mikko&gt;    and what error message</div>
<div class="line">[Tuesday 08 March 2011] [17:41:47] &lt;lt_schmidt_jr&gt;    5.5</div>
<div class="line">[Tuesday 08 March 2011] [17:42:04] &lt;mikko&gt;    hmm, i got i385 centos 5.5</div>
<div class="line">[Tuesday 08 March 2011] [17:42:10] &lt;mikko&gt;    and it seems to succeed</div>
<div class="line">[Tuesday 08 March 2011] [17:42:14] &lt;mikko&gt;    what error are you getting?</div>
<div class="line">[Tuesday 08 March 2011] [17:42:37] &lt;lt_schmidt_jr&gt;    I am getting libtool errors</div>
<div class="line">[Tuesday 08 March 2011] [17:42:48] &lt;lt_schmidt_jr&gt;    trying to cut and paste here</div>
<div class="line">[Tuesday 08 March 2011] [17:42:49] &lt;mikko&gt;    can you put them to gist.github.com?</div>
<div class="line">[Tuesday 08 March 2011] [17:44:13] &lt;lt_schmidt_jr&gt;    <a class="reference external" href="https://gist.github.com/861270">https://gist.github.com/861270</a></div>
<div class="line">[Tuesday 08 March 2011] [17:44:44] &lt;mikko&gt;    looks very odd</div>
<div class="line">[Tuesday 08 March 2011] [17:45:01] &lt;mikko&gt;    i just built successfully under centos 5.5</div>
<div class="line">[Tuesday 08 March 2011] [17:45:13] &lt;mikko&gt;    CentOS release 5.5 (Final)</div>
<div class="line">[Tuesday 08 March 2011] [17:45:22] &lt;mikko&gt;    Linux localhost.localdomain 2.6.18-194.el5 #1 SMP Fri Apr 2 14:58:14 EDT 2010 x86_64 x86_64 x86_64 GNU/Linux</div>
<div class="line">[Tuesday 08 March 2011] [17:48:06] &lt;lt_schmidt_jr&gt;    that is what I have as well</div>
<div class="line">[Tuesday 08 March 2011] [17:48:23] &lt;lt_schmidt_jr&gt;    mikko are you running a VM also?</div>
<div class="line">[Tuesday 08 March 2011] [17:56:34] &lt;mikko&gt;    lt_schmidt_jr: yes</div>
<div class="line">[Tuesday 08 March 2011] [17:56:49] &lt;mikko&gt;    lt_schmidt_jr: i got centos 5.5 in the daily build cluster (i386)</div>
<div class="line">[Tuesday 08 March 2011] [17:56:55] &lt;mikko&gt;    and x86_64 vm locally</div>
<div class="line">[Tuesday 08 March 2011] [17:59:22] &lt;lt_schmidt_jr&gt;    hmm, I got the ISO files, which were not daily builds</div>
<div class="line">[Tuesday 08 March 2011] [17:59:41] &lt;lt_schmidt_jr&gt;    not using cluster</div>
<div class="line">[Tuesday 08 March 2011] [18:07:09] &lt;lt_schmidt_jr&gt;    I am runing 5.5 x86_64 in the vm</div>
<div class="line">[Tuesday 08 March 2011] [18:07:22] &lt;lt_schmidt_jr&gt;    got the same error on non-vm machine as well</div>
<div class="line">[Tuesday 08 March 2011] [18:07:47] &lt;lt_schmidt_jr&gt;    builds fine on OSX</div>
<div class="line">[Tuesday 08 March 2011] [18:07:59] &lt;lt_schmidt_jr&gt;    I was just building the new image for jzmq</div>
<div class="line">[Tuesday 08 March 2011] [18:08:14] &lt;lt_schmidt_jr&gt;    prev version 2.1.1 was building</div>
<div class="line">[Tuesday 08 March 2011] [18:21:59] &lt;lt_schmidt_jr&gt;    apparently centos is like windows- a kernel update and a reboot and compiling again</div>
<div class="line">[Tuesday 08 March 2011] [18:22:04] &lt;lt_schmidt_jr&gt;    strange</div>
<div class="line">[Tuesday 08 March 2011] [22:49:41] &lt;yrashk&gt;   what&#8217;s the purpose for zeromq2-1 repo?</div>
<div class="line">[Wednesday 09 March 2011] [02:00:59] &lt;suzan_shakya&gt;   hi all, can anyone explain me what is zmq Context ?</div>
<div class="line">[Wednesday 09 March 2011] [02:01:58] &lt;suzan_shakya&gt;   and why 1 zmq Context should be used in 1 process</div>
<div class="line">[Wednesday 09 March 2011] [02:02:19] &lt;guido_g&gt;        it&#8217;s the data structure holding the memory and other stuff needed to make the sockets work</div>
<div class="line">[Wednesday 09 March 2011] [02:05:59] &lt;suzan_shakya&gt;   and can multiple threads use multiple contexts ?</div>
<div class="line">[Wednesday 09 March 2011] [02:06:15] &lt;guido_g&gt;        why should they?</div>
<div class="line">[Wednesday 09 March 2011] [02:40:02] &lt;suzan_shakya&gt;   because i dont want to pass the context to all the threads</div>
<div class="line">[Wednesday 09 March 2011] [02:42:14] &lt;guido_g&gt;        it&#8217;s hard to talk to someone who has half an hour delays in his answers</div>
<div class="line">[Wednesday 09 March 2011] [02:43:01] &lt;guido_g&gt;        use one context per process, as described in the guide</div>
<div class="line">[Wednesday 09 March 2011] [02:43:20] &lt;guido_g&gt;        otherwise you&#8217;re not able to use inproc sockets</div>
<div class="line">[Wednesday 09 March 2011] [02:44:17] &lt;guido_g&gt;        i&#8217;m off, getting some breakfast</div>
<div class="line">[Wednesday 09 March 2011] [03:02:35] &lt;suzan_shakya&gt;   ok. thanks guido_g. I was also away for some breakfast :)</div>
<div class="line">[Wednesday 09 March 2011] [03:14:42] &lt;mikko&gt;  suzan_shakya: threads can use inproc:// transport within the same context</div>
<div class="line">[Wednesday 09 March 2011] [03:15:00] &lt;mikko&gt;  suzan_shakya: that is probably the most important thing you lose if you setup context per thread</div>
<div class="line">[Wednesday 09 March 2011] [03:18:26] &lt;suzan_shakya&gt;   mikey_w: oh. thanks mikko</div>
<div class="line">[Wednesday 09 March 2011] [03:18:50] &lt;suzan_shakya&gt;   mikko: i got it now. thanks for the answer</div>
<div class="line">[Wednesday 09 March 2011] [03:27:01] &lt;sejo&gt;   hey all I&#8217;m trying to use multiple workers (with zmq.PULL) but when i send a document to the socket, I never neem to receive it?</div>
<div class="line">[Wednesday 09 March 2011] [03:32:20] &lt;guido_g&gt;        re</div>
<div class="line">[Wednesday 09 March 2011] [03:40:20] &lt;seb`&gt;   sejo: what zeromq version do you use</div>
<div class="line">[Wednesday 09 March 2011] [03:42:56] &lt;seb`&gt;   +?</div>
<div class="line">[Wednesday 09 March 2011] [03:48:54] &lt;guido_g&gt;        sejo: first and before all, show the code you run, otherwise everything else would be guessing</div>
<div class="line">[Wednesday 09 March 2011] [03:49:27] &lt;guido_g&gt;        sejo: use a pste-bin like <a class="reference external" href="https://gist.github.com/">https://gist.github.com/</a></div>
<div class="line">[Wednesday 09 March 2011] [03:52:11] &lt;Guthur&gt; pieterh: I tried a C version of that code last night</div>
<div class="line">[Wednesday 09 March 2011] [03:52:20] &lt;Guthur&gt; no errno 4, unfortunately</div>
<div class="line">[Wednesday 09 March 2011] [04:16:34] &lt;mikko&gt;  what is errno 4 on your platform?</div>
<div class="line">[Wednesday 09 March 2011] [04:19:30] &lt;Guthur&gt; mikko: Interrupted System Call</div>
<div class="line">[Wednesday 09 March 2011] [04:19:44] &lt;Guthur&gt; Ubuntu 10.04</div>
<div class="line">[Wednesday 09 March 2011] [04:20:16] &lt;mikko&gt;  EINTR, hmm</div>
<div class="line">[Wednesday 09 March 2011] [04:20:27] &lt;Guthur&gt; I&#8217;m a little stumped as to what to do about it</div>
<div class="line">[Wednesday 09 March 2011] [04:20:37] &lt;mikko&gt;  there are a couple of situations where you see EINTR</div>
<div class="line">[Wednesday 09 March 2011] [04:20:43] &lt;mikko&gt;  one is that the context is being terminated</div>
<div class="line">[Wednesday 09 March 2011] [04:21:00] &lt;Guthur&gt; I think it&#8217;s something to do with Mono</div>
<div class="line">[Wednesday 09 March 2011] [04:21:14] &lt;mikko&gt;  can it be mono gcing the context?</div>
<div class="line">[Wednesday 09 March 2011] [04:22:09] &lt;Guthur&gt; I don&#8217;t think so, I can actually catch the exception and try again and it works</div>
<div class="line">[Wednesday 09 March 2011] [04:22:20] &lt;Guthur&gt; its on Recv that I get it</div>
<div class="line">[Wednesday 09 March 2011] [04:22:36] &lt;Guthur&gt; no sorry Poll</div>
<div class="line">[Wednesday 09 March 2011] [04:23:08] &lt;Guthur&gt; Actually it would be interesting to see if I can get it on Recv as well</div>
<div class="line">[Wednesday 09 March 2011] [04:23:18] &lt;mikko&gt;  if context is being terminated each blocking socket call should exit with EINTR</div>
<div class="line">[Wednesday 09 March 2011] [04:27:12] &lt;Guthur&gt; mikko: But if that was the case surely subsequent Polls on the same socket wouldn&#8217;t work</div>
<div class="line">[Wednesday 09 March 2011] [04:29:51] &lt;Guthur&gt; is there a way of checking the source of the signal</div>
<div class="line">[Wednesday 09 March 2011] [05:10:11] &lt;private_meta&gt;   pieterh: I thought I read that for every thread used in a program you should use your own zmq context, or was I mistaken?</div>
<div class="line">[Wednesday 09 March 2011] [05:11:23] &lt;guido_g&gt;        no, that&#8217;s not the case</div>
<div class="line">[Wednesday 09 March 2011] [05:11:34] &lt;guido_g&gt;        as said, one process should use one context</div>
<div class="line">[Wednesday 09 March 2011] [05:11:47] &lt;private_meta&gt;   hmm</div>
<div class="line">[Wednesday 09 March 2011] [05:12:33] &lt;private_meta&gt;   Well, the problem is, if a context is used by more than one thread, apparently, the read throws an exception in the thread if one of the threads terminates the context</div>
<div class="line">[Wednesday 09 March 2011] [05:13:12] &lt;private_meta&gt;   I&#8217;m just curious as in none of the C++ examples this behavior is treated</div>
<div class="line">[Wednesday 09 March 2011] [05:13:22] &lt;guido_g&gt;        there is no problem at all</div>
<div class="line">[Wednesday 09 March 2011] [05:13:26] &lt;guido_g&gt;        just don&#8217;t do it</div>
<div class="line">[Wednesday 09 March 2011] [05:13:32] &lt;private_meta&gt;   don&#8217;t do what?</div>
<div class="line">[Wednesday 09 March 2011] [05:13:52] &lt;guido_g&gt;        what did you say?</div>
<div class="line">[Wednesday 09 March 2011] [05:14:12] &lt;private_meta&gt;   Well, did you mean &#8220;Don&#8217;t use the same context&#8221;?</div>
<div class="line">[Wednesday 09 March 2011] [05:14:27] &lt;guido_g&gt;        &lt;private_meta&gt; Well, the problem is, if a context is used by more than one thread, apparently, the read throws an exception in the thread if one of the threads terminates the context</div>
<div class="line">[Wednesday 09 March 2011] [05:14:30] &lt;mikko&gt;  dont terminate the context</div>
<div class="line">[Wednesday 09 March 2011] [05:14:57] &lt;private_meta&gt;   Well, someone HAS to terminate the context in the end</div>
<div class="line">[Wednesday 09 March 2011] [05:15:02] &lt;mikko&gt;  private_meta: yes</div>
<div class="line">[Wednesday 09 March 2011] [05:15:10] &lt;private_meta&gt;   yeah</div>
<div class="line">[Wednesday 09 March 2011] [05:15:16] &lt;mikko&gt;  but dont terminate it before the threads are done with it</div>
<div class="line">[Wednesday 09 March 2011] [05:15:18] &lt;private_meta&gt;   and if the main thread does, exceptions fly wild in the threads</div>
<div class="line">[Wednesday 09 March 2011] [05:15:43] &lt;private_meta&gt;   At least in the guide examples</div>
<div class="line">[Wednesday 09 March 2011] [05:19:25] &lt;private_meta&gt;   Parts of the C examples use a separte context in each thread, the others use the same context as the main thread. Yet, in none of the examples the threads EVER terminate</div>
<div class="line">[Wednesday 09 March 2011] [05:19:37] &lt;private_meta&gt;   so, in case of C++ the worker threads naturally will have exceptions</div>
<div class="line">[Wednesday 09 March 2011] [06:18:00] &lt;Guthur&gt; private_meta: In the examples pieter is often illustrating multiple processes in a single process</div>
<div class="line">[Wednesday 09 March 2011] [06:18:10] &lt;Guthur&gt; eg. the clienttasks and servertasks</div>
<div class="line">[Wednesday 09 March 2011] [06:18:18] &lt;private_meta&gt;   multiple threads, yes</div>
<div class="line">[Wednesday 09 March 2011] [06:18:25] &lt;private_meta&gt;   but he is not consistent with his use of context</div>
<div class="line">[Wednesday 09 March 2011] [06:18:30] &lt;Guthur&gt; no multiple process</div>
<div class="line">[Wednesday 09 March 2011] [06:18:52] &lt;Guthur&gt; that&#8217;s why he uses multiple contexts</div>
<div class="line">[Wednesday 09 March 2011] [06:19:02] &lt;Guthur&gt; they are of course only on threads</div>
<div class="line">[Wednesday 09 March 2011] [06:19:24] &lt;private_meta&gt;   He is using pthread, and for some he uses a new context, for others he doesn&#8217;t</div>
<div class="line">[Wednesday 09 March 2011] [06:19:38] &lt;private_meta&gt;   Sometimes he uses the same context for all threads, in others he doesn&#8217;t</div>
<div class="line">[Wednesday 09 March 2011] [06:20:20] &lt;guido_g&gt;        read -&gt; Guthur&gt; private_meta: In the examples pieter is often illustrating multiple processes in a single process</div>
<div class="line">[Wednesday 09 March 2011] [06:20:20] &lt;Guthur&gt; yeah, though he does often comment saying which ones would likely be a separate process</div>
<div class="line">[Wednesday 09 March 2011] [06:20:39] &lt;private_meta&gt;   still doesn&#8217;t change what I said</div>
<div class="line">[Wednesday 09 March 2011] [06:21:19] &lt;Guthur&gt; check rtdealer it has a comment like so...</div>
<div class="line">[Wednesday 09 March 2011] [06:21:39] &lt;Guthur&gt; We have two workers, here we copy the code, normally these would</div>
<div class="line">[Wednesday 09 March 2011] [06:21:44] &lt;private_meta&gt;   Yes</div>
<div class="line">[Wednesday 09 March 2011] [06:21:47] &lt;Guthur&gt; run on different boxes...</div>
<div class="line">[Wednesday 09 March 2011] [06:21:57] &lt;private_meta&gt;   And he uses a copied context there</div>
<div class="line">[Wednesday 09 March 2011] [06:22:10] &lt;private_meta&gt;   Of course it&#8217;s just for illustration</div>
<div class="line">[Wednesday 09 March 2011] [06:22:33] &lt;private_meta&gt;   but, for example, the lruqueue, the c++ version, uses the same context for each thread as well, and it leads to errors</div>
<div class="line">[Wednesday 09 March 2011] [06:22:55] &lt;private_meta&gt;   Because termination of the context leads to an exception that is not treated</div>
<div class="line">[Wednesday 09 March 2011] [06:23:39] &lt;private_meta&gt;   It&#8217;s not that big of a deal, but in my opinion, it&#8217;s a bit of a problem</div>
<div class="line">[Wednesday 09 March 2011] [06:24:23] &lt;Guthur&gt; but in the original lruqueue it is not sharing contexts</div>
<div class="line">[Wednesday 09 March 2011] [06:24:30] &lt;private_meta&gt;   No it isn&#8217;t</div>
<div class="line">[Wednesday 09 March 2011] [06:24:41] &lt;Guthur&gt; so it&#8217;s a problem with the c++ translation not the guide</div>
<div class="line">[Wednesday 09 March 2011] [06:24:58] &lt;private_meta&gt;   It&#8217;s a general issue with copying contexts in the guide, imho</div>
<div class="line">[Wednesday 09 March 2011] [06:49:40] &lt;sejo&gt;   is there a workin twisted reactor for zmq?</div>
<div class="line">[Wednesday 09 March 2011] [06:50:16] &lt;mikko&gt;  sejo: does twisted allow you to poll normal filehandle?</div>
<div class="line">[Wednesday 09 March 2011] [06:50:54] &lt;sejo&gt;   mikko: I don&#8217;t know</div>
<div class="line">[Wednesday 09 March 2011] [06:50:55] &lt;guido_g&gt;        mikko: sure</div>
<div class="line">[Wednesday 09 March 2011] [06:51:12] &lt;guido_g&gt;        sejo: why not try the provided tornado event loop?</div>
<div class="line">[Wednesday 09 March 2011] [06:51:24] &lt;sejo&gt;   guido?</div>
<div class="line">[Wednesday 09 March 2011] [06:51:30] &lt;mikko&gt;  i don&#8217;t really know much about python</div>
<div class="line">[Wednesday 09 March 2011] [06:51:31] &lt;sejo&gt;   the what?</div>
<div class="line">[Wednesday 09 March 2011] [06:52:24] &lt;guido_g&gt;        sejo: <a class="reference external" href="http://zeromq.github.com/pyzmq/index.html">http://zeromq.github.com/pyzmq/index.html</a>   <a class="reference external" href="http://zeromq.github.com/pyzmq/api/generated/zmq.eventloop.ioloop.html">http://zeromq.github.com/pyzmq/api/generated/zmq.eventloop.ioloop.html</a></div>
<div class="line">[Wednesday 09 March 2011] [06:52:55] &lt;sejo&gt;   aha!</div>
<div class="line">[Wednesday 09 March 2011] [06:53:15] &lt;mikko&gt;  hmm</div>
<div class="line">[Wednesday 09 March 2011] [06:53:16] &lt;Guthur&gt; I was about to do lmgtfy</div>
<div class="line">[Wednesday 09 March 2011] [06:53:19] &lt;sejo&gt;   but I&#8217;m calling smq from a twisted app, so need to test whether that will work</div>
<div class="line">[Wednesday 09 March 2011] [06:53:20] &lt;mikko&gt;  maybe python would be worth learning</div>
<div class="line">[Wednesday 09 March 2011] [06:53:27] &lt;Guthur&gt; but it&#8217;s blocked at work, boohoo</div>
<div class="line">[Wednesday 09 March 2011] [07:32:20] &lt;sejo&gt;   ok writing a reactor is a bit too highlevel for me</div>
<div class="line">[Wednesday 09 March 2011] [07:32:49] &lt;sejo&gt;   perhaps i should just write a small socket receiver and send from there my smq messages</div>
<div class="line">[Wednesday 09 March 2011] [07:32:53] &lt;sejo&gt;   zmq</div>
<div class="line">[Wednesday 09 March 2011] [07:34:06] &lt;Guthur&gt; sejo: what&#8217;s your aim?</div>
<div class="line">[Wednesday 09 March 2011] [07:36:46] &lt;sejo&gt;   Guthur: I use scrapy to craml websites (twisted based) and want to process the pages distributed, so send the results to a workergroup</div>
<div class="line">[Wednesday 09 March 2011] [07:49:27] &lt;Guthur&gt; well I&#8217;ve found that Mono  on windows doesn&#8217;t throw that exception, from earlier</div>
<div class="line">[Wednesday 09 March 2011] [07:49:46] &lt;Guthur&gt; it seems to be specific to linux</div>
<div class="line">[Wednesday 09 March 2011] [08:31:00] &lt;mikko&gt;  Steve-o: new issue!</div>
<div class="line">[Wednesday 09 March 2011] [08:31:15] &lt;mikko&gt;  exclamation mark added for emphasis</div>
<div class="line">[Wednesday 09 March 2011] [08:37:26] &lt;private_meta&gt;   How do I add multiline commit comments in git?</div>
<div class="line">[Wednesday 09 March 2011] [08:38:47] &lt;mikko&gt;  private_meta: probably the easiest way is to type the message on multiple lines using $EDITOR</div>
<div class="line">[Wednesday 09 March 2011] [08:39:22] &lt;private_meta&gt;   mikko: how?</div>
<div class="line">[Wednesday 09 March 2011] [08:39:33] &lt;mikko&gt;  git commit</div>
<div class="line">[Wednesday 09 March 2011] [08:39:37] &lt;mikko&gt;  then type your message</div>
<div class="line">[Wednesday 09 March 2011] [08:40:38] &lt;private_meta&gt;   ah thanks</div>
<div class="line">[Wednesday 09 March 2011] [08:47:22] &lt;private_meta&gt;   pieterh: I hope the patch works like that</div>
<div class="line">[Wednesday 09 March 2011] [08:51:25] &lt;pieterh&gt;        private_meta: I&#8217;m back online... just reading my emails, seen your patch, looks perfect</div>
<div class="line">[Wednesday 09 March 2011] [08:51:35] &lt;private_meta&gt;   ok</div>
<div class="line">[Wednesday 09 March 2011] [08:52:40] &lt;yrashk&gt; pieterh: can you please create zeromq/erlzmq2 repo with me &#8216;yrashk&#8217; and &#8216;evax&#8217; added as collaborators?</div>
<div class="line">[Wednesday 09 March 2011] [08:52:55] &lt;pieterh&gt;        yrashk: will do asap</div>
<div class="line">[Wednesday 09 March 2011] [08:53:03] &lt;yrashk&gt; thx</div>
<div class="line">[Wednesday 09 March 2011] [08:53:17] &lt;yrashk&gt; once it&#8217;ll be there I&#8217;ll do the renamings and push it</div>
<div class="line">[Wednesday 09 March 2011] [09:03:15] &lt;pieterh&gt;        yrashk: since dhammika and saleyn are already admins of erlzmq, I&#8217;ll make all four of you admins of erlzmq2, that ok?</div>
<div class="line">[Wednesday 09 March 2011] [09:04:43] &lt;yrashk&gt; pieterh: sure</div>
<div class="line">[Wednesday 09 March 2011] [09:07:04] &lt;pieterh&gt;        yrashk: just to confirm, you&#8217;re happy with a new empty repository?</div>
<div class="line">[Wednesday 09 March 2011] [09:07:11] &lt;pieterh&gt;        rather than a fork of some existing one...</div>
<div class="line">[Wednesday 09 March 2011] [09:07:21] &lt;yrashk&gt; pieterh: yes, I will do renames and push it to the new repo</div>
<div class="line">[Wednesday 09 March 2011] [09:07:31] &lt;pieterh&gt;        ok, you&#8217;re good to go: <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:zeromq/erlzmq2.git</div>
<div class="line">[Wednesday 09 March 2011] [09:07:33] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 09 March 2011] [09:08:19] &lt;yrashk&gt; thanks!</div>
<div class="line">[Wednesday 09 March 2011] [09:09:59] &lt;private_meta&gt;   pieterh: about git, now that I made the patch. should I wait until it&#8217;s commited to make a reset and work from there?</div>
<div class="line">[Wednesday 09 March 2011] [09:10:30] &lt;pieterh&gt;        probably best, I&#8217;ll do that now</div>
<div class="line">[Wednesday 09 March 2011] [09:13:25]   * yrashk is done renaming, testing</div>
<div class="line">[Wednesday 09 March 2011] [09:14:23] &lt;yrashk&gt; pieterh: how should we address v2 introduction at the 0mq website?</div>
<div class="line">[Wednesday 09 March 2011] [09:14:33] &lt;yrashk&gt; right now the erlang binding page is solely dedicated to v1</div>
<div class="line">[Wednesday 09 March 2011] [09:16:01] &lt;pieterh&gt;        yrashk: we had this issue with Lua</div>
<div class="line">[Wednesday 09 March 2011] [09:16:12] &lt;pieterh&gt;        there are in fact several bindings with two or more versions</div>
<div class="line">[Wednesday 09 March 2011] [09:16:27] &lt;pieterh&gt;        I solved it for Lua by just documenting both bindings on the same page, see <a class="reference external" href="http://www.zeromq.org/bindings:lua">http://www.zeromq.org/bindings:lua</a></div>
<div class="line">[Wednesday 09 March 2011] [09:17:04] &lt;pieterh&gt;        In the case of erlzmq, document v2 at the top, and v1 below</div>
<div class="line">[Wednesday 09 March 2011] [09:17:53] &lt;yrashk&gt; ok</div>
<div class="line">[Wednesday 09 March 2011] [09:17:59] &lt;Steve-o&gt;        mikko: oh!</div>
<div class="line">[Wednesday 09 March 2011] [09:24:38] &lt;pieterh&gt;        private_meta: ok, patch applied... for some reason it complained on lpclient/lpserver but I fixed that up</div>
<div class="line">[Wednesday 09 March 2011] [09:25:04] &lt;pieterh&gt;        if you reset and &#8216;git pull origin master&#8217; you should get a clean state with your changes</div>
<div class="line">[Wednesday 09 March 2011] [09:25:10] &lt;private_meta&gt;   pieterh: so the patch there was broken?</div>
<div class="line">[Wednesday 09 March 2011] [09:25:21] &lt;pieterh&gt;        I don&#8217;t think it was broken, no</div>
<div class="line">[Wednesday 09 March 2011] [09:25:52] &lt;yrashk&gt; pieterh: pushed</div>
<div class="line">[Wednesday 09 March 2011] [09:25:59] &lt;pieterh&gt;        yrashk: nice!</div>
<div class="line">[Wednesday 09 March 2011] [09:26:08] &lt;private_meta&gt;   mhm</div>
<div class="line">[Wednesday 09 March 2011] [09:26:09] &lt;private_meta&gt;   CONFLICT (content): Merge conflict in examples/C++/lpclient.cpp</div>
<div class="line">[Wednesday 09 March 2011] [09:26:22] &lt;pieterh&gt;        private_meta: yeah, something like that</div>
<div class="line">[Wednesday 09 March 2011] [09:26:34] &lt;private_meta&gt;   pieterh: wouldn&#8217;t a reset be beter there?</div>
<div class="line">[Wednesday 09 March 2011] [09:26:49] &lt;pieterh&gt;        private_meta: did you not do a reset?</div>
<div class="line">[Wednesday 09 March 2011] [09:27:01] &lt;private_meta&gt;   uhm not after the commit</div>
<div class="line">[Wednesday 09 March 2011] [09:28:00] &lt;pieterh&gt;        so, do &#8216;git log&#8217; to see the last commit before yours, then do &#8216;git reset &#8211;hard committag&#8217;</div>
<div class="line">[Wednesday 09 March 2011] [09:28:14] &lt;pieterh&gt;        committag is the UUID (or first 6 chars thereof)</div>
<div class="line">[Wednesday 09 March 2011] [09:28:29] &lt;pieterh&gt;        then pull the master branch again, it&#8217;ll fetch &amp;merge everything that changed since</div>
<div class="line">[Wednesday 09 March 2011] [09:29:13] &lt;pieterh&gt;        these are the joys of distributed vcs, it remains a lot easier than handling merges in svn</div>
<div class="line">[Wednesday 09 March 2011] [09:30:42] &lt;private_meta&gt;   why reset to the one before mine?</div>
<div class="line">[Wednesday 09 March 2011] [09:31:16] &lt;pieterh&gt;        you changed file X, I changed file X</div>
<div class="line">[Wednesday 09 March 2011] [09:31:25] &lt;pieterh&gt;        we changed the same lines</div>
<div class="line">[Wednesday 09 March 2011] [09:31:30] &lt;pieterh&gt;        (obviously, I used your patch)</div>
<div class="line">[Wednesday 09 March 2011] [09:31:59] &lt;pieterh&gt;        well, you can resolve the conflicts by hand if you prefer</div>
<div class="line">[Wednesday 09 March 2011] [09:32:27] &lt;pieterh&gt;        actually, simplest is just delete your repository entirely and re-clone from github...</div>
<div class="line">[Wednesday 09 March 2011] [09:32:50] &lt;pieterh&gt;        you don&#8217;t want to have commits on your history that don&#8217;t exist anywhere else</div>
<div class="line">[Wednesday 09 March 2011] [09:33:11] &lt;private_meta&gt;   k, I went with the latter choice</div>
<div class="line">[Wednesday 09 March 2011] [09:33:28] &lt;private_meta&gt;   Is there a way to only clone the examples folder?</div>
<div class="line">[Wednesday 09 March 2011] [09:33:35] &lt;pieterh&gt;        nope</div>
<div class="line">[Wednesday 09 March 2011] [09:33:52] &lt;pieterh&gt;        we could eventually make the examples into a separate project</div>
<div class="line">[Wednesday 09 March 2011] [09:34:05] &lt;pieterh&gt;        or even lots of projects, 1 per language</div>
<div class="line">[Wednesday 09 March 2011] [09:34:34] &lt;pieterh&gt;        then you can become committer on the C++ project and it&#8217;s much much simpler</div>
<div class="line">[Wednesday 09 March 2011] [09:34:35] &lt;private_meta&gt;   Well, I don&#8217;t think it&#8217;s necessary</div>
<div class="line">[Wednesday 09 March 2011] [09:34:43] &lt;pieterh&gt;        kind of overkill at the moment</div>
<div class="line">[Wednesday 09 March 2011] [09:34:50] &lt;private_meta&gt;   ah, so you can&#8217;t allow someone commits to only one subtree?</div>
<div class="line">[Wednesday 09 March 2011] [09:34:54] &lt;pieterh&gt;        nope</div>
<div class="line">[Wednesday 09 March 2011] [09:35:00] &lt;private_meta&gt;   too bad</div>
<div class="line">[Wednesday 09 March 2011] [09:35:07] &lt;private_meta&gt;   works quite well that way in svn :/</div>
<div class="line">[Wednesday 09 March 2011] [09:35:19] &lt;pieterh&gt;        yeah, but creating a single SVN repository is a serious task</div>
<div class="line">[Wednesday 09 March 2011] [09:35:24] &lt;pieterh&gt;        creating <em>lots</em> of git repositories is trivial</div>
<div class="line">[Wednesday 09 March 2011] [09:35:42] &lt;private_meta&gt;   a serious task?</div>
<div class="line">[Wednesday 09 March 2011] [09:36:19] &lt;pieterh&gt;        especially if you want it to be secure and maintained and backed up</div>
<div class="line">[Wednesday 09 March 2011] [09:36:33] &lt;pieterh&gt;        one does not create 1,000 svn repositories for fun</div>
<div class="line">[Wednesday 09 March 2011] [09:37:10] &lt;pieterh&gt;        whereas you can literally use git repositories as an organizational tool</div>
<div class="line">[Wednesday 09 March 2011] [09:38:51] &lt;pieterh&gt;        now I&#8217;m actually considering breaking the Guide into multiple repos... :-)</div>
<div class="line">[Wednesday 09 March 2011] [09:40:03] &lt;yrashk&gt; <a class="reference external" href="http://zeromq.github.com/erlzmq2/">http://zeromq.github.com/erlzmq2/</a> :)</div>
<div class="line">[Wednesday 09 March 2011] [09:40:42] &lt;pieterh&gt;        yrashk: I already tweeted that :-)</div>
<div class="line">[Wednesday 09 March 2011] [09:41:02] &lt;pieterh&gt;        hang on... hey!</div>
<div class="line">[Wednesday 09 March 2011] [09:41:03] &lt;pieterh&gt;        nice</div>
<div class="line">[Wednesday 09 March 2011] [09:42:49] &lt;yrashk&gt; pieterh: you used yrashk as a hashtag :D</div>
<div class="line">[Wednesday 09 March 2011] [09:43:04]   * pieterh checks the spelling...</div>
<div class="line">[Wednesday 09 March 2011] [09:43:18] &lt;pieterh&gt;        ah, yes, sorry</div>
<div class="line">[Wednesday 09 March 2011] [09:43:37] &lt;pieterh&gt;        fixed</div>
<div class="line">[Wednesday 09 March 2011] [09:44:17] &lt;yrashk&gt; thx!</div>
<div class="line">[Wednesday 09 March 2011] [09:51:30] &lt;yrashk&gt; pieterh: we&#8217;ll most likely update the binding page today, I asked evax if he can do it (I am tired :)</div>
<div class="line">[Wednesday 09 March 2011] [09:52:37] &lt;pieterh&gt;        yrashk: no stress... note that the current page is mostly HTML copied/pasted from another site.</div>
<div class="line">[Wednesday 09 March 2011] [09:53:39] &lt;yrashk&gt; yeah I can see that</div>
<div class="line">[Wednesday 09 March 2011] [09:54:09] &lt;faha&gt;   hello, provide zeromq some kind of message encryption or it&#8217;s necessary secure transport between client and server using <em>vpn</em> solution ?</div>
<div class="line">[Wednesday 09 March 2011] [09:55:29] &lt;Steve-o&gt;        faha: or you can use tls above zeromq</div>
<div class="line">[Wednesday 09 March 2011] [09:57:51] &lt;faha&gt;   Steve-o: it sounds great thx</div>
<div class="line">[Wednesday 09 March 2011] [09:58:31] &lt;pieterh&gt;        faha: <a class="reference external" href="http://www.zeromq.org/topics:encryption">http://www.zeromq.org/topics:encryption</a></div>
<div class="line">[Wednesday 09 March 2011] [09:58:37] &lt;pieterh&gt;        there is no great solution today</div>
<div class="line">[Wednesday 09 March 2011] [09:58:46] &lt;mikko&gt;  Steve-o: im getting unresolved symbols with zeromq/openpgm 5.1.113</div>
<div class="line">[Wednesday 09 March 2011] [09:59:00] &lt;Steve-o&gt;        which platform?</div>
<div class="line">[Wednesday 09 March 2011] [09:59:09] &lt;mikko&gt;  solaris / oracle solaris studio 12.2</div>
<div class="line">[Wednesday 09 March 2011] [09:59:15] &lt;mikko&gt;  sec</div>
<div class="line">[Wednesday 09 March 2011] [09:59:38] &lt;mikko&gt;  <a class="reference external" href="http://build.zero.mq/job/openpgm-autoconf-sunstudio-solaris10/5/console">http://build.zero.mq/job/openpgm-autoconf-sunstudio-solaris10/5/console</a></div>
<div class="line">[Wednesday 09 March 2011] [09:59:48] &lt;mikko&gt;  pgm_build_revision etc are undefined</div>
<div class="line">[Wednesday 09 March 2011] [10:00:00] &lt;mikko&gt;  im wondering whether those are accepted by visibility flags on the compiler?</div>
<div class="line">[Wednesday 09 March 2011] [10:00:14] &lt;mikko&gt;  and oddly enough I wasn&#8217;t seeing these with 5.1.110</div>
<div class="line">[Wednesday 09 March 2011] [10:01:41] &lt;Steve-o&gt;        missing the two dynamic generated files</div>
<div class="line">[Wednesday 09 March 2011] [10:02:40] &lt;Steve-o&gt;        but I see the GEN lines</div>
<div class="line">[Wednesday 09 March 2011] [10:03:15] &lt;Steve-o&gt;        but, line 1: warning: empty translation unit ?</div>
<div class="line">[Wednesday 09 March 2011] [10:03:28] &lt;Steve-o&gt;        the GEN failed?</div>
<div class="line">[Wednesday 09 March 2011] [10:03:35] &lt;Steve-o&gt;        no perl, python?</div>
<div class="line">[Wednesday 09 March 2011] [10:03:49] &lt;mikko&gt;  possible</div>
<div class="line">[Wednesday 09 March 2011] [10:04:06] &lt;mikko&gt;  i seem to have both</div>
<div class="line">[Wednesday 09 March 2011] [10:04:10] &lt;Steve-o&gt;        checking for perl... /usr/bin/perl</div>
<div class="line">[Wednesday 09 March 2011] [10:04:15] &lt;Steve-o&gt;        checking for python... /opt/csw/bin/python</div>
<div class="line">[Wednesday 09 March 2011] [10:04:51] &lt;Steve-o&gt;        check the content of the files?</div>
<div class="line">[Wednesday 09 March 2011] [10:05:03] &lt;mikko&gt;  This is perl, v5.10.1 (csw-5.10.1*) built for i86pc-solaris-thread-multi</div>
<div class="line">[Wednesday 09 March 2011] [10:05:19] &lt;mikko&gt;  Python 2.6.6 (r266:84292, Oct 12 2010, 15:43:32) [C] on sunos5</div>
<div class="line">[Wednesday 09 March 2011] [10:07:04] &lt;faha&gt;   Steve-o: TLS/SSL seems to be a clean solutions ( not support multicast is not problem for me), what doest it  mean &#8220;notion of hops over devices&#8221;, it&#8217;s something like retranslate message or &#8220;ICMP redirect&#8221;?</div>
<div class="line">[Wednesday 09 March 2011] [10:08:14] &lt;mikko&gt;  faha: if you for example have a forwarder or similar device running</div>
<div class="line">[Wednesday 09 March 2011] [10:08:25] &lt;mikko&gt;  your tls/ssl would be between the client and the forwarder</div>
<div class="line">[Wednesday 09 March 2011] [10:08:33] &lt;Steve-o&gt;        actually I think that refers to zeromq over TLS, not TLS over zeromq</div>
<div class="line">[Wednesday 09 March 2011] [10:09:07] &lt;Steve-o&gt;        faha: read this <a class="reference external" href="http://en.wikipedia.org/wiki/Datagram_Transport_Layer_Security">http://en.wikipedia.org/wiki/Datagram_Transport_Layer_Security</a></div>
<div class="line">[Wednesday 09 March 2011] [10:09:58] &lt;Steve-o&gt;        mikko: GEN is building fine on Linux, check out version.c and galois_tables.c to see what the scripts produced</div>
<div class="line">[Wednesday 09 March 2011] [10:11:21] &lt;mikko&gt;  Steve-o: ok, sec</div>
<div class="line">[Wednesday 09 March 2011] [10:11:53] &lt;mikko&gt;  Steve-o: version.c is empty</div>
<div class="line">[Wednesday 09 March 2011] [10:12:11] &lt;mikko&gt;  galois_tables.c is empty as well</div>
<div class="line">[Wednesday 09 March 2011] [10:13:54] &lt;Steve-o&gt;        try a configure &#8211;disable-silent-rules &#8211;with-pgm to see the command line used for the GEN steps</div>
<div class="line">[Wednesday 09 March 2011] [10:16:05] &lt;Steve-o&gt;        or just trying running perl galois_generator.pl and python version_generator.py for valid output</div>
<div class="line">[Wednesday 09 March 2011] [10:17:48] &lt;pieterh&gt;        mikko, Steve-o, you&#8217;re doing these tests against the 2.2 git master?</div>
<div class="line">[Wednesday 09 March 2011] [10:19:02] &lt;Steve-o&gt;        I tested Windows with the rc2 and Linux with mikko&#8217;s autoconf branch</div>
<div class="line">[Wednesday 09 March 2011] [10:19:32] &lt;mikko&gt;  pieterh: roughly</div>
<div class="line">[Wednesday 09 March 2011] [10:20:48] &lt;Steve-o&gt;        mikko: is Solaris x86 make going to break on $&lt; or something stupid?</div>
<div class="line">[Wednesday 09 March 2011] [10:21:22] &lt;mikko&gt;  Steve-o: i wonder if that is an issue with dmake vs gmake or ksh vs bash</div>
<div class="line">[Wednesday 09 March 2011] [10:22:33] &lt;Steve-o&gt;        I&#8217;ve seen warnings that it shouldn&#8217;t be used, but I&#8217;ve never encountered a platform that doesn&#8217;t like it</div>
<div class="line">[Wednesday 09 March 2011] [10:22:42] &lt;Steve-o&gt;        but then I&#8217;m using scons on Solaris</div>
<div class="line">[Wednesday 09 March 2011] [10:23:13] &lt;mikko&gt;  <a class="reference external" href="https://build.zero.mq/job/openpgm-autoconf-sunstudio-solaris10/7/console">https://build.zero.mq/job/openpgm-autoconf-sunstudio-solaris10/7/console</a></div>
<div class="line">[Wednesday 09 March 2011] [10:23:15] &lt;mikko&gt;  builds now</div>
<div class="line">[Wednesday 09 March 2011] [10:23:21] &lt;mikko&gt;  it&#8217;s fairly slow, solaris in vm</div>
<div class="line">[Wednesday 09 March 2011] [10:24:44] &lt;Steve-o&gt;        lol at the long command lines</div>
<div class="line">[Wednesday 09 March 2011] [10:25:57] &lt;Steve-o&gt;        yup, /opt/csw/bin/python  &gt; version.c</div>
<div class="line">[Wednesday 09 March 2011] [10:26:06] &lt;evaxsoftware&gt;   hi. thanks for the erlzmq2 inclusion</div>
<div class="line">[Wednesday 09 March 2011] [10:26:08] &lt;Steve-o&gt;        lmao</div>
<div class="line">[Wednesday 09 March 2011] [10:26:25] &lt;mikko&gt;  /usr/bin/perl  &gt; galois_tables.c</div>
<div class="line">[Wednesday 09 March 2011] [10:26:27] &lt;mikko&gt;  same with perl</div>
<div class="line">[Wednesday 09 March 2011] [10:26:49] &lt;Steve-o&gt;        use gmake or replace $&lt; with the source file name</div>
<div class="line">[Wednesday 09 March 2011] [10:26:56] &lt;mikko&gt;  trying the same thing with gmake now</div>
<div class="line">[Wednesday 09 March 2011] [10:26:57] &lt;mikko&gt;  sec</div>
<div class="line">[Wednesday 09 March 2011] [10:31:05] &lt;mikko&gt;  <a class="reference external" href="https://build.zero.mq/job/openpgm-autoconf-sunstudio-solaris10/9/console">https://build.zero.mq/job/openpgm-autoconf-sunstudio-solaris10/9/console</a></div>
<div class="line">[Wednesday 09 March 2011] [10:31:08] &lt;mikko&gt;  gmake building now</div>
<div class="line">[Wednesday 09 March 2011] [10:34:06] &lt;pieterh&gt;        evaxsoftware: np</div>
<div class="line">[Wednesday 09 March 2011] [10:34:29] &lt;pieterh&gt;        mikko: Steve-o: when you guys have this working I want to fold it into 2.1.x and make a new stable release for that</div>
<div class="line">[Wednesday 09 March 2011] [10:34:39] &lt;pieterh&gt;        everyone is impatient to play with the new OpenPGM! :-)</div>
<div class="line">[Wednesday 09 March 2011] [10:35:10] &lt;pieterh&gt;        you will get multiple opportunities to improve things afterwards, not an issue</div>
<div class="line">[Wednesday 09 March 2011] [10:35:11] &lt;Steve-o&gt;        don&#8217;t forget the other patch on the ML</div>
<div class="line">[Wednesday 09 March 2011] [10:35:18] &lt;Steve-o&gt;        someone removed rate limiting by mistake</div>
<div class="line">[Wednesday 09 March 2011] [10:35:38] &lt;evaxsoftware&gt;   pieterh: i&#8217;m about to edit the bindings:erlang page, is it ok if I remove the old autogenerated doc copy and paste, and rely on links to the gh-pages instead ?</div>
<div class="line">[Wednesday 09 March 2011] [10:35:46] &lt;pieterh&gt;        Steve-o: ah, by default all patches on the ML go to sustrik, 2.2, not to me</div>
<div class="line">[Wednesday 09 March 2011] [10:36:00] &lt;Steve-o&gt;        mikko: looks good:  /opt/csw/bin/python version_generator.py &gt; version.c</div>
<div class="line">[Wednesday 09 March 2011] [10:36:15] &lt;pieterh&gt;        evaxsoftware: make any changes you like but remember there are people using erlzmq1 in production, they need docs or links to docs</div>
<div class="line">[Wednesday 09 March 2011] [10:36:40] &lt;pieterh&gt;        Steve-o: shall I apply that patch to 2.1.x?</div>
<div class="line">[Wednesday 09 March 2011] [10:36:55] &lt;evaxsoftware&gt;   pieterh: thanks, np</div>
<div class="line">[Wednesday 09 March 2011] [10:37:14] &lt;CIA-103&gt;        zeromq2: 03Martin Sustrik 07master * r7b95c59 10/ src/ip.cpp :</div>
<div class="line">[Wednesday 09 March 2011] [10:37:14] &lt;CIA-103&gt;        zeromq2: Windows build fixed</div>
<div class="line">[Wednesday 09 March 2011] [10:37:14] &lt;CIA-103&gt;        zeromq2: Compilation of ip.cpp have failed because EPROTONOSUPPORT</div>
<div class="line">[Wednesday 09 March 2011] [10:37:36] &lt;Steve-o&gt;        pieterh: I think sustrik must have removed it between rc1 and rc2?  I have looked back at the commit log to find out</div>
<div class="line">[Wednesday 09 March 2011] [10:37:49] &lt;yrashk&gt; pieterh: well there will be a link to github pages published docs for erlzmqv1</div>
<div class="line">[Wednesday 09 March 2011] [10:37:57] &lt;yrashk&gt; so I think we&#8217;re fine then</div>
<div class="line">[Wednesday 09 March 2011] [10:38:00] &lt;pieterh&gt;        Sustrik isn&#8217;t touching 2.1.x</div>
<div class="line">[Wednesday 09 March 2011] [10:38:03] &lt;Steve-o&gt;        well at least it helped to find a bug on windows</div>
<div class="line">[Wednesday 09 March 2011] [10:38:40] &lt;pieterh&gt;        but there was a patch to OpenPGM for rc2, let me check what that changed...</div>
<div class="line">[Wednesday 09 March 2011] [10:40:56] &lt;pieterh&gt;        commit f4c1040ddcb579ca53fb34ef0ef83b130424070d</div>
<div class="line">[Wednesday 09 March 2011] [10:41:08] &lt;pieterh&gt;        &#8216;Incorrect PGM sender/receiver creation fixed&#8217;</div>
<div class="line">[Wednesday 09 March 2011] [10:41:42] &lt;Steve-o&gt;        mistake in commit fcfad5682ed7a7f51088</div>
<div class="line">[Wednesday 09 March 2011] [10:42:03] &lt;Steve-o&gt;        oops, that was december</div>
<div class="line">[Wednesday 09 March 2011] [10:43:46] &lt;Steve-o&gt;        fixing the windows size</div>
<div class="line">[Wednesday 09 March 2011] [10:44:02] &lt;Steve-o&gt;        transmit window size, <a class="reference external" href="https://github.com/zeromq/zeromq2-1/commit/fcfad5682ed7a7f5108853d2a7039aedfd9a9ac2#src/pgm_socket.cpp">https://github.com/zeromq/zeromq2-1/commit/fcfad5682ed7a7f5108853d2a7039aedfd9a9ac2#src/pgm_socket.cpp</a></div>
<div class="line">[Wednesday 09 March 2011] [10:46:03] &lt;Steve-o&gt;        Windows performs really badly on RX without rate limit, TX is a lot better today</div>
<div class="line">[Wednesday 09 March 2011] [10:46:23] &lt;Steve-o&gt;        anyway this is the new patch for 2.1:  <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/009723.html">http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/009723.html</a></div>
<div class="line">[Wednesday 09 March 2011] [10:46:52] &lt;Steve-o&gt;        alongside merging 5.1.113 and mikko&#8217;s autoconf changes</div>
<div class="line">[Wednesday 09 March 2011] [10:47:16] &lt;mikko&gt;  Steve-o: gmake works</div>
<div class="line">[Wednesday 09 March 2011] [10:47:29] &lt;Steve-o&gt;        todo for mikko: add silent rules to zeromq autoconf</div>
<div class="line">[Wednesday 09 March 2011] [10:47:44] &lt;Steve-o&gt;        mikko: yup, good, I think I can live with gmake only</div>
<div class="line">[Wednesday 09 March 2011] [10:51:49] &lt;mikko&gt;  Steve-o: cool</div>
<div class="line">[Wednesday 09 March 2011] [10:55:54] &lt;pieterh&gt;        Steve-o: congrats, your patch made it into 2.1 stable :-)</div>
<div class="line">[Wednesday 09 March 2011] [10:58:06] &lt;Steve-o&gt;        pieterh: then someone needs to push 5.1.113 and then mikko can push the autoconf changes</div>
<div class="line">[Wednesday 09 March 2011] [10:58:30] &lt;mikko&gt;  the autoconf stuff feels pretty solid to me</div>
<div class="line">[Wednesday 09 March 2011] [10:58:30] &lt;pieterh&gt;        what&#8217;s involved in pushing 5.1.113 and who can do that?</div>
<div class="line">[Wednesday 09 March 2011] [10:58:40] &lt;mikko&gt;  pieterh: el sustrik</div>
<div class="line">[Wednesday 09 March 2011] [10:58:41] &lt;pieterh&gt;        you mean into 2.1?</div>
<div class="line">[Wednesday 09 March 2011] [10:58:45] &lt;pieterh&gt;        or into 2.2?</div>
<div class="line">[Wednesday 09 March 2011] [10:58:51] &lt;mikko&gt;  first to master</div>
<div class="line">[Wednesday 09 March 2011] [10:58:54] &lt;pieterh&gt;        that is the large patch you sent a few days ago?</div>
<div class="line">[Wednesday 09 March 2011] [10:59:02] &lt;mikko&gt;  did i send a large patch?</div>
<div class="line">[Wednesday 09 March 2011] [10:59:13] &lt;pieterh&gt;        I meant Steve-o</div>
<div class="line">[Wednesday 09 March 2011] [10:59:17] &lt;mikko&gt;  oh</div>
<div class="line">[Wednesday 09 March 2011] [10:59:28] &lt;Steve-o&gt;        i posted 5.1.110 first</div>
<div class="line">[Wednesday 09 March 2011] [11:00:04] &lt;Steve-o&gt;        then mikko found a Solaris x86 bug, I found a few win64 bugs, and then a significant win32 compiler &#8216;feature&#8217;</div>
<div class="line">[Wednesday 09 March 2011] [11:00:11] &lt;pieterh&gt;        oookay</div>
<div class="line">[Wednesday 09 March 2011] [11:00:34] &lt;mikko&gt;  and i&#8217;ve been sending incomprehensible midnight mails to steven</div>
<div class="line">[Wednesday 09 March 2011] [11:00:36] &lt;Steve-o&gt;        all small one liner changes, but bumped upto 113</div>
<div class="line">[Wednesday 09 March 2011] [11:00:39] &lt;mikko&gt;  and he incorporated the solaris changes</div>
<div class="line">[Wednesday 09 March 2011] [11:00:46] &lt;pieterh&gt;        so let&#8217;s think how to get this into 2.1 rather than bottlenecking el sustrik on it</div>
<div class="line">[Wednesday 09 March 2011] [11:01:01] &lt;mikko&gt;  it needs to go to master first i think</div>
<div class="line">[Wednesday 09 March 2011] [11:01:06] &lt;pieterh&gt;        there is no master</div>
<div class="line">[Wednesday 09 March 2011] [11:01:14] &lt;pieterh&gt;        there is a 2.2 source git, a 2.1 release git</div>
<div class="line">[Wednesday 09 March 2011] [11:01:20] &lt;pieterh&gt;        they all have master branches</div>
<div class="line">[Wednesday 09 March 2011] [11:01:25] &lt;pieterh&gt;        sorry</div>
<div class="line">[Wednesday 09 March 2011] [11:01:29] &lt;mikko&gt;  2.2 source git in that case</div>
<div class="line">[Wednesday 09 March 2011] [11:01:34] &lt;pieterh&gt;        2.1 and 2.2 are very very close internally</div>
<div class="line">[Wednesday 09 March 2011] [11:01:54] &lt;pieterh&gt;        so it&#8217;s possible, still to upstream or downstream patches with minimum effort</div>
<div class="line">[Wednesday 09 March 2011] [11:01:54] &lt;Steve-o&gt;        is &#8220;zeromq2&#8221; 2.2?</div>
<div class="line">[Wednesday 09 March 2011] [11:02:10] &lt;pieterh&gt;        zeromq2 is &#8220;latest development version of 0MQ/2.x.x&#8221;</div>
<div class="line">[Wednesday 09 March 2011] [11:02:13] &lt;pieterh&gt;        currently at 2.2</div>
<div class="line">[Wednesday 09 March 2011] [11:02:25] &lt;Steve-o&gt;        so effectively trunk</div>
<div class="line">[Wednesday 09 March 2011] [11:02:40] &lt;pieterh&gt;        svn terminology? hey, it&#8217;s 2011, c&#8217;mon...!</div>
<div class="line">[Wednesday 09 March 2011] [11:03:08] &lt;Steve-o&gt;        I&#8217;m on SVN and not moving in a hurry</div>
<div class="line">[Wednesday 09 March 2011] [11:03:45]   * pieterh is not going to thump any bibles today</div>
<div class="line">[Wednesday 09 March 2011] [11:04:16] &lt;pieterh&gt;        can we prepare a patch that feeds <em>all</em> these changes into 2.1?</div>
<div class="line">[Wednesday 09 March 2011] [11:04:22] &lt;Steve-o&gt;        I don&#8217;t know if googlecode even supports GIT, they have some other distributed repo</div>
<div class="line">[Wednesday 09 March 2011] [11:04:25] &lt;pieterh&gt;        I will test the patch, we can then upstream it to sustrik</div>
<div class="line">[Wednesday 09 March 2011] [11:04:50] &lt;pieterh&gt;        I&#8217;ll provide you with test packages for sanity checking</div>
<div class="line">[Wednesday 09 March 2011] [11:05:23] &lt;pieterh&gt;        sustrik: if you&#8217;re around, does this sound sane?</div>
<div class="line">[Wednesday 09 March 2011] [11:05:29] &lt;Steve-o&gt;        googlecode has Mercurial, I&#8217;ll pass on that</div>
<div class="line">[Wednesday 09 March 2011] [11:06:47] &lt;pieterh&gt;        mikko: how are you and Steve-o exchanging versions now?</div>
<div class="line">[Wednesday 09 March 2011] [11:07:08] &lt;pieterh&gt;        you have an autoconf branch on what repository?</div>
<div class="line">[Wednesday 09 March 2011] [11:07:38] &lt;Steve-o&gt;        here:  <a class="reference external" href="https://github.com/mkoppanen/zeromq2/tree/openpgm-autoconf">https://github.com/mkoppanen/zeromq2/tree/openpgm-autoconf</a></div>
<div class="line">[Wednesday 09 March 2011] [11:08:34] &lt;pieterh&gt;        ok, and does that contain OpenPGM 5.1.113 as well?</div>
<div class="line">[Wednesday 09 March 2011] [11:08:50] &lt;Steve-o&gt;        looks like it</div>
<div class="line">[Wednesday 09 March 2011] [11:08:55] &lt;pieterh&gt;        mikko: confirm?</div>
<div class="line">[Wednesday 09 March 2011] [11:09:27] &lt;Steve-o&gt;        I can see it here: <a class="reference external" href="https://github.com/mkoppanen/zeromq2/tree/openpgm-autoconf/foreign/openpgm">https://github.com/mkoppanen/zeromq2/tree/openpgm-autoconf/foreign/openpgm</a></div>
<div class="line">[Wednesday 09 March 2011] [11:15:21] &lt;mikko&gt;  pieterh: sorry, slightly tied up</div>
<div class="line">[Wednesday 09 March 2011] [11:15:24] &lt;mikko&gt;  will be back in 10 mins</div>
<div class="line">[Wednesday 09 March 2011] [11:15:45] &lt;pieterh&gt;        mikko: np, I&#8217;m checking the changes you guys made so far</div>
<div class="line">[Wednesday 09 March 2011] [11:16:51] &lt;mikko&gt;  pieterh: majority of the changes are in configure.in</div>
<div class="line">[Wednesday 09 March 2011] [11:17:03] &lt;mikko&gt;  pieterh: there might be some unrelated changes in that branch as well</div>
<div class="line">[Wednesday 09 March 2011] [11:17:07] &lt;pieterh&gt;        so it&#8217;s Makefile.am, configure.in, and a new OpenPGM package in foreign</div>
<div class="line">[Wednesday 09 March 2011] [11:17:16] &lt;mikko&gt;  yes, roughly that</div>
<div class="line">[Wednesday 09 March 2011] [11:17:22]   * pieterh needs precise, precise</div>
<div class="line">[Wednesday 09 March 2011] [11:17:29] &lt;pieterh&gt;        this is going into the stable 2.1 release :-)</div>
<div class="line">[Wednesday 09 March 2011] [11:17:31] &lt;pieterh&gt;        no hurry...</div>
<div class="line">[Wednesday 09 March 2011] [11:17:42] &lt;mikko&gt;  pieterh: i can create a pull request?</div>
<div class="line">[Wednesday 09 March 2011] [11:17:46] &lt;mikko&gt;  with the exact changes</div>
<div class="line">[Wednesday 09 March 2011] [11:17:55] &lt;pieterh&gt;        hmm, yes, that would be perfect</div>
<div class="line">[Wednesday 09 March 2011] [11:18:30] &lt;pieterh&gt;        i&#8217;ve cloned your repo, refreshed both master and openpgm-autoconf branches from the source master</div>
<div class="line">[Wednesday 09 March 2011] [11:18:34] &lt;pieterh&gt;        no conflicts, all clean</div>
<div class="line">[Wednesday 09 March 2011] [11:19:02] &lt;pieterh&gt;        mikko: to here, please: <a class="reference external" href="https://github.com/zeromq/zeromq2-1">https://github.com/zeromq/zeromq2-1</a></div>
<div class="line">[Wednesday 09 March 2011] [11:19:04] &lt;mikko&gt;  does it build &#8211;with-pgm for you?</div>
<div class="line">[Wednesday 09 March 2011] [11:19:07] &lt;mikko&gt;  pieterh: sure</div>
<div class="line">[Wednesday 09 March 2011] [11:19:17] &lt;pieterh&gt;        mikko: let me assert that, 30 seconds...</div>
<div class="line">[Wednesday 09 March 2011] [11:21:01] &lt;pieterh&gt;        mikko: that seems to work, one or two warnings/errors</div>
<div class="line">[Wednesday 09 March 2011] [11:21:02] &lt;pieterh&gt;        configure.ac:7: installing <a href="#id73"><span class="problematic" id="id74">`</span></a>./missing&#8217;</div>
<div class="line">[Wednesday 09 March 2011] [11:21:03] &lt;pieterh&gt;        Makefile.am: installing <a href="#id75"><span class="problematic" id="id76">`</span></a>./depcomp&#8217;</div>
<div class="line">[Wednesday 09 March 2011] [11:21:03] &lt;pieterh&gt;        mkdir: cannot create directory <a href="#id77"><span class="problematic" id="id78">`</span></a>foreign/openpgm/build-staging/config&#8217;: No such file or directory</div>
<div class="line">[Wednesday 09 March 2011] [11:21:15] &lt;pieterh&gt;        however it completes</div>
<div class="line">[Wednesday 09 March 2011] [11:21:34] &lt;pieterh&gt;        and it builds... :-)</div>
<div class="line">[Wednesday 09 March 2011] [11:22:13] &lt;pieterh&gt;        I&#8217;m on Ubuntu 10.10 fwiw</div>
<div class="line">[Wednesday 09 March 2011] [11:22:21] &lt;mikko&gt;  pieterh: might be some of the changes i was trying out</div>
<div class="line">[Wednesday 09 March 2011] [11:22:36] &lt;mikko&gt;  pieterh: will clean up and send pull request against zeromq2-1</div>
<div class="line">[Wednesday 09 March 2011] [11:22:40] &lt;pieterh&gt;        ack</div>
<div class="line">[Wednesday 09 March 2011] [11:22:59] &lt;pieterh&gt;        afaics this is the last piece for 2.1 stable</div>
<div class="line">[Wednesday 09 March 2011] [11:23:16] &lt;mikko&gt;  this is a major improvement</div>
<div class="line">[Wednesday 09 March 2011] [11:23:19] &lt;mikko&gt;  i think</div>
<div class="line">[Wednesday 09 March 2011] [11:23:28] &lt;Steve-o&gt;        the autoconf in 2.1rc2 is terrible</div>
<div class="line">[Wednesday 09 March 2011] [11:23:41] &lt;mikko&gt;  also &#8211;with-pgm=libpgm-5.1.113~dfsg works</div>
<div class="line">[Wednesday 09 March 2011] [11:23:46] &lt;mikko&gt;  Steve-o: zeromq?</div>
<div class="line">[Wednesday 09 March 2011] [11:24:08] &lt;Steve-o&gt;        mikko: before your autoconf changes</div>
<div class="line">[Wednesday 09 March 2011] [11:24:20] &lt;mikko&gt;  oh, i thought that after them :D</div>
<div class="line">[Wednesday 09 March 2011] [11:25:10] &lt;pieterh&gt;        I&#8217;m going to rapidly double-check that 2.2 source builds on win32</div>
<div class="line">[Wednesday 09 March 2011] [11:25:26] &lt;Steve-o&gt;        and win64</div>
<div class="line">[Wednesday 09 March 2011] [11:25:41] &lt;pieterh&gt;        don&#8217;t have win64... :-/</div>
<div class="line">[Wednesday 09 March 2011] [11:25:46] &lt;pieterh&gt;        actually, :-)</div>
<div class="line">[Wednesday 09 March 2011] [11:26:41] &lt;Steve-o&gt;        ok, was wondering if you can get away with just installing sdk 7.1 for the 64-bit compiler</div>
<div class="line">[Wednesday 09 March 2011] [11:27:05] &lt;mikko&gt;  pieterh: amazon!</div>
<div class="line">[Wednesday 09 March 2011] [11:27:10] &lt;mikko&gt;  ec2 has windows</div>
<div class="line">[Wednesday 09 March 2011] [11:27:45] &lt;pieterh&gt;        oh, I just want to see if 7b95c5920c3318935b8cd8f3591cd5c65509f819 worked</div>
<div class="line">[Wednesday 09 March 2011] [11:30:40] &lt;Steve-o&gt;        ok, catch you all tomorrow</div>
<div class="line">[Wednesday 09 March 2011] [11:32:03] &lt;mikko&gt;  see you tomorrow</div>
<div class="line">[Wednesday 09 March 2011] [11:34:09] &lt;pieterh&gt;        bye Steve-o</div>
<div class="line">[Wednesday 09 March 2011] [11:45:09] &lt;pieterh&gt;        mikko, I&#8217;ll just double-check that all your changes so far work on 2.1</div>
<div class="line">[Wednesday 09 March 2011] [11:51:08] &lt;private_meta&gt;   pieterh: What&#8217;s &#8220;EFSM&#8221; an abbreviation for?</div>
<div class="line">[Wednesday 09 March 2011] [12:02:49] &lt;private_meta&gt;   pieterh: <a class="reference external" href="http://zguide.zeromq.org/page:all#toc67">http://zguide.zeromq.org/page:all#toc67</a> second point in the first list, typo, &#8220;if no reply arrived&#8221;</div>
<div class="line">[Wednesday 09 March 2011] [12:03:52] &lt;guido_g&gt;        req sockets are state-bound</div>
<div class="line">[Wednesday 09 March 2011] [12:04:21] &lt;guido_g&gt;        so if try to recv before a send, you get this error</div>
<div class="line">[Wednesday 09 March 2011] [12:04:26] &lt;guido_g&gt;        <a href="#id79"><span class="problematic" id="id80">*</span></a>if you</div>
<div class="line">[Wednesday 09 March 2011] [12:05:44] &lt;private_meta&gt;   ah ok, but what does EFSM actually stand for, as an abbreviation?</div>
<div class="line">[Wednesday 09 March 2011] [12:06:06] &lt;guido_g&gt;        FSM := finite state machine</div>
<div class="line">[Wednesday 09 March 2011] [12:06:12] &lt;guido_g&gt;        E stands for error</div>
<div class="line">[Wednesday 09 March 2011] [12:06:56] &lt;jfkw&gt;   New to zeromq, mq&#8217;s in general, planning to use zeromq for remote-sites to home office replicator/aggregator.</div>
<div class="line">[Wednesday 09 March 2011] [12:07:37] &lt;jfkw&gt;   Got a question about integrating pgmq (AQMP, STOMP, OpenWire) as one of the endpoints.</div>
<div class="line">[Wednesday 09 March 2011] [12:07:53] &lt;jfkw&gt;   &#8220;PGMQ embeds messaging directly into PostgreSQL so that committed tuples can be published to message queues via various popular messaging protocols (AMQP, STOMP, OpenWire). Supports ActiveMQ (STOMP, OpenWire) and any transport supporting AMQP.&#8221;</div>
<div class="line">[Wednesday 09 March 2011] [12:08:27] &lt;private_meta&gt;   guido_g: so, the behavior of REQ Sockets can be viewed as a finite state machine where a reply can only come after a request, that is why it&#8217;s called that?</div>
<div class="line">[Wednesday 09 March 2011] [12:09:25] &lt;guido_g&gt;        <a class="reference external" href="http://api.zeromq.org/2-1-2:zmq-socket">http://api.zeromq.org/2-1-2:zmq-socket</a> ZMQ_REQ</div>
<div class="line">[Wednesday 09 March 2011] [12:09:27] &lt;jfkw&gt;   Would the application here be to read from zeromq, and have pgmq report on successful commits, removing messages as committed?</div>
<div class="line">[Wednesday 09 March 2011] [12:11:11] &lt;private_meta&gt;   ah, i knew that, i was only curious about the naming</div>
<div class="line">[Wednesday 09 March 2011] [12:11:41] &lt;pieterh&gt;        re</div>
<div class="line">[Wednesday 09 March 2011] [12:11:46] &lt;guido_g&gt;        wb</div>
<div class="line">[Wednesday 09 March 2011] [12:11:54] &lt;pieterh&gt;        private_meta: I&#8217;ll clarify what EFSM means</div>
<div class="line">[Wednesday 09 March 2011] [12:12:37] &lt;pieterh&gt;        jfkw: sound fine, bridging is classic way to mix different messaging technologies</div>
<div class="line">[Wednesday 09 March 2011] [12:14:36]   * pieterh wants to write one more protocol spec, PGBF/0.1</div>
<div class="line">[Wednesday 09 March 2011] [12:14:47] &lt;pieterh&gt;        hi guido_g :-)</div>
<div class="line">[Wednesday 09 March 2011] [12:15:17] &lt;guido_g&gt;        pieterh: i&#8217;ve nothing to complain about today ,)</div>
<div class="line">[Wednesday 09 March 2011] [12:15:28] &lt;pieterh&gt;        me neither... weird...</div>
<div class="line">[Wednesday 09 March 2011] [12:17:01]   * guido_g is bringing his c++ zmq code in shape</div>
<div class="line">[Wednesday 09 March 2011] [12:17:36] &lt;private_meta&gt;   pieterh: should I tell you C guide typos (e.g. in commentaries) here or should I add that to the next patch?</div>
<div class="line">[Wednesday 09 March 2011] [12:17:59] &lt;pieterh&gt;        typos in the C code?</div>
<div class="line">[Wednesday 09 March 2011] [12:18:34] &lt;pieterh&gt;        either make an issue, or a patch, as you prefer</div>
<div class="line">[Wednesday 09 March 2011] [12:19:05] &lt;private_meta&gt;   It&#8217;s just a typo in the commentary, no need to make an issue... and I will have another patch soon I guess, I&#8217;ll just add it</div>
<div class="line">[Wednesday 09 March 2011] [12:19:14] &lt;pieterh&gt;        or just tell me now by irc</div>
<div class="line">[Wednesday 09 March 2011] [12:20:31] &lt;private_meta&gt;   lpclient.c, in the header commentary you say to start piserver, but there&#8217;s no piserver, shouldn&#8217;t it be lpserver?</div>
<div class="line">[Wednesday 09 March 2011] [12:20:52] &lt;pieterh&gt;        indeed, I renamed pi* to lp* at some point, thanks</div>
<div class="line">[Wednesday 09 March 2011] [12:20:56] &lt;pieterh&gt;        will fix it now</div>
<div class="line">[Wednesday 09 March 2011] [12:22:10] &lt;private_meta&gt;   pieterh: in the C++ folder, there still is a file called &#8220;piclient.cpp&#8221;</div>
<div class="line">[Wednesday 09 March 2011] [12:22:31] &lt;pieterh&gt;        mikko: fyi I&#8217;ve patched 0MQ/2.1 with diffs from master..openpgm-autoconf, it builds nicely</div>
<div class="line">[Wednesday 09 March 2011] [12:22:36] &lt;private_meta&gt;   and piqueue</div>
<div class="line">[Wednesday 09 March 2011] [12:22:44] &lt;pieterh&gt;        private_meta: hmm, probably in all the example folders, let me remove all those then</div>
<div class="line">[Wednesday 09 March 2011] [12:22:45] &lt;pieterh&gt;        thanks</div>
<div class="line">[Wednesday 09 March 2011] [12:23:07] &lt;private_meta&gt;   yes, they are in least one other example folder as well</div>
<div class="line">[Wednesday 09 March 2011] [12:23:18] &lt;pieterh&gt;        these stubs get generated automatically</div>
<div class="line">[Wednesday 09 March 2011] [12:23:31] &lt;private_meta&gt;   They weren&#8217;t deleted at rename properly</div>
<div class="line">[Wednesday 09 March 2011] [12:23:32] &lt;private_meta&gt;   ?</div>
<div class="line">[Wednesday 09 March 2011] [12:23:58] &lt;private_meta&gt;   Well, not important</div>
<div class="line">[Wednesday 09 March 2011] [12:24:26] &lt;pieterh&gt;        private_meta: when someone builds a tool that lets me build the Guide, I&#8217;ll use it... :-)</div>
<div class="line">[Wednesday 09 March 2011] [12:24:37] &lt;pieterh&gt;        until then, it&#8217;s an artistic process...</div>
<div class="line">[Wednesday 09 March 2011] [12:24:54] &lt;private_meta&gt;   pieterh: I wasn&#8217;t complaining ;)</div>
<div class="line">[Wednesday 09 March 2011] [12:25:17] &lt;pieterh&gt;        nah, I know, I meant some things just require manual work</div>
<div class="line">[Wednesday 09 March 2011] [12:25:22] &lt;pieterh&gt;        they&#8217;re gone now...</div>
<div class="line">[Wednesday 09 March 2011] [12:25:34] &lt;pieterh&gt;        the hard thing isn&#8217;t doing the work, it&#8217;s just realizing it needs done</div>
<div class="line">[Wednesday 09 March 2011] [12:25:40] &lt;pieterh&gt;        so thanks :-)</div>
<div class="line">[Wednesday 09 March 2011] [12:26:02] &lt;mikko&gt;  pieterh: nice!</div>
<div class="line">[Wednesday 09 March 2011] [12:26:22] &lt;mikko&gt;  pieterh: i will try to make sure that the changes are correct</div>
<div class="line">[Wednesday 09 March 2011] [12:26:25] &lt;pieterh&gt;        mikko: I&#8217;ll reset it all now and wait for your pull request</div>
<div class="line">[Wednesday 09 March 2011] [12:26:50] &lt;mikko&gt;  i&#8217;ll try today</div>
<div class="line">[Wednesday 09 March 2011] [12:26:50] &lt;pieterh&gt;        after that I&#8217;ll post a test .tar.gz so we can double-check it <em>really</em> works</div>
<div class="line">[Wednesday 09 March 2011] [12:26:52] &lt;mikko&gt;  been a crazy day</div>
<div class="line">[Wednesday 09 March 2011] [12:26:54] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 09 March 2011] [12:27:01] &lt;private_meta&gt;   pieterh: do you use Wikidot as is?</div>
<div class="line">[Wednesday 09 March 2011] [12:27:19] &lt;pieterh&gt;        private_meta: I spent several years making Wikidot a lot nicer to use</div>
<div class="line">[Wednesday 09 March 2011] [12:27:29] &lt;pieterh&gt;        most of that work is on <a class="reference external" href="http://irongiant.wikidot.com">http://irongiant.wikidot.com</a></div>
<div class="line">[Wednesday 09 March 2011] [12:27:45] &lt;jfkw&gt;   Is there an overview of zeromq built-in support for communicating with any of (AMQP, STOMP, OpenWire)? Most search results discuss &#8216;vs.&#8217; not &#8216;with&#8217;.</div>
<div class="line">[Wednesday 09 March 2011] [12:27:58] &lt;pieterh&gt;        jfkw: there is no such support</div>
<div class="line">[Wednesday 09 March 2011] [12:28:11] &lt;pieterh&gt;        &#8220;feel free to submit a patch&#8221; is the motto of this community</div>
<div class="line">[Wednesday 09 March 2011] [12:28:20] &lt;private_meta&gt;   pieterh: just thought it might be nice if you could switch to a different language viewing of a guide example IN the example page without github redirect</div>
<div class="line">[Wednesday 09 March 2011] [12:28:27] &lt;private_meta&gt;   but I don&#8217;t know if that&#8217;s hard to do</div>
<div class="line">[Wednesday 09 March 2011] [12:28:48] &lt;pieterh&gt;        private_meta: ... it can be done</div>
<div class="line">[Wednesday 09 March 2011] [12:28:52] &lt;private_meta&gt;   like, click on C++ and the example viewed in there is C++ instead of C</div>
<div class="line">[Wednesday 09 March 2011] [12:29:08] &lt;pieterh&gt;        but it needs translation of the examples to be more complete</div>
<div class="line">[Wednesday 09 March 2011] [12:29:49] &lt;pieterh&gt;        there are some tricks that can be used...</div>
<div class="line">[Wednesday 09 March 2011] [12:29:52] &lt;private_meta&gt;   hmm... You already mark the examples translated by printing the language binding name in bold, so only allowing the bold ones to be selected might be a solution there</div>
<div class="line">[Wednesday 09 March 2011] [12:29:57] &lt;private_meta&gt;   but, it&#8217;s just a nice to have</div>
<div class="line">[Wednesday 09 March 2011] [12:29:59] &lt;pieterh&gt;        it&#8217;s not that simple...</div>
<div class="line">[Wednesday 09 March 2011] [12:30:24] &lt;pieterh&gt;        first problem is that currently the C code is included inline in the page</div>
<div class="line">[Wednesday 09 March 2011] [12:30:43] &lt;pieterh&gt;        including every language would make the pages (much) too large</div>
<div class="line">[Wednesday 09 March 2011] [12:30:55] &lt;pieterh&gt;        so it means moving examples to their own page</div>
<div class="line">[Wednesday 09 March 2011] [12:31:04] &lt;private_meta&gt;   Not necessarily</div>
<div class="line">[Wednesday 09 March 2011] [12:31:07] &lt;pieterh&gt;        that could be nice anyhow, it would avoid githubbing</div>
<div class="line">[Wednesday 09 March 2011] [12:31:11] &lt;pieterh&gt;        yes, necessarily</div>
<div class="line">[Wednesday 09 March 2011] [12:31:26] &lt;private_meta&gt;   Using Javascript you could replace text in certain places</div>
<div class="line">[Wednesday 09 March 2011] [12:31:54] &lt;pieterh&gt;        I&#8217;m not even going to think about writing Javascript</div>
<div class="line">[Wednesday 09 March 2011] [12:32:31] &lt;private_meta&gt;   Well, the Page is already using Javascript in the Language hide/show button</div>
<div class="line">[Wednesday 09 March 2011] [12:33:03] &lt;private_meta&gt;   The advantage of using js there I guess would be to avoid having to reload the page</div>
<div class="line">[Wednesday 09 March 2011] [12:33:08] &lt;pieterh&gt;        Just because you cross a river on a bridge that someone built does not mean you want to build bridges</div>
<div class="line">[Wednesday 09 March 2011] [12:33:15] &lt;private_meta&gt;   haha</div>
<div class="line">[Wednesday 09 March 2011] [12:33:33] &lt;pieterh&gt;        one of the <em>great</em> benefits of Wikidot is precisely that I do not write HTML or JS</div>
<div class="line">[Wednesday 09 March 2011] [12:33:43] &lt;pieterh&gt;        I write text, which magically appears</div>
<div class="line">[Wednesday 09 March 2011] [12:34:01] &lt;pieterh&gt;        second problem is just visualization, Wikidot has a limited set of options</div>
<div class="line">[Wednesday 09 March 2011] [12:34:12] &lt;pieterh&gt;        collapse/hide, hyperlink</div>
<div class="line">[Wednesday 09 March 2011] [12:34:52] &lt;private_meta&gt;   So it would be changing a core feature</div>
<div class="line">[Wednesday 09 March 2011] [12:36:27] &lt;lt_schmidt_jr&gt;  Should I expect to need a separate zmq libary compilation for AMD x64 as opposed to intel?</div>
<div class="line">[Wednesday 09 March 2011] [12:36:44] &lt;pieterh&gt;        private_meta: if it takes more than 1 hour, it&#8217;s out of scope</div>
<div class="line">[Wednesday 09 March 2011] [12:36:59] &lt;pieterh&gt;        lt_schmidt_jr: don&#8217;t think so, depends on the compiler</div>
<div class="line">[Wednesday 09 March 2011] [12:37:36] &lt;lt_schmidt_jr&gt;  pieterh: thank you, I will give it a whirl</div>
<div class="line">[Wednesday 09 March 2011] [12:38:10] &lt;pieterh&gt;        private_meta: what I&#8217;ll think about is publishing the code examples on their own pages, so they are easier to look at</div>
<div class="line">[Wednesday 09 March 2011] [12:38:23] &lt;pieterh&gt;        and then at least showing those in new tabs when you click on them</div>
<div class="line">[Wednesday 09 March 2011] [12:38:50] &lt;pieterh&gt;        then it&#8217;s possible to do collapsible blocks that include each language</div>
<div class="line">[Wednesday 09 March 2011] [12:42:39] &lt;private_meta&gt;   hmm</div>
<div class="line">[Wednesday 09 March 2011] [12:42:55] &lt;private_meta&gt;   I removed the git repo and made a new clone and the new updates weren&#8217;t in there :/</div>
<div class="line">[Wednesday 09 March 2011] [12:44:41] &lt;private_meta&gt;   pieterh: so WHAT of my changes did you put into the repository?</div>
<div class="line">[Wednesday 09 March 2011] [12:45:01] &lt;pieterh&gt;        private_meta: all of them, maybe I forgot to push, let me check</div>
<div class="line">[Wednesday 09 March 2011] [12:45:57] &lt;pieterh&gt;        private_meta: <a class="reference external" href="https://github.com/imatix/zguide/commit/62cae9ab3412065dabfcdb7bd227e00f43ccd066">https://github.com/imatix/zguide/commit/62cae9ab3412065dabfcdb7bd227e00f43ccd066</a></div>
<div class="line">[Wednesday 09 March 2011] [12:46:22] &lt;pieterh&gt;        all done, 3 hours ago</div>
<div class="line">[Wednesday 09 March 2011] [12:46:44] &lt;pieterh&gt;        I&#8217;ll make a fresh clone to double-check</div>
<div class="line">[Wednesday 09 March 2011] [12:46:57] &lt;private_meta&gt;   pieterh: according to my patch file:  20 files changed, 217 insertions(+), 166 deletions(-)</div>
<div class="line">[Wednesday 09 March 2011] [12:47:10] &lt;private_meta&gt;   According to your commit, Showing 2 changed files with 8 additions and 10 deletions.</div>
<div class="line">[Wednesday 09 March 2011] [12:47:51] &lt;pieterh&gt;        ah, indeed... :-(</div>
<div class="line">[Wednesday 09 March 2011] [12:48:08] &lt;pieterh&gt;        &lt;insert expletive&gt;</div>
<div class="line">[Wednesday 09 March 2011] [12:48:16] &lt;pieterh&gt;        give me 4 minutes...</div>
<div class="line">[Wednesday 09 March 2011] [12:48:23] &lt;private_meta&gt;   sure, take your time</div>
<div class="line">[Wednesday 09 March 2011] [12:50:47] &lt;pieterh&gt;        private_meta: for some reason the patches to lpclient.c and lpserver.c came with ^M line endings</div>
<div class="line">[Wednesday 09 March 2011] [12:51:04] &lt;pieterh&gt;        you edited those two files on Windows and then copied them to your virtual machine?</div>
<div class="line">[Wednesday 09 March 2011] [12:51:15] &lt;private_meta&gt;   hmm...</div>
<div class="line">[Wednesday 09 March 2011] [12:51:19] &lt;pieterh&gt;        I just see that now, in vim</div>
<div class="line">[Wednesday 09 March 2011] [12:51:34] &lt;pieterh&gt;        so your patch failed on those two files, I fixed them, committed them, and the rest were lost</div>
<div class="line">[Wednesday 09 March 2011] [12:51:43] &lt;private_meta&gt;   I don&#8217;t know</div>
<div class="line">[Wednesday 09 March 2011] [12:51:57] &lt;private_meta&gt;   might be possible</div>
<div class="line">[Wednesday 09 March 2011] [12:52:00] &lt;pieterh&gt;        probably some feature of your Eclipse gui :-)</div>
<div class="line">[Wednesday 09 March 2011] [12:52:20] &lt;pieterh&gt;        anyhow, that&#8217;s the autopsy</div>
<div class="line">[Wednesday 09 March 2011] [12:52:30] &lt;private_meta&gt;   shouldn&#8217;t have happenend</div>
<div class="line">[Wednesday 09 March 2011] [12:52:33] &lt;private_meta&gt;   happened</div>
<div class="line">[Wednesday 09 March 2011] [12:52:49] &lt;pieterh&gt;        Windows should never have happened, indeed</div>
<div class="line">[Wednesday 09 March 2011] [12:52:56] &lt;pieterh&gt;        we live with the consequences...</div>
<div class="line">[Wednesday 09 March 2011] [12:53:18] &lt;pieterh&gt;        the illegitimate child of CP/M and too much weed</div>
<div class="line">[Wednesday 09 March 2011] [12:54:46] &lt;pieterh&gt;        private_meta: ok, re-clone now, it&#8217;ll be good</div>
<div class="line">[Wednesday 09 March 2011] [12:55:16] &lt;private_meta&gt;   k</div>
<div class="line">[Wednesday 09 March 2011] [12:55:43] &lt;private_meta&gt;   good</div>
<div class="line">[Wednesday 09 March 2011] [13:37:13] &lt;Eruquen&gt;        how would I translate socklisten; while (1) { sockaccept; fork, work and communicate with client; } to zmq? further communication between clients and workers could consist of a single reply or a stream of multiple replies, sometimes requiring input from clients. clients could disconnect along the way and reconnect later. no data should be lost.</div>
<div class="line">[Wednesday 09 March 2011] [13:39:30] &lt;pieterh&gt;        Eruquen: have you read the Guide yet?</div>
<div class="line">[Wednesday 09 March 2011] [13:42:10] &lt;Eruquen&gt;        not completely.. I&#8217;m working through the patterns right now. it all makes sense but it also makes my head explode</div>
<div class="line">[Wednesday 09 March 2011] [13:43:02] &lt;pieterh&gt;        take your time</div>
<div class="line">[Wednesday 09 March 2011] [14:07:21] &lt;Guthur&gt; would polling on an inproc socket use similar mechanisms in the 0MQ engine?</div>
<div class="line">[Wednesday 09 March 2011] [14:15:19] &lt;Guthur&gt; ah ha</div>
<div class="line">[Wednesday 09 March 2011] [14:15:39] &lt;Guthur&gt; I think I may have isolated the problem with clrzmq2 on Mono on linux</div>
<div class="line">[Wednesday 09 March 2011] [14:16:06] &lt;Guthur&gt; it would appear to be something to do with Mono&#8217;s implementation of threads</div>
<div class="line">[Wednesday 09 March 2011] [14:16:36] &lt;Guthur&gt; remove the threading stuff and there is no exceptions</div>
<div class="line">[Wednesday 09 March 2011] [14:23:46] &lt;devinus&gt;        can somebody explain to me the difference between zeromq and rabbitmq?</div>
<div class="line">[Wednesday 09 March 2011] [14:25:45] &lt;cremes&gt; pieterh: just saw your note on the ML about critical issues for the next release</div>
<div class="line">[Wednesday 09 March 2011] [14:25:47] &lt;cremes&gt; <a class="reference external" href="https://github.com/zeromq/zeromq2/issues#issue/174">https://github.com/zeromq/zeromq2/issues#issue/174</a></div>
<div class="line">[Wednesday 09 March 2011] [14:26:01] &lt;cremes&gt; looks like another user was able to confirm on a different linux (ubuntu)</div>
<div class="line">[Wednesday 09 March 2011] [14:26:24] &lt;cremes&gt; i&#8217;ll do what i can to help get this fixed</div>
<div class="line">[Wednesday 09 March 2011] [15:01:13] &lt;Guthur&gt; devinus, <a class="reference external" href="http://www.zeromq.org/whitepapers:brokerless">http://www.zeromq.org/whitepapers:brokerless</a></div>
<div class="line">[Wednesday 09 March 2011] [15:02:48] &lt;devinus&gt;        Guthur: thanks</div>
<div class="line">[Wednesday 09 March 2011] [16:33:51] &lt;Guthur&gt; binding authors, any recommendation on dealing with EINTR...</div>
<div class="line">[Wednesday 09 March 2011] [16:34:13] &lt;Guthur&gt; add logic to the binding code, or leave it to the user to catch and deal with</div>
<div class="line">[Wednesday 09 March 2011] [17:15:35] &lt;lt_schmidt_jr&gt;  Hi, what version of Visual Studio is expected to work for ZMQ compilation?</div>
<div class="line">[Wednesday 09 March 2011] [17:15:50] &lt;lt_schmidt_jr&gt;  Should Visual Studio 2008 suffice?</div>
<div class="line">[Wednesday 09 March 2011] [17:17:08] &lt;Guthur&gt; lt_schmidt_jr, I think it should be</div>
<div class="line">[Wednesday 09 March 2011] [17:17:27] &lt;lt_schmidt_jr&gt;  thank you</div>
<div class="line">[Wednesday 09 March 2011] [17:17:37] &lt;Guthur&gt; the solution file says version 10</div>
<div class="line">[Wednesday 09 March 2011] [17:17:40] &lt;Guthur&gt; with is 2008</div>
<div class="line">[Wednesday 09 March 2011] [17:17:50] &lt;lt_schmidt_jr&gt;  ah, great</div>
<div class="line">[Wednesday 09 March 2011] [17:17:58] &lt;Guthur&gt; I think it was created by visual studio 2008 express</div>
<div class="line">[Wednesday 09 March 2011] [17:18:23] &lt;Guthur&gt; studio/c++</div>
<div class="line">[Wednesday 09 March 2011] [17:18:28] &lt;lt_schmidt_jr&gt;  ah, so it should work with the express version,  excellent</div>
<div class="line">[Wednesday 09 March 2011] [23:04:20] &lt;<a href="#id263"><span class="problematic" id="id264">qw_</span></a>&gt;    The 2nd video on <a class="reference external" href="http://www.zeromq.org/intro:read-the-manual">http://www.zeromq.org/intro:read-the-manual</a> has left channel audio problem</div>
<div class="line">[Wednesday 09 March 2011] [23:05:49] &lt;Steve-o&gt;        yup</div>
<div class="line">[Wednesday 09 March 2011] [23:05:59] &lt;Steve-o&gt;        could do with a filtering</div>
<div class="line">[Wednesday 09 March 2011] [23:08:16] &lt;<a href="#id265"><span class="problematic" id="id266">qw_</span></a>&gt;    the top video was excellent</div>
<div class="line">[Wednesday 09 March 2011] [23:10:09] &lt;Steve-o&gt;        prod pieter when he&#8217;s online later</div>
<div class="line">[Thursday 10 March 2011] [00:58:51] &lt;notostraca&gt;      agh...  I am trying to get lua to work with 0MQ, to no avail.</div>
<div class="line">[Thursday 10 March 2011] [00:59:12] &lt;notostraca&gt;      I am on Windows 7 64-bit</div>
<div class="line">[Thursday 10 March 2011] [00:59:50] &lt;notostraca&gt;      and I am not quite sure how to install the compiled libzmq dlls so that luarocks and/or cmake can find them</div>
<div class="line">[Thursday 10 March 2011] [01:00:09] &lt;notostraca&gt;      Has anyone gotten lua to work with 0MQ on windows?</div>
<div class="line">[Thursday 10 March 2011] [02:26:14] &lt;datuanmac&gt;       hello</div>
<div class="line">[Thursday 10 March 2011] [02:26:38] &lt;rem7&gt;    I was going over the guide, and on the topic of multithreading it says that you should  create a context and pass that to the threads... but down in chapter 3 some of the examples are creating a context in their own threads... whats up with that?</div>
<div class="line">[Thursday 10 March 2011] [02:29:01] &lt;guido_g&gt; here the threads stand for processes</div>
<div class="line">[Thursday 10 March 2011] [02:29:51] &lt;datuanmac&gt;       can you send to me link chapter 3 to refer ?</div>
<div class="line">[Thursday 10 March 2011] [02:30:26] &lt;guido_g&gt; rem7: the rule for real applications is: one context per process</div>
<div class="line">[Thursday 10 March 2011] [02:31:16] &lt;rem7&gt;    so if I&#8217;m not going to use inproc in the same application, its safe to create a context in every thread...?</div>
<div class="line">[Thursday 10 March 2011] [02:31:52] &lt;guido_g&gt; rem7: the rule for real applications is: one context per process</div>
<div class="line">[Thursday 10 March 2011] [02:34:02] &lt;rem7&gt;    ... confused... define process?</div>
<div class="line">[Thursday 10 March 2011] [02:34:55] &lt;guido_g&gt; not thread, a process</div>
<div class="line">[Thursday 10 March 2011] [02:35:01] &lt;uhu&gt;     process == task</div>
<div class="line">[Thursday 10 March 2011] [02:36:27] &lt;guido_g&gt; <a class="reference external" href="http://en.wikipedia.org/wiki/Process_(computing">http://en.wikipedia.org/wiki/Process_(computing</a>)   &lt;- learn the basics</div>
<div class="line">[Thursday 10 March 2011] [02:38:29] &lt;rem7&gt;    re-wording from the first paragraph then... one context per application instance.</div>
<div class="line">[Thursday 10 March 2011] [02:39:34] &lt;uhu&gt;     hi didn&#8217;t know : a thread is part of a process/task</div>
<div class="line">[Thursday 10 March 2011] [02:39:48] &lt;guido_g&gt; omg</div>
<div class="line">[Thursday 10 March 2011] [02:41:20] &lt;rem7&gt;    lol</div>
<div class="line">[Thursday 10 March 2011] [02:42:21] &lt;datuan&gt;  Are you integrate with system ?</div>
<div class="line">[Thursday 10 March 2011] [02:50:40] &lt;uhu&gt;     system() or system</div>
<div class="line">[Thursday 10 March 2011] [03:01:02] &lt;datuan&gt;  system</div>
<div class="line">[Thursday 10 March 2011] [03:49:06] &lt;larhat&gt;  Hi, folks! Is it possible to implement zeromq as native library in some language and not as language bindings? i.e. implement zero-mq protocol on top of wrapped sockets. I thinks, it&#8217;s possible, but i don&#8217;t see any attempts to do it. am i missing smth?</div>
<div class="line">[Thursday 10 March 2011] [03:50:03] &lt;guido_g&gt; zeromq is mostly the high-speed implementation of the existing library</div>
<div class="line">[Thursday 10 March 2011] [03:51:47] &lt;guido_g&gt; the network-framing is described somewhere on zeromq.org</div>
<div class="line">[Thursday 10 March 2011] [03:52:57] &lt;guido_g&gt; i doubt that new implementations will comme close to the performance of this implementation in the foreseeable future</div>
<div class="line">[Thursday 10 March 2011] [03:55:21] &lt;larhat&gt;  so, there isn&#8217;t native library because it&#8217;s not needed?</div>
<div class="line">[Thursday 10 March 2011] [03:56:13] &lt;guido_g&gt; native to what?</div>
<div class="line">[Thursday 10 March 2011] [03:56:41] &lt;larhat&gt;  &#8220;native&#8221;, yes. native to some language (ocaml, python, etc. )</div>
<div class="line">[Thursday 10 March 2011] [03:56:57] &lt;guido_g&gt; ah, no wouldn&#8217;t make sense</div>
<div class="line">[Thursday 10 March 2011] [03:57:06] &lt;guido_g&gt; consider how slow this would be</div>
<div class="line">[Thursday 10 March 2011] [03:57:18] &lt;guido_g&gt; and how much trouble to maintain</div>
<div class="line">[Thursday 10 March 2011] [03:58:59] &lt;Guthur&gt;  larhat: atm imo, zeromq is quite a good to produce a binding for</div>
<div class="line">[Thursday 10 March 2011] [03:59:09] &lt;Guthur&gt;  quite a/quite</div>
<div class="line">[Thursday 10 March 2011] [03:59:27] &lt;guido_g&gt; thanks to the simple c api</div>
<div class="line">[Thursday 10 March 2011] [03:59:33] &lt;Guthur&gt;  indeed</div>
<div class="line">[Thursday 10 March 2011] [03:59:53] &lt;guido_g&gt; i&#8217;m even tempted to use the c api in c++, much easier</div>
<div class="line">[Thursday 10 March 2011] [04:00:12] &lt;Guthur&gt;  which means there would very little to be gained from implementing in another language</div>
<div class="line">[Thursday 10 March 2011] [04:06:22] &lt;Guthur&gt;  At the weekend I had a strange notion of implementing a zeromq system in C++</div>
<div class="line">[Thursday 10 March 2011] [04:06:40] &lt;Guthur&gt;  I soon realised live is too short for such pain</div>
<div class="line">[Thursday 10 March 2011] [04:06:45] &lt;Guthur&gt;  life*</div>
<div class="line">[Thursday 10 March 2011] [04:14:35] &lt;uhu&gt;     anyone here, who has exp. with smartsockets (talarian/Tibco)</div>
<div class="line">[Thursday 10 March 2011] [04:15:10] &lt;Steve-o&gt; I&#8217;ve heard of them</div>
<div class="line">[Thursday 10 March 2011] [04:15:16] &lt;uhu&gt;     need pro/cons for discussion next week</div>
<div class="line">[Thursday 10 March 2011] [04:15:37] &lt;Steve-o&gt; aren&#8217;t smartsockets eol?</div>
<div class="line">[Thursday 10 March 2011] [04:15:55] &lt;Steve-o&gt; smartpgm eol&#8217;ed a year or two ago</div>
<div class="line">[Thursday 10 March 2011] [04:16:42] &lt;uhu&gt;     talarian invented long times ago, later tibco bought talarian</div>
<div class="line">[Thursday 10 March 2011] [04:16:55] &lt;Steve-o&gt; I&#8217;m a former TIBCO guy :D</div>
<div class="line">[Thursday 10 March 2011] [04:17:31] &lt;uhu&gt;     u hv worked with them ?</div>
<div class="line">[Thursday 10 March 2011] [04:18:18] &lt;Steve-o&gt; I was the maintenance dev for TIB2MQ/TIB Adapter for MQ Series and Rendezvous 5</div>
<div class="line">[Thursday 10 March 2011] [04:19:01] &lt;uhu&gt;     i see</div>
<div class="line">[Thursday 10 March 2011] [04:19:17] &lt;Steve-o&gt; nobody in Finance used smartsockets though, so I never touched it</div>
<div class="line">[Thursday 10 March 2011] [04:20:12] &lt;uhu&gt;     are smartsockets not the base of the TIB ESB</div>
<div class="line">[Thursday 10 March 2011] [04:20:14] &lt;Steve-o&gt; shouldn&#8217;t your comparison be with EMS?</div>
<div class="line">[Thursday 10 March 2011] [04:20:46] &lt;uhu&gt;     just working for a big german logistics ...</div>
<div class="line">[Thursday 10 March 2011] [04:21:05] &lt;uhu&gt;     now the plan a redesign of the whole stuff</div>
<div class="line">[Thursday 10 March 2011] [04:21:22] &lt;uhu&gt;     the -&gt; they</div>
<div class="line">[Thursday 10 March 2011] [04:21:41] &lt;guido_g&gt; if you need mq know-how, i&#8217;m available :)</div>
<div class="line">[Thursday 10 March 2011] [04:21:55] &lt;Steve-o&gt; tibco ems is tibco&#8217;s jaunt to TCP comms away from multicast - <a class="reference external" href="http://www.tibco.com/products/soa/messaging/enterprise-mesage-service/default.jsp">http://www.tibco.com/products/soa/messaging/enterprise-mesage-service/default.jsp</a></div>
<div class="line">[Thursday 10 March 2011] [04:22:19] &lt;Steve-o&gt; it came before the talarian purchase I think</div>
<div class="line">[Thursday 10 March 2011] [04:23:01] &lt;uhu&gt;     our management prefer the oracle esb stuff</div>
<div class="line">[Thursday 10 March 2011] [04:23:21] &lt;uhu&gt;     but i think, they don&#8217;t know what they talking about</div>
<div class="line">[Thursday 10 March 2011] [04:23:42] &lt;Guthur&gt;  does 0MQ run on any mainframe hardware/OS</div>
<div class="line">[Thursday 10 March 2011] [04:23:53] &lt;Steve-o&gt; s390</div>
<div class="line">[Thursday 10 March 2011] [04:24:01] &lt;Steve-o&gt; and vms</div>
<div class="line">[Thursday 10 March 2011] [04:24:03] &lt;guido_g&gt; uhu: you said it already &#8220;management&#8221;</div>
<div class="line">[Thursday 10 March 2011] [04:24:24] &lt;uhu&gt;     is there a port on HP Nonstop ???</div>
<div class="line">[Thursday 10 March 2011] [04:24:50] &lt;Steve-o&gt; openvms</div>
<div class="line">[Thursday 10 March 2011] [04:25:08] &lt;Steve-o&gt; the dev is from HP, on the ML</div>
<div class="line">[Thursday 10 March 2011] [04:25:24] &lt;Steve-o&gt; <a class="reference external" href="http://zeromqonopenvms.blogspot.com/">http://zeromqonopenvms.blogspot.com/</a></div>
<div class="line">[Thursday 10 March 2011] [04:26:49] &lt;Guthur&gt;  guido_g: do you maintain one of the language bindings?</div>
<div class="line">[Thursday 10 March 2011] [04:27:02] &lt;guido_g&gt; nope</div>
<div class="line">[Thursday 10 March 2011] [04:27:05] &lt;guido_g&gt; why?</div>
<div class="line">[Thursday 10 March 2011] [04:27:40] &lt;Guthur&gt;  looking for advice on some course of action for EINTR on things like poll and recv</div>
<div class="line">[Thursday 10 March 2011] [04:28:03] &lt;Guthur&gt;  I&#8217;m wondering whether clrzmq2 should try to deal with it, or leave it for the user</div>
<div class="line">[Thursday 10 March 2011] [04:28:08] &lt;guido_g&gt; uhhh... there was something going on for the python bindings</div>
<div class="line">[Thursday 10 March 2011] [04:28:31] &lt;Guthur&gt;  oh ok, I&#8217;mm have a wee look at that</div>
<div class="line">[Thursday 10 March 2011] [04:28:38] &lt;Guthur&gt;  I&#8217;mm/I&#8217;ll</div>
<div class="line">[Thursday 10 March 2011] [04:29:05] &lt;guido_g&gt; <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/005822.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/005822.html</a></div>
<div class="line">[Thursday 10 March 2011] [04:29:41] &lt;uhu&gt;     sorry, i know ... the stoneage is over ... but our company is still using this machines</div>
<div class="line">[Thursday 10 March 2011] [04:30:25] &lt;guido_g&gt; hey, the ise in ny is still using vms too i think :)</div>
<div class="line">[Thursday 10 March 2011] [04:32:06] &lt;Steve-o&gt; well at least they have a tcp/ip stack</div>
<div class="line">[Thursday 10 March 2011] [04:32:39] &lt;pieterh&gt; hi guys</div>
<div class="line">[Thursday 10 March 2011] [04:32:41] &lt;Guthur&gt;  guido_g: I think that is fixed now though, because I am getting -1 errno=EINTR</div>
<div class="line">[Thursday 10 March 2011] [04:33:19] &lt;guido_g&gt; Guthur: the discussion was lengthy, i don&#8217;t remember it</div>
<div class="line">[Thursday 10 March 2011] [04:33:26] &lt;guido_g&gt; pieterh: howdy</div>
<div class="line">[Thursday 10 March 2011] [04:33:43] &lt;Guthur&gt;  I&#8217;m in two minds what to do now</div>
<div class="line">[Thursday 10 March 2011] [04:33:47] &lt;guido_g&gt; Guthur: but i think in certain cases the binding should handle eintr</div>
<div class="line">[Thursday 10 March 2011] [04:34:43] &lt;pieterh&gt; hi guido_g</div>
<div class="line">[Thursday 10 March 2011] [04:35:08] &lt;Guthur&gt;  guido_g: I was considering trying to handle it in the binding</div>
<div class="line">[Thursday 10 March 2011] [04:35:24] &lt;Guthur&gt;  would make life simpler for the user</div>
<div class="line">[Thursday 10 March 2011] [04:36:07] &lt;guido_g&gt; Guthur: i can have a look at the python binding, might be that there is some help</div>
<div class="line">[Thursday 10 March 2011] [04:36:31] &lt;Guthur&gt;  guido_g: cool</div>
<div class="line">[Thursday 10 March 2011] [04:40:58] &lt;guido_g&gt; so far no eintr found...</div>
<div class="line">[Thursday 10 March 2011] [04:43:59] &lt;Guthur&gt;  from the way I am understanding the code, it would not matter to pyzmq</div>
<div class="line">[Thursday 10 March 2011] [04:44:15] &lt;Guthur&gt;  it just returns a list of r/w able sockets</div>
<div class="line">[Thursday 10 March 2011] [04:44:23] &lt;guido_g&gt; no, pyzmq.core will deliver upwards</div>
<div class="line">[Thursday 10 March 2011] [04:44:37] &lt;guido_g&gt; <a href="#id81"><span class="problematic" id="id82">*</span></a>deliver it</div>
<div class="line">[Thursday 10 March 2011] [04:45:10] &lt;Guthur&gt;  ok</div>
<div class="line">[Thursday 10 March 2011] [04:46:17] &lt;guido_g&gt; Guthur: you&#8217;re on the low-level bindings atm?</div>
<div class="line">[Thursday 10 March 2011] [04:50:18] &lt;Guthur&gt;  i&#8217;m maintainer for clrzmq2, and I&#8217;m hoping to improve the handling of this issue there</div>
<div class="line">[Thursday 10 March 2011] [04:50:30] &lt;Guthur&gt;  It just binds the low level C lib</div>
<div class="line">[Thursday 10 March 2011] [04:50:38] &lt;Guthur&gt;  was that your question?</div>
<div class="line">[Thursday 10 March 2011] [04:50:44] &lt;Guthur&gt;  or do you mean the pyzmq</div>
<div class="line">[Thursday 10 March 2011] [04:51:15] &lt;Guthur&gt;  I was looking at <a class="reference external" href="https://github.com/ellisonbg/pyzmq">https://github.com/ellisonbg/pyzmq</a></div>
<div class="line">[Thursday 10 March 2011] [04:51:29] &lt;guido_g&gt; i meant if your&#8217;re currently working on the lower levels of the binding or some language dependant abstractions on top</div>
<div class="line">[Thursday 10 March 2011] [04:52:05] &lt;guido_g&gt; nahh... the official one is <a class="reference external" href="https://github.com/zeromq/pyzmq">https://github.com/zeromq/pyzmq</a></div>
<div class="line">[Thursday 10 March 2011] [04:52:42] &lt;Guthur&gt;  oh, ok</div>
<div class="line">[Thursday 10 March 2011] [04:53:13] &lt;guido_g&gt; Guthur: if you provide the low-level api in clrzmq2, it should simply signal that an EINTR happend, same as the C version</div>
<div class="line">[Thursday 10 March 2011] [04:53:37] &lt;Guthur&gt;  yeah that&#8217;s what happens at the moment</div>
<div class="line">[Thursday 10 March 2011] [04:53:43] &lt;Guthur&gt;  it throws an exception</div>
<div class="line">[Thursday 10 March 2011] [04:53:57] &lt;Guthur&gt;  so the user can catch it if they wish</div>
<div class="line">[Thursday 10 March 2011] [04:54:04] &lt;guido_g&gt; if you have some more .net like abstractions on top of that, it&#8217;s a matter of the overall architecture of the environment, i&#8217;d say</div>
<div class="line">[Thursday 10 March 2011] [04:54:24] &lt;guido_g&gt; should be fine</div>
<div class="line">[Thursday 10 March 2011] [05:23:45] &lt;Guthur&gt;  this experience with EINTR has made me think I don&#8217;t like linux&#8217;s signalling mechanism much</div>
<div class="line">[Thursday 10 March 2011] [05:24:03] &lt;Guthur&gt;  it can be a bit of PITA</div>
<div class="line">[Thursday 10 March 2011] [05:24:28] &lt;guido_g&gt; it&#8217;s not only linux</div>
<div class="line">[Thursday 10 March 2011] [05:27:46] &lt;Guthur&gt;  implementing the later guide examples in C# has definitely proved more challenging than it should have been.</div>
<div class="line">[Thursday 10 March 2011] [05:28:05] &lt;Guthur&gt;  no IPC on windows, and signalling headaches on POSIX OSs</div>
<div class="line">[Thursday 10 March 2011] [05:40:42] &lt;Guthur&gt;  ...really need to get working on that IPC for windows stuff</div>
<div class="line">[Thursday 10 March 2011] [05:44:09] &lt;Guthur&gt;  is there 2.2 roadmap?</div>
<div class="line">[Thursday 10 March 2011] [05:44:29] &lt;Guthur&gt;  pieterh: you mentioned it on the mailing list, but I don&#8217;t see it</div>
<div class="line">[Thursday 10 March 2011] [05:44:57] &lt;Guthur&gt;  oh nvm</div>
<div class="line">[Thursday 10 March 2011] [05:44:59] &lt;Guthur&gt;  found it</div>
<div class="line">[Thursday 10 March 2011] [05:45:30] &lt;<a href="#id267"><span class="problematic" id="id268">pieterh_</span></a>&gt;        Guthur: sorry about that</div>
<div class="line">[Thursday 10 March 2011] [05:45:57] &lt;<a href="#id269"><span class="problematic" id="id270">pieterh_</span></a>&gt;        we need to get IPC working better IMO</div>
<div class="line">[Thursday 10 March 2011] [05:46:07] &lt;<a href="#id271"><span class="problematic" id="id272">pieterh_</span></a>&gt;        even the Linux / POSIX implementation is sucky</div>
<div class="line">[Thursday 10 March 2011] [05:46:40] &lt;<a href="#id273"><span class="problematic" id="id274">pieterh_</span></a>&gt;        I&#8217;d like to make a portable IPC based on shared memory</div>
<div class="line">[Thursday 10 March 2011] [05:47:04] &lt;<a href="#id275"><span class="problematic" id="id276">pieterh_</span></a>&gt;        Guthur: did you get any further with those signaling issues?</div>
<div class="line">[Thursday 10 March 2011] [05:47:32] &lt;Guthur&gt;  <a href="#id277"><span class="problematic" id="id278">pieterh_</span></a>: yeah, it&#8217;s just something that will happen on POSIX</div>
<div class="line">[Thursday 10 March 2011] [05:47:52] &lt;<a href="#id279"><span class="problematic" id="id280">pieterh_</span></a>&gt;        ... I&#8217;m using Linux all the time, have never hit it</div>
<div class="line">[Thursday 10 March 2011] [05:48:01] &lt;<a href="#id281"><span class="problematic" id="id282">pieterh_</span></a>&gt;        or am just somehow ignoring it?</div>
<div class="line">[Thursday 10 March 2011] [05:48:39] &lt;Guthur&gt;  it&#8217;s more likely to happen on Mono due to the GC using signals</div>
<div class="line">[Thursday 10 March 2011] [05:48:59] &lt;<a href="#id283"><span class="problematic" id="id284">pieterh_</span></a>&gt;        more likely vs. never happens, I&#8217;d say it&#8217;s a Mono issue</div>
<div class="line">[Thursday 10 March 2011] [05:49:12] &lt;<a href="#id285"><span class="problematic" id="id286">pieterh_</span></a>&gt;        thus perhaps solvable</div>
<div class="line">[Thursday 10 March 2011] [05:49:57] &lt;Guthur&gt;  yeah, it&#8217;s a catchable exception, I was in two minds whether to try and solve it in the clrzmq binding or leave it for the user to deal with</div>
<div class="line">[Thursday 10 March 2011] [05:50:23] &lt;<a href="#id287"><span class="problematic" id="id288">pieterh_</span></a>&gt;        would you summarize what you know about it, send that to the list?</div>
<div class="line">[Thursday 10 March 2011] [05:50:46] &lt;Guthur&gt;  sure, I&#8217;ll do that when I get home from work</div>
<div class="line">[Thursday 10 March 2011] [05:50:53] &lt;<a href="#id289"><span class="problematic" id="id290">pieterh_</span></a>&gt;        IMO it&#8217;s not something the user should see, it&#8217;s has no sense within 0MQ</div>
<div class="line">[Thursday 10 March 2011] [05:51:10] &lt;<a href="#id291"><span class="problematic" id="id292">pieterh_</span></a>&gt;        making the examples is in any case like doing 0MQ University :-)</div>
<div class="line">[Thursday 10 March 2011] [05:51:16] &lt;Guthur&gt;  <a href="#id293"><span class="problematic" id="id294">pieterh_</span></a>: it actually appears that it never used to be in 0MQ</div>
<div class="line">[Thursday 10 March 2011] [05:51:19] &lt;Guthur&gt;  it was added</div>
<div class="line">[Thursday 10 March 2011] [05:51:28] &lt;Guthur&gt;  <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/005822.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/005822.html</a></div>
<div class="line">[Thursday 10 March 2011] [05:51:43]    * <a href="#id295"><span class="problematic" id="id296">pieterh_</span></a> is reading that...</div>
<div class="line">[Thursday 10 March 2011] [05:52:27] &lt;<a href="#id297"><span class="problematic" id="id298">pieterh_</span></a>&gt;        ah, this is the famous Ctrl-C handling</div>
<div class="line">[Thursday 10 March 2011] [05:52:50] &lt;<a href="#id299"><span class="problematic" id="id300">pieterh_</span></a>&gt;        yes, signals should be passed up to the binding, however...</div>
<div class="line">[Thursday 10 March 2011] [05:53:00] &lt;<a href="#id301"><span class="problematic" id="id302">pieterh_</span></a>&gt;        it seems abnormal that you are getting EINTR <em>all the time</em></div>
<div class="line">[Thursday 10 March 2011] [05:54:56] &lt;<a href="#id303"><span class="problematic" id="id304">pieterh_</span></a>&gt;        brb, need to switch message apps, this one is terrible...</div>
<div class="line">[Thursday 10 March 2011] [05:55:08] &lt;guido_g&gt; hehe</div>
<div class="line">[Thursday 10 March 2011] [05:57:27] &lt;pieterh_1&gt;       re</div>
<div class="line">[Thursday 10 March 2011] [05:59:26] &lt;guido_g&gt; wb</div>
<div class="line">[Thursday 10 March 2011] [05:59:44] &lt;guido_g&gt; w/ different color, how nice  :)</div>
<div class="line">[Thursday 10 March 2011] [06:02:38] &lt;pieterh_1&gt;       I think the colors are entirely in the imagination of your IRC client :-)</div>
<div class="line">[Thursday 10 March 2011] [06:03:54] &lt;guido_g&gt; hmmm</div>
<div class="line">[Thursday 10 March 2011] [06:06:36] &lt;Guthur&gt;  pieterh_1: it seems to be at startup that the Mono runtime is generating some signals that were bubbling up when I was trying to Poll or Recv</div>
<div class="line">[Thursday 10 March 2011] [06:06:58] &lt;Guthur&gt;  after a talk with a Mono Dev I am of the understanding that it may be related to the GC</div>
<div class="line">[Thursday 10 March 2011] [06:07:56] &lt;pieterh_1&gt;       Guthur: that sounds plausible</div>
<div class="line">[Thursday 10 March 2011] [06:09:54] &lt;pieterh_1&gt;       those signals shouldn&#8217;t appear to 0MQ users, obvously</div>
<div class="line">[Thursday 10 March 2011] [06:11:14] &lt;Guthur&gt;  pieterh_1: would you be of the opinion that I should try to deal with EINTR in the clrzmq binding</div>
<div class="line">[Thursday 10 March 2011] [06:11:22] &lt;sejo&gt;    can you send a smq message without using smq? is there a way to recontruct a message?</div>
<div class="line">[Thursday 10 March 2011] [06:12:26] &lt;pieterh_1&gt;       Guthur: if it&#8217;s Mono generating random EINTRs, I&#8217;d probably take a large stick to that developer until he fixes it</div>
<div class="line">[Thursday 10 March 2011] [06:12:42] &lt;pieterh_1&gt;       if it&#8217;s other signals you can filter them</div>
<div class="line">[Thursday 10 March 2011] [06:13:17] &lt;pieterh_1&gt;       sejo: what exactly do you mean by &#8220;smq message&#8221;?</div>
<div class="line">[Thursday 10 March 2011] [06:13:43] &lt;sejo&gt;    zmq sorry</div>
<div class="line">[Thursday 10 March 2011] [06:13:56] &lt;pieterh_1&gt;       how would you send a zmq message without zmq?</div>
<div class="line">[Thursday 10 March 2011] [06:14:01] &lt;pieterh_1&gt;       and why?</div>
<div class="line">[Thursday 10 March 2011] [06:14:02] &lt;sejo&gt;    well i&#8217;m still stuck with the twisted loop and trying to figure out how to fix it</div>
<div class="line">[Thursday 10 March 2011] [06:14:39] &lt;Guthur&gt;  pieterh_1: i think it&#8217;s due to 0MQ being in a blocking syscall, and so the signal will cause that to return with EINTR</div>
<div class="line">[Thursday 10 March 2011] [06:14:56] &lt;Guthur&gt;  my understanding may be flawed though</div>
<div class="line">[Thursday 10 March 2011] [06:15:17] &lt;pieterh_1&gt;       Guthur: yeah... but if you know what signals the GC is generating you can set up your own handler for them, so 0MQ never sees them</div>
<div class="line">[Thursday 10 March 2011] [06:15:32] &lt;Guthur&gt;  ah ok</div>
<div class="line">[Thursday 10 March 2011] [06:15:59] &lt;pieterh_1&gt;       bleh, I&#8217;m confusing two things</div>
<div class="line">[Thursday 10 March 2011] [06:16:12] &lt;pieterh_1&gt;       EINTR is the errno after an interrupted system call, it&#8217;s not the signal</div>
<div class="line">[Thursday 10 March 2011] [06:16:23] &lt;pieterh_1&gt;       Ctrl-C would be SIGINT for example</div>
<div class="line">[Thursday 10 March 2011] [06:16:54] &lt;pieterh_1&gt;       so IMO you want to discover what actual signals the Mono GC is generating, and then set up handlers to ignore them</div>
<div class="line">[Thursday 10 March 2011] [06:17:11] &lt;pieterh_1&gt;       then 0MQ&#8217;s system calls won&#8217;t be interrupted by <em>those</em> signals</div>
<div class="line">[Thursday 10 March 2011] [06:20:15] &lt;sejo&gt;    pieterh: so I&#8217;m trying to get messages into a queue. but when pushing from twisted it slows down my reactor</div>
<div class="line">[Thursday 10 March 2011] [06:22:05] &lt;pieterh_1&gt;       sejo: is there anyone else using twisted with 0MQ?</div>
<div class="line">[Thursday 10 March 2011] [06:23:20] &lt;sejo&gt;    no, there was a poc on github, but not working</div>
<div class="line">[Thursday 10 March 2011] [06:23:46] &lt;pieterh_1&gt;       ok, so I know nothing at all about twisted, however...</div>
<div class="line">[Thursday 10 March 2011] [06:24:08] &lt;guido_g&gt; sejo: where does the slowdonw happen? care to show the code?</div>
<div class="line">[Thursday 10 March 2011] [06:24:21] &lt;pieterh_1&gt;       this is Python, there is a large community of pyzmq users</div>
<div class="line">[Thursday 10 March 2011] [06:24:35] &lt;pieterh_1&gt;       make a minimal test case, publish that, discuss on zeromq-dev and here</div>
<div class="line">[Thursday 10 March 2011] [06:24:55] &lt;sejo&gt;    guido_g: each time you do a blocking io, the twisted main_reactor waits on it</div>
<div class="line">[Thursday 10 March 2011] [06:25:10] &lt;pieterh_1&gt;       you do need to come up with code if you want help on specific problems</div>
<div class="line">[Thursday 10 March 2011] [06:25:11] &lt;guido_g&gt; this is why it&#8217;s call blocking</div>
<div class="line">[Thursday 10 March 2011] [06:25:13] &lt;guido_g&gt; <a href="#id83"><span class="problematic" id="id84">*</span></a>called</div>
<div class="line">[Thursday 10 March 2011] [06:25:18] &lt;sejo&gt;    that&#8217;s why twisted is used to circumvent the blocking io as much as possible</div>
<div class="line">[Thursday 10 March 2011] [06:25:43] &lt;guido_g&gt; simply don&#8217;t use blocking call then...</div>
<div class="line">[Thursday 10 March 2011] [06:25:43] &lt;sejo&gt;    yeah but there is no way to do a nen-blocking connection to zmq, or I should use a basic socket protocol that already exists</div>
<div class="line">[Thursday 10 March 2011] [06:26:01] &lt;guido_g&gt; w/o code, it&#8217;s all guessing</div>
<div class="line">[Thursday 10 March 2011] [06:26:31] &lt;sejo&gt;    guido if I use the smq.send_json it blocks the reactor in such way i only can send one a sec (I crawl now 5-10 urls/s)</div>
<div class="line">[Thursday 10 March 2011] [06:26:43] &lt;sejo&gt;    if I add the seromq.send_json it goes to 1/s</div>
<div class="line">[Thursday 10 March 2011] [06:26:53] &lt;sejo&gt;    zmq</div>
<div class="line">[Thursday 10 March 2011] [06:27:08] &lt;pieterh_1&gt;       sejo: it&#8217;s not &#8216;slow&#8217;</div>
<div class="line">[Thursday 10 March 2011] [06:27:26] &lt;sejo&gt;    pieterh_1: i know zmq isn&#8217;t slow</div>
<div class="line">[Thursday 10 March 2011] [06:27:58] &lt;sejo&gt;    and the twisted neither, it&#8217;s combining them that creates 2 diffrent eventloops and they don&#8217;t work together imho</div>
<div class="line">[Thursday 10 March 2011] [06:28:02] &lt;sejo&gt;    which is logic</div>
<div class="line">[Thursday 10 March 2011] [06:28:17] &lt;pieterh_1&gt;       no, I mean it&#8217;s not &#8216;slowing down&#8217;, you&#8217;re using it wrong</div>
<div class="line">[Thursday 10 March 2011] [06:28:18] &lt;pieterh_1&gt;       and without seeing an example of your code, this discussion is fruitless</div>
<div class="line">[Thursday 10 March 2011] [06:28:44] &lt;sejo&gt;    let me paste an example</div>
<div class="line">[Thursday 10 March 2011] [06:28:55] &lt;pieterh_1&gt;       sejo: yes, please, a working minimal example</div>
<div class="line">[Thursday 10 March 2011] [06:29:25] &lt;guido_g&gt; sejo: use non-blocking calls then</div>
<div class="line">[Thursday 10 March 2011] [06:46:03] &lt;sejo&gt;    <a class="reference external" href="http://dpaste.com/485798/">http://dpaste.com/485798/</a></div>
<div class="line">[Thursday 10 March 2011] [06:46:06] &lt;sejo&gt;    sending</div>
<div class="line">[Thursday 10 March 2011] [06:46:31] &lt;sejo&gt;    <a class="reference external" href="http://dpaste.com/485800/">http://dpaste.com/485800/</a></div>
<div class="line">[Thursday 10 March 2011] [06:46:38] &lt;sejo&gt;    receiver and sender to the workers</div>
<div class="line">[Thursday 10 March 2011] [06:47:51] &lt;sejo&gt;    brb food</div>
<div class="line">[Thursday 10 March 2011] [06:48:50] &lt;guido_g&gt; sejo: read the guid and ahve a look at the pyzmq examples</div>
<div class="line">[Thursday 10 March 2011] [06:48:59] &lt;guido_g&gt; sejo: this all weird</div>
<div class="line">[Thursday 10 March 2011] [07:01:17] &lt;sejo&gt;    I did I used the taskvent/tasksink/taskworker examples from the python guide</div>
<div class="line">[Thursday 10 March 2011] [07:03:26] &lt;guido_g&gt; sejo: your code is broken, please try to get the mq basics first</div>
<div class="line">[Thursday 10 March 2011] [07:15:43] &lt;sejo&gt;    meh</div>
<div class="line">[Thursday 10 March 2011] [07:18:07] &lt;sejo&gt;    not wanting to be rude but i don&#8217;t see what I&#8217;m doing wrong if I look at these examples: <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/Python/taskvent.py">https://github.com/imatix/zguide/blob/master/examples/Python/taskvent.py</a> <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/Python/taskwork.py">https://github.com/imatix/zguide/blob/master/examples/Python/taskwork.py</a></div>
<div class="line">[Thursday 10 March 2011] [07:18:09] &lt;pieterh_1&gt;       sejo: in sender, what&#8217;s the lifespan of the context object?</div>
<div class="line">[Thursday 10 March 2011] [07:18:30] &lt;sejo&gt;    pieterh_1: the time of a full crawl +- 5000 messages</div>
<div class="line">[Thursday 10 March 2011] [07:19:05] &lt;pieterh_1&gt;       where is recv_json defined? is that a standard pyzmq method?</div>
<div class="line">[Thursday 10 March 2011] [07:19:16] &lt;pieterh_1&gt;       hmm, presumably so...</div>
<div class="line">[Thursday 10 March 2011] [07:19:18] &lt;sejo&gt;    yes</div>
<div class="line">[Thursday 10 March 2011] [07:19:49] &lt;sejo&gt;    the couchdbkit people showed me that :p</div>
<div class="line">[Thursday 10 March 2011] [07:20:17] &lt;pieterh_1&gt;       where is the reactor in all of this? and twisted?</div>
<div class="line">[Thursday 10 March 2011] [07:20:26] &lt;pieterh_1&gt;       this is not complete code, there&#8217;s a lot missing</div>
<div class="line">[Thursday 10 March 2011] [07:20:39] &lt;sejo&gt;    pietthe reactor is basicly hidder from my spider</div>
<div class="line">[Thursday 10 March 2011] [07:20:45] &lt;sejo&gt;    so that&#8217;s in the back</div>
<div class="line">[Thursday 10 March 2011] [07:21:02] &lt;sejo&gt;    the process_response is a callback</div>
<div class="line">[Thursday 10 March 2011] [07:21:18] &lt;pieterh_1&gt;       look, could you please make a <em>working minimal example</em></div>
<div class="line">[Thursday 10 March 2011] [07:21:24] &lt;pieterh_1&gt;       do you understand what I mean when I say that?</div>
<div class="line">[Thursday 10 March 2011] [07:21:33] &lt;pieterh_1&gt;       fragments of code are not useful</div>
<div class="line">[Thursday 10 March 2011] [07:22:17] &lt;sejo&gt;    actually then I need to provide the full scrapy code... nvm</div>
<div class="line">[Thursday 10 March 2011] [07:22:27] &lt;pieterh_1&gt;       you are not understanding IMO</div>
<div class="line">[Thursday 10 March 2011] [07:22:45] &lt;pieterh_1&gt;       this is not us being difficult, it is an essential step in your own understanding of the problem</div>
<div class="line">[Thursday 10 March 2011] [07:22:50] &lt;pieterh_1&gt;       look...</div>
<div class="line">[Thursday 10 March 2011] [07:22:59] &lt;sejo&gt;    i understand also</div>
<div class="line">[Thursday 10 March 2011] [07:23:02] &lt;pieterh_1&gt;       you use 0MQ + twisted + whatever within a complex environment</div>
<div class="line">[Thursday 10 March 2011] [07:23:05] &lt;pieterh_1&gt;       things do not work</div>
<div class="line">[Thursday 10 March 2011] [07:23:10] &lt;pieterh_1&gt;       so far, all normal</div>
<div class="line">[Thursday 10 March 2011] [07:23:22] &lt;pieterh_1&gt;       your first step is to isolate your 0MQ code from the rest</div>
<div class="line">[Thursday 10 March 2011] [07:23:28] &lt;pieterh_1&gt;       minimal working test case</div>
<div class="line">[Thursday 10 March 2011] [07:23:42] &lt;pieterh_1&gt;       if the problem goes away, you know immediately that it was in whatever you removde</div>
<div class="line">[Thursday 10 March 2011] [07:23:45] &lt;pieterh_1&gt;       <a href="#id85"><span class="problematic" id="id86">*</span></a>removed</div>
<div class="line">[Thursday 10 March 2011] [07:23:54] &lt;pieterh_1&gt;       if the problem is still there, you can ask for help</div>
<div class="line">[Thursday 10 March 2011] [07:24:08] &lt;pieterh_1&gt;       no-one here is going to help you if you don&#8217;t take this first step</div>
<div class="line">[Thursday 10 March 2011] [07:24:32] &lt;sejo&gt;    pieterh: i understand</div>
<div class="line">[Thursday 10 March 2011] [07:40:28] &lt;Guthur&gt;  pieterh_1: revisiting the EINTR issue, I think the blocking syscalls will always return EINTR if there is a signal, no matter if a handler is set or not</div>
<div class="line">[Thursday 10 March 2011] [07:40:51] &lt;pieterh_1&gt;       have you tried it, or are you speculating?</div>
<div class="line">[Thursday 10 March 2011] [07:41:02] &lt;Guthur&gt;  pieterh_1: going by how the spec reads</div>
<div class="line">[Thursday 10 March 2011] [07:41:06] &lt;pieterh_1&gt;       what spec?</div>
<div class="line">[Thursday 10 March 2011] [07:41:16] &lt;Guthur&gt;  man page for poll</div>
<div class="line">[Thursday 10 March 2011] [07:41:21] &lt;pieterh_1&gt;       zmq_poll?</div>
<div class="line">[Thursday 10 March 2011] [07:41:26] &lt;Guthur&gt;  no linux poll</div>
<div class="line">[Thursday 10 March 2011] [07:41:29] &lt;Guthur&gt;  the syscall</div>
<div class="line">[Thursday 10 March 2011] [07:41:30] &lt;pieterh_1&gt;       ok</div>
<div class="line">[Thursday 10 March 2011] [07:41:52] &lt;Guthur&gt;  the GC does use two signals</div>
<div class="line">[Thursday 10 March 2011] [07:41:59] &lt;Guthur&gt;  but it should catch them itself</div>
<div class="line">[Thursday 10 March 2011] [07:42:07] &lt;pieterh_1&gt;       should, doesn&#8217;t, I assume</div>
<div class="line">[Thursday 10 March 2011] [07:42:17] &lt;pieterh_1&gt;       what signals are they?</div>
<div class="line">[Thursday 10 March 2011] [07:42:40] &lt;pieterh_1&gt;       all signals can be trapped except SIGKILL and SIGSTOP</div>
<div class="line">[Thursday 10 March 2011] [07:42:52] &lt;Guthur&gt;  it does, but if my understanding is correct during some blocking syscalls such as Poll and Recv it can&#8217;t catch them</div>
<div class="line">[Thursday 10 March 2011] [07:43:07] &lt;pieterh_1&gt;       sigh</div>
<div class="line">[Thursday 10 March 2011] [07:43:23] &lt;pieterh_1&gt;       system calls are not special magic</div>
<div class="line">[Thursday 10 March 2011] [07:44:06] &lt;pieterh_1&gt;       thus the Mono GC is broken and not properly handling those signals</div>
<div class="line">[Thursday 10 March 2011] [07:44:19] &lt;Guthur&gt;  Poll: A signal occurred before any requested event. Recv: The receive was interrupted by delivery of a signal before any data were available.</div>
<div class="line">[Thursday 10 March 2011] [07:44:25] &lt;Guthur&gt;  from the man page ^</div>
<div class="line">[Thursday 10 March 2011] [07:44:35] &lt;Guthur&gt;  that&#8217;s for EINTR</div>
<div class="line">[Thursday 10 March 2011] [07:44:47] &lt;Guthur&gt;  Poll is the most telling</div>
<div class="line">[Thursday 10 March 2011] [07:44:55] &lt;pieterh_1&gt;       Guthur: I can read man pages too, these sentences do not say &#8220;you cannot catch signals during a poll&#8221;</div>
<div class="line">[Thursday 10 March 2011] [07:45:13] &lt;Guthur&gt;  Poll says if it occurs</div>
<div class="line">[Thursday 10 March 2011] [07:45:15] &lt;pieterh_1&gt;       they say, &#8220;a signal (THAT YOU DID NOT HANDLE) arrived&#8221;</div>
<div class="line">[Thursday 10 March 2011] [07:45:34] &lt;pieterh_1&gt;       &#8220;delivery of a signal&#8221;</div>
<div class="line">[Thursday 10 March 2011] [07:47:27] &lt;Guthur&gt;  I can run the code later with the GC turned off</div>
<div class="line">[Thursday 10 March 2011] [07:47:36] &lt;pieterh_1&gt;       try &#8220;signal (whatever-signal-mono-uses, SIG_IGN)&#8221; if you can</div>
<div class="line">[Thursday 10 March 2011] [07:48:13] &lt;pieterh_1&gt;       file a bug report with the Mono people, this is not a 0MQ issue afaics...</div>
<div class="line">[Thursday 10 March 2011] [07:48:40] &lt;pieterh_1&gt;       perhaps note in the C# binding page, &#8220;Mono is broken, see issue #xyz here&#8221;</div>
<div class="line">[Thursday 10 March 2011] [07:49:48] &lt;Guthur&gt;  Certainly not a 0MQ issue</div>
<div class="line">[Thursday 10 March 2011] [07:50:10] &lt;Guthur&gt;  I&#8217;d just like to deal with it nicely in the clrzmq binding</div>
<div class="line">[Thursday 10 March 2011] [07:50:15] &lt;Guthur&gt;  if possible</div>
<div class="line">[Thursday 10 March 2011] [07:50:23] &lt;pieterh_1&gt;       if (running on Mono)</div>
<div class="line">[Thursday 10 March 2011] [07:50:43] &lt;pieterh_1&gt;       exit &#8220;friends don&#8217;t let friends use this rubbish&#8221;</div>
<div class="line">[Thursday 10 March 2011] [07:50:45] &lt;pieterh_1&gt;       endif</div>
<div class="line">[Thursday 10 March 2011] [07:51:29] &lt;pieterh_1&gt;       I&#8217;d seriously choose another language if you want portability</div>
<div class="line">[Thursday 10 March 2011] [07:51:32] &lt;Guthur&gt;  <a class="reference external" href="http://www.ustash.com/mono/Embedding_Mono.html#Signal_handling">http://www.ustash.com/mono/Embedding_Mono.html#Signal_handling</a></div>
<div class="line">[Thursday 10 March 2011] [07:51:44] &lt;Guthur&gt;  that&#8217;s the signals Mono</div>
<div class="line">[Thursday 10 March 2011] [07:51:46] &lt;Guthur&gt;  uses</div>
<div class="line">[Thursday 10 March 2011] [07:52:11] &lt;Guthur&gt;  pieterh_1: I&#8217;m the clrzmq2 maintainer, choosing another language is not really an option in that capacity</div>
<div class="line">[Thursday 10 March 2011] [07:52:16] &lt;pieterh_1&gt;       :-)</div>
<div class="line">[Thursday 10 March 2011] [07:52:29] &lt;pieterh_1&gt;       So harass the Mono developers until they fix this</div>
<div class="line">[Thursday 10 March 2011] [07:53:02] &lt;pieterh_1&gt;       You can&#8217;t work around it because you have no way of knowing what signal actually interrupted poll</div>
<div class="line">[Thursday 10 March 2011] [07:54:00] &lt;pieterh_1&gt;       If you ignore EINTR systematically your applications won&#8217;t exit on real signals like SIGINT</div>
<div class="line">[Thursday 10 March 2011] [08:30:59] &lt;Guthur&gt;  pieterh_1: It would appear that Poll and Recv will return EINTR if there is a signal</div>
<div class="line">[Thursday 10 March 2011] [08:31:42] &lt;Guthur&gt;  I was talking to someone on ##kernel</div>
<div class="line">[Thursday 10 March 2011] [08:31:55] &lt;Guthur&gt;  and he mentioned that SA_RESTART can be used to restart the syscall</div>
<div class="line">[Thursday 10 March 2011] [08:32:18] &lt;pieterh_1&gt;       did you specifically ask whether this applied to handled signals or unhandled signals?</div>
<div class="line">[Thursday 10 March 2011] [08:32:22] &lt;Guthur&gt;  or rather it wont return -1</div>
<div class="line">[Thursday 10 March 2011] [08:32:28] &lt;Guthur&gt;  yeap</div>
<div class="line">[Thursday 10 March 2011] [08:32:48] &lt;Guthur&gt;  oh wait, bugger</div>
<div class="line">[Thursday 10 March 2011] [08:32:51] &lt;Guthur&gt;  I meant to</div>
<div class="line">[Thursday 10 March 2011] [08:32:56] &lt;Guthur&gt;  two secs</div>
<div class="line">[Thursday 10 March 2011] [08:32:58] &lt;pieterh_1&gt;       we do know what the man page says</div>
<div class="line">[Thursday 10 March 2011] [08:33:08] &lt;pieterh_1&gt;       please ask this, specifically:</div>
<div class="line">[Thursday 10 March 2011] [08:33:26] &lt;pieterh_1&gt;       &#8220;if I raise a user-defined signal which I&#8217;ve set SIG_IGN for, will that interrupt poll?&#8221;</div>
<div class="line">[Thursday 10 March 2011] [08:34:20] &lt;Guthur&gt;  it should be able to mask them out if that is what you mean by SIG_IGN</div>
<div class="line">[Thursday 10 March 2011] [08:35:34] &lt;Guthur&gt;  When a system call is slow and a signal arrives while it was blocked, waiting for something, the call is aborted and returns -EINTR, so that the library function will return -1 and set errno to EINTR. Just before the system call returns, the user program&#8217;s signal handler is called.</div>
<div class="line">[Thursday 10 March 2011] [08:35:34] &lt;pieterh_1&gt;       SIG_IGN has a specific meaning, read the signal() man page</div>
<div class="line">[Thursday 10 March 2011] [08:35:48] &lt;Guthur&gt;  that is taken from here <a class="reference external" href="http://www.win.tue.nl/~aeb/linux/lk/lk-4.html">http://www.win.tue.nl/~aeb/linux/lk/lk-4.html</a></div>
<div class="line">[Thursday 10 March 2011] [08:37:07] &lt;pieterh_1&gt;       yes</div>
<div class="line">[Thursday 10 March 2011] [08:37:16] &lt;pieterh_1&gt;       ok, makes sense</div>
<div class="line">[Thursday 10 March 2011] [08:37:38] &lt;pieterh_1&gt;       the handling of the signal can be set to SA_RESTART</div>
<div class="line">[Thursday 10 March 2011] [08:37:48] &lt;pieterh_1&gt;       meaning the system call will continue</div>
<div class="line">[Thursday 10 March 2011] [08:38:11] &lt;Guthur&gt;  yeah, I should check with the Mono Devs to see if they do that</div>
<div class="line">[Thursday 10 March 2011] [08:39:59] &lt;hoschi&gt;  Hi, how can I do RPC with zeromq when I have different services (aka REP)? Should I use another socket combination, or must I write a address-based router like in the manual?</div>
<div class="line">[Thursday 10 March 2011] [08:40:01] &lt;Guthur&gt;  hehe, I was never expecting to have dive into Syscalls and Signals when developing this binding</div>
<div class="line">[Thursday 10 March 2011] [08:46:41] &lt;pieterh_1&gt;       it&#8217;s surprising... but we learn something new every day</div>
<div class="line">[Thursday 10 March 2011] [08:47:10] &lt;pieterh_1&gt;       hoschi: how much of the Guide have you read and digested?</div>
<div class="line">[Thursday 10 March 2011] [08:48:01] &lt;hoschi&gt;  pieterh_1: I read chapter one and had a look at chapter 3</div>
<div class="line">[Thursday 10 March 2011] [08:48:42] &lt;hoschi&gt;  I also read the introduction blog post from nicholas</div>
<div class="line">[Thursday 10 March 2011] [08:48:53] &lt;pieterh_1&gt;       so please read all four chapters, and take the time to understand what they say</div>
<div class="line">[Thursday 10 March 2011] [08:48:56] &lt;pieterh_1&gt;       thanks</div>
<div class="line">[Thursday 10 March 2011] [09:12:41] &lt;Guthur&gt;  is sustrik still in the US</div>
<div class="line">[Thursday 10 March 2011] [09:27:22] &lt;pieterh_1&gt;       Guthur: afaik he&#8217;s traveling back about now</div>
<div class="line">[Thursday 10 March 2011] [09:39:16] &lt;private_meta&gt;    So he finished his San Francisco Meetup? :D</div>
<div class="line">[Thursday 10 March 2011] [09:40:26] &lt;Guthur&gt;  yep, sounds like it was a great success</div>
<div class="line">[Thursday 10 March 2011] [09:41:06] &lt;Guthur&gt;  I hope there will be similar setup on this side of &#8216;pond&#8217; sometime</div>
<div class="line">[Thursday 10 March 2011] [09:41:34] &lt;pieterh_1&gt;       Next week, in London</div>
<div class="line">[Thursday 10 March 2011] [09:42:14] &lt;Guthur&gt;  yeah, i kind of mean a more formal setup, a little like Martin mentioned</div>
<div class="line">[Thursday 10 March 2011] [09:42:40] &lt;Guthur&gt;  personally I&#8217;m not overly interested in trip to the pub</div>
<div class="line">[Thursday 10 March 2011] [09:42:50] &lt;Guthur&gt;  personal thing</div>
<div class="line">[Thursday 10 March 2011] [09:42:56] &lt;pieterh_1&gt;       You&#8217;re in London?</div>
<div class="line">[Thursday 10 March 2011] [09:43:23] &lt;Guthur&gt;  nope, but I am in the UK</div>
<div class="line">[Thursday 10 March 2011] [09:43:53] &lt;pieterh_1&gt;       well, if you can find an &#8220;more formal&#8221; place in London, for next Wednesday around 5-6pm, we can do that</div>
<div class="line">[Thursday 10 March 2011] [09:44:21] &lt;pieterh_1&gt;       it&#8217;s not really about hope, more about making it happen... :-)</div>
<div class="line">[Thursday 10 March 2011] [09:44:37] &lt;Guthur&gt;  very true</div>
<div class="line">[Thursday 10 March 2011] [09:44:38] &lt;pieterh_1&gt;       I&#8217;m there all day, happy to be anywhere in London</div>
<div class="line">[Thursday 10 March 2011] [09:44:49] &lt;Guthur&gt;  next time maybe, it&#8217;s a little short notice now for me</div>
<div class="line">[Thursday 10 March 2011] [09:45:01] &lt;pieterh_1&gt;       this is the 21st century...1</div>
<div class="line">[Thursday 10 March 2011] [09:45:03] &lt;pieterh_1&gt;       !</div>
<div class="line">[Thursday 10 March 2011] [09:45:12] &lt;Guthur&gt;  tell that too my employer</div>
<div class="line">[Thursday 10 March 2011] [09:45:23] &lt;pieterh_1&gt;       &#8220;employer&#8221;...?</div>
<div class="line">[Thursday 10 March 2011] [09:45:33] &lt;pieterh_1&gt;       sorry to hear that</div>
<div class="line">[Thursday 10 March 2011] [09:45:40] &lt;pieterh_1&gt;       :-) just kidding</div>
<div class="line">[Thursday 10 March 2011] [09:45:51] &lt;Guthur&gt;  I&#8217;m technically suppose to give about 2 weeks notice</div>
<div class="line">[Thursday 10 March 2011] [09:46:05] &lt;pieterh_1&gt;       to attend a technical seminar in the evening?</div>
<div class="line">[Thursday 10 March 2011] [09:46:25] &lt;pieterh_1&gt;       your employer should be paying your costs...</div>
<div class="line">[Thursday 10 March 2011] [09:46:26] &lt;Guthur&gt;  ah yes, well when I say the UK, I mean Northern Ireland</div>
<div class="line">[Thursday 10 March 2011] [09:46:34] &lt;pieterh_1&gt;       sigh</div>
<div class="line">[Thursday 10 March 2011] [09:46:35] &lt;Guthur&gt;  it does require a little more logistics, hehe</div>
<div class="line">[Thursday 10 March 2011] [09:47:44] &lt;Guthur&gt;  I sometimes have business trips to London though</div>
<div class="line">[Thursday 10 March 2011] [09:47:54] &lt;Guthur&gt;  our main regional office is there</div>
<div class="line">[Thursday 10 March 2011] [09:48:06] &lt;pieterh_1&gt;       fair enough</div>
<div class="line">[Thursday 10 March 2011] [09:48:31] &lt;pieterh_1&gt;       if and when you get the opportunity to find a formal location in London, we can do a meetup</div>
<div class="line">[Thursday 10 March 2011] [09:48:39] &lt;pieterh_1&gt;       I&#8217;ll make sure I get there</div>
<div class="line">[Thursday 10 March 2011] [09:48:46] &lt;Guthur&gt;  cool</div>
<div class="line">[Thursday 10 March 2011] [09:48:52] &lt;Guthur&gt;  are you going next wednesday</div>
<div class="line">[Thursday 10 March 2011] [09:48:57] &lt;pieterh_1&gt;       for sure, it&#8217;s in a pub!</div>
<div class="line">[Thursday 10 March 2011] [09:49:13] &lt;Guthur&gt;  hehe</div>
<div class="line">[Thursday 10 March 2011] [09:49:22] &lt;guido_g&gt; <em>sigh</em></div>
<div class="line">[Thursday 10 March 2011] [09:49:25] &lt;pieterh_1&gt;       personal thing... :-) anyhow, they don&#8217;t actually have <em>beer</em> in the UK</div>
<div class="line">[Thursday 10 March 2011] [09:49:45] &lt;guido_g&gt; guinness would do :)</div>
<div class="line">[Thursday 10 March 2011] [09:50:07] &lt;pieterh_1&gt;       guido_g: I&#8217;m going to have to smuggle some real beer across from Brussels with me</div>
<div class="line">[Thursday 10 March 2011] [09:50:20] &lt;guido_g&gt; hehe</div>
<div class="line">[Thursday 10 March 2011] [09:50:40] &lt;Guthur&gt;  what about coffee shops, I do like coffee</div>
<div class="line">[Thursday 10 March 2011] [09:51:01] &lt;pieterh_1&gt;       coffee shops are great, but not after 5pm or so</div>
<div class="line">[Thursday 10 March 2011] [09:51:15] &lt;pieterh_1&gt;       I suspect the timing of this meetup is &#8220;after work&#8221;, easier for most people</div>
<div class="line">[Thursday 10 March 2011] [09:53:55] &lt;pieterh_1&gt;       Guthur: how about a real event, in Brussels, later in the spring?</div>
<div class="line">[Thursday 10 March 2011] [09:54:10] &lt;pieterh_1&gt;       a proper 0MQ seminar / workshop</div>
<div class="line">[Thursday 10 March 2011] [09:55:21] &lt;Guthur&gt;  I&#8217;d be up for that</div>
<div class="line">[Thursday 10 March 2011] [09:55:29] &lt;Guthur&gt;  I haven&#8217;t been to brussels before</div>
<div class="line">[Thursday 10 March 2011] [09:55:56]    * guido_g too</div>
<div class="line">[Thursday 10 March 2011] [09:56:04] &lt;Guthur&gt;  Sounds a great idea actually, imo</div>
<div class="line">[Thursday 10 March 2011] [09:56:09] &lt;pieterh_1&gt;       I&#8217;m wondering whether there&#8217;d be demand for a proper seminar session</div>
<div class="line">[Thursday 10 March 2011] [09:56:29] &lt;pieterh_1&gt;       independently of a meetup later on</div>
<div class="line">[Thursday 10 March 2011] [09:56:59] &lt;pieterh_1&gt;       seminar = your company pays $$$ to send you</div>
<div class="line">[Thursday 10 March 2011] [09:57:07] &lt;guido_g&gt; shit</div>
<div class="line">[Thursday 10 March 2011] [09:57:17] &lt;guido_g&gt; i&#8217;m my company</div>
<div class="line">[Thursday 10 March 2011] [09:57:44] &lt;pieterh_1&gt;       guido_g: ah, but there is also an organizing team</div>
<div class="line">[Thursday 10 March 2011] [09:58:06] &lt;guido_g&gt; ok</div>
<div class="line">[Thursday 10 March 2011] [09:58:55]    * guido_g managed to use ordinary makefile in eclipse</div>
<div class="line">[Thursday 10 March 2011] [09:59:03]    * guido_g can do everything now</div>
<div class="line">[Thursday 10 March 2011] [09:59:20] &lt;pieterh_1&gt;       eclipse, is that like an emacs clone but Java instead of Lisp?</div>
<div class="line">[Thursday 10 March 2011] [09:59:27] &lt;guido_g&gt; <em>NO</em></div>
<div class="line">[Thursday 10 March 2011] [09:59:30] &lt;guido_g&gt; emacs works</div>
<div class="line">[Thursday 10 March 2011] [09:59:55] &lt;pieterh_1&gt;       lol</div>
<div class="line">[Thursday 10 March 2011] [09:59:55] &lt;guido_g&gt; my $HOME is where I lay my .emacs</div>
<div class="line">[Thursday 10 March 2011] [10:00:06] &lt;pieterh_1&gt;       vi is much better</div>
<div class="line">[Thursday 10 March 2011] [10:00:22] &lt;guido_g&gt; matter of taste</div>
<div class="line">[Thursday 10 March 2011] [10:00:30] &lt;guido_g&gt; i do use vi</div>
<div class="line">[Thursday 10 March 2011] [10:00:36]    * pieterh_1 will stop trolling #zeromq</div>
<div class="line">[Thursday 10 March 2011] [10:00:46] &lt;guido_g&gt; strangely, when i edit cofnig files etc. i use vi</div>
<div class="line">[Thursday 10 March 2011] [10:01:00] &lt;guido_g&gt; or when i&#8217;m root</div>
<div class="line">[Thursday 10 March 2011] [10:01:04] &lt;pieterh_1&gt;       yeah, anything system feels more natural using vi</div>
<div class="line">[Thursday 10 March 2011] [10:01:16] &lt;pieterh_1&gt;       it&#8217;s supposed to look ugly and be nasty</div>
<div class="line">[Thursday 10 March 2011] [10:01:16] &lt;guido_g&gt; matter of age :)</div>
<div class="line">[Thursday 10 March 2011] [10:01:43] &lt;pieterh_1&gt;       OK, I&#8217;m designing a simple name service for 0MQ</div>
<div class="line">[Thursday 10 March 2011] [10:01:52] &lt;pieterh_1&gt;       going to be the last example in Ch4</div>
<div class="line">[Thursday 10 March 2011] [10:01:57] &lt;guido_g&gt; cool</div>
<div class="line">[Thursday 10 March 2011] [10:02:15] &lt;pieterh_1&gt;       the idea is client-service reliability with no broker</div>
<div class="line">[Thursday 10 March 2011] [10:02:33] &lt;guido_g&gt; i&#8217;m on writing a zmq reactor/ioloop in c++</div>
<div class="line">[Thursday 10 March 2011] [10:02:33] &lt;pieterh_1&gt;       clients connect to N services then do a kind of paranoid pirate on them</div>
<div class="line">[Thursday 10 March 2011] [10:02:56] &lt;pieterh_1&gt;       hmm, would you care to document that upfront in a language-neutral fashion?</div>
<div class="line">[Thursday 10 March 2011] [10:03:06] &lt;guido_g&gt; uh</div>
<div class="line">[Thursday 10 March 2011] [10:03:13] &lt;pieterh_1&gt;       I&#8217;d like to make a reactor as an example for later in the guide</div>
<div class="line">[Thursday 10 March 2011] [10:04:02] &lt;guido_g&gt; it&#8217;s just a glorified zmq_poll</div>
<div class="line">[Thursday 10 March 2011] [10:04:33] &lt;pieterh_1&gt;       (a) take zmq_poll, (b) glorify it.</div>
<div class="line">[Thursday 10 March 2011] [10:04:36] &lt;pieterh_1&gt;       ok, that&#8217;s clear</div>
<div class="line">[Thursday 10 March 2011] [10:04:43] &lt;guido_g&gt; <em>sigh</em></div>
<div class="line">[Thursday 10 March 2011] [10:07:05] &lt;guido_g&gt; <a class="reference external" href="https://github.com/guidog/cpp/blob/master/zmqcpp/reactor.cpp">https://github.com/guidog/cpp/blob/master/zmqcpp/reactor.cpp</a> &lt;- example/test how it could work</div>
<div class="line">[Thursday 10 March 2011] [10:09:09] &lt;guido_g&gt; but i&#8217;m not sure if this is the way to go in/with c++</div>
<div class="line">[Thursday 10 March 2011] [10:09:27] &lt;pieterh_1&gt;       i assume you also want timer events</div>
<div class="line">[Thursday 10 March 2011] [10:10:10]    * pieterh_1 is switching computers...</div>
<div class="line">[Thursday 10 March 2011] [10:10:18] &lt;guido_g&gt; again?</div>
<div class="line">[Thursday 10 March 2011] [10:12:44] &lt;Guthur&gt;  emacs rocks</div>
<div class="line">[Thursday 10 March 2011] [10:13:34] &lt;guido_g&gt; yeah</div>
<div class="line">[Thursday 10 March 2011] [10:13:53] &lt;pieterh&gt; guido_g: yeah</div>
<div class="line">[Thursday 10 March 2011] [10:54:46] &lt;private_meta&gt;    quitting a client because of a computer switch... preposterous</div>
<div class="line">[Thursday 10 March 2011] [11:08:44] &lt;guido_g&gt; pieterh: reactor/ioloop page <a class="reference external" href="https://github.com/guidog/cppzmq/wiki/ioloop">https://github.com/guidog/cppzmq/wiki/ioloop</a></div>
<div class="line">[Thursday 10 March 2011] [11:11:09] &lt;pieterh&gt; guido_g: hmm, what I miss in these models is any kind of FSM</div>
<div class="line">[Thursday 10 March 2011] [11:11:58] &lt;pieterh&gt; i.e. &#8220;if current socket state is S and I get event E then execute steps F1, F2, F3&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:12:12] &lt;pieterh&gt; &#8220;however if state is S2 then execute F5&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:12:20] &lt;pieterh&gt; &#8220;and ignore event in any other state&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:12:21] &lt;pieterh&gt; etc.</div>
<div class="line">[Thursday 10 March 2011] [11:12:22] &lt;guido_g&gt; that would mean to track the sockets and their states</div>
<div class="line">[Thursday 10 March 2011] [11:12:26] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 10 March 2011] [11:12:44] &lt;guido_g&gt; because mq doesn&#8217;t give us the required information</div>
<div class="line">[Thursday 10 March 2011] [11:13:08] &lt;pieterh&gt; np, I&#8217;ll make a FSM reactor pattern at some stage</div>
<div class="line">[Thursday 10 March 2011] [11:13:11] &lt;pieterh&gt; it&#8217;s not hard</div>
<div class="line">[Thursday 10 March 2011] [11:13:25] &lt;pieterh&gt; just unusual</div>
<div class="line">[Thursday 10 March 2011] [11:13:29] &lt;guido_g&gt; the hard part is to track the socket states reliably</div>
<div class="line">[Thursday 10 March 2011] [11:13:45] &lt;pieterh&gt; you don&#8217;t need to</div>
<div class="line">[Thursday 10 March 2011] [11:13:55] &lt;guido_g&gt; explain</div>
<div class="line">[Thursday 10 March 2011] [11:14:30] &lt;pieterh&gt; in the FSM definition, a given state/event transition always results in a specific next state</div>
<div class="line">[Thursday 10 March 2011] [11:14:51] &lt;guido_g&gt; the finite part</div>
<div class="line">[Thursday 10 March 2011] [11:14:51] &lt;pieterh&gt; socket &#8220;state&#8221; is not a 0MQ concept, it&#8217;s an application concept</div>
<div class="line">[Thursday 10 March 2011] [11:14:59] &lt;guido_g&gt; aahhhh</div>
<div class="line">[Thursday 10 March 2011] [11:15:02] &lt;pieterh&gt; imagine implementing MDP like this</div>
<div class="line">[Thursday 10 March 2011] [11:15:11]    * guido_g was focused on the mq sockets</div>
<div class="line">[Thursday 10 March 2011] [11:15:14] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 10 March 2011] [11:15:26] &lt;guido_g&gt; it&#8217;s more a general fsm thingie then</div>
<div class="line">[Thursday 10 March 2011] [11:15:30] &lt;pieterh&gt; yes</div>
<div class="line">[Thursday 10 March 2011] [11:15:38] &lt;pieterh&gt; but hooked into zmq sockets</div>
<div class="line">[Thursday 10 March 2011] [11:15:47] &lt;guido_g&gt; sorry, won&#8217;t do that, not related to mq :)</div>
<div class="line">[Thursday 10 March 2011] [11:16:06] &lt;pieterh&gt; but hooked into zmq sockets</div>
<div class="line">[Thursday 10 March 2011] [11:16:07] &lt;Guthur&gt;  that&#8217;s focus for you</div>
<div class="line">[Thursday 10 March 2011] [11:16:22] &lt;Guthur&gt;  dogged even</div>
<div class="line">[Thursday 10 March 2011] [11:16:31] &lt;pieterh&gt; very dogged</div>
<div class="line">[Thursday 10 March 2011] [11:16:44] &lt;guido_g&gt; pieterh: i&#8217;d say layered on top of something that can deal w/ mq socket</div>
<div class="line">[Thursday 10 March 2011] [11:16:48] &lt;guido_g&gt; +s</div>
<div class="line">[Thursday 10 March 2011] [11:17:05] &lt;pieterh&gt; weird, this is what I&#8217;m talking about</div>
<div class="line">[Thursday 10 March 2011] [11:17:09] &lt;pieterh&gt; it&#8217;s like you read my mind...</div>
<div class="line">[Thursday 10 March 2011] [11:17:14] &lt;guido_g&gt; +sigh*</div>
<div class="line">[Thursday 10 March 2011] [11:17:20] &lt;pieterh&gt; oh, wait, I just said this, yeah :-)</div>
<div class="line">[Thursday 10 March 2011] [11:17:50] &lt;guido_g&gt; you said &#8220;hooked into&#8221;, which imo is not the way it&#8217;ll work</div>
<div class="line">[Thursday 10 March 2011] [11:18:15] &lt;guido_g&gt; the sockets are just another event source in this case</div>
<div class="line">[Thursday 10 March 2011] [11:18:22] &lt;pieterh&gt; if you <em>really</em> want to know...</div>
<div class="line">[Thursday 10 March 2011] [11:18:36] &lt;pieterh&gt; go find an old project called Libero</div>
<div class="line">[Thursday 10 March 2011] [11:18:57] &lt;pieterh&gt; there are more modern FSMs but I like the Libero FSM model, it&#8217;s simple</div>
<div class="line">[Thursday 10 March 2011] [11:19:18]    * pieterh really has to stop trolling #zeromq...</div>
<div class="line">[Thursday 10 March 2011] [11:20:13] &lt;guido_g&gt; code generation...</div>
<div class="line">[Thursday 10 March 2011] [11:20:19] &lt;guido_g&gt; hmm hmm hmm</div>
<div class="line">[Thursday 10 March 2011] [11:20:33] &lt;pieterh&gt; that&#8217;s how Libero does it, yes, but it&#8217;s not mandatory</div>
<div class="line">[Thursday 10 March 2011] [11:21:23] &lt;guido_g&gt; allone the task of inventing a dsl for this daring</div>
<div class="line">[Thursday 10 March 2011] [11:21:32] &lt;guido_g&gt; <a href="#id87"><span class="problematic" id="id88">*</span></a>this is</div>
<div class="line">[Thursday 10 March 2011] [11:21:40] &lt;pieterh&gt; dsl?</div>
<div class="line">[Thursday 10 March 2011] [11:21:49] &lt;guido_g&gt; domain specific language</div>
<div class="line">[Thursday 10 March 2011] [11:21:53] &lt;pieterh&gt; ah, :-)</div>
<div class="line">[Thursday 10 March 2011] [11:22:01] &lt;Guthur&gt;  crack out the Lisp</div>
<div class="line">[Thursday 10 March 2011] [11:22:05] &lt;guido_g&gt; or how to express the fsm in a programming lanugage</div>
<div class="line">[Thursday 10 March 2011] [11:22:07] &lt;Guthur&gt;  only way to go for DSLs</div>
<div class="line">[Thursday 10 March 2011] [11:22:08] &lt;pieterh&gt; no, these days we just use XML or JSON or s-expressions or whatever</div>
<div class="line">[Thursday 10 March 2011] [11:22:40] &lt;pieterh&gt; trivial, and we have generic code generators for (e.g.) XML which are infinitely more powerful than Libero</div>
<div class="line">[Thursday 10 March 2011] [11:22:45] &lt;guido_g&gt; <a class="reference external" href="http://www.mcternan.me.uk/mscgen/">http://www.mcternan.me.uk/mscgen/</a>  &lt;- nice dsl :)</div>
<div class="line">[Thursday 10 March 2011] [11:22:47] &lt;pieterh&gt; if you like code generation, check out GSL4 on github</div>
<div class="line">[Thursday 10 March 2011] [11:22:58] &lt;guido_g&gt; no thanks</div>
<div class="line">[Thursday 10 March 2011] [11:23:02] &lt;pieterh&gt; the DSL is as such irrelevant as long as it has structure</div>
<div class="line">[Thursday 10 March 2011] [11:23:12] &lt;Guthur&gt;  I&#8217;d rather tear my hair than use XML as a language</div>
<div class="line">[Thursday 10 March 2011] [11:23:16] &lt;guido_g&gt; i&#8217;m the only code generator i trust (sometimes)</div>
<div class="line">[Thursday 10 March 2011] [11:23:20] &lt;Guthur&gt;  hair out*</div>
<div class="line">[Thursday 10 March 2011] [11:23:25] &lt;pieterh&gt; sure, shrug</div>
<div class="line">[Thursday 10 March 2011] [11:23:37] &lt;guido_g&gt; Guthur: almost done :)</div>
<div class="line">[Thursday 10 March 2011] [11:29:40] &lt;nadime&gt;  Anyone know if it&#8217;s an issue to set up pollitems in multiple threads?  (but only run zmq_poll in a threadsafe manner)?  getting weird behavior.</div>
<div class="line">[Thursday 10 March 2011] [11:29:54] &lt;guido_g&gt; we need to stop pieterh somehow, otherwise the ch4 of teh guide will become a tome in itself ,)</div>
<div class="line">[Thursday 10 March 2011] [11:30:04] &lt;nadime&gt;  sorry let me be clearer:  these pollitems in other threads share a socket</div>
<div class="line">[Thursday 10 March 2011] [11:30:06] &lt;pieterh&gt; ssh, don&#8217;t tell him...</div>
<div class="line">[Thursday 10 March 2011] [11:30:34] &lt;pieterh&gt; nadime: sharing the same socket from multiple threads?</div>
<div class="line">[Thursday 10 March 2011] [11:30:34] &lt;guido_g&gt; nadime: sounds weird, &#8220;don&#8217;t do this&#8221; i&#8217;d say</div>
<div class="line">[Thursday 10 March 2011] [11:31:50] &lt;nadime&gt;  yeah, so I have 10 worker threads.  10 pollitems.  they all share 1 subscribe socket.   However,, i only run zmq_poll in a threadsafe manner (i.e. only 1 thread at a time polls, then receives anything that needs to be received, then releases its memory barrier).</div>
<div class="line">[Thursday 10 March 2011] [11:32:03] &lt;pieterh&gt; nadime: how much of the Guide have you read?</div>
<div class="line">[Thursday 10 March 2011] [11:32:06] &lt;nadime&gt;  all of it</div>
<div class="line">[Thursday 10 March 2011] [11:32:21] &lt;nadime&gt;  i have no choice to do what i&#8217;m doing unless i completely rearchitect using XREQ/REP.</div>
<div class="line">[Thursday 10 March 2011] [11:32:26] &lt;pieterh&gt; did you read the part where it says in big letters, &#8220;DON&#8217;T SHARE SOCKETS BETWEEN THREADS!&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:32:32] &lt;pieterh&gt; like several times</div>
<div class="line">[Thursday 10 March 2011] [11:32:47] &lt;nadime&gt;  ok, but then you made it possible to do so in 2.1?</div>
<div class="line">[Thursday 10 March 2011] [11:32:55] &lt;guido_g&gt; omg</div>
<div class="line">[Thursday 10 March 2011] [11:32:56] &lt;nadime&gt;  what did you expect, people not to use functionality that&#8217;s there?</div>
<div class="line">[Thursday 10 March 2011] [11:33:06] &lt;pieterh&gt; yeah, which I regret we even documented</div>
<div class="line">[Thursday 10 March 2011] [11:33:18] &lt;guido_g&gt; nadime: you&#8217;ve been warned, so...</div>
<div class="line">[Thursday 10 March 2011] [11:33:21] &lt;pieterh&gt; because people systematically do what you do, think &#8220;Hey, this is cool&#8221; and then...</div>
<div class="line">[Thursday 10 March 2011] [11:33:24] &lt;pieterh&gt; weird stuff happens</div>
<div class="line">[Thursday 10 March 2011] [11:33:30] &lt;pieterh&gt; we get this all the time, literally</div>
<div class="line">[Thursday 10 March 2011] [11:33:37] &lt;pieterh&gt; &#8220;hey dudes, weird stuff happens!?&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:33:43] &lt;pieterh&gt; &#8220;stop sharing sockets between threads&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:33:48] &lt;pieterh&gt; &#8220;hey, how did you know...?&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:34:10] &lt;pieterh&gt; the functionality was added for low-level work such as in language bindings</div>
<div class="line">[Thursday 10 March 2011] [11:34:33] &lt;pieterh&gt; I&#8217;m really sorry, but sockets are not thread safe</div>
<div class="line">[Thursday 10 March 2011] [11:34:37] &lt;nadime&gt;  I understand, and perhaps I shouldn&#8217;t bother using zeromq, but you do get that it&#8217;s a big pain in the ass not to be able to share sockets between threads, right?</div>
<div class="line">[Thursday 10 March 2011] [11:34:55] &lt;pieterh&gt; I get it</div>
<div class="line">[Thursday 10 March 2011] [11:34:57] &lt;nadime&gt;  I can give you countless examples, and you can certainly rearchitect them to not share sockets</div>
<div class="line">[Thursday 10 March 2011] [11:35:02] &lt;nadime&gt;  but it requires annoying rearchitecture</div>
<div class="line">[Thursday 10 March 2011] [11:35:09] &lt;pieterh&gt; but if you make sockets threadsafe (inside 0MQ)</div>
<div class="line">[Thursday 10 March 2011] [11:35:14] &lt;pieterh&gt; you basically make a different product</div>
<div class="line">[Thursday 10 March 2011] [11:35:23] &lt;pieterh&gt; which is slow, locky, but easier to use</div>
<div class="line">[Thursday 10 March 2011] [11:35:25] &lt;nadime&gt;  for example, designing a generic messaging library for other people to use without sharing sockets between threads (i.e. similar to your language binding example)</div>
<div class="line">[Thursday 10 March 2011] [11:35:35] &lt;guido_g&gt; nadime: why did you architect it that way, then?</div>
<div class="line">[Thursday 10 March 2011] [11:35:54]    * pieterh guesses, reimplementing a non-0MQ design over 0MQ</div>
<div class="line">[Thursday 10 March 2011] [11:36:25] &lt;cremes&gt;  nadime: no need to redesign</div>
<div class="line">[Thursday 10 March 2011] [11:36:54] &lt;cremes&gt;  put a FORWARDER device in the thread handling the polling</div>
<div class="line">[Thursday 10 March 2011] [11:36:59] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 10 March 2011] [11:37:04] &lt;cremes&gt;  have each worker thread subscribe to the forwarder</div>
<div class="line">[Thursday 10 March 2011] [11:37:08] &lt;pieterh&gt; use 0MQ, don&#8217;t fight it</div>
<div class="line">[Thursday 10 March 2011] [11:37:10] &lt;cremes&gt;  piece of cake; this is a great pattern</div>
<div class="line">[Thursday 10 March 2011] [11:37:53] &lt;nadime&gt;  yes, i can do that, and it will likely be what i end up doing, but the point is that it&#8217;s (a) extra latency, (b) if you say you now can migrate sockets, then it should be ok!</div>
<div class="line">[Thursday 10 March 2011] [11:38:08] &lt;pieterh&gt; (a) it&#8217;s not, it&#8217;s inproc and near zero latency</div>
<div class="line">[Thursday 10 March 2011] [11:38:25] &lt;pieterh&gt; (b) &#8216;migrate sockets using full memory barriers&#8217; is not the same as &#8216;share from 10 threads at once&#8217;</div>
<div class="line">[Thursday 10 March 2011] [11:38:33] &lt;pieterh&gt; sorry, please do read the man page carefully</div>
<div class="line">[Thursday 10 March 2011] [11:38:36] &lt;cremes&gt;  right, inproc is a few microsecons</div>
<div class="line">[Thursday 10 March 2011] [11:38:51] &lt;pieterh&gt; migration means you move the socket from thread A to thread B, where you then use it</div>
<div class="line">[Thursday 10 March 2011] [11:39:30] &lt;pieterh&gt; what you are doing is rather different afaics</div>
<div class="line">[Thursday 10 March 2011] [11:40:57] &lt;pieterh&gt; (c) if you care about latency, you don&#8217;t use shared state concurrency, period</div>
<div class="line">[Thursday 10 March 2011] [11:41:15] &lt;pieterh&gt; (d) this is all covered in the Guide, isn&#8217;t it?</div>
<div class="line">[Thursday 10 March 2011] [11:42:02] &lt;cremes&gt;  pieterh: i don&#8217;t know if telling people to read the guide <em>again</em> is a good answer</div>
<div class="line">[Thursday 10 March 2011] [11:42:14] &lt;cremes&gt;  i think nadime is doing the right thing here</div>
<div class="line">[Thursday 10 March 2011] [11:42:22] &lt;nadime&gt;  (a) isn&#8217;t inproc implemented with tcp on windows?</div>
<div class="line">[Thursday 10 March 2011] [11:42:27] &lt;cremes&gt;  he&#8217;s brining up a challenge and asking &#8220;why doesn&#8217;t this work?&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:42:37] &lt;pieterh&gt; cremes: he&#8217;s not explaining his use case</div>
<div class="line">[Thursday 10 March 2011] [11:42:41] &lt;nadime&gt;  (b) i will look at the documentation again, but i believe 2.1+ claims to be threadsafe as long as you are (which is another story)</div>
<div class="line">[Thursday 10 March 2011] [11:42:41] &lt;cremes&gt;  nadime: no, ipc uses tcp, inproc is flipping pointers</div>
<div class="line">[Thursday 10 March 2011] [11:42:56] &lt;pieterh&gt; nadime: next time please explain what you want to do, ask how to do it, if you don&#8217;t see the obvious answer</div>
<div class="line">[Thursday 10 March 2011] [11:42:58] &lt;nadime&gt;  (c) that&#8217;s not totally true, but a longer argument</div>
<div class="line">[Thursday 10 March 2011] [11:42:58] &lt;cremes&gt;  pieterh: that&#8217;s a common problem :)</div>
<div class="line">[Thursday 10 March 2011] [11:43:09] &lt;nadime&gt;  (d) see (b)</div>
<div class="line">[Thursday 10 March 2011] [11:43:26] &lt;pieterh&gt; complaining about things not working as you expect is pointless unless you are quite expert in 0MQ and your expectations already work the right way</div>
<div class="line">[Thursday 10 March 2011] [11:43:30] &lt;nadime&gt;  let me give you an example that&#8217;s annoying and you can tell me if i&#8217;m missing something stupid</div>
<div class="line">[Thursday 10 March 2011] [11:43:37] &lt;pieterh&gt; go for it</div>
<div class="line">[Thursday 10 March 2011] [11:43:39] &lt;cremes&gt;  the docs should probably be changed to say that sockets have enough thread safety to allow</div>
<div class="line">[Thursday 10 March 2011] [11:43:48] &lt;pieterh&gt; cremes: sigh</div>
<div class="line">[Thursday 10 March 2011] [11:43:57] &lt;cremes&gt;  language bindings to safely handle them from gc threads, etc</div>
<div class="line">[Thursday 10 March 2011] [11:44:04] &lt;pieterh&gt; nope, the docs should say, &#8220;if you share sockets you deserve the worst you get&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:44:12] &lt;cremes&gt;  but they should <em>not</em> be used from multiple threads as a design pattern</div>
<div class="line">[Thursday 10 March 2011] [11:44:19] &lt;cremes&gt;  pieterh: sure, that works too</div>
<div class="line">[Thursday 10 March 2011] [11:44:19] &lt;nadime&gt;  i create a log server which receives a bunch of messages from anyone who cares to tell it anything.</div>
<div class="line">[Thursday 10 March 2011] [11:44:27] &lt;pieterh&gt; with a footnote saying, &#8220;if you&#8217;re a language binding author, contact us offlist&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:44:35] &lt;nadime&gt;  to go along witht his log server, i make a &#8220;logger&#8221; that instantiates a class capable of logging to this server.</div>
<div class="line">[Thursday 10 March 2011] [11:44:50] &lt;pieterh&gt; nadime: so far so good</div>
<div class="line">[Thursday 10 March 2011] [11:44:57] &lt;nadime&gt;  all you do is run logger.log(&lt;msg&gt;) and it logs it for youl.</div>
<div class="line">[Thursday 10 March 2011] [11:44:58] &lt;cremes&gt;  nadime: go on... i wrote this exact thing recently...</div>
<div class="line">[Thursday 10 March 2011] [11:45:21] &lt;nadime&gt;  now let&#8217;s say my friend bob uses my logger library.  he basically has to create one logger per thread</div>
<div class="line">[Thursday 10 March 2011] [11:45:31] &lt;pieterh&gt; yes</div>
<div class="line">[Thursday 10 March 2011] [11:45:35] &lt;cremes&gt;  yep</div>
<div class="line">[Thursday 10 March 2011] [11:45:40] &lt;pieterh&gt; that costs... nothing... so great</div>
<div class="line">[Thursday 10 March 2011] [11:45:46] &lt;nadime&gt;  of course it costs something</div>
<div class="line">[Thursday 10 March 2011] [11:45:56] &lt;pieterh&gt; not as much as this conversation</div>
<div class="line">[Thursday 10 March 2011] [11:45:58] &lt;pieterh&gt; I&#8217;m serious</div>
<div class="line">[Thursday 10 March 2011] [11:46:02] &lt;cremes&gt;  pieterh: come on</div>
<div class="line">[Thursday 10 March 2011] [11:46:22] &lt;cremes&gt;  nadime: anything more?</div>
<div class="line">[Thursday 10 March 2011] [11:46:24] &lt;pieterh&gt; sigh, provide me with a measurable significant cost, not &#8220;non zero&#8221;</div>
<div class="line">[Thursday 10 March 2011] [11:46:31] &lt;pieterh&gt; nadime: apologies</div>
<div class="line">[Thursday 10 March 2011] [11:46:51] &lt;nadime&gt;  i don&#8217;t understand, i&#8217;m not arguing your software is useless, obviously i think it&#8217;s great</div>
<div class="line">[Thursday 10 March 2011] [11:47:00] &lt;pieterh&gt; you have a design that works, ok?</div>
<div class="line">[Thursday 10 March 2011] [11:47:02] &lt;nadime&gt;  i&#8217;m pointing out an issue, if the gain is greater than the loss, great</div>
<div class="line">[Thursday 10 March 2011] [11:47:09] &lt;pieterh&gt; each thread creates a logger, has its own sockets, etc.</div>
<div class="line">[Thursday 10 March 2011] [11:47:18] &lt;pieterh&gt; that is the brute force design, obvious, simple, scalable</div>
<div class="line">[Thursday 10 March 2011] [11:47:29] &lt;cremes&gt;  nadime: here is how i solved this <em>exact</em> case</div>
<div class="line">[Thursday 10 March 2011] [11:47:30] &lt;pieterh&gt; you can break the threads into their own processes, it still works</div>
<div class="line">[Thursday 10 March 2011] [11:47:32] &lt;pieterh&gt; right?</div>
<div class="line">[Thursday 10 March 2011] [11:47:32] &lt;nadime&gt;  sure, but let&#8217;s say you use a threadpool</div>
<div class="line">[Thursday 10 March 2011] [11:47:38] &lt;pieterh&gt; now you believe you have a cost issue</div>
<div class="line">[Thursday 10 March 2011] [11:47:40] &lt;nadime&gt;  now the function you call within the pool has to create a new logger</div>
<div class="line">[Thursday 10 March 2011] [11:47:46] &lt;pieterh&gt; and you try to optimize that away</div>
<div class="line">[Thursday 10 March 2011] [11:47:47] &lt;cremes&gt;  each thread has a pub socket</div>
<div class="line">[Thursday 10 March 2011] [11:47:59] &lt;pieterh&gt; and you instead create a much larger design and complexity cost</div>
<div class="line">[Thursday 10 March 2011] [11:48:02] &lt;cremes&gt;  the log server, which handles writing the messages to persistent storage, has a sub socket</div>
<div class="line">[Thursday 10 March 2011] [11:48:34] &lt;cremes&gt;  i make sure to use a single context so that i can communicate via inproc transport (no tcp or ipc overhead)</div>
<div class="line">[Thursday 10 March 2011] [11:48:52] &lt;nadime&gt;  right, and that&#8217;s easy using a factory</div>
<div class="line">[Thursday 10 March 2011] [11:48:54] &lt;cremes&gt;  the log server binds to the well-known port first (important for inproc)</div>
<div class="line">[Thursday 10 March 2011] [11:49:16] &lt;cremes&gt;  each thread instantiates a logger object (a few hundred bytes) and connects to the well-known port</div>
<div class="line">[Thursday 10 March 2011] [11:49:19]    * Guthur is having great difficulty following this convo</div>
<div class="line">[Thursday 10 March 2011] [11:49:20] &lt;cremes&gt;  done</div>
<div class="line">[Thursday 10 March 2011] [11:49:35] &lt;cremes&gt;  Guthur: it&#8217;s happening async! :)</div>
<div class="line">[Thursday 10 March 2011] [11:49:53] &lt;Guthur&gt;  ZeroMQ is the answer then</div>
<div class="line">[Thursday 10 March 2011] [11:50:05] &lt;nadime&gt;  no question, i&#8217;m not saying it&#8217;s that hard.  i&#8217;m just saying it&#8217;s a really, really different paradigm to say that if you make a library that uses zeromq it&#8217;s a once per thread library</div>
<div class="line">[Thursday 10 March 2011] [11:50:16] &lt;pieterh&gt; ah, paradigms... why didn&#8217;t you say so?</div>
<div class="line">[Thursday 10 March 2011] [11:50:39] &lt;pieterh&gt; you started with &#8220;I&#8217;d need to rearchitect using XREP sockets&#8221;...</div>
<div class="line">[Thursday 10 March 2011] [11:50:53] &lt;nadime&gt;  well no, i have two possible solutions to be fair</div>
<div class="line">[Thursday 10 March 2011] [11:50:57] &lt;nadime&gt;  use a forwarder as cremes suggested</div>
<div class="line">[Thursday 10 March 2011] [11:51:11] &lt;nadime&gt;  or use XREP to evenly distribute messages</div>
<div class="line">[Thursday 10 March 2011] [11:51:19] &lt;pieterh&gt; hang on, nadime, please explain something missing here</div>
<div class="line">[Thursday 10 March 2011] [11:51:23] &lt;nadime&gt;  sure?</div>
<div class="line">[Thursday 10 March 2011] [11:51:33] &lt;pieterh&gt; you have N clients sending to 1 logger, right?</div>
<div class="line">[Thursday 10 March 2011] [11:51:41] &lt;pieterh&gt; that is one half of your problem</div>
<div class="line">[Thursday 10 March 2011] [11:51:51] &lt;pieterh&gt; you then have 1 logger talking to N workers, is that so?</div>
<div class="line">[Thursday 10 March 2011] [11:51:58] &lt;pieterh&gt; could you please explain that, I missed it somehow</div>
<div class="line">[Thursday 10 March 2011] [11:52:02] &lt;nadime&gt;  so the logger actually doesn&#8217;t migrate sockets, i just gave you that as an example.  my more complicated multithreaded app is a market data distributor</div>
<div class="line">[Thursday 10 March 2011] [11:52:14]    * cremes did that too :)</div>
<div class="line">[Thursday 10 March 2011] [11:52:18] &lt;nadime&gt;  let me explain it in more detail</div>
<div class="line">[Thursday 10 March 2011] [11:52:46] &lt;pieterh&gt; please do explain the use case, otherwise it&#8217;s like asking for a gallon of gas but driving up an hour later</div>
<div class="line">[Thursday 10 March 2011] [11:53:04] &lt;nadime&gt;  i have a server which receives multiple market data feeds and distributes them via pub to clients which use a single sub socket.</div>
<div class="line">[Thursday 10 March 2011] [11:53:19] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 10 March 2011] [11:53:25] &lt;pieterh&gt; that&#8217;s it?</div>
<div class="line">[Thursday 10 March 2011] [11:53:30] &lt;nadime&gt;  my data server will handle historical data as well as realtime, and for that i want to pump it up to as fast as possible</div>
<div class="line">[Thursday 10 March 2011] [11:53:33] &lt;nadime&gt;  no, hold on</div>
<div class="line">[Thursday 10 March 2011] [11:53:51] &lt;nadime&gt;  so i&#8217;m operating right now at something like 100x realtime on level 2 data</div>
<div class="line">[Thursday 10 March 2011] [11:53:55] &lt;nadime&gt;  which means a lot of messages</div>
<div class="line">[Thursday 10 March 2011] [11:53:59] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 10 March 2011] [11:54:01] &lt;nadime&gt;  it&#8217;s soemthing like 4 million/sec</div>
<div class="line">[Thursday 10 March 2011] [11:54:12] &lt;nadime&gt;  zeromq is fantastic.  it&#8217;s working very well.</div>
<div class="line">[Thursday 10 March 2011] [11:54:21] &lt;pieterh&gt; continue...</div>
<div class="line">[Thursday 10 March 2011] [11:54:28] &lt;nadime&gt;  the problem i have is that on my client, i.e. the data receiver, i offer a callback functionality</div>
<div class="line">[Thursday 10 March 2011] [11:54:48] &lt;nadime&gt;  i.e. when the client gets message-type X, it runs a callback inline</div>
<div class="line">[Thursday 10 March 2011] [11:54:59] &lt;nadime&gt;  if the callback isn&#8217;t lightning fast, that can slow down message receipt</div>
<div class="line">[Thursday 10 March 2011] [11:55:00] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 10 March 2011] [11:55:05] &lt;nadime&gt;  which at 4 million/sec blows things up</div>
<div class="line">[Thursday 10 March 2011] [11:55:05] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 10 March 2011] [11:55:09] &lt;nadime&gt;  so</div>
<div class="line">[Thursday 10 March 2011] [11:55:35] &lt;nadime&gt;  i wanted to create multiple threads so that another thread can be receiving a message while the other threads are running the callback</div>
<div class="line">[Thursday 10 March 2011] [11:55:42] &lt;nadime&gt;  now let me point out</div>
<div class="line">[Thursday 10 March 2011] [11:55:53] &lt;nadime&gt;  this is a case where i can easily change this to support not migrating the sockets</div>
<div class="line">[Thursday 10 March 2011] [11:56:02] &lt;pieterh&gt; hang on, nadime</div>
<div class="line">[Thursday 10 March 2011] [11:56:19] &lt;pieterh&gt; publisher and subscribers are all on different boxes?</div>
<div class="line">[Thursday 10 March 2011] [11:56:22] &lt;nadime&gt;  yes</div>
<div class="line">[Thursday 10 March 2011] [11:56:34] &lt;pieterh&gt; so one subscriber has a large multicore box to play with</div>
<div class="line">[Thursday 10 March 2011] [11:56:43] &lt;nadime&gt;  all of these boxes are pretty powerful, yep</div>
<div class="line">[Thursday 10 March 2011] [11:56:52] &lt;pieterh&gt; how many cores? just for info...</div>
<div class="line">[Thursday 10 March 2011] [11:57:04] &lt;nadime&gt;  server has 12, clients have 6</div>
<div class="line">[Thursday 10 March 2011] [11:57:12] &lt;nadime&gt;  that&#8217;s physical</div>
<div class="line">[Thursday 10 March 2011] [11:57:12] &lt;cremes&gt;  a forwarder device isn&#8217;t even necessary in this case</div>
<div class="line">[Thursday 10 March 2011] [11:57:14] &lt;pieterh&gt; ok, great</div>
<div class="line">[Thursday 10 March 2011] [11:57:36] &lt;pieterh&gt; so imagine you have a blank sheet, and can design this from scratch</div>
<div class="line">[Thursday 10 March 2011] [11:58:09] &lt;nadime&gt;  k</div>
<div class="line">[Thursday 10 March 2011] [11:58:15] &lt;pieterh&gt; you have one app thread subscribing and pulling down messages as fast as it can</div>
<div class="line">[Thursday 10 March 2011] [11:58:31] &lt;pieterh&gt; you may be able to filter, conflate, etc. but that&#8217;s not important</div>
<div class="line">[Thursday 10 March 2011] [11:58:44] &lt;pieterh&gt; every now and then it decides to invoke a callback for a message</div>
<div class="line">[Thursday 10 March 2011] [11:59:02] &lt;pieterh&gt; the callbacks run as separate 0MQ threads, each waiting on a REP socket</div>
<div class="line">[Thursday 10 March 2011] [11:59:29] &lt;pieterh&gt; you can use any of a number of patterns here, including XREP routing to those callback threads</div>
<div class="line">[Thursday 10 March 2011] [11:59:35] &lt;pieterh&gt; you use inproc, of course</div>
<div class="line">[Thursday 10 March 2011] [11:59:55] &lt;nadime&gt;  yes, and that&#8217;s a great design, again i&#8217;m sort of not being clear here, and i apologize .. i know i can rearchitect this without that much trouble, it will probably take me half a day</div>
<div class="line">[Thursday 10 March 2011] [11:59:56] &lt;pieterh&gt; that adds effectively nothing as you invoke the callback</div>
<div class="line">[Thursday 10 March 2011] [12:00:36] &lt;nadime&gt;  (a) i thought inproc was tcp on windows, so higher latency, and now i know it&#8217;s not (my fault), but (b) i don&#8217;t think your documentation is clear enough on support for multithreading</div>
<div class="line">[Thursday 10 March 2011] [12:01:07] &lt;Guthur&gt;  something I have been meaning to ask...</div>
<div class="line">[Thursday 10 March 2011] [12:01:09] &lt;pieterh&gt; possibly</div>
<div class="line">[Thursday 10 March 2011] [12:01:14] &lt;Guthur&gt;  does subscribe support regexp</div>
<div class="line">[Thursday 10 March 2011] [12:01:24] &lt;pieterh&gt; Guthur: nope, just prefix match</div>
<div class="line">[Thursday 10 March 2011] [12:01:49] &lt;Guthur&gt;  ok cheers</div>
<div class="line">[Thursday 10 March 2011] [12:02:22] &lt;pieterh&gt; nadime: if you can point to anything more I can add on multithreading, to the guide, tell me</div>
<div class="line">[Thursday 10 March 2011] [12:02:41] &lt;pieterh&gt; it&#8217;s hard to know what people expect, coming from other paradigms</div>
<div class="line">[Thursday 10 March 2011] [12:02:49] &lt;cremes&gt;  pieterh: add a chapter on it; single line &#8220;Don&#8217;t!&#8221; :)</div>
<div class="line">[Thursday 10 March 2011] [12:02:53] &lt;nadime&gt;  ok, i will read through it and email the list</div>
<div class="line">[Thursday 10 March 2011] [12:03:01] &lt;pieterh&gt; cremes: half of the Guide examples are multithreaded</div>
<div class="line">[Thursday 10 March 2011] [12:03:15] &lt;cremes&gt;  yes, but one socket per thread</div>
<div class="line">[Thursday 10 March 2011] [12:03:40] &lt;pieterh&gt; nadime: in very brief: use inproc from frontend to worker threads, one TCP socket to talk to the outside world</div>
<div class="line">[Thursday 10 March 2011] [12:03:53] &lt;pieterh&gt; this is a classic server model, scalable and simple</div>
<div class="line">[Thursday 10 March 2011] [12:04:43] &lt;pieterh&gt; thanks for explaining your use case, sorry if I sounded unpolite earlier</div>
<div class="line">[Thursday 10 March 2011] [12:05:08] &lt;nadime&gt;  it&#8217;s ok, i don&#8217;t take offense, i know how annoying it is to field questions</div>
<div class="line">[Thursday 10 March 2011] [12:05:18] &lt;nadime&gt;  thanks for spending so much time in here</div>
<div class="line">[Thursday 10 March 2011] [12:07:46] &lt;pieterh&gt; it&#8217;s the only way to know what people are doing with 0MQ</div>
<div class="line">[Thursday 10 March 2011] [12:08:15] &lt;pieterh&gt; please do tell me how to improve the explanations of multithreading, and if you get your architecture working, it&#8217;d be cool to know</div>
<div class="line">[Thursday 10 March 2011] [12:08:41] &lt;nadime&gt;  oh the architecture&#8217;s been working for awhile, before i decided to launch a zillion threads on the client side ;)</div>
<div class="line">[Thursday 10 March 2011] [12:09:07] &lt;pieterh&gt; yeah, you do want to keep two cores free for your frontend</div>
<div class="line">[Thursday 10 March 2011] [12:09:23] &lt;pieterh&gt; one for the 0MQ I/O thread, one for the app thread</div>
<div class="line">[Thursday 10 March 2011] [12:11:10] &lt;nadime&gt;  i&#8217;ve been using 4 i/o threads, but i haven&#8217;t played that parameter much yet</div>
<div class="line">[Thursday 10 March 2011] [12:11:21] &lt;pieterh&gt; 4 is way too high</div>
<div class="line">[Thursday 10 March 2011] [12:11:30] &lt;pieterh&gt; inproc does not need an i/o thread</div>
<div class="line">[Thursday 10 March 2011] [12:11:58] &lt;pieterh&gt; you&#8217;re not doing other I/O except the sub socket, per your explanation</div>
<div class="line">[Thursday 10 March 2011] [12:12:07] &lt;pieterh&gt; so you want precisely 1 IO thread</div>
<div class="line">[Thursday 10 March 2011] [12:12:08] &lt;nadime&gt;  yep, but it&#8217;s a lot of messages</div>
<div class="line">[Thursday 10 March 2011] [12:12:12] &lt;pieterh&gt; lol</div>
<div class="line">[Thursday 10 March 2011] [12:12:19] &lt;pieterh&gt; you think two threads will magically make that faster?</div>
<div class="line">[Thursday 10 March 2011] [12:12:31] &lt;nadime&gt;  not magically, no :)</div>
<div class="line">[Thursday 10 March 2011] [12:12:36] &lt;nadime&gt;  depends on what you&#8217;re doing in your library</div>
<div class="line">[Thursday 10 March 2011] [12:12:44] &lt;nadime&gt;  which i haven&#8217;t read much</div>
<div class="line">[Thursday 10 March 2011] [12:13:02] &lt;pieterh&gt; well, you can set-up two or four SUB sockets, partition your data into four streams, and then use 4 IO threads</div>
<div class="line">[Thursday 10 March 2011] [12:13:19] &lt;pieterh&gt; when you have 12-core client boxes, a nice architecture</div>
<div class="line">[Thursday 10 March 2011] [12:13:26] &lt;nadime&gt;  in other words: you&#8217;re doing little enough processing that you would set up 1 i/o thread per i/o socket</div>
<div class="line">[Thursday 10 March 2011] [12:13:59] &lt;nadime&gt;  and yes, my next plan was to add additional outward facing sockets as necessary</div>
<div class="line">[Thursday 10 March 2011] [12:14:10] &lt;pieterh&gt; in other words...</div>
<div class="line">[Thursday 10 March 2011] [12:14:15] &lt;nadime&gt;  sorry, by i/o socket i mean outward facing</div>
<div class="line">[Thursday 10 March 2011] [12:14:55] &lt;pieterh&gt; 0MQ will spread sockets between I/O threads (at socket creation time!) though you can be explicit about it too</div>
<div class="line">[Thursday 10 March 2011] [12:15:11] &lt;nadime&gt;  yes, i saw the affinity setup</div>
<div class="line">[Thursday 10 March 2011] [12:15:11] &lt;pieterh&gt; and you want to eliminate contention for cores</div>
<div class="line">[Thursday 10 March 2011] [12:15:28] &lt;pieterh&gt; the IO threads option should never have been placed into zmq_init()</div>
<div class="line">[Thursday 10 March 2011] [12:15:39] &lt;pieterh&gt; one more &#8216;feature&#8217; people use without knowing why</div>
<div class="line">[Thursday 10 March 2011] [12:15:59] &lt;pieterh&gt; the only use case for it is when your main IO thread is clearly overloaded</div>
<div class="line">[Thursday 10 March 2011] [12:16:23] &lt;pieterh&gt; i.e. you&#8217;re doing &gt;80% CPU on it during peaks</div>
<div class="line">[Thursday 10 March 2011] [12:16:55] &lt;pieterh&gt; which will hit at 6-8M msg/sec or so, depending</div>
<div class="line">[Thursday 10 March 2011] [12:17:32] &lt;pieterh&gt; I&#8217;m not an expert in this area, sustrik will be able to give more precise figures</div>
<div class="line">[Thursday 10 March 2011] [12:18:18] &lt;nadime&gt;  why didn&#8217;t you guys dynamically create i/o threads when new non-inproc sockets are created?</div>
<div class="line">[Thursday 10 March 2011] [12:18:43] &lt;pieterh&gt; creating too many threads is as bad as creating too few</div>
<div class="line">[Thursday 10 March 2011] [12:18:50] &lt;pieterh&gt; and much easier</div>
<div class="line">[Thursday 10 March 2011] [12:19:16] &lt;nadime&gt;  no, what i mean is, start with one thread per socket (i.e. don&#8217;t even bother telling the user he can change the number) and then increment as you make new sockets</div>
<div class="line">[Thursday 10 March 2011] [12:19:25] &lt;pieterh&gt; yes, I understand what you mean</div>
<div class="line">[Thursday 10 March 2011] [12:19:49] &lt;pieterh&gt; how many threads per socket would you like? 1? 0.1? 0.000001?</div>
<div class="line">[Thursday 10 March 2011] [12:20:09] &lt;nadime&gt;  obviously if you want it to be asynchronous you need 1</div>
<div class="line">[Thursday 10 March 2011] [12:20:23] &lt;guido_g&gt; i&#8217;d start w/ pinning the nic intr to a fixed core</div>
<div class="line">[Thursday 10 March 2011] [12:20:48] &lt;guido_g&gt; did make a difference in some tests i made</div>
<div class="line">[Thursday 10 March 2011] [12:20:57] &lt;pieterh&gt; so you have 10 sockets, of which one is a high volume SUB receiver, and 9 are low volume req/rep for other work</div>
<div class="line">[Thursday 10 March 2011] [12:21:05] &lt;nadime&gt;  ah, i see your point</div>
<div class="line">[Thursday 10 March 2011] [12:21:11] &lt;pieterh&gt; your 6-core box spends its time switching between threads</div>
<div class="line">[Thursday 10 March 2011] [12:21:24] &lt;pieterh&gt; and your SUB socket mysteriously gets latency spikes</div>
<div class="line">[Thursday 10 March 2011] [12:21:47] &lt;pieterh&gt; wow, every time I do a REQ/REP, I lose 50usecs!</div>
<div class="line">[Thursday 10 March 2011] [12:22:11] &lt;pieterh&gt; whereas a single IO thread can handle all 10 sockets without even sweating</div>
<div class="line">[Thursday 10 March 2011] [12:22:49] &lt;pieterh&gt; guido_g: indeed, you want the NIC to talk to one core</div>
<div class="line">[Thursday 10 March 2011] [12:23:52] &lt;nadime&gt;  you could try some dynamic management, but i guess the user knows more about his traffic than zeromq can and that&#8217;s a whole big set of code to write to do intelligent prediction</div>
<div class="line">[Thursday 10 March 2011] [12:24:09] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 10 March 2011] [12:26:11] &lt;pieterh&gt; nadime: if you want really high capacity, you&#8217;d use multiple NICs, a matching number of IO threads and SUB sockets, and multiple PUB sockets, one per segment</div>
<div class="line">[Thursday 10 March 2011] [12:26:36] &lt;nadime&gt;  if you want really high capacity, you will make your own hardware</div>
<div class="line">[Thursday 10 March 2011] [12:26:53] &lt;nadime&gt;  which is what the best high frequency trading shops are doing</div>
<div class="line">[Thursday 10 March 2011] [12:27:09] &lt;pieterh&gt; &#8216;make&#8217; = &#8216;have built to custom specs&#8217;?</div>
<div class="line">[Thursday 10 March 2011] [12:27:20] &lt;pieterh&gt; or literally going out and boiling sand down into CPUs...?</div>
<div class="line">[Thursday 10 March 2011] [12:28:13] &lt;nadime&gt;  some are actually doing their own hardware creation, i.e. having someone build chips for them</div>
<div class="line">[Thursday 10 March 2011] [12:28:21] &lt;pieterh&gt; FPGAs...</div>
<div class="line">[Thursday 10 March 2011] [12:28:26] &lt;nadime&gt;  some are using FPGAs</div>
<div class="line">[Thursday 10 March 2011] [12:28:54] &lt;nadime&gt;  some just use custom NICs with the ability to write assembly onto the nic</div>
<div class="line">[Thursday 10 March 2011] [12:29:30] &lt;nadime&gt;  it&#8217;s an expensive business, which is why i am not in it!</div>
<div class="line">[Thursday 10 March 2011] [12:29:48] &lt;pieterh&gt; it&#8217;ll all end in tears as they fight for socket space on the exchange motherboard</div>
<div class="line">[Thursday 10 March 2011] [12:30:23] &lt;nadime&gt;  it will all end in tears when it&#8217;s regulated away, in any case</div>
<div class="line">[Thursday 10 March 2011] [12:31:13] &lt;pieterh&gt; you&#8217;re really doing 4M msg/sec on Windows?</div>
<div class="line">[Thursday 10 March 2011] [12:31:26] &lt;nadime&gt;  yep</div>
<div class="line">[Thursday 10 March 2011] [12:31:29] &lt;pieterh&gt; I think that&#8217;s a world record</div>
<div class="line">[Thursday 10 March 2011] [12:31:31] &lt;nadime&gt;  small msgs</div>
<div class="line">[Thursday 10 March 2011] [12:31:36] &lt;nadime&gt;  it&#8217;s more like 3.6</div>
<div class="line">[Thursday 10 March 2011] [12:31:41] &lt;nadime&gt;  and that&#8217;s peak</div>
<div class="line">[Thursday 10 March 2011] [12:32:00] &lt;pieterh&gt; still extraordinary</div>
<div class="line">[Thursday 10 March 2011] [12:32:03] &lt;pieterh&gt; nice</div>
<div class="line">[Thursday 10 March 2011] [12:32:58] &lt;nadime&gt;  it&#8217;s very cool, let&#8217;s us normalize our data feeds between our data providers so that our quants don&#8217;t have to code to specific data provider specs, but still run historical backtests at many times realtime</div>
<div class="line">[Thursday 10 March 2011] [12:34:10] &lt;pieterh&gt; clearly</div>
<div class="line">[Thursday 10 March 2011] [12:34:52] &lt;cremes&gt;  pieterh: new topic... did you ever have any luck reproducing issue #174?</div>
<div class="line">[Thursday 10 March 2011] [12:35:27] &lt;pieterh&gt; cremes: not yet... I was looking at it yesterday</div>
<div class="line">[Thursday 10 March 2011] [12:35:35] &lt;pieterh&gt; we do want to resolve that for 2.1 stable</div>
<div class="line">[Thursday 10 March 2011] [12:35:52] &lt;cremes&gt;  great; anything i can do to help, let me know</div>
<div class="line">[Thursday 10 March 2011] [12:36:02] &lt;pieterh&gt; will do</div>
<div class="line">[Thursday 10 March 2011] [12:36:06] &lt;cremes&gt;  i&#8217;ve worked around it by using inproc (my new favorite transport)</div>
<div class="line">[Thursday 10 March 2011] [12:36:13] &lt;pieterh&gt; :-) inproc is nice</div>
<div class="line">[Thursday 10 March 2011] [12:36:25] &lt;cremes&gt;  we really need to rename it for 3.0 though</div>
<div class="line">[Thursday 10 March 2011] [12:36:48] &lt;nadime&gt;  why not call it local?</div>
<div class="line">[Thursday 10 March 2011] [12:37:11] &lt;cremes&gt;  nadime: it only works between sockets in the <em>same</em> context</div>
<div class="line">[Thursday 10 March 2011] [12:37:21] &lt;cremes&gt;  so :incontext or similar would be more accurate</div>
<div class="line">[Thursday 10 March 2011] [12:37:37] &lt;nadime&gt;  is there a reason to create more than one context per application that i am unaware of?</div>
<div class="line">[Thursday 10 March 2011] [12:37:43] &lt;cremes&gt;  inproc makes it sound as though it can be used within the same process regardless of other restrictions</div>
<div class="line">[Thursday 10 March 2011] [12:38:03] &lt;cremes&gt;  nadime: when interfacing to a 3rd party library that also uses 0mq, for example</div>
<div class="line">[Thursday 10 March 2011] [12:38:51] &lt;nadime&gt;  yeah i guess if they make their context private</div>
<div class="line">[Thursday 10 March 2011] [12:39:03] &lt;nadime&gt;  our they don&#8217;t match what you need on the i/o thread front</div>
<div class="line">[Thursday 10 March 2011] [12:39:04] &lt;cremes&gt;  99% of the time you only need 1 context per process</div>
<div class="line">[Thursday 10 March 2011] [12:39:34] &lt;cremes&gt;  the fear is that you could have endpoint collisions, e.g. same name for an ipc or inproc transport</div>
<div class="line">[Thursday 10 March 2011] [12:39:59] &lt;cremes&gt;  also, the default max_sockets for 0mq is 512; if you don&#8217;t know how many the lib is using you could run out</div>
<div class="line">[Thursday 10 March 2011] [12:40:10] &lt;nadime&gt;  right</div>
<div class="line">[Thursday 10 March 2011] [12:40:12] &lt;cremes&gt;  so it comes down to properly segregating your resources</div>
<div class="line">[Thursday 10 March 2011] [12:40:15] &lt;pieterh&gt; cremes: what&#8217;s wrong with the old suggestion itc:</div>
<div class="line">[Thursday 10 March 2011] [12:40:34] &lt;pieterh&gt; or simply ctx:</div>
<div class="line">[Thursday 10 March 2011] [12:40:37] &lt;cremes&gt;  pieterh: what did that stand for again? inter-thread-communication or similar?</div>
<div class="line">[Thursday 10 March 2011] [12:40:40] &lt;pieterh&gt; yeah</div>
<div class="line">[Thursday 10 March 2011] [12:40:53] &lt;cremes&gt;  i like :intracontext</div>
<div class="line">[Thursday 10 March 2011] [12:41:04] &lt;cremes&gt;  it says everything (to me)</div>
<div class="line">[Thursday 10 March 2011] [12:41:18] &lt;pieterh&gt; why not usethesamecontextifyouexpectthistowork:// ?</div>
<div class="line">[Thursday 10 March 2011] [12:41:27] &lt;cremes&gt;  best one yet!</div>
<div class="line">[Thursday 10 March 2011] [12:42:26] &lt;pieterh&gt; nadime: there are quite a lot of cases where processes use multiple contexts</div>
<div class="line">[Thursday 10 March 2011] [12:42:56] &lt;pieterh&gt; e.g. you could wrap the SUB socket up in a framework that creates/destroys a context automatically</div>
<div class="line">[Thursday 10 March 2011] [12:43:07] &lt;nadime&gt;  that&#8217;s what i do, but i use a factory</div>
<div class="line">[Thursday 10 March 2011] [12:43:22] &lt;nadime&gt;  as in: if context exists, return, otherwise create one</div>
<div class="line">[Thursday 10 March 2011] [12:43:49] &lt;pieterh&gt; I mean, you can create a context invisibly, use that for just one object, terminate it when you destroy the object</div>
<div class="line">[Thursday 10 March 2011] [12:44:04] &lt;pieterh&gt; as long as that socket works over TCP, not inproc</div>
<div class="line">[Thursday 10 March 2011] [13:23:31] &lt;private_meta&gt;    pieterh: do you want the version assert in the later c++ examples as well?</div>
<div class="line">[Thursday 10 March 2011] [13:34:14] &lt;Bob___&gt;  is there any way to find out when a connection has been made to a PUB socket?</div>
<div class="line">[Thursday 10 March 2011] [13:35:12] &lt;Bob___&gt;  I have two applications that are subscribing to each other&#8217;s pub sockets to transfer messages between them, but I&#8217;m loosing messages because connection order is non-deterministic</div>
<div class="line">[Thursday 10 March 2011] [13:36:35] &lt;guido_g&gt; no</div>
<div class="line">[Thursday 10 March 2011] [13:36:52] &lt;Bob___&gt;  is Pub/Sub the right model to use for that?</div>
<div class="line">[Thursday 10 March 2011] [13:37:30] &lt;Bob___&gt;  here&#8217;s what I&#8217;m trying to do:  I have a number of simulation engines that are started up and share messages between them</div>
<div class="line">[Thursday 10 March 2011] [13:37:34] &lt;guido_g&gt; you&#8217;ve to describe the use case</div>
<div class="line">[Thursday 10 March 2011] [13:38:13] &lt;Bob___&gt;  I have a multicast beacon that each sim engine broadcasts to identify itself.  When another engine receives the beacon message (which contains it&#8217;s pub socket address/port) it connects to it if hasn&#8217;t already</div>
<div class="line">[Thursday 10 March 2011] [13:38:34] &lt;Bob___&gt;  over time this gives me a fully connected network of sim engines (which is what I think I want)</div>
<div class="line">[Thursday 10 March 2011] [13:39:05] &lt;Bob___&gt;  but I need to send some startup messages on connect to make the engine forward certain types of messages over it&#8217;s network connection</div>
<div class="line">[Thursday 10 March 2011] [13:39:14] &lt;guido_g&gt; why not using one multicast channel for that?</div>
<div class="line">[Thursday 10 March 2011] [13:39:51] &lt;Bob___&gt;  guido_g: I&#8217;m not sure I follow what you mean.  I am using a multicast channel for identifying sim engines</div>
<div class="line">[Thursday 10 March 2011] [13:39:55] &lt;guido_g&gt; btw, pub/sub doesn&#8217;t do connections, it&#8217;s more like a radion transmission</div>
<div class="line">[Thursday 10 March 2011] [13:40:11] &lt;guido_g&gt; s/radion/radio/</div>
<div class="line">[Thursday 10 March 2011] [13:40:48] &lt;Bob___&gt;  ok</div>
<div class="line">[Thursday 10 March 2011] [13:40:55] &lt;guido_g&gt; just have bus structure for all participants, will make alles messages available to all subscribed nodes</div>
<div class="line">[Thursday 10 March 2011] [13:48:04] &lt;Bob___&gt;  guido_g: thanks!  I guess I need to rethink my connection scheme.  maybe creating  new pair sockets is the way to go.</div>
<div class="line">[Thursday 10 March 2011] [13:48:24] &lt;guido_g&gt; no, pair ist not the way to go</div>
<div class="line">[Thursday 10 March 2011] [13:49:26] &lt;Bob___&gt;  you think pub/sub is right?</div>
<div class="line">[Thursday 10 March 2011] [13:50:49] &lt;guido_g&gt; if you want to communicate from every node to every other node a bus structure would fit</div>
<div class="line">[Thursday 10 March 2011] [13:59:42] &lt;private_meta&gt;    pieterh: btw, building single files doesn&#8217;t seem to be possible with the C++ builder</div>
<div class="line">[Thursday 10 March 2011] [14:10:30] &lt;private_meta&gt;    pieterh: interestingly, if i simulate the behavior in the C build file, it still doesn&#8217;t work</div>
<div class="line">[Thursday 10 March 2011] [14:16:48] &lt;private_meta&gt;    ah ok, fixed</div>
<div class="line">[Thursday 10 March 2011] [14:33:59] &lt;private_meta&gt;    pieterh: maybe I made a mistake, but spqueue.c, as found in the repo, seems broken</div>
<div class="line">[Thursday 10 March 2011] [14:34:30] &lt;private_meta&gt;    pieterh: it never let&#8217;s the client connect. I haven&#8217;t yet had the time to look properly though, I&#8217;ll check again tomorrow</div>
<div class="line">[Thursday 10 March 2011] [14:58:24] &lt;mikko&gt;   pieterh: it&#8217;s ready now</div>
<div class="line">[Thursday 10 March 2011] [14:58:28] &lt;mikko&gt;   tested quickly locally</div>
<div class="line">[Thursday 10 March 2011] [15:22:36] &lt;pieterh&gt; private_meta: version assert... normally only if the code needs 2.1+ functionality</div>
<div class="line">[Thursday 10 March 2011] [15:23:11] &lt;pieterh&gt; mikko: yay!</div>
<div class="line">[Thursday 10 March 2011] [15:23:31] &lt;mikko&gt;   pieterh: daily builds around 5am should run the same thing on more platforms</div>
<div class="line">[Thursday 10 March 2011] [15:23:39] &lt;mikko&gt;   im exchausted</div>
<div class="line">[Thursday 10 March 2011] [15:26:09] &lt;pieterh&gt; mikko: can you tell me very briefly what the new tooling fixes?</div>
<div class="line">[Thursday 10 March 2011] [15:26:25] &lt;pieterh&gt; openpgm 5.1.113, obviously</div>
<div class="line">[Thursday 10 March 2011] [15:26:55] &lt;pieterh&gt; builds on specific platforms?</div>
<div class="line">[Thursday 10 March 2011] [15:26:59] &lt;mikko&gt;   updated openpgm, removes the build duplication from zeromq side</div>
<div class="line">[Thursday 10 March 2011] [15:27:16] &lt;pieterh&gt; so it uses the openpgm build directly, right</div>
<div class="line">[Thursday 10 March 2011] [15:27:20] &lt;mikko&gt;   the biggest benefit is that now it should be easier to upgrade openpgm in the future</div>
<div class="line">[Thursday 10 March 2011] [15:27:23] &lt;mikko&gt;   yes</div>
<div class="line">[Thursday 10 March 2011] [15:27:26] &lt;mikko&gt;   it invokes openpgm autotools build</div>
<div class="line">[Thursday 10 March 2011] [15:27:33] &lt;mikko&gt;   the &#8216;old way&#8217; was a huge hack</div>
<div class="line">[Thursday 10 March 2011] [15:28:05] &lt;pieterh&gt; this is wonderful</div>
<div class="line">[Thursday 10 March 2011] [15:28:15] &lt;mikko&gt;   also, there is a hidden feature</div>
<div class="line">[Thursday 10 March 2011] [15:28:26] &lt;mikko&gt;   it&#8217;s not advertised much as its not well tested</div>
<div class="line">[Thursday 10 March 2011] [15:28:34] &lt;mikko&gt;   you can drop in new version of libpgm</div>
<div class="line">[Thursday 10 March 2011] [15:28:36] &lt;mikko&gt;   and do:</div>
<div class="line">[Thursday 10 March 2011] [15:28:47] &lt;mikko&gt;   ./configure &#8211;with-pgm=libpgm-x.y.z</div>
<div class="line">[Thursday 10 March 2011] [15:29:00] &lt;mikko&gt;   it searches for libpgm-x.y.z.tar.gz in foreign/openpgm</div>
<div class="line">[Thursday 10 March 2011] [15:29:05] &lt;pieterh&gt; ah, you mentioned that... sweet</div>
<div class="line">[Thursday 10 March 2011] [15:29:16] &lt;mikko&gt;   also, autotools builds on both packages paves way for including them in distros</div>
<div class="line">[Thursday 10 March 2011] [15:29:26] &lt;mikko&gt;   which would be ideal in longer run</div>
<div class="line">[Thursday 10 March 2011] [15:29:37] &lt;mikko&gt;   hopefully the new build doesn&#8217;t break many things</div>
<div class="line">[Thursday 10 March 2011] [15:32:51] &lt;pieterh&gt; mikko: I&#8217;ll commit this to the 2.1 and push, then we can test it with the autobuild system...</div>
<div class="line">[Thursday 10 March 2011] [15:33:00] &lt;mikko&gt;   pieterh: yeah</div>
<div class="line">[Thursday 10 March 2011] [15:33:03] &lt;mikko&gt;   sounds good</div>
<div class="line">[Thursday 10 March 2011] [15:33:03] &lt;pieterh&gt; done</div>
<div class="line">[Thursday 10 March 2011] [15:33:12] &lt;pieterh&gt; excellent, lovely, amazing stuff!</div>
<div class="line">[Thursday 10 March 2011] [15:33:14] &lt;mikko&gt;   we can always revert if things break left right and center</div>
<div class="line">[Thursday 10 March 2011] [15:33:24] &lt;pieterh&gt; nah, never back, always forwards!</div>
<div class="line">[Thursday 10 March 2011] [15:33:41] &lt;pieterh&gt; after that we can prepare a patch to send to Sustrik upstream...</div>
<div class="line">[Thursday 10 March 2011] [15:35:43] &lt;pieterh&gt; g&#8217;nite, my kids are destroying my TV, I need to intervene...</div>
<div class="line">[Thursday 10 March 2011] [15:37:26] &lt;mikko&gt;   nite!</div>
<div class="line">[Thursday 10 March 2011] [15:59:57] &lt;Guthur&gt;  pieterh, how many kids you got, if you don&#8217;t mind me asking?</div>
<div class="line">[Thursday 10 March 2011] [16:30:02] &lt;private_meta&gt;    pieterh: I figured that, but zhelpers in c++ doesn&#8217;t offer the functionality, so it&#8217;s missing in all files up to now</div>
<div class="line">[Thursday 10 March 2011] [17:16:17] &lt;guido_g&gt; good night all!</div>
<div class="line">[Thursday 10 March 2011] [17:17:37] &lt;Guthur&gt;  night guido_g</div>
<div class="line">[Friday 11 March 2011] [01:38:17] &lt;sena&gt;      hi I have a bit of cleanup problem when using zeromq.</div>
<div class="line">[Friday 11 March 2011] [01:38:33] &lt;sena&gt;      i am using the c++ classes for coding</div>
<div class="line">[Friday 11 March 2011] [01:39:53] &lt;sena&gt;      when deleting the object windows gives an run time error which says that the application was shutdown in an unusual way</div>
<div class="line">[Friday 11 March 2011] [01:40:26] &lt;sena&gt;      before deleting the objects i am deleting the sockets and then contexts</div>
<div class="line">[Friday 11 March 2011] [01:40:50] &lt;phaplt&gt;    i am newbee zmq</div>
<div class="line">[Friday 11 March 2011] [01:40:57] &lt;sena&gt;      the delete is fine but when trying to delete the encapsulating class the program gives the error</div>
<div class="line">[Friday 11 March 2011] [01:41:03] &lt;sena&gt;      any suggestions</div>
<div class="line">[Friday 11 March 2011] [01:41:03] &lt;phaplt&gt;    anybody help me tutorial</div>
<div class="line">[Friday 11 March 2011] [01:41:14] &lt;sena&gt;      The version is 2.1 rc2</div>
<div class="line">[Friday 11 March 2011] [01:41:28] &lt;sena&gt;      all the sockets are using ZMQ_PAIR</div>
<div class="line">[Friday 11 March 2011] [01:42:04] &lt;sena&gt;      this is all inter thread communication</div>
<div class="line">[Friday 11 March 2011] [01:53:43] &lt;guido_g&gt;   sena: try to give a minimal working code example and the complete error message, otherwise it&#8217;s not possible to help you</div>
<div class="line">[Friday 11 March 2011] [01:54:38] &lt;guido_g&gt;   sena: put both on a paste-bin like <a class="reference external" href="https://gist.github.com/">https://gist.github.com/</a></div>
<div class="line">[Friday 11 March 2011] [03:35:05] &lt;sena&gt;      got the problem solved</div>
<div class="line">[Friday 11 March 2011] [03:49:20] &lt;pieterh&gt;   g&#8217;morning folks</div>
<div class="line">[Friday 11 March 2011] [03:51:44] &lt;guido_g&gt;   mornin</div>
<div class="line">[Friday 11 March 2011] [04:00:52] &lt;pieterh&gt;   hi guido_g!</div>
<div class="line">[Friday 11 March 2011] [04:05:13] &lt;sena&gt;      in PAIR socket pattern can one socket pair with many sockets</div>
<div class="line">[Friday 11 March 2011] [04:18:17] &lt;Guthur&gt;    sena: From the man: A socket of type ZMQ_PAIR can only be connected to a single peer at any one time. No message routing or filtering is performed on messages sent over a ZMQ_PAIR socket.</div>
<div class="line">[Friday 11 March 2011] [04:18:33] &lt;Guthur&gt;    <a class="reference external" href="http://api.zeromq.org/master:zmq-socket#toc15">http://api.zeromq.org/master:zmq-socket#toc15</a></div>
<div class="line">[Friday 11 March 2011] [04:23:18] &lt;sena&gt;      thanx for clarifying.</div>
<div class="line">[Friday 11 March 2011] [04:24:26] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Friday 11 March 2011] [04:49:12] &lt;Guthur&gt;    pieterh: Should the EINTR situation be documented?</div>
<div class="line">[Friday 11 March 2011] [04:49:25] &lt;Guthur&gt;    or is the mailing list message enough</div>
<div class="line">[Friday 11 March 2011] [04:49:27] &lt;pieterh&gt;   Guthur: certainly in the C# binding page...</div>
<div class="line">[Friday 11 March 2011] [04:49:47] &lt;pieterh&gt;   the mailing list message was clear</div>
<div class="line">[Friday 11 March 2011] [04:49:49] &lt;Guthur&gt;    yeah, it&#8217;s not specific to C# and Mono though</div>
<div class="line">[Friday 11 March 2011] [04:49:54] &lt;pieterh&gt;   indeed...</div>
<div class="line">[Friday 11 March 2011] [04:50:08] &lt;Guthur&gt;    just more apparent due to the runtimes use of signals</div>
<div class="line">[Friday 11 March 2011] [04:50:18] &lt;pieterh&gt;   I&#8217;m still somewhat... surprised... that Linux poll() seems broken this way</div>
<div class="line">[Friday 11 March 2011] [04:50:40] &lt;pieterh&gt;   i.e. any user signaling at all will cause EINTR</div>
<div class="line">[Friday 11 March 2011] [04:51:06] &lt;Guthur&gt;    yeah, it&#8217;s not nice</div>
<div class="line">[Friday 11 March 2011] [04:51:10] &lt;pieterh&gt;   there is perhaps a workaround</div>
<div class="line">[Friday 11 March 2011] [04:51:51] &lt;pieterh&gt;   there are two issues. first, trapping a real interrupt, i.e. SIGINT (Ctrl-C)</div>
<div class="line">[Friday 11 March 2011] [04:52:04] &lt;pieterh&gt;   second, continuing with the poll if it&#8217;s not a real interrupt</div>
<div class="line">[Friday 11 March 2011] [04:52:19] &lt;Guthur&gt;    yep</div>
<div class="line">[Friday 11 March 2011] [04:52:36] &lt;pieterh&gt;   for the first, a normal signal handler will do it, I&#8217;ve an example in zhelpers.h, at the end</div>
<div class="line">[Friday 11 March 2011] [04:52:59] &lt;pieterh&gt;   for the second, the problem is calculating the time properly so the remaining poll is not longer than expected</div>
<div class="line">[Friday 11 March 2011] [04:53:15] &lt;Guthur&gt;    hehe, that was just on the tip of my tongue</div>
<div class="line">[Friday 11 March 2011] [04:53:21] &lt;pieterh&gt;   I believe there is an example of code that does this, since zmq_poll used to have the same issue of exiting randomly</div>
<div class="line">[Friday 11 March 2011] [04:53:30] &lt;pieterh&gt;   it&#8217;s on the wiki somewhere, afair, let me check</div>
<div class="line">[Friday 11 March 2011] [04:53:52] &lt;pieterh&gt;   heh</div>
<div class="line">[Friday 11 March 2011] [04:53:52] &lt;pieterh&gt;   <a class="reference external" href="http://www.zeromq.org/topics:zmq-poll-workaround">http://www.zeromq.org/topics:zmq-poll-workaround</a></div>
<div class="line">[Friday 11 March 2011] [04:55:25] &lt;Guthur&gt;    I could work that into clrzmq2 at the very least</div>
<div class="line">[Friday 11 March 2011] [04:56:12] &lt;Guthur&gt;    cheers for the suggestion pieterh</div>
<div class="line">[Friday 11 March 2011] [04:56:30] &lt;pieterh&gt;   np :-)</div>
<div class="line">[Friday 11 March 2011] [04:56:42] &lt;Guthur&gt;    this has been a nice adventure, hehe</div>
<div class="line">[Friday 11 March 2011] [04:56:53] &lt;Guthur&gt;    it would be good to end it with some sort of solution</div>
<div class="line">[Friday 11 March 2011] [04:57:20] &lt;pieterh&gt;   it&#8217;s great that we have the binding layer where we can fix up this kind of stuff</div>
<div class="line">[Friday 11 March 2011] [04:58:49] &lt;Guthur&gt;    yeah I&#8217;m happy doing that, my worst case scenario was having to leave it for the user to deal with</div>
<div class="line">[Friday 11 March 2011] [04:59:17] &lt;Guthur&gt;    would make app code necessarily complex imo</div>
<div class="line">[Friday 11 March 2011] [05:13:23] &lt;Guthur&gt;    unnecessarily*</div>
<div class="line">[Friday 11 March 2011] [05:16:09] &lt;guido_g&gt;   unbelievable, c++ socket_t miss a close method</div>
<div class="line">[Friday 11 March 2011] [05:17:25] &lt;guido_g&gt;   so you can&#8217;t close a socket in c++</div>
<div class="line">[Friday 11 March 2011] [05:20:37] &lt;pieterh&gt;   srsly? wow</div>
<div class="line">[Friday 11 March 2011] [05:21:01] &lt;pieterh&gt;   guido_g: can you provide a patch for that?</div>
<div class="line">[Friday 11 March 2011] [05:21:06] &lt;guido_g&gt;   on the way</div>
<div class="line">[Friday 11 March 2011] [05:21:12] &lt;guido_g&gt;   first issue</div>
<div class="line">[Friday 11 March 2011] [05:21:17] &lt;guido_g&gt;   then ranting</div>
<div class="line">[Friday 11 March 2011] [05:21:22] &lt;guido_g&gt;   then patch</div>
<div class="line">[Friday 11 March 2011] [05:21:24] &lt;pieterh&gt;   excellent :-) I&#8217;ll make sure it gets into 2.1 stable</div>
<div class="line">[Friday 11 March 2011] [05:21:27] &lt;guido_g&gt;   stick to the process :)</div>
<div class="line">[Friday 11 March 2011] [05:21:43] &lt;pieterh&gt;   process is everything</div>
<div class="line">[Friday 11 March 2011] [05:21:54] &lt;Guthur&gt;    guido_g: I thought you were a python hack</div>
<div class="line">[Friday 11 March 2011] [05:22:06] &lt;guido_g&gt;   Guthur: sure</div>
<div class="line">[Friday 11 March 2011] [05:22:22] &lt;guido_g&gt;   re-learning c++ atm</div>
<div class="line">[Friday 11 March 2011] [05:23:04] &lt;Guthur&gt;    you have my utmost sympathies</div>
<div class="line">[Friday 11 March 2011] [05:24:14] &lt;guido_g&gt;   it&#8217;s wanted in the industry, so i&#8217;ve close to no choice :/</div>
<div class="line">[Friday 11 March 2011] [05:24:42] &lt;Guthur&gt;    crumbs, which industry?</div>
<div class="line">[Friday 11 March 2011] [05:24:47] &lt;Guthur&gt;    broadcast?</div>
<div class="line">[Friday 11 March 2011] [05:24:58] &lt;Guthur&gt;    media*</div>
<div class="line">[Friday 11 March 2011] [05:27:50] &lt;guido_g&gt;   it consulting in generall, i&#8217;m only little conslutant ,)</div>
<div class="line">[Friday 11 March 2011] [05:28:59] &lt;guido_g&gt;   pieterh: will a simple pull req on zeromq2/master do?</div>
<div class="line">[Friday 11 March 2011] [05:29:13] &lt;pieterh&gt;   guido_g: nope, that&#8217;s the one thing that won&#8217;t work</div>
<div class="line">[Friday 11 March 2011] [05:29:22] &lt;pieterh&gt;   sustrik is not accepting pull requests</div>
<div class="line">[Friday 11 March 2011] [05:29:26] &lt;pieterh&gt;   (yet)</div>
<div class="line">[Friday 11 March 2011] [05:29:27] &lt;guido_g&gt;   <em>sigh</em></div>
<div class="line">[Friday 11 March 2011] [05:29:57] &lt;pieterh&gt;   feel free to lobby him to do so, I&#8217;ve tried and failed (hi sustrik!)</div>
<div class="line">[Friday 11 March 2011] [05:30:15] &lt;pieterh&gt;   simplest is to send a signed patch to zeromq-dev</div>
<div class="line">[Friday 11 March 2011] [05:30:55] &lt;guido_g&gt;   forgot how to do this...</div>
<div class="line">[Friday 11 March 2011] [05:30:58] &lt;pieterh&gt;   then I can apply that to zeromq2-1/master (my git for 2.1 releases) and sustrik can do the same for zeromq2/master (source development git)</div>
<div class="line">[Friday 11 March 2011] [05:31:03] &lt;pieterh&gt;   easy</div>
<div class="line">[Friday 11 March 2011] [05:31:03] &lt;guido_g&gt;   so reading</div>
<div class="line">[Friday 11 March 2011] [05:31:30] &lt;pieterh&gt;   yeah, I don&#8217;t keep it in memory cache either...</div>
<div class="line">[Friday 11 March 2011] [05:31:45] &lt;pieterh&gt;   i assume this fix can also go into 2.0 stable?</div>
<div class="line">[Friday 11 March 2011] [05:31:59] &lt;guido_g&gt;   yes, it&#8217;s extremly small</div>
<div class="line">[Friday 11 March 2011] [05:32:04] &lt;pieterh&gt;   lovely lovely</div>
<div class="line">[Friday 11 March 2011] [05:32:53] &lt;Guthur&gt;    I&#8217;m sure there is benefits to going with the patch strategy</div>
<div class="line">[Friday 11 March 2011] [05:32:58] &lt;pieterh&gt;   not really</div>
<div class="line">[Friday 11 March 2011] [05:33:17] &lt;pieterh&gt;   it&#8217;s better than nothing but it&#8217;s weak compared to pull requests</div>
<div class="line">[Friday 11 March 2011] [05:33:24]      * guido_g is off reading git book</div>
<div class="line">[Friday 11 March 2011] [05:34:14] &lt;pieterh&gt;   when all our gits are on github there is really no excuse for NOT doing pull requests except &#8220;not familiar with it, won&#8217;t use it, don&#8217;t trust github&#8221;. Sigh.</div>
<div class="line">[Friday 11 March 2011] [05:46:16] &lt;guido_g&gt;   hope that goes through</div>
<div class="line">[Friday 11 March 2011] [05:47:01] &lt;guido_g&gt;   <a class="reference external" href="https://gist.github.com/865705">https://gist.github.com/865705</a>  &lt;- for review</div>
<div class="line">[Friday 11 March 2011] [05:48:04] &lt;pieterh&gt;   guido_g: this affects just the C++ API?</div>
<div class="line">[Friday 11 March 2011] [05:48:13] &lt;guido_g&gt;   yes</div>
<div class="line">[Friday 11 March 2011] [05:48:23] &lt;guido_g&gt;   in zmq.hpp, nothing else</div>
<div class="line">[Friday 11 March 2011] [05:48:24] &lt;pieterh&gt;   you have a test case?</div>
<div class="line">[Friday 11 March 2011] [05:48:41] &lt;guido_g&gt;   you&#8217;re joking?</div>
<div class="line">[Friday 11 March 2011] [05:48:57] &lt;pieterh&gt;   ok, my question is &#8216;what&#8217;s your confidence level that this patch is correct?&#8217;</div>
<div class="line">[Friday 11 March 2011] [05:49:01] &lt;pieterh&gt;   assume I don&#8217;t know the code</div>
<div class="line">[Friday 11 March 2011] [05:50:42] &lt;guido_g&gt;   this is mostly stolen from the existing destructor code and a the error reporting of other methods.</div>
<div class="line">[Friday 11 March 2011] [05:51:08] &lt;guido_g&gt;   so, given that all the other mthods are tested well... <em>cough</em></div>
<div class="line">[Friday 11 March 2011] [05:51:24] &lt;guido_g&gt;   i sure that the patch is ok</div>
<div class="line">[Friday 11 March 2011] [05:51:43] &lt;guido_g&gt;   btw, will use it myself in a few seconds :)</div>
<div class="line">[Friday 11 March 2011] [05:52:00] &lt;pieterh&gt;   ok, I don&#8217;t want to be ungrateful, but since I&#8217;d like to put this into two stable version (2.0, 2.1), could you please confirm that it actually works by running a before/after test?</div>
<div class="line">[Friday 11 March 2011] [05:52:10] &lt;pieterh&gt;   <a href="#id89"><span class="problematic" id="id90">*</span></a>versions</div>
<div class="line">[Friday 11 March 2011] [05:52:31] &lt;guido_g&gt;   i&#8217;m on my to compile w/ and test w/ the patch</div>
<div class="line">[Friday 11 March 2011] [05:52:38] &lt;guido_g&gt;   just a few seconds...</div>
<div class="line">[Friday 11 March 2011] [05:52:42] &lt;pieterh&gt;   ack</div>
<div class="line">[Friday 11 March 2011] [05:53:03] &lt;guido_g&gt;   oh</div>
<div class="line">[Friday 11 March 2011] [05:53:12] &lt;guido_g&gt;   this is master...</div>
<div class="line">[Friday 11 March 2011] [05:53:32] &lt;guido_g&gt;   are thre known issues?</div>
<div class="line">[Friday 11 March 2011] [05:55:30] &lt;pieterh&gt;   what do you mean?</div>
<div class="line">[Friday 11 March 2011] [05:56:06] &lt;guido_g&gt;   i&#8217;m using zeromq2-1 as development env</div>
<div class="line">[Friday 11 March 2011] [05:56:17] &lt;guido_g&gt;   normally</div>
<div class="line">[Friday 11 March 2011] [05:56:59] &lt;pieterh&gt;   sure</div>
<div class="line">[Friday 11 March 2011] [05:57:15] &lt;pieterh&gt;   I&#8217;ve already pushed your patch to the 2-1 master, at <a class="reference external" href="https://github.com/zeromq/zeromq2-1">https://github.com/zeromq/zeromq2-1</a></div>
<div class="line">[Friday 11 March 2011] [05:58:52] &lt;guido_g&gt;   ok, the close works</div>
<div class="line">[Friday 11 March 2011] [05:58:55] &lt;guido_g&gt;   but...</div>
<div class="line">[Friday 11 March 2011] [05:59:30] &lt;guido_g&gt;   the destructor doesn&#8217;t like it.</div>
<div class="line">[Friday 11 March 2011] [05:59:35] &lt;guido_g&gt;   next patch</div>
<div class="line">[Friday 11 March 2011] [05:59:50] &lt;pieterh&gt;   bah, pull requests only work between forks of the same repository... :-/</div>
<div class="line">[Friday 11 March 2011] [06:00:53] &lt;pieterh&gt;   cumulative patches, guido_g, or one clean one with all changes?</div>
<div class="line">[Friday 11 March 2011] [06:01:02] &lt;pieterh&gt;   I&#8217;ll go undo that last patch then</div>
<div class="line">[Friday 11 March 2011] [06:01:14] &lt;guido_g&gt;   no</div>
<div class="line">[Friday 11 March 2011] [06:01:19] &lt;lestrrat&gt;  you don&#8217;t really need a pullreq to do inter-repo merges.</div>
<div class="line">[Friday 11 March 2011] [06:01:21] &lt;lestrrat&gt;  in git.</div>
<div class="line">[Friday 11 March 2011] [06:01:22] &lt;guido_g&gt;   i&#8217;ll send an addition</div>
<div class="line">[Friday 11 March 2011] [06:01:30] &lt;guido_g&gt;   +inal one</div>
<div class="line">[Friday 11 March 2011] [06:01:48] &lt;pieterh&gt;   lestrrat: I&#8217;ve used fetching + cherry-picking</div>
<div class="line">[Friday 11 March 2011] [06:01:52] &lt;pieterh&gt;   is that what you mean?</div>
<div class="line">[Friday 11 March 2011] [06:02:07] &lt;pieterh&gt;   guido_g: you&#8217;ll want to submit a single clean patch to the list</div>
<div class="line">[Friday 11 March 2011] [06:02:18] &lt;pieterh&gt;   for me, fine to patch the patch</div>
<div class="line">[Friday 11 March 2011] [06:03:00] &lt;lestrrat&gt;  so if guido wants to you to pull what he&#8217;s got, 1) guido fetch+merge from main repo master, 2) perterh fetches and merges from guido&#8217;s repo</div>
<div class="line">[Friday 11 March 2011] [06:03:12] &lt;lestrrat&gt;  this is by far the cleanest way to merge stuff</div>
<div class="line">[Friday 11 March 2011] [06:03:34] &lt;lestrrat&gt;  cherry-picking is great if you have a really complex patch application, but generally you just want to merge</div>
<div class="line">[Friday 11 March 2011] [06:03:49] &lt;lestrrat&gt;  just make sure merging to the mainline is done cleanly</div>
<div class="line">[Friday 11 March 2011] [06:03:54] &lt;lestrrat&gt;  (i.e., fast-forward only)</div>
<div class="line">[Friday 11 March 2011] [06:04:15] &lt;pieterh&gt;   lestrrat: hang on, you overloaded my git jargon buffer... :-)</div>
<div class="line">[Friday 11 March 2011] [06:04:18] &lt;guido_g&gt;   ok</div>
<div class="line">[Friday 11 March 2011] [06:04:33] &lt;guido_g&gt;   unfortunately i send the first one to the list</div>
<div class="line">[Friday 11 March 2011] [06:04:36] &lt;pieterh&gt;   guido_g: let&#8217;s try what lestrrat is describing here...</div>
<div class="line">[Friday 11 March 2011] [06:04:36] &lt;guido_g&gt;   <a href="#id91"><span class="problematic" id="id92">*</span></a>sent</div>
<div class="line">[Friday 11 March 2011] [06:04:43] &lt;pieterh&gt;   guido_g: just email again to cancel it...</div>
<div class="line">[Friday 11 March 2011] [06:05:12] &lt;pieterh&gt;   lestrrat: can you please walk us through this with actual git commands? Afterwards I&#8217;ll document it, useful stuff</div>
<div class="line">[Friday 11 March 2011] [06:05:23] &lt;Guthur&gt;    pieterh: does patches not become more trackable</div>
<div class="line">[Friday 11 March 2011] [06:05:33] &lt;lestrrat&gt;  sure, but let me rephrase what I was saying</div>
<div class="line">[Friday 11 March 2011] [06:05:37] &lt;Guthur&gt;    making it easier to review and possibly back out</div>
<div class="line">[Friday 11 March 2011] [06:05:42] &lt;pieterh&gt;   Guthur: on an email list? up to a point, yes</div>
<div class="line">[Friday 11 March 2011] [06:06:01] &lt;lestrrat&gt;  you basically don&#8217;t want to make conflicts in master. you want the cleanest possible git merge, which is &#8220;fast-forward&#8221;</div>
<div class="line">[Friday 11 March 2011] [06:06:12] &lt;pieterh&gt;   ok</div>
<div class="line">[Friday 11 March 2011] [06:06:30] &lt;lestrrat&gt;  to do this, the merge target ( guido&#8217;s ) need to be aligned with the mater&#8217;s history</div>
<div class="line">[Friday 11 March 2011] [06:06:48] &lt;lestrrat&gt;  that can only be done by hand &#8211; and guido needs to do this by pulling from master</div>
<div class="line">[Friday 11 March 2011] [06:07:38] &lt;pieterh&gt;   lestrrat: hang on, let me explain the context a little</div>
<div class="line">[Friday 11 March 2011] [06:07:44] &lt;lestrrat&gt;  sure</div>
<div class="line">[Friday 11 March 2011] [06:08:06] &lt;pieterh&gt;   we have three gits, a 2-2 master, a 2-1 master, and a fork of the 2-1 master which guido_g is working on</div>
<div class="line">[Friday 11 March 2011] [06:08:30] &lt;guido_g&gt;   going to make a clean patch now</div>
<div class="line">[Friday 11 March 2011] [06:08:35] &lt;pieterh&gt;   we want to get changes from guido_g&#8217;s git into the two other gits</div>
<div class="line">[Friday 11 March 2011] [06:09:07] &lt;pieterh&gt;   the 2-2 master and 2-1 master have diverged some time ago</div>
<div class="line">[Friday 11 March 2011] [06:09:14] &lt;lestrrat&gt;  k</div>
<div class="line">[Friday 11 March 2011] [06:09:24] &lt;pieterh&gt;   2-1 cherry-picks specific commits from 2-2, over time</div>
<div class="line">[Friday 11 March 2011] [06:09:36] &lt;pieterh&gt;   we also have a 2-0 master</div>
<div class="line">[Friday 11 March 2011] [06:09:40] &lt;pieterh&gt;   :-) that&#8217;s our arrangement</div>
<div class="line">[Friday 11 March 2011] [06:09:56] &lt;pieterh&gt;   we&#8217;re now looking for a simple process everyone can use</div>
<div class="line">[Friday 11 March 2011] [06:10:23] &lt;lestrrat&gt;  between 2-2 and 2-1 ,  you&#8217;d need to cherry-pick</div>
<div class="line">[Friday 11 March 2011] [06:10:29] &lt;pieterh&gt;   right</div>
<div class="line">[Friday 11 March 2011] [06:10:37] &lt;lestrrat&gt;  between 2-1 and guido_g, you shouldn&#8217;t</div>
<div class="line">[Friday 11 March 2011] [06:10:48] &lt;pieterh&gt;   we&#8217;d have made 2-1 and 2-0 <em>forks</em> except github doesn&#8217;t allow that within one username</div>
<div class="line">[Friday 11 March 2011] [06:11:14] &lt;pieterh&gt;   ok, so guido_g first pulls from 2-1 master, makes sure his history is correct</div>
<div class="line">[Friday 11 March 2011] [06:11:19] &lt;lestrrat&gt;  well</div>
<div class="line">[Friday 11 March 2011] [06:11:26] &lt;lestrrat&gt;  forking doesn&#8217;t change anything in this context</div>
<div class="line">[Friday 11 March 2011] [06:11:29] &lt;pieterh&gt;   ok&#8217;</div>
<div class="line">[Friday 11 March 2011] [06:12:03] &lt;lestrrat&gt;  if you want to merge 2-1 and 2-0 (or whatever else), all you really need to do is to let your local git repo know about these repos</div>
<div class="line">[Friday 11 March 2011] [06:12:08] &lt;lestrrat&gt;  using &#8220;git remote&#8221;</div>
<div class="line">[Friday 11 March 2011] [06:12:18] &lt;lestrrat&gt;  and then, git merge would just allow you to merge these.</div>
<div class="line">[Friday 11 March 2011] [06:12:24] &lt;lestrrat&gt;  (no pullreqs required)</div>
<div class="line">[Friday 11 March 2011] [06:12:30] &lt;pieterh&gt;   right</div>
<div class="line">[Friday 11 March 2011] [06:12:43] &lt;lestrrat&gt;  you merge, tweak, and then &#8220;git push 2-1 mybranch&#8221; or whatever.</div>
<div class="line">[Friday 11 March 2011] [06:13:02] &lt;pieterh&gt;   the advantage of pullreqs is that they are like issues, trackable, discussion, etc.</div>
<div class="line">[Friday 11 March 2011] [06:13:39] &lt;lestrrat&gt;  yeah, that&#8217;s understood, but if somebody wants to make changes to 2-1 and 2-0, you just going to have to</div>
<div class="line">[Friday 11 March 2011] [06:14:11] &lt;lestrrat&gt;  1) fork 2-1 2) make changes and send pullreq to 2-1 3) do the above git remove dance, and merge stuff to 2-0 3) push to github 2-0</div>
<div class="line">[Friday 11 March 2011] [06:14:39] &lt;pieterh&gt;   yeah, and forking isn&#8217;t an option, so pull reqs are basically out</div>
<div class="line">[Friday 11 March 2011] [06:15:07] &lt;pieterh&gt;   ok, fast-forward merging, makes sense</div>
<div class="line">[Friday 11 March 2011] [06:15:19] &lt;pieterh&gt;   thanks, I&#8217;ll do my reading and make sure I understand that</div>
<div class="line">[Friday 11 March 2011] [06:15:39] &lt;Guthur&gt;    we have just had the craziest enquiry from one of our clients, a rather large internet based firm, their legal team fears that because of the OCaml and Ruby code generators in the Thrift library their code maybe infected by GPL</div>
<div class="line">[Friday 11 March 2011] [06:15:51] &lt;Guthur&gt;    we don&#8217;t even use these code generators, doh</div>
<div class="line">[Friday 11 March 2011] [06:15:58] &lt;Guthur&gt;    I think they need a new legal team</div>
<div class="line">[Friday 11 March 2011] [06:16:30] &lt;lestrrat&gt;  on a different project with about 10 devs, they just follow that rule: &#8220;all merges to master MUST be fast-forwards (to make sure they apply cleanly)&#8221; &#8220;Otherwise, create your own branch and do whatever you want to do. When you&#8217;re done, let us know the name of the branch so we can merge to master&#8221;</div>
<div class="line">[Friday 11 March 2011] [06:17:42] &lt;pieterh&gt;   guido_g: ok, waiting for your new patch</div>
<div class="line">[Friday 11 March 2011] [06:18:30] &lt;lestrrat&gt;  well, good luck with the merges :)</div>
<div class="line">[Friday 11 March 2011] [06:18:40] &lt;pieterh&gt;   :-) thanks</div>
<div class="line">[Friday 11 March 2011] [06:18:49]      * lestrrat goes back to dealing with the quake aftershocks</div>
<div class="line">[Friday 11 March 2011] [06:19:10] &lt;pieterh&gt;   lestrrat: good luck, I hope things aren&#8217;t too bad</div>
<div class="line">[Friday 11 March 2011] [06:19:50] &lt;lestrrat&gt;  things around my home is sane enough that I can blab about git merges :) but thanks anyways</div>
<div class="line">[Friday 11 March 2011] [06:23:36] &lt;guido_g&gt;   <a class="reference external" href="https://gist.github.com/865763">https://gist.github.com/865763</a> &lt; -the new and better tested one</div>
<div class="line">[Friday 11 March 2011] [06:24:59] &lt;pieterh&gt;   &#8220;tested&#8221;, that has a nice ring about it</div>
<div class="line">[Friday 11 March 2011] [06:25:12] &lt;pieterh&gt;   guido_g: ok, thanks, applying that now to 2-0 and 2-1</div>
<div class="line">[Friday 11 March 2011] [06:25:39] &lt;guido_g&gt;   tested means compiled and used in a program w/o problems</div>
<div class="line">[Friday 11 March 2011] [06:28:02] &lt;guido_g&gt;   and now for the ml again</div>
<div class="line">[Friday 11 March 2011] [06:30:07] &lt;pieterh&gt;   ok, applied to 2-0 and 2-1</div>
<div class="line">[Friday 11 March 2011] [06:30:26] &lt;guido_g&gt;   and sent to the ml</div>
<div class="line">[Friday 11 March 2011] [06:30:49] &lt;guido_g&gt;   i should really become more patient</div>
<div class="line">[Friday 11 March 2011] [06:31:40] &lt;pieterh&gt;   nah, we release maintainers just have to make sure to ask the right questions</div>
<div class="line">[Friday 11 March 2011] [06:33:18] &lt;guido_g&gt;   btw, why did you disable multicast loop in 2.1?</div>
<div class="line">[Friday 11 March 2011] [06:33:41] &lt;pieterh&gt;   Steve-o&#8217;s contribution</div>
<div class="line">[Friday 11 March 2011] [06:35:08] &lt;guido_g&gt;   should be mentioned at a prominent place in the release notes, because it will break single-box testing</div>
<div class="line">[Friday 11 March 2011] [06:35:39] &lt;pieterh&gt;   there was iirc some discussion of this on the list, let me check...</div>
<div class="line">[Friday 11 March 2011] [06:38:57] &lt;pieterh&gt;   there is some discussion about a week ago but tbh I&#8217;m not following it totally</div>
<div class="line">[Friday 11 March 2011] [06:39:00] &lt;guido_g&gt;   yes, but everyone is reading the ml or remembers all topics going on there</div>
<div class="line">[Friday 11 March 2011] [06:39:08] &lt;guido_g&gt;   <em>but *not</em></div>
<div class="line">[Friday 11 March 2011] [06:39:24] &lt;pieterh&gt;   yes, I meant just for us, now, to understand this</div>
<div class="line">[Friday 11 March 2011] [06:39:43] &lt;pieterh&gt;   afaics Steve says multicast loop doesn&#8217;t work on Linux and lo is lossy</div>
<div class="line">[Friday 11 March 2011] [06:40:40] &lt;guido_g&gt;   going to read the patch...</div>
<div class="line">[Friday 11 March 2011] [06:44:53] &lt;guido_g&gt;   seems like the socket optoin for multicast loopback is turned off, nothing to w/ the lo interface</div>
<div class="line">[Friday 11 March 2011] [06:45:14] &lt;pieterh&gt;   I&#8217;d suggest asking Steve, on the ml, where he posted the patch, what the rationale is</div>
<div class="line">[Friday 11 March 2011] [06:46:55] &lt;guido_g&gt;   ok</div>
<div class="line">[Friday 11 March 2011] [06:51:20] &lt;guido_g&gt;   time for a break (<a class="reference external" href="http://2.bp.blogspot.com/_ELzM_S573r8/SJthznx2u3I/AAAAAAAAGgU/dqPtF2Xr718/s400/computer-pause.jpg">http://2.bp.blogspot.com/_ELzM_S573r8/SJthznx2u3I/AAAAAAAAGgU/dqPtF2Xr718/s400/computer-pause.jpg</a>)</div>
<div class="line">[Friday 11 March 2011] [06:51:46] &lt;pieterh&gt;   :-)</div>
<div class="line">[Friday 11 March 2011] [07:12:52] &lt;Eruquen&gt;   Just one quick question: &#8220;When sending messages a ZMQ_XREP socket shall remove the first part of the message [..]&#8221;. Is that my job or is it what XREP does automatically?</div>
<div class="line">[Friday 11 March 2011] [07:14:04] &lt;pieterh&gt;   Eruquen: this is how the XREP / ROUTER socket works, read Ch3 of the guide for extensive explanation</div>
<div class="line">[Friday 11 March 2011] [07:14:24] &lt;pieterh&gt;   the socket gives you an extra frame on recv and expects an extra frame on send</div>
<div class="line">[Friday 11 March 2011] [07:14:38] &lt;pieterh&gt;   that frame has the identity of the sender, and the recipient, respectively</div>
<div class="line">[Friday 11 March 2011] [07:15:13] &lt;Eruquen&gt;   great, thank you.. I think that was the only piece of the puzzle I was missing</div>
<div class="line">[Friday 11 March 2011] [08:10:00] &lt;guido_g&gt;   re</div>
<div class="line">[Friday 11 March 2011] [11:08:44] &lt;Guthur&gt;    has anyone ever looked at using ZeroMQ as the transport for Thrift RPC stuff?</div>
<div class="line">[Friday 11 March 2011] [11:19:02]      * guido_g is looking at <a class="reference external" href="http://msgpack.org/">http://msgpack.org/</a></div>
<div class="line">[Friday 11 March 2011] [11:33:06] &lt;Guthur&gt;    guido_g: It was more the RPC stuff</div>
<div class="line">[Friday 11 March 2011] [11:33:29] &lt;Guthur&gt;    Thrift seems to have succumb to the we will do everything project syndrome</div>
<div class="line">[Friday 11 March 2011] [11:34:12] &lt;Guthur&gt;    It even offers transport and server solutions</div>
<div class="line">[Friday 11 March 2011] [11:34:57] &lt;Guthur&gt;    guido_g: sorry I should have read closer</div>
<div class="line">[Friday 11 March 2011] [11:35:02] &lt;Guthur&gt;    it does RPC</div>
<div class="line">[Friday 11 March 2011] [11:35:07] &lt;Guthur&gt;    msgpack</div>
<div class="line">[Friday 11 March 2011] [11:35:16] &lt;guido_g&gt;   i know :)</div>
<div class="line">[Friday 11 March 2011] [11:35:38] &lt;guido_g&gt;   and can read thrift idl</div>
<div class="line">[Friday 11 March 2011] [11:35:46] &lt;guido_g&gt;   at least they claim that it can</div>
<div class="line">[Friday 11 March 2011] [11:54:50] &lt;guido_g&gt;   at least, it compiles :)</div>
<div class="line">[Friday 11 March 2011] [12:08:40] &lt;Guthur&gt;    guido_g: is there more marketing than substance</div>
<div class="line">[Friday 11 March 2011] [12:08:51] &lt;jobytaffey&gt;        Hi, I&#8217;m having a problem with zeromq-2.1.0. I have a program in C, using libev to have one ZMQ REP socket and stdin. I&#8217;m compiling against libefence for malloc checking and I&#8217;m getting ocassional crashes. But, when I remove libefence I can&#8217;t reproduce the problem. Could it be a problem with efence&#8217;s malloc wrappers not being thread safe? Or a 0mq bug? <a class="reference external" href="http://pastebin.com/cLdQ8Fms">http://pastebin.com/cLdQ8Fms</a></div>
<div class="line">[Friday 11 March 2011] [12:09:03] &lt;guido_g&gt;   Guthur: yes, it&#8217;s all a little shallow</div>
<div class="line">[Friday 11 March 2011] [12:09:05] &lt;Guthur&gt;    the 4x faster than protocol buffers seems hard to believe</div>
<div class="line">[Friday 11 March 2011] [12:09:28] &lt;Guthur&gt;    in all but the most contrived test</div>
<div class="line">[Friday 11 March 2011] [12:11:06] &lt;guido_g&gt;   otoh, i like the dynamic typing feature</div>
<div class="line">[Friday 11 March 2011] [12:17:34] &lt;pieterh&gt;   jobytaffey: could well be a problem with efence, yes</div>
<div class="line">[Friday 11 March 2011] [12:17:48] &lt;pieterh&gt;   I&#8217;d suggest valgrind instead</div>
<div class="line">[Friday 11 March 2011] [12:18:34] &lt;jobytaffey&gt;        Thanks, I&#8217;ll try it.</div>
<div class="line">[Friday 11 March 2011] [12:23:40] &lt;pieterh&gt;   jobytaffey: <a class="reference external" href="http://zguide.zeromq.org/page:all#toc31">http://zguide.zeromq.org/page:all#toc31</a></div>
<div class="line">[Friday 11 March 2011] [12:24:17] &lt;pieterh&gt;   all, I&#8217;ve rewritten the contribution tutorial, it was a bit messy</div>
<div class="line">[Friday 11 March 2011] [12:24:38] &lt;jobytaffey&gt;        Thanks again.</div>
<div class="line">[Friday 11 March 2011] [12:24:45] &lt;pieterh&gt;   np</div>
<div class="line">[Friday 11 March 2011] [12:41:40] &lt;cremes&gt;    can someone put the link to the 0mq irc logs up in the channel topic please?</div>
<div class="line">[Friday 11 March 2011] [12:41:48] &lt;cremes&gt;    i always forget what it is...</div>
<div class="line">[Friday 11 March 2011] [12:43:32] &lt;pieterh&gt;   cremes: it&#8217;s travlr who keeps it, afair, perhaps the link should go on this page <a class="reference external" href="http://www.zeromq.org/chatroom">http://www.zeromq.org/chatroom</a></div>
<div class="line">[Friday 11 March 2011] [12:43:46] &lt;pieterh&gt;   we don&#8217;t seem to have a channel admin</div>
<div class="line">[Friday 11 March 2011] [12:44:59] &lt;cremes&gt;    indeed, you are correct</div>
<div class="line">[Friday 11 March 2011] [12:45:11] &lt;cremes&gt;    i&#8217;ll add a link to travlr&#8217;s github page to the wiki</div>
<div class="line">[Friday 11 March 2011] [12:48:01] &lt;cremes&gt;    oh, it&#8217;s already there</div>
<div class="line">[Friday 11 March 2011] [12:48:07] &lt;pieterh&gt;   :-)</div>
<div class="line">[Friday 11 March 2011] [12:48:08] &lt;cremes&gt;    i&#8217;ll make it more prominent</div>
<div class="line">[Friday 11 March 2011] [12:48:37] &lt;pieterh&gt;   I didn&#8217;t even see it...</div>
<div class="line">[Friday 11 March 2011] [12:49:03] &lt;cremes&gt;    refresh and look</div>
<div class="line">[Friday 11 March 2011] [12:49:16] &lt;cremes&gt;    it&#8217;s slightly easier to find</div>
<div class="line">[Friday 11 March 2011] [12:50:39] &lt;pieterh&gt;   still seems very bland, let me try...</div>
<div class="line">[Friday 11 March 2011] [12:52:05] &lt;pieterh&gt;   try now, cremes</div>
<div class="line">[Friday 11 March 2011] [12:52:24] &lt;cremes&gt;    ooh, even better</div>
<div class="line">[Friday 11 March 2011] [12:53:35] &lt;pieterh&gt;   someday a student of technology history will read these logs and gaze in wonder...</div>
<div class="line">[Friday 11 March 2011] [12:53:46] &lt;pieterh&gt;   &#8220;how did they actually <em>do</em> anything, with all that inane chatter...?&#8221;</div>
<div class="line">[Friday 11 March 2011] [12:55:17] &lt;michelp&gt;   now that I know they exist i&#8217;ll be reading them myself ;)</div>
<div class="line">[Friday 11 March 2011] [12:55:56] &lt;cremes&gt;    s/inane/insane/</div>
<div class="line">[Friday 11 March 2011] [12:56:03] &lt;michelp&gt;   BTW freenode policy asks that you inform all channel users of logging in a topic or autojoin notice of some kind.</div>
<div class="line">[Friday 11 March 2011] [12:56:05] &lt;cremes&gt;    though both fit</div>
<div class="line">[Friday 11 March 2011] [12:56:16] &lt;pieterh&gt;   cremes: you take insane, I&#8217;m better with inane</div>
<div class="line">[Friday 11 March 2011] [12:56:37] &lt;pieterh&gt;   michelp: true, but we seem to have lost our channel admin somewhere in 2009</div>
<div class="line">[Friday 11 March 2011] [12:57:38] &lt;pieterh&gt;   michelp: I guess stating this on the IRC page on the wiki is almost good enough</div>
<div class="line">[Friday 11 March 2011] [12:57:48] &lt;michelp&gt;   ah i see.  i bet there are some freenode peoples who can help you with that</div>
<div class="line">[Friday 11 March 2011] [12:58:00] &lt;michelp&gt;   yeah, as long as you say it somewhere it&#8217;s better than nowhere ;)</div>
<div class="line">[Friday 11 March 2011] [12:58:52] &lt;michelp&gt;   is the topic locked down? in other channels I am in anyone can change it</div>
<div class="line">[Friday 11 March 2011] [12:59:04] &lt;michelp&gt;   yeah :(</div>
<div class="line">[Friday 11 March 2011] [12:59:44] &lt;pieterh&gt;   op</div>
<div class="line">[Friday 11 March 2011] [12:59:58] &lt;pieterh&gt;   nope, that didn&#8217;t work :-)</div>
<div class="line">[Friday 11 March 2011] [13:00:18] &lt;michelp&gt;   i&#8217;ll ask in #freenode</div>
<div class="line">[Friday 11 March 2011] [13:00:30] &lt;michelp&gt;   i bet we can either get the topic unlocked or get someone op&#8217;ed</div>
<div class="line">[Friday 11 March 2011] [13:00:34] &lt;michelp&gt;   or both ;)</div>
<div class="line">[Friday 11 March 2011] [13:01:55] &lt;pieterh&gt;   unlocked would be simplest, we don&#8217;t need an op otherwise</div>
<div class="line">[Friday 11 March 2011] [13:04:55] &lt;michelp&gt;   well there&#8217;s no staff currently in #freenode, i&#8217;ll try again in a bit</div>
<div class="line">[Friday 11 March 2011] [13:05:03] &lt;pieterh&gt;   yeah, no hurry</div>
<div class="line">[Friday 11 March 2011] [13:05:23] &lt;pieterh&gt;   actually I wanted the topic to say, &#8220;Have you read the Guide yet?&#8221;</div>
<div class="line">[Friday 11 March 2011] [13:06:01] &lt;michelp&gt;   i&#8217;ve been reading through the docs myself the past couple of days, 0mq is pretty fascinating</div>
<div class="line">[Friday 11 March 2011] [13:06:10] &lt;michelp&gt;   that&#8217;s why i jumped in here was to see what was going on</div>
<div class="line">[Friday 11 March 2011] [13:06:23] &lt;pieterh&gt;   it&#8217;s pretty fascinating, indeed... :-)</div>
<div class="line">[Friday 11 March 2011] [13:06:33] &lt;pieterh&gt;   have you read the Guide yet?</div>
<div class="line">[Friday 11 March 2011] [13:07:24] &lt;michelp&gt;   we use amqp currently where i work and personally I&#8217;m pretty unhappy with it</div>
<div class="line">[Friday 11 March 2011] [13:07:46] &lt;pieterh&gt;   amqp/0-9-1?</div>
<div class="line">[Friday 11 March 2011] [13:07:47] &lt;michelp&gt;   skimmed it, i&#8217;ve started with the docs comparing amqp to 0mq mostly to try and get my head around it</div>
<div class="line">[Friday 11 March 2011] [13:09:33] &lt;michelp&gt;   i&#8217;m not sure which protocol version, we use rabbitmq.  i didn&#8217;t build  that part of the system, i just inject messages into it and pray they get somewhere</div>
<div class="line">[Friday 11 March 2011] [13:09:48] &lt;pieterh&gt;   0-9-1, then</div>
<div class="line">[Friday 11 March 2011] [13:09:53] &lt;michelp&gt;   i may end up writing the bit that replaces it ;)</div>
<div class="line">[Friday 11 March 2011] [13:10:52] &lt;pieterh&gt;   it&#8217;s a good implementation but the protocol is clunkier than it should be</div>
<div class="line">[Friday 11 March 2011] [13:11:26] &lt;michelp&gt;   are there centralized brokers written on top of 0mq?  the docs say that it can be done as one of the many possible patterns but some digging around i didn&#8217;t find any.  preferably one written in python which is our primary shop language</div>
<div class="line">[Friday 11 March 2011] [13:11:40] &lt;michelp&gt;   i didn&#8217;t dig to hard or necessarily in the right direction</div>
<div class="line">[Friday 11 March 2011] [13:12:11] &lt;pieterh&gt;   so... in fact we only recently finished our first protocol spec able to turn into real brokers and clients</div>
<div class="line">[Friday 11 March 2011] [13:12:34] &lt;pieterh&gt;   <a class="reference external" href="http://rfc.zeromq.org/spec:7">http://rfc.zeromq.org/spec:7</a></div>
<div class="line">[Friday 11 March 2011] [13:13:03] &lt;pieterh&gt;   there is a small implementation in C, and one in Python by guido_g</div>
<div class="line">[Friday 11 March 2011] [13:13:03] &lt;michelp&gt;   ah nice</div>
<div class="line">[Friday 11 March 2011] [13:13:30] &lt;michelp&gt;   i&#8217;ll check that out</div>
<div class="line">[Friday 11 March 2011] [13:13:50] &lt;pieterh&gt;   depending on the kind of messaging you&#8217;re doing, you may want brokers (of various types), or not</div>
<div class="line">[Friday 11 March 2011] [13:14:08] &lt;michelp&gt;   we might be able to give it some production time, we have been kicking around the idea of having a &#8220;shadow&#8221; message system that runs alongside rabbit so we can evaluate other technologies</div>
<div class="line">[Friday 11 March 2011] [13:14:28] &lt;michelp&gt;   we push a few hundred thousand message through per day so it would be a good medium-scale test</div>
<div class="line">[Friday 11 March 2011] [13:14:29] &lt;pieterh&gt;   0MQ architects end up making their own mini brokers, highly customized, for the places that need them</div>
<div class="line">[Friday 11 March 2011] [13:14:53] &lt;pieterh&gt;   this is what 0MQ is really for, a toolkit to make the architectures you need</div>
<div class="line">[Friday 11 March 2011] [13:15:03] &lt;pieterh&gt;   reliable messages?</div>
<div class="line">[Friday 11 March 2011] [13:15:27] &lt;michelp&gt;   reliable in the sense that they can&#8217;t be dropped?</div>
<div class="line">[Friday 11 March 2011] [13:15:39] &lt;pieterh&gt;   have to survive crashes etc.</div>
<div class="line">[Friday 11 March 2011] [13:15:46] &lt;michelp&gt;   yeah, they are critical to our business flows</div>
<div class="line">[Friday 11 March 2011] [13:15:57] &lt;michelp&gt;   lots of our backend is async</div>
<div class="line">[Friday 11 March 2011] [13:16:00] &lt;pieterh&gt;   so, read the Guide and especially Ch4</div>
<div class="line">[Friday 11 March 2011] [13:16:18] &lt;michelp&gt;   awesome, thanks for the pointers, i&#8217;ll check them out this weekend</div>
<div class="line">[Friday 11 March 2011] [13:16:41] &lt;pieterh&gt;   np</div>
<div class="line">[Friday 11 March 2011] [13:17:04] &lt;michelp&gt;   i&#8217;m sure i&#8217;ll have some questions so hopefully i don&#8217;t annoy you too much until it all sinks in my head</div>
<div class="line">[Friday 11 March 2011] [13:17:55] &lt;kdj&gt;       I&#8217;ve found the examples in the guide really helpful</div>
<div class="line">[Friday 11 March 2011] [13:18:10] &lt;pieterh&gt;   ideally, read the Guide slowly over a week, try every example, and it&#8217;ll become clear</div>
<div class="line">[Friday 11 March 2011] [13:18:36] &lt;pieterh&gt;   kdj: thanks :-)</div>
<div class="line">[Friday 11 March 2011] [13:26:18] &lt;michelp&gt;   kdj, oh hey Kyle ;)  not at pycon?</div>
<div class="line">[Friday 11 March 2011] [13:26:37] &lt;kdj&gt;       Heh, I wish</div>
<div class="line">[Friday 11 March 2011] [13:26:50] &lt;kdj&gt;       Are you there?</div>
<div class="line">[Friday 11 March 2011] [13:26:54] &lt;michelp&gt;   kdj, not that I&#8217;ve seen you in here I&#8217;m going to have to bug you about giving a 0mq talk at the next pdxpython meetings</div>
<div class="line">[Friday 11 March 2011] [13:27:34] &lt;michelp&gt;   nah... i&#8217;ve been to enough pycons.  i always end up just hanging out with jaded zope programmers from the good old days and drinking too much whiskey</div>
<div class="line">[Friday 11 March 2011] [13:27:46] &lt;kdj&gt;       pieterh: Thanks for putting together the guide. :)</div>
<div class="line">[Friday 11 March 2011] [13:27:52] &lt;kdj&gt;       michelp: Haha</div>
<div class="line">[Friday 11 March 2011] [13:28:07] &lt;pieterh&gt;   kdj: my pleasure, this will hopefully become a printed book</div>
<div class="line">[Friday 11 March 2011] [13:28:13] &lt;michelp&gt;   kdj, what do you guys use 0mq for?</div>
<div class="line">[Friday 11 March 2011] [13:29:29] &lt;kdj&gt;       michelp: A couple pretty simple work broker and task status implementations</div>
<div class="line">[Friday 11 March 2011] [13:30:09] &lt;michelp&gt;   using python?</div>
<div class="line">[Friday 11 March 2011] [13:30:54] &lt;kdj&gt;       Python and C#</div>
<div class="line">[Friday 11 March 2011] [13:31:16] &lt;michelp&gt;   how long did you think you could get away with not giving a presentation at pdxpython on that? ;)</div>
<div class="line">[Friday 11 March 2011] [13:32:36] &lt;kdj&gt;       Long enough to actually have something worth presenting. :)</div>
<div class="line">[Friday 11 March 2011] [13:32:56] &lt;pieterh&gt;   Ian Barber raised the 0MQ presentation stakes somewhat</div>
<div class="line">[Friday 11 March 2011] [13:33:41] &lt;michelp&gt;   is there a video?</div>
<div class="line">[Friday 11 March 2011] [13:34:49] &lt;michelp&gt;   looks like he&#8217;s talking at pycon</div>
<div class="line">[Friday 11 March 2011] [13:35:31] &lt;kdj&gt;       Here are some slides, it looks like? <a class="reference external" href="http://www.slideshare.net/IanBarber/zeromq-is-the-answer">http://www.slideshare.net/IanBarber/zeromq-is-the-answer</a></div>
<div class="line">[Friday 11 March 2011] [13:36:17] &lt;michelp&gt;   ah zed is talking too</div>
<div class="line">[Friday 11 March 2011] [13:36:21] &lt;michelp&gt;   <a class="reference external" href="http://us.pycon.org/2011/schedule/presentations/98/">http://us.pycon.org/2011/schedule/presentations/98/</a></div>
<div class="line">[Friday 11 March 2011] [13:37:49] &lt;kdj&gt;       Nice</div>
<div class="line">[Friday 11 March 2011] [13:38:08] &lt;michelp&gt;   now i kinda want to go to pycon just to see that one talk ;)</div>
<div class="line">[Friday 11 March 2011] [13:40:04] &lt;kdj&gt;       Gah. Yes. How long does it usually take for them to get the videos up? :)</div>
<div class="line">[Friday 11 March 2011] [13:40:27] &lt;michelp&gt;   days, weeks, never</div>
<div class="line">[Friday 11 March 2011] [13:40:50] &lt;kdj&gt;       Never is a long time.</div>
<div class="line">[Friday 11 March 2011] [13:41:41] &lt;kdj&gt;       I hope those presentations happen to get put up</div>
<div class="line">[Friday 11 March 2011] [13:51:34] &lt;michelp&gt;   so it looks like dermoth sustrik and mato are channel admins</div>
<div class="line">[Friday 11 March 2011] [13:51:50] &lt;michelp&gt;   according to chanserv</div>
<div class="line">[Friday 11 March 2011] [13:53:05] &lt;michelp&gt;   so if dermoth|home can op someone else we can get the channel topic unlocked</div>
<div class="line">[Friday 11 March 2011] [14:00:54] &lt;michelp&gt;   pieterh, so a freenode staffer said if you follow this process they can help unlock the channel <a class="reference external" href="http://freenode.net/group_registration.shtml">http://freenode.net/group_registration.shtml</a></div>
<div class="line">[Friday 11 March 2011] [14:01:32] &lt;michelp&gt;   the process is verified by phone, apparently</div>
<div class="line">[Friday 11 March 2011] [14:01:37] &lt;pieterh&gt;   ok, will take care of it</div>
<div class="line">[Friday 11 March 2011] [14:01:49] &lt;michelp&gt;   here is a blog post about it <a class="reference external" href="http://freenode.net/group_registration.shtml">http://freenode.net/group_registration.shtml</a></div>
<div class="line">[Friday 11 March 2011] [14:01:51] &lt;michelp&gt;   oops</div>
<div class="line">[Friday 11 March 2011] [14:01:54] &lt;michelp&gt;   <a class="reference external" href="http://blog.freenode.net/2010/06/group-registration-form-verifications/">http://blog.freenode.net/2010/06/group-registration-form-verifications/</a></div>
<div class="line">[Friday 11 March 2011] [14:03:24] &lt;michelp&gt;   the staffer wants me to tell him when it&#8217;s sent, i can do that or you can contact him directly</div>
<div class="line">[Friday 11 March 2011] [14:05:03] &lt;michelp&gt;   pieterh, his nick is &#8216;niko&#8217; and he says you can contact him directly when it&#8217;s filed</div>
<div class="line">[Friday 11 March 2011] [14:05:13] &lt;pieterh&gt;   ok, will do...</div>
<div class="line">[Friday 11 March 2011] [14:05:27] &lt;pieterh&gt;   thanks a lot michelp</div>
<div class="line">[Friday 11 March 2011] [14:05:31] &lt;michelp&gt;   yeah no sweat</div>
<div class="line">[Friday 11 March 2011] [14:05:42] &lt;michelp&gt;   it&#8217;s the least I can do until i crank out some 0mq using code :)</div>
<div class="line">[Friday 11 March 2011] [14:07:59] &lt;pieterh&gt;   I&#8217;m randomly electing myself &#8220;Chair&#8221; of the 0MQ community so I can tell them what my role is here</div>
<div class="line">[Friday 11 March 2011] [14:08:44] &lt;pieterh&gt;   Anyone wants to fight me for chair, please wait until the music stops</div>
<div class="line">[Friday 11 March 2011] [14:09:10] &lt;pieterh&gt;   michelp: form is submitted, why not ping niko, he&#8217;ll be happy to hear from you</div>
<div class="line">[Friday 11 March 2011] [14:09:39]      * pieterh has no idea how to send a direct message to someone, in fact :-)</div>
<div class="line">[Friday 11 March 2011] [14:09:49] &lt;michelp&gt;   sure thing</div>
<div class="line">[Friday 11 March 2011] [14:10:18] &lt;michelp&gt;   for future reference the syntax for a private message is &#8220;/msg &lt;nick&gt; blah blah blah...&#8221;</div>
<div class="line">[Friday 11 March 2011] [14:10:34] &lt;pieterh&gt;   I&#8217;m so happy in my ignorance...</div>
<div class="line">[Friday 11 March 2011] [14:10:58] &lt;michelp&gt;   irc is the original distributed message system ;)</div>
<div class="line">[Friday 11 March 2011] [14:11:18] &lt;pieterh&gt;   indeed</div>
<div class="line">[Friday 11 March 2011] [14:15:57] &lt;guido_g&gt;   pieterh: is it ok to call all the message frames between empty frames a message segment?</div>
<div class="line">[Friday 11 March 2011] [14:16:32] &lt;pieterh&gt;   &#8216;segment&#8217; has no defined meaning, nor do two empty frames have any semantics that I&#8217;m aware of</div>
<div class="line">[Friday 11 March 2011] [14:16:44] &lt;pieterh&gt;   I tend to stick to &#8220;envelope&#8221; vs. &#8220;body&#8221;</div>
<div class="line">[Friday 11 March 2011] [14:17:00] &lt;pieterh&gt;   what&#8217;s the context?</div>
<div class="line">[Friday 11 March 2011] [14:17:01] &lt;guido_g&gt;   but we make heavy use of empty frame separated multipart messages</div>
<div class="line">[Friday 11 March 2011] [14:17:21] &lt;guido_g&gt;   a multipart message class</div>
<div class="line">[Friday 11 March 2011] [14:17:25] &lt;pieterh&gt;   &#8216;we&#8217; is your project, right?</div>
<div class="line">[Friday 11 March 2011] [14:17:37] &lt;pieterh&gt;   then &#8216;segment&#8217; seems fine</div>
<div class="line">[Friday 11 March 2011] [14:17:58] &lt;guido_g&gt;   we as in mdp protocol</div>
<div class="line">[Friday 11 March 2011] [14:18:04] &lt;guido_g&gt;   ok</div>
<div class="line">[Friday 11 March 2011] [14:18:11] &lt;pieterh&gt;   ah, hang on, nope in that case</div>
<div class="line">[Friday 11 March 2011] [14:18:22] &lt;guido_g&gt;   huh?</div>
<div class="line">[Friday 11 March 2011] [14:18:46] &lt;pieterh&gt;   we don&#8217;t, in MDP, give any special meaning to bunches of frames separated by empty frames</div>
<div class="line">[Friday 11 March 2011] [14:18:47] &lt;pieterh&gt;   do we?</div>
<div class="line">[Friday 11 March 2011] [14:19:16] &lt;pieterh&gt;   if you add such meaning in your implementation, it can break arbitrarily when we modify the protocol</div>
<div class="line">[Friday 11 March 2011] [14:19:30] &lt;guido_g&gt;   it&#8217;s not about the meaning, it&#8217;s just for the fact that there are logical groupings of frames</div>
<div class="line">[Friday 11 March 2011] [14:19:45] &lt;pieterh&gt;   the only two cases I see are in REQUEST and REPLY</div>
<div class="line">[Friday 11 March 2011] [14:19:52] &lt;guido_g&gt;   in mdp, yes</div>
<div class="line">[Friday 11 March 2011] [14:20:11] &lt;guido_g&gt;   but i&#8217;m on a general multipart message class</div>
<div class="line">[Friday 11 March 2011] [14:20:13] &lt;pieterh&gt;   and there, the first empty part is... meaning free</div>
<div class="line">[Friday 11 March 2011] [14:20:27] &lt;pieterh&gt;   in MDP what we have are &#8216;envelope&#8217; and &#8216;body&#8217;</div>
<div class="line">[Friday 11 March 2011] [14:20:40] &lt;guido_g&gt;   so i came up with the idea of having a method that helps on getting these groups</div>
<div class="line">[Friday 11 March 2011] [14:20:56] &lt;pieterh&gt;   personally I&#8217;d not invent concepts that don&#8217;t come from actual use</div>
<div class="line">[Friday 11 March 2011] [14:21:08] &lt;pieterh&gt;   weird semantics that don&#8217;t quite work</div>
<div class="line">[Friday 11 March 2011] [14:21:20] &lt;guido_g&gt;   can&#8217;t follow you</div>
<div class="line">[Friday 11 March 2011] [14:21:54] &lt;pieterh&gt;   well, in all the examples I&#8217;ve made so far, this notion of groups of frames doesn&#8217;t occur once</div>
<div class="line">[Friday 11 March 2011] [14:22:06] &lt;pieterh&gt;   we use frames in MDP because we&#8217;re too lazy to do encoding</div>
<div class="line">[Friday 11 March 2011] [14:22:23] &lt;pieterh&gt;   the real semantics, the meaning, in MDP is a stack</div>
<div class="line">[Friday 11 March 2011] [14:22:34] &lt;pieterh&gt;   the body is the last set of frames</div>
<div class="line">[Friday 11 March 2011] [14:22:42] &lt;pieterh&gt;   the envelope comes before that</div>
<div class="line">[Friday 11 March 2011] [14:22:50] &lt;pieterh&gt;   both may contain empty frames</div>
<div class="line">[Friday 11 March 2011] [14:23:15] &lt;pieterh&gt;   0MQ REP socket has a similar notion, of envelope ending in empty frame, followed by body</div>
<div class="line">[Friday 11 March 2011] [14:23:23] &lt;pieterh&gt;   a stack</div>
<div class="line">[Friday 11 March 2011] [14:23:31] &lt;pieterh&gt;   do I make sense?</div>
<div class="line">[Friday 11 March 2011] [14:24:11] &lt;guido_g&gt;   nevertheless an empty frame is a very easy and already implemented method of doing this logical grouping</div>
<div class="line">[Friday 11 March 2011] [14:24:38] &lt;pieterh&gt;   two problems</div>
<div class="line">[Friday 11 March 2011] [14:25:03] &lt;pieterh&gt;   a. &#8220;groups of frames&#8221; is not a concept I&#8217;ve seen actually used or useful</div>
<div class="line">[Friday 11 March 2011] [14:25:14] &lt;Bloudermilk&gt;       Hi all. I was hoping someone could voice their opinion/experience on using 0mq with media streaming. My initial estimate is that it adds significant overhead, but I&#8217;m not sure</div>
<div class="line">[Friday 11 March 2011] [14:25:20] &lt;pieterh&gt;   b. when you could claim &#8220;groups&#8221; in real cases, they can contain empty frames</div>
<div class="line">[Friday 11 March 2011] [14:25:39] &lt;pieterh&gt;   Bloudermilk: why would it add overhead? Compared to what?</div>
<div class="line">[Friday 11 March 2011] [14:25:54] &lt;cremes&gt;    Bloudermilk: i&#8217;m using it for disseminating market data which needs low latency and low overhead</div>
<div class="line">[Friday 11 March 2011] [14:25:56] &lt;Bloudermilk&gt;       pieterh: Comapred to vanilla TCP</div>
<div class="line">[Friday 11 March 2011] [14:25:59] &lt;cremes&gt;    i wouldn&#8217;t have chosen 0mq otherwise</div>
<div class="line">[Friday 11 March 2011] [14:26:24] &lt;pieterh&gt;   Bloudermilk: ... what is your estimate based on?</div>
<div class="line">[Friday 11 March 2011] [14:26:34] &lt;pieterh&gt;   and how do you define &#8220;significant&#8221;?</div>
<div class="line">[Friday 11 March 2011] [14:26:49] &lt;Bloudermilk&gt;       pieterh: Absolutely nothing :) That&#8217;s why I wanted to ask</div>
<div class="line">[Friday 11 March 2011] [14:27:24] &lt;Bloudermilk&gt;       pieterh: I&#8217;d define significant as a subjective point where the performance overhead  outweighs the convenience</div>
<div class="line">[Friday 11 March 2011] [14:27:27] &lt;pieterh&gt;   ok, no, it does not add significant, or even moderate overhead</div>
<div class="line">[Friday 11 March 2011] [14:27:35] &lt;pieterh&gt;   not even small overhead</div>
<div class="line">[Friday 11 March 2011] [14:27:43] &lt;Bloudermilk&gt;       That&#8217;s great news!</div>
<div class="line">[Friday 11 March 2011] [14:27:48] &lt;pieterh&gt;   something between &#8220;tiny&#8221; and &#8220;insignificant&#8221;, I&#8217;d say</div>
<div class="line">[Friday 11 March 2011] [14:27:52] &lt;Bloudermilk&gt;       Haha</div>
<div class="line">[Friday 11 March 2011] [14:28:00] &lt;pieterh&gt;   it is easy to measure with running code, and you should try</div>
<div class="line">[Friday 11 March 2011] [14:28:43] &lt;pieterh&gt;   guido_g: go for it, it could work, my initial feeling is it&#8217;s not a natural &#8216;pattern&#8217; for using multipart messages but it could be within some applications</div>
<div class="line">[Friday 11 March 2011] [14:28:56] &lt;guido_g&gt;   ok</div>
<div class="line">[Friday 11 March 2011] [14:29:11] &lt;pieterh&gt;   just don&#8217;t come back and ask me to make MDP work better with &#8216;segments&#8217; :-)</div>
<div class="line">[Friday 11 March 2011] [14:29:22] &lt;guido_g&gt;   nope</div>
<div class="line">[Friday 11 March 2011] [14:29:27] &lt;guido_g&gt;   its working fine</div>
<div class="line">[Friday 11 March 2011] [14:29:39] &lt;guido_g&gt;   using it to test my c++ ioloop :)</div>
<div class="line">[Friday 11 March 2011] [14:29:45] &lt;pieterh&gt;   nice...</div>
<div class="line">[Friday 11 March 2011] [14:30:04] &lt;pieterh&gt;   do announce your implementation on zeromq-dev and the Labs page so people know about it</div>
<div class="line">[Friday 11 March 2011] [14:30:17] &lt;guido_g&gt;   <a class="reference external" href="https://github.com/guidog/cppzmq/blob/master/work/messages.cpp">https://github.com/guidog/cppzmq/blob/master/work/messages.cpp</a> &lt;- the test program, so far</div>
<div class="line">[Friday 11 March 2011] [14:30:47] &lt;guido_g&gt;   will do, after some more tests and some <em>sigh</em> documentation</div>
<div class="line">[Friday 11 March 2011] [14:31:19] &lt;pieterh&gt;   guido_g: do you have a dedicated key on your keyboard that prints <em>sigh</em>?</div>
<div class="line">[Friday 11 March 2011] [14:31:31] &lt;guido_g&gt;   not yet</div>
<div class="line">[Friday 11 March 2011] [14:31:51] &lt;pieterh&gt;   lol</div>
<div class="line">[Friday 11 March 2011] [14:59:59] &lt;mikko&gt;     howdy</div>
<div class="line">[Friday 11 March 2011] [15:57:40] &lt;troutwine&gt; Compiling 2.0.10 from source on a Posix system I find that there&#8217;s no .pc for pkg-config, than pkg-config does not list libzmq as a known package. I&#8217;m doing the standard ./configure&amp;&amp;make&amp;&amp;make install. Am I forgetting something?</div>
<div class="line">[Friday 11 March 2011] [16:02:29] &lt;guido_g&gt;   get 2.1.x, the build system was improved</div>
<div class="line">[Friday 11 March 2011] [16:02:44] &lt;guido_g&gt;   and it&#8217;s more stable</div>
<div class="line">[Friday 11 March 2011] [16:10:01] &lt;troutwine&gt; guido_g: More stable?</div>
<div class="line">[Friday 11 March 2011] [16:10:16] &lt;guido_g&gt;   yes</div>
<div class="line">[Friday 11 March 2011] [16:10:23] &lt;guido_g&gt;   lots of bugs removed</div>
<div class="line">[Friday 11 March 2011] [16:12:45] &lt;troutwine&gt; Thanks.</div>
<div class="line">[Friday 11 March 2011] [16:57:25] &lt;troutwine&gt; I&#8217;m running wuserver with wuclient from the Guide on 2.1.2. When I netstat -ant I see the following: <a class="reference external" href="https://gist.github.com/866653">https://gist.github.com/866653</a></div>
<div class="line">[Friday 11 March 2011] [16:57:45] &lt;troutwine&gt; For each pub/sub connection made to the wuserver, why are two sockets in use?</div>
<div class="line">[Friday 11 March 2011] [17:02:09] &lt;troutwine&gt; I am reading netstat&#8217;s output correctly, yes?</div>
<div class="line">[Friday 11 March 2011] [17:15:37] &lt;guido_g&gt;   no</div>
<div class="line">[Friday 11 March 2011] [17:15:54] &lt;guido_g&gt;   read the heading of the netstat output</div>
<div class="line">[Friday 11 March 2011] [17:16:13] &lt;guido_g&gt;   it says local and foreign address</div>
<div class="line">[Friday 11 March 2011] [17:16:49] &lt;guido_g&gt;   and a tcp connection has 2 endpoints, so for every endpoint is a local and a foreign view</div>
<div class="line">[Friday 11 March 2011] [17:17:20] &lt;guido_g&gt;   add the -p flag and see which processes are using the connections</div>
<div class="line">[Friday 11 March 2011] [17:21:13] &lt;troutwine&gt; guido_g: Thanks. I need to read up on TCP more, clearly.</div>
<div class="line">[Friday 11 March 2011] [17:23:02] &lt;michelp&gt;   might I suggest <a class="reference external" href="http://www.amazon.com/Internetworking-TCP-IP-Vol-5th/dp/0131876716">http://www.amazon.com/Internetworking-TCP-IP-Vol-5th/dp/0131876716</a></div>
<div class="line">[Friday 11 March 2011] [17:34:55] &lt;michelp&gt;   the guide is pretty mindblowing</div>
<div class="line">[Friday 11 March 2011] [17:35:16] &lt;michelp&gt;   i got a chuckle that it goes Chapters One, Two, Three and 4</div>
<div class="line">[Friday 11 March 2011] [21:36:35] &lt;dermoth|home&gt;      michelp, yes?</div>
<div class="line">[Friday 11 March 2011] [21:43:02] &lt;dermoth|home&gt;      michelp, pieterh, i don&#8217;t think this channel needs to be &#8220;unlocked&#8221; - chanserv admins can change or unlock the topic as needed. I could remove the topic lock, but anyone including spammers could change it...</div>
<div class="line">[Friday 11 March 2011] [21:43:48] &lt;dermoth|home&gt;      michelp, pieterh, and fwiw i&#8217;m &#8220;dermoth&#8221;, this nick is linked to it. The normal name used to be on a bouncer and I lost the server somewhere in 2009 ;)</div>
<div class="line">[Saturday 12 March 2011] [03:14:22] &lt;pieterh&gt; hi dermoth|home... who are the chanserv admins then?</div>
<div class="line">[Saturday 12 March 2011] [03:53:59] &lt;guido_g&gt; good morning all</div>
<div class="line">[Saturday 12 March 2011] [03:55:03] &lt;pieterh&gt; hi guido_g!</div>
<div class="line">[Saturday 12 March 2011] [03:55:10] &lt;guido_g&gt; howdy pieterh</div>
<div class="line">[Saturday 12 March 2011] [03:55:42]    * pieterh is trying to get router-to-router routing working...</div>
<div class="line">[Saturday 12 March 2011] [03:56:24]    * guido_g discovered this his ioloop concecpt has some flaws</div>
<div class="line">[Saturday 12 March 2011] [03:56:44] &lt;guido_g&gt; but in general in works :)</div>
<div class="line">[Saturday 12 March 2011] [03:57:11] &lt;pieterh&gt; nice</div>
<div class="line">[Saturday 12 March 2011] [03:58:30] &lt;guido_g&gt; did my first steps with oprofile last night</div>
<div class="line">[Saturday 12 March 2011] [03:59:20] &lt;pieterh&gt; sounds like a profiler... any good?</div>
<div class="line">[Saturday 12 March 2011] [03:59:30] &lt;guido_g&gt; oh yes</div>
<div class="line">[Saturday 12 March 2011] [03:59:40] &lt;guido_g&gt; one need to knwo al lot in advance</div>
<div class="line">[Saturday 12 March 2011] [03:59:46] &lt;guido_g&gt; omg</div>
<div class="line">[Saturday 12 March 2011] [03:59:50] &lt;guido_g&gt; more coffee</div>
<div class="line">[Saturday 12 March 2011] [03:59:54] &lt;pieterh&gt; heh</div>
<div class="line">[Saturday 12 March 2011] [04:00:07] &lt;guido_g&gt; this thing does a overall profiling of the whole system</div>
<div class="line">[Saturday 12 March 2011] [04:00:27] &lt;guido_g&gt; so you can see how your app is interfering w/ the kernel</div>
<div class="line">[Saturday 12 March 2011] [04:00:34] &lt;guido_g&gt; amazing</div>
<div class="line">[Saturday 12 March 2011] [04:00:49] &lt;guido_g&gt; as well in complexity as in usefulness</div>
<div class="line">[Saturday 12 March 2011] [04:00:52] &lt;pieterh&gt; hmm, do keep notes, this sounds like useful stuff</div>
<div class="line">[Saturday 12 March 2011] [04:01:43] &lt;guido_g&gt; and i only discovered it because i got crashes when i tried to use the -pg option (gprof)</div>
<div class="line">[Saturday 12 March 2011] [04:02:47] &lt;guido_g&gt; as i said, it&#8217;s a beast <a class="reference external" href="http://oprofile.sourceforge.net/docs/">http://oprofile.sourceforge.net/docs/</a> &lt;- just for short look, if you dare</div>
<div class="line">[Saturday 12 March 2011] [04:02:54] &lt;pieterh&gt; nope, I don&#8217;t dare</div>
<div class="line">[Saturday 12 March 2011] [04:03:10] &lt;pieterh&gt; but do keep notes and perhaps make a page explaining how you used it to profile your 0MQ app...</div>
<div class="line">[Saturday 12 March 2011] [04:03:36] &lt;guido_g&gt; ok</div>
<div class="line">[Saturday 12 March 2011] [04:04:01] &lt;guido_g&gt; will try, but i&#8217;m not good at keeping notes :/</div>
<div class="line">[Saturday 12 March 2011] [04:04:28] &lt;pieterh&gt; just copy the commands you used, with one line of &#8216;why&#8217; each time</div>
<div class="line">[Saturday 12 March 2011] [04:04:36] &lt;pieterh&gt; if you like I&#8217;ll help turn that into a tutorial</div>
<div class="line">[Saturday 12 March 2011] [04:04:42] &lt;pieterh&gt; if it&#8217;s useful and I can understand it...</div>
<div class="line">[Saturday 12 March 2011] [04:04:49] &lt;guido_g&gt; ok</div>
<div class="line">[Saturday 12 March 2011] [04:05:03] &lt;guido_g&gt; i&#8217;m sure i&#8217;ll have a deeper look at it next week</div>
<div class="line">[Saturday 12 March 2011] [04:05:04] &lt;pieterh&gt; I was going to use -pg/gprof but didn&#8217;t have time to yet</div>
<div class="line">[Saturday 12 March 2011] [04:05:28] &lt;guido_g&gt; as i said, -pg crashes w/ the normal libzmq build</div>
<div class="line">[Saturday 12 March 2011] [07:21:00] &lt;Guthur&gt;  pieterh, I think this signal catching will working as a solution for clrzmq2 on MONO</div>
<div class="line">[Saturday 12 March 2011] [07:21:24] &lt;Guthur&gt;  it&#8217;s made the binding code a little bit messier though</div>
<div class="line">[Saturday 12 March 2011] [07:21:42] &lt;Guthur&gt;  too many precompiler directives flying around for my liking now</div>
<div class="line">[Saturday 12 March 2011] [07:38:10] &lt;Guthur&gt;  welcome back sustrik</div>
<div class="line">[Saturday 12 March 2011] [07:38:22] &lt;Guthur&gt;  hope you had a nice time in the USA</div>
<div class="line">[Saturday 12 March 2011] [07:39:00] &lt;sustrik&gt; hi</div>
<div class="line">[Saturday 12 March 2011] [07:39:18] &lt;sustrik&gt; yeah, it was quite ok</div>
<div class="line">[Saturday 12 March 2011] [07:40:09] &lt;Guthur&gt;  sounds like the meetup was productive, at least</div>
<div class="line">[Saturday 12 March 2011] [07:40:36] &lt;sustrik&gt; yeah, seem the minutes?</div>
<div class="line">[Saturday 12 March 2011] [07:42:17] &lt;Guthur&gt;  seen the messages on the mailing list</div>
<div class="line">[Saturday 12 March 2011] [07:43:06] &lt;sustrik&gt; meeting in office space seems to be more productive than meeting in a pub :)</div>
<div class="line">[Saturday 12 March 2011] [07:43:35] &lt;sustrik&gt; where are you located, btw?</div>
<div class="line">[Saturday 12 March 2011] [07:43:44] &lt;Guthur&gt;  Northern Ireland</div>
<div class="line">[Saturday 12 March 2011] [07:44:26] &lt;Guthur&gt;  I would be hard pushed to take time off for the london meetup this month, even if it wasn&#8217;t a pub</div>
<div class="line">[Saturday 12 March 2011] [07:44:47] &lt;Guthur&gt;  I&#8217;d already arranged to go to the European Lisp Symposium this month in Hamburg</div>
<div class="line">[Saturday 12 March 2011] [07:45:08] &lt;sustrik&gt; you can meet guido_g there</div>
<div class="line">[Saturday 12 March 2011] [07:45:13] &lt;sustrik&gt; he&#8217;s from hamburg iirc</div>
<div class="line">[Saturday 12 March 2011] [07:45:24] &lt;Guthur&gt;  oh, i&#8217;d know that</div>
<div class="line">[Saturday 12 March 2011] [07:45:30] &lt;Guthur&gt;  i didn&#8217;t*</div>
<div class="line">[Saturday 12 March 2011] [07:45:47] &lt;guido_g&gt; hmm what?</div>
<div class="line">[Saturday 12 March 2011] [07:45:56] &lt;guido_g&gt; oh yes, i&#8217;m in hamburg</div>
<div class="line">[Saturday 12 March 2011] [07:46:16] &lt;Guthur&gt;  I&#8217;m there for a Lisp conference at the end of the month</div>
<div class="line">[Saturday 12 March 2011] [07:46:29] &lt;guido_g&gt; Guthur: cool, drop me a note if you see time to meet</div>
<div class="line">[Saturday 12 March 2011] [07:46:36] &lt;Guthur&gt;  sure</div>
<div class="line">[Saturday 12 March 2011] [07:47:11] &lt;Guthur&gt;  I&#8217;m there from 30th march to 2n april</div>
<div class="line">[Saturday 12 March 2011] [07:47:43] &lt;sustrik&gt; i would suggest asking on the mailing list, there may be more 0mq users in that location</div>
<div class="line">[Saturday 12 March 2011] [07:47:52] &lt;guido_g&gt; Guthur: that&#8217;s nice</div>
<div class="line">[Saturday 12 March 2011] [07:47:57] &lt;Guthur&gt;  super Idea</div>
<div class="line">[Saturday 12 March 2011] [07:50:21] &lt;Guthur&gt;  It&#8217;s a shame I never thought of producing a presentation for the ELS of Common Lisp and 0MQ</div>
<div class="line">[Saturday 12 March 2011] [07:50:34] &lt;Guthur&gt;  the main topic this year is Concurrent Computing</div>
<div class="line">[Saturday 12 March 2011] [07:51:31] &lt;Guthur&gt;  well one of the topics at least</div>
<div class="line">[Saturday 12 March 2011] [07:52:47] &lt;sustrik&gt; it would fit it</div>
<div class="line">[Saturday 12 March 2011] [07:52:49] &lt;sustrik&gt; in</div>
<div class="line">[Saturday 12 March 2011] [07:53:10] &lt;mikko&gt;   sustrik: welcome back</div>
<div class="line">[Saturday 12 March 2011] [07:53:18] &lt;sustrik&gt; hi</div>
<div class="line">[Saturday 12 March 2011] [07:53:22] &lt;sustrik&gt; how it&#8217;s going?</div>
<div class="line">[Saturday 12 March 2011] [07:53:26] &lt;Guthur&gt;  I&#8217;ll definitely be mentioning 0MQ to anyone I speak to</div>
<div class="line">[Saturday 12 March 2011] [07:53:30] &lt;mikko&gt;   same old same old</div>
<div class="line">[Saturday 12 March 2011] [07:53:33] &lt;Guthur&gt;  spread the word and all... hehe</div>
<div class="line">[Saturday 12 March 2011] [07:53:45] &lt;mikko&gt;   how was US?</div>
<div class="line">[Saturday 12 March 2011] [07:53:50] &lt;sustrik&gt; good</div>
<div class="line">[Saturday 12 March 2011] [07:53:55] &lt;sustrik&gt; met a lot of people there</div>
<div class="line">[Saturday 12 March 2011] [07:54:10] &lt;sustrik&gt; i&#8217;ve met the original author of Tibco RV :)</div>
<div class="line">[Saturday 12 March 2011] [07:54:21] &lt;Guthur&gt;  oh cool</div>
<div class="line">[Saturday 12 March 2011] [07:54:40] &lt;sustrik&gt; btw, i&#8217;ve wanted to update openpgm in master but got some compilation errors</div>
<div class="line">[Saturday 12 March 2011] [07:54:43] &lt;Guthur&gt;  There has been some interest in work at comparing 0MQ to Tibco RV</div>
<div class="line">[Saturday 12 March 2011] [07:54:54] &lt;sustrik&gt; Guthur: yes, seen it</div>
<div class="line">[Saturday 12 March 2011] [07:55:31] &lt;sustrik&gt; mikko: pieter mentioned you&#8217;ve already experimented with that in stable</div>
<div class="line">[Saturday 12 March 2011] [07:56:25] &lt;guido_g&gt; Guthur: your attending the welcome at freiheit.com on march 30?</div>
<div class="line">[Saturday 12 March 2011] [07:57:54] &lt;guido_g&gt; Guthur: if this is the right event at all <a class="reference external" href="http://www.european-lisp-symposium.org/content-programme-full.html">http://www.european-lisp-symposium.org/content-programme-full.html</a></div>
<div class="line">[Saturday 12 March 2011] [07:58:46] &lt;Guthur&gt;  guido_g, I unfortunately booked the flights before I knew about the welcome event</div>
<div class="line">[Saturday 12 March 2011] [07:58:57] &lt;Guthur&gt;  that is the correct event</div>
<div class="line">[Saturday 12 March 2011] [07:59:02] &lt;guido_g&gt; ok</div>
<div class="line">[Saturday 12 March 2011] [07:59:21] &lt;Guthur&gt;  they only added that date later, a shame</div>
<div class="line">[Saturday 12 March 2011] [07:59:25] &lt;guido_g&gt; Guthur: the event is quite a bit outside of hamburg city</div>
<div class="line">[Saturday 12 March 2011] [07:59:51] &lt;Guthur&gt;  yeah, it&#8217;s proofing bothersome on the accomodation  front</div>
<div class="line">[Saturday 12 March 2011] [07:59:57] &lt;guido_g&gt; Guthur: so planning in advance is unavoidable for a good overall experience</div>
<div class="line">[Saturday 12 March 2011] [08:00:52] &lt;Guthur&gt;  guido_g, is the public transport good in hamburg</div>
<div class="line">[Saturday 12 March 2011] [08:01:06] &lt;Guthur&gt;  I&#8217;ve only been to Berlin, top rate there</div>
<div class="line">[Saturday 12 March 2011] [08:01:10] &lt;guido_g&gt; Guthur: it&#8217;s ok</div>
<div class="line">[Saturday 12 March 2011] [08:01:33] &lt;guido_g&gt; Guthur: and friday night counts as weekend, so no problem</div>
<div class="line">[Saturday 12 March 2011] [08:01:58] &lt;guido_g&gt; Guthur: but harburg &lt;-&gt; city takes some time</div>
<div class="line">[Saturday 12 March 2011] [08:06:03] &lt;guido_g&gt; Guthur: for your bookmarks: <a class="reference external" href="http://www.hvv.de/en/index.php">http://www.hvv.de/en/index.php</a> public transport in and around hamburg</div>
<div class="line">[Saturday 12 March 2011] [08:06:17] &lt;guido_g&gt; Guthur: if you&#8217;ve questions, feel free to ask</div>
<div class="line">[Saturday 12 March 2011] [08:06:28] &lt;Guthur&gt;  cool, cheers guido_g</div>
<div class="line">[Saturday 12 March 2011] [08:14:01] &lt;pieterh&gt; sustrik: welcome back!</div>
<div class="line">[Saturday 12 March 2011] [08:14:13] &lt;pieterh&gt; Guthur: glad you got the signal handling working</div>
<div class="line">[Saturday 12 March 2011] [08:15:05] &lt;sustrik&gt; hi!</div>
<div class="line">[Saturday 12 March 2011] [08:15:15] &lt;sustrik&gt; Guthur: yust reading the signal thread</div>
<div class="line">[Saturday 12 March 2011] [08:15:23] &lt;sustrik&gt; have you solved the problem?</div>
<div class="line">[Saturday 12 March 2011] [08:16:20] &lt;pieterh&gt; sustrik: wrt multicast loop</div>
<div class="line">[Saturday 12 March 2011] [08:16:53] &lt;sustrik&gt; yes?</div>
<div class="line">[Saturday 12 March 2011] [08:16:56] &lt;pieterh&gt; do you really consider this part of the 0MQ API?</div>
<div class="line">[Saturday 12 March 2011] [08:17:12] &lt;sustrik&gt; it would definitely break the applications using it</div>
<div class="line">[Saturday 12 March 2011] [08:17:20] &lt;pieterh&gt; do we know of any using it?</div>
<div class="line">[Saturday 12 March 2011] [08:17:43] &lt;sustrik&gt; people ask about it once a while on the ml</div>
<div class="line">[Saturday 12 March 2011] [08:17:54] &lt;guido_g&gt; and here too</div>
<div class="line">[Saturday 12 March 2011] [08:17:56] &lt;pieterh&gt; ok, I&#8217;ll restore it in 2.1 then</div>
<div class="line">[Saturday 12 March 2011] [08:18:08] &lt;sustrik&gt; ok</div>
<div class="line">[Saturday 12 March 2011] [08:18:24] &lt;sustrik&gt; as for the rate limit, i am not sure</div>
<div class="line">[Saturday 12 March 2011] [08:18:34] &lt;pieterh&gt; btw, we&#8217;ve tested Mikko&#8217;s patch for OpenPGM 5.x integration, it appears to work perfectly</div>
<div class="line">[Saturday 12 March 2011] [08:18:54] &lt;sustrik&gt; great, send it to the ml</div>
<div class="line">[Saturday 12 March 2011] [08:18:54] &lt;pieterh&gt; so mikko should be able to send you a patch for 2.2</div>
<div class="line">[Saturday 12 March 2011] [08:18:56] &lt;pieterh&gt; yes</div>
<div class="line">[Saturday 12 March 2011] [08:19:00] &lt;sustrik&gt; i&#8217;ll port it to master</div>
<div class="line">[Saturday 12 March 2011] [08:19:24] &lt;pieterh&gt; also btw, the contribution-to-release process is starting to work</div>
<div class="line">[Saturday 12 March 2011] [08:19:54] &lt;pieterh&gt; you saw I rewrote the contributing page because it wasn&#8217;t fully accurate</div>
<div class="line">[Saturday 12 March 2011] [08:20:14] &lt;sustrik&gt; yes, nice</div>
<div class="line">[Saturday 12 March 2011] [08:21:34] &lt;pieterh&gt; it&#8217;s based on walking people through the actual process...</div>
<div class="line">[Saturday 12 March 2011] [08:21:57] &lt;pieterh&gt; so we&#8217;ll have releases for 2.0 and 2.1 in a few days</div>
<div class="line">[Saturday 12 March 2011] [08:22:08] &lt;sustrik&gt; goodo</div>
<div class="line">[Saturday 12 March 2011] [08:22:19] &lt;sustrik&gt; i though of actually moving to 3.0 afterwards</div>
<div class="line">[Saturday 12 March 2011] [08:22:30] &lt;sustrik&gt; the sooner it&#8217;s done the less pain it will involve</div>
<div class="line">[Saturday 12 March 2011] [08:22:38] &lt;pieterh&gt; we should close 2.2 functionality first, no?</div>
<div class="line">[Saturday 12 March 2011] [08:22:49] &lt;pieterh&gt; or do we jump from 2.1 to 3.x?</div>
<div class="line">[Saturday 12 March 2011] [08:22:54] &lt;sustrik&gt; the latter</div>
<div class="line">[Saturday 12 March 2011] [08:22:58] &lt;pieterh&gt; I like it.</div>
<div class="line">[Saturday 12 March 2011] [08:23:15] &lt;pieterh&gt; however, note that people will be using 2.1.x for a long time</div>
<div class="line">[Saturday 12 March 2011] [08:23:29] &lt;pieterh&gt; maybe even several months... :-)</div>
<div class="line">[Saturday 12 March 2011] [08:23:31] &lt;sustrik&gt; that&#8217;s why we have stable</div>
<div class="line">[Saturday 12 March 2011] [08:24:07] &lt;sustrik&gt; it&#8217;s less contentious to break the backward compatibility now</div>
<div class="line">[Saturday 12 March 2011] [08:24:14] &lt;pieterh&gt; what I mean is, it&#8217;s quite hard to backport fixes from 2.2 to 2.0, we should be careful about big internal changes for 3.0</div>
<div class="line">[Saturday 12 March 2011] [08:24:22] &lt;pieterh&gt; external API changes is perfectly fine</div>
<div class="line">[Saturday 12 March 2011] [08:24:40] &lt;sustrik&gt; the 2-&gt;3 shift is about API/ABI</div>
<div class="line">[Saturday 12 March 2011] [08:24:48] &lt;sustrik&gt; it would involve a lot of pain in bindings</div>
<div class="line">[Saturday 12 March 2011] [08:24:57] &lt;sustrik&gt; and a slighly less pain for end users</div>
<div class="line">[Saturday 12 March 2011] [08:24:57] &lt;pieterh&gt; shrug, we&#8217;ve been through that, it&#8217;s moderate</div>
<div class="line">[Saturday 12 March 2011] [08:25:06] &lt;sustrik&gt; but it has to be done</div>
<div class="line">[Saturday 12 March 2011] [08:25:21] &lt;pieterh&gt; I mean, the pain seems to be tolerable</div>
<div class="line">[Saturday 12 March 2011] [08:25:32] &lt;pieterh&gt; so indeed the sooner the better</div>
<div class="line">[Saturday 12 March 2011] [08:25:36] &lt;sustrik&gt; exactly</div>
<div class="line">[Saturday 12 March 2011] [08:25:44] &lt;sustrik&gt; so i&#8217;ll wait for stable 2.1 release</div>
<div class="line">[Saturday 12 March 2011] [08:25:51] &lt;sustrik&gt; and move on afterwards</div>
<div class="line">[Saturday 12 March 2011] [08:26:01] &lt;pieterh&gt; ... hmm, so...</div>
<div class="line">[Saturday 12 March 2011] [08:26:12] &lt;pieterh&gt; there&#8217;ll be no 2.2 release then</div>
<div class="line">[Saturday 12 March 2011] [08:26:18] &lt;sustrik&gt; yes</div>
<div class="line">[Saturday 12 March 2011] [08:26:30] &lt;pieterh&gt; and the source repository should be called zeromq3 in that case</div>
<div class="line">[Saturday 12 March 2011] [08:26:45]    * sustrik has no idea whether github allows renaming</div>
<div class="line">[Saturday 12 March 2011] [08:26:54] &lt;pieterh&gt; rename/fork it&#8217;s all the same</div>
<div class="line">[Saturday 12 March 2011] [08:27:04] &lt;pieterh&gt; pure rename means old links break, which you don&#8217;t really want</div>
<div class="line">[Saturday 12 March 2011] [08:27:13] &lt;pieterh&gt; I&#8217;d keep the zeromq2, start a new zeromq3</div>
<div class="line">[Saturday 12 March 2011] [08:27:33] &lt;sustrik&gt; what with zeromq2 then?</div>
<div class="line">[Saturday 12 March 2011] [08:27:41] &lt;sustrik&gt; it won&#8217;t be used at all</div>
<div class="line">[Saturday 12 March 2011] [08:27:43] &lt;pieterh&gt; well, true, it becomes irrelevant</div>
<div class="line">[Saturday 12 March 2011] [08:27:55] &lt;pieterh&gt; we have zeromq2-1, zeromq2-0, zeromq3</div>
<div class="line">[Saturday 12 March 2011] [08:27:58] &lt;pieterh&gt; nice enough</div>
<div class="line">[Saturday 12 March 2011] [08:28:20] &lt;pieterh&gt; I&#8217;d just like to keep the naming consistent with version numbers</div>
<div class="line">[Saturday 12 March 2011] [08:28:32] &lt;sustrik&gt; it will break build tools :(</div>
<div class="line">[Saturday 12 March 2011] [08:28:33] &lt;pieterh&gt; so later we can make zeromq3-0 for releases, etc.</div>
<div class="line">[Saturday 12 March 2011] [08:28:41] &lt;pieterh&gt; the build tools... mikko will take care of it</div>
<div class="line">[Saturday 12 March 2011] [08:28:43] &lt;sustrik&gt; but it&#8217;s up to mikko, i assume</div>
<div class="line">[Saturday 12 March 2011] [08:29:13] &lt;pieterh&gt; mikko uses git submodules to pull in the zeromq repos for building</div>
<div class="line">[Saturday 12 March 2011] [08:29:15] &lt;pieterh&gt; quite neat</div>
<div class="line">[Saturday 12 March 2011] [08:29:47] &lt;pieterh&gt; hmm, if we stop using zeromq2 for development, I can change that README to act as an index</div>
<div class="line">[Saturday 12 March 2011] [08:29:59] &lt;pieterh&gt; that&#8217;ll work nicely for people still using the old URL</div>
<div class="line">[Saturday 12 March 2011] [08:30:34] &lt;pieterh&gt; sustrik: I only have one concern with the stuff you discussed in London...</div>
<div class="line">[Saturday 12 March 2011] [08:31:09] &lt;pieterh&gt; having spent several weeks making reliability designs <em>on top</em> of 0MQ, for the Guide, I&#8217;m going to gnash my teeth when it all goes into the core and my work is for nothing...</div>
<div class="line">[Saturday 12 March 2011] [08:31:10] &lt;pieterh&gt; :-)</div>
<div class="line">[Saturday 12 March 2011] [08:32:12] &lt;sustrik&gt; index?</div>
<div class="line">[Saturday 12 March 2011] [08:32:19] &lt;sustrik&gt; i don&#8217;t get it</div>
<div class="line">[Saturday 12 March 2011] [08:32:36] &lt;pieterh&gt; index = web page that sends people off to the correct gits</div>
<div class="line">[Saturday 12 March 2011] [08:33:03] &lt;pieterh&gt; table of contents</div>
<div class="line">[Saturday 12 March 2011] [08:33:12] &lt;sustrik&gt; don&#8217;t make it part of any particular git</div>
<div class="line">[Saturday 12 March 2011] [08:33:27] &lt;dermoth|home&gt;    pieterh, I registered the channel (if you don&#8217;t want to go trough the lengthy registration process the channel needs to be empty so you can get OP), and the admins are zmq developers afaik...</div>
<div class="line">[Saturday 12 March 2011] [08:33:50] &lt;pieterh&gt; dermoth|home: yesterday I asked to register the channel too</div>
<div class="line">[Saturday 12 March 2011] [08:34:03] &lt;pieterh&gt; but I don&#8217;t know who the admins are...</div>
<div class="line">[Saturday 12 March 2011] [08:34:14] &lt;pieterh&gt; hello admins, are you there?</div>
<div class="line">[Saturday 12 March 2011] [08:34:16] &lt;sustrik&gt; admins of what?</div>
<div class="line">[Saturday 12 March 2011] [08:34:19] &lt;pieterh&gt; this channel</div>
<div class="line">[Saturday 12 March 2011] [08:34:35] &lt;sustrik&gt; dermoth: you&#8217;ve done the setting up iirc</div>
<div class="line">[Saturday 12 March 2011] [08:34:44] &lt;sustrik&gt; i think you said i am an admin back then</div>
<div class="line">[Saturday 12 March 2011] [08:34:57] &lt;pieterh&gt; sustrik, try /kick pieterh</div>
<div class="line">[Saturday 12 March 2011] [08:35:15] &lt;sustrik&gt; i have to log in first</div>
<div class="line">[Saturday 12 March 2011] [08:35:21]    * sustrik wonders how to do that</div>
<div class="line">[Saturday 12 March 2011] [08:35:25] &lt;pieterh&gt; :-)</div>
<div class="line">[Saturday 12 March 2011] [08:35:35] &lt;sustrik&gt; a sec</div>
<div class="line">[Saturday 12 March 2011] [08:35:44] &lt;pieterh&gt; dermoth|home: anyhow, it&#8217;d be useful if anyone can change the topic IMO</div>
<div class="line">[Saturday 12 March 2011] [08:35:58] &lt;pieterh&gt; if and when we find spammers coming here we can lock it down</div>
<div class="line">[Saturday 12 March 2011] [08:36:44] &lt;dermoth|home&gt;    pieterh, what should the topic be?</div>
<div class="line">[Saturday 12 March 2011] [08:37:00] &lt;pieterh&gt; two things</div>
<div class="line">[Saturday 12 March 2011] [08:37:14] &lt;pieterh&gt; a welcome message to new joiners explaining that the IRC channel is logged</div>
<div class="line">[Saturday 12 March 2011] [08:37:35] &lt;yrashk&gt;  &#8220;You are under surveillance. Beware!&#8221; :)</div>
<div class="line">[Saturday 12 March 2011] [08:37:38] &lt;sustrik&gt; hm, &#8220;You&#8217;re not channel operator&#8221;</div>
<div class="line">[Saturday 12 March 2011] [08:37:45] &lt;pieterh&gt; and secondly, either in the topic or the welcome message, something like &#8220;Before asking for advice here, Please Read the Guide&#8221;</div>
<div class="line">[Saturday 12 March 2011] [08:38:15] &lt;sustrik&gt; dermoth|home: any idea how can i log in as a channel operator?</div>
<div class="line">[Saturday 12 March 2011] [08:38:18] &lt;pieterh&gt; perhaps also a third warnings, &#8220;And ps., don&#8217;t share sockets between threads, even if it seems excellent design, seriously, just don&#8217;t do it!&#8221;</div>
<div class="line">[Saturday 12 March 2011] [08:38:30] &lt;sustrik&gt; :)</div>
<div class="line">[Saturday 12 March 2011] [08:38:30] &lt;yrashk&gt;  sustrik: /msg chanserv op #zeromq</div>
<div class="line">[Saturday 12 March 2011] [08:38:37] &lt;yrashk&gt;  may be add your name too</div>
<div class="line">[Saturday 12 March 2011] [08:38:39] &lt;yrashk&gt;  dont remember</div>
<div class="line">[Saturday 12 March 2011] [08:38:49] &lt;pieterh&gt; yay!</div>
<div class="line">[Saturday 12 March 2011] [08:38:54] &lt;dermoth|home&gt;    pieterh, where are the logs?</div>
<div class="line">[Saturday 12 March 2011] [08:38:54] Kick      pieterh has been kicked from the channel by sustrik (pieterh).</div>
<div class="line">[Saturday 12 March 2011] [08:39:08] &lt;yrashk&gt;  power trip!</div>
<div class="line">[Saturday 12 March 2011] [08:39:08] &lt;yrashk&gt;  :D</div>
<div class="line">[Saturday 12 March 2011] [08:39:12] &lt;sustrik&gt; :D</div>
<div class="line">[Saturday 12 March 2011] [08:39:23] &lt;pieterh&gt; all bow before our sustrik overlords</div>
<div class="line">[Saturday 12 March 2011] [08:39:27] &lt;dermoth|home&gt;    pieterh, where are the logs?</div>
<div class="line">[Saturday 12 March 2011] [08:39:27] &lt;sustrik&gt; ok</div>
<div class="line">[Saturday 12 March 2011] [08:39:27] &lt;pieterh&gt; aight</div>
<div class="line">[Saturday 12 March 2011] [08:39:30] &lt;sustrik&gt; what now</div>
<div class="line">[Saturday 12 March 2011] [08:39:34] &lt;sustrik&gt; ?</div>
<div class="line">[Saturday 12 March 2011] [08:39:49] &lt;pieterh&gt; dermoth|home: <a class="reference external" href="http://travlr.github.com/zmqirclog/">http://travlr.github.com/zmqirclog/</a></div>
<div class="line">[Saturday 12 March 2011] [08:39:50] &lt;dermoth|home&gt;    i&#8217;ll point to the url rather than just saying it&#8217;s logged</div>
<div class="line">[Saturday 12 March 2011] [08:40:30] &lt;pieterh&gt; sustrik: shrug, it&#8217;s enough for now we know dermoth|home and you are chanops</div>
<div class="line">[Saturday 12 March 2011] [08:40:40] &lt;sustrik&gt; ok</div>
<div class="line">[Saturday 12 March 2011] [08:40:55] &lt;pieterh&gt; heh :-) magic</div>
<div class="line">[Saturday 12 March 2011] [08:41:15] &lt;pieterh&gt; BTW if anyone wants short URLs for 0MQ projects, give me a shout</div>
<div class="line">[Saturday 12 March 2011] [08:41:28] &lt;pieterh&gt; The Guide is e.g. also at <a class="reference external" href="http://zero.mq/zg">http://zero.mq/zg</a></div>
<div class="line">[Saturday 12 March 2011] [08:42:06] &lt;pieterh&gt; and I&#8217;ve just created <a class="reference external" href="http://zero.mq/irc">http://zero.mq/irc</a> -&gt; <a class="reference external" href="http://travlr.github.com/zmqirclog/">http://travlr.github.com/zmqirclog/</a></div>
<div class="line">[Saturday 12 March 2011] [08:42:56] &lt;pieterh&gt; :-)</div>
<div class="line">[Saturday 12 March 2011] [08:44:06] &lt;pieterh&gt; sustrik: leaping to 3.0 is a great idea, I see San Francisco inspired you</div>
<div class="line">[Saturday 12 March 2011] [08:44:54] &lt;sustrik&gt; it calmed down my fear wrt the api breakage</div>
<div class="line">[Saturday 12 March 2011] [08:45:07] &lt;sustrik&gt; the people haven&#8217;t seem to mind it that much</div>
<div class="line">[Saturday 12 March 2011] [08:45:17] &lt;sustrik&gt; although there were no binding maintainers there</div>
<div class="line">[Saturday 12 March 2011] [08:45:44] &lt;pieterh&gt; I think a key thing is to prove we have a healthy 2.1</div>
<div class="line">[Saturday 12 March 2011] [08:45:51] &lt;sustrik&gt; ack</div>
<div class="line">[Saturday 12 March 2011] [08:46:14] &lt;sustrik&gt; when there&#8217;s a stable branch, the changes to master become somehow less threatening</div>
<div class="line">[Saturday 12 March 2011] [08:46:20] &lt;pieterh&gt; indeed</div>
<div class="line">[Saturday 12 March 2011] [08:47:03] &lt;sustrik&gt; Guthur: you there?</div>
<div class="line">[Saturday 12 March 2011] [08:47:24] &lt;pieterh&gt; btw, there&#8217;s a really good article by Zed Shaw on coders vs. sysadmins: <a class="reference external" href="http://sheddingbikes.com/posts/1299555462.html">http://sheddingbikes.com/posts/1299555462.html</a></div>
<div class="line">[Saturday 12 March 2011] [08:47:33] &lt;pieterh&gt; very relevant to this discussion</div>
<div class="line">[Saturday 12 March 2011] [08:52:45] &lt;yrashk&gt;  interesting to know what his ideas are that he has mentioned in the very end</div>
<div class="line">[Saturday 12 March 2011] [08:53:22] &lt;yrashk&gt;  with Zed you can never predict what he comes up with next</div>
<div class="line">[Saturday 12 March 2011] [08:53:22] &lt;pieterh&gt; with 0MQ we split the traffic right up front, at the zeromq.org main page</div>
<div class="line">[Saturday 12 March 2011] [08:53:39] &lt;pieterh&gt; ah, yrashk, yes, you can... Zed will always create a new project :-)</div>
<div class="line">[Saturday 12 March 2011] [08:54:05] &lt;yrashk&gt;  pieterh: well that, yes</div>
<div class="line">[Saturday 12 March 2011] [08:54:09] &lt;yrashk&gt;  but what will be there...</div>
<div class="line">[Saturday 12 March 2011] [08:54:25] &lt;Guthur&gt;  sustrik, back</div>
<div class="line">[Saturday 12 March 2011] [08:54:30] &lt;Guthur&gt;  sorry was AFK there</div>
<div class="line">[Saturday 12 March 2011] [08:54:48] &lt;sustrik&gt; i&#8217;ve just read the EINTR thread</div>
<div class="line">[Saturday 12 March 2011] [08:54:54] &lt;Guthur&gt;  As I binding author I&#8217;m actually in a small way looking forward to the jump to ZMQ3</div>
<div class="line">[Saturday 12 March 2011] [08:54:56] &lt;sustrik&gt; have you solved that already?</div>
<div class="line">[Saturday 12 March 2011] [08:55:03] &lt;Guthur&gt;  it&#8217;ll let me make some changes</div>
<div class="line">[Saturday 12 March 2011] [08:55:09] &lt;yrashk&gt;  when zmq3 is due?</div>
<div class="line">[Saturday 12 March 2011] [08:55:21] &lt;sustrik&gt; when, 2.1 is stable</div>
<div class="line">[Saturday 12 March 2011] [08:55:24] &lt;yrashk&gt;  I as a binding author is interested in it, too</div>
<div class="line">[Saturday 12 March 2011] [08:55:37] &lt;Guthur&gt;  sustrik, For clrzmq2, yes, I just catch SYSINT and SYSTERM, and exit the program</div>
<div class="line">[Saturday 12 March 2011] [08:55:50] &lt;sustrik&gt; so, the bump is actually just an API/ABI change, so it can be done quickly</div>
<div class="line">[Saturday 12 March 2011] [08:55:55] &lt;sustrik&gt; basically in 1 go</div>
<div class="line">[Saturday 12 March 2011] [08:55:59] &lt;yrashk&gt;  hey my binding ends with 2, too!</div>
<div class="line">[Saturday 12 March 2011] [08:56:01] &lt;pieterh&gt; Guthur: do you re-enter the poll call?</div>
<div class="line">[Saturday 12 March 2011] [08:56:11] &lt;Guthur&gt;  pieterh, yeah</div>
<div class="line">[Saturday 12 March 2011] [08:56:20] &lt;Guthur&gt;  I have a timer to track how long has elapsed</div>
<div class="line">[Saturday 12 March 2011] [08:56:21] &lt;pieterh&gt; so that worked... excellent...</div>
<div class="line">[Saturday 12 March 2011] [08:56:27] &lt;Guthur&gt;  yep, all good</div>
<div class="line">[Saturday 12 March 2011] [08:56:33] &lt;Guthur&gt;  pieterh, cheers for the suggestion</div>
<div class="line">[Saturday 12 March 2011] [08:56:45] &lt;pieterh&gt; np, happy to help</div>
<div class="line">[Saturday 12 March 2011] [08:57:04] &lt;sustrik&gt; yrashk: what&#8217;s that, a collision in binding names?</div>
<div class="line">[Saturday 12 March 2011] [08:57:19] &lt;yrashk&gt;  sustrik: nope</div>
<div class="line">[Saturday 12 March 2011] [08:57:25] &lt;sustrik&gt; ok, good</div>
<div class="line">[Saturday 12 March 2011] [08:57:28] &lt;yrashk&gt;  sustrik: clrzmq2 and erlzmq2</div>
<div class="line">[Saturday 12 March 2011] [08:57:33] &lt;yrashk&gt;  just both are -twos</div>
<div class="line">[Saturday 12 March 2011] [08:57:34] &lt;yrashk&gt;  :D</div>
<div class="line">[Saturday 12 March 2011] [08:57:41] &lt;pieterh&gt; sustrik: just happy naming conventions</div>
<div class="line">[Saturday 12 March 2011] [08:57:58] &lt;sustrik&gt; as for 3.0 bump</div>
<div class="line">[Saturday 12 March 2011] [08:58:10] &lt;sustrik&gt; anybody who&#8217;s interested in the bump, check the wiki page</div>
<div class="line">[Saturday 12 March 2011] [08:58:14] &lt;pieterh&gt; Guthur: yrashk: please do <em>not</em> bump that to x3 when 0MQ/3 comes out...</div>
<div class="line">[Saturday 12 March 2011] [08:58:20] &lt;Guthur&gt;  oh</div>
<div class="line">[Saturday 12 March 2011] [08:58:21] &lt;yrashk&gt;  is 3.0 api gonna be significantly different btw?</div>
<div class="line">[Saturday 12 March 2011] [08:58:28] &lt;sustrik&gt; not really</div>
<div class="line">[Saturday 12 March 2011] [08:58:32] &lt;pieterh&gt; just cleaner</div>
<div class="line">[Saturday 12 March 2011] [08:58:37] &lt;sustrik&gt; there are some shortcoming though</div>
<div class="line">[Saturday 12 March 2011] [08:58:38] &lt;sustrik&gt; yes</div>
<div class="line">[Saturday 12 March 2011] [08:58:42] &lt;Guthur&gt;  pieterh, my rational is that I would like to clean up some API issues I perceive</div>
<div class="line">[Saturday 12 March 2011] [08:58:44] &lt;yrashk&gt;  pieterh: sure. erlzmq2 is v2 to erlzmq only</div>
<div class="line">[Saturday 12 March 2011] [08:58:59] &lt;Guthur&gt;  I can&#8217;t remove them for backwards compatibility reasons</div>
<div class="line">[Saturday 12 March 2011] [08:59:24] &lt;pieterh&gt; Guthur: you can in fact make your own version jump any time you like</div>
<div class="line">[Saturday 12 March 2011] [08:59:30] &lt;sustrik&gt; i guess the C and Erlang APIs are not tightly connected</div>
<div class="line">[Saturday 12 March 2011] [08:59:34] &lt;sustrik&gt; exactly</div>
<div class="line">[Saturday 12 March 2011] [08:59:34] &lt;pieterh&gt; that&#8217;s a contract between you and your users</div>
<div class="line">[Saturday 12 March 2011] [08:59:47] &lt;pieterh&gt; feel free to refer to the 0MQ contract as your guide</div>
<div class="line">[Saturday 12 March 2011] [08:59:56] &lt;pieterh&gt; &#8216;release policy&#8217; is the page</div>
<div class="line">[Saturday 12 March 2011] [09:00:12] &lt;yrashk&gt;  sustrik: they are not, but they are very close</div>
<div class="line">[Saturday 12 March 2011] [09:00:13] &lt;Guthur&gt;  pieterh, I suppose I was being slightly sneaky and was going to spin it as a move to ZMQ3</div>
<div class="line">[Saturday 12 March 2011] [09:00:16] &lt;Guthur&gt;  sorry, hehe</div>
<div class="line">[Saturday 12 March 2011] [09:00:32] &lt;pieterh&gt; sustrik: I found another case where one <em>has</em> to set linger on a socket or term freezes</div>
<div class="line">[Saturday 12 March 2011] [09:00:36] &lt;yrashk&gt;  sustrik: I effectively imitate 0mq api more or less</div>
<div class="line">[Saturday 12 March 2011] [09:00:41] &lt;pieterh&gt; that&#8217;s when there are pending outgoing connects</div>
<div class="line">[Saturday 12 March 2011] [09:00:51] &lt;yrashk&gt;  sustrik: <a class="reference external" href="http://zeromq.github.com/erlzmq2/">http://zeromq.github.com/erlzmq2/</a></div>
<div class="line">[Saturday 12 March 2011] [09:01:16] &lt;sustrik&gt; pieterh: yes</div>
<div class="line">[Saturday 12 March 2011] [09:01:16] &lt;pieterh&gt; that doesn&#8217;t seem accurate semantics</div>
<div class="line">[Saturday 12 March 2011] [09:01:17] &lt;yrashk&gt;  sustrik: they only addition is brecv which is a vm blocking receive (if somebody will ever need that)</div>
<div class="line">[Saturday 12 March 2011] [09:01:44] &lt;sustrik&gt; pieterh: 0mq has to connect first to be able to send pending messages</div>
<div class="line">[Saturday 12 March 2011] [09:02:05] &lt;pieterh&gt; hmm, true but IMO at termination time, pending connections should be killed</div>
<div class="line">[Saturday 12 March 2011] [09:02:11] &lt;pieterh&gt; well</div>
<div class="line">[Saturday 12 March 2011] [09:02:14] &lt;pieterh&gt; sigh</div>
<div class="line">[Saturday 12 March 2011] [09:02:16] &lt;pieterh&gt; indeed</div>
<div class="line">[Saturday 12 March 2011] [09:02:21] &lt;pieterh&gt; <em>sigh</em></div>
<div class="line">[Saturday 12 March 2011] [09:02:37] &lt;pieterh&gt; it&#8217;s all logical but my fear is lots and lots of people are going to stumble on this</div>
<div class="line">[Saturday 12 March 2011] [09:02:38] &lt;sustrik&gt; yrashk: however, the changes between 2 and 3 likely have no counterpart in Erlang API</div>
<div class="line">[Saturday 12 March 2011] [09:02:50] &lt;yrashk&gt;  btw with erlang api, you can terminate the context and then start closing sockets in parallel :)</div>
<div class="line">[Saturday 12 March 2011] [09:02:57] &lt;pieterh&gt; sustrik: any chance we can revert zmq_term() to acting like 2.0, in 2.1 stable?</div>
<div class="line">[Saturday 12 March 2011] [09:03:28] &lt;sustrik&gt; pieterh: why would you want that?</div>
<div class="line">[Saturday 12 March 2011] [09:03:33] &lt;pieterh&gt; recall, we discussed it</div>
<div class="line">[Saturday 12 March 2011] [09:03:36] &lt;yrashk&gt;  our zmq_term even has an optional timeout value</div>
<div class="line">[Saturday 12 March 2011] [09:03:42] &lt;pieterh&gt; two zmq_term methods, one blocking and one non-blocking</div>
<div class="line">[Saturday 12 March 2011] [09:03:50] &lt;pieterh&gt; blocking with timeout</div>
<div class="line">[Saturday 12 March 2011] [09:03:56] &lt;sustrik&gt; yes?</div>
<div class="line">[Saturday 12 March 2011] [09:04:00] &lt;pieterh&gt; old name, old semantics, compatible</div>
<div class="line">[Saturday 12 March 2011] [09:04:06] &lt;pieterh&gt; new name, new semantics</div>
<div class="line">[Saturday 12 March 2011] [09:04:19] &lt;pieterh&gt; in fact the 2.1 change broke the API IMO</div>
<div class="line">[Saturday 12 March 2011] [09:04:26] &lt;sustrik&gt; pieterh: ah, backward compatibility</div>
<div class="line">[Saturday 12 March 2011] [09:04:30] &lt;pieterh&gt; I know it was for good reasons but it broke the API</div>
<div class="line">[Saturday 12 March 2011] [09:04:40] &lt;pieterh&gt; and people are going to bitch when they move from 2.0 and stuff stops working</div>
<div class="line">[Saturday 12 March 2011] [09:04:42] &lt;sustrik&gt; yes, it would make sense to make linger default to 0</div>
<div class="line">[Saturday 12 March 2011] [09:04:44] &lt;pieterh&gt; yes</div>
<div class="line">[Saturday 12 March 2011] [09:05:11] &lt;sustrik&gt; but at the moment most people are using 2.1 with default of &#8220;infinite&#8221; :(</div>
<div class="line">[Saturday 12 March 2011] [09:05:25] &lt;pieterh&gt; 2.1 is not stable yet, it&#8217;s rc2</div>
<div class="line">[Saturday 12 March 2011] [09:05:30] &lt;sustrik&gt; it was a fault not to preserve backward compatibility when moving to 2.1</div>
<div class="line">[Saturday 12 March 2011] [09:05:42] &lt;pieterh&gt; well, I did argue for it quite loudly iirc</div>
<div class="line">[Saturday 12 March 2011] [09:05:55] &lt;sustrik&gt; well, it&#8217;s more about how many people you are going to hurt</div>
<div class="line">[Saturday 12 March 2011] [09:06:04] &lt;sustrik&gt; you did</div>
<div class="line">[Saturday 12 March 2011] [09:06:20] &lt;pieterh&gt; to be honest there are marginal areas we <em>should</em> improve but don&#8217;t because of the API contract</div>
<div class="line">[Saturday 12 March 2011] [09:06:31] &lt;pieterh&gt; and here we have something that breaks a majority of code...</div>
<div class="line">[Saturday 12 March 2011] [09:06:32] &lt;sustrik&gt; yes</div>
<div class="line">[Saturday 12 March 2011] [09:06:43] &lt;sustrik&gt; that&#8217;s why 3.0 should be done asap</div>
<div class="line">[Saturday 12 March 2011] [09:07:06] &lt;sustrik&gt; it was a fault back then</div>
<div class="line">[Saturday 12 March 2011] [09:07:07] &lt;pieterh&gt; that would help, but doesn&#8217;t make 2.1 less dangerous IMO</div>
<div class="line">[Saturday 12 March 2011] [09:07:10] &lt;sustrik&gt; i am sorry for it</div>
<div class="line">[Saturday 12 March 2011] [09:07:28] &lt;pieterh&gt; sorry shmorry, can we fix this before it&#8217;s too lare?</div>
<div class="line">[Saturday 12 March 2011] [09:07:30] &lt;pieterh&gt; <a href="#id93"><span class="problematic" id="id94">*</span></a>late</div>
<div class="line">[Saturday 12 March 2011] [09:07:49] &lt;sustrik&gt; it&#8217;s already to late</div>
<div class="line">[Saturday 12 March 2011] [09:07:55] &lt;pieterh&gt; why?</div>
<div class="line">[Saturday 12 March 2011] [09:07:59] &lt;pieterh&gt; 2.1 is not stable</div>
<div class="line">[Saturday 12 March 2011] [09:08:03] &lt;sustrik&gt; majority has already migrated</div>
<div class="line">[Saturday 12 March 2011] [09:08:14] &lt;pieterh&gt; you have figures?</div>
<div class="line">[Saturday 12 March 2011] [09:08:23] &lt;pieterh&gt; to be honest I don&#8217;t believe that</div>
<div class="line">[Saturday 12 March 2011] [09:08:33] &lt;pieterh&gt; besides, it&#8217;s not the point</div>
<div class="line">[Saturday 12 March 2011] [09:08:46] &lt;pieterh&gt; we have a release policy, which 2.1 broke, and should unbreak</div>
<div class="line">[Saturday 12 March 2011] [09:08:59] &lt;sustrik&gt; that means second breaking</div>
<div class="line">[Saturday 12 March 2011] [09:09:04] &lt;sustrik&gt; one was enough</div>
<div class="line">[Saturday 12 March 2011] [09:09:05] &lt;pieterh&gt; otherwise the release policy is not credible and when you refer to it, I&#8217;ll mock you bitterly</div>
<div class="line">[Saturday 12 March 2011] [09:09:16] &lt;pieterh&gt; &#8220;oh, it&#8217;s fine when YOU want to break it...&#8221;...</div>
<div class="line">[Saturday 12 March 2011] [09:09:19] &lt;pieterh&gt; seriously... :-/</div>
<div class="line">[Saturday 12 March 2011] [09:09:26] &lt;sustrik&gt; the problem is that the contract was written after 2.1</div>
<div class="line">[Saturday 12 March 2011] [09:09:32] &lt;pieterh&gt; that is untrue</div>
<div class="line">[Saturday 12 March 2011] [09:09:41] &lt;pieterh&gt; you modified it afterwards, but it&#8217;s from 2.0</div>
<div class="line">[Saturday 12 March 2011] [09:09:49] &lt;sustrik&gt; it was discussed because of 2.1</div>
<div class="line">[Saturday 12 March 2011] [09:09:57] &lt;pieterh&gt; I&#8217;ll provide you the date it was written... hang on</div>
<div class="line">[Saturday 12 March 2011] [09:09:57] &lt;sustrik&gt; and introduced</div>
<div class="line">[Saturday 12 March 2011] [09:10:19] &lt;sustrik&gt; yep</div>
<div class="line">[Saturday 12 March 2011] [09:10:25] &lt;pieterh&gt; it was written for 2.0 to be precise</div>
<div class="line">[Saturday 12 March 2011] [09:10:43] &lt;pieterh&gt; I flatly disagree that it did not apply, does not <em>now</em> apply to 2.1</div>
<div class="line">[Saturday 12 March 2011] [09:10:48] &lt;pieterh&gt; that is completely wrong</div>
<div class="line">[Saturday 12 March 2011] [09:11:00] &lt;sustrik&gt; i recall explicitly addressing 2.1 compatibility issues when writing it</div>
<div class="line">[Saturday 12 March 2011] [09:11:12] &lt;pieterh&gt; We wrote it in August</div>
<div class="line">[Saturday 12 March 2011] [09:11:29] &lt;pieterh&gt; your memory is ... curious</div>
<div class="line">[Saturday 12 March 2011] [09:11:36] &lt;sustrik&gt; ah, yes, i think thr 2.1 work started back then</div>
<div class="line">[Saturday 12 March 2011] [09:11:36] &lt;pieterh&gt; Check the history</div>
<div class="line">[Saturday 12 March 2011] [09:11:51] &lt;sustrik&gt; remember the great heats in BTS?</div>
<div class="line">[Saturday 12 March 2011] [09:12:12] &lt;pieterh&gt; please, sustrik, check the dates when you introduced the zmq_term blocking</div>
<div class="line">[Saturday 12 March 2011] [09:12:24] &lt;pieterh&gt; anyhow, this is irrelevant</div>
<div class="line">[Saturday 12 March 2011] [09:12:34] &lt;sustrik&gt; yes, it was at the same time</div>
<div class="line">[Saturday 12 March 2011] [09:12:35] &lt;pieterh&gt; you have a release policy and we are about to release a stable 2.1</div>
<div class="line">[Saturday 12 March 2011] [09:12:41] &lt;pieterh&gt; which breaks the release policy</div>
<div class="line">[Saturday 12 March 2011] [09:12:51] &lt;pieterh&gt; I&#8217;m formally against that</div>
<div class="line">[Saturday 12 March 2011] [09:12:58] &lt;pieterh&gt; and formally asking you to respect the documented policy</div>
<div class="line">[Saturday 12 March 2011] [09:13:05] &lt;sustrik&gt; i am against repeated breaking of API</div>
<div class="line">[Saturday 12 March 2011] [09:13:13] &lt;sustrik&gt; 2.1.1-&gt;2.1.2</div>
<div class="line">[Saturday 12 March 2011] [09:13:13] &lt;pieterh&gt; the API includes the semantics of zmq_term</div>
<div class="line">[Saturday 12 March 2011] [09:13:39] &lt;sustrik&gt; well, let&#8217;s do a poll then</div>
<div class="line">[Saturday 12 March 2011] [09:13:46] &lt;pieterh&gt; blocking or non-blocking?</div>
<div class="line">[Saturday 12 March 2011] [09:13:59] &lt;pieterh&gt; yes, let&#8217;s do a poll</div>
<div class="line">[Saturday 12 March 2011] [09:14:05] &lt;sustrik&gt; default linger of 0 vs. infinite</div>
<div class="line">[Saturday 12 March 2011] [09:14:08] &lt;pieterh&gt; indeed</div>
<div class="line">[Saturday 12 March 2011] [09:14:44] &lt;pieterh&gt; note, you can add zmq_term_blocking () which does infinite blocking with a timeout</div>
<div class="line">[Saturday 12 March 2011] [09:15:02] &lt;sustrik&gt; sure, but that&#8217;s not the point</div>
<div class="line">[Saturday 12 March 2011] [09:15:06] &lt;pieterh&gt; yes it is</div>
<div class="line">[Saturday 12 March 2011] [09:15:13] &lt;pieterh&gt; if people absolutely need the semantics, they are present</div>
<div class="line">[Saturday 12 March 2011] [09:15:23] &lt;sustrik&gt; we are discussing backward comaptibility not new apis</div>
<div class="line">[Saturday 12 March 2011] [09:15:27] &lt;pieterh&gt; ok, setting LINGER gives the same results</div>
<div class="line">[Saturday 12 March 2011] [09:15:29] &lt;sustrik&gt; anyway, let&#8217;s ask people</div>
<div class="line">[Saturday 12 March 2011] [09:15:37] &lt;yrashk&gt;  I vote for keeping it as is</div>
<div class="line">[Saturday 12 March 2011] [09:15:39] &lt;yrashk&gt;  :)</div>
<div class="line">[Saturday 12 March 2011] [09:15:44] &lt;yrashk&gt;  if anybody&#8217;s interested :)</div>
<div class="line">[Saturday 12 March 2011] [09:15:50] &lt;sustrik&gt; i am against :)</div>
<div class="line">[Saturday 12 March 2011] [09:15:52] &lt;pieterh&gt; yrashk: &#8216;as is&#8217; depends where you are today</div>
<div class="line">[Saturday 12 March 2011] [09:15:56] &lt;yrashk&gt;  master</div>
<div class="line">[Saturday 12 March 2011] [09:15:57] &lt;sustrik&gt; let me ask on ml</div>
<div class="line">[Saturday 12 March 2011] [09:16:07] &lt;pieterh&gt; could you please be specific: infinite blocking, or not</div>
<div class="line">[Saturday 12 March 2011] [09:16:11] &lt;yrashk&gt;  infinite</div>
<div class="line">[Saturday 12 March 2011] [09:16:11] &lt;sustrik&gt; yes</div>
<div class="line">[Saturday 12 March 2011] [09:16:33] &lt;sustrik&gt; there are two sides to the problem</div>
<div class="line">[Saturday 12 March 2011] [09:16:42] &lt;sustrik&gt; i&#8217;ll try to explain on the ml</div>
<div class="line">[Saturday 12 March 2011] [09:17:06] &lt;pieterh&gt; sustrik: please, do point out this is for the stable 2.1 to be released shortly</div>
<div class="line">[Saturday 12 March 2011] [09:17:19] &lt;pieterh&gt; and do explain that infinite blocking means all existing apps are likely to break</div>
<div class="line">[Saturday 12 March 2011] [09:17:25] &lt;pieterh&gt; when they migrate from 2.0 to 2.1</div>
<div class="line">[Saturday 12 March 2011] [09:17:27] &lt;sustrik&gt; 2.0 apps</div>
<div class="line">[Saturday 12 March 2011] [09:17:35] &lt;sustrik&gt; in the opposite case</div>
<div class="line">[Saturday 12 March 2011] [09:17:42] &lt;sustrik&gt; the 2.1 apps are going to break</div>
<div class="line">[Saturday 12 March 2011] [09:17:48] &lt;sustrik&gt; i&#8217;ll explain that</div>
<div class="line">[Saturday 12 March 2011] [09:17:56] &lt;pieterh&gt; all the ones that don&#8217;t explicitly set LINGER to zero, which is loads and loads</div>
<div class="line">[Saturday 12 March 2011] [09:18:09] &lt;pieterh&gt; (loads and loads take the effort to set LINGER to zero)</div>
<div class="line">[Saturday 12 March 2011] [09:18:54] &lt;pieterh&gt; yes, a poll will be interesting...</div>
<div class="line">[Saturday 12 March 2011] [09:19:26] &lt;pieterh&gt; BTW there&#8217;s a line in the Release Policies page I am going to remove</div>
<div class="line">[Saturday 12 March 2011] [09:19:32] &lt;pieterh&gt; &#8220;In general we have a stable and an unstable releases of the product, e.g. 2.0.x and 2.1.x&#8221;</div>
<div class="line">[Saturday 12 March 2011] [09:19:36] &lt;pieterh&gt; that is just wrong</div>
<div class="line">[Saturday 12 March 2011] [09:21:22] &lt;pieterh&gt; bleh, the contract is vague for minor releases</div>
<div class="line">[Saturday 12 March 2011] [09:21:29] &lt;pieterh&gt; &#8220;It may even run&#8221;</div>
<div class="line">[Saturday 12 March 2011] [09:21:38] &lt;pieterh&gt; some lawyer has been editing that page...</div>
<div class="line">[Saturday 12 March 2011] [09:30:06] &lt;Guthur&gt;  is the reactor pattern still ear marked for 3.0</div>
<div class="line">[Saturday 12 March 2011] [09:30:48] &lt;Guthur&gt;  just thinking that if it was to replace Poll it might be a good opportunity to work IOCP into the windows version</div>
<div class="line">[Saturday 12 March 2011] [09:31:39] &lt;Guthur&gt;  which would obviously immediately open up IPC</div>
<div class="line">[Saturday 12 March 2011] [09:32:06] &lt;pieterh&gt; Guthur: I don&#8217;t think that&#8217;s on the 3.0 roadmap</div>
<div class="line">[Saturday 12 March 2011] [09:32:38] &lt;Guthur&gt;  it is according to the website</div>
<div class="line">[Saturday 12 March 2011] [09:32:52] &lt;Guthur&gt;  <a class="reference external" href="http://www.zeromq.org/docs:3-0#toc3">http://www.zeromq.org/docs:3-0#toc3</a></div>
<div class="line">[Saturday 12 March 2011] [09:33:19] &lt;Guthur&gt;  it does say replacing OR supplementing though</div>
<div class="line">[Saturday 12 March 2011] [09:33:23] &lt;pieterh&gt; indeed, but I don&#8217;t think it&#8217;s on the roadmap</div>
<div class="line">[Saturday 12 March 2011] [09:33:44] &lt;Guthur&gt;  ok, is there a more up to date doc</div>
<div class="line">[Saturday 12 March 2011] [09:34:34] &lt;pieterh&gt; sorry to be unhelpful but the only accurate doc is the NEWS when a feature&#8217;s been released</div>
<div class="line">[Saturday 12 March 2011] [09:34:43] &lt;pieterh&gt; and then the man page...</div>
<div class="line">[Saturday 12 March 2011] [10:29:07] &lt;zedas&gt;   pieterh: or write a book :-)</div>
<div class="line">[Saturday 12 March 2011] [10:29:26] &lt;pieterh&gt; :-) yeah, that&#8217;s always a good option</div>
<div class="line">[Saturday 12 March 2011] [10:31:14] &lt;sustrik&gt; 3.0 road map is out of date</div>
<div class="line">[Saturday 12 March 2011] [10:31:24] &lt;sustrik&gt; :(</div>
<div class="line">[Saturday 12 March 2011] [10:32:11] &lt;sustrik&gt; i would rather use the page to collect the API changes</div>
<div class="line">[Saturday 12 March 2011] [10:32:25] &lt;pieterh&gt; sustrik: ctrl-e (stuff) ctrl-s</div>
<div class="line">[Saturday 12 March 2011] [10:32:34] &lt;sustrik&gt; new features, otoh, will anyway be only those that people contribute</div>
<div class="line">[Saturday 12 March 2011] [10:32:55] &lt;sustrik&gt; right</div>
<div class="line">[Saturday 12 March 2011] [10:36:32] &lt;Skaag&gt;   sustrik: you heard about Sector and UDT?</div>
<div class="line">[Saturday 12 March 2011] [10:36:48] &lt;sustrik&gt; i know UDT</div>
<div class="line">[Saturday 12 March 2011] [10:36:56] &lt;sustrik&gt; don&#8217;t know about Sector</div>
<div class="line">[Saturday 12 March 2011] [10:37:04] &lt;Skaag&gt;   that&#8217;s the funny thing</div>
<div class="line">[Saturday 12 March 2011] [10:37:12] &lt;Skaag&gt;   I thought about implementing a filesystem based on ZMQ</div>
<div class="line">[Saturday 12 March 2011] [10:37:22] &lt;Skaag&gt;   and while looking for prior work, I found Sector...</div>
<div class="line">[Saturday 12 March 2011] [10:37:24] &lt;Skaag&gt;   <a class="reference external" href="http://sector.sourceforge.net/">http://sector.sourceforge.net/</a></div>
<div class="line">[Saturday 12 March 2011] [10:37:34] &lt;Skaag&gt;   I&#8217;m currently installing it and about to try it out</div>
<div class="line">[Saturday 12 March 2011] [10:37:42] &lt;Skaag&gt;   on paper, it looks very interesting</div>
<div class="line">[Saturday 12 March 2011] [10:38:16] &lt;sustrik&gt; there are several distributed databases out there</div>
<div class="line">[Saturday 12 March 2011] [10:38:25] &lt;sustrik&gt; i am not an expert in the topic though</div>
<div class="line">[Saturday 12 March 2011] [10:38:30] &lt;Skaag&gt;   this one offers a fuse client which makes it interesting</div>
<div class="line">[Saturday 12 March 2011] [10:38:43] &lt;Skaag&gt;   the reason I mentioned it is UDT actually</div>
<div class="line">[Saturday 12 March 2011] [10:39:31] &lt;sustrik&gt; like in &#8220;uses UDT&#8221; fro communication between nodes, right?</div>
<div class="line">[Saturday 12 March 2011] [10:39:36] &lt;Skaag&gt;   yes</div>
<div class="line">[Saturday 12 March 2011] [10:39:46] &lt;sustrik&gt; nice</div>
<div class="line">[Saturday 12 March 2011] [10:40:03] &lt;sustrik&gt; could work well for large-scale synchronisations over a WAN</div>
<div class="line">[Saturday 12 March 2011] [10:40:12] &lt;Skaag&gt;   that&#8217;s what I need to establish now</div>
<div class="line">[Saturday 12 March 2011] [10:40:50] &lt;Skaag&gt;   I have at the moment machines in 7 ~ 8 different data centers</div>
<div class="line">[Saturday 12 March 2011] [10:41:02] &lt;Skaag&gt;   by the way, zmq is working wonders for us</div>
<div class="line">[Saturday 12 March 2011] [10:41:17] &lt;Skaag&gt;   we are graphing in real-time the data from 20+ nodes</div>
<div class="line">[Saturday 12 March 2011] [10:41:46] &lt;Skaag&gt;   without the illnesses we were experiencing while using rabbitmq</div>
<div class="line">[Saturday 12 March 2011] [10:43:43] &lt;pieterh&gt; Skaag: we&#8217;d welcome a short story that we could publish on the wiki...</div>
<div class="line">[Saturday 12 March 2011] [10:43:54] &lt;pieterh&gt; about your experiences in moving to 0MQ</div>
<div class="line">[Saturday 12 March 2011] [10:43:54] &lt;Skaag&gt;   ok</div>
<div class="line">[Saturday 12 March 2011] [10:44:30] &lt;sustrik&gt; Skaag: what&#8217;s the project?</div>
<div class="line">[Saturday 12 March 2011] [10:45:00] &lt;Skaag&gt;   it&#8217;s a control panel for a CDN</div>
<div class="line">[Saturday 12 March 2011] [10:45:08] &lt;sustrik&gt; is there a link?</div>
<div class="line">[Saturday 12 March 2011] [10:45:26] &lt;Skaag&gt;   I&#8217;m still making the site for it :-</div>
<div class="line">[Saturday 12 March 2011] [10:45:32] &lt;sustrik&gt; i see</div>
<div class="line">[Saturday 12 March 2011] [10:45:52] &lt;sustrik&gt; when you have it, share the link</div>
<div class="line">[Saturday 12 March 2011] [10:45:58] &lt;Skaag&gt;    will do</div>
<div class="line">[Saturday 12 March 2011] [10:45:59] &lt;sustrik&gt; it would be interesting to have a look</div>
<div class="line">[Saturday 12 March 2011] [11:17:22] &lt;CIA-103&gt; zeromq2: 03Guido Goldstein 07master * rd0c8edd 10/ include/zmq.hpp :</div>
<div class="line">[Saturday 12 March 2011] [11:17:22] &lt;CIA-103&gt; zeromq2: Added missing close method w/ check if socket is already closed.</div>
<div class="line">[Saturday 12 March 2011] [11:17:22] &lt;CIA-103&gt; zeromq2: Signed-off-by: Guido Goldstein &lt;<a class="reference external" href="mailto:github&#37;&#52;&#48;a-nugget&#46;de">github<span>&#64;</span>a-nugget<span>&#46;</span>de</a>&gt; - <a class="reference external" href="http://bit.ly/ggZZI6">http://bit.ly/ggZZI6</a></div>
<div class="line">[Saturday 12 March 2011] [11:37:29] &lt;dermoth|home&gt;    I just fixed the cia auto-voice in chanserv...</div>
<div class="line">[Saturday 12 March 2011] [12:04:00] &lt;guido_g&gt; sustrik: thx for mentioning the sign-off thingie</div>
<div class="line">[Saturday 12 March 2011] [12:04:41] &lt;guido_g&gt; didn&#8217;t move the .gitconfig to the new machine</div>
<div class="line">[Saturday 12 March 2011] [17:48:28] &lt;nadime&gt;  any zmq gurus around to help me figure out a performance bottleneck issue?</div>
<div class="line">[Saturday 12 March 2011] [17:49:07] &lt;nadime&gt;  i think it&#8217;s kind of interesting!</div>
<div class="line">[Saturday 12 March 2011] [17:53:56] &lt;mikko&gt;   nadime: what&#8217;s the issue?</div>
<div class="line">[Saturday 12 March 2011] [17:54:06] &lt;nadime&gt;  i have the following setup</div>
<div class="line">[Saturday 12 March 2011] [17:54:52] &lt;nadime&gt;  push socket fans out from a thread into N (defaults to 4) IO threads using push/pull to distribute the work to the io threads</div>
<div class="line">[Saturday 12 March 2011] [17:55:04] &lt;nadime&gt;  the io threads then talk 1 to 1 with N io threads on a client</div>
<div class="line">[Saturday 12 March 2011] [17:55:18] &lt;nadime&gt;  the io threads use pub/sub since it&#8217;s 1 to 1</div>
<div class="line">[Saturday 12 March 2011] [17:55:36] &lt;nadime&gt;  each io thread has 1 zmq io thread</div>
<div class="line">[Saturday 12 March 2011] [17:55:40] &lt;nadime&gt;  and i set affinities</div>
<div class="line">[Saturday 12 March 2011] [17:55:45] &lt;nadime&gt;  to make it as quick as possible</div>
<div class="line">[Saturday 12 March 2011] [17:55:50] &lt;nadime&gt;  the issue i&#8217;m having</div>
<div class="line">[Saturday 12 March 2011] [17:56:03] &lt;nadime&gt;  is that i see about 500k msgs/sec go into my push socket</div>
<div class="line">[Saturday 12 March 2011] [17:56:09] &lt;nadime&gt;  but i fall way behind on my 4 io sockets</div>
<div class="line">[Saturday 12 March 2011] [17:56:25] &lt;nadime&gt;  sorry the io sockets are tcp</div>
<div class="line">[Saturday 12 March 2011] [17:56:49] &lt;nadime&gt;  so i didn&#8217;t expec tthem to keep up, but i figured with 4 and a pretty solid machine (12 cores, about 1 thread per core)</div>
<div class="line">[Saturday 12 March 2011] [17:56:59] &lt;nadime&gt;  they&#8217;d be ok</div>
<div class="line">[Saturday 12 March 2011] [17:57:06] &lt;mikko&gt;   are they tcp over local loopback?</div>
<div class="line">[Saturday 12 March 2011] [17:57:10] &lt;mikko&gt;   or over network?</div>
<div class="line">[Saturday 12 March 2011] [17:57:15] &lt;nadime&gt;  local 1 GB network</div>
<div class="line">[Saturday 12 March 2011] [17:57:29] &lt;mikko&gt;   what is your message size?</div>
<div class="line">[Saturday 12 March 2011] [17:57:37] &lt;nadime&gt;  avg prolly 50b</div>
<div class="line">[Saturday 12 March 2011] [17:57:47] &lt;nadime&gt;  sorry B</div>
<div class="line">[Saturday 12 March 2011] [17:57:48] &lt;nadime&gt;  bytes</div>
<div class="line">[Saturday 12 March 2011] [17:59:18] &lt;mikko&gt;   so, 50b messages x 500k would be roughly 238 megabytes per second</div>
<div class="line">[Saturday 12 March 2011] [17:59:38] &lt;nadime&gt;  yeah but i fall WAY behind</div>
<div class="line">[Saturday 12 March 2011] [17:59:49] &lt;nadime&gt;  like the io threads barely do 80kmsg/s</div>
<div class="line">[Saturday 12 March 2011] [17:59:53] &lt;mikko&gt;   one gigabit per second is 128 megabytes per second</div>
<div class="line">[Saturday 12 March 2011] [18:00:50] &lt;nadime&gt;  50b is probably wrong, i don&#8217;t see anywhere near full bandwidth utilization</div>
<div class="line">[Saturday 12 March 2011] [18:01:30] &lt;nadime&gt;  the point though is that what the io threads do is nowhere near even 20% capacity</div>
<div class="line">[Saturday 12 March 2011] [18:02:32] &lt;mikko&gt;   are you seeing high utilisation anywhere?</div>
<div class="line">[Saturday 12 March 2011] [18:02:37] &lt;mikko&gt;   or just falling rates?</div>
<div class="line">[Saturday 12 March 2011] [18:03:21] &lt;nadime&gt;  no high network utilization usually around 15%</div>
<div class="line">[Saturday 12 March 2011] [18:03:44] &lt;mikko&gt;   what os is this?</div>
<div class="line">[Saturday 12 March 2011] [18:03:49] &lt;nadime&gt;  win7</div>
<div class="line">[Saturday 12 March 2011] [18:03:53] &lt;nadime&gt;  64b</div>
<div class="line">[Saturday 12 March 2011] [18:04:03] &lt;mikko&gt;   hmm, can&#8217;t help you much there</div>
<div class="line">[Saturday 12 March 2011] [18:04:14] &lt;mikko&gt;   i have got very little experience with windows and performance</div>
<div class="line">[Saturday 12 March 2011] [18:04:20] &lt;nadime&gt;  i&#8217;m not missing anything though in terms of things you&#8217;d do with zmq?</div>
<div class="line">[Saturday 12 March 2011] [18:05:17] &lt;mikko&gt;   sounds ok</div>
<div class="line">[Saturday 12 March 2011] [18:05:25] &lt;mikko&gt;   i would maybe use zmq_pair socket for 1:1</div>
<div class="line">[Saturday 12 March 2011] [18:05:34] &lt;nadime&gt;  k, i can try that</div>
<div class="line">[Saturday 12 March 2011] [18:05:46] &lt;nadime&gt;  is the push/pull fair queuing slow?</div>
<div class="line">[Saturday 12 March 2011] [18:05:57] &lt;mikko&gt;   shouldn&#8217;t be</div>
<div class="line">[Saturday 12 March 2011] [18:06:03] &lt;nadime&gt;  k</div>
<div class="line">[Saturday 12 March 2011] [18:06:03] &lt;mikko&gt;   it&#8217;s very simple algorithm</div>
<div class="line">[Saturday 12 March 2011] [18:06:18] &lt;nadime&gt;  i would think</div>
<div class="line">[Saturday 12 March 2011] [18:06:29] &lt;mikko&gt;   if you have a profiler available that might help</div>
<div class="line">[Saturday 12 March 2011] [18:06:35] &lt;mikko&gt;   to see where time is spent</div>
<div class="line">[Saturday 12 March 2011] [18:06:35] &lt;nadime&gt;  yeah i do</div>
<div class="line">[Saturday 12 March 2011] [18:06:38] &lt;nadime&gt;  i will use it</div>
<div class="line">[Saturday 12 March 2011] [18:06:58] &lt;nadime&gt;  i just thught i might be missing something obvious that would help</div>
<div class="line">[Saturday 12 March 2011] [18:08:48] &lt;mikko&gt;   so, do i understand your architecture correctly:</div>
<div class="line">[Saturday 12 March 2011] [18:09:03] &lt;mikko&gt;   you have push/pull socket, which balances work to four threads</div>
<div class="line">[Saturday 12 March 2011] [18:09:24] &lt;mikko&gt;   each one of the threads has pub socket which publishes messages over tcp to workers</div>
<div class="line">[Saturday 12 March 2011] [18:09:27] &lt;mikko&gt;   ?</div>
<div class="line">[Saturday 12 March 2011] [18:14:48] &lt;mikko&gt;   i gotta head to bed</div>
<div class="line">[Saturday 12 March 2011] [18:15:19] &lt;mikko&gt;   nadime: the channel is usually more lively during the day time in europe (large amount of devs from eu)</div>
<div class="line">[Saturday 12 March 2011] [18:39:20] &lt;cremes&gt;  nadime: i have a few suggestions for things to look at</div>
<div class="line">[Saturday 12 March 2011] [18:39:52] &lt;cremes&gt;  1. if your PUSH socket is in the same process as your &#8220;io thread PULL sockets&#8221; you should be using inproc transport instead of tcp</div>
<div class="line">[Saturday 12 March 2011] [18:40:16] &lt;cremes&gt;  2. take a look at your message serialization; sometimes deserialization is more costly than serialization</div>
<div class="line">[Saturday 12 March 2011] [18:40:38] &lt;cremes&gt;  however, i assume you are sending packed structures so you are probably just casting a pointer to get to your data</div>
<div class="line">[Saturday 12 March 2011] [18:41:21] &lt;cremes&gt;  3. instrument your messages so that you can measure how many nano/micro/milliseconds it takes for the PUSH to deliver to the PULL socket</div>
<div class="line">[Saturday 12 March 2011] [18:42:14] &lt;cremes&gt;  4. instrument the messages that go from the &#8220;server io threads&#8221; to the &#8220;client io threads&#8221; via PUB/SUB to measure latency</div>
<div class="line">[Saturday 12 March 2011] [19:04:32] &lt;nadime&gt;  i am using inproc for anything local, cremes</div>
<div class="line">[Saturday 12 March 2011] [19:04:42] &lt;nadime&gt;  the only thing i use tcp for is external</div>
<div class="line">[Saturday 12 March 2011] [19:05:41] &lt;nadime&gt;  thanks for the suggestions, re: instrumentation</div>
<div class="line">[Saturday 12 March 2011] [19:06:13] &lt;nadime&gt;  oh incidentally, mikko, we were doing the math wrong.  50B x 500k = 25MB/s</div>
<div class="line">[Saturday 12 March 2011] [19:06:19] &lt;nadime&gt;  which makes much more sense</div>
<div class="line">[Saturday 12 March 2011] [19:06:28] &lt;nadime&gt;  since i&#8217;m seeing 10% utilization</div>
<div class="line">[Saturday 12 March 2011] [19:06:30] &lt;nadime&gt;  10-15</div>
<div class="line">[Saturday 12 March 2011] [20:03:04] &lt;Guest51726&gt;      hello, anyone awake tonight ?</div>
<div class="line">[Saturday 12 March 2011] [20:04:56] &lt;<a href="#id305"><span class="problematic" id="id306">Evet_</span></a>&gt;   :)</div>
<div class="line">[Saturday 12 March 2011] [20:17:03] &lt;Guest51726&gt;      Hello Evet, how are you ?</div>
<div class="line">[Saturday 12 March 2011] [20:17:21] &lt;Evet&gt;    fine, Guest51726. you?</div>
<div class="line">[Saturday 12 March 2011] [20:18:48] &lt;Guest51726&gt;      not so bad !</div>
<div class="line">[Saturday 12 March 2011] [20:19:12] &lt;Guest51726&gt;      I was doing some experimenting with 0MQ, 2.1.2 the other day - tell me, is the load balancing stable ?</div>
<div class="line">[Saturday 12 March 2011] [20:26:33] &lt;Guest51726&gt;      Yep.</div>
<div class="line">[Saturday 12 March 2011] [20:41:06] &lt;Evet&gt;    Guest51726: i think so</div>
<div class="line">[Saturday 12 March 2011] [20:41:49] &lt;Guest51726&gt;      hmmm...that wasn&#8217;t what I was seeing :(</div>
<div class="line">[Saturday 12 March 2011] [21:04:25] &lt;emacsen&gt; I have a, hopefully basic question:   I&#8217;m learning zeromq. I only have my laptop and I&#8217;m trying to test push and pull requests. I heard that pull requests will be balanced across pullers. But I&#8217;m testing with ipc and all the requests go to one listener. Is that because of ipc?</div>
<div class="line">[Saturday 12 March 2011] [21:05:01] &lt;Guest51726&gt;      thats a good question:  I don&#8217;t know.</div>
<div class="line">[Saturday 12 March 2011] [21:05:51] &lt;Guest51726&gt;      the requests really should be balanced across pullers, regardless of the transport.  However I have observed uneven load balancing myself.</div>
<div class="line">[Sunday 13 March 2011] [01:19:07] &lt;guido_g&gt;   hello world!</div>
<div class="line">[Sunday 13 March 2011] [01:34:28] &lt;pieterh&gt;   hey guido_g, hi!</div>
<div class="line">[Sunday 13 March 2011] [01:34:38] &lt;guido_g&gt;   morning pieterh</div>
<div class="line">[Sunday 13 March 2011] [01:35:10] &lt;pieterh&gt;   another day, another little protocol spec :-)</div>
<div class="line">[Sunday 13 March 2011] [01:35:12] &lt;guido_g&gt;   just pulled the zeromq2-1 changes and compiled</div>
<div class="line">[Sunday 13 March 2011] [01:35:19] &lt;guido_g&gt;   ohh...</div>
<div class="line">[Sunday 13 March 2011] [01:35:50] &lt;guido_g&gt;   spec:10</div>
<div class="line">[Sunday 13 March 2011] [01:36:00] &lt;pieterh&gt;   yeah, brokerless reliability</div>
<div class="line">[Sunday 13 March 2011] [01:36:12] &lt;pieterh&gt;   final part of chapter 4... finally... :-)</div>
<div class="line">[Sunday 13 March 2011] [01:36:18] &lt;guido_g&gt;   yes!</div>
<div class="line">[Sunday 13 March 2011] [01:36:19] &lt;guido_g&gt;   :)</div>
<div class="line">[Sunday 13 March 2011] [01:37:03] &lt;pieterh&gt;   for 2.1 I defined ZMQ_DEALER and ZMQ_ROUTER as aliases</div>
<div class="line">[Sunday 13 March 2011] [01:37:19] &lt;guido_g&gt;   seen it</div>
<div class="line">[Sunday 13 March 2011] [01:37:30] &lt;guido_g&gt;   good move imho</div>
<div class="line">[Sunday 13 March 2011] [01:38:08] &lt;pieterh&gt;   I&#8217;m going to change the man pages, leave the old names as deprecated</div>
<div class="line">[Sunday 13 March 2011] [01:38:18] &lt;pieterh&gt;   this will make it easier for people to move to 3.0</div>
<div class="line">[Sunday 13 March 2011] [01:38:53] &lt;guido_g&gt;   ok</div>
<div class="line">[Sunday 13 March 2011] [01:39:06] &lt;guido_g&gt;   from spec10: &#8220;From the MQ Reference Manual[Bibliography item zmqsocket not found.]:&#8221;</div>
<div class="line">[Sunday 13 March 2011] [01:39:18] &lt;guido_g&gt;   seems that a link can&#8217;t be resolved</div>
<div class="line">[Sunday 13 March 2011] [01:39:37] &lt;pieterh&gt;   just fixed that, thanks</div>
<div class="line">[Sunday 13 March 2011] [01:39:53] &lt;guido_g&gt;   ahh</div>
<div class="line">[Sunday 13 March 2011] [01:40:08] &lt;guido_g&gt;   reload did it</div>
<div class="line">[Sunday 13 March 2011] [01:40:35] &lt;pieterh&gt;   I figured out how to do router-to-router connections between clients and servers</div>
<div class="line">[Sunday 13 March 2011] [01:40:41] &lt;guido_g&gt;   great</div>
<div class="line">[Sunday 13 March 2011] [01:40:54] &lt;guido_g&gt;   will be fun to read</div>
<div class="line">[Sunday 13 March 2011] [01:40:56] &lt;pieterh&gt;   it&#8217;s rather fun because neither side can talk to the other without knowing their identity first</div>
<div class="line">[Sunday 13 March 2011] [01:41:28] &lt;guido_g&gt;   using ahh... router sockets</div>
<div class="line">[Sunday 13 March 2011] [01:41:59] &lt;guido_g&gt;   need to get used to the new name</div>
<div class="line">[Sunday 13 March 2011] [01:42:10] &lt;pieterh&gt;   :-)</div>
<div class="line">[Sunday 13 March 2011] [01:43:39] &lt;guido_g&gt;   example program adjusted</div>
<div class="line">[Sunday 13 March 2011] [06:47:53] &lt;Guthur&gt;    pieterh, Ch4 is turning into a bit of a monster</div>
<div class="line">[Sunday 13 March 2011] [06:48:30] &lt;Guthur&gt;    good stuff though</div>
<div class="line">[Sunday 13 March 2011] [06:49:29] &lt;Guthur&gt;    After sorting out my POSIX issues, and fix a bug I found during the process, I&#8217;m now ready to finish ch3</div>
<div class="line">[Sunday 13 March 2011] [06:49:37] &lt;Guthur&gt;    looking forward to ch4</div>
<div class="line">[Sunday 13 March 2011] [12:02:24] &lt;pieterh&gt;   Guthur: CH4 is now finished</div>
<div class="line">[Sunday 13 March 2011] [12:03:19] &lt;Guthur&gt;    cool, i&#8217;m just debugging my peering3 and then i can start on ch4</div>
<div class="line">[Sunday 13 March 2011] [12:03:26] &lt;pieterh&gt;   :-)</div>
<div class="line">[Sunday 13 March 2011] [12:17:33] &lt;mikko&gt;     \o</div>
<div class="line">[Sunday 13 March 2011] [12:17:34] &lt;mikko&gt;     o//</div>
<div class="line">[Sunday 13 March 2011] [12:18:06] &lt;mikko&gt;     pieterh: we got some more fixes going on in openpgm with steve</div>
<div class="line">[Sunday 13 March 2011] [12:18:19] &lt;pieterh&gt;   mikko: nice, what&#8217;s the issue?</div>
<div class="line">[Sunday 13 March 2011] [12:18:31] &lt;mikko&gt;     sun linker visibility with sungcc compiler</div>
<div class="line">[Sunday 13 March 2011] [12:18:35] &lt;pieterh&gt;   ah, ok</div>
<div class="line">[Sunday 13 March 2011] [12:18:45] &lt;mikko&gt;     and i think i&#8217;ve found zeromq compile warning on freebsd 8.1</div>
<div class="line">[Sunday 13 March 2011] [12:19:02] &lt;mikko&gt;     pgm_receiver.cpp:154: warning: dereferencing type-punned pointer will break strict-aliasing rules</div>
<div class="line">[Sunday 13 March 2011] [12:19:17] &lt;pieterh&gt;   that definitely looks like a warning :-)</div>
<div class="line">[Sunday 13 March 2011] [12:19:25] &lt;mikko&gt;     it breaks the build nowadays</div>
<div class="line">[Sunday 13 March 2011] [12:19:39] &lt;mikko&gt;     previously zeromq was compiled without -Werror when openpgm was enabled</div>
<div class="line">[Sunday 13 March 2011] [12:19:59] &lt;mikko&gt;     now that openpgm is built separately i added -Werror back in</div>
<div class="line">[Sunday 13 March 2011] [12:23:03] &lt;pieterh&gt;   mikko: sanity check, do you see a man page for zmq_device() in your zeromq source tree?</div>
<div class="line">[Sunday 13 March 2011] [12:24:14] &lt;mikko&gt;     <a class="reference external" href="https://github.com/zeromq/zeromq2-1/tree/master/doc">https://github.com/zeromq/zeromq2-1/tree/master/doc</a></div>
<div class="line">[Sunday 13 March 2011] [12:24:26] &lt;mikko&gt;     doesn&#8217;t seem to be there</div>
<div class="line">[Sunday 13 March 2011] [12:24:54] &lt;pieterh&gt;   funny, the method isn&#8217;t documented, but I recall writing a man page for it</div>
<div class="line">[Sunday 13 March 2011] [12:25:05] &lt;pieterh&gt;   which is installed on my box...</div>
<div class="line">[Sunday 13 March 2011] [12:25:10] &lt;pieterh&gt;   hmm</div>
<div class="line">[Sunday 13 March 2011] [12:25:22] &lt;mikko&gt;     maybe you haven&#8217;t committed / pushed it?</div>
<div class="line">[Sunday 13 March 2011] [12:25:53] &lt;pieterh&gt;   nope, it was reverted by the maintainers...</div>
<div class="line">[Sunday 13 March 2011] [12:25:57] &lt;pieterh&gt;   sep 4</div>
<div class="line">[Sunday 13 March 2011] [12:26:02] &lt;pieterh&gt;   ok, I&#8217;m adding it back to 2.0 and 2.1</div>
<div class="line">[Sunday 13 March 2011] [12:26:53] &lt;mikko&gt;     when are you flying back?</div>
<div class="line">[Sunday 13 March 2011] [12:27:09] &lt;pieterh&gt;   as soon as these mushrooms wear off</div>
<div class="line">[Sunday 13 March 2011] [12:27:12] &lt;pieterh&gt;   what? what?</div>
<div class="line">[Sunday 13 March 2011] [12:27:19] &lt;pieterh&gt;   :-) I&#8217;m not away, Mikko, happily working at home</div>
<div class="line">[Sunday 13 March 2011] [12:27:26] &lt;mikko&gt;     i mean from london</div>
<div class="line">[Sunday 13 March 2011] [12:27:43] &lt;pieterh&gt;   ah, I take the train, easy ride from London to Brussels</div>
<div class="line">[Sunday 13 March 2011] [12:27:53] &lt;mikko&gt;     ah, ok</div>
<div class="line">[Sunday 13 March 2011] [12:27:57] &lt;pieterh&gt;   if you want to meet up I&#8217;m around Wednesday afternoon</div>
<div class="line">[Sunday 13 March 2011] [12:27:59] &lt;mikko&gt;     i noticed that cloudcamp (<a class="reference external" href="http://www.cloudcamp.org/london">http://www.cloudcamp.org/london</a>) is on 17th</div>
<div class="line">[Sunday 13 March 2011] [12:28:24] &lt;mikko&gt;     if that is of interest to you</div>
<div class="line">[Sunday 13 March 2011] [12:28:26] &lt;pieterh&gt;   sigh, yeah, won&#8217;t make it</div>
<div class="line">[Sunday 13 March 2011] [12:28:44] &lt;mikko&gt;     i&#8217;m gonna be on client site all next week so probably earliest we meet is in the pub</div>
<div class="line">[Sunday 13 March 2011] [12:28:53] &lt;mikko&gt;     been hectic last week</div>
<div class="line">[Sunday 13 March 2011] [12:28:57] &lt;mikko&gt;     setting up my own company</div>
<div class="line">[Sunday 13 March 2011] [12:29:03] &lt;pieterh&gt;   nice!</div>
<div class="line">[Sunday 13 March 2011] [12:29:21] &lt;mikko&gt;     almost everything ready</div>
<div class="line">[Sunday 13 March 2011] [12:29:27] &lt;mikko&gt;     still need to sort out bank account</div>
<div class="line">[Sunday 13 March 2011] [12:29:36] &lt;mikko&gt;     (i think at some point it would be nice to get paid)</div>
<div class="line">[Sunday 13 March 2011] [12:31:13] &lt;pieterh&gt;   that&#8217;s always a nice option</div>
<div class="line">[Sunday 13 March 2011] [13:44:58] &lt;Guthur&gt;    I&#8217;m getting an &#8220;Operation cannot be accomplished in current state&#8221; in the clientTask of peering3</div>
<div class="line">[Sunday 13 March 2011] [13:45:09] &lt;Guthur&gt;    it works for a while then that error on a recv</div>
<div class="line">[Sunday 13 March 2011] [13:45:19] &lt;Guthur&gt;    any suggestions on how to find the route of the error</div>
<div class="line">[Sunday 13 March 2011] [13:53:21] &lt;mikko&gt;     Guthur: req/rep sockets?</div>
<div class="line">[Sunday 13 March 2011] [13:53:23] &lt;pieterh&gt;   hmm, sounds like a REQ socket state error</div>
<div class="line">[Sunday 13 March 2011] [13:53:26] &lt;pieterh&gt;   let me check that</div>
<div class="line">[Sunday 13 March 2011] [13:53:29] &lt;mikko&gt;     yeah, was thinking the same</div>
<div class="line">[Sunday 13 March 2011] [13:53:52] &lt;Guthur&gt;    yeah re</div>
<div class="line">[Sunday 13 March 2011] [13:53:54] &lt;mikko&gt;     wrong order of recv/send causes that</div>
<div class="line">[Sunday 13 March 2011] [13:53:56] &lt;Guthur&gt;    req/rep</div>
<div class="line">[Sunday 13 March 2011] [13:53:58] &lt;mikko&gt;     usually</div>
<div class="line">[Sunday 13 March 2011] [13:54:27] &lt;mikko&gt;     so for example send/recv/recv on req socket would cause that</div>
<div class="line">[Sunday 13 March 2011] [13:54:27] &lt;Guthur&gt;    oh ok, it&#8217;s possible there is an error with my code</div>
<div class="line">[Sunday 13 March 2011] [13:54:45] &lt;pieterh&gt;   Guthur: it could be a bug in the design, as well</div>
<div class="line">[Sunday 13 March 2011] [13:54:47] &lt;mikko&gt;     there possibly should be a way to recover the socket</div>
<div class="line">[Sunday 13 March 2011] [13:55:02] &lt;pieterh&gt;   well, what I do is close it and reopen, in later examples</div>
<div class="line">[Sunday 13 March 2011] [13:55:29] &lt;pieterh&gt;   kind of annoying but finally it works ok</div>
<div class="line">[Sunday 13 March 2011] [13:59:47] &lt;Guthur&gt;    dinner time, I&#8217;ll check my code later</div>
<div class="line">[Sunday 13 March 2011] [15:10:05] &lt;guido_g&gt;   <a class="reference external" href="http://pycon.blip.tv/file/4878885/">http://pycon.blip.tv/file/4878885/</a>  &lt;- zeds mq talk at pycon</div>
<div class="line">[Sunday 13 March 2011] [15:22:21] &lt;mikko&gt;     interesting observations</div>
<div class="line">[Sunday 13 March 2011] [15:25:29] &lt;Skaag&gt;     mikko: getting paid is very important, but can be dangerous if not done right</div>
<div class="line">[Sunday 13 March 2011] [15:25:44] &lt;Skaag&gt;     need to consider it strategically</div>
<div class="line">[Sunday 13 March 2011] [15:26:25] &lt;Skaag&gt;     but no doubt, it has to happen</div>
<div class="line">[Sunday 13 March 2011] [15:32:25] &lt;mikko&gt;     Skaag: i really haven&#8217;t got much savings so there isnt that much room for strategy</div>
<div class="line">[Sunday 13 March 2011] [15:32:28] &lt;mikko&gt;     :)</div>
<div class="line">[Sunday 13 March 2011] [15:32:53] &lt;Skaag&gt;     well ok but here&#8217;s what I mean:</div>
<div class="line">[Sunday 13 March 2011] [15:33:05] &lt;Skaag&gt;     Assuming you have a client who wishes to hire your services - what does he need exactly?</div>
<div class="line">[Sunday 13 March 2011] [15:33:16] &lt;mikko&gt;     services?</div>
<div class="line">[Sunday 13 March 2011] [15:33:17] &lt;Skaag&gt;     And the question is, of course, how many such offers you get</div>
<div class="line">[Sunday 13 March 2011] [15:33:34] &lt;Skaag&gt;     the danger i&#8217;m talking about is one of stifling innovation</div>
<div class="line">[Sunday 13 March 2011] [15:33:46] &lt;Skaag&gt;     basically the elimination of time for creativity</div>
<div class="line">[Sunday 13 March 2011] [15:34:23] &lt;Skaag&gt;     sometimes you need to delegate work to a team, make a cut from the top, but remain &#8220;CTO&#8221; and continue to research and develop the core technology</div>
<div class="line">[Sunday 13 March 2011] [15:34:38] &lt;Skaag&gt;     you don&#8217;t have a day job?</div>
<div class="line">[Sunday 13 March 2011] [15:34:46] &lt;Skaag&gt;     I was certain you were hired for good pay at the very least :)</div>
<div class="line">[Sunday 13 March 2011] [15:34:48] &lt;mikko&gt;     i have but not soon</div>
<div class="line">[Sunday 13 March 2011] [15:34:59] &lt;Skaag&gt;     company closing?</div>
<div class="line">[Sunday 13 March 2011] [15:35:00] &lt;mikko&gt;     i resigned to start my own company</div>
<div class="line">[Sunday 13 March 2011] [15:35:12] &lt;Skaag&gt;     ah, good luck!!</div>
<div class="line">[Sunday 13 March 2011] [15:35:33] &lt;mikko&gt;     thanks</div>
<div class="line">[Sunday 13 March 2011] [15:35:40] &lt;Skaag&gt;     it&#8217;s not easy, the path you have chosen</div>
<div class="line">[Sunday 13 March 2011] [15:35:44] &lt;Skaag&gt;     :)</div>
<div class="line">[Sunday 13 March 2011] [15:35:51] &lt;Skaag&gt;     but certainly, most fulfilling :)</div>
<div class="line">[Sunday 13 March 2011] [15:36:28] &lt;Skaag&gt;     some would say, easiest is to be the cow in the shed, slowly milked, given music and food...</div>
<div class="line">[Sunday 13 March 2011] [15:36:32] &lt;Skaag&gt;     :)</div>
<div class="line">[Sunday 13 March 2011] [15:36:52] &lt;mikko&gt;     probably</div>
<div class="line">[Sunday 13 March 2011] [15:36:59] &lt;mikko&gt;     i like the excitement of setting up a company</div>
<div class="line">[Sunday 13 March 2011] [15:37:03] &lt;mikko&gt;     even if it fails eventually</div>
<div class="line">[Sunday 13 March 2011] [15:37:19] &lt;mikko&gt;     knowing that there won&#8217;t be food on the table unless you do something about it</div>
<div class="line">[Sunday 13 March 2011] [15:38:12] &lt;guido_g&gt;   hmmm i gained ~20kg in the 2 years since i went freelancing</div>
<div class="line">[Sunday 13 March 2011] [15:38:20] &lt;mikko&gt;     sustrik: there?</div>
<div class="line">[Sunday 13 March 2011] [15:43:37] &lt;Skaag&gt;     mikko: I so know what you&#8217;re talking about, that I can&#8217;t help but remember all the pain :)</div>
<div class="line">[Sunday 13 March 2011] [15:44:10] &lt;Skaag&gt;     If you need any help, I am here</div>
<div class="line">[Sunday 13 March 2011] [15:44:38] &lt;mikko&gt;     i&#8217;m not overly worried at the moment</div>
<div class="line">[Sunday 13 March 2011] [15:44:53] &lt;mikko&gt;     not yet at least :)</div>
<div class="line">[Sunday 13 March 2011] [15:52:02] &lt;Skaag&gt;     what&#8217;s the goal of the company?</div>
<div class="line">[Sunday 13 March 2011] [15:53:50] &lt;mikko&gt;     i got a few SaaS ideas but i guess initially just bring the food to table</div>
<div class="line">[Sunday 13 March 2011] [15:53:58] &lt;mikko&gt;     initially providing services i would guess</div>
<div class="line">[Sunday 13 March 2011] [15:54:24] &lt;Skaag&gt;     ok so the classic &#8220;Tech Guy opens a Company&#8221; scenario, as I thought :)</div>
<div class="line">[Sunday 13 March 2011] [15:54:58] &lt;mikko&gt;     yeah</div>
<div class="line">[Sunday 13 March 2011] [15:55:05] &lt;mikko&gt;     initially it will just be me</div>
<div class="line">[Sunday 13 March 2011] [15:55:10] &lt;Skaag&gt;     (not saying it in any negative way!)</div>
<div class="line">[Sunday 13 March 2011] [15:55:12] &lt;mikko&gt;     i haven&#8217;t really planned things very far</div>
<div class="line">[Sunday 13 March 2011] [15:55:27] &lt;mikko&gt;     i just kinda felt that i need new challenges</div>
<div class="line">[Sunday 13 March 2011] [15:55:40] &lt;Skaag&gt;     I did it for other reasons</div>
<div class="line">[Sunday 13 March 2011] [15:55:53] &lt;Skaag&gt;     I wanted a stable passive income to allow me to research things in my free time</div>
<div class="line">[Sunday 13 March 2011] [15:56:16] &lt;mikko&gt;     did it work out?</div>
<div class="line">[Sunday 13 March 2011] [15:56:18] &lt;Skaag&gt;     corporate took too much of my time, they were the hungry pig that never had enough</div>
<div class="line">[Sunday 13 March 2011] [15:56:22] &lt;Skaag&gt;     actually yes :)</div>
<div class="line">[Sunday 13 March 2011] [15:56:32] &lt;Skaag&gt;     thanks to my wife though</div>
<div class="line">[Sunday 13 March 2011] [15:56:43] &lt;Skaag&gt;     if she hadn&#8217;t taken the financial parts from me, it would have failed miserably</div>
<div class="line">[Sunday 13 March 2011] [15:56:54] &lt;Skaag&gt;     not ashamed to admit it</div>
<div class="line">[Sunday 13 March 2011] [15:57:11] &lt;Skaag&gt;     she&#8217;s a woman who is not afraid to bill customers for her husband&#8217;s work/hours :)</div>
<div class="line">[Sunday 13 March 2011] [15:57:25] &lt;Skaag&gt;     and she will hunt them down, until hell freezes, or they pay!!</div>
<div class="line">[Sunday 13 March 2011] [15:57:46] &lt;Skaag&gt;     and better not tell her the payment is late, for she will unleash upon you her furious anger, and terrible might!! :)</div>
<div class="line">[Sunday 13 March 2011] [15:58:06] &lt;Skaag&gt;     ok I may be exaggerating it a bit, but more or less that&#8217;s how it is! :)</div>
<div class="line">[Sunday 13 March 2011] [15:58:19] &lt;mikko&gt;     in UK it seems very common to delay 50+ or so days</div>
<div class="line">[Sunday 13 March 2011] [15:58:33] &lt;Skaag&gt;     never go down that route</div>
<div class="line">[Sunday 13 March 2011] [15:58:35] &lt;Skaag&gt;     never.</div>
<div class="line">[Sunday 13 March 2011] [15:58:45] &lt;Skaag&gt;     do not agree to that.</div>
<div class="line">[Sunday 13 March 2011] [15:59:07] &lt;mikko&gt;     no, i mean companies just not paying even when the terms say 30 days or so</div>
<div class="line">[Sunday 13 March 2011] [15:59:48] &lt;Skaag&gt;     don&#8217;t even agree for 30 days</div>
<div class="line">[Sunday 13 March 2011] [16:00:11] &lt;mikko&gt;     30 days is common here</div>
<div class="line">[Sunday 13 March 2011] [16:00:16] &lt;Skaag&gt;     7 days from the presentation of the invoice.</div>
<div class="line">[Sunday 13 March 2011] [16:00:38] &lt;mikko&gt;     back in finland 7 days was reasonable</div>
<div class="line">[Sunday 13 March 2011] [16:00:43] &lt;mikko&gt;     here, i don&#8217;t think so</div>
<div class="line">[Sunday 13 March 2011] [16:00:52] &lt;Skaag&gt;     and I don&#8217;t know how tax authorities work in the UK, but VAT in Israel want their chunk of the money whether or not you received payment, for any invoices you produced.</div>
<div class="line">[Sunday 13 March 2011] [16:01:02] &lt;Skaag&gt;     mikko, seriously, who cares what is common</div>
<div class="line">[Sunday 13 March 2011] [16:01:10] &lt;Skaag&gt;     start with 7 days and let the customer squirm</div>
<div class="line">[Sunday 13 March 2011] [16:01:23] &lt;Skaag&gt;     and then if you do heed the 30 days, at least he will feel he won something</div>
<div class="line">[Sunday 13 March 2011] [16:01:25] &lt;Skaag&gt;     he earned them ;)</div>
<div class="line">[Sunday 13 March 2011] [16:01:55] &lt;Skaag&gt;     I hate seeing people get fucked, especially if I care about them and their future</div>
<div class="line">[Sunday 13 March 2011] [16:04:26] &lt;mikko&gt;     pieterh: have you done work on zns or still gathering ideas?</div>
<div class="line">[Sunday 13 March 2011] [16:06:34] &lt;nadime&gt;    if mikko or cremes are here &#8211; solved my IO bottleneck problem</div>
<div class="line">[Sunday 13 March 2011] [16:06:53] &lt;nadime&gt;    profiler did the trick</div>
<div class="line">[Sunday 13 March 2011] [16:14:25] &lt;michelp&gt;   i have to agree with Skaag on this one, when the customer balks that 30 days is normal, tell them to go hire a normal person.  you&#8217;re better than normal.</div>
<div class="line">[Sunday 13 March 2011] [16:18:27] &lt;Skaag&gt;     exactly my point - this is Mikko!!!! Not some random developer.</div>
<div class="line">[Sunday 13 March 2011] [16:18:37] &lt;Skaag&gt;     I mean c&#8217;mon, is nothing holy anymore?!</div>
<div class="line">[Sunday 13 March 2011] [16:18:40] &lt;Skaag&gt;     :)</div>
<div class="line">[Sunday 13 March 2011] [16:38:04] &lt;mikko&gt;     nadime: what was the issue?</div>
<div class="line">[Sunday 13 March 2011] [18:17:49] &lt;nadime&gt;    mikko - i was using a poller in a bottleneck thread for no good reason</div>
<div class="line">[Sunday 13 March 2011] [18:40:32] &lt;Guthur&gt;    should a SUB socket connect block until it&#8217;s connected to an endpoint?</div>
<div class="line">[Sunday 13 March 2011] [18:43:48] &lt;Guthur&gt;    the example in peering3 seems to block</div>
<div class="line">[Sunday 13 March 2011] [18:44:00] &lt;Guthur&gt;    but mine does not which has me scratching my head</div>
<div class="line">[Sunday 13 March 2011] [18:44:20] &lt;yo&gt;        yo</div>
<div class="line">[Sunday 13 March 2011] [18:44:26] &lt;yo&gt;        what&#8217;s up</div>
<div class="line">[Sunday 13 March 2011] [20:06:28] &lt;travlr&gt;    Zed&#8217;s Presentation &#8211; PyCon 2011: Advanced Network Architectures With ZeroMQ : <a class="reference external" href="http://blip.tv/file/4878885">http://blip.tv/file/4878885</a></div>
<div class="line">[Sunday 13 March 2011] [20:07:02] &lt;Guthur&gt;    decent presentation, a bit lightning fast though</div>
<div class="line">[Sunday 13 March 2011] [20:07:33] &lt;travlr&gt;    ahh, i now see guido_g beat me to the link.</div>
<div class="line">[Sunday 13 March 2011] [20:07:46] &lt;travlr&gt;    Guthur: yeah i&#8217;m watching it now</div>
<div class="line">[Sunday 13 March 2011] [20:08:02] &lt;Guthur&gt;    pieterh sent it on the mailing list</div>
<div class="line">[Sunday 13 March 2011] [20:08:22] &lt;travlr&gt;    credit to pieter then. ;)</div>
<div class="line">[Sunday 13 March 2011] [20:19:36] &lt;Guthur&gt;    ah it&#8217;s not blocking, question from before, just printf was not showing</div>
<div class="line">[Sunday 13 March 2011] [21:16:50] &lt;gholt&gt;     I can&#8217;t beleive he only got 30mins for 0mq. 0mq does run length encoding?</div>
<div class="line">[Monday 14 March 2011] [00:02:39] &lt;cleifer&gt;   kind of random question, but if i&#8217;m using a pub/sub style interaction and want to &#8220;flush&#8221; the queue of messages waiting to be published, is there a good way?</div>
<div class="line">[Monday 14 March 2011] [02:11:57] &lt;CIA-103&gt;   zeromq2: 03Martin Sustrik 07master * r2970d6c 10/ src/pgm_socket.cpp :</div>
<div class="line">[Monday 14 March 2011] [02:11:57] &lt;CIA-103&gt;   zeromq2: Remove obsolete assert from pgm_socket.cpp</div>
<div class="line">[Monday 14 March 2011] [02:11:57] &lt;CIA-103&gt;   zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eTHjYC">http://bit.ly/eTHjYC</a></div>
<div class="line">[Monday 14 March 2011] [02:19:33] &lt;sustrik&gt;   mikko: hi, are you there by chance?</div>
<div class="line">[Monday 14 March 2011] [02:45:58] &lt;dermoth|home&gt;      hi sustrik</div>
<div class="line">[Monday 14 March 2011] [02:46:04] &lt;sustrik&gt;   hi</div>
<div class="line">[Monday 14 March 2011] [02:46:38] &lt;dermoth|home&gt;      you may remember my issue with the devices deadlocking due to a blocking socket...</div>
<div class="line">[Monday 14 March 2011] [02:49:43] &lt;dermoth|home&gt;      src/signaler.cpp, making the send MSG_DONTWAIT in zmq::signaler_t::send...</div>
<div class="line">[Monday 14 March 2011] [02:50:11] &lt;dermoth|home&gt;      I believe i&#8217;ve seen talks abot who to make is non-blocking, was this solved yet?</div>
<div class="line">[Monday 14 March 2011] [02:50:48] &lt;dermoth|home&gt;      in 2.1 I think the code is in mailbox.cpp...</div>
<div class="line">[Monday 14 March 2011] [02:53:46] &lt;dermoth|home&gt;      well, sustrik if not I was just wondering if you have considered the use of a pipe... I&#8217;ve used them in the past, and one nice thing about them is that a non-blocking pipe write (up to a defined limit) is atomic, it either goes trough entirely or fail, whihc I feel is what the current problem was with making sockets non-blocking...</div>
<div class="line">[Monday 14 March 2011] [02:55:26] &lt;dermoth|home&gt;      POSIX.1-2001  says  that write(2)s of less than PIPE_BUF bytes must be atomic: the output data is written to the pipe as a contiguous sequence. [...] O_NONBLOCK enabled, n &lt;= PIPE_BUF: If there is room to write n bytes to the pipe, then write(2) succeeds immediately, writing all n bytes; otherwise write(2) fails, with errno set to EAGAIN.</div>
<div class="line">[Monday 14 March 2011] [02:56:54] &lt;sustrik&gt;   dermoth: is pipe different from a socket pair in this respect?</div>
<div class="line">[Monday 14 March 2011] [02:58:53] &lt;sustrik&gt;   the nice thing at least is that pipe is unidirectional rather than bidrectional</div>
<div class="line">[Monday 14 March 2011] [02:59:07] &lt;sustrik&gt;   meaning it will consume less buffer memory</div>
<div class="line">[Monday 14 March 2011] [02:59:16] &lt;dermoth|home&gt;      sustrik, I have little experience with sockets, but afaik a non-blocking write can he partial and there&#8217;s no threshold for atomicity. OTOH  POSIX.1-2001 says that anything less than or equal to PIPE_BUF must be written atomically. IIRC it also defines PIPE_BUF be at least 512 bytes, iirc in Linux it&#8217;s 4096 though...</div>
<div class="line">[Monday 14 March 2011] [03:00:45] &lt;dermoth|home&gt;      as with above, from &#8220;man 7 pipe&#8221; on Ubuntu: POSIX.1-2001 requires PIPE_BUF to be at least 512 bytes.  (On Linux, PIPE_BUF  is  4096 bytes.)</div>
<div class="line">[Monday 14 March 2011] [03:01:44] &lt;sustrik&gt;   yep</div>
<div class="line">[Monday 14 March 2011] [03:01:53] &lt;sustrik&gt;   i recall reading the same about socketpair</div>
<div class="line">[Monday 14 March 2011] [03:01:58] &lt;dermoth|home&gt;      note that if you wish to poll on a pipe, it must be open with O_RDWR</div>
<div class="line">[Monday 14 March 2011] [03:02:00] &lt;sustrik&gt;   cannot find that now though</div>
<div class="line">[Monday 14 March 2011] [03:02:42] &lt;sustrik&gt;   anyway, i can try using pipes</div>
<div class="line">[Monday 14 March 2011] [03:02:54] &lt;sustrik&gt;   however, it&#8217;s likely to break on some OSes</div>
<div class="line">[Monday 14 March 2011] [03:03:13] &lt;sustrik&gt;   so i would postpone the experiment till stable 2.1 is out</div>
<div class="line">[Monday 14 March 2011] [03:03:53] &lt;sustrik&gt;   hm, can you set SNDBUF on a pipe?</div>
<div class="line">[Monday 14 March 2011] [03:04:56] &lt;dermoth|home&gt;      likely not...</div>
<div class="line">[Monday 14 March 2011] [03:08:28] &lt;dermoth|home&gt;      well I just thought i&#8217;d share this in case it can be of any help, although i&#8217;m far from understanding all the magic that happens behind the zmq api :)</div>
<div class="line">[Monday 14 March 2011] [03:11:40] &lt;dermoth|home&gt;      btw the MSG_DONTWAIT fix worked like a charm, I can get occasional restarts but no more communication deadlock. BTW it seems the data is help on the devices, not the PUSH clients - and when I kill them (SIGTERM) all data is flushed to the PULL clients</div>
<div class="line">[Monday 14 March 2011] [03:11:47] &lt;dermoth|home&gt;      data is <em>held</em></div>
<div class="line">[Monday 14 March 2011] [03:53:10] &lt;pieterh&gt;   g&#8217;morning</div>
<div class="line">[Monday 14 March 2011] [03:54:00] &lt;guido_g&gt;   morning</div>
<div class="line">[Monday 14 March 2011] [03:54:57] &lt;pieterh&gt;   random poll to 0MQ users here: does anyone use the devices packaged with the library?</div>
<div class="line">[Monday 14 March 2011] [03:59:25] &lt;pieterh&gt;   {poll timeout: ENORESPONSE}</div>
<div class="line">[Monday 14 March 2011] [04:01:49] &lt;guido_g&gt;   pieterh: saw the guide ch4 checkins yesterday, when will the online version of the be updated?</div>
<div class="line">[Monday 14 March 2011] [04:02:00] &lt;pieterh&gt;   guido_g: was going to do that now in fact</div>
<div class="line">[Monday 14 March 2011] [04:02:05] &lt;pieterh&gt;   am just reviewing the text once again</div>
<div class="line">[Monday 14 March 2011] [04:02:16] &lt;guido_g&gt;   ok, won&#8217;t disturb you then ,)</div>
<div class="line">[Monday 14 March 2011] [04:02:41] &lt;pieterh&gt;   np, let me launch it then...</div>
<div class="line">[Monday 14 March 2011] [04:03:06] &lt;guido_g&gt;   no hurry, page set to auto-reload</div>
<div class="line">[Monday 14 March 2011] [04:06:41] &lt;mikko&gt;     sustrik: i am now</div>
<div class="line">[Monday 14 March 2011] [04:10:00] &lt;sustrik&gt;   mikko: the bsd bug</div>
<div class="line">[Monday 14 March 2011] [04:10:08] &lt;sustrik&gt;   if i send you a patch can you check it?</div>
<div class="line">[Monday 14 March 2011] [04:10:13] &lt;mikko&gt;     sustrik: sure</div>
<div class="line">[Monday 14 March 2011] [04:10:18] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 14 March 2011] [04:10:27] &lt;mikko&gt;     the pgm type punned pointer?</div>
<div class="line">[Monday 14 March 2011] [04:10:44] &lt;mikko&gt;     pgm_receiver.cpp:154: warning: dereferencing type-punned pointer will break strict-aliasing rules</div>
<div class="line">[Monday 14 March 2011] [04:10:47] &lt;mikko&gt;     this one?</div>
<div class="line">[Monday 14 March 2011] [04:12:18] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 14 March 2011] [04:13:31] &lt;sustrik&gt;   sent</div>
<div class="line">[Monday 14 March 2011] [04:17:48] &lt;mikko&gt;     will test later today!</div>
<div class="line">[Monday 14 March 2011] [04:25:07] &lt;pieterh&gt;   mikko: when the openpgm integration is stable, can you send a patch to the ML?</div>
<div class="line">[Monday 14 March 2011] [04:28:36] &lt;sustrik&gt;   pieterh: is there any particular reason why you want to drop devices in 2.1?</div>
<div class="line">[Monday 14 March 2011] [04:28:55] &lt;pieterh&gt;   sustrik: I&#8217;m not dropping devices, just those undocumented, unmaintained examples</div>
<div class="line">[Monday 14 March 2011] [04:29:06] &lt;pieterh&gt;   0MQ core should not have these, period</div>
<div class="line">[Monday 14 March 2011] [04:29:06] &lt;pieterh&gt;   I&#8217;</div>
<div class="line">[Monday 14 March 2011] [04:29:24] &lt;pieterh&gt;   I&#8217;ve been asking for this cleanup since September and each time it&#8217;s been refused for... no good reason</div>
<div class="line">[Monday 14 March 2011] [04:29:25] &lt;sustrik&gt;   it&#8217;s more work to do and you risk annoying users</div>
<div class="line">[Monday 14 March 2011] [04:29:28] &lt;pieterh&gt;   nope</div>
<div class="line">[Monday 14 March 2011] [04:29:40] &lt;pieterh&gt;   I&#8217;ve asked now several times if anyone uses these</div>
<div class="line">[Monday 14 March 2011] [04:29:46] &lt;sustrik&gt;   and it&#8217;s going to be removed from master once 2.1 is out anyway</div>
<div class="line">[Monday 14 March 2011] [04:30:01] &lt;sustrik&gt;   so you would have to reconcile both patches afterwards</div>
<div class="line">[Monday 14 March 2011] [04:30:04] &lt;pieterh&gt;   I want 2.1 to be clean</div>
<div class="line">[Monday 14 March 2011] [04:30:13] &lt;sustrik&gt;   sure, i don&#8217;t care</div>
<div class="line">[Monday 14 March 2011] [04:30:15] &lt;pieterh&gt;   currently it has junk in it</div>
<div class="line">[Monday 14 March 2011] [04:30:20] &lt;pieterh&gt;   undocumented, bleh :-/</div>
<div class="line">[Monday 14 March 2011] [04:30:34] &lt;pieterh&gt;   these should have gone ages ago</div>
<div class="line">[Monday 14 March 2011] [04:30:45] &lt;pieterh&gt;   also I&#8217;ve restored the zmq_device(3) man page which seems essential</div>
<div class="line">[Monday 14 March 2011] [04:30:58] &lt;pieterh&gt;   lastly, having these devices in there gives them special weight they do not deserve</div>
<div class="line">[Monday 14 March 2011] [04:31:10] &lt;pieterh&gt;   and which contradicts developing <em>real</em> apps elsewhere</div>
<div class="line">[Monday 14 March 2011] [04:31:19] &lt;pieterh&gt;   finally, they are unmaintained</div>
<div class="line">[Monday 14 March 2011] [04:31:26] &lt;pieterh&gt;   and have survived several attempts at improvement</div>
<div class="line">[Monday 14 March 2011] [04:31:31] &lt;pieterh&gt;   which is inexcusable</div>
<div class="line">[Monday 14 March 2011] [04:31:33] &lt;sustrik&gt;   well, i would say that 2.1 should be called something else than stable then</div>
<div class="line">[Monday 14 March 2011] [04:31:41] &lt;pieterh&gt;   when unused code resists improvement, it has to be killed</div>
<div class="line">[Monday 14 March 2011] [04:31:50] &lt;sustrik&gt;   what about &#8220;iMatix enterprise distribution&#8221;?</div>
<div class="line">[Monday 14 March 2011] [04:31:54] &lt;pieterh&gt;   &#8220;stable and clean&#8221; if you prefer</div>
<div class="line">[Monday 14 March 2011] [04:32:14] &lt;pieterh&gt;   you focus on making the core, I&#8217;ll take responsibility for clean packages, ok?</div>
<div class="line">[Monday 14 March 2011] [04:32:20] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 14 March 2011] [04:32:23] &lt;pieterh&gt;   thanks</div>
<div class="line">[Monday 14 March 2011] [04:32:55] &lt;pieterh&gt;   I note that both Jon Dyte and myself contributed documented, cleaned up improvements to those devices</div>
<div class="line">[Monday 14 March 2011] [04:33:01] &lt;pieterh&gt;   both times, rejected for no good reason</div>
<div class="line">[Monday 14 March 2011] [04:33:10] &lt;pieterh&gt;   this annoys me to a point you perhaps can&#8217;t appreciate</div>
<div class="line">[Monday 14 March 2011] [04:33:14] &lt;sustrik&gt;   they are scheduled for removeal</div>
<div class="line">[Monday 14 March 2011] [04:33:16] &lt;sustrik&gt;   freezed</div>
<div class="line">[Monday 14 March 2011] [04:33:26] &lt;pieterh&gt;   bogus argument</div>
<div class="line">[Monday 14 March 2011] [04:33:36] &lt;pieterh&gt;   for the last 6 months?</div>
<div class="line">[Monday 14 March 2011] [04:33:40] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 14 March 2011] [04:33:41] &lt;sustrik&gt;   till 3.0</div>
<div class="line">[Monday 14 March 2011] [04:33:43] &lt;pieterh&gt;   lol</div>
<div class="line">[Monday 14 March 2011] [04:33:59] &lt;pieterh&gt;   I&#8217;m not even going to argue this</div>
<div class="line">[Monday 14 March 2011] [04:34:08] &lt;pieterh&gt;   you want a distribution with rubbish in it, make it</div>
<div class="line">[Monday 14 March 2011] [04:34:10] &lt;sustrik&gt;   well, if you want a stable stable you have to maintain it for 5+ years</div>
<div class="line">[Monday 14 March 2011] [04:34:20] &lt;sustrik&gt;   backward compatible</div>
<div class="line">[Monday 14 March 2011] [04:34:21] &lt;pieterh&gt;   I&#8217;m not interested in releasing crap</div>
<div class="line">[Monday 14 March 2011] [04:34:25] &lt;pieterh&gt;   no excuses</div>
<div class="line">[Monday 14 March 2011] [04:34:44] &lt;pieterh&gt;   and everything in the distribution must be maintained or documented, or removed</div>
<div class="line">[Monday 14 March 2011] [04:34:46] &lt;sustrik&gt;   maintaining crap is what &#8220;stable&#8221; means</div>
<div class="line">[Monday 14 March 2011] [04:34:46] &lt;pieterh&gt;   no excuses</div>
<div class="line">[Monday 14 March 2011] [04:34:56] &lt;sustrik&gt;   otherwise you are doing dev branch</div>
<div class="line">[Monday 14 March 2011] [04:35:11] &lt;sustrik&gt;   anyway, it&#8217;s up to you</div>
<div class="line">[Monday 14 March 2011] [04:35:22] &lt;pieterh&gt;   no Martin, and with all due respect, maintaining releases over years is something I&#8217;m expert in, whereas you are not</div>
<div class="line">[Monday 14 March 2011] [04:35:56] &lt;sustrik&gt;   i don&#8217;t really care</div>
<div class="line">[Monday 14 March 2011] [04:36:08] &lt;pieterh&gt;   then don&#8217;t argue with me</div>
<div class="line">[Monday 14 March 2011] [04:36:09] &lt;sustrik&gt;   do it as you believe it&#8217;s best</div>
<div class="line">[Monday 14 March 2011] [04:36:13] &lt;pieterh&gt;   I always do</div>
<div class="line">[Monday 14 March 2011] [04:36:15] &lt;sustrik&gt;   just warning you</div>
<div class="line">[Monday 14 March 2011] [04:36:24] &lt;pieterh&gt;   and I&#8217;m intensely interested in the opinions of real users</div>
<div class="line">[Monday 14 March 2011] [04:36:43] &lt;pieterh&gt;   but not interested in discussing &#8220;policies&#8221; that are unhelpful and arbitrary in this case</div>
<div class="line">[Monday 14 March 2011] [04:40:59] &lt;pieterh&gt;   again, if <em>anyone</em> here is actually using these device apps, please speak up</div>
<div class="line">[Monday 14 March 2011] [04:41:07] &lt;pieterh&gt;   I&#8217;ll ask again on the ML before taking a final decision</div>
<div class="line">[Monday 14 March 2011] [04:41:46] &lt;pieterh&gt;   mikko: there&#8217;s been some changes to the Wikidot API, so it broke</div>
<div class="line">[Monday 14 March 2011] [04:42:02] &lt;pieterh&gt;   if you&#8217;re generating the api.zeromq.org it&#8217;ll have stopped working</div>
<div class="line">[Monday 14 March 2011] [04:54:21] &lt;guido_g&gt;   pieterh: fig62.png seems to be missing</div>
<div class="line">[Monday 14 March 2011] [04:54:37] &lt;pieterh&gt;   guido_g: thanks, let me fix that</div>
<div class="line">[Monday 14 March 2011] [04:55:37] &lt;guido_g&gt;   and a feature request: is it possible to fold the code listings like the toc?</div>
<div class="line">[Monday 14 March 2011] [04:56:21] &lt;pieterh&gt;   guido_g: yes, it&#8217;s a good idea</div>
<div class="line">[Monday 14 March 2011] [04:56:37] &lt;pieterh&gt;   I&#8217;m redesigning the whole code listing UI, will do this as part of that</div>
<div class="line">[Monday 14 March 2011] [04:56:40] &lt;guido_g&gt;   they&#8217;re simply too large for the main text now</div>
<div class="line">[Monday 14 March 2011] [04:56:52] &lt;pieterh&gt;   yup, monsterous :-)</div>
<div class="line">[Monday 14 March 2011] [04:56:53] &lt;guido_g&gt;   great! thanks in advance</div>
<div class="line">[Monday 14 March 2011] [04:58:13] &lt;pieterh&gt;   guido_g: ok, the images should all be working now, may need a reload</div>
<div class="line">[Monday 14 March 2011] [04:58:35] &lt;guido_g&gt;   works now</div>
<div class="line">[Monday 14 March 2011] [04:58:40] &lt;Guthur&gt;    +1 for code folding</div>
<div class="line">[Monday 14 March 2011] [04:58:58] &lt;guido_g&gt;   :)</div>
<div class="line">[Monday 14 March 2011] [05:00:07]      * guido_g is going to do the chores first</div>
<div class="line">[Monday 14 March 2011] [05:21:48] &lt;Guthur&gt;    pieterh: 5 specifications within 13 days, that&#8217;s quite a feat</div>
<div class="line">[Monday 14 March 2011] [07:28:08] &lt;pieterh&gt;   Guthur: ... am in meetings all day...</div>
<div class="line">[Monday 14 March 2011] [07:28:16] &lt;pieterh&gt;   making specifications is kind of a hobby of mine</div>
<div class="line">[Monday 14 March 2011] [07:28:29] &lt;pieterh&gt;   I think it&#8217;s time to properly document the 0MQ wire protocols, all of them</div>
<div class="line">[Monday 14 March 2011] [07:28:38] &lt;dermoth|home&gt;      pieterh, i do - I run a pool of streamer devices</div>
<div class="line">[Monday 14 March 2011] [07:28:56] &lt;pieterh&gt;   dermoth|home: do you use the code from the repository or have you made your own versions?</div>
<div class="line">[Monday 14 March 2011] [07:30:47] &lt;Guthur&gt;    +1 on 0MQ wire protocols</div>
<div class="line">[Monday 14 March 2011] [07:30:47] &lt;dermoth|home&gt;      pieterh, not sure if we&#8217;re talking about the same repo... i&#8217;m running the devices from the code zmq library, not the separate (newer) project. The goal is to flush asap the httpd workers asap to avoid loss when they crash/restart, and also simplify the configuration (everything connect to the same pool of &#8220;servers&#8221;</div>
<div class="line">[Monday 14 March 2011] [07:30:59] &lt;Guthur&gt;    better to get it done sooner rather than later in imo</div>
<div class="line">[Monday 14 March 2011] [07:31:07] &lt;dermoth|home&gt;      from the <em>core</em> library</div>
<div class="line">[Monday 14 March 2011] [08:24:12] &lt;Guthur&gt;    is there a minimum language version requirement for the python or perl binding</div>
<div class="line">[Monday 14 March 2011] [08:24:46] &lt;private_meta&gt;      Is the lack of a dedicated zmq::version call intended?</div>
<div class="line">[Monday 14 March 2011] [08:25:27] &lt;Guthur&gt;    also, how is 0MQ on solaris?</div>
<div class="line">[Monday 14 March 2011] [08:57:51] &lt;Guthur&gt;    re My solaris question; I notice the daily build is on solaris 10, anyone know if 0MQ is working on solaris 8</div>
<div class="line">[Monday 14 March 2011] [09:00:36] &lt;Steve-o&gt;   I wouldn&#8217;t expect much unless you try G++</div>
<div class="line">[Monday 14 March 2011] [09:03:48] &lt;Steve-o&gt;   Wasn&#8217;t it EOL a while ago?</div>
<div class="line">[Monday 14 March 2011] [09:04:56] &lt;Steve-o&gt;   Forte might be too old, but I think at least one of the Sun ONE Studio&#8217;s runs on 8?</div>
<div class="line">[Monday 14 March 2011] [09:05:22] &lt;Guthur&gt;    Steve-o: Yeah we need to move soon</div>
<div class="line">[Monday 14 March 2011] [09:05:36] &lt;private_meta&gt;      pieterh: I know it&#8217;s just a wrapper, but for uniformity it would be nice to have the zmq::version call in the C++ version</div>
<div class="line">[Monday 14 March 2011] [09:05:46] &lt;Guthur&gt;    I wish we could easily migrate to RH</div>
<div class="line">[Monday 14 March 2011] [09:05:59] &lt;Guthur&gt;    that&#8217;s an option, but probably a painful one</div>
<div class="line">[Monday 14 March 2011] [09:07:03] &lt;Steve-o&gt;   Guthur: you actually using Solaris on x86/x64?</div>
<div class="line">[Monday 14 March 2011] [09:09:32] &lt;Steve-o&gt;   it&#8217;s bad enough that studio 12 is still out-of-date, Google Protobufs doesn&#8217;t work well with Sun&#8217;s STL stack</div>
<div class="line">[Monday 14 March 2011] [11:15:31] &lt;jstrom&gt;    hm i sent an email to zeromq-dev a few hours ago, haven&#8217;t showed up in archives yet.. any problems with mail delivery/bad spam detection?</div>
<div class="line">[Monday 14 March 2011] [11:15:40] &lt;jstrom&gt;    or is there moderation?</div>
<div class="line">[Monday 14 March 2011] [11:24:39] &lt;private_meta&gt;      jstrom: The last time I sent an email it showed up immediately, so I doubt there is moderation</div>
<div class="line">[Monday 14 March 2011] [11:25:03] &lt;jstrom&gt;    okey, wierd</div>
<div class="line">[Monday 14 March 2011] [11:25:12] &lt;private_meta&gt;      jstrom: and,I see an email by you in my mailbox</div>
<div class="line">[Monday 14 March 2011] [11:25:16] &lt;jstrom&gt;    Just signed up but that usually doenst make any difference in mailman..</div>
<div class="line">[Monday 14 March 2011] [11:25:18] &lt;jstrom&gt;    oh, okey</div>
<div class="line">[Monday 14 March 2011] [11:25:40] &lt;private_meta&gt;      depending on your time zone, 1[1|2]:36</div>
<div class="line">[Monday 14 March 2011] [11:25:48] &lt;jstrom&gt;    Guess its just the archive beeing slow then :) I opted for digest mail, so I didnt get the mail myself directly</div>
<div class="line">[Monday 14 March 2011] [11:25:53] &lt;jstrom&gt;    yep</div>
<div class="line">[Monday 14 March 2011] [11:27:12] &lt;private_meta&gt;      By the way, it&#8217;s in the archive as well</div>
<div class="line">[Monday 14 March 2011] [11:28:45] &lt;private_meta&gt;      jstrom: I have no idea why, but apparently your mail, if sorted by Topic, was considered as a reply to &#8220;[zeromq-dev] Poll about linger and termination behaviour!&#8221;</div>
<div class="line">[Monday 14 March 2011] [11:29:17] &lt;jstrom&gt;    hah.. yeah, there I see it.. thats very wierd indeed.. the gmane archive has it correct though: <a class="reference external" href="http://news.gmane.org/gmane.network.zeromq.devel">http://news.gmane.org/gmane.network.zeromq.devel</a></div>
<div class="line">[Monday 14 March 2011] [12:34:07] &lt;troutwine&gt; Aside from tunneling, what are my options for secure transmission? SSL is not natively supported, right?</div>
<div class="line">[Monday 14 March 2011] [12:42:33] &lt;cremes&gt;    troutwine: there are no built-in options for security</div>
<div class="line">[Monday 14 March 2011] [12:42:41] &lt;cremes&gt;    tunneling is probably the easiest solution at this point</div>
<div class="line">[Monday 14 March 2011] [12:42:55] &lt;troutwine&gt; cremes: Tunneling is out of the question, sadly.</div>
<div class="line">[Monday 14 March 2011] [12:42:57] &lt;cremes&gt;    you might want to search the mailing list archives for this question; it has come up a few times</div>
<div class="line">[Monday 14 March 2011] [12:43:08] &lt;cremes&gt;    and there might be a solution for you listed there</div>
<div class="line">[Monday 14 March 2011] [12:43:16] &lt;troutwine&gt; cremes: I did, but didn&#8217;t find anything terribly promising.</div>
<div class="line">[Monday 14 March 2011] [12:43:34] &lt;cremes&gt;    too bad... perhaps you could try asking again and describe your use-case</div>
<div class="line">[Monday 14 March 2011] [12:43:56] &lt;cremes&gt;    maybe someone has come up with a clever solution and is waiting for someone to ask about it before sharing :)</div>
<div class="line">[Monday 14 March 2011] [12:44:29] &lt;troutwine&gt; cremes: Maybe. Thanks.</div>
<div class="line">[Monday 14 March 2011] [12:44:33] &lt;nadime&gt;    it wouldn&#8217;t be terribly hard to write your own ZMQ-SSL wrapper</div>
<div class="line">[Monday 14 March 2011] [12:44:47] &lt;nadime&gt;    someone may have done so, and just not released it</div>
<div class="line">[Monday 14 March 2011] [12:45:30] &lt;nadime&gt;    cremes &#8211; question for you</div>
<div class="line">[Monday 14 March 2011] [12:45:39] &lt;cremes&gt;    nadime: shoot</div>
<div class="line">[Monday 14 March 2011] [12:46:02] &lt;troutwine&gt; nadime: I think that&#8217;s what I&#8217;m going to do, but I know squat about SSL implementations, or really about ZMQ internals. Any pointers?</div>
<div class="line">[Monday 14 March 2011] [12:47:08] &lt;nadime&gt;    i don&#8217;t think you need to know anything about zmq internals</div>
<div class="line">[Monday 14 March 2011] [12:47:17] &lt;nadime&gt;    but you do need to look at a few SSL implementations probably</div>
<div class="line">[Monday 14 March 2011] [12:47:40] &lt;nadime&gt;    you basically want to create a message class where you&#8217;re encrypting the dataload</div>
<div class="line">[Monday 14 March 2011] [12:47:51] &lt;nadime&gt;    you can do something much simpler than a full implementation</div>
<div class="line">[Monday 14 March 2011] [12:47:53] &lt;cremes&gt;    i recommend looking at this UML diagram for a &#8220;taste&#8221; of the 0mq internals</div>
<div class="line">[Monday 14 March 2011] [12:47:53] &lt;cremes&gt;    <a class="reference external" href="https://github.com/thijsterlouw/zeromq2-uml">https://github.com/thijsterlouw/zeromq2-uml</a></div>
<div class="line">[Monday 14 March 2011] [12:48:31] &lt;nadime&gt;    cremes - for high I/O throughput scenarios, is it basically recommended to have 1 input and 1 output thread (or N input/output) to avoid using a poller?</div>
<div class="line">[Monday 14 March 2011] [12:48:54] &lt;nadime&gt;    the zmq implementation of poll seems incredibly slow, it was what was causing my i/o bottleneck yesterday</div>
<div class="line">[Monday 14 March 2011] [12:50:49] &lt;nadime&gt;    troutwine &#8211; how scalable do you need your solution to be?</div>
<div class="line">[Monday 14 March 2011] [12:51:32] &lt;nadime&gt;    cremes - sorry, that was unclear.  i&#8217;m asking &#8211; is it recommended to never use zmq_poll for high throughput</div>
<div class="line">[Monday 14 March 2011] [12:51:52] &lt;troutwine&gt; nadime: A few thousand concurrent clients; not terribly.</div>
<div class="line">[Monday 14 March 2011] [12:52:13] &lt;cremes&gt;    nadime: it&#8217;s hard to say; are you using zmq_poll with a timeout or do you use it to block?</div>
<div class="line">[Monday 14 March 2011] [12:52:36] &lt;nadime&gt;    either, both are slow</div>
<div class="line">[Monday 14 March 2011] [12:53:06] &lt;cremes&gt;    nadime: interesting; i don&#8217;t think anyone has done any real benchmarks in this area</div>
<div class="line">[Monday 14 March 2011] [12:53:10] &lt;nadime&gt;    i was running about 500k msgs/s, avg. 50B msgs, so about 25MB</div>
<div class="line">[Monday 14 March 2011] [12:53:31] &lt;nadime&gt;    and i was falling behind because of a poll (with either block or timeout, tried both)</div>
<div class="line">[Monday 14 March 2011] [12:53:42] &lt;nadime&gt;    so i was pushing 500k until i hit the poll, then only getting about 100k/s</div>
<div class="line">[Monday 14 March 2011] [12:53:50] &lt;cremes&gt;    you only had a handful of sockets, right? like 4 or 5 of them?</div>
<div class="line">[Monday 14 March 2011] [12:53:51] &lt;nadime&gt;    and my app was blowing up because of the buffering</div>
<div class="line">[Monday 14 March 2011] [12:53:56] &lt;nadime&gt;    yep</div>
<div class="line">[Monday 14 March 2011] [12:54:02] &lt;cremes&gt;    wow, that&#8217;s terrible</div>
<div class="line">[Monday 14 March 2011] [12:54:14] &lt;nadime&gt;    the memcpy was killing me</div>
<div class="line">[Monday 14 March 2011] [12:54:25] &lt;cremes&gt;    any chance you could open an issue illustrating this problem?</div>
<div class="line">[Monday 14 March 2011] [12:54:30] &lt;nadime&gt;    i&#8217;m on win7, so i think zmq_poll uses select()</div>
<div class="line">[Monday 14 March 2011] [12:54:48] &lt;cremes&gt;    ah... windows</div>
<div class="line">[Monday 14 March 2011] [12:54:48] &lt;nadime&gt;    sure in a day or two, i can probably make an example case pretty quickly</div>
<div class="line">[Monday 14 March 2011] [12:55:04] &lt;cremes&gt;    windows has probably gotten the least attention out of all of the platforms</div>
<div class="line">[Monday 14 March 2011] [12:55:05] &lt;troutwine&gt; nadime: Limited by human latency, I&#8217;d guess each client is going to push one message a half-second. So a few thousand sockets, 4,000 msgs/s.</div>
<div class="line">[Monday 14 March 2011] [12:55:11] &lt;troutwine&gt; nadime: Why do you ask?</div>
<div class="line">[Monday 14 March 2011] [12:55:25] &lt;cremes&gt;    the 0mq project doesn&#8217;t have a lot of windows-savvy devs working on it yet; there are a few but progress is slow</div>
<div class="line">[Monday 14 March 2011] [12:55:32] &lt;nadime&gt;    worried about key exchange, troutwine</div>
<div class="line">[Monday 14 March 2011] [12:55:37] &lt;nadime&gt;    not throughput</div>
<div class="line">[Monday 14 March 2011] [12:56:03] &lt;nadime&gt;    you should basically look up how SSL handles key exchange, once you have keys on both sides, it&#8217;s really easy to use ZMQ to do secure xfer</div>
<div class="line">[Monday 14 March 2011] [12:56:18] &lt;cremes&gt;    nadime: you might want to ping Guthur and ask him about his work on using windows-native-api poll stuff</div>
<div class="line">[Monday 14 March 2011] [12:56:34] &lt;troutwine&gt; nadime: I&#8217;m reading up on SSL now. Clearly I know nothing about it.</div>
<div class="line">[Monday 14 March 2011] [12:57:17] &lt;nadime&gt;    thanks, i will do that</div>
<div class="line">[Monday 14 March 2011] [12:57:30] &lt;nadime&gt;    i was planning on taking a look at the implementation when i have a sec, gotta finish this project though</div>
<div class="line">[Monday 14 March 2011] [12:57:39] &lt;nadime&gt;    but if he&#8217;s already working on it, maybe we can team up</div>
<div class="line">[Monday 14 March 2011] [12:57:51] &lt;cremes&gt;    nadime: good idea; i&#8217;m sure he would appreciate a hand</div>
<div class="line">[Monday 14 March 2011] [12:58:05] &lt;cremes&gt;    nadime: his focus is on getting ipc transport working on windows</div>
<div class="line">[Monday 14 March 2011] [12:58:21] &lt;cremes&gt;    but that stuff is all tied in with polling for events and handling i/o completion</div>
<div class="line">[Monday 14 March 2011] [12:58:27] &lt;nadime&gt;    ah, well i don&#8217;t care about that, but happy to help re: poll implementation ;)</div>
<div class="line">[Monday 14 March 2011] [12:58:47] &lt;cremes&gt;    i think a solution for both pretty much go hand in hand</div>
<div class="line">[Monday 14 March 2011] [12:58:58] &lt;nadime&gt;    gotcha</div>
<div class="line">[Monday 14 March 2011] [12:59:01] &lt;cremes&gt;    based on what Guthur was posting here last week and the week before</div>
<div class="line">[Monday 14 March 2011] [12:59:09] &lt;nadime&gt;    he wants to do ipc using files?</div>
<div class="line">[Monday 14 March 2011] [12:59:21] &lt;nadime&gt;    and the windows poll implementationc an&#8217;t handle sockets and files?</div>
<div class="line">[Monday 14 March 2011] [12:59:55] &lt;cremes&gt;    nadime: it&#8217;s best just to ask him; he can explain it with the minimum amount of confusion (that i might add if i try)</div>
<div class="line">[Monday 14 March 2011] [13:00:11] &lt;nadime&gt;    k</div>
<div class="line">[Monday 14 March 2011] [13:00:40] &lt;Guthur&gt;    did I hear my name, hehe</div>
<div class="line">[Monday 14 March 2011] [13:00:49] &lt;cremes&gt;    Guthur: you did!</div>
<div class="line">[Monday 14 March 2011] [13:00:59] &lt;nadime&gt;    you did &#8211; cremes was just asking me to ping you about your work on windows zmq_poll implementation</div>
<div class="line">[Monday 14 March 2011] [13:01:03] &lt;cremes&gt;    nadime has noticed that zmq_poll() sucks donkey on windows</div>
<div class="line">[Monday 14 March 2011] [13:01:31] &lt;Guthur&gt;    it&#8217;s a &#8216;feature&#8217;</div>
<div class="line">[Monday 14 March 2011] [13:01:40] &lt;Guthur&gt;    windows comes with extra donkeys for just such cases</div>
<div class="line">[Monday 14 March 2011] [13:01:45] &lt;nadime&gt;    haha</div>
<div class="line">[Monday 14 March 2011] [13:02:08] &lt;Guthur&gt;    but yeah, we really need to look at getting IOCP</div>
<div class="line">[Monday 14 March 2011] [13:02:29] &lt;Guthur&gt;    or possibly, at the very least, WSA_POLL (I think thats the name)</div>
<div class="line">[Monday 14 March 2011] [13:02:44] &lt;nadime&gt;    what is zmq_poll implemented using right now? select()?</div>
<div class="line">[Monday 14 March 2011] [13:02:53] &lt;Guthur&gt;    IOCP would be the bigger win because it would give IPC</div>
<div class="line">[Monday 14 March 2011] [13:03:02] &lt;Guthur&gt;    nadime: I believe so</div>
<div class="line">[Monday 14 March 2011] [13:03:23] &lt;Guthur&gt;    It only does TCP though</div>
<div class="line">[Monday 14 March 2011] [13:03:41] &lt;Guthur&gt;    Select doesn&#8217;t support named pipes unfortunately</div>
<div class="line">[Monday 14 March 2011] [13:03:53] &lt;cremes&gt;    nadime, Guthur: i&#8217;ll leave you two windows experts to hash things out :)</div>
<div class="line">[Monday 14 March 2011] [13:03:55] &lt;nadime&gt;    and i take it wsa_poll doesn&#8217;t either</div>
<div class="line">[Monday 14 March 2011] [13:04:13] &lt;Guthur&gt;    nadime: As far as I am aware, nope</div>
<div class="line">[Monday 14 March 2011] [13:05:03] &lt;nadime&gt;    IOPC looks pretty nifty</div>
<div class="line">[Monday 14 March 2011] [13:05:41] &lt;Guthur&gt;    I think the only realistic option for named pipes is IOCP or WaitForMultipleObjects</div>
<div class="line">[Monday 14 March 2011] [13:05:43] &lt;nadime&gt;    would eliminate the need to memcpy the fd list for in, out, err every cycle which is i think what slows down the poller on high throughput</div>
<div class="line">[Monday 14 March 2011] [13:05:49] &lt;Guthur&gt;    IOCP is pretty sweet</div>
<div class="line">[Monday 14 March 2011] [13:06:26] &lt;Guthur&gt;    but it doesn&#8217;t naturally fit into the 0MQ engine as is, afaik</div>
<div class="line">[Monday 14 March 2011] [13:07:01] &lt;Guthur&gt;    it will require an abstraction layer over named pipes and IOCP</div>
<div class="line">[Monday 14 March 2011] [13:07:44] &lt;Guthur&gt;    I think it&#8217;s due to the fact that 0MQ needs some state reflection which IOCP doesn&#8217;t cover, sustrik is the man to talk to for 0MQs needs though</div>
<div class="line">[Monday 14 March 2011] [13:07:47] &lt;nadime&gt;    it looks like it will actually need to loop over all requested sockets/pipes instead of operating like select()</div>
<div class="line">[Monday 14 March 2011] [13:08:11] &lt;nadime&gt;    nm</div>
<div class="line">[Monday 14 March 2011] [13:08:56] &lt;Guthur&gt;    sorry I need to go, but i&#8217;ll be back in an hour or so</div>
<div class="line">[Monday 14 March 2011] [13:18:17] &lt;private_meta&gt;      github is amazingly stupid</div>
<div class="line">[Monday 14 March 2011] [13:18:28] &lt;private_meta&gt;      my account doesn&#8217;t work, I can&#8217;t log in</div>
<div class="line">[Monday 14 March 2011] [13:18:35] &lt;private_meta&gt;      they&#8217;re sending me to the support page</div>
<div class="line">[Monday 14 March 2011] [13:18:41] &lt;private_meta&gt;      which you can only access when you&#8217;re logged in</div>
<div class="line">[Monday 14 March 2011] [13:20:27] &lt;michelp&gt;   morning/afternoon/evening everybody</div>
<div class="line">[Monday 14 March 2011] [13:21:30] &lt;private_meta&gt;      pieterh: If you don&#8217;t mind adding that in a future release, add this to zmq.hpp: <a class="reference external" href="https://gist.github.com/94ced4a644021248f4d7">https://gist.github.com/94ced4a644021248f4d7</a> &lt;- just for unifying the c++ binding and for not having to use C calls</div>
<div class="line">[Monday 14 March 2011] [13:22:16] &lt;private_meta&gt;      pieterh: I don&#8217;t want to clone the entire thing just to get a patch for that if you don&#8217;t mind</div>
<div class="line">[Monday 14 March 2011] [13:22:28] &lt;guido_g&gt;   you know how to submit patches</div>
<div class="line">[Monday 14 March 2011] [13:22:41] &lt;guido_g&gt;   there is <em>a lot</em> of information missing</div>
<div class="line">[Monday 14 March 2011] [13:23:04] &lt;private_meta&gt;      Ok, then leave it out</div>
<div class="line">[Monday 14 March 2011] [13:44:23] &lt;pieterh&gt;   re</div>
<div class="line">[Monday 14 March 2011] [13:44:27] &lt;pieterh&gt;   sorry, am in meetings all day</div>
<div class="line">[Monday 14 March 2011] [13:44:46] &lt;pieterh&gt;   private_meta: patches need to follow contribution policy</div>
<div class="line">[Monday 14 March 2011] [13:45:25] &lt;private_meta&gt;      So i need to go through all that (imho annoying) stuff to see a 1 line method in there?</div>
<div class="line">[Monday 14 March 2011] [13:45:35] &lt;pieterh&gt;   private_meta: wrt to github are you trying to login with an organization id?</div>
<div class="line">[Monday 14 March 2011] [13:45:45] &lt;pieterh&gt;   private_meta: yes, even for a 1-line patch, sorry</div>
<div class="line">[Monday 14 March 2011] [13:45:57] &lt;pieterh&gt;   well, perhaps I can make the change, hang on...</div>
<div class="line">[Monday 14 March 2011] [13:47:23] &lt;private_meta&gt;      Working on zguid I&#8217;m doing multiple changes, and I understand that a patch is necessary</div>
<div class="line">[Monday 14 March 2011] [13:47:26] &lt;pieterh&gt;   private_meta: I&#8217;ll make that change myself, and send a patch to martin, tomorrow</div>
<div class="line">[Monday 14 March 2011] [13:47:28] &lt;private_meta&gt;      a <a href="#id95"><span class="problematic" id="id96">*</span></a>patch</div>
<div class="line">[Monday 14 March 2011] [13:47:46] &lt;pieterh&gt;   i&#8217;ll get all the credit for it, be warned</div>
<div class="line">[Monday 14 March 2011] [13:47:55]      * pieterh is going to tweet how he fixed the version method!</div>
<div class="line">[Monday 14 March 2011] [13:47:57] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 14 March 2011] [13:47:59] &lt;private_meta&gt;      sure, I don&#8217;t need the credit anyway</div>
<div class="line">[Monday 14 March 2011] [13:48:17] &lt;pieterh&gt;   it&#8217;s kind of a joke, credit for a 1-line method</div>
<div class="line">[Monday 14 March 2011] [13:48:24] &lt;private_meta&gt;      ik</div>
<div class="line">[Monday 14 March 2011] [13:48:27] &lt;private_meta&gt;      I mean creadit there in general</div>
<div class="line">[Monday 14 March 2011] [13:48:30] &lt;private_meta&gt;      <a href="#id97"><span class="problematic" id="id98">*</span></a>credit</div>
<div class="line">[Monday 14 March 2011] [13:48:35] &lt;pieterh&gt;   it&#8217;s more about blame than credit</div>
<div class="line">[Monday 14 March 2011] [13:48:43] &lt;pieterh&gt;   ok, have to flee, cyl</div>
<div class="line">[Monday 14 March 2011] [13:48:47] &lt;private_meta&gt;      thanks</div>
<div class="line">[Monday 14 March 2011] [14:10:04] &lt;nadime&gt;    anyone know: what&#8217;s the behavior of the io threads f you set socket affinities to threads out of range, e.g. you have 1 io thread but you set a socket&#8217;s affinity to 8</div>
<div class="line">[Monday 14 March 2011] [14:45:25] &lt;loxs&gt;      hi folks, jus saw Zed&#8217;s talk on 0mq at PyCon and there I saw him saying it&#8217;s not a good idea to put it on the internet...</div>
<div class="line">[Monday 14 March 2011] [14:45:44] &lt;loxs&gt;      uhm, it kind looks really promising for things like game networking</div>
<div class="line">[Monday 14 March 2011] [14:46:32] &lt;loxs&gt;      so, are there any plans to make suitable to work on the internet?</div>
<div class="line">[Monday 14 March 2011] [14:50:44] &lt;loxs&gt;      Zed said &#8220;they are working on it&#8221;, but what does this mean?</div>
<div class="line">[Monday 14 March 2011] [14:53:39] &lt;cremes&gt;    loxs: you need to remember the context in which zed said that</div>
<div class="line">[Monday 14 March 2011] [14:53:51] &lt;cremes&gt;    he likes to &#8216;fuzz&#8217; all of his projects (send random data to them)</div>
<div class="line">[Monday 14 March 2011] [14:54:05] &lt;cremes&gt;    he noted that 0mq still has assertions that will trigger when bad data is received on the port</div>
<div class="line">[Monday 14 March 2011] [14:54:24] &lt;cremes&gt;    so a perfect DOS attack would be to send random data to a 0mq socket and crash the lib</div>
<div class="line">[Monday 14 March 2011] [14:54:42] &lt;cremes&gt;    the 0mq guys are &#8216;working on it&#8217; in the sense that they are slowly but surely removing those assertions</div>
<div class="line">[Monday 14 March 2011] [14:54:53] &lt;cremes&gt;    and fixing the library&#8217;s behavior in the face of bad data</div>
<div class="line">[Monday 14 March 2011] [15:01:55] &lt;michelp&gt;   if you can handle the overhead of it openvpn might be a good solution to securing a 0mq network over the internet</div>
<div class="line">[Monday 14 March 2011] [15:02:11] &lt;michelp&gt;   i hear some game networks are using it successfully</div>
<div class="line">[Monday 14 March 2011] [15:02:38] &lt;michelp&gt;   it also lets you do things like revoke access to rogue clients</div>
<div class="line">[Monday 14 March 2011] [15:03:29]      * michelp is anxious to get some time to queue up zed&#8217;s talk</div>
<div class="line">[Monday 14 March 2011] [15:04:16] &lt;cremes&gt;    zed&#8217;s talk was only &#8220;okay&#8221;; due to time pressures he touched so lightly on 85% of the important stuff</div>
<div class="line">[Monday 14 March 2011] [15:04:34] &lt;cremes&gt;    that unless you were already a 0mq practitioner i doubt the audience got much out of it</div>
<div class="line">[Monday 14 March 2011] [15:06:32] &lt;loxs&gt;      well, I didn&#8217;t, but the idea of &#8220;one messaging system to rull them all&#8221; started some bells in my head :)</div>
<div class="line">[Monday 14 March 2011] [15:07:29] &lt;loxs&gt;      michelp, well, it&#8217;s not an option if you don&#8217;t trust the client (if it&#8217;s a game, people will try to do all kinds of hacks to cheat the game)</div>
<div class="line">[Monday 14 March 2011] [15:07:59] &lt;loxs&gt;      michelp, which game networks use zeromq?</div>
<div class="line">[Monday 14 March 2011] [15:09:43] &lt;michelp&gt;   loxs, i don&#8217;t know, just something i read while i was cruising through google setting up my own private vpn</div>
<div class="line">[Monday 14 March 2011] [15:12:46] &lt;mikko&gt;     sustrik: tested and works</div>
<div class="line">[Monday 14 March 2011] [15:16:10] &lt;michelp&gt;   loxs, sorry i misread your question, i meant some game networks are using openvpn, not 0mq</div>
<div class="line">[Monday 14 March 2011] [15:16:13] &lt;michelp&gt;   based on what i read only, not on any direct knowledge</div>
<div class="line">[Monday 14 March 2011] [15:17:07] &lt;michelp&gt;   my suggestion was that if you were going to use 0mq over the internet, using it on a vpn might be a good approach to avoid fuzz hacks on an open port</div>
<div class="line">[Monday 14 March 2011] [15:18:13] &lt;loxs&gt;      I see. Yep, you are right</div>
<div class="line">[Monday 14 March 2011] [15:19:00] &lt;loxs&gt;      but it would be really cool if you could use zeromq directly for client server communication</div>
<div class="line">[Monday 14 March 2011] [15:19:57] &lt;sustrik&gt;   mikko: thx</div>
<div class="line">[Monday 14 March 2011] [15:30:08] &lt;CIA-103&gt;   zeromq2: 03Martin Sustrik 07master * rf987f4b 10/ src/pgm_receiver.cpp :</div>
<div class="line">[Monday 14 March 2011] [15:30:08] &lt;CIA-103&gt;   zeromq2: FreeBSD complation error fixed</div>
<div class="line">[Monday 14 March 2011] [15:30:08] &lt;CIA-103&gt;   zeromq2: There was an error in pgm_receiver wrt strict aliasing.</div>
<div class="line">[Monday 14 March 2011] [15:30:08] &lt;CIA-103&gt;   zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ecz5VG">http://bit.ly/ecz5VG</a></div>
<div class="line">[Monday 14 March 2011] [15:34:57] &lt;andrewvc&gt;  cremes: around?</div>
<div class="line">[Monday 14 March 2011] [15:37:54] &lt;cremes&gt;    andrewvc: for about 20m</div>
<div class="line">[Monday 14 March 2011] [15:38:02] &lt;andrewvc&gt;  a couple things</div>
<div class="line">[Monday 14 March 2011] [15:38:11] &lt;andrewvc&gt;  1: you know the deal with all the finalizer errors on the specs</div>
<div class="line">[Monday 14 March 2011] [15:38:23] &lt;andrewvc&gt;  also, I added a zdevice branch to ffi-rzmq with a new ZMQ::Device class</div>
<div class="line">[Monday 14 March 2011] [15:39:17] &lt;mikko&gt;     sustrik: i&#8217;m confused</div>
<div class="line">[Monday 14 March 2011] [15:39:59] &lt;mikko&gt;     sustrik: do fixes go first to zeromq2 or zeromq2-1 repo?</div>
<div class="line">[Monday 14 March 2011] [15:46:34] &lt;cremes&gt;    andrewvc: i&#8217;ll take a look at the zdevice branch tonight/tomorrow and give you feedback if anything pops</div>
<div class="line">[Monday 14 March 2011] [15:46:50] &lt;andrewvc&gt;  cool</div>
<div class="line">[Monday 14 March 2011] [15:46:53] &lt;cremes&gt;    however, i&#8217;m not sure what you mean about finalizer errors; i&#8217;m not getting any</div>
<div class="line">[Monday 14 March 2011] [15:47:09] &lt;cremes&gt;    can you pastie the errors you see? (i might have fixed &#8216;em and forgot to push them)</div>
<div class="line">[Monday 14 March 2011] [15:47:12] &lt;andrewvc&gt;  sure</div>
<div class="line">[Monday 14 March 2011] [15:47:13] &lt;andrewvc&gt;  one sec</div>
<div class="line">[Monday 14 March 2011] [15:51:01] &lt;andrewvc&gt;  cremes: <a class="reference external" href="https://gist.github.com/869738">https://gist.github.com/869738</a></div>
<div class="line">[Monday 14 March 2011] [15:51:20] &lt;andrewvc&gt;  actually, there&#8217;s a variety of errors</div>
<div class="line">[Monday 14 March 2011] [15:51:37] &lt;andrewvc&gt;  that&#8217;s on rbx</div>
<div class="line">[Monday 14 March 2011] [15:52:16] &lt;cremes&gt;    huh</div>
<div class="line">[Monday 14 March 2011] [15:52:29] &lt;cremes&gt;    i don&#8217;t get those under mri; i&#8217;ll try under rbx and get them patched up</div>
<div class="line">[Monday 14 March 2011] [15:52:42] &lt;cremes&gt;    looks like we found another hole in rbx&#8217;s ffi support</div>
<div class="line">[Monday 14 March 2011] [15:57:50] &lt;andrewvc&gt;  interesting</div>
<div class="line">[Monday 14 March 2011] [15:59:29] &lt;sustrik&gt;   mikko: i&#8217;m maintaining master (zeromq2)</div>
<div class="line">[Monday 14 March 2011] [16:00:39] &lt;sustrik&gt;   pieter volunteered to do stable releases</div>
<div class="line">[Monday 14 March 2011] [16:01:13] &lt;sustrik&gt;   so he should decide on the process for zeromq2-1</div>
<div class="line">[Monday 14 March 2011] [16:02:36] &lt;mikko&gt;     sustrik: so they should be treated as separate projects?</div>
<div class="line">[Monday 14 March 2011] [16:04:40] &lt;sustrik&gt;   you should ask pieter</div>
<div class="line">[Monday 14 March 2011] [16:05:03] &lt;sustrik&gt;   my understanding of stable is maintaining the backward compatibility while backporting patches</div>
<div class="line">[Monday 14 March 2011] [16:05:37] &lt;mikko&gt;     i shall ask him when we meet</div>
<div class="line">[Monday 14 March 2011] [16:05:43] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 14 March 2011] [16:07:09] &lt;mikko&gt;     sustrik: where is subscription forwarding going on?</div>
<div class="line">[Monday 14 March 2011] [16:07:15] &lt;mikko&gt;     is it stable?</div>
<div class="line">[Monday 14 March 2011] [16:07:26] &lt;sustrik&gt;   mikko: it&#8217;s still on a branch</div>
<div class="line">[Monday 14 March 2011] [16:07:33] &lt;sustrik&gt;   not finished yet</div>
<div class="line">[Monday 14 March 2011] [16:07:37] &lt;mikko&gt;     ok</div>
<div class="line">[Monday 14 March 2011] [16:07:58] &lt;sustrik&gt;   then it&#8217;ll go to master obviously</div>
<div class="line">[Monday 14 March 2011] [16:08:04] &lt;sustrik&gt;   not sure about stables</div>
<div class="line">[Monday 14 March 2011] [16:08:19] &lt;mikko&gt;     it crossed my mind yesterday</div>
<div class="line">[Monday 14 March 2011] [16:08:27] &lt;mikko&gt;     was writing a small utility that uses pub/sub sockets</div>
<div class="line">[Monday 14 March 2011] [16:08:40] &lt;mikko&gt;     so, next i need to get pieterh to merge the freebsd pgm build fix</div>
<div class="line">[Monday 14 March 2011] [16:08:54] &lt;mikko&gt;     and test steve&#8217;s upstream changes</div>
<div class="line">[Monday 14 March 2011] [16:08:55] &lt;sustrik&gt;   he&#8217;ll do i so, i think</div>
<div class="line">[Monday 14 March 2011] [16:09:15] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 14 March 2011] [19:42:26] &lt;Guthur&gt;    any suggestions on why i might get a phantom POLLIN event</div>
<div class="line">[Monday 14 March 2011] [19:44:09] &lt;Guthur&gt;    oh wait nvm, something more fundamentally wrong with my code</div>
<div class="line">[Monday 14 March 2011] [19:47:03] &lt;Guthur&gt;    yep I was being a silly programmer</div>
<div class="line">[Monday 14 March 2011] [23:40:48] &lt;michelp&gt;   has anyone yet in the community explored distributed shared memory stores in python over 0mq?</div>
<div class="line">[Monday 14 March 2011] [23:41:15] &lt;michelp&gt;   thinking in terms of doing transactional changes to objects that get propagated to N nodes</div>
<div class="line">[Monday 14 March 2011] [23:43:58] &lt;michelp&gt;   it&#8217;s something i&#8217;ve always taken an interest in, but the problem of distributing changes to threads, processes, and boxes uniformly has stumped me</div>
<div class="line">[Tuesday 15 March 2011] [04:46:06] &lt;guido_g&gt;  good morning</div>
<div class="line">[Tuesday 15 March 2011] [05:20:35] &lt;sustrik&gt;  morning</div>
<div class="line">[Tuesday 15 March 2011] [05:28:34] &lt;Evet&gt;     morning</div>
<div class="line">[Tuesday 15 March 2011] [05:29:10] &lt;gambi&gt;    morning :)</div>
<div class="line">[Tuesday 15 March 2011] [05:44:33] &lt;pieter_hintjens&gt;  g&#8217;morning</div>
<div class="line">[Tuesday 15 March 2011] [06:31:06] &lt;private_meta&gt;     sustrik: mind i talk to you about it outside the mailing lisT?</div>
<div class="line">[Tuesday 15 March 2011] [06:31:08] &lt;private_meta&gt;     <a href="#id99"><span class="problematic" id="id100">*</span></a>list</div>
<div class="line">[Tuesday 15 March 2011] [06:31:29] &lt;private_meta&gt;     sustrik: the zmq::version i mean</div>
<div class="line">[Tuesday 15 March 2011] [06:39:31] &lt;sustrik&gt;  sure</div>
<div class="line">[Tuesday 15 March 2011] [06:39:33] &lt;sustrik&gt;  what&#8217;s up?</div>
<div class="line">[Tuesday 15 March 2011] [06:41:29] &lt;private_meta&gt;     about the pointer vs reference thing</div>
<div class="line">[Tuesday 15 March 2011] [06:42:07] &lt;private_meta&gt;     imho the only valid reason to use that would be to be coherent with the other function prototypes</div>
<div class="line">[Tuesday 15 March 2011] [06:44:03] &lt;sustrik&gt;  right</div>
<div class="line">[Tuesday 15 March 2011] [06:44:08] &lt;sustrik&gt;  it&#8217;s a matter of style</div>
<div class="line">[Tuesday 15 March 2011] [06:44:20] &lt;private_meta&gt;     Bad style, according to a lot of people</div>
<div class="line">[Tuesday 15 March 2011] [06:44:32] &lt;sustrik&gt;  sure</div>
<div class="line">[Tuesday 15 March 2011] [06:44:46] &lt;sustrik&gt;  the point is that it&#8217;s the style that C++ API uses now</div>
<div class="line">[Tuesday 15 March 2011] [06:44:52] &lt;sustrik&gt;  you can fork and restyle it</div>
<div class="line">[Tuesday 15 March 2011] [06:46:13] &lt;private_meta&gt;     Wouldn&#8217;t really help anyway</div>
<div class="line">[Tuesday 15 March 2011] [06:46:56] &lt;sustrik&gt;  the thing with the style is you have to decide on it once and then keep it</div>
<div class="line">[Tuesday 15 March 2011] [06:47:04] &lt;sustrik&gt;  some may consider it ugly</div>
<div class="line">[Tuesday 15 March 2011] [06:47:13] &lt;sustrik&gt;  but that&#8217;s how it goes</div>
<div class="line">[Tuesday 15 March 2011] [06:48:52] &lt;private_meta&gt;     hmm... it&#8217;s just nowhere near defensive programming, maybe that&#8217;s what bothers me, I was taught to do that over and over</div>
<div class="line">[Tuesday 15 March 2011] [06:49:30] &lt;sustrik&gt;  shrug</div>
<div class="line">[Tuesday 15 March 2011] [06:49:34] &lt;sustrik&gt;  you can fork it</div>
<div class="line">[Tuesday 15 March 2011] [06:50:03] &lt;sustrik&gt;  breaking backward comatibility because of styling issues is not worth it</div>
<div class="line">[Tuesday 15 March 2011] [06:50:33] &lt;private_meta&gt;     Yeah, but as I said, it wouldn&#8217;t really help, and I would break my own compatibility</div>
<div class="line">[Tuesday 15 March 2011] [06:50:39] &lt;private_meta&gt;     It&#8217;s not worth it</div>
<div class="line">[Tuesday 15 March 2011] [06:50:43] &lt;sustrik&gt;  ack</div>
<div class="line">[Tuesday 15 March 2011] [06:53:23] &lt;private_meta&gt;     well ok, even if I&#8217;m not quite agree with the reasoning, I can&#8217;t change it anyway (and no, changing it by forking isn&#8217;t what I call a helpful solution)</div>
<div class="line">[Tuesday 15 March 2011] [06:54:21] &lt;sustrik&gt;  would you prefer breaking everyone&#8217;s applications instead?</div>
<div class="line">[Tuesday 15 March 2011] [06:54:33] &lt;private_meta&gt;     That&#8217;s why I said I can&#8217;t change it</div>
<div class="line">[Tuesday 15 March 2011] [06:54:37] &lt;sustrik&gt;  exactly</div>
<div class="line">[Tuesday 15 March 2011] [06:54:42] &lt;sustrik&gt;  nothing to do here</div>
<div class="line">[Tuesday 15 March 2011] [06:54:51] &lt;private_meta&gt;     &#8220;Go on, nothing to see&#8221;</div>
<div class="line">[Tuesday 15 March 2011] [06:54:56] &lt;sustrik&gt;  :)</div>
<div class="line">[Tuesday 15 March 2011] [06:55:27] &lt;private_meta&gt;     &#8220;Change what you can&#8217;t accept, accept what you can&#8217;t change&#8221; &lt;&#8211; accepting can be hard</div>
<div class="line">[Tuesday 15 March 2011] [07:38:38] &lt;pieter_hintjens&gt;  consistency is more important than accuracy in some cases</div>
<div class="line">[Tuesday 15 March 2011] [07:41:33] &lt;pieter_hintjens&gt;  private_meta: actually, it would be possible to change the C++ style for 3.0</div>
<div class="line">[Tuesday 15 March 2011] [07:58:51] &lt;private_meta&gt;     pieter_hintjens: ad consistency, I understand</div>
<div class="line">[Tuesday 15 March 2011] [07:59:04] &lt;private_meta&gt;     pieter_hintjens: ad 3.0, do you not plan backwards compatibility for 3.0?</div>
<div class="line">[Tuesday 15 March 2011] [08:11:41] &lt;CIA-103&gt;  zeromq2: 03Martin Sustrik 07master * r7045a4a 10/ (src/named_session.cpp src/named_session.hpp):</div>
<div class="line">[Tuesday 15 March 2011] [08:11:41] &lt;CIA-103&gt;  zeromq2: Dead code removed from named_session.cpp</div>
<div class="line">[Tuesday 15 March 2011] [08:11:41] &lt;CIA-103&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/fkOsT0">http://bit.ly/fkOsT0</a></div>
<div class="line">[Tuesday 15 March 2011] [09:19:23] &lt;Evet&gt;     sustrik: have you benchmarked zeromq on debian-kfreebsd?</div>
<div class="line">[Tuesday 15 March 2011] [09:24:17] &lt;sustrik&gt;  Evet: no</div>
<div class="line">[Tuesday 15 March 2011] [09:24:18] &lt;sustrik&gt;  did you?</div>
<div class="line">[Tuesday 15 March 2011] [09:27:58] &lt;Evet&gt;     sustrik: downloading it now</div>
<div class="line">[Tuesday 15 March 2011] [09:28:57] &lt;Evet&gt;     it seems an interesting project</div>
<div class="line">[Tuesday 15 March 2011] [09:34:07] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 15 March 2011] [09:34:31] &lt;sustrik&gt;  have a look at <a class="reference external" href="http://www.zeromq.org/area:results">http://www.zeromq.org/area:results</a></div>
<div class="line">[Tuesday 15 March 2011] [09:34:48] &lt;sustrik&gt;  if you get any numbers we can post the results on the website</div>
<div class="line">[Tuesday 15 March 2011] [10:06:57] &lt;private_meta&gt;     pieter_hintjens: What might be nice (and not too much work) for the guide, imho, would be a small example output of your code. 1) for those who go through the code to make sure they understood it right without running it 2) for those who want to translate to see a rough outline what the intended result is</div>
<div class="line">[Tuesday 15 March 2011] [10:32:04] &lt;private_meta&gt;     actually, overloading the C++ binding with by reference methods would be a good way to add the by reference functionality without breaking backwards compatibility</div>
<div class="line">[Tuesday 15 March 2011] [10:35:36] &lt;pieter_hintjens&gt;  private_meta: back, sorry, in meetings all day...</div>
<div class="line">[Tuesday 15 March 2011] [10:35:48] &lt;pieter_hintjens&gt;  actually you can make a new C++ binding at any time at all</div>
<div class="line">[Tuesday 15 March 2011] [10:35:50] &lt;private_meta&gt;     np, IRC is a patient protocol</div>
<div class="line">[Tuesday 15 March 2011] [10:36:06] &lt;pieter_hintjens&gt;  just as we have improvements to the other language bindings, orthogonally to 0MQ releases</div>
<div class="line">[Tuesday 15 March 2011] [10:37:12] &lt;pieter_hintjens&gt;  re the guide, yes, this is a good idea, I&#8217;ve done it in a few places but not systematically</div>
<div class="line">[Tuesday 15 March 2011] [10:38:28] &lt;Evet&gt;     do you think something like mongrel2 for xitami?</div>
<div class="line">[Tuesday 15 March 2011] [10:39:48] &lt;pieter_hintjens&gt;  Evet: xitami is dead, for several reasons</div>
<div class="line">[Tuesday 15 March 2011] [10:40:04] &lt;pieter_hintjens&gt;  i&#8217;m not sure what your question is... :-)</div>
<div class="line">[Tuesday 15 March 2011] [10:41:46] &lt;Evet&gt;     oh, xitami was my very first webserver</div>
<div class="line">[Tuesday 15 March 2011] [10:41:59] &lt;Evet&gt;     i have learnt perl on it :)</div>
<div class="line">[Tuesday 15 March 2011] [10:43:14] &lt;private_meta&gt;     pieter_hintjens: sorry for being slow and only arriving at the paranoid pirate pattern now, but I have a small question there. According to Figure 59 of the guide, the Lazy Pirate Client, the Paranoid Pirate Queue and the Paranoid Pirate Worker run at the same time, am I correct?</div>
<div class="line">[Tuesday 15 March 2011] [10:43:35] &lt;pieter_hintjens&gt;  yes, that&#8217;s right</div>
<div class="line">[Tuesday 15 March 2011] [10:44:29] &lt;pieter_hintjens&gt;  I made them as three processes, rather than three threads in one process, so you can stop and start them independently</div>
<div class="line">[Tuesday 15 March 2011] [10:44:34] &lt;private_meta&gt;     So, I seem to be doing something wrong. I run ppqueue, then I run ppworker and I get an &#8220;Address already in use&#8221; error for the lpserver (which ought to run 2nd)</div>
<div class="line">[Tuesday 15 March 2011] [10:45:31] &lt;private_meta&gt;     ah wait</div>
<div class="line">[Tuesday 15 March 2011] [10:45:34] &lt;pieter_hintjens&gt;  you don&#8217;t want to run lpserver</div>
<div class="line">[Tuesday 15 March 2011] [10:45:39] &lt;private_meta&gt;     i just realized that</div>
<div class="line">[Tuesday 15 March 2011] [10:45:40] &lt;private_meta&gt;     stupid me</div>
<div class="line">[Tuesday 15 March 2011] [10:45:48] &lt;private_meta&gt;     I wanted lpclient and ran lpserver</div>
<div class="line">[Tuesday 15 March 2011] [10:45:51] &lt;pieter_hintjens&gt;  it&#8217;s not as simple as it could be...</div>
<div class="line">[Tuesday 15 March 2011] [10:45:51] &lt;private_meta&gt;     &gt;_&lt;</div>
<div class="line">[Tuesday 15 March 2011] [10:46:06] &lt;private_meta&gt;     argh</div>
<div class="line">[Tuesday 15 March 2011] [10:46:26] &lt;private_meta&gt;     I&#8217;m looking through it and thinking and thinking and I don&#8217;t realize I use the wrong one</div>
<div class="line">[Tuesday 15 March 2011] [10:46:31] &lt;private_meta&gt;     lemme see</div>
<div class="line">[Tuesday 15 March 2011] [10:47:40] &lt;private_meta&gt;     Sorry for bothering you :/</div>
<div class="line">[Tuesday 15 March 2011] [10:48:18] &lt;sustrik&gt;  guys, an idea: what about factoring the C++ binding out of 0mq core in 3.0?</div>
<div class="line">[Tuesday 15 March 2011] [10:48:53] &lt;yrashk&gt;   sustrik: ....and merging erlzmq2 in :D haha, kidding, sorry</div>
<div class="line">[Tuesday 15 March 2011] [10:49:19] &lt;sustrik&gt;  well, i mean, all the other bindings are separate projects, why should c++ differ</div>
<div class="line">[Tuesday 15 March 2011] [10:50:58] &lt;yrashk&gt;   yeah, it makes some sense</div>
<div class="line">[Tuesday 15 March 2011] [10:51:17] &lt;yrashk&gt;   although I am ok with c++ binding living in there</div>
<div class="line">[Tuesday 15 March 2011] [10:51:21] &lt;guido_g&gt;  good idea</div>
<div class="line">[Tuesday 15 March 2011] [10:51:58] &lt;sustrik&gt;  the downside is that it ties the C++ binding to the core too much</div>
<div class="line">[Tuesday 15 March 2011] [10:52:23] &lt;sustrik&gt;  so there&#8217;s little space for alternative implementations</div>
<div class="line">[Tuesday 15 March 2011] [10:52:40] &lt;sustrik&gt;  binding-only releases (without dragging the core along)</div>
<div class="line">[Tuesday 15 March 2011] [10:52:43] &lt;sustrik&gt;  etc.</div>
<div class="line">[Tuesday 15 March 2011] [10:54:01] &lt;yrashk&gt;   sustrik: I&#8217;d vote for keeping c++ binding</div>
<div class="line">[Tuesday 15 March 2011] [10:54:59] &lt;pieter_hintjens&gt;  sustrik: that was the idea, forking it out, but it needs to be folded back in for a real distribution</div>
<div class="line">[Tuesday 15 March 2011] [10:55:18] &lt;sustrik&gt;  sure, same as other bindings</div>
<div class="line">[Tuesday 15 March 2011] [10:55:24] &lt;pieter_hintjens&gt;  exactly the same</div>
<div class="line">[Tuesday 15 March 2011] [10:55:41] &lt;pieter_hintjens&gt;  makes it much easier to contribute to, improve, etc.</div>
<div class="line">[Tuesday 15 March 2011] [10:55:49] &lt;sustrik&gt;  ack</div>
<div class="line">[Tuesday 15 March 2011] [10:55:57] &lt;sustrik&gt;  i am +1 myself</div>
<div class="line">[Tuesday 15 March 2011] [10:56:08] &lt;pieter_hintjens&gt;  I&#8217;m +1 for making it consistent with other languages</div>
<div class="line">[Tuesday 15 March 2011] [10:56:08] &lt;sustrik&gt;  so far 3 +1&#8217;s and a single -1</div>
<div class="line">[Tuesday 15 March 2011] [10:56:44] &lt;pieter_hintjens&gt;  in any case I want to explore how to make packages that include the popular bindings</div>
<div class="line">[Tuesday 15 March 2011] [10:57:06] &lt;sustrik&gt;  that&#8217;s something i am wondering about for a long time</div>
<div class="line">[Tuesday 15 March 2011] [10:57:28] &lt;sustrik&gt;  core + java + ruby + python + .net</div>
<div class="line">[Tuesday 15 March 2011] [10:57:34] &lt;pieter_hintjens&gt;  the languages are: C++, C#, clisp, Java, Perl, PHP, Python, Ruby</div>
<div class="line">[Tuesday 15 March 2011] [10:57:47] &lt;pieter_hintjens&gt;  going by the % of translations of the guide examples</div>
<div class="line">[Tuesday 15 March 2011] [10:58:08] &lt;sustrik&gt;  ack</div>
<div class="line">[Tuesday 15 March 2011] [10:58:13] &lt;mato&gt;     pieter_hintjens: you&#8217;ll want to keep in mind that $LANGUAGE generally has it&#8217;s own way of distributing extensions...</div>
<div class="line">[Tuesday 15 March 2011] [10:58:23] &lt;pieter_hintjens&gt;  mato: indeed, this is the fun part</div>
<div class="line">[Tuesday 15 March 2011] [10:58:30] &lt;mato&gt;     pieter_hintjens: e.g. Perl -&gt; CPAN, Ruby -&gt; gem, etc.</div>
<div class="line">[Tuesday 15 March 2011] [10:58:43] &lt;pieter_hintjens&gt;  exactl</div>
<div class="line">[Tuesday 15 March 2011] [10:58:47] &lt;pieter_hintjens&gt;  y</div>
<div class="line">[Tuesday 15 March 2011] [10:58:58] &lt;sustrik&gt;  and on win32 people expect monolithic installer, i would say</div>
<div class="line">[Tuesday 15 March 2011] [10:59:02] &lt;mato&gt;     then you have the linux distribution people packaging stuff on top of that separately</div>
<div class="line">[Tuesday 15 March 2011] [10:59:26] &lt;pieter_hintjens&gt;  so Windows is the easiest case, in many ways</div>
<div class="line">[Tuesday 15 March 2011] [11:00:47] &lt;pieterh&gt;  the process can&#8217;t replace existing $LANGUAGE distribution processes but it can automate them</div>
<div class="line">[Tuesday 15 March 2011] [11:01:58] &lt;pieterh&gt;  i&#8217;ll spend some time studying this and make a few proposals</div>
<div class="line">[Tuesday 15 March 2011] [11:02:18] &lt;pieterh&gt;  it probably will need cooperation from binding authors / communities to make work well</div>
<div class="line">[Tuesday 15 March 2011] [11:02:27] &lt;sustrik&gt;  that will be useful</div>
<div class="line">[Tuesday 15 March 2011] [11:02:37] &lt;pieterh&gt;  ok</div>
<div class="line">[Tuesday 15 March 2011] [11:04:06] &lt;pieterh&gt;  sustrik: the poll for zmq_term is tied afaics, 4/4</div>
<div class="line">[Tuesday 15 March 2011] [11:04:51] &lt;pieterh&gt;  there was one vote for infinity here on irc afair</div>
<div class="line">[Tuesday 15 March 2011] [11:06:07] &lt;Guthur&gt;   +1 the extraction of C++ from core</div>
<div class="line">[Tuesday 15 March 2011] [11:06:21] &lt;Guthur&gt;   +1 for extraction of C++ from the world</div>
<div class="line">[Tuesday 15 March 2011] [11:06:29] &lt;sustrik&gt;  :)</div>
<div class="line">[Tuesday 15 March 2011] [11:06:50] &lt;sustrik&gt;  pieterh: let&#8217;s wait couple of days more</div>
<div class="line">[Tuesday 15 March 2011] [11:07:08] &lt;pieterh&gt;  I do want to close the 2.1 release</div>
<div class="line">[Tuesday 15 March 2011] [11:07:22] &lt;pieterh&gt;  there is not sufficient mandate afaics to revert the behavior</div>
<div class="line">[Tuesday 15 March 2011] [11:07:40] &lt;sustrik&gt;  looks like</div>
<div class="line">[Tuesday 15 March 2011] [11:07:47] &lt;sustrik&gt;  let&#8217;s go for current solution then</div>
<div class="line">[Tuesday 15 March 2011] [11:08:15] &lt;pieterh&gt;  well, this saves me a lot of work in the Guide, but I have this sinking feeling about it</div>
<div class="line">[Tuesday 15 March 2011] [11:08:30] &lt;pieterh&gt;  these semantics won&#8217;t change again in 3.0, right?</div>
<div class="line">[Tuesday 15 March 2011] [11:08:46] &lt;sustrik&gt;  nope</div>
<div class="line">[Tuesday 15 March 2011] [11:09:30] &lt;pieterh&gt;  then it&#8217;s defensible, and the poll shows we did discuss the issue ad nauseam</div>
<div class="line">[Tuesday 15 March 2011] [11:09:43] &lt;pieterh&gt;  if anyone still complains, they should have spoken up in time</div>
<div class="line">[Tuesday 15 March 2011] [11:09:43] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 15 March 2011] [11:09:49] &lt;pieterh&gt;  excellent</div>
<div class="line">[Tuesday 15 March 2011] [11:10:03] &lt;private_meta&gt;     aw not again</div>
<div class="line">[Tuesday 15 March 2011] [11:10:29] &lt;pieterh&gt;  private_meta: port in use?</div>
<div class="line">[Tuesday 15 March 2011] [11:10:33] &lt;private_meta&gt;     no</div>
<div class="line">[Tuesday 15 March 2011] [11:10:42] &lt;private_meta&gt;     Bad file descriptor</div>
<div class="line">[Tuesday 15 March 2011] [11:10:42] &lt;private_meta&gt;     nbytes != -1 (mailbox.cpp:241)</div>
<div class="line">[Tuesday 15 March 2011] [11:10:55] &lt;private_meta&gt;     don&#8217;t remember right now what the error was when I had that one previously</div>
<div class="line">[Tuesday 15 March 2011] [11:11:07] &lt;mato&gt;     pieterh: so what is the decision on zmq_term?</div>
<div class="line">[Tuesday 15 March 2011] [11:11:17] &lt;mato&gt;     pieterh: keep the current behaviour?</div>
<div class="line">[Tuesday 15 March 2011] [11:11:21] &lt;pieterh&gt;  mato: yes</div>
<div class="line">[Tuesday 15 March 2011] [11:11:27] &lt;sustrik&gt;  private_meta: is it a reproducible use case?</div>
<div class="line">[Tuesday 15 March 2011] [11:11:29] &lt;mato&gt;     ok, understood</div>
<div class="line">[Tuesday 15 March 2011] [11:11:45] &lt;pieterh&gt;  the problem, and the reason for the discussion, is that people migrating from 2.0 _will_ be systematically hit by this</div>
<div class="line">[Tuesday 15 March 2011] [11:11:47] &lt;private_meta&gt;     sustrik: it&#8217;s my translation of ppworker (not yet submitted)</div>
<div class="line">[Tuesday 15 March 2011] [11:11:56] &lt;cremes&gt;   private_meta:  i have seen that assert when i ran out of sockets and/or ran out of file descriptors</div>
<div class="line">[Tuesday 15 March 2011] [11:12:01] &lt;cremes&gt;   should be easy to reproduce</div>
<div class="line">[Tuesday 15 March 2011] [11:12:11] &lt;sustrik&gt;  private_meta: iirc such a problem can happen if you close the fd you get fromZMQ_FD</div>
<div class="line">[Tuesday 15 March 2011] [11:12:34] &lt;sustrik&gt;  socket option i mean</div>
<div class="line">[Tuesday 15 March 2011] [11:12:34] &lt;cremes&gt;   yep, that causes it too</div>
<div class="line">[Tuesday 15 March 2011] [11:12:55] &lt;sustrik&gt;  cremes: if you can reproduce it, i would fix it</div>
<div class="line">[Tuesday 15 March 2011] [11:14:12] &lt;bpl29&gt;    Is there a reference page for ZMQ objects such as context and socket?</div>
<div class="line">[Tuesday 15 March 2011] [11:14:31] &lt;pieterh&gt;  bpl29: yes, at <a class="reference external" href="http://rfc.zeromq.org">http://rfc.zeromq.org</a></div>
<div class="line">[Tuesday 15 March 2011] [11:14:34] &lt;private_meta&gt;     happens when calling zmq::poll</div>
<div class="line">[Tuesday 15 March 2011] [11:14:49] &lt;pieterh&gt;  bpl29: sorry! <a class="reference external" href="http://api.zeromq.org">http://api.zeromq.org</a>...</div>
<div class="line">[Tuesday 15 March 2011] [11:14:50] &lt;private_meta&gt;     wait, i think I know</div>
<div class="line">[Tuesday 15 March 2011] [11:15:04] &lt;private_meta&gt;     k, got it</div>
<div class="line">[Tuesday 15 March 2011] [11:15:30] &lt;bpl29&gt;    thanks pieterh.  Am I wrong or is this just a function reference though?</div>
<div class="line">[Tuesday 15 March 2011] [11:15:52] &lt;pieterh&gt;  bpl29: these objects are not accessed except via functions</div>
<div class="line">[Tuesday 15 March 2011] [11:15:56] &lt;pieterh&gt;  opaque structures</div>
<div class="line">[Tuesday 15 March 2011] [11:16:24] &lt;bpl29&gt;    Ah, I see!  Thank you!</div>
<div class="line">[Tuesday 15 March 2011] [11:17:34] &lt;cremes&gt;   sustrik: i&#8217;ll submit a small C example that reproduces the EBADF</div>
<div class="line">[Tuesday 15 March 2011] [11:26:31] &lt;Guthur&gt;   Is 0MQ buildable on solaris 8</div>
<div class="line">[Tuesday 15 March 2011] [11:26:39] &lt;Guthur&gt;   and is Sun Studio the only option</div>
<div class="line">[Tuesday 15 March 2011] [11:26:41] &lt;private_meta&gt;     pieterh: again a (for you maybe opaque) question: In the ppqueue, ppworker, lpclient scenario, shouldn&#8217;t lpclient connect at least ONCE? it only tells me it&#8217;s trying to connect</div>
<div class="line">[Tuesday 15 March 2011] [11:33:18] &lt;Guthur&gt;   pieter: which pattern would you suggest for a  N client to N servers, where the servers are processing requests to retrieve data from files</div>
<div class="line">[Tuesday 15 March 2011] [11:49:51] &lt;cremes&gt;   Guthur: i&#8217;d use a REQ socket on the client, REP on the server and a QUEUE device in the middle to load balance</div>
<div class="line">[Tuesday 15 March 2011] [11:56:00] &lt;Guthur&gt;   cremes: Probably a wise choice, I have to resist the temptation to over engineer</div>
<div class="line">[Tuesday 15 March 2011] [11:57:18] &lt;cremes&gt;   Guthur: i suspect that over the next several months the &#8220;lazy pirate&#8221; patterns will become dominant</div>
<div class="line">[Tuesday 15 March 2011] [11:57:43] &lt;Guthur&gt;   I was being drawn to Ch4 patterns actually</div>
<div class="line">[Tuesday 15 March 2011] [11:57:50] &lt;Guthur&gt;   I&#8217;ve only started reading it though</div>
<div class="line">[Tuesday 15 March 2011] [11:58:10] &lt;Guthur&gt;   I got hung up debugging peering3 in C#</div>
<div class="line">[Tuesday 15 March 2011] [11:58:29] &lt;Guthur&gt;   massive &#8216;doh&#8217; moment on my part there</div>
<div class="line">[Tuesday 15 March 2011] [12:04:08] &lt;private_meta&gt;     I&#8217;m still curious if the way the zguide C variant of the paranoid pirate is intended behavior. If i run the c example, the lazy pirate client never connects</div>
<div class="line">[Tuesday 15 March 2011] [12:04:14] &lt;private_meta&gt;     It shouldn&#8217;t be intended</div>
<div class="line">[Tuesday 15 March 2011] [12:04:30] &lt;private_meta&gt;     But somehow I don&#8217;t think it should be an error on my side, I didn&#8217;t really change anything</div>
<div class="line">[Tuesday 15 March 2011] [12:47:19] &lt;michelp&gt;  morning</div>
<div class="line">[Tuesday 15 March 2011] [12:48:04] &lt;michelp&gt;  i asked this q last night but i think everyone was in bed.  has anyone in the community experimented with using 0mq to do shared memory objects across threads/procs/boxes in python?</div>
<div class="line">[Tuesday 15 March 2011] [12:48:35] &lt;michelp&gt;  it&#8217;s something that&#8217;s always interested me but i&#8217;ve never found a suitable transport for the underlying data transfer</div>
<div class="line">[Tuesday 15 March 2011] [12:49:24] &lt;michelp&gt;  seems like 0mq is ideal for things like distributing new versions of objects and doing two or three phase commit between a group of data managers</div>
<div class="line">[Tuesday 15 March 2011] [13:15:54] &lt;Guthur&gt;   michelp: sounds like an interesting project</div>
<div class="line">[Tuesday 15 March 2011] [13:16:31] &lt;Guthur&gt;   you could maybe utilize something like tokyo cabinet as well</div>
<div class="line">[Tuesday 15 March 2011] [13:17:28] &lt;michelp&gt;  for storage?  i was thinking of shipping around pickles so those would go well into a key value store where the key is the oid</div>
<div class="line">[Tuesday 15 March 2011] [13:18:29] &lt;michelp&gt;  it would be nice for there to be a way for a new node to easily bootstrap objects and for objects to survive cluster destruction</div>
<div class="line">[Tuesday 15 March 2011] [13:19:57] &lt;michelp&gt;  might even be possible for there to be more objects in the store than nodes have memory if there was a way to manage that.  thanks for the idea Guthur :)</div>
<div class="line">[Tuesday 15 March 2011] [13:20:34] &lt;Guthur&gt;   also check out some of the stuff from Ch4 of the guide</div>
<div class="line">[Tuesday 15 March 2011] [13:20:39] &lt;Guthur&gt;   for reliability</div>
<div class="line">[Tuesday 15 March 2011] [13:20:46] &lt;michelp&gt;  yeah i&#8217;m about halfway through ch 3 :)</div>
<div class="line">[Tuesday 15 March 2011] [13:21:00] &lt;michelp&gt;  almost there, it&#8217;s a big guide, which is totally awesome</div>
<div class="line">[Tuesday 15 March 2011] [13:21:41] &lt;michelp&gt;  the best documentation i&#8217;ve found on rabbit is a blog post.  the guide alone has convinced me that 0mq is the future, i haven&#8217;t even written any code yet :)</div>
<div class="line">[Tuesday 15 March 2011] [13:22:51] &lt;michelp&gt;  the guide would make an excellent 5 day course.  does anyone do 0mq training?</div>
<div class="line">[Tuesday 15 March 2011] [13:23:14] &lt;Guthur&gt;   not that I am aware</div>
<div class="line">[Tuesday 15 March 2011] [13:23:32] &lt;Guthur&gt;   I&#8217;m sure for corporate customers Imatix might be available for such</div>
<div class="line">[Tuesday 15 March 2011] [13:23:39] &lt;Guthur&gt;   but don&#8217;t quote me on that</div>
<div class="line">[Tuesday 15 March 2011] [13:24:25] &lt;michelp&gt;  their services page does have various support level costs, but we&#8217;re a US non-profit so it&#8217;s a little out of our price range for a whole week</div>
<div class="line">[Tuesday 15 March 2011] [13:25:11] &lt;michelp&gt;  if i worked for a corporation i&#8217;d be spending their money on it in a minute :)</div>
<div class="line">[Tuesday 15 March 2011] [13:26:01] &lt;michelp&gt;  know if anyone in the 0mq community is going to OSCON this year?  It&#8217;s here in my home town and we could get together for a BOF session</div>
<div class="line">[Tuesday 15 March 2011] [13:27:44] &lt;Guthur&gt;   I&#8217;m not sure</div>
<div class="line">[Tuesday 15 March 2011] [13:27:50] &lt;Guthur&gt;   there is sometimes meetups</div>
<div class="line">[Tuesday 15 March 2011] [13:28:00] &lt;Guthur&gt;   there was one in San Fran recently</div>
<div class="line">[Tuesday 15 March 2011] [13:35:33] &lt;Guthur&gt;   anyone built jzmq on windows recently</div>
<div class="line">[Tuesday 15 March 2011] [13:38:15] &lt;pieterh&gt;  michelp: iMatix does 0MQ training, sure</div>
<div class="line">[Tuesday 15 March 2011] [13:39:35] &lt;michelp&gt;  pieterh, is it the usual services rate quoted here? <a class="reference external" href="http://www.imatix.com/services">http://www.imatix.com/services</a></div>
<div class="line">[Tuesday 15 March 2011] [13:39:54] &lt;pieterh&gt;  private_meta: (a) lpclient should connect, yes, I had &#8216;-v&#8217; to enable verbose tracing of messages in the C code, that helps. (b) let me retest the C code...</div>
<div class="line">[Tuesday 15 March 2011] [13:40:02] &lt;pieterh&gt;  michelp: yes, those are the usual rates</div>
<div class="line">[Tuesday 15 March 2011] [13:40:32] &lt;pieterh&gt;  however if you&#8217;re a non-profit, and you need help, you will find that it&#8217;s readily available here</div>
<div class="line">[Tuesday 15 March 2011] [13:41:13] &lt;michelp&gt;  yeah you guys have definitely be a great help so far!</div>
<div class="line">[Tuesday 15 March 2011] [13:41:14] &lt;pieterh&gt;  mostly, you will benefit most by also contributing somehow to the community</div>
<div class="line">[Tuesday 15 March 2011] [13:41:44] &lt;Guthur&gt;   I&#8217;m getting an error building the jzmq binding, error copying files</div>
<div class="line">[Tuesday 15 March 2011] [13:41:57] &lt;Guthur&gt;   and Java users around</div>
<div class="line">[Tuesday 15 March 2011] [13:41:59] &lt;pieterh&gt;  Guthur: I&#8217;ve not tried it in a long time... what&#8217;s the error?</div>
<div class="line">[Tuesday 15 March 2011] [13:42:35] &lt;Guthur&gt;   Error   1       error MSB3073: The command &#8220;copy ..config.hpp ......src javac ......srcorgzeromqZMQ.java ......srcorgzeromqZMQException.java ......srcorgzeromqZMQForwarder.java ......srcorgzeromqZMQQueue.java ......srcorgzeromqZMQStreamer.java  :VCEnd&#8221; exited with code 9009.   C:Program FilesMSBuildMicrosoft.Cppv4.0Microsoft.CppCommon.targets 103     6       jzmq</div>
<div class="line">[Tuesday 15 March 2011] [13:42:49] &lt;pieterh&gt;  michelp: with respect to shared objects across threads/processes, it&#8217;s a design I&#8217;m going to make for Ch5 of the Guide</div>
<div class="line">[Tuesday 15 March 2011] [13:42:58] &lt;private_meta&gt;     pieterh: thanks for retesting</div>
<div class="line">[Tuesday 15 March 2011] [13:44:24] &lt;pieterh&gt;  Guthur: I&#8217;m searching what exit code 9009 means...</div>
<div class="line">[Tuesday 15 March 2011] [13:44:40] &lt;pieterh&gt;  try running that command by hand in a shell, does it work?</div>
<div class="line">[Tuesday 15 March 2011] [13:45:47] &lt;pieterh&gt;  &#8220;9009   DNS server not authoritative for zone.&#8221;???</div>
<div class="line">[Tuesday 15 March 2011] [13:45:49] &lt;Guthur&gt;   2 secs</div>
<div class="line">[Tuesday 15 March 2011] [13:46:06] &lt;michelp&gt;  pieterh, wow awesome.  i&#8217;m tinkering with the idea here in python, what language were you going to focus on?</div>
<div class="line">[Tuesday 15 March 2011] [13:46:37] &lt;pieterh&gt;  michelp: I always make the examples in C, but they can be translated into other languages quite simply</div>
<div class="line">[Tuesday 15 March 2011] [13:47:01] &lt;pieterh&gt;  the idea is to make a distributed key-value store using a mix of pubsub and req/rep</div>
<div class="line">[Tuesday 15 March 2011] [13:47:44] &lt;Guthur&gt;   umm syntax is incorrect</div>
<div class="line">[Tuesday 15 March 2011] [13:48:09] &lt;pieterh&gt;  Guthur: syntax looks correct, yes, and the command runs successfully?</div>
<div class="line">[Tuesday 15 March 2011] [13:48:19] &lt;pieterh&gt;  private_meta: indeed, it doesn&#8217;t work... checking why...</div>
<div class="line">[Tuesday 15 March 2011] [13:53:15] &lt;Guthur&gt;   oh wait</div>
<div class="line">[Tuesday 15 March 2011] [13:53:30] &lt;michelp&gt;  pieterh, sound very interesting, i&#8217;ll keep tinkering on my end for learning purposes until it comes out.  I&#8217;m also happy to proof read anything from a beginners point of view if you need that</div>
<div class="line">[Tuesday 15 March 2011] [13:53:51] &lt;pieterh&gt;  michelp: what really helps is running the examples from the guide, each one, and verifying that they work</div>
<div class="line">[Tuesday 15 March 2011] [13:54:14] &lt;michelp&gt;  yeah i&#8217;ve been doing that, which is why i&#8217;m only up to ch 3 at this point</div>
<div class="line">[Tuesday 15 March 2011] [13:54:32] &lt;michelp&gt;  i&#8217;ve been running them in python but I know C so i&#8217;ve been using both as a guide to understanding</div>
<div class="line">[Tuesday 15 March 2011] [13:54:44] &lt;pieterh&gt;  :-) you won&#8217;t need any training</div>
<div class="line">[Tuesday 15 March 2011] [13:55:27] &lt;michelp&gt;  hopefully not, but we have 7 folks on our team and i was thinking it might be worth having a group training session in the future if we can swing it</div>
<div class="line">[Tuesday 15 March 2011] [13:55:34] &lt;Guthur&gt;   pieterh: the javac wasn&#8217;t in the Path</div>
<div class="line">[Tuesday 15 March 2011] [13:55:41] &lt;Guthur&gt;   hopefully should work now</div>
<div class="line">[Tuesday 15 March 2011] [13:55:47] &lt;michelp&gt;  which is one reason why i was hoping maybe someone from imatix would be at OSCON :)</div>
<div class="line">[Tuesday 15 March 2011] [13:56:08] &lt;pieterh&gt;  Guthur: worth noting on the Java bindings page, perhaps (you can edit it)</div>
<div class="line">[Tuesday 15 March 2011] [13:56:17] &lt;Guthur&gt;   sure</div>
<div class="line">[Tuesday 15 March 2011] [13:56:33] &lt;pieterh&gt;  michelp: we didn&#8217;t plan to go</div>
<div class="line">[Tuesday 15 March 2011] [13:56:43] &lt;Guthur&gt;   How does one generate a lib file again?</div>
<div class="line">[Tuesday 15 March 2011] [13:56:52] &lt;Guthur&gt;   oh wait I think that is documented</div>
<div class="line">[Tuesday 15 March 2011] [13:56:58] &lt;michelp&gt;  yeah it&#8217;s expensive.  not to mention travel.  are you guys in the netherlands?</div>
<div class="line">[Tuesday 15 March 2011] [13:57:22] &lt;pieterh&gt;  Brussels</div>
<div class="line">[Tuesday 15 March 2011] [13:57:29] &lt;pieterh&gt;  Belgium</div>
<div class="line">[Tuesday 15 March 2011] [13:58:05] &lt;pieterh&gt;  It&#8217;s more a question of time really, plus we&#8217;ve found that presentations from actual 0MQ users are more effective than our own, often</div>
<div class="line">[Tuesday 15 March 2011] [13:59:04] &lt;michelp&gt;  ah nice, i&#8217;ve never been.  been to just about every country around it except Luxembourg</div>
<div class="line">[Tuesday 15 March 2011] [13:59:41] &lt;michelp&gt;  one of these days hopefully</div>
<div class="line">[Tuesday 15 March 2011] [14:00:10] &lt;Guthur&gt;   ok binding page updated</div>
<div class="line">[Tuesday 15 March 2011] [14:02:13] &lt;pieterh&gt;  private_meta: there was a bug in ppqueue</div>
<div class="line">[Tuesday 15 March 2011] [14:02:24] &lt;pieterh&gt;  it was inserting an extra null frame at the front of the message</div>
<div class="line">[Tuesday 15 March 2011] [14:03:11] &lt;pieterh&gt;  line 165, in the C code:</div>
<div class="line">[Tuesday 15 March 2011] [14:03:13] &lt;pieterh&gt;  -            zmsg_wrap (msg, identity, &#8220;&#8221;);</div>
<div class="line">[Tuesday 15 March 2011] [14:03:13] &lt;pieterh&gt;  +            zmsg_push (msg, identity);</div>
<div class="line">[Tuesday 15 March 2011] [14:03:21] &lt;pieterh&gt;  thanks for catching this!</div>
<div class="line">[Tuesday 15 March 2011] [14:06:14] &lt;private_meta&gt;     thanks for fixing it</div>
<div class="line">[Tuesday 15 March 2011] [14:06:25] &lt;private_meta&gt;     I&#8217;ll test it a lil while later</div>
<div class="line">[Tuesday 15 March 2011] [14:06:53] &lt;sustrik&gt;  pieterh: an idea about version numbering</div>
<div class="line">[Tuesday 15 March 2011] [14:07:19] &lt;Guthur&gt;   is there something on the wiki about building libzmq as a static lib</div>
<div class="line">[Tuesday 15 March 2011] [14:07:24] &lt;sustrik&gt;  the guarantees for minor version number bump is not clear atm</div>
<div class="line">[Tuesday 15 March 2011] [14:07:36] &lt;Guthur&gt;   the java binding seems to want one</div>
<div class="line">[Tuesday 15 March 2011] [14:07:55] &lt;sustrik&gt;  what if it says: &#8220;minor version number is incremented when stable branch is forked from the master&#8221;</div>
<div class="line">[Tuesday 15 March 2011] [14:09:25] &lt;sustrik&gt;  Guthur: what OS?</div>
<div class="line">[Tuesday 15 March 2011] [14:09:56] &lt;Guthur&gt;   sustrik: Win32</div>
<div class="line">[Tuesday 15 March 2011] [14:10:00] &lt;Guthur&gt;   I think I have it though</div>
<div class="line">[Tuesday 15 March 2011] [14:10:02] &lt;Guthur&gt;   sorry</div>
<div class="line">[Tuesday 15 March 2011] [14:10:13] &lt;Guthur&gt;   sustrik: btw why is there an &#64; before your name</div>
<div class="line">[Tuesday 15 March 2011] [14:10:27] &lt;Guthur&gt;   are you ops</div>
<div class="line">[Tuesday 15 March 2011] [14:10:34] &lt;sustrik&gt;  Guthur: iirc building a static lib on win32 is a problem</div>
<div class="line">[Tuesday 15 March 2011] [14:10:47] &lt;sustrik&gt;  yup</div>
<div class="line">[Tuesday 15 March 2011] [14:11:04] &lt;Guthur&gt;   umm yeah it does seem to be an issue</div>
<div class="line">[Tuesday 15 March 2011] [14:11:10] &lt;Guthur&gt;   this is problematic</div>
<div class="line">[Tuesday 15 March 2011] [14:11:25] &lt;Guthur&gt;   jzmq wants a lib</div>
<div class="line">[Tuesday 15 March 2011] [14:11:33] &lt;sustrik&gt;  but jzmq used to work with dlls before</div>
<div class="line">[Tuesday 15 March 2011] [14:11:42] &lt;sustrik&gt;  have that changed?</div>
<div class="line">[Tuesday 15 March 2011] [14:12:01] &lt;Guthur&gt;   umm not sure, it&#8217;s complaining at me about not finding a libzmq.lib</div>
<div class="line">[Tuesday 15 March 2011] [14:13:58] &lt;sustrik&gt;  ah</div>
<div class="line">[Tuesday 15 March 2011] [14:14:03] &lt;sustrik&gt;  win32 is strange</div>
<div class="line">[Tuesday 15 March 2011] [14:14:10] &lt;Guthur&gt;   yes, that it is</div>
<div class="line">[Tuesday 15 March 2011] [14:14:25] &lt;Guthur&gt;   not my first choice to be sure</div>
<div class="line">[Tuesday 15 March 2011] [14:14:31] &lt;sustrik&gt;  .lib is used even when doing dynamic linking</div>
<div class="line">[Tuesday 15 March 2011] [14:14:41] &lt;sustrik&gt;  it&#8217;s basically a table of entry points</div>
<div class="line">[Tuesday 15 March 2011] [14:14:55] &lt;sustrik&gt;  it&#8217;s located in lib subdir afterm msvc build</div>
<div class="line">[Tuesday 15 March 2011] [14:14:56] &lt;sustrik&gt;  iirc</div>
<div class="line">[Tuesday 15 March 2011] [14:17:08] &lt;Guthur&gt;   so it should be getting generated</div>
<div class="line">[Tuesday 15 March 2011] [14:22:32] &lt;Guthur&gt;   where is the platform tweaks</div>
<div class="line">[Tuesday 15 March 2011] [14:27:18] &lt;Guthur&gt;   i can generate a lib but then I get loads of unresolved external symbols</div>
<div class="line">[Tuesday 15 March 2011] [14:42:13] &lt;sustrik&gt;  like zmq_init() and such?</div>
<div class="line">[Tuesday 15 March 2011] [14:44:13] &lt;Guthur&gt;   __imp__zmq_init</div>
<div class="line">[Tuesday 15 March 2011] [14:44:15] &lt;Guthur&gt;   etc</div>
<div class="line">[Tuesday 15 March 2011] [14:48:23] &lt;sustrik&gt;  can you report that on the mailing list</div>
<div class="line">[Tuesday 15 March 2011] [14:48:57] &lt;sustrik&gt;  it looks like it is possibly connected to the recent changes regarding symbol visibility</div>
<div class="line">[Tuesday 15 March 2011] [14:49:32] &lt;Guthur&gt;   ah sure, I&#8217;ll an old version to check</div>
<div class="line">[Tuesday 15 March 2011] [14:49:40] &lt;Guthur&gt;   I&#8217;d really like to have something for tomorrw</div>
<div class="line">[Tuesday 15 March 2011] [14:49:54] &lt;Guthur&gt;   I colleague wants to bridge from JMS to C#</div>
<div class="line">[Tuesday 15 March 2011] [14:50:16] &lt;Guthur&gt;   with possibility for client/server setup</div>
<div class="line">[Tuesday 15 March 2011] [14:50:28] &lt;Guthur&gt;   I&#8217;d like to show him a 0MQ solution</div>
<div class="line">[Tuesday 15 March 2011] [14:51:31] &lt;Guthur&gt;   sustrik: when was that update you mentioned</div>
<div class="line">[Tuesday 15 March 2011] [15:22:46] &lt;mikko&gt;    pieterh: there?</div>
<div class="line">[Tuesday 15 March 2011] [16:00:35] &lt;sustrik&gt;  Guthur: december, i think</div>
<div class="line">[Tuesday 15 March 2011] [16:04:47] &lt;Guthur&gt;   sustrik, ok, I&#8217;ll try an earlier version</div>
<div class="line">[Tuesday 15 March 2011] [16:05:49] &lt;Guthur&gt;   I&#8217;m back home now though, on a much saner platform, hehe</div>
<div class="line">[Tuesday 15 March 2011] [17:11:26] &lt;mikko&gt;    pieterh: there now?</div>
<div class="line">[Tuesday 15 March 2011] [18:05:49] &lt;mikko&gt;    Guthur: are you michael?</div>
<div class="line">[Tuesday 15 March 2011] [18:07:07] &lt;Guthur&gt;   mikko, Indeed</div>
<div class="line">[Tuesday 15 March 2011] [18:07:52] &lt;mikko&gt;    <a class="reference external" href="http://www.mansysadmin.com/2011/03/using-zeromq-framework-with-visual-studio-2010-tutorial/">http://www.mansysadmin.com/2011/03/using-zeromq-framework-with-visual-studio-2010-tutorial/</a></div>
<div class="line">[Tuesday 15 March 2011] [18:08:00] &lt;mikko&gt;    is this related to your problem?</div>
<div class="line">[Tuesday 15 March 2011] [18:08:10] &lt;mikko&gt;    i remember something related to VS2010 being funny</div>
<div class="line">[Tuesday 15 March 2011] [18:08:46] &lt;Guthur&gt;   I haven&#8217;t been encountering any issues until I tried jzmq</div>
<div class="line">[Tuesday 15 March 2011] [18:09:22] &lt;Guthur&gt;   I&#8217;ll double check that though</div>
<div class="line">[Tuesday 15 March 2011] [18:09:40] &lt;Guthur&gt;   but I am confident it was outputting to the correct directory</div>
<div class="line">[Tuesday 15 March 2011] [18:09:56] &lt;Guthur&gt;   I&#8217;m just freeing up some space on my wins VM here, then I will try again</div>
<div class="line">[Tuesday 15 March 2011] [18:10:25]     * Guthur made the mistake of thinking 20gb would be enough for windows and some tools</div>
<div class="line">[Tuesday 15 March 2011] [18:23:38] &lt;sed&gt;      Is anyone around to answer a couple of questions about ZMQ</div>
<div class="line">[Tuesday 15 March 2011] [18:23:40] &lt;sed&gt;      ?</div>
<div class="line">[Tuesday 15 March 2011] [18:28:41] &lt;Guthur&gt;   ask and you shall receive...</div>
<div class="line">[Tuesday 15 March 2011] [18:28:44] &lt;Guthur&gt;   ...maybe</div>
<div class="line">[Tuesday 15 March 2011] [18:31:37] &lt;cremes&gt;   sed: that means yes</div>
<div class="line">[Tuesday 15 March 2011] [18:31:57] &lt;sed&gt;      we have been testing out ZMQ for about a month and are very impressed with what it can do.  However we have noticed memory issues with the bindings in C C++ and perl.</div>
<div class="line">[Tuesday 15 March 2011] [18:32:29] &lt;sed&gt;      over the course of several weeks we see memory usage rise uniformally across multiple servers</div>
<div class="line">[Tuesday 15 March 2011] [18:32:51] &lt;sed&gt;      also when running tests on single nodes top shows usage increasing</div>
<div class="line">[Tuesday 15 March 2011] [18:33:22] &lt;mikko&gt;    sed: are you closing the messages ?</div>
<div class="line">[Tuesday 15 March 2011] [18:33:24] &lt;sed&gt;      qwe are trying to identify the cause of this and what steps can be taken to avoid having to restart every 2 weeks</div>
<div class="line">[Tuesday 15 March 2011] [18:33:27] &lt;sed&gt;      yes</div>
<div class="line">[Tuesday 15 March 2011] [18:33:54] &lt;cremes&gt;   sed: are you closing and recreating sockets often?</div>
<div class="line">[Tuesday 15 March 2011] [18:34:21] &lt;sed&gt;      no  the sockets remain open</div>
<div class="line">[Tuesday 15 March 2011] [18:35:05] &lt;cremes&gt;   it&#8217;s hard to say; an example that illustrates the problem in C or C++ would be great</div>
<div class="line">[Tuesday 15 March 2011] [18:35:28] &lt;cremes&gt;   i have seen some memory leaks but they are due to closing/reopening sockets very rapidly</div>
<div class="line">[Tuesday 15 March 2011] [18:35:43] &lt;cremes&gt;   i haven&#8217;t heard about memory leakage with sockets that remain open indefinitely</div>
<div class="line">[Tuesday 15 March 2011] [18:36:06] &lt;cremes&gt;   are you running 2.1.x or 2.0.x?</div>
<div class="line">[Tuesday 15 March 2011] [18:36:56] &lt;sed&gt;      2.1.x</div>
<div class="line">[Tuesday 15 March 2011] [18:37:31] &lt;cremes&gt;   what kind of sockets? (btw, feel free to provide more details without requiring us to interrogate you)</div>
<div class="line">[Tuesday 15 March 2011] [18:38:11] &lt;sed&gt;      pulling up example code now   1 sec</div>
<div class="line">[Tuesday 15 March 2011] [18:39:29] &lt;sed&gt;      #include &lt;stdio.h&gt;</div>
<div class="line">[Tuesday 15 March 2011] [18:39:29] &lt;sed&gt;      #include &lt;iostream&gt;</div>
<div class="line">[Tuesday 15 March 2011] [18:39:29] &lt;sed&gt;      #include &#8220;zmq.hpp&#8221;</div>
<div class="line">[Tuesday 15 March 2011] [18:39:29] &lt;sed&gt;      int main(int argc, char <a href="#id101"><span class="problematic" id="id102">*</span></a>argv[]) {</div>
<div class="line">[Tuesday 15 March 2011] [18:39:29] &lt;sed&gt;          int type, tm, uid, pid, city;</div>
<div class="line">[Tuesday 15 March 2011] [18:39:30] &lt;sed&gt;          char msg[20000], ip[20],  host[100], cont[100], act[100], post[2000], get[2000];</div>
<div class="line">[Tuesday 15 March 2011] [18:39:32] &lt;sed&gt;           // prepare our sockets and context with 1 I/O thread</div>
<div class="line">[Tuesday 15 March 2011] [18:39:34] &lt;sed&gt;          zmq::context_t context(1);</div>
<div class="line">[Tuesday 15 March 2011] [18:39:36] &lt;sed&gt;          // Connect to subscriber</div>
<div class="line">[Tuesday 15 March 2011] [18:39:38] &lt;sed&gt;          zmq::socket_t subscriber(context, ZMQ_SUB);</div>
<div class="line">[Tuesday 15 March 2011] [18:39:40] &lt;sed&gt;          subscriber.setsockopt(ZMQ_SUBSCRIBE, &#8220;&#8221;, 0);</div>
<div class="line">[Tuesday 15 March 2011] [18:39:42] &lt;sed&gt;          subscriber.connect(&#8220;<a class="reference external" href="tcp://s2hs-mw-cas1:5566">tcp://s2hs-mw-cas1:5566</a>&#8221;);</div>
<div class="line">[Tuesday 15 March 2011] [18:39:44] &lt;sed&gt;          while(1) {</div>
<div class="line">[Tuesday 15 March 2011] [18:39:46] &lt;sed&gt;              zmq::message_t* message = new zmq::message_t;</div>
<div class="line">[Tuesday 15 March 2011] [18:39:48] &lt;sed&gt;              subscriber.recv(message, ZMQ_NOBLOCK);</div>
<div class="line">[Tuesday 15 March 2011] [18:39:50] &lt;sed&gt;              strncpy(msg, static_cast&lt;char <a href="#id103"><span class="problematic" id="id104">*</span></a>&gt;(message-&gt;data()), message-&gt;size());</div>
<div class="line">[Tuesday 15 March 2011] [18:39:54] &lt;sed&gt;              delete message;</div>
<div class="line">[Tuesday 15 March 2011] [18:39:56] &lt;sed&gt;              type = atoi(&amp;msg[0]);</div>
<div class="line">[Tuesday 15 March 2011] [18:39:58] &lt;sed&gt;              if (type == 3)</div>
<div class="line">[Tuesday 15 March 2011] [18:40:00] &lt;sed&gt;              {</div>
<div class="line">[Tuesday 15 March 2011] [18:40:02] &lt;sed&gt;                  sscanf(msg,&#8221;%d %d %d %s %s %d %d %s %s %s %s&#8221;, &amp;type, &amp;tm, &amp;uid, &amp;ip, &amp;host, &amp;pid, &amp;city, &amp;cont, &amp;act, &amp;post, &amp;get);</div>
<div class="line">[Tuesday 15 March 2011] [18:40:05] &lt;sed&gt;                  std::cout &lt;&lt; msg &lt;&lt; &#8220;n&#8221;;</div>
<div class="line">[Tuesday 15 March 2011] [18:40:07] &lt;sed&gt;              }</div>
<div class="line">[Tuesday 15 March 2011] [18:40:09] &lt;sed&gt;              memset ( (void <a href="#id105"><span class="problematic" id="id106">*</span></a>) &amp;msg, 0, sizeof(msg));</div>
<div class="line">[Tuesday 15 March 2011] [18:40:11] &lt;sed&gt;          }</div>
<div class="line">[Tuesday 15 March 2011] [18:40:13] &lt;sed&gt;          free (subscriber);</div>
<div class="line">[Tuesday 15 March 2011] [18:40:15] &lt;sed&gt;          return 0;</div>
<div class="line">[Tuesday 15 March 2011] [18:40:17] &lt;sed&gt;      }</div>
<div class="line">[Tuesday 15 March 2011] [18:40:19] &lt;sed&gt;      that is a simple example script that we see the leak on</div>
<div class="line">[Tuesday 15 March 2011] [18:40:24] &lt;Guthur&gt;   sed: you really really, should use pastebin</div>
<div class="line">[Tuesday 15 March 2011] [18:40:52] &lt;cremes&gt;   sed: yeah, i can&#8217;t read that; use gist.github.com or pastie.org to post code</div>
<div class="line">[Tuesday 15 March 2011] [18:41:25] &lt;sed&gt;      <a class="reference external" href="http://pastebin.com/mp9uJpCs">http://pastebin.com/mp9uJpCs</a></div>
<div class="line">[Tuesday 15 March 2011] [18:44:09] &lt;cremes&gt;   sed: how quickly does it leak? a few bytes for each message? is it a time based leak? e.g. it leaks even when messages aren&#8217;t coming in</div>
<div class="line">[Tuesday 15 March 2011] [18:44:55] &lt;sed&gt;      we have 40000 messages/sec at all times.  Would have to run seperate tests to get that data</div>
<div class="line">[Tuesday 15 March 2011] [18:46:44] &lt;Guthur&gt;   i know it&#8217;s not really relevant to the issue, but should that recv not be a blocking call</div>
<div class="line">[Tuesday 15 March 2011] [18:47:17] &lt;cremes&gt;   sed: does the publisher leak memory or just the subscriber?</div>
<div class="line">[Tuesday 15 March 2011] [18:47:19] &lt;sed&gt;      est 24k per minute</div>
<div class="line">[Tuesday 15 March 2011] [18:47:32] &lt;cremes&gt;   cool</div>
<div class="line">[Tuesday 15 March 2011] [18:47:55] &lt;jond&gt;     sed: I don&#8217;t think recv should be non blocking, the message doesnt need to be on the heap and the free at end is just wrong</div>
<div class="line">[Tuesday 15 March 2011] [18:47:58] &lt;cremes&gt;   i see this is over tcp transport; any chance you could do a test where publisher &amp; subscriber communicate via inproc transport?</div>
<div class="line">[Tuesday 15 March 2011] [18:50:11] &lt;sed&gt;      going to get a script running on the same box</div>
<div class="line">[Tuesday 15 March 2011] [18:50:47] &lt;Guthur&gt;   sed: Which platform, out of curiosity</div>
<div class="line">[Tuesday 15 March 2011] [18:52:07] &lt;sed&gt;      centos</div>
<div class="line">[Tuesday 15 March 2011] [18:54:34] &lt;mikko&gt;    sed: you shouldnt free subscriber</div>
<div class="line">[Tuesday 15 March 2011] [18:54:44] &lt;mikko&gt;    at the ed</div>
<div class="line">[Tuesday 15 March 2011] [18:55:07] &lt;mikko&gt;    end*</div>
<div class="line">[Tuesday 15 March 2011] [18:55:47] &lt;mikko&gt;    sed: also, you dont need to dynamically allocate &#8216;message&#8217;</div>
<div class="line">[Tuesday 15 March 2011] [18:56:11] &lt;sed&gt;      yeah  that was just testing if it was related</div>
<div class="line">[Tuesday 15 March 2011] [18:56:46] &lt;mikko&gt;    that shouldnt leak</div>
<div class="line">[Tuesday 15 March 2011] [18:56:52] &lt;mikko&gt;    as far as i can see</div>
<div class="line">[Tuesday 15 March 2011] [18:57:20] &lt;jond&gt;     mikko: what time are you going to the pub tomorrow? hoping not to get my bag stolen this time.....</div>
<div class="line">[Tuesday 15 March 2011] [18:57:30] &lt;mikko&gt;    jond: dont take a bag with you!</div>
<div class="line">[Tuesday 15 March 2011] [18:57:43] &lt;mikko&gt;    jond: i probably get off from work around 17:30</div>
<div class="line">[Tuesday 15 March 2011] [18:57:53] &lt;mikko&gt;    heading to white horse after that so will be there around 18:00</div>
<div class="line">[Tuesday 15 March 2011] [18:58:03] &lt;jond&gt;     mikko: i have started doing that, learned the hard way</div>
<div class="line">[Tuesday 15 March 2011] [18:58:20] &lt;mikko&gt;    jond: hows life nowadays?</div>
<div class="line">[Tuesday 15 March 2011] [18:58:49] &lt;mikko&gt;    i guess we can chat tomorrow</div>
<div class="line">[Tuesday 15 March 2011] [18:59:08] &lt;jond&gt;     better than before xmas .....</div>
<div class="line">[Tuesday 15 March 2011] [18:59:09] &lt;mikko&gt;    sed: the only thing i can think of is if messages pile up</div>
<div class="line">[Tuesday 15 March 2011] [18:59:22] &lt;jond&gt;     i&#8217;ve found a bug in xrep today</div>
<div class="line">[Tuesday 15 March 2011] [18:59:48] &lt;mikko&gt;    jond: is it related to identities?</div>
<div class="line">[Tuesday 15 March 2011] [19:01:09] &lt;jond&gt;     when the pipe is full when processing identity message leaves socket in bad state</div>
<div class="line">[Tuesday 15 March 2011] [19:01:42] &lt;jond&gt;     i also don&#8217;t think the HWM is honoured correctly but I&#8217;d need to show martin</div>
<div class="line">[Tuesday 15 March 2011] [19:02:05] &lt;jond&gt;     I&#8217;m just reading up on how to submit a patch cos I havent done one for months....</div>
<div class="line">[Tuesday 15 March 2011] [19:12:24] &lt;mikko&gt;    clone the repo, commit the change</div>
<div class="line">[Tuesday 15 March 2011] [19:12:31] &lt;mikko&gt;    and do git format-patch -s</div>
<div class="line">[Tuesday 15 March 2011] [19:19:59] &lt;cremes&gt;   this project has the most F&#8217;ed up submission policy; it&#8217;s different from nearly every other github project</div>
<div class="line">[Tuesday 15 March 2011] [19:24:58] &lt;jond&gt;     mikko: I&#8217;ve sent patch to list. I think I got it right ...</div>
<div class="line">[Tuesday 15 March 2011] [19:26:09] &lt;jond&gt;     cremes: yep, it&#8217;s like the version numbering. using master seems to be safest!!!</div>
<div class="line">[Tuesday 15 March 2011] [19:26:42] &lt;cremes&gt;   jond: don&#8217;t get me started on that either :)</div>
<div class="line">[Tuesday 15 March 2011] [19:27:03] &lt;cremes&gt;   this is the only project i know that spawns a <em>new</em> repository for a branch</div>
<div class="line">[Tuesday 15 March 2011] [19:30:18] &lt;Guthur&gt;   a conscientious should be reached on this issue</div>
<div class="line">[Tuesday 15 March 2011] [19:30:30] &lt;Guthur&gt;   it seems to annoy a few people</div>
<div class="line">[Tuesday 15 March 2011] [19:30:32] &lt;cremes&gt;   concensus?</div>
<div class="line">[Tuesday 15 March 2011] [19:30:39] &lt;Guthur&gt;   cremes, yep</div>
<div class="line">[Tuesday 15 March 2011] [19:30:39] &lt;cremes&gt;   :)</div>
<div class="line">[Tuesday 15 March 2011] [19:30:50] &lt;Guthur&gt;   hehe trusted the spell checker too much</div>
<div class="line">[Tuesday 15 March 2011] [19:31:20] &lt;cremes&gt;   i don&#8217;t feel like fighting this particular battle; i&#8217;m not much of a C guy so my patches (if any) will be rare</div>
<div class="line">[Tuesday 15 March 2011] [19:31:37] &lt;mikko&gt;    jond: didnt look at the contents but the format of the patch looks good</div>
<div class="line">[Tuesday 15 March 2011] [19:31:40] &lt;cremes&gt;   but it seems to me like it increases the learning curve quite a bit for people new to the project</div>
<div class="line">[Tuesday 15 March 2011] [19:32:10] &lt;mikko&gt;    im not fan of the dual repos either</div>
<div class="line">[Tuesday 15 March 2011] [19:32:19] &lt;mikko&gt;    but that seems to work for pieterh and sustrik so i guess its ok</div>
<div class="line">[Tuesday 15 March 2011] [19:32:35] &lt;mikko&gt;    the version numbering though is very odd for 2.1.x</div>
<div class="line">[Tuesday 15 March 2011] [19:33:14] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 15 March 2011] [19:37:28] &lt;jond&gt;     mikko: just posted a note to the list about the operator void * on socket which allows that call to free to compile in example code above</div>
<div class="line">[Tuesday 15 March 2011] [20:00:37] &lt;Guthur&gt;   mikko, That Visual studio fix worked</div>
<div class="line">[Tuesday 15 March 2011] [20:00:45] &lt;Guthur&gt;   I successfully built the jzmq</div>
<div class="line">[Tuesday 15 March 2011] [20:00:47] &lt;Guthur&gt;   cheers</div>
<div class="line">[Tuesday 15 March 2011] [20:06:54] &lt;sed&gt;      set up an ipc connection and still see the memory increasing</div>
<div class="line">[Tuesday 15 March 2011] [20:18:56] &lt;Guthur&gt;   sed: I think that would be worth putting on the mail list</div>
<div class="line">[Tuesday 15 March 2011] [20:19:08] &lt;Guthur&gt;   to get wider exposure to the community</div>
<div class="line">[Tuesday 15 March 2011] [20:24:40] &lt;cremes&gt;   sed: try inproc; ipc still uses sockets</div>
<div class="line">[Tuesday 15 March 2011] [20:24:58] &lt;sed&gt;      k  will give that a shot</div>
<div class="line">[Tuesday 15 March 2011] [21:15:30] &lt;sed&gt;      thanks for answering questions guys.  Will be looking at this tomorow so will reach out further to the community.</div>
<div class="line">[Tuesday 15 March 2011] [22:43:47] &lt;Honeyman&gt; Hello. I am using PyZMQ, and trying to do the REQ-REP communication, polling for the replies with the zmq.core.poll.select(), using timeout = 5.0 (seconds). But most of the times, this call returns immediately, without waiting for 5 seconds, returning empty lists, like if the socket is not available.</div>
<div class="line">[Tuesday 15 March 2011] [22:47:19] &lt;Honeyman&gt; What could be the reason of this problem? A bug in the PyZMQ? If pyzmq&#8217;s select() is using zmq_poll(), maybe it is zmq_poll who returns prematurely, not complying to the timeouts?</div>
<div class="line">[Tuesday 15 March 2011] [22:50:39] &lt;Honeyman&gt; It is interesting that if I read from this socket no matter that it is absent from the rlist, the read always succeeds...</div>
<div class="line">[Tuesday 15 March 2011] [23:13:38] &lt;Honeyman&gt; Uh, found myself, that&#8217;s that known bug in ZMQ 2.0</div>
<div class="line">[Wednesday 16 March 2011] [04:14:45] &lt;<a href="#id307"><span class="problematic" id="id308">pieterh_</span></a>&gt;       g&#8217;morning</div>
<div class="line">[Wednesday 16 March 2011] [04:15:23] &lt;<a href="#id309"><span class="problematic" id="id310">pieterh_</span></a>&gt;       mikko: i&#8217;ll be happy to explain the sanity behind the version numbering and release gits, this evening</div>
<div class="line">[Wednesday 16 March 2011] [04:18:35] &lt;mikko&gt;  <a href="#id311"><span class="problematic" id="id312">pieterh_</span></a>: sent you my mobile number</div>
<div class="line">[Wednesday 16 March 2011] [04:19:03] &lt;mikko&gt;  to work -&gt;</div>
<div class="line">[Wednesday 16 March 2011] [04:19:38] &lt;<a href="#id313"><span class="problematic" id="id314">pieterh_</span></a>&gt;       mikko: ok, will send you mine too</div>
<div class="line">[Wednesday 16 March 2011] [04:54:29] &lt;CIA-103&gt;        zeromq2: 03Jon Dyte 07master * rb79d07b 10/ src/xrep.cpp :</div>
<div class="line">[Wednesday 16 March 2011] [04:54:29] &lt;CIA-103&gt;        zeromq2: reset socket state when identity message cannot be written to xrep</div>
<div class="line">[Wednesday 16 March 2011] [04:54:29] &lt;CIA-103&gt;        zeromq2:  Signed-off-by: Jon Dyte &lt;<a class="reference external" href="mailto:jon&#37;&#52;&#48;totient&#46;co&#46;uk">jon<span>&#64;</span>totient<span>&#46;</span>co<span>&#46;</span>uk</a>&gt; - <a class="reference external" href="http://bit.ly/g67Cnf">http://bit.ly/g67Cnf</a></div>
<div class="line">[Wednesday 16 March 2011] [05:32:29] &lt;Steve-o&gt;        mikko: I&#8217;ll add autoconf output into new tarballs</div>
<div class="line">[Wednesday 16 March 2011] [06:16:06] &lt;Steve-o&gt;        <a href="#id151"><span class="problematic" id="id152">mikko__</span></a></div>
<div class="line">[Wednesday 16 March 2011] [06:34:39] &lt;<a href="#id151"><span class="problematic" id="id153">mikko__</span></a>&gt;        hi steve</div>
<div class="line">[Wednesday 16 March 2011] [07:15:29] &lt;Guthur&gt; can anyone download the tarball from github?</div>
<div class="line">[Wednesday 16 March 2011] [07:15:41] &lt;<a href="#id151"><span class="problematic" id="id154">mikko__</span></a>&gt;        Guthur: probably</div>
<div class="line">[Wednesday 16 March 2011] [07:15:49] &lt;Guthur&gt; I can&#8217;t at the moment</div>
<div class="line">[Wednesday 16 March 2011] [07:15:51] &lt;<a href="#id151"><span class="problematic" id="id155">mikko__</span></a>&gt;        Guthur: you can use snapshots if you want the master</div>
<div class="line">[Wednesday 16 March 2011] [07:15:58] &lt;Guthur&gt; it could be my company firewall though</div>
<div class="line">[Wednesday 16 March 2011] [07:15:59] &lt;<a href="#id151"><span class="problematic" id="id156">mikko__</span></a>&gt;        snapshot.zero.mq</div>
<div class="line">[Wednesday 16 March 2011] [07:16:26] &lt;<a href="#id151"><span class="problematic" id="id157">mikko__</span></a>&gt;        latest is 16-Mar-2011 05:19</div>
<div class="line">[Wednesday 16 March 2011] [07:16:29] &lt;Guthur&gt; <a href="#id151"><span class="problematic" id="id158">mikko__</span></a>: is that from github?</div>
<div class="line">[Wednesday 16 March 2011] [07:16:58] &lt;<a href="#id151"><span class="problematic" id="id159">mikko__</span></a>&gt;        sorry</div>
<div class="line">[Wednesday 16 March 2011] [07:17:01] &lt;<a href="#id151"><span class="problematic" id="id160">mikko__</span></a>&gt;        i keep killing cgi irc</div>
<div class="line">[Wednesday 16 March 2011] [07:17:02] &lt;Guthur&gt; np</div>
<div class="line">[Wednesday 16 March 2011] [07:17:07] &lt;<a href="#id151"><span class="problematic" id="id161">mikko__</span></a>&gt;        yes, it&#8217;s master</div>
<div class="line">[Wednesday 16 March 2011] [07:17:14] &lt;Guthur&gt; It&#8217;s more github i&#8217;m interested in</div>
<div class="line">[Wednesday 16 March 2011] [07:17:19] &lt;Guthur&gt; I actually want clrzmq2</div>
<div class="line">[Wednesday 16 March 2011] [07:17:35] &lt;Guthur&gt; but it keeps giving me a bad gateway wrror</div>
<div class="line">[Wednesday 16 March 2011] [07:17:39] &lt;Guthur&gt; error*</div>
<div class="line">[Wednesday 16 March 2011] [07:18:08] &lt;Guthur&gt; I suspect the company has started blocking the traffic, worked yesterday though</div>
<div class="line">[Wednesday 16 March 2011] [07:18:42] &lt;<a href="#id151"><span class="problematic" id="id162">mikko__</span></a>&gt;        times out for me</div>
<div class="line">[Wednesday 16 March 2011] [07:18:46] &lt;Guthur&gt; oh</div>
<div class="line">[Wednesday 16 March 2011] [07:18:55] &lt;Guthur&gt; maybe it&#8217;s not just me then</div>
<div class="line">[Wednesday 16 March 2011] [08:22:54] &lt;stimpie&gt;        works for me</div>
<div class="line">[Wednesday 16 March 2011] [08:24:28] &lt;stimpie&gt;        try: <a class="reference external" href="http://www.klaproos.net/zeromq-clrzmq2-f420936.tar.gz">http://www.klaproos.net/zeromq-clrzmq2-f420936.tar.gz</a></div>
<div class="line">[Wednesday 16 March 2011] [08:26:36] &lt;CIA-103&gt;        zeromq2: 03Martin Sustrik 07master * r32ded2b 10/ (9 files):</div>
<div class="line">[Wednesday 16 March 2011] [08:26:36] &lt;CIA-103&gt;        zeromq2: Duplicate identities now checked with zmq_connect</div>
<div class="line">[Wednesday 16 March 2011] [08:26:36] &lt;CIA-103&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/fgzmQX">http://bit.ly/fgzmQX</a></div>
<div class="line">[Wednesday 16 March 2011] [08:49:20] &lt;CIA-103&gt;        zeromq2: 03Martin Sustrik 07master * rf5015f4 10/ src/tcp_listener.cpp :</div>
<div class="line">[Wednesday 16 March 2011] [08:49:20] &lt;CIA-103&gt;        zeromq2: Incorrect errno reported from tcp_listener_t::set_address</div>
<div class="line">[Wednesday 16 March 2011] [08:49:20] &lt;CIA-103&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hvsEGl">http://bit.ly/hvsEGl</a></div>
<div class="line">[Wednesday 16 March 2011] [09:31:22] &lt;Guthur&gt; stimpie: cheers</div>
<div class="line">[Wednesday 16 March 2011] [09:31:41] &lt;Guthur&gt; It&#8217;s actually working for me now as well</div>
<div class="line">[Wednesday 16 March 2011] [09:31:55] &lt;Guthur&gt; must have been an issue at the github end</div>
<div class="line">[Wednesday 16 March 2011] [10:30:18] &lt;sustrik&gt;        cremes: hi, are you here?</div>
<div class="line">[Wednesday 16 March 2011] [11:26:38] &lt;cremes&gt; sustrik: i am here; how can i help?</div>
<div class="line">[Wednesday 16 March 2011] [11:26:50] &lt;sustrik&gt;        i had a look at your issue</div>
<div class="line">[Wednesday 16 March 2011] [11:27:00] &lt;sustrik&gt;        the one with leaks</div>
<div class="line">[Wednesday 16 March 2011] [11:27:17] &lt;sustrik&gt;        trying to reproduce it i hit a max fd limit</div>
<div class="line">[Wednesday 16 March 2011] [11:27:23] &lt;sustrik&gt;        how can i increase it</div>
<div class="line">[Wednesday 16 March 2011] [11:27:26] &lt;sustrik&gt;        on linux?</div>
<div class="line">[Wednesday 16 March 2011] [11:27:38] &lt;cremes&gt; let me check...</div>
<div class="line">[Wednesday 16 March 2011] [11:27:38]   * sustrik is lame admin</div>
<div class="line">[Wednesday 16 March 2011] [11:27:42] &lt;cremes&gt; :)</div>
<div class="line">[Wednesday 16 March 2011] [11:28:42] &lt;cremes&gt; <a class="reference external" href="http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/">http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/</a></div>
<div class="line">[Wednesday 16 March 2011] [11:28:46] &lt;cremes&gt; that gives all of the details</div>
<div class="line">[Wednesday 16 March 2011] [11:28:52] &lt;cremes&gt; but i would just do &#8220;sudo sysctl -w fs.file-max=100000&#8221;</div>
<div class="line">[Wednesday 16 March 2011] [11:29:57] &lt;sustrik&gt;        let me try</div>
<div class="line">[Wednesday 16 March 2011] [11:30:14] &lt;cremes&gt; fyi, this change won&#8217;t survive a reboot</div>
<div class="line">[Wednesday 16 March 2011] [11:30:58] &lt;sustrik&gt;        &#8220;Too many open files&#8221;</div>
<div class="line">[Wednesday 16 March 2011] [11:31:04] &lt;sustrik&gt;        doesn&#8217;t seem to help</div>
<div class="line">[Wednesday 16 March 2011] [11:31:09] &lt;mato&gt;   sustrik: ulimit</div>
<div class="line">[Wednesday 16 March 2011] [11:31:13] &lt;cremes&gt; what is the output of ulimit ?</div>
<div class="line">[Wednesday 16 March 2011] [11:31:17] &lt;sustrik&gt;        1024</div>
<div class="line">[Wednesday 16 March 2011] [11:32:11] &lt;mato&gt;   sustrik: you need to change ulimit -n to some higher value, as root</div>
<div class="line">[Wednesday 16 March 2011] [11:32:17] &lt;<a href="#id151"><span class="problematic" id="id163">mikko__</span></a>&gt;        hi mato</div>
<div class="line">[Wednesday 16 March 2011] [11:32:19] &lt;<a href="#id151"><span class="problematic" id="id164">mikko__</span></a>&gt;        welcome back</div>
<div class="line">[Wednesday 16 March 2011] [11:32:25] &lt;mato&gt;   hi mikko</div>
<div class="line">[Wednesday 16 March 2011] [11:32:26] &lt;mato&gt;   thx</div>
<div class="line">[Wednesday 16 March 2011] [11:32:34] &lt;<a href="#id151"><span class="problematic" id="id165">mikko__</span></a>&gt;        a lot of changes in the builds</div>
<div class="line">[Wednesday 16 March 2011] [11:33:12] &lt;mato&gt;   sustrik: and then from that shell where you changed it, start another shell as yourself</div>
<div class="line">[Wednesday 16 March 2011] [11:33:37] &lt;mato&gt;   sustrik: so 1) sudo bash 2) ulimit -n 8192 3) su - sustrik 4) run what you need</div>
<div class="line">[Wednesday 16 March 2011] [11:33:45] &lt;mato&gt;   <a href="#id151"><span class="problematic" id="id166">mikko__</span></a>: yes, i noticed, lots of work</div>
<div class="line">[Wednesday 16 March 2011] [11:33:47] &lt;sustrik&gt;        le t me try</div>
<div class="line">[Wednesday 16 March 2011] [11:34:04] &lt;mato&gt;   <a href="#id151"><span class="problematic" id="id167">mikko__</span></a>: also lots of release changes, etc. i&#8217;m completely out of the loop :-)</div>
<div class="line">[Wednesday 16 March 2011] [11:34:17] &lt;mato&gt;   <a href="#id151"><span class="problematic" id="id168">mikko__</span></a>: good work taking over the autobuilds :-)</div>
<div class="line">[Wednesday 16 March 2011] [11:34:27] &lt;CIA-103&gt;        zeromq2: 03Martin Sustrik 07master * rfac9c2d 10/ (doc/zmq_setsockopt.txt doc/zmq_socket.txt):</div>
<div class="line">[Wednesday 16 March 2011] [11:34:27] &lt;CIA-103&gt;        zeromq2: zmq_socket(3) and zmq_setsockopt(3) man pages improved</div>
<div class="line">[Wednesday 16 March 2011] [11:34:27] &lt;CIA-103&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/i8ZYxS">http://bit.ly/i8ZYxS</a></div>
<div class="line">[Wednesday 16 March 2011] [11:34:46] &lt;cremes&gt; sustrik: mato is correct; the change i gave you only changed the system-wide setting</div>
<div class="line">[Wednesday 16 March 2011] [11:34:53] &lt;cremes&gt; you now need ulimit to change your user setting</div>
<div class="line">[Wednesday 16 March 2011] [11:36:04] &lt;<a href="#id151"><span class="problematic" id="id169">mikko__</span></a>&gt;        mato: we are currently integrating with openpgm autotools build</div>
<div class="line">[Wednesday 16 March 2011] [11:36:12] &lt;<a href="#id151"><span class="problematic" id="id170">mikko__</span></a>&gt;        mato: to remove duplication of the build logic</div>
<div class="line">[Wednesday 16 March 2011] [11:37:19] &lt;sustrik&gt;        mato: works! thanks!</div>
<div class="line">[Wednesday 16 March 2011] [12:49:28] &lt;cremes&gt; sustrik: any luck with reproducing that issue?</div>
<div class="line">[Wednesday 16 March 2011] [12:50:19] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 16 March 2011] [12:50:40] &lt;sustrik&gt;        i&#8217;ve just posted a short test case</div>
<div class="line">[Wednesday 16 March 2011] [12:51:05] &lt;cremes&gt; great!</div>
<div class="line">[Wednesday 16 March 2011] [12:52:37] &lt;sustrik&gt;        cremes: can you test with that program</div>
<div class="line">[Wednesday 16 March 2011] [12:52:48] &lt;sustrik&gt;        and let me know whether you are seeing the same behaviour?</div>
<div class="line">[Wednesday 16 March 2011] [12:52:50] &lt;cremes&gt; yes; i&#8217;ll report back in a few</div>
<div class="line">[Wednesday 16 March 2011] [13:02:29] &lt;cremes&gt; sustrik: can&#8217;t compile it on my linux box</div>
<div class="line">[Wednesday 16 March 2011] [13:02:46] &lt;cremes&gt; i get this error:  /usr/local/include/zmq.hpp:26:19: fatal error: cassert: No such file or directory</div>
<div class="line">[Wednesday 16 March 2011] [13:03:44] &lt;sustrik&gt;        interesting</div>
<div class="line">[Wednesday 16 March 2011] [13:03:51] &lt;sustrik&gt;        it should be a standard header file</div>
<div class="line">[Wednesday 16 March 2011] [13:04:00] &lt;sustrik&gt;        are you compiling it with g++?</div>
<div class="line">[Wednesday 16 March 2011] [13:04:25] &lt;sustrik&gt;        g++ -pthread -luuid -o leaker leaker.cpp .libs/libzmq.a</div>
<div class="line">[Wednesday 16 March 2011] [13:04:38] &lt;cremes&gt; i was using pieterh&#8217;s &#8216;build&#8217; script</div>
<div class="line">[Wednesday 16 March 2011] [13:04:43] &lt;cremes&gt; let me try your line</div>
<div class="line">[Wednesday 16 March 2011] [13:05:24] &lt;sustrik&gt;        well, libzmq.a should be on library path</div>
<div class="line">[Wednesday 16 March 2011] [13:05:26] &lt;cremes&gt; compiled</div>
<div class="line">[Wednesday 16 March 2011] [13:05:29] &lt;sustrik&gt;        good</div>
<div class="line">[Wednesday 16 March 2011] [13:05:36] &lt;sustrik&gt;        does it leak?</div>
<div class="line">[Wednesday 16 March 2011] [13:06:00] &lt;cremes&gt; yes; heap jumped from 4MB to 24MB and stayed there</div>
<div class="line">[Wednesday 16 March 2011] [13:06:12] &lt;sustrik&gt;        osx?</div>
<div class="line">[Wednesday 16 March 2011] [13:06:14] &lt;cremes&gt; and CPU is at 400%</div>
<div class="line">[Wednesday 16 March 2011] [13:06:16] &lt;cremes&gt; linux</div>
<div class="line">[Wednesday 16 March 2011] [13:06:51] &lt;cremes&gt; CPU dropped to 0, heap is now at 18MB</div>
<div class="line">[Wednesday 16 March 2011] [13:07:02] &lt;cremes&gt; 10554 cremes    20   0  399m  18m 1148 S    0  0.2   1:44.09 leaker9</div>
<div class="line">[Wednesday 16 March 2011] [13:07:28] &lt;sustrik&gt;        same as with the original test case?</div>
<div class="line">[Wednesday 16 March 2011] [13:07:34] &lt;cremes&gt; pretty much the same</div>
<div class="line">[Wednesday 16 March 2011] [13:07:45] &lt;cremes&gt; my original case ran longer and therefore created a larger heap</div>
<div class="line">[Wednesday 16 March 2011] [13:07:49] &lt;cremes&gt; but the idea is the same</div>
<div class="line">[Wednesday 16 March 2011] [13:08:16] &lt;sustrik&gt;        well, i checked the malloc&#8217;s you&#8217;ve reported to be leaking</div>
<div class="line">[Wednesday 16 March 2011] [13:08:27] &lt;sustrik&gt;        (in yqueue_t)</div>
<div class="line">[Wednesday 16 March 2011] [13:08:47] &lt;sustrik&gt;        the number of chunks get to something like 2600</div>
<div class="line">[Wednesday 16 March 2011] [13:08:57] &lt;sustrik&gt;        den it gradually falls down to 0</div>
<div class="line">[Wednesday 16 March 2011] [13:09:25] &lt;cremes&gt; so this program does <em>not</em> leak on your system?</div>
<div class="line">[Wednesday 16 March 2011] [13:09:39] &lt;sustrik&gt;        hard to say as it never finishes</div>
<div class="line">[Wednesday 16 March 2011] [13:09:47] &lt;sustrik&gt;        let me look at mem usage</div>
<div class="line">[Wednesday 16 March 2011] [13:09:57] &lt;cremes&gt; i don&#8217;t think this is a genuine leak where the mallocs are lost</div>
<div class="line">[Wednesday 16 March 2011] [13:10:10] &lt;cremes&gt; i think some structure is holding on to their references instead of freeing them up like it should</div>
<div class="line">[Wednesday 16 March 2011] [13:10:19] &lt;cremes&gt; that&#8217;s why the conventional leak detectors aren&#8217;t finding it</div>
<div class="line">[Wednesday 16 March 2011] [13:10:39] &lt;cremes&gt; the mallocs aren&#8217;t getting orphaned; something in the lib is holding the references</div>
<div class="line">[Wednesday 16 March 2011] [13:11:20] &lt;sustrik&gt;        the number of allocated chunks in yqueue_t drops to 0</div>
<div class="line">[Wednesday 16 March 2011] [13:11:27] &lt;sustrik&gt;        but memory usage stays the same</div>
<div class="line">[Wednesday 16 March 2011] [13:11:40] &lt;sustrik&gt;        that means that either some other object is leaking</div>
<div class="line">[Wednesday 16 March 2011] [13:11:58] &lt;sustrik&gt;        or that OS simply doesn&#8217;t return the allocated memory to the global pool</div>
<div class="line">[Wednesday 16 March 2011] [13:12:21] &lt;cremes&gt; i don&#8217;t think it&#8217;s an OS issue</div>
<div class="line">[Wednesday 16 March 2011] [13:12:27] &lt;sustrik&gt;        how did you figured out that yqueue_t is leaking?</div>
<div class="line">[Wednesday 16 March 2011] [13:13:13] &lt;cremes&gt; on OSX i ran the &#8220;Instruments&#8221; application; it can track every malloc in the program and give you a trace of where it&#8217;s happening</div>
<div class="line">[Wednesday 16 March 2011] [13:13:25] &lt;cremes&gt; i can send you a screenshot if you would like</div>
<div class="line">[Wednesday 16 March 2011] [13:13:32] &lt;sustrik&gt;        no need</div>
<div class="line">[Wednesday 16 March 2011] [13:13:53] &lt;sustrik&gt;        what i done was increment and print out a global variable after each malloc in yqueue_t</div>
<div class="line">[Wednesday 16 March 2011] [13:14:03] &lt;sustrik&gt;        and decrement it and print out after each free</div>
<div class="line">[Wednesday 16 March 2011] [13:14:15] &lt;sustrik&gt;        the program ends at zero :|</div>
<div class="line">[Wednesday 16 March 2011] [13:14:36] &lt;sustrik&gt;        i can try with the other object you pointed out...</div>
<div class="line">[Wednesday 16 March 2011] [13:15:19] &lt;cremes&gt; i just sent you the screen shot; it can&#8217;t hurt to look at it</div>
<div class="line">[Wednesday 16 March 2011] [13:15:24] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 16 March 2011] [13:16:22] &lt;cremes&gt; convince pieterh that you need your own OSX box to test some of this stuff</div>
<div class="line">[Wednesday 16 March 2011] [13:16:28] &lt;cremes&gt; it has some really good dev tools</div>
<div class="line">[Wednesday 16 March 2011] [13:17:56] &lt;sustrik&gt;        i am working on my own on this</div>
<div class="line">[Wednesday 16 March 2011] [13:17:57] &lt;sustrik&gt;        anyway</div>
<div class="line">[Wednesday 16 March 2011] [13:18:15] &lt;sustrik&gt;        so the leak either happens on osx and not on linux</div>
<div class="line">[Wednesday 16 March 2011] [13:18:25] &lt;<a href="#id151"><span class="problematic" id="id171">mikko__</span></a>&gt;        ok, time to head out to the pubmeet</div>
<div class="line">[Wednesday 16 March 2011] [13:18:35] &lt;sustrik&gt;        or the osx tools are incorrectly reporting the leak</div>
<div class="line">[Wednesday 16 March 2011] [13:18:41] &lt;sustrik&gt;        <a href="#id151"><span class="problematic" id="id172">mikko__</span></a>: have a nice evening</div>
<div class="line">[Wednesday 16 March 2011] [13:20:47] &lt;cremes&gt; i see the leak on both osx and linux; the memory is never freed on the linux side</div>
<div class="line">[Wednesday 16 March 2011] [13:21:03] &lt;cremes&gt; i thought you saw the same</div>
<div class="line">[Wednesday 16 March 2011] [13:35:17] &lt;Guthur&gt; it&#8217;s a wonder this was never noticed before</div>
<div class="line">[Wednesday 16 March 2011] [13:35:31] &lt;Guthur&gt; was the leak introduced recently</div>
<div class="line">[Wednesday 16 March 2011] [13:36:50] &lt;sustrik&gt;        cremes: i did (using the top tool)</div>
<div class="line">[Wednesday 16 March 2011] [13:37:15] &lt;sustrik&gt;        however, as for mallocs/free&#8217;s in yqueue_t, those match perfectly</div>
<div class="line">[Wednesday 16 March 2011] [13:37:21] &lt;sustrik&gt;        so either:</div>
<div class="line">[Wednesday 16 March 2011] [13:37:37] &lt;sustrik&gt;        1. the leak is somewhere else and osx tools are reporting false positives</div>
<div class="line">[Wednesday 16 March 2011] [13:37:57] &lt;sustrik&gt;        2. the leaks on linux and osx are different problems</div>
<div class="line">[Wednesday 16 March 2011] [13:38:12] &lt;sustrik&gt;        3. processes don&#8217;t return memory to os</div>
<div class="line">[Wednesday 16 March 2011] [13:38:30] &lt;sustrik&gt;        (3) is know to be true in many cases</div>
<div class="line">[Wednesday 16 March 2011] [13:38:49] &lt;sustrik&gt;        but contradicsts the report from the osx tool</div>
<div class="line">[Wednesday 16 March 2011] [13:45:02] &lt;cremes&gt; it&#8217;s a head scratcher, that&#8217;s for sure</div>
<div class="line">[Wednesday 16 March 2011] [17:04:08] &lt;jobytaffey&gt;     Other than the data itself, is there any space in a zmq_msg_t for some user data? I have a buffer full of messages which I need to attach TTL values to. I could wrap each zmq_msg_t in a struct containing a TTL, but I&#8217;m wondering if there&#8217;s a way of hiding it inside. Could I abuse the msg_content_t.hint pointer safely?</div>
<div class="line">[Wednesday 16 March 2011] [17:17:46] &lt;Seta00&gt; what&#8217;s the value of EAGAIN/</div>
<div class="line">[Wednesday 16 March 2011] [17:17:49] &lt;Seta00&gt; ? *</div>
<div class="line">[Wednesday 16 March 2011] [17:18:08] &lt;Seta00&gt; er.. nevermind</div>
<div class="line">[Wednesday 16 March 2011] [17:20:24] &lt;Seta00&gt; clrzmq2 doesn&#8217;t let me detect EAGAIN&#8217;s &gt;_&gt;</div>
<div class="line">[Wednesday 16 March 2011] [17:43:30] &lt;sustrik&gt;        jobytaffey: check multi-part messages</div>
<div class="line">[Wednesday 16 March 2011] [17:43:51] &lt;sustrik&gt;        ZMQ_SNDMORE, ZMQ_RCVMORE</div>
<div class="line">[Wednesday 16 March 2011] [17:48:22] &lt;jobytaffey&gt;     I&#8217;m using multi-part msgs for some thing already. I suspect that my approach here is not very 0mq-ish. I&#8217;m generating data for clients, then storing it until they poll. Each message needs a TTL and there&#8217;s a garbage collector to destroy when TTL reaches 0. It&#8217;s not strictly a queue, so I&#8217;m storing zmq_msgs in RAM until they&#8217;re polled for. To be honest, I&#8217;ve just wrapped them in a struct with a ttl...</div>
<div class="line">[Wednesday 16 March 2011] [18:03:41] &lt;Guthur&gt; sustrik, did you get any further with the mem leak investigation?</div>
<div class="line">[Wednesday 16 March 2011] [20:01:18] &lt;<a href="#id315"><span class="problematic" id="id316">believa_</span></a>&gt;       What tag/branch to use of the zeromq github repository to get the same source as the v2.0 stable release on the zeromq website?</div>
<div class="line">[Wednesday 16 March 2011] [20:03:27] &lt;<a href="#id317"><span class="problematic" id="id318">believa_</span></a>&gt;       actually - should be the v2.0.10 tag I&#8217;m guessing.</div>
<div class="line">[Wednesday 16 March 2011] [20:14:07] &lt;tokyodan&gt;       Trying to install in Ubuntu 10.04 LTS server. I followed all the instructions. did &#8216;./configure&#8217;. Then when I execute &#8216;make&#8217; I get &#8216;No targets specified and no makefile found&#8217;. What is wrong?</div>
<div class="line">[Wednesday 16 March 2011] [20:14:45] &lt;tokyodan&gt;       all the LINUX dependencies have also been installed.</div>
<div class="line">[Wednesday 16 March 2011] [20:17:55] &lt;bpl29&gt;  My make check is failing on OS X.  It&#8217;s failing on test_shutdown_stress</div>
<div class="line">[Wednesday 16 March 2011] [20:19:52] &lt;bpl29&gt;  I&#8217;m reading there is an assertion error in mailbox.cpp, and in fact it&#8217;s commented in the source to say that this assertion should never fail.</div>
<div class="line">[Wednesday 16 March 2011] [20:20:54] &lt;tokyodan&gt;       bp129 doesn&#8217;t seem to be much help forthcoming here.</div>
<div class="line">[Wednesday 16 March 2011] [20:21:44] &lt;bpl29&gt;  right, I&#8217;m wondering if people have actually installed on OS X.</div>
<div class="line">[Wednesday 16 March 2011] [20:21:57] &lt;bpl29&gt;  There is a developer thread about this particular error, but it&#8217;s dated</div>
<div class="line">[Wednesday 16 March 2011] [20:22:33] &lt;bpl29&gt;  <a class="reference external" href="https://github.com/zeromq/zeromq2/issues#issue/161">https://github.com/zeromq/zeromq2/issues#issue/161</a></div>
<div class="line">[Wednesday 16 March 2011] [20:22:48] &lt;bpl29&gt;  Perhaps someone has gotten about this.</div>
<div class="line">[Wednesday 16 March 2011] [20:22:55] &lt;Guthur&gt; bpl29, I know someone was running on OSX today</div>
<div class="line">[Wednesday 16 March 2011] [20:23:07] &lt;Guthur&gt; and indeed I have a user of clrzmq2 who runs on OSX</div>
<div class="line">[Wednesday 16 March 2011] [20:23:21] &lt;tokyodan&gt;       bp129 I&#8217;m trying on Ubuntu 10.04 server now with not much luck. I&#8217;m afraid to install on my Snow Leopard machine right now.</div>
<div class="line">[Wednesday 16 March 2011] [20:23:21] &lt;Guthur&gt; I don&#8217;t use it myself so I can&#8217;t really help</div>
<div class="line">[Wednesday 16 March 2011] [20:23:46] &lt;Guthur&gt; tokyodan, zeromq built fine on ubuntu 10.04 for me recently</div>
<div class="line">[Wednesday 16 March 2011] [20:23:51] &lt;tokyodan&gt;       thanks bp129</div>
<div class="line">[Wednesday 16 March 2011] [20:23:51] &lt;Guthur&gt; which version are you using</div>
<div class="line">[Wednesday 16 March 2011] [20:24:54] &lt;Guthur&gt; I wasn&#8217;t running server mind you</div>
<div class="line">[Wednesday 16 March 2011] [20:25:10] &lt;bpl29&gt;  I just downloaded from git</div>
<div class="line">[Wednesday 16 March 2011] [20:25:11] &lt;tokyodan&gt;       What causes make to error out with &#8216;&#8217;No targets specified and no makefile found&#8217; ?</div>
<div class="line">[Wednesday 16 March 2011] [20:25:54] &lt;tokyodan&gt;       Guthur Did you just type &#8216;make&#8217; with no arguments?</div>
<div class="line">[Wednesday 16 March 2011] [20:25:59] &lt;Guthur&gt; you ran autogen first, right&gt;</div>
<div class="line">[Wednesday 16 March 2011] [20:26:02] &lt;Guthur&gt; ?</div>
<div class="line">[Wednesday 16 March 2011] [20:26:23] &lt;tokyodan&gt;       autogen&gt; no. Didn&#8217;t see that explained anywhere.</div>
<div class="line">[Wednesday 16 March 2011] [20:26:39] &lt;Guthur&gt; I think I ran autogen first then configure then make</div>
<div class="line">[Wednesday 16 March 2011] [20:27:08] &lt;tokyodan&gt;       what does autogen do? And does it take arguments?</div>
<div class="line">[Wednesday 16 March 2011] [20:27:31] &lt;Guthur&gt; I think it should try to automatically detect settings for you platform</div>
<div class="line">[Wednesday 16 March 2011] [20:27:57] &lt;tokyodan&gt;       I&#8217;m using the latest version of OMQ 2.1 (rc2)</div>
<div class="line">[Wednesday 16 March 2011] [20:28:21] &lt;tokyodan&gt;       I thought that&#8217;s what ./configure also did.</div>
<div class="line">[Wednesday 16 March 2011] [20:28:41] &lt;tokyodan&gt;       did you run autogen on OS X or Ubuntu?</div>
<div class="line">[Wednesday 16 March 2011] [20:28:55] &lt;Guthur&gt; Ubuntu</div>
<div class="line">[Wednesday 16 March 2011] [20:29:00] &lt;Guthur&gt; you are right though</div>
<div class="line">[Wednesday 16 March 2011] [20:29:11] &lt;Guthur&gt; configure should do it</div>
<div class="line">[Wednesday 16 March 2011] [20:29:38] &lt;tokyodan&gt;       Yeah. frome its output that&#8217;s what it looked like it was doing.</div>
<div class="line">[Wednesday 16 March 2011] [20:30:03] &lt;Guthur&gt; my make fu is pretty weak tbh</div>
<div class="line">[Wednesday 16 March 2011] [20:30:37] &lt;tokyodan&gt;       Seems like it should have created a makefile of something too, but didnt. although I got Makefile.am and Makefile.in</div>
<div class="line">[Wednesday 16 March 2011] [20:31:26] &lt;Guthur&gt; i&#8217;m just downloading fresh here to check</div>
<div class="line">[Wednesday 16 March 2011] [20:33:09] &lt;Guthur&gt; you must have ran autogen at some point</div>
<div class="line">[Wednesday 16 March 2011] [20:33:32] &lt;Guthur&gt; I have no ./configure in a fresh download</div>
<div class="line">[Wednesday 16 March 2011] [20:34:30] &lt;Guthur&gt; tokyodan, the configure completes ok?</div>
<div class="line">[Wednesday 16 March 2011] [20:35:04] &lt;cremes&gt; if you get a mailbox assertion on OSX, you need to do some kernel tuning</div>
<div class="line">[Wednesday 16 March 2011] [20:35:21] &lt;cremes&gt; search the zeromq.org site for the &#8216;tuning guide&#8217;</div>
<div class="line">[Wednesday 16 March 2011] [20:35:31] &lt;Seta00&gt; anyone here using clrzmq2?</div>
<div class="line">[Wednesday 16 March 2011] [20:35:45] &lt;cremes&gt; it has an entry on how to expand the socket buffers used by the kernel</div>
<div class="line">[Wednesday 16 March 2011] [20:35:54] &lt;Guthur&gt; Seta00, I do</div>
<div class="line">[Wednesday 16 March 2011] [20:36:03] &lt;Guthur&gt; Seta00, any issues?</div>
<div class="line">[Wednesday 16 March 2011] [20:36:13] &lt;cremes&gt; bpl29: look at the tuning guide</div>
<div class="line">[Wednesday 16 March 2011] [20:36:38] &lt;Seta00&gt; Guthur, it seems you can&#8217;t detect EAGAIN when using NOBLOCK on a recv call.</div>
<div class="line">[Wednesday 16 March 2011] [20:36:50] &lt;Seta00&gt; so I guess I&#8217;ll have to use polling?</div>
<div class="line">[Wednesday 16 March 2011] [20:37:41] &lt;bpl29&gt;  cremes: where is the tuning guide located?</div>
<div class="line">[Wednesday 16 March 2011] [20:38:03] &lt;Guthur&gt; Seta00, if there is no msg the method just silently returns</div>
<div class="line">[Wednesday 16 March 2011] [20:38:05] &lt;cremes&gt; not sure... try the search box</div>
<div class="line">[Wednesday 16 March 2011] [20:38:22] &lt;Seta00&gt; bpl29, <a class="reference external" href="http://www.zeromq.org/docs:tuning-zeromq">http://www.zeromq.org/docs:tuning-zeromq</a></div>
<div class="line">[Wednesday 16 March 2011] [20:38:33] &lt;bpl29&gt;  thanks Seta00</div>
<div class="line">[Wednesday 16 March 2011] [20:38:36] &lt;cremes&gt; bpl29: that&#8217;s it! ^^</div>
<div class="line">[Wednesday 16 March 2011] [20:38:47] &lt;bpl29&gt;  thank you both</div>
<div class="line">[Wednesday 16 March 2011] [20:38:51] &lt;cremes&gt; on osx the default buffers are all too tiny :(</div>
<div class="line">[Wednesday 16 March 2011] [20:38:52] &lt;Seta00&gt; bpl29, for future reference: Guthur, yeah but silently returning doesn&#8217;t</div>
<div class="line">[Wednesday 16 March 2011] [20:38:53] &lt;Seta00&gt; oops</div>
<div class="line">[Wednesday 16 March 2011] [20:38:55] &lt;Seta00&gt; wrong ctrl-v</div>
<div class="line">[Wednesday 16 March 2011] [20:38:57] &lt;Seta00&gt; <a class="reference external" href="http://www.zeromq.org/docs:_start">http://www.zeromq.org/docs:_start</a></div>
<div class="line">[Wednesday 16 March 2011] [20:39:19] &lt;Seta00&gt; Guthur, so I should check the output buffer?</div>
<div class="line">[Wednesday 16 March 2011] [20:39:30] &lt;cremes&gt; bpl29: btw, i run on osx all the time; once you get some tuning out of the way 0mq works really nicely on it</div>
<div class="line">[Wednesday 16 March 2011] [20:39:52] &lt;Guthur&gt; Seta00, the return byte array will be null</div>
<div class="line">[Wednesday 16 March 2011] [20:40:32] &lt;bpl29&gt;  Okay, great.  I&#8217;ll give it a shot.</div>
<div class="line">[Wednesday 16 March 2011] [20:40:38] &lt;Guthur&gt; Seta00, I didn&#8217;t feel it was right to throw an exception for it</div>
<div class="line">[Wednesday 16 March 2011] [20:41:05] &lt;Seta00&gt; what how did I miss that</div>
<div class="line">[Wednesday 16 March 2011] [20:41:06] &lt;Guthur&gt; it should be the only time you receive a null msg</div>
<div class="line">[Wednesday 16 March 2011] [20:41:35] &lt;Guthur&gt; and empty message being byte[0]</div>
<div class="line">[Wednesday 16 March 2011] [20:41:36] &lt;Seta00&gt; yeah, I see it now</div>
<div class="line">[Wednesday 16 March 2011] [20:41:53] &lt;Guthur&gt; Seta00, cool, does that behaviour seem sane to you</div>
<div class="line">[Wednesday 16 March 2011] [20:41:56] &lt;<a href="#id151"><span class="problematic" id="id173">mkent__</span></a>&gt;        Noob question: If you have zeromq set to queue to disk, is there any API for monitoring the disk queue?</div>
<div class="line">[Wednesday 16 March 2011] [20:42:02] &lt;Guthur&gt; I&#8217;m always looking for feedback</div>
<div class="line">[Wednesday 16 March 2011] [20:42:13] &lt;Seta00&gt; Guthur, yes it does.</div>
<div class="line">[Wednesday 16 March 2011] [20:42:50] &lt;Seta00&gt; my current zmq code is ridiculous, so I&#8217;m doing some refactoring :)</div>
<div class="line">[Wednesday 16 March 2011] [20:43:25] &lt;tokyodan&gt;       Guthur the ./configure completed with &#8216;error: unable to find a working c++ compiler&#8217;.</div>
<div class="line">[Wednesday 16 March 2011] [20:43:41] &lt;Guthur&gt; tokyodan, yeah that would be a show stopper, hehe</div>
<div class="line">[Wednesday 16 March 2011] [20:44:12] &lt;Seta00&gt; tokyodan, sudo apt-get install build-essential g++</div>
<div class="line">[Wednesday 16 March 2011] [20:44:12] &lt;tokyodan&gt;       I thought Ubuntu would have a C++ compiler built in.</div>
<div class="line">[Wednesday 16 March 2011] [20:44:13] &lt;Seta00&gt; :P</div>
<div class="line">[Wednesday 16 March 2011] [20:44:20] &lt;Seta00&gt; tokyodan, only comes with a C compiler</div>
<div class="line">[Wednesday 16 March 2011] [20:44:27] &lt;tokyodan&gt;       thanks Seta00</div>
<div class="line">[Wednesday 16 March 2011] [20:44:38] &lt;Seta00&gt; yw</div>
<div class="line">[Wednesday 16 March 2011] [20:45:00] &lt;Guthur&gt; Seta00, if you ever have any issues with clrzmq2 you can usually catch me around here, or raise an issue on github, which I&#8217;ll try to get asap</div>
<div class="line">[Wednesday 16 March 2011] [20:45:52] &lt;Seta00&gt; Guthur, awesome, I&#8217;ll keep that in mind</div>
<div class="line">[Wednesday 16 March 2011] [20:46:03] &lt;Guthur&gt; I&#8217;d really like to clean up some of the API, but I&#8217;m waiting until ZMQ 3.0</div>
<div class="line">[Wednesday 16 March 2011] [20:48:57] &lt;Guthur&gt; Seta00, Are you targetting Mono perchance?</div>
<div class="line">[Wednesday 16 March 2011] [20:49:50] &lt;Seta00&gt; Guthur, yes</div>
<div class="line">[Wednesday 16 March 2011] [20:50:09] &lt;Guthur&gt; make sure to grab the most recent version of clrzmq2</div>
<div class="line">[Wednesday 16 March 2011] [20:50:26] &lt;Guthur&gt; I found a signalling issue in relation to the Mono GC</div>
<div class="line">[Wednesday 16 March 2011] [20:50:28] &lt;tokyodan&gt;       Guthur &amp; Seta00 Thanks you guys. You got me through &#8216;make&#8217;. It&#8217;s running right now.</div>
<div class="line">[Wednesday 16 March 2011] [20:50:38] &lt;Guthur&gt; you may have seen it on the mailing list recently</div>
<div class="line">[Wednesday 16 March 2011] [20:50:38] &lt;Seta00&gt; nice :)</div>
<div class="line">[Wednesday 16 March 2011] [20:50:56] &lt;Guthur&gt; tokyodan, cool, happy coding</div>
<div class="line">[Wednesday 16 March 2011] [20:51:43] &lt;Guthur&gt; Seta00, basically signals generated by the Mono GC can cause the syscalls to return EINTR which would throw an exception in clrzmq2</div>
<div class="line">[Wednesday 16 March 2011] [20:52:41] &lt;Guthur&gt; the workaround I decided on was to reenter the call for all signals bar sigint and sigterm, which would instead exit the program</div>
<div class="line">[Wednesday 16 March 2011] [20:53:07] &lt;Guthur&gt; this mainly effected long running syscalls like those used in poll</div>
<div class="line">[Wednesday 16 March 2011] [20:53:42] &lt;Guthur&gt; obviously it was only an issue on POSIX platforms</div>
<div class="line">[Wednesday 16 March 2011] [20:53:53] &lt;tokyodan&gt;       &#8216;make&#8217; finished with no errors. yeah!</div>
<div class="line">[Wednesday 16 March 2011] [20:56:29] &lt;tokyodan&gt;       Well it seems to have installed OK. Now for trying it out. Still have to get the Lua part though.</div>
<div class="line">[Wednesday 16 March 2011] [22:06:40] &lt;tokyodan&gt;       I installed the Lua binding on Ubuntu 10.04 server. But when I do: require &#8216;zmq&#8217;  I get  module zmq not found. Seems like make is not putting the files into the proper Lua directories. How do I cure this outside of creating all kinds of symlinks.</div>
<div class="line">[Wednesday 16 March 2011] [23:39:29] &lt;tokyodan&gt;       This doesn&#8217;t work with Lua</div>
<div class="line">[Wednesday 16 March 2011] [23:39:54] &lt;tokyodan&gt;       I followed this video: <a class="reference external" href="http://www.youtube.com/watch?v=_JCBphyciAs&amp;feature=player_embedded">http://www.youtube.com/watch?v=_JCBphyciAs&amp;feature=player_embedded</a></div>
<div class="line">[Wednesday 16 March 2011] [23:41:02] &lt;tokyodan&gt;       And unlink in the video the send(&#8220;Hello&#8221;) command returns before I even start up the receiving end.</div>
<div class="line">[Wednesday 16 March 2011] [23:41:40] &lt;tokyodan&gt;       I start up the recv loop on the receiving side and it just sits there blocking and waiting for input</div>
<div class="line">[Wednesday 16 March 2011] [23:47:30] &lt;michelp&gt;        last night i was musing on the &#8220;supercomputer&#8221; descriptions in the guide</div>
<div class="line">[Wednesday 16 March 2011] [23:48:16] &lt;michelp&gt;        having recently read &#8220;The Connection Machine&#8221; by D. Hillis it made me think that 0mq would make an excellent interconnect mechanism for various SIMD topologies</div>
<div class="line">[Wednesday 16 March 2011] [23:50:00] &lt;michelp&gt;        the guide basically spells out how to do those topologies with a control channel to issue &#8220;instructions&#8221;.  in conjunction with something like NumPy it would be an excellent platform for distributed computing</div>
<div class="line">[Wednesday 16 March 2011] [23:50:18] &lt;michelp&gt;        anyway, just musing over dinner on the subject ;)</div>
<div class="line">[Wednesday 16 March 2011] [23:53:48] &lt;tokyodan&gt;       Does the latest version on OMQ work with Lua 5.1.4?</div>
<div class="line">[Wednesday 16 March 2011] [23:54:06] &lt;tokyodan&gt;       on Ubuntu 10.04 LTS Server?</div>
<div class="line">[Wednesday 16 March 2011] [23:56:05] &lt;michelp&gt;        tokyodan, I don&#8217;t use Lua so can&#8217;t help you specifically, but have you looked at &#8220;The Missing Message Problem Solver&#8221; at <a class="reference external" href="http://zguide.zeromq.org/page:all">http://zguide.zeromq.org/page:all</a> ?</div>
<div class="line">[Wednesday 16 March 2011] [23:56:20] &lt;michelp&gt;        it might help you diagnose the problem</div>
<div class="line">[Thursday 17 March 2011] [00:04:44] &lt;tokyodan&gt;        michelp thanks!</div>
<div class="line">[Thursday 17 March 2011] [00:05:33] &lt;michelp&gt; sure np</div>
<div class="line">[Thursday 17 March 2011] [00:06:38] &lt;tokyodan&gt;        I see that UP/DOWNSTREAM and replaced by PULL/PUSH. Is that correct? I&#8217;ve see examples with PUB/SUB?</div>
<div class="line">[Thursday 17 March 2011] [00:10:08] &lt;cremes&gt;  tokyodan: yes, the UP/DOWNSTREAM names were replaced by PUSH/PULL</div>
<div class="line">[Thursday 17 March 2011] [00:10:20] &lt;cremes&gt;  PUB/SUB has not changed nor are there any plans to change it</div>
<div class="line">[Thursday 17 March 2011] [00:25:21] &lt;tokyodan&gt;        is there a difference between PUSH</div>
<div class="line">[Thursday 17 March 2011] [00:25:33] &lt;tokyodan&gt;        PULL and PUB/SUB?</div>
<div class="line">[Thursday 17 March 2011] [00:26:58] &lt;cremes&gt;  tokyodan: yes, they are quite different</div>
<div class="line">[Thursday 17 March 2011] [00:27:19] &lt;cremes&gt;  in PUB/SUB, any messages sent via PUB are broadcast to <em>all</em> subscribers simultaneously</div>
<div class="line">[Thursday 17 March 2011] [00:27:44] &lt;cremes&gt;  in PUSH/PULL, messages send via PUSH are delivered round-robin to all connected PULL sockets</div>
<div class="line">[Thursday 17 March 2011] [00:27:55] &lt;cremes&gt;  if you haven&#8217;t read the guide yet, please do so</div>
<div class="line">[Thursday 17 March 2011] [00:28:08] &lt;cremes&gt;  there are lots of examples and quite a bit of text explaining this</div>
<div class="line">[Thursday 17 March 2011] [00:28:16] &lt;cremes&gt;  see the channel topic for a link to the guide</div>
<div class="line">[Thursday 17 March 2011] [00:28:17] &lt;tokyodan&gt;        That&#8217;s what I&#8217;m going to do. Thanks.</div>
<div class="line">[Thursday 17 March 2011] [00:28:58] &lt;tokyodan&gt;        I already got it printed out. I was just jumping in, installing, and trying the examples.</div>
<div class="line">[Thursday 17 March 2011] [00:33:49] &lt;cremes&gt;  tokyodan: that&#8217;s the best way to figure it out</div>
<div class="line">[Thursday 17 March 2011] [03:38:10] &lt;sustrik&gt; mikko: hi, are you there?</div>
<div class="line">[Thursday 17 March 2011] [05:53:44] &lt;<a href="#id319"><span class="problematic" id="id320">pieterh_</span></a>&gt;        sustrik: ping</div>
<div class="line">[Thursday 17 March 2011] [05:53:49] &lt;sustrik&gt; pong</div>
<div class="line">[Thursday 17 March 2011] [05:53:52] &lt;<a href="#id321"><span class="problematic" id="id322">pieterh_</span></a>&gt;        I&#8217;m sending the OpenPGM patches to the list</div>
<div class="line">[Thursday 17 March 2011] [05:53:59] &lt;sustrik&gt; great</div>
<div class="line">[Thursday 17 March 2011] [05:54:02] &lt;sustrik&gt; how was the meetup?</div>
<div class="line">[Thursday 17 March 2011] [05:54:04] &lt;<a href="#id323"><span class="problematic" id="id324">pieterh_</span></a>&gt;        this covers the changes Mikko made but also include the tarballs, so they&#8217;re large</div>
<div class="line">[Thursday 17 March 2011] [05:54:15] &lt;<a href="#id325"><span class="problematic" id="id326">pieterh_</span></a>&gt;        the meetup was excellent, but too many people</div>
<div class="line">[Thursday 17 March 2011] [05:54:17] &lt;<a href="#id327"><span class="problematic" id="id328">pieterh_</span></a>&gt;        :-)</div>
<div class="line">[Thursday 17 March 2011] [05:54:23] &lt;sustrik&gt; i can update the tarball myself</div>
<div class="line">[Thursday 17 March 2011] [05:54:29] &lt;sustrik&gt; no need to include it into the patch</div>
<div class="line">[Thursday 17 March 2011] [05:54:34] &lt;<a href="#id329"><span class="problematic" id="id330">pieterh_</span></a>&gt;        I can&#8217;t make a patch without the tarball, it&#8217;s in one commit</div>
<div class="line">[Thursday 17 March 2011] [05:54:41] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 17 March 2011] [05:54:42] &lt;sustrik&gt; np</div>
<div class="line">[Thursday 17 March 2011] [05:54:47] &lt;sustrik&gt; too many?</div>
<div class="line">[Thursday 17 March 2011] [05:54:56] &lt;<a href="#id331"><span class="problematic" id="id332">pieterh_</span></a>&gt;        yeah, twenty or twenty five</div>
<div class="line">[Thursday 17 March 2011] [05:55:01] &lt;<a href="#id333"><span class="problematic" id="id334">pieterh_</span></a>&gt;        impossible to speak to everyone</div>
<div class="line">[Thursday 17 March 2011] [05:55:02] &lt;sustrik&gt; oh my, not enough chairs?</div>
<div class="line">[Thursday 17 March 2011] [05:55:18] &lt;<a href="#id335"><span class="problematic" id="id336">pieterh_</span></a>&gt;        we found space, Mikko and Ian organized it very well</div>
<div class="line">[Thursday 17 March 2011] [05:56:21] &lt;<a href="#id337"><span class="problematic" id="id338">pieterh_</span></a>&gt;        i&#8217;m testing that Steve&#8217;s patches apply, will let you know</div>
<div class="line">[Thursday 17 March 2011] [05:57:01] &lt;sustrik&gt; i can do that</div>
<div class="line">[Thursday 17 March 2011] [05:57:03] &lt;sustrik&gt; no problem</div>
<div class="line">[Thursday 17 March 2011] [05:58:33] &lt;<a href="#id339"><span class="problematic" id="id340">pieterh_</span></a>&gt;        ok, they apply cleanly</div>
<div class="line">[Thursday 17 March 2011] [05:58:58] &lt;sustrik&gt; thx</div>
<div class="line">[Thursday 17 March 2011] [05:59:18] &lt;<a href="#id341"><span class="problematic" id="id342">pieterh_</span></a>&gt;        these changes are more complex than normal because they include the tarballs</div>
<div class="line">[Thursday 17 March 2011] [05:59:33] &lt;<a href="#id343"><span class="problematic" id="id344">pieterh_</span></a>&gt;        Mikko wants to make the build system pull the tarballs down dynamically afiau</div>
<div class="line">[Thursday 17 March 2011] [05:59:39] &lt;<a href="#id345"><span class="problematic" id="id346">pieterh_</span></a>&gt;        that would be neat</div>
<div class="line">[Thursday 17 March 2011] [05:59:51] &lt;sustrik&gt; in the past the tarballs were updated out of normal process</div>
<div class="line">[Thursday 17 March 2011] [06:00:03] &lt;sustrik&gt; ie. not via mailing list</div>
<div class="line">[Thursday 17 March 2011] [06:00:16] &lt;<a href="#id347"><span class="problematic" id="id348">pieterh_</span></a>&gt;        yeah</div>
<div class="line">[Thursday 17 March 2011] [06:00:33] &lt;<a href="#id349"><span class="problematic" id="id350">pieterh_</span></a>&gt;        this was because I used a pull request from Mikko&#8217;s git</div>
<div class="line">[Thursday 17 March 2011] [06:00:46] &lt;sustrik&gt; as for automatic update, how would it know when to update?</div>
<div class="line">[Thursday 17 March 2011] [06:00:58] &lt;sustrik&gt; each new version?</div>
<div class="line">[Thursday 17 March 2011] [06:01:06] &lt;<a href="#id351"><span class="problematic" id="id352">pieterh_</span></a>&gt;        hmm, at install time?</div>
<div class="line">[Thursday 17 March 2011] [06:01:14] &lt;sustrik&gt; ah, that way</div>
<div class="line">[Thursday 17 March 2011] [06:01:19] &lt;<a href="#id353"><span class="problematic" id="id354">pieterh_</span></a>&gt;        since 0MQ now builds with any version of OpenPGM</div>
<div class="line">[Thursday 17 March 2011] [06:02:06] &lt;<a href="#id355"><span class="problematic" id="id356">pieterh_</span></a>&gt;        all you need to do is say, &#8220;please build 0MQ with OpenPGM vx.y.z&#8221; and it would pull and unpack that tarball</div>
<div class="line">[Thursday 17 March 2011] [06:02:17] &lt;<a href="#id357"><span class="problematic" id="id358">pieterh_</span></a>&gt;        something like that, presumably with defaults</div>
<div class="line">[Thursday 17 March 2011] [06:02:21] &lt;sustrik&gt; i see</div>
<div class="line">[Thursday 17 March 2011] [06:02:46] &lt;<a href="#id359"><span class="problematic" id="id360">pieterh_</span></a>&gt;        this is possible because OpenPGM now has full autotooling, so 0MQ can be much more naive about it</div>
<div class="line">[Thursday 17 March 2011] [06:02:51] &lt;sustrik&gt; is steve ready to freeze the API?</div>
<div class="line">[Thursday 17 March 2011] [06:03:00] &lt;<a href="#id361"><span class="problematic" id="id362">pieterh_</span></a>&gt;        Steve...?</div>
<div class="line">[Thursday 17 March 2011] [06:03:04] &lt;sustrik&gt; mc coy</div>
<div class="line">[Thursday 17 March 2011] [06:03:11] &lt;<a href="#id363"><span class="problematic" id="id364">pieterh_</span></a>&gt;        I meant, &#8220;Steve... ping...?&#8221;</div>
<div class="line">[Thursday 17 March 2011] [06:03:26] &lt;sustrik&gt; if not, the auto-upload could break</div>
<div class="line">[Thursday 17 March 2011] [06:03:34] &lt;<a href="#id365"><span class="problematic" id="id366">pieterh_</span></a>&gt;        yes</div>
<div class="line">[Thursday 17 March 2011] [06:03:54] &lt;<a href="#id367"><span class="problematic" id="id368">pieterh_</span></a>&gt;        this is speculation, anyhow, but Mikko and Steve already did amazing work on the integration</div>
<div class="line">[Thursday 17 March 2011] [06:04:04] &lt;<a href="#id369"><span class="problematic" id="id370">pieterh_</span></a>&gt;        so I assume they&#8217;d get this working properly</div>
<div class="line">[Thursday 17 March 2011] [06:05:51] &lt;sustrik&gt; ok, let me apply the patch</div>
<div class="line">[Thursday 17 March 2011] [06:23:55] &lt;sustrik&gt; pieterh_1: you should consult the build system maintainers before committing build-related patches imo</div>
<div class="line">[Thursday 17 March 2011] [06:24:07] &lt;sustrik&gt; mikko presumably, in this case</div>
<div class="line">[Thursday 17 March 2011] [06:24:24] &lt;pieterh_1&gt;       you mean Steve&#8217;s patches...</div>
<div class="line">[Thursday 17 March 2011] [06:24:25] &lt;pieterh_1&gt;       right</div>
<div class="line">[Thursday 17 March 2011] [06:24:27] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 17 March 2011] [06:24:44] &lt;pieterh_1&gt;       I&#8217;ll ask Mikko to review them, good idea</div>
<div class="line">[Thursday 17 March 2011] [08:04:59] &lt;Guthur&gt;  pieterh, with peering3 what sort of output should I expect?</div>
<div class="line">[Thursday 17 March 2011] [08:20:22] &lt;Guthur&gt;  oh nvm, working now</div>
<div class="line">[Thursday 17 March 2011] [08:30:26] &lt;s0undt3ch&gt;       hello ppl</div>
<div class="line">[Thursday 17 March 2011] [08:30:42] &lt;s0undt3ch&gt;       can a publisher know where a connection is comming from?</div>
<div class="line">[Thursday 17 March 2011] [08:30:53] &lt;s0undt3ch&gt;       ie, so I can auth/deny a subscription?</div>
<div class="line">[Thursday 17 March 2011] [08:35:55] &lt;sustrik&gt; no</div>
<div class="line">[Thursday 17 March 2011] [09:45:43] &lt;stimpie&gt; Iam getting unstable performance using jzmq on windows, 1,000,000 x 128B messages gets 300K/s. 10,000,000 x 128B messages gets 20K/s</div>
<div class="line">[Thursday 17 March 2011] [09:46:58] &lt;stimpie&gt; it looks like this is caused by the sender, using a c sender and a java receiver gets a stable 300K/s</div>
<div class="line">[Thursday 17 March 2011] [09:47:31] &lt;sustrik&gt; it must be java binding issue then</div>
<div class="line">[Thursday 17 March 2011] [09:47:40] &lt;sustrik&gt; try reporting it on jzmq&#8217;s bug tracker</div>
<div class="line">[Thursday 17 March 2011] [09:47:49] &lt;sustrik&gt; or on the mailing list</div>
<div class="line">[Thursday 17 March 2011] [09:49:18] &lt;stimpie&gt; ok I will try to create a simple reproducible scenario. (or just provide the results to my boss, saying we shouldn&#8217;t use windows ;-)</div>
<div class="line">[Thursday 17 March 2011] [09:49:58] &lt;fred86&gt;  When using pub/sub sockets that stay open for a long time (without any activity), I find that after a while (maybe 1+ hours later), the client-side stops receiving messages (however when I open a new client, the new client can receive messages). Do the sockets reconnect automatically if there&#8217;s a short network outage? What could the problem be? Thanks.</div>
<div class="line">[Thursday 17 March 2011] [09:50:04] &lt;cremes&gt;  stimpie: does this example use PUB/SUB?</div>
<div class="line">[Thursday 17 March 2011] [09:50:27] &lt;cremes&gt;  stimpie: if so, your publisher could be overrunning the subscriber; in that case the publisher will queue the messages in memory</div>
<div class="line">[Thursday 17 March 2011] [09:50:39] &lt;cremes&gt;  which could lead to a slowdown if your box doesn&#8217;t have enough RAM</div>
<div class="line">[Thursday 17 March 2011] [09:51:01] &lt;stimpie&gt; cremes, yes its a PUB/SUB and memory usages skyrockets</div>
<div class="line">[Thursday 17 March 2011] [09:51:24] &lt;cremes&gt;  stimpie: then it is queueing in memory</div>
<div class="line">[Thursday 17 March 2011] [09:51:49] &lt;cremes&gt;  does the machine running the publisher have enough RAM or is it swapping to disk?</div>
<div class="line">[Thursday 17 March 2011] [09:52:03] &lt;stimpie&gt; its starts swapping at some point</div>
<div class="line">[Thursday 17 March 2011] [09:52:19] &lt;cremes&gt;  ok, then you have your answer as to why it gets slower</div>
<div class="line">[Thursday 17 March 2011] [09:52:41] &lt;stimpie&gt; but why doesnt this occur with a c version?</div>
<div class="line">[Thursday 17 March 2011] [09:52:51] &lt;cremes&gt;  which part was in C?</div>
<div class="line">[Thursday 17 March 2011] [09:53:06] &lt;stimpie&gt; I had a sender and receiver in c and in java</div>
<div class="line">[Thursday 17 March 2011] [09:53:25] &lt;cremes&gt;  c -&gt; c, no problem?</div>
<div class="line">[Thursday 17 March 2011] [09:53:34] &lt;cremes&gt;  c -&gt; java, slow?</div>
<div class="line">[Thursday 17 March 2011] [09:53:40] &lt;cremes&gt;  how about java -&gt; c, does that work?</div>
<div class="line">[Thursday 17 March 2011] [09:53:46] &lt;stimpie&gt; c-&gt;java is ok</div>
<div class="line">[Thursday 17 March 2011] [09:53:54] &lt;stimpie&gt; java -&gt; c, is slow</div>
<div class="line">[Thursday 17 March 2011] [09:54:01] &lt;cremes&gt;  so which combo produces this slowdown?</div>
<div class="line">[Thursday 17 March 2011] [09:54:29] &lt;stimpie&gt; java -&gt; java is slow and java -&gt; c is slow</div>
<div class="line">[Thursday 17 March 2011] [09:54:39] &lt;stimpie&gt; c-&gt; c, c -&gt; java are fine</div>
<div class="line">[Thursday 17 March 2011] [09:54:56] &lt;cremes&gt;  interesting...</div>
<div class="line">[Thursday 17 March 2011] [09:55:38] &lt;cremes&gt;  java -&gt; c being slow doesn&#8217;t make any sense; that could certainly be a bug</div>
<div class="line">[Thursday 17 March 2011] [09:55:57] &lt;cremes&gt;  does the memory usage of the publisher sky-rocket in that combination?</div>
<div class="line">[Thursday 17 March 2011] [09:56:02] &lt;stimpie&gt; yes</div>
<div class="line">[Thursday 17 March 2011] [09:56:29] &lt;cremes&gt;  weird... yes, open a ticket with all of these details including the code</div>
<div class="line">[Thursday 17 March 2011] [09:57:51] &lt;stimpie&gt; I was thinking that maybe java uses some object overhead on each messages causing it to use more memory and start swaping sooner then the c versions</div>
<div class="line">[Thursday 17 March 2011] [09:59:01] &lt;sustrik&gt; fred86: yes, there&#8217;s automatic reconnection</div>
<div class="line">[Thursday 17 March 2011] [10:00:49] &lt;fred86&gt;  hmm, okay. Then this problem is a bit bizarre. the layout is a chatroom-like server (where the server does some processing before publishing a message). if there isn&#8217;t any activity for a while, I find that the clients stop getting messages from the server.. (but they can still send messages..and I can see the server processing everything fine). and if I open new clients, they will be able to receive messages. do you have any idea wh</div>
<div class="line">[Thursday 17 March 2011] [10:01:46] &lt;sustrik&gt; no,sorry, try to make a minimal reproducible test case and i&#8217;ll have a look</div>
<div class="line">[Thursday 17 March 2011] [10:02:18] &lt;sustrik&gt; stimpie: jave uses gc</div>
<div class="line">[Thursday 17 March 2011] [10:02:22] &lt;sustrik&gt; java</div>
<div class="line">[Thursday 17 March 2011] [10:02:45] &lt;sustrik&gt; which could mean that object deallocation is delayed</div>
<div class="line">[Thursday 17 March 2011] [10:03:08] &lt;sustrik&gt; in that case each message would be stored in memory twice</div>
<div class="line">[Thursday 17 March 2011] [10:03:13] &lt;sustrik&gt; once in 0mq buffer</div>
<div class="line">[Thursday 17 March 2011] [10:03:31] &lt;sustrik&gt; second time in form of gargage on java heap</div>
<div class="line">[Thursday 17 March 2011] [10:05:19] &lt;stimpie&gt; I will do some more test to see if it really is only a memory issue.</div>
<div class="line">[Thursday 17 March 2011] [10:43:03] &lt;gambi&gt;   how do I return a message via XREQ in a stream callback? on one side i&#8217;ve got this zmqstream and a on_recv() callback and on the other side a regular socket which does the send() (that works) and the recv() (which doesn&#8217;t)</div>
<div class="line">[Thursday 17 March 2011] [10:43:46] &lt;gambi&gt;   XREQ/XREP</div>
<div class="line">[Thursday 17 March 2011] [10:44:14] &lt;gambi&gt;   unfortunately I&#8217;m not sure how else do explain this, sorry :(</div>
<div class="line">[Thursday 17 March 2011] [10:48:21] &lt;gambi&gt;   basically I&#8217;m trying to send build something closely related to this: <a class="reference external" href="https://github.com/zeromq/pyzmq/blob/master/examples/heartbeat/heart.py">https://github.com/zeromq/pyzmq/blob/master/examples/heartbeat/heart.py</a> but I&#8217;d like to have some processing done before it returns the message to the server.</div>
<div class="line">[Thursday 17 March 2011] [10:49:21] &lt;gambi&gt;   sorry for the random words that mix into my sentences ... I guess I&#8217;m already quite tired ;)</div>
<div class="line">[Thursday 17 March 2011] [10:50:30] &lt;guido_g&gt; simply send the message back</div>
<div class="line">[Thursday 17 March 2011] [10:52:09] &lt;guido_g&gt; gambi: see <a class="reference external" href="http://zeromq.github.com/pyzmq/eventloop.html#send">http://zeromq.github.com/pyzmq/eventloop.html#send</a></div>
<div class="line">[Thursday 17 March 2011] [10:55:42] &lt;gambi&gt;   guido_g: oh, great thanks for that! i&#8217;ll try that right away. :)</div>
<div class="line">[Thursday 17 March 2011] [10:56:18] &lt;guido_g&gt; one should try the products documentation <em>before</em> using the product...</div>
<div class="line">[Thursday 17 March 2011] [10:56:42] &lt;gambi&gt;   guido_g: oh, c&#8217;mon ... I&#8217;ve been reading the docs for hours ... ;)</div>
<div class="line">[Thursday 17 March 2011] [10:56:49] &lt;guido_g&gt; sure</div>
<div class="line">[Thursday 17 March 2011] [11:21:16] &lt;xs&gt;      suppose the rep side of a reqrep dies after the req side has sent it&#8217;s request. then the rep side recovers. shouldn&#8217;t the req side re-send its request? this doesn&#8217;t seem to be happening for me (i&#8217;m using multipart messages if that changes things)</div>
<div class="line">[Thursday 17 March 2011] [11:26:24] &lt;cremes&gt;  xs: no, 0mq doesn&#8217;t auto-resend anything</div>
<div class="line">[Thursday 17 March 2011] [11:26:43] &lt;cremes&gt;  you would need to timeout the send and retry yourself</div>
<div class="line">[Thursday 17 March 2011] [11:27:12] &lt;cremes&gt;  to do so you have two choices and both use zmq_poll()</div>
<div class="line">[Thursday 17 March 2011] [11:27:22] &lt;cremes&gt;  1. close the REQ socket, reopen it and resend</div>
<div class="line">[Thursday 17 March 2011] [11:27:49] &lt;cremes&gt;  2. use an XREQ socket (this doesn&#8217;t enforce the strict req/rep/req/rep message pattern) and resend upon timeout</div>
<div class="line">[Thursday 17 March 2011] [11:27:57] &lt;cremes&gt;  does that make sense to you?</div>
<div class="line">[Thursday 17 March 2011] [11:28:13] &lt;xs&gt;      i think so. thanks.</div>
<div class="line">[Thursday 17 March 2011] [11:28:21] &lt;xs&gt;      am i correct in thinking i just have to timeout?</div>
<div class="line">[Thursday 17 March 2011] [11:28:32] &lt;xs&gt;      there&#8217;s no way for me to determine that an endpoint has disappeared and reconnected</div>
<div class="line">[Thursday 17 March 2011] [11:28:45] &lt;Guthur&gt;  ch4 for of the guide covers reliability</div>
<div class="line">[Thursday 17 March 2011] [11:28:57] &lt;Guthur&gt;  It might have some useful patterns</div>
<div class="line">[Thursday 17 March 2011] [11:29:12] &lt;cremes&gt;  xs: correct, there is no way to determine that an endpoint has bounced</div>
<div class="line">[Thursday 17 March 2011] [11:29:21] &lt;xs&gt;      ok, thanks, i&#8217;ll take a look.. i had just assumed 0mq would do this for me. sorry for the noise</div>
<div class="line">[Thursday 17 March 2011] [11:29:24] &lt;cremes&gt;  chapter4 of the guide is a good suggestion</div>
<div class="line">[Thursday 17 March 2011] [12:15:33] &lt;stimpie&gt; A follow up on my java -&gt; c performance issues, when limiting the send rate I could push my message rate to a ~300K/s, going above that results in swapping. So cause is memory and not a bug in the java wrapper</div>
<div class="line">[Thursday 17 March 2011] [12:16:05] &lt;stimpie&gt; Still need to figure out how to handle such an overload in production but thats a different subject</div>
<div class="line">[Thursday 17 March 2011] [12:20:40] &lt;sustrik&gt; use hwm/swap</div>
<div class="line">[Thursday 17 March 2011] [12:29:15] &lt;Guthur&gt;  pieterh, when simulating a server crash with lazy pirate client/server, should the client be generating...</div>
<div class="line">[Thursday 17 March 2011] [12:29:17] &lt;Guthur&gt;  Bad file descriptor</div>
<div class="line">[Thursday 17 March 2011] [12:29:24] &lt;Guthur&gt;  nbytes != -1 (mailbox.cpp:242)</div>
<div class="line">[Thursday 17 March 2011] [12:34:25] &lt;Guthur&gt;  oh sorry nvm, my mistake</div>
<div class="line">[Thursday 17 March 2011] [12:59:33] &lt;michelp&gt; my coworkers have returned from pycon, it&#8217;s hard to know if what they are saying about 0mq is FUD they acquired from someone else or not</div>
<div class="line">[Thursday 17 March 2011] [12:59:57] &lt;michelp&gt; for example, they are saying in the PUB/SUB case that the subscriber is guaranteed to drop the first message always, all the time</div>
<div class="line">[Thursday 17 March 2011] [13:00:17] &lt;michelp&gt; is that true? i remember seeing something about it in ch 1 but lost track of the problem in my reading of the guide</div>
<div class="line">[Thursday 17 March 2011] [13:09:06] &lt;sustrik&gt; no, it&#8217;s not true</div>
<div class="line">[Thursday 17 March 2011] [13:10:12] &lt;michelp&gt; it seems to be a meme that has dug in hard from pycon.  sigh</div>
<div class="line">[Thursday 17 March 2011] [13:10:48] &lt;ianbarber&gt;       it&#8217;s because if you right a bit of test code, and start publishing and subscribing at the same time, you&#8217;ll likely push a bunch of messages before the subscriber is finished connecting</div>
<div class="line">[Thursday 17 March 2011] [13:11:11] &lt;ianbarber&gt;       this is a common new-to-0mq issue</div>
<div class="line">[Thursday 17 March 2011] [13:13:58] &lt;michelp&gt; I suspect this is the part of the guide that has formed the meme: &#8220;Even if you start a subscriber, wait a while, and then start the publisher, the subscriber will always miss the first messages that the publisher sends.&#8221;</div>
<div class="line">[Thursday 17 March 2011] [13:14:08] &lt;michelp&gt; they read that far, and stop, and don&#8217;t go on to read the solution</div>
<div class="line">[Thursday 17 March 2011] [13:14:37] &lt;michelp&gt; Perhaps the very next sentence should be something along the lines of &#8220;Keep reading and we&#8217;ll explain how to do it right&#8221; or something like that</div>
<div class="line">[Thursday 17 March 2011] [13:17:04] &lt;michelp&gt; i think the fact that the sentence is bolded also make it stick in someone&#8217;s mind more so than all the other information there.  anyway, it&#8217;s unfortunate that it seems like these wrong impressions have spread through such a big community so quickly.</div>
<div class="line">[Thursday 17 March 2011] [13:17:46] &lt;michelp&gt; maybe we need an anti-FUD faq</div>
<div class="line">[Thursday 17 March 2011] [13:18:22] &lt;kdj&gt;     Yeah, thats too bad. I haven&#8217;t seen anything like that in my testing.</div>
<div class="line">[Thursday 17 March 2011] [14:45:51] &lt;Guthur&gt;  pieterh, ping?</div>
<div class="line">[Thursday 17 March 2011] [15:08:42] &lt;Guthur&gt;  private_meta, you about</div>
<div class="line">[Thursday 17 March 2011] [16:21:32] &lt;mikko&gt;    hi</div>
<div class="line">[Thursday 17 March 2011] [16:25:09] &lt;Guthur&gt;  hey mikko</div>
<div class="line">[Thursday 17 March 2011] [16:25:28] &lt;Guthur&gt;  I see the meet up at London was a success</div>
<div class="line">[Thursday 17 March 2011] [16:25:38] &lt;Guthur&gt;  you were there, correct?</div>
<div class="line">[Thursday 17 March 2011] [16:26:24] &lt;mikko&gt;   yes</div>
<div class="line">[Thursday 17 March 2011] [16:26:33] &lt;mikko&gt;   i will never drink beer again</div>
<div class="line">[Thursday 17 March 2011] [16:28:43] &lt;Guthur&gt;  stick to coffee, it actually can improve productivity, instead of the opposite, hehe</div>
<div class="line">[Thursday 17 March 2011] [16:28:59] &lt;Guthur&gt;  some nice topics though</div>
<div class="line">[Thursday 17 March 2011] [16:29:12] &lt;Guthur&gt;  the JMS is an interesting one</div>
<div class="line">[Thursday 17 March 2011] [16:29:54] &lt;Guthur&gt;  Just had this situation at work recently, not really related to 0MQ, more that someone wanted to interact with JMS outside of Java</div>
<div class="line">[Thursday 17 March 2011] [16:30:40] &lt;Guthur&gt;  I suggested a thin Java wrapper and 0MQ as the glue</div>
<div class="line">[Thursday 17 March 2011] [16:35:35] &lt;Guthur&gt;  mikko, did you implement any of the examples in ch4 perchance?</div>
<div class="line">[Thursday 17 March 2011] [16:42:04] &lt;mikko&gt;   Guthur: nope</div>
<div class="line">[Thursday 17 March 2011] [16:45:41] &lt;mikko&gt;   JMS came from Java guys at the meetup</div>
<div class="line">[Thursday 17 March 2011] [16:45:58] &lt;mikko&gt;   they said that Java market is a lot easier to penetrate with JMS compatible messaging</div>
<div class="line">[Thursday 17 March 2011] [16:48:37] &lt;Guthur&gt;  yeah they&#8217;re probably right</div>
<div class="line">[Thursday 17 March 2011] [16:49:18] &lt;Guthur&gt;  I think sustrik suggestion is the sanest one</div>
<div class="line">[Thursday 17 March 2011] [16:49:53] &lt;Guthur&gt;  but probably not enough for the Java community, they like everything to be fully in the Java ecosystem</div>
<div class="line">[Thursday 17 March 2011] [16:53:50] &lt;Guthur&gt;  it&#8217;d be an interesting project actually</div>
<div class="line">[Thursday 17 March 2011] [16:57:19] &lt;dahankzter&gt;      I dont know, just a bridge would go a long way</div>
<div class="line">[Thursday 17 March 2011] [16:57:53] &lt;dahankzter&gt;      that way old IBM MQ&#8217;s can be used in conjunction with nw =MQ stuff</div>
<div class="line">[Thursday 17 March 2011] [16:58:04] &lt;dahankzter&gt;      s/nw/new</div>
<div class="line">[Thursday 17 March 2011] [17:02:22] &lt;Guthur&gt;  yeah, I&#8217;m probably being a little cynical</div>
<div class="line">[Thursday 17 March 2011] [17:05:00] &lt;dahankzter&gt;      no, not really. its very much so but just being able to connect your new cool stuff woth the old expensive monster could go a long way</div>
<div class="line">[Thursday 17 March 2011] [17:20:20] &lt;sustrik&gt; the nice thing about the bridge is that it&#8217;s cheap</div>
<div class="line">[Thursday 17 March 2011] [17:20:41] &lt;sustrik&gt; can be done in couple of days, i would say</div>
<div class="line">[Thursday 17 March 2011] [17:23:18] &lt;dahankzter&gt;      perhaps the problem is vendor specific protocols?</div>
<div class="line">[Thursday 17 March 2011] [17:23:37] &lt;dahankzter&gt;      jms does not define any such for the wire at least</div>
<div class="line">[Thursday 17 March 2011] [17:26:54] &lt;dahankzter&gt;      I think AMQP would be a nice place to start</div>
<div class="line">[Thursday 17 March 2011] [17:30:59] &lt;dahankzter&gt;      i think you know lots of this though :) iMatix is mentioned on the AMQP site</div>
<div class="line">[Thursday 17 March 2011] [17:48:34] &lt;sustrik&gt; dhankzter: you can bridge basically any protocol or API that provides PUB/SUB and/or REQ/REP semantics</div>
<div class="line">[Thursday 17 March 2011] [17:49:01] &lt;sustrik&gt; as for AMQP there&#8217;s 0mq/RabbitMQ bridge</div>
<div class="line">[Thursday 17 March 2011] [17:52:41] &lt;dahankzter&gt;      yes sure. i was just thinking from my perspective where normally there is a big proprietary thing eg MQ as &#8220;standard&#8221;. I would not be allowed to pull in an extra middleware thing like RabbitMQ as well as my new code+zeromq. the convincing the management factor is not negligible unfortunately.</div>
<div class="line">[Thursday 17 March 2011] [18:14:15] &lt;advant___&gt;       How does zeromq guarantee message persistence and delivery without a database?  Or does it use something like hypersonic in-memory database?</div>
<div class="line">[Thursday 17 March 2011] [18:25:55] &lt;dahankzter&gt;      it doesn&#8217;t</div>
<div class="line">[Thursday 17 March 2011] [18:29:47] &lt;cremes&gt;  advant___: it doesn&#8217;t guarantee either of those things; what led you to think that?</div>
<div class="line">[Thursday 17 March 2011] [18:36:27] &lt;advant___&gt;       oh i dunno, I guess that would be part of a broker anyways</div>
<div class="line">[Thursday 17 March 2011] [20:48:26] &lt;<a href="#id371"><span class="problematic" id="id372">TokyoDan_</span></a>&gt;       In the Lua binding i don&#8217;t see an equivalent for zmq_msg_close(). Why?</div>
<div class="line">[Thursday 17 March 2011] [20:53:24] &lt;TokyoDan&gt;        In the Lua bindings readme i don&#8217;t see an equivalent to zmq_msg_close(). Why?</div>
<div class="line">[Thursday 17 March 2011] [21:00:32] &lt;TokyoDan&gt;        hello?</div>
<div class="line">[Thursday 17 March 2011] [21:12:04] &lt;Guthur&gt;  TokyoDan, It possibly cleans up itself</div>
<div class="line">[Thursday 17 March 2011] [21:12:32] &lt;Guthur&gt;  not familiar with Lua or the binding, but in clrzmq2 the GC actually takes care of that</div>
<div class="line">[Thursday 17 March 2011] [21:12:44] &lt;Guthur&gt;  there maybe some dispose equivalent</div>
<div class="line">[Thursday 17 March 2011] [21:13:20] &lt;<a href="#id373"><span class="problematic" id="id374">tokyodan_</span></a>&gt;       I was thinking the same thing as Lua has garbage collection. But I&#8217;m not sure.</div>
<div class="line">[Thursday 17 March 2011] [21:13:36] &lt;Guthur&gt;  you could take a look at the source code</div>
<div class="line">[Thursday 17 March 2011] [21:13:55] &lt;Guthur&gt;  it would probably be evident pretty quickly</div>
<div class="line">[Thursday 17 March 2011] [21:13:58] &lt;<a href="#id375"><span class="problematic" id="id376">tokyodan_</span></a>&gt;       Good idea.</div>
<div class="line">[Thursday 17 March 2011] [21:14:09] &lt;Guthur&gt;  sorry i&#8217;d have a look as well but I need to get to bed</div>
<div class="line">[Thursday 17 March 2011] [21:14:21] &lt;<a href="#id377"><span class="problematic" id="id378">tokyodan_</span></a>&gt;       Good Night.</div>
<div class="line">[Thursday 17 March 2011] [21:14:26] &lt;<a href="#id379"><span class="problematic" id="id380">tokyodan_</span></a>&gt;       Thanks again</div>
<div class="line">[Thursday 17 March 2011] [21:14:30] &lt;Guthur&gt;  g&#8217;night</div>
<div class="line">[Thursday 17 March 2011] [21:14:41] &lt;Guthur&gt;  your welcome, happy coding</div>
<div class="line">[Thursday 17 March 2011] [21:14:46] &lt;Guthur&gt;  you&#8217;re*</div>
<div class="line">[Friday 18 March 2011] [04:09:36] &lt;mikko&gt;     good morning</div>
<div class="line">[Friday 18 March 2011] [04:10:52] &lt;sustrik&gt;   morning</div>
<div class="line">[Friday 18 March 2011] [04:11:54] &lt;sustrik&gt;   hi mikko, what about the pgm patch?</div>
<div class="line">[Friday 18 March 2011] [04:11:55] &lt;Steve-o&gt;   afternoon</div>
<div class="line">[Friday 18 March 2011] [04:12:08] &lt;Steve-o&gt;   afternoon</div>
<div class="line">[Friday 18 March 2011] [04:12:09] &lt;mikko&gt;     sustrik: i sent pull request to 201</div>
<div class="line">[Friday 18 March 2011] [04:12:11] &lt;mikko&gt;     ermm</div>
<div class="line">[Friday 18 March 2011] [04:12:13] &lt;mikko&gt;     2-1</div>
<div class="line">[Friday 18 March 2011] [04:12:40] &lt;sustrik&gt;   ok, so it&#8217;s up to pieter to upstream it to master, right?</div>
<div class="line">[Friday 18 March 2011] [04:13:00] &lt;mikko&gt;     sustrik: i don&#8217;t know</div>
<div class="line">[Friday 18 March 2011] [04:13:03] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 18 March 2011] [04:13:06] &lt;sustrik&gt;   never mind</div>
<div class="line">[Friday 18 March 2011] [04:13:19] &lt;mikko&gt;     i can prepare it for master as well</div>
<div class="line">[Friday 18 March 2011] [04:13:27] &lt;mikko&gt;     i think it should&#8217;ve gone to master first</div>
<div class="line">[Friday 18 March 2011] [04:13:35] &lt;mikko&gt;     and then backported to 2-1</div>
<div class="line">[Friday 18 March 2011] [04:13:46] &lt;sustrik&gt;   both directions are possible</div>
<div class="line">[Friday 18 March 2011] [04:13:52] &lt;sustrik&gt;   depends what you are doing</div>
<div class="line">[Friday 18 March 2011] [04:14:03] &lt;sustrik&gt;   with new development i would assume you are right</div>
<div class="line">[Friday 18 March 2011] [04:14:18] &lt;sustrik&gt;   with bugfixes the direction is opposite sometimes</div>
<div class="line">[Friday 18 March 2011] [04:14:36] &lt;sustrik&gt;   ie. stable version is fixed, then the fix is upstreamed to master (dev)</div>
<div class="line">[Friday 18 March 2011] [04:17:16] &lt;jond&gt;      morning all</div>
<div class="line">[Friday 18 March 2011] [04:17:20] &lt;jond&gt;      sutrik</div>
<div class="line">[Friday 18 March 2011] [04:18:06] &lt;jond&gt;      sustrik: let me know what you think on that xrep hwm, pollout stuff and i&#8217;ll fix if necessary</div>
<div class="line">[Friday 18 March 2011] [04:21:37] &lt;sustrik&gt;   jond: it&#8217;s a complex issue, i&#8217;ll produce a lengthy email and send it to the ml later on</div>
<div class="line">[Friday 18 March 2011] [04:22:36] &lt;jond&gt;      sustrik: yes i have been thinking about it and it&#8217;s not easy!</div>
<div class="line">[Friday 18 March 2011] [04:24:12] &lt;jond&gt;      i&#8217;ve gotta go now, can&#8217;t see irc in the day so catch up later on list</div>
<div class="line">[Friday 18 March 2011] [04:39:56] &lt;pieterh&gt;   hi folks</div>
<div class="line">[Friday 18 March 2011] [04:40:00] &lt;pieterh&gt;   hi mikko</div>
<div class="line">[Friday 18 March 2011] [06:39:48] &lt;yrashk&gt;    I just realized why saleyn never replied to my email about erlzmq/erlzmq2 :-(</div>
<div class="line">[Friday 18 March 2011] [06:44:03] &lt;sustrik&gt;   you can try to ping him once more...</div>
<div class="line">[Friday 18 March 2011] [06:46:20] &lt;sustrik&gt;   but iirc the problem with erlang bindings is that each of the three has useful pieces of functionality that others don&#8217;t have, but nobody is willing to work on merging the three featuresets into a single codebase</div>
<div class="line">[Friday 18 March 2011] [06:48:56] &lt;yrashk&gt;    sustrik: I don&#8217;t think he&#8217;ll be able to</div>
<div class="line">[Friday 18 March 2011] [06:49:08] &lt;yrashk&gt;    for the next 10 years or so</div>
<div class="line">[Friday 18 March 2011] [06:49:23] &lt;sustrik&gt;   oh my, is that definitive?</div>
<div class="line">[Friday 18 March 2011] [06:49:42] &lt;yrashk&gt;    sustrik: it&#8217;s impossible to merge erlzmq &amp; erlzmq2, they use different binding strategies</div>
<div class="line">[Friday 18 March 2011] [06:49:46] &lt;yrashk&gt;    sustrik: pretty much</div>
<div class="line">[Friday 18 March 2011] [06:49:49] &lt;sustrik&gt;   :(</div>
<div class="line">[Friday 18 March 2011] [06:50:00] &lt;yrashk&gt;    he has been jailed since mar 2 or so</div>
<div class="line">[Friday 18 March 2011] [06:50:06] &lt;sustrik&gt;   :(((</div>
<div class="line">[Friday 18 March 2011] [06:50:09] &lt;yrashk&gt;    &#8220;On March 2, 2011, it was reported that Mr. Aleynikov was incarcerated on request of the government, as he was judged to be more of a flight risk after separating from his wife and growing distant from his kids. [5]</div>
<div class="line">[Friday 18 March 2011] [06:50:13] &lt;yrashk&gt;    &#8220;</div>
<div class="line">[Friday 18 March 2011] [06:50:17] &lt;yrashk&gt;    also his wife filed a divorce</div>
<div class="line">[Friday 18 March 2011] [06:50:24] &lt;yrashk&gt;    not a good time for Sergey</div>
<div class="line">[Friday 18 March 2011] [06:50:47] &lt;yrashk&gt;    which is like, today</div>
<div class="line">[Friday 18 March 2011] [06:51:12] &lt;sustrik&gt;   oh well</div>
<div class="line">[Friday 18 March 2011] [06:51:41] &lt;sustrik&gt;   so it&#8217;s up to the rest of erlzmq community to drive the project forward</div>
<div class="line">[Friday 18 March 2011] [06:51:51] &lt;yrashk&gt;    yup</div>
<div class="line">[Friday 18 March 2011] [06:52:01] &lt;yrashk&gt;    but again</div>
<div class="line">[Friday 18 March 2011] [06:52:10] &lt;yrashk&gt;    erlzmq and erlzq2 can&#8217;t be merged by any means</div>
<div class="line">[Friday 18 March 2011] [06:52:15] &lt;yrashk&gt;    they are way too different</div>
<div class="line">[Friday 18 March 2011] [06:52:17] &lt;sustrik&gt;   yes, the codebase itself cannot be merged</div>
<div class="line">[Friday 18 March 2011] [06:52:25] &lt;yrashk&gt;    erlzmq2 won&#8217;t work with older Erlang VMs</div>
<div class="line">[Friday 18 March 2011] [06:52:30] &lt;yrashk&gt;    as it uses a new binding technique</div>
<div class="line">[Friday 18 March 2011] [06:52:30] &lt;sustrik&gt;   what could be merged is functionality</div>
<div class="line">[Friday 18 March 2011] [06:52:39] &lt;yrashk&gt;    I thiknk they are very close functionally</div>
<div class="line">[Friday 18 March 2011] [06:53:00] &lt;sustrik&gt;   close = equivalent?</div>
<div class="line">[Friday 18 March 2011] [06:53:00] &lt;yrashk&gt;    we don&#8217;t have an active mode (like saleyn had for the main erlzmq)</div>
<div class="line">[Friday 18 March 2011] [06:53:11] &lt;yrashk&gt;    APIs is not absolutely equivalent, no</div>
<div class="line">[Friday 18 March 2011] [06:53:22] &lt;yrashk&gt;    module names are different, app name is different</div>
<div class="line">[Friday 18 March 2011] [06:53:24] &lt;sustrik&gt;   the problem is that as long as there&#8217;s functionality missing, those using one binding</div>
<div class="line">[Friday 18 March 2011] [06:53:28] &lt;yrashk&gt;    some calls might look a little bit different</div>
<div class="line">[Friday 18 March 2011] [06:53:29] &lt;sustrik&gt;   cannot switch to anotherone</div>
<div class="line">[Friday 18 March 2011] [06:53:39] &lt;yrashk&gt;    I don&#8217;t think we have any functionality missing, really</div>
<div class="line">[Friday 18 March 2011] [06:53:52] &lt;yrashk&gt;    active mode was controversial anyway</div>
<div class="line">[Friday 18 March 2011] [06:54:01] &lt;yrashk&gt;    I think jugg opposed it a lot</div>
<div class="line">[Friday 18 March 2011] [06:54:14] &lt;sustrik&gt;   doesn&#8217;t it have to do with pushback?</div>
<div class="line">[Friday 18 March 2011] [06:54:27] &lt;sustrik&gt;   won&#8217;t passive mode just exhaust all the memory</div>
<div class="line">[Friday 18 March 2011] [06:54:34] &lt;sustrik&gt;   if sender is faster than receiver?</div>
<div class="line">[Friday 18 March 2011] [06:54:50] &lt;yrashk&gt;    well</div>
<div class="line">[Friday 18 March 2011] [06:55:00] &lt;yrashk&gt;    passive mode is pretty much reliant on the way 0mq works</div>
<div class="line">[Friday 18 March 2011] [06:55:34] &lt;yrashk&gt;    recv/poll</div>
<div class="line">[Friday 18 March 2011] [06:55:50] &lt;yrashk&gt;    there are certain issues why we haven&#8217;t implemented active mode yet</div>
<div class="line">[Friday 18 March 2011] [06:56:07] &lt;yrashk&gt;    we could have done a workaround.. but still not sure if it is worth it</div>
<div class="line">[Friday 18 March 2011] [06:56:22] &lt;yrashk&gt;    it probably is worth a try</div>
<div class="line">[Friday 18 March 2011] [06:56:23] &lt;sustrik&gt;   is there any other way to implement pushback?</div>
<div class="line">[Friday 18 March 2011] [06:56:34] &lt;yrashk&gt;    what od you mean by a pushback?</div>
<div class="line">[Friday 18 March 2011] [06:56:59] &lt;sustrik&gt;   meaning that when the receiving end is not able to keep up with the sender</div>
<div class="line">[Friday 18 March 2011] [06:57:05] &lt;sustrik&gt;   the sender gets blocked</div>
<div class="line">[Friday 18 March 2011] [06:57:19] &lt;sustrik&gt;   until the receiver catches up</div>
<div class="line">[Friday 18 March 2011] [06:57:23] &lt;yrashk&gt;    not sure how to do anything about this</div>
<div class="line">[Friday 18 March 2011] [06:57:36] &lt;sustrik&gt;   i think that was what active mode was for</div>
<div class="line">[Friday 18 March 2011] [06:57:37] &lt;yrashk&gt;    basically what we do is we just pass messages back to erlang</div>
<div class="line">[Friday 18 March 2011] [06:57:42] &lt;yrashk&gt;    either directly or as actual essages</div>
<div class="line">[Friday 18 March 2011] [06:58:03] &lt;yrashk&gt;    active mode is just something that does recv for you, basically</div>
<div class="line">[Friday 18 March 2011] [06:58:25] &lt;yrashk&gt;    so I am not sure</div>
<div class="line">[Friday 18 March 2011] [06:58:45] &lt;sustrik&gt;   the problem is that erlang stores the messages in erlang mailbox</div>
<div class="line">[Friday 18 March 2011] [06:58:50] &lt;yrashk&gt;    yep</div>
<div class="line">[Friday 18 March 2011] [06:58:51] &lt;sustrik&gt;   which grows indefinitely</div>
<div class="line">[Friday 18 March 2011] [06:58:57] &lt;yrashk&gt;    but we don&#8217;t send them unless you request</div>
<div class="line">[Friday 18 March 2011] [06:59:10] &lt;yrashk&gt;    active is what sends them regardless of whether you can keep up</div>
<div class="line">[Friday 18 March 2011] [06:59:16] &lt;yrashk&gt;    our recv() algo is simple</div>
<div class="line">[Friday 18 March 2011] [06:59:27] &lt;yrashk&gt;    1. recv noblock</div>
<div class="line">[Friday 18 March 2011] [06:59:31] &lt;yrashk&gt;    2. if there was something, return</div>
<div class="line">[Friday 18 March 2011] [06:59:40] &lt;yrashk&gt;    3. if not, let the reader thread poll it</div>
<div class="line">[Friday 18 March 2011] [06:59:51] &lt;sustrik&gt;   yes, that&#8217;s ok</div>
<div class="line">[Friday 18 March 2011] [06:59:52] &lt;yrashk&gt;    4. when something appears there, send a message to the original requesting process</div>
<div class="line">[Friday 18 March 2011] [06:59:58] &lt;sustrik&gt;   what about the sender side?</div>
<div class="line">[Friday 18 March 2011] [07:00:16] &lt;yrashk&gt;    sender just does send() and that&#8217;s it</div>
<div class="line">[Friday 18 March 2011] [07:00:27] &lt;sustrik&gt;   it blocks the thread?</div>
<div class="line">[Friday 18 March 2011] [07:00:38] &lt;yrashk&gt;    you mean the scheduler?</div>
<div class="line">[Friday 18 March 2011] [07:00:42] &lt;sustrik&gt;   then you can end up with deadlocked erlang VM</div>
<div class="line">[Friday 18 March 2011] [07:00:51] &lt;sustrik&gt;   i mean physicall thread</div>
<div class="line">[Friday 18 March 2011] [07:00:57] &lt;sustrik&gt;   from erlang&#8217;s thread pool</div>
<div class="line">[Friday 18 March 2011] [07:01:02] &lt;yrashk&gt;    if you don&#8217;t pass noblock, yes it will block the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:01:08] &lt;yrashk&gt;    we don&#8217;t use erlang&#8217;s thead pool</div>
<div class="line">[Friday 18 March 2011] [07:01:20] &lt;yrashk&gt;    NIF calls block the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:01:35] &lt;sustrik&gt;   i mean, erlang VM has to execute in an OS thread(s)</div>
<div class="line">[Friday 18 March 2011] [07:01:46] &lt;yrashk&gt;    so if zmq_send blocks, the VM is blocked (well, one cpu core is blocked, to be precise)</div>
<div class="line">[Friday 18 March 2011] [07:01:59] &lt;sustrik&gt;   exactly</div>
<div class="line">[Friday 18 March 2011] [07:02:00] &lt;yrashk&gt;    yes, erlang vm usually has # of schedulers equal to number of cores</div>
<div class="line">[Friday 18 March 2011] [07:02:08] &lt;sustrik&gt;   so, if there&#8217;s 1 CPU</div>
<div class="line">[Friday 18 March 2011] [07:02:20] &lt;yrashk&gt;    and 1 core?</div>
<div class="line">[Friday 18 March 2011] [07:02:27] &lt;sustrik&gt;   and you call invoke 0mq in a blocking way</div>
<div class="line">[Friday 18 March 2011] [07:02:41] &lt;sustrik&gt;   the whole OS process gets bloecked</div>
<div class="line">[Friday 18 March 2011] [07:02:43] &lt;yrashk&gt;    it will fuck up, yes</div>
<div class="line">[Friday 18 March 2011] [07:02:52] &lt;yrashk&gt;    we were thinking about non-blocking send()</div>
<div class="line">[Friday 18 March 2011] [07:02:58] &lt;yrashk&gt;    just haven&#8217;t done it yet</div>
<div class="line">[Friday 18 March 2011] [07:03:08] &lt;yrashk&gt;    there&#8217;s nothing that prevents us from doing it</div>
<div class="line">[Friday 18 March 2011] [07:03:30] &lt;sustrik&gt;   that would mean busy-looping and 100% CPU usage, no?</div>
<div class="line">[Friday 18 March 2011] [07:03:54] &lt;yrashk&gt;    nah</div>
<div class="line">[Friday 18 March 2011] [07:04:02] &lt;yrashk&gt;    we poll on internal inproc sockets</div>
<div class="line">[Friday 18 March 2011] [07:04:06] &lt;yrashk&gt;    for commands</div>
<div class="line">[Friday 18 March 2011] [07:04:13] &lt;yrashk&gt;    in the receiver thread</div>
<div class="line">[Friday 18 March 2011] [07:04:17] &lt;yrashk&gt;    which does async recv</div>
<div class="line">[Friday 18 March 2011] [07:04:37] &lt;yrashk&gt;    so we can do the same thing for send, pretty much</div>
<div class="line">[Friday 18 March 2011] [07:04:41] &lt;yrashk&gt;    may be even in the same thread</div>
<div class="line">[Friday 18 March 2011] [07:04:43] &lt;sustrik&gt;   aha</div>
<div class="line">[Friday 18 March 2011] [07:04:55] &lt;yrashk&gt;    no biggie</div>
<div class="line">[Friday 18 March 2011] [07:05:00] &lt;sustrik&gt;   that way the polling doesn&#8217;t block the erlang scheduler, right?</div>
<div class="line">[Friday 18 March 2011] [07:05:02] &lt;yrashk&gt;    will take probabyl an hour or two to implement</div>
<div class="line">[Friday 18 March 2011] [07:05:07] &lt;yrashk&gt;    it does not</div>
<div class="line">[Friday 18 March 2011] [07:05:10] &lt;yrashk&gt;    it never does</div>
<div class="line">[Friday 18 March 2011] [07:05:14] &lt;sustrik&gt;   nice</div>
<div class="line">[Friday 18 March 2011] [07:05:21] &lt;yrashk&gt;    it&#8217;s always in that second thread</div>
<div class="line">[Friday 18 March 2011] [07:05:27] &lt;yrashk&gt;    we have one thread per context</div>
<div class="line">[Friday 18 March 2011] [07:05:38] &lt;yrashk&gt;    which I guess is good enough</div>
<div class="line">[Friday 18 March 2011] [07:05:43] &lt;yrashk&gt;    originally I had a thread per socket</div>
<div class="line">[Friday 18 March 2011] [07:05:47] &lt;yrashk&gt;    and that was a tad nasty</div>
<div class="line">[Friday 18 March 2011] [07:05:56] &lt;yrashk&gt;    but evax refactored this nicely</div>
<div class="line">[Friday 18 March 2011] [07:06:05] &lt;sustrik&gt;   so erlang allows you to say &#8220;please invoke this code when this file descriptor becomes active&#8221;?</div>
<div class="line">[Friday 18 March 2011] [07:06:23] &lt;sustrik&gt;   and erlang scheduler will do that for you</div>
<div class="line">[Friday 18 March 2011] [07:06:28] &lt;yrashk&gt;    no, it&#8217;s all manual</div>
<div class="line">[Friday 18 March 2011] [07:06:41] &lt;yrashk&gt;    there&#8217;s some FD stuff in there, but not for NIFs afaik</div>
<div class="line">[Friday 18 March 2011] [07:06:59] &lt;yrashk&gt;    basically, when we poll in that thread</div>
<div class="line">[Friday 18 March 2011] [07:07:01] &lt;sustrik&gt;   the question is whether waiting for FD blocks the OS thread or not</div>
<div class="line">[Friday 18 March 2011] [07:07:16] &lt;yrashk&gt;    you mean zmq_poll?</div>
<div class="line">[Friday 18 March 2011] [07:07:22] &lt;sustrik&gt;   are you using zmq_poll?</div>
<div class="line">[Friday 18 March 2011] [07:07:24] &lt;yrashk&gt;    yes</div>
<div class="line">[Friday 18 March 2011] [07:07:33] &lt;sustrik&gt;   zmq_poll is blocking</div>
<div class="line">[Friday 18 March 2011] [07:07:38] &lt;yrashk&gt;    yes, and that&#8217;s fine</div>
<div class="line">[Friday 18 March 2011] [07:07:43] &lt;yrashk&gt;    because we&#8217;re in a separate thread</div>
<div class="line">[Friday 18 March 2011] [07:07:54] &lt;yrashk&gt;    which erlang has no idea about</div>
<div class="line">[Friday 18 March 2011] [07:07:55] &lt;sustrik&gt;   outside of erlang VM?</div>
<div class="line">[Friday 18 March 2011] [07:07:59] &lt;sustrik&gt;   i see</div>
<div class="line">[Friday 18 March 2011] [07:08:01] &lt;yrashk&gt;    well, it&#8217;s in the same process</div>
<div class="line">[Friday 18 March 2011] [07:08:11] &lt;yrashk&gt;    but it&#8217;s separate from the scheduler</div>
<div class="line">[Friday 18 March 2011] [07:08:24] &lt;yrashk&gt;    so all NIF calls are generally very short</div>
<div class="line">[Friday 18 March 2011] [07:08:35] &lt;sustrik&gt;   yep, that could work</div>
<div class="line">[Friday 18 March 2011] [07:08:35] &lt;yrashk&gt;    except for send() which might theoretically block</div>
<div class="line">[Friday 18 March 2011] [07:08:43] &lt;yrashk&gt;    but that&#8217;s something we can definitely fix</div>
<div class="line">[Friday 18 March 2011] [07:08:51] &lt;yrashk&gt;    I just never saw zmq_send() blocking</div>
<div class="line">[Friday 18 March 2011] [07:08:51] &lt;sustrik&gt;   but can be done in same way as recv()</div>
<div class="line">[Friday 18 March 2011] [07:08:54] &lt;yrashk&gt;    yes</div>
<div class="line">[Friday 18 March 2011] [07:08:55] &lt;yrashk&gt;    absolutely</div>
<div class="line">[Friday 18 March 2011] [07:09:01] &lt;sustrik&gt;   you get that for high loads</div>
<div class="line">[Friday 18 March 2011] [07:09:06] &lt;yrashk&gt;    like I said, it&#8217;s an easy change</div>
<div class="line">[Friday 18 March 2011] [07:09:13] &lt;yrashk&gt;    since we have worked out the approach</div>
<div class="line">[Friday 18 March 2011] [07:09:20] &lt;sustrik&gt;   would be good to get that in</div>
<div class="line">[Friday 18 March 2011] [07:09:27] &lt;sustrik&gt;   it&#8217;s essential for some applications</div>
<div class="line">[Friday 18 March 2011] [07:09:31] &lt;yrashk&gt;    I see</div>
<div class="line">[Friday 18 March 2011] [07:09:35] &lt;sustrik&gt;   such as rabbitmq/0mq bridge</div>
<div class="line">[Friday 18 March 2011] [07:09:37] &lt;yrashk&gt;    I am adding a github issue right now</div>
<div class="line">[Friday 18 March 2011] [07:10:17] &lt;yrashk&gt;    <a class="reference external" href="https://github.com/zeromq/erlzmq2/issues/1">https://github.com/zeromq/erlzmq2/issues/1</a></div>
<div class="line">[Friday 18 March 2011] [07:10:21] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 18 March 2011] [07:10:41] &lt;sustrik&gt;   what about the third erlzmq binding?</div>
<div class="line">[Friday 18 March 2011] [07:10:48] &lt;sustrik&gt;   any additional functionality there?</div>
<div class="line">[Friday 18 March 2011] [07:11:16] &lt;yrashk&gt;    cstar/jugg&#8217;s?</div>
<div class="line">[Friday 18 March 2011] [07:11:21] &lt;sustrik&gt;   i guess</div>
<div class="line">[Friday 18 March 2011] [07:11:30] &lt;yrashk&gt;    I don&#8217;t remember any special functionality there</div>
<div class="line">[Friday 18 March 2011] [07:11:37] &lt;yrashk&gt;    it looked more polished than the official one</div>
<div class="line">[Friday 18 March 2011] [07:11:41] &lt;yrashk&gt;    to my eye</div>
<div class="line">[Friday 18 March 2011] [07:11:55] &lt;yrashk&gt;    so I guess it&#8217;s good for older erlangs</div>
<div class="line">[Friday 18 March 2011] [07:12:11] &lt;sustrik&gt;   aha, that&#8217;s the catch, right?</div>
<div class="line">[Friday 18 March 2011] [07:12:11] &lt;yrashk&gt;    or if you have any reasons to use port driver instead of NIF</div>
<div class="line">[Friday 18 March 2011] [07:12:16] &lt;sustrik&gt;   old arlangs don&#8217;t have NIF</div>
<div class="line">[Friday 18 March 2011] [07:12:19] &lt;yrashk&gt;    yeah they don&#8217;t</div>
<div class="line">[Friday 18 March 2011] [07:12:42] &lt;sustrik&gt;   well, if you believe there&#8217;s all the functionality in erlzmq2</div>
<div class="line">[Friday 18 March 2011] [07:12:44] &lt;yrashk&gt;    and some of those have (like last R13Bs and early R14As) but the API was changing a lot</div>
<div class="line">[Friday 18 March 2011] [07:12:58] &lt;yrashk&gt;    so we&#8217;re pretty much &gt;=R14B01 or so</div>
<div class="line">[Friday 18 March 2011] [07:13:12] &lt;sustrik&gt;   let&#8217;s discuss making it a primary erlang binding on the mailing list</div>
<div class="line">[Friday 18 March 2011] [07:13:22] &lt;yrashk&gt;    also, jugg was never able to clock performance comparable to erlzmq2</div>
<div class="line">[Friday 18 March 2011] [07:13:29] &lt;sustrik&gt;   yes, i recall that</div>
<div class="line">[Friday 18 March 2011] [07:13:30] &lt;yrashk&gt;    lets do that</div>
<div class="line">[Friday 18 March 2011] [07:13:37] &lt;yrashk&gt;    we have like 1.3mln/sec for 1bytes</div>
<div class="line">[Friday 18 March 2011] [07:13:41] &lt;yrashk&gt;    which is not bad</div>
<div class="line">[Friday 18 March 2011] [07:13:46] &lt;yrashk&gt;    not great, but decent</div>
<div class="line">[Friday 18 March 2011] [07:13:51] &lt;sustrik&gt;   it&#8217;s very nice</div>
<div class="line">[Friday 18 March 2011] [07:13:55] &lt;yrashk&gt;    (on my mac pro)</div>
<div class="line">[Friday 18 March 2011] [07:13:58] &lt;sustrik&gt;   comparable to other non-C languages</div>
<div class="line">[Friday 18 March 2011] [07:14:02] &lt;yrashk&gt;    c-to-c on my mac pro is like twice as fast</div>
<div class="line">[Friday 18 March 2011] [07:14:23] &lt;yrashk&gt;    2.5+mln/sec</div>
<div class="line">[Friday 18 March 2011] [07:14:31] &lt;yrashk&gt;    but we weren&#8217;t able to squeeze out more yet</div>
<div class="line">[Friday 18 March 2011] [07:14:36] &lt;yrashk&gt;    and I am not sure we can</div>
<div class="line">[Friday 18 March 2011] [07:14:56] &lt;sustrik&gt;   you have to keep in mind that erlang runtime does a lot of stuff</div>
<div class="line">[Friday 18 March 2011] [07:15:00] &lt;sustrik&gt;   scheduling etc.</div>
<div class="line">[Friday 18 March 2011] [07:15:08] &lt;sustrik&gt;   which takes some time itself</div>
<div class="line">[Friday 18 March 2011] [07:15:17] &lt;yrashk&gt;    of course</div>
<div class="line">[Friday 18 March 2011] [07:15:28] &lt;yrashk&gt;    I know erlang fairly well</div>
<div class="line">[Friday 18 March 2011] [07:15:31] &lt;yrashk&gt;    or so I think</div>
<div class="line">[Friday 18 March 2011] [07:15:37] &lt;sustrik&gt;   with throughput over 1M/sec</div>
<div class="line">[Friday 18 March 2011] [07:15:46] &lt;sustrik&gt;   you are getting to nanosecond ranges</div>
<div class="line">[Friday 18 March 2011] [07:15:53] &lt;yrashk&gt;    well that&#8217;s for 1bytes</div>
<div class="line">[Friday 18 March 2011] [07:15:59] &lt;yrashk&gt;    1Kb is like 300K/sec</div>
<div class="line">[Friday 18 March 2011] [07:16:13] &lt;yrashk&gt;    which is still okay I guess</div>
<div class="line">[Friday 18 March 2011] [07:16:22] &lt;sustrik&gt;   100% bandwidth utilisation i would guess</div>
<div class="line">[Friday 18 March 2011] [07:16:28] &lt;sustrik&gt;   1GbE?</div>
<div class="line">[Friday 18 March 2011] [07:16:36] &lt;yrashk&gt;    it&#8217;s all localhost tests :)</div>
<div class="line">[Friday 18 March 2011] [07:16:57] &lt;yrashk&gt;    both for c-to-c and erlang-to-erlang</div>
<div class="line">[Friday 18 March 2011] [07:17:04] &lt;sustrik&gt;   ack</div>
<div class="line">[Friday 18 March 2011] [07:17:07] &lt;yrashk&gt;    for comparison</div>
<div class="line">[Friday 18 March 2011] [07:17:11] &lt;yrashk&gt;    tcp transport</div>
<div class="line">[Friday 18 March 2011] [07:17:14] &lt;sustrik&gt;   the larger the message, the less the erlang overhead</div>
<div class="line">[Friday 18 March 2011] [07:17:16] &lt;yrashk&gt;    ipc was about the same</div>
<div class="line">[Friday 18 March 2011] [07:17:41] &lt;sustrik&gt;   anyway, 1.3M is great</div>
<div class="line">[Friday 18 March 2011] [07:18:30]      * yrashk performs a happy dance</div>
<div class="line">[Friday 18 March 2011] [07:19:11] &lt;yrashk&gt;    anyway</div>
<div class="line">[Friday 18 March 2011] [07:19:18] &lt;yrashk&gt;    lets discuss binding issue on the mailing list?</div>
<div class="line">[Friday 18 March 2011] [07:19:28] &lt;yrashk&gt;    I am subscribed (digest mode)</div>
<div class="line">[Friday 18 March 2011] [07:19:59] &lt;yrashk&gt;    will be back in about 30 mins</div>
<div class="line">[Friday 18 March 2011] [07:21:22] &lt;sustrik&gt;   yrashk: yes, send the proposal to the mailing listr</div>
<div class="line">[Friday 18 March 2011] [07:27:32] &lt;Guthur&gt;    talking of bindings, sustrik do you think it would be wise to discuss marking clrzmq as deprecated and that users should consider either the interop binding or clrzmq2</div>
<div class="line">[Friday 18 March 2011] [07:27:52] &lt;Guthur&gt;    the rational being that the original binding isn&#8217;t really actively developed</div>
<div class="line">[Friday 18 March 2011] [07:28:10] &lt;sustrik&gt;   it&#8217;s a community project, discuss it on the mailing list</div>
<div class="line">[Friday 18 March 2011] [07:28:14] &lt;Guthur&gt;    sure</div>
<div class="line">[Friday 18 March 2011] [07:28:19] &lt;sustrik&gt;   and if there&#8217;s no opposition, let&#8217;s do it</div>
<div class="line">[Friday 18 March 2011] [07:28:22] &lt;Guthur&gt;    just interested in what you think</div>
<div class="line">[Friday 18 March 2011] [07:28:45] &lt;sustrik&gt;   i would rather have actively maintained bindings as &#8220;official&#8221; :)</div>
<div class="line">[Friday 18 March 2011] [07:28:49] &lt;Guthur&gt;    ok, I&#8217;m raise it on the list later today</div>
<div class="line">[Friday 18 March 2011] [07:48:26] &lt;<a href="#id381"><span class="problematic" id="id382">pieterh_</span></a>&gt;  sustrik: ping</div>
<div class="line">[Friday 18 March 2011] [07:48:32] &lt;sustrik&gt;   pong</div>
<div class="line">[Friday 18 March 2011] [07:48:41] &lt;<a href="#id383"><span class="problematic" id="id384">pieterh_</span></a>&gt;  random question about pub/sub...</div>
<div class="line">[Friday 18 March 2011] [07:48:54] &lt;<a href="#id385"><span class="problematic" id="id386">pieterh_</span></a>&gt;  if I send a two-frame message, first key then value, I expect to receive two frames, right?</div>
<div class="line">[Friday 18 March 2011] [07:49:09] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [07:49:26] &lt;<a href="#id387"><span class="problematic" id="id388">pieterh_</span></a>&gt;  ok, I have a test case where it appears to sometimes fail at connection startup</div>
<div class="line">[Friday 18 March 2011] [07:49:39] &lt;<a href="#id389"><span class="problematic" id="id390">pieterh_</span></a>&gt;  loses first frame, sometimes</div>
<div class="line">[Friday 18 March 2011] [07:49:40] &lt;<a href="#id391"><span class="problematic" id="id392">pieterh_</span></a>&gt;  i</div>
<div class="line">[Friday 18 March 2011] [07:49:43] &lt;sustrik&gt;   ok</div>
<div class="line">[Friday 18 March 2011] [07:49:50] &lt;<a href="#id393"><span class="problematic" id="id394">pieterh_</span></a>&gt;  I&#8217;ll post the server and client, hang on...</div>
<div class="line">[Friday 18 March 2011] [07:50:45] &lt;Guthur&gt;    <a href="#id395"><span class="problematic" id="id396">pieterh_</span></a>: with your lazy pirate patterns did you notice that reconnecting after CPU overload rarely happened?</div>
<div class="line">[Friday 18 March 2011] [07:51:20] &lt;Guthur&gt;    I&#8217;ve noticed this behaviour, even with the C examples</div>
<div class="line">[Friday 18 March 2011] [07:51:24] &lt;<a href="#id397"><span class="problematic" id="id398">pieterh_</span></a>&gt;  Guthur: what do you mean?</div>
<div class="line">[Friday 18 March 2011] [07:51:29] &lt;<a href="#id399"><span class="problematic" id="id400">pieterh_</span></a>&gt;  the client doesn&#8217;t reconnect?</div>
<div class="line">[Friday 18 March 2011] [07:51:46] &lt;Guthur&gt;    yeah, it tries and thinks the server is not there</div>
<div class="line">[Friday 18 March 2011] [07:51:50] &lt;<a href="#id401"><span class="problematic" id="id402">pieterh_</span></a>&gt;  normal, because its timeouts are quite aggressive, and simulation of CPU overload is quite a long pause afair</div>
<div class="line">[Friday 18 March 2011] [07:51:54] &lt;Guthur&gt;    if I remove the 1sec sleep it connects</div>
<div class="line">[Friday 18 March 2011] [07:52:05] &lt;<a href="#id403"><span class="problematic" id="id404">pieterh_</span></a>&gt;  try making the client more patient...</div>
<div class="line">[Friday 18 March 2011] [07:52:11] &lt;Guthur&gt;    1sec (heavy work)</div>
<div class="line">[Friday 18 March 2011] [07:52:15] &lt;<a href="#id405"><span class="problematic" id="id406">pieterh_</span></a>&gt;  i&#8217;ll retest, hang on a sec...</div>
<div class="line">[Friday 18 March 2011] [07:53:10] &lt;<a href="#id407"><span class="problematic" id="id408">pieterh_</span></a>&gt;  sustrik: so, <a class="reference external" href="https://gist.github.com/875932">https://gist.github.com/875932</a></div>
<div class="line">[Friday 18 March 2011] [07:53:16] &lt;<a href="#id409"><span class="problematic" id="id410">pieterh_</span></a>&gt;  start the server, then the client</div>
<div class="line">[Friday 18 March 2011] [07:53:25] &lt;sustrik&gt;   ok, will give it a look</div>
<div class="line">[Friday 18 March 2011] [07:53:44] &lt;<a href="#id411"><span class="problematic" id="id412">pieterh_</span></a>&gt;  thanks, this is hitting one of my examples and I can&#8217;t see my fault</div>
<div class="line">[Friday 18 March 2011] [07:53:53] &lt;<a href="#id413"><span class="problematic" id="id414">pieterh_</span></a>&gt;  so made a simplistic case, it still hits...</div>
<div class="line">[Friday 18 March 2011] [07:58:07] &lt;<a href="#id415"><span class="problematic" id="id416">pieterh_</span></a>&gt;  Guthur: it&#8217;s just because the client is too impatient</div>
<div class="line">[Friday 18 March 2011] [07:59:03] &lt;Guthur&gt;    <a href="#id417"><span class="problematic" id="id418">pieterh_</span></a>: ok, cheers for testing</div>
<div class="line">[Friday 18 March 2011] [07:59:50] &lt;<a href="#id419"><span class="problematic" id="id420">pieterh_</span></a>&gt;  Guthur: I&#8217;ll change the &#8216;CPU overload&#8217; delay to 2 seconds instead of 5</div>
<div class="line">[Friday 18 March 2011] [07:59:57] &lt;<a href="#id421"><span class="problematic" id="id422">pieterh_</span></a>&gt;  this lets the client recover</div>
<div class="line">[Friday 18 March 2011] [08:00:09] &lt;Guthur&gt;    sounds good</div>
<div class="line">[Friday 18 March 2011] [08:01:02] &lt;yrashk&gt;    sustrik: what exactly should be in that proposal?</div>
<div class="line">[Friday 18 March 2011] [08:01:08] &lt;Guthur&gt;    it had me scratching my head for a while yesterday, for a moment I thought the Mono runtime was just insanely slow</div>
<div class="line">[Friday 18 March 2011] [08:01:18] &lt;Guthur&gt;    but then seen the same in C</div>
<div class="line">[Friday 18 March 2011] [08:02:18] &lt;<a href="#id423"><span class="problematic" id="id424">pieterh_</span></a>&gt;  yeah, it&#8217;s good to be able to compare the different languages</div>
<div class="line">[Friday 18 March 2011] [08:02:19] &lt;sustrik&gt;   yrashk: &#8220;i propose making erlzmq2 an official erlang binding while keeping erlzmq as a binding for old versions of erlang&#8221;</div>
<div class="line">[Friday 18 March 2011] [08:02:25] &lt;sustrik&gt;   then list your arguments</div>
<div class="line">[Friday 18 March 2011] [08:02:28] &lt;yrashk&gt;    ok</div>
<div class="line">[Friday 18 March 2011] [08:02:29] &lt;sustrik&gt;   and ask people to comment</div>
<div class="line">[Friday 18 March 2011] [08:02:36] &lt;<a href="#id425"><span class="problematic" id="id426">pieterh_</span></a>&gt;  sustrik: I think that was already agreed...</div>
<div class="line">[Friday 18 March 2011] [08:02:46] &lt;yrashk&gt;    can I refer to you as it was your idea?</div>
<div class="line">[Friday 18 March 2011] [08:02:51] &lt;<a href="#id427"><span class="problematic" id="id428">pieterh_</span></a>&gt;  so erlzmq kind of became v1</div>
<div class="line">[Friday 18 March 2011] [08:03:01] &lt;sustrik&gt;   did it?</div>
<div class="line">[Friday 18 March 2011] [08:03:04] &lt;yrashk&gt;    wel</div>
<div class="line">[Friday 18 March 2011] [08:03:05] &lt;yrashk&gt;    well</div>
<div class="line">[Friday 18 March 2011] [08:03:05] &lt;<a href="#id429"><span class="problematic" id="id430">pieterh_</span></a>&gt;  yrashk: I missed something, why are you asking for people to comment on this?</div>
<div class="line">[Friday 18 March 2011] [08:03:09] &lt;yrashk&gt;    ont the wiki, eys</div>
<div class="line">[Friday 18 March 2011] [08:03:16] &lt;yrashk&gt;    <a href="#id431"><span class="problematic" id="id432">pieterh_</span></a>: I am not, sustrik does</div>
<div class="line">[Friday 18 March 2011] [08:03:41] &lt;<a href="#id433"><span class="problematic" id="id434">pieterh_</span></a>&gt;  sustrik: we already afaik got agreement from the erlzmq authors to make v2</div>
<div class="line">[Friday 18 March 2011] [08:03:52] &lt;yrashk&gt;    <a href="#id435"><span class="problematic" id="id436">pieterh_</span></a>: just one of them</div>
<div class="line">[Friday 18 March 2011] [08:04:01] &lt;<a href="#id437"><span class="problematic" id="id438">pieterh_</span></a>&gt;  yrashk: ah... did you ask the others?</div>
<div class="line">[Friday 18 March 2011] [08:04:03] &lt;yrashk&gt;    <a href="#id439"><span class="problematic" id="id440">pieterh_</span></a>: saleyn is unable to answer for some sad reasons</div>
<div class="line">[Friday 18 March 2011] [08:04:10] &lt;<a href="#id441"><span class="problematic" id="id442">pieterh_</span></a>&gt;  ok</div>
<div class="line">[Friday 18 March 2011] [08:04:26] &lt;sustrik&gt;   if it was discussed already, then there&#8217;s no point in discussing it anew</div>
<div class="line">[Friday 18 March 2011] [08:04:31] &lt;<a href="#id443"><span class="problematic" id="id444">pieterh_</span></a>&gt;  indeed</div>
<div class="line">[Friday 18 March 2011] [08:04:34] &lt;yrashk&gt;    ok</div>
<div class="line">[Friday 18 March 2011] [08:04:35] &lt;sustrik&gt;   i just missed the original discussion</div>
<div class="line">[Friday 18 March 2011] [08:04:39] &lt;yrashk&gt;    ya it was discussed here</div>
<div class="line">[Friday 18 March 2011] [08:04:51] &lt;<a href="#id445"><span class="problematic" id="id446">pieterh_</span></a>&gt;  it&#8217;s already an official repository, and the name was made coherent, the wiki correct, etc.</div>
<div class="line">[Friday 18 March 2011] [08:05:08] &lt;sustrik&gt;   then there&#8217;s no problem</div>
<div class="line">[Friday 18 March 2011] [08:05:14] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:05:17] &lt;yrashk&gt;    less work for me then</div>
<div class="line">[Friday 18 March 2011] [08:05:23] &lt;yrashk&gt;    we&#8217;ll then improve send() some time later</div>
<div class="line">[Friday 18 March 2011] [08:05:26] &lt;<a href="#id447"><span class="problematic" id="id448">pieterh_</span></a>&gt;  given that it&#8217;s much faster and sticks to the same API, there was no real argument...</div>
<div class="line">[Friday 18 March 2011] [08:05:35] &lt;sustrik&gt;   i see</div>
<div class="line">[Friday 18 March 2011] [08:05:38] &lt;yrashk&gt;    to make it behave better on blocking sends</div>
<div class="line">[Friday 18 March 2011] [08:05:38] &lt;evax&gt;      yrashk, sustrik: doing it now</div>
<div class="line">[Friday 18 March 2011] [08:05:45] &lt;yrashk&gt;    evax: oh the issue #1?</div>
<div class="line">[Friday 18 March 2011] [08:05:50] &lt;evax&gt;      yes</div>
<div class="line">[Friday 18 March 2011] [08:06:01] &lt;yrashk&gt;    evax: I bet it should be easy to replicate the same method as we do with recv</div>
<div class="line">[Friday 18 March 2011] [08:06:05] &lt;yrashk&gt;    may be even the same thread</div>
<div class="line">[Friday 18 March 2011] [08:06:28] &lt;evax&gt;      same thread, yes</div>
<div class="line">[Friday 18 March 2011] [08:06:32] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:06:47] &lt;yrashk&gt;    should be fairly trivial then</div>
<div class="line">[Friday 18 March 2011] [08:06:56] &lt;yrashk&gt;    just adding an enum flag to recv structure</div>
<div class="line">[Friday 18 March 2011] [08:07:07] &lt;yrashk&gt;    and renaming recv structure to something like command or someting</div>
<div class="line">[Friday 18 March 2011] [08:07:16] &lt;yrashk&gt;    also, evax</div>
<div class="line">[Friday 18 March 2011] [08:07:22] &lt;evax&gt;      yes, along those lines</div>
<div class="line">[Friday 18 March 2011] [08:07:24] &lt;yrashk&gt;    do you plan to do exactly the same scheme?</div>
<div class="line">[Friday 18 March 2011] [08:07:26] &lt;yrashk&gt;    i.e.</div>
<div class="line">[Friday 18 March 2011] [08:07:30] &lt;yrashk&gt;    recv noblock first</div>
<div class="line">[Friday 18 March 2011] [08:07:33] &lt;evax&gt;      sure</div>
<div class="line">[Friday 18 March 2011] [08:07:35] &lt;yrashk&gt;    err</div>
<div class="line">[Friday 18 March 2011] [08:07:37] &lt;yrashk&gt;    send*</div>
<div class="line">[Friday 18 March 2011] [08:07:41] &lt;yrashk&gt;    if it says EAGAIN</div>
<div class="line">[Friday 18 March 2011] [08:07:43] &lt;yrashk&gt;    then pool it</div>
<div class="line">[Friday 18 March 2011] [08:07:56] &lt;evax&gt;      shouldn&#8217;t I ?</div>
<div class="line">[Friday 18 March 2011] [08:08:04] &lt;yrashk&gt;    so that we don&#8217;t pool when it is unnecessary</div>
<div class="line">[Friday 18 March 2011] [08:08:10] &lt;yrashk&gt;    I think it&#8217;s a good approach</div>
<div class="line">[Friday 18 March 2011] [08:08:22] &lt;yrashk&gt;    zmq_send(.., ZMQ_NOBLOCK) -&gt; if EGAGAIN, pool</div>
<div class="line">[Friday 18 March 2011] [08:08:27] &lt;yrashk&gt;    otherwise, be done with it</div>
<div class="line">[Friday 18 March 2011] [08:08:30] &lt;yrashk&gt;    EAGAIN*</div>
<div class="line">[Friday 18 March 2011] [08:08:49] &lt;yrashk&gt;    that looks really very much the same way recv does</div>
<div class="line">[Friday 18 March 2011] [08:11:21] &lt;evax&gt;      except we have to store the msg somewhere</div>
<div class="line">[Friday 18 March 2011] [08:12:17] &lt;yrashk&gt;    in the same struct</div>
<div class="line">[Friday 18 March 2011] [08:12:25] &lt;yrashk&gt;    recv, but renamed</div>
<div class="line">[Friday 18 March 2011] [08:12:35] &lt;yrashk&gt;    and extended accordingly</div>
<div class="line">[Friday 18 March 2011] [08:12:57] &lt;evax&gt;      this goes over the ipc socket, so for big messages its ugly</div>
<div class="line">[Friday 18 March 2011] [08:13:01] &lt;yrashk&gt;    just copy the zms_msg</div>
<div class="line">[Friday 18 March 2011] [08:13:07] &lt;yrashk&gt;    it is</div>
<div class="line">[Friday 18 March 2011] [08:13:13] &lt;yrashk&gt;    but its not ipc</div>
<div class="line">[Friday 18 March 2011] [08:13:16] &lt;yrashk&gt;    inproc</div>
<div class="line">[Friday 18 March 2011] [08:13:21] &lt;evax&gt;      yeah</div>
<div class="line">[Friday 18 March 2011] [08:13:24] &lt;yrashk&gt;    we just pass a pointer</div>
<div class="line">[Friday 18 March 2011] [08:13:31] &lt;yrashk&gt;    how about that?</div>
<div class="line">[Friday 18 March 2011] [08:13:59] &lt;yrashk&gt;    and then zmq_msg_close it when done sending it in a loop</div>
<div class="line">[Friday 18 March 2011] [08:14:23] &lt;yrashk&gt;    theres more important problem</div>
<div class="line">[Friday 18 March 2011] [08:14:33] &lt;yrashk&gt;    in that thread we poll</div>
<div class="line">[Friday 18 March 2011] [08:14:47] &lt;yrashk&gt;    but if we do the blocking send there</div>
<div class="line">[Friday 18 March 2011] [08:15:09] &lt;yrashk&gt;    then receivers will get blocked untill the send is over</div>
<div class="line">[Friday 18 March 2011] [08:15:12] &lt;yrashk&gt;    mhm</div>
<div class="line">[Friday 18 March 2011] [08:15:18] &lt;evax&gt;      reading zmq.h shouldn&#8217;t be a problem to pass the msg in, ideed</div>
<div class="line">[Friday 18 March 2011] [08:15:39] &lt;yrashk&gt;    yeah, so pointer in that struct for msg is cool</div>
<div class="line">[Friday 18 March 2011] [08:15:50] &lt;yrashk&gt;    but this problem above bothers me</div>
<div class="line">[Friday 18 March 2011] [08:15:53] &lt;yrashk&gt;    not nice</div>
<div class="line">[Friday 18 March 2011] [08:16:50] &lt;yrashk&gt;    also separate sending thread isnt solving this completely</div>
<div class="line">[Friday 18 March 2011] [08:17:02] &lt;yrashk&gt;    it will help us from blocking poller</div>
<div class="line">[Friday 18 March 2011] [08:17:23] &lt;yrashk&gt;    but it will not b able to send more than one thing at a time</div>
<div class="line">[Friday 18 March 2011] [08:17:33] &lt;yrashk&gt;    since sending is blocked</div>
<div class="line">[Friday 18 March 2011] [08:17:44] &lt;yrashk&gt;    if only we had a reverse poll</div>
<div class="line">[Friday 18 March 2011] [08:17:47] &lt;yrashk&gt;    wait</div>
<div class="line">[Friday 18 March 2011] [08:18:00] &lt;yrashk&gt;    dont we have that kind of event in poll?</div>
<div class="line">[Friday 18 March 2011] [08:18:08] &lt;evax&gt;      it has to be in the same thread</div>
<div class="line">[Friday 18 March 2011] [08:18:14] &lt;yrashk&gt;    not sure how it will help tho</div>
<div class="line">[Friday 18 March 2011] [08:18:43] &lt;evax&gt;      and I&#8217;m not sure sending and recving are allowed at the same time</div>
<div class="line">[Friday 18 March 2011] [08:19:05] &lt;evax&gt;      if one must not use a socket in multiple threads</div>
<div class="line">[Friday 18 March 2011] [08:19:37] &lt;yrashk&gt;    hey</div>
<div class="line">[Friday 18 March 2011] [08:19:52] &lt;yrashk&gt;    how about using zmq_pollout event?</div>
<div class="line">[Friday 18 March 2011] [08:20:03] &lt;evax&gt;      sure</div>
<div class="line">[Friday 18 March 2011] [08:20:09] &lt;yrashk&gt;    it guarantees you can send without blocking</div>
<div class="line">[Friday 18 March 2011] [08:20:27] &lt;yrashk&gt;    so we can embed this into our poller</div>
<div class="line">[Friday 18 March 2011] [08:21:03] &lt;yrashk&gt;    this way we wont be blocking the poller ever</div>
<div class="line">[Friday 18 March 2011] [08:21:11] &lt;yrashk&gt;    i think it is a sound idea</div>
<div class="line">[Friday 18 March 2011] [08:21:56] &lt;yrashk&gt;    sustrik, wdyt? will it work fine? any precautions?</div>
<div class="line">[Friday 18 March 2011] [08:23:28] &lt;yrashk&gt;    i really like it</div>
<div class="line">[Friday 18 March 2011] [08:42:40] &lt;sustrik&gt;   yes, that&#8217;s what POLLOUT is for</div>
<div class="line">[Friday 18 March 2011] [08:43:08] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [08:43:22] &lt;yrashk&gt;    so hopefully we&#8217;ll have this non-blocking very soon then</div>
<div class="line">[Friday 18 March 2011] [08:43:32] &lt;yrashk&gt;    as it will not change our poller much</div>
<div class="line">[Friday 18 March 2011] [08:45:51] &lt;Steve-o&gt;   mikko: looks like all the platforms are good now</div>
<div class="line">[Friday 18 March 2011] [09:06:34] &lt;<a href="#id449"><span class="problematic" id="id450">pieterh_</span></a>&gt;   sustrik: I think your email is inaccurate in some key ways</div>
<div class="line">[Friday 18 March 2011] [09:06:53] &lt;<a href="#id451"><span class="problematic" id="id452">pieterh_</span></a>&gt;  most critically, you are claiming a purpose for XREP that was never documented before</div>
<div class="line">[Friday 18 March 2011] [09:06:56] &lt;sustrik&gt;   feel free to discuss</div>
<div class="line">[Friday 18 March 2011] [09:07:09] &lt;sustrik&gt;   that&#8217;s why i sent the email out</div>
<div class="line">[Friday 18 March 2011] [09:07:11] &lt;<a href="#id453"><span class="problematic" id="id454">pieterh_</span></a>&gt;  as a user, and the developer of many devices, the notion that you would break this, is... shocking</div>
<div class="line">[Friday 18 March 2011] [09:07:40] &lt;sustrik&gt;   that&#8217;s why it has to be solved</div>
<div class="line">[Friday 18 March 2011] [09:07:41] &lt;<a href="#id455"><span class="problematic" id="id456">pieterh_</span></a>&gt;  it suggests (a) you don&#8217;t know wtf you were doing, (b) you don&#8217;t care about your users, (c) you don&#8217;t understand what they are doing</div>
<div class="line">[Friday 18 March 2011] [09:07:48] &lt;<a href="#id457"><span class="problematic" id="id458">pieterh_</span></a>&gt;  none of this is true, but it&#8217;s what your email suggests</div>
<div class="line">[Friday 18 March 2011] [09:07:50] &lt;sustrik&gt;   i would start with ZMQ)ROUTER socket type</div>
<div class="line">[Friday 18 March 2011] [09:08:19] &lt;sustrik&gt;   shrug, it has to be solved somehow</div>
<div class="line">[Friday 18 March 2011] [09:08:20] &lt;<a href="#id459"><span class="problematic" id="id460">pieterh_</span></a>&gt;  it&#8217;s unavoidable that people use this as a ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:08:27] &lt;<a href="#id461"><span class="problematic" id="id462">pieterh_</span></a>&gt;  so, embrace that and make it work nicely</div>
<div class="line">[Friday 18 March 2011] [09:08:28] &lt;sustrik&gt;   feel free to propose a solution</div>
<div class="line">[Friday 18 March 2011] [09:08:32] &lt;<a href="#id463"><span class="problematic" id="id464">pieterh_</span></a>&gt;  I&#8217;ve done that many times</div>
<div class="line">[Friday 18 March 2011] [09:08:39] &lt;sustrik&gt;   ZMQ_ROUTER, right?</div>
<div class="line">[Friday 18 March 2011] [09:08:40] &lt;<a href="#id465"><span class="problematic" id="id466">pieterh_</span></a>&gt;  call it by the right name, make it work a little better</div>
<div class="line">[Friday 18 March 2011] [09:08:42] &lt;<a href="#id467"><span class="problematic" id="id468">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:08:43] &lt;<a href="#id469"><span class="problematic" id="id470">pieterh_</span></a>&gt;  of course</div>
<div class="line">[Friday 18 March 2011] [09:08:49] &lt;sustrik&gt;   that&#8217;s option 2 i think</div>
<div class="line">[Friday 18 March 2011] [09:08:51] &lt;<a href="#id471"><span class="problematic" id="id472">pieterh_</span></a>&gt;  you will see the overwhelming consensus on the list</div>
<div class="line">[Friday 18 March 2011] [09:09:02] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [09:09:03] &lt;<a href="#id473"><span class="problematic" id="id474">pieterh_</span></a>&gt;  you did read that thread, right?</div>
<div class="line">[Friday 18 March 2011] [09:09:04] &lt;sustrik&gt;   np</div>
<div class="line">[Friday 18 March 2011] [09:09:17] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:09:21] &lt;<a href="#id475"><span class="problematic" id="id476">pieterh_</span></a>&gt;  I like your solution of a verbose compile option</div>
<div class="line">[Friday 18 March 2011] [09:09:29] &lt;sustrik&gt;   i am just explaining the internals</div>
<div class="line">[Friday 18 March 2011] [09:09:40] &lt;sustrik&gt;   opt.2 is probably the best</div>
<div class="line">[Friday 18 March 2011] [09:09:53] &lt;<a href="#id477"><span class="problematic" id="id478">pieterh_</span></a>&gt;  well, you&#8217;re saying you might make a different implementation of &#8220;return to sender&#8221;</div>
<div class="line">[Friday 18 March 2011] [09:10:03] &lt;sustrik&gt;   definitely</div>
<div class="line">[Friday 18 March 2011] [09:10:10] &lt;<a href="#id479"><span class="problematic" id="id480">pieterh_</span></a>&gt;  which (and I give you the raw emotion) is ... shokcing</div>
<div class="line">[Friday 18 March 2011] [09:10:11] &lt;<a href="#id481"><span class="problematic" id="id482">pieterh_</span></a>&gt;  shocking</div>
<div class="line">[Friday 18 March 2011] [09:10:14] &lt;sustrik&gt;   that&#8217;s the XREP should be separated from REOUTER</div>
<div class="line">[Friday 18 March 2011] [09:10:17] &lt;sustrik&gt;   ROUTER*</div>
<div class="line">[Friday 18 March 2011] [09:10:29] &lt;sustrik&gt;   they are two distinct things</div>
<div class="line">[Friday 18 March 2011] [09:10:32] &lt;<a href="#id483"><span class="problematic" id="id484">pieterh_</span></a>&gt;  you have a better idea for the REP-REQ chain?</div>
<div class="line">[Friday 18 March 2011] [09:10:40] &lt;sustrik&gt;   not at the moment</div>
<div class="line">[Friday 18 March 2011] [09:10:51] &lt;sustrik&gt;   but it&#8217;s conceptually different from router</div>
<div class="line">[Friday 18 March 2011] [09:10:56] &lt;<a href="#id485"><span class="problematic" id="id486">pieterh_</span></a>&gt;  precisely, and afaics it&#8217;s impossible without creating stateful fabric</div>
<div class="line">[Friday 18 March 2011] [09:11:02] &lt;sustrik&gt;   say the dropping of unroutable messages -&gt;</div>
<div class="line">[Friday 18 March 2011] [09:11:03] &lt;<a href="#id487"><span class="problematic" id="id488">pieterh_</span></a>&gt;  conceptually it&#8217;s the same</div>
<div class="line">[Friday 18 March 2011] [09:11:05] &lt;<a href="#id489"><span class="problematic" id="id490">pieterh_</span></a>&gt;  it&#8217;s a use case</div>
<div class="line">[Friday 18 March 2011] [09:11:08] &lt;sustrik&gt;   ROUTER should not drop</div>
<div class="line">[Friday 18 March 2011] [09:11:10] &lt;sustrik&gt;   XREP should</div>
<div class="line">[Friday 18 March 2011] [09:11:14] &lt;<a href="#id491"><span class="problematic" id="id492">pieterh_</span></a>&gt;  yes it should</div>
<div class="line">[Friday 18 March 2011] [09:11:24] &lt;<a href="#id493"><span class="problematic" id="id494">pieterh_</span></a>&gt;  ROUTER should drop BUT it should be able to warn you</div>
<div class="line">[Friday 18 March 2011] [09:11:45] &lt;<a href="#id495"><span class="problematic" id="id496">pieterh_</span></a>&gt;  there is nothing useful you can do with an unroutable message but since it often suggests a programming error, you need visibility</div>
<div class="line">[Friday 18 March 2011] [09:11:47] &lt;<a href="#id497"><span class="problematic" id="id498">pieterh_</span></a>&gt;  that&#8217;s all</div>
<div class="line">[Friday 18 March 2011] [09:11:52] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [09:12:08] &lt;<a href="#id499"><span class="problematic" id="id500">pieterh_</span></a>&gt;  I literally go into src/xrep.cpp and add a printf</div>
<div class="line">[Friday 18 March 2011] [09:12:15] &lt;<a href="#id501"><span class="problematic" id="id502">pieterh_</span></a>&gt;  so I can debug a complex router</div>
<div class="line">[Friday 18 March 2011] [09:12:41] &lt;<a href="#id503"><span class="problematic" id="id504">pieterh_</span></a>&gt;  doing a req-rep chain is just one use case for routing</div>
<div class="line">[Friday 18 March 2011] [09:12:44] &lt;<a href="#id505"><span class="problematic" id="id506">pieterh_</span></a>&gt;  it&#8217;s not a core pattern</div>
<div class="line">[Friday 18 March 2011] [09:12:50] &lt;sustrik&gt;   it is</div>
<div class="line">[Friday 18 March 2011] [09:13:00] &lt;<a href="#id507"><span class="problematic" id="id508">pieterh_</span></a>&gt;  not a <em>separate</em> core pattern</div>
<div class="line">[Friday 18 March 2011] [09:13:02] &lt;<a href="#id509"><span class="problematic" id="id510">pieterh_</span></a>&gt;  afaics</div>
<div class="line">[Friday 18 March 2011] [09:14:18] &lt;<a href="#id511"><span class="problematic" id="id512">pieterh_</span></a>&gt;  tbh the envelope concept is ugly as heck but I can&#8217;t see anything simpler or better</div>
<div class="line">[Friday 18 March 2011] [09:14:38] &lt;sustrik&gt;   the one described in the email is nice</div>
<div class="line">[Friday 18 March 2011] [09:14:46] &lt;sustrik&gt;   but works on only for req/rep</div>
<div class="line">[Friday 18 March 2011] [09:14:49] &lt;sustrik&gt;   not for router</div>
<div class="line">[Friday 18 March 2011] [09:15:02] &lt;sustrik&gt;   and it has some scaling issues</div>
<div class="line">[Friday 18 March 2011] [09:15:12] &lt;sustrik&gt;   so it&#8217;s not a real alternative, i think</div>
<div class="line">[Friday 18 March 2011] [09:16:29]      * <a href="#id513"><span class="problematic" id="id514">pieterh_</span></a> is re-reading the email</div>
<div class="line">[Friday 18 March 2011] [09:16:36] &lt;<a href="#id515"><span class="problematic" id="id516">pieterh_</span></a>&gt;  XPUB/XSUB are hop-by-hop?</div>
<div class="line">[Friday 18 March 2011] [09:16:53] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:16:59] &lt;<a href="#id517"><span class="problematic" id="id518">pieterh_</span></a>&gt;  the fact you implement PUB on XPUB, REQ on XREQ, is irrelevant to the user</div>
<div class="line">[Friday 18 March 2011] [09:17:04] &lt;<a href="#id519"><span class="problematic" id="id520">pieterh_</span></a>&gt;  it&#8217;s vital to you, irrelevant to me</div>
<div class="line">[Friday 18 March 2011] [09:17:15] &lt;<a href="#id521"><span class="problematic" id="id522">pieterh_</span></a>&gt;  in fact, worse than irrelevant, it&#8217;s negative data</div>
<div class="line">[Friday 18 March 2011] [09:17:53] &lt;<a href="#id523"><span class="problematic" id="id524">pieterh_</span></a>&gt;  you basically ask me as user to think about your implementation design, which breaks my brain</div>
<div class="line">[Friday 18 March 2011] [09:18:05] &lt;<a href="#id525"><span class="problematic" id="id526">pieterh_</span></a>&gt;  &#8220;The end-to-end type is always layered on top of the corresponding X socket&#8221;</div>
<div class="line">[Friday 18 March 2011] [09:18:06] &lt;sustrik&gt;   it works like IP and TCP</div>
<div class="line">[Friday 18 March 2011] [09:18:10] &lt;<a href="#id527"><span class="problematic" id="id528">pieterh_</span></a>&gt;  that&#8217;s rubbish, sorry</div>
<div class="line">[Friday 18 March 2011] [09:18:14] &lt;<a href="#id529"><span class="problematic" id="id530">pieterh_</span></a>&gt;  I don&#8217;t know IP</div>
<div class="line">[Friday 18 March 2011] [09:18:16] &lt;sustrik&gt;   a TCP user doesn&#8217;t have to be aware of IP</div>
<div class="line">[Friday 18 March 2011] [09:18:19] &lt;sustrik&gt;   but it&#8217;s there</div>
<div class="line">[Friday 18 March 2011] [09:18:32] &lt;<a href="#id531"><span class="problematic" id="id532">pieterh_</span></a>&gt;  sorry, it does not work for me, not at all</div>
<div class="line">[Friday 18 March 2011] [09:18:42] &lt;<a href="#id533"><span class="problematic" id="id534">pieterh_</span></a>&gt;  what I want are a set of socket types with clear names and clear semantics</div>
<div class="line">[Friday 18 March 2011] [09:18:50] &lt;Steve-o&gt;   +1</div>
<div class="line">[Friday 18 March 2011] [09:18:51] &lt;<a href="#id535"><span class="problematic" id="id536">pieterh_</span></a>&gt;  I don&#8217;t want some layering and abstraction I need to learn first</div>
<div class="line">[Friday 18 March 2011] [09:18:52] &lt;sustrik&gt;   that&#8217;s the option 2</div>
<div class="line">[Friday 18 March 2011] [09:18:59] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:19:06] &lt;<a href="#id537"><span class="problematic" id="id538">pieterh_</span></a>&gt;  do not try to sell me your abstractions, it&#8217;s what AMQP does and it&#8217;s bogus</div>
<div class="line">[Friday 18 March 2011] [09:19:22] &lt;sustrik&gt;   what do you want exactly then?</div>
<div class="line">[Friday 18 March 2011] [09:19:25] &lt;sustrik&gt;   i am not following</div>
<div class="line">[Friday 18 March 2011] [09:19:28] &lt;<a href="#id539"><span class="problematic" id="id540">pieterh_</span></a>&gt;  I want clear socket names</div>
<div class="line">[Friday 18 March 2011] [09:19:33] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:19:35] &lt;<a href="#id541"><span class="problematic" id="id542">pieterh_</span></a>&gt;  clear semantics that are documented up-front</div>
<div class="line">[Friday 18 March 2011] [09:19:36] &lt;<a href="#id543"><span class="problematic" id="id544">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:19:46] &lt;<a href="#id545"><span class="problematic" id="id546">pieterh_</span></a>&gt;  this is, sadly, reverse engineering</div>
<div class="line">[Friday 18 March 2011] [09:19:47] &lt;sustrik&gt;   what&#8217;s the problem then?</div>
<div class="line">[Friday 18 March 2011] [09:19:55] &lt;<a href="#id547"><span class="problematic" id="id548">pieterh_</span></a>&gt;  it&#8217;s me trying to make names that fit your semantics</div>
<div class="line">[Friday 18 March 2011] [09:20:12] &lt;<a href="#id549"><span class="problematic" id="id550">pieterh_</span></a>&gt;  there&#8217;s no problem so long as you don&#8217;t come back with abstractions that hurt my brain</div>
<div class="line">[Friday 18 March 2011] [09:20:13] &lt;<a href="#id551"><span class="problematic" id="id552">pieterh_</span></a>&gt;  :-)</div>
<div class="line">[Friday 18 March 2011] [09:20:23] &lt;<a href="#id553"><span class="problematic" id="id554">pieterh_</span></a>&gt;  it is already hard enough</div>
<div class="line">[Friday 18 March 2011] [09:20:35] &lt;sustrik&gt;   that&#8217;s an abstraction on which 0mq is working from very beginning</div>
<div class="line">[Friday 18 March 2011] [09:20:38] &lt;sustrik&gt;   just ignore it</div>
<div class="line">[Friday 18 March 2011] [09:20:55] &lt;sustrik&gt;   as a user you don&#8217;t have to care</div>
<div class="line">[Friday 18 March 2011] [09:20:58] &lt;<a href="#id555"><span class="problematic" id="id556">pieterh_</span></a>&gt;  do you understand that your semantics are counter-productive for mine?</div>
<div class="line">[Friday 18 March 2011] [09:21:08] &lt;<a href="#id557"><span class="problematic" id="id558">pieterh_</span></a>&gt;  we have a conflict, as user vs. designer?</div>
<div class="line">[Friday 18 March 2011] [09:21:27] &lt;sustrik&gt;   i don&#8217;t think so</div>
<div class="line">[Friday 18 March 2011] [09:21:37] &lt;<a href="#id559"><span class="problematic" id="id560">pieterh_</span></a>&gt;  it&#8217;s been that way so far</div>
<div class="line">[Friday 18 March 2011] [09:21:43] &lt;<a href="#id561"><span class="problematic" id="id562">pieterh_</span></a>&gt;  e.g. The end-to-end type is always layered on top of the corresponding X socket</div>
<div class="line">[Friday 18 March 2011] [09:21:49] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 18 March 2011] [09:22:03] &lt;<a href="#id563"><span class="problematic" id="id564">pieterh_</span></a>&gt;  that is toxic for me as user</div>
<div class="line">[Friday 18 March 2011] [09:22:12] &lt;sustrik&gt;   you don&#8217;t have to care</div>
<div class="line">[Friday 18 March 2011] [09:22:20] &lt;sustrik&gt;   use just the non-X types</div>
<div class="line">[Friday 18 March 2011] [09:22:26] &lt;sustrik&gt;   that&#8217;s what proposition 2 is about</div>
<div class="line">[Friday 18 March 2011] [09:22:34] &lt;sustrik&gt;   people want to use routing</div>
<div class="line">[Friday 18 March 2011] [09:22:43] &lt;sustrik&gt;   so let&#8217;s make routing a first-class non-X socket</div>
<div class="line">[Friday 18 March 2011] [09:22:46] &lt;sustrik&gt;   ZMQ_ROUTER</div>
<div class="line">[Friday 18 March 2011] [09:22:53] &lt;<a href="#id565"><span class="problematic" id="id566">pieterh_</span></a>&gt;  well, you can make internal socket types that are undocumented</div>
<div class="line">[Friday 18 March 2011] [09:23:05] &lt;<a href="#id567"><span class="problematic" id="id568">pieterh_</span></a>&gt;  but ZMQ_ROUTER and ZMQ_DEALER cannot be internal and undocumented</div>
<div class="line">[Friday 18 March 2011] [09:23:15] &lt;<a href="#id569"><span class="problematic" id="id570">pieterh_</span></a>&gt;  since they cover 40%, as I said, of real application use cases</div>
<div class="line">[Friday 18 March 2011] [09:23:24] &lt;sustrik&gt;   X-sockets must be documented because they are used to make devices</div>
<div class="line">[Friday 18 March 2011] [09:23:32] &lt;<a href="#id571"><span class="problematic" id="id572">pieterh_</span></a>&gt;  devices are apps</div>
<div class="line">[Friday 18 March 2011] [09:23:43] &lt;sustrik&gt;   i.e. intermdiate nodes with no end-to-end functionalitty</div>
<div class="line">[Friday 18 March 2011] [09:23:46] &lt;<a href="#id573"><span class="problematic" id="id574">pieterh_</span></a>&gt;  X-sockets are your terminology</div>
<div class="line">[Friday 18 March 2011] [09:23:55] &lt;<a href="#id575"><span class="problematic" id="id576">pieterh_</span></a>&gt;  I&#8217;m against that terminology</div>
<div class="line">[Friday 18 March 2011] [09:24:02] &lt;sustrik&gt;   what would you want instead?</div>
<div class="line">[Friday 18 March 2011] [09:24:09] &lt;<a href="#id577"><span class="problematic" id="id578">pieterh_</span></a>&gt;  especially when you explain it</div>
<div class="line">[Friday 18 March 2011] [09:24:16] &lt;sustrik&gt;   i admitt the X- thing is stupid</div>
<div class="line">[Friday 18 March 2011] [09:24:18] &lt;<a href="#id579"><span class="problematic" id="id580">pieterh_</span></a>&gt;  just a clear set of sockets that are properly documented and match real requirements</div>
<div class="line">[Friday 18 March 2011] [09:24:23] &lt;<a href="#id581"><span class="problematic" id="id582">pieterh_</span></a>&gt;  it&#8217;s not hard</div>
<div class="line">[Friday 18 March 2011] [09:24:24] &lt;<a href="#id583"><span class="problematic" id="id584">pieterh_</span></a>&gt;  design from the use case backwards</div>
<div class="line">[Friday 18 March 2011] [09:24:29] &lt;sustrik&gt;   haven&#8217;t though of anything better though</div>
<div class="line">[Friday 18 March 2011] [09:24:30] &lt;<a href="#id585"><span class="problematic" id="id586">pieterh_</span></a>&gt;  not from the implementation forwards</div>
<div class="line">[Friday 18 March 2011] [09:24:36] &lt;<a href="#id587"><span class="problematic" id="id588">pieterh_</span></a>&gt;  I don&#8217;t <em>care</em> how you implement stuff</div>
<div class="line">[Friday 18 March 2011] [09:24:58] &lt;<a href="#id589"><span class="problematic" id="id590">pieterh_</span></a>&gt;  what I do care about is the clarity of documentation as a contract</div>
<div class="line">[Friday 18 March 2011] [09:25:00] &lt;<a href="#id591"><span class="problematic" id="id592">pieterh_</span></a>&gt;  clear names</div>
<div class="line">[Friday 18 March 2011] [09:25:09] &lt;sustrik&gt;   the problem is that X- sockets have to be exposed because of device implementers</div>
<div class="line">[Friday 18 March 2011] [09:25:12] &lt;<a href="#id593"><span class="problematic" id="id594">pieterh_</span></a>&gt;  clear semantics that directly speak to user requirements</div>
<div class="line">[Friday 18 March 2011] [09:25:16] &lt;<a href="#id595"><span class="problematic" id="id596">pieterh_</span></a>&gt;  ?</div>
<div class="line">[Friday 18 March 2011] [09:25:21] &lt;sustrik&gt;   so they can&#8217;t be hidden</div>
<div class="line">[Friday 18 March 2011] [09:25:22] &lt;<a href="#id597"><span class="problematic" id="id598">pieterh_</span></a>&gt;  ZMQ_ROUTER is not a problem</div>
<div class="line">[Friday 18 March 2011] [09:25:28] &lt;<a href="#id599"><span class="problematic" id="id600">pieterh_</span></a>&gt;  sigh</div>
<div class="line">[Friday 18 March 2011] [09:25:32] &lt;<a href="#id601"><span class="problematic" id="id602">pieterh_</span></a>&gt;  devices are apps</div>
<div class="line">[Friday 18 March 2011] [09:25:34] &lt;sustrik&gt;   no, the problem is layering</div>
<div class="line">[Friday 18 March 2011] [09:25:40] &lt;<a href="#id603"><span class="problematic" id="id604">pieterh_</span></a>&gt;  that&#8217;s your problem, not mine</div>
<div class="line">[Friday 18 March 2011] [09:25:55] &lt;<a href="#id605"><span class="problematic" id="id606">pieterh_</span></a>&gt;  that&#8217;s an implementation detail</div>
<div class="line">[Friday 18 March 2011] [09:25:58] &lt;<a href="#id607"><span class="problematic" id="id608">pieterh_</span></a>&gt;  look... just make small steps here</div>
<div class="line">[Friday 18 March 2011] [09:26:06] &lt;sustrik&gt;   ok, so just ignore the X types</div>
<div class="line">[Friday 18 March 2011] [09:26:09] &lt;<a href="#id609"><span class="problematic" id="id610">pieterh_</span></a>&gt;  rename XREP and XREQ to ROUTER and DEALER</div>
<div class="line">[Friday 18 March 2011] [09:26:17] &lt;<a href="#id611"><span class="problematic" id="id612">pieterh_</span></a>&gt;  and stop using weird names that make no sense</div>
<div class="line">[Friday 18 March 2011] [09:26:17] &lt;sustrik&gt;   it&#8217;s mine problem, not yours</div>
<div class="line">[Friday 18 March 2011] [09:26:33] &lt;<a href="#id613"><span class="problematic" id="id614">pieterh_</span></a>&gt;  if you want to use undocumented internal socket types, fine</div>
<div class="line">[Friday 18 March 2011] [09:26:38] &lt;<a href="#id615"><span class="problematic" id="id616">pieterh_</span></a>&gt;  but they don&#8217;t exist for me</div>
<div class="line">[Friday 18 March 2011] [09:26:45] &lt;sustrik&gt;   they must be documented because of devices</div>
<div class="line">[Friday 18 March 2011] [09:26:57] &lt;sustrik&gt;   there&#8217;s no way to create a device with REQ/REP</div>
<div class="line">[Friday 18 March 2011] [09:27:01] &lt;sustrik&gt;   it would blockl</div>
<div class="line">[Friday 18 March 2011] [09:27:01] &lt;<a href="#id617"><span class="problematic" id="id618">pieterh_</span></a>&gt;  then they are not internal</div>
<div class="line">[Friday 18 March 2011] [09:27:07] &lt;<a href="#id619"><span class="problematic" id="id620">pieterh_</span></a>&gt;  well, I do know that</div>
<div class="line">[Friday 18 March 2011] [09:27:25] &lt;<a href="#id621"><span class="problematic" id="id622">pieterh_</span></a>&gt;  when I say &#8220;undocumented internal socket types&#8221; I do not mean ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:27:25] &lt;<a href="#id623"><span class="problematic" id="id624">pieterh_</span></a>&gt;  obviously</div>
<div class="line">[Friday 18 March 2011] [09:27:41] &lt;<a href="#id625"><span class="problematic" id="id626">pieterh_</span></a>&gt;  I mean e.g. XPUB/XSUB</div>
<div class="line">[Friday 18 March 2011] [09:27:51] &lt;sustrik&gt;   so my proposition is let distiquish XREP/XREQ</div>
<div class="line">[Friday 18 March 2011] [09:27:55] &lt;sustrik&gt;   from ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:28:03] &lt;sustrik&gt;   you can then use ROUTER/DEALER</div>
<div class="line">[Friday 18 March 2011] [09:28:04] &lt;<a href="#id627"><span class="problematic" id="id628">pieterh_</span></a>&gt;  why?</div>
<div class="line">[Friday 18 March 2011] [09:28:12] &lt;<a href="#id629"><span class="problematic" id="id630">pieterh_</span></a>&gt;  why keep the old names at all?</div>
<div class="line">[Friday 18 March 2011] [09:28:15] &lt;sustrik&gt;   because it&#8217;s a different messaging pattern</div>
<div class="line">[Friday 18 March 2011] [09:28:21] &lt;<a href="#id631"><span class="problematic" id="id632">pieterh_</span></a>&gt;  sigh</div>
<div class="line">[Friday 18 March 2011] [09:28:23] &lt;<a href="#id633"><span class="problematic" id="id634">pieterh_</span></a>&gt;  this is just bogus</div>
<div class="line">[Friday 18 March 2011] [09:28:25] &lt;sustrik&gt;   it SMTP-like messaging</div>
<div class="line">[Friday 18 March 2011] [09:28:27] &lt;<a href="#id635"><span class="problematic" id="id636">pieterh_</span></a>&gt;  it&#8217;s not a different pattern</div>
<div class="line">[Friday 18 March 2011] [09:28:34] &lt;<a href="#id637"><span class="problematic" id="id638">pieterh_</span></a>&gt;  it&#8217;s just one use case</div>
<div class="line">[Friday 18 March 2011] [09:28:38] &lt;sustrik&gt;   specify an address, the message will get there</div>
<div class="line">[Friday 18 March 2011] [09:28:41] &lt;<a href="#id639"><span class="problematic" id="id640">pieterh_</span></a>&gt;  you have said it, there&#8217;s no better way to implement it</div>
<div class="line">[Friday 18 March 2011] [09:28:48] &lt;sustrik&gt;   while req/rep is:</div>
<div class="line">[Friday 18 March 2011] [09:28:52] &lt;<a href="#id641"><span class="problematic" id="id642">pieterh_</span></a>&gt;  &#8220;message will get there&#8221; is not a socket semantic</div>
<div class="line">[Friday 18 March 2011] [09:29:01] &lt;sustrik&gt;   specify the name of the service, you task will be executed</div>
<div class="line">[Friday 18 March 2011] [09:29:18] &lt;<a href="#id643"><span class="problematic" id="id644">pieterh_</span></a>&gt;  that is Majordomo</div>
<div class="line">[Friday 18 March 2011] [09:29:21] &lt;<a href="#id645"><span class="problematic" id="id646">pieterh_</span></a>&gt;  have you actually read the Guide?</div>
<div class="line">[Friday 18 March 2011] [09:29:28] &lt;sustrik&gt;   most of it</div>
<div class="line">[Friday 18 March 2011] [09:29:38] &lt;<a href="#id647"><span class="problematic" id="id648">pieterh_</span></a>&gt;  you should perhaps see what people do with your work</div>
<div class="line">[Friday 18 March 2011] [09:29:39] &lt;sustrik&gt;   anyway, let&#8217;s move this discussion on the mailing list</div>
<div class="line">[Friday 18 March 2011] [09:29:43] &lt;<a href="#id649"><span class="problematic" id="id650">pieterh_</span></a>&gt;  it&#8217;s all based on real questions on the list</div>
<div class="line">[Friday 18 March 2011] [09:29:49] &lt;<a href="#id651"><span class="problematic" id="id652">pieterh_</span></a>&gt;  SOA is not a socket semantic</div>
<div class="line">[Friday 18 March 2011] [09:30:16] &lt;<a href="#id653"><span class="problematic" id="id654">pieterh_</span></a>&gt;  my advice, honestly, is to make small, careful evolutionary steps</div>
<div class="line">[Friday 18 March 2011] [09:30:26] &lt;<a href="#id655"><span class="problematic" id="id656">pieterh_</span></a>&gt;  do not make radical changes to things that took years to learn</div>
<div class="line">[Friday 18 March 2011] [09:30:28] &lt;sustrik&gt;   #define ZMQ_ROUTER ZMQ_XREP</div>
<div class="line">[Friday 18 March 2011] [09:30:31] &lt;<a href="#id657"><span class="problematic" id="id658">pieterh_</span></a>&gt;  people will not like you for it</div>
<div class="line">[Friday 18 March 2011] [09:30:32] &lt;<a href="#id659"><span class="problematic" id="id660">pieterh_</span></a>&gt;  sure</div>
<div class="line">[Friday 18 March 2011] [09:30:33] &lt;sustrik&gt;   that&#8217;s as small as it gets</div>
<div class="line">[Friday 18 March 2011] [09:30:36] &lt;<a href="#id661"><span class="problematic" id="id662">pieterh_</span></a>&gt;  I&#8217;ve done that in 2.1</div>
<div class="line">[Friday 18 March 2011] [09:30:40] &lt;<a href="#id663"><span class="problematic" id="id664">pieterh_</span></a>&gt;  precisely that</div>
<div class="line">[Friday 18 March 2011] [09:30:45] &lt;sustrik&gt;   i&#8217;ll do that in trunk</div>
<div class="line">[Friday 18 March 2011] [09:30:48] &lt;<a href="#id665"><span class="problematic" id="id666">pieterh_</span></a>&gt;  it&#8217;s sufficient for me</div>
<div class="line">[Friday 18 March 2011] [09:30:54] &lt;sustrik&gt;   but i would like it to be discussed first</div>
<div class="line">[Friday 18 March 2011] [09:31:03] &lt;<a href="#id667"><span class="problematic" id="id668">pieterh_</span></a>&gt;  the naming has been discussed several times</div>
<div class="line">[Friday 18 March 2011] [09:31:05] &lt;sustrik&gt;   i assume that would be the preferred option</div>
<div class="line">[Friday 18 March 2011] [09:31:09] &lt;<a href="#id669"><span class="problematic" id="id670">pieterh_</span></a>&gt;  it&#8217;s not the same issue as semantic changes</div>
<div class="line">[Friday 18 March 2011] [09:31:16] &lt;sustrik&gt;   but i don&#8217;t want to do it without discussion on the list</div>
<div class="line">[Friday 18 March 2011] [09:31:21] &lt;<a href="#id671"><span class="problematic" id="id672">pieterh_</span></a>&gt;  you are mixing two issues and making the discussion harder</div>
<div class="line">[Friday 18 March 2011] [09:31:35] &lt;<a href="#id673"><span class="problematic" id="id674">pieterh_</span></a>&gt;  the naming <em>has</em> been discussed several times, with clear consensus</div>
<div class="line">[Friday 18 March 2011] [09:31:40] &lt;<a href="#id675"><span class="problematic" id="id676">pieterh_</span></a>&gt;  shall I point you to the thread?</div>
<div class="line">[Friday 18 March 2011] [09:31:44] &lt;sustrik&gt;   explain your point of view on the list then</div>
<div class="line">[Friday 18 March 2011] [09:31:54] &lt;sustrik&gt;   we are a community</div>
<div class="line">[Friday 18 March 2011] [09:31:56] &lt;<a href="#id677"><span class="problematic" id="id678">pieterh_</span></a>&gt;  I&#8217;ve done that, of course</div>
<div class="line">[Friday 18 March 2011] [09:31:59] &lt;<a href="#id679"><span class="problematic" id="id680">pieterh_</span></a>&gt;  we&#8217;re also on IRC</div>
<div class="line">[Friday 18 March 2011] [09:32:03] &lt;<a href="#id681"><span class="problematic" id="id682">pieterh_</span></a>&gt;  this is logged</div>
<div class="line">[Friday 18 March 2011] [09:32:18] &lt;sustrik&gt;   yep, but lot of people are not here at the moment</div>
<div class="line">[Friday 18 March 2011] [09:32:25] &lt;<a href="#id683"><span class="problematic" id="id684">pieterh_</span></a>&gt;  the list is also fairly passive</div>
<div class="line">[Friday 18 March 2011] [09:32:39] &lt;<a href="#id685"><span class="problematic" id="id686">pieterh_</span></a>&gt;  nonetheless, I have asked about renaming the sockets and there was <em>clear</em> consensus</div>
<div class="line">[Friday 18 March 2011] [09:32:43] &lt;<a href="#id687"><span class="problematic" id="id688">pieterh_</span></a>&gt;  please do respect that</div>
<div class="line">[Friday 18 March 2011] [09:32:47] &lt;<a href="#id689"><span class="problematic" id="id690">pieterh_</span></a>&gt;  we are a community, as you say</div>
<div class="line">[Friday 18 March 2011] [09:32:48] &lt;sustrik&gt;   it&#8217;s polite to allow even those in other timezones to discuss</div>
<div class="line">[Friday 18 March 2011] [09:33:10] &lt;<a href="#id691"><span class="problematic" id="id692">pieterh_</span></a>&gt;  also, reopening a discussion because you weren&#8217;t there, or don&#8217;t like the outcome is unpolite</div>
<div class="line">[Friday 18 March 2011] [09:33:17] &lt;sustrik&gt;   yep, i am for ZMQ_ROUTER options as well</div>
<div class="line">[Friday 18 March 2011] [09:33:22] &lt;<a href="#id693"><span class="problematic" id="id694">pieterh_</span></a>&gt;  so, we make that</div>
<div class="line">[Friday 18 March 2011] [09:33:29] &lt;<a href="#id695"><span class="problematic" id="id696">pieterh_</span></a>&gt;  and we consider the semantics as a separate issue</div>
<div class="line">[Friday 18 March 2011] [09:33:32] &lt;sustrik&gt;   it&#8217;s supplying the missing pieces of information</div>
<div class="line">[Friday 18 March 2011] [09:33:44] &lt;<a href="#id697"><span class="problematic" id="id698">pieterh_</span></a>&gt;  i&#8217;m always in favor of better semantics but they must be carefully worked out of use cases</div>
<div class="line">[Friday 18 March 2011] [09:33:53] &lt;sustrik&gt;   yup</div>
<div class="line">[Friday 18 March 2011] [09:33:55] &lt;<a href="#id699"><span class="problematic" id="id700">pieterh_</span></a>&gt;  abstract &#8220;it&#8217;s like XYZ&#8221; discussions are pointless IMO</div>
<div class="line">[Friday 18 March 2011] [09:33:59] &lt;<a href="#id701"><span class="problematic" id="id702">pieterh_</span></a>&gt;  we are not like XYZ</div>
<div class="line">[Friday 18 March 2011] [09:34:04] &lt;sustrik&gt;   sure, say so</div>
<div class="line">[Friday 18 March 2011] [09:34:07] &lt;<a href="#id703"><span class="problematic" id="id704">pieterh_</span></a>&gt;  XYZ is like us, done badly</div>
<div class="line">[Friday 18 March 2011] [09:34:07] &lt;<a href="#id705"><span class="problematic" id="id706">pieterh_</span></a>&gt;  period</div>
<div class="line">[Friday 18 March 2011] [09:34:18] &lt;<a href="#id707"><span class="problematic" id="id708">pieterh_</span></a>&gt;  what, again?</div>
<div class="line">[Friday 18 March 2011] [09:34:18] &lt;<a href="#id709"><span class="problematic" id="id710">pieterh_</span></a>&gt;  :-)</div>
<div class="line">[Friday 18 March 2011] [09:34:40] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 18 March 2011] [09:34:55] &lt;<a href="#id711"><span class="problematic" id="id712">pieterh_</span></a>&gt;  btw, for IPC, what do you think about making a shared memory transport?</div>
<div class="line">[Friday 18 March 2011] [09:35:11] &lt;<a href="#id713"><span class="problematic" id="id714">pieterh_</span></a>&gt;  one can make a portable shmem layer, then use that</div>
<div class="line">[Friday 18 March 2011] [09:35:29] &lt;sustrik&gt;   there&#8217;s an API problem with that</div>
<div class="line">[Friday 18 March 2011] [09:35:32] &lt;<a href="#id715"><span class="problematic" id="id716">pieterh_</span></a>&gt;  all we need is a portable shmem api people can implement</div>
<div class="line">[Friday 18 March 2011] [09:35:39] &lt;sustrik&gt;   when you allocate a message</div>
<div class="line">[Friday 18 March 2011] [09:35:48] &lt;sustrik&gt;   (zmq_msg_init_size)</div>
<div class="line">[Friday 18 March 2011] [09:35:54] &lt;sustrik&gt;   it&#8217;s allocated in process heap</div>
<div class="line">[Friday 18 March 2011] [09:36:01] &lt;<a href="#id717"><span class="problematic" id="id718">pieterh_</span></a>&gt;  right, that&#8217;s fine, we copy data</div>
<div class="line">[Friday 18 March 2011] [09:36:20] &lt;sustrik&gt;   if you copy data then there&#8217;s not much point in using shmem</div>
<div class="line">[Friday 18 March 2011] [09:36:32] &lt;<a href="#id719"><span class="problematic" id="id720">pieterh_</span></a>&gt;  much, much faster than IPC</div>
<div class="line">[Friday 18 March 2011] [09:36:45] &lt;<a href="#id721"><span class="problematic" id="id722">pieterh_</span></a>&gt;  also, am I wrong, but with ZMQ you <em>always</em> have to copy data on recv?</div>
<div class="line">[Friday 18 March 2011] [09:36:49] &lt;sustrik&gt;   if that&#8217;s the case, then sure</div>
<div class="line">[Friday 18 March 2011] [09:36:57] &lt;sustrik&gt;   it have been discussed serveral times</div>
<div class="line">[Friday 18 March 2011] [09:37:03] &lt;<a href="#id723"><span class="problematic" id="id724">pieterh_</span></a>&gt;  shmem?</div>
<div class="line">[Friday 18 March 2011] [09:37:07] &lt;sustrik&gt;   yep</div>
<div class="line">[Friday 18 March 2011] [09:37:18] &lt;sustrik&gt;   but nobody really tried to implement it</div>
<div class="line">[Friday 18 March 2011] [09:37:21] &lt;<a href="#id725"><span class="problematic" id="id726">pieterh_</span></a>&gt;  I&#8217;ve not seen any attempt to slice it into two</div>
<div class="line">[Friday 18 March 2011] [09:37:21] &lt;sustrik&gt;   at least afaik</div>
<div class="line">[Friday 18 March 2011] [09:37:37] &lt;sustrik&gt;   two what?</div>
<div class="line">[Friday 18 March 2011] [09:37:40] &lt;<a href="#id727"><span class="problematic" id="id728">pieterh_</span></a>&gt;  two layers</div>
<div class="line">[Friday 18 March 2011] [09:37:57] &lt;<a href="#id729"><span class="problematic" id="id730">pieterh_</span></a>&gt;  so, abstract shmem api, and implementations thereof, and use thereof</div>
<div class="line">[Friday 18 March 2011] [09:38:12] &lt;<a href="#id731"><span class="problematic" id="id732">pieterh_</span></a>&gt;  the problem is today, you&#8217;d have to know both sides of the cake to make it</div>
<div class="line">[Friday 18 March 2011] [09:38:21] &lt;<a href="#id733"><span class="problematic" id="id734">pieterh_</span></a>&gt;  both how to make a transport in 0MQ, and how to do shmem on system X</div>
<div class="line">[Friday 18 March 2011] [09:38:28] &lt;<a href="#id735"><span class="problematic" id="id736">pieterh_</span></a>&gt;  I&#8217;d like to slice this into two problems</div>
<div class="line">[Friday 18 March 2011] [09:38:46] &lt;sustrik&gt;   how would you do that?</div>
<div class="line">[Friday 18 March 2011] [09:38:54] &lt;Steve-o&gt;   re: shmem I got as far as this and haven&#8217;t looked at it again:  <a class="reference external" href="https://gist.github.com/876073">https://gist.github.com/876073</a></div>
<div class="line">[Friday 18 March 2011] [09:38:55] &lt;<a href="#id737"><span class="problematic" id="id738">pieterh_</span></a>&gt;  well, classic portable API solution</div>
<div class="line">[Friday 18 March 2011] [09:39:06] &lt;<a href="#id739"><span class="problematic" id="id740">pieterh_</span></a>&gt;  like how I made portable threading in ZFL</div>
<div class="line">[Friday 18 March 2011] [09:39:42] &lt;sustrik&gt;   currently 0MQ uses <a href="#id741"><span class="problematic" id="id742">ZMQ_HAVE_</span></a>... macros to provide OS-specific functionality</div>
<div class="line">[Friday 18 March 2011] [09:39:45] &lt;<a href="#id743"><span class="problematic" id="id744">pieterh_</span></a>&gt;  first step is to agree on what constitutes the necessary shmem api for a portable shmem transport in 0MQ</div>
<div class="line">[Friday 18 March 2011] [09:39:58] &lt;<a href="#id745"><span class="problematic" id="id746">pieterh_</span></a>&gt;  sure, but that&#8217;s not helpful here, forget it</div>
<div class="line">[Friday 18 March 2011] [09:40:07] &lt;<a href="#id747"><span class="problematic" id="id748">pieterh_</span></a>&gt;  you do that in some module, shmem.cpp or whatever</div>
<div class="line">[Friday 18 March 2011] [09:40:11] &lt;sustrik&gt;   ah, you are speaking of internal apis, right?</div>
<div class="line">[Friday 18 March 2011] [09:40:14] &lt;<a href="#id749"><span class="problematic" id="id750">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:40:20] &lt;sustrik&gt;   abstraction for transports</div>
<div class="line">[Friday 18 March 2011] [09:40:23] &lt;<a href="#id751"><span class="problematic" id="id752">pieterh_</span></a>&gt;  a portability API for shmem</div>
<div class="line">[Friday 18 March 2011] [09:40:24] &lt;<a href="#id753"><span class="problematic" id="id754">pieterh_</span></a>&gt;  yes</div>
<div class="line">[Friday 18 March 2011] [09:40:30] &lt;sustrik&gt;   that would be great</div>
<div class="line">[Friday 18 March 2011] [09:40:38] &lt;<a href="#id755"><span class="problematic" id="id756">pieterh_</span></a>&gt;  it means one person writes the transport, another group makes it work on random boxes</div>
<div class="line">[Friday 18 March 2011] [09:40:38] &lt;sustrik&gt;   i was thinking about it for a long time</div>
<div class="line">[Friday 18 March 2011] [09:40:43] &lt;sustrik&gt;   but it&#8217;s rather complex</div>
<div class="line">[Friday 18 March 2011] [09:40:48] &lt;<a href="#id757"><span class="problematic" id="id758">pieterh_</span></a>&gt;  all we need is a simple abstract API</div>
<div class="line">[Friday 18 March 2011] [09:40:52] &lt;<a href="#id759"><span class="problematic" id="id760">pieterh_</span></a>&gt;  shmem_get_block ()</div>
<div class="line">[Friday 18 March 2011] [09:40:56] &lt;<a href="#id761"><span class="problematic" id="id762">pieterh_</span></a>&gt;  shmem_write ()</div>
<div class="line">[Friday 18 March 2011] [09:41:00] &lt;<a href="#id763"><span class="problematic" id="id764">pieterh_</span></a>&gt;  etc. I have no idea...</div>
<div class="line">[Friday 18 March 2011] [09:41:05] &lt;sustrik&gt;   ah, at that level</div>
<div class="line">[Friday 18 March 2011] [09:41:21] &lt;sustrik&gt;   so not generic API for transports</div>
<div class="line">[Friday 18 March 2011] [09:41:30] &lt;mato&gt;      guys, re ROUTER, if we are going to formalize this then rather than just renaming XREP shouldn&#8217;t we think about what the real semantics are for people who wish to do routing by design?</div>
<div class="line">[Friday 18 March 2011] [09:41:30] &lt;<a href="#id765"><span class="problematic" id="id766">pieterh_</span></a>&gt;  no, only for shmem</div>
<div class="line">[Friday 18 March 2011] [09:41:31] &lt;sustrik&gt;   rather generic API for shmem</div>
<div class="line">[Friday 18 March 2011] [09:41:44] &lt;mato&gt;      since the current use of router has simply evolved out of what XREP provides.</div>
<div class="line">[Friday 18 March 2011] [09:41:46] &lt;<a href="#id767"><span class="problematic" id="id768">pieterh_</span></a>&gt;  sustrik: yes, just to solve this case</div>
<div class="line">[Friday 18 March 2011] [09:41:48] &lt;sustrik&gt;   spieterh: sure, feel free to implement</div>
<div class="line">[Friday 18 March 2011] [09:41:53] &lt;<a href="#id769"><span class="problematic" id="id770">pieterh_</span></a>&gt;  mato: yes, but it seems there&#8217;s no better way</div>
<div class="line">[Friday 18 March 2011] [09:42:12] &lt;<a href="#id771"><span class="problematic" id="id772">pieterh_</span></a>&gt;  sustrik: my problem is I have zero idea what a transport would need</div>
<div class="line">[Friday 18 March 2011] [09:42:14] &lt;mato&gt;      <a href="#id773"><span class="problematic" id="id774">pieterh_</span></a>: why so? there&#8217;s no hurry, 3.0 is a way away yet</div>
<div class="line">[Friday 18 March 2011] [09:42:17] &lt;sustrik&gt;   mato: ack</div>
<div class="line">[Friday 18 March 2011] [09:42:26] &lt;<a href="#id775"><span class="problematic" id="id776">pieterh_</span></a>&gt;  I&#8217;m happy to make shmem implementations of some defined API</div>
<div class="line">[Friday 18 March 2011] [09:42:37] &lt;mato&gt;      <a href="#id777"><span class="problematic" id="id778">pieterh_</span></a>: aren&#8217;t we supposed to be master programmers doing this well, rather than making rash decisions?</div>
<div class="line">[Friday 18 March 2011] [09:42:39] &lt;sustrik&gt;   pieterh: great</div>
<div class="line">[Friday 18 March 2011] [09:42:42] &lt;<a href="#id779"><span class="problematic" id="id780">pieterh_</span></a>&gt;  mato: there&#8217;s no hurry except the current names are painful</div>
<div class="line">[Friday 18 March 2011] [09:42:42] &lt;sustrik&gt;   mato: my feeling is people want SMTP like-semantivc</div>
<div class="line">[Friday 18 March 2011] [09:42:44] &lt;<a href="#id781"><span class="problematic" id="id782">pieterh_</span></a>&gt;  mato: lol</div>
<div class="line">[Friday 18 March 2011] [09:42:48] &lt;<a href="#id783"><span class="problematic" id="id784">pieterh_</span></a>&gt;  double lol</div>
<div class="line">[Friday 18 March 2011] [09:42:58] &lt;<a href="#id785"><span class="problematic" id="id786">pieterh_</span></a>&gt;  the man pages document code rather than code implementing man pages</div>
<div class="line">[Friday 18 March 2011] [09:43:10] &lt;mato&gt;      huh?</div>
<div class="line">[Friday 18 March 2011] [09:43:18] &lt;<a href="#id787"><span class="problematic" id="id788">pieterh_</span></a>&gt;  shrug</div>
<div class="line">[Friday 18 March 2011] [09:43:23] &lt;<a href="#id789"><span class="problematic" id="id790">pieterh_</span></a>&gt;  if you don&#8217;t know what I mean, forget it</div>
<div class="line">[Friday 18 March 2011] [09:43:42] &lt;<a href="#id791"><span class="problematic" id="id792">pieterh_</span></a>&gt;  anyhow, where is the rash decision?</div>
<div class="line">[Friday 18 March 2011] [09:43:51] &lt;<a href="#id793"><span class="problematic" id="id794">pieterh_</span></a>&gt;  there has been extensive discussion about the names of sockets</div>
<div class="line">[Friday 18 March 2011] [09:43:52] &lt;sustrik&gt;   mato: there&#8217;s one issue in the bugtracker to do with man pages</div>
<div class="line">[Friday 18 March 2011] [09:44:10] &lt;mato&gt;      but the names don&#8217;t fit with the big picture</div>
<div class="line">[Friday 18 March 2011] [09:44:10] &lt;sustrik&gt;   could you have a look at it?</div>
<div class="line">[Friday 18 March 2011] [09:44:12] &lt;<a href="#id795"><span class="problematic" id="id796">pieterh_</span></a>&gt;  and renaming XREP and XREQ has been agreed by the list, with total consensus</div>
<div class="line">[Friday 18 March 2011] [09:44:24] &lt;mato&gt;      i love your dogmatism</div>
<div class="line">[Friday 18 March 2011] [09:44:25] &lt;<a href="#id797"><span class="problematic" id="id798">pieterh_</span></a>&gt;  mato: what big picture? show me the design docs...</div>
<div class="line">[Friday 18 March 2011] [09:44:29] &lt;mato&gt;      4 people replied</div>
<div class="line">[Friday 18 March 2011] [09:44:31] &lt;<a href="#id799"><span class="problematic" id="id800">pieterh_</span></a>&gt;  if it&#8217;s just in someone&#8217;s head, it&#8217;s not on paper</div>
<div class="line">[Friday 18 March 2011] [09:44:34] &lt;mato&gt;      total consensus</div>
<div class="line">[Friday 18 March 2011] [09:44:41] &lt;<a href="#id801"><span class="problematic" id="id802">pieterh_</span></a>&gt;  4 people replied, no-one said no, that&#8217;s total consensus, yes</div>
<div class="line">[Friday 18 March 2011] [09:44:52] &lt;<a href="#id803"><span class="problematic" id="id804">pieterh_</span></a>&gt;  it&#8217;s not exactly a hypertalkative list</div>
<div class="line">[Friday 18 March 2011] [09:44:58] &lt;mato&gt;      right.</div>
<div class="line">[Friday 18 March 2011] [09:45:03] &lt;<a href="#id805"><span class="problematic" id="id806">pieterh_</span></a>&gt;  but if you want to veto it, go for it</div>
<div class="line">[Friday 18 March 2011] [09:45:28] &lt;<a href="#id807"><span class="problematic" id="id808">pieterh_</span></a>&gt;  I&#8217;m going to switch to the new names ASAP in any case</div>
<div class="line">[Friday 18 March 2011] [09:45:37] &lt;mato&gt;      right, so you&#8217;re going to fork the api</div>
<div class="line">[Friday 18 March 2011] [09:45:46] &lt;<a href="#id809"><span class="problematic" id="id810">pieterh_</span></a>&gt;  no, I&#8217;m implementing the consensus</div>
<div class="line">[Friday 18 March 2011] [09:45:47] &lt;mato&gt;      thanks for that.</div>
<div class="line">[Friday 18 March 2011] [09:45:54] &lt;<a href="#id811"><span class="problematic" id="id812">pieterh_</span></a>&gt;  if you don&#8217;t want to follow, fork the API</div>
<div class="line">[Friday 18 March 2011] [09:45:59] &lt;<a href="#id813"><span class="problematic" id="id814">pieterh_</span></a>&gt;  please don&#8217;t be silly, mato</div>
<div class="line">[Friday 18 March 2011] [09:46:05] &lt;<a href="#id815"><span class="problematic" id="id816">pieterh_</span></a>&gt;  this was discussed ad nauseam</div>
<div class="line">[Friday 18 March 2011] [09:46:28] &lt;<a href="#id817"><span class="problematic" id="id818">pieterh_</span></a>&gt;  Just like a 3.0 version will &#8216;fork the api&#8217;?</div>
<div class="line">[Friday 18 March 2011] [09:46:33] &lt;<a href="#id819"><span class="problematic" id="id820">pieterh_</span></a>&gt;  improvements that solve real problems people face</div>
<div class="line">[Friday 18 March 2011] [09:46:49] &lt;<a href="#id821"><span class="problematic" id="id822">pieterh_</span></a>&gt;  if you find this offensive, well... sigh</div>
<div class="line">[Friday 18 March 2011] [09:47:01] &lt;mato&gt;      forget it</div>
<div class="line">[Friday 18 March 2011] [09:47:07] &lt;<a href="#id823"><span class="problematic" id="id824">pieterh_</span></a>&gt;  whatever</div>
<div class="line">[Friday 18 March 2011] [09:47:18] &lt;<a href="#id825"><span class="problematic" id="id826">pieterh_</span></a>&gt;  discuss on that thread, it&#8217;s public</div>
<div class="line">[Friday 18 March 2011] [09:47:21] &lt;<a href="#id827"><span class="problematic" id="id828">pieterh_</span></a>&gt;  give your reasons</div>
<div class="line">[Friday 18 March 2011] [09:47:53] &lt;mato&gt;      sure.</div>
<div class="line">[Friday 18 March 2011] [09:52:53] &lt;drbobbeaty&gt;        Guys, I don&#8217;t mean to poke my ideas in in the middle of a discussion, but would there be a significant issue if the 2.x codebase used BOTH names, and then the 3.x codebase used just the &#8216;new&#8217; one? That way, people that use the names for a significant part of their understanding of their function can have both while not breaking backward compatibility.</div>
<div class="line">[Friday 18 March 2011] [09:53:50] &lt;drbobbeaty&gt;        I can see that names are important to understand, I deal with that from the users of my libraries every day. I sweat the names for a long time to make sure they are concise, descriptive, and clear.</div>
<div class="line">[Friday 18 March 2011] [09:53:54] &lt;ianbarber&gt; upstream downstream were (are?) still valid</div>
<div class="line">[Friday 18 March 2011] [09:54:38] &lt;drbobbeaty&gt;        But I can also see that the original design was based on these names, and they, too, have value to a group of users for just that reason. They understand the library and function in terms of these names.</div>
<div class="line">[Friday 18 March 2011] [09:54:48] &lt;drbobbeaty&gt;        Just my USD $0.02</div>
<div class="line">[Friday 18 March 2011] [09:55:59] &lt;sustrik&gt;   drbobbeaty: i think almost everybody agrees that ZMQ_ROUTER being introduced</div>
<div class="line">[Friday 18 March 2011] [09:56:19] &lt;sustrik&gt;   the discussion was about whether original XREP should remain as a different socket type</div>
<div class="line">[Friday 18 March 2011] [09:56:53] &lt;drbobbeaty&gt;        Oh... there... I should have stayed quiet. I thought it was about a name change. Please forgive my ignorance.</div>
<div class="line">[Friday 18 March 2011] [09:57:09] &lt;mato&gt;      sustrik: that is precisely the point.</div>
<div class="line">[Friday 18 March 2011] [10:00:22] &lt;jhawk28&gt;   I suspect that it will become more clear as more &#8220;devices&#8221; are written</div>
<div class="line">[Friday 18 March 2011] [10:04:45] &lt;mato&gt;      sustrik: SMTP, yes, that&#8217;s an interesting insight</div>
<div class="line">[Friday 18 March 2011] [10:04:50] &lt;mato&gt;      sustrik: I think you&#8217;re right</div>
<div class="line">[Friday 18 March 2011] [10:05:14] &lt;mato&gt;      sustrik: what is the manpage issue? i can&#8217;t find it...</div>
<div class="line">[Friday 18 March 2011] [10:05:20] &lt;sustrik&gt;   jhaw28: i would say so</div>
<div class="line">[Friday 18 March 2011] [10:05:38] &lt;sustrik&gt;   mato: let me see</div>
<div class="line">[Friday 18 March 2011] [10:08:49] &lt;sustrik&gt;   mato: issue 130</div>
<div class="line">[Friday 18 March 2011] [10:10:11] &lt;mile&gt;      hi</div>
<div class="line">[Friday 18 March 2011] [10:10:17] &lt;jhawk28&gt;   b.....tlllrrrrr</div>
<div class="line">[Friday 18 March 2011] [10:10:19] &lt;jhawk28&gt;   ]</div>
<div class="line">[Friday 18 March 2011] [10:10:27] &lt;mile&gt;      does anyone have hands-on experience with erlang bindings?</div>
<div class="line">[Friday 18 March 2011] [10:11:33] &lt;mato&gt;      sustrik: hmm, i can see how that might a bug in the manpage, but isn&#8217;t it just exposing an inconsistency in the internal implementation?</div>
<div class="line">[Friday 18 March 2011] [10:11:52] &lt;sustrik&gt;   mile: ask yrashk</div>
<div class="line">[Friday 18 March 2011] [10:12:02] &lt;sustrik&gt;   he should be here i think</div>
<div class="line">[Friday 18 March 2011] [10:12:02] &lt;mato&gt;      sustrik: shouldn&#8217;t the blocking behaviour be identical irrespective of the use of bind/connect?</div>
<div class="line">[Friday 18 March 2011] [10:12:16] &lt;sustrik&gt;   the problem is that on bind side</div>
<div class="line">[Friday 18 March 2011] [10:12:22] &lt;sustrik&gt;   when there&#8217;s no connection</div>
<div class="line">[Friday 18 March 2011] [10:12:25] &lt;sustrik&gt;   there&#8217;s no queue</div>
<div class="line">[Friday 18 March 2011] [10:12:27] &lt;mile&gt;      sustrik, tx, will do</div>
<div class="line">[Friday 18 March 2011] [10:12:39] &lt;mato&gt;      sustrik: yes, you&#8217;re describing the implementation</div>
<div class="line">[Friday 18 March 2011] [10:12:41] &lt;sustrik&gt;   and thus nowhere to store the message in</div>
<div class="line">[Friday 18 March 2011] [10:13:33] &lt;sustrik&gt;   the alternative would be to have one pipe pre-prepared even on bind side</div>
<div class="line">[Friday 18 March 2011] [10:13:41] &lt;sustrik&gt;   and assign it to first connected peer</div>
<div class="line">[Friday 18 March 2011] [10:13:55] &lt;mato&gt;      that would seem to result in more consistent behaviour on the user side</div>
<div class="line">[Friday 18 March 2011] [10:14:09] &lt;sustrik&gt;   ok, then create an issue for that</div>
<div class="line">[Friday 18 March 2011] [10:14:17] &lt;yrashk&gt;    sustrik: mile I am here</div>
<div class="line">[Friday 18 March 2011] [10:14:17] &lt;sustrik&gt;   so that we don&#8217;t forget</div>
<div class="line">[Friday 18 March 2011] [10:14:27] &lt;mato&gt;      alright.</div>
<div class="line">[Friday 18 March 2011] [10:14:32] &lt;mile&gt;      yrashk, hi, great :)</div>
<div class="line">[Friday 18 March 2011] [10:14:46] &lt;mile&gt;      i&#8217;m looking into connecting yaws to 0mq</div>
<div class="line">[Friday 18 March 2011] [10:14:56] &lt;mile&gt;      as a http front-end</div>
<div class="line">[Friday 18 March 2011] [10:15:16] &lt;mile&gt;      but I&#8217;m not sure about the state of the erlang bindings</div>
<div class="line">[Friday 18 March 2011] [10:15:45] &lt;yrashk&gt;    mile: what do you mean?</div>
<div class="line">[Friday 18 March 2011] [10:15:46] &lt;mile&gt;      since the alternative is hacking nginx, which I would very much like to avoid :)</div>
<div class="line">[Friday 18 March 2011] [10:16:08] &lt;yrashk&gt;    mile: what exactly are you worried about re: state?</div>
<div class="line">[Friday 18 March 2011] [10:16:31] &lt;mile&gt;      the bindings page states the both versions are not API compatible</div>
<div class="line">[Friday 18 March 2011] [10:16:54] &lt;mile&gt;      and I couldn&#8217;t find much of the benchmarks regarding the performance</div>
<div class="line">[Friday 18 March 2011] [10:17:38] &lt;yrashk&gt;    mile: short version: erlzmq is slow, erlzmq2 is fast</div>
<div class="line">[Friday 18 March 2011] [10:17:57] &lt;yrashk&gt;    on 1byte messages erlzmq2 does 1.3mln/sec (localhost) [on my mac pro]</div>
<div class="line">[Friday 18 March 2011] [10:18:03] &lt;yrashk&gt;    on 1Kbyte messages &#8211; about 300K/sec</div>
<div class="line">[Friday 18 March 2011] [10:18:37] &lt;mile&gt;      that should saturate a gbit ethernet, right?</div>
<div class="line">[Friday 18 March 2011] [10:18:41] &lt;yrashk&gt;    their API are close to each other, though &#8211; but not exactly the same, but fairly close</div>
<div class="line">[Friday 18 March 2011] [10:18:47] &lt;yrashk&gt;    hopefully, I guess</div>
<div class="line">[Friday 18 March 2011] [10:18:48] &lt;yrashk&gt;    never tried yet</div>
<div class="line">[Friday 18 March 2011] [10:19:01] &lt;mile&gt;      ok, thanks!</div>
<div class="line">[Friday 18 March 2011] [10:19:09] &lt;mile&gt;      i will be looking into this</div>
<div class="line">[Friday 18 March 2011] [10:19:25] &lt;mile&gt;      and report if I find something interesing ;)</div>
<div class="line">[Friday 18 March 2011] [10:19:34] &lt;sustrik&gt;   300K/sec = 2.45Gb/sec</div>
<div class="line">[Friday 18 March 2011] [10:20:08] &lt;mile&gt;      yeah :)</div>
<div class="line">[Friday 18 March 2011] [10:21:26] &lt;yrashk&gt;    mile: for erlzmq2, you have to have &gt;=R14B01</div>
<div class="line">[Friday 18 March 2011] [10:21:34] &lt;yrashk&gt;    as it is a NIF-based binding</div>
<div class="line">[Friday 18 March 2011] [10:21:49] &lt;mato&gt;      sustrik: i guess i should close the original issue then?</div>
<div class="line">[Friday 18 March 2011] [10:22:01] &lt;yrashk&gt;    mile: sure, I&#8217;d be pleased to see reports, erlzmq2 is fairly young</div>
<div class="line">[Friday 18 March 2011] [10:22:05] &lt;yrashk&gt;    but seems to work well</div>
<div class="line">[Friday 18 March 2011] [10:22:10] &lt;sustrik&gt;   yes, just mention the number of the new one when closing it</div>
<div class="line">[Friday 18 March 2011] [10:22:14] &lt;yrashk&gt;    if anything evax and I always ready to fix it :)</div>
<div class="line">[Friday 18 March 2011] [10:22:34] &lt;mile&gt;      yrashk, greta :)</div>
<div class="line">[Friday 18 March 2011] [10:22:54] &lt;mile&gt;      I&#8217;ll try to make a good benchmark for aws+0mq</div>
<div class="line">[Friday 18 March 2011] [10:23:01] &lt;mile&gt;      yaws*</div>
<div class="line">[Friday 18 March 2011] [10:23:17] &lt;mile&gt;      kind of like mongrail2</div>
<div class="line">[Friday 18 March 2011] [10:23:37] &lt;mile&gt;      thats what I&#8217;m aiming for</div>
<div class="line">[Friday 18 March 2011] [10:23:48] &lt;mile&gt;      only simpler and hopefully much faster</div>
<div class="line">[Friday 18 March 2011] [10:23:57] &lt;sustrik&gt;   mile: as for intreraction with nginx, meto mentioned he&#8217;s going to have a look at that</div>
<div class="line">[Friday 18 March 2011] [10:24:23] &lt;mato&gt;      i will, if i get the funding :-)</div>
<div class="line">[Friday 18 March 2011] [10:24:49] &lt;yrashk&gt;    mile: just please understand that those beforementioned benchmarks are from localhost</div>
<div class="line">[Friday 18 March 2011] [10:24:51] &lt;mile&gt;      I looked into it a couple of days ago, but it kind of freaked me out</div>
<div class="line">[Friday 18 March 2011] [10:24:57] &lt;yrashk&gt;    I haven&#8217;t tested anything else yet</div>
<div class="line">[Friday 18 March 2011] [10:25:21] &lt;mile&gt;      yrashk, sure, I will be setting up 2 boxes on a gbit switch</div>
<div class="line">[Friday 18 March 2011] [10:25:31] &lt;mile&gt;      and see how they perform</div>
<div class="line">[Friday 18 March 2011] [10:25:34] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [10:25:49] &lt;yrashk&gt;    mile: please send them over if possible (<a class="reference external" href="mailto:yrashk&#37;&#52;&#48;gmail&#46;com">yrashk<span>&#64;</span>gmail<span>&#46;</span>com</a>)</div>
<div class="line">[Friday 18 March 2011] [10:25:50] &lt;mile&gt;      and try to replicate the ck1mil</div>
<div class="line">[Friday 18 March 2011] [10:26:44] &lt;mile&gt;      I hope I&#8217;ll manage to do it next week</div>
<div class="line">[Friday 18 March 2011] [10:26:53] &lt;mile&gt;      then I&#8217;m gone for like 10 days :)</div>
<div class="line">[Friday 18 March 2011] [10:27:35] &lt;mile&gt;      but both nginx and yaws plugins would be very very cool stuff :)</div>
<div class="line">[Friday 18 March 2011] [10:27:59] &lt;mile&gt;      hopefully I&#8217;ll get something useful to opensource :)</div>
<div class="line">[Friday 18 March 2011] [10:28:15] &lt;mato&gt;      mile: i&#8217;ve been poring over the nginx internals, it looks doable but non-trivial</div>
<div class="line">[Friday 18 March 2011] [10:28:48] &lt;mile&gt;      mato, I was looking into proxy-modules for that, but my C is not good enough...</div>
<div class="line">[Friday 18 March 2011] [10:29:02] &lt;mile&gt;      since it in deed appears to be nontrivial :)</div>
<div class="line">[Friday 18 March 2011] [10:29:14] &lt;mato&gt;      mile: my C is more than good enough, but it&#8217;s still a non-trivial amount of work.</div>
<div class="line">[Friday 18 March 2011] [10:29:31] &lt;mile&gt;      but yaws has a very elegant way of attaching stuff</div>
<div class="line">[Friday 18 March 2011] [10:29:42] &lt;mato&gt;      yaws? /me goes off to google that</div>
<div class="line">[Friday 18 March 2011] [10:29:49] &lt;mile&gt;      erlang yaws</div>
<div class="line">[Friday 18 March 2011] [10:30:12] &lt;mile&gt;      so I&#8217;ll be looking into the performance of that combo</div>
<div class="line">[Friday 18 March 2011] [10:30:25] &lt;mato&gt;      aha, ok</div>
<div class="line">[Friday 18 March 2011] [10:30:29]      * mato has no erlang-fu</div>
<div class="line">[Friday 18 March 2011] [10:31:18] &lt;mile&gt;      my erlang is not that good</div>
<div class="line">[Friday 18 March 2011] [10:31:26] &lt;mile&gt;      but it&#8217;s straitforward as hell</div>
<div class="line">[Friday 18 March 2011] [10:31:41] &lt;mile&gt;      as long as one had something to do with functional programming</div>
<div class="line">[Friday 18 March 2011] [10:31:41] &lt;mile&gt;      :)</div>
<div class="line">[Friday 18 March 2011] [10:32:26] &lt;yrashk&gt;    it is indeed very straightforward</div>
<div class="line">[Friday 18 March 2011] [10:33:20] &lt;mile&gt;      the only problem is that you don&#8217;t get to find many erlang developers</div>
<div class="line">[Friday 18 March 2011] [10:33:31] &lt;mile&gt;      so its hard to sell it</div>
<div class="line">[Friday 18 March 2011] [10:33:42] &lt;mile&gt;      in small companies - hence the 0mq</div>
<div class="line">[Friday 18 March 2011] [10:34:02] &lt;mile&gt;      make the frontend in less then 100lines of erlang</div>
<div class="line">[Friday 18 March 2011] [10:34:26] &lt;yrashk&gt;    mile: my company is about to change it (i.e. make erlang more popular)</div>
<div class="line">[Friday 18 March 2011] [10:34:29] &lt;mile&gt;      and let others use whatever they want on the other side of 0mq</div>
<div class="line">[Friday 18 March 2011] [10:34:30] &lt;yrashk&gt;    :)</div>
<div class="line">[Friday 18 March 2011] [10:35:17] &lt;mile&gt;      thats a good thing! :)</div>
<div class="line">[Friday 18 March 2011] [10:35:45] &lt;mile&gt;      I had contact with haskell some time ago, and I&#8217;m sincerely charmed by erlang :)</div>
<div class="line">[Friday 18 March 2011] [10:35:59] &lt;yrashk&gt;    nice!</div>
<div class="line">[Friday 18 March 2011] [10:36:10] &lt;yrashk&gt;    I&#8217;ve been doing erlang on and off since 2001</div>
<div class="line">[Friday 18 March 2011] [10:37:11] &lt;mile&gt;      that&#8217;s a while :)</div>
<div class="line">[Friday 18 March 2011] [10:37:39] &lt;mile&gt;      I pinged you, hopefully next week I&#8217;ll have some data</div>
<div class="line">[Friday 18 March 2011] [10:38:03] &lt;yrashk&gt;    sweet</div>
<div class="line">[Friday 18 March 2011] [10:38:05] &lt;yrashk&gt;    thanks</div>
<div class="line">[Friday 18 March 2011] [10:39:00] &lt;mile&gt;      I&#8217;m off for a weekend, thanks for the advice!</div>
<div class="line">[Friday 18 March 2011] [11:03:16] &lt;Guthur&gt;    pieterh &amp; sustrik: was that long discussion just about the naming of XREP and XREQ</div>
<div class="line">[Friday 18 March 2011] [11:04:05] &lt;sustrik&gt;   it was not about naming :)</div>
<div class="line">[Friday 18 March 2011] [11:04:40] &lt;sustrik&gt;   ultimately, it was about what should be done by 0mq itself and what should be done by the layers on top of it</div>
<div class="line">[Friday 18 March 2011] [11:05:58] &lt;Guthur&gt;    sustrik: ok, sorry I just came back and it was very long and I found it hard to figure out what was going on</div>
<div class="line">[Friday 18 March 2011] [11:06:17] &lt;sustrik&gt;   there&#8217;s a thread on the ML if you are interested</div>
<div class="line">[Friday 18 March 2011] [11:09:31] &lt;Guthur&gt;    ok, I&#8217;ll check it out</div>
<div class="line">[Friday 18 March 2011] [11:24:46] &lt;sustrik&gt;   pieterh: still here?</div>
<div class="line">[Friday 18 March 2011] [11:25:10] &lt;sustrik&gt;   the use case for the error you&#8217;ve reported have scrolled out of my irc window</div>
<div class="line">[Friday 18 March 2011] [11:25:15] &lt;sustrik&gt;   can you repost it?</div>
<div class="line">[Friday 18 March 2011] [11:29:19] &lt;sustrik&gt;   &lt;sustrik&gt; the use case for the error you&#8217;ve reported have scrolled out of my irc window</div>
<div class="line">[Friday 18 March 2011] [11:29:19] &lt;sustrik&gt;   &lt;sustrik&gt; can you repost it?</div>
<div class="line">[Friday 18 March 2011] [11:29:35] &lt;sustrik&gt;   <a href="#id829"><span class="problematic" id="id830">pieterh_</span></a>: ^^</div>
<div class="line">[Friday 18 March 2011] [11:29:55] &lt;<a href="#id831"><span class="problematic" id="id832">pieterh_</span></a>&gt;  sustrik: sorry, was offline for a while</div>
<div class="line">[Friday 18 March 2011] [11:30:01] &lt;sustrik&gt;   np</div>
<div class="line">[Friday 18 March 2011] [11:30:02] &lt;<a href="#id833"><span class="problematic" id="id834">pieterh_</span></a>&gt;  you lost the URIs?</div>
<div class="line">[Friday 18 March 2011] [11:30:06] &lt;sustrik&gt;   yep</div>
<div class="line">[Friday 18 March 2011] [11:30:10] &lt;<a href="#id835"><span class="problematic" id="id836">pieterh_</span></a>&gt;  <a class="reference external" href="https://gist.github.com/875932">https://gist.github.com/875932</a></div>
<div class="line">[Friday 18 March 2011] [11:30:14] &lt;sustrik&gt;   thanks</div>
<div class="line">[Friday 18 March 2011] [11:30:21] &lt;<a href="#id837"><span class="problematic" id="id838">pieterh_</span></a>&gt;  it looks like the first frame after a handshake gets lost</div>
<div class="line">[Friday 18 March 2011] [11:30:34]      * sustrik is having a look...</div>
<div class="line">[Friday 18 March 2011] [11:30:36] &lt;<a href="#id839"><span class="problematic" id="id840">pieterh_</span></a>&gt;  but randomly...</div>
<div class="line">[Friday 18 March 2011] [11:30:43] &lt;<a href="#id841"><span class="problematic" id="id842">pieterh_</span></a>&gt;  thanks, I appreciate it, it&#8217;s blocking me</div>
<div class="line">[Friday 18 March 2011] [11:40:31] &lt;evax&gt;      working on erlzmq2 some weird behaviour happens at times: after calling zmq_term and our own poller thread has ended, one thread enters a busy loop because SIGFE is trapped but keeps being raised</div>
<div class="line">[Friday 18 March 2011] [11:40:54] &lt;evax&gt;      <a href="#id107"><span class="problematic" id="id108">*</span></a>SIGFPE</div>
<div class="line">[Friday 18 March 2011] [11:43:01] &lt;evax&gt;      when zmq_term returns, all zmq threads have ended ?</div>
<div class="line">[Friday 18 March 2011] [11:46:59] &lt;<a href="#id843"><span class="problematic" id="id844">pieterh_</span></a>&gt;  evax: it should say so in the man page</div>
<div class="line">[Friday 18 March 2011] [11:48:48] &lt;mikko-_&gt;   pieter: all 2-1 builds succeed now</div>
<div class="line">[Friday 18 March 2011] [11:49:27] &lt;<a href="#id845"><span class="problematic" id="id846">pieterh_</span></a>&gt;  mikko: yup</div>
<div class="line">[Friday 18 March 2011] [11:49:37] &lt;evax&gt;      <a href="#id847"><span class="problematic" id="id848">pieterh_</span></a>: thanks, I was reading an outdated man page...</div>
<div class="line">[Friday 18 March 2011] [11:49:40] &lt;<a href="#id849"><span class="problematic" id="id850">pieterh_</span></a>&gt;  there are a couple of issues still to close, then 2-1 is ready to release</div>
<div class="line">[Friday 18 March 2011] [11:50:03] &lt;<a href="#id851"><span class="problematic" id="id852">pieterh_</span></a>&gt;  evax: does it say something useful in the man page?</div>
<div class="line">[Friday 18 March 2011] [11:51:40] &lt;evax&gt;      <a href="#id853"><span class="problematic" id="id854">pieterh_</span></a>: that it can fail with EINTR now</div>
<div class="line">[Friday 18 March 2011] [11:52:21] &lt;<a href="#id855"><span class="problematic" id="id856">pieterh_</span></a>&gt;  ok</div>
<div class="line">[Friday 18 March 2011] [12:26:52] &lt;evax&gt;      <a href="#id857"><span class="problematic" id="id858">pieterh_</span></a>: in the case of inproc sockets, is it possible that a zmq_recv succeeds before the associated send returns ?</div>
<div class="line">[Friday 18 March 2011] [12:28:56] &lt;evax&gt;      this is with a PUSH/PULL pair and the zmq_recv if right after a zmq_poll</div>
<div class="line">[Friday 18 March 2011] [12:30:21] &lt;sustrik&gt;   yes, it&#8217;s possible</div>
<div class="line">[Friday 18 March 2011] [12:30:55] &lt;evax&gt;      sustrik: thanks, then that&#8217;s what&#8217;s biting us</div>
<div class="line">[Friday 18 March 2011] [12:33:07] &lt;Guthur&gt;    evax: out of curiosity what are you working on for erlzmq?</div>
<div class="line">[Friday 18 March 2011] [12:33:28] &lt;Guthur&gt;    it is elrzmq, correct?</div>
<div class="line">[Friday 18 March 2011] [12:34:45] &lt;evax&gt;      we send a message to shut down the system, and sometimes before the zmq_send returns our polling thread recvs the request, closes the sockets and terminates the context, and this fires the SIGFPE busyloop in the original thread</div>
<div class="line">[Friday 18 March 2011] [12:34:57] &lt;evax&gt;      Guthur: erlzmq2, the NIF base version</div>
<div class="line">[Friday 18 March 2011] [12:35:55] &lt;Guthur&gt;    ah ok</div>
<div class="line">[Friday 18 March 2011] [12:36:09] &lt;Guthur&gt;    so you are using zmq to manage the state of your zmq binding</div>
<div class="line">[Friday 18 March 2011] [12:36:14] &lt;Guthur&gt;    many kudos there, hehe</div>
<div class="line">[Friday 18 March 2011] [12:39:11] &lt;evax&gt;      Guthur: I wanted to implementing non blocking send, but I stumbled on this busy loop issue</div>
<div class="line">[Friday 18 March 2011] [12:39:54] &lt;evax&gt;      Guthur: yeah, it felt really natural</div>
<div class="line">[Friday 18 March 2011] [12:40:23] &lt;michelp&gt;   wow you guys overflowed my backscroll :)</div>
<div class="line">[Friday 18 March 2011] [12:40:45] &lt;Guthur&gt;    it has been very busy today</div>
<div class="line">[Friday 18 March 2011] [12:41:37] &lt;Guthur&gt;    I&#8217;m still digesting the XREP vs. ROUTER stuff, the details are on the mailing list though</div>
<div class="line">[Friday 18 March 2011] [12:42:46] &lt;Guthur&gt;    sustrik: if XREP really could suddenly change, it probably should never have been exposed</div>
<div class="line">[Friday 18 March 2011] [12:43:03] &lt;Guthur&gt;    but I suppose that&#8217;s been argued already</div>
<div class="line">[Friday 18 March 2011] [12:43:21] &lt;sustrik&gt;   yup</div>
<div class="line">[Friday 18 March 2011] [12:54:46] &lt;Guthur&gt;    and those cool devices that guide demonstrates are pretty cool</div>
<div class="line">[Friday 18 March 2011] [12:54:51] &lt;Guthur&gt;    would be a shame if they broke</div>
<div class="line">[Friday 18 March 2011] [12:58:18] &lt;sustrik&gt;   i&#8217;m not proposing to break them</div>
<div class="line">[Friday 18 March 2011] [12:58:36] &lt;sustrik&gt;   it was just illustration</div>
<div class="line">[Friday 18 March 2011] [14:09:34] &lt;evax&gt;      sustrik: erlzmq2 can no more block the VM on send</div>
<div class="line">[Friday 18 March 2011] [14:09:55] &lt;sustrik&gt;   nice!</div>
<div class="line">[Friday 18 March 2011] [14:10:16] &lt;sustrik&gt;   thanks for quick fix</div>
<div class="line">[Friday 18 March 2011] [14:11:25] &lt;evax&gt;      np, let me know if there are other features missing</div>
<div class="line">[Friday 18 March 2011] [14:15:54] &lt;sustrik&gt;   sure</div>
<div class="line">[Friday 18 March 2011] [14:49:59] &lt;<a href="#id859"><span class="problematic" id="id860">pieterh_</span></a>&gt;  sustrik: sorry, was away... did you manage to reproduce the pub-sub issue?</div>
<div class="line">[Friday 18 March 2011] [15:16:21] &lt;pieterh&gt;   ok, reproduced on second box</div>
<div class="line">[Friday 18 March 2011] [16:17:05] &lt;Guthur&gt;    pieterh, do you mean to not increment the sequence in that gist?</div>
<div class="line">[Friday 18 March 2011] [18:08:59] &lt;rfw&gt;       hi there, does the pyzmq.eventloop ioloop have epoll support like tornado&#8217;s?</div>
<div class="line">[Friday 18 March 2011] [18:53:33] &lt;yrashk&gt;    so 8 years for saleyn :-(((</div>
<div class="line">[Friday 18 March 2011] [19:43:19] &lt;Guthur&gt;    yrashk, have you seen the first paragraph of the wiki page</div>
<div class="line">[Friday 18 March 2011] [19:44:07] &lt;Guthur&gt;    Goldman Sachs code, which is described as &#8220;there is a danger that somebody who knew how to use this program could use it to manipulate markets in unfair ways.&#8221;</div>
<div class="line">[Friday 18 March 2011] [19:44:23] &lt;Guthur&gt;    but it&#8217;s fine for Goldman to have it</div>
<div class="line">[Saturday 19 March 2011] [08:13:02] &lt;Guthur&gt;  pieterh, some of the code examples in ch4 have lines of code longer than the width of the code box</div>
<div class="line">[Saturday 19 March 2011] [08:13:19] &lt;Guthur&gt;  only a minor issue, but thought it worth raising.</div>
<div class="line">[Saturday 19 March 2011] [08:13:30] &lt;Guthur&gt;  I&#8217;m using chrome, if it matter</div>
<div class="line">[Saturday 19 March 2011] [09:55:56] &lt;FlaPer87&gt;        hi everyone, is it possible to have 2 threads listening to the same zmq socket? is there an example here[0] showing that? <a class="reference external" href="https://github.com/imatix/zguide">https://github.com/imatix/zguide</a></div>
<div class="line">[Saturday 19 March 2011] [09:58:09] &lt;mikko&gt;   FlaPer87: no</div>
<div class="line">[Saturday 19 March 2011] [09:58:28] &lt;FlaPer87&gt;        mikko ok, thnx :)</div>
<div class="line">[Saturday 19 March 2011] [09:58:30] &lt;mikko&gt;   FlaPer87: you can not access the same socket from multiple threads concurrently</div>
<div class="line">[Saturday 19 March 2011] [09:58:34] &lt;mikko&gt;   FlaPer87: what is the use-case?</div>
<div class="line">[Saturday 19 March 2011] [09:59:00] &lt;mikko&gt;   sec, my fish stock is boiling over</div>
<div class="line">[Saturday 19 March 2011] [10:00:27] &lt;FlaPer87&gt;        mikko I was wondering if that was possible in order to process more messages p/second. Now that I think about it that was a stupid question :P</div>
<div class="line">[Saturday 19 March 2011] [10:10:02] &lt;Guthur&gt;  FlaPer87, there is some examples in the guide showing custom routing to N worker threads</div>
<div class="line">[Saturday 19 March 2011] [10:10:30] &lt;Guthur&gt;  lruqueue, shows a device doing this</div>
<div class="line">[Saturday 19 March 2011] [10:13:47] &lt;Guthur&gt;  or the parallel pipeline pattern shown here;  <a class="reference external" href="http://zguide.zeromq.org/page:all#toc8">http://zguide.zeromq.org/page:all#toc8</a></div>
<div class="line">[Saturday 19 March 2011] [10:14:20] &lt;FlaPer87&gt;        Guthur, that&#8217;s useful, let me check</div>
<div class="line">[Saturday 19 March 2011] [10:14:26] &lt;FlaPer87&gt;        Guthur thnx</div>
<div class="line">[Saturday 19 March 2011] [12:13:16] &lt;<a href="#id861"><span class="problematic" id="id862">dermoth_</span></a>&gt;        FlaPer87, you can have two threads connect to the same endpoint... if the connection has to be incoming, you can use a device in the middle</div>
<div class="line">[Saturday 19 March 2011] [12:14:16] &lt;<a href="#id863"><span class="problematic" id="id864">dermoth_</span></a>&gt;        ime. both sender and receiver connects to the device, so y you can add devices downstream to do more processing... I assume PUSH/PULL sockets here...</div>
<div class="line">[Saturday 19 March 2011] [13:27:36] &lt;sustrik&gt; pieterh: are you here?</div>
<div class="line">[Saturday 19 March 2011] [13:27:58] &lt;sustrik&gt; it would be good to link zed shaw&#8217;s and ian barber&#8217;s talk from somewhere</div>
<div class="line">[Saturday 19 March 2011] [13:27:59] &lt;sustrik&gt; <a class="reference external" href="http://vimeo.com/20605470">http://vimeo.com/20605470</a></div>
<div class="line">[Saturday 19 March 2011] [13:28:18]    * sustrik has no idea how to embed video into wikidot</div>
<div class="line">[Saturday 19 March 2011] [13:31:00] &lt;Guthur&gt;  sustrik, It was a shame about the GSoC, did they give any suggestions on how to improve the application for the future?</div>
<div class="line">[Saturday 19 March 2011] [14:07:41] &lt;sustrik&gt; Guthur: nope</div>
<div class="line">[Saturday 19 March 2011] [14:07:57] &lt;sustrik&gt; what i resent is what i got</div>
<div class="line">[Saturday 19 March 2011] [14:08:19] &lt;Guthur&gt;  shame, btw you can embed HTML in wikidot</div>
<div class="line">[Saturday 19 March 2011] [14:08:38] &lt;Guthur&gt;  you should be able to use the embed markup there</div>
<div class="line">[Saturday 19 March 2011] [14:08:54] &lt;Guthur&gt;  for Ian and Zed&#8217;s videos</div>
<div class="line">[Saturday 19 March 2011] [14:13:52] &lt;sustrik&gt; no idea how to do that</div>
<div class="line">[Saturday 19 March 2011] [14:13:58] &lt;sustrik&gt; would you like to give it a try?</div>
<div class="line">[Saturday 19 March 2011] [14:14:23] &lt;sustrik&gt; say here:</div>
<div class="line">[Saturday 19 March 2011] [14:14:24] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/intro:read-the-manual">http://www.zeromq.org/intro:read-the-manual</a></div>
<div class="line">[Saturday 19 March 2011] [14:49:02] &lt;Guthur&gt;  sustrik, sure</div>
<div class="line">[Saturday 19 March 2011] [14:50:16] &lt;Guthur&gt;  sustrik, there is already videos on that page, should just take a small amount of &#8216;reverse engineering&#8217;, hehe</div>
<div class="line">[Saturday 19 March 2011] [15:08:38] &lt;Guthur&gt;  sustrik, ok done</div>
<div class="line">[Saturday 19 March 2011] [15:09:09] &lt;Guthur&gt;  I tried to maintain the aspect ratio so they are a little taller than the other videos</div>
<div class="line">[Saturday 19 March 2011] [15:11:48] &lt;guido_g&gt; i&#8217;ll never understand why a link is not enough... must be this web 2.0 thing...</div>
<div class="line">[Saturday 19 March 2011] [15:13:08] &lt;Guthur&gt;  certainly takes up less room</div>
<div class="line">[Saturday 19 March 2011] [15:13:41] &lt;guido_g&gt; and i&#8217;m free to decide if want to see it or not</div>
<div class="line">[Saturday 19 March 2011] [15:23:32] &lt;Guthur&gt;  that would never do</div>
<div class="line">[Saturday 19 March 2011] [15:24:08] &lt;Guthur&gt;  think, i&#8217;ve people went round choosing what they did and did not watch, the marketing guys would be out of a job</div>
<div class="line">[Saturday 19 March 2011] [15:24:16] &lt;Guthur&gt;  i&#8217;ve/if</div>
<div class="line">[Saturday 19 March 2011] [15:25:46] &lt;guido_g&gt; k</div>
<div class="line">[Saturday 19 March 2011] [15:25:57] &lt;guido_g&gt; and where is the bad part?</div>
<div class="line">[Saturday 19 March 2011] [23:30:22] &lt;jsimmons&gt;        is there any way to mitigate the performance loss of (i&#8217;m presuming to blame zeromq here) adding more endpoints to a zmq socket?</div>
<div class="line">[Saturday 19 March 2011] [23:31:06] &lt;jsimmons&gt;        I presume it&#8217;s the push/pull pair rather than the pub/sub pair</div>
<div class="line">[Saturday 19 March 2011] [23:35:23] &lt;jsimmons&gt;        that&#8217;s actually a bad way to put it, rephrasing. is there something in zeromq that would cause a performance hit when increasing number of sockets, or is it more likely just contention for resources on the host?</div>
<div class="line">[Sunday 20 March 2011] [00:37:57] &lt;<a href="#id865"><span class="problematic" id="id866">bth_</span></a>&gt;      hi</div>
<div class="line">[Sunday 20 March 2011] [00:37:59] &lt;<a href="#id867"><span class="problematic" id="id868">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:28] &lt;<a href="#id869"><span class="problematic" id="id870">bth_</span></a>&gt;      im a hacker :P</div>
<div class="line">[Sunday 20 March 2011] [00:38:29] &lt;<a href="#id871"><span class="problematic" id="id872">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:29] &lt;<a href="#id873"><span class="problematic" id="id874">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [00:38:30] &lt;<a href="#id875"><span class="problematic" id="id876">bth_</span></a>&gt;      <a class="reference external" href="http://tinyurl.com/4hggvuq">http://tinyurl.com/4hggvuq</a></div>
<div class="line">[Sunday 20 March 2011] [05:01:33] &lt;pieterh&gt;   sustrik: ping</div>
<div class="line">[Sunday 20 March 2011] [05:04:21] &lt;pieterh&gt;   I&#8217;d like to clarify in zmq_socket(3) that PAIR is intended only for inproc sockets</div>
<div class="line">[Sunday 20 March 2011] [05:11:42] &lt;sustrik&gt;   pieterh: morning</div>
<div class="line">[Sunday 20 March 2011] [05:11:47] &lt;pieterh&gt;   hi :-)</div>
<div class="line">[Sunday 20 March 2011] [05:11:47] &lt;sustrik&gt;   sure, do so</div>
<div class="line">[Sunday 20 March 2011] [05:11:54] &lt;pieterh&gt;   I&#8217;ll send you a patch to the man page</div>
<div class="line">[Sunday 20 March 2011] [05:11:58] &lt;sustrik&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [05:12:24] &lt;pieterh&gt;   I think this lets us close the issues on PAIR as &#8220;out of scope&#8221;</div>
<div class="line">[Sunday 20 March 2011] [05:12:41] &lt;sustrik&gt;   let me see</div>
<div class="line">[Sunday 20 March 2011] [05:15:10] &lt;sustrik&gt;   i don&#8217;t think restricting it to inproc solves the issues</div>
<div class="line">[Sunday 20 March 2011] [05:15:25] &lt;sustrik&gt;   4,19 and 26 can happen with inproc</div>
<div class="line">[Sunday 20 March 2011] [05:15:46] &lt;sustrik&gt;   as for 3, it cannot be demostrated because inproc itself lacks reconnect</div>
<div class="line">[Sunday 20 March 2011] [05:15:52] &lt;pieterh&gt;   let me check again</div>
<div class="line">[Sunday 20 March 2011] [05:17:51] &lt;pieterh&gt;   ok, 4 and 26 are proper bugs</div>
<div class="line">[Sunday 20 March 2011] [05:18:03] &lt;pieterh&gt;   19 seems fine, it asserts if you misuse it, which is fair</div>
<div class="line">[Sunday 20 March 2011] [05:18:12] &lt;pieterh&gt;   3 is out of scope, over inproc</div>
<div class="line">[Sunday 20 March 2011] [05:18:40] &lt;sustrik&gt;   it will resurface once auto-reconnect over inproc is implemented (issue 6)</div>
<div class="line">[Sunday 20 March 2011] [05:19:03] &lt;pieterh&gt;   yes, but we have a good pattern for using inproc without reconnect</div>
<div class="line">[Sunday 20 March 2011] [05:19:15] &lt;sustrik&gt;   ack</div>
<div class="line">[Sunday 20 March 2011] [05:19:19] &lt;pieterh&gt;   as long as there are guidelines that keep people away from trouble, it&#8217;s fine for me</div>
<div class="line">[Sunday 20 March 2011] [05:19:32] &lt;sustrik&gt;   yep, but leave the issues open</div>
<div class="line">[Sunday 20 March 2011] [05:19:38] &lt;pieterh&gt;   indeed</div>
<div class="line">[Sunday 20 March 2011] [05:19:39] &lt;sustrik&gt;   they have to be fixed anyway</div>
<div class="line">[Sunday 20 March 2011] [05:19:46] &lt;pieterh&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [05:19:56] &lt;pieterh&gt;   did you get a chance to look at that pubsub issue?</div>
<div class="line">[Sunday 20 March 2011] [05:20:37] &lt;pieterh&gt;   it seems to kind of completely break multipart pubsub</div>
<div class="line">[Sunday 20 March 2011] [05:20:37] &lt;sustrik&gt;   yes, i&#8217;ve tried several fixes already</div>
<div class="line">[Sunday 20 March 2011] [05:20:44] &lt;sustrik&gt;   i&#8217;ll have it ready today</div>
<div class="line">[Sunday 20 March 2011] [05:20:53] &lt;pieterh&gt;   lovely... !</div>
<div class="line">[Sunday 20 March 2011] [06:42:20] &lt;sustrik&gt;   pieterh: here&#8217;s the patch:</div>
<div class="line">[Sunday 20 March 2011] [06:42:21] &lt;sustrik&gt;   <a class="reference external" href="https://gist.github.com/878260">https://gist.github.com/878260</a></div>
<div class="line">[Sunday 20 March 2011] [06:42:29] &lt;sustrik&gt;   can you check whether it works ok?</div>
<div class="line">[Sunday 20 March 2011] [06:42:39] &lt;pieterh&gt;   a&#8217;ight! testing now...</div>
<div class="line">[Sunday 20 March 2011] [06:49:10] &lt;pieterh&gt;   sustrik: confirmed working</div>
<div class="line">[Sunday 20 March 2011] [06:49:15] &lt;sustrik&gt;   thanks</div>
<div class="line">[Sunday 20 March 2011] [06:49:58] &lt;pieterh&gt;   will you send me the commit when it&#8217;s done?</div>
<div class="line">[Sunday 20 March 2011] [06:51:21] &lt;sustrik&gt;   working on it</div>
<div class="line">[Sunday 20 March 2011] [06:52:34] &lt;pieterh&gt;   I think we&#8217;re ready for a 2.1 stable</div>
<div class="line">[Sunday 20 March 2011] [06:53:35] &lt;sustrik&gt;   ok</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: 03Martin Sustrik 07master * r92c7c18 10/ (src/dist.cpp src/dist.hpp): (log message trimmed)</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: Message atomicity problem solved in PUB socket</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: When new peer connects to a PUB socket while it is in the middle</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: of sending of multi-part messages, it gets just the remaining</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: part of the message, i.e. message atomicity is broken.</div>
<div class="line">[Sunday 20 March 2011] [06:53:54] &lt;CIA-22&gt;    zeromq2: This patch drops the tail part of the message and starts sending</div>
<div class="line">[Sunday 20 March 2011] [06:53:55] &lt;CIA-22&gt;    zeromq2: to the peer only when new message is started.</div>
<div class="line">[Sunday 20 March 2011] [06:54:02] &lt;sustrik&gt;   here you go</div>
<div class="line">[Sunday 20 March 2011] [09:42:34] &lt;Guthur&gt;    I&#8217;m looking to build a device that will accept client requests and send data to specific clients, the two options I see is too either do some custom routing with XREQ/XREP, or to have the client PUSH requests and bind on a PULL socket to receive data.</div>
<div class="line">[Sunday 20 March 2011] [09:43:28] &lt;Guthur&gt;    option 2 seems the cleanest in my mind, but it would surely involve maintaining a lot of open sockets to service all connected clients</div>
<div class="line">[Sunday 20 March 2011] [09:44:15] &lt;Guthur&gt;    Is there an option 3 anyone can think of</div>
<div class="line">[Sunday 20 March 2011] [09:47:42] &lt;nmmm&gt;      hi quick question i seems not finding the answer</div>
<div class="line">[Sunday 20 March 2011] [09:48:11] &lt;nmmm&gt;      is there a way to make timeout on recv()</div>
<div class="line">[Sunday 20 March 2011] [09:48:35] &lt;nmmm&gt;      supose i connect() socket 3-4 times</div>
<div class="line">[Sunday 20 March 2011] [09:48:51] &lt;nmmm&gt;      and suppose then one of the servers die</div>
<div class="line">[Sunday 20 March 2011] [09:49:08] &lt;Guthur&gt;    nmmm, you can poll with a timeout</div>
<div class="line">[Sunday 20 March 2011] [09:49:11] &lt;nmmm&gt;      then recv() will wait forever</div>
<div class="line">[Sunday 20 March 2011] [09:49:35] &lt;Guthur&gt;    or you could do a noblock recv in a loop and timeout yourself</div>
<div class="line">[Sunday 20 March 2011] [09:49:37] &lt;nmmm&gt;      i see, but is pool only option?</div>
<div class="line">[Sunday 20 March 2011] [09:50:03] &lt;nmmm&gt;      loop - yes I can too.</div>
<div class="line">[Sunday 20 March 2011] [09:50:17] &lt;nmmm&gt;      but there is no internal timeout ?</div>
<div class="line">[Sunday 20 March 2011] [09:50:27] &lt;Guthur&gt;    not on recv no</div>
<div class="line">[Sunday 20 March 2011] [09:50:57] &lt;nmmm&gt;      question 2 (but i did not study it that much, so could be obvious)</div>
<div class="line">[Sunday 20 March 2011] [09:51:13] &lt;nmmm&gt;      in poll, i can get responce from several nodes,</div>
<div class="line">[Sunday 20 March 2011] [09:51:36] &lt;nmmm&gt;      is it my responsibility if I need my request to be executed only from one node ?</div>
<div class="line">[Sunday 20 March 2011] [09:52:35] &lt;Guthur&gt;    nmm you can either just pass in one pollitem or you can choose to ignore the rest if you recv something on one socket</div>
<div class="line">[Sunday 20 March 2011] [09:52:48] &lt;Guthur&gt;    with an if else</div>
<div class="line">[Sunday 20 March 2011] [09:52:54] &lt;Guthur&gt;    2 secs I&#8217;ll show an example</div>
<div class="line">[Sunday 20 March 2011] [09:53:02] &lt;nmmm&gt;      ok</div>
<div class="line">[Sunday 20 March 2011] [09:53:40] &lt;nmmm&gt;      ignore - i can not do. let say the operation is very &#8220;intencive&#8221; or cost money.</div>
<div class="line">[Sunday 20 March 2011] [09:53:47] &lt;nmmm&gt;      or send email</div>
<div class="line">[Sunday 20 March 2011] [09:54:46] &lt;Guthur&gt;    sorry I may have miss-understood</div>
<div class="line">[Sunday 20 March 2011] [09:55:03] &lt;Guthur&gt;    did you mean you may want to ignore one of the connected nodes</div>
<div class="line">[Sunday 20 March 2011] [09:55:22] &lt;nmmm&gt;      let say we have system that sends emails</div>
<div class="line">[Sunday 20 March 2011] [09:55:30] &lt;nmmm&gt;      and i have thousend to be send</div>
<div class="line">[Sunday 20 March 2011] [09:56:00] &lt;nmmm&gt;      i can pass them to workes, but I want nobody to receive email twice</div>
<div class="line">[Sunday 20 March 2011] [09:56:32] &lt;Guthur&gt;    oh right, you need a device in the middle that will load balance between all the workers</div>
<div class="line">[Sunday 20 March 2011] [09:56:41] &lt;nmmm&gt;      this is good example on what i need to do. (actually will send SMS)</div>
<div class="line">[Sunday 20 March 2011] [09:56:44] &lt;Guthur&gt;    this is covered very early in the guide</div>
<div class="line">[Sunday 20 March 2011] [09:56:53] &lt;Guthur&gt;    have you seen it</div>
<div class="line">[Sunday 20 March 2011] [09:57:09] &lt;nmmm&gt;      yes I will check the devices, thanks</div>
<div class="line">[Sunday 20 March 2011] [09:57:19] &lt;nmmm&gt;      btw, great job</div>
<div class="line">[Sunday 20 March 2011] [09:58:01] &lt;Guthur&gt;    the praise needs to go to others not me, hehe</div>
<div class="line">[Sunday 20 March 2011] [09:58:16] &lt;Guthur&gt;    I only maintain the clrzmq2 binding (C#)</div>
<div class="line">[Sunday 20 March 2011] [09:58:44] &lt;nmmm&gt;      i have some project , works OK on 2 GB server, but Im thinking about scalling</div>
<div class="line">[Sunday 20 March 2011] [09:59:11] &lt;Guthur&gt;    a device like this may do <a class="reference external" href="http://zguide.zeromq.org/page:all#toc37">http://zguide.zeromq.org/page:all#toc37</a></div>
<div class="line">[Sunday 20 March 2011] [09:59:28] &lt;Guthur&gt;    scroll to the bottom of that section to see a nice diagram</div>
<div class="line">[Sunday 20 March 2011] [10:00:41] &lt;Guthur&gt;    the guide is full of nice 0MQ recipes</div>
<div class="line">[Sunday 20 March 2011] [10:00:51] &lt;nmmm&gt;      thanks a lot</div>
<div class="line">[Sunday 20 March 2011] [10:01:09] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Sunday 20 March 2011] [10:01:16] &lt;Guthur&gt;    happy coding</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: 03Martin Sustrik 07master * r1619b3d 10/ (src/lb.cpp src/lb.hpp):</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: Message atomicity bug in load-balancer fixed</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: If the peer getting the message have disconnected in the middle</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: of multiplart message, the remaining part of the message went</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: to a different peer. This patch fixes the issue.</div>
<div class="line">[Sunday 20 March 2011] [15:54:11] &lt;CIA-22&gt;    zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eAhwVE">http://bit.ly/eAhwVE</a></div>
<div class="line">[Monday 21 March 2011] [05:54:40] &lt;pieterh&gt;   sustrik: ping</div>
<div class="line">[Monday 21 March 2011] [06:01:31] &lt;pieterh&gt;   ok, new packages of 0MQ 2.0 and 2.1 are fresh and hot!</div>
<div class="line">[Monday 21 March 2011] [06:05:29] &lt;Guthur&gt;    pieterh: should all socket types be able to connect and bind in any order?</div>
<div class="line">[Monday 21 March 2011] [06:05:46] &lt;pieterh&gt;   Guthur: in an ideal world, yes, but there are gaps</div>
<div class="line">[Monday 21 March 2011] [06:05:52] &lt;pieterh&gt;   e.g. PAIR sockets can&#8217;t</div>
<div class="line">[Monday 21 March 2011] [06:06:01] &lt;Guthur&gt;    what about PUSH/PULL</div>
<div class="line">[Monday 21 March 2011] [06:06:08] &lt;pieterh&gt;   anything over inproc can&#8217;t either</div>
<div class="line">[Monday 21 March 2011] [06:06:14] &lt;Guthur&gt;    ah it was the inproc</div>
<div class="line">[Monday 21 March 2011] [06:06:19] &lt;pieterh&gt;   yep</div>
<div class="line">[Monday 21 March 2011] [06:06:35] &lt;pieterh&gt;   with inproc the pattern is &#8216;bind, start child thread, which connects&#8217;</div>
<div class="line">[Monday 21 March 2011] [06:06:47] &lt;Guthur&gt;    I suppose inproc ain&#8217;t so bad, relatively easy to control the order</div>
<div class="line">[Monday 21 March 2011] [06:07:03] &lt;pieterh&gt;   since it&#8217;s structurally different from other transports, I use it only when I&#8217;m doing literal multithreading</div>
<div class="line">[Monday 21 March 2011] [06:07:17] &lt;pieterh&gt;   as compared to multitasking with threads... which I use tcp or ipc for</div>
<div class="line">[Monday 21 March 2011] [06:07:44] &lt;pieterh&gt;   btw I fixed the guide examples to fit 73 columns, thanks for that hint</div>
<div class="line">[Monday 21 March 2011] [06:07:58] &lt;Guthur&gt;    you&#8217;re welcome</div>
<div class="line">[Monday 21 March 2011] [06:08:30] &lt;Guthur&gt;    it wasn&#8217;t too bad, but you had set the bar high so these wee things are noticeable, hehe</div>
<div class="line">[Monday 21 March 2011] [06:09:22] &lt;Guthur&gt;    Ian Barber&#8217;s PHP conf video is really good</div>
<div class="line">[Monday 21 March 2011] [06:10:02] &lt;pieterh&gt;   the bar is never too high :-)</div>
<div class="line">[Monday 21 March 2011] [06:10:23] &lt;pieterh&gt;   Ian Barber is a phenomenon, it was great to meet him in London last week</div>
<div class="line">[Monday 21 March 2011] [06:11:01] &lt;pieterh&gt;   but then, this community seems to attract bru</div>
<div class="line">[Monday 21 March 2011] [06:11:06] &lt;pieterh&gt;   <a href="#id109"><span class="problematic" id="id110">*</span></a>brilliant people</div>
<div class="line">[Monday 21 March 2011] [06:11:29] &lt;Guthur&gt;    The mention of stable/unstable components was very enlighting</div>
<div class="line">[Monday 21 March 2011] [06:11:54] &lt;Guthur&gt;    static/dynamic is the other way of describing it</div>
<div class="line">[Monday 21 March 2011] [06:13:19] &lt;Guthur&gt;    His highlevel description of a imaging process system was a inspirational as well, fanning out and in where appropriate</div>
<div class="line">[Monday 21 March 2011] [06:13:39] &lt;Guthur&gt;    I&#8217;m looking a similar architecture for a 0MQ FIX engine</div>
<div class="line">[Monday 21 March 2011] [06:13:42] &lt;Guthur&gt;    a/at</div>
<div class="line">[Monday 21 March 2011] [06:14:19] &lt;pieterh&gt;   yup, understanding the stable/unstable aspects of an architecture is key to making it right</div>
<div class="line">[Monday 21 March 2011] [06:21:56] &lt;Guthur&gt;    I find myself now looking at my arch and asking the question is this a stable/unstable component</div>
<div class="line">[Monday 21 March 2011] [06:59:44] &lt;sustrik&gt;   pieterh: pong</div>
<div class="line">[Monday 21 March 2011] [07:00:22] &lt;pieterh&gt;   sustrik: I was just wondering if it was OK to mention the plans for 3.0 to zeromq-dev</div>
<div class="line">[Monday 21 March 2011] [07:00:36] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:00:40] &lt;sustrik&gt;   i&#8217;m going to do that now</div>
<div class="line">[Monday 21 March 2011] [07:00:50]      * sustrik was waiting for stable 2</div>
<div class="line">[Monday 21 March 2011] [07:00:57] &lt;pieterh&gt;   goodo</div>
<div class="line">[Monday 21 March 2011] [07:01:19] &lt;pieterh&gt;   I think it&#8217;s important to say that we will maintain 2.1 for a long time</div>
<div class="line">[Monday 21 March 2011] [07:01:44] &lt;pieterh&gt;   change is fun but also scary to anyone wanting to use 0MQ in production</div>
<div class="line">[Monday 21 March 2011] [07:02:02] &lt;sustrik&gt;   yep, several years presumably</div>
<div class="line">[Monday 21 March 2011] [07:02:17] &lt;pieterh&gt;   well, I was thinking of 6-12 months, more like :-)</div>
<div class="line">[Monday 21 March 2011] [07:02:34] &lt;sustrik&gt;   although the impact of new API won&#8217;t be that bad as it will affect only C apps</div>
<div class="line">[Monday 21 March 2011] [07:02:39] &lt;pieterh&gt;   I assume we will have a 3.0 stable fairly rapidly</div>
<div class="line">[Monday 21 March 2011] [07:02:45] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [07:03:09] &lt;Guthur&gt;    sustrik:why will the API change only effect C apps?</div>
<div class="line">[Monday 21 March 2011] [07:03:09] &lt;pieterh&gt;   if we do the API changes separately from semantic changes like xpub/xsub, it&#8217;s less painful</div>
<div class="line">[Monday 21 March 2011] [07:03:20] &lt;pieterh&gt;   Guthur: also affect all bindings, of course</div>
<div class="line">[Monday 21 March 2011] [07:03:30] &lt;sustrik&gt;   Guthur: have a look at 3.0 roadmap</div>
<div class="line">[Monday 21 March 2011] [07:03:42] &lt;sustrik&gt;   you&#8217;ll see that most changes don&#8217;t affect the bindings API</div>
<div class="line">[Monday 21 March 2011] [07:03:56] &lt;sustrik&gt;   although it obviously affect binding implemetations</div>
<div class="line">[Monday 21 March 2011] [07:04:05] &lt;Guthur&gt;    oh the roadmap page has been updated</div>
<div class="line">[Monday 21 March 2011] [07:04:14] &lt;Guthur&gt;    I had not noticed that</div>
<div class="line">[Monday 21 March 2011] [07:04:25] &lt;sustrik&gt;   yes, i&#8217;ve listed all the backward imcompatible changes there</div>
<div class="line">[Monday 21 March 2011] [07:04:26] &lt;pieterh&gt;   sustrik: I&#8217;m going to already switch to the new ROUTER/DEALER terminology in the guide</div>
<div class="line">[Monday 21 March 2011] [07:04:28] &lt;sustrik&gt;   feel free to comment</div>
<div class="line">[Monday 21 March 2011] [07:04:37] &lt;pieterh&gt;   this pushes that change up</div>
<div class="line">[Monday 21 March 2011] [07:04:56] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:05:02] &lt;sustrik&gt;   pieterh: yes, 2 steps</div>
<div class="line">[Monday 21 March 2011] [07:05:20] &lt;sustrik&gt;   1, change the API &#8211;&gt; do as quickly as possible</div>
<div class="line">[Monday 21 March 2011] [07:05:22] &lt;pieterh&gt;   sustrik: I&#8217;d like to get a stable 3.0 with new API and no real functionality changes, so we can kill 2.0</div>
<div class="line">[Monday 21 March 2011] [07:05:23] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:05:26] &lt;sustrik&gt;   2. add new functionality</div>
<div class="line">[Monday 21 March 2011] [07:05:33] &lt;pieterh&gt;   yes, +1</div>
<div class="line">[Monday 21 March 2011] [07:06:53] &lt;pieterh&gt;   I think the new release process is working nicely, it&#8217;s certainly easy</div>
<div class="line">[Monday 21 March 2011] [07:07:30] &lt;sustrik&gt;   well, nobody have really tested the recent changes</div>
<div class="line">[Monday 21 March 2011] [07:07:38] &lt;sustrik&gt;   let&#8217;s hope it works as expected</div>
<div class="line">[Monday 21 March 2011] [07:08:06] &lt;Guthur&gt;    what needs to be done to zmq_send/recv to make them coherent with POSIX?</div>
<div class="line">[Monday 21 March 2011] [07:08:25] &lt;sustrik&gt;   zmq_send (void <a href="#id111"><span class="problematic" id="id112">*</span></a>data, size_t size, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:08:32] &lt;sustrik&gt;   same for zmq_recv</div>
<div class="line">[Monday 21 March 2011] [07:08:44] &lt;sustrik&gt;   no zmq_msg_t</div>
<div class="line">[Monday 21 March 2011] [07:08:46] &lt;pieterh&gt;   sustrik: I&#8217;ve been testing pretty heavily, via Guide examples</div>
<div class="line">[Monday 21 March 2011] [07:08:53] &lt;sustrik&gt;   ah, ok then</div>
<div class="line">[Monday 21 March 2011] [07:09:02] &lt;Guthur&gt;    and then they would wrap it as a zmq_msg internally?</div>
<div class="line">[Monday 21 March 2011] [07:09:07] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:09:22] &lt;Guthur&gt;    umm, that&#8217;s pretty nice</div>
<div class="line">[Monday 21 March 2011] [07:09:24] &lt;sustrik&gt;   the original signature will still be available as zmq_sendmsg and zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:09:24] &lt;pieterh&gt;   sustrik: one thing I noticed is missing is zero-copy on recv</div>
<div class="line">[Monday 21 March 2011] [07:09:34] &lt;sustrik&gt;   yes?</div>
<div class="line">[Monday 21 March 2011] [07:09:44] &lt;Guthur&gt;    that could actually simplify bindings</div>
<div class="line">[Monday 21 March 2011] [07:09:46] &lt;pieterh&gt;   I assume this is what we can do with 3.0</div>
<div class="line">[Monday 21 March 2011] [07:10:08] &lt;pieterh&gt;   size = zmq_recv (socket, void <a href="#id113"><span class="problematic" id="id114">**</span></a>data)</div>
<div class="line">[Monday 21 March 2011] [07:10:27] &lt;Guthur&gt;    <a href="#id115"><span class="problematic" id="id116">*</span></a>authoring bindings</div>
<div class="line">[Monday 21 March 2011] [07:10:27] &lt;pieterh&gt;   where I get a malloc&#8217;d blob I can then pass around</div>
<div class="line">[Monday 21 March 2011] [07:10:48] &lt;sustrik&gt;   can&#8217;t be done</div>
<div class="line">[Monday 21 March 2011] [07:11:03] &lt;sustrik&gt;   because you don&#8217;t know what allocation mechanism was used to allocate the buffer</div>
<div class="line">[Monday 21 March 2011] [07:11:14] &lt;sustrik&gt;   thus, you don&#8217;t know whether to free it or what</div>
<div class="line">[Monday 21 March 2011] [07:11:21] &lt;pieterh&gt;   ah, I mean recv() would always allocate on the heap</div>
<div class="line">[Monday 21 March 2011] [07:11:31] &lt;sustrik&gt;   copying the data?</div>
<div class="line">[Monday 21 March 2011] [07:11:50] &lt;pieterh&gt;   no copying, allocate a block, read into that block, and provide the caller with the block address</div>
<div class="line">[Monday 21 March 2011] [07:11:58] &lt;pieterh&gt;   the caller then uses the block with no copying</div>
<div class="line">[Monday 21 March 2011] [07:12:05] &lt;pieterh&gt;   today, you have to always copy the data received</div>
<div class="line">[Monday 21 March 2011] [07:12:06] &lt;sustrik&gt;   the socket is not in control of the allocation process</div>
<div class="line">[Monday 21 March 2011] [07:12:18] &lt;sustrik&gt;   it can be say another socket allocating buffer</div>
<div class="line">[Monday 21 March 2011] [07:12:25] &lt;sustrik&gt;   and sending it via inproc</div>
<div class="line">[Monday 21 March 2011] [07:12:34] &lt;pieterh&gt;   inproc is special...</div>
<div class="line">[Monday 21 March 2011] [07:12:41] &lt;sustrik&gt;   it is</div>
<div class="line">[Monday 21 March 2011] [07:12:49] &lt;pieterh&gt;   forgetting inproc for a second...</div>
<div class="line">[Monday 21 March 2011] [07:13:07] &lt;sustrik&gt;   you still have the VSM problem</div>
<div class="line">[Monday 21 March 2011] [07:13:16] &lt;sustrik&gt;   very small messages are allocated on the stack</div>
<div class="line">[Monday 21 March 2011] [07:13:24] &lt;sustrik&gt;   to speed the processing</div>
<div class="line">[Monday 21 March 2011] [07:13:25] &lt;pieterh&gt;   in C?</div>
<div class="line">[Monday 21 March 2011] [07:13:32] &lt;sustrik&gt;   inside libzmq</div>
<div class="line">[Monday 21 March 2011] [07:13:42] &lt;pieterh&gt;   how do you return a zmq_msg_t referring to a VSM on the stack?</div>
<div class="line">[Monday 21 March 2011] [07:13:53] &lt;sustrik&gt;   it&#8217;s embedded</div>
<div class="line">[Monday 21 March 2011] [07:14:04] &lt;sustrik&gt;   see the definition in zmq.h</div>
<div class="line">[Monday 21 March 2011] [07:14:28] &lt;pieterh&gt;   ok, sure</div>
<div class="line">[Monday 21 March 2011] [07:14:30] &lt;sustrik&gt;   in short, there are different alloc/dealloc mechanisms</div>
<div class="line">[Monday 21 March 2011] [07:14:43] &lt;sustrik&gt;   zmq_msg_t cleanly wraps the buffer and the deallocation function</div>
<div class="line">[Monday 21 March 2011] [07:14:44] &lt;pieterh&gt;   ok, at the risk of being glib, forget VSMs for a second too, they&#8217;re special</div>
<div class="line">[Monday 21 March 2011] [07:14:51] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:15:00] &lt;pieterh&gt;   the bulk case is large messages, where copying is a cost</div>
<div class="line">[Monday 21 March 2011] [07:15:01] &lt;Guthur&gt;    so inproc is special and VSM is special</div>
<div class="line">[Monday 21 March 2011] [07:15:09] &lt;pieterh&gt;   yes, this is accurate, they&#8217;re both optimizations</div>
<div class="line">[Monday 21 March 2011] [07:15:20] &lt;pieterh&gt;   which means they can depend on a more complex API, that&#8217;s fine</div>
<div class="line">[Monday 21 March 2011] [07:16:16] &lt;pieterh&gt;   sustrik: the semantic which I used in the zmsg class, and which works really neatly</div>
<div class="line">[Monday 21 March 2011] [07:16:21] &lt;sustrik&gt;   if you don&#8217;t care about allocation and copying cost in inproc and small message scenarios</div>
<div class="line">[Monday 21 March 2011] [07:16:24] &lt;Guthur&gt;    at the moment though this specialness is too apparent the user, the inproc issue earlier withstanding</div>
<div class="line">[Monday 21 March 2011] [07:16:33] &lt;pieterh&gt;   is that recv() returns a freshly allocated block, and send() always frees a block when it&#8217;s done</div>
<div class="line">[Monday 21 March 2011] [07:16:38] &lt;Guthur&gt;    iis/isn&#8217;t</div>
<div class="line">[Monday 21 March 2011] [07:16:55] &lt;sustrik&gt;   you can wrap zmq_sendmsg to do the transformation of zmq_msg_t into alloc&#8217;d buffer</div>
<div class="line">[Monday 21 March 2011] [07:17:36] &lt;pieterh&gt;   sustrik: I do care, but we can (will) make multiple levels of API</div>
<div class="line">[Monday 21 March 2011] [07:17:55] &lt;sustrik&gt;   and what&#8217;s the point of the proposal?</div>
<div class="line">[Monday 21 March 2011] [07:18:00]      * sustrik doesn&#8217;t get it</div>
<div class="line">[Monday 21 March 2011] [07:18:06] &lt;pieterh&gt;   hmm, well,.. :-)</div>
<div class="line">[Monday 21 March 2011] [07:18:12] &lt;pieterh&gt;   zero-copy on read</div>
<div class="line">[Monday 21 March 2011] [07:18:19] &lt;pieterh&gt;   in the simplest possible fashion</div>
<div class="line">[Monday 21 March 2011] [07:18:37] &lt;pieterh&gt;   ok, forget it, POSIX socket API doesn&#8217;t offer this</div>
<div class="line">[Monday 21 March 2011] [07:18:43] &lt;sustrik&gt;   while at the same time sacrificing zero copy in some scenarios</div>
<div class="line">[Monday 21 March 2011] [07:18:50] &lt;sustrik&gt;   zero-copy is a beast</div>
<div class="line">[Monday 21 March 2011] [07:18:54] &lt;pieterh&gt;   as long as you can recv() directly into a user-allocated buffer, you get zero copy</div>
<div class="line">[Monday 21 March 2011] [07:18:55] &lt;sustrik&gt;   no support in POSIX</div>
<div class="line">[Monday 21 March 2011] [07:19:23] &lt;pieterh&gt;   I just want to be able to store message contents without copying them</div>
<div class="line">[Monday 21 March 2011] [07:19:28] &lt;sustrik&gt;   yes, but that makes the messaging lock-step</div>
<div class="line">[Monday 21 March 2011] [07:19:37] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [07:19:44] &lt;pieterh&gt;   only the recv knows how much memory to allocate</div>
<div class="line">[Monday 21 March 2011] [07:19:54] &lt;sustrik&gt;   exactly</div>
<div class="line">[Monday 21 March 2011] [07:20:05] &lt;sustrik&gt;   so think of zmq_msg_t as a buffer</div>
<div class="line">[Monday 21 March 2011] [07:20:06] &lt;pieterh&gt;   or else, as has been discussed, a user-pluggable allocator</div>
<div class="line">[Monday 21 March 2011] [07:20:10] &lt;pieterh&gt;   which is horrid IMO</div>
<div class="line">[Monday 21 March 2011] [07:20:38] &lt;sustrik&gt;   yuck</div>
<div class="line">[Monday 21 March 2011] [07:20:53] &lt;sustrik&gt;   you can use tcmalloc and similar though</div>
<div class="line">[Monday 21 March 2011] [07:21:00] &lt;sustrik&gt;   as they expose alloc/free API</div>
<div class="line">[Monday 21 March 2011] [07:21:07] &lt;pieterh&gt;   they look like malloc/free</div>
<div class="line">[Monday 21 March 2011] [07:21:16] &lt;sustrik&gt;   you just link the library</div>
<div class="line">[Monday 21 March 2011] [07:21:19] &lt;pieterh&gt;   yup</div>
<div class="line">[Monday 21 March 2011] [07:21:22] &lt;sustrik&gt;   and all allocations are redirected</div>
<div class="line">[Monday 21 March 2011] [07:21:33] &lt;pieterh&gt;   anyhow, think about it, if there&#8217;s a way to return a fresh buffer on recv</div>
<div class="line">[Monday 21 March 2011] [07:21:39] &lt;pieterh&gt;   it would be elegant IMO</div>
<div class="line">[Monday 21 March 2011] [07:21:45] &lt;sustrik&gt;   well, zmq_msg_t is a buffer</div>
<div class="line">[Monday 21 March 2011] [07:21:51] &lt;sustrik&gt;   it looks something like this:</div>
<div class="line">[Monday 21 March 2011] [07:21:52] &lt;pieterh&gt;   yeah, but it&#8217;s not a buffer</div>
<div class="line">[Monday 21 March 2011] [07:22:00] &lt;sustrik&gt;   struct zmq_msg_t</div>
<div class="line">[Monday 21 March 2011] [07:22:01] &lt;sustrik&gt;   {</div>
<div class="line">[Monday 21 March 2011] [07:22:03] &lt;sustrik&gt;      void <a href="#id117"><span class="problematic" id="id118">*</span></a>data</div>
<div class="line">[Monday 21 March 2011] [07:22:05] &lt;pieterh&gt;   it&#8217;s a structure that contains a buffer</div>
<div class="line">[Monday 21 March 2011] [07:22:06] &lt;sustrik&gt;      size_t size;</div>
<div class="line">[Monday 21 March 2011] [07:22:15] &lt;sustrik&gt;      free_fn_t free_fn;</div>
<div class="line">[Monday 21 March 2011] [07:22:16] &lt;sustrik&gt;   }</div>
<div class="line">[Monday 21 March 2011] [07:22:16] &lt;sustrik&gt;   ;</div>
<div class="line">[Monday 21 March 2011] [07:22:18] &lt;pieterh&gt;   well...</div>
<div class="line">[Monday 21 March 2011] [07:22:24] &lt;pieterh&gt;   ok, point taken, it does work</div>
<div class="line">[Monday 21 March 2011] [07:22:28] &lt;pieterh&gt;   it&#8217;s a blob descriptor</div>
<div class="line">[Monday 21 March 2011] [07:22:33] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:23:05] &lt;pieterh&gt;   (a) it should be called &#8216;blob_t&#8217; and (b) recv() should return a freshly created blob</div>
<div class="line">[Monday 21 March 2011] [07:23:18] &lt;pieterh&gt;   blob_t <a href="#id119"><span class="problematic" id="id120">*</span></a>blob = zmq_recv (socket)</div>
<div class="line">[Monday 21 March 2011] [07:23:28] &lt;sustrik&gt;   recv has to return int</div>
<div class="line">[Monday 21 March 2011] [07:23:34] &lt;sustrik&gt;   to be POSIX compliant</div>
<div class="line">[Monday 21 March 2011] [07:23:40] &lt;sustrik&gt;   int + errno</div>
<div class="line">[Monday 21 March 2011] [07:23:45] &lt;pieterh&gt;   int rc = zmq_recv (socket, &amp;blob)</div>
<div class="line">[Monday 21 March 2011] [07:23:49] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:23:59] &lt;sustrik&gt;   that&#8217;s how it works now</div>
<div class="line">[Monday 21 March 2011] [07:23:59] &lt;pieterh&gt;   point being, recv creates the buffer</div>
<div class="line">[Monday 21 March 2011] [07:24:02] &lt;sustrik&gt;   except for the name</div>
<div class="line">[Monday 21 March 2011] [07:24:09] &lt;pieterh&gt;   no, now you need this extra init</div>
<div class="line">[Monday 21 March 2011] [07:24:17] &lt;sustrik&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [07:24:17] &lt;pieterh&gt;   rather annoying</div>
<div class="line">[Monday 21 March 2011] [07:24:28] &lt;sustrik&gt;   that&#8217;s to avoid additional malloc</div>
<div class="line">[Monday 21 March 2011] [07:24:38] &lt;pieterh&gt;   optimization</div>
<div class="line">[Monday 21 March 2011] [07:24:39] &lt;sustrik&gt;   so you create blob_t on the stack</div>
<div class="line">[Monday 21 March 2011] [07:24:51] &lt;sustrik&gt;   which is really fast</div>
<div class="line">[Monday 21 March 2011] [07:24:55] &lt;pieterh&gt;   I know you want that but it shouldn&#8217;t be in the simple API</div>
<div class="line">[Monday 21 March 2011] [07:24:58] &lt;sustrik&gt;   instead of putting it on the heap</div>
<div class="line">[Monday 21 March 2011] [07:25:21] &lt;pieterh&gt;   simple API should be just fast enough, and as simple as it can be, and POSIX like</div>
<div class="line">[Monday 21 March 2011] [07:25:23] &lt;pieterh&gt;   IMO</div>
<div class="line">[Monday 21 March 2011] [07:25:24] &lt;sustrik&gt;   in 3.0 the simple API will be POSIX like</div>
<div class="line">[Monday 21 March 2011] [07:25:35] &lt;sustrik&gt;   zmq_send (void*, size_t)</div>
<div class="line">[Monday 21 March 2011] [07:25:45] &lt;sustrik&gt;   zero-copy is never neat</div>
<div class="line">[Monday 21 March 2011] [07:25:53] &lt;sustrik&gt;   it&#8217;s optimisation in itself</div>
<div class="line">[Monday 21 March 2011] [07:26:00] &lt;pieterh&gt;   what&#8217;s the zmq_recv syntax for 3.0...?</div>
<div class="line">[Monday 21 March 2011] [07:26:03] &lt;sustrik&gt;   and one that crosses all levels of stack</div>
<div class="line">[Monday 21 March 2011] [07:26:08] &lt;sustrik&gt;   and makes mess of layering</div>
<div class="line">[Monday 21 March 2011] [07:26:27] &lt;pieterh&gt;   int size = zmq_recv (socket, void <a href="#id121"><span class="problematic" id="id122">*</span></a>)...?</div>
<div class="line">[Monday 21 March 2011] [07:26:28] &lt;sustrik&gt;   zmq_recv (void <a href="#id123"><span class="problematic" id="id124">*</span></a>buf, size_t <a href="#id125"><span class="problematic" id="id126">*</span></a>size, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:26:39] &lt;sustrik&gt;   forgor socket</div>
<div class="line">[Monday 21 March 2011] [07:26:41] &lt;sustrik&gt;   forgot</div>
<div class="line">[Monday 21 March 2011] [07:26:52] &lt;sustrik&gt;   same as POSIX recv()</div>
<div class="line">[Monday 21 March 2011] [07:27:32] &lt;pieterh&gt;   ok, should be &#8216;ssize_t zmq_recv(void <a href="#id127"><span class="problematic" id="id128">*</span></a>socket, void <a href="#id129"><span class="problematic" id="id130">*</span></a>buf, size_t len, int flags);</div>
<div class="line">[Monday 21 March 2011] [07:27:41] &lt;sustrik&gt;   size_t <a href="#id131"><span class="problematic" id="id132">*</span></a>len</div>
<div class="line">[Monday 21 March 2011] [07:27:45] &lt;pieterh&gt;   nope</div>
<div class="line">[Monday 21 March 2011] [07:27:51] &lt;pieterh&gt;   size_t len, maximum size of buffer</div>
<div class="line">[Monday 21 March 2011] [07:27:58] &lt;sustrik&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [07:27:59] &lt;pieterh&gt;   return code is actual size read</div>
<div class="line">[Monday 21 March 2011] [07:28:00] &lt;sustrik&gt;   you are right</div>
<div class="line">[Monday 21 March 2011] [07:28:11] &lt;pieterh&gt;   it&#8217;s hugely annoying because you have to allocate randomly huge buffers</div>
<div class="line">[Monday 21 March 2011] [07:28:25] &lt;pieterh&gt;   and there&#8217;s no way to recover if the buffer was too small</div>
<div class="line">[Monday 21 March 2011] [07:28:37] &lt;pieterh&gt;   conclusion: you <em>cannot</em> use the POSIX socket API 100% for recv</div>
<div class="line">[Monday 21 March 2011] [07:28:38] &lt;sustrik&gt;   EMSGSIZE</div>
<div class="line">[Monday 21 March 2011] [07:28:43] &lt;pieterh&gt;   no way to recover</div>
<div class="line">[Monday 21 March 2011] [07:28:48] &lt;sustrik&gt;   then you can increase the buffer</div>
<div class="line">[Monday 21 March 2011] [07:28:50] &lt;sustrik&gt;   and recv() anew</div>
<div class="line">[Monday 21 March 2011] [07:28:53] &lt;pieterh&gt;   &#8216;please go back and re-read&#8217;?</div>
<div class="line">[Monday 21 March 2011] [07:28:53] &lt;sustrik&gt;   however</div>
<div class="line">[Monday 21 March 2011] [07:28:57] &lt;pieterh&gt;   ugh</div>
<div class="line">[Monday 21 March 2011] [07:29:05] &lt;pieterh&gt;   ugh and ugh</div>
<div class="line">[Monday 21 March 2011] [07:29:15] &lt;sustrik&gt;   in most scenarios you want to put the limit on message size anyway</div>
<div class="line">[Monday 21 March 2011] [07:29:17] &lt;pieterh&gt;   it means putting message lengths into separate frames</div>
<div class="line">[Monday 21 March 2011] [07:29:27] &lt;sustrik&gt;   setsockopt (MAXMSGSIZE, 1000);</div>
<div class="line">[Monday 21 March 2011] [07:29:35] &lt;pieterh&gt;   that&#8217;s orthogonal to this</div>
<div class="line">[Monday 21 March 2011] [07:29:39] &lt;sustrik&gt;   char buff [1000];</div>
<div class="line">[Monday 21 March 2011] [07:29:46] &lt;sustrik&gt;   zmq_recv (buff, 1000);</div>
<div class="line">[Monday 21 March 2011] [07:29:50] &lt;pieterh&gt;   ugh and ugh again</div>
<div class="line">[Monday 21 March 2011] [07:30:03] &lt;pieterh&gt;   I have frames of 8 bytes and frames of 2MB</div>
<div class="line">[Monday 21 March 2011] [07:30:42] &lt;pieterh&gt;   seriously unsatisfactory to not be able to properly allocate the right buffer size for each frame</div>
<div class="line">[Monday 21 March 2011] [07:30:50] &lt;sustrik&gt;   then you need to use more complex API</div>
<div class="line">[Monday 21 March 2011] [07:31:16] &lt;pieterh&gt;   this makes the simple API almost useless IMO</div>
<div class="line">[Monday 21 March 2011] [07:31:21] &lt;pieterh&gt;   nice for send, useless for recv</div>
<div class="line">[Monday 21 March 2011] [07:32:25] &lt;sustrik&gt;   what&#8217;s the alternative then?</div>
<div class="line">[Monday 21 March 2011] [07:32:40] &lt;sustrik&gt;   tha&#8217;ts how UDP works, irrc</div>
<div class="line">[Monday 21 March 2011] [07:32:42] &lt;pieterh&gt;   I don&#8217;t know, but reading into a pre-allocated buffer is inacceptable IMO</div>
<div class="line">[Monday 21 March 2011] [07:32:47] &lt;pieterh&gt;   UDP has maximum frame sizes</div>
<div class="line">[Monday 21 March 2011] [07:32:51] &lt;pieterh&gt;   TCP is a stream</div>
<div class="line">[Monday 21 March 2011] [07:32:54] &lt;sustrik&gt;   ZMQ_MAXMSGSIZE</div>
<div class="line">[Monday 21 March 2011] [07:33:04] &lt;sustrik&gt;   same as MTU</div>
<div class="line">[Monday 21 March 2011] [07:33:07] &lt;pieterh&gt;   0MQ is message-oriented, that means different read/write semantics</div>
<div class="line">[Monday 21 March 2011] [07:33:09] &lt;sustrik&gt;   but on messaging level</div>
<div class="line">[Monday 21 March 2011] [07:33:15] &lt;pieterh&gt;   it&#8217;s not the same thing</div>
<div class="line">[Monday 21 March 2011] [07:33:24] &lt;pieterh&gt;   you have a 64-bit message size</div>
<div class="line">[Monday 21 March 2011] [07:33:48] &lt;sustrik&gt;   well, i think there are 2 distinct use cases here</div>
<div class="line">[Monday 21 March 2011] [07:33:54] &lt;sustrik&gt;   1. something like market data</div>
<div class="line">[Monday 21 March 2011] [07:34:02] &lt;pieterh&gt;   I think it&#8217;s necessary to define semantics that fit messaging</div>
<div class="line">[Monday 21 March 2011] [07:34:03] &lt;sustrik&gt;   you want to limit max size of message</div>
<div class="line">[Monday 21 March 2011] [07:34:10] &lt;pieterh&gt;   not try to make 0MQ look like TCP, it&#8217;s not</div>
<div class="line">[Monday 21 March 2011] [07:34:22] &lt;sustrik&gt;   to prevent someone killing the transmission by pushing 4GB blob</div>
<div class="line">[Monday 21 March 2011] [07:34:30] &lt;pieterh&gt;   this is orthogonal</div>
<div class="line">[Monday 21 March 2011] [07:34:33] &lt;pieterh&gt;   it&#8217;s not the issue</div>
<div class="line">[Monday 21 March 2011] [07:34:37] &lt;sustrik&gt;   in such case zmq_recv() is sufficient</div>
<div class="line">[Monday 21 March 2011] [07:34:46] &lt;pieterh&gt;   I can&#8217;t agree...</div>
<div class="line">[Monday 21 March 2011] [07:34:46] &lt;sustrik&gt;   2. something like FTP</div>
<div class="line">[Monday 21 March 2011] [07:34:52] &lt;pieterh&gt;   let&#8217;s say I want to hold a queue of messages</div>
<div class="line">[Monday 21 March 2011] [07:34:59] &lt;sustrik&gt;   in that case you don&#8217;t know the size in advance</div>
<div class="line">[Monday 21 March 2011] [07:35:00] &lt;pieterh&gt;   might be 1M messages, held for 1 second</div>
<div class="line">[Monday 21 March 2011] [07:35:09] &lt;pieterh&gt;   I have to allocate the maximum frame size for each one</div>
<div class="line">[Monday 21 March 2011] [07:35:15] &lt;pieterh&gt;   this is seriously problematic</div>
<div class="line">[Monday 21 March 2011] [07:35:33] &lt;pieterh&gt;   my alternative is to read everything into a frame buffer and memcpy</div>
<div class="line">[Monday 21 March 2011] [07:35:35] &lt;pieterh&gt;   that is seriously stupid</div>
<div class="line">[Monday 21 March 2011] [07:35:40] &lt;pieterh&gt;   what I want is a recv() that allocates and returns a block</div>
<div class="line">[Monday 21 March 2011] [07:35:43] &lt;pieterh&gt;   that is seriously simple</div>
<div class="line">[Monday 21 March 2011] [07:35:55] &lt;sustrik&gt;   that&#8217;s zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:36:02] &lt;pieterh&gt;   then I will never use recv() because it&#8217;s <em>more</em> complex</div>
<div class="line">[Monday 21 March 2011] [07:36:05] &lt;pieterh&gt;   which is pointless</div>
<div class="line">[Monday 21 March 2011] [07:36:09] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:36:16] &lt;pieterh&gt;   trying to make 0MQ look like TCP is a big mistake IMO</div>
<div class="line">[Monday 21 March 2011] [07:36:20] &lt;Guthur&gt;    frankly from what I&#8217;m reading POSIX recv is just pants</div>
<div class="line">[Monday 21 March 2011] [07:36:31] &lt;pieterh&gt;   it is simply not a file-oriented metaphor, period</div>
<div class="line">[Monday 21 March 2011] [07:36:38] &lt;Guthur&gt;    and modelling it after that is the problem</div>
<div class="line">[Monday 21 March 2011] [07:36:40] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:36:52] &lt;pieterh&gt;   and it won&#8217;t make 0MQ more compatible with the kernel</div>
<div class="line">[Monday 21 March 2011] [07:37:04] &lt;sustrik&gt;   so you want zmq_recvmsg and no zmq_recv, right?</div>
<div class="line">[Monday 21 March 2011] [07:37:07] &lt;pieterh&gt;   the way to get 0MQ into the kernel is to make it utterly compelling</div>
<div class="line">[Monday 21 March 2011] [07:37:12] &lt;pieterh&gt;   so every developer on the planet uses it</div>
<div class="line">[Monday 21 March 2011] [07:37:21] &lt;pieterh&gt;   and you get that by making it utterly simple for simple cases</div>
<div class="line">[Monday 21 March 2011] [07:37:56] &lt;pieterh&gt;   sustrik: what I want, speaking as a 0MQ user, is a recv method (any name) which returns a fresh buffer or blob structure</div>
<div class="line">[Monday 21 March 2011] [07:38:05] &lt;sustrik&gt;   zmq_recvmsg</div>
<div class="line">[Monday 21 March 2011] [07:38:07] &lt;sustrik&gt;   that&#8217;s it</div>
<div class="line">[Monday 21 March 2011] [07:38:09] &lt;pieterh&gt;   and a send method that takes the same buffer or blob structure</div>
<div class="line">[Monday 21 March 2011] [07:38:18] &lt;sustrik&gt;   zmq_sendmsg</div>
<div class="line">[Monday 21 March 2011] [07:38:20] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:38:26] &lt;pieterh&gt;   then recv and send are useless</div>
<div class="line">[Monday 21 March 2011] [07:38:27] &lt;sustrik&gt;   it&#8217;s going to be there</div>
<div class="line">[Monday 21 March 2011] [07:38:30] &lt;pieterh&gt;   and won&#8217;t get showtime</div>
<div class="line">[Monday 21 March 2011] [07:38:43] &lt;sustrik&gt;   zmq_send (s, &#8220;ABC&#8221;, 3);</div>
<div class="line">[Monday 21 March 2011] [07:38:48] &lt;sustrik&gt;   what&#8217;s wrong about that?</div>
<div class="line">[Monday 21 March 2011] [07:38:55] &lt;pieterh&gt;   using one API metaphor for sending, another for receiving?</div>
<div class="line">[Monday 21 March 2011] [07:39:14] &lt;sustrik&gt;   char buff [3];</div>
<div class="line">[Monday 21 March 2011] [07:39:23] &lt;sustrik&gt;   zmq_recv (s, buf, 3)</div>
<div class="line">[Monday 21 March 2011] [07:39:35] &lt;pieterh&gt;   yes, and if the sender gives you 4 bytes, your socket is dead</div>
<div class="line">[Monday 21 March 2011] [07:39:38] &lt;sustrik&gt;   the sendmsg and recvmsg will be of course availabler</div>
<div class="line">[Monday 21 March 2011] [07:39:40] &lt;pieterh&gt;   it&#8217;s not defensible</div>
<div class="line">[Monday 21 March 2011] [07:39:46] &lt;sustrik&gt;   it&#8217;s not dead</div>
<div class="line">[Monday 21 March 2011] [07:39:49] &lt;sustrik&gt;   it reports error</div>
<div class="line">[Monday 21 March 2011] [07:39:54] &lt;pieterh&gt;   and the next read...</div>
<div class="line">[Monday 21 March 2011] [07:39:58] &lt;pieterh&gt;   next frame or same frame?</div>
<div class="line">[Monday 21 March 2011] [07:40:07] &lt;sustrik&gt;   i would copy UDP semantics</div>
<div class="line">[Monday 21 March 2011] [07:40:12] &lt;pieterh&gt;   or a special flag to re-read the same frame?</div>
<div class="line">[Monday 21 March 2011] [07:40:13] &lt;sustrik&gt;   but it&#8217;s open to discussion</div>
<div class="line">[Monday 21 March 2011] [07:40:19] &lt;pieterh&gt;   it gets horrid</div>
<div class="line">[Monday 21 March 2011] [07:40:25] &lt;pieterh&gt;   and it&#8217;s not worth it just to get that simple send</div>
<div class="line">[Monday 21 March 2011] [07:40:39] &lt;pieterh&gt;   I can make a &#8216;send string&#8217; method in 10 lines of C, and have done this</div>
<div class="line">[Monday 21 March 2011] [07:40:49] &lt;pieterh&gt;   it&#8217;s not worth upgrading to 3.0 to save 10 lines of C</div>
<div class="line">[Monday 21 March 2011] [07:40:51] &lt;sustrik&gt;   so you want to keep the existing API right?</div>
<div class="line">[Monday 21 March 2011] [07:40:53] &lt;pieterh&gt;   send is really not the issue</div>
<div class="line">[Monday 21 March 2011] [07:41:05] &lt;pieterh&gt;   nope, the existing API is also too complex</div>
<div class="line">[Monday 21 March 2011] [07:41:08] &lt;pieterh&gt;   sorry :-)</div>
<div class="line">[Monday 21 March 2011] [07:41:25] &lt;sustrik&gt;   ok, send your proposal to the mailing list</div>
<div class="line">[Monday 21 March 2011] [07:41:33] &lt;sustrik&gt;   no point in discussing it here</div>
<div class="line">[Monday 21 March 2011] [07:41:36] &lt;pieterh&gt;   well, I have thousands of lines of sample code in the Guide</div>
<div class="line">[Monday 21 March 2011] [07:41:42] &lt;pieterh&gt;   that show what I like as APIs, in C</div>
<div class="line">[Monday 21 March 2011] [07:41:54] &lt;pieterh&gt;   string = s_recv (socket); free (string);</div>
<div class="line">[Monday 21 March 2011] [07:41:54] &lt;sustrik&gt;   using blobs, yes</div>
<div class="line">[Monday 21 March 2011] [07:42:00] &lt;pieterh&gt;   s_send (socket, &#8220;Hello&#8221;);</div>
<div class="line">[Monday 21 March 2011] [07:42:08] &lt;pieterh&gt;   that&#8217;s for strings, it&#8217;s simple and clean</div>
<div class="line">[Monday 21 March 2011] [07:42:11] &lt;sustrik&gt;   that&#8217;s a special case of current 0mq api</div>
<div class="line">[Monday 21 March 2011] [07:42:54] &lt;sustrik&gt;   you can propose changing zmq_msg_t into blob_t</div>
<div class="line">[Monday 21 March 2011] [07:42:54] &lt;pieterh&gt;   anyhow, my advice is to not try to imitate neither TCP nor UDP but develop clear and optimal 0MQ semantics in the API</div>
<div class="line">[Monday 21 March 2011] [07:43:03] &lt;pieterh&gt;   you will get more adoption of your API</div>
<div class="line">[Monday 21 March 2011] [07:43:10] &lt;pieterh&gt;   and that&#8217;s the way to get 0MQ into the kernel</div>
<div class="line">[Monday 21 March 2011] [07:43:18] &lt;sustrik&gt;   sure, go on, propose an alternative</div>
<div class="line">[Monday 21 March 2011] [07:43:23] &lt;pieterh&gt;   slavish imitation of old, semi-accurate APIs won&#8217;t work</div>
<div class="line">[Monday 21 March 2011] [07:43:28] &lt;pieterh&gt;   ok, I&#8217;ll propose an alternative</div>
<div class="line">[Monday 21 March 2011] [07:43:33] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [07:44:04] &lt;sustrik&gt;   as for kernel it&#8217;s a very different problem so let&#8217;s forget about it atm</div>
<div class="line">[Monday 21 March 2011] [07:44:23] &lt;pieterh&gt;   well, I think the point is that simple / clean gets you market share</div>
<div class="line">[Monday 21 March 2011] [07:44:31] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:44:50] &lt;sustrik&gt;   kernel is different though &#8211; if you propose change to ABI, you&#8217;ll never get in</div>
<div class="line">[Monday 21 March 2011] [07:44:59] &lt;pieterh&gt;   the kernel is just peopl;e</div>
<div class="line">[Monday 21 March 2011] [07:45:02] &lt;pieterh&gt;   <a href="#id133"><span class="problematic" id="id134">*</span></a>people</div>
<div class="line">[Monday 21 March 2011] [07:45:22] &lt;sustrik&gt;   the problem with new ABIs is they have to be maintained indefinitely</div>
<div class="line">[Monday 21 March 2011] [07:45:24] &lt;Guthur&gt;    tis a shame C doesn&#8217;t support method overloading</div>
<div class="line">[Monday 21 March 2011] [07:45:42] &lt;Guthur&gt;    method/function</div>
<div class="line">[Monday 21 March 2011] [07:45:54] &lt;pieterh&gt;   Guthur: well, it&#8217;s nice that you know what a function is, forever</div>
<div class="line">[Monday 21 March 2011] [07:46:08] &lt;pieterh&gt;   sustrik: do you mind if I delete the irrelevant comments on the 3.0 page?</div>
<div class="line">[Monday 21 March 2011] [07:46:21] &lt;sustrik&gt;   which are those?</div>
<div class="line">[Monday 21 March 2011] [07:46:27] &lt;pieterh&gt;   all of them, I guess</div>
<div class="line">[Monday 21 March 2011] [07:46:27] &lt;sustrik&gt;   ah, the comments</div>
<div class="line">[Monday 21 March 2011] [07:46:30] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [07:46:31] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [07:46:39] &lt;sustrik&gt;   i haven&#8217;t known it&#8217;s even possible</div>
<div class="line">[Monday 21 March 2011] [07:46:40] &lt;Guthur&gt;    overloading doesn&#8217;t remove that but you can have Send(blob*, size)  Send(zmq_msg) etc</div>
<div class="line">[Monday 21 March 2011] [07:47:11] &lt;Guthur&gt;    anyway not really benefiting the discussing</div>
<div class="line">[Monday 21 March 2011] [07:47:11] &lt;sustrik&gt;   Guthur: that helps with API, but doesn&#8217;t help with ABI</div>
<div class="line">[Monday 21 March 2011] [07:47:27] &lt;sustrik&gt;   from ABI point of view it&#8217;s still 2 functions</div>
<div class="line">[Monday 21 March 2011] [07:48:57] &lt;Guthur&gt;    but this was a discussion about API,</div>
<div class="line">[Monday 21 March 2011] [07:49:03] &lt;Guthur&gt;    i thought</div>
<div class="line">[Monday 21 March 2011] [07:49:23] &lt;sustrik&gt;   mostly, there are some ABI users though</div>
<div class="line">[Monday 21 March 2011] [07:49:29] &lt;sustrik&gt;   namely, clrzmq :)</div>
<div class="line">[Monday 21 March 2011] [07:49:34] &lt;sustrik&gt;   right?</div>
<div class="line">[Monday 21 March 2011] [07:49:58] &lt;mile&gt;      yrashk,</div>
<div class="line">[Monday 21 March 2011] [07:50:07] &lt;Guthur&gt;    well... yeah</div>
<div class="line">[Monday 21 March 2011] [07:57:51] &lt;yrashk&gt;    mile: ?</div>
<div class="line">[Monday 21 March 2011] [07:58:56] &lt;mile&gt;      yrashk, hi, I was just into connecting yaws to erlzmq2, and I&#8217;d need some advice</div>
<div class="line">[Monday 21 March 2011] [07:59:14] &lt;yrashk&gt;    mile: sure</div>
<div class="line">[Monday 21 March 2011] [07:59:44] &lt;mile&gt;      docs says it creates an OS thread per context</div>
<div class="line">[Monday 21 March 2011] [08:00:16] &lt;yrashk&gt;    that&#8217;s right</div>
<div class="line">[Monday 21 March 2011] [08:00:21] &lt;mile&gt;      that means, if I want to serve a large number of connections (parallel), I should make some kind of a router talking to zmq</div>
<div class="line">[Monday 21 March 2011] [08:00:36] &lt;mile&gt;      which then talks to many erlang processes</div>
<div class="line">[Monday 21 March 2011] [08:00:59] &lt;yrashk&gt;    do you plan to open a large open of contexts?</div>
<div class="line">[Monday 21 March 2011] [08:01:16] &lt;pieterh&gt;   sustrik: ok, I&#8217;ve thrown together a very rough API proposal</div>
<div class="line">[Monday 21 March 2011] [08:01:17] &lt;mile&gt;      yes, a web server in the front</div>
<div class="line">[Monday 21 March 2011] [08:01:24] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [08:01:24] &lt;mile&gt;      so, the more, the better :)</div>
<div class="line">[Monday 21 March 2011] [08:01:44] &lt;pieterh&gt;   sustrik: mostly, there is a really nice class-oriented API style we&#8217;ve developed for ZFL</div>
<div class="line">[Monday 21 March 2011] [08:01:49] &lt;Guthur&gt;    pieterh: you sending to the mailing list, or is it on the wiki</div>
<div class="line">[Monday 21 March 2011] [08:01:55] &lt;yrashk&gt;    is there any good reason to open a large # of contexts?</div>
<div class="line">[Monday 21 March 2011] [08:02:02] &lt;mile&gt;      a good example is comet/ajax clients</div>
<div class="line">[Monday 21 March 2011] [08:02:04] &lt;sustrik&gt;   pieterh: can you send that to the ML</div>
<div class="line">[Monday 21 March 2011] [08:02:05] &lt;pieterh&gt;   Guthur: my pattern is to document on the wiki first, then tell the list or IRC about it</div>
<div class="line">[Monday 21 March 2011] [08:02:14] &lt;pieterh&gt;   sending specs / proposals to the ML is an anti-pattern</div>
<div class="line">[Monday 21 March 2011] [08:02:27] &lt;Guthur&gt;    no probs, just eager to have a look</div>
<div class="line">[Monday 21 March 2011] [08:02:33] &lt;mile&gt;      yrashk, no good reason, one would do good, it it takes care of multiplexing</div>
<div class="line">[Monday 21 March 2011] [08:02:36] &lt;sustrik&gt;   nobody is going to notice it</div>
<div class="line">[Monday 21 March 2011] [08:02:47] &lt;yrashk&gt;    mile: our recv does multiplex</div>
<div class="line">[Monday 21 March 2011] [08:03:31] &lt;mile&gt;      yrashk, so a single recv which then talks to a large number of erlang processes should work fine?</div>
<div class="line">[Monday 21 March 2011] [08:03:45] &lt;pieterh&gt;   sustrik: what are the actual goals with the 3.0 API?</div>
<div class="line">[Monday 21 March 2011] [08:04:12] &lt;sustrik&gt;   move towards POSIX</div>
<div class="line">[Monday 21 March 2011] [08:04:36] &lt;pieterh&gt;   simpler API?</div>
<div class="line">[Monday 21 March 2011] [08:04:41] &lt;pieterh&gt;   less lines of code in apps?</div>
<div class="line">[Monday 21 March 2011] [08:04:46] &lt;sustrik&gt;   nope, POSIX-like api</div>
<div class="line">[Monday 21 March 2011] [08:04:50] &lt;pieterh&gt;   that&#8217;s all?</div>
<div class="line">[Monday 21 March 2011] [08:04:55] &lt;sustrik&gt;   for me, yes</div>
<div class="line">[Monday 21 March 2011] [08:04:56] &lt;yrashk&gt;    mile: well, you can spawn multiple recvs on the erlang side for different sockets (even in a single context, but you can do multiple contextrs too) and every context will multiplex (it uses zmq_poll)</div>
<div class="line">[Monday 21 March 2011] [08:05:10] &lt;pieterh&gt;   ok, I&#8217;ll add my goals too, they&#8217;re not in conflict afaics</div>
<div class="line">[Monday 21 March 2011] [08:05:16] &lt;tjgillies&gt; anyone have a pub/sub example for node? i can&#8217;t find one anywhere</div>
<div class="line">[Monday 21 March 2011] [08:05:18] &lt;sustrik&gt;   + removing some obsolete stuff</div>
<div class="line">[Monday 21 March 2011] [08:05:30] &lt;sustrik&gt;   but please use mailing list</div>
<div class="line">[Monday 21 March 2011] [08:05:46] &lt;sustrik&gt;   nobody will see the discussion on the webpage</div>
<div class="line">[Monday 21 March 2011] [08:06:03] &lt;pieterh&gt;   sustrik: like I said, I document on the wiki first, <em>then</em> discuss on the list</div>
<div class="line">[Monday 21 March 2011] [08:06:03] &lt;mile&gt;      yrashk, thanks! :)   do you know of any code snippets around?</div>
<div class="line">[Monday 21 March 2011] [08:06:13] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [08:06:16] &lt;mile&gt;      I couldn&#8217;t find much on the webpage</div>
<div class="line">[Monday 21 March 2011] [08:06:25] &lt;yrashk&gt;    mile: perf/ and test/</div>
<div class="line">[Monday 21 March 2011] [08:06:30] &lt;yrashk&gt;    mile: in the repo</div>
<div class="line">[Monday 21 March 2011] [08:06:30] &lt;sustrik&gt;   but i makes unclear what&#8217;s your proposal</div>
<div class="line">[Monday 21 March 2011] [08:06:31] &lt;mile&gt;      tx :)</div>
<div class="line">[Monday 21 March 2011] [08:06:37] &lt;sustrik&gt;   at least mark it as such</div>
<div class="line">[Monday 21 March 2011] [08:06:44] &lt;pieterh&gt;   sustrik: have you read the page?</div>
<div class="line">[Monday 21 March 2011] [08:06:56] &lt;sustrik&gt;   yep</div>
<div class="line">[Monday 21 March 2011] [08:07:10] &lt;pieterh&gt;   it&#8217;s literally a brain dump, not organized yet</div>
<div class="line">[Monday 21 March 2011] [08:07:12] &lt;yrashk&gt;    mile: yw</div>
<div class="line">[Monday 21 March 2011] [08:07:22] &lt;sustrik&gt;   whatever</div>
<div class="line">[Monday 21 March 2011] [08:07:30] &lt;sustrik&gt;   just move the discussion the mailing list</div>
<div class="line">[Monday 21 March 2011] [08:07:50] &lt;pieterh&gt;   Yes, I&#8217;m in the process of doing that</div>
<div class="line">[Monday 21 March 2011] [08:07:55] &lt;sustrik&gt;   goodo</div>
<div class="line">[Monday 21 March 2011] [08:08:23] &lt;pieterh&gt;   you&#8217;d prefer that my proposal is marked &#8220;proposed by Pieter&#8221; or somesuch?</div>
<div class="line">[Monday 21 March 2011] [08:08:35] &lt;pieterh&gt;   we don&#8217;t generally do this</div>
<div class="line">[Monday 21 March 2011] [08:08:49] &lt;pieterh&gt;   wiki pages = edit into shape and consensus</div>
<div class="line">[Monday 21 March 2011] [08:09:32] &lt;sustrik&gt;   doesn&#8217;t really matter as long as it&#8217;s discussed on the mailing list</div>
<div class="line">[Monday 21 March 2011] [08:09:40] &lt;sustrik&gt;   then it&#8217;s clear who proposed what</div>
<div class="line">[Monday 21 March 2011] [08:13:12] &lt;pieterh&gt;   ok, done</div>
<div class="line">[Monday 21 March 2011] [08:13:19] &lt;Guthur&gt;    will pushing string handling down into 0MQ have any adverse effect on people sending binary blobs</div>
<div class="line">[Monday 21 March 2011] [08:13:29] &lt;pieterh&gt;   Guthur: it&#8217;s two different use cases</div>
<div class="line">[Monday 21 March 2011] [08:13:38] &lt;pieterh&gt;   sending strings is one very common case</div>
<div class="line">[Monday 21 March 2011] [08:13:54] &lt;Guthur&gt;    sure, but binary serialization is quite popular these days</div>
<div class="line">[Monday 21 March 2011] [08:13:58] &lt;pieterh&gt;   it&#8217;s only in C that a string and a blob are fundamentally different</div>
<div class="line">[Monday 21 March 2011] [08:14:03] &lt;Guthur&gt;    protobuffers etc</div>
<div class="line">[Monday 21 March 2011] [08:14:17] &lt;pieterh&gt;   yeah, but this is not stuff you want to learn as a beginner</div>
<div class="line">[Monday 21 March 2011] [08:15:13] &lt;Guthur&gt;    if you are a beginner you probably shouldn&#8217;t be using C</div>
<div class="line">[Monday 21 March 2011] [08:15:21] &lt;Guthur&gt;    you&#8217;re feet can only take so much</div>
<div class="line">[Monday 21 March 2011] [08:15:28] &lt;pieterh&gt;   perhaps it was an error to use C as the language for the Guide</div>
<div class="line">[Monday 21 March 2011] [08:16:32] &lt;Guthur&gt;    pieterh: you have done a good job there though</div>
<div class="line">[Monday 21 March 2011] [08:16:53] &lt;pieterh&gt;   with a lot of help from contributors...</div>
<div class="line">[Monday 21 March 2011] [08:16:59] &lt;Guthur&gt;    I suppose my comment was more programming general as opposed to 0MQ beginners</div>
<div class="line">[Monday 21 March 2011] [08:17:51] &lt;Guthur&gt;    I&#8217;d imagine most of the bindings provide string handling</div>
<div class="line">[Monday 21 March 2011] [08:18:02] &lt;Guthur&gt;    I know i did with clrzmq</div>
<div class="line">[Monday 21 March 2011] [08:18:04] &lt;pieterh&gt;   perhaps we should make a standard C binding... :-)</div>
<div class="line">[Monday 21 March 2011] [08:18:56] &lt;Guthur&gt;    well you did mention multiple levels of the API</div>
<div class="line">[Monday 21 March 2011] [08:20:01] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [08:22:47] &lt;pieterh&gt;   sustrik: if we made a separate C binding, most of my concerns could be solved there</div>
<div class="line">[Monday 21 March 2011] [08:23:25] &lt;sustrik&gt;   you mean like C binding on top of POSIX api</div>
<div class="line">[Monday 21 March 2011] [08:23:28] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [08:23:34] &lt;sustrik&gt;   why not</div>
<div class="line">[Monday 21 March 2011] [08:23:37] &lt;sustrik&gt;   it&#8217;s up to you</div>
<div class="line">[Monday 21 March 2011] [08:23:43] &lt;pieterh&gt;   I have a lovely class-oriented model in ZFL...</div>
<div class="line">[Monday 21 March 2011] [08:23:48] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 21 March 2011] [08:24:13] &lt;pieterh&gt;   this would remove the need for random ad-hoc layers like zmsg and s_recv/s_send</div>
<div class="line">[Monday 21 March 2011] [08:24:22] &lt;pieterh&gt;   ok, I&#8217;ll think it through</div>
<div class="line">[Monday 21 March 2011] [08:24:25] &lt;sustrik&gt;   sure, go for it</div>
<div class="line">[Monday 21 March 2011] [08:24:41] &lt;pieterh&gt;   there&#8217;s stuff like serialization that other bindings offer, right?</div>
<div class="line">[Monday 21 March 2011] [08:24:44] &lt;pieterh&gt;   json, etc.</div>
<div class="line">[Monday 21 March 2011] [08:24:53] &lt;sustrik&gt;   yes, different stuff</div>
<div class="line">[Monday 21 March 2011] [08:24:56] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [08:25:08] &lt;sustrik&gt;   some bindings don&#8217;t even follow the underlying APIs</div>
<div class="line">[Monday 21 March 2011] [08:25:18] &lt;pieterh&gt;   indeed</div>
<div class="line">[Monday 21 March 2011] [08:25:34] &lt;sustrik&gt;   and adhere more to paradigm of the language in question</div>
<div class="line">[Monday 21 March 2011] [08:25:39] &lt;sustrik&gt;   like C#</div>
<div class="line">[Monday 21 March 2011] [08:25:51] &lt;sustrik&gt;   Guthur may be more specific on that</div>
<div class="line">[Monday 21 March 2011] [08:26:21] &lt;pieterh&gt;   this means the real API can be as complex as you need to make it</div>
<div class="line">[Monday 21 March 2011] [08:26:40] &lt;pieterh&gt;   hmm, ok, this is a good plan</div>
<div class="line">[Monday 21 March 2011] [08:26:46] &lt;sustrik&gt;   nice</div>
<div class="line">[Monday 21 March 2011] [08:40:05] &lt;Guthur&gt;    yeah. I&#8217;m guilty of deviating somewhat from the underlying API</div>
<div class="line">[Monday 21 March 2011] [08:41:01] &lt;Guthur&gt;    my rational is that to get accepted by a language community such as C# you need to provide adequate abstractions</div>
<div class="line">[Monday 21 March 2011] [08:41:33] &lt;Guthur&gt;    string handling being a prime example</div>
<div class="line">[Monday 21 March 2011] [08:42:09] &lt;Guthur&gt;    they get scared if they see too many byte arrays</div>
<div class="line">[Monday 21 March 2011] [08:43:03] &lt;Guthur&gt;    I&#8217;m not joking there either, when I demonstrated something to my boss that is exactly what he picked up on, he was like &#8216;ugh byte arrays&#8217;</div>
<div class="line">[Monday 21 March 2011] [08:43:25] &lt;Guthur&gt;    I should have hid that better for my demo</div>
<div class="line">[Monday 21 March 2011] [08:45:49] &lt;sustrik&gt;   :)</div>
<div class="line">[Monday 21 March 2011] [09:15:12] &lt;mile&gt;      yrashk, got the forst results</div>
<div class="line">[Monday 21 March 2011] [09:15:22] &lt;mile&gt;      erlang talking to c++</div>
<div class="line">[Monday 21 March 2011] [09:15:41] &lt;mile&gt;      but not very impressive, I guess I have done something wrong</div>
<div class="line">[Monday 21 March 2011] [09:16:03] &lt;mile&gt;      got around 2600 msg/sec</div>
<div class="line">[Monday 21 March 2011] [09:16:28] &lt;mile&gt;      that is, the double of that</div>
<div class="line">[Monday 21 March 2011] [09:16:29] &lt;pieterh&gt;   mile: are you doing request-reply?</div>
<div class="line">[Monday 21 March 2011] [09:16:50] &lt;mile&gt;      yes</div>
<div class="line">[Monday 21 March 2011] [09:17:00] &lt;pieterh&gt;   that&#8217;s pretty normal then</div>
<div class="line">[Monday 21 March 2011] [09:17:27] &lt;pieterh&gt;   round-tripping is slow</div>
<div class="line">[Monday 21 March 2011] [09:17:35] &lt;mile&gt;      ok, thats good in terms I didn&#8217;t screw up :)</div>
<div class="line">[Monday 21 March 2011] [09:17:54] &lt;pieterh&gt;   ah, you may also have screwed up, that&#8217;s not excluded :-)</div>
<div class="line">[Monday 21 March 2011] [09:18:07] &lt;mile&gt;      hehe</div>
<div class="line">[Monday 21 March 2011] [09:18:19] &lt;pieterh&gt;   if you want to measure throughput, try a push/pull or pub/sub test</div>
<div class="line">[Monday 21 March 2011] [09:18:30] &lt;mile&gt;      so, if I get it right, single request/reply are bounded by the roundtrip</div>
<div class="line">[Monday 21 March 2011] [09:18:35] &lt;yrashk&gt;    there are pub/sub perf tests in erlzmq2</div>
<div class="line">[Monday 21 March 2011] [09:18:38] &lt;mile&gt;      but if I had parallel clients</div>
<div class="line">[Monday 21 March 2011] [09:18:38] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [09:18:51] &lt;mile&gt;      that would scale</div>
<div class="line">[Monday 21 March 2011] [09:19:00] &lt;pieterh&gt;   mile: how far in the Guide have you read?</div>
<div class="line">[Monday 21 March 2011] [09:19:28] &lt;mile&gt;      pieterh, good point, I started skipping at some point</div>
<div class="line">[Monday 21 March 2011] [09:19:29] &lt;mile&gt;      :)</div>
<div class="line">[Monday 21 March 2011] [09:19:45] &lt;mile&gt;      I&#8217;ll get back to it</div>
<div class="line">[Monday 21 March 2011] [09:20:06] &lt;pieterh&gt;   it doesn&#8217;t talk about round-tripping until chapter 4</div>
<div class="line">[Monday 21 March 2011] [09:20:21] &lt;pieterh&gt;   but at least you need to know how to scale up req/rep</div>
<div class="line">[Monday 21 March 2011] [09:20:35] &lt;pieterh&gt;   using devices, which we cover in ch2</div>
<div class="line">[Monday 21 March 2011] [09:21:04] &lt;yrashk&gt;    btw pieterh I am considering actually using 0mq for some notification bus here :) still not sure whether I can make this simple enough, though..</div>
<div class="line">[Monday 21 March 2011] [09:21:06] &lt;mile&gt;      that I have read, but I definitely need to read it again :)</div>
<div class="line">[Monday 21 March 2011] [09:21:41] &lt;pieterh&gt;   yrashk: well, let us know if you hit any blocks</div>
<div class="line">[Monday 21 March 2011] [09:21:55] &lt;yrashk&gt;    I already hit one, it looks too complicated for me :D</div>
<div class="line">[Monday 21 March 2011] [09:23:06] &lt;pieterh&gt;   you mean the use case?</div>
<div class="line">[Monday 21 March 2011] [09:23:13] &lt;yrashk&gt;    yeah</div>
<div class="line">[Monday 21 March 2011] [09:23:28] &lt;yrashk&gt;    I am still to come to any kind of real model yet</div>
<div class="line">[Monday 21 March 2011] [09:23:44] &lt;pieterh&gt;   it&#8217;s a new system or you want to reimplement an existing one?</div>
<div class="line">[Monday 21 March 2011] [09:23:54] &lt;yrashk&gt;    but I need to build a cluster-wide notification system where everyone can push a mesasge to a &#8220;topic&#8221; and subscribe to any topic</div>
<div class="line">[Monday 21 March 2011] [09:24:14] &lt;yrashk&gt;    but it&#8217;s multihost and host-failure tolerant.. (well, it should be)</div>
<div class="line">[Monday 21 March 2011] [09:24:18] &lt;pieterh&gt;   read the whaleshark whitepaper yet?</div>
<div class="line">[Monday 21 March 2011] [09:24:27] &lt;yrashk&gt;    briefly</div>
<div class="line">[Monday 21 March 2011] [09:24:28] &lt;pieterh&gt;   that&#8217;s more or less the idea</div>
<div class="line">[Monday 21 March 2011] [09:24:52] &lt;pieterh&gt;   more or less, not exactly</div>
<div class="line">[Monday 21 March 2011] [09:24:59] &lt;pieterh&gt;   but there may be ideas there to help you</div>
<div class="line">[Monday 21 March 2011] [09:25:16] &lt;yrashk&gt;    good idea, thanks</div>
<div class="line">[Monday 21 March 2011] [09:25:32] &lt;pieterh&gt;   depending on the scale you can also make a brokered model</div>
<div class="line">[Monday 21 March 2011] [09:25:43] &lt;pieterh&gt;   e.g. something like AMQP&#8217;s topic exchange</div>
<div class="line">[Monday 21 March 2011] [09:25:55] &lt;yrashk&gt;    I&#8217;d rather avoid amqp</div>
<div class="line">[Monday 21 March 2011] [09:26:04] &lt;pieterh&gt;   no, not AMQP, just some of the semantics</div>
<div class="line">[Monday 21 March 2011] [09:26:13] &lt;yrashk&gt;    I mean</div>
<div class="line">[Monday 21 March 2011] [09:26:16] &lt;pieterh&gt;   I can explain briefly if you like, it&#8217;s very elegant</div>
<div class="line">[Monday 21 March 2011] [09:26:21] &lt;yrashk&gt;    I&#8217;d rather avoid single-broker thing</div>
<div class="line">[Monday 21 March 2011] [09:26:26] &lt;pieterh&gt;   ah, ok, why?</div>
<div class="line">[Monday 21 March 2011] [09:26:47] &lt;pieterh&gt;   &#8216;notification&#8217; doesn&#8217;t immediately suggest high volumes</div>
<div class="line">[Monday 21 March 2011] [09:26:48] &lt;yrashk&gt;    I need to be very tolerant to host failures (any host can go down any time)</div>
<div class="line">[Monday 21 March 2011] [09:26:56] &lt;pieterh&gt;   bleh, this is trivial to address</div>
<div class="line">[Monday 21 March 2011] [09:27:07] &lt;pieterh&gt;   you make live-live redundancy, period</div>
<div class="line">[Monday 21 March 2011] [09:27:24] &lt;pieterh&gt;   especially simple for pubsub models</div>
<div class="line">[Monday 21 March 2011] [09:27:40] &lt;pieterh&gt;   so what&#8217;s the volume?</div>
<div class="line">[Monday 21 March 2011] [09:28:12] &lt;yrashk&gt;    and yeah there no high volumes &#8211; I just want this system to work through any # of hosts, don&#8217;t fail when any host is down and make some messages durable</div>
<div class="line">[Monday 21 March 2011] [09:28:32] &lt;yrashk&gt;    a kind of intra-cluster signalling framework, so to say</div>
<div class="line">[Monday 21 March 2011] [09:28:38] &lt;yrashk&gt;    serverless one, if you wish</div>
<div class="line">[Monday 21 March 2011] [09:28:57] &lt;yrashk&gt;    i.e. each host is equal to any other host in the system</div>
<div class="line">[Monday 21 March 2011] [09:28:57] &lt;pieterh&gt;   ... removing stable points from a network doesn&#8217;t always make it simpler</div>
<div class="line">[Monday 21 March 2011] [09:29:03] &lt;pieterh&gt;   atomic multicast?</div>
<div class="line">[Monday 21 March 2011] [09:29:09] &lt;pieterh&gt;   paxos style?</div>
<div class="line">[Monday 21 March 2011] [09:29:27] &lt;pieterh&gt;   actually I have an Erlang implementation in my pocket somewhere</div>
<div class="line">[Monday 21 March 2011] [09:29:43] &lt;pieterh&gt;   but not using 0MQ</div>
<div class="line">[Monday 21 March 2011] [09:29:54] &lt;yrashk&gt;    I probably don&#8217;t even care about atomicity. Just getting messages delivered to those who want to listen to them, if the host was down, deliver all durable messages there, too</div>
<div class="line">[Monday 21 March 2011] [09:30:41] &lt;yrashk&gt;    and yeah, dynamic node additions and removals, obviously</div>
<div class="line">[Monday 21 March 2011] [09:30:44] &lt;pieterh&gt;   well... IMO you&#8217;re setting the bar too high</div>
<div class="line">[Monday 21 March 2011] [09:30:47] &lt;yrashk&gt;    nothing fancy, in fact</div>
<div class="line">[Monday 21 March 2011] [09:30:55] &lt;pieterh&gt;   yet, too complex to implement... :-)</div>
<div class="line">[Monday 21 March 2011] [09:31:03] &lt;pieterh&gt;   make it simpler, implement that, then improve it</div>
<div class="line">[Monday 21 March 2011] [09:31:03] &lt;yrashk&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [09:31:19] &lt;pieterh&gt;   my suggestion would be to use a broker, and if you need it, a broker pair</div>
<div class="line">[Monday 21 March 2011] [09:31:29] &lt;pieterh&gt;   use a simple topic routing engine, I can provide you a design if needed</div>
<div class="line">[Monday 21 March 2011] [09:31:54] &lt;pieterh&gt;   then, when you have that working, figure out what you really want to make</div>
<div class="line">[Monday 21 March 2011] [09:32:40] &lt;yrashk&gt;    I guess I also need to read about pgm</div>
<div class="line">[Monday 21 March 2011] [09:32:44] &lt;pieterh&gt;   you can relatively easily evolve from a broker-based architecture to a distributed one</div>
<div class="line">[Monday 21 March 2011] [09:32:55] &lt;pieterh&gt;   however, jumping straight to a distributed model is rather hard</div>
<div class="line">[Monday 21 March 2011] [09:33:01] &lt;pieterh&gt;   look at the RRR patterns in Ch4</div>
<div class="line">[Monday 21 March 2011] [09:33:01] &lt;yrashk&gt;    ikr :)</div>
<div class="line">[Monday 21 March 2011] [09:33:08] &lt;pieterh&gt;   the distributed pirate is the very last example</div>
<div class="line">[Monday 21 March 2011] [09:33:49] &lt;pieterh&gt;   pgm is a decent option here but will require network support</div>
<div class="line">[Monday 21 March 2011] [09:34:33] &lt;pieterh&gt;   you could even make this work with a forwarder device, in a very short time</div>
<div class="line">[Monday 21 March 2011] [09:34:36] &lt;pieterh&gt;   hah</div>
<div class="line">[Monday 21 March 2011] [09:34:45] &lt;pieterh&gt;   to cheat...</div>
<div class="line">[Monday 21 March 2011] [09:34:59] &lt;pieterh&gt;   every node connects to the forwarder front-end, and to the forwarder back-end</div>
<div class="line">[Monday 21 March 2011] [09:35:09] &lt;pieterh&gt;   use SUB socket filtering</div>
<div class="line">[Monday 21 March 2011] [09:35:15] &lt;pieterh&gt;   problem solved</div>
<div class="line">[Monday 21 March 2011] [09:35:31] &lt;yrashk&gt;    so a single forwarded device, then?</div>
<div class="line">[Monday 21 March 2011] [09:35:35] &lt;pieterh&gt;   yeah</div>
<div class="line">[Monday 21 March 2011] [09:35:36] &lt;yrashk&gt;    for starters</div>
<div class="line">[Monday 21 March 2011] [09:35:46] &lt;pieterh&gt;   all it does is connect a SUB to a PUB socket</div>
<div class="line">[Monday 21 March 2011] [09:36:16] &lt;pieterh&gt;   it acts like a network-global multicast group</div>
<div class="line">[Monday 21 March 2011] [09:36:26] &lt;yrashk&gt;    yeah I get it</div>
<div class="line">[Monday 21 March 2011] [09:36:41] &lt;pieterh&gt;   it&#8217;ll take you about 1 hour to make, maybe less</div>
<div class="line">[Monday 21 March 2011] [09:36:57] &lt;yrashk&gt;    I can already imagine this, I have some good visual thinking</div>
<div class="line">[Monday 21 March 2011] [09:37:08] &lt;pieterh&gt;   when it works, send $1.50 to my paypal account, thanks</div>
<div class="line">[Monday 21 March 2011] [09:37:16] &lt;yrashk&gt;    hahah</div>
<div class="line">[Monday 21 March 2011] [09:37:21] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [09:37:28] &lt;yrashk&gt;    what&#8217;s the account address? ;))</div>
<div class="line">[Monday 21 March 2011] [09:38:16] &lt;pieterh&gt;   ah, I have it here somewhere...</div>
<div class="line">[Monday 21 March 2011] [09:38:35] &lt;pieterh&gt;   so the downside of this approach is that filtering is subscriber-side</div>
<div class="line">[Monday 21 March 2011] [09:39:04] &lt;pieterh&gt;   and you have a central point, which you can scale to N redundant live-live instances</div>
<div class="line">[Monday 21 March 2011] [09:39:29] &lt;pieterh&gt;   upside is every node except the forwarder is dynamic</div>
<div class="line">[Monday 21 March 2011] [09:40:45] &lt;yrashk&gt;    yeah forwarders are obviously the bottlenecks here</div>
<div class="line">[Monday 21 March 2011] [09:41:12] &lt;pieterh&gt;   it won&#8217;t slow things down unless you&#8217;re doing millions of msg/sec</div>
<div class="line">[Monday 21 March 2011] [09:41:23] &lt;pieterh&gt;   if you need more scale, you switch to a name service approach</div>
<div class="line">[Monday 21 March 2011] [09:41:38] &lt;pieterh&gt;   i.e. every publisher is also a forwarder</div>
<div class="line">[Monday 21 March 2011] [09:41:39] &lt;yrashk&gt;    no I am not expecting huge volumes</div>
<div class="line">[Monday 21 March 2011] [09:41:49] &lt;pieterh&gt;   so, no bottleneck issue</div>
<div class="line">[Monday 21 March 2011] [09:42:01] &lt;pieterh&gt;   simple code doesn&#8217;t crash</div>
<div class="line">[Monday 21 March 2011] [09:42:31] &lt;pieterh&gt;   you probably need to set a HWM properly</div>
<div class="line">[Monday 21 March 2011] [09:43:07] &lt;yrashk&gt;    so what you&#8217;re suggesting is having a forwarder on each and every node, right?</div>
<div class="line">[Monday 21 March 2011] [09:44:00] &lt;pieterh&gt;   no, that&#8217;s only if you need a lot more scale</div>
<div class="line">[Monday 21 March 2011] [09:44:06] &lt;pieterh&gt;   forget that</div>
<div class="line">[Monday 21 March 2011] [09:44:11] &lt;pieterh&gt;   one forwarder in middle of network</div>
<div class="line">[Monday 21 March 2011] [09:44:20] &lt;pieterh&gt;   binds to a SUB frontend, binds to a PUB backend</div>
<div class="line">[Monday 21 March 2011] [09:44:45] &lt;pieterh&gt;   every node connects to those two sockets, one to publish, one to subscribe</div>
<div class="line">[Monday 21 March 2011] [09:44:54] &lt;pieterh&gt;   every node receives every message, and filters using SUB filtering</div>
<div class="line">[Monday 21 March 2011] [09:45:00] &lt;yrashk&gt;    right</div>
<div class="line">[Monday 21 March 2011] [09:45:13] &lt;pieterh&gt;   then, if you need it, you double the forwarders and make live/live redundancy</div>
<div class="line">[Monday 21 March 2011] [09:45:46] &lt;yrashk&gt;    this live-live redundancy, any suggestions on how you would typically do it?</div>
<div class="line">[Monday 21 March 2011] [09:46:00] &lt;yrashk&gt;    is it like doing the same operations on a # of forwarders?</div>
<div class="line">[Monday 21 March 2011] [09:46:05] &lt;pieterh&gt;   you run two forwarders, right?</div>
<div class="line">[Monday 21 March 2011] [09:46:23] &lt;pieterh&gt;   and every node connects its PUB socket to both forwarders, and its SUB socket to both forwarders</div>
<div class="line">[Monday 21 March 2011] [09:46:42] &lt;pieterh&gt;   then you have to identity each message uniquely (sequence number per publisher)</div>
<div class="line">[Monday 21 March 2011] [09:46:42] &lt;yrashk&gt;    yeah then I imagined it right</div>
<div class="line">[Monday 21 March 2011] [09:46:47] &lt;pieterh&gt;   and reject duplicates</div>
<div class="line">[Monday 21 March 2011] [09:46:55] &lt;pieterh&gt;   0MQ handles the fanout and fanin properly</div>
<div class="line">[Monday 21 March 2011] [10:50:45] &lt;mikko-_&gt;   hi</div>
<div class="line">[Monday 21 March 2011] [10:51:05] &lt;mikko-_&gt;   I am not quite clear who should prepare the upstream patch for openpgm changes</div>
<div class="line">[Monday 21 March 2011] [10:57:56] &lt;sustrik&gt;   mikko-_: neither am i</div>
<div class="line">[Monday 21 March 2011] [10:58:12] &lt;sustrik&gt;   presumably, it&#8217;s better to patch the master and downstream it afterwards</div>
<div class="line">[Monday 21 March 2011] [11:12:32] &lt;mikko-_&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [11:41:00] &lt;pieterh&gt;   hi mikko</div>
<div class="line">[Monday 21 March 2011] [11:41:26] &lt;pieterh&gt;   we can&#8217;t do pull requests to multiple gits, which is annoying</div>
<div class="line">[Monday 21 March 2011] [11:42:04] &lt;pieterh&gt;   mikko-_: I&#8217;m happy to send a patch from 2.1 to master</div>
<div class="line">[Monday 21 March 2011] [11:45:13] &lt;sustrik&gt;   pieterh: if you do so, take care to separate the openpgm thing from other functionality</div>
<div class="line">[Monday 21 March 2011] [11:45:32] &lt;pieterh&gt;   sustrik: yes, it&#8217;s a single commit, the only grey part is that I tend to update the NEWS at the same time</div>
<div class="line">[Monday 21 March 2011] [11:45:41] &lt;pieterh&gt;   I&#8217;m going to start doing that in a separate commit</div>
<div class="line">[Monday 21 March 2011] [11:45:46] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 21 March 2011] [11:46:24] &lt;pieterh&gt;   I&#8217;ll send you the patch for OpenPGM then, offlist since it&#8217;s rather huge</div>
<div class="line">[Monday 21 March 2011] [11:47:01] &lt;sustrik&gt;   ok, also don&#8217;t forget to sign it off</div>
<div class="line">[Monday 21 March 2011] [11:47:07] &lt;pieterh&gt;   right</div>
<div class="line">[Monday 21 March 2011] [11:48:41] &lt;pieterh&gt;   OK, sent...</div>
<div class="line">[Monday 21 March 2011] [11:49:19] &lt;pieterh&gt;   there&#8217;s a better way to do this kind of exchange</div>
<div class="line">[Monday 21 March 2011] [11:49:42] &lt;pieterh&gt;   but I keep forgetting the ins and outs of git... :-)</div>
<div class="line">[Monday 21 March 2011] [12:08:14] &lt;pieterh&gt;   sustrik: I&#8217;m not going to scream on the list, but I&#8217;m using PAIR quite systematically now</div>
<div class="line">[Monday 21 March 2011] [12:23:39] &lt;pieterh&gt;   ok, I screamt</div>
<div class="line">[Monday 21 March 2011] [12:52:02] &lt;<a href="#id151"><span class="problematic" id="id174">Aaron__</span></a>&gt;   So I&#8217;m trying to build zeromq and have it link against a static uuid library. I&#8217;m not very good with configure scripts, and I don&#8217;t see a parameter to tell configure where the static library and headers are. Can anyone help?</div>
<div class="line">[Monday 21 March 2011] [12:53:53] &lt;pieterh&gt;   <a href="#id151"><span class="problematic" id="id175">Aaron__</span></a>: what OS are you on?</div>
<div class="line">[Monday 21 March 2011] [12:54:05] &lt;pieterh&gt;   and what language are you working in?</div>
<div class="line">[Monday 21 March 2011] [12:54:18] &lt;<a href="#id151"><span class="problematic" id="id176">Aaron__</span></a>&gt;   Just Ubuntu.</div>
<div class="line">[Monday 21 March 2011] [12:54:28] &lt;<a href="#id151"><span class="problematic" id="id177">Aaron__</span></a>&gt;   c++</div>
<div class="line">[Monday 21 March 2011] [12:55:03] &lt;pieterh&gt;   hang on, I&#8217;ll get you the gcc syntax...</div>
<div class="line">[Monday 21 March 2011] [12:55:40] &lt;<a href="#id151"><span class="problematic" id="id178">Aaron__</span></a>&gt;   gcc? Don&#8217;t I need to satisfy the configure check?</div>
<div class="line">[Monday 21 March 2011] [12:55:44] &lt;<a href="#id151"><span class="problematic" id="id179">Aaron__</span></a>&gt;   first</div>
<div class="line">[Monday 21 March 2011] [12:56:02] &lt;pieterh&gt;   you are building an application right?</div>
<div class="line">[Monday 21 March 2011] [12:56:09] &lt;pieterh&gt;   or building zmq?</div>
<div class="line">[Monday 21 March 2011] [12:56:26] &lt;pieterh&gt;   ah, it doesn&#8217;t link against anything when you build it</div>
<div class="line">[Monday 21 March 2011] [12:56:31] &lt;<a href="#id151"><span class="problematic" id="id180">Aaron__</span></a>&gt;   Well, it&#8217;s a little complicated, but right now I&#8217;m just trying to build zeromq.</div>
<div class="line">[Monday 21 March 2011] [12:56:41] &lt;pieterh&gt;   please use the 2.1 package released today</div>
<div class="line">[Monday 21 March 2011] [12:56:47] &lt;<a href="#id151"><span class="problematic" id="id181">Aaron__</span></a>&gt;   I am.</div>
<div class="line">[Monday 21 March 2011] [12:56:57] &lt;pieterh&gt;   ok, good</div>
<div class="line">[Monday 21 March 2011] [12:57:10] &lt;<a href="#id151"><span class="problematic" id="id182">Aaron__</span></a>&gt;   It builds fine if I use the uuid-dev package.</div>
<div class="line">[Monday 21 March 2011] [12:57:17] &lt;pieterh&gt;   right, which is what you want</div>
<div class="line">[Monday 21 March 2011] [12:57:35] &lt;<a href="#id151"><span class="problematic" id="id183">Aaron__</span></a>&gt;   But that creates a dependance on libuuid.so.</div>
<div class="line">[Monday 21 March 2011] [12:57:39] &lt;<a href="#id151"><span class="problematic" id="id184">Aaron__</span></a>&gt;   Which I don&#8217;t want.</div>
<div class="line">[Monday 21 March 2011] [12:57:46] &lt;Seta00&gt;    <a href="#id151"><span class="problematic" id="id185">Aaron__</span></a>: should be something like &#8211;with-uuid=/path/to/your/custom/build</div>
<div class="line">[Monday 21 March 2011] [12:57:52] &lt;<a href="#id151"><span class="problematic" id="id186">Aaron__</span></a>&gt;   I have uuid built statically...</div>
<div class="line">[Monday 21 March 2011] [12:58:05] &lt;<a href="#id151"><span class="problematic" id="id187">Aaron__</span></a>&gt;   ah</div>
<div class="line">[Monday 21 March 2011] [12:58:28] &lt;pieterh&gt;   <a href="#id151"><span class="problematic" id="id188">Aaron__</span></a>: when you find out how to do this, add it to the tips page at <a class="reference external" href="http://zero.mq/tips">http://zero.mq/tips</a></div>
<div class="line">[Monday 21 March 2011] [13:00:43] &lt;<a href="#id151"><span class="problematic" id="id189">Aaron__</span></a>&gt;   I tried &#8211;with-uuid=/path/to/uuid/install/folder but got nothing.</div>
<div class="line">[Monday 21 March 2011] [13:01:00] &lt;<a href="#id151"><span class="problematic" id="id190">Aaron__</span></a>&gt;   Just the same &#8220;configure: error: cannot link with -luuid, install uuid-dev.&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:02:12] &lt;<a href="#id151"><span class="problematic" id="id191">Aaron__</span></a>&gt;   I tried a few different directories, /path/to/uuid/install/folder, /path/to/uuid/install/folder/lib, /path/to/uuid/install/folder/include, /path/to/uuid/install/folder/bin, but nothing did anything different.</div>
<div class="line">[Monday 21 March 2011] [13:02:37] &lt;<a href="#id151"><span class="problematic" id="id192">Aaron__</span></a>&gt;   Does the configure script actually support that argument?</div>
<div class="line">[Monday 21 March 2011] [13:02:49] &lt;pieterh&gt;   <a href="#id151"><span class="problematic" id="id193">Aaron__</span></a>: from reading configure, it&#8217;s looking for, and not finding &#8216;uuid_generate&#8217; in -luuid</div>
<div class="line">[Monday 21 March 2011] [13:03:29] &lt;<a href="#id151"><span class="problematic" id="id194">Aaron__</span></a>&gt;   Hmm, I guess I could double check my uuid.</div>
<div class="line">[Monday 21 March 2011] [13:05:32] &lt;pieterh&gt;   The rule in configure.in is pretty clear:</div>
<div class="line">[Monday 21 March 2011] [13:05:33] &lt;pieterh&gt;   AC_CHECK_LIB(uuid, uuid_generate, ,</div>
<div class="line">[Monday 21 March 2011] [13:05:33] &lt;pieterh&gt;               [AC_MSG_ERROR([cannot link with -luuid, install uuid-dev.])])</div>
<div class="line">[Monday 21 March 2011] [13:06:55] &lt;<a href="#id151"><span class="problematic" id="id195">Aaron__</span></a>&gt;   Yeah, my uuid library does have a uuid_generate,</div>
<div class="line">[Monday 21 March 2011] [13:07:00] &lt;<a href="#id151"><span class="problematic" id="id196">Aaron__</span></a>&gt;   Sorry about that.</div>
<div class="line">[Monday 21 March 2011] [13:07:07] &lt;<a href="#id151"><span class="problematic" id="id197">Aaron__</span></a>&gt;   Barking up the wrong tree.</div>
<div class="line">[Monday 21 March 2011] [13:07:40] &lt;<a href="#id151"><span class="problematic" id="id198">Aaron__</span></a>&gt;   Thanks for the &#8211;with-uuid argument though.</div>
<div class="line">[Monday 21 March 2011] [13:08:07] &lt;<a href="#id151"><span class="problematic" id="id199">Aaron__</span></a>&gt;   I meant &#8220;doesn&#8217;t have uuid_generate&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:10:50] &lt;pieterh&gt;   ok, problem solved...</div>
<div class="line">[Monday 21 March 2011] [13:14:58] &lt;Seta00&gt;    :)</div>
<div class="line">[Monday 21 March 2011] [13:16:28] &lt;<a href="#id151"><span class="problematic" id="id200">Aaron__</span></a>&gt;   Apparantly there is more than one uuid library out there, sigh.</div>
<div class="line">[Monday 21 March 2011] [13:17:09] &lt;<a href="#id151"><span class="problematic" id="id201">Aaron__</span></a>&gt;   I thought it was the same one Postgresql was using.</div>
<div class="line">[Monday 21 March 2011] [13:17:31] &lt;mikko-_&gt;   <a href="#id151"><span class="problematic" id="id202">Aaron__</span></a>: are you building zeromq shared or static?</div>
<div class="line">[Monday 21 March 2011] [13:17:45] &lt;<a href="#id151"><span class="problematic" id="id203">Aaron__</span></a>&gt;   I want zeromq to be static too.</div>
<div class="line">[Monday 21 March 2011] [13:17:59] &lt;mikko-_&gt;   ./configure &#8211;disable-shared</div>
<div class="line">[Monday 21 March 2011] [13:18:17] &lt;<a href="#id151"><span class="problematic" id="id204">Aaron__</span></a>&gt;   Yeah, I&#8217;ll pop that on too.</div>
<div class="line">[Monday 21 March 2011] [13:18:26] &lt;mikko-_&gt;   as far as i understand if zeromq is static then libuuid would be as well</div>
<div class="line">[Monday 21 March 2011] [13:18:32] &lt;<a href="#id151"><span class="problematic" id="id205">Aaron__</span></a>&gt;   Ah</div>
<div class="line">[Monday 21 March 2011] [13:18:42] &lt;<a href="#id151"><span class="problematic" id="id206">Aaron__</span></a>&gt;   Well, I need to get the right uuid as the first step.</div>
<div class="line">[Monday 21 March 2011] [13:18:58] &lt;mikko-_&gt;   you should be able to use one provided by your OS</div>
<div class="line">[Monday 21 March 2011] [13:19:02] &lt;mikko-_&gt;   usually they ship .a as well</div>
<div class="line">[Monday 21 March 2011] [13:19:32] &lt;<a href="#id151"><span class="problematic" id="id207">Aaron__</span></a>&gt;   Yeah, I&#8217;m working on it as we speak.</div>
<div class="line">[Monday 21 March 2011] [13:20:32] &lt;mikko-_&gt;   on rhel its usually efsprogs and on ubuntu/debian etc uuid-dev</div>
<div class="line">[Monday 21 March 2011] [13:20:41] &lt;mikko-_&gt;   not sure about others</div>
<div class="line">[Monday 21 March 2011] [13:21:07] &lt;mikko-_&gt;   uuid libs are confusing as there are multiple of them</div>
<div class="line">[Monday 21 March 2011] [13:21:10] &lt;mikko-_&gt;   and they are not compatible</div>
<div class="line">[Monday 21 March 2011] [13:24:22] &lt;<a href="#id151"><span class="problematic" id="id208">Aaron__</span></a>&gt;   Yeah, I was certainly confused.</div>
<div class="line">[Monday 21 March 2011] [13:37:44] &lt;drbobbeaty&gt;        Question about the 2.1.3 packaging... with the change from 2.1.2 to 2.1.3, I now see that I&#8217;m generating a libpgm.so - but I&#8217;m not seeing it as an &#8216;ldd&#8217; dependency of libzmq.so - is this right?</div>
<div class="line">[Monday 21 March 2011] [13:38:23] &lt;drbobbeaty&gt;        I used &#8216;&#8211;with-pgm&#8217; in the build, and I see it unpacking the OpenPGM code, and the libpgm.so is generated, but I&#8217;m having trouble running my code that worked fine with 2.1.2.</div>
<div class="line">[Monday 21 March 2011] [13:38:32] &lt;<a href="#id151"><span class="problematic" id="id209">Aaron__</span></a>&gt;   Well, &#8220;nm &#8211;demangle&#8221; tells me I have uuid_generate (0000000000000ee0 T uuid_generate). I&#8217;m running configure like so, &#8221;../configure &#8211;with-pic &#8211;prefix=/root/zeromq_install/ &#8211;enable-static &#8211;disable-shared &#8211;without-documentation &#8211;with-uuid=/path/to/uuid/install/dir/ &#8221;. And I still get &#8220;configure: error: cannot link with -luuid, install uuid-dev.&#8221;</div>
<div class="line">[Monday 21 March 2011] [13:39:21] &lt;drbobbeaty&gt;        I have tried linking with &#8216;-lzmq -lpgm&#8217; and still it&#8217;s not even starting to execute - it&#8217;s as if I&#8217;m missing a critical step.</div>
<div class="line">[Monday 21 March 2011] [13:39:26] &lt;drbobbeaty&gt;        Anyone run into this?</div>
<div class="line">[Monday 21 March 2011] [13:39:30] &lt;drbobbeaty&gt;        Pieter?</div>
<div class="line">[Monday 21 March 2011] [13:39:35] &lt;pieterh&gt;   drbobbeaty: this is indeed a new part of 2.1.3</div>
<div class="line">[Monday 21 March 2011] [13:40:38] &lt;pieterh&gt;   it&#8217;s quite possible that the OpenPGM integration doesn&#8217;t work properly yet :-/</div>
<div class="line">[Monday 21 March 2011] [13:40:43] &lt;drbobbeaty&gt;        I&#8217;m OK with it being new, but code that ran fine with 2.1.2 is core dumping on main() in 2.1.3 - like I&#8217;m missing a linking step or something. Is there something I&#8217;m missing OTHER than the inclusion of &#8216;-lpgm&#8217; in the linking step?</div>
<div class="line">[Monday 21 March 2011] [13:41:10] &lt;pieterh&gt;   drbobbeaty: mikko is the man to answer this</div>
<div class="line">[Monday 21 March 2011] [13:41:15] &lt;drbobbeaty&gt;        That would be sad for a &#8216;stable&#8217; tag.</div>
<div class="line">[Monday 21 March 2011] [13:41:15] &lt;pieterh&gt;   summon mikko...</div>
<div class="line">[Monday 21 March 2011] [13:41:45] &lt;pieterh&gt;   drbobbeaty: a bit, yes, but if there&#8217;s a problem we&#8217;ll fix it immediately</div>
<div class="line">[Monday 21 March 2011] [13:42:28] &lt;pieterh&gt;   mikko: are you around?</div>
<div class="line">[Monday 21 March 2011] [13:43:21] &lt;pieterh&gt;   drbobbeaty: can you post a minimal test case that causes it to die? I&#8217;ll reproduce it</div>
<div class="line">[Monday 21 March 2011] [13:43:41] &lt;drbobbeaty&gt;        peiterh: Sure, give me a sec.</div>
<div class="line">[Monday 21 March 2011] [13:43:45] &lt;pieterh&gt;   k</div>
<div class="line">[Monday 21 March 2011] [14:01:17] &lt;drbobbeaty&gt;        pieterh: is there a list of what&#8217;s changed from 2.1.2 to 2.1.3 - I&#8217;m having a tough time makeing the &#8220;minimal test&#8221; as my simple tests are OK, but the biggies that fail are awfully complex. Too complex for a test case, really.</div>
<div class="line">[Monday 21 March 2011] [14:01:34] &lt;drbobbeaty&gt;        If I knew what changed, maybe it&#8217;d help me find the issue in my code.</div>
<div class="line">[Monday 21 March 2011] [14:15:17] &lt;cremes&gt;    i&#8217;m starting to see a new assertion that i haven&#8217;t run into before</div>
<div class="line">[Monday 21 March 2011] [14:15:18] &lt;cremes&gt;    Assertion failed: sessions.empty () (socket_base.cpp:127)</div>
<div class="line">[Monday 21 March 2011] [14:15:35] &lt;cremes&gt;    my code hasn&#8217;t changed but i did update to the latest master</div>
<div class="line">[Monday 21 March 2011] [14:15:54] &lt;cremes&gt;    has anyone else seen this?</div>
<div class="line">[Monday 21 March 2011] [14:21:11] &lt;drbobbeaty&gt;        cremes: not me, but I&#8217;m seeing other problems with 2.1.3 that I wasn&#8217;t seeing in 2.1.2</div>
<div class="line">[Monday 21 March 2011] [14:21:27] &lt;cremes&gt;    drbobbeaty: what problems are you seeing?</div>
<div class="line">[Monday 21 March 2011] [14:23:24] &lt;drbobbeaty&gt;        cremes: I&#8217;m tracking down an immediate app core dump when using the new 2.1.3 - It&#8217;s not easily reproducable in a small app, but it&#8217;s 100% reproduceable in my larger app. I&#8217;m trying to trim it down to get a good test case, but it&#8217;s proving to be hard based on the immediate nature of the core dump.</div>
<div class="line">[Monday 21 March 2011] [14:23:44] &lt;drbobbeaty&gt;        The small test case runs fine. But the bigger one is nasty.</div>
<div class="line">[Monday 21 March 2011] [14:24:41] &lt;cremes&gt;    drbobbeaty: if you catch the crash in gdb, where is it crashing inside 0mq?</div>
<div class="line">[Monday 21 March 2011] [14:25:37] &lt;drbobbeaty&gt;        Nope, it&#8217;s crashing on main() - the very first executable line. But if I comment out the calls to 0MQ, it runs just fine.</div>
<div class="line">[Monday 21 March 2011] [14:26:00] &lt;drbobbeaty&gt;        It&#8217;s the invocation of the ZMQ calls in some way that&#8217;s causing it to core dump - I just haven&#8217;t figured out what.</div>
<div class="line">[Monday 21 March 2011] [14:26:19] &lt;cremes&gt;    that is quite... odd :)</div>
<div class="line">[Monday 21 March 2011] [14:26:20] &lt;drbobbeaty&gt;        If I had a nice stack trace, I&#8217;d be able to figure this out easily. But I don&#8217;t.</div>
<div class="line">[Monday 21 March 2011] [14:26:49] &lt;pieterh&gt;   drbobbeaty: are you using pgm in all your cases?</div>
<div class="line">[Monday 21 March 2011] [14:28:08] &lt;pieterh&gt;   cremes: this is from the development master?</div>
<div class="line">[Monday 21 March 2011] [14:28:17] &lt;cremes&gt;    pieterh: correct</div>
<div class="line">[Monday 21 March 2011] [14:28:31] &lt;pieterh&gt;   can you try with the 2.1 release and see if you also get it?</div>
<div class="line">[Monday 21 March 2011] [14:28:32] &lt;cremes&gt;    i am trying to &#8216;bisect&#8217; it now to see if i can narrow down the commit that broke it</div>
<div class="line">[Monday 21 March 2011] [14:28:41] &lt;cremes&gt;    sure, i can do that</div>
<div class="line">[Monday 21 March 2011] [14:29:30] &lt;drbobbeaty&gt;        pieterh: Yup, pgm is what I use - 100% of the time.</div>
<div class="line">[Monday 21 March 2011] [14:29:36] &lt;drbobbeaty&gt;        I&#8217;m getting closer... :)</div>
<div class="line">[Monday 21 March 2011] [14:29:49] &lt;pieterh&gt;   drbobbeaty: ok, so presumably there&#8217;s a load library issue</div>
<div class="line">[Monday 21 March 2011] [14:30:02] &lt;pieterh&gt;   the other changes over 2.1.2 are all quite specific patches for core bugs</div>
<div class="line">[Monday 21 March 2011] [14:32:26] &lt;drbobbeaty&gt;        pieterh: I&#8217;m in the configuration code of my app - setting the <a href="#id877"><span class="problematic" id="id878">ZMQ_</span></a> properties of the socket. It <em>appears</em> I&#8217;m getting close.</div>
<div class="line">[Monday 21 March 2011] [14:33:00] &lt;pieterh&gt;   drbobbeaty: presumably a load error on the openpgm library</div>
<div class="line">[Monday 21 March 2011] [14:33:59] &lt;drbobbeaty&gt;        In my simple test ( <a class="reference external" href="https://gist.github.com/635015">https://gist.github.com/635015</a> ) I&#8217;m now seeing the following error:</div>
<div class="line">[Monday 21 March 2011] [14:34:20] &lt;drbobbeaty&gt;        Assertion failed: rc == 0 (connect_session.cpp:84)</div>
<div class="line">[Monday 21 March 2011] [14:34:44] &lt;drbobbeaty&gt;        Double-checking to see if I messed up the test.</div>
<div class="line">[Monday 21 March 2011] [14:38:47] &lt;drbobbeaty&gt;        pieterh: triple-checked... if I compile this as &#8216;g++ xmit.cpp -o xmit -lzmq&#8217; I get the error.</div>
<div class="line">[Monday 21 March 2011] [14:38:59] &lt;drbobbeaty&gt;        If I add in the &#8216;-lpgm&#8217; at the end I still get the error.</div>
<div class="line">[Monday 21 March 2011] [14:39:09] &lt;pieterh&gt;   ok, let me give it a shot</div>
<div class="line">[Monday 21 March 2011] [14:39:20] &lt;drbobbeaty&gt;        If I switch the order so it reads: &#8216;-lpgm -lzmq&#8217; I still get the error.</div>
<div class="line">[Monday 21 March 2011] [14:42:38] &lt;pieterh&gt;   drbobbeaty: I get a clean error message &#8216;Protocol not supported&#8217; and then a core dump</div>
<div class="line">[Monday 21 March 2011] [14:42:49] &lt;pieterh&gt;   this is 0MQ 2.1.3 built without OpenPGM</div>
<div class="line">[Monday 21 March 2011] [14:43:50] &lt;drbobbeaty&gt;        pieterh: not surprising... I&#8217;m using OpenPGM in the example. You need to build it &#8211;with-pgm and then try it.</div>
<div class="line">[Monday 21 March 2011] [14:44:16] &lt;drbobbeaty&gt;        pieterh: I&#8217;ve tried two boxes - Ubuntu 10.04.1 and CentOS 5 and both have the same error when using 2.1.3 w/OpenPGM</div>
<div class="line">[Monday 21 March 2011] [14:44:31] &lt;pieterh&gt;   drbobbeaty: would you raise an issue at <a class="reference external" href="https://github.com/zeromq/zeromq2-1/issues">https://github.com/zeromq/zeromq2-1/issues</a> and put a link to your example?</div>
<div class="line">[Monday 21 March 2011] [14:44:33] &lt;drbobbeaty&gt;        (same gist used on both machines)</div>
<div class="line">[Monday 21 March 2011] [14:45:01] &lt;drbobbeaty&gt;        I&#8217;ve never done that. I&#8217;ll try. I&#8217;ll be as complete as I can be.</div>
<div class="line">[Monday 21 March 2011] [14:45:26] &lt;pieterh&gt;   interesting... when I build 2.1.3 with pgm, the test program says &#8216;sending...&#8217; in a loop</div>
<div class="line">[Monday 21 March 2011] [14:45:30] &lt;pieterh&gt;   it doesn&#8217;t crash</div>
<div class="line">[Monday 21 March 2011] [14:45:45] &lt;drbobbeaty&gt;        Ha... I saw that once, but then when I tried it again, it failed.</div>
<div class="line">[Monday 21 March 2011] [14:45:59] &lt;pieterh&gt;   ok, will try a few times... this is Ubuntu 10.10 fwiw</div>
<div class="line">[Monday 21 March 2011] [14:46:04] &lt;drbobbeaty&gt;        The correct behavior is to see the &#8220;sending...&#8221; in a loop. (until a Ctrl-C)</div>
<div class="line">[Monday 21 March 2011] [14:46:20] &lt;pieterh&gt;   yes, that&#8217;s what I get</div>
<div class="line">[Monday 21 March 2011] [14:46:25] &lt;pieterh&gt;   doing a naive build</div>
<div class="line">[Monday 21 March 2011] [14:46:46] &lt;pieterh&gt;   so... I&#8217;m suspecting you have a conflict between versions of OpenPGM on your systems</div>
<div class="line">[Monday 21 March 2011] [14:47:10] &lt;pieterh&gt;   or some such mix caused by the upgrade of the OpenPGM version in this package</div>
<div class="line">[Monday 21 March 2011] [14:48:09] &lt;pieterh&gt;   drbobbeaty: have you enabled core dumps (&#8216;ulimit unlimited&#8217;)?</div>
<div class="line">[Monday 21 March 2011] [14:48:09] &lt;drbobbeaty&gt;        Yeah, I&#8217;m going to check on that now. Thanks for showing that it might be me.</div>
<div class="line">[Monday 21 March 2011] [14:48:26] &lt;pieterh&gt;   when you get an assertion failure, you need to get the backtrace</div>
<div class="line">[Monday 21 March 2011] [14:52:19] &lt;drbobbeaty&gt;        pieterh: got the backtrace.</div>
<div class="line">[Monday 21 March 2011] [14:52:45] &lt;drbobbeaty&gt;        I&#8217;ll include it if I can&#8217;t clean up the problem with a drop and load of all the ZMQ libraries on the box.</div>
<div class="line">[Monday 21 March 2011] [14:52:49] &lt;pieterh&gt;   cool... actually, you can log the issue in the development git, <a class="reference external" href="https://github.com/zeromq/zeromq2">https://github.com/zeromq/zeromq2</a>, it&#8217;ll be the same</div>
<div class="line">[Monday 21 March 2011] [14:53:04] &lt;pieterh&gt;   please, do log the assertion and backtrace, it may be useful info</div>
<div class="line">[Monday 21 March 2011] [14:56:51] &lt;sustrik&gt;   yuck, the change should have gone to master first</div>
<div class="line">[Monday 21 March 2011] [15:01:59] &lt;pieterh&gt;   sustrik: no-one would have tested it there, and it&#8217;s not clear that it&#8217;s caused by a code change</div>
<div class="line">[Monday 21 March 2011] [15:03:17] &lt;pieterh&gt;   I&#8217;d rather see valuable code delivered fast, and fixed fast, than held back...</div>
<div class="line">[Monday 21 March 2011] [15:04:52] &lt;cremes&gt;    after using git-bisect, it tells me that this is the first bad commit</div>
<div class="line">[Monday 21 March 2011] [15:04:53] &lt;cremes&gt;    32ded2b457b2102dba4c15e00363f031d212b1c4</div>
<div class="line">[Monday 21 March 2011] [15:05:01] &lt;cremes&gt;    Duplicate identities now checked with zmq_connect</div>
<div class="line">[Monday 21 March 2011] [15:05:19] &lt;cremes&gt;    this commit touched quite a bit of code too</div>
<div class="line">[Monday 21 March 2011] [15:05:42] &lt;cremes&gt;    pieterh: want me to open an issue against master?</div>
<div class="line">[Monday 21 March 2011] [15:05:47] &lt;pieterh&gt;   cremes: yes, please</div>
<div class="line">[Monday 21 March 2011] [15:05:49] &lt;cremes&gt;    i don&#8217;t have a small repro</div>
<div class="line">[Monday 21 March 2011] [15:06:00] &lt;pieterh&gt;   it&#8217;ll be the same issue in master and in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [15:06:10] &lt;sustrik&gt;   how come it is in stable?</div>
<div class="line">[Monday 21 March 2011] [15:06:16] &lt;sustrik&gt;   it&#8217;s an untested patch</div>
<div class="line">[Monday 21 March 2011] [15:06:23] &lt;pieterh&gt;   sustrik: because we apply all patches to stable automatically</div>
<div class="line">[Monday 21 March 2011] [15:06:31] &lt;pieterh&gt;   there is no other process for defining what&#8217;s &#8220;tested&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:06:47] &lt;pieterh&gt;   no other way except real use, since we lack comprehensive test coverage</div>
<div class="line">[Monday 21 March 2011] [15:07:18] &lt;sustrik&gt;   mail from March 16th: &#8220;This patch solves issue 176. However, it was not yet tested thoroughly so it should be applied to stable later on, when it&#8217;s clear it doesn&#8217;t introduce new bugs.&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:07:32] &lt;pieterh&gt;   ah, then that is not in stable</div>
<div class="line">[Monday 21 March 2011] [15:07:42] &lt;pieterh&gt;   cremes is testing against development master</div>
<div class="line">[Monday 21 March 2011] [15:07:59] &lt;sustrik&gt;   ok, good</div>
<div class="line">[Monday 21 March 2011] [15:08:00] &lt;pieterh&gt;   if you tell me to hold back a patch I do so, of course</div>
<div class="line">[Monday 21 March 2011] [15:08:13] &lt;pieterh&gt;   np</div>
<div class="line">[Monday 21 March 2011] [15:08:14] &lt;cremes&gt;    <a class="reference external" href="https://github.com/zeromq/zeromq2/issues/181">https://github.com/zeromq/zeromq2/issues/181</a></div>
<div class="line">[Monday 21 March 2011] [15:08:23] &lt;sustrik&gt;   cremes: thx</div>
<div class="line">[Monday 21 March 2011] [15:08:33] &lt;pieterh&gt;   cremes, just for sanity, can you confirm the problem does _not_ happen on 2.1.3?</div>
<div class="line">[Monday 21 March 2011] [15:08:47] &lt;cremes&gt;    sure; i will download it and confirm</div>
<div class="line">[Monday 21 March 2011] [15:08:50] &lt;pieterh&gt;   much appreciated</div>
<div class="line">[Monday 21 March 2011] [15:10:14] &lt;FlaPer87&gt;  In case anyone is interested and willing to contribute: <a class="reference external" href="https://github.com/FlaPer87/asterisk-zmq-manager">https://github.com/FlaPer87/asterisk-zmq-manager</a></div>
<div class="line">[Monday 21 March 2011] [15:12:08] &lt;mikko&gt;     pieterh: am now</div>
<div class="line">[Monday 21 March 2011] [15:12:44] &lt;pieterh&gt;   mikko: possibly a false alarm, we found what might be a problem with OpenPGM in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [15:13:09] &lt;pieterh&gt;   drbobbeaty is seeing if it&#8217;s caused by library confusion on his systems</div>
<div class="line">[Monday 21 March 2011] [15:13:39] &lt;pieterh&gt;   anyhow, pgm example that worked with 2.1.2 fails with 2.1.3... on my system it works fine</div>
<div class="line">[Monday 21 March 2011] [15:14:39] &lt;mikko&gt;     zfl tests failed as well it seems</div>
<div class="line">[Monday 21 March 2011] [15:14:44] &lt;pieterh&gt;   FlaPer87: line 412 is lacking &#8216;zmq_msg_close (&amp;message);&#8217;</div>
<div class="line">[Monday 21 March 2011] [15:14:56] &lt;mikko&gt;     hmm, is there a way to test OpenPGM functionally easily?</div>
<div class="line">[Monday 21 March 2011] [15:15:10] &lt;pieterh&gt;   mikko: fixed that, was some old 2.0 code that magically continued to work on 2.1...</div>
<div class="line">[Monday 21 March 2011] [15:15:18] &lt;mikko&gt;     i kinda rely on Steven on that as I have no means on testing with any sort of wates</div>
<div class="line">[Monday 21 March 2011] [15:15:22] &lt;pieterh&gt;   yeah</div>
<div class="line">[Monday 21 March 2011] [15:15:28] &lt;mikko&gt;     rates*</div>
<div class="line">[Monday 21 March 2011] [15:15:51] &lt;pieterh&gt;   we have some pgm-capable material at iMatix in Slovakia but it&#8217;s not configured any longer</div>
<div class="line">[Monday 21 March 2011] [15:16:28] &lt;FlaPer87&gt;  pieterh opps, thanks</div>
<div class="line">[Monday 21 March 2011] [15:16:45] &lt;mikko&gt;     so the openpgm is a false alarm?</div>
<div class="line">[Monday 21 March 2011] [15:16:53] &lt;pieterh&gt;   FlaPer87: try running under valgrind, you&#8217;ll catch memory leaks like that</div>
<div class="line">[Monday 21 March 2011] [15:17:10] &lt;pieterh&gt;   mikko: don&#8217;t know yet, could be a build issue we&#8217;ve not hit before</div>
<div class="line">[Monday 21 March 2011] [15:17:22] &lt;mikko&gt;     what OS is drbobbeaty running?</div>
<div class="line">[Monday 21 March 2011] [15:17:26] &lt;FlaPer87&gt;  pieterh indeed, I will</div>
<div class="line">[Monday 21 March 2011] [15:17:29] &lt;FlaPer87&gt;  thanks :)</div>
<div class="line">[Monday 21 March 2011] [15:17:37] &lt;pieterh&gt;   Ubuntu and CentOS</div>
<div class="line">[Monday 21 March 2011] [15:17:42] &lt;drbobbeaty&gt;        mikko: Ubuntu 10.04.1 and CentOS 5</div>
<div class="line">[Monday 21 March 2011] [15:17:50] &lt;mikko&gt;     drbobbeaty: both fail?</div>
<div class="line">[Monday 21 March 2011] [15:18:00] &lt;drbobbeaty&gt;        Yup</div>
<div class="line">[Monday 21 March 2011] [15:19:22] &lt;mikko&gt;     drbobbeaty: it&#8217;s supposed to link against libtool convenience archive</div>
<div class="line">[Monday 21 March 2011] [15:19:30] &lt;mikko&gt;     libpgm_noinst.la</div>
<div class="line">[Monday 21 March 2011] [15:19:40] &lt;mikko&gt;     which just contains a set of object files</div>
<div class="line">[Monday 21 March 2011] [15:20:12] &lt;mikko&gt;     libpgm.so should not be used when building with zeromq</div>
<div class="line">[Monday 21 March 2011] [15:20:57] &lt;drbobbeaty&gt;        OK, that&#8217;s news. In the past (2.1.2), I used the &#8216;-lzmq&#8217; and it worked just fine with the ZMQ shared lib. Is this not supported in 2.1.3?</div>
<div class="line">[Monday 21 March 2011] [15:21:21] &lt;mikko&gt;     that should work fine</div>
<div class="line">[Monday 21 March 2011] [15:22:07] &lt;pieterh&gt;   fwiw I&#8217;ve done &#8216;g++ xmit.cpp -o xmit -lzmq&#8217; and the test case runs fine on my Ubuntu box</div>
<div class="line">[Monday 21 March 2011] [15:22:58] &lt;mikko&gt;     the convenience libtool archive is just a bunch of object files</div>
<div class="line">[Monday 21 March 2011] [15:23:08] &lt;mikko&gt;     and zeromq uses that rather than the .c files directly</div>
<div class="line">[Monday 21 March 2011] [15:23:43] &lt;mikko&gt;     in theory (unless there is some libtool weirdness going on) there should be no change how things work</div>
<div class="line">[Monday 21 March 2011] [15:23:56] &lt;Guest31294&gt;        in theory, everything always works.</div>
<div class="line">[Monday 21 March 2011] [15:24:40] &lt;cremes&gt;    pieterh: no assertion when using the 2.1.3 release, so that&#8217;s a good sign</div>
<div class="line">[Monday 21 March 2011] [15:25:02] &lt;pieterh&gt;   cremes: thanks for testing that, it means our ad-hoc change flow process is working ... :-)</div>
<div class="line">[Monday 21 March 2011] [15:25:02] &lt;drbobbeaty&gt;        mikko: I certainly hope that&#8217;s the case, but up to know I&#8217;ve had a ton of counter-examples staring me in the face. I&#8217;ll try to clean up things here and see if I can get it back to what works.</div>
<div class="line">[Monday 21 March 2011] [15:25:49] &lt;mikko&gt;     is there a test code i can run for this openpgm thing?</div>
<div class="line">[Monday 21 March 2011] [15:26:15] &lt;pieterh&gt;   mikko: <a class="reference external" href="https://gist.github.com/635015">https://gist.github.com/635015</a></div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     Initialization complete.</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:21] &lt;mikko&gt;     sending...</div>
<div class="line">[Monday 21 March 2011] [15:28:25] &lt;mikko&gt;     and so o n</div>
<div class="line">[Monday 21 March 2011] [15:28:32] &lt;mikko&gt;     is that the expected result?</div>
<div class="line">[Monday 21 March 2011] [15:29:42] &lt;drbobbeaty&gt;        mikko: yes.</div>
<div class="line">[Monday 21 March 2011] [15:30:09] &lt;drbobbeaty&gt;        What I&#8217;m getting is the &#8220;Assertion failed: rc == 0 (connect_session.cpp:84)&#8221;</div>
<div class="line">[Monday 21 March 2011] [15:30:38] &lt;mikko&gt;     just in case i did rm /path/to/lib/libpgm*</div>
<div class="line">[Monday 21 March 2011] [15:30:43] &lt;mikko&gt;     and the example still runs</div>
<div class="line">[Monday 21 March 2011] [15:30:58] &lt;mikko&gt;     can you put nm /path/to/libzmq.so to gist.github.com?</div>
<div class="line">[Monday 21 March 2011] [15:31:03] &lt;mikko&gt;     and ldd /path/to/libzmq.so</div>
<div class="line">[Monday 21 March 2011] [15:32:26] &lt;pieterh&gt;   mikko: my guess is that drbobbeaty&#8217;s two systems have old versions of OpenPGM which is causing a problem</div>
<div class="line">[Monday 21 March 2011] [15:33:33] &lt;pieterh&gt;   drbobbeaty: any chance you can test on a virgin box? at least one you didn&#8217;t build on before?</div>
<div class="line">[Monday 21 March 2011] [15:33:39] &lt;drbobbeaty&gt;        pieterh: I didn&#8217;t have any old version of OpenPGM as I never had it until ZMQ. In 2.1.2 it was contained within the libzmq.so - with 2.1.3, it appeared that it was external. Now I see it wasn&#8217;t external at all, just optionally external.</div>
<div class="line">[Monday 21 March 2011] [15:34:04] &lt;pieterh&gt;   hmm... indeed</div>
<div class="line">[Monday 21 March 2011] [15:34:13] &lt;drbobbeaty&gt;        pieterh: I&#8217;m certainly working on all these ideas. As fast as I can.</div>
<div class="line">[Monday 21 March 2011] [15:34:25] &lt;drbobbeaty&gt;        I would like to believe it&#8217;s as simple as a bad version.</div>
<div class="line">[Monday 21 March 2011] [15:34:59] &lt;mikko&gt;     i would be keen on getting openpgm into daily builds somehow</div>
<div class="line">[Monday 21 March 2011] [15:35:10] &lt;mikko&gt;     that way we can see if the actual functionality ever breaks</div>
<div class="line">[Monday 21 March 2011] [15:35:58] &lt;pieterh&gt;   hmm, that would be very nice</div>
<div class="line">[Monday 21 March 2011] [15:37:16] &lt;mikko&gt;     drbobbeaty: can you paste nm output of libzmq.so ?</div>
<div class="line">[Monday 21 March 2011] [15:42:47] &lt;drbobbeaty&gt;        Yes, just need a bit. I&#8217;m trying to change the RPM packaging to remove the OpenPGM libraries and headers to make it cleaner as to what&#8217;s really being installed.</div>
<div class="line">[Monday 21 March 2011] [15:46:13] &lt;drbobbeaty&gt;        mikko: when I run: &#8216;nm /usr/lib64/libzmq.so.1&#8217; I get:</div>
<div class="line">[Monday 21 March 2011] [15:46:24] &lt;drbobbeaty&gt;        nm: /usr/lib64/libzmq.so.1: no symbols</div>
<div class="line">[Monday 21 March 2011] [15:47:01] &lt;drbobbeaty&gt;        I have cleaned up my RPMs and they are now built as zeromq, zeromq-devel and zeromq-pgm - where the latter has just the OpenPGM libs and headers.</div>
<div class="line">[Monday 21 March 2011] [15:47:24] &lt;drbobbeaty&gt;        Even after removing everything on my box related to ZMQ, and putting these new RPMs on, I get the assertion.</div>
<div class="line">[Monday 21 March 2011] [15:47:47] &lt;mikko&gt;     let me install a clean ubuntu VM</div>
<div class="line">[Monday 21 March 2011] [15:47:49] &lt;mikko&gt;     sec</div>
<div class="line">[Monday 21 March 2011] [15:55:24] &lt;mikko&gt;     drbobbeaty: i removed my installation of libzmq completely, rebuilt</div>
<div class="line">[Monday 21 March 2011] [15:55:40] &lt;mikko&gt;     rebuilt the xmit.cpp and ran with LD_LIBRARY_PATH</div>
<div class="line">[Monday 21 March 2011] [15:55:45] &lt;mikko&gt;     it seems to work ok</div>
<div class="line">[Monday 21 March 2011] [15:56:12] &lt;mikko&gt;     i&#8217;ll make an install-exec-hook patch later so that people dont get confused with libpgm.so</div>
<div class="line">[Monday 21 March 2011] [15:56:28] &lt;mikko&gt;     i dont think there is a way to force autotools not to install it</div>
<div class="line">[Monday 21 March 2011] [15:56:33] &lt;mikko&gt;     brb</div>
<div class="line">[Monday 21 March 2011] [15:56:37] &lt;drbobbeaty&gt;        mikko: Thanks for the checking... I&#8217;m getting convinced it&#8217;s now I have it built, but it&#8217;s not at all clear why the way I build it from 2.1.2 to 2.1.3 causes these issues. I&#8217;ve had many upgrades in this process.</div>
<div class="line">[Monday 21 March 2011] [15:58:05] &lt;mikko&gt;     drbobbeaty: i will install clean ubuntu vm later and test</div>
<div class="line">[Monday 21 March 2011] [15:58:14] &lt;mikko&gt;     it&#8217;s worrying if this actually fails for anyone</div>
<div class="line">[Monday 21 March 2011] [15:59:16] &lt;pieterh&gt;   drbobbeaty: can you post an issue with the assert and backtrace?</div>
<div class="line">[Monday 21 March 2011] [15:59:30] &lt;drbobbeaty&gt;        mikko: I&#8217;m troubled by what I&#8217;m seeing, and I fear it&#8217;s in the building. I&#8217;m going to see if I can build it without the RPM structure if it works. I&#8217;m guessing that&#8217;s how you guys are all doing it. Just &#8216;configure &#8211;with-pgm&#8217; - right?</div>
<div class="line">[Monday 21 March 2011] [15:59:39] &lt;pieterh&gt;   it may be possible to figure out what&#8217;s happening from that</div>
<div class="line">[Monday 21 March 2011] [15:59:45] &lt;pieterh&gt;   drbobbeaty: yes</div>
<div class="line">[Monday 21 March 2011] [16:00:02] &lt;drbobbeaty&gt;        pieterh: OK, trying that now</div>
<div class="line">[Monday 21 March 2011] [16:00:16] &lt;pieterh&gt;   just as explained in the docs; configure; make; sudo make install; sudo ldconfig</div>
<div class="line">[Monday 21 March 2011] [16:00:24] &lt;pieterh&gt;   &#8211;with-pgm, then</div>
<div class="line">[Monday 21 March 2011] [16:00:38] &lt;mikko&gt;     drbobbeaty: yes</div>
<div class="line">[Monday 21 March 2011] [16:01:24] &lt;mikko&gt;     drbobbeaty: it&#8217;s possible that the build breaks if for example RPM does something very weird</div>
<div class="line">[Monday 21 March 2011] [16:01:41] &lt;mikko&gt;     i think install-exec-hook should allow cleaning the libpgm stuff</div>
<div class="line">[Monday 21 March 2011] [16:01:46] &lt;drbobbeaty&gt;        mikko: it&#8217;s the same spec file that ships with the package.</div>
<div class="line">[Monday 21 March 2011] [16:02:02] &lt;mikko&gt;     drbobbeaty: i know, i don&#8217;t think it&#8217;s very actively checked (it seems)</div>
<div class="line">[Monday 21 March 2011] [16:02:29] &lt;mikko&gt;     i had RPM builds running earlier but it was in a chroot which was really slow</div>
<div class="line">[Monday 21 March 2011] [16:02:43] &lt;mikko&gt;     if there are actually RPM users i could install centos VM for rpm packaging</div>
<div class="line">[Monday 21 March 2011] [16:02:48] &lt;pieterh&gt;   drbobbeaty: I see at least one problem with the spec file in 2.1.3</div>
<div class="line">[Monday 21 March 2011] [16:02:59] &lt;mikko&gt;     so that the packaging gets tested regurly as well</div>
<div class="line">[Monday 21 March 2011] [16:03:10] &lt;pieterh&gt;   it <em>might</em> be causing corrupted RPMs...</div>
<div class="line">[Monday 21 March 2011] [16:03:13] &lt;mikko&gt;     now i need to run for a min -&gt;</div>
<div class="line">[Monday 21 March 2011] [16:03:50]      * pieterh hates hand-generated build files...</div>
<div class="line">[Monday 21 March 2011] [16:06:09] &lt;pieterh&gt;   drbobbeaty: if you want a fixed spec file, <a class="reference external" href="https://gist.github.com/880103">https://gist.github.com/880103</a> should be better</div>
<div class="line">[Monday 21 March 2011] [16:06:23] &lt;pieterh&gt;   I doubt this could cause the test program to crash but you never know</div>
<div class="line">[Monday 21 March 2011] [16:06:37] &lt;<a href="#id879"><span class="problematic" id="id880">flexo_</span></a>&gt;    hey. as i didnt find an answer to my question in either the guide, reference or faq (well, actually the lack of an answer might be an answer...) here it goes: does zmq support unreliable transport? (pure udp unicast/multicast)</div>
<div class="line">[Monday 21 March 2011] [16:06:46] &lt;pieterh&gt;   <a href="#id881"><span class="problematic" id="id882">flexo_</span></a>: nope</div>
<div class="line">[Monday 21 March 2011] [16:07:07] &lt;<a href="#id883"><span class="problematic" id="id884">flexo_</span></a>&gt;    any plans to add support for it?</div>
<div class="line">[Monday 21 March 2011] [16:07:15] &lt;pieterh&gt;   <a href="#id885"><span class="problematic" id="id886">flexo_</span></a>: feel free to send us a patch...</div>
<div class="line">[Monday 21 March 2011] [16:07:24] &lt;<a href="#id887"><span class="problematic" id="id888">flexo_</span></a>&gt;    :)</div>
<div class="line">[Monday 21 March 2011] [16:07:37] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [16:08:04] &lt;drbobbeaty&gt;        pieterh: what changed? Something small, or a lot of things?</div>
<div class="line">[Monday 21 March 2011] [16:08:17] &lt;pieterh&gt;   drbobbeaty: in the spec file, removal of the stand-alone device programs</div>
<div class="line">[Monday 21 March 2011] [16:08:28] &lt;pieterh&gt;   in the core library, OpenPGM integration and a lot of small patches</div>
<div class="line">[Monday 21 March 2011] [16:08:37] &lt;pieterh&gt;   it&#8217;s in the NEWS and ChangeLog</div>
<div class="line">[Monday 21 March 2011] [16:08:48] &lt;pieterh&gt;   except the spec file, which I forgot to fix until just now</div>
<div class="line">[Monday 21 March 2011] [16:09:22] &lt;<a href="#id889"><span class="problematic" id="id890">flexo_</span></a>&gt;    seriously, would it fit into zmq&#8217;s design.. purpose.. whatever? (looks to me like quite some work was done to _guarantee_ that the messages arrive...)</div>
<div class="line">[Monday 21 March 2011] [16:09:41] &lt;pieterh&gt;   <a href="#id891"><span class="problematic" id="id892">flexo_</span></a>: it could be useful for certain apps, yes</div>
<div class="line">[Monday 21 March 2011] [16:09:59] &lt;<a href="#id893"><span class="problematic" id="id894">flexo_</span></a>&gt;    for example in the app i have in mind :)</div>
<div class="line">[Monday 21 March 2011] [16:10:15] &lt;pieterh&gt;   yeah, when real time performance is more important than reliability</div>
<div class="line">[Monday 21 March 2011] [16:10:21] &lt;<a href="#id895"><span class="problematic" id="id896">flexo_</span></a>&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [16:10:42] &lt;pieterh&gt;   seriously, if you need it, and if you can write C++, it should be doable</div>
<div class="line">[Monday 21 March 2011] [16:10:49] &lt;<a href="#id897"><span class="problematic" id="id898">flexo_</span></a>&gt;    but there are also certain kinds of messages which must arrive intact, hence having something like zmq for that kind of stuff would be nice</div>
<div class="line">[Monday 21 March 2011] [16:10:49] &lt;pieterh&gt;   transports are pluggable in 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:11:02] &lt;pieterh&gt;   you can use different sockets for different QoS</div>
<div class="line">[Monday 21 March 2011] [16:11:22] &lt;<a href="#id899"><span class="problematic" id="id900">flexo_</span></a>&gt;    pieterh: assuming that i am a c++ wizard, how long would think it would take me to do it?</div>
<div class="line">[Monday 21 March 2011] [16:11:39] &lt;<a href="#id901"><span class="problematic" id="id902">flexo_</span></a>&gt;    (i know zmq for 10 minutes :)</div>
<div class="line">[Monday 21 March 2011] [16:11:40] &lt;pieterh&gt;   if you also know UDP, 1 day to get it working, 2-3 more days to get it working real nice</div>
<div class="line">[Monday 21 March 2011] [16:12:02] &lt;<a href="#id903"><span class="problematic" id="id904">flexo_</span></a>&gt;    alright</div>
<div class="line">[Monday 21 March 2011] [16:12:33] &lt;pieterh&gt;   you start by asking the question on the list, &#8220;I intend to add UDP support, please tell me what files to create / modify&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:12:59] &lt;<a href="#id905"><span class="problematic" id="id906">flexo_</span></a>&gt;    im pretty confident i can figure it out by myself...</div>
<div class="line">[Monday 21 March 2011] [16:13:03] &lt;pieterh&gt;   we&#8217;ll help package it all (docs, etc.) afterwards</div>
<div class="line">[Monday 21 March 2011] [16:13:14] &lt;pieterh&gt;   well, take a look at pgm integration as an example</div>
<div class="line">[Monday 21 March 2011] [16:13:20]      * <a href="#id907"><span class="problematic" id="id908">flexo_</span></a> nods</div>
<div class="line">[Monday 21 March 2011] [16:13:37] &lt;pieterh&gt;   actually I should point out that it&#8217;s technically impossible</div>
<div class="line">[Monday 21 March 2011] [16:13:46] &lt;<a href="#id909"><span class="problematic" id="id910">flexo_</span></a>&gt;    uhm?</div>
<div class="line">[Monday 21 March 2011] [16:13:49] &lt;pieterh&gt;   no-one has ever done this before, make 0MQ work with UDP</div>
<div class="line">[Monday 21 March 2011] [16:13:55] &lt;pieterh&gt;   therefore it&#8217;s impossible</div>
<div class="line">[Monday 21 March 2011] [16:13:59] &lt;pieterh&gt;   and perhaps even illegal</div>
<div class="line">[Monday 21 March 2011] [16:14:01] &lt;<a href="#id911"><span class="problematic" id="id912">flexo_</span></a>&gt;    i see :(</div>
<div class="line">[Monday 21 March 2011] [16:14:01] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 21 March 2011] [16:14:12] &lt;<a href="#id913"><span class="problematic" id="id914">flexo_</span></a>&gt;    just fyi: the app i have in mind would be a flight simulation visual</div>
<div class="line">[Monday 21 March 2011] [16:14:37] &lt;pieterh&gt;   <a href="#id915"><span class="problematic" id="id916">flexo_</span></a>: I&#8217;m kidding, you&#8217;d be the first person to try it</div>
<div class="line">[Monday 21 March 2011] [16:14:58] &lt;<a href="#id917"><span class="problematic" id="id918">flexo_</span></a>&gt;    i.e. several render boxes which receive telemetry via multicast</div>
<div class="line">[Monday 21 March 2011] [16:15:04] &lt;pieterh&gt;   yes, excellent use case</div>
<div class="line">[Monday 21 March 2011] [16:15:09] &lt;<a href="#id919"><span class="problematic" id="id920">flexo_</span></a>&gt;    (which must get the data really fast. ;)</div>
<div class="line">[Monday 21 March 2011] [16:15:18] &lt;pieterh&gt;   but doesn&#8217;t mind if there&#8217;s some breakage</div>
<div class="line">[Monday 21 March 2011] [16:15:45] &lt;drbobbeaty&gt;        mikko: why are you passing in &#8216;&#8211;prefix=/usr/local&#8217; to the OpenPGM configure script within the main configure script? Isn&#8217;t that assuming that I&#8217;m putting it there? I&#8217;m not.</div>
<div class="line">[Monday 21 March 2011] [16:15:48] &lt;<a href="#id921"><span class="problematic" id="id922">flexo_</span></a>&gt;    (and otoh there is some stuff which must arrive, although it doesnt matter if the latency is somewhat higher, i.e. you change the scenario, daytime, etc.)</div>
<div class="line">[Monday 21 March 2011] [16:16:08] &lt;<a href="#id923"><span class="problematic" id="id924">flexo_</span></a>&gt;    add a new entity into the simulation, that kind of stuff</div>
<div class="line">[Monday 21 March 2011] [16:16:16] &lt;pieterh&gt;   yeah, it&#8217;s like VoIP</div>
<div class="line">[Monday 21 March 2011] [16:16:23] &lt;pieterh&gt;   mix of reliable and unreliable patterns</div>
<div class="line">[Monday 21 March 2011] [16:16:42] &lt;pieterh&gt;   UDP would make a great addition</div>
<div class="line">[Monday 21 March 2011] [16:17:04] &lt;pieterh&gt;   but impossible and perhaps even illegal, so don&#8217;t tell anyone...</div>
<div class="line">[Monday 21 March 2011] [16:17:04] &lt;<a href="#id925"><span class="problematic" id="id926">flexo_</span></a>&gt;    i was about to make up some protocol using a mix of tcp and multicast udp myself.. but i suppose it might be less work to just add unreliable transport support to zmq</div>
<div class="line">[Monday 21 March 2011] [16:17:09] &lt;<a href="#id927"><span class="problematic" id="id928">flexo_</span></a>&gt;    sure</div>
<div class="line">[Monday 21 March 2011] [16:17:39] &lt;pieterh&gt;   well, advantage of layering it under zmq is you get access to nice semantics on top</div>
<div class="line">[Monday 21 March 2011] [16:17:44] &lt;<a href="#id929"><span class="problematic" id="id930">flexo_</span></a>&gt;    its even intended for military usage so its morally nasty too</div>
<div class="line">[Monday 21 March 2011] [16:17:45] &lt;pieterh&gt;   plus APIs in lots of languages</div>
<div class="line">[Monday 21 March 2011] [16:17:51] &lt;pieterh&gt;   morally nasty, I love it</div>
<div class="line">[Monday 21 March 2011] [16:18:03] &lt;pieterh&gt;   I mean, terrible, terrible stuff...</div>
<div class="line">[Monday 21 March 2011] [16:18:16] &lt;<a href="#id931"><span class="problematic" id="id932">flexo_</span></a>&gt;    yes, and the zmq API looks really nice</div>
<div class="line">[Monday 21 March 2011] [16:18:25] &lt;<a href="#id933"><span class="problematic" id="id934">flexo_</span></a>&gt;    and well-looking APIs are rare :)</div>
<div class="line">[Monday 21 March 2011] [16:18:45] &lt;pieterh&gt;   it&#8217;s going to get polished some more for v3.0</div>
<div class="line">[Monday 21 March 2011] [16:19:44] &lt;<a href="#id935"><span class="problematic" id="id936">flexo_</span></a>&gt;    a far-fetching thought here... is there some project providing some highlevel RPC mechanisms on-top of zmq? (think CORBA)</div>
<div class="line">[Monday 21 March 2011] [16:21:45] &lt;pieterh&gt;   <a href="#id937"><span class="problematic" id="id938">flexo_</span></a>: see the Guide, Chapter 4</div>
<div class="line">[Monday 21 March 2011] [16:21:57] &lt;pieterh&gt;   there are a whole set of RPC-like patterns built on top of 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:22:11] &lt;pieterh&gt;   plus sample code and protocol specs</div>
<div class="line">[Monday 21 March 2011] [16:22:21] &lt;pieterh&gt;   not CORBA, though</div>
<div class="line">[Monday 21 March 2011] [16:22:24] &lt;pieterh&gt;   rather more 2011</div>
<div class="line">[Monday 21 March 2011] [16:23:07] &lt;<a href="#id939"><span class="problematic" id="id940">flexo_</span></a>&gt;    chapter 4? reliable request-reply?</div>
<div class="line">[Monday 21 March 2011] [16:23:15] &lt;pieterh&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [16:23:25] &lt;<a href="#id941"><span class="problematic" id="id942">flexo_</span></a>&gt;    i realize that you can do all that stuff on-top of zmq</div>
<div class="line">[Monday 21 March 2011] [16:23:38] &lt;<a href="#id943"><span class="problematic" id="id944">flexo_</span></a>&gt;    but an ORB actually _does_ provide some pretty nice stuff</div>
<div class="line">[Monday 21 March 2011] [16:24:34] &lt;pieterh&gt;   specifically...?</div>
<div class="line">[Monday 21 March 2011] [16:24:50] &lt;pieterh&gt;   not that I&#8217;m disagreeing, just curious to what you mean</div>
<div class="line">[Monday 21 March 2011] [16:25:42] &lt;<a href="#id945"><span class="problematic" id="id946">flexo_</span></a>&gt;    well, the basic thing would be the IDL compiler - more advanced stuff would be object keys, activation / incarnation, etc.</div>
<div class="line">[Monday 21 March 2011] [16:26:03] &lt;<a href="#id947"><span class="problematic" id="id948">flexo_</span></a>&gt;    its pretty easy to do distributed garbage collected servants</div>
<div class="line">[Monday 21 March 2011] [16:26:41] &lt;pieterh&gt;   i prefer garbage collecting servants</div>
<div class="line">[Monday 21 March 2011] [16:26:49] &lt;pieterh&gt;   actually have no idea what those terms mean</div>
<div class="line">[Monday 21 March 2011] [16:26:53] &lt;<a href="#id949"><span class="problematic" id="id950">flexo_</span></a>&gt;    well</div>
<div class="line">[Monday 21 March 2011] [16:27:01] &lt;<a href="#id951"><span class="problematic" id="id952">flexo_</span></a>&gt;    take a virtual filesystem for example</div>
<div class="line">[Monday 21 March 2011] [16:27:16] &lt;pieterh&gt;   ok</div>
<div class="line">[Monday 21 March 2011] [16:27:17] &lt;<a href="#id953"><span class="problematic" id="id954">flexo_</span></a>&gt;    built using interfaces like IStream, IFile, etc.</div>
<div class="line">[Monday 21 March 2011] [16:27:25] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [16:27:38] &lt;<a href="#id955"><span class="problematic" id="id956">flexo_</span></a>&gt;    you can connect to any component in our application, no matter where it runs and ask it to open a file for you</div>
<div class="line">[Monday 21 March 2011] [16:27:49] &lt;pieterh&gt;   sure</div>
<div class="line">[Monday 21 March 2011] [16:28:04] &lt;<a href="#id957"><span class="problematic" id="id958">flexo_</span></a>&gt;    it provides transparent encryption / decryption, there is a key ring manager which asks the user for passwords, etc.</div>
<div class="line">[Monday 21 March 2011] [16:28:36] &lt;pieterh&gt;   this can all be layered on top of 0MQ</div>
<div class="line">[Monday 21 March 2011] [16:28:54] &lt;<a href="#id959"><span class="problematic" id="id960">flexo_</span></a>&gt;    the ORB provides me with the means to implement something like this in a nice object-oriented manner without writing lots of the low-level management code</div>
<div class="line">[Monday 21 March 2011] [16:29:38] &lt;<a href="#id961"><span class="problematic" id="id962">flexo_</span></a>&gt;    so i just say &#8220;give me a POA with this policy&#8221;, i put the filename into the object key, my servant manager gets invoked when someone wants to invoke a ::read() on the the stream</div>
<div class="line">[Monday 21 March 2011] [16:29:40] &lt;mikko&gt;     drbobbeaty: autotools probably pass down prefix automatically</div>
<div class="line">[Monday 21 March 2011] [16:30:05] &lt;pieterh&gt;   POA = piece of action? sorry, the jargon is not familiar to me</div>
<div class="line">[Monday 21 March 2011] [16:30:50] &lt;pieterh&gt;   so why are no companies making money from ORBs any more?</div>
<div class="line">[Monday 21 March 2011] [16:31:06] &lt;<a href="#id963"><span class="problematic" id="id964">flexo_</span></a>&gt;    portable object adapter.. an internal CORBA component which. hm..  is responsible for servants. it knows their servant manager and how to invoke methods on these servants</div>
<div class="line">[Monday 21 March 2011] [16:31:10] &lt;<a href="#id965"><span class="problematic" id="id966">flexo_</span></a>&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [16:31:15] &lt;<a href="#id967"><span class="problematic" id="id968">flexo_</span></a>&gt;    pieterh: dont get me wrong here</div>
<div class="line">[Monday 21 March 2011] [16:31:26] &lt;<a href="#id969"><span class="problematic" id="id970">flexo_</span></a>&gt;    CORBA heavily sucks in a lot of areas</div>
<div class="line">[Monday 21 March 2011] [16:31:36] &lt;pieterh&gt;   nah, I&#8217;m just curious, CORBA has always appeared to me as massively complex</div>
<div class="line">[Monday 21 March 2011] [16:31:48] &lt;pieterh&gt;   complex concepts, complex APIs, complex tools</div>
<div class="line">[Monday 21 March 2011] [16:31:52] &lt;<a href="#id971"><span class="problematic" id="id972">flexo_</span></a>&gt;    but most of its &#8220;complex&#8221; design actually makes sense</div>
<div class="line">[Monday 21 March 2011] [16:32:01] &lt;pieterh&gt;   sure, but that doesn&#8217;t mean much in the end</div>
<div class="line">[Monday 21 March 2011] [16:32:22] &lt;<a href="#id973"><span class="problematic" id="id974">flexo_</span></a>&gt;    actually</div>
<div class="line">[Monday 21 March 2011] [16:32:30] &lt;pieterh&gt;   sadly, a 100% complete solution that is 100x more complex than an 80% complete solution will not win</div>
<div class="line">[Monday 21 March 2011] [16:32:40] &lt;<a href="#id975"><span class="problematic" id="id976">flexo_</span></a>&gt;    well</div>
<div class="line">[Monday 21 March 2011] [16:32:44] &lt;<a href="#id977"><span class="problematic" id="id978">flexo_</span></a>&gt;    you definitly have a point there</div>
<div class="line">[Monday 21 March 2011] [16:32:50] &lt;pieterh&gt;   this is what I mean by 2011</div>
<div class="line">[Monday 21 March 2011] [16:32:53] &lt;<a href="#id979"><span class="problematic" id="id980">flexo_</span></a>&gt;    my company made money with an ORB i wrote couple of months ago</div>
<div class="line">[Monday 21 March 2011] [16:33:09] &lt;<a href="#id981"><span class="problematic" id="id982">flexo_</span></a>&gt;    but this ORB only implemented the features needed, so maybe it was like 70% conformant :)</div>
<div class="line">[Monday 21 March 2011] [16:33:17] &lt;pieterh&gt;   if you have customers for ORBs, you may enjoy using 0MQ as the transport</div>
<div class="line">[Monday 21 March 2011] [16:33:18] &lt;<a href="#id983"><span class="problematic" id="id984">flexo_</span></a>&gt;    (targeting embedded hardware)</div>
<div class="line">[Monday 21 March 2011] [16:33:41] &lt;<a href="#id985"><span class="problematic" id="id986">flexo_</span></a>&gt;    yea, im thinking about that</div>
<div class="line">[Monday 21 March 2011] [16:33:53] &lt;<a href="#id987"><span class="problematic" id="id988">flexo_</span></a>&gt;    im also thinking about replacing CORBA because it annoys me heavily...</div>
<div class="line">[Monday 21 March 2011] [16:33:57] &lt;pieterh&gt;   that&#8217;s how we see 0MQ, as a smart transport layer</div>
<div class="line">[Monday 21 March 2011] [16:34:10] &lt;<a href="#id989"><span class="problematic" id="id990">flexo_</span></a>&gt;    its very cumbersome to use, especially with the c++ mapping</div>
<div class="line">[Monday 21 March 2011] [16:34:11] &lt;pieterh&gt;   it&#8217;s never going to include IDLs and key managers</div>
<div class="line">[Monday 21 March 2011] [16:34:55] &lt;<a href="#id991"><span class="problematic" id="id992">flexo_</span></a>&gt;    do you think IDL compilers are bad in principle?</div>
<div class="line">[Monday 21 March 2011] [16:35:12] &lt;pieterh&gt;   no, just that data representation isn&#8217;t the job of the messaging fabric</div>
<div class="line">[Monday 21 March 2011] [16:35:19] &lt;<a href="#id993"><span class="problematic" id="id994">flexo_</span></a>&gt;    (i.e. the whole RPC idea which makes it look like a function/method call)</div>
<div class="line">[Monday 21 March 2011] [16:35:25] &lt;pieterh&gt;   for most purposes, JSON is fine</div>
<div class="line">[Monday 21 March 2011] [16:35:29] &lt;<a href="#id995"><span class="problematic" id="id996">flexo_</span></a>&gt;    i completely agree</div>
<div class="line">[Monday 21 March 2011] [16:35:34] &lt;pieterh&gt;   JSON is very 2011</div>
<div class="line">[Monday 21 March 2011] [16:35:40] &lt;<a href="#id997"><span class="problematic" id="id998">flexo_</span></a>&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [16:35:46] &lt;pieterh&gt;   totally cheap and nasty serialization that works for 80% of developers</div>
<div class="line">[Monday 21 March 2011] [16:35:54] &lt;<a href="#id999"><span class="problematic" id="id1000">flexo_</span></a>&gt;    too nasty for my purposes</div>
<div class="line">[Monday 21 March 2011] [16:36:08] &lt;<a href="#id1001"><span class="problematic" id="id1002">flexo_</span></a>&gt;    the parsing overhead just...</div>
<div class="line">[Monday 21 March 2011] [16:36:09] &lt;<a href="#id1003"><span class="problematic" id="id1004">flexo_</span></a>&gt;    no</div>
<div class="line">[Monday 21 March 2011] [16:36:13] &lt;<a href="#id1005"><span class="problematic" id="id1006">flexo_</span></a>&gt;    it feels wrong.</div>
<div class="line">[Monday 21 March 2011] [16:36:22] &lt;pieterh&gt;   so you ideally want a JSON approach for low-volume cases, and smart binary framing for high-volume cases</div>
<div class="line">[Monday 21 March 2011] [16:36:44] &lt;pieterh&gt;   I&#8217;m also a fan of divide and conquer</div>
<div class="line">[Monday 21 March 2011] [16:36:45] &lt;<a href="#id1007"><span class="problematic" id="id1008">flexo_</span></a>&gt;    i dont really see the advantage of JSON over CDR</div>
<div class="line">[Monday 21 March 2011] [16:36:50] &lt;<a href="#id1009"><span class="problematic" id="id1010">flexo_</span></a>&gt;    CDR is very nice IMHO</div>
<div class="line">[Monday 21 March 2011] [16:36:56] &lt;pieterh&gt;   JSON requires no upfront thinking</div>
<div class="line">[Monday 21 March 2011] [16:37:13] &lt;<a href="#id1011"><span class="problematic" id="id1012">flexo_</span></a>&gt;    neighter does CDR if you are used to think of a struct like a damn struct in memory :)</div>
<div class="line">[Monday 21 March 2011] [16:37:25] &lt;pieterh&gt;   so why is no-one using CDR?</div>
<div class="line">[Monday 21 March 2011] [16:37:29] &lt;pieterh&gt;   I mean, the market decides</div>
<div class="line">[Monday 21 March 2011] [16:37:41] &lt;<a href="#id1013"><span class="problematic" id="id1014">flexo_</span></a>&gt;    pieterh: because CDR is deep within CORBA</div>
<div class="line">[Monday 21 March 2011] [16:37:44] &lt;<a href="#id1015"><span class="problematic" id="id1016">flexo_</span></a>&gt;    and CORBA scares people</div>
<div class="line">[Monday 21 March 2011] [16:37:48] &lt;pieterh&gt;   nah, because it&#8217;s a complex toolchain</div>
<div class="line">[Monday 21 March 2011] [16:37:59] &lt;<a href="#id1017"><span class="problematic" id="id1018">flexo_</span></a>&gt;    no, CDR is complety separete of everything</div>
<div class="line">[Monday 21 March 2011] [16:38:12] &lt;<a href="#id1019"><span class="problematic" id="id1020">flexo_</span></a>&gt;    its simply a binary data representation</div>
<div class="line">[Monday 21 March 2011] [16:38:28] &lt;<a href="#id1021"><span class="problematic" id="id1022">flexo_</span></a>&gt;    containing some stupid padding.. but thats far less worse than JSON</div>
<div class="line">[Monday 21 March 2011] [16:38:46] &lt;pieterh&gt;   I can&#8217;t even find a web page describing CDR</div>
<div class="line">[Monday 21 March 2011] [16:38:52] &lt;<a href="#id1023"><span class="problematic" id="id1024">flexo_</span></a>&gt;    as i said</div>
<div class="line">[Monday 21 March 2011] [16:38:53] &lt;pieterh&gt;   it&#8217;s embedded in some PDF somewhere</div>
<div class="line">[Monday 21 March 2011] [16:38:55] &lt;pieterh&gt;   fail</div>
<div class="line">[Monday 21 March 2011] [16:39:01] &lt;<a href="#id1025"><span class="problematic" id="id1026">flexo_</span></a>&gt;    thats the point.. its embedded deep inside the CORBA specs</div>
<div class="line">[Monday 21 March 2011] [16:39:06] &lt;<a href="#id1027"><span class="problematic" id="id1028">flexo_</span></a>&gt;    and thats the reason no-one uses it</div>
<div class="line">[Monday 21 March 2011] [16:39:09] &lt;<a href="#id1029"><span class="problematic" id="id1030">flexo_</span></a>&gt;    not because its bad</div>
<div class="line">[Monday 21 March 2011] [16:39:11] &lt;pieterh&gt;   yeah, but that&#8217;s not &#8220;very nice&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:39:17] &lt;<a href="#id1031"><span class="problematic" id="id1032">flexo_</span></a>&gt;    agreed</div>
<div class="line">[Monday 21 March 2011] [16:39:24] &lt;bpl29&gt;     Hello hello.  I am trying to link the zmq library to my project, but think I have built an 1386 library instead of x86_64.</div>
<div class="line">[Monday 21 March 2011] [16:39:34] &lt;<a href="#id1033"><span class="problematic" id="id1034">flexo_</span></a>&gt;    but &#8220;everyone uses it&#8221; doesnt make it a nice format.. take bittorrent for example</div>
<div class="line">[Monday 21 March 2011] [16:39:52] &lt;bpl29&gt;     <a href="#id135"><span class="problematic" id="id136">*</span></a>i386</div>
<div class="line">[Monday 21 March 2011] [16:39:56] &lt;<a href="#id1035"><span class="problematic" id="id1036">flexo_</span></a>&gt;    everyone uses bittorrent and bittorrent uses a highly stupid serialization format</div>
<div class="line">[Monday 21 March 2011] [16:40:17] &lt;pieterh&gt;   <a href="#id1037"><span class="problematic" id="id1038">flexo_</span></a>: well, I&#8217;ve made dozens, hundreds of technically brilliant tools over the years</div>
<div class="line">[Monday 21 March 2011] [16:40:18] &lt;pieterh&gt;   all &#8216;</div>
<div class="line">[Monday 21 March 2011] [16:40:21] &lt;pieterh&gt;   &#8216;perfect&#8217;</div>
<div class="line">[Monday 21 March 2011] [16:40:30] &lt;pieterh&gt;   all dead, because they were inaccessible</div>
<div class="line">[Monday 21 March 2011] [16:40:39] &lt;<a href="#id1039"><span class="problematic" id="id1040">flexo_</span></a>&gt;    its nice to parse with some regular expressions, but if you try to make a very-high throughput implementation you turn crazy because of that &#8220;human readable&#8221; ascii mess</div>
<div class="line">[Monday 21 March 2011] [16:40:59] &lt;pieterh&gt;   bpl29: have you copied the library from one box to another?</div>
<div class="line">[Monday 21 March 2011] [16:41:24] &lt;<a href="#id1041"><span class="problematic" id="id1042">flexo_</span></a>&gt;    pieterh: well. i dont disagree with you on any particular point...</div>
<div class="line">[Monday 21 March 2011] [16:41:41] &lt;pieterh&gt;   anyhow, wrt ORB capabilities over 0MQ, go for it, I&#8217;d say</div>
<div class="line">[Monday 21 March 2011] [16:41:54] &lt;bpl29&gt;     pieterh: No.  As well, I just rebuilt from source.  I am linking with -L/usr/local/lib -lzmq</div>
<div class="line">[Monday 21 March 2011] [16:42:02] &lt;<a href="#id1043"><span class="problematic" id="id1044">flexo_</span></a>&gt;    i just refuse to acknowledge that i spend so much time working with crap</div>
<div class="line">[Monday 21 March 2011] [16:42:14] &lt;pieterh&gt;   <a href="#id1045"><span class="problematic" id="id1046">flexo_</span></a>: Sturgeon&#8217;s Law</div>
<div class="line">[Monday 21 March 2011] [16:42:34] &lt;<a href="#id1047"><span class="problematic" id="id1048">flexo_</span></a>&gt;    yea :)</div>
<div class="line">[Monday 21 March 2011] [16:42:39] &lt;bpl29&gt;     pieterh: The error simply states &#8220;warning: in /usr/local/lib/libzmq.dylib, file was built for unsupported file format which is not the architecture being linked (i386)&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:42:40] &lt;pieterh&gt;   bpl29: so why do you think you built it wrong? it should work automatically, your compiler knows it&#8217;s on a 64-bit box</div>
<div class="line">[Monday 21 March 2011] [16:42:44] &lt;pieterh&gt;   hmm</div>
<div class="line">[Monday 21 March 2011] [16:42:55] &lt;pieterh&gt;   what OS are you on?</div>
<div class="line">[Monday 21 March 2011] [16:43:02] &lt;bpl29&gt;     pieterh: OS X</div>
<div class="line">[Monday 21 March 2011] [16:43:28] &lt;pieterh&gt;   bpl29: sorry, I&#8217;m not expert in OS X builds, but maybe someone else here can help.. cremes?</div>
<div class="line">[Monday 21 March 2011] [16:43:45] &lt;cremes&gt;    pieterh: what&#8217;s up?</div>
<div class="line">[Monday 21 March 2011] [16:44:06] &lt;pieterh&gt;   any idea why a build on OS X would say &#8220;file was built for unsupported file format which is not the architecture being linked (i386)&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:45:14] &lt;cremes&gt;    yes...</div>
<div class="line">[Monday 21 March 2011] [16:45:42] &lt;cremes&gt;    the library is being built i386 but it&#8217;s linking against a (probably) x86_64 binary</div>
<div class="line">[Monday 21 March 2011] [16:46:00] &lt;cremes&gt;    bpl29: run &#8220;file &lt;name&gt;&#8221; against the library and tell us the output</div>
<div class="line">[Monday 21 March 2011] [16:46:11] &lt;bpl29&gt;     okay one moment</div>
<div class="line">[Monday 21 March 2011] [16:46:19] &lt;pieterh&gt;   &#8220;If you&#8217;re using Xcode, then by default Debug mode only builds your platforms native arch. So on a new mac, this would be an x86_64 binary.&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:46:19] &lt;yrashk&gt;    it looks like I&#8217;ve got a case of send() lockup with ZMQ_NOBLOCK :-</div>
<div class="line">[Monday 21 March 2011] [16:46:22] &lt;pieterh&gt;   <a class="reference external" href="http://www.qtcentre.org/threads/30670-On-Mac-quot-...file-was-built-for-unsupported-file-format..-quot-SOLVED">http://www.qtcentre.org/threads/30670-On-Mac-quot-...file-was-built-for-unsupported-file-format..-quot-SOLVED</a></div>
<div class="line">[Monday 21 March 2011] [16:46:33] &lt;pieterh&gt;   yrashk: cool!</div>
<div class="line">[Monday 21 March 2011] [16:46:41] &lt;<a href="#id1049"><span class="problematic" id="id1050">flexo_</span></a>&gt;    pieterh: anyway, just wanted to clarify that it seems to me that you are one of the more.. much more.. competent people i have met. although i disagree with your JSON notion. :)</div>
<div class="line">[Monday 21 March 2011] [16:47:00] &lt;bpl29&gt;     creme: /usr/local/lib/libzmq.dylib: Mach-O 64-bit dynamically linked shared library x86_64</div>
<div class="line">[Monday 21 March 2011] [16:47:05] &lt;pieterh&gt;   <a href="#id1051"><span class="problematic" id="id1052">flexo_</span></a>: I&#8217;m just old and cynical, not particularly competent, but the compliment feels nice, thanks</div>
<div class="line">[Monday 21 March 2011] [16:47:24] &lt;cremes&gt;    bpl29: and what program is trying to load that library? run &#8220;file&#8221; against it too</div>
<div class="line">[Monday 21 March 2011] [16:47:31] &lt;yrashk&gt;    pieterh: indeed :)</div>
<div class="line">[Monday 21 March 2011] [16:47:39] &lt;<a href="#id1053"><span class="problematic" id="id1054">flexo_</span></a>&gt;    pieterh: well, i am highly cynical aswell.. maybe thats the reason for the sympathy :)</div>
<div class="line">[Monday 21 March 2011] [16:47:59] &lt;<a href="#id1055"><span class="problematic" id="id1056">flexo_</span></a>&gt;    (not old though. :D)</div>
<div class="line">[Monday 21 March 2011] [16:48:00] &lt;yrashk&gt;    I think I know why it happens</div>
<div class="line">[Monday 21 March 2011] [16:48:06] &lt;pieterh&gt;   <a href="#id1057"><span class="problematic" id="id1058">flexo_</span></a>: one thing I&#8217;ve learned is that intelligence is a product of many minds, not a few experts</div>
<div class="line">[Monday 21 March 2011] [16:48:19] &lt;pieterh&gt;   yrashk: 2.1.3 or development master?</div>
<div class="line">[Monday 21 March 2011] [16:48:22] &lt;yrashk&gt;    but no idea how to fix it</div>
<div class="line">[Monday 21 March 2011] [16:48:33] &lt;pieterh&gt;   what do you think happens?</div>
<div class="line">[Monday 21 March 2011] [16:48:37] &lt;yrashk&gt;    184bdb8e2bb6fe252af1bf4dd16d1c9ed8892f7a</div>
<div class="line">[Monday 21 March 2011] [16:49:04] &lt;yrashk&gt;    with this specific command that I am sending to another thread, that thread closes the socket that its being sent through</div>
<div class="line">[Monday 21 March 2011] [16:49:13] &lt;bpl29&gt;     creme: I am using ocamlmklib.</div>
<div class="line">[Monday 21 March 2011] [16:49:21] &lt;yrashk&gt;    so sometimes it gets through fine (it closes the socket <em>after</em> send() is over)</div>
<div class="line">[Monday 21 March 2011] [16:49:25] &lt;bpl29&gt;     owait, sry, misinterpreted</div>
<div class="line">[Monday 21 March 2011] [16:49:35] &lt;jond&gt;      <a href="#id1059"><span class="problematic" id="id1060">flexo_</span></a> CDR is an ok encoding, though the character set stuff is dreadful. havent used corba for years though</div>
<div class="line">[Monday 21 March 2011] [16:49:37] &lt;yrashk&gt;    but sometimes it closes it while send() is still working</div>
<div class="line">[Monday 21 March 2011] [16:49:41] &lt;yrashk&gt;    and send() locks</div>
<div class="line">[Monday 21 March 2011] [16:49:48] &lt;yrashk&gt;    even though it&#8217;s in NOBLOCK</div>
<div class="line">[Monday 21 March 2011] [16:49:58] &lt;yrashk&gt;    or should I just upgrade to dev master?</div>
<div class="line">[Monday 21 March 2011] [16:50:06] &lt;<a href="#id1061"><span class="problematic" id="id1062">flexo_</span></a>&gt;    jond: i agree that it could be improved in some areas... i am just saying i prefer it over json :)</div>
<div class="line">[Monday 21 March 2011] [16:50:27] &lt;jond&gt;      flexo have you seen BSON?</div>
<div class="line">[Monday 21 March 2011] [16:50:27] &lt;pieterh&gt;   yrashk: that commit is in development master</div>
<div class="line">[Monday 21 March 2011] [16:50:49] &lt;yrashk&gt;    but are you aware of this issue I described? or whether it is an issue at all?</div>
<div class="line">[Monday 21 March 2011] [16:51:06] &lt;pieterh&gt;   not aware of the issue</div>
<div class="line">[Monday 21 March 2011] [16:51:22] &lt;pieterh&gt;   you distracted me by posting a long UUID</div>
<div class="line">[Monday 21 March 2011] [16:52:04] &lt;pieterh&gt;   yrashk: if you can log an issue, that&#8217;d be good, it sounds like an edge case</div>
<div class="line">[Monday 21 March 2011] [16:52:08] &lt;<a href="#id1063"><span class="problematic" id="id1064">flexo_</span></a>&gt;    jond: looking at it right now... what immediatly caught my attention... no unsigned integers?</div>
<div class="line">[Monday 21 March 2011] [16:52:22] &lt;yrashk&gt;    I am still experimenting</div>
<div class="line">[Monday 21 March 2011] [16:52:24] &lt;bpl29&gt;     creme: I&#8217;m not quite sure where that binary is.  Do you think it could be i386?  I can search more.</div>
<div class="line">[Monday 21 March 2011] [16:52:32] &lt;jond&gt;      flexo: always thought it would be nice to rip the structs / types part of idl out to use as message format generator, leaving all the interface stuff behind, idl looks so much better than an xml or some schema</div>
<div class="line">[Monday 21 March 2011] [16:52:40] &lt;bpl29&gt;     creme: ocamlmklib, that is</div>
<div class="line">[Monday 21 March 2011] [16:52:55] &lt;<a href="#id1065"><span class="problematic" id="id1066">flexo_</span></a>&gt;    jond: oh yea.</div>
<div class="line">[Monday 21 March 2011] [16:53:16] &lt;<a href="#id1067"><span class="problematic" id="id1068">flexo_</span></a>&gt;    especially if the IDL happens to look almost exactly the same in the language you are developing in... :)</div>
<div class="line">[Monday 21 March 2011] [16:54:01] &lt;<a href="#id1069"><span class="problematic" id="id1070">flexo_</span></a>&gt;    (but even if it doesnt fit... i like our python testcases, using omniorbpy)</div>
<div class="line">[Monday 21 March 2011] [16:54:48] &lt;<a href="#id1071"><span class="problematic" id="id1072">flexo_</span></a>&gt;    there are some nice really nice things about CORBA, the mean problem is that its one huge &#8220;solution&#8221;, not a set of solutions layered on-top of each other</div>
<div class="line">[Monday 21 March 2011] [16:54:52] &lt;cremes&gt;    bpl29: i&#8217;m not really sure what you are doing</div>
<div class="line">[Monday 21 March 2011] [16:54:53] &lt;jond&gt;      flexo : yep, but remember that python corba binding in omniorb almost makes corba bearable, so much easier than the c++</div>
<div class="line">[Monday 21 March 2011] [16:54:54] &lt;<a href="#id1073"><span class="problematic" id="id1074">flexo_</span></a>&gt;    <a href="#id137"><span class="problematic" id="id138">*</span></a>main</div>
<div class="line">[Monday 21 March 2011] [16:55:03] &lt;<a href="#id1075"><span class="problematic" id="id1076">flexo_</span></a>&gt;    jond: true...</div>
<div class="line">[Monday 21 March 2011] [16:55:09] &lt;cremes&gt;    bpl29: are you running the examples using the ocaml bindings?</div>
<div class="line">[Monday 21 March 2011] [16:55:20] &lt;<a href="#id1077"><span class="problematic" id="id1078">flexo_</span></a>&gt;    (the ICE mappings look like nice by the way)</div>
<div class="line">[Monday 21 March 2011] [16:55:44] &lt;bpl29&gt;     cremes: I am writing new OCaml bindings.</div>
<div class="line">[Monday 21 March 2011] [16:56:12] &lt;cremes&gt;    bpl29: ok; how do you execute your ocaml runtime?</div>
<div class="line">[Monday 21 March 2011] [16:56:36] &lt;<a href="#id1079"><span class="problematic" id="id1080">flexo_</span></a>&gt;    sigh. but project management will never let me deviate from the &#8220;industry standard&#8221; CORBA.... :)</div>
<div class="line">[Monday 21 March 2011] [16:57:16] &lt;jond&gt;      flexo: well henning was pretty damning in the end and thought he could better, even thought CDR was no better than XDR and the Zero Ice would be the way to go. Last time I looked Vinoski had discovered erlang</div>
<div class="line">[Monday 21 March 2011] [16:57:36] &lt;bpl29&gt;     cremes: the command in question is &#8220;ocamlmklib -o _wrapper_stubs wrapper.o -L/usr/local/lib -lzmq&#8221;</div>
<div class="line">[Monday 21 March 2011] [16:57:47] &lt;<a href="#id1081"><span class="problematic" id="id1082">flexo_</span></a>&gt;    hehe</div>
<div class="line">[Monday 21 March 2011] [16:58:04] &lt;cremes&gt;    bpl29: ok; type &#8220;which ocamlmklib&#8221; and it will tell you where that program is in your PATH</div>
<div class="line">[Monday 21 March 2011] [16:58:08] &lt;cremes&gt;    then run &#8220;file&#8221; on it</div>
<div class="line">[Monday 21 March 2011] [16:58:25] &lt;bpl29&gt;     cremes: thanks.  I knew it was something so simple.</div>
<div class="line">[Monday 21 March 2011] [16:58:59] &lt;jond&gt;      flexo: where I am we use XDR and our own message defn language generating all the marshall/unmarshall classes. No corba</div>
<div class="line">[Monday 21 March 2011] [16:59:45] &lt;<a href="#id1083"><span class="problematic" id="id1084">flexo_</span></a>&gt;    jond: yea.. could have been done for our project too... but as i said.. &#8220;industry standard&#8221; :)</div>
<div class="line">[Monday 21 March 2011] [17:00:02] &lt;<a href="#id1085"><span class="problematic" id="id1086">flexo_</span></a>&gt;    (the department i am working for still has some 200mhz SGI boxes where they actually develop for)</div>
<div class="line">[Monday 21 March 2011] [17:00:16] &lt;bpl29&gt;     cremes: &#8220;/usr/local/bin/ocamlmktop: POSIX shell script text executable&#8221;</div>
<div class="line">[Monday 21 March 2011] [17:00:29] &lt;bpl29&gt;     cremes: I think that&#8217;s not what I&#8217;m looking for</div>
<div class="line">[Monday 21 March 2011] [17:00:33] &lt;cremes&gt;    bpl29: umm... you are going to have to do some digging</div>
<div class="line">[Monday 21 March 2011] [17:00:44] &lt;bpl29&gt;     cremes: the bash script just calls ocamlc, so I&#8217;ll go file that</div>
<div class="line">[Monday 21 March 2011] [17:00:54] &lt;cremes&gt;    that script must be calling some binary that is trying to link a 32-bit binary against the 64-bit 0mq lib</div>
<div class="line">[Monday 21 March 2011] [17:01:17] &lt;jond&gt;      flexo: that&#8217;s corporate life....</div>
<div class="line">[Monday 21 March 2011] [17:01:21] &lt;<a href="#id1087"><span class="problematic" id="id1088">flexo_</span></a>&gt;    yep</div>
<div class="line">[Monday 21 March 2011] [17:01:28] &lt;<a href="#id1089"><span class="problematic" id="id1090">flexo_</span></a>&gt;    OTOH this is the reason i know some MIPS assembly :)</div>
<div class="line">[Monday 21 March 2011] [17:01:36] &lt;cremes&gt;    bpl29: you might need to pass some flags when linking your ocaml code so that it makes everything 64-bit</div>
<div class="line">[Monday 21 March 2011] [17:01:41] &lt;bpl29&gt;     cremes:  Okay, thanks Cremes.  I think I can do something with that.  You&#8217;ve been a big help to me, and you also helped me yesterday, so thank you very much.</div>
<div class="line">[Monday 21 March 2011] [17:01:52] &lt;yrashk&gt;    still can reproduce on master</div>
<div class="line">[Monday 21 March 2011] [17:01:54] &lt;<a href="#id1091"><span class="problematic" id="id1092">flexo_</span></a>&gt;    (i maintain a very small library which runs on said boxes... had to debug it there once :)</div>
<div class="line">[Monday 21 March 2011] [17:01:55] &lt;yrashk&gt;    hmmm</div>
<div class="line">[Monday 21 March 2011] [17:02:03] &lt;cremes&gt;    bpl29: ok; at this point, you&#8217;ll need to jump into the ocaml channel and ask them for some help :)</div>
<div class="line">[Monday 21 March 2011] [17:02:12] &lt;yrashk&gt;    but only on my slower laptop, not mac pro</div>
<div class="line">[Monday 21 March 2011] [17:02:13] &lt;yrashk&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [17:02:21] &lt;bpl29&gt;     cremes: That&#8217;s a good idea.  I&#8217;ll do that then.  Thanks again.</div>
<div class="line">[Monday 21 March 2011] [17:02:30] &lt;<a href="#id1093"><span class="problematic" id="id1094">flexo_</span></a>&gt;    the dept. is getting into trouble because its getting harder and harder to get replacement parts for these boxes :)</div>
<div class="line">[Monday 21 March 2011] [17:02:57] &lt;<a href="#id1095"><span class="problematic" id="id1096">flexo_</span></a>&gt;    the funny thing about the harddisks is that if the power goes out and they cool down about 1/3 of them dies</div>
<div class="line">[Monday 21 March 2011] [17:03:05] &lt;<a href="#id1097"><span class="problematic" id="id1098">flexo_</span></a>&gt;    so the boxes must be online all the time</div>
<div class="line">[Monday 21 March 2011] [17:03:48] &lt;<a href="#id1099"><span class="problematic" id="id1100">flexo_</span></a>&gt;    and i really enjoy taking interns into that room</div>
<div class="line">[Monday 21 March 2011] [17:05:23] &lt;<a href="#id1101"><span class="problematic" id="id1102">flexo_</span></a>&gt;    they dont quite believe it otherwise :)</div>
<div class="line">[Monday 21 March 2011] [17:06:04] &lt;<a href="#id1103"><span class="problematic" id="id1104">flexo_</span></a>&gt;    the number of people who know how to administer them grows shorter every year too</div>
<div class="line">[Monday 21 March 2011] [17:06:06] &lt;cremes&gt;    i just added one of my wish-list items to the 0mq 3.0 roadmap wiki page</div>
<div class="line">[Monday 21 March 2011] [17:06:15] &lt;<a href="#id1105"><span class="problematic" id="id1106">flexo_</span></a>&gt;    sheesh. where am i working :)</div>
<div class="line">[Monday 21 March 2011] [17:07:52] &lt;pieterh&gt;   cremes: a page is like... 60 lines of 80 chars?</div>
<div class="line">[Monday 21 March 2011] [17:08:21] &lt;cremes&gt;    pieterh: a page is usually some multiple of 512 bytes, like 4k on linux</div>
<div class="line">[Monday 21 March 2011] [17:09:06] &lt;pieterh&gt;   so, almost 60 x 80 like I thought :-)</div>
<div class="line">[Monday 21 March 2011] [17:09:21] &lt;cremes&gt;    almost</div>
<div class="line">[Monday 21 March 2011] [17:09:23] &lt;cremes&gt;    heh</div>
<div class="line">[Monday 21 March 2011] [17:10:03] &lt;pieterh&gt;   nice change request, but you may have to submit the patch yourself</div>
<div class="line">[Monday 21 March 2011] [17:10:13] &lt;cremes&gt;    pieterh: understood</div>
<div class="line">[Monday 21 March 2011] [17:31:49] &lt;Guthur&gt;    hehe, I love how CORBA was defined by OMG</div>
<div class="line">[Monday 21 March 2011] [17:32:06] &lt;Guthur&gt;    I have this strange feeling it is very fitting]</div>
<div class="line">[Monday 21 March 2011] [17:50:57] &lt;mikko&gt;     drbobbeaty: i got a patch that disables shared library building on openpgm side</div>
<div class="line">[Monday 21 March 2011] [17:51:05] &lt;mikko&gt;     i will chat with steven about it and see what he things</div>
<div class="line">[Monday 21 March 2011] [17:51:08] &lt;mikko&gt;     thinks*</div>
<div class="line">[Monday 21 March 2011] [17:52:42] &lt;drbobbeaty&gt;        mikko: thanks, but I found the problem. You didn&#8217;t see it because etho0 is OK for you, but on my Ubuntu box, they bonded the NICs so I could use eth0, I had to use bond0.</div>
<div class="line">[Monday 21 March 2011] [17:52:53] &lt;drbobbeaty&gt;        tricky admins.</div>
<div class="line">[Monday 21 March 2011] [17:53:00] &lt;pieterh&gt;   drbobbeaty: heh, and this worked with 2.1.2?</div>
<div class="line">[Monday 21 March 2011] [17:53:17] &lt;drbobbeaty&gt;        It worked when I HAD 2.1.2 - they did it in the last week.</div>
<div class="line">[Monday 21 March 2011] [17:54:18] &lt;pieterh&gt;   drbobbeaty, ah, just retesting 2.1.2 would have saved us all some time</div>
<div class="line">[Monday 21 March 2011] [17:55:40] &lt;drbobbeaty&gt;        Yeah, that was my fault, and I&#8217;m really sorry about that. It just didn&#8217;t cross my mind because it was working.</div>
<div class="line">[Monday 21 March 2011] [17:56:25] &lt;pieterh&gt;   glad pgm is working, anyhow</div>
<div class="line">[Monday 21 March 2011] [18:00:54] &lt;mikko&gt;     drbobbeaty, pieterh good!</div>
<div class="line">[Monday 21 March 2011] [18:01:12] &lt;mikko&gt;     in any case i worked up solutions on zeromq and libpgm side to prevent the confusing libpgm.so install</div>
<div class="line">[Monday 21 March 2011] [18:01:18] &lt;mikko&gt;     pieterh: you are CCd on mail to steven</div>
<div class="line">[Monday 21 March 2011] [18:01:26] &lt;mikko&gt;     let&#8217;s see what he thinks</div>
<div class="line">[Monday 21 March 2011] [18:01:31] &lt;pieterh&gt;   mikko: reading it now...</div>
<div class="line">[Monday 21 March 2011] [18:01:32] &lt;drbobbeaty&gt;        Thanks, mikko... I think it&#8217;ll be a very good thing to have.</div>
<div class="line">[Monday 21 March 2011] [18:02:37] &lt;pieterh&gt;   mikko: I&#8217;d guess not installing the libpgm.so is best</div>
<div class="line">[Monday 21 March 2011] [18:04:08] &lt;mikko&gt;     yeah</div>
<div class="line">[Monday 21 March 2011] [18:04:16] &lt;mikko&gt;     would be the best if steven agrees with the patch</div>
<div class="line">[Monday 21 March 2011] [18:06:46] &lt;mikko&gt;     productive day</div>
<div class="line">[Monday 21 March 2011] [18:07:05] &lt;pieterh&gt;   yeah, I&#8217;ve almost finished the clone pattern</div>
<div class="line">[Monday 21 March 2011] [18:07:26] &lt;pieterh&gt;   <em>and</em> I took the kids to the park</div>
<div class="line">[Monday 21 March 2011] [18:07:28] &lt;pieterh&gt;   great day</div>
<div class="line">[Monday 21 March 2011] [18:11:10] &lt;Guthur&gt;    would exposing the connected IPs to a 0MQ be possible</div>
<div class="line">[Monday 21 March 2011] [18:11:20] &lt;pieterh&gt;   Guthur: doubt it</div>
<div class="line">[Monday 21 March 2011] [18:13:03] &lt;Guthur&gt;    shame, I was just thinking in terms of a FIX engine, one of the recommend authentication procedures was to match IPs to companies</div>
<div class="line">[Monday 21 March 2011] [18:13:28] &lt;Guthur&gt;    obviously spoofing is possible, which the whitepaper also mentions</div>
<div class="line">[Monday 21 March 2011] [18:13:29] &lt;pieterh&gt;   it&#8217;s been discussed before</div>
<div class="line">[Monday 21 March 2011] [18:13:36] &lt;Guthur&gt;    oh</div>
<div class="line">[Monday 21 March 2011] [18:14:00] &lt;pieterh&gt;   one might have a pluggable authentication layer that sits above the transport</div>
<div class="line">[Monday 21 March 2011] [18:14:24] &lt;pieterh&gt;   this would be necessary for any public-facing 0MQ server IMO</div>
<div class="line">[Monday 21 March 2011] [18:14:47] &lt;pieterh&gt;   though people have argued stuff like banning bogus clients is a firewall issue</div>
<div class="line">[Monday 21 March 2011] [18:15:39] &lt;Guthur&gt;    security is always should a head pickle</div>
<div class="line">[Monday 21 March 2011] [18:16:06] &lt;pieterh&gt;   indeed... :-)</div>
<div class="line">[Monday 21 March 2011] [18:16:57] &lt;Guthur&gt;    Better I at least making a passing effort to understand the options now though</div>
<div class="line">[Monday 21 March 2011] [18:17:21] &lt;pieterh&gt;   if you take 0MQ today, rather than some possible future version</div>
<div class="line">[Monday 21 March 2011] [18:17:35] &lt;pieterh&gt;   then validation must be done explicitly using authentication</div>
<div class="line">[Monday 21 March 2011] [18:18:10] &lt;pieterh&gt;   alternatively you can make a TCP front-end that speaks FIX to the world, and 0MQ to the internal network</div>
<div class="line">[Monday 21 March 2011] [18:18:28] &lt;Guthur&gt;    that was a feature I would like</div>
<div class="line">[Monday 21 March 2011] [18:18:40] &lt;Guthur&gt;    I was going to build the 0MQ version first though</div>
<div class="line">[Monday 21 March 2011] [18:18:40] &lt;pieterh&gt;   it&#8217;s a fairly simple app, if you have FIX libraries</div>
<div class="line">[Monday 21 March 2011] [18:18:55] &lt;Guthur&gt;    then add the bridge to TCP later</div>
<div class="line">[Monday 21 March 2011] [18:19:15] &lt;Guthur&gt;    I was going to take QuickFIXs message parsing for now</div>
<div class="line">[Monday 21 March 2011] [18:19:38] &lt;Guthur&gt;    and replace the engine with 0MQ</div>
<div class="line">[Monday 21 March 2011] [18:19:42] &lt;pieterh&gt;   if you asked me, I&#8217;d make the bridge first</div>
<div class="line">[Monday 21 March 2011] [18:20:03] &lt;pieterh&gt;   use QuickFIX parsing over TCP at one side, 0MQ at the other side</div>
<div class="line">[Monday 21 March 2011] [18:23:10] &lt;Guthur&gt;    probably the more sensible approach</div>
<div class="line">[Monday 21 March 2011] [18:23:45] &lt;Guthur&gt;    I was just really eager to build a big 0MQ system, hehe</div>
<div class="line">[Monday 21 March 2011] [18:28:14] &lt;pieterh&gt;   btw, an open source FIX-to-0MQ bridge would be very useful for Whaleshark</div>
<div class="line">[Monday 21 March 2011] [18:32:59] &lt;Guthur&gt;    the question in my mind is how much functionality to put in the bridge</div>
<div class="line">[Monday 21 March 2011] [18:33:27] &lt;pieterh&gt;   filtering and extraction</div>
<div class="line">[Monday 21 March 2011] [18:33:45] &lt;pieterh&gt;   so that you chop the message flow down as far as possible</div>
<div class="line">[Monday 21 March 2011] [18:33:49] &lt;pieterh&gt;   without doing too much CPU intensive work</div>
<div class="line">[Monday 21 March 2011] [18:34:01] &lt;pieterh&gt;   IMHO</div>
<div class="line">[Monday 21 March 2011] [18:34:29] &lt;Guthur&gt;    well the easy one is splitting the admin and app message</div>
<div class="line">[Monday 21 March 2011] [18:34:37] &lt;Guthur&gt;    messages*#</div>
<div class="line">[Monday 21 March 2011] [18:35:39] &lt;Guthur&gt;    would a bridge offer a place to add encryption/decryption</div>
<div class="line">[Monday 21 March 2011] [18:36:04] &lt;pieterh&gt;   probably not, unless you can offload that work</div>
<div class="line">[Monday 21 March 2011] [18:37:11] &lt;Guthur&gt;    so add the basic level possibly filter admin/app messages, and verify checksums</div>
<div class="line">[Monday 21 March 2011] [18:37:16] &lt;Guthur&gt;    add/at</div>
<div class="line">[Monday 21 March 2011] [18:37:37] &lt;pieterh&gt;   it depends really on the volumes you&#8217;re dealing with and your hardware</div>
<div class="line">[Monday 21 March 2011] [18:37:50] &lt;pieterh&gt;   you want to get the machines working hard enough but not stressed</div>
<div class="line">[Monday 21 March 2011] [18:38:12] &lt;pieterh&gt;   otherwise you&#8217;re going to get latency spikes when there&#8217;s a lot of data</div>
<div class="line">[Monday 21 March 2011] [18:38:26] &lt;Guthur&gt;    FIX engines can be running on some pretty hefty hardware</div>
<div class="line">[Monday 21 March 2011] [18:38:54] &lt;Guthur&gt;    the bank I work for is now serving up all their FX pricing on a FIX engine</div>
<div class="line">[Monday 21 March 2011] [18:39:06] &lt;pieterh&gt;   you work for a bank...</div>
<div class="line">[Monday 21 March 2011] [18:39:13] &lt;Guthur&gt;    and now even clients are asking for it to be exposed them</div>
<div class="line">[Monday 21 March 2011] [18:39:16] &lt;Guthur&gt;    pieterh, yep</div>
<div class="line">[Monday 21 March 2011] [18:39:16]      * pieterh ends the free consulting</div>
<div class="line">[Monday 21 March 2011] [18:39:21] &lt;Guthur&gt;    lol</div>
<div class="line">[Monday 21 March 2011] [18:39:28]      * pieterh doubles his rates</div>
<div class="line">[Monday 21 March 2011] [18:39:47] &lt;Guthur&gt;    if only I was writing the cheques</div>
<div class="line">[Monday 21 March 2011] [18:40:15] &lt;Guthur&gt;    in truth though this is a personal project</div>
<div class="line">[Monday 21 March 2011] [18:40:37] &lt;pieterh&gt;   an open source FIX-to-0MQ bridge would be neat</div>
<div class="line">[Monday 21 March 2011] [18:41:25] &lt;Guthur&gt;    yep, it&#8217;s my goal to have this stuff open source</div>
<div class="line">[Monday 21 March 2011] [18:41:38] &lt;Guthur&gt;    if I can build it properly</div>
<div class="line">[Monday 21 March 2011] [18:41:55] &lt;mikko&gt;     pieterh: sent you some stuff again</div>
<div class="line">[Monday 21 March 2011] [18:41:56] &lt;pieterh&gt;   make it open source first, then you&#8217;ll be sure to build it properly</div>
<div class="line">[Monday 21 March 2011] [18:42:09] &lt;mikko&gt;     don&#8217;t read it before morning, it&#8217;s work related</div>
<div class="line">[Monday 21 March 2011] [18:42:23] &lt;mikko&gt;     build the community first, good products will follow</div>
<div class="line">[Monday 21 March 2011] [18:42:37] &lt;mikko&gt;     said some mozilla guy</div>
<div class="line">[Monday 21 March 2011] [18:42:41] &lt;pieterh&gt;   mikko: I&#8217;m supposed to <em>sleep</em> knowing there&#8217;s an unread mail from you?</div>
<div class="line">[Monday 21 March 2011] [18:42:44] &lt;pieterh&gt;   unpossible</div>
<div class="line">[Monday 21 March 2011] [18:43:17] &lt;mikko&gt;     heh, im gonna sleep now. another long day ahead</div>
<div class="line">[Monday 21 March 2011] [18:43:18] &lt;mikko&gt;     night</div>
<div class="line">[Monday 21 March 2011] [19:00:36] &lt;pieterh&gt;   anyone here using 0MQ from C?</div>
<div class="line">[Monday 21 March 2011] [19:07:13] &lt;Guthur&gt;    when something does not work I now use it for a sanity check</div>
<div class="line">[Monday 21 March 2011] [19:07:19] &lt;Guthur&gt;    but i don&#8217;t think that really counts</div>
<div class="line">[Monday 21 March 2011] [19:18:44] &lt;pieterh&gt;   I&#8217;ve sketched out a proposal for a high-level C binding</div>
<div class="line">[Monday 21 March 2011] [19:18:53] &lt;pieterh&gt;   <a class="reference external" href="http://www.zeromq.org/bindings:c">http://www.zeromq.org/bindings:c</a></div>
<div class="line">[Monday 21 March 2011] [19:21:35] &lt;pieterh&gt;   well, g&#8217;nite everyone...</div>
<div class="line">[Monday 21 March 2011] [19:32:45] &lt;Guthur&gt;    g&#8217;night pieterh</div>
<div class="line">[Monday 21 March 2011] [21:02:11] &lt;reiddraper&gt;        I&#8217;m seeing ~4K requests/second for a REQ-REP socket with two python processes. The are sending &#8220;hello&#8221;. Is this performance expected?</div>
<div class="line">[Monday 21 March 2011] [21:04:28] &lt;jhawk28&gt;   not sure about python, but it usually depends</div>
<div class="line">[Monday 21 March 2011] [21:04:50] &lt;jhawk28&gt;   on the network, the computing platform, and the language bindings</div>
<div class="line">[Monday 21 March 2011] [21:05:22] &lt;reiddraper&gt;        jhawk28: localhost, ubuntu</div>
<div class="line">[Monday 21 March 2011] [21:06:01] &lt;reiddraper&gt;        jhawk28: suppose I was expecting it to be an order of magnitude faster</div>
<div class="line">[Monday 21 March 2011] [21:06:27] &lt;jhawk28&gt;   are you just req: Hello and Rep: hello?</div>
<div class="line">[Monday 21 March 2011] [21:06:40] &lt;reiddraper&gt;        yes</div>
<div class="line">[Monday 21 March 2011] [21:07:25] &lt;reiddraper&gt;        zeromq 2.1.3</div>
<div class="line">[Monday 21 March 2011] [21:07:41] &lt;jhawk28&gt;   let me do a quick one in Java</div>
<div class="line">[Monday 21 March 2011] [21:07:52] &lt;reiddraper&gt;        same performance with ipc and tcp</div>
<div class="line">[Monday 21 March 2011] [21:08:13] &lt;reiddraper&gt;        jhawk28: thanks</div>
<div class="line">[Monday 21 March 2011] [21:21:17] &lt;andrewvc&gt;  cremes: around?</div>
<div class="line">[Monday 21 March 2011] [21:21:29] &lt;andrewvc&gt;  cremes: Wondering if you&#8217;d mind me releasing 0.7.3 w/ zdevice support</div>
<div class="line">[Monday 21 March 2011] [21:23:52] &lt;jhawk28&gt;   reiddraper: I&#8217;m getting about 10k/s</div>
<div class="line">[Monday 21 March 2011] [21:25:30] &lt;reiddraper&gt;        jhawk28: ok, seems reasonable that python would be 4K then</div>
<div class="line">[Monday 21 March 2011] [21:26:51] &lt;jhawk28&gt;   thats Java with 2.1.3 on a 2.4 Core i5 (OSX)</div>
<div class="line">[Monday 21 March 2011] [21:30:01] &lt;jhawk28&gt;   reiddraper: push/pull gets 2mil/s</div>
<div class="line">[Monday 21 March 2011] [21:30:37] &lt;reiddraper&gt;        jhawk28: pretty big difference</div>
<div class="line">[Monday 21 March 2011] [21:31:40] &lt;reiddraper&gt;        only really surprised because I&#8217;ve seen http servers do more req/s than what I&#8217;m seeing</div>
<div class="line">[Monday 21 March 2011] [21:33:10] &lt;jhawk28&gt;   req/rep is synchronous</div>
<div class="line">[Monday 21 March 2011] [21:33:20] &lt;jhawk28&gt;   single threaded both sides</div>
<div class="line">[Monday 21 March 2011] [21:34:44] &lt;reiddraper&gt;        yeah, figured it would have to be, that being said, so is something like Redis, which gets 10&#8217;s of thousands of operations / second, over tcp</div>
<div class="line">[Monday 21 March 2011] [21:34:53] &lt;reiddraper&gt;        req-rep</div>
<div class="line">[Monday 21 March 2011] [21:47:17] &lt;jhawk28&gt;   reiddraper: increase the number of clients</div>
<div class="line">[Monday 21 March 2011] [21:48:30] &lt;jhawk28&gt;   when I bump up the number of clients, I am getting 25k/sec</div>
<div class="line">[Monday 21 March 2011] [21:49:56] &lt;reiddraper&gt;        jhawk28: Cool, and to be honest, for what I have in mind, 4k/sec is plenty fast</div>
<div class="line">[Monday 21 March 2011] [21:51:15] &lt;jhawk28&gt;   I could probably scale it more if I used XREP</div>
<div class="line">[Monday 21 March 2011] [21:52:16] &lt;jhawk28&gt;   and actually split it between machines</div>
<div class="line">[Monday 21 March 2011] [21:55:20] &lt;reiddraper&gt;        jhawk28: can you explain the difference betwen xreq/rep and req/rep?</div>
<div class="line">[Monday 21 March 2011] [21:56:02] &lt;jhawk28&gt;   req/rep is syncronous, xreq/xrep uses identities</div>
<div class="line">[Monday 21 March 2011] [21:56:48] &lt;reiddraper&gt;        ah, OK</div>
<div class="line">[Monday 21 March 2011] [21:56:56] &lt;jhawk28&gt;   the identities are then used by zmq to route the response back to the correct socket</div>
<div class="line">[Monday 21 March 2011] [21:58:07] &lt;jhawk28&gt;   thats as much as I know</div>
<div class="line">[Monday 21 March 2011] [21:58:16] &lt;jhawk28&gt;   I haven&#8217;t used them much</div>
<div class="line">[Monday 21 March 2011] [21:58:27] &lt;jhawk28&gt;   its on my todo list...</div>
<div class="line">[Monday 21 March 2011] [22:00:08] &lt;reiddraper&gt;        jhawk28: ok, so you don&#8217;t get slowed down by slowest client that is load-balanced</div>
<div class="line">[Monday 21 March 2011] [22:01:15] &lt;jhawk28&gt;   or worker</div>
<div class="line">[Monday 21 March 2011] [22:01:40] &lt;jhawk28&gt;   thats what xreq is for (for dealing out work)</div>
<div class="line">[Monday 21 March 2011] [22:04:14] &lt;reiddraper&gt;        ok, so for a queue broker, the clients sending xreq (give me a task), and the broker sending xrep (do this) makes sense?</div>
<div class="line">[Monday 21 March 2011] [22:07:41] &lt;jhawk28&gt;   Chapter 3 does a good job explaining it: <a class="reference external" href="http://zguide.zeromq.org/page:all#toc45">http://zguide.zeromq.org/page:all#toc45</a></div>
<div class="line">[Monday 21 March 2011] [22:08:15] &lt;reiddraper&gt;        jhawk28: awesome. thanks</div>
<div class="line">[Monday 21 March 2011] [22:16:11] &lt;believa&gt;   newb question - are the following statements true? You cannot &#8220;bind&#8221; multiple sockets to the same endpoint. You &#8220;can&#8221; connect multiple sockets to the same endpoint. A socket can &#8220;bind&#8221; and/or &#8220;connect&#8221; to multiple endpoints.</div>
<div class="line">[Monday 21 March 2011] [22:18:58] &lt;jhawk28&gt;   Yes, yes</div>
<div class="line">[Monday 21 March 2011] [22:19:16] &lt;jhawk28&gt;   yes</div>
<div class="line">[Monday 21 March 2011] [22:19:21] &lt;believa&gt;   jhawk28: thanks for the confirmation</div>
<div class="line">[Monday 21 March 2011] [22:20:46] &lt;neopallium&gt;        believa: you can bind one socket to multiple different endpoints, but you can&#8217;t bind multiple sockets to the same endpoint.</div>
<div class="line">[Monday 21 March 2011] [22:21:13] &lt;believa&gt;   neopallium: gotcha</div>
<div class="line">[Monday 21 March 2011] [22:21:15] &lt;neopallium&gt;        just like you can&#8217;t bind multiple tcp sockets to the same port on the same computer.</div>
<div class="line">[Monday 21 March 2011] [22:22:29] &lt;believa&gt;   neopallium: that should result in EADDRINUSE right?</div>
<div class="line">[Monday 21 March 2011] [22:30:20] &lt;neopallium&gt;        believa: yes</div>
<div class="line">[Monday 21 March 2011] [22:30:35] &lt;believa&gt;   neopallium: thanks</div>
<div class="line">[Tuesday 22 March 2011] [03:47:12] &lt;sustrik&gt;  reiddrapper: req/rep is lock-step; the performance is determined by the latency of your network</div>
<div class="line">[Tuesday 22 March 2011] [03:47:32] &lt;sustrik&gt;  the actual messaging fabric is almost irrelevant</div>
<div class="line">[Tuesday 22 March 2011] [04:09:14] &lt;pieterh&gt;  good morning</div>
<div class="line">[Tuesday 22 March 2011] [04:10:23] &lt;pieterh&gt;  sustrik: we had this question twice in a day, perhaps worth some explanation in the guide</div>
<div class="line">[Tuesday 22 March 2011] [04:12:06] &lt;sustrik&gt;  yes, that would be good</div>
<div class="line">[Tuesday 22 March 2011] [04:12:11] &lt;sustrik&gt;  alternatively</div>
<div class="line">[Tuesday 22 March 2011] [04:12:17] &lt;sustrik&gt;  there&#8217;s a page about rinning perf tests</div>
<div class="line">[Tuesday 22 March 2011] [04:12:21] &lt;sustrik&gt;  let me see</div>
<div class="line">[Tuesday 22 March 2011] [04:12:40] &lt;pieterh&gt;  perhaps an explicit page we can refer to upfront, yes</div>
<div class="line">[Tuesday 22 March 2011] [04:12:54] &lt;pieterh&gt;  e.g. expected throughput and latency of each pattern</div>
<div class="line">[Tuesday 22 March 2011] [04:13:05] &lt;pieterh&gt;  very rough, but to set expectations properly</div>
<div class="line">[Tuesday 22 March 2011] [04:14:23] &lt;sustrik&gt;  <a class="reference external" href="http://www.zeromq.org/results:perf-howto">http://www.zeromq.org/results:perf-howto</a></div>
<div class="line">[Tuesday 22 March 2011] [04:20:18] &lt;pieterh&gt;  sustrik: it&#8217;s not very useful to beginners IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:21:25] &lt;pieterh&gt;  I&#8217;ll think about how to explain this, it&#8217;s got to be in terms of limits, capacity, speed of different patterns &amp; transports</div>
<div class="line">[Tuesday 22 March 2011] [04:21:35] &lt;pieterh&gt;  like a spec sheet</div>
<div class="line">[Tuesday 22 March 2011] [04:21:40] &lt;sustrik&gt;  let me send you a diagram</div>
<div class="line">[Tuesday 22 March 2011] [04:22:17] &lt;pieterh&gt;  sure</div>
<div class="line">[Tuesday 22 March 2011] [04:39:19] &lt;pieterh&gt;  sustrik: random idea for cleaner semantics on multipart messages</div>
<div class="line">[Tuesday 22 March 2011] [04:39:36] &lt;pieterh&gt;  make the MORE bit a property of a frame (zmq_msg_t) rather than a socket</div>
<div class="line">[Tuesday 22 March 2011] [04:40:03] &lt;sustrik&gt;  that&#8217;s how it works on wire level</div>
<div class="line">[Tuesday 22 March 2011] [04:40:11] &lt;pieterh&gt;  it would also make more sense at the API level IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:40:12] &lt;sustrik&gt;  with API it&#8217;s a pain to use</div>
<div class="line">[Tuesday 22 March 2011] [04:40:26] &lt;sustrik&gt;  i though of combining the two approaches</div>
<div class="line">[Tuesday 22 March 2011] [04:40:30] &lt;pieterh&gt;  it means I can prepare a frame and write it with a generic method</div>
<div class="line">[Tuesday 22 March 2011] [04:40:41] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:40:58] &lt;pieterh&gt;  if you consider zmq_msg_t as a &#8216;smart blob&#8217; (and I like this), then it should have a more property</div>
<div class="line">[Tuesday 22 March 2011] [04:41:10] &lt;sustrik&gt;  the problem is this:</div>
<div class="line">[Tuesday 22 March 2011] [04:41:27] &lt;sustrik&gt;  zmq_send (msg, MSG_SNDMORE);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:27] &lt;sustrik&gt;  vs.</div>
<div class="line">[Tuesday 22 March 2011] [04:41:47] &lt;sustrik&gt;  zmq_msg_setflag (msg, ZMQ_MORE, 1);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:51] &lt;pieterh&gt;  you can always do both</div>
<div class="line">[Tuesday 22 March 2011] [04:41:53] &lt;sustrik&gt;  zmq_send (msg, 0);</div>
<div class="line">[Tuesday 22 March 2011] [04:41:58] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:42:19] &lt;pieterh&gt;  I see the zmq_send (..., MSG_SENDMORE) as either an optimization or an override</div>
<div class="line">[Tuesday 22 March 2011] [04:42:26] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:42:32] &lt;sustrik&gt;  convenience feature</div>
<div class="line">[Tuesday 22 March 2011] [04:42:45] &lt;pieterh&gt;  e.g. if I have an identity frame, and want to send it, it&#8217;s always going to be MORE</div>
<div class="line">[Tuesday 22 March 2011] [04:43:04] &lt;pieterh&gt;  read / write then become symmetric</div>
<div class="line">[Tuesday 22 March 2011] [04:43:04] &lt;sustrik&gt;  yes, it would simplify devices</div>
<div class="line">[Tuesday 22 March 2011] [04:43:07] &lt;pieterh&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:43:20] &lt;pieterh&gt;  indeed, any generic handling of multipart messages becomes cleaner</div>
<div class="line">[Tuesday 22 March 2011] [04:43:30] &lt;sustrik&gt;  ack</div>
<div class="line">[Tuesday 22 March 2011] [04:43:38] &lt;pieterh&gt;  another question, is it necessary to destroy a message after sending it?</div>
<div class="line">[Tuesday 22 March 2011] [04:43:50] &lt;pieterh&gt;  sending the same frame N times is rather clumsy today</div>
<div class="line">[Tuesday 22 March 2011] [04:43:53] &lt;sustrik&gt;  it you don&#8217;t nothing happens</div>
<div class="line">[Tuesday 22 March 2011] [04:44:13] &lt;sustrik&gt;  but it&#8217;s safer to do so for forward compatibility</div>
<div class="line">[Tuesday 22 March 2011] [04:44:23] &lt;pieterh&gt;  ah, you mean _close is optional</div>
<div class="line">[Tuesday 22 March 2011] [04:44:29] &lt;sustrik&gt;  nope</div>
<div class="line">[Tuesday 22 March 2011] [04:44:46] &lt;sustrik&gt;  technically, closing empty message translates to noop</div>
<div class="line">[Tuesday 22 March 2011] [04:45:03] &lt;sustrik&gt;  however, that is not guaranteed to hold in future versions of 0mq</div>
<div class="line">[Tuesday 22 March 2011] [04:45:31] &lt;sustrik&gt;  so, preferable, close the messages so that 0mq can hook into message destruction process</div>
<div class="line">[Tuesday 22 March 2011] [04:45:41] &lt;sustrik&gt;  preferably*</div>
<div class="line">[Tuesday 22 March 2011] [04:46:01] &lt;pieterh&gt;  To send a message twice I need to:</div>
<div class="line">[Tuesday 22 March 2011] [04:46:02] &lt;pieterh&gt;  zmq_msg_t copy;</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_init (&amp;copy);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_copy (&amp;copy, &amp;original);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_send (socket, &amp;copy, 0);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:03] &lt;pieterh&gt;  zmq_msg_close (&amp;copy);</div>
<div class="line">[Tuesday 22 March 2011] [04:46:13] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:46:39] &lt;sustrik&gt;  well, you should close the original as well</div>
<div class="line">[Tuesday 22 March 2011] [04:46:39] &lt;pieterh&gt;  so my question is whether it&#8217;s necessary for 0MQ to destroy the message after sending</div>
<div class="line">[Tuesday 22 March 2011] [04:46:43] &lt;sustrik&gt;  unless you are going to use it</div>
<div class="line">[Tuesday 22 March 2011] [04:46:49] &lt;sustrik&gt;  not now</div>
<div class="line">[Tuesday 22 March 2011] [04:46:55] &lt;sustrik&gt;  may be necessary in future</div>
<div class="line">[Tuesday 22 March 2011] [04:47:04] &lt;pieterh&gt;  could I have a flag saying, &#8220;don&#8217;t nullify after sending&#8221;?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:13] &lt;pieterh&gt;  MSG_REUSE</div>
<div class="line">[Tuesday 22 March 2011] [04:47:29] &lt;sustrik&gt;  ah, a convenience feature</div>
<div class="line">[Tuesday 22 March 2011] [04:47:41] &lt;sustrik&gt;  you can have that, but you should be aware it&#8217;s slow</div>
<div class="line">[Tuesday 22 March 2011] [04:47:53] &lt;pieterh&gt;  slower than creating copies each time?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:54] &lt;pieterh&gt;  how so?</div>
<div class="line">[Tuesday 22 March 2011] [04:47:59] &lt;sustrik&gt;  there&#8217;s refernce counting going on there</div>
<div class="line">[Tuesday 22 March 2011] [04:48:05] &lt;sustrik&gt;  which is implemented using atomic ops</div>
<div class="line">[Tuesday 22 March 2011] [04:48:19] &lt;sustrik&gt;  which in turn means the memory bus is locked each time you do so</div>
<div class="line">[Tuesday 22 March 2011] [04:48:37] &lt;pieterh&gt;  yes, but I&#8217;m copying the message each time now</div>
<div class="line">[Tuesday 22 March 2011] [04:48:43] &lt;pieterh&gt;  that also locks the memory bus each time</div>
<div class="line">[Tuesday 22 March 2011] [04:48:48] &lt;sustrik&gt;  yes, we can add the convenience flag</div>
<div class="line">[Tuesday 22 March 2011] [04:49:07] &lt;sustrik&gt;  nope, copying doesn&#8217;t lock the bus</div>
<div class="line">[Tuesday 22 March 2011] [04:49:24] &lt;sustrik&gt;  well, unless there&#8217;s contention between CPU cores on that particular cacheline</div>
<div class="line">[Tuesday 22 March 2011] [04:49:33] &lt;pieterh&gt;  well, copying also uses atomic ops for reference counting</div>
<div class="line">[Tuesday 22 March 2011] [04:49:51] &lt;sustrik&gt;  ah, you mean zmq_msg_copy</div>
<div class="line">[Tuesday 22 March 2011] [04:49:53] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [04:49:59] &lt;sustrik&gt;  so yes, we can add the flag</div>
<div class="line">[Tuesday 22 March 2011] [04:50:07] &lt;pieterh&gt;  yes, there&#8217;s no other way to send the same frame twice</div>
<div class="line">[Tuesday 22 March 2011] [04:50:17] &lt;sustrik&gt;  what i&#8217;m saying is that it should not be the default</div>
<div class="line">[Tuesday 22 March 2011] [04:50:17] &lt;pieterh&gt;  aight...</div>
<div class="line">[Tuesday 22 March 2011] [04:50:22] &lt;pieterh&gt;  ah, certainly</div>
<div class="line">[Tuesday 22 March 2011] [04:51:00]     * pieterh peeks at the code...</div>
<div class="line">[Tuesday 22 March 2011] [04:52:18] &lt;pieterh&gt;  well, I&#8217;ll add this to the 3.0 page but I have no idea how to make it :-)</div>
<div class="line">[Tuesday 22 March 2011] [04:52:25] &lt;pieterh&gt;  it would be useful, though IMO</div>
<div class="line">[Tuesday 22 March 2011] [04:53:54] &lt;sustrik&gt;  it&#8217;s backward compatible, so no need to solve it immediately</div>
<div class="line">[Tuesday 22 March 2011] [04:54:12] &lt;sustrik&gt;  the backward incompatible changes are what&#8217;s in focus now</div>
<div class="line">[Tuesday 22 March 2011] [04:54:28] &lt;sustrik&gt;  they have to be done in a single go, if possible</div>
<div class="line">[Tuesday 22 March 2011] [04:54:33] &lt;sustrik&gt;  to minimise the pain</div>
<div class="line">[Tuesday 22 March 2011] [04:54:53] &lt;sustrik&gt;  the remaining functionality can be added gradually afterwards</div>
<div class="line">[Tuesday 22 March 2011] [04:58:29] &lt;pieterh&gt;  I&#8217;m not sure the changes will be as painful as you imagine</div>
<div class="line">[Tuesday 22 March 2011] [04:58:55] &lt;sustrik&gt;  dunno, but minimising the pain is a good thing in itself</div>
<div class="line">[Tuesday 22 March 2011] [04:59:10] &lt;pieterh&gt;  yes, at least doing it all in one go</div>
<div class="line">[Tuesday 22 March 2011] [06:59:40] &lt;pieterh&gt;  sustrik: I&#8217;ve built the basic API for the high-level C binding, at <a class="reference external" href="https://github.com/zeromq/zapi">https://github.com/zeromq/zapi</a></div>
<div class="line">[Tuesday 22 March 2011] [06:59:51] &lt;pieterh&gt;  will fill in the pieces over the next few days</div>
<div class="line">[Tuesday 22 March 2011] [07:01:10] &lt;drbobbeaty&gt;       pieterh: if the C level binding is separate in 3.x, is the C++ binding as well? Are they different bindings? What comes &#8220;standard&#8221; with the ZMQ libraries? Any &#8216;default&#8217; API?</div>
<div class="line">[Tuesday 22 March 2011] [07:01:25] &lt;pieterh&gt;  drbobbeaty: yes, we plan to split off the C++ binding as well</div>
<div class="line">[Tuesday 22 March 2011] [07:01:33] &lt;pieterh&gt;  the default API is the Core C API</div>
<div class="line">[Tuesday 22 March 2011] [07:02:09] &lt;pieterh&gt;  the new C binding will work over 2.x as well as 3.x</div>
<div class="line">[Tuesday 22 March 2011] [07:02:42] &lt;drbobbeaty&gt;       Ah! I see the advantage to having the separate binding now - bridge the versions. Nice plan.</div>
<div class="line">[Tuesday 22 March 2011] [07:03:03] &lt;pieterh&gt;  also it makes it much easier to add useful functionality without breaking other language bindings</div>
<div class="line">[Tuesday 22 March 2011] [07:03:18] &lt;pieterh&gt;  so we can e.g. write a C reactor without affecting the core</div>
<div class="line">[Tuesday 22 March 2011] [07:18:47] &lt;Guthur&gt;   pieterh: I think I&#8217;ll draw some inspiration from the new C binding</div>
<div class="line">[Tuesday 22 March 2011] [07:19:09] &lt;pieterh&gt;  Guthur: could be fun, I&#8217;ve tried to use a class-oriented approach for most of it</div>
<div class="line">[Tuesday 22 March 2011] [07:20:26] &lt;pieterh&gt;  I&#8217;ll be converting the Guide examples to zapi when it&#8217;s ready</div>
<div class="line">[Tuesday 22 March 2011] [07:20:40] &lt;pieterh&gt;  so if the C++ binding is anything like that, it&#8217;ll be a lot easier for those examples too</div>
<div class="line">[Tuesday 22 March 2011] [07:21:14] &lt;pieterh&gt;  Guthur: when you need a repository created in the zeromq organization, give me a shout</div>
<div class="line">[Tuesday 22 March 2011] [07:21:16] &lt;Guthur&gt;   C# you mean, hehe</div>
<div class="line">[Tuesday 22 March 2011] [07:21:21] &lt;pieterh&gt;  oh, sorry</div>
<div class="line">[Tuesday 22 March 2011] [07:21:23] &lt;pieterh&gt;  C#</div>
<div class="line">[Tuesday 22 March 2011] [07:21:29]     * pieterh was getting all confused</div>
<div class="line">[Tuesday 22 March 2011] [07:21:48]     * pieterh searches for the &#8216;edit&#8217; button...</div>
<div class="line">[Tuesday 22 March 2011] [07:24:16] &lt;Guthur&gt;   When 0MQ 3.0 API is finalized I&#8217;m going to develop a new branch for clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:24:46] &lt;Guthur&gt;   I have a far better idea now what works and what doesn&#8217;t</div>
<div class="line">[Tuesday 22 March 2011] [07:25:02] &lt;pieterh&gt;  please don&#8217;t call it clrzmq3 :-)</div>
<div class="line">[Tuesday 22 March 2011] [07:25:23] &lt;Guthur&gt;   yeah I&#8217;ll resist that temptation</div>
<div class="line">[Tuesday 22 March 2011] [07:25:47] &lt;Guthur&gt;   It will just be a branch of clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:26:00] &lt;pieterh&gt;  though ... embracing the chaos... it could be useful</div>
<div class="line">[Tuesday 22 March 2011] [07:26:07] &lt;pieterh&gt;  if binding versions track the development version</div>
<div class="line">[Tuesday 22 March 2011] [07:26:19] &lt;pieterh&gt;  so people know that clrzmq3 supports 3.x and 2.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:26] &lt;Guthur&gt;   the assembly will be version 3.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:49] &lt;Guthur&gt;   the assembly is currently 2.1.x</div>
<div class="line">[Tuesday 22 March 2011] [07:26:58] &lt;pieterh&gt;  problem is that the version number is in the github repo name</div>
<div class="line">[Tuesday 22 March 2011] [07:27:05] &lt;Guthur&gt;   true</div>
<div class="line">[Tuesday 22 March 2011] [07:27:11] &lt;pieterh&gt;  we have the same problem with zeromq2</div>
<div class="line">[Tuesday 22 March 2011] [07:28:00] &lt;Guthur&gt;   not an easy decision to be honest</div>
<div class="line">[Tuesday 22 March 2011] [07:28:15] &lt;Guthur&gt;   I really don&#8217;t want to confuse potential/current users</div>
<div class="line">[Tuesday 22 March 2011] [07:30:50] &lt;Guthur&gt;   pieterh: can you briefly explain you reactor pattern thing in the C binding</div>
<div class="line">[Tuesday 22 March 2011] [07:31:16] &lt;pieterh&gt;  Guthur: to be honest I&#8217;ve never used a reactor pattern so this is kind of a guess</div>
<div class="line">[Tuesday 22 March 2011] [07:31:25] &lt;pieterh&gt;  the idea is to register the events you want to handle</div>
<div class="line">[Tuesday 22 March 2011] [07:31:34] &lt;pieterh&gt;  and then a tickless poll loop can handle it</div>
<div class="line">[Tuesday 22 March 2011] [07:31:38] &lt;mikko&gt;    howdy boys</div>
<div class="line">[Tuesday 22 March 2011] [07:31:39] &lt;mikko&gt;    and girls</div>
<div class="line">[Tuesday 22 March 2011] [07:31:42] &lt;pieterh&gt;  hey mikko!</div>
<div class="line">[Tuesday 22 March 2011] [07:31:47] &lt;Guthur&gt;   hi mikko</div>
<div class="line">[Tuesday 22 March 2011] [07:31:55] &lt;Guthur&gt;   pieterh: what is the alarm part</div>
<div class="line">[Tuesday 22 March 2011] [07:32:17] &lt;Guthur&gt;   and clock</div>
<div class="line">[Tuesday 22 March 2011] [07:32:21] &lt;pieterh&gt;  Guthur: if you look at a realistic app like the Majordomo broker</div>
<div class="line">[Tuesday 22 March 2011] [07:32:27] &lt;pieterh&gt;  then it mixes socket events with timer events</div>
<div class="line">[Tuesday 22 March 2011] [07:32:36] &lt;pieterh&gt;  e.g. &#8220;send heartbeats every 3 seconds&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [07:32:46] &lt;pieterh&gt;  &#8220;kill server if no response in 2500 msecs&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [07:33:12] &lt;pieterh&gt;  I made a proper tickless poll loop in the flcliapi (freelance client)</div>
<div class="line">[Tuesday 22 March 2011] [07:33:21] &lt;pieterh&gt;  it calculates the next timer event and polls that long</div>
<div class="line">[Tuesday 22 March 2011] [07:33:23] &lt;Guthur&gt;   ok so that would be too all registered sockets</div>
<div class="line">[Tuesday 22 March 2011] [07:33:28] &lt;pieterh&gt;  rather than polling every second or whatever</div>
<div class="line">[Tuesday 22 March 2011] [07:33:47] &lt;Guthur&gt;   I haven&#8217;t got as far as freelance yet</div>
<div class="line">[Tuesday 22 March 2011] [07:34:17] &lt;pieterh&gt;  take a brief look at the flcliapi poll loop, if you want to understand zloop</div>
<div class="line">[Tuesday 22 March 2011] [07:34:19] &lt;Guthur&gt;   I&#8217;ve just got to majordomo</div>
<div class="line">[Tuesday 22 March 2011] [07:34:22] &lt;pieterh&gt;  :-)</div>
<div class="line">[Tuesday 22 March 2011] [07:35:18] &lt;pieterh&gt;  the reactor won&#8217;t work for all cases, sometimes we poll selectively</div>
<div class="line">[Tuesday 22 March 2011] [07:35:27] &lt;pieterh&gt;  but it should help the more complex designs</div>
<div class="line">[Tuesday 22 March 2011] [07:40:40] &lt;Guthur&gt;   I think I&#8217;ve sort of included a limited reactor pattern in clrzmq2</div>
<div class="line">[Tuesday 22 March 2011] [07:42:19] &lt;Guthur&gt;   but unfortunately the incremental nature of the development of the polling mechanism has left the API in a state that is less clear that I would like</div>
<div class="line">[Tuesday 22 March 2011] [07:42:42] &lt;Guthur&gt;   it&#8217;s one of the main area&#8217;s I would like to refactor</div>
<div class="line">[Tuesday 22 March 2011] [07:44:10] &lt;Guthur&gt;   I&#8217;d also like to simplify the send/recv</div>
<div class="line">[Tuesday 22 March 2011] [07:45:29] &lt;pieterh&gt;  in C# strings are just blobs, right?</div>
<div class="line">[Tuesday 22 March 2011] [07:45:55] &lt;Guthur&gt;   they are objects</div>
<div class="line">[Tuesday 22 March 2011] [07:46:36] &lt;pieterh&gt;  right</div>
<div class="line">[Tuesday 22 March 2011] [07:47:35] &lt;Guthur&gt;   i&#8217;d rather deal with them in an msg object as oppose to at the socket level send/recv</div>
<div class="line">[Tuesday 22 March 2011] [07:48:00] &lt;pieterh&gt;  the breakdown I&#8217;m using in zapi is frame vs. msg</div>
<div class="line">[Tuesday 22 March 2011] [07:48:08] &lt;pieterh&gt;  where frame is one part, msg is a multipart object</div>
<div class="line">[Tuesday 22 March 2011] [07:48:23] &lt;Guthur&gt;   I meant to ask about the framw</div>
<div class="line">[Tuesday 22 March 2011] [07:48:26] &lt;Guthur&gt;   frame*</div>
<div class="line">[Tuesday 22 March 2011] [07:48:44] &lt;pieterh&gt;  0MQ uses &#8216;msg&#8217; to mean &#8216;part&#8217;, which is confusing</div>
<div class="line">[Tuesday 22 March 2011] [07:49:11] &lt;Guthur&gt;   yeah, was taking more about the multipart you describe</div>
<div class="line">[Tuesday 22 March 2011] [07:49:21] &lt;pieterh&gt;  perhaps I should use &#8216;part&#8217; instead of &#8216;frame&#8217;... anyhow</div>
<div class="line">[Tuesday 22 March 2011] [07:49:39] &lt;pieterh&gt;  the frame class lets you do things like &#8216;receive the identity&#8217; and &#8216;send the identity&#8217; with ROUTER sockets</div>
<div class="line">[Tuesday 22 March 2011] [07:50:14] &lt;pieterh&gt;  whereas the msg class is more like &#8216;recv a list of frames&#8217; and &#8216;send a list of frames&#8217;</div>
<div class="line">[Tuesday 22 March 2011] [07:51:46] &lt;Guthur&gt;   I was also then going to take a lazy marshalling approach, only marshalling the zeromq msg (part) to a c# data type when required, should improved performance in situations where you don&#8217;t need to know about the whole message</div>
<div class="line">[Tuesday 22 March 2011] [07:52:24] &lt;pieterh&gt;  that makes sense, it&#8217;s what I&#8217;m doing in other places</div>
<div class="line">[Tuesday 22 March 2011] [07:52:28] &lt;Guthur&gt;   it&#8217;s sort of all in my head at the moment though, I really should try to define the API like you have done</div>
<div class="line">[Tuesday 22 March 2011] [07:52:40] &lt;pieterh&gt;  yeah, start with the API, it makes everything clearer</div>
<div class="line">[Tuesday 22 March 2011] [09:03:12] &lt;drbobbeaty&gt;       I have a core dump with ZeroMQ 2.1.3 this morning... I have detailed it in this gist: <a class="reference external" href="https://gist.github.com/881176">https://gist.github.com/881176</a> . It includes the stack trace and the code from OpenPGM that&#8217;s the last step in the trace.</div>
<div class="line">[Tuesday 22 March 2011] [09:03:49] &lt;drbobbeaty&gt;       It seems impossible to be true &#8211; if the assert is causing the exception, then the value of minor_bucket has to be NULL... but it&#8217;s not, as shown in the stack trace.</div>
<div class="line">[Tuesday 22 March 2011] [09:03:58] &lt;drbobbeaty&gt;       Is this a problem for Steve?</div>
<div class="line">[Tuesday 22 March 2011] [09:04:34] &lt;drbobbeaty&gt;       (I&#8217;ve received this on two different boxes on four separate occasions this morning)</div>
<div class="line">[Tuesday 22 March 2011] [09:06:38] &lt;drbobbeaty&gt;       HA! I think it&#8217;s the data_size being 0!</div>
<div class="line">[Tuesday 22 March 2011] [09:06:47] &lt;drbobbeaty&gt;       Any ideas as to why that would be?</div>
<div class="line">[Tuesday 22 March 2011] [09:07:03] &lt;sustrik&gt;  drbobbeaty: you have to discuss that with steve-o</div>
<div class="line">[Tuesday 22 March 2011] [09:07:14] &lt;sustrik&gt;  seem to be a problem with new version of opnepgm</div>
<div class="line">[Tuesday 22 March 2011] [09:09:58] &lt;drbobbeaty&gt;       Steve-o: can you have a look at <a class="reference external" href="https://gist.github.com/881176">https://gist.github.com/881176</a> and give me an idea of why data_size == 0 on the call? I&#8217;m hitting the assertion and have no idea why.</div>
<div class="line">[Tuesday 22 March 2011] [09:10:20] &lt;drbobbeaty&gt;       pieterh: should I just hit the mailing list for steve-o?</div>
<div class="line">[Tuesday 22 March 2011] [09:10:58] &lt;pieterh&gt;  drbobbeaty: I&#8217;d do that, he&#8217;s in Asia and probably out of the office by now</div>
<div class="line">[Tuesday 22 March 2011] [09:11:21] &lt;pieterh&gt;  the good news is you can get a new OpenPGM and use that with 2.1.3 without further changes</div>
<div class="line">[Tuesday 22 March 2011] [09:16:16] &lt;Guthur&gt;   sustrik: I see in the IPC discussion no one is actually talking about using IOCP and named pipes. I&#8217;ve been meaning to ask you about whether you think an abstraction layer over either Sockets &amp; Named Pipes or IOCP itself could feasibly provide the necessary functionality to mimic what is required from poll, select etc in 0MQ</div>
<div class="line">[Tuesday 22 March 2011] [09:16:50] &lt;Guthur&gt;   this would all be window centric changes of course</div>
<div class="line">[Tuesday 22 March 2011] [09:22:50] &lt;drbobbeaty&gt;       Steve-o: if you get this, please check the mailing list... I&#8217;m getting more than two core dumps an hour with 2.1.3 due to this data_size == 0 issue. Yikes!</div>
<div class="line">[Tuesday 22 March 2011] [09:23:56] &lt;pieterh&gt;  drbobbeaty: sorry about this, we don&#8217;t have the facilities to properly test OpenPGM yet</div>
<div class="line">[Tuesday 22 March 2011] [09:24:29] &lt;pieterh&gt;  I&#8217;d advise you to rollback to 2.1.2 until we get a fix to it</div>
<div class="line">[Tuesday 22 March 2011] [09:24:42] &lt;drbobbeaty&gt;       I understand... If I had to guess it&#8217;s an edge condition where data_size == 0, and I&#8217;m just hitting it more with all the exchange feeds I&#8217;m dealing with.</div>
<div class="line">[Tuesday 22 March 2011] [09:24:51] &lt;sustrik&gt;  Guthur: what&#8217;s being discussed is a workaround</div>
<div class="line">[Tuesday 22 March 2011] [09:25:00] &lt;drbobbeaty&gt;       pieterh: that&#8217;s a good plan.</div>
<div class="line">[Tuesday 22 March 2011] [09:25:06] &lt;sustrik&gt;  something that would look like IPC but would actually be TCP</div>
<div class="line">[Tuesday 22 March 2011] [09:25:17] &lt;pieterh&gt;  drbobbeaty: I expect tomorrow morning Steve will have an updated OpenPGM package</div>
<div class="line">[Tuesday 22 March 2011] [09:25:17] &lt;sustrik&gt;  real solution is IPC &amp; NamedPipes</div>
<div class="line">[Tuesday 22 March 2011] [09:25:46] &lt;pieterh&gt;  you can install it and rebuild 2.1.3, &#8211;with-openpgm=&lt;version&gt; or somesuch, I&#8217;m not 100% sure on that syntax</div>
<div class="line">[Tuesday 22 March 2011] [09:28:10] &lt;Guthur&gt;   sustrik: does the abstraction sound like a feasible objective?</div>
<div class="line">[Tuesday 22 March 2011] [09:29:52] &lt;sustrik&gt;  Guthur: the abstraction exists already</div>
<div class="line">[Tuesday 22 March 2011] [09:30:12] &lt;sustrik&gt;  check how poll_t, select_t, epoll_t etc. interface with the rest of the system</div>
<div class="line">[Tuesday 22 March 2011] [09:30:27] &lt;sustrik&gt;  check whether IOCP can use the same interface</div>
<div class="line">[Tuesday 22 March 2011] [09:30:35] &lt;sustrik&gt;  if not, propose changes</div>
<div class="line">[Tuesday 22 March 2011] [09:31:06] &lt;Guthur&gt;   I thought the problem was that underneath those abstractions they use functionality that IOCP does not provide</div>
<div class="line">[Tuesday 22 March 2011] [09:31:22] &lt;Guthur&gt;   IOCP only providing notification of completion</div>
<div class="line">[Tuesday 22 March 2011] [09:32:10] &lt;sustrik&gt;  right, IOCP has an additional buffer between the user and the network</div>
<div class="line">[Tuesday 22 March 2011] [09:32:14] &lt;sustrik&gt;  something like AIO</div>
<div class="line">[Tuesday 22 March 2011] [09:32:24] &lt;sustrik&gt;  is there a way to limit the size of the buffer?</div>
<div class="line">[Tuesday 22 March 2011] [09:32:40] &lt;Guthur&gt;   I can check that out</div>
<div class="line">[Tuesday 22 March 2011] [09:33:00] &lt;sustrik&gt;  yes, please</div>
<div class="line">[Tuesday 22 March 2011] [09:33:08] &lt;sustrik&gt;  if there&#8217;s no limit to the buffer</div>
<div class="line">[Tuesday 22 March 2011] [09:33:17] &lt;sustrik&gt;  it could easily exhaust all the memory</div>
<div class="line">[Tuesday 22 March 2011] [09:33:47] &lt;sustrik&gt;  in such case the code using IOCP would have to keep track of amount of memory in use</div>
<div class="line">[Tuesday 22 March 2011] [09:35:12] &lt;Guthur&gt;   oh, that does not sound ideal</div>
<div class="line">[Tuesday 22 March 2011] [09:45:48] &lt;sustrik&gt;  cremes: hi</div>
<div class="line">[Tuesday 22 March 2011] [09:46:01] &lt;cremes&gt;   sustrik: good morning</div>
<div class="line">[Tuesday 22 March 2011] [09:46:09] &lt;sustrik&gt;  morning</div>
<div class="line">[Tuesday 22 March 2011] [09:46:23] &lt;sustrik&gt;  as for the assertion, any chance of getting backtrace?</div>
<div class="line">[Tuesday 22 March 2011] [09:47:01] &lt;cremes&gt;   sustrik: i can try to capture it in gdb; give me a few minutes and i&#8217;ll see what i can do</div>
<div class="line">[Tuesday 22 March 2011] [09:47:07] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [09:47:28] &lt;sustrik&gt;  another thing: the allocation mechanism you proposed</div>
<div class="line">[Tuesday 22 March 2011] [09:47:44] &lt;sustrik&gt;  have you found out where the memory disappers?</div>
<div class="line">[Tuesday 22 March 2011] [09:48:18] &lt;sustrik&gt;  (issue 174)</div>
<div class="line">[Tuesday 22 March 2011] [09:48:31] &lt;cremes&gt;   sustrik: i need to run your code with the patch you supplied on my linux box</div>
<div class="line">[Tuesday 22 March 2011] [09:48:45] &lt;cremes&gt;   i ran it on my osx box and it was disappearing in the same place as before</div>
<div class="line">[Tuesday 22 March 2011] [09:48:59] &lt;cremes&gt;   (the backtrace in issue 174)</div>
<div class="line">[Tuesday 22 March 2011] [09:52:32] &lt;sustrik&gt;  i though the proposal you made is related to 174</div>
<div class="line">[Tuesday 22 March 2011] [09:54:33] &lt;cremes&gt;   sustrik: it was; based on your feedback i was assuming the memory growth was due to page fragmentation caused</div>
<div class="line">[Tuesday 22 March 2011] [09:54:37] &lt;cremes&gt;   by small memory allocations</div>
<div class="line">[Tuesday 22 March 2011] [09:55:33] &lt;sustrik&gt;  afaik most allocators have per-size caches</div>
<div class="line">[Tuesday 22 March 2011] [09:55:49] &lt;sustrik&gt;  so you have special cache for 16 byte blocks</div>
<div class="line">[Tuesday 22 March 2011] [09:56:04] &lt;sustrik&gt;  another one for 32 byte blocks etc.</div>
<div class="line">[Tuesday 22 March 2011] [09:56:06] &lt;Guthur&gt;   sustrik: you can indeed specify a buffer size</div>
<div class="line">[Tuesday 22 March 2011] [09:56:25] &lt;sustrik&gt;  that in turn leads to optimal heap utilisation</div>
<div class="line">[Tuesday 22 March 2011] [09:56:48] &lt;Guthur&gt;   I need to check some of my resources at home though to remind myself of details of IOCP</div>
<div class="line">[Tuesday 22 March 2011] [09:56:49] &lt;cremes&gt;   sustrik: okay, then i don&#8217;t understand why in the ticket you wrote that it&#8217;s due to a known problem with malloc</div>
<div class="line">[Tuesday 22 March 2011] [09:56:55] &lt;sustrik&gt;  Guthur: how do you do that?</div>
<div class="line">[Tuesday 22 March 2011] [09:57:12] &lt;Guthur&gt;   sustrik: during the read call</div>
<div class="line">[Tuesday 22 March 2011] [09:57:31] &lt;Guthur&gt;   you specify a buffer and bytestoread</div>
<div class="line">[Tuesday 22 March 2011] [09:58:15] &lt;sustrik&gt;  Guthur: i meant limiting the send buffer</div>
<div class="line">[Tuesday 22 March 2011] [09:58:33] &lt;sustrik&gt;  say, totoal amount that can be used is 64kB</div>
<div class="line">[Tuesday 22 March 2011] [09:58:55] &lt;sustrik&gt;  attempt to exceed the buffer would mean the send call would fail</div>
<div class="line">[Tuesday 22 March 2011] [09:59:07] &lt;sustrik&gt;  is there anything like that in IOCP?</div>
<div class="line">[Tuesday 22 March 2011] [09:59:33] &lt;sustrik&gt;  cremes: the problem i referred to is that processes don&#8217;t return allocated memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [10:00:13] &lt;sustrik&gt;  thus, it&#8217;s not used, but cannot be reused by a different process</div>
<div class="line">[Tuesday 22 March 2011] [10:00:54] &lt;cremes&gt;   sustrik: sure, and from my research that is due to page fragmentation caused by malloc/free called on lots of small blocks (smaller than a page)</div>
<div class="line">[Tuesday 22 March 2011] [10:01:19] &lt;sustrik&gt;  does it return allocated memory at all?</div>
<div class="line">[Tuesday 22 March 2011] [10:01:33] &lt;cremes&gt;   yes, if an entire page can be freed</div>
<div class="line">[Tuesday 22 March 2011] [10:01:42] &lt;sustrik&gt;  that&#8217;s linux?</div>
<div class="line">[Tuesday 22 March 2011] [10:01:45] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 22 March 2011] [10:01:54] &lt;sustrik&gt;  nice</div>
<div class="line">[Tuesday 22 March 2011] [10:02:03] &lt;cremes&gt;   i got this from a few different write-ups that i read on stackoverflow and one other site</div>
<div class="line">[Tuesday 22 March 2011] [10:02:03] &lt;sustrik&gt;  iirc it wasn&#8217;t the case in the past</div>
<div class="line">[Tuesday 22 March 2011] [10:02:11] &lt;cremes&gt;   i&#8217;ll try to find them again</div>
<div class="line">[Tuesday 22 March 2011] [10:02:17] &lt;Guthur&gt;   sustrik: do you mean more than <a class="reference external" href="http://msdn.microsoft.com/en-us/library/aa365748(v=VS.85).aspx">http://msdn.microsoft.com/en-us/library/aa365748(v=VS.85).aspx</a></div>
<div class="line">[Tuesday 22 March 2011] [10:02:30] &lt;cremes&gt;   yes, it appears that was an issue with kernel 2.4 and earlier</div>
<div class="line">[Tuesday 22 March 2011] [10:02:39] &lt;cremes&gt;   apparently 2.6 resolves that issue</div>
<div class="line">[Tuesday 22 March 2011] [10:05:19] &lt;Guthur&gt;   you could presumably build some chunking mechanism on top of that with IOCP</div>
<div class="line">[Tuesday 22 March 2011] [10:05:48] &lt;Guthur&gt;   send chunk 1 with Completed send chunk 2....</div>
<div class="line">[Tuesday 22 March 2011] [10:05:53] &lt;Guthur&gt;   with/when</div>
<div class="line">[Tuesday 22 March 2011] [10:09:16] &lt;sustrik&gt;  Guthur: yes, something like that</div>
<div class="line">[Tuesday 22 March 2011] [10:09:41] &lt;sustrik&gt;  cremes: nice</div>
<div class="line">[Tuesday 22 March 2011] [10:10:09] &lt;sustrik&gt;  now, the problem occurs because of 2 specific allocations</div>
<div class="line">[Tuesday 22 March 2011] [10:10:17] &lt;sustrik&gt;  according to the OSX tool</div>
<div class="line">[Tuesday 22 March 2011] [10:10:33] &lt;sustrik&gt;  1. allocating the chunk in yqueue_t</div>
<div class="line">[Tuesday 22 March 2011] [10:10:55] &lt;sustrik&gt;  2. allocating the encoder/decoder buffers in engine</div>
<div class="line">[Tuesday 22 March 2011] [10:11:34] &lt;sustrik&gt;  so, afaiu, if the size of those allocations is a muliply of page size, the problem should go away, right?</div>
<div class="line">[Tuesday 22 March 2011] [10:11:54] &lt;sustrik&gt;  as for 2 the size of those buffers is 8kB</div>
<div class="line">[Tuesday 22 March 2011] [10:12:07] &lt;sustrik&gt;  so there&#8217;s no fragmentation issue</div>
<div class="line">[Tuesday 22 March 2011] [10:12:30] &lt;sustrik&gt;  hm, for 1. the size is 12kB</div>
<div class="line">[Tuesday 22 March 2011] [10:12:45] &lt;sustrik&gt;  so the fragmentation should not happen</div>
<div class="line">[Tuesday 22 March 2011] [10:13:08] &lt;sustrik&gt;  but given that the test is run on OSX, the allocation mechanism may be different</div>
<div class="line">[Tuesday 22 March 2011] [10:13:57] &lt;cremes&gt;   sustrik: true, but the memory growth is also reproducible on linux</div>
<div class="line">[Tuesday 22 March 2011] [10:14:04] &lt;cremes&gt;   i just don&#8217;t have a tool there to show where it&#8217;s happening</div>
<div class="line">[Tuesday 22 March 2011] [10:14:12] &lt;sustrik&gt;  :(</div>
<div class="line">[Tuesday 22 March 2011] [10:14:18] &lt;cremes&gt;   i am <em>assuming</em> it occurs in the same place on both OSes</div>
<div class="line">[Tuesday 22 March 2011] [10:14:36] &lt;sustrik&gt;  you&#8217;ll have to run the test with my patch</div>
<div class="line">[Tuesday 22 March 2011] [10:14:38] &lt;cremes&gt;   sustrik: just to confirm, you were able to reproduce this on your linux system with that example code, right?</div>
<div class="line">[Tuesday 22 March 2011] [10:14:47] &lt;sustrik&gt;  that&#8217;ll at least show whether it&#8217;s the yqueue issue</div>
<div class="line">[Tuesday 22 March 2011] [10:15:15] &lt;sustrik&gt;  yes, i think so</div>
<div class="line">[Tuesday 22 March 2011] [10:15:38] &lt;sustrik&gt;  i assumed it was process not returning memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [10:15:53] &lt;sustrik&gt;  but given the issue was solved in linux/2.6</div>
<div class="line">[Tuesday 22 March 2011] [10:15:59] &lt;sustrik&gt;  it has to be something different</div>
<div class="line">[Tuesday 22 March 2011] [10:16:43] &lt;cremes&gt;   sustrik: after i try to get this backtrace for the other issue (181) i&#8217;ll apply your patch on linux and run it</div>
<div class="line">[Tuesday 22 March 2011] [10:16:51] &lt;sustrik&gt;  thanks</div>
<div class="line">[Tuesday 22 March 2011] [10:20:46] &lt;Guthur&gt;   pieterh: with MDP do you see anything inherently wrong with having workers being other brokers</div>
<div class="line">[Tuesday 22 March 2011] [10:29:00] &lt;Guthur&gt;   maybe even have service requests routed via a URI</div>
<div class="line">[Tuesday 22 March 2011] [10:52:13] &lt;pieterh&gt;  Guthur: workers can certainly be brokers as well</div>
<div class="line">[Tuesday 22 March 2011] [10:54:25] &lt;cremes&gt;   sustrik: got a core; do you want the output from &#8216;bt&#8217; or from &#8216;thread apply all bt&#8217;?</div>
<div class="line">[Tuesday 22 March 2011] [10:54:53] &lt;sustrik&gt;  presumably the latter</div>
<div class="line">[Tuesday 22 March 2011] [10:55:12] &lt;cremes&gt;   sustrik: ok... i&#8217;ll give you both :)</div>
<div class="line">[Tuesday 22 March 2011] [10:55:27] &lt;sustrik&gt;  thx</div>
<div class="line">[Tuesday 22 March 2011] [10:55:51] &lt;cremes&gt;   sustrik: <a class="reference external" href="https://gist.github.com/881336">https://gist.github.com/881336</a></div>
<div class="line">[Tuesday 22 March 2011] [10:56:51] &lt;cremes&gt;   btw, this is off of commit 1619b3d84a04fe1886347fd83280a607</div>
<div class="line">[Tuesday 22 March 2011] [10:59:51] &lt;sustrik&gt;  cremes: the assertion happens in mutex destructor</div>
<div class="line">[Tuesday 22 March 2011] [10:59:57] &lt;sustrik&gt;  interesting</div>
<div class="line">[Tuesday 22 March 2011] [11:00:04] &lt;sustrik&gt;  do you console output?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:23] &lt;sustrik&gt;  it should print out the actual error code</div>
<div class="line">[Tuesday 22 March 2011] [11:00:28] &lt;cremes&gt;   i don&#8217;t understand the question; i have a core file... is there something else you want me to look at?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:33] &lt;sustrik&gt;  errno</div>
<div class="line">[Tuesday 22 March 2011] [11:00:42] &lt;cremes&gt;   p errno?</div>
<div class="line">[Tuesday 22 March 2011] [11:00:44] &lt;sustrik&gt;  yes</div>
<div class="line">[Tuesday 22 March 2011] [11:00:49] &lt;sustrik&gt;  in the asserted thread</div>
<div class="line">[Tuesday 22 March 2011] [11:01:12] &lt;sustrik&gt;  thread 1</div>
<div class="line">[Tuesday 22 March 2011] [11:01:14] &lt;sustrik&gt;  p errno</div>
<div class="line">[Tuesday 22 March 2011] [11:01:47] &lt;cremes&gt;   Cannot find thread-local variables on this target</div>
<div class="line">[Tuesday 22 March 2011] [11:01:56] &lt;sustrik&gt;  :|</div>
<div class="line">[Tuesday 22 March 2011] [11:02:19] &lt;sustrik&gt;  does the program show the console output</div>
<div class="line">[Tuesday 22 March 2011] [11:02:20] &lt;sustrik&gt;  ?</div>
<div class="line">[Tuesday 22 March 2011] [11:02:23] &lt;sustrik&gt;  stderr</div>
<div class="line">[Tuesday 22 March 2011] [11:02:25] &lt;sustrik&gt;  ?</div>
<div class="line">[Tuesday 22 March 2011] [11:02:59] &lt;sustrik&gt;  if so, the error should be visible there</div>
<div class="line">[Tuesday 22 March 2011] [11:03:30] &lt;cremes&gt;   looking...</div>
<div class="line">[Tuesday 22 March 2011] [11:03:55] &lt;sustrik&gt;  you should see the assert there</div>
<div class="line">[Tuesday 22 March 2011] [11:04:06] &lt;sustrik&gt;  the line above it should be the error</div>
<div class="line">[Tuesday 22 March 2011] [11:04:59] &lt;cremes&gt;   all it printed was the assert from socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:05:32] &lt;sustrik&gt;  the stack trace shows a different assert</div>
<div class="line">[Tuesday 22 March 2011] [11:05:42] &lt;sustrik&gt;  is that the same run?</div>
<div class="line">[Tuesday 22 March 2011] [11:05:45] &lt;cremes&gt;   let me run it again and put everything to the console instead of to files (i usually redirect the output)</div>
<div class="line">[Tuesday 22 March 2011] [11:05:54] &lt;cremes&gt;   same run</div>
<div class="line">[Tuesday 22 March 2011] [11:05:58] &lt;sustrik&gt;  strange</div>
<div class="line">[Tuesday 22 March 2011] [11:06:52] &lt;cremes&gt;   running again...</div>
<div class="line">[Tuesday 22 March 2011] [11:12:47] &lt;cremes&gt;   sustrik: all it prints is:</div>
<div class="line">[Tuesday 22 March 2011] [11:12:48] &lt;cremes&gt;   Assertion failed: sessions.empty () (socket_base.cpp:127)</div>
<div class="line">[Tuesday 22 March 2011] [11:12:56] &lt;cremes&gt;   Aborted (core dumped)</div>
<div class="line">[Tuesday 22 March 2011] [11:14:00] &lt;cremes&gt;   the thread backtraces are the same for this core</div>
<div class="line">[Tuesday 22 March 2011] [11:15:43] &lt;sustrik&gt;  that&#8217;s really strange</div>
<div class="line">[Tuesday 22 March 2011] [11:15:56] &lt;sustrik&gt;  thread 1 reports the assertion happened in mutex.hpp</div>
<div class="line">[Tuesday 22 March 2011] [11:16:06] &lt;sustrik&gt;  rather than in socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:16:21] &lt;sustrik&gt;  maybe it&#8217;s optimiser&#8217;s fault</div>
<div class="line">[Tuesday 22 March 2011] [11:16:23] &lt;cremes&gt;   i don&#8217;t have an explanation :(</div>
<div class="line">[Tuesday 22 March 2011] [11:16:35] &lt;pieterh&gt;  cremes: are you building a debug version?</div>
<div class="line">[Tuesday 22 March 2011] [11:16:36] &lt;sustrik&gt;  any chance of building 0mq with optimisations disabled?</div>
<div class="line">[Tuesday 22 March 2011] [11:16:45] &lt;cremes&gt;   pieterh: yes, ./configure &#8211;enable-debug</div>
<div class="line">[Tuesday 22 March 2011] [11:16:53] &lt;cremes&gt;   sustrik: yes</div>
<div class="line">[Tuesday 22 March 2011] [11:17:11] &lt;sustrik&gt;  &#8211;enable-debug should turn optimisations off</div>
<div class="line">[Tuesday 22 March 2011] [11:17:16] &lt;sustrik&gt;  (-O0)</div>
<div class="line">[Tuesday 22 March 2011] [11:17:42] &lt;cremes&gt;   let me rebuild</div>
<div class="line">[Tuesday 22 March 2011] [11:17:48] &lt;cremes&gt;   i&#8217;ll make clean first...</div>
<div class="line">[Tuesday 22 March 2011] [11:18:03] &lt;sustrik&gt;  cremes: wait a sec</div>
<div class="line">[Tuesday 22 March 2011] [11:18:16] &lt;sustrik&gt;  maybe it makes more sense to try to figure out what&#8217;s failing</div>
<div class="line">[Tuesday 22 March 2011] [11:18:22] &lt;sustrik&gt;  are you using identities?</div>
<div class="line">[Tuesday 22 March 2011] [11:18:53] &lt;cremes&gt;   oops, too late</div>
<div class="line">[Tuesday 22 March 2011] [11:18:58] &lt;cremes&gt;   yes, i am using identities</div>
<div class="line">[Tuesday 22 March 2011] [11:19:40] &lt;sustrik&gt;  the failing socket seems to be xreq, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:19:54] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 22 March 2011] [11:20:19] &lt;sustrik&gt;  any chance it gets connected to two peers that happen to have the same identity</div>
<div class="line">[Tuesday 22 March 2011] [11:20:27] &lt;sustrik&gt;  one of them via connect, other one via bind?</div>
<div class="line">[Tuesday 22 March 2011] [11:20:42] &lt;cremes&gt;   let me take a quick look at the code; i want to say &#8220;no&#8221; but let me verify</div>
<div class="line">[Tuesday 22 March 2011] [11:21:02] &lt;sustrik&gt;  simpler question: do you bind or connect the xreq socket; or both?</div>
<div class="line">[Tuesday 22 March 2011] [11:22:33] &lt;cremes&gt;   hard to say</div>
<div class="line">[Tuesday 22 March 2011] [11:22:41] &lt;cremes&gt;   if the xreq is part of a QUEUE device, then it&#8217;s binding</div>
<div class="line">[Tuesday 22 March 2011] [11:22:46] &lt;cremes&gt;   otherwise all other sockets connect</div>
<div class="line">[Tuesday 22 March 2011] [11:23:02] &lt;sustrik&gt;  never both on the same socket, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:23:08] &lt;cremes&gt;   correct</div>
<div class="line">[Tuesday 22 March 2011] [11:24:49] &lt;sustrik&gt;  hm, maybe the socket_base_t happens to get destructed twice</div>
<div class="line">[Tuesday 22 March 2011] [11:24:59] &lt;sustrik&gt;  is it possible to add printf&#8217;s to your program?</div>
<div class="line">[Tuesday 22 March 2011] [11:25:10] &lt;cremes&gt;   sustrik: yes</div>
<div class="line">[Tuesday 22 March 2011] [11:25:30] &lt;cremes&gt;   you want them added to calls to zmq_close() ?</div>
<div class="line">[Tuesday 22 March 2011] [11:25:34] &lt;sustrik&gt;  something like this:</div>
<div class="line">[Tuesday 22 March 2011] [11:25:55] &lt;sustrik&gt;  printf (&#8220;alloc %pn&#8221;, (void*) this);</div>
<div class="line">[Tuesday 22 March 2011] [11:26:07] &lt;sustrik&gt;  in socket_base_t constructor</div>
<div class="line">[Tuesday 22 March 2011] [11:26:09] &lt;sustrik&gt;  and</div>
<div class="line">[Tuesday 22 March 2011] [11:26:17] &lt;sustrik&gt;  printf (&#8220;dealloc %pn&#8221;, (void*) this);</div>
<div class="line">[Tuesday 22 March 2011] [11:26:21] &lt;sustrik&gt;  in the destructor</div>
<div class="line">[Tuesday 22 March 2011] [11:26:41] &lt;sustrik&gt;  that should show us whether the destructor is called twice for the same object</div>
<div class="line">[Tuesday 22 March 2011] [11:27:17] &lt;cremes&gt;   in the destructor, do you want this printf called first or last?</div>
<div class="line">[Tuesday 22 March 2011] [11:27:25] &lt;cremes&gt;   presumably first</div>
<div class="line">[Tuesday 22 March 2011] [11:27:43] &lt;sustrik&gt;  first</div>
<div class="line">[Tuesday 22 March 2011] [11:28:40] &lt;cremes&gt;   running...</div>
<div class="line">[Tuesday 22 March 2011] [11:28:55] &lt;cremes&gt;   hmmm, i should have separated that stuff out to stderr</div>
<div class="line">[Tuesday 22 March 2011] [11:31:59] &lt;cremes&gt;   how do i redirect stdout and stderr to separate files in bash?</div>
<div class="line">[Tuesday 22 March 2011] [11:33:26] &lt;cremes&gt;   figured it out</div>
<div class="line">[Tuesday 22 March 2011] [11:33:27] &lt;pieterh&gt;  cremes: someproc 2&gt; stderr.log</div>
<div class="line">[Tuesday 22 March 2011] [11:33:30] &lt;cremes&gt;   running...</div>
<div class="line">[Tuesday 22 March 2011] [11:38:31] &lt;mikko&gt;    pieterh: did you merge the pull req?</div>
<div class="line">[Tuesday 22 March 2011] [11:38:36] &lt;mikko&gt;    there is prolly more coming soon</div>
<div class="line">[Tuesday 22 March 2011] [11:38:43] &lt;mikko&gt;    ([zeromq-dev] ZMQ 2.1.3 w/OpenPGM Assertion on pgm_rate_check2())</div>
<div class="line">[Tuesday 22 March 2011] [11:38:51] &lt;pieterh&gt;  mikko: you mean the autoconf fix for OpenPGM in 2.1?</div>
<div class="line">[Tuesday 22 March 2011] [11:38:58] &lt;mikko&gt;    y</div>
<div class="line">[Tuesday 22 March 2011] [11:39:09] &lt;mikko&gt;    im thinking this atm</div>
<div class="line">[Tuesday 22 March 2011] [11:39:10] &lt;pieterh&gt;  hmm, did you see my email about sending patches instead?</div>
<div class="line">[Tuesday 22 March 2011] [11:39:14] &lt;pieterh&gt;  I think it&#8217;s going to be simpler</div>
<div class="line">[Tuesday 22 March 2011] [11:39:37] &lt;pieterh&gt;  pubsub instead of reqrep</div>
<div class="line">[Tuesday 22 March 2011] [11:39:50] &lt;mikko&gt;    &#8220;There is a smarter way to do this, and I think it is:&#8221;</div>
<div class="line">[Tuesday 22 March 2011] [11:39:53] &lt;pieterh&gt;  two subscribers (martin, myself), one publisher (you)</div>
<div class="line">[Tuesday 22 March 2011] [11:40:25] &lt;mikko&gt;    i will update a patch and send to ML</div>
<div class="line">[Tuesday 22 March 2011] [11:40:31] &lt;pieterh&gt;  that&#8217;s best IMO</div>
<div class="line">[Tuesday 22 March 2011] [11:41:11] &lt;pieterh&gt;  somewhere there&#8217;s a magic git incantation to pull a commit from a random git, but I don&#8217;t know it</div>
<div class="line">[Tuesday 22 March 2011] [11:41:34] &lt;mikko&gt;    what do you mean?</div>
<div class="line">[Tuesday 22 March 2011] [11:41:41] &lt;mikko&gt;    git is built on that sort of thing</div>
<div class="line">[Tuesday 22 March 2011] [11:41:49] &lt;sustrik&gt;  cherry-pick?</div>
<div class="line">[Tuesday 22 March 2011] [11:41:52] &lt;mikko&gt;    you could even pull changes from my personal repo</div>
<div class="line">[Tuesday 22 March 2011] [11:42:04] &lt;mikko&gt;    and if i was privileged to i could push to your home machine</div>
<div class="line">[Tuesday 22 March 2011] [11:42:38] &lt;cremes&gt;   sustrik: with a confirmed debug build, the backtraces are different now</div>
<div class="line">[Tuesday 22 March 2011] [11:42:41] &lt;cremes&gt;   sustrik: <a class="reference external" href="https://gist.github.com/881439">https://gist.github.com/881439</a></div>
<div class="line">[Tuesday 22 March 2011] [11:42:46] &lt;cremes&gt;   thread 1 and thread 19 look relevant</div>
<div class="line">[Tuesday 22 March 2011] [11:42:54] &lt;cremes&gt;   i still can&#8217;t print errno</div>
<div class="line">[Tuesday 22 March 2011] [11:44:09] &lt;sustrik&gt;  never mind, this is the assert (empty) thing</div>
<div class="line">[Tuesday 22 March 2011] [11:44:17] &lt;sustrik&gt;  what about the output?</div>
<div class="line">[Tuesday 22 March 2011] [11:44:22] &lt;pieterh&gt;  mikko, ok, so how do we do this without using github&#8217;s pull request?</div>
<div class="line">[Tuesday 22 March 2011] [11:44:27] &lt;cremes&gt;   lots of alloc/dealloc messages</div>
<div class="line">[Tuesday 22 March 2011] [11:44:41] &lt;pieterh&gt;  e.g. create an issue pointing to a remote git/commit</div>
<div class="line">[Tuesday 22 March 2011] [11:45:02] &lt;mikko&gt;    pieterh: or mailing list?</div>
<div class="line">[Tuesday 22 March 2011] [11:45:11] &lt;pieterh&gt;  let&#8217;s work it out here...</div>
<div class="line">[Tuesday 22 March 2011] [11:45:19] &lt;sustrik&gt;  cremes: check for 0x7f1a582a4ea0</div>
<div class="line">[Tuesday 22 March 2011] [11:45:24] &lt;pieterh&gt;  what git commands do I need to use to pull one commit from your git</div>
<div class="line">[Tuesday 22 March 2011] [11:45:47] &lt;cremes&gt;   sustrik: 1 alloc, 1 dealloc</div>
<div class="line">[Tuesday 22 March 2011] [11:46:05] &lt;cremes&gt;   sustrik: however, that is the <em>last</em> dealloc printed</div>
<div class="line">[Tuesday 22 March 2011] [11:46:06] &lt;mikko&gt;    git remote add mikko &lt;url to my repo&gt;</div>
<div class="line">[Tuesday 22 March 2011] [11:46:15] &lt;pieterh&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [11:46:16] &lt;sustrik&gt;  and the printf is at the beginning of the destructor, right?</div>
<div class="line">[Tuesday 22 March 2011] [11:46:17] &lt;mikko&gt;    git fetch mikko</div>
<div class="line">[Tuesday 22 March 2011] [11:46:22] &lt;mikko&gt;    then check the hash of the commit</div>
<div class="line">[Tuesday 22 March 2011] [11:46:23] &lt;cremes&gt;   correct</div>
<div class="line">[Tuesday 22 March 2011] [11:46:24] &lt;pieterh&gt;  git fetch &#8211;no-tags, at least</div>
<div class="line">[Tuesday 22 March 2011] [11:46:28] &lt;mikko&gt;    and cherry-pick it</div>
<div class="line">[Tuesday 22 March 2011] [11:46:37] &lt;mikko&gt;    i think that should do it</div>
<div class="line">[Tuesday 22 March 2011] [11:46:50] &lt;sustrik&gt;  then it&#8217;s some other problem...</div>
<div class="line">[Tuesday 22 March 2011] [11:46:50] &lt;cremes&gt;   sustrik: line 792 is the first line of the destructor</div>
<div class="line">[Tuesday 22 March 2011] [11:47:12] &lt;pieterh&gt;  git fetch won&#8217;t make a mess of your target git?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:13] &lt;cremes&gt;   sustrik: i grep&#8217;ed all of the dealloc lines to their own file &#8216;z2&#8217;</div>
<div class="line">[Tuesday 22 March 2011] [11:47:23] &lt;sustrik&gt;  792?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:27] &lt;sustrik&gt;  what file?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:30] &lt;cremes&gt;   sustrik: then ran:  wc -l z2; sort -u z2 | wc -l</div>
<div class="line">[Tuesday 22 March 2011] [11:47:35] &lt;sustrik&gt;  socket_base_t?</div>
<div class="line">[Tuesday 22 March 2011] [11:47:36] &lt;cremes&gt;   socket_base.cpp</div>
<div class="line">[Tuesday 22 March 2011] [11:47:48] &lt;mikko&gt;    pieterh: git-fetch - Download objects and refs from another repository</div>
<div class="line">[Tuesday 22 March 2011] [11:47:54] &lt;mikko&gt;    pieterh: nope</div>
<div class="line">[Tuesday 22 March 2011] [11:47:56] &lt;sustrik&gt;  cremes: what version?</div>
<div class="line">[Tuesday 22 March 2011] [11:48:02] &lt;sustrik&gt;  my socket_base.cpp ends at 790</div>
<div class="line">[Tuesday 22 March 2011] [11:48:22] &lt;pieterh&gt;  mikko: ok, I like cherry-pick, it&#8217;s how I pull patches from sustrik</div>
<div class="line">[Tuesday 22 March 2011] [11:48:33] &lt;cremes&gt;   sustrik: oops, sorry, misread the vi output; line 124 of 792 (i added two printfs)</div>
<div class="line">[Tuesday 22 March 2011] [11:48:40] &lt;pieterh&gt;  but you have to do &#8216;git fetch &#8211;no-tags whatever&#8217; to avoid polluting your home git</div>
<div class="line">[Tuesday 22 March 2011] [11:48:56] &lt;sustrik&gt;  cremes: ok</div>
<div class="line">[Tuesday 22 March 2011] [11:48:58] &lt;pieterh&gt;  sustrik: do you want to try cherry-pick from mikko&#8217;s git?</div>
<div class="line">[Tuesday 22 March 2011] [11:49:19] &lt;sustrik&gt;  i want a patch on the ML</div>
<div class="line">[Tuesday 22 March 2011] [11:49:23] &lt;sustrik&gt;  that&#8217;s the process</div>
<div class="line">[Tuesday 22 March 2011] [11:49:35] &lt;cremes&gt;   sustrik: anyway, by removing duplicate dealloc prints using &#8216;sort -u&#8217; it looks like 180 sockets are dealloc&#8217;ed twice</div>
<div class="line">[Tuesday 22 March 2011] [11:49:36] &lt;pieterh&gt;  sustrik: you don&#8217;t send me patches via the ML</div>
<div class="line">[Tuesday 22 March 2011] [11:49:43] &lt;sustrik&gt;  i should</div>
<div class="line">[Tuesday 22 March 2011] [11:49:43] &lt;pieterh&gt;  so the process isn&#8217;t symmetric now</div>
<div class="line">[Tuesday 22 March 2011] [11:49:51] &lt;pieterh&gt;  perhaps</div>
<div class="line">[Tuesday 22 March 2011] [11:50:04] &lt;pieterh&gt;  sending me a commit tag is much less work for you</div>
<div class="line">[Tuesday 22 March 2011] [11:50:08] &lt;pieterh&gt;  and also easier for me</div>
<div class="line">[Tuesday 22 March 2011] [11:50:31] &lt;pieterh&gt;  if you send the URI to the commit, it&#8217;s as good as a patch</div>
<div class="line">[Tuesday 22 March 2011] [11:50:36] &lt;sustrik&gt;  that&#8217;s good for backporting</div>
<div class="line">[Tuesday 22 March 2011] [11:50:36] &lt;pieterh&gt;  everyone who cares can review it</div>
<div class="line">[Tuesday 22 March 2011] [11:50:47] &lt;pieterh&gt;  here we&#8217;re porting in all directions, no back or fwd</div>
<div class="line">[Tuesday 22 March 2011] [11:50:49] &lt;sustrik&gt;  it&#8217;s only a reference to what has to be backported</div>
<div class="line">[Tuesday 22 March 2011] [11:50:57] &lt;pieterh&gt;  nope, no special cases please</div>
<div class="line">[Tuesday 22 March 2011] [11:50:59] &lt;sustrik&gt;  with new functionality you want a full patch</div>
<div class="line">[Tuesday 22 March 2011] [11:51:26] &lt;pieterh&gt;  it should be a single process between any two gits</div>
<div class="line">[Tuesday 22 March 2011] [11:51:53] &lt;pieterh&gt;  github pull requests are eliminated because they only work between forks</div>
<div class="line">[Tuesday 22 March 2011] [11:52:03] &lt;sustrik&gt;  there has to be an entry point</div>
<div class="line">[Tuesday 22 March 2011] [11:52:08] &lt;pieterh&gt;  entry point?</div>
<div class="line">[Tuesday 22 March 2011] [11:52:18] &lt;sustrik&gt;  the place where patch enters the ecosystem</div>
<div class="line">[Tuesday 22 March 2011] [11:52:23] &lt;pieterh&gt;  one always addresses a patch/commit to the author of the target git</div>
<div class="line">[Tuesday 22 March 2011] [11:52:33] &lt;pieterh&gt;  entry point can be ML, that&#8217;s excellent</div>
<div class="line">[Tuesday 22 March 2011] [11:52:38] &lt;pieterh&gt;  it&#8217;s ideal for this</div>
<div class="line">[Tuesday 22 March 2011] [11:52:41] &lt;sustrik&gt;  yup</div>
<div class="line">[Tuesday 22 March 2011] [11:52:46] &lt;pieterh&gt;  but signed patches are extra effort</div>
<div class="line">[Tuesday 22 March 2011] [11:52:59] &lt;pieterh&gt;  and we can do it better</div>
<div class="line">[Tuesday 22 March 2011] [11:53:19] &lt;pieterh&gt;  i think, anyhow, and I&#8217;m sure it should be orthogonal for any two gits</div>
<div class="line">[Tuesday 22 March 2011] [11:53:35] &lt;pieterh&gt;  i.e. if you want to send a patch to mikko, same process</div>
<div class="line">[Tuesday 22 March 2011] [11:53:53] &lt;sustrik&gt;  mikko doesn&#8217;t care about sign-offs</div>
<div class="line">[Tuesday 22 March 2011] [11:53:59] &lt;sustrik&gt;  as it&#8217;s his private git</div>
<div class="line">[Tuesday 22 March 2011] [11:54:06] &lt;pieterh&gt;  that&#8217;s a separate issue</div>
<div class="line">[Tuesday 22 March 2011] [11:54:14] &lt;pieterh&gt;  signed off or not, that&#8217;s QC on the patch or commit</div>
<div class="line">[Tuesday 22 March 2011] [11:54:52] &lt;pieterh&gt;  I&#8217;d like a single process for all of us, no special cases</div>
<div class="line">[Tuesday 22 March 2011] [11:54:53] &lt;mikko&gt;    what about CLA?</div>
<div class="line">[Tuesday 22 March 2011] [11:54:56] &lt;mikko&gt;    too complicated?</div>
<div class="line">[Tuesday 22 March 2011] [11:54:58] &lt;pieterh&gt;  CLA?</div>
<div class="line">[Tuesday 22 March 2011] [11:55:02] &lt;pieterh&gt;  way too complex</div>
<div class="line">[Tuesday 22 March 2011] [11:55:04] &lt;pieterh&gt;  by 100x</div>
<div class="line">[Tuesday 22 March 2011] [11:55:11] &lt;mikko&gt;    contributor license agreement</div>
<div class="line">[Tuesday 22 March 2011] [11:55:13] &lt;mikko&gt;    like apache etc do</div>
<div class="line">[Tuesday 22 March 2011] [11:55:22] &lt;pieterh&gt;  no way, dead body over, etc.</div>
<div class="line">[Tuesday 22 March 2011] [11:55:27] &lt;sustrik&gt;  sign-off is simpler imo</div>
<div class="line">[Tuesday 22 March 2011] [11:55:39] &lt;pieterh&gt;  it creates <em>huge</em> management issues and individual developers hate it to the point of not contributing</div>
<div class="line">[Tuesday 22 March 2011] [11:56:05] &lt;pieterh&gt;  we switched to co-owned code and signoff last year, it&#8217;s superior in every sense</div>
<div class="line">[Tuesday 22 March 2011] [11:56:21] &lt;pieterh&gt;  this is not relevant to the thread however</div>
<div class="line">[Tuesday 22 March 2011] [11:56:33] &lt;pieterh&gt;  cherry-picking is very simple for both parties</div>
<div class="line">[Tuesday 22 March 2011] [11:56:47] &lt;mikko&gt;    pieterh: we were a bit too drunk to discuss this properly last weds</div>
<div class="line">[Tuesday 22 March 2011] [11:56:59] &lt;pieterh&gt;  mikko: drunk? I&#8217;m Scottish, we don&#8217;t get drunk</div>
<div class="line">[Tuesday 22 March 2011] [11:57:09] &lt;pieterh&gt;  oh, hang on, yes we do... but it was English beer, doesn&#8217;t count</div>
<div class="line">[Tuesday 22 March 2011] [11:57:41] &lt;pieterh&gt;  sustrik: I&#8217;m not sure cherry-picking conforms to signing off, that&#8217;s all</div>
<div class="line">[Tuesday 22 March 2011] [11:58:06] &lt;pieterh&gt;  but it has to, of course</div>
<div class="line">[Tuesday 22 March 2011] [11:58:19] &lt;mikko&gt;    can you not sign a commit?</div>
<div class="line">[Tuesday 22 March 2011] [11:58:19] &lt;pieterh&gt;  pulling code from a public git means it&#8217;s by definition signed off</div>
<div class="line">[Tuesday 22 March 2011] [11:58:23] &lt;pieterh&gt;  you don&#8217;t need to</div>
<div class="line">[Tuesday 22 March 2011] [11:58:38] &lt;pieterh&gt;  once you commit &amp; push to a git, you license the code under whatever, LGPL etc.</div>
<div class="line">[Tuesday 22 March 2011] [11:59:08] &lt;pieterh&gt;  this is why pull requests work</div>
<div class="line">[Tuesday 22 March 2011] [11:59:24] &lt;pieterh&gt;  but they are crippled for general use</div>
<div class="line">[Tuesday 22 March 2011] [11:59:55] &lt;pieterh&gt;  sustrik: allow me to make a short proposal on the list, OK?</div>
<div class="line">[Tuesday 22 March 2011] [12:00:01] &lt;sustrik&gt;  sure</div>
<div class="line">[Tuesday 22 March 2011] [12:00:07] &lt;pieterh&gt;  thanks</div>
<div class="line">[Tuesday 22 March 2011] [12:00:15] &lt;pieterh&gt;  BTW the new C API is almost working</div>
<div class="line">[Tuesday 22 March 2011] [12:00:35] &lt;pieterh&gt;  it does everything I was asking for, e.g. automatic close of sockets, message reuse, etc.</div>
<div class="line">[Tuesday 22 March 2011] [12:00:51] &lt;pieterh&gt;  nicely emulates 2.0 semantics on termination :-)</div>
<div class="line">[Tuesday 22 March 2011] [12:01:23] &lt;sustrik&gt;  goodo</div>
<div class="line">[Tuesday 22 March 2011] [12:01:33] &lt;cremes&gt;   sustrik: i applied your patch for issue 174 and ran your minimal test case (also in that issue)</div>
<div class="line">[Tuesday 22 March 2011] [12:01:41] &lt;cremes&gt;   sustrik: shall i email you the output?</div>
<div class="line">[Tuesday 22 March 2011] [12:01:46] &lt;cremes&gt;   it&#8217;s too big to pastie</div>
<div class="line">[Tuesday 22 March 2011] [12:04:04] &lt;Guthur&gt;   pieterh: you&#8217;re scottish?</div>
<div class="line">[Tuesday 22 March 2011] [12:04:15] &lt;pieterh&gt;  Guthur: half Scottish, half Belgian...</div>
<div class="line">[Tuesday 22 March 2011] [12:04:24] &lt;pieterh&gt;  born somewhere in the middle of the North Sea</div>
<div class="line">[Tuesday 22 March 2011] [12:06:22] &lt;Guthur&gt;   one of those water births then</div>
<div class="line">[Tuesday 22 March 2011] [12:07:23] &lt;pieterh&gt;  lol</div>
<div class="line">[Tuesday 22 March 2011] [12:08:53] &lt;Guthur&gt;   belgians aren&#8217;t renown for their seafaring as well</div>
<div class="line">[Tuesday 22 March 2011] [12:09:01] &lt;Guthur&gt;   I hear they don&#8217;t have much of a navy</div>
<div class="line">[Tuesday 22 March 2011] [12:10:45] &lt;pieterh&gt;  my great-great grandfather was hung for being a pirate</div>
<div class="line">[Tuesday 22 March 2011] [12:11:28] &lt;sustrik&gt;  cremes: did it drop to 0?</div>
<div class="line">[Tuesday 22 March 2011] [12:11:55] &lt;cremes&gt;   sustrik: no, it didn&#8217;t; i just sent you the output in an email with attachment</div>
<div class="line">[Tuesday 22 March 2011] [12:12:03] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [12:13:17] &lt;sustrik&gt;  cremes: it&#8217;s looks like it&#8217;s dropping</div>
<div class="line">[Tuesday 22 March 2011] [12:13:24] &lt;sustrik&gt;  see the end of the file</div>
<div class="line">[Tuesday 22 March 2011] [12:13:58] &lt;sustrik&gt;  if you let it run a bit longet it would probably get to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:14:13] &lt;sustrik&gt;  longer*</div>
<div class="line">[Tuesday 22 March 2011] [12:14:57] &lt;cremes&gt;   sustrik: i let it run for 5 minutes... it didn&#8217;t appear to be dropping anymore</div>
<div class="line">[Tuesday 22 March 2011] [12:15:06] &lt;cremes&gt;   sustrik: i&#8217;ll let it go for 20m and see what happens</div>
<div class="line">[Tuesday 22 March 2011] [12:15:30] &lt;sustrik&gt;  it seems like it was terminated in the middle of the process of dropping</div>
<div class="line">[Tuesday 22 March 2011] [12:15:34] &lt;sustrik&gt;  see the last line</div>
<div class="line">[Tuesday 22 March 2011] [12:15:44] &lt;sustrik&gt;  it&#8217;s cut in the middle of output</div>
<div class="line">[Tuesday 22 March 2011] [12:16:04] &lt;sustrik&gt;  356 355 354 35</div>
<div class="line">[Tuesday 22 March 2011] [12:16:06] &lt;cremes&gt;   sustrik: i think that&#8217;s from buffered output</div>
<div class="line">[Tuesday 22 March 2011] [12:16:17] &lt;cremes&gt;   i was tailing the log file and it stopped there</div>
<div class="line">[Tuesday 22 March 2011] [12:16:20] &lt;sustrik&gt;  ah</div>
<div class="line">[Tuesday 22 March 2011] [12:16:28] &lt;sustrik&gt;  anyway, it dropped almost to zero</div>
<div class="line">[Tuesday 22 March 2011] [12:16:39] &lt;sustrik&gt;  up to 30,000</div>
<div class="line">[Tuesday 22 March 2011] [12:16:51] &lt;sustrik&gt;  then back to 353</div>
<div class="line">[Tuesday 22 March 2011] [12:17:18] &lt;sustrik&gt;  the leak is either elsewhere</div>
<div class="line">[Tuesday 22 March 2011] [12:17:28] &lt;sustrik&gt;  or it&#8217;s process not returning memory to the OS</div>
<div class="line">[Tuesday 22 March 2011] [12:18:19] &lt;cremes&gt;   sustrik: i&#8217;ll let it sit for a while... i just saw it go from 1 to 3200 and now it&#8217;s down to 310</div>
<div class="line">[Tuesday 22 March 2011] [12:18:26] &lt;cremes&gt;   but it&#8217;s not printing anything anymore</div>
<div class="line">[Tuesday 22 March 2011] [12:18:40] &lt;sustrik&gt;  hm</div>
<div class="line">[Tuesday 22 March 2011] [12:18:44] &lt;cremes&gt;   if it&#8217;s &#8216;cut off&#8217; due to stdout buffering, hitting ctrl-c ought to flush that buffer</div>
<div class="line">[Tuesday 22 March 2011] [12:19:02] &lt;sustrik&gt;  maybe a problem with the buffering itself?</div>
<div class="line">[Tuesday 22 March 2011] [12:19:27] &lt;sustrik&gt;  anyway, i&#8217;ve used simple non-buffered console</div>
<div class="line">[Tuesday 22 March 2011] [12:19:39] &lt;sustrik&gt;  and i saw the number of chunks dropping to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:19:56] &lt;cremes&gt;   i don&#8217;t know how to get an unbuffered xterm going</div>
<div class="line">[Tuesday 22 March 2011] [12:20:12] &lt;sustrik&gt;  cremes: i don&#8217;t think it matters</div>
<div class="line">[Tuesday 22 March 2011] [12:20:18] &lt;cremes&gt;   i should probably add an explicit flush</div>
<div class="line">[Tuesday 22 March 2011] [12:20:28] &lt;sustrik&gt;  350 chunks won&#8217;t account for all the allocated memory you see</div>
<div class="line">[Tuesday 22 March 2011] [12:20:30] &lt;sustrik&gt;  right?</div>
<div class="line">[Tuesday 22 March 2011] [12:20:34] &lt;sustrik&gt;  1 chunk = 12kb</div>
<div class="line">[Tuesday 22 March 2011] [12:20:34] &lt;mikko&gt;    fflush (stdout);</div>
<div class="line">[Tuesday 22 March 2011] [12:20:48] &lt;sustrik&gt;  x350 = 4.2MB</div>
<div class="line">[Tuesday 22 March 2011] [12:20:58] &lt;cremes&gt;   sustrik: do those chunks contain message data?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:16] &lt;sustrik&gt;  how large is your message?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:19] &lt;sustrik&gt;  8 bytes?</div>
<div class="line">[Tuesday 22 March 2011] [12:21:30] &lt;cremes&gt;   your test case was using a 20byte message</div>
<div class="line">[Tuesday 22 March 2011] [12:21:36] &lt;sustrik&gt;  ok</div>
<div class="line">[Tuesday 22 March 2011] [12:21:43] &lt;sustrik&gt;  then the chunks contain message data</div>
<div class="line">[Tuesday 22 March 2011] [12:23:28] &lt;cremes&gt;   i added fflush() and am rerunning; we&#8217;ll see if that makes a difference</div>
<div class="line">[Tuesday 22 March 2011] [12:23:35] &lt;cremes&gt;   it did; count went to 0</div>
<div class="line">[Tuesday 22 March 2011] [12:23:50] &lt;cremes&gt;   resident memory is still inflated though</div>
<div class="line">[Tuesday 22 March 2011] [12:24:14] &lt;sustrik&gt;  the next step would be to replace all the mallocs and frees and news and deletes</div>
<div class="line">[Tuesday 22 March 2011] [12:24:28] &lt;sustrik&gt;  by something that would track amount of memory allocated</div>
<div class="line">[Tuesday 22 March 2011] [12:24:46] &lt;cremes&gt;   sustrik: i think it&#8217;s easier for me to just restart my applications every 48 hours</div>
<div class="line">[Tuesday 22 March 2011] [12:24:49] &lt;cremes&gt;   to free up swap</div>
<div class="line">[Tuesday 22 March 2011] [12:25:02] &lt;sustrik&gt;  hm</div>
<div class="line">[Tuesday 22 March 2011] [12:25:31] &lt;sustrik&gt;  let&#8217;s keep the issue open then</div>
<div class="line">[Tuesday 22 March 2011] [12:25:37] &lt;sustrik&gt;  when i get some time</div>
<div class="line">[Tuesday 22 March 2011] [12:25:42] &lt;cremes&gt;   ok</div>
<div class="line">[Tuesday 22 March 2011] [12:25:50] &lt;cremes&gt;   i&#8217;ll add an update with my findings</div>
<div class="line">[Tuesday 22 March 2011] [12:25:55] &lt;spht&gt;     Does zmq not exit in its SIGINT handler? Can&#8217;t SIGINT to kill my script using the python binding..</div>
<div class="line">[Tuesday 22 March 2011] [12:26:05] &lt;sustrik&gt;  i&#8217;ll try to check whether the memory is held by 0mq or glibc</div>
<div class="line">[Tuesday 22 March 2011] [12:27:19] &lt;sustrik&gt;  spht: what version of 0mq are you using?</div>
<div class="line">[Tuesday 22 March 2011] [12:27:54] &lt;spht&gt;     sustrik:  Python module version is 2.0.10</div>
<div class="line">[Tuesday 22 March 2011] [12:28:43] &lt;sustrik&gt;  there used to be a problem with SIGINT in old versions, let me check...</div>
<div class="line">[Tuesday 22 March 2011] [12:29:22] &lt;cremes&gt;   spht: this was fixed in the 2.1 branches</div>
<div class="line">[Tuesday 22 March 2011] [12:29:41] &lt;cremes&gt;   spht: time to upgrade</div>
<div class="line">[Tuesday 22 March 2011] [12:29:44] &lt;spht&gt;     cremes: sustrik: Ahht thanks! I&#8217;ll go upgrade ASAP :)</div>
<div class="line">[Tuesday 22 March 2011] [12:29:48] &lt;ianbarber&gt;        mikko: about?</div>
<div class="line">[Tuesday 22 March 2011] [12:29:51] &lt;mikko&gt;    ianbarber: yes</div>
<div class="line">[Tuesday 22 March 2011] [12:29:55] &lt;mikko&gt;    bam!</div>
<div class="line">[Tuesday 22 March 2011] [12:31:02] &lt;ianbarber&gt;        bam!</div>
<div class="line">[Tuesday 22 March 2011] [12:31:10] &lt;ianbarber&gt;        so, I was translating a pieterh example</div>
<div class="line">[Tuesday 22 March 2011] [12:31:16] &lt;ianbarber&gt;        which measures round trip speed</div>
<div class="line">[Tuesday 22 March 2011] [12:31:48] &lt;ianbarber&gt;        it starts a client, worker and broker, and tries doing send() recv() 10000 time and then send() 10000 and recv() 10000</div>
<div class="line">[Tuesday 22 March 2011] [12:32:01] &lt;ianbarber&gt;        to compare the speed of waiting for a response versus async</div>
<div class="line">[Tuesday 22 March 2011] [12:32:24] &lt;ianbarber&gt;        in the c version I get ~6k/s for the first, around 50k/s for the second</div>
<div class="line">[Tuesday 22 March 2011] [12:32:32] &lt;ianbarber&gt;        in the PHP i get ~6k/s for both</div>
<div class="line">[Tuesday 22 March 2011] [12:33:37] &lt;mikko&gt;    that&#8217;s interesting</div>
<div class="line">[Tuesday 22 March 2011] [12:33:40] &lt;ianbarber&gt;        i thought it might be because PHP was doing a msg destroy after each one, but taking that out of the c version didn&#8217;t affect it</div>
<div class="line">[Tuesday 22 March 2011] [12:34:03] &lt;mikko&gt;    probably need to run with a profiler to see</div>
<div class="line">[Tuesday 22 March 2011] [12:35:16] &lt;ianbarber&gt;        yeah, i guess</div>
<div class="line">[Tuesday 22 March 2011] [13:01:46] &lt;pieterh&gt;  ianbarber: destroying messages, allocs, etc. don&#8217;t make that much impact</div>
<div class="line">[Tuesday 22 March 2011] [13:06:53] &lt;ianbarber&gt;        yeah, that&#8217;s what i concluded.</div>
<div class="line">[Tuesday 22 March 2011] [14:32:11] &lt;picasso&gt;  i&#8217;m designing an analytics system that needs to handle  potentially heavy loads and usage spikes</div>
<div class="line">[Tuesday 22 March 2011] [14:32:25] &lt;picasso&gt;  creating a web service API (preferrably in PHP), packaging  incoming requests and dumping onto a message queue, and then  processing these requests in the background</div>
<div class="line">[Tuesday 22 March 2011] [14:33:57] &lt;picasso&gt;  i apologize for not being too familiar with zeroMQ, but is this a type of problem that would be a good use case for zero?</div>
<div class="line">[Tuesday 22 March 2011] [14:43:00] &lt;cremes&gt;   picasso: yep, it sure would</div>
<div class="line">[Tuesday 22 March 2011] [14:43:26] &lt;cremes&gt;   have you read the guide? <a class="reference external" href="http://zero.mq/zg">http://zero.mq/zg</a></div>
<div class="line">[Tuesday 22 March 2011] [14:43:35] &lt;cremes&gt;   it covers several use-cases</div>
<div class="line">[Tuesday 22 March 2011] [14:46:05] &lt;picasso&gt;  seems i have quite a bit of reading to do :)</div>
<div class="line">[Tuesday 22 March 2011] [15:13:22] &lt;cremes&gt;   picasso: just a little bit!</div>
<div class="line">[Tuesday 22 March 2011] [15:49:06] &lt;michelp&gt;  i&#8217;m just reading the news about Sergey Aleynikov, was he a 0mq developer?</div>
<div class="line">[Tuesday 22 March 2011] [15:49:47] &lt;michelp&gt;  i saw his github (maybe bitbucket) googleing around a few days ago but now it appears to be gone</div>
<div class="line">[Tuesday 22 March 2011] [15:49:54] &lt;michelp&gt;  and it looked like he had made some contributions</div>
<div class="line">[Tuesday 22 March 2011] [15:50:13] &lt;michelp&gt;  weird that i can&#8217;t find it now, they must have deleted it</div>
<div class="line">[Tuesday 22 March 2011] [15:52:07] &lt;pieterh&gt;  michelp: he wrote the original Erlang binding for 0MQ</div>
<div class="line">[Tuesday 22 March 2011] [15:52:48] &lt;pieterh&gt;  user id on github is saleyn</div>
<div class="line">[Tuesday 22 March 2011] [15:53:32] &lt;michelp&gt;  i&#8217;m not up on the details, but his sentence seems extremely harsh for just moving code, it doesn&#8217;t sound they proved he used it in any way</div>
<div class="line">[Tuesday 22 March 2011] [15:56:03] &lt;michelp&gt;  ah it&#8217;s still up on github</div>
<div class="line">[Tuesday 22 March 2011] [15:57:10] &lt;cremes&gt;   michelp: it doesn&#8217;t matter if he used it or not; let&#8217;s say you take a candy bar from the store but you don&#8217;t eat it; has it been stolen?</div>
<div class="line">[Tuesday 22 March 2011] [15:57:13] &lt;cremes&gt;   or not?</div>
<div class="line">[Tuesday 22 March 2011] [15:58:54] &lt;michelp&gt;  yeah i guess it has.  the couple of stories i&#8217;ve read so far don&#8217;t have much detail, but i just found one that does</div>
<div class="line">[Tuesday 22 March 2011] [15:59:10] &lt;pieterh&gt;  michelp: crimes against property are usually treated harshly unless you&#8217;re wealthy</div>
<div class="line">[Tuesday 22 March 2011] [15:59:23] &lt;spht&gt;     dang: He was employed for two years at Goldman on a salary of $400,000. In early June, he left Goldman to join Teza Technologies, a Chicago start-up which offered to triple his pay.</div>
<div class="line">[Tuesday 22 March 2011] [16:00:13] &lt;spht&gt;     $1.2M coding, that&#8217;s pretty decent I&#8217;d say :)</div>
<div class="line">[Tuesday 22 March 2011] [16:08:01] &lt;pieterh&gt;  aight, zapi the high-level C binding for 0MQ is now ready and working!</div>
<div class="line">[Tuesday 22 March 2011] [16:08:07] &lt;pieterh&gt;  <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Tuesday 22 March 2011] [16:09:13] &lt;mikko&gt;    cool!</div>
<div class="line">[Tuesday 22 March 2011] [16:09:42] &lt;mikko&gt;    did you take zfl build as base?</div>
<div class="line">[Tuesday 22 March 2011] [16:09:50] &lt;pieterh&gt;  yes, for the autotools</div>
<div class="line">[Tuesday 22 March 2011] [16:09:55] &lt;mikko&gt;    very good</div>
<div class="line">[Tuesday 22 March 2011] [16:10:00] &lt;mikko&gt;    should be about the same process</div>
<div class="line">[Tuesday 22 March 2011] [16:10:02] &lt;pieterh&gt;  the only change was to switch to valgrind for the selftest script</div>
<div class="line">[Tuesday 22 March 2011] [16:10:18] &lt;pieterh&gt;  much better than whatever heap checker I was using in ZFL</div>
<div class="line">[Tuesday 22 March 2011] [17:24:12] &lt;pieterh&gt;  sigh</div>
<div class="line">[Tuesday 22 March 2011] [18:00:11] &lt;Guthur&gt;   pieterh, you work fast</div>
<div class="line">[Tuesday 22 March 2011] [18:00:18] &lt;pieterh&gt;  yeah</div>
<div class="line">[Tuesday 22 March 2011] [18:00:22] &lt;pieterh&gt;  am just making packages now</div>
<div class="line">[Tuesday 22 March 2011] [18:00:26] &lt;pieterh&gt;  beta release in one day</div>
<div class="line">[Tuesday 22 March 2011] [18:00:49] &lt;pieterh&gt;  will aim to also upload man pages to a web site, should be doable</div>
<div class="line">[Tuesday 22 March 2011] [18:01:06] &lt;pieterh&gt;  first replying to people who confuse posix streams with length-specified messages</div>
<div class="line">[Tuesday 22 March 2011] [18:01:07] &lt;pieterh&gt;  sigh</div>
<div class="line">[Tuesday 22 March 2011] [18:01:10] &lt;Guthur&gt;   In the same time I haven&#8217;t got nearly as far with the 0MQ-FIX bridge</div>
<div class="line">[Tuesday 22 March 2011] [18:01:23] &lt;Guthur&gt;   admittedly I had to go to work in the middle</div>
<div class="line">[Tuesday 22 March 2011] [18:03:06] &lt;Guthur&gt;   robustly extracting a FIX message from a socket wrote buffer is non too trivial exercise though</div>
<div class="line">[Tuesday 22 March 2011] [18:03:23] &lt;pieterh&gt;  FIX is complex</div>
<div class="line">[Tuesday 22 March 2011] [18:03:35] &lt;pieterh&gt;  that&#8217;s why I suggested doing that totally separately</div>
<div class="line">[Tuesday 22 March 2011] [18:05:24] &lt;Guthur&gt;   it&#8217;s actually my first time working directly with raw sockets as well</div>
<div class="line">[Tuesday 22 March 2011] [18:05:33] &lt;Guthur&gt;   so all a bit of a learning curce</div>
<div class="line">[Tuesday 22 March 2011] [18:05:38] &lt;Guthur&gt;   curve*</div>
<div class="line">[Tuesday 22 March 2011] [18:24:26] &lt;pieterh&gt;  raw sockets are pretty OK if you&#8217;re not trying to be multithreaded or something</div>
<div class="line">[Tuesday 22 March 2011] [18:31:26] &lt;Guthur&gt;   hehe, I quickly decided not to try that</div>
<div class="line">[Tuesday 22 March 2011] [18:32:03] &lt;Guthur&gt;   it&#8217;s not so much the Sockets it&#8217;s extracting the individual messages from the stream</div>
<div class="line">[Tuesday 22 March 2011] [18:32:20] &lt;Guthur&gt;   ensuring they are complete and valid</div>
<div class="line">[Tuesday 22 March 2011] [18:34:11] &lt;Guthur&gt;   just trying to find the nice solution, I&#8217;ve made a state transition table, which should help</div>
<div class="line">[Tuesday 22 March 2011] [18:34:28] &lt;Guthur&gt;   and just ran a small socket demo to sanity check my socket understanding</div>
<div class="line">[Tuesday 22 March 2011] [18:34:48] &lt;Guthur&gt;   so all set now to do the real work</div>
<div class="line">[Tuesday 22 March 2011] [18:46:52] &lt;pieterh&gt;  Guthur: are you working in C or C# for this?</div>
<div class="line">[Tuesday 22 March 2011] [18:49:08] &lt;Guthur&gt;   C# for the time being, I think it might suit being implement in C, if its &#8216;dumb&#8217; enough</div>
<div class="line">[Tuesday 22 March 2011] [19:01:22] &lt;pieterh&gt;  I&#8217;m really curious to see how you get with this</div>
<div class="line">[Tuesday 22 March 2011] [20:31:38] &lt;Guthur&gt;   out of curiosity do many specifically build 0MQ for 64bit platform?</div>
<div class="line">[Tuesday 22 March 2011] [20:33:46] &lt;Guthur&gt;   oh nvm, it&#8217;s not really the issue I had mind</div>
<div class="line">[Tuesday 22 March 2011] [20:38:11] &lt;klestes&gt;  greetings</div>
<div class="line">[Tuesday 22 March 2011] [20:38:31] &lt;klestes&gt;  anyone here ?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:02] &lt;Guthur&gt;   klestes, a few</div>
<div class="line">[Tuesday 22 March 2011] [20:39:21] &lt;Guthur&gt;   i wont be here long though, just about to hit the sack</div>
<div class="line">[Tuesday 22 March 2011] [20:39:25] &lt;Guthur&gt;   what&#8217;s up?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:33] &lt;klestes&gt;  good.  I am preparing to do my first patch submission</div>
<div class="line">[Tuesday 22 March 2011] [20:39:51] &lt;klestes&gt;  where are you, Guth ?</div>
<div class="line">[Tuesday 22 March 2011] [20:39:57] &lt;Guthur&gt;   UK</div>
<div class="line">[Tuesday 22 March 2011] [20:40:07] &lt;klestes&gt;  ah.  Hows the weather ?</div>
<div class="line">[Tuesday 22 March 2011] [20:40:09] &lt;Guthur&gt;   I&#8217;m not much of a git gurur</div>
<div class="line">[Tuesday 22 March 2011] [20:40:20] &lt;Guthur&gt;   it&#8217;s actually been quite good recently</div>
<div class="line">[Tuesday 22 March 2011] [20:40:22] &lt;klestes&gt;  me either !</div>
<div class="line">[Tuesday 22 March 2011] [20:40:28] &lt;klestes&gt;  great !</div>
<div class="line">[Tuesday 22 March 2011] [20:40:37] &lt;Guthur&gt;   pieterh, ping</div>
<div class="line">[Tuesday 22 March 2011] [20:40:51] &lt;Guthur&gt;   pieterh might be able to help, if he&#8217;s about</div>
<div class="line">[Tuesday 22 March 2011] [20:41:00] &lt;klestes&gt;  yep, if you hear the 0Mgods gripe about that damn newbie patch, I was susccessful :)</div>
<div class="line">[Tuesday 22 March 2011] [20:41:17] &lt;klestes&gt;  I think the SF meetup was today, so he may be out of it.  or having beer.</div>
<div class="line">[Tuesday 22 March 2011] [20:41:32] &lt;klestes&gt;  anyway, if I botch it, there&#8217;s always tomorrow.</div>
<div class="line">[Tuesday 22 March 2011] [20:41:43] &lt;Guthur&gt;   oh ok, well there is a couple of resources on the web on how to make git patches</div>
<div class="line">[Tuesday 22 March 2011] [20:41:51] &lt;klestes&gt;  yes, I am reading one now.</div>
<div class="line">[Tuesday 22 March 2011] [20:42:04] &lt;Guthur&gt;   it&#8217;s actually not too hard, I just can&#8217;t remember otoh</div>
<div class="line">[Tuesday 22 March 2011] [20:42:32] &lt;Guthur&gt;   I really need sleep though, sorry I can&#8217;t be more help</div>
<div class="line">[Tuesday 22 March 2011] [20:42:44] &lt;klestes&gt;  thats ok.</div>
<div class="line">[Tuesday 22 March 2011] [20:42:53] &lt;klestes&gt;  I wonder if I can submit just a plain diff the first time ?</div>
<div class="line">[Tuesday 22 March 2011] [20:43:09] &lt;Guthur&gt;   they do like signed off patches to be honest</div>
<div class="line">[Tuesday 22 March 2011] [20:43:16] &lt;klestes&gt;  ah, ok.</div>
<div class="line">[Tuesday 22 March 2011] [20:43:39] &lt;Guthur&gt;   anyhoo must go, later klestes</div>
<div class="line">[Tuesday 22 March 2011] [20:43:40] &lt;klestes&gt;  now,what exactly qualifies a patch as being &#8216;signed off&#8217; - use of the git format-patch command ?</div>
<div class="line">[Tuesday 22 March 2011] [20:43:52] &lt;klestes&gt;  nice talking to you, guthur.  Have a good night !</div>
<div class="line">[Tuesday 22 March 2011] [20:44:31] &lt;Guthur&gt;   we should probably document this process somewhere</div>
<div class="line">[Tuesday 22 March 2011] [20:44:41] &lt;Guthur&gt;   g&#8217;night</div>
<div class="line">[Tuesday 22 March 2011] [21:06:14] &lt;klestes&gt;  well, my first patch has been submitted.  Bombs away !!</div>
<div class="line">[Tuesday 22 March 2011] [21:06:22] &lt;klestes&gt;  and to all, a good nyte.</div>
<div class="line">[Wednesday 23 March 2011] [02:03:42] &lt;Freejack&gt;       Has anyone tried plugging ZeroMQ into anything besides sockets? (i.e. TIPC, DIPC, LINX, Streams, etc...)?</div>
<div class="line">[Wednesday 23 March 2011] [02:07:56] &lt;sustrik&gt;        Freejack: nope</div>
<div class="line">[Wednesday 23 March 2011] [02:08:06] &lt;sustrik&gt;        you are free to try</div>
<div class="line">[Wednesday 23 March 2011] [02:08:42] &lt;sustrik&gt;        however, if the underlying transport doesn&#8217;t use file descriptors, it will be pretty hard to integrate into 0mq</div>
<div class="line">[Wednesday 23 March 2011] [02:08:59] &lt;Freejack&gt;       Sounds like a plan. Yeah, it uses file descriptors.</div>
<div class="line">[Wednesday 23 March 2011] [02:09:46] &lt;Freejack&gt;       I&#8217;ve been playing with message queues for a while now...and find posix queues and Linx Queues to be extremely efficient.</div>
<div class="line">[Wednesday 23 March 2011] [02:11:09] &lt;Freejack&gt;       Linx Queues especially. Their like traveling at light speed compared to sockets over the LAN.</div>
<div class="line">[Wednesday 23 March 2011] [02:13:50] &lt;Freejack&gt;       sustrik: Besides...since ZeroMQ is in fact a high level MQ API, I figure the two would be a good match.</div>
<div class="line">[Wednesday 23 March 2011] [02:14:23] &lt;sustrik&gt;        sure</div>
<div class="line">[Wednesday 23 March 2011] [02:14:28] &lt;sustrik&gt;        go on with it</div>
<div class="line">[Wednesday 23 March 2011] [02:17:55] &lt;Freejack&gt;       Guess I&#8217;d better start grokking the code. bbl.</div>
<div class="line">[Wednesday 23 March 2011] [04:30:20] &lt;pieterh&gt;        sustrik: how easy is it to add a transport layer to 0MQ?</div>
<div class="line">[Wednesday 23 March 2011] [04:44:16] &lt;sustrik&gt;        pieterh: depends</div>
<div class="line">[Wednesday 23 March 2011] [04:44:39] &lt;sustrik&gt;        what transport do you have in mind?</div>
<div class="line">[Wednesday 23 March 2011] [04:45:17] &lt;pieterh&gt;        well, of course TLS/SSL for a start</div>
<div class="line">[Wednesday 23 March 2011] [04:45:25] &lt;pieterh&gt;        but more generally, any virtual stream</div>
<div class="line">[Wednesday 23 March 2011] [04:46:05] &lt;pieterh&gt;        we get these questions about implementing UDP, SCTP, etc. regularly</div>
<div class="line">[Wednesday 23 March 2011] [04:46:19] &lt;pieterh&gt;        and there is no good answer except &#8220;go study the code and send us a patch&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [04:47:21] &lt;pieterh&gt;        have you ever looked at e.g. the Linux user-space file system (FUSE)?</div>
<div class="line">[Wednesday 23 March 2011] [04:50:10] &lt;sustrik&gt;        it would be nice to have standardised interface for transports</div>
<div class="line">[Wednesday 23 March 2011] [04:50:25] &lt;sustrik&gt;        however, it&#8217;s hard to define it</div>
<div class="line">[Wednesday 23 March 2011] [04:50:57] &lt;sustrik&gt;        given the pretty large differences between trasnsports (inproc, pgm, tcp)</div>
<div class="line">[Wednesday 23 March 2011] [04:51:06] &lt;sustrik&gt;        as FUSE: no</div>
<div class="line">[Wednesday 23 March 2011] [04:59:00] &lt;pieterh&gt;        FUSE is just an analogy</div>
<div class="line">[Wednesday 23 March 2011] [04:59:25] &lt;pieterh&gt;        you can keep a bunch of native transports tightly bound to whatever...</div>
<div class="line">[Wednesday 23 March 2011] [04:59:43] &lt;pieterh&gt;        but it would be neat to have a virtual interface for stream transports</div>
<div class="line">[Wednesday 23 March 2011] [05:00:08] &lt;pieterh&gt;        e.g. I&#8217;d like to explore making a shmem transport, but where do I start?</div>
<div class="line">[Wednesday 23 March 2011] [05:00:54] &lt;sustrik&gt;        it&#8217;s a connection-based transport, so have a look how tcp transport works</div>
<div class="line">[Wednesday 23 March 2011] [05:01:19] &lt;sustrik&gt;        zmq_listener_t, zmq_connecter_t, zmq_init_t, zmq_engine_t</div>
<div class="line">[Wednesday 23 March 2011] [05:01:33] &lt;pieterh&gt;        no, I&#8217;m not asking for documentation now, here, on IRC... :-)</div>
<div class="line">[Wednesday 23 March 2011] [05:02:36] &lt;pieterh&gt;        if tcp is the right model for all connected stream transports</div>
<div class="line">[Wednesday 23 March 2011] [05:02:55] &lt;sustrik&gt;        probably not</div>
<div class="line">[Wednesday 23 March 2011] [05:03:00] &lt;sustrik&gt;        no idea actually</div>
<div class="line">[Wednesday 23 March 2011] [05:03:03] &lt;pieterh&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [05:03:38] &lt;pieterh&gt;        IMO this is a major barrier to contributors able to extend 0MQ&#8217;s transports</div>
<div class="line">[Wednesday 23 March 2011] [05:03:42] &lt;sustrik&gt;        agreed</div>
<div class="line">[Wednesday 23 March 2011] [05:04:46] &lt;Guthur&gt; +1 that, hehe</div>
<div class="line">[Wednesday 23 March 2011] [05:05:01] &lt;sustrik&gt;        the question is how to define the interface</div>
<div class="line">[Wednesday 23 March 2011] [05:05:15] &lt;sustrik&gt;        right now 0mq doesn&#8217;t do much for you</div>
<div class="line">[Wednesday 23 March 2011] [05:05:26] &lt;pieterh&gt;        well, it can IMO map the 0MQ API semantics</div>
<div class="line">[Wednesday 23 March 2011] [05:05:27] &lt;sustrik&gt;        there&#8217;s a framework for launching async objects</div>
<div class="line">[Wednesday 23 March 2011] [05:05:32] &lt;pieterh&gt;        bind, connect, send, recv</div>
<div class="line">[Wednesday 23 March 2011] [05:05:41] &lt;sustrik&gt;        nope, it&#8217;s event-driven</div>
<div class="line">[Wednesday 23 March 2011] [05:06:00] &lt;sustrik&gt;        another part of functionality, is pollers</div>
<div class="line">[Wednesday 23 March 2011] [05:06:09] &lt;sustrik&gt;        which allow you to register your fds</div>
<div class="line">[Wednesday 23 March 2011] [05:06:18] &lt;sustrik&gt;        and get events such as pollin and pollout</div>
<div class="line">[Wednesday 23 March 2011] [05:06:24] &lt;pieterh&gt;        so any transport layer has to export FDs</div>
<div class="line">[Wednesday 23 March 2011] [05:06:39] &lt;pieterh&gt;        is that how the pgm transport works?</div>
<div class="line">[Wednesday 23 March 2011] [05:06:41] &lt;sustrik&gt;        well, it can run a thread of it&#8217;s own</div>
<div class="line">[Wednesday 23 March 2011] [05:06:48] &lt;sustrik&gt;        and ignore the I/O threads</div>
<div class="line">[Wednesday 23 March 2011] [05:06:55] &lt;pieterh&gt;        that&#8217;s a good start IMO</div>
<div class="line">[Wednesday 23 March 2011] [05:06:55] &lt;sustrik&gt;        = standard pollers</div>
<div class="line">[Wednesday 23 March 2011] [05:07:35] &lt;pieterh&gt;        how about... a transport as a bridge?</div>
<div class="line">[Wednesday 23 March 2011] [05:07:40] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [05:07:43] &lt;pieterh&gt;        hehe</div>
<div class="line">[Wednesday 23 March 2011] [05:07:53] &lt;pieterh&gt;        ok, this is crazy, but...</div>
<div class="line">[Wednesday 23 March 2011] [05:08:03] &lt;pieterh&gt;        transport X runs as its own thread, OK?</div>
<div class="line">[Wednesday 23 March 2011] [05:08:09] &lt;pieterh&gt;        it communicates purely over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:08:22] &lt;pieterh&gt;        define an inproc API back to 0MQ core</div>
<div class="line">[Wednesday 23 March 2011] [05:08:32] &lt;pieterh&gt;        <em>any</em> thread can register, use it, become a transport</div>
<div class="line">[Wednesday 23 March 2011] [05:09:06] &lt;sustrik&gt;        can you be more specific?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:31] &lt;pieterh&gt;        I&#8217;ve not had coffee yet, I know close to nothing about the 0MQ internals, and you want more details?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:35] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [05:09:52] &lt;sustrik&gt;        i don&#8217;t understand what you meant, that&#8217;s all</div>
<div class="line">[Wednesday 23 March 2011] [05:09:55] &lt;ianbarber&gt;      is that better than just writing a 0MQ bridge in &#8216;userland&#8217;?</div>
<div class="line">[Wednesday 23 March 2011] [05:09:56] &lt;ianbarber&gt;      (not sure why i added scare quotes there :))</div>
<div class="line">[Wednesday 23 March 2011] [05:10:10] &lt;pieterh&gt;        ianbarber: it&#8217;s exactly the same except it can be hidden as a transport</div>
<div class="line">[Wednesday 23 March 2011] [05:10:20] &lt;pieterh&gt;        i.e. you can plug in and plug out without changing code</div>
<div class="line">[Wednesday 23 March 2011] [05:10:33] &lt;pieterh&gt;        whereas if it&#8217;s in userland, its architecturally significant</div>
<div class="line">[Wednesday 23 March 2011] [05:10:43] &lt;pieterh&gt;        it&#8217;s FUSE by analogy</div>
<div class="line">[Wednesday 23 March 2011] [05:10:57] &lt;ianbarber&gt;      maybe have that functionality as a device or similar</div>
<div class="line">[Wednesday 23 March 2011] [05:11:00] &lt;pieterh&gt;        sustrik: specifics...</div>
<div class="line">[Wednesday 23 March 2011] [05:11:09] &lt;pieterh&gt;        a transport thread has to register, using some name</div>
<div class="line">[Wednesday 23 March 2011] [05:11:21] &lt;pieterh&gt;        that name becomes available to applications for binding and connecting</div>
<div class="line">[Wednesday 23 March 2011] [05:11:28] &lt;sustrik&gt;        that&#8217;s inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:11:32] &lt;pieterh&gt;        hang on</div>
<div class="line">[Wednesday 23 March 2011] [05:11:54] &lt;pieterh&gt;        the transport thread then accepts a set of control messages over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:11:57] &lt;pieterh&gt;        - bind to endpoint</div>
<div class="line">[Wednesday 23 March 2011] [05:12:00] &lt;pieterh&gt;        - connect to endpoint</div>
<div class="line">[Wednesday 23 March 2011] [05:12:06] &lt;pieterh&gt;        - send message</div>
<div class="line">[Wednesday 23 March 2011] [05:12:09] &lt;pieterh&gt;        - ?</div>
<div class="line">[Wednesday 23 March 2011] [05:12:26] &lt;pieterh&gt;        it returns events asynchronously</div>
<div class="line">[Wednesday 23 March 2011] [05:12:41] &lt;pieterh&gt;        obviously there has to be a peer inside 0MQ able to manage these threads and events</div>
<div class="line">[Wednesday 23 March 2011] [05:12:52] &lt;pieterh&gt;        so it&#8217;s a virtualized transport</div>
<div class="line">[Wednesday 23 March 2011] [05:13:12] &lt;pieterh&gt;        now, I can write an SSL transport really simply</div>
<div class="line">[Wednesday 23 March 2011] [05:13:22] &lt;pieterh&gt;        or a transport that logs everything</div>
<div class="line">[Wednesday 23 March 2011] [05:13:35] &lt;sustrik&gt;        looks like an obvious case for layering on top of 0mq</div>
<div class="line">[Wednesday 23 March 2011] [05:13:48] &lt;pieterh&gt;        of course you can layer it on top but that&#8217;s missing the point</div>
<div class="line">[Wednesday 23 March 2011] [05:13:53] &lt;sustrik&gt;        basically, 0mq is used as a transport between the &#8220;transport&#8221; and the user</div>
<div class="line">[Wednesday 23 March 2011] [05:14:07] &lt;pieterh&gt;        if you layer it at the bottom you get different effects</div>
<div class="line">[Wednesday 23 March 2011] [05:14:13] &lt;pieterh&gt;        again, please understand FUSE</div>
<div class="line">[Wednesday 23 March 2011] [05:14:25] &lt;pieterh&gt;        I can implement a file system in user space</div>
<div class="line">[Wednesday 23 March 2011] [05:14:37] &lt;pieterh&gt;        all my tools work on that file system, since it&#8217;s just a virtualized transport layer</div>
<div class="line">[Wednesday 23 March 2011] [05:15:02] &lt;pieterh&gt;        in 0MQ jargon, my devices, brokers, etc. would automatically work over any virtualized transport</div>
<div class="line">[Wednesday 23 March 2011] [05:15:10] &lt;sustrik&gt;        ack, what&#8217;s needed is an interface from kernel back to user space</div>
<div class="line">[Wednesday 23 March 2011] [05:15:16] &lt;pieterh&gt;        it&#8217;s much, much, much cleaner than implementing the transport on top of 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [05:15:19] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [05:15:28] &lt;sustrik&gt;        but we already have that :)</div>
<div class="line">[Wednesday 23 March 2011] [05:15:35] &lt;sustrik&gt;        it&#8217;s inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:15:47] &lt;pieterh&gt;        that&#8217;s the transport for the interface, it&#8217;s not the interface</div>
<div class="line">[Wednesday 23 March 2011] [05:16:20] &lt;pieterh&gt;        what I want is to inject user space code inside the 0MQ API, not on top of it</div>
<div class="line">[Wednesday 23 March 2011] [05:16:43] &lt;pieterh&gt;        but instead of going and modifying core and sending you a patch</div>
<div class="line">[Wednesday 23 March 2011] [05:16:44] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [05:16:51] &lt;pieterh&gt;        I want to write a thread that talks to your code, over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:16:56] &lt;sustrik&gt;        have a look at 0mq internals and find a way to do that</div>
<div class="line">[Wednesday 23 March 2011] [05:17:20] &lt;pieterh&gt;        i&#8217;ve just made it really easy for you to offer dozens of contributors a virtualized transport layer</div>
<div class="line">[Wednesday 23 March 2011] [05:17:29] &lt;sustrik&gt;        ack</div>
<div class="line">[Wednesday 23 March 2011] [05:17:48] &lt;pieterh&gt;        you know full well I&#8217;m not competent to look at the 0MQ internals and find a way to actually implement this</div>
<div class="line">[Wednesday 23 March 2011] [05:18:06] &lt;pieterh&gt;        if you want people to invest in new transport layers, do <em>not</em> tell them to go read the code</div>
<div class="line">[Wednesday 23 March 2011] [05:18:08] &lt;pieterh&gt;        it will not work</div>
<div class="line">[Wednesday 23 March 2011] [05:18:19] &lt;pieterh&gt;        it&#8217;s basically saying &#8220;piss off&#8221; with a smile</div>
<div class="line">[Wednesday 23 March 2011] [05:18:19] &lt;sustrik&gt;        the point is that&#8217;s it not obvious how to do it</div>
<div class="line">[Wednesday 23 March 2011] [05:18:30] &lt;sustrik&gt;        given that internally, 0mq uses very different model</div>
<div class="line">[Wednesday 23 March 2011] [05:18:38] &lt;sustrik&gt;        it&#8217;s completely event driven</div>
<div class="line">[Wednesday 23 March 2011] [05:18:51] &lt;sustrik&gt;        so there&#8217;s no such thing as say &#8220;connect&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [05:18:51] &lt;pieterh&gt;        you can clearly make event driven APIs over inproc</div>
<div class="line">[Wednesday 23 March 2011] [05:19:28] &lt;sustrik&gt;        it&#8217;s different kind of events, those that are passed via mailbox_t</div>
<div class="line">[Wednesday 23 March 2011] [05:19:33] &lt;pieterh&gt;        how many user contributed transports since 0MQ went fully open source?</div>
<div class="line">[Wednesday 23 March 2011] [05:19:34] &lt;sustrik&gt;        see command.hpp</div>
<div class="line">[Wednesday 23 March 2011] [05:19:41] &lt;sustrik&gt;        none</div>
<div class="line">[Wednesday 23 March 2011] [05:19:53] &lt;sustrik&gt;        you don&#8217;t have to convince me</div>
<div class="line">[Wednesday 23 March 2011] [05:19:56] &lt;pieterh&gt;        and this is the reason IMO, no abstract interface</div>
<div class="line">[Wednesday 23 March 2011] [05:20:02] &lt;sustrik&gt;        i am all for standardised transport API</div>
<div class="line">[Wednesday 23 March 2011] [05:20:10] &lt;sustrik&gt;        i just don&#8217;t know how to implement it</div>
<div class="line">[Wednesday 23 March 2011] [05:20:13] &lt;sustrik&gt;        that&#8217;s it</div>
<div class="line">[Wednesday 23 March 2011] [05:20:27] &lt;pieterh&gt;        well, forget efficiency as such, this is about extensibility, not performance</div>
<div class="line">[Wednesday 23 March 2011] [05:20:41] &lt;pieterh&gt;        what are the events passed via mailboxes?</div>
<div class="line">[Wednesday 23 March 2011] [05:21:03] &lt;sustrik&gt;        internal events, such as &#8220;there&#8217;s a new pipe you should start dealing with&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [05:21:30] &lt;pieterh&gt;        so how about pipes extended across inproc?</div>
<div class="line">[Wednesday 23 March 2011] [05:21:35] &lt;pieterh&gt;        logically, I mean</div>
<div class="line">[Wednesday 23 March 2011] [05:21:56] &lt;sustrik&gt;        the concept is that the pipe itself is agnostic about who&#8217;s on the either end of it</div>
<div class="line">[Wednesday 23 March 2011] [05:22:03] &lt;pieterh&gt;        we already have this virtualized interface internally, with mailboxes and pipes</div>
<div class="line">[Wednesday 23 March 2011] [05:22:11] &lt;sustrik&gt;        with inproc, there&#8217;s a socket on both ends</div>
<div class="line">[Wednesday 23 March 2011] [05:22:25] &lt;sustrik&gt;        with tcp, there&#8217;s a socket on one end and a session on the other</div>
<div class="line">[Wednesday 23 March 2011] [05:22:27] &lt;pieterh&gt;        yes, but you can hide that, obviously</div>
<div class="line">[Wednesday 23 March 2011] [05:22:37] &lt;sustrik&gt;        propose a way</div>
<div class="line">[Wednesday 23 March 2011] [05:22:42] &lt;sustrik&gt;        it&#8217;s not easy</div>
<div class="line">[Wednesday 23 March 2011] [05:22:51] &lt;sustrik&gt;        i&#8217;ve spent a lot of time thinking about it</div>
<div class="line">[Wednesday 23 March 2011] [05:22:59] &lt;sustrik&gt;        but haven&#8217;t get to anything sensible so far</div>
<div class="line">[Wednesday 23 March 2011] [05:23:13] &lt;pieterh&gt;        well, thinking by yourself is not often a very productive process...</div>
<div class="line">[Wednesday 23 March 2011] [05:23:27] &lt;sustrik&gt;        sure, feel free to help</div>
<div class="line">[Wednesday 23 March 2011] [05:23:33] &lt;pieterh&gt;        this is what I&#8217;m doing now</div>
<div class="line">[Wednesday 23 March 2011] [05:23:42] &lt;pieterh&gt;        or trying to, anyhow</div>
<div class="line">[Wednesday 23 March 2011] [05:23:51] &lt;sustrik&gt;        well, have a look at the internals first</div>
<div class="line">[Wednesday 23 March 2011] [05:23:58] &lt;sustrik&gt;        so that you have an idea of how it works</div>
<div class="line">[Wednesday 23 March 2011] [05:24:04] &lt;pieterh&gt;        is this documented somewhere?</div>
<div class="line">[Wednesday 23 March 2011] [05:24:12] &lt;sustrik&gt;        source code</div>
<div class="line">[Wednesday 23 March 2011] [05:24:22] &lt;pieterh&gt;        asking me to read C++ code simply to discuss architecture is a waste of my time, sorry</div>
<div class="line">[Wednesday 23 March 2011] [05:24:37] &lt;sustrik&gt;        ok, let it be then</div>
<div class="line">[Wednesday 23 March 2011] [05:24:51]   * sustrik is doing accounting today</div>
<div class="line">[Wednesday 23 March 2011] [05:25:26] &lt;ianbarber&gt;      one thing that maybe is worth considering for connectors is just sticking the files into a different directory</div>
<div class="line">[Wednesday 23 March 2011] [05:25:53] &lt;pieterh&gt;        ianbarber: what connectors, and what files? I&#8217;m confused</div>
<div class="line">[Wednesday 23 March 2011] [05:26:00] &lt;ianbarber&gt;      for the transports, sorry</div>
<div class="line">[Wednesday 23 March 2011] [05:26:14] &lt;pieterh&gt;        actually I&#8217;d like to not even use inproc but IPC</div>
<div class="line">[Wednesday 23 March 2011] [05:26:19] &lt;pieterh&gt;        so a transport can be a separate process</div>
<div class="line">[Wednesday 23 March 2011] [05:26:33] &lt;ianbarber&gt;      so like, once i realised there would be a connector and a socket and listener, it was easier to browse around</div>
<div class="line">[Wednesday 23 March 2011] [05:26:54] &lt;pieterh&gt;        ah, you mean organization of the 0MQ source code?</div>
<div class="line">[Wednesday 23 March 2011] [05:26:57] &lt;ianbarber&gt;      and in terms of people building new ones, the best reference is usually other examples</div>
<div class="line">[Wednesday 23 March 2011] [05:26:57] &lt;ianbarber&gt;      yeah</div>
<div class="line">[Wednesday 23 March 2011] [05:27:08] &lt;pieterh&gt;        yeah, nice</div>
<div class="line">[Wednesday 23 March 2011] [05:27:20] &lt;pieterh&gt;        so all the code for one transport is actually identifiable in one place</div>
<div class="line">[Wednesday 23 March 2011] [05:27:24] &lt;ianbarber&gt;      yeah</div>
<div class="line">[Wednesday 23 March 2011] [05:27:29] &lt;pieterh&gt;        excellent suggestion</div>
<div class="line">[Wednesday 23 March 2011] [05:27:32] &lt;pieterh&gt;        send a patch to the list</div>
<div class="line">[Wednesday 23 March 2011] [05:27:44] &lt;pieterh&gt;        :-) sorry, just being facetious</div>
<div class="line">[Wednesday 23 March 2011] [05:28:03]   * pieterh really needs a coffee</div>
<div class="line">[Wednesday 23 March 2011] [05:28:26] &lt;pieterh&gt;        sustrik: if this all ends up with me learning C++ I&#8217;m seriously never going to forgive you</div>
<div class="line">[Wednesday 23 March 2011] [05:28:38] &lt;sustrik&gt;        :)</div>
<div class="line">[Wednesday 23 March 2011] [05:29:00] &lt;sustrik&gt;        here&#8217;s a beginning of a design document:</div>
<div class="line">[Wednesday 23 March 2011] [05:29:00] &lt;sustrik&gt;        <a class="reference external" href="http://www.zeromq.org/whitepapers:architecture">http://www.zeromq.org/whitepapers:architecture</a></div>
<div class="line">[Wednesday 23 March 2011] [05:29:10] &lt;sustrik&gt;        i never had time to finish it though</div>
<div class="line">[Wednesday 23 March 2011] [05:30:07] &lt;ianbarber&gt;      oh, this looks like a good start!</div>
<div class="line">[Wednesday 23 March 2011] [05:30:42] &lt;ianbarber&gt;      already helpful</div>
<div class="line">[Wednesday 23 March 2011] [05:30:53] &lt;sustrik&gt;        if only it was at least 5x longer :|</div>
<div class="line">[Wednesday 23 March 2011] [05:31:18] &lt;pieterh&gt;        it&#8217;s a good start, I just clicked the &#8216;rating +1&#8217; button</div>
<div class="line">[Wednesday 23 March 2011] [05:31:56] &lt;pieterh&gt;        I think ianbarber&#8217;s idea of moving submodules to their own directory is neat, though just using naming conventions is often simpler</div>
<div class="line">[Wednesday 23 March 2011] [05:32:04] &lt;pieterh&gt;        i.e. zmq_tcp_whatever</div>
<div class="line">[Wednesday 23 March 2011] [05:32:19] &lt;sustrik&gt;        the problem is that&#8217;s it&#8217;s a mess atm</div>
<div class="line">[Wednesday 23 March 2011] [05:32:33] &lt;sustrik&gt;        there are pieces of tcp even in other files</div>
<div class="line">[Wednesday 23 March 2011] [05:32:41] &lt;pieterh&gt;        yes, this is often how it happens</div>
<div class="line">[Wednesday 23 March 2011] [05:32:49] &lt;sustrik&gt;        the consequence of not having a clean interface</div>
<div class="line">[Wednesday 23 March 2011] [05:33:01] &lt;pieterh&gt;        part of the benefit of making a pluggable architecture is you&#8217;re forced to make it clean</div>
<div class="line">[Wednesday 23 March 2011] [05:33:11] &lt;sustrik&gt;        full-heartedly agreed</div>
<div class="line">[Wednesday 23 March 2011] [05:33:25] &lt;pieterh&gt;        sigh, I regret not being able to help, really</div>
<div class="line">[Wednesday 23 March 2011] [05:36:20] &lt;sustrik&gt;        np, it&#8217;ll get sorted out eventually</div>
<div class="line">[Wednesday 23 March 2011] [05:37:50] &lt;sustrik&gt;        pieterh: an idea, maybe you can move the rationale for zmq_msg_t design into the arch document?</div>
<div class="line">[Wednesday 23 March 2011] [05:37:59] &lt;sustrik&gt;        it kind of belongs there</div>
<div class="line">[Wednesday 23 March 2011] [05:38:11] &lt;pieterh&gt;        yes, that&#8217;s where it belongs, indeed... let me do that</div>
<div class="line">[Wednesday 23 March 2011] [05:38:23] &lt;pieterh&gt;        I will also link to the arch document from the main wiki page</div>
<div class="line">[Wednesday 23 March 2011] [05:38:29] &lt;pieterh&gt;        we need more focus on the core codebase IMO</div>
<div class="line">[Wednesday 23 March 2011] [05:39:33] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [05:46:02] &lt;pieterh&gt;        ok, all done</div>
<div class="line">[Wednesday 23 March 2011] [05:46:13] &lt;pieterh&gt;        I also renamed the GSoC page to be reusable</div>
<div class="line">[Wednesday 23 March 2011] [05:50:06] &lt;Guthur&gt; is the labs page the only source for examples of people using 0MQ in anger?</div>
<div class="line">[Wednesday 23 March 2011] [06:04:17] &lt;pieterh&gt;        Guthur: yes, that and Google</div>
<div class="line">[Wednesday 23 March 2011] [06:08:55] &lt;pieterh&gt;        sustrik: random idea, sorry to interrupt your accounting...</div>
<div class="line">[Wednesday 23 March 2011] [06:09:25] &lt;valmac&gt; no body</div>
<div class="line">[Wednesday 23 March 2011] [06:09:39] &lt;valmac&gt; wow! how many people</div>
<div class="line">[Wednesday 23 March 2011] [06:09:47] &lt;valmac&gt; good day!</div>
<div class="line">[Wednesday 23 March 2011] [06:11:45] &lt;mikko&#8211;&gt;        hi</div>
<div class="line">[Wednesday 23 March 2011] [06:12:00] &lt;pieterh&gt;        mikko&#8211;: hello sir</div>
<div class="line">[Wednesday 23 March 2011] [06:20:52] &lt;valmac&gt; poka poka</div>
<div class="line">[Wednesday 23 March 2011] [06:36:28] &lt;arvind&gt; hi guys need a small info regarding ZMQ_PULL queue.. anyone around</div>
<div class="line">[Wednesday 23 March 2011] [06:38:50] &lt;pieterh&gt;        arvind: shoot...</div>
<div class="line">[Wednesday 23 March 2011] [06:48:30] &lt;arvind&gt; hi</div>
<div class="line">[Wednesday 23 March 2011] [06:48:34] &lt;arvind&gt; thanks</div>
<div class="line">[Wednesday 23 March 2011] [06:48:52] &lt;arvind&gt; well i have a PUSH PULL queue working great using IPCmode..</div>
<div class="line">[Wednesday 23 March 2011] [06:49:01] &lt;pieterh&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [06:49:40] &lt;arvind&gt; but when i have set up my push pull queue, the PUSH side has no ZMQ_HWM or SWAP setup</div>
<div class="line">[Wednesday 23 March 2011] [06:49:47] &lt;arvind&gt; and so is the PULL side..</div>
<div class="line">[Wednesday 23 March 2011] [06:50:25] &lt;pieterh&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [06:50:33] &lt;pieterh&gt;        what is your question?</div>
<div class="line">[Wednesday 23 March 2011] [06:50:38] &lt;arvind&gt; noticed that when the PULL side gets a bit slower then PUSH side, i don&#8217;t lose any messages, but the MEMORY size on the PULL side process starts increasing</div>
<div class="line">[Wednesday 23 March 2011] [06:50:47] &lt;pieterh&gt;        yes, this is normal</div>
<div class="line">[Wednesday 23 March 2011] [06:51:12] &lt;arvind&gt; and the issue is the memory does not seem to come down even after the PULL side process picks up everything..</div>
<div class="line">[Wednesday 23 March 2011] [06:51:35] &lt;pieterh&gt;        that is a side-effect of the operating system, probably</div>
<div class="line">[Wednesday 23 March 2011] [06:51:49] &lt;arvind&gt; as in ?? sorry did not get that..</div>
<div class="line">[Wednesday 23 March 2011] [06:52:02] &lt;arvind&gt; i am using freebsd by the way..</div>
<div class="line">[Wednesday 23 March 2011] [06:52:14] &lt;pieterh&gt;        either it does not reduce VM size of process, or it does not return smaller allocations to heap</div>
<div class="line">[Wednesday 23 March 2011] [06:52:59] &lt;pieterh&gt;        alternatively</div>
<div class="line">[Wednesday 23 March 2011] [06:53:10] &lt;pieterh&gt;        you are not properly closing messages in your PULL code</div>
<div class="line">[Wednesday 23 March 2011] [06:53:17] &lt;pieterh&gt;        you may have a simple leak</div>
<div class="line">[Wednesday 23 March 2011] [06:53:20] &lt;arvind&gt; oh ok...  actually its the top command output that shows this increase in MEM</div>
<div class="line">[Wednesday 23 March 2011] [06:53:34] &lt;arvind&gt; well i thought so, and verified it ..</div>
<div class="line">[Wednesday 23 March 2011] [06:53:37] &lt;pieterh&gt;        it is simple to test, run under valgrind</div>
<div class="line">[Wednesday 23 March 2011] [06:54:01] &lt;pieterh&gt;        if that reports all memory properly freed, it is an artifact of FreeBSD and/or runtime memory management</div>
<div class="line">[Wednesday 23 March 2011] [06:54:38] &lt;arvind&gt; ok.. so just wanted to confirm that i had missed any flag for this kind of behavior..</div>
<div class="line">[Wednesday 23 March 2011] [06:54:58] &lt;arvind&gt; sorry &#8220;NOT MISSED&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [06:55:14] &lt;pieterh&gt;        nothing special, this seems to happen... there is some work going on to try to make this work better</div>
<div class="line">[Wednesday 23 March 2011] [06:55:41] &lt;arvind&gt; great and last question...</div>
<div class="line">[Wednesday 23 March 2011] [06:56:00] &lt;arvind&gt; should i set the HWM and SWAP config on the PULL side socket too ??</div>
<div class="line">[Wednesday 23 March 2011] [06:56:26] &lt;pieterh&gt;        if you use top, note that VIRT and RES are very different</div>
<div class="line">[Wednesday 23 March 2011] [06:57:05] &lt;pieterh&gt;        you can set HWM and SWAP on the PULL socket but I&#8217;ve not actually tried that to see what happens</div>
<div class="line">[Wednesday 23 March 2011] [06:57:07] &lt;arvind&gt; yes both VIRT and RES both seem to increase and stay there even when there are no more writes into the queue and everything in the queue is read</div>
<div class="line">[Wednesday 23 March 2011] [06:58:03] &lt;pieterh&gt;        it doesn&#8217;t look like a happy process, but I&#8217;ve no more info on the causes than &#8220;this happens, it&#8217;s not a leak&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [06:58:39] &lt;arvind&gt; ok</div>
<div class="line">[Wednesday 23 March 2011] [06:58:52] &lt;arvind&gt; hey thanks for sharing the info..</div>
<div class="line">[Wednesday 23 March 2011] [06:59:06] &lt;arvind&gt;  will debug more and maybe update the behavior on the mailing list too..</div>
<div class="line">[Wednesday 23 March 2011] [06:59:29] &lt;pieterh&gt;        anything you can dig up would be useful</div>
<div class="line">[Wednesday 23 March 2011] [06:59:38] &lt;arvind&gt; sure thanks</div>
<div class="line">[Wednesday 23 March 2011] [07:00:43] &lt;onceuponatime&gt;  Hi everybody</div>
<div class="line">[Wednesday 23 March 2011] [07:01:00] &lt;onceuponatime&gt;  I just downloaded the latest version of zeromq</div>
<div class="line">[Wednesday 23 March 2011] [07:01:10] &lt;onceuponatime&gt;  and installed the php binding</div>
<div class="line">[Wednesday 23 March 2011] [07:01:32] &lt;onceuponatime&gt;  and when loading the zmq extension the following error is logged:</div>
<div class="line">[Wednesday 23 March 2011] [07:01:35] &lt;onceuponatime&gt;  PHP Warning:  PHP Startup: Unable to load dynamic library &#8216;/Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so&#8217; - dlopen(/Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so, 9): no suitable image found.  Did find:</div>
<div class="line">[Wednesday 23 March 2011] [07:01:35] &lt;onceuponatime&gt;          /Applications/MAMP/bin/php5.3/lib/php/extensions/no-debug-non-zts-20090626/zmq.so: mach-o, but wrong architecture in Unknown on line 0</div>
<div class="line">[Wednesday 23 March 2011] [07:01:48] &lt;onceuponatime&gt;  does anyone have any idea what is going on?</div>
<div class="line">[Wednesday 23 March 2011] [07:02:18] &lt;onceuponatime&gt;  Im doing it in Mac OS X</div>
<div class="line">[Wednesday 23 March 2011] [07:03:01] &lt;pieterh&gt;        not an expert in PHP on OS X but the message seems self-explanatory</div>
<div class="line">[Wednesday 23 March 2011] [07:03:33] &lt;onceuponatime&gt;  so it is not supported for mac os x 64 bit</div>
<div class="line">[Wednesday 23 March 2011] [07:03:35] &lt;pieterh&gt;        you&#8217;re trying, it seems, to use a zmq.so built for a different architecture</div>
<div class="line">[Wednesday 23 March 2011] [07:03:58] &lt;onceuponatime&gt;  ?</div>
<div class="line">[Wednesday 23 March 2011] [07:04:01] &lt;pieterh&gt;        I&#8217;d suggest rebuilding the PHP binding on your box</div>
<div class="line">[Wednesday 23 March 2011] [07:04:16] &lt;onceuponatime&gt;  I built it on my box</div>
<div class="line">[Wednesday 23 March 2011] [07:05:00] &lt;pieterh&gt;        hmm</div>
<div class="line">[Wednesday 23 March 2011] [07:05:17] &lt;pieterh&gt;        ianbarber: ever used 0MQ/PHP on OS X?</div>
<div class="line">[Wednesday 23 March 2011] [07:05:41] &lt;so_solid_moo&gt;   it probably just guessed the wrong arch when it build</div>
<div class="line">[Wednesday 23 March 2011] [07:06:09] &lt;so_solid_moo&gt;   I would use &#8216;file&#8217; to check other php extensions and see what that is compiled as</div>
<div class="line">[Wednesday 23 March 2011] [07:09:43] &lt;onceuponatime&gt;  ok thanks, I just had a wrong reference to the pecl binnary and it took the wrong config file when installing the extension</div>
<div class="line">[Wednesday 23 March 2011] [07:10:02] &lt;pieterh&gt;        onceuponatime: would you like to add this to the tips page?</div>
<div class="line">[Wednesday 23 March 2011] [07:10:07] &lt;pieterh&gt;        <a class="reference external" href="http://zero.mq/tips">http://zero.mq/tips</a></div>
<div class="line">[Wednesday 23 March 2011] [07:11:32] &lt;onceuponatime&gt;  well, it is just use the pear &amp;&amp; pecl files within MAMP dir</div>
<div class="line">[Wednesday 23 March 2011] [07:12:13] &lt;pieterh&gt;        perhaps add this to the PHP binding page then</div>
<div class="line">[Wednesday 23 March 2011] [07:13:15] &lt;mikko&#8211;&gt;        CWW scheduled for 1 April 2011: yes</div>
<div class="line">[Wednesday 23 March 2011] [07:13:22] &lt;mikko&#8211;&gt;        ermm</div>
<div class="line">[Wednesday 23 March 2011] [07:13:26] &lt;mikko&#8211;&gt;        onceuponatime</div>
<div class="line">[Wednesday 23 March 2011] [07:13:30] &lt;mikko&#8211;&gt;        i got a fix for that</div>
<div class="line">[Wednesday 23 March 2011] [07:13:36] &lt;mikko&#8211;&gt;        steve-o !</div>
<div class="line">[Wednesday 23 March 2011] [07:14:15] &lt;<a href="#id1107"><span class="problematic" id="id1108">Steve-o_</span></a>&gt;       yo</div>
<div class="line">[Wednesday 23 March 2011] [07:14:30] &lt;onceuponatime&gt;  what fix?</div>
<div class="line">[Wednesday 23 March 2011] [07:14:30] &lt;mikko&#8211;&gt;        onceuponatime: <a class="reference external" href="https://github.com/mkoppanen/php-zmq/issues/20">https://github.com/mkoppanen/php-zmq/issues/20</a></div>
<div class="line">[Wednesday 23 March 2011] [07:14:40] &lt;mikko&#8211;&gt;        this reported had the same issue</div>
<div class="line">[Wednesday 23 March 2011] [07:15:07] &lt;onceuponatime&gt;  cool, thx mikko&#8211;</div>
<div class="line">[Wednesday 23 March 2011] [07:15:07] &lt;mikko&#8211;&gt;        i boils down that both libzmq and php extension need to built with 32bit or 64 bit</div>
<div class="line">[Wednesday 23 March 2011] [07:15:12] &lt;mikko&#8211;&gt;        what ever matches your apache</div>
<div class="line">[Wednesday 23 March 2011] [07:22:06] &lt;<a href="#id1109"><span class="problematic" id="id1110">Steve-o_</span></a>&gt;       mikko: had me concerned I broke Solaris again there, just checked it&#8217;s fine :P</div>
<div class="line">[Wednesday 23 March 2011] [07:23:27] &lt;sustrik&gt;        re</div>
<div class="line">[Wednesday 23 March 2011] [07:23:47] &lt;pieterh&gt;        sustrik: I&#8217;m making the zapi context wrapper threadsafe</div>
<div class="line">[Wednesday 23 March 2011] [07:23:55] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [07:24:04] &lt;pieterh&gt;        am inspired by your explanation &#8220;MQ&#8217;s concurency model may a bit confusing at first. The reason is that we eat our own dogfood and use message passing to achieve concurrency and internal scalability.&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:24:11] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [07:24:22] &lt;sustrik&gt;        wait a sec, context wrapper?</div>
<div class="line">[Wednesday 23 March 2011] [07:24:27] &lt;pieterh&gt;        haha</div>
<div class="line">[Wednesday 23 March 2011] [07:24:27] &lt;sustrik&gt;        context is thread safe</div>
<div class="line">[Wednesday 23 March 2011] [07:24:37] &lt;sustrik&gt;        no need to add any synchronisation there</div>
<div class="line">[Wednesday 23 March 2011] [07:24:46] &lt;tjgillies&gt;      <a class="reference external" href="http://draw.nostat.us">http://draw.nostat.us</a></div>
<div class="line">[Wednesday 23 March 2011] [07:24:59] &lt;pieterh&gt;        zapi&#8217;s context wrapper does things like automatically close all open sockets, emulate 2.0 zmq_term if you want it, etc.</div>
<div class="line">[Wednesday 23 March 2011] [07:25:10] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [07:26:07] &lt;mikko&#8211;&gt;        <a href="#id1111"><span class="problematic" id="id1112">Steve-o_</span></a>: thanks for the tip on automake thing</div>
<div class="line">[Wednesday 23 March 2011] [07:26:09] &lt;mikko&#8211;&gt;        works like a dream</div>
<div class="line">[Wednesday 23 March 2011] [07:26:10] &lt;pieterh&gt;        so the approach is to start an agent thread that does the real work, and talk to it over inproc</div>
<div class="line">[Wednesday 23 March 2011] [07:26:39] &lt;<a href="#id1113"><span class="problematic" id="id1114">Steve-o_</span></a>&gt;       mikko: I saw, Google can be awesome at times</div>
<div class="line">[Wednesday 23 March 2011] [07:26:57] &lt;mikko&#8211;&gt;        <a href="#id1115"><span class="problematic" id="id1116">Steve-o_</span></a>: i knew that something like that must exist but used the wrong search terms</div>
<div class="line">[Wednesday 23 March 2011] [07:27:11] &lt;mikko&#8211;&gt;        i searched for something like &#8220;prevent automake install in subdirs&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:27:18] &lt;mikko&#8211;&gt;        came up with a lot of irrelevant results</div>
<div class="line">[Wednesday 23 March 2011] [07:30:35] &lt;<a href="#id1117"><span class="problematic" id="id1118">Steve-o_</span></a>&gt;       Your Google-fu is weak master Mikko</div>
<div class="line">[Wednesday 23 March 2011] [07:30:46] &lt;<a href="#id1119"><span class="problematic" id="id1120">Steve-o_</span></a>&gt;       I used &#8220;stop recursive make install&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [07:31:16] &lt;pieterh&gt;        heh, I love IRC</div>
<div class="line">[Wednesday 23 March 2011] [07:31:45] &lt;pieterh&gt;        meanwhile people are still struggling with stuff like this:</div>
<div class="line">[Wednesday 23 March 2011] [07:31:48] &lt;pieterh&gt;        &#8220;Reminder:  Due to the DST clock change in the US, a couple of weeks ago, phone conference will again commence 1 hour earlier for those dialling in from Europe/Asia.&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [08:02:43] &lt;Guthur&gt; pieterh: do you have a phone conference re 0MQ?</div>
<div class="line">[Wednesday 23 March 2011] [08:03:00] &lt;pieterh&gt;        Guthur: no, I get invited to these things, which I try to ignore</div>
<div class="line">[Wednesday 23 March 2011] [08:03:12] &lt;pieterh&gt;        it&#8217;s most definitely not 0MQ... :-)</div>
<div class="line">[Wednesday 23 March 2011] [08:12:09] &lt;mikko&#8211;&gt;        <a href="#id1121"><span class="problematic" id="id1122">Steve-o_</span></a>: yeah, that is true</div>
<div class="line">[Wednesday 23 March 2011] [08:12:31] &lt;mikko&#8211;&gt;        <a href="#id1123"><span class="problematic" id="id1124">Steve-o_</span></a>: anyway, thanks for the work on autoconf stuff. it makes things million times easier on zeromq side</div>
<div class="line">[Wednesday 23 March 2011] [08:15:33] &lt;djc&gt;    I</div>
<div class="line">[Wednesday 23 March 2011] [08:15:42] &lt;djc&gt;    &#8216;m hitting an assert in a Python client</div>
<div class="line">[Wednesday 23 March 2011] [08:15:50] &lt;djc&gt;    I can see where the assert comes from, but not sure why it hits</div>
<div class="line">[Wednesday 23 March 2011] [08:16:05] &lt;djc&gt;    it&#8217;s in 2.0 zeromq, req.cpp:225</div>
<div class="line">[Wednesday 23 March 2011] [08:20:04] &lt;sustrik&gt;        looks like someone is sending junk to the socket</div>
<div class="line">[Wednesday 23 March 2011] [08:20:48] &lt;sustrik&gt;        maybe you are connecting it by an incompatible socket type?</div>
<div class="line">[Wednesday 23 March 2011] [08:24:40] &lt;djc&gt;    mmm, pretty sure I&#8217;m not</div>
<div class="line">[Wednesday 23 March 2011] [08:25:00] &lt;djc&gt;    ah, wait</div>
<div class="line">[Wednesday 23 March 2011] [08:25:04] &lt;pieterh&gt;        djc: can you please post a minimal test case?</div>
<div class="line">[Wednesday 23 March 2011] [08:25:23] &lt;pieterh&gt;        this is explained on <a class="reference external" href="http://www.zeromq.org/intro:ask-for-help">http://www.zeromq.org/intro:ask-for-help</a></div>
<div class="line">[Wednesday 23 March 2011] [08:25:52] &lt;djc&gt;    already fixed it, sorry about that</div>
<div class="line">[Wednesday 23 March 2011] [08:25:58] &lt;djc&gt;    was referencing an endpoint of the wrong type</div>
<div class="line">[Wednesday 23 March 2011] [08:26:17] &lt;djc&gt;    at least now my server segfaults :P</div>
<div class="line">[Wednesday 23 March 2011] [08:26:18] &lt;pieterh&gt;        sustrik: can we not assert when getting junk on a socket?</div>
<div class="line">[Wednesday 23 March 2011] [08:26:36] &lt;pieterh&gt;        or this has already been removed in 2.1 and later?</div>
<div class="line">[Wednesday 23 March 2011] [08:26:41]   * pieterh should read tf code</div>
<div class="line">[Wednesday 23 March 2011] [08:26:47] &lt;djc&gt;    2.1 has very different code, already looked at that</div>
<div class="line">[Wednesday 23 March 2011] [08:26:56] &lt;sustrik&gt;        there were several related fixes in 2.1</div>
<div class="line">[Wednesday 23 March 2011] [08:27:12] &lt;pieterh&gt;        djc: any specific reason you&#8217;re still using 2.0?</div>
<div class="line">[Wednesday 23 March 2011] [08:29:58] &lt;djc&gt;    because it&#8217;s the stable version</div>
<div class="line">[Wednesday 23 March 2011] [08:30:25] &lt;djc&gt;    or, I guess, was, until two days ago :P</div>
<div class="line">[Wednesday 23 March 2011] [08:30:29] &lt;djc&gt;    I&#8217;ll see about upgrading :)</div>
<div class="line">[Wednesday 23 March 2011] [08:30:43] &lt;pieterh&gt;        please do so, 2.1 fixes a <em>lot</em> of issues in 2.0</div>
<div class="line">[Wednesday 23 March 2011] [08:31:01] &lt;djc&gt;    I definitely wanted to, but decided to wait until y&#8217;all would tag it stable</div>
<div class="line">[Wednesday 23 March 2011] [08:31:11] &lt;pieterh&gt;        plus we have no intention of fixing any issues reported in 2.0 unless they are also in 2.1</div>
<div class="line">[Wednesday 23 March 2011] [08:31:48] &lt;pieterh&gt;        ok, thanks for the explanation, was just curious</div>
<div class="line">[Wednesday 23 March 2011] [08:47:28] &lt;Guthur&gt; You know after the &#8216;discussion&#8217; last night on the mailing list I started to think more about the XREP/XREQ, and I was wondering what exactly they were intended for if not for ROUTER/DEALER type patterns</div>
<div class="line">[Wednesday 23 March 2011] [08:48:52] &lt;pieterh&gt;        Guthur: me too, and afaics routing is exactly a core mechanism for returning stuff to sender, i.e. what xrep does</div>
<div class="line">[Wednesday 23 March 2011] [08:50:32] &lt;Guthur&gt; I think it might be a prime example that if you expose something like this, people will use and abuse it</div>
<div class="line">[Wednesday 23 March 2011] [08:50:49] &lt;pieterh&gt;        that was an original argument for not documenting xrep/xreq</div>
<div class="line">[Wednesday 23 March 2011] [08:50:57] &lt;pieterh&gt;        but I don&#8217;t see how to make real code without this</div>
<div class="line">[Wednesday 23 March 2011] [08:51:23] &lt;pieterh&gt;        e.g. I&#8217;m making a request-reply chain right now, between two threads</div>
<div class="line">[Wednesday 23 March 2011] [08:51:36] &lt;pieterh&gt;        if I use req/rep, it has to be lock-step, every request MUST send a reply</div>
<div class="line">[Wednesday 23 March 2011] [08:51:41] &lt;Guthur&gt; well I could possibly see some saying that you need to use a different product for routing</div>
<div class="line">[Wednesday 23 March 2011] [08:51:48] &lt;pieterh&gt;        but using dealer/router I can send requests that don&#8217;t need replies</div>
<div class="line">[Wednesday 23 March 2011] [08:51:57] &lt;Guthur&gt; not that I would necessarily agree just that I can see that arguement</div>
<div class="line">[Wednesday 23 March 2011] [08:52:29] &lt;pieterh&gt;        also I can&#8217;t see how user space divides into cases that want router semantics and those that want xrep semantics</div>
<div class="line">[Wednesday 23 March 2011] [08:52:37] &lt;pieterh&gt;        that is a senseless division, it just isn&#8217;t there</div>
<div class="line">[Wednesday 23 March 2011] [08:52:50] &lt;pieterh&gt;        unless you count 100% and 0% as a division</div>
<div class="line">[Wednesday 23 March 2011] [08:53:07] &lt;Guthur&gt; hehe, I stillhave to keep checking back to the guide to see which is the router and the dealer</div>
<div class="line">[Wednesday 23 March 2011] [08:53:14] &lt;Guthur&gt; I need to write it on my hand or something</div>
<div class="line">[Wednesday 23 March 2011] [08:53:28] &lt;pieterh&gt;        well, the one exception I can see is a simplistic req/rep device, but there are no real use cases for those</div>
<div class="line">[Wednesday 23 March 2011] [08:53:36] &lt;pieterh&gt;        dealer is push+pull, remember that</div>
<div class="line">[Wednesday 23 March 2011] [08:53:45] &lt;pieterh&gt;        it does nothing with envelopes</div>
<div class="line">[Wednesday 23 March 2011] [08:54:04] &lt;sustrik&gt;        the problem is that req/rep is going to evolve</div>
<div class="line">[Wednesday 23 March 2011] [08:54:20] &lt;Guthur&gt; oh that bit is fine I just keep forgetting which XREQ/XREP is the DEALER/ROUTER</div>
<div class="line">[Wednesday 23 March 2011] [08:54:21] &lt;sustrik&gt;        and can undeliberately break the other use case</div>
<div class="line">[Wednesday 23 March 2011] [08:54:22] &lt;pieterh&gt;        sustrik: you need to clarify that, it&#8217;s much too vague as an argument</div>
<div class="line">[Wednesday 23 March 2011] [08:54:23] &lt;sustrik&gt;        cases</div>
<div class="line">[Wednesday 23 March 2011] [08:54:33] &lt;pieterh&gt;        i agree in theory, just can&#8217;t see it in practice</div>
<div class="line">[Wednesday 23 March 2011] [08:54:51] &lt;sustrik&gt;        well, imagine the alternative routing algorithm</div>
<div class="line">[Wednesday 23 March 2011] [08:54:52] &lt;pieterh&gt;        anything could evolve</div>
<div class="line">[Wednesday 23 March 2011] [08:54:59] &lt;sustrik&gt;        i&#8217;ve described it in one email</div>
<div class="line">[Wednesday 23 March 2011] [08:55:12] &lt;pieterh&gt;        you described something that had no design afaics...</div>
<div class="line">[Wednesday 23 March 2011] [08:55:17] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [08:55:24] &lt;Guthur&gt; the other case where REQ/REP falls down is the strict request/reply pattern</div>
<div class="line">[Wednesday 23 March 2011] [08:55:36] &lt;pieterh&gt;        well, sorry, I didn&#8217;t understand the design then</div>
<div class="line">[Wednesday 23 March 2011] [08:55:52] &lt;pieterh&gt;        to get a reply back to a sender, across a chain, you need an address stack</div>
<div class="line">[Wednesday 23 March 2011] [08:55:56] &lt;sustrik&gt;        the idea was to keep routing table in nodes</div>
<div class="line">[Wednesday 23 March 2011] [08:56:04] &lt;sustrik&gt;        instead of in the message itself</div>
<div class="line">[Wednesday 23 March 2011] [08:56:12] &lt;sustrik&gt;        similar to how IP behaves</div>
<div class="line">[Wednesday 23 March 2011] [08:56:13] &lt;pieterh&gt;        and if a node crashes?</div>
<div class="line">[Wednesday 23 March 2011] [08:56:21] &lt;sustrik&gt;        same as now</div>
<div class="line">[Wednesday 23 March 2011] [08:56:24] &lt;sustrik&gt;        the message is dropped</div>
<div class="line">[Wednesday 23 March 2011] [08:56:35] &lt;pieterh&gt;        no, now I can resend via a different route</div>
<div class="line">[Wednesday 23 March 2011] [08:56:35] &lt;sustrik&gt;        anyway, it&#8217;s probably not viable</div>
<div class="line">[Wednesday 23 March 2011] [08:56:48] &lt;pieterh&gt;        if it&#8217;s not viable, please don&#8217;t raise it as a realistic case... :-(</div>
<div class="line">[Wednesday 23 March 2011] [08:56:59] &lt;sustrik&gt;        the point, however, is that it would break req/rep used for something else than req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:06] &lt;pieterh&gt;        it&#8217;s all req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:11] &lt;pieterh&gt;        routing is req/rep</div>
<div class="line">[Wednesday 23 March 2011] [08:57:21] &lt;pieterh&gt;        there are no illegal semantics here</div>
<div class="line">[Wednesday 23 March 2011] [08:57:22] &lt;sustrik&gt;        no point in discussing this</div>
<div class="line">[Wednesday 23 March 2011] [08:57:36] &lt;sustrik&gt;        once it break, we&#8217;ll have to find the solution</div>
<div class="line">[Wednesday 23 March 2011] [08:57:38] &lt;pieterh&gt;        well, you say that when you don&#8217;t want to discuss stuff</div>
<div class="line">[Wednesday 23 March 2011] [08:57:53] &lt;sustrik&gt;        we don&#8217;t have the problem yet</div>
<div class="line">[Wednesday 23 March 2011] [08:57:56] &lt;pieterh&gt;        yet this is very sensitive to people and when you say you might break it all... you&#8217;ll get discussion</div>
<div class="line">[Wednesday 23 March 2011] [08:58:09] &lt;pieterh&gt;        I wrote two entire chapters on req-rep</div>
<div class="line">[Wednesday 23 March 2011] [08:58:12] &lt;sustrik&gt;        well, you are asking for the problem</div>
<div class="line">[Wednesday 23 March 2011] [08:58:16] &lt;sustrik&gt;        there&#8217;s none yet</div>
<div class="line">[Wednesday 23 March 2011] [08:58:20] &lt;sustrik&gt;        will be in the future</div>
<div class="line">[Wednesday 23 March 2011] [08:58:33] &lt;Guthur&gt; sustrik: we will face this problem for 3.0 though, correct?</div>
<div class="line">[Wednesday 23 March 2011] [08:58:43] &lt;Guthur&gt; or is it going to be deferred for later</div>
<div class="line">[Wednesday 23 March 2011] [08:58:53] &lt;sustrik&gt;        not immediately</div>
<div class="line">[Wednesday 23 March 2011] [08:58:59] &lt;pieterh&gt;        &#8216;there will be change in the future&#8217; is kind of ... anyhow...</div>
<div class="line">[Wednesday 23 March 2011] [08:59:11]   * pieterh just wants a sane vocabulary</div>
<div class="line">[Wednesday 23 March 2011] [08:59:26] &lt;sustrik&gt;        well, as i said, no immediate problem</div>
<div class="line">[Wednesday 23 March 2011] [08:59:40] &lt;pieterh&gt;        i&#8217;m all open to new routing semantics</div>
<div class="line">[Wednesday 23 March 2011] [08:59:50] &lt;sustrik&gt;        however, separating the routing pattern from req/rep pattern would help to prevent the clash in the future</div>
<div class="line">[Wednesday 23 March 2011] [08:59:52] &lt;pieterh&gt;        but the ones we have, are precious</div>
<div class="line">[Wednesday 23 March 2011] [09:00:04] &lt;pieterh&gt;        sustrik: please, it&#8217;s not separable</div>
<div class="line">[Wednesday 23 March 2011] [09:00:11] &lt;pieterh&gt;        it is part of the same package... sigh</div>
<div class="line">[Wednesday 23 March 2011] [09:00:12] &lt;sustrik&gt;        shrug</div>
<div class="line">[Wednesday 23 March 2011] [09:00:14] &lt;sustrik&gt;        never mind</div>
<div class="line">[Wednesday 23 March 2011] [09:00:28]   * sustrik is back to accounting</div>
<div class="line">[Wednesday 23 March 2011] [09:00:29] &lt;Guthur&gt; hehe, alot of circling going on</div>
<div class="line">[Wednesday 23 March 2011] [09:00:32] &lt;pieterh&gt;        you are suggesting making divisions that won&#8217;t help anyone</div>
<div class="line">[Wednesday 23 March 2011] [09:00:46] &lt;pieterh&gt;        leave it, it works, just let the syntax get cleaner</div>
<div class="line">[Wednesday 23 March 2011] [09:00:47] &lt;Guthur&gt; sorry for stirring it up again</div>
<div class="line">[Wednesday 23 March 2011] [09:00:49] &lt;sustrik&gt;        Guthur: here&#8217;s some background to req/rep design</div>
<div class="line">[Wednesday 23 March 2011] [09:00:57] &lt;sustrik&gt;        see Request/reply chapter</div>
<div class="line">[Wednesday 23 March 2011] [09:01:43] &lt;pieterh&gt;        sustrik: I&#8217;ll make the analogy with AMQP and the desire of architects to &#8220;get it right&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:01:54] &lt;pieterh&gt;        it takes years to collectively learn these patterns properly</div>
<div class="line">[Wednesday 23 March 2011] [09:02:25] &lt;pieterh&gt;        if you arbitrarily put that investment into question, you will get into trouble</div>
<div class="line">[Wednesday 23 March 2011] [09:02:34] &lt;pieterh&gt;        change has to be worth it for users</div>
<div class="line">[Wednesday 23 March 2011] [09:02:45] &lt;Guthur&gt; sustrik: chapter in the manual</div>
<div class="line">[Wednesday 23 March 2011] [09:02:45] &lt;pieterh&gt;        this is the cost of success</div>
<div class="line">[Wednesday 23 March 2011] [09:02:48] &lt;Guthur&gt; ?</div>
<div class="line">[Wednesday 23 March 2011] [09:03:11] &lt;sustrik&gt;        Guthur: <a class="reference external" href="http://www.250bpm.com/hits">http://www.250bpm.com/hits</a></div>
<div class="line">[Wednesday 23 March 2011] [09:05:41] &lt;pieterh&gt;        sustrik: one difficulty with this discussion is you are thinking 10-50 years into the future</div>
<div class="line">[Wednesday 23 March 2011] [09:05:52] &lt;sustrik&gt;        someone has to :)</div>
<div class="line">[Wednesday 23 March 2011] [09:05:56] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [09:06:09] &lt;pieterh&gt;        but you see Guthur&#8217;s question, &#8220;will this change affect 3.0?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:06:20] &lt;pieterh&gt;        the timescales here, in this community, are usually weeks or months</div>
<div class="line">[Wednesday 23 March 2011] [09:06:27] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [09:07:04] &lt;pieterh&gt;        goodo, we&#8217;ll embrace this tension, it&#8217;s healthy</div>
<div class="line">[Wednesday 23 March 2011] [09:07:11] &lt;sustrik&gt;        i think so</div>
<div class="line">[Wednesday 23 March 2011] [09:07:18] &lt;sustrik&gt;        more amusing as well</div>
<div class="line">[Wednesday 23 March 2011] [09:07:23] &lt;pieterh&gt;        just don&#8217;t go do a JOH on us...</div>
<div class="line">[Wednesday 23 March 2011] [09:07:33] &lt;sustrik&gt;        not my intention</div>
<div class="line">[Wednesday 23 March 2011] [09:07:40] &lt;pieterh&gt;        yeah, forgive my paranoia</div>
<div class="line">[Wednesday 23 March 2011] [09:07:55] &lt;sustrik&gt;        however, i have to have clear pattern separation to get anything sensible in the long term</div>
<div class="line">[Wednesday 23 March 2011] [09:08:08] &lt;sustrik&gt;        btw, i&#8217;ve recalled you &#8220;content classes&#8221; in AMQP</div>
<div class="line">[Wednesday 23 March 2011] [09:08:09] &lt;pieterh&gt;        I think stretching 0MQ across these scales is perhaps the most interesting problem I&#8217;ve seen in decades</div>
<div class="line">[Wednesday 23 March 2011] [09:08:17] &lt;sustrik&gt;        it&#8217;s basically the same idea</div>
<div class="line">[Wednesday 23 March 2011] [09:08:20] &lt;pieterh&gt;        oh, content classes... lol</div>
<div class="line">[Wednesday 23 March 2011] [09:08:29] &lt;sustrik&gt;        vertical separation of the stack</div>
<div class="line">[Wednesday 23 March 2011] [09:08:36] &lt;pieterh&gt;        shot in the back of the head, thrown into the ditch of ignorance... :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:09:11] &lt;sustrik&gt;        so the idea is that there a vertical segment of the stack called req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:09:23] &lt;sustrik&gt;        which is a dumb 1 request followed by 1 reply thing</div>
<div class="line">[Wednesday 23 March 2011] [09:09:41] &lt;Guthur&gt; what&#8217;s a JOH?</div>
<div class="line">[Wednesday 23 March 2011] [09:09:42] &lt;pieterh&gt;        this stops working real fast, though</div>
<div class="line">[Wednesday 23 March 2011] [09:09:53] &lt;sustrik&gt;        not imo, but that&#8217;s not the point</div>
<div class="line">[Wednesday 23 March 2011] [09:10:05] &lt;pieterh&gt;        Guthur: a JOH is a mythical beast that creates havoc by randomly changing fundamental architecture for no good reason</div>
<div class="line">[Wednesday 23 March 2011] [09:10:07] &lt;sustrik&gt;        the point is that&#8217;s it vertically separated from different patterns</div>
<div class="line">[Wednesday 23 March 2011] [09:10:12] &lt;sustrik&gt;        such as pub/sub</div>
<div class="line">[Wednesday 23 March 2011] [09:10:15] &lt;pieterh&gt;        yes, agreed</div>
<div class="line">[Wednesday 23 March 2011] [09:10:34] &lt;sustrik&gt;        now, given that people are using req/rep to do something that is not strictly speaking req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:10:40] &lt;pieterh&gt;        ah</div>
<div class="line">[Wednesday 23 March 2011] [09:10:48] &lt;pieterh&gt;        but router/dealer are strictly part of req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:10:50] &lt;sustrik&gt;        i am proposing to create a new vertical slot</div>
<div class="line">[Wednesday 23 March 2011] [09:10:58] &lt;pieterh&gt;        this is where you are purely wrong IMO</div>
<div class="line">[Wednesday 23 March 2011] [09:11:18] &lt;sustrik&gt;        can router route two replies to a single request?</div>
<div class="line">[Wednesday 23 March 2011] [09:11:21] &lt;pieterh&gt;        speaking as a user of 0MQ, router/dealer are essentially just async req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:11:25] &lt;sustrik&gt;        if so, it&#8217;s not &#8220;strict&#8221; req/rep</div>
<div class="line">[Wednesday 23 March 2011] [09:11:30] &lt;pieterh&gt;        and async req/rep is the majority pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:11:37] &lt;sustrik&gt;        async is ok</div>
<div class="line">[Wednesday 23 March 2011] [09:11:39] &lt;mikko&#8211;&gt;        pieterh: heads up: there are some things i need to clean up on the build. trying to get patch to you today</div>
<div class="line">[Wednesday 23 March 2011] [09:11:41] &lt;pieterh&gt;        simple lock-step req/rep stops working real fast</div>
<div class="line">[Wednesday 23 March 2011] [09:11:49] &lt;pieterh&gt;        mikko&#8211;: no hurry</div>
<div class="line">[Wednesday 23 March 2011] [09:11:51] &lt;sustrik&gt;        what&#8217;s not ok is breaking 1:1 request/reply relation</div>
<div class="line">[Wednesday 23 March 2011] [09:12:00] &lt;pieterh&gt;        no plans to release 2.1.4 for a few days yet</div>
<div class="line">[Wednesday 23 March 2011] [09:12:20] &lt;sustrik&gt;        anyway, back to accounting, otherwide i&#8217;ll never have it ready</div>
<div class="line">[Wednesday 23 March 2011] [09:12:27] &lt;pieterh&gt;        sustrik: in my email I listed 4-5 cases where sync req/rep just stops working</div>
<div class="line">[Wednesday 23 March 2011] [09:12:34] &lt;pieterh&gt;        very rapidly</div>
<div class="line">[Wednesday 23 March 2011] [09:12:42] &lt;pieterh&gt;        you cannot make real req/rep without router/dealer</div>
<div class="line">[Wednesday 23 March 2011] [09:12:52] &lt;pieterh&gt;        thus these are intrinsically part of that vertical stack</div>
<div class="line">[Wednesday 23 March 2011] [09:13:18] &lt;pieterh&gt;        it&#8217;s like saying the car and the engine are two different products</div>
<div class="line">[Wednesday 23 March 2011] [09:14:10] &lt;sustrik&gt;        does router guarantee that there&#8217;s 1:1 relationship between requests and replies?</div>
<div class="line">[Wednesday 23 March 2011] [09:14:17] &lt;sustrik&gt;        i suppose it does not</div>
<div class="line">[Wednesday 23 March 2011] [09:14:22] &lt;pieterh&gt;        that relationship is not intrinsic to req-rep</div>
<div class="line">[Wednesday 23 March 2011] [09:14:29] &lt;pieterh&gt;        does every email I send get 1 reply?</div>
<div class="line">[Wednesday 23 March 2011] [09:14:29] &lt;sustrik&gt;        it is</div>
<div class="line">[Wednesday 23 March 2011] [09:14:35] &lt;pieterh&gt;        not in the real world</div>
<div class="line">[Wednesday 23 March 2011] [09:14:37] &lt;Guthur&gt; I&#8217;m not sure if router/dealer should be so intrinsically linked to req-rep</div>
<div class="line">[Wednesday 23 March 2011] [09:14:40] &lt;pieterh&gt;        only in some fictional world</div>
<div class="line">[Wednesday 23 March 2011] [09:14:42] &lt;sustrik&gt;        it&#8217;s the only way to allow end-to-end reliability</div>
<div class="line">[Wednesday 23 March 2011] [09:14:49] &lt;sustrik&gt;        the reply works as an ack</div>
<div class="line">[Wednesday 23 March 2011] [09:14:56] &lt;pieterh&gt;        end-to-end reliability is a subcase too</div>
<div class="line">[Wednesday 23 March 2011] [09:15:08] &lt;pieterh&gt;        are you suggesting that&#8217;s the only use case for req-rep?</div>
<div class="line">[Wednesday 23 March 2011] [09:15:20] &lt;pieterh&gt;        what if the ack is lost?</div>
<div class="line">[Wednesday 23 March 2011] [09:15:25] &lt;sustrik&gt;        timeout and resend</div>
<div class="line">[Wednesday 23 March 2011] [09:15:31] &lt;pieterh&gt;        so heartbeating</div>
<div class="line">[Wednesday 23 March 2011] [09:15:39] &lt;sustrik&gt;        kind of</div>
<div class="line">[Wednesday 23 March 2011] [09:15:39] &lt;pieterh&gt;        look, I&#8217;m an expert in this, really</div>
<div class="line">[Wednesday 23 March 2011] [09:15:46] &lt;pieterh&gt;        and you cannot do it with synchronous endpoints</div>
<div class="line">[Wednesday 23 March 2011] [09:15:47] &lt;sustrik&gt;        where reply works as a heartbeat</div>
<div class="line">[Wednesday 23 March 2011] [09:16:05] &lt;pieterh&gt;        you may find other patterns and socket types</div>
<div class="line">[Wednesday 23 March 2011] [09:16:09] &lt;sustrik&gt;        you can, but it has to be done inside 0mq rather than on top of it</div>
<div class="line">[Wednesday 23 March 2011] [09:16:23] &lt;pieterh&gt;        but today, realistic req-rep needs those four socket types</div>
<div class="line">[Wednesday 23 March 2011] [09:16:31] &lt;pieterh&gt;        actually it barely needs req and rep at all</div>
<div class="line">[Wednesday 23 March 2011] [09:16:41] &lt;pieterh&gt;        router/dealer is the real core of request-reply</div>
<div class="line">[Wednesday 23 March 2011] [09:16:42] &lt;sustrik&gt;        yes, because it&#8217;s unfinished</div>
<div class="line">[Wednesday 23 March 2011] [09:17:12] &lt;pieterh&gt;        you speak like an artist sometimes</div>
<div class="line">[Wednesday 23 March 2011] [09:17:46] &lt;sustrik&gt;        well, the resend thing is missing in REQ socket</div>
<div class="line">[Wednesday 23 March 2011] [09:17:51] &lt;pieterh&gt;        the issue here is brains learning patterns, and the cost of that</div>
<div class="line">[Wednesday 23 March 2011] [09:18:00] &lt;pieterh&gt;        it&#8217;s about people, not technicalities</div>
<div class="line">[Wednesday 23 March 2011] [09:18:09] &lt;sustrik&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [09:18:15] &lt;pieterh&gt;        you publish ideas, people invest decades in learning them</div>
<div class="line">[Wednesday 23 March 2011] [09:18:22] &lt;pieterh&gt;        and then you say, &#8220;aha, but it&#8217;s unfinished! &#8220;</div>
<div class="line">[Wednesday 23 March 2011] [09:18:34] &lt;pieterh&gt;        I&#8217;m not a fan</div>
<div class="line">[Wednesday 23 March 2011] [09:18:53] &lt;pieterh&gt;        there is a lot missing in REQ</div>
<div class="line">[Wednesday 23 March 2011] [09:19:02] &lt;Guthur&gt; I&#8217;m confused why REQ/REP keeps getting drawn into it, that socket type does a job and works well, the issue is people also want a socket that provides less restrictive send/recv and control over message routing</div>
<div class="line">[Wednesday 23 March 2011] [09:19:05] &lt;sustrik&gt;        i am just a human being, i cannot finish everything at once</div>
<div class="line">[Wednesday 23 March 2011] [09:19:08] &lt;Guthur&gt; or am I missing something</div>
<div class="line">[Wednesday 23 March 2011] [09:19:20] &lt;pieterh&gt;        sustrik: then don&#8217;t threaten change no-one is asking for...</div>
<div class="line">[Wednesday 23 March 2011] [09:19:45] &lt;pieterh&gt;        if you didn&#8217;t want people to use router/dealer you had to make req/rep actually work in real code</div>
<div class="line">[Wednesday 23 March 2011] [09:20:00] &lt;pieterh&gt;        since they don&#8217;t, people have had no choice except to learn and use router/dealer</div>
<div class="line">[Wednesday 23 March 2011] [09:20:04] &lt;sustrik&gt;        ack</div>
<div class="line">[Wednesday 23 March 2011] [09:20:09] &lt;pieterh&gt;        that is now the state of the art</div>
<div class="line">[Wednesday 23 March 2011] [09:20:34] &lt;pieterh&gt;        I&#8217;d much prefer not having four socket types to learn</div>
<div class="line">[Wednesday 23 March 2011] [09:20:40] &lt;pieterh&gt;        but this is where we are today</div>
<div class="line">[Wednesday 23 March 2011] [09:20:53] &lt;pieterh&gt;        it works, it&#8217;s usable, it&#8217;s actually elegant enough to defend</div>
<div class="line">[Wednesday 23 March 2011] [09:20:54] &lt;sustrik&gt;        the problem is that aside of legitimate uses of xreq/xrep such as building relianility</div>
<div class="line">[Wednesday 23 March 2011] [09:21:01] &lt;sustrik&gt;        people use it in a following way</div>
<div class="line">[Wednesday 23 March 2011] [09:21:07] &lt;sustrik&gt;        i have a XREP socket</div>
<div class="line">[Wednesday 23 March 2011] [09:21:13] &lt;sustrik&gt;        i connect three apps to it</div>
<div class="line">[Wednesday 23 March 2011] [09:21:19] &lt;pieterh&gt;        I don&#8217;t think you actually know how people use it</div>
<div class="line">[Wednesday 23 March 2011] [09:21:24] &lt;sustrik&gt;        i set an identity to each app, say A, B and C</div>
<div class="line">[Wednesday 23 March 2011] [09:21:36] &lt;pieterh&gt;        the terminology  &#8220;legitimate&#8221; is like an artist</div>
<div class="line">[Wednesday 23 March 2011] [09:21:42] &lt;sustrik&gt;        when i want to send message to A, i pushlish A+payload</div>
<div class="line">[Wednesday 23 March 2011] [09:21:46] &lt;pieterh&gt;        there is no illegitimate use, only bad design</div>
<div class="line">[Wednesday 23 March 2011] [09:21:53] &lt;sustrik&gt;        well, it doesn&#8217;t scale</div>
<div class="line">[Wednesday 23 March 2011] [09:22:00] &lt;pieterh&gt;        repeat after me, when users misuse a product, it&#8217;s the designer&#8217;s fault</div>
<div class="line">[Wednesday 23 March 2011] [09:22:02] &lt;pieterh&gt;        always</div>
<div class="line">[Wednesday 23 March 2011] [09:22:09] &lt;sustrik&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [09:22:11] &lt;pieterh&gt;        this is a key tenet of good design</div>
<div class="line">[Wednesday 23 March 2011] [09:22:12] &lt;sustrik&gt;        mea culpa</div>
<div class="line">[Wednesday 23 March 2011] [09:22:26] &lt;sustrik&gt;        i should have left xreq/xrep undocumented</div>
<div class="line">[Wednesday 23 March 2011] [09:22:29] &lt;sustrik&gt;        too late now</div>
<div class="line">[Wednesday 23 March 2011] [09:22:38] &lt;pieterh&gt;        that was not an option, you know it... sigh</div>
<div class="line">[Wednesday 23 March 2011] [09:22:50] &lt;pieterh&gt;        let me explain a simple router use case I am making right now</div>
<div class="line">[Wednesday 23 March 2011] [09:23:09] &lt;Guthur&gt; sustrik: is that routing to specific clients bad in your eyes?</div>
<div class="line">[Wednesday 23 March 2011] [09:23:31] &lt;sustrik&gt;        pieterh: sure</div>
<div class="line">[Wednesday 23 March 2011] [09:23:45] &lt;sustrik&gt;        Gurthur: yes, because it&#8217;s not scalable</div>
<div class="line">[Wednesday 23 March 2011] [09:23:49] &lt;pieterh&gt;        so in fact setting identities is a Bad Thing with some very few exceptions</div>
<div class="line">[Wednesday 23 March 2011] [09:23:57] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [09:24:09] &lt;sustrik&gt;        i should not have introduced them at all</div>
<div class="line">[Wednesday 23 March 2011] [09:24:17] &lt;pieterh&gt;        there are some necessary use cases</div>
<div class="line">[Wednesday 23 March 2011] [09:24:25] &lt;pieterh&gt;        I&#8217;ve found two, actually</div>
<div class="line">[Wednesday 23 March 2011] [09:24:34] &lt;sustrik&gt;        well, they give an impression of &#8220;reliability&#8221; in AMQP sense</div>
<div class="line">[Wednesday 23 March 2011] [09:24:39] &lt;Guthur&gt; sustrik: but surely it&#8217;s essential in some cases unless you use some different layer to expose to clients</div>
<div class="line">[Wednesday 23 March 2011] [09:24:39] &lt;pieterh&gt;        persistent subscribers, and ... hehe... router-to-router routing</div>
<div class="line">[Wednesday 23 March 2011] [09:24:46] &lt;sustrik&gt;        whereas, in reality, 0mq is more like TCP</div>
<div class="line">[Wednesday 23 March 2011] [09:24:53] &lt;sustrik&gt;        transient in nature</div>
<div class="line">[Wednesday 23 March 2011] [09:25:03] &lt;pieterh&gt;        indeed, reliable network buffers is just weird</div>
<div class="line">[Wednesday 23 March 2011] [09:25:04] &lt;sustrik&gt;        the mix of the two is pretty awkward</div>
<div class="line">[Wednesday 23 March 2011] [09:25:06] &lt;pieterh&gt;        I agree</div>
<div class="line">[Wednesday 23 March 2011] [09:25:16] &lt;pieterh&gt;        I&#8217;d vote to kill explicit identities</div>
<div class="line">[Wednesday 23 March 2011] [09:25:25] &lt;pieterh&gt;        except that one use case absolutely needs them, and it&#8217;s safe</div>
<div class="line">[Wednesday 23 March 2011] [09:25:33] &lt;pieterh&gt;        distributed name service, see Ch4</div>
<div class="line">[Wednesday 23 March 2011] [09:25:40] &lt;pieterh&gt;        but this is divergence</div>
<div class="line">[Wednesday 23 March 2011] [09:25:51] &lt;sustrik&gt;        that would be nice</div>
<div class="line">[Wednesday 23 March 2011] [09:26:00] &lt;pieterh&gt;        my current use case is using a thread to isolate an object, the context wrapper in zapi</div>
<div class="line">[Wednesday 23 March 2011] [09:26:00] &lt;sustrik&gt;        the code for identities is a nightmare</div>
<div class="line">[Wednesday 23 March 2011] [09:26:13] &lt;sustrik&gt;        a pile of special cases basically :(</div>
<div class="line">[Wednesday 23 March 2011] [09:26:26] &lt;pieterh&gt;        yes, we can IMO aim to remove that functionality</div>
<div class="line">[Wednesday 23 March 2011] [09:26:35] &lt;pieterh&gt;        especially if we provide layers on top that do the same only better</div>
<div class="line">[Wednesday 23 March 2011] [09:26:42] &lt;pieterh&gt;        e.g. Clone pattern for reliable pub/sub</div>
<div class="line">[Wednesday 23 March 2011] [09:26:53] &lt;pieterh&gt;        which I&#8217;ve made, and which is really easy finally</div>
<div class="line">[Wednesday 23 March 2011] [09:27:05] &lt;pieterh&gt;        so I have threads that send commands to this object thread</div>
<div class="line">[Wednesday 23 March 2011] [09:27:10] &lt;pieterh&gt;        it&#8217;s what you do in 0MQ core, right</div>
<div class="line">[Wednesday 23 March 2011] [09:27:16] &lt;pieterh&gt;        now commands are async</div>
<div class="line">[Wednesday 23 March 2011] [09:27:21] &lt;pieterh&gt;        only one or two have replies</div>
<div class="line">[Wednesday 23 March 2011] [09:27:33] &lt;pieterh&gt;        if I use req/rep, I have to artificially send a reply to each request</div>
<div class="line">[Wednesday 23 March 2011] [09:27:37] &lt;pieterh&gt;        I did that</div>
<div class="line">[Wednesday 23 March 2011] [09:27:40] &lt;pieterh&gt;        it&#8217;s horrid</div>
<div class="line">[Wednesday 23 March 2011] [09:27:59] &lt;pieterh&gt;        using dealer/router I can do it right, reply only when needed</div>
<div class="line">[Wednesday 23 March 2011] [09:28:42] &lt;sustrik&gt;        yes, sure there are use cases for it</div>
<div class="line">[Wednesday 23 March 2011] [09:28:44] &lt;pieterh&gt;        the reply address has to be delivered to my code because the reply can happen later</div>
<div class="line">[Wednesday 23 March 2011] [09:28:52] &lt;pieterh&gt;        it can&#8217;t be &#8216;reply to previous request&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [09:29:04] &lt;sustrik&gt;        the main question imo is what 0mq should provide</div>
<div class="line">[Wednesday 23 March 2011] [09:29:09] &lt;pieterh&gt;        just this</div>
<div class="line">[Wednesday 23 March 2011] [09:29:10] &lt;sustrik&gt;        there are two mindsets:</div>
<div class="line">[Wednesday 23 March 2011] [09:29:14] &lt;pieterh&gt;        what it provides <em>works</em></div>
<div class="line">[Wednesday 23 March 2011] [09:29:18] &lt;sustrik&gt;        1. generic networking</div>
<div class="line">[Wednesday 23 March 2011] [09:29:28] &lt;sustrik&gt;        such as ACE, Asio etc.</div>
<div class="line">[Wednesday 23 March 2011] [09:29:31] &lt;sustrik&gt;        2. scalability</div>
<div class="line">[Wednesday 23 March 2011] [09:29:37] &lt;pieterh&gt;        both, obviously</div>
<div class="line">[Wednesday 23 March 2011] [09:29:43] &lt;pieterh&gt;        that&#8217;s a false dichotomy</div>
<div class="line">[Wednesday 23 March 2011] [09:29:53] &lt;sustrik&gt;        well, the second means restricting unscalable behaviour</div>
<div class="line">[Wednesday 23 March 2011] [09:29:54] &lt;pieterh&gt;        I want scalable generic networking</div>
<div class="line">[Wednesday 23 March 2011] [09:29:59] &lt;sustrik&gt;        no way</div>
<div class="line">[Wednesday 23 March 2011] [09:30:03] &lt;pieterh&gt;        yes, way :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:30:05] &lt;Guthur&gt; hehe, I think that&#8217;s the issue, we all like making connections with 0MQ we want to use it everwhere</div>
<div class="line">[Wednesday 23 March 2011] [09:30:16] &lt;pieterh&gt;        the trick is generic networking at multiple scales</div>
<div class="line">[Wednesday 23 March 2011] [09:30:24] &lt;sustrik&gt;        it does not</div>
<div class="line">[Wednesday 23 March 2011] [09:30:28] &lt;pieterh&gt;        i.e. same semantic for inproc as for clusters</div>
<div class="line">[Wednesday 23 March 2011] [09:30:31] &lt;pieterh&gt;        yes, it does</div>
<div class="line">[Wednesday 23 March 2011] [09:30:32] &lt;sustrik&gt;        see the A, B, C example</div>
<div class="line">[Wednesday 23 March 2011] [09:30:35] &lt;sustrik&gt;        it does not scale</div>
<div class="line">[Wednesday 23 March 2011] [09:30:43] &lt;sustrik&gt;        if there&#8217;s a lot of clients</div>
<div class="line">[Wednesday 23 March 2011] [09:30:45] &lt;pieterh&gt;        ah, I see what you mean</div>
<div class="line">[Wednesday 23 March 2011] [09:30:52] &lt;pieterh&gt;        look, you have this kind of backwards IMO</div>
<div class="line">[Wednesday 23 March 2011] [09:30:56] &lt;sustrik&gt;        you cannot simply interject a device to scale it up</div>
<div class="line">[Wednesday 23 March 2011] [09:31:02] &lt;pieterh&gt;        allow me to explain</div>
<div class="line">[Wednesday 23 March 2011] [09:31:03] &lt;sustrik&gt;        it&#8217;s fixed 1-hop architecture</div>
<div class="line">[Wednesday 23 March 2011] [09:31:11] &lt;pieterh&gt;        hang on :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:31:26] &lt;pieterh&gt;        speaking as a 0MQ user, who knows about scale,...</div>
<div class="line">[Wednesday 23 March 2011] [09:31:47] &lt;pieterh&gt;        I don&#8217;t really expect, or need, my architectures to scale without some redesign</div>
<div class="line">[Wednesday 23 March 2011] [09:31:55] &lt;pieterh&gt;        however I want that redesign to be cheap</div>
<div class="line">[Wednesday 23 March 2011] [09:32:10] &lt;pieterh&gt;        and I really, really want one set of semantics at all scales</div>
<div class="line">[Wednesday 23 March 2011] [09:32:29] &lt;pieterh&gt;        e.g. I know that multicast is not just click-click</div>
<div class="line">[Wednesday 23 March 2011] [09:32:33] &lt;pieterh&gt;        it&#8217;s a <em>lot</em> of extra work</div>
<div class="line">[Wednesday 23 March 2011] [09:32:42] &lt;pieterh&gt;        but my code will basically not change (too much)</div>
<div class="line">[Wednesday 23 March 2011] [09:32:56] &lt;pieterh&gt;        this is the key to 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [09:33:12] &lt;pieterh&gt;        it&#8217;s not that apps magically scale just by adding devices  and IMO it&#8217;s not helpful to aim for that</div>
<div class="line">[Wednesday 23 March 2011] [09:33:27] &lt;pieterh&gt;        it&#8217;s that you can re-architect code really easily to make it fit arbitrary scales</div>
<div class="line">[Wednesday 23 March 2011] [09:33:34] &lt;sustrik&gt;        well, i am aiming for that</div>
<div class="line">[Wednesday 23 March 2011] [09:33:36] &lt;pieterh&gt;        I can give a real example from Ch4</div>
<div class="line">[Wednesday 23 March 2011] [09:33:41] &lt;pieterh&gt;        where this works beautifully</div>
<div class="line">[Wednesday 23 March 2011] [09:33:51] &lt;pieterh&gt;        I make a whole reliability design, based on a broker, right?</div>
<div class="line">[Wednesday 23 March 2011] [09:34:05] &lt;sustrik&gt;        broker is inherently inscalable</div>
<div class="line">[Wednesday 23 March 2011] [09:34:11] &lt;pieterh&gt;        then at the end, like a magic trick, I move the broker into the client and it disappears</div>
<div class="line">[Wednesday 23 March 2011] [09:34:13] &lt;sustrik&gt;        when you want to add another broker</div>
<div class="line">[Wednesday 23 March 2011] [09:34:21] &lt;sustrik&gt;        you run into AMQP-style problems</div>
<div class="line">[Wednesday 23 March 2011] [09:34:23] &lt;pieterh&gt;        and I get full scalability across an N-to-N network of clients and workers</div>
<div class="line">[Wednesday 23 March 2011] [09:34:32] &lt;pieterh&gt;        this is what works</div>
<div class="line">[Wednesday 23 March 2011] [09:34:47] &lt;sustrik&gt;        ah, so it&#8217;s the device interhjection pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:34:48] &lt;pieterh&gt;        federating brokers is just how banks waste money :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:34:58] &lt;pieterh&gt;        it&#8217;s the &#8220;rescale my code&#8221; pattern</div>
<div class="line">[Wednesday 23 March 2011] [09:34:58] &lt;sustrik&gt;        yes, that the only viable way to scale imo</div>
<div class="line">[Wednesday 23 March 2011] [09:35:08] &lt;sustrik&gt;        adding hops</div>
<div class="line">[Wednesday 23 March 2011] [09:35:14] &lt;sustrik&gt;        without changing semantics</div>
<div class="line">[Wednesday 23 March 2011] [09:35:15] &lt;pieterh&gt;        this is why these socket types cannot be hidden</div>
<div class="line">[Wednesday 23 March 2011] [09:35:31] &lt;sustrik&gt;        yes, there&#8217;s good reason to keep them visible</div>
<div class="line">[Wednesday 23 March 2011] [09:35:40] &lt;sustrik&gt;        however, they can be used only in certain ways</div>
<div class="line">[Wednesday 23 March 2011] [09:35:46] &lt;pieterh&gt;        this is true</div>
<div class="line">[Wednesday 23 March 2011] [09:35:47] &lt;sustrik&gt;        to keep the overall design scalable</div>
<div class="line">[Wednesday 23 March 2011] [09:35:52] &lt;pieterh&gt;        it&#8217;s about education</div>
<div class="line">[Wednesday 23 March 2011] [09:35:54] &lt;sustrik&gt;        well, that&#8217;s my point</div>
<div class="line">[Wednesday 23 March 2011] [09:35:58] &lt;pieterh&gt;        i.e. please drive on the right</div>
<div class="line">[Wednesday 23 March 2011] [09:36:41] &lt;pieterh&gt;        however it is justifiable to build unscalable designs</div>
<div class="line">[Wednesday 23 March 2011] [09:36:50] &lt;pieterh&gt;        because it&#8217;s easy to refactor them as needed</div>
<div class="line">[Wednesday 23 March 2011] [09:37:00] &lt;pieterh&gt;        e.g. starting with a broker is just much simpler, conceptually</div>
<div class="line">[Wednesday 23 March 2011] [09:37:39] &lt;pieterh&gt;        to be honest, I think 0MQ is already magically good at this</div>
<div class="line">[Wednesday 23 March 2011] [09:38:06] &lt;sustrik&gt;        yeah, i haven&#8217;t expected it to be this universal</div>
<div class="line">[Wednesday 23 March 2011] [09:38:17] &lt;sustrik&gt;        back in 2007</div>
<div class="line">[Wednesday 23 March 2011] [09:38:45] &lt;sustrik&gt;        back to serious stuff!</div>
<div class="line">[Wednesday 23 March 2011] [09:38:45] &lt;pieterh&gt;        yeah, it was not really the initial vision :-)</div>
<div class="line">[Wednesday 23 March 2011] [09:38:50]   * sustrik goes accounting</div>
<div class="line">[Wednesday 23 March 2011] [09:38:50] &lt;pieterh&gt;        accounting! code!</div>
<div class="line">[Wednesday 23 March 2011] [09:41:49] &lt;pieterh&gt;        mikko&#8211;: ping</div>
<div class="line">[Wednesday 23 March 2011] [09:42:13] &lt;pieterh&gt;        if you clone <a class="reference external" href="https://github.com/zeromq/zeromq2-1">https://github.com/zeromq/zeromq2-1</a> and then try to build with openpgm, you get an error</div>
<div class="line">[Wednesday 23 March 2011] [09:42:24] &lt;pieterh&gt;        config.status: error: cannot find input file: <a href="#id139"><span class="problematic" id="id140">`</span></a>Makefile.in&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [09:51:14] &lt;pieterh&gt;        mikko&#8211;: np, solved it I think</div>
<div class="line">[Wednesday 23 March 2011] [09:53:17] &lt;<a href="#id1125"><span class="problematic" id="id1126">Steve-o_</span></a>&gt;       :P</div>
<div class="line">[Wednesday 23 March 2011] [09:53:49] &lt;<a href="#id1127"><span class="problematic" id="id1128">Steve-o_</span></a>&gt;       That error occurs when using a openpgm svn snapshot without bootstrap</div>
<div class="line">[Wednesday 23 March 2011] [09:54:34] &lt;<a href="#id1129"><span class="problematic" id="id1130">Steve-o_</span></a>&gt;       for 114 and 115 I now bootstrap Autoconf</div>
<div class="line">[Wednesday 23 March 2011] [09:55:20] &lt;<a href="#id1131"><span class="problematic" id="id1132">Steve-o_</span></a>&gt;       only annoying bit is autogen.sh not creating the pgm staging directory</div>
<div class="line">[Wednesday 23 March 2011] [09:55:24] &lt;pieterh&gt;        <a href="#id1133"><span class="problematic" id="id1134">Steve-o_</span></a>: weird thing is the missing file is zeromq&#8217;s root file, not in openpgm</div>
<div class="line">[Wednesday 23 March 2011] [09:55:40] &lt;pieterh&gt;        though the message may be inaccurate</div>
<div class="line">[Wednesday 23 March 2011] [09:56:37] &lt;<a href="#id1135"><span class="problematic" id="id1136">Steve-o_</span></a>&gt;       more importantly you didn&#8217;t read Bob&#8217;s response, it&#8217;s already working for him</div>
<div class="line">[Wednesday 23 March 2011] [09:56:46] &lt;pieterh&gt;        orly?</div>
<div class="line">[Wednesday 23 March 2011] [09:56:51] &lt;<a href="#id1137"><span class="problematic" id="id1138">Steve-o_</span></a>&gt;       your last two mails are out of date</div>
<div class="line">[Wednesday 23 March 2011] [09:56:52] &lt;<a href="#id1139"><span class="problematic" id="id1140">Steve-o_</span></a>&gt;       :P</div>
<div class="line">[Wednesday 23 March 2011] [09:56:53]   * pieterh needs to read more and write less</div>
<div class="line">[Wednesday 23 March 2011] [09:57:34] &lt;pieterh&gt;        nope, his last email (that I have) says, &#8220;Can you verify that it configures properly and it&#8217;s me and not the tarball?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [09:57:52] &lt;<a href="#id1141"><span class="problematic" id="id1142">Steve-o_</span></a>&gt;       lol, ok two to me :D</div>
<div class="line">[Wednesday 23 March 2011] [09:57:55] &lt;pieterh&gt;        maybe he replied to you offlist</div>
<div class="line">[Wednesday 23 March 2011] [09:57:56] &lt;Guthur&gt; pieterh: we drive on the left</div>
<div class="line">[Wednesday 23 March 2011] [09:59:17] &lt;<a href="#id1143"><span class="problematic" id="id1144">Steve-o_</span></a>&gt;       I reproduced the error here:  <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/010041.html">http://lists.zeromq.org/pipermail/zeromq-dev/2011-March/010041.html</a></div>
<div class="line">[Wednesday 23 March 2011] [10:01:34] &lt;pieterh&gt;        Guthur: thanks?</div>
<div class="line">[Wednesday 23 March 2011] [10:08:43] &lt;cremes&gt; i&#8217;d like to ask a question about 3.0; any chance the project will get a major refactoring</div>
<div class="line">[Wednesday 23 March 2011] [10:08:52] &lt;cremes&gt; and reorg so that the internal classes can be fully tested?</div>
<div class="line">[Wednesday 23 March 2011] [10:09:09] &lt;cremes&gt; right now the only testing we can do is &#8216;black box&#8217; style where we give it some input and hope</div>
<div class="line">[Wednesday 23 March 2011] [10:09:19] &lt;cremes&gt; that all the plumbing works well enough to get an answer on the other side</div>
<div class="line">[Wednesday 23 March 2011] [10:09:27] &lt;Guthur&gt; cremes: there was a discussion earlier about something related</div>
<div class="line">[Wednesday 23 March 2011] [10:09:40] &lt;Guthur&gt; more to ease the understanding of 0MQ core</div>
<div class="line">[Wednesday 23 March 2011] [10:09:57] &lt;cremes&gt; Guthur: what was the outcome of the discussion? or is it still ongoing?</div>
<div class="line">[Wednesday 23 March 2011] [10:10:12] &lt;Guthur&gt; &#8216;yeah that would be nice&#8217; hehe</div>
<div class="line">[Wednesday 23 March 2011] [10:10:31] &lt;sustrik&gt;        cremes: can be done, but it requires a significant effor writing unit tests</div>
<div class="line">[Wednesday 23 March 2011] [10:10:53] &lt;sustrik&gt;        exactly, &#8216;yeah that would be nice&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [10:11:08] &lt;sustrik&gt;        if you want to help with that we can give it a try</div>
<div class="line">[Wednesday 23 March 2011] [10:12:41] &lt;pieterh&gt;        cremes: what about writing unit tests on top, not in core?</div>
<div class="line">[Wednesday 23 March 2011] [10:12:53] &lt;pieterh&gt;        any refactoring of core is going to be expensive</div>
<div class="line">[Wednesday 23 March 2011] [10:13:55] &lt;pieterh&gt;        I know it&#8217;s not the same...</div>
<div class="line">[Wednesday 23 March 2011] [10:14:11] &lt;pieterh&gt;        I&#8217;m using systematic unit tests in zapi and it&#8217;s a really nice way of working</div>
<div class="line">[Wednesday 23 March 2011] [10:20:32] &lt;mikko&#8211;&gt;        <a href="#id1145"><span class="problematic" id="id1146">Steve-o_</span></a>: thats my fault</div>
<div class="line">[Wednesday 23 March 2011] [10:20:39] &lt;mikko&#8211;&gt;        i got a patch soon(ish) for it</div>
<div class="line">[Wednesday 23 March 2011] [10:22:03] &lt;mikko&#8211;&gt;        mkoppanen/zeromq2-1 has a branch fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [10:22:12] &lt;mikko&#8211;&gt;        can you test that?</div>
<div class="line">[Wednesday 23 March 2011] [10:23:44] &lt;<a href="#id1147"><span class="problematic" id="id1148">Steve-o_</span></a>&gt;       k</div>
<div class="line">[Wednesday 23 March 2011] [10:25:14] &lt;Guthur&gt; pieterh: imo retrospectively adding adequate unit test coverage is usually difficult or next to impossible</div>
<div class="line">[Wednesday 23 March 2011] [10:25:47] &lt;Guthur&gt; the code really needs to be design with it in mind from the beginning</div>
<div class="line">[Wednesday 23 March 2011] [10:25:50] &lt;pieterh&gt;        Guthur: I believe you&#8217;re right, and it&#8217;s not going to be possible to refactor core to make this happen</div>
<div class="line">[Wednesday 23 March 2011] [10:26:02] &lt;pieterh&gt;        not without major, major effort, i.e. manyears of work</div>
<div class="line">[Wednesday 23 March 2011] [10:26:51] &lt;pieterh&gt;        so what we need is a separate tests project IMO</div>
<div class="line">[Wednesday 23 March 2011] [10:27:09] &lt;pieterh&gt;        where anyone can bung a test case</div>
<div class="line">[Wednesday 23 March 2011] [10:27:20] &lt;pieterh&gt;        and which we can use when doing daily builds</div>
<div class="line">[Wednesday 23 March 2011] [10:28:24] &lt;<a href="#id1149"><span class="problematic" id="id1150">Steve-o_</span></a>&gt;       mikko&#8211;: looks fine, just finishing the build</div>
<div class="line">[Wednesday 23 March 2011] [10:29:22] &lt;<a href="#id1151"><span class="problematic" id="id1152">Steve-o_</span></a>&gt;       well zeromq should go for two test beds, an external one sitting above the apis and one living next to the code testing each class</div>
<div class="line">[Wednesday 23 March 2011] [10:30:20] &lt;pieterh&gt;        <a href="#id1153"><span class="problematic" id="id1154">Steve-o_</span></a>: indeed, but the second case is probably impossible to make</div>
<div class="line">[Wednesday 23 March 2011] [10:30:35] &lt;pieterh&gt;        and right now the external one is part of core, which is a problem IMO</div>
<div class="line">[Wednesday 23 March 2011] [10:30:47] &lt;<a href="#id1155"><span class="problematic" id="id1156">Steve-o_</span></a>&gt;       depends, have you looked at Chromium unit tests?  They&#8217;re pretty fruity</div>
<div class="line">[Wednesday 23 March 2011] [10:31:12] &lt;<a href="#id1157"><span class="problematic" id="id1158">Steve-o_</span></a>&gt;       mine too for OpenPGM can only go so far</div>
<div class="line">[Wednesday 23 March 2011] [10:31:59] &lt;<a href="#id1159"><span class="problematic" id="id1160">Steve-o_</span></a>&gt;       mikko&#8211;: all done, no problems encountered.</div>
<div class="line">[Wednesday 23 March 2011] [10:32:08] &lt;mikko&#8211;&gt;        make dist works as well?</div>
<div class="line">[Wednesday 23 March 2011] [10:32:52] &lt;<a href="#id1161"><span class="problematic" id="id1162">Steve-o_</span></a>&gt;       yup</div>
<div class="line">[Wednesday 23 March 2011] [10:33:01] &lt;mikko&#8211;&gt;        if anyone has boxes that can execute network tests they can be plugged into the central jenkins cluster</div>
<div class="line">[Wednesday 23 March 2011] [10:33:45] &lt;<a href="#id1163"><span class="problematic" id="id1164">Steve-o_</span></a>&gt;       I&#8217;m thinking of investigating upgrading my network testing to use Python and zeromq</div>
<div class="line">[Wednesday 23 March 2011] [10:34:07] &lt;<a href="#id1165"><span class="problematic" id="id1166">Steve-o_</span></a>&gt;       the bit issue with network testing is stopping and cleaning up when things go wrong</div>
<div class="line">[Wednesday 23 March 2011] [10:34:32] &lt;<a href="#id1167"><span class="problematic" id="id1168">Steve-o_</span></a>&gt;       s/bit/big/</div>
<div class="line">[Wednesday 23 March 2011] [10:34:41] &lt;mikko&#8211;&gt;        you mean going with too high rates?</div>
<div class="line">[Wednesday 23 March 2011] [10:35:04] &lt;<a href="#id1169"><span class="problematic" id="id1170">Steve-o_</span></a>&gt;       usually dead locks</div>
<div class="line">[Wednesday 23 March 2011] [10:35:21] &lt;<a href="#id1171"><span class="problematic" id="id1172">Steve-o_</span></a>&gt;       I have a few years ago suffered quite funny network problems</div>
<div class="line">[Wednesday 23 March 2011] [10:35:34] &lt;<a href="#id1173"><span class="problematic" id="id1174">Steve-o_</span></a>&gt;       i.e. too high data rate, literally millions of packets per second</div>
<div class="line">[Wednesday 23 March 2011] [10:35:43] &lt;<a href="#id1175"><span class="problematic" id="id1176">Steve-o_</span></a>&gt;       turned the switch into a hub and floored the entire network</div>
<div class="line">[Wednesday 23 March 2011] [10:35:49] &lt;pieterh&gt;        mikko&#8211;: did you see drbobbeaty&#8217;s offer of OpenPGM testing space?</div>
<div class="line">[Wednesday 23 March 2011] [10:35:50] &lt;<a href="#id1177"><span class="problematic" id="id1178">Steve-o_</span></a>&gt;       fcuk.</div>
<div class="line">[Wednesday 23 March 2011] [10:36:58] &lt;drbobbeaty&gt;     pieterh: it&#8217;s actually an offer of financial support - for ZMQ to have it&#8217;s own OpenPGM testing space so we don&#8217;t have these same kinds of issues in the future.</div>
<div class="line">[Wednesday 23 March 2011] [10:37:38] &lt;pieterh&gt;        drbobbeaty: please meet Mikko, who is starting his own ZMQ support company</div>
<div class="line">[Wednesday 23 March 2011] [10:37:39] &lt;drbobbeaty&gt;     pieterh: it could be machines, if that&#8217;s all that&#8217;s needed, but my original intention was to help fund an expansion to the testing facilities.</div>
<div class="line">[Wednesday 23 March 2011] [10:38:22] &lt;pieterh&gt;        It would be excellent if your organization would fund an expansion of the testing facilities via mikko&#8211;</div>
<div class="line">[Wednesday 23 March 2011] [10:38:41] &lt;drbobbeaty&gt;     mikko-: OK, if you&#8217;re the guy, great. I think we want the same thing - a tested tarball for users. I&#8217;m just ready to see what it&#8217;ll take and try to swing that through the company I work for.</div>
<div class="line">[Wednesday 23 March 2011] [10:39:35] &lt;<a href="#id1179"><span class="problematic" id="id1180">Steve-o_</span></a>&gt;       I might be able to move some of my hardware in the future</div>
<div class="line">[Wednesday 23 March 2011] [10:39:43] &lt;Guthur&gt; I don&#8217;t mind offering some capacity on my VPS if that is what is being talked about</div>
<div class="line">[Wednesday 23 March 2011] [10:39:59] &lt;pieterh&gt;        I think what we&#8217;re talking about is two things,</div>
<div class="line">[Wednesday 23 March 2011] [10:40:17] &lt;pieterh&gt;        a. buying or finding some PGM-capable switches</div>
<div class="line">[Wednesday 23 March 2011] [10:40:22] &lt;<a href="#id1181"><span class="problematic" id="id1182">Steve-o_</span></a>&gt;       I have a ibm blade chassis and a ultra sparc which need new homes when I move to NY</div>
<div class="line">[Wednesday 23 March 2011] [10:40:51] &lt;pieterh&gt;        b. setting up and managing a test process</div>
<div class="line">[Wednesday 23 March 2011] [10:41:47] &lt;pieterh&gt;        drbobbeaty: I think funding would have to cover time as well as materials</div>
<div class="line">[Wednesday 23 March 2011] [10:42:05] &lt;pieterh&gt;        it would not be huge amounts, but mikko&#8211; is a professional</div>
<div class="line">[Wednesday 23 March 2011] [10:42:34] &lt;pieterh&gt;        his firm is at <a class="reference external" href="http://kuut.io/">http://kuut.io/</a></div>
<div class="line">[Wednesday 23 March 2011] [10:42:36] &lt;drbobbeaty&gt;     pieterh: I&#8217;m not against that. I benefit from ZMQ, and me not having to spend a day debugging a new release is worth real $$ to my employer.</div>
<div class="line">[Wednesday 23 March 2011] [10:42:40] &lt;pieterh&gt;        indeed</div>
<div class="line">[Wednesday 23 March 2011] [10:42:43] &lt;pieterh&gt;        it&#8217;s win-win-win</div>
<div class="line">[Wednesday 23 March 2011] [10:43:40] &lt;pieterh&gt;        I suggest you can discuss with Mikko privately, I&#8217;m available if you need me, but this does not need to involve iMatix</div>
<div class="line">[Wednesday 23 March 2011] [10:44:20] &lt;drbobbeaty&gt;     pieterh: you and mikko chat - I really don&#8217;t care who does it, who owns it, etc. When you were here on your talk, you talked about support contracts. We&#8217;re not against that - towards getting the testing as part of this.</div>
<div class="line">[Wednesday 23 March 2011] [10:44:58] &lt;drbobbeaty&gt;     I&#8217;d just like someone that&#8217;s going to stay in the project for a long time be the one we fund because I&#8217;d hate to be in this situation in 6 months.</div>
<div class="line">[Wednesday 23 March 2011] [10:45:07] &lt;pieterh&gt;        ok, so there are two ways to approach this</div>
<div class="line">[Wednesday 23 March 2011] [10:45:52] &lt;drbobbeaty&gt;     like I said - I&#8217;m very easy on this. You know what I want... you let me know if there&#8217;s a way I can help get us all there.</div>
<div class="line">[Wednesday 23 March 2011] [10:45:56] &lt;pieterh&gt;        either, you fund work done by the community, which means working with Mikko, who is the owner of all that is testing</div>
<div class="line">[Wednesday 23 March 2011] [10:46:05] &lt;pieterh&gt;        or, you ask iMatix for a proper liong</div>
<div class="line">[Wednesday 23 March 2011] [10:46:25] &lt;pieterh&gt;        <a href="#id141"><span class="problematic" id="id142">*</span></a>long-term support contract, which we&#8217;re more than happy to do, and we take care of everything</div>
<div class="line">[Wednesday 23 March 2011] [10:48:03] &lt;sustrik&gt;        mikko: nice website</div>
<div class="line">[Wednesday 23 March 2011] [10:48:12] &lt;sustrik&gt;        the design, i mean</div>
<div class="line">[Wednesday 23 March 2011] [10:54:57] &lt;sustrik&gt;        pieterh: accepting a new functionality into stable without testing it on master of elsewhere is not a good idea imo</div>
<div class="line">[Wednesday 23 March 2011] [10:55:17] &lt;pieterh&gt;        sustrik: you mean openpgm?</div>
<div class="line">[Wednesday 23 March 2011] [10:55:27] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [10:55:32] &lt;sustrik&gt;        btw, it&#8217;s still not in master</div>
<div class="line">[Wednesday 23 March 2011] [10:55:33] &lt;sustrik&gt;        :(</div>
<div class="line">[Wednesday 23 March 2011] [10:55:37] &lt;pieterh&gt;        true, but basically it was broken before</div>
<div class="line">[Wednesday 23 March 2011] [10:56:03] &lt;sustrik&gt;        well, it worked for drbobbeaty</div>
<div class="line">[Wednesday 23 March 2011] [10:56:05] &lt;pieterh&gt;        i&#8217;m not sure why it&#8217;s not yet in master... just waiting for a patch from mikko?</div>
<div class="line">[Wednesday 23 March 2011] [10:56:10] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [10:56:13] &lt;pieterh&gt;        ah, rc2 worked, yes</div>
<div class="line">[Wednesday 23 March 2011] [10:56:45] &lt;pieterh&gt;        it&#8217;s not easy to know &#8216;new functionality&#8217; vs &#8216;necessary patch&#8217; in foreign imports</div>
<div class="line">[Wednesday 23 March 2011] [10:57:01] &lt;pieterh&gt;        the solution is proper testing of daily builds off github</div>
<div class="line">[Wednesday 23 March 2011] [10:57:02] &lt;<a href="#id1183"><span class="problematic" id="id1184">Steve-o_</span></a>&gt;       you get both :D</div>
<div class="line">[Wednesday 23 March 2011] [10:57:20] &lt;cremes&gt; sorry about not responding to the unit test stuff an hour ago; we had a little outage here that i had to attend to</div>
<div class="line">[Wednesday 23 March 2011] [10:57:21] &lt;pieterh&gt;        mostly, I expect the release process to self-stabilize</div>
<div class="line">[Wednesday 23 March 2011] [10:57:28] &lt;pieterh&gt;        this is my experience</div>
<div class="line">[Wednesday 23 March 2011] [10:57:43] &lt;cremes&gt; so i agree that refactoring core would be many man-years of effort</div>
<div class="line">[Wednesday 23 March 2011] [10:58:05] &lt;cremes&gt; but i think the idea of having some unit tests that live &#8220;underneath&#8221; the public api and test internal classes</div>
<div class="line">[Wednesday 23 March 2011] [10:58:06] &lt;cremes&gt; is a good idea</div>
<div class="line">[Wednesday 23 March 2011] [10:58:22] &lt;cremes&gt; i am willing to write some code (i.e. put my money/time where my mouth is)</div>
<div class="line">[Wednesday 23 March 2011] [10:59:03] &lt;cremes&gt; i think that over a period of time as unit tests are written, we&#8217;ll find the pain points that require redesign/refactoring</div>
<div class="line">[Wednesday 23 March 2011] [10:59:05] &lt;sustrik&gt;        pieterh: pushing _anything_ untested into stable is no good</div>
<div class="line">[Wednesday 23 March 2011] [10:59:10] &lt;cremes&gt; of the internal classes and it can be done piece-meal</div>
<div class="line">[Wednesday 23 March 2011] [10:59:24] &lt;pieterh&gt;        sustrik: it&#8217;s only testable in master now because it&#8217;s the same codebase</div>
<div class="line">[Wednesday 23 March 2011] [10:59:32] &lt;sustrik&gt;        cremes: well, do you have an idea of a specific unit test you want to write</div>
<div class="line">[Wednesday 23 March 2011] [10:59:35] &lt;pieterh&gt;        as soon as there&#8217;s functional changes, that stops being possible</div>
<div class="line">[Wednesday 23 March 2011] [10:59:49] &lt;sustrik&gt;        then test it elsewhere</div>
<div class="line">[Wednesday 23 March 2011] [11:00:00] &lt;pieterh&gt;        this is not a problem, really</div>
<div class="line">[Wednesday 23 March 2011] [11:00:06] &lt;cremes&gt; sustrik: i do; i thought a good initial set of tests would be to exercise the yqueue class since it is</div>
<div class="line">[Wednesday 23 March 2011] [11:00:12] &lt;cremes&gt; so important to internal communications</div>
<div class="line">[Wednesday 23 March 2011] [11:00:23] &lt;sustrik&gt;        pieterh: it&#8217;s up to you, but unstable stable is a problem afaics</div>
<div class="line">[Wednesday 23 March 2011] [11:00:36] &lt;<a href="#id1185"><span class="problematic" id="id1186">Steve-o_</span></a>&gt;       cremes: I think you&#8217;re jumping into a different conversation</div>
<div class="line">[Wednesday 23 March 2011] [11:00:37] &lt;sustrik&gt;        cremes: sounds good</div>
<div class="line">[Wednesday 23 March 2011] [11:00:47] &lt;pieterh&gt;        sustrik: you are stressed because you want a perfect product, but that is not how it happens</div>
<div class="line">[Wednesday 23 March 2011] [11:01:06] &lt;sustrik&gt;        if you write one unit test we can have a look at how to incorporate it into the codebase</div>
<div class="line">[Wednesday 23 March 2011] [11:01:09] &lt;cremes&gt; <a href="#id1187"><span class="problematic" id="id1188">Steve-o_</span></a>: just answering a direct query from sustrik; but yeah, the channel has a few topics going simultaneously :)</div>
<div class="line">[Wednesday 23 March 2011] [11:01:27] &lt;pieterh&gt;        cremes: it sounds like a good plan</div>
<div class="line">[Wednesday 23 March 2011] [11:01:50] &lt;cremes&gt; i will endeavor to do a proof-of-concept this weekend so we can discuss on monday/tuesday</div>
<div class="line">[Wednesday 23 March 2011] [11:02:08] &lt;pieterh&gt;        sustrik: the other option, which I wanted to discuss, was to start a 2.2 release cycle</div>
<div class="line">[Wednesday 23 March 2011] [11:02:29] &lt;sustrik&gt;        what would that be?</div>
<div class="line">[Wednesday 23 March 2011] [11:02:44] &lt;pieterh&gt;        well, in strict principle, no new functionality in 2.1 at all...</div>
<div class="line">[Wednesday 23 March 2011] [11:02:55] &lt;pieterh&gt;        so 2.2 allows us to add new functionality without changing the api</div>
<div class="line">[Wednesday 23 March 2011] [11:03:22] &lt;sustrik&gt;        well, if you feel like maintaining 3 separate repos :)</div>
<div class="line">[Wednesday 23 March 2011] [11:03:32] &lt;<a href="#id1189"><span class="problematic" id="id1190">Steve-o_</span></a>&gt;       pieterh: re: &#8220;it&#8217;s not easy to know &#8216;new functionality&#8217; vs &#8216;necessary patch&#8217; in foreign imports&#8221;, new functionality would be a openpgm 6.x, I only push small changes down</div>
<div class="line">[Wednesday 23 March 2011] [11:03:36] &lt;pieterh&gt;        i&#8217;ve no problem with that, I maintain 20-30 repositories</div>
<div class="line">[Wednesday 23 March 2011] [11:03:56] &lt;sustrik&gt;        wait till you start doing real backports</div>
<div class="line">[Wednesday 23 March 2011] [11:03:58] &lt;sustrik&gt;        :)</div>
<div class="line">[Wednesday 23 March 2011] [11:04:15] &lt;pieterh&gt;        sustrik: somewhere along the line you missed the trick that as maintainer I don&#8217;t do ports at all</div>
<div class="line">[Wednesday 23 March 2011] [11:04:28] &lt;pieterh&gt;        look, let me give you an example...</div>
<div class="line">[Wednesday 23 March 2011] [11:04:37] &lt;pieterh&gt;        2.1 will be used in production for a very long time</div>
<div class="line">[Wednesday 23 March 2011] [11:04:57] &lt;pieterh&gt;        now say you want to deliver some new socket options to users</div>
<div class="line">[Wednesday 23 March 2011] [11:05:03] &lt;pieterh&gt;        nothing dangerous</div>
<div class="line">[Wednesday 23 March 2011] [11:05:18] &lt;pieterh&gt;        but if you only provide them via 3.0, it&#8217;ll be ages before you get proper feedback</div>
<div class="line">[Wednesday 23 March 2011] [11:05:33] &lt;pieterh&gt;        so you convince me, as maintainer, to release them in 2.2</div>
<div class="line">[Wednesday 23 March 2011] [11:05:36] &lt;pieterh&gt;        everyone wins</div>
<div class="line">[Wednesday 23 March 2011] [11:05:48] &lt;sustrik&gt;        if it&#8217;s fully backward compatible it can go into 2.1</div>
<div class="line">[Wednesday 23 March 2011] [11:05:51] &lt;pieterh&gt;        nope</div>
<div class="line">[Wednesday 23 March 2011] [11:05:53] &lt;pieterh&gt;        it cannot</div>
<div class="line">[Wednesday 23 March 2011] [11:06:00] &lt;sustrik&gt;        up to you</div>
<div class="line">[Wednesday 23 March 2011] [11:06:04]   * sustrik shuts up</div>
<div class="line">[Wednesday 23 March 2011] [11:06:20] &lt;<a href="#id1191"><span class="problematic" id="id1192">Steve-o_</span></a>&gt;       I thought the definition was new features = minor++, API breakage = major++?</div>
<div class="line">[Wednesday 23 March 2011] [11:06:20] &lt;pieterh&gt;        the point is that 2.1 is &#8220;stable&#8221; and thus does not get new functionality</div>
<div class="line">[Wednesday 23 March 2011] [11:06:31] &lt;pieterh&gt;        <a href="#id1193"><span class="problematic" id="id1194">Steve-o_</span></a>: exactluy</div>
<div class="line">[Wednesday 23 March 2011] [11:06:37] &lt;pieterh&gt;        new functionality = new minor release</div>
<div class="line">[Wednesday 23 March 2011] [11:06:37] &lt;Guthur&gt; pieterh: only a day or two ago you mentioned there would be no 2.2, iirc</div>
<div class="line">[Wednesday 23 March 2011] [11:06:45] &lt;pieterh&gt;        Guthur: I said, we had no plans</div>
<div class="line">[Wednesday 23 March 2011] [11:06:54] &lt;pieterh&gt;        plans change and develop</div>
<div class="line">[Wednesday 23 March 2011] [11:07:46] &lt;Guthur&gt; so if there was a 2.2 would that be 4 main repos of 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [11:07:55] &lt;Guthur&gt; your 3 and sustrik&#8217;s one</div>
<div class="line">[Wednesday 23 March 2011] [11:07:56] &lt;pieterh&gt;        Guthur: which is fine, seriously</div>
<div class="line">[Wednesday 23 March 2011] [11:08:02] &lt;pieterh&gt;        it is scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:08:23] &lt;pieterh&gt;        it&#8217;s perhaps unusual but it&#8217;s very simple, predictable, and scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:08:58] &lt;pieterh&gt;        plus there are dozens of 0MQ repos, in fact</div>
<div class="line">[Wednesday 23 March 2011] [11:09:10] &lt;pieterh&gt;        we have a distributed development process and the repos map that</div>
<div class="line">[Wednesday 23 March 2011] [11:09:18] &lt;pieterh&gt;        there is no &#8220;main&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:09:35] &lt;pieterh&gt;        there is only the rather more valuable repos maintained by El Sustrik</div>
<div class="line">[Wednesday 23 March 2011] [11:09:48] &lt;Guthur&gt; Sure. I&#8217;ll have to trust you on it to be honest</div>
<div class="line">[Wednesday 23 March 2011] [11:09:49] &lt;pieterh&gt;        and the cheap &amp; nasty imitations made by other folk</div>
<div class="line">[Wednesday 23 March 2011] [11:10:43] &lt;pieterh&gt;        sustrik: do you plan to develop 3.0 inside the zeromq2 repository?</div>
<div class="line">[Wednesday 23 March 2011] [11:11:07] &lt;sustrik&gt;        depends on how painful it is to rename it</div>
<div class="line">[Wednesday 23 March 2011] [11:11:18] &lt;sustrik&gt;        i assume people have links to the repo</div>
<div class="line">[Wednesday 23 March 2011] [11:11:21] &lt;pieterh&gt;        millions of internet links break</div>
<div class="line">[Wednesday 23 March 2011] [11:11:24] &lt;pieterh&gt;        there is no forwarding</div>
<div class="line">[Wednesday 23 March 2011] [11:11:26] &lt;sustrik&gt;        yeah</div>
<div class="line">[Wednesday 23 March 2011] [11:11:29] &lt;sustrik&gt;        :|</div>
<div class="line">[Wednesday 23 March 2011] [11:11:35] &lt;pieterh&gt;        however, everyone watching the old site still watches the new one</div>
<div class="line">[Wednesday 23 March 2011] [11:11:51] &lt;pieterh&gt;        so my idea was to rename it, and then make a new zeromq2 with a cover page</div>
<div class="line">[Wednesday 23 March 2011] [11:12:15] &lt;mikko&#8211;&gt;        pieterh: saw it</div>
<div class="line">[Wednesday 23 March 2011] [11:12:16] &lt;pieterh&gt;        i mentioned this already, you may recall</div>
<div class="line">[Wednesday 23 March 2011] [11:12:19] &lt;mikko&#8211;&gt;        havent had time to respond yet</div>
<div class="line">[Wednesday 23 March 2011] [11:12:30] &lt;pieterh&gt;        mikko&#8211;: ok</div>
<div class="line">[Wednesday 23 March 2011] [11:12:33] &lt;sustrik&gt;        dunno whather it&#8217;s worth of the trouble</div>
<div class="line">[Wednesday 23 March 2011] [11:12:42] &lt;sustrik&gt;        it&#8217;s just a name anyway</div>
<div class="line">[Wednesday 23 March 2011] [11:13:03] &lt;pieterh&gt;        sigh... you want to break an entire naming scheme just because &#8220;it&#8217;s just a name?&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:13:52] &lt;pieterh&gt;        how on earth can we manage a family of repositories if the names don&#8217;t make sense?</div>
<div class="line">[Wednesday 23 March 2011] [11:14:21] &lt;sustrik&gt;        let&#8217;s find out what exactly would break</div>
<div class="line">[Wednesday 23 March 2011] [11:14:30] &lt;sustrik&gt;        obviosuly, existing web links</div>
<div class="line">[Wednesday 23 March 2011] [11:14:37] &lt;pieterh&gt;        like I said, that can be fixed</div>
<div class="line">[Wednesday 23 March 2011] [11:14:39] &lt;sustrik&gt;        mikko&#8217;s auto builds</div>
<div class="line">[Wednesday 23 March 2011] [11:14:44] &lt;pieterh&gt;        did you understand my proposal?</div>
<div class="line">[Wednesday 23 March 2011] [11:14:50] &lt;sustrik&gt;        rename</div>
<div class="line">[Wednesday 23 March 2011] [11:14:56] &lt;pieterh&gt;        and recreate</div>
<div class="line">[Wednesday 23 March 2011] [11:14:59] &lt;sustrik&gt;        no way</div>
<div class="line">[Wednesday 23 March 2011] [11:15:00] &lt;pieterh&gt;        rename and recreate</div>
<div class="line">[Wednesday 23 March 2011] [11:15:05] &lt;pieterh&gt;        yes, obviously</div>
<div class="line">[Wednesday 23 March 2011] [11:15:15] &lt;sustrik&gt;        that&#8217;s kicking out 350+ people watching the repo</div>
<div class="line">[Wednesday 23 March 2011] [11:15:20] &lt;pieterh&gt;        sigh...</div>
<div class="line">[Wednesday 23 March 2011] [11:15:29] &lt;pieterh&gt;        please assume I&#8217;m not an idiot</div>
<div class="line">[Wednesday 23 March 2011] [11:15:51] &lt;pieterh&gt;        you rename, the watchers follow along to the new zeromq3 repo, ok?</div>
<div class="line">[Wednesday 23 March 2011] [11:15:57] &lt;pieterh&gt;        everything is cool</div>
<div class="line">[Wednesday 23 March 2011] [11:16:11] &lt;pieterh&gt;        now you create a <em>new</em> zeromq2 repo to take the place of the old one</div>
<div class="line">[Wednesday 23 March 2011] [11:16:19] &lt;sustrik&gt;        yuck</div>
<div class="line">[Wednesday 23 March 2011] [11:16:21] &lt;sustrik&gt;        sorry, no</div>
<div class="line">[Wednesday 23 March 2011] [11:16:24] &lt;pieterh&gt;        you make a cover page, which provides a map for visitors</div>
<div class="line">[Wednesday 23 March 2011] [11:16:28] &lt;pieterh&gt;        all internet links work</div>
<div class="line">[Wednesday 23 March 2011] [11:16:53] &lt;pieterh&gt;        this is far better than doing 3.0 work in a repo called zeromq2, seriously</div>
<div class="line">[Wednesday 23 March 2011] [11:17:27] &lt;pieterh&gt;        &#8220;we were afraid of renaming it, that&#8217;s why it&#8217;s still weird in 2015, sorry&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:17:46] &lt;pieterh&gt;        better, rename it now to &#8216;zeromq&#8217;</div>
<div class="line">[Wednesday 23 March 2011] [11:18:46] &lt;pieterh&gt;        when we get to making stable releases of 3.0, there will be repos like zeromq3-0</div>
<div class="line">[Wednesday 23 March 2011] [11:18:51] &lt;pieterh&gt;        based off zeromq2?????</div>
<div class="line">[Wednesday 23 March 2011] [11:19:00] &lt;sustrik&gt;        i am not against renaming</div>
<div class="line">[Wednesday 23 March 2011] [11:19:07] &lt;pieterh&gt;        it&#8217;s so bad I&#8217;m tempted to take my ball and stop playing</div>
<div class="line">[Wednesday 23 March 2011] [11:19:21] &lt;sustrik&gt;        just re-creating is a nonsense</div>
<div class="line">[Wednesday 23 March 2011] [11:19:22] &lt;pieterh&gt;        you&#8217;re against making a replacement cover page?</div>
<div class="line">[Wednesday 23 March 2011] [11:19:30] &lt;pieterh&gt;        you prefer broken links?</div>
<div class="line">[Wednesday 23 March 2011] [11:19:38] &lt;pieterh&gt;        shrug, I have no more to offer</div>
<div class="line">[Wednesday 23 March 2011] [11:19:41] &lt;sustrik&gt;        rename zeromq2-&gt;zeromq</div>
<div class="line">[Wednesday 23 March 2011] [11:19:41]   * pieterh goes back to work</div>
<div class="line">[Wednesday 23 March 2011] [11:19:52] &lt;sustrik&gt;        then do whatever with zeromq2 namespace</div>
<div class="line">[Wednesday 23 March 2011] [11:20:15] &lt;sustrik&gt;        that way the watchers remain subscribed</div>
<div class="line">[Wednesday 23 March 2011] [11:20:32] &lt;sustrik&gt;        no point in annying 350 people</div>
<div class="line">[Wednesday 23 March 2011] [11:20:32] &lt;pieterh&gt;        how is it possible to say, &#8220;yuck no way:&#8221; while agreeing with my proposal?</div>
<div class="line">[Wednesday 23 March 2011] [11:20:43] &lt;sustrik&gt;        you said, &#8220;recreate&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:20:58] &lt;sustrik&gt;        recreate what?</div>
<div class="line">[Wednesday 23 March 2011] [11:21:01]   * pieterh bangs his head slowly on table</div>
<div class="line">[Wednesday 23 March 2011] [11:21:16] &lt;pieterh&gt;        my fault for not communicating this more clearly</div>
<div class="line">[Wednesday 23 March 2011] [11:21:24] &lt;pieterh&gt;        please excuse me, I&#8217;ll try again</div>
<div class="line">[Wednesday 23 March 2011] [11:21:57] &lt;pieterh&gt;        a. you rename the repo, watchers are not annoyed, ack?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:01] &lt;sustrik&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:22:14] &lt;pieterh&gt;        b. there is now no repo called &#8216;zeromq2&#8217;, ack?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:25] &lt;sustrik&gt;        ah, you want to re-create that one?</div>
<div class="line">[Wednesday 23 March 2011] [11:22:32] &lt;sustrik&gt;        as a strawman</div>
<div class="line">[Wednesday 23 March 2011] [11:22:35] &lt;pieterh&gt;        the word &#8216;recreate&#8217; seems pretty clear</div>
<div class="line">[Wednesday 23 March 2011] [11:22:55] &lt;pieterh&gt;        yes, create an empty repo with the old name</div>
<div class="line">[Wednesday 23 March 2011] [11:23:03] &lt;sustrik&gt;        why i thouth you were suggesting was &#8220;re-create the master&#8221;</div>
<div class="line">[Wednesday 23 March 2011] [11:23:07] &lt;pieterh&gt;        and fill it with one page, a cover sheet that helps people navigate the new structure</div>
<div class="line">[Wednesday 23 March 2011] [11:23:08] &lt;sustrik&gt;        ok</div>
<div class="line">[Wednesday 23 March 2011] [11:23:11] &lt;sustrik&gt;        that makes sense</div>
<div class="line">[Wednesday 23 March 2011] [11:23:15] &lt;pieterh&gt;        well, you assume I&#8217;m stupid, maybe</div>
<div class="line">[Wednesday 23 March 2011] [11:23:18] &lt;pieterh&gt;        don&#8217;t know...</div>
<div class="line">[Wednesday 23 March 2011] [11:23:23] &lt;pieterh&gt;        it&#8217;s ok</div>
<div class="line">[Wednesday 23 March 2011] [11:23:36] &lt;pieterh&gt;        :-)</div>
<div class="line">[Wednesday 23 March 2011] [11:23:38] &lt;sustrik&gt;        will do, once i move to 3.0</div>
<div class="line">[Wednesday 23 March 2011] [11:24:05] &lt;pieterh&gt;        if we do rename the repo, I&#8217;d consider the new name carefully</div>
<div class="line">[Wednesday 23 March 2011] [11:24:20] &lt;pieterh&gt;        it&#8217;s very important to get this right</div>
<div class="line">[Wednesday 23 March 2011] [11:24:21] &lt;sustrik&gt;        zeromq?</div>
<div class="line">[Wednesday 23 March 2011] [11:24:24] &lt;sustrik&gt;        zeromq-master</div>
<div class="line">[Wednesday 23 March 2011] [11:24:28] &lt;pieterh&gt;        hang on</div>
<div class="line">[Wednesday 23 March 2011] [11:24:28] &lt;sustrik&gt;        zeromq-dev</div>
<div class="line">[Wednesday 23 March 2011] [11:24:29] &lt;sustrik&gt;        ?</div>
<div class="line">[Wednesday 23 March 2011] [11:24:32] &lt;sustrik&gt;        dunno</div>
<div class="line">[Wednesday 23 March 2011] [11:24:35] &lt;pieterh&gt;        core</div>
<div class="line">[Wednesday 23 March 2011] [11:24:49] &lt;pieterh&gt;        or libzmq</div>
<div class="line">[Wednesday 23 March 2011] [11:24:52] &lt;sustrik&gt;        core sounds more like a component rather than branch</div>
<div class="line">[Wednesday 23 March 2011] [11:25:00] &lt;pieterh&gt;        it&#8217;s not a branch, at all</div>
<div class="line">[Wednesday 23 March 2011] [11:25:13] &lt;pieterh&gt;        it is <em>the</em> living project within the 0MQ community</div>
<div class="line">[Wednesday 23 March 2011] [11:25:25] &lt;pieterh&gt;        there are two issues I see here</div>
<div class="line">[Wednesday 23 March 2011] [11:25:35] &lt;pieterh&gt;        a. confusion between zeromq as a community, and zeromq as a library</div>
<div class="line">[Wednesday 23 March 2011] [11:25:44] &lt;sustrik&gt;        good point</div>
<div class="line">[Wednesday 23 March 2011] [11:25:46] &lt;pieterh&gt;        b. zeromq as a package will end up including multiple projects</div>
<div class="line">[Wednesday 23 March 2011] [11:26:02] &lt;pieterh&gt;        my vision of the packaging is we package the community</div>
<div class="line">[Wednesday 23 March 2011] [11:26:03] &lt;sustrik&gt;        yup</div>
<div class="line">[Wednesday 23 March 2011] [11:26:13] &lt;pieterh&gt;        and that matches the organization name, zeromq</div>
<div class="line">[Wednesday 23 March 2011] [11:26:14] &lt;sustrik&gt;        libzmq+pyzmq+clrzmq etc.</div>
<div class="line">[Wednesday 23 March 2011] [11:26:17] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:26:19] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [11:26:38] &lt;pieterh&gt;        so this is also an explanation why we have multiple repositories</div>
<div class="line">[Wednesday 23 March 2011] [11:27:09] &lt;pieterh&gt;        it is only possible to increase the scope of packaging if we have separate projects for that</div>
<div class="line">[Wednesday 23 March 2011] [11:27:25] &lt;sustrik&gt;        libzmq would make sense then, however, i am not sure whether it&#8217;s worth of renaming everything now</div>
<div class="line">[Wednesday 23 March 2011] [11:27:25]   * pieterh is not just a pretty face...</div>
<div class="line">[Wednesday 23 March 2011] [11:27:40] &lt;pieterh&gt;        I&#8217;d really enjoy seeing libzmq, to be honest</div>
<div class="line">[Wednesday 23 March 2011] [11:27:52] &lt;sustrik&gt;        it would be nice</div>
<div class="line">[Wednesday 23 March 2011] [11:28:09] &lt;pieterh&gt;        I&#8217;d rename zapi to libzapi in the same sense then</div>
<div class="line">[Wednesday 23 March 2011] [11:28:10] &lt;sustrik&gt;        the question is how annoying would the renaming be</div>
<div class="line">[Wednesday 23 March 2011] [11:28:20] &lt;pieterh&gt;        it&#8217;s going to have to happen anyhow</div>
<div class="line">[Wednesday 23 March 2011] [11:28:28] &lt;pieterh&gt;        and this is very helpful to people IMO</div>
<div class="line">[Wednesday 23 March 2011] [11:28:53] &lt;pieterh&gt;        change that makes things better is always acceptable</div>
<div class="line">[Wednesday 23 March 2011] [11:29:36] &lt;sustrik&gt;        the benefit should be weighted against all the annoyance the rename will reate</div>
<div class="line">[Wednesday 23 March 2011] [11:29:45] &lt;sustrik&gt;        create</div>
<div class="line">[Wednesday 23 March 2011] [11:30:15] &lt;sustrik&gt;        actually, current naming doesn&#8217;t necessarily clash with package naming</div>
<div class="line">[Wednesday 23 March 2011] [11:30:16] &lt;pieterh&gt;        we won&#8217;t know the annoyance until we&#8217;ve done the rename</div>
<div class="line">[Wednesday 23 March 2011] [11:30:53] &lt;sustrik&gt;        the name of the project on github is kind of invisible to end users</div>
<div class="line">[Wednesday 23 March 2011] [11:30:58] &lt;pieterh&gt;        yes</div>
<div class="line">[Wednesday 23 March 2011] [11:31:01] &lt;sustrik&gt;        it&#8217;s of interest only to devs</div>
<div class="line">[Wednesday 23 March 2011] [11:31:19] &lt;pieterh&gt;        we need to check that forks of the repo don&#8217;t break when it&#8217;s renamed</div>
<div class="line">[Wednesday 23 March 2011] [11:31:27] &lt;pieterh&gt;        forks and watches, that&#8217;s the real value</div>
<div class="line">[Wednesday 23 March 2011] [11:31:44] &lt;sustrik&gt;        +1</div>
<div class="line">[Wednesday 23 March 2011] [11:32:03] &lt;pieterh&gt;        and IMO if we recreate a useful map for visitors who follow the old link, it&#8217;s solved</div>
<div class="line">[Wednesday 23 March 2011] [11:32:15] &lt;pieterh&gt;        I&#8217;d like to make a map of the community anyhow</div>
<div class="line">[Wednesday 23 March 2011] [11:32:19] &lt;pieterh&gt;        every project</div>
<div class="line">[Wednesday 23 March 2011] [11:32:26] &lt;pieterh&gt;        with a person and a URI</div>
<div class="line">[Wednesday 23 March 2011] [11:33:22] &lt;pieterh&gt;        ok, we can come back to this when you start on 3.0</div>
<div class="line">[Wednesday 23 March 2011] [11:36:03] &lt;Guthur&gt; pieterh: are you building whaleshark at the moment?</div>
<div class="line">[Wednesday 23 March 2011] [11:36:21] &lt;pieterh&gt;        Guthur: in a manner of speaking, I&#8217;m working on the API that I&#8217;ll need to build Whaleshark</div>
<div class="line">[Wednesday 23 March 2011] [11:36:36] &lt;pieterh&gt;        parts are almost done, like the name service</div>
<div class="line">[Wednesday 23 March 2011] [11:36:53] &lt;Guthur&gt; is that related to MDP</div>
<div class="line">[Wednesday 23 March 2011] [11:37:13] &lt;pieterh&gt;        well, the name service is the Freelance pattern described at the end of Ch4</div>
<div class="line">[Wednesday 23 March 2011] [11:37:30] &lt;pieterh&gt;        the client does broker-style work but the workers are simpler than MDP workers</div>
<div class="line">[Wednesday 23 March 2011] [11:37:40] &lt;pieterh&gt;        it&#8217;s distributed client-server</div>
<div class="line">[Wednesday 23 March 2011] [11:38:05] &lt;pieterh&gt;        you don&#8217;t really want to access a name service via a broker, too heavy</div>
<div class="line">[Wednesday 23 March 2011] [11:39:15] &lt;Guthur&gt; just reading the protocol now</div>
<div class="line">[Wednesday 23 March 2011] [11:47:15] &lt;Guthur&gt; sorry to bring this up again, I&#8217;m having trouble seeing how explicitly routing to client A or B or C... goes against scalability, you could surely use a DEALER at the client side which load-balances across a number of ROUTER based devices</div>
<div class="line">[Wednesday 23 March 2011] [11:47:16] &lt;Guthur&gt; am I missing something</div>
<div class="line">[Wednesday 23 March 2011] [11:47:52] &lt;pieterh&gt;        Guthur: the point is using explicit identities</div>
<div class="line">[Wednesday 23 March 2011] [11:48:10] &lt;pieterh&gt;        if you&#8217;re using automatic identities, and a stack, you don&#8217;t route to a client A, B, or C</div>
<div class="line">[Wednesday 23 March 2011] [11:48:19] &lt;pieterh&gt;        but rather you route backwards along a path</div>
<div class="line">[Wednesday 23 March 2011] [11:48:23] &lt;pieterh&gt;        which is scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:49:18] &lt;pieterh&gt;        does that help?</div>
<div class="line">[Wednesday 23 March 2011] [11:49:58] &lt;pieterh&gt;        e.g. in MDP, we never use our own identities, only those provided by 0MQ</div>
<div class="line">[Wednesday 23 March 2011] [11:50:03] &lt;pieterh&gt;        it&#8217;s scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:50:47] &lt;Guthur&gt; ok, but if you take same routing pattern with 0MQ generated UUIDs it is fine?</div>
<div class="line">[Wednesday 23 March 2011] [11:51:41] &lt;pieterh&gt;        well, I see two issues</div>
<div class="line">[Wednesday 23 March 2011] [11:51:54] &lt;pieterh&gt;        one, using durable sockets is not scalable, as we</div>
<div class="line">[Wednesday 23 March 2011] [11:51:58] &lt;pieterh&gt;        <a href="#id143"><span class="problematic" id="id144">*</span></a>we&#8217;ve learned</div>
<div class="line">[Wednesday 23 March 2011] [11:52:29] &lt;pieterh&gt;        two, treating an envelope as 1 frame rather than a path is probably not scalable</div>
<div class="line">[Wednesday 23 March 2011] [11:52:41] &lt;pieterh&gt;        probably, but not necessarily</div>
<div class="line">[Wednesday 23 March 2011] [11:53:32] &lt;pieterh&gt;        I&#8217;ve not actually seen real use cases for req-rep with more than 2 hops</div>
<div class="line">[Wednesday 23 March 2011] [11:54:05] &lt;Guthur&gt; yeah I think outside the req-rep pattern tbh</div>
<div class="line">[Wednesday 23 March 2011] [11:54:16] &lt;pieterh&gt;        sustrik&#8217;s whitepaper does present some but they seem contrived to me</div>
<div class="line">[Wednesday 23 March 2011] [11:54:52] &lt;Guthur&gt; it&#8217;s in relation to my endeavours with FIX, this is very much a disjointed async communication</div>
<div class="line">[Wednesday 23 March 2011] [11:55:10] &lt;Guthur&gt; you may send off 1 request and async recv N replies</div>
<div class="line">[Wednesday 23 March 2011] [11:55:29] &lt;pieterh&gt;        right</div>
<div class="line">[Wednesday 23 March 2011] [11:55:48] &lt;Guthur&gt; So the X sockets are the only way to go really</div>
<div class="line">[Wednesday 23 March 2011] [11:56:09] &lt;Guthur&gt; without maybe using multiple sockets</div>
<div class="line">[Wednesday 23 March 2011] [12:11:59] &lt;sp|ke&gt;  hi guys</div>
<div class="line">[Wednesday 23 March 2011] [12:12:36] &lt;sp|ke&gt;  i have setup a pub server with a bunch of sub clients</div>
<div class="line">[Wednesday 23 March 2011] [12:13:16] &lt;sp|ke&gt;  is it possible to make the sub client get data after the pub server have shutdown and get back online ?</div>
<div class="line">[Wednesday 23 March 2011] [12:13:30] &lt;sp|ke&gt;  without restarting the client</div>
<div class="line">[Wednesday 23 March 2011] [12:14:40] &lt;pieterh&gt;        sp|ke: the sub client will reconnect automatically</div>
<div class="line">[Wednesday 23 March 2011] [12:14:48] &lt;pieterh&gt;        but it will lose data obviously</div>
<div class="line">[Wednesday 23 March 2011] [12:41:53] &lt;sp|ke&gt;  pieterh: yes indeed, i must have done some mistake, do you think it&#8217;s possible with REQ/REP pattern too ?</div>
<div class="line">[Wednesday 23 March 2011] [12:42:42] &lt;sp|ke&gt;  i have done some tests if i shutdwon the server after the client have sent the request</div>
<div class="line">[Wednesday 23 March 2011] [12:42:49] &lt;sp|ke&gt;  adn restart the server</div>
<div class="line">[Wednesday 23 March 2011] [12:43:03] &lt;sp|ke&gt;  the client stay blocked</div>
<div class="line">[Wednesday 23 March 2011] [12:43:22] &lt;sp|ke&gt;  is there a way to check that the req zmqsocket is still alive ?</div>
<div class="line">[Wednesday 23 March 2011] [12:54:26] &lt;cremes&gt; sp|ke: no, you can&#8217;t do that with req/rep when using blocking send/recv; you have to create your own timeout</div>
<div class="line">[Wednesday 23 March 2011] [12:54:55] &lt;cremes&gt; and use non-blocking send/recv along with zmq_poll() to detect a timeout and to handle that situation</div>
<div class="line">[Wednesday 23 March 2011] [13:01:00] &lt;sp|ke&gt;  cremes: ok thanx for the advice</div>
<div class="line">[Wednesday 23 March 2011] [15:09:38] &lt;mikko&gt;  drbobbeaty: did you manage to test the new version of openpgm?</div>
<div class="line">[Wednesday 23 March 2011] [15:10:06] &lt;drbobbeaty&gt;     mikko: yup, sure did. Works fine.</div>
<div class="line">[Wednesday 23 March 2011] [15:10:11] &lt;mikko&gt;  cool</div>
<div class="line">[Wednesday 23 March 2011] [15:10:31] &lt;drbobbeaty&gt;     mikko: I used 0MQ 2.1.3 and the 5.1.115 OpenPGM from Steve-o</div>
<div class="line">[Wednesday 23 March 2011] [15:11:07] &lt;mikko&gt;  the &#8211;with-pgm=pgknamehere ?</div>
<div class="line">[Wednesday 23 March 2011] [17:14:39] &lt;drbobbeaty&gt;     mikko: yes, sorry I didn&#8217;t see it earlier, I used the name of the tarball in the config line.</div>
<div class="line">[Wednesday 23 March 2011] [17:16:21] &lt;mikko&gt;  drbobbeaty: cool</div>
<div class="line">[Wednesday 23 March 2011] [17:16:41] &lt;mikko&gt;  that feature proved to be useful quite quickly</div>
<div class="line">[Wednesday 23 March 2011] [17:23:51] &lt;pieterh&gt;        mikko: the new openpgm packaging is really nicely done, congrats</div>
<div class="line">[Wednesday 23 March 2011] [17:25:18] &lt;mikko&gt;  pieterh: i will send pull request for the make dist fixes</div>
<div class="line">[Wednesday 23 March 2011] [17:25:32] &lt;mikko&gt;  and clear hudson job workspaces so that it will build from empty</div>
<div class="line">[Wednesday 23 March 2011] [17:27:16] &lt;pieterh&gt;        mikko: we still need to get this into the libzmq core repository</div>
<div class="line">[Wednesday 23 March 2011] [17:27:25] &lt;pieterh&gt;        sustrik&#8217;s repo</div>
<div class="line">[Wednesday 23 March 2011] [17:27:43] &lt;mikko&gt;  yes</div>
<div class="line">[Wednesday 23 March 2011] [17:27:56] &lt;mikko&gt;  as soon as it works properly i&#8217;ll get it ready for el sustrik</div>
<div class="line">[Wednesday 23 March 2011] [17:28:13] &lt;pieterh&gt;        I figured out (I&#8217;m so thick) how to pull individual commits across repos</div>
<div class="line">[Wednesday 23 March 2011] [17:28:20] &lt;mikko&gt;  cherry pick?</div>
<div class="line">[Wednesday 23 March 2011] [17:28:27] &lt;pieterh&gt;        don&#8217;t need to fetch and cherry-pick</div>
<div class="line">[Wednesday 23 March 2011] [17:28:36] &lt;pieterh&gt;        gah</div>
<div class="line">[Wednesday 23 March 2011] [17:29:00] &lt;pieterh&gt;        just define the remote and then use &#8216;git pull&#8217; with the commit number</div>
<div class="line">[Wednesday 23 March 2011] [17:29:15] &lt;pieterh&gt;        the precise syntax is explained by github when you have a pull request</div>
<div class="line">[Wednesday 23 March 2011] [17:29:23] &lt;pieterh&gt;        in your face the whole time, so to speak</div>
<div class="line">[Wednesday 23 March 2011] [17:29:54] &lt;mikko&gt;  yeah</div>
<div class="line">[Wednesday 23 March 2011] [17:30:03] &lt;mikko&gt;  been thinking about this situation for some time</div>
<div class="line">[Wednesday 23 March 2011] [17:30:20] &lt;pieterh&gt;        github pull requests are just issues that wrap manual git commands</div>
<div class="line">[Wednesday 23 March 2011] [17:30:24] &lt;mikko&gt;  pull request effectively isn&#8217;t much more than github thing around pulling from other request</div>
<div class="line">[Wednesday 23 March 2011] [17:30:27] &lt;mikko&gt;  yes</div>
<div class="line">[Wednesday 23 March 2011] [17:30:30] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [17:30:45] &lt;mikko&gt;  we could use the underlying mechanism but just make the requests via mailing-list</div>
<div class="line">[Wednesday 23 March 2011] [17:31:09] &lt;pieterh&gt;        exactly</div>
<div class="line">[Wednesday 23 March 2011] [17:31:15] &lt;pieterh&gt;        that&#8217;s what I&#8217;d like to aim for</div>
<div class="line">[Wednesday 23 March 2011] [17:31:55] &lt;pieterh&gt;        precisely this:</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git checkout -b mkoppanen-fix-make-dist master</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git pull <a class="reference external" href="https://github.com/mkoppanen/zeromq2-1.git">https://github.com/mkoppanen/zeromq2-1.git</a> fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git checkout master</div>
<div class="line">[Wednesday 23 March 2011] [17:31:57] &lt;pieterh&gt;        git merge mkoppanen-fix-make-dist</div>
<div class="line">[Wednesday 23 March 2011] [17:32:06] &lt;pieterh&gt;        to take your last pull request as example</div>
<div class="line">[Wednesday 23 March 2011] [17:33:04] &lt;mikko&gt;  very simple process</div>
<div class="line">[Wednesday 23 March 2011] [17:33:14] &lt;pieterh&gt;        it seems so</div>
<div class="line">[Wednesday 23 March 2011] [17:33:25] &lt;pieterh&gt;        now we just have to convince el sustrik to try it ... :-)</div>
<div class="line">[Wednesday 23 March 2011] [17:35:07] &lt;pieterh&gt;        let me document this quickly on the contributing page...</div>
<div class="line">[Wednesday 23 March 2011] [17:46:27] &lt;Guthur&gt; pieterh, could you quickly take a look at the issue this guy describes <a class="reference external" href="https://github.com/zeromq/clrzmq/issues/11#comment_909819">https://github.com/zeromq/clrzmq/issues/11#comment_909819</a></div>
<div class="line">[Wednesday 23 March 2011] [17:46:37] &lt;pieterh&gt;        Guthur: ack, on it...</div>
<div class="line">[Wednesday 23 March 2011] [17:46:42] &lt;Guthur&gt; Would it be possible it is a slow subscriber issue</div>
<div class="line">[Wednesday 23 March 2011] [17:46:56] &lt;Guthur&gt; I understand there is very little in the way of concrete details</div>
<div class="line">[Wednesday 23 March 2011] [17:47:06] &lt;Guthur&gt; just your gut feeling would be suffice</div>
<div class="line">[Wednesday 23 March 2011] [17:50:17] &lt;pieterh&gt;        Guthur: do you expose the zmq_msg_init_data call in your API?</div>
<div class="line">[Wednesday 23 March 2011] [17:50:49] &lt;pieterh&gt;        gut feeling is he&#8217;s sending stuff that he meanwhile frees</div>
<div class="line">[Wednesday 23 March 2011] [17:53:31] &lt;pieterh&gt;        Guthur: ok, comment added</div>
<div class="line">[Wednesday 23 March 2011] [18:06:30] &lt;Guthur&gt; pieterh, sorry was afk there</div>
<div class="line">[Wednesday 23 March 2011] [18:06:39] &lt;Guthur&gt; my flatmates made some food</div>
<div class="line">[Wednesday 23 March 2011] [18:06:44] &lt;pieterh&gt;        curry?</div>
<div class="line">[Wednesday 23 March 2011] [18:06:52] &lt;Guthur&gt; pizza and pasta</div>
<div class="line">[Wednesday 23 March 2011] [18:07:00] &lt;pieterh&gt;        sounds excellent</div>
<div class="line">[Wednesday 23 March 2011] [18:07:16] &lt;pieterh&gt;        and you seriously still want to discuss 0MQ? :-)</div>
<div class="line">[Wednesday 23 March 2011] [18:07:25] &lt;Guthur&gt; it was</div>
<div class="line">[Wednesday 23 March 2011] [18:07:39] &lt;Guthur&gt; well I knew you might be answer so felt bad leaving so quickly</div>
<div class="line">[Wednesday 23 March 2011] [18:07:39] &lt;pieterh&gt;        hehe</div>
<div class="line">[Wednesday 23 March 2011] [18:07:53] &lt;Guthur&gt; I&#8217;m just about to go back for tea an chocolates</div>
<div class="line">[Wednesday 23 March 2011] [18:08:06] &lt;pieterh&gt;        go for it, I&#8217;m writing some docs</div>
<div class="line">[Wednesday 23 March 2011] [18:08:14] &lt;Guthur&gt; ok, back in a bit</div>
<div class="line">[Wednesday 23 March 2011] [19:31:06] &lt;Guthur&gt; Hi jeckstein, did you raise the issue for clrzmq2 on github</div>
<div class="line">[Wednesday 23 March 2011] [19:31:31] &lt;jeckstein&gt;      yes i did, hi michael</div>
<div class="line">[Wednesday 23 March 2011] [19:31:58] &lt;Guthur&gt; are you using the latest version of clrzmq2 from github?</div>
<div class="line">[Wednesday 23 March 2011] [19:32:01] &lt;jeckstein&gt;      i&#8217;m going to try to come up with a simple scenario to reproduce the error</div>
<div class="line">[Wednesday 23 March 2011] [19:32:26] &lt;Guthur&gt; that would be best</div>
<div class="line">[Wednesday 23 March 2011] [19:32:46] &lt;Guthur&gt; best isolating the issue much easier</div>
<div class="line">[Wednesday 23 March 2011] [19:33:19] &lt;jeckstein&gt;      i&#8217;m not actually, i&#8217;m using the clrzmq2 v2.0.0</div>
<div class="line">[Wednesday 23 March 2011] [19:33:24] &lt;jeckstein&gt;      since you said all it did was add the newer socket options, i didn&#8217;t want to introduce too many new components into my app</div>
<div class="line">[Wednesday 23 March 2011] [19:33:52] &lt;Guthur&gt; jeckstein, there was actually a couple of bug fixes after that</div>
<div class="line">[Wednesday 23 March 2011] [19:34:03] &lt;Guthur&gt; are you using polling?</div>
<div class="line">[Wednesday 23 March 2011] [19:35:06] &lt;jeckstein&gt;      i&#8217;m not setting polling explicitly</div>
<div class="line">[Wednesday 23 March 2011] [19:36:12] &lt;Guthur&gt; ok, best to get some code together so I can run an identical test to try and reproduce the bug</div>
<div class="line">[Wednesday 23 March 2011] [19:37:45] &lt;jeckstein&gt;      ok, I&#8217;ll update my clrzmq2</div>
<div class="line">[Wednesday 23 March 2011] [19:39:49] &lt;jeckstein&gt;      guthur, are you familiar with reading windows memory dump files?</div>
<div class="line">[Wednesday 23 March 2011] [19:40:24] &lt;Guthur&gt; to be honest no</div>
<div class="line">[Wednesday 23 March 2011] [19:41:40] &lt;jeckstein&gt;      no problem, i was able to get the dump but couldn&#8217;t get too much out of it..one thing I did see interesting was that part of the stack trace for the error included 2 back to back calls to zmq_stopwatch_stop</div>
<div class="line">[Wednesday 23 March 2011] [20:05:12] &lt;mikko&gt;  pieterh: did you push the latest make dist fixes?</div>
<div class="line">[Wednesday 23 March 2011] [20:12:46] &lt;Guthur&gt; jeckstein, any success getting a minimal test case?</div>
<div class="line">[Wednesday 23 March 2011] [20:14:11] &lt;jeckstein&gt;      no, its going to take me a little while to do that, i just compiled and loaded the newest clrzmq2 (2.1.0) and am testing it on my application now</div>
<div class="line">[Wednesday 23 March 2011] [20:18:13] &lt;Guthur&gt; ok, cool</div>
<div class="line">[Wednesday 23 March 2011] [20:37:27] &lt;jaten&gt;  hey guys, I&#8217;m getting a core dump in /lib/libpthread.so in the head of the git repos for zeromq, running the first server.cpp example in the Guide. This is on ubuntu 10.10 with /lib/libpthread.so.0 from libc 2.12.1-0ubuntu10.2.  It doesn&#8217;t happen with with the earlier 10.04 with libc 2.11.1-0ubuntu7.8 or 7.7, which has /lib/libpthread.so.0 version  2.11.1.  Is this a known issue?  If not where would I post for assistance/bug report?</div>
<div class="line">[Wednesday 23 March 2011] [20:43:10] &lt;Guthur&gt; jaten, you should probably raise a ticket on github, and maybe fire a description on to the mailing list</div>
<div class="line">[Wednesday 23 March 2011] [21:51:19] &lt;jaten&gt;  Guthur: okay, thanks. I&#8217;ll do that.</div>
<div class="line">[Thursday 24 March 2011] [02:16:22] &lt;ferrouswheel&gt;    is there any support for message priorities or QoS? saw various discussions on the mailing list, but not sure if it eventuated into anything?</div>
<div class="line">[Thursday 24 March 2011] [02:26:25] &lt;sustrik&gt; ad message priorities: no, you have to use different message feeds to get different priorities</div>
<div class="line">[Thursday 24 March 2011] [02:26:33] &lt;sustrik&gt; ad QoS: it can be set on network level</div>
<div class="line">[Thursday 24 March 2011] [02:27:24] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/whitepapers:traffic-monitoring-v20">http://www.zeromq.org/whitepapers:traffic-monitoring-v20</a></div>
<div class="line">[Thursday 24 March 2011] [02:30:11] &lt;ferrouswheel&gt;    sustrik, thanks - that&#8217;s what i suspected</div>
<div class="line">[Thursday 24 March 2011] [02:39:39] &lt;ferrouswheel&gt;    i want to use zeromq for an (initially) inprocess rpc, but would like to decrease the priority of clients that make more requests. I can see various ways to do this, but am curious if a particular design makes more logical sense than others when using zeromq...</div>
<div class="line">[Thursday 24 March 2011] [02:46:38] &lt;sustrik&gt; ferrouswheel: create several REP sockets, one for each priority</div>
<div class="line">[Thursday 24 March 2011] [02:46:57] &lt;sustrik&gt; read requests from high priority sockets first</div>
<div class="line">[Thursday 24 March 2011] [02:47:28] &lt;sustrik&gt; alternatively, you can add priority scheduling to 0mq core directly, which is something that&#8217;s on the roadmap already</div>
<div class="line">[Thursday 24 March 2011] [02:50:08] &lt;ferrouswheel&gt;    sustrik, okay - the async server (fig 47) in the guide also seems appropriate... deciding on which worker to send a client to, depending on the request rate</div>
<div class="line">[Thursday 24 March 2011] [02:50:36] &lt;ferrouswheel&gt;    but i think i&#8217;ll leave 0mq core modifications until i&#8217;ve actually used and understand 0mq better ;-)</div>
<div class="line">[Thursday 24 March 2011] [02:50:44] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [04:28:13] &lt;ianbarber&gt;       fully confused by git. i pulled in changes from the upstream, but it seems to have committed it as a commit, so now if I do a pull req it includes those</div>
<div class="line">[Thursday 24 March 2011] [04:28:30] &lt;ianbarber&gt;       bunch of zguide examples and stuff</div>
<div class="line">[Thursday 24 March 2011] [04:42:06] &lt;Steve-o&gt; hence it&#8217;s called &#8220;git&#8221;</div>
<div class="line">[Thursday 24 March 2011] [04:42:43] &lt;Steve-o&gt; I think it&#8217;s git-rebase for the equivalent of svn update</div>
<div class="line">[Thursday 24 March 2011] [04:43:34] &lt;ianbarber&gt;       ah cool, will have a look</div>
<div class="line">[Thursday 24 March 2011] [05:55:29] &lt;private_meta&gt;    I&#8217;ve got a tcp connection, my client is stopping, but it won&#8217;t quit the program, it hangs at &#8220;return&#8221; in main in mailbox_t::recv(), any idea why?</div>
<div class="line">[Thursday 24 March 2011] [05:56:53] &lt;private_meta&gt;    It hangs there at the termination of the context, although the connection should have been set not to linger (zmq_linger with a value of 0)</div>
<div class="line">[Thursday 24 March 2011] [06:01:41] &lt;pieterh&gt; private_meta: you have a socket open somewhere</div>
<div class="line">[Thursday 24 March 2011] [06:02:38] &lt;pieterh&gt; you have to close every single socket and you have to first set linger to zero on any socket which may still be doing some work (sending, or connecting)</div>
<div class="line">[Thursday 24 March 2011] [06:03:09] &lt;pieterh&gt; this is the rather painful way 2.1 works but it can be fixed in the language binding</div>
<div class="line">[Thursday 24 March 2011] [06:03:51] &lt;private_meta&gt;    pieterh: linger is on zero on EVERY socket that is open, and how can I close the sockets in C++ apart from calling their destructor (which I&#8217;m already doing)?</div>
<div class="line">[Thursday 24 March 2011] [06:04:41] &lt;pieterh&gt; I see two possibilities... either you have forgotten a socket somewhere, or the C++ binding is buggy</div>
<div class="line">[Thursday 24 March 2011] [06:05:46] &lt;private_meta&gt;    let me try something</div>
<div class="line">[Thursday 24 March 2011] [06:05:59] &lt;pieterh&gt; private_meta: I&#8217;ve just checked the C++ binding code and there is an explicit close method</div>
<div class="line">[Thursday 24 March 2011] [06:06:33] &lt;pieterh&gt; which the destructor just wraps</div>
<div class="line">[Thursday 24 March 2011] [06:06:45] &lt;private_meta&gt;    Ah ok... the socket was a pointer in there, and destructor of a pointer isn&#8217;t called implicitly</div>
<div class="line">[Thursday 24 March 2011] [06:06:53] &lt;pieterh&gt; right</div>
<div class="line">[Thursday 24 March 2011] [06:06:59] &lt;private_meta&gt;    only if it&#8217;s a non-pointer object (which I use normally)</div>
<div class="line">[Thursday 24 March 2011] [06:07:47] &lt;pieterh&gt; in zapi, I&#8217;m delingering/closing sockets automatically when the context is destroyed</div>
<div class="line">[Thursday 24 March 2011] [06:07:58] &lt;pieterh&gt; it makes life so much simpler</div>
<div class="line">[Thursday 24 March 2011] [06:08:06] &lt;private_meta&gt;    zapi?</div>
<div class="line">[Thursday 24 March 2011] [06:08:15] &lt;pieterh&gt; the new high-level C API</div>
<div class="line">[Thursday 24 March 2011] [06:08:20] &lt;pieterh&gt; <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Thursday 24 March 2011] [06:09:42] &lt;private_meta&gt;    Well, if the socket object were destroyed that would have been the case, but it wasn&#8217;t</div>
<div class="line">[Thursday 24 March 2011] [06:10:12] &lt;pieterh&gt; Sure, you still need to go set linger to zero on sockets</div>
<div class="line">[Thursday 24 March 2011] [06:11:14]    * pieterh does not like a terminate function that potentially blocks forever</div>
<div class="line">[Thursday 24 March 2011] [06:11:32] &lt;private_meta&gt;    I did some other stuff for a week so I&#8217;m still at translating the guide examples</div>
<div class="line">[Thursday 24 March 2011] [06:11:43] &lt;pieterh&gt; into C++?</div>
<div class="line">[Thursday 24 March 2011] [06:11:46] &lt;private_meta&gt;    yeah</div>
<div class="line">[Thursday 24 March 2011] [06:11:58] &lt;pieterh&gt; was it you who asked about modifying the C++ API?</div>
<div class="line">[Thursday 24 March 2011] [06:12:29] &lt;private_meta&gt;    Well, I asked about using pointers in the C++ binding</div>
<div class="line">[Thursday 24 March 2011] [06:12:42] &lt;private_meta&gt;    and the zmq::version</div>
<div class="line">[Thursday 24 March 2011] [06:12:51] &lt;pieterh&gt; yeah, and that led to thinking about splitting the C++ binding into its own project</div>
<div class="line">[Thursday 24 March 2011] [06:12:55] &lt;private_meta&gt;    Yes</div>
<div class="line">[Thursday 24 March 2011] [06:13:03] &lt;private_meta&gt;    As far as I remember, it did</div>
<div class="line">[Thursday 24 March 2011] [06:13:05] &lt;pieterh&gt; you already translated zhelpers, zmsg, etc. right?</div>
<div class="line">[Thursday 24 March 2011] [06:13:10] &lt;private_meta&gt;    Yes</div>
<div class="line">[Thursday 24 March 2011] [06:13:20] &lt;pieterh&gt; so... I have a small suggestion</div>
<div class="line">[Thursday 24 March 2011] [06:13:27] &lt;pieterh&gt; let&#8217;s make zapi++</div>
<div class="line">[Thursday 24 March 2011] [06:13:28] &lt;private_meta&gt;    I didN&#8217;t get to continue until now, so I&#8217;m at ppworker/ppqueue now</div>
<div class="line">[Thursday 24 March 2011] [06:13:45] &lt;pieterh&gt; zapi basically refactors the zhelpers/zmsg APIs into something neater</div>
<div class="line">[Thursday 24 March 2011] [06:15:31] &lt;private_meta&gt;    Sounds ok, but I&#8217;d recommend not using pointers in function parameters</div>
<div class="line">[Thursday 24 March 2011] [06:15:37] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [06:16:20] &lt;pieterh&gt; so the thing here is that I&#8217;m going to migrate the C examples onto zapi</div>
<div class="line">[Thursday 24 March 2011] [06:16:28] &lt;pieterh&gt; maybe not all, but the more complex ones, in any case</div>
<div class="line">[Thursday 24 March 2011] [06:17:52] &lt;pieterh&gt; since you know the zhelpers/zmsg API well, would you take a look at zapi?</div>
<div class="line">[Thursday 24 March 2011] [06:18:22] &lt;private_meta&gt;    sure</div>
<div class="line">[Thursday 24 March 2011] [06:18:42] &lt;pieterh&gt; it&#8217;d be really useful to get your design of a C++ binding at the same level</div>
<div class="line">[Thursday 24 March 2011] [06:18:44] &lt;private_meta&gt;    but right now I need to fix this (somewhat) small ppworker problem I have, it doesn&#8217;t get a connection</div>
<div class="line">[Thursday 24 March 2011] [06:19:11] &lt;pieterh&gt; if you need a hand, shout, I&#8217;m happy to help debug code</div>
<div class="line">[Thursday 24 March 2011] [06:19:27] &lt;pieterh&gt; paranoid pirates :-)</div>
<div class="line">[Thursday 24 March 2011] [06:20:16] &lt;private_meta&gt;    Apparently you dislike curly brackets in example code</div>
<div class="line">[Thursday 24 March 2011] [06:20:25] &lt;pieterh&gt; I use them only where needed</div>
<div class="line">[Thursday 24 March 2011] [06:20:39] &lt;pieterh&gt; code minimalism is kind of a style with me</div>
<div class="line">[Thursday 24 March 2011] [06:20:40] &lt;private_meta&gt;    Every programming teacher tells you to not do that ;)</div>
<div class="line">[Thursday 24 March 2011] [06:20:48] &lt;pieterh&gt; that&#8217;s why they&#8217;re teachers</div>
<div class="line">[Thursday 24 March 2011] [06:20:52] &lt;pieterh&gt; not programmers</div>
<div class="line">[Thursday 24 March 2011] [06:20:54] &lt;private_meta&gt;    It destroys readability</div>
<div class="line">[Thursday 24 March 2011] [06:21:03] &lt;pieterh&gt; there&#8217;s only one way to learn how to program</div>
<div class="line">[Thursday 24 March 2011] [06:21:20] &lt;pieterh&gt; to quote Zed Shaw, by &#8220;programming, motherfucker&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:21:26] &lt;private_meta&gt;    Oh, I tend to agree with them, and many programming teachers we have here had huge programming projects already</div>
<div class="line">[Thursday 24 March 2011] [06:21:59] &lt;pieterh&gt; so you mean for example an if statement with only one line, no braces?</div>
<div class="line">[Thursday 24 March 2011] [06:22:02] &lt;private_meta&gt;    You add one line to an if statement, tend to forget you didn&#8217;t have brackets</div>
<div class="line">[Thursday 24 March 2011] [06:22:16] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [06:23:05] &lt;pieterh&gt; then this is one of my bad habits, removing braces when they&#8217;re not needed</div>
<div class="line">[Thursday 24 March 2011] [06:23:06] &lt;private_meta&gt;    Code shouldn&#8217;t be hard to read, especially if adding brackets doesn&#8217;t change the compiled results</div>
<div class="line">[Thursday 24 March 2011] [06:23:24] &lt;pieterh&gt; readability comes only from consistency, adding or removing brackets doesn&#8217;t affect it IMO</div>
<div class="line">[Thursday 24 March 2011] [06:23:40] &lt;pieterh&gt; however, if you want, go through all my examples and add brackets</div>
<div class="line">[Thursday 24 March 2011] [06:23:45] &lt;private_meta&gt;    Consistency also means you use brackets, so use them everywhere :)</div>
<div class="line">[Thursday 24 March 2011] [06:23:46] &lt;pieterh&gt; my only rule is 100% consistency, really</div>
<div class="line">[Thursday 24 March 2011] [06:24:00] &lt;pieterh&gt; I consistently don&#8217;t use them when I can avoid them</div>
<div class="line">[Thursday 24 March 2011] [06:24:19] &lt;pieterh&gt; it creates extra lines that do nothing, grouping a single line is pointless IMO</div>
<div class="line">[Thursday 24 March 2011] [06:24:42] &lt;private_meta&gt;    sure, it seems pointless if you like minimalism</div>
<div class="line">[Thursday 24 March 2011] [06:24:47] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [06:24:50] &lt;pieterh&gt; which I really do</div>
<div class="line">[Thursday 24 March 2011] [06:25:06] &lt;pieterh&gt; functional minimalism, of course, so using clear names, blank space, etc.</div>
<div class="line">[Thursday 24 March 2011] [06:25:32] &lt;pieterh&gt; but it is probably just a bad habit... :-)</div>
<div class="line">[Thursday 24 March 2011] [06:25:43] &lt;private_meta&gt;    I mean, using &#8220;cond ? statem1 : statem2&#8221; would be minimalistic</div>
<div class="line">[Thursday 24 March 2011] [06:25:52] &lt;pieterh&gt; yes, but unreadable in practice</div>
<div class="line">[Thursday 24 March 2011] [06:25:56] &lt;private_meta&gt;    still you should only do it in very special cases, &#8216;cause mostly it&#8217;s unreadable</div>
<div class="line">[Thursday 24 March 2011] [06:26:00] &lt;pieterh&gt; I do that in some cases when it&#8217;s obvious</div>
<div class="line">[Thursday 24 March 2011] [06:26:04] &lt;private_meta&gt;    yes</div>
<div class="line">[Thursday 24 March 2011] [06:26:16] &lt;pieterh&gt; the test over time is whether you can easily reuse code</div>
<div class="line">[Thursday 24 March 2011] [06:26:33] &lt;pieterh&gt; I was able to put together 3K lines of code in zapi, fully tested and documented, in 1 day</div>
<div class="line">[Thursday 24 March 2011] [06:26:53] &lt;private_meta&gt;    by the way, is it your style to put the opening bracket on functions in the next line, but the opening brackt of ifs and elses on the same?</div>
<div class="line">[Thursday 24 March 2011] [06:27:23] &lt;pieterh&gt; yes, this is historic, we reused the GNU style for functions but our own style for statements</div>
<div class="line">[Thursday 24 March 2011] [06:27:28] &lt;private_meta&gt;    yeah, you used that argument already with a simple text editor and printf debugging, but that still didn&#8217;t make me use that</div>
<div class="line">[Thursday 24 March 2011] [06:27:45] &lt;pieterh&gt; I debug zapi using printfs and valgrind</div>
<div class="line">[Thursday 24 March 2011] [06:27:52] &lt;pieterh&gt; it&#8217;s extraordinarily effective</div>
<div class="line">[Thursday 24 March 2011] [06:28:33] &lt;private_meta&gt;    not for me :)</div>
<div class="line">[Thursday 24 March 2011] [06:28:35] &lt;pieterh&gt; I&#8217;m actually shocked at being able to write masses of C code and then hammer it into shape with brute force, and it works as designed</div>
<div class="line">[Thursday 24 March 2011] [06:29:02] &lt;pieterh&gt; trick is to start with the API, and tests, and then implement &amp; test small pieces at a time</div>
<div class="line">[Thursday 24 March 2011] [06:29:49] &lt;pieterh&gt; presumably C++ eliminates a lot of the pointer errors we make in C</div>
<div class="line">[Thursday 24 March 2011] [06:30:17] &lt;pieterh&gt; anyhow, if zapi++ takes off, you can impose your style on that :-)</div>
<div class="line">[Thursday 24 March 2011] [06:30:40] &lt;private_meta&gt;    hmm</div>
<div class="line">[Thursday 24 March 2011] [06:31:18] &lt;private_meta&gt;    I&#8217;ve got a weird error in ppqueue that doesn&#8217;t let lpclient connect</div>
<div class="line">[Thursday 24 March 2011] [06:31:38] &lt;pieterh&gt; can you paste the code somewhere?</div>
<div class="line">[Thursday 24 March 2011] [06:31:48] &lt;private_meta&gt;    sec</div>
<div class="line">[Thursday 24 March 2011] [06:34:24] &lt;private_meta&gt;    Well, I don&#8217;t quite see where the error is exactly... If I use the c version of ppqueue and ppworker, lpclient works fine</div>
<div class="line">[Thursday 24 March 2011] [06:34:42] &lt;private_meta&gt;    <a class="reference external" href="https://gist.github.com/5f6a4b0a41981a66d99f">https://gist.github.com/5f6a4b0a41981a66d99f</a> <a class="reference external" href="https://gist.github.com/0d7456f199b546ffe5e9">https://gist.github.com/0d7456f199b546ffe5e9</a> <a class="reference external" href="https://gist.github.com/253bc2038df7d9b3ba00">https://gist.github.com/253bc2038df7d9b3ba00</a></div>
<div class="line">[Thursday 24 March 2011] [06:34:54] &lt;pieterh&gt; you can put multiple files into one gist BTW</div>
<div class="line">[Thursday 24 March 2011] [06:35:27] &lt;private_meta&gt;    files, yeah, but I wasn&#8217;t logged in at my virtual machine in gist</div>
<div class="line">[Thursday 24 March 2011] [06:35:33] &lt;private_meta&gt;    so I didn&#8217;t have my files here</div>
<div class="line">[Thursday 24 March 2011] [06:35:50] &lt;pieterh&gt; so ppqueue doesn&#8217;t poll the client at all, unless there are workers, that&#8217;s the first thing</div>
<div class="line">[Thursday 24 March 2011] [06:36:49] &lt;pieterh&gt; code looks nice, very neat...</div>
<div class="line">[Thursday 24 March 2011] [06:37:18] &lt;private_meta&gt;    My test setup is starting ppqueue, 1 ppworker, 1 lpclient</div>
<div class="line">[Thursday 24 March 2011] [06:37:21] &lt;pieterh&gt; have you already traced activity by putting in msg.dump() all over the place?</div>
<div class="line">[Thursday 24 March 2011] [06:37:29] &lt;private_meta&gt;    ppworker uses heartbeats</div>
<div class="line">[Thursday 24 March 2011] [06:37:32] &lt;private_meta&gt;    but lpclient can&#8217;t connect</div>
<div class="line">[Thursday 24 March 2011] [06:37:48] &lt;pieterh&gt; &#8216;can&#8217;t connect&#8217; means &#8216;does not get a reply within X seconds&#8217;</div>
<div class="line">[Thursday 24 March 2011] [06:37:53] &lt;private_meta&gt;    sec</div>
<div class="line">[Thursday 24 March 2011] [06:37:54] &lt;pieterh&gt; so you need to trace activity in the queue</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    W: no response from server, retrying...</div>
<div class="line">[Thursday 24 March 2011] [06:38:07] &lt;private_meta&gt;    I: connecting to server...</div>
<div class="line">[Thursday 24 March 2011] [06:38:10] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [06:38:14] &lt;pieterh&gt; that can mean anything</div>
<div class="line">[Thursday 24 March 2011] [06:38:20] &lt;pieterh&gt; it&#8217;s not really a connection failure</div>
<div class="line">[Thursday 24 March 2011] [06:38:32] &lt;Guthur&gt;  that could be seem behaviour I experience with teh default timeout</div>
<div class="line">[Thursday 24 March 2011] [06:38:51] &lt;Guthur&gt;  It was too aggressive in it&#8217;s timeout</div>
<div class="line">[Thursday 24 March 2011] [06:39:06] &lt;Guthur&gt;  relaxing the intervals helped</div>
<div class="line">[Thursday 24 March 2011] [06:39:12] &lt;pieterh&gt; Guthur: good memory...!</div>
<div class="line">[Thursday 24 March 2011] [06:39:18] &lt;private_meta&gt;    if I&#8217;m using ppworker and ppqueue in the c version, lpclient doesn&#8217;t receive timeouts or anything</div>
<div class="line">[Thursday 24 March 2011] [06:39:26] &lt;pieterh&gt; I fixed this in the C code, hang on, let me check...</div>
<div class="line">[Thursday 24 March 2011] [06:39:56] &lt;Guthur&gt;  pieterh: it had me scratching my head long enough that I have deep grove to remind me, hehe</div>
<div class="line">[Thursday 24 March 2011] [06:40:14] &lt;Guthur&gt;  groove*</div>
<div class="line">[Thursday 24 March 2011] [06:40:48] &lt;private_meta&gt;    by the way, using the c++ client takes way more time than the c client</div>
<div class="line">[Thursday 24 March 2011] [06:41:27] &lt;pieterh&gt; Guthur: it was in the ppworker when it simulated a CPU overload, that was always more than the client&#8217;s full timeout</div>
<div class="line">[Thursday 24 March 2011] [06:41:33] &lt;private_meta&gt;    meaning, using c queue and worker normally, then alternating between lpclient for c and c++, the c version is way faster</div>
<div class="line">[Thursday 24 March 2011] [06:41:46] &lt;pieterh&gt; private_meta: weird, that&#8217;s not expected</div>
<div class="line">[Thursday 24 March 2011] [06:42:20] &lt;pieterh&gt; sounds like a timer problem of some kind</div>
<div class="line">[Thursday 24 March 2011] [06:42:43] &lt;pieterh&gt; there should be no measurable (let alone visible) difference between the two</div>
<div class="line">[Thursday 24 March 2011] [06:43:02] &lt;pieterh&gt; private_meta: so please add msg.dump on everything the broker recvs and sends, that&#8217;s step 1</div>
<div class="line">[Thursday 24 March 2011] [06:45:12] &lt;private_meta&gt;    k, receiving is always done in the zmsg constructor, so I&#8217;ll add the dump there. should I paste the output of ppqueue?</div>
<div class="line">[Thursday 24 March 2011] [06:45:30] &lt;pieterh&gt; sounds good</div>
<div class="line">[Thursday 24 March 2011] [06:45:42] &lt;pieterh&gt; that will show us what the client is sending</div>
<div class="line">[Thursday 24 March 2011] [06:46:14] &lt;private_meta&gt;    Should I also dump messages in worker and client or just queue for now?</div>
<div class="line">[Thursday 24 March 2011] [06:46:15] &lt;pieterh&gt; then we also want to see what ppqueue is sending</div>
<div class="line">[Thursday 24 March 2011] [06:46:22] &lt;pieterh&gt; start with queue</div>
<div class="line">[Thursday 24 March 2011] [06:46:26] &lt;private_meta&gt;    k</div>
<div class="line">[Thursday 24 March 2011] [06:46:31] &lt;pieterh&gt; presumably there&#8217;s a problem between queue and worker</div>
<div class="line">[Thursday 24 March 2011] [06:46:34] &lt;pieterh&gt; so next, worker</div>
<div class="line">[Thursday 24 March 2011] [06:51:25] &lt;private_meta&gt;    argh</div>
<div class="line">[Thursday 24 March 2011] [06:51:32] &lt;private_meta&gt;    how do I redirect output AND stderror to file?</div>
<div class="line">[Thursday 24 March 2011] [06:51:54] &lt;pieterh&gt; myprog &gt; err.log 2&gt;&amp;1</div>
<div class="line">[Thursday 24 March 2011] [06:52:50] &lt;private_meta&gt;    &#8220;Aborted&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:53:10] &lt;private_meta&gt;    ah ok now</div>
<div class="line">[Thursday 24 March 2011] [06:53:44] &lt;private_meta&gt;    argh</div>
<div class="line">[Thursday 24 March 2011] [06:54:22] &lt;pieterh&gt; sounds positive... :-)</div>
<div class="line">[Thursday 24 March 2011] [06:54:34] &lt;pieterh&gt; or else you&#8217;re at the dentist... &#8220;open wider, please!&#8221;</div>
<div class="line">[Thursday 24 March 2011] [06:54:48] &lt;ianbarber&gt;       pieterh: sent a pull req for the zguide, noticed that it was notifying sustrik though, which seems probably incorrect</div>
<div class="line">[Thursday 24 March 2011] [06:55:04] &lt;private_meta&gt;    no, that didn&#8217;t redirect everything</div>
<div class="line">[Thursday 24 March 2011] [06:55:35] &lt;pieterh&gt; ianbarber: weird, but presumably he&#8217;s a watcher of that repo?</div>
<div class="line">[Thursday 24 March 2011] [06:55:54] &lt;private_meta&gt;    ok, screw it, I&#8217;ll just copy from console if that doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [06:57:18] &lt;private_meta&gt;    pieterh: <a class="reference external" href="https://gist.github.com/2a9823bb9163202ec026">https://gist.github.com/2a9823bb9163202ec026</a></div>
<div class="line">[Thursday 24 March 2011] [06:57:57] &lt;private_meta&gt;    pieterh: that&#8217;s the log from starting ppworker till disconnecting (killing) ppworker</div>
<div class="line">[Thursday 24 March 2011] [06:58:10] &lt;private_meta&gt;    in the middle, I started lpclient and it terminated by itself</div>
<div class="line">[Thursday 24 March 2011] [06:58:18] &lt;pieterh&gt; ianbarber: got them, thanks!</div>
<div class="line">[Thursday 24 March 2011] [06:58:24] &lt;pieterh&gt; private_meta: ok, reading that...</div>
<div class="line">[Thursday 24 March 2011] [06:59:12] &lt;pieterh&gt; private_meta: I assume it should say &#8216;after recv&#8217; not &#8216;before recv&#8217;...</div>
<div class="line">[Thursday 24 March 2011] [06:59:23] &lt;private_meta&gt;    ah yes</div>
<div class="line">[Thursday 24 March 2011] [06:59:30] &lt;pieterh&gt; so you have a bug in the worker</div>
<div class="line">[Thursday 24 March 2011] [06:59:40] &lt;pieterh&gt; try running your queue, your client, my worker</div>
<div class="line">[Thursday 24 March 2011] [07:00:29] &lt;pieterh&gt; I&#8217;ll let you figure out what the error is, it&#8217;s clear from the trace</div>
<div class="line">[Thursday 24 March 2011] [07:00:37] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [07:00:50] &lt;private_meta&gt;    Doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [07:00:58] &lt;private_meta&gt;    same error</div>
<div class="line">[Thursday 24 March 2011] [07:01:20] &lt;pieterh&gt; that&#8217;s unpossible! :-)</div>
<div class="line">[Thursday 24 March 2011] [07:01:41] &lt;pieterh&gt; ok, try my worker, my client, your queue...</div>
<div class="line">[Thursday 24 March 2011] [07:02:06] &lt;pieterh&gt; hang on, that&#8217;s just the same, sorry...</div>
<div class="line">[Thursday 24 March 2011] [07:02:25] &lt;pieterh&gt; your worker, my queue, your client...</div>
<div class="line">[Thursday 24 March 2011] [07:03:00] &lt;pieterh&gt; the error shows on lines 32-41</div>
<div class="line">[Thursday 24 March 2011] [07:03:01] &lt;private_meta&gt;    should be the same, let me check (i think i tried that already)</div>
<div class="line">[Thursday 24 March 2011] [07:03:33] &lt;private_meta&gt;    No, doesn&#8217;t work</div>
<div class="line">[Thursday 24 March 2011] [07:04:00] &lt;private_meta&gt;    sec, gotta fetch a delivery, bb in 5 minutes or so</div>
<div class="line">[Thursday 24 March 2011] [07:04:03] &lt;pieterh&gt; then you have a problem in BOTH your worker and your queue, perhaps because it&#8217;s in the msg class</div>
<div class="line">[Thursday 24 March 2011] [07:04:09] &lt;pieterh&gt; cyl, then</div>
<div class="line">[Thursday 24 March 2011] [07:08:07] &lt;private_meta&gt;    i hope this time the tablet pc is alright</div>
<div class="line">[Thursday 24 March 2011] [07:08:20] &lt;private_meta&gt;    pieterh: ok, then what might be the problem in the zmsg class? any idea?</div>
<div class="line">[Thursday 24 March 2011] [07:08:36] &lt;pieterh&gt; private_meta: look at lines 32-41 of your trace</div>
<div class="line">[Thursday 24 March 2011] [07:08:51] &lt;pieterh&gt; the worker sends back (or the queue wrongly receives) the worker address twice</div>
<div class="line">[Thursday 24 March 2011] [07:09:01] &lt;pieterh&gt; when it should be worker address, then original client address</div>
<div class="line">[Thursday 24 March 2011] [07:09:14] &lt;pieterh&gt; thus the reply to the client gets sent back to the worker instead</div>
<div class="line">[Thursday 24 March 2011] [07:09:28] &lt;private_meta&gt;    hmm</div>
<div class="line">[Thursday 24 March 2011] [07:09:55] &lt;pieterh&gt; you see the wrong addresses, right?</div>
<div class="line">[Thursday 24 March 2011] [07:10:04] &lt;private_meta&gt;    yes</div>
<div class="line">[Thursday 24 March 2011] [07:10:33] &lt;pieterh&gt; this is kind of standard when using envelopes, they are tricky to get right</div>
<div class="line">[Thursday 24 March 2011] [07:11:10] &lt;pieterh&gt; you can now add printfs to msg where it&#8217;s recving and sending frames</div>
<div class="line">[Thursday 24 March 2011] [07:11:27] &lt;private_meta&gt;    So this might be a problem the selftest didn&#8217;t catch?</div>
<div class="line">[Thursday 24 March 2011] [07:11:31] &lt;pieterh&gt; for sure</div>
<div class="line">[Thursday 24 March 2011] [07:12:33] &lt;pieterh&gt; hmm, there is a unit test for this but it&#8217;s not double-checking every frame</div>
<div class="line">[Thursday 24 March 2011] [07:12:38] &lt;pieterh&gt; could improve that</div>
<div class="line">[Thursday 24 March 2011] [07:13:02] &lt;private_meta&gt;    ah goddammit, i need to fetch a usb dvd drive again...</div>
<div class="line">[Thursday 24 March 2011] [07:13:05] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [07:13:26] &lt;private_meta&gt;    well, hp guys didn&#8217;t think it would be a good idea to install a 64bit operating system on their latest notebooks</div>
<div class="line">[Thursday 24 March 2011] [07:13:41] &lt;pieterh&gt; 32 bits should be enough for anyone</div>
<div class="line">[Thursday 24 March 2011] [07:13:50] &lt;pieterh&gt; maybe it&#8217;s a subtle hint to install Ubuntu...</div>
<div class="line">[Thursday 24 March 2011] [07:14:16] &lt;private_meta&gt;    No, I can&#8217;t use Linux in everyday life, creates too many problems</div>
<div class="line">[Thursday 24 March 2011] [07:14:24] &lt;private_meta&gt;    (Murphies Law and everything)</div>
<div class="line">[Thursday 24 March 2011] [07:14:35] &lt;pieterh&gt; my sympathies...</div>
<div class="line">[Thursday 24 March 2011] [07:15:19] &lt;private_meta&gt;    Everytime I tried to use something on Linux for personal use, it failed in a way that wasn&#8217;t fixable</div>
<div class="line">[Thursday 24 March 2011] [07:15:47] &lt;pieterh&gt; weird, I&#8217;ve been using Linux for 10+ years and it&#8217;s irreplaceable for me</div>
<div class="line">[Thursday 24 March 2011] [07:15:56] &lt;private_meta&gt;    I&#8217;ve been using Linux for that long as well, but I can&#8217;t use it as a primary system</div>
<div class="line">[Thursday 24 March 2011] [07:16:08] &lt;private_meta&gt;    apart from that, as a gamer I need Windows anyway</div>
<div class="line">[Thursday 24 March 2011] [07:16:12] &lt;pieterh&gt; 10+ years for primary personal use, since early 1990&#8217;s for work</div>
<div class="line">[Thursday 24 March 2011] [07:16:27] &lt;pieterh&gt; ah, games</div>
<div class="line">[Thursday 24 March 2011] [07:16:49] &lt;private_meta&gt;    Well, some like it, others don&#8217;t, I tend to be someone fond of games :)</div>
<div class="line">[Thursday 24 March 2011] [07:17:11] &lt;private_meta&gt;    But it&#8217;s not like playing games is the only reason ;)</div>
<div class="line">[Thursday 24 March 2011] [07:17:48] &lt;pieterh&gt; are any game engines using 0MQ yet, I wonder...</div>
<div class="line">[Thursday 24 March 2011] [07:18:11] &lt;pieterh&gt; &#8220;shoots 4M bullets per second!!!&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:27:23] &lt;mikko-_&gt; mato</div>
<div class="line">[Thursday 24 March 2011] [07:27:25] &lt;mikko-_&gt; there?</div>
<div class="line">[Thursday 24 March 2011] [07:27:44] &lt;mikko-_&gt; pieterh: you remember ben from zeromq london meetup?</div>
<div class="line">[Thursday 24 March 2011] [07:27:50] &lt;pieterh&gt; sure</div>
<div class="line">[Thursday 24 March 2011] [07:27:55] &lt;mikko-_&gt; he works in gaming industry</div>
<div class="line">[Thursday 24 March 2011] [07:28:12] &lt;pieterh&gt; right, he was &#8220;putting 0MQ everywhere&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:28:27] &lt;mikko-_&gt; you could pry from him on which games he works on</div>
<div class="line">[Thursday 24 March 2011] [07:28:35] &lt;pieterh&gt; nah, I don&#8217;t really care :-)</div>
<div class="line">[Thursday 24 March 2011] [07:28:59] &lt;ianbarber&gt;       his latest, total war shogun 2 is out now! i&#8217;m sure he&#8217;d support your purchasing :)</div>
<div class="line">[Thursday 24 March 2011] [07:29:05] &lt;pieterh&gt; I used to write games but don&#8217;t play them</div>
<div class="line">[Thursday 24 March 2011] [07:29:21] &lt;Guthur&gt;  I really liked the total war series</div>
<div class="line">[Thursday 24 March 2011] [07:29:29] &lt;Guthur&gt;  don&#8217;t game much anymore though</div>
<div class="line">[Thursday 24 March 2011] [07:30:14] &lt;ianbarber&gt;       shogun 2 is actually quite a lot of fun. i&#8217;m all mac everywhere now though, and they&#8217;re windows only though</div>
<div class="line">[Thursday 24 March 2011] [07:30:16] &lt;Guthur&gt;  no time these days unfortunately</div>
<div class="line">[Thursday 24 March 2011] [07:31:46] &lt;ianbarber&gt;       i think it would be very beneficial for engines though, everyone has to deal with many cores these days</div>
<div class="line">[Thursday 24 March 2011] [07:32:09] &lt;ianbarber&gt;       x360 is what, 6? ps3 7. and most decent desktops are at least 4</div>
<div class="line">[Thursday 24 March 2011] [07:32:10] &lt;pieterh&gt; I recall people asking about this ages ago, when 0MQ was 0.something</div>
<div class="line">[Thursday 24 March 2011] [07:45:20] &lt;pieterh&gt; mikko-_: you got a second?</div>
<div class="line">[Thursday 24 March 2011] [07:48:35] &lt;mikko-_&gt; pieterh: yes</div>
<div class="line">[Thursday 24 March 2011] [07:49:09] &lt;pieterh&gt; I&#8217;d like to start on a new phase of the zmq packaging</div>
<div class="line">[Thursday 24 March 2011] [07:49:26] &lt;pieterh&gt; that is, start including other parts of the community into &#8220;ZeroMQ/x.y&#8221;</div>
<div class="line">[Thursday 24 March 2011] [07:49:36] &lt;pieterh&gt; 2.1 is libzmq and libpgm</div>
<div class="line">[Thursday 24 March 2011] [07:50:11] &lt;pieterh&gt; I&#8217;m thinking 2.2 will be libzmq, libpgm, libzapi, and maybe one or two other language bindings</div>
<div class="line">[Thursday 24 March 2011] [07:51:40] &lt;pieterh&gt; any thoughts on that? libzapi uses autotools, should be simple</div>
<div class="line">[Thursday 24 March 2011] [07:53:31] &lt;sustrik&gt; given that it&#8217;s exactly 1 day old, it sound a bit premature to include it into stable</div>
<div class="line">[Thursday 24 March 2011] [07:53:42] &lt;pieterh&gt; sustrik: that&#8217;s why I said 2.2...</div>
<div class="line">[Thursday 24 March 2011] [07:53:48] &lt;sustrik&gt; ah, ok</div>
<div class="line">[Thursday 24 March 2011] [07:53:54] &lt;pieterh&gt; :-) indeed, it&#8217;s not ready for stable</div>
<div class="line">[Thursday 24 March 2011] [07:54:16] &lt;pieterh&gt; it strikes me that libpgm integration doesn&#8217;t have to be a special case</div>
<div class="line">[Thursday 24 March 2011] [07:55:32] &lt;pieterh&gt; sustrik: btw, I used inproc pipes to create a lockfree object, as you do inside core</div>
<div class="line">[Thursday 24 March 2011] [07:55:52] &lt;pieterh&gt; it&#8217;s tricky because the object is actually the context wrapper, but it&#8217;s really neat otherwise</div>
<div class="line">[Thursday 24 March 2011] [07:58:38] &lt;mikko-_&gt; hmm</div>
<div class="line">[Thursday 24 March 2011] [07:58:51] &lt;mikko-_&gt; pieter: you mean into same package?</div>
<div class="line">[Thursday 24 March 2011] [07:59:01] &lt;pieterh&gt; yes, I mean expand the scope of the download</div>
<div class="line">[Thursday 24 March 2011] [07:59:08] &lt;mikko-_&gt; distros like if you keep things separate</div>
<div class="line">[Thursday 24 March 2011] [07:59:18] &lt;pieterh&gt; different issue</div>
<div class="line">[Thursday 24 March 2011] [07:59:24] &lt;pieterh&gt; distros can repackage individual libraries</div>
<div class="line">[Thursday 24 March 2011] [07:59:33] &lt;pieterh&gt; users like getting one package</div>
<div class="line">[Thursday 24 March 2011] [07:59:47] &lt;pieterh&gt; imagine having to download &amp; build libpgm separately</div>
<div class="line">[Thursday 24 March 2011] [07:59:58] &lt;mikko-_&gt; thats what i would normally expect to do</div>
<div class="line">[Thursday 24 March 2011] [08:00:01] &lt;mikko-_&gt; :)</div>
<div class="line">[Thursday 24 March 2011] [08:00:10] &lt;mikko-_&gt; install dependencies before the software</div>
<div class="line">[Thursday 24 March 2011] [08:00:13] &lt;pieterh&gt; yes, but you&#8217;re a developer not a sysadmin</div>
<div class="line">[Thursday 24 March 2011] [08:00:48] &lt;mikko-_&gt; from sysadmin pov i would package rpm and install the packages that are defined in &#8220;BuildRequires&#8221; stanza</div>
<div class="line">[Thursday 24 March 2011] [08:00:58] &lt;mikko-_&gt; assuming everything is available as rpm</div>
<div class="line">[Thursday 24 March 2011] [08:00:59] &lt;pieterh&gt; we can still publish minimal packages for distros</div>
<div class="line">[Thursday 24 March 2011] [08:01:13] &lt;mikko-_&gt; do you want these to be built together as well?</div>
<div class="line">[Thursday 24 March 2011] [08:01:18] &lt;mikko-_&gt; or just packaged together?</div>
<div class="line">[Thursday 24 March 2011] [08:01:28] &lt;pieterh&gt; well, there are two main reasons for packaging together</div>
<div class="line">[Thursday 24 March 2011] [08:01:43] &lt;pieterh&gt; a. convenience for installing</div>
<div class="line">[Thursday 24 March 2011] [08:01:50] &lt;pieterh&gt; b. tested as a single unit</div>
<div class="line">[Thursday 24 March 2011] [08:02:04] &lt;pieterh&gt; so for b, yes, we&#8217;d also build/test the collection</div>
<div class="line">[Thursday 24 March 2011] [08:02:14] &lt;pieterh&gt; as we would do for libpgm, it&#8217;s exactly the same</div>
<div class="line">[Thursday 24 March 2011] [08:02:43] &lt;pieterh&gt; otherwise 0MQ cannot scale</div>
<div class="line">[Thursday 24 March 2011] [08:03:10] &lt;mikko-_&gt; where do you draw the line what should be packaged?</div>
<div class="line">[Thursday 24 March 2011] [08:03:16] &lt;mikko-_&gt; should all language bindings be bundled?</div>
<div class="line">[Thursday 24 March 2011] [08:03:21] &lt;pieterh&gt; well, I don&#8217;t draw a line as such</div>
<div class="line">[Thursday 24 March 2011] [08:03:21] &lt;mikko-_&gt; what about devices?</div>
<div class="line">[Thursday 24 March 2011] [08:03:40] &lt;pieterh&gt; what I&#8217;d do is do this step by step and stop when it&#8217;s no longer worth going further</div>
<div class="line">[Thursday 24 March 2011] [08:03:52] &lt;pieterh&gt; imagine there&#8217;s a separate project with overall tests</div>
<div class="line">[Thursday 24 March 2011] [08:03:56] &lt;pieterh&gt; I&#8217;d probably package that</div>
<div class="line">[Thursday 24 March 2011] [08:04:10] &lt;pieterh&gt; I&#8217;d probably package all available documentation</div>
<div class="line">[Thursday 24 March 2011] [08:04:31] &lt;pieterh&gt; but gradually, otherwise it&#8217;s indigestable</div>
<div class="line">[Thursday 24 March 2011] [08:05:21] &lt;pieterh&gt; this also makes it easier to e.g. make a Windows kit, it&#8217;s the same set of packages with a MSI frontend</div>
<div class="line">[Thursday 24 March 2011] [08:06:08] &lt;pieterh&gt; so the release repositories are where this happens, presumably using submodules</div>
<div class="line">[Thursday 24 March 2011] [08:07:17] &lt;pieterh&gt; this also gives project developers something to aim at</div>
<div class="line">[Thursday 24 March 2011] [08:07:24] &lt;Guthur&gt;  I have to admit that I would take a similar point of view as mikko</div>
<div class="line">[Thursday 24 March 2011] [08:07:39] &lt;pieterh&gt; many people will, for sure</div>
<div class="line">[Thursday 24 March 2011] [08:07:55] &lt;Guthur&gt;  I have a similar decision to make with clrzmq2</div>
<div class="line">[Thursday 24 March 2011] [08:08:23] &lt;pieterh&gt; if you actually look at the process of getting 0MQ working with language XYZ, it&#8217;s often a real pain</div>
<div class="line">[Thursday 24 March 2011] [08:08:27] &lt;Guthur&gt;  prepackaging libzmq.dll would allow the binding to seamlessly support 32/64 bit environment</div>
<div class="line">[Thursday 24 March 2011] [08:08:33] &lt;pieterh&gt; indeed</div>
<div class="line">[Thursday 24 March 2011] [08:08:53] &lt;Guthur&gt;  but I would rather have the users get the libzmq straight from the &#8216;golden&#8217; source</div>
<div class="line">[Thursday 24 March 2011] [08:09:07] &lt;pieterh&gt; If I download 0MQ for Windows I&#8217;d expect to get clrzmq2 included</div>
<div class="line">[Thursday 24 March 2011] [08:09:15] &lt;Guthur&gt;  so bug fixes etc can be propagated</div>
<div class="line">[Thursday 24 March 2011] [08:09:20] &lt;pieterh&gt; well, as an option</div>
<div class="line">[Thursday 24 March 2011] [08:09:33] &lt;pieterh&gt; but mostly, it&#8217;s asking users to do extra work</div>
<div class="line">[Thursday 24 March 2011] [08:09:50] &lt;pieterh&gt; that always eliminates a large chunk of users</div>
<div class="line">[Thursday 24 March 2011] [08:10:04] &lt;Guthur&gt;  yeah, I&#8217;m aware I maybe be falling into the worse is better mind set</div>
<div class="line">[Thursday 24 March 2011] [08:10:55] &lt;pieterh&gt; people who don&#8217;t (yet) have an emotional connection to a project simply won&#8217;t tolerate pain to start using it</div>
<div class="line">[Thursday 24 March 2011] [08:11:09] &lt;pieterh&gt; it has to be really, really simple to &#8220;get&#8221; 0MQ</div>
<div class="line">[Thursday 24 March 2011] [08:11:22] &lt;pieterh&gt; after that, it can become more and more complex, that&#8217;s fine</div>
<div class="line">[Thursday 24 March 2011] [08:11:56] &lt;pieterh&gt; but the first taste must not be complex or difficult</div>
<div class="line">[Thursday 24 March 2011] [08:12:22] &lt;pieterh&gt; IMHO</div>
<div class="line">[Thursday 24 March 2011] [08:12:38] &lt;Guthur&gt;  sure, someone is actually looking to contribute something to clrzmq2 to improve the 32/64 bit issue</div>
<div class="line">[Thursday 24 March 2011] [08:12:55] &lt;Guthur&gt;  that issue would even more simply removed by prepackaging</div>
<div class="line">[Thursday 24 March 2011] [08:13:11] &lt;pieterh&gt; so let&#8217;s look at making a Windows package?</div>
<div class="line">[Thursday 24 March 2011] [08:13:27] &lt;pieterh&gt; libzmq+clrzmq2+libzapi</div>
<div class="line">[Thursday 24 March 2011] [08:13:41] &lt;pieterh&gt; +libpgm</div>
<div class="line">[Thursday 24 March 2011] [08:14:08] &lt;Guthur&gt;  I&#8217;ll put looking at a WiX project for it on my ToDo list</div>
<div class="line">[Thursday 24 March 2011] [08:14:16] &lt;pieterh&gt; WiX = windows installer?</div>
<div class="line">[Thursday 24 March 2011] [08:14:24] &lt;Guthur&gt;  WiX is a windows installer declarative language</div>
<div class="line">[Thursday 24 March 2011] [08:14:30] &lt;pieterh&gt; nice</div>
<div class="line">[Thursday 24 March 2011] [08:15:01] &lt;Guthur&gt;  yeah only down side is it uses XML based grammar</div>
<div class="line">[Thursday 24 March 2011] [08:15:24] &lt;pieterh&gt; XML grammars can be neat if done right but usually they&#8217;re not</div>
<div class="line">[Thursday 24 March 2011] [08:15:42] &lt;Guthur&gt;  the worlds irrational love of XML pains me</div>
<div class="line">[Thursday 24 March 2011] [08:16:13] &lt;pieterh&gt; Well, I&#8217;ve written maybe 100k lines of declarative XML and it works fine if you&#8217;re minimalist</div>
<div class="line">[Thursday 24 March 2011] [08:16:41] &lt;Guthur&gt;  there is some many attributes and elements that it quickly becomes messy</div>
<div class="line">[Thursday 24 March 2011] [08:16:50] &lt;Guthur&gt;  ...for WiX</div>
<div class="line">[Thursday 24 March 2011] [08:17:18] &lt;pieterh&gt; <a class="reference external" href="http://download.imatix.com/mop/beginning.html">http://download.imatix.com/mop/beginning.html</a> for example</div>
<div class="line">[Thursday 24 March 2011] [08:17:25] &lt;pieterh&gt; anyhow, WiX...</div>
<div class="line">[Thursday 24 March 2011] [08:17:52] &lt;pieterh&gt; if you decide to start a packaging project, let&#8217;s make a separate repo for that</div>
<div class="line">[Thursday 24 March 2011] [08:17:57] &lt;pieterh&gt; not inside clrzmq2</div>
<div class="line">[Thursday 24 March 2011] [08:17:59] &lt;Guthur&gt;  on the other hand I like sexp, which a lot of people don&#8217;t like</div>
<div class="line">[Thursday 24 March 2011] [08:18:05] &lt;Guthur&gt;  pieterh: ok</div>
<div class="line">[Thursday 24 March 2011] [08:30:51] &lt;mikko-_&gt; pieter</div>
<div class="line">[Thursday 24 March 2011] [08:30:55] &lt;mikko-_&gt; the doc generation is broken</div>
<div class="line">[Thursday 24 March 2011] [08:30:59] &lt;mikko-_&gt; in mnay ways</div>
<div class="line">[Thursday 24 March 2011] [08:31:01] &lt;pieterh&gt; which project?</div>
<div class="line">[Thursday 24 March 2011] [08:31:02] &lt;mikko-_&gt; :)</div>
<div class="line">[Thursday 24 March 2011] [08:31:05] &lt;pieterh&gt; rfc?</div>
<div class="line">[Thursday 24 March 2011] [08:31:09] &lt;mikko-_&gt; zeromq</div>
<div class="line">[Thursday 24 March 2011] [08:31:13] &lt;mikko-_&gt; the wikidot api thingy</div>
<div class="line">[Thursday 24 March 2011] [08:31:23] &lt;pieterh&gt; hang on a sec...</div>
<div class="line">[Thursday 24 March 2011] [08:31:27] &lt;mikko-_&gt; 1) the call to wikidot fails with &#8220;Unauthorised&#8221;</div>
<div class="line">[Thursday 24 March 2011] [08:31:36] &lt;mikko-_&gt; 2) it prints out your API key in the error message</div>
<div class="line">[Thursday 24 March 2011] [08:31:41] &lt;pieterh&gt; yes, I pinged you about that, you missed that</div>
<div class="line">[Thursday 24 March 2011] [08:31:59] &lt;pieterh&gt; Wikidot upgraded their API for security reasons</div>
<div class="line">[Thursday 24 March 2011] [08:32:00] &lt;mikko-_&gt; i miss so many things using this web irc client</div>
<div class="line">[Thursday 24 March 2011] [08:32:31] &lt;pieterh&gt; you need to be a member of the rfc site to publish to it, that&#8217;s one thing</div>
<div class="line">[Thursday 24 March 2011] [08:32:38] &lt;pieterh&gt; afair I did make you member, let me check</div>
<div class="line">[Thursday 24 March 2011] [08:32:59] &lt;pieterh&gt; s/rfc/api/</div>
<div class="line">[Thursday 24 March 2011] [08:33:01] &lt;mikko-_&gt; it uses pieterh user</div>
<div class="line">[Thursday 24 March 2011] [08:33:21] &lt;pieterh&gt; you should be using your own API key by now  :-)</div>
<div class="line">[Thursday 24 March 2011] [08:33:27] &lt;pieterh&gt; you were authorized ages ago</div>
<div class="line">[Thursday 24 March 2011] [08:33:32] &lt;mikko-_&gt; oh, ok</div>
<div class="line">[Thursday 24 March 2011] [08:33:39] &lt;pieterh&gt; mine changed, old one is no longer valid</div>
<div class="line">[Thursday 24 March 2011] [08:33:39] &lt;mikko-_&gt; will check that this evening</div>
<div class="line">[Thursday 24 March 2011] [08:33:50] &lt;mikko-_&gt; good</div>
<div class="line">[Thursday 24 March 2011] [08:34:07] &lt;pieterh&gt; what&#8217;s your wikidot user id?</div>
<div class="line">[Thursday 24 March 2011] [08:34:13] &lt;pieterh&gt; i need to make you member of the site</div>
<div class="line">[Thursday 24 March 2011] [08:34:35] &lt;pieterh&gt; mkoppanen, I assume, you&#8217;re invited</div>
<div class="line">[Thursday 24 March 2011] [08:34:51] &lt;pieterh&gt; you were already invited, mikko :-)</div>
<div class="line">[Thursday 24 March 2011] [08:35:32] &lt;pieterh&gt; accept the invite, grab your own API key, fix your environment, and it&#8217;ll work</div>
<div class="line">[Thursday 24 March 2011] [08:36:07] &lt;pieterh&gt; meanwhile I&#8217;ll update that site for 2.1.3</div>
<div class="line">[Thursday 24 March 2011] [08:53:00] &lt;Guthur&gt;  pieterh: actually in relation to clrzmq2 packaging, there is something called NuGet</div>
<div class="line">[Thursday 24 March 2011] [08:53:09] &lt;Guthur&gt;  which I think is something similar to Maven</div>
<div class="line">[Thursday 24 March 2011] [08:53:25] &lt;pieterh&gt; Guthur tries to confuse pieterh by throwing random words at him</div>
<div class="line">[Thursday 24 March 2011] [08:53:45] &lt;Guthur&gt;  similiar to ANT with dependency repo management</div>
<div class="line">[Thursday 24 March 2011] [08:53:46]    * pieterh is suitably confused, rolls 5 &#8220;Go to Google&#8221;</div>
<div class="line">[Thursday 24 March 2011] [08:53:53] &lt;private_meta&gt;    This is great</div>
<div class="line">[Thursday 24 March 2011] [08:54:04] &lt;Guthur&gt;  hehe I was just trying to confuse you more with that last one</div>
<div class="line">[Thursday 24 March 2011] [08:54:05] &lt;private_meta&gt;    I have VirtualBox Virtual Machines running on Windows</div>
<div class="line">[Thursday 24 March 2011] [08:54:23] &lt;pieterh&gt; private_meta: VirtualBox is really useful, indeed</div>
<div class="line">[Thursday 24 March 2011] [08:54:24] &lt;private_meta&gt;    As soon as I pull up the Microsoft VirtualPC Settings dialog, every VirtualBox Machine crashes</div>
<div class="line">[Thursday 24 March 2011] [08:54:27] &lt;Guthur&gt;  private_meta: I go the other way round VM windows on Linux, heeh</div>
<div class="line">[Thursday 24 March 2011] [08:54:32] &lt;pieterh&gt; oh, lol</div>
<div class="line">[Thursday 24 March 2011] [08:54:44] &lt;pieterh&gt; VirtualPC has the VirtualBox killer option enabled!</div>
<div class="line">[Thursday 24 March 2011] [08:54:46] &lt;private_meta&gt;    great, isn&#8217;t it?</div>
<div class="line">[Thursday 24 March 2011] [08:55:06] &lt;Guthur&gt;  Virtual Box is pretty neat</div>
<div class="line">[Thursday 24 March 2011] [08:55:28] &lt;pieterh&gt; it is, indeed... I used it to install a Windows iTunes to reformat my old iPod so I could use that under Ubuntu...</div>
<div class="line">[Thursday 24 March 2011] [08:55:30]    * Guthur worries about what Oracle might do with all the free stuff they now own</div>
<div class="line">[Thursday 24 March 2011] [08:55:31] &lt;private_meta&gt;    It has it&#8217;s disadvantages, but there is only so much choice you have if you go the gratis way</div>
<div class="line">[Thursday 24 March 2011] [08:55:48] &lt;Guthur&gt;  oracle is not renowned for their generosity</div>
<div class="line">[Thursday 24 March 2011] [08:55:57] &lt;private_meta&gt;    Not really, no</div>
<div class="line">[Thursday 24 March 2011] [08:56:01] &lt;pieterh&gt; Guthur: the GPL doesn&#8217;t depend on generosity...</div>
<div class="line">[Thursday 24 March 2011] [08:56:34] &lt;private_meta&gt;    That&#8217;s not the problem imho</div>
<div class="line">[Thursday 24 March 2011] [08:57:03] &lt;private_meta&gt;    Oracle owns the majority of the developers working on VirtualBox</div>
<div class="line">[Thursday 24 March 2011] [08:57:11] &lt;private_meta&gt;    That means, whatever they want in, they can put in</div>
<div class="line">[Thursday 24 March 2011] [08:57:17] &lt;private_meta&gt;    Same with Java or OpenOffice</div>
<div class="line">[Thursday 24 March 2011] [08:57:29] &lt;private_meta&gt;    Now, as seen with OpenOffice, the only way to go against that would be a fork</div>
<div class="line">[Thursday 24 March 2011] [08:57:34] &lt;private_meta&gt;    and that&#8217;s never an ideal solution</div>
<div class="line">[Thursday 24 March 2011] [08:57:57] &lt;pieterh&gt; I doubt Oracle is worse than, say, IBM, who have lots of people working on Apache projects</div>
<div class="line">[Thursday 24 March 2011] [08:58:20] &lt;pieterh&gt; Oracle will happily do what IBM does, use free software to hurt competitors</div>
<div class="line">[Thursday 24 March 2011] [08:59:35] &lt;private_meta&gt;    The good/bad thing about doubt is that it&#8217;s not the same thing as proof</div>
<div class="line">[Thursday 24 March 2011] [09:00:08] &lt;pieterh&gt; well, Sun weren&#8217;t particularly great with FOSS either</div>
<div class="line">[Thursday 24 March 2011] [09:00:27] &lt;pieterh&gt; shrug, there is no certainty in life, and that&#8217;s probably a good thing</div>
<div class="line">[Thursday 24 March 2011] [09:01:28] &lt;private_meta&gt;    Well, seeing it in a different way, when you analyze evolution, and you think about mutation, it&#8217;s not always the &#8220;better&#8221; solution that survives</div>
<div class="line">[Thursday 24 March 2011] [09:01:36] &lt;private_meta&gt;    it&#8217;s the stronger one...</div>
<div class="line">[Thursday 24 March 2011] [09:01:49] &lt;private_meta&gt;    Oracle might be stronger, doesn&#8217;t mean it&#8217;s better for everyone</div>
<div class="line">[Thursday 24 March 2011] [09:01:54] &lt;pieterh&gt; private_meta: actually, by the very definition of selection, it is always the better one... :-)</div>
<div class="line">[Thursday 24 March 2011] [09:02:16] &lt;pieterh&gt; but business is not evolutionary, really</div>
<div class="line">[Thursday 24 March 2011] [09:02:25] &lt;private_meta&gt;    in some way it is</div>
<div class="line">[Thursday 24 March 2011] [09:02:28] &lt;pieterh&gt; well, actually yes, it is</div>
<div class="line">[Thursday 24 March 2011] [09:02:37] &lt;pieterh&gt; and large firms are like large predators</div>
<div class="line">[Thursday 24 March 2011] [09:02:38] &lt;private_meta&gt;    it&#8217;s just a redefinition of &#8220;better&#8221;</div>
<div class="line">[Thursday 24 March 2011] [09:02:42] &lt;pieterh&gt; yes, precisely</div>
<div class="line">[Thursday 24 March 2011] [09:03:08] &lt;pieterh&gt; large firms can be extraordinarily greedy, damaging, etc. but they are also slow, stupid, cautious</div>
<div class="line">[Thursday 24 March 2011] [09:03:28] &lt;Guthur&gt;  0MQ is better, so we win, hehe</div>
<div class="line">[Thursday 24 March 2011] [09:03:51] &lt;pieterh&gt; 100 genius brains, sitting in a corporate office, cannot compete with 100 happy brains, organized freely</div>
<div class="line">[Thursday 24 March 2011] [09:04:04] &lt;pieterh&gt; we&#8217;re better, therefore 0MQ is better</div>
<div class="line">[Thursday 24 March 2011] [09:04:44] &lt;stimpie&gt; if we find out why my application gets slow when using inproc to communicate between java threads</div>
<div class="line">[Thursday 24 March 2011] [09:05:00] &lt;pieterh&gt; stimpie: how are you measuring it?</div>
<div class="line">[Thursday 24 March 2011] [09:06:23]    * private_meta imagines 100 happy Forrest Gumps sitting in front of computers</div>
<div class="line">[Thursday 24 March 2011] [09:06:31] &lt;stimpie&gt; systems with network: p-&gt; b -&gt;s    where b uses a thread to receivce tcp and an inproc socket to sent to another thread</div>
<div class="line">[Thursday 24 March 2011] [09:06:58] &lt;stimpie&gt; when b is a single thread I get 200k m/s</div>
<div class="line">[Thursday 24 March 2011] [09:07:16] &lt;stimpie&gt; adding a dispatcher to another thread drops speed to 70k m/s</div>
<div class="line">[Thursday 24 March 2011] [09:07:43] &lt;stimpie&gt; I would expect the performance penalty in througput would be almost zero</div>
<div class="line">[Thursday 24 March 2011] [09:08:22] &lt;pieterh&gt; stimpie: how many cores are you running on?</div>
<div class="line">[Thursday 24 March 2011] [09:08:44] &lt;pieterh&gt; private_meta: <a class="reference external" href="http://www.devilswiki.com/wiki:collective-intelligence">http://www.devilswiki.com/wiki:collective-intelligence</a></div>
<div class="line">[Thursday 24 March 2011] [09:08:53] &lt;stimpie&gt; 8 available 3 are used</div>
<div class="line">[Thursday 24 March 2011] [09:09:32] &lt;pieterh&gt; do you see a CPU usage increase?</div>
<div class="line">[Thursday 24 March 2011] [09:09:44] &lt;pieterh&gt; there are two possible causes, IMO</div>
<div class="line">[Thursday 24 March 2011] [09:09:57] &lt;pieterh&gt; a. actually doing extra work, e.g. recoding messages</div>
<div class="line">[Thursday 24 March 2011] [09:10:12] &lt;pieterh&gt; b. round-tripping, i.e. doing req/rep on each message</div>
<div class="line">[Thursday 24 March 2011] [09:12:13] &lt;stimpie&gt; extra work is minimal, all sockets are XREP</div>
<div class="line">[Thursday 24 March 2011] [09:12:27] &lt;pieterh&gt; no acknowledgments?</div>
<div class="line">[Thursday 24 March 2011] [09:12:37] &lt;stimpie&gt; none</div>
<div class="line">[Thursday 24 March 2011] [09:12:52] &lt;stimpie&gt; iam sending and receiving on a single socket</div>
<div class="line">[Thursday 24 March 2011] [09:13:02] &lt;stimpie&gt; could that cause some race condition?</div>
<div class="line">[Thursday 24 March 2011] [09:13:05] &lt;pieterh&gt; hmm, interesting. So do you see CPU usage or memory usage going up?</div>
<div class="line">[Thursday 24 March 2011] [09:14:12] &lt;pieterh&gt; presumably messages queues will back up and memory use will increase</div>
<div class="line">[Thursday 24 March 2011] [09:14:41] &lt;pieterh&gt; sounds like something in the Java binding... I&#8217;ve not played much with that</div>
<div class="line">[Thursday 24 March 2011] [09:15:47] &lt;sustrik&gt; if you are sending and receiving on the same socket from different threads, that can result in race condition</div>
<div class="line">[Thursday 24 March 2011] [09:17:27] &lt;stimpie&gt; cpu usage is ~230% memory usages appears to keep increasing</div>
<div class="line">[Thursday 24 March 2011] [09:17:48] &lt;pieterh&gt; stimpie: are you using the same socket from more than one thread?</div>
<div class="line">[Thursday 24 March 2011] [09:18:13] &lt;stimpie&gt; one sockets sends to multiple threads</div>
<div class="line">[Thursday 24 March 2011] [09:18:22] &lt;stimpie&gt; each thread has his own socket</div>
<div class="line">[Thursday 24 March 2011] [09:18:44] &lt;pieterh&gt; something is doing a <em>lot</em> of work... how large are these messages?</div>
<div class="line">[Thursday 24 March 2011] [09:19:06] &lt;stimpie&gt; message size is about 40 bytes,  I will try using 2 sockets, one for sending one for receiving</div>
<div class="line">[Thursday 24 March 2011] [09:19:17] &lt;pieterh&gt; that won&#8217;t help IMO</div>
<div class="line">[Thursday 24 March 2011] [09:19:51] &lt;pieterh&gt; stimpie: even your single thread case is abnormally slow</div>
<div class="line">[Thursday 24 March 2011] [09:19:59] &lt;pieterh&gt; 200K per second is not what you&#8217;d expect</div>
<div class="line">[Thursday 24 March 2011] [09:20:36] &lt;pieterh&gt; best approach IMO would be to verify Java binding performance with a simple test case</div>
<div class="line">[Thursday 24 March 2011] [09:21:23] &lt;pieterh&gt; two threads, send messages from A to B over inproc</div>
<div class="line">[Thursday 24 March 2011] [09:21:54] &lt;stimpie&gt; oke let me write something, just a sec</div>
<div class="line">[Thursday 24 March 2011] [09:22:05] &lt;pieterh&gt; problem can be in 3 layers, libzmq, jzmq, or your code</div>
<div class="line">[Thursday 24 March 2011] [09:22:22] &lt;pieterh&gt; this test should tell us what layer is guilty</div>
<div class="line">[Thursday 24 March 2011] [10:02:18] &lt;stimpie&gt; while(true) send();  //is not nice on inproc</div>
<div class="line">[Thursday 24 March 2011] [10:02:45] &lt;stimpie&gt; duration: 1961.39 ms, messages:1000000, speed: 509842.88 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:02:58] &lt;stimpie&gt; xrep inproc-&gt;xrep inproc</div>
<div class="line">[Thursday 24 March 2011] [10:07:10] &lt;stimpie&gt; ps. this is on my &#8216;slow&#8217; laptop</div>
<div class="line">[Thursday 24 March 2011] [10:13:01] &lt;stimpie&gt; my test for 2way messages appears to deadlock, see <a class="reference external" href="http://pastebin.com/K20P6YhZ">http://pastebin.com/K20P6YhZ</a></div>
<div class="line">[Thursday 24 March 2011] [10:14:06] &lt;stimpie&gt; aha my mistake</div>
<div class="line">[Thursday 24 March 2011] [10:16:42] &lt;stimpie&gt; performance on with a 2 way ping-pong</div>
<div class="line">[Thursday 24 March 2011] [10:16:43] &lt;stimpie&gt; duration: 3871.77 ms, messages:100000, speed: 25827.98 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:21:45] &lt;sustrik&gt; what&#8217;s wrong with that?</div>
<div class="line">[Thursday 24 March 2011] [10:22:00] &lt;stimpie&gt; nothing</div>
<div class="line">[Thursday 24 March 2011] [10:22:10] &lt;stimpie&gt; 2 threads both sending and receiving 1M messages (not interleaved)</div>
<div class="line">[Thursday 24 March 2011] [10:22:12] &lt;stimpie&gt; duration: 531.86 ms, messages:100000, speed: 188020.73 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:22:14] &lt;sustrik&gt; is it 25k rountrips/sec</div>
<div class="line">[Thursday 24 March 2011] [10:22:16] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [10:22:21] &lt;stimpie&gt; yes roundtrips</div>
<div class="line">[Thursday 24 March 2011] [10:22:30] &lt;sustrik&gt; that&#8217;s 40us per roundrip</div>
<div class="line">[Thursday 24 March 2011] [10:22:34] &lt;sustrik&gt; i.e. 20us single-way</div>
<div class="line">[Thursday 24 March 2011] [10:22:51] &lt;pieterh&gt; stimpie: you said you weren&#8217;t doing round trips in your application</div>
<div class="line">[Thursday 24 March 2011] [10:22:51] &lt;sustrik&gt; that sounds reasonable, given that JNI and java is on the stack</div>
<div class="line">[Thursday 24 March 2011] [10:23:48] &lt;stimpie&gt; pieterh, its just a test case</div>
<div class="line">[Thursday 24 March 2011] [10:24:12] &lt;pieterh&gt; sure, but we want a test case that simulates the basic flow you&#8217;re using</div>
<div class="line">[Thursday 24 March 2011] [10:24:19] &lt;stimpie&gt; so far everything appears fine with jzmq+zmq</div>
<div class="line">[Thursday 24 March 2011] [10:24:24] &lt;pieterh&gt; i.e. xrep to xrep over inproc, one-way</div>
<div class="line">[Thursday 24 March 2011] [10:24:58] &lt;pieterh&gt; hang on, you did that, 509K/sec...</div>
<div class="line">[Thursday 24 March 2011] [10:25:09] &lt;pieterh&gt; and 188k send/recv...</div>
<div class="line">[Thursday 24 March 2011] [10:25:52] &lt;pieterh&gt; IMO there&#8217;s something with the Java threading</div>
<div class="line">[Thursday 24 March 2011] [10:25:57] &lt;stimpie&gt; the send/recv should be double its only measured on 1 side</div>
<div class="line">[Thursday 24 March 2011] [10:28:45] &lt;stimpie&gt; I do believe my setup with a client -&gt; dispatcher -&gt; thread -&gt; dispatcher -&gt; client  should not use one socket to connect thread and dispatcher</div>
<div class="line">[Thursday 24 March 2011] [10:29:44] &lt;stimpie&gt; probably I should run each dispatcher in his own thread</div>
<div class="line">[Thursday 24 March 2011] [10:30:14] &lt;stimpie&gt; that should give a flow of ~500K m/s</div>
<div class="line">[Thursday 24 March 2011] [10:32:36] &lt;pieterh&gt; looks like that&#8217;s the jzmq limit per thread, on your &#8216;slow&#8217; machine</div>
<div class="line">[Thursday 24 March 2011] [10:38:42] &lt;mato&gt;    mikko-_: hi</div>
<div class="line">[Thursday 24 March 2011] [10:39:04] &lt;mato&gt;    actually, more a question for pieterh</div>
<div class="line">[Thursday 24 March 2011] [10:39:15] &lt;pieterh&gt; mato: shoot</div>
<div class="line">[Thursday 24 March 2011] [10:39:47] &lt;mato&gt;    pieterh: how soon until 2.1.4? i can either arm-twist the debian build to work with 2.1.3 or wait for 2.1.4 (re the openpgm thread)</div>
<div class="line">[Thursday 24 March 2011] [10:40:24] &lt;pieterh&gt; I can make 2.1.4 this weekend, I&#8217;d like to wait a day or two for more feedback on use</div>
<div class="line">[Thursday 24 March 2011] [10:40:35] &lt;mato&gt;    ok, fine</div>
<div class="line">[Thursday 24 March 2011] [10:40:48] &lt;pieterh&gt; if you are blocked by this, I can make it sooner, or give you a preview</div>
<div class="line">[Thursday 24 March 2011] [10:40:58] &lt;pieterh&gt; but you need an official package, don&#8217;t you</div>
<div class="line">[Thursday 24 March 2011] [10:41:03] &lt;mato&gt;    pretty much</div>
<div class="line">[Thursday 24 March 2011] [10:41:16] &lt;mato&gt;    don&#8217;t worry about it, it can wait till the weekend</div>
<div class="line">[Thursday 24 March 2011] [10:41:48] &lt;pieterh&gt; ok, that&#8217;ll work then</div>
<div class="line">[Thursday 24 March 2011] [10:41:55] &lt;mato&gt;    but, i need to test the fixes. so, if i want &#8220;what will become 2.1.4&#8221;, that is in zeromq2-1.git ?</div>
<div class="line">[Thursday 24 March 2011] [10:42:11] &lt;pieterh&gt; yes, the 2-1 git is the to-be-released 2.1.4</div>
<div class="line">[Thursday 24 March 2011] [10:42:23] &lt;pieterh&gt; master branch, no surprises</div>
<div class="line">[Thursday 24 March 2011] [10:42:28] &lt;mato&gt;    good,m so i can do make dist myself from that to test things</div>
<div class="line">[Thursday 24 March 2011] [10:42:33] &lt;pieterh&gt; exactly</div>
<div class="line">[Thursday 24 March 2011] [10:42:48] &lt;pieterh&gt; I noticed dist also makes zip files, that&#8217;s nice</div>
<div class="line">[Thursday 24 March 2011] [10:42:59] &lt;pieterh&gt; I&#8217;d like to do that in zapi and zfl too...</div>
<div class="line">[Thursday 24 March 2011] [10:43:24] &lt;mato&gt;    just copy what libzmq does</div>
<div class="line">[Thursday 24 March 2011] [10:43:39] &lt;pieterh&gt; yup, will do</div>
<div class="line">[Thursday 24 March 2011] [10:47:35] &lt;stimpie&gt; my &#8216;faster&#8217; machine gets the following perfomance on inproc  duration: 12681.44 ms, messages:10000000, speed: 788554.25 m/s</div>
<div class="line">[Thursday 24 March 2011] [10:48:18] &lt;stimpie&gt; considering I got over 2M with tcp its still quite slow</div>
<div class="line">[Thursday 24 March 2011] [10:57:02] &lt;private_meta&gt;    788km/sec... that&#8217;s almost twice as fast as the earths rotational speed!</div>
<div class="line">[Thursday 24 March 2011] [10:57:29] &lt;private_meta&gt;    oh wait</div>
<div class="line">[Thursday 24 March 2011] [10:57:31] &lt;private_meta&gt;    way more</div>
<div class="line">[Thursday 24 March 2011] [10:57:36] &lt;private_meta&gt;    spinning out of control</div>
<div class="line">[Thursday 24 March 2011] [10:58:38] &lt;stimpie&gt; it would save nasa some money ;-)</div>
<div class="line">[Thursday 24 March 2011] [11:02:27] &lt;sustrik&gt; stimpie: iirc JNI locks a mutex for each call</div>
<div class="line">[Thursday 24 March 2011] [11:02:48] &lt;sustrik&gt; which could account for limiting number of calls per sec to below 1M</div>
<div class="line">[Thursday 24 March 2011] [11:05:47] &lt;SurfaceTension&gt;  Does anybody have an approximate object code size for ARM Thumb?</div>
<div class="line">[Thursday 24 March 2011] [11:12:07] &lt;private_meta&gt;    hmpf... it&#8217;s difficult to find the problem with the paranoid pirate/zmsg problem</div>
<div class="line">[Thursday 24 March 2011] [11:13:12] &lt;mato&gt;    pieterh: ok, 2.1.4 git fixes my problem but still has a couple of problems with openpgm integration, have reported those on the ML</div>
<div class="line">[Thursday 24 March 2011] [11:15:26] &lt;sustrik&gt; mato: also notice that pre-compiled devices were removed</div>
<div class="line">[Thursday 24 March 2011] [11:15:38] &lt;mato&gt;    sustrik: yes, i have already noticed</div>
<div class="line">[Thursday 24 March 2011] [11:15:44] &lt;mato&gt;    sustrik: thx</div>
<div class="line">[Thursday 24 March 2011] [11:15:46] &lt;sustrik&gt; which means some functionality will actually disappear after installing new package</div>
<div class="line">[Thursday 24 March 2011] [11:15:52] &lt;mato&gt;    yes, i know</div>
<div class="line">[Thursday 24 March 2011] [11:15:55] &lt;mato&gt;    not up to me</div>
<div class="line">[Thursday 24 March 2011] [11:16:00] &lt;sustrik&gt; no idea what process debian uses for that kind of thing</div>
<div class="line">[Thursday 24 March 2011] [11:16:05] &lt;mato&gt;    actually, it won&#8217;t disappear in debian</div>
<div class="line">[Thursday 24 March 2011] [11:16:21] &lt;sustrik&gt; heh</div>
<div class="line">[Thursday 24 March 2011] [11:16:39] &lt;mato&gt;    you&#8217;ll just get the 2.0.x devices staying installed if you installed them in the 1st place</div>
<div class="line">[Thursday 24 March 2011] [11:16:56] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [11:17:35] &lt;mato&gt;    i.e. after upgrading to 2.1.x you will get libzmq0 (2.0.10) zeromq-bin (2.0.10) libzmq1 (2.1.x) and libzmq-dev (2.1.x) installed</div>
<div class="line">[Thursday 24 March 2011] [11:18:31] &lt;mato&gt;    which may confuse some people, in which case i will cheerfully pass on said people to the upstream maintainer :-)</div>
<div class="line">[Thursday 24 March 2011] [11:19:58] &lt;mato&gt;    hmm.</div>
<div class="line">[Thursday 24 March 2011] [11:20:08] &lt;mato&gt;    sustrik: i&#8217;m just thinking, about those devices</div>
<div class="line">[Thursday 24 March 2011] [11:20:32] &lt;mato&gt;    sustrik: d&#8217;you think i should force their removal?</div>
<div class="line">[Thursday 24 March 2011] [11:20:59] &lt;sustrik&gt; mato: no idea</div>
<div class="line">[Thursday 24 March 2011] [11:21:43] &lt;sustrik&gt; i would say the minor upgrade shouldn&#8217;t break backward compatibility</div>
<div class="line">[Thursday 24 March 2011] [11:21:51] &lt;sustrik&gt; but it&#8217;s too late for that</div>
<div class="line">[Thursday 24 March 2011] [11:22:10] &lt;sustrik&gt; hm, presumably, leaving the old devices there would be better</div>
<div class="line">[Thursday 24 March 2011] [11:22:27] &lt;sustrik&gt; at least the things won&#8217;t stop working after upgrade</div>
<div class="line">[Thursday 24 March 2011] [11:22:45] &lt;mato&gt;    yes, except that they won&#8217;t talk to 2.1 applications anyway</div>
<div class="line">[Thursday 24 March 2011] [11:22:50] &lt;mato&gt;    (wire protocol change)</div>
<div class="line">[Thursday 24 March 2011] [11:23:10] &lt;mato&gt;    i&#8217;ll ask the debian people i&#8217;m working with</div>
<div class="line">[Thursday 24 March 2011] [11:23:19] &lt;sustrik&gt; ah, the last debian release was 2.0, right?</div>
<div class="line">[Thursday 24 March 2011] [11:23:27] &lt;mato&gt;    yup.</div>
<div class="line">[Thursday 24 March 2011] [11:23:30] &lt;mikko-_&gt; mato: i will look at the two issues you mentioned</div>
<div class="line">[Thursday 24 March 2011] [11:23:34] &lt;sustrik&gt; then delete the devices</div>
<div class="line">[Thursday 24 March 2011] [11:23:53] &lt;sustrik&gt; missing executable is pretty obvious</div>
<div class="line">[Thursday 24 March 2011] [11:24:06] &lt;sustrik&gt; incompatible wire format is hard to detect</div>
<div class="line">[Thursday 24 March 2011] [11:24:25] &lt;mato&gt;    sustrik: precisely</div>
<div class="line">[Thursday 24 March 2011] [11:24:39] &lt;mato&gt;    sustrik: ok i&#8217;ll see if there&#8217;s a way to do that</div>
<div class="line">[Thursday 24 March 2011] [11:24:53] &lt;mato&gt;    mikko-_: thanks!</div>
<div class="line">[Thursday 24 March 2011] [11:25:17] &lt;mikko-_&gt; mato: the linking issue im not sure how that will work</div>
<div class="line">[Thursday 24 March 2011] [11:25:35] &lt;mikko-_&gt; might not have time today as i got leaving drinks tonight</div>
<div class="line">[Thursday 24 March 2011] [11:25:48] &lt;mato&gt;    mikko-_: well, i used to do it by building openpgm with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:26:07] &lt;mato&gt;    mikko-_: we should be able to do that with the current system, no?</div>
<div class="line">[Thursday 24 March 2011] [11:26:13] &lt;mikko-_&gt; mato: i thought that openpgm builds with visibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:27:32] &lt;mikko-_&gt; but i&#8217;ll get into this at some point today or tomorrow</div>
<div class="line">[Thursday 24 March 2011] [11:27:39] &lt;mato&gt;    mikko-_: IIRC what it does is use __attribute__ internally in the code</div>
<div class="line">[Thursday 24 March 2011] [11:27:54] &lt;mato&gt;    mikko-_: but what we need is for it to hide the API symbols as well</div>
<div class="line">[Thursday 24 March 2011] [11:28:17] &lt;mato&gt;    mikko-_: and I managed to override that by forcing it to build with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:28:28] &lt;mato&gt;    mikko-_: back in the day...</div>
<div class="line">[Thursday 24 March 2011] [11:29:39] &lt;mikko-_&gt; roughly what happens at the moment:</div>
<div class="line">[Thursday 24 March 2011] [11:29:54] &lt;mikko-_&gt; zeromq build invokes openpgm build and they build a libtool convenience library</div>
<div class="line">[Thursday 24 March 2011] [11:30:03] &lt;mikko-_&gt; which contains the built objects</div>
<div class="line">[Thursday 24 March 2011] [11:30:09] &lt;mikko-_&gt; called libpgm_noinsta.la</div>
<div class="line">[Thursday 24 March 2011] [11:30:18] &lt;mikko-_&gt; libpgm_noinst.la</div>
<div class="line">[Thursday 24 March 2011] [11:30:54] &lt;mikko-_&gt; and that libtool archive is added with libzmq_la_LIBADD</div>
<div class="line">[Thursday 24 March 2011] [11:31:08] &lt;mato&gt;    ignoring the libtool bit, that libpgm_noinst.la is essentially a static library archive, right?</div>
<div class="line">[Thursday 24 March 2011] [11:31:52] &lt;mikko-_&gt; essentially yes</div>
<div class="line">[Thursday 24 March 2011] [11:32:05] &lt;mato&gt;    and AC_CONIFG_SUBDIRS(...) is what invokes the OpenPGM configure?</div>
<div class="line">[Thursday 24 March 2011] [11:33:43] &lt;mikko-_&gt; it&#8217;s collection of the built objects</div>
<div class="line">[Thursday 24 March 2011] [11:33:50] &lt;mikko-_&gt; yes</div>
<div class="line">[Thursday 24 March 2011] [11:34:15] &lt;mato&gt;    ok, problem is i see no way to pass e.g. CFLAGS to AC_CONFIG_SUBDIRS</div>
<div class="line">[Thursday 24 March 2011] [11:34:35] &lt;mikko-_&gt; mato: if you look at <a class="reference external" href="http://openpgm.googlecode.com/svn/trunk/openpgm/pgm/configure.ac">http://openpgm.googlecode.com/svn/trunk/openpgm/pgm/configure.ac</a></div>
<div class="line">[Thursday 24 March 2011] [11:34:37] &lt;mato&gt;    or options, or anything</div>
<div class="line">[Thursday 24 March 2011] [11:34:51] &lt;mikko-_&gt; they are detecting visibility</div>
<div class="line">[Thursday 24 March 2011] [11:35:01] &lt;mikko-_&gt; CFLAGS are passed down from parent</div>
<div class="line">[Thursday 24 March 2011] [11:35:21] &lt;mikko-_&gt; CFLAGS=&#8217;-xyz&#8217; ./configure in zeromq build passes those down to openpgm build</div>
<div class="line">[Thursday 24 March 2011] [11:35:34] &lt;mato&gt;    mikko-_: yes, but openpgm deals with visibility differently than zmq</div>
<div class="line">[Thursday 24 March 2011] [11:36:03] &lt;mato&gt;    mikko-_: zmq uses the &#8220;<a href="#id145"><span class="problematic" id="id146">*</span></a>everything is hidden&#8221; approach</div>
<div class="line">[Thursday 24 March 2011] [11:36:14] &lt;mikko-_&gt; CFLAGS should be safe to modify even within zeromq build as that should not be used anywhere</div>
<div class="line">[Thursday 24 March 2011] [11:36:22] &lt;mikko-_&gt; CXXFLAGS and CPPFLAGS for zeromq</div>
<div class="line">[Thursday 24 March 2011] [11:36:34] &lt;mikko-_&gt; as the source is c++</div>
<div class="line">[Thursday 24 March 2011] [11:36:34] &lt;sustrik&gt; mato: btw, how do i remove an outdated topic branch from github?</div>
<div class="line">[Thursday 24 March 2011] [11:36:50] &lt;mato&gt;    pgm uses default visibility, and defines PGM_GNUC_INTERNAL to use __attribute__ ((visibility(&#8220;hidden&#8221;))</div>
<div class="line">[Thursday 24 March 2011] [11:37:13] &lt;mato&gt;    which means if the default is set to hidden with -fvisibility=hidden</div>
<div class="line">[Thursday 24 March 2011] [11:37:27] &lt;mato&gt;    then the pgm api symbols will disappear from the library</div>
<div class="line">[Thursday 24 March 2011] [11:37:58] &lt;mato&gt;    sustrik: git push origin :&lt;branch name&gt; i think</div>
<div class="line">[Thursday 24 March 2011] [11:38:13] &lt;sustrik&gt; the colon deletes the branch?</div>
<div class="line">[Thursday 24 March 2011] [11:38:17] &lt;sustrik&gt; strange</div>
<div class="line">[Thursday 24 March 2011] [11:38:18] &lt;sustrik&gt; thanks</div>
<div class="line">[Thursday 24 March 2011] [11:38:28] &lt;mato&gt;    yeah, it pushes an empty ref to it or something</div>
<div class="line">[Thursday 24 March 2011] [11:38:47] &lt;mato&gt;    deleting the remote branch via push is not the same as deleting a local branch...</div>
<div class="line">[Thursday 24 March 2011] [11:39:11] &lt;sustrik&gt; ok, np</div>
<div class="line">[Thursday 24 March 2011] [11:42:05] &lt;mato&gt;    mikko-_: in theory all that needs to be done is CFLAGS=-fvisibility=hidden for the PGM build</div>
<div class="line">[Thursday 24 March 2011] [11:42:24] &lt;mato&gt;    mikko-_: let me know if you can&#8217;t make it work</div>
<div class="line">[Thursday 24 March 2011] [11:42:38] &lt;mato&gt;    i have to go, am on a train and battery dying</div>
<div class="line">[Thursday 24 March 2011] [11:42:52] &lt;mikko-_&gt; mato: i will test as soon as i get a chance</div>
<div class="line">[Thursday 24 March 2011] [11:42:55] &lt;mikko-_&gt; wil let you know</div>
<div class="line">[Thursday 24 March 2011] [11:44:52] &lt;mato&gt;    ok, cyl</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rbc4a1ce 10/ (8 files in 4 dirs):</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: ZMQ_HWM split into ZMQ_SNDHWM and ZMQ_RCVHWM</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: These new options allow to control the maximum size of the</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: inbound and outbound message pipe separately.</div>
<div class="line">[Thursday 24 March 2011] [11:58:41] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; (+17 more commits...) - <a class="reference external" href="http://bit.ly/gIsQa8">http://bit.ly/gIsQa8</a></div>
<div class="line">[Thursday 24 March 2011] [13:11:00] &lt;pieterh&gt; sustrik: random question</div>
<div class="line">[Thursday 24 March 2011] [13:11:06] &lt;sustrik&gt; yes?</div>
<div class="line">[Thursday 24 March 2011] [13:11:17] &lt;pieterh&gt; you&#8217;re working both on master and on the pre30 branch?</div>
<div class="line">[Thursday 24 March 2011] [13:11:26] &lt;sustrik&gt; it&#8217;s a topic branch</div>
<div class="line">[Thursday 24 March 2011] [13:11:42] &lt;pieterh&gt; is that a yes or a no?</div>
<div class="line">[Thursday 24 March 2011] [13:11:57] &lt;sustrik&gt; it&#8217;s like a transaction</div>
<div class="line">[Thursday 24 March 2011] [13:12:02] &lt;sustrik&gt; not to break the master</div>
<div class="line">[Thursday 24 March 2011] [13:12:08] &lt;pieterh&gt; e.g. ZMQ_HWM split, is on master or on pre30</div>
<div class="line">[Thursday 24 March 2011] [13:12:09] &lt;pieterh&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [13:12:10] &lt;sustrik&gt; the work is done on a branch</div>
<div class="line">[Thursday 24 March 2011] [13:12:19] &lt;sustrik&gt; then it can be pulled to master in one go</div>
<div class="line">[Thursday 24 March 2011] [13:12:25] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 24 March 2011] [13:13:01] &lt;sustrik&gt; on pre30</div>
<div class="line">[Thursday 24 March 2011] [13:13:02] &lt;pieterh&gt; I&#8217;ll rephrase: are you still making improvements to the master branch provisionally marked as 2.2.0?</div>
<div class="line">[Thursday 24 March 2011] [13:13:09] &lt;pieterh&gt; or is that frozen?</div>
<div class="line">[Thursday 24 March 2011] [13:13:23] &lt;sustrik&gt; 2.2 is frozen</div>
<div class="line">[Thursday 24 March 2011] [13:13:27] &lt;sustrik&gt; tou are free to use it</div>
<div class="line">[Thursday 24 March 2011] [13:13:30] &lt;sustrik&gt; you</div>
<div class="line">[Thursday 24 March 2011] [13:13:44] &lt;pieterh&gt; yes, that was my idea, to pull specific changes into that</div>
<div class="line">[Thursday 24 March 2011] [13:13:54] &lt;sustrik&gt; note that first patch to be pulled to master is version bump to 3.0</div>
<div class="line">[Thursday 24 March 2011] [13:14:04] &lt;pieterh&gt; hmm</div>
<div class="line">[Thursday 24 March 2011] [13:14:38] &lt;pieterh&gt; ok, let me create a 2.2 release git, then we can do the switch for 3.0</div>
<div class="line">[Thursday 24 March 2011] [13:14:55] &lt;pieterh&gt; there&#8217;s not much point using a topic branch for the 3.0 stuff IMO</div>
<div class="line">[Thursday 24 March 2011] [13:15:36] &lt;ptrb&gt;    mato: you around?</div>
<div class="line">[Thursday 24 March 2011] [13:15:37] &lt;pieterh&gt; I&#8217;d like to cherry pick some changes into 2.2, such as the HWM change</div>
<div class="line">[Thursday 24 March 2011] [13:15:49] &lt;sustrik&gt; sure, do so</div>
<div class="line">[Thursday 24 March 2011] [13:15:54] &lt;pieterh&gt; ack, going for it now</div>
<div class="line">[Thursday 24 March 2011] [13:16:05] &lt;sustrik&gt; i would wait for reviews at least</div>
<div class="line">[Thursday 24 March 2011] [13:16:19] &lt;sustrik&gt; otherwise you risk having conflictins with actual master</div>
<div class="line">[Thursday 24 March 2011] [13:16:57] &lt;pieterh&gt; how so?</div>
<div class="line">[Thursday 24 March 2011] [13:17:13] &lt;sustrik&gt; well, say someone complains about something in pre30</div>
<div class="line">[Thursday 24 March 2011] [13:17:17] &lt;sustrik&gt; it will be fixed</div>
<div class="line">[Thursday 24 March 2011] [13:17:35] &lt;sustrik&gt; and the fixed patch will be pulled to master</div>
<div class="line">[Thursday 24 March 2011] [13:17:46] &lt;sustrik&gt; then you have an incompatible version in 2.2</div>
<div class="line">[Thursday 24 March 2011] [13:17:57] &lt;sustrik&gt; and you have to reconcile the problem by hand</div>
<div class="line">[Thursday 24 March 2011] [13:18:11] &lt;pieterh&gt; sure... as long as you make atomic commits, it&#8217;ll be doable IMO</div>
<div class="line">[Thursday 24 March 2011] [13:18:20] &lt;sustrik&gt; ok,  it&#8217;s up to you</div>
<div class="line">[Thursday 24 March 2011] [13:18:21] &lt;pieterh&gt; at some point the structure of 3.0 will change too far</div>
<div class="line">[Thursday 24 March 2011] [13:18:33] &lt;pieterh&gt; but we&#8217;re not going to make big changes in 2.2, just tweaks</div>
<div class="line">[Thursday 24 March 2011] [13:19:13] &lt;pieterh&gt; we may not even need the 2.2 release but I&#8217;d rather be ready than have to try to make it later</div>
<div class="line">[Thursday 24 March 2011] [13:19:33] &lt;sustrik&gt; are you aware that the patch in question is backward incompatible?</div>
<div class="line">[Thursday 24 March 2011] [13:19:41] &lt;sustrik&gt; actually all the patches in pre30 are</div>
<div class="line">[Thursday 24 March 2011] [13:19:50] &lt;pieterh&gt; yes, indeed</div>
<div class="line">[Thursday 24 March 2011] [13:20:08] &lt;sustrik&gt; and that it breaks all the language bindings?</div>
<div class="line">[Thursday 24 March 2011] [13:20:14] &lt;pieterh&gt; my immediate reaction is, this patch adds value, is worth it</div>
<div class="line">[Thursday 24 March 2011] [13:20:31] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:20:52] &lt;pieterh&gt; I think each time we&#8217;ve asked binding authors this question, they&#8217;ve answered the same</div>
<div class="line">[Thursday 24 March 2011] [13:21:26] &lt;pieterh&gt; something like, &#8220;we&#8217;d rather get new useful functionality now, even if it means fixing up stuff&#8221;</div>
<div class="line">[Thursday 24 March 2011] [13:21:54] &lt;pieterh&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:22:09] &lt;cremes&gt;  as a bindings author, i agree with that quote</div>
<div class="line">[Thursday 24 March 2011] [13:22:46] &lt;pieterh&gt; cremes: thanks, I don&#8217;t like to speak for others</div>
<div class="line">[Thursday 24 March 2011] [13:24:19] &lt;sustrik&gt; cremes: it&#8217;s up to you obviously</div>
<div class="line">[Thursday 24 March 2011] [13:24:39] &lt;sustrik&gt; my point was that if bacward incompatible changes are to happen anytime</div>
<div class="line">[Thursday 24 March 2011] [13:24:49] &lt;sustrik&gt; the bindings end up as a mess of ifdefs</div>
<div class="line">[Thursday 24 March 2011] [13:24:55] &lt;cremes&gt;  since the library version is exposed via the zmq_* api, it&#8217;s pretty easy to turn things on/off at runtime</div>
<div class="line">[Thursday 24 March 2011] [13:25:21] &lt;cremes&gt;  i agree that with too many minor differences things could get ugly</div>
<div class="line">[Thursday 24 March 2011] [13:25:38] &lt;cremes&gt;  as a bindings author, i reserve the right to require minimum versions of the library</div>
<div class="line">[Thursday 24 March 2011] [13:25:49] &lt;cremes&gt;  so that i can keep those ifdefs to a manageable size</div>
<div class="line">[Thursday 24 March 2011] [13:26:52] &lt;cremes&gt;  btw, this weekend i plan to do a small test using cxxtest for writing unit tests for yqueue</div>
<div class="line">[Thursday 24 March 2011] [13:27:03] &lt;sustrik&gt; great</div>
<div class="line">[Thursday 24 March 2011] [13:27:11] &lt;cremes&gt;  i&#8217;m going to put that into a fork of the current master; i&#8217;ll fork it under my username chuckremes</div>
<div class="line">[Thursday 24 March 2011] [13:27:22] &lt;cremes&gt;  and point you guys to it when i get something working</div>
<div class="line">[Thursday 24 March 2011] [13:27:57] &lt;cremes&gt;  i want to just stick with ruby but i have an itch that can only be scratched by c++ apparently... ;)</div>
<div class="line">[Thursday 24 March 2011] [13:28:18] &lt;sustrik&gt; i think the tests unit tests have to be incorporated into the build system somehow ultimately</div>
<div class="line">[Thursday 24 March 2011] [13:28:51] &lt;pieterh&gt; sustrik: in zfl &amp; zapi we do this with &#8216;make check&#8217;, which runs a single main which runs all unit tests</div>
<div class="line">[Thursday 24 March 2011] [13:29:02] &lt;cremes&gt;  sustrik: that will be part of my experiment</div>
<div class="line">[Thursday 24 March 2011] [13:29:15] &lt;sustrik&gt; yes, something like tha</div>
<div class="line">[Thursday 24 March 2011] [13:29:15] &lt;cremes&gt;  the cxxtest readme has examples on how to include that in the build process</div>
<div class="line">[Thursday 24 March 2011] [13:29:17] &lt;sustrik&gt; that</div>
<div class="line">[Thursday 24 March 2011] [13:29:49] &lt;pieterh&gt; sustrik: ok, 2.2 is safely forked off, we can now play with the core repo...</div>
<div class="line">[Thursday 24 March 2011] [13:30:23] &lt;pieterh&gt; no hurry but I&#8217;d suggest we make and announce the rename when you&#8217;re comfortable with it</div>
<div class="line">[Thursday 24 March 2011] [13:31:42] &lt;sustrik&gt; have you done the test?</div>
<div class="line">[Thursday 24 March 2011] [13:31:53] &lt;sustrik&gt; does rename retain watchers</div>
<div class="line">[Thursday 24 March 2011] [13:31:54] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 24 March 2011] [13:32:10] &lt;sustrik&gt; do the forks map nicely to the renamed repo?</div>
<div class="line">[Thursday 24 March 2011] [13:32:42] &lt;pieterh&gt; let me run some tests in my own profile, then</div>
<div class="line">[Thursday 24 March 2011] [13:32:50] &lt;pieterh&gt; (good questions)</div>
<div class="line">[Thursday 24 March 2011] [13:32:57] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 24 March 2011] [13:33:03] &lt;sustrik&gt; if you need a watcher, ping me</div>
<div class="line">[Thursday 24 March 2011] [13:34:39] &lt;pieterh&gt; ok, can you watch <a class="reference external" href="https://github.com/pieterh/test">https://github.com/pieterh/test</a> ?</div>
<div class="line">[Thursday 24 March 2011] [13:34:53] &lt;pieterh&gt; and also fork it</div>
<div class="line">[Thursday 24 March 2011] [13:36:06] &lt;sustrik&gt; pieterh: done</div>
<div class="line">[Thursday 24 March 2011] [13:36:14] &lt;pieterh&gt; ok, I&#8217;ve also made a couple of forks...</div>
<div class="line">[Thursday 24 March 2011] [13:36:16] &lt;pieterh&gt; now renaming it...</div>
<div class="line">[Thursday 24 March 2011] [13:37:25] &lt;pieterh&gt; you watched it as &#8216;zeromq&#8217;?</div>
<div class="line">[Thursday 24 March 2011] [13:37:38] &lt;sustrik&gt; no idea</div>
<div class="line">[Thursday 24 March 2011] [13:37:43] &lt;pieterh&gt; oh snap, sorry</div>
<div class="line">[Thursday 24 March 2011] [13:37:49] &lt;pieterh&gt; I forked it, and then renamed the fork... :-)</div>
<div class="line">[Thursday 24 March 2011] [13:39:13] &lt;pieterh&gt; so it works, the repo is now called <a class="reference external" href="https://github.com/pieterh/libtest">https://github.com/pieterh/libtest</a></div>
<div class="line">[Thursday 24 March 2011] [13:39:25] &lt;pieterh&gt; watchers and forks shaken but still attached</div>
<div class="line">[Thursday 24 March 2011] [13:40:27] &lt;sustrik&gt; the &#8216;network&#8217; graph seems to be broken</div>
<div class="line">[Thursday 24 March 2011] [13:40:32] &lt;sustrik&gt; i don&#8217;t see you there</div>
<div class="line">[Thursday 24 March 2011] [13:41:12] &lt;pieterh&gt; it seemed broken before the rename, too</div>
<div class="line">[Thursday 24 March 2011] [13:41:18] &lt;pieterh&gt; only showed a single entry</div>
<div class="line">[Thursday 24 March 2011] [13:41:34] &lt;sustrik&gt; that&#8217;s ok as there was only a single entry</div>
<div class="line">[Thursday 24 March 2011] [13:41:40] &lt;sustrik&gt; what i&#8217;m seeing</div>
<div class="line">[Thursday 24 March 2011] [13:41:55] &lt;sustrik&gt; is that the fist commit you&#8217;ve made is under &#8216;sustrik&#8217;</div>
<div class="line">[Thursday 24 March 2011] [13:42:03] &lt;pieterh&gt; what repo?</div>
<div class="line">[Thursday 24 March 2011] [13:42:10] &lt;sustrik&gt; sustrik/test</div>
<div class="line">[Thursday 24 March 2011] [13:42:40] &lt;pieterh&gt; on my box the whole network viewer is buggy, shows no commits at all</div>
<div class="line">[Thursday 24 March 2011] [13:42:46] &lt;pieterh&gt; but the commit list is accurate</div>
<div class="line">[Thursday 24 March 2011] [13:43:12] &lt;sustrik&gt; yes, commits look ok</div>
<div class="line">[Thursday 24 March 2011] [13:43:28] &lt;pieterh&gt; I&#8217;ve no idea what this means, a github bug?</div>
<div class="line">[Thursday 24 March 2011] [13:43:35] &lt;sustrik&gt; no idea</div>
<div class="line">[Thursday 24 March 2011] [13:44:13] &lt;pieterh&gt; well, I&#8217;d suggest we go ahead with the rename, if the network appears broken afterwards we ask github to fix it</div>
<div class="line">[Thursday 24 March 2011] [13:44:30] &lt;pieterh&gt; but let&#8217;s wait a day or two until the new name is obvious</div>
<div class="line">[Thursday 24 March 2011] [13:44:58] &lt;pieterh&gt; libzmq is my preference right now</div>
<div class="line">[Thursday 24 March 2011] [13:45:11] &lt;pieterh&gt; but it&#8217;s your project, your call :-)</div>
<div class="line">[Thursday 24 March 2011] [13:45:29] &lt;sustrik&gt; i&#8217;ll give it a thought</div>
<div class="line">[Thursday 24 March 2011] [13:45:38] &lt;sustrik&gt; zeromq otoh would require less renaming</div>
<div class="line">[Thursday 24 March 2011] [13:45:54] &lt;sustrik&gt; ie. stable repos would stay as they are now</div>
<div class="line">[Thursday 24 March 2011] [13:46:13] &lt;pieterh&gt; indeed, it&#8217;s more consistent with that</div>
<div class="line">[Thursday 24 March 2011] [13:46:27] &lt;pieterh&gt; but if we start to make the release repos into distribution containers, that changes</div>
<div class="line">[Thursday 24 March 2011] [13:46:35] &lt;sustrik&gt; yes, i know</div>
<div class="line">[Thursday 24 March 2011] [13:46:46]    * pieterh goes back to preparing 2.2...</div>
<div class="line">[Thursday 24 March 2011] [13:52:54] &lt;klestes&gt; hullo, is anyone actively awake ?</div>
<div class="line">[Thursday 24 March 2011] [13:53:12] &lt;pieterh&gt; klestes: passively awake, here...</div>
<div class="line">[Thursday 24 March 2011] [13:53:20] &lt;klestes&gt; that&#8217;ll do :)</div>
<div class="line">[Thursday 24 March 2011] [13:53:25] &lt;pieterh&gt; what&#8217;s up?</div>
<div class="line">[Thursday 24 March 2011] [13:53:52] &lt;klestes&gt; sorry about my first patch.  I could have sworn I read somewhere that a 2.2 version wasn&#8217;t being pursued.</div>
<div class="line">[Thursday 24 March 2011] [13:54:04] &lt;pieterh&gt; we changed our minds...</div>
<div class="line">[Thursday 24 March 2011] [13:54:12] &lt;klestes&gt; D&#8217;oh!</div>
<div class="line">[Thursday 24 March 2011] [13:54:26] &lt;klestes&gt; oh well, back to the hacking boarrd =)</div>
<div class="line">[Thursday 24 March 2011] [13:55:00] &lt;klestes&gt; uhm, would minor spelling corrections to header files be a worthwile contribution ?</div>
<div class="line">[Thursday 24 March 2011] [13:57:19] &lt;pieterh&gt; depends how perfectionist the maintainer is, they may just find it annoying</div>
<div class="line">[Thursday 24 March 2011] [13:57:35] &lt;klestes&gt; reasonable.</div>
<div class="line">[Thursday 24 March 2011] [13:57:47] &lt;klestes&gt; also, on to the matter of LOAD BALANCING.</div>
<div class="line">[Thursday 24 March 2011] [13:58:16] &lt;klestes&gt; now, suppose I have a client talking to a server, a PUSH/PULL kinda relationship.</div>
<div class="line">[Thursday 24 March 2011] [13:58:41] &lt;klestes&gt; once I have these two chatting, I introduce a second client PULLing from the server as well.</div>
<div class="line">[Thursday 24 March 2011] [13:59:01] &lt;klestes&gt; my question is, upon introduction of the second client, will the load be balanced again ?</div>
<div class="line">[Thursday 24 March 2011] [14:03:19] &lt;klestes&gt; (oooh! FF6 is out !)</div>
<div class="line">[Thursday 24 March 2011] [14:03:53] &lt;klestes&gt; (sorry, bug in my FPU, thats FF4)</div>
<div class="line">[Thursday 24 March 2011] [14:08:12] &lt;sustrik&gt; patches to the spelling are acceptable</div>
<div class="line">[Thursday 24 March 2011] [14:09:02] &lt;sustrik&gt; the load already assigned to the first client won&#8217;t be re-balanced</div>
<div class="line">[Thursday 24 March 2011] [14:09:11] &lt;sustrik&gt; but new messages will be</div>
<div class="line">[Thursday 24 March 2011] [14:10:13] &lt;klestes&gt; ok, thats what I had thought the proper behavior should be.</div>
<div class="line">[Thursday 24 March 2011] [14:10:40] &lt;klestes&gt; where in the source is the load balancing mechanism ?</div>
<div class="line">[Thursday 24 March 2011] [14:14:53] &lt;cremes&gt;  sustrik: running a test using jemalloc and LD_PRELOAD on linux</div>
<div class="line">[Thursday 24 March 2011] [14:14:58] &lt;cremes&gt;  results look promising so far</div>
<div class="line">[Thursday 24 March 2011] [14:23:04] &lt;pieterh&gt; sustrik: actually there are some nice improvements in the 2.2 branch over 2.1...</div>
<div class="line">[Thursday 24 March 2011] [14:23:22] &lt;pieterh&gt; e.g. checking &amp;logging of duplicate identities...</div>
<div class="line">[Thursday 24 March 2011] [14:23:26] &lt;pieterh&gt; I&#8217;ll check them all</div>
<div class="line">[Thursday 24 March 2011] [14:25:51] &lt;cremes&gt;  pieterh: i have an open ticket on that duplicate identity commit; i get crashes with it</div>
<div class="line">[Thursday 24 March 2011] [14:26:06] &lt;pieterh&gt; cremes: ah, right...</div>
<div class="line">[Thursday 24 March 2011] [14:26:18] &lt;pieterh&gt; well, 2.2 is not going to be stable for a while, that&#8217;s OK</div>
<div class="line">[Thursday 24 March 2011] [14:26:37] &lt;cremes&gt;  true; hopefully i&#8217;ll be able to come up with a small repro</div>
<div class="line">[Thursday 24 March 2011] [14:27:51] &lt;Guthur&gt;  is 2.2 available?</div>
<div class="line">[Thursday 24 March 2011] [14:27:59] &lt;Guthur&gt;  is it the pgm stuff?</div>
<div class="line">[Thursday 24 March 2011] [14:28:03] &lt;pieterh&gt; Guthur: not yet, soon enough</div>
<div class="line">[Thursday 24 March 2011] [14:28:08] &lt;pieterh&gt; the pgm stuff is already in 2.1</div>
<div class="line">[Thursday 24 March 2011] [14:28:33] &lt;klestes&gt; can you not get 2.2 with git ?</div>
<div class="line">[Thursday 24 March 2011] [14:28:41] &lt;sustrik&gt; still missing in master :(</div>
<div class="line">[Thursday 24 March 2011] [14:28:56] &lt;pieterh&gt; sustrik: what&#8217;s missing in master?</div>
<div class="line">[Thursday 24 March 2011] [14:28:59] &lt;pieterh&gt; ah, yes</div>
<div class="line">[Thursday 24 March 2011] [14:29:01] &lt;sustrik&gt; jemalloc: let me know whether it helps</div>
<div class="line">[Thursday 24 March 2011] [14:29:24] &lt;pieterh&gt; sustrik, mikko is still working on making a patch, maybe he&#8217;s stuck, I&#8217;ll ask him... I know he&#8217;s real busy right now</div>
<div class="line">[Thursday 24 March 2011] [14:29:39] &lt;pieterh&gt; I&#8217;m applying those openpgm changes to 2.2, I&#8217;ll see if it works</div>
<div class="line">[Thursday 24 March 2011] [14:29:55] &lt;pieterh&gt; configure.in, Makefile.am, libpgm tarball, that&#8217;s it...</div>
<div class="line">[Thursday 24 March 2011] [14:38:45] &lt;Guthur&gt;  would it be possible to expose the subscription mechanism on SUB sockets, so that people could maybe add other models to replace the prefix one</div>
<div class="line">[Thursday 24 March 2011] [14:39:32] &lt;Guthur&gt;  this is in relation to 3.0</div>
<div class="line">[Thursday 24 March 2011] [14:47:04] &lt;pieterh&gt; Guthur: it&#8217;s a neat idea but probably quite difficult to make happen</div>
<div class="line">[Thursday 24 March 2011] [14:56:33] &lt;sustrik&gt; Guthur: can be doable on top of 0mq, with XPUB/XSUB sockets</div>
<div class="line">[Thursday 24 March 2011] [14:56:37] &lt;sustrik&gt; when those are finished :)</div>
<div class="line">[Thursday 24 March 2011] [14:58:19] &lt;pieterh&gt; sustrik: upstream arbitrary subscription keys?</div>
<div class="line">[Thursday 24 March 2011] [15:02:24] &lt;sustrik&gt; possibly</div>
<div class="line">[Thursday 24 March 2011] [15:02:27] &lt;sustrik&gt; we&#8217;ll see</div>
<div class="line">[Thursday 24 March 2011] [15:02:35] &lt;sustrik&gt; it&#8217;s not done yet</div>
<div class="line">[Thursday 24 March 2011] [15:02:54] &lt;pieterh&gt; could be fun to turn xpub sockets into mini exchanges</div>
<div class="line">[Thursday 24 March 2011] [15:03:42] &lt;pieterh&gt; sustrik: if you want a patch for the openpgm stuff, I can make it, have tested that on 2.2</div>
<div class="line">[Thursday 24 March 2011] [15:04:14] &lt;pieterh&gt; but I think you want the real author&#8217;s patch... sigh</div>
<div class="line">[Thursday 24 March 2011] [15:04:20] &lt;pieterh&gt; well, it&#8217;s LGPL</div>
<div class="line">[Thursday 24 March 2011] [15:04:28] &lt;pieterh&gt; already signed off</div>
<div class="line">[Thursday 24 March 2011] [15:04:50] &lt;pieterh&gt; this whole free software concept sometimes confuses me... :-)</div>
<div class="line">[Thursday 24 March 2011] [15:29:39] &lt;Guthur&gt;  cool, I look forward to seeing XSUB and XPUB</div>
<div class="line">[Thursday 24 March 2011] [15:29:55] &lt;Guthur&gt;  will they need to be renamed after they have been released for a while, hehe</div>
<div class="line">[Thursday 24 March 2011] [15:31:31] &lt;cremes&gt;  Guthur: yes, they are going to be renamed SUCK and BLOW</div>
<div class="line">[Thursday 24 March 2011] [15:31:51] &lt;cremes&gt;  no one raised any objection on the mailing list, so that&#8217;s going into 2.1.4</div>
<div class="line">[Thursday 24 March 2011] [15:31:52] &lt;cremes&gt;  :)</div>
<div class="line">[Thursday 24 March 2011] [15:41:59] &lt;jond&gt;    cremes: what&#8217;s the conclusion on jemalloc</div>
<div class="line">[Thursday 24 March 2011] [15:42:39] &lt;cremes&gt;  jond: superior to glibc malloc on linux for the way i use 0mq</div>
<div class="line">[Thursday 24 March 2011] [15:43:10] &lt;cremes&gt;  the memory footprint still grows, but now the &#8216;fragmentation leak&#8217; is slower</div>
<div class="line">[Thursday 24 March 2011] [15:43:40] &lt;jond&gt;    cremes: does jemalloc just replace malloc/free et al or the C++ operator&#8217;s as well</div>
<div class="line">[Thursday 24 March 2011] [15:44:10] &lt;cremes&gt;  jond: it&#8217;s my understanding that under the covers C++ #new, et al. are calling malloc/free</div>
<div class="line">[Thursday 24 March 2011] [15:44:20] &lt;cremes&gt;  so jemalloc replaces them too</div>
<div class="line">[Thursday 24 March 2011] [15:44:32] &lt;pieterh&gt; cremes: sometimes you&#8217;re evil...</div>
<div class="line">[Thursday 24 March 2011] [15:44:49] &lt;cremes&gt;  pieterh: ah, you like the new pub/sub names then?</div>
<div class="line">[Thursday 24 March 2011] [15:45:07] &lt;pieterh&gt; I think the old names were fine (PUB/SUB)</div>
<div class="line">[Thursday 24 March 2011] [15:45:35]    * cremes is leaving shortly to do evil elsewhere</div>
<div class="line">[Thursday 24 March 2011] [15:45:53] &lt;jond&gt;    cremes: ok ; think I asked the tcmalloc people a while back and technically new etc don&#8217;t have to use malloc free ....</div>
<div class="line">[Thursday 24 March 2011] [15:46:29] &lt;cremes&gt;  jond: that&#8217;s true; from comments i have read while researching this stuff, no one was able to find a case where c++ did <em>not</em></div>
<div class="line">[Thursday 24 March 2011] [15:46:31] &lt;jond&gt;    pieterh: HOOKER and PIMP?</div>
<div class="line">[Thursday 24 March 2011] [15:46:33] &lt;cremes&gt;  use malloc/free</div>
<div class="line">[Thursday 24 March 2011] [15:46:46] &lt;pieterh&gt; HOOKER would be XSUB then?</div>
<div class="line">[Thursday 24 March 2011] [15:46:53] &lt;cremes&gt;  jond: ooh, good replacement names for PUSH/PULL</div>
<div class="line">[Thursday 24 March 2011] [15:47:05] &lt;cremes&gt;  :)</div>
<div class="line">[Thursday 24 March 2011] [15:47:12] &lt;pieterh&gt; where does JOHN fit in? that&#8217;s my question</div>
<div class="line">[Thursday 24 March 2011] [15:47:32] &lt;cremes&gt;  pieterh: PAIR -&gt; JOHN</div>
<div class="line">[Thursday 24 March 2011] [15:47:45] &lt;pieterh&gt; surely PAIR-&gt; FABIO</div>
<div class="line">[Thursday 24 March 2011] [15:47:53] &lt;cremes&gt;  surely</div>
<div class="line">[Thursday 24 March 2011] [15:48:05] &lt;pieterh&gt; let&#8217;s start a Naming Committee</div>
<div class="line">[Thursday 24 March 2011] [15:48:14] &lt;pieterh&gt; with its own repository</div>
<div class="line">[Thursday 24 March 2011] [15:48:35] &lt;cremes&gt;  heh</div>
<div class="line">[Thursday 24 March 2011] [15:48:39]    * pieterh is very happy to be generating zapi man pages from the C source code</div>
<div class="line">[Thursday 24 March 2011] [15:49:16] &lt;jond&gt;    cremes: c++ new et al; that&#8217;s what I&#8217;ve read too, but there&#8217;s probably some obscure games console compiler somewhere</div>
<div class="line">[Thursday 24 March 2011] [15:49:46] &lt;cremes&gt;  jond: probably</div>
<div class="line">[Thursday 24 March 2011] [15:50:00] &lt;cremes&gt;  but since i don&#8217;t use it, i don&#8217;t care ;)</div>
<div class="line">[Thursday 24 March 2011] [15:51:19] &lt;jond&gt;    so you just LD_PRELOAD with jemalloc on the path and that&#8217;s it? I&#8217;m sure google recommend recompile with tcmalloc though LD_PRELOAD can work</div>
<div class="line">[Thursday 24 March 2011] [15:52:01] &lt;cremes&gt;  yes</div>
<div class="line">[Thursday 24 March 2011] [15:52:14] &lt;cremes&gt;  LD_PRELOAD=/usr/local/lib/libjemalloc.so a.out</div>
<div class="line">[Thursday 24 March 2011] [15:53:15] &lt;jond&gt;    cremes does it improve ruby performance at all apart from 0mq aspect?</div>
<div class="line">[Thursday 24 March 2011] [15:53:56] &lt;cremes&gt;  jond: if it does, i can&#8217;t see it... there may be a small % difference but i can&#8217;t tell</div>
<div class="line">[Thursday 24 March 2011] [15:54:51] &lt;jond&gt;    cremes: I&#8217;ll go and have a look at jemalloc now</div>
<div class="line">[Thursday 24 March 2011] [15:55:08] &lt;cremes&gt;  jond: when i ran sustrik&#8217;s leak repro (ticket 174) the resident memory would jump to 25MB and stay there</div>
<div class="line">[Thursday 24 March 2011] [15:55:17] &lt;cremes&gt;  with jemalloc it would drop back down to 15MB</div>
<div class="line">[Thursday 24 March 2011] [15:55:31] &lt;cremes&gt;  so while it isn&#8217;t perfect, it <em>was</em> able to help out a bit</div>
<div class="line">[Thursday 24 March 2011] [15:58:21] &lt;jond&gt;    cremes: i may give jemalloc a test against an app at work, non zeromq though sadly</div>
<div class="line">[Thursday 24 March 2011] [16:04:25] &lt;cremes&gt;  jond: please share your results (0mq or non-0mq) with me; i&#8217;d love to hear your results</div>
<div class="line">[Thursday 24 March 2011] [16:16:26] &lt;jond&gt;    pieterh: you ever thought of putting a &#8216;jobs&#8217; section on the website?</div>
<div class="line">[Thursday 24 March 2011] [16:16:45] &lt;pieterh&gt; jond: yes</div>
<div class="line">[Thursday 24 March 2011] [16:17:22] &lt;pieterh&gt; but rather, I&#8217;d like to make a &#8216;marketplace&#8217;</div>
<div class="line">[Thursday 24 March 2011] [16:17:32] &lt;jond&gt;    pieterh: yes better idea</div>
<div class="line">[Thursday 24 March 2011] [16:18:07] &lt;pieterh&gt; the idea would be that proven contributors can promote their business</div>
<div class="line">[Thursday 24 March 2011] [16:18:47] &lt;pieterh&gt; this would happen on the main website (not the community site) and would be run by iMatix</div>
<div class="line">[Thursday 24 March 2011] [16:19:32] &lt;pieterh&gt; &#8216;run&#8217; = vetted, more than anything else</div>
<div class="line">[Thursday 24 March 2011] [16:20:28] &lt;sustrik&gt; btw, i&#8217;ve created a zeromq group on linked-in long time ago</div>
<div class="line">[Thursday 24 March 2011] [16:20:49]    * pieterh dislikes linkedin intensely...</div>
<div class="line">[Thursday 24 March 2011] [16:21:08] &lt;sustrik&gt; i don&#8217;t use it much</div>
<div class="line">[Thursday 24 March 2011] [16:21:19] &lt;sustrik&gt; i don&#8217;t even recall why i&#8217;ve created the group</div>
<div class="line">[Thursday 24 March 2011] [16:21:25] &lt;sustrik&gt; someone asked me to, i suppose</div>
<div class="line">[Thursday 24 March 2011] [16:21:27] &lt;pieterh&gt; the idea of promoting partners able to help in specific areas, or specific regions, seems win-win</div>
<div class="line">[Thursday 24 March 2011] [16:21:38]    * sustrik checks the group</div>
<div class="line">[Thursday 24 March 2011] [16:21:42] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 24 March 2011] [16:21:52] &lt;sustrik&gt; intersting</div>
<div class="line">[Thursday 24 March 2011] [16:21:55] &lt;sustrik&gt; 28 members</div>
<div class="line">[Thursday 24 March 2011] [16:22:11] &lt;sustrik&gt; looks like some people are actually using linkedin</div>
<div class="line">[Thursday 24 March 2011] [16:22:35] &lt;pieterh&gt; some people do seem to like collecting contacts, indeed...</div>
<div class="line">[Thursday 24 March 2011] [16:22:57] &lt;Moltar&gt;  I&#8217;m trying to limit the outstanding messages in python using setsockopt(zmq.HWM, 1000) (for example) and it seems that this has no effect.  Any suggestions to what I might be doing wrong?</div>
<div class="line">[Thursday 24 March 2011] [16:24:48] &lt;hexa&gt;    Hi I just went tought the guide.. and wow :) .. but it got me many ideas one of which is to use it to do some worker/task management  inprocess ..  but I&#8217;m struggling to find a way to pass for exemple function pointers to a generic worker thread.. I checked google protobufs .. things like that but i&#8217;m not sure about it when it comes to pointers etc.. any suggestions ideas on this ?</div>
<div class="line">[Thursday 24 March 2011] [16:25:44] &lt;pieterh&gt; hexa: the way I send pointers between threads is printf (&#8220;%p&#8221;, pointer) and sscanf (message, &#8220;%p&#8221;, &amp;pointer)</div>
<div class="line">[Thursday 24 March 2011] [16:25:46] &lt;sustrik&gt; Moltar: the messages are presumably queued in TCP buffers</div>
<div class="line">[Thursday 24 March 2011] [16:25:46] &lt;pieterh&gt; seems to work</div>
<div class="line">[Thursday 24 March 2011] [16:26:15] &lt;pieterh&gt; hexa: there&#8217;s an example in the zapi, zctx class, somewhere in <a class="reference external" href="http://zero.mq/c">http://zero.mq/c</a></div>
<div class="line">[Thursday 24 March 2011] [16:26:19] &lt;hexa&gt;    pieterh, heheh guess that would work.. but I would like something a bit more versatile...</div>
<div class="line">[Thursday 24 March 2011] [16:27:00] &lt;pieterh&gt; well, just shove the pointer in a message of the right size</div>
<div class="line">[Thursday 24 March 2011] [16:27:02] &lt;Moltar&gt;  sustrik: I&#8217;m using unix-domain socket with zSocket.bind(&#8216;ipc:///tmp/sendalias&#8217;), so probably queued in unix socket buffer</div>
<div class="line">[Thursday 24 March 2011] [16:27:48] &lt;Moltar&gt;  sustrik: But I have quite a lot of data to push to my worker processes, and I don&#8217;t think having gigabytes of data in this buffer is going to be a good idea.</div>
<div class="line">[Thursday 24 March 2011] [16:28:33] &lt;hexa&gt;    pieterh, heh I guess I could just do void* func , void* marshalling_func, void* data  , pieterh thx for the link I hadn&#8217;t see that yet</div>
<div class="line">[Thursday 24 March 2011] [16:33:27] &lt;jond&gt;    sustrik: what&#8217;s the status of subscription forwarding in master?</div>
<div class="line">[Thursday 24 March 2011] [16:50:27] &lt;SurfaceTension&gt;  still nobody with a (rough) number for the binary code size on arm thumb?</div>
<div class="line">[Thursday 24 March 2011] [17:11:02] &lt;sustrik&gt; Moltar: you can set the buffer size using ZMQ_SNDBUF and ZMQ_RCVBUF options</div>
<div class="line">[Thursday 24 March 2011] [17:11:09] &lt;sustrik&gt; jond: no progress</div>
<div class="line">[Thursday 24 March 2011] [17:11:52] &lt;sustrik&gt; SurfaceTension: try asking on the mailing list</div>
<div class="line">[Thursday 24 March 2011] [17:12:01] &lt;Moltar&gt;  sustrik: Thanks, I&#8217;ll give that a go</div>
<div class="line">[Thursday 24 March 2011] [17:12:02] &lt;sustrik&gt; there are few people using 0mq on ARM iirc</div>
<div class="line">[Thursday 24 March 2011] [17:18:37] &lt;jond&gt;    sustrik: does that mean it&#8217;s all in master but incomplete or on that branch?</div>
<div class="line">[Thursday 24 March 2011] [17:19:07] &lt;sustrik&gt; it&#8217;s incomplete and located in sub-forward branch</div>
<div class="line">[Thursday 24 March 2011] [17:20:27] &lt;jond&gt;    sustrik: ok, thanks. I&#8217;m abandoning xrep you see from my proof of concept</div>
<div class="line">[Thursday 24 March 2011] [17:56:08] &lt;SurfaceTension&gt;  sustrik: will do, thanks</div>
<div class="line">[Thursday 24 March 2011] [18:47:14] &lt;Guthur&gt;  thrift provides a means for RPC, which I suppose could be used instead passing func ptrs</div>
<div class="line">[Thursday 24 March 2011] [18:47:37] &lt;Guthur&gt;  but hexa has left...</div>
<div class="line">[Thursday 24 March 2011] [21:24:11] &lt;Seta00&gt;  where is that &#8216;c&#8217; tool available?</div>
<div class="line">[Thursday 24 March 2011] [22:29:26] &lt;dku&gt;     Is it incorrect to call recv() twice consequitively on a ZMQ_REQ socket?</div>
<div class="line">[Thursday 24 March 2011] [22:29:41] &lt;dku&gt;     (without a send() in between, i mean)</div>
<div class="line">[Thursday 24 March 2011] [22:30:00] &lt;lowenhart&gt;       hey guys</div>
<div class="line">[Thursday 24 March 2011] [22:32:40] &lt;lowenhart&gt;       anyone know of a good decorator for zeromq + django?</div>
<div class="line">[Friday 25 March 2011] [04:06:23] &lt;pieterh&gt;   Seta00: on the C binding page</div>
<div class="line">[Friday 25 March 2011] [04:06:32] &lt;pieterh&gt;   dku: nope</div>
<div class="line">[Friday 25 March 2011] [04:25:33] &lt;pieterh&gt;   sustrik: I&#8217;ve sent an email to zeromq-dev regarding the repository rename</div>
<div class="line">[Friday 25 March 2011] [04:25:52] &lt;pieterh&gt;   it&#8217;d be interesting to see what the response is, if any</div>
<div class="line">[Friday 25 March 2011] [05:27:43] &lt;private_meta&gt;      pieterh: btw, if you really want to push something like zmsg into zapi, it&#8217;d require a redesign imho</div>
<div class="line">[Friday 25 March 2011] [05:41:47] &lt;private_meta&gt;      pieterh: for C++ it would be interesting to work with templates, just as an idea</div>
<div class="line">[Friday 25 March 2011] [05:44:55] &lt;guido_g&gt;   reminds me why i left c++</div>
<div class="line">[Friday 25 March 2011] [06:01:50] &lt;private_meta&gt;      I don&#8217;t see generic programming as that bad of an idea</div>
<div class="line">[Friday 25 March 2011] [06:02:03] &lt;private_meta&gt;      If it&#8217;s used in places where it can be an advantage</div>
<div class="line">[Friday 25 March 2011] [06:44:55] &lt;Seta00&gt;    pieterh: the zip archive on that page is missing the MSVS project/solution files, btw</div>
<div class="line">[Friday 25 March 2011] [06:45:05] &lt;Seta00&gt;    they are on the repo but not on the archive for some reason</div>
<div class="line">[Friday 25 March 2011] [07:13:18] &lt;private_meta&gt;      pieterh: btw, what was the reason to use the 0-byte in the messages?</div>
<div class="line">[Friday 25 March 2011] [07:21:27] &lt;Guthur&gt;    private_meta: you mean a message with no contents?</div>
<div class="line">[Friday 25 March 2011] [07:21:46] &lt;private_meta&gt;      no, 0-bytes in non-empty messages</div>
<div class="line">[Friday 25 March 2011] [07:22:06] &lt;Guthur&gt;    is this in a guide example?</div>
<div class="line">[Friday 25 March 2011] [07:22:45] &lt;private_meta&gt;      uuid encoding in multipart messages</div>
<div class="line">[Friday 25 March 2011] [07:23:38] &lt;Guthur&gt;    0MQ uuid will start with a byte of 0, iirc</div>
<div class="line">[Friday 25 March 2011] [07:24:03] &lt;Guthur&gt;    and that would have to be added back when encoding the string presentation back to binary</div>
<div class="line">[Friday 25 March 2011] [07:25:05] &lt;private_meta&gt;      I know, I want to know the reason for this decision</div>
<div class="line">[Friday 25 March 2011] [07:27:18] &lt;Guthur&gt;    it&#8217;s not a valid UUID for 0MQ without the 0</div>
<div class="line">[Friday 25 March 2011] [07:27:45] &lt;Guthur&gt;    maybe I am misunderstanding your question</div>
<div class="line">[Friday 25 March 2011] [07:27:58] &lt;private_meta&gt;      Yes, you are...</div>
<div class="line">[Friday 25 March 2011] [07:28:14] &lt;private_meta&gt;      I want to know the reason why they used the 0-byte in the uuid in the first place</div>
<div class="line">[Friday 25 March 2011] [07:28:25] &lt;private_meta&gt;      It&#8217;s a design-question</div>
<div class="line">[Friday 25 March 2011] [07:29:09] &lt;Guthur&gt;    yeah I&#8217;d imagine so</div>
<div class="line">[Friday 25 March 2011] [07:29:21] &lt;private_meta&gt;      ...</div>
<div class="line">[Friday 25 March 2011] [07:29:35] &lt;Guthur&gt;    possibly to make it more identifiable as a UUID</div>
<div class="line">[Friday 25 March 2011] [07:29:40] &lt;Guthur&gt;    at a guess</div>
<div class="line">[Friday 25 March 2011] [07:29:49] &lt;Guthur&gt;    sustrik: ?</div>
<div class="line">[Friday 25 March 2011] [07:40:56] &lt;Seta00&gt;    OpenPGM is the only implementation of PGM on 0MQ, right?</div>
<div class="line">[Friday 25 March 2011] [07:41:09] &lt;Seta00&gt;    as in, I can&#8217;t use PGM on normal builds</div>
<div class="line">[Friday 25 March 2011] [07:51:28] &lt;private_meta&gt;      pieterh: finally fixed it</div>
<div class="line">[Friday 25 March 2011] [08:28:41] &lt;so_solid_moo&gt;      hi peeps. is the freelance pattern stuff built into a library at all, like zfl or something?</div>
<div class="line">[Friday 25 March 2011] [08:40:12] &lt;iphony&gt;    Has anyone successfully compiled the zmq c library for the iphone?</div>
<div class="line">[Friday 25 March 2011] [09:51:30] &lt;private_meta&gt;      pieterh: are you here?</div>
<div class="line">[Friday 25 March 2011] [11:38:08] &lt;nikolay&gt;   hi</div>
<div class="line">[Friday 25 March 2011] [11:38:15] &lt;cremes&gt;    hi</div>
<div class="line">[Friday 25 March 2011] [11:38:28] &lt;nikolay&gt;   I am trying following</div>
<div class="line">[Friday 25 March 2011] [11:38:32] &lt;nikolay&gt;   star a server,</div>
<div class="line">[Friday 25 March 2011] [11:38:41] &lt;nikolay&gt;   then do curl localhost:5555</div>
<div class="line">[Friday 25 March 2011] [11:39:07] &lt;nikolay&gt;   request is invalid of cource, and server do &#8220;Assertion failed: fetched (rep.cpp:232)&#8221;</div>
<div class="line">[Friday 25 March 2011] [11:39:24] &lt;nikolay&gt;   the server app is in PHP</div>
<div class="line">[Friday 25 March 2011] [11:39:40] &lt;nikolay&gt;   how I can do so PHP not to crash?</div>
<div class="line">[Friday 25 March 2011] [11:40:21] &lt;cremes&gt;    nikolay: you can&#8217;t connect a non-0mq socket to a 0mq socket unless you conform to the 0mq wire protocol</div>
<div class="line">[Friday 25 March 2011] [11:40:28] &lt;cremes&gt;    otherwise you&#8217;ll get assertions</div>
<div class="line">[Friday 25 March 2011] [11:40:50] &lt;nikolay&gt;   yes, but generally how i can &#8220;catch&#8221; the assert() call ?</div>
<div class="line">[Friday 25 March 2011] [11:40:56] &lt;cremes&gt;    you can&#8217;t</div>
<div class="line">[Friday 25 March 2011] [11:41:14] &lt;cremes&gt;    you should open a bug issue  on github; 0mq asserts on a lot of &#8216;invalid&#8217; data when it probably shouldn&#8217;t</div>
<div class="line">[Friday 25 March 2011] [11:41:37] &lt;cremes&gt;    it should probably just disconnect the socket that sent the invalid data</div>
<div class="line">[Friday 25 March 2011] [11:41:40] &lt;nikolay&gt;   hmm this is kind of stupid , isn&#8217;t it ? then server will crash, instead to close the conn</div>
<div class="line">[Friday 25 March 2011] [11:41:42] &lt;cremes&gt;    instead of asserting</div>
<div class="line">[Friday 25 March 2011] [11:41:52] &lt;cremes&gt;    nikolay: yes, it&#8217;s stupid; open a 0mq bug</div>
<div class="line">[Friday 25 March 2011] [11:42:07] &lt;nikolay&gt;   good idea , thank you</div>
<div class="line">[Friday 25 March 2011] [11:42:22] &lt;cremes&gt;    nikolay: make sure you include some code that can reproduce the <em>entire</em> problem (client and server)</div>
<div class="line">[Friday 25 March 2011] [11:42:34] &lt;cremes&gt;    along with the steps to reproduce the crash</div>
<div class="line">[Friday 25 March 2011] [11:42:50] &lt;nikolay&gt;   is not a problem , but it may happen if the client app is killed</div>
<div class="line">[Friday 25 March 2011] [11:43:07] &lt;nikolay&gt;   thanks</div>
<div class="line">[Friday 25 March 2011] [11:43:27] &lt;nikolay&gt;   bye</div>
<div class="line">[Friday 25 March 2011] [11:51:56] &lt;Guthur&gt;    cremes: it same strange there hasn&#8217;t been more effort to remove asserts</div>
<div class="line">[Friday 25 March 2011] [11:52:01] &lt;Guthur&gt;    same/seems</div>
<div class="line">[Friday 25 March 2011] [11:52:30] &lt;cremes&gt;    Guthur: 2.1 is way better than 2.0; sustrik removed quite a few asserts but there are still a bunch left</div>
<div class="line">[Friday 25 March 2011] [11:52:51] &lt;cremes&gt;    that&#8217;s why i think writing unit tests for the internal classes is a good idea</div>
<div class="line">[Friday 25 March 2011] [11:53:16] &lt;cremes&gt;    it will help reign in the use of asserts and it will encourage writing code to actually handle those error conditions instead</div>
<div class="line">[Friday 25 March 2011] [11:53:20] &lt;cremes&gt;    of just aborting</div>
<div class="line">[Friday 25 March 2011] [11:54:24] &lt;Guthur&gt;    yep, is there a strategy in place yet for refactoring the current code base to facilitate unit testing</div>
<div class="line">[Friday 25 March 2011] [11:56:04] &lt;cremes&gt;    Guthur: nope, no strategy yet</div>
<div class="line">[Friday 25 March 2011] [11:56:17] &lt;cremes&gt;    i&#8217;m going to do a quick spike this weekend using cxxtest on yqueue.cpp</div>
<div class="line">[Friday 25 March 2011] [11:56:36] &lt;Seta00&gt;    the documentation for zmg_msg_init_data says &#8220;If provided, the deallocation function ffn shall be called...&#8221;, but the parameter isn&#8217;t optional. should I just pass NULL?</div>
<div class="line">[Friday 25 March 2011] [11:56:43] &lt;cremes&gt;    the way i like to do unit testing is going to require <em>most</em> of these classes to become a lot smaller than they are</div>
<div class="line">[Friday 25 March 2011] [11:56:50] &lt;cremes&gt;    so that they can be thoroughly tested</div>
<div class="line">[Friday 25 March 2011] [11:56:58] &lt;cremes&gt;    Seta00: yes</div>
<div class="line">[Friday 25 March 2011] [11:57:04] &lt;Seta00&gt;    cremes: thanks</div>
<div class="line">[Friday 25 March 2011] [11:59:08] &lt;Guthur&gt;    cremes: ack</div>
<div class="line">[Friday 25 March 2011] [12:00:13] &lt;cremes&gt;    i don&#8217;t know if all of that refactoring would/will fit with sustrik&#8217;s style</div>
<div class="line">[Friday 25 March 2011] [12:00:38] &lt;cremes&gt;    the classes look big to me; but then again, c++ is so verbose even simple classes look pretty large</div>
<div class="line">[Friday 25 March 2011] [12:20:02] &lt;Guthur&gt;    I think sustrik would buy if it could deliver better test coverage</div>
<div class="line">[Friday 25 March 2011] [12:24:08] &lt;Guthur&gt;    buy in*</div>
<div class="line">[Friday 25 March 2011] [12:57:37] &lt;anddam&gt;    hello</div>
<div class="line">[Friday 25 March 2011] [12:58:19] &lt;cremes&gt;    hi</div>
<div class="line">[Friday 25 March 2011] [13:01:17] &lt;anddam&gt;    I&#8217;ve built mongrel2 using zeromq from macports, when I try to kill the test server it get stucks with <a class="reference external" href="http://pastesite.com/22567">http://pastesite.com/22567</a> (after ^C at line :49)</div>
<div class="line">[Friday 25 March 2011] [13:01:31] &lt;anddam&gt;    can it be possibly related to this zmq&#8217;s test error <a class="reference external" href="http://pastesite.com/22568">http://pastesite.com/22568</a> ?</div>
<div class="line">[Friday 25 March 2011] [13:03:37] &lt;anddam&gt;    nice mailbox.cpp:191 &#8221; This should never happen as we&#8217;ve already checked that command size less than PIPE_BUF.&#8221;</div>
<div class="line">[Friday 25 March 2011] [13:03:45] &lt;anddam&gt;    seems it&#8217;s happening</div>
<div class="line">[Friday 25 March 2011] [13:05:53] &lt;klestes&gt;   Thats the beauty of ZeroMQ:  It makes the impossible possible !</div>
<div class="line">[Friday 25 March 2011] [13:07:45] &lt;anddam&gt;    &#8220;the possimpible&#8221;</div>
<div class="line">[Friday 25 March 2011] [13:08:16] &lt;cremes&gt;    anddam: check the tuning guide:  <a class="reference external" href="http://www.zeromq.org/docs:tuning-zeromq">http://www.zeromq.org/docs:tuning-zeromq</a></div>
<div class="line">[Friday 25 March 2011] [13:08:31] &lt;cremes&gt;    usually mailbox errors in 0mq are due to the tiny default buffer sizes on osx</div>
<div class="line">[Friday 25 March 2011] [13:08:33] &lt;klestes&gt;   anddam:  Nice word !</div>
<div class="line">[Friday 25 March 2011] [13:08:37] &lt;anddam&gt;    this happens on OS X, anyone confirming he&#8217;s got zmq working on osx?</div>
<div class="line">[Friday 25 March 2011] [13:08:44] &lt;anddam&gt;    klestes: that&#8217;s from that tv show</div>
<div class="line">[Friday 25 March 2011] [13:08:57] &lt;klestes&gt;   there&#8217;s a tv show of that name ?</div>
<div class="line">[Friday 25 March 2011] [13:09:05] &lt;cremes&gt;    anddam: i use 0mq on osx every day; works fine after doing a little kernel tuning</div>
<div class="line">[Friday 25 March 2011] [13:09:18] &lt;klestes&gt;   OS X seems to be a bitch to program on, from what I&#8217;ve seen hereabouts.</div>
<div class="line">[Friday 25 March 2011] [13:09:41] &lt;cremes&gt;    no harder than linux</div>
<div class="line">[Friday 25 March 2011] [13:09:44] &lt;cremes&gt;    same apis</div>
<div class="line">[Friday 25 March 2011] [13:09:45] &lt;anddam&gt;    cremes: I understand system tuning but how can test reach linux?</div>
<div class="line">[Friday 25 March 2011] [13:10:13] &lt;cremes&gt;    anddam: i don&#8217;t understand your question, please rephrase</div>
<div class="line">[Friday 25 March 2011] [13:10:19] &lt;anddam&gt;    klestes: I think it depends on your targets, if you&#8217;re going to do iOS development it&#8217;s not a bitch</div>
<div class="line">[Friday 25 March 2011] [13:10:33] &lt;anddam&gt;    cremes: of course you don&#8217;t understand it, I mixed two phrases</div>
<div class="line">[Friday 25 March 2011] [13:10:39] &lt;klestes&gt;   good to know.</div>
<div class="line">[Friday 25 March 2011] [13:11:31] &lt;anddam&gt;    cremes: my hardlimit for files is unlimited</div>
<div class="line">[Friday 25 March 2011] [13:11:45] &lt;anddam&gt;    how could that affect tests?</div>
<div class="line">[Friday 25 March 2011] [13:12:33] &lt;cremes&gt;    anddam: did you modify your sendspace/recvspace kernel params?</div>
<div class="line">[Friday 25 March 2011] [13:13:18] &lt;cremes&gt;    and to answer your first question, it can affect your tests if the soft limit (ulimit -a) is lower than the number of sockets created</div>
<div class="line">[Friday 25 March 2011] [13:13:28] &lt;anddam&gt;    no, I&#8217;m checking sysctl syntax to avoid rebooting</div>
<div class="line">[Friday 25 March 2011] [13:16:21] &lt;anddam&gt;    cremes: not that hard sysctl -w</div>
<div class="line">[Friday 25 March 2011] [13:19:11] &lt;anddam&gt;    cremes: you were damn right</div>
<div class="line">[Friday 25 March 2011] [13:19:28] &lt;cremes&gt;    :)</div>
<div class="line">[Friday 25 March 2011] [13:19:40] &lt;anddam&gt;    <a class="reference external" href="http://pastesite.com/22571">http://pastesite.com/22571</a></div>
<div class="line">[Friday 25 March 2011] [13:19:46] &lt;anddam&gt;    so my issue is only mongrel2</div>
<div class="line">[Friday 25 March 2011] [13:19:53] &lt;anddam&gt;    I had no issues with a debian</div>
<div class="line">[Friday 25 March 2011] [13:29:25] &lt;anddam&gt;    cremes: seems this is it <a class="reference external" href="https://gist.github.com/724778">https://gist.github.com/724778</a></div>
<div class="line">[Friday 25 March 2011] [13:29:43] &lt;anddam&gt;    in fact,   zmq &#64;2.1.3_0 (active)</div>
<div class="line">[Friday 25 March 2011] [13:30:32] &lt;cremes&gt;    yes, the termination semantics changed from 2.0.10 to 2.1.0</div>
<div class="line">[Friday 25 March 2011] [13:31:16] &lt;anddam&gt;    I&#8217;ll checkout from repo, but I&#8217;m packaging for macports a stable tarball would be better</div>
<div class="line">[Friday 25 March 2011] [13:31:19] &lt;anddam&gt;    thanks, bye</div>
<div class="line">[Friday 25 March 2011] [13:48:29] &lt;mih&gt;       hello. One question about  new 2.1.3 version. It is build only .la static lib (even with &#8211;enable-shared option). Is it bug or feature?</div>
<div class="line">[Friday 25 March 2011] [13:55:39] &lt;cremes&gt;    mih: by default it should produce a shared library</div>
<div class="line">[Friday 25 March 2011] [16:30:54] &lt;traviscline&gt;       I want running web server processes to on certain events share internal state information. Just to clarify i&#8217;ll likely want a pub socket in each process and (at least one) corresponding sub sockets elsewhere for each of them. A friend suggested using req/rep on startup for the procs to know where to bind, sound reasonable?</div>
<div class="line">[Friday 25 March 2011] [16:43:29] &lt;dermoth|work&gt;      traviscline, in general for in pub/sub you have one suv with many put connecting to it</div>
<div class="line">[Friday 25 March 2011] [16:43:37] &lt;dermoth|work&gt;      one sub with many pub</div>
<div class="line">[Friday 25 March 2011] [16:43:44] &lt;dermoth|work&gt;      oops</div>
<div class="line">[Friday 25 March 2011] [16:43:49] &lt;dermoth|work&gt;      i mean toe opposite</div>
<div class="line">[Friday 25 March 2011] [16:44:09] &lt;dermoth|work&gt;      now I get what you mean :)</div>
<div class="line">[Friday 25 March 2011] [16:45:12] &lt;dermoth|work&gt;      traviscline, so it is that any web process should be ble to update the other processes?</div>
<div class="line">[Friday 25 March 2011] [17:04:10] &lt;dermoth|work&gt;      traviscline, well assuming this is what you want, you&#8217;ll need a forwarder device; all processes will connect their pub and sub sockets to it... and I strongly suggest testing it, expecially thing like all web servers reloading at once (could happen when logrotate kicks in if you leave it on)</div>
<div class="line">[Friday 25 March 2011] [17:05:02] &lt;dermoth|work&gt;      traviscline, ohoh I feel a cache pool like memcached might be better suited gfor that and could consume much less resources than two tcp connections per web process</div>
<div class="line">[Friday 25 March 2011] [18:13:34] &lt;mikko&gt;     evenin&#8217;</div>
<div class="line">[Friday 25 March 2011] [18:20:44] &lt;Seta00&gt;    hey I want a dot on that community map too :3</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rabb184a 10/ (6 files in 4 dirs):</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: ZMQ_NOBLOCK renamed ZMQ_DONTWAIT</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: Done because of POSIX compliance</div>
<div class="line">[Saturday 26 March 2011] [05:39:23] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hEKZog">http://bit.ly/hEKZog</a></div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * r82dbef3 10/ src/zmq.cpp :</div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: Memory leak in zmq_recv fixed</div>
<div class="line">[Saturday 26 March 2011] [06:06:26] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ie2raB">http://bit.ly/ie2raB</a></div>
<div class="line">[Saturday 26 March 2011] [09:45:47] &lt;Guthur&gt;  I see someone mention compiled binary size on ARM cores on the mailing list...</div>
<div class="line">[Saturday 26 March 2011] [09:46:04] &lt;Guthur&gt;  can ZeroMQ be successfully cross compiled for the ARM</div>
<div class="line">[Saturday 26 March 2011] [10:04:41] &lt;sustrik&gt; Guthur: iirc someone have done it</div>
<div class="line">[Saturday 26 March 2011] [10:04:53] &lt;sustrik&gt; there should be a mail about it on the mailing list</div>
<div class="line">[Saturday 26 March 2011] [10:05:02] &lt;sustrik&gt; or maybe a wiki page on the site</div>
<div class="line">[Saturday 26 March 2011] [10:05:30] &lt;Guthur&gt;  sustrik, I&#8217;ll have a look</div>
<div class="line">[Saturday 26 March 2011] [10:05:52] &lt;Guthur&gt;  Is there some search mechanism for the mailing list bar google</div>
<div class="line">[Saturday 26 March 2011] [10:10:36] &lt;Guthur&gt;  oh nvm</div>
<div class="line">[Saturday 26 March 2011] [10:32:43] &lt;Guthur&gt;  pieterh, I have the opportunity of presenting ZeroMQ to my team at work, any suggestions on content</div>
<div class="line">[Saturday 26 March 2011] [12:17:06] &lt;Eruquen&gt; is there a difference between zmq_zmsg_t and zmsg_t?</div>
<div class="line">[Saturday 26 March 2011] [12:18:02] &lt;sustrik&gt; what&#8217;s zmsg_t?</div>
<div class="line">[Saturday 26 March 2011] [12:21:07] &lt;Eruquen&gt; a type that is used in the C examples</div>
<div class="line">[Saturday 26 March 2011] [12:22:03] &lt;Eruquen&gt; maybe that&#8217;s why I get abitrary results vom zmq_msg_size</div>
<div class="line">[Saturday 26 March 2011] [12:42:30] &lt;sustrik&gt; i assume it&#8217;s some layer on top of 0mq that&#8217;s used by the guide</div>
<div class="line">[Saturday 26 March 2011] [12:42:35] &lt;sustrik&gt; no idea how it works</div>
<div class="line">[Saturday 26 March 2011] [12:42:36] &lt;sustrik&gt; sorry</div>
<div class="line">[Saturday 26 March 2011] [12:52:21] &lt;Guthur&gt;  Eruquen, source is here <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C/zmsg.h">https://github.com/imatix/zguide/blob/master/examples/C/zmsg.h</a></div>
<div class="line">[Saturday 26 March 2011] [12:52:47] &lt;Guthur&gt;  it provides some useful helper functions for msg</div>
<div class="line">[Saturday 26 March 2011] [14:30:36] &lt;Zevv&gt;    Hi all. Just learned about 0mq, seems that this can fix a lot of my daily pains. One question: is it possible in a inproc environment to pass pointers around ? I&#8217;m considering if 0mq can be used in our app which shares video data among a few threads on an embedded device which is painfully slow doing memcpy()&#8217;s</div>
<div class="line">[Saturday 26 March 2011] [14:31:05] &lt;Zevv&gt;    most of the messaging is probably ok to do using 0mq, but only the video data itself - several MB&#8217;s per frame - can not be copied around for performance reasons</div>
<div class="line">[Saturday 26 March 2011] [14:31:13] &lt;Zevv&gt;    is this a known scenario ?</div>
<div class="line">[Saturday 26 March 2011] [14:58:55] &lt;Guthur&gt;  Zevv, sure you could pass the memory address around if you want</div>
<div class="line">[Saturday 26 March 2011] [15:11:01] &lt;dermoth|home&gt;    Hey... I posted on the mailing list about PUSH/PULL sockets not failing over... now I&#8217;m reading 2.1 documentation, and it seems ZMQ_BACKLOG is what I want... Basically I want to fail over to other devices connected to the same socket as soon as possible, without alrering the high watermark</div>
<div class="line">[Saturday 26 March 2011] [15:12:01] &lt;dermoth|home&gt;    so multiple devices can be used for redundancy, without queueing message if one is down.</div>
<div class="line">[Saturday 26 March 2011] [15:17:41] &lt;sustrik&gt; dermoth|home: ZMQ_BACKLOG has to do only with connecting, it has no effect on messages themselves</div>
<div class="line">[Saturday 26 March 2011] [15:17:46] &lt;sustrik&gt; see man listen</div>
<div class="line">[Saturday 26 March 2011] [15:23:10] &lt;dermoth|home&gt;    oh</div>
<div class="line">[Saturday 26 March 2011] [15:23:55] &lt;dermoth|home&gt;    right, i missed the &#8220;peer connection&#8221; part</div>
<div class="line">[Saturday 26 March 2011] [16:08:34] &lt;seb`&gt;    can zeromq 2.1 talk to 2.0.10?</div>
<div class="line">[Saturday 26 March 2011] [16:08:49] &lt;sustrik&gt; let me see</div>
<div class="line">[Saturday 26 March 2011] [16:08:58] &lt;seb`&gt;    it would make it easier to upgrade:-)</div>
<div class="line">[Saturday 26 March 2011] [16:09:02] &lt;seb`&gt;    sustrik: thanks:-)</div>
<div class="line">[Saturday 26 March 2011] [16:09:45] &lt;sustrik&gt; yes, it can</div>
<div class="line">[Saturday 26 March 2011] [16:09:52] &lt;seb`&gt;    cool</div>
<div class="line">[Saturday 26 March 2011] [16:10:44] &lt;seb`&gt;    that will really save me from upgrade hell</div>
<div class="line">[Saturday 26 March 2011] [16:11:02] &lt;sustrik&gt; :)</div>
<div class="line">[Saturday 26 March 2011] [16:30:38] &lt;Guthur&gt;  surely if it couldn&#8217;t that would be a big issue</div>
<div class="line">[Saturday 26 March 2011] [18:43:36] &lt;<a href="#id151"><span class="problematic" id="id210">thatch__</span></a>&gt;        Is there a way to verify that a remote zeromq server is available before atempting to connect to it?</div>
<div class="line">[Saturday 26 March 2011] [19:05:02] &lt;Guthur&gt;  <a href="#id151"><span class="problematic" id="id211">thatch__</span></a>, you could checkout chapter 4 of the guide for some reliability patterns</div>
<div class="line">[Saturday 26 March 2011] [19:05:37] &lt;<a href="#id151"><span class="problematic" id="id212">thatch__</span></a>&gt;        thanks :)</div>
<div class="line">[Sunday 27 March 2011] [00:17:27] &lt;EduardoFonseca&gt;    Hi Guys. I&#8217;m trying to figure out how to implement connection dettection on top of zeroMQ. Any tips?</div>
<div class="line">[Sunday 27 March 2011] [00:17:35] &lt;EduardoFonseca&gt;    <a href="#id147"><span class="problematic" id="id148">*</span></a>detection, sorry.</div>
<div class="line">[Sunday 27 March 2011] [00:33:39] &lt;seb`&gt;      EduardoFonseca: you could send a first message to signal the connection</div>
<div class="line">[Sunday 27 March 2011] [00:33:58] &lt;seb`&gt;      it would have to be added to your own protocol</div>
<div class="line">[Sunday 27 March 2011] [00:37:56] &lt;EduardoFonseca&gt;    great</div>
<div class="line">[Sunday 27 March 2011] [00:38:07] &lt;EduardoFonseca&gt;    but what about detecting when this connection has gone away?</div>
<div class="line">[Sunday 27 March 2011] [00:38:43] &lt;EduardoFonseca&gt;    I tried implementing heartbeats, but the code started to get really complex.</div>
<div class="line">[Sunday 27 March 2011] [00:38:57] &lt;seb`&gt;      I was going to suggest that:-)</div>
<div class="line">[Sunday 27 March 2011] [00:39:21] &lt;seb`&gt;      on req/rep a heartbeat should not be that complex</div>
<div class="line">[Sunday 27 March 2011] [00:40:22] &lt;EduardoFonseca&gt;    I&#8217;m using XREQ and XREP... but the loadbalancing part got complex.</div>
<div class="line">[Sunday 27 March 2011] [00:40:44] &lt;EduardoFonseca&gt;    I was planning to reimplement the Majordomo pattern... but, why use zeroMQ if you need a broker? :)</div>
<div class="line">[Sunday 27 March 2011] [13:09:55] &lt;mikko&gt;     howdy guys</div>
<div class="line">[Sunday 27 March 2011] [13:57:22] &lt;Guthur&gt;    hey mikko</div>
<div class="line">[Sunday 27 March 2011] [13:57:54] &lt;Guthur&gt;    do you know if Ian Barbers PHP presentation slides are available anywhere for download, besides slideshare</div>
<div class="line">[Sunday 27 March 2011] [13:58:08] &lt;mikko&gt;     Guthur: let me check</div>
<div class="line">[Sunday 27 March 2011] [13:59:19] &lt;mikko&gt;     his blog seems to be down</div>
<div class="line">[Sunday 27 March 2011] [14:06:31] &lt;Guthur&gt;    ok, I&#8217;ll check it later</div>
<div class="line">[Sunday 27 March 2011] [14:06:36] &lt;Guthur&gt;    cheers mikko</div>
<div class="line">[Sunday 27 March 2011] [14:14:07] &lt;mikko&gt;     i can ask him for a pdf</div>
<div class="line">[Sunday 27 March 2011] [14:25:19] &lt;Guthur&gt;    mikko, that would great, cheers</div>
<div class="line">[Sunday 27 March 2011] [14:36:12] &lt;pieter_hintjens&gt;   Guthur: slideshare should offer downloads, doesn&#8217;t it?</div>
<div class="line">[Sunday 27 March 2011] [14:36:42] &lt;Guthur&gt;    pieter_hintjens, It does. i just didn&#8217;t want to sign up</div>
<div class="line">[Sunday 27 March 2011] [14:36:53] &lt;pieter_hintjens&gt;   yeah</div>
<div class="line">[Sunday 27 March 2011] [14:41:29] &lt;mikko&gt;     finally got some more build capacity online</div>
<div class="line">[Sunday 27 March 2011] [14:41:34] &lt;mikko&gt;     x86_64 centos</div>
<div class="line">[Sunday 27 March 2011] [14:41:46] &lt;mikko&gt;     rpms are now built every night</div>
<div class="line">[Sunday 27 March 2011] [14:43:01] &lt;mikko&gt;     pieter_hintjens: i&#8217;ll try to add libzapi today</div>
<div class="line">[Sunday 27 March 2011] [14:43:08] &lt;pieter_hintjens&gt;   mikko: nice!</div>
<div class="line">[Sunday 27 March 2011] [14:43:18] &lt;pieter_hintjens&gt;   I also renamed ZFL to libzfl, you saw that</div>
<div class="line">[Sunday 27 March 2011] [14:43:23] &lt;mikko&gt;     i did</div>
<div class="line">[Sunday 27 March 2011] [14:43:27] &lt;Guthur&gt;    I was actually going to draw some inspiration from Ian&#8217;s presentation for a presentation at work</div>
<div class="line">[Sunday 27 March 2011] [14:43:28] &lt;mikko&gt;     i was away yesterday and today</div>
<div class="line">[Sunday 27 March 2011] [14:43:31] &lt;mikko&gt;     spa weekend</div>
<div class="line">[Sunday 27 March 2011] [14:43:42] &lt;pieter_hintjens&gt;   :-) it was excellent weather here in Belgium</div>
<div class="line">[Sunday 27 March 2011] [14:43:42] &lt;mikko&gt;     been doing nothing but soaking in warm water</div>
<div class="line">[Sunday 27 March 2011] [14:44:13] &lt;Guthur&gt;    I&#8217;ve been wanting to ask him if it would be ok to borrow some stuff, just haven&#8217;t been able to catch him in here</div>
<div class="line">[Sunday 27 March 2011] [14:49:07]      * pieterh is making a new version of the guide</div>
<div class="line">[Sunday 27 March 2011] [14:49:18] &lt;pieterh&gt;   all code blocks highlighted, all collapsible (except a few)</div>
<div class="line">[Sunday 27 March 2011] [14:49:19] &lt;pieterh&gt;   <a class="reference external" href="http://zguide.zeromq.org/test:ch1">http://zguide.zeromq.org/test:ch1</a></div>
<div class="line">[Sunday 27 March 2011] [15:40:18]      * pieterh has created a monster, the Guide won&#8217;t load any longer...</div>
<div class="line">[Sunday 27 March 2011] [15:45:24] &lt;Guthur&gt;    it loads for me</div>
<div class="line">[Sunday 27 March 2011] [15:45:32]      * pieterh is fixing it as we speak...</div>
<div class="line">[Sunday 27 March 2011] [15:45:37] &lt;Guthur&gt;    but there is issues with the language translation link</div>
<div class="line">[Sunday 27 March 2011] [15:45:41] &lt;Guthur&gt;    links*</div>
<div class="line">[Sunday 27 March 2011] [15:45:50] &lt;pieterh&gt;   yes, reload in a few heartbeats...</div>
<div class="line">[Sunday 27 March 2011] [15:45:54] &lt;pieterh&gt;   the problem is the marked up code blocks are huge</div>
<div class="line">[Sunday 27 March 2011] [15:46:10] &lt;pieterh&gt;   including 320 of them in the page kind of does not work</div>
<div class="line">[Sunday 27 March 2011] [15:46:44] &lt;Guthur&gt;    hehe, I can imagine</div>
<div class="line">[Sunday 27 March 2011] [15:47:06] &lt;pieterh&gt;   it should work better now, code examples appear in a new tab</div>
<div class="line">[Sunday 27 March 2011] [15:47:17] &lt;pieterh&gt;   shame, it was kind of nice to have them inline...</div>
<div class="line">[Sunday 27 March 2011] [15:50:17] &lt;Guthur&gt;    oh new tabs, umm, I tend to curse pages that do that</div>
<div class="line">[Sunday 27 March 2011] [15:51:32] &lt;Guthur&gt;    is the C version still inline?</div>
<div class="line">[Sunday 27 March 2011] [15:53:36] &lt;pieterh&gt;   well, nope, but I&#8217;m going to make a further round of improvements</div>
<div class="line">[Sunday 27 March 2011] [15:53:52] &lt;pieterh&gt;   will inline the C version</div>
<div class="line">[Sunday 27 March 2011] [15:53:58] &lt;pieterh&gt;   and ditto for the PHP version</div>
<div class="line">[Sunday 27 March 2011] [15:56:28] &lt;mikko&gt;     pieterh: <a class="reference external" href="http://build.zero.mq/job/libzapi/3/console">http://build.zero.mq/job/libzapi/3/console</a></div>
<div class="line">[Sunday 27 March 2011] [15:56:38] &lt;mikko&gt;     ROUTER and DEALER are not in the main repo?</div>
<div class="line">[Sunday 27 March 2011] [15:56:52] &lt;mikko&gt;     the one that sustrik maintains</div>
<div class="line">[Sunday 27 March 2011] [15:56:55] &lt;pieterh&gt;   nope</div>
<div class="line">[Sunday 27 March 2011] [15:57:07] &lt;pieterh&gt;   libzapi needs 2.1.latest</div>
<div class="line">[Sunday 27 March 2011] [15:57:26] &lt;pieterh&gt;   I&#8217;m hoping sustrik will eventually make the ROUTER/DEALER changes but can&#8217;t force him to</div>
<div class="line">[Sunday 27 March 2011] [15:57:34] &lt;pieterh&gt;   mikko: hang on, I&#8217;</div>
<div class="line">[Sunday 27 March 2011] [15:57:36] &lt;mikko&gt;     this situation is very confusing</div>
<div class="line">[Sunday 27 March 2011] [15:57:39] &lt;pieterh&gt;   I&#8217;ll make a patch to libzapi</div>
<div class="line">[Sunday 27 March 2011] [15:57:50] &lt;pieterh&gt;   it&#8217;ll become less confusing over time</div>
<div class="line">[Sunday 27 March 2011] [15:57:58] &lt;pieterh&gt;   a lot of change happening in a lot of places...</div>
<div class="line">[Sunday 27 March 2011] [15:58:03] &lt;pieterh&gt;   gimme 2 minutes...</div>
<div class="line">[Sunday 27 March 2011] [15:58:09] &lt;mikko&gt;     no hurry</div>
<div class="line">[Sunday 27 March 2011] [16:00:16] &lt;pieterh&gt;   mikko: ok, done, new version pushed</div>
<div class="line">[Sunday 27 March 2011] [16:00:38] &lt;mikko&gt;     kicking off a new build</div>
<div class="line">[Sunday 27 March 2011] [16:00:48] &lt;mikko&gt;     #4 on the way</div>
<div class="line">[Sunday 27 March 2011] [16:00:51] &lt;pieterh&gt;   :-)</div>
<div class="line">[Sunday 27 March 2011] [16:02:40] &lt;mikko&gt;     builds</div>
<div class="line">[Sunday 27 March 2011] [16:02:52] &lt;mikko&gt;     <a class="reference external" href="http://build.zero.mq/job/libzapi/4/cobertura/_default_/">http://build.zero.mq/job/libzapi/4/cobertura/_default_/</a></div>
<div class="line">[Sunday 27 March 2011] [16:02:57] &lt;mikko&gt;     here is the code coverage</div>
<div class="line">[Sunday 27 March 2011] [16:04:02] &lt;mikko&gt;     i will refactor the builds as soon as the repository rename happens</div>
<div class="line">[Sunday 27 March 2011] [16:04:16] &lt;Guthur&gt;    pieterh, are you using ROUTER/DEALER in the guide</div>
<div class="line">[Sunday 27 March 2011] [16:04:16] &lt;mikko&gt;     so that i can do the changes in one go</div>
<div class="line">[Sunday 27 March 2011] [16:04:27] &lt;pieterh&gt;   Guthur: not yet, but that&#8217;s the next step</div>
<div class="line">[Sunday 27 March 2011] [16:04:45] &lt;pieterh&gt;   then, move the C code over to using libzapi</div>
<div class="line">[Sunday 27 March 2011] [16:04:57] &lt;pieterh&gt;   mikko: sweet!</div>
<div class="line">[Sunday 27 March 2011] [16:05:48] &lt;mikko&gt;     zeromq2-2, is this a new branch as well?</div>
<div class="line">[Sunday 27 March 2011] [16:06:00] &lt;pieterh&gt;   mikko: yes, that&#8217;s the packaging project for 2.2</div>
<div class="line">[Sunday 27 March 2011] [16:06:10] &lt;pieterh&gt;   the packaging projects will include more than libzmq, hopefully</div>
<div class="line">[Sunday 27 March 2011] [16:06:17] &lt;mikko&gt;     did my patch get through to the list ?</div>
<div class="line">[Sunday 27 March 2011] [16:06:21] &lt;pieterh&gt;   but they&#8217;ll track the libzmq major/minor versions</div>
<div class="line">[Sunday 27 March 2011] [16:06:25] &lt;pieterh&gt;   yes, your patch made it</div>
<div class="line">[Sunday 27 March 2011] [16:06:38] &lt;mikko&gt;     cool, not very good connectivity out in the sticks</div>
<div class="line">[Sunday 27 March 2011] [16:06:56] &lt;pieterh&gt;   from the hot spas... :-)</div>
<div class="line">[Sunday 27 March 2011] [16:08:02] &lt;mikko&gt;     so, what is the role of zeromq2, zeromq2-2 and zeromq2-1 repos?</div>
<div class="line">[Sunday 27 March 2011] [16:08:14] &lt;pieterh&gt;   just for consistency, really</div>
<div class="line">[Sunday 27 March 2011] [16:08:26] &lt;pieterh&gt;   zeromq2 will be deprecated, become a map for visitors who use the old URI</div>
<div class="line">[Sunday 27 March 2011] [16:08:45] &lt;mikko&gt;     do we in the future push changes to upstream first?</div>
<div class="line">[Sunday 27 March 2011] [16:08:48] &lt;pieterh&gt;   2-1 and 2-2 are packaging projects, 2-2 will be where we add new projects like libzapi</div>
<div class="line">[Sunday 27 March 2011] [16:08:49] &lt;mikko&gt;     because that would be ideal</div>
<div class="line">[Sunday 27 March 2011] [16:09:05] &lt;pieterh&gt;   yes, if possible</div>
<div class="line">[Sunday 27 March 2011] [16:09:11] &lt;pieterh&gt;   sometimes it won&#8217;t be possible</div>
<div class="line">[Sunday 27 March 2011] [16:09:29] &lt;pieterh&gt;   the 3.0 libzmq core will eventually change too much</div>
<div class="line">[Sunday 27 March 2011] [16:10:14] &lt;pieterh&gt;   we already had this case for one patch to 2.0, which had to be hand-made for that version</div>
<div class="line">[Sunday 27 March 2011] [16:10:42] &lt;mikko&gt;     something in this model feels very wrong but i really can&#8217;t put my finger on it</div>
<div class="line">[Sunday 27 March 2011] [16:11:04] &lt;mikko&gt;     it feels like duplicating the effort in some ways</div>
<div class="line">[Sunday 27 March 2011] [16:11:11] &lt;pieterh&gt;   in fact it&#8217;s not</div>
<div class="line">[Sunday 27 March 2011] [16:11:25] &lt;mikko&gt;     i made the openpgm build patches twice</div>
<div class="line">[Sunday 27 March 2011] [16:11:30] &lt;mikko&gt;     2-1 and upstream</div>
<div class="line">[Sunday 27 March 2011] [16:11:37] &lt;pieterh&gt;   yes, because you used pull requests to send to me</div>
<div class="line">[Sunday 27 March 2011] [16:11:54] &lt;pieterh&gt;   and sustrik does not accept anything except patches to ML</div>
<div class="line">[Sunday 27 March 2011] [16:12:03] &lt;pieterh&gt;   it would not change if we had one repo, two branches</div>
<div class="line">[Sunday 27 March 2011] [16:12:33] &lt;pieterh&gt;   the advantage is you were able to get rapid feedback that your changes worked</div>
<div class="line">[Sunday 27 March 2011] [16:12:39] &lt;mikko&gt;     so, we are still doing the patches on ML?</div>
<div class="line">[Sunday 27 March 2011] [16:12:43] &lt;pieterh&gt;   if you send upstream, you have no control over when they are released</div>
<div class="line">[Sunday 27 March 2011] [16:12:56] &lt;pieterh&gt;   i guess so, yes</div>
<div class="line">[Sunday 27 March 2011] [16:13:09] &lt;pieterh&gt;   I&#8217;d rather use the pull model explained on the contributing page</div>
<div class="line">[Sunday 27 March 2011] [16:13:26] &lt;pieterh&gt;   especially since that&#8217;s how Sustriks sends me changes... :-/</div>
<div class="line">[Sunday 27 March 2011] [16:14:25] &lt;pieterh&gt;   basically, any contributor has to convince the project owner to accept his patch</div>
<div class="line">[Sunday 27 March 2011] [16:14:37] &lt;pieterh&gt;   project owner can define how patches are submitted</div>
<div class="line">[Sunday 27 March 2011] [16:15:17] &lt;pieterh&gt;   and contributor is the one who stresses if project A and project B have different codebases</div>
<div class="line">[Sunday 27 March 2011] [16:15:26] &lt;Guthur&gt;    but is this not sort of fracturing zeromq too much</div>
<div class="line">[Sunday 27 March 2011] [16:15:30] &lt;pieterh&gt;   nah</div>
<div class="line">[Sunday 27 March 2011] [16:15:32] &lt;mikko&gt;     yes, it is</div>
<div class="line">[Sunday 27 March 2011] [16:15:33] &lt;Guthur&gt;    projects with in a project</div>
<div class="line">[Sunday 27 March 2011] [16:15:40] &lt;pieterh&gt;   libzmq != ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:15:42] &lt;mikko&gt;     this puts more pressure on contributors</div>
<div class="line">[Sunday 27 March 2011] [16:15:49] &lt;pieterh&gt;   yes, mikko, it does</div>
<div class="line">[Sunday 27 March 2011] [16:15:59] &lt;pieterh&gt;   but that&#8217;s necessary if we&#8217;re not to have bottlenecks</div>
<div class="line">[Sunday 27 March 2011] [16:16:15] &lt;mikko&gt;     we already have massive bottlenecks</div>
<div class="line">[Sunday 27 March 2011] [16:16:27] &lt;pieterh&gt;   yes, but this is one big one removed</div>
<div class="line">[Sunday 27 March 2011] [16:16:32] &lt;mikko&gt;     we have three separate branches as three separate projects</div>
<div class="line">[Sunday 27 March 2011] [16:16:43] &lt;pieterh&gt;   that&#8217;s not a bottleneck...</div>
<div class="line">[Sunday 27 March 2011] [16:16:44] &lt;mikko&gt;     every contributor has to mix and match their patches</div>
<div class="line">[Sunday 27 March 2011] [16:16:52] &lt;mikko&gt;     and only one person can accept that patch</div>
<div class="line">[Sunday 27 March 2011] [16:17:01] &lt;pieterh&gt;   sorry, this isn&#8217;t accurate, mikko</div>
<div class="line">[Sunday 27 March 2011] [16:17:04] &lt;mikko&gt;     if that person is on hols your patch is sitting and waiting somewhere</div>
<div class="line">[Sunday 27 March 2011] [16:17:26] &lt;pieterh&gt;   this is standard with Git</div>
<div class="line">[Sunday 27 March 2011] [16:17:36] &lt;pieterh&gt;   you send patches or pull requests to a project maintainer</div>
<div class="line">[Sunday 27 March 2011] [16:17:41] &lt;mikko&gt;     no, it&#8217;s not</div>
<div class="line">[Sunday 27 March 2011] [16:17:52] &lt;pieterh&gt;   you want everyone to commit to the repository?</div>
<div class="line">[Sunday 27 March 2011] [16:17:55] &lt;mikko&gt;     this is one possible workflow</div>
<div class="line">[Sunday 27 March 2011] [16:18:08] &lt;mikko&gt;     who do you mean by everyone?</div>
<div class="line">[Sunday 27 March 2011] [16:18:13] &lt;pieterh&gt;   it&#8217;s the one that scales to many projects, because each one is smallish</div>
<div class="line">[Sunday 27 March 2011] [16:18:43] &lt;pieterh&gt;   and this only affects libzmq because it&#8217;s got several incompatible versions</div>
<div class="line">[Sunday 27 March 2011] [16:18:57] &lt;pieterh&gt;   that is only one project out of 20 or 30</div>
<div class="line">[Sunday 27 March 2011] [16:20:50] &lt;pieterh&gt;   mikko: do you have an alternative proposal that lets us do what we want to do?</div>
<div class="line">[Sunday 27 March 2011] [16:21:20] &lt;mikko&gt;     currently we are doing everything very differently from what people contributing to open source are used to</div>
<div class="line">[Sunday 27 March 2011] [16:21:31] &lt;mikko&gt;     and that alienates contributors</div>
<div class="line">[Sunday 27 March 2011] [16:21:44] &lt;pieterh&gt;   that&#8217;s true if you look at the core project but it&#8217;s not true for the overall scheme</div>
<div class="line">[Sunday 27 March 2011] [16:22:22] &lt;pieterh&gt;   each project accepts contributors and contributions in its own way</div>
<div class="line">[Sunday 27 March 2011] [16:22:32] &lt;pieterh&gt;   this is consistent with how open source communities work</div>
<div class="line">[Sunday 27 March 2011] [16:22:44] &lt;pieterh&gt;   the only difference here is we have separate projects for <em>packaging</em> ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:22:52] &lt;pieterh&gt;   but that is necessary because libzmq != ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:23:02] &lt;pieterh&gt;   which will become much clearer once the core repo is renamed</div>
<div class="line">[Sunday 27 March 2011] [16:23:37] &lt;mikko&gt;     a contributor should not need to understand this amazing complex grand schema</div>
<div class="line">[Sunday 27 March 2011] [16:23:55] &lt;pieterh&gt;   well, we do have a lot of projects, how do you propose to map this?</div>
<div class="line">[Sunday 27 March 2011] [16:23:57] &lt;mikko&gt;     it should be as straigh-forward as: i run 2.1, find the git repo, make a patch</div>
<div class="line">[Sunday 27 March 2011] [16:24:04] &lt;pieterh&gt;   the packaging projects are largely hidden</div>
<div class="line">[Sunday 27 March 2011] [16:24:17] &lt;pieterh&gt;   make your patches against the libzmq git</div>
<div class="line">[Sunday 27 March 2011] [16:24:33] &lt;mikko&gt;     this should not be followed by having to understand that actually if my patch goes to libzmq i need to get it accepted to zeromq2-2 and zeromq2-1</div>
<div class="line">[Sunday 27 March 2011] [16:24:46] &lt;mikko&gt;     and possibly need to rework the patch for each version separately</div>
<div class="line">[Sunday 27 March 2011] [16:24:51] &lt;pieterh&gt;   well, fair enough, but understand that...</div>
<div class="line">[Sunday 27 March 2011] [16:25:04] &lt;pieterh&gt;   these repositories are for stabilization</div>
<div class="line">[Sunday 27 March 2011] [16:25:12] &lt;mikko&gt;     but they aren&#8217;t</div>
<div class="line">[Sunday 27 March 2011] [16:25:20] &lt;pieterh&gt;   that means they only in theory get bug fixes or very safe functional changes</div>
<div class="line">[Sunday 27 March 2011] [16:25:21] &lt;mikko&gt;     we pushed openpgm build fixes straight to 2-1</div>
<div class="line">[Sunday 27 March 2011] [16:25:29] &lt;mikko&gt;     not through &#8216;libzmq&#8217; repo</div>
<div class="line">[Sunday 27 March 2011] [16:25:36] &lt;pieterh&gt;   indeed, let&#8217;s not do that again</div>
<div class="line">[Sunday 27 March 2011] [16:25:45] &lt;pieterh&gt;   however, realize that it&#8217;s how you got those changes <em>tested</em> rapidly</div>
<div class="line">[Sunday 27 March 2011] [16:26:00] &lt;pieterh&gt;   next time, send to the ML</div>
<div class="line">[Sunday 27 March 2011] [16:26:07] &lt;Guthur&gt;    i&#8217;ve not really seen various version of a library being seen as projects</div>
<div class="line">[Sunday 27 March 2011] [16:26:22] &lt;pieterh&gt;   RHEL x.x?</div>
<div class="line">[Sunday 27 March 2011] [16:26:23] &lt;Guthur&gt;    if that happens they usually fork off and rename,</div>
<div class="line">[Sunday 27 March 2011] [16:26:55] &lt;Guthur&gt;    not familiar with RH to be honest</div>
<div class="line">[Sunday 27 March 2011] [16:27:02] &lt;pieterh&gt;   the linux kernel is repackaged in many distributions, each is a project</div>
<div class="line">[Sunday 27 March 2011] [16:27:42] &lt;Guthur&gt;    yes but are we not talking about the &#8216;kernel&#8217; at the moment</div>
<div class="line">[Sunday 27 March 2011] [16:27:51] &lt;pieterh&gt;   well, libzmq is like the kernel for ZeroMQ</div>
<div class="line">[Sunday 27 March 2011] [16:28:14] &lt;pieterh&gt;   mikko: next time you send me a pull request for 2-1, I&#8217;ll reject it, OK?</div>
<div class="line">[Sunday 27 March 2011] [16:28:19] &lt;Guthur&gt;    so 2, 2-1, 2-2 are distros?</div>
<div class="line">[Sunday 27 March 2011] [16:28:24] &lt;pieterh&gt;   yes, thank you</div>
<div class="line">[Sunday 27 March 2011] [16:28:29] &lt;pieterh&gt;   2 is not</div>
<div class="line">[Sunday 27 March 2011] [16:28:33] &lt;pieterh&gt;   2 is dead</div>
<div class="line">[Sunday 27 March 2011] [16:28:45] &lt;pieterh&gt;   will be dead once it&#8217;s been renamed to libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:29:04] &lt;Guthur&gt;    seems I a bit crazy to me, but i&#8217;m not overly experienced with these sort of things</div>
<div class="line">[Sunday 27 March 2011] [16:29:26] &lt;pieterh&gt;   there is no other way to create the freedom to make real packaging projects</div>
<div class="line">[Sunday 27 March 2011] [16:29:36] &lt;pieterh&gt;   it seems pretty clear to me</div>
<div class="line">[Sunday 27 March 2011] [16:29:53] &lt;pieterh&gt;   alternative is to all work in one repo, and have no packaging projects</div>
<div class="line">[Sunday 27 March 2011] [16:30:02] &lt;mikko&gt;     hahaha, you designed the schema</div>
<div class="line">[Sunday 27 March 2011] [16:30:07] &lt;mikko&gt;     of course it&#8217;s clear to you</div>
<div class="line">[Sunday 27 March 2011] [16:30:16] &lt;pieterh&gt;   sure</div>
<div class="line">[Sunday 27 March 2011] [16:30:22] &lt;mikko&gt;     but from contributor&#8217;s point of view the situation is not very good (imho)</div>
<div class="line">[Sunday 27 March 2011] [16:30:33] &lt;pieterh&gt;   well, it&#8217;ll be clearer IMO when libzmq is properly named</div>
<div class="line">[Sunday 27 March 2011] [16:30:43] &lt;pieterh&gt;   &#8220;send your patch to the libzmq project&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:30:50] &lt;pieterh&gt;   and that can downstream to the various distros</div>
<div class="line">[Sunday 27 March 2011] [16:30:53] &lt;mikko&gt;     what happens when sustrik is on holidays?</div>
<div class="line">[Sunday 27 March 2011] [16:31:00] &lt;pieterh&gt;   ask him, I don&#8217;t know</div>
<div class="line">[Sunday 27 March 2011] [16:31:10] &lt;pieterh&gt;   mikko: this is not a command-and-control model</div>
<div class="line">[Sunday 27 March 2011] [16:31:13] &lt;mikko&gt;     see, are we not creating massive bottlenecks?</div>
<div class="line">[Sunday 27 March 2011] [16:31:28] &lt;pieterh&gt;   propose an alternative to &#8220;person who knows the code real well&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:31:38] &lt;pieterh&gt;   we&#8217;re not <em>creating</em> that bottleneck, it exists</div>
<div class="line">[Sunday 27 March 2011] [16:31:48] &lt;pieterh&gt;   seriously, your alternative is what, clone sustrik?</div>
<div class="line">[Sunday 27 March 2011] [16:32:05] &lt;pieterh&gt;   there are other people who know the core structures pretty well</div>
<div class="line">[Sunday 27 March 2011] [16:32:14] &lt;pieterh&gt;   if sustrik is unable to act as maintainer, I&#8217;m sure he&#8217;ll delegate</div>
<div class="line">[Sunday 27 March 2011] [16:32:21] &lt;pieterh&gt;   but it is <em>his</em> responsibility</div>
<div class="line">[Sunday 27 March 2011] [16:32:35] &lt;pieterh&gt;   you and me can debate that for years, it matters not at all</div>
<div class="line">[Sunday 27 March 2011] [16:32:52] &lt;mikko&gt;     yes, what i don&#8217;t get is this cycle:</div>
<div class="line">[Sunday 27 March 2011] [16:32:56] &lt;Guthur&gt;    could we not have the situation where the &#8216;distros&#8217; start deviating quite far from the main dev branch</div>
<div class="line">[Sunday 27 March 2011] [16:33:05] &lt;pieterh&gt;   Guthur: unlikely, why would they?</div>
<div class="line">[Sunday 27 March 2011] [16:33:31] &lt;mikko&gt;     fork libzmq, create patch, commit, create signed patch, reset, wait for a merge, then pull down your own changes</div>
<div class="line">[Sunday 27 March 2011] [16:33:32] &lt;pieterh&gt;   the very point is that the people maintaining distros don&#8217;t know the code</div>
<div class="line">[Sunday 27 March 2011] [16:33:40] &lt;Guthur&gt;    just curious really, they seemed to have become more than just previous versions</div>
<div class="line">[Sunday 27 March 2011] [16:33:46] &lt;pieterh&gt;   mikko: ack, it&#8217;s complex and I don&#8217;t like it</div>
<div class="line">[Sunday 27 March 2011] [16:33:50] &lt;Guthur&gt;    they seemed to have become their own projects</div>
<div class="line">[Sunday 27 March 2011] [16:34:06] &lt;mikko&gt;     forgot the &#8220;send mail to mailing-list&#8221; from that</div>
<div class="line">[Sunday 27 March 2011] [16:34:12] &lt;pieterh&gt;   Guthur: &#8216;seem to&#8217; is mild, the goal was to create dependent projects</div>
<div class="line">[Sunday 27 March 2011] [16:34:16] &lt;pieterh&gt;   mikko: yes, I know</div>
<div class="line">[Sunday 27 March 2011] [16:34:29] &lt;pieterh&gt;   I&#8217;ve lobbied sustrik on this several times, here and on the list</div>
<div class="line">[Sunday 27 March 2011] [16:34:49] &lt;pieterh&gt;   next time, chime in, on the ML thread ... :-/</div>
<div class="line">[Sunday 27 March 2011] [16:35:10] &lt;mikko&gt;     i had forgotten about the ML patches already</div>
<div class="line">[Sunday 27 March 2011] [16:35:18] &lt;pieterh&gt;   I spent a lot of effort documenting alternative flows on the contributing page</div>
<div class="line">[Sunday 27 March 2011] [16:39:55] &lt;Guthur&gt;    pieterh, dependent or independent?</div>
<div class="line">[Sunday 27 March 2011] [16:40:04] &lt;pieterh&gt;   both :-)</div>
<div class="line">[Sunday 27 March 2011] [16:40:17] &lt;pieterh&gt;   look, 2-1 is not a good example, it&#8217;s too young</div>
<div class="line">[Sunday 27 March 2011] [16:40:33] &lt;Guthur&gt;    though it already as deviation</div>
<div class="line">[Sunday 27 March 2011] [16:40:36] &lt;pieterh&gt;   2-2 will include, in my plans, libzmq, libzapi, the new C++ binding</div>
<div class="line">[Sunday 27 March 2011] [16:40:43] &lt;Guthur&gt;    where something needs forward ported</div>
<div class="line">[Sunday 27 March 2011] [16:40:53] &lt;pieterh&gt;   obviously it depends on those N projects</div>
<div class="line">[Sunday 27 March 2011] [16:41:03] &lt;Guthur&gt;    admittedly only a minor #define</div>
<div class="line">[Sunday 27 March 2011] [16:41:11] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:41:32] &lt;pieterh&gt;   one way would be to use submodules and branches in the source repo</div>
<div class="line">[Sunday 27 March 2011] [16:41:50] &lt;pieterh&gt;   that would require that the branches are maintained in that repo</div>
<div class="line">[Sunday 27 March 2011] [16:42:26] &lt;pieterh&gt;   experience is that this wasn&#8217;t happening, due to complexity of moving changes between branches (or somesuch)</div>
<div class="line">[Sunday 27 March 2011] [16:42:47] &lt;pieterh&gt;   lack of interest from main developers in maintaining branches</div>
<div class="line">[Sunday 27 March 2011] [16:42:54] &lt;mikko&gt;     it&#8217;s the same amount of complexity as between different repos</div>
<div class="line">[Sunday 27 March 2011] [16:42:58] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:43:12] &lt;pieterh&gt;   exactly, but with different repos, you can slice the work over several people much more easily</div>
<div class="line">[Sunday 27 March 2011] [16:43:22] &lt;pieterh&gt;   this is the key insight</div>
<div class="line">[Sunday 27 March 2011] [16:43:31] &lt;pieterh&gt;   collaborating inside one repo is really difficult</div>
<div class="line">[Sunday 27 March 2011] [16:43:35] &lt;pieterh&gt;   it demands agreement</div>
<div class="line">[Sunday 27 March 2011] [16:43:42] &lt;pieterh&gt;   clearly we don&#8217;t get that easily</div>
<div class="line">[Sunday 27 March 2011] [16:43:44] &lt;Guthur&gt;    I thought git made it easier</div>
<div class="line">[Sunday 27 March 2011] [16:43:54] &lt;pieterh&gt;   it doesn&#8217;t change people and make them less stubborn</div>
<div class="line">[Sunday 27 March 2011] [16:43:58] &lt;Guthur&gt;    certainly easier than the likes of SVN</div>
<div class="line">[Sunday 27 March 2011] [16:44:04] &lt;pieterh&gt;   git makes it easier to have many repos</div>
<div class="line">[Sunday 27 March 2011] [16:44:15]      * Guthur has SVN pain at work, it&#8217;s not pretty</div>
<div class="line">[Sunday 27 March 2011] [16:44:19] &lt;pieterh&gt;   indeed</div>
<div class="line">[Sunday 27 March 2011] [16:44:34] &lt;pieterh&gt;   git lets us solve the problem by slicing projects up, like I said on the ML, per ego</div>
<div class="line">[Sunday 27 March 2011] [16:44:45] &lt;pieterh&gt;   it&#8217;s actually a really pleasant way to work</div>
<div class="line">[Sunday 27 March 2011] [16:44:53] &lt;Guthur&gt;    yeah, that discussion got a little out of hand</div>
<div class="line">[Sunday 27 March 2011] [16:45:09] &lt;Guthur&gt;    well it appeared so from an onlookers perspective</div>
<div class="line">[Sunday 27 March 2011] [16:45:14] &lt;pieterh&gt;   exactly, and that was the same last time we discussed multiple branches in the main repo</div>
<div class="line">[Sunday 27 March 2011] [16:46:39] &lt;pieterh&gt;   that was sometime in July iir, and my conclusion was &#8220;don&#8217;t work in the core repo, ever&#8221;</div>
<div class="line">[Sunday 27 March 2011] [16:47:18] &lt;mikko&gt;     as the community grows an ideal process to me would be to have multiple people with commit access</div>
<div class="line">[Sunday 27 March 2011] [16:47:29] &lt;mikko&gt;     and each set of changes is mailed automatically to mailing-list</div>
<div class="line">[Sunday 27 March 2011] [16:47:52] &lt;pieterh&gt;   mikko: yes, probably a good model</div>
<div class="line">[Sunday 27 March 2011] [16:48:36] &lt;mikko&gt;     this also gives more visibility to changes going into repo and allows easily start conversation on mailing-list</div>
<div class="line">[Sunday 27 March 2011] [16:48:53] &lt;pieterh&gt;   however, I&#8217;m not going to raise this discussion for libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:49:15] &lt;pieterh&gt;   you already have committer access to libzapi and libzfl</div>
<div class="line">[Sunday 27 March 2011] [16:50:25] &lt;Guthur&gt;    libzmq is the heart of it all though, and so the most important</div>
<div class="line">[Sunday 27 March 2011] [16:50:27] &lt;mikko&gt;     yes</div>
<div class="line">[Sunday 27 March 2011] [16:50:39] &lt;mikko&gt;     for example now i would be keen on getting coverage into libzmq</div>
<div class="line">[Sunday 27 March 2011] [16:50:39] &lt;pieterh&gt;   yes</div>
<div class="line">[Sunday 27 March 2011] [16:50:51] &lt;mikko&gt;     but it&#8217;s futile to work on the stuff before openpgm patch has been merged</div>
<div class="line">[Sunday 27 March 2011] [16:51:08] &lt;pieterh&gt;   mikko: my experience contributing to core has been quite negative, I have to admit</div>
<div class="line">[Sunday 27 March 2011] [16:51:10] &lt;mikko&gt;     i don&#8217;t even know if rebase works well on that cycle</div>
<div class="line">[Sunday 27 March 2011] [16:51:50] &lt;mikko&gt;     as in, when i pull back the changes merged by sustrik does that conflict with my local changes?</div>
<div class="line">[Sunday 27 March 2011] [16:51:59] &lt;mikko&gt;     or is it the same commit?</div>
<div class="line">[Sunday 27 March 2011] [16:52:08] &lt;pieterh&gt;   depends how you do it IMO</div>
<div class="line">[Sunday 27 March 2011] [16:58:43] &lt;pieterh&gt;   Guthur: OK, I&#8217;m able to inline the main language, the page is slow but loads</div>
<div class="line">[Sunday 27 March 2011] [17:00:28] &lt;Seta00&gt;    pieterh: the libzapi project file is broken</div>
<div class="line">[Sunday 27 March 2011] [17:00:54] &lt;pieterh&gt;   Seta00: yes, I&#8217;ve not tested it yet on MSVC</div>
<div class="line">[Sunday 27 March 2011] [17:01:03] &lt;pieterh&gt;   do you want to try fixing it and sending a patch?</div>
<div class="line">[Sunday 27 March 2011] [17:01:25] &lt;Seta00&gt;    yes</div>
<div class="line">[Sunday 27 March 2011] [17:01:31] &lt;pieterh&gt;   it&#8217;s a copy of the libzfl project file, but obviously refers to the wrong sources &amp; includes</div>
<div class="line">[Sunday 27 March 2011] [17:01:33] &lt;pieterh&gt;   thanks! :-)</div>
<div class="line">[Sunday 27 March 2011] [17:06:19] &lt;pieterh&gt;   g&#8217;night folks, I need to crash, early morning tomorrow</div>
<div class="line">[Sunday 27 March 2011] [17:06:48] &lt;Seta00&gt;    pieterh: just a small question before you go, if you have to include non-standard headers to the project, where should they go? on the standard include directory?</div>
<div class="line">[Sunday 27 March 2011] [17:06:55] &lt;Seta00&gt;    (MSVC doesn&#8217;t have inttypes.h)</div>
<div class="line">[Sunday 27 March 2011] [17:07:05] &lt;Seta00&gt;    but there&#8217;s <a class="reference external" href="https://code.google.com/p/msinttypes/">https://code.google.com/p/msinttypes/</a></div>
<div class="line">[Sunday 27 March 2011] [17:07:24] &lt;pieterh&gt;   Seta00: hmm, edit zapi_prelude.h to include the right files and move the existing include to one of the #if UNIX blocks</div>
<div class="line">[Sunday 27 March 2011] [17:07:33] &lt;Seta00&gt;    okay thanks</div>
<div class="line">[Sunday 27 March 2011] [17:07:49] &lt;pieterh&gt;   there&#8217;s a section in the doc on Porting libzapi, may be helpful</div>
<div class="line">[Sunday 27 March 2011] [17:39:14] &lt;Seta00&gt;    apparently msvc has no implementation of sigaction</div>
<div class="line">[Sunday 27 March 2011] [17:39:23] &lt;Seta00&gt;    :(</div>
<div class="line">[Sunday 27 March 2011] [17:42:31] &lt;JusticeFries&gt;      what are the differences in typical use cases for 0mq vs something like rabbitmq?</div>
<div class="line">[Sunday 27 March 2011] [19:05:16] &lt;klestes&gt;   hello, is anyone talking today ?</div>
<div class="line">[Sunday 27 March 2011] [19:19:27] &lt;klestes&gt;   if anyone does see this, what is the best way to interoperate with channels in basic (non 0MQ) tcp ?  do you have to write a custom gateway, TCP &lt;&#8211;&gt; 0MQ, or is there a better solution inherent in 0MQ that I&#8217;ve missed ?</div>
<div class="line">[Sunday 27 March 2011] [19:20:09] &lt;jdroid-&gt;   i&#8217;ve been using zmq with python and am trying to compile some stuff with c now, but I keep getting errors.</div>
<div class="line">[Sunday 27 March 2011] [19:20:36] &lt;jdroid-&gt;   does this make sense to anyone? <a class="reference external" href="http://pastebin.com/7Mj5KSSH">http://pastebin.com/7Mj5KSSH</a></div>
<div class="line">[Sunday 27 March 2011] [19:20:44]      * jdroid- is very rusty with c...</div>
<div class="line">[Sunday 27 March 2011] [19:21:06] &lt;jdroid-&gt;   here&#8217;s the code: <a class="reference external" href="http://pastebin.com/efKgRJiK">http://pastebin.com/efKgRJiK</a></div>
<div class="line">[Sunday 27 March 2011] [19:21:22] &lt;klestes&gt;   you have to program a lot lower with C than with python - how would you say the experience has been using python with 0MQ ?</div>
<div class="line">[Sunday 27 March 2011] [19:22:06] &lt;jdroid-&gt;   The experience with python has been awesome so far. Very easy.</div>
<div class="line">[Sunday 27 March 2011] [19:22:23] &lt;jdroid-&gt;   I built a Mongrel2 handler with eventlet and zeromq recently. github.com/j2labs/brubeck</div>
<div class="line">[Sunday 27 March 2011] [19:23:20] &lt;jdroid-&gt;   I&#8217;ve been posting a few pyzmq examples to github as it comes up in conversation, but I want to add a multilang example AND get back in C doing it.</div>
<div class="line">[Sunday 27 March 2011] [19:23:26] &lt;jdroid-&gt;   <a class="reference external" href="https://github.com/j2labs/zmq_examples">https://github.com/j2labs/zmq_examples</a></div>
<div class="line">[Sunday 27 March 2011] [19:23:53] &lt;klestes&gt;   after learning Perl, my goal is never go back to C!  Evah !</div>
<div class="line">[Sunday 27 March 2011] [19:24:13] &lt;jdroid-&gt;   After learning Perl, I vowed never to go back to Perl. So right back atcha buddy!</div>
<div class="line">[Sunday 27 March 2011] [19:24:31] &lt;jdroid-&gt;   :)</div>
<div class="line">[Sunday 27 March 2011] [19:24:47] &lt;klestes&gt;   also you might want to check out the new zapi.  Hintjen is very excited about it, so it could be big.</div>
<div class="line">[Sunday 27 March 2011] [19:25:06] &lt;klestes&gt;   well, I&#8217;m not going to stir up a fight.  I have a lot of respect for Python, and might be doing some work in it soon myself.</div>
<div class="line">[Sunday 27 March 2011] [19:26:28] &lt;klestes&gt;   my point was to be, programming 0MQ in either python or perl is much easier than C, IMHO.</div>
<div class="line">[Sunday 27 March 2011] [19:26:52] &lt;jdroid-&gt;   Well I&#8217;m only kidding anyway. Perl is a fine language if you&#8217;re working with people who respect others. :)</div>
<div class="line">[Sunday 27 March 2011] [19:28:29] &lt;klestes&gt;   It has its warts, and its uhm, non warty really ok type features.</div>
<div class="line">[Sunday 27 March 2011] [19:28:53] &lt;klestes&gt;   I get sick of all those $ signs all the time, esp. since its been a while since I&#8217;ve seen $$$$ !</div>
<div class="line">[Sunday 27 March 2011] [19:29:32] &lt;jdroid-&gt;   You&#8217;ll dig python then I&#8217;m sure. The code is generally as easy to read as people say.</div>
<div class="line">[Sunday 27 March 2011] [19:29:38] &lt;jdroid-&gt;   But anyway... I&#8217;m trying to get some c compiled!</div>
<div class="line">[Sunday 27 March 2011] [19:29:52] &lt;klestes&gt;   I looked at your code, but not being in C for at least a decade, I couildn&#8217;t catch anything right off the bat.  I know its either a linking issue, or maybe forgetting to include a header (but you seem to have done that right)</div>
<div class="line">[Sunday 27 March 2011] [19:30:19] &lt;klestes&gt;   what compiler are you using, Gcc ?</div>
<div class="line">[Sunday 27 March 2011] [19:31:03] &lt;jdroid-&gt;   oh great question actually... i&#8217;m using the gcc xcode gave me</div>
<div class="line">[Sunday 27 March 2011] [19:31:34] &lt;jdroid-&gt;   seems to compile mongrel2 just fine, so i figure i&#8217;ve got my args wrong somehow</div>
<div class="line">[Sunday 27 March 2011] [19:31:50] &lt;jdroid-&gt;   gcc 4.2.1 specifically tho</div>
<div class="line">[Sunday 27 March 2011] [19:31:51] &lt;klestes&gt;   uhm, xcode - are you on OS/X ?</div>
<div class="line">[Sunday 27 March 2011] [19:31:54] &lt;jdroid-&gt;   yep</div>
<div class="line">[Sunday 27 March 2011] [19:31:59] &lt;klestes&gt;   lucky guy !</div>
<div class="line">[Sunday 27 March 2011] [19:32:09] &lt;jdroid-&gt;   i guess..? macs are cheap these days</div>
<div class="line">[Sunday 27 March 2011] [19:32:18] &lt;klestes&gt;   someday I&#8217;m gonna go mac...and never come back.</div>
<div class="line">[Sunday 27 March 2011] [19:32:33] &lt;klestes&gt;   well, depends on what kinda mac you want.  the one I want is 2.5 - 3k.</div>
<div class="line">[Sunday 27 March 2011] [19:34:03] &lt;klestes&gt;   try compiling and linking one of the simple examples from the guide.  do you get the same errors ?</div>
<div class="line">[Sunday 27 March 2011] [19:35:54] &lt;jdroid-&gt;   i seem to get the same errrors</div>
<div class="line">[Sunday 27 March 2011] [19:35:56] &lt;jdroid-&gt;   hmm</div>
<div class="line">[Sunday 27 March 2011] [19:36:11] &lt;jdroid-&gt;   i tried this: <a class="reference external" href="http://zguide.zeromq.org/c:hwclient">http://zguide.zeromq.org/c:hwclient</a></div>
<div class="line">[Sunday 27 March 2011] [19:38:51] &lt;jdroid-&gt;   ah got it</div>
<div class="line">[Sunday 27 March 2011] [19:39:00] &lt;jdroid-&gt;   i forgot -lzmq at the end of the gcc cmd</div>
<div class="line">[Sunday 27 March 2011] [19:39:42] &lt;JusticeFries&gt;      what is the difference in typical use case for 0mq versus something in the realm of rabbitmq?</div>
<div class="line">[Sunday 27 March 2011] [19:40:05] &lt;jdroid-&gt;   JusticeFries: I think the mistake there is assuming zmq is a replacement for rabbitmq</div>
<div class="line">[Sunday 27 March 2011] [19:40:19] &lt;JusticeFries&gt;      nope</div>
<div class="line">[Sunday 27 March 2011] [19:40:23] &lt;JusticeFries&gt;      not assuming replacement.</div>
<div class="line">[Sunday 27 March 2011] [19:40:30] &lt;JusticeFries&gt;      i&#8217;m interested in how they complement each other, too. :)</div>
<div class="line">[Sunday 27 March 2011] [19:40:34] &lt;JusticeFries&gt;      and what each one excels at.</div>
<div class="line">[Sunday 27 March 2011] [19:40:53] &lt;jdroid-&gt;   :)</div>
<div class="line">[Sunday 27 March 2011] [19:41:30] &lt;jdroid-&gt;   So ZMQ is more like sockets with messaging semantics. You&#8217;d still build your broker, which might be dropping stuff from one zmq socket in a db, while sending stuff out of the db across another socket</div>
<div class="line">[Sunday 27 March 2011] [19:41:58] &lt;JusticeFries&gt;      okay.</div>
<div class="line">[Sunday 27 March 2011] [19:42:05] &lt;JusticeFries&gt;      unix sockets, or something more specific to ZMQ?</div>
<div class="line">[Sunday 27 March 2011] [19:42:16] &lt;jdroid-&gt;   Zmq offers multiple types of sockets.</div>
<div class="line">[Sunday 27 March 2011] [19:42:21] &lt;JusticeFries&gt;      fair enough.</div>
<div class="line">[Sunday 27 March 2011] [19:42:25] &lt;jdroid-&gt;   You could use unix sockets if you want. You could use tcp just as easily</div>
<div class="line">[Sunday 27 March 2011] [19:43:49] &lt;JusticeFries&gt;      so then - I&#8217;m looking at doing something that settles somewhere near rabbit&#8217;s topic exchanges. basically, using it for some group messaging functions for end users that doesn&#8217;t hit the DB.</div>
<div class="line">[Sunday 27 March 2011] [19:43:52] &lt;klestes&gt;   I&#8217;ve heard that rabbitMQ is somewhat synergetic with ZMQ, it can be made into a broker.</div>
<div class="line">[Sunday 27 March 2011] [19:44:01] &lt;JusticeFries&gt;      i&#8217;ve heard that too.</div>
<div class="line">[Sunday 27 March 2011] [19:44:10] &lt;klestes&gt;   we musta read the same article ;)_</div>
<div class="line">[Sunday 27 March 2011] [19:44:15] &lt;JusticeFries&gt;      just not sure where to fit it in, or if it is even useful in this current context.</div>
<div class="line">[Sunday 27 March 2011] [19:44:44] &lt;jdroid-&gt;   what you heard is probably that zeromq has amqp support: <a class="reference external" href="http://www.zeromq.org/docs:welcome-from-amqp">http://www.zeromq.org/docs:welcome-from-amqp</a></div>
<div class="line">[Sunday 27 March 2011] [19:44:58] &lt;JusticeFries&gt;      either that or ilya&#8217;s blog.</div>
<div class="line">[Sunday 27 March 2011] [19:45:02] &lt;JusticeFries&gt;      igvita</div>
<div class="line">[Sunday 27 March 2011] [19:45:33] &lt;JusticeFries&gt;      heh I like the gross generalizations.</div>
<div class="line">[Sunday 27 March 2011] [19:45:46] &lt;jdroid-&gt;   thanks. i&#8217;m the James Dennis that&#8217;s quoted!</div>
<div class="line">[Sunday 27 March 2011] [19:45:51] &lt;klestes&gt;   yeah, he does that well :)</div>
<div class="line">[Sunday 27 March 2011] [19:45:59] &lt;JusticeFries&gt;      ha nice.</div>
<div class="line">[Sunday 27 March 2011] [19:46:13] &lt;klestes&gt;   its a small 0world after all.</div>
<div class="line">[Sunday 27 March 2011] [19:46:26] &lt;JusticeFries&gt;      well i may assault you with questions later - though the guide is pretty extensive</div>
<div class="line">[Sunday 27 March 2011] [19:46:34] &lt;klestes&gt;   0mq used to - didn&#8217;t they chunk the amqp thang ?</div>
<div class="line">[Sunday 27 March 2011] [19:46:49] &lt;klestes&gt;   yeah, and it seems to be getting biggeer and betta&#8217; all the time...</div>
<div class="line">[Sunday 27 March 2011] [21:35:55] &lt;jdroid-&gt;   These slides are awesome: <a class="reference external" href="http://www.slideshare.net/IanBarber/zeromq-is-the-answer">http://www.slideshare.net/IanBarber/zeromq-is-the-answer</a></div>
<div class="line">[Sunday 27 March 2011] [21:41:34] &lt;xet&gt;       hi</div>
<div class="line">[Sunday 27 March 2011] [21:42:33] &lt;xet&gt;       im doing some tests in a small pub/sub app</div>
<div class="line">[Sunday 27 March 2011] [21:42:43] &lt;xet&gt;       need some help</div>
<div class="line">[Monday 28 March 2011] [03:29:36] &lt;guido_g&gt;   pieterh: what the hell did you do to the guide? firefox uses 100% cpu and opera takes ages to load the page.</div>
<div class="line">[Monday 28 March 2011] [06:59:32] &lt;pieterh&gt;   guido_g: hi</div>
<div class="line">[Monday 28 March 2011] [09:43:54] &lt;nicolas&gt;   hi</div>
<div class="line">[Monday 28 March 2011] [09:56:03] &lt;pieterh&gt;   nicolas: hi</div>
<div class="line">[Monday 28 March 2011] [10:07:42] &lt;nicolas&gt;   i&#8217;m having some trouble with zmq pub/sub in c++</div>
<div class="line">[Monday 28 March 2011] [10:08:29] &lt;nicolas&gt;   memory starts to be eaten by my application</div>
<div class="line">[Monday 28 March 2011] [10:08:48] &lt;nicolas&gt;   and it has no memory leaks</div>
<div class="line">[Monday 28 March 2011] [10:09:03] &lt;nicolas&gt;   its just a simple client/server pair to do performance tests</div>
<div class="line">[Monday 28 March 2011] [10:15:09] &lt;nicolas&gt;   it seems to be that the client is receiving or processing data faster than the server, and then the server starts to eat memory up</div>
<div class="line">[Monday 28 March 2011] [10:21:59] &lt;pieterh&gt;   nicolas: yes, this is normal</div>
<div class="line">[Monday 28 March 2011] [10:22:09] &lt;pieterh&gt;   the client is presumably slower than the server</div>
<div class="line">[Monday 28 March 2011] [10:23:04] &lt;pieterh&gt;   you should set a high-water mark, on the PUB socket</div>
<div class="line">[Monday 28 March 2011] [10:24:31] &lt;traviscline&gt;       nicolas: with 0mq it&#8217;s up to you in some sense how you want to deal with that mismatch, covered well by the guide</div>
<div class="line">[Monday 28 March 2011] [10:25:53] &lt;CIA-22&gt;    jzmq: 03Gonzalo Diethelm 07master * re3dc6dc 10/ (2 files): Got rid of calls to sleep() in all examples / tests. - <a class="reference external" href="http://bit.ly/fnyW8U">http://bit.ly/fnyW8U</a></div>
<div class="line">[Monday 28 March 2011] [10:45:54] &lt;nicolas&gt;   I see</div>
<div class="line">[Monday 28 March 2011] [10:46:33] &lt;nicolas&gt;   pieterh: thanks</div>
<div class="line">[Monday 28 March 2011] [10:46:44] &lt;pieterh&gt;   nicolas: np</div>
<div class="line">[Monday 28 March 2011] [10:46:50] &lt;nicolas&gt;   traviscline: any particular seciton of the guide that might be helpful for my problem ?</div>
<div class="line">[Monday 28 March 2011] [10:47:32] &lt;traviscline&gt;       nicolas: absolutely read the whole thing, but in particular look for HWM references</div>
<div class="line">[Monday 28 March 2011] [10:47:33] &lt;pieterh&gt;   nicolas: this is explained in Ch2, <a class="reference external" href="http://zguide.zeromq.org/page:all#toc43">http://zguide.zeromq.org/page:all#toc43</a></div>
<div class="line">[Monday 28 March 2011] [10:47:45] &lt;nicolas&gt;   thanks!</div>
<div class="line">[Monday 28 March 2011] [11:17:33] &lt;private_meta&gt;      ahahaha... binary star... good name</div>
<div class="line">[Monday 28 March 2011] [11:24:38] &lt;private_meta&gt;      pieterh: there?</div>
<div class="line">[Monday 28 March 2011] [12:21:09] &lt;rbancroft&gt; l</div>
<div class="line">[Monday 28 March 2011] [12:21:25] &lt;rbancroft&gt; im sorry, mischan</div>
<div class="line">[Monday 28 March 2011] [12:22:58] &lt;mikko&gt;     hi</div>
<div class="line">[Monday 28 March 2011] [12:53:11] &lt;private_meta&gt;      pieterh: a short question about zmsg. You are using unsigned characters as storage option for message parts, but whatever input or output you do or get from zmsg is signed char. You told me that void * instead of char * should be used, but still I find it somewhat inconsistent that you store in unsigned char and input/output in the zmsg as signed char.</div>
<div class="line">[Monday 28 March 2011] [12:53:48] &lt;private_meta&gt;      pieterh: maybe some consistency update would be good, like making it signed char as the entire existing api of zmsg is signed char only</div>
<div class="line">[Monday 28 March 2011] [13:40:38] &lt;pieterh&gt;   private_meta: re</div>
<div class="line">[Monday 28 March 2011] [13:41:25] &lt;pieterh&gt;   zmsg in the Guide is string-based but in libzapi I moved to a proper binary API</div>
<div class="line">[Monday 28 March 2011] [15:03:35] &lt;pieterh&gt;   mikko: hi!</div>
<div class="line">[Monday 28 March 2011] [15:08:07] &lt;jobytaffey&gt;        Hi, I&#8217;m having a problem with libev and REP sockets. I get the fd from ZMQ_FD, I watch for EV_READ and then zmq_recv(). I then watch for EV_WRITE and zmq_send(). But, after the first pair of messages, I never see EV_READ again. Oddly, if I ctrl-c my REQ test app (infinite loop doing zmq_send + zmq_recv) my REP app receives a packet. Any ideas?</div>
<div class="line">[Monday 28 March 2011] [15:09:58] &lt;pieterh&gt;   jobytaffey: are you checking for errors on all 0MQ calls?</div>
<div class="line">[Monday 28 March 2011] [15:10:09] &lt;jobytaffey&gt;        I believe so, yes.</div>
<div class="line">[Monday 28 March 2011] [15:11:14] &lt;pieterh&gt;   Sounds like you&#8217;re stuck in a blocking call which exits when you press Ctrl-C, and then your test app does a send on the REQ socket</div>
<div class="line">[Monday 28 March 2011] [15:11:49] &lt;pieterh&gt;   without a minimal example to look at, it&#8217;s hard to help...</div>
<div class="line">[Monday 28 March 2011] [15:12:07] &lt;jobytaffey&gt;        I thought you&#8217;d say that, I&#8217;ll get to work on one :-)</div>
<div class="line">[Monday 28 March 2011] [15:14:26] &lt;mikko&gt;     pieterh: hi</div>
<div class="line">[Monday 28 March 2011] [15:14:35] &lt;pieterh&gt;   mikko: excellent latency this evening :-)</div>
<div class="line">[Monday 28 March 2011] [15:40:35] &lt;Guthur&gt;    Describing ZeroMQ in five minutes, is it possible? hehe</div>
<div class="line">[Monday 28 March 2011] [15:41:05] &lt;Guthur&gt;    there is space for a 5 min lightening talk at the ELS, and I&#8217;m tempted to give it a go</div>
<div class="line">[Monday 28 March 2011] [15:41:17] &lt;mikko&gt;     whats ELS?</div>
<div class="line">[Monday 28 March 2011] [15:41:53] &lt;Guthur&gt;    European Lisp Symposium</div>
<div class="line">[Monday 28 March 2011] [15:42:02] &lt;Guthur&gt;    it&#8217;s on this week in Hamburg</div>
<div class="line">[Monday 28 March 2011] [15:43:45] &lt;jond&gt;      Guthur : which lisp are you using out of interest?</div>
<div class="line">[Monday 28 March 2011] [15:44:01] &lt;pieterh&gt;   Guthur: 5 minutes is kind of tight :-)</div>
<div class="line">[Monday 28 March 2011] [15:44:21] &lt;pieterh&gt;   you can say exactly one thing, and repeat it three times</div>
<div class="line">[Monday 28 March 2011] [15:44:23] &lt;jdroid-&gt;   Guthur: I think you can get the gist of it quickly.</div>
<div class="line">[Monday 28 March 2011] [15:44:48] &lt;Guthur&gt;    jond, I don&#8217;t get to use it nearly as much as I like, but it would be usually Common Lisp, SBCL would be my implementation of choice</div>
<div class="line">[Monday 28 March 2011] [15:44:57] &lt;jdroid-&gt;   I wrote this on HN yesterday and realized you actually can describe zmq fast. You just need to start with saying it&#8217;s a sockets system.</div>
<div class="line">[Monday 28 March 2011] [15:44:59] &lt;jdroid-&gt;   <a class="reference external" href="http://news.ycombinator.com/item?id=2377224">http://news.ycombinator.com/item?id=2377224</a></div>
<div class="line">[Monday 28 March 2011] [15:45:26] &lt;jdroid-&gt;   Put messaging in to the idea once they understand how the socket&#8217;s side of it works. I think Zed takes this approach too, but I&#8217;m inferring that from having seen him speak</div>
<div class="line">[Monday 28 March 2011] [15:45:32] &lt;pieterh&gt;   &#8220;That&#8217;s correct that ZeroMQ isn&#8217;t a server&#8221;...</div>
<div class="line">[Monday 28 March 2011] [15:45:32] &lt;jond&gt;      Guthur: didnt zed shaw have a &#8220;sockets done right&#8221; article somewhere which might have been appropriated into the guide somewhere?</div>
<div class="line">[Monday 28 March 2011] [15:45:48] &lt;pieterh&gt;   jond: I had used part of Zed&#8217;s text, originally, but took it out again</div>
<div class="line">[Monday 28 March 2011] [15:45:52] &lt;jdroid-&gt;   pieterh: do you take issue with that line?</div>
<div class="line">[Monday 28 March 2011] [15:45:53] &lt;Guthur&gt;    I&#8217;ll have a look</div>
<div class="line">[Monday 28 March 2011] [15:46:06] &lt;pieterh&gt;   jdroid-: nope, it&#8217;s accurate</div>
<div class="line">[Monday 28 March 2011] [15:46:10] &lt;jdroid-&gt;   sweet</div>
<div class="line">[Monday 28 March 2011] [15:46:26] &lt;jdroid-&gt;   here&#8217;s the whole thread: <a class="reference external" href="http://news.ycombinator.com/item?id=2376822">http://news.ycombinator.com/item?id=2376822</a></div>
<div class="line">[Monday 28 March 2011] [15:46:27] &lt;pieterh&gt;   I&#8217;m just lolling because I finished writing Binary Star, a pattern for a high-availability server pair</div>
<div class="line">[Monday 28 March 2011] [15:46:54] &lt;pieterh&gt;   0MQ is a high-level language for constructing asynchronous messaging architectures</div>
<div class="line">[Monday 28 March 2011] [15:47:08] &lt;pieterh&gt;   it has implementations in 20+ programming languages</div>
<div class="line">[Monday 28 March 2011] [15:47:12] &lt;Guthur&gt;    I suppose it will be a good challenge to try a lightening talk, if nothing else</div>
<div class="line">[Monday 28 March 2011] [15:47:30] &lt;pieterh&gt;   it can construct brokers, clients, services, data distribution, workload distribution</div>
<div class="line">[Monday 28 March 2011] [15:47:35] &lt;jdroid-&gt;   Guthur: I put together these examples with that in mind: <a class="reference external" href="https://github.com/j2labs/zmq_examples">https://github.com/j2labs/zmq_examples</a></div>
<div class="line">[Monday 28 March 2011] [15:48:13] &lt;jond&gt;      pieterh : but actually via zfl zapi it becomes less about 0mq</div>
<div class="line">[Monday 28 March 2011] [15:48:27] &lt;pieterh&gt;   jond: it&#8217;s the same high level language</div>
<div class="line">[Monday 28 March 2011] [15:48:44] &lt;jdroid-&gt;   You can simulate OneMQ, using ZeroMQ. And with a OneMQ, you can simulate InfinityMQ.</div>
<div class="line">[Monday 28 March 2011] [15:48:51] &lt;jdroid-&gt;   Maybe that&#8217; not quite it... there&#8217;s a ZOI analogy in there somewhere</div>
<div class="line">[Monday 28 March 2011] [15:49:04] &lt;pieterh&gt;   well, all messaging systems are turing equivalent I guess</div>
<div class="line">[Monday 28 March 2011] [15:49:10] &lt;pieterh&gt;   but they&#8217;re not the same</div>
<div class="line">[Monday 28 March 2011] [15:51:02] &lt;pieterh&gt;   IMO it&#8217;s inaccurate to describe XREP/XREQ as non-blocking versions of REP/REQ</div>
<div class="line">[Monday 28 March 2011] [15:51:41] &lt;jond&gt;      has anyone got a link to the Ian Barber presentation?</div>
<div class="line">[Monday 28 March 2011] [15:52:21] &lt;mpales&gt;    pieterh: the guide describes them in the same way</div>
<div class="line">[Monday 28 March 2011] [15:52:37] &lt;jobytaffey&gt;        I&#8217;d really appreciate it if someone could take a look at my libev/REQ:REP problem. It&#8217;s probably something silly, but I can&#8217;t see it. There&#8217;s a minimal example (files and tarball) here http://www.hodgepig.org/testcase/</div>
<div class="line">[Monday 28 March 2011] [15:52:48] &lt;pieterh&gt;   mpales: then I need to fix that, I&#8217;m going to review that whole explanation</div>
<div class="line">[Monday 28 March 2011] [15:52:51] &lt;Guthur&gt;    jond, <a class="reference external" href="http://vimeo.com/20605470">http://vimeo.com/20605470</a></div>
<div class="line">[Monday 28 March 2011] [15:54:38] &lt;pieterh&gt;   jobytaffey: maybe the client should connect to localhost, not <a href="#id149"><span class="problematic" id="id150">*</span></a>?</div>
<div class="line">[Monday 28 March 2011] [15:54:39] &lt;mpales&gt;    pieterh: in ch2: A Request-Reply Broker, there is this sentence: Luckily there are non-blocking versions of these two sockets, called XREQ and XREP.</div>
<div class="line">[Monday 28 March 2011] [15:54:50] &lt;pieterh&gt;   mpales: ugh...</div>
<div class="line">[Monday 28 March 2011] [15:54:59] &lt;jobytaffey&gt;        pieterh: Would that make a difference? It does connect ok.</div>
<div class="line">[Monday 28 March 2011] [15:55:14] &lt;jond&gt;      Guthur: cheers. also sbcl is pretty cool, though havent used lisp for quite a while (though did manage to have a job where i did it for three years!)</div>
<div class="line">[Monday 28 March 2011] [15:55:27] &lt;pieterh&gt;   jobytaffey: you connect to a name or IP address, not an interface</div>
<div class="line">[Monday 28 March 2011] [15:56:13] &lt;pieterh&gt;   mpales: thanks for pointing this out, I&#8217;m going to try to make the explanations more accurate</div>
<div class="line">[Monday 28 March 2011] [15:56:17] &lt;Guthur&gt;    jond, not many get the opportunity do such employment</div>
<div class="line">[Monday 28 March 2011] [15:56:21] &lt;jobytaffey&gt;        Ah, I see what you mean. * means bind to any i/f, but you need to be explicit for the connect.</div>
<div class="line">[Monday 28 March 2011] [15:56:46] &lt;pieterh&gt;   jobytaffey: indeed, fix this and see if your code works better, the rest looks fine though I&#8217;ve not run it</div>
<div class="line">[Monday 28 March 2011] [15:56:55] &lt;jobytaffey&gt;        No, that didn&#8217;t help.</div>
<div class="line">[Monday 28 March 2011] [15:57:00] &lt;Guthur&gt;    jond, are you still in software development?</div>
<div class="line">[Monday 28 March 2011] [15:57:26] &lt;mpales&gt;    pieterh: there is another thing I&#8217;d like to ask you</div>
<div class="line">[Monday 28 March 2011] [15:57:29] &lt;jond&gt;      Guthur: yes. <a class="reference external" href="http://xkcd.com/297/">http://xkcd.com/297/</a></div>
<div class="line">[Monday 28 March 2011] [15:57:34] &lt;pieterh&gt;   mpales: sure...</div>
<div class="line">[Monday 28 March 2011] [15:58:16] &lt;pieterh&gt;   jond: &#8220;elegant weapons...&#8221; lol</div>
<div class="line">[Monday 28 March 2011] [15:59:30] &lt;mpales&gt;    pieterh: the guide explains how to send a big file using multipart messages</div>
<div class="line">[Monday 28 March 2011] [15:59:37] &lt;Guthur&gt;    jond, i love how when &#8216;new&#8217; languages get new features which users trumpet the features are often ones that Lisps have had for over 20 years</div>
<div class="line">[Monday 28 March 2011] [15:59:56] &lt;pieterh&gt;   mpales: well, multipart messages are not really meant for files</div>
<div class="line">[Monday 28 March 2011] [16:00:07] &lt;mpales&gt;    pieterh: but also explains that until last part is sent/recvd, everything is kept in memory</div>
<div class="line">[Monday 28 March 2011] [16:00:14] &lt;pieterh&gt;   rather, it&#8217;s a simple way to marshal data</div>
<div class="line">[Monday 28 March 2011] [16:00:19] &lt;pieterh&gt;   indeed, all in memory</div>
<div class="line">[Monday 28 March 2011] [16:00:36] &lt;pieterh&gt;   if you want to send files you need to send chunks as individual messages</div>
<div class="line">[Monday 28 March 2011] [16:01:37] &lt;pieterh&gt;   if you want to do restartable file transfer, then</div>
<div class="line">[Monday 28 March 2011] [16:01:43] &lt;pieterh&gt;   handshake with the recipient, ask how much of the file they have, then send the rest</div>
<div class="line">[Monday 28 March 2011] [16:02:05] &lt;pieterh&gt;   if you send large chunks, e.g. 1MB, you can destroy any network</div>
<div class="line">[Monday 28 March 2011] [16:02:25] &lt;jond&gt;      Guthur. it&#8217;s all true but <a class="reference external" href="http://xkcd.com/224/">http://xkcd.com/224/</a> and there&#8217;s rarely any paying work in it</div>
<div class="line">[Monday 28 March 2011] [16:02:46] &lt;mpales&gt;    pieterh: i see, my mistake, multipart messages are not mentioned in this context</div>
<div class="line">[Monday 28 March 2011] [16:03:25] &lt;pieterh&gt;   mpales: I&#8217;ll make a file transfer example later on</div>
<div class="line">[Monday 28 March 2011] [16:03:36] &lt;jdroid-&gt;   pieterh: agreed, the guide gave me that text. In fact, the italicized text is literally copied from the guide so grep for that</div>
<div class="line">[Monday 28 March 2011] [16:04:16] &lt;pieterh&gt;   jdroid-: lol, that&#8217;s funny, I was about to rant about how inaccurate that text was :-)</div>
<div class="line">[Monday 28 March 2011] [16:04:49] &lt;jdroid-&gt;   in yo face!</div>
<div class="line">[Monday 28 March 2011] [16:04:51] &lt;jdroid-&gt;   :D</div>
<div class="line">[Monday 28 March 2011] [16:04:56] &lt;mpales&gt;    pieterh: great!</div>
<div class="line">[Monday 28 March 2011] [16:05:02] &lt;pieterh&gt;   :-)</div>
<div class="line">[Monday 28 March 2011] [16:05:38] &lt;mpales&gt;    pieterh: i really like the style of the guide, thanks for the amazing work</div>
<div class="line">[Monday 28 March 2011] [16:05:57] &lt;pieterh&gt;   mpales: np, it&#8217;s fun to write, though it&#8217;s getting quite ... large...</div>
<div class="line">[Monday 28 March 2011] [16:07:04] &lt;Guthur&gt;    jond: I recently seen a job in London looking for a functional programmer with knowledge of clojure, very well paid</div>
<div class="line">[Monday 28 March 2011] [16:07:32] &lt;Guthur&gt;    though that&#8217;s relative to your current pay grade of course</div>
<div class="line">[Monday 28 March 2011] [16:07:55] &lt;Guthur&gt;    mine is most certainly on the lower end, hehe</div>
<div class="line">[Monday 28 March 2011] [16:08:25] &lt;mpales&gt;    pieterh: yes, it is</div>
<div class="line">[Monday 28 March 2011] [16:10:15] &lt;mpales&gt;    pieterh: btw. I used to read the guide with a larger font size, but since last week when I increase the font size, the browser goes mad... I use google chrome</div>
<div class="line">[Monday 28 March 2011] [16:11:02] &lt;pieterh&gt;   mpales: yeah, the HTML got significantly fatter, since I added color markup for the code examples</div>
<div class="line">[Monday 28 March 2011] [16:11:51] &lt;pieterh&gt;   oh, I just tried a larger font in Chrome, it gets very unhappy...</div>
<div class="line">[Monday 28 March 2011] [16:13:29] &lt;mpales&gt;    pieterh: you can get some cash from google if you report it :-)</div>
<div class="line">[Monday 28 March 2011] [16:14:21] &lt;i2pi&gt;      Hi. I have a PUSH/PULL queue working with multiple PULL&#8217;ers. I&#8217;m using NOBLOCK on both ends. I&#8217;d like the PUSH&#8217;er to not block if no PULLers are available, but for messages to be queued up for when the PULLers come back online. Is this possible? If so, how?</div>
<div class="line">[Monday 28 March 2011] [16:14:54] &lt;pieterh&gt;   mpales: they&#8217;ll just tell me to stop writing insane HTML... :-)</div>
<div class="line">[Monday 28 March 2011] [16:15:20] &lt;pieterh&gt;   i2pi: you can use zmq_poll</div>
<div class="line">[Monday 28 March 2011] [16:16:07] &lt;i2pi&gt;      pieterh: reading the docs now. Thanks.</div>
<div class="line">[Monday 28 March 2011] [16:16:30] &lt;Guthur&gt;    pieterh,  your guide has actually only 3 validation errors</div>
<div class="line">[Monday 28 March 2011] [16:16:43] &lt;Guthur&gt;    which is a lot better than the vast majority of the internet</div>
<div class="line">[Monday 28 March 2011] [16:16:55] &lt;pieterh&gt;   Guthur: ah, that&#8217;s because in fact I don&#8217;t write any of the HTML at all</div>
<div class="line">[Monday 28 March 2011] [16:17:07] &lt;pieterh&gt;   mpales: firefox has no trouble resizing the font, interestingly</div>
<div class="line">[Monday 28 March 2011] [16:17:09] &lt;Guthur&gt;    probably the best way, hehe</div>
<div class="line">[Monday 28 March 2011] [16:17:39] &lt;i2pi&gt;      pieterh: Hmm. I&#8217;m not sure if i understand this correctly. Can you give me a hint?</div>
<div class="line">[Monday 28 March 2011] [16:18:13] &lt;pieterh&gt;   i2pi: you poll on the PUSH socket using ZMQ_POLLOUT</div>
<div class="line">[Monday 28 March 2011] [16:18:24] &lt;mpales&gt;    pieterh: yes, looks definitely like a chrome bug</div>
<div class="line">[Monday 28 March 2011] [16:18:28] &lt;pieterh&gt;   I&#8217;ve not tried that, to be honest, but it&#8217;s the proper way IMO</div>
<div class="line">[Monday 28 March 2011] [16:18:39] &lt;pieterh&gt;   mpales: yes, I&#8217;m looking for a place to file it</div>
<div class="line">[Monday 28 March 2011] [16:19:08] &lt;mpales&gt;    pieterh: settings / tools / report...</div>
<div class="line">[Monday 28 March 2011] [16:20:11] &lt;i2pi&gt;      pieterh: Is the correct pattern to try doing a zmq_send() and if that fails with EAGAIN, then add that item to a list to poll. And then keep polling until the recvr returns?</div>
<div class="line">[Monday 28 March 2011] [16:20:53] &lt;pieterh&gt;   i2pi: look at the zmq_poll examples in the Guide, do the same except writing rather than reading</div>
<div class="line">[Monday 28 March 2011] [16:21:03] &lt;pieterh&gt;   you loop: poll / write / poll / write...</div>
<div class="line">[Monday 28 March 2011] [16:21:13] &lt;pieterh&gt;   doing a write only when poll tells you it&#8217;s OK</div>
<div class="line">[Monday 28 March 2011] [16:21:19] &lt;pieterh&gt;   s/write/send/</div>
<div class="line">[Monday 28 March 2011] [16:21:35] &lt;i2pi&gt;      so, its up to my app to maintain the queue of unsent items?</div>
<div class="line">[Monday 28 March 2011] [16:21:59] &lt;i2pi&gt;      (I&#8217;m coming from AMQP, where I expect the queue to do queuing for me)</div>
<div class="line">[Monday 28 March 2011] [16:23:16] &lt;jobytaffey&gt;        The plot thickens on my problem - tcpdump shows that despite my evserver.c calling zmq_send() and it returning 0, the packet is never transmitted (I assume, because it thinks the socket is blocked).</div>
<div class="line">[Monday 28 March 2011] [16:24:03] &lt;pieterh&gt;   i2pi: you need to read the Guide</div>
<div class="line">[Monday 28 March 2011] [16:24:22] &lt;i2pi&gt;      ok :)</div>
<div class="line">[Monday 28 March 2011] [16:24:37] &lt;pieterh&gt;   jobytaffey: have you already written some examples without using evserver?</div>
<div class="line">[Monday 28 March 2011] [16:25:04] &lt;jobytaffey&gt;        Yes, they&#8217;re in the URL I posted. There&#8217;s a REQ/REP client and server without libev.</div>
<div class="line">[Monday 28 March 2011] [16:25:20] &lt;i2pi&gt;      pieterh: I started on the guide, and please don&#8217;t take offense to this, but it is a little daunting that it starts very philosophically. I&#8217;d rather get straight into the meat.</div>
<div class="line">[Monday 28 March 2011] [16:25:43] &lt;pieterh&gt;   i2pi: there&#8217;s only about 1 page of philosophy, then it gets straight into code...</div>
<div class="line">[Monday 28 March 2011] [18:22:04] &lt;private_meta&gt;      pieterh: yes, you hinted on that before, but right now, the zguide version is still inconsistent</div>
<div class="line">[Monday 28 March 2011] [18:44:33] &lt;i2pi&gt;      pieterh: I&#8217;m a few hours into the guide and I&#8217;m still not seeing it in the guide.</div>
<div class="line">[Monday 28 March 2011] [22:32:59] &lt;Dawgmatix&gt; any pointers on how to write a zeromq device in python?</div>
<div class="line">[Monday 28 March 2011] [22:37:44] &lt;traviscline&gt;       Dawgmatix: <a class="reference external" href="http://zeromq.github.com/pyzmq/devices.html">http://zeromq.github.com/pyzmq/devices.html</a> read that?</div>
<div class="line">[Monday 28 March 2011] [22:38:10] &lt;Dawgmatix&gt; ah no, wasnt aware of that documentation</div>
<div class="line">[Monday 28 March 2011] [22:38:19] &lt;Dawgmatix&gt; have just read the guide so far</div>
<div class="line">[Monday 28 March 2011] [22:38:26] &lt;Dawgmatix&gt; and written some small programs</div>
<div class="line">[Monday 28 March 2011] [22:39:29] &lt;Dawgmatix&gt; thanks for the pointer :)</div>
<div class="line">[Wednesday 30 March 2011] [07:06:00] &lt;drbobbeaty&gt;     pieterh: any news on the release of 2.1.4 with the fixes we worked on? I&#8217;m interested in getting it and using it.</div>
<div class="line">[Wednesday 30 March 2011] [07:09:31] &lt;<a href="#id151"><span class="problematic" id="id213">mikko__</span></a>&gt;        sustrik: weekend is fine by me</div>
<div class="line">[Wednesday 30 March 2011] [07:10:25] &lt;sustrik&gt;        ok, let&#8217;s get in touch on weekend</div>
<div class="line">[Wednesday 30 March 2011] [07:13:13] &lt;murkel&gt; Hi...  I&#8217;m having an issue with poll() on zmq sockets (2.1.3 cpp) which are not yet connected on the TCP layer: the timeouts are not honoured.</div>
<div class="line">[Wednesday 30 March 2011] [07:13:29] &lt;murkel&gt; If I create a REQ socket, connect to an endpoint without a server listening, transmit a message and then poll( ZMQ_POLLIN ) before recv(), the poll never times out.</div>
<div class="line">[Wednesday 30 March 2011] [07:14:19] &lt;murkel&gt; just as a test, I noticed that the poll never times out if I try to send two messages over the same un-connected socket.</div>
<div class="line">[Wednesday 30 March 2011] [07:14:38] &lt;murkel&gt; Is this the correct approach or should I be doing this differently?</div>
<div class="line">[Wednesday 30 March 2011] [07:15:48] &lt;sustrik&gt;        can you post the test program to the mailing list?</div>
<div class="line">[Wednesday 30 March 2011] [07:16:25] &lt;murkel&gt; okay ...</div>
<div class="line">[Wednesday 30 March 2011] [07:16:30] &lt;sustrik&gt;        thx</div>
<div class="line">[Wednesday 30 March 2011] [07:34:59] &lt;drbobbeaty&gt;     <a href="#id151"><span class="problematic" id="id214">mikko__</span></a>, sustrik: thanks guys. That would be great.</div>
<div class="line">[Wednesday 30 March 2011] [07:36:00] &lt;sustrik&gt;        drbobbeaty: please, do make sure that the changes you are interested in have made it to the mikko&#8217;s patch as posted on the mailing list</div>
<div class="line">[Wednesday 30 March 2011] [07:36:28] &lt;drbobbeaty&gt;     Yup, they sure did. I tested it.</div>
<div class="line">[Wednesday 30 March 2011] [07:36:45] &lt;sustrik&gt;        :)</div>
<div class="line">[Thursday 31 March 2011] [12:22:25] &lt;djc&gt;     would it be acceptable to have a mode of building zeromq linking with an externally-built openpgm?</div>
<div class="line">[Thursday 31 March 2011] [12:22:33] &lt;djc&gt;     and if so, how can we make that happen?</div>
<div class="line">[Thursday 31 March 2011] [12:25:41] &lt;rforte&gt;  does anyone know if zmq has been successfully built/used on iOS?</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * r17fdb5e 10/ src/zmq.cpp :</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: zmq_recv() returns size of the message even if it&#8217;s truncated</div>
<div class="line">[Thursday 31 March 2011] [12:44:07] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hqUOiu">http://bit.ly/hqUOiu</a></div>
<div class="line">[Thursday 31 March 2011] [12:44:09] &lt;CIA-22&gt;  zeromq2: 03Mikko Koppanen 07pre30 * rfbf1f51 10/ (7 files in 3 dirs):</div>
<div class="line">[Thursday 31 March 2011] [12:44:10] &lt;CIA-22&gt;  zeromq2: Upstream the openpgm build fixes. Add DSO symbol visibility to OpenPGM builds</div>
<div class="line">[Thursday 31 March 2011] [12:44:10] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/eoZoFT">http://bit.ly/eoZoFT</a></div>
<div class="line">[Thursday 31 March 2011] [12:44:11] &lt;CIA-22&gt;  zeromq2: 03Martin Sustrik 07pre30 * rd36d9a3 10/ src/zmq_engine.cpp :</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: Comments improvement</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: related to fairness while reading/writing large messages</div>
<div class="line">[Thursday 31 March 2011] [12:44:12] &lt;CIA-22&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hmvGwd">http://bit.ly/hmvGwd</a></div>
<div class="line">[Thursday 31 March 2011] [12:45:14] &lt;sustrik&gt; djc: i think that may be possible, however, ask on the mailing list</div>
<div class="line">[Thursday 31 March 2011] [12:46:13] &lt;sustrik&gt; rforte: there were some people discussing iOS issues some time ago</div>
<div class="line">[Thursday 31 March 2011] [12:46:18] &lt;sustrik&gt; so i assum it&#8217;s possible</div>
<div class="line">[Thursday 31 March 2011] [12:47:57] &lt;djc&gt;     sustrik: I opened issue 15 about it</div>
<div class="line">[Thursday 31 March 2011] [12:48:22] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 31 March 2011] [12:53:49] &lt;cremes&gt;  rforte: it builds and runs fine on osx</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2011-February.html"
                        title="previous chapter">2011-February</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="2011-April.html"
                        title="next chapter">2011-April</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2011-March.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2011-April.html" title="2011-April"
             >next</a> |</li>
        <li class="right" >
          <a href="2011-February.html" title="2011-February"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>