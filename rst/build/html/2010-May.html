

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="2010-June.html" />
    <link rel="prev" title="&lt;no title&gt;" href="2010-April.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2010-June.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="2010-April.html" title="&lt;no title&gt;"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="line-block">
<div class="line">[Saturday 01 May 2010] [01:59:28] &lt;bgranger&gt;    yes</div>
<div class="line">[Saturday 01 May 2010] [01:59:49] &lt;bgranger&gt;    It looks like you fixed the multipart message stuff in XREP?</div>
<div class="line">[Saturday 01 May 2010] [01:59:49] &lt;sustrik&gt; the rcvmore problem</div>
<div class="line">[Saturday 01 May 2010] [01:59:59] &lt;sustrik&gt; it seems to work here</div>
<div class="line">[Saturday 01 May 2010] [01:59:59] &lt;bgranger&gt;    But I am still seeing the problem</div>
<div class="line">[Saturday 01 May 2010] [02:00:02] &lt;bgranger&gt;    Hmmm</div>
<div class="line">[Saturday 01 May 2010] [02:00:15] &lt;sustrik&gt; ok, let me send you my test prog</div>
<div class="line">[Saturday 01 May 2010] [02:00:17] &lt;sustrik&gt; try to run it</div>
<div class="line">[Saturday 01 May 2010] [02:00:21] &lt;bgranger&gt;    Great</div>
<div class="line">[Saturday 01 May 2010] [02:00:57] &lt;sustrik&gt; sent</div>
<div class="line">[Saturday 01 May 2010] [02:02:48] &lt;bgranger&gt;    What&#8217;s the quickest way to compile?</div>
<div class="line">[Saturday 01 May 2010] [02:05:54] &lt;bgranger&gt;    Got it and it runs just fine...</div>
<div class="line">[Saturday 01 May 2010] [02:06:07] &lt;sustrik&gt; hm</div>
<div class="line">[Saturday 01 May 2010] [02:06:12] &lt;sustrik&gt; what&#8217;s your test?</div>
<div class="line">[Saturday 01 May 2010] [02:06:25] &lt;bgranger&gt;    Let me look a bit more at this.</div>
<div class="line">[Saturday 01 May 2010] [02:06:35] &lt;bgranger&gt;    Let me port your test to Python real quick</div>
<div class="line">[Saturday 01 May 2010] [02:06:54] &lt;sustrik&gt; ack</div>
<div class="line">[Tuesday 04 May 2010] [04:22:19] &lt;CIA-15&gt;   zeromq2: 03Martin Sustrik 07master * r235ed3a 10/ (10 files): signaler transports commands per se rather than one-bit signals - <a class="reference external" href="http://bit.ly/aQglHI">http://bit.ly/aQglHI</a></div>
<div class="line">[Tuesday 04 May 2010] [04:37:04] &lt;CIA-15&gt;   zeromq2: 03Martin Sustrik 07master * r3f5465a 10/ src/signaler.cpp : Windows port fixed - <a class="reference external" href="http://bit.ly/aJDsub">http://bit.ly/aJDsub</a></div>
<div class="line">[Tuesday 04 May 2010] [15:27:43] &lt;sustrik&gt;  cremes: do you understand what&#8217;s Matt is actually asking for?</div>
<div class="line">[Tuesday 04 May 2010] [15:27:51]     * sustrik is confused</div>
<div class="line">[Tuesday 04 May 2010] [15:29:15] &lt;cremes&gt;   sustrik: i think so</div>
<div class="line">[Tuesday 04 May 2010] [15:29:28] &lt;sustrik&gt;  can you give me some insight?</div>
<div class="line">[Tuesday 04 May 2010] [15:29:33] &lt;cremes&gt;   i think he wants to be able to attach callbacks for specific messages sent via a socket</div>
<div class="line">[Tuesday 04 May 2010] [15:29:47] &lt;cremes&gt;   so let&#8217;s say he has one PAIR socket open...</div>
<div class="line">[Tuesday 04 May 2010] [15:30:15] &lt;cremes&gt;   if he sends 3 messages over that socket, i <em>think</em> he wants to be able to associate different callbacks with each sent message</div>
<div class="line">[Tuesday 04 May 2010] [15:30:24] &lt;cremes&gt;   hmmm.. perhaps that works better with a REQ socket :)</div>
<div class="line">[Tuesday 04 May 2010] [15:30:54] &lt;sustrik&gt;  how would the library know which callback to use for a particular message?</div>
<div class="line">[Tuesday 04 May 2010] [15:31:33] &lt;cremes&gt;   it would probably need to be part of the body of the message, e.g. a reply_to field</div>
<div class="line">[Tuesday 04 May 2010] [15:31:41] &lt;cremes&gt;   so that it can be matched</div>
<div class="line">[Tuesday 04 May 2010] [15:32:01] &lt;cremes&gt;   again, this is just my guess as to what he wants</div>
<div class="line">[Tuesday 04 May 2010] [15:32:11] &lt;sustrik&gt;  hm, that&#8217;s what REQ/REP does under the cover</div>
<div class="line">[Tuesday 04 May 2010] [15:32:19] &lt;sustrik&gt;  anyway</div>
<div class="line">[Tuesday 04 May 2010] [15:32:23] &lt;sustrik&gt;  thanks for a hint</div>
<div class="line">[Tuesday 04 May 2010] [15:32:53] &lt;cremes&gt;   REQ/REP does the message routing only at the socket level; he wants message-level routing would be my guess</div>
<div class="line">[Tuesday 04 May 2010] [15:33:31] &lt;cremes&gt;   s/routing/matching/g</div>
<div class="line">[Tuesday 04 May 2010] [15:33:47] &lt;sustrik&gt;  something like subscriptions?</div>
<div class="line">[Tuesday 04 May 2010] [15:33:51] &lt;cremes&gt;   yes</div>
<div class="line">[Tuesday 04 May 2010] [15:34:10] &lt;cremes&gt;   i&#8217;m going to post to the blog again asking Matt for more details...</div>
<div class="line">[Tuesday 04 May 2010] [15:34:17] &lt;sustrik&gt;  ok, thanks</div>
<div class="line">[Tuesday 04 May 2010] [15:42:03] &lt;cremes&gt;   sustrik: having reread the thread, i was mistaken what he is looking for; i think he was asking for an alternate to zmq_send</div>
<div class="line">[Tuesday 04 May 2010] [15:42:23] &lt;cremes&gt;   something like:   zmq_async_send(socket, msg, flags, callback)</div>
<div class="line">[Tuesday 04 May 2010] [15:42:44] &lt;cremes&gt;   that variant would call zmq_poll (or similar) behind the scenes and invoke the callback when data arrived</div>
<div class="line">[Tuesday 04 May 2010] [15:43:28] &lt;cremes&gt;   i think he wants to avoid the explicit zmq_poll operation in application code; let&#8217;s see what he has to say on the blog assuming he responds</div>
<div class="line">[Tuesday 04 May 2010] [15:54:41] &lt;sustrik&gt;  ah, that makes sense</div>
<div class="line">[Tuesday 04 May 2010] [15:55:49] &lt;sustrik&gt;  in other words: automatic pairing of requests and replies while retaining the possibility to have multiple requests on the fly at the same time</div>
<div class="line">[Tuesday 04 May 2010] [15:58:50] &lt;cremes&gt;   sustrik: yes, i think so</div>
<div class="line">[Tuesday 04 May 2010] [15:59:22] &lt;sustrik&gt;  that would make a nice little project...</div>
<div class="line">[Tuesday 04 May 2010] [15:59:52] &lt;sustrik&gt;  few hours or so of coding i would say</div>
<div class="line">[Wednesday 05 May 2010] [01:57:19] &lt;dermoth&gt;    Hi there... I finally managed to get back at my zmq php ext and I&#8217;m adding persisten sockets in there... so what happens when, for a given socket, zmq_connect or zmq_bind is called more then once with the same parameters?</div>
<div class="line">[Wednesday 05 May 2010] [01:58:07] &lt;dermoth&gt;    my idea was to keep sockets around when wanted, but then the coerkct might be already connected/bound when those functions gets called (again...)</div>
<div class="line">[Wednesday 05 May 2010] [02:10:04] &lt;dermoth&gt;    hi sustrik</div>
<div class="line">[Wednesday 05 May 2010] [02:10:28] &lt;dermoth&gt;    I asked a question right before you came in...</div>
<div class="line">[Wednesday 05 May 2010] [02:10:52] &lt;dermoth&gt;    &lt;dermoth&gt; Hi there... I finally managed to get back at my zmq php ext and I&#8217;m adding persisten sockets in there... so what happens when, for a given socket, zmq_connect or zmq_bind is called more then once with the same parameters?</div>
<div class="line">[Wednesday 05 May 2010] [02:10:52] &lt;dermoth&gt;    &lt;dermoth&gt; my idea was to keep sockets around when wanted, but then the socket might be already connected/bound when those functions gets called (again...)</div>
<div class="line">[Wednesday 05 May 2010] [02:11:01] &lt;sustrik&gt;    hi</div>
<div class="line">[Wednesday 05 May 2010] [02:11:38] &lt;dermoth&gt;    do you have any idea what happens in that case? it doesn&#8217;T seem to be documented...</div>
<div class="line">[Wednesday 05 May 2010] [02:11:48] &lt;sustrik&gt;    depends on how the underlying transport handle such case</div>
<div class="line">[Wednesday 05 May 2010] [02:11:50] &lt;sustrik&gt;    for TCP</div>
<div class="line">[Wednesday 05 May 2010] [02:12:02] &lt;sustrik&gt;    rebinding the same nic/port result in EADDRINUSE</div>
<div class="line">[Wednesday 05 May 2010] [02:12:05] &lt;dermoth&gt;    so it&#8217;s not handled at all by zeromq...</div>
<div class="line">[Wednesday 05 May 2010] [02:12:26] &lt;sustrik&gt;    it just propagates the error to the user</div>
<div class="line">[Wednesday 05 May 2010] [02:12:37] &lt;dermoth&gt;    which means I will have to handle my own persistent connect/binds :(</div>
<div class="line">[Wednesday 05 May 2010] [02:12:41] &lt;sustrik&gt;    as for connect, connecting twice means creating 2 TCP connections</div>
<div class="line">[Wednesday 05 May 2010] [02:12:58] &lt;sustrik&gt;    probably</div>
<div class="line">[Wednesday 05 May 2010] [02:13:09] &lt;sustrik&gt;    have you had a look at mikko&#8217;s PHP binding?</div>
<div class="line">[Wednesday 05 May 2010] [02:13:16] &lt;sustrik&gt;    how does he handle that case?</div>
<div class="line">[Wednesday 05 May 2010] [02:13:17] &lt;dermoth&gt;    ok...</div>
<div class="line">[Wednesday 05 May 2010] [02:13:36] &lt;dermoth&gt;    humm I had a quick look.. is he supporting persistent sockets?</div>
<div class="line">[Wednesday 05 May 2010] [02:14:08] &lt;sustrik&gt;    yes, as far as i know</div>
<div class="line">[Wednesday 05 May 2010] [02:17:26] &lt;dermoth&gt;    as far as I can see his code cannot handle multiple persistent sockets though... I made the persistent &#8220;flag&#8221; a string as to allow multiple apps to run ans use sockets on the same web server without colliding...</div>
<div class="line">[Wednesday 05 May 2010] [02:17:42] &lt;dermoth&gt;    looks nice though... I wist I had the time to finish mine...</div>
<div class="line">[Wednesday 05 May 2010] [02:17:46] &lt;dermoth&gt;    wish</div>
<div class="line">[Wednesday 05 May 2010] [02:21:32] &lt;dermoth&gt;    nevermind thers seems to be an id,,, just passed differently...</div>
<div class="line">[Wednesday 05 May 2010] [02:24:50] &lt;dermoth&gt;    so he use a hash for this too... like I would have to do. I can&#8217;t really compare though as his module is OO asn mine is functionnal... I waven&#8217;t read much about OO programming in PHP</div>
<div class="line">[Wednesday 05 May 2010] [02:25:22] &lt;sustrik&gt;    dermoth: i cannot help much here as I have no idea about PHP</div>
<div class="line">[Wednesday 05 May 2010] [02:26:05] &lt;sustrik&gt;    however, try to get in touch with mikko, it may spare you some work</div>
<div class="line">[Wednesday 05 May 2010] [02:27:21] &lt;dermoth&gt;    i know... I&#8217;ve speak with him... I didn&#8217;t know he was writing one when I started, but it was entertaining anyway ;)</div>
<div class="line">[Wednesday 05 May 2010] [02:43:40] &lt;dermoth&gt;    sustrik, mikko, fwiw I just make my code available: <a class="reference external" href="http://solaris.beaubien.net/cgi-bin/gitweb.cgi/php_zmq.git">http://solaris.beaubien.net/cgi-bin/gitweb.cgi/php_zmq.git</a> - as I said I may keep working on it just for fun, but if mikko&#8217;s modules is stable I might end up using this one (I probably won&#8217;t finish mine in time if I even finish it...)</div>
<div class="line">[Wednesday 05 May 2010] [02:44:00] &lt;dermoth&gt;    just made...</div>
<div class="line">[Wednesday 05 May 2010] [02:47:09] &lt;sustrik&gt;    dermoth: i personally would like to see the both efforts joined somehow, if for nothing else a project with 2 contributors is less likely to die...</div>
<div class="line">[Wednesday 05 May 2010] [02:50:04] &lt;dermoth&gt;    well I would personally prefer a functional interface but i&#8217;m not really going yo use it anyway. I maintain a lot of PHP servers but I never coded much in php - I usually write scripts (and some rare CGIs) in perl or python.</div>
<div class="line">[Wednesday 05 May 2010] [02:50:56] &lt;dermoth&gt;    I want to add zeromq to our architecture, but I&#8217;m not going to write the code :)</div>
<div class="line">[Wednesday 05 May 2010] [02:52:46] &lt;dermoth&gt;    if my module can be useful it&#8217;s nice... I have absolutely no experience with php extensions though (I read a book on it before writing it...) and it&#8217;s far from complete</div>
<div class="line">[Wednesday 05 May 2010] [03:02:42] &lt;sustrik&gt;    sure :)</div>
<div class="line">[Wednesday 05 May 2010] [07:04:02] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * r44dd005 10/ (4 files): number of application threads to use 0MQ sockets is unlimited; app_threads parameter in zmq_init is unused and obsolete - <a class="reference external" href="http://bit.ly/acYoiN">http://bit.ly/acYoiN</a></div>
<div class="line">[Wednesday 05 May 2010] [07:04:03] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * r10f5334 10/ src/signaler.cpp : Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/cCXFzA">http://bit.ly/cCXFzA</a></div>
<div class="line">[Wednesday 05 May 2010] [08:24:57] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * r835e893 10/ (14 files): dispatcher_t class renamed to ctx_t - <a class="reference external" href="http://bit.ly/cDh4Vw">http://bit.ly/cDh4Vw</a></div>
<div class="line">[Wednesday 05 May 2010] [08:33:33] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * r64c5866 10/ builds/msvc/libzmq/libzmq.vcproj : MSVC build fixed - <a class="reference external" href="http://bit.ly/9Mcv5W">http://bit.ly/9Mcv5W</a></div>
<div class="line">[Wednesday 05 May 2010] [08:35:34] &lt;mikko&gt;  dermoth: your bsd license contains my name :)</div>
<div class="line">[Wednesday 05 May 2010] [08:35:55] &lt;mikko&gt;  in the files</div>
<div class="line">[Wednesday 05 May 2010] [09:35:29] &lt;dermoth&gt;    mikko, really?</div>
<div class="line">[Wednesday 05 May 2010] [09:36:02] &lt;dermoth&gt;    I though I changed it... did is at 3am though so I might have missed something!</div>
<div class="line">[Wednesday 05 May 2010] [09:37:34] &lt;dermoth&gt;    IN NO EVENT SHALL ... BE LIABLE FOR ANY - I didn&#8217;t think the license itself contained your name :)</div>
<div class="line">[Wednesday 05 May 2010] [09:42:41] &lt;dermoth&gt;    Mikko, fixed ;)</div>
<div class="line">[Wednesday 05 May 2010] [09:44:22] &lt;mikko&gt;  dermoth: that is &#8220;&lt;ENTITY NAME&gt;&#8221; in the license</div>
<div class="line">[Wednesday 05 May 2010] [09:45:02] &lt;dermoth&gt;    Yes, I used the generic form instead: IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE ...</div>
<div class="line">[Thursday 06 May 2010] [04:00:37] &lt;sjampoo&gt; zmq_init() does not correctly handle negative io-thread numbers, it crashes instead of returning an error. Is this a known issue or should i open on Github?</div>
<div class="line">[Thursday 06 May 2010] [04:01:03] &lt;sustrik&gt; make an issue on github</div>
<div class="line">[Thursday 06 May 2010] [04:01:15] &lt;sjampoo&gt; ok</div>
<div class="line">[Thursday 06 May 2010] [04:01:22] &lt;sustrik&gt; thanks</div>
<div class="line">[Thursday 06 May 2010] [04:17:30] &lt;sjampoo&gt; aha, you don&#8217;t need to specify app threads + flags to zmq_init anymore, cool.</div>
<div class="line">[Thursday 06 May 2010] [04:20:36] &lt;sustrik&gt; yup, I&#8217;ve changed that yesterday</div>
<div class="line">[Thursday 06 May 2010] [04:33:18] &lt;CIA-15&gt;  zeromq2: 03Martin Sustrik 07master * rf60d891 10/ src/zmq.cpp : Issue 23. zmq_init() crashes on illegal numbers - <a class="reference external" href="http://bit.ly/cbVNJE">http://bit.ly/cbVNJE</a></div>
<div class="line">[Thursday 06 May 2010] [04:33:25] &lt;sustrik&gt; sjampoo: ok, done</div>
<div class="line">[Thursday 06 May 2010] [04:33:33] &lt;sjampoo&gt; great.</div>
<div class="line">[Thursday 06 May 2010] [04:33:36] &lt;sustrik&gt; if you are happy how it behaves now, close the issue</div>
<div class="line">[Thursday 06 May 2010] [07:14:47] &lt;mikko&gt;   morning</div>
<div class="line">[Thursday 06 May 2010] [07:38:36] &lt;sustrik&gt; morning</div>
<div class="line">[Thursday 06 May 2010] [11:01:36] &lt;sjampoo&gt; Hmm is zmq_poll in the trunk reliable? I am getting erratic behaviour.</div>
<div class="line">[Thursday 06 May 2010] [11:01:52] &lt;sustrik&gt; what&#8217;s happening?</div>
<div class="line">[Thursday 06 May 2010] [11:02:13] &lt;sjampoo&gt; when i do a zmq_poll only the first item in the set gets it revents updated</div>
<div class="line">[Thursday 06 May 2010] [11:02:25] &lt;sjampoo&gt; and sometimes not even the first item</div>
<div class="line">[Thursday 06 May 2010] [11:03:17] &lt;sustrik&gt; hm, do you have a test program?</div>
<div class="line">[Thursday 06 May 2010] [11:03:35] &lt;sjampoo&gt; yes, <a class="reference external" href="http://pastebin.com/yNB5y2J6">http://pastebin.com/yNB5y2J6</a></div>
<div class="line">[Thursday 06 May 2010] [11:03:45] &lt;sjampoo&gt; maybe i am doing something wrong</div>
<div class="line">[Thursday 06 May 2010] [11:04:00] &lt;sjampoo&gt; I tried it with both pub and pair sockets</div>
<div class="line">[Thursday 06 May 2010] [11:04:31] &lt;sustrik&gt; the code looks ok</div>
<div class="line">[Thursday 06 May 2010] [11:04:44] &lt;sustrik&gt; it should return ZMQ_POLLOUT for both sockets</div>
<div class="line">[Thursday 06 May 2010] [11:04:48] &lt;sjampoo&gt; the output is consistently:</div>
<div class="line">[Thursday 06 May 2010] [11:04:49] &lt;sjampoo&gt; rc: 1</div>
<div class="line">[Thursday 06 May 2010] [11:04:49] &lt;sjampoo&gt; s:, 2</div>
<div class="line">[Thursday 06 May 2010] [11:04:49] &lt;sjampoo&gt; r:, 0</div>
<div class="line">[Thursday 06 May 2010] [11:05:08] &lt;sjampoo&gt; and sometimes: 0,0,0</div>
<div class="line">[Thursday 06 May 2010] [11:05:11] &lt;sustrik&gt; looks like a bug</div>
<div class="line">[Thursday 06 May 2010] [11:05:21] &lt;sjampoo&gt; I&#8217;ll file a report then</div>
<div class="line">[Thursday 06 May 2010] [11:05:26] &lt;sustrik&gt; yes, please</div>
<div class="line">[Thursday 06 May 2010] [11:05:32] &lt;sustrik&gt; i&#8217;ll have a look at it shortly</div>
<div class="line">[Thursday 06 May 2010] [11:05:50] &lt;sjampoo&gt; i think it might be related to the issue that is already open</div>
<div class="line">[Thursday 06 May 2010] [11:06:23] &lt;sustrik&gt; which one/</div>
<div class="line">[Thursday 06 May 2010] [11:06:25] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 06 May 2010] [11:06:51] &lt;sjampoo&gt; issue 7 from a month ago, where Poll doesn&#8217;t return IN events every once in a while</div>
<div class="line">[Thursday 06 May 2010] [11:07:22] &lt;sjampoo&gt; I think it just doesn&#8217;t return the first event on both IN and OUT</div>
<div class="line">[Thursday 06 May 2010] [11:08:30] &lt;sustrik&gt; yes, possible</div>
<div class="line">[Thursday 06 May 2010] [11:08:37] &lt;sustrik&gt; still, please fill in a ticket</div>
<div class="line">[Thursday 06 May 2010] [11:08:49] &lt;sustrik&gt; just in case it&#8217;s a different issue</div>
<div class="line">[Friday 07 May 2010] [02:36:56] &lt;sjampoo&gt;   sustrik, got your github comment and closed the issue. I obviously made an error while translating the Python code, will dig deeper as to understand why the test suite is failing.</div>
<div class="line">[Friday 07 May 2010] [02:42:36] &lt;sustrik&gt;   ok</div>
<div class="line">[Friday 07 May 2010] [02:50:03] &lt;muffinpeddler&gt; Hey guys, does zeromq have priority messaging support, or some kind of priority queue feature?</div>
<div class="line">[Friday 07 May 2010] [02:57:02] &lt;muffinpeddler&gt; Or would it be effective to just have my own priority queue after receiving each message</div>
<div class="line">[Friday 07 May 2010] [02:59:22] &lt;sustrik&gt;   muffinpeddler: there&#8217;s no inbuild one</div>
<div class="line">[Friday 07 May 2010] [02:59:40] &lt;sustrik&gt;   you can implement it yourself</div>
<div class="line">[Friday 07 May 2010] [03:00:19] &lt;sustrik&gt;   but that still doesn&#8217;t solve the head of line blocking issue (large low priority messages blocking high priority messages)</div>
<div class="line">[Friday 07 May 2010] [03:00:39] &lt;sustrik&gt;   the only systematic solution is to have serveral underlying connections</div>
<div class="line">[Friday 07 May 2010] [03:00:49] &lt;sustrik&gt;   one for each priority level</div>
<div class="line">[Friday 07 May 2010] [03:14:57] &lt;sjampoo&gt;   sustrik, when dealing with PAIR sockets, ZMQ_POLL should always report them as POLLOUT no matter if they have been bind() or connect()ed, right?</div>
<div class="line">[Friday 07 May 2010] [03:15:13] &lt;sjampoo&gt;   right now i have this: <a class="reference external" href="http://pastebin.com/cWVJZ3nu">http://pastebin.com/cWVJZ3nu</a></div>
<div class="line">[Friday 07 May 2010] [03:15:46] &lt;sjampoo&gt;   i would expect 2/2 but the PAIR socket that binds returns 0</div>
<div class="line">[Friday 07 May 2010] [03:15:58] &lt;sustrik&gt;   yup, a known issue</div>
<div class="line">[Friday 07 May 2010] [03:16:03] &lt;sjampoo&gt;   oh</div>
<div class="line">[Friday 07 May 2010] [03:16:08] &lt;sustrik&gt;   PAIR sockets are still unfinished</div>
<div class="line">[Friday 07 May 2010] [03:16:22] &lt;sustrik&gt;   i should discard them from the documentation</div>
<div class="line">[Friday 07 May 2010] [03:16:33] &lt;sustrik&gt;   so that people don&#8217;t get congfused</div>
<div class="line">[Friday 07 May 2010] [03:18:15] &lt;sjampoo&gt;   that would be better i think yes, i really thought that P2P sockets just worked and that PAIR was just a renaming</div>
<div class="line">[Friday 07 May 2010] [03:21:38] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r36b044a 10/ doc/zmq_socket.txt : ZMQ_PAIR socket removed from the documentation as it is unfinished yet - <a class="reference external" href="http://bit.ly/aXiRxv">http://bit.ly/aXiRxv</a></div>
<div class="line">[Friday 07 May 2010] [03:21:46] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 07 May 2010] [03:22:22] &lt;sjampoo&gt;   heh</div>
<div class="line">[Friday 07 May 2010] [04:30:05] &lt;sjampoo&gt;   hmm i keep stumbling against these issues where i don&#8217;t know if it is my lack of understanding or just a bug.</div>
<div class="line">[Friday 07 May 2010] [04:30:41] &lt;sjampoo&gt;   Is there some unwritten rule that a ZMQ_PUB socket has to connect and a SUB socket has to bind</div>
<div class="line">[Friday 07 May 2010] [04:31:28] &lt;sjampoo&gt;   I have example code at <a class="reference external" href="http://pastebin.com/bdPa5ra1">http://pastebin.com/bdPa5ra1</a></div>
<div class="line">[Friday 07 May 2010] [04:31:58] &lt;sjampoo&gt;   it works as it is, but imho i should be able to have the publisher bind and the subscriber connect as well</div>
<div class="line">[Friday 07 May 2010] [04:32:16] &lt;sustrik&gt;   yes, that should be possible</div>
<div class="line">[Friday 07 May 2010] [04:32:20] &lt;sustrik&gt;   what&#8217;s the problem?</div>
<div class="line">[Friday 07 May 2010] [04:32:33] &lt;sjampoo&gt;   if i do that the recv() hangs</div>
<div class="line">[Friday 07 May 2010] [04:32:39] &lt;sjampoo&gt;   as if there is nothing to be received</div>
<div class="line">[Friday 07 May 2010] [04:33:02] &lt;sustrik&gt;   that&#8217;s possibly because you send the message before subscribed connects</div>
<div class="line">[Friday 07 May 2010] [04:33:39] &lt;sjampoo&gt;   but shouldn&#8217;t the sleep solve that?</div>
<div class="line">[Friday 07 May 2010] [04:34:48] &lt;sustrik&gt;   presumably, but there&#8217;s no guarantee</div>
<div class="line">[Friday 07 May 2010] [04:34:55] &lt;sjampoo&gt;   ie: <a class="reference external" href="http://pastebin.com/KACJudRr">http://pastebin.com/KACJudRr</a></div>
<div class="line">[Friday 07 May 2010] [04:35:34] &lt;sjampoo&gt;   but isn&#8217;t a 3 second sleep time more than enough?</div>
<div class="line">[Friday 07 May 2010] [04:35:59] &lt;sustrik&gt;   yeah, even few microseconds should be enough</div>
<div class="line">[Friday 07 May 2010] [04:36:09] &lt;sustrik&gt;   i can have a look at what&#8217;s causing the behaviour</div>
<div class="line">[Friday 07 May 2010] [04:36:17] &lt;sjampoo&gt;   that would be great</div>
<div class="line">[Friday 07 May 2010] [04:36:21] &lt;sustrik&gt;   but the point is that you don&#8217;t have guarantee anyway</div>
<div class="line">[Friday 07 May 2010] [04:36:28] &lt;sjampoo&gt;   not even with sleep?</div>
<div class="line">[Friday 07 May 2010] [04:36:49] &lt;sustrik&gt;   nope, pub/sub works like a radio transmission</div>
<div class="line">[Friday 07 May 2010] [04:37:09] &lt;sustrik&gt;   publisher pusblishes continuous stream of messages</div>
<div class="line">[Friday 07 May 2010] [04:37:21] &lt;sustrik&gt;   subscribed joins at certain point</div>
<div class="line">[Friday 07 May 2010] [04:37:30] &lt;sustrik&gt;   from that point on it&#8217;ll get all the messages</div>
<div class="line">[Friday 07 May 2010] [04:37:38] &lt;sustrik&gt;   then it leaves</div>
<div class="line">[Friday 07 May 2010] [04:38:02] &lt;sustrik&gt;   but there&#8217;s no guarantee on what will be the first message you&#8217;ll get</div>
<div class="line">[Friday 07 May 2010] [04:38:31] &lt;sjampoo&gt;   but in this example i have the subscriber &#8216;tune in to the broadcast&#8217;</div>
<div class="line">[Friday 07 May 2010] [04:39:02] &lt;sjampoo&gt;   wait 3 seconds as in not to miss any important message</div>
<div class="line">[Friday 07 May 2010] [04:39:05] &lt;sustrik&gt;   yup, try to publish a stream of messages</div>
<div class="line">[Friday 07 May 2010] [04:39:35] &lt;sustrik&gt;   well, if you want the delivery of each message to be guaranteed you cannot use pub/sub</div>
<div class="line">[Friday 07 May 2010] [04:40:48] &lt;sustrik&gt;   it&#8217;s not possible to combine one-to-many distribution with guaranteed delivery</div>
<div class="line">[Friday 07 May 2010] [04:41:11] &lt;sustrik&gt;   without running into global deadlocks</div>
<div class="line">[Friday 07 May 2010] [04:41:19] &lt;sustrik&gt;   caused by slow consumers</div>
<div class="line">[Friday 07 May 2010] [04:41:41] &lt;sjampoo&gt;   well in this example it looks more like a bug imho as the other way around works perfectly</div>
<div class="line">[Friday 07 May 2010] [04:42:01] &lt;sustrik&gt;   yep, i&#8217;ll have a look</div>
<div class="line">[Friday 07 May 2010] [04:49:19] &lt;sjampoo&gt;   thanks, i do understand the radio analogy of pub/sub.</div>
<div class="line">[Friday 07 May 2010] [04:49:26] &lt;sjampoo&gt;   I think a nice analogy of bind/connect in this sense would be having the publisher transmit at a certain radio frequency (bind) or have it announce its messages through a megaphone directly at the listeners (connect)</div>
<div class="line">[Friday 07 May 2010] [04:57:01] &lt;sustrik&gt;   yes, nicely said</div>
<div class="line">[Friday 07 May 2010] [04:57:19] &lt;sustrik&gt;   unfortunately, there&#8217;s something missing in 0mq documentation</div>
<div class="line">[Friday 07 May 2010] [04:57:35] &lt;sustrik&gt;   a text that would explain individual messaging patterns in such simple words</div>
<div class="line">[Friday 07 May 2010] [05:09:09] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r4a3b857 10/ src/app_thread.cpp : commands not processed immediatelly in some scenarios; fixed - <a class="reference external" href="http://bit.ly/aSMRIF">http://bit.ly/aSMRIF</a></div>
<div class="line">[Friday 07 May 2010] [05:09:12] &lt;sustrik&gt;   sjampoo: try now</div>
<div class="line">[Friday 07 May 2010] [05:15:51] &lt;sjampoo&gt;   cool! works :)</div>
<div class="line">[Friday 07 May 2010] [05:18:14] &lt;sjampoo&gt;   I am planning to write a little bit about 0MQ in the future, might bother you with some extra questions by then</div>
<div class="line">[Friday 07 May 2010] [05:20:23] &lt;sustrik&gt;   sjampoo: sure, no problem</div>
<div class="line">[Friday 07 May 2010] [05:20:39] &lt;sustrik&gt;   also, if it&#8217;s possible i&#8217;ll link your text from the website</div>
<div class="line">[Friday 07 May 2010] [05:22:02] &lt;sustrik&gt;   there&#8217;s 0mq blog on the site btw, so you can even publish there...</div>
<div class="line">[Friday 07 May 2010] [05:23:56] &lt;sjampoo&gt;   ok! i&#8217;ll keep that in mind</div>
<div class="line">[Friday 07 May 2010] [05:28:21] &lt;sjampoo&gt;   btw, that last commit also fixed the zmq_pair issue</div>
<div class="line">[Friday 07 May 2010] [05:47:16] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 07 May 2010] [11:21:15] &lt;muffinpeddler&gt; sustrik: thanks.  So you can keep calling socket.bind() to bind to as many ports/interfaces as you like with the zmq::socket_t?</div>
<div class="line">[Friday 07 May 2010] [11:22:48] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 07 May 2010] [11:39:52] &lt;muffinpeddler&gt; So how will recv help me figure out which &#8220;priority queue&#8221; my message is from?  Or will it iterate through each connection and if each queue has messages available to consume, will it grab one from the first one and then the second?</div>
<div class="line">[Friday 07 May 2010] [11:43:30] &lt;muffinpeddler&gt; So even if I&#8217;m getting tons of messages on one port, the other port will still be given fair consideration?</div>
<div class="line">[Friday 07 May 2010] [11:52:05] &lt;sustrik&gt;   yes, exactly</div>
<div class="line">[Friday 07 May 2010] [11:52:16] &lt;sustrik&gt;   the algorithm it&#8217;s known as fair queueing</div>
<div class="line">[Friday 07 May 2010] [11:52:54] &lt;sustrik&gt;   as for the prioritisation, as I said it&#8217;s not yet in the product</div>
<div class="line">[Friday 07 May 2010] [11:53:17] &lt;sustrik&gt;   so you&#8217;ll have to use several sockets</div>
<div class="line">[Friday 07 May 2010] [11:53:36] &lt;sustrik&gt;   or fix 0mq scheduling algorithm to use priorities</div>
<div class="line">[Friday 07 May 2010] [11:54:47] &lt;sustrik&gt;   i.e. instead of fair queueing, pick the message from queue with highest priority</div>
<div class="line">[Friday 07 May 2010] [12:27:23] &lt;cremes&gt;    sustrik: how do i get a wikidot account? i&#8217;d like my ffi bindings to be listed on the 0mq home page / wiki</div>
<div class="line">[Friday 07 May 2010] [12:27:52] &lt;sustrik&gt;   open www.zeromq.org</div>
<div class="line">[Friday 07 May 2010] [12:28:00] &lt;sustrik&gt;   right top corner</div>
<div class="line">[Friday 07 May 2010] [12:28:03] &lt;sustrik&gt;   create account</div>
<div class="line">[Friday 07 May 2010] [12:28:13] &lt;cremes&gt;    ah, i see it</div>
<div class="line">[Friday 07 May 2010] [12:28:35] &lt;sustrik&gt;   yeah, let me know your login afterwards</div>
<div class="line">[Friday 07 May 2010] [12:28:42] &lt;cremes&gt;    it&#8217;s cremes</div>
<div class="line">[Friday 07 May 2010] [12:29:35] &lt;sustrik&gt;   cremes: you&#8217;ve been invited</div>
<div class="line">[Friday 07 May 2010] [12:29:50] &lt;sustrik&gt;   let me create a template page for you</div>
<div class="line">[Friday 07 May 2010] [12:29:58] &lt;cremes&gt;    cool, thanks</div>
<div class="line">[Friday 07 May 2010] [12:30:13] &lt;sustrik&gt;   how&#8217;s should the binding be called?</div>
<div class="line">[Friday 07 May 2010] [12:30:19] &lt;sustrik&gt;   JRuby?</div>
<div class="line">[Friday 07 May 2010] [12:30:37] &lt;cremes&gt;    for now JRuby is the only ruby runtime that has proper FFI support, so yes</div>
<div class="line">[Friday 07 May 2010] [12:30:48] &lt;cremes&gt;    but eventually it will work with rubinius and ironruby too</div>
<div class="line">[Friday 07 May 2010] [12:31:06] &lt;sustrik&gt;   probably no generic name for all of those?</div>
<div class="line">[Friday 07 May 2010] [12:31:26] &lt;cremes&gt;    nope; how about we call it ruby-ffi?</div>
<div class="line">[Friday 07 May 2010] [12:31:41] &lt;cremes&gt;    then the page itself can list the currently supported runtimes</div>
<div class="line">[Friday 07 May 2010] [12:31:45] &lt;sustrik&gt;   ffi is rather generic</div>
<div class="line">[Friday 07 May 2010] [12:31:51] &lt;sustrik&gt;   which ffi you have in mind?</div>
<div class="line">[Friday 07 May 2010] [12:32:16] &lt;cremes&gt;    it&#8217;s ruby specific (ruby-ffi)</div>
<div class="line">[Friday 07 May 2010] [12:32:44] &lt;cremes&gt;    i.e. <a class="reference external" href="http://github.com/ffi/ffi">http://github.com/ffi/ffi</a></div>
<div class="line">[Friday 07 May 2010] [12:33:12] &lt;sustrik&gt;   term &#8216;ffi&#8217; is used in different languages</div>
<div class="line">[Friday 07 May 2010] [12:33:14] &lt;sustrik&gt;   see here&#8221;</div>
<div class="line">[Friday 07 May 2010] [12:33:16] &lt;sustrik&gt;   <a class="reference external" href="http://en.wikipedia.org/wiki/Foreign_function_interface">http://en.wikipedia.org/wiki/Foreign_function_interface</a></div>
<div class="line">[Friday 07 May 2010] [12:33:24] &lt;cremes&gt;    yeah, i know</div>
<div class="line">[Friday 07 May 2010] [12:33:33] &lt;sustrik&gt;   so maybe Ruby-FFI?</div>
<div class="line">[Friday 07 May 2010] [12:33:37] &lt;cremes&gt;    but these bindings are written in ruby and will only work with ruby</div>
<div class="line">[Friday 07 May 2010] [12:33:38] &lt;cremes&gt;    yes</div>
<div class="line">[Friday 07 May 2010] [12:33:52] &lt;sustrik&gt;   or Ruby (FFI)</div>
<div class="line">[Friday 07 May 2010] [12:33:57] &lt;cremes&gt;    bingo</div>
<div class="line">[Friday 07 May 2010] [12:34:00] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 07 May 2010] [12:34:11] &lt;sustrik&gt;   ok, a sec</div>
<div class="line">[Friday 07 May 2010] [12:34:42] &lt;cremes&gt;    btw, everything is working pretty well with these bindings except they are leaking every message</div>
<div class="line">[Friday 07 May 2010] [12:34:50] &lt;cremes&gt;    i need to find &amp; fix the memory leak :(</div>
<div class="line">[Friday 07 May 2010] [12:35:14] &lt;sustrik&gt;   <a class="reference external" href="http://www.zeromq.org/bindings:ruby-ffi">http://www.zeromq.org/bindings:ruby-ffi</a></div>
<div class="line">[Friday 07 May 2010] [12:35:36] &lt;sustrik&gt;   i&#8217;ve pasted the content of the python bindings wiki page there to give you a template</div>
<div class="line">[Friday 07 May 2010] [12:35:43] &lt;sustrik&gt;   but feel free to modify it in any way</div>
<div class="line">[Friday 07 May 2010] [12:35:53] &lt;cremes&gt;    great, i&#8217;ll do that</div>
<div class="line">[Friday 07 May 2010] [12:36:17] &lt;sustrik&gt;   once you are ready, let me know and I&#8217;ll link the page from the left pane</div>
<div class="line">[Friday 07 May 2010] [12:37:09] &lt;cremes&gt;    okay, probably later today i&#8217;ll get it updated</div>
<div class="line">[Friday 07 May 2010] [12:38:37] &lt;sustrik&gt;   ok</div>
<div class="line">[Friday 07 May 2010] [13:39:27] &lt;muffinpeddler&gt; sustrik: thanks.  Perhaps I&#8217;ll look into the 0mq algorithm</div>
<div class="line">[Friday 07 May 2010] [13:41:51] &lt;sustrik&gt;   muffinpeddler: it&#8217;s here: <a class="reference external" href="http://github.com/sustrik/zeromq2/blob/master/src/fq.cpp">http://github.com/sustrik/zeromq2/blob/master/src/fq.cpp</a></div>
<div class="line">[Friday 07 May 2010] [13:42:23] &lt;sustrik&gt;   it&#8217;s simple array of pipes</div>
<div class="line">[Friday 07 May 2010] [13:42:41] &lt;sustrik&gt;   when recv is called you round-robin among them to get the message</div>
<div class="line">[Friday 07 May 2010] [13:44:00] &lt;cremes&gt;    sustrik: i want to confirm that when zmq_msg_close is called, the lib handles freeing the data buffer given it via zmq_msg_init_data</div>
<div class="line">[Friday 07 May 2010] [13:44:19] &lt;cremes&gt;    and it isn&#8217;t necessary to pass a &#8220;free&#8221; function</div>
<div class="line">[Friday 07 May 2010] [13:44:37] &lt;sustrik&gt;   it&#8217;s necessary</div>
<div class="line">[Friday 07 May 2010] [13:44:52] &lt;sustrik&gt;   how would it otherwise know how to deallocate the buffer?</div>
<div class="line">[Friday 07 May 2010] [13:45:09] &lt;cremes&gt;    the call to zmq_close should free it</div>
<div class="line">[Friday 07 May 2010] [13:45:30] &lt;cremes&gt;    the doc for zmq_msg_init_data says that 0mq takes ownership of the data buffer</div>
<div class="line">[Friday 07 May 2010] [13:45:31] &lt;sustrik&gt;   well, but you supply the buffer you allocated yourself, right?</div>
<div class="line">[Friday 07 May 2010] [13:45:52] &lt;cremes&gt;    i supply it but 0mq owns it once i hand it off</div>
<div class="line">[Friday 07 May 2010] [13:46:00] &lt;sustrik&gt;   yes, it does, but you have to let it know how to deallocate it:</div>
<div class="line">[Friday 07 May 2010] [13:46:02] &lt;sustrik&gt;   free?</div>
<div class="line">[Friday 07 May 2010] [13:46:09] &lt;sustrik&gt;   delete?</div>
<div class="line">[Friday 07 May 2010] [13:46:16] &lt;sustrik&gt;   HGlobalDealloc?</div>
<div class="line">[Friday 07 May 2010] [13:46:23] &lt;sustrik&gt;   whatever</div>
<div class="line">[Friday 07 May 2010] [13:46:26] &lt;cremes&gt;    ok</div>
<div class="line">[Friday 07 May 2010] [13:46:43] &lt;cremes&gt;    so if now free function is passed to zmq_msg_init_data, then those buffers will all leak, yes?</div>
<div class="line">[Friday 07 May 2010] [13:46:52] &lt;sustrik&gt;   yes</div>
<div class="line">[Friday 07 May 2010] [13:47:03] &lt;cremes&gt;    then i think i found my memory leak; thanks</div>
<div class="line">[Friday 07 May 2010] [13:47:12] &lt;sustrik&gt;   not passing deallocation function makes sense only for static data</div>
<div class="line">[Friday 07 May 2010] [13:47:14] &lt;sustrik&gt;   such as&#8221;</div>
<div class="line">[Friday 07 May 2010] [13:47:27] &lt;sustrik&gt;   zmq_msg_init_data (&amp;msg, &#8220;ABC&#8221;, 3, NULL);</div>
<div class="line">[Friday 07 May 2010] [13:47:52] &lt;sustrik&gt;   the data in this case are part of the executable, so there&#8217;s no need to deallocate it</div>
<div class="line">[Friday 07 May 2010] [13:48:22] &lt;cremes&gt;    ok</div>
<div class="line">[Friday 07 May 2010] [13:48:54] &lt;cremes&gt;    so what is the &#8220;hint&#8221; argument for?</div>
<div class="line">[Friday 07 May 2010] [13:49:28] &lt;sustrik&gt;   imagine more complex allocation mechanism</div>
<div class="line">[Friday 07 May 2010] [13:49:34] &lt;sustrik&gt;   such as a garbage collector</div>
<div class="line">[Friday 07 May 2010] [13:49:58] &lt;sustrik&gt;   you have to pass pointer to the gc object in the hint</div>
<div class="line">[Friday 07 May 2010] [13:50:10] &lt;sustrik&gt;   so that free function can do something like this:</div>
<div class="line">[Friday 07 May 2010] [13:50:31] &lt;sustrik&gt;   ((gc*) hint)-&gt;dealloc (data);</div>
<div class="line">[Friday 07 May 2010] [13:50:42] &lt;cremes&gt;    oh, that makes sense too</div>
<div class="line">[Friday 07 May 2010] [13:57:34] &lt;muffinpeddler&gt; thanks sustrik, I&#8217;ve been meaning to make an open source contribution</div>
<div class="line">[Friday 07 May 2010] [13:58:46] &lt;sustrik&gt;   that would be great!</div>
<div class="line">[Friday 07 May 2010] [14:00:42] &lt;muffinpeddler&gt; no guarantees though, I have little experience with 0mq :)</div>
<div class="line">[Friday 07 May 2010] [14:01:34] &lt;sustrik&gt;   the functionality in question is pretty dumb, so no worries :)</div>
<div class="line">[Friday 07 May 2010] [14:02:57] &lt;sustrik&gt;   there are some design issues though:</div>
<div class="line">[Friday 07 May 2010] [14:03:14] &lt;sustrik&gt;   for example: how many priority levels do we want to support?</div>
<div class="line">[Friday 07 May 2010] [14:08:25] &lt;muffinpeddler&gt; Right.  And what would you set the priority on?  The pipe itself?</div>
<div class="line">[Friday 07 May 2010] [14:09:00] &lt;sustrik&gt;   i would say the priority has to associated with the particular transport</div>
<div class="line">[Friday 07 May 2010] [14:09:03] &lt;sustrik&gt;   say port 5555</div>
<div class="line">[Friday 07 May 2010] [14:09:31] &lt;sustrik&gt;   that would allow you to configure nwtworking hardware to treat it with specific QoS</div>
<div class="line">[Friday 07 May 2010] [14:10:23] &lt;sustrik&gt;   for example, you can ask the router to drop packets on port 5556 rather than on port 5555</div>
<div class="line">[Friday 07 May 2010] [14:11:08] &lt;muffinpeddler&gt; interesting</div>
<div class="line">[Friday 07 May 2010] [14:11:18] &lt;sustrik&gt;   makes sense, no?</div>
<div class="line">[Friday 07 May 2010] [14:12:31] &lt;sustrik&gt;   in practical terms it means that prioritised messages get through even over congested network</div>
<div class="line">[Friday 07 May 2010] [14:12:44] &lt;muffinpeddler&gt; Yea it does</div>
<div class="line">[Friday 07 May 2010] [14:12:54] &lt;muffinpeddler&gt; anything else I should take in to consideration?</div>
<div class="line">[Friday 07 May 2010] [14:13:34] &lt;sustrik&gt;   well, there are two parts to it</div>
<div class="line">[Friday 07 May 2010] [14:13:48] &lt;sustrik&gt;   1. how to get priority value to the scheduler</div>
<div class="line">[Friday 07 May 2010] [14:13:55] &lt;sustrik&gt;   2. how to do scheduling itself</div>
<div class="line">[Friday 07 May 2010] [14:14:29] &lt;sustrik&gt;   pt. 1 requires more knowledge of the codebase, so I volunteer to implement it</div>
<div class="line">[Friday 07 May 2010] [14:15:18] &lt;sustrik&gt;   pt. 2 doesn&#8217;t require much knowlegde so that&#8217;s where you can start</div>
<div class="line">[Friday 07 May 2010] [14:15:49] &lt;cornbread&gt; sounds good</div>
<div class="line">[Friday 07 May 2010] [14:18:56] &lt;cornbread&gt; So which class would the priority value be placed in?  I see a reader_t has a reference to an i_endpoint</div>
<div class="line">[Friday 07 May 2010] [14:19:15] &lt;sustrik&gt;   let me see...</div>
<div class="line">[Friday 07 May 2010] [14:19:43] &lt;sustrik&gt;   have a look at this function: void zmq::fq_t::attach (reader_t <a href="#id1"><span class="problematic" id="id2">*</span></a><a href="#id24"><span class="problematic" id="id25">pipe_</span></a>)</div>
<div class="line">[Friday 07 May 2010] [14:19:56] &lt;sustrik&gt;   that&#8217;s when new pipe is attached to the scheduler</div>
<div class="line">[Friday 07 May 2010] [14:20:06] &lt;sustrik&gt;   what if it was modified like this:</div>
<div class="line">[Friday 07 May 2010] [14:20:18] &lt;sustrik&gt;   zmq::fq_t::attach (reader_t <a href="#id3"><span class="problematic" id="id4">*</span></a><a href="#id26"><span class="problematic" id="id27">pipe_</span></a>, int <a href="#id28"><span class="problematic" id="id29">priority_</span></a>)</div>
<div class="line">[Friday 07 May 2010] [14:20:21] &lt;sustrik&gt;   ?</div>
<div class="line">[Friday 07 May 2010] [14:21:36] &lt;cornbread&gt; Sure.  So you think the fq_t should be modified, or a new scheduler be created?  What if you just want to use the fair queue</div>
<div class="line">[Friday 07 May 2010] [14:21:59] &lt;sustrik&gt;   it should be modified imp</div>
<div class="line">[Friday 07 May 2010] [14:22:00] &lt;sustrik&gt;   imo</div>
<div class="line">[Friday 07 May 2010] [14:22:22] &lt;sustrik&gt;   just allow for several pipe arrays instead of a single one</div>
<div class="line">[Friday 07 May 2010] [14:22:42] &lt;sustrik&gt;   each array for a specific priority level</div>
<div class="line">[Friday 07 May 2010] [14:23:05] &lt;sustrik&gt;   the scheduler would try to get a message from the highest priority array</div>
<div class="line">[Friday 07 May 2010] [14:23:16] &lt;sustrik&gt;   if there&#8217;s none, try the second one etc.</div>
<div class="line">[Friday 07 May 2010] [14:23:52] &lt;cornbread&gt; What is different about that compared to how the round robin scheduler already works?</div>
<div class="line">[Friday 07 May 2010] [14:24:17] &lt;sustrik&gt;   with RR you get a message from a pipe then shift to another pipe</div>
<div class="line">[Friday 07 May 2010] [14:24:39] &lt;sustrik&gt;   with priorities you do the same thing on each priotity level</div>
<div class="line">[Friday 07 May 2010] [14:24:58] &lt;sustrik&gt;   but if there&#8217;s no message on that level you fail-over to the lower level</div>
<div class="line">[Friday 07 May 2010] [14:25:13] &lt;sustrik&gt;   so as long as there are messages on highest priority level</div>
<div class="line">[Friday 07 May 2010] [14:25:27] &lt;sustrik&gt;   you&#8217;ll never retrieve messages from lower level</div>
<div class="line">[Friday 07 May 2010] [14:26:23] &lt;cornbread&gt; okay, well I&#8217;ll take a look at this here and there today.  I&#8217;ve got some exams to study for</div>
<div class="line">[Friday 07 May 2010] [14:26:50] &lt;sustrik&gt;   sure, no haste</div>
<div class="line">[Friday 07 May 2010] [15:03:22] &lt;cremes&gt;    sustrik: if you are still around, another api question...</div>
<div class="line">[Friday 07 May 2010] [15:04:23] &lt;cremes&gt;    does zmq_msg_init_size allocate a data buffer of &#8220;size&#8221; bytes, and if so, is a later call to zmq_msg_init_data redundant?</div>
<div class="line">[Friday 07 May 2010] [15:05:06] &lt;cremes&gt;    that is, a later call to zmq_msg_init_data using the same zmq_msg_t</div>
<div class="line">[Friday 07 May 2010] [15:06:19] &lt;cremes&gt;    nevermind... i just proved it to myself via a code test</div>
<div class="line">[Friday 07 May 2010] [15:06:27] &lt;cremes&gt;    btw, that was my memory leak</div>
<div class="line">[Friday 07 May 2010] [15:06:46] &lt;cremes&gt;    i called zmq_msg_init_size on a structure and then called zmq_msg_init_data on the same structure</div>
<div class="line">[Friday 07 May 2010] [15:07:23] &lt;cremes&gt;    i <em>thought</em> it was necessary to call them in that order; 1) allocate &#8220;size&#8221; space and 2) hand the buffer over</div>
<div class="line">[Friday 07 May 2010] [15:07:37] &lt;cremes&gt;    now when i look at it i clearly see that is wrong and unnecessary</div>
<div class="line">[Friday 07 May 2010] [15:09:20] &lt;cremes&gt;    i do recommend adding a warning to the docs for those calls saying that calling them both <em>will</em> result in a memory leak of &#8220;size&#8221; bytes</div>
<div class="line">[Friday 07 May 2010] [15:23:04] &lt;sustrik&gt;   cremes: feel free to submit a documentation patch</div>
<div class="line">[Friday 07 May 2010] [15:23:40] &lt;sustrik&gt;   or maybe saying that you should call onle <em>one</em> of the init functions for a single messagw</div>
<div class="line">[Friday 07 May 2010] [15:23:51] &lt;cremes&gt;    will do</div>
<div class="line">[Friday 07 May 2010] [15:41:20] &lt;sustrik&gt;   cremes: the same text should be in documentation for zmq_msg_init</div>
<div class="line">[Friday 07 May 2010] [15:41:46] &lt;cremes&gt;    okay, i&#8217;ll add it</div>
<div class="line">[Friday 07 May 2010] [15:41:50] &lt;sustrik&gt;   it&#8217;s kind of strange having it in three different places...</div>
<div class="line">[Friday 07 May 2010] [15:42:07] &lt;sustrik&gt;   isn&#8217;t there some common place to place the warning?</div>
<div class="line">[Friday 07 May 2010] [15:42:18] &lt;sustrik&gt;   hm...</div>
<div class="line">[Friday 07 May 2010] [15:42:27] &lt;sustrik&gt;   cremes: what about zmq(7)?</div>
<div class="line">[Friday 07 May 2010] [15:42:54] &lt;cremes&gt;    i don&#8217;t know</div>
<div class="line">[Friday 07 May 2010] [15:42:57] &lt;sustrik&gt;   Initialise a message</div>
<div class="line">[Friday 07 May 2010] [15:42:57] &lt;sustrik&gt;              zmq_msg_init(3) zmq_msg_init_size(3) zmq_msg_init_data(3)</div>
<div class="line">[Friday 07 May 2010] [15:42:58] &lt;cremes&gt;    no opinion</div>
<div class="line">[Friday 07 May 2010] [15:43:18] &lt;sustrik&gt;   that can be possibly changed to something like</div>
<div class="line">[Friday 07 May 2010] [15:43:29] &lt;sustrik&gt;   To initialise message use one of the following:</div>
<div class="line">[Friday 07 May 2010] [15:43:57] &lt;cremes&gt;    i think ONE needs to be emphasized</div>
<div class="line">[Friday 07 May 2010] [15:44:12] &lt;cremes&gt;    how about adding the caution paragraph right under that grouping?</div>
<div class="line">[Friday 07 May 2010] [15:44:39] &lt;cremes&gt;    hmmm... i think this is not a good area to DRY up the documentation</div>
<div class="line">[Friday 07 May 2010] [15:44:45] &lt;cremes&gt;    i think all 3 docs should contain the caution</div>
<div class="line">[Friday 07 May 2010] [15:44:53] &lt;cremes&gt;    otherwise it&#8217;s too easy for it to be missed</div>
<div class="line">[Friday 07 May 2010] [15:45:39] &lt;sustrik&gt;   right</div>
<div class="line">[Friday 07 May 2010] [15:45:48] &lt;sustrik&gt;   but let&#8217;s make the text more concise</div>
<div class="line">[Friday 07 May 2010] [15:46:44] &lt;sustrik&gt;   &#8220;never initialise same message twice&#8221; ?</div>
<div class="line">[Friday 07 May 2010] [15:47:18] &lt;sustrik&gt;    &#8220;never initialise same zmq_msg_t twice&#8221; ?</div>
<div class="line">[Friday 07 May 2010] [15:47:38] &lt;sustrik&gt;   &#8220;never initialise same zmq_msg_t more than once&#8221; ?</div>
<div class="line">[Friday 07 May 2010] [15:47:52] &lt;cremes&gt;    how about this:</div>
<div class="line">[Friday 07 May 2010] [15:47:54] &lt;cremes&gt;    CAUTION: The functions _zmq_msg_init()_, _zmq_msg_init_data()_ and</div>
<div class="line">[Friday 07 May 2010] [15:47:54] &lt;cremes&gt;    _zmq_msg_init_size()_ all initialize the &#8216;zmq_msg_t&#8217; struct. Never initialize</div>
<div class="line">[Friday 07 May 2010] [15:47:54] &lt;cremes&gt;    the same &#8216;zmq_msg_t&#8217; twice.</div>
<div class="line">[Friday 07 May 2010] [15:48:13] &lt;sustrik&gt;   not bad</div>
<div class="line">[Friday 07 May 2010] [15:48:23] &lt;sustrik&gt;   CAUTION: The functions _zmq_msg_init()_, _zmq_msg_init_data()_ and</div>
<div class="line">[Friday 07 May 2010] [15:48:28] &lt;cremes&gt;    and add &#8220;or it will leak memory&#8221; to the end</div>
<div class="line">[Friday 07 May 2010] [15:48:46] &lt;sustrik&gt;   _zmq_msg_init_size()_ are mutually exclusive. Never initialize</div>
<div class="line">[Friday 07 May 2010] [15:48:47] &lt;sustrik&gt;   ...</div>
<div class="line">[Friday 07 May 2010] [15:48:52] &lt;cremes&gt;    ah, that&#8217;s good</div>
<div class="line">[Friday 07 May 2010] [15:49:08] &lt;sustrik&gt;   i don&#8217;t think the memory leak has to be mentioned</div>
<div class="line">[Friday 07 May 2010] [15:49:24] &lt;sustrik&gt;   &#8220;never do it&#8221; means anything can happen if you do</div>
<div class="line">[Friday 07 May 2010] [15:49:30] &lt;cremes&gt;    sure</div>
<div class="line">[Friday 07 May 2010] [15:49:55] &lt;sustrik&gt;   oki, let me fix the docs</div>
<div class="line">[Friday 07 May 2010] [15:50:06] &lt;cremes&gt;    ok</div>
<div class="line">[Friday 07 May 2010] [15:54:14] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * r4d33c43 10/ (3 files): caution about zmq_msg_init_* functions added to the docs - <a class="reference external" href="http://bit.ly/cvOC5r">http://bit.ly/cvOC5r</a></div>
<div class="line">[Saturday 08 May 2010] [13:08:19] &lt;<a href="#id30"><span class="problematic" id="id31">xla_</span></a>&gt;    hej</div>
<div class="line">[Saturday 08 May 2010] [13:08:35] &lt;<a href="#id32"><span class="problematic" id="id33">xla_</span></a>&gt;    is there a resource for installing zeromq on ec2?</div>
<div class="line">[Saturday 08 May 2010] [13:10:00] &lt;mikko&gt;   what is different on ec2 installation that others?</div>
<div class="line">[Saturday 08 May 2010] [13:10:32] &lt;mikko&gt;   compared to others*</div>
<div class="line">[Saturday 08 May 2010] [13:11:48] &lt;<a href="#id34"><span class="problematic" id="id35">xla_</span></a>&gt;    nothing running a normal ubuntu 9.10, but can&#8217;t find zeromq in universe</div>
<div class="line">[Saturday 08 May 2010] [13:12:58] &lt;mikko&gt;   you probably have to build yourself</div>
<div class="line">[Saturday 08 May 2010] [13:13:38] &lt;<a href="#id36"><span class="problematic" id="id37">xla_</span></a>&gt;    anything I have to be aware of? or the normal build process: configure + make + make install?</div>
<div class="line">[Saturday 08 May 2010] [13:14:03] &lt;mikko&gt;   you can either build debian packages yourself and install</div>
<div class="line">[Saturday 08 May 2010] [13:14:10] &lt;mikko&gt;   or just normal configure + make + make install</div>
<div class="line">[Saturday 08 May 2010] [13:16:21] &lt;<a href="#id38"><span class="problematic" id="id39">xla_</span></a>&gt;    mikko: many thx</div>
<div class="line">[Saturday 08 May 2010] [13:20:26] &lt;<a href="#id40"><span class="problematic" id="id41">xla_</span></a>&gt;    hmm, think I missing something getting this error for zmq_forwarder:</div>
<div class="line">[Saturday 08 May 2010] [13:20:26] &lt;<a href="#id42"><span class="problematic" id="id43">xla_</span></a>&gt;    zmq_forwarder: error while loading shared libraries: libzmq.so.0: cannot open shared object file: No such file or directory</div>
<div class="line">[Saturday 08 May 2010] [13:21:09] &lt;mikko&gt;   run &#8216;ldconfig&#8217; and retry</div>
<div class="line">[Saturday 08 May 2010] [13:21:42] &lt;<a href="#id44"><span class="problematic" id="id45">xla_</span></a>&gt;    nice, thx again :)</div>
<div class="line">[Saturday 08 May 2010] [13:21:58] &lt;mikko&gt;   every time you install something by hand you need to update runtime linkers cache</div>
<div class="line">[Saturday 08 May 2010] [13:33:30] &lt;<a href="#id46"><span class="problematic" id="id47">xla_</span></a>&gt;    will keep that in mind for the next time</div>
<div class="line">[Sunday 09 May 2010] [10:59:45] &lt;CIA-15&gt;    zeromq2: 03Martin Sustrik 07master * ra25414e 10/ src/zmq.cpp : Fix in zmq_poll (Windows version) - <a class="reference external" href="http://bit.ly/axwsgk">http://bit.ly/axwsgk</a></div>
<div class="line">[Sunday 09 May 2010] [20:51:18] &lt;cremes&gt;    sustrik: go ahead and link the ruby-ffi page; i have updated it</div>
<div class="line">[Monday 10 May 2010] [01:33:33] &lt;sustrik&gt;   cremes: liked from the frontpage</div>
<div class="line">[Monday 10 May 2010] [01:33:37] &lt;sustrik&gt;   linked*</div>
<div class="line">[Monday 10 May 2010] [09:10:51] &lt;cremes&gt;    i need a helping hand getting the local_lat/remote_lat sample C programs running</div>
<div class="line">[Monday 10 May 2010] [09:10:53] &lt;cremes&gt;    <a class="reference external" href="http://pastie.org/953645">http://pastie.org/953645</a></div>
<div class="line">[Monday 10 May 2010] [09:11:19] &lt;cremes&gt;    it looks to me like everything is there; i&#8217;m a bit out of practice with diagnosing C compilation issues</div>
<div class="line">[Monday 10 May 2010] [09:11:30] &lt;cremes&gt;    btw, there were no errors during the make cycle</div>
<div class="line">[Monday 10 May 2010] [09:13:25] &lt;sustrik&gt;   perf tests are made with the library</div>
<div class="line">[Monday 10 May 2010] [09:13:35] &lt;sustrik&gt;   you don&#8217;t need to build them by hand</div>
<div class="line">[Monday 10 May 2010] [09:14:12] &lt;cremes&gt;    i didn&#8217;t build them by hand; i ran make &amp;&amp; make install then cd perf and tried to execute them</div>
<div class="line">[Monday 10 May 2010] [09:14:57] &lt;cremes&gt;    i built &amp; installed the library; now i want to run the C perf tests</div>
<div class="line">[Monday 10 May 2010] [09:20:10] &lt;cremes&gt;    when i run ldd on the binaries, it finds all libs except for libzmq.so.0</div>
<div class="line">[Monday 10 May 2010] [09:20:38] &lt;cremes&gt;    do i need to create an env variable for it to find that library?</div>
<div class="line">[Monday 10 May 2010] [09:25:45] &lt;mato&gt;  cremes: you need to run &#8216;ldconfig&#8217; as root</div>
<div class="line">[Monday 10 May 2010] [09:25:46] &lt;cremes&gt;    adding /usr/local/lib to my /etc/ld.so.conf.d/ld.so.conf file and rebuilding the linker cache solved it</div>
<div class="line">[Monday 10 May 2010] [09:25:47] &lt;xla&gt;   did u ran ldconfig -v ?</div>
<div class="line">[Monday 10 May 2010] [09:25:56] &lt;cremes&gt;    yep, just figured it out</div>
<div class="line">[Monday 10 May 2010] [09:26:25] &lt;cremes&gt;    heh</div>
<div class="line">[Monday 10 May 2010] [09:28:27] &lt;cremes&gt;    wow, the ruby ffi bindings appear to only incur about 15 usec of overhead versus a straight C implementation</div>
<div class="line">[Monday 10 May 2010] [09:28:30] &lt;cremes&gt;    not too shabby</div>
<div class="line">[Monday 10 May 2010] [09:34:11] &lt;cremes&gt;    hmmm... it&#8217;s actually better than that...</div>
<div class="line">[Monday 10 May 2010] [09:54:11] &lt;cremes&gt;    lots of jitter when doing timing tests with local_lat/remote_lat; ~5usec jitter between runs</div>
<div class="line">[Monday 10 May 2010] [10:14:19] &lt;sustrik&gt;   yup, the latency ditributions tend to have fat tails</div>
<div class="line">[Monday 10 May 2010] [10:14:23] &lt;sustrik&gt;   shrug</div>
<div class="line">[Monday 10 May 2010] [10:17:37] &lt;cremes&gt;    np</div>
<div class="line">[Monday 10 May 2010] [10:49:15] &lt;mato&gt;  sustrik: I&#8217;ve updated OpenPGM in Git; my limited testing seems to show that streams hang even when publishing way below ZMQ_RATE</div>
<div class="line">[Monday 10 May 2010] [10:49:36] &lt;sustrik&gt;   mato: hm</div>
<div class="line">[Monday 10 May 2010] [10:49:45] &lt;mato&gt;  sustrik: perhaps someone else will test it in anger and complain, I&#8217;ve kind of given up on the current state of affairs :-)</div>
<div class="line">[Monday 10 May 2010] [10:50:10] &lt;sustrik&gt;   yup, just post a note on the mailing list</div>
<div class="line">[Monday 10 May 2010] [10:50:18] &lt;sustrik&gt;   to make Steven aware of it</div>
<div class="line">[Monday 10 May 2010] [10:50:18] &lt;mato&gt;  I just did</div>
<div class="line">[Monday 10 May 2010] [10:50:22] &lt;sustrik&gt;   great</div>
<div class="line">[Monday 10 May 2010] [10:51:20] &lt;sustrik&gt;   ah, i&#8217;ve meant report the problem you&#8217;ve seen</div>
<div class="line">[Monday 10 May 2010] [10:51:40] &lt;sustrik&gt;   otherwise Steven will have no idea that there&#8217;s still a problem there</div>
<div class="line">[Monday 10 May 2010] [10:51:43] &lt;mato&gt;  then I&#8217;d have to write some sort of test program :-)</div>
<div class="line">[Monday 10 May 2010] [10:52:02] &lt;sustrik&gt;   well, it&#8217;s up to you</div>
<div class="line">[Monday 10 May 2010] [10:52:05] &lt;mato&gt;  since the only thing I&#8217;m using at the moment is the camera example...</div>
<div class="line">[Monday 10 May 2010] [10:52:48] &lt;mato&gt;  I&#8217;ll see if I can hack something together that won&#8217;t take longer than half an hour...</div>
<div class="line">[Monday 10 May 2010] [11:22:02] &lt;mato&gt;  sustrik: hmm, it seems to be sporadic, i can&#8217;t reproduce it any more</div>
<div class="line">[Monday 10 May 2010] [11:22:18] &lt;mato&gt;  sustrik: maybe the switch just needed to warm up or something :-)</div>
<div class="line">[Monday 10 May 2010] [11:22:30] &lt;mato&gt;  sustrik: i&#8217;ll leave it for now and see if anyone else reports problems</div>
<div class="line">[Monday 10 May 2010] [11:23:05] &lt;sustrik&gt;   mato: ack</div>
<div class="line">[Monday 10 May 2010] [17:26:27] &lt;mike8901&gt;  Anyone know why <a class="reference external" href="https://gist.github.com/2218f508e914c162a8e2">https://gist.github.com/2218f508e914c162a8e2</a> would generate the exception &#8220;Error, no such device&#8221; ?</div>
<div class="line">[Monday 10 May 2010] [17:26:34] &lt;mike8901&gt;  (on the bind)</div>
<div class="line">[Monday 10 May 2010] [17:27:09] &lt;mike8901&gt;  exception: No such device, to be specific</div>
<div class="line">[Monday 10 May 2010] [17:40:25] &lt;mikko&gt; try 127.0.0.1 instead of localhost</div>
<div class="line">[Monday 10 May 2010] [17:44:28] &lt;mike8901&gt;  same issue with 127.0.0.1</div>
<div class="line">[Tuesday 11 May 2010] [02:36:05] &lt;sjampoo&gt;  Hmmm i think i&#8217;m having a problem with issue-18 as well (segfault on PAIR sockets). I think it is caused by a problem on the receiving end where zmq_recv sometimes does not correctly initialize the data or the length</div>
<div class="line">[Tuesday 11 May 2010] [02:38:09] &lt;sjampoo&gt;  sometime the received message contains something completely irrelevant such as &#8216;stdout...&#8217; other times it returns some trailing characters on the message data</div>
<div class="line">[Tuesday 11 May 2010] [02:45:58] &lt;sustrik&gt;  sjampoo: please, report the problem</div>
<div class="line">[Tuesday 11 May 2010] [02:46:07] &lt;sustrik&gt;  attach your test program to the issue</div>
<div class="line">[Tuesday 11 May 2010] [02:46:33] &lt;sjampoo&gt;  i will, gonna take some time</div>
<div class="line">[Tuesday 11 May 2010] [02:46:40] &lt;sjampoo&gt;  i just noticed it in my python test suite</div>
<div class="line">[Tuesday 11 May 2010] [02:47:00] &lt;sjampoo&gt;  will try to extract it to c code</div>
<div class="line">[Tuesday 11 May 2010] [02:55:24] &lt;sustrik&gt;  thx</div>
<div class="line">[Tuesday 11 May 2010] [04:12:28] &lt;sjampoo&gt;  i&#8217;ve added it</div>
<div class="line">[Tuesday 11 May 2010] [04:12:44] &lt;sjampoo&gt;  but i still have no idea how to properly add code to issue&#8217;s with Github</div>
<div class="line">[Tuesday 11 May 2010] [04:14:22] &lt;sustrik&gt;  offset it be 4 characters to the right</div>
<div class="line">[Tuesday 11 May 2010] [04:14:26] &lt;sustrik&gt;  that seems to work</div>
<div class="line">[Tuesday 11 May 2010] [04:14:43] &lt;sjampoo&gt;  yups, thnks</div>
<div class="line">[Tuesday 11 May 2010] [04:22:44] &lt;sustrik&gt;  sjampoo: if you want to directly print out the message data</div>
<div class="line">[Tuesday 11 May 2010] [04:22:52] &lt;sustrik&gt;  the terminal zero should be part of the message</div>
<div class="line">[Tuesday 11 May 2010] [04:25:16] &lt;sjampoo&gt;  but it is, isn&#8217;t it?</div>
<div class="line">[Tuesday 11 May 2010] [04:27:01] &lt;sustrik&gt;  doesn&#8217;t look so</div>
<div class="line">[Tuesday 11 May 2010] [04:27:11] &lt;sustrik&gt;  msg_init (i)</div>
<div class="line">[Tuesday 11 May 2010] [04:27:16] &lt;sustrik&gt;  say i = 0</div>
<div class="line">[Tuesday 11 May 2010] [04:27:22] &lt;sjampoo&gt;  i see it</div>
<div class="line">[Tuesday 11 May 2010] [04:27:23] &lt;sjampoo&gt;  thnks</div>
<div class="line">[Tuesday 11 May 2010] [04:27:25] &lt;sustrik&gt;  np</div>
<div class="line">[Tuesday 11 May 2010] [04:27:27] &lt;sjampoo&gt;  hrm</div>
<div class="line">[Tuesday 11 May 2010] [07:39:32] &lt;Olivier_c&gt;    hi everybody</div>
<div class="line">[Tuesday 11 May 2010] [07:39:41] &lt;sustrik&gt;  hi</div>
<div class="line">[Tuesday 11 May 2010] [09:24:43] &lt;sjampoo&gt;  sutsrik, added something here: <a class="reference external" href="http://github.com/sustrik/zeromq2/issues#issue/18/comment/237765">http://github.com/sustrik/zeromq2/issues#issue/18/comment/237765</a> not sure if its helpfull tho.</div>
<div class="line">[Tuesday 11 May 2010] [09:53:08] &lt;sustrik&gt;  sjampoo: have a look at your data lifetimes</div>
<div class="line">[Tuesday 11 May 2010] [09:53:16] &lt;sustrik&gt;  you allocate data on stacl</div>
<div class="line">[Tuesday 11 May 2010] [09:53:20] &lt;sustrik&gt;  stack</div>
<div class="line">[Tuesday 11 May 2010] [09:53:23] &lt;sustrik&gt;  then pass it to 0MQ</div>
<div class="line">[Tuesday 11 May 2010] [09:53:31] &lt;sustrik&gt;  then stack gets overwritten</div>
<div class="line">[Tuesday 11 May 2010] [09:53:38] &lt;sustrik&gt;  then you receive the message</div>
<div class="line">[Tuesday 11 May 2010] [10:09:47] &lt;sjampoo&gt;  i really did that 10.000x times, but your remark made me do it once more</div>
<div class="line">[Tuesday 11 May 2010] [10:10:07] &lt;sjampoo&gt;  and yup, missed something</div>
<div class="line">[Tuesday 11 May 2010] [10:10:23] &lt;sjampoo&gt;  tests are OK now, thanks</div>
<div class="line">[Tuesday 11 May 2010] [10:11:04] &lt;sjampoo&gt;  i should stop trying to translate to C i only break things</div>
<div class="line">[Tuesday 11 May 2010] [10:21:54] &lt;sustrik&gt;  :)</div>
<div class="line">[Tuesday 11 May 2010] [10:22:28] &lt;sustrik&gt;  if everything is ok, please close the issue</div>
<div class="line">[Tuesday 11 May 2010] [10:22:30] &lt;sustrik&gt;  thanks!</div>
<div class="line">[Tuesday 11 May 2010] [10:22:35] &lt;sjampoo&gt;  it is not mine issue</div>
<div class="line">[Tuesday 11 May 2010] [10:22:41] &lt;sjampoo&gt;  but i removed my comment</div>
<div class="line">[Tuesday 11 May 2010] [10:23:50] &lt;sustrik&gt;  ah, sorry</div>
<div class="line">[Tuesday 11 May 2010] [13:53:49] &lt;CIA-15&gt;   jzmq: 03Martin Sustrik 07master * r556eac8 10/ src/Socket.cpp : memleak in recv fixed - <a class="reference external" href="http://bit.ly/cZR4HX">http://bit.ly/cZR4HX</a></div>
<div class="line">[Wednesday 12 May 2010] [01:01:56] &lt;<a href="#id13"><span class="problematic" id="id14">joshua__</span></a>&gt;   hi</div>
<div class="line">[Wednesday 12 May 2010] [01:02:15] &lt;<a href="#id13"><span class="problematic" id="id15">joshua__</span></a>&gt;   I&#8217;ve been having trouble using ZMQ_P2P socket types</div>
<div class="line">[Wednesday 12 May 2010] [01:02:51] &lt;<a href="#id13"><span class="problematic" id="id16">joshua__</span></a>&gt;   are there any examples around that use it successfully?</div>
<div class="line">[Wednesday 12 May 2010] [01:19:19] &lt;guido_g&gt;    try to specify an ip address on both sides</div>
<div class="line">[Wednesday 12 May 2010] [01:19:56] &lt;guido_g&gt;    you gave the interface to bind on the server side</div>
<div class="line">[Wednesday 12 May 2010] [01:20:06] &lt;guido_g&gt;    just an idea, of course :)</div>
<div class="line">[Wednesday 12 May 2010] [01:26:10] &lt;<a href="#id13"><span class="problematic" id="id17">joshua__</span></a>&gt;   so for the server, instead of &#8220;<a class="reference external" href="tcp://lo:5555">tcp://lo:5555</a>&#8221; bind &#8220;<a class="reference external" href="tcp://127.0.0.1:5555">tcp://127.0.0.1:5555</a>&#8221;?</div>
<div class="line">[Wednesday 12 May 2010] [01:32:07] &lt;guido_g&gt;    yes</div>
<div class="line">[Wednesday 12 May 2010] [01:40:16] &lt;<a href="#id13"><span class="problematic" id="id18">joshua__</span></a>&gt;   hmm, it only works if I do send/receive pairs</div>
<div class="line">[Wednesday 12 May 2010] [01:40:48] &lt;<a href="#id13"><span class="problematic" id="id19">joshua__</span></a>&gt;   I can&#8217;t get just one to send something to the other</div>
<div class="line">[Wednesday 12 May 2010] [01:42:04] &lt;sustrik&gt;    <a href="#id13"><span class="problematic" id="id20">joshua__</span></a>: presumably, that&#8217;s because you close the sender app before it has chance to send the data</div>
<div class="line">[Wednesday 12 May 2010] [01:42:26] &lt;<a href="#id13"><span class="problematic" id="id21">joshua__</span></a>&gt;   ah, the sender doesn&#8217;t block?</div>
<div class="line">[Wednesday 12 May 2010] [01:42:49] &lt;sustrik&gt;    no, it&#8217;s async</div>
<div class="line">[Wednesday 12 May 2010] [01:42:57] &lt;sustrik&gt;    that&#8217;s what MQ means</div>
<div class="line">[Wednesday 12 May 2010] [01:43:28] &lt;<a href="#id13"><span class="problematic" id="id22">joshua__</span></a>&gt;   :D</div>
<div class="line">[Wednesday 12 May 2010] [02:47:53] &lt;sjampoo&gt;    morning!</div>
<div class="line">[Wednesday 12 May 2010] [03:22:24] &lt;sustrik&gt;    morning!</div>
<div class="line">[Wednesday 12 May 2010] [04:00:12] &lt;mike&gt;   sustrik: ping</div>
<div class="line">[Wednesday 12 May 2010] [04:00:32] &lt;sustrik&gt;    pong</div>
<div class="line">[Wednesday 12 May 2010] [04:01:18] &lt;mike8901&gt;   hey - I&#8217;m working with joshua on a project - I know you guys talked a bit. Is it possible to block until all sends have completed?</div>
<div class="line">[Wednesday 12 May 2010] [04:01:41] &lt;mike8901&gt;   joshua discovered the hard way that zmq won&#8217;t keep your program alive</div>
<div class="line">[Wednesday 12 May 2010] [04:04:25] &lt;sustrik&gt;    no, there&#8217;s no way to do so &#8211; it would result in deadlock if the peer in unavailable</div>
<div class="line">[Wednesday 12 May 2010] [04:04:43] &lt;<a href="#id13"><span class="problematic" id="id23">joshua__</span></a>&gt;   fun</div>
<div class="line">[Wednesday 12 May 2010] [04:04:48] &lt;sustrik&gt;    you have to send acknowledgement by hand</div>
<div class="line">[Wednesday 12 May 2010] [04:04:49] &lt;mike8901&gt;   so what is the recommended way to deal with the situation in which a client sends messages to a server, then exits?</div>
<div class="line">[Wednesday 12 May 2010] [04:05:02] &lt;mike8901&gt;   hm</div>
<div class="line">[Wednesday 12 May 2010] [04:05:05] &lt;sustrik&gt;    is it a request/reply scenario?</div>
<div class="line">[Wednesday 12 May 2010] [04:05:22] &lt;mike8901&gt;   yes, but the reply may not come from the same peer</div>
<div class="line">[Wednesday 12 May 2010] [04:05:29] &lt;mike8901&gt;   basically, we have a central server doling out work to slaves</div>
<div class="line">[Wednesday 12 May 2010] [04:05:38] &lt;mike8901&gt;   and the slaves can talk to each other and redistribute work if needed</div>
<div class="line">[Wednesday 12 May 2010] [04:05:59] &lt;mike8901&gt;   each piece of work has a unique ID attached to it, and a reply will come from <em>some</em> slave, but we don&#8217;t know which</div>
<div class="line">[Wednesday 12 May 2010] [04:06:15] &lt;sustrik&gt;    that doesn&#8217;t matter imo</div>
<div class="line">[Wednesday 12 May 2010] [04:06:20] &lt;sustrik&gt;    just wait for reply</div>
<div class="line">[Wednesday 12 May 2010] [04:06:27] &lt;sustrik&gt;    and everything will works as expected</div>
<div class="line">[Wednesday 12 May 2010] [04:07:16] &lt;mike8901&gt;   yeah, I actually think this is a non-issue</div>
<div class="line">[Wednesday 12 May 2010] [04:07:21] &lt;sjampoo&gt;    If you don&#8217;t even care about a reply, you could use the callback on the message object and implement something that blocks your self.</div>
<div class="line">[Wednesday 12 May 2010] [04:08:24] &lt;sustrik&gt;    yes, but caution is needed as the callback is called from different thread</div>
<div class="line">[Wednesday 12 May 2010] [04:13:22] &lt;mike8901&gt;   does zmq have a more appropriate topology than zmq_p2p for doing a round-robin distribution scheme? we&#8217;re ending up having to have a vector of locks to each socket, which seems a little wasteful.</div>
<div class="line">[Wednesday 12 May 2010] [04:14:53] &lt;sustrik&gt;    p2p does no distribution...</div>
<div class="line">[Wednesday 12 May 2010] [04:15:02] &lt;sustrik&gt;    use DOWNSTREAM</div>
<div class="line">[Wednesday 12 May 2010] [04:16:47] &lt;mike8901&gt;   ok, will look into that - thanks</div>
<div class="line">[Wednesday 12 May 2010] [04:17:09] &lt;mike8901&gt;   also, does zmq have a way to get a callback when data is available on a socket? we&#8217;re wasting a lot of time polling every socket on a separate thread now...</div>
<div class="line">[Wednesday 12 May 2010] [04:20:38] &lt;mike8901&gt;   though that may be a function of us just &#8220;doing it wrong&#8221; by having many sockets, and polling them all in a nonblocking manner</div>
<div class="line">[Wednesday 12 May 2010] [04:22:52] &lt;sjampoo&gt;    You can use zmq_poll to poll them all at once and fire callbacks from there, no? Or are you trying to do something different?</div>
<div class="line">[Wednesday 12 May 2010] [04:24:39] &lt;mike8901&gt;   only issue with zmq_poll is that a different thread could be accessing a given socket</div>
<div class="line">[Wednesday 12 May 2010] [04:25:58] &lt;mike8901&gt;   right now we use mutexes to prevent this, before checking with &#8220;recv&#8221; to see if data is available.</div>
<div class="line">[Wednesday 12 May 2010] [04:26:10] &lt;mikko&gt;  A MQ context is thread safe and may be shared among as many application threads as the application has requested using the app_threads parameter to zmq_init(), without any additional locking required on the part of the caller. Each MQ socket belonging to a particular context may only be used by the thread that created it using zmq_socket().</div>
<div class="line">[Wednesday 12 May 2010] [04:26:59] &lt;sustrik&gt;    mike8901: what exactly are you trying to achieve?</div>
<div class="line">[Wednesday 12 May 2010] [04:27:09] &lt;sustrik&gt;    you have a thread that owns 1 socket, right?</div>
<div class="line">[Wednesday 12 May 2010] [04:27:35] &lt;sustrik&gt;    you want to wait till there&#8217;s message available in the socket, no?</div>
<div class="line">[Wednesday 12 May 2010] [04:28:43] &lt;mike8901&gt;   Currently (this may not be the best architecture) we have a setup thread which connects to all the clients using a zmq_p2p model, sticks each socket into a vector, then spawns off a thread to send events to other zmq sockets, as well as a thread to recieve events from zmq sockets.</div>
<div class="line">[Wednesday 12 May 2010] [04:29:17] &lt;mike8901&gt;   and (this may not be correct; we haven&#8217;t gotten code running yet), we use a vector of mutexes to prevent access to each socket</div>
<div class="line">[Wednesday 12 May 2010] [04:29:51] &lt;sustrik&gt;    what do you want to do? load balance the messages among N sockets?</div>
<div class="line">[Wednesday 12 May 2010] [04:30:00] &lt;mike8901&gt;   yes, in a round-robin manner</div>
<div class="line">[Wednesday 12 May 2010] [04:30:12] &lt;sustrik&gt;    use DOWNSTREAM socket</div>
<div class="line">[Wednesday 12 May 2010] [04:30:17] &lt;mike8901&gt;   okay, I&#8217;ll look into that</div>
<div class="line">[Wednesday 12 May 2010] [04:30:19] &lt;sustrik&gt;    you&#8217;ll have a single socket</div>
<div class="line">[Wednesday 12 May 2010] [04:30:28] &lt;sustrik&gt;    it&#8217;ll do all the hard work for you</div>
<div class="line">[Wednesday 12 May 2010] [04:30:34] &lt;mike8901&gt;   but can I still have another thread polling for recieving messages?</div>
<div class="line">[Wednesday 12 May 2010] [04:30:58] &lt;sustrik&gt;    yes, but there should be another socket there</div>
<div class="line">[Wednesday 12 May 2010] [04:31:05] &lt;mike8901&gt;   oh ok</div>
<div class="line">[Wednesday 12 May 2010] [04:31:06] &lt;sustrik&gt;    presumable UPSTREAM one</div>
<div class="line">[Wednesday 12 May 2010] [04:31:25] &lt;sustrik&gt;    that one merges messages from many sources</div>
<div class="line">[Wednesday 12 May 2010] [04:32:47] &lt;mike8901&gt;   I&#8217;m a bit tired to look at that now, but I&#8217;ll read through <a class="reference external" href="http://www.zeromq.org/tutorials:butterfly">http://www.zeromq.org/tutorials:butterfly</a> tomorrow. Thanks for your help!</div>
<div class="line">[Wednesday 12 May 2010] [04:32:59] &lt;sustrik&gt;    np</div>
<div class="line">[Wednesday 12 May 2010] [04:47:47] &lt;mike8901&gt;   oh - one last quick question before I go off to bed: how do you get the list of peers to ZMQ_UPSTREAM? <a class="reference external" href="http://github.com/sustrik/jbutterfly/blob/master/gonzo/Component.java">http://github.com/sustrik/jbutterfly/blob/master/gonzo/Component.java</a> specifies an &#8220;inp-interface,&#8221; but I&#8217;m not sure what that looks like.</div>
<div class="line">[Wednesday 12 May 2010] [04:48:36] &lt;sustrik&gt;    you don&#8217;t have a list of peers</div>
<div class="line">[Wednesday 12 May 2010] [04:48:45] &lt;sustrik&gt;    0mq should manage it for you</div>
<div class="line">[Wednesday 12 May 2010] [04:49:03] &lt;mike8901&gt;   er, I guess the question is more appropriate for ZMQ_DOWNSTREAM</div>
<div class="line">[Wednesday 12 May 2010] [04:49:14] &lt;sustrik&gt;    same applies to any socket type</div>
<div class="line">[Wednesday 12 May 2010] [04:49:20] &lt;mike8901&gt;   now, I&#8217;m really confused ;)</div>
<div class="line">[Wednesday 12 May 2010] [04:49:27] &lt;sustrik&gt;    the peers are managed by the library</div>
<div class="line">[Wednesday 12 May 2010] [04:49:36] &lt;mike8901&gt;   how is it done though? using some multicast?</div>
<div class="line">[Wednesday 12 May 2010] [04:49:37] &lt;sustrik&gt;    it&#8217;s transparant to the user</div>
<div class="line">[Wednesday 12 May 2010] [04:49:59] &lt;sustrik&gt;    you can opt for multicast but it&#8217;s not necessary</div>
<div class="line">[Wednesday 12 May 2010] [04:50:06] &lt;mike8901&gt;   how do the peers find each other?</div>
<div class="line">[Wednesday 12 May 2010] [04:50:13] &lt;mike8901&gt;   or rather</div>
<div class="line">[Wednesday 12 May 2010] [04:50:14] &lt;sustrik&gt;    via address</div>
<div class="line">[Wednesday 12 May 2010] [04:50:20] &lt;mike8901&gt;   but how do you specify the address?</div>
<div class="line">[Wednesday 12 May 2010] [04:50:28] &lt;mike8901&gt;   <a href="#id5"><span class="problematic" id="id6">*</span></a>addresses</div>
<div class="line">[Wednesday 12 May 2010] [04:50:38] &lt;mike8901&gt;   the connect function takes in a single address</div>
<div class="line">[Wednesday 12 May 2010] [04:50:54] &lt;sustrik&gt;    yes, the connecting side speaks to a single peer</div>
<div class="line">[Wednesday 12 May 2010] [04:51:03] &lt;sustrik&gt;    the binding side speaks to multiple peers</div>
<div class="line">[Wednesday 12 May 2010] [04:51:30] &lt;mike8901&gt;   ah, that may be an issue then....</div>
<div class="line">[Wednesday 12 May 2010] [04:51:50] &lt;mike8901&gt;   our &#8220;root&#8221; node is going to be transient, and needs to be able to connect to the slaves at will</div>
<div class="line">[Wednesday 12 May 2010] [04:52:10] &lt;sustrik&gt;    you can connect multiple time is needed&#8221;</div>
<div class="line">[Wednesday 12 May 2010] [04:52:16] &lt;sustrik&gt;    s.connect (A);</div>
<div class="line">[Wednesday 12 May 2010] [04:52:18] &lt;sustrik&gt;    s.connect (B)</div>
<div class="line">[Wednesday 12 May 2010] [04:52:20] &lt;sustrik&gt;    etc.</div>
<div class="line">[Wednesday 12 May 2010] [04:52:23] &lt;mike8901&gt;   oh ok</div>
<div class="line">[Wednesday 12 May 2010] [04:52:45] &lt;mike8901&gt;   so the root can use a downstream socket, and just call connect for each addr</div>
<div class="line">[Wednesday 12 May 2010] [04:53:08] &lt;mike8901&gt;   is there an easy way to establish a corresponding upstream socket, without bothering to pass the server&#8217;s IP to the clients?</div>
<div class="line">[Wednesday 12 May 2010] [04:53:57] &lt;sustrik&gt;    server? upstream? what applications there are?</div>
<div class="line">[Wednesday 12 May 2010] [04:54:01] &lt;mike8901&gt;   okay, sorry</div>
<div class="line">[Wednesday 12 May 2010] [04:54:05] &lt;mike8901&gt;   let me explain my application in detail</div>
<div class="line">[Wednesday 12 May 2010] [04:54:09] &lt;mikko&gt;  maybe dns?</div>
<div class="line">[Wednesday 12 May 2010] [04:54:23] &lt;mike8901&gt;   we&#8217;re implementing a distributed compiler(on top of clang)</div>
<div class="line">[Wednesday 12 May 2010] [04:54:42] &lt;sustrik&gt;    mikko: possibly, but let&#8217;s first listen to the use case</div>
<div class="line">[Wednesday 12 May 2010] [04:54:56] &lt;mike8901&gt;   the &#8220;master&#8221; is spawned on demand on the user&#8217;s computer</div>
<div class="line">[Wednesday 12 May 2010] [04:55:10] &lt;mike8901&gt;   the &#8220;slaves&#8221; will always be listening for work to process(i.e. files to compile to object code)</div>
<div class="line">[Wednesday 12 May 2010] [04:55:30] &lt;mike8901&gt;   the &#8220;master&#8221; is not guaranteed to always be running; it is only up for the duration of the compile</div>
<div class="line">[Wednesday 12 May 2010] [04:55:42] &lt;sustrik&gt;    how many masters there may be?</div>
<div class="line">[Wednesday 12 May 2010] [04:55:48] &lt;mike8901&gt;   for now, just 1</div>
<div class="line">[Wednesday 12 May 2010] [04:55:59] &lt;mike8901&gt;   but the master is transient</div>
<div class="line">[Wednesday 12 May 2010] [04:56:05] &lt;sustrik&gt;    so 1 client, 1 master, N workers</div>
<div class="line">[Wednesday 12 May 2010] [04:56:12] &lt;mike8901&gt;   yes</div>
<div class="line">[Wednesday 12 May 2010] [04:56:16] &lt;mike8901&gt;   but the client/master are transient</div>
<div class="line">[Wednesday 12 May 2010] [04:56:33] &lt;mike8901&gt;   well, the client will stay around until work it needs is done</div>
<div class="line">[Wednesday 12 May 2010] [04:56:50] &lt;sustrik&gt;    how does the interaction pattern looks like?</div>
<div class="line">[Wednesday 12 May 2010] [04:56:57] &lt;sustrik&gt;    client sends a request</div>
<div class="line">[Wednesday 12 May 2010] [04:57:07] &lt;sustrik&gt;    master dispatches it to one worker</div>
<div class="line">[Wednesday 12 May 2010] [04:57:12] &lt;sustrik&gt;    worker processes it</div>
<div class="line">[Wednesday 12 May 2010] [04:57:17] &lt;sustrik&gt;    sends reply to the master</div>
<div class="line">[Wednesday 12 May 2010] [04:57:24] &lt;sustrik&gt;    master forwards the reply to client</div>
<div class="line">[Wednesday 12 May 2010] [04:57:27] &lt;sustrik&gt;    is that it?</div>
<div class="line">[Wednesday 12 May 2010] [04:57:29] &lt;mike8901&gt;   yes</div>
<div class="line">[Wednesday 12 May 2010] [04:57:33] &lt;mike8901&gt;   well</div>
<div class="line">[Wednesday 12 May 2010] [04:57:58] &lt;mike8901&gt;   there&#8217;s not really any client-master interaction now..</div>
<div class="line">[Wednesday 12 May 2010] [04:58:17] &lt;sustrik&gt;    ok, so let&#8217;s drop the clinet from the scheme</div>
<div class="line">[Wednesday 12 May 2010] [04:58:32] &lt;mike8901&gt;   (there is technically, but we use UNIX sockets for that now)</div>
<div class="line">[Wednesday 12 May 2010] [04:58:33] &lt;sustrik&gt;    master sends request to a worker</div>
<div class="line">[Wednesday 12 May 2010] [04:58:40] &lt;sustrik&gt;    worker replies back to the master</div>
<div class="line">[Wednesday 12 May 2010] [04:58:42] &lt;sustrik&gt;    right?</div>
<div class="line">[Wednesday 12 May 2010] [04:58:43] &lt;mike8901&gt;   yep</div>
<div class="line">[Wednesday 12 May 2010] [04:58:57] &lt;mike8901&gt;   well</div>
<div class="line">[Wednesday 12 May 2010] [04:59:06] &lt;mike8901&gt;   workers are not necesssarily the same, but yes</div>
<div class="line">[Wednesday 12 May 2010] [04:59:07] &lt;mike8901&gt;   that&#8217;s the idea</div>
<div class="line">[Wednesday 12 May 2010] [04:59:18] &lt;sustrik&gt;    thay are not the same?</div>
<div class="line">[Wednesday 12 May 2010] [04:59:29] &lt;sustrik&gt;    what&#8217;s the difference?</div>
<div class="line">[Wednesday 12 May 2010] [04:59:32] &lt;mike8901&gt;   well, we&#8217;re implementing work queue stealing, so if one worker runs out of work, it can ask another for work.</div>
<div class="line">[Wednesday 12 May 2010] [04:59:56] &lt;sustrik&gt;    hm, what is that good for?</div>
<div class="line">[Wednesday 12 May 2010] [04:59:59] &lt;mike8901&gt;   so the master may not recieve the response from the worker it sent the request to</div>
<div class="line">[Wednesday 12 May 2010] [05:00:10] &lt;sustrik&gt;    why not let the master load balance the work?</div>
<div class="line">[Wednesday 12 May 2010] [05:00:31] &lt;mike8901&gt;   the master is going to be overloaded preprocessing(ahmdahl&#8217;s law) - we want the slaves to load balance amongst themselves</div>
<div class="line">[Wednesday 12 May 2010] [05:02:11] &lt;sustrik&gt;    the master has to send the requests anyway, no?</div>
<div class="line">[Wednesday 12 May 2010] [05:02:17] &lt;mike8901&gt;   yes</div>
<div class="line">[Wednesday 12 May 2010] [05:02:30] &lt;mike8901&gt;   the requests are going to be of varying size though</div>
<div class="line">[Wednesday 12 May 2010] [05:02:38] &lt;mike8901&gt;   as with any project, you&#8217;ll have really small source files and really large ones</div>
<div class="line">[Wednesday 12 May 2010] [05:03:09] &lt;mike8901&gt;   it&#8217;s inevitable that some slaves will run out of work, and we want the slaves to be able to steal work off each other&#8217;s queues</div>
<div class="line">[Wednesday 12 May 2010] [05:03:44] &lt;sustrik&gt;    so what you want to avoid queueing, right?</div>
<div class="line">[Wednesday 12 May 2010] [05:04:00] &lt;sustrik&gt;    at most one request dispatched to the worker at time</div>
<div class="line">[Wednesday 12 May 2010] [05:04:05] &lt;mike8901&gt;   no</div>
<div class="line">[Wednesday 12 May 2010] [05:04:12] &lt;mike8901&gt;   we want the slaves to maintain a queue</div>
<div class="line">[Wednesday 12 May 2010] [05:04:24] &lt;mike8901&gt;   so that if another slave asks slave A for work, it can provide it to slave B</div>
<div class="line">[Wednesday 12 May 2010] [05:04:59] &lt;sustrik&gt;    yes, i understand, but what&#8217;s the point?</div>
<div class="line">[Wednesday 12 May 2010] [05:05:04] &lt;mike8901&gt;   to load balance</div>
<div class="line">[Wednesday 12 May 2010] [05:05:21] &lt;sustrik&gt;    why not load-balance upfront?</div>
<div class="line">[Wednesday 12 May 2010] [05:05:33] &lt;sustrik&gt;    rather than messing with queues and reassigning the work?</div>
<div class="line">[Wednesday 12 May 2010] [05:05:39] &lt;mike8901&gt;   it&#8217;s impossible to exactly load balance up front... each request could take an arbitrary amount of time</div>
<div class="line">[Wednesday 12 May 2010] [05:06:00] &lt;sustrik&gt;    say you send at most one request to each worker at time</div>
<div class="line">[Wednesday 12 May 2010] [05:06:12] &lt;sustrik&gt;    when it responds you send another request</div>
<div class="line">[Wednesday 12 May 2010] [05:06:14] &lt;sustrik&gt;    etc.</div>
<div class="line">[Wednesday 12 May 2010] [05:06:21] &lt;sustrik&gt;    wouldn&#8217;t that solve the problem?</div>
<div class="line">[Wednesday 12 May 2010] [05:06:23] &lt;mike8901&gt;   right, that takes up overhead on the master</div>
<div class="line">[Wednesday 12 May 2010] [05:06:45] &lt;sustrik&gt;    but the master has to send the requests anyway</div>
<div class="line">[Wednesday 12 May 2010] [05:06:53] &lt;sustrik&gt;    what overhead do you have in mind?</div>
<div class="line">[Wednesday 12 May 2010] [05:07:01] &lt;mike8901&gt;   for one, memory overhead</div>
<div class="line">[Wednesday 12 May 2010] [05:07:08] &lt;sustrik&gt;    akc</div>
<div class="line">[Wednesday 12 May 2010] [05:07:16] &lt;mike8901&gt;   queueing the requests will take away from the preprocessor&#8217;s cache</div>
<div class="line">[Wednesday 12 May 2010] [05:07:37] &lt;sustrik&gt;    ok, i see</div>
<div class="line">[Wednesday 12 May 2010] [05:07:56] &lt;mike8901&gt;   basically, we want as little burdon as possible to be on the master</div>
<div class="line">[Wednesday 12 May 2010] [05:08:03] &lt;sustrik&gt;    what about having a separate load-balancer node then?</div>
<div class="line">[Wednesday 12 May 2010] [05:08:39] &lt;mike8901&gt;   that sounds like it would add a whole other layer of inefficency- now the source has to travel <em>twice</em> over the network</div>
<div class="line">[Wednesday 12 May 2010] [05:08:57] &lt;mike8901&gt;   and you have half the effective bandwidth</div>
<div class="line">[Wednesday 12 May 2010] [05:09:02] &lt;mike8901&gt;   or maybe even less</div>
<div class="line">[Wednesday 12 May 2010] [05:10:40] &lt;mike8901&gt;   anyway, sorry to cut this discussion short(really enjoyed talking with you), but it&#8217;s 4:10am and I&#8217;m exhausted. I&#8217;d love to continue this some other time(before Monday at 9am though ;) ).</div>
<div class="line">[Wednesday 12 May 2010] [05:10:48] &lt;sustrik&gt;    sure</div>
<div class="line">[Wednesday 12 May 2010] [05:10:55] &lt;sustrik&gt;    good night!</div>
<div class="line">[Wednesday 12 May 2010] [05:11:01] &lt;mike8901&gt;   (Monday at 9am is the deadline for this project - yes, we&#8217;re screwed) ;)</div>
<div class="line">[Wednesday 12 May 2010] [05:11:03] &lt;mike8901&gt;   night!</div>
<div class="line">[Wednesday 12 May 2010] [05:11:14] &lt;sjampoo&gt;    heh</div>
<div class="line">[Wednesday 12 May 2010] [05:11:26] &lt;sjampoo&gt;    goodnight and goodluck :)</div>
<div class="line">[Wednesday 12 May 2010] [05:32:33] &lt;sjampoo&gt;    sustrik: i am getting &#8220;Assertion failed: fetched (rep.cpp:265)&#8221; with a REQ/REP socket on messages larger than about 8k</div>
<div class="line">[Wednesday 12 May 2010] [05:32:36] &lt;sjampoo&gt;    what could be causing this?</div>
<div class="line">[Wednesday 12 May 2010] [05:32:48] &lt;sustrik&gt;    let me see</div>
<div class="line">[Wednesday 12 May 2010] [05:33:08] &lt;sjampoo&gt;    Seems to be something that didn&#8217;t happen on 2.0.6</div>
<div class="line">[Wednesday 12 May 2010] [05:33:44] &lt;sustrik&gt;    sjampoo: what peer socket types is connected to your REP socket?</div>
<div class="line">[Wednesday 12 May 2010] [05:33:58] &lt;sjampoo&gt;    REQ</div>
<div class="line">[Wednesday 12 May 2010] [05:34:20] &lt;sustrik&gt;    then it&#8217;s a bug</div>
<div class="line">[Wednesday 12 May 2010] [05:34:27] &lt;sustrik&gt;    can you report it please?</div>
<div class="line">[Wednesday 12 May 2010] [05:34:37] &lt;sustrik&gt;    test program would help</div>
<div class="line">[Wednesday 12 May 2010] [05:34:42] &lt;sjampoo&gt;    i cannot really reproduce it with C code ;/</div>
<div class="line">[Wednesday 12 May 2010] [05:35:08] &lt;sustrik&gt;    hm, which binding it appears with?</div>
<div class="line">[Wednesday 12 May 2010] [05:35:18] &lt;sjampoo&gt;    PyZMQ</div>
<div class="line">[Wednesday 12 May 2010] [05:35:30] &lt;sjampoo&gt;    and local_lat / remote_lat</div>
<div class="line">[Wednesday 12 May 2010] [05:35:45] &lt;sjampoo&gt;    (the perf benchmark)</div>
<div class="line">[Wednesday 12 May 2010] [05:36:35] &lt;sustrik&gt;    i would then suggest reporting it as problem with pyzmq</div>
<div class="line">[Wednesday 12 May 2010] [05:37:04] &lt;sjampoo&gt;    what could be causing it?</div>
<div class="line">[Wednesday 12 May 2010] [05:37:05] &lt;sustrik&gt;    brian will presumably pass the issue upstream with more details attached</div>
<div class="line">[Wednesday 12 May 2010] [05:37:43] &lt;sustrik&gt;    dunno, look&#8217;s like the message processed has no body</div>
<div class="line">[Wednesday 12 May 2010] [05:38:15] &lt;sjampoo&gt;    Ok</div>
<div class="line">[Wednesday 12 May 2010] [06:50:55] &lt;CIA-15&gt; zeromq2: 03Brett Cameron 07master * r714a8d5 10/ (5 files): fixes for OpenVMS - <a class="reference external" href="http://bit.ly/9IYypp">http://bit.ly/9IYypp</a></div>
<div class="line">[Wednesday 12 May 2010] [06:50:55] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * r8e5ac10 10/ (7 files in 6 dirs): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/bKeYae">http://bit.ly/bKeYae</a></div>
<div class="line">[Wednesday 12 May 2010] [08:12:43] &lt;sjampoo&gt;    The above issue seems to be a by product of this commit: <a class="reference external" href="http://github.com/sustrik/zeromq2/commit/ad6fa9d0d4f1cf29ce63998d7efe337b1a784ef6">http://github.com/sustrik/zeromq2/commit/ad6fa9d0d4f1cf29ce63998d7efe337b1a784ef6</a></div>
<div class="line">[Wednesday 12 May 2010] [08:14:50] &lt;sustrik&gt;    sjampoo: yes, that&#8217;s when the functionality was introduced</div>
<div class="line">[Wednesday 12 May 2010] [10:21:01] &lt;mato&gt;   sustrik: are you there?</div>
<div class="line">[Wednesday 12 May 2010] [10:21:17] &lt;sustrik&gt;    mato: hi</div>
<div class="line">[Wednesday 12 May 2010] [10:21:29] &lt;mato&gt;   sustrik: I want to revert those atomics changes you committed</div>
<div class="line">[Wednesday 12 May 2010] [10:21:35] &lt;sustrik&gt;    yes, sure</div>
<div class="line">[Wednesday 12 May 2010] [10:22:03] &lt;mato&gt;   while I&#8217;m at it, can I remove the native SPARC ops? They are #ifdef-ed out in any case</div>
<div class="line">[Wednesday 12 May 2010] [10:22:15] &lt;mato&gt;   also, in the current git atomic_bitmap is gone, this is correct?</div>
<div class="line">[Wednesday 12 May 2010] [10:22:20] &lt;sustrik&gt;    ack</div>
<div class="line">[Wednesday 12 May 2010] [10:22:33] &lt;mato&gt;   so we have just atomic_counter and atomic_ptr, right?</div>
<div class="line">[Wednesday 12 May 2010] [10:22:40] &lt;sustrik&gt;    SPARC: sure, go on, it&#8217;s commented out for 2 years now or so :)</div>
<div class="line">[Wednesday 12 May 2010] [10:22:43] &lt;sustrik&gt;    right</div>
<div class="line">[Wednesday 12 May 2010] [10:23:04] &lt;mato&gt;   I&#8217;m surprised you committed those changes without asking for review :-(</div>
<div class="line">[Wednesday 12 May 2010] [10:23:19] &lt;mato&gt;   anyway, no harm done, I&#8217;ll put back the old code</div>
<div class="line">[Wednesday 12 May 2010] [10:25:13] &lt;sustrik&gt;    no way of check everyting, i&#8217;m committing in optimistic fashion</div>
<div class="line">[Wednesday 12 May 2010] [10:25:20] &lt;sjampoo&gt;    sustrik: that commit introduces multihop, but i am not using that functionality as i have two req/rep sockets connected directly. Anyway i can reproduce it right now, i probably had too many versions lying around. I&#8217;ll make an issue</div>
<div class="line">[Wednesday 12 May 2010] [10:25:46] &lt;sustrik&gt;    sjampoo: yes, please</div>
<div class="line">[Wednesday 12 May 2010] [10:25:48] &lt;mato&gt;   sustrik: sure, but you know I spent time on that code, so you could have waited till I got back from holiday</div>
<div class="line">[Wednesday 12 May 2010] [10:26:49] &lt;sustrik&gt;    mato: do you want to become a maintainer for particular subset of files?</div>
<div class="line">[Wednesday 12 May 2010] [10:26:53] &lt;sustrik&gt;    say the atomics?</div>
<div class="line">[Wednesday 12 May 2010] [10:27:29] &lt;mato&gt;   I kind of assumed I was, sice I spent time on it</div>
<div class="line">[Wednesday 12 May 2010] [10:27:46] &lt;mato&gt;   same for doc/*</div>
<div class="line">[Wednesday 12 May 2010] [10:27:58] &lt;sustrik&gt;    ok, let&#8217;s make this more formal so that obvious who&#8217;s responsible for what</div>
<div class="line">[Wednesday 12 May 2010] [10:28:09] &lt;mato&gt;   if you like</div>
<div class="line">[Wednesday 12 May 2010] [10:28:29] &lt;sustrik&gt;    definitely</div>
<div class="line">[Wednesday 12 May 2010] [10:35:11] &lt;sustrik&gt;    mato: ok, i&#8217;ve written down the list of components in the project</div>
<div class="line">[Wednesday 12 May 2010] [10:35:32] &lt;sustrik&gt;    what&#8217;s the common way of listing maintainers?</div>
<div class="line">[Wednesday 12 May 2010] [10:35:48] &lt;mato&gt;   MAINTAINERS file in source tree</div>
<div class="line">[Wednesday 12 May 2010] [10:35:53] &lt;sustrik&gt;    in root?</div>
<div class="line">[Wednesday 12 May 2010] [10:35:56] &lt;mato&gt;   yeah</div>
<div class="line">[Wednesday 12 May 2010] [10:35:59] &lt;sustrik&gt;    ok</div>
<div class="line">[Wednesday 12 May 2010] [10:36:08] &lt;mato&gt;   with Component, Name (of maintainer), Email address</div>
<div class="line">[Wednesday 12 May 2010] [10:36:12] &lt;mato&gt;   or some format like that</div>
<div class="line">[Wednesday 12 May 2010] [10:36:13] &lt;sustrik&gt;    ack</div>
<div class="line">[Wednesday 12 May 2010] [10:36:33] &lt;sustrik&gt;    what about the autotools build</div>
<div class="line">[Wednesday 12 May 2010] [10:36:38] &lt;sustrik&gt;    would you like to maintain that?</div>
<div class="line">[Wednesday 12 May 2010] [10:37:01] &lt;mato&gt;   not really, but you can add me in there as a point of contact</div>
<div class="line">[Wednesday 12 May 2010] [10:37:20] &lt;sustrik&gt;    ok, so it&#8217;s autotools, docs &amp; atomics</div>
<div class="line">[Wednesday 12 May 2010] [10:37:22] &lt;sustrik&gt;    ok?</div>
<div class="line">[Wednesday 12 May 2010] [10:37:31] &lt;mato&gt;   yeah</div>
<div class="line">[Wednesday 12 May 2010] [10:44:16] &lt;mato&gt;   you should of course add in yourself (with an address of the mailing list) as the maintainer for &#8220;everything else&#8221;</div>
<div class="line">[Wednesday 12 May 2010] [10:46:19] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * r127cb89 10/ MAINTAINERS : MAINTAINERS file added - <a class="reference external" href="http://bit.ly/aEumLZ">http://bit.ly/aEumLZ</a></div>
<div class="line">[Wednesday 12 May 2010] [10:46:46] &lt;sustrik&gt;    done</div>
<div class="line">[Wednesday 12 May 2010] [10:50:07] &lt;CIA-15&gt; zeromq2: 03Martin Lucina 07master * r52ef3f3 10/ (src/atomic_counter.hpp src/atomic_ptr.hpp):</div>
<div class="line">[Wednesday 12 May 2010] [10:50:07] &lt;CIA-15&gt; zeromq2: Revert commit 7cb076e, atomic ops cleanup</div>
<div class="line">[Wednesday 12 May 2010] [10:50:07] &lt;CIA-15&gt; zeromq2: Reverted to using atomic.h on NetBSD</div>
<div class="line">[Wednesday 12 May 2010] [10:50:07] &lt;CIA-15&gt; zeromq2: Removed GNU builtins (see <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-May/003485.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-May/003485.html</a>)</div>
<div class="line">[Wednesday 12 May 2010] [10:50:07] &lt;CIA-15&gt; zeromq2: Removed SPARC native atomic ops as they are untested and have been commented out for years</div>
<div class="line">[Wednesday 12 May 2010] [10:50:08] &lt;CIA-15&gt; zeromq2: Add &#8220;memory&#8221; to asm clobber for X86 atomic_counter::sub() - <a class="reference external" href="http://bit.ly/buhvIA">http://bit.ly/buhvIA</a></div>
<div class="line">[Wednesday 12 May 2010] [10:50:09] &lt;CIA-15&gt; zeromq2: 03Martin Lucina 07master * rf6c1c97 10/ (6 files in 2 dirs): Merge branch &#8216;master&#8217; of github.com:sustrik/zeromq2 - http://bit.ly/cNQN1Z</div>
<div class="line">[Thursday 13 May 2010] [06:41:53] &lt;CIA-15&gt;  zeromq2: 03Steven McCoy 07master * r56262d7 10/ src/pgm_socket.cpp : some more sanity checks in pgm_socket - <a class="reference external" href="http://bit.ly/9iFGS0">http://bit.ly/9iFGS0</a></div>
<div class="line">[Thursday 13 May 2010] [06:41:54] &lt;CIA-15&gt;  zeromq2: 03Martin Sustrik 07master * rff9d398 10/ (src/atomic_counter.hpp src/atomic_ptr.hpp): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/aOkSQz">http://bit.ly/aOkSQz</a></div>
<div class="line">[Thursday 13 May 2010] [06:44:12] &lt;CIA-15&gt;  zeromq2: 03Steven McCoy 07master * r6705a3d 10/ src/pgm_socket.cpp : some more sanity checks in pgm_socket - <a class="reference external" href="http://bit.ly/czRKrS">http://bit.ly/czRKrS</a></div>
<div class="line">[Thursday 13 May 2010] [06:45:57] &lt;Kronuz&gt;  Hello</div>
<div class="line">[Thursday 13 May 2010] [06:47:03] &lt;Kronuz&gt;  I&#8217;m investigating about queues, and something I read made me think twice about 0mq... persistence</div>
<div class="line">[Thursday 13 May 2010] [06:47:30] &lt;Kronuz&gt;  does it have a way yet to make messages survive reboots?</div>
<div class="line">[Thursday 13 May 2010] [06:48:13] &lt;Kronuz&gt;  (supposedly RabbitMQ does, I&#8217;m between the two systems)</div>
<div class="line">[Thursday 13 May 2010] [06:49:05] &lt;Kronuz&gt;  ...but if it doesn&#8217;t, what&#8217;s the position about the subject, or why doesn&#8217;t it?</div>
<div class="line">[Thursday 13 May 2010] [06:55:46] &lt;sustrik&gt; it doesn&#8217;t have it, rabbitmq does</div>
<div class="line">[Friday 14 May 2010] [05:32:09] &lt;dodobas&gt;   yello</div>
<div class="line">[Friday 14 May 2010] [05:32:22] &lt;dodobas&gt;   where can i find refernce for config files</div>
<div class="line">[Friday 14 May 2010] [05:33:19] &lt;dodobas&gt;   im trying to run zmq_queue</div>
<div class="line">[Friday 14 May 2010] [05:38:49] &lt;dodobas&gt;   can 0mq bu used like amqp broker, similar to rabbitmq</div>
<div class="line">[Friday 14 May 2010] [05:39:12] &lt;guido_g&gt;   not really, because there is no broker</div>
<div class="line">[Friday 14 May 2010] [05:42:41] &lt;dodobas&gt;   so, there is no amqp support?</div>
<div class="line">[Friday 14 May 2010] [05:43:05] &lt;guido_g&gt;   no</div>
<div class="line">[Friday 14 May 2010] [05:43:37] &lt;dodobas&gt;   im trying to find an replacement for rabbitmq, which is interfaced through py-amqp</div>
<div class="line">[Friday 14 May 2010] [05:44:15] &lt;guido_g&gt;   then 0mq is not an option</div>
<div class="line">[Friday 14 May 2010] [05:44:22] &lt;dodobas&gt;   and 0mq is refernced as an amqp message broker implementation</div>
<div class="line">[Friday 14 May 2010] [05:44:31] &lt;dodobas&gt;   too bad</div>
<div class="line">[Friday 14 May 2010] [05:44:33] &lt;guido_g&gt;   but if you&#8217;re willing to leave amqp... :)</div>
<div class="line">[Friday 14 May 2010] [05:44:59] &lt;guido_g&gt;   0mq is not related to amqp</div>
<div class="line">[Friday 14 May 2010] [05:45:07] &lt;guido_g&gt;   at least technically</div>
<div class="line">[Friday 14 May 2010] [05:45:20] &lt;dodobas&gt;   sorry, ill be back in an hour</div>
<div class="line">[Friday 14 May 2010] [05:45:22] &lt;guido_g&gt;   the refernce in question is wrong then</div>
<div class="line">[Friday 14 May 2010] [06:37:41] &lt;dodobas&gt;   guido_g: for instance <a class="reference external" href="http://packages.python.org/qam/introduction.html">http://packages.python.org/qam/introduction.html</a></div>
<div class="line">[Friday 14 May 2010] [06:49:52] &lt;guido_g&gt;   so? it&#8217;s plain wrong</div>
<div class="line">[Friday 14 May 2010] [06:52:08] &lt;sjampoo&gt;   0MQ had some AMQP support in earlier versions but this has been dropped and the project has moved on</div>
<div class="line">[Friday 14 May 2010] [06:53:32] &lt;sjampoo&gt;   read some more info here: <a class="reference external" href="http://lists.openamq.org/pipermail/openamq-dev/2010-March/001598.html">http://lists.openamq.org/pipermail/openamq-dev/2010-March/001598.html</a></div>
<div class="line">[Friday 14 May 2010] [07:35:04] &lt;dodobas&gt;   guido_g: i now understand :D</div>
<div class="line">[Friday 14 May 2010] [07:35:23] &lt;guido_g&gt;   fine</div>
<div class="line">[Friday 14 May 2010] [07:36:08] &lt;dodobas&gt;   but, if every article refrences 0mq, as AMQP, its hard not to be wrong :D</div>
<div class="line">[Friday 14 May 2010] [07:37:34] &lt;guido_g&gt;   huh? every article?</div>
<div class="line">[Friday 14 May 2010] [07:37:49] &lt;dodobas&gt;   &#8216;almost&#8217;</div>
<div class="line">[Friday 14 May 2010] [07:39:53] &lt;dodobas&gt;   i&#8217;ve found this short message <a class="reference external" href="http://is.gd/c8EF6">http://is.gd/c8EF6</a></div>
<div class="line">[Friday 14 May 2010] [07:40:31] &lt;dodobas&gt;   it doesn&#8217;t really matter, thanks guido_g for clalification</div>
<div class="line">[Friday 14 May 2010] [07:40:35] &lt;dodobas&gt;   <a href="#id7"><span class="problematic" id="id8">*</span></a>clarification</div>
<div class="line">[Friday 14 May 2010] [07:54:43] &lt;sustrik&gt;   the AMQP issue is explained in FAQs</div>
<div class="line">[Friday 14 May 2010] [07:55:00] &lt;sustrik&gt;   not sure what else can be done...</div>
<div class="line">[Friday 14 May 2010] [10:29:42] &lt;cremes&gt;    sustrik: any plans for a flush command on sockets to remove all queued messages?</div>
<div class="line">[Friday 14 May 2010] [10:30:58] &lt;cremes&gt;    use case: an application-level request has timed out, so any late response needs to be discarded</div>
<div class="line">[Friday 14 May 2010] [10:57:43] &lt;mike8901&gt;  Has anyone used a zeromq app with mpirun?</div>
<div class="line">[Friday 14 May 2010] [10:58:59] &lt;mike8901&gt;  i.e. using an MPI cluster to bootstrap into zeromq</div>
<div class="line">[Friday 14 May 2010] [11:08:29] &lt;sustrik&gt;   cremes: yes, there&#8217;s a plan for adding timeouts for req/rep scenario</div>
<div class="line">[Friday 14 May 2010] [11:08:51] &lt;sustrik&gt;   mike8901: i am not aware of it, but you may ask on the mailing list</div>
<div class="line">[Friday 14 May 2010] [11:10:02] &lt;cremes&gt;    how about a flush function for sockets?</div>
<div class="line">[Friday 14 May 2010] [11:14:02] &lt;sustrik&gt;   cremes: what&#8217;s the connection between flush and timeouts?</div>
<div class="line">[Friday 14 May 2010] [11:14:39] &lt;cremes&gt;    i have a use case where i am using req/rep sockets as a command channel and pub/sub</div>
<div class="line">[Friday 14 May 2010] [11:14:43] &lt;cremes&gt;    sockets for data transfer</div>
<div class="line">[Friday 14 May 2010] [11:15:16] &lt;cremes&gt;    if the req/rep times out, i need to flush the sub socket if the data shows up late</div>
<div class="line">[Friday 14 May 2010] [11:15:29] &lt;cremes&gt;    make sense?</div>
<div class="line">[Friday 14 May 2010] [11:15:43] &lt;sustrik&gt;   flush = drop all the outstanding messages?</div>
<div class="line">[Friday 14 May 2010] [11:15:51] &lt;cremes&gt;    yes</div>
<div class="line">[Friday 14 May 2010] [11:16:33] &lt;cremes&gt;    since these sockets represent queues, shouldn&#8217;t there be a way to flush them out?</div>
<div class="line">[Friday 14 May 2010] [11:17:07] &lt;sustrik&gt;   hm, you can read and drop the messages, no?</div>
<div class="line">[Friday 14 May 2010] [11:18:09] &lt;cremes&gt;    yes i can, but isn&#8217;t the lib doing work behind the scenes to populate the zmq_msg_t? an explicit flush in the lib could avoid that, yes?</div>
<div class="line">[Friday 14 May 2010] [11:18:39] &lt;sustrik&gt;   no, the whole thing is zero-copy</div>
<div class="line">[Friday 14 May 2010] [11:18:53] &lt;sustrik&gt;   meaning that data are read to zmq_msg_t as they arrive from the network</div>
<div class="line">[Friday 14 May 2010] [11:19:01] &lt;cremes&gt;    oh, i see</div>
<div class="line">[Friday 14 May 2010] [11:19:16] &lt;sustrik&gt;   when you recv, the actual work is copying some 40 bytes or so</div>
<div class="line">[Friday 14 May 2010] [11:19:21] &lt;sustrik&gt;   almost nothing</div>
<div class="line">[Friday 14 May 2010] [11:19:26] &lt;cremes&gt;    then i can create my own flush at close to zero processing cost</div>
<div class="line">[Friday 14 May 2010] [11:19:36] &lt;cremes&gt;    never mind then!</div>
<div class="line">[Friday 14 May 2010] [11:19:43] &lt;sustrik&gt;   yes, even if it where implemented inside 0mq</div>
<div class="line">[Friday 14 May 2010] [11:19:50] &lt;sustrik&gt;   it would have to do the same thing</div>
<div class="line">[Friday 14 May 2010] [11:20:12] &lt;sustrik&gt;   (read &amp; drop messages)</div>
<div class="line">[Friday 14 May 2010] [15:10:34] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07master * r7d4c37b 10/ (6 files in 2 dirs): Fixing various bugs and updating to latest 0MQ master. - <a class="reference external" href="http://bit.ly/b7nV9i">http://bit.ly/b7nV9i</a></div>
<div class="line">[Friday 14 May 2010] [15:51:23] &lt;OldNugget&gt; meta-a /input jump_smart</div>
<div class="line">[Friday 14 May 2010] [15:52:11] &lt;OldNugget&gt; oops... sorry</div>
<div class="line">[Friday 14 May 2010] [18:14:24] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07testing * rc4bdbab 10/ (11 files in 4 dirs): Trying to get out of jail. - <a class="reference external" href="http://bit.ly/bQ3QjY">http://bit.ly/bQ3QjY</a></div>
<div class="line">[Friday 14 May 2010] [18:19:39] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07testing * r6441176 10/ zmq/tests/test_context.py : Finish cleaning up after merge. - <a class="reference external" href="http://bit.ly/bs4HBR">http://bit.ly/bs4HBR</a></div>
<div class="line">[Friday 14 May 2010] [18:20:07] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07master * rc4bdbab 10/ (11 files in 4 dirs): Trying to get out of jail. - <a class="reference external" href="http://bit.ly/bQ3QjY">http://bit.ly/bQ3QjY</a></div>
<div class="line">[Friday 14 May 2010] [18:20:08] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07master * r6441176 10/ zmq/tests/test_context.py : Finish cleaning up after merge. - <a class="reference external" href="http://bit.ly/bs4HBR">http://bit.ly/bs4HBR</a></div>
<div class="line">[Saturday 15 May 2010] [05:04:34] &lt;fishinz&gt; hey</div>
<div class="line">[Saturday 15 May 2010] [05:04:46] &lt;fishinz&gt; I&#8217;m a little confused about zmq::context_t</div>
<div class="line">[Saturday 15 May 2010] [05:04:52] &lt;fishinz&gt; what&#8217;s that all about?</div>
<div class="line">[Saturday 15 May 2010] [05:05:04] &lt;fishinz&gt; (particularly, i/o threads)</div>
<div class="line">[Saturday 15 May 2010] [05:06:32] &lt;fishinz&gt; and affinity</div>
<div class="line">[Saturday 15 May 2010] [05:32:44] &lt;sustrik&gt; fishinz: there&#8217;s a thread pool in the background</div>
<div class="line">[Saturday 15 May 2010] [05:33:03] &lt;sustrik&gt; to handle network I/O</div>
<div class="line">[Saturday 15 May 2010] [05:38:53] &lt;fishinz&gt; ah</div>
<div class="line">[Saturday 15 May 2010] [05:39:11] &lt;fishinz&gt; hey, ZMQ_UPSTREAM and ZMQ_DOWNSTREAM</div>
<div class="line">[Saturday 15 May 2010] [05:39:28] &lt;fishinz&gt; do sockets for those have to be in hte same thread?</div>
<div class="line">[Saturday 15 May 2010] [05:59:25] &lt;fishinz&gt; nvm, I had context set improperly</div>
<div class="line">[Saturday 15 May 2010] [06:00:08] &lt;sustrik&gt; each socket is owned by exactly one thread</div>
<div class="line">[Saturday 15 May 2010] [06:00:27] &lt;sustrik&gt; but any two sockets can be owned by any two threads</div>
<div class="line">[Saturday 15 May 2010] [06:00:31] &lt;sustrik&gt; no limitrations there</div>
<div class="line">[Saturday 15 May 2010] [06:00:37] &lt;sustrik&gt; limitations*</div>
<div class="line">[Saturday 15 May 2010] [06:03:00] &lt;fishinz&gt; yeah, I just had the context set to 1 app thread</div>
<div class="line">[Saturday 15 May 2010] [06:03:00] &lt;fishinz&gt; silly mistake</div>
<div class="line">[Saturday 15 May 2010] [06:07:37] &lt;sustrik&gt; ok</div>
<div class="line">[Saturday 15 May 2010] [06:38:09] &lt;CIA-15&gt;  zeromq2: 03Jon Dyte 07master * rf40ce4e 10/ (Makefile.am configure.in zmqd/Makefile.am zmqd/zmqd.cpp): single 0MQ daemon (zmqd) - initial version - <a class="reference external" href="http://bit.ly/9B6UHe">http://bit.ly/9B6UHe</a></div>
<div class="line">[Saturday 15 May 2010] [13:29:20]    * LowRider Brand New!Notebooks and LCD TVs.Discounts up to 30%. The newest electronics only <a class="reference external" href="http://www.elplace.com/">http://www.elplace.com/</a></div>
<div class="line">[Saturday 15 May 2010] [18:28:34]    * Sergeo22 Discounts!! Our Special Limited Time Offers Up To May,22!!!New BranD!! Notebooks,Plasma and LCD TV&#8217;s.Buy your electronic needs at our unique prices. Laptop Sony VAIO VGN-FW590FFD-575,57$!!!Apple MacBook Air MC234LL/A-695,27$!!! <a class="reference external" href="http://www.elplace.com/">http://www.elplace.com/</a></div>
<div class="line">[Sunday 16 May 2010] [02:36:20] &lt;mesamino&gt;  hi</div>
<div class="line">[Sunday 16 May 2010] [02:36:46] &lt;mesamino&gt;  I&#8217;m having trouble getting UPSTREAM and DOWNSTREAM processes to communicate</div>
<div class="line">[Sunday 16 May 2010] [02:38:22] &lt;mesamino&gt;  a thread with a downstream socket should connect to a socket that&#8217;s upstream?</div>
<div class="line">[Sunday 16 May 2010] [02:38:41] &lt;mesamino&gt;  while a thread with an upstream socket should bind the socket?</div>
<div class="line">[Sunday 16 May 2010] [02:39:53] &lt;guido_g&gt;   yes, see <a class="reference external" href="http://www.zeromq.org/docs:cookbook#toc4">http://www.zeromq.org/docs:cookbook#toc4</a> for source</div>
<div class="line">[Sunday 16 May 2010] [02:40:54] &lt;mesamino&gt;  zmq:context_t, should this be on heap? or is it okay to keep it on the stack?</div>
<div class="line">[Sunday 16 May 2010] [02:41:28] &lt;guido_g&gt;   depends on your application</div>
<div class="line">[Sunday 16 May 2010] [02:49:00] &lt;mesamino&gt;  that example...</div>
<div class="line">[Sunday 16 May 2010] [02:49:25] &lt;mesamino&gt;  receive_replies.cpp binds inp_socket, connects to out_socket</div>
<div class="line">[Sunday 16 May 2010] [02:50:18] &lt;mesamino&gt;  send_requests.cpp binds both</div>
<div class="line">[Sunday 16 May 2010] [02:52:51] &lt;mesamino&gt;  why does it do that?</div>
<div class="line">[Sunday 16 May 2010] [02:52:51] &lt;mesamino&gt;  does that not cause an error</div>
<div class="line">[Sunday 16 May 2010] [02:52:51] &lt;mesamino&gt;  ?</div>
<div class="line">[Sunday 16 May 2010] [02:53:10] &lt;guido_g&gt;   and component connects to both... now i&#8217;m puzzled</div>
<div class="line">[Sunday 16 May 2010] [02:53:52] &lt;guido_g&gt;   no idea, i&#8217;m myself trying to lern the mq way</div>
<div class="line">[Sunday 16 May 2010] [02:58:25] &lt;mesamino&gt;  I have a thread that creates an upstream socket, binds it and waits for a message</div>
<div class="line">[Sunday 16 May 2010] [02:58:49] &lt;mesamino&gt;  another program has a thread that creates a downstream socket, connects to the upstream socket</div>
<div class="line">[Sunday 16 May 2010] [02:58:55] &lt;mesamino&gt;  and then sends a message</div>
<div class="line">[Sunday 16 May 2010] [02:59:11] &lt;mesamino&gt;  and the first thread never gets that message</div>
<div class="line">[Sunday 16 May 2010] [02:59:26] &lt;guido_g&gt;   try th reverse the process</div>
<div class="line">[Sunday 16 May 2010] [02:59:35] &lt;guido_g&gt;   <a href="#id9"><span class="problematic" id="id10">*</span></a>to</div>
<div class="line">[Sunday 16 May 2010] [03:00:05] &lt;mesamino&gt;  connect to the socket before creating it?</div>
<div class="line">[Sunday 16 May 2010] [03:00:25] &lt;mesamino&gt;  errr</div>
<div class="line">[Sunday 16 May 2010] [03:00:25] &lt;guido_g&gt;   <em>sigh</em></div>
<div class="line">[Sunday 16 May 2010] [03:00:28] &lt;mesamino&gt;  binding it</div>
<div class="line">[Sunday 16 May 2010] [03:01:03] &lt;guido_g&gt;   no, create donwstram socket, bind it</div>
<div class="line">[Sunday 16 May 2010] [03:01:19] &lt;guido_g&gt;   create upstream and connect to downstream</div>
<div class="line">[Sunday 16 May 2010] [03:01:28] &lt;mesamino&gt;  ah, ok</div>
<div class="line">[Sunday 16 May 2010] [03:01:31] &lt;guido_g&gt;   i think this is the way it should work</div>
<div class="line">[Sunday 16 May 2010] [03:11:42] &lt;mesamino&gt;  :(</div>
<div class="line">[Sunday 16 May 2010] [03:11:45] &lt;mesamino&gt;  no luck</div>
<div class="line">[Sunday 16 May 2010] [03:12:11] &lt;guido_g&gt;   sorry, w/o seeing the code it&#8217;s hard to tell what&#8217;s wrong</div>
<div class="line">[Sunday 16 May 2010] [03:12:48] &lt;mesamino&gt;  yeah, the code&#8217;s just messy, I&#8217;m working on getting a simpler version up</div>
<div class="line">[Sunday 16 May 2010] [03:35:43] &lt;mesamino&gt;  hold on</div>
<div class="line">[Sunday 16 May 2010] [03:35:55] &lt;mesamino&gt;  perhaps this is what&#8217;s wrong</div>
<div class="line">[Sunday 16 May 2010] [03:36:08] &lt;mesamino&gt;  I need one of those component intermediaries</div>
<div class="line">[Sunday 16 May 2010] [03:36:57] &lt;mesamino&gt;  do receive_replies.cpp and send_requests.cpp interact through component.cpp?</div>
<div class="line">[Sunday 16 May 2010] [03:37:09] &lt;guido_g&gt;   yes</div>
<div class="line">[Sunday 16 May 2010] [03:37:42] &lt;guido_g&gt;   the flow is: send -&gt; omponent -&gt; [more components -&gt;] receive</div>
<div class="line">[Sunday 16 May 2010] [07:09:15] &lt;pennysworth&gt;   hello</div>
<div class="line">[Sunday 16 May 2010] [07:09:49] &lt;pennysworth&gt;   can one bind a remote socket with zeromq, or should you only connect remotely?</div>
<div class="line">[Sunday 16 May 2010] [13:17:00] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07master * raf88bf5 10/ (11 files in 4 dirs): Updating examples to new APIs. - <a class="reference external" href="http://bit.ly/9paeDK">http://bit.ly/9paeDK</a></div>
<div class="line">[Sunday 16 May 2010] [14:28:02] &lt;versificateur&gt; hello everyone</div>
<div class="line">[Sunday 16 May 2010] [14:42:11] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07master * r75f61fa 10/ (examples/kernel/kernel.py examples/kernel/session.py): Updated kernel example to new APIs. - <a class="reference external" href="http://bit.ly/aknf4N">http://bit.ly/aknf4N</a></div>
<div class="line">[Sunday 16 May 2010] [15:52:50] &lt;versificateur&gt; hello</div>
<div class="line">[Sunday 16 May 2010] [16:07:31] &lt;versificateur&gt; hello</div>
<div class="line">[Sunday 16 May 2010] [17:08:23] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07nocopy * rbe0d6c8 10/ (perf/local_lat.py perf/remote_lat.py zmq/_zmq.c zmq/_zmq.pyx): New basic version of non-copying send using just strings. - <a class="reference external" href="http://bit.ly/96s6V2">http://bit.ly/96s6V2</a></div>
<div class="line">[Monday 17 May 2010] [03:24:40] &lt;mike8901&gt;  what&#8217;s the prefered way to typeset zeromq in LaTex? :) varnothing?</div>
<div class="line">[Monday 17 May 2010] [03:38:44] &lt;sustrik&gt;   :)</div>
<div class="line">[Monday 17 May 2010] [03:39:04] &lt;sustrik&gt;   i personally prefer varnothing</div>
<div class="line">[Monday 17 May 2010] [03:39:14] &lt;sustrik&gt;   others may prefer 0MQ or ZeroMQ</div>
<div class="line">[Monday 17 May 2010] [03:45:27] &lt;foob&gt;  hey</div>
<div class="line">[Monday 17 May 2010] [03:45:36] &lt;foob&gt;  is there a zeromq latex macro?</div>
<div class="line">[Monday 17 May 2010] [04:10:30] &lt;sustrik&gt;   foob: what exactly do you mean?</div>
<div class="line">[Monday 17 May 2010] [04:26:18] &lt;mike8901&gt;  joshua, was just talking about this with sustrik :)</div>
<div class="line">[Monday 17 May 2010] [04:26:25] &lt;mike8901&gt;  varnothing is the way to go</div>
<div class="line">[Monday 17 May 2010] [09:42:36] &lt;cremes&gt;    sustrik: question on cppbutterfly example regarding bind versus connect</div>
<div class="line">[Monday 17 May 2010] [09:43:12] &lt;cremes&gt;    why does the send_requests program bind to a DOWNSTREAM socket? i thought transmission implied a &#8220;connect&#8221;</div>
<div class="line">[Monday 17 May 2010] [09:45:21] &lt;cremes&gt;    similar question for the component program; it connects to an UPSTREAM socket though it only receives data</div>
<div class="line">[Monday 17 May 2010] [09:45:29] &lt;cremes&gt;    i thought reception implied &#8220;bind&#8221;</div>
<div class="line">[Monday 17 May 2010] [09:45:42] &lt;cremes&gt;    ping me if you get a chance</div>
<div class="line">[Monday 17 May 2010] [10:26:50] &lt;sustrik&gt;   cremes: ping</div>
<div class="line">[Monday 17 May 2010] [10:26:54] &lt;sustrik&gt;   let me see</div>
<div class="line">[Monday 17 May 2010] [10:27:14] &lt;sustrik&gt;   (it was gonzalo diethelm who wrote the example)</div>
<div class="line">[Monday 17 May 2010] [10:27:23] &lt;cremes&gt;    sustrik: pong</div>
<div class="line">[Monday 17 May 2010] [10:27:53] &lt;sustrik&gt;   looking at butterfly...</div>
<div class="line">[Monday 17 May 2010] [10:28:38] &lt;sustrik&gt;   ok, i see</div>
<div class="line">[Monday 17 May 2010] [10:28:51] &lt;guido_g&gt;   ahhh... pipelines...</div>
<div class="line">[Monday 17 May 2010] [10:29:17] &lt;guido_g&gt;   what is the best way of delivering error messages back to the originator of a message?</div>
<div class="line">[Monday 17 May 2010] [10:29:26] &lt;sustrik&gt;   cremes: have a look here: <a class="reference external" href="http://www.zeromq.org/tutorials:butterfly#toc7">http://www.zeromq.org/tutorials:butterfly#toc7</a></div>
<div class="line">[Monday 17 May 2010] [10:29:37] &lt;sustrik&gt;   guido_g: req/rep</div>
<div class="line">[Monday 17 May 2010] [10:29:53] &lt;sustrik&gt;   or you mean in piplined model?</div>
<div class="line">[Monday 17 May 2010] [10:30:03] &lt;guido_g&gt;   in pipelined model</div>
<div class="line">[Monday 17 May 2010] [10:30:20] &lt;sustrik&gt;   the errors are usually logged rather than returned</div>
<div class="line">[Monday 17 May 2010] [10:30:22] &lt;cremes&gt;    yes, i stepped through that example; what should i look at</div>
<div class="line">[Monday 17 May 2010] [10:30:28] &lt;guido_g&gt;   let&#8217;s say than one of the processes in stage 3 of a pipeline decides that there is an error</div>
<div class="line">[Monday 17 May 2010] [10:30:30] &lt;sustrik&gt;   the diagram</div>
<div class="line">[Monday 17 May 2010] [10:30:44] &lt;sustrik&gt;   note that there are N component1&#8217;s</div>
<div class="line">[Monday 17 May 2010] [10:30:58] &lt;sustrik&gt;   each of them _connects_ to send_requests application</div>
<div class="line">[Monday 17 May 2010] [10:31:07] &lt;sustrik&gt;   thus send_requests has to bind</div>
<div class="line">[Monday 17 May 2010] [10:31:20] &lt;sustrik&gt;   guido_g: yes?</div>
<div class="line">[Monday 17 May 2010] [10:31:39] &lt;cremes&gt;    ah...</div>
<div class="line">[Monday 17 May 2010] [10:31:40] &lt;guido_g&gt;   so given the picture we&#8217;re looking at</div>
<div class="line">[Monday 17 May 2010] [10:32:20] &lt;guido_g&gt;   every intermediate needs to have an error exit back to the process which created the message in question</div>
<div class="line">[Monday 17 May 2010] [10:32:31] &lt;guido_g&gt;   or something along the lines</div>
<div class="line">[Monday 17 May 2010] [10:32:36] &lt;sustrik&gt;   guido_g: does it?</div>
<div class="line">[Monday 17 May 2010] [10:32:45] &lt;cremes&gt;    since send_requests has no knowledge of how many component1s there <em>might</em> be, it binds to a socket;</div>
<div class="line">[Monday 17 May 2010] [10:32:48] &lt;guido_g&gt;   how would you do it?</div>
<div class="line">[Monday 17 May 2010] [10:33:04] &lt;sustrik&gt;   the point with pipelined model is that messages are passed downstream an forgotten</div>
<div class="line">[Monday 17 May 2010] [10:33:12] &lt;cremes&gt;    then the component1s can connect to it and maybe in some cases be transient (disappear after a while) without send_requests caring</div>
<div class="line">[Monday 17 May 2010] [10:33:29] &lt;sustrik&gt;   thus returning the error to particular point of the pipeline makes little sense</div>
<div class="line">[Monday 17 May 2010] [10:33:40] &lt;cremes&gt;    it just pumps data to the socket and the lib handles the round-robin to each component1</div>
<div class="line">[Monday 17 May 2010] [10:33:43] &lt;guido_g&gt;   ahh no</div>
<div class="line">[Monday 17 May 2010] [10:33:48] &lt;cremes&gt;    i think i get it</div>
<div class="line">[Monday 17 May 2010] [10:34:06] &lt;guido_g&gt;   sustrik: i&#8217;ll try to explain the (imagined) problem better</div>
<div class="line">[Monday 17 May 2010] [10:34:14] &lt;sustrik&gt;   cremes: yes, that&#8217;s the point</div>
<div class="line">[Monday 17 May 2010] [10:34:19] &lt;sustrik&gt;   components are transient</div>
<div class="line">[Monday 17 May 2010] [10:34:24] &lt;sustrik&gt;   guid_g: go on</div>
<div class="line">[Monday 17 May 2010] [10:35:19] &lt;sustrik&gt;   cremes: that way you can add more components when the load is big</div>
<div class="line">[Monday 17 May 2010] [10:35:24] &lt;cremes&gt;    sustrik: next question; would a REQ socket bind to an address if it might have N possible components connecting to it via a REP socket?</div>
<div class="line">[Monday 17 May 2010] [10:35:43] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 17 May 2010] [10:35:50] &lt;cremes&gt;    ok</div>
<div class="line">[Monday 17 May 2010] [10:37:26] &lt;cremes&gt;    sustrik: thanks for helping me out; i need to think about this some more...</div>
<div class="line">[Monday 17 May 2010] [10:38:41] &lt;sustrik&gt;   cremes: no problem</div>
<div class="line">[Monday 17 May 2010] [10:39:46] &lt;sustrik&gt;   we are about to make a video about the basic messaging patters so questions from people actually struggling to understand it are pretty valueable</div>
<div class="line">[Monday 17 May 2010] [10:40:11] &lt;guido_g&gt;   better description, i hope: <a class="reference external" href="http://paste.pocoo.org/show/214874/">http://paste.pocoo.org/show/214874/</a></div>
<div class="line">[Monday 17 May 2010] [10:40:22] &lt;cremes&gt;    no one struggles more than me! ;)</div>
<div class="line">[Monday 17 May 2010] [10:41:09] &lt;sustrik&gt;   :)</div>
<div class="line">[Monday 17 May 2010] [10:41:26] &lt;sustrik&gt;   guido_g: all the errors are sent to a single originating node?</div>
<div class="line">[Monday 17 May 2010] [10:41:40] &lt;guido_g&gt;   to the originating node of this message</div>
<div class="line">[Monday 17 May 2010] [10:41:50] &lt;sustrik&gt;   are there many of them?</div>
<div class="line">[Monday 17 May 2010] [10:42:00] &lt;guido_g&gt;   yes, probably</div>
<div class="line">[Monday 17 May 2010] [10:42:16] &lt;sustrik&gt;   what about the replies?</div>
<div class="line">[Monday 17 May 2010] [10:42:21] &lt;sustrik&gt;   ain&#8217;t there any?</div>
<div class="line">[Monday 17 May 2010] [10:42:34] &lt;guido_g&gt;   who needs replies? :)</div>
<div class="line">[Monday 17 May 2010] [10:43:06] &lt;sustrik&gt;   error is kind of reply, i would assume that if there are errors passed back the replie should be passed back as well</div>
<div class="line">[Monday 17 May 2010] [10:43:07] &lt;guido_g&gt;   in the pure pipeline the last stage would generate the replies, right?</div>
<div class="line">[Monday 17 May 2010] [10:43:25] &lt;sustrik&gt;   right</div>
<div class="line">[Monday 17 May 2010] [10:43:46] &lt;sustrik&gt;   i just don&#8217;t get why the errors are to be delivered back to the originating node is the replies are not</div>
<div class="line">[Monday 17 May 2010] [10:43:57] &lt;guido_g&gt;   both are</div>
<div class="line">[Monday 17 May 2010] [10:44:00] &lt;guido_g&gt;   <em>but</em></div>
<div class="line">[Monday 17 May 2010] [10:44:27] &lt;guido_g&gt;   the error can occur in every stage, where the _normal_ reply comes out of the last stage of the pipeline</div>
<div class="line">[Monday 17 May 2010] [10:44:48] &lt;sustrik&gt;   sure, but why not use the same mechanism for delivering both of them?</div>
<div class="line">[Monday 17 May 2010] [10:45:21] &lt;guido_g&gt;   so one would send the errors downstream and every stage has to hand down further?</div>
<div class="line">[Monday 17 May 2010] [10:45:26] &lt;guido_g&gt;   hmm hmm hmm</div>
<div class="line">[Monday 17 May 2010] [10:45:29] &lt;sustrik&gt;   that&#8217;s one option</div>
<div class="line">[Monday 17 May 2010] [10:45:37] &lt;guido_g&gt;   ok</div>
<div class="line">[Monday 17 May 2010] [10:45:49] &lt;guido_g&gt;   what would be an alternative?</div>
<div class="line">[Monday 17 May 2010] [10:45:50] &lt;sustrik&gt;   how you get the replies back to sender?</div>
<div class="line">[Monday 17 May 2010] [10:46:22] &lt;guido_g&gt;   like in the butterfly diagram</div>
<div class="line">[Monday 17 May 2010] [10:46:31] &lt;guido_g&gt;   last stage reports back</div>
<div class="line">[Monday 17 May 2010] [10:46:43] &lt;sustrik&gt;   how does it know who&#8217;s the originator?</div>
<div class="line">[Monday 17 May 2010] [10:46:50] &lt;guido_g&gt;   my idea was a short-cut for errors detected early in the pipeline</div>
<div class="line">[Monday 17 May 2010] [10:46:51] &lt;sustrik&gt;   in butterfly there&#8217;s only one requester</div>
<div class="line">[Monday 17 May 2010] [10:47:46] &lt;guido_g&gt;   in this example yes</div>
<div class="line">[Monday 17 May 2010] [10:47:53] &lt;sustrik&gt;   guido_g: i am not sure of what you are doing, but let me guess:</div>
<div class="line">[Monday 17 May 2010] [10:48:07] &lt;sustrik&gt;   you want a &#8220;server&#8221; that clients connect to and send messages to</div>
<div class="line">[Monday 17 May 2010] [10:48:09]      * guido_g needs a drawing tool... now! :)</div>
<div class="line">[Monday 17 May 2010] [10:48:18] &lt;sustrik&gt;   they get replies from the &#8220;server&#8221;</div>
<div class="line">[Monday 17 May 2010] [10:48:28] &lt;sustrik&gt;   the &#8220;server&#8221; itself is a pipeline</div>
<div class="line">[Monday 17 May 2010] [10:48:30] &lt;sustrik&gt;   right?</div>
<div class="line">[Monday 17 May 2010] [10:49:08] &lt;guido_g&gt;   yes, the pipeline processes requests originating from &#8211; let&#8217;s say &#8211; lots of web-servers</div>
<div class="line">[Monday 17 May 2010] [10:49:33] &lt;sustrik&gt;   ok, i see</div>
<div class="line">[Monday 17 May 2010] [10:50:33] &lt;sustrik&gt;   so each client has a REQ socket to send request to the pipeline and receive a reply from it</div>
<div class="line">[Monday 17 May 2010] [10:51:01] &lt;sustrik&gt;   pipeline itself has a central node, that gets the requests and sends the replies</div>
<div class="line">[Monday 17 May 2010] [10:51:02] &lt;guido_g&gt;   i thought more of a downstream socket</div>
<div class="line">[Monday 17 May 2010] [10:51:12] &lt;sustrik&gt;   you want to get replies back?</div>
<div class="line">[Monday 17 May 2010] [10:51:20] &lt;sustrik&gt;   that&#8217;s req/rep</div>
<div class="line">[Monday 17 May 2010] [10:51:37] &lt;sustrik&gt;   the internal working of the server may be &#8220;parallelised pipeline&#8221;</div>
<div class="line">[Monday 17 May 2010] [10:51:37] &lt;guido_g&gt;   yes, but not neccessarily the same way i sent the request</div>
<div class="line">[Monday 17 May 2010] [10:51:46] &lt;sustrik&gt;   hm</div>
<div class="line">[Monday 17 May 2010] [10:51:49] &lt;sustrik&gt;   why so?</div>
<div class="line">[Monday 17 May 2010] [10:52:58] &lt;guido_g&gt;   i wanted to circumvent the synchronous nature of the req/rep and simply feed the req down to the pipeline</div>
<div class="line">[Monday 17 May 2010] [10:53:08] &lt;sustrik&gt;   ah, i am getting to that</div>
<div class="line">[Monday 17 May 2010] [10:53:20] &lt;sustrik&gt;   there is XREP/XREQ which are async</div>
<div class="line">[Monday 17 May 2010] [10:53:38] &lt;guido_g&gt;   otherwiese i would need lots of connections on the &#8220;back side&#8221; of the web-servers, which wouldn&#8217;t help them</div>
<div class="line">[Monday 17 May 2010] [10:53:55] &lt;sustrik&gt;   yup, there should be only 1 connection</div>
<div class="line">[Monday 17 May 2010] [10:54:05] &lt;sustrik&gt;   so the webserver is the client</div>
<div class="line">[Monday 17 May 2010] [10:54:34] &lt;sustrik&gt;   if the request are to be sync it owns REQ socket</div>
<div class="line">[Monday 17 May 2010] [10:54:39] &lt;guido_g&gt;   spoken in terms of the messaging patterns, i seem to need something like a n -&gt; 1 thing</div>
<div class="line">[Monday 17 May 2010] [10:54:47] &lt;sustrik&gt;   if it is to be async it owns XREQ socket</div>
<div class="line">[Monday 17 May 2010] [10:55:08] &lt;guido_g&gt;   ok</div>
<div class="line">[Monday 17 May 2010] [10:55:15] &lt;sustrik&gt;   it speaks to a single node that coordinates the pipeline</div>
<div class="line">[Monday 17 May 2010] [10:55:20] &lt;sustrik&gt;   let&#8217;s call it &#8220;coordinator&#8221;</div>
<div class="line">[Monday 17 May 2010] [10:55:34] &lt;sustrik&gt;   coordinator is both beginning and end of the pipeline</div>
<div class="line">[Monday 17 May 2010] [10:55:35] &lt;guido_g&gt;   then i need an intermediate node holding the rep sockets and pushing the messages downstream, right?</div>
<div class="line">[Monday 17 May 2010] [10:55:54] &lt;sustrik&gt;   yes, that&#8217;s the coordinator</div>
<div class="line">[Monday 17 May 2010] [10:56:02] &lt;guido_g&gt;   cool</div>
<div class="line">[Monday 17 May 2010] [10:56:04] &lt;guido_g&gt;   thanks</div>
<div class="line">[Monday 17 May 2010] [10:56:04] &lt;sustrik&gt;   it both sends the messages downstream</div>
<div class="line">[Monday 17 May 2010] [10:56:17] &lt;sustrik&gt;   and passes the replies back to the clients</div>
<div class="line">[Monday 17 May 2010] [10:56:48] &lt;sustrik&gt;   however, you should use trunk version to get the correct behaviour</div>
<div class="line">[Monday 17 May 2010] [10:57:32] &lt;sustrik&gt;   moreover, you should expect that each request will be composed of 2 parts</div>
<div class="line">[Monday 17 May 2010] [10:57:48] &lt;guido_g&gt;   at the moment i&#8217;ll try to wrap my head around the patterns and possibillities</div>
<div class="line">[Monday 17 May 2010] [10:58:04] &lt;sustrik&gt;   ok, let&#8217;s leave the details now</div>
<div class="line">[Monday 17 May 2010] [10:58:14] &lt;sustrik&gt;   in overall i would say you need a pipeline</div>
<div class="line">[Monday 17 May 2010] [10:58:29] &lt;guido_g&gt;   yes, that&#8217;s definite</div>
<div class="line">[Monday 17 May 2010] [10:58:30] &lt;sustrik&gt;   i.e. the same thing as in butterfly example</div>
<div class="line">[Monday 17 May 2010] [10:58:51] &lt;sustrik&gt;   but it&#8217;s endpoint should translate req/rep messages into pipeline messages</div>
<div class="line">[Monday 17 May 2010] [10:59:13] &lt;guido_g&gt;   that&#8217;s the point where i got the problems</div>
<div class="line">[Monday 17 May 2010] [10:59:27] &lt;sustrik&gt;   yes</div>
<div class="line">[Monday 17 May 2010] [10:59:35] &lt;sustrik&gt;   but it&#8217;s not complex</div>
<div class="line">[Monday 17 May 2010] [10:59:46] &lt;guido_g&gt;   how to translate the sync behvaiour into async <em>and</em> collect all information w/o generating uneccessary traffic</div>
<div class="line">[Monday 17 May 2010] [11:00:06] &lt;sustrik&gt;   XREP socket in the &#8220;pipeline coordinator&#8221;</div>
<div class="line">[Monday 17 May 2010] [11:00:39] &lt;guido_g&gt;   which also is the endpoint for the results</div>
<div class="line">[Monday 17 May 2010] [11:00:48] &lt;sustrik&gt;   reight</div>
<div class="line">[Monday 17 May 2010] [11:00:50] &lt;guido_g&gt;   i think i got it :)</div>
<div class="line">[Monday 17 May 2010] [11:00:58] &lt;sustrik&gt;   the pipeline is a circle</div>
<div class="line">[Monday 17 May 2010] [11:01:11] &lt;sustrik&gt;   the clients connect to the coordinator node of the circle</div>
<div class="line">[Monday 17 May 2010] [11:01:30] &lt;guido_g&gt;   hmmm... yes, it&#8217;s a circle</div>
<div class="line">[Monday 17 May 2010] [11:01:34] &lt;guido_g&gt;   how simple...</div>
<div class="line">[Monday 17 May 2010] [11:02:50] &lt;guido_g&gt;   the reduction of the whole messaging into four &#8220;patterns&#8221; is one of the best things since sliced bread :)</div>
<div class="line">[Monday 17 May 2010] [11:03:51] &lt;sustrik&gt;   yeah, i think that&#8217;s the main &#8220;invention&#8221; with 0mq</div>
<div class="line">[Monday 17 May 2010] [11:03:57] &lt;sustrik&gt;   i should patent it :)</div>
<div class="line">[Monday 17 May 2010] [11:04:10] &lt;guido_g&gt;   oh no...</div>
<div class="line">[Monday 17 May 2010] [11:04:23] &lt;sustrik&gt;   no worries</div>
<div class="line">[Monday 17 May 2010] [11:04:26] &lt;guido_g&gt;   then we&#8217;ll call you bill or steve</div>
<div class="line">[Monday 17 May 2010] [11:04:30] &lt;guido_g&gt;   :)</div>
<div class="line">[Monday 17 May 2010] [11:04:58] &lt;sustrik&gt;   actually i rather would like to get it through IETF to make it a prior art</div>
<div class="line">[Monday 17 May 2010] [11:05:27] &lt;sustrik&gt;   no exact idea how though...</div>
<div class="line">[Monday 17 May 2010] [11:05:49] &lt;guido_g&gt;   why is that needed?</div>
<div class="line">[Monday 17 May 2010] [11:06:01] &lt;guido_g&gt;   isn&#8217;t it enough to have a publication with this idea?</div>
<div class="line">[Monday 17 May 2010] [11:06:19] &lt;guido_g&gt;   like an article in the acm queue or something</div>
<div class="line">[Monday 17 May 2010] [11:06:57] &lt;sustrik&gt;   well, that&#8217;s the point, if you publish it as IETF I-D it&#8217;s</div>
<div class="line">[Monday 17 May 2010] [11:07:00] &lt;sustrik&gt;   a) published</div>
<div class="line">[Monday 17 May 2010] [11:07:06] &lt;sustrik&gt;   b) dated</div>
<div class="line">[Monday 17 May 2010] [11:07:36] &lt;sustrik&gt;   c) IETF is a trusted source</div>
<div class="line">[Monday 17 May 2010] [11:07:58] &lt;guido_g&gt;   ok, i didn&#8217;t knew that</div>
<div class="line">[Monday 17 May 2010] [11:08:12] &lt;sustrik&gt;   just my impression :)</div>
<div class="line">[Monday 17 May 2010] [11:08:19] &lt;guido_g&gt;   ahhh i see</div>
<div class="line">[Monday 17 May 2010] [11:08:32] &lt;sustrik&gt;   they published TCP/IP specs</div>
<div class="line">[Monday 17 May 2010] [11:08:41] &lt;sustrik&gt;   so they have to be trusted in a way</div>
<div class="line">[Monday 17 May 2010] [11:09:03] &lt;sustrik&gt;   otherwise the internet as a whole could be attacked by a troll</div>
<div class="line">[Monday 17 May 2010] [11:09:15] &lt;guido_g&gt;   i&#8217;d say that a tracable publication would be enough to have prior art working</div>
<div class="line">[Monday 17 May 2010] [11:09:55] &lt;sustrik&gt;   sure</div>
<div class="line">[Monday 17 May 2010] [11:10:14] &lt;sustrik&gt;   i&#8217;ll try to get that done somehow</div>
<div class="line">[Monday 17 May 2010] [11:11:37] &lt;guido_g&gt;   the video? should be enough :)</div>
<div class="line">[Monday 17 May 2010] [11:13:17] &lt;sustrik&gt;   nor sure about the dating</div>
<div class="line">[Monday 17 May 2010] [11:13:30] &lt;sustrik&gt;   the data can be easily faked in a video</div>
<div class="line">[Monday 17 May 2010] [11:13:36] &lt;guido_g&gt;   right</div>
<div class="line">[Monday 17 May 2010] [11:13:39] &lt;sustrik&gt;   either a scientific journal</div>
<div class="line">[Monday 17 May 2010] [11:13:47] &lt;guido_g&gt;   best would be an article in a (paper) magazine</div>
<div class="line">[Monday 17 May 2010] [11:14:08] &lt;sustrik&gt;   yup, there&#8217;s one at LWN</div>
<div class="line">[Monday 17 May 2010] [11:14:14] &lt;sustrik&gt;   still not sure that&#8217;s enough</div>
<div class="line">[Monday 17 May 2010] [11:14:20] &lt;guido_g&gt;   these are collected by the libraries etc. and need to have a date/issu-no. etc.</div>
<div class="line">[Monday 17 May 2010] [11:14:24] &lt;sustrik&gt;   right</div>
<div class="line">[Monday 17 May 2010] [11:14:38] &lt;guido_g&gt;   if this is not enough, nothing would be</div>
<div class="line">[Monday 17 May 2010] [11:14:43] &lt;sustrik&gt;   one reason i like the IETF way is that&#8217;s easy to publish</div>
<div class="line">[Monday 17 May 2010] [11:14:54] &lt;sustrik&gt;   the magazine may be more complex</div>
<div class="line">[Monday 17 May 2010] [11:15:12] &lt;guido_g&gt;   but for an article in a magazine you do get extra money :)</div>
<div class="line">[Monday 17 May 2010] [11:15:20] &lt;sustrik&gt;   !</div>
<div class="line">[Monday 17 May 2010] [11:15:36] &lt;guido_g&gt;   just an idea though...</div>
<div class="line">[Monday 17 May 2010] [11:16:50] &lt;guido_g&gt;   ahh... my food is arriving</div>
<div class="line">[Monday 17 May 2010] [11:17:32] &lt;sustrik&gt;   bot appettit!</div>
<div class="line">[Monday 17 May 2010] [11:17:39] &lt;sustrik&gt;   bon*</div>
<div class="line">[Monday 17 May 2010] [11:23:04] &lt;bgranger&gt;  sustrik: can a single zmq msg be sent to multiple socket without called zmq_msg_copy?</div>
<div class="line">[Monday 17 May 2010] [11:25:40] &lt;cremes&gt;    is a XREQ/XREP socket the same as REQ/REP passed with ZMQ_NOBLOCK? or are the X* sockets a new beast?</div>
<div class="line">[Monday 17 May 2010] [11:25:55] &lt;sustrik&gt;   bgranger: no, each send &#8220;empties&#8221; the message</div>
<div class="line">[Monday 17 May 2010] [11:26:08] &lt;sustrik&gt;   so you have to copy it to be able to send it twice</div>
<div class="line">[Monday 17 May 2010] [11:26:23] &lt;sustrik&gt;   cremes: no, it&#8217;s kind of different</div>
<div class="line">[Monday 17 May 2010] [11:26:42] &lt;sustrik&gt;   XREQ/XREP have to route the replies to correct requesters</div>
<div class="line">[Monday 17 May 2010] [11:26:54] &lt;bgranger&gt;  sustrik:  OK, but zmq_msg_copy doesn&#8217;t actually copy the data, it simply makes a reference?</div>
<div class="line">[Monday 17 May 2010] [11:26:59] &lt;sustrik&gt;   right</div>
<div class="line">[Monday 17 May 2010] [11:27:55] &lt;bgranger&gt;  OK, we are implementing a Python Message object that will allow us to do non-copying recv&#8217;s and multiple sends.</div>
<div class="line">[Monday 17 May 2010] [11:28:25] &lt;sustrik&gt;   yes, that sound useful</div>
<div class="line">[Monday 17 May 2010] [11:29:02] &lt;cremes&gt;    bgranger: looking forward to seeing that; i can&#8217;t seem to figure out how to do it in ruby</div>
<div class="line">[Monday 17 May 2010] [11:29:19] &lt;bgranger&gt;  When I get a message from a recv, it has a ref count of 1, so it can be sent once correct?</div>
<div class="line">[Monday 17 May 2010] [11:29:30] &lt;cremes&gt;    sustrik: how does XREQ/XREP differ?</div>
<div class="line">[Monday 17 May 2010] [11:29:38] &lt;sustrik&gt;   branger: right</div>
<div class="line">[Monday 17 May 2010] [11:29:45] &lt;bgranger&gt;  cremes:  it has been super subtle to figure out, but I think we have it.  Will post on the list when it is done.</div>
<div class="line">[Monday 17 May 2010] [11:30:00] &lt;cremes&gt;    bgranger: excellent &lt;/burns&gt;</div>
<div class="line">[Monday 17 May 2010] [11:30:24] &lt;sustrik&gt;   cremes: how it works is that XREP socket of receiving a request tags it with identity of the sender, when reply is to be sent it takes the tag and routes the reply to the correct requester</div>
<div class="line">[Monday 17 May 2010] [11:30:57] &lt;cremes&gt;    oh, you&#8217;re building on the multi-part message stuff?</div>
<div class="line">[Monday 17 May 2010] [11:31:05] &lt;sustrik&gt;   yes, that&#8217;s it</div>
<div class="line">[Monday 17 May 2010] [11:31:19] &lt;sustrik&gt;   imagine a REQ sending a request</div>
<div class="line">[Monday 17 May 2010] [11:31:24] &lt;cremes&gt;    ok, so i can have multiple requests &#8220;in flight&#8221; with XREQ</div>
<div class="line">[Monday 17 May 2010] [11:31:33] &lt;sustrik&gt;   you receive it using a XREP on the other side</div>
<div class="line">[Monday 17 May 2010] [11:31:37] &lt;sustrik&gt;   it&#8217;ll look like this&#8221;</div>
<div class="line">[Monday 17 May 2010] [11:31:47]      * cremes waiting...</div>
<div class="line">[Monday 17 May 2010] [11:32:11] &lt;sustrik&gt;   &lt;part1&gt;ApplicationA&lt;part1&gt;&lt;part2&gt;&lt;part2&gt;&lt;part3&gt;my message data&lt;part3&gt;</div>
<div class="line">[Monday 17 May 2010] [11:32:19] &lt;sustrik&gt;   part3 is the data you&#8217;ve sent</div>
<div class="line">[Monday 17 May 2010] [11:32:28] &lt;sustrik&gt;   part1 is the name of the sending application</div>
<div class="line">[Monday 17 May 2010] [11:32:42] &lt;cremes&gt;    ok</div>
<div class="line">[Monday 17 May 2010] [11:32:49] &lt;sustrik&gt;   part2 is empty, it&#8217;s a delimiter splitting the address and your data</div>
<div class="line">[Monday 17 May 2010] [11:33:05] &lt;sustrik&gt;   and yes, you can have many messages in flight</div>
<div class="line">[Monday 17 May 2010] [11:33:55] &lt;cremes&gt;    looking forward to seeing a code example with 2.0.7 :)</div>
<div class="line">[Monday 17 May 2010] [11:39:58] &lt;bgranger&gt;  cremes:  we have some examples of using XREQ in pyzmq in the examples/kernel directory.  It is not a simple example, but shows what can be done.</div>
<div class="line">[Monday 17 May 2010] [11:40:16] &lt;cremes&gt;    bgranger: i&#8217;ll take a look; thanks</div>
<div class="line">[Monday 17 May 2010] [12:20:10] &lt;cremes&gt;    does it make any sense for a socket to both bind and connect to different addresses? if so, what is an example?</div>
<div class="line">[Monday 17 May 2010] [12:21:22] &lt;guido_g&gt;   a socket is either bound or connected, not both afaik</div>
<div class="line">[Monday 17 May 2010] [12:35:16] &lt;sustrik&gt;   cremes: actually, you can do that</div>
<div class="line">[Monday 17 May 2010] [12:35:37] &lt;sustrik&gt;   not sure about use case</div>
<div class="line">[Monday 17 May 2010] [12:35:43] &lt;sustrik&gt;   let me think,,,</div>
<div class="line">[Monday 17 May 2010] [12:36:08] &lt;guido_g&gt;   what would happen?</div>
<div class="line">[Monday 17 May 2010] [12:36:48] &lt;sustrik&gt;   well, you would initiate some connections via connect</div>
<div class="line">[Monday 17 May 2010] [12:37:07] &lt;sustrik&gt;   and peers may initiate other connections via you being bound to a specific port</div>
<div class="line">[Monday 17 May 2010] [12:37:18] &lt;sustrik&gt;   both types of connections would be handled equally</div>
<div class="line">[Monday 17 May 2010] [12:38:26] &lt;sustrik&gt;   ok, use cases are not really natural</div>
<div class="line">[Monday 17 May 2010] [12:38:33] &lt;sustrik&gt;   but let&#8217;s imagine this:</div>
<div class="line">[Monday 17 May 2010] [12:38:41] &lt;sustrik&gt;   i am writing a service</div>
<div class="line">[Monday 17 May 2010] [12:38:53] &lt;sustrik&gt;   i&#8217;ll bind to a port</div>
<div class="line">[Monday 17 May 2010] [12:39:07] &lt;sustrik&gt;   to that clients can connect and ask me to do work</div>
<div class="line">[Monday 17 May 2010] [12:39:43] &lt;sustrik&gt;   additionally, imagine there&#8217;s a big hub for dispatching work on the Internet somewhere</div>
<div class="line">[Monday 17 May 2010] [12:40:22] &lt;sustrik&gt;   i may want to use free cycles on my box to execute foreign requests (for money of course)</div>
<div class="line">[Monday 17 May 2010] [12:40:33] &lt;sustrik&gt;   so i _connect_ my service to the hub</div>
<div class="line">[Monday 17 May 2010] [12:40:59] &lt;sustrik&gt;   now i have a socket that&#8217;s both connected and bound</div>
<div class="line">[Monday 17 May 2010] [12:41:55] &lt;guido_g&gt;   and if one really does that, he might see a lot of exploded heads :)</div>
<div class="line">[Monday 17 May 2010] [12:42:17] &lt;sustrik&gt;   :)</div>
<div class="line">[Monday 17 May 2010] [13:04:36] &lt;cremes&gt;    more bind / connect questions...</div>
<div class="line">[Monday 17 May 2010] [13:05:11] &lt;cremes&gt;    is there anything wrong about having a REQ socket and REP socket both bind to the same address and send/recv to/from each other?</div>
<div class="line">[Monday 17 May 2010] [13:05:53] &lt;cremes&gt;    based on our earlier discussions, this appears to be valid since this setup allows for multiple REQ and REP sockets to communicate in a load balanced manner</div>
<div class="line">[Monday 17 May 2010] [13:06:13] &lt;cremes&gt;    s/address/endpoint/</div>
<div class="line">[Monday 17 May 2010] [13:08:26] &lt;cremes&gt;    when i just tried it (using the local_lat/remote_lat samples) i got an EADDRINUSE error from remote_lat</div>
<div class="line">[Monday 17 May 2010] [13:08:58] &lt;sustrik&gt;   you cannot bind two sockets to the same NIC and port</div>
<div class="line">[Monday 17 May 2010] [13:09:07] &lt;sustrik&gt;   TCP doesn&#8217;t allow for that kind of thing</div>
<div class="line">[Monday 17 May 2010] [13:10:05] &lt;cremes&gt;    sustrik: what about ipc or inproc transports?</div>
<div class="line">[Monday 17 May 2010] [13:10:40] &lt;sustrik&gt;   basically the same thing</div>
<div class="line">[Monday 17 May 2010] [13:10:54] &lt;cremes&gt;    ok</div>
<div class="line">[Monday 17 May 2010] [13:11:09] &lt;cremes&gt;    probably more questions later/tomorrow...</div>
<div class="line">[Monday 17 May 2010] [13:11:21] &lt;cremes&gt;    i hope this is helping for your video!</div>
<div class="line">[Monday 17 May 2010] [13:11:36] &lt;sustrik&gt;   surely it does :)</div>
<div class="line">[Monday 17 May 2010] [16:31:26] &lt;bgranger&gt;  sustrik:  what is the logic for zmq_msg_copy calling zmq_msg_close on the src msg?</div>
<div class="line">[Monday 17 May 2010] [16:32:44] &lt;bgranger&gt;  NEvermind I see now.</div>
<div class="line">[Monday 17 May 2010] [17:41:47] &lt;mikko&gt; what a day.. can&#8217;t do the win builds today</div>
<div class="line">[Monday 17 May 2010] [17:41:50] &lt;mikko&gt; retrying tomorrow</div>
<div class="line">[Monday 17 May 2010] [17:41:55] &lt;mikko&gt; nn</div>
<div class="line">[Tuesday 18 May 2010] [11:02:16] &lt;cremes&gt;   sustrik: question about this code snippet from all of the #xsend functions: <a class="reference external" href="http://pastie.org/965712">http://pastie.org/965712</a></div>
<div class="line">[Tuesday 18 May 2010] [11:02:47] &lt;cremes&gt;   if the data buffer is detached, when zmq_msg_close gets called how does it release that (detached) memory?</div>
<div class="line">[Tuesday 18 May 2010] [11:03:17] &lt;cremes&gt;   it looks to me like the library is orphaning that data buffer</div>
<div class="line">[Tuesday 18 May 2010] [11:03:48] &lt;cremes&gt;   who owns the zmq_msg_t once it is handed off to send? does 0mq own it or the application?</div>
<div class="line">[Tuesday 18 May 2010] [12:47:06] &lt;b1ng0&gt;    hello</div>
<div class="line">[Tuesday 18 May 2010] [12:47:21] &lt;b1ng0&gt;    i had some questions on choosing the right messaging model for my application and could use some help</div>
<div class="line">[Tuesday 18 May 2010] [12:53:17] &lt;b1ng0&gt;    anyone there?</div>
<div class="line">[Tuesday 18 May 2010] [12:58:46] &lt;versificateur&gt;    hello...</div>
<div class="line">[Tuesday 18 May 2010] [12:59:44] &lt;versificateur&gt;    i tried to compile pyzmq on ubtuntu 10.04 but i got this error</div>
<div class="line">[Tuesday 18 May 2010] [13:00:24] &lt;versificateur&gt;    ImportError: /usr/local/lib/python2.6/dist-packages/zmq/_zmq.so: undefined symbol: zmq_getsockopt</div>
<div class="line">[Tuesday 18 May 2010] [13:00:51] &lt;versificateur&gt;    If i could have some help here... :(</div>
<div class="line">[Tuesday 18 May 2010] [13:05:33] &lt;b1ng0&gt;    doesn&#8217;t look like anyone is here</div>
<div class="line">[Tuesday 18 May 2010] [13:06:35] &lt;guido_g&gt;  b1ng0: you should simply ask your questions, meta-questions are ignored mostly</div>
<div class="line">[Tuesday 18 May 2010] [13:06:45] &lt;b1ng0&gt;    oh ok</div>
<div class="line">[Tuesday 18 May 2010] [13:07:32] &lt;b1ng0&gt;    basically i have a server that needs to send a request to another group of servers and then receive data back. i have to send the request to all servers because i don&#8217;t know which one has the data on it that i need</div>
<div class="line">[Tuesday 18 May 2010] [13:07:47] &lt;b1ng0&gt;    so it seems like i need to broadcast the query to all servers</div>
<div class="line">[Tuesday 18 May 2010] [13:07:56] &lt;b1ng0&gt;    and then one of the servers will send a reply back</div>
<div class="line">[Tuesday 18 May 2010] [13:08:12] &lt;b1ng0&gt;    so it seems like a mix of multicast and then send/receive</div>
<div class="line">[Tuesday 18 May 2010] [13:08:20] &lt;b1ng0&gt;    but publish-subscribe also seems like it might work</div>
<div class="line">[Tuesday 18 May 2010] [13:08:47] &lt;guido_g&gt;  yes, sound like pub/sub</div>
<div class="line">[Tuesday 18 May 2010] [13:09:08] &lt;b1ng0&gt;    and why not multicast</div>
<div class="line">[Tuesday 18 May 2010] [13:09:28] &lt;guido_g&gt;  you&#8217;re mixing things a bit, it seems</div>
<div class="line">[Tuesday 18 May 2010] [13:09:42] &lt;guido_g&gt;  multicast is a transport protocol like tcp</div>
<div class="line">[Tuesday 18 May 2010] [13:10:22] &lt;b1ng0&gt;    ok true</div>
<div class="line">[Tuesday 18 May 2010] [13:10:30] &lt;b1ng0&gt;    but why would using tcp be better in this case</div>
<div class="line">[Tuesday 18 May 2010] [13:10:43] &lt;guido_g&gt;  you can of course use multicast (epgm/pgm) w/ pub/sub</div>
<div class="line">[Tuesday 18 May 2010] [13:10:59] &lt;guido_g&gt;  i didn&#8217;t say to use tcp</div>
<div class="line">[Tuesday 18 May 2010] [13:11:25] &lt;b1ng0&gt;    does it make a difference on the size of the messages? the queries could be in the 20K range and the responses would be less</div>
<div class="line">[Tuesday 18 May 2010] [13:11:47] &lt;b1ng0&gt;    ok well that is what i am trying to figure out, should it be multicast with pub/sub or just tcp</div>
<div class="line">[Tuesday 18 May 2010] [13:11:59] &lt;guido_g&gt;  you couldn&#8217;t tell the difference</div>
<div class="line">[Tuesday 18 May 2010] [13:13:32] &lt;b1ng0&gt;    ok i see</div>
<div class="line">[Tuesday 18 May 2010] [13:13:49] &lt;b1ng0&gt;    and then on sending the reply back, it would just use a direct send?</div>
<div class="line">[Tuesday 18 May 2010] [13:13:55] &lt;b1ng0&gt;    to the central server?</div>
<div class="line">[Tuesday 18 May 2010] [13:14:16] &lt;guido_g&gt;  you could use the same channel as for the request</div>
<div class="line">[Tuesday 18 May 2010] [13:14:18] &lt;b1ng0&gt;    or would the central one also subscribe to each of the other servers</div>
<div class="line">[Tuesday 18 May 2010] [13:15:10] &lt;b1ng0&gt;    hm ok i will test it out</div>
<div class="line">[Tuesday 18 May 2010] [13:15:12] &lt;b1ng0&gt;    thank you so much</div>
<div class="line">[Tuesday 18 May 2010] [13:29:17] &lt;guido_g&gt;  versificateur: check if libzmq is found, it&#8217;s needed by _zmq.so</div>
<div class="line">[Tuesday 18 May 2010] [13:56:14] &lt;versificateur&gt;    thanks i&#8217;ll check</div>
<div class="line">[Tuesday 18 May 2010] [13:56:56] &lt;guido_g&gt;  try: ldd /usr/local/lib/python2.6/dist-packages/zmq/_zmq.so</div>
<div class="line">[Tuesday 18 May 2010] [13:57:57] &lt;versificateur&gt;    it&#8217;s work now because i remove debian package i use to install zmq</div>
<div class="line">[Tuesday 18 May 2010] [13:58:25] &lt;versificateur&gt;    and install zmq from source</div>
<div class="line">[Tuesday 18 May 2010] [14:00:53] &lt;cremes&gt;   versificateur: zmq_getsockopt is only available in the github master; you probably have version 2.0.6 installed</div>
<div class="line">[Tuesday 18 May 2010] [14:01:35] &lt;guido_g&gt;  oh... :)</div>
<div class="line">[Tuesday 18 May 2010] [14:01:53] &lt;versificateur&gt;    yeah</div>
<div class="line">[Tuesday 18 May 2010] [14:02:04] &lt;cremes&gt;   heh</div>
<div class="line">[Tuesday 18 May 2010] [14:02:26] &lt;versificateur&gt;    but i finally remove these packages</div>
<div class="line">[Tuesday 18 May 2010] [14:02:46] &lt;versificateur&gt;    and compile with git source</div>
<div class="line">[Tuesday 18 May 2010] [14:03:10] &lt;versificateur&gt;    it seems that everything works</div>
<div class="line">[Tuesday 18 May 2010] [14:03:51] &lt;cremes&gt;   hopefully 2.0.7 will get released soon and the python bindings will be back in sync with a &#8220;supported&#8221; release</div>
<div class="line">[Tuesday 18 May 2010] [14:05:05] &lt;versificateur&gt;    i&#8217;ve another question...</div>
<div class="line">[Tuesday 18 May 2010] [14:06:11] &lt;versificateur&gt;    in a PUB/SUB model how could i make the publisher wait for subscibers connections?</div>
<div class="line">[Tuesday 18 May 2010] [14:06:31] &lt;guido_g&gt;  you don&#8217;t</div>
<div class="line">[Tuesday 18 May 2010] [14:06:41] &lt;guido_g&gt;  it&#8217;s like radio</div>
<div class="line">[Tuesday 18 May 2010] [14:06:54] &lt;guido_g&gt;  you simply don&#8217;t know if someone is listening</div>
<div class="line">[Tuesday 18 May 2010] [14:08:03] &lt;versificateur&gt;    so once publisher started every message not handle by a subscriber is lost?</div>
<div class="line">[Tuesday 18 May 2010] [14:08:17] &lt;guido_g&gt;  right</div>
<div class="line">[Tuesday 18 May 2010] [14:10:22] &lt;versificateur&gt;    ... and when a subscriber is connected it immediately receive update message from publisher. right?</div>
<div class="line">[Tuesday 18 May 2010] [14:10:49] &lt;guido_g&gt;  yes</div>
<div class="line">[Tuesday 18 May 2010] [14:11:35] &lt;versificateur&gt;    thnks a lot</div>
<div class="line">[Tuesday 18 May 2010] [14:11:40] &lt;guido_g&gt;  np</div>
<div class="line">[Tuesday 18 May 2010] [14:13:37] &lt;versificateur&gt;    with all buzz around realtime web (twitter...) is zmq well suited to handle realtime web?</div>
<div class="line">[Tuesday 18 May 2010] [14:13:52] &lt;guido_g&gt;  not at all</div>
<div class="line">[Tuesday 18 May 2010] [14:13:56] &lt;guido_g&gt;  it&#8217;s not web</div>
<div class="line">[Tuesday 18 May 2010] [14:14:00] &lt;guido_g&gt;  <em>cough</em></div>
<div class="line">[Tuesday 18 May 2010] [14:14:43] &lt;cremes&gt;   versificateur: you should provide some actionscript bindings for zmq so we can use it from our browsers via flash!</div>
<div class="line">[Tuesday 18 May 2010] [14:14:46] &lt;cremes&gt;   ;)</div>
<div class="line">[Tuesday 18 May 2010] [14:14:55] &lt;guido_g&gt;  hehehe</div>
<div class="line">[Tuesday 18 May 2010] [14:15:42] &lt;versificateur&gt;    in the current platform i work on. I&#8217;m using zmq to dispacth json data</div>
<div class="line">[Tuesday 18 May 2010] [14:18:11] &lt;versificateur&gt;    cremes: i&#8217;m not really good  with scripting languages so for the actionscript bindings i&#8217;m not the good guy  :)</div>
<div class="line">[Tuesday 18 May 2010] [14:22:22] &lt;versificateur&gt;    do you think zmq can do the job (for my platform) and relay around 0.5-1kb json data ??</div>
<div class="line">[Tuesday 18 May 2010] [14:22:39] &lt;guido_g&gt;  can do what?</div>
<div class="line">[Tuesday 18 May 2010] [14:24:29] &lt;versificateur&gt;    dispatch small json data (around 0.5-1ko )</div>
<div class="line">[Tuesday 18 May 2010] [14:25:28] &lt;guido_g&gt;  why shouldn&#8217;t it?</div>
<div class="line">[Tuesday 18 May 2010] [14:25:56] &lt;guido_g&gt;  the python bindings even have send_json and recv_json</div>
<div class="line">[Tuesday 18 May 2010] [14:26:23] &lt;versificateur&gt;    wow i dont even know</div>
<div class="line">[Tuesday 18 May 2010] [14:26:34] &lt;guido_g&gt;  did you read some of the things at <a class="reference external" href="http://www.zeromq.org/">http://www.zeromq.org/</a> ?</div>
<div class="line">[Tuesday 18 May 2010] [14:27:39] &lt;versificateur&gt;    yes but i didn&#8217;t found json related topic</div>
<div class="line">[Tuesday 18 May 2010] [14:28:22] &lt;guido_g&gt;  what&#8217;s the differnce between json and a string/octet-stream?</div>
<div class="line">[Tuesday 18 May 2010] [14:28:27] &lt;guido_g&gt;  data is data</div>
<div class="line">[Tuesday 18 May 2010] [14:30:18] &lt;versificateur&gt;    yes it&#8217;s true...</div>
<div class="line">[Tuesday 18 May 2010] [14:30:43] &lt;guido_g&gt;  mq does not interfere with the data sent</div>
<div class="line">[Tuesday 18 May 2010] [14:31:53] &lt;guido_g&gt;  and 1kb is not a message size to worry about</div>
<div class="line">[Tuesday 18 May 2010] [14:32:30] &lt;guido_g&gt;  there&#8217;re some performance numbers on the site, somewhere...</div>
<div class="line">[Tuesday 18 May 2010] [14:33:55] &lt;versificateur&gt;    I just found them</div>
<div class="line">[Tuesday 18 May 2010] [14:36:17] &lt;guido_g&gt;  i&#8217;d say: if you don&#8217;t have qdr infiniband or 10gb ethernet, don&#8217;t worry :)</div>
<div class="line">[Tuesday 18 May 2010] [14:38:38] &lt;versificateur&gt;    :)</div>
<div class="line">[Tuesday 18 May 2010] [14:40:05] &lt;versificateur&gt;    I go back to my tricky python code thanks a lot</div>
<div class="line">[Tuesday 18 May 2010] [14:40:21] &lt;guido_g&gt;  have fun</div>
<div class="line">[Tuesday 18 May 2010] [14:54:49] &lt;cremes&gt;   versificateur: if you are using python, you can&#8217;t be worried too much about performance!</div>
<div class="line">[Tuesday 18 May 2010] [14:54:58] &lt;cremes&gt;   (i&#8217;m a ruby guy, so i can say that with a straight face.)</div>
<div class="line">[Tuesday 18 May 2010] [14:55:30] &lt;guido_g&gt;  python is usually fast enough</div>
<div class="line">[Tuesday 18 May 2010] [17:42:00] &lt;CIA-15&gt;   pyzmq: 03Brian Granger 07master * rd939461 10/ (perf/local_lat.py perf/remote_lat.py): Adding time.sleep(1) to end of latency perf tests. - <a class="reference external" href="http://bit.ly/9WG3CU">http://bit.ly/9WG3CU</a></div>
<div class="line">[Tuesday 18 May 2010] [17:46:48] &lt;CIA-15&gt;   pyzmq: 03Brian Granger 07master * rc854731 10/ zmq/tests/test_reqrep.py : Adding tests for large message bug. - <a class="reference external" href="http://bit.ly/9bz1A0">http://bit.ly/9bz1A0</a></div>
<div class="line">[Tuesday 18 May 2010] [18:28:10] &lt;CIA-15&gt;   pyzmq: 03Brian Granger 07nocopy * rd939461 10/ (perf/local_lat.py perf/remote_lat.py): Adding time.sleep(1) to end of latency perf tests. - <a class="reference external" href="http://bit.ly/9WG3CU">http://bit.ly/9WG3CU</a></div>
<div class="line">[Tuesday 18 May 2010] [18:28:11] &lt;CIA-15&gt;   pyzmq: 03Brian Granger 07nocopy * rc854731 10/ zmq/tests/test_reqrep.py : Adding tests for large message bug. - <a class="reference external" href="http://bit.ly/9bz1A0">http://bit.ly/9bz1A0</a></div>
<div class="line">[Tuesday 18 May 2010] [18:28:12] &lt;CIA-15&gt;   pyzmq: 03Brian Granger 07nocopy * r9f44c7c 10/ (3 files in 2 dirs):</div>
<div class="line">[Tuesday 18 May 2010] [18:28:13] &lt;CIA-15&gt;   pyzmq: Merge branch &#8216;master&#8217; into nocopy</div>
<div class="line">[Tuesday 18 May 2010] [18:28:13] &lt;CIA-15&gt;   pyzmq: Conflicts:</div>
<div class="line">[Tuesday 18 May 2010] [18:28:13] &lt;CIA-15&gt;   pyzmq:  perf/local_lat.py</div>
<div class="line">[Tuesday 18 May 2010] [18:28:13] &lt;CIA-15&gt;   pyzmq:  perf/remote_lat.py - <a class="reference external" href="http://bit.ly/aj7iyy">http://bit.ly/aj7iyy</a></div>
<div class="line">[Tuesday 18 May 2010] [18:28:13] &lt;CIA-15&gt;   pyzmq: 03Brian Granger 07nocopy * r1c8fb86 10/ (4 files): Updating perf tests with copy/no-copy options and new API. - <a class="reference external" href="http://bit.ly/9Nf8pL">http://bit.ly/9Nf8pL</a></div>
<div class="line">[Wednesday 19 May 2010] [00:32:19] &lt;CIA-15&gt; zeromq2: 03Martin Sustrik 07master * r89783c3 10/ (src/pipe.cpp src/ypipe.hpp): incomplete messages can be stored in ypipe - <a class="reference external" href="http://bit.ly/cFTaHn">http://bit.ly/cFTaHn</a></div>
<div class="line">[Thursday 20 May 2010] [08:55:11] &lt;iFire&gt;   windows IPC doesn&#8217;t exist right?</div>
<div class="line">[Thursday 20 May 2010] [09:50:19] &lt;mikko&gt;   Your membership in the mailing list zeromq-dev has been disabled due</div>
<div class="line">[Thursday 20 May 2010] [09:50:20] &lt;mikko&gt;   to excessive bounces</div>
<div class="line">[Thursday 20 May 2010] [09:50:24] &lt;mikko&gt;   thats rather interesting</div>
<div class="line">[Thursday 20 May 2010] [10:51:25] &lt;<a href="#id48"><span class="problematic" id="id49">sustrik_</span></a>&gt;    mikko: seen that on my side as well</div>
<div class="line">[Thursday 20 May 2010] [10:51:36] &lt;<a href="#id50"><span class="problematic" id="id51">sustrik_</span></a>&gt;    iFire: right</div>
<div class="line">[Thursday 20 May 2010] [10:51:50] &lt;<a href="#id52"><span class="problematic" id="id53">sustrik_</span></a>&gt;    mikko: let me try to send you a test email</div>
<div class="line">[Thursday 20 May 2010] [10:52:07] &lt;<a href="#id54"><span class="problematic" id="id55">sustrik_</span></a>&gt;    mikko: done</div>
<div class="line">[Thursday 20 May 2010] [10:59:07] &lt;mikko&gt;   <a href="#id56"><span class="problematic" id="id57">sustrik_</span></a>: came through</div>
<div class="line">[Thursday 20 May 2010] [10:59:09] &lt;mikko&gt;   no problem</div>
<div class="line">[Thursday 20 May 2010] [10:59:23] &lt;mikko&gt;   i wonder why the mailing list thinks i am bouncing a lot</div>
<div class="line">[Thursday 20 May 2010] [11:02:04] &lt;<a href="#id58"><span class="problematic" id="id59">sustrik_</span></a>&gt;    let me unblock you</div>
<div class="line">[Thursday 20 May 2010] [11:04:41] &lt;<a href="#id60"><span class="problematic" id="id61">sustrik_</span></a>&gt;    done</div>
<div class="line">[Thursday 20 May 2010] [11:07:11] &lt;cremes&gt;  what is the syntax for bind/connect when using ipc?</div>
<div class="line">[Thursday 20 May 2010] [11:07:19] &lt;cremes&gt;  &#8220;ipc://&lt;what goes here?&gt;&#8221;</div>
<div class="line">[Thursday 20 May 2010] [11:11:38] &lt;guido_g&gt; <a class="reference external" href="http://api.zeromq.org/zmq_ipc.html">http://api.zeromq.org/zmq_ipc.html</a> &lt;- described there</div>
<div class="line">[Thursday 20 May 2010] [11:26:59] &lt;mikko&gt;   <a href="#id62"><span class="problematic" id="id63">sustrik_</span></a>: thanks</div>
<div class="line">[Thursday 20 May 2010] [11:27:08] &lt;<a href="#id64"><span class="problematic" id="id65">sustrik_</span></a>&gt;    np</div>
<div class="line">[Thursday 20 May 2010] [12:02:52] &lt;CIA-15&gt;  zeromq2: 03Martin Sustrik 07master * r091e92a 10/ AUTHORS : Pieter Hintjens added to AUTHORS file - <a class="reference external" href="http://bit.ly/dtIybP">http://bit.ly/dtIybP</a></div>
<div class="line">[Thursday 20 May 2010] [12:02:53] &lt;CIA-15&gt;  zeromq2: 03Martin Sustrik 07master * r7773fdd 10/ (src/pipe.cpp src/ypipe.hpp): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/avqvTc">http://bit.ly/avqvTc</a></div>
<div class="line">[Thursday 20 May 2010] [19:08:56] &lt;CIA-15&gt;  pyzmq: 03Brian Granger 07nocopy * r0ab9c93 10/ (zmq/_zmq.c zmq/_zmq.pyx zmq/tests/test_message.py): Initial implementation of smart Message object. - <a class="reference external" href="http://bit.ly/dwm066">http://bit.ly/dwm066</a></div>
<div class="line">[Friday 21 May 2010] [00:30:07] &lt;CIA-15&gt;    pyzmq: 03Brian Granger 07nocopy * r6250cb5 10/ (zmq/_zmq.c zmq/_zmq.pyx): Adding support for full non-copy send/recv using Message. - <a class="reference external" href="http://bit.ly/aoi0LX">http://bit.ly/aoi0LX</a></div>
<div class="line">[Friday 21 May 2010] [05:59:34] &lt;vincent00&gt; hi all</div>
<div class="line">[Friday 21 May 2010] [06:00:04] &lt;vincent00&gt; i have a design question about how to do requests inside a service architecture</div>
<div class="line">[Friday 21 May 2010] [06:00:53] &lt;vincent00&gt; is it recommended to create a socket for each rpc call or is it better to maintain connections to each service and use them when you need to?</div>
<div class="line">[Friday 21 May 2010] [06:02:07] &lt;vincent00&gt; I&#8217;m thinking of wrapping the most used messages (protocol buffers) as python functions so they can easily be reused by the applications that are built by the researchers we support</div>
<div class="line">[Friday 21 May 2010] [06:03:17] &lt;vincent00&gt; that would be significantly easier if i could just create a req socket each time i want to send a message</div>
<div class="line">[Friday 21 May 2010] [06:08:17] &lt;<a href="#id66"><span class="problematic" id="id67">sustrik_</span></a>&gt;  vincent: you can do that</div>
<div class="line">[Friday 21 May 2010] [06:08:44] &lt;<a href="#id68"><span class="problematic" id="id69">sustrik_</span></a>&gt;  but obviously, you shouldn&#8217;t expect it to be very efficient</div>
<div class="line">[Friday 21 May 2010] [06:09:08] &lt;vincent00&gt; hi <a href="#id70"><span class="problematic" id="id71">sustrik_</span></a></div>
<div class="line">[Friday 21 May 2010] [06:09:29] &lt;vincent00&gt; so an option i should think about is some way of managing connections?</div>
<div class="line">[Friday 21 May 2010] [06:09:37] &lt;vincent00&gt; indexed by service</div>
<div class="line">[Friday 21 May 2010] [06:09:58] &lt;<a href="#id72"><span class="problematic" id="id73">sustrik_</span></a>&gt;  what are you trying to build</div>
<div class="line">[Friday 21 May 2010] [06:10:00] &lt;<a href="#id74"><span class="problematic" id="id75">sustrik_</span></a>&gt;  SOA?</div>
<div class="line">[Friday 21 May 2010] [06:10:07] &lt;vincent00&gt; yes :)</div>
<div class="line">[Friday 21 May 2010] [06:10:26] &lt;<a href="#id76"><span class="problematic" id="id77">sustrik_</span></a>&gt;  ok, then you need a shared queue in the middle</div>
<div class="line">[Friday 21 May 2010] [06:10:39] &lt;mato&gt;  <a href="#id78"><span class="problematic" id="id79">sustrik_</span></a>: yo</div>
<div class="line">[Friday 21 May 2010] [06:10:45] &lt;vincent00&gt; we have some services that process and generate sound</div>
<div class="line">[Friday 21 May 2010] [06:10:47] &lt;<a href="#id80"><span class="problematic" id="id81">sustrik_</span></a>&gt;  mato: hi</div>
<div class="line">[Friday 21 May 2010] [06:10:58] &lt;mato&gt;  <a href="#id82"><span class="problematic" id="id83">sustrik_</span></a>: you&#8217;re not watching your messages...</div>
<div class="line">[Friday 21 May 2010] [06:11:05] &lt;<a href="#id84"><span class="problematic" id="id85">sustrik_</span></a>&gt;  what messages?</div>
<div class="line">[Friday 21 May 2010] [06:11:05] &lt;mato&gt;  <a href="#id86"><span class="problematic" id="id87">sustrik_</span></a>: can i drop by to discuss some business stuff?</div>
<div class="line">[Friday 21 May 2010] [06:11:13] &lt;mato&gt;  <a href="#id88"><span class="problematic" id="id89">sustrik_</span></a>: private messages on irc</div>
<div class="line">[Friday 21 May 2010] [06:11:20] &lt;vincent00&gt; <a href="#id90"><span class="problematic" id="id91">sustrik_</span></a>: so no direct connections to the services?</div>
<div class="line">[Friday 21 May 2010] [06:11:31] &lt;<a href="#id92"><span class="problematic" id="id93">sustrik_</span></a>&gt;  a-ha, sure, drop by</div>
<div class="line">[Friday 21 May 2010] [06:11:41] &lt;mato&gt;  <a href="#id94"><span class="problematic" id="id95">sustrik_</span></a>: when? isn&#8217;t your sister arriving today?</div>
<div class="line">[Friday 21 May 2010] [06:11:57] &lt;<a href="#id96"><span class="problematic" id="id97">sustrik_</span></a>&gt;  vincent: you can do that but that&#8217;s not what&#8217;s normally understood under the term &#8220;SOA&#8221;</div>
<div class="line">[Friday 21 May 2010] [06:12:03] &lt;<a href="#id98"><span class="problematic" id="id99">sustrik_</span></a>&gt;  mato: tomorrow</div>
<div class="line">[Friday 21 May 2010] [06:12:09] &lt;<a href="#id100"><span class="problematic" id="id101">sustrik_</span></a>&gt;  i&#8217;m at home today</div>
<div class="line">[Friday 21 May 2010] [06:12:34] &lt;mato&gt;  <a href="#id102"><span class="problematic" id="id103">sustrik_</span></a>: ok, good, then i&#8217;ll have lunch and go to your place...</div>
<div class="line">[Friday 21 May 2010] [06:12:40] &lt;<a href="#id104"><span class="problematic" id="id105">sustrik_</span></a>&gt;  ok</div>
<div class="line">[Friday 21 May 2010] [06:12:40] &lt;mato&gt;  <a href="#id106"><span class="problematic" id="id107">sustrik_</span></a>: in an hour or so</div>
<div class="line">[Friday 21 May 2010] [06:13:40] &lt;<a href="#id108"><span class="problematic" id="id109">sustrik_</span></a>&gt;  vincent: the best way is to think a bit about what you want to achieve</div>
<div class="line">[Friday 21 May 2010] [06:14:05] &lt;<a href="#id110"><span class="problematic" id="id111">sustrik_</span></a>&gt;  and put that down on paper</div>
<div class="line">[Friday 21 May 2010] [06:14:29] &lt;<a href="#id112"><span class="problematic" id="id113">sustrik_</span></a>&gt;  then decide on setup of the network</div>
<div class="line">[Friday 21 May 2010] [06:14:49] &lt;<a href="#id114"><span class="problematic" id="id115">sustrik_</span></a>&gt;  and finally map the setup diagram to 0MQ concepts</div>
<div class="line">[Friday 21 May 2010] [06:17:52] &lt;vincent00&gt; <a href="#id116"><span class="problematic" id="id117">sustrik_</span></a>: ok, the design is ready to be mapped to zmq concepts i think, i&#8217;ll take that approach :) thanks</div>
<div class="line">[Friday 21 May 2010] [06:18:11] &lt;<a href="#id118"><span class="problematic" id="id119">sustrik_</span></a>&gt;  have a block diagram?</div>
<div class="line">[Friday 21 May 2010] [06:18:18] &lt;<a href="#id120"><span class="problematic" id="id121">sustrik_</span></a>&gt;  is there a node in the middle?</div>
<div class="line">[Friday 21 May 2010] [06:18:40] &lt;<a href="#id122"><span class="problematic" id="id123">sustrik_</span></a>&gt;  or are clients connected to services directly</div>
<div class="line">[Friday 21 May 2010] [06:18:41] &lt;<a href="#id124"><span class="problematic" id="id125">sustrik_</span></a>&gt;  ?</div>
<div class="line">[Friday 21 May 2010] [06:19:02] &lt;vincent00&gt; right now clients are connected directly to services, rpc style</div>
<div class="line">[Friday 21 May 2010] [06:19:31] &lt;vincent00&gt; between the task scheduler and the workers we have a different approach</div>
<div class="line">[Friday 21 May 2010] [06:20:07] &lt;<a href="#id126"><span class="problematic" id="id127">sustrik_</span></a>&gt;  so there&#8217;s only one app instance for each server, right?</div>
<div class="line">[Friday 21 May 2010] [06:20:39] &lt;<a href="#id128"><span class="problematic" id="id129">sustrik_</span></a>&gt;  no load-balancing</div>
<div class="line">[Friday 21 May 2010] [06:20:44] &lt;<a href="#id130"><span class="problematic" id="id131">sustrik_</span></a>&gt;  no failover</div>
<div class="line">[Friday 21 May 2010] [06:21:29] &lt;vincent00&gt; multiple apps can be running on the same node, but never the same app twice on the network for now (except worker nodes, but we have that figured out, clients don&#8217;t connect to them)</div>
<div class="line">[Friday 21 May 2010] [06:21:32] &lt;vincent00&gt; nope</div>
<div class="line">[Friday 21 May 2010] [06:21:50] &lt;<a href="#id132"><span class="problematic" id="id133">sustrik_</span></a>&gt;  then it&#8217;s easy</div>
<div class="line">[Friday 21 May 2010] [06:21:56] &lt;<a href="#id134"><span class="problematic" id="id135">sustrik_</span></a>&gt;  REP socket in each service</div>
<div class="line">[Friday 21 May 2010] [06:22:05] &lt;<a href="#id136"><span class="problematic" id="id137">sustrik_</span></a>&gt;  REQ socket in each client</div>
<div class="line">[Friday 21 May 2010] [06:22:26] &lt;<a href="#id138"><span class="problematic" id="id139">sustrik_</span></a>&gt;  clients may close the socket after each RPC call</div>
<div class="line">[Friday 21 May 2010] [06:22:44] &lt;<a href="#id140"><span class="problematic" id="id141">sustrik_</span></a>&gt;  however, if you want to do lot of RPC calls efficiently</div>
<div class="line">[Friday 21 May 2010] [06:22:53] &lt;<a href="#id142"><span class="problematic" id="id143">sustrik_</span></a>&gt;  it&#8217;s better to leave the connection open</div>
<div class="line">[Friday 21 May 2010] [06:23:07] &lt;<a href="#id144"><span class="problematic" id="id145">sustrik_</span></a>&gt;  rather than reopening it each time it&#8217;s needed</div>
<div class="line">[Friday 21 May 2010] [06:23:44] &lt;vincent00&gt; ok, that was what i wondering about, whether it was ok to create sockets on the fly many times over, i guess it&#8217;s to be decided on a case by case basis</div>
<div class="line">[Friday 21 May 2010] [06:24:21] &lt;vincent00&gt; thanks :) very helpful :)</div>
<div class="line">[Friday 21 May 2010] [12:45:16] &lt;mikko&gt; got the php extension windows builds in a minute</div>
<div class="line">[Friday 21 May 2010] [12:59:09] &lt;<a href="#id146"><span class="problematic" id="id147">sustrik_</span></a>&gt;  !</div>
<div class="line">[Friday 21 May 2010] [13:27:09] &lt;mikko&gt; trying to script up the whole process</div>
<div class="line">[Friday 21 May 2010] [13:27:18] &lt;mikko&gt; but windows batch is not the most pleasant scripting language</div>
<div class="line">[Friday 21 May 2010] [13:40:10] &lt;mikko&gt; <a class="reference external" href="http://valokuva.org/~mikko/builds/">http://valokuva.org/~mikko/builds/</a></div>
<div class="line">[Friday 21 May 2010] [13:40:19] &lt;mikko&gt; should update soon after my batch finishes</div>
<div class="line">[Friday 21 May 2010] [13:47:51] &lt;mikko&gt; <a class="reference external" href="http://valokuva.org/~mikko/builds/">http://valokuva.org/~mikko/builds/</a></div>
<div class="line">[Friday 21 May 2010] [13:47:52] &lt;mikko&gt; bam</div>
<div class="line">[Friday 21 May 2010] [13:47:54] &lt;mikko&gt; windows builds</div>
<div class="line">[Friday 21 May 2010] [15:31:14] &lt;CIA-17&gt;    pyzmq: 03Brian Granger 07nocopy * reb61ac5 10/ (perf/local_lat.py perf/local_thr.py perf/remote_lat.py): Adding non-copy capability for recv&#8217;s in perf tests. - <a class="reference external" href="http://bit.ly/aAsfvh">http://bit.ly/aAsfvh</a></div>
<div class="line">[Friday 21 May 2010] [16:03:54] &lt;CIA-17&gt;    pyzmq: 03Brian Granger 07nocopy * r42903ba 10/ (perf/remote_lat.py zmq/_zmq.c zmq/_zmq.pyx): Adding back Stopwatch for perf tests and modified lat test to use. - <a class="reference external" href="http://bit.ly/c9dOZ2">http://bit.ly/c9dOZ2</a></div>
<div class="line">[Friday 21 May 2010] [16:30:30] &lt;CIA-17&gt;    pyzmq: 03Brian Granger 07nocopy * r8d32972 10/ (zmq/_zmq.c zmq/_zmq.pyx): Fixing old memory leak in Stopwatch. - <a class="reference external" href="http://bit.ly/98nJmz">http://bit.ly/98nJmz</a></div>
<div class="line">[Saturday 22 May 2010] [14:25:33] &lt;mikko&gt;   <a class="reference external" href="http://valokuva.org/builds/">http://valokuva.org/builds/</a> zmq for php windows builds</div>
<div class="line">[Sunday 23 May 2010] [03:51:10] &lt;<a href="#id148"><span class="problematic" id="id149">sustrik_</span></a>&gt;  mikko: what about announcing the builds on the mailing list?</div>
<div class="line">[Sunday 23 May 2010] [07:18:30] &lt;mikko&gt; <a href="#id150"><span class="problematic" id="id151">sustrik_</span></a>: done</div>
<div class="line">[Sunday 23 May 2010] [12:03:16] &lt;postmodern&gt;    wow awesome you have a irc channel</div>
<div class="line">[Sunday 23 May 2010] [12:03:38] &lt;postmodern&gt;    so question, is it possible to have two different sockets share the same physical socket?</div>
<div class="line">[Sunday 23 May 2010] [12:04:07] &lt;postmodern&gt;    such as having a REQ/RESP share the same connection with a PUB/SUB?</div>
<div class="line">[Sunday 23 May 2010] [12:26:23] &lt;<a href="#id152"><span class="problematic" id="id153">cremes_</span></a>&gt;   postmodern: 0mq may use more than one tcp socket per 0mq socket; it depends on how many times you bind/connect to addresses</div>
<div class="line">[Sunday 23 May 2010] [12:27:03] &lt;<a href="#id154"><span class="problematic" id="id155">cremes_</span></a>&gt;   i don&#8217;t know if it shares tcp sockets to the same src/dst but i really doubt it</div>
<div class="line">[Sunday 23 May 2010] [12:30:05] &lt;postmodern&gt;    ah ok</div>
<div class="line">[Sunday 23 May 2010] [12:30:40] &lt;postmodern&gt;    im just making sure i would not have to bind to another port, just to do PUB/SUB</div>
<div class="line">[Sunday 23 May 2010] [12:34:25] &lt;postmodern&gt;    also is it possible to have a server that is set to SUB mode</div>
<div class="line">[Sunday 23 May 2010] [12:34:41] &lt;postmodern&gt;    and have clients that connect in that are in PUB mode</div>
<div class="line">[Sunday 23 May 2010] [12:52:04] &lt;postmodern&gt;    bbl, getting some rest</div>
<div class="line">[Sunday 23 May 2010] [19:40:25] &lt;hassox&gt;    hey guys</div>
<div class="line">[Sunday 23 May 2010] [19:40:42] &lt;hassox&gt;    anyone got some good blog posts to help me get started with 0mq?</div>
<div class="line">[Sunday 23 May 2010] [19:41:05]      * hassox has used a bit of amqp but looking for an alternative</div>
<div class="line">[Sunday 23 May 2010] [21:34:16] &lt;postmodern&gt;    so when i read &#8220;A single socket may be connected to an arbitrary number of peer addresses using zmq_connect(), while also having an arbitrary number of local addresses assigned to it using zmq_bind().&#8221;</div>
<div class="line">[Sunday 23 May 2010] [21:34:33] &lt;postmodern&gt;    im a bit confused how zmq routes messages through sockets with multiple end-points?</div>
<div class="line">[Sunday 23 May 2010] [21:34:47] &lt;postmodern&gt;    does it just fan-out?</div>
<div class="line">[Sunday 23 May 2010] [21:34:55] &lt;postmodern&gt;    or is it load-balanced?</div>
<div class="line">[Sunday 23 May 2010] [23:25:09] &lt;<a href="#id156"><span class="problematic" id="id157">cremes_</span></a>&gt;   postmodern: it depends on the socket type; i don&#8217;t know for certain, but in some cases it uses round-robin and in other fair-balance queueing meaning...</div>
<div class="line">[Sunday 23 May 2010] [23:25:29] &lt;postmodern&gt;    ah interesting</div>
<div class="line">[Sunday 23 May 2010] [23:25:29] &lt;<a href="#id158"><span class="problematic" id="id159">cremes_</span></a>&gt;   that it sends messages based on its internal knowledge of queue lengths</div>
<div class="line">[Sunday 23 May 2010] [23:25:52] &lt;<a href="#id160"><span class="problematic" id="id161">cremes_</span></a>&gt;   i suggest asking on the list for a breakdown of queueing algorithms by socket</div>
<div class="line">[Monday 24 May 2010] [01:46:41] &lt;<a href="#id162"><span class="problematic" id="id163">sustrik_</span></a>&gt;  hassox: <a class="reference external" href="http://lwn.net/Articles/370307/">http://lwn.net/Articles/370307/</a></div>
<div class="line">[Monday 24 May 2010] [01:47:15] &lt;<a href="#id164"><span class="problematic" id="id165">sustrik_</span></a>&gt;  postmodern: each socket type does what you would expect it to do</div>
<div class="line">[Monday 24 May 2010] [01:47:38] &lt;<a href="#id166"><span class="problematic" id="id167">sustrik_</span></a>&gt;  requests are load balanced between services</div>
<div class="line">[Monday 24 May 2010] [01:47:56] &lt;<a href="#id168"><span class="problematic" id="id169">sustrik_</span></a>&gt;  while publishes are distributed to every subscriber</div>
<div class="line">[Monday 24 May 2010] [01:48:20] &lt;postmodern&gt;    <a href="#id170"><span class="problematic" id="id171">sustrik_</span></a>, also there is no restriction on which direction the connection was made from, for pub/sub?</div>
<div class="line">[Monday 24 May 2010] [01:49:04] &lt;postmodern&gt;    <a href="#id172"><span class="problematic" id="id173">sustrik_</span></a>, for instance i could connect into each subscriber socket, and publish to them</div>
<div class="line">[Monday 24 May 2010] [01:49:17] &lt;postmodern&gt;    <a href="#id174"><span class="problematic" id="id175">sustrik_</span></a>, instead of binding to a port, and waiting for the subscribers to connect in</div>
<div class="line">[Monday 24 May 2010] [01:56:43] &lt;hassox&gt;    <a href="#id176"><span class="problematic" id="id177">sustrik_</span></a>: churs</div>
<div class="line">[Monday 24 May 2010] [01:57:24] &lt;hassox&gt;    <a href="#id178"><span class="problematic" id="id179">sustrik_</span></a>: is 0mq able to work with threadless evented systems like ruby EventMachine and Node.js?</div>
<div class="line">[Monday 24 May 2010] [02:05:08] &lt;<a href="#id180"><span class="problematic" id="id181">sustrik_</span></a>&gt;  postmodern: no restriction</div>
<div class="line">[Monday 24 May 2010] [02:05:20] &lt;postmodern&gt;    excellent</div>
<div class="line">[Monday 24 May 2010] [02:05:58] &lt;<a href="#id182"><span class="problematic" id="id183">sustrik_</span></a>&gt;  hassox: no idea, depends of what kind of requirements the two systems have</div>
<div class="line">[Monday 24 May 2010] [02:06:08] &lt;hassox&gt;    <a href="#id184"><span class="problematic" id="id185">sustrik_</span></a>: they&#8217;re not threaded</div>
<div class="line">[Monday 24 May 2010] [02:06:21] &lt;<a href="#id186"><span class="problematic" id="id187">sustrik_</span></a>&gt;  single-thread?</div>
<div class="line">[Monday 24 May 2010] [02:06:26] &lt;hassox&gt;    event loop</div>
<div class="line">[Monday 24 May 2010] [02:06:37] &lt;hassox&gt;    yeah single thread, but they live in an event loop</div>
<div class="line">[Monday 24 May 2010] [02:06:40] &lt;hassox&gt;    so async style</div>
<div class="line">[Monday 24 May 2010] [02:06:52] &lt;<a href="#id188"><span class="problematic" id="id189">sustrik_</span></a>&gt;  what do you have to conform to register to the event loop?</div>
<div class="line">[Monday 24 May 2010] [02:07:08] &lt;hassox&gt;    sorry my train has just arrived I&#8217;ll be back on later</div>
<div class="line">[Monday 24 May 2010] [02:07:20] &lt;hassox&gt;    not sure what that means but I&#8217;ll jump on when I get back</div>
<div class="line">[Monday 24 May 2010] [05:30:33] &lt;hassox&gt;    <a href="#id190"><span class="problematic" id="id191">sustrik_</span></a>: still here mate?</div>
<div class="line">[Monday 24 May 2010] [05:30:43] &lt;<a href="#id192"><span class="problematic" id="id193">sustrik_</span></a>&gt;  yup</div>
<div class="line">[Monday 24 May 2010] [05:31:18] &lt;<a href="#id194"><span class="problematic" id="id195">sustrik_</span></a>&gt;  how do you add event sources to your event loop?</div>
<div class="line">[Monday 24 May 2010] [05:31:29] &lt;<a href="#id196"><span class="problematic" id="id197">sustrik_</span></a>&gt;  what does the event source have to conform to?</div>
<div class="line">[Monday 24 May 2010] [05:49:35] &lt;hassox&gt;    so</div>
<div class="line">[Monday 24 May 2010] [05:49:40] &lt;hassox&gt;    with event machine for eg</div>
<div class="line">[Monday 24 May 2010] [05:49:54] &lt;hassox&gt;    you create a socket, and when an event occurs, i.e. some data is received</div>
<div class="line">[Monday 24 May 2010] [05:49:58] &lt;hassox&gt;    a method on the handler is called</div>
<div class="line">[Monday 24 May 2010] [05:50:09] &lt;hassox&gt;    you can then add callbacks, timers etc</div>
<div class="line">[Monday 24 May 2010] [05:50:21] &lt;hassox&gt;    inside the method</div>
<div class="line">[Monday 24 May 2010] [05:50:48] &lt;hassox&gt;    there&#8217;s no threads, you instead gain concurrency by splitting execution up and using callbacks</div>
<div class="line">[Monday 24 May 2010] [05:51:17] &lt;hassox&gt;    there is an event queue, where events are queued up, and then the event loop consumes each event from the queue</div>
<div class="line">[Monday 24 May 2010] [05:51:30] &lt;mikko&gt; can you add custom event sources?</div>
<div class="line">[Monday 24 May 2010] [05:51:36] &lt;mikko&gt; other than fds</div>
<div class="line">[Monday 24 May 2010] [05:51:38] &lt;hassox&gt;    what do you mean</div>
<div class="line">[Monday 24 May 2010] [05:51:55] &lt;hassox&gt;    manually put things onto the event queue?</div>
<div class="line">[Monday 24 May 2010] [05:52:34] &lt;<a href="#id198"><span class="problematic" id="id199">sustrik_</span></a>&gt;  no, you put a socket into the event loop, right? can you put something else there?</div>
<div class="line">[Monday 24 May 2010] [05:52:57] &lt;hassox&gt;    the whole application lives in the event loop</div>
<div class="line">[Monday 24 May 2010] [05:53:24] &lt;hassox&gt;    so you can have many sockets, tcp connections database connections, or just have your application setting things up to do and executing them</div>
<div class="line">[Monday 24 May 2010] [05:53:45] &lt;<a href="#id200"><span class="problematic" id="id201">sustrik_</span></a>&gt;  how does the loop know what sockets to inspect?</div>
<div class="line">[Monday 24 May 2010] [05:54:10] &lt;hassox&gt;    I&#8217;m not sure of the underlying system calls that are made...</div>
<div class="line">[Monday 24 May 2010] [05:54:20] &lt;hassox&gt;    I usually live a little higher up the stack</div>
<div class="line">[Monday 24 May 2010] [05:54:46] &lt;<a href="#id202"><span class="problematic" id="id203">sustrik_</span></a>&gt;  you create a connection to database</div>
<div class="line">[Monday 24 May 2010] [05:54:55] &lt;mikko&gt; like for example libev&#8217;s case <a class="reference external" href="http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#Examples-8">http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#Examples-8</a></div>
<div class="line">[Monday 24 May 2010] [05:54:58] &lt;<a href="#id204"><span class="problematic" id="id205">sustrik_</span></a>&gt;  how do you integrate it with the loop?</div>
<div class="line">[Monday 24 May 2010] [05:55:52] &lt;hassox&gt;    lemme see if I can find someone who will be able to talk at the right level</div>
<div class="line">[Monday 24 May 2010] [05:56:53] &lt;hassox&gt;    I just grab a socket</div>
<div class="line">[Monday 24 May 2010] [05:57:03] &lt;hassox&gt;    but not sure underneath at the c level what it&#8217;s actually doing</div>
<div class="line">[Monday 24 May 2010] [05:57:10] &lt;hassox&gt;    they don&#8217;t look like they&#8217;re about</div>
<div class="line">[Monday 24 May 2010] [05:58:13]      * hassox is looking</div>
<div class="line">[Monday 24 May 2010] [05:58:35] &lt;<a href="#id206"><span class="problematic" id="id207">sustrik_</span></a>&gt;  example:</div>
<div class="line">[Monday 24 May 2010] [05:58:43] &lt;<a href="#id208"><span class="problematic" id="id209">sustrik_</span></a>&gt;  s = create_socket (...);</div>
<div class="line">[Monday 24 May 2010] [05:58:51] &lt;<a href="#id210"><span class="problematic" id="id211">sustrik_</span></a>&gt;  loop.register (s);</div>
<div class="line">[Monday 24 May 2010] [05:59:00] &lt;<a href="#id212"><span class="problematic" id="id213">sustrik_</span></a>&gt;  does you use it in a similar way?</div>
<div class="line">[Monday 24 May 2010] [05:59:56] &lt;hassox&gt;    <a class="reference external" href="http://github.com/eventmachine/eventmachine/blob/650ff5e19ee87c0bceba46e5961c415d64e6e519/lib/em/protocols/socks4.rb">http://github.com/eventmachine/eventmachine/blob/650ff5e19ee87c0bceba46e5961c415d64e6e519/lib/em/protocols/socks4.rb</a></div>
<div class="line">[Monday 24 May 2010] [05:59:58] &lt;hassox&gt;    there&#8217;s an example</div>
<div class="line">[Monday 24 May 2010] [06:00:48] &lt;hassox&gt;    here&#8217;s the underlying class</div>
<div class="line">[Monday 24 May 2010] [06:00:48] &lt;hassox&gt;    <a class="reference external" href="http://github.com/eventmachine/eventmachine/blob/master/lib/em/connection.rb">http://github.com/eventmachine/eventmachine/blob/master/lib/em/connection.rb</a></div>
<div class="line">[Monday 24 May 2010] [06:02:15] &lt;hassox&gt;    all the c is in <a class="reference external" href="http://github.com/eventmachine/eventmachine/tree/master/ext/">http://github.com/eventmachine/eventmachine/tree/master/ext/</a></div>
<div class="line">[Monday 24 May 2010] [06:02:18] &lt;hassox&gt;    i&#8217;ll brb</div>
<div class="line">[Monday 24 May 2010] [06:02:48] &lt;<a href="#id214"><span class="problematic" id="id215">sustrik_</span></a>&gt;  i don&#8217;t speak ruby, sorry, can you point me to the line where you open the socket?</div>
<div class="line">[Monday 24 May 2010] [06:32:59] &lt;hassox&gt;    <a href="#id216"><span class="problematic" id="id217">sustrik_</span></a>: an http connection <a class="reference external" href="http://github.com/eventmachine/eventmachine/blob/fb11a41671b5bc1b15372d319280cecf086c9104/lib/eventmachine.rb#L578">http://github.com/eventmachine/eventmachine/blob/fb11a41671b5bc1b15372d319280cecf086c9104/lib/eventmachine.rb#L578</a></div>
<div class="line">[Monday 24 May 2010] [06:33:41] &lt;hassox&gt;    not sure what c is going on underneath</div>
<div class="line">[Monday 24 May 2010] [06:36:34] &lt;<a href="#id218"><span class="problematic" id="id219">sustrik_</span></a>&gt;  hassox: forget about c</div>
<div class="line">[Monday 24 May 2010] [06:36:42] &lt;<a href="#id220"><span class="problematic" id="id221">sustrik_</span></a>&gt;  what are you doing in ruby?</div>
<div class="line">[Monday 24 May 2010] [06:36:55] &lt;hassox&gt;    I use the higer level stuff</div>
<div class="line">[Monday 24 May 2010] [06:37:04] &lt;<a href="#id222"><span class="problematic" id="id223">sustrik_</span></a>&gt;  and that&#8217;s?</div>
<div class="line">[Monday 24 May 2010] [06:37:10] &lt;hassox&gt;    I just fire up an http server, or smtp server</div>
<div class="line">[Monday 24 May 2010] [06:37:18] &lt;hassox&gt;    or both</div>
<div class="line">[Monday 24 May 2010] [06:37:33] &lt;<a href="#id224"><span class="problematic" id="id225">sustrik_</span></a>&gt;  and?</div>
<div class="line">[Monday 24 May 2010] [06:37:36] &lt;hassox&gt;    I&#8217;m trying to find someone who can talk at the right level</div>
<div class="line">[Monday 24 May 2010] [06:37:37] &lt;hassox&gt;    well</div>
<div class="line">[Monday 24 May 2010] [06:37:42] &lt;hassox&gt;    when ythe connection receives data</div>
<div class="line">[Monday 24 May 2010] [06:37:50] &lt;hassox&gt;    EM calls receive_data(data)</div>
<div class="line">[Monday 24 May 2010] [06:37:54] &lt;hassox&gt;    so you react to the event</div>
<div class="line">[Monday 24 May 2010] [06:38:02] &lt;hassox&gt;    I&#8217;m not describing this well :(</div>
<div class="line">[Monday 24 May 2010] [06:38:06] &lt;<a href="#id226"><span class="problematic" id="id227">sustrik_</span></a>&gt;  that&#8217;s inside HTTP server?</div>
<div class="line">[Monday 24 May 2010] [06:38:12] &lt;hassox&gt;    maybe the concept will be easier to talk over node</div>
<div class="line">[Monday 24 May 2010] [06:38:17] &lt;mikko&gt; <a href="#id228"><span class="problematic" id="id229">sustrik_</span></a>: its probably like libevent http</div>
<div class="line">[Monday 24 May 2010] [06:38:41] &lt;mikko&gt; <a href="#id230"><span class="problematic" id="id231">sustrik_</span></a>: similar concept to <a class="reference external" href="http://3.rdrail.net/blog/libevent-webserver-in-40-lines-of-c/">http://3.rdrail.net/blog/libevent-webserver-in-40-lines-of-c/</a></div>
<div class="line">[Monday 24 May 2010] [06:38:45] &lt;mikko&gt; unless i am wrong</div>
<div class="line">[Monday 24 May 2010] [06:38:58] &lt;mikko&gt; underneath it uses normal event loop</div>
<div class="line">[Monday 24 May 2010] [06:39:00] &lt;hassox&gt;    the docs are better for node</div>
<div class="line">[Monday 24 May 2010] [06:39:05] &lt;mikko&gt; which usually polls a socket</div>
<div class="line">[Monday 24 May 2010] [06:39:05] &lt;hassox&gt;    <a class="reference external" href="http://nodejs.org/">http://nodejs.org/</a></div>
<div class="line">[Monday 24 May 2010] [06:39:12] &lt;mikko&gt; node.js is a lot more complicated</div>
<div class="line">[Monday 24 May 2010] [06:39:20] &lt;hassox&gt;    oh</div>
<div class="line">[Monday 24 May 2010] [06:39:26] &lt;hassox&gt;    :&#8217;(</div>
<div class="line">[Monday 24 May 2010] [06:39:32] &lt;hassox&gt;    damn I suck at talking about this</div>
<div class="line">[Monday 24 May 2010] [06:39:36] &lt;hassox&gt;    I&#8217;m sorry lads</div>
<div class="line">[Monday 24 May 2010] [06:39:47] &lt;hassox&gt;    I&#8217;m not familiar with territory this low down</div>
<div class="line">[Monday 24 May 2010] [06:40:02] &lt;<a href="#id232"><span class="problematic" id="id233">sustrik_</span></a>&gt;  np, can you check the mikko&#8217;s link?</div>
<div class="line">[Monday 24 May 2010] [06:40:09] &lt;<a href="#id234"><span class="problematic" id="id235">sustrik_</span></a>&gt;  are you doing something similar?</div>
<div class="line">[Monday 24 May 2010] [06:41:31] &lt;hassox&gt;    I don&#8217;t know C but the concept seems about right</div>
<div class="line">[Monday 24 May 2010] [06:42:02] &lt;<a href="#id236"><span class="problematic" id="id237">sustrik_</span></a>&gt;  so you launch a http server in your process</div>
<div class="line">[Monday 24 May 2010] [06:42:04] &lt;mikko&gt; it&#8217;s a higher level abstraction where you talk &#8216;http concepts&#8217; rather than raw sockets</div>
<div class="line">[Monday 24 May 2010] [06:42:10] &lt;<a href="#id238"><span class="problematic" id="id239">sustrik_</span></a>&gt;  and supply it a callback function</div>
<div class="line">[Monday 24 May 2010] [06:42:11] &lt;mikko&gt; but in the end its just an event loop</div>
<div class="line">[Monday 24 May 2010] [06:42:15] &lt;hassox&gt;    yeah</div>
<div class="line">[Monday 24 May 2010] [06:42:30] &lt;hassox&gt;    EventMachine and Node.js are both event loops at their hearts</div>
<div class="line">[Monday 24 May 2010] [06:43:02] &lt;hassox&gt;    but all the 0mq stuff I&#8217;ve seen talks about requiring 2 or more threads</div>
<div class="line">[Monday 24 May 2010] [06:43:03] &lt;<a href="#id240"><span class="problematic" id="id241">sustrik_</span></a>&gt;  hassox: ok, then you need to check your documentation whether there are extension points in the library you are using</div>
<div class="line">[Monday 24 May 2010] [06:43:44] &lt;<a href="#id242"><span class="problematic" id="id243">sustrik_</span></a>&gt;  i.e. ways to plug-in non-HTTP entities to the even loop</div>
<div class="line">[Monday 24 May 2010] [06:44:04] &lt;mikko&gt; hassox: <a class="reference external" href="http://www.igvita.com/2008/05/27/ruby-eventmachine-the-speed-demon/">http://www.igvita.com/2008/05/27/ruby-eventmachine-the-speed-demon/</a></div>
<div class="line">[Monday 24 May 2010] [06:44:10] &lt;mikko&gt; sometghing like that might be relevant to you</div>
<div class="line">[Monday 24 May 2010] [06:44:46] &lt;hassox&gt;    yeah that&#8217;s just doing http servers</div>
<div class="line">[Monday 24 May 2010] [06:45:06] &lt;mikko&gt; hassox: why don&#8217;t you use 0MQ&#8217;s event loop?</div>
<div class="line">[Monday 24 May 2010] [06:45:09] &lt;hassox&gt;    what I would like to know is can I get a 0mq service running, or is it a must to use threads</div>
<div class="line">[Monday 24 May 2010] [06:45:12] &lt;hassox&gt;    there is one?</div>
<div class="line">[Monday 24 May 2010] [06:45:13] &lt;mikko&gt; or do you need the higher level abstraction?</div>
<div class="line">[Monday 24 May 2010] [06:45:33] &lt;hassox&gt;    I&#8217;d like to be able to use 0mq from my ruby or node programs</div>
<div class="line">[Monday 24 May 2010] [06:47:00] &lt;hassox&gt;    wondering if it&#8217;s possible, or if I _need_ the threads</div>
<div class="line">[Monday 24 May 2010] [06:47:34] &lt;mikko&gt; ideally your event loop such as event machine would support &#8220;polling&#8221; a callback for events</div>
<div class="line">[Monday 24 May 2010] [06:47:59] &lt;mikko&gt; i would imagine it would be possible to create a struct with necessary io abstraction that would work with any data provider including zeromq</div>
<div class="line">[Monday 24 May 2010] [06:48:06] &lt;mikko&gt; whether event machine does that i dont know</div>
<div class="line">[Monday 24 May 2010] [06:49:32] &lt;mikko&gt; <a href="#id244"><span class="problematic" id="id245">sustrik_</span></a>: isn&#8217;t XREQ / XREP non-blocking?</div>
<div class="line">[Monday 24 May 2010] [06:50:32] &lt;mikko&gt; (sorry if im confusing the issue more)</div>
<div class="line">[Monday 24 May 2010] [06:50:43] &lt;hassox&gt;    np</div>
<div class="line">[Monday 24 May 2010] [06:50:54] &lt;hassox&gt;    I&#8217;m just in really unfamiliar territory :(</div>
<div class="line">[Monday 24 May 2010] [06:53:08] &lt;<a href="#id246"><span class="problematic" id="id247">sustrik_</span></a>&gt;  mikko: any 0mq socket can be either blocking or non-blocking</div>
<div class="line">[Monday 24 May 2010] [06:53:16] &lt;<a href="#id248"><span class="problematic" id="id249">sustrik_</span></a>&gt;  s.recv (&amp;msg);</div>
<div class="line">[Monday 24 May 2010] [06:53:18] &lt;<a href="#id250"><span class="problematic" id="id251">sustrik_</span></a>&gt;  vs.</div>
<div class="line">[Monday 24 May 2010] [06:53:23] &lt;<a href="#id252"><span class="problematic" id="id253">sustrik_</span></a>&gt;  s.recv (&amp;msg, ZMQ_NOBLOCK);</div>
<div class="line">[Monday 24 May 2010] [06:53:32] &lt;mikko&gt; so the end result would be: you want to embed zmq into node.js/eventmachine loop and receive events and have the events fire the callbacks</div>
<div class="line">[Monday 24 May 2010] [06:53:49] &lt;hassox&gt;    that sounds like what I want</div>
<div class="line">[Monday 24 May 2010] [06:53:52] &lt;mikko&gt; this functionality depends on whether your event loop allows you to register custom resources with the loop</div>
<div class="line">[Monday 24 May 2010] [06:53:54] &lt;<a href="#id254"><span class="problematic" id="id255">sustrik_</span></a>&gt;  the XREP/XREQ allows you to have multiple request in the air at the same time</div>
<div class="line">[Monday 24 May 2010] [06:54:03] &lt;mikko&gt; as 0MQ does not expose the underlying sockets directly</div>
<div class="line">[Monday 24 May 2010] [06:55:19] &lt;hassox&gt;    mikko: but you connect to the 0MQ service via  a socket yeah?</div>
<div class="line">[Monday 24 May 2010] [06:55:38] &lt;mikko&gt; the socket 0MQ gives you is an abstraction</div>
<div class="line">[Monday 24 May 2010] [06:55:44] &lt;mikko&gt; not the raw underlying posix socket</div>
<div class="line">[Monday 24 May 2010] [06:56:03] &lt;mikko&gt; <a class="reference external" href="http://pastebin.com/zmaZe9QR">http://pastebin.com/zmaZe9QR</a></div>
<div class="line">[Monday 24 May 2010] [06:56:10] &lt;mikko&gt; as a very elementary pseudo-code</div>
<div class="line">[Monday 24 May 2010] [06:56:22] &lt;mikko&gt; i would imagine soemthing like that would be needed from the event loops side</div>
<div class="line">[Monday 24 May 2010] [06:56:28] &lt;mikko&gt; but i&#8217;m not 100% sure</div>
<div class="line">[Monday 24 May 2010] [06:56:47] &lt;mikko&gt; naturally you would need more abstraction but that should show the principle</div>
<div class="line">[Monday 24 May 2010] [06:57:34] &lt;hassox&gt;    kk</div>
<div class="line">[Monday 24 May 2010] [07:00:17] &lt;hassox&gt;    thanx lads</div>
<div class="line">[Monday 24 May 2010] [07:00:30] &lt;hassox&gt;    I&#8217;ll talk to a guy I know who knows this stuff much better</div>
<div class="line">[Monday 24 May 2010] [07:00:36] &lt;hassox&gt;    it looks like it could work though :)</div>
<div class="line">[Monday 24 May 2010] [07:02:12] &lt;mikko&gt; what kind of messaging are you doing?</div>
<div class="line">[Monday 24 May 2010] [07:02:21] &lt;mikko&gt; are you trying to write a zmq server?</div>
<div class="line">[Monday 24 May 2010] [07:02:34] &lt;mikko&gt; or use 0mq within your existing server?</div>
<div class="line">[Monday 24 May 2010] [07:03:31] &lt;hassox&gt;    I&#8217;d like to use 0mq to talk between a bunch of http servers and supporting scripts</div>
<div class="line">[Monday 24 May 2010] [07:03:55] &lt;mikko&gt; <a class="reference external" href="http://github.com/mkoppanen/php-zmq/blob/master/examples/poll-server.php">http://github.com/mkoppanen/php-zmq/blob/master/examples/poll-server.php</a></div>
<div class="line">[Monday 24 May 2010] [07:03:56] &lt;hassox&gt;    atm I&#8217;m setting things up to use firewall settings and api keys for authentication, but a 0mq setup would make like a _lot_ better</div>
<div class="line">[Monday 24 May 2010] [07:04:03] &lt;mikko&gt; there is an example of php polling server</div>
<div class="line">[Monday 24 May 2010] [07:45:06] &lt;cremes&gt;    hassox: i am working on a &#8220;zmq-machine&#8221; in ruby; i should have something worthy of a push to github in another week or so</div>
<div class="line">[Monday 24 May 2010] [07:45:18] &lt;cremes&gt;    but for now, EM and 0mq can&#8217;t interact</div>
<div class="line">[Monday 24 May 2010] [07:45:32] &lt;hassox&gt;    cremes: :D and :(</div>
<div class="line">[Monday 24 May 2010] [07:45:36] &lt;cremes&gt;    EM uses POSIX sockets while 0mq is an abstraction on top of POSIX sockets</div>
<div class="line">[Monday 24 May 2010] [07:46:09] &lt;cremes&gt;    e.g. you couldn&#8217;t have an EM handler do a &#8220;connect&#8221; to a 0mq REQ socket</div>
<div class="line">[Monday 24 May 2010] [07:46:22] &lt;hassox&gt;    can you do it in normal ruby?</div>
<div class="line">[Monday 24 May 2010] [07:46:40] &lt;cremes&gt;    if you use the rbzmq or ffi-rzmq gems, then yes</div>
<div class="line">[Monday 24 May 2010] [07:46:50] &lt;cremes&gt;    you need something that &#8220;speaks&#8221; 0mq</div>
<div class="line">[Monday 24 May 2010] [07:47:11] &lt;hassox&gt;    right</div>
<div class="line">[Monday 24 May 2010] [07:47:22]      * hassox is looking frowardd to seeing what you come up with</div>
<div class="line">[Monday 24 May 2010] [07:47:43] &lt;hassox&gt;    does the zmq-machine use threads or does it assimilate into the event loop?</div>
<div class="line">[Monday 24 May 2010] [07:48:06] &lt;cremes&gt;    hassox: good question...</div>
<div class="line">[Monday 24 May 2010] [07:48:15] &lt;cremes&gt;    it will have a similar setup to EM</div>
<div class="line">[Monday 24 May 2010] [07:48:34] &lt;cremes&gt;    in EM we have the EM.run {} configuration</div>
<div class="line">[Monday 24 May 2010] [07:49:03] &lt;cremes&gt;    in zmq-machine it will be almost the same; something like ZM::Context.run {}</div>
<div class="line">[Monday 24 May 2010] [07:49:29] &lt;cremes&gt;    each Context will be its own thread; any sockets created within that context will all be non-blocking and will fire callbacks for events</div>
<div class="line">[Monday 24 May 2010] [07:49:42] &lt;cremes&gt;    <em>but</em> you can create multiple contexts each with its own thread</div>
<div class="line">[Monday 24 May 2010] [07:49:56] &lt;cremes&gt;    think of it as firing up a separate reactor loop for each thread</div>
<div class="line">[Monday 24 May 2010] [07:50:08] &lt;cremes&gt;    if EM allowed more than one reactor, we could already do this</div>
<div class="line">[Monday 24 May 2010] [07:50:18] &lt;cremes&gt;    make sense?</div>
<div class="line">[Monday 24 May 2010] [07:53:31] &lt;hassox&gt;    kinda</div>
<div class="line">[Monday 24 May 2010] [07:53:40] &lt;hassox&gt;    so 0mq won&#8217;t be available as a callback inside the em</div>
<div class="line">[Monday 24 May 2010] [07:53:52] &lt;hassox&gt;    but rather it&#8217;s a parallell event loop in the same process</div>
<div class="line">[Monday 24 May 2010] [07:56:43] &lt;cremes&gt;    hassox: yes, it is completely independent of EM; they can&#8217;t work together</div>
<div class="line">[Monday 24 May 2010] [07:57:32] &lt;hassox&gt;    :(</div>
<div class="line">[Tuesday 25 May 2010] [03:04:25] &lt;jugg&gt; <a class="reference external" href="http://www.zeromq.org/docs:cookbook">http://www.zeromq.org/docs:cookbook</a> has been a great resource, however are there any open source programs out there extensively using 0mq?  I&#8217;d like to jump in on a functional code base and start playing around.</div>
<div class="line">[Tuesday 25 May 2010] [03:05:18] &lt;jugg&gt; (preferably c/c++ code base)</div>
<div class="line">[Tuesday 25 May 2010] [03:09:09] &lt;<a href="#id256"><span class="problematic" id="id257">sustrik_</span></a>&gt; jugg: there are projects out there</div>
<div class="line">[Tuesday 25 May 2010] [03:09:16] &lt;<a href="#id258"><span class="problematic" id="id259">sustrik_</span></a>&gt; try asking on the mailing list</div>
<div class="line">[Tuesday 25 May 2010] [03:09:32] &lt;<a href="#id260"><span class="problematic" id="id261">sustrik_</span></a>&gt; some projects would definitely appreciate help</div>
<div class="line">[Tuesday 25 May 2010] [04:58:58] &lt;CIA-17&gt;   zeromq2: 03Martin Sustrik 07master * rf34a468 10/ zmqd/zmqd.cpp : coding style fixed in zmqd -</div>
<div class="line">[Tuesday 25 May 2010] [09:05:00] &lt;CIA-17&gt;   zeromq2: 03Martin Sustrik 07master * r8408ae0 10/ (9 files in 3 dirs): LWM is computed rather than explicitly specified by user - <a class="reference external" href="http://bit.ly/bHVtfR">http://bit.ly/bHVtfR</a></div>
<div class="line">[Tuesday 25 May 2010] [11:22:22] &lt;mikko&gt;    <a href="#id262"><span class="problematic" id="id263">sustrik_</span></a>: again excessive bounces</div>
<div class="line">[Tuesday 25 May 2010] [11:22:27] &lt;mikko&gt;    re-enabled</div>
<div class="line">[Tuesday 25 May 2010] [12:21:02] &lt;Skaag1&gt;   excuse me for the completely noobish question - but once zeromq is compiled, how do I start it?! :-)</div>
<div class="line">[Tuesday 25 May 2010] [12:21:10] &lt;Skaag1&gt;   no mention of that in the INSTALL file</div>
<div class="line">[Tuesday 25 May 2010] [12:21:28] &lt;Skaag1&gt;   and not in the Download page (which explains how to compile and install but not how to run it)</div>
<div class="line">[Tuesday 25 May 2010] [12:26:43] &lt;cremes&gt;   Skaag1: you don&#8217;t actually start it; it&#8217;s a library that you link in to your program (think libc)</div>
<div class="line">[Tuesday 25 May 2010] [12:27:01] &lt;cremes&gt;   take a look at the &#8220;perf&#8221; directory included with the distribution</div>
<div class="line">[Tuesday 25 May 2010] [12:27:13] &lt;cremes&gt;   there are a couple of small programs you can compile and run</div>
<div class="line">[Tuesday 25 May 2010] [12:34:35] &lt;Skaag1&gt;   gotcha</div>
<div class="line">[Tuesday 25 May 2010] [12:34:43] &lt;Skaag1&gt;   so in the case of php</div>
<div class="line">[Tuesday 25 May 2010] [12:34:51] &lt;Skaag1&gt;   since php is a one-time-run thing</div>
<div class="line">[Tuesday 25 May 2010] [12:34:58] &lt;Skaag1&gt;   how does it receive a message without waiting for it? :-)</div>
<div class="line">[Tuesday 25 May 2010] [12:35:03] &lt;Skaag1&gt;   who is queueing?</div>
<div class="line">[Tuesday 25 May 2010] [12:35:11] &lt;Skaag1&gt;   the sender?</div>
<div class="line">[Tuesday 25 May 2010] [12:35:35] &lt;Skaag1&gt;   I guess zeromq means there is no queue..? :)</div>
<div class="line">[Tuesday 25 May 2010] [12:35:49] &lt;Skaag1&gt;   it&#8217;s either up and listening, or not</div>
<div class="line">[Tuesday 25 May 2010] [12:48:33] &lt;Skaag1&gt;   am I right? :)</div>
<div class="line">[Tuesday 25 May 2010] [13:05:49] &lt;cremes&gt;   Skaag1: you need to create a socket and bind (or connect) it to another socket; then you can send/recv between them</div>
<div class="line">[Tuesday 25 May 2010] [13:06:10] &lt;cremes&gt;   by default the sockets are blocking, so your &#8220;receive&#8221; client will block on recv until a message comes in</div>
<div class="line">[Tuesday 25 May 2010] [13:06:33] &lt;cremes&gt;   i think there are php bindings available up on github; i suggest looking at those and any sample code that ships with them</div>
<div class="line">[Tuesday 25 May 2010] [13:06:44] &lt;cremes&gt;   a little code is the best way to demystify how 0mq works</div>
<div class="line">[Tuesday 25 May 2010] [13:09:23] &lt;Skaag1&gt;   yes I know, I tested the php bindings</div>
<div class="line">[Tuesday 25 May 2010] [16:39:15] &lt;<a href="#id264"><span class="problematic" id="id265">sustrik_</span></a>&gt; mikko: is it ok now?</div>
<div class="line">[Tuesday 25 May 2010] [16:51:05] &lt;cremes&gt;   <a href="#id266"><span class="problematic" id="id267">sustrik_</span></a>: any chance you could give me a quick hand in building 0mq master? i run into a problem with configure:  <a class="reference external" href="http://pastie.org/976939">http://pastie.org/976939</a></div>
<div class="line">[Tuesday 25 May 2010] [16:51:11] &lt;cremes&gt;   this is on osx intel</div>
<div class="line">[Tuesday 25 May 2010] [16:56:12] &lt;mato&gt; cremes: do you have pkg-config installed? that problem looks like you either don&#8217;t have it or autoconf doesn&#8217;t know about it</div>
<div class="line">[Tuesday 25 May 2010] [16:57:01] &lt;cremes&gt;   mato: i have version 0.23 installed</div>
<div class="line">[Tuesday 25 May 2010] [16:57:07] &lt;cremes&gt;   and it&#8217;s in the path</div>
<div class="line">[Tuesday 25 May 2010] [16:57:52] &lt;mato&gt; cremes: well it looks like your autoconf install doesn&#8217;t know about it</div>
<div class="line">[Tuesday 25 May 2010] [16:58:06] &lt;mato&gt; cremes: otherwise that PKG_CHECK_MODULES would have been expanded into the shell code</div>
<div class="line">[Tuesday 25 May 2010] [16:58:17] &lt;cremes&gt;   great...</div>
<div class="line">[Tuesday 25 May 2010] [16:58:37] &lt;mato&gt; i can&#8217;t really help you with how to fix pkg-config on macosx, sorry</div>
<div class="line">[Tuesday 25 May 2010] [16:58:40] &lt;mato&gt; but i can offer a workarounfd</div>
<div class="line">[Tuesday 25 May 2010] [16:58:52] &lt;mato&gt; cremes: try ./configure &#8211;without-pkgconfig</div>
<div class="line">[Tuesday 25 May 2010] [16:59:05] &lt;mato&gt; which is intended for something else, but it might help you</div>
<div class="line">[Tuesday 25 May 2010] [16:59:28] &lt;cremes&gt;   no joy; same error</div>
<div class="line">[Tuesday 25 May 2010] [16:59:33] &lt;mato&gt; as for the root cause, on my debian box, pkg-config installs a /usr/share/aclocal/pkg.m4 file</div>
<div class="line">[Tuesday 25 May 2010] [16:59:41] &lt;cremes&gt;   (btw, the pastie i put up tried it with that option)</div>
<div class="line">[Tuesday 25 May 2010] [17:00:12] &lt;mato&gt; so you either don&#8217;t have it, or it&#8217;s somewhere where autoconf isn&#8217;t looking for it</div>
<div class="line">[Tuesday 25 May 2010] [17:00:28] &lt;cremes&gt;   mine is located at /opt/local/share/aclocal/pkg.m4</div>
<div class="line">[Tuesday 25 May 2010] [17:00:49] &lt;cremes&gt;   let me see if there are upgrades available for autoconf, etc via macports</div>
<div class="line">[Tuesday 25 May 2010] [17:01:09] &lt;cremes&gt;   nope, all up to date</div>
<div class="line">[Tuesday 25 May 2010] [17:01:19] &lt;mato&gt; what does aclocal &#8211;print-ac-dir say?</div>
<div class="line">[Tuesday 25 May 2010] [17:01:43] &lt;cremes&gt;   it says: /usr/bin/../share/aclocal</div>
<div class="line">[Tuesday 25 May 2010] [17:01:49] &lt;mato&gt; there you go</div>
<div class="line">[Tuesday 25 May 2010] [17:02:05] &lt;mato&gt; your aclocal is built wrong</div>
<div class="line">[Tuesday 25 May 2010] [17:02:22] &lt;mato&gt; d&#8217;you have an /opt/bin/aclocal, or what aclocal is the default on your path?</div>
<div class="line">[Tuesday 25 May 2010] [17:02:27] &lt;mato&gt; might be some apple acloal</div>
<div class="line">[Tuesday 25 May 2010] [17:02:50] &lt;cremes&gt;   yeah, the apple one is first; let me rearrange my path to find the other one first</div>
<div class="line">[Tuesday 25 May 2010] [17:03:43] &lt;cremes&gt;   er, aclocal is not in ports; is it part of a larger package?</div>
<div class="line">[Tuesday 25 May 2010] [17:03:50] &lt;mato&gt; automake</div>
<div class="line">[Tuesday 25 May 2010] [17:05:33] &lt;mato&gt; hmm</div>
<div class="line">[Tuesday 25 May 2010] [17:05:37] &lt;mato&gt; alternatively try</div>
<div class="line">[Tuesday 25 May 2010] [17:05:52] &lt;cremes&gt;   i just installed automake from ports and it included aclocal</div>
<div class="line">[Tuesday 25 May 2010] [17:05:58] &lt;mato&gt; ACLOCAL=&#8221;aclocal &#8211;acdir=/opt/local/share/aclocal&#8221;</div>
<div class="line">[Tuesday 25 May 2010] [17:06:01] &lt;mato&gt; export ACLOCAL</div>
<div class="line">[Tuesday 25 May 2010] [17:06:07] &lt;mato&gt; and then run autogen.sh and configure</div>
<div class="line">[Tuesday 25 May 2010] [17:06:38] &lt;mato&gt; the autoreconf, aclocal man pages are your friend</div>
<div class="line">[Tuesday 25 May 2010] [17:07:08] &lt;cremes&gt;   success!</div>
<div class="line">[Tuesday 25 May 2010] [17:07:32] &lt;mato&gt; goodo</div>
<div class="line">[Tuesday 25 May 2010] [17:07:51] &lt;cremes&gt;   i have a login to the 0mq wiki; any chance i can update the FAQ to include this tidbit?</div>
<div class="line">[Tuesday 25 May 2010] [17:07:53] &lt;mato&gt; now report a bug to whoever provided your copy of aclocal :-)</div>
<div class="line">[Tuesday 25 May 2010] [17:08:05] &lt;cremes&gt;   heh</div>
<div class="line">[Tuesday 25 May 2010] [17:08:33] &lt;mato&gt; has someone else experienced the problem?</div>
<div class="line">[Tuesday 25 May 2010] [17:08:54] &lt;cremes&gt;   not that i am aware, but other osx users are likely to run into it if they try to build master</div>
<div class="line">[Tuesday 25 May 2010] [17:08:58] &lt;mato&gt; update the faq if you like, but put in something about complaining to your aclocal vendor :-)</div>
<div class="line">[Tuesday 25 May 2010] [17:09:12] &lt;mato&gt; please</div>
<div class="line">[Tuesday 25 May 2010] [17:09:13] &lt;cremes&gt;   ok</div>
<div class="line">[Tuesday 25 May 2010] [22:09:01] &lt;jugg&gt; is there any documentation/threads discussing the choice of lgpl3 for zeromq?</div>
<div class="line">[Wednesday 26 May 2010] [00:25:53] &lt;<a href="#id268"><span class="problematic" id="id269">sustrik_</span></a>&gt;   cremes: by all means update the faq</div>
<div class="line">[Wednesday 26 May 2010] [00:26:19] &lt;<a href="#id270"><span class="problematic" id="id271">sustrik_</span></a>&gt;   jugg: what exactly are you interested in?</div>
<div class="line">[Wednesday 26 May 2010] [00:26:26] &lt;<a href="#id272"><span class="problematic" id="id273">sustrik_</span></a>&gt;   lgpl vs. proprietary?</div>
<div class="line">[Wednesday 26 May 2010] [00:30:55] &lt;jugg&gt;   v3 is pretty invasive, so before bringing up any concerns, I&#8217;m interested in previous discussion to avoid re-hashing those issues/concerns.</div>
<div class="line">[Wednesday 26 May 2010] [00:32:45] &lt;<a href="#id274"><span class="problematic" id="id275">sustrik_</span></a>&gt;   invasive? it&#8217;s lgpl not gpl</div>
<div class="line">[Wednesday 26 May 2010] [00:32:51] &lt;<a href="#id276"><span class="problematic" id="id277">sustrik_</span></a>&gt;   what are you trying to do?</div>
<div class="line">[Wednesday 26 May 2010] [00:33:21] &lt;jugg&gt;   lgplv3 is gplv3 with certain exceptions made.</div>
<div class="line">[Wednesday 26 May 2010] [00:33:56] &lt;<a href="#id278"><span class="problematic" id="id279">sustrik_</span></a>&gt;   yup, the exceptions result in &#8220;you can do whatever you want with the application using the library&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [00:35:09] &lt;zedas&gt;  hey, on linux I&#8217;m finding zmq_poll kills my app thread, but i can&#8217;t quite find out why.  here&#8217;s the code: <a class="reference external" href="http://mulletdb.com/artifact?name=35bf3679dcef35fdefbfe19130a9d5abe1d4ee03">http://mulletdb.com/artifact?name=35bf3679dcef35fdefbfe19130a9d5abe1d4ee03</a></div>
<div class="line">[Wednesday 26 May 2010] [00:35:43] &lt;zedas&gt;  it&#8217;s just one thread running a poll loop, but gdb shows that the thread running zmq_poll exits while the two running epoll donot</div>
<div class="line">[Wednesday 26 May 2010] [00:36:51] &lt;<a href="#id280"><span class="problematic" id="id281">sustrik_</span></a>&gt;   zedas: looks like the only way to exit the loop is through the die message</div>
<div class="line">[Wednesday 26 May 2010] [00:37:44] &lt;zedas&gt;  <a class="reference external" href="http://dpaste.de/dYJs/">http://dpaste.de/dYJs/</a>  heres&#8217; the backtrace in the threads</div>
<div class="line">[Wednesday 26 May 2010] [00:38:12] &lt;<a href="#id282"><span class="problematic" id="id283">sustrik_</span></a>&gt;   aha, or zmq_poll can return error</div>
<div class="line">[Wednesday 26 May 2010] [00:38:13] &lt;zedas&gt;  <a href="#id284"><span class="problematic" id="id285">sustrik_</span></a>: i thought too, but the thread exits immediately, it doesn&#8217;t return back to the caller of zmq_poll.</div>
<div class="line">[Wednesday 26 May 2010] [00:38:13] &lt;jugg&gt;   The main concern with v3 is that it controls the hardware system.  If, for instance, I wanted to lease/sell a hw system (box), and do so at a low cost because support contracts would be put in place - but including a v3 (lgpl/gpl) piece of software prevents me from locking down the software that is run on the box.  I&#8217;m happy to provide the source to said software, but I&#8217;m not happy to allow other uses of said box.  The v3 specfi</div>
<div class="line">[Wednesday 26 May 2010] [00:38:13] &lt;jugg&gt;   cally tries to prevent this (tivo).   So, using zeromq in such a platform is not possible.</div>
<div class="line">[Wednesday 26 May 2010] [00:38:22] &lt;<a href="#id286"><span class="problematic" id="id287">sustrik_</span></a>&gt;   then the loop would exit</div>
<div class="line">[Wednesday 26 May 2010] [00:38:30] &lt;<a href="#id288"><span class="problematic" id="id289">sustrik_</span></a>&gt;   can you check the actual error code?</div>
<div class="line">[Wednesday 26 May 2010] [00:38:31] &lt;zedas&gt;  yep, but i don&#8217;t get an exit</div>
<div class="line">[Wednesday 26 May 2010] [00:38:55] &lt;zedas&gt;  so i put break points right after the zmq_poll call, also tried getting the return value</div>
<div class="line">[Wednesday 26 May 2010] [00:39:04] &lt;zedas&gt;  and not getting it.  just boom.</div>
<div class="line">[Wednesday 26 May 2010] [00:39:19] &lt;zedas&gt;  so, insize zmq.cpp there&#8217;s code that gets the app_thread</div>
<div class="line">[Wednesday 26 May 2010] [00:39:38] &lt;<a href="#id290"><span class="problematic" id="id291">sustrik_</span></a>&gt;   hm, the backtrace looks like it&#8217;s still inside zmq_poll</div>
<div class="line">[Wednesday 26 May 2010] [00:39:53] &lt;<a href="#id292"><span class="problematic" id="id293">sustrik_</span></a>&gt;   blocked maybe?</div>
<div class="line">[Wednesday 26 May 2010] [00:40:08] &lt;zedas&gt;  oh i stopped it</div>
<div class="line">[Wednesday 26 May 2010] [00:40:21] &lt;zedas&gt;  right at the poll so i can see what thread is dying</div>
<div class="line">[Wednesday 26 May 2010] [00:40:32] &lt;zedas&gt;  so basically i run that for a while, then pound it with a client</div>
<div class="line">[Wednesday 26 May 2010] [00:40:55] &lt;zedas&gt;  works fine but after a few thousand iterations that thread just exits right after the poll and doesn&#8217;t come back to the caller</div>
<div class="line">[Wednesday 26 May 2010] [00:41:05] &lt;<a href="#id294"><span class="problematic" id="id295">sustrik_</span></a>&gt;   strange</div>
<div class="line">[Wednesday 26 May 2010] [00:41:16] &lt;zedas&gt;  so, i&#8217;m wondering if i wanted to try to catch that where would i breakpoint?  inside zmq.cpp?</div>
<div class="line">[Wednesday 26 May 2010] [00:42:13] &lt;<a href="#id296"><span class="problematic" id="id297">sustrik_</span></a>&gt;   what about stepping through the zmq_poll implementation and checking where exactly it exists?</div>
<div class="line">[Wednesday 26 May 2010] [00:42:14] &lt;zedas&gt;  i&#8217;m thinking that it might actually be exiting, but g++ might optimizing out the actual exit</div>
<div class="line">[Wednesday 26 May 2010] [00:42:36] &lt;<a href="#id298"><span class="problematic" id="id299">sustrik_</span></a>&gt;   zedas, by all means compile with CXXFLAGS=&#8221;-g -O0&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [00:42:37] &lt;zedas&gt;  well, i have to run it a shitload :-)</div>
<div class="line">[Wednesday 26 May 2010] [00:42:45] &lt;zedas&gt;  so it&#8217;d be a lot of stepping</div>
<div class="line">[Wednesday 26 May 2010] [00:43:05] &lt;<a href="#id300"><span class="problematic" id="id301">sustrik_</span></a>&gt;   try turning the optimisation off first</div>
<div class="line">[Wednesday 26 May 2010] [00:43:17] &lt;zedas&gt;  yep doing that</div>
<div class="line">[Wednesday 26 May 2010] [00:43:25] &lt;zedas&gt;  also, maybe strace?</div>
<div class="line">[Wednesday 26 May 2010] [00:44:28] &lt;<a href="#id302"><span class="problematic" id="id303">sustrik_</span></a>&gt;   jugg: i am not a IP lawyer :) please, do post your question to the mailing list</div>
<div class="line">[Wednesday 26 May 2010] [00:44:36] &lt;<a href="#id304"><span class="problematic" id="id305">sustrik_</span></a>&gt;   imatix should answer this</div>
<div class="line">[Wednesday 26 May 2010] [00:44:58] &lt;<a href="#id306"><span class="problematic" id="id307">sustrik_</span></a>&gt;   zedas: possibly</div>
<div class="line">[Wednesday 26 May 2010] [00:45:05] &lt;jugg&gt;   ok</div>
<div class="line">[Wednesday 26 May 2010] [01:01:35] &lt;zedas&gt;  <a href="#id308"><span class="problematic" id="id309">sustrik_</span></a>: nope still doing it</div>
<div class="line">[Wednesday 26 May 2010] [01:03:11] &lt;<a href="#id310"><span class="problematic" id="id311">sustrik_</span></a>&gt;   zedas: it&#8217;s really strange, i cannot think of thread unexpectedly exiting aside of some serious stack overwrite</div>
<div class="line">[Wednesday 26 May 2010] [01:03:14] &lt;<a href="#id312"><span class="problematic" id="id313">sustrik_</span></a>&gt;   anyway</div>
<div class="line">[Wednesday 26 May 2010] [01:03:37] &lt;<a href="#id314"><span class="problematic" id="id315">sustrik_</span></a>&gt;   sanity check: can you add a printf after the loop?</div>
<div class="line">[Wednesday 26 May 2010] [01:03:59] &lt;<a href="#id316"><span class="problematic" id="id317">sustrik_</span></a>&gt;   just to be 100% sure that the thread disappers rather then exits?</div>
<div class="line">[Wednesday 26 May 2010] [01:05:35] &lt;zedas&gt;  <a href="#id318"><span class="problematic" id="id319">sustrik_</span></a>: exactly,</div>
<div class="line">[Wednesday 26 May 2010] [01:05:57] &lt;zedas&gt;  <a href="#id320"><span class="problematic" id="id321">sustrik_</span></a>: yep done that, breakpoints, everything.  i&#8217;m now thinking memory/stack overflow</div>
<div class="line">[Wednesday 26 May 2010] [01:06:17] &lt;zedas&gt;  doing one more thing next.  i do a while(true) so it never exits and see what i get</div>
<div class="line">[Wednesday 26 May 2010] [01:07:48] &lt;zedas&gt;  <a href="#id322"><span class="problematic" id="id323">sustrik_</span></a>: you&#8217;re right, this <em>has</em> to be a stack overflow.  i shall valgrind it.</div>
<div class="line">[Wednesday 26 May 2010] [01:08:09] &lt;<a href="#id324"><span class="problematic" id="id325">sustrik_</span></a>&gt;   try that &#8211; i really haven&#8217;t seen it behave like this</div>
<div class="line">[Wednesday 26 May 2010] [01:08:15] &lt;<a href="#id326"><span class="problematic" id="id327">sustrik_</span></a>&gt;   something strange going on</div>
<div class="line">[Wednesday 26 May 2010] [01:42:08] &lt;zedas&gt;  <a href="#id328"><span class="problematic" id="id329">sustrik_</span></a>: yep, stack smash.  there&#8217;s a piece of another library i&#8217;m using that had a stray free where it didn&#8217;t belong.</div>
<div class="line">[Wednesday 26 May 2010] [01:42:31] &lt;zedas&gt;  removed it and so far it seems to be stable, although leaking.  i&#8217;ll let you know if it holds true</div>
<div class="line">[Wednesday 26 May 2010] [01:43:29] &lt;<a href="#id330"><span class="problematic" id="id331">sustrik_</span></a>&gt;   zedas: great, thanks</div>
<div class="line">[Wednesday 26 May 2010] [07:08:22] &lt;sjampoo&gt;    have been lurking on the mailinglist, zmq_wait_fd looks REALLY useful. Just to make sure i understand this correct. I can poll on the fd with just regular EPOLL and when something is ready i can just call zmq_recv, right?</div>
<div class="line">[Wednesday 26 May 2010] [07:14:08] &lt;sustrik&gt;    sjampoo: it&#8217;s a bit more complex</div>
<div class="line">[Wednesday 26 May 2010] [07:14:22] &lt;sustrik&gt;    when fd is ready</div>
<div class="line">[Wednesday 26 May 2010] [07:14:46] &lt;sustrik&gt;    it means &#8220;something had happened&#8221; within 0MQ library</div>
<div class="line">[Wednesday 26 May 2010] [07:15:09] &lt;sustrik&gt;    then you have to check whether there messages available</div>
<div class="line">[Wednesday 26 May 2010] [07:15:35] &lt;sustrik&gt;    but maybe there are no messages</div>
<div class="line">[Wednesday 26 May 2010] [07:15:40] &lt;sjampoo&gt;    Aha.</div>
<div class="line">[Wednesday 26 May 2010] [07:16:04] &lt;sjampoo&gt;    Ok, well it would still help me in some way, i could do the main polling with EPOLL and on a signal i could do a non blocking zmq_poll</div>
<div class="line">[Wednesday 26 May 2010] [07:16:19] &lt;sustrik&gt;    sjampoo: exactly</div>
<div class="line">[Wednesday 26 May 2010] [07:16:21] &lt;sjampoo&gt;    wonder how the performance would differ compared to just building around zmq_poll</div>
<div class="line">[Wednesday 26 May 2010] [07:16:38] &lt;sustrik&gt;    + the overhead of epoll :)</div>
<div class="line">[Wednesday 26 May 2010] [07:17:19] &lt;sjampoo&gt;    Yes, it would be a bit slower for 0MQ sockets but most of my data is through regular sockets unfortunately</div>
<div class="line">[Wednesday 26 May 2010] [07:17:39] &lt;sjampoo&gt;    And i experienced that using EPOLL is faster for that.</div>
<div class="line">[Wednesday 26 May 2010] [07:17:46] &lt;sustrik&gt;    definitely</div>
<div class="line">[Wednesday 26 May 2010] [07:18:27] &lt;sjampoo&gt;    in this situation i don&#8217;t really care if the signal fd is for a socket or a context</div>
<div class="line">[Wednesday 26 May 2010] [07:18:40] &lt;sjampoo&gt;    It could even be part of the Poll set</div>
<div class="line">[Wednesday 26 May 2010] [07:18:47] &lt;sjampoo&gt;    but anyway it all makes me happy :)</div>
<div class="line">[Wednesday 26 May 2010] [07:18:56] &lt;sustrik&gt;    great :)</div>
<div class="line">[Wednesday 26 May 2010] [07:27:40] &lt;jugg&gt;   lines 129 and 131 seems to be swapped: <a class="reference external" href="http://github.com/mato/zeromq-examples/blob/master/zmq-camera.c">http://github.com/mato/zeromq-examples/blob/master/zmq-camera.c</a>  from the documentation, it seems the local loopback should be using zmq_bind, and the remote end point should be using zmq_connect.  Am I confused?</div>
<div class="line">[Wednesday 26 May 2010] [07:30:50] &lt;sustrik&gt;    jugg: i am not familiar with the example, but it used to work</div>
<div class="line">[Wednesday 26 May 2010] [07:30:59] &lt;sustrik&gt;    why do you believe it&#8217;s swapped?</div>
<div class="line">[Wednesday 26 May 2010] [07:36:09] &lt;jugg&gt;   zmq_bind - assign a local address to a socket, zmq_connect - connect a socket to a peer address  (more detail in the docs), const char local_camera[] = &#8220;inproc://local-camera&#8221;; and the comment above the two lines in question.</div>
<div class="line">[Wednesday 26 May 2010] [07:37:18] &lt;jugg&gt;   swapped meaning that zmq_bind should be used on local_camera, and zmq_connect should be used on sender_args-&gt;endpoint</div>
<div class="line">[Wednesday 26 May 2010] [07:38:14] &lt;sustrik&gt;    ah</div>
<div class="line">[Wednesday 26 May 2010] [07:38:32] &lt;sustrik&gt;    afaiu &#8220;local camera&#8221; means that it runs in the same process</div>
<div class="line">[Wednesday 26 May 2010] [07:39:03] &lt;sustrik&gt;    &#8220;assign a local address to a socket&#8221; means local NIC (on this box)</div>
<div class="line">[Wednesday 26 May 2010] [07:39:15] &lt;sustrik&gt;    local != local :)</div>
<div class="line">[Wednesday 26 May 2010] [07:39:41] &lt;sustrik&gt;    the comment is confusing</div>
<div class="line">[Wednesday 26 May 2010] [07:40:24] &lt;sustrik&gt;    maybe local_camera should be renamed to my_camera?</div>
<div class="line">[Wednesday 26 May 2010] [07:42:51] &lt;jugg&gt;   I think I need to better understand the differences between bind/connect...</div>
<div class="line">[Wednesday 26 May 2010] [07:43:23] &lt;sustrik&gt;    the documentation should be improved...</div>
<div class="line">[Wednesday 26 May 2010] [07:43:37] &lt;sustrik&gt;    the last wording we came with was:</div>
<div class="line">[Wednesday 26 May 2010] [07:43:46] &lt;sustrik&gt;    &#8220;bind&#8221; creates an endpoint</div>
<div class="line">[Wednesday 26 May 2010] [07:44:01] &lt;sustrik&gt;    &#8220;connect&#8221; establishes a connection to the endpoint</div>
<div class="line">[Wednesday 26 May 2010] [07:44:08] &lt;sustrik&gt;    does that make more sense?</div>
<div class="line">[Wednesday 26 May 2010] [07:51:56] &lt;jugg&gt;   yes, assuming my understanding is correct :P  where are endpoints discussed in the documentation?</div>
<div class="line">[Wednesday 26 May 2010] [07:53:00] &lt;sjampoo&gt;    jugg, i am not really sure if there is any specific documentation about that.</div>
<div class="line">[Wednesday 26 May 2010] [07:53:07] &lt;sjampoo&gt;    But i had trouble understanding that as well</div>
<div class="line">[Wednesday 26 May 2010] [07:53:50] &lt;sjampoo&gt;    I had an eureka moment when i saw there 0MQ allows you to design a messaging system at two different levels</div>
<div class="line">[Wednesday 26 May 2010] [07:54:06] &lt;sjampoo&gt;    First the infrastructure, who connects to who (bind/connect)</div>
<div class="line">[Wednesday 26 May 2010] [07:54:22] &lt;sjampoo&gt;    Ie, multiple clients usually connect to a single server which binds to a single port</div>
<div class="line">[Wednesday 26 May 2010] [07:54:34] &lt;sjampoo&gt;    Then at the second level you have the data flow</div>
<div class="line">[Wednesday 26 May 2010] [07:55:00] &lt;sjampoo&gt;    Ie, you can bind to port and subscribe to all message OR publish to it</div>
<div class="line">[Wednesday 26 May 2010] [07:57:17] &lt;sustrik&gt;    sjampoo, yes, that&#8217;s missing from the docs</div>
<div class="line">[Wednesday 26 May 2010] [07:57:31]   * sustrik wonders how to get thus kind of insights in</div>
<div class="line">[Wednesday 26 May 2010] [07:58:35] &lt;jugg&gt;   hmm, &#8220;who connects to who&#8221; may hit on some of the missunderstanding for me... is it the case that in a P2P socket, one has to bind, the other connect?</div>
<div class="line">[Wednesday 26 May 2010] [07:58:52] &lt;jugg&gt;   sustrik: diagrams</div>
<div class="line">[Wednesday 26 May 2010] [07:58:58] &lt;sustrik&gt;    jugg: yes</div>
<div class="line">[Wednesday 26 May 2010] [07:59:06] &lt;sustrik&gt;    what kind of diagrams?</div>
<div class="line">[Wednesday 26 May 2010] [08:00:31] &lt;jugg&gt;   connection and data flow</div>
<div class="line">[Wednesday 26 May 2010] [08:01:12] &lt;jugg&gt;   do you have a term for an entity implementing zmq?  eg. client or ?</div>
<div class="line">[Wednesday 26 May 2010] [08:01:40] &lt;jugg&gt;   there are various roles of course, client, service, broker etc</div>
<div class="line">[Wednesday 26 May 2010] [08:03:34] &lt;jugg&gt;   but anyway, diagrams showing zmq entities, which one uses connect, which uses bind, and the type of socket used, and data flow between them.  ??</div>
<div class="line">[Wednesday 26 May 2010] [08:04:03] &lt;sustrik&gt;    jugg: i fear the connection diagrams would be dead trivial</div>
<div class="line">[Wednesday 26 May 2010] [08:04:08] &lt;sustrik&gt;    showing two nodes</div>
<div class="line">[Wednesday 26 May 2010] [08:04:12] &lt;sustrik&gt;    one doing bind</div>
<div class="line">[Wednesday 26 May 2010] [08:04:16] &lt;sustrik&gt;    another one connect</div>
<div class="line">[Wednesday 26 May 2010] [08:04:20] &lt;jugg&gt;   perfect</div>
<div class="line">[Wednesday 26 May 2010] [08:04:24] &lt;sustrik&gt;    :)</div>
<div class="line">[Wednesday 26 May 2010] [08:04:24] &lt;jugg&gt;   :)</div>
<div class="line">[Wednesday 26 May 2010] [08:05:10] &lt;pieterh&gt;    i&#8217;m making new documentation</div>
<div class="line">[Wednesday 26 May 2010] [08:05:19] &lt;pieterh&gt;    it&#8217;ll be on the website as wiki text</div>
<div class="line">[Wednesday 26 May 2010] [08:05:25] &lt;pieterh&gt;    so anyone can join in and edit</div>
<div class="line">[Wednesday 26 May 2010] [08:05:25] &lt;jugg&gt;   I think I&#8217;m getting passed the point of needing the diagrams with this discussion, but newbies are a blank slate, bind,connect,socket have no meaning.  Simple diagrams quickly get us passed the blank slate state. :)</div>
<div class="line">[Wednesday 26 May 2010] [08:05:34] &lt;pieterh&gt;    &#64;jugg: ack</div>
<div class="line">[Wednesday 26 May 2010] [08:05:56] &lt;pieterh&gt;    my big advantage is that i&#8217;m a newbie :-)</div>
<div class="line">[Wednesday 26 May 2010] [08:06:06] &lt;pieterh&gt;    slates don&#8217;t come much blanker than me</div>
<div class="line">[Wednesday 26 May 2010] [08:06:10] &lt;sustrik&gt;    i think sjampoo&#8217;s comment about having two separate phases (establishing connections / sending messages) is important</div>
<div class="line">[Wednesday 26 May 2010] [08:06:18] &lt;jugg&gt;   :)</div>
<div class="line">[Wednesday 26 May 2010] [08:06:29] &lt;sustrik&gt;    if user doesn&#8217;t get that he&#8217;s lost</div>
<div class="line">[Wednesday 26 May 2010] [08:06:45] &lt;pieterh&gt;    &#64;sustrik: normally these would be formalized in user-level APIs, no?</div>
<div class="line">[Wednesday 26 May 2010] [08:07:01] &lt;sustrik&gt;    connect/bind vs. send/recv</div>
<div class="line">[Wednesday 26 May 2010] [08:07:03] &lt;pieterh&gt;    topology being hidden</div>
<div class="line">[Wednesday 26 May 2010] [08:07:31] &lt;jugg&gt;   sustrik: your original clarification above: create endpoint, connect to endpoint was a big help as well.</div>
<div class="line">[Wednesday 26 May 2010] [08:08:15] &lt;pieterh&gt;    &#64;jugg: we argued about this for a while, I insist that 0MQ <em>does</em> have connections, except they&#8217;re not TCP connections but 0MQ connections</div>
<div class="line">[Wednesday 26 May 2010] [08:08:20] &lt;jugg&gt;   my original read of the documentation was that it was necessary to use two different functions depending if I was connecting locally or remotely.</div>
<div class="line">[Wednesday 26 May 2010] [08:08:43] &lt;pieterh&gt;    the local/remote explanation is misleading</div>
<div class="line">[Wednesday 26 May 2010] [08:08:44] &lt;sustrik&gt;    yes, that&#8217;s confusing</div>
<div class="line">[Wednesday 26 May 2010] [08:08:51] &lt;pieterh&gt;    you can connect to a local socket</div>
<div class="line">[Wednesday 26 May 2010] [08:09:04] &lt;pieterh&gt;    it&#8217;s about creating directed 0MQ connections (arrows)</div>
<div class="line">[Wednesday 26 May 2010] [08:09:09] &lt;sustrik&gt;    zmq_connect(3) and zmq_bind(3) should be fixed</div>
<div class="line">[Wednesday 26 May 2010] [08:09:11] &lt;pieterh&gt;    in my blank slate mind, anyhow</div>
<div class="line">[Wednesday 26 May 2010] [08:09:55] &lt;pieterh&gt;    &#64;sustrik: it would be helpful IMO to stop saying that &#8220;0MQ does not have connections&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [08:10:09] &lt;pieterh&gt;    it is freaky to have to &#8220;connect&#8221; and then think &#8220;there are no connections&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [08:10:48] &lt;jugg&gt;   now, one more clarification point... even if I bind a socket, I can still send - ie, bind/recv and connect/send are not coupled, correct?</div>
<div class="line">[Wednesday 26 May 2010] [08:11:05] &lt;jugg&gt;   that being to pieterh&#8217;s point</div>
<div class="line">[Wednesday 26 May 2010] [08:11:18] &lt;sjampoo&gt;    jugg, exactly</div>
<div class="line">[Wednesday 26 May 2010] [08:11:25] &lt;sustrik&gt;    yes</div>
<div class="line">[Wednesday 26 May 2010] [08:11:27] &lt;pieterh&gt;    you can always send but it won&#8217;t go anywhere, right?</div>
<div class="line">[Wednesday 26 May 2010] [08:11:36] &lt;jugg&gt;   sjampoo: sorry, that was your point. :)</div>
<div class="line">[Wednesday 26 May 2010] [08:11:39] &lt;sustrik&gt;    it&#8217;s either queued or dropped</div>
<div class="line">[Wednesday 26 May 2010] [08:11:51] &lt;sustrik&gt;    depending on the messaging pattern</div>
<div class="line">[Wednesday 26 May 2010] [08:11:54] &lt;pieterh&gt;    right</div>
<div class="line">[Wednesday 26 May 2010] [08:12:17] &lt;jugg&gt;   does bind/connect have to do more with queues?</div>
<div class="line">[Wednesday 26 May 2010] [08:12:37] &lt;pieterh&gt;    bind creates an endpoint and connect creates a 0MQ connection to that endpoint</div>
<div class="line">[Wednesday 26 May 2010] [08:12:46] &lt;pieterh&gt;    once the connection exists, messages may flow across it</div>
<div class="line">[Wednesday 26 May 2010] [08:12:47] &lt;jugg&gt;   yes, what is an endpoint?</div>
<div class="line">[Wednesday 26 May 2010] [08:12:58] &lt;pieterh&gt;    an endpoint is a socket that accepts connections :-)</div>
<div class="line">[Wednesday 26 May 2010] [08:13:06] &lt;pieterh&gt;    it is a connection endpoint</div>
<div class="line">[Wednesday 26 May 2010] [08:13:10] &lt;pieterh&gt;    not a messaging endpoint</div>
<div class="line">[Wednesday 26 May 2010] [08:13:17] &lt;sustrik&gt;    it can also be a device</div>
<div class="line">[Wednesday 26 May 2010] [08:13:31] &lt;pieterh&gt;    topology construction, ball &amp; socket</div>
<div class="line">[Wednesday 26 May 2010] [08:13:41] &lt;pieterh&gt;    devices can have sockets and ... dare I say it... balls</div>
<div class="line">[Wednesday 26 May 2010] [08:14:10] &lt;sjampoo&gt;    balls?</div>
<div class="line">[Wednesday 26 May 2010] [08:14:12] &lt;pieterh&gt;    i am abusing &#8220;socket&#8221; now... :-(</div>
<div class="line">[Wednesday 26 May 2010] [08:14:13] &lt;sjampoo&gt;    heh</div>
<div class="line">[Wednesday 26 May 2010] [08:15:15] &lt;sjampoo&gt;    oh, as in a bone joint...</div>
<div class="line">[Wednesday 26 May 2010] [08:15:16] &lt;jugg&gt;   so, in p2p terms, either peer can accept connections (bind) or make a connection (connect), regardless of the direction the connection was made, both peers can send/recv messages over that connection.</div>
<div class="line">[Wednesday 26 May 2010] [08:15:40] &lt;pieterh&gt;    &#64;jugg, last part depends on socket types</div>
<div class="line">[Wednesday 26 May 2010] [08:15:49] &lt;pieterh&gt;    but otherwise, yes</div>
<div class="line">[Wednesday 26 May 2010] [08:16:08] &lt;jugg&gt;   socket type p2p</div>
<div class="line">[Wednesday 26 May 2010] [08:16:22] &lt;pieterh&gt;    usually but not always the &#8220;client&#8221; connects to the &#8220;server&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [08:16:43] &lt;pieterh&gt;    but you can usefully have cases where the &#8220;server&#8221; will connect to the &#8220;client&#8221;, e.g. to get out from firewalls</div>
<div class="line">[Wednesday 26 May 2010] [08:17:08] &lt;jugg&gt;   yes, the peer accepting connections (bind) is the &#8220;server&#8221;, the one making the connection (connect) is the &#8220;client&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [08:17:19] &lt;pieterh&gt;    it&#8217;s the common model</div>
<div class="line">[Wednesday 26 May 2010] [08:17:54] &lt;jugg&gt;   I don&#8217;t think any of my last three comments are incorrect? (hopefully)</div>
<div class="line">[Wednesday 26 May 2010] [08:17:56] &lt;pieterh&gt;    (of course we can do lots of weird stuff but knowing that is not helpful to newbies)</div>
<div class="line">[Wednesday 26 May 2010] [08:18:16] &lt;pieterh&gt;    &#64;jugg, no, but the last one was totally incorrect!</div>
<div class="line">[Wednesday 26 May 2010] [08:18:26] &lt;pieterh&gt;    :-)</div>
<div class="line">[Wednesday 26 May 2010] [08:18:28] &lt;jugg&gt;   poor me :)</div>
<div class="line">[Wednesday 26 May 2010] [08:20:56] &lt;jugg&gt;   ok, the socket type doesn&#8217;t dictate the server/client role?</div>
<div class="line">[Wednesday 26 May 2010] [08:21:23] &lt;jugg&gt;   eg. I can set up a ZMQ_PUB socket, and it could be used in zmq_bind or zmq_connect, yes?</div>
<div class="line">[Wednesday 26 May 2010] [08:21:33] &lt;pieterh&gt;    &#64;jugg, yes</div>
<div class="line">[Wednesday 26 May 2010] [08:21:47] &lt;pieterh&gt;    a publisher can connect to a subscriber</div>
<div class="line">[Wednesday 26 May 2010] [08:21:57] &lt;pieterh&gt;    but that&#8217;s a weird usecase which I&#8217;d want to hide from newbies</div>
<div class="line">[Wednesday 26 May 2010] [08:22:20] &lt;jugg&gt;   and that goes for the rest of the socket types as well?  socket type is bind/connect agnostic?</div>
<div class="line">[Wednesday 26 May 2010] [08:22:26] &lt;pieterh&gt;    yes</div>
<div class="line">[Wednesday 26 May 2010] [08:22:42] &lt;jugg&gt;   ok, things are falling into place.  slowly... :)</div>
<div class="line">[Wednesday 26 May 2010] [08:22:48] &lt;pieterh&gt;    &#64;sustrik: i&#8217;m likely to say stupid things, please correct me if I&#8217;m wrong...</div>
<div class="line">[Wednesday 26 May 2010] [08:23:04] &lt;sustrik&gt;    you are right, np</div>
<div class="line">[Wednesday 26 May 2010] [08:23:08] &lt;pieterh&gt;    nice!</div>
<div class="line">[Wednesday 26 May 2010] [08:23:17] &lt;jugg&gt;   blind leading the blind, how nice :)</div>
<div class="line">[Wednesday 26 May 2010] [08:23:35] &lt;sustrik&gt;    now you see the problems with docs i mentioned last week</div>
<div class="line">[Wednesday 26 May 2010] [08:23:37] &lt;pieterh&gt;    &#64;jugg: i have one eye slightly open... can just about make out the crevasses</div>
<div class="line">[Wednesday 26 May 2010] [08:23:55] &lt;pieterh&gt;    &#64;sustrik: yes, it&#8217;s pretty clear we have a lot of work to do documenting the basics</div>
<div class="line">[Wednesday 26 May 2010] [08:24:09] &lt;pieterh&gt;    i&#8217;ll have a first draft ready real soon</div>
<div class="line">[Wednesday 26 May 2010] [08:26:42] &lt;jugg&gt;   ok, best practice documentation, or tradeoff discussion on setting up the network topology - ie, deciding who should bind, who should connect.</div>
<div class="line">[Wednesday 26 May 2010] [08:27:40] &lt;jugg&gt;   eg, how can I assure that messages I&#8217;m sending out are not dropped into oblivion if the other side of the connection doesn&#8217;t yet exist?</div>
<div class="line">[Wednesday 26 May 2010] [08:28:47] &lt;sustrik&gt;    yes</div>
<div class="line">[Wednesday 26 May 2010] [08:28:54] &lt;pieterh&gt;    &#64;jugg, yes</div>
<div class="line">[Wednesday 26 May 2010] [08:29:19] &lt;jugg&gt;   yes, I can assure this?</div>
<div class="line">[Wednesday 26 May 2010] [08:29:30] &lt;pieterh&gt;    yes, documenting best practice</div>
<div class="line">[Wednesday 26 May 2010] [08:29:41] &lt;pieterh&gt;    as to how to assure it, it depends on the socket types</div>
<div class="line">[Wednesday 26 May 2010] [08:30:07] &lt;pieterh&gt;    best practice in some scenarios is &#8220;drop stuff you can&#8217;t deliver&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [08:32:03] &lt;jugg&gt;   sorry, slightly lost,  this is what you are currently working on documenting, or it is already documented somewhere, if so, where?  :)</div>
<div class="line">[Wednesday 26 May 2010] [08:33:04] &lt;pieterh&gt;    &#64;jugg: i am working on that documentation now</div>
<div class="line">[Wednesday 26 May 2010] [08:34:09] &lt;jugg&gt;   cool</div>
<div class="line">[Wednesday 26 May 2010] [08:34:30] &lt;pieterh&gt;    i&#8217;ll put it up as wiki text with space for comments and/or arbitrary contributions</div>
<div class="line">[Wednesday 26 May 2010] [08:44:00] &lt;cremes&gt; jugg: regarding your question about assuring messages you send are not dropped because the other side doesn&#8217;t exist yet...</div>
<div class="line">[Wednesday 26 May 2010] [08:44:04] &lt;cremes&gt; here is how i solve that</div>
<div class="line">[Wednesday 26 May 2010] [08:44:28] &lt;cremes&gt; if i am going to have a PUB socket deliver data, i don&#8217;t allow it to start until there is at least one request</div>
<div class="line">[Wednesday 26 May 2010] [08:44:49] &lt;cremes&gt; so i pair up my PUB socket with a REP socket that i bind to an endpoint</div>
<div class="line">[Wednesday 26 May 2010] [08:45:24] &lt;cremes&gt; clients that want data can connect to my REP socket with a REQ socket and send me a request</div>
<div class="line">[Wednesday 26 May 2010] [08:45:38] &lt;cremes&gt; upon receipt, i begin publishing</div>
<div class="line">[Wednesday 26 May 2010] [08:46:17] &lt;cremes&gt; that &#8220;pattern&#8221; has been working well</div>
<div class="line">[Wednesday 26 May 2010] [08:48:12] &lt;jugg&gt;   what does &#8220;pair up&#8221; mean?</div>
<div class="line">[Wednesday 26 May 2010] [08:49:23] &lt;jugg&gt;   using an zmq concept, or simply as an internal meta relationship?</div>
<div class="line">[Wednesday 26 May 2010] [08:49:26] &lt;cremes&gt; &#8220;pair up&#8221; means that my server uses both PUB and REP sockets to provide services; REP for receiving the first request, PUB to send the data</div>
<div class="line">[Wednesday 26 May 2010] [08:49:35] &lt;cremes&gt; internal meta relationship</div>
<div class="line">[Wednesday 26 May 2010] [08:49:55] &lt;jugg&gt;   ok, that makes sense.</div>
<div class="line">[Wednesday 26 May 2010] [08:50:41] &lt;cremes&gt; i use REQ/REP sockets to transition my servers through a state machine and other socket types for mass-data delivery</div>
<div class="line">[Wednesday 26 May 2010] [08:51:14] &lt;cremes&gt; the semantics of each 0mq socket type make this easier to think about nwo that i have gotten past the bind/connect confusion :)</div>
<div class="line">[Wednesday 26 May 2010] [08:54:39] &lt;jugg&gt;   so any quick pointers on choosing bind/connect and socket types?  Currently, I have several nodes, four of them are chained in a one way message passing n1-&gt;n2-&gt;n3-&gt;n4.  Another node (n0) exists that receives requests from any other nodes and responds to those messages n1&#64;-&gt;n0, n2&#64;-&gt;n0, n3&#64;-&gt;n0, n4&#64;-&gt;n0 (the &#64; deliniating response to -&gt; request).  Also, n3 must subscribe to publications by n0 (which is the only publication from n0).</div>
<div class="line">[Wednesday 26 May 2010] [08:55:22] &lt;jugg&gt;   the REQ/REP seems obvious for the nX&#64;-&gt;n0 interface</div>
<div class="line">[Wednesday 26 May 2010] [08:55:42] &lt;jugg&gt;   But I&#8217;m uncertain whether to use PUB/SUB or P2P for the chaining.</div>
<div class="line">[Wednesday 26 May 2010] [08:56:47] &lt;jugg&gt;   I think what cremes just described makes good sense for the n3 subscription to n0.</div>
<div class="line">[Wednesday 26 May 2010] [08:57:58] &lt;jugg&gt;   I&#8217;d probably go with bind/connect based on message direction for the chaining, the receiving binding, the sender connecting.  But I have no basis for that other than simplicity of thinking.</div>
<div class="line">[Wednesday 26 May 2010] [09:00:20] &lt;jugg&gt;   hmm, n1-4 also send messages to n0 which don&#8217;t require a response.</div>
<div class="line">[Wednesday 26 May 2010] [09:00:58] &lt;sustrik&gt;    cremes: connecting PUB socket to REP socket is not a good idea</div>
<div class="line">[Wednesday 26 May 2010] [09:01:17] &lt;sustrik&gt;    why not have REQ instead of PUB?</div>
<div class="line">[Wednesday 26 May 2010] [09:01:31] &lt;jugg&gt;   I don&#8217;t think he is doing that?</div>
<div class="line">[Wednesday 26 May 2010] [09:01:45] &lt;sustrik&gt;    ah</div>
<div class="line">[Wednesday 26 May 2010] [09:01:48] &lt;sustrik&gt;    pair</div>
<div class="line">[Wednesday 26 May 2010] [09:01:55] &lt;sustrik&gt;    != connect</div>
<div class="line">[Wednesday 26 May 2010] [09:02:01] &lt;sustrik&gt;    sorry for confusion</div>
<div class="line">[Wednesday 26 May 2010] [09:05:42] &lt;jugg&gt;   ipc vs tcp loopback,  any obvious reason to go one way or the other?</div>
<div class="line">[Wednesday 26 May 2010] [09:05:54] &lt;sustrik&gt;    ipc is faster on linux</div>
<div class="line">[Wednesday 26 May 2010] [09:07:20] &lt;sustrik&gt;    pieterh: here you go - how to run perf tests: <a class="reference external" href="http://www.zeromq.org/results:perf-howto">http://www.zeromq.org/results:perf-howto</a></div>
<div class="line">[Wednesday 26 May 2010] [09:07:27] &lt;pieterh&gt;    thanks!</div>
<div class="line">[Wednesday 26 May 2010] [09:08:16] &lt;jugg&gt;   I think in the nX&#64;-&gt;n0 interface, n0 will bind, nX will connect.</div>
<div class="line">[Wednesday 26 May 2010] [09:09:28] &lt;jugg&gt;   is there a performance difference in the chaining example if I use PUB/SUB vs P2P</div>
<div class="line">[Wednesday 26 May 2010] [09:09:33] &lt;cremes&gt; jugg: right, n0 should probably bind and let the other nodes connect to it</div>
<div class="line">[Wednesday 26 May 2010] [09:10:00] &lt;cremes&gt; jugg: p2p is kind of broken right now; use PUB</div>
<div class="line">[Wednesday 26 May 2010] [09:10:37] &lt;sustrik&gt;    right</div>
<div class="line">[Wednesday 26 May 2010] [09:11:44] &lt;sustrik&gt;    n1-n4 is a processing pipeline?</div>
<div class="line">[Wednesday 26 May 2010] [09:11:48] &lt;jugg&gt;   yes</div>
<div class="line">[Wednesday 26 May 2010] [09:12:04] &lt;sustrik&gt;    have a look at UPSTREAM/DOWNSTREAM sockets then</div>
<div class="line">[Wednesday 26 May 2010] [09:12:20] &lt;sustrik&gt;    that&#8217;s what they are meant for</div>
<div class="line">[Wednesday 26 May 2010] [09:12:49] &lt;sustrik&gt;    summary:</div>
<div class="line">[Wednesday 26 May 2010] [09:13:07] &lt;sustrik&gt;    n1-&gt;n2-&gt;n3-&gt;n4: UPSTREAM/DOWNSTREAM</div>
<div class="line">[Wednesday 26 May 2010] [09:13:19] &lt;sustrik&gt;    nX&#64;-&gt;n0: REQ/REP</div>
<div class="line">[Wednesday 26 May 2010] [09:13:35] &lt;sustrik&gt;    publications from n0: PUB/SUB</div>
<div class="line">[Wednesday 26 May 2010] [09:16:32] &lt;jugg&gt;   hmm, so each of n1-n4 could be load balanced.  or if only one instance of each n1-n4 exists, it&#8217;ll simply behave as a one way message passing?</div>
<div class="line">[Wednesday 26 May 2010] [09:18:17] &lt;sustrik&gt;    it&#8217;s load-balancing among <em>one</em> service :)</div>
<div class="line">[Wednesday 26 May 2010] [09:18:31] &lt;sustrik&gt;    = simply pass the message to next node</div>
<div class="line">[Wednesday 26 May 2010] [09:18:44] &lt;jugg&gt;   yes, ok. :)</div>
<div class="line">[Wednesday 26 May 2010] [09:18:52] &lt;sustrik&gt;    however you can add more nodes in the future if needed</div>
<div class="line">[Wednesday 26 May 2010] [09:19:40] &lt;jugg&gt;   why is &#8220;component&#8221; emphasised in the docs, does it mean something special? It isn&#8217;t just a node like any other?</div>
<div class="line">[Wednesday 26 May 2010] [09:19:57] &lt;sustrik&gt;    where&#8217;s that?</div>
<div class="line">[Wednesday 26 May 2010] [09:20:13] &lt;jugg&gt;   &#8221; Parallelized pipeline pattern&#8221; for the socket type</div>
<div class="line">[Wednesday 26 May 2010] [09:20:45] &lt;sustrik&gt;    no idea</div>
<div class="line">[Wednesday 26 May 2010] [09:20:57] &lt;sustrik&gt;    probably a typo</div>
<div class="line">[Wednesday 26 May 2010] [09:21:06] &lt;sustrik&gt;    mato: any reason for that?</div>
<div class="line">[Wednesday 26 May 2010] [09:21:09] &lt;jugg&gt;   and is &#8220;messaging pattern&#8221; and &#8220;socket type&#8221; something different?</div>
<div class="line">[Wednesday 26 May 2010] [09:21:25] &lt;sustrik&gt;    yes, patter is say &#8220;request/reply&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [09:21:35] &lt;sustrik&gt;    it consists of REQ and REP socket types</div>
<div class="line">[Wednesday 26 May 2010] [09:21:44] &lt;jugg&gt;   ah</div>
<div class="line">[Wednesday 26 May 2010] [09:22:22] &lt;jugg&gt;   that is obvious, I was confusing myself.</div>
<div class="line">[Wednesday 26 May 2010] [09:24:01] &lt;jugg&gt;   or perhaps the text: &#8220;The following messaging patterns are defined&#8221; could be changed to something like &#8220;The following messaging patterns are defined describing which socket types should be used for binding and connecting to an endpoint&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [09:24:42] &lt;jugg&gt;   or not...</div>
<div class="line">[Wednesday 26 May 2010] [09:25:00] &lt;jugg&gt;   trying to processing too much info :)</div>
<div class="line">[Wednesday 26 May 2010] [09:26:05] &lt;jugg&gt;   sustrik: thanks for the summary above</div>
<div class="line">[Wednesday 26 May 2010] [09:26:32] &lt;sustrik&gt;    jugg: feel free to submit documentation patches</div>
<div class="line">[Wednesday 26 May 2010] [09:28:11] &lt;jugg&gt;   I assume the docs on the website correspond to the zeromq2/docs/<a href="#id11"><span class="problematic" id="id12">*</span></a>.txt  (I&#8217;ve been reading the website)</div>
<div class="line">[Wednesday 26 May 2010] [09:28:59] &lt;jugg&gt;   and it looks like patches should be sent to the mailing list vs pull requests via github?</div>
<div class="line">[Wednesday 26 May 2010] [09:29:29] &lt;sustrik&gt;    via mailing list, stating it&#8217;s submitted under MIT license</div>
<div class="line">[Wednesday 26 May 2010] [09:29:50] &lt;sustrik&gt;    pieter: the people who join the wiki cannot edit pages</div>
<div class="line">[Wednesday 26 May 2010] [09:30:01] &lt;sustrik&gt;    is that deliberate?</div>
<div class="line">[Wednesday 26 May 2010] [09:30:10] &lt;sustrik&gt;    pieterh:</div>
<div class="line">[Wednesday 26 May 2010] [09:30:20] &lt;pieterh&gt;    sustrik: ja?</div>
<div class="line">[Wednesday 26 May 2010] [09:30:24] &lt;sustrik&gt;    see above</div>
<div class="line">[Wednesday 26 May 2010] [09:30:28] &lt;pieterh&gt;    i see, hang on</div>
<div class="line">[Wednesday 26 May 2010] [09:30:39] &lt;pieterh&gt;    it&#8217;s normal for some categories, not for others</div>
<div class="line">[Wednesday 26 May 2010] [09:30:49] &lt;pieterh&gt;    let me double check, what categories are you talking about?</div>
<div class="line">[Wednesday 26 May 2010] [09:31:03] &lt;jugg&gt;   <a class="reference external" href="http://www.zeromq.org/area:licensing">http://www.zeromq.org/area:licensing</a>  well that answers my gpl3 tivo question</div>
<div class="line">[Wednesday 26 May 2010] [09:31:09] &lt;sustrik&gt;    <a class="reference external" href="http://www.zeromq.org/build-v20">http://www.zeromq.org/build-v20</a></div>
<div class="line">[Wednesday 26 May 2010] [09:32:02] &lt;pieterh&gt;    &#64;sustrik: pages in the default area need to be moved</div>
<div class="line">[Wednesday 26 May 2010] [09:32:12] &lt;pieterh&gt;    sorry, default catergory</div>
<div class="line">[Wednesday 26 May 2010] [09:32:22] &lt;pieterh&gt;    and the area: category is not open to all people to edit</div>
<div class="line">[Wednesday 26 May 2010] [09:32:38] &lt;pieterh&gt;    the wiki probably needs redesigning, we should discuss this</div>
<div class="line">[Wednesday 26 May 2010] [09:33:54] &lt;pieterh&gt;    &#64;jugg: tivoization is a perfectly good business model for some people</div>
<div class="line">[Wednesday 26 May 2010] [09:34:17] &lt;sustrik&gt;    ???!!!</div>
<div class="line">[Wednesday 26 May 2010] [09:34:24] &lt;sustrik&gt;    i cannot edit nav:side :(</div>
<div class="line">[Wednesday 26 May 2010] [09:34:31] &lt;pieterh&gt;    sustrik: ? hang on</div>
<div class="line">[Wednesday 26 May 2010] [09:35:12] &lt;jugg&gt;   meh, zeromq licensing makes no sense.</div>
<div class="line">[Wednesday 26 May 2010] [09:36:43] &lt;pieterh&gt;    sustrik: if you can&#8217;t edit a page it&#8217;s probably because you are not logged in</div>
<div class="line">[Wednesday 26 May 2010] [09:36:51] &lt;pieterh&gt;    &#64;jugg: what do you mean?</div>
<div class="line">[Wednesday 26 May 2010] [09:37:27] &lt;pieterh&gt;    &#64;sustrik: you are site admin, always have been, and have full edit rights over everything</div>
<div class="line">[Wednesday 26 May 2010] [09:38:30] &lt;sustrik&gt;    oops</div>
<div class="line">[Wednesday 26 May 2010] [09:38:35] &lt;sustrik&gt;    it&#8217;s ok</div>
<div class="line">[Wednesday 26 May 2010] [09:40:09] &lt;jugg&gt;   pieterh: well, ignoring the stupidity of gpl3 anti-tivo, and looking only at my contributions must be MIT licensed (purely for the benefit of imatix), I myself and others can only use contributions under lgpl3.  Basically, this means that contributors are working for free for imatix.  Normally open source projects, contributs work for free for the project.  This is not the case here.</div>
<div class="line">[Wednesday 26 May 2010] [09:40:44] &lt;jugg&gt;   sorry for grammar/spelling, I&#8217;m getting tired... :)</div>
<div class="line">[Wednesday 26 May 2010] [09:41:06] &lt;pieterh&gt;    &#64;jugg, fair points</div>
<div class="line">[Wednesday 26 May 2010] [09:41:13] &lt;pieterh&gt;    however imatix works for free for you too</div>
<div class="line">[Wednesday 26 May 2010] [09:41:38] &lt;pieterh&gt;    so it&#8217;s not an unfair deal to ask that we can try to make a viable business</div>
<div class="line">[Wednesday 26 May 2010] [09:41:56] &lt;pieterh&gt;    you don&#8217;t need to give us patches</div>
<div class="line">[Wednesday 26 May 2010] [09:42:50] &lt;pieterh&gt;    however if you want us to maintain your patches in the official product, we ask for MIT licensing OR copyright transfer</div>
<div class="line">[Wednesday 26 May 2010] [09:43:07] &lt;pieterh&gt;    you can always just redistribute your modified libraries under the LGPL, period</div>
<div class="line">[Wednesday 26 May 2010] [09:43:23] &lt;pieterh&gt;    as for the GPL3&#8217;s &#8220;stupidity&#8221;... we disagree</div>
<div class="line">[Wednesday 26 May 2010] [09:43:33] &lt;pieterh&gt;    i&#8217;ve been using the GPL since... 1991 or so for my work</div>
<div class="line">[Wednesday 26 May 2010] [09:44:15] &lt;pieterh&gt;    and the principle of enforcing &#8220;share-alike&#8221; is important IMO</div>
<div class="line">[Wednesday 26 May 2010] [09:45:26] &lt;pieterh&gt;    what do you see as the problem with this model?</div>
<div class="line">[Wednesday 26 May 2010] [09:46:30] &lt;sustrik&gt;    anti-tivo caluse in gpl3 is not about share-alike, it&#8217;s about free (as is speech) hardware</div>
<div class="line">[Wednesday 26 May 2010] [09:46:54] &lt;pieterh&gt;    why do you say so?</div>
<div class="line">[Wednesday 26 May 2010] [09:47:07] &lt;pieterh&gt;    it is about preventing people from not sharing</div>
<div class="line">[Wednesday 26 May 2010] [09:47:23] &lt;pieterh&gt;    it is about enforcing the spirit of the GPL: you use my work, you share improvements</div>
<div class="line">[Wednesday 26 May 2010] [09:47:26] &lt;sustrik&gt;    you can redistribute the source and still lock you hw device no?</div>
<div class="line">[Wednesday 26 May 2010] [09:47:31] &lt;pieterh&gt;    Tivo hacked the GPL to find a way around that</div>
<div class="line">[Wednesday 26 May 2010] [09:47:56] &lt;sustrik&gt;    i am not an expert anyway</div>
<div class="line">[Wednesday 26 May 2010] [09:48:19] &lt;pieterh&gt;    The GPL does not try to force anything on HW producers</div>
<div class="line">[Wednesday 26 May 2010] [09:48:27] &lt;pieterh&gt;    it is purely a license for using someone&#8217;s work</div>
<div class="line">[Wednesday 26 May 2010] [09:48:39] &lt;sustrik&gt;    ok, ianal</div>
<div class="line">[Wednesday 26 May 2010] [09:49:10] &lt;pieterh&gt;    ianal either but have been working with licenses for close on two decades</div>
<div class="line">[Wednesday 26 May 2010] [09:49:35] &lt;pieterh&gt;    the dual-license option is actually win-win</div>
<div class="line">[Wednesday 26 May 2010] [09:50:06] &lt;pieterh&gt;    commercial firms can still build no-share products but they pay for the right to escape, so they are not cheating</div>
<div class="line">[Wednesday 26 May 2010] [09:50:17] &lt;pieterh&gt;    and contributors are assured that their work is not closed off</div>
<div class="line">[Wednesday 26 May 2010] [09:51:47] &lt;pieterh&gt;    &#64;jugg: are you still around?</div>
<div class="line">[Wednesday 26 May 2010] [09:51:57] &lt;jugg&gt;   pieterh: gpl3 tivo is purely about enforcing open hardware.  It has nothing to do with software.  ESR himself states that he is scared that hardware vendors will implement restrictions that only allow running of signed software, preventing open source software from running on that hardware.  His aim is to ensure the hardware paltform remains open.  The GPL2 was just fine in ensure the opening of software.</div>
<div class="line">[Wednesday 26 May 2010] [09:52:34] &lt;pieterh&gt;    ESR has nothing to do with GPL... however let me do some more research</div>
<div class="line">[Wednesday 26 May 2010] [09:52:51] &lt;pieterh&gt;    are you asking that we move to GPL2?</div>
<div class="line">[Wednesday 26 May 2010] [09:53:00] &lt;pieterh&gt;    that is not going to happen, I can say it categorically</div>
<div class="line">[Wednesday 26 May 2010] [09:53:04] &lt;pieterh&gt;    :-)</div>
<div class="line">[Wednesday 26 May 2010] [09:53:10] &lt;jugg&gt;   appologizes certainly isn&#8217;t ESR :)</div>
<div class="line">[Wednesday 26 May 2010] [09:54:47] &lt;pieterh&gt;    maybe you mean Eben Moglen ?</div>
<div class="line">[Wednesday 26 May 2010] [09:54:58] &lt;jugg&gt;   anyway, ignoring my slipup of ESR vs Richard Stallman.</div>
<div class="line">[Wednesday 26 May 2010] [09:55:51] &lt;jugg&gt;   <a class="reference external" href="http://gplv3.fsf.org/rms-why.html">http://gplv3.fsf.org/rms-why.html</a></div>
<div class="line">[Wednesday 26 May 2010] [09:57:33] &lt;pieterh&gt;    so to review the tivo issue</div>
<div class="line">[Wednesday 26 May 2010] [09:57:48] &lt;pieterh&gt;    first, tivo began using modified GPL software and not providing the source code</div>
<div class="line">[Wednesday 26 May 2010] [09:57:58] &lt;pieterh&gt;    e.g. using a modified 0MQ and not providing patches</div>
<div class="line">[Wednesday 26 May 2010] [09:58:07] &lt;pieterh&gt;    then they accepted to provide their modifications</div>
<div class="line">[Wednesday 26 May 2010] [09:58:19] &lt;jugg&gt;   to your earlier points, I do not begrudge imatix from making a viable business.  Certainly from imatix&#8217;s stand point, requesting MIT or Copyright transfer makes perfect sense.</div>
<div class="line">[Wednesday 26 May 2010] [09:58:22] &lt;pieterh&gt;    but they introduced hardware checking on their boxes so you could not remix those modifications</div>
<div class="line">[Wednesday 26 May 2010] [09:58:36] &lt;pieterh&gt;    so you&#8217;d get e.g. a 0MQ with a driver for some network card</div>
<div class="line">[Wednesday 26 May 2010] [09:58:46] &lt;pieterh&gt;    but you couldn&#8217;t improve that driver because the Tivo borked</div>
<div class="line">[Wednesday 26 May 2010] [09:58:52] &lt;jugg&gt;   pieterh: them not providing source code isn&#8217;t fixed by gpl3.</div>
<div class="line">[Wednesday 26 May 2010] [09:59:03] &lt;pieterh&gt;    no, but it prevents them using the GPL3 code at all</div>
<div class="line">[Wednesday 26 May 2010] [09:59:26] &lt;pieterh&gt;    OR they must not prevent remixing (on their boxes)</div>
<div class="line">[Wednesday 26 May 2010] [09:59:29] &lt;pieterh&gt;    i concede...</div>
<div class="line">[Wednesday 26 May 2010] [09:59:33]   * cremes is glad he doesn&#8217;t care about licensing issues</div>
<div class="line">[Wednesday 26 May 2010] [09:59:49] &lt;pieterh&gt;    that it&#8217;s about stopping people running arbitrary code on a box that they think they own but actually don&#8217;t</div>
<div class="line">[Wednesday 26 May 2010] [09:59:50] &lt;jugg&gt;   them locking the hw to only run their signed version of the code is their perogative imo.  As long as they provide the modified source, I don&#8217;t care of that source can&#8217;t be run on their hardware.</div>
<div class="line">[Wednesday 26 May 2010] [09:59:58] &lt;pieterh&gt;    you don&#8217;t care</div>
<div class="line">[Wednesday 26 May 2010] [10:00:01] &lt;pieterh&gt;    i do :-)</div>
<div class="line">[Wednesday 26 May 2010] [10:00:18] &lt;pieterh&gt;    now, why i care is not ideological</div>
<div class="line">[Wednesday 26 May 2010] [10:00:23] &lt;jugg&gt;   why?  Go build your own hardware that matches theirs and run the modified code on it.</div>
<div class="line">[Wednesday 26 May 2010] [10:00:25] &lt;pieterh&gt;    nah, i sell software :-)</div>
<div class="line">[Wednesday 26 May 2010] [10:00:42] &lt;pieterh&gt;    if a firm is bothered enough (and has money enough) to lock their hardware</div>
<div class="line">[Wednesday 26 May 2010] [10:00:48] &lt;pieterh&gt;    then they can buy commercial licenses</div>
<div class="line">[Wednesday 26 May 2010] [10:00:54] &lt;pieterh&gt;    and thus fund 0MQ development</div>
<div class="line">[Wednesday 26 May 2010] [10:01:06] &lt;pieterh&gt;    i see GPL3 as an ultracapitalist tool</div>
<div class="line">[Wednesday 26 May 2010] [10:01:38] &lt;jugg&gt;   how does them preventing modified versions of the software from running on their hardware hurt you?</div>
<div class="line">[Wednesday 26 May 2010] [10:01:50] &lt;pieterh&gt;    it&#8217;s not really the point</div>
<div class="line">[Wednesday 26 May 2010] [10:01:55] &lt;jugg&gt;   ?!</div>
<div class="line">[Wednesday 26 May 2010] [10:01:57] &lt;pieterh&gt;    the point is, we&#8217;re a business in the end</div>
<div class="line">[Wednesday 26 May 2010] [10:02:16] &lt;pieterh&gt;    we need to find ways of getting money from people who use 0MQ for <em>profit</em></div>
<div class="line">[Wednesday 26 May 2010] [10:02:54] &lt;pieterh&gt;    making software like 0MQ is expensive, though obviously a community like ours makes a huge difference</div>
<div class="line">[Wednesday 26 May 2010] [10:03:01] &lt;pieterh&gt;    it lets us leverage our investment</div>
<div class="line">[Wednesday 26 May 2010] [10:03:23] &lt;jugg&gt;   so, tivoication is simply an indicator for you of the depth of the hw companies pocket?</div>
<div class="line">[Wednesday 26 May 2010] [10:03:31] &lt;pieterh&gt;    i think that&#8217;s accurate, yes</div>
<div class="line">[Wednesday 26 May 2010] [10:03:42] &lt;pieterh&gt;    sorry to be blunt :-)</div>
<div class="line">[Wednesday 26 May 2010] [10:03:51] &lt;pieterh&gt;    i&#8217;ve been making free software since 1991 like i said</div>
<div class="line">[Wednesday 26 May 2010] [10:03:53] &lt;jugg&gt;   blunt is clear. :)</div>
<div class="line">[Wednesday 26 May 2010] [10:03:59] &lt;pieterh&gt;    and i love the ideological aspects</div>
<div class="line">[Wednesday 26 May 2010] [10:04:07] &lt;pieterh&gt;    but they do seem to reflect economic realities that also work</div>
<div class="line">[Wednesday 26 May 2010] [10:04:19] &lt;pieterh&gt;    forcing those with deep pockets to put money on the table is win-win</div>
<div class="line">[Wednesday 26 May 2010] [10:05:05] &lt;pieterh&gt;    i do really appreciate the work that the FSF (Eben Moglen, mainly) put into GPL3</div>
<div class="line">[Wednesday 26 May 2010] [10:05:20] &lt;jugg&gt;   and at the same time kill the companies without deep pockets who&#8217;s only way to make money is by using tivoication to drive service and support contracts.</div>
<div class="line">[Wednesday 26 May 2010] [10:05:53] &lt;pieterh&gt;    kill is a harsh word</div>
<div class="line">[Wednesday 26 May 2010] [10:06:01] &lt;pieterh&gt;    how can our license terms kill a firm?</div>
<div class="line">[Wednesday 26 May 2010] [10:06:07] &lt;pieterh&gt;    they can just write their own software</div>
<div class="line">[Wednesday 26 May 2010] [10:06:11] &lt;pieterh&gt;    or buy commercial software</div>
<div class="line">[Wednesday 26 May 2010] [10:06:15] &lt;jugg&gt;   which would kill them :)</div>
<div class="line">[Wednesday 26 May 2010] [10:06:18] &lt;pieterh&gt;    or buy a commercial license from us</div>
<div class="line">[Wednesday 26 May 2010] [10:06:26] &lt;pieterh&gt;    sorry, but i pay people</div>
<div class="line">[Wednesday 26 May 2010] [10:06:38] &lt;pieterh&gt;    and when they send me invoices i don&#8217;t say, &#8220;you&#8217;re killing me!&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [10:06:43] &lt;pieterh&gt;    that... would be... silly</div>
<div class="line">[Wednesday 26 May 2010] [10:06:52] &lt;jugg&gt;   :)</div>
<div class="line">[Wednesday 26 May 2010] [10:06:55] &lt;pieterh&gt;    indeed</div>
<div class="line">[Wednesday 26 May 2010] [10:07:16] &lt;sustrik&gt;    sorry to interrupt you, i&#8217;m just interested &#8211; what&#8217;s the point of tivoising a hw device?</div>
<div class="line">[Wednesday 26 May 2010] [10:07:26] &lt;sustrik&gt;    i mean business point</div>
<div class="line">[Wednesday 26 May 2010] [10:07:26] &lt;pieterh&gt;    it&#8217;s a strange world when simply proposing to charge a modest amount for a good product translates into accusations of premeditated murder... :-)</div>
<div class="line">[Wednesday 26 May 2010] [10:07:38] &lt;pieterh&gt;    sustrik: it means you can cripple the hardware</div>
<div class="line">[Wednesday 26 May 2010] [10:07:48] &lt;sustrik&gt;    i mean business point</div>
<div class="line">[Wednesday 26 May 2010] [10:07:48] &lt;pieterh&gt;    run software on it that locks down features</div>
<div class="line">[Wednesday 26 May 2010] [10:07:52] &lt;pieterh&gt;    unlock features for money</div>
<div class="line">[Wednesday 26 May 2010] [10:07:57] &lt;jugg&gt;   sustrik: it means that you can lease or sell hw at a low cost in exchange for ongoing service contracts.</div>
<div class="line">[Wednesday 26 May 2010] [10:08:04] &lt;sustrik&gt;    a-ha</div>
<div class="line">[Wednesday 26 May 2010] [10:08:07] &lt;sustrik&gt;    understood</div>
<div class="line">[Wednesday 26 May 2010] [10:08:09] &lt;sustrik&gt;    thanks</div>
<div class="line">[Wednesday 26 May 2010] [10:08:26] &lt;pieterh&gt;    e.g. you buy a mobile phone that has VoIP locked/disabled</div>
<div class="line">[Wednesday 26 May 2010] [10:08:35] &lt;pieterh&gt;    if i can get the source code, i can unlock it, run a patched version</div>
<div class="line">[Wednesday 26 May 2010] [10:08:49] &lt;pieterh&gt;    the Tivo solution is that the hw won&#8217;t run that modified / improved version</div>
<div class="line">[Wednesday 26 May 2010] [10:08:49] &lt;jugg&gt;   it means a sofware company can survive, by providing a hw platform that enables them to make money on their software.</div>
<div class="line">[Wednesday 26 May 2010] [10:09:00] &lt;pieterh&gt;    jugg: do you work for such a company? just curious</div>
<div class="line">[Wednesday 26 May 2010] [10:09:23] &lt;pieterh&gt;    I could argue: it means a firm can take work done by others and not contribute anything back</div>
<div class="line">[Wednesday 26 May 2010] [10:09:42] &lt;pieterh&gt;    it is specifically about taking free software, don&#8217;t forget</div>
<div class="line">[Wednesday 26 May 2010] [10:09:46] &lt;jugg&gt;   pieterh: not currently.</div>
<div class="line">[Wednesday 26 May 2010] [10:09:57] &lt;jugg&gt;   pieterh: absolutely not true, they must contribute back the source they&#8217;ve modified.</div>
<div class="line">[Wednesday 26 May 2010] [10:10:13] &lt;pieterh&gt;    true</div>
<div class="line">[Wednesday 26 May 2010] [10:10:21] &lt;jugg&gt;   Just because they provided a hardware platform doesn&#8217;t mean because you wrote the software that you have the right to that hw paltform.</div>
<div class="line">[Wednesday 26 May 2010] [10:10:28] &lt;pieterh&gt;    i misstated myself, sorry</div>
<div class="line">[Wednesday 26 May 2010] [10:10:35] &lt;pieterh&gt;    well, put this another way</div>
<div class="line">[Wednesday 26 May 2010] [10:10:44] &lt;pieterh&gt;    a commercial license can be for 1 euro</div>
<div class="line">[Wednesday 26 May 2010] [10:10:51] &lt;pieterh&gt;    it really depends</div>
<div class="line">[Wednesday 26 May 2010] [10:10:54] &lt;jugg&gt;   but that is what the gpl3 wants to state.  it wants to state that someone who wrote software must have control over the hardware that software is ran on.  rediculous.</div>
<div class="line">[Wednesday 26 May 2010] [10:11:13] &lt;pieterh&gt;    this is only one part of the GPL3</div>
<div class="line">[Wednesday 26 May 2010] [10:11:20] &lt;jugg&gt;   you write the software, you get control over the software.</div>
<div class="line">[Wednesday 26 May 2010] [10:11:33] &lt;jugg&gt;   pieterh: I agree, which is why a gpl2.5 is needed.</div>
<div class="line">[Wednesday 26 May 2010] [10:11:40] &lt;pieterh&gt;    actually, you get the software (as a user) in a box, you get the right to hack that box</div>
<div class="line">[Wednesday 26 May 2010] [10:11:54] &lt;pieterh&gt;    the point is the sharing of knowledge enforced by private contract</div>
<div class="line">[Wednesday 26 May 2010] [10:12:06] &lt;pieterh&gt;    when we invest in 0MQ we tell box makers:</div>
<div class="line">[Wednesday 26 May 2010] [10:12:19] &lt;pieterh&gt;    - if you use OUR software (and we speak in name of our contributors too) on your box</div>
<div class="line">[Wednesday 26 May 2010] [10:12:20] &lt;jugg&gt;   pieterh: absolutely not.  the box is leased, you have no right to it.  Or the box is sold at a very low cost with the expectation that ongoing service is provided for that box.</div>
<div class="line">[Wednesday 26 May 2010] [10:12:31] &lt;pieterh&gt;    - then you MUST allow people to improve that software AND run the improvements on your box</div>
<div class="line">[Wednesday 26 May 2010] [10:12:35] &lt;pieterh&gt;    simple</div>
<div class="line">[Wednesday 26 May 2010] [10:12:50] &lt;pieterh&gt;    - OR you pay us something and we&#8217;ll make an exception for you</div>
<div class="line">[Wednesday 26 May 2010] [10:12:53] &lt;pieterh&gt;    seems simple enough</div>
<div class="line">[Wednesday 26 May 2010] [10:13:12] &lt;pieterh&gt;    and, honestly, it seems totally fair</div>
<div class="line">[Wednesday 26 May 2010] [10:13:45] &lt;pieterh&gt;    look, &#64;jugg, if/when you work for a firm that finds itself in this situation, let me know</div>
<div class="line">[Wednesday 26 May 2010] [10:14:05] &lt;pieterh&gt;    and we&#8217;ll bend over backwards to get as close to that nominal 1 Euro as possible</div>
<div class="line">[Wednesday 26 May 2010] [10:14:09] &lt;pieterh&gt;    :-)</div>
<div class="line">[Wednesday 26 May 2010] [10:14:52] &lt;pieterh&gt;    or perhaps make a specific exception to the Tivo parts for that firm</div>
<div class="line">[Wednesday 26 May 2010] [10:15:36] &lt;jugg&gt;   :)  Like I said, I don&#8217;t begrudge imatix anything, but the idealogical concept that someone can write software and believe by the use of that software they have the ability to assert some right and control over the hardware is asinine. (to be blunt)</div>
<div class="line">[Wednesday 26 May 2010] [10:16:40] &lt;pieterh&gt;    &#64;jugg: there is clearly a conflict of interests</div>
<div class="line">[Wednesday 26 May 2010] [10:16:40] &lt;jugg&gt;   anyway... sorry for dragging this channel through all of that. :)</div>
<div class="line">[Wednesday 26 May 2010] [10:16:56] &lt;pieterh&gt;    recall that the tivo clauses came from real conflicts, not some theoretical debate</div>
<div class="line">[Wednesday 26 May 2010] [10:17:36] &lt;pieterh&gt;    and in the end, if a developer wants to license his work under a license that says, &#8220;you must wear pink while singing &#8216;When the Saints&#8217;&#8221;, that&#8217;s their choice</div>
<div class="line">[Wednesday 26 May 2010] [10:17:40] &lt;pieterh&gt;    private contract</div>
<div class="line">[Wednesday 26 May 2010] [10:18:10] &lt;pieterh&gt;    there is no post-facto modification, no ambush, no traps</div>
<div class="line">[Wednesday 26 May 2010] [10:18:25] &lt;jugg&gt;   no, as you&#8217;ve stated yourself, it came from the ability to reach into another companies pockets.  The gpl2 was complied with in the end, source was provided.  Nothing further was necessary imo.  (although I had no idea zmq was part of this, so I surely stepped on the hornets nest!)</div>
<div class="line">[Wednesday 26 May 2010] [10:18:48] &lt;pieterh&gt;    &#64;jugg: that is my view on it, it&#8217;s not what drove the FSF&#8217;s changes</div>
<div class="line">[Wednesday 26 May 2010] [10:19:05] &lt;sustrik&gt;    what about turning it upsde down: idealogical concept that someone can make hadware and believe by the use of that hardware they have the ability to assert some right and control over the software is asinine :)</div>
<div class="line">[Wednesday 26 May 2010] [10:19:12] &lt;pieterh&gt;    the GPL3 was in part about patents, in part about people hacking the word &#8220;distribute&#8221; and in part about issues like this</div>
<div class="line">[Wednesday 26 May 2010] [10:19:32] &lt;pieterh&gt;    again</div>
<div class="line">[Wednesday 26 May 2010] [10:19:48] &lt;pieterh&gt;    someone produces a work and licenses their work</div>
<div class="line">[Wednesday 26 May 2010] [10:19:55] &lt;pieterh&gt;    other parties can accept / reject these licenses</div>
<div class="line">[Wednesday 26 May 2010] [10:20:09] &lt;pieterh&gt;    there is no &#8220;asinine&#8221; just &#8220;I accept&#8221; or &#8220;I do not accept&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [10:24:20] &lt;jugg&gt;   my only issue with gpl3 is the tivo part.  The rest, patents and the like, trully deal with the software freedom.  The touted aspect of the GPL is about software freedom not about a tool for making money.  So when a company uses the GPL as a tool for making money, I can&#8217;t meet that argument on equal ground.  Take the GPL terms and relabel it as your own license - it has the same affect without confusion as to why it is being use</div>
<div class="line">[Wednesday 26 May 2010] [10:24:20] &lt;jugg&gt;   d.  By using the &#8220;GPL&#8221; name, then you are stating that your interested in software freedom and open source.</div>
<div class="line">[Wednesday 26 May 2010] [10:24:49] &lt;pieterh&gt;    &#64;jugg: it is not practical to define custom licenses</div>
<div class="line">[Wednesday 26 May 2010] [10:25:03] &lt;pieterh&gt;    except on a case by case basis</div>
<div class="line">[Wednesday 26 May 2010] [10:25:15] &lt;pieterh&gt;    if we tried to take the GPL3 and customize it</div>
<div class="line">[Wednesday 26 May 2010] [10:25:24] &lt;jugg&gt;   I never said customize, I said rename.</div>
<div class="line">[Wednesday 26 May 2010] [10:25:28] &lt;pieterh&gt;    then we would force every single serious firm to do a full legal review of our license</div>
<div class="line">[Wednesday 26 May 2010] [10:25:35] &lt;jugg&gt;   actually I said &#8220;relabel&#8221; :)</div>
<div class="line">[Wednesday 26 May 2010] [10:25:37] &lt;pieterh&gt;    ?</div>
<div class="line">[Wednesday 26 May 2010] [10:25:50] &lt;pieterh&gt;    what are you actually proposing?  I&#8217;ve lost the plot now</div>
<div class="line">[Wednesday 26 May 2010] [10:26:02] &lt;pieterh&gt;    freedom is not about NOT making money</div>
<div class="line">[Wednesday 26 May 2010] [10:26:20] &lt;pieterh&gt;    freedom is precisely about a more effective market in knowledge</div>
<div class="line">[Wednesday 26 May 2010] [10:36:30] &lt;jugg&gt;   I think I need to wrap this up on my end, but to try to clarify the lost plot... the gpl is about software freedom, not about a tool to make money, in fact quite the opposite.  So, if a company uses the name &#8220;GPL&#8221; it is stating that the GPL licensed software is about freedom of the software.  If that isn&#8217;t the case, and the GPL <em>terms</em> are being used as a way to ensure alertnate licensing deals, then that company (imo) should re</div>
<div class="line">[Wednesday 26 May 2010] [10:36:31] &lt;jugg&gt;   package the GPL terms under a different name.</div>
<div class="line">[Wednesday 26 May 2010] [10:37:14] &lt;jugg&gt;   That said I&#8217;m trying to make money from software as well, so I&#8217;m not in ideological alignment with the purpose of the GPL myself in all instances.  However, when I used the GPL as I often do, it is about the software only.</div>
<div class="line">[Wednesday 26 May 2010] [10:37:24] &lt;pieterh&gt;    this would create an enormous amount of extra work for many people</div>
<div class="line">[Wednesday 26 May 2010] [10:37:35] &lt;jugg&gt;   what extra work?</div>
<div class="line">[Wednesday 26 May 2010] [10:37:40] &lt;pieterh&gt;    today, any firm wanting to use 0MQ in their apps must do a legal review of the license terms</div>
<div class="line">[Wednesday 26 May 2010] [10:37:48] &lt;pieterh&gt;    it is a contract, don&#8217;t forget</div>
<div class="line">[Wednesday 26 May 2010] [10:37:54] &lt;pieterh&gt;    the LGPL is a standard contract</div>
<div class="line">[Wednesday 26 May 2010] [10:38:00] &lt;pieterh&gt;    reviewed once, used many times</div>
<div class="line">[Wednesday 26 May 2010] [10:38:13] &lt;pieterh&gt;    if we make a custom license it must be reviewed specifically</div>
<div class="line">[Wednesday 26 May 2010] [10:38:21] &lt;pieterh&gt;    that is called &#8220;legal clearance&#8221; and it is expensive</div>
<div class="line">[Wednesday 26 May 2010] [10:38:26] &lt;pieterh&gt;    lawyer hours and days and weeks</div>
<div class="line">[Wednesday 26 May 2010] [10:38:51] &lt;pieterh&gt;    sufficiently expensive that many firms will simply refuse to use &#8220;open source&#8221; that does not have a standard licence</div>
<div class="line">[Wednesday 26 May 2010] [10:39:04] &lt;pieterh&gt;    we would be shooting ourselves in the foot if we did what you propose</div>
<div class="line">[Wednesday 26 May 2010] [10:39:15] &lt;pieterh&gt;    suggestion registered... and rejected... sorry! :-)</div>
<div class="line">[Wednesday 26 May 2010] [10:40:31] &lt;jugg&gt;   Funny, too bad GNU didn&#8217;t think of a way to scope out the pockets of firms trying to use the GPL to make money and figure out a way to get money out of those pockets... :)</div>
<div class="line">[Wednesday 26 May 2010] [10:42:45] &lt;pieterh&gt;    &#64;jugg: well, the FSF is a charity</div>
<div class="line">[Wednesday 26 May 2010] [10:42:47] &lt;pieterh&gt;    not a business</div>
<div class="line">[Wednesday 26 May 2010] [10:42:55] &lt;pieterh&gt;    there have been some very large businesses built around the GPL</div>
<div class="line">[Wednesday 26 May 2010] [10:43:26] &lt;jugg&gt;   there I go confusing my terms again, I really should stop already. :)</div>
<div class="line">[Wednesday 26 May 2010] [10:44:06] &lt;pieterh&gt;    think of... Red Hat, or Cygnus Solutions</div>
<div class="line">[Wednesday 26 May 2010] [10:44:32] &lt;pieterh&gt;    iMatix is actually a corporate sponsor of the FSF</div>
<div class="line">[Wednesday 26 May 2010] [10:53:45] &lt;jugg&gt;   please don&#8217;t take any of this as argument directly against imatix.    My main argument is against the GPL3 tivoization clause.   The fact that imatix uses it as a way to force commercial licensing deals is compeltely imatix&#8217;s prerogative.  But at an idealogical level, I associate the name GPL with free software, not as a tool to make money.  As such, at an idealogical level, I&#8217;d like companies not to use the name GPL for licensi</div>
<div class="line">[Wednesday 26 May 2010] [10:53:46] &lt;jugg&gt;   ng software in this way as it creates confusion.</div>
<div class="line">[Wednesday 26 May 2010] [10:54:25] &lt;jugg&gt;   obviously, that ideology isn&#8217;t going to change imatix&#8217;s stance... :)</div>
<div class="line">[Wednesday 26 May 2010] [10:54:43] &lt;pieterh&gt;    &#64;jugg, the argument is a useful one and I certainly don&#8217;t take it personally</div>
<div class="line">[Wednesday 26 May 2010] [10:55:18] &lt;pieterh&gt;    iMatix has been using free software licenses since 1996</div>
<div class="line">[Wednesday 26 May 2010] [10:55:44] &lt;pieterh&gt;    we used to write our own (our old SFL license is one of those recognized by the FSF)</div>
<div class="line">[Wednesday 26 May 2010] [10:55:54] &lt;pieterh&gt;    and we&#8217;ve tried many variations...</div>
<div class="line">[Wednesday 26 May 2010] [10:56:17] &lt;pieterh&gt;    GPL is the one that works, and I&#8217;ve spent enough time with the FSF and thinking about the rationale to understand why</div>
<div class="line">[Wednesday 26 May 2010] [10:56:36] &lt;pieterh&gt;    it is not money vs. free, that is a false dichotomy</div>
<div class="line">[Wednesday 26 May 2010] [10:56:53] &lt;pieterh&gt;    it is about creating the most efficient knowledge economy in which all contributors get the most out of their work</div>
<div class="line">[Wednesday 26 May 2010] [10:57:05] &lt;pieterh&gt;    all parties have the choice to stay out of that economy</div>
<div class="line">[Wednesday 26 May 2010] [10:57:11] &lt;pieterh&gt;    but if they participate, they follow the rules</div>
<div class="line">[Wednesday 26 May 2010] [10:58:23] &lt;pieterh&gt;    there is no ideology, just more or less efficient contracts</div>
<div class="line">[Wednesday 26 May 2010] [10:59:06] &lt;pieterh&gt;    s/efficient/successful/</div>
<div class="line">[Wednesday 26 May 2010] [10:59:33] &lt;pieterh&gt;    sorry to be soapboxing, I think we&#8217;re boring the channel now :-)</div>
<div class="line">[Wednesday 26 May 2010] [10:59:47] &lt;pieterh&gt;    hey guise, I want to rename all the socket types!</div>
<div class="line">[Wednesday 26 May 2010] [11:00:03] &lt;guido_g&gt;    hehehe</div>
<div class="line">[Wednesday 26 May 2010] [11:00:17] &lt;pieterh&gt;    ZMQ_DONT_TRY_THIS</div>
<div class="line">[Wednesday 26 May 2010] [11:00:23] &lt;pieterh&gt;    ZMQ_OMG_ITS_AMAZING</div>
<div class="line">[Wednesday 26 May 2010] [11:00:34] &lt;pieterh&gt;    and ZMQ_MAGIC_HAPPENS</div>
<div class="line">[Wednesday 26 May 2010] [11:00:54] &lt;sjampoo&gt;    Hmmm, what would ZMQ_MAGIC_HAPPENS do?</div>
<div class="line">[Wednesday 26 May 2010] [11:00:55] &lt;guido_g&gt;    and of course: ZMQ_IT_MIGHT_EVEN_WORK</div>
<div class="line">[Wednesday 26 May 2010] [11:00:56] &lt;pieterh&gt;    &#8220;I tried the ZMQ_DONT_TRY_THIS socket and my app crashed?&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [11:01:10] &lt;pieterh&gt;    sjampoo: that depends on the time of day</div>
<div class="line">[Wednesday 26 May 2010] [11:01:10] &lt;jugg&gt;   certainly, but I think the change of rules between gpl2 and gpl3 is significant, and it leaves a lot of us who were part of the gpl2 economy, who helped build that enconmy, in an ackward place.  Anyway, I agree, time to move on.  Thanks for the discussion, I appreciate knowing where zeromq stands in this regards.</div>
<div class="line">[Wednesday 26 May 2010] [11:01:27] &lt;sjampoo&gt;    excellent, i was just looking for something like that</div>
<div class="line">[Wednesday 26 May 2010] [11:02:06] &lt;pieterh&gt;    &#64;sjampoo: if that doesn&#8217;t work, try guido_g&#8217;s new ZMQ_IT_MIGHT_EVEN_WORK</div>
<div class="line">[Wednesday 26 May 2010] [11:02:33] &lt;sjampoo&gt;    pieterh, thanks for the tip!</div>
<div class="line">[Wednesday 26 May 2010] [11:02:42] &lt;pieterh&gt;    np... hang on, i need to update the FAQ</div>
<div class="line">[Wednesday 26 May 2010] [11:03:09]   * pieterh wonders about next april 1st</div>
<div class="line">[Wednesday 26 May 2010] [11:03:26] &lt;pieterh&gt;    create a special release of 0MQ where all the names are... weird</div>
<div class="line">[Wednesday 26 May 2010] [11:03:49] &lt;pieterh&gt;    somewhere, someone would use it and not get the joke, and would, like months later come back</div>
<div class="line">[Wednesday 26 May 2010] [11:04:10] &lt;pieterh&gt;    &#8220;I&#8217;m using ZMQ_NULL_WRITES_ENABLED and losing messages, is that normal?&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [11:04:55]   * pieterh tries to refocus after way too much license talk</div>
<div class="line">[Wednesday 26 May 2010] [11:18:40] &lt;jugg&gt;   in zmq_socket messaging patterns request-reply description, the terms &#8220;client&#8221; and &#8220;service&#8221; is used, I assume the defines a node that uses zmq_connect or zmq_bind respectively?</div>
<div class="line">[Wednesday 26 May 2010] [11:19:11] &lt;sustrik&gt;    jugg: client is REQ socket, service is REP socket</div>
<div class="line">[Wednesday 26 May 2010] [11:24:01] &lt;jugg&gt;   ok, but &#8220;A socket of type ZMQ_REQ is used by a client&#8221; would seem to say, a client already exists and a client would use a socket type of ZMQ_REQ, which if just reading the documentation makes me ask, what is a client?  (hence, so I did)</div>
<div class="line">[Wednesday 26 May 2010] [11:25:13] &lt;sustrik&gt;    ok, more precisely: client is an application that uses REQ socket</div>
<div class="line">[Wednesday 26 May 2010] [11:25:29] &lt;jugg&gt;   Am I abusing the term node?</div>
<div class="line">[Wednesday 26 May 2010] [11:25:58] &lt;jugg&gt;   eh, I didn&#8217;t use &#8220;node&#8221; this time. ignore me.</div>
<div class="line">[Wednesday 26 May 2010] [11:26:07] &lt;sustrik&gt;    :)</div>
<div class="line">[Wednesday 26 May 2010] [11:26:22] &lt;sustrik&gt;    anyway, the problem with this definition of client</div>
<div class="line">[Wednesday 26 May 2010] [11:26:34] &lt;sustrik&gt;    is that if a single app uses both REQ and REP sockets</div>
<div class="line">[Wednesday 26 May 2010] [11:26:44] &lt;sustrik&gt;    it&#8217;s both client and server at once</div>
<div class="line">[Wednesday 26 May 2010] [11:27:15] &lt;guido_g&gt;    you&#8217;re in the clients role when you request a service, i&#8217;d say</div>
<div class="line">[Wednesday 26 May 2010] [11:27:24] &lt;sustrik&gt;    documentation should probably refrain on defining categories of applications</div>
<div class="line">[Wednesday 26 May 2010] [11:27:34] &lt;sustrik&gt;    application is just application</div>
<div class="line">[Wednesday 26 May 2010] [11:27:41] &lt;sustrik&gt;    it may have some sockets open</div>
<div class="line">[Wednesday 26 May 2010] [11:28:08] &lt;jugg&gt;   &#8220;Each request sent is load-balanced among all connected services.&#8221; facinating, so for that last to be true, the &#8220;services&#8221; would be connecting to the client&#8217;s bound endpoint.</div>
<div class="line">[Wednesday 26 May 2010] [11:28:34] &lt;sustrik&gt;    or you can connect multiple times</div>
<div class="line">[Wednesday 26 May 2010] [11:28:43] &lt;sustrik&gt;    0mq allows multiple connects</div>
<div class="line">[Wednesday 26 May 2010] [11:28:49] &lt;sustrik&gt;    as well as multiple binds</div>
<div class="line">[Wednesday 26 May 2010] [11:29:51] &lt;sustrik&gt;    guido_g: yes, but that kind of distinction is good for tutorial, not the formal definition</div>
<div class="line">[Wednesday 26 May 2010] [11:30:18] &lt;guido_g&gt;    huh?</div>
<div class="line">[Wednesday 26 May 2010] [11:30:20] &lt;guido_g&gt;    why so?</div>
<div class="line">[Wednesday 26 May 2010] [11:30:37] &lt;sustrik&gt;    because application can be both client and service</div>
<div class="line">[Wednesday 26 May 2010] [11:30:52] &lt;guido_g&gt;    this is why i said &#8220;role&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [11:31:01] &lt;sustrik&gt;    ah, got it</div>
<div class="line">[Wednesday 26 May 2010] [11:31:04] &lt;guido_g&gt;    one application can take on multiplke roles</div>
<div class="line">[Wednesday 26 May 2010] [11:31:15] &lt;sustrik&gt;    yes</div>
<div class="line">[Wednesday 26 May 2010] [11:31:28] &lt;guido_g&gt;    some apps even at the same time (threading on multicore)</div>
<div class="line">[Wednesday 26 May 2010] [11:33:42] &lt;sustrik&gt;    multiple roles for same app are pretty common, say an application is both _publisher_ of stock quotes and trade execution _service_</div>
<div class="line">[Wednesday 26 May 2010] [11:33:56] &lt;guido_g&gt;    exactly</div>
<div class="line">[Wednesday 26 May 2010] [11:56:46] &lt;jugg&gt;   rc = zmq_bind(s, &#8220;ipc:///tmp/a/0&#8221;); fails, but rc = zmq_bind(s, &#8220;ipc:///tmp/0&#8221;); succeeds.  Is it expected that only the directory part must exist?</div>
<div class="line">[Wednesday 26 May 2010] [11:57:08] &lt;jugg&gt;   s/only //</div>
<div class="line">[Wednesday 26 May 2010] [11:57:37] &lt;jugg&gt;   &#8220;/tmp/&#8221; exists on my system, &#8220;/tmp/a/&#8221; does not</div>
<div class="line">[Wednesday 26 May 2010] [11:58:10] &lt;sustrik&gt;    it translates directly to UNIX domain sockets</div>
<div class="line">[Wednesday 26 May 2010] [11:58:32] &lt;sustrik&gt;    have a look what do they allow and what they don&#8217;t</div>
<div class="line">[Wednesday 26 May 2010] [12:12:49] &lt;jugg&gt;   And I&#8217;m off for now.  Thanks for all of the help/discussion. :)</div>
<div class="line">[Wednesday 26 May 2010] [13:11:36] &lt;zedas&gt;  sustrik: hey, there may be a memory leak in the I/O thread: <a class="reference external" href="http://dpaste.de/gM4s/">http://dpaste.de/gM4s/</a>  that&#8217;s valgrind output from a test server</div>
<div class="line">[Wednesday 26 May 2010] [13:12:49] &lt;zedas&gt;  looks like zmq::pipe_t is making ram and then it&#8217;s not getting freed properly.  not sure exactly where though so thought you might have insight.</div>
<div class="line">[Wednesday 26 May 2010] [13:17:57] &lt;zedas&gt;  sustrik: could it be because the ~pipe_t hasn&#8217;t run?</div>
<div class="line">[Wednesday 26 May 2010] [14:51:03] &lt;cremes&gt; are functions zmq_sleep, zmq_stopwatch_start and zmq_stopwatch_stop part of the official zmq api? should non-C language bindings expose them?</div>
<div class="line">[Wednesday 26 May 2010] [14:56:46] &lt;mato&gt;   cremes: nope, they&#8217;re not</div>
<div class="line">[Wednesday 26 May 2010] [14:56:56] &lt;cremes&gt; mato: ok</div>
<div class="line">[Wednesday 26 May 2010] [14:57:03] &lt;mato&gt;   cremes: they&#8217;re in there because of the perf tests, and should probably be moved somewhere</div>
<div class="line">[Wednesday 26 May 2010] [14:57:58] &lt;sjampoo&gt;    Yah, they are handy for perf tests. PyZMQ removed stopwatch at first, but then the performance results wheren&#8217;t really comparable so they have been moved back in.</div>
<div class="line">[Wednesday 26 May 2010] [14:58:11] &lt;cremes&gt; sounds reasonable</div>
<div class="line">[Wednesday 26 May 2010] [14:58:29] &lt;mato&gt;   sustrik: good discussion about connect/bind and endpoints, i will rewrite the relevant portions of the reference</div>
<div class="line">[Wednesday 26 May 2010] [14:58:50] &lt;mato&gt;   sjampoo: don&#8217;t rely on them, they might go away...</div>
<div class="line">[Wednesday 26 May 2010] [14:59:18] &lt;mato&gt;   we don&#8217;t want people to the the wrong idea that we&#8217;re building a portability library</div>
<div class="line">[Wednesday 26 May 2010] [14:59:44] &lt;sjampoo&gt;    aren&#8217;t you guys there already ;)</div>
<div class="line">[Wednesday 26 May 2010] [15:00:59] &lt;sjampoo&gt;    What are the future plans? I think i saw some flirting with moving into the kernel.</div>
<div class="line">[Wednesday 26 May 2010] [15:01:36] &lt;mato&gt;   that&#8217;s part of it, but a long way away</div>
<div class="line">[Wednesday 26 May 2010] [15:01:49] &lt;mato&gt;   sustrik is the expert on the grand vision</div>
<div class="line">[Wednesday 26 May 2010] [15:01:56] &lt;mato&gt;   deploying 0mq netwide</div>
<div class="line">[Wednesday 26 May 2010] [15:02:27] &lt;mato&gt;   take a look here: <a class="reference external" href="http://250bpm.wikidot.com/local--files/start/towards.pdf">http://250bpm.wikidot.com/local&#8211;files/start/towards.pdf</a></div>
<div class="line">[Wednesday 26 May 2010] [15:02:42] &lt;sjampoo&gt;    ah thanks!</div>
<div class="line">[Wednesday 26 May 2010] [16:05:32] &lt;sustrik&gt;    zedas: thanks for reporting it</div>
<div class="line">[Wednesday 26 May 2010] [16:05:48] &lt;sustrik&gt;    i&#8217;ll have a look at it tomorrow (late evening here)</div>
<div class="line">[Wednesday 26 May 2010] [16:07:26] &lt;sustrik&gt;    sjampoo: basically, the idea is to allow for distributed networks of nodes with no centralised control</div>
<div class="line">[Wednesday 26 May 2010] [16:07:48] &lt;sustrik&gt;    think of a marketplace for computational services</div>
<div class="line">[Wednesday 26 May 2010] [16:08:02] &lt;sustrik&gt;    a world-wide cloud</div>
<div class="line">[Wednesday 26 May 2010] [16:08:10] &lt;sustrik&gt;    but that&#8217;s pretty far ahead</div>
<div class="line">[Wednesday 26 May 2010] [16:14:08] &lt;zedas&gt;  sustrik: if i can figure it out i&#8217;ll shoot you a patch</div>
<div class="line">[Wednesday 26 May 2010] [16:14:16] &lt;zedas&gt;  otherwise you know better than me probably</div>
<div class="line">[Wednesday 26 May 2010] [16:14:58] &lt;sustrik&gt;    zedas: thanks</div>
<div class="line">[Wednesday 26 May 2010] [17:07:46] &lt;sustrik&gt;    sjampoo: let me give an example</div>
<div class="line">[Wednesday 26 May 2010] [17:08:00] &lt;sustrik&gt;    zed have created a database accessible via 0mq</div>
<div class="line">[Wednesday 26 May 2010] [17:08:34] &lt;sustrik&gt;    he may have used it just as a convenient way to provide network access</div>
<div class="line">[Wednesday 26 May 2010] [17:08:42] &lt;sustrik&gt;    but:</div>
<div class="line">[Wednesday 26 May 2010] [17:09:06] &lt;sustrik&gt;    think of three companies providing storage space using mulletdb</div>
<div class="line">[Wednesday 26 May 2010] [17:09:23] &lt;sustrik&gt;    you can obviously connect to one of them</div>
<div class="line">[Wednesday 26 May 2010] [17:09:45] &lt;sustrik&gt;    but you can put a device in a middle and let it load balance your requests among the three</div>
<div class="line">[Wednesday 26 May 2010] [17:09:55] &lt;sustrik&gt;    once we implement priorities</div>
<div class="line">[Wednesday 26 May 2010] [17:10:29] &lt;sustrik&gt;    you can even say &#8220;store the data primarily at A, but it it&#8217;s not available, use B&#8221;</div>
<div class="line">[Wednesday 26 May 2010] [17:10:31] &lt;sustrik&gt;    etc.</div>
<div class="line">[Wednesday 26 May 2010] [17:21:16] &lt;mikko&gt;  would be cool to create such a system</div>
<div class="line">[Wednesday 26 May 2010] [17:21:24] &lt;mikko&gt;  and use apache zookeeper for syncing</div>
<div class="line">[Thursday 27 May 2010] [02:42:43] &lt;umesh&gt;   Hi</div>
<div class="line">[Thursday 27 May 2010] [02:42:53] &lt;umesh&gt;   I am newbie to zeromq</div>
<div class="line">[Thursday 27 May 2010] [02:43:27] &lt;umesh&gt;   I have a simple question that ... how we can use the zeromq with the XML-RPC ?</div>
<div class="line">[Thursday 27 May 2010] [02:43:53] &lt;umesh&gt;   means any pointers to simple example will help</div>
<div class="line">[Thursday 27 May 2010] [02:53:29] &lt;sustrik&gt; umesh: you have to pair xml-rpc serialisation library with 0mq library</div>
<div class="line">[Thursday 27 May 2010] [02:55:10] &lt;sustrik&gt; zedas: i had a look at the leak you&#8217;ve reported; it seems the debug info is missing and presumably, optimiser messed with the code; can you do the same with -g -O0 built code?</div>
<div class="line">[Thursday 27 May 2010] [02:55:45] &lt;sustrik&gt; zedas: as an option, do you have a test program to reproduce the problem?</div>
<div class="line">[Thursday 27 May 2010] [02:55:56] &lt;zedas&gt;   sustrik: that is with -g -O0, it&#8217;s valgrind on OSX and the retarded dylibs OSX uses</div>
<div class="line">[Thursday 27 May 2010] [02:56:43] &lt;sustrik&gt; hm, strange, the filenames and linenumber seem missing</div>
<div class="line">[Thursday 27 May 2010] [02:56:45] &lt;zedas&gt;   sustrik: i do have a test program, but it&#8217;s my project, so probably take you too long to build it and get it working.  <a class="reference external" href="http://mulletdb.com/">http://mulletdb.com/</a></div>
<div class="line">[Thursday 27 May 2010] [02:57:07] &lt;zedas&gt;   i&#8217;ll run the test on linux and get you line numbers</div>
<div class="line">[Thursday 27 May 2010] [02:57:19] &lt;sustrik&gt; great, thanks</div>
<div class="line">[Thursday 27 May 2010] [02:57:45] &lt;zedas&gt;   in the mean time, does your rbzmq actually build?  it fails miserably for me because of the test for zmq_init not including the right libraries or header files.</div>
<div class="line">[Thursday 27 May 2010] [02:58:27] &lt;sustrik&gt; not sure, what version are you using 2.0.6?</div>
<div class="line">[Thursday 27 May 2010] [02:58:46] &lt;sustrik&gt; i mean 0mq version</div>
<div class="line">[Thursday 27 May 2010] [02:59:15] &lt;sustrik&gt; unfortunatrly, rbzmq is orphaned at the moment</div>
<div class="line">[Thursday 27 May 2010] [02:59:33] &lt;sustrik&gt; i am taking care of it a bit, but i am not a ruby person...</div>
<div class="line">[Thursday 27 May 2010] [03:01:48] &lt;zedas&gt;   latest from git for both 0mq and rbzmq</div>
<div class="line">[Thursday 27 May 2010] [03:02:01] &lt;zedas&gt;   alright i&#8217;ll see what&#8217;s up and give you a patch</div>
<div class="line">[Thursday 27 May 2010] [03:02:21] &lt;zedas&gt;   i&#8217;m not a ruby person anymore, but seems i get asked to fix ruby stuff :-)</div>
<div class="line">[Thursday 27 May 2010] [03:02:38] &lt;sustrik&gt; that would be great, thanks :)</div>
<div class="line">[Thursday 27 May 2010] [03:02:50] &lt;umesh&gt;   sustrik: Is there any some real time example which demostrate xml-rpc and zeromq</div>
<div class="line">[Thursday 27 May 2010] [03:03:08] &lt;sustrik&gt; umesh: i am not aware anyone had done that yet</div>
<div class="line">[Thursday 27 May 2010] [03:03:14] &lt;sustrik&gt; you may ask on the mailing list</div>
<div class="line">[Thursday 27 May 2010] [03:03:47] &lt;zedas&gt;   sustrik: <a class="reference external" href="http://dpaste.de/odLV/">http://dpaste.de/odLV/</a>  there ya go</div>
<div class="line">[Thursday 27 May 2010] [03:04:22] &lt;zedas&gt;   that might be a slightly older git checkout than is current, but i can rebuild if that doesn&#8217;t pinpoint the spot</div>
<div class="line">[Thursday 27 May 2010] [03:04:58] &lt;sustrik&gt; zedas: interesting, is that the only leak there?</div>
<div class="line">[Thursday 27 May 2010] [03:05:10] &lt;zedas&gt;   that&#8217;s the only one i can find</div>
<div class="line">[Thursday 27 May 2010] [03:05:20] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 27 May 2010] [03:05:27] &lt;zedas&gt;   the others are stock sets of ram for say arc4, threads, etc.</div>
<div class="line">[Thursday 27 May 2010] [03:05:45] &lt;zedas&gt;   this spot is the only one that grows perpetually and causes server death</div>
<div class="line">[Thursday 27 May 2010] [03:05:51] &lt;zedas&gt;   oom killer</div>
<div class="line">[Thursday 27 May 2010] [03:06:11] &lt;sustrik&gt; one leak for each connection created, right?</div>
<div class="line">[Thursday 27 May 2010] [03:06:49] &lt;zedas&gt;   no, i think one for each message passed</div>
<div class="line">[Thursday 27 May 2010] [03:07:08] &lt;sustrik&gt; hm</div>
<div class="line">[Thursday 27 May 2010] [03:07:14] &lt;zedas&gt;   so i get 2MB of leaks from about that much data transmitted, but only a few hundred connections</div>
<div class="line">[Thursday 27 May 2010] [03:07:25] &lt;zedas&gt;   but, i could be wrong.  maybe the unit tests are doing more than i think.</div>
<div class="line">[Thursday 27 May 2010] [03:07:48] &lt;zedas&gt;   or, 0mq is doing more connections behind the scenes</div>
<div class="line">[Thursday 27 May 2010] [03:07:59] &lt;zedas&gt;   let me get you the code that does this, it&#8217;s pretty simple</div>
<div class="line">[Thursday 27 May 2010] [03:08:13] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 27 May 2010] [03:08:48] &lt;zedas&gt;   <a class="reference external" href="http://dpaste.de/SHso/">http://dpaste.de/SHso/</a></div>
<div class="line">[Thursday 27 May 2010] [03:08:49] &lt;zedas&gt;   that&#8217;s it</div>
<div class="line">[Thursday 27 May 2010] [03:08:59] &lt;zedas&gt;   nothing else in the system does 0mq, and that&#8217;s the entire 0mq usage</div>
<div class="line">[Thursday 27 May 2010] [03:09:13] &lt;zedas&gt;   and all the tests are over the REQ/REP socket, not the pub/sub socket</div>
<div class="line">[Thursday 27 May 2010] [03:09:51] &lt;zedas&gt;   so lines 84-86, which calls perform_request</div>
<div class="line">[Thursday 27 May 2010] [03:10:32] &lt;zedas&gt;   ohhhhh hey, see how i&#8217;m passing in the same socket as an in and out socket?  could that be causing it?</div>
<div class="line">[Thursday 27 May 2010] [03:10:40] &lt;zedas&gt;   perform_request(in_socket, in_socket)</div>
<div class="line">[Thursday 27 May 2010] [03:10:58] &lt;zedas&gt;   they&#8217;re by ref (&amp;) so not sure, but i&#8217;m not clear how the memory handling is done</div>
<div class="line">[Thursday 27 May 2010] [03:11:30] &lt;sustrik&gt; the strange thing that the leak, as reported by valgrind</div>
<div class="line">[Thursday 27 May 2010] [03:11:37] &lt;sustrik&gt; is tied to connection creation</div>
<div class="line">[Thursday 27 May 2010] [03:11:46] &lt;sustrik&gt; how many client do you have</div>
<div class="line">[Thursday 27 May 2010] [03:11:48] &lt;sustrik&gt; just one?</div>
<div class="line">[Thursday 27 May 2010] [03:14:41] &lt;zedas&gt;   yep.</div>
<div class="line">[Thursday 27 May 2010] [03:14:51] &lt;zedas&gt;   i can show you the python code for the client, it&#8217;s not much</div>
<div class="line">[Thursday 27 May 2010] [03:15:22]    * sustrik have an idea of what may have gone wrong</div>
<div class="line">[Thursday 27 May 2010] [03:15:25] &lt;sustrik&gt; wait a sec</div>
<div class="line">[Thursday 27 May 2010] [03:16:36] &lt;sustrik&gt; no luck :(</div>
<div class="line">[Thursday 27 May 2010] [03:16:51] &lt;zedas&gt;   <a class="reference external" href="http://dpaste.de/RyrE/">http://dpaste.de/RyrE/</a></div>
<div class="line">[Thursday 27 May 2010] [03:16:55] &lt;sustrik&gt; thx</div>
<div class="line">[Thursday 27 May 2010] [03:16:55] &lt;zedas&gt;   that&#8217;s what makes the connection</div>
<div class="line">[Thursday 27 May 2010] [03:17:01] &lt;zedas&gt;   and i only make one for the whole test code run</div>
<div class="line">[Thursday 27 May 2010] [03:17:41] &lt;zedas&gt;   so, i can try putting in an explicit close, but iirc there isn&#8217;t one in the python library, similar to the c++ library</div>
<div class="line">[Thursday 27 May 2010] [03:18:09] &lt;sustrik&gt; client is perfectly ok</div>
<div class="line">[Thursday 27 May 2010] [03:18:13] &lt;sustrik&gt; the most basic use case</div>
<div class="line">[Thursday 27 May 2010] [03:18:30] &lt;zedas&gt;   yep, super vanilla</div>
<div class="line">[Thursday 27 May 2010] [03:18:41] &lt;sustrik&gt; i&#8217;ll try to run a code similar to one in your server</div>
<div class="line">[Thursday 27 May 2010] [03:18:45] &lt;sustrik&gt; we&#8217;ll see...</div>
<div class="line">[Thursday 27 May 2010] [03:18:46] &lt;zedas&gt;   and the server isn&#8217;t doing much either.  it gets the data out, and then hands it to another class or two</div>
<div class="line">[Thursday 27 May 2010] [03:18:58] &lt;sustrik&gt; but the leak is in server, right?</div>
<div class="line">[Thursday 27 May 2010] [03:19:59] &lt;sustrik&gt; sure it is</div>
<div class="line">[Thursday 27 May 2010] [03:28:34] &lt;zedas&gt;   yep</div>
<div class="line">[Thursday 27 May 2010] [03:28:57] &lt;zedas&gt;   although i could try running a fast loop of requests in a client</div>
<div class="line">[Thursday 27 May 2010] [03:31:19] &lt;sustrik&gt; you get tghe leak with req/rep or pub/sub style?</div>
<div class="line">[Thursday 27 May 2010] [03:31:26] &lt;zedas&gt;   req/rep</div>
<div class="line">[Thursday 27 May 2010] [03:31:29] &lt;sustrik&gt; ok</div>
<div class="line">[Thursday 27 May 2010] [03:37:33] &lt;sustrik&gt; the client sends one message, receive a reply and exits</div>
<div class="line">[Thursday 27 May 2010] [03:37:39] &lt;sustrik&gt; or does it run in a loop?</div>
<div class="line">[Thursday 27 May 2010] [03:38:57] &lt;sjampoo&gt; sustrik: interesting plans for the future</div>
<div class="line">[Thursday 27 May 2010] [03:39:40] &lt;sjampoo&gt; btw i just benched the nocopy version of pyzmq <a class="reference external" href="http://nichol.as/wp-content/pyzmq-lat.png">http://nichol.as/wp-content/pyzmq-lat.png</a></div>
<div class="line">[Thursday 27 May 2010] [03:41:02] &lt;sustrik&gt; sjampoo: nice, what about putting in on the website?</div>
<div class="line">[Thursday 27 May 2010] [03:41:54] &lt;sustrik&gt; it&#8217;s us not ns btw</div>
<div class="line">[Thursday 27 May 2010] [03:42:10] &lt;sjampoo&gt; hah, good catch</div>
<div class="line">[Thursday 27 May 2010] [03:42:41] &lt;sjampoo&gt; I think it would be nice to put it on the website when the nocopy version is release ready</div>
<div class="line">[Thursday 27 May 2010] [03:43:56] &lt;sustrik&gt; you should speak to brian about this</div>
<div class="line">[Thursday 27 May 2010] [03:44:15] &lt;sustrik&gt; i am not sure what&#8217;s the right place for it</div>
<div class="line">[Thursday 27 May 2010] [03:44:30] &lt;sjampoo&gt; i will</div>
<div class="line">[Thursday 27 May 2010] [03:44:38] &lt;sustrik&gt; feel free to use zeromq.org&#8217;s &#8220;performance&#8221; section if you have no better place</div>
<div class="line">[Thursday 27 May 2010] [03:46:43] &lt;sustrik&gt; zedas: i&#8217;m running your code but can&#8217;t produce the leak here :(</div>
<div class="line">[Thursday 27 May 2010] [03:47:59] &lt;zedas&gt;   sustrik: client creates the connection, then does a bunch of req/rep tests, then exits</div>
<div class="line">[Thursday 27 May 2010] [03:48:11] &lt;zedas&gt;   the server is a daemon that just processes in that loop</div>
<div class="line">[Thursday 27 May 2010] [03:48:13] &lt;sustrik&gt; yes, i&#8217;ve tried both scenarios</div>
<div class="line">[Thursday 27 May 2010] [03:48:18] &lt;sustrik&gt; not luck though</div>
<div class="line">[Thursday 27 May 2010] [03:48:29] &lt;zedas&gt;   ok can i see your code.  maybe i can root out what&#8217;s in mine that causes it</div>
<div class="line">[Thursday 27 May 2010] [03:48:39] &lt;sustrik&gt; can you check whether all sockets and the context are properly shut down?</div>
<div class="line">[Thursday 27 May 2010] [03:49:35] &lt;sustrik&gt; <a class="reference external" href="http://dpaste.de/WOCm/">http://dpaste.de/WOCm/</a></div>
<div class="line">[Thursday 27 May 2010] [03:50:45] &lt;zedas&gt;   sockets shutdown on the client or server side</div>
<div class="line">[Thursday 27 May 2010] [03:51:05] &lt;zedas&gt;   also, this wouldn&#8217;t be a shutdown leak because the server crashes after repeated hits</div>
<div class="line">[Thursday 27 May 2010] [03:51:46] &lt;sustrik&gt; on the server side i mean</div>
<div class="line">[Thursday 27 May 2010] [03:51:53] &lt;zedas&gt;   ok let me do something to this sample you wrote sustrik</div>
<div class="line">[Thursday 27 May 2010] [03:52:00] &lt;sustrik&gt; sure</div>
<div class="line">[Thursday 27 May 2010] [04:07:05] &lt;zedas&gt;   sustrik: looks like it&#8217;s on connect</div>
<div class="line">[Thursday 27 May 2010] [04:07:43] &lt;sustrik&gt; ?</div>
<div class="line">[Thursday 27 May 2010] [04:10:43] &lt;zedas&gt;   ok this client produces the leak:  <a class="reference external" href="http://dpaste.de/BcJV/">http://dpaste.de/BcJV/</a>   i&#8217;ll post my server code next</div>
<div class="line">[Thursday 27 May 2010] [04:11:23] &lt;zedas&gt;   <a class="reference external" href="http://dpaste.de/zqtK/">http://dpaste.de/zqtK/</a></div>
<div class="line">[Thursday 27 May 2010] [04:11:43] &lt;zedas&gt;   sustrik: not much different from your own except i&#8217;m sending back a more reliable message, and freeing it in a free method</div>
<div class="line">[Thursday 27 May 2010] [04:11:51] &lt;zedas&gt;   but, if you hit that server with tons of messages, no leak</div>
<div class="line">[Thursday 27 May 2010] [04:12:03] &lt;zedas&gt;   it&#8217;s only if you run the client in the shell with:</div>
<div class="line">[Thursday 27 May 2010] [04:12:12] &lt;zedas&gt;   while ./testcli ; do ps aux | grep test | grep -v grep ; done</div>
<div class="line">[Thursday 27 May 2010] [04:12:23] &lt;zedas&gt;   then you start to leak ram from each connection</div>
<div class="line">[Thursday 27 May 2010] [04:13:10] &lt;sustrik&gt; let me try</div>
<div class="line">[Thursday 27 May 2010] [04:13:19] &lt;sustrik&gt; ugh, i have to leave for an hour</div>
<div class="line">[Thursday 27 May 2010] [04:13:27] &lt;sustrik&gt; will continue afterwards</div>
<div class="line">[Thursday 27 May 2010] [04:17:25] &lt;zedas&gt;   sustrik: no problem.</div>
<div class="line">[Thursday 27 May 2010] [04:17:31] &lt;zedas&gt;   i&#8217;ll just make fewer connetions :-)</div>
<div class="line">[Thursday 27 May 2010] [04:17:46] &lt;zedas&gt;   but i think that narrows it down pretty good.</div>
<div class="line">[Thursday 27 May 2010] [05:03:36] &lt;pieterh&gt; &#64;zedas: mulletdb looks pretty neat, do you have use cases for it already?</div>
<div class="line">[Thursday 27 May 2010] [05:26:32] &lt;zedas&gt;   pieterh: i&#8217;m using it on some dinky projects, but mostly just for fun</div>
<div class="line">[Thursday 27 May 2010] [05:27:03] &lt;pieterh&gt; &#64;zedas: would you like to be listed on the zeromq.org site?  I&#8217;d like to collect projects using 0MQ</div>
<div class="line">[Thursday 27 May 2010] [05:29:10] &lt;zedas&gt;   pieterh: yeah sure, if you like.  it&#8217;s fairly new but i&#8217;m contributing it regularly.</div>
<div class="line">[Thursday 27 May 2010] [05:29:50] &lt;pieterh&gt; yes, I read your initial blog</div>
<div class="line">[Thursday 27 May 2010] [05:30:02] &lt;pieterh&gt; well, we can wait a while to see if mulletdb becomes famous :-)</div>
<div class="line">[Thursday 27 May 2010] [05:31:18] &lt;zedas&gt;   it&#8217;s famous now</div>
<div class="line">[Thursday 27 May 2010] [05:31:30] &lt;pieterh&gt; :-)</div>
<div class="line">[Thursday 27 May 2010] [05:31:32] &lt;jugg&gt;    I&#8217;m using lua bindings, and calling the equivelant of zmq_getsockopt with ZMQ_RCVMORE and the call if failing.  Any known issues with that?</div>
<div class="line">[Thursday 27 May 2010] [05:31:42] &lt;zedas&gt;   well, famous for being another of my weirdo projects :-)</div>
<div class="line">[Thursday 27 May 2010] [05:32:10] &lt;pieterh&gt; &#64;zedas: do you have a pretty logo yet?</div>
<div class="line">[Thursday 27 May 2010] [05:42:57] &lt;jugg&gt;    nevermind, its a bug in the lua bindings.</div>
<div class="line">[Thursday 27 May 2010] [06:09:13] &lt;sustrik&gt; jugg: the point is that getsockopt is a new function</div>
<div class="line">[Thursday 27 May 2010] [06:09:27] &lt;sustrik&gt; so it&#8217;s probably not yet available via lua binding</div>
<div class="line">[Thursday 27 May 2010] [06:09:50] &lt;jugg&gt;    it is, it was incorrectly implemented.</div>
<div class="line">[Thursday 27 May 2010] [06:09:56] &lt;jugg&gt;    I&#8217;ve patched it.</div>
<div class="line">[Thursday 27 May 2010] [06:09:59] &lt;sustrik&gt; ah</div>
<div class="line">[Thursday 27 May 2010] [06:10:22] &lt;sustrik&gt; do move the patch upstream</div>
<div class="line">[Thursday 27 May 2010] [06:10:32] &lt;sustrik&gt; bindings are separate products though</div>
<div class="line">[Thursday 27 May 2010] [06:10:35] &lt;jugg&gt;    in the middle of doing so... :)</div>
<div class="line">[Thursday 27 May 2010] [06:14:54] &lt;jugg&gt;    <a class="reference external" href="http://github.com/iamaleksey/lua-zmq/issues#issue/1">http://github.com/iamaleksey/lua-zmq/issues#issue/1</a></div>
<div class="line">[Thursday 27 May 2010] [06:16:16] &lt;sustrik&gt; !</div>
<div class="line">[Thursday 27 May 2010] [06:34:26] &lt;sustrik&gt; zedas: ok, i am runnig your test</div>
<div class="line">[Thursday 27 May 2010] [06:34:37] &lt;sustrik&gt; how do you terminate it?</div>
<div class="line">[Thursday 27 May 2010] [06:46:31] &lt;sustrik&gt; ok, i see</div>
<div class="line">[Thursday 27 May 2010] [07:55:25] &lt;cremes&gt;  zedas: for ruby you may want to check out the ruby FFI bindings (it&#8217;s my project) at <a class="reference external" href="http://github.com/chuckremes/ffi-rzmq">http://github.com/chuckremes/ffi-rzmq</a></div>
<div class="line">[Thursday 27 May 2010] [07:55:46] &lt;cremes&gt;  they are getting a lot more love than the official bindings at the moment</div>
<div class="line">[Thursday 27 May 2010] [07:56:46] &lt;cremes&gt;  i&#8217;m adding specs over the next few days to give some confidence in the release quality</div>
<div class="line">[Thursday 27 May 2010] [07:57:25] &lt;cremes&gt;  also, the bindings are not idiomatic ruby; they map to the C functions pretty closely; i am working on a higher-level library to add ruby sugar back in</div>
<div class="line">[Thursday 27 May 2010] [07:57:57] &lt;cremes&gt;  i know you&#8217;re not a ruby guy anymore so pass this info on to whoever needed the help with rbzmq</div>
<div class="line">[Thursday 27 May 2010] [08:01:12] &lt;cremes&gt;  oh, and the ffi bindings allow 0mq to work with ruby runtimes other than MRI</div>
<div class="line">[Thursday 27 May 2010] [09:06:05] &lt;jugg&gt;    I&#8217;ve set up a REQ/REP pattern, where the REQ socket is connecting, and the REP socket is binding.  Is there a way for the REQ socket to determine if a binding exists?  Because the REQ socket send must subsequently block on recv waiting for the reply, I&#8217;d rather not have start sending messages through the REQ socket until the REP socket is ready to go.</div>
<div class="line">[Thursday 27 May 2010] [09:06:41] &lt;jugg&gt;    s/not have/not/</div>
<div class="line">[Thursday 27 May 2010] [09:07:20] &lt;sustrik&gt; jugg: that&#8217;s done automatically</div>
<div class="line">[Thursday 27 May 2010] [09:07:57] &lt;sustrik&gt; when there&#8217;s no connection, messages are queued and sent after the server is available</div>
<div class="line">[Thursday 27 May 2010] [09:08:20] &lt;jugg&gt;    yes, this is the problem.  My app is now hung on recv waiting for a reply that is sometime to come yet.</div>
<div class="line">[Thursday 27 May 2010] [09:08:43] &lt;sustrik&gt; ok, what would you want to do instead?</div>
<div class="line">[Thursday 27 May 2010] [09:08:47] &lt;sustrik&gt; check periodically?</div>
<div class="line">[Thursday 27 May 2010] [09:09:04] &lt;jugg&gt;    I&#8217;d like to detect if this is the case (no server available) or just have the send go to oblivion and the recv be a nop.</div>
<div class="line">[Thursday 27 May 2010] [09:09:23] &lt;sustrik&gt; you can do a non-blocking send</div>
<div class="line">[Thursday 27 May 2010] [09:09:34] &lt;jugg&gt;    sure, but I still have to wait for the recv.</div>
<div class="line">[Thursday 27 May 2010] [09:09:35] &lt;sustrik&gt; zmq_send (s, msg, ZMQ_NOBLOCK)</div>
<div class="line">[Thursday 27 May 2010] [09:09:52] &lt;sustrik&gt; no, because the message is not send in that case</div>
<div class="line">[Thursday 27 May 2010] [09:10:04] &lt;jugg&gt;    ok, so without a server on the other side, it is send that is blocking?</div>
<div class="line">[Thursday 27 May 2010] [09:10:05] &lt;sustrik&gt; it just says EAGAIN</div>
<div class="line">[Thursday 27 May 2010] [09:10:34] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 27 May 2010] [09:10:51] &lt;jugg&gt;    well, I <em>do</em> want to block on recv if my message is actually sent.</div>
<div class="line">[Thursday 27 May 2010] [09:11:02] &lt;sustrik&gt; yes</div>
<div class="line">[Thursday 27 May 2010] [09:11:10] &lt;sustrik&gt; psudocode:</div>
<div class="line">[Thursday 27 May 2010] [09:11:21] &lt;sustrik&gt; s = socket (REQ)</div>
<div class="line">[Thursday 27 May 2010] [09:11:36] &lt;sustrik&gt; s.send (request, NOBLOCK)</div>
<div class="line">[Thursday 27 May 2010] [09:11:40] &lt;sustrik&gt; if (EAGAIN)</div>
<div class="line">[Thursday 27 May 2010] [09:11:45] &lt;sustrik&gt;     do someting else</div>
<div class="line">[Thursday 27 May 2010] [09:11:53] &lt;sustrik&gt; reply = s.recv ()</div>
<div class="line">[Thursday 27 May 2010] [09:13:46] &lt;jugg&gt;    ok, so NOBLOCK will cause send to fail if no server is available?  May there be another reason that send would fail because NOBLOCK is set even if there was a server?</div>
<div class="line">[Thursday 27 May 2010] [09:14:08] &lt;jugg&gt;    ie. are there other side affects of NOBLOCK</div>
<div class="line">[Thursday 27 May 2010] [09:14:12] &lt;sustrik&gt; no, this is the only reason</div>
<div class="line">[Thursday 27 May 2010] [09:14:23] &lt;sustrik&gt; ah</div>
<div class="line">[Thursday 27 May 2010] [09:14:30] &lt;sustrik&gt; ok, one more reason</div>
<div class="line">[Thursday 27 May 2010] [09:14:58] &lt;sustrik&gt; if you set high watermarks on all sockets</div>
<div class="line">[Thursday 27 May 2010] [09:15:18] &lt;sustrik&gt; it may happen (if server is slow to respond)</div>
<div class="line">[Thursday 27 May 2010] [09:15:32] &lt;sustrik&gt; that all buffers space will be eqhausted</div>
<div class="line">[Thursday 27 May 2010] [09:15:36] &lt;sustrik&gt; by pending requests</div>
<div class="line">[Thursday 27 May 2010] [09:15:44] &lt;jugg&gt;    ok, but without messing with ZMQ_HWM this is not an issue?</div>
<div class="line">[Thursday 27 May 2010] [09:15:47] &lt;sustrik&gt; then NOBLOCK would return EAGAIN</div>
<div class="line">[Thursday 27 May 2010] [09:15:52] &lt;sustrik&gt; no</div>
<div class="line">[Thursday 27 May 2010] [09:16:07] &lt;jugg&gt;    great, thanks.</div>
<div class="line">[Thursday 27 May 2010] [09:16:14] &lt;sustrik&gt; you are welcome</div>
<div class="line">[Thursday 27 May 2010] [09:26:04] &lt;jugg&gt;    well, either another bug in the lua bindings, or NOBLOCK isn&#8217;t working...</div>
<div class="line">[Thursday 27 May 2010] [09:26:23] &lt;jugg&gt;    send is returning success</div>
<div class="line">[Thursday 27 May 2010] [09:26:29] &lt;sustrik&gt; REQ socket?</div>
<div class="line">[Thursday 27 May 2010] [09:26:41] &lt;jugg&gt;    yes</div>
<div class="line">[Thursday 27 May 2010] [09:26:53] &lt;sustrik&gt; let me see</div>
<div class="line">[Thursday 27 May 2010] [09:27:32] &lt;jugg&gt;    the binding looks good</div>
<div class="line">[Thursday 27 May 2010] [09:27:34] &lt;sustrik&gt; ah, right, you are connecting it</div>
<div class="line">[Thursday 27 May 2010] [09:27:50] &lt;jugg&gt;    ?</div>
<div class="line">[Thursday 27 May 2010] [09:27:54] &lt;sustrik&gt; that creates the buffer for messages right away</div>
<div class="line">[Thursday 27 May 2010] [09:28:01] &lt;jugg&gt;    oh</div>
<div class="line">[Thursday 27 May 2010] [09:28:04] &lt;sustrik&gt; forget what i said before</div>
<div class="line">[Thursday 27 May 2010] [09:28:13]    * sustrik got confused :|</div>
<div class="line">[Thursday 27 May 2010] [09:28:26] &lt;jugg&gt;    unfortunate, because your confusion is what I wanted... :/</div>
<div class="line">[Thursday 27 May 2010] [09:28:46] &lt;sustrik&gt; you were right</div>
<div class="line">[Thursday 27 May 2010] [09:29:00] &lt;sustrik&gt; you send a message and it&#8217;ll be delivered eventually</div>
<div class="line">[Thursday 27 May 2010] [09:29:39] &lt;sustrik&gt; what about checking for request in non-blocking manner and doing other work if there&#8217;s no reply yet?</div>
<div class="line">[Thursday 27 May 2010] [09:29:56] &lt;sustrik&gt; checking for reply</div>
<div class="line">[Thursday 27 May 2010] [09:32:12] &lt;jugg&gt;    that doesn&#8217;t fit the existing structure that I&#8217;m plugging into :/   The current implementation requires that it is known whether the send was received by the server.  But blocking on on the send until the server is available isn&#8217;t acceptable.  It needs to simply drop the message and keep going in that case.</div>
<div class="line">[Thursday 27 May 2010] [09:33:31] &lt;sustrik&gt; then you need a roundtrip to server to ensure that, right?</div>
<div class="line">[Thursday 27 May 2010] [09:34:17] &lt;jugg&gt;    well, the round trip is to ensure the message was processed correctly when it actually gets processed.  But it is ok to drop the message into oblivion if the server isn&#8217;t available.</div>
<div class="line">[Thursday 27 May 2010] [09:34:40] &lt;sustrik&gt; pub/sub sockets work that way</div>
<div class="line">[Thursday 27 May 2010] [09:34:55] &lt;sustrik&gt; deliver is peer is available</div>
<div class="line">[Thursday 27 May 2010] [09:35:01] &lt;sustrik&gt; drop message if it is not</div>
<div class="line">[Thursday 27 May 2010] [09:35:17] &lt;jugg&gt;    sure, but the peer doesn&#8217;t reply back in that pattern.</div>
<div class="line">[Thursday 27 May 2010] [09:35:29] &lt;sustrik&gt; it doesn not</div>
<div class="line">[Thursday 27 May 2010] [09:36:01] &lt;sustrik&gt; basically, what you need is a sync connection rather than message queueing system</div>
<div class="line">[Thursday 27 May 2010] [09:36:29] &lt;sustrik&gt; that&#8217;s somehow out of scope of 0mq</div>
<div class="line">[Thursday 27 May 2010] [09:37:12] &lt;sustrik&gt; why not use standard BSD sockets for such a trivial scenario?</div>
<div class="line">[Thursday 27 May 2010] [09:37:45] &lt;jugg&gt;    I think it is simply an issue of the REQ/REP pattern, there needs to be some way to check if a REQ can be made, if it can, then certainly block on recv for the reply.  But if a request can&#8217;t be made, don&#8217;t sit there for eternity waiting to make the request.</div>
<div class="line">[Thursday 27 May 2010] [09:38:18] &lt;sustrik&gt; it&#8217;s a design issue</div>
<div class="line">[Thursday 27 May 2010] [09:38:32] &lt;jugg&gt;    this is only the first part of the message chain.  Once it gets inserted here, it needs to be ensured from there out.</div>
<div class="line">[Thursday 27 May 2010] [09:38:46] &lt;sustrik&gt; mq systems are expected to queue the message and let the user continue trusting the message will be delivered</div>
<div class="line">[Thursday 27 May 2010] [09:42:04] &lt;sustrik&gt; it&#8217;s similar to TCP in a way</div>
<div class="line">[Thursday 27 May 2010] [09:42:09] &lt;sustrik&gt; you send data</div>
<div class="line">[Thursday 27 May 2010] [09:42:21] &lt;sustrik&gt; and trust the underlying stack to deliver it eventually</div>
<div class="line">[Thursday 27 May 2010] [09:46:54] &lt;jugg&gt;    This is a frontend delivery to the messaging system.  Once the message is in the system, then that message is ensured to be processed, but if the system isn&#8217;t available there is no point in having the messages queued by the requesting application.  That application needs to be told the system isn&#8217;t available and try again later when it tries to send a message.</div>
<div class="line">[Thursday 27 May 2010] [09:47:35] &lt;sustrik&gt; i would use simple TCP connection in such case</div>
<div class="line">[Thursday 27 May 2010] [09:48:17] &lt;sustrik&gt; other option would be to timout</div>
<div class="line">[Thursday 27 May 2010] [09:48:39] &lt;sustrik&gt; if no response arrives in N seconds the system is assumed to be unavailable</div>
<div class="line">[Thursday 27 May 2010] [09:48:54] &lt;sustrik&gt; not sure whether that would work for you</div>
<div class="line">[Thursday 27 May 2010] [09:50:37] &lt;sustrik&gt; actually, there were already some discussion about providing sync access to 0mq network</div>
<div class="line">[Thursday 27 May 2010] [09:50:57] &lt;sustrik&gt; say, having a simple library that would speak 0mq wire protocol</div>
<div class="line">[Thursday 27 May 2010] [09:51:09] &lt;sustrik&gt; but would handle connections same way as TCP does</div>
<div class="line">[Thursday 27 May 2010] [09:51:23] &lt;sustrik&gt; but that kind of thing doesn&#8217;t exist yet</div>
<div class="line">[Thursday 27 May 2010] [09:53:02] &lt;cremes&gt;  jugg: i think sustrik&#8217;s suggestion of sending the message async and timing out on the reply is the way to go if you want to stay within the 0mq framework</div>
<div class="line">[Thursday 27 May 2010] [09:53:10] &lt;cremes&gt;  otherwise what you are trying to do isn&#8217;t a good fit for 0mq</div>
<div class="line">[Thursday 27 May 2010] [09:53:30] &lt;sustrik&gt; cremes: there&#8217;s a point in what jugg says</div>
<div class="line">[Thursday 27 May 2010] [09:53:49] &lt;sustrik&gt; the applications that handle exactly 1 connection</div>
<div class="line">[Thursday 27 May 2010] [09:53:56] &lt;sustrik&gt; would want that kind of thing</div>
<div class="line">[Thursday 27 May 2010] [09:54:07] &lt;sustrik&gt; say client/server application</div>
<div class="line">[Thursday 27 May 2010] [09:54:26] &lt;cremes&gt;  but don&#8217;t you agree that it is already possible today without a change to the library?</div>
<div class="line">[Thursday 27 May 2010] [09:54:28] &lt;sustrik&gt; server does obviously need 0mq framework as it is today</div>
<div class="line">[Thursday 27 May 2010] [09:55:07] &lt;sustrik&gt; the connections are hidden to the user</div>
<div class="line">[Thursday 27 May 2010] [09:55:25] &lt;sustrik&gt; which makes perfect sense if there&#8217;s arbitrary number of them</div>
<div class="line">[Thursday 27 May 2010] [09:55:39] &lt;sustrik&gt; like in server handling 10,000&#8217;s of connections</div>
<div class="line">[Thursday 27 May 2010] [09:55:46] &lt;cremes&gt;  i agree</div>
<div class="line">[Thursday 27 May 2010] [09:55:52] &lt;sustrik&gt; with the client the case is a bit different</div>
<div class="line">[Thursday 27 May 2010] [09:56:03] &lt;sustrik&gt; you want to open exactly one connection</div>
<div class="line">[Thursday 27 May 2010] [09:56:10] &lt;sustrik&gt; send/recv messages</div>
<div class="line">[Thursday 27 May 2010] [09:56:18] &lt;sustrik&gt; and get notified if the connection breaks</div>
<div class="line">[Thursday 27 May 2010] [09:56:46] &lt;sustrik&gt; technically, it&#8217;s much easier than what 0mq does at the moment</div>
<div class="line">[Thursday 27 May 2010] [09:57:01] &lt;sustrik&gt; but nobody implemented it yet</div>
<div class="line">[Thursday 27 May 2010] [09:58:34] &lt;cremes&gt;  by &#8220;nobody implemented it yet&#8221; do you mean no one has implemented the 0mq wire format outside of the 0mq framework?</div>
<div class="line">[Thursday 27 May 2010] [09:58:47] &lt;cremes&gt;  because that is one way to accomplish that goal</div>
<div class="line">[Thursday 27 May 2010] [09:59:13] &lt;sustrik&gt; witthin or outside, doesn&#8217;t matter</div>
<div class="line">[Thursday 27 May 2010] [09:59:25] &lt;sustrik&gt; no sync interface as for now</div>
<div class="line">[Thursday 27 May 2010] [10:02:06] &lt;cremes&gt;  btw, what is your release plan for 2.0.7? 1 week? a month? the api has changed quite a bit in master but i am waiting to update my bindings until the next release.</div>
<div class="line">[Thursday 27 May 2010] [10:02:20] &lt;cremes&gt;  i don&#8217;t want to chase more api changes.</div>
<div class="line">[Thursday 27 May 2010] [10:02:42] &lt;sustrik&gt; it&#8217;s not completely up to me</div>
<div class="line">[Thursday 27 May 2010] [10:02:52] &lt;sustrik&gt; let me check with others involved</div>
<div class="line">[Thursday 27 May 2010] [10:02:56] &lt;cremes&gt;  oh, i thought you owned it :)</div>
<div class="line">[Thursday 27 May 2010] [10:03:14] &lt;sustrik&gt; i have no idea how the build system works :)</div>
<div class="line">[Thursday 27 May 2010] [10:03:40] &lt;cremes&gt;  me neither!</div>
<div class="line">[Thursday 27 May 2010] [10:04:56] &lt;jugg&gt;    hmm, the watermark stuff doesn&#8217;t even make sense in conjuction with REQ/REP anyway, as there can only ever be one message in the queue.</div>
<div class="line">[Thursday 27 May 2010] [10:05:25] &lt;sustrik&gt; jugg: right</div>
<div class="line">[Thursday 27 May 2010] [10:05:39] &lt;jugg&gt;    So, in this case, I would think that NOBLOCK should work the way I want it.</div>
<div class="line">[Thursday 27 May 2010] [10:05:59] &lt;sustrik&gt; on send?</div>
<div class="line">[Thursday 27 May 2010] [10:06:19] &lt;jugg&gt;    yes, the only point in the queue on send is if the server isn&#8217;t available.</div>
<div class="line">[Thursday 27 May 2010] [10:07:17] &lt;sustrik&gt; yes, the queue allows you to continue processing even though the peer is not available</div>
<div class="line">[Thursday 27 May 2010] [10:07:28] &lt;sustrik&gt; it might seem an overkill in REQ case</div>
<div class="line">[Thursday 27 May 2010] [10:07:42] &lt;sustrik&gt; but REQ is just a convenience wrapper over XREQ</div>
<div class="line">[Thursday 27 May 2010] [10:08:01] &lt;sustrik&gt; which allows you to send arbitrary number of requests without waiting for answer</div>
<div class="line">[Thursday 27 May 2010] [10:08:14] &lt;sustrik&gt; in that case the queue makes perfect sense</div>
<div class="line">[Thursday 27 May 2010] [10:08:24] &lt;jugg&gt;    I guess that one isn&#8217;t documented...</div>
<div class="line">[Thursday 27 May 2010] [10:08:37] &lt;sustrik&gt; it&#8217;s not, sorry</div>
<div class="line">[Thursday 27 May 2010] [10:08:47] &lt;sustrik&gt; it works in same way as REQ</div>
<div class="line">[Thursday 27 May 2010] [10:09:00] &lt;sustrik&gt; but you don&#8217;t have to recv after each send</div>
<div class="line">[Thursday 27 May 2010] [10:09:29] &lt;sustrik&gt; the drawback is that you have to do some bookkeeping by hand then</div>
<div class="line">[Thursday 27 May 2010] [10:10:00] &lt;jugg&gt;    yah, it would seem the messages would have to have manual sequence numbers tagged on.</div>
<div class="line">[Thursday 27 May 2010] [10:10:31] &lt;jugg&gt;    maybe not in a 1to1 but in a load-balanced topology, certainly.</div>
<div class="line">[Thursday 27 May 2010] [10:10:42] &lt;sustrik&gt; it works this way</div>
<div class="line">[Thursday 27 May 2010] [10:11:13] &lt;sustrik&gt; imagine a complex network of requester and repliers with arbitrary structure of stand-alone queues in the middle</div>
<div class="line">[Thursday 27 May 2010] [10:11:30] &lt;sustrik&gt; each request travels N hops till it gets to service</div>
<div class="line">[Thursday 27 May 2010] [10:11:47] &lt;sustrik&gt; the reply has to be routed back the same way, opposite direction</div>
<div class="line">[Thursday 27 May 2010] [10:12:11] &lt;sustrik&gt; so what happens is that each intermediate node tags the request with it&#8217;s name</div>
<div class="line">[Thursday 27 May 2010] [10:12:33] &lt;sustrik&gt; when request arrives at the service</div>
<div class="line">[Thursday 27 May 2010] [10:12:54] &lt;sustrik&gt; it can has a stack of node names attached to it</div>
<div class="line">[Thursday 27 May 2010] [10:13:07] &lt;sustrik&gt; what REP socket does</div>
<div class="line">[Thursday 27 May 2010] [10:13:31] &lt;sustrik&gt; is that it cuts off the stack and provides raw message to the service</div>
<div class="line">[Thursday 27 May 2010] [10:13:43] &lt;sustrik&gt; (it stores the stack somewhere in the meantime)</div>
<div class="line">[Thursday 27 May 2010] [10:14:12] &lt;sustrik&gt; when service processes the request and sends the reply, REP socket takes the stored stack and attaches it to the reply</div>
<div class="line">[Thursday 27 May 2010] [10:14:40] &lt;sustrik&gt; then each node routes the reply right way and chops of one name from the stack</div>
<div class="line">[Thursday 27 May 2010] [10:15:10] &lt;sustrik&gt; when reply arrives at the original requester there are no more attached names in the message</div>
<div class="line">[Thursday 27 May 2010] [10:15:14] &lt;sustrik&gt; makes sense?</div>
<div class="line">[Thursday 27 May 2010] [10:16:05] &lt;jugg&gt;    yes</div>
<div class="line">[Thursday 27 May 2010] [10:16:26] &lt;sustrik&gt; so, when you use XREQ/XREP instead of REQ/REP</div>
<div class="line">[Thursday 27 May 2010] [10:16:35] &lt;sustrik&gt; the bookkeeping you have to do is:</div>
<div class="line">[Thursday 27 May 2010] [10:17:01] &lt;sustrik&gt; 1. in XREP you have to chop and store the stack manually and attach it back the reply manually</div>
<div class="line">[Thursday 27 May 2010] [10:17:26] &lt;sustrik&gt; 2. in XREQ you have to attach &#8216;bottom of the stack&#8217; message part to the request manually</div>
<div class="line">[Thursday 27 May 2010] [10:17:37] &lt;sustrik&gt; and chop it off from the reply manually</div>
<div class="line">[Thursday 27 May 2010] [10:17:56] &lt;sustrik&gt; &#8216;bottom of the stack&#8217; message part is just a message part zero bytes long</div>
<div class="line">[Thursday 27 May 2010] [10:18:17] &lt;sustrik&gt; that&#8217;s all about XREQ/XREP</div>
<div class="line">[Thursday 27 May 2010] [10:19:16] &lt;mato&gt;    sustrik: maybe it&#8217;s time to document XREQ/XREP after all? but mark it prominently as &#8220;API is experimental&#8221; or something?</div>
<div class="line">[Thursday 27 May 2010] [10:19:52] &lt;sustrik&gt; yes, i think so</div>
<div class="line">[Thursday 27 May 2010] [10:19:57] &lt;sustrik&gt; people are using it</div>
<div class="line">[Thursday 27 May 2010] [10:20:09] &lt;sustrik&gt; so no point in hiding the documentation</div>
<div class="line">[Thursday 27 May 2010] [10:20:12] &lt;mato&gt;    ok</div>
<div class="line">[Thursday 27 May 2010] [10:20:37] &lt;mato&gt;    do we have a code example that uses it? one of the devices?</div>
<div class="line">[Thursday 27 May 2010] [10:21:58] &lt;sustrik&gt; zmq_queue</div>
<div class="line">[Thursday 27 May 2010] [10:22:07] &lt;mato&gt;    ok, good</div>
<div class="line">[Thursday 27 May 2010] [10:51:12] &lt;jugg&gt;    well, I still cast my vote that a REQ socket should fail if NOBLOCK is set and the REP socket isn&#8217;t available.   Failing that, I cast a vote for a UNAVAIL flag to be added which would then cause a failure if the REP socket is not available.  (available meaning not bound/connected)</div>
<div class="line">[Thursday 27 May 2010] [10:59:36] &lt;sustrik&gt; the problem is that it&#8217;s a distributed system; say if you have a stand-alone queue in the middle, client would send the request (because queue is available) but it it&#8217;ll linger in the queue because there are no services connected to it</div>
<div class="line">[Thursday 27 May 2010] [11:00:00] &lt;sustrik&gt; :|</div>
<div class="line">[Thursday 27 May 2010] [11:01:06] &lt;sustrik&gt; one of the design goals for 0mq is to allow for adding middle nodes into the network without changing semantics for the applications</div>
<div class="line">[Thursday 27 May 2010] [11:01:19] &lt;jugg&gt;    not at all, if the first hop is available, that is all that matters.  The nodes in the middle shouldn&#8217;t be using NOBLOCK, and it should wait until the message can be processed further.</div>
<div class="line">[Thursday 27 May 2010] [11:01:43] &lt;jugg&gt;    The &#8220;gateway&#8221; received it, therefore the finaly processing should be ensured.</div>
<div class="line">[Thursday 27 May 2010] [11:02:41] &lt;sustrik&gt; can&#8217;t you think of the queue in the client as a gateway as well?</div>
<div class="line">[Thursday 27 May 2010] [11:02:53] &lt;jugg&gt;    no</div>
<div class="line">[Thursday 27 May 2010] [11:03:02] &lt;sustrik&gt; why so?</div>
<div class="line">[Thursday 27 May 2010] [11:03:16] &lt;sustrik&gt; because of client application failing?</div>
<div class="line">[Thursday 27 May 2010] [11:05:38] &lt;jugg&gt;    An application knows how better to queue is data than a messaging handler.  The application is purely interested in knowing whether it can connect to the &#8220;system&#8221; or not.  If it can, it will send out messages.  If it can&#8217;t, it&#8217;ll wait until later.</div>
<div class="line">[Thursday 27 May 2010] [11:10:39] &lt;sustrik&gt; makes sense</div>
<div class="line">[Thursday 27 May 2010] [11:10:49] &lt;sustrik&gt; so we have two conflicting user requirements here</div>
<div class="line">[Thursday 27 May 2010] [11:11:24] &lt;sustrik&gt; 1. &#8220;don&#8217;t bother me with transport details, accept the message and leave me alone&#8221;</div>
<div class="line">[Thursday 27 May 2010] [11:11:51] &lt;sustrik&gt; 2. &#8220;let me know if the message cannot be sent immediately&#8221;</div>
<div class="line">[Thursday 27 May 2010] [11:13:02]    * sustrik has to go now</div>
<div class="line">[Thursday 27 May 2010] [11:13:04] &lt;jugg&gt;    in the general case, it isn&#8217;t if it can&#8217;t be sent immediately (queuing is fine, as long as the queue is being processed - ie something is consuming it).  However in the REQ/REP case, where there is only a single message at a time, then yes, it simplifies down to that.</div>
<div class="line">[Thursday 27 May 2010] [11:13:31] &lt;jugg&gt;    Seems like the UNAVAIL flag satisfies both needs.</div>
<div class="line">[Thursday 27 May 2010] [11:13:39] &lt;sustrik&gt; jugg: yes, REQ/REP is special in a way</div>
<div class="line">[Thursday 27 May 2010] [11:13:49] &lt;jugg&gt;    sustrik: thanks for the input and discussion.</div>
<div class="line">[Thursday 27 May 2010] [11:14:12] &lt;sustrik&gt; I like to think of XREP/XREQ as of IP and REQ/REP as TCP</div>
<div class="line">[Thursday 27 May 2010] [11:14:23] &lt;sustrik&gt; it&#8217;s as there were two separate layers there</div>
<div class="line">[Thursday 27 May 2010] [11:14:35] &lt;sustrik&gt; with distinct interfaces possibly</div>
<div class="line">[Thursday 27 May 2010] [11:14:37] &lt;sustrik&gt; anyway</div>
<div class="line">[Thursday 27 May 2010] [11:14:39] &lt;sustrik&gt; see you later</div>
<div class="line">[Thursday 27 May 2010] [11:14:43] &lt;jugg&gt;    bye</div>
<div class="line">[Thursday 27 May 2010] [12:20:57] &lt;jugg&gt;    Hmm, this is odd on a REP socket, I call send(msg, SNDMORE) 20 times, and one more time without SNDMORE.  On the REQ socket, I call recv() and check getsockopt(RCVMORE) which only returns 10 times that there are more messages.  The 10 successful recv() calls return every other sent message.  So, every other message is being lost somewhere.</div>
<div class="line">[Thursday 27 May 2010] [12:28:23] &lt;jugg&gt;    meh, this is quite bothersome...</div>
<div class="line">[Thursday 27 May 2010] [12:29:13] &lt;zedas&gt;   cremes: thanks.</div>
<div class="line">[Thursday 27 May 2010] [12:29:18] &lt;zedas&gt;   sustrik: any luck?</div>
<div class="line">[Thursday 27 May 2010] [12:45:49] &lt;jugg&gt;    there certainly seems to be a bug here.  I can combine my data set into a single message, and it comes accross just fine.  But if I use SNDMORE, every other message is lost.</div>
<div class="line">[Thursday 27 May 2010] [12:47:09] &lt;cremes&gt;  jugg: fyi, you are using an experimental feature. if you can reproduce a bug, file a report</div>
<div class="line">[Thursday 27 May 2010] [13:31:34] &lt;jugg&gt;    issue filed: <a class="reference external" href="http://github.com/sustrik/zeromq2/issues/issue/28">http://github.com/sustrik/zeromq2/issues/issue/28</a></div>
<div class="line">[Thursday 27 May 2010] [13:31:58] &lt;cremes&gt;  excellent</div>
<div class="line">[Thursday 27 May 2010] [16:48:13] &lt;bgranger&gt;    sustrik: I have a question about if/when zmq_free_fn is called if zmq_send fails...</div>
<div class="line">[Thursday 27 May 2010] [16:49:32] &lt;CIA-17&gt;  pyzmq: 03Brian Granger 07nocopy * r4685c6d 10/ (zmq/_zmq.c zmq/_zmq.pyx): Adding comments about when Py_DECREF is called. - <a class="reference external" href="http://bit.ly/aW0sUW">http://bit.ly/aW0sUW</a></div>
<div class="line">[Thursday 27 May 2010] [16:53:47] &lt;sjampoo&gt; bgranger, hi</div>
<div class="line">[Thursday 27 May 2010] [16:53:52] &lt;bgranger&gt;    hi</div>
<div class="line">[Thursday 27 May 2010] [16:54:11] &lt;sjampoo&gt; i verified it, it does not call zmq_free_fn on error</div>
<div class="line">[Thursday 27 May 2010] [16:54:31] &lt;sjampoo&gt; not sure if it should though</div>
<div class="line">[Thursday 27 May 2010] [16:54:49] &lt;bgranger&gt;    sjampoo:  thanks, so I possibly have to clean up myself (I can&#8217;t rely on zmq_free_fn for that)</div>
<div class="line">[Thursday 27 May 2010] [16:55:43] &lt;bgranger&gt;    That is a tough one, because it really depends on why the send fails.</div>
<div class="line">[Thursday 27 May 2010] [16:56:19] &lt;bgranger&gt;    As long as 0mq is consistent and never calls it on error, I can handle it.</div>
<div class="line">[Thursday 27 May 2010] [17:19:00] &lt;CIA-17&gt;  pyzmq: 03Brian Granger 07nocopy * rc0dce80 10/ (zmq/_zmq.c zmq/_zmq.pyx): Documentation an minor improvements to Message object. - <a class="reference external" href="http://bit.ly/cziApz">http://bit.ly/cziApz</a></div>
<div class="line">[Thursday 27 May 2010] [17:22:47] &lt;mato&gt;    hi guys, does this work better for a description of the pipeline pattern?</div>
<div class="line">[Thursday 27 May 2010] [17:22:53] &lt;mato&gt;    The pipeline pattern is used for distributing data to _nodes_ arranged in</div>
<div class="line">[Thursday 27 May 2010] [17:22:53] &lt;mato&gt;    a pipeline. Data always flows <em>down</em> the pipeline, and each stage of the</div>
<div class="line">[Thursday 27 May 2010] [17:22:53] &lt;mato&gt;    pipeline is connected to at least one _node_. When a pipeline stage is</div>
<div class="line">[Thursday 27 May 2010] [17:22:53] &lt;mato&gt;    connected to multiple _nodes_, data shall be processed by all connected _nodes_</div>
<div class="line">[Thursday 27 May 2010] [17:22:53] &lt;mato&gt;    in parallel.</div>
<div class="line">[Thursday 27 May 2010] [17:23:25]    * mato is trying to find a single paragraph that&#8217;ll work better than what is now in zmq_socket(3)</div>
<div class="line">[Thursday 27 May 2010] [17:29:06] &lt;cremes&gt;  mato: sounds better than what is there</div>
<div class="line">[Thursday 27 May 2010] [17:29:17] &lt;cremes&gt;  as usual, code is the best documentation</div>
<div class="line">[Thursday 27 May 2010] [17:29:42] &lt;mato&gt;    goodo</div>
<div class="line">[Thursday 27 May 2010] [18:49:01] &lt;CIA-17&gt;  pyzmq: 03Brian Granger 07master * r88a07bb 10/ (README.rst setup.cfg.template): Updating README.rst and setup.cfg.template. - <a class="reference external" href="http://bit.ly/9dVTj5">http://bit.ly/9dVTj5</a></div>
<div class="line">[Thursday 27 May 2010] [18:59:46] &lt;CIA-17&gt;  zeromq2: 03Martin Lucina 07master * r5219e4c 10/ (doc/zmq.txt doc/zmq_setsockopt.txt doc/zmq_socket.txt): Clarify socket types in documentation, reinstate ZMQ_PAIR - <a class="reference external" href="http://bit.ly/9JerN2">http://bit.ly/9JerN2</a></div>
<div class="line">[Thursday 27 May 2010] [18:59:47] &lt;CIA-17&gt;  zeromq2: 03Mikko Koppanen 07master * r8bd3f74 10/ builds/redhat/zeromq.spec : Import redhat packaging - <a class="reference external" href="http://bit.ly/drWjGK">http://bit.ly/drWjGK</a></div>
<div class="line">[Thursday 27 May 2010] [18:59:48] &lt;CIA-17&gt;  zeromq2: 03Mikko Koppanen 07master * rb4cc7b9 10/ Makefile.am : dist-hook for copying zeromq.spec to top-level - <a class="reference external" href="http://bit.ly/bLxodo">http://bit.ly/bLxodo</a></div>
<div class="line">[Thursday 27 May 2010] [18:59:49] &lt;CIA-17&gt;  zeromq2: 03Martin Lucina 07master * r74f1a4a 10/ builds/redhat/zeromq.spec :</div>
<div class="line">[Thursday 27 May 2010] [18:59:49] &lt;CIA-17&gt;  zeromq2: RPM packaging cleanups</div>
<div class="line">[Thursday 27 May 2010] [18:59:49] &lt;CIA-17&gt;  zeromq2: - ditch -utils package</div>
<div class="line">[Thursday 27 May 2010] [18:59:49] &lt;CIA-17&gt;  zeromq2: - add descriptions from Debian packaging - <a class="reference external" href="http://bit.ly/aTC42b">http://bit.ly/aTC42b</a></div>
<div class="line">[Thursday 27 May 2010] [19:39:31] &lt;CIA-17&gt;  zeromq2: 03Martin Lucina 07master * rda37c45 10/ (doc/zmq_bind.txt doc/zmq_connect.txt):</div>
<div class="line">[Thursday 27 May 2010] [19:39:31] &lt;CIA-17&gt;  zeromq2: Clarify zmq_bind/zmq_connect</div>
<div class="line">[Thursday 27 May 2010] [19:39:31] &lt;CIA-17&gt;  zeromq2: Use the term &#8216;endpoint&#8217; correctly, and drop the nonsense about local/remote addresses which doesn&#8217;t clearly explain what is going on - <a class="reference external" href="http://bit.ly/d3A9wD">http://bit.ly/d3A9wD</a></div>
<div class="line">[Thursday 27 May 2010] [20:56:35] &lt;jugg&gt;    are there any online logs of this channel?</div>
<div class="line">[Friday 28 May 2010] [08:27:02] &lt;<a href="#id332"><span class="problematic" id="id333">Guest1_</span></a>&gt;   hi there, I saw the impressive throughput using tcp. On my mac I&#8217;m getting over 1million messages per sec, 1 byte. Sounds nuts. What is the difference in terms of architecture between zeromq and something like Rabbit MQ which can only do a few thousands?</div>
<div class="line">[Friday 28 May 2010] [08:31:22] &lt;sjampoo&gt;   0MQ is lighter, not only the protocol (binary instead fo AMQP) but it also has less machinery overhead.</div>
<div class="line">[Friday 28 May 2010] [08:31:38] &lt;sustrik&gt;   sjampoo is right</div>
<div class="line">[Friday 28 May 2010] [08:32:00] &lt;sustrik&gt;   however, the actual algorithm that allows this thing is called &#8216;message batching&#8217;</div>
<div class="line">[Friday 28 May 2010] [08:32:01] &lt;<a href="#id334"><span class="problematic" id="id335">Guest1_</span></a>&gt;   ah is it because the size of the payload is upfront</div>
<div class="line">[Friday 28 May 2010] [08:32:21] &lt;sustrik&gt;   it means that you send many messages using a single OS call</div>
<div class="line">[Friday 28 May 2010] [08:32:24] &lt;<a href="#id336"><span class="problematic" id="id337">Guest1_</span></a>&gt;   message batching is like socket nodelay = false on sockets?</div>
<div class="line">[Friday 28 May 2010] [08:32:32] &lt;sustrik&gt;   exactly</div>
<div class="line">[Friday 28 May 2010] [08:32:39] &lt;<a href="#id338"><span class="problematic" id="id339">Guest1_</span></a>&gt;   so do the messages get released after a timeout?</div>
<div class="line">[Friday 28 May 2010] [08:32:42] &lt;<a href="#id340"><span class="problematic" id="id341">Guest1_</span></a>&gt;   I think sockets is 200ms</div>
<div class="line">[Friday 28 May 2010] [08:32:58] &lt;sustrik&gt;   what exactly do you mean by released?</div>
<div class="line">[Friday 28 May 2010] [08:33:21] &lt;<a href="#id342"><span class="problematic" id="id343">Guest1_</span></a>&gt;   if messages are batched, and a listener is waiting for a message</div>
<div class="line">[Friday 28 May 2010] [08:33:28] &lt;sustrik&gt;   aha</div>
<div class="line">[Friday 28 May 2010] [08:34:07] &lt;sustrik&gt;   it&#8217;s answered in faq</div>
<div class="line">[Friday 28 May 2010] [08:34:11] &lt;sustrik&gt;   but here you go:</div>
<div class="line">[Friday 28 May 2010] [08:34:12] &lt;sustrik&gt;   When sending messages in batches you have to wait for the last one to send the whole batch. This would make the latency of the first message in the batch much worse, wouldn&#8217;t it?</div>
<div class="line">[Friday 28 May 2010] [08:34:12] &lt;sustrik&gt;   MQ batches messages in opportunistic manner. Rather than waiting for a predefined number of messages and/or predefined time interval, it sends all the messages available at the moment in one go. Imagine the network interface card is busy sending data. Once it is ready to send more data it asks MQ for new messages. MQ sends all the messages available at the moment. Does it harm the latency of the first message in the batch? No. The mes</div>
<div class="line">[Friday 28 May 2010] [08:34:12] &lt;sustrik&gt;   sage won&#8217;t be sent earlier anyway because the networking card was busy. On the contrary, latency of subsequent messages will be improved because sending single batch to the card is faster then sending lot of small messages. On the other hand, if network card isn&#8217;t busy, the message is sent straight away without waiting for following messages. Thus it&#8217;ll have the best possible latency.</div>
<div class="line">[Friday 28 May 2010] [08:35:04] &lt;<a href="#id344"><span class="problematic" id="id345">Guest1_</span></a>&gt;   ah makes sense!</div>
<div class="line">[Friday 28 May 2010] [08:35:22] &lt;<a href="#id346"><span class="problematic" id="id347">Guest1_</span></a>&gt;   its true that sending a each message asap is slow</div>
<div class="line">[Friday 28 May 2010] [08:35:32] &lt;<a href="#id348"><span class="problematic" id="id349">Guest1_</span></a>&gt;   batching makes sense</div>
<div class="line">[Friday 28 May 2010] [08:35:43] &lt;<a href="#id350"><span class="problematic" id="id351">Guest1_</span></a>&gt;   nice</div>
<div class="line">[Friday 28 May 2010] [08:35:47] &lt;sustrik&gt;   :)</div>
<div class="line">[Friday 28 May 2010] [08:36:36] &lt;<a href="#id352"><span class="problematic" id="id353">Guest1_</span></a>&gt;   last question, I know you guys must be busy, do you use something like libevent? I quickly scanned the code and it looks like you may be using regular sockets</div>
<div class="line">[Friday 28 May 2010] [08:37:12] &lt;<a href="#id354"><span class="problematic" id="id355">Guest1_</span></a>&gt;   I was then thinking you might be using a thread per socket connection</div>
<div class="line">[Friday 28 May 2010] [08:37:42] &lt;sustrik&gt;   no libevent, 0mq has almost zero dependencies to make it as portable as possible</div>
<div class="line">[Friday 28 May 2010] [08:38:04] &lt;sustrik&gt;   as for the threading, there&#8217;s a thread pool</div>
<div class="line">[Friday 28 May 2010] [08:38:17] &lt;sustrik&gt;   you can assign one thread to one connection</div>
<div class="line">[Friday 28 May 2010] [08:38:42] &lt;sustrik&gt;   but in default case the connections are simply load balanced evenly within the thread pool</div>
<div class="line">[Friday 28 May 2010] [08:39:05] &lt;<a href="#id356"><span class="problematic" id="id357">Guest1_</span></a>&gt;   were you able to benchmark number of possible connections, should I look in performance section?</div>
<div class="line">[Friday 28 May 2010] [08:39:27] &lt;<a href="#id358"><span class="problematic" id="id359">Guest1_</span></a>&gt;   reason being I&#8217;m an architect/engineer for a mobile application</div>
<div class="line">[Friday 28 May 2010] [08:39:42] &lt;<a href="#id360"><span class="problematic" id="id361">Guest1_</span></a>&gt;   we have an application that requires 30k concurrent connections</div>
<div class="line">[Friday 28 May 2010] [08:39:56] &lt;<a href="#id362"><span class="problematic" id="id363">Guest1_</span></a>&gt;   with a throughput of 10k messages per second</div>
<div class="line">[Friday 28 May 2010] [08:40:06] &lt;sustrik&gt;   for each connection?</div>
<div class="line">[Friday 28 May 2010] [08:40:18] &lt;<a href="#id364"><span class="problematic" id="id365">Guest1_</span></a>&gt;   not for each connection</div>
<div class="line">[Friday 28 May 2010] [08:40:24] &lt;sustrik&gt;   altogether</div>
<div class="line">[Friday 28 May 2010] [08:40:26] &lt;sustrik&gt;   ok</div>
<div class="line">[Friday 28 May 2010] [08:40:26] &lt;<a href="#id366"><span class="problematic" id="id367">Guest1_</span></a>&gt;   yes</div>
<div class="line">[Friday 28 May 2010] [08:40:38] &lt;sustrik&gt;   it should work, but we haven&#8217;t really tested with 10k&#8217;s of connections</div>
<div class="line">[Friday 28 May 2010] [08:40:57] &lt;sustrik&gt;   what&#8217;s done however, is:</div>
<div class="line">[Friday 28 May 2010] [08:41:03] &lt;<a href="#id368"><span class="problematic" id="id369">Guest1_</span></a>&gt;   thanks for being honest, I will have a look at doing this</div>
<div class="line">[Friday 28 May 2010] [08:41:31] &lt;sustrik&gt;   1. underlying polling mechanism is epoll/devpoll/kqueue &#8211; if available on the platform</div>
<div class="line">[Friday 28 May 2010] [08:41:44] &lt;<a href="#id370"><span class="problematic" id="id371">Guest1_</span></a>&gt;   at the moment we&#8217;re playing with libevent, but getting a max throughput of 5k messages per second (non batched) over 1Gbps network for 9k connections</div>
<div class="line">[Friday 28 May 2010] [08:42:01] &lt;sustrik&gt;   2. scheduling algorithms are O(1) with respect to numer of connections</div>
<div class="line">[Friday 28 May 2010] [08:42:02] &lt;<a href="#id372"><span class="problematic" id="id373">Guest1_</span></a>&gt;   ah cool using kqueue if available</div>
<div class="line">[Friday 28 May 2010] [08:42:07] &lt;<a href="#id374"><span class="problematic" id="id375">Guest1_</span></a>&gt;   nice</div>
<div class="line">[Friday 28 May 2010] [08:42:56] &lt;<a href="#id376"><span class="problematic" id="id377">Guest1_</span></a>&gt;   are you guys the developers?</div>
<div class="line">[Friday 28 May 2010] [08:43:08] &lt;sustrik&gt;   yup</div>
<div class="line">[Friday 28 May 2010] [08:43:21] &lt;<a href="#id378"><span class="problematic" id="id379">Guest1_</span></a>&gt;   neato</div>
<div class="line">[Friday 28 May 2010] [08:44:01] &lt;sustrik&gt;   <a href="#id380"><span class="problematic" id="id381">Guest1_</span></a>: if you do the test with 30k connections it would be great if you can shared the results</div>
<div class="line">[Friday 28 May 2010] [08:45:20] &lt;<a href="#id382"><span class="problematic" id="id383">Guest1_</span></a>&gt;   shall do</div>
<div class="line">[Friday 28 May 2010] [08:45:41] &lt;<a href="#id384"><span class="problematic" id="id385">Guest1_</span></a>&gt;   do you have a roadmap btw?</div>
<div class="line">[Friday 28 May 2010] [08:46:01] &lt;<a href="#id386"><span class="problematic" id="id387">Guest1_</span></a>&gt;   for example are you planning to go towards being an ESB?</div>
<div class="line">[Friday 28 May 2010] [08:46:29] &lt;<a href="#id388"><span class="problematic" id="id389">Guest1_</span></a>&gt;   or being the best multi-platform &amp; language queuing platform?</div>
<div class="line">[Friday 28 May 2010] [08:46:48] &lt;sustrik&gt;   it can be used in ESB way</div>
<div class="line">[Friday 28 May 2010] [08:47:18] &lt;sustrik&gt;   the functionality is somehow constrained when compared to enterprise solutions</div>
<div class="line">[Friday 28 May 2010] [08:47:26] &lt;sustrik&gt;   but that&#8217;s by design</div>
<div class="line">[Friday 28 May 2010] [08:47:40] &lt;<a href="#id390"><span class="problematic" id="id391">Guest1_</span></a>&gt;   just the queue management, orchestration and message mapping would be great</div>
<div class="line">[Friday 28 May 2010] [08:47:45] &lt;sustrik&gt;   &#8220;get rid of bells and whistles&#8221;</div>
<div class="line">[Friday 28 May 2010] [08:47:49] &lt;<a href="#id392"><span class="problematic" id="id393">Guest1_</span></a>&gt;   yep</div>
<div class="line">[Friday 28 May 2010] [08:47:58] &lt;<a href="#id394"><span class="problematic" id="id395">Guest1_</span></a>&gt;   just a thought for you, if you were bored</div>
<div class="line">[Friday 28 May 2010] [08:48:19] &lt;sustrik&gt;   queue management = monitoring number of messages in queues?</div>
<div class="line">[Friday 28 May 2010] [08:48:28] &lt;<a href="#id396"><span class="problematic" id="id397">Guest1_</span></a>&gt;   yes</div>
<div class="line">[Friday 28 May 2010] [08:48:37] &lt;<a href="#id398"><span class="problematic" id="id399">Guest1_</span></a>&gt;   and configuring such as security</div>
<div class="line">[Friday 28 May 2010] [08:49:07] &lt;sustrik&gt;   what about message mapping?</div>
<div class="line">[Friday 28 May 2010] [08:49:08] &lt;<a href="#id400"><span class="problematic" id="id401">Guest1_</span></a>&gt;   also massive bonus if you built connectors to mobile phone stacks like J2ME and iPhone/ObjectiveC</div>
<div class="line">[Friday 28 May 2010] [08:49:32] &lt;<a href="#id402"><span class="problematic" id="id403">Guest1_</span></a>&gt;   message mapping is taking the raw message such as JSON/XML and mapping it to another structure which is JSON/XML</div>
<div class="line">[Friday 28 May 2010] [08:49:45] &lt;sustrik&gt;   ah transformation</div>
<div class="line">[Friday 28 May 2010] [08:49:48] &lt;<a href="#id404"><span class="problematic" id="id405">Guest1_</span></a>&gt;   aye</div>
<div class="line">[Friday 28 May 2010] [08:49:49] &lt;sustrik&gt;   can be built on top</div>
<div class="line">[Friday 28 May 2010] [08:49:52] &lt;<a href="#id406"><span class="problematic" id="id407">Guest1_</span></a>&gt;   yep</div>
<div class="line">[Friday 28 May 2010] [08:49:54] &lt;sustrik&gt;   not my concern :)</div>
<div class="line">[Friday 28 May 2010] [08:50:29] &lt;sustrik&gt;   i am not a java developer, but shouldn&#8217;t java binding work for j2me?</div>
<div class="line">[Friday 28 May 2010] [08:50:55] &lt;<a href="#id408"><span class="problematic" id="id409">Guest1_</span></a>&gt;   no, not J2SE standard</div>
<div class="line">[Friday 28 May 2010] [08:51:05] &lt;<a href="#id410"><span class="problematic" id="id411">Guest1_</span></a>&gt;   you have to use the J2ME socket library</div>
<div class="line">[Friday 28 May 2010] [08:51:21] &lt;<a href="#id412"><span class="problematic" id="id413">Guest1_</span></a>&gt;   also, when you detect blackberry you have do a special switch</div>
<div class="line">[Friday 28 May 2010] [08:51:22] &lt;sustrik&gt;   the java binding is just a wrapper on top of c library</div>
<div class="line">[Friday 28 May 2010] [08:51:33] &lt;sustrik&gt;   all you need from JDK is JNI</div>
<div class="line">[Friday 28 May 2010] [08:51:33] &lt;<a href="#id414"><span class="problematic" id="id415">Guest1_</span></a>&gt;   no C library access on J2ME phone</div>
<div class="line">[Friday 28 May 2010] [08:51:43] &lt;<a href="#id416"><span class="problematic" id="id417">Guest1_</span></a>&gt;   you can&#8217;t access it, sandboxed</div>
<div class="line">[Friday 28 May 2010] [08:51:43] &lt;sustrik&gt;   aha, then no luck</div>
<div class="line">[Friday 28 May 2010] [08:52:16] &lt;<a href="#id418"><span class="problematic" id="id419">Guest1_</span></a>&gt;   so we have ported to 13 Nokia models and Blackberry. Luckily 99% the same socket code</div>
<div class="line">[Friday 28 May 2010] [08:52:24] &lt;<a href="#id420"><span class="problematic" id="id421">Guest1_</span></a>&gt;   just a suggestion for you</div>
<div class="line">[Friday 28 May 2010] [08:52:36] &lt;<a href="#id422"><span class="problematic" id="id423">Guest1_</span></a>&gt;   I will leave you in peace, thanks for talking to me</div>
<div class="line">[Friday 28 May 2010] [08:52:43] &lt;sustrik&gt;   no problem</div>
<div class="line">[Friday 28 May 2010] [08:52:46] &lt;sustrik&gt;   bye</div>
<div class="line">[Friday 28 May 2010] [08:52:49] &lt;<a href="#id424"><span class="problematic" id="id425">Guest1_</span></a>&gt;   cya</div>
<div class="line">[Friday 28 May 2010] [16:59:17] &lt;truelyky1e&gt;    help</div>
<div class="line">[Saturday 29 May 2010] [04:38:54] &lt;truelykyle&gt;  leave</div>
<div class="line">[Saturday 29 May 2010] [18:11:25] &lt;<a href="#id426"><span class="problematic" id="id427">bert_</span></a>&gt;   hello</div>
<div class="line">[Saturday 29 May 2010] [18:13:54] &lt;<a href="#id428"><span class="problematic" id="id429">bert_</span></a>&gt;   just trying to find some info about 0mq</div>
<div class="line">[Sunday 30 May 2010] [14:24:37] &lt;zedas&gt; sustrik: so i tried building my stuff on netbsd today.  looks like the kevent call complete chokes after a few runs of zmq_poll</div>
<div class="line">[Sunday 30 May 2010] [14:24:50] &lt;sustrik&gt;   hi</div>
<div class="line">[Sunday 30 May 2010] [14:24:58] &lt;sustrik&gt;   what happens exactly?</div>
<div class="line">[Sunday 30 May 2010] [14:25:22] &lt;sustrik&gt;   mato tried netbsd and said it looks ok some time ok</div>
<div class="line">[Sunday 30 May 2010] [14:25:29] &lt;sustrik&gt;   ago</div>
<div class="line">[Sunday 30 May 2010] [14:25:40] &lt;zedas&gt; <a class="reference external" href="http://dpaste.de/5esX/">http://dpaste.de/5esX/</a></div>
<div class="line">[Sunday 30 May 2010] [14:25:59] &lt;zedas&gt; so that&#8217;s with the latest from your git repo</div>
<div class="line">[Sunday 30 May 2010] [14:26:04] &lt;sustrik&gt;   hang up?</div>
<div class="line">[Sunday 30 May 2010] [14:26:23] &lt;zedas&gt; yeah it handles a few net calls then blocks permanently right htere</div>
<div class="line">[Sunday 30 May 2010] [14:26:38] &lt;sustrik&gt;   what scenario?</div>
<div class="line">[Sunday 30 May 2010] [14:26:45] &lt;sustrik&gt;   the same as with the memory leak?</div>
<div class="line">[Sunday 30 May 2010] [14:27:06] &lt;zedas&gt; yep just doing the mulletdb test suite</div>
<div class="line">[Sunday 30 May 2010] [14:27:17] &lt;zedas&gt; but also with just access it off a regular test client</div>
<div class="line">[Sunday 30 May 2010] [14:27:29] &lt;zedas&gt; oh did you figure out that memory leak on the socket connects?</div>
<div class="line">[Sunday 30 May 2010] [14:27:37] &lt;zedas&gt; i&#8217;m just avoiding connecting too many times :-)</div>
<div class="line">[Sunday 30 May 2010] [14:27:42] &lt;sustrik&gt;   i&#8217;ve figured out the reason</div>
<div class="line">[Sunday 30 May 2010] [14:27:47] &lt;sustrik&gt;   haven&#8217;t fixed it yet</div>
<div class="line">[Sunday 30 May 2010] [14:27:59] &lt;sustrik&gt;   will do today/tomorrow</div>
<div class="line">[Sunday 30 May 2010] [14:28:43] &lt;sustrik&gt;   mato: hoo! do you still have the netbsd system available?</div>
<div class="line">[Sunday 30 May 2010] [14:29:21] &lt;zedas&gt; sustrik: yeah no rush, there&#8217;s other problems with netbsd so i&#8217;m not going to use it on this project.</div>
<div class="line">[Sunday 30 May 2010] [14:29:41] &lt;zedas&gt; seems in their desperation to not use anything GPLed the just ended up making the whole OS very inconvenient for modern software</div>
<div class="line">[Sunday 30 May 2010] [14:29:49] &lt;sustrik&gt;   still, we should try it before 2.0.7 release</div>
<div class="line">[Sunday 30 May 2010] [20:05:35] &lt;versificateur&gt; hello :)</div>
<div class="line">[Sunday 30 May 2010] [20:06:33] &lt;versificateur&gt; I have some question about compiling java bindings</div>
<div class="line">[Sunday 30 May 2010] [20:07:24] &lt;versificateur&gt; ...</div>
<div class="line">[Sunday 30 May 2010] [20:07:52] &lt;versificateur&gt; if i could have some help i&#8217;ll be happy</div>
<div class="line">[Sunday 30 May 2010] [21:09:08] &lt;versificateur&gt; hello</div>
<div class="line">[Sunday 30 May 2010] [21:14:33] &lt;versificateur&gt; please...</div>
<div class="line">[Sunday 30 May 2010] [23:37:07] &lt;sustrik&gt;   versificateur: hi</div>
<div class="line">[Monday 31 May 2010] [00:13:31] &lt;CIA-17&gt;    zeromq2: 03Martin Sustrik 07master * r04fcd4d 10/ src/rep.cpp : memory leak in REP socket fixed - <a class="reference external" href="http://bit.ly/d6dQUE">http://bit.ly/d6dQUE</a></div>
<div class="line">[Monday 31 May 2010] [00:13:32] &lt;CIA-17&gt;    zeromq2: 03Martin Sustrik 07master * r3bb60da 10/ (7 files in 3 dirs): Merge branch &#8216;master&#8217; of <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:sustrik/zeromq2 - <a class="reference external" href="http://bit.ly/cgjNYb">http://bit.ly/cgjNYb</a></div>
<div class="line">[Monday 31 May 2010] [00:13:39] &lt;sustrik&gt;   zedas: done, try it now</div>
<div class="line">[Monday 31 May 2010] [00:19:48] &lt;CIA-17&gt;    zeromq2: 03Martin Sustrik 07master * r2e9be56 10/ src/req.cpp : memory leak in REQ socket fixed - <a class="reference external" href="http://bit.ly/9ULDmt">http://bit.ly/9ULDmt</a></div>
<div class="line">[Monday 31 May 2010] [01:08:31] &lt;zedas&gt; sustrik: cool i&#8217;ll give it a shot</div>
<div class="line">[Monday 31 May 2010] [01:08:42] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 31 May 2010] [03:30:28] &lt;CIA-17&gt;    zeromq2: 03Martin Sustrik 07master * rbe6019a 10/ src/req.cpp : issue 28. - SNDMORE/ RCVMORE is dropping every other message - <a class="reference external" href="http://bit.ly/bQHWhC">http://bit.ly/bQHWhC</a></div>
<div class="line">[Monday 31 May 2010] [08:19:15] &lt;CIA-17&gt;    zeromq2: 03Martin Lucina 07master * r8becacf 10/ (doc/zmq_setsockopt.txt doc/zmq_getsockopt.txt):</div>
<div class="line">[Monday 31 May 2010] [08:19:15] &lt;CIA-17&gt;    zeromq2: Documentation updates</div>
<div class="line">[Monday 31 May 2010] [08:19:15] &lt;CIA-17&gt;    zeromq2: Add zmq_getsockopt(3), clean up zmq_setsockopt(3). - <a class="reference external" href="http://bit.ly/dyI3wE">http://bit.ly/dyI3wE</a></div>
<div class="line">[Monday 31 May 2010] [08:19:15] &lt;CIA-17&gt;    zeromq2: 03Martin Lucina 07master * reb9ff1e 10/ (doc/zmq_getsockopt.txt doc/zmq_recv.txt doc/zmq_send.txt):</div>
<div class="line">[Monday 31 May 2010] [08:19:15] &lt;CIA-17&gt;    zeromq2: Documentation updates</div>
<div class="line">[Monday 31 May 2010] [08:19:16] &lt;CIA-17&gt;    zeromq2: Multi-part messages - <a class="reference external" href="http://bit.ly/aVO3PG">http://bit.ly/aVO3PG</a></div>
<div class="line">[Monday 31 May 2010] [08:19:18] &lt;CIA-17&gt;    zeromq2: 03Martin Lucina 07master * r0fa73b0 10/ doc/zmq.txt :</div>
<div class="line">[Monday 31 May 2010] [08:19:18] &lt;CIA-17&gt;    zeromq2: Documentation updates</div>
<div class="line">[Monday 31 May 2010] [08:19:18] &lt;CIA-17&gt;    zeromq2: Add getsockopt to index - <a class="reference external" href="http://bit.ly/bwZY5J">http://bit.ly/bwZY5J</a></div>
<div class="line">[Monday 31 May 2010] [08:19:18] &lt;CIA-17&gt;    zeromq2: 03Martin Lucina 07master * rdfbaf4f 10/ (doc/zmq_recv.txt doc/zmq_send.txt):</div>
<div class="line">[Monday 31 May 2010] [08:19:19] &lt;CIA-17&gt;    zeromq2: Documentation updates</div>
<div class="line">[Monday 31 May 2010] [08:19:19] &lt;CIA-17&gt;    zeromq2: Multi-part messages - <a class="reference external" href="http://bit.ly/aj9jbE">http://bit.ly/aj9jbE</a></div>
<div class="line">[Monday 31 May 2010] [08:19:20] &lt;CIA-17&gt;    zeromq2: 03Martin Lucina 07master * r8a4df43 10/ doc/Makefile.am :</div>
<div class="line">[Monday 31 May 2010] [08:19:20] &lt;CIA-17&gt;    zeromq2: Documentation updates</div>
<div class="line">[Monday 31 May 2010] [08:19:21] &lt;CIA-17&gt;    zeromq2: Add getsockopt to Makefile.am - <a class="reference external" href="http://bit.ly/9i34WB">http://bit.ly/9i34WB</a></div>
<div class="line">[Monday 31 May 2010] [09:42:53] &lt;cremes&gt;    sustrik: i&#8217;m available in irc if you want to try anything else with that zmq_poll issue</div>
<div class="line">[Monday 31 May 2010] [09:54:37] &lt;sustrik&gt;   cremes: have you seen my comment?</div>
<div class="line">[Monday 31 May 2010] [09:55:03] &lt;cremes&gt;    sustrik: yes; i ran the test and posted my results</div>
<div class="line">[Monday 31 May 2010] [09:55:14] &lt;sustrik&gt;   a-ha</div>
<div class="line">[Monday 31 May 2010] [09:56:08] &lt;sustrik&gt;   heve you sent it a message?</div>
<div class="line">[Monday 31 May 2010] [09:56:15] &lt;sustrik&gt;   i&#8217;ve just posted the receving part</div>
<div class="line">[Monday 31 May 2010] [10:00:39] &lt;cremes&gt;    no, i thought it was supposed to be self-contained</div>
<div class="line">[Monday 31 May 2010] [10:00:42] &lt;cremes&gt;    i&#8217;ll do that now</div>
<div class="line">[Monday 31 May 2010] [10:00:59] &lt;sustrik&gt;   thx</div>
<div class="line">[Monday 31 May 2010] [10:05:29] &lt;cremes&gt;    sustrik: fails on OSX, succeeds on linux</div>
<div class="line">[Monday 31 May 2010] [10:05:53] &lt;sustrik&gt;   fails = reports pollout?</div>
<div class="line">[Monday 31 May 2010] [10:06:11] &lt;cremes&gt;    the assertion fails; i&#8217;ll change the program to print out revents</div>
<div class="line">[Monday 31 May 2010] [10:07:25] &lt;sustrik&gt;   btw, zedas already reported problems when runing on netbsd... this may be the same thing as both use kevent rather than epoll</div>
<div class="line">[Monday 31 May 2010] [10:08:37] &lt;cremes&gt;    sustrik: zmq_poll returns, but rc == 0 and revents is 0</div>
<div class="line">[Monday 31 May 2010] [10:09:16] &lt;sustrik&gt;   that&#8217;s because you&#8217;ve left the timeout value in place, no?</div>
<div class="line">[Monday 31 May 2010] [10:09:18] &lt;sustrik&gt;   try -1</div>
<div class="line">[Monday 31 May 2010] [10:09:57] &lt;cremes&gt;    i had it set for 10 seconds</div>
<div class="line">[Monday 31 May 2010] [10:10:03] &lt;cremes&gt;    however, just saw something interesting...</div>
<div class="line">[Monday 31 May 2010] [10:10:09] &lt;cremes&gt;    it succeeds when passed -1</div>
<div class="line">[Monday 31 May 2010] [10:10:17] &lt;cremes&gt;    but fails with 10000000</div>
<div class="line">[Monday 31 May 2010] [10:10:58] &lt;sustrik&gt;   see man zmq_poll(3)</div>
<div class="line">[Monday 31 May 2010] [10:11:23] &lt;sustrik&gt;   zmq_poll() shall wait up to timeout microseconds</div>
<div class="line">[Monday 31 May 2010] [10:11:30] &lt;sustrik&gt;   note <em>up to</em> part</div>
<div class="line">[Monday 31 May 2010] [10:11:45] &lt;cremes&gt;    so it may unblock ahead of time?</div>
<div class="line">[Monday 31 May 2010] [10:11:53] &lt;sustrik&gt;   yes, this is an optimisation</div>
<div class="line">[Monday 31 May 2010] [10:12:05] &lt;sustrik&gt;   i can make it to unblock on time</div>
<div class="line">[Monday 31 May 2010] [10:12:13] &lt;sustrik&gt;   but it will slow zmq_poll down</div>
<div class="line">[Monday 31 May 2010] [10:12:25]      * sustrik is not sure whats better</div>
<div class="line">[Monday 31 May 2010] [10:12:28] &lt;cremes&gt;    btw, it fails in the same way on linux when given a timeout value &gt; 0</div>
<div class="line">[Monday 31 May 2010] [10:12:47] &lt;cremes&gt;    i set it for 20 seconds and then sent a message within 1 or 2 and it failed</div>
<div class="line">[Monday 31 May 2010] [10:12:48] &lt;sustrik&gt;   same way = reports pollout?</div>
<div class="line">[Monday 31 May 2010] [10:14:40] &lt;cremes&gt;    reports revents == 0</div>
<div class="line">[Monday 31 May 2010] [10:14:52] &lt;sustrik&gt;   ah, that&#8217;s the timeout thing</div>
<div class="line">[Monday 31 May 2010] [10:14:53] &lt;cremes&gt;    on both osx and linux</div>
<div class="line">[Monday 31 May 2010] [10:15:03] &lt;sustrik&gt;   yes, it&#8217;s supposed to work that way</div>
<div class="line">[Monday 31 May 2010] [10:15:07] &lt;cremes&gt;    but i am clearly sending it a message</div>
<div class="line">[Monday 31 May 2010] [10:15:24] &lt;sustrik&gt;   ok. some internal details:</div>
<div class="line">[Monday 31 May 2010] [10:15:46] &lt;sustrik&gt;   zmq_poll unblock on any internal event that affects a 0mq socket in the pollset</div>
<div class="line">[Monday 31 May 2010] [10:15:55] &lt;sustrik&gt;   in this case what happens is</div>
<div class="line">[Monday 31 May 2010] [10:16:06] &lt;sustrik&gt;   that &#8220;connection is established&#8221; event occurs</div>
<div class="line">[Monday 31 May 2010] [10:16:15] &lt;sustrik&gt;   thus zmq_poll exits</div>
<div class="line">[Monday 31 May 2010] [10:16:28] &lt;sustrik&gt;   with no messages to delivers</div>
<div class="line">[Monday 31 May 2010] [10:16:49] &lt;sustrik&gt;   as i said this kind of behaviour can be prevented</div>
<div class="line">[Monday 31 May 2010] [10:16:57] &lt;sustrik&gt;   but it&#8217;ll slow zmq_poll down</div>
<div class="line">[Monday 31 May 2010] [10:17:35] &lt;sustrik&gt;   back to your original problem!</div>
<div class="line">[Monday 31 May 2010] [10:17:39] &lt;cremes&gt;    i changed the sample program to call zmq_poll a second time; it still returns revents == 0</div>
<div class="line">[Monday 31 May 2010] [10:17:56] &lt;cremes&gt;    there should have been one in queue</div>
<div class="line">[Monday 31 May 2010] [10:18:04] &lt;sustrik&gt;   change it to loop forever</div>
<div class="line">[Monday 31 May 2010] [10:18:45] &lt;sustrik&gt;   afaics there are two events raised when connection is established</div>
<div class="line">[Monday 31 May 2010] [10:19:09] &lt;sustrik&gt;   i/o thread says the app thead: &#8220;here&#8217;s the pipe you can write messages to&#8221;</div>
<div class="line">[Monday 31 May 2010] [10:19:25] &lt;sustrik&gt;   and afterwards: &#8220;here&#8217;s the pipe you can read messages from&#8221;</div>
<div class="line">[Monday 31 May 2010] [10:20:35] &lt;cremes&gt;    ok</div>
<div class="line">[Monday 31 May 2010] [10:20:45] &lt;cremes&gt;    let me try this on osx and see if i get my original problem</div>
<div class="line">[Monday 31 May 2010] [10:20:50] &lt;sustrik&gt;   ok</div>
<div class="line">[Monday 31 May 2010] [10:27:15] &lt;cremes&gt;    the sample program returns the correct value; i&#8217;ll try it with my test program to see if it behaves correctly now</div>
<div class="line">[Monday 31 May 2010] [10:30:04] &lt;sustrik&gt;   ack</div>
<div class="line">[Monday 31 May 2010] [10:35:47] &lt;cremes&gt;    it still gets a POLLOUT first; i&#8217;m going to operate under the assumption this is my bug</div>
<div class="line">[Monday 31 May 2010] [10:35:52] &lt;cremes&gt;    i&#8217;ll keep looking into it</div>
<div class="line">[Monday 31 May 2010] [10:37:03] &lt;sustrik&gt;   i&#8217;ve just checked the code</div>
<div class="line">[Monday 31 May 2010] [10:37:16] &lt;sustrik&gt;   cannot find a way how POLLOUT may have been signaled</div>
<div class="line">[Monday 31 May 2010] [10:37:44] &lt;sustrik&gt;   unfortunately, i cannot test on OSX as I don&#8217;t have it installed</div>
<div class="line">[Monday 31 May 2010] [10:38:38] &lt;cremes&gt;    i&#8217;ll keep looking from my end; perhaps i&#8217;m doing something stupid (likely) :)</div>
<div class="line">[Monday 31 May 2010] [11:24:26] &lt;cremes&gt;    sustrik: you can close the issue; it was a bug in my bindings</div>
<div class="line">[Monday 31 May 2010] [11:24:35] &lt;sustrik&gt;   ah, ok</div>
<div class="line">[Monday 31 May 2010] [11:24:45] &lt;cremes&gt;    i had a logic error in one of my examples; it was doing a &#8220;ping pong&#8221; using two REQ sockets</div>
<div class="line">[Monday 31 May 2010] [11:25:14] &lt;cremes&gt;    apparently it&#8217;s possible to tie 2 of those together</div>
<div class="line">[Monday 31 May 2010] [11:25:45] &lt;sustrik&gt;   cremes: ok, the issue is closed</div>
<div class="line">[Monday 31 May 2010] [11:25:57] &lt;cremes&gt;    but the &#8220;receiver&#8221; REQ will get POLLOUT on the first received message and POLLIN on all subsequent ones</div>
<div class="line">[Monday 31 May 2010] [11:26:10] &lt;cremes&gt;    sorry for wasting your time</div>
<div class="line">[Monday 31 May 2010] [11:32:38] &lt;sustrik&gt;   no problem</div>
<div class="line">[Monday 31 May 2010] [12:33:58] &lt;alefka&gt;    hi</div>
<div class="line">[Monday 31 May 2010] [12:34:23] &lt;alefka&gt;    anybody?</div>
<div class="line">[Monday 31 May 2010] [12:35:32] &lt;alefka&gt;    (</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2010-April.html"
                        title="previous chapter">&lt;no title&gt;</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="2010-June.html"
                        title="next chapter">&lt;no title&gt;</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2010-May.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2010-June.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="2010-April.html" title="&lt;no title&gt;"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>