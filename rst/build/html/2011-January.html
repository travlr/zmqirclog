

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2011-January &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="prev" title="2011-December" href="2011-December.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2011-December.html" title="2011-December"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="january">
<h1>2011-January<a class="headerlink" href="#january" title="Permalink to this headline">Â¶</a></h1>
<div class="line-block">
<div class="line">[Saturday 01 January 2011] [10:10:37] &lt;dos000&gt;        and happy new year</div>
<div class="line">[Saturday 01 January 2011] [10:10:51] &lt;dos000&gt;        is sustrik here ?</div>
<div class="line">[Saturday 01 January 2011] [10:12:02] &lt;mikko&gt; he was in yesterday</div>
<div class="line">[Saturday 01 January 2011] [10:12:28] &lt;mikko&gt; havent seen him talking today</div>
<div class="line">[Saturday 01 January 2011] [10:15:01] &lt;dos000&gt;        ah!</div>
<div class="line">[Saturday 01 January 2011] [12:34:22] &lt;sustrik&gt;       dos000: hi</div>
<div class="line">[Saturday 01 January 2011] [12:36:15] &lt;sustrik&gt;       happy new year everyone!</div>
<div class="line">[Saturday 01 January 2011] [13:16:07] &lt;pythonirc1011&gt; how much work is it to get a installer ready for windows7 for zeromq+python bindings. Where can one get started on that?</div>
<div class="line">[Saturday 01 January 2011] [13:33:07] &lt;mikko&gt; pythonirc1011: probably it&#8217;s just building the installer</div>
<div class="line">[Saturday 01 January 2011] [13:33:38] &lt;mikko&gt; pythonirc1011: not sure how python extensions are installed on windows or any platform really</div>
<div class="line">[Saturday 01 January 2011] [13:41:38] &lt;dos000&gt;        sustrik, howdy !</div>
<div class="line">[Saturday 01 January 2011] [13:42:03] &lt;dos000&gt;        sustrik, happy new year to you too</div>
<div class="line">[Saturday 01 January 2011] [13:47:30] &lt;sustrik&gt;       pythonirc1011: building a win installer would be very helpful</div>
<div class="line">[Saturday 01 January 2011] [13:47:42] &lt;sustrik&gt;       i would start with the core part</div>
<div class="line">[Saturday 01 January 2011] [13:47:43] &lt;pythonirc1011&gt; mikko: so i need a installation script language + compilation of a zeromq on my win box i guess...</div>
<div class="line">[Saturday 01 January 2011] [13:47:57] &lt;sustrik&gt;       it&#8217;s just a lib and a header file so it should be easy</div>
<div class="line">[Saturday 01 January 2011] [13:48:20] &lt;pythonirc1011&gt; i&#8217;m more after building the python bindings. I need to use it from python</div>
<div class="line">[Saturday 01 January 2011] [13:48:35] &lt;sustrik&gt;       sure, but those are dependent on the lib</div>
<div class="line">[Saturday 01 January 2011] [13:48:44] &lt;pythonirc1011&gt; true</div>
<div class="line">[Saturday 01 January 2011] [13:48:53] &lt;pythonirc1011&gt; perhaps ship the library pre-compiler on windows</div>
<div class="line">[Saturday 01 January 2011] [13:48:58] &lt;pythonirc1011&gt; compiler</div>
<div class="line">[Saturday 01 January 2011] [13:49:01] &lt;pythonirc1011&gt; compiled i meant</div>
<div class="line">[Saturday 01 January 2011] [13:49:04] &lt;sustrik&gt;       exactly</div>
<div class="line">[Saturday 01 January 2011] [13:49:10] &lt;sustrik&gt;       what you need is 2 libraties</div>
<div class="line">[Saturday 01 January 2011] [13:49:12] &lt;sustrik&gt;       libzmq</div>
<div class="line">[Saturday 01 January 2011] [13:49:18] &lt;sustrik&gt;       and libpyzmq</div>
<div class="line">[Saturday 01 January 2011] [13:49:24] &lt;sustrik&gt;       you need to compile them</div>
<div class="line">[Saturday 01 January 2011] [13:49:35] &lt;sustrik&gt;       and build an installer</div>
<div class="line">[Saturday 01 January 2011] [13:49:42] &lt;pythonirc1011&gt; k, that should be doable...are they dlls?</div>
<div class="line">[Saturday 01 January 2011] [13:49:59] &lt;sustrik&gt;       i am not sure whether python needs anythig else aside of those libs</div>
<div class="line">[Saturday 01 January 2011] [13:50:15] &lt;sustrik&gt;       yes, i think so</div>
<div class="line">[Saturday 01 January 2011] [13:50:48] &lt;pythonirc1011&gt; I&#8217;ll look into it soon. Thanks.</div>
<div class="line">[Saturday 01 January 2011] [13:55:38] &lt;dos000&gt;        sustrik, does zma uses lock free ring buffers  ? sometalk i listened mentioned it being musch faster than using queues becose of contention</div>
<div class="line">[Saturday 01 January 2011] [13:55:51] &lt;dos000&gt;        s/zma/0mq</div>
<div class="line">[Saturday 01 January 2011] [13:56:04] &lt;sustrik&gt;       yes, the queues are lock-free</div>
<div class="line">[Saturday 01 January 2011] [13:56:46] &lt;dos000&gt;        sustrik, is it ringbuffer based ?</div>
<div class="line">[Saturday 01 January 2011] [13:57:06] &lt;sustrik&gt;       messages are allocated in blocks</div>
<div class="line">[Saturday 01 January 2011] [13:57:10] &lt;sustrik&gt;       (256 per block)</div>
<div class="line">[Saturday 01 January 2011] [13:57:40] &lt;dos000&gt;        sustrik, here is the talk <a class="reference external" href="http://www.infoq.com/presentations/LMAX">http://www.infoq.com/presentations/LMAX</a> jump to 36:00 for the real meat.</div>
<div class="line">[Saturday 01 January 2011] [13:57:54] &lt;sustrik&gt;       one block is recycled to eliminate excessive allocation/deallocation</div>
<div class="line">[Saturday 01 January 2011] [13:58:17] &lt;dos000&gt;        its kinda java oriented but i think the same issues apply in c++</div>
<div class="line">[Saturday 01 January 2011] [13:58:28] &lt;sustrik&gt;       however, if the number of messages in the queue drops, only 1 block is recycled, any subsequent blocvks are dealloc&#8217;d</div>
<div class="line">[Saturday 01 January 2011] [13:58:41] &lt;dos000&gt;        ah!</div>
<div class="line">[Saturday 01 January 2011] [13:59:02] &lt;dos000&gt;        thats seems smarter .. they allocate 2min off hand to counter java gc</div>
<div class="line">[Saturday 01 January 2011] [13:59:09] &lt;dos000&gt;        2 millions</div>
<div class="line">[Saturday 01 January 2011] [13:59:31] &lt;sustrik&gt;       well, depends on the use case</div>
<div class="line">[Saturday 01 January 2011] [13:59:50] &lt;sustrik&gt;       it&#8217;s something that&#8217;s not good to do on a sensor or an embedded system</div>
<div class="line">[Saturday 01 January 2011] [14:00:11] &lt;sustrik&gt;       0mq tries to be generic</div>
<div class="line">[Saturday 01 January 2011] [14:00:12] &lt;dos000&gt;        indeed .. for a server its much different</div>
<div class="line">[Saturday 01 January 2011] [14:00:26] &lt;sustrik&gt;       you can of course tune it by hand if you want to</div>
<div class="line">[Saturday 01 January 2011] [14:00:48] &lt;sustrik&gt;       see src/config.hpp</div>
<div class="line">[Saturday 01 January 2011] [14:01:51] &lt;dos000&gt;        sustrik, so its configurable by source changes only then</div>
<div class="line">[Saturday 01 January 2011] [14:02:16] &lt;sustrik&gt;       there are 2 mechanisms there</div>
<div class="line">[Saturday 01 January 2011] [14:02:26] &lt;sustrik&gt;       config.hpp are compile-time options</div>
<div class="line">[Saturday 01 January 2011] [14:02:28] &lt;dos000&gt;        sustrik, it will apply to all queues then</div>
<div class="line">[Saturday 01 January 2011] [14:02:40] &lt;sustrik&gt;       socket options can be used in run-time</div>
<div class="line">[Saturday 01 January 2011] [14:02:49] &lt;dos000&gt;        ah!</div>
<div class="line">[Saturday 01 January 2011] [14:03:08] &lt;sustrik&gt;       it&#8217;s a matter to consider whether specific tuning parameter</div>
<div class="line">[Saturday 01 January 2011] [14:03:09] &lt;dos000&gt;        socket options allow to you bigger/smaller buffers ?</div>
<div class="line">[Saturday 01 January 2011] [14:03:18] &lt;sustrik&gt;       should be a socket option or a compile-time param</div>
<div class="line">[Saturday 01 January 2011] [14:03:36] &lt;sustrik&gt;       socket option allow to set the maximal buffer size</div>
<div class="line">[Saturday 01 January 2011] [14:03:49] &lt;dos000&gt;        i cant use compile time options</div>
<div class="line">[Saturday 01 January 2011] [14:03:58] &lt;sustrik&gt;       what are you trying to do?</div>
<div class="line">[Saturday 01 January 2011] [14:05:13] &lt;dos000&gt;        i am writing queues with different bechmarking options</div>
<div class="line">[Saturday 01 January 2011] [14:05:24] &lt;dos000&gt;        so i want to see effect of the changes</div>
<div class="line">[Saturday 01 January 2011] [14:06:26] &lt;sustrik&gt;       writing queues?</div>
<div class="line">[Saturday 01 January 2011] [14:06:36] &lt;sustrik&gt;       you mean you are implementing the queues yourself?</div>
<div class="line">[Saturday 01 January 2011] [14:06:41] &lt;dos000&gt;        so far i have 0mq and fastflow ( <a class="reference external" href="http://calvados.di.unipi.it/dokuwiki/doku.php?id=ffnamespace:about">http://calvados.di.unipi.it/dokuwiki/doku.php?id=ffnamespace:about</a> ) on my list</div>
<div class="line">[Saturday 01 January 2011] [14:06:59] &lt;sustrik&gt;       ok, i see</div>
<div class="line">[Saturday 01 January 2011] [14:07:05] &lt;sustrik&gt;       and what exactly are you missing?</div>
<div class="line">[Saturday 01 January 2011] [14:08:39] &lt;dos000&gt;        sustrik, i only have one issue so far ...</div>
<div class="line">[Saturday 01 January 2011] [14:09:17] &lt;dos000&gt;        i have to receive the events and process them in  java ...</div>
<div class="line">[Saturday 01 January 2011] [14:10:07] &lt;dos000&gt;        i either reimplement the lockfree ring buffers in java .. or use jzmq</div>
<div class="line">[Saturday 01 January 2011] [14:10:39] &lt;dos000&gt;        it looks deceptively easy to write it in java !</div>
<div class="line">[Saturday 01 January 2011] [14:11:27] &lt;sustrik&gt;       i still don&#8217;t see what you are missing :)</div>
<div class="line">[Saturday 01 January 2011] [14:11:39] &lt;sustrik&gt;       0mq is lock-free</div>
<div class="line">[Saturday 01 January 2011] [14:11:43] &lt;dos000&gt;        yes ... i am not missing anything ...</div>
<div class="line">[Saturday 01 January 2011] [14:11:48] &lt;dos000&gt;        i just have options !</div>
<div class="line">[Saturday 01 January 2011] [14:12:04] &lt;sustrik&gt;       implementing the lock-free queeu is not hard</div>
<div class="line">[Saturday 01 January 2011] [14:12:20] &lt;sustrik&gt;       it may become a problem as you want to add more features</div>
<div class="line">[Saturday 01 January 2011] [14:12:23] &lt;dos000&gt;        sustrik, there is locking when you call c++ functions from java</div>
<div class="line">[Saturday 01 January 2011] [14:12:28] &lt;sustrik&gt;       like limiting the number of messages in queue</div>
<div class="line">[Saturday 01 January 2011] [14:12:31] &lt;sustrik&gt;       or somesuch</div>
<div class="line">[Saturday 01 January 2011] [14:13:00] &lt;sustrik&gt;       is there, i am not familiar with how jzmq works atm</div>
<div class="line">[Saturday 01 January 2011] [14:13:09] &lt;dos000&gt;        its inherent in jni</div>
<div class="line">[Saturday 01 January 2011] [14:13:15] &lt;sustrik&gt;       i see</div>
<div class="line">[Saturday 01 January 2011] [14:13:28] &lt;sustrik&gt;       then you have to reimplement it yourself</div>
<div class="line">[Saturday 01 January 2011] [14:13:35] &lt;dos000&gt;        another option would be to receive the events via sockets in java</div>
<div class="line">[Saturday 01 January 2011] [14:13:53] &lt;sustrik&gt;       what sockets?</div>
<div class="line">[Saturday 01 January 2011] [14:14:40] &lt;dos000&gt;        instead of passing the messages via jni pass it via a the (local) netwrk interface</div>
<div class="line">[Saturday 01 January 2011] [14:15:00] &lt;dos000&gt;        of course that would be slower i imagine</div>
<div class="line">[Saturday 01 January 2011] [14:15:33] &lt;dos000&gt;        1) evtsource -&gt; zmq &#8211;&gt; jzmq &#8211;&gt; java app</div>
<div class="line">[Saturday 01 January 2011] [14:16:08] &lt;dos000&gt;        eventsource -&gt; zmq &#8211;&gt; javanio &#8211;&gt; javaapp</div>
<div class="line">[Saturday 01 January 2011] [14:17:19] &lt;dos000&gt;        anyway ...</div>
<div class="line">[Saturday 01 January 2011] [14:17:25] &lt;dos000&gt;        i will keep you updated !</div>
<div class="line">[Saturday 01 January 2011] [14:17:28] &lt;dos000&gt;        thanks a lot</div>
<div class="line">[Saturday 01 January 2011] [14:20:46] &lt;sustrik&gt;       you are welcome</div>
<div class="line">[Saturday 01 January 2011] [14:36:27] &lt;mikko&gt; happy new year all</div>
<div class="line">[Saturday 01 January 2011] [15:12:01] &lt;andrewvc&gt;      cremes: If you&#8217;re around I have a question about error_check_nonblock if you have a chance</div>
<div class="line">[Saturday 01 January 2011] [15:33:17] &lt;andrewvc&gt;      So, here&#8217;s a nonblocking question</div>
<div class="line">[Saturday 01 January 2011] [15:36:31] &lt;andrewvc&gt;      so, if I get an errno 95 doing a recv NOBLOCK</div>
<div class="line">[Saturday 01 January 2011] [15:37:18] &lt;andrewvc&gt;      what is the usual cause for that</div>
<div class="line">[Saturday 01 January 2011] [15:37:28] &lt;andrewvc&gt;      I was expecting an EAGAIN</div>
<div class="line">[Saturday 01 January 2011] [15:37:36] &lt;andrewvc&gt;      and retrying later my recv did work</div>
<div class="line">[Saturday 01 January 2011] [16:27:29] &lt;sustrik&gt;       what&#8217;s errno 95?</div>
<div class="line">[Saturday 01 January 2011] [16:59:13] &lt;andrewvc&gt;      sustrik,  #define EOPNOTSUPP  95  /* Operation not supported on transport endpoint <a href="#id1"><span class="problematic" id="id2">*</span></a>/</div>
<div class="line">[Saturday 01 January 2011] [16:59:53] &lt;andrewvc&gt;      basically, I get a notification of activity via select for a FD</div>
<div class="line">[Saturday 01 January 2011] [17:00:06] &lt;andrewvc&gt;      so I&#8217;m calling a recv ZMQ::NOBLOCK on it to see if I can read off a message</div>
<div class="line">[Saturday 01 January 2011] [17:00:08] &lt;andrewvc&gt;      and I get that</div>
<div class="line">[Saturday 01 January 2011] [17:00:29] &lt;andrewvc&gt;      i mean if I just pretend that&#8217;s an EAGAIN it works alright</div>
<div class="line">[Saturday 01 January 2011] [17:00:37] &lt;andrewvc&gt;      but just not what I expected</div>
<div class="line">[Saturday 01 January 2011] [18:23:03] &lt;neopallium&gt;    andrewvc: if you are calling recv() on a REQ/REP socket during the wrong state, you will get that error.</div>
<div class="line">[Saturday 01 January 2011] [18:24:36] &lt;neopallium&gt;    REQ/REP sockets switch back and forth from send-only to recv-only states.</div>
<div class="line">[Saturday 01 January 2011] [19:03:57] &lt;andrewvc&gt;      neopallium: it&#8217;s actually a push socket</div>
<div class="line">[Saturday 01 January 2011] [19:04:03] &lt;andrewvc&gt;      errr a pull socket I mena</div>
<div class="line">[Saturday 01 January 2011] [19:04:20] &lt;andrewvc&gt;      maybe it didn&#8217;t finish binding yet or something?</div>
<div class="line">[Saturday 01 January 2011] [19:04:28] &lt;andrewvc&gt;      though the FD did trigger</div>
<div class="line">[Saturday 01 January 2011] [19:19:37] &lt;mikko&gt; andrewvc: are you sure it&#8217;s a pull and not push socket?</div>
<div class="line">[Saturday 01 January 2011] [19:28:59] &lt;andrewvc&gt;      yeah I&#8217;m certain</div>
<div class="line">[Saturday 01 January 2011] [19:29:10] &lt;andrewvc&gt;      mikko: I&#8217;m certain because the messages eventually do start coming off</div>
<div class="line">[Saturday 01 January 2011] [19:29:19] &lt;andrewvc&gt;      I should double check though</div>
<div class="line">[Saturday 01 January 2011] [19:50:12] &lt;andrewvc&gt;      mikko: Oh how about that, I didn&#8217;t realize that was being called on both send AND recv.... Thanks for the pointer</div>
<div class="line">[Saturday 01 January 2011] [19:50:35] &lt;andrewvc&gt;      it was a PUSH after all. Thanks for recognizing that!</div>
<div class="line">[Saturday 01 January 2011] [19:51:13] &lt;mikko&gt; no prob, i think i&#8217;ve done that before as well</div>
<div class="line">[Saturday 01 January 2011] [19:51:21] &lt;andrewvc&gt;      but recv isn&#8217;t being called on it</div>
<div class="line">[Saturday 01 January 2011] [19:51:23] &lt;andrewvc&gt;      send is</div>
<div class="line">[Saturday 01 January 2011] [19:51:40] &lt;andrewvc&gt;      so, does that mean the socket isn&#8217;t in a state where it&#8217;s ready for sending I suppose</div>
<div class="line">[Saturday 01 January 2011] [19:54:57] &lt;andrewvc&gt;      mikko: Well, re-checking it I&#8217;m getting all proper codes, and EAGAIN where I expect it. I guess cleaning up my testing code must have fixed whatever the err was</div>
<div class="line">[Saturday 01 January 2011] [19:55:11] &lt;andrewvc&gt;      thanks for the help though, still good to know for later</div>
<div class="line">[Sunday 02 January 2011] [05:08:53] &lt;sustrik&gt; andrewvc: you&#8217;ve got ENOTSUPP from zmq_recv?</div>
<div class="line">[Sunday 02 January 2011] [05:11:38] &lt;sustrik&gt; looking at the code...</div>
<div class="line">[Sunday 02 January 2011] [05:12:00] &lt;sustrik&gt; hm, it can possibly happen when the socket is not yet fully initialised</div>
<div class="line">[Sunday 02 January 2011] [05:31:08] &lt;sustrik&gt; do you have a test program to reproduce it?</div>
<div class="line">[Sunday 02 January 2011] [17:20:36] &lt;<a href="#id99"><span class="problematic" id="id100">shykes_</span></a>&gt; Hello</div>
<div class="line">[Sunday 02 January 2011] [17:29:28] &lt;mikko&gt;   hi</div>
<div class="line">[Sunday 02 January 2011] [17:31:06] &lt;<a href="#id101"><span class="problematic" id="id102">shykes_</span></a>&gt; I&#8217;m weighing my options for a &#8220;smarter&#8221; req/rep device. Are you aware of any projects going in that direction?</div>
<div class="line">[Sunday 02 January 2011] [17:31:25] &lt;mikko&gt;   what do you mean by smarter?</div>
<div class="line">[Sunday 02 January 2011] [17:31:27] &lt;mikko&gt;   brb</div>
<div class="line">[Sunday 02 January 2011] [17:32:19] &lt;<a href="#id103"><span class="problematic" id="id104">shykes_</span></a>&gt; Currently we have a forwarder with bind on both sides</div>
<div class="line">[Sunday 02 January 2011] [17:32:26] &lt;<a href="#id105"><span class="problematic" id="id106">shykes_</span></a>&gt; ie dynamic workers, dynamic clients</div>
<div class="line">[Sunday 02 January 2011] [17:32:57] &lt;<a href="#id107"><span class="problematic" id="id108">shykes_</span></a>&gt; we use that to load-balance synchronous rpc. I&#8217;m guessing this is a classic use case</div>
<div class="line">[Sunday 02 January 2011] [17:34:02] &lt;<a href="#id109"><span class="problematic" id="id110">shykes_</span></a>&gt; I&#8217;d like my device to stop forwarding requests to a worker which doesn&#8217;t behave properly</div>
<div class="line">[Sunday 02 January 2011] [17:34:29] &lt;<a href="#id111"><span class="problematic" id="id112">shykes_</span></a>&gt; eg. a pre-configured timeout</div>
<div class="line">[Sunday 02 January 2011] [17:37:18] &lt;<a href="#id113"><span class="problematic" id="id114">shykes_</span></a>&gt; Maybe I could implement this as a &#8216;proxy device&#8217; in front of each worker</div>
<div class="line">[Sunday 02 January 2011] [17:38:00] &lt;<a href="#id115"><span class="problematic" id="id116">shykes_</span></a>&gt; each proxy has only one message to worry about at a time, which makes it simpler to write</div>
<div class="line">[Sunday 02 January 2011] [17:38:06] &lt;<a href="#id117"><span class="problematic" id="id118">shykes_</span></a>&gt; Any insight would be much appreciated :)</div>
<div class="line">[Sunday 02 January 2011] [19:47:25] &lt;Skaag&gt;   <a href="#id119"><span class="problematic" id="id120">shykes_</span></a>: sounds like an important and also &#8220;classical&#8221; use case to me, sounds like you need a sort of a &#8220;broker&#8221;? :-)</div>
<div class="line">[Sunday 02 January 2011] [19:48:57] &lt;<a href="#id121"><span class="problematic" id="id122">shykes_</span></a>&gt; Correct. Although I already use zmq_forwarder as a broker</div>
<div class="line">[Sunday 02 January 2011] [19:50:09] &lt;<a href="#id123"><span class="problematic" id="id124">shykes_</span></a>&gt; But before I reinvent the wheel, I&#8217;m trying to find out how much of it already exists</div>
<div class="line">[Sunday 02 January 2011] [19:50:51] &lt;<a href="#id125"><span class="problematic" id="id126">shykes_</span></a>&gt; I&#8217;m guessing a lot of people use zeromq for the same purpose as me. How did all these people implement this?</div>
<div class="line">[Sunday 02 January 2011] [19:55:14] &lt;<a href="#id127"><span class="problematic" id="id128">shykes_</span></a>&gt; Hum, I just found rabbitmq&#8217;s rmq-0mq plugin. Maybe that can help</div>
<div class="line">[Sunday 02 January 2011] [20:00:11] &lt;Skaag&gt;   we are porting our system from rabbitmq to 0mq</div>
<div class="line">[Sunday 02 January 2011] [20:00:26] &lt;Skaag&gt;   because of scaling issues</div>
<div class="line">[Sunday 02 January 2011] [20:00:43] &lt;<a href="#id129"><span class="problematic" id="id130">shykes_</span></a>&gt; Yeah, we were using rabbitmq too</div>
<div class="line">[Sunday 02 January 2011] [20:00:46] &lt;Skaag&gt;   I think the case of a &#8220;dead&#8221; machine is handled well, but a misbehaving machine, that&#8217;s another story</div>
<div class="line">[Sunday 02 January 2011] [20:01:23] &lt;Skaag&gt;   you&#8217;ll simply need to implement this yourself, or on the machine itself, decouple the process that receives the messages from the processes that do the actual work</div>
<div class="line">[Sunday 02 January 2011] [20:01:31] &lt;<a href="#id131"><span class="problematic" id="id132">shykes_</span></a>&gt; yeah</div>
<div class="line">[Sunday 02 January 2011] [20:01:39] &lt;<a href="#id133"><span class="problematic" id="id134">shykes_</span></a>&gt; sounds like less work than putting rabbitmq back into the mix :)</div>
<div class="line">[Sunday 02 January 2011] [20:01:44] &lt;Skaag&gt;   why are you using 0mq instead of the wicked rabbit if I may ask?</div>
<div class="line">[Sunday 02 January 2011] [20:02:09] &lt;Skaag&gt;   yes, also in my opinion, it is less work.</div>
<div class="line">[Sunday 02 January 2011] [20:02:16] &lt;<a href="#id135"><span class="problematic" id="id136">shykes_</span></a>&gt; A few reasons</div>
<div class="line">[Sunday 02 January 2011] [20:02:29] &lt;<a href="#id137"><span class="problematic" id="id138">shykes_</span></a>&gt; 1. We encountered problems with our Celery+RabbitMQ setup</div>
<div class="line">[Sunday 02 January 2011] [20:02:30] &lt;Skaag&gt;   I wish I knew about the shortcomings before I started implementing with rabbit...</div>
<div class="line">[Sunday 02 January 2011] [20:02:56] &lt;<a href="#id139"><span class="problematic" id="id140">shykes_</span></a>&gt; 2. We hit a major bug in the persister, which made it crash and not come back. Had to recover by hand...</div>
<div class="line">[Sunday 02 January 2011] [20:03:09] &lt;Skaag&gt;   crap</div>
<div class="line">[Sunday 02 January 2011] [20:03:15] &lt;Skaag&gt;   (and now i&#8217;m told that our 16 node cluster is considered &#8220;very large&#8221; in rabbitmq terms...)</div>
<div class="line">[Sunday 02 January 2011] [20:03:19] &lt;<a href="#id141"><span class="problematic" id="id142">shykes_</span></a>&gt; 3. I hate amqp. It&#8217;s too complicated</div>
<div class="line">[Sunday 02 January 2011] [20:03:55] &lt;Skaag&gt;   well then we agree at least on 2 and 3, and about 1 is irrelevant to our own system</div>
<div class="line">[Sunday 02 January 2011] [20:03:58] &lt;<a href="#id143"><span class="problematic" id="id144">shykes_</span></a>&gt; 4. more freedom in the topology</div>
<div class="line">[Sunday 02 January 2011] [20:04:04] &lt;Skaag&gt;   right</div>
<div class="line">[Sunday 02 January 2011] [20:04:13] &lt;<a href="#id145"><span class="problematic" id="id146">shykes_</span></a>&gt; for example, switch to multicast down the road</div>
<div class="line">[Sunday 02 January 2011] [20:04:16] &lt;Skaag&gt;   ok this gives me validation in my own path</div>
<div class="line">[Sunday 02 January 2011] [20:04:20] &lt;Skaag&gt;   yep</div>
<div class="line">[Sunday 02 January 2011] [20:04:28] &lt;Skaag&gt;   at least within a single DC</div>
<div class="line">[Sunday 02 January 2011] [20:04:37] &lt;Skaag&gt;   I believe multicast over WAN is not feasible and may never be</div>
<div class="line">[Sunday 02 January 2011] [20:04:51] &lt;<a href="#id147"><span class="problematic" id="id148">shykes_</span></a>&gt; yeah, we&#8217;re primarily on EC2 for now, so not relevant for us either</div>
<div class="line">[Sunday 02 January 2011] [20:21:22] &lt;Skaag&gt;   I constantly fail to see how EC2 helps with anything other than temporarily huge computations</div>
<div class="line">[Sunday 02 January 2011] [20:21:38] &lt;Skaag&gt;   it&#8217;s more expensive than standard hosting</div>
<div class="line">[Sunday 02 January 2011] [20:21:46] &lt;Skaag&gt;   by any calculation I made</div>
<div class="line">[Sunday 02 January 2011] [22:01:38] &lt;viraptor&gt;        hi all</div>
<div class="line">[Sunday 02 January 2011] [22:02:29] &lt;viraptor&gt;        could someone tell me where to look for information on zeromq + forking? the docs describe multithreading, but not how I should handle a fork (inherit the context or not)</div>
<div class="line">[Sunday 02 January 2011] [22:46:42] &lt;viraptor&gt;        ehh... found the answer after all... it&#8217;s &#8220;don&#8217;t share the context with fork&#8221;</div>
<div class="line">[Monday 03 January 2011] [00:46:14] &lt;jugg&gt;    with zmq 2.1.x, sockets can be shared between threads.  However, zmq_poll documentation still state that the sockets must belong to the same thread calling zmq_poll.   Is that still the case?</div>
<div class="line">[Monday 03 January 2011] [01:09:59] &lt;neopallium&gt;      jugg: with zmq 2.1 sockets can be moved between threads, but you still can&#8217;t send/recv from different threads on the same socket.</div>
<div class="line">[Monday 03 January 2011] [01:57:01] &lt;PeterTork&gt;       Question regarding the Ruby bindings. I am creating a socket, and then trying to extend it with a module. This causes it to fail in ZM.select(arrayOfSockets, nil, nil, 30) with the error <a href="#id3"><span class="problematic" id="id4">`</span></a>select&#8217;: uninitialized stream (IOError)</div>
<div class="line">[Monday 03 January 2011] [01:57:20] &lt;PeterTork&gt;       Removing the s.extend(EmptyModule) fixes this.</div>
<div class="line">[Monday 03 January 2011] [12:55:38] &lt;Seta00&gt;  I&#8217;m having lots of problems building pyzmq :(</div>
<div class="line">[Monday 03 January 2011] [12:55:57] &lt;Seta00&gt;  well, only one problem, but I can&#8217;t fix it :P</div>
<div class="line">[Monday 03 January 2011] [12:58:15] &lt;mikko&gt;   what problem are you having?</div>
<div class="line">[Monday 03 January 2011] [13:02:15] &lt;Seta00&gt;  mikko, distutils couldn&#8217;t find my vcvarsall, but I&#8217;ve just fixed it by manually returning the absolute path to it</div>
<div class="line">[Monday 03 January 2011] [13:02:42] &lt;Seta00&gt;  now I just need to put the include files on the right dirs</div>
<div class="line">[Monday 03 January 2011] [13:02:49] &lt;Seta00&gt;  and everything is good to go (I think)</div>
<div class="line">[Monday 03 January 2011] [13:06:27] &lt;Seta00&gt;  now I need a constants.pyd.manifest file</div>
<div class="line">[Monday 03 January 2011] [13:15:44] &lt;Seta00&gt;  lol I had to manually create a bunch of manifest files</div>
<div class="line">[Monday 03 January 2011] [13:18:10] &lt;Seta00&gt;  hehe finally working</div>
<div class="line">[Monday 03 January 2011] [13:25:58] &lt;Seta00&gt;  aaaand they don&#8217;t work :)</div>
<div class="line">[Monday 03 January 2011] [13:26:13] &lt;Seta00&gt;  DLL load failed: The application has failed to start because its side-by-side configuration is incorrect.</div>
<div class="line">[Monday 03 January 2011] [13:50:22] &lt;Seta00&gt;  this thing is driving me nuts, I think I&#8217;ll just use the C++ library</div>
<div class="line">[Monday 03 January 2011] [13:56:17] &lt;sustrik&gt; Seta00: try asking on the mailing list, the pyzmq guys can possibly help you</div>
<div class="line">[Monday 03 January 2011] [14:29:29] &lt;mikko&gt;   sustrik: build currently fails on sunos using gcc3</div>
<div class="line">[Monday 03 January 2011] [14:29:33] &lt;mikko&gt;   not sure if that is big deal</div>
<div class="line">[Monday 03 January 2011] [14:38:11] &lt;sustrik&gt; mikko: there&#8217;s lot of failures there...</div>
<div class="line">[Monday 03 January 2011] [14:38:38] &lt;mikko&gt;   what do you mean?</div>
<div class="line">[Monday 03 January 2011] [14:38:59] &lt;mikko&gt;   you mean sunos and gcc3 to begin with</div>
<div class="line">[Monday 03 January 2011] [14:39:00] &lt;mikko&gt;   :)</div>
<div class="line">[Monday 03 January 2011] [14:39:13] &lt;sustrik&gt; i see 8 red point on valokuva.org</div>
<div class="line">[Monday 03 January 2011] [14:39:20] &lt;sustrik&gt; points</div>
<div class="line">[Monday 03 January 2011] [14:39:45] &lt;mikko&gt;   have i broken something?</div>
<div class="line">[Monday 03 January 2011] [14:39:50] &lt;mikko&gt;   i&#8217;ll check</div>
<div class="line">[Monday 03 January 2011] [14:40:09] &lt;mikko&gt;   github was unavailable it seems</div>
<div class="line">[Monday 03 January 2011] [14:40:17] &lt;sustrik&gt; ah, yes</div>
<div class="line">[Monday 03 January 2011] [14:40:25] &lt;sustrik&gt; i&#8217;ve noticed that myself</div>
<div class="line">[Monday 03 January 2011] [14:40:41] &lt;sustrik&gt; so where should i look for console output?</div>
<div class="line">[Monday 03 January 2011] [14:41:23] &lt;mikko&gt;   <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master-SunGCC-solaris10/4/console">http://build.valokuva.org/job/ZeroMQ2-core-master-SunGCC-solaris10/4/console</a></div>
<div class="line">[Monday 03 January 2011] [14:41:27] &lt;mikko&gt;   there at the end</div>
<div class="line">[Monday 03 January 2011] [14:42:02] &lt;mikko&gt;   i looked at it last night, looks like compiler error to me</div>
<div class="line">[Monday 03 January 2011] [14:44:05] &lt;sustrik&gt; yep</div>
<div class="line">[Monday 03 January 2011] [14:44:08] &lt;sustrik&gt; let me fix it</div>
<div class="line">[Monday 03 January 2011] [14:49:56] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * r95eebbf 10/ src/sub.cpp :</div>
<div class="line">[Monday 03 January 2011] [14:49:56] &lt;CIA-21&gt;  zeromq2: sunos/gcc3 compilation issue fixed</div>
<div class="line">[Monday 03 January 2011] [14:49:56] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ezkv67">http://bit.ly/ezkv67</a></div>
<div class="line">[Monday 03 January 2011] [14:50:02] &lt;sustrik&gt; mikko: try now</div>
<div class="line">[Monday 03 January 2011] [16:07:50] &lt;mikko&gt;   sustrik: i&#8217;ll kick a build</div>
<div class="line">[Monday 03 January 2011] [16:08:16] &lt;mikko&gt;   building</div>
<div class="line">[Monday 03 January 2011] [16:16:11] &lt;mikko&gt;   passes</div>
<div class="line">[Monday 03 January 2011] [16:18:26] &lt;sustrik&gt; great</div>
<div class="line">[Monday 03 January 2011] [16:26:09] &lt;Thomas_aboutus&gt;  I have what I&#8217;m sure is a super-noob question, but I&#8217;ve been over the docs a hundred times and can&#8217;t figure out what I&#8217;m doing wrong. If someone can help me that would rock!</div>
<div class="line">[Monday 03 January 2011] [16:26:48] &lt;Thomas_aboutus&gt;  I am trying to make a simple pub/sub setup. I have the code here: <a class="reference external" href="https://gist.github.com/763990">https://gist.github.com/763990</a>   For some reason, the subscriber never receives messages from the publisher. The code in the gist is as simple as I could make it for clarities sake.</div>
<div class="line">[Monday 03 January 2011] [16:36:08] &lt;mikko&gt;   Thomas_aboutus: both sockets connect</div>
<div class="line">[Monday 03 January 2011] [16:37:39] &lt;mikko&gt;   change the pub to bind and it should work</div>
<div class="line">[Monday 03 January 2011] [16:40:05] &lt;Thomas_aboutus&gt;  Wow... Thank you.</div>
<div class="line">[Monday 03 January 2011] [16:40:07] &lt;Thomas_aboutus&gt;  :)</div>
<div class="line">[Tuesday 04 January 2011] [00:42:35] &lt;jugg&gt;   I&#8217;ve done some work updating the zmq erlang bindings, for the most part things are working well now, but I&#8217;m running into issues with events on the socket FD (that was retrieved using ZMQ_FD getsockopt).  question: Can the FD be used in poll/select in one thread while the Socket is being used in other thread?  eg. the erlang vm sits on the FD in the poll/select call while waiting for an event and in the mean time other socket operations may be performe</div>
<div class="line">[Tuesday 04 January 2011] [01:45:35] &lt;sustrik&gt;        jugg: no</div>
<div class="line">[Tuesday 04 January 2011] [01:45:41] &lt;sustrik&gt;        sockets are not thread safe</div>
<div class="line">[Tuesday 04 January 2011] [01:46:02] &lt;sustrik&gt;        you can access a socket from at most one thread at a time</div>
<div class="line">[Tuesday 04 January 2011] [01:48:40] &lt;jugg&gt;   Is this zmq specific, or (I&#8217;ve not yet been able to find an answer) is it the case that a normal file descriptor would have problems if one thread used it in a poll() call, while another thread tried to read/write to it?</div>
<div class="line">[Tuesday 04 January 2011] [01:49:31] &lt;sustrik&gt;        normal FDs are thread safe</div>
<div class="line">[Tuesday 04 January 2011] [01:50:16] &lt;sustrik&gt;        0mq is special as it uses lock-free algorithms</div>
<div class="line">[Tuesday 04 January 2011] [01:50:32] &lt;sustrik&gt;        thus, it cannot synchronise the access using mutex or somesuch</div>
<div class="line">[Tuesday 04 January 2011] [01:51:32] &lt;sustrik&gt;        you can apply a mutex on top of it yourself, if that&#8217;s what you need</div>
<div class="line">[Tuesday 04 January 2011] [01:51:40] &lt;sustrik&gt;        but be aware of the performance impact</div>
<div class="line">[Tuesday 04 January 2011] [01:51:42] &lt;jugg&gt;   What makes the socket FD different than a normal FD in this regards?</div>
<div class="line">[Tuesday 04 January 2011] [01:51:51] &lt;jugg&gt;   No, that isn&#8217;t an option for the erlang bindings...</div>
<div class="line">[Tuesday 04 January 2011] [01:59:51] &lt;neopallium&gt;     jugg: the 0mq FD is just a socketpair to sent notices that there are messages/commands to read from the socket&#8217;s queue.</div>
<div class="line">[Tuesday 04 January 2011] [02:00:47] &lt;neopallium&gt;     the message data you get from recv() is transferred in-memory from a lock-free queue, not over the socketpair.</div>
<div class="line">[Tuesday 04 January 2011] [02:02:58] &lt;neopallium&gt;     jugg: are you making a erlang port or a linked-in driver?</div>
<div class="line">[Tuesday 04 January 2011] [02:03:30] &lt;jugg&gt;   linked-in driver - its based off of the broken erlzmq bindings.</div>
<div class="line">[Tuesday 04 January 2011] [02:10:39] &lt;jugg&gt;   So if the socket FD is a socketpair, what makes it not usable in a poll call from one thread while another thread uses the socket?  Does zmq listen for events on the socket internally (outside of zmq_poll itself)?</div>
<div class="line">[Tuesday 04 January 2011] [02:11:45] &lt;sustrik&gt;        jugg: yes, it does so in zmq_send, zmq_recv and alike</div>
<div class="line">[Tuesday 04 January 2011] [02:12:50] &lt;jugg&gt;   ok... well, time to approach the erlang binding architecture differently then... :/</div>
<div class="line">[Tuesday 04 January 2011] [02:14:09] &lt;neopallium&gt;     sustrik: if the polling thread just calls poll() and not any zmq_* functions like zmq_poll(), would it still cause an issue?</div>
<div class="line">[Tuesday 04 January 2011] [02:14:33] &lt;jugg&gt;   if other parts of zmq consume the socketpair events, then yes...</div>
<div class="line">[Tuesday 04 January 2011] [02:14:35] &lt;neopallium&gt;     jugg: what is your polling thread doing with the events it gets back from the 0mq FD?</div>
<div class="line">[Tuesday 04 January 2011] [02:15:04] &lt;jugg&gt;   Notifies the socket owner thread and event occurred.</div>
<div class="line">[Tuesday 04 January 2011] [02:16:12] &lt;jugg&gt;   and =&gt; an</div>
<div class="line">[Tuesday 04 January 2011] [02:16:38] &lt;neopallium&gt;     ok, even if the owner thread gets a old POLLIN or POLLOUT event it can still try to call zmq_send/zmq_recv() with the NOBLOCK flag.</div>
<div class="line">[Tuesday 04 January 2011] [02:16:59] &lt;neopallium&gt;     it will just get an EAGAIN if it had already comsumed the event.</div>
<div class="line">[Tuesday 04 January 2011] [02:17:10] &lt;jugg&gt;   the problem is that it does not get a POLLIN/OUT event - as it appears the zmq internals are consuming those events...</div>
<div class="line">[Tuesday 04 January 2011] [02:17:23] &lt;jugg&gt;   which from sustrik&#8217;s statement confirms this.</div>
<div class="line">[Tuesday 04 January 2011] [02:17:32] &lt;neopallium&gt;     do you use the NOBLOCK flag?</div>
<div class="line">[Tuesday 04 January 2011] [02:18:09] &lt;jugg&gt;   I don&#8217;t see the relevance... the problem is the erlang poll is not being signaled an event occurred...</div>
<div class="line">[Tuesday 04 January 2011] [02:18:56] &lt;neopallium&gt;     your owner thread should be calling zmq_send()/zmq_recv() with the NOBLOCK flag, and only if it get EAGAIN, do it wait for an event notice from the polling thread.</div>
<div class="line">[Tuesday 04 January 2011] [02:18:57] &lt;sustrik&gt;        neopallium: getsockopt(ZMQ_EVENTS) consumes events from the socket pair</div>
<div class="line">[Tuesday 04 January 2011] [02:19:27] &lt;neopallium&gt;     sustrik: yes, and he should only call that from the owner thread not the poller thread.</div>
<div class="line">[Tuesday 04 January 2011] [02:20:39] &lt;sustrik&gt;        jugg: why do you need to combine recv and poll from different threads</div>
<div class="line">[Tuesday 04 January 2011] [02:20:52] &lt;sustrik&gt;        (i know, erlang is tricky)</div>
<div class="line">[Tuesday 04 January 2011] [02:21:46] &lt;sustrik&gt;        neopallium: i assume the problem is how erlang VM works</div>
<div class="line">[Tuesday 04 January 2011] [02:21:55] &lt;sustrik&gt;        it&#8217;s kind of thread-agnostic</div>
<div class="line">[Tuesday 04 January 2011] [02:22:27] &lt;neopallium&gt;     jugg: have you tried an external C port?  it would make this must similar.</div>
<div class="line">[Tuesday 04 January 2011] [02:23:47] &lt;neopallium&gt;     sustrik: yeah, the book I have on erlang doesn&#8217;t have much details about how the linked-in driver interface is effected by any internal threads that the erlang VM might have.</div>
<div class="line">[Tuesday 04 January 2011] [02:25:29] &lt;sustrik&gt;        the erlang binding is a troublesome one</div>
<div class="line">[Tuesday 04 January 2011] [02:25:39] &lt;sustrik&gt;        originally it was written by shammika pathirana</div>
<div class="line">[Tuesday 04 January 2011] [02:25:44] &lt;jugg&gt;   the only way to wait on an event in erlang is to provide the fd to the erlang vm.  The erlang vm, then calls the driver callback routine input/output_ready depending on the event type.  The callback is an arbitrary thread.   That callback checks the fd if an even actually occurred on the socket using getsockopt(ZMQ_EVENTS), and if so, then sends a notification back into the erlang world notifying an erlang process which owns the socket.  That erlang pr</div>
<div class="line">[Tuesday 04 January 2011] [02:25:51] &lt;sustrik&gt;        who had no erlang experience at the time afaik</div>
<div class="line">[Tuesday 04 January 2011] [02:26:06] &lt;sustrik&gt;        then it was fixed by serge aleynikov</div>
<div class="line">[Tuesday 04 January 2011] [02:26:26] &lt;sustrik&gt;        later on we&#8217;ve created some fixes when working on RabbitMQ/0MQ bridge with VMWare</div>
<div class="line">[Tuesday 04 January 2011] [02:26:29] &lt;neopallium&gt;     jugg: are you sure the vm is using a different polling thread from the callbacks?</div>
<div class="line">[Tuesday 04 January 2011] [02:26:32] &lt;sustrik&gt;        this are not yet in</div>
<div class="line">[Tuesday 04 January 2011] [02:26:34] &lt;sustrik&gt;        etc.</div>
<div class="line">[Tuesday 04 January 2011] [02:27:21] &lt;jugg&gt;   neopallium, the callback gets called from arbitrary threads... I don&#8217;t know for sure if the poll is happening in the same thread or not.</div>
<div class="line">[Tuesday 04 January 2011] [02:28:54] &lt;sustrik&gt;        what about an alternative architecture: poll on FD, when signaled remove it from the pollset then read, when read is done, return it to the pollset</div>
<div class="line">[Tuesday 04 January 2011] [02:29:09] &lt;neopallium&gt;     jugg: why not do the zmq_recv() in the output_ready() callback instead of sending a notice to the erlang process (which is not a real thread/process).</div>
<div class="line">[Tuesday 04 January 2011] [02:30:17] &lt;jugg&gt;   sustrik, I&#8217;m already half way down that path...</div>
<div class="line">[Tuesday 04 January 2011] [02:30:58] &lt;neopallium&gt;     even if you are sending a notice back to the erlang process (saying hay you can read now), that erlang process will just send a port command which will be delivered to the port</div>
<div class="line">[Tuesday 04 January 2011] [02:30:59] &lt;jugg&gt;   neopallium, that has issues with multi-part messages...</div>
<div class="line">[Tuesday 04 January 2011] [02:31:19] &lt;neopallium&gt;     the ports callbacks should be restricted to one thread.</div>
<div class="line">[Tuesday 04 January 2011] [02:31:36] &lt;neopallium&gt;     I don&#8217;t see any warnings that linked-in drivers need to be thread-safe.</div>
<div class="line">[Tuesday 04 January 2011] [02:32:45] &lt;neopallium&gt;     jugg: do you deliver each part of the message in a different message back to the controlling process?</div>
<div class="line">[Tuesday 04 January 2011] [02:33:47] &lt;jugg&gt;   each erlzmq recv call acts just like zmq_recv.  It&#8217;ll return each part separately.</div>
<div class="line">[Tuesday 04 January 2011] [02:34:58] &lt;sustrik&gt;        jugg: btw, there&#8217;s a problem with erlzmq project now; as i&#8217;ve mentioned dhammika is not really an erlang guy and serge has unrelated problems now that prevent him from doing stuff</div>
<div class="line">[Tuesday 04 January 2011] [02:35:18] &lt;sustrik&gt;        in case you are interested i can give you commit access...</div>
<div class="line">[Tuesday 04 January 2011] [02:36:32] &lt;jugg&gt;   sustrik, let me get this working successfully, and I&#8217;ll ping you then for access.</div>
<div class="line">[Tuesday 04 January 2011] [02:37:07] &lt;sustrik&gt;        jugg: ok, good</div>
<div class="line">[Tuesday 04 January 2011] [02:38:31] &lt;sustrik&gt;        there&#8217;s also VMware patch that solves the sender-side backpressure IIRC</div>
<div class="line">[Tuesday 04 January 2011] [02:38:40] &lt;jugg&gt;   sustrik, just to clarify something.. you said getsockopt(ZMQ_EVENTS) consumes the socketpair events... do you mean payload or events that would trigger a waiting poll call?</div>
<div class="line">[Tuesday 04 January 2011] [02:38:40]   * sustrik makes a mental note that it has to be applied</div>
<div class="line">[Tuesday 04 January 2011] [02:39:30] &lt;sustrik&gt;        it consumes internal 0mq events from the socket pair</div>
<div class="line">[Tuesday 04 January 2011] [02:39:49] &lt;neopallium&gt;     jugg: it reads from the socketpair which will consume the POLLIN event from the FD</div>
<div class="line">[Tuesday 04 January 2011] [02:40:26] &lt;sustrik&gt;        let me give an overvirew of the achitecture</div>
<div class="line">[Tuesday 04 January 2011] [02:40:39] &lt;sustrik&gt;        the actual TCP sockets are handled by background threads</div>
<div class="line">[Tuesday 04 January 2011] [02:40:49] &lt;sustrik&gt;        making sending/receiving messages asynchronous</div>
<div class="line">[Tuesday 04 January 2011] [02:41:20] &lt;sustrik&gt;        the user&#8217;s thread communicates with background (I/O) threads using so called &#8216;commands&#8217;</div>
<div class="line">[Tuesday 04 January 2011] [02:41:41] &lt;sustrik&gt;        these are sent via a socketpair connecting the user thread and the I/O thread</div>
<div class="line">[Tuesday 04 January 2011] [02:42:14] &lt;sustrik&gt;        example of a command sent from I/O thread to user&#8217;s thread would be &#8220;there are messages available for reading&#8221;</div>
<div class="line">[Tuesday 04 January 2011] [02:43:02] &lt;sustrik&gt;        when user&#8217;s thread get that command it knows it can unblock (in case it&#8217;s blocked in recv) and read new messages from the lock-free queue</div>
<div class="line">[Tuesday 04 January 2011] [02:43:16] &lt;sustrik&gt;        that&#8217;s more or less it</div>
<div class="line">[Tuesday 04 January 2011] [02:45:48] &lt;jugg&gt;   are socketpairs ever shared with multiple zmq sockets?</div>
<div class="line">[Tuesday 04 January 2011] [02:46:18] &lt;jugg&gt;   or does every zmq socket have its own socketpair?</div>
<div class="line">[Tuesday 04 January 2011] [02:46:57] &lt;sustrik&gt;        every socket has it&#8217;s own socketpair</div>
<div class="line">[Tuesday 04 January 2011] [02:47:11] &lt;sustrik&gt;        this is needed to be able to migrate sockets between threads</div>
<div class="line">[Tuesday 04 January 2011] [02:47:33] &lt;sustrik&gt;        so, to be precise, in 2.0.x multiple sockets share single socketpair</div>
<div class="line">[Tuesday 04 January 2011] [02:47:53] &lt;sustrik&gt;        in 2.1 there&#8217;s one socketpair per 0mq socket</div>
<div class="line">[Tuesday 04 January 2011] [02:50:46] &lt;jugg&gt;   ok.  Thanks, this helps my mental picture.  I have a couple of approaches to test out now.</div>
<div class="line">[Tuesday 04 January 2011] [02:51:43] &lt;sustrik&gt;        good luck :)</div>
<div class="line">[Tuesday 04 January 2011] [02:52:30] &lt;sustrik&gt;        ah, btw, erlang binding works with 2.1 only anyway</div>
<div class="line">[Tuesday 04 January 2011] [02:52:53] &lt;sustrik&gt;        so you don&#8217;t have to take the case where the socketpair is shared between sockets into account</div>
<div class="line">[Tuesday 04 January 2011] [02:54:24] &lt;jugg&gt;   yes</div>
<div class="line">[Tuesday 04 January 2011] [02:59:03] &lt;neopallium&gt;     jugg: I think you should only register events with driver_select() when the 0mq socket is blocked as reported by ZMQ_EVENTS.</div>
<div class="line">[Tuesday 04 January 2011] [02:59:47] &lt;neopallium&gt;     and when you are waiting for an event back from the vm don&#8217;t call zmq_recv() or ZMQ_EVENTS until the event comes back.</div>
<div class="line">[Tuesday 04 January 2011] [03:00:15] &lt;jugg&gt;   that is interesting</div>
<div class="line">[Tuesday 04 January 2011] [03:00:20] &lt;neopallium&gt;     that way the owner thread can&#8217;t consume events from the socketpair.</div>
<div class="line">[Tuesday 04 January 2011] [03:01:32] &lt;neopallium&gt;     I found the details about driver&#8217;s and erlang threads.</div>
<div class="line">[Tuesday 04 January 2011] [03:01:54] &lt;neopallium&gt;     and by default the driver will only have one thread access it at a time.</div>
<div class="line">[Tuesday 04 January 2011] [03:02:19] &lt;neopallium&gt;     you can do locking at driver or port level, the default is locking at the driver level.</div>
<div class="line">[Tuesday 04 January 2011] [03:03:19] &lt;neopallium&gt;     if you don&#8217;t share 0mq sockets between ports it should be possible to use port-level locking.</div>
<div class="line">[Tuesday 04 January 2011] [03:04:26] &lt;neopallium&gt;     also remember to remove the event notice from the socket after receiving the event and mark the socket as readable/writable.</div>
<div class="line">[Tuesday 04 January 2011] [03:05:38] &lt;neopallium&gt;     sustrik basically said the same thing earlier about removing the socket from the pollset (i.e. from driver_select()) when it is readable.</div>
<div class="line">[Tuesday 04 January 2011] [03:06:50] &lt;jugg&gt;   I&#8217;m not sure what you meant by &#8220;remove the event notice&#8221;... are you talking an implementation concept, or an erlang requirement?</div>
<div class="line">[Tuesday 04 January 2011] [03:07:44] &lt;neopallium&gt;     jugg: driver_select(port, event, mode, /* put 0 here. <a href="#id5"><span class="problematic" id="id6">*</span></a>/)</div>
<div class="line">[Tuesday 04 January 2011] [03:08:14] &lt;neopallium&gt;     that last arg. is for clearing the event (i.e. removing it from the pollset)</div>
<div class="line">[Tuesday 04 January 2011] [03:09:27] &lt;jugg&gt;   yes.  But my understanding is (although it has been hard to find supporting evidence) that it isn&#8217;t a requirement normally to do that in order for the erlang vm to report subsequent events on a fd.</div>
<div class="line">[Tuesday 04 January 2011] [03:10:17] &lt;neopallium&gt;     jugg: is your current problem that you are not receiving an event from the vm?</div>
<div class="line">[Tuesday 04 January 2011] [03:11:22] &lt;jugg&gt;   yes, but I think between sustrik&#8217;s comment on getsockopt(ZMQ_EVENTS) consuming events, and his description on how things work, I can see why that is the case...</div>
<div class="line">[Tuesday 04 January 2011] [03:11:25] &lt;neopallium&gt;     0mq sockets are edge-triggered, that means you need to read from them until they will block (i.e. you get EAGAIN)</div>
<div class="line">[Tuesday 04 January 2011] [03:11:33] &lt;jugg&gt;   yes</div>
<div class="line">[Tuesday 04 January 2011] [03:12:57] &lt;neopallium&gt;     when your driver call getsockopt(ZMQ_EVENTS) and it says there is a message to read, then you need to mark the socket as readable, until you read a full message.</div>
<div class="line">[Tuesday 04 January 2011] [03:13:48] &lt;neopallium&gt;     once you read a full message call ZMQ_EVENTS again to check if there is another message to read, if it reports &#8220;no messages&#8221;, then you wait for a read event from the vm.</div>
<div class="line">[Tuesday 04 January 2011] [03:14:32] &lt;neopallium&gt;     I think there was an example in the guide that use ZMQ_EVENTS like that.</div>
<div class="line">[Tuesday 04 January 2011] [03:14:54] &lt;sustrik&gt;        yes, more or less</div>
<div class="line">[Tuesday 04 January 2011] [03:15:06] &lt;sustrik&gt;        but you don&#8217;t have to store the &#8220;readable&#8221; flag yourself</div>
<div class="line">[Tuesday 04 January 2011] [03:15:30] &lt;sustrik&gt;        you can retrieve it from 0mq by calling getsockop(ZMQ_EVENTS) actually</div>
<div class="line">[Tuesday 04 January 2011] [03:15:33] &lt;jugg&gt;   yes, I think the key is to implement a poll method which checks ZMQ_EVENTS prior to passing the fd to the erlang vm, and only do so if nothing is pending.</div>
<div class="line">[Tuesday 04 January 2011] [03:15:52] &lt;sustrik&gt;        yes</div>
<div class="line">[Tuesday 04 January 2011] [03:17:53] &lt;neopallium&gt;     jugg: is this driver pushing messages out to the controlling erlang process?  or does the erlang process block in a recv() type function for each message?</div>
<div class="line">[Tuesday 04 January 2011] [03:22:17] &lt;jugg&gt;   the driver returns messages only if the erlang process requests it via recv().   Of course, driver does not block in the recv() call, as that&#8217;d freeze the vm.  It later pushes the incoming message when it comes available - thus the driver must use the fd to be notified of such an event.  A gen_server is used to ensure further requests to the driver is not made, and the calling erlang process is blocked in the gen_server call until the driver eventually</div>
<div class="line">[Tuesday 04 January 2011] [03:22:56] &lt;jugg&gt;   of course the erlang process can call a non blocking recv as well.</div>
<div class="line">[Tuesday 04 January 2011] [03:23:25] &lt;jugg&gt;   (the old erlzmq did not support that last)</div>
<div class="line">[Tuesday 04 January 2011] [03:27:15] &lt;jugg&gt;   sustrik, does one only use the socketpair fd with POLLIN?  even if waiting for the zmq socket to become writeable?</div>
<div class="line">[Tuesday 04 January 2011] [03:28:10] &lt;neopallium&gt;     jugg: so the erlang sends the port a {call, recv} type message telling it to call zmq_recv() and send back a part of the message.</div>
<div class="line">[Tuesday 04 January 2011] [03:28:18] &lt;sustrik&gt;        jugg: yes</div>
<div class="line">[Tuesday 04 January 2011] [03:28:25] &lt;sustrik&gt;        POLLOUT makes no sense</div>
<div class="line">[Tuesday 04 January 2011] [03:28:31] &lt;jugg&gt;   sustrik, ok</div>
<div class="line">[Tuesday 04 January 2011] [03:29:55] &lt;jugg&gt;   neopallium, the driver will always call zmq_recv with NOBLOCK.  But if the erlang requests did not specify NOBLOCK, and zmq_recv returns EAGAIN, then the driver calls driver_select on the socket fd, and waits for an event, at which point it reads from the socket and returns the received message part to the erlang process.</div>
<div class="line">[Tuesday 04 January 2011] [03:29:56] &lt;neopallium&gt;     sustrik: so if the 0mq socket blocks on zmq_send(), do you have to wait for a POLLIN from the socketpair and the check with ZMQ_EVENTS if the socket is writable?</div>
<div class="line">[Tuesday 04 January 2011] [03:30:14] &lt;sustrik&gt;        yes</div>
<div class="line">[Tuesday 04 January 2011] [03:30:35] &lt;sustrik&gt;        the underlying socketpair is actually used for uni-directional transfer of commands</div>
<div class="line">[Tuesday 04 January 2011] [03:30:42] &lt;neopallium&gt;     ok, I need to fix my Lua async handler for 0mq sockets.</div>
<div class="line">[Tuesday 04 January 2011] [03:30:43] &lt;sustrik&gt;        so POLLOUT is always signaled</div>
<div class="line">[Tuesday 04 January 2011] [03:31:18] &lt;sustrik&gt;        i think it&#8217;s mentioned in the reference</div>
<div class="line">[Tuesday 04 January 2011] [03:31:20] &lt;sustrik&gt;        let me check</div>
<div class="line">[Tuesday 04 January 2011] [03:31:24] &lt;jugg&gt;   sustrik, the docs could be clarified on that regards... It kind of says so, but it was unclear.</div>
<div class="line">[Tuesday 04 January 2011] [03:31:28] &lt;neopallium&gt;     yeah, I am basically doing a POLLOUT on the socketpair when zmq_send() returns EAGAIN.</div>
<div class="line">[Tuesday 04 January 2011] [03:32:07] &lt;neopallium&gt;     it is hard to test blocking on zmq_send()</div>
<div class="line">[Tuesday 04 January 2011] [03:32:17] &lt;jugg&gt;   indeed :/</div>
<div class="line">[Tuesday 04 January 2011] [03:32:42] &lt;sustrik&gt;        &#8220;0MQ library shall signal any pending events on the socket in an edge-triggered fashion by making the file descriptor become ready for reading&#8221;</div>
<div class="line">[Tuesday 04 January 2011] [03:33:00] &lt;sustrik&gt;        how would you reprharse that?</div>
<div class="line">[Tuesday 04 January 2011] [03:33:47] &lt;neopallium&gt;     .... signal any pending events from getsockopt(ZMQ_EVENTS...) when the FD is readable?</div>
<div class="line">[Tuesday 04 January 2011] [03:34:13] &lt;sustrik&gt;        i don&#8217;t understand that :)</div>
<div class="line">[Tuesday 04 January 2011] [03:34:17] &lt;sustrik&gt;        maybe 2 sentences?</div>
<div class="line">[Tuesday 04 January 2011] [03:34:51] &lt;neopallium&gt;     it needs to say something about calling getsockopt(ZMQ_EVENTS...) for the ready events.</div>
<div class="line">[Tuesday 04 January 2011] [03:35:28] &lt;sustrik&gt;        &#8220;The ability to read from the returned file descriptor does not necessarily indicate that messages are available to be read from, or can be written to, the underlying socket; applications</div>
<div class="line">[Tuesday 04 January 2011] [03:35:29] &lt;sustrik&gt;                   must retrieve the actual event state with a subsequent retrieval of the ZMQ_EVENTS option.&#8221;</div>
<div class="line">[Tuesday 04 January 2011] [03:35:43] &lt;sustrik&gt;        see zmq_getsockopt(3)</div>
<div class="line">[Tuesday 04 January 2011] [03:36:42] &lt;neopallium&gt;     how about something like: &#8220;0MQ library shall signal any pending events by making the FD readable, getsockopt(ZMQ_EVENTS...) returns which events are pending.&#8221;</div>
<div class="line">[Tuesday 04 January 2011] [03:37:09] &lt;sustrik&gt;        that&#8217;s better</div>
<div class="line">[Tuesday 04 January 2011] [03:37:26] &lt;neopallium&gt;     yeah, but not perfect</div>
<div class="line">[Tuesday 04 January 2011] [03:37:28] &lt;sustrik&gt;        but kind of duplicates what the note above says</div>
<div class="line">[Tuesday 04 January 2011] [03:38:42] &lt;sustrik&gt;        have a look at whole ZMQ_FD section and feel free to propose a better wording</div>
<div class="line">[Tuesday 04 January 2011] [03:40:28] &lt;neopallium&gt;     hmm, yeah I guess the original dues say that in the Note</div>
<div class="line">[Tuesday 04 January 2011] [03:41:49] &lt;neopallium&gt;     maybe just add a note that checking for POLLOUT on the FD is use-less for finding out if it is writable?</div>
<div class="line">[Tuesday 04 January 2011] [03:42:27] &lt;jugg&gt;   is it the case to mark the socketpair FD read, one must call getsockopt(ZMQ_EVENTS), else subsequent calls to poll will always return immediately?</div>
<div class="line">[Tuesday 04 January 2011] [03:44:51] &lt;neopallium&gt;     jugg: if you get a POLLIN event from poll() you will need to call getsockopt(ZMQ_EVENTS) to clear that event, or you will just keep getting the POLLIN.</div>
<div class="line">[Tuesday 04 January 2011] [03:46:38] &lt;neopallium&gt;     I think from a simple event loop it would be best to call getsockopt(ZMQ_EVENTS) on each POLLIN event and then dispatch the real POLLIN/POLLOUT events as returned from getsockopt(ZMQ_EVENTS).</div>
<div class="line">[Tuesday 04 January 2011] [03:47:10] &lt;neopallium&gt;     that is what I am going to try with my async. handlers.</div>
<div class="line">[Tuesday 04 January 2011] [03:49:50] &lt;sustrik&gt;        jugg: the event is cleared also when you call non-blocking recv() which returns with EAGAIN</div>
<div class="line">[Tuesday 04 January 2011] [04:26:50] &lt;mikko&gt;  good morning</div>
<div class="line">[Tuesday 04 January 2011] [04:53:03] &lt;sustrik&gt;        morning</div>
<div class="line">[Tuesday 04 January 2011] [04:57:17] &lt;mikko&gt;  hmm, [zeromq-dev] Segfault</div>
<div class="line">[Tuesday 04 January 2011] [04:57:26] &lt;mikko&gt;  looks like to be related to the HWM bug we discussed ages ago</div>
<div class="line">[Tuesday 04 January 2011] [04:58:05] &lt;sustrik&gt;        mikko: the one you&#8217;ve gave me the test case for?</div>
<div class="line">[Tuesday 04 January 2011] [04:58:24] &lt;mikko&gt;  sustrik: i think so</div>
<div class="line">[Tuesday 04 January 2011] [04:58:30] &lt;sustrik&gt;        i&#8217;ve looked into that but the problem was not obvious</div>
<div class="line">[Tuesday 04 January 2011] [04:58:47] &lt;sustrik&gt;        i&#8217;ll have to look at it further</div>
<div class="line">[Tuesday 04 January 2011] [04:58:59] &lt;mikko&gt;  man, year after year it&#8217;s harder to come back to work after holidays</div>
<div class="line">[Tuesday 04 January 2011] [04:59:27] &lt;sustrik&gt;        same here :)</div>
<div class="line">[Tuesday 04 January 2011] [05:15:22] &lt;neopallium&gt;     I hit this assertion in zeromq: Assertion failed: <a href="#id149"><span class="problematic" id="id150">msg_</span></a>-&gt;flags &amp; ZMQ_MSG_MORE (rep.cpp:80)</div>
<div class="line">[Tuesday 04 January 2011] [05:15:53] &lt;neopallium&gt;     that is from a REP socket with a XREQ client.</div>
<div class="line">[Tuesday 04 January 2011] [05:16:27] &lt;neopallium&gt;     is it bad to connect a XREQ socket to a REP socket?</div>
<div class="line">[Tuesday 04 January 2011] [05:18:37] &lt;neopallium&gt;     hmm, looks like XREQ -&gt; REP is a supported setup.</div>
<div class="line">[Tuesday 04 January 2011] [05:23:25] &lt;jugg&gt;   I believe REP socket expects at least two message parts, but three is needed.  &lt;msg id&gt; &lt;empty msg&gt; &lt;msg body&gt;.  Both &lt;msg id&gt; and &lt;empty msg&gt; should be sent with SNDMORE flag set.</div>
<div class="line">[Tuesday 04 January 2011] [05:26:55] &lt;jugg&gt;   basically, your application code on the xreq side passes in &lt;msg body&gt; (in one or more parts).  The xreq wrapper layer must then provide an identifier for that &lt;msg body&gt; and send that along to the rep socket, along with an empty message so that the rep socket and delineate between id parts and body parts.  When the rep socket responds, your xrep wrapper layer pulls off the msg id part and looks up who to route the body part to.</div>
<div class="line">[Tuesday 04 January 2011] [05:28:28] &lt;jugg&gt;   &#8221;...so that the rep socket can delineate..&#8221;</div>
<div class="line">[Tuesday 04 January 2011] [05:29:20] &lt;neopallium&gt;     jugg: yup, REQ/REP sockets hid the &#8220;address&#8221; part of the message, XREQ/XREP expose the &#8220;address&#8221; part.</div>
<div class="line">[Tuesday 04 January 2011] [05:30:00] &lt;neopallium&gt;     I am trying a manual example with the plain lua-zmq bindings to make sure it is not just my use of zmq that is cause it.</div>
<div class="line">[Tuesday 04 January 2011] [05:30:15] &lt;jugg&gt;   so, you were already sending along the message id and blank msg?</div>
<div class="line">[Tuesday 04 January 2011] [05:30:37] &lt;jugg&gt;   with SNDMORE set?</div>
<div class="line">[Tuesday 04 January 2011] [05:31:39] &lt;neopallium&gt;     testing that right now, making a minimal example.</div>
<div class="line">[Tuesday 04 January 2011] [05:41:29] &lt;neopallium&gt;     jugg: <a class="reference external" href="https://gist.github.com/764629">https://gist.github.com/764629</a></div>
<div class="line">[Tuesday 04 January 2011] [05:42:33] &lt;neopallium&gt;     also sometime I got a crash on the XREQ side.</div>
<div class="line">[Tuesday 04 January 2011] [05:42:49] &lt;neopallium&gt;     but not an assertion, just a core dump.</div>
<div class="line">[Tuesday 04 January 2011] [05:43:23] &lt;jugg&gt;   I believe the delim needs to be empty, zero bytes.  You are sending a single byte.</div>
<div class="line">[Tuesday 04 January 2011] [05:43:46] &lt;jugg&gt;   try: s:send(&#8220;&#8221;, zmq.SNDMORE)</div>
<div class="line">[Tuesday 04 January 2011] [05:44:13] &lt;neopallium&gt;     ah, yeah, I just tried that and it worked</div>
<div class="line">[Tuesday 04 January 2011] [05:44:18] &lt;jugg&gt;   cool</div>
<div class="line">[Tuesday 04 January 2011] [05:44:41] &lt;neopallium&gt;     I don&#8217;t know where I read to send &#8220;0&#8221; as the delim. part</div>
<div class="line">[Tuesday 04 January 2011] [06:05:25] &lt;orestis&gt;        Hello, I&#8217;m wondering how 0mq fits in with a GUI event loop - is it safe to make 0mq requests from the GUI thread?</div>
<div class="line">[Tuesday 04 January 2011] [06:05:48] &lt;mikko&gt;  orestis: you mean whether it would block?</div>
<div class="line">[Tuesday 04 January 2011] [06:06:39] &lt;mikko&gt;  orestis: can you integrate external filehandle polling to your gui event loop?</div>
<div class="line">[Tuesday 04 January 2011] [06:06:59] &lt;mikko&gt;  you can get ZMQ_FD from the socket and use that event loop</div>
<div class="line">[Tuesday 04 January 2011] [06:07:08] &lt;mikko&gt;  then in the callback check for ZMQ_EVENTS</div>
<div class="line">[Tuesday 04 January 2011] [06:29:35] &lt;orestis&gt;        Thanks. That looks a bit too cutting-edge for my taste. I guess my original question was, are the 0mq send/receive calls async? I&#8217;m a bit confused because there are mentions of background threads.</div>
<div class="line">[Tuesday 04 January 2011] [06:33:19] &lt;mikko&gt;  orestis: send/recv is async yes but there is a possiblity that the calls block</div>
<div class="line">[Tuesday 04 January 2011] [06:33:27] &lt;mikko&gt;  unless ZMQ_NOBLOCK is used</div>
<div class="line">[Tuesday 04 January 2011] [06:37:16] &lt;orestis&gt;        Thanks. In general, is 0mq a bit more low-level for doing async I/O from something like Twisted (that gives you Deferreds, Callbacks etc)?</div>
<div class="line">[Tuesday 04 January 2011] [06:38:16] &lt;mikko&gt;  orestis: i guess that is true. then again as far as i understand twisted is more general purpose ae framework where as 0mq is messaging stack</div>
<div class="line">[Tuesday 04 January 2011] [06:41:02] &lt;orestis&gt;        yes, apparently. I mainly wanted to use 0mq to split a monolithic gui app that does heavy I/O into separate processes. I definitely want to use Twisted for Deferreds and Callbacks (and Twisted plays well with GUIs) so I was wondering how to bring everything together.</div>
<div class="line">[Tuesday 04 January 2011] [06:42:25] &lt;mikko&gt;  orestis: you should be able to integrate 0mq into twisted</div>
<div class="line">[Tuesday 04 January 2011] [06:42:33] &lt;mikko&gt;  using the methods i mentioned earlier</div>
<div class="line">[Tuesday 04 January 2011] [06:44:05] &lt;orestis&gt;        mikko: they&#8217;re not in the stable version though, are they?</div>
<div class="line">[Tuesday 04 January 2011] [06:45:05] &lt;mikko&gt;  orestis: if you mean 2.0.x then no</div>
<div class="line">[Tuesday 04 January 2011] [06:45:11] &lt;mikko&gt;  but 2.1.x seems fairly stable</div>
<div class="line">[Tuesday 04 January 2011] [06:45:19] &lt;mikko&gt;  i use github trunk in all my developments</div>
<div class="line">[Tuesday 04 January 2011] [07:14:53] &lt;orestis&gt;        mikko: thanks for your input. I&#8217;ll see what I can come up with.</div>
<div class="line">[Tuesday 04 January 2011] [07:21:39] &lt;jugg&gt;   The documentation for ZMQ_IDENTITY is not clear to me.  I assume that the zmq context has to be maintained in order for a socket&#8217;s identity to be re-usable?  But terminating the zmq context will lose the identity persistence?</div>
<div class="line">[Tuesday 04 January 2011] [10:55:17] &lt;Seta00&gt; how do I build 0MQ with MinGW?</div>
<div class="line">[Tuesday 04 January 2011] [10:55:36] &lt;mikko&gt;  Seta00: configure &amp;&amp; make &amp;&amp; make install i guess</div>
<div class="line">[Tuesday 04 January 2011] [10:55:51] &lt;mikko&gt;  Seta00: i got mingw build running on linux machine</div>
<div class="line">[Tuesday 04 January 2011] [10:55:52]   * Seta00 installs MSYS</div>
<div class="line">[Tuesday 04 January 2011] [10:55:54] &lt;Seta00&gt; :P</div>
<div class="line">[Tuesday 04 January 2011] [10:56:05] &lt;mikko&gt;  haven&#8217;t tried on windows in a while</div>
<div class="line">[Tuesday 04 January 2011] [10:56:32] &lt;mikko&gt;  i got mingw32 on linux and VS2008 on windows in daily builds</div>
<div class="line">[Tuesday 04 January 2011] [10:56:43] &lt;mikko&gt;  maybe mingw32 on windows would be a good addition</div>
<div class="line">[Tuesday 04 January 2011] [10:57:26] &lt;Seta00&gt; definitely :)</div>
<div class="line">[Tuesday 04 January 2011] [11:00:21] &lt;Seta00&gt; working with various libraries can get messed up really fast</div>
<div class="line">[Tuesday 04 January 2011] [11:12:05] &lt;Seta00&gt; msg_store.cpp:279: error: ISO C++ does not support <a href="#id7"><span class="problematic" id="id8">`</span></a>long long&#8217;</div>
<div class="line">[Tuesday 04 January 2011] [11:12:10] &lt;Seta00&gt; why aren&#8217;t things easier? hehe</div>
<div class="line">[Tuesday 04 January 2011] [11:13:17] &lt;sustrik&gt;        Set00: is that 2.0.10?</div>
<div class="line">[Tuesday 04 January 2011] [11:13:39] &lt;Seta00&gt; sustrik, yes</div>
<div class="line">[Tuesday 04 January 2011] [11:13:52] &lt;sustrik&gt;        i recall the long long issue was being solved</div>
<div class="line">[Tuesday 04 January 2011] [11:13:59] &lt;sustrik&gt;        maybe it&#8217;s fixed in 2.1</div>
<div class="line">[Tuesday 04 January 2011] [11:14:08] &lt;sustrik&gt;        mikko: don&#8217;t you remember by chance?</div>
<div class="line">[Tuesday 04 January 2011] [11:14:46] &lt;Seta00&gt; I&#8217;ll try</div>
<div class="line">[Tuesday 04 January 2011] [11:26:16] &lt;Seta00&gt; 2.1.0 gives me &#8221;.../mingw/lib/dllcrt2.o: No such file or directory&#8221; when linking</div>
<div class="line">[Tuesday 04 January 2011] [11:27:32] &lt;sustrik&gt;        :|</div>
<div class="line">[Tuesday 04 January 2011] [11:28:53] &lt;sustrik&gt;        no idea what that is</div>
<div class="line">[Tuesday 04 January 2011] [11:28:57] &lt;sustrik&gt;        as for the long long problem</div>
<div class="line">[Tuesday 04 January 2011] [11:29:31] &lt;sustrik&gt;        iirc the problem is that long long is not part of C++ standard, yet it it used in Win32 signatures</div>
<div class="line">[Tuesday 04 January 2011] [11:29:37] &lt;sustrik&gt;        Win32 API</div>
<div class="line">[Tuesday 04 January 2011] [11:30:09] &lt;Skaag&gt;  I wonder if anyone else is using google protocol buffers to send messages over zmq</div>
<div class="line">[Tuesday 04 January 2011] [11:31:14] &lt;Seta00&gt; I&#8217;m trying with uint64_t</div>
<div class="line">[Tuesday 04 January 2011] [11:33:42] &lt;Seta00&gt; doesn&#8217;t work</div>
<div class="line">[Tuesday 04 January 2011] [11:34:03] &lt;Seta00&gt; how can I remove -Werror?</div>
<div class="line">[Tuesday 04 January 2011] [11:34:16] &lt;Seta00&gt; other than manually editing the makefile?</div>
<div class="line">[Tuesday 04 January 2011] [11:35:32] &lt;Seta00&gt; long works fine, but msys doesn`t find that DLL</div>
<div class="line">[Tuesday 04 January 2011] [11:40:26] &lt;sustrik&gt;        no idea, try checking configure.in</div>
<div class="line">[Tuesday 04 January 2011] [11:41:28] &lt;Seta00&gt; forgot to configure fstab</div>
<div class="line">[Tuesday 04 January 2011] [11:42:39] &lt;mikko&gt;  sustrik: yes</div>
<div class="line">[Tuesday 04 January 2011] [11:42:48] &lt;mikko&gt;  ah, it was answered</div>
<div class="line">[Tuesday 04 January 2011] [11:42:58] &lt;mikko&gt;  long long problem is with 2.0.x</div>
<div class="line">[Tuesday 04 January 2011] [11:43:02] &lt;mikko&gt;  it&#8217;s fixed in 2.1.0</div>
<div class="line">[Tuesday 04 January 2011] [11:43:48] &lt;sustrik&gt;        thx</div>
<div class="line">[Tuesday 04 January 2011] [11:46:20] &lt;mikko&gt;  Skaag: there has been a couple of mentions about that</div>
<div class="line">[Tuesday 04 January 2011] [11:46:31] &lt;mikko&gt;  Seta00: i can test mingw32 build when i get home</div>
<div class="line">[Tuesday 04 January 2011] [11:47:00] &lt;Seta00&gt; mikko, it worked after I configured my fstab on MSYS</div>
<div class="line">[Tuesday 04 January 2011] [11:47:15] &lt;Seta00&gt; thanks sustrik and mikko</div>
<div class="line">[Tuesday 04 January 2011] [11:47:37] &lt;sustrik&gt;        you are welcome</div>
<div class="line">[Tuesday 04 January 2011] [11:47:49] &lt;Seta00&gt; now I need qmake to link to it :P</div>
<div class="line">[Tuesday 04 January 2011] [11:48:04] &lt;Seta00&gt; which shall be solved in #qt</div>
<div class="line">[Tuesday 04 January 2011] [11:48:05] &lt;Seta00&gt; :)</div>
<div class="line">[Tuesday 04 January 2011] [11:48:28] &lt;mikko&gt;  i remember someone doing this before</div>
<div class="line">[Tuesday 04 January 2011] [11:48:31] &lt;mikko&gt;  with qt toolchain</div>
<div class="line">[Tuesday 04 January 2011] [11:48:39] &lt;mikko&gt;  that sparked the whole fixing of mingw32 builds</div>
<div class="line">[Tuesday 04 January 2011] [12:28:58] &lt;s0undt3ch&gt;      with pyzmq, on a publisher subscriber model, I&#8217;m setting the publisher&#8217;s identity, how can a subscriber retrieve that identity</div>
<div class="line">[Tuesday 04 January 2011] [12:28:59] &lt;s0undt3ch&gt;      ?</div>
<div class="line">[Tuesday 04 January 2011] [12:31:53] &lt;sustrik&gt;        it can&#8217;t</div>
<div class="line">[Tuesday 04 January 2011] [12:33:16] &lt;s0undt3ch&gt;      hmmm</div>
<div class="line">[Tuesday 04 January 2011] [12:33:25] &lt;s0undt3ch&gt;      I need to pass that on the message then</div>
<div class="line">[Tuesday 04 January 2011] [12:34:26] &lt;sustrik&gt;        yes, the identity is only internel per-hop mechanism</div>
<div class="line">[Tuesday 04 January 2011] [12:34:42] &lt;sustrik&gt;        it&#8217;s not passed all the way down from publisher to subscriber</div>
<div class="line">[Tuesday 04 January 2011] [12:39:56] &lt;s0undt3ch&gt;      sustrik: same for req/rep right?</div>
<div class="line">[Tuesday 04 January 2011] [12:41:11] &lt;Seta00&gt; s0undt3ch, are you on windows?</div>
<div class="line">[Tuesday 04 January 2011] [12:44:59] &lt;sustrik&gt;        same for all patterns</div>
<div class="line">[Tuesday 04 January 2011] [12:45:31] &lt;sustrik&gt;        req/rep is special in that identities are stuck to the request as it passes individual nodes</div>
<div class="line">[Tuesday 04 January 2011] [12:46:03] &lt;sustrik&gt;        but there&#8217;s still no special mechanism to inspect peers&#8217; identities</div>
<div class="line">[Tuesday 04 January 2011] [12:48:35] &lt;s0undt3ch&gt;      Seta00: nope</div>
<div class="line">[Tuesday 04 January 2011] [12:49:01] &lt;Seta00&gt; just checking if someone has a pyzmq build for Windows</div>
<div class="line">[Tuesday 04 January 2011] [13:54:20] &lt;<a href="#id151"><span class="problematic" id="id152">Joes_</span></a>&gt;  Hello. It is very tempting for me to use ZeroMQ, but I&#8217;m trying to figure out how architecture would look like. So, we have chat server (a-la IRC) with chat rooms.</div>
<div class="line">[Tuesday 04 January 2011] [13:54:40] &lt;<a href="#id153"><span class="problematic" id="id154">Joes_</span></a>&gt;  Users can join multiple rooms and I need to route messages between users in same room.</div>
<div class="line">[Tuesday 04 January 2011] [13:54:53] &lt;<a href="#id155"><span class="problematic" id="id156">Joes_</span></a>&gt;  As far as I understood tutorials, I need 2 connections</div>
<div class="line">[Tuesday 04 January 2011] [13:55:06] &lt;<a href="#id157"><span class="problematic" id="id158">Joes_</span></a>&gt;  one pubsub to send room events back to users</div>
<div class="line">[Tuesday 04 January 2011] [13:55:16] &lt;<a href="#id159"><span class="problematic" id="id160">Joes_</span></a>&gt;  and one pubsub to send events from users to rooms?</div>
<div class="line">[Tuesday 04 January 2011] [13:55:30] &lt;<a href="#id161"><span class="problematic" id="id162">Joes_</span></a>&gt;  can it be done with only one connection?</div>
<div class="line">[Tuesday 04 January 2011] [13:55:38] &lt;<a href="#id163"><span class="problematic" id="id164">Joes_</span></a>&gt;  (or socket)</div>
<div class="line">[Tuesday 04 January 2011] [14:16:49] &lt;mikko&gt;  <a href="#id165"><span class="problematic" id="id166">Joes_</span></a>: you would need two</div>
<div class="line">[Tuesday 04 January 2011] [14:17:34] &lt;<a href="#id167"><span class="problematic" id="id168">Joes_</span></a>&gt;  in terms of low level communication with tcp transport - two tcp ports on the server will be used</div>
<div class="line">[Tuesday 04 January 2011] [14:17:36] &lt;<a href="#id169"><span class="problematic" id="id170">Joes_</span></a>&gt;  correct?</div>
<div class="line">[Tuesday 04 January 2011] [14:17:44] &lt;<a href="#id171"><span class="problematic" id="id172">Joes_</span></a>&gt;  (firewall setup, etc)</div>
<div class="line">[Tuesday 04 January 2011] [14:18:04] &lt;mikko&gt;  <a href="#id173"><span class="problematic" id="id174">Joes_</span></a>: assuming you bind the two sockets then yet</div>
<div class="line">[Tuesday 04 January 2011] [14:18:07] &lt;mikko&gt;  yes*</div>
<div class="line">[Tuesday 04 January 2011] [14:18:10] &lt;<a href="#id175"><span class="problematic" id="id176">Joes_</span></a>&gt;  ok</div>
<div class="line">[Tuesday 04 January 2011] [14:18:19] &lt;<a href="#id177"><span class="problematic" id="id178">Joes_</span></a>&gt;  and second question - any bindings for Javascript?</div>
<div class="line">[Tuesday 04 January 2011] [14:18:31] &lt;mikko&gt;  i think someone was working for node.js bindings</div>
<div class="line">[Tuesday 04 January 2011] [14:18:34] &lt;<a href="#id179"><span class="problematic" id="id180">Joes_</span></a>&gt;  using WebSockets/socketjs/etc</div>
<div class="line">[Tuesday 04 January 2011] [14:18:42] &lt;<a href="#id181"><span class="problematic" id="id182">Joes_</span></a>&gt;  saw them</div>
<div class="line">[Tuesday 04 January 2011] [14:18:52] &lt;<a href="#id183"><span class="problematic" id="id184">Joes_</span></a>&gt;  includes native C code</div>
<div class="line">[Tuesday 04 January 2011] [14:19:02] &lt;<a href="#id185"><span class="problematic" id="id186">Joes_</span></a>&gt;  is wire protocol documented?</div>
<div class="line">[Tuesday 04 January 2011] [14:19:08] &lt;mikko&gt;  yes, i think it is</div>
<div class="line">[Tuesday 04 January 2011] [14:19:19] &lt;mikko&gt;  gimme a sec</div>
<div class="line">[Tuesday 04 January 2011] [14:20:39] &lt;mikko&gt;  here is the message format <a class="reference external" href="http://rfc.zeromq.org/spec:2">http://rfc.zeromq.org/spec:2</a></div>
<div class="line">[Tuesday 04 January 2011] [14:20:54] &lt;<a href="#id187"><span class="problematic" id="id188">Joes_</span></a>&gt;  thanks</div>
<div class="line">[Tuesday 04 January 2011] [14:20:57] &lt;mikko&gt;  let me see if the rest is documented</div>
<div class="line">[Tuesday 04 January 2011] [14:21:02] &lt;<a href="#id189"><span class="problematic" id="id190">Joes_</span></a>&gt;  going to see how long it will take to write dumb client in JS</div>
<div class="line">[Tuesday 04 January 2011] [14:21:25] &lt;<a href="#id191"><span class="problematic" id="id192">Joes_</span></a>&gt;  there&#8217;s one for AMQP, but nothing for ZeroMQ</div>
<div class="line">[Tuesday 04 January 2011] [14:21:33] &lt;<a href="#id193"><span class="problematic" id="id194">Joes_</span></a>&gt;  and I don&#8217;t need 95% of AMQP features...</div>
<div class="line">[Tuesday 04 January 2011] [14:22:38] &lt;mikko&gt;  are you going to do communications from browser straight to 0mq?</div>
<div class="line">[Tuesday 04 January 2011] [14:22:46] &lt;<a href="#id195"><span class="problematic" id="id196">Joes_</span></a>&gt;  well, that would be ideal</div>
<div class="line">[Tuesday 04 January 2011] [14:22:55] &lt;mikko&gt;  i don&#8217;t think that&#8217;s going to work</div>
<div class="line">[Tuesday 04 January 2011] [14:23:00] &lt;mikko&gt;  at least with websockets</div>
<div class="line">[Tuesday 04 January 2011] [14:23:12] &lt;mikko&gt;  as websockets have their own framing as well</div>
<div class="line">[Tuesday 04 January 2011] [14:23:25] &lt;<a href="#id197"><span class="problematic" id="id198">Joes_</span></a>&gt;  instead of making own wire protocol</div>
<div class="line">[Tuesday 04 January 2011] [14:23:40] &lt;<a href="#id199"><span class="problematic" id="id200">Joes_</span></a>&gt;  hm</div>
<div class="line">[Tuesday 04 January 2011] [14:23:43] &lt;mikko&gt;  have you looked into mongrel2?</div>
<div class="line">[Tuesday 04 January 2011] [14:24:04] &lt;<a href="#id201"><span class="problematic" id="id202">Joes_</span></a>&gt;  I did</div>
<div class="line">[Tuesday 04 January 2011] [14:24:14] &lt;<a href="#id203"><span class="problematic" id="id204">Joes_</span></a>&gt;  however, I can&#8217;t find any benchmarks</div>
<div class="line">[Tuesday 04 January 2011] [14:24:20] &lt;<a href="#id205"><span class="problematic" id="id206">Joes_</span></a>&gt;  or who&#8217;s using it in production</div>
<div class="line">[Tuesday 04 January 2011] [14:24:38] &lt;mikko&gt;  it&#8217;s very new tech, i would be surprised if there are large installations yet</div>
<div class="line">[Tuesday 04 January 2011] [14:25:03] &lt;mikko&gt;  and i tend to find benchmarks mainly useless as there are a lot of people who don&#8217;t know how to benchmark the software</div>
<div class="line">[Tuesday 04 January 2011] [14:25:08] &lt;mikko&gt;  or optimize it for benchmarking</div>
<div class="line">[Tuesday 04 January 2011] [14:25:27] &lt;<a href="#id207"><span class="problematic" id="id208">Joes_</span></a>&gt;  well, at least some rough numbers would help</div>
<div class="line">[Tuesday 04 January 2011] [14:25:34] &lt;<a href="#id209"><span class="problematic" id="id210">Joes_</span></a>&gt;  like faster than X Y times</div>
<div class="line">[Tuesday 04 January 2011] [14:27:12] &lt;mikko&gt;  but very often i find they are comparing apples to oranges</div>
<div class="line">[Tuesday 04 January 2011] [14:27:35] &lt;mikko&gt;  one tool with highly optimized config against incorrect config of other</div>
<div class="line">[Tuesday 04 January 2011] [14:27:49] &lt;<a href="#id211"><span class="problematic" id="id212">Joes_</span></a>&gt;  I see.</div>
<div class="line">[Tuesday 04 January 2011] [14:28:17] &lt;mikko&gt;  it&#8217;s very hard to create good benchmarks</div>
<div class="line">[Tuesday 04 January 2011] [14:32:13] &lt;mikko&gt;  but communicating from browser you most likely need some sort of middle piece</div>
<div class="line">[Tuesday 04 January 2011] [14:32:36] &lt;mikko&gt;  probably doesn&#8217;t need to be complicated but something that converts websocket messages to 0mq messages</div>
<div class="line">[Tuesday 04 January 2011] [14:32:40] &lt;<a href="#id213"><span class="problematic" id="id214">Joes_</span></a>&gt;  Let&#8217;s assume I have middlepiece - some kind of broker between browser and 0MQ</div>
<div class="line">[Tuesday 04 January 2011] [14:32:45] &lt;<a href="#id215"><span class="problematic" id="id216">Joes_</span></a>&gt;  (thought about it)</div>
<div class="line">[Tuesday 04 January 2011] [14:32:49] &lt;<a href="#id217"><span class="problematic" id="id218">Joes_</span></a>&gt;  with some simple wire protocol</div>
<div class="line">[Tuesday 04 January 2011] [14:32:56] &lt;sustrik&gt;        i think that&#8217;s mostly what mongrel2 does</div>
<div class="line">[Tuesday 04 January 2011] [14:33:01] &lt;<a href="#id219"><span class="problematic" id="id220">Joes_</span></a>&gt;  but I have following issues:</div>
<div class="line">[Tuesday 04 January 2011] [14:33:12] &lt;<a href="#id221"><span class="problematic" id="id222">Joes_</span></a>&gt;  1. Who will guarantee delivery, if client drops connection</div>
<div class="line">[Tuesday 04 January 2011] [14:33:26] &lt;<a href="#id223"><span class="problematic" id="id224">Joes_</span></a>&gt;  (I will need to queue up messages for this client till his next connection)</div>
<div class="line">[Tuesday 04 January 2011] [14:33:53] &lt;<a href="#id225"><span class="problematic" id="id226">Joes_</span></a>&gt;  well, there some other issues, but I don&#8217;t remember them all :-)</div>
<div class="line">[Tuesday 04 January 2011] [14:33:57] &lt;mikko&gt;  if client drops connection do you want to queue messages?</div>
<div class="line">[Tuesday 04 January 2011] [14:34:08] &lt;mikko&gt;  for how long time after client leaves?</div>
<div class="line">[Tuesday 04 January 2011] [14:34:19] &lt;<a href="#id227"><span class="problematic" id="id228">Joes_</span></a>&gt;  I don&#8217;t know if client dropped or temporary lost connection to the server and will reconnect shortly</div>
<div class="line">[Tuesday 04 January 2011] [14:34:30] &lt;sustrik&gt;        can be done using ZMQ_IDENTITY</div>
<div class="line">[Tuesday 04 January 2011] [14:34:39] &lt;<a href="#id229"><span class="problematic" id="id230">Joes_</span></a>&gt;  em</div>
<div class="line">[Tuesday 04 January 2011] [14:34:51] &lt;<a href="#id231"><span class="problematic" id="id232">Joes_</span></a>&gt;  let&#8217;s say I&#8217;m am the server which handles requests from browsers.</div>
<div class="line">[Tuesday 04 January 2011] [14:34:59] &lt;<a href="#id233"><span class="problematic" id="id234">Joes_</span></a>&gt;  I accepted raw TCP connection (or websocket connection)</div>
<div class="line">[Tuesday 04 January 2011] [14:35:16] &lt;<a href="#id235"><span class="problematic" id="id236">Joes_</span></a>&gt;  so, for this connection, I will create 0MQ socket (or two, but it does not matter now)</div>
<div class="line">[Tuesday 04 January 2011] [14:35:24] &lt;<a href="#id237"><span class="problematic" id="id238">Joes_</span></a>&gt;  and will connect to the chat server</div>
<div class="line">[Tuesday 04 January 2011] [14:35:31] &lt;sustrik&gt;        right</div>
<div class="line">[Tuesday 04 January 2011] [14:35:41] &lt;<a href="#id239"><span class="problematic" id="id240">Joes_</span></a>&gt;  if incoming (browser) connection will drop</div>
<div class="line">[Tuesday 04 January 2011] [14:35:48] &lt;<a href="#id241"><span class="problematic" id="id242">Joes_</span></a>&gt;  I should close socket?</div>
<div class="line">[Tuesday 04 January 2011] [14:35:54] &lt;<a href="#id243"><span class="problematic" id="id244">Joes_</span></a>&gt;  (0MQ socket)</div>
<div class="line">[Tuesday 04 January 2011] [14:36:08] &lt;sustrik&gt;        no, 0MQ socket represents all the connections</div>
<div class="line">[Tuesday 04 January 2011] [14:36:17] &lt;sustrik&gt;        so closing it means closing all the connections</div>
<div class="line">[Tuesday 04 January 2011] [14:36:20] &lt;<a href="#id245"><span class="problematic" id="id246">Joes_</span></a>&gt;  hm</div>
<div class="line">[Tuesday 04 January 2011] [14:36:27] &lt;<a href="#id247"><span class="problematic" id="id248">Joes_</span></a>&gt;  1 socket for all incoming clients?</div>
<div class="line">[Tuesday 04 January 2011] [14:36:31] &lt;sustrik&gt;        yes</div>
<div class="line">[Tuesday 04 January 2011] [14:37:03] &lt;<a href="#id249"><span class="problematic" id="id250">Joes_</span></a>&gt;  who will be doing queuing of the messages for temporary disconnected clients?</div>
<div class="line">[Tuesday 04 January 2011] [14:37:14] &lt;sustrik&gt;        the server</div>
<div class="line">[Tuesday 04 January 2011] [14:37:39] &lt;<a href="#id251"><span class="problematic" id="id252">Joes_</span></a>&gt;  I see</div>
<div class="line">[Tuesday 04 January 2011] [14:37:41] &lt;sustrik&gt;        to be precise, the 0MQ socket in the server</div>
<div class="line">[Tuesday 04 January 2011] [14:37:45] &lt;<a href="#id253"><span class="problematic" id="id254">Joes_</span></a>&gt;  hm</div>
<div class="line">[Tuesday 04 January 2011] [14:38:03] &lt;sustrik&gt;        all you need to do is set the ZMQ_IDENTITY socket option on the client</div>
<div class="line">[Tuesday 04 January 2011] [14:38:37] &lt;sustrik&gt;        that way the server socket would know that is should not deallocate the connection when it accidentally breaks</div>
<div class="line">[Tuesday 04 January 2011] [14:38:46] &lt;sustrik&gt;        the messages will be stored</div>
<div class="line">[Tuesday 04 January 2011] [14:38:58] &lt;sustrik&gt;        and once the same client re-connects they will be sent</div>
<div class="line">[Tuesday 04 January 2011] [14:39:03] &lt;<a href="#id255"><span class="problematic" id="id256">Joes_</span></a>&gt;  that&#8217;s the problem - I will have to write proxy between browser and 0MQ server</div>
<div class="line">[Tuesday 04 January 2011] [14:39:05] &lt;mikko&gt;  i think you are talking about separate issue</div>
<div class="line">[Tuesday 04 January 2011] [14:39:10] &lt;mikko&gt;  in this case:</div>
<div class="line">[Tuesday 04 January 2011] [14:39:33] &lt;mikko&gt;  chat server &lt;&#8211; 0mq &#8211;&gt; broker &lt;&#8211; raw tcp &#8211;&gt; client</div>
<div class="line">[Tuesday 04 January 2011] [14:39:38] &lt;<a href="#id257"><span class="problematic" id="id258">Joes_</span></a>&gt;  yep</div>
<div class="line">[Tuesday 04 January 2011] [14:40:33] &lt;<a href="#id259"><span class="problematic" id="id260">Joes_</span></a>&gt;  so, my question is - I&#8217;m adding extra logic on broker side to handle another wire protocol, message queuing (connection persistence logic like in 0MQ)</div>
<div class="line">[Tuesday 04 January 2011] [14:40:42] &lt;<a href="#id261"><span class="problematic" id="id262">Joes_</span></a>&gt;  is it worth of the trouble?</div>
<div class="line">[Tuesday 04 January 2011] [14:41:01] &lt;<a href="#id263"><span class="problematic" id="id264">Joes_</span></a>&gt;  broker can be &#8220;end point&#8221;</div>
<div class="line">[Tuesday 04 January 2011] [14:41:34] &lt;<a href="#id265"><span class="problematic" id="id266">Joes_</span></a>&gt;  not scalable solution, though</div>
<div class="line">[Tuesday 04 January 2011] [14:41:35] &lt;mikko&gt;  the only thing you have described about the application this far that it&#8217;s a chat like irc</div>
<div class="line">[Tuesday 04 January 2011] [14:41:56] &lt;<a href="#id267"><span class="problematic" id="id268">Joes_</span></a>&gt;  yep, pretty much</div>
<div class="line">[Tuesday 04 January 2011] [14:42:03] &lt;mikko&gt;  is this from scratch or do you have something running already?</div>
<div class="line">[Tuesday 04 January 2011] [14:42:07] &lt;<a href="#id269"><span class="problematic" id="id270">Joes_</span></a>&gt;  scratch</div>
<div class="line">[Tuesday 04 January 2011] [14:42:12] &lt;<a href="#id271"><span class="problematic" id="id272">Joes_</span></a>&gt;  prototyping</div>
<div class="line">[Tuesday 04 January 2011] [14:43:04] &lt;<a href="#id273"><span class="problematic" id="id274">Joes_</span></a>&gt;  well, in terms of possible load - ~12k users average online</div>
<div class="line">[Tuesday 04 January 2011] [14:43:30] &lt;<a href="#id275"><span class="problematic" id="id276">Joes_</span></a>&gt;  each making ~1 message in 5 seconds (worst case)</div>
<div class="line">[Tuesday 04 January 2011] [14:43:49] &lt;<a href="#id277"><span class="problematic" id="id278">Joes_</span></a>&gt;  ajax with long polling does not suit very well</div>
<div class="line">[Tuesday 04 January 2011] [14:44:17] &lt;mikko&gt;  why do you need to queue the messages if the client drops?</div>
<div class="line">[Tuesday 04 January 2011] [14:44:20] &lt;<a href="#id279"><span class="problematic" id="id280">Joes_</span></a>&gt;  so, trying to find other possibilities apart of writing custom protocol on top of raw sockets</div>
<div class="line">[Tuesday 04 January 2011] [14:44:36] &lt;<a href="#id281"><span class="problematic" id="id282">Joes_</span></a>&gt;  to keep state of the room and its recent history</div>
<div class="line">[Tuesday 04 January 2011] [14:45:03] &lt;<a href="#id283"><span class="problematic" id="id284">Joes_</span></a>&gt;  it is doable by resending last N items on reconnect</div>
<div class="line">[Tuesday 04 January 2011] [14:45:19] &lt;<a href="#id285"><span class="problematic" id="id286">Joes_</span></a>&gt;  which solves the problem, but.. if 0MQ provides it for free..</div>
<div class="line">[Tuesday 04 January 2011] [14:49:14] &lt;mikko&gt;  let me think for a sec</div>
<div class="line">[Tuesday 04 January 2011] [14:49:28] &lt;mikko&gt;  the biggest problem is the last part to the browser</div>
<div class="line">[Tuesday 04 January 2011] [14:49:32] &lt;<a href="#id287"><span class="problematic" id="id288">Joes_</span></a>&gt;  yep</div>
<div class="line">[Tuesday 04 January 2011] [14:49:45] &lt;<a href="#id289"><span class="problematic" id="id290">Joes_</span></a>&gt;  I want to get rid of it by having simple, yet functional, 0mq client</div>
<div class="line">[Tuesday 04 January 2011] [14:50:01] &lt;<a href="#id291"><span class="problematic" id="id292">Joes_</span></a>&gt;  let&#8217;s assume there&#8217;s no WebSocket wrapping for now.</div>
<div class="line">[Tuesday 04 January 2011] [14:50:05] &lt;<a href="#id293"><span class="problematic" id="id294">Joes_</span></a>&gt;  plain tcp sockets</div>
<div class="line">[Tuesday 04 January 2011] [14:50:54] &lt;mikko&gt;  you are not in control of the client side i assume?</div>
<div class="line">[Tuesday 04 January 2011] [14:51:04] &lt;mikko&gt;  as in installing 0mq on client :)</div>
<div class="line">[Tuesday 04 January 2011] [14:51:16] &lt;<a href="#id295"><span class="problematic" id="id296">Joes_</span></a>&gt;  nope.</div>
<div class="line">[Tuesday 04 January 2011] [14:51:19] &lt;<a href="#id297"><span class="problematic" id="id298">Joes_</span></a>&gt;  plain HTML+JS</div>
<div class="line">[Tuesday 04 January 2011] [14:51:28] &lt;<a href="#id299"><span class="problematic" id="id300">Joes_</span></a>&gt;  and, maybe, some Flash.</div>
<div class="line">[Tuesday 04 January 2011] [14:51:50] &lt;<a href="#id301"><span class="problematic" id="id302">Joes_</span></a>&gt;  (I already checked almost all language integrations - all of them are dependent on the native C library)</div>
<div class="line">[Tuesday 04 January 2011] [14:54:36] &lt;mikko&gt;  yes, i think you would need to implement some logic in your broker</div>
<div class="line">[Tuesday 04 January 2011] [14:55:52] &lt;<a href="#id303"><span class="problematic" id="id304">Joes_</span></a>&gt;  in terms of code, for 1 incoming browser it will create 0mq socket or it will handle all incoming browser connections through 1 0mq socket?</div>
<div class="line">[Tuesday 04 January 2011] [14:55:55] &lt;<a href="#id305"><span class="problematic" id="id306">Joes_</span></a>&gt;  what is better approach?</div>
<div class="line">[Tuesday 04 January 2011] [14:56:37] &lt;<a href="#id307"><span class="problematic" id="id308">Joes_</span></a>&gt;  multiple sockets - free message queuing</div>
<div class="line">[Tuesday 04 January 2011] [14:56:57] &lt;<a href="#id309"><span class="problematic" id="id310">Joes_</span></a>&gt;  one socket - easier overall architecture (and speed?), but manual queuing on the broker</div>
<div class="line">[Tuesday 04 January 2011] [14:57:17] &lt;<a href="#id311"><span class="problematic" id="id312">Joes_</span></a>&gt;  plus, custom wire protocol from broker to browser</div>
<div class="line">[Tuesday 04 January 2011] [14:57:20] &lt;<a href="#id313"><span class="problematic" id="id314">Joes_</span></a>&gt;  etc.</div>
<div class="line">[Tuesday 04 January 2011] [14:57:31] &lt;mikko&gt;  one socket also requires custom filtering i guess</div>
<div class="line">[Tuesday 04 January 2011] [14:57:49] &lt;mikko&gt;  you got messages coming in 1 socket destined to ~12k clients</div>
<div class="line">[Tuesday 04 January 2011] [14:57:51] &lt;<a href="#id315"><span class="problematic" id="id316">Joes_</span></a>&gt;  well, I can read address from the message</div>
<div class="line">[Tuesday 04 January 2011] [14:58:00] &lt;mikko&gt;  so you need to write them to correct handles on other side</div>
<div class="line">[Tuesday 04 January 2011] [14:58:12] &lt;<a href="#id317"><span class="problematic" id="id318">Joes_</span></a>&gt;  and then pick proper browser socket and send it there</div>
<div class="line">[Tuesday 04 January 2011] [14:58:12] &lt;<a href="#id319"><span class="problematic" id="id320">Joes_</span></a>&gt;  yep</div>
<div class="line">[Tuesday 04 January 2011] [14:58:20] &lt;<a href="#id321"><span class="problematic" id="id322">Joes_</span></a>&gt;  it = message</div>
<div class="line">[Tuesday 04 January 2011] [14:59:02] &lt;mikko&gt;  one socket might be easier to handle for events as well</div>
<div class="line">[Tuesday 04 January 2011] [14:59:09] &lt;mikko&gt;  otherwise you got a pollset of 12k items</div>
<div class="line">[Tuesday 04 January 2011] [14:59:13] &lt;mikko&gt;  that you need to maintain</div>
<div class="line">[Tuesday 04 January 2011] [14:59:15] &lt;<a href="#id323"><span class="problematic" id="id324">Joes_</span></a>&gt;  yeah</div>
<div class="line">[Tuesday 04 January 2011] [14:59:19] &lt;<a href="#id325"><span class="problematic" id="id326">Joes_</span></a>&gt;  bad idea.</div>
<div class="line">[Tuesday 04 January 2011] [14:59:27] &lt;<a href="#id327"><span class="problematic" id="id328">Joes_</span></a>&gt;  ok, another idea.</div>
<div class="line">[Tuesday 04 January 2011] [14:59:39] &lt;<a href="#id329"><span class="problematic" id="id330">Joes_</span></a>&gt;  I write pure JS implementation of the wire protocol</div>
<div class="line">[Tuesday 04 January 2011] [14:59:43] &lt;<a href="#id331"><span class="problematic" id="id332">Joes_</span></a>&gt;  it&#8217;s pretty simple</div>
<div class="line">[Tuesday 04 January 2011] [14:59:57] &lt;<a href="#id333"><span class="problematic" id="id334">Joes_</span></a>&gt;  and broker will be dump WebSocket negotiator and TCP proxy</div>
<div class="line">[Tuesday 04 January 2011] [15:00:07] &lt;<a href="#id335"><span class="problematic" id="id336">Joes_</span></a>&gt;  (forwards tcp connection to the real 0MQ server port)</div>
<div class="line">[Tuesday 04 January 2011] [15:00:14] &lt;<a href="#id337"><span class="problematic" id="id338">Joes_</span></a>&gt;  I assume it might work.</div>
<div class="line">[Tuesday 04 January 2011] [15:00:33] &lt;<a href="#id339"><span class="problematic" id="id340">Joes_</span></a>&gt;  each message sent will have address as a first chunk</div>
<div class="line">[Tuesday 04 January 2011] [15:00:46] &lt;<a href="#id341"><span class="problematic" id="id342">Joes_</span></a>&gt;  so chat server knows who sent it</div>
<div class="line">[Tuesday 04 January 2011] [15:00:54] &lt;<a href="#id343"><span class="problematic" id="id344">Joes_</span></a>&gt;  and, maybe, where</div>
<div class="line">[Tuesday 04 January 2011] [15:01:07] &lt;<a href="#id345"><span class="problematic" id="id346">Joes_</span></a>&gt;  dump = dumb</div>
<div class="line">[Tuesday 04 January 2011] [15:01:18] &lt;mikko&gt;  i think i wrote websocket daemon ages ago using libev</div>
<div class="line">[Tuesday 04 January 2011] [15:01:29] &lt;mikko&gt;  it wasn&#8217;t complicated</div>
<div class="line">[Tuesday 04 January 2011] [15:03:57] &lt;<a href="#id347"><span class="problematic" id="id348">Joes_</span></a>&gt;  hm, someone already did it for Ruby</div>
<div class="line">[Tuesday 04 January 2011] [15:04:10] &lt;<a href="#id349"><span class="problematic" id="id350">Joes_</span></a>&gt;  <a class="reference external" href="https://github.com/andrewvc/dripdrop">https://github.com/andrewvc/dripdrop</a></div>
<div class="line">[Tuesday 04 January 2011] [15:04:28] &lt;<a href="#id351"><span class="problematic" id="id352">Joes_</span></a>&gt;  custom wire format from client</div>
<div class="line">[Tuesday 04 January 2011] [15:04:32] &lt;andrewvc&gt;       hey, that&#8217;s me</div>
<div class="line">[Tuesday 04 January 2011] [15:04:35] &lt;<a href="#id353"><span class="problematic" id="id354">Joes_</span></a>&gt;  browser that is</div>
<div class="line">[Tuesday 04 January 2011] [15:04:36] &lt;<a href="#id355"><span class="problematic" id="id356">Joes_</span></a>&gt;  :-)</div>
<div class="line">[Tuesday 04 January 2011] [15:04:39] &lt;<a href="#id357"><span class="problematic" id="id358">Joes_</span></a>&gt;  wonderful</div>
<div class="line">[Tuesday 04 January 2011] [15:04:54] &lt;<a href="#id359"><span class="problematic" id="id360">Joes_</span></a>&gt;  there was pretty long discussion</div>
<div class="line">[Tuesday 04 January 2011] [15:05:04] &lt;andrewvc&gt;       oh?</div>
<div class="line">[Tuesday 04 January 2011] [15:05:16] &lt;<a href="#id361"><span class="problematic" id="id362">Joes_</span></a>&gt;  but, to sum it up - any plans for pure JS 0mq client instead of custom protocol?</div>
<div class="line">[Tuesday 04 January 2011] [15:05:18] &lt;<a href="#id363"><span class="problematic" id="id364">Joes_</span></a>&gt;  (or message format)</div>
<div class="line">[Tuesday 04 January 2011] [15:05:39] &lt;<a href="#id365"><span class="problematic" id="id366">Joes_</span></a>&gt;  so, you can get rid of Ruby server and just relay messages to 0mq</div>
<div class="line">[Tuesday 04 January 2011] [15:05:42] &lt;<a href="#id367"><span class="problematic" id="id368">Joes_</span></a>&gt;  straight</div>
<div class="line">[Tuesday 04 January 2011] [15:05:46] &lt;andrewvc&gt;       oh</div>
<div class="line">[Tuesday 04 January 2011] [15:05:54] &lt;andrewvc&gt;       well, there&#8217;s a node JS project</div>
<div class="line">[Tuesday 04 January 2011] [15:06:05] &lt;andrewvc&gt;       and I was going to implement zmq_devices as part of ffi-rzmq as well</div>
<div class="line">[Tuesday 04 January 2011] [15:06:14] &lt;andrewvc&gt;       or do those options not cover it?</div>
<div class="line">[Tuesday 04 January 2011] [15:06:19] &lt;<a href="#id369"><span class="problematic" id="id370">Joes_</span></a>&gt;  node JS is using native C library</div>
<div class="line">[Tuesday 04 January 2011] [15:06:28] &lt;<a href="#id371"><span class="problematic" id="id372">Joes_</span></a>&gt;  I want something like DripDrop</div>
<div class="line">[Tuesday 04 January 2011] [15:06:31] &lt;andrewvc&gt;       oh</div>
<div class="line">[Tuesday 04 January 2011] [15:06:33] &lt;andrewvc&gt;       interesting</div>
<div class="line">[Tuesday 04 January 2011] [15:06:33] &lt;<a href="#id373"><span class="problematic" id="id374">Joes_</span></a>&gt;  browser &lt;-&gt; 0mq</div>
<div class="line">[Tuesday 04 January 2011] [15:06:40] &lt;<a href="#id375"><span class="problematic" id="id376">Joes_</span></a>&gt;  and simple TCP proxy</div>
<div class="line">[Tuesday 04 January 2011] [15:06:42] &lt;<a href="#id377"><span class="problematic" id="id378">Joes_</span></a>&gt;  in between</div>
<div class="line">[Tuesday 04 January 2011] [15:06:49] &lt;andrewvc&gt;       well, dripdrop doesn&#8217;t really require zeromq</div>
<div class="line">[Tuesday 04 January 2011] [15:06:50] &lt;<a href="#id379"><span class="problematic" id="id380">Joes_</span></a>&gt;  which knows how to handle WebSocket handshake</div>
<div class="line">[Tuesday 04 January 2011] [15:06:53] &lt;andrewvc&gt;       it works well with websockets</div>
<div class="line">[Tuesday 04 January 2011] [15:06:56] &lt;andrewvc&gt;       and http</div>
<div class="line">[Tuesday 04 January 2011] [15:06:57] &lt;andrewvc&gt;       all evented</div>
<div class="line">[Tuesday 04 January 2011] [15:07:18] &lt;andrewvc&gt;       I&#8217;m a bit confused as to the actual question still I guess</div>
<div class="line">[Tuesday 04 January 2011] [15:07:21] &lt;mikko&gt;  andrewvc: but he wants to run this in browser</div>
<div class="line">[Tuesday 04 January 2011] [15:07:28] &lt;mikko&gt;  andrewvc: hence the pure js implementation i guess</div>
<div class="line">[Tuesday 04 January 2011] [15:07:34] &lt;<a href="#id381"><span class="problematic" id="id382">Joes_</span></a>&gt;  yes</div>
<div class="line">[Tuesday 04 January 2011] [15:07:43] &lt;andrewvc&gt;       ohhh, well who would the browser talk to. Itself?</div>
<div class="line">[Tuesday 04 January 2011] [15:07:51] &lt;<a href="#id383"><span class="problematic" id="id384">Joes_</span></a>&gt;  0mq server, preferably.</div>
<div class="line">[Tuesday 04 January 2011] [15:08:09] &lt;<a href="#id385"><span class="problematic" id="id386">Joes_</span></a>&gt;  here&#8217;s another example: online real-time game.</div>
<div class="line">[Tuesday 04 January 2011] [15:08:11] &lt;andrewvc&gt;       oh, well, as far as I know you can&#8217;t open a raw TCP conn from any browser still</div>
<div class="line">[Tuesday 04 January 2011] [15:08:17] &lt;andrewvc&gt;       so you&#8217;re using websockets in the yes?</div>
<div class="line">[Tuesday 04 January 2011] [15:08:29] &lt;<a href="#id387"><span class="problematic" id="id388">Joes_</span></a>&gt;  socketjs also works</div>
<div class="line">[Tuesday 04 January 2011] [15:09:01] &lt;<a href="#id389"><span class="problematic" id="id390">Joes_</span></a>&gt;  (embeds small Flash object to proxy sockets)</div>
<div class="line">[Tuesday 04 January 2011] [15:09:09] &lt;<a href="#id391"><span class="problematic" id="id392">Joes_</span></a>&gt;  gives plain sockets in JS</div>
<div class="line">[Tuesday 04 January 2011] [15:09:41] &lt;andrewvc&gt;       yeah, so, that&#8217;s an interesting idea</div>
<div class="line">[Tuesday 04 January 2011] [15:09:56] &lt;<a href="#id393"><span class="problematic" id="id394">Joes_</span></a>&gt;  I mean - sure, I can create custom protocol</div>
<div class="line">[Tuesday 04 January 2011] [15:10:00] &lt;<a href="#id395"><span class="problematic" id="id396">Joes_</span></a>&gt;  write custom server software</div>
<div class="line">[Tuesday 04 January 2011] [15:10:00] &lt;andrewvc&gt;       what kinds of implementation were you guys thinking?</div>
<div class="line">[Tuesday 04 January 2011] [15:10:06] &lt;<a href="#id397"><span class="problematic" id="id398">Joes_</span></a>&gt;  which will parse messages, etc</div>
<div class="line">[Tuesday 04 January 2011] [15:10:11] &lt;<a href="#id399"><span class="problematic" id="id400">Joes_</span></a>&gt;  but I dont see a point</div>
<div class="line">[Tuesday 04 January 2011] [15:10:52] &lt;andrewvc&gt;       what would the api look like, in JS?</div>
<div class="line">[Tuesday 04 January 2011] [15:11:04] &lt;<a href="#id401"><span class="problematic" id="id402">Joes_</span></a>&gt;  so, DripDrop already doing it - checked JS files, it is encapsulating messages into DD.Message</div>
<div class="line">[Tuesday 04 January 2011] [15:11:05] &lt;andrewvc&gt;       I think that&#8217;s probably a good place to start, if you can throw up a gist for a simple case</div>
<div class="line">[Tuesday 04 January 2011] [15:11:09] &lt;andrewvc&gt;       yep</div>
<div class="line">[Tuesday 04 January 2011] [15:11:37] &lt;andrewvc&gt;       the JS prolly needs a little love at this point</div>
<div class="line">[Tuesday 04 January 2011] [15:12:15] &lt;<a href="#id403"><span class="problematic" id="id404">Joes_</span></a>&gt;  so, imagine that there&#8217;s no need to have custom wire protocol (json serialized) and JS would just talk to 0mq server using 0mq wire protocol</div>
<div class="line">[Tuesday 04 January 2011] [15:12:48] &lt;<a href="#id405"><span class="problematic" id="id406">Joes_</span></a>&gt;  that&#8217;s the simpliest case</div>
<div class="line">[Tuesday 04 January 2011] [15:13:18] &lt;andrewvc&gt;       hmmm, the 0mq wire protocol doesn&#8217;t handle that much really</div>
<div class="line">[Tuesday 04 January 2011] [15:13:43] &lt;andrewvc&gt;       I mean, you could express multipart stuff, like socket identities for stuff like xreq/xrep</div>
<div class="line">[Tuesday 04 January 2011] [15:13:45] &lt;<a href="#id407"><span class="problematic" id="id408">Joes_</span></a>&gt;  browser won&#8217;t be server either</div>
<div class="line">[Tuesday 04 January 2011] [15:13:49] &lt;andrewvc&gt;       but I&#8217;m not sure how useful that is</div>
<div class="line">[Tuesday 04 January 2011] [15:13:50] &lt;<a href="#id409"><span class="problematic" id="id410">Joes_</span></a>&gt;  sub or pub, mostly</div>
<div class="line">[Tuesday 04 January 2011] [15:13:59] &lt;<a href="#id411"><span class="problematic" id="id412">Joes_</span></a>&gt;  maybe req</div>
<div class="line">[Tuesday 04 January 2011] [15:14:13] &lt;andrewvc&gt;       I&#8217;m off to grab some lunch, but it&#8217;s an interesting idea</div>
<div class="line">[Tuesday 04 January 2011] [15:14:20] &lt;andrewvc&gt;       I&#8217;d love to see a gist of a proposed API</div>
<div class="line">[Tuesday 04 January 2011] [15:14:26] &lt;<a href="#id413"><span class="problematic" id="id414">Joes_</span></a>&gt;  actually, from wire perspective it can be req</div>
<div class="line">[Tuesday 04 January 2011] [15:14:28] &lt;<a href="#id415"><span class="problematic" id="id416">Joes_</span></a>&gt;  always</div>
<div class="line">[Tuesday 04 January 2011] [15:14:37] &lt;<a href="#id417"><span class="problematic" id="id418">Joes_</span></a>&gt;  em, no.</div>
<div class="line">[Tuesday 04 January 2011] [15:14:40] &lt;<a href="#id419"><span class="problematic" id="id420">Joes_</span></a>&gt;  I need to get updates from server.</div>
<div class="line">[Tuesday 04 January 2011] [15:14:44] &lt;<a href="#id421"><span class="problematic" id="id422">Joes_</span></a>&gt;  anyway, I&#8217;ll think about it.</div>
<div class="line">[Tuesday 04 January 2011] [15:14:53] &lt;andrewvc&gt;       yeah, I&#8217;d like to hear more</div>
<div class="line">[Tuesday 04 January 2011] [15:15:00] &lt;<a href="#id423"><span class="problematic" id="id424">Joes_</span></a>&gt;  it won&#8217;t be full-scale 0mq implementation anyway</div>
<div class="line">[Tuesday 04 January 2011] [15:15:04] &lt;andrewvc&gt;       If you could ping me at &#64;andrewvc on twitter when you have something I&#8217;d be interested</div>
<div class="line">[Tuesday 04 January 2011] [15:15:09] &lt;andrewvc&gt;       anyway, off to lunch</div>
<div class="line">[Tuesday 04 January 2011] [15:15:12] &lt;<a href="#id425"><span class="problematic" id="id426">Joes_</span></a>&gt;  k</div>
<div class="line">[Tuesday 04 January 2011] [15:15:24] &lt;<a href="#id427"><span class="problematic" id="id428">Joes_</span></a>&gt;  bon appetit</div>
<div class="line">[Tuesday 04 January 2011] [15:17:32] &lt;<a href="#id429"><span class="problematic" id="id430">Joes_</span></a>&gt;  Disconnected question - how do you handle security? If you don&#8217;t want particular client to be connected, what you can do?</div>
<div class="line">[Tuesday 04 January 2011] [15:17:48] &lt;<a href="#id431"><span class="problematic" id="id432">Joes_</span></a>&gt;  so, I don&#8217;t want malicious client to DOS my message queue</div>
<div class="line">[Tuesday 04 January 2011] [15:17:52] &lt;<a href="#id433"><span class="problematic" id="id434">Joes_</span></a>&gt;  can I forcibly disconnect him?</div>
<div class="line">[Tuesday 04 January 2011] [15:17:58] &lt;<a href="#id435"><span class="problematic" id="id436">Joes_</span></a>&gt;  (in my application)</div>
<div class="line">[Tuesday 04 January 2011] [15:20:29] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 04 January 2011] [15:20:47] &lt;mikko&gt;  was searching for 0mq on twitter and most of the results are people using &#8220;0mq&#8221; instead of &#8220;omg&#8221;</div>
<div class="line">[Tuesday 04 January 2011] [15:20:53] &lt;<a href="#id437"><span class="problematic" id="id438">Joes_</span></a>&gt;  :-)</div>
<div class="line">[Tuesday 04 January 2011] [15:24:09] &lt;<a href="#id439"><span class="problematic" id="id440">Joes_</span></a>&gt;  mikko: any hints on how to forcibly drop connections on server side?</div>
<div class="line">[Tuesday 04 January 2011] [15:25:44] &lt;<a href="#id441"><span class="problematic" id="id442">Joes_</span></a>&gt;  or 0mq not really suited for client-facing functionality?</div>
<div class="line">[Tuesday 04 January 2011] [15:26:51] &lt;mikko&gt;  there is really no way to forcibly drop a connection</div>
<div class="line">[Tuesday 04 January 2011] [15:27:02] &lt;<a href="#id443"><span class="problematic" id="id444">Joes_</span></a>&gt;  ouch.</div>
<div class="line">[Tuesday 04 January 2011] [15:27:12] &lt;mikko&gt;  apart from closing the socket</div>
<div class="line">[Tuesday 04 January 2011] [15:27:20] &lt;<a href="#id445"><span class="problematic" id="id446">Joes_</span></a>&gt;  on client side, I assume</div>
<div class="line">[Tuesday 04 January 2011] [15:27:21] &lt;<a href="#id447"><span class="problematic" id="id448">Joes_</span></a>&gt;  ?</div>
<div class="line">[Tuesday 04 January 2011] [15:27:31] &lt;mikko&gt;  on the server-side but that closes all connections</div>
<div class="line">[Tuesday 04 January 2011] [15:27:39] &lt;<a href="#id449"><span class="problematic" id="id450">Joes_</span></a>&gt;  oops.</div>
<div class="line">[Tuesday 04 January 2011] [15:28:40] &lt;<a href="#id451"><span class="problematic" id="id452">Joes_</span></a>&gt;  means, 0mq not really suitable for client-facing stuff, as clients might misbehave</div>
<div class="line">[Tuesday 04 January 2011] [15:28:47] &lt;<a href="#id453"><span class="problematic" id="id454">Joes_</span></a>&gt;  plus, if there&#8217;s some sort of authentication</div>
<div class="line">[Tuesday 04 January 2011] [15:28:56] &lt;<a href="#id455"><span class="problematic" id="id456">Joes_</span></a>&gt;  it&#8217;s easier to disconnect client</div>
<div class="line">[Tuesday 04 January 2011] [15:29:01] &lt;<a href="#id457"><span class="problematic" id="id458">Joes_</span></a>&gt;  than to ignore all his sent messages</div>
<div class="line">[Tuesday 04 January 2011] [15:43:17] &lt;sustrik&gt;        what&#8217;s the difference? a malevolent client can reconnect immediately and sent another malformed message</div>
<div class="line">[Tuesday 04 January 2011] [15:43:59] &lt;sustrik&gt;        the only consequence is that the server would use much more CPU to handle the reconnecting instead of simply dropping the messages</div>
<div class="line">[Tuesday 04 January 2011] [15:47:25] &lt;<a href="#id459"><span class="problematic" id="id460">Joes_</span></a>&gt;  yep</div>
<div class="line">[Tuesday 04 January 2011] [15:47:28] &lt;<a href="#id461"><span class="problematic" id="id462">Joes_</span></a>&gt;  but</div>
<div class="line">[Tuesday 04 January 2011] [15:47:35] &lt;<a href="#id463"><span class="problematic" id="id464">Joes_</span></a>&gt;  let&#8217;s assume that it is pub/sub</div>
<div class="line">[Tuesday 04 January 2011] [15:47:41] &lt;<a href="#id465"><span class="problematic" id="id466">Joes_</span></a>&gt;  with, let&#8217;s say 10 subscribers</div>
<div class="line">[Tuesday 04 January 2011] [15:48:15] &lt;<a href="#id467"><span class="problematic" id="id468">Joes_</span></a>&gt;  so, bad clients sends 1 message</div>
<div class="line">[Tuesday 04 January 2011] [15:48:47] &lt;<a href="#id469"><span class="problematic" id="id470">Joes_</span></a>&gt;  and 10 messages total are sent to subscribers</div>
<div class="line">[Tuesday 04 January 2011] [15:49:01] &lt;<a href="#id471"><span class="problematic" id="id472">Joes_</span></a>&gt;  effectively, network topology creates nice DOS environment</div>
<div class="line">[Tuesday 04 January 2011] [15:49:31] &lt;<a href="#id473"><span class="problematic" id="id474">Joes_</span></a>&gt;  bad client sends*</div>
<div class="line">[Tuesday 04 January 2011] [15:49:55] &lt;<a href="#id475"><span class="problematic" id="id476">Joes_</span></a>&gt;  I mean - there&#8217;s no built-in security, so there&#8217;s no way to filter these messages before they get into &#8220;internal&#8221; network</div>
<div class="line">[Tuesday 04 January 2011] [15:50:08] &lt;<a href="#id477"><span class="problematic" id="id478">Joes_</span></a>&gt;  where workers sit</div>
<div class="line">[Tuesday 04 January 2011] [15:56:16] &lt;<a href="#id479"><span class="problematic" id="id480">Joes_</span></a>&gt;  however, I think broker which will relay messages to internal network will work</div>
<div class="line">[Tuesday 04 January 2011] [15:56:26] &lt;<a href="#id481"><span class="problematic" id="id482">Joes_</span></a>&gt;  and he&#8217;ll do the authentication stuff too</div>
<div class="line">[Tuesday 04 January 2011] [16:13:42] &lt;mikko&gt;  <a href="#id483"><span class="problematic" id="id484">Joes_</span></a>: it sounds like a sensible approach</div>
<div class="line">[Tuesday 04 January 2011] [20:47:48] &lt;jugg&gt;   sustrik, it would appear that 2.1.x C zmq_poll function needs to check ZMQ_EVENTS prior to polling the FD... yes?</div>
<div class="line">[Tuesday 04 January 2011] [20:49:53] &lt;jugg&gt;   btw, erlang bindings are functioning again... still some clean up work and consideration on how to expose certain aspects, but it is fairly usable now.</div>
<div class="line">[Tuesday 04 January 2011] [21:30:33] &lt;jugg&gt;   documentation bug: <a class="reference external" href="http://api.zeromq.org/zmq_send.html">http://api.zeromq.org/zmq_send.html</a> -&gt; EFAULT incorrectly references &#8216;context&#8217; rather than &#8216;socket&#8217;.</div>
<div class="line">[Tuesday 04 January 2011] [23:56:48] &lt;munin&gt;  i have a python / zeromq question if anyone is active..?</div>
<div class="line">[Tuesday 04 January 2011] [23:57:04] &lt;munin&gt;  i&#8217;m trying to get python 3.2 and zeromq to work and am having a problem importing zmq:</div>
<div class="line">[Tuesday 04 January 2011] [23:57:14] &lt;munin&gt;  ImportError: /home/munin/dbz-class/python/lib/python3.2/site-packages/zmq/core/poll.cpython-32m.so: undefined symbol: PyCObject_FromVoidPtr</div>
<div class="line">[Wednesday 05 January 2011] [01:31:27] &lt;the_hulk&gt;     hi, if i allocate a memory to zmq_msg_t pointer using malloc, then does zmq_msg_close frees the memory, or i would have to free it?</div>
<div class="line">[Wednesday 05 January 2011] [01:35:49] &lt;jsimmons&gt;     if you allocate it, you have to free it.</div>
<div class="line">[Wednesday 05 January 2011] [01:36:36] &lt;the_hulk&gt;     jsimmons, after zmq_msg_close, ok, thanks</div>
<div class="line">[Wednesday 05 January 2011] [04:03:53] &lt;mikko&gt;        the_hulk: you can use zmq_msg_init_data if you want the data to be freed when the message is freed</div>
<div class="line">[Wednesday 05 January 2011] [04:07:55] &lt;the_hulk&gt;     mikko, data, no, i was talking about zmq_msg_t struct</div>
<div class="line">[Wednesday 05 January 2011] [04:08:46] &lt;mikko&gt;        ah, ok</div>
<div class="line">[Wednesday 05 January 2011] [04:22:15] &lt;mikko&gt;        <a class="reference external" href="http://twitter.com/alexdong/statuses/22478134221733888">http://twitter.com/alexdong/statuses/22478134221733888</a></div>
<div class="line">[Wednesday 05 January 2011] [04:22:18] &lt;mikko&gt;        i don&#8217;t get this</div>
<div class="line">[Wednesday 05 January 2011] [04:46:26] &lt;the_hulk&gt;     mikko, me too</div>
<div class="line">[Wednesday 05 January 2011] [05:35:25] &lt;sustrik&gt;      redis is a database, isn&#8217;t it?</div>
<div class="line">[Wednesday 05 January 2011] [05:35:31] &lt;sustrik&gt;      some people have no clue</div>
<div class="line">[Wednesday 05 January 2011] [05:44:05] &lt;mikko&gt;        yes, it&#8217;s a key-value store</div>
<div class="line">[Wednesday 05 January 2011] [05:51:31] &lt;mikko&gt;        <a class="reference external" href="https://github.com/mkoppanen/httpush">https://github.com/mkoppanen/httpush</a></div>
<div class="line">[Wednesday 05 January 2011] [05:51:37] &lt;mikko&gt;        if anyone is interested in such a thing</div>
<div class="line">[Wednesday 05 January 2011] [05:54:55] &lt;sustrik&gt;      mikko: i am not a web developer so i cannot judge</div>
<div class="line">[Wednesday 05 January 2011] [05:55:20] &lt;sustrik&gt;      but i would definitely announce it on mailing list and add a link to zeromq.org labs page</div>
<div class="line">[Wednesday 05 January 2011] [05:55:26] &lt;sustrik&gt;      to make it more accessible</div>
<div class="line">[Wednesday 05 January 2011] [06:01:30] &lt;neopallium&gt;   mikko: that is similar to Mongrel2</div>
<div class="line">[Wednesday 05 January 2011] [06:01:36] &lt;the_hulk&gt;     mikko, mongrel?</div>
<div class="line">[Wednesday 05 January 2011] [06:02:22] &lt;mikko&gt;        neopallium: it doesn&#8217;t really act as request reply web-server</div>
<div class="line">[Wednesday 05 January 2011] [06:02:35] &lt;mikko&gt;        i just needed a simple http-&gt;zeromq bridge for statistics collection</div>
<div class="line">[Wednesday 05 January 2011] [06:03:38] &lt;neopallium&gt;   so you can only push data to a 0mq socket? no responses back to the http client?</div>
<div class="line">[Wednesday 05 January 2011] [06:03:47] &lt;mikko&gt;        neopallium: yep</div>
<div class="line">[Wednesday 05 January 2011] [06:05:42] &lt;the_hulk&gt;     mikko, how does that help? i am quite new to this stuff..</div>
<div class="line">[Wednesday 05 January 2011] [06:06:02] &lt;mikko&gt;        the use-case for this was fairly simple</div>
<div class="line">[Wednesday 05 January 2011] [06:06:26] &lt;mikko&gt;        the initial use-case was just collecting web-statistics/analytics</div>
<div class="line">[Wednesday 05 January 2011] [06:07:27] &lt;mikko&gt;        so take a request from client, push to 0mq and analyse later in the background</div>
<div class="line">[Wednesday 05 January 2011] [06:08:09] &lt;the_hulk&gt;     and response?</div>
<div class="line">[Wednesday 05 January 2011] [06:08:16] &lt;mikko&gt;        static 200 OK</div>
<div class="line">[Wednesday 05 January 2011] [06:08:47] &lt;mikko&gt;        if you want to send proper responses to client you probably want something like mongrel2</div>
<div class="line">[Wednesday 05 January 2011] [06:19:49] &lt;the_hulk&gt;     yeah, i am trying mongrel2, but i am still not clear about httppush.. is it like backend for page tagging?</div>
<div class="line">[Wednesday 05 January 2011] [06:20:52] &lt;mikko&gt;        it just pushes http requests to 0mq</div>
<div class="line">[Wednesday 05 January 2011] [06:20:54] &lt;mikko&gt;        nothing more</div>
<div class="line">[Wednesday 05 January 2011] [06:21:06] &lt;mikko&gt;        not a bidirectional communication</div>
<div class="line">[Wednesday 05 January 2011] [06:21:54] &lt;the_hulk&gt;     hmm, looks good</div>
<div class="line">[Wednesday 05 January 2011] [06:22:42] &lt;mikko&gt;        it&#8217;s for far simpler and specifc use-case than mongrel2</div>
<div class="line">[Wednesday 05 January 2011] [10:07:30] &lt;jugg&gt; sustrik, in 2.1.x zmq_term is a blocking call, is there a way to check if it will block, or make it not block?   In the erlang bindings, this causes a problem, because it hard locks the erlang vm, not allowing the sockets to be cleaned up and closed (which would unblock the zmq_term call).  As such it turns into a dead lock.   Of course I can put smarts into the erlang driver to deal with this issue, but...</div>
<div class="line">[Wednesday 05 January 2011] [10:08:48] &lt;mikko&gt;        jugg: it blocks if there are sockets open</div>
<div class="line">[Wednesday 05 January 2011] [10:08:56] &lt;mikko&gt;        jugg: if you close all sockets first then it will not block</div>
<div class="line">[Wednesday 05 January 2011] [10:09:10] &lt;jugg&gt; yes</div>
<div class="line">[Wednesday 05 January 2011] [10:09:12] &lt;mikko&gt;        jugg: currently there is no non-blocking version but there has been some discussion around it</div>
<div class="line">[Wednesday 05 January 2011] [10:10:36] &lt;sustrik&gt;      there are 2 distinct problems there</div>
<div class="line">[Wednesday 05 January 2011] [10:11:10] &lt;sustrik&gt;      1. the sockets have to be closed before zmq_term succeeds</div>
<div class="line">[Wednesday 05 January 2011] [10:11:39] &lt;sustrik&gt;      the reason is that otherwise you would destroy the sockets underneath running threads</div>
<div class="line">[Wednesday 05 January 2011] [10:11:52] &lt;sustrik&gt;      and end up with access violations etc.</div>
<div class="line">[Wednesday 05 January 2011] [10:12:20] &lt;mikko&gt;        there was the idea having a non-blocking call that just checks if sockets have been closed</div>
<div class="line">[Wednesday 05 January 2011] [10:12:30] &lt;sustrik&gt;      yes</div>
<div class="line">[Wednesday 05 January 2011] [10:12:46] &lt;mikko&gt;        does the following sound absurd:</div>
<div class="line">[Wednesday 05 January 2011] [10:12:55] &lt;sustrik&gt;      2. zmq_term() waits while the pending message are send to the wite</div>
<div class="line">[Wednesday 05 January 2011] [10:13:03] &lt;mikko&gt;        1. call zmq_term_nb(ctx);</div>
<div class="line">[Wednesday 05 January 2011] [10:13:11] &lt;sustrik&gt;      that one can be worked aeound by setting ZMQ_LINGER to 0</div>
<div class="line">[Wednesday 05 January 2011] [10:13:11] &lt;jugg&gt; it&#8217;d be nice if it just returned with EAGAIN if there were open sockets, and have any blocking calls on the open sockets return with ETERM</div>
<div class="line">[Wednesday 05 January 2011] [10:13:20] &lt;mikko&gt;        2. context is marked &#8220;awaiting termination&#8221; and doesnt allow new sockets to be allocated</div>
<div class="line">[Wednesday 05 January 2011] [10:13:41] &lt;mikko&gt;        3. context automatically terminates after alst socket is done</div>
<div class="line">[Wednesday 05 January 2011] [10:13:45] &lt;mikko&gt;        is this even possible?</div>
<div class="line">[Wednesday 05 January 2011] [10:14:17] &lt;mikko&gt;        jugg: i guess that would be ideal</div>
<div class="line">[Wednesday 05 January 2011] [10:14:31] &lt;sustrik&gt;      1 and 2 is ok</div>
<div class="line">[Wednesday 05 January 2011] [10:14:32] &lt;mikko&gt;        but not sure if possible</div>
<div class="line">[Wednesday 05 January 2011] [10:14:37] &lt;sustrik&gt;      3 won&#8217;t fly</div>
<div class="line">[Wednesday 05 January 2011] [10:15:01] &lt;sustrik&gt;      the problem is that what you noramally do is:</div>
<div class="line">[Wednesday 05 January 2011] [10:15:05] &lt;sustrik&gt;      zmq_term()</div>
<div class="line">[Wednesday 05 January 2011] [10:15:07] &lt;sustrik&gt;      exit()</div>
<div class="line">[Wednesday 05 January 2011] [10:15:17] &lt;jugg&gt; zmq_term would have to be called again if it returned with eagain previously...</div>
<div class="line">[Wednesday 05 January 2011] [10:15:33] &lt;sustrik&gt;      thus the application exits even though there are pending messages there</div>
<div class="line">[Wednesday 05 January 2011] [10:15:48] &lt;sustrik&gt;      jugg: yes</div>
<div class="line">[Wednesday 05 January 2011] [10:16:33] &lt;mikko&gt;        sustrik: i see two problems here</div>
<div class="line">[Wednesday 05 January 2011] [10:16:40] &lt;sustrik&gt;      in short you need a point where the application can sleep waiting for 0mq to finish any work underway</div>
<div class="line">[Wednesday 05 January 2011] [10:16:43] &lt;mikko&gt;        well, one problem</div>
<div class="line">[Wednesday 05 January 2011] [10:16:49]         * sustrik listens</div>
<div class="line">[Wednesday 05 January 2011] [10:16:57] &lt;mikko&gt;        the problem being that zmq_term doesn&#8217;t indicate to sockets that they should exit</div>
<div class="line">[Wednesday 05 January 2011] [10:17:12] &lt;sustrik&gt;      ?</div>
<div class="line">[Wednesday 05 January 2011] [10:17:17] &lt;sustrik&gt;      what about ETERM?</div>
<div class="line">[Wednesday 05 January 2011] [10:17:30] &lt;mikko&gt;        does it currently send eterm to sockets?</div>
<div class="line">[Wednesday 05 January 2011] [10:17:41] &lt;mikko&gt;        maybe im not handling that in my code properly</div>
<div class="line">[Wednesday 05 January 2011] [10:17:45] &lt;sustrik&gt;      after zmq_term() is called</div>
<div class="line">[Wednesday 05 January 2011] [10:17:54] &lt;sustrik&gt;      all the functions except amq_close() return ETERM</div>
<div class="line">[Wednesday 05 January 2011] [10:18:18] &lt;mikko&gt;        does that signal event in ZMQ_FD as well?</div>
<div class="line">[Wednesday 05 January 2011] [10:18:28] &lt;sustrik&gt;      good question</div>
<div class="line">[Wednesday 05 January 2011] [10:18:37] &lt;sustrik&gt;      probably yes</div>
<div class="line">[Wednesday 05 January 2011] [10:18:43] &lt;sustrik&gt;      not sure</div>
<div class="line">[Wednesday 05 January 2011] [10:18:43] &lt;mikko&gt;        maybe that was my problem as i am using libevent loop</div>
<div class="line">[Wednesday 05 January 2011] [10:19:14] &lt;sustrik&gt;      i would say</div>
<div class="line">[Wednesday 05 January 2011] [10:19:19] &lt;sustrik&gt;      fd should be signaled</div>
<div class="line">[Wednesday 05 January 2011] [10:19:35] &lt;sustrik&gt;      and getsockopt(zmq_events) should return ETERM</div>
<div class="line">[Wednesday 05 January 2011] [10:19:40] &lt;mikko&gt;        let me test</div>
<div class="line">[Wednesday 05 January 2011] [10:19:41] &lt;sustrik&gt;      but i never tried that</div>
<div class="line">[Wednesday 05 January 2011] [10:21:09] &lt;jugg&gt; what happens of zmq_send is blocking, or if the last message was sent with SNDMORE?  Do only full message sets get sent?  Or does zmq_send not return with eterm?</div>
<div class="line">[Wednesday 05 January 2011] [10:22:10] &lt;sustrik&gt;      messages are atomic</div>
<div class="line">[Wednesday 05 January 2011] [10:22:15] &lt;sustrik&gt;      so, in this case</div>
<div class="line">[Wednesday 05 January 2011] [10:22:19] &lt;jugg&gt; I assume, the linger option only deals with a fully atomic message set?</div>
<div class="line">[Wednesday 05 January 2011] [10:22:24] &lt;sustrik&gt;      zmq_send return ETERM</div>
<div class="line">[Wednesday 05 January 2011] [10:22:32] &lt;sustrik&gt;      but the message is not sent at all</div>
<div class="line">[Wednesday 05 January 2011] [10:22:40] &lt;mikko&gt;        <a class="reference external" href="https://gist.github.com/79d15fa01f0c7288f129">https://gist.github.com/79d15fa01f0c7288f129</a></div>
<div class="line">[Wednesday 05 January 2011] [10:22:41] &lt;mikko&gt;        strange</div>
<div class="line">[Wednesday 05 January 2011] [10:22:56] &lt;sustrik&gt;      jugg: yes, half-sent messages are never delivered</div>
<div class="line">[Wednesday 05 January 2011] [10:24:28] &lt;sustrik&gt;      mikko: that&#8217;s ETERM</div>
<div class="line">[Wednesday 05 January 2011] [10:24:42] &lt;mikko&gt;        yeah</div>
<div class="line">[Wednesday 05 January 2011] [10:24:50] &lt;mikko&gt;        so it does signal the ZMQ_FD</div>
<div class="line">[Wednesday 05 January 2011] [10:25:37] &lt;sustrik&gt;      ok, easy to fix</div>
<div class="line">[Wednesday 05 January 2011] [10:25:53] &lt;sustrik&gt;      just change line 270 to</div>
<div class="line">[Wednesday 05 January 2011] [10:26:03] &lt;sustrik&gt;      if (rc != 0 &amp;&amp; (errno == EINTR || errno == ETERM))</div>
<div class="line">[Wednesday 05 January 2011] [10:27:21] &lt;mikko&gt;        sustrik: socket_base.cpp:272</div>
<div class="line">[Wednesday 05 January 2011] [10:27:24] &lt;mikko&gt;        yeah</div>
<div class="line">[Wednesday 05 January 2011] [10:57:35] &lt;CIA-21&gt;       zeromq2: 03Martin Sustrik 07master * r472bdcd 10/ src/socket_base.cpp :</div>
<div class="line">[Wednesday 05 January 2011] [10:57:35] &lt;CIA-21&gt;       zeromq2: Return ETERM from getsockopt(ZMQ_EVETS) if zmq_term() was called</div>
<div class="line">[Wednesday 05 January 2011] [10:57:35] &lt;CIA-21&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hXhab5">http://bit.ly/hXhab5</a></div>
<div class="line">[Wednesday 05 January 2011] [12:29:53] &lt;s0undt3ch&gt;    hello ppl</div>
<div class="line">[Wednesday 05 January 2011] [12:30:42] &lt;s0undt3ch&gt;    I&#8217;m trying to use pyzmq withing a gobject mainloop, ie, I can&#8217;t simple do while True: sock.recv()</div>
<div class="line">[Wednesday 05 January 2011] [12:30:47] &lt;s0undt3ch&gt;    so what are my options?</div>
<div class="line">[Wednesday 05 January 2011] [12:31:06] &lt;s0undt3ch&gt;    using the gobject mainlopp I can make a function run at a specific interval</div>
<div class="line">[Wednesday 05 January 2011] [12:31:25] &lt;sustrik&gt;      you can do non-blocking recv</div>
<div class="line">[Wednesday 05 January 2011] [12:31:34] &lt;sustrik&gt;      use ZMQ_NOBLOCK flag</div>
<div class="line">[Wednesday 05 January 2011] [12:32:50] &lt;s0undt3ch&gt;    sustrik: so, keep calling recv(zmq.NOBLOCK) untill I get an empty message meaning a message was completely sent?</div>
<div class="line">[Wednesday 05 January 2011] [12:33:26] &lt;sustrik&gt;      EAGAIN error ensues if there&#8217;s nothing to receive</div>
<div class="line">[Wednesday 05 January 2011] [12:35:59] &lt;s0undt3ch&gt;    sustrik: k, Thanks</div>
<div class="line">[Wednesday 05 January 2011] [12:36:07] &lt;sustrik&gt;      np</div>
<div class="line">[Wednesday 05 January 2011] [12:36:10] &lt;s0undt3ch&gt;    sustrik: in which cases should we use poller?</div>
<div class="line">[Wednesday 05 January 2011] [12:36:26] &lt;s0undt3ch&gt;    might be unrelated</div>
<div class="line">[Wednesday 05 January 2011] [12:36:28] &lt;sustrik&gt;      if you need to use several sockets in parallel</div>
<div class="line">[Wednesday 05 January 2011] [12:36:55] &lt;s0undt3ch&gt;    sustrik: well, a daemonized process will need a req and a rep socket</div>
<div class="line">[Wednesday 05 January 2011] [12:37:00] &lt;s0undt3ch&gt;    is this such a case?</div>
<div class="line">[Wednesday 05 January 2011] [12:37:14] &lt;sustrik&gt;      if you need to use them from the same thread</div>
<div class="line">[Wednesday 05 January 2011] [12:37:20] &lt;mikko&gt;        s0undt3ch: ideal for you would be to use ZMQ_FD to get the filehandle</div>
<div class="line">[Wednesday 05 January 2011] [12:37:30] &lt;mikko&gt;        and gobject.add_watch to watch for activity on the handle</div>
<div class="line">[Wednesday 05 January 2011] [12:37:43] &lt;mikko&gt;        then in the callback check ZMQ_EVENTS and recv if there are events</div>
<div class="line">[Wednesday 05 January 2011] [12:37:50] &lt;mikko&gt;        i think</div>
<div class="line">[Wednesday 05 January 2011] [12:37:55] &lt;mikko&gt;        home -&gt;</div>
<div class="line">[Wednesday 05 January 2011] [12:38:00] &lt;s0undt3ch&gt;    mikko: wow! Thanks! Have you done something like this?</div>
<div class="line">[Wednesday 05 January 2011] [12:38:06] &lt;s0undt3ch&gt;    mikko: any public code?</div>
<div class="line">[Wednesday 05 January 2011] [12:38:11] &lt;mikko&gt;        s0undt3ch: i&#8217;ve done something like this with libevent</div>
<div class="line">[Wednesday 05 January 2011] [12:38:17] &lt;mikko&gt;        i&#8217;ll be back in an hour</div>
<div class="line">[Wednesday 05 January 2011] [12:38:19] &lt;mikko&gt;        -&gt;</div>
<div class="line">[Wednesday 05 January 2011] [12:38:28] &lt;s0undt3ch&gt;    mikko: please ping me when back</div>
<div class="line">[Wednesday 05 January 2011] [12:39:32] &lt;s0undt3ch&gt;    mikko: ah, zmq 2.1.0 right?</div>
<div class="line">[Wednesday 05 January 2011] [12:41:14] &lt;sustrik&gt;      yes, 2.1</div>
<div class="line">[Wednesday 05 January 2011] [12:43:05] &lt;s0undt3ch&gt;    hmm, guess I need to build both packages in order to support that</div>
<div class="line">[Wednesday 05 January 2011] [13:00:15] &lt;s0undt3ch&gt;    while trying to build pyzmq 2.1.0(git master) I&#8217;m getting <a class="reference external" href="http://paste.pocoo.org/show/315418/">http://paste.pocoo.org/show/315418/</a></div>
<div class="line">[Wednesday 05 January 2011] [13:04:03] &lt;sustrik&gt;      looks like mismatch btween 2.0 and 2.1</div>
<div class="line">[Wednesday 05 January 2011] [13:04:14] &lt;sustrik&gt;      aren&#8217;t there old headers lingering somewhere?</div>
<div class="line">[Wednesday 05 January 2011] [13:05:31] &lt;s0undt3ch&gt;    sustrik: yes, the distro ones</div>
<div class="line">[Wednesday 05 January 2011] [13:05:35] &lt;s0undt3ch&gt;    ie, probably</div>
<div class="line">[Wednesday 05 January 2011] [13:07:00] &lt;s0undt3ch&gt;    sustrik: I need to remove all distro headers?</div>
<div class="line">[Wednesday 05 January 2011] [13:07:13] &lt;s0undt3ch&gt;    sustrik: I&#8217;ve specified the path to the new ones though</div>
<div class="line">[Wednesday 05 January 2011] [13:08:04] &lt;sustrik&gt;      there&#8217;s some mismatch obviously</div>
<div class="line">[Wednesday 05 January 2011] [13:08:13] &lt;s0undt3ch&gt;    anyway I&#8217;ve downloaded the latest dev tar from the git downloads</div>
<div class="line">[Wednesday 05 January 2011] [13:08:14] &lt;sustrik&gt;      mikko should be able to help you with that</div>
<div class="line">[Wednesday 05 January 2011] [13:08:15] &lt;s0undt3ch&gt;    it now builds</div>
<div class="line">[Wednesday 05 January 2011] [13:08:17] &lt;s0undt3ch&gt;    though</div>
<div class="line">[Wednesday 05 January 2011] [13:08:43] &lt;s0undt3ch&gt;    <a class="reference external" href="http://paste.pocoo.org/show/315424/">http://paste.pocoo.org/show/315424/</a></div>
<div class="line">[Wednesday 05 January 2011] [13:15:37] &lt;s0undt3ch&gt;    it now does not finding the compiled lib</div>
<div class="line">[Wednesday 05 January 2011] [13:18:58] &lt;s0undt3ch&gt;    ok, tests work now</div>
<div class="line">[Wednesday 05 January 2011] [13:26:04] &lt;s0undt3ch&gt;    sustrik: there&#8217;s no ZMQ_FD example in pyzmq&#8217;s git is there?</div>
<div class="line">[Wednesday 05 January 2011] [13:26:28] &lt;sustrik&gt;      don&#8217;t know</div>
<div class="line">[Wednesday 05 January 2011] [13:26:38] &lt;sustrik&gt;      you shoud ask brian or minrk</div>
<div class="line">[Wednesday 05 January 2011] [13:26:46] &lt;sustrik&gt;      those are pyzmq authors</div>
<div class="line">[Wednesday 05 January 2011] [13:26:56] &lt;sustrik&gt;      you can talk to them via mailing list</div>
<div class="line">[Wednesday 05 January 2011] [13:27:37] &lt;sustrik&gt;      ale uz si podpisla zmluvu na preklad :}</div>
<div class="line">[Wednesday 05 January 2011] [13:28:22] &lt;sustrik&gt;      oops, sorry</div>
<div class="line">[Wednesday 05 January 2011] [13:33:16] &lt;mikko&gt;        back</div>
<div class="line">[Wednesday 05 January 2011] [13:33:39] &lt;s0undt3ch&gt;    mikko: hello there again!</div>
<div class="line">[Wednesday 05 January 2011] [13:33:58] &lt;s0undt3ch&gt;    mikko: I&#8217;ve sucessfully built zmq and pyzmq 2.1.0 on my machine</div>
<div class="line">[Wednesday 05 January 2011] [13:34:16] &lt;s0undt3ch&gt;    mikko: your work with the ZMQ_FD is it public?</div>
<div class="line">[Wednesday 05 January 2011] [13:34:47] &lt;s0undt3ch&gt;    ie, just to get me some pointers on where to go next</div>
<div class="line">[Wednesday 05 January 2011] [13:34:58] &lt;mikko&gt;        yes</div>
<div class="line">[Wednesday 05 January 2011] [13:35:23] &lt;mikko&gt;        this is the callback <a class="reference external" href="https://github.com/mkoppanen/httpush/blob/master/src/httpd.c#L170">https://github.com/mkoppanen/httpush/blob/master/src/httpd.c#L170</a></div>
<div class="line">[Wednesday 05 January 2011] [13:35:40] &lt;s0undt3ch&gt;    I can&#8217;t seem to find any examples in pyzmq</div>
<div class="line">[Wednesday 05 January 2011] [13:35:43] &lt;s0undt3ch&gt;    ah, C ;)</div>
<div class="line">[Wednesday 05 January 2011] [13:35:55] &lt;s0undt3ch&gt;    I&#8217;ll see if I can translate that to python....</div>
<div class="line">[Wednesday 05 January 2011] [13:35:59]         * s0undt3ch does not know C</div>
<div class="line">[Wednesday 05 January 2011] [13:36:25] &lt;mikko&gt;        initialized here <a class="reference external" href="https://github.com/mkoppanen/httpush/blob/master/src/server.c#L41">https://github.com/mkoppanen/httpush/blob/master/src/server.c#L41</a></div>
<div class="line">[Wednesday 05 January 2011] [13:36:28] &lt;mikko&gt;        yes, C</div>
<div class="line">[Wednesday 05 January 2011] [13:36:47] &lt;mikko&gt;        is zmq_getsockopt ZMQ_FD available in python?</div>
<div class="line">[Wednesday 05 January 2011] [13:40:13] &lt;s0undt3ch&gt;    mikko: in 2.1.0 yes</div>
<div class="line">[Wednesday 05 January 2011] [13:40:17] &lt;s0undt3ch&gt;    I was able to get the FD</div>
<div class="line">[Wednesday 05 January 2011] [13:40:35] &lt;mikko&gt;        now you probably want to look into gobject.add_watch</div>
<div class="line">[Wednesday 05 January 2011] [13:41:58] &lt;mikko&gt;        i think</div>
<div class="line">[Wednesday 05 January 2011] [13:42:29] &lt;mikko&gt;        <a class="reference external" href="http://www.pygtk.org/pygtk2reference/gobject-functions.html#function-gobject--io-add-watch">http://www.pygtk.org/pygtk2reference/gobject-functions.html#function-gobject&#8211;io-add-watch</a></div>
<div class="line">[Wednesday 05 January 2011] [13:42:32] &lt;mikko&gt;        this</div>
<div class="line">[Wednesday 05 January 2011] [13:43:01] &lt;mikko&gt;        pass the fd, gobject.IO_IN, and a callback</div>
<div class="line">[Wednesday 05 January 2011] [13:43:17] &lt;mikko&gt;        then in the callback you: zmq_getsockopt(ZMQ_EVENTS</div>
<div class="line">[Wednesday 05 January 2011] [13:43:24] &lt;mikko&gt;        and see if there are events available</div>
<div class="line">[Wednesday 05 January 2011] [13:43:28] &lt;mikko&gt;        and do a read</div>
<div class="line">[Wednesday 05 January 2011] [13:43:41] &lt;mikko&gt;        and remember that zeromq is edge-triggered rather than level-triggered</div>
<div class="line">[Wednesday 05 January 2011] [13:45:53] &lt;s0undt3ch&gt;    mikko: hmm, that means?</div>
<div class="line">[Wednesday 05 January 2011] [13:46:07] &lt;mikko&gt;        let&#8217;s say you got 3 messages waiting in the socket</div>
<div class="line">[Wednesday 05 January 2011] [13:46:13] &lt;mikko&gt;        your callback gets triggered</div>
<div class="line">[Wednesday 05 January 2011] [13:46:23] &lt;mikko&gt;        you need to read all events in one go in the callback</div>
<div class="line">[Wednesday 05 January 2011] [13:46:51] &lt;mikko&gt;        the fd only triggers event when the state changes rather than &#8220;until there are messages&#8221;</div>
<div class="line">[Wednesday 05 January 2011] [13:48:06] &lt;mikko&gt;        if you look at this callback <a class="reference external" href="https://github.com/mkoppanen/httpush/blob/master/src/httpd.c#L170">https://github.com/mkoppanen/httpush/blob/master/src/httpd.c#L170</a> you should understand the semantics even without understanding c</div>
<div class="line">[Wednesday 05 January 2011] [14:03:26] &lt;s0undt3ch&gt;    mikko: sorry, had to work a bit?</div>
<div class="line">[Wednesday 05 January 2011] [14:03:32] &lt;s0undt3ch&gt;    oops</div>
<div class="line">[Wednesday 05 January 2011] [14:03:43] &lt;s0undt3ch&gt;    forget the ?</div>
<div class="line">[Wednesday 05 January 2011] [14:03:51] &lt;s0undt3ch&gt;    mikko: I&#8217;ll have a look a that code</div>
<div class="line">[Wednesday 05 January 2011] [14:03:54] &lt;s0undt3ch&gt;    mikko: Thanks!</div>
<div class="line">[Wednesday 05 January 2011] [14:04:12] &lt;mikko&gt;        no problem</div>
<div class="line">[Wednesday 05 January 2011] [14:28:13] &lt;s0undt3ch&gt;    mikko: working python example -&gt; <a class="reference external" href="http://paste.pocoo.org/show/315462/">http://paste.pocoo.org/show/315462/</a></div>
<div class="line">[Wednesday 05 January 2011] [14:28:53] &lt;s0undt3ch&gt;    mikko: although I&#8217;m sending alot of messages, I aparently only handle one at a time, ie, events = subscriber.getsockopt(zmq.EVENTS) either returns 0 or 1</div>
<div class="line">[Wednesday 05 January 2011] [14:30:56] &lt;s0undt3ch&gt;    mikko: is there a way to test in order to get more than a single zmq message?</div>
<div class="line">[Wednesday 05 January 2011] [14:31:32] &lt;s0undt3ch&gt;    mikko: or socket.getsockopt(zmq.EVENTS) returns 0 or 1 in order to tell if there are events pending or not?</div>
<div class="line">[Wednesday 05 January 2011] [14:35:30] &lt;s0undt3ch&gt;    mikko: the same can be done for outgoing events?</div>
<div class="line">[Wednesday 05 January 2011] [14:35:30] &lt;mikko&gt;        if events == 0:</div>
<div class="line">[Wednesday 05 January 2011] [14:35:43] &lt;mikko&gt;        check if (events &amp; ZMQ_POLLIN)</div>
<div class="line">[Wednesday 05 January 2011] [14:36:23] &lt;mikko&gt;        s0undt3ch: you could start your socket</div>
<div class="line">[Wednesday 05 January 2011] [14:36:31] &lt;mikko&gt;        sleep 5 seconds while sending messages at other end</div>
<div class="line">[Wednesday 05 January 2011] [14:36:37] &lt;mikko&gt;        and see how many you get in the callback</div>
<div class="line">[Wednesday 05 January 2011] [14:36:50] &lt;mikko&gt;        hmm that might not work well</div>
<div class="line">[Wednesday 05 January 2011] [14:36:55] &lt;mikko&gt;        or you could sleep in the callback</div>
<div class="line">[Wednesday 05 January 2011] [14:37:11] &lt;mikko&gt;        ah now i see</div>
<div class="line">[Wednesday 05 January 2011] [14:37:13] &lt;mikko&gt;        print &#8216;GOT&#8217;, events, &#8216;EVENTS&#8217;</div>
<div class="line">[Wednesday 05 January 2011] [14:37:22] &lt;s0undt3ch&gt;    mikko: I tried sleeping in the callback, 1 message every time</div>
<div class="line">[Wednesday 05 January 2011] [14:37:25] &lt;mikko&gt;        events is a bitmask rather than number of events</div>
<div class="line">[Wednesday 05 January 2011] [14:37:29] &lt;s0undt3ch&gt;    ah</div>
<div class="line">[Wednesday 05 January 2011] [14:38:13] &lt;s0undt3ch&gt;    mikko: so &#8220;if events and zmq.POLLIN: break&#8221; right?</div>
<div class="line">[Wednesday 05 January 2011] [14:38:40] &lt;mikko&gt;        if (events &amp; zmq.POLLIN)</div>
<div class="line">[Wednesday 05 January 2011] [14:38:48] &lt;mikko&gt;        you can also check for if (events &amp; zmq.POLLERR</div>
<div class="line">[Wednesday 05 January 2011] [14:39:36] &lt;s0undt3ch&gt;    thats in case of errors right?</div>
<div class="line">[Wednesday 05 January 2011] [14:40:15] &lt;s0undt3ch&gt;    recv() reads every message? or single message everytime?</div>
<div class="line">[Wednesday 05 January 2011] [14:41:11] &lt;mikko&gt;        single message at a time</div>
<div class="line">[Wednesday 05 January 2011] [14:41:14] &lt;mikko&gt;        thats why you loop</div>
<div class="line">[Wednesday 05 January 2011] [14:41:47] &lt;s0undt3ch&gt;    ok</div>
<div class="line">[Wednesday 05 January 2011] [14:42:08] &lt;s0undt3ch&gt;    so, it&#8217;s working correctly, ie, with the changes you&#8217;ve said</div>
<div class="line">[Wednesday 05 January 2011] [14:45:12] &lt;mikko&gt;        it sounds like so</div>
<div class="line">[Wednesday 05 January 2011] [14:52:15] &lt;s0undt3ch&gt;    mikko: in case of (events &amp; zmq.POLLERR) can we get the error?</div>
<div class="line">[Wednesday 05 January 2011] [14:53:16] &lt;mikko&gt;        im not sure</div>
<div class="line">[Wednesday 05 January 2011] [14:53:39] &lt;mikko&gt;        errno might or might not contain it</div>
<div class="line">[Wednesday 05 January 2011] [14:55:29] &lt;s0undt3ch&gt;    k</div>
<div class="line">[Wednesday 05 January 2011] [15:36:19] &lt;s0undt3ch&gt;    mikko: can it also be done for zmq.POLLOUT? or this does not make that much sense?</div>
<div class="line">[Wednesday 05 January 2011] [15:36:47] &lt;s0undt3ch&gt;    since in order to send a message we have to call .send()</div>
<div class="line">[Wednesday 05 January 2011] [15:36:57] &lt;s0undt3ch&gt;    which would send</div>
<div class="line">[Wednesday 05 January 2011] [15:37:03] &lt;mikko&gt;        yes, it ca be done with pollout as well</div>
<div class="line">[Wednesday 05 January 2011] [15:37:05] &lt;s0undt3ch&gt;    hmm, doesn&#8217;t make that much sense</div>
<div class="line">[Wednesday 05 January 2011] [15:37:12] &lt;mikko&gt;        send could block</div>
<div class="line">[Wednesday 05 January 2011] [15:37:45] &lt;mikko&gt;        so you could either do a non-blocking send and check for the return code (EAGAIN) or poll</div>
<div class="line">[Wednesday 05 January 2011] [15:38:30] &lt;mikko&gt;        it might be easier just to send with ZMQ_NOBLOCK</div>
<div class="line">[Wednesday 05 January 2011] [15:38:34] &lt;mikko&gt;        and check for EINVAL</div>
<div class="line">[Wednesday 05 January 2011] [15:38:42] &lt;mikko&gt;        depending on socket type it might not even block</div>
<div class="line">[Wednesday 05 January 2011] [15:41:25] &lt;s0undt3ch&gt;    so, socket.send(msg, zmq.NOBLOCK) and have gobject listening on the fd for gobject.IO_OUT, then on the callback check for zmq.EINVAL meaning message was completely sent?</div>
<div class="line">[Wednesday 05 January 2011] [15:44:27] &lt;s0undt3ch&gt;    mikko: makes sense?</div>
<div class="line">[Wednesday 05 January 2011] [15:44:41] &lt;mikko&gt;        no</div>
<div class="line">[Wednesday 05 January 2011] [15:44:56] &lt;mikko&gt;        socket.send(msg, zmq.NOBLOCK)</div>
<div class="line">[Wednesday 05 January 2011] [15:45:00] &lt;mikko&gt;        then check errno</div>
<div class="line">[Wednesday 05 January 2011] [15:45:17] &lt;mikko&gt;        if errno == einval, schedule gobject io_out</div>
<div class="line">[Wednesday 05 January 2011] [15:45:26] &lt;mikko&gt;        and send message when it&#8217;s signaled ready</div>
<div class="line">[Wednesday 05 January 2011] [15:45:27] &lt;mikko&gt;        maybe</div>
<div class="line">[Wednesday 05 January 2011] [15:57:56] &lt;s0undt3ch&gt;    mikko: my example -&gt; <a class="reference external" href="http://paste.pocoo.org/show/315517/">http://paste.pocoo.org/show/315517/</a> &lt;- though I don&#8217;t think it makes that much sense</div>
<div class="line">[Wednesday 05 January 2011] [15:58:31] &lt;s0undt3ch&gt;    and I don&#8217;t know how to schedule a gobject io_out</div>
<div class="line">[Wednesday 05 January 2011] [16:01:33] &lt;s0undt3ch&gt;    messages get through, but I don&#8217;t think this is what you were saying</div>
<div class="line">[Wednesday 05 January 2011] [16:05:31] &lt;mikko&gt;        ZMQ_PUB socket wont block</div>
<div class="line">[Wednesday 05 January 2011] [16:05:43] &lt;mikko&gt;        so you dont need to worry about that really</div>
<div class="line">[Wednesday 05 January 2011] [16:06:46] &lt;s0undt3ch&gt;    mikko: REQ/REP will?</div>
<div class="line">[Wednesday 05 January 2011] [16:07:05] &lt;s0undt3ch&gt;    the purpose of this was actually for REQ/REP</div>
<div class="line">[Wednesday 05 January 2011] [16:07:18] &lt;mikko&gt;        some sockets block depending on situation</div>
<div class="line">[Wednesday 05 January 2011] [16:07:20] &lt;s0undt3ch&gt;    PUB/SUB was some existing code I had lying arround</div>
<div class="line">[Wednesday 05 January 2011] [16:07:59] &lt;mikko&gt;        let me see if i can write understandable python</div>
<div class="line">[Wednesday 05 January 2011] [16:08:43] &lt;s0undt3ch&gt;    ah</div>
<div class="line">[Wednesday 05 January 2011] [16:08:54] &lt;s0undt3ch&gt;    making those REQ/REP I&#8217;m getting Operation cannot be accomplished in current state</div>
<div class="line">[Wednesday 05 January 2011] [16:09:22] &lt;s0undt3ch&gt;    mikko: that would be wonderful!</div>
<div class="line">[Wednesday 05 January 2011] [16:09:25] &lt;mikko&gt;        where you have if e.errno == zmq.EINVAL:</div>
<div class="line">[Wednesday 05 January 2011] [16:09:44] &lt;mikko&gt;        if you check for zmq.EAGAIN</div>
<div class="line">[Wednesday 05 January 2011] [16:09:53] &lt;mikko&gt;        EAGAIN means that the operation would have blocked</div>
<div class="line">[Wednesday 05 January 2011] [16:10:01] &lt;mikko&gt;        so if e.errno == zmq.EAGAIN</div>
<div class="line">[Wednesday 05 January 2011] [16:10:10] &lt;mikko&gt;        schedule io watcher there for IO_OUT</div>
<div class="line">[Wednesday 05 January 2011] [16:10:21] &lt;mikko&gt;        it should be called when the socket becomes writable</div>
<div class="line">[Wednesday 05 January 2011] [16:10:33] &lt;mikko&gt;        and in the callback:</div>
<div class="line">[Wednesday 05 January 2011] [16:10:41] &lt;mikko&gt;        if you have sent everything, do not reschedule event</div>
<div class="line">[Wednesday 05 January 2011] [16:10:57] &lt;mikko&gt;        if you get EAGAIN in the callback before sending all messages, reschedule event</div>
<div class="line">[Wednesday 05 January 2011] [16:11:03] &lt;mikko&gt;        do you follow?</div>
<div class="line">[Wednesday 05 January 2011] [16:11:07] &lt;s0undt3ch&gt;    mikko: I think so</div>
<div class="line">[Wednesday 05 January 2011] [16:11:21] &lt;mikko&gt;        let&#8217;s say you need to send out 100 messages</div>
<div class="line">[Wednesday 05 January 2011] [16:11:33] &lt;mikko&gt;        you are happily sending messages but on message 59 you get EAGAIN</div>
<div class="line">[Wednesday 05 January 2011] [16:11:57] &lt;mikko&gt;        which means that the operation would block. so you schedule io_watcher for the outgoing socket</div>
<div class="line">[Wednesday 05 January 2011] [16:12:12] &lt;mikko&gt;        the callback gets called when the socket is ready to receive more message</div>
<div class="line">[Wednesday 05 January 2011] [16:12:13] &lt;mikko&gt;        s</div>
<div class="line">[Wednesday 05 January 2011] [16:12:24] &lt;mikko&gt;        so then you keep on sending where you left</div>
<div class="line">[Wednesday 05 January 2011] [16:12:55] &lt;mikko&gt;        if you hit EAGAIN then return true (that seems to be the way gobject reschedules the event)</div>
<div class="line">[Wednesday 05 January 2011] [16:13:03] &lt;mikko&gt;        if you have sent everything return false</div>
<div class="line">[Wednesday 05 January 2011] [16:18:30] Notice -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Wednesday 05 January 2011] [16:18:30] Notice -NickServ- You are now identified for travlr.</div>
<div class="line">[Wednesday 05 January 2011] [16:24:41] &lt;s0undt3ch&gt;    mikko: as it is now -&gt; <a class="reference external" href="http://paste.pocoo.org/show/315529/">http://paste.pocoo.org/show/315529/</a> &lt;- I&#8217;m getting &#8220;Operation cannot be accomplished in current state&#8221;, errno is 156384763</div>
<div class="line">[Wednesday 05 January 2011] [16:24:55] &lt;s0undt3ch&gt;    ie, no messages are beeing sent as it is</div>
<div class="line">[Wednesday 05 January 2011] [16:31:10] &lt;mikko&gt;        request-reply is strict on the pattern</div>
<div class="line">[Wednesday 05 January 2011] [16:31:26] &lt;mikko&gt;        recv -&gt; send -&gt; recv -&gt; send etc</div>
<div class="line">[Wednesday 05 January 2011] [16:31:48] &lt;s0undt3ch&gt;    ah, the socket hasn&#8217;t received anyting so it can&#8217;t send</div>
<div class="line">[Wednesday 05 January 2011] [16:32:27] &lt;s0undt3ch&gt;    I think for now I won&#8217;t worry about this, right now I&#8217;m worried about async handling on incoming messages</div>
<div class="line">[Wednesday 05 January 2011] [16:51:14] &lt;mikko&gt;        s0undt3ch: you might want to look into XREP/XREQ as well</div>
<div class="line">[Wednesday 05 January 2011] [16:51:31] &lt;s0undt3ch&gt;    mikko: big diferences?</div>
<div class="line">[Wednesday 05 January 2011] [16:51:53] &lt;s0undt3ch&gt;    mikko: I&#8217;m looking at REQ/REP to create a kind of rpc through zmq messaging</div>
<div class="line">[Wednesday 05 January 2011] [16:52:05] &lt;s0undt3ch&gt;    <a href="#id9"><span class="problematic" id="id10">*</span></a>rpc client/server</div>
<div class="line">[Wednesday 05 January 2011] [16:59:56] &lt;mikko&gt;        then maybe rep/req might be in place</div>
<div class="line">[Wednesday 05 January 2011] [17:00:03] &lt;mikko&gt;        are you going to have multiple worker processes?</div>
<div class="line">[Wednesday 05 January 2011] [17:01:20] &lt;s0undt3ch&gt;    mikko: yes, different ones, ie, each worker, the replier, will handle a specific job, the rpc is for them</div>
<div class="line">[Wednesday 05 January 2011] [17:01:32] &lt;s0undt3ch&gt;    mikko: my &#8220;problem&#8221; at hands is</div>
<div class="line">[Wednesday 05 January 2011] [17:02:52] &lt;s0undt3ch&gt;    I&#8217;ll have several processes analysing diferent audio sources through gstreamer. when a problem on that audio source is found, a pub message is sent. However then need to be controllable, hence the rpc(REQ) need for them</div>
<div class="line">[Wednesday 05 January 2011] [17:03:08] &lt;s0undt3ch&gt;    s/then need/they need/</div>
<div class="line">[Wednesday 05 January 2011] [17:03:43] &lt;s0undt3ch&gt;    a client should be able to control a single or all of those gstreamer processes</div>
<div class="line">[Wednesday 05 January 2011] [17:24:47] &lt;s0undt3ch&gt;    mikko: does my needs apply for XREQ/XREP?</div>
<div class="line">[Wednesday 05 January 2011] [17:25:09] &lt;mikko&gt;        probably not</div>
<div class="line">[Wednesday 05 January 2011] [17:25:17] &lt;mikko&gt;        xreq/xrep doesn&#8217;t enforce the pattern</div>
<div class="line">[Wednesday 05 January 2011] [17:25:22] &lt;mikko&gt;        recv/send/recv/send</div>
<div class="line">[Wednesday 05 January 2011] [17:27:30] &lt;s0undt3ch&gt;    ah ok</div>
<div class="line">[Wednesday 05 January 2011] [17:27:54] &lt;s0undt3ch&gt;    mikko: those would be good for my testing needs, but not for the actual project</div>
<div class="line">[Wednesday 05 January 2011] [17:27:56] &lt;s0undt3ch&gt;    Thanks!</div>
<div class="line">[Wednesday 05 January 2011] [18:26:58] &lt;s0undt3ch&gt;    on a rep socket, can we know &#8220;who&#8221; is making the request?</div>
<div class="line">[Thursday 06 January 2011] [01:52:43] &lt;Malinga&gt;       hi all i have a question to be asked</div>
<div class="line">[Thursday 06 January 2011] [01:53:35] &lt;Malinga&gt;       about how to use OpenAMQ or ZeroMQ to deliver market data (quote server)</div>
<div class="line">[Thursday 06 January 2011] [01:53:44] &lt;Malinga&gt;       <a href="#id11"><span class="problematic" id="id12">*</span></a>effectively</div>
<div class="line">[Thursday 06 January 2011] [01:56:00] &lt;Malinga&gt;       hi any one there to help my technical question</div>
<div class="line">[Thursday 06 January 2011] [02:00:54] &lt;sustrik&gt;       what&#8217;s the problem?</div>
<div class="line">[Thursday 06 January 2011] [02:02:48] &lt;Malinga&gt;       We are developing a Quote Server which will be handel the market data and deliver it to the end client</div>
<div class="line">[Thursday 06 January 2011] [02:02:59] &lt;Malinga&gt;       we are think of using a SOA architecture for this</div>
<div class="line">[Thursday 06 January 2011] [02:03:46] &lt;Malinga&gt;       So can u tell me some information how to use OpenAMQ to make this happen</div>
<div class="line">[Thursday 06 January 2011] [02:04:06] &lt;guido_g&gt;       hrhrhr</div>
<div class="line">[Thursday 06 January 2011] [02:04:10] &lt;Malinga&gt;       i used openamq 3 years back in my previous company as a middleware</div>
<div class="line">[Thursday 06 January 2011] [02:04:12] &lt;guido_g&gt;       sorry</div>
<div class="line">[Thursday 06 January 2011] [02:04:37] &lt;sustrik&gt;       openamq or 0mq?</div>
<div class="line">[Thursday 06 January 2011] [02:04:42] &lt;Malinga&gt;       but now i want to use it to deliver market data effectlvely and use this openAMQ as a quote server</div>
<div class="line">[Thursday 06 January 2011] [02:04:52] &lt;Malinga&gt;       any idas ?</div>
<div class="line">[Thursday 06 January 2011] [02:04:52] &lt;guido_g&gt;       you did realize that zeromq is not related to openamq?</div>
<div class="line">[Thursday 06 January 2011] [02:05:09] &lt;Malinga&gt;       if zeroMQ is better approach i can use ithat even</div>
<div class="line">[Thursday 06 January 2011] [02:06:03] &lt;guido_g&gt;       no its not better</div>
<div class="line">[Thursday 06 January 2011] [02:06:10] &lt;guido_g&gt;       its different</div>
<div class="line">[Thursday 06 January 2011] [02:06:20] &lt;Malinga&gt;       any architecture gudes that u can give sustrik ...</div>
<div class="line">[Thursday 06 January 2011] [02:08:21] &lt;Malinga&gt;       so can i use zero MQ for my senario</div>
<div class="line">[Thursday 06 January 2011] [02:08:26] &lt;sustrik&gt;       Malinga: on the quote publisher open a PUB socket</div>
<div class="line">[Thursday 06 January 2011] [02:08:32] &lt;sustrik&gt;       send the quotes to the socket</div>
<div class="line">[Thursday 06 January 2011] [02:08:42] &lt;sustrik&gt;       on clients, open a SUB socket</div>
<div class="line">[Thursday 06 January 2011] [02:08:54] &lt;sustrik&gt;       do your subscriptions</div>
<div class="line">[Thursday 06 January 2011] [02:09:00] &lt;sustrik&gt;       and recv() the messages</div>
<div class="line">[Thursday 06 January 2011] [02:09:02] &lt;sustrik&gt;       that&#8217;s all</div>
<div class="line">[Thursday 06 January 2011] [02:09:04] &lt;Malinga&gt;       listning</div>
<div class="line">[Thursday 06 January 2011] [02:09:39] &lt;Malinga&gt;       this is via openAMQ right ?</div>
<div class="line">[Thursday 06 January 2011] [02:09:48] &lt;sustrik&gt;       no, it&#8217;s 0mq</div>
<div class="line">[Thursday 06 January 2011] [02:09:53] &lt;Malinga&gt;       sorry</div>
<div class="line">[Thursday 06 January 2011] [02:09:54] &lt;Malinga&gt;       ok</div>
<div class="line">[Thursday 06 January 2011] [02:10:16] &lt;Malinga&gt;       so u think we can use the 0MQ to our market data quote server ?</div>
<div class="line">[Thursday 06 January 2011] [02:10:23] &lt;sustrik&gt;       yes</div>
<div class="line">[Thursday 06 January 2011] [02:10:27] &lt;Malinga&gt;       cool</div>
<div class="line">[Thursday 06 January 2011] [02:10:39] &lt;sustrik&gt;       have a look at 0mq guide</div>
<div class="line">[Thursday 06 January 2011] [02:10:45] &lt;Malinga&gt;       do u have some high level architecture on this is possible</div>
<div class="line">[Thursday 06 January 2011] [02:10:58] &lt;sustrik&gt;       there&#8217;s an example of &#8211; i think &#8211; distributing weather forecase</div>
<div class="line">[Thursday 06 January 2011] [02:11:03] &lt;sustrik&gt;       forecast</div>
<div class="line">[Thursday 06 January 2011] [02:11:12] &lt;Malinga&gt;       hmmm</div>
<div class="line">[Thursday 06 January 2011] [02:11:21] &lt;sustrik&gt;       it&#8217;s basically the same as you need for stock quotes</div>
<div class="line">[Thursday 06 January 2011] [02:11:52] &lt;Malinga&gt;       so like in openAMQ do we have to have per symbol queues sorry i dont have much ida about 0MQ</div>
<div class="line">[Thursday 06 January 2011] [02:12:39] &lt;sustrik&gt;       what do you need it for?</div>
<div class="line">[Thursday 06 January 2011] [02:12:55] &lt;sustrik&gt;       fair balancing between individual symbols?</div>
<div class="line">[Thursday 06 January 2011] [02:14:16] &lt;Malinga&gt;       u mean per symbol queues ?</div>
<div class="line">[Thursday 06 January 2011] [02:16:33] &lt;Malinga&gt;       what is the better open 0MQ or OpenAMQ for my quote server</div>
<div class="line">[Thursday 06 January 2011] [02:17:07] &lt;sustrik&gt;       openamq is a legacy technology</div>
<div class="line">[Thursday 06 January 2011] [02:17:15] &lt;sustrik&gt;       so i would recommend 0mq</div>
<div class="line">[Thursday 06 January 2011] [02:17:22] &lt;sustrik&gt;       it&#8217;s also much easier to use</div>
<div class="line">[Thursday 06 January 2011] [02:17:31] &lt;sustrik&gt;       and you don&#8217;t need the broker</div>
<div class="line">[Thursday 06 January 2011] [02:17:39] &lt;sustrik&gt;       which makes administration easier</div>
<div class="line">[Thursday 06 January 2011] [02:17:47] &lt;Malinga&gt;       cool</div>
<div class="line">[Thursday 06 January 2011] [02:18:14] &lt;Malinga&gt;       but our entire application (end clients) is in Java and hope to write back end also in java</div>
<div class="line">[Thursday 06 January 2011] [02:18:21] &lt;sustrik&gt;       sure</div>
<div class="line">[Thursday 06 January 2011] [02:18:29] &lt;sustrik&gt;       check java 0mq bindings</div>
<div class="line">[Thursday 06 January 2011] [02:18:35] &lt;Malinga&gt;       u have java wrappers right ?</div>
<div class="line">[Thursday 06 January 2011] [02:18:38] &lt;sustrik&gt;       yes</div>
<div class="line">[Thursday 06 January 2011] [02:19:06] &lt;Malinga&gt;       realiable as C++ ? i mean java wrappers ?</div>
<div class="line">[Thursday 06 January 2011] [02:19:19] &lt;sustrik&gt;       it&#8217;s wrapper on top of C</div>
<div class="line">[Thursday 06 January 2011] [02:19:27] &lt;sustrik&gt;       so it&#8217;s the same thing</div>
<div class="line">[Thursday 06 January 2011] [02:19:31] &lt;Malinga&gt;       JNI /</div>
<div class="line">[Thursday 06 January 2011] [02:19:34] &lt;Malinga&gt;       JNI ?</div>
<div class="line">[Thursday 06 January 2011] [02:19:34] &lt;sustrik&gt;       yes</div>
<div class="line">[Thursday 06 January 2011] [02:19:37] &lt;Malinga&gt;       hmmm</div>
<div class="line">[Thursday 06 January 2011] [02:19:39] &lt;Malinga&gt;       ok</div>
<div class="line">[Thursday 06 January 2011] [02:19:44] &lt;Malinga&gt;       let me read 0MQ</div>
<div class="line">[Thursday 06 January 2011] [02:19:53] &lt;Malinga&gt;       and come back to u in a few days</div>
<div class="line">[Thursday 06 January 2011] [02:20:12] &lt;sustrik&gt;       you are welcome</div>
<div class="line">[Thursday 06 January 2011] [02:20:52] &lt;Malinga&gt;       anyway thanks so much for all those informatin, i still can remember u helped me allot (u may not rememebr now) few years back also</div>
<div class="line">[Thursday 06 January 2011] [02:21:06] &lt;Malinga&gt;       when im doing another system with openAMQ</div>
<div class="line">[Thursday 06 January 2011] [02:21:11] &lt;Malinga&gt;       it was a gr8 sucess</div>
<div class="line">[Thursday 06 January 2011] [02:21:14] &lt;Malinga&gt;       thanks</div>
<div class="line">[Thursday 06 January 2011] [02:21:18] &lt;Malinga&gt;       and bye for now</div>
<div class="line">[Thursday 06 January 2011] [02:21:40] &lt;sustrik&gt;       i remember your nick :)</div>
<div class="line">[Thursday 06 January 2011] [02:21:42] &lt;sustrik&gt;       see you</div>
<div class="line">[Thursday 06 January 2011] [02:42:31] &lt;CIA-21&gt;        zeromq2: 03Min Ragan-Kelley 07master * r08cd2ce 10/ (AUTHORS include/zmq.h include/zmq_utils.h):</div>
<div class="line">[Thursday 06 January 2011] [02:42:31] &lt;CIA-21&gt;        zeromq2: resolve &#8220;function declaration isn&#8217;t a prototype&#8221;</div>
<div class="line">[Thursday 06 January 2011] [02:42:31] &lt;CIA-21&gt;        zeromq2: change two declarations in headers to form f(void); instead of f();</div>
<div class="line">[Thursday 06 January 2011] [02:42:31] &lt;CIA-21&gt;        zeromq2: which eliminates the warnings when compiling against zeromq</div>
<div class="line">[Thursday 06 January 2011] [02:42:31] &lt;CIA-21&gt;        zeromq2: Signed-off-by: MinRK &lt;<a class="reference external" href="mailto:benjaminrk&#37;&#52;&#48;gmail&#46;com">benjaminrk<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/fIJTkE">http://bit.ly/fIJTkE</a></div>
<div class="line">[Thursday 06 January 2011] [04:14:13] &lt;mikko&gt; good morning</div>
<div class="line">[Thursday 06 January 2011] [04:29:44] &lt;sustrik&gt;       morning</div>
<div class="line">[Thursday 06 January 2011] [05:13:38] &lt;jugg&gt;  After calling zmq_send(..., ZMQ_SNDMORE), is there a way to abort the transfer without sending the final message part?  eg. If an application error occurs disallowing sending the final part(s), is closing the socket the only way to recover?</div>
<div class="line">[Thursday 06 January 2011] [05:16:03] &lt;jugg&gt;  A reset socket option would be nice...</div>
<div class="line">[Thursday 06 January 2011] [05:18:24] &lt;mikko&gt; you mean reset as in send empty message part or a part flagged as &#8220;reset&#8221; ?</div>
<div class="line">[Thursday 06 January 2011] [05:32:55] &lt;jugg&gt;  I mean, abort the sending of the message parts (don&#8217;t send them over the wire).  Which they aren&#8217;t at this point.   However, currently either you have to send another message without sndmore set, thus the entire bad message is put on the wire, or you have to close the socket.</div>
<div class="line">[Thursday 06 January 2011] [05:35:38] &lt;sustrik&gt;       jugg: what are you trying to achieve?</div>
<div class="line">[Thursday 06 January 2011] [05:35:56] &lt;sustrik&gt;       how come the message is &#8220;bad&#8221;?</div>
<div class="line">[Thursday 06 January 2011] [05:36:26] &lt;jugg&gt;  the message is incomplete... the application code generating the message parts can not finish.</div>
<div class="line">[Thursday 06 January 2011] [05:37:23] &lt;jugg&gt;  Of course, the application code could wait until the entire message is built, but that isn&#8217;t always interesting.</div>
<div class="line">[Thursday 06 January 2011] [05:38:12] &lt;sustrik&gt;       so what happens?</div>
<div class="line">[Thursday 06 January 2011] [05:38:17] &lt;sustrik&gt;       something like timeout?</div>
<div class="line">[Thursday 06 January 2011] [05:38:50] &lt;jugg&gt;  the application would like to go on to start building another message, but it can not send a new message until the old one completes.  So it either has to allow a bad message to be sent, or close the socket.</div>
<div class="line">[Thursday 06 January 2011] [05:39:20] &lt;sustrik&gt;       i mean, how come the message is bad?</div>
<div class="line">[Thursday 06 January 2011] [05:39:26] &lt;jugg&gt;  it is incomplete</div>
<div class="line">[Thursday 06 January 2011] [05:39:37] &lt;sustrik&gt;       why are you sending it then?</div>
<div class="line">[Thursday 06 January 2011] [05:40:02] &lt;jugg&gt;  because it is sent as it is built.</div>
<div class="line">[Thursday 06 January 2011] [05:40:09] &lt;sustrik&gt;       hm</div>
<div class="line">[Thursday 06 January 2011] [05:40:35] &lt;sustrik&gt;       that&#8217;s not what multi-part messages are for</div>
<div class="line">[Thursday 06 January 2011] [05:40:36] &lt;jugg&gt;  obviously a solution is to wait to send until it is fully built, but...</div>
<div class="line">[Thursday 06 January 2011] [05:40:56] &lt;sustrik&gt;       the goal is not to hold the list of message parts on behalf of the user</div>
<div class="line">[Thursday 06 January 2011] [05:41:05] &lt;sustrik&gt;       it&#8217;s more like gather/scatter array</div>
<div class="line">[Thursday 06 January 2011] [05:41:23] &lt;sustrik&gt;       allowing for zero-copy of data that is not placed in contiguous memory</div>
<div class="line">[Thursday 06 January 2011] [05:41:58] &lt;sustrik&gt;       i would suggest holding the message parts in your app</div>
<div class="line">[Thursday 06 January 2011] [05:41:59] &lt;jugg&gt;  yes, I&#8217;m aware of what it is designed for... But that doesn&#8217;t mean I won&#8217;t try to extend its use case...</div>
<div class="line">[Thursday 06 January 2011] [05:42:06] &lt;sustrik&gt;       and sending only when the message is complete</div>
<div class="line">[Thursday 06 January 2011] [05:42:17] &lt;sustrik&gt;       sure, go on :)</div>
<div class="line">[Thursday 06 January 2011] [05:43:16] &lt;jugg&gt;  a socket reset option would help.  - for other reasons as well, but I know I&#8217;ll get more flac for those.. :)</div>
<div class="line">[Thursday 06 January 2011] [05:43:52] &lt;jugg&gt;  btw, I&#8217;ll probably hit you up for erlzmq access tomorrow... it seems to be working well.</div>
<div class="line">[Thursday 06 January 2011] [05:44:08] &lt;jugg&gt;  Still a few more test cases to check.</div>
<div class="line">[Thursday 06 January 2011] [05:44:24] &lt;sustrik&gt;       well, my concert is that the option would bind the API to particular implementation</div>
<div class="line">[Thursday 06 January 2011] [05:44:28] &lt;sustrik&gt;       ie.</div>
<div class="line">[Thursday 06 January 2011] [05:45:03] &lt;sustrik&gt;       currently the code can be rewritten/optimised in such a way that message parts are sent over the wire</div>
<div class="line">[Thursday 06 January 2011] [05:45:11] &lt;sustrik&gt;       even if the message is not fully sent</div>
<div class="line">[Thursday 06 January 2011] [05:45:18] &lt;sustrik&gt;       and cached on the receiver side</div>
<div class="line">[Thursday 06 January 2011] [05:45:46] &lt;sustrik&gt;       if the connection breaks, the cached message parts would be discarded</div>
<div class="line">[Thursday 06 January 2011] [05:46:07] &lt;jugg&gt;  you&#8217;d have to send an abort message then, so the receiver could discard the incomplete parts.</div>
<div class="line">[Thursday 06 January 2011] [05:46:11] &lt;sustrik&gt;       the rollback option would then require to extent the wire protocol</div>
<div class="line">[Thursday 06 January 2011] [05:46:21] &lt;sustrik&gt;       exactly</div>
<div class="line">[Thursday 06 January 2011] [05:46:31] &lt;jugg&gt;  I see</div>
<div class="line">[Thursday 06 January 2011] [05:46:43] &lt;sustrik&gt;       the interactions are quite complex</div>
<div class="line">[Thursday 06 January 2011] [05:47:11] &lt;sustrik&gt;       now, doing that just to not force user to keep a simple list of message parts seems an overkill</div>
<div class="line">[Thursday 06 January 2011] [05:48:04] &lt;sustrik&gt;       in more generic terms, 0mq was designed to implement the minimal possible subset of features</div>
<div class="line">[Thursday 06 January 2011] [05:48:20] &lt;sustrik&gt;       everytihng that can be build on top was deliberately eliminated</div>
<div class="line">[Thursday 06 January 2011] [05:48:47] &lt;sustrik&gt;       so, if you want this kind of thing, just go on, implement a wrapper on top on 0mq</div>
<div class="line">[Thursday 06 January 2011] [05:49:22] &lt;sustrik&gt;       or maybe a whole stack layer that would provide all kind of additional functionality</div>
<div class="line">[Thursday 06 January 2011] [05:49:24] &lt;jugg&gt;  Well, that view point simplifies a problem I was having with the erlang bindings... :)</div>
<div class="line">[Thursday 06 January 2011] [05:53:38] &lt;jugg&gt;  I have to run.  Thanks for the explanation.  Combined with the discussion we had some time ago where I wanted zmq to send each part over the wire as it was received, I might be starting to &#8216;get&#8217; it :)</div>
<div class="line">[Thursday 06 January 2011] [05:54:14] &lt;sustrik&gt;       it&#8217;s simply avoinding the feature creep</div>
<div class="line">[Thursday 06 January 2011] [05:54:26] &lt;sustrik&gt;       see you later</div>
<div class="line">[Thursday 06 January 2011] [06:38:52] &lt;parik&gt; Hi</div>
<div class="line">[Thursday 06 January 2011] [06:40:03] &lt;sustrik&gt;       hi</div>
<div class="line">[Thursday 06 January 2011] [06:40:37] &lt;parik&gt; I was going through 0MQ src and found that it is based on PGM protocol.So i studied first PGM protocol and it was intersting need to know about multicasting</div>
<div class="line">[Thursday 06 January 2011] [06:41:43] &lt;parik&gt; Like how no acknowledgment for successful delievery and negative acks for data loss and duplication of packet by the router</div>
<div class="line">[Thursday 06 January 2011] [06:42:43] &lt;parik&gt; and hence reduce Server Load  and Network Load</div>
<div class="line">[Thursday 06 January 2011] [06:43:17] &lt;parik&gt; Do i need to download open PGM to make 0MQ work</div>
<div class="line">[Thursday 06 January 2011] [06:44:26] &lt;parik&gt; I am not getting the defintion for pgm_init..I looked around in PGM also</div>
<div class="line">[Thursday 06 January 2011] [06:44:50] &lt;parik&gt; Hi Sustrik are you there</div>
<div class="line">[Thursday 06 January 2011] [06:44:58] &lt;sustrik&gt;       parik: 0mq is multi-protocol</div>
<div class="line">[Thursday 06 January 2011] [06:45:17] &lt;sustrik&gt;       so you have tcp as well as pgm</div>
<div class="line">[Thursday 06 January 2011] [06:45:31] &lt;sustrik&gt;       if you don&#8217;t need mutlicast you can just ignore pgm</div>
<div class="line">[Thursday 06 January 2011] [06:45:56] &lt;sustrik&gt;       if you need it, openpgm is packaged with 0mq (see foreign/openpgm subdir)</div>
<div class="line">[Thursday 06 January 2011] [06:46:21] &lt;sustrik&gt;       to build 0mq <em>with</em> pgm you need to add an option to confiuger:</div>
<div class="line">[Thursday 06 January 2011] [06:46:23] &lt;parik&gt; Thanks Sustrik.</div>
<div class="line">[Thursday 06 January 2011] [06:46:26] &lt;sustrik&gt;       ./configure &#8211;with-pgm</div>
<div class="line">[Thursday 06 January 2011] [06:46:44] &lt;mikko&gt; does openpgm maintain ABI?</div>
<div class="line">[Thursday 06 January 2011] [06:46:49] &lt;parik&gt; ok.Thanks alot.</div>
<div class="line">[Thursday 06 January 2011] [06:46:57] &lt;parik&gt; What is ABI</div>
<div class="line">[Thursday 06 January 2011] [06:46:58] &lt;mikko&gt; i&#8217;m wondering if packaging openpgm with 0mq makes sense in long-term</div>
<div class="line">[Thursday 06 January 2011] [06:47:14] &lt;mikko&gt; application binary interface</div>
<div class="line">[Thursday 06 January 2011] [06:47:17] &lt;sustrik&gt;       it would be better to have an separate openpgm package</div>
<div class="line">[Thursday 06 January 2011] [06:47:30] &lt;sustrik&gt;       but so far it doesn&#8217;t look like that</div>
<div class="line">[Thursday 06 January 2011] [06:47:45] &lt;parik&gt; Thanks Mikko</div>
<div class="line">[Thursday 06 January 2011] [06:47:55] &lt;mikko&gt; the main problem with current implementation being hard to upgrade and added maintenance for 0mq project</div>
<div class="line">[Thursday 06 January 2011] [06:48:00] &lt;sustrik&gt;       the actual fact, afaiu, is that most people are using openpg via 0mq</div>
<div class="line">[Thursday 06 January 2011] [06:48:29] &lt;sustrik&gt;       mikko: right</div>
<div class="line">[Thursday 06 January 2011] [06:48:37] &lt;sustrik&gt;       it&#8217;s not obvious how to solve it though</div>
<div class="line">[Thursday 06 January 2011] [06:48:48] &lt;mikko&gt; so there are situations where openpgm is supported on certain platform + compiler combination but cant be compiled with &#8211;with-pgm</div>
<div class="line">[Thursday 06 January 2011] [06:49:01] &lt;parik&gt; You mean to say it&#8217;s better to use open pgm pakage then that comes with OMQ</div>
<div class="line">[Thursday 06 January 2011] [06:49:39] &lt;sustrik&gt;       i am aware of that</div>
<div class="line">[Thursday 06 January 2011] [06:50:03] &lt;sustrik&gt;       but on the other hand requiring users to install scons and build openpgm by hand</div>
<div class="line">[Thursday 06 January 2011] [06:50:06] &lt;mikko&gt; there are two ways to change it: a) decouple pgm completely from 0mq and have users install it separately b) build openpgm using their scons builds and just link against artifacts</div>
<div class="line">[Thursday 06 January 2011] [06:50:11] &lt;sustrik&gt;       manage the dependencies</div>
<div class="line">[Thursday 06 January 2011] [06:50:12] &lt;sustrik&gt;       etc.</div>
<div class="line">[Thursday 06 January 2011] [06:50:13] &lt;mikko&gt; the latter adds dependency to scons</div>
<div class="line">[Thursday 06 January 2011] [06:50:21] &lt;sustrik&gt;       could be actually a barrier to adoption</div>
<div class="line">[Thursday 06 January 2011] [06:50:23] &lt;mikko&gt; as does the former</div>
<div class="line">[Thursday 06 January 2011] [06:50:25] &lt;parik&gt; So pgm that is bundled with 0MQ will be potable to all OS and architectures</div>
<div class="line">[Thursday 06 January 2011] [06:50:43] &lt;mikko&gt; sustrik: in the long run 99% of the users will get 0mq via their distro</div>
<div class="line">[Thursday 06 January 2011] [06:50:52] &lt;mikko&gt; well, maybe not that large amount but high percentage</div>
<div class="line">[Thursday 06 January 2011] [06:50:56] &lt;sustrik&gt;       yes</div>
<div class="line">[Thursday 06 January 2011] [06:51:13] &lt;sustrik&gt;       so the goal is to have openpgm packages for all distros and 0mq packages for all distros</div>
<div class="line">[Thursday 06 January 2011] [06:51:24] &lt;sustrik&gt;       we are quite far away from that afaics</div>
<div class="line">[Thursday 06 January 2011] [06:51:52] &lt;sustrik&gt;       the current system is the next best thing imo</div>
<div class="line">[Thursday 06 January 2011] [06:52:09] &lt;mikko&gt; im not sure if dependency to scons is a large issue</div>
<div class="line">[Thursday 06 January 2011] [06:52:17] &lt;mikko&gt; i see python as larger issue but that is already a dependency</div>
<div class="line">[Thursday 06 January 2011] [06:52:28] &lt;sustrik&gt;       huh</div>
<div class="line">[Thursday 06 January 2011] [06:52:29] &lt;sustrik&gt;       is it?</div>
<div class="line">[Thursday 06 January 2011] [06:52:31] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 06 January 2011] [06:52:35] &lt;sustrik&gt;       where?</div>
<div class="line">[Thursday 06 January 2011] [06:52:49] &lt;sustrik&gt;       openpgm?</div>
<div class="line">[Thursday 06 January 2011] [06:52:53] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 06 January 2011] [06:52:59] &lt;sustrik&gt;       oh my</div>
<div class="line">[Thursday 06 January 2011] [06:53:04] &lt;mikko&gt; <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/configure.in#L318">https://github.com/zeromq/zeromq2/blob/master/configure.in#L318</a></div>
<div class="line">[Thursday 06 January 2011] [06:53:07] &lt;sustrik&gt;       any idea of what is it used for?</div>
<div class="line">[Thursday 06 January 2011] [06:53:32] &lt;mikko&gt; i don&#8217;t but i can easily check</div>
<div class="line">[Thursday 06 January 2011] [06:53:56] &lt;mikko&gt; foreign/openpgm/&#64;pgm_basename&#64;/openpgm/pgm/version.c: ../foreign/openpgm/&#64;pgm_basename&#64;/openpgm/pgm/version_generator.py</div>
<div class="line">[Thursday 06 January 2011] [06:53:59] &lt;mikko&gt; python ../foreign/openpgm/&#64;pgm_basename&#64;/openpgm/pgm/version_generator.py &gt; $&#64;</div>
<div class="line">[Thursday 06 January 2011] [06:54:10] &lt;sustrik&gt;       hm</div>
<div class="line">[Thursday 06 January 2011] [06:54:12] &lt;sustrik&gt;       let me see</div>
<div class="line">[Thursday 06 January 2011] [06:54:12] &lt;mikko&gt; <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/src/Makefile.am">https://github.com/zeromq/zeromq2/blob/master/src/Makefile.am</a></div>
<div class="line">[Thursday 06 January 2011] [06:54:25] &lt;mikko&gt; github doesn&#8217;t show lines so i can&#8217;t link you directly</div>
<div class="line">[Thursday 06 January 2011] [06:54:29] &lt;mikko&gt; but should be easy to find</div>
<div class="line">[Thursday 06 January 2011] [06:56:10] &lt;sustrik&gt;       the script generates the version name</div>
<div class="line">[Thursday 06 January 2011] [06:56:47] &lt;sustrik&gt;       possibly we can replace it by a hardcoded one</div>
<div class="line">[Thursday 06 January 2011] [06:56:57] &lt;sustrik&gt;       and thus drop the python dependency</div>
<div class="line">[Thursday 06 January 2011] [06:57:59] &lt;mikko&gt; but then again, there hasn&#8217;t been complaints about python dependency</div>
<div class="line">[Thursday 06 January 2011] [06:58:37] &lt;sustrik&gt;       the problem imo is that the build comes very early on in adoption process</div>
<div class="line">[Thursday 06 January 2011] [06:59:06] &lt;sustrik&gt;       so, say if you find a bug in 0mq, you are already using it</div>
<div class="line">[Thursday 06 January 2011] [06:59:12] &lt;sustrik&gt;       so it make sense to report the bug</div>
<div class="line">[Thursday 06 January 2011] [06:59:15] &lt;sustrik&gt;       or even fix it</div>
<div class="line">[Thursday 06 January 2011] [06:59:31] &lt;sustrik&gt;       however, if you are building it</div>
<div class="line">[Thursday 06 January 2011] [06:59:45] &lt;sustrik&gt;       it means you are using 0mq for 5 mins at the moment</div>
<div class="line">[Thursday 06 January 2011] [07:00:11] &lt;sustrik&gt;       if there&#8217;s a problem, the simple solution is to just let it be</div>
<div class="line">[Thursday 06 January 2011] [07:00:16] &lt;sustrik&gt;       and use something else</div>
<div class="line">[Thursday 06 January 2011] [07:00:48] &lt;mikko&gt; hmm</div>
<div class="line">[Thursday 06 January 2011] [07:00:53] &lt;mikko&gt; i agree and disagree</div>
<div class="line">[Thursday 06 January 2011] [07:00:59]          * sustrik listens</div>
<div class="line">[Thursday 06 January 2011] [07:01:09] &lt;mikko&gt; i agree that build issues will throw off people</div>
<div class="line">[Thursday 06 January 2011] [07:01:30] &lt;mikko&gt; i disagree that clear dependency will throw off people, especially when it&#8217;s build-time only</div>
<div class="line">[Thursday 06 January 2011] [07:01:45] &lt;mikko&gt; we require autoconf 2.61 as well which is not available everywhere</div>
<div class="line">[Thursday 06 January 2011] [07:02:09] &lt;sustrik&gt;       ack</div>
<div class="line">[Thursday 06 January 2011] [07:02:11] &lt;mikko&gt; brb, fetching lunch</div>
<div class="line">[Thursday 06 January 2011] [07:02:21] &lt;sustrik&gt;       otoh, autoconf is a standard package</div>
<div class="line">[Thursday 06 January 2011] [07:02:40] &lt;sustrik&gt;       openpgm is not yet a package</div>
<div class="line">[Thursday 06 January 2011] [07:02:46] &lt;sustrik&gt;       you have to build it by hand</div>
<div class="line">[Thursday 06 January 2011] [07:02:47] &lt;sustrik&gt;       etc.</div>
<div class="line">[Thursday 06 January 2011] [07:02:58] &lt;sustrik&gt;       bon appettit</div>
<div class="line">[Thursday 06 January 2011] [07:13:47] &lt;parik&gt; Sustrik.Thanks alot.Yes I got pgm package inside foreign subdir.I am going to do code walkthrough before i take up and understands 0MQ</div>
<div class="line">[Thursday 06 January 2011] [07:13:55] &lt;parik&gt; Thanks alot Sustrik once again</div>
<div class="line">[Thursday 06 January 2011] [07:14:01] &lt;parik&gt; Thanks mikko</div>
<div class="line">[Thursday 06 January 2011] [07:14:45] &lt;sustrik&gt;       :)</div>
<div class="line">[Thursday 06 January 2011] [07:15:48] &lt;parik&gt; Do I am going in right direction.I always wnat to know as much as possible so as this learning will help me somewhere</div>
<div class="line">[Thursday 06 January 2011] [07:18:16] &lt;sustrik&gt;       parik: have you seen the 0mq guide?</div>
<div class="line">[Thursday 06 January 2011] [07:18:26] &lt;sustrik&gt;       it&#8217;s worth of reading for the starters</div>
<div class="line">[Thursday 06 January 2011] [07:18:26] &lt;parik&gt; Yes ..</div>
<div class="line">[Thursday 06 January 2011] [07:19:27] &lt;parik&gt; Thanks Sustrik.Actually I have not yet gone through it completely</div>
<div class="line">[Thursday 06 January 2011] [07:20:12] &lt;sustrik&gt;       ch1 &amp; ch2 are the most important</div>
<div class="line">[Thursday 06 January 2011] [07:20:17] &lt;sustrik&gt;       to grasp the concept</div>
<div class="line">[Thursday 06 January 2011] [07:20:29] &lt;parik&gt; When I come across 0MQ is based on PGM My entire focus goes to understand PGM first as I was not aware fo it earlier</div>
<div class="line">[Thursday 06 January 2011] [07:21:04] &lt;parik&gt; I will definitly go through ch1 and ch2</div>
<div class="line">[Thursday 06 January 2011] [07:21:37] &lt;sustrik&gt;       parik: be careful with pgm</div>
<div class="line">[Thursday 06 January 2011] [07:21:42] &lt;parik&gt; Now i understands PGM to certain extent to start with</div>
<div class="line">[Thursday 06 January 2011] [07:22:03] &lt;sustrik&gt;       mutlicast is only useful in special circumstances</div>
<div class="line">[Thursday 06 January 2011] [07:22:05] &lt;parik&gt; You mean to say shall i not concentrate much on this</div>
<div class="line">[Thursday 06 January 2011] [07:22:14] &lt;parik&gt; ok...</div>
<div class="line">[Thursday 06 January 2011] [07:22:15] &lt;sustrik&gt;       in most cases tcp makes more sense</div>
<div class="line">[Thursday 06 January 2011] [07:22:35] &lt;sustrik&gt;       pgm =very high volume pub/sub on LANs</div>
<div class="line">[Thursday 06 January 2011] [07:22:49] &lt;sustrik&gt;       it needs quite a lot of administration</div>
<div class="line">[Thursday 06 January 2011] [07:22:50] &lt;parik&gt; But does not three way shaking makes it more congested in TCP</div>
<div class="line">[Thursday 06 January 2011] [07:22:59] &lt;parik&gt; ok..</div>
<div class="line">[Thursday 06 January 2011] [07:23:04] &lt;sustrik&gt;       it requires good hardware etc.</div>
<div class="line">[Thursday 06 January 2011] [07:23:18] &lt;parik&gt; You mean to say pgm compatible routers</div>
<div class="line">[Thursday 06 January 2011] [07:23:40] &lt;parik&gt; upgraded hardware for performance</div>
<div class="line">[Thursday 06 January 2011] [07:23:48] &lt;sustrik&gt;       in most cases you don&#8217;t event want multicast traffic pass the router</div>
<div class="line">[Thursday 06 January 2011] [07:23:58] &lt;parik&gt; ok</div>
<div class="line">[Thursday 06 January 2011] [07:23:58] &lt;sustrik&gt;       rather i meant switches with IGMP snooping</div>
<div class="line">[Thursday 06 January 2011] [07:24:11] &lt;Steve-o&gt;       pgm routers are v. expensive</div>
<div class="line">[Thursday 06 January 2011] [07:24:26] &lt;Steve-o&gt;       switches are pretty easy, standard procurves work well</div>
<div class="line">[Thursday 06 January 2011] [07:24:33] &lt;parik&gt; ok..So that&#8217;s an expensive one</div>
<div class="line">[Thursday 06 January 2011] [07:25:33] &lt;Steve-o&gt;       well, v.expensive for gigabit capacity, cisco support it on almost their entire product range, expensive = US$10,000</div>
<div class="line">[Thursday 06 January 2011] [07:26:01] &lt;parik&gt; oh...That&#8217;s really expensive...</div>
<div class="line">[Thursday 06 January 2011] [07:27:09] &lt;parik&gt; So then i will start with TCP.But no ways going through PGM gives me some insight of what is it and how does it work</div>
<div class="line">[Thursday 06 January 2011] [07:27:29] &lt;parik&gt; I will start with TCP</div>
<div class="line">[Thursday 06 January 2011] [07:27:37] &lt;Steve-o&gt;       100mb is around $5,000 the closest I saw last check, slower speeds all the way down to $250 for DSL routers, etc.</div>
<div class="line">[Thursday 06 January 2011] [07:28:01] &lt;Steve-o&gt;       consider PGM an administrative option rather than anything particular technical for development</div>
<div class="line">[Thursday 06 January 2011] [07:28:46] &lt;Steve-o&gt;       that&#8217;s how zeromq has been developed, choose a ZMQ_PUB socket and run it to the ground with TCP until you really need scaling</div>
<div class="line">[Thursday 06 January 2011] [07:28:51] &lt;sustrik&gt;       right, you can start with tcp and switch to pgm when needed</div>
<div class="line">[Thursday 06 January 2011] [07:29:22] &lt;Steve-o&gt;       consider TCP sockets are pretty much accelerated everywhere and PGM isn&#8217;t anywhere</div>
<div class="line">[Thursday 06 January 2011] [07:29:29] &lt;parik&gt; Thanks for guidance and making me to go in right direction</div>
<div class="line">[Thursday 06 January 2011] [07:29:40] &lt;parik&gt; Yes I do agree</div>
<div class="line">[Thursday 06 January 2011] [07:30:04] &lt;Steve-o&gt;       but when you need it, it&#8217;s awesome :D</div>
<div class="line">[Thursday 06 January 2011] [07:30:25] &lt;parik&gt; I am a novice but got some useful tips from Sustrik and Steve</div>
<div class="line">[Thursday 06 January 2011] [07:30:33] &lt;parik&gt; :-)</div>
<div class="line">[Thursday 06 January 2011] [07:33:44] &lt;parik&gt; Just one thing I always want to work and write some protcols, creating some utility but i always wonder how can I start with</div>
<div class="line">[Thursday 06 January 2011] [07:35:45] &lt;Steve-o&gt;       implementing your own network protcol or are we talking above zeromq?</div>
<div class="line">[Thursday 06 January 2011] [07:40:04] &lt;parik&gt; I mean to say something I can contribute to and involved myself as one of the developer</div>
<div class="line">[Thursday 06 January 2011] [07:41:00] &lt;Steve-o&gt;       well there is plenty of scope with zeromq</div>
<div class="line">[Thursday 06 January 2011] [07:41:58] &lt;Steve-o&gt;       a lot can be made on top, e.g. last value cache, certified delivery, transactional delivery, virtual circuits, http tunneling, encryption, authentication, proxying, etc</div>
<div class="line">[Thursday 06 January 2011] [07:43:09] &lt;parik&gt; Great..Since I am novice and don&#8217;t know How I can also be felt great of doing/contributing something..Just I want to know How can I contribute...Need some guidance on this front</div>
<div class="line">[Thursday 06 January 2011] [07:44:53] &lt;Steve-o&gt;       well it&#8217;s usually easiest if you have a target architecture to develop for,</div>
<div class="line">[Thursday 06 January 2011] [07:45:22] &lt;Steve-o&gt;       for example a last value cache could be simply integrating memcached from TCP/UDP to zeromq sockets</div>
<div class="line">[Thursday 06 January 2011] [07:45:22] &lt;keffo&gt; What&#8217;s wrong with abstract logic? =)</div>
<div class="line">[Thursday 06 January 2011] [07:47:16] &lt;parik&gt; Steve I am really sorry ..I didnot get it</div>
<div class="line">[Thursday 06 January 2011] [07:49:16] &lt;Steve-o&gt;       if you have a scenario to deploy something its easier than randomly creating something</div>
<div class="line">[Thursday 06 January 2011] [07:49:31] &lt;Steve-o&gt;       unless you are into computer science theory I guess</div>
<div class="line">[Thursday 06 January 2011] [07:49:39] &lt;parik&gt; oh..</div>
<div class="line">[Thursday 06 January 2011] [07:50:13] &lt;parik&gt; Yeah I am in Comuter Science</div>
<div class="line">[Thursday 06 January 2011] [07:50:59] &lt;Steve-o&gt;       there is one developer integrating zeromq with websockets for their app, that&#8217;s pretty neat</div>
<div class="line">[Thursday 06 January 2011] [07:51:44] &lt;parik&gt; ok..</div>
<div class="line">[Thursday 06 January 2011] [07:52:36] &lt;Steve-o&gt;       you can also pickup ideas from here:  <a class="reference external" href="http://www.zeromq.org/docs:labs">http://www.zeromq.org/docs:labs</a></div>
<div class="line">[Thursday 06 January 2011] [07:53:56] &lt;parik&gt; Thanks alot Steve..I think this will really help.</div>
<div class="line">[Thursday 06 January 2011] [07:55:12] &lt;parik&gt; Thanks Steve You have given me a starting point to start with..I</div>
<div class="line">[Thursday 06 January 2011] [07:55:23] &lt;parik&gt; am really grateful to you</div>
<div class="line">[Thursday 06 January 2011] [07:57:04] &lt;parik&gt; Thanks alot once again to Steve to Sustrik for guiding me and answering my doubts and given your precious time.</div>
<div class="line">[Thursday 06 January 2011] [07:57:34] &lt;Steve-o&gt;       good luck, post something on a blog and let us read about it</div>
<div class="line">[Thursday 06 January 2011] [07:58:01] &lt;sustrik&gt;       feel free to discuss your ideas on the mailing list</div>
<div class="line">[Thursday 06 January 2011] [07:58:16] &lt;parik&gt; Thanks alot Steve.I will make it sure...</div>
<div class="line">[Thursday 06 January 2011] [07:58:17] &lt;sustrik&gt;       there&#8217;s much more people there to comment then on irc</div>
<div class="line">[Thursday 06 January 2011] [07:58:32] &lt;parik&gt; oh...ok</div>
<div class="line">[Thursday 06 January 2011] [07:59:34] &lt;sustrik&gt;       Steve-o: btw, your Tibco migration docs are really useful</div>
<div class="line">[Thursday 06 January 2011] [07:59:40] &lt;sustrik&gt;       especially the code examples</div>
<div class="line">[Thursday 06 January 2011] [07:59:55] &lt;parik&gt; Thanks once again to Steve and Sustrik...I donot want to leave the discussion but i have to as I have to go but i will cherish the discussion with you people.You people are alot supported</div>
<div class="line">[Thursday 06 January 2011] [07:59:56] &lt;sustrik&gt;       it would be great if these were widely accessible</div>
<div class="line">[Thursday 06 January 2011] [08:00:25] &lt;sustrik&gt;       even if they are not perfect, it at least allows rv users to start somewhere</div>
<div class="line">[Thursday 06 January 2011] [08:00:43] &lt;Steve-o&gt;       ideally dumping in github or somewhere</div>
<div class="line">[Thursday 06 January 2011] [08:00:58] &lt;Steve-o&gt;       as I mentioned I already have C++ &amp; Java examples but didn&#8217;t include them</div>
<div class="line">[Thursday 06 January 2011] [08:01:27] &lt;Steve-o&gt;       but honestly I have no idea how you want rv users to migrate no-single-point-of-failure architectures</div>
<div class="line">[Thursday 06 January 2011] [08:01:30] &lt;sustrik&gt;       i would say the text can be dumped on a wiki page, while code examples can reside on github</div>
<div class="line">[Thursday 06 January 2011] [08:02:12] &lt;sustrik&gt;       well, we can address that later on</div>
<div class="line">[Thursday 06 January 2011] [08:02:39] &lt;sustrik&gt;       the important thing is make the initial docs accessible</div>
<div class="line">[Thursday 06 January 2011] [08:02:51] &lt;Steve-o&gt;       that will make all the order routing developers happy</div>
<div class="line">[Thursday 06 January 2011] [08:03:50] &lt;keffo&gt; routing developer, now that&#8217;s a career! :)</div>
<div class="line">[Thursday 06 January 2011] [08:03:56] &lt;sustrik&gt;       it&#8217;s matter of time imo, you can&#8217;t do everything straight away</div>
<div class="line">[Thursday 06 January 2011] [08:04:12] &lt;sustrik&gt;       so let them try 0mq, experiment with it, complain about it</div>
<div class="line">[Thursday 06 January 2011] [08:04:28] &lt;sustrik&gt;       and hopefully solution would emerge</div>
<div class="line">[Thursday 06 January 2011] [08:04:33] &lt;keffo&gt; sustrik: Do you know if anyone has tried to bridge zmq with wcf?</div>
<div class="line">[Thursday 06 January 2011] [08:04:59] &lt;sustrik&gt;       i think i dimly remember something like that</div>
<div class="line">[Thursday 06 January 2011] [08:05:03] &lt;sustrik&gt;       but i may be wrong</div>
<div class="line">[Thursday 06 January 2011] [08:05:36] &lt;Steve-o&gt;       keffo: order routing is rather dull, especially FX</div>
<div class="line">[Thursday 06 January 2011] [08:05:49] &lt;keffo&gt; Steve-o: my point yeah :)</div>
<div class="line">[Thursday 06 January 2011] [08:06:17] &lt;Steve-o&gt;       1,000 trades a day max, woohoo</div>
<div class="line">[Thursday 06 January 2011] [08:06:35] &lt;keffo&gt; sustrik: It&#8217;s easy enough to just call a zmq api inside a wcf service, but a somewhat more native method would be very useful</div>
<div class="line">[Thursday 06 January 2011] [08:08:33] &lt;sustrik&gt;       hm, tried googling?</div>
<div class="line">[Thursday 06 January 2011] [08:08:43] &lt;keffo&gt; yeah</div>
<div class="line">[Thursday 06 January 2011] [08:09:32] &lt;sustrik&gt;       doesn&#8217;t look like anything is available</div>
<div class="line">[Thursday 06 January 2011] [08:10:02] &lt;sustrik&gt;       small project for someone to spend weekend hacking :)</div>
<div class="line">[Thursday 06 January 2011] [08:10:21] &lt;keffo&gt; hmm, rabbitmq seems to support it, and also federation services, that&#8217;s totally awesome if they support full saml &amp; adfs</div>
<div class="line">[Thursday 06 January 2011] [08:10:45] &lt;keffo&gt; not that it helps in any way I guess, exept perusal of their code maybe</div>
<div class="line">[Thursday 06 January 2011] [08:10:50] &lt;Steve-o&gt;       presumably wcf 4 looks most interesting?</div>
<div class="line">[Thursday 06 January 2011] [08:11:03] &lt;keffo&gt; how do you mean?</div>
<div class="line">[Thursday 06 January 2011] [08:11:14] &lt;keffo&gt; if I did decide to try I would target the latest version obviously?</div>
<div class="line">[Thursday 06 January 2011] [08:11:46] &lt;Steve-o&gt;       the original cl wrapper was designed around .net 2 for greater compatibility</div>
<div class="line">[Thursday 06 January 2011] [08:12:29] &lt;keffo&gt; I already have my loadbalancer ui in wpf, but there&#8217;s something oddly appealing about hosting the loadbalancer directly in IIS, with the ui as a silverlight app</div>
<div class="line">[Thursday 06 January 2011] [08:13:03] &lt;keffo&gt; Steve-o: this would be a lib, using the zmq api, and nothing more</div>
<div class="line">[Thursday 06 January 2011] [08:31:01] &lt;keffo&gt; &#8220;The RabbitMQ .NET client is an implementation of an AMQP client library for C# (and, implicitly, other .NET languages), and a binding exposing AMQP services via Microsoft&#8217;s Windows Communication Foundation (WCF).&#8221;</div>
<div class="line">[Thursday 06 January 2011] [08:31:08] &lt;keffo&gt; So, doable</div>
<div class="line">[Thursday 06 January 2011] [08:35:45] &lt;mikko&gt; <a class="reference external" href="http://msdn.microsoft.com/en-us/magazine/cc163394.aspx">http://msdn.microsoft.com/en-us/magazine/cc163394.aspx</a></div>
<div class="line">[Thursday 06 January 2011] [08:35:55] &lt;mikko&gt; doesn&#8217;t seem to be overly complicated to create custom bindings</div>
<div class="line">[Thursday 06 January 2011] [08:36:07] &lt;mikko&gt; then again, i really dont know anything about windows</div>
<div class="line">[Thursday 06 January 2011] [10:14:10] &lt;mikko&gt; sustrik: there?</div>
<div class="line">[Thursday 06 January 2011] [10:14:25] &lt;sustrik&gt;       mikko: yes</div>
<div class="line">[Thursday 06 January 2011] [10:14:54] &lt;mikko&gt; where is api.zeromq.org hosted at?</div>
<div class="line">[Thursday 06 January 2011] [10:16:39] &lt;sustrik&gt;       here in bratislava</div>
<div class="line">[Thursday 06 January 2011] [10:17:19] &lt;sustrik&gt;       it&#8217;s a box at the local ISP&#8217;s datacenter afaik</div>
<div class="line">[Thursday 06 January 2011] [10:17:48] &lt;mikko&gt; cool, i noticed that the 404 handler is not very user-friendly:</div>
<div class="line">[Thursday 06 January 2011] [10:17:53] &lt;mikko&gt; <a class="reference external" href="http://api.zeromq.org/zmq_msg_close">http://api.zeromq.org/zmq_msg_close</a> for example</div>
<div class="line">[Thursday 06 January 2011] [10:18:32] &lt;mikko&gt; i can do a small page that shows &#8220;Did you mean: x&#8221;</div>
<div class="line">[Thursday 06 January 2011] [10:18:41] &lt;mikko&gt; not sure if that is a high priority though</div>
<div class="line">[Thursday 06 January 2011] [10:19:03] &lt;sustrik&gt;       you have to speak to mato</div>
<div class="line">[Thursday 06 January 2011] [10:19:08] &lt;sustrik&gt;       he&#8217;s managing the box</div>
<div class="line">[Thursday 06 January 2011] [10:19:13] &lt;mikko&gt; where is mato nowadays btw?</div>
<div class="line">[Thursday 06 January 2011] [10:19:18] &lt;sustrik&gt;       new zealand</div>
<div class="line">[Thursday 06 January 2011] [10:19:25] &lt;mikko&gt; contract work?</div>
<div class="line">[Thursday 06 January 2011] [10:19:42] &lt;sustrik&gt;       he&#8217;s half slovak, half new zealander</div>
<div class="line">[Thursday 06 January 2011] [10:19:48] &lt;sustrik&gt;       on his holiday atm</div>
<div class="line">[Thursday 06 January 2011] [10:20:10] &lt;sustrik&gt;       i think he should be available shortly</div>
<div class="line">[Thursday 06 January 2011] [16:46:39] &lt;Namei&gt; Hello</div>
<div class="line">[Thursday 06 January 2011] [16:54:51] &lt;sustrik&gt;       hi</div>
<div class="line">[Thursday 06 January 2011] [17:01:20] &lt;mikko&gt; hi</div>
<div class="line">[Thursday 06 January 2011] [17:01:30] &lt;Namei&gt; how are u ?</div>
<div class="line">[Thursday 06 January 2011] [17:02:33] &lt;mikko&gt; im fine thank you</div>
<div class="line">[Thursday 06 January 2011] [17:02:36] &lt;mikko&gt; yourself?</div>
<div class="line">[Thursday 06 January 2011] [17:04:44] &lt;Namei&gt; the same :)</div>
<div class="line">[Thursday 06 January 2011] [17:06:50] &lt;Namei&gt; i came in a english server to perfect my english, but it&#8217;s hard lol</div>
<div class="line">[Thursday 06 January 2011] [17:20:30] &lt;Namei&gt; good night</div>
<div class="line">[Thursday 06 January 2011] [20:19:54] &lt;codebeaker&gt;    Good evening all, quick question for an inexperienced C-developer, I&#8217;m following the Introduction, and I&#8217;m getting an odd error - <a class="reference external" href="https://gist.github.com/4f82911f324c8fae8f9e">https://gist.github.com/4f82911f324c8fae8f9e</a> - trying to compile one of the exampels. What have I missed, zmq installed (maint branch) from Git, built and make-installed to the standard places, and I&#8217;m compiling my sample project with a vanilla cmake project</div>
<div class="line">[Thursday 06 January 2011] [20:20:06] &lt;codebeaker&gt;    is there a CMake find_zmq I&#8217;m missing?</div>
<div class="line">[Thursday 06 January 2011] [20:32:01] &lt;codebeaker&gt;    I found this <a class="reference external" href="https://github.com/PatrickCheng/zeromq2/blob/master/FindZMQ.cmake">https://github.com/PatrickCheng/zeromq2/blob/master/FindZMQ.cmake</a> - P.Chen - thanks if you&#8217;re idling here somewhere!</div>
<div class="line">[Thursday 06 January 2011] [22:55:21] &lt;jugg&gt;  Can zmq ever error with EAGAIN if ZMQ_SNDMORE is set?</div>
<div class="line">[Thursday 06 January 2011] [22:57:33] &lt;jugg&gt;  (of course ZMQ_NOBLOCK is also set)</div>
<div class="line">[Thursday 06 January 2011] [23:26:24] &lt;rqmedes&gt;       anyone use zeromq with c#?</div>
<div class="line">[Friday 07 January 2011] [02:36:38] &lt;sustrik&gt; jugg: yes it can</div>
<div class="line">[Friday 07 January 2011] [02:36:47] &lt;sustrik&gt; for the first message part</div>
<div class="line">[Friday 07 January 2011] [03:01:04] &lt;parik&gt;   Hi Sustrik and Steve</div>
<div class="line">[Friday 07 January 2011] [03:02:40] &lt;parik&gt;   I am trying to build zeromq src but running ./configure script before that to check the dependencies and I am getting error &#8220;configure: error: cannot link with -luuid, install uuid-dev.&#8221;</div>
<div class="line">[Friday 07 January 2011] [03:03:12] &lt;parik&gt;   I tried looking on web-also for downloading uuid-dev but not of much success.I didn&#8217;t get the package</div>
<div class="line">[Friday 07 January 2011] [03:04:20] &lt;parik&gt;   Does anybody help me out</div>
<div class="line">[Friday 07 January 2011] [03:04:27] &lt;parik&gt;   in this regard</div>
<div class="line">[Friday 07 January 2011] [04:00:56] &lt;mikko&gt;   rqmedes: there are a couple of people who do use it in C#</div>
<div class="line">[Friday 07 January 2011] [04:16:55] &lt;jugg&gt;    sustrik, So, after send(...,SNDMORE|NOBLOCK) the first message part successfully, I could subsequently tight loop send(..., SNDMORE|NOBLOCK) an arbitrarily large amount of messages and never get EAGAIN?  If so, could you explain what causes EAGAIN to be generated?</div>
<div class="line">[Friday 07 January 2011] [04:39:04] &lt;sustrik&gt; jugg: EAGAIN means there are already HWM messages in 0mq&#8217;s buffer</div>
<div class="line">[Friday 07 January 2011] [04:39:17] &lt;sustrik&gt; so you get EAGAIN when you try to insert new message</div>
<div class="line">[Friday 07 January 2011] [04:39:25] &lt;sustrik&gt; which happens with the first message parts</div>
<div class="line">[Friday 07 January 2011] [04:39:43] &lt;sustrik&gt; subsequent message parts belong to the same message that was already validated</div>
<div class="line">[Friday 07 January 2011] [04:39:51] &lt;sustrik&gt; so you never get EAGAIN there</div>
<div class="line">[Friday 07 January 2011] [04:41:31] &lt;jugg&gt;    so nothing to do whether data can be put on the wire?</div>
<div class="line">[Friday 07 January 2011] [04:44:43] &lt;parik&gt;   Hi</div>
<div class="line">[Friday 07 January 2011] [04:46:23] &lt;jugg&gt;    anyway, what seems to me a bug - zmq::xsub_t::xhas_out () is implemented returning true.  Thus getsockopt(events) shows the a sub socket can be written to.</div>
<div class="line">[Friday 07 January 2011] [04:46:33] &lt;parik&gt;   Where I can find the definiton for zmq_init()</div>
<div class="line">[Friday 07 January 2011] [04:47:18] &lt;jugg&gt;    <a class="reference external" href="http://api.zeromq.org/">http://api.zeromq.org/</a></div>
<div class="line">[Friday 07 January 2011] [04:48:36] &lt;parik&gt;   That&#8217;s the manual page.I have referred it but I want to know What inside zmq_init is happening.How its initalizing and returning context and creating a thread poool</div>
<div class="line">[Friday 07 January 2011] [04:48:47] &lt;parik&gt;   I am interesting in code</div>
<div class="line">[Friday 07 January 2011] [04:49:06] &lt;jugg&gt;    <a class="reference external" href="http://github.com/zeromq/zeromq2">http://github.com/zeromq/zeromq2</a></div>
<div class="line">[Friday 07 January 2011] [04:52:35] &lt;parik&gt;   Thanks jugg But I want to have C source</div>
<div class="line">[Friday 07 January 2011] [04:55:50] &lt;guido_g&gt; funny</div>
<div class="line">[Friday 07 January 2011] [04:56:03] &lt;guido_g&gt; mq is written in c++</div>
<div class="line">[Friday 07 January 2011] [04:58:15] &lt;parik&gt;   But In 0MQ Guide its showing C example using zeroMQ facililites</div>
<div class="line">[Friday 07 January 2011] [04:58:36] &lt;parik&gt;   Also other Languages</div>
<div class="line">[Friday 07 January 2011] [04:58:49] &lt;guido_g&gt; sure</div>
<div class="line">[Friday 07 January 2011] [04:59:09] &lt;guido_g&gt; the mq core is still written in c++</div>
<div class="line">[Friday 07 January 2011] [04:59:49] &lt;guido_g&gt; &#8220;&lt;parik&gt; That&#8217;s the manual page.I have referred it but I want to know What inside zmq_init is happening.How its initalizing and returning context and creating a thread poool&#8221; &lt;- this part is in the core</div>
<div class="line">[Friday 07 January 2011] [05:01:23] &lt;parik&gt;   ok.</div>
<div class="line">[Friday 07 January 2011] [05:02:03] &lt;yrashk&gt;  I am new to zeromq2, and have a simple question  for inproc, should endpoint be unique per process if each thread has its own pair of push/pull sockets?</div>
<div class="line">[Friday 07 January 2011] [05:02:23] &lt;yrashk&gt;  s/unique per process/unique process-wide/</div>
<div class="line">[Friday 07 January 2011] [05:03:23] &lt;mikko&gt;   yrashk: it should be unique to context</div>
<div class="line">[Friday 07 January 2011] [05:03:47] &lt;yrashk&gt;  mikko: alright, make sense, thanks :) is it okay to have a context per thread?</div>
<div class="line">[Friday 07 January 2011] [05:03:59] &lt;mikko&gt;   yrashk: no</div>
<div class="line">[Friday 07 January 2011] [05:04:12] &lt;yrashk&gt;  ok, I&#8217;ll generate unique endpoints then :)</div>
<div class="line">[Friday 07 January 2011] [05:04:15] &lt;mikko&gt;   yrashk: you can only have inproc communications between sockets allocated from same context</div>
<div class="line">[Friday 07 January 2011] [05:04:42] &lt;mikko&gt;   yrashk: i usually use something like &#8220;inproc://thread-%d&#8221; where %d is thread id or similar</div>
<div class="line">[Friday 07 January 2011] [05:04:51] &lt;yrashk&gt;  yeah this is exactly what I am going to do</div>
<div class="line">[Friday 07 January 2011] [05:04:54] &lt;yrashk&gt;  sprintf thread id</div>
<div class="line">[Friday 07 January 2011] [05:05:53] &lt;parik&gt;   I guesss Context is represeneting application.I mean to say Context shall be think w.r.t. application</div>
<div class="line">[Friday 07 January 2011] [05:06:03] &lt;parik&gt;   In application context</div>
<div class="line">[Friday 07 January 2011] [05:09:09] &lt;yrashk&gt;  fine, done :) another question is when exactly msg&#8217;s ffn will be called? I didn&#8217;t really get this from the man (3)</div>
<div class="line">[Friday 07 January 2011] [05:09:16] &lt;yrashk&gt;  should I look deeper into the manual?</div>
<div class="line">[Friday 07 January 2011] [05:09:25] &lt;mikko&gt;   parik: not quite i would say</div>
<div class="line">[Friday 07 January 2011] [05:09:43] &lt;mikko&gt;   parik: context is more of a &#8220;operating context&#8221; for 0mq</div>
<div class="line">[Friday 07 January 2011] [05:10:07] &lt;mikko&gt;   let&#8217;s say you have two libraries, libxy and libzz and both of them use 0mq internally</div>
<div class="line">[Friday 07 January 2011] [05:10:18] &lt;mikko&gt;   most likely each one of these libraries would have their own context</div>
<div class="line">[Friday 07 January 2011] [05:10:40] &lt;mikko&gt;   and you could happily use both libraries in a project without having to worry about collisions in inproc names etc</div>
<div class="line">[Friday 07 January 2011] [05:10:56] &lt;mikko&gt;   that&#8217;s at least how i see it</div>
<div class="line">[Friday 07 January 2011] [05:11:14] &lt;yrashk&gt;  I suspect I have occasional test failures because I don&#8217;t quite understand when msg data is deallocated :S</div>
<div class="line">[Friday 07 January 2011] [05:12:14] &lt;mikko&gt;   yrashk: does this lead to a specific question?</div>
<div class="line">[Friday 07 January 2011] [05:12:23] &lt;yrashk&gt;  yep, the one above :)</div>
<div class="line">[Friday 07 January 2011] [05:12:31] &lt;yrashk&gt;  &#8220;another question is when exactly msg&#8217;s ffn will be called? I didn&#8217;t really get this from the man (3)&#8221;</div>
<div class="line">[Friday 07 January 2011] [05:12:38] &lt;yrashk&gt;  &#8220;should I look deeper into the manual?&#8221;</div>
<div class="line">[Friday 07 January 2011] [05:14:55] &lt;mikko&gt;   yrashk: the ffn is called when the message refcount is 0 and the message is not shared</div>
<div class="line">[Friday 07 January 2011] [05:15:05] &lt;mikko&gt;   yrashk: <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/src/zmq.cpp#L126">https://github.com/zeromq/zeromq2/blob/master/src/zmq.cpp#L126</a></div>
<div class="line">[Friday 07 January 2011] [05:15:38] &lt;yrashk&gt;  thanks</div>
<div class="line">[Friday 07 January 2011] [05:15:47] &lt;yrashk&gt;  mm I think I know what causes those occasional failures</div>
<div class="line">[Friday 07 January 2011] [05:23:10] &lt;yrashk&gt;  yup, nothing to do with zeromq (almost, rather with its awesomeness :)</div>
<div class="line">[Friday 07 January 2011] [05:32:25] &lt;yrashk&gt;  although I am surprised it didn&#8217;t gain me any extra performance comparing to pthread_cond message delivery method. Well, may be I am doing something wrong</div>
<div class="line">[Friday 07 January 2011] [05:32:39] &lt;parik&gt;   Hi Mikko, I agree with you.Thanks for expalining thorugh the scenarios.Sorry for replying late as I was off from the discussion for sometime</div>
<div class="line">[Friday 07 January 2011] [05:48:54] &lt;yrashk&gt;  mikko: if I am using ZMQ_NOBLOCK in zmq_send, should I initialize context with at least one thread? or I am misunderstanding how NOBLOCK works for inproc?</div>
<div class="line">[Friday 07 January 2011] [05:48:59] &lt;yrashk&gt;  <a href="#id13"><span class="problematic" id="id14">*</span></a>am *</div>
<div class="line">[Friday 07 January 2011] [05:49:04] &lt;yrashk&gt;  <a href="#id15"><span class="problematic" id="id16">*</span></a>am I</div>
<div class="line">[Friday 07 January 2011] [05:57:24] &lt;jsimmons&gt;        with inproc, it should be non-blocking anyway yrashk, as far as I can tell</div>
<div class="line">[Friday 07 January 2011] [05:57:55] &lt;mikko&gt;   yrashk: sorry, i dont understand the question</div>
<div class="line">[Friday 07 January 2011] [05:58:50] &lt;mikko&gt;   jsimmons: zero lock yes but not necessarily non-blocking</div>
<div class="line">[Friday 07 January 2011] [05:59:45] &lt;jsimmons&gt;        oh noblock returns failure when it&#8217;s going to block I see</div>
<div class="line">[Friday 07 January 2011] [06:01:30] &lt;rqmedes&gt; sorry miko was away from keyboard</div>
<div class="line">[Friday 07 January 2011] [06:03:04] &lt;rqmedes&gt; have installed and am playing through c# examples, any pointers on how  you run your seperate programs, wcf, services?</div>
<div class="line">[Friday 07 January 2011] [06:18:16] &lt;mikko&gt;   rqmedes: i guess you could do a custom wcf binding</div>
<div class="line">[Friday 07 January 2011] [06:18:20] &lt;mikko&gt;   as far as i understand</div>
<div class="line">[Friday 07 January 2011] [06:18:29] &lt;mikko&gt;   rqmedes: i don&#8217;t really know anything about windows world</div>
<div class="line">[Friday 07 January 2011] [06:19:36] &lt;mikko&gt;   rqmedes: i think you should mail to mailing-list. there are several windows people there</div>
<div class="line">[Friday 07 January 2011] [06:19:42] &lt;mikko&gt;   i gotta hop into a meeting -&gt;</div>
<div class="line">[Friday 07 January 2011] [06:23:07] &lt;parik&gt;   Thanks alot mikko and guido_g</div>
<div class="line">[Friday 07 January 2011] [06:46:50] &lt;sustrik&gt; jugg: good point</div>
<div class="line">[Friday 07 January 2011] [06:46:53] &lt;sustrik&gt; let me fix it</div>
<div class="line">[Friday 07 January 2011] [06:50:18] &lt;jugg&gt;    sustrik, is the idea for subscriptions to be sent to the publisher eventually?  Or why is zmq::sub_t::xsetsockopt sending subscriptions as a payload?</div>
<div class="line">[Friday 07 January 2011] [06:51:21] &lt;sustrik&gt; jugg: yes, it&#8217;s the first step towards subscription forwarding</div>
<div class="line">[Friday 07 January 2011] [06:51:31] &lt;jugg&gt;    cool</div>
<div class="line">[Friday 07 January 2011] [06:59:55] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * r8e0049e 10/ (src/sub.cpp src/sub.hpp):</div>
<div class="line">[Friday 07 January 2011] [06:59:55] &lt;CIA-21&gt;  zeromq2: Disable sending messages on SUB socket</div>
<div class="line">[Friday 07 January 2011] [06:59:55] &lt;CIA-21&gt;  zeromq2: The ability was inherited from XSUB socket.</div>
<div class="line">[Friday 07 January 2011] [06:59:55] &lt;CIA-21&gt;  zeromq2: Now it&#8217;s properly disabled.</div>
<div class="line">[Friday 07 January 2011] [06:59:55] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ih6erI">http://bit.ly/ih6erI</a></div>
<div class="line">[Friday 07 January 2011] [06:59:58] &lt;sustrik&gt; jugg: done</div>
<div class="line">[Friday 07 January 2011] [07:01:17] &lt;rqmedes&gt; thanks mikko</div>
<div class="line">[Friday 07 January 2011] [07:01:20] &lt;jugg&gt;    thanks</div>
<div class="line">[Friday 07 January 2011] [07:10:19] &lt;yrashk&gt;  hmm, caught a rare segfault in recv, <a class="reference external" href="https://gist.github.com/c985ee3760af3aadaf96">https://gist.github.com/c985ee3760af3aadaf96</a></div>
<div class="line">[Friday 07 January 2011] [07:10:38] &lt;yrashk&gt;  (2.1.0)</div>
<div class="line">[Friday 07 January 2011] [07:20:41] &lt;sustrik&gt; yrashk: is it reproducible</div>
<div class="line">[Friday 07 January 2011] [07:20:44] &lt;sustrik&gt; ?</div>
<div class="line">[Friday 07 January 2011] [07:20:57] &lt;yrashk&gt;  sustrik: rarely  running some indirect stress tests</div>
<div class="line">[Friday 07 January 2011] [07:21:23] &lt;sustrik&gt; can you possible compile 0mq with debug enabled?</div>
<div class="line">[Friday 07 January 2011] [07:21:32] &lt;sustrik&gt; so that backtrace is more useful?</div>
<div class="line">[Friday 07 January 2011] [07:21:43] &lt;sustrik&gt; ./configure &#8211;enable-debug</div>
<div class="line">[Friday 07 January 2011] [07:21:44] &lt;yrashk&gt;  sure, may be not tonight, but will do</div>
<div class="line">[Friday 07 January 2011] [07:21:53] &lt;sustrik&gt; sure, take your time</div>
<div class="line">[Friday 07 January 2011] [07:22:15] &lt;yrashk&gt;  hopefully its nothing serious</div>
<div class="line">[Friday 07 January 2011] [07:22:20] &lt;yrashk&gt;  or should I switch to master?</div>
<div class="line">[Friday 07 January 2011] [07:26:45] &lt;sustrik&gt; wait a sec, i&#8217;m going to apply one pending patch</div>
<div class="line">[Friday 07 January 2011] [07:29:45] &lt;CIA-21&gt;  zeromq2: 03Dhammika Pathirana 07master * rbabdf48 10/ src/pipe.cpp :</div>
<div class="line">[Friday 07 January 2011] [07:29:45] &lt;CIA-21&gt;  zeromq2: Fix pipe writer termination</div>
<div class="line">[Friday 07 January 2011] [07:29:45] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Dhammika Pathirana &lt;<a class="reference external" href="mailto:dhammika&#37;&#52;&#48;gmail&#46;com">dhammika<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/gNG05Z">http://bit.ly/gNG05Z</a></div>
<div class="line">[Friday 07 January 2011] [07:29:58] &lt;sustrik&gt; yrashk: ok, done</div>
<div class="line">[Friday 07 January 2011] [07:30:21] &lt;sustrik&gt; you can use the trunk, there are couple of patches there</div>
<div class="line">[Friday 07 January 2011] [07:30:33] &lt;sustrik&gt; that may (or may not) fix your problem</div>
<div class="line">[Friday 07 January 2011] [07:30:36] &lt;yrashk&gt;  hmmm this patchh is for PUSH/PULL sockets, am I right?</div>
<div class="line">[Friday 07 January 2011] [07:30:46] &lt;sustrik&gt; it&#8217;s generic</div>
<div class="line">[Friday 07 January 2011] [07:30:49] &lt;sustrik&gt; all socket types</div>
<div class="line">[Friday 07 January 2011] [07:30:50] &lt;yrashk&gt;  oh ok</div>
<div class="line">[Friday 07 January 2011] [07:31:24] &lt;yrashk&gt;  I am new to actual zeromq usage (knew about it for quite some time, though) just trying to switch my event loop from pthread_cond kind of loop</div>
<div class="line">[Friday 07 January 2011] [07:31:50] &lt;yrashk&gt;  (although I naively expected to get some performance gains from this transition, but it didn&#8217;t happen :)</div>
<div class="line">[Friday 07 January 2011] [07:32:26] &lt;sustrik&gt; you should get the performance gain once the batching kicks in</div>
<div class="line">[Friday 07 January 2011] [07:32:38] &lt;yrashk&gt;  at least it simplified my code</div>
<div class="line">[Friday 07 January 2011] [07:32:43] &lt;sustrik&gt; i.e. sending many messages using a single operation</div>
<div class="line">[Friday 07 January 2011] [07:32:53] &lt;yrashk&gt;  when it is going to kick in?</div>
<div class="line">[Friday 07 January 2011] [07:32:58] &lt;yrashk&gt;  to be kicked in*</div>
<div class="line">[Friday 07 January 2011] [07:33:13] &lt;sustrik&gt; with high message load</div>
<div class="line">[Friday 07 January 2011] [07:33:42] &lt;yrashk&gt;  hmm I do have a high message load in my stress test</div>
<div class="line">[Friday 07 January 2011] [07:33:57] &lt;yrashk&gt;  I guess it depends on what we understand by high essage load</div>
<div class="line">[Friday 07 January 2011] [07:34:13] &lt;sustrik&gt; dunno, million a second or somesuch</div>
<div class="line">[Friday 07 January 2011] [07:34:22] &lt;yrashk&gt;  mm I have less, I guess</div>
<div class="line">[Friday 07 January 2011] [07:35:02] &lt;yrashk&gt;  most likely my performance issues aren&#8217;t in event loop algorithm (so either cond or zeromq get the same bottleneck down the road)</div>
<div class="line">[Friday 07 January 2011] [07:35:18] &lt;sustrik&gt; that&#8217;s quite likely</div>
<div class="line">[Friday 07 January 2011] [07:35:26] &lt;sustrik&gt; as both of them are pretty much optimised</div>
<div class="line">[Friday 07 January 2011] [07:35:38] &lt;yrashk&gt;  I would assume so</div>
<div class="line">[Friday 07 January 2011] [07:35:48] &lt;yrashk&gt;  still with zeromq my code is much cleaner</div>
<div class="line">[Friday 07 January 2011] [07:36:27] &lt;yrashk&gt;  helped me to drop message queueing/pooling thing of my own</div>
<div class="line">[Friday 07 January 2011] [07:38:18] &lt;yrashk&gt;  and hopefully will help more down the road</div>
<div class="line">[Friday 07 January 2011] [07:38:20] &lt;codebeaker&gt;      what&#8217;s the practical difference on Github between the &#64;zeqomq user, and the repository of &#64;PatrickCheng? They both seem pretty much the same, on the surface - but Cheng&#8217;s includes useful snips for using MQ in a CMake project</div>
<div class="line">[Friday 07 January 2011] [07:40:03] &lt;sustrik&gt; i think he just made the cmake build</div>
<div class="line">[Friday 07 January 2011] [07:40:08] &lt;sustrik&gt; not 100% sure though</div>
<div class="line">[Friday 07 January 2011] [07:40:13] &lt;sustrik&gt; check the project history</div>
<div class="line">[Friday 07 January 2011] [07:44:28] &lt;codebeaker&gt;      thanks sustrik - maynbe I&#8217;ll fork both (running) and diff the whole trees, but his cmake work looks good</div>
<div class="line">[Friday 07 January 2011] [07:45:16] &lt;codebeaker&gt;      appreciate teh answer to a dumb question!</div>
<div class="line">[Friday 07 January 2011] [07:45:54] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 07 January 2011] [09:17:14] &lt;codebeaker&gt;      hey everyone</div>
<div class="line">[Friday 07 January 2011] [09:26:06] &lt;keffo&gt;   hey ho</div>
<div class="line">[Friday 07 January 2011] [09:44:48] &lt;codebeaker&gt;      was wondering if anyone could lend me a hand, I&#8217;m trying to include mq in my project - I build it with CMake, and I would like a portable &#8220;FindMQ.cmake&#8221;  I found it in Patrick Chen&#8217;s github repo, but ZMQ_DIR is always unset I wondered if I&#8217;m barking up the wrong tree - and should simply hard-code the paths?</div>
<div class="line">[Friday 07 January 2011] [09:45:55] &lt;codebeaker&gt;      right now, I have the maint branch from the &#64;zeromq repository built and installed the defailt location, and a as a submodule in my project</div>
<div class="line">[Friday 07 January 2011] [09:49:08] &lt;zchrish&gt; Hi.</div>
<div class="line">[Friday 07 January 2011] [09:49:18] &lt;codebeaker&gt;       easy problem really, the linker isn&#8217;t finding the library - not all together surprising, but I&#8217;d like a portable solution</div>
<div class="line">[Friday 07 January 2011] [09:51:26] &lt;zchrish&gt; I have downloaded zeromq to my OpenSuse box and compiled the examples. I modified the mtserver and hwclient to suppress the printf and increased the message length to 80 bytes. When I run the program and pass 1000000 messages into it, it seems like the software works at around 7,500 messages per second. This seems low; any pointers?</div>
<div class="line">[Friday 07 January 2011] [09:55:00] &lt;zchrish&gt; AAA</div>
<div class="line">[Friday 07 January 2011] [09:55:27] &lt;keffo&gt;   ?</div>
<div class="line">[Friday 07 January 2011] [09:55:43] &lt;zchrish&gt; I have downloaded zeromq to my OpenSuse box and compiled the examples. I modified the mtserver and hwclient to suppress the printf and increased the message length to 80 bytes. When I run the program and pass 1000000 messages into it, it seems like the software works at around 7,500 messages per second. This seems low; any pointers?</div>
<div class="line">[Friday 07 January 2011] [10:13:41] &lt;sustrik&gt; zchrish: are you using local_thr &amp; remote_thr to measure the throughput?</div>
<div class="line">[Friday 07 January 2011] [11:43:41] &lt;zchrish&gt; I am just using the code out-of-the-box. Not sure how to answer the question; I am new to zeromq</div>
<div class="line">[Friday 07 January 2011] [11:47:29] &lt;zchrish&gt; sustrik: I am measuring on the same machine.</div>
<div class="line">[Friday 07 January 2011] [12:04:37] &lt;sustrik&gt; zchrish: how have you get the number?</div>
<div class="line">[Friday 07 January 2011] [12:04:39] &lt;sustrik&gt; 7500?</div>
<div class="line">[Friday 07 January 2011] [12:13:06] &lt;zchrish&gt; sustrik: (1) started mtserver, (2) time hwclient</div>
<div class="line">[Friday 07 January 2011] [12:14:07] &lt;zchrish&gt; sustrik: both mtserver and hwclient were stripped of printf statements and the sleep(1) was removed from mtserver and the number of iterations was increased to 1 million</div>
<div class="line">[Friday 07 January 2011] [12:14:50] &lt;zchrish&gt; runtime / # iterations was about 7,500.</div>
<div class="line">[Friday 07 January 2011] [12:15:23] &lt;zchrish&gt; sorry; other way around.</div>
<div class="line">[Friday 07 January 2011] [12:15:37] &lt;sustrik&gt; that&#8217;s something from the guide?</div>
<div class="line">[Friday 07 January 2011] [12:15:45] &lt;sustrik&gt; anyway, try the offical perf tests:</div>
<div class="line">[Friday 07 January 2011] [12:15:46] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/results:perf-howto">http://www.zeromq.org/results:perf-howto</a></div>
<div class="line">[Friday 07 January 2011] [12:16:06] &lt;zchrish&gt; yes, in the c++ section. I will look at perf-howto; thank you.</div>
<div class="line">[Friday 07 January 2011] [13:27:09] &lt;zchrish&gt; sustrik: OK, I ran these programs and the throughput is much higher. I will look more closely into how mtserver and hwclient are constructed to see how I can modify them to improve the throughput of these programs.</div>
<div class="line">[Friday 07 January 2011] [19:14:38] &lt;codebeaker&gt;      does anyone have a few mins, to help me get my project (CMake build) to work with Patrick Chen&#8217;s CMake form of mq ?</div>
<div class="line">[Friday 07 January 2011] [19:17:10] &lt;codebeaker&gt;      Right now I can&#8217;t get it to recognise ZMQ_DIR</div>
<div class="line">[Friday 07 January 2011] [20:11:28] &lt;Seta00&gt;  anyone experienced with pyzmq here?</div>
<div class="line">[Friday 07 January 2011] [20:11:32] &lt;Seta00&gt;  (on Windows)</div>
<div class="line">[Saturday 08 January 2011] [08:07:02] &lt;s0undt3ch&gt;     hello ppl</div>
<div class="line">[Saturday 08 January 2011] [08:07:45] &lt;s0undt3ch&gt;     while trying to send on a zmq.REQ socket, if the socket is not correctly connected, how can I catch the error?</div>
<div class="line">[Saturday 08 January 2011] [08:14:07] &lt;sustrik&gt;       you can&#8217;t the messages are queued and will be send once to connecting succeeds</div>
<div class="line">[Saturday 08 January 2011] [08:40:50] &lt;s0undt3ch&gt;     sustrik: hmm, not the intended behaviour, what do you suggest?</div>
<div class="line">[Saturday 08 January 2011] [08:41:01] &lt;s0undt3ch&gt;     s/intended/desired</div>
<div class="line">[Saturday 08 January 2011] [08:43:16] &lt;sustrik&gt;       you mean when you misconfigure your component, right?</div>
<div class="line">[Saturday 08 January 2011] [08:43:50] &lt;sustrik&gt;       using an un-existent hostname or somesuch</div>
<div class="line">[Saturday 08 January 2011] [08:44:55] &lt;s0undt3ch&gt;     sustrik: yeah</div>
<div class="line">[Saturday 08 January 2011] [08:45:18] &lt;s0undt3ch&gt;     sustrik: right now I&#8217;m trying to build some king of ping/pong for my app&#8217;s components</div>
<div class="line">[Saturday 08 January 2011] [08:45:54] &lt;sustrik&gt;       well, the requirement for 0mq is to withstand network failures</div>
<div class="line">[Saturday 08 January 2011] [08:45:55] &lt;s0undt3ch&gt;     but I&#8217;d like to know who&#8217;s responding and calculate lag&#8217;s</div>
<div class="line">[Saturday 08 January 2011] [08:46:07] &lt;sustrik&gt;       so when it cannot connect</div>
<div class="line">[Saturday 08 January 2011] [08:46:16] &lt;sustrik&gt;       it tries a bit later on</div>
<div class="line">[Saturday 08 January 2011] [08:46:25] &lt;s0undt3ch&gt;     hmm</div>
<div class="line">[Saturday 08 January 2011] [08:47:05] &lt;s0undt3ch&gt;     sustrik: use pub/sub instead? those replying should then include their name etc...?</div>
<div class="line">[Saturday 08 January 2011] [08:47:34] &lt;s0undt3ch&gt;     instead of req/rep?</div>
<div class="line">[Saturday 08 January 2011] [08:52:19] &lt;s0undt3ch&gt;     hmm, I think I should look closely to the heartbeat example</div>
<div class="line">[Saturday 08 January 2011] [11:01:58] &lt;mikko&gt; afternoon</div>
<div class="line">[Saturday 08 January 2011] [12:21:13] &lt;<a href="#id485"><span class="problematic" id="id486">andrewvc_</span></a>&gt;     cremes: Around?</div>
<div class="line">[Saturday 08 January 2011] [12:21:56] Notice  -ChanServ- [#gentoo] Welcome to #gentoo || Acceptable Usage Policy &#64; <a class="reference external" href="http://www.gentoo.org/main/en/irc.xml">http://www.gentoo.org/main/en/irc.xml</a> || Keep the language clean || Google is your friend || No bots or scripts that talk || Turn off public away messages || More than three lines to #flood or a pastebin service, no spam!</div>
<div class="line">[Saturday 08 January 2011] [12:26:37] &lt;mikko&gt; sustrik: shutdown stress failing on freebsd 8.1</div>
<div class="line">[Saturday 08 January 2011] [12:27:13] Error   You are not on #gentoo.</div>
<div class="line">[Saturday 08 January 2011] [12:29:14] &lt;sustrik&gt;       let me see</div>
<div class="line">[Saturday 08 January 2011] [12:30:56] &lt;sustrik&gt;       that&#8217;s the same problem with insufficient buffer space in socketpair as was seen several time before</div>
<div class="line">[Saturday 08 January 2011] [12:31:01] &lt;sustrik&gt;       there&#8217;s no easy solution</div>
<div class="line">[Saturday 08 January 2011] [12:31:18] &lt;sustrik&gt;       presumably, we can make the stress test less stresfull :)</div>
<div class="line">[Saturday 08 January 2011] [19:27:56] &lt;andrewvc&gt;      cremes: ping</div>
<div class="line">[Sunday 09 January 2011] [02:05:27] &lt;maxpn&gt;   how can I handle timeouts in pyzmq ?</div>
<div class="line">[Sunday 09 January 2011] [02:05:48] &lt;maxpn&gt;   for PUSH socket</div>
<div class="line">[Sunday 09 January 2011] [02:24:55] &lt;maxpn&gt;   hmm... looks like I should use NOBLOCK in a loop</div>
<div class="line">[Sunday 09 January 2011] [05:26:56] &lt;s0undt3ch&gt;       hello ppl</div>
<div class="line">[Sunday 09 January 2011] [05:27:36] &lt;s0undt3ch&gt;       xreq_socket.recv(zmq.NOBLOCK) should never, ever block right? seems it&#8217;s blocking for at least 1.5 secs for me :</div>
<div class="line">[Sunday 09 January 2011] [05:32:32] &lt;mikko&gt;   maxpn: you can use poll</div>
<div class="line">[Sunday 09 January 2011] [05:32:43] &lt;mikko&gt;   s0undt3ch: it shouldn&#8217;t block</div>
<div class="line">[Sunday 09 January 2011] [05:33:23] &lt;s0undt3ch&gt;       mikko: I&#8217;m using evenlet with zmq, it has block detector, I&#8217;m setting it to 1.5 secs, and it&#8217;s triggering :|</div>
<div class="line">[Sunday 09 January 2011] [05:34:12] &lt;mikko&gt;   are you doing more than &#8220;xreq_socket.recv(zmq.NOBLOCK)&#8221; in that block of code?</div>
<div class="line">[Sunday 09 January 2011] [05:35:32] &lt;s0undt3ch&gt;       mikko: involved blocks of code -&gt; <a class="reference external" href="http://paste.pocoo.org/show/317519/">http://paste.pocoo.org/show/317519/</a></div>
<div class="line">[Sunday 09 January 2011] [05:35:38] &lt;maxpn&gt;   is there an option like recv(NOBLOCK, timeout= ... )</div>
<div class="line">[Sunday 09 January 2011] [05:37:22] &lt;maxpn&gt;   would be very usable</div>
<div class="line">[Sunday 09 January 2011] [05:38:21] &lt;mikko&gt;   maxpn: noblock returns immediately</div>
<div class="line">[Sunday 09 January 2011] [05:39:01] &lt;mikko&gt;   maxpn: it&#8217;s very simple to do with poll</div>
<div class="line">[Sunday 09 January 2011] [05:39:04] &lt;maxpn&gt;   mikko: yes, but in that case I have to sleep</div>
<div class="line">[Sunday 09 January 2011] [05:39:11] &lt;maxpn&gt;   for some amount of time</div>
<div class="line">[Sunday 09 January 2011] [05:40:54] &lt;mikko&gt;   maxpn: <a class="reference external" href="https://github.com/mkoppanen/httpush/blob/master/src/helpers.c#L110">https://github.com/mkoppanen/httpush/blob/master/src/helpers.c#L110</a></div>
<div class="line">[Sunday 09 January 2011] [05:41:00] &lt;mikko&gt;   there is similar thing in C</div>
<div class="line">[Sunday 09 January 2011] [05:41:22] &lt;mikko&gt;   it uses poll to handle the timeout</div>
<div class="line">[Sunday 09 January 2011] [05:42:28] &lt;mikko&gt;   s0undt3ch: are you getting eagain?</div>
<div class="line">[Sunday 09 January 2011] [05:42:38] &lt;s0undt3ch&gt;       mikko: nope</div>
<div class="line">[Sunday 09 January 2011] [05:42:57] &lt;mikko&gt;   s0undt3ch: you are sure that it actually blocks inside recv call?</div>
<div class="line">[Sunday 09 January 2011] [05:43:01] &lt;maxpn&gt;   ok I see, is such an option for Python?</div>
<div class="line">[Sunday 09 January 2011] [05:43:23] &lt;mikko&gt;   maxpn: yes, poll</div>
<div class="line">[Sunday 09 January 2011] [05:43:27] &lt;s0undt3ch&gt;       mikko: aparently is, I&#8217;m trying to refactor it a bit to try and confirm it</div>
<div class="line">[Sunday 09 January 2011] [05:43:48] &lt;mikko&gt;   maxpn: <a class="reference external" href="https://github.com/zeromq/pyzmq/blob/master/examples/poll/pair.py">https://github.com/zeromq/pyzmq/blob/master/examples/poll/pair.py</a></div>
<div class="line">[Sunday 09 January 2011] [05:48:31] &lt;maxpn&gt;   as I understand poller.poll() returns a list of paris (socket,state) , right?</div>
<div class="line">[Sunday 09 January 2011] [05:53:35] &lt;mikko&gt;   maxpn: i don&#8217;t really know how it&#8217;s implemented in python</div>
<div class="line">[Sunday 09 January 2011] [05:55:03] &lt;maxpn&gt;   poller.poll() will return data when complete ZMQ message received in POLLIN socket?</div>
<div class="line">[Sunday 09 January 2011] [05:55:47] &lt;mikko&gt;   it will retur when there is a state change in one or more of the sockets in the poll set</div>
<div class="line">[Sunday 09 January 2011] [05:57:22] &lt;s0undt3ch&gt;       mikko: how can I know if a message is complete?</div>
<div class="line">[Sunday 09 January 2011] [05:57:39] &lt;mikko&gt;   s0undt3ch: you mean with x(rep|req) sockets?</div>
<div class="line">[Sunday 09 January 2011] [05:57:45] &lt;s0undt3ch&gt;       mikko: yes</div>
<div class="line">[Sunday 09 January 2011] [05:58:20] &lt;mikko&gt;   the first parts will contain RCVMORE flag</div>
<div class="line">[Sunday 09 January 2011] [05:58:35] &lt;mikko&gt;   the part that doesn&#8217;t contain it terminates the message</div>
<div class="line">[Sunday 09 January 2011] [05:59:31] &lt;s0undt3ch&gt;       mikko: so I can append to a buffer untill I get RCVMORE at wich time I can process the message right?</div>
<div class="line">[Sunday 09 January 2011] [06:00:10] &lt;mikko&gt;   the other way around</div>
<div class="line">[Sunday 09 January 2011] [06:00:26] &lt;s0undt3ch&gt;       ah yes</div>
<div class="line">[Sunday 09 January 2011] [06:01:04] &lt;mikko&gt;   RCVMORE indicates that there is at least one more part coming</div>
<div class="line">[Sunday 09 January 2011] [06:01:37] &lt;maxpn&gt;   is recv_json() handles that situation correctly?</div>
<div class="line">[Sunday 09 January 2011] [06:01:42] &lt;s0undt3ch&gt;       mikko: xrep.getsockopt(zmq.RCVMORE) right?</div>
<div class="line">[Sunday 09 January 2011] [06:01:54] &lt;mikko&gt;   s0undt3ch: yes</div>
<div class="line">[Sunday 09 January 2011] [06:02:09] &lt;mikko&gt;   maxpn: i don&#8217;t really know, that sounds like a python specific method</div>
<div class="line">[Sunday 09 January 2011] [06:02:36] &lt;s0undt3ch&gt;       mikko: RCVMORE is socket option right?</div>
<div class="line">[Sunday 09 January 2011] [06:02:53] &lt;s0undt3ch&gt;       ie, I test it in getsockopt</div>
<div class="line">[Sunday 09 January 2011] [06:03:28] &lt;mikko&gt;   yes</div>
<div class="line">[Sunday 09 January 2011] [06:03:47] &lt;s0undt3ch&gt;       mikko: Hurray! Thanks! Now working as suposed</div>
<div class="line">[Sunday 09 January 2011] [06:04:36] &lt;s0undt3ch&gt;       was implementing a heartbeater and each of the hearts, if more than one, would fail in turns, which let me to think that my could must have been wrong</div>
<div class="line">[Sunday 09 January 2011] [06:06:42] &lt;s0undt3ch&gt;       but now one of the processors is at 100% :)</div>
<div class="line">[Sunday 09 January 2011] [06:06:50] &lt;s0undt3ch&gt;       need to refactor again</div>
<div class="line">[Sunday 09 January 2011] [06:12:32] &lt;mikko&gt;   s0undt3ch: spinning on something?</div>
<div class="line">[Sunday 09 January 2011] [06:13:12] &lt;s0undt3ch&gt;       mikko: I think I&#8217;m checking socket state too often, unfotunately, eventlet does not allow listening to fd changes</div>
<div class="line">[Sunday 09 January 2011] [06:13:42] &lt;s0undt3ch&gt;       ok, now dropped to 8-10%</div>
<div class="line">[Sunday 09 January 2011] [06:13:46] &lt;s0undt3ch&gt;       :)</div>
<div class="line">[Sunday 09 January 2011] [06:23:55] &lt;s0undt3ch&gt;       handling 50 heartbeats at 7-9% ;)</div>
<div class="line">[Sunday 09 January 2011] [07:05:22] &lt;s0undt3ch&gt;       a REQ socket can be connected to multiple &#8220;endpoints&#8221; right? can it send a message to a specific endpoint?</div>
<div class="line">[Sunday 09 January 2011] [07:06:34] &lt;s0undt3ch&gt;       or sending will send to all and the receiving endpoint cannot know for who the message is?</div>
<div class="line">[Sunday 09 January 2011] [07:56:02] &lt;zchrish&gt; That&#8217;s my question. I am reading 3.0 roadmap and it appears that TCP and PUB/SUB are distributed across all receivers.</div>
<div class="line">[Sunday 09 January 2011] [07:57:05] &lt;zchrish&gt; I think in this reference TCP=REQ.</div>
<div class="line">[Sunday 09 January 2011] [11:31:45] Notice    -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Sunday 09 January 2011] [11:31:45] Notice    -NickServ- You are now identified for travlr.</div>
<div class="line">[Sunday 09 January 2011] [12:01:55] &lt;sustrik&gt; s0undt3ch: you send a request to a &#8220;cloud&#8221;</div>
<div class="line">[Sunday 09 January 2011] [12:02:06] &lt;sustrik&gt; so it eventually gets to someone</div>
<div class="line">[Sunday 09 January 2011] [12:16:46] Notice    -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Sunday 09 January 2011] [12:16:46] Notice    -NickServ- You are now identified for travlr.</div>
<div class="line">[Sunday 09 January 2011] [13:02:48] &lt;s0undt3ch&gt;       sustrik: I&#8217;m trying to do some aync message handling. I have gobject listening for the socket&#8217;s FD and when there&#8217;s a change on it, a function is called. For REQ/REP, this is ok, I handle incoming message aync, and outgoing messages sync, however,  for XREP, I seem to be unable to  do async out messages</div>
<div class="line">[Sunday 09 January 2011] [13:03:07] &lt;s0undt3ch&gt;       especially since I&#8217;m calling socket.send_pyobj(data)</div>
<div class="line">[Sunday 09 January 2011] [13:03:26] &lt;s0undt3ch&gt;       I think that makes the socket go into zmq.POLLOUT</div>
<div class="line">[Sunday 09 January 2011] [13:03:38] &lt;s0undt3ch&gt;       but how do I handle zmq.POLLOUT?</div>
<div class="line">[Sunday 09 January 2011] [13:06:16] &lt;s0undt3ch&gt;       intead of directly calling send() should I put messages in a queue and then handle them in the queue?</div>
<div class="line">[Sunday 09 January 2011] [13:07:21] &lt;s0undt3ch&gt;       am I making any sense?</div>
<div class="line">[Sunday 09 January 2011] [13:15:07] &lt;sustrik&gt; have a look at zmq_getsockopt(3), the ZMQ_FD and ZMQ_EVENTS section</div>
<div class="line">[Sunday 09 January 2011] [13:15:36] &lt;sustrik&gt; ZMQ_FD signals that &#8220;something happened&#8221;</div>
<div class="line">[Sunday 09 January 2011] [13:15:48] &lt;sustrik&gt; you have to get ZMQ_EVENTS to find out what actually happened</div>
<div class="line">[Sunday 09 January 2011] [13:17:53] &lt;s0undt3ch&gt;       sustrik: that part I know, that&#8217;s how I&#8217;m handling incoming messges, I&#8217;m just failing to get own to handle outgoing messages with the same resources, ie, EVENTS and FD</div>
<div class="line">[Sunday 09 January 2011] [13:19:39] &lt;s0undt3ch&gt;       I already catched the (events &amp; POOLOUT), just don&#8217;t know what and from where to actualy send, since I&#8217;ve already done .send()</div>
<div class="line">[Sunday 09 January 2011] [13:23:31] &lt;s0undt3ch&gt;       s/own/how/</div>
<div class="line">[Sunday 09 January 2011] [13:24:48] &lt;s0undt3ch&gt;       is there a way to get the contents of the outgoing XREP buffer?</div>
<div class="line">[Sunday 09 January 2011] [13:25:37] &lt;s0undt3ch&gt;       perhaps better</div>
<div class="line">[Sunday 09 January 2011] [13:25:48] &lt;s0undt3ch&gt;       if I try to send NOBLOCK, how do I handle it?</div>
<div class="line">[Sunday 09 January 2011] [13:28:24] &lt;sustrik&gt; send with a non-block</div>
<div class="line">[Sunday 09 January 2011] [13:28:40] &lt;sustrik&gt; if it cannot be sent it returns EAGAIN</div>
<div class="line">[Sunday 09 January 2011] [13:28:48] &lt;sustrik&gt; then you can poll on ZMQ_FD</div>
<div class="line">[Sunday 09 January 2011] [13:28:58] &lt;sustrik&gt; once it signals POLLIN</div>
<div class="line">[Sunday 09 January 2011] [13:29:04] &lt;sustrik&gt; you getsockopt(ZMQ_EVENTS)</div>
<div class="line">[Sunday 09 January 2011] [13:29:19] &lt;sustrik&gt; if ZMQ_POLLOUT is set, you can send the message</div>
<div class="line">[Sunday 09 January 2011] [14:33:55] &lt;zchrish&gt; Is using a vector a supported method to implement socket_t? I want to service 10,000 different subscription channels so that each channel has independent information. According to the roadmap, all data goes to all subscribers even if a subscriber is only interested in certain data.</div>
<div class="line">[Sunday 09 January 2011] [14:42:06] &lt;mikko&gt;   zchrish: currently the filtering is done at subscriber side, correct</div>
<div class="line">[Sunday 09 January 2011] [14:42:52] &lt;zchrish&gt; mikko: Yes, that is what I have learned. I don&#8217;t want to do that; too much information flying across the publisher.</div>
<div class="line">[Sunday 09 January 2011] [14:54:22] &lt;sustrik&gt; zchrish: why not use a single pub socket with subscriptions instead of handling 10,000 sockets</div>
<div class="line">[Sunday 09 January 2011] [14:55:49] &lt;sustrik&gt; and rather focus on implementing subscription forwarding inside 0mq</div>
<div class="line">[Sunday 09 January 2011] [14:56:09] &lt;zchrish&gt; sustrik: I&#8217;d like to but as far as I can tell, if my subscriber only wants data to travel across the wire for only 1 of the 10,000 channels, that isn&#8217;t currently supported. The roadmap says that is a 3.0 feature possibly.</div>
<div class="line">[Sunday 09 January 2011] [14:57:05] &lt;sustrik&gt; it can go even to 2.x if someone actually implements it</div>
<div class="line">[Sunday 09 January 2011] [14:57:17] &lt;sustrik&gt; there are several people trying at the moment</div>
<div class="line">[Sunday 09 January 2011] [14:57:34] &lt;zchrish&gt; So what to do now?</div>
<div class="line">[Sunday 09 January 2011] [14:58:02] &lt;sustrik&gt; it&#8217;s up to you</div>
<div class="line">[Sunday 09 January 2011] [14:58:22] &lt;sustrik&gt; you can either write your code to use 10,000 sockets</div>
<div class="line">[Sunday 09 January 2011] [14:58:41] &lt;sustrik&gt; or instead try to implement the subscription forwarding inside 0mq</div>
<div class="line">[Sunday 09 January 2011] [14:58:44] &lt;zchrish&gt; So my idea was to create a vector of publishers and bind them to different ports. Sort of crude but was wondering if it was even supported.</div>
<div class="line">[Sunday 09 January 2011] [14:59:03] &lt;sustrik&gt; yes, you can do that</div>
<div class="line">[Sunday 09 January 2011] [14:59:40] &lt;zchrish&gt; can you estimate the work difference?</div>
<div class="line">[Sunday 09 January 2011] [14:59:52] &lt;zchrish&gt; between the 2 methods?</div>
<div class="line">[Sunday 09 January 2011] [15:00:31] &lt;sustrik&gt; well, the developer has to estimate the work</div>
<div class="line">[Sunday 09 January 2011] [15:00:40] &lt;sustrik&gt; have a look at the mailing list</div>
<div class="line">[Sunday 09 January 2011] [15:00:53] &lt;zchrish&gt; understood; thank you.</div>
<div class="line">[Sunday 09 January 2011] [15:00:58] &lt;sustrik&gt; the subscription forwarding was discussed several times there</div>
<div class="line">[Sunday 09 January 2011] [15:01:03] &lt;sustrik&gt; you&#8217;ll get some idea</div>
<div class="line">[Sunday 09 January 2011] [15:02:07] &lt;zchrish&gt; At this point, I&#8217;d like to remain a user of zeromq in my application and focus on that. Seems like great software but this feature seems really important as I guess people already know.</div>
<div class="line">[Sunday 09 January 2011] [15:03:03] &lt;sustrik&gt; sure, it&#8217;s up to you</div>
<div class="line">[Sunday 09 January 2011] [15:03:42] &lt;zchrish&gt; But maybe I could be beta people&#8217;s work if that&#8217;d help. I agree subscription forwarding is the way to go.</div>
<div class="line">[Sunday 09 January 2011] [15:11:02] &lt;sustrik&gt; well, as i said, there are people trying, let&#8217;s see what emerges</div>
<div class="line">[Sunday 09 January 2011] [20:17:53] &lt;rbraley&gt; is there a good way to write to a file asynchronously in zeromq?</div>
<div class="line">[Monday 10 January 2011] [03:57:01] &lt;mikko&gt;   rbraley: can you elaborate a bit?</div>
<div class="line">[Monday 10 January 2011] [07:54:14] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * rbd0ba6e 10/ (6 files in 2 dirs):</div>
<div class="line">[Monday 10 January 2011] [07:54:14] &lt;CIA-21&gt;  zeromq2: Size of inproc hwm and swap is sum of peers&#8217; hwms and swaps</div>
<div class="line">[Monday 10 January 2011] [07:54:14] &lt;CIA-21&gt;  zeromq2: The meat of the patch was contributed by Douglas Creager.</div>
<div class="line">[Monday 10 January 2011] [07:54:14] &lt;CIA-21&gt;  zeromq2: Martin Sustrik implemented storing peer options in inproc</div>
<div class="line">[Monday 10 January 2011] [07:54:14] &lt;CIA-21&gt;  zeromq2: endpoint repository.</div>
<div class="line">[Monday 10 January 2011] [07:54:14] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/fE9QLj">http://bit.ly/fE9QLj</a></div>
<div class="line">[Monday 10 January 2011] [09:34:11] &lt;zchrish&gt; Is there a way to control which IP addresses subscribe to a publisher?</div>
<div class="line">[Monday 10 January 2011] [09:50:43] &lt;sustrik&gt; firewall?</div>
<div class="line">[Monday 10 January 2011] [10:11:29] &lt;zchrish&gt; OK; I assumed that was the design of the package. Thank you.</div>
<div class="line">[Monday 10 January 2011] [12:25:54] &lt;zchrish&gt; Is there a way to determine which IP addresses are subscribed to a publisher?</div>
<div class="line">[Monday 10 January 2011] [12:28:47] &lt;cremes&gt;  zchrish: not from within the framework</div>
<div class="line">[Monday 10 January 2011] [12:29:03] &lt;zchrish&gt; ok; thank you.</div>
<div class="line">[Monday 10 January 2011] [12:48:25] &lt;s0undt3ch&gt;       hello ppl</div>
<div class="line">[Monday 10 January 2011] [12:48:27] &lt;s0undt3ch&gt;       using pyzmq</div>
<div class="line">[Monday 10 January 2011] [12:48:47] &lt;s0undt3ch&gt;       if we want to filter PUB/SUB messages, we need to send them multipart?</div>
<div class="line">[Monday 10 January 2011] [12:50:55] &lt;<a href="#id53"><span class="problematic" id="id54">Vince__</span></a>&gt; hey</div>
<div class="line">[Monday 10 January 2011] [12:53:15] &lt;<a href="#id53"><span class="problematic" id="id55">Vince__</span></a>&gt; I&#8217;ve making a wrapper and zmq_bind crashes. I am certain I am sending the right information at the API zmq_bind%(pSoc%,psAddr$):&#8221;zmq_bind&#8221;  and RetVal = zmq_bind(pSoc, &#8220;<a class="reference external" href="tcp://">tcp://</a><a href="#id17"><span class="problematic" id="id18">*</span></a>:5555&#8221;)</div>
<div class="line">[Monday 10 January 2011] [12:53:20] &lt;sustrik&gt; s0undt3ch: no</div>
<div class="line">[Monday 10 January 2011] [12:53:34] &lt;s0undt3ch&gt;       sustrik: plain send right?</div>
<div class="line">[Monday 10 January 2011] [12:53:41] &lt;sustrik&gt; yes</div>
<div class="line">[Monday 10 January 2011] [12:54:06] &lt;sustrik&gt; <a href="#id53"><span class="problematic" id="id56">Vince__</span></a>: what&#8217;s the crash?</div>
<div class="line">[Monday 10 January 2011] [12:54:15] &lt;s0undt3ch&gt;       send_pyobj won&#8217;t allow this :</div>
<div class="line">[Monday 10 January 2011] [12:54:50] &lt;sustrik&gt; how come?</div>
<div class="line">[Monday 10 January 2011] [12:55:16] &lt;<a href="#id53"><span class="problematic" id="id57">Vince__</span></a>&gt; Unfortunately I don&#8217;t know because this is a user library for Blitz Basic and the debugger crashes with no output.</div>
<div class="line">[Monday 10 January 2011] [12:55:49] &lt;sustrik&gt; hard to help then</div>
<div class="line">[Monday 10 January 2011] [12:56:19] &lt;sustrik&gt; but i haven&#8217;t seen any reports about zmq_bind crashing yet</div>
<div class="line">[Monday 10 January 2011] [12:56:33] &lt;sustrik&gt; so maybe you should look at the layers above first</div>
<div class="line">[Monday 10 January 2011] [12:56:46] &lt;s0undt3ch&gt;       sustrik: send_pyobj pickles and unpicles the object we pass, filtering is done similar to msg.startswith() which won&#8217;t work on a pickled string</div>
<div class="line">[Monday 10 January 2011] [12:57:08] &lt;sustrik&gt; i see</div>
<div class="line">[Monday 10 January 2011] [12:57:19] &lt;sustrik&gt; then maybe make a pyzmq patch</div>
<div class="line">[Monday 10 January 2011] [12:57:26] &lt;sustrik&gt; to allow simple pub/sub messages</div>
<div class="line">[Monday 10 January 2011] [12:57:30] &lt;<a href="#id53"><span class="problematic" id="id58">Vince__</span></a>&gt; Is it possible to make zeromq to a debug dump as API access occurs? Maybe to a text file or something?</div>
<div class="line">[Monday 10 January 2011] [12:58:00] &lt;s0undt3ch&gt;       sustrik: simple pub/sub messages, text messages, it supports them, I just wanted the pickling/unpickling to be automated ;)</div>
<div class="line">[Monday 10 January 2011] [12:58:15] &lt;sustrik&gt; <a href="#id53"><span class="problematic" id="id59">Vince__</span></a>: you can create a core dump and inspect it in debugger afterwards</div>
<div class="line">[Monday 10 January 2011] [12:58:38] &lt;s0undt3ch&gt;       If I pickle/unpickle myself, I can do, &#8216;filter &lt;pickled_string&gt;&#8217;</div>
<div class="line">[Monday 10 January 2011] [12:58:50] &lt;s0undt3ch&gt;       but then I have to be the one pickling and unpickling</div>
<div class="line">[Monday 10 January 2011] [13:00:41] &lt;sustrik&gt; i see</div>
<div class="line">[Monday 10 January 2011] [13:04:35] &lt;s0undt3ch&gt;       anyway, since the filtering is done on the client side, I might skip it or work arround that issue</div>
<div class="line">[Monday 10 January 2011] [13:22:44] &lt;guido_g&gt; why not put the topic (plus &#8216;0&#8217;) before the pickled data and on receive split on the first &#8216;0&#8217;?</div>
<div class="line">[Monday 10 January 2011] [13:37:43] &lt;s0undt3ch&gt;       guido_g: that&#8217;s an idea, but it needs to be done on the python bindings</div>
<div class="line">[Monday 10 January 2011] [13:37:57] &lt;guido_g&gt; why?</div>
<div class="line">[Monday 10 January 2011] [13:38:41] &lt;s0undt3ch&gt;       guido_g: because using recv_pyobjc does the unplickling for us, so, 0 spliting should be done before unpickling</div>
<div class="line">[Monday 10 January 2011] [13:38:51] &lt;s0undt3ch&gt;       ecv_pyobj</div>
<div class="line">[Monday 10 January 2011] [13:38:54] &lt;s0undt3ch&gt;       errrr</div>
<div class="line">[Monday 10 January 2011] [13:38:57] &lt;s0undt3ch&gt;       <a href="#id19"><span class="problematic" id="id20">*</span></a>recv_pyobj</div>
<div class="line">[Monday 10 January 2011] [13:39:49] &lt;guido_g&gt; recv_pyobj is a general method, not only for sub sockets</div>
<div class="line">[Monday 10 January 2011] [13:40:27] &lt;guido_g&gt; just derive a class and implement your desired behaviour</div>
<div class="line">[Monday 10 January 2011] [13:40:47] &lt;guido_g&gt; much much easier, for you and the pyzmq devs</div>
<div class="line">[Monday 10 January 2011] [13:41:09] &lt;s0undt3ch&gt;       that can be done to, sure, but then I&#8217;d have to also subclass Context in order for it to return my socket implementation</div>
<div class="line">[Monday 10 January 2011] [13:41:36] &lt;guido_g&gt; just start to use a factory</div>
<div class="line">[Monday 10 January 2011] [13:41:36] &lt;s0undt3ch&gt;       guido_g: so right now, I might just use another socket for the filtering :)</div>
<div class="line">[Monday 10 January 2011] [14:08:18] &lt;s0undt3ch&gt;       guido_g: <a class="reference external" href="http://paste.pocoo.org/show/318466/">http://paste.pocoo.org/show/318466/</a></div>
<div class="line">[Monday 10 January 2011] [14:09:26] &lt;guido_g&gt; this is for sub sockets only?</div>
<div class="line">[Monday 10 January 2011] [14:10:17] &lt;s0undt3ch&gt;       guido_g: when you mean sub, you mean those we get from context.socket?</div>
<div class="line">[Monday 10 January 2011] [14:10:40] &lt;s0undt3ch&gt;       well, anyway dunno, all of those that make use of socket.pyx</div>
<div class="line">[Monday 10 January 2011] [14:10:42] &lt;guido_g&gt; no</div>
<div class="line">[Monday 10 January 2011] [14:10:56] &lt;guido_g&gt; i mean sockets of type zmq.SUB</div>
<div class="line">[Monday 10 January 2011] [14:11:08] &lt;s0undt3ch&gt;       ah</div>
<div class="line">[Monday 10 January 2011] [14:11:15] &lt;s0undt3ch&gt;       didn&#8217;t though of that</div>
<div class="line">[Monday 10 January 2011] [14:11:16] &lt;s0undt3ch&gt;       :)</div>
<div class="line">[Monday 10 January 2011] [14:11:17] &lt;guido_g&gt; or zmq.PUB</div>
<div class="line">[Monday 10 January 2011] [14:11:26] &lt;guido_g&gt; so you allow a topic for all sockets</div>
<div class="line">[Monday 10 January 2011] [14:11:33] &lt;guido_g&gt; which is silly</div>
<div class="line">[Monday 10 January 2011] [14:11:36] &lt;s0undt3ch&gt;       yes</div>
<div class="line">[Monday 10 January 2011] [14:13:22] &lt;guido_g&gt; as I said, implement a socket factory where you register your _special_ sockets</div>
<div class="line">[Monday 10 January 2011] [14:14:24] &lt;guido_g&gt; so you don&#8217;t need to patch a perfectly nice working module and would gain a higher degree of freedom</div>
<div class="line">[Monday 10 January 2011] [14:17:12] &lt;s0undt3ch&gt;       yeah</div>
<div class="line">[Monday 10 January 2011] [17:16:52] &lt;vince____&gt;       Finally managed to get an error out of Bind failing on my wrapper. First-chance exception at 0x762cb727 in test.exe: Microsoft C++ exception: zmq::error_t at memory location 0x0019f8f0..</div>
<div class="line">[Monday 10 January 2011] [17:30:37] &lt;mikko&gt;   vince____: is that an unhandled exception?</div>
<div class="line">[Monday 10 January 2011] [22:13:11] &lt;potatodemon&gt;     Howdy, how many queues can 0mq handle on a machine with a gig of ram?</div>
<div class="line">[Tuesday 11 January 2011] [07:20:02] &lt;mikko&gt;  hi steve</div>
<div class="line">[Tuesday 11 January 2011] [07:20:43] &lt;mikko&gt;  is it possible to have the scons to build to a specific subdirectory rather than platform specific one?</div>
<div class="line">[Tuesday 11 January 2011] [07:21:00] &lt;mikko&gt;  i played around during weekend with invoking scons build from zeromq build</div>
<div class="line">[Tuesday 11 January 2011] [07:26:11] &lt;Steve-o&gt;        just use autoconf &amp; automake?</div>
<div class="line">[Tuesday 11 January 2011] [07:26:43] &lt;Steve-o&gt;        check the new trunk, committed support ~90 mins ago</div>
<div class="line">[Tuesday 11 January 2011] [07:27:15] &lt;Steve-o&gt;        please test on old platforms as I&#8217;ve hard coded the minimum versions to Ubuntu 10.10 :-)</div>
<div class="line">[Tuesday 11 January 2011] [07:27:37] &lt;Steve-o&gt;        &#8220;silent building&#8221; is limited to automake 1.11 I think</div>
<div class="line">[Tuesday 11 January 2011] [07:28:03] &lt;Steve-o&gt;        I&#8217;ll have a look at CMake for Windows later</div>
<div class="line">[Tuesday 11 January 2011] [07:28:11] &lt;mikko&gt;  yes, automake would make things easier</div>
<div class="line">[Tuesday 11 January 2011] [07:28:39] &lt;mikko&gt;  the current way doesn&#8217;t seem sustainable to me in the longer run</div>
<div class="line">[Tuesday 11 January 2011] [07:28:56] &lt;mikko&gt;  another question was about openpgm ABI/API</div>
<div class="line">[Tuesday 11 January 2011] [07:29:11] &lt;mikko&gt;  is there a guarantee in openpgm related to those?</div>
<div class="line">[Tuesday 11 January 2011] [07:29:33] &lt;Steve-o&gt;        The version numbers tie to the ABI</div>
<div class="line">[Tuesday 11 January 2011] [07:30:01] &lt;Steve-o&gt;        minor version on ABI changes, micro version on fixes</div>
<div class="line">[Tuesday 11 January 2011] [07:30:35] &lt;Steve-o&gt;        I&#8217;ve tried setting release/version-info with automake</div>
<div class="line">[Tuesday 11 January 2011] [07:30:42] &lt;mikko&gt;  because if we invoke openpgm build from 0mq we could support specifying arbitrary openpgm location as well</div>
<div class="line">[Tuesday 11 January 2011] [07:30:52] &lt;mikko&gt;  so that we wouldn&#8217;t force certain version of openpgm</div>
<div class="line">[Tuesday 11 January 2011] [07:31:09] &lt;Steve-o&gt;        with autoconf distros are more likely to package it :D</div>
<div class="line">[Tuesday 11 January 2011] [07:31:17] &lt;mikko&gt;  brb, lunch</div>
<div class="line">[Tuesday 11 January 2011] [08:42:02] &lt;sustrik&gt;        mikko: have you seen the s360 patch?</div>
<div class="line">[Tuesday 11 January 2011] [08:42:33] &lt;sustrik&gt;        oh, it wasnt&#8217;t sent to the mailing list</div>
<div class="line">[Tuesday 11 January 2011] [08:42:36] &lt;sustrik&gt;        wait a sec</div>
<div class="line">[Tuesday 11 January 2011] [08:45:01] &lt;sustrik&gt;        sent to the mailing list</div>
<div class="line">[Tuesday 11 January 2011] [10:18:03] &lt;Skaag&gt;  I want to subscribe to the mailing list</div>
<div class="line">[Tuesday 11 January 2011] [10:21:35] &lt;mikko&gt;  Skaag: <a class="reference external" href="http://lists.zeromq.org/mailman/listinfo/zeromq-dev">http://lists.zeromq.org/mailman/listinfo/zeromq-dev</a></div>
<div class="line">[Tuesday 11 January 2011] [10:23:26] &lt;Skaag&gt;  thank you :)</div>
<div class="line">[Tuesday 11 January 2011] [10:23:34] &lt;Skaag&gt;  my internet is painfully slow :-(</div>
<div class="line">[Tuesday 11 January 2011] [10:23:45] &lt;Skaag&gt;  So even subscribing to this will take a while</div>
<div class="line">[Tuesday 11 January 2011] [10:24:45] &lt;Skaag&gt;  there, done, thankfully that page is very minimalistic and not loaded with images</div>
<div class="line">[Tuesday 11 January 2011] [11:18:58] &lt;jugg&gt;   sustrik, my implementation of erlzmq can be found here: <a class="reference external" href="https://github.com/csrl/erlzmq">https://github.com/csrl/erlzmq</a>   If you want me to push to the zeromq/erlzmq repo, let me know.</div>
<div class="line">[Tuesday 11 January 2011] [12:54:08] &lt;sustrik&gt;        jugg: try to ask serge aleynikov first</div>
<div class="line">[Tuesday 11 January 2011] [12:54:20] &lt;sustrik&gt;        he&#8217;ve been maintaining the erlzmq</div>
<div class="line">[Tuesday 11 January 2011] [12:54:51] &lt;sustrik&gt;        <a class="reference external" href="mailto:serge&#37;&#52;&#48;aleynikov&#46;org">serge<span>&#64;</span>aleynikov<span>&#46;</span>org</a></div>
<div class="line">[Tuesday 11 January 2011] [13:03:03] &lt;s0undt3ch&gt;      on a PUB socket, it can only be binded by a single instance? ie, can serveral unrelated parts of my code be bind to the same PUB socket?</div>
<div class="line">[Tuesday 11 January 2011] [13:03:47] &lt;s0undt3ch&gt;      from what I&#8217;m seeing from my code, it apears that it works like that :</div>
<div class="line">[Tuesday 11 January 2011] [13:04:06] &lt;s0undt3ch&gt;      do I need to create a FORWARDER device of some kind?</div>
<div class="line">[Tuesday 11 January 2011] [13:06:09] &lt;s0undt3ch&gt;      sustrik: any idea?</div>
<div class="line">[Tuesday 11 January 2011] [13:07:20] &lt;sustrik&gt;        no. several sockets can&#8217;t bind to the same endpoint</div>
<div class="line">[Tuesday 11 January 2011] [13:07:50] &lt;sustrik&gt;        if there are N pubs and M subs you need a forwarding device of some kind</div>
<div class="line">[Tuesday 11 January 2011] [13:08:03] &lt;sustrik&gt;        0MQ socket is always 1:N</div>
<div class="line">[Tuesday 11 January 2011] [13:08:23] &lt;sustrik&gt;        N:M topologies are created using devices in the middle</div>
<div class="line">[Tuesday 11 January 2011] [13:09:10] &lt;s0undt3ch&gt;      sustrik: hmm, any examples of that anywhere?</div>
<div class="line">[Tuesday 11 January 2011] [13:09:52] &lt;guido_g&gt;        <a class="reference external" href="http://paste.pocoo.org/show/318987/">http://paste.pocoo.org/show/318987/</a>   &lt;- minimal forwarder config</div>
<div class="line">[Tuesday 11 January 2011] [13:10:11] &lt;guido_g&gt;        the in address is where the pubs connect to</div>
<div class="line">[Tuesday 11 January 2011] [13:10:18] &lt;guido_g&gt;        the out where the subs connect to</div>
<div class="line">[Tuesday 11 January 2011] [13:10:48] &lt;guido_g&gt;        simply start zmq_forwarder &lt;config-file&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:10:48] &lt;s0undt3ch&gt;      hmm, ok</div>
<div class="line">[Tuesday 11 January 2011] [13:10:50] &lt;s0undt3ch&gt;      Thanks!</div>
<div class="line">[Tuesday 11 January 2011] [13:11:38] &lt;guido_g&gt;        you can have multiple bind addresses per section</div>
<div class="line">[Tuesday 11 January 2011] [13:12:10] &lt;sustrik&gt;        the config file looks something like this:</div>
<div class="line">[Tuesday 11 January 2011] [13:12:11] &lt;sustrik&gt;        &lt;forwarder&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:11] &lt;sustrik&gt;            &lt;in&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:12] &lt;sustrik&gt;                &lt;bind addr = &#8220;<a class="reference external" href="tcp://eth0:5555&amp;quot;/">tcp://eth0:5555&amp;quot;/</a>&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:12] &lt;sustrik&gt;            &lt;/in&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:12] &lt;sustrik&gt;            &lt;out&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:13] &lt;sustrik&gt;                &lt;bind addr = &#8220;<a class="reference external" href="tcp://eth0:5556&amp;quot;/">tcp://eth0:5556&amp;quot;/</a>&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:15] &lt;sustrik&gt;            &lt;/out&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:17] &lt;sustrik&gt;        &lt;/forwarder&gt;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:36] &lt;s0undt3ch&gt;      guido_g: the forwarder device will then allow multiple binds and connects</div>
<div class="line">[Tuesday 11 January 2011] [13:12:46] &lt;s0undt3ch&gt;      I thinks that&#8217;s what I&#8217;m really after</div>
<div class="line">[Tuesday 11 January 2011] [13:12:51] &lt;s0undt3ch&gt;      <a href="#id21"><span class="problematic" id="id22">*</span></a>think</div>
<div class="line">[Tuesday 11 January 2011] [13:12:52] &lt;sustrik&gt;        oops, there should be double quoute instead of &amp;quot;</div>
<div class="line">[Tuesday 11 January 2011] [13:12:57] &lt;s0undt3ch&gt;      yeah</div>
<div class="line">[Tuesday 11 January 2011] [13:13:05] &lt;s0undt3ch&gt;      I also saw guido_g&#8217;s paste</div>
<div class="line">[Tuesday 11 January 2011] [13:13:07] &lt;guido_g&gt;        you PUB sockets all connect to the in addresses</div>
<div class="line">[Tuesday 11 January 2011] [13:13:19] &lt;sustrik&gt;        ah, i missed that</div>
<div class="line">[Tuesday 11 January 2011] [13:13:20] &lt;s0undt3ch&gt;      yeah, I think I got it</div>
<div class="line">[Tuesday 11 January 2011] [13:13:21] &lt;guido_g&gt;        you SUB sockets connect to the out addresses</div>
<div class="line">[Tuesday 11 January 2011] [13:45:49] &lt;s0undt3ch&gt;      do I need to set zmq.SUBSCRIBE on the device?</div>
<div class="line">[Tuesday 11 January 2011] [13:47:36] &lt;guido_g&gt;        no</div>
<div class="line">[Tuesday 11 January 2011] [13:47:44] &lt;guido_g&gt;        just what i pasted</div>
<div class="line">[Tuesday 11 January 2011] [13:51:42] &lt;s0undt3ch&gt;      guido_g: I&#8217;m not using zmq_formwarder, I&#8217;m using the python bindings :</div>
<div class="line">[Tuesday 11 January 2011] [13:52:12] &lt;guido_g&gt;        writing you own device? why?</div>
<div class="line">[Tuesday 11 January 2011] [13:52:28] &lt;guido_g&gt;        btw, i&#8217;m also using python</div>
<div class="line">[Tuesday 11 January 2011] [13:52:59] &lt;s0undt3ch&gt;      guido_g: zmq_forwarder is python?</div>
<div class="line">[Tuesday 11 January 2011] [13:53:04] &lt;guido_g&gt;        no</div>
<div class="line">[Tuesday 11 January 2011] [13:53:24] &lt;guido_g&gt;        its a program that comes with mq</div>
<div class="line">[Tuesday 11 January 2011] [13:53:37] &lt;s0undt3ch&gt;      guido_g: <a class="reference external" href="http://paste.pocoo.org/show/319013/">http://paste.pocoo.org/show/319013/</a> my forwarding device</div>
<div class="line">[Tuesday 11 January 2011] [13:54:12] &lt;guido_g&gt;        seems you like it complicated</div>
<div class="line">[Tuesday 11 January 2011] [13:54:27] &lt;s0undt3ch&gt;      not realy, I&#8217;d love to make it simple</div>
<div class="line">[Tuesday 11 January 2011] [13:54:37] &lt;s0undt3ch&gt;      guido_g: what have I made complicate?</div>
<div class="line">[Tuesday 11 January 2011] [13:54:59] &lt;guido_g&gt;        by not using what&#8217;s already there</div>
<div class="line">[Tuesday 11 January 2011] [13:55:37] &lt;s0undt3ch&gt;      I&#8217;m sorry... I don&#8217;t know all of pyzmq&#8217;s source code</div>
<div class="line">[Tuesday 11 January 2011] [13:55:45] &lt;guido_g&gt;        me neither</div>
<div class="line">[Tuesday 11 January 2011] [13:55:56] &lt;s0undt3ch&gt;      so what&#8217;s there, where can I read it?</div>
<div class="line">[Tuesday 11 January 2011] [13:56:07] &lt;guido_g&gt;        but if you install nmq, zmq_forwarder is also installed</div>
<div class="line">[Tuesday 11 January 2011] [13:56:38] &lt;s0undt3ch&gt;      guido_g: I&#8217;m launching my own app, I&#8217;m not gonna use subprocess to lauch zmq_forwarder!?</div>
<div class="line">[Tuesday 11 January 2011] [13:56:56] &lt;s0undt3ch&gt;      espcially since pyzmq also provides irt</div>
<div class="line">[Tuesday 11 January 2011] [13:56:58] &lt;s0undt3ch&gt;      <a href="#id23"><span class="problematic" id="id24">*</span></a>it</div>
<div class="line">[Tuesday 11 January 2011] [13:56:59] &lt;guido_g&gt;        just start it in backround</div>
<div class="line">[Tuesday 11 January 2011] [13:57:21] &lt;yawn&gt;   regarding jzmq - is there any advice on error handling? i regularly experience the jvm dying due to zmq errors.</div>
<div class="line">[Tuesday 11 January 2011] [13:57:39] &lt;s0undt3ch&gt;      ok, as a last resort. Can you please, since you also code in python, walk me through setting up the threaddevice?</div>
<div class="line">[Tuesday 11 January 2011] [13:58:07] &lt;guido_g&gt;        what threaddevice?</div>
<div class="line">[Tuesday 11 January 2011] [13:58:36] &lt;s0undt3ch&gt;      guido_g: <a class="reference external" href="http://zeromq.github.com/pyzmq/api/generated/zmq.devices.basedevice.html#threaddevice">http://zeromq.github.com/pyzmq/api/generated/zmq.devices.basedevice.html#threaddevice</a></div>
<div class="line">[Tuesday 11 January 2011] [13:59:55] &lt;guido_g&gt;        where is the problem?</div>
<div class="line">[Tuesday 11 January 2011] [14:00:09] &lt;s0undt3ch&gt;      guido_g: my code is aparently not working</div>
<div class="line">[Tuesday 11 January 2011] [14:00:16] &lt;guido_g&gt;        its nearly the same as the config i pasted</div>
<div class="line">[Tuesday 11 January 2011] [14:00:44] &lt;guido_g&gt;        s0undt3ch: i can&#8217;t see that from here, to many walls</div>
<div class="line">[Tuesday 11 January 2011] [14:01:12] &lt;guido_g&gt;        s0undt3ch: iow, could show the error message and the corresponding code?</div>
<div class="line">[Tuesday 11 January 2011] [14:01:21] &lt;s0undt3ch&gt;      it&#8217; s probably the subscriber</div>
<div class="line">[Tuesday 11 January 2011] [14:01:23] &lt;s0undt3ch&gt;      no error</div>
<div class="line">[Tuesday 11 January 2011] [14:01:33] &lt;s0undt3ch&gt;      I&#8217;m just not getting anything on the M subscribers</div>
<div class="line">[Tuesday 11 January 2011] [14:01:39] &lt;guido_g&gt;        show code</div>
<div class="line">[Tuesday 11 January 2011] [14:01:43] &lt;s0undt3ch&gt;      although the N publishers are publishing</div>
<div class="line">[Tuesday 11 January 2011] [14:03:46] &lt;s0undt3ch&gt;      guido_g: test subscriber</div>
<div class="line">[Tuesday 11 January 2011] [14:04:15] &lt;guido_g&gt;        s0undt3ch: huh? what does that mean?</div>
<div class="line">[Tuesday 11 January 2011] [14:04:29] &lt;s0undt3ch&gt;      guido_g: sorry</div>
<div class="line">[Tuesday 11 January 2011] [14:04:31] &lt;s0undt3ch&gt;      guido_g: test subscriber <a class="reference external" href="http://bpaste.net/show/12837/">http://bpaste.net/show/12837/</a></div>
<div class="line">[Tuesday 11 January 2011] [14:04:36] &lt;s0undt3ch&gt;      forgot the paste</div>
<div class="line">[Tuesday 11 January 2011] [14:06:30] &lt;guido_g&gt;        does the device publish to the unix socket the subscriber expects?</div>
<div class="line">[Tuesday 11 January 2011] [14:06:32] &lt;sustrik&gt;        yawn: what errors are you getting?</div>
<div class="line">[Tuesday 11 January 2011] [14:06:41] &lt;sustrik&gt;        can you send them to the mailing list?</div>
<div class="line">[Tuesday 11 January 2011] [14:07:06] &lt;s0undt3ch&gt;      guido_g: <a class="reference external" href="http://bpaste.net/show/12838/">http://bpaste.net/show/12838/</a> test publisher</div>
<div class="line">[Tuesday 11 January 2011] [14:07:13] &lt;s0undt3ch&gt;      sustrik: no errors at all</div>
<div class="line">[Tuesday 11 January 2011] [14:07:36] &lt;sustrik&gt;        it&#8217;s question for yawn</div>
<div class="line">[Tuesday 11 January 2011] [14:07:46] &lt;sustrik&gt;        he&#8217;s complaining about jzmq craching</div>
<div class="line">[Tuesday 11 January 2011] [14:07:55] &lt;s0undt3ch&gt;      sustrik: oh, sorry</div>
<div class="line">[Tuesday 11 January 2011] [14:08:00] &lt;sustrik&gt;        np</div>
<div class="line">[Tuesday 11 January 2011] [14:08:15] &lt;s0undt3ch&gt;      guido_g: the forwarder seems to not be forwarding nothing at all</div>
<div class="line">[Tuesday 11 January 2011] [14:09:07] &lt;guido_g&gt;        s0undt3ch: there is no forwarder involved as far as i can see</div>
<div class="line">[Tuesday 11 January 2011] [14:09:34] &lt;s0undt3ch&gt;      guido_g: the forwarder was the first paste, the one you said I was complicating</div>
<div class="line">[Tuesday 11 January 2011] [14:09:54] &lt;guido_g&gt;        <em>sigh</em></div>
<div class="line">[Tuesday 11 January 2011] [14:10:09] &lt;guido_g&gt;        s0undt3ch: see which endpoints your code is using</div>
<div class="line">[Tuesday 11 January 2011] [14:10:35] &lt;guido_g&gt;        s0undt3ch: pub and sub are using the unix socket</div>
<div class="line">[Tuesday 11 January 2011] [14:10:44] &lt;s0undt3ch&gt;      yes</div>
<div class="line">[Tuesday 11 January 2011] [14:10:54] &lt;s0undt3ch&gt;      can&#8217;t be unix sockets?</div>
<div class="line">[Tuesday 11 January 2011] [14:11:10] &lt;s0undt3ch&gt;      guido_g: diferent sockets though</div>
<div class="line">[Tuesday 11 January 2011] [14:11:19] &lt;s0undt3ch&gt;      xxx-in and xxx-out</div>
<div class="line">[Tuesday 11 January 2011] [14:15:19] &lt;yawn&gt;   sustrik: Bad file descriptorrc != -1 (kqueue.cpp:79)</div>
<div class="line">[Tuesday 11 January 2011] [14:15:47] &lt;yawn&gt;   sustrik: &#8220;somewhere&#8221;, no stacktrace available when dealing with jni i suppose</div>
<div class="line">[Tuesday 11 January 2011] [14:16:12] &lt;sustrik&gt;        is it deterministic?</div>
<div class="line">[Tuesday 11 January 2011] [14:17:02] &lt;s0undt3ch&gt;      guido_g: test code -&gt; <a class="reference external" href="http://bpaste.net/show/12840/">http://bpaste.net/show/12840/</a></div>
<div class="line">[Tuesday 11 January 2011] [14:17:08] &lt;s0undt3ch&gt;      guido_g: what&#8217;s wrong there?</div>
<div class="line">[Tuesday 11 January 2011] [14:18:45] &lt;guido_g&gt;        ipc endpoints are file names, <a class="reference external" href="http://api.zeromq.org/zmq_ipc.html">http://api.zeromq.org/zmq_ipc.html</a></div>
<div class="line">[Tuesday 11 January 2011] [14:18:57] &lt;s0undt3ch&gt;      yes</div>
<div class="line">[Tuesday 11 January 2011] [14:19:15] &lt;s0undt3ch&gt;      that will create a file on the curent dir</div>
<div class="line">[Tuesday 11 January 2011] [14:19:36] &lt;yawn&gt;   sustrik: no really. only in the sense that it happens from time to time.</div>
<div class="line">[Tuesday 11 January 2011] [14:19:41] &lt;s0undt3ch&gt;      the diferences in paths on the previous code mean nothing, my app changes dir</div>
<div class="line">[Tuesday 11 January 2011] [14:21:35] &lt;snidely&gt;        If I have a high volume of stock/option quotes coming into a data center and I want clients connected over a low speed WAN link to subscribe to quotes from that dc.  Should I use 0MQ?  Or do I need some broker based solution so that the whole multicast doesnt have to go over the WAN for key based filtering on each client?</div>
<div class="line">[Tuesday 11 January 2011] [14:23:12] &lt;sustrik&gt;        snidely, are you looking for solution for both WAN and LAN?</div>
<div class="line">[Tuesday 11 January 2011] [14:24:06] &lt;sustrik&gt;        in that case the best way is to place forwarder device at the edge of your LAN</div>
<div class="line">[Tuesday 11 January 2011] [14:24:15] &lt;sustrik&gt;        then use TCP for WAN</div>
<div class="line">[Tuesday 11 January 2011] [14:24:21] &lt;sustrik&gt;        and multicast only on LAN part</div>
<div class="line">[Tuesday 11 January 2011] [14:24:33] &lt;s0undt3ch&gt;      guido_g: forwarders can&#8217;t use unix sockets?</div>
<div class="line">[Tuesday 11 January 2011] [14:24:46] &lt;guido_g&gt;        don&#8217;t know, ask sustric</div>
<div class="line">[Tuesday 11 January 2011] [14:24:59] &lt;s0undt3ch&gt;      sustrik:  forwarders can&#8217;t use unix sockets?</div>
<div class="line">[Tuesday 11 January 2011] [14:25:00] &lt;guido_g&gt;        s/c$/k/</div>
<div class="line">[Tuesday 11 January 2011] [14:25:24] &lt;yawn&gt;   sustrik: but is there a sensible way to handle zmq errors when using it in a jvm?</div>
<div class="line">[Tuesday 11 January 2011] [14:25:28] &lt;sustrik&gt;        s0oundt3ch: they use the transport you specify</div>
<div class="line">[Tuesday 11 January 2011] [14:25:52] &lt;sustrik&gt;        it you are using ipc:// then they use unix domain sockets</div>
<div class="line">[Tuesday 11 January 2011] [14:25:57] &lt;s0undt3ch&gt;      sustrik:  what&#8217;s wrong with <a class="reference external" href="http://bpaste.net/show/12840/">http://bpaste.net/show/12840/</a>?</div>
<div class="line">[Tuesday 11 January 2011] [14:26:07] &lt;sustrik&gt;        if you use <a class="reference external" href="tcp://">tcp://</a> they&#8217;ll use TCP socekts</div>
<div class="line">[Tuesday 11 January 2011] [14:26:08] &lt;s0undt3ch&gt;      <a class="reference external" href="http://bpaste.net/show/12840/">http://bpaste.net/show/12840/</a></div>
<div class="line">[Tuesday 11 January 2011] [14:26:11] &lt;s0undt3ch&gt;      yeah</div>
<div class="line">[Tuesday 11 January 2011] [14:26:22] &lt;s0undt3ch&gt;      but my forwarder isn&#8217;t forwarding</div>
<div class="line">[Tuesday 11 January 2011] [14:27:24] &lt;snidely&gt;        yeah I want to be able to have client apps at the datacenter subscribe to quotes (in large volume) and also have apps connected via WAN subscribe in small quantities.</div>
<div class="line">[Tuesday 11 January 2011] [14:28:54] &lt;snidely&gt;        Where can I get more info about forwarders?  This is unfinished: <a class="reference external" href="http://api.zeromq.org/zmq_forwarder.html">http://api.zeromq.org/zmq_forwarder.html</a></div>
<div class="line">[Tuesday 11 January 2011] [14:29:17] &lt;sustrik&gt;        it&#8217;s a simple executable, zmq_forwarder</div>
<div class="line">[Tuesday 11 January 2011] [14:29:29] &lt;sustrik&gt;        the argument is a config file</div>
<div class="line">[Tuesday 11 January 2011] [14:29:44] &lt;sustrik&gt;        <a class="reference external" href="http://paste.pocoo.org/show/318987/">http://paste.pocoo.org/show/318987/</a></div>
<div class="line">[Tuesday 11 January 2011] [14:30:08] &lt;sustrik&gt;        s0oundt3ch: hm, it&#8217;s a pyzmq implementation of forwarder</div>
<div class="line">[Tuesday 11 January 2011] [14:30:09] &lt;guido_g&gt;        s0undt3ch: can&#8217;t get your python forwarder to work even w/ tcp</div>
<div class="line">[Tuesday 11 January 2011] [14:30:16] &lt;sustrik&gt;        no idea how it works</div>
<div class="line">[Tuesday 11 January 2011] [14:30:27] &lt;s0undt3ch&gt;      hmmm</div>
<div class="line">[Tuesday 11 January 2011] [14:30:29] &lt;s0undt3ch&gt;      dam</div>
<div class="line">[Tuesday 11 January 2011] [14:30:43] &lt;sustrik&gt;        try asking on the mailing list</div>
<div class="line">[Tuesday 11 January 2011] [14:30:48] &lt;s0undt3ch&gt;      guido_g: something must be terrably wrong</div>
<div class="line">[Tuesday 11 January 2011] [14:30:53] &lt;sustrik&gt;        pyzmq devs should be able to reply</div>
<div class="line">[Tuesday 11 January 2011] [14:31:22] &lt;guido_g&gt;        with the original zmq forwarder it works ove rtcp</div>
<div class="line">[Tuesday 11 January 2011] [14:33:07] &lt;s0undt3ch&gt;      guido_g: the original zmq_forwarder?</div>
<div class="line">[Tuesday 11 January 2011] [14:33:12] &lt;guido_g&gt;        yes</div>
<div class="line">[Tuesday 11 January 2011] [14:33:17] &lt;s0undt3ch&gt;      hmm</div>
<div class="line">[Tuesday 11 January 2011] [14:33:31] &lt;guido_g&gt;        the one that comes with mq</div>
<div class="line">[Tuesday 11 January 2011] [14:33:45] &lt;guido_g&gt;        the one i pasted the config for</div>
<div class="line">[Tuesday 11 January 2011] [14:34:43] &lt;s0undt3ch&gt;      yeah</div>
<div class="line">[Tuesday 11 January 2011] [14:36:30] &lt;guido_g&gt;        just verified that that zmq_forwarder works w/ ipc</div>
<div class="line">[Tuesday 11 January 2011] [14:37:24] &lt;guido_g&gt;        did you try a zmq.SUBSCRIBE on the in socket of you device?</div>
<div class="line">[Tuesday 11 January 2011] [14:37:33] &lt;guido_g&gt;        <a href="#id25"><span class="problematic" id="id26">*</span></a>your</div>
<div class="line">[Tuesday 11 January 2011] [14:40:30] &lt;s0undt3ch&gt;      guido_g: just tried, it works</div>
<div class="line">[Tuesday 11 January 2011] [14:40:48] &lt;guido_g&gt;        what a crap</div>
<div class="line">[Tuesday 11 January 2011] [14:41:12] &lt;s0undt3ch&gt;      guido_g: <a class="reference external" href="http://paste.pocoo.org/show/319036/">http://paste.pocoo.org/show/319036/</a> &lt;- this is what I tried, it works</div>
<div class="line">[Tuesday 11 January 2011] [14:41:24] &lt;s0undt3ch&gt;      bypasses the device</div>
<div class="line">[Tuesday 11 January 2011] [14:43:40] &lt;guido_g&gt;        that&#8217;s what you had before the devices were mentioned, right?</div>
<div class="line">[Tuesday 11 January 2011] [14:44:05] &lt;s0undt3ch&gt;      guido_g: yes, but I need multiple publishers</div>
<div class="line">[Tuesday 11 January 2011] [14:44:16] &lt;s0undt3ch&gt;      for multiple subscribers</div>
<div class="line">[Tuesday 11 January 2011] [14:44:33] &lt;s0undt3ch&gt;      thats where devices came in</div>
<div class="line">[Tuesday 11 January 2011] [14:44:42] &lt;guido_g&gt;        i know</div>
<div class="line">[Tuesday 11 January 2011] [14:46:54] &lt;guido_g&gt;        forwarder.setsockopt_in(zmq.SUBSCRIBE, &#8216;&#8217;) &lt;- that&#8217;s the trick</div>
<div class="line">[Tuesday 11 January 2011] [14:47:54] &lt;guido_g&gt;        at least it works w/ tcp</div>
<div class="line">[Tuesday 11 January 2011] [14:48:40] &lt;s0undt3ch&gt;      guido_g: can you paste your code?</div>
<div class="line">[Tuesday 11 January 2011] [14:48:58] &lt;guido_g&gt;        just add the line shown</div>
<div class="line">[Tuesday 11 January 2011] [14:49:33] &lt;s0undt3ch&gt;      guido_g: to which paste?</div>
<div class="line">[Tuesday 11 January 2011] [14:49:39] &lt;guido_g&gt;        omg</div>
<div class="line">[Tuesday 11 January 2011] [14:49:39] &lt;s0undt3ch&gt;      because I had tried that</div>
<div class="line">[Tuesday 11 January 2011] [14:50:18] &lt;s0undt3ch&gt;      guido_g: this one?</div>
<div class="line">[Tuesday 11 January 2011] [14:50:20] &lt;s0undt3ch&gt;      <a class="reference external" href="http://bpaste.net/show/12840/">http://bpaste.net/show/12840/</a></div>
<div class="line">[Tuesday 11 January 2011] [14:50:35] &lt;guido_g&gt;        <a class="reference external" href="http://bpaste.net/show/12841/">http://bpaste.net/show/12841/</a></div>
<div class="line">[Tuesday 11 January 2011] [14:53:26] &lt;s0undt3ch&gt;      great, bpast is throwing 500&#8217;s</div>
<div class="line">[Tuesday 11 January 2011] [14:53:30] &lt;s0undt3ch&gt;      <a href="#id27"><span class="problematic" id="id28">*</span></a>bpaste</div>
<div class="line">[Tuesday 11 January 2011] [14:54:10] &lt;guido_g&gt;        works here</div>
<div class="line">[Tuesday 11 January 2011] [14:55:50] &lt;s0undt3ch&gt;      dunno then</div>
<div class="line">[Tuesday 11 January 2011] [14:57:06] &lt;s0undt3ch&gt;      heh, tpc, address already in use....</div>
<div class="line">[Tuesday 11 January 2011] [14:57:11] &lt;s0undt3ch&gt;      <a href="#id29"><span class="problematic" id="id30">*</span></a>tcp</div>
<div class="line">[Tuesday 11 January 2011] [14:57:58] &lt;s0undt3ch&gt;      guido_g: yeah, tried that too</div>
<div class="line">[Tuesday 11 January 2011] [14:58:06] &lt;s0undt3ch&gt;      guido_g: are you using 2.1.0?</div>
<div class="line">[Tuesday 11 January 2011] [14:58:14] &lt;guido_g&gt;        no</div>
<div class="line">[Tuesday 11 January 2011] [14:58:51] &lt;s0undt3ch&gt;      hmm, I am</div>
<div class="line">[Tuesday 11 January 2011] [14:58:51] &lt;s0undt3ch&gt;      hmm, I am</div>
<div class="line">[Tuesday 11 January 2011] [14:59:07] &lt;s0undt3ch&gt;      sorry for doubling</div>
<div class="line">[Tuesday 11 January 2011] [14:59:16] &lt;s0undt3ch&gt;      quassel wasn&#8217;t responsive</div>
<div class="line">[Tuesday 11 January 2011] [15:01:39] &lt;s0undt3ch&gt;      ok</div>
<div class="line">[Tuesday 11 January 2011] [15:01:45] &lt;s0undt3ch&gt;      seems to be a 2.1.0 issue</div>
<div class="line">[Tuesday 11 January 2011] [15:02:05] &lt;s0undt3ch&gt;      on the subscribers endpoint</div>
<div class="line">[Tuesday 11 January 2011] [15:04:29] &lt;s0undt3ch&gt;      I think I found a bug</div>
<div class="line">[Tuesday 11 January 2011] [15:04:47] &lt;s0undt3ch&gt;      just recreating a minimal example to create a ticket</div>
<div class="line">[Tuesday 11 January 2011] [15:11:14] &lt;s0undt3ch&gt;      dam, with pyzmq&#8217;s ioloop it works correctly</div>
<div class="line">[Tuesday 11 January 2011] [15:11:22] &lt;s0undt3ch&gt;      even on 2.1.0</div>
<div class="line">[Tuesday 11 January 2011] [15:13:13] &lt;CIA-21&gt; zeromq2: 03Martin Sustrik 07master * r725ebce 10/ include/zmq.h :</div>
<div class="line">[Tuesday 11 January 2011] [15:13:13] &lt;CIA-21&gt; zeromq2: Version bumped to 2.1.1</div>
<div class="line">[Tuesday 11 January 2011] [15:13:13] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/ihsCvD">http://bit.ly/ihsCvD</a></div>
<div class="line">[Tuesday 11 January 2011] [15:41:10] &lt;mikko&gt;  sustrik: will look into the build patch now</div>
<div class="line">[Tuesday 11 January 2011] [15:43:21] &lt;sustrik&gt;        mikko: i&#8217;ve seen there are some additional functions being checked for</div>
<div class="line">[Tuesday 11 January 2011] [15:43:25] &lt;sustrik&gt;        for OpenPGM&#8217;s sake</div>
<div class="line">[Tuesday 11 January 2011] [15:43:47] &lt;sustrik&gt;        they probably should not be checked for if pgm is disabled though</div>
<div class="line">[Tuesday 11 January 2011] [15:44:25] &lt;mikko&gt;  yes</div>
<div class="line">[Tuesday 11 January 2011] [15:44:38] &lt;mikko&gt;  steve has been working on openpgm autoconf as well</div>
<div class="line">[Tuesday 11 January 2011] [15:44:43] &lt;mikko&gt;  which is very good progress</div>
<div class="line">[Tuesday 11 January 2011] [15:44:59] &lt;mikko&gt;  we could invoke the openpgm build from zeromq build without additional deps</div>
<div class="line">[Tuesday 11 January 2011] [15:45:26] &lt;sustrik&gt;        that would be fantastic</div>
<div class="line">[Tuesday 11 January 2011] [15:45:44] &lt;sustrik&gt;        getting rid of the foreign build system...</div>
<div class="line">[Tuesday 11 January 2011] [15:46:04] &lt;mikko&gt;  and not maintain a copy of the openpgm build system</div>
<div class="line">[Tuesday 11 January 2011] [15:46:11] &lt;sustrik&gt;        exactly</div>
<div class="line">[Tuesday 11 January 2011] [15:46:34] &lt;mikko&gt;  i think those changes are in openpgm trunk now</div>
<div class="line">[Tuesday 11 January 2011] [15:46:46] &lt;mikko&gt;  i might take a poke on that side as well and test freebsd/solaris at some point</div>
<div class="line">[Tuesday 11 January 2011] [15:46:57] &lt;sustrik&gt;        ack</div>
<div class="line">[Tuesday 11 January 2011] [16:25:07] &lt;mikko&gt;  sustrik: getting build error on linux after the patch</div>
<div class="line">[Tuesday 11 January 2011] [16:25:12] &lt;mikko&gt;  will investigate a bit</div>
<div class="line">[Tuesday 11 January 2011] [16:26:36] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 11 January 2011] [17:29:24] &lt;amacleod&gt;       With the Python bindings for zmq, is it okay to just let the Context expire with the running script?  Or should I explicitly close it?</div>
<div class="line">[Tuesday 11 January 2011] [17:39:43] &lt;sustrik&gt;        amacleod: closing of the context ensures the all the pending messages are actually pushed to the network before the application extis</div>
<div class="line">[Tuesday 11 January 2011] [17:39:45] &lt;sustrik&gt;        exits</div>
<div class="line">[Tuesday 11 January 2011] [17:47:16] &lt;codebeaker&gt;     hi all - anyone know how to build Patrick Chen&#8217;s fork properly, it says &#8220;See the INSTAL file&#8221;, but that file is absent, and my typical cmake routine &#8220;$ mkdir build; $ cd build; $ cmake ../; ......&#8221; doesn&#8217;t seem to want to work</div>
<div class="line">[Tuesday 11 January 2011] [17:58:48] &lt;codebeaker&gt;     I got as far as setting CMAKE_MODULE_PATH and ZMQ_DIR to the ./src/zmq directory, to which I cloned pchen&#8217;s repository, now I get the error &#8220;include could not find load file: src/zmq/ZMQConfig.cmake&#8221; - which makes sense, because it only exists as ./src/zmq/ZMQConfig.cmake.in</div>
<div class="line">[Tuesday 11 January 2011] [17:59:30] &lt;codebeaker&gt;     how to make sure my top-level project configures the ./src/zmq correctly ? and preprocesses the .in files</div>
<div class="line">[Tuesday 11 January 2011] [18:12:33] &lt;zchrish&gt;        I made a test case whereby I created a publisher -&gt; forwarder -&gt; subscriber and feed it a 500MB file with 7500847 lines and the time it took to process the file was 102.39 seconds. This equates to about 72,350 messages per second. This was done on localhost. Do these results seem reasonable?</div>
<div class="line">[Tuesday 11 January 2011] [18:19:34] &lt;zchrish&gt;        Pleased to see that files pass &#8220;diff&#8221; !</div>
<div class="line">[Tuesday 11 January 2011] [18:20:06] &lt;codebeaker&gt;     zchrish: that does seem to tally with the numbers quoted in the various docs</div>
<div class="line">[Tuesday 11 January 2011] [18:20:27] &lt;codebeaker&gt;      you can check the Introduction - into it a little way are some comparisons of throuput and message sizes</div>
<div class="line">[Tuesday 11 January 2011] [18:35:25] &lt;snidely&gt;        I&#8217;m told that 0MQ has missing libraries which prevent it from running on windows.  Anyone know about that?</div>
<div class="line">[Tuesday 11 January 2011] [19:44:12] &lt;zchrish&gt;        If I have a PUBSUB system with 3 subscribers that can handle data rates of 10,000 - 20,000 - 30,000 messages per second respectively, how many messages would arrive at the fastest subscriber after 10 seconds? I am asking theoretically of course. This is my next test.</div>
<div class="line">[Tuesday 11 January 2011] [20:10:19] &lt;zchrish&gt;        The result of the above test suggests that PUBSUB sets the transmisstion rate to the slowest subscriber; is that correct? If so, that could be a problem for my application if I encounter someone with a dialup or with a zombie subscriber. Is there anything that can be done in these cases?</div>
<div class="line">[Tuesday 11 January 2011] [20:11:34] &lt;zchrish&gt;        &lt;test1&gt; was all localhost and the aggregate PUB-&gt;FORWARDER-&gt;SUB was 72,350 messages per second.</div>
<div class="line">[Tuesday 11 January 2011] [20:12:32] &lt;zchrish&gt;        &lt;test2&gt; added an additional endpoint subscriber but across the internet and the aggregate reduced to 27,000 messages per second.</div>
<div class="line">[Tuesday 11 January 2011] [20:13:07] &lt;zchrish&gt;        &lt;test2&gt; showed both localhost and remote subscribers completed at the same time</div>
<div class="line">[Tuesday 11 January 2011] [20:14:58] &lt;zchrish&gt;        &lt;test2&gt; also had a couple of occurrances in which the transmission stalled for some seconds which I cannot account since other activities on my system appeared normal.</div>
<div class="line">[Tuesday 11 January 2011] [20:17:18] &lt;zchrish&gt;        &lt;test2&gt; both local and remote had correct diffs to the original !</div>
<div class="line">[Tuesday 11 January 2011] [20:22:07] &lt;zchrish&gt;        The result of &lt;test2&gt; seems to indicate that PUBSUB uses a global queue for its messaging system which is probably obvious but I haven&#8217;t dug into the source code to find out. I wanted to be a user for awhile to see how it operates first.</div>
<div class="line">[Tuesday 11 January 2011] [20:23:29] &lt;zchrish&gt;        Seems like one item on the to-do list is to implement per-subscription queueing to improve transmission rates for faster channels. I am too naive to know what additional complexity that requires...</div>
<div class="line">[Tuesday 11 January 2011] [21:19:07] &lt;potatodemon&gt;    Howdy Y&#8217;all!  Can zeromq listen as a normal TCP socket? I have a lot of clients using normal sockets that I want to all connect to the zeromq server at once.  Is that something zeromq is good for ?</div>
<div class="line">[Tuesday 11 January 2011] [22:08:07] &lt;potatodemon&gt;    It looks like zeromq does not do normal sockets, <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/006344.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/006344.html</a>  is that correct ?</div>
<div class="line">[Tuesday 11 January 2011] [22:08:33] &lt;jugg&gt;   <a class="reference external" href="http://www.zeromq.org/intro:read-the-manual">http://www.zeromq.org/intro:read-the-manual</a></div>
<div class="line">[Tuesday 11 January 2011] [22:27:49] &lt;potatodemon&gt;    How many queues can I have with 0mq on a machine with a gig of ram?</div>
<div class="line">[Tuesday 11 January 2011] [23:06:55] &lt;cremes&gt; potatodemon: you could probably figure this out on your own by writing a little app that spawns a bunch of sockets</div>
<div class="line">[Tuesday 11 January 2011] [23:07:29] &lt;cremes&gt; make sure you bump up the number of file descriptors available to your process or it will run out pretty quickly</div>
<div class="line">[Tuesday 11 January 2011] [23:07:58] &lt;cremes&gt; also, i think 0mq defaults to 512 max sockets; you need to change that in the source and recompile</div>
<div class="line">[Tuesday 11 January 2011] [23:29:44] &lt;benoitc&gt;        hi all</div>
<div class="line">[Tuesday 11 January 2011] [23:29:57] &lt;benoitc&gt;        how stable is erlzmq actually ?</div>
<div class="line">[Wednesday 12 January 2011] [02:23:49] &lt;sustrik&gt;      snidely: what libraries?</div>
<div class="line">[Wednesday 12 January 2011] [02:43:52] &lt;potatodemon&gt;  Hey Y&#8217;all anyone in here know a lot about the Python ZMQ lib ?</div>
<div class="line">[Wednesday 12 January 2011] [02:44:41] &lt;guido_g&gt;      dont&#8217;t as meta-questions, just ask the question and wait</div>
<div class="line">[Wednesday 12 January 2011] [02:46:15] &lt;potatodemon&gt;  I just wanted to know if anyone has used the Python ZMQ lib with the Python gevents lib.</div>
<div class="line">[Wednesday 12 January 2011] [02:48:44] &lt;potatodemon&gt;  I am trying to write a simple normal bsd sockets to 0mq data proxy</div>
<div class="line">[Wednesday 12 January 2011] [02:49:11] &lt;guido_g&gt;      s0undt3ch had something like this yesterday</div>
<div class="line">[Wednesday 12 January 2011] [02:49:15] &lt;potatodemon&gt;  Or find a good, fast one</div>
<div class="line">[Wednesday 12 January 2011] [02:49:38] &lt;guido_g&gt;      you could do it w/ pyzmq.eventloop</div>
<div class="line">[Wednesday 12 January 2011] [02:51:40] &lt;potatodemon&gt;  Will that give me a async socket server ?</div>
<div class="line">[Wednesday 12 January 2011] [02:51:58] &lt;potatodemon&gt;  I think it does.  Do you know any examples &#8211; this is new to me.</div>
<div class="line">[Wednesday 12 January 2011] [02:52:03] &lt;guido_g&gt;      <a class="reference external" href="http://zeromq.github.com/pyzmq/index.html#using-pyzmq">http://zeromq.github.com/pyzmq/index.html#using-pyzmq</a></div>
<div class="line">[Wednesday 12 January 2011] [02:59:44] &lt;potatodemon&gt;  Cool, a good place to start. Thanks</div>
<div class="line">[Wednesday 12 January 2011] [03:22:38] &lt;CIA-21&gt;       zeromq2: 03Neale Ferguson 07master * r7051387 10/ (AUTHORS configure.in src/Makefile.am src/clock.cpp):</div>
<div class="line">[Wednesday 12 January 2011] [03:22:38] &lt;CIA-21&gt;       zeromq2: Support dynamic generation of C preprocessor definitions for PGM rather than hardcoding them.</div>
<div class="line">[Wednesday 12 January 2011] [03:22:38] &lt;CIA-21&gt;       zeromq2: Signed-off-by: Neale Ferguson &lt;<a class="reference external" href="mailto:neale&#37;&#52;&#48;sinenomine&#46;net">neale<span>&#64;</span>sinenomine<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/fPnk1c">http://bit.ly/fPnk1c</a></div>
<div class="line">[Wednesday 12 January 2011] [03:41:50] &lt;codebeaker&gt;   2</div>
<div class="line">[Wednesday 12 January 2011] [03:45:15] &lt;codebeaker&gt;   sorry, morning all - someone was kind enough to help me out last night, but had another quick query - with the code from github.com/PatrickCheng/zeromq2 - there are missing build instructions, specifically for using that in my own project which is built iwith cmake</div>
<div class="line">[Wednesday 12 January 2011] [03:47:11] &lt;sustrik&gt;      welll, with cmake you are probably on your own, it&#8217;s not part of the official project and there&#8217;s little knowledge of it; you can possibly to address patrick cheng directly...</div>
<div class="line">[Wednesday 12 January 2011] [03:57:22] &lt;codebeaker&gt;   ahh, thanks sustrik -</div>
<div class="line">[Wednesday 12 January 2011] [03:58:12] &lt;codebeaker&gt;   I <em>think</em> to be honest, this is something that would be easier if I knew about CMake - I want my build to automatically compile the ZMQ target, but I cna&#8217;t work out how - and Patrick didn&#8217;t write any docs :)</div>
<div class="line">[Wednesday 12 January 2011] [03:59:19] &lt;benoitc&gt;      erlzmq version using rebar : <a class="reference external" href="https://github.com/benoitc/erlzmq/tree/rebar">https://github.com/benoitc/erlzmq/tree/rebar</a></div>
<div class="line">[Wednesday 12 January 2011] [03:59:28] &lt;benoitc&gt;      if it helps someone</div>
<div class="line">[Wednesday 12 January 2011] [03:59:56] &lt;benoitc&gt;      how do you guys handle persistence with zmq ?</div>
<div class="line">[Wednesday 12 January 2011] [04:03:07] &lt;codebeaker&gt;   benoitc: as far as I understand, that&#8217;s completely up to tiy</div>
<div class="line">[Wednesday 12 January 2011] [04:03:30] &lt;codebeaker&gt;   to you* since I believe you can guarantee that if the message is not sent, then it&#8217;s not sent - and you should persist it</div>
<div class="line">[Wednesday 12 January 2011] [04:06:46] &lt;benoitc&gt;      mmm right</div>
<div class="line">[Wednesday 12 January 2011] [04:06:57] &lt;codebeaker&gt;   ^^ :) HTH</div>
<div class="line">[Wednesday 12 January 2011] [04:07:42] &lt;benoitc&gt;      want ot use the possibility of zmq to load balance messages with push/pull instead of simply using redis and jhandle manually suscription</div>
<div class="line">[Wednesday 12 January 2011] [04:07:45] &lt;benoitc&gt;      +s</div>
<div class="line">[Wednesday 12 January 2011] [04:07:56] &lt;benoitc&gt;      maybe i will just use both</div>
<div class="line">[Wednesday 12 January 2011] [04:42:42] &lt;si14&gt; hi all. Is anybody there?</div>
<div class="line">[Wednesday 12 January 2011] [04:49:14] &lt;si14&gt; I&#8217;m trying to make a zeromq, but I&#8217;ve got a lot of errors like this</div>
<div class="line">[Wednesday 12 January 2011] [04:49:22] &lt;si14&gt;  /usr/include/c++/4.4/bits/stl_vector.h:434: error: __gnu_cxx::__normal_iterator&lt;typename std::_Vector_base&lt;_Tp, _Alloc&gt;::_Tp_alloc_type::const_pointer, std::vector&lt;_Tp, _Alloc&gt; &gt; std::vector&lt;_Tp, _Alloc&gt;::begin() cannot be overloaded</div>
<div class="line">[Wednesday 12 January 2011] [04:50:08] &lt;si14&gt; in fact it&#8217;s something like this (it&#8217;s not my log, but this one is very similar to mine): <a class="reference external" href="https://gist.github.com/700285">https://gist.github.com/700285</a></div>
<div class="line">[Wednesday 12 January 2011] [04:54:20] &lt;si14&gt; ah, sorry, I&#8217;ve found the solution here: <a class="reference external" href="http://travlr.github.com/zmqirclog/2010-November.html">http://travlr.github.com/zmqirclog/2010-November.html</a></div>
<div class="line">[Wednesday 12 January 2011] [04:56:46] &lt;sustrik&gt;      sil4: if you find the website not addressing this problem, feel free to adjust it</div>
<div class="line">[Wednesday 12 January 2011] [04:56:47] &lt;sustrik&gt;      it&#8217;s a wiki</div>
<div class="line">[Wednesday 12 January 2011] [07:37:09] &lt;s0undt3ch&gt;    guido_g: remeber my problem fom yesterday? here&#8217;s a sucessfull attempt with zmq.eventloop using 2.1.0, 2.0.10 does not have zmq.devices, so I couldn&#8217;t test it -&gt; <a class="reference external" href="http://paste.pocoo.org/show/319395/">http://paste.pocoo.org/show/319395/</a></div>
<div class="line">[Wednesday 12 January 2011] [07:37:40] &lt;s0undt3ch&gt;    guido_g: now I have to narrow down what went wrong on my previous attemps using gobject and eventlet io loops</div>
<div class="line">[Wednesday 12 January 2011] [08:22:02] &lt;s0undt3ch&gt;    zchrish: you confirmed that the pub/sub io is as slow as the slowest client right?</div>
<div class="line">[Wednesday 12 January 2011] [08:28:00] &lt;zchrish&gt;      sOundt3ch: No, according to sustrik this is not the case. The cause of throughput drop is by the use of unicast and the throughput drops linearly with the number of subscribers.</div>
<div class="line">[Wednesday 12 January 2011] [08:28:25] &lt;s0undt3ch&gt;    zchrish: pub sub uses unicast?</div>
<div class="line">[Wednesday 12 January 2011] [08:30:03] &lt;s0undt3ch&gt;    zchrish: or you were using unicast on you pub/sub sockets?</div>
<div class="line">[Wednesday 12 January 2011] [08:30:47] &lt;s0undt3ch&gt;    ah, tcp is unicast</div>
<div class="line">[Wednesday 12 January 2011] [08:31:37] &lt;zchrish&gt;      sOundt3ch: My testing was using tcp. There exists pgm/epgm but I have no experience with it.</div>
<div class="line">[Wednesday 12 January 2011] [08:32:57] &lt;s0undt3ch&gt;    zchrish: for now I&#8217;m using local unix sockets, but I might need to use tcp at a latter stage...</div>
<div class="line">[Wednesday 12 January 2011] [08:33:11] &lt;s0undt3ch&gt;    zchrish: anyway, Thanks, was just wondering...</div>
<div class="line">[Wednesday 12 January 2011] [08:35:02] &lt;zchrish&gt;      sOundt3ch: My application is designed to be transported through the internet so I am concerned with latency and throughput issues. Still don&#8217;t have enough experience with 0mq to know how robust it will be to this but I like what I see so far.</div>
<div class="line">[Wednesday 12 January 2011] [10:47:17] &lt;yawn&gt; any advice on jzmq error handling?</div>
<div class="line">[Wednesday 12 January 2011] [10:47:49] &lt;yawn&gt; it tends to die from assertions and being jni i have no obvious way to handle those</div>
<div class="line">[Wednesday 12 January 2011] [11:15:47] &lt;efhache&gt;      hi everybody... I need some help with a cross-compiled(arm) library under linux 2.4</div>
<div class="line">[Wednesday 12 January 2011] [11:16:34] &lt;efhache&gt;      I&#8217;ve previously compiled the library, codded and work fine under a linux 2.6 but now with a kernell 2.4, I obtain an error as Function not implemented epoll_fd != -1 (epoll.cpp:40) Aborted</div>
<div class="line">[Wednesday 12 January 2011] [11:16:58] &lt;efhache&gt;      May be is it possible to configure and recompile the library with an other sort of poolling?</div>
<div class="line">[Wednesday 12 January 2011] [11:19:09] &lt;mikko&gt;        yawn: what sort of assertions?</div>
<div class="line">[Wednesday 12 January 2011] [11:19:16] &lt;mikko&gt;        and which version of libzmq?</div>
<div class="line">[Wednesday 12 January 2011] [11:19:54] &lt;efhache&gt;      zmq 2.0.7</div>
<div class="line">[Wednesday 12 January 2011] [11:19:54] &lt;yawn&gt; mikko: different assertions really. i have not yet collected all of them, last one was Assertion failed: (s), function get_socket, file Socket.cpp, line 467.</div>
<div class="line">[Wednesday 12 January 2011] [11:20:05] &lt;mikko&gt;        efhache: can you test with 2.1.0 ?</div>
<div class="line">[Wednesday 12 January 2011] [11:20:20] &lt;yawn&gt; mikko: version is 2.0.10 from brew</div>
<div class="line">[Wednesday 12 January 2011] [11:20:23] &lt;mikko&gt;        i remember there is an issue with using epoll on linux even if it&#8217;s not available</div>
<div class="line">[Wednesday 12 January 2011] [11:20:38] &lt;yawn&gt; mikko: env is mac os x, snow leopard</div>
<div class="line">[Wednesday 12 January 2011] [11:20:38] &lt;mikko&gt;        yawn: can you test with 2.1.0 ?</div>
<div class="line">[Wednesday 12 January 2011] [11:20:52] &lt;mikko&gt;        2.1.0 is where active development happens currently</div>
<div class="line">[Wednesday 12 January 2011] [11:21:01] &lt;mikko&gt;        so it would be helpful to see if those have been sorted out already</div>
<div class="line">[Wednesday 12 January 2011] [11:21:03] &lt;efhache&gt;      miko : not really  All the code developped was based on an zmq 2.0.7 version</div>
<div class="line">[Wednesday 12 January 2011] [11:21:33] &lt;yawn&gt; mikko: sure. but the large variety of errors makes me a bit nervous since there really seems to be no way of &#8220;catching&#8221; those errors. the jvm simply dies as soon as something crashes in the zmq api.</div>
<div class="line">[Wednesday 12 January 2011] [11:21:53] &lt;yawn&gt; mikko: that&#8217;s why i&#8217;m asking about error handling</div>
<div class="line">[Wednesday 12 January 2011] [11:22:04] &lt;mikko&gt;        yawn: yes, that&#8217;s what assertion causes. large chunk of those have been sorted out and we are fixing them as we bump into new ones</div>
<div class="line">[Wednesday 12 January 2011] [11:22:31] &lt;mikko&gt;        efhache: i can check this evening as you should probably use poll rather than epoll with 2.4</div>
<div class="line">[Wednesday 12 January 2011] [11:23:03] &lt;yawn&gt; mikko: ok. i have not much experience with jni at all but is there some kind of mechanism that would prevent the jvm from dying?</div>
<div class="line">[Wednesday 12 January 2011] [11:23:16] &lt;efhache&gt;      ok I&#8217;ll back to you tomorow</div>
<div class="line">[Wednesday 12 January 2011] [11:23:23] &lt;yawn&gt; mikko: or is there a flag that changes the assertion behaviour in zmq?</div>
<div class="line">[Wednesday 12 January 2011] [11:23:31] &lt;yawn&gt; mikko: compile-time flag</div>
<div class="line">[Wednesday 12 January 2011] [11:23:38] &lt;mikko&gt;        efhache: sure</div>
<div class="line">[Wednesday 12 January 2011] [11:23:59] &lt;mikko&gt;        yawn: yes, but those are not properly handled in that case</div>
<div class="line">[Wednesday 12 January 2011] [11:24:12] &lt;efhache&gt;      mikko: I&#8217;ll search again this evening, thw</div>
<div class="line">[Wednesday 12 January 2011] [11:24:22] &lt;mikko&gt;        yawn: you can specify -DNDEBUG iirc</div>
<div class="line">[Wednesday 12 January 2011] [11:24:51] &lt;yawn&gt; ok</div>
<div class="line">[Wednesday 12 January 2011] [11:25:11] &lt;mikko&gt;        yawn: it would be helpful if you can give 2.1.0 a spin</div>
<div class="line">[Wednesday 12 January 2011] [11:25:23] &lt;yawn&gt; mikko: i&#8217;ll try to update zmq and compiling with DNDBUG (or whatever the flags name is).</div>
<div class="line">[Wednesday 12 January 2011] [11:25:36] &lt;mikko&gt;        yawn: try without the flag first</div>
<div class="line">[Wednesday 12 January 2011] [11:25:45] &lt;mikko&gt;        yawn: as i said 2.1.0 fixes a lot of the assertions</div>
<div class="line">[Wednesday 12 January 2011] [11:25:58] &lt;mikko&gt;        yawn: and if you run into assertions in normal usage we would like to sort those out as well</div>
<div class="line">[Wednesday 12 January 2011] [11:26:18] &lt;yawn&gt; mikko: i think that most of the problems occur when inproc sockets with multipart messages terminate before the message is complete</div>
<div class="line">[Wednesday 12 January 2011] [11:26:41] &lt;mikko&gt;        yawn: do you code C ?</div>
<div class="line">[Wednesday 12 January 2011] [11:26:59] &lt;mikko&gt;        C test case would be a huge help (java should be ok as wlel but takes a bit longer to process)</div>
<div class="line">[Wednesday 12 January 2011] [11:27:11] &lt;yawn&gt; mikko: no, it&#8217;s a java project</div>
<div class="line">[Wednesday 12 January 2011] [11:27:36] &lt;mikko&gt;        if you can wait a couple of hours for me to get home i can test this on 2.1.0</div>
<div class="line">[Wednesday 12 January 2011] [11:27:46] &lt;mikko&gt;        i dont have java bindings running but shouldnt take long to get them</div>
<div class="line">[Wednesday 12 January 2011] [11:28:01] &lt;mikko&gt;        and as it&#8217;s JNI java test case should be fairly valid as well</div>
<div class="line">[Wednesday 12 January 2011] [11:28:09] &lt;yawn&gt; mikko: test data is a bit problematic since it&#8217;s driven by real world data. plus the server that interfaces with zmq is evented - so i usually have no idea at all what exactly caused the assertion.</div>
<div class="line">[Wednesday 12 January 2011] [11:28:20] &lt;mikko&gt;        ok</div>
<div class="line">[Wednesday 12 January 2011] [11:28:23] &lt;yawn&gt; real world data = totally volatile stuff</div>
<div class="line">[Wednesday 12 January 2011] [11:28:31] &lt;mikko&gt;        you can have the process to core dump on assertion</div>
<div class="line">[Wednesday 12 January 2011] [11:28:37] &lt;mikko&gt;        and run it in debugger</div>
<div class="line">[Wednesday 12 January 2011] [11:28:45] &lt;mikko&gt;        but i would recommend testing with 2.1.0 as the first step</div>
<div class="line">[Wednesday 12 January 2011] [11:28:52] &lt;yawn&gt; i&#8217;ll do that first</div>
<div class="line">[Wednesday 12 January 2011] [11:29:16] &lt;yawn&gt; when it&#8217;s still dying i&#8217;ll try to send you a dump</div>
<div class="line">[Wednesday 12 January 2011] [11:34:03] &lt;yawn&gt; mikko: damn, 2.1.0 is not yet on brew ... :-)</div>
<div class="line">[Wednesday 12 January 2011] [11:35:23] &lt;mikko&gt;        brew is something like macports?</div>
<div class="line">[Wednesday 12 January 2011] [11:36:45] &lt;seb`&gt; yes</div>
<div class="line">[Wednesday 12 January 2011] [11:56:16] &lt;zchrish&gt;      In the PUBSUB pattern, is there a way for the publisher to know something about the subscriber set?</div>
<div class="line">[Wednesday 12 January 2011] [11:57:48] &lt;zchrish&gt;      like subscriber IPs.</div>
<div class="line">[Wednesday 12 January 2011] [11:59:01] &lt;<a href="#id53"><span class="problematic" id="id60">Vince__</span></a>&gt;      my wrapper has been throwing this message at me today &#8220;Operation cannot be accomplished in current state&#8221; anyone seen that before? This happens with zmq_recv()</div>
<div class="line">[Wednesday 12 January 2011] [11:59:20] &lt;zchrish&gt;      If not, I suppose it could be easy enough to broadcast a call-in message which causes the subscriber set to respond.</div>
<div class="line">[Wednesday 12 January 2011] [12:00:19] &lt;<a href="#id53"><span class="problematic" id="id61">Vince__</span></a>&gt;      Seems the actual point which throws this error is here:</div>
<div class="line">[Wednesday 12 January 2011] [12:00:19] &lt;cremes&gt;       zchrish: no, it&#8217;s not possible because that kind of information doesn&#8217;t fit into the pub/sub pattern</div>
<div class="line">[Wednesday 12 January 2011] [12:00:24] &lt;<a href="#id53"><span class="problematic" id="id62">Vince__</span></a>&gt;         //  In blocking scenario, commands are processed over and over again until     //  we are able to fetch a message.     while (rc != 0) {         if (errno != EAGAIN)</div>
<div class="line">[Wednesday 12 January 2011] [12:00:29] &lt;cremes&gt;       zchrish: use a separate pair of sockets to share that information</div>
<div class="line">[Wednesday 12 January 2011] [12:00:50] &lt;<a href="#id53"><span class="problematic" id="id63">Vince__</span></a>&gt;      whats a blocking scenario? How do I over come it?</div>
<div class="line">[Wednesday 12 January 2011] [12:00:53] &lt;cremes&gt;       <a href="#id53"><span class="problematic" id="id64">Vince__</span></a>: that is happening with a req/rep pair, yes?</div>
<div class="line">[Wednesday 12 January 2011] [12:00:59] &lt;zchrish&gt;      OK; thanks.</div>
<div class="line">[Wednesday 12 January 2011] [12:01:00] &lt;<a href="#id53"><span class="problematic" id="id65">Vince__</span></a>&gt;      yes</div>
<div class="line">[Wednesday 12 January 2011] [12:01:34] &lt;cremes&gt;       <a href="#id53"><span class="problematic" id="id66">Vince__</span></a>: you need to call send/recv/send/recv in that pattern for each one; you must be trying to call send/send or recv/recv somewhere</div>
<div class="line">[Wednesday 12 January 2011] [12:01:45] &lt;cremes&gt;       which violates the request/reply state machine</div>
<div class="line">[Wednesday 12 January 2011] [12:02:17] &lt;potatodemon&gt;  Are pyzmq zmq socket sends non-bocking ?</div>
<div class="line">[Wednesday 12 January 2011] [12:02:18] &lt;<a href="#id53"><span class="problematic" id="id67">Vince__</span></a>&gt;      recv/recv on a server demo in a loop........ I guess that was wrong then</div>
<div class="line">[Wednesday 12 January 2011] [12:02:30] &lt;cremes&gt;       <a href="#id53"><span class="problematic" id="id68">Vince__</span></a>: yep, that&#8217;s wrong</div>
<div class="line">[Wednesday 12 January 2011] [12:02:53] &lt;cremes&gt;       potatodemon: i doubt sends are nonblocking by default; there is likely a flag you can pass to make it so</div>
<div class="line">[Wednesday 12 January 2011] [12:02:57] &lt;cremes&gt;       otherwise it blocks by default</div>
<div class="line">[Wednesday 12 January 2011] [12:03:04] &lt;<a href="#id53"><span class="problematic" id="id69">Vince__</span></a>&gt;      Seems like I need to rethink the design then</div>
<div class="line">[Wednesday 12 January 2011] [12:03:31] &lt;<a href="#id53"><span class="problematic" id="id70">Vince__</span></a>&gt;      the server won&#8217;t be sending anything usually though so now I&#8217;m confused...</div>
<div class="line">[Wednesday 12 January 2011] [12:03:33] &lt;cremes&gt;       <a href="#id53"><span class="problematic" id="id71">Vince__</span></a>: tell us what you are trying to do and we can probably make suggestions</div>
<div class="line">[Wednesday 12 January 2011] [12:05:15] &lt;<a href="#id53"><span class="problematic" id="id72">Vince__</span></a>&gt;      I wrote a wrapper for a basic language that not many people use (blitz) it needed safe types so I wrote an addition to the ZMQ API to use safe types as well. Everything seems to be fine except for this issue. I created a server in basic that right now has zmq_recv() running in a while loop. Obviously thats not right.</div>
<div class="line">[Wednesday 12 January 2011] [12:05:50] &lt;cremes&gt;       <a href="#id53"><span class="problematic" id="id73">Vince__</span></a>: explain what the client is supposed to do and what the server is supposed to do</div>
<div class="line">[Wednesday 12 January 2011] [12:06:26] &lt;<a href="#id53"><span class="problematic" id="id74">Vince__</span></a>&gt;      server recieves messages from client and sends it to other clients</div>
<div class="line">[Wednesday 12 January 2011] [12:06:55] &lt;<a href="#id53"><span class="problematic" id="id75">Vince__</span></a>&gt;      pretty simple</div>
<div class="line">[Wednesday 12 January 2011] [12:06:55] &lt;cremes&gt;       and what does the client do?</div>
<div class="line">[Wednesday 12 January 2011] [12:07:08] &lt;cremes&gt;       send requests only?</div>
<div class="line">[Wednesday 12 January 2011] [12:07:39] &lt;<a href="#id53"><span class="problematic" id="id76">Vince__</span></a>&gt;      client sends messages to the server and recieves messages from the server</div>
<div class="line">[Wednesday 12 January 2011] [12:07:44] &lt;yawn&gt; mikko: yes.</div>
<div class="line">[Wednesday 12 January 2011] [12:07:48] &lt;cremes&gt;       ok</div>
<div class="line">[Wednesday 12 January 2011] [12:08:17] &lt;cremes&gt;       so which one of these (client or server) is currently sitting in a while loop doing recv?</div>
<div class="line">[Wednesday 12 January 2011] [12:08:26] &lt;<a href="#id53"><span class="problematic" id="id77">Vince__</span></a>&gt;      server</div>
<div class="line">[Wednesday 12 January 2011] [12:09:01] &lt;cremes&gt;       does that server ever need to respond back to the client, e.g. return a result?</div>
<div class="line">[Wednesday 12 January 2011] [12:09:16] &lt;<a href="#id53"><span class="problematic" id="id78">Vince__</span></a>&gt;      I was hoping to just let the server sit there and wait for a connection/message from client</div>
<div class="line">[Wednesday 12 January 2011] [12:09:48] &lt;cremes&gt;       ok; so does the server ever need to respond back to its clients?</div>
<div class="line">[Wednesday 12 January 2011] [12:10:07] &lt;cremes&gt;       i&#8217;m trying to understand the message flow.... it&#8217;s unclear</div>
<div class="line">[Wednesday 12 January 2011] [12:10:33] &lt;<a href="#id53"><span class="problematic" id="id79">Vince__</span></a>&gt;      the server needs to communicate messages from ClientA to B,C,D,E,F etc... the server doesn&#8217;t need to talk back to the client that connected. All I need to know is if the client connected successfully.</div>
<div class="line">[Wednesday 12 January 2011] [12:10:52] &lt;cremes&gt;       ok</div>
<div class="line">[Wednesday 12 January 2011] [12:11:16] &lt;cremes&gt;       do clients B,C,D,etc need to respond to A or is the message flow uni-directional?</div>
<div class="line">[Wednesday 12 January 2011] [12:11:42] &lt;cremes&gt;       that is, A only ever sends and never receives, B,C,D,etc only recv and never send</div>
<div class="line">[Wednesday 12 January 2011] [12:11:48] &lt;<a href="#id53"><span class="problematic" id="id80">Vince__</span></a>&gt;      Easiest example I can think of is a game server where the client moves and the movement is sent to all the other clients</div>
<div class="line">[Wednesday 12 January 2011] [12:12:03] &lt;cremes&gt;       ok</div>
<div class="line">[Wednesday 12 January 2011] [12:12:22] &lt;cremes&gt;       you should look at the pub/sub sockets; req/rep is the <em>wrong</em> pattern</div>
<div class="line">[Wednesday 12 January 2011] [12:12:46] &lt;<a href="#id53"><span class="problematic" id="id81">Vince__</span></a>&gt;      hmmm</div>
<div class="line">[Wednesday 12 January 2011] [12:12:47] &lt;cremes&gt;       client A would have a PUB socket</div>
<div class="line">[Wednesday 12 January 2011] [12:12:57] &lt;cremes&gt;       the server would be a FORWARDER device</div>
<div class="line">[Wednesday 12 January 2011] [12:13:18] &lt;cremes&gt;       the clients of the server would all have SUB sockets and would subscribe to the topics they want</div>
<div class="line">[Wednesday 12 January 2011] [12:13:37] &lt;cremes&gt;       does that make sense?</div>
<div class="line">[Wednesday 12 January 2011] [12:13:53] &lt;cremes&gt;       if not, tell me where it&#8217;s confusing or wrong</div>
<div class="line">[Wednesday 12 January 2011] [12:14:21] &lt;<a href="#id53"><span class="problematic" id="id82">Vince__</span></a>&gt;      I guess I need to make sure I understand what you are saying.</div>
<div class="line">[Wednesday 12 January 2011] [12:14:40] &lt;cremes&gt;       ok, i&#8217;ll break it down a bit more</div>
<div class="line">[Wednesday 12 January 2011] [12:14:58] &lt;cremes&gt;       client A <em>only</em> sends data and never cares about a response to what it sent</div>
<div class="line">[Wednesday 12 January 2011] [12:15:02] &lt;<a href="#id53"><span class="problematic" id="id83">Vince__</span></a>&gt;      is there a simple example anywhere?</div>
<div class="line">[Wednesday 12 January 2011] [12:15:10] &lt;cremes&gt;       ...</div>
<div class="line">[Wednesday 12 January 2011] [12:15:18] &lt;cremes&gt;       did you read the guide linked off of the website?</div>
<div class="line">[Wednesday 12 January 2011] [12:15:26] &lt;cremes&gt;       it covers all of these patterns in detail with code</div>
<div class="line">[Wednesday 12 January 2011] [12:15:28] &lt;<a href="#id53"><span class="problematic" id="id84">Vince__</span></a>&gt;      Yes I did actually</div>
<div class="line">[Wednesday 12 January 2011] [12:15:49] &lt;cremes&gt;       and the PUB section didn&#8217;t seem appropriate for some reason?</div>
<div class="line">[Wednesday 12 January 2011] [12:16:10] &lt;<a href="#id53"><span class="problematic" id="id85">Vince__</span></a>&gt;      It is probably. I just did the tutorials a few weeks ago.</div>
<div class="line">[Wednesday 12 January 2011] [12:16:19] &lt;<a href="#id53"><span class="problematic" id="id86">Vince__</span></a>&gt;      Forwarder seems to be throwing me.</div>
<div class="line">[Wednesday 12 January 2011] [12:17:44] &lt;<a href="#id53"><span class="problematic" id="id87">Vince__</span></a>&gt;      I am looking at the guide now.</div>
<div class="line">[Wednesday 12 January 2011] [12:18:12] &lt;cremes&gt;       forwarder is a pretty simple device... let me see if i can help clarify its use</div>
<div class="line">[Wednesday 12 January 2011] [12:18:39] &lt;cremes&gt;       a forwarder device will have a SUB socket and a PUB socket</div>
<div class="line">[Wednesday 12 January 2011] [12:18:50] &lt;<a href="#id53"><span class="problematic" id="id88">Vince__</span></a>&gt;      k</div>
<div class="line">[Wednesday 12 January 2011] [12:18:54] &lt;cremes&gt;       both sockets will <em>bind</em> to some addresses</div>
<div class="line">[Wednesday 12 January 2011] [12:19:30] &lt;cremes&gt;       a publisher (client A) connects to the forwarder and sends its messages there</div>
<div class="line">[Wednesday 12 January 2011] [12:20:02] &lt;cremes&gt;       subscribers interested in what client A have to say subscribe to the forwarder without needing to know the address of client A</div>
<div class="line">[Wednesday 12 January 2011] [12:20:25] &lt;<a href="#id53"><span class="problematic" id="id89">Vince__</span></a>&gt;      aha! thats what I want indeed</div>
<div class="line">[Wednesday 12 January 2011] [12:20:28] &lt;cremes&gt;       now along comes client B who <em>also</em> wants to publish data to an unknown number of subscribers</div>
<div class="line">[Wednesday 12 January 2011] [12:20:41] &lt;cremes&gt;       it also connects to the forwarder and starts publishing</div>
<div class="line">[Wednesday 12 January 2011] [12:21:08] &lt;cremes&gt;       a forwarder is a device for linking up multiple subscribers with multiple publishers</div>
<div class="line">[Wednesday 12 January 2011] [12:21:34] &lt;cremes&gt;       does this help?</div>
<div class="line">[Wednesday 12 January 2011] [12:22:09] &lt;cremes&gt;       the forwarder can be thought of as a way to get &#8220;multicast&#8221;/spread delivery via tcp</div>
<div class="line">[Wednesday 12 January 2011] [12:23:06] &lt;<a href="#id53"><span class="problematic" id="id90">Vince__</span></a>&gt;      so what happens with the forwarder in terms of the application. Do I not need to actively tell it to recv messages?</div>
<div class="line">[Wednesday 12 January 2011] [12:23:24] &lt;cremes&gt;       nope</div>
<div class="line">[Wednesday 12 January 2011] [12:23:37] &lt;cremes&gt;       take a look at the code in the repository.... it&#8217;s super simple</div>
<div class="line">[Wednesday 12 January 2011] [12:24:03] &lt;cremes&gt;       it essentially sits in a while loop; every time it receives something it immediately sends it out to all subscribers</div>
<div class="line">[Wednesday 12 January 2011] [12:24:14] &lt;<a href="#id53"><span class="problematic" id="id91">Vince__</span></a>&gt;      ah</div>
<div class="line">[Wednesday 12 January 2011] [12:24:44] &lt;<a href="#id53"><span class="problematic" id="id92">Vince__</span></a>&gt;      I&#8217;m starting to think something like</div>
<div class="line">[Wednesday 12 January 2011] [12:24:47] &lt;<a href="#id53"><span class="problematic" id="id93">Vince__</span></a>&gt;      zmq_init() //  Socket facing clients zmq_socket() //  Socket facing services zmq_bind() zmq_socket() //  Start built-in device zmq_device()</div>
<div class="line">[Wednesday 12 January 2011] [12:40:54] &lt;<a href="#id53"><span class="problematic" id="id94">Vince__</span></a>&gt;      cremes how can I determine if a subscriber connects to the published socket from the server application?</div>
<div class="line">[Wednesday 12 January 2011] [13:15:50] &lt;cremes&gt;       <a href="#id53"><span class="problematic" id="id95">Vince__</span></a>: that information is not exposed by the 0mq library; you would need a separate pair of sockets to transmit that info</div>
<div class="line">[Wednesday 12 January 2011] [13:15:54] &lt;cremes&gt;       at the application level</div>
<div class="line">[Wednesday 12 January 2011] [13:19:19] &lt;<a href="#id53"><span class="problematic" id="id96">Vince__</span></a>&gt;      thanks for all your help cremes!</div>
<div class="line">[Wednesday 12 January 2011] [13:19:34] &lt;cremes&gt;       <a href="#id53"><span class="problematic" id="id97">Vince__</span></a>: you&#8217;re welcome</div>
<div class="line">[Wednesday 12 January 2011] [13:19:50] &lt;<a href="#id53"><span class="problematic" id="id98">Vince__</span></a>&gt;      pub/sub is certainly what I was looking for</div>
<div class="line">[Wednesday 12 January 2011] [14:24:06] &lt;mikko&gt;        good evening</div>
<div class="line">[Wednesday 12 January 2011] [15:26:47] &lt;mikko&gt;        sustrik: there?</div>
<div class="line">[Wednesday 12 January 2011] [15:37:19] &lt;sustrik&gt;      mikko: hi</div>
<div class="line">[Wednesday 12 January 2011] [15:39:39] &lt;mikko&gt;        sustrik: im adding some static analysis tools to builds</div>
<div class="line">[Wednesday 12 January 2011] [15:39:55] &lt;mikko&gt;        they might produce some false positives but i guess it&#8217;s ok</div>
<div class="line">[Wednesday 12 January 2011] [15:39:59] &lt;mikko&gt;        <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_cppcheck/3/cppcheckResult/">http://build.valokuva.org/job/ZeroMQ2-core-master_cppcheck/3/cppcheckResult/</a>?</div>
<div class="line">[Wednesday 12 January 2011] [15:45:53] &lt;sustrik&gt;      mikko: nice</div>
<div class="line">[Wednesday 12 January 2011] [15:45:56] &lt;sustrik&gt;      let me check the report</div>
<div class="line">[Wednesday 12 January 2011] [15:47:45] &lt;sustrik&gt;      mikko: that&#8217;s the current master?</div>
<div class="line">[Wednesday 12 January 2011] [15:48:56] &lt;sustrik&gt;      it looks like there&#8217;s a bug in cppcheck :)</div>
<div class="line">[Wednesday 12 January 2011] [15:50:17] &lt;sustrik&gt;      struct x {}; results in &#8220;Redundant code: Found a statement that begins with numeric constant&#8221;</div>
<div class="line">[Wednesday 12 January 2011] [15:51:26] &lt;mikko&gt;        i could scale down the volume</div>
<div class="line">[Wednesday 12 January 2011] [15:51:31] &lt;mikko&gt;        to more critical errors</div>
<div class="line">[Wednesday 12 January 2011] [15:51:38] &lt;sustrik&gt;      no need</div>
<div class="line">[Wednesday 12 January 2011] [15:51:41] &lt;mikko&gt;        i was thinking about adding a check for trailing whitespace as well</div>
<div class="line">[Wednesday 12 January 2011] [15:51:50] &lt;sustrik&gt;      why not</div>
<div class="line">[Wednesday 12 January 2011] [15:52:01] &lt;sustrik&gt;      i should maybe report the problem to cppcheck devs...</div>
<div class="line">[Wednesday 12 January 2011] [15:53:51] &lt;mikko&gt;        yes, they are on github as well</div>
<div class="line">[Wednesday 12 January 2011] [15:56:19] &lt;sustrik&gt;      hm, github? brief search seems to point me to sourceforge</div>
<div class="line">[Wednesday 12 January 2011] [15:59:17] &lt;mikko&gt;        <a class="reference external" href="https://github.com/danmar/cppcheck">https://github.com/danmar/cppcheck</a></div>
<div class="line">[Wednesday 12 January 2011] [15:59:23] &lt;mikko&gt;        at least this is where i cloned it from</div>
<div class="line">[Wednesday 12 January 2011] [16:00:45] &lt;sustrik&gt;      probably a mirror</div>
<div class="line">[Wednesday 12 January 2011] [16:00:58] &lt;sustrik&gt;      the project itselft seems to live at sourceforge</div>
<div class="line">[Wednesday 12 January 2011] [16:10:46] &lt;sustrik&gt;      ok, i&#8217;ve posted a comment on their forum</div>
<div class="line">[Wednesday 12 January 2011] [16:32:27] &lt;danyamins&gt;    hi</div>
<div class="line">[Wednesday 12 January 2011] [16:32:51] &lt;danyamins&gt;    does anyone here have ideas about using pyzmq to make an asychronous driver for mongodb?</div>
<div class="line">[Wednesday 12 January 2011] [16:34:06] &lt;guido_g&gt;      mongodb doesn&#8217;t speak mq</div>
<div class="line">[Wednesday 12 January 2011] [16:34:22] &lt;guido_g&gt;      so it would be more a proxy then a driver</div>
<div class="line">[Wednesday 12 January 2011] [16:34:40] &lt;danyamins&gt;    well</div>
<div class="line">[Wednesday 12 January 2011] [16:34:48] &lt;danyamins&gt;    when you say it doesnt speak 0zm, what do you mean?</div>
<div class="line">[Wednesday 12 January 2011] [16:35:01] &lt;danyamins&gt;    (sorry for the naive question)</div>
<div class="line">[Wednesday 12 January 2011] [16:35:54] &lt;guido_g&gt;      mongodb doesn&#8217;t understand mq messages</div>
<div class="line">[Wednesday 12 January 2011] [16:36:23] &lt;danyamins&gt;    you mean, there&#8217;s something about he packing of the bits ?</div>
<div class="line">[Wednesday 12 January 2011] [16:36:33] &lt;danyamins&gt;    you have to have it in aparticular form, the things you send over the sockets?</div>
<div class="line">[Wednesday 12 January 2011] [16:36:36] &lt;guido_g&gt;      <em>sigh</em> yes</div>
<div class="line">[Wednesday 12 January 2011] [16:37:12] &lt;danyamins&gt;    how so?</div>
<div class="line">[Wednesday 12 January 2011] [16:37:16] &lt;danyamins&gt;    where is that documented?</div>
<div class="line">[Wednesday 12 January 2011] [16:37:31] &lt;danyamins&gt;    I mean, undestand that the mongo stuff has to be in a particular form</div>
<div class="line">[Wednesday 12 January 2011] [16:37:41] &lt;danyamins&gt;    I&#8217;ve already written a mongodb asynchronous driver</div>
<div class="line">[Wednesday 12 January 2011] [16:37:58] &lt;danyamins&gt;    (I was hoping to replace the regular sockets in it with zmq sockets)</div>
<div class="line">[Wednesday 12 January 2011] [16:38:14] &lt;danyamins&gt;    (and replace the tornado ioloop i use with the zmq ioloop)</div>
<div class="line">[Wednesday 12 January 2011] [16:38:14] &lt;mikko&gt;        danyamins: zeromq frames the messages before sending them over wire</div>
<div class="line">[Wednesday 12 January 2011] [16:38:31] &lt;danyamins&gt;    ah</div>
<div class="line">[Wednesday 12 January 2011] [16:45:07] &lt;danyamins&gt;    so what is the proper solution?</div>
<div class="line">[Wednesday 12 January 2011] [16:45:11] &lt;danyamins&gt;    do I have any options?</div>
<div class="line">[Wednesday 12 January 2011] [16:45:13] &lt;danyamins&gt;    that are good?</div>
<div class="line">[Wednesday 12 January 2011] [16:47:42] &lt;yrashk&gt;       is there any common reason why this <a class="reference external" href="https://gist.github.com/92839a6ab653f9366bb2">https://gist.github.com/92839a6ab653f9366bb2</a> might happen?</div>
<div class="line">[Wednesday 12 January 2011] [16:52:51] &lt;benoitc&gt;      <a class="reference external" href="https://github.com/benoitc/couch_zmq">https://github.com/benoitc/couch_zmq</a> I started a zeromq endpoint for couchdb</div>
<div class="line">[Wednesday 12 January 2011] [16:54:56] &lt;danyamins&gt;    could that help with the mongodb project?</div>
<div class="line">[Wednesday 12 January 2011] [16:55:11] &lt;benoitc&gt;      no</div>
<div class="line">[Wednesday 12 January 2011] [16:55:18] &lt;danyamins&gt;    ok sorry</div>
<div class="line">[Wednesday 12 January 2011] [17:04:29] &lt;mikko&gt;        danyamins: you can&#8217;t easily have zmq to communicate with mongo</div>
<div class="line">[Wednesday 12 January 2011] [17:04:50] &lt;mikko&gt;        danyamins: you would need to write a proxy that takes zeromq messages and converts them to something that mongo understands</div>
<div class="line">[Wednesday 12 January 2011] [17:04:58] &lt;mikko&gt;        so you are effectively back to square one</div>
<div class="line">[Wednesday 12 January 2011] [17:05:59] &lt;mikko&gt;        benoitc: i think i&#8217;ve seen this before</div>
<div class="line">[Wednesday 12 January 2011] [17:06:03] &lt;mikko&gt;        or something similar</div>
<div class="line">[Wednesday 12 January 2011] [17:27:02] &lt;mikko&gt;        sustrik: <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/7/dryResult/">http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/7/dryResult/</a>?</div>
<div class="line">[Wednesday 12 January 2011] [17:27:07] &lt;mikko&gt;        duplicate code checker as well</div>
<div class="line">[Wednesday 12 January 2011] [17:27:11] &lt;mikko&gt;        now time to sleep</div>
<div class="line">[Wednesday 12 January 2011] [17:27:14] &lt;mikko&gt;        g&#8217;night</div>
<div class="line">[Wednesday 12 January 2011] [18:03:58] &lt;Seta00&gt;       how do I check if the other endpoint is running?</div>
<div class="line">[Wednesday 12 January 2011] [18:05:14] &lt;Seta00&gt;       (on a SUB socket)</div>
<div class="line">[Wednesday 12 January 2011] [18:05:18] &lt;Seta00&gt;       if that matters :P</div>
<div class="line">[Wednesday 12 January 2011] [18:06:00] &lt;neopallium&gt;   Seta00: you can&#8217;t with just a SUB socket.</div>
<div class="line">[Wednesday 12 January 2011] [18:06:39] &lt;Seta00&gt;       neopallium, what are my options?</div>
<div class="line">[Wednesday 12 January 2011] [18:06:40] &lt;neopallium&gt;   you can create a REQ socket and send a request to the publisher to see if they are running, or just wait for a message on the SUB socket.</div>
<div class="line">[Wednesday 12 January 2011] [18:07:15] &lt;Seta00&gt;       the problem with just waiting is that I can&#8217;t notify users that the server is not running</div>
<div class="line">[Wednesday 12 January 2011] [18:07:18] &lt;neopallium&gt;   the publisher can bind a REP socket, which the subscribers connect with a REQ socket to to ask if they are running.</div>
<div class="line">[Wednesday 12 January 2011] [18:07:58] &lt;Seta00&gt;       so the REQ socket won&#8217;t wait for the endpoint to come online like a SUB socket?</div>
<div class="line">[Wednesday 12 January 2011] [18:08:39] &lt;neopallium&gt;   no, you would have to add some timeout when you send the request over the REQ socket.</div>
<div class="line">[Wednesday 12 January 2011] [18:08:58] &lt;Seta00&gt;       hmm, I wonder how I didn&#8217;t notice that</div>
<div class="line">[Wednesday 12 January 2011] [18:09:01] &lt;Seta00&gt;       thank you neopallium</div>
<div class="line">[Wednesday 12 January 2011] [18:09:06] &lt;neopallium&gt;   np</div>
<div class="line">[Wednesday 12 January 2011] [18:10:32] &lt;neopallium&gt;   I just wished 0mq provided a way to register to receive events from the sockets (i.e. like connect/disconnect notices).</div>
<div class="line">[Wednesday 12 January 2011] [18:11:01] &lt;Seta00&gt;       that would be nice :)</div>
<div class="line">[Wednesday 12 January 2011] [19:45:57] &lt;zchrish&gt;      Can one create a zmq::pollitem_t object dynamically? I am considering adding and subtracting PUSH patterns as subscribers come onboard.</div>
<div class="line">[Wednesday 12 January 2011] [19:49:09] &lt;zchrish&gt;      For example, in my publisher, I have a PULL pattern that syncs my subscribers. I want to add dedicated PUSH patterns that can connect to each of those subscribers. I would get the connection information from a message from the subscriber to the publisher.</div>
<div class="line">[Wednesday 12 January 2011] [19:51:04] &lt;zchrish&gt;      According to sustrik, using a vector for the pattern is supported (I think this is the result based on an earlier xChat post.</div>
<div class="line">[Wednesday 12 January 2011] [21:41:51] &lt;jugg&gt; sustrik, if the offer for access to the zeromq/erlzmq repo is still on the table, please ping me.</div>
<div class="line">[Thursday 13 January 2011] [02:39:25] &lt;benoitc&gt;       mikko: i&#8217;m not awer of one, except something i launched in the past but aborted cause erlzmq wasn&#8217;t working so well</div>
<div class="line">[Thursday 13 January 2011] [02:39:42] &lt;benoitc&gt;       sustrik: did you see my pull request for rebar ?</div>
<div class="line">[Thursday 13 January 2011] [02:41:11] &lt;benoitc&gt;       how would you validate suscriptions of a client ?</div>
<div class="line">[Thursday 13 January 2011] [02:58:56] &lt;yrashk&gt;        another bizzare random zeromq segfault: <a class="reference external" href="https://gist.github.com/b5495c3f5dd29e193e9b">https://gist.github.com/b5495c3f5dd29e193e9b</a> I must be definitely doing something wrong</div>
<div class="line">[Thursday 13 January 2011] [04:02:41] &lt;sustrik&gt;       benoitc: i am not maintaining the erlzmq binding</div>
<div class="line">[Thursday 13 January 2011] [04:02:54] &lt;sustrik&gt;       try contacting serge aleynikov</div>
<div class="line">[Thursday 13 January 2011] [04:03:15] &lt;sustrik&gt;       <a class="reference external" href="mailto:serge&#37;&#52;&#48;aleynikov&#46;org">serge<span>&#64;</span>aleynikov<span>&#46;</span>org</a></div>
<div class="line">[Thursday 13 January 2011] [04:03:50] &lt;sustrik&gt;       yrashk: what&#8217;s the error?</div>
<div class="line">[Thursday 13 January 2011] [04:08:24] &lt;yrashk&gt;        sustrik: the one in the gist i mentioned</div>
<div class="line">[Thursday 13 January 2011] [04:08:43] &lt;sustrik&gt;       there&#8217;s no error there</div>
<div class="line">[Thursday 13 January 2011] [04:10:01] &lt;jugg&gt;  benoitc, you may want to look at <a class="reference external" href="http://github.com/csrl/erlzmq">http://github.com/csrl/erlzmq</a> for what I believe is a usable erlang binding</div>
<div class="line">[Thursday 13 January 2011] [04:10:35] &lt;sustrik&gt;       jugg: any answer from serge?</div>
<div class="line">[Thursday 13 January 2011] [04:11:07] &lt;yrashk&gt;        sustrik: its a segfault point inspected in gdb</div>
<div class="line">[Thursday 13 January 2011] [04:11:41] &lt;sustrik&gt;       ah, segfault</div>
<div class="line">[Thursday 13 January 2011] [04:11:43] &lt;jugg&gt;  sustrik, ?  I think I may have missed something.</div>
<div class="line">[Thursday 13 January 2011] [04:12:00] &lt;jugg&gt;  I take it I should contact him. :)</div>
<div class="line">[Thursday 13 January 2011] [04:12:08] &lt;sustrik&gt;       doyrashk: can you provide a minimal test case?</div>
<div class="line">[Thursday 13 January 2011] [04:12:22] &lt;sustrik&gt;       jugg: well, try to ask him to pull the changes</div>
<div class="line">[Thursday 13 January 2011] [04:12:52] &lt;jugg&gt;  does he handle pull requests on zeromq/erlzmq?</div>
<div class="line">[Thursday 13 January 2011] [04:13:14] &lt;yrashk&gt;        sustrik: im trying but this segfault is only randomly reproducible :(</div>
<div class="line">[Thursday 13 January 2011] [04:13:17] &lt;sustrik&gt;       he did so a week ago</div>
<div class="line">[Thursday 13 January 2011] [04:13:24] &lt;jugg&gt;  k</div>
<div class="line">[Thursday 13 January 2011] [04:13:26] &lt;sustrik&gt;       so he&#8217;s probably still maintaining the project</div>
<div class="line">[Thursday 13 January 2011] [04:13:35] &lt;sustrik&gt;       anyway, if he doesn&#8217;t answer, ping me</div>
<div class="line">[Thursday 13 January 2011] [04:13:45] &lt;sustrik&gt;       i&#8217;ll grant you commit access to the project</div>
<div class="line">[Thursday 13 January 2011] [04:13:50] &lt;jugg&gt;  ok</div>
<div class="line">[Thursday 13 January 2011] [04:14:16] &lt;sustrik&gt;       yrashk: maybe be using a loop in your test program?</div>
<div class="line">[Thursday 13 January 2011] [04:15:04] &lt;yrashk&gt;        sustrik: may be, i just have to narrow it down somehow</div>
<div class="line">[Thursday 13 January 2011] [04:15:15] &lt;sustrik&gt;       goodo</div>
<div class="line">[Thursday 13 January 2011] [04:15:20] &lt;yrashk&gt;        i have a pushing thread and a pulling thread</div>
<div class="line">[Thursday 13 January 2011] [04:15:30] &lt;yrashk&gt;        not sure how this can affect it</div>
<div class="line">[Thursday 13 January 2011] [04:15:53] &lt;yrashk&gt;        given i use ffn to deallocate stuff</div>
<div class="line">[Thursday 13 January 2011] [04:16:38] &lt;benoitc&gt;       sustrik: k</div>
<div class="line">[Thursday 13 January 2011] [04:19:43] &lt;benoitc&gt;       jugg: does it change the use of erlzmq ?</div>
<div class="line">[Thursday 13 January 2011] [04:20:32] &lt;benoitc&gt;       ah yes so you create one context / socket</div>
<div class="line">[Thursday 13 January 2011] [04:20:48] &lt;jugg&gt;  sustrik, to close the loop on an old discussion from a few weeks ago.  The problems I was seeing with bogus blank messages seems to have gone away with the updated erlang bindings, and I believe I have an explanation as to what was causing. As such I don&#8217;t believe the issue exists but is masked, but that the issue was in the bindings.</div>
<div class="line">[Thursday 13 January 2011] [04:21:05] &lt;jugg&gt;  benoitc, no, there are multiple sockets per context.</div>
<div class="line">[Thursday 13 January 2011] [04:21:23] &lt;jugg&gt;  There is one erlang process per socket.</div>
<div class="line">[Thursday 13 January 2011] [04:21:42] &lt;sustrik&gt;       jugg: great</div>
<div class="line">[Thursday 13 January 2011] [04:21:56] &lt;benoitc&gt;       right parsing pursub server ex</div>
<div class="line">[Thursday 13 January 2011] [04:22:53] &lt;jugg&gt;  the main difference is that zmq:start_link no longer exists (which used to initialize a zmq context).  Now you must call zmq:init/1 instead to establish a context.  And you must pass the context to zmq:socket/2.  Also, the returned socket from zmq:socket/2 must be passed around.</div>
<div class="line">[Thursday 13 January 2011] [04:23:28] &lt;benoitc&gt;       mmm ok</div>
<div class="line">[Thursday 13 January 2011] [04:23:54] &lt;benoitc&gt;       would be good if the change happen soon, so i could test it on couch_zmq</div>
<div class="line">[Thursday 13 January 2011] [04:23:58] &lt;jugg&gt;  basically you can treat the erlang bindings very much like the C bindings.  See: <a class="reference external" href="http://csrl.github.com/erlzmq/">http://csrl.github.com/erlzmq/</a>  for documented differences.</div>
<div class="line">[Thursday 13 January 2011] [04:24:16] &lt;jugg&gt;  (under architecture)</div>
<div class="line">[Thursday 13 January 2011] [04:25:40] &lt;benoitc&gt;       jugg: i will provide a branch using rebar with that in coming hour</div>
<div class="line">[Thursday 13 January 2011] [04:25:47] &lt;jugg&gt;  however, if you want low level control, you can utilize the zmq_drv:xxx functions directly, however there are certain constraints to respect.  I don&#8217;t have those documented yet.</div>
<div class="line">[Thursday 13 January 2011] [04:26:03] &lt;benoitc&gt;       cool</div>
<div class="line">[Thursday 13 January 2011] [04:26:22] &lt;jugg&gt;  benoitc, great, I saw your rebar update and was waiting to see if my fork would get merged before integrating.</div>
<div class="line">[Thursday 13 January 2011] [04:26:52] &lt;benoitc&gt;       i&#8217;m trying to only se rebar these days (hopefully it will be integrated in erlang)</div>
<div class="line">[Thursday 13 January 2011] [04:26:55] &lt;benoitc&gt;       so I need it</div>
<div class="line">[Thursday 13 January 2011] [04:31:32] &lt;sustrik&gt;       jugg: btw, i like the idea of erlzmq looking more alike to C API and other bindings</div>
<div class="line">[Thursday 13 January 2011] [04:32:41] &lt;jugg&gt;  things started coming together better once I took that approach.</div>
<div class="line">[Thursday 13 January 2011] [04:33:22] &lt;sustrik&gt;       nice</div>
<div class="line">[Thursday 13 January 2011] [04:36:30] &lt;jugg&gt;  ok, pull request sent.</div>
<div class="line">[Thursday 13 January 2011] [04:36:36] &lt;yrashk&gt;        jugg: how stable erlzmq now? I have another project in the pipeline and I am again trying to choose between zeromq and rabbitmq (I used both, although more of rabbitmq)</div>
<div class="line">[Thursday 13 January 2011] [04:36:40] &lt;yrashk&gt;        is now*</div>
<div class="line">[Thursday 13 January 2011] [04:37:32] &lt;jugg&gt;  fairly.  I haven&#8217;t tested all of the get/setsockopt however, so I might have a bug in there - hopefully not.  And it&#8217;ll be going into production use within two weeks here.</div>
<div class="line">[Thursday 13 January 2011] [04:37:43] &lt;yrashk&gt;        oh nice</div>
<div class="line">[Thursday 13 January 2011] [04:37:56] &lt;mikko&gt; sustrik: im wondering that do we currently provide a way to remove subscription?</div>
<div class="line">[Thursday 13 January 2011] [04:38:24] &lt;mikko&gt; sustrik: im thinking about internet like usage scenario where subscribers with identities might come and go</div>
<div class="line">[Thursday 13 January 2011] [04:50:39] &lt;sustrik&gt;       mikko: ZMQ_UNSUBSCRIBE</div>
<div class="line">[Thursday 13 January 2011] [05:08:16] &lt;benoitc&gt;       jugg: i&#8217;ve an error while building your version :</div>
<div class="line">[Thursday 13 January 2011] [05:08:17] &lt;benoitc&gt;       c_src/zmq_drv.cpp: In function void zmqdrv_ready_input(_erl_drv_data*, _erl_drv_event*):</div>
<div class="line">[Thursday 13 January 2011] [05:08:20] &lt;benoitc&gt;       c_src/zmq_drv.cpp:939: error: cast from _erl_drv_event* to int loses precision</div>
<div class="line">[Thursday 13 January 2011] [05:08:42] &lt;benoitc&gt;       mmm maybe I miss a flag</div>
<div class="line">[Thursday 13 January 2011] [05:11:52] &lt;mikko&gt; sustrik: i meant from server side</div>
<div class="line">[Thursday 13 January 2011] [05:12:07] &lt;mikko&gt; i&#8217;ve never used PUB/SUB with identities</div>
<div class="line">[Thursday 13 January 2011] [05:12:24] &lt;mikko&gt; but i understand if subscriber with identity goes away the messages are buffered</div>
<div class="line">[Thursday 13 January 2011] [05:12:30] &lt;mikko&gt; are they buffered up to HWM?</div>
<div class="line">[Thursday 13 January 2011] [05:12:40] &lt;sustrik&gt;       yes</div>
<div class="line">[Thursday 13 January 2011] [05:12:57] &lt;sustrik&gt;       basically, identity defines a &#8220;permanent connection&#8221;</div>
<div class="line">[Thursday 13 January 2011] [05:13:26] &lt;sustrik&gt;       one that remains even though reconnect happens, one application is shut down or alike</div>
<div class="line">[Thursday 13 January 2011] [05:13:46] &lt;sustrik&gt;       then there&#8217;s orthogonal issue of how many massages can be buffered</div>
<div class="line">[Thursday 13 January 2011] [05:13:52] &lt;sustrik&gt;       that&#8217;s HWM and SWAP</div>
<div class="line">[Thursday 13 January 2011] [05:13:55] &lt;mikko&gt; but it&#8217;s good that HWM limits it</div>
<div class="line">[Thursday 13 January 2011] [05:14:06] &lt;sustrik&gt;       yes, it&#8217;s orthogonal</div>
<div class="line">[Thursday 13 January 2011] [05:14:17] &lt;mikko&gt; i was thinking about untrusted subscribers creating a resource exchaustion</div>
<div class="line">[Thursday 13 January 2011] [05:14:43] &lt;sustrik&gt;       it can still happen</div>
<div class="line">[Thursday 13 January 2011] [05:14:45] &lt;seb`&gt;  do sockets get a randomly assigned identity if it&#8217;s not set?</div>
<div class="line">[Thursday 13 January 2011] [05:14:49] &lt;sustrik&gt;       it there&#8217;s a lot of them</div>
<div class="line">[Thursday 13 January 2011] [05:14:56] &lt;mikko&gt; yes, i guess so</div>
<div class="line">[Thursday 13 January 2011] [05:14:57] &lt;sustrik&gt;       is it wise to ude identities?</div>
<div class="line">[Thursday 13 January 2011] [05:15:00] &lt;sustrik&gt;       use</div>
<div class="line">[Thursday 13 January 2011] [05:15:12] &lt;sustrik&gt;       seb&#8217;: kind of</div>
<div class="line">[Thursday 13 January 2011] [05:15:20] &lt;mikko&gt; i guess a sockopt disabling permanent connections even if client requests might be good</div>
<div class="line">[Thursday 13 January 2011] [05:15:35] &lt;mikko&gt; if clients are untrusted it might prove to be useful</div>
<div class="line">[Thursday 13 January 2011] [05:15:43] &lt;sustrik&gt;       seb&#8217;: but the connection is not persistent in the sense the resources are deallocated once the connection breaks</div>
<div class="line">[Thursday 13 January 2011] [05:16:05] &lt;seb`&gt;  I see</div>
<div class="line">[Thursday 13 January 2011] [05:44:42] &lt;CIA-21&gt;        zeromq2: 03Martin Sustrik 07master * r18f29de 10/ (52 files):</div>
<div class="line">[Thursday 13 January 2011] [05:44:42] &lt;CIA-21&gt;        zeromq2: Make cppcheck not complain about &#8220;&#8216;operator=&#8217; should return something&#8221;</div>
<div class="line">[Thursday 13 January 2011] [05:44:42] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hUiXv8">http://bit.ly/hUiXv8</a></div>
<div class="line">[Thursday 13 January 2011] [05:45:18] &lt;mikko&gt; heh, i wonder other static analysis tools are there</div>
<div class="line">[Thursday 13 January 2011] [05:45:34] &lt;mikko&gt; currently it runs cppcheck, duplicate code check and soon sloccount</div>
<div class="line">[Thursday 13 January 2011] [05:50:45] &lt;sustrik&gt;       let me first fix these :)</div>
<div class="line">[Thursday 13 January 2011] [05:51:03] &lt;sustrik&gt;       mikko: btw, is it possible to switch off certain types of errors?</div>
<div class="line">[Thursday 13 January 2011] [05:51:17] &lt;mikko&gt; sustrik: i can create a suppressions file</div>
<div class="line">[Thursday 13 January 2011] [05:51:21] &lt;mikko&gt; which ones specifically?</div>
<div class="line">[Thursday 13 January 2011] [05:51:37] &lt;sustrik&gt;       Redundant condition. It is safe to deallocate a NULL pointer</div>
<div class="line">[Thursday 13 January 2011] [05:51:59] &lt;sustrik&gt;       The code is redundant but it improves readability</div>
<div class="line">[Thursday 13 January 2011] [05:52:07] &lt;sustrik&gt;       so I would prefer to leave it in</div>
<div class="line">[Thursday 13 January 2011] [05:52:25] &lt;sustrik&gt;       cppCheckId=     redundantIfDelete0</div>
<div class="line">[Thursday 13 January 2011] [05:53:24] &lt;mikko&gt; ok, i&#8217;ll try adding suppressions file</div>
<div class="line">[Thursday 13 January 2011] [05:53:25] &lt;mikko&gt; just a sec</div>
<div class="line">[Thursday 13 January 2011] [06:19:03] &lt;jugg&gt;  benoitc, 32bit or 64bit?</div>
<div class="line">[Thursday 13 January 2011] [06:22:07] &lt;jugg&gt;  benoitc, looks like for some reason I changed the cast from a long to an int.  I&#8217;ll take a look and see if I can figure out why.</div>
<div class="line">[Thursday 13 January 2011] [06:29:59] &lt;mikko&gt; sustrik: <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/12/cppcheckResult/">http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/12/cppcheckResult/</a>?</div>
<div class="line">[Thursday 13 January 2011] [06:30:04] &lt;mikko&gt; suppressed now</div>
<div class="line">[Thursday 13 January 2011] [06:31:10] &lt;mikko&gt; still a couple of redundant ones but fixing later</div>
<div class="line">[Thursday 13 January 2011] [06:34:33] &lt;sustrik&gt;       mikko: strange that it is analysing the system header files</div>
<div class="line">[Thursday 13 January 2011] [06:34:43] &lt;sustrik&gt;       like /usr/include/stdlib.h</div>
<div class="line">[Thursday 13 January 2011] [06:36:22] &lt;mikko&gt; yeah, i removed those</div>
<div class="line">[Thursday 13 January 2011] [06:36:24] &lt;mikko&gt; <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/14/cppcheckResult/">http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/14/cppcheckResult/</a>?</div>
<div class="line">[Thursday 13 January 2011] [06:46:18] &lt;sustrik&gt;       great</div>
<div class="line">[Thursday 13 January 2011] [06:46:28] &lt;sustrik&gt;       i have a look at remaining problems later on</div>
<div class="line">[Thursday 13 January 2011] [06:46:42] &lt;mikko&gt; let me know if more suppressions are needed</div>
<div class="line">[Thursday 13 January 2011] [06:47:26] &lt;jugg&gt;  benoitc, It is because zeromq returns an &#8216;int&#8217; for that value, so the conversion is harmless, but the warning should be suppressed.</div>
<div class="line">[Thursday 13 January 2011] [06:53:06] &lt;benoitc&gt;       jugg: sound like there are other error</div>
<div class="line">[Thursday 13 January 2011] [06:53:11] &lt;benoitc&gt;       yes 64 bits</div>
<div class="line">[Thursday 13 January 2011] [06:53:37] &lt;benoitc&gt;       jugg: there is also a problem l 446 and 820</div>
<div class="line">[Thursday 13 January 2011] [06:53:45] &lt;benoitc&gt;       int e = (uintptr_t)event;</div>
<div class="line">[Thursday 13 January 2011] [06:53:52] &lt;benoitc&gt;       solve the first one</div>
<div class="line">[Thursday 13 January 2011] [06:54:03] &lt;benoitc&gt;       on 446 i&#8217;ve to assert((sizeof(uint8_t)+ n+1) == size);</div>
<div class="line">[Thursday 13 January 2011] [06:54:12] &lt;benoitc&gt;       but my C is really rosten</div>
<div class="line">[Thursday 13 January 2011] [06:54:39] &lt;benoitc&gt;       rusty</div>
<div class="line">[Thursday 13 January 2011] [07:00:22] &lt;jugg&gt;  hmm, that 446 error is strange.  I don&#8217;t yet understand why your change would be correct.</div>
<div class="line">[Thursday 13 January 2011] [07:01:16] &lt;jugg&gt;  size should be equal to n + 1</div>
<div class="line">[Thursday 13 January 2011] [07:01:25] &lt;jugg&gt;  sizeof(uint8_t) == 1</div>
<div class="line">[Thursday 13 January 2011] [07:01:37] &lt;jugg&gt;  so, sizeof(uint8_t) + n should be correct...</div>
<div class="line">[Thursday 13 January 2011] [07:04:04] &lt;zchrish&gt;       I have a use case and am wondering whether zeromq is the right implementation method :</div>
<div class="line">[Thursday 13 January 2011] [07:04:21] &lt;jugg&gt;  benoitc, what is the error on 820?</div>
<div class="line">[Thursday 13 January 2011] [07:04:58] &lt;zchrish&gt;        Actually will send to the discussion group; sorry.</div>
<div class="line">[Thursday 13 January 2011] [07:07:01] &lt;jugg&gt;  benoitc, I believe I&#8217;ve understood the problem at 446.  Verifying...</div>
<div class="line">[Thursday 13 January 2011] [07:13:43] &lt;jugg&gt;  yes,  &#8216;n&#8217; is not byte size, it is the number of options.  So what is being asserted itself is bogus.  I&#8217;m making a fix and will push it shortly.</div>
<div class="line">[Thursday 13 January 2011] [07:38:22] &lt;jugg&gt;  benoitc, I have the fixes in place for the first two issues.  Is there anything to fix for line 820?</div>
<div class="line">[Thursday 13 January 2011] [07:57:53] &lt;benoitc&gt;       jugg: testing</div>
<div class="line">[Thursday 13 January 2011] [08:00:38] &lt;benoitc&gt;       jugg: new error c_src/zmq_drv.cpp: In function void wrap_zmq_setsockopt(zmq_drv_t*, const uint8_t*, size_t):</div>
<div class="line">[Thursday 13 January 2011] [08:00:41] &lt;benoitc&gt;       c_src/zmq_drv.cpp:492: error: optvalen was not declared in this scope</div>
<div class="line">[Thursday 13 January 2011] [08:00:47] &lt;jugg&gt;  eh</div>
<div class="line">[Thursday 13 January 2011] [08:01:24] &lt;jugg&gt;  wow, how is my compiler not giving me an error there?</div>
<div class="line">[Thursday 13 January 2011] [08:02:07] &lt;benoitc&gt;       -Wl isn&#8217;t an option on osx</div>
<div class="line">[Thursday 13 January 2011] [08:02:35] &lt;benoitc&gt;       ah yes a typo</div>
<div class="line">[Thursday 13 January 2011] [08:03:37] &lt;benoitc&gt;       and now have a new warning c_src/zmq_drv.cpp:492: warning: comparison between signed and unsigned integer expressions</div>
<div class="line">[Thursday 13 January 2011] [08:04:07] &lt;jugg&gt;  ah NDEBUG is defined in my build environment... no wonder I&#8217;m not finding these problems.</div>
<div class="line">[Thursday 13 January 2011] [08:04:11]          * jugg slaps head</div>
<div class="line">[Thursday 13 January 2011] [08:04:21] &lt;benoitc&gt;       heh</div>
<div class="line">[Thursday 13 January 2011] [08:05:09] &lt;jugg&gt;  sorry... too many things going at once; missing these types of details.</div>
<div class="line">[Thursday 13 January 2011] [08:05:15] &lt;benoitc&gt;       np</div>
<div class="line">[Thursday 13 January 2011] [08:05:38] &lt;benoitc&gt;       that&#8217; where opensource helps :)</div>
<div class="line">[Thursday 13 January 2011] [08:05:52] &lt;jugg&gt;  quite so :)</div>
<div class="line">[Thursday 13 January 2011] [08:08:45] &lt;jugg&gt;  there we go... now I&#8217;m getting the errors.</div>
<div class="line">[Thursday 13 January 2011] [08:09:18] &lt;benoitc&gt;       i&#8217;m not sure it is, but cool :-)</div>
<div class="line">[Thursday 13 January 2011] [08:20:09] &lt;jugg&gt;  fix pushed</div>
<div class="line">[Thursday 13 January 2011] [08:22:45] &lt;benoitc&gt;       one last sorry :(</div>
<div class="line">[Thursday 13 January 2011] [08:22:46] &lt;benoitc&gt;       10&gt; Assertion failed: (sizeof(uint32_t) == size), function wrap_zmq_poll, file c_src/zmq_drv.cpp, line 821. Abort trap</div>
<div class="line">[Thursday 13 January 2011] [08:22:51] &lt;jugg&gt;  I guess I should re-run my tests now that the asserts are actually</div>
<div class="line">[Thursday 13 January 2011] [08:22:55] &lt;benoitc&gt;       the one I had with my fixes</div>
<div class="line">[Thursday 13 January 2011] [08:23:38] &lt;benoitc&gt;       jugg: btw rebared version <a class="reference external" href="https://github.com/benoitc/erlzmq/tree/rebar-socketprocess">https://github.com/benoitc/erlzmq/tree/rebar-socketprocess</a></div>
<div class="line">[Thursday 13 January 2011] [08:24:38] &lt;benoitc&gt;       the pubtest is ok here</div>
<div class="line">[Thursday 13 January 2011] [08:24:53] &lt;benoitc&gt;       only repserver hangs</div>
<div class="line">[Thursday 13 January 2011] [08:29:51] &lt;jugg&gt;  yes, I have another bug there. I&#8217;ll have to rerun my tests now that asserts are actually being checked.</div>
<div class="line">[Thursday 13 January 2011] [08:30:26] &lt;benoitc&gt;       k i will concentrate on app level for now</div>
<div class="line">[Thursday 13 January 2011] [08:34:54] &lt;efhache&gt;       mikko: hi do you have seen how i can configure zmq 2.0.7  to work under linux 2.4 without epooll ?</div>
<div class="line">[Thursday 13 January 2011] [08:35:13] &lt;mikko&gt; efhache: take a look at src/poller.h</div>
<div class="line">[Thursday 13 January 2011] [08:35:28] &lt;mikko&gt; i reckon you could change ZMQ_HAVE_LINUX condition to use poll instead of epoll</div>
<div class="line">[Thursday 13 January 2011] [08:35:36] &lt;mikko&gt; not sure if that&#8217;s the only thing you need to do</div>
<div class="line">[Thursday 13 January 2011] [08:35:59] &lt;mikko&gt; maybe we could add a configure flag in the future to choose poller implementation</div>
<div class="line">[Thursday 13 January 2011] [08:37:32] &lt;efhache&gt;       so the define become : elif defined ZMQ_HAVE_LINUX     typedef epoll_t poller_t; // fhn modification 20110113 epoll_t poller_t;</div>
<div class="line">[Thursday 13 January 2011] [08:37:38] &lt;efhache&gt;       are you ok with me?</div>
<div class="line">[Thursday 13 January 2011] [08:37:55] &lt;mikko&gt; no</div>
<div class="line">[Thursday 13 January 2011] [08:38:04] &lt;efhache&gt;       sorry typedef : poll_t poller_t;</div>
<div class="line">[Thursday 13 January 2011] [08:38:08] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 13 January 2011] [08:38:10] &lt;mikko&gt; try that</div>
<div class="line">[Thursday 13 January 2011] [08:38:18] &lt;efhache&gt;       yes sorry wrong copy past   ;-)</div>
<div class="line">[Thursday 13 January 2011] [08:39:52] &lt;sustrik&gt;       efhache: you can use ZMQ_FORCE_POLL or somesuch</div>
<div class="line">[Thursday 13 January 2011] [08:40:29] &lt;mikko&gt; did we have that in 2.0.7 ?</div>
<div class="line">[Thursday 13 January 2011] [08:40:58] &lt;mikko&gt; oh</div>
<div class="line">[Thursday 13 January 2011] [08:41:00] &lt;mikko&gt; it is there</div>
<div class="line">[Thursday 13 January 2011] [08:41:07] &lt;mikko&gt; so no modification should be needed</div>
<div class="line">[Thursday 13 January 2011] [08:41:20] &lt;mikko&gt; export CPPFLAGS=&#8221;-DZMQ_FORCE_POLL&#8221; ./configure</div>
<div class="line">[Thursday 13 January 2011] [08:45:47] &lt;efhache&gt;       ah sorry I&#8217;ve modified source... it recompile it, I&#8217;ll test and come back... if ok I&#8217;ll retry with the flag</div>
<div class="line">[Thursday 13 January 2011] [08:45:56] &lt;efhache&gt;       thanks a lot and SYL ;-)</div>
<div class="line">[Thursday 13 January 2011] [08:46:29] &lt;mikko&gt; you should really look into making the software work with 2.1.0 as well</div>
<div class="line">[Thursday 13 January 2011] [08:46:42] &lt;mikko&gt; there aren&#8217;t that many modifications needed usually</div>
<div class="line">[Thursday 13 January 2011] [08:52:08] &lt;efhache&gt;       mmhh  I&#8217;&#8216;ve begun with 2.0.6  and then update to 2.0.7 thath normally &#8220;no many modification&#8221;  but in result I&#8217;ve rework all the code... So now I fix it  and later I&#8217;ll update the library if need it</div>
<div class="line">[Thursday 13 January 2011] [09:02:03] &lt;efhache&gt;       mikko: it does not work more, i&#8217;ve test with poller.h modified and obtain another problem : &#8220;Assertion failed: !(it-&gt;revents &amp; POLLNVAL) (poll.cpp:171)&#8221;</div>
<div class="line">[Thursday 13 January 2011] [09:02:30] &lt;efhache&gt;       with the export of the FORCE POLL FLAG  I reobtain the assetion with epoll.cpp as yesterday</div>
<div class="line">[Thursday 13 January 2011] [09:02:59] &lt;mikko&gt; im not sure if anyone has really tested extensively with 2.4 kernel</div>
<div class="line">[Thursday 13 January 2011] [09:11:22] &lt;jugg&gt;  is there still plans for a zeromq conference in Budapest coming up?</div>
<div class="line">[Thursday 13 January 2011] [09:12:23] &lt;sustrik&gt;       pieter was organising it</div>
<div class="line">[Thursday 13 January 2011] [09:12:30] &lt;sustrik&gt;       but he got ill</div>
<div class="line">[Thursday 13 January 2011] [09:12:42] &lt;sustrik&gt;       he&#8217;s out of hospital for only a few days now</div>
<div class="line">[Thursday 13 January 2011] [09:13:02] &lt;sustrik&gt;       so, hard to say</div>
<div class="line">[Thursday 13 January 2011] [09:13:45] &lt;sustrik&gt;       depends on when he gets ok</div>
<div class="line">[Thursday 13 January 2011] [09:14:30] &lt;jugg&gt;  He&#8217;s recovering well?</div>
<div class="line">[Thursday 13 January 2011] [09:16:14] &lt;benoitc&gt;       jugg: i&#8217;m not sure why assertion is here line 821. on 64 bits it&#8217;s always false.</div>
<div class="line">[Thursday 13 January 2011] [09:16:30] &lt;benoitc&gt;       removing it, pubrep works of course ..</div>
<div class="line">[Thursday 13 January 2011] [09:16:43] &lt;sustrik&gt;       i believe so</div>
<div class="line">[Thursday 13 January 2011] [09:17:30] &lt;jugg&gt;  I know why.  I&#8217;ll have a fix soon. You can modify src/zmq_drv.erl line: 190 to be: &lt;&lt;(?ZMQ_POLL):8, (events_to_int(Events)):32&gt;&gt;</div>
<div class="line">[Thursday 13 January 2011] [09:20:33] &lt;jugg&gt;  actually, I might change poll/send/recv flags to all be a byte size instead.</div>
<div class="line">[Thursday 13 January 2011] [09:21:24] &lt;jugg&gt;  yes, that makes more sense</div>
<div class="line">[Thursday 13 January 2011] [09:21:32] &lt;benoitc&gt;       k</div>
<div class="line">[Thursday 13 January 2011] [09:21:41]          * benoitc just ordered k&amp;r book</div>
<div class="line">[Thursday 13 January 2011] [09:21:47] &lt;benoitc&gt;       need to refresh my C</div>
<div class="line">[Thursday 13 January 2011] [09:22:27] &lt;jugg&gt;  so instead, change the assert in poll to: assert(sizeof(uint8_t) == size);</div>
<div class="line">[Thursday 13 January 2011] [09:23:20] &lt;benoitc&gt;       works</div>
<div class="line">[Thursday 13 January 2011] [09:25:09] &lt;efhache&gt;       mikko: do you know if for zmq there is a use of &#8220;EPOLLET&#8221; (triggered mode) ??</div>
<div class="line">[Thursday 13 January 2011] [09:27:12] &lt;yawn&gt;  is there a way to determine the underlying zmq version in jzmq?</div>
<div class="line">[Thursday 13 January 2011] [09:42:28] &lt;benoitc&gt;       jugg: just did <a class="reference external" href="https://github.com/benoitc/erlzmq/commit/463d727dd90d7da94047e5cdb5b231672829d116">https://github.com/benoitc/erlzmq/commit/463d727dd90d7da94047e5cdb5b231672829d116</a> but anyway will wait your final fix</div>
<div class="line">[Thursday 13 January 2011] [09:42:54] &lt;benoitc&gt;       rebar is working well on erlzmq btw</div>
<div class="line">[Thursday 13 January 2011] [09:43:54] &lt;jugg&gt;  ok, almost ready.</div>
<div class="line">[Thursday 13 January 2011] [09:45:41] &lt;benoitc&gt;       cool :)</div>
<div class="line">[Thursday 13 January 2011] [09:48:02] &lt;mikko&gt; efhache: i dont know what EPOLLET means</div>
<div class="line">[Thursday 13 January 2011] [09:48:39] &lt;mikko&gt; yawn: not sure if it&#8217;s exposed</div>
<div class="line">[Thursday 13 January 2011] [09:49:25] &lt;mikko&gt; yawn: ZMQ::version_full() ?</div>
<div class="line">[Thursday 13 January 2011] [09:49:57] &lt;yawn&gt;  mikko: not in my version - maybe an old build ...</div>
<div class="line">[Thursday 13 January 2011] [09:50:15] &lt;mikko&gt; <a class="reference external" href="https://github.com/zeromq/jzmq/blob/master/src/ZMQ.cpp#L30">https://github.com/zeromq/jzmq/blob/master/src/ZMQ.cpp#L30</a></div>
<div class="line">[Thursday 13 January 2011] [09:50:22] &lt;mikko&gt; at least that&#8217;s what the source says</div>
<div class="line">[Thursday 13 January 2011] [09:50:42] &lt;sustrik&gt;       mikko: it&#8217;s edge-triggered</div>
<div class="line">[Thursday 13 January 2011] [09:51:10] &lt;sustrik&gt;       efhache: the underlying file descriptor (ZMQ_FD) is edge-triggered</div>
<div class="line">[Thursday 13 January 2011] [09:51:18] &lt;mikko&gt; sustrik: EPOLLET stands for edge-triggered?</div>
<div class="line">[Thursday 13 January 2011] [09:51:25] &lt;sustrik&gt;       i think so</div>
<div class="line">[Thursday 13 January 2011] [09:51:30] &lt;sustrik&gt;       let me check</div>
<div class="line">[Thursday 13 January 2011] [09:52:17] &lt;sustrik&gt;       yes</div>
<div class="line">[Thursday 13 January 2011] [09:54:06] &lt;mikko&gt; ok</div>
<div class="line">[Thursday 13 January 2011] [09:59:30] &lt;efhache&gt;       mikko:  I&#8217;ve resolved the problem, I&#8217;ve used the export CPPFLAGS=&#8221;-DZMQ_FORCE_SELECT&#8221;</div>
<div class="line">[Thursday 13 January 2011] [10:03:44] &lt;mikko&gt; efhache: cool</div>
<div class="line">[Thursday 13 January 2011] [10:04:14] &lt;mikko&gt; sustrik: i guess that makes sense if it standa for EPOLL Egde-Triggered</div>
<div class="line">[Thursday 13 January 2011] [10:04:29] &lt;yawn&gt;  mikko: protected statics</div>
<div class="line">[Thursday 13 January 2011] [10:04:52] &lt;yawn&gt;  mikko: one needs to do the usual dance &amp; sing to make java return the values</div>
<div class="line">[Thursday 13 January 2011] [10:25:12] &lt;Hybelkanin&gt;    Anyone with experience on zmq on osx 10.6 with the C# bindings?</div>
<div class="line">[Thursday 13 January 2011] [10:27:14] &lt;mikko&gt; Hybelkanin: unusual combination</div>
<div class="line">[Thursday 13 January 2011] [10:27:21] &lt;mikko&gt; can&#8217;t say i&#8217;ve heard that combo before</div>
<div class="line">[Thursday 13 January 2011] [10:27:28] &lt;Hybelkanin&gt;    :P</div>
<div class="line">[Thursday 13 January 2011] [10:27:47] &lt;mikko&gt; i have built and tested the c# bindings on linux</div>
<div class="line">[Thursday 13 January 2011] [10:28:54] &lt;Hybelkanin&gt;    I think my problem may be monodevelop</div>
<div class="line">[Thursday 13 January 2011] [10:29:10] &lt;Hybelkanin&gt;    So this might be the wrong channel</div>
<div class="line">[Thursday 13 January 2011] [10:43:10] &lt;amacleod&gt;      My Python 0MQ REP server doesn&#8217;t stop when I interrupt it with ^C.  How do I make it respect ^C?</div>
<div class="line">[Thursday 13 January 2011] [10:49:35] &lt;s0undt3ch&gt;     ppl, pub/sub forward devices should connect_in and bind_out?</div>
<div class="line">[Thursday 13 January 2011] [10:49:43] &lt;s0undt3ch&gt;     or should they bind_in and bind_out?</div>
<div class="line">[Thursday 13 January 2011] [11:01:59] &lt;mikko&gt; amacleod: i would i think it might be blocking on zmq_term</div>
<div class="line">[Thursday 13 January 2011] [11:02:34] &lt;mikko&gt; amacleod: i dont really know how things are implemented in python so its just guessing</div>
<div class="line">[Thursday 13 January 2011] [11:02:35] &lt;amacleod&gt;      mikko, I wrote it like the examples with a &#8220;while True&#8221; loop.</div>
<div class="line">[Thursday 13 January 2011] [11:05:11] &lt;amacleod&gt;      I can stop it from within just fine&#8211;if I set up a conditional where my message handler calls self.context.term () when it receives &#8220;EXIT&#8221; or something, it&#8217;s okay.</div>
<div class="line">[Thursday 13 January 2011] [11:05:18] &lt;mikko&gt; amacleod: can you see where it&#8217;s stuck?</div>
<div class="line">[Thursday 13 January 2011] [11:05:42] &lt;amacleod&gt;      As far as I know, it&#8217;s not stuck.  It&#8217;s just completely ignoring ^C or SIGTERM.</div>
<div class="line">[Thursday 13 January 2011] [11:06:11] &lt;cremes&gt;        amacleod: if it&#8217;s blocked in zmq_term(), it won&#8217;t let python&#8217;s signal handler run to catch the signal</div>
<div class="line">[Thursday 13 January 2011] [11:06:22] &lt;cremes&gt;        this has been reported a few times; i think sustrik is planning a fix</div>
<div class="line">[Thursday 13 January 2011] [11:06:34] &lt;cremes&gt;        same thing happens with the ruby runtime</div>
<div class="line">[Thursday 13 January 2011] [11:07:07] &lt;amacleod&gt;      Oh, interesting.</div>
<div class="line">[Thursday 13 January 2011] [11:07:19] &lt;amacleod&gt;      If I hit ^C and then try sending something to it, it does get the KeyboardInterrupt exception.</div>
<div class="line">[Thursday 13 January 2011] [11:07:43] &lt;amacleod&gt;      So it&#8217;s actually probably blocking in recv()</div>
<div class="line">[Thursday 13 January 2011] [11:07:52] &lt;cremes&gt;        huh, that might be a new problem</div>
<div class="line">[Thursday 13 January 2011] [11:07:57] &lt;cremes&gt;        if you can reduce it, file an issue</div>
<div class="line">[Thursday 13 January 2011] [11:08:33] &lt;mikko&gt; recv should return on ctrl+c</div>
<div class="line">[Thursday 13 January 2011] [11:20:58] &lt;s0undt3ch&gt;     sustrik, guido_g: I found out the issue about my forwarder problem</div>
<div class="line">[Thursday 13 January 2011] [11:21:20] &lt;s0undt3ch&gt;     sustrik, guido_g: publishers were binding instead of connecting</div>
<div class="line">[Thursday 13 January 2011] [11:21:41] &lt;s0undt3ch&gt;     sustrik, guido_g: the forwarder device was the one binding so, no one else should bind</div>
<div class="line">[Thursday 13 January 2011] [11:29:08] &lt;jugg&gt;  benoitc, updates pushed.  All get/setsockopt options are tested now.</div>
<div class="line">[Thursday 13 January 2011] [11:38:27] &lt;benoitc&gt;       jugg: works</div>
<div class="line">[Thursday 13 January 2011] [11:38:33] &lt;benoitc&gt;       thanks :)</div>
<div class="line">[Thursday 13 January 2011] [11:39:10] &lt;benoitc&gt;       smth weird though when you launch pubsub test</div>
<div class="line">[Thursday 13 January 2011] [11:39:24] &lt;benoitc&gt;       10 is sent but none of subclient get it</div>
<div class="line">[Thursday 13 January 2011] [11:40:47] &lt;benoitc&gt;       jugg: adding a timer after the bind fix that but ...</div>
<div class="line">[Thursday 13 January 2011] [11:42:09] &lt;benoitc&gt;       anyway <a class="reference external" href="https://github.com/benoitc/erlzmq/tree/rebar-socketprocess">https://github.com/benoitc/erlzmq/tree/rebar-socketprocess</a></div>
<div class="line">[Thursday 13 January 2011] [11:44:29] &lt;jugg&gt;  yes, that is normal - not a binding issue.</div>
<div class="line">[Thursday 13 January 2011] [11:44:50] &lt;benoitc&gt;       ok</div>
<div class="line">[Thursday 13 January 2011] [11:45:13] &lt;benoitc&gt;       didn&#8217;t check but did you add PUSH and PULL</div>
<div class="line">[Thursday 13 January 2011] [11:45:25] &lt;jugg&gt;  yes</div>
<div class="line">[Thursday 13 January 2011] [11:45:26] &lt;benoitc&gt;       or DOWNSTREAM, UPSTREAM are current names ?</div>
<div class="line">[Thursday 13 January 2011] [11:45:29] &lt;benoitc&gt;       cool</div>
<div class="line">[Thursday 13 January 2011] [11:45:49] &lt;jugg&gt;  using your rebar, I always get errors: fatal: No tags can describe &#8216;6944b664b20b525e210f1eaebea00bbcd21ec217&#8217;</div>
<div class="line">[Thursday 13 January 2011] [11:45:55] &lt;benoitc&gt;       ok time to code this app then. more in the night</div>
<div class="line">[Thursday 13 January 2011] [11:45:58] &lt;jugg&gt;  when doing $ make</div>
<div class="line">[Thursday 13 January 2011] [11:46:00] &lt;benoitc&gt;       jugg: you have to tag</div>
<div class="line">[Thursday 13 January 2011] [11:46:08] &lt;jugg&gt;  just to build ??</div>
<div class="line">[Thursday 13 January 2011] [11:46:12] &lt;benoitc&gt;       i can remove it though</div>
<div class="line">[Thursday 13 January 2011] [11:46:25] &lt;benoitc&gt;       jugg: this is for archive creation</div>
<div class="line">[Thursday 13 January 2011] [11:46:26] &lt;jugg&gt;  yes, I build much more often than I tag</div>
<div class="line">[Thursday 13 January 2011] [11:46:35] &lt;jugg&gt;  no, that happens when doing $ make</div>
<div class="line">[Thursday 13 January 2011] [11:46:36] &lt;benoitc&gt;       let me edit this Makefile :)</div>
<div class="line">[Thursday 13 January 2011] [11:46:40] &lt;jugg&gt;  k :)</div>
<div class="line">[Thursday 13 January 2011] [11:46:55] &lt;benoitc&gt;       you could just do ./rebar compile anyway</div>
<div class="line">[Thursday 13 January 2011] [11:52:09] &lt;amacleod&gt;      Should I file my test case as an attachment to <a class="reference external" href="https://github.com/zeromq/zeromq2/issues/#issue/127">https://github.com/zeromq/zeromq2/issues/#issue/127</a> , or start a new issue?</div>
<div class="line">[Thursday 13 January 2011] [11:52:56] &lt;mikko&gt; amacleod: is it python?</div>
<div class="line">[Thursday 13 January 2011] [11:53:03] &lt;amacleod&gt;      mikko, yes, Python, not Ruby.</div>
<div class="line">[Thursday 13 January 2011] [11:53:11] &lt;mikko&gt; open it under <a class="reference external" href="https://github.com/zeromq/pyzmq">https://github.com/zeromq/pyzmq</a></div>
<div class="line">[Thursday 13 January 2011] [11:58:19] &lt;benoitc&gt;       jugg: fixed and pushed</div>
<div class="line">[Thursday 13 January 2011] [12:07:32] &lt;jugg&gt;  benoitc, $git rebase -i can be your friend... :)</div>
<div class="line">[Thursday 13 January 2011] [12:14:56] &lt;benoitc&gt;       mmm ?</div>
<div class="line">[Thursday 13 January 2011] [12:15:05] &lt;benoitc&gt;       I&#8217;ve used rebase -i</div>
<div class="line">[Thursday 13 January 2011] [12:15:14] &lt;benoitc&gt;       just cherry-picking last update</div>
<div class="line">[Thursday 13 January 2011] [12:15:52] &lt;jugg&gt;  why not just rebase your commits ontop of the last update?</div>
<div class="line">[Thursday 13 January 2011] [12:16:14] &lt;benoitc&gt;       in rebar-socketprocess</div>
<div class="line">[Thursday 13 January 2011] [12:16:16] &lt;benoitc&gt;       dunno</div>
<div class="line">[Thursday 13 January 2011] [12:16:24] &lt;benoitc&gt;       rebasing now</div>
<div class="line">[Thursday 13 January 2011] [12:21:17] &lt;benoitc&gt;       jugg: done</div>
<div class="line">[Thursday 13 January 2011] [12:25:22] &lt;benoitc&gt;       win 6</div>
<div class="line">[Thursday 13 January 2011] [13:14:52] &lt;amacleod&gt;      Bleh.  Didn&#8217;t realize pyzmq master won&#8217;t build against zmq 2.1.0.</div>
<div class="line">[Thursday 13 January 2011] [13:19:16] &lt;benoitc&gt;       mmm it is</div>
<div class="line">[Thursday 13 January 2011] [13:19:27] &lt;benoitc&gt;       at least it does</div>
<div class="line">[Thursday 13 January 2011] [13:20:21] &lt;amacleod&gt;      Do I need to delete my previous installation of pyzmq in order to make use of the development version?</div>
<div class="line">[Thursday 13 January 2011] [13:20:34] &lt;benoitc&gt;       i&#8217;ve installed it in my virtualenv</div>
<div class="line">[Thursday 13 January 2011] [13:22:35] &lt;amacleod&gt;      I must be doing something wrong.  I built and installed pyzmq master, and when I try to import zmq, it gets an error, &#8216;cause it can&#8217;t import initthreads from zmq.util</div>
<div class="line">[Thursday 13 January 2011] [13:23:27] &lt;benoitc&gt;       did you change paths in setup.cfg?</div>
<div class="line">[Thursday 13 January 2011] [13:26:01] &lt;amacleod&gt;      Ah, nope.  That must be it.</div>
<div class="line">[Thursday 13 January 2011] [13:26:38] &lt;amacleod&gt;      Does it not use /usr/local/lib and /usr/local/include by default?</div>
<div class="line">[Thursday 13 January 2011] [13:33:18] &lt;benoitc&gt;       not sure</div>
<div class="line">[Thursday 13 January 2011] [13:45:46] &lt;amacleod&gt;      The weird thing is that everything seems to get installed just fine.  It&#8217;s only when I go to import zmq that the error occurs.</div>
<div class="line">[Thursday 13 January 2011] [14:50:27] &lt;mikko&gt; sustrik: <a class="reference external" href="https://github.com/danmar/cppcheck/commit/36c18072280d71e49d4d2a38d011666f792d6283">https://github.com/danmar/cppcheck/commit/36c18072280d71e49d4d2a38d011666f792d6283</a></div>
<div class="line">[Thursday 13 January 2011] [14:50:59] &lt;mikko&gt; wrong one</div>
<div class="line">[Thursday 13 January 2011] [14:51:34] &lt;mikko&gt; maybe not, not sure if that affects the one you reported</div>
<div class="line">[Thursday 13 January 2011] [14:52:42] &lt;sustrik&gt;       looks like</div>
<div class="line">[Thursday 13 January 2011] [14:53:27] &lt;mikko&gt; testing now</div>
<div class="line">[Thursday 13 January 2011] [14:54:53] &lt;mikko&gt; nope, still see those reported</div>
<div class="line">[Thursday 13 January 2011] [17:56:15] &lt;yrashk&gt;        can push socket be shared across threads?</div>
<div class="line">[Thursday 13 January 2011] [17:56:25] &lt;yrashk&gt;        or is it unsafe to do so?</div>
<div class="line">[Thursday 13 January 2011] [18:29:59] &lt;yrashk&gt;        if zmq_send with ZMQ_NOBLOCK returns EAGAIN, do I have to reinitialize the message?</div>
<div class="line">[Thursday 13 January 2011] [20:51:59] &lt;jugg&gt;  yrashk, in 2.1, you can migrate a socket between threads, but you can&#8217;t share the socket simultaneously in multiple threads.</div>
<div class="line">[Thursday 13 January 2011] [20:52:14] &lt;jugg&gt;  and no need to reinitialize.</div>
<div class="line">[Friday 14 January 2011] [01:20:39] &lt;potatodemon&gt;     Hey Y&#8217;all.  I want to have a pub/sub queue.  Where these is no data persistance, if someone is not subscribed to the queue the data is not kept around.  Is this easy to do with 0mq?</div>
<div class="line">[Friday 14 January 2011] [01:22:26] &lt;potatodemon&gt;     Oh this looks like it is the default behavior. word up</div>
<div class="line">[Friday 14 January 2011] [03:28:11] &lt;sustrik&gt; yes, it&#8217;s default</div>
<div class="line">[Friday 14 January 2011] [03:28:52] &lt;sustrik&gt; yeashk: no need to re-initialise</div>
<div class="line">[Friday 14 January 2011] [03:29:12] &lt;sustrik&gt; ah, jugg answered already :)</div>
<div class="line">[Friday 14 January 2011] [04:30:22] &lt;yrashk&gt;  jugg: thanks! already moved to two push sockets approach :)</div>
<div class="line">[Friday 14 January 2011] [06:07:04] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * r8eae7d8 10/ (5 files):</div>
<div class="line">[Friday 14 January 2011] [06:07:04] &lt;CIA-21&gt;  zeromq2: &#8216;message distribution mechanism&#8217; separated from XPUB socket</div>
<div class="line">[Friday 14 January 2011] [06:07:04] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eC63Tc">http://bit.ly/eC63Tc</a></div>
<div class="line">[Friday 14 January 2011] [06:15:46] &lt;mikko&gt;   good morning</div>
<div class="line">[Friday 14 January 2011] [06:17:09] &lt;sustrik&gt; morning</div>
<div class="line">[Friday 14 January 2011] [06:26:28] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * r58c9830 10/ (src/xsub.cpp src/xsub.hpp):</div>
<div class="line">[Friday 14 January 2011] [06:26:28] &lt;CIA-21&gt;  zeromq2: XSUB socket has a subscription distributor</div>
<div class="line">[Friday 14 January 2011] [06:26:28] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/fifGK7">http://bit.ly/fifGK7</a></div>
<div class="line">[Friday 14 January 2011] [06:37:51] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * ra348d94 10/ (src/xpub.cpp src/xpub.hpp):</div>
<div class="line">[Friday 14 January 2011] [06:37:51] &lt;CIA-21&gt;  zeromq2: Fair queueing of subscriptions added to XPUB socket</div>
<div class="line">[Friday 14 January 2011] [06:37:51] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/gZWsdO">http://bit.ly/gZWsdO</a></div>
<div class="line">[Friday 14 January 2011] [06:40:58] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * r59fa0c9 10/ AUTHORS :</div>
<div class="line">[Friday 14 January 2011] [06:40:58] &lt;CIA-21&gt;  zeromq2: Gerard Toonstra added to the authors file</div>
<div class="line">[Friday 14 January 2011] [06:40:58] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/fNsKW7">http://bit.ly/fNsKW7</a></div>
<div class="line">[Friday 14 January 2011] [06:50:16] &lt;guido_g&gt; howdy</div>
<div class="line">[Friday 14 January 2011] [06:50:29] &lt;guido_g&gt; any idea what is the cause of: Assertion failed: pending_bytes == 0 (pgm_receiver.cpp:141)</div>
<div class="line">[Friday 14 January 2011] [06:51:34] &lt;guido_g&gt; killing my subscriber randomly</div>
<div class="line">[Friday 14 January 2011] [06:52:16] &lt;guido_g&gt; looks like a heisen bug</div>
<div class="line">[Friday 14 January 2011] [07:02:30] &lt;sustrik&gt; guido_g: the assert shouldn&#8217;t be there</div>
<div class="line">[Friday 14 January 2011] [07:02:31] &lt;sustrik&gt; imo</div>
<div class="line">[Friday 14 January 2011] [07:02:53] &lt;sustrik&gt; please, do report the problem on the mailing list so that steven can get a look at it</div>
<div class="line">[Friday 14 January 2011] [07:17:26] &lt;guido_g&gt; ok</div>
<div class="line">[Friday 14 January 2011] [07:30:18] &lt;benoitc&gt; mmm how would you authenticate consumers in a PUB/SUB schema ?</div>
<div class="line">[Friday 14 January 2011] [07:31:50] &lt;guido_g&gt; over a different connection</div>
<div class="line">[Friday 14 January 2011] [07:32:31] &lt;benoitc&gt; i&#8217;m not sur eto follow, if i setup a pub server</div>
<div class="line">[Friday 14 January 2011] [07:32:46] &lt;benoitc&gt; how can i make sure only authentciated consumer can have access to it ?</div>
<div class="line">[Friday 14 January 2011] [07:32:56] &lt;benoitc&gt; something in the message ?</div>
<div class="line">[Friday 14 January 2011] [07:33:18] &lt;guido_g&gt; mq does not provide authentication</div>
<div class="line">[Friday 14 January 2011] [07:33:27] &lt;guido_g&gt; so you&#8217;ve to do it yourself</div>
<div class="line">[Friday 14 January 2011] [07:33:30] &lt;benoitc&gt; i know</div>
<div class="line">[Friday 14 January 2011] [07:33:37] &lt;benoitc&gt; i&#8217;m looking for ideas</div>
<div class="line">[Friday 14 January 2011] [07:33:47] &lt;guido_g&gt; simple solution would be to use a req/rep</div>
<div class="line">[Friday 14 January 2011] [07:34:28] &lt;benoitc&gt; right, it would mean a dedicaced connection in this case then</div>
<div class="line">[Friday 14 January 2011] [07:34:40] &lt;guido_g&gt; for authentication</div>
<div class="line">[Friday 14 January 2011] [07:35:01] &lt;benoitc&gt; mmm ?</div>
<div class="line">[Friday 14 January 2011] [07:35:06] &lt;benoitc&gt; i don&#8217;t follow</div>
<div class="line">[Friday 14 January 2011] [07:35:58] &lt;jugg&gt;    it&#8217;d be interesting if pub sockets could accept connections based on connecting sub socket identity.</div>
<div class="line">[Friday 14 January 2011] [07:36:27] &lt;guido_g&gt; i doubt that</div>
<div class="line">[Friday 14 January 2011] [07:36:31] &lt;jugg&gt;    or reject them...</div>
<div class="line">[Friday 14 January 2011] [07:36:47] &lt;guido_g&gt; see where amqp went with all these &#8220;nice features&#8221;</div>
<div class="line">[Friday 14 January 2011] [07:37:34] &lt;jugg&gt;    socket identity itself isn&#8217;t a nice feature?</div>
<div class="line">[Friday 14 January 2011] [07:37:54] &lt;guido_g&gt; &lt;jugg&gt; it&#8217;d be interesting if pub sockets could accept connections based on connecting sub socket identity.</div>
<div class="line">[Friday 14 January 2011] [07:38:10] &lt;guido_g&gt; socket-ids are cheap</div>
<div class="line">[Friday 14 January 2011] [07:38:21] &lt;guido_g&gt; authentication is not</div>
<div class="line">[Friday 14 January 2011] [07:38:29] &lt;jugg&gt;    thanks, I didn&#8217;t realize I wrote that... :)</div>
<div class="line">[Friday 14 January 2011] [07:38:55] &lt;guido_g&gt; just to give the context for my point</div>
<div class="line">[Friday 14 January 2011] [07:39:13] &lt;benoitc&gt; well it could be just a filter on socket-id</div>
<div class="line">[Friday 14 January 2011] [07:39:21] &lt;benoitc&gt; whatever you do with that</div>
<div class="line">[Friday 14 January 2011] [07:39:51] &lt;jugg&gt;    so, you&#8217;d reject subscription forwarding then?  It isn&#8217;t much different.</div>
<div class="line">[Friday 14 January 2011] [07:40:09] &lt;guido_g&gt; yes</div>
<div class="line">[Friday 14 January 2011] [07:40:28] &lt;jugg&gt;    yes you&#8217;d reject it, or yes it is different?</div>
<div class="line">[Friday 14 January 2011] [07:40:33] &lt;guido_g&gt; a)</div>
<div class="line">[Friday 14 January 2011] [07:41:33] &lt;jugg&gt;    anyway...  the idea is still interesting, likable or not. :)</div>
<div class="line">[Friday 14 January 2011] [07:43:21] &lt;jugg&gt;    probably could just add &#8216;subscribe&#8217; socket option to a pub socket, and only identities that match the pub subscriptions can connect.  Too greatly overload the concept. :)</div>
<div class="line">[Friday 14 January 2011] [07:44:06] &lt;guido_g&gt; how would this work w/ pgm?</div>
<div class="line">[Friday 14 January 2011] [07:44:58] &lt;jugg&gt;    I&#8217;ll let someone else solve that :)</div>
<div class="line">[Friday 14 January 2011] [07:45:08] &lt;guido_g&gt; i knew that...</div>
<div class="line">[Friday 14 January 2011] [07:45:39] &lt;benoitc&gt; i guess i could encrypt messages in the pubserver</div>
<div class="line">[Friday 14 January 2011] [07:45:56] &lt;guido_g&gt; sure</div>
<div class="line">[Friday 14 January 2011] [07:45:56] &lt;benoitc&gt; so only authorized suscribers could read them</div>
<div class="line">[Friday 14 January 2011] [07:46:10] &lt;guido_g&gt; decode</div>
<div class="line">[Friday 14 January 2011] [07:46:30] &lt;benoitc&gt; yes</div>
<div class="line">[Friday 14 January 2011] [07:46:32] &lt;guido_g&gt; the message itself would still be readable by not autorized clients</div>
<div class="line">[Friday 14 January 2011] [07:46:46] &lt;benoitc&gt; right</div>
<div class="line">[Friday 14 January 2011] [07:56:24] &lt;jugg&gt;    if it is an issue of sensitive data, then you need to encrypt the connection anyway.   I assumed you were solving an issue of limiting connections.  So, however you encrypt the connection could also encapsulate the authentication.</div>
<div class="line">[Friday 14 January 2011] [07:57:26] &lt;benoitc&gt; well not in a pubsub, i can&#8217;t say don&#8217;t send to this suscriber</div>
<div class="line">[Friday 14 January 2011] [07:58:57] &lt;benoitc&gt; what i can do on the other hand is to let trusted suscribers to decode</div>
<div class="line">[Friday 14 January 2011] [09:21:56] &lt;Steve-o&gt; so is anyone trying to write new transports for zmq?</div>
<div class="line">[Friday 14 January 2011] [09:24:05] &lt;mikko&gt;   Steve-o: sustrik maybe?</div>
<div class="line">[Friday 14 January 2011] [09:24:05] &lt;mikko&gt;   :)</div>
<div class="line">[Friday 14 January 2011] [09:24:22] &lt;sustrik&gt; Steve-o: why so?</div>
<div class="line">[Friday 14 January 2011] [09:25:15] &lt;sustrik&gt; Steve-o: btw, the problem reported by guido_g</div>
<div class="line">[Friday 14 January 2011] [09:25:37] &lt;Steve-o&gt; just wondering</div>
<div class="line">[Friday 14 January 2011] [09:25:45] &lt;sustrik&gt; what the semantics pending_bytes?</div>
<div class="line">[Friday 14 January 2011] [09:25:48] &lt;sustrik&gt; of</div>
<div class="line">[Friday 14 January 2011] [09:26:06] &lt;Steve-o&gt; zmq batches zmq messages into PGM packets</div>
<div class="line">[Friday 14 January 2011] [09:26:22] &lt;Steve-o&gt; the pending_bytes refers to data remaining in the batch not sent to the application</div>
<div class="line">[Friday 14 January 2011] [09:26:32] &lt;Steve-o&gt; I believe</div>
<div class="line">[Friday 14 January 2011] [09:27:12] &lt;sustrik&gt; as for the transport it would be nice to make adding new ones but atm the interface between the trasnport and the rest of 0mq is kind of fuzzy</div>
<div class="line">[Friday 14 January 2011] [09:27:32] &lt;sustrik&gt; adding new ones easy</div>
<div class="line">[Friday 14 January 2011] [09:30:12] &lt;sustrik&gt; guido_g: is the problem reproducible?</div>
<div class="line">[Friday 14 January 2011] [09:30:59] &lt;Steve-o&gt; something like a HTTP transport is quite complicated as you need timers and odd twist of push/pull characteristics unless you throw threads at it</div>
<div class="line">[Friday 14 January 2011] [09:31:37] &lt;Steve-o&gt; I haven&#8217;t seen guido&#8217;s problem otherwise I would have logged it</div>
<div class="line">[Friday 14 January 2011] [09:34:24] &lt;sustrik&gt; it&#8217;s on the mailing list</div>
<div class="line">[Friday 14 January 2011] [09:34:41] &lt;sustrik&gt; you&#8217;ve already replied</div>
<div class="line">[Friday 14 January 2011] [09:35:56] &lt;mikko&gt;   Steve-o: websocket transport might be a lot easier</div>
<div class="line">[Friday 14 January 2011] [09:36:06] &lt;sustrik&gt; afaiu the problem is that if data cannot be sent to the application due to HWM or somesuch (pending_bytes&gt;0)</div>
<div class="line">[Friday 14 January 2011] [09:36:21] &lt;sustrik&gt; then pgm_receiver should unregister itself from polling on incoming data (reset_pollin)</div>
<div class="line">[Friday 14 January 2011] [09:36:46] &lt;sustrik&gt; if it does so, in_event() should not be invoked</div>
<div class="line">[Friday 14 January 2011] [09:36:52] &lt;sustrik&gt; and thus the assert doesn&#8217;t happen</div>
<div class="line">[Friday 14 January 2011] [09:37:15] &lt;sustrik&gt; there&#8217;s a bug somewhere...</div>
<div class="line">[Friday 14 January 2011] [09:38:52] &lt;sustrik&gt; mikko, Steve-o: HTTP, XMPP, SOAP and such are pretty complex, however, protocols like SCTP or UDP seem to make much better fit</div>
<div class="line">[Friday 14 January 2011] [09:39:04] &lt;sustrik&gt; UDT i meant</div>
<div class="line">[Friday 14 January 2011] [09:44:49] &lt;Steve-o&gt; HTTP is interesting as its really only the connection process that is different, the rest follows the TCP transport</div>
<div class="line">[Friday 14 January 2011] [09:46:33] &lt;guido_g&gt; re</div>
<div class="line">[Friday 14 January 2011] [09:46:53] &lt;guido_g&gt; sustrik: as I said, sometimes it happens sometimes not</div>
<div class="line">[Friday 14 January 2011] [09:47:09] &lt;guido_g&gt; so there is no way to trigger that on demand</div>
<div class="line">[Friday 14 January 2011] [09:50:02] &lt;guido_g&gt; msut be something in the packet because three independent subscribers crashed simultaniously</div>
<div class="line">[Friday 14 January 2011] [09:50:05] &lt;guido_g&gt; <a href="#id31"><span class="problematic" id="id32">*</span></a>must</div>
<div class="line">[Friday 14 January 2011] [09:52:51] &lt;Steve-o&gt; I guess you can tell if you had a dummy client that subs on the same transport but does no processing</div>
<div class="line">[Friday 14 January 2011] [09:53:19] &lt;guido_g&gt; is in the working atm</div>
<div class="line">[Friday 14 January 2011] [09:53:34] &lt;Steve-o&gt; Martin&#8217;s implication is that the leading messages cause high CPU usage to cause the HWM to be hit</div>
<div class="line">[Friday 14 January 2011] [09:57:00] &lt;Steve-o&gt; I presume then it would be straight forward to reproduce with a sleeping client and reasonably expedient publisher</div>
<div class="line">[Friday 14 January 2011] [09:59:08] &lt;guido_g&gt; spoc works fine so far</div>
<div class="line">[Friday 14 January 2011] [09:59:34] &lt;guido_g&gt; spoc  := Simplest POssibile Client</div>
<div class="line">[Friday 14 January 2011] [10:01:55] &lt;guido_g&gt; other client still dies</div>
<div class="line">[Friday 14 January 2011] [10:03:12] &lt;guido_g&gt; what does this error mean?</div>
<div class="line">[Friday 14 January 2011] [10:03:38] &lt;Steve-o&gt; as Martin says, it is due to HWM on receiving side to app&#8217;</div>
<div class="line">[Friday 14 January 2011] [10:04:02] &lt;Steve-o&gt; i.e. slow consumer causes push from PGM to the app&#8217; the fail and leave unprocessed data</div>
<div class="line">[Friday 14 January 2011] [10:04:52] &lt;guido_g&gt; pardon?</div>
<div class="line">[Friday 14 January 2011] [10:05:20] &lt;Steve-o&gt; data is queuing up inside ZMQ for you app&#8217;</div>
<div class="line">[Friday 14 January 2011] [10:05:29] &lt;guido_g&gt; ok</div>
<div class="line">[Friday 14 January 2011] [10:05:43] &lt;Steve-o&gt; when it hits a certain level it pushes back to the transport</div>
<div class="line">[Friday 14 January 2011] [10:05:52] &lt;guido_g&gt; also ok and understood</div>
<div class="line">[Friday 14 January 2011] [10:06:06] &lt;Steve-o&gt; the transport, PGM, operates in batches of messages, one packet contains one batch</div>
<div class="line">[Friday 14 January 2011] [10:06:19] &lt;guido_g&gt; ok</div>
<div class="line">[Friday 14 January 2011] [10:06:49] &lt;Steve-o&gt; the queue limit is being reached before a packet batch of messages has completed</div>
<div class="line">[Friday 14 January 2011] [10:07:19] &lt;Steve-o&gt; leaving unprocessed bytes (pending_bytes &gt; 0)</div>
<div class="line">[Friday 14 January 2011] [10:07:54] &lt;guido_g&gt; now it starts to make sense</div>
<div class="line">[Friday 14 January 2011] [10:07:54] &lt;Steve-o&gt; a subsequent event indicating further new incoming data occurs</div>
<div class="line">[Friday 14 January 2011] [10:08:03] &lt;Steve-o&gt; then the assertion is hit</div>
<div class="line">[Friday 14 January 2011] [10:08:37] &lt;guido_g&gt; so one way to circumvent this problem would be a high HWM on the subscriber?</div>
<div class="line">[Friday 14 January 2011] [10:09:53] &lt;Steve-o&gt; well the transport needs to unhook from future in_events until the queue hits the LWM I guess</div>
<div class="line">[Friday 14 January 2011] [10:10:20] &lt;guido_g&gt; iow, no easy way work around that bug</div>
<div class="line">[Friday 14 January 2011] [10:11:08] &lt;Steve-o&gt; higher watermark would be a workaround</div>
<div class="line">[Friday 14 January 2011] [10:11:27] &lt;guido_g&gt; i&#8217;ll give it a try</div>
<div class="line">[Friday 14 January 2011] [10:12:03] &lt;guido_g&gt; does rate-limiting work on the receiver side?</div>
<div class="line">[Friday 14 January 2011] [10:12:59] &lt;Steve-o&gt; send side</div>
<div class="line">[Friday 14 January 2011] [10:13:57] &lt;Steve-o&gt; just looking at zmq receiver, it already does unhook some events</div>
<div class="line">[Friday 14 January 2011] [10:14:21] &lt;Steve-o&gt; line 222-231,</div>
<div class="line">[Friday 14 January 2011] [10:15:58] &lt;Steve-o&gt; maybe then its the timer event</div>
<div class="line">[Friday 14 January 2011] [10:16:11] &lt;sustrik&gt; hm</div>
<div class="line">[Friday 14 January 2011] [10:16:15] &lt;sustrik&gt; what is see is:</div>
<div class="line">[Friday 14 January 2011] [10:16:16] &lt;sustrik&gt; pending_bytes = received - processed;</div>
<div class="line">[Friday 14 January 2011] [10:16:17] &lt;sustrik&gt; ...</div>
<div class="line">[Friday 14 January 2011] [10:16:23] &lt;sustrik&gt; reset_pollin (pipe_handle);</div>
<div class="line">[Friday 14 January 2011] [10:16:23] &lt;sustrik&gt;             reset_pollin (socket_handle);</div>
<div class="line">[Friday 14 January 2011] [10:16:24] &lt;Steve-o&gt; slow consumer with waiting packets</div>
<div class="line">[Friday 14 January 2011] [10:16:43] &lt;sustrik&gt; and the whole thing is under</div>
<div class="line">[Friday 14 January 2011] [10:16:48] &lt;sustrik&gt; if (processed &lt; received) {</div>
<div class="line">[Friday 14 January 2011] [10:17:16] &lt;Steve-o&gt; but timer events call in_event()</div>
<div class="line">[Friday 14 January 2011] [10:17:27] &lt;sustrik&gt; it looks like there&#8217;s no guarantee that reset_pollin will be triggered iff pending_bytes&gt;0</div>
<div class="line">[Friday 14 January 2011] [10:17:41] &lt;sustrik&gt; the code is quite complex though...</div>
<div class="line">[Friday 14 January 2011] [10:18:01] &lt;Steve-o&gt; therefore the timer must skip if the pollin is in reset state</div>
<div class="line">[Friday 14 January 2011] [10:18:20] &lt;sustrik&gt; ah. maybe</div>
<div class="line">[Friday 14 January 2011] [10:18:43] &lt;sustrik&gt; that should be easy to test</div>
<div class="line">[Friday 14 January 2011] [10:18:57] &lt;Steve-o&gt; or simply add a cancel_timer with reset_pollin()</div>
<div class="line">[Friday 14 January 2011] [10:19:29] &lt;sustrik&gt; or just add a bool variable &#8216;pollin_active&#8217;</div>
<div class="line">[Friday 14 January 2011] [10:19:54] &lt;sustrik&gt; and return immediately from in_event if it&#8217;s false</div>
<div class="line">[Friday 14 January 2011] [10:20:45] &lt;Steve-o&gt; canceling the timer would be cleaner</div>
<div class="line">[Friday 14 January 2011] [10:20:51] &lt;sustrik&gt; sure</div>
<div class="line">[Friday 14 January 2011] [10:21:10] &lt;Steve-o&gt; just copy the section in unplug()</div>
<div class="line">[Friday 14 January 2011] [10:23:22] &lt;Steve-o&gt; ++229: if (has_rx_timer) { cancel_timer (rx_timer_id); has_rx_timer = false; }</div>
<div class="line">[Friday 14 January 2011] [10:24:19] &lt;Steve-o&gt; although ideally the timer should live until the reset state clears</div>
<div class="line">[Friday 14 January 2011] [10:25:28] &lt;Steve-o&gt; if there is no further incoming data but packets remain in the window they will not get flushed., depending the complex logic determing when in_event fires</div>
<div class="line">[Friday 14 January 2011] [10:27:07] &lt;Steve-o&gt; as in, after the queue is cleared</div>
<div class="line">[Friday 14 January 2011] [10:38:26] &lt;Steve-o&gt; but it&#8217;s certainly a condition worthy of note, as without the assertion you have an incredibly high chance of data loss</div>
<div class="line">[Friday 14 January 2011] [10:47:54] &lt;guido_g&gt; ok, a very high HWM on the subscriber side does the trick so far</div>
<div class="line">[Friday 14 January 2011] [10:54:46] &lt;sustrik&gt; Steve-o: however, I assume the timer should be cancelled nontheless</div>
<div class="line">[Friday 14 January 2011] [10:54:47] &lt;sustrik&gt; right?</div>
<div class="line">[Friday 14 January 2011] [12:36:33] &lt;mikko&gt;   sustrik: is PUSH socket supposed to block when HWM is reached even if ZMQ_NOBLOCK is used?</div>
<div class="line">[Friday 14 January 2011] [13:39:59] &lt;sustrik&gt; mikko: no</div>
<div class="line">[Friday 14 January 2011] [13:40:09] &lt;sustrik&gt; it should return EAGAIN</div>
<div class="line">[Friday 14 January 2011] [13:53:08] &lt;mikko&gt;   sustrik: ok, i wonder why i&#8217;m seeing this behavior</div>
<div class="line">[Friday 14 January 2011] [13:53:19] &lt;mikko&gt;   let me recheck the code</div>
<div class="line">[Friday 14 January 2011] [13:55:02] &lt;mikko&gt;   ah, found it</div>
<div class="line">[Friday 14 January 2011] [13:55:44] &lt;sustrik&gt; what&#8217;s going on?</div>
<div class="line">[Friday 14 January 2011] [13:57:02] &lt;mikko&gt;   launched on debugger and noticed that it&#8217;s blocking on lingering messages rather than send ()</div>
<div class="line">[Friday 14 January 2011] [13:57:48] &lt;mikko&gt;   i&#8217;m adding a test case for hwm</div>
<div class="line">[Friday 14 January 2011] [13:58:31] &lt;mikko&gt;   hmm, looks like it depends differently depending on whether i bind or connect</div>
<div class="line">[Friday 14 January 2011] [14:04:26] &lt;sustrik&gt; yes, they are different</div>
<div class="line">[Friday 14 January 2011] [14:04:35] &lt;sustrik&gt; when you bind there&#8217;s no pipe there</div>
<div class="line">[Friday 14 January 2011] [14:04:44] &lt;sustrik&gt; so send blocks immediately</div>
<div class="line">[Friday 14 January 2011] [14:05:12] &lt;sustrik&gt; with connect, the pipe is created straight away, so you can send messages immediately</div>
<div class="line">[Friday 14 January 2011] [14:05:32] &lt;sustrik&gt; i mean, with bind the pipes are created as individual peers connect</div>
<div class="line">[Friday 14 January 2011] [14:08:01] &lt;mikko&gt;   sustrik: is that the same with inproc?</div>
<div class="line">[Friday 14 January 2011] [14:09:41] &lt;sustrik&gt; yes, the same principle</div>
<div class="line">[Friday 14 January 2011] [14:10:53] &lt;mikko&gt;   is there any difference between HWM handling between transports / socket types (apart from inproc)</div>
<div class="line">[Friday 14 January 2011] [14:10:53] &lt;sustrik&gt; it&#8217;s an inherent issue, the HWM is per peer</div>
<div class="line">[Friday 14 January 2011] [14:11:25] &lt;sustrik&gt; so it doesn&#8217;t even make sense to talk about HWM until there is no peer connected</div>
<div class="line">[Friday 14 January 2011] [14:11:36] &lt;sustrik&gt; it&#8217;s the same for all transports</div>
<div class="line">[Friday 14 January 2011] [14:12:01] &lt;sustrik&gt; although... pgm is kind of different</div>
<div class="line">[Friday 14 January 2011] [14:12:18] &lt;sustrik&gt; on the pub side it treats all the subs as a single &#8220;connection&#8221;</div>
<div class="line">[Friday 14 January 2011] [14:12:39] &lt;sustrik&gt; (it&#8217;s multicast so that&#8217;s the only way to do it)</div>
<div class="line">[Friday 14 January 2011] [14:28:47] &lt;mikko&gt;   sustrik: does the socket come out from exceptional state after all pending messages have been consumed?</div>
<div class="line">[Friday 14 January 2011] [17:29:17] &lt;sustrik&gt; mikko: no, it comes out after LWM is reached</div>
<div class="line">[Friday 14 January 2011] [17:43:28] &lt;mikko&gt;   sustrik: noticed</div>
<div class="line">[Friday 14 January 2011] [17:54:10] &lt;mikko&gt;   sustrik: <a class="reference external" href="https://gist.github.com/cd0cd7d8407c30456c23">https://gist.github.com/cd0cd7d8407c30456c23</a></div>
<div class="line">[Friday 14 January 2011] [17:54:18] &lt;mikko&gt;   shouldn&#8217;t the SUB recv the second message?</div>
<div class="line">[Friday 14 January 2011] [17:54:23] &lt;mikko&gt;   or am i being silly again?</div>
<div class="line">[Friday 14 January 2011] [19:34:39] &lt;mvolkov&gt; I am the first day 0MQ user and after going through docs I understand that 0MQ has capability of doing multiplexing between a few sockets with zmq_poll() function</div>
<div class="line">[Friday 14 January 2011] [19:35:57] &lt;mvolkov&gt; however, I can&#8217;t seems to find how one define a list of resources/items in Python</div>
<div class="line">[Friday 14 January 2011] [19:37:18] &lt;mvolkov&gt; Can anyone please give me a hint? Or white paper or doc link?</div>
<div class="line">[Friday 14 January 2011] [19:37:27] &lt;mvolkov&gt; on this topic?</div>
<div class="line">[Saturday 15 January 2011] [06:16:19] &lt;mikko&gt; mvolkov: there should be examples of poll under pyzmq github</div>
<div class="line">[Saturday 15 January 2011] [06:40:19] &lt;CIA-21&gt;        zeromq2: 03Martin Sustrik 07sub-forward * rbe94000 10/ (5 files):</div>
<div class="line">[Saturday 15 January 2011] [06:40:19] &lt;CIA-21&gt;        zeromq2: Forwarding subscriptions up the stream implemented</div>
<div class="line">[Saturday 15 January 2011] [06:40:19] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eLjdU0">http://bit.ly/eLjdU0</a></div>
<div class="line">[Saturday 15 January 2011] [06:40:20] &lt;CIA-21&gt;        zeromq2: 03Martin Sustrik 07sub-forward * r706296d 10/ (src/trie.cpp src/trie.hpp src/xsub.cpp src/xsub.hpp):</div>
<div class="line">[Saturday 15 January 2011] [06:40:20] &lt;CIA-21&gt;        zeromq2: Subscriptions from XSUB socketare sent to each new peer.</div>
<div class="line">[Saturday 15 January 2011] [06:40:20] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/gAfivp">http://bit.ly/gAfivp</a></div>
<div class="line">[Saturday 15 January 2011] [06:40:22] &lt;CIA-21&gt;        zeromq2: 03Martin Sustrik 07sub-forward * r3d26c3d 10/ (5 files):</div>
<div class="line">[Saturday 15 January 2011] [06:40:22] &lt;CIA-21&gt;        zeromq2: econnection should now trigger subscription re-sending</div>
<div class="line">[Saturday 15 January 2011] [06:40:22] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/gdt449">http://bit.ly/gdt449</a></div>
<div class="line">[Saturday 15 January 2011] [06:47:19] &lt;CIA-21&gt;        zeromq2: 03Martin Sustrik 07sub-forward * rbb605e0 10/ src/pub.cpp :</div>
<div class="line">[Saturday 15 January 2011] [06:47:19] &lt;CIA-21&gt;        zeromq2: Print out subscriptions in PUB socket (for testing purposes)</div>
<div class="line">[Saturday 15 January 2011] [06:47:20] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eV0jas">http://bit.ly/eV0jas</a></div>
<div class="line">[Saturday 15 January 2011] [06:47:45] &lt;mikko&gt; sustrik: busy morning!</div>
<div class="line">[Saturday 15 January 2011] [06:47:53] &lt;sustrik&gt;       mikko: morning</div>
<div class="line">[Saturday 15 January 2011] [06:48:23] &lt;sustrik&gt;       i finally found some time to spent on subscription forwarding</div>
<div class="line">[Saturday 15 January 2011] [06:50:03] &lt;mikko&gt; sustrik: did you see my paste from yesterday?</div>
<div class="line">[Saturday 15 January 2011] [06:50:13] &lt;sustrik&gt;       no</div>
<div class="line">[Saturday 15 January 2011] [06:50:15] &lt;sustrik&gt;       let me see</div>
<div class="line">[Saturday 15 January 2011] [06:50:21] &lt;mikko&gt; <a class="reference external" href="https://gist.github.com/cd0cd7d8407c30456c23">https://gist.github.com/cd0cd7d8407c30456c23</a></div>
<div class="line">[Saturday 15 January 2011] [06:51:14] &lt;sustrik&gt;       hm, hard to say</div>
<div class="line">[Saturday 15 January 2011] [06:51:20] &lt;sustrik&gt;       it depends much on the timing</div>
<div class="line">[Saturday 15 January 2011] [06:51:29] &lt;sustrik&gt;       zmq_close is async</div>
<div class="line">[Saturday 15 January 2011] [06:51:52] &lt;sustrik&gt;       so the socket may actually still exist at the time you are sending second message</div>
<div class="line">[Saturday 15 January 2011] [06:52:04] &lt;sustrik&gt;       so it gets the message and terminates</div>
<div class="line">[Saturday 15 January 2011] [06:52:05] &lt;mikko&gt; i tried adding sleep(5); before the second message</div>
<div class="line">[Saturday 15 January 2011] [06:52:08] &lt;mikko&gt; but that didn&#8217;t work</div>
<div class="line">[Saturday 15 January 2011] [06:52:09] &lt;sustrik&gt;       same thing?</div>
<div class="line">[Saturday 15 January 2011] [06:52:22] &lt;sustrik&gt;       that it looks like a bug imo</div>
<div class="line">[Saturday 15 January 2011] [06:52:30] &lt;sustrik&gt;       can you fill in a ticket?</div>
<div class="line">[Saturday 15 January 2011] [06:52:56] &lt;mikko&gt; this is actually one of the test cases i&#8217;ve been preparing</div>
<div class="line">[Saturday 15 January 2011] [06:53:17] &lt;sustrik&gt;       great</div>
<div class="line">[Saturday 15 January 2011] [06:53:31] &lt;mikko&gt; HWM and identity</div>
<div class="line">[Saturday 15 January 2011] [06:53:40] &lt;mikko&gt; testing with sleep 20 now</div>
<div class="line">[Saturday 15 January 2011] [06:53:50] &lt;mikko&gt; just in case</div>
<div class="line">[Saturday 15 January 2011] [06:54:17] &lt;mikko&gt; hmm, i could also try running the subscriber in it&#8217;s own thread</div>
<div class="line">[Saturday 15 January 2011] [06:59:28] &lt;sustrik&gt;       mikko: i assume it&#8217;s a bug</div>
<div class="line">[Saturday 15 January 2011] [06:59:34] &lt;sustrik&gt;       the test looks ok</div>
<div class="line">[Saturday 15 January 2011] [07:01:14] &lt;mikko&gt; i&#8217;ll open issue</div>
<div class="line">[Saturday 15 January 2011] [07:09:59] &lt;mikko&gt; issue #150</div>
<div class="line">[Saturday 15 January 2011] [07:10:41] &lt;mikko&gt; the HWM test-case is in <a class="reference external" href="http://valokuva.org/~mikko/0002-Added-test-for-HWM.patch">http://valokuva.org/~mikko/0002-Added-test-for-HWM.patch</a></div>
<div class="line">[Saturday 15 January 2011] [07:14:08] &lt;sustrik&gt;       thanks</div>
<div class="line">[Saturday 15 January 2011] [07:41:40] &lt;jugg&gt;  sustrik, such a minor single word change to warrant a patch... The pull request was just so it got noticed, not so I got credit...  but anyway.</div>
<div class="line">[Saturday 15 January 2011] [07:57:27] &lt;sustrik&gt;       jugg: as you wish</div>
<div class="line">[Saturday 15 January 2011] [07:57:47] &lt;sustrik&gt;       let me fix it</div>
<div class="line">[Saturday 15 January 2011] [07:58:57] &lt;sustrik&gt;       jugg: have you sent the patch or not?</div>
<div class="line">[Saturday 15 January 2011] [07:59:05] &lt;jugg&gt;  I did...</div>
<div class="line">[Saturday 15 January 2011] [07:59:16] &lt;sustrik&gt;       haven&#8217;t got it yet</div>
<div class="line">[Saturday 15 January 2011] [08:00:11] &lt;jugg&gt;  I use gmane, sometimes it moves slowly.</div>
<div class="line">[Saturday 15 January 2011] [08:00:19] &lt;sustrik&gt;       np</div>
<div class="line">[Saturday 15 January 2011] [08:00:51] &lt;jugg&gt;  anyway, if it doesn&#8217;t show up, feel free to make the change on your own.</div>
<div class="line">[Saturday 15 January 2011] [08:00:57] &lt;sustrik&gt;       sure</div>
<div class="line">[Saturday 15 January 2011] [08:01:26] &lt;sustrik&gt;       it&#8217;s kind of strange following the process for trivial changes like this one</div>
<div class="line">[Saturday 15 January 2011] [08:01:41] &lt;sustrik&gt;       but it&#8217;s hard to set a boundary between trivial and non-trivial</div>
<div class="line">[Saturday 15 January 2011] [09:04:27] &lt;gancient&gt;      hi all, i am trying to implement a distributed matrix multiplication algorithm in python using zmq , what would be the best approach ? (I am new to zmq , so any suggestions / comments are useful )</div>
<div class="line">[Saturday 15 January 2011] [10:29:01] &lt;mvolkov&gt;       mikko: Thank you for the answer. The issue is the not all zguide tutorial examples are translated to Python, however, I found examples at <a class="reference external" href="http://nullege.com/">http://nullege.com/</a> - hopefully they&#8217;ll work.</div>
<div class="line">[Saturday 15 January 2011] [10:29:24] &lt;mikko&gt; mvolkov: <a class="reference external" href="https://github.com/zeromq/pyzmq/tree/master/examples">https://github.com/zeromq/pyzmq/tree/master/examples</a></div>
<div class="line">[Saturday 15 January 2011] [10:30:08] &lt;mvolkov&gt;       oh... then we are talking about the same thing. Thank you</div>
<div class="line">[Saturday 15 January 2011] [13:31:40] &lt;mikko&gt; sustrik: seems like msvc build files are out of date (?)</div>
<div class="line">[Saturday 15 January 2011] [14:07:50] &lt;sustrik&gt;       mikko: right</div>
<div class="line">[Saturday 15 January 2011] [14:07:53] &lt;sustrik&gt;       let me fix it</div>
<div class="line">[Saturday 15 January 2011] [14:15:30] &lt;CIA-21&gt;        zeromq2: 03Martin Sustrik 07master * ra249d15 10/ builds/msvc/libzmq/libzmq.vcproj :</div>
<div class="line">[Saturday 15 January 2011] [14:15:30] &lt;CIA-21&gt;        zeromq2: Fix MSVC build</div>
<div class="line">[Saturday 15 January 2011] [14:15:30] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/i0HCXP">http://bit.ly/i0HCXP</a></div>
<div class="line">[Saturday 15 January 2011] [14:17:58] &lt;sustrik&gt;       mikko: ok, done</div>
<div class="line">[Saturday 15 January 2011] [16:13:51] &lt;mikko&gt; <a href="#id487"><span class="problematic" id="id488">sustrik_</span></a>: thanks</div>
<div class="line">[Saturday 15 January 2011] [18:13:56] &lt;mvolkov&gt;       Q: is there a way in 0MQ to know whether socked is busy doing something so message is not sent until it is ready?</div>
<div class="line">[Saturday 15 January 2011] [18:15:06] &lt;mvolkov&gt;       or in 0MQ terminology how this &#8220;check and wait&#8221; behavior would be called?</div>
<div class="line">[Saturday 15 January 2011] [18:15:22] &lt;mvolkov&gt;       appreciate any input</div>
<div class="line">[Saturday 15 January 2011] [18:22:04] &lt;mikko&gt; mvolkov: there are different kind of behaviors with different socket types</div>
<div class="line">[Saturday 15 January 2011] [18:22:18] &lt;mikko&gt; mvolkov: for example PUB socket drops the message if there are no subscribers</div>
<div class="line">[Saturday 15 January 2011] [18:23:08] &lt;mikko&gt; mvolkov: im not sure whether this answers your question as i am not sure what &#8220;socket is busy doing something&#8221; means</div>
<div class="line">[Saturday 15 January 2011] [18:54:18] &lt;Skaag&gt; mikko: is this channel logged somewhere?</div>
<div class="line">[Saturday 15 January 2011] [19:23:48] &lt;mvolkov&gt;       mikko: I am interested in load balancing work to the different tcp: sockets and so far I understand that this is achievable with zmd.poll() function</div>
<div class="line">[Saturday 15 January 2011] [19:24:19] &lt;mvolkov&gt;       the objective is basically send message to less busy device</div>
<div class="line">[Saturday 15 January 2011] [19:24:38] &lt;mvolkov&gt;       or device which is doing nothing</div>
<div class="line">[Saturday 15 January 2011] [19:31:03] &lt;mikko&gt; Skaag: not as far as i know</div>
<div class="line">[Saturday 15 January 2011] [19:31:12] &lt;Skaag&gt; that is too bad</div>
<div class="line">[Saturday 15 January 2011] [19:31:17] &lt;mikko&gt; mvolkov: load-balancing based on least busy is really not achievable using poll</div>
<div class="line">[Saturday 15 January 2011] [19:31:21] &lt;Skaag&gt; a lot of very good answers here, to very good questions...</div>
<div class="line">[Saturday 15 January 2011] [19:31:27] &lt;mikko&gt; mvolkov: you would need additional logic on top of the polling</div>
<div class="line">[Saturday 15 January 2011] [19:31:40] &lt;mikko&gt; mvolkov: as in the poll really doesn&#8217;t know which one of the sockets is least busy</div>
<div class="line">[Saturday 15 January 2011] [19:31:59] &lt;mikko&gt; mvolkov: the built-in algorithm uses round-robin for balancing</div>
<div class="line">[Saturday 15 January 2011] [19:32:14] &lt;mikko&gt; Skaag: i think i got logs since around last Feb</div>
<div class="line">[Saturday 15 January 2011] [19:32:32] &lt;Skaag&gt; that&#8217;s awesome. upload them somewhere.</div>
<div class="line">[Saturday 15 January 2011] [19:33:22] &lt;mvolkov&gt;       mikko: oh, so zmd.poll() has by default round robin built in? do I understand this right?</div>
<div class="line">[Saturday 15 January 2011] [19:36:55] &lt;mikko&gt; Skaag: sec</div>
<div class="line">[Saturday 15 January 2011] [19:36:57] &lt;mikko&gt; mvolkov: nope</div>
<div class="line">[Saturday 15 January 2011] [19:37:21] &lt;mikko&gt; mvolkov: zmq_poll just indicates which sockets are readable/writable depending on parameters passed</div>
<div class="line">[Saturday 15 January 2011] [19:37:38] &lt;mikko&gt; mvolkov: what i meant is that PUSH/PULL has round-robin balancing built in</div>
<div class="line">[Saturday 15 January 2011] [19:38:03] &lt;mikko&gt; mvolkov: so if you zmq_connect PUSH socket multiple times the messages sent to the socket are balanced between the underlying transport sockets (tcp, ipc etc)</div>
<div class="line">[Saturday 15 January 2011] [19:38:17] &lt;mvolkov&gt;       mikko: thank you I&#8217;ll try that &#8211; greatly appreciate your inp</div>
<div class="line">[Saturday 15 January 2011] [19:39:05] &lt;mvolkov&gt;       ut</div>
<div class="line">[Saturday 15 January 2011] [19:42:52] &lt;mikko&gt; Skaag: <a class="reference external" href="http://valokuva.org/~mikko/zeromq.log">http://valokuva.org/~mikko/zeromq.log</a></div>
<div class="line">[Saturday 15 January 2011] [19:42:54] &lt;mikko&gt; since last march</div>
<div class="line">[Saturday 15 January 2011] [19:43:13] &lt;Skaag&gt; awesome :)</div>
<div class="line">[Saturday 15 January 2011] [19:43:21] &lt;Skaag&gt; thanks</div>
<div class="line">[Saturday 15 January 2011] [21:01:05] &lt;xchen&gt; hi, guys.</div>
<div class="line">[Saturday 15 January 2011] [21:01:41] &lt;mikko&gt; hi</div>
<div class="line">[Saturday 15 January 2011] [21:02:08] &lt;xchen&gt; I have a question about zeromq, I want to use the zeromq in a cluster which is connected using infiniband</div>
<div class="line">[Saturday 15 January 2011] [21:02:27] &lt;xchen&gt; hi, mikko, thank you for your reply</div>
<div class="line">[Saturday 15 January 2011] [21:03:00] &lt;xchen&gt; How can I configure the zeromq to make sure it use the infiniband, not the ethenet</div>
<div class="line">[Saturday 15 January 2011] [21:03:43] &lt;xchen&gt; since the cluster is connected using both eth and ib</div>
<div class="line">[Saturday 15 January 2011] [21:05:33] &lt;mikko&gt; i haven&#8217;t really got experience with infiniband</div>
<div class="line">[Saturday 15 January 2011] [21:05:34] &lt;xchen&gt; I googled and find nothing about the configuration of zeromq over infiniband, and it is not explained in the manual,</div>
<div class="line">[Saturday 15 January 2011] [21:05:41] &lt;xchen&gt; thanks</div>
<div class="line">[Saturday 15 January 2011] [21:05:46] &lt;mikko&gt; you might want to ask your question tomorrow morning CET</div>
<div class="line">[Saturday 15 January 2011] [21:05:54] &lt;mikko&gt; <a href="#id489"><span class="problematic" id="id490">sustrik_</span></a> would probably be able to answer it</div>
<div class="line">[Saturday 15 January 2011] [21:06:19] &lt;xchen&gt; ok, thanks very much. He will be online then?</div>
<div class="line">[Saturday 15 January 2011] [21:06:28] &lt;mikko&gt; usually is</div>
<div class="line">[Saturday 15 January 2011] [21:06:43] &lt;mikko&gt; are you running tcp/ip over infiniband?</div>
<div class="line">[Saturday 15 January 2011] [21:07:42] &lt;xchen&gt; I didn&#8217;t get you question. Zeromq is over tcp/ip than infiniband?</div>
<div class="line">[Saturday 15 January 2011] [21:07:53] &lt;xchen&gt; I didn&#8217;t get you question. Zeromq is over tcp/ip then infiniband?</div>
<div class="line">[Saturday 15 January 2011] [21:08:52] &lt;mikko&gt; <a class="reference external" href="http://www.zeromq.org/results:ib-tests-v031">http://www.zeromq.org/results:ib-tests-v031</a></div>
<div class="line">[Saturday 15 January 2011] [21:09:57] &lt;mikko&gt; ah</div>
<div class="line">[Saturday 15 January 2011] [21:09:59] &lt;xchen&gt; Yes, I saw this page. But I do not know how do they get this result.</div>
<div class="line">[Saturday 15 January 2011] [21:10:07] &lt;mikko&gt; found an old mailing list entry about infiniband</div>
<div class="line">[Saturday 15 January 2011] [21:10:33] &lt;mikko&gt; xchen: <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2009-December/001472.html">http://lists.zeromq.org/pipermail/zeromq-dev/2009-December/001472.html</a></div>
<div class="line">[Saturday 15 January 2011] [21:11:30] &lt;xchen&gt; Thank you very much. I have found this. But it seems do not answer my question</div>
<div class="line">[Saturday 15 January 2011] [21:11:47] &lt;mikko&gt; xchen: best wait for sustrik to be online in that case</div>
<div class="line">[Saturday 15 January 2011] [21:12:07] &lt;mikko&gt; you could also try posting to the mailing-lists</div>
<div class="line">[Saturday 15 January 2011] [21:12:18] &lt;xchen&gt; ok, thanks.</div>
<div class="line">[Saturday 15 January 2011] [21:12:40] &lt;xchen&gt; thank you for so much help.</div>
<div class="line">[Saturday 15 January 2011] [21:13:02] &lt;mikko&gt; no problem, i can&#8217;t really be much more help as i haven&#8217;t really used infiniband to any extent</div>
<div class="line">[Saturday 15 January 2011] [21:13:56] &lt;xchen&gt; A question about the basic concept of 0mq, is the source code I get built on tcpip?</div>
<div class="line">[Saturday 15 January 2011] [21:14:22] &lt;mikko&gt; there are different transports</div>
<div class="line">[Saturday 15 January 2011] [21:14:31] &lt;xchen&gt; I get means download from the homepage</div>
<div class="line">[Saturday 15 January 2011] [21:14:31] &lt;mikko&gt; ipc, inproc, tcp and pgm</div>
<div class="line">[Saturday 15 January 2011] [21:15:22] &lt;xchen&gt; ok, so , tcp can build on infiniband, am I right?</div>
<div class="line">[Saturday 15 January 2011] [21:18:55] &lt;mikko&gt; what does &#8216;can build on&#8217; mean in this context?</div>
<div class="line">[Saturday 15 January 2011] [21:24:33] &lt;xchen&gt; sorry, I sould say tcp can be built on infiniband</div>
<div class="line">[Saturday 15 January 2011] [21:24:46] &lt;xchen&gt; sorry, I should say tcp can be built on infiniband</div>
<div class="line">[Saturday 15 January 2011] [21:25:32] &lt;mikko&gt; it looks like you should be able to LD_PRELOAD the SDP library and use zeromq over infiniband</div>
<div class="line">[Saturday 15 January 2011] [21:25:54] &lt;mikko&gt; i would assume that if the SDP library is loaded it would use infiniband and not the eth interface</div>
<div class="line">[Saturday 15 January 2011] [21:26:08] &lt;mikko&gt; you should be able to see this from throughput of messages as well i assume</div>
<div class="line">[Saturday 15 January 2011] [21:29:13] &lt;mikko&gt; looking at the following material <a class="reference external" href="http://pkg-ofed.alioth.debian.org/howto/infiniband-howto-7.html">http://pkg-ofed.alioth.debian.org/howto/infiniband-howto-7.html</a> it would look so</div>
<div class="line">[Saturday 15 January 2011] [21:35:10] &lt;xchen&gt; Yeah, I think I get it. Thanks a lot.</div>
<div class="line">[Saturday 15 January 2011] [21:35:27] &lt;mikko&gt; cool</div>
<div class="line">[Saturday 15 January 2011] [21:35:39] &lt;mikko&gt; i need to sleep, it&#8217;s 3am soon</div>
<div class="line">[Saturday 15 January 2011] [21:35:42] &lt;mikko&gt; good night</div>
<div class="line">[Saturday 15 January 2011] [21:36:04] &lt;xchen&gt; thank</div>
<div class="line">[Monday 17 January 2011] [00:18:11] &lt;andrewvc&gt;        cremes: around?</div>
<div class="line">[Monday 17 January 2011] [01:30:32] &lt;yrashk&gt;  hmm, after reinstalling osx I am getting absolutely reproducible Bad file descriptor nbytes != -1 (mailbox.cpp:241)</div>
<div class="line">[Monday 17 January 2011] [01:30:34] &lt;yrashk&gt;  :-</div>
<div class="line">[Monday 17 January 2011] [02:36:34] &lt;<a href="#id491"><span class="problematic" id="id492">sustrik_</span></a>&gt;        yrashk: please do report the bug</div>
<div class="line">[Monday 17 January 2011] [02:36:58] &lt;yrashk&gt;  I need to narrow the scope first</div>
<div class="line">[Monday 17 January 2011] [02:37:02] &lt;yrashk&gt;  but this is getting interesting</div>
<div class="line">[Monday 17 January 2011] [02:37:19] &lt;<a href="#id493"><span class="problematic" id="id494">sustrik_</span></a>&gt;        is that with shutdown_stress test?</div>
<div class="line">[Monday 17 January 2011] [02:37:26] &lt;yrashk&gt;  although I still hope it&#8217;s my bug</div>
<div class="line">[Monday 17 January 2011] [02:37:28] &lt;yrashk&gt;  no</div>
<div class="line">[Monday 17 January 2011] [02:37:46] &lt;<a href="#id495"><span class="problematic" id="id496">sustrik_</span></a>&gt;        ok</div>
<div class="line">[Monday 17 January 2011] [05:33:17] &lt;mikko&gt;   howdy</div>
<div class="line">[Monday 17 January 2011] [05:46:31] &lt;Evet&gt;    fine</div>
<div class="line">[Monday 17 January 2011] [06:10:21] &lt;ivan-korobkov&gt;   Hello. I need to access a sub socket from another thread in Java. Is it enough to synchronize this method?</div>
<div class="line">[Monday 17 January 2011] [06:14:20] &lt;mikko&gt;   ivan-korobkov: not sure how java handles this</div>
<div class="line">[Monday 17 January 2011] [06:14:34] &lt;mikko&gt;   ivan-korobkov: i tend to use inproc pipe between the threads in such a scenario</div>
<div class="line">[Monday 17 January 2011] [06:16:07] &lt;ivan-korobkov&gt;   Ok, thanks.</div>
<div class="line">[Monday 17 January 2011] [06:55:30] &lt;mikko&gt;   mingw is being a pain</div>
<div class="line">[Monday 17 January 2011] [06:58:08] &lt;mikko&gt;   <a href="#id497"><span class="problematic" id="id498">sustrik_</span></a>: i pushed the new tests into a branch in github if you want to take a look</div>
<div class="line">[Monday 17 January 2011] [06:58:16] &lt;mikko&gt;   test_identity is failing atm</div>
<div class="line">[Monday 17 January 2011] [07:57:20] &lt;lestrrat&gt;        if you&#8217;re specifying a char * buffer to zmq_msg_init_data(...), do you need to give it a zmq_free_fn ?</div>
<div class="line">[Monday 17 January 2011] [08:11:39] &lt;Steve-o&gt; it takes a zero-copy reference, doesn&#8217;t matter what the target is</div>
<div class="line">[Monday 17 January 2011] [08:15:56] &lt;stimpie&gt; somebody knows an key value pair serialization library?</div>
<div class="line">[Monday 17 January 2011] [08:18:11] &lt;Steve-o&gt; google protobufs</div>
<div class="line">[Monday 17 January 2011] [08:18:20] &lt;Steve-o&gt; thrift</div>
<div class="line">[Monday 17 January 2011] [08:18:28] &lt;Steve-o&gt; xdr</div>
<div class="line">[Monday 17 January 2011] [08:18:41] &lt;Steve-o&gt; json, yaml, etc</div>
<div class="line">[Monday 17 January 2011] [08:22:23] &lt;stimpie&gt; thanks for the pointers</div>
<div class="line">[Monday 17 January 2011] [08:23:07] &lt;<a href="#id499"><span class="problematic" id="id500">sustrik_</span></a>&gt;        lestrrat: free_fn is needed only when you pass your buffer to 0mq and you want it to deallocate it once it&#8217;s sent</div>
<div class="line">[Monday 17 January 2011] [08:23:56] &lt;lestrrat&gt;        thanks steve, sustrik</div>
<div class="line">[Monday 17 January 2011] [08:26:04] &lt;Evet&gt;    oh, zeromq built by imatix?</div>
<div class="line">[Monday 17 January 2011] [08:28:41] &lt;Steve-o&gt; Evet: they&#8217;re trying to steer to full flossy project, like apache</div>
<div class="line">[Monday 17 January 2011] [08:29:32] &lt;Evet&gt;    i have learnt perl in xitami more than ten years ago</div>
<div class="line">[Monday 17 January 2011] [08:30:08] &lt;Steve-o&gt; sustrik: guido_g:  any feedback on the pgm_receiver assert?</div>
<div class="line">[Monday 17 January 2011] [08:32:15] &lt;<a href="#id501"><span class="problematic" id="id502">sustrik_</span></a>&gt;        i haven&#8217;t tried it myself</div>
<div class="line">[Monday 17 January 2011] [08:32:26] &lt;<a href="#id503"><span class="problematic" id="id504">sustrik_</span></a>&gt;        what about the patch you proposed?</div>
<div class="line">[Monday 17 January 2011] [08:32:31] &lt;<a href="#id505"><span class="problematic" id="id506">sustrik_</span></a>&gt;        (removing the timer)</div>
<div class="line">[Monday 17 January 2011] [08:32:45] &lt;<a href="#id507"><span class="problematic" id="id508">sustrik_</span></a>&gt;        it seems that it should be patched anyway, no?</div>
<div class="line">[Monday 17 January 2011] [08:34:48] &lt;Steve-o&gt; looks like it</div>
<div class="line">[Monday 17 January 2011] [08:35:01] &lt;<a href="#id509"><span class="problematic" id="id510">sustrik_</span></a>&gt;        would you submit a patch?</div>
<div class="line">[Monday 17 January 2011] [08:35:10] &lt;<a href="#id511"><span class="problematic" id="id512">sustrik_</span></a>&gt;        or should I fix it?</div>
<div class="line">[Monday 17 January 2011] [08:35:19] &lt;Steve-o&gt; there&#8217;s one on the list replying to Guido</div>
<div class="line">[Monday 17 January 2011] [08:35:28] &lt;<a href="#id513"><span class="problematic" id="id514">sustrik_</span></a>&gt;        let me see</div>
<div class="line">[Monday 17 January 2011] [08:37:02] &lt;<a href="#id515"><span class="problematic" id="id516">sustrik_</span></a>&gt;        ok, got it</div>
<div class="line">[Monday 17 January 2011] [08:37:29] &lt;<a href="#id517"><span class="problematic" id="id518">sustrik_</span></a>&gt;        when sending a patch use [PATCH] in subject</div>
<div class="line">[Monday 17 January 2011] [08:37:43] &lt;Steve-o&gt; I was waiting for Guido to catch it first</div>
<div class="line">[Monday 17 January 2011] [08:37:51] &lt;<a href="#id519"><span class="problematic" id="id520">sustrik_</span></a>&gt;        i see</div>
<div class="line">[Monday 17 January 2011] [08:38:11] &lt;Steve-o&gt; I&#8217;ve only got my Sparc up in the office presently, I can&#8217;t test too much</div>
<div class="line">[Monday 17 January 2011] [08:38:21] &lt;<a href="#id521"><span class="problematic" id="id522">sustrik_</span></a>&gt;        but this is something that should be done anyway, right?</div>
<div class="line">[Monday 17 January 2011] [08:38:32] &lt;<a href="#id523"><span class="problematic" id="id524">sustrik_</span></a>&gt;        irrespective whether it solves guido&#8217;s problem or not</div>
<div class="line">[Monday 17 January 2011] [08:38:57] &lt;Steve-o&gt; well it looks right</div>
<div class="line">[Monday 17 January 2011] [08:39:13] &lt;Steve-o&gt; so go ahead</div>
<div class="line">[Monday 17 January 2011] [08:39:18] &lt;<a href="#id525"><span class="problematic" id="id526">sustrik_</span></a>&gt;        ok, let me apply it</div>
<div class="line">[Monday 17 January 2011] [08:39:42] &lt;Steve-o&gt; for autoconf, waiting for any further feedback from mikko</div>
<div class="line">[Monday 17 January 2011] [08:40:15] &lt;<a href="#id527"><span class="problematic" id="id528">sustrik_</span></a>&gt;        ack</div>
<div class="line">[Monday 17 January 2011] [08:42:06] &lt;Steve-o&gt; I&#8217;m sure the devs using OSX will shout soon enough as master should be broken for them currently</div>
<div class="line">[Monday 17 January 2011] [08:42:27] &lt;mikko&gt;   Steve-o: i will start testing today</div>
<div class="line">[Monday 17 January 2011] [08:42:48] &lt;mikko&gt;   had suprisingly busy weekend</div>
<div class="line">[Monday 17 January 2011] [08:43:34] &lt;mikko&gt;   what is the current view regarding openpgm and zeromq?</div>
<div class="line">[Monday 17 January 2011] [08:43:42] &lt;Steve-o&gt; no worries, I&#8217;m mid buying a house</div>
<div class="line">[Monday 17 January 2011] [08:43:55] &lt;mikko&gt;   do we bundle a version with zeromq2 and allow people to specify directory as well?</div>
<div class="line">[Monday 17 January 2011] [08:44:10] &lt;Steve-o&gt; sounds good</div>
<div class="line">[Monday 17 January 2011] [08:44:31] &lt;Steve-o&gt; I actually have autoconf making a shared library, but not really recommended</div>
<div class="line">[Monday 17 January 2011] [08:44:42] &lt;mikko&gt;   so by default the value of &#8211;with-pgm is foreign/...</div>
<div class="line">[Monday 17 January 2011] [08:44:44] &lt;Steve-o&gt; came free with libtool I think :D</div>
<div class="line">[Monday 17 January 2011] [08:44:54] &lt;mikko&gt;   but you can specify &#8211;with-pgm=/opt/xyz</div>
<div class="line">[Monday 17 January 2011] [08:45:03] &lt;mikko&gt;   does that sound like a sensible approach?</div>
<div class="line">[Monday 17 January 2011] [08:45:20] &lt;Steve-o&gt; sounds good, then distros can choose their packaging preference</div>
<div class="line">[Monday 17 January 2011] [08:45:44] &lt;mikko&gt;   yeah, distros don&#8217;t like static linking between two projects they package</div>
<div class="line">[Monday 17 January 2011] [08:46:15] &lt;CIA-21&gt;  zeromq2: 03Steven McCoy 07master * r667b247 10/ src/pgm_receiver.cpp :</div>
<div class="line">[Monday 17 January 2011] [08:46:15] &lt;CIA-21&gt;  zeromq2: Cancel pending timers when decoder for PGM stalls</div>
<div class="line">[Monday 17 January 2011] [08:46:15] &lt;CIA-21&gt;  zeromq2: Otherwise the timer event can raise an input event</div>
<div class="line">[Monday 17 January 2011] [08:46:15] &lt;CIA-21&gt;  zeromq2: causing assertion on unprocessed data.</div>
<div class="line">[Monday 17 January 2011] [08:46:15] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Steven McCoy &lt;<a class="reference external" href="mailto:steven&#46;mccoy&#37;&#52;&#48;miru&#46;hk">steven<span>&#46;</span>mccoy<span>&#64;</span>miru<span>&#46;</span>hk</a>&gt; - <a class="reference external" href="http://bit.ly/eJNCcf">http://bit.ly/eJNCcf</a></div>
<div class="line">[Monday 17 January 2011] [08:47:11] &lt;Steve-o&gt; once I start to see packages created I can copy the build script and then zeromq can be split up</div>
<div class="line">[Monday 17 January 2011] [08:48:29] &lt;Steve-o&gt; The only future work I see is on FEC unless some University project picks up congestion control</div>
<div class="line">[Monday 17 January 2011] [08:49:18] &lt;Steve-o&gt; the congestion protocol is broken above 10,000 packets-per-second</div>
<div class="line">[Monday 17 January 2011] [08:49:28] &lt;guido_g&gt; Steve-o: i used a very high HWM on the subscriber as proposed and it worked</div>
<div class="line">[Monday 17 January 2011] [08:50:55] &lt;Steve-o&gt; great, otherwise you would get application induced dataloss</div>
<div class="line">[Monday 17 January 2011] [08:51:37] &lt;CIA-21&gt;  zeromq2: 03Martin Sustrik 07master * rb262f2f 10/ doc/zmq_send.txt :</div>
<div class="line">[Monday 17 January 2011] [08:51:37] &lt;CIA-21&gt;  zeromq2: Typo fixed in zmq_send(3) man page.</div>
<div class="line">[Monday 17 January 2011] [08:51:37] &lt;CIA-21&gt;  zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/g9l7cN">http://bit.ly/g9l7cN</a></div>
<div class="line">[Monday 17 January 2011] [08:52:14] &lt;Steve-o&gt; definitely need to work on some feedback for admins around that issue in the future</div>
<div class="line">[Monday 17 January 2011] [08:53:04] &lt;Steve-o&gt; but then that&#8217;s the logging system which is rather awkward</div>
<div class="line">[Monday 17 January 2011] [09:11:57] &lt;<a href="#id529"><span class="problematic" id="id530">sustrik_</span></a>&gt;        funny video here btw</div>
<div class="line">[Monday 17 January 2011] [09:11:58] &lt;<a href="#id531"><span class="problematic" id="id532">sustrik_</span></a>&gt;        <a class="reference external" href="http://cfkarsten.blip.tv/file/4639616">http://cfkarsten.blip.tv/file/4639616</a></div>
<div class="line">[Monday 17 January 2011] [09:12:15] &lt;<a href="#id533"><span class="problematic" id="id534">sustrik_</span></a>&gt;        using 0mq to create a cloud of 1978 vintage computers :)</div>
<div class="line">[Monday 17 January 2011] [09:17:33] &lt;stimpie&gt; Iam doing some performanc benchmarks (with the provided perf code)  on 1000G ethernet I get 936 Mb/s on infiband (32 Gb/s) this only goes up to 2070 Mb/s</div>
<div class="line">[Monday 17 January 2011] [09:17:58] &lt;stimpie&gt; is this an expected resulted or should this be higher?</div>
<div class="line">[Monday 17 January 2011] [09:25:27] &lt;<a href="#id535"><span class="problematic" id="id536">sustrik_</span></a>&gt;        stimpie: what&#8217;s your message size?</div>
<div class="line">[Monday 17 January 2011] [09:27:23] &lt;<a href="#id537"><span class="problematic" id="id538">sustrik_</span></a>&gt;        there are some test results here: <a class="reference external" href="http://www.zeromq.org/results:ib-tests-v206">http://www.zeromq.org/results:ib-tests-v206</a></div>
<div class="line">[Monday 17 January 2011] [09:28:32] &lt;stimpie&gt; message size used is 100 bytes</div>
<div class="line">[Monday 17 January 2011] [09:29:23] &lt;stimpie&gt; my result is similar to those in your link</div>
<div class="line">[Monday 17 January 2011] [09:29:53] &lt;<a href="#id539"><span class="problematic" id="id540">sustrik_</span></a>&gt;        yes, looks like</div>
<div class="line">[Monday 17 January 2011] [11:55:51] &lt;Guest10403&gt;      Hi There,  I am just beginning to use ZeroMQ and am experimenting with some of the samples.  I am using the C# language bindings and have run into an issue with getting a DllNotFound Exception</div>
<div class="line">[Monday 17 January 2011] [11:56:05] &lt;Guest10403&gt;      Has anyone else run into this issue?</div>
<div class="line">[Monday 17 January 2011] [11:56:31] &lt;mikko&gt;   Guest10403: dll not found sounds like the libzmq.dll can not be found</div>
<div class="line">[Monday 17 January 2011] [11:56:41] &lt;mikko&gt;   is it in a path where the loader can find it?</div>
<div class="line">[Monday 17 January 2011] [11:57:09] &lt;Guest10403&gt;      I can Load on My development machine, but when I move things to other servers, I get the error despite copying the libzmq.dll into both the folder the samples are running from and into Windows/System32</div>
<div class="line">[Monday 17 January 2011] [11:57:20] &lt;Guest10403&gt;      Hi Mikko</div>
<div class="line">[Monday 17 January 2011] [11:57:25] &lt;Guest10403&gt;      Thanks for your response</div>
<div class="line">[Monday 17 January 2011] [11:57:36] &lt;Guest10403&gt;      Windows should be able to find it, but does not seem to be able to</div>
<div class="line">[Monday 17 January 2011] [11:58:40] &lt;mikko&gt;   hmm</div>
<div class="line">[Monday 17 January 2011] [11:58:46] &lt;mikko&gt;   not an ACL issue?</div>
<div class="line">[Monday 17 January 2011] [11:59:51] &lt;Guest10403&gt;      I have put clzmq.dll into the Folder the sample app is in and also libzmq.dll  Also, i put libzmq into c:Windows/System32</div>
<div class="line">[Monday 17 January 2011] [12:00:06] &lt;Guest10403&gt;      I don&#8217;t understand your question ACL?</div>
<div class="line">[Monday 17 January 2011] [12:00:19] &lt;Guest10403&gt;      What does ACL stand for?</div>
<div class="line">[Monday 17 January 2011] [12:00:25] &lt;mikko&gt;   i mean file permissions on either one of the dll diles</div>
<div class="line">[Monday 17 January 2011] [12:00:28] &lt;mikko&gt;   files*</div>
<div class="line">[Monday 17 January 2011] [12:00:33] &lt;mikko&gt;   acl = access control list</div>
<div class="line">[Monday 17 January 2011] [12:00:41] &lt;Guest10403&gt;      Good question</div>
<div class="line">[Monday 17 January 2011] [12:01:07] &lt;Guest10403&gt;      It should not be that sort of issue, the user I am running as on the server has administrative rights</div>
<div class="line">[Monday 17 January 2011] [12:01:16] &lt;Guest10403&gt;      I&#8217;ll check again</div>
<div class="line">[Monday 17 January 2011] [12:02:45] &lt;Guest10403&gt;      I have admin rights and am Running on Windows Server 2003 Service pack2</div>
<div class="line">[Monday 17 January 2011] [12:03:25] &lt;mikko&gt;   maybe send an email to mailing-lists</div>
<div class="line">[Monday 17 January 2011] [12:03:35] &lt;mikko&gt;   i dont really run windows anywhere so i cant help much</div>
<div class="line">[Monday 17 January 2011] [12:04:05] &lt;Guest10403&gt;      Thanks for the suggestion</div>
<div class="line">[Monday 17 January 2011] [18:05:13] &lt;mikko&gt;   lestrrat: looks like perl build is failing for some reason</div>
<div class="line">[Monday 17 January 2011] [18:06:53] &lt;lestrrat&gt;        whoa</div>
<div class="line">[Monday 17 January 2011] [18:08:24] &lt;lestrrat&gt;        it says build timed out</div>
<div class="line">[Monday 17 January 2011] [18:08:31] &lt;lestrrat&gt;        does hudson have a timeout for tests?</div>
<div class="line">[Monday 17 January 2011] [18:26:52] &lt;mikko&gt;   lestrrat: yes</div>
<div class="line">[Monday 17 January 2011] [18:26:56] &lt;mikko&gt;   lestrrat: it will eventually time out</div>
<div class="line">[Monday 17 January 2011] [18:26:58] &lt;lestrrat&gt;        what&#8217;s the timeout?</div>
<div class="line">[Monday 17 January 2011] [18:27:01] &lt;mikko&gt;   let me check</div>
<div class="line">[Monday 17 January 2011] [18:27:14] &lt;mikko&gt;   five minutes</div>
<div class="line">[Monday 17 January 2011] [18:27:18] &lt;mikko&gt;   is that enough for the build?</div>
<div class="line">[Monday 17 January 2011] [18:27:18] &lt;lestrrat&gt;        hmmm</div>
<div class="line">[Monday 17 January 2011] [18:27:26] &lt;lestrrat&gt;        should be</div>
<div class="line">[Monday 17 January 2011] [18:27:41] &lt;lestrrat&gt;        I added new tests that take up some time, but I&#8217;m pretty sure it doesn&#8217;t go over 5 minutes. odd</div>
<div class="line">[Monday 17 January 2011] [18:27:43] &lt;mikko&gt;   looking at the trends the time is normally around &lt;2min</div>
<div class="line">[Monday 17 January 2011] [18:28:02] &lt;lestrrat&gt;        I&#8217;ll make the tests shorter for now, and see what happens</div>
<div class="line">[Monday 17 January 2011] [18:28:18] &lt;mikko&gt;   i can increase the build timeout as well</div>
<div class="line">[Monday 17 January 2011] [18:28:25] &lt;mikko&gt;   just to see if it passes with more time</div>
<div class="line">[Monday 17 January 2011] [18:28:49] &lt;lestrrat&gt;        well, let me change this first, and if it still doesn&#8217;t work, I might ask you to change the timeout</div>
<div class="line">[Monday 17 January 2011] [18:29:25] &lt;mikko&gt;   <a class="reference external" href="http://build.valokuva.org/job/ZeroMQPerl-master_ZeroMQ2-master_GCC/buildTimeTrend">http://build.valokuva.org/job/ZeroMQPerl-master_ZeroMQ2-master_GCC/buildTimeTrend</a></div>
<div class="line">[Monday 17 January 2011] [18:29:31] &lt;mikko&gt;   you can see build time trend from there</div>
<div class="line">[Monday 17 January 2011] [18:29:58] &lt;lestrrat&gt;        oh man. didn&#8217;t know about that in hudson. that&#8217;s nice :)</div>
<div class="line">[Monday 17 January 2011] [18:30:18] &lt;mikko&gt;   all kind of cool toys in hudson</div>
<div class="line">[Monday 17 January 2011] [18:30:24] &lt;mikko&gt;   like the static analysis plugins: <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/">http://build.valokuva.org/job/ZeroMQ2-core-master_static-analysis/</a></div>
<div class="line">[Monday 17 January 2011] [18:34:02] &lt;lestrrat&gt;        well, as of my latest commit, the test should run in about 12 seconds :/</div>
<div class="line">[Monday 17 January 2011] [18:34:42] &lt;lestrrat&gt;        so if the hudson runs were taking on average 1 min+, presumably most of that time is spent checking out git</div>
<div class="line">[Monday 17 January 2011] [18:37:49] &lt;lestrrat&gt;        well let&#8217;s see what the next run brings up</div>
<div class="line">[Monday 17 January 2011] [18:39:30] &lt;mikko&gt;   pass</div>
<div class="line">[Monday 17 January 2011] [18:39:43] &lt;lestrrat&gt;        so soon? lol</div>
<div class="line">[Monday 17 January 2011] [18:39:45] &lt;lestrrat&gt;        thanks!</div>
<div class="line">[Monday 17 January 2011] [18:39:53] &lt;mikko&gt;   it will run quicker when there is no load</div>
<div class="line">[Monday 17 January 2011] [18:40:02] &lt;mikko&gt;   usually the build runs alongside with 4 other builds</div>
<div class="line">[Monday 17 January 2011] [18:40:05] &lt;mikko&gt;   so it takes longer</div>
<div class="line">[Monday 17 January 2011] [19:30:04] &lt;traviscline&gt;     i&#8217;m investigating getting the pyzmq polling integrated into gevent (cython wrapping of libevent) and wanted to ask if anyone had any &#8216;to-reads&#8217; other than the eventlet implementation</div>
<div class="line">[Monday 17 January 2011] [19:31:59] &lt;mikko&gt;   i think there was someone here who was integrating with gevent</div>
<div class="line">[Monday 17 January 2011] [19:32:05] &lt;mikko&gt;   the process is very simple</div>
<div class="line">[Monday 17 January 2011] [19:32:18] &lt;mikko&gt;   i can walk you through it if you like?</div>
<div class="line">[Monday 17 January 2011] [19:34:42] &lt;traviscline&gt;     mikko: yeah if you have any input that&#8217;d be great</div>
<div class="line">[Monday 17 January 2011] [19:35:08] &lt;mikko&gt;   so, first you need zeromq 2.1.x</div>
<div class="line">[Monday 17 January 2011] [19:35:12] &lt;traviscline&gt;     rgr</div>
<div class="line">[Monday 17 January 2011] [19:35:22] &lt;mikko&gt;   what you need to do roughly is:</div>
<div class="line">[Monday 17 January 2011] [19:35:35] &lt;mikko&gt;   you create a zmq socket and connect/bind it</div>
<div class="line">[Monday 17 January 2011] [19:35:51] &lt;mikko&gt;   you call getsockopt ZMQ_FD on the socket to get a filehandle</div>
<div class="line">[Monday 17 January 2011] [19:36:03] &lt;mikko&gt;   then you add gevent io watcher on that filehandle</div>
<div class="line">[Monday 17 January 2011] [19:36:18] &lt;mikko&gt;   and your callback should be signaled when the socket is readable/writable</div>
<div class="line">[Monday 17 January 2011] [19:36:50] &lt;traviscline&gt;     <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg00030.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg00030.html</a> that list posting discouraged me from taking that path</div>
<div class="line">[Monday 17 January 2011] [19:36:55] &lt;traviscline&gt;     but thanks, I&#8217;ll give that a go</div>
<div class="line">[Monday 17 January 2011] [19:37:36] &lt;mikko&gt;   zeromq doesnt support io completion ports</div>
<div class="line">[Monday 17 January 2011] [19:37:38] &lt;mikko&gt;   that is true</div>
<div class="line">[Monday 17 January 2011] [19:38:38] &lt;traviscline&gt;     mikko: shit sorry, meant this <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg06253.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg06253.html</a></div>
<div class="line">[Monday 17 January 2011] [19:39:29] &lt;mikko&gt;   he is probably missing a fact that zeromq is edge-triggered</div>
<div class="line">[Monday 17 January 2011] [19:39:48] &lt;mikko&gt;   so when gevent signals that socket is readable you need to read until you get EAGAIN</div>
<div class="line">[Monday 17 January 2011] [19:40:11] &lt;mikko&gt;   so do nonblocking recv in a loop (in the callback) and break out from loop when you get EAGAIN from recv</div>
<div class="line">[Monday 17 January 2011] [19:40:55] &lt;mikko&gt;   edge-triggered means that the callback gets called on state changes, not necessarily on every new message</div>
<div class="line">[Monday 17 January 2011] [19:43:22] &lt;traviscline&gt;     <em>nods</em></div>
<div class="line">[Monday 17 January 2011] [19:45:01] &lt;traviscline&gt;     mikko: !! thanks</div>
<div class="line">[Monday 17 January 2011] [19:45:03] &lt;traviscline&gt;     works</div>
<div class="line">[Monday 17 January 2011] [19:48:41] &lt;mikko&gt;   cool</div>
<div class="line">[Monday 17 January 2011] [19:51:39] &lt;traviscline&gt;     mikko: straight port as of now <a class="reference external" href="https://gist.github.com/783810">https://gist.github.com/783810</a> of eventlet&#8217;s stuff</div>
<div class="line">[Monday 17 January 2011] [19:51:42] &lt;traviscline&gt;     but works</div>
<div class="line">[Monday 17 January 2011] [19:51:47] &lt;traviscline&gt;     on initial testing</div>
<div class="line">[Tuesday 18 January 2011] [06:02:25] &lt;mikko&gt;  <a href="#id541"><span class="problematic" id="id542">sustrik_</span></a>: im having slightly odd behavior with HWM</div>
<div class="line">[Tuesday 18 January 2011] [06:03:21] &lt;mikko&gt;  i am trying to word it</div>
<div class="line">[Tuesday 18 January 2011] [06:34:04] &lt;<a href="#id543"><span class="problematic" id="id544">Steve-o_</span></a>&gt;       mikko: made advances on PGM on Windows</div>
<div class="line">[Tuesday 18 January 2011] [06:34:27] &lt;<a href="#id545"><span class="problematic" id="id546">Steve-o_</span></a>&gt;       I have CMake working again, and can even make a GUI installer pretty easily</div>
<div class="line">[Tuesday 18 January 2011] [06:34:39] &lt;mikko&gt;  <a href="#id547"><span class="problematic" id="id548">Steve-o_</span></a>: nice!</div>
<div class="line">[Tuesday 18 January 2011] [06:34:51] &lt;<a href="#id549"><span class="problematic" id="id550">Steve-o_</span></a>&gt;       its like a few lines of CMake to build a NSIS installer package</div>
<div class="line">[Tuesday 18 January 2011] [06:35:03] &lt;mikko&gt;  i wonder how windows install is best handled</div>
<div class="line">[Tuesday 18 January 2011] [06:35:14] &lt;mikko&gt;  currently we got mingw and MSVC builds</div>
<div class="line">[Tuesday 18 January 2011] [06:35:31] &lt;mikko&gt;  with mingw you should be able to reuse the autoconf builds</div>
<div class="line">[Tuesday 18 January 2011] [06:35:35] &lt;mikko&gt;  but not sure about MSVC</div>
<div class="line">[Tuesday 18 January 2011] [06:35:51] &lt;<a href="#id551"><span class="problematic" id="id552">Steve-o_</span></a>&gt;       shared libraries and exes wont build for me, maybe because of x86/x64 difference with the compiler, with CMake that is</div>
<div class="line">[Tuesday 18 January 2011] [06:36:21] &lt;<a href="#id553"><span class="problematic" id="id554">Steve-o_</span></a>&gt;       well I&#8217;ve gone for autoconf for unix and cmake for windows, and scons for development</div>
<div class="line">[Tuesday 18 January 2011] [06:36:26] &lt;Evet&gt;   is zeromq right tool to build a production http server?</div>
<div class="line">[Tuesday 18 January 2011] [06:36:42] &lt;<a href="#id555"><span class="problematic" id="id556">Steve-o_</span></a>&gt;       Evet: have a look at Mongrel</div>
<div class="line">[Tuesday 18 January 2011] [06:36:59] &lt;<a href="#id557"><span class="problematic" id="id558">Steve-o_</span></a>&gt;       <a class="reference external" href="http://mongrel2.org/home">http://mongrel2.org/home</a></div>
<div class="line">[Tuesday 18 January 2011] [06:38:08] &lt;<a href="#id559"><span class="problematic" id="id560">Steve-o_</span></a>&gt;       mikko: I have cygwin on Windows but not tried mingw32, I usually cross compile with that instead</div>
<div class="line">[Tuesday 18 January 2011] [06:38:25] &lt;<a href="#id561"><span class="problematic" id="id562">Steve-o_</span></a>&gt;       due to Python in Cygwin crashing on fork constantly</div>
<div class="line">[Tuesday 18 January 2011] [06:38:51] &lt;Evet&gt;   <a href="#id563"><span class="problematic" id="id564">Steve-o_</span></a>: thanks. it looks promising. but, do you have a suggestion for c?</div>
<div class="line">[Tuesday 18 January 2011] [06:39:06] &lt;mikko&gt;  mingw32 wont build</div>
<div class="line">[Tuesday 18 January 2011] [06:39:16] &lt;mikko&gt;  currently it&#8217;s missing group_source_req in ws2tcpip.h</div>
<div class="line">[Tuesday 18 January 2011] [06:39:23] &lt;mikko&gt;  i debugged this a bit over the weekend</div>
<div class="line">[Tuesday 18 January 2011] [06:39:27] &lt;<a href="#id565"><span class="problematic" id="id566">Steve-o_</span></a>&gt;       I have a lot of patches</div>
<div class="line">[Tuesday 18 January 2011] [06:39:37] &lt;<a href="#id567"><span class="problematic" id="id568">Steve-o_</span></a>&gt;       two sets, one for mingw32 and one for mingw-w64</div>
<div class="line">[Tuesday 18 January 2011] [06:39:49] &lt;mikko&gt;  it seems that mingw64 includes these upstream (based on #mingw)</div>
<div class="line">[Tuesday 18 January 2011] [06:39:55] &lt;mikko&gt;  but it has not been synced to mingw32</div>
<div class="line">[Tuesday 18 January 2011] [06:40:03] &lt;<a href="#id569"><span class="problematic" id="id570">Steve-o_</span></a>&gt;       not all of them though, at last check</div>
<div class="line">[Tuesday 18 January 2011] [06:40:05] &lt;mikko&gt;  which sounds slightly strange</div>
<div class="line">[Tuesday 18 January 2011] [06:40:24] &lt;<a href="#id571"><span class="problematic" id="id572">Steve-o_</span></a>&gt;       <a class="reference external" href="http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/win64/mingw-w64-bin_x86-64-linux_4.4.1-1openpgm1.diff">http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/win64/mingw-w64-bin_x86-64-linux_4.4.1-1openpgm1.diff</a></div>
<div class="line">[Tuesday 18 January 2011] [06:40:31] &lt;<a href="#id573"><span class="problematic" id="id574">Steve-o_</span></a>&gt;       and <a class="reference external" href="http://code.google.com/p/openpgm/source/browse/#svn%2Ftrunk%2Fopenpgm%2Fpgm%2Fwin">http://code.google.com/p/openpgm/source/browse/#svn%2Ftrunk%2Fopenpgm%2Fpgm%2Fwin</a></div>
<div class="line">[Tuesday 18 January 2011] [06:40:37] &lt;mikko&gt;  Evet: what would you use zeromq for in http server?</div>
<div class="line">[Tuesday 18 January 2011] [06:40:54] &lt;mikko&gt;  <a href="#id575"><span class="problematic" id="id576">Steve-o_</span></a>: yeah, i stumbled onto those over the weekend</div>
<div class="line">[Tuesday 18 January 2011] [06:41:10] &lt;mikko&gt;  if you google &#8216;struct group_source_req mingw&#8217; they are about the only results</div>
<div class="line">[Tuesday 18 January 2011] [06:41:20] &lt;<a href="#id577"><span class="problematic" id="id578">Steve-o_</span></a>&gt;       you also need to force WCACMSG header thingy too</div>
<div class="line">[Tuesday 18 January 2011] [06:42:51] &lt;<a href="#id579"><span class="problematic" id="id580">Steve-o_</span></a>&gt;       cmsghdr or _WSACMSGHDR or wsacmsghdr depending on the compiler</div>
<div class="line">[Tuesday 18 January 2011] [06:44:22] &lt;<a href="#id581"><span class="problematic" id="id582">Steve-o_</span></a>&gt;       I think that&#8217;s how the Wine developers have noted my project, I&#8217;ve seen it mentioned a few times in their bug tracker</div>
<div class="line">[Tuesday 18 January 2011] [06:45:18] &lt;<a href="#id583"><span class="problematic" id="id584">Steve-o_</span></a>&gt;       Evet: are you after a bespoke zmq-http forwarder (router/gateway)?</div>
<div class="line">[Tuesday 18 January 2011] [06:45:55] &lt;<a href="#id585"><span class="problematic" id="id586">Steve-o_</span></a>&gt;       Evet: its certainly fast enough, but it all depends what you requirements are beyond or aside to Mongrel</div>
<div class="line">[Tuesday 18 January 2011] [06:46:45] &lt;Evet&gt;   <a href="#id587"><span class="problematic" id="id588">Steve-o_</span></a>: i need to embed to my c application</div>
<div class="line">[Tuesday 18 January 2011] [06:47:04] &lt;<a href="#id589"><span class="problematic" id="id590">Steve-o_</span></a>&gt;       mikko: the mingw-w64 team still haven&#8217;t released a version yet though have they?  that&#8217;s why I picked one random version and stuck with it</div>
<div class="line">[Tuesday 18 January 2011] [06:47:56] &lt;Evet&gt;   currently using libevent&#8217;s http module. but zeromq looks cleaner</div>
<div class="line">[Tuesday 18 January 2011] [06:48:09] &lt;<a href="#id591"><span class="problematic" id="id592">Steve-o_</span></a>&gt;       ok</div>
<div class="line">[Tuesday 18 January 2011] [06:48:28] &lt;<a href="#id593"><span class="problematic" id="id594">Steve-o_</span></a>&gt;       I&#8217;ve been looking at using libevent or libcurl to implement a basic integration of HTTP and 0MQ</div>
<div class="line">[Tuesday 18 January 2011] [06:49:18] &lt;<a href="#id595"><span class="problematic" id="id596">Steve-o_</span></a>&gt;       but you also have Boost which has a lot of scalability features already in for HTTP multi-core usage</div>
<div class="line">[Tuesday 18 January 2011] [06:49:50] &lt;<a href="#id597"><span class="problematic" id="id598">Steve-o_</span></a>&gt;       is this a high or load load HTTP server though?</div>
<div class="line">[Tuesday 18 January 2011] [06:51:04] &lt;Evet&gt;   <a href="#id599"><span class="problematic" id="id600">Steve-o_</span></a>: it needs to handle high loads</div>
<div class="line">[Tuesday 18 January 2011] [06:51:44] &lt;Evet&gt;   Boost&#8217;s ASIO module looks great, but i dont really know about c++&#8217;s oop thing</div>
<div class="line">[Tuesday 18 January 2011] [06:52:00] &lt;<a href="#id601"><span class="problematic" id="id602">Steve-o_</span></a>&gt;       otherwise integrating with Nginx might be more likely</div>
<div class="line">[Tuesday 18 January 2011] [06:54:00] &lt;mikko&gt;  Evet: you can&#8217;t really communicate with clients over zeromq</div>
<div class="line">[Tuesday 18 January 2011] [06:54:18] &lt;mikko&gt;  Evet: i&#8217;ve created libevent http based webserver but it uses zeromq for inter-thread communication</div>
<div class="line">[Tuesday 18 January 2011] [06:55:24] &lt;Evet&gt;   hmm</div>
<div class="line">[Tuesday 18 January 2011] [06:56:31] &lt;<a href="#id603"><span class="problematic" id="id604">Steve-o_</span></a>&gt;       I wrote my own HTTP admin interface for PGM using async-io, but its definitely not multi-core IO scalable</div>
<div class="line">[Tuesday 18 January 2011] [06:56:49] &lt;<a href="#id605"><span class="problematic" id="id606">Steve-o_</span></a>&gt;       they are two very large different domains</div>
<div class="line">[Tuesday 18 January 2011] [06:57:11] &lt;<a href="#id607"><span class="problematic" id="id608">Steve-o_</span></a>&gt;       for basic C you can also use libsoup</div>
<div class="line">[Tuesday 18 January 2011] [06:58:54] &lt;<a href="#id609"><span class="problematic" id="id610">Steve-o_</span></a>&gt;       but application and HTTP server don&#8217;t really go together, you should use a dedicated http-zmq gateway and a zmq-based application server for the core logic</div>
<div class="line">[Tuesday 18 January 2011] [07:03:55] &lt;mikko&gt;  <a href="#id611"><span class="problematic" id="id612">Steve-o_</span></a>: i guess in which case you could just use mongrel2</div>
<div class="line">[Tuesday 18 January 2011] [07:04:17] &lt;Evet&gt;   in fact, a request-reply tcp server is sufficient for me</div>
<div class="line">[Tuesday 18 January 2011] [07:04:19] &lt;<a href="#id613"><span class="problematic" id="id614">Steve-o_</span></a>&gt;       correct, but the question comes back to what is high load</div>
<div class="line">[Tuesday 18 January 2011] [07:04:37] &lt;<a href="#id615"><span class="problematic" id="id616">Steve-o_</span></a>&gt;       thousands of requests per second?</div>
<div class="line">[Tuesday 18 January 2011] [07:05:04] &lt;Evet&gt;   8k requests/second per cpu core</div>
<div class="line">[Tuesday 18 January 2011] [07:06:35] &lt;<a href="#id617"><span class="problematic" id="id618">Steve-o_</span></a>&gt;       then typical design you would have basic edge gateways managing the HTTP requests and core application servers processing ZMQ messages at high speed</div>
<div class="line">[Tuesday 18 January 2011] [07:08:07] &lt;Evet&gt;   i can implement RFC rules</div>
<div class="line">[Tuesday 18 January 2011] [07:08:55] &lt;Evet&gt;   i have wrote some core modules for nginx, but its overcomplicated for a single application</div>
<div class="line">[Tuesday 18 January 2011] [07:11:17] &lt;mikko&gt;  does it have to be http?</div>
<div class="line">[Tuesday 18 January 2011] [07:11:40] &lt;<a href="#id619"><span class="problematic" id="id620">Steve-o_</span></a>&gt;       in comparison Wikipedia is up to 90k requests per second <a class="reference external" href="http://www.nedworks.org/~mark/reqstats//reqstats-weekly.png">http://www.nedworks.org/~mark/reqstats//reqstats-weekly.png</a> for hundreds of servers (300+)</div>
<div class="line">[Tuesday 18 January 2011] [07:12:01] &lt;mikko&gt;  they run tons of squid servers iirc</div>
<div class="line">[Tuesday 18 January 2011] [07:13:09] &lt;Evet&gt;   mikko: no, i can handle http parsing</div>
<div class="line">[Tuesday 18 January 2011] [07:17:21] &lt;<a href="#id621"><span class="problematic" id="id622">Steve-o_</span></a>&gt;       is this with an additional load balancer in front?</div>
<div class="line">[Tuesday 18 January 2011] [07:19:47] &lt;<a href="#id623"><span class="problematic" id="id624">Steve-o_</span></a>&gt;       the point being in regular HTTP traffic 8k/s is quite high for even one machine</div>
<div class="line">[Tuesday 18 January 2011] [07:20:40] &lt;Evet&gt;   a quad-core desktop pc can handle ~30k non-keepalive requests per second</div>
<div class="line">[Tuesday 18 January 2011] [07:22:00] &lt;<a href="#id625"><span class="problematic" id="id626">Steve-o_</span></a>&gt;       it all depends what you are serving though</div>
<div class="line">[Tuesday 18 January 2011] [07:22:18] &lt;<a href="#id627"><span class="problematic" id="id628">Steve-o_</span></a>&gt;       which is why it&#8217;s rather difficult to help you out</div>
<div class="line">[Tuesday 18 January 2011] [07:22:38] &lt;Evet&gt;   dynamic content through embedded caching</div>
<div class="line">[Tuesday 18 January 2011] [07:23:40] &lt;Evet&gt;   i have reached 90k req/sec with keepalive with an in-memory hashtable library</div>
<div class="line">[Tuesday 18 January 2011] [07:24:55] &lt;<a href="#id629"><span class="problematic" id="id630">Steve-o_</span></a>&gt;       ok, so basically a higher protocol memcached?  closer to amazon s3?</div>
<div class="line">[Tuesday 18 January 2011] [07:25:18] &lt;Evet&gt;   not really</div>
<div class="line">[Tuesday 18 January 2011] [07:25:40] &lt;<a href="#id631"><span class="problematic" id="id632">Steve-o_</span></a>&gt;       :D</div>
<div class="line">[Tuesday 18 January 2011] [07:25:56] &lt;Evet&gt;   an embedded database library without ACID overhead</div>
<div class="line">[Tuesday 18 January 2011] [07:26:12] &lt;mikko&gt;  in-memory hashtable that has ACID ?</div>
<div class="line">[Tuesday 18 January 2011] [07:26:31] &lt;Evet&gt;   ofcourse not :)</div>
<div class="line">[Tuesday 18 January 2011] [07:26:37] &lt;mikko&gt;  memcached really is nothing more than a distributed hashtable</div>
<div class="line">[Tuesday 18 January 2011] [07:26:47] &lt;<a href="#id633"><span class="problematic" id="id634">Steve-o_</span></a>&gt;       amazon simpledb then?</div>
<div class="line">[Tuesday 18 January 2011] [07:26:48] &lt;mikko&gt;  distributed in the very lose definition of the term</div>
<div class="line">[Tuesday 18 January 2011] [07:27:47] &lt;Evet&gt;   im going to use zeromq for brokerless replication</div>
<div class="line">[Tuesday 18 January 2011] [07:28:28] &lt;Evet&gt;   tokyo cabinet as embedded database library, which also able to append in-memory hashtable to disk</div>
<div class="line">[Tuesday 18 January 2011] [07:28:53] &lt;mikko&gt;  you should look into kyoto cabinet as well</div>
<div class="line">[Tuesday 18 January 2011] [07:29:04] &lt;Evet&gt;   have been using nginx, but its overcomplicated</div>
<div class="line">[Tuesday 18 January 2011] [07:29:09] &lt;mikko&gt;  i&#8217;m testing kyoto cabinet in current project</div>
<div class="line">[Tuesday 18 January 2011] [07:29:58] &lt;Evet&gt;   mikko: really? im testing kyoto cabinet for months too. nice to meet another kyoto* user</div>
<div class="line">[Tuesday 18 January 2011] [07:30:34] &lt;<a href="#id635"><span class="problematic" id="id636">Steve-o_</span></a>&gt;       didn&#8217;t Oracle release their replication transport recently</div>
<div class="line">[Tuesday 18 January 2011] [07:30:36] &lt;mikko&gt;  i remember tokyo cabinet hash database is O(log n) for retrieval?</div>
<div class="line">[Tuesday 18 January 2011] [07:30:50] &lt;Evet&gt;   mikko: nope. o(1)</div>
<div class="line">[Tuesday 18 January 2011] [07:31:10] &lt;mikko&gt;  Evet: but with hash database you have collisions</div>
<div class="line">[Tuesday 18 January 2011] [07:31:26] &lt;mikko&gt;  i don&#8217;t see how you handle collision in O(1)</div>
<div class="line">[Tuesday 18 January 2011] [07:32:25] &lt;Evet&gt;   mikko: im generating uuid. but, is it what you asked?</div>
<div class="line">[Tuesday 18 January 2011] [07:32:48] &lt;mikko&gt;  no</div>
<div class="line">[Tuesday 18 January 2011] [07:33:31] &lt;Evet&gt;   could you rephrase then, im not good at english</div>
<div class="line">[Tuesday 18 January 2011] [07:33:53] &lt;mikko&gt;  if you don&#8217;t know all the keys beforehand it&#8217;s impossible to create perfect hash function</div>
<div class="line">[Tuesday 18 January 2011] [07:34:30] &lt;mikko&gt;  <a class="reference external" href="http://en.wikipedia.org/wiki/Hash_table#Collision_resolution">http://en.wikipedia.org/wiki/Hash_table#Collision_resolution</a></div>
<div class="line">[Tuesday 18 January 2011] [07:35:45] &lt;mikko&gt;  <a href="#id637"><span class="problematic" id="id638">Steve-o_</span></a>: have you had issues with zmq_poll ?</div>
<div class="line">[Tuesday 18 January 2011] [07:36:15] &lt;mikko&gt;  im seeing weird behavior that i have reached HWM but the socket has revents ZMQ_POLLOUT</div>
<div class="line">[Tuesday 18 January 2011] [07:36:19] &lt;<a href="#id639"><span class="problematic" id="id640">Steve-o_</span></a>&gt;       haven&#8217;t used it yet</div>
<div class="line">[Tuesday 18 January 2011] [07:37:18] &lt;mikko&gt;  and i seem to be losing messages somewhere</div>
<div class="line">[Tuesday 18 January 2011] [07:37:40] &lt;mikko&gt;  need to debug further to see whether it&#8217;s actually my software causing this</div>
<div class="line">[Tuesday 18 January 2011] [07:37:57] &lt;mikko&gt;  anyway, lunch time. bbl</div>
<div class="line">[Tuesday 18 January 2011] [07:39:17] &lt;Evet&gt;   mikko: <a class="reference external" href="http://translate.google.com.tr/translate?hl=en&amp;sl=ja&amp;u=http://fallabs.com/mikio/tech/promenade.cgi%3Fid%3D42&amp;ei=gYk1TcX9JM3GswbroYW0Cg&amp;sa=X&amp;oi=translate&amp;ct=result&amp;resnum=1&amp;ved=0CBcQ7gEwAA&amp;prev=/search%3Fq%3Dsite:fallabs.com%2B%25E8%25A1%259D%25E7%25AA%2581%26num%3D100%26hl%3Den%26safe%3Doff%26qscrl%3D1%26prmd%3Divns">http://translate.google.com.tr/translate?hl=en&amp;sl=ja&amp;u=http://fallabs.com/mikio/tech/promenade.cgi%3Fid%3D42&amp;ei=gYk1TcX9JM3GswbroYW0Cg&amp;sa=X&amp;oi=translate&amp;ct=result&amp;resnum=1&amp;ved=0CBcQ7gEwAA&amp;prev=/search%3Fq%3Dsite:fallabs.com%2B%25E8%25A1%259D%25E7%25AA%2581%26num%3D100%26hl%3Den%26safe%3Doff%26qscrl%3D1%26prmd%3Divns</a></div>
<div class="line">[Tuesday 18 January 2011] [07:39:18] &lt;Evet&gt;   hmm</div>
<div class="line">[Tuesday 18 January 2011] [07:49:49] &lt;Evet&gt;   <a href="#id641"><span class="problematic" id="id642">Steve-o_</span></a>: so in sum of; is zeromq suitable to write an asynchronous request-respond tcp server?</div>
<div class="line">[Tuesday 18 January 2011] [08:47:03] &lt;zchrish&gt;        I have a realtime server connected and am sending packets at least once per second. But my subscriber is receiving them only every few seconds. I assume this is due to the NAGLE algorithm; could this be the case?</div>
<div class="line">[Tuesday 18 January 2011] [08:47:47] &lt;<a href="#id643"><span class="problematic" id="id644">sustrik_</span></a>&gt;       zchrish: nagle is turned off</div>
<div class="line">[Tuesday 18 January 2011] [08:48:24] &lt;<a href="#id645"><span class="problematic" id="id646">sustrik_</span></a>&gt;       0mq should definitely not behave that way</div>
<div class="line">[Tuesday 18 January 2011] [08:48:44] &lt;<a href="#id647"><span class="problematic" id="id648">sustrik_</span></a>&gt;       do you have a minimal test case?</div>
<div class="line">[Tuesday 18 January 2011] [08:48:45] &lt;zchrish&gt;        I see. I am sure it is somewhere else then. Thank you.</div>
<div class="line">[Tuesday 18 January 2011] [08:49:00] &lt;<a href="#id649"><span class="problematic" id="id650">sustrik_</span></a>&gt;       np</div>
<div class="line">[Tuesday 18 January 2011] [08:49:39] &lt;zchrish&gt;        Actually I am converting my server code over to zeromq and probably didn&#8217;t activate my heartbeat.</div>
<div class="line">[Tuesday 18 January 2011] [09:17:06] Notice   -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Tuesday 18 January 2011] [09:29:15] &lt;ptrb&gt;   there should be no problem dynamically connecting and disconnecting an active ZMQ_SUB socket to various ZMQ_PUB sockets, right?</div>
<div class="line">[Tuesday 18 January 2011] [09:30:52] &lt;ptrb&gt;   hmm, except there is no disconnect :)</div>
<div class="line">[Tuesday 18 January 2011] [09:38:38] 435      <a href="#id651"><span class="problematic" id="id652">travlr_</span></a> travlr #gentoo-qt Cannot change nickname while banned on channel</div>
<div class="line">[Tuesday 18 January 2011] [09:58:39] &lt;CIA-21&gt; zeromq2: 03Martin Sustrik 07master * r56bdba5 10/ (8 files):</div>
<div class="line">[Tuesday 18 January 2011] [09:58:39] &lt;CIA-21&gt; zeromq2: Fix cppcheck warnings: Prefer prefix ++/&#8211; operators for non-primitive types.</div>
<div class="line">[Tuesday 18 January 2011] [09:58:39] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eksLeo">http://bit.ly/eksLeo</a></div>
<div class="line">[Tuesday 18 January 2011] [09:59:16] &lt;mikko&gt;  <a href="#id653"><span class="problematic" id="id654">sustrik_</span></a>: i&#8217;m seeing something weird</div>
<div class="line">[Tuesday 18 January 2011] [09:59:25] &lt;<a href="#id655"><span class="problematic" id="id656">sustrik_</span></a>&gt;       yes?</div>
<div class="line">[Tuesday 18 January 2011] [09:59:35] &lt;mikko&gt;  <a href="#id657"><span class="problematic" id="id658">sustrik_</span></a>: effectively what i am trying to do is a device that stores messages if HWM is reached</div>
<div class="line">[Tuesday 18 January 2011] [09:59:50] &lt;mikko&gt;  PULL/PUSH sockets over tcp</div>
<div class="line">[Tuesday 18 January 2011] [09:59:55] &lt;<a href="#id659"><span class="problematic" id="id660">sustrik_</span></a>&gt;       right</div>
<div class="line">[Tuesday 18 January 2011] [10:00:08] &lt;mikko&gt;  my hwm on the PUSH socket is set to 5 for testing</div>
<div class="line">[Tuesday 18 January 2011] [10:00:15] &lt;mikko&gt;  i connect producer to pull socket</div>
<div class="line">[Tuesday 18 January 2011] [10:00:36] &lt;mikko&gt;  send 100 messages and i can see five being within the zeromq buffer and 95 go to the persistent storage</div>
<div class="line">[Tuesday 18 January 2011] [10:00:46] &lt;mikko&gt;  now i connect a consumer that consumes five messages</div>
<div class="line">[Tuesday 18 January 2011] [10:01:20] &lt;mikko&gt;  well, i bind a consumer and the device connects to it</div>
<div class="line">[Tuesday 18 January 2011] [10:01:29] &lt;mikko&gt;  the consumer process exits after consuming five messages</div>
<div class="line">[Tuesday 18 January 2011] [10:01:54] &lt;mikko&gt;  so my assumption was that 5 messages should now go to socket, it would hit hwm and return EAGAIN</div>
<div class="line">[Tuesday 18 January 2011] [10:02:22] &lt;mikko&gt;  but what i see:</div>
<div class="line">[Tuesday 18 January 2011] [10:02:38] &lt;mikko&gt;  the out_socket is constantly signaling ZMQ_POLLOUT</div>
<div class="line">[Tuesday 18 January 2011] [10:02:44] &lt;mikko&gt;  and it keeps accepting messages</div>
<div class="line">[Tuesday 18 January 2011] [10:02:55] &lt;<a href="#id661"><span class="problematic" id="id662">sustrik_</span></a>&gt;       that&#8217;s because the messages are stored in TCP buffers at that moment</div>
<div class="line">[Tuesday 18 January 2011] [10:02:57] &lt;mikko&gt;  until my persistent store is empty and turn off polling on outsocket</div>
<div class="line">[Tuesday 18 January 2011] [10:03:01] &lt;<a href="#id663"><span class="problematic" id="id664">sustrik_</span></a>&gt;       so 0mq&#8217;s queue is empty</div>
<div class="line">[Tuesday 18 January 2011] [10:03:12] &lt;mikko&gt;  then, i connect the consumer again</div>
<div class="line">[Tuesday 18 January 2011] [10:03:24] &lt;mikko&gt;  which is blocked on recv and no messages coming</div>
<div class="line">[Tuesday 18 January 2011] [10:08:19] &lt;mikko&gt;  is that the expected behavior?</div>
<div class="line">[Tuesday 18 January 2011] [10:22:36] &lt;<a href="#id665"><span class="problematic" id="id666">sustrik_</span></a>&gt;       i think so</div>
<div class="line">[Tuesday 18 January 2011] [10:22:47] &lt;<a href="#id667"><span class="problematic" id="id668">sustrik_</span></a>&gt;       the messages are stored in TCP buffers</div>
<div class="line">[Tuesday 18 January 2011] [10:22:58] &lt;<a href="#id669"><span class="problematic" id="id670">sustrik_</span></a>&gt;       thus 0MQ buffers are empty</div>
<div class="line">[Tuesday 18 January 2011] [10:23:31] &lt;<a href="#id671"><span class="problematic" id="id672">sustrik_</span></a>&gt;       you can set the size of TCP buffers using ZMQ_SNDBUF/ZMQ_RCVBUF</div>
<div class="line">[Tuesday 18 January 2011] [10:25:20] &lt;mikko&gt;  i&#8217;ll give that a go</div>
<div class="line">[Tuesday 18 January 2011] [10:38:24] &lt;mikko&gt;  <a href="#id673"><span class="problematic" id="id674">sustrik_</span></a>: i set the SNDBUF to 10 on the PUSH socket and still seeing the same behavior</div>
<div class="line">[Tuesday 18 January 2011] [10:38:31] &lt;mikko&gt;  it could be just something silly im doing as well</div>
<div class="line">[Tuesday 18 January 2011] [10:39:00] &lt;<a href="#id675"><span class="problematic" id="id676">sustrik_</span></a>&gt;       i think the OS it not guaranteed to limit the TCP buffer to the value you supply</div>
<div class="line">[Tuesday 18 January 2011] [10:39:04] &lt;<a href="#id677"><span class="problematic" id="id678">sustrik_</span></a>&gt;       it&#8217;s more of a hint</div>
<div class="line">[Tuesday 18 January 2011] [10:39:05] &lt;mikko&gt;  <a class="reference external" href="https://gist.github.com/92d9ef10d280c2ccf2f0">https://gist.github.com/92d9ef10d280c2ccf2f0</a></div>
<div class="line">[Tuesday 18 January 2011] [10:39:21] &lt;mikko&gt;  DataStore is the implementation or persistent storage</div>
<div class="line">[Tuesday 18 January 2011] [10:39:31] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 18 January 2011] [10:39:37] &lt;<a href="#id679"><span class="problematic" id="id680">sustrik_</span></a>&gt;       10-byte TCP buffer seems strange</div>
<div class="line">[Tuesday 18 January 2011] [10:39:40] &lt;mikko&gt;  ill test with larger messages in a mit</div>
<div class="line">[Tuesday 18 January 2011] [10:39:42] &lt;mikko&gt;  min*</div>
<div class="line">[Tuesday 18 January 2011] [10:40:56] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 18 January 2011] [10:41:04] &lt;mikko&gt;  10KB messages i still lose some messages</div>
<div class="line">[Tuesday 18 January 2011] [10:41:07] &lt;mikko&gt;  but not as many</div>
<div class="line">[Tuesday 18 January 2011] [10:41:44] &lt;<a href="#id681"><span class="problematic" id="id682">sustrik_</span></a>&gt;       lose?</div>
<div class="line">[Tuesday 18 January 2011] [10:41:46] &lt;mikko&gt;  consume 5 messages and lose 10 - 20 messages in between</div>
<div class="line">[Tuesday 18 January 2011] [10:41:53] &lt;mikko&gt;  the consumer never receives them</div>
<div class="line">[Tuesday 18 January 2011] [10:42:07] &lt;mikko&gt;  i got sequence in each message</div>
<div class="line">[Tuesday 18 January 2011] [10:42:17] &lt;<a href="#id683"><span class="problematic" id="id684">sustrik_</span></a>&gt;       that looks like a bug</div>
<div class="line">[Tuesday 18 January 2011] [10:42:19] &lt;mikko&gt;  when i consume the first five i get 0 - 4</div>
<div class="line">[Tuesday 18 January 2011] [10:42:32] &lt;mikko&gt;  next time i might get 23 onwards</div>
<div class="line">[Tuesday 18 January 2011] [10:43:16] &lt;<a href="#id685"><span class="problematic" id="id686">sustrik_</span></a>&gt;       is there 1 connection involved?</div>
<div class="line">[Tuesday 18 January 2011] [10:43:19] &lt;mikko&gt;  yes</div>
<div class="line">[Tuesday 18 January 2011] [10:43:19] &lt;<a href="#id687"><span class="problematic" id="id688">sustrik_</span></a>&gt;       or 2 of them?</div>
<div class="line">[Tuesday 18 January 2011] [10:43:21] &lt;mikko&gt;  1</div>
<div class="line">[Tuesday 18 January 2011] [10:43:23] &lt;<a href="#id689"><span class="problematic" id="id690">sustrik_</span></a>&gt;       hm</div>
<div class="line">[Tuesday 18 January 2011] [10:43:29] &lt;mikko&gt;  odd thing:</div>
<div class="line">[Tuesday 18 January 2011] [10:43:37] &lt;<a href="#id691"><span class="problematic" id="id692">sustrik_</span></a>&gt;       do you restart either peer?</div>
<div class="line">[Tuesday 18 January 2011] [10:43:41] &lt;mikko&gt;  yes</div>
<div class="line">[Tuesday 18 January 2011] [10:43:45] &lt;mikko&gt;  the consumer is a script</div>
<div class="line">[Tuesday 18 January 2011] [10:43:53] &lt;mikko&gt;  it consumes 5 and exits</div>
<div class="line">[Tuesday 18 January 2011] [10:44:35] &lt;<a href="#id693"><span class="problematic" id="id694">sustrik_</span></a>&gt;       then there&#8217;s another connection created?</div>
<div class="line">[Tuesday 18 January 2011] [10:45:05] &lt;mikko&gt;  yes</div>
<div class="line">[Tuesday 18 January 2011] [10:45:09] &lt;mikko&gt;  consume 5 at a time</div>
<div class="line">[Tuesday 18 January 2011] [10:45:18] &lt;<a href="#id695"><span class="problematic" id="id696">sustrik_</span></a>&gt;       i see</div>
<div class="line">[Tuesday 18 January 2011] [10:45:34] &lt;<a href="#id697"><span class="problematic" id="id698">sustrik_</span></a>&gt;       the messages are presumably dispatched to the old connection</div>
<div class="line">[Tuesday 18 January 2011] [10:45:45] &lt;<a href="#id699"><span class="problematic" id="id700">sustrik_</span></a>&gt;       and are dropped when the application exits</div>
<div class="line">[Tuesday 18 January 2011] [10:46:02] &lt;<a href="#id701"><span class="problematic" id="id702">sustrik_</span></a>&gt;       thus you see gaps in the sequence</div>
<div class="line">[Tuesday 18 January 2011] [10:47:48] &lt;mikko&gt;  is there any merit in XPUSH/XPULL sockets where the communication is two way, a bit like XPUB/XSUB forwarding but rather for a small ACK that the message has been received</div>
<div class="line">[Tuesday 18 January 2011] [10:48:35] &lt;mikko&gt;  i think a script that consumes five messages or so would not be a unique use-case for scripting languages</div>
<div class="line">[Tuesday 18 January 2011] [10:48:42] &lt;mikko&gt;  as the processes are often short-lived</div>
<div class="line">[Tuesday 18 January 2011] [10:53:09] &lt;mikko&gt;  and with load-balancing it&#8217;s very hard to rely on seq</div>
<div class="line">[Tuesday 18 January 2011] [10:56:18] &lt;guido_g&gt;        or retrieve and re-dispatch the messages when a new connection is established</div>
<div class="line">[Tuesday 18 January 2011] [10:57:22] &lt;mikko&gt;  are the messages currently dropped after zeromq?</div>
<div class="line">[Tuesday 18 January 2011] [11:00:46] &lt;guido_g&gt;        as far as i understood what <a href="#id703"><span class="problematic" id="id704">sustrik_</span></a> said, they&#8217;re dropped when the connection closes</div>
<div class="line">[Tuesday 18 January 2011] [11:02:19] &lt;mikko&gt;  i understood that they are  already in the network buffer (out of reach for zeromq)</div>
<div class="line">[Tuesday 18 January 2011] [11:03:45] &lt;guido_g&gt;        yes, this is the main part of the problem</div>
<div class="line">[Tuesday 18 January 2011] [11:04:08] &lt;guido_g&gt;        at least for small messages</div>
<div class="line">[Tuesday 18 January 2011] [11:06:39] &lt;guido_g&gt;        it seems the meta-pattern for mq is that you always need at least one other socket to manage the one you care about</div>
<div class="line">[Tuesday 18 January 2011] [11:07:29] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 18 January 2011] [11:08:53] &lt;<a href="#id705"><span class="problematic" id="id706">sustrik_</span></a>&gt;       to get precise hwm, duplicit ack mechanism can be implemented on 0mq level</div>
<div class="line">[Tuesday 18 January 2011] [11:09:24] &lt;mikko&gt;  i see some merit to that</div>
<div class="line">[Tuesday 18 January 2011] [11:09:32] &lt;<a href="#id707"><span class="problematic" id="id708">sustrik_</span></a>&gt;       thus, TCP would ack packets, whereas 0mq would ack messages</div>
<div class="line">[Tuesday 18 January 2011] [11:10:44] &lt;mikko&gt;  <a href="#id709"><span class="problematic" id="id710">sustrik_</span></a>: im trying to create a device which would allow replaying streams</div>
<div class="line">[Tuesday 18 January 2011] [11:11:01] &lt;<a href="#id711"><span class="problematic" id="id712">sustrik_</span></a>&gt;       what does that mean exactly?</div>
<div class="line">[Tuesday 18 January 2011] [11:11:33] &lt;mikko&gt;  well, guys i know are looking at kafka and it provides a mechanism to replay N minutes of rstream</div>
<div class="line">[Tuesday 18 January 2011] [11:11:40] &lt;mikko&gt;  so a persistent storage is involved there</div>
<div class="line">[Tuesday 18 January 2011] [11:12:10] &lt;mikko&gt;  what i was planning is to store messages and push them out to normal push socket and have separate XREP socket where you can ask for &#8220;deltas&#8221;</div>
<div class="line">[Tuesday 18 January 2011] [11:12:34] &lt;mikko&gt;  so if a consumer needs N amount of data to be productive you could request last 1000 messages or so</div>
<div class="line">[Tuesday 18 January 2011] [11:12:44] &lt;mikko&gt;  and then start consuming the pull feed</div>
<div class="line">[Tuesday 18 January 2011] [11:13:02] &lt;<a href="#id713"><span class="problematic" id="id714">sustrik_</span></a>&gt;       how does that work with PUSH socket?</div>
<div class="line">[Tuesday 18 January 2011] [11:13:08] &lt;<a href="#id715"><span class="problematic" id="id716">sustrik_</span></a>&gt;       shouldn&#8217;t it be PUB?</div>
<div class="line">[Tuesday 18 January 2011] [11:13:32] &lt;guido_g&gt;        something like ZMQ_RECOVERY_IVL?</div>
<div class="line">[Tuesday 18 January 2011] [11:13:50] &lt;mikko&gt;  it could be PUB as well but with PUB i have no information when HWM is reached</div>
<div class="line">[Tuesday 18 January 2011] [11:14:14] &lt;mikko&gt;  i started by creatign a device which writes to store when hwm is reached</div>
<div class="line">[Tuesday 18 January 2011] [11:14:32] &lt;guido_g&gt;        hwm is per connected pull, right?</div>
<div class="line">[Tuesday 18 January 2011] [11:14:38] &lt;mikko&gt;  yes</div>
<div class="line">[Tuesday 18 January 2011] [11:14:48] &lt;guido_g&gt;        so there is no overall hwm on the push side</div>
<div class="line">[Tuesday 18 January 2011] [11:14:52] &lt;mikko&gt;  no</div>
<div class="line">[Tuesday 18 January 2011] [11:15:17] &lt;guido_g&gt;        then i cant figure out why you need hwm here</div>
<div class="line">[Tuesday 18 January 2011] [11:15:53] &lt;mikko&gt;  guido_g: the behavior for PUB is to drop messages when there are no consumers</div>
<div class="line">[Tuesday 18 January 2011] [11:16:01] &lt;guido_g&gt;        ack</div>
<div class="line">[Tuesday 18 January 2011] [11:16:06] &lt;Evet&gt;   mikko: are you going to use kyoto cabinet as cache server?</div>
<div class="line">[Tuesday 18 January 2011] [11:16:08] &lt;mikko&gt;  guido_g: by writing to a PUB socket i don&#8217;t really know if consumer has got it</div>
<div class="line">[Tuesday 18 January 2011] [11:16:33] &lt;guido_g&gt;        mikko: i know</div>
<div class="line">[Tuesday 18 January 2011] [11:16:54] &lt;guido_g&gt;        but you need a per client sequence management anyway</div>
<div class="line">[Tuesday 18 January 2011] [11:17:08] &lt;mikko&gt;  guido_g: i dont need all clients receiving all messages</div>
<div class="line">[Tuesday 18 January 2011] [11:17:13] &lt;<a href="#id717"><span class="problematic" id="id718">sustrik_</span></a>&gt;       but what you want to do is to distribute the messages to <em>all</em> consumers, not load balanace them among consumers, right?</div>
<div class="line">[Tuesday 18 January 2011] [11:17:16] &lt;mikko&gt;  guido_g: im not maybe explaining this well</div>
<div class="line">[Tuesday 18 January 2011] [11:17:39] &lt;guido_g&gt;        mikko: and don&#8217;t follow you well :)</div>
<div class="line">[Tuesday 18 January 2011] [11:17:47] &lt;<a href="#id719"><span class="problematic" id="id720">sustrik_</span></a>&gt;       maybe explain the use case</div>
<div class="line">[Tuesday 18 January 2011] [11:18:29] &lt;mikko&gt;  so, what i am mixing up here is the end-system and what i have now. in the end-system i will have two kinds of consumers</div>
<div class="line">[Tuesday 18 January 2011] [11:18:55] &lt;mikko&gt;  consumer A is consuming from PUSH socket and receives every Nth message based on load-balancing</div>
<div class="line">[Tuesday 18 January 2011] [11:19:10] &lt;mikko&gt;  and consumer B which might want messages from last 20 minutes</div>
<div class="line">[Tuesday 18 January 2011] [11:19:26] &lt;mikko&gt;  the B would be XREP/XREQ i guess</div>
<div class="line">[Tuesday 18 January 2011] [11:19:49] &lt;guido_g&gt;        right</div>
<div class="line">[Tuesday 18 January 2011] [11:19:56] &lt;<a href="#id721"><span class="problematic" id="id722">sustrik_</span></a>&gt;       so B only wants a log of message</div>
<div class="line">[Tuesday 18 January 2011] [11:20:06] &lt;<a href="#id723"><span class="problematic" id="id724">sustrik_</span></a>&gt;       some of those are already processed etc.</div>
<div class="line">[Tuesday 18 January 2011] [11:20:08] &lt;guido_g&gt;        and the A type is not allowed to loose messages if one client crashes</div>
<div class="line">[Tuesday 18 January 2011] [11:20:15] &lt;mikko&gt;  guido_g: yes</div>
<div class="line">[Tuesday 18 January 2011] [11:20:17] &lt;mikko&gt;  <a href="#id725"><span class="problematic" id="id726">sustrik_</span></a>: yes</div>
<div class="line">[Tuesday 18 January 2011] [11:20:22] &lt;guido_g&gt;        ah ok</div>
<div class="line">[Tuesday 18 January 2011] [11:20:32] &lt;mikko&gt;  i need to be sure that each message is processed at least once</div>
<div class="line">[Tuesday 18 January 2011] [11:20:39] &lt;mikko&gt;  and some _might_ be processed multiple times</div>
<div class="line">[Tuesday 18 January 2011] [11:20:47] &lt;<a href="#id727"><span class="problematic" id="id728">sustrik_</span></a>&gt;       mikko: there&#8217;s no way to solve that</div>
<div class="line">[Tuesday 18 January 2011] [11:21:07] &lt;guido_g&gt;        except w/ a control socket per client</div>
<div class="line">[Tuesday 18 January 2011] [11:21:14] &lt;<a href="#id729"><span class="problematic" id="id730">sustrik_</span></a>&gt;       it&#8217;s the classis &#8220;guaranteed delivery&#8221; problem</div>
<div class="line">[Tuesday 18 January 2011] [11:21:48] &lt;<a href="#id731"><span class="problematic" id="id732">sustrik_</span></a>&gt;       when failure happens there are always some messages in &#8220;dubious&#8221; state</div>
<div class="line">[Tuesday 18 January 2011] [11:22:05] &lt;mikko&gt;  <a href="#id733"><span class="problematic" id="id734">sustrik_</span></a>: i am fine with that</div>
<div class="line">[Tuesday 18 January 2011] [11:22:18] &lt;mikko&gt;  <a href="#id735"><span class="problematic" id="id736">sustrik_</span></a>: but in the current situation i lose messages in &#8220;normal&#8221; operation</div>
<div class="line">[Tuesday 18 January 2011] [11:22:39] &lt;<a href="#id737"><span class="problematic" id="id738">sustrik_</span></a>&gt;       i see</div>
<div class="line">[Tuesday 18 January 2011] [11:22:44] &lt;mikko&gt;  a script connecting, consuming 5 and exiting</div>
<div class="line">[Tuesday 18 January 2011] [11:22:51] &lt;mikko&gt;  another script connecting, consuming 10 and exiting</div>
<div class="line">[Tuesday 18 January 2011] [11:22:59] &lt;mikko&gt;  i lose large amount of messages there</div>
<div class="line">[Tuesday 18 January 2011] [11:23:21] &lt;mikko&gt;  by lose i mean i have no visibility where they have gone</div>
<div class="line">[Tuesday 18 January 2011] [11:23:37] &lt;mikko&gt;  from my device point of view i have sent them and from consumer point of view nothing has been sent</div>
<div class="line">[Tuesday 18 January 2011] [11:24:27] &lt;<a href="#id739"><span class="problematic" id="id740">sustrik_</span></a>&gt;       right, the only solution is to implement acks at 0mq level</div>
<div class="line">[Tuesday 18 January 2011] [11:24:31] &lt;mikko&gt;  if the consumer sent back &#8220;got it in 0mq, thanks&#8221; it would be enough for normal operation</div>
<div class="line">[Tuesday 18 January 2011] [11:24:34] &lt;mikko&gt;  yes</div>
<div class="line">[Tuesday 18 January 2011] [11:24:58] &lt;mikko&gt;  i don&#8217;t think this is required for all use-cases but certainly it seems useful for scripting languages</div>
<div class="line">[Tuesday 18 January 2011] [11:25:33] &lt;stimpie&gt;        Iam running an experiment where several threads send messages to one other thread using tcp. All sending threads have setHWM(2). When I suspend the receiving thread the others keep sending.</div>
<div class="line">[Tuesday 18 January 2011] [11:25:39] &lt;guido_g&gt;        also for the classic butterfly pattern</div>
<div class="line">[Tuesday 18 January 2011] [11:26:00] &lt;stimpie&gt;        If I resume the receiving thread after more then 100 sent messages it receives them all.</div>
<div class="line">[Tuesday 18 January 2011] [11:26:21] &lt;<a href="#id741"><span class="problematic" id="id742">sustrik_</span></a>&gt;       mikko, guido_g: yes, it&#8217;s specific to push/pull pattern</div>
<div class="line">[Tuesday 18 January 2011] [11:26:27] &lt;stimpie&gt;        I was expecting only 2 messages would be queued</div>
<div class="line">[Tuesday 18 January 2011] [11:26:59] &lt;<a href="#id743"><span class="problematic" id="id744">sustrik_</span></a>&gt;       stimpie: you have to use latest version of 0mq from github and set HWM on both sending and receiving side</div>
<div class="line">[Tuesday 18 January 2011] [11:27:24] &lt;<a href="#id745"><span class="problematic" id="id746">sustrik_</span></a>&gt;       mikko, guido_g: i see two options here</div>
<div class="line">[Tuesday 18 January 2011] [11:27:31] &lt;<a href="#id747"><span class="problematic" id="id748">sustrik_</span></a>&gt;       1. standard acks</div>
<div class="line">[Tuesday 18 January 2011] [11:27:40] &lt;guido_g&gt;        i&#8217;m atm writing something for this in python, a thing that acts as start and endpoint of a butterfly like systems</div>
<div class="line">[Tuesday 18 January 2011] [11:28:34] &lt;<a href="#id749"><span class="problematic" id="id750">sustrik_</span></a>&gt;       the obvious problem with acks is that if the peer exits without acking all the messages dispatched to it, those have to be rescheduled</div>
<div class="line">[Tuesday 18 January 2011] [11:28:39] &lt;<a href="#id751"><span class="problematic" id="id752">sustrik_</span></a>&gt;       to another peer</div>
<div class="line">[Tuesday 18 January 2011] [11:28:49] &lt;<a href="#id753"><span class="problematic" id="id754">sustrik_</span></a>&gt;       thus ordering is not preserved</div>
<div class="line">[Tuesday 18 January 2011] [11:28:57] &lt;guido_g&gt;        right, so one need to keep a backlog</div>
<div class="line">[Tuesday 18 January 2011] [11:29:07] &lt;guido_g&gt;        right</div>
<div class="line">[Tuesday 18 January 2011] [11:29:18] &lt;<a href="#id755"><span class="problematic" id="id756">sustrik_</span></a>&gt;       for example, peer may get messages 1,2,3,7,8,9,4,5,6</div>
<div class="line">[Tuesday 18 January 2011] [11:29:44] &lt;<a href="#id757"><span class="problematic" id="id758">sustrik_</span></a>&gt;       another option would be implementing an explicit shutdown handshake</div>
<div class="line">[Tuesday 18 January 2011] [11:29:51] &lt;guido_g&gt;        but you can&#8217;t preserve order on a push -&gt; multiple pull system anyway</div>
<div class="line">[Tuesday 18 January 2011] [11:30:08] &lt;<a href="#id759"><span class="problematic" id="id760">sustrik_</span></a>&gt;       client says &#8220;i am about to exit&#8221;</div>
<div class="line">[Tuesday 18 January 2011] [11:30:21] &lt;guido_g&gt;        ahh like shutdown(1)</div>
<div class="line">[Tuesday 18 January 2011] [11:30:25] &lt;<a href="#id761"><span class="problematic" id="id762">sustrik_</span></a>&gt;       then it consumes all remaining messages</div>
<div class="line">[Tuesday 18 January 2011] [11:30:29] &lt;<a href="#id763"><span class="problematic" id="id764">sustrik_</span></a>&gt;       then it exits</div>
<div class="line">[Tuesday 18 January 2011] [11:30:41] &lt;<a href="#id765"><span class="problematic" id="id766">sustrik_</span></a>&gt;       there&#8217;s no re-ordering problem there</div>
<div class="line">[Tuesday 18 January 2011] [11:30:46] &lt;mikko&gt;  so like linger for incoming</div>
<div class="line">[Tuesday 18 January 2011] [11:30:50] &lt;guido_g&gt;        nice, but wouldn&#8217;t help much in case if failure</div>
<div class="line">[Tuesday 18 January 2011] [11:30:54] &lt;guido_g&gt;        <a href="#id33"><span class="problematic" id="id34">*</span></a>of failure</div>
<div class="line">[Tuesday 18 January 2011] [11:30:56] &lt;<a href="#id767"><span class="problematic" id="id768">sustrik_</span></a>&gt;       but, otoh, the shudown sequence may hang up</div>
<div class="line">[Tuesday 18 January 2011] [11:31:07] &lt;<a href="#id769"><span class="problematic" id="id770">sustrik_</span></a>&gt;       yes, same as linger, just in opposite direction</div>
<div class="line">[Tuesday 18 January 2011] [11:31:27] &lt;<a href="#id771"><span class="problematic" id="id772">sustrik_</span></a>&gt;       yes, it would work only for orderly shutdown</div>
<div class="line">[Tuesday 18 January 2011] [11:31:40] &lt;<a href="#id773"><span class="problematic" id="id774">sustrik_</span></a>&gt;       however, reliable delivery in case of failure is a myth</div>
<div class="line">[Tuesday 18 January 2011] [11:32:09] &lt;<a href="#id775"><span class="problematic" id="id776">sustrik_</span></a>&gt;       the problem can be mitigated, but never solved</div>
<div class="line">[Tuesday 18 January 2011] [11:33:46] &lt;guido_g&gt;        right</div>
<div class="line">[Tuesday 18 January 2011] [11:34:12] &lt;guido_g&gt;        but the mitigation would/does help a lot in most cases</div>
<div class="line">[Tuesday 18 January 2011] [11:34:44] &lt;mikko&gt;  i am inclined to say that ACK makes it a bit more resilient. maybe we can document that the trade-off is that delivery order will not be guaranteed</div>
<div class="line">[Tuesday 18 January 2011] [11:35:18] &lt;<a href="#id777"><span class="problematic" id="id778">sustrik_</span></a>&gt;       yes, possibly</div>
<div class="line">[Tuesday 18 January 2011] [11:35:25] &lt;mikko&gt;  also there is a throughput trade-off as well</div>
<div class="line">[Tuesday 18 January 2011] [11:35:37] &lt;mikko&gt;  but there always is</div>
<div class="line">[Tuesday 18 January 2011] [11:35:59] &lt;<a href="#id779"><span class="problematic" id="id780">sustrik_</span></a>&gt;       actually, with butterfly pattern there&#8217;s no overall ordering guaranteed anyway</div>
<div class="line">[Tuesday 18 January 2011] [11:36:08] &lt;guido_g&gt;        as i said</div>
<div class="line">[Tuesday 18 January 2011] [11:36:12] &lt;<a href="#id781"><span class="problematic" id="id782">sustrik_</span></a>&gt;       if you have at least 2 workers</div>
<div class="line">[Tuesday 18 January 2011] [11:36:21] &lt;guido_g&gt;        hehe</div>
<div class="line">[Tuesday 18 January 2011] [11:36:29] &lt;<a href="#id783"><span class="problematic" id="id784">sustrik_</span></a>&gt;       they can process messages at different speeds</div>
<div class="line">[Tuesday 18 January 2011] [11:36:36] &lt;<a href="#id785"><span class="problematic" id="id786">sustrik_</span></a>&gt;       and thus mix the stream</div>
<div class="line">[Tuesday 18 January 2011] [11:36:50] &lt;<a href="#id787"><span class="problematic" id="id788">sustrik_</span></a>&gt;       when it gets joined in the next step</div>
<div class="line">[Tuesday 18 January 2011] [11:37:14] &lt;<a href="#id789"><span class="problematic" id="id790">sustrik_</span></a>&gt;       mikko: i don&#8217;t think there&#8217;s much of throughput impact</div>
<div class="line">[Tuesday 18 January 2011] [11:37:29] &lt;<a href="#id791"><span class="problematic" id="id792">sustrik_</span></a>&gt;       the acks can be sent oportunistically</div>
<div class="line">[Tuesday 18 January 2011] [11:37:34] &lt;<a href="#id793"><span class="problematic" id="id794">sustrik_</span></a>&gt;       just once in a while</div>
<div class="line">[Tuesday 18 January 2011] [11:37:45] &lt;<a href="#id795"><span class="problematic" id="id796">sustrik_</span></a>&gt;       thus having close to zero performance impact</div>
<div class="line">[Tuesday 18 January 2011] [11:40:32] &lt;mikko&gt;  hmm, that sounds pretty good</div>
<div class="line">[Tuesday 18 January 2011] [11:41:19] &lt;mikko&gt;  is the same infrastructure that is used in subscription forwarding suitable for this?</div>
<div class="line">[Tuesday 18 January 2011] [11:41:52] &lt;<a href="#id797"><span class="problematic" id="id798">sustrik_</span></a>&gt;       the nice thing is that at most 1 message would be lost even in the case of failure</div>
<div class="line">[Tuesday 18 January 2011] [11:42:02] &lt;<a href="#id799"><span class="problematic" id="id800">sustrik_</span></a>&gt;       the one that was being processed at the moment</div>
<div class="line">[Tuesday 18 January 2011] [11:42:10] &lt;<a href="#id801"><span class="problematic" id="id802">sustrik_</span></a>&gt;       mikko: not really</div>
<div class="line">[Tuesday 18 January 2011] [11:42:50] &lt;<a href="#id803"><span class="problematic" id="id804">sustrik_</span></a>&gt;       different functionality is needed</div>
<div class="line">[Tuesday 18 January 2011] [11:43:15] &lt;<a href="#id805"><span class="problematic" id="id806">sustrik_</span></a>&gt;       the socket would have to keep list of sent but unacked messages</div>
<div class="line">[Tuesday 18 January 2011] [11:43:25] &lt;<a href="#id807"><span class="problematic" id="id808">sustrik_</span></a>&gt;       trim it when ack is received</div>
<div class="line">[Tuesday 18 January 2011] [11:43:47] &lt;<a href="#id809"><span class="problematic" id="id810">sustrik_</span></a>&gt;       and resend the messages in case of connection failure</div>
<div class="line">[Tuesday 18 January 2011] [11:44:15] &lt;<a href="#id811"><span class="problematic" id="id812">sustrik_</span></a>&gt;       there are some strange corner cases involved</div>
<div class="line">[Tuesday 18 January 2011] [11:44:32] &lt;<a href="#id813"><span class="problematic" id="id814">sustrik_</span></a>&gt;       say, what if connection fails and there&#8217;s no other connection to resend the messages?</div>
<div class="line">[Tuesday 18 January 2011] [11:45:37] &lt;mikko&gt;  buffer the messages and honor HWM?</div>
<div class="line">[Tuesday 18 January 2011] [11:45:53] &lt;<a href="#id815"><span class="problematic" id="id816">sustrik_</span></a>&gt;       dunno</div>
<div class="line">[Tuesday 18 January 2011] [11:45:59] &lt;<a href="#id817"><span class="problematic" id="id818">sustrik_</span></a>&gt;       i&#8217;m just thinking aloud</div>
<div class="line">[Tuesday 18 January 2011] [11:46:19] &lt;mikko&gt;  there also might be duplicate delivery</div>
<div class="line">[Tuesday 18 January 2011] [11:46:25] &lt;mikko&gt;  i guess</div>
<div class="line">[Tuesday 18 January 2011] [11:46:42] &lt;<a href="#id819"><span class="problematic" id="id820">sustrik_</span></a>&gt;       yes</div>
<div class="line">[Tuesday 18 January 2011] [11:46:47] &lt;mikko&gt;  unless you ACK the ACK</div>
<div class="line">[Tuesday 18 January 2011] [11:46:56] &lt;mikko&gt;  then you need to ACK the ACK ACK with ACK</div>
<div class="line">[Tuesday 18 January 2011] [11:47:02] &lt;<a href="#id821"><span class="problematic" id="id822">sustrik_</span></a>&gt;       as i said</div>
<div class="line">[Tuesday 18 January 2011] [11:47:08] &lt;<a href="#id823"><span class="problematic" id="id824">sustrik_</span></a>&gt;       it&#8217;s unsiolvable problem</div>
<div class="line">[Tuesday 18 January 2011] [11:47:23] &lt;<a href="#id825"><span class="problematic" id="id826">sustrik_</span></a>&gt;       you can mitigate it ba adding more acks</div>
<div class="line">[Tuesday 18 January 2011] [11:47:23] &lt;mikko&gt;  but if we optimize for normal operation</div>
<div class="line">[Tuesday 18 January 2011] [11:47:27] &lt;<a href="#id827"><span class="problematic" id="id828">sustrik_</span></a>&gt;       and ackacks etc;</div>
<div class="line">[Tuesday 18 January 2011] [11:48:28] &lt;mikko&gt;  i think ACK is good enough for majority of the cases</div>
<div class="line">[Tuesday 18 January 2011] [11:48:32] &lt;<a href="#id829"><span class="problematic" id="id830">sustrik_</span></a>&gt;       yes</div>
<div class="line">[Tuesday 18 January 2011] [11:50:59] &lt;traviscline&gt;    if there are any geventers: <a class="reference external" href="https://github.com/traviscline/gevent-zeromq">https://github.com/traviscline/gevent-zeromq</a></div>
<div class="line">[Tuesday 18 January 2011] [11:51:17] &lt;traviscline&gt;    mikko: thanks again for the input, going to get a little perf bench set up and cythonify it</div>
<div class="line">[Tuesday 18 January 2011] [13:30:51] &lt;lechon&gt; hello, is anyone having problems with the lua binding?</div>
<div class="line">[Tuesday 18 January 2011] [13:31:43] &lt;lechon&gt; i just installed a fresh zeromq, lua, and lua-zmq bindings: <a class="reference external" href="http://codepad.org/W55ZpKIh">http://codepad.org/W55ZpKIh</a></div>
<div class="line">[Tuesday 18 January 2011] [13:32:01] &lt;lechon&gt; zmq.DOWNSTREAM is nil?</div>
<div class="line">[Tuesday 18 January 2011] [13:35:07] &lt;guido_g&gt;        ouch</div>
<div class="line">[Tuesday 18 January 2011] [13:35:15] &lt;guido_g&gt;        DOWNSTRWAM is old</div>
<div class="line">[Tuesday 18 January 2011] [13:35:18] &lt;guido_g&gt;        very old</div>
<div class="line">[Tuesday 18 January 2011] [13:35:38] &lt;guido_g&gt;        so i guess the bindings are not up to date</div>
<div class="line">[Tuesday 18 January 2011] [13:36:35] &lt;lechon&gt; ohh</div>
<div class="line">[Tuesday 18 January 2011] [13:36:59] &lt;lechon&gt; i see PUSH and PULL work</div>
<div class="line">[Tuesday 18 January 2011] [13:37:01] &lt;lechon&gt; whoops</div>
<div class="line">[Tuesday 18 January 2011] [13:37:30] &lt;guido_g&gt;        case closed :)</div>
<div class="line">[Tuesday 18 January 2011] [14:55:22] &lt;ngerakines&gt;     hey folks</div>
<div class="line">[Tuesday 18 January 2011] [14:55:41] &lt;ngerakines&gt;     I&#8217;ve got a question about connection timeouts</div>
<div class="line">[Tuesday 18 January 2011] [14:55:45] &lt;ngerakines&gt;     anyone around?</div>
<div class="line">[Tuesday 18 January 2011] [14:59:31] &lt;traviscline&gt;    ngerakines: general irc etiquette is to just ask, don&#8217;t ask to ask</div>
<div class="line">[Tuesday 18 January 2011] [14:59:41] &lt;ngerakines&gt;     fair enough</div>
<div class="line">[Tuesday 18 January 2011] [15:23:49] &lt;cremes&gt; ngerakines: so what&#8217;s your questino?</div>
<div class="line">[Tuesday 18 January 2011] [15:28:27] &lt;lechon&gt; is any kind of unreliable transport like udp supported?</div>
<div class="line">[Tuesday 18 January 2011] [15:29:26] &lt;cremes&gt; lechon: not right now but new transports can be added</div>
<div class="line">[Tuesday 18 January 2011] [15:29:32] &lt;cremes&gt; search the mailing list for earlier discussions</div>
<div class="line">[Tuesday 18 January 2011] [15:29:51] &lt;cremes&gt; i think the main devs want to clean up that api a bit to make this easier; having someone actually work on adding UDP</div>
<div class="line">[Tuesday 18 January 2011] [15:30:00] &lt;cremes&gt; would be a great exercise for doing that cleanup</div>
<div class="line">[Tuesday 18 January 2011] [15:30:47] &lt;mikko&gt;  udp is slightly problematic for certain semantics</div>
<div class="line">[Tuesday 18 January 2011] [15:31:32] &lt;lechon&gt; is there some kind of state overhead that needs to be reliable?</div>
<div class="line">[Tuesday 18 January 2011] [15:32:14] &lt;mikko&gt;  lechon: well, for example it&#8217;s guaranteed that you will only receive full messages</div>
<div class="line">[Tuesday 18 January 2011] [15:32:31] &lt;mikko&gt;  sending larger messages over udp means that all packets must arrive</div>
<div class="line">[Tuesday 18 January 2011] [15:32:39] &lt;mikko&gt;  if you lose a packet in the middle you need retransmission</div>
<div class="line">[Tuesday 18 January 2011] [15:33:09] &lt;lechon&gt; handling it the naive way would just be inefficient</div>
<div class="line">[Tuesday 18 January 2011] [15:33:47] &lt;lechon&gt; yet probably acceptable for applications electing to use udp (where perhaps a single dropped packet renders the entire message useless)</div>
<div class="line">[Tuesday 18 January 2011] [15:36:28] &lt;mikko&gt;  there hasn&#8217;t been that much talk about UDP to be fair</div>
<div class="line">[Tuesday 18 January 2011] [15:36:38] &lt;mikko&gt;  i remember there has been discussion about SCTP</div>
<div class="line">[Tuesday 18 January 2011] [15:36:43] &lt;mikko&gt;  and a few others</div>
<div class="line">[Tuesday 18 January 2011] [15:38:09] &lt;mikko&gt;  i remember UDT being mentioned at some point</div>
<div class="line">[Tuesday 18 January 2011] [15:39:17] &lt;lechon&gt; i was able to find these two on the mailing list archive: <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-January/001910.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-January/001910.html</a>, <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-January/001700.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-January/001700.html</a></div>
<div class="line">[Tuesday 18 January 2011] [15:40:12] &lt;mikko&gt;  yes, you can use openpgm over udp</div>
<div class="line">[Tuesday 18 January 2011] [15:40:22] &lt;mikko&gt;  but that&#8217;s not strictly UDP semantics</div>
<div class="line">[Tuesday 18 January 2011] [15:41:38] &lt;lechon&gt; i&#8217;m trying to stream over the internet and can cope with lost packets so unreliable would be preferable</div>
<div class="line">[Tuesday 18 January 2011] [15:53:29] &lt;ngerakines&gt;     Sorry, got pulled into a meeting</div>
<div class="line">[Tuesday 18 January 2011] [15:54:08] &lt;ngerakines&gt;     Is there any further documentation on handling connection timouts?</div>
<div class="line">[Tuesday 18 January 2011] [15:55:23] &lt;mikko&gt;  ngerakines: no, not really</div>
<div class="line">[Tuesday 18 January 2011] [15:55:31] &lt;ngerakines&gt;     bummer</div>
<div class="line">[Tuesday 18 January 2011] [15:55:37] &lt;mikko&gt;  ngerakines: what sort of situation?</div>
<div class="line">[Tuesday 18 January 2011] [15:55:48] &lt;mikko&gt;  ngerakines: in most cases you shouldn&#8217;t care about connection timeouts etc</div>
<div class="line">[Tuesday 18 January 2011] [15:55:57] &lt;mikko&gt;  as zeromq takes care of reconnecting under the hood</div>
<div class="line">[Tuesday 18 January 2011] [15:56:17] &lt;ngerakines&gt;     I&#8217;ve got a small client executable that creates a request to  a daemon that may or may not be up, but when it isn&#8217;t, the app hangs until a connection can be established</div>
<div class="line">[Tuesday 18 January 2011] [15:56:41] &lt;mikko&gt;  you can use zmq_poll</div>
<div class="line">[Tuesday 18 January 2011] [15:56:48] &lt;ngerakines&gt;     with my understand of things, the next thing to do would be use a while loop and zmq_poll ... yeah</div>
<div class="line">[Tuesday 18 January 2011] [15:57:01] &lt;mikko&gt;  or you can do non blocking send</div>
<div class="line">[Tuesday 18 January 2011] [15:57:17] &lt;ngerakines&gt;     reference?</div>
<div class="line">[Tuesday 18 January 2011] [15:57:21] &lt;mikko&gt;  depends on what you want to do if the daemon is not up</div>
<div class="line">[Tuesday 18 January 2011] [15:57:35] &lt;mikko&gt;  wait or just forget about it</div>
<div class="line">[Tuesday 18 January 2011] [15:59:23] &lt;ngerakines&gt;     just forget about it is preferable</div>
<div class="line">[Tuesday 18 January 2011] [16:00:07] &lt;mikko&gt;  ok, then you can use a non-blocking send</div>
<div class="line">[Tuesday 18 January 2011] [16:00:12] &lt;mikko&gt;  which language are you using?</div>
<div class="line">[Tuesday 18 January 2011] [16:00:13] &lt;ngerakines&gt;     this executable is called hundreds of thousands to millions of times a day</div>
<div class="line">[Tuesday 18 January 2011] [16:00:14] &lt;ngerakines&gt;     c++</div>
<div class="line">[Tuesday 18 January 2011] [16:00:29] &lt;ngerakines&gt;     so when it hangs, it can cause system/resource issues</div>
<div class="line">[Tuesday 18 January 2011] [16:00:33] &lt;mikko&gt;  pass ZMQ_NOBLOCK as second arg to -&gt;send ()</div>
<div class="line">[Tuesday 18 January 2011] [16:00:35] &lt;ngerakines&gt;     ok</div>
<div class="line">[Tuesday 18 January 2011] [16:00:42] &lt;ngerakines&gt;     thanks much!</div>
<div class="line">[Tuesday 18 January 2011] [16:00:53] &lt;mikko&gt;  it will return false if the message was not sent</div>
<div class="line">[Tuesday 18 January 2011] [16:00:59] &lt;mikko&gt;  and errno will be set to EAGAIN</div>
<div class="line">[Tuesday 18 January 2011] [16:01:26] &lt;ngerakines&gt;     great, i&#8217;ll readup on it as well</div>
<div class="line">[Tuesday 18 January 2011] [17:03:50] &lt;lechon&gt; mikko, from browsing the source a i get the feeling that udp versions of tcp_connecter and tcp_listener would need to be written</div>
<div class="line">[Tuesday 18 January 2011] [17:09:44] &lt;mikko&gt;  and possibly tcp_socket</div>
<div class="line">[Tuesday 18 January 2011] [17:09:49] &lt;mikko&gt;  not sure if that is identical</div>
<div class="line">[Tuesday 18 January 2011] [17:10:34] &lt;mikko&gt;  the problematic thing with udp is that you might connect to let&#8217;s say 10 endpoints</div>
<div class="line">[Tuesday 18 January 2011] [17:10:46] &lt;mikko&gt;  and if 8 of them go down how do you know about it?</div>
<div class="line">[Tuesday 18 January 2011] [17:11:09] &lt;mikko&gt;  somehow i think in the context of zeromq tcp makes a lot more sense</div>
<div class="line">[Tuesday 18 January 2011] [17:11:35] &lt;lechon&gt; hmm</div>
<div class="line">[Tuesday 18 January 2011] [17:11:49] &lt;mikko&gt;  like for example PUSH socket will load-balance between connections</div>
<div class="line">[Tuesday 18 January 2011] [17:12:03] &lt;mikko&gt;  and stops dispatching messages to peers that fail</div>
<div class="line">[Tuesday 18 January 2011] [17:12:11] &lt;mikko&gt;  with udp this semantic doesn&#8217;t really work</div>
<div class="line">[Tuesday 18 January 2011] [17:12:24] &lt;mikko&gt;  unless you do explicit ACKs from the consumers</div>
<div class="line">[Tuesday 18 January 2011] [17:15:27] &lt;lechon&gt; i see what you mean</div>
<div class="line">[Tuesday 18 January 2011] [17:15:37] &lt;cremes&gt; i think for udp you would just say this is transport-specific behavior</div>
<div class="line">[Tuesday 18 January 2011] [17:15:41] &lt;cremes&gt; delivery is best effort</div>
<div class="line">[Tuesday 18 January 2011] [17:16:01] &lt;cremes&gt; if you start adding acks, you are duplicating tcp (and probably poorly)</div>
<div class="line">[Tuesday 18 January 2011] [17:16:12] &lt;mikko&gt;  i don&#8217;t see whether there is that much merit to udp in message oriented communications</div>
<div class="line">[Tuesday 18 January 2011] [17:16:13] &lt;lechon&gt; yeah. when you elect to use udp you probably have some out-of-channel way to determine when to stop sending to a particular host</div>
<div class="line">[Tuesday 18 January 2011] [17:16:35] &lt;lechon&gt; its not zeromq&#8217;s concern</div>
<div class="line">[Tuesday 18 January 2011] [17:16:59] &lt;cremes&gt; right</div>
<div class="line">[Tuesday 18 January 2011] [17:17:31] &lt;cremes&gt; as for keeping message delivery atomic, i think that would be transport-specific too</div>
<div class="line">[Tuesday 18 January 2011] [17:17:47] &lt;cremes&gt; if a message part gets lost in delivery, drop the whole message</div>
<div class="line">[Tuesday 18 January 2011] [17:17:56] &lt;lechon&gt; yep</div>
<div class="line">[Tuesday 18 January 2011] [17:18:12] &lt;cremes&gt; udp packets can be up to 64k in length, right?</div>
<div class="line">[Tuesday 18 January 2011] [17:19:02] &lt;lechon&gt; yes</div>
<div class="line">[Tuesday 18 January 2011] [17:19:21] &lt;lechon&gt; including header</div>
<div class="line">[Tuesday 18 January 2011] [17:19:50] &lt;cremes&gt; perhaps the udp transport could just coalesce all parts into one packet before sending, kind of like the nagle algo</div>
<div class="line">[Tuesday 18 January 2011] [17:20:13] &lt;lechon&gt; what do you mean &#8220;all parts&#8221;?</div>
<div class="line">[Tuesday 18 January 2011] [17:20:15] &lt;cremes&gt; and then set a max of 64k (minus headers) for messages using that transport</div>
<div class="line">[Tuesday 18 January 2011] [17:20:35] &lt;cremes&gt; are you aware of the RCV_MORE and SND_MORE flags?</div>
<div class="line">[Tuesday 18 January 2011] [17:20:44] &lt;mikko&gt;  cremes: assuming the total size is &lt; 64k</div>
<div class="line">[Tuesday 18 January 2011] [17:20:47] &lt;lechon&gt; no :/</div>
<div class="line">[Tuesday 18 January 2011] [17:20:53] &lt;cremes&gt; mikko: yes</div>
<div class="line">[Tuesday 18 January 2011] [17:21:17] &lt;cremes&gt; lechon: check those out; they let you logically split up a message into parts for 0mq to deliver as an atomic whole</div>
<div class="line">[Tuesday 18 January 2011] [17:21:26] &lt;cremes&gt; i.e. message-oriented streaming</div>
<div class="line">[Tuesday 18 January 2011] [17:21:45] &lt;mikko&gt;  the thing i am wondering is whether you actually need zeromq for udp? most of the functionality will be specifc to udp</div>
<div class="line">[Tuesday 18 January 2011] [17:22:12] &lt;cremes&gt; 0mq still provides some neat abstractions for it</div>
<div class="line">[Tuesday 18 January 2011] [17:22:14] &lt;mikko&gt;  effectively you just need to frame the messages and you are about at the same point as you are with zeromq + udp</div>
<div class="line">[Tuesday 18 January 2011] [17:22:14] &lt;lechon&gt; mikko, the zeromq interface is nice :]</div>
<div class="line">[Tuesday 18 January 2011] [17:22:22] &lt;cremes&gt; though it&#8217;s less useful for udp than other protocols</div>
<div class="line">[Tuesday 18 January 2011] [17:24:39] &lt;lechon&gt; yes, coalescing all of the parts of those split messages would make sense</div>
<div class="line">[Tuesday 18 January 2011] [17:26:09] &lt;lechon&gt; the receiving end would need to drop the entire message if it all of the parts couldn&#8217;t fit into one udp packet and one got lost</div>
<div class="line">[Tuesday 18 January 2011] [17:28:22] &lt;lechon&gt; when sending multipart messages like that does 0mq have a protocol for communicating the number of parts the receiver should expect?</div>
<div class="line">[Tuesday 18 January 2011] [17:30:39] &lt;mikko&gt;  looks like the udp transport earlier was epgm</div>
<div class="line">[Tuesday 18 January 2011] [17:30:43] &lt;mikko&gt;  looking at changelog</div>
<div class="line">[Tuesday 18 January 2011] [17:30:51] &lt;mikko&gt;  so there never was a real UDP transport</div>
<div class="line">[Tuesday 18 January 2011] [17:33:25] &lt;lechon&gt; looks like it is used in resolve_nic_name for solaris/aix/hpux :P</div>
<div class="line">[Tuesday 18 January 2011] [17:44:05] &lt;lechon&gt; or is the number of parts usually encoded in the tcp packets?</div>
<div class="line">[Tuesday 18 January 2011] [17:46:34] &lt;mikko&gt;  lechon: sorry?</div>
<div class="line">[Tuesday 18 January 2011] [17:49:13] &lt;lechon&gt; i was referring to my previous question about how multipart messages are delivered with the existing transports</div>
<div class="line">[Tuesday 18 January 2011] [17:50:19] &lt;traviscline&gt;    ngerakines: general irc etiquette is to just ask, don&#8217;t ask to ask</div>
<div class="line">[Tuesday 18 January 2011] [17:50:32] &lt;traviscline&gt;    ngerakines: hey sorry, accidentlly hit up-enter</div>
<div class="line">[Tuesday 18 January 2011] [17:50:45] &lt;ngerakines&gt;     np</div>
<div class="line">[Tuesday 18 January 2011] [17:53:23] &lt;mikko&gt;  lechon: the number of parts doesn&#8217;t need to be known beforehand</div>
<div class="line">[Tuesday 18 January 2011] [17:53:49] &lt;mikko&gt;  on the sender size ZMQ_SNDMORE flag indicates that the next part will be a part of multipart message</div>
<div class="line">[Tuesday 18 January 2011] [17:54:10] &lt;mikko&gt;  a message after one or more ZMQ_SNDMORE sends terminates the multipart message</div>
<div class="line">[Tuesday 18 January 2011] [17:54:29] &lt;mikko&gt;  on the receivers size there ZMQ_RCVMORE which indicates whether more parts are coming</div>
<div class="line">[Tuesday 18 January 2011] [17:56:01] &lt;lechon&gt; it is up to the user to make sure that the receiver calls RCVMORE the same number of times that the sender calls SNDMORE?</div>
<div class="line">[Tuesday 18 January 2011] [17:56:27] &lt;mikko&gt;  well, if the user wants to be aware of multipart messages</div>
<div class="line">[Tuesday 18 January 2011] [17:56:46] &lt;mikko&gt;  you could just receive a message at a time without having to acknowledge that it&#8217;s actually one multipart message</div>
<div class="line">[Tuesday 18 January 2011] [17:57:46] &lt;lechon&gt; that should work fine with udp and coalesced packets</div>
<div class="line">[Tuesday 18 January 2011] [17:58:01] &lt;cremes&gt; lechon: yes, you loop on receiving msg parts until getsockopt(RCVMORE) becomes false</div>
<div class="line">[Tuesday 18 January 2011] [17:59:19] &lt;mikko&gt;  lechon: how do you maintain low latency in cases where you dont have constant throughput?</div>
<div class="line">[Tuesday 18 January 2011] [17:59:52] &lt;mikko&gt;  lets say user pushes 2K to the buffer. would there be a timer that waits for more?</div>
<div class="line">[Tuesday 18 January 2011] [18:00:08] &lt;mikko&gt;  well, a timer that triggers after certain period if no more messages come?</div>
<div class="line">[Tuesday 18 January 2011] [18:00:23] &lt;lechon&gt; hmm, thats an interesting problem</div>
<div class="line">[Tuesday 18 January 2011] [18:00:50] &lt;lechon&gt; it would have to be a user defined timer, and that might (?) be a messy interface change</div>
<div class="line">[Tuesday 18 January 2011] [18:01:23] &lt;mikko&gt;  probably not messy</div>
<div class="line">[Tuesday 18 January 2011] [18:01:29] &lt;mikko&gt;  sockopt that says the timeout</div>
<div class="line">[Tuesday 18 January 2011] [18:01:49] &lt;mikko&gt;  but any kind of timeout would probably introduce latency in environment where you are not constantly pushing message</div>
<div class="line">[Tuesday 18 January 2011] [18:01:52] &lt;mikko&gt;  s</div>
<div class="line">[Tuesday 18 January 2011] [18:02:40] &lt;lechon&gt; for asynchronous sends it would be kind of easy. messages could be coalesced on the queue.</div>
<div class="line">[Tuesday 18 January 2011] [18:04:05] &lt;lechon&gt; in many cases the user would probably not want additional latency... udp was selected for a reason</div>
<div class="line">[Tuesday 18 January 2011] [18:04:35] &lt;mikko&gt;  all sends are asyncronous in a way when dealing with zeromq</div>
<div class="line">[Tuesday 18 January 2011] [18:04:56] &lt;mikko&gt;  you are pushing the message to io thread rather than actually dealing with a socket</div>
<div class="line">[Tuesday 18 January 2011] [18:05:02] &lt;lechon&gt; so sock:send(msg) just queues msg up and returns immediately?</div>
<div class="line">[Tuesday 18 January 2011] [18:05:20] &lt;mikko&gt;  lechon: there are different socket options affecting the behavior</div>
<div class="line">[Tuesday 18 January 2011] [18:05:29] &lt;mikko&gt;  and there are different behaviors with different socket types</div>
<div class="line">[Tuesday 18 January 2011] [18:05:38] &lt;mikko&gt;  in some cases it might block</div>
<div class="line">[Tuesday 18 January 2011] [18:06:19] &lt;lechon&gt; ok. sorry, i haven&#8217;t really used 0mq yet</div>
<div class="line">[Tuesday 18 January 2011] [18:06:40] &lt;mikko&gt;  what is the use-case you are looking udp for?</div>
<div class="line">[Tuesday 18 January 2011] [18:07:12] &lt;mikko&gt;  also, it might possibly be beneficial to look into UDT</div>
<div class="line">[Tuesday 18 January 2011] [18:07:13] &lt;lechon&gt; given that, it might make sense to only attempt packet coalescing when in &#8220;async mode&#8221; and things can be grouped on the internal queue</div>
<div class="line">[Tuesday 18 January 2011] [18:07:25] &lt;mikko&gt;  as it seems to provide some semantics that are common for zeromq sockets</div>
<div class="line">[Tuesday 18 January 2011] [18:07:55] &lt;lechon&gt; reliable, yuck :P</div>
<div class="line">[Tuesday 18 January 2011] [18:08:20] &lt;lechon&gt; my use-case is streaming video over internet</div>
<div class="line">[Tuesday 18 January 2011] [18:08:36] &lt;mikko&gt;  a certain amount of reliability on transport layer makes sense with message oriented approach in my opinion</div>
<div class="line">[Tuesday 18 January 2011] [18:08:58] &lt;mikko&gt;  as you are not really dealing with packets or streams but rather with a concept of message</div>
<div class="line">[Tuesday 18 January 2011] [18:11:44] &lt;lechon&gt; streams are just a sequence of messages, but i get your point</div>
<div class="line">[Tuesday 18 January 2011] [18:11:50] &lt;mikko&gt;  as in i assume if you stream video you are not actually dealing with messages but rather packets. and the next packet doesnt really depend on the previous packet</div>
<div class="line">[Tuesday 18 January 2011] [18:12:05] &lt;mikko&gt;  so in case of losing packet here or there the sound might jump a bit or so</div>
<div class="line">[Tuesday 18 January 2011] [18:12:22] &lt;mikko&gt;  but in case of a concept of message losing a packet means that your whole message is void</div>
<div class="line">[Tuesday 18 January 2011] [18:12:31] &lt;mikko&gt;  brb</div>
<div class="line">[Tuesday 18 January 2011] [18:13:58] &lt;cremes&gt; i would only suggest msg part coalescing into 1 udp packet when someone is sending multipart messages</div>
<div class="line">[Tuesday 18 January 2011] [18:14:04] &lt;cremes&gt; otherwise, just send them asap</div>
<div class="line">[Tuesday 18 January 2011] [18:14:21] &lt;cremes&gt; i don&#8217;t see why you would ever want a timer for sending udp</div>
<div class="line">[Tuesday 18 January 2011] [18:15:30] &lt;lechon&gt; how do you know they are finished sending more?</div>
<div class="line">[Tuesday 18 January 2011] [18:15:52] &lt;cremes&gt; lechon: how does who know? the receiver?</div>
<div class="line">[Tuesday 18 January 2011] [18:16:26] &lt;cremes&gt; the sender knows because he doesn&#8217;t pass the SNMORE flag to send</div>
<div class="line">[Tuesday 18 January 2011] [18:16:45] &lt;cremes&gt; the receiver knows where the multipart msg ends because getsockopt(RCVMORE) returns false</div>
<div class="line">[Tuesday 18 January 2011] [18:17:06] &lt;cremes&gt; lechon: you should really read the docs; a lot of this will get cleared up once you understand 0mq a bit better</div>
<div class="line">[Tuesday 18 January 2011] [18:17:33] &lt;lechon&gt; there might be a large delay between the last send(SNDMORE) and the following send()</div>
<div class="line">[Tuesday 18 January 2011] [18:18:05] &lt;cremes&gt; in that case, the i/o thread should keep the message parts in the queue until the last part is sent</div>
<div class="line">[Tuesday 18 January 2011] [18:18:14] &lt;cremes&gt; 0mq is a message queue after all!</div>
<div class="line">[Tuesday 18 January 2011] [18:18:50] &lt;lechon&gt; heh right, but the timeout could be used to expedite that, so things dont hang round in the queue for too long</div>
<div class="line">[Tuesday 18 January 2011] [18:19:26] &lt;cremes&gt; then that breaks my suggestion for all msg parts to be coalesced into a single packet for udp transport</div>
<div class="line">[Tuesday 18 January 2011] [18:19:49] &lt;cremes&gt; it also makes it harder on the receiving application; now it has to deal with fragmented messages</div>
<div class="line">[Tuesday 18 January 2011] [18:20:13] &lt;cremes&gt; recall that udp doesn&#8217;t guarantee order, so parts could also show up in a random order</div>
<div class="line">[Tuesday 18 January 2011] [18:20:44] &lt;cremes&gt; i think forcing msg part coalescing to one packet for udp is a pretty good idea otherwise you break a lot of 0mq guarantees that other transports ge</div>
<div class="line">[Tuesday 18 January 2011] [18:20:49] &lt;cremes&gt; s/ge/get</div>
<div class="line">[Tuesday 18 January 2011] [18:21:02] &lt;cremes&gt; in that case, no timer is desired</div>
<div class="line">[Tuesday 18 January 2011] [18:21:28] &lt;lechon&gt; even if you try to coalesce all parts into a single packet, you might not be able to... the sum of all the packets may be &gt; 64k</div>
<div class="line">[Tuesday 18 January 2011] [18:21:45] &lt;lechon&gt; all the parts*</div>
<div class="line">[Tuesday 18 January 2011] [18:22:00] &lt;cremes&gt; true; so the udp transport would need to specify that 64k (minus headers) is the max message size <em>for that transport</em></div>
<div class="line">[Tuesday 18 January 2011] [18:22:22] &lt;lechon&gt; ok, sure</div>
<div class="line">[Tuesday 18 January 2011] [18:22:46] &lt;cremes&gt; we&#8217;ve now come full circle; udp isn&#8217;t a good choice for transport in 0mq</div>
<div class="line">[Tuesday 18 January 2011] [18:23:02] &lt;cremes&gt; it will likely gain other &#8220;special&#8221; cases which will make it less suitable</div>
<div class="line">[Tuesday 18 January 2011] [18:23:09] &lt;mikko&gt;  23:14 &lt; cremes&gt; i don&#8217;t see why you would ever want a timer for sending udp</div>
<div class="line">[Tuesday 18 January 2011] [18:23:16] &lt;mikko&gt;  there might be processing in creating the parts</div>
<div class="line">[Tuesday 18 January 2011] [18:23:21] &lt;cremes&gt; one of the great things about 0mq is being able to change transports without modifying your code</div>
<div class="line">[Tuesday 18 January 2011] [18:23:35] &lt;mikko&gt;  1. send part with ZMQ_SNDMORE 2. process for 10 seconds 3. send the last part</div>
<div class="line">[Tuesday 18 January 2011] [18:23:57] &lt;cremes&gt; mikko: tell me how the receiving end should handle missing msg parts</div>
<div class="line">[Tuesday 18 January 2011] [18:24:09] &lt;mikko&gt;  cremes: there are no missing parts there</div>
<div class="line">[Tuesday 18 January 2011] [18:24:18] &lt;mikko&gt;  cremes: but your problem is the sender</div>
<div class="line">[Tuesday 18 January 2011] [18:24:18] &lt;lechon&gt; if udp drops one part</div>
<div class="line">[Tuesday 18 January 2011] [18:24:25] &lt;cremes&gt; ok, then we&#8217;re talking about different things</div>
<div class="line">[Tuesday 18 January 2011] [18:24:30] &lt;mikko&gt;  that would destroy the sequence</div>
<div class="line">[Tuesday 18 January 2011] [18:24:32] &lt;cremes&gt; why do you want a timer?</div>
<div class="line">[Tuesday 18 January 2011] [18:24:45] &lt;mikko&gt;  cremes: if you want to coalesce into packets you need a timer</div>
<div class="line">[Tuesday 18 January 2011] [18:24:52] &lt;cremes&gt; explain why</div>
<div class="line">[Tuesday 18 January 2011] [18:25:01] &lt;mikko&gt;  cremes: let&#8217;s say i push 2KB to zmq_socket</div>
<div class="line">[Tuesday 18 January 2011] [18:25:07] &lt;mikko&gt;  there 62K in the packet left</div>
<div class="line">[Tuesday 18 January 2011] [18:25:08] &lt;mikko&gt;  right?</div>
<div class="line">[Tuesday 18 January 2011] [18:25:13] &lt;cremes&gt; with you so far</div>
<div class="line">[Tuesday 18 January 2011] [18:25:20] &lt;mikko&gt;  now let&#8217;s say i do processing for 10 seconds</div>
<div class="line">[Tuesday 18 January 2011] [18:25:27] &lt;mikko&gt;  and send 100K after that</div>
<div class="line">[Tuesday 18 January 2011] [18:25:37] &lt;mikko&gt;  is the 2KB pending until packet boundary is full?</div>
<div class="line">[Tuesday 18 January 2011] [18:25:58] &lt;cremes&gt; is the 2kb its own message part or is it a piece of a multipart message?</div>
<div class="line">[Tuesday 18 January 2011] [18:26:05] &lt;mikko&gt;  either way</div>
<div class="line">[Tuesday 18 January 2011] [18:26:27] &lt;lechon&gt; it should be part of a multipart for the argument to make sense i think.</div>
<div class="line">[Tuesday 18 January 2011] [18:26:28] &lt;cremes&gt; if it is NOT a message part, it should be sent immediately; no reason to coalesce</div>
<div class="line">[Tuesday 18 January 2011] [18:26:49] &lt;mikko&gt;  so let&#8217;s say it&#8217;s part of multipart message</div>
<div class="line">[Tuesday 18 January 2011] [18:27:17] &lt;mikko&gt;  when does the 2K message leave the buffer?</div>
<div class="line">[Tuesday 18 January 2011] [18:27:33] &lt;cremes&gt; then your example doesn&#8217;t work; the second/last part (100k) exceeds the max size of a single udp packet</div>
<div class="line">[Tuesday 18 January 2011] [18:27:45] &lt;mikko&gt;  cremes: my message might be larger than udp packet</div>
<div class="line">[Tuesday 18 January 2011] [18:27:53] &lt;cremes&gt; and i think it&#8217;s a really bad idea to split 0mq messages over multiple udp pakcets</div>
<div class="line">[Tuesday 18 January 2011] [18:28:14] &lt;cremes&gt; mikko: if it&#8217;s too big, pick a different transport; udp is not a good choice</div>
<div class="line">[Tuesday 18 January 2011] [18:28:31] &lt;mikko&gt;  this is why i don&#8217;t see udp as zeromq transport</div>
<div class="line">[Tuesday 18 January 2011] [18:28:40] &lt;lechon&gt; what if the second message was 50K?</div>
<div class="line">[Tuesday 18 January 2011] [18:28:49] &lt;cremes&gt; we agree then</div>
<div class="line">[Tuesday 18 January 2011] [18:28:52] &lt;mikko&gt;  it&#8217;s still problematic</div>
<div class="line">[Tuesday 18 January 2011] [18:28:59] &lt;mikko&gt;  because if my second part 20K</div>
<div class="line">[Tuesday 18 January 2011] [18:29:10] &lt;mikko&gt;  when would my first 2K leave the buffer?</div>
<div class="line">[Tuesday 18 January 2011] [18:29:17] &lt;mikko&gt;  after the message sequence is complete?</div>
<div class="line">[Tuesday 18 January 2011] [18:29:23] &lt;cremes&gt; yes</div>
<div class="line">[Tuesday 18 January 2011] [18:29:48] &lt;lechon&gt; the idea is to never send multipart parts separately</div>
<div class="line">[Tuesday 18 January 2011] [18:29:50] &lt;cremes&gt; udp transport would be limited to 64k packets; no other transport has a limitation like that</div>
<div class="line">[Tuesday 18 January 2011] [18:30:20] &lt;mikko&gt;  cremes: hence im wondering if it&#8217;s aligned with the existing transports</div>
<div class="line">[Tuesday 18 January 2011] [18:30:43] &lt;mikko&gt;  UDT and SCTP seem to be more suitable imho but maybe im not seeing the benefits</div>
<div class="line">[Tuesday 18 January 2011] [18:31:55] &lt;lechon&gt; why not allow all of the udp issues to leak to the user?</div>
<div class="line">[Tuesday 18 January 2011] [18:32:06] &lt;lechon&gt; if things are out of order, users problem.</div>
<div class="line">[Tuesday 18 January 2011] [18:32:15] &lt;lechon&gt; if a piece of the packet drops, users problem</div>
<div class="line">[Tuesday 18 January 2011] [18:32:16] &lt;lechon&gt; etc.</div>
<div class="line">[Tuesday 18 January 2011] [18:32:21] &lt;mikko&gt;  lechon: because thats one of the thing zeromq2 does for you, abstracts all that away from user</div>
<div class="line">[Tuesday 18 January 2011] [18:32:57] &lt;mikko&gt;  well, not in all cases</div>
<div class="line">[Tuesday 18 January 2011] [18:33:06] &lt;mikko&gt;  but the idea is not to care about the network transport</div>
<div class="line">[Tuesday 18 January 2011] [18:33:13] &lt;cremes&gt; exactly</div>
<div class="line">[Tuesday 18 January 2011] [18:33:14] &lt;mikko&gt;  rather think about in terms of messages</div>
<div class="line">[Tuesday 18 January 2011] [18:34:45] &lt;lechon&gt; &#8220;unreliable messages&#8221; could be a way to think about it, but i see how that would not allow interchangeable transports (unless apps were written assuming unreliability)</div>
<div class="line">[Tuesday 18 January 2011] [18:36:00] &lt;mikko&gt;  maybe there is some merit to fire-and-forget type messages</div>
<div class="line">[Tuesday 18 January 2011] [18:36:52] &lt;lechon&gt; another option could be to disallow multipart messages with udp</div>
<div class="line">[Tuesday 18 January 2011] [18:37:46] &lt;mikko&gt;  your message could still be very large</div>
<div class="line">[Tuesday 18 January 2011] [18:38:05] &lt;mikko&gt;  so the limitation of 64K per message + no multipart would require user to worry about transport type quite a lot</div>
<div class="line">[Tuesday 18 January 2011] [18:38:29] &lt;lechon&gt; without multipart, would 64K be that big of a problem?</div>
<div class="line">[Tuesday 18 January 2011] [18:38:57] &lt;lechon&gt; if one packet is dropped then the whole message is dropped</div>
<div class="line">[Tuesday 18 January 2011] [18:39:49] &lt;mikko&gt;  hmm</div>
<div class="line">[Tuesday 18 January 2011] [18:40:14] &lt;mikko&gt;  i don&#8217;t know, somehow i don&#8217;t see it fitting the model</div>
<div class="line">[Tuesday 18 January 2011] [18:40:23] &lt;mikko&gt;  but maybe have a chat with <a href="#id831"><span class="problematic" id="id832">sustrik_</span></a> as well</div>
<div class="line">[Tuesday 18 January 2011] [18:40:40] &lt;mikko&gt;  i need to sleep in any case</div>
<div class="line">[Tuesday 18 January 2011] [18:40:46] &lt;mikko&gt;  good night</div>
<div class="line">[Tuesday 18 January 2011] [18:43:59] &lt;lechon&gt; night</div>
<div class="line">[Tuesday 18 January 2011] [18:56:20] &lt;mikko&gt;  couldn&#8217;t sleep</div>
<div class="line">[Tuesday 18 January 2011] [18:56:30] &lt;mikko&gt;  lechon: you could also send your ideas to mailing-list</div>
<div class="line">[Tuesday 18 January 2011] [18:56:36] &lt;mikko&gt;  for wider feedbackd</div>
<div class="line">[Tuesday 18 January 2011] [20:41:11] &lt;lechon&gt; mikko, i hope you&#8217;ve been able to get to sleep by now :]</div>
<div class="line">[Tuesday 18 January 2011] [20:41:34] &lt;lechon&gt; i will think about the proposal a bit more and will send out some ideas soon</div>
<div class="line">[Tuesday 18 January 2011] [20:42:43] &lt;mikko&gt;  no</div>
<div class="line">[Tuesday 18 January 2011] [20:42:44] &lt;mikko&gt;  still up</div>
<div class="line">[Tuesday 18 January 2011] [20:42:55] &lt;mikko&gt;  looked into udt sockets a bit</div>
<div class="line">[Tuesday 18 January 2011] [20:43:10] &lt;lechon&gt; what do you think about them?</div>
<div class="line">[Tuesday 18 January 2011] [20:43:55] &lt;mikko&gt;  seems like a nice idea</div>
<div class="line">[Tuesday 18 January 2011] [20:44:08] &lt;mikko&gt;  the api is very friendly if you have done socket programming</div>
<div class="line">[Tuesday 18 January 2011] [20:44:42] &lt;lechon&gt; udt.sf.net?</div>
<div class="line">[Tuesday 18 January 2011] [20:45:08] &lt;mikko&gt;  yes</div>
<div class="line">[Tuesday 18 January 2011] [20:56:32] &lt;lechon&gt; yeah, just like sockets</div>
<div class="line">[Tuesday 18 January 2011] [21:12:25] &lt;jhawk28&gt;        <a class="reference external" href="https://github.com/bittorrent/libutp">https://github.com/bittorrent/libutp</a> is another one</div>
<div class="line">[Wednesday 19 January 2011] [00:55:15] &lt;traviscline&gt;  i&#8217;m writing a compat layer with pyzmq and a greenlet lib (gevent) and want to do some performance testing of a few configurations: namely: pure c, vanilla pyzmq, my pure python greened version, and a cython verision of my greened code</div>
<div class="line">[Wednesday 19 January 2011] [00:55:46] &lt;traviscline&gt;  I initially set up a little harness to send 1mil random ints from a c producer and just saw how fast I consumed with the various configurations</div>
<div class="line">[Wednesday 19 January 2011] [00:56:16] &lt;traviscline&gt;  I want to know if this seems like a valid test to compare the basic overhead of the alternate python options</div>
<div class="line">[Wednesday 19 January 2011] [00:56:42] &lt;traviscline&gt;  I basically want to determine how much overhead is incurred by using the greened version of pyzmq (and do some work to minimize it)</div>
<div class="line">[Wednesday 19 January 2011] [00:56:46] &lt;traviscline&gt;  thoughts?</div>
<div class="line">[Wednesday 19 January 2011] [01:05:38] &lt;Steve-o&gt;      Similar to the pyzmq graphs previously published?</div>
<div class="line">[Wednesday 19 January 2011] [04:14:08] &lt;mikko&gt;        good morning</div>
<div class="line">[Wednesday 19 January 2011] [04:21:20] &lt;guido_g&gt;      morning</div>
<div class="line">[Wednesday 19 January 2011] [05:17:52] &lt;kabs&gt; Hello, I tried writing hello-world application for pub-sub system in c, but when I complile it , I get these errors <a class="reference external" href="http://pastebin.com/n8F3CG8c">http://pastebin.com/n8F3CG8c</a> ,  what libs it is looking for , I have already installed zeromq-2.0.10 on my system</div>
<div class="line">[Wednesday 19 January 2011] [05:19:09] &lt;mikko&gt;        -lzmq</div>
<div class="line">[Wednesday 19 January 2011] [05:19:19] &lt;mikko&gt;        you are not linking against libs</div>
<div class="line">[Wednesday 19 January 2011] [05:33:32] &lt;kabs&gt; Thanks you, it worked!!</div>
<div class="line">[Wednesday 19 January 2011] [08:44:34] &lt;benoitc&gt;      /j/win 18</div>
<div class="line">[Wednesday 19 January 2011] [09:31:18] &lt;pythonirc1011&gt;        I&#8217;m trying to build zeromq python bindings on win 7 64-bit with 32-bit python installed and am getting in trouble. Can anyone help please?</div>
<div class="line">[Wednesday 19 January 2011] [09:31:49] &lt;pythonirc1011&gt;        the compilation of libzmq.dll is fine. but &#8220;python setup.py build&#8221; looks for libzmq.lib ?</div>
<div class="line">[Wednesday 19 January 2011] [09:32:05] &lt;mikko&gt;        pythonirc1011: yes</div>
<div class="line">[Wednesday 19 January 2011] [09:32:21] &lt;mikko&gt;        as far as i understand windows is that you link against .libs</div>
<div class="line">[Wednesday 19 January 2011] [09:33:00] &lt;mikko&gt;        .dll for runtime and .lib for linking</div>
<div class="line">[Wednesday 19 January 2011] [09:33:05] &lt;pythonirc1011&gt;        mikko: the problem is that when i try to create .lib files from zeromq code, it fails on VS2010</div>
<div class="line">[Wednesday 19 January 2011] [09:33:18] &lt;mikko&gt;        pythonirc1011: whats the issue?</div>
<div class="line">[Wednesday 19 January 2011] [09:33:33] &lt;pythonirc1011&gt;        lots of unresolved symbols</div>
<div class="line">[Wednesday 19 January 2011] [09:34:32] &lt;pythonirc1011&gt;        stuff like this &#8211; <a class="reference external" href="http://paste.pocoo.org/show/323265/">http://paste.pocoo.org/show/323265/</a></div>
<div class="line">[Wednesday 19 January 2011] [09:35:38] &lt;mikko&gt;        how do you create .lib files?</div>
<div class="line">[Wednesday 19 January 2011] [09:35:45] &lt;mikko&gt;        shouldnt they be build by default when .dll is built?</div>
<div class="line">[Wednesday 19 January 2011] [09:36:07] &lt;mikko&gt;        and can you use 64bit zeromq with 32bit python?</div>
<div class="line">[Wednesday 19 January 2011] [09:36:53] &lt;mikko&gt;        pythonirc1011: that looks like you are building static libraries</div>
<div class="line">[Wednesday 19 January 2011] [09:36:56] &lt;mikko&gt;        rather than dlls</div>
<div class="line">[Wednesday 19 January 2011] [09:37:21] &lt;pythonirc1011&gt;        mikko: i can build dlls, no problem</div>
<div class="line">[Wednesday 19 January 2011] [09:37:45] &lt;mikko&gt;        pythonirc1011: it seems that when i do the continous integration builds the dll and lib are built to same directory</div>
<div class="line">[Wednesday 19 January 2011] [09:37:54] &lt;mikko&gt;        without using any special options</div>
<div class="line">[Wednesday 19 January 2011] [09:38:08] &lt;pythonirc1011&gt;        but the pyzeromq, wants a .lib file &#8211;LINK : fatal error LNK1181: cannot open input file &#8216;libzmq.lib&#8217;</div>
<div class="line">[Wednesday 19 January 2011] [09:38:42] &lt;mikko&gt;        pythonirc1011: yes, the build should generate you .lib and .dll into the lib/ directory</div>
<div class="line">[Wednesday 19 January 2011] [09:38:46] &lt;pythonirc1011&gt;        mikko: In my case i only see the .dll built, no lib there...I changed the configuration to Release. Thats all i changed.</div>
<div class="line">[Wednesday 19 January 2011] [09:38:58] &lt;mikko&gt;        hmm</div>
<div class="line">[Wednesday 19 January 2011] [09:39:10] &lt;mikko&gt;        pythonirc1011: and thats 64bit build?</div>
<div class="line">[Wednesday 19 January 2011] [09:39:37] &lt;<a href="#id833"><span class="problematic" id="id834">sustrik_</span></a>&gt;     with msvc2008 the lib was generated alongside the dll</div>
<div class="line">[Wednesday 19 January 2011] [09:39:53] &lt;mikko&gt;        do you need something special with 2010?</div>
<div class="line">[Wednesday 19 January 2011] [09:40:04] &lt;mikko&gt;        im building with 2008 atm</div>
<div class="line">[Wednesday 19 January 2011] [09:40:13] &lt;<a href="#id835"><span class="problematic" id="id836">sustrik_</span></a>&gt;     maybe some msvc2010 quirk?</div>
<div class="line">[Wednesday 19 January 2011] [09:40:21] &lt;pythonirc1011&gt;        no idea</div>
<div class="line">[Wednesday 19 January 2011] [09:40:31] &lt;mikko&gt;        do we support 64bit windows?</div>
<div class="line">[Wednesday 19 January 2011] [09:40:39] &lt;<a href="#id837"><span class="problematic" id="id838">sustrik_</span></a>&gt;     no idea</div>
<div class="line">[Wednesday 19 January 2011] [09:40:45] &lt;<a href="#id839"><span class="problematic" id="id840">sustrik_</span></a>&gt;     some people complained</div>
<div class="line">[Wednesday 19 January 2011] [09:40:55] &lt;<a href="#id841"><span class="problematic" id="id842">sustrik_</span></a>&gt;     some have noted that the 64bit build it ok</div>
<div class="line">[Wednesday 19 January 2011] [09:40:59] &lt;mikko&gt;        and i dont think 64bit zeromq works with 32bit python</div>
<div class="line">[Wednesday 19 January 2011] [09:41:01] &lt;<a href="#id843"><span class="problematic" id="id844">sustrik_</span></a>&gt;     i don&#8217;t habe win64</div>
<div class="line">[Wednesday 19 January 2011] [09:41:31] &lt;<a href="#id845"><span class="problematic" id="id846">sustrik_</span></a>&gt;     so i can&#8217;t check myself</div>
<div class="line">[Wednesday 19 January 2011] [09:41:38] &lt;pythonirc1011&gt;        mikko: can i just build 32-bit zeromq on 64-bit machines?</div>
<div class="line">[Wednesday 19 January 2011] [09:41:40] &lt;mikko&gt;        i think i got win7 64bit image somewhere</div>
<div class="line">[Wednesday 19 January 2011] [09:41:44] &lt;pythonirc1011&gt;        I think i did...</div>
<div class="line">[Wednesday 19 January 2011] [09:41:47] &lt;mikko&gt;        pythonirc1011: sure</div>
<div class="line">[Wednesday 19 January 2011] [09:41:51] &lt;pythonirc1011&gt;        lemme try again</div>
<div class="line">[Wednesday 19 January 2011] [09:42:17] &lt;pythonirc1011&gt;        building now</div>
<div class="line">[Wednesday 19 January 2011] [09:42:48] &lt;pythonirc1011&gt;        only .dll file there</div>
<div class="line">[Wednesday 19 January 2011] [09:42:58] &lt;pythonirc1011&gt;        win32 build + release &#8211; no .lib there</div>
<div class="line">[Wednesday 19 January 2011] [09:43:34] &lt;mikko&gt;        pythonirc1011: what does it say under Properties-&gt;Configuration Properties-&gt;Linker-&gt;Advanced</div>
<div class="line">[Wednesday 19 January 2011] [09:43:39] &lt;mikko&gt;        and import library there</div>
<div class="line">[Wednesday 19 January 2011] [09:44:01] &lt;mikko&gt;        foudn a reference online that it might be msvc2008 -&gt; 2010 project conversion issue</div>
<div class="line">[Wednesday 19 January 2011] [09:44:34] &lt;pythonirc1011&gt;        Import library there is void</div>
<div class="line">[Wednesday 19 January 2011] [09:44:52] &lt;pythonirc1011&gt;        i can add something there...if you need me to</div>
<div class="line">[Wednesday 19 January 2011] [09:45:33] &lt;mikko&gt;        libzmq.lib</div>
<div class="line">[Wednesday 19 January 2011] [09:45:40] &lt;mikko&gt;        is what it should output</div>
<div class="line">[Wednesday 19 January 2011] [09:46:33] &lt;pythonirc1011&gt;        mikko: <a class="reference external" href="http://paste.pocoo.org/show/323272/">http://paste.pocoo.org/show/323272/</a> &#8211; no .lib file still</div>
<div class="line">[Wednesday 19 January 2011] [09:52:06] &lt;mikko&gt;        pythonirc1011: see the error message</div>
<div class="line">[Wednesday 19 January 2011] [09:52:44] &lt;pythonirc1011&gt;        ah! $(OutDir), $(TargetName) and $(TargetExt) match?</div>
<div class="line">[Wednesday 19 January 2011] [09:52:53] &lt;mikko&gt;        maybe $(TargetName).lib</div>
<div class="line">[Wednesday 19 January 2011] [09:52:58] &lt;mikko&gt;        as the import library name</div>
<div class="line">[Wednesday 19 January 2011] [09:54:29] &lt;pythonirc1011&gt;        still trying to find where they are ...</div>
<div class="line">[Wednesday 19 January 2011] [09:55:05] &lt;mikko&gt;        i dont have msvc2010 at hand here</div>
<div class="line">[Wednesday 19 January 2011] [09:56:13] &lt;pythonirc1011&gt;        got it</div>
<div class="line">[Wednesday 19 January 2011] [09:57:20] &lt;pythonirc1011&gt;        General-&gt;Taget Ext -&gt; .lib (from .dll)</div>
<div class="line">[Wednesday 19 January 2011] [09:57:23] &lt;pythonirc1011&gt;        that works</div>
<div class="line">[Wednesday 19 January 2011] [09:57:31] &lt;mikko&gt;        ahmm</div>
<div class="line">[Wednesday 19 January 2011] [09:57:36] &lt;mikko&gt;        did you rename the .dll to lib?</div>
<div class="line">[Wednesday 19 January 2011] [09:57:45] &lt;pythonirc1011&gt;        i tried that...that didnt work</div>
<div class="line">[Wednesday 19 January 2011] [09:57:48] &lt;pythonirc1011&gt;        pyzmq complained</div>
<div class="line">[Wednesday 19 January 2011] [09:58:08] &lt;mikko&gt;        yes, because these are two different things</div>
<div class="line">[Wednesday 19 January 2011] [09:58:12] &lt;mikko&gt;        import library and dll</div>
<div class="line">[Wednesday 19 January 2011] [09:58:26] &lt;pythonirc1011&gt;        &gt;&gt;&gt; import zmq &#8211;&gt; Traceback (most recent call last):  File &#8220;&lt;stdin&gt;&#8221;, line 1, in &lt;module&gt;  File &#8220;zmq__init__.py&#8221;, line 26, in &lt;module&gt;    from zmq.utils import initthreads # initialize threads ImportError: cannot import name initthreads</div>
<div class="line">[Wednesday 19 January 2011] [09:58:36] &lt;mikko&gt;        pythonirc1011: <a class="reference external" href="http://msdn.microsoft.com/en-us/library/9yd93633%28v=vs.80%29.aspx">http://msdn.microsoft.com/en-us/library/9yd93633%28v=vs.80%29.aspx</a></div>
<div class="line">[Wednesday 19 January 2011] [09:58:38] &lt;pythonirc1011&gt;        could compile and install pyzmq, but now when i try to import, get this</div>
<div class="line">[Wednesday 19 January 2011] [09:58:48] &lt;mikko&gt;        hmm</div>
<div class="line">[Wednesday 19 January 2011] [09:59:06] &lt;mikko&gt;        did you download pyzmq matching 2.0.10 version?</div>
<div class="line">[Wednesday 19 January 2011] [09:59:18] &lt;pythonirc1011&gt;        yes indeed</div>
<div class="line">[Wednesday 19 January 2011] [09:59:27] &lt;pythonirc1011&gt;        zeromq-2.0.10 == pyzmq-2.0.10</div>
<div class="line">[Wednesday 19 January 2011] [09:59:57] &lt;mikko&gt;        it tries to import something called &#8220;initthreads&#8221; ?</div>
<div class="line">[Wednesday 19 January 2011] [10:00:06] &lt;mikko&gt;        from zmq.utils</div>
<div class="line">[Wednesday 19 January 2011] [10:00:08] &lt;pythonirc1011&gt;        i did a python setup.py build_ext and python setup.py install...anything wrong there?</div>
<div class="line">[Wednesday 19 January 2011] [10:00:39] &lt;mikko&gt;        pythonirc1011: not that i know of. however i dont really use python or windows</div>
<div class="line">[Wednesday 19 January 2011] [10:01:38] &lt;mikko&gt;        the process we run for pyzmq on linux is</div>
<div class="line">[Wednesday 19 January 2011] [10:01:47] &lt;mikko&gt;        python setup.py cython</div>
<div class="line">[Wednesday 19 January 2011] [10:01:55] &lt;mikko&gt;        python setup.py build_ext</div>
<div class="line">[Wednesday 19 January 2011] [10:02:29] &lt;mikko&gt;        python setup.py test</div>
<div class="line">[Wednesday 19 January 2011] [10:34:58] &lt;traviscline&gt;  any instructions on running the pyzmq perf tests?</div>
<div class="line">[Wednesday 19 January 2011] [10:36:55] &lt;mikko&gt;        none</div>
<div class="line">[Wednesday 19 January 2011] [10:40:40]         * traviscline is reading them</div>
<div class="line">[Wednesday 19 January 2011] [10:40:46] &lt;traviscline&gt;  but if anyone has a &#8216;how to run&#8217; lemme know</div>
<div class="line">[Wednesday 19 January 2011] [10:43:00] &lt;pythonirc1011&gt;        anyone using pyzeromq on win 7 + VS2010 + python 32-bit here?</div>
<div class="line">[Wednesday 19 January 2011] [10:53:49] &lt;traviscline&gt;  figured it out</div>
<div class="line">[Wednesday 19 January 2011] [14:24:57] &lt;sam`&gt; hi</div>
<div class="line">[Wednesday 19 January 2011] [14:26:49] &lt;sam`&gt; is it possible to provide a static/self-contained &#8220;package&#8221; of the java binding to include in a java project for deployment?</div>
<div class="line">[Wednesday 19 January 2011] [14:27:17] &lt;sam`&gt; currently when you build the java binding it creates the libjzmq shared library and the zmq jar which loads the library</div>
<div class="line">[Wednesday 19 January 2011] [14:27:42] &lt;sam`&gt; but that makes it a real pain to deploy to other machines where jzmq is not installed</div>
<div class="line">[Wednesday 19 January 2011] [14:27:50] &lt;sam`&gt; any hints?</div>
<div class="line">[Wednesday 19 January 2011] [15:09:18] &lt;lt_schmidt_jr&gt;        Hello</div>
<div class="line">[Wednesday 19 January 2011] [15:10:26] &lt;lt_schmidt_jr&gt;        Looking for someone to shoot holes in an approach to implement pub/sub for web clients</div>
<div class="line">[Wednesday 19 January 2011] [15:11:25] &lt;s0undt3ch&gt;    ppl, with 2.1.0, on the call socket.recv_pyobj() I&#8217;m getting:</div>
<div class="line">[Wednesday 19 January 2011] [15:11:27] &lt;s0undt3ch&gt;    File &#8220;socket.pyx&#8221;, line 657, in zmq.core.socket.Socket.recv_pyobj (zmq/core/socket.c:5470)</div>
<div class="line">[Wednesday 19 January 2011] [15:11:33] &lt;s0undt3ch&gt;    File &#8220;socket.pyx&#8221;, line 94, in zmq.core.socket.Socket.__cinit__ (zmq/core/socket.c:1036)</div>
<div class="line">[Wednesday 19 January 2011] [15:11:39] &lt;s0undt3ch&gt;    TypeError: __cinit__() takes exactly 2 positional arguments (0 given)</div>
<div class="line">[Wednesday 19 January 2011] [15:11:47] &lt;s0undt3ch&gt;    why is this!?</div>
<div class="line">[Wednesday 19 January 2011] [15:15:07] &lt;traviscline&gt;  s0undt3ch:  up to date with cython?</div>
<div class="line">[Wednesday 19 January 2011] [15:15:20] &lt;s0undt3ch&gt;    traviscline: think so</div>
<div class="line">[Wednesday 19 January 2011] [15:15:36] &lt;s0undt3ch&gt;    traviscline: at least, up to date with my distro&#8217;s cython</div>
<div class="line">[Wednesday 19 January 2011] [15:15:49] &lt;traviscline&gt;  built with 0.14 fine</div>
<div class="line">[Wednesday 19 January 2011] [15:15:51] &lt;s0undt3ch&gt;    traviscline: and on another piece of code, it works good</div>
<div class="line">[Wednesday 19 January 2011] [15:19:40] &lt;Skaag&gt;        lt_schmidt_jr: shoo</div>
<div class="line">[Wednesday 19 January 2011] [15:19:41] &lt;Skaag&gt;        shoot</div>
<div class="line">[Wednesday 19 January 2011] [15:40:19] &lt;lt_schmidt_jr&gt;        Thanks Skaag</div>
<div class="line">[Wednesday 19 January 2011] [15:40:53] &lt;Skaag&gt;        lt_schmidt_jr: We actually are looking to implement the same, sort of a clone of pubnub.com</div>
<div class="line">[Wednesday 19 January 2011] [15:41:54] &lt;lt_schmidt_jr&gt;        not familiar with that, but ours is domain specific to allow multiple clients to manipulate graph data</div>
<div class="line">[Wednesday 19 January 2011] [15:44:05] &lt;lt_schmidt_jr&gt;        but the basic idea is to use Jetty Websocket (with Flash Socket when necessary) and have the instance specify what it is working on throgh the socket, establishing a pub and sub zeromq socket for each client and hooking it up using devices depending on deployment</div>
<div class="line">[Wednesday 19 January 2011] [15:44:18] &lt;lt_schmidt_jr&gt;        single machine  - no devices</div>
<div class="line">[Wednesday 19 January 2011] [15:44:42] &lt;lt_schmidt_jr&gt;        using ICP (if I remember correctly)</div>
<div class="line">[Wednesday 19 January 2011] [15:44:55] &lt;lt_schmidt_jr&gt;        sorry single machine - local device with interproc</div>
<div class="line">[Wednesday 19 January 2011] [15:45:19] &lt;lt_schmidt_jr&gt;        multiple machines - somehow put the devices together</div>
<div class="line">[Wednesday 19 January 2011] [15:45:23] &lt;lt_schmidt_jr&gt;        not sure how though</div>
<div class="line">[Wednesday 19 January 2011] [15:45:33] &lt;lt_schmidt_jr&gt;        does this make any sense?</div>
<div class="line">[Wednesday 19 January 2011] [15:46:37] &lt;lt_schmidt_jr&gt;        On my earlier comment about no devices - I don&#8217;t think that is possible with many pubs and subs</div>
<div class="line">[Wednesday 19 January 2011] [15:47:04] &lt;lt_schmidt_jr&gt;        unless they can discover each other somehow</div>
<div class="line">[Wednesday 19 January 2011] [15:48:09] &lt;lt_schmidt_jr&gt;        I am thinking about using zookeeper perhaps at a later time</div>
<div class="line">[Wednesday 19 January 2011] [15:48:36] &lt;Skaag&gt;        ok, we&#8217;ve been down the same road</div>
<div class="line">[Wednesday 19 January 2011] [15:48:59] &lt;Skaag&gt;        at the moment, zookeeper is good for a fixed (unchanging) number of nodes</div>
<div class="line">[Wednesday 19 January 2011] [15:49:37] &lt;Skaag&gt;        where it can help you, is in the notification on services that go up/down on those nodes</div>
<div class="line">[Wednesday 19 January 2011] [15:49:47] &lt;Skaag&gt;        and in leader election, among the fixed set of nodes</div>
<div class="line">[Wednesday 19 January 2011] [15:52:56] &lt;lt_schmidt_jr&gt;        Our number of nodes is fairly low (in terms of what we want to subscribe to)</div>
<div class="line">[Wednesday 19 January 2011] [15:53:41] &lt;lt_schmidt_jr&gt;        we are thinking of it more like channels vs individual components</div>
<div class="line">[Wednesday 19 January 2011] [15:54:07] &lt;lt_schmidt_jr&gt;        otherwise the client has to mirror whole state to the server</div>
<div class="line">[Wednesday 19 January 2011] [15:54:26] &lt;lt_schmidt_jr&gt;        Skaag are you using a similar Java stack?</div>
<div class="line">[Wednesday 19 January 2011] [15:55:00] &lt;Skaag&gt;        I&#8217;m not sure I understand how you use the term &#8216;component&#8217;</div>
<div class="line">[Wednesday 19 January 2011] [15:56:02] &lt;lt_schmidt_jr&gt;        leaf nodes , which are many  - we are looking to route fairly close to the base of the tree - if that makes sense</div>
<div class="line">[Wednesday 19 January 2011] [15:56:21] &lt;Skaag&gt;        also I recommend you make a spreadsheet to calculate data packet sizes, to avoid bottlenecks, and to properly shape your data structures/sizes, it helps a lot to manage expectations</div>
<div class="line">[Wednesday 19 January 2011] [15:56:31] &lt;Skaag&gt;        (unrelated to the issue but important)</div>
<div class="line">[Wednesday 19 January 2011] [15:56:51] &lt;Skaag&gt;        yes understood</div>
<div class="line">[Wednesday 19 January 2011] [15:57:01] &lt;lt_schmidt_jr&gt;        I see</div>
<div class="line">[Wednesday 19 January 2011] [15:57:39] &lt;lt_schmidt_jr&gt;        so you are currently using zookeeper?</div>
<div class="line">[Wednesday 19 January 2011] [15:57:45] &lt;Skaag&gt;        not anymore</div>
<div class="line">[Wednesday 19 January 2011] [15:57:55] &lt;Skaag&gt;        I installed it, tried it, and found out it does not know how to add new nodes to the cluster</div>
<div class="line">[Wednesday 19 January 2011] [15:58:03] &lt;Skaag&gt;        the list of nodes is hardcoded in a config file</div>
<div class="line">[Wednesday 19 January 2011] [15:58:14] &lt;Skaag&gt;        quite annoying, and kinda defeating the purpose in my opinion</div>
<div class="line">[Wednesday 19 January 2011] [15:58:22] &lt;lt_schmidt_jr&gt;        you are talking about Zookeeper nodes?</div>
<div class="line">[Wednesday 19 January 2011] [15:58:43] &lt;Skaag&gt;        well in our case the idea was that machines would suddenly show up in a cluster</div>
<div class="line">[Wednesday 19 January 2011] [15:59:07] &lt;Skaag&gt;        now I have some idea about using some sort of gnutella variant :-)</div>
<div class="line">[Wednesday 19 January 2011] [15:59:16] &lt;Skaag&gt;        decentralized, etc.</div>
<div class="line">[Wednesday 19 January 2011] [15:59:27] &lt;lt_schmidt_jr&gt;        interesting</div>
<div class="line">[Wednesday 19 January 2011] [16:00:01] &lt;lt_schmidt_jr&gt;        so do you have a similar topology with many publishers and subscribers on the same channels?</div>
<div class="line">[Wednesday 19 January 2011] [16:00:07] &lt;Skaag&gt;        yes</div>
<div class="line">[Wednesday 19 January 2011] [16:00:17] &lt;Skaag&gt;        at the moment, we have a POC cluster of 16 nodes</div>
<div class="line">[Wednesday 19 January 2011] [16:00:21] &lt;Skaag&gt;        it&#8217;s tiny</div>
<div class="line">[Wednesday 19 January 2011] [16:00:25] &lt;Skaag&gt;        we used Rabbitmq-server at first</div>
<div class="line">[Wednesday 19 January 2011] [16:00:45] &lt;Skaag&gt;        but I was told by one of their team members that 16 nodes is considered a large cluster for them</div>
<div class="line">[Wednesday 19 January 2011] [16:00:55] &lt;lt_schmidt_jr&gt;        I see</div>
<div class="line">[Wednesday 19 January 2011] [16:00:59] &lt;Skaag&gt;        and since we&#8217;re looking to scale to thousands of nodes, we had to abandon it</div>
<div class="line">[Wednesday 19 January 2011] [16:01:20] &lt;lt_schmidt_jr&gt;        I was looking at RabbitMq and XMPP pubsub initially</div>
<div class="line">[Wednesday 19 January 2011] [16:01:26] &lt;lt_schmidt_jr&gt;        as well</div>
<div class="line">[Wednesday 19 January 2011] [16:01:34] &lt;Skaag&gt;        same here</div>
<div class="line">[Wednesday 19 January 2011] [16:01:44] &lt;lt_schmidt_jr&gt;        how are you bridging pubsub between nodes?</div>
<div class="line">[Wednesday 19 January 2011] [16:01:58] &lt;Skaag&gt;        this is at the moment done naively</div>
<div class="line">[Wednesday 19 January 2011] [16:02:02] &lt;lt_schmidt_jr&gt;        are you also using a forwarder on each machine</div>
<div class="line">[Wednesday 19 January 2011] [16:02:04] &lt;lt_schmidt_jr&gt;        ?</div>
<div class="line">[Wednesday 19 January 2011] [16:02:10] &lt;Skaag&gt;        all nodes are publishing to all nodes with zmq</div>
<div class="line">[Wednesday 19 January 2011] [16:02:17] &lt;Skaag&gt;        yes with forwarders</div>
<div class="line">[Wednesday 19 January 2011] [16:02:36] &lt;lt_schmidt_jr&gt;        this is too funny</div>
<div class="line">[Wednesday 19 January 2011] [16:03:14] &lt;lt_schmidt_jr&gt;        so 2 forwarders per machine?</div>
<div class="line">[Wednesday 19 January 2011] [16:03:21] &lt;lt_schmidt_jr&gt;        one in each direction?</div>
<div class="line">[Wednesday 19 January 2011] [16:03:38] &lt;Skaag&gt;        I need to check with my team member who implemented that part</div>
<div class="line">[Wednesday 19 January 2011] [16:03:46] &lt;Skaag&gt;        (we&#8217;re a tiny team)</div>
<div class="line">[Wednesday 19 January 2011] [16:04:06] &lt;lt_schmidt_jr&gt;        I am a team of 1 right now, building  a small POC</div>
<div class="line">[Wednesday 19 January 2011] [16:04:44] &lt;lt_schmidt_jr&gt;        are you also using jetty - or are you non-http system?</div>
<div class="line">[Wednesday 19 January 2011] [16:07:55] &lt;Skaag&gt;        yes we plan to use jetty</div>
<div class="line">[Wednesday 19 January 2011] [16:08:02] &lt;Skaag&gt;        since we are 99% java based</div>
<div class="line">[Wednesday 19 January 2011] [16:08:21] &lt;lt_schmidt_jr&gt;        Have you looked at Atmosphere?</div>
<div class="line">[Wednesday 19 January 2011] [16:08:52] &lt;lt_schmidt_jr&gt;        its attractive, but I am not sure that frameworks fits well with zmq</div>
<div class="line">[Wednesday 19 January 2011] [16:29:14] &lt;Skaag&gt;        no I haven&#8217;t</div>
<div class="line">[Wednesday 19 January 2011] [16:29:16] &lt;Skaag&gt;        checking it out</div>
<div class="line">[Wednesday 19 January 2011] [16:37:14] &lt;mikko&gt;        good evening</div>
<div class="line">[Wednesday 19 January 2011] [16:37:36] &lt;lt_schmidt_jr&gt;        Hello</div>
<div class="line">[Wednesday 19 January 2011] [16:37:54] &lt;mikko&gt;        <a href="#id847"><span class="problematic" id="id848">sustrik_</span></a>: there?</div>
<div class="line">[Wednesday 19 January 2011] [17:03:29] &lt;lt_schmidt_jr&gt;        Skaag, what is your application doing, if you don&#8217;t mind me asking?</div>
<div class="line">[Wednesday 19 January 2011] [17:04:46] &lt;Skaag&gt;        the system that uses zmq is intended to send/collect statistics information and aggregate them into a single body of statistical data</div>
<div class="line">[Wednesday 19 January 2011] [17:04:54] &lt;Skaag&gt;        then inject it back to all nodes via same route</div>
<div class="line">[Wednesday 19 January 2011] [17:05:29] &lt;lt_schmidt_jr&gt;        I see</div>
<div class="line">[Wednesday 19 January 2011] [17:06:57] &lt;mikko&gt;        Skaag: you went ahead with the POC?</div>
<div class="line">[Wednesday 19 January 2011] [17:07:06] &lt;Skaag&gt;        yes</div>
<div class="line">[Wednesday 19 January 2011] [17:07:14] &lt;mikko&gt;        how is it working?</div>
<div class="line">[Wednesday 19 January 2011] [17:07:18] &lt;Skaag&gt;        we are launching it tomorrow, hopefully</div>
<div class="line">[Wednesday 19 January 2011] [17:07:21] &lt;Skaag&gt;        so far so good!</div>
<div class="line">[Wednesday 19 January 2011] [17:08:01] &lt;lt_schmidt_jr&gt;        that is encouraging to hear</div>
<div class="line">[Wednesday 19 January 2011] [17:11:18] &lt;lt_schmidt_jr&gt;        Skaag, what versions are you running for zmq and jzmq?</div>
<div class="line">[Wednesday 19 January 2011] [17:11:37] &lt;Skaag&gt;        the very latest I guess</div>
<div class="line">[Wednesday 19 January 2011] [17:25:39] &lt;pythonirc101&gt; is it easy to use zeromq to communicate between machines behind nats?</div>
<div class="line">[Wednesday 19 January 2011] [17:30:20] &lt;pythonirc101&gt; anyone using pyzmq on win 7 here?</div>
<div class="line">[Wednesday 19 January 2011] [17:40:29] &lt;traviscline&gt;  whois beppu</div>
<div class="line">[Wednesday 19 January 2011] [17:40:32] &lt;traviscline&gt;  whoops</div>
<div class="line">[Wednesday 19 January 2011] [17:40:34] &lt;traviscline&gt;  does anyone know if MinRK (benjamin) or Brian Granger hang out in here?</div>
<div class="line">[Wednesday 19 January 2011] [17:40:49] &lt;traviscline&gt;  looking for pyzmq authors</div>
<div class="line">[Wednesday 19 January 2011] [17:41:52] &lt;mikko&gt;        traviscline: they do occasionally</div>
<div class="line">[Wednesday 19 January 2011] [17:42:01] &lt;traviscline&gt;  cool, thanks</div>
<div class="line">[Wednesday 19 January 2011] [17:42:14] &lt;mikko&gt;        mr granger is bgranger</div>
<div class="line">[Wednesday 19 January 2011] [17:42:18] &lt;mikko&gt;        and MinRK is MinRK</div>
<div class="line">[Wednesday 19 January 2011] [17:42:30] &lt;traviscline&gt;  failing with some cython interop stuff and wanted to toss some Qs their way</div>
<div class="line">[Wednesday 19 January 2011] [17:42:33] &lt;traviscline&gt;  rgr</div>
<div class="line">[Wednesday 19 January 2011] [18:10:45] &lt;traviscline&gt;  pushed gevent compat with very basic cython support &#8211; if any cython folks have input/critique please provide <a class="reference external" href="https://github.com/traviscline/gevent-zeromq">https://github.com/traviscline/gevent-zeromq</a></div>
<div class="line">[Wednesday 19 January 2011] [18:57:39] &lt;andrewvc&gt;     cremes: around?</div>
<div class="line">[Wednesday 19 January 2011] [19:52:58] &lt;cremes&gt;       andrewvc: what&#8217;s up?</div>
<div class="line">[Wednesday 19 January 2011] [19:57:31] &lt;cremes&gt;       andrewvc: just send me an email...</div>
<div class="line">[Wednesday 19 January 2011] [20:43:47] &lt;mvolkov&gt;      I am connecting to multiple sockets with &#8220;<a class="reference external" href="tcp://">tcp://</a>&#8221; in attempt to loadbalance load. Result: only first socket does the work, the rest do fail with following error: &#8220;Assertion failed: <a href="#id849"><span class="problematic" id="id850">msg_</span></a>-&gt;flags &amp; ZMQ_MSG_MORE (rep.cpp:80)&#8221;</div>
<div class="line">[Wednesday 19 January 2011] [20:45:20] &lt;mvolkov&gt;      I am using pyzmq. zmq.PUSH &#8212;&gt;zmq.PULL</div>
<div class="line">[Wednesday 19 January 2011] [20:45:45] &lt;mvolkov&gt;      is that a bug?</div>
<div class="line">[Wednesday 19 January 2011] [23:21:36] &lt;StockMQ&gt;      Hi All!</div>
<div class="line">[Wednesday 19 January 2011] [23:26:36] &lt;StockMQ&gt;      I am developing a middleware which will basically listen feed from Exchange, decompress it, read and process it and then publish the cleansed feed to subscribers</div>
<div class="line">[Wednesday 19 January 2011] [23:27:18] &lt;StockMQ&gt;      after reading the elaborate docs and articles.. I have arrived to the decision to use 0MQ.. but have a few queires</div>
<div class="line">[Wednesday 19 January 2011] [23:27:50] &lt;StockMQ&gt;      The first one being.. the feed from the exchange is a UDP multicast</div>
<div class="line">[Wednesday 19 January 2011] [23:28:20] &lt;StockMQ&gt;      so in my middleware app can i listen to it using PGM SUB</div>
<div class="line">[Wednesday 19 January 2011] [23:44:55] &lt;cremes&gt;       StockMQ: that&#8217;s a good question for the mailing list; there is more pgm expertise there than on irc usually</div>
<div class="line">[Wednesday 19 January 2011] [23:47:15] &lt;guido_g&gt;      in principle you need to convert between the formats, mq itself has its own wire format</div>
<div class="line">[Wednesday 19 January 2011] [23:49:23] &lt;StockMQ&gt;      ohk.. I was looking to know that.. can i connect my zeroMQ client to a non zeroMQ server</div>
<div class="line">[Wednesday 19 January 2011] [23:49:54] &lt;guido_g&gt;      as i said, mq has its own wire format</div>
<div class="line">[Wednesday 19 January 2011] [23:49:59] &lt;StockMQ&gt;      the reason being i understand that zeroMQ is based on messaging and frames</div>
<div class="line">[Wednesday 19 January 2011] [23:50:48] &lt;guido_g&gt;      just use the normal way to connect to your fix/fast stream and read the data as usual</div>
<div class="line">[Wednesday 19 January 2011] [23:51:14] &lt;guido_g&gt;      then you might send it out using mq</div>
<div class="line">[Wednesday 19 January 2011] [23:54:43] &lt;StockMQ&gt;      guido_g:</div>
<div class="line">[Wednesday 19 January 2011] [23:54:49] &lt;StockMQ&gt;      by normal way you mean</div>
<div class="line">[Wednesday 19 January 2011] [23:55:08] &lt;guido_g&gt;      the you did it before</div>
<div class="line">[Wednesday 19 January 2011] [23:55:11] &lt;guido_g&gt;      <a href="#id35"><span class="problematic" id="id36">*</span></a>the way</div>
<div class="line">[Wednesday 19 January 2011] [23:55:24] &lt;StockMQ&gt;      ohk</div>
<div class="line">[Wednesday 19 January 2011] [23:56:11] &lt;StockMQ&gt;      So it is better i connect to the fast stream using my VC++ application</div>
<div class="line">[Wednesday 19 January 2011] [23:56:46] &lt;StockMQ&gt;      Then maybe i can implement a pipeline in 0MQ where the worker threads can process the feed packets and then send it downstream to Publisher</div>
<div class="line">[Wednesday 19 January 2011] [23:57:04] &lt;StockMQ&gt;      Does that sound right</div>
<div class="line">[Thursday 20 January 2011] [01:06:44] &lt;StockMQ&gt;       How different is Push/Pull from Publish/Subscribe??</div>
<div class="line">[Thursday 20 January 2011] [01:07:17] &lt;StockMQ&gt;       Apart from the fact that Subscribe makes filtering easy</div>
<div class="line">[Thursday 20 January 2011] [01:09:32] &lt;guido_g&gt;       see <a class="reference external" href="http://api.zeromq.org/zmq_socket.html">http://api.zeromq.org/zmq_socket.html</a></div>
<div class="line">[Thursday 20 January 2011] [01:53:23] &lt;CIA-21&gt;        zeromq2: 03Dhammika Pathirana 07master * rc91bf25 10/ (src/decoder.hpp src/zmq_engine.cpp):</div>
<div class="line">[Thursday 20 January 2011] [01:53:23] &lt;CIA-21&gt;        zeromq2: Fix handle connection reset during session init</div>
<div class="line">[Thursday 20 January 2011] [01:53:23] &lt;CIA-21&gt;        zeromq2: Patch to handle nmap version probes.</div>
<div class="line">[Thursday 20 January 2011] [01:53:23] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Dhammika Pathirana &lt;<a class="reference external" href="mailto:dhammika&#37;&#52;&#48;gmail&#46;com">dhammika<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/hZescC">http://bit.ly/hZescC</a></div>
<div class="line">[Thursday 20 January 2011] [02:07:11] &lt;Evet&gt;  would you use zeromq as front-end for several protocols? for example, an http server</div>
<div class="line">[Thursday 20 January 2011] [02:12:49] &lt;guido_g&gt;       what do you mean w/ frontend?</div>
<div class="line">[Thursday 20 January 2011] [02:16:51] &lt;Evet&gt;  guido_g: im planning to build my web app in c; i think zeromq would be a good framework for request/respond based tcp servers</div>
<div class="line">[Thursday 20 January 2011] [02:17:10] &lt;guido_g&gt;       no its not</div>
<div class="line">[Thursday 20 January 2011] [02:17:17] &lt;guido_g&gt;       mq is not a tcp lib</div>
<div class="line">[Thursday 20 January 2011] [02:17:26] &lt;guido_g&gt;       it uses its own wire format</div>
<div class="line">[Thursday 20 January 2011] [02:27:53] &lt;Evet&gt;  guido_g: then, which event loop library you suggest for bsd sockets?</div>
<div class="line">[Thursday 20 January 2011] [02:28:16] &lt;guido_g&gt;       the one you have most knowledge of</div>
<div class="line">[Thursday 20 January 2011] [04:27:28] &lt;mikko&gt; good morning</div>
<div class="line">[Thursday 20 January 2011] [04:45:05] &lt;Evet&gt;  howdy mikko</div>
<div class="line">[Thursday 20 January 2011] [06:07:49] &lt;kabs&gt;  Hello, I was going through the guide on ZeroMQ at <a class="reference external" href="http://zguide.zeromq.org/chapter:all#toc0">http://zguide.zeromq.org/chapter:all#toc0</a>, If you use c code directly from it under the heading &#8220;Getting the Message Out&#8221;, which is a simple pub-sub code, it doesn&#8217;t work.</div>
<div class="line">[Thursday 20 January 2011] [06:08:32] &lt;kabs&gt;  Sever is subscribing data but client is stuck at this step sscanf (string, &#8220;%d %d %d&#8221;,   &amp;zipcode, &amp;temperature, &amp;relhumidity);</div>
<div class="line">[Thursday 20 January 2011] [06:09:22] &lt;kabs&gt;  Anyone , who can tell me how I can debug this client code, or does this code work, I found the code above it to be working , now sure about this pub-sub code, please help ...</div>
<div class="line">[Thursday 20 January 2011] [06:33:56] &lt;<a href="#id851"><span class="problematic" id="id852">sustrik_</span></a>&gt;      are you sure the client is able to connect to the server?</div>
<div class="line">[Thursday 20 January 2011] [08:10:09] &lt;stockMQ&gt;       Hi. Just started with 0MQ today</div>
<div class="line">[Thursday 20 January 2011] [08:10:14] &lt;stockMQ&gt;       am using it with VC++</div>
<div class="line">[Thursday 20 January 2011] [08:10:41] &lt;stockMQ&gt;       I am trying to create the socket in constructor</div>
<div class="line">[Thursday 20 January 2011] [08:10:49] &lt;stockMQ&gt;       use it in other method of my class</div>
<div class="line">[Thursday 20 January 2011] [08:12:08] &lt;stockMQ&gt;       But the constructor socket_t (const socket_t&amp;); seems to be private in zmq.hpp</div>
<div class="line">[Thursday 20 January 2011] [08:12:45] &lt;mikko&gt; stockMQ: isnt that copy constructor?</div>
<div class="line">[Thursday 20 January 2011] [08:14:58] &lt;<a href="#id853"><span class="problematic" id="id854">sustrik_</span></a>&gt;      it is</div>
<div class="line">[Thursday 20 January 2011] [08:15:09] &lt;<a href="#id855"><span class="problematic" id="id856">sustrik_</span></a>&gt;      you cannot copy the socket</div>
<div class="line">[Thursday 20 January 2011] [08:15:13] &lt;mikko&gt; this-&gt;socket = new socket_t(context, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:15:19] &lt;mikko&gt; and in destructor delete it</div>
<div class="line">[Thursday 20 January 2011] [08:15:26] &lt;<a href="#id857"><span class="problematic" id="id858">sustrik_</span></a>&gt;      or:</div>
<div class="line">[Thursday 20 January 2011] [08:15:38] &lt;mikko&gt; initializer list is another option i guess</div>
<div class="line">[Thursday 20 January 2011] [08:15:39] &lt;<a href="#id859"><span class="problematic" id="id860">sustrik_</span></a>&gt;      socket_t s (context, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:20:00] &lt;stockMQ&gt;       ok</div>
<div class="line">[Thursday 20 January 2011] [08:20:10] &lt;stockMQ&gt;       lemme try the above</div>
<div class="line">[Thursday 20 January 2011] [08:28:50] &lt;stockMQ&gt;        this-&gt;publisher = new socket_t(context, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:28:52] &lt;stockMQ&gt;       gave</div>
<div class="line">[Thursday 20 January 2011] [08:29:11] &lt;stockMQ&gt;       error C2512: &#8216;zmq::socket_t&#8217; : no appropriate default constructor available</div>
<div class="line">[Thursday 20 January 2011] [08:34:46] &lt;<a href="#id861"><span class="problematic" id="id862">sustrik_</span></a>&gt;      strange</div>
<div class="line">[Thursday 20 January 2011] [08:35:15] &lt;<a href="#id863"><span class="problematic" id="id864">sustrik_</span></a>&gt;      can you have a look at your zmq.hpp file?</div>
<div class="line">[Thursday 20 January 2011] [08:35:23] &lt;<a href="#id865"><span class="problematic" id="id866">sustrik_</span></a>&gt;      there should be this line there:</div>
<div class="line">[Thursday 20 January 2011] [08:35:25] &lt;<a href="#id867"><span class="problematic" id="id868">sustrik_</span></a>&gt;          inline socket_t (context_t &amp;context_, int <a href="#id869"><span class="problematic" id="id870">type_</span></a>)</div>
<div class="line">[Thursday 20 January 2011] [08:35:36] &lt;<a href="#id871"><span class="problematic" id="id872">sustrik_</span></a>&gt;      is it?</div>
<div class="line">[Thursday 20 January 2011] [08:35:40] &lt;stockMQ&gt;       yes</div>
<div class="line">[Thursday 20 January 2011] [08:35:41] &lt;mikko&gt; and what is &#8216;context&#8217; in this case?</div>
<div class="line">[Thursday 20 January 2011] [08:35:43] &lt;stockMQ&gt;       i see that line</div>
<div class="line">[Thursday 20 January 2011] [08:35:58] &lt;<a href="#id873"><span class="problematic" id="id874">sustrik_</span></a>&gt;      zmq:::context_t&amp;</div>
<div class="line">[Thursday 20 January 2011] [08:36:09] &lt;mikko&gt; i mean in this 13:28 &lt; stockMQ&gt;  this-&gt;publisher = new socket_t(context, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:36:09] &lt;<a href="#id875"><span class="problematic" id="id876">sustrik_</span></a>&gt;      zmq::context_t ctx(1);</div>
<div class="line">[Thursday 20 January 2011] [08:36:20] &lt;<a href="#id877"><span class="problematic" id="id878">sustrik_</span></a>&gt;      zmq::socket_t s(ctx, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:36:27] &lt;mikko&gt; if type of context was something funny it wouldnt find constructor i assume</div>
<div class="line">[Thursday 20 January 2011] [08:36:48] &lt;stockMQ&gt;        context_t context(1);   socket_t publisher(context, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:36:55] &lt;stockMQ&gt;       This work without any problem</div>
<div class="line">[Thursday 20 January 2011] [08:37:10] &lt;<a href="#id879"><span class="problematic" id="id880">sustrik_</span></a>&gt;      great</div>
<div class="line">[Thursday 20 January 2011] [08:37:26] &lt;stockMQ&gt;       My issue is i need a pointer to publisher socket in other method of my class.</div>
<div class="line">[Thursday 20 January 2011] [08:37:28] &lt;mikko&gt; i see</div>
<div class="line">[Thursday 20 January 2011] [08:37:30] &lt;stockMQ&gt;       so if i do</div>
<div class="line">[Thursday 20 January 2011] [08:37:37] &lt;stockMQ&gt;       socket_t publisher(context, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:37:48] &lt;mikko&gt; the member needs to be zms::socket_t <a href="#id37"><span class="problematic" id="id38">*</span></a>publisher;</div>
<div class="line">[Thursday 20 January 2011] [08:37:48] &lt;stockMQ&gt;       the visibility is restricted to the constructor</div>
<div class="line">[Thursday 20 January 2011] [08:37:57] &lt;mikko&gt; not zmq::socket_t publisher;</div>
<div class="line">[Thursday 20 January 2011] [08:38:20] &lt;mikko&gt; as the latter would try to call empty constructor (assuming no initializer list)</div>
<div class="line">[Thursday 20 January 2011] [08:40:03] &lt;<a href="#id881"><span class="problematic" id="id882">sustrik_</span></a>&gt;      you can either make the socket member of the class, or you can pass it <em>pointer</em> to the socket as an argument</div>
<div class="line">[Thursday 20 January 2011] [08:40:03] &lt;stockMQ&gt;       that makes sense</div>
<div class="line">[Thursday 20 January 2011] [08:40:08] &lt;stockMQ&gt;       but i am referring to <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C++/durapub.cpp">https://github.com/imatix/zguide/blob/master/examples/C++/durapub.cpp</a></div>
<div class="line">[Thursday 20 January 2011] [08:40:50] &lt;mikko&gt; stockMQ: not sure i understand</div>
<div class="line">[Thursday 20 January 2011] [08:42:57] &lt;stockMQ&gt;       Ok here is the scenario</div>
<div class="line">[Thursday 20 January 2011] [08:43:30] &lt;stockMQ&gt;       1. I receive fast feed from the exchange which i want to inturn publish to other subscribers</div>
<div class="line">[Thursday 20 January 2011] [08:44:01] &lt;stockMQ&gt;       2. So i want to intialize the publisher in the constructor</div>
<div class="line">[Thursday 20 January 2011] [08:44:21] &lt;stockMQ&gt;       and Send whenever a packet is recvd from the fast feed</div>
<div class="line">[Thursday 20 January 2011] [08:44:39] &lt;stockMQ&gt;       sustrik...did u see that link</div>
<div class="line">[Thursday 20 January 2011] [08:44:45] &lt;<a href="#id883"><span class="problematic" id="id884">sustrik_</span></a>&gt;      yup</div>
<div class="line">[Thursday 20 January 2011] [08:44:57] &lt;<a href="#id885"><span class="problematic" id="id886">sustrik_</span></a>&gt;      why not make the socket a member of the class?</div>
<div class="line">[Thursday 20 January 2011] [08:45:23] &lt;stockMQ&gt;       yes i want to do that</div>
<div class="line">[Thursday 20 January 2011] [08:45:27] &lt;stockMQ&gt;       for example</div>
<div class="line">[Thursday 20 January 2011] [08:45:41] &lt;stockMQ&gt;       socket_t* publisher;</div>
<div class="line">[Thursday 20 January 2011] [08:45:47] &lt;stockMQ&gt;       In constructor</div>
<div class="line">[Thursday 20 January 2011] [08:45:55] &lt;stockMQ&gt;       publisher = ? ? ?</div>
<div class="line">[Thursday 20 January 2011] [08:46:16] &lt;<a href="#id887"><span class="problematic" id="id888">sustrik_</span></a>&gt;      new socket_t (ctx, ZMQ_PUSH);</div>
<div class="line">[Thursday 20 January 2011] [08:46:41] &lt;mikko&gt; context must be a member or passed as param as well</div>
<div class="line">[Thursday 20 January 2011] [08:49:44] &lt;mikko&gt; so for example <a class="reference external" href="https://gist.github.com/01386aebde16bfb65672">https://gist.github.com/01386aebde16bfb65672</a> should work</div>
<div class="line">[Thursday 20 January 2011] [08:51:40] &lt;mikko&gt; <a href="#id889"><span class="problematic" id="id890">sustrik_</span></a>: i took a brief look at UDT sockets</div>
<div class="line">[Thursday 20 January 2011] [08:52:34] &lt;stockMQ&gt;       Thanks guyz</div>
<div class="line">[Thursday 20 January 2011] [08:52:55] &lt;<a href="#id891"><span class="problematic" id="id892">sustrik_</span></a>&gt;      mikko: what have you found out?</div>
<div class="line">[Thursday 20 January 2011] [08:53:01] &lt;<a href="#id893"><span class="problematic" id="id894">sustrik_</span></a>&gt;      stockMQ: np</div>
<div class="line">[Thursday 20 January 2011] [08:53:31] &lt;mikko&gt; <a href="#id895"><span class="problematic" id="id896">sustrik_</span></a>: 1. there are two libraries, neither of them packaged with distros it seems</div>
<div class="line">[Thursday 20 January 2011] [08:53:47] &lt;mikko&gt; they got their own type for sockets</div>
<div class="line">[Thursday 20 January 2011] [08:53:58] &lt;mikko&gt; zeromq seems to be keen on &#8220;fd_t&#8221; in places</div>
<div class="line">[Thursday 20 January 2011] [08:54:19] &lt;<a href="#id897"><span class="problematic" id="id898">sustrik_</span></a>&gt;      you mean, user-space pseudosockets, right?</div>
<div class="line">[Thursday 20 January 2011] [08:54:32] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 20 January 2011] [08:54:36] &lt;<a href="#id899"><span class="problematic" id="id900">sustrik_</span></a>&gt;      ok</div>
<div class="line">[Thursday 20 January 2011] [08:54:46] &lt;stockMQ&gt;       I am new to the world of pointers.. Just curious..  zmq::socket_t publisher (context, ZMQ_PUB);     publisher.bind(&#8220;tcp://<a href="#id39"><span class="problematic" id="id40">*</span></a>:5565&#8221;);</div>
<div class="line">[Thursday 20 January 2011] [08:54:53] &lt;stockMQ&gt;       how would this work</div>
<div class="line">[Thursday 20 January 2011] [08:55:04] &lt;stockMQ&gt;       should it not be publisher-&gt;bind</div>
<div class="line">[Thursday 20 January 2011] [08:55:19] &lt;mikko&gt; stockMQ: no, because publisher is not a pointer</div>
<div class="line">[Thursday 20 January 2011] [08:55:31] &lt;<a href="#id901"><span class="problematic" id="id902">sustrik_</span></a>&gt;      stockMQ: if you are not familiar with pointers I would suggest using C API</div>
<div class="line">[Thursday 20 January 2011] [08:55:38] &lt;<a href="#id903"><span class="problematic" id="id904">sustrik_</span></a>&gt;      it&#8217;s less complex</div>
<div class="line">[Thursday 20 January 2011] [08:55:39] &lt;mikko&gt; <a href="#id905"><span class="problematic" id="id906">sustrik_</span></a>: however their api is pretty close to normal socket api</div>
<div class="line">[Thursday 20 January 2011] [08:55:53] &lt;stockMQ&gt;       ok</div>
<div class="line">[Thursday 20 January 2011] [08:55:59] &lt;<a href="#id907"><span class="problematic" id="id908">sustrik_</span></a>&gt;      mikko: i see</div>
<div class="line">[Thursday 20 January 2011] [08:56:01] &lt;mikko&gt; <a href="#id909"><span class="problematic" id="id910">sustrik_</span></a>: <a class="reference external" href="http://udt.sourceforge.net/udt4/index.htm">http://udt.sourceforge.net/udt4/index.htm</a></div>
<div class="line">[Thursday 20 January 2011] [08:56:13] &lt;mikko&gt; if you look at the example code it probably looks familiar immediately</div>
<div class="line">[Thursday 20 January 2011] [08:56:51] &lt;<a href="#id911"><span class="problematic" id="id912">sustrik_</span></a>&gt;      yes, it does</div>
<div class="line">[Thursday 20 January 2011] [08:58:24] &lt;<a href="#id913"><span class="problematic" id="id914">sustrik_</span></a>&gt;      there looks there is no way to get the underlying file descriptor</div>
<div class="line">[Thursday 20 January 2011] [08:58:52] &lt;mikko&gt; yes, it&#8217;s very likely that you can&#8217;t</div>
<div class="line">[Thursday 20 January 2011] [08:59:29] &lt;<a href="#id915"><span class="problematic" id="id916">sustrik_</span></a>&gt;      that would mean that each UDT worker would have to run in a separate thread</div>
<div class="line">[Thursday 20 January 2011] [08:59:32] &lt;mikko&gt; they seem to have their own epoll implementation</div>
<div class="line">[Thursday 20 January 2011] [08:59:38] &lt;mikko&gt; UDT::epoll</div>
<div class="line">[Thursday 20 January 2011] [09:00:07] &lt;<a href="#id917"><span class="problematic" id="id918">sustrik_</span></a>&gt;      the problem is that it accepts only UDT sockets</div>
<div class="line">[Thursday 20 January 2011] [09:00:19] &lt;<a href="#id919"><span class="problematic" id="id920">sustrik_</span></a>&gt;      so it can&#8217;t be combined with TCP</div>
<div class="line">[Thursday 20 January 2011] [09:00:28] &lt;<a href="#id921"><span class="problematic" id="id922">sustrik_</span></a>&gt;      or PGM</div>
<div class="line">[Thursday 20 January 2011] [09:00:32] &lt;<a href="#id923"><span class="problematic" id="id924">sustrik_</span></a>&gt;      or whatever</div>
<div class="line">[Thursday 20 January 2011] [09:00:37] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 20 January 2011] [09:00:50] &lt;mikko&gt; and probably we wouldn&#8217;t like to use theirs as main implementation</div>
<div class="line">[Thursday 20 January 2011] [09:01:14] &lt;<a href="#id925"><span class="problematic" id="id926">sustrik_</span></a>&gt;      Ah!</div>
<div class="line">[Thursday 20 January 2011] [09:01:15] &lt;<a href="#id927"><span class="problematic" id="id928">sustrik_</span></a>&gt;      lrfds</div>
<div class="line">[Thursday 20 January 2011] [09:01:15] &lt;<a href="#id929"><span class="problematic" id="id930">sustrik_</span></a>&gt;          [out] Optional pointer to a set of system sockets that are ready to read.</div>
<div class="line">[Thursday 20 January 2011] [09:01:15] &lt;<a href="#id931"><span class="problematic" id="id932">sustrik_</span></a>&gt;      lwfds</div>
<div class="line">[Thursday 20 January 2011] [09:01:15] &lt;<a href="#id933"><span class="problematic" id="id934">sustrik_</span></a>&gt;          [out] Optional pointer to a set of system sockets that are ready to write, or are broken.</div>
<div class="line">[Thursday 20 January 2011] [09:01:43] &lt;<a href="#id935"><span class="problematic" id="id936">sustrik_</span></a>&gt;      so there&#8217;s a way to combine UDT sockets with OS sockets</div>
<div class="line">[Thursday 20 January 2011] [09:02:06] &lt;<a href="#id937"><span class="problematic" id="id938">sustrik_</span></a>&gt;      we would have to create a new poller though</div>
<div class="line">[Thursday 20 January 2011] [09:02:14] &lt;<a href="#id939"><span class="problematic" id="id940">sustrik_</span></a>&gt;      one that uses UDT epoll</div>
<div class="line">[Thursday 20 January 2011] [09:02:28] &lt;<a href="#id941"><span class="problematic" id="id942">sustrik_</span></a>&gt;      instead of select/poll/epoll/kqueue etc.</div>
<div class="line">[Thursday 20 January 2011] [09:03:13] &lt;<a href="#id943"><span class="problematic" id="id944">sustrik_</span></a>&gt;      it&#8217;s doable though</div>
<div class="line">[Thursday 20 January 2011] [09:04:27] &lt;mikko&gt; luckily it should be very similar to epoll</div>
<div class="line">[Thursday 20 January 2011] [09:05:32] &lt;<a href="#id945"><span class="problematic" id="id946">sustrik_</span></a>&gt;      yeah, i think it can be done</div>
<div class="line">[Thursday 20 January 2011] [09:05:55] &lt;<a href="#id947"><span class="problematic" id="id948">sustrik_</span></a>&gt;      the question is whether anyone needs that kind of thing</div>
<div class="line">[Thursday 20 January 2011] [09:06:27] &lt;<a href="#id949"><span class="problematic" id="id950">sustrik_</span></a>&gt;      (UDT via 0MQ i mean)</div>
<div class="line">[Thursday 20 January 2011] [09:07:18] &lt;mikko&gt; the other option would be to run separate thread?</div>
<div class="line">[Thursday 20 January 2011] [09:07:28] &lt;mikko&gt; oh</div>
<div class="line">[Thursday 20 January 2011] [09:07:31] &lt;mikko&gt; got you now</div>
<div class="line">[Thursday 20 January 2011] [09:07:48] &lt;mikko&gt; yes, it might be slightly faster than tcp assuming there is no network issues</div>
<div class="line">[Thursday 20 January 2011] [09:08:02] &lt;mikko&gt; not sure if anyone has burning need for that sort of speeds</div>
<div class="line">[Thursday 20 January 2011] [09:08:44] &lt;<a href="#id951"><span class="problematic" id="id952">sustrik_</span></a>&gt;      it would be nice to have, the obvious question is who will bear the maintenance burden</div>
<div class="line">[Thursday 20 January 2011] [09:08:52] &lt;<a href="#id953"><span class="problematic" id="id954">sustrik_</span></a>&gt;      and whether it&#8217;s worth of it</div>
<div class="line">[Thursday 20 January 2011] [09:09:22] &lt;<a href="#id955"><span class="problematic" id="id956">sustrik_</span></a>&gt;      viable approach would be to cooperate with the author of UDT library</div>
<div class="line">[Thursday 20 January 2011] [09:09:30] &lt;<a href="#id957"><span class="problematic" id="id958">sustrik_</span></a>&gt;      same way as we do with steven</div>
<div class="line">[Thursday 20 January 2011] [09:10:15] &lt;mikko&gt; that would be ideal i guess</div>
<div class="line">[Thursday 20 January 2011] [09:10:27] &lt;mikko&gt; the other udt library is by bittorrent</div>
<div class="line">[Thursday 20 January 2011] [09:10:34] &lt;mikko&gt; someone mentioned a github link</div>
<div class="line">[Thursday 20 January 2011] [09:11:10] &lt;mikko&gt; hmm, it&#8217;s actually utp</div>
<div class="line">[Thursday 20 January 2011] [09:11:30] &lt;mikko&gt; <a class="reference external" href="https://github.com/bittorrent/libutp">https://github.com/bittorrent/libutp</a></div>
<div class="line">[Thursday 20 January 2011] [09:12:33] &lt;mikko&gt; that sounds a bit like UDT</div>
<div class="line">[Thursday 20 January 2011] [09:14:32] &lt;<a href="#id959"><span class="problematic" id="id960">sustrik_</span></a>&gt;      we had few people asking for UDP-based transports</div>
<div class="line">[Thursday 20 January 2011] [09:14:47] &lt;<a href="#id961"><span class="problematic" id="id962">sustrik_</span></a>&gt;      however, afaik we have no idea what specifically they are interested in</div>
<div class="line">[Thursday 20 January 2011] [09:14:54] &lt;<a href="#id963"><span class="problematic" id="id964">sustrik_</span></a>&gt;      it may be:</div>
<div class="line">[Thursday 20 January 2011] [09:15:05] &lt;<a href="#id965"><span class="problematic" id="id966">sustrik_</span></a>&gt;      1. unreliable transport without re-transmissions</div>
<div class="line">[Thursday 20 January 2011] [09:15:49] &lt;<a href="#id967"><span class="problematic" id="id968">sustrik_</span></a>&gt;      2. UDT-like fast transfer for large chunks of data</div>
<div class="line">[Thursday 20 January 2011] [09:15:57] &lt;<a href="#id969"><span class="problematic" id="id970">sustrik_</span></a>&gt;      3. unreliable multicast</div>
<div class="line">[Thursday 20 January 2011] [09:16:14] &lt;<a href="#id971"><span class="problematic" id="id972">sustrik_</span></a>&gt;      it would be good figuring that out...</div>
<div class="line">[Thursday 20 January 2011] [09:16:35] &lt;mikko&gt; there was one guy here the other night</div>
<div class="line">[Thursday 20 January 2011] [09:16:40] &lt;mikko&gt; he was after 1.</div>
<div class="line">[Thursday 20 January 2011] [09:16:53] &lt;mikko&gt; but i dont think udp alone fits into zeromq model that well</div>
<div class="line">[Thursday 20 January 2011] [09:17:16] &lt;<a href="#id973"><span class="problematic" id="id974">sustrik_</span></a>&gt;      you can at least do pub/sub</div>
<div class="line">[Thursday 20 January 2011] [09:18:06] &lt;<a href="#id975"><span class="problematic" id="id976">sustrik_</span></a>&gt;      anyway, there are many different transports that can be implemented</div>
<div class="line">[Thursday 20 January 2011] [09:18:20] &lt;<a href="#id977"><span class="problematic" id="id978">sustrik_</span></a>&gt;      sctp, udp+dccp, udt etc.</div>
<div class="line">[Thursday 20 January 2011] [09:18:41] &lt;<a href="#id979"><span class="problematic" id="id980">sustrik_</span></a>&gt;      what&#8217;s missing imo is a clear interface for writing new transports</div>
<div class="line">[Thursday 20 January 2011] [09:18:49] &lt;mikko&gt; it looks like there is no strict abstraction of transports at the moment</div>
<div class="line">[Thursday 20 January 2011] [09:18:56] &lt;<a href="#id981"><span class="problematic" id="id982">sustrik_</span></a>&gt;      exactly</div>
<div class="line">[Thursday 20 January 2011] [09:18:57] &lt;mikko&gt; from the experience of starting udt impl</div>
<div class="line">[Thursday 20 January 2011] [09:20:01] &lt;<a href="#id983"><span class="problematic" id="id984">sustrik_</span></a>&gt;      that&#8217;s something that i would like to have, however, it&#8217;s not clear how the interface should look like</div>
<div class="line">[Thursday 20 January 2011] [09:22:04] &lt;<a href="#id985"><span class="problematic" id="id986">sustrik_</span></a>&gt;      mikko: any idea?</div>
<div class="line">[Thursday 20 January 2011] [09:22:12] &lt;mikko&gt; it&#8217;s very hard to say</div>
<div class="line">[Thursday 20 January 2011] [09:22:18] &lt;mikko&gt; there are so many parts to the interface</div>
<div class="line">[Thursday 20 January 2011] [09:22:38] &lt;mikko&gt; such as receiving / sending, polling etc</div>
<div class="line">[Thursday 20 January 2011] [09:22:46] &lt;<a href="#id987"><span class="problematic" id="id988">sustrik_</span></a>&gt;      :(</div>
<div class="line">[Thursday 20 January 2011] [09:23:10] &lt;mikko&gt; and some sockets might have their own poll, some might have callback driven interface</div>
<div class="line">[Thursday 20 January 2011] [09:23:23] &lt;<a href="#id989"><span class="problematic" id="id990">sustrik_</span></a>&gt;      yuck</div>
<div class="line">[Thursday 20 January 2011] [09:23:28] &lt;mikko&gt; it&#8217;s very hard to create a &#8220;plug&amp;play&#8221; api for all these</div>
<div class="line">[Thursday 20 January 2011] [09:23:41] &lt;<a href="#id991"><span class="problematic" id="id992">sustrik_</span></a>&gt;      well</div>
<div class="line">[Thursday 20 January 2011] [09:23:53] &lt;<a href="#id993"><span class="problematic" id="id994">sustrik_</span></a>&gt;      we have an interface for different polling mechanisms</div>
<div class="line">[Thursday 20 January 2011] [09:24:18] &lt;<a href="#id995"><span class="problematic" id="id996">sustrik_</span></a>&gt;      there&#8217;s already select, poll, epoll, kqueue &amp; dev/poll</div>
<div class="line">[Thursday 20 January 2011] [09:24:40] &lt;mikko&gt; because thinking about the larger picture you probably want pluggable transports that users can create</div>
<div class="line">[Thursday 20 January 2011] [09:24:46] &lt;mikko&gt; which would drive contributions</div>
<div class="line">[Thursday 20 January 2011] [09:24:56] &lt;<a href="#id997"><span class="problematic" id="id998">sustrik_</span></a>&gt;      yes</div>
<div class="line">[Thursday 20 January 2011] [09:25:22] &lt;<a href="#id999"><span class="problematic" id="id1000">sustrik_</span></a>&gt;      so, i think the polling part is not that big a problem</div>
<div class="line">[Thursday 20 January 2011] [09:25:25] &lt;<a href="#id1001"><span class="problematic" id="id1002">sustrik_</span></a>&gt;      so for example</div>
<div class="line">[Thursday 20 January 2011] [09:25:27] &lt;mikko&gt; true</div>
<div class="line">[Thursday 20 January 2011] [09:25:38] &lt;<a href="#id1003"><span class="problematic" id="id1004">sustrik_</span></a>&gt;      with udt you would write a udt_epoll polling mechanism</div>
<div class="line">[Thursday 20 January 2011] [09:25:44] &lt;<a href="#id1005"><span class="problematic" id="id1006">sustrik_</span></a>&gt;      and...</div>
<div class="line">[Thursday 20 January 2011] [09:25:48] &lt;<a href="#id1007"><span class="problematic" id="id1008">sustrik_</span></a>&gt;      a sec</div>
<div class="line">[Thursday 20 January 2011] [09:26:15] &lt;<a href="#id1009"><span class="problematic" id="id1010">sustrik_</span></a>&gt;      add following to the poller.hpp:</div>
<div class="line">[Thursday 20 January 2011] [09:26:29] &lt;<a href="#id1011"><span class="problematic" id="id1012">sustrik_</span></a>&gt;      #elif defined ZMQ_HAVE_UDT</div>
<div class="line">[Thursday 20 January 2011] [09:26:29] &lt;<a href="#id1013"><span class="problematic" id="id1014">sustrik_</span></a>&gt;          typedef udt_epoll_t poller_t;</div>
<div class="line">[Thursday 20 January 2011] [09:26:39] &lt;mikko&gt; yeah</div>
<div class="line">[Thursday 20 January 2011] [09:27:12] &lt;<a href="#id1015"><span class="problematic" id="id1016">sustrik_</span></a>&gt;      hm, one problem would be if there are 2 such transports, the pollers would collide</div>
<div class="line">[Thursday 20 January 2011] [09:28:39] &lt;mikko&gt; or maybe we limit to transports that have pollable fd</div>
<div class="line">[Thursday 20 January 2011] [09:28:45] &lt;mikko&gt; but does that limit too much?</div>
<div class="line">[Thursday 20 January 2011] [09:29:02] &lt;mikko&gt; maybe it would be possible to have pollable fd in udt but they havent had the request yet</div>
<div class="line">[Thursday 20 January 2011] [09:29:02] &lt;<a href="#id1017"><span class="problematic" id="id1018">sustrik_</span></a>&gt;      i don&#8217;t think so</div>
<div class="line">[Thursday 20 January 2011] [09:29:19] &lt;<a href="#id1019"><span class="problematic" id="id1020">sustrik_</span></a>&gt;      thay have to use sockets underneath anyway</div>
<div class="line">[Thursday 20 January 2011] [09:29:41] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 20 January 2011] [09:29:45] &lt;<a href="#id1021"><span class="problematic" id="id1022">sustrik_</span></a>&gt;      so it&#8217;s only a question of exposing them to the user</div>
<div class="line">[Thursday 20 January 2011] [09:29:49] &lt;<a href="#id1023"><span class="problematic" id="id1024">sustrik_</span></a>&gt;      which is nasty</div>
<div class="line">[Thursday 20 January 2011] [09:29:49] &lt;mikko&gt; if the fd was strictly for polling</div>
<div class="line">[Thursday 20 January 2011] [09:29:58] &lt;<a href="#id1025"><span class="problematic" id="id1026">sustrik_</span></a>&gt;      but needed every now and then</div>
<div class="line">[Thursday 20 January 2011] [09:30:07] &lt;<a href="#id1027"><span class="problematic" id="id1028">sustrik_</span></a>&gt;      yes</div>
<div class="line">[Thursday 20 January 2011] [09:30:11] &lt;mikko&gt; integration is prime example</div>
<div class="line">[Thursday 20 January 2011] [09:30:21] &lt;mikko&gt; people using udt only wont probably need it</div>
<div class="line">[Thursday 20 January 2011] [09:30:29] &lt;<a href="#id1029"><span class="problematic" id="id1030">sustrik_</span></a>&gt;      same with 0mq itself, there&#8217;s ZMQ_FD</div>
<div class="line">[Thursday 20 January 2011] [09:30:37] &lt;<a href="#id1031"><span class="problematic" id="id1032">sustrik_</span></a>&gt;      OpenPGM does the same thing</div>
<div class="line">[Thursday 20 January 2011] [09:31:18] &lt;mikko&gt; if udt exposed an fd it would be far from tcp socket</div>
<div class="line">[Thursday 20 January 2011] [09:31:23] &lt;mikko&gt; wouldnt*</div>
<div class="line">[Thursday 20 January 2011] [09:31:51] &lt;<a href="#id1033"><span class="problematic" id="id1034">sustrik_</span></a>&gt;      right, that&#8217;s the another question</div>
<div class="line">[Thursday 20 January 2011] [09:32:09] &lt;<a href="#id1035"><span class="problematic" id="id1036">sustrik_</span></a>&gt;      how to abstract the socket behaviour</div>
<div class="line">[Thursday 20 January 2011] [09:32:53] &lt;<a href="#id1037"><span class="problematic" id="id1038">sustrik_</span></a>&gt;      i.e. how should the transport interface dealing with actual connection negotiation and transfer look like</div>
<div class="line">[Thursday 20 January 2011] [09:33:12] &lt;<a href="#id1039"><span class="problematic" id="id1040">sustrik_</span></a>&gt;      my feeling is that there are 2 distinct cases:</div>
<div class="line">[Thursday 20 January 2011] [09:33:17] &lt;<a href="#id1041"><span class="problematic" id="id1042">sustrik_</span></a>&gt;      1. connected transport</div>
<div class="line">[Thursday 20 January 2011] [09:33:24] &lt;<a href="#id1043"><span class="problematic" id="id1044">sustrik_</span></a>&gt;      2. unconnected transports</div>
<div class="line">[Thursday 20 January 2011] [09:33:34] &lt;<a href="#id1045"><span class="problematic" id="id1046">sustrik_</span></a>&gt;      example of 1. is TCP, example of 2. is PGM</div>
<div class="line">[Thursday 20 January 2011] [09:33:43] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 20 January 2011] [09:33:51] &lt;mikko&gt; common things for both are:</div>
<div class="line">[Thursday 20 January 2011] [09:33:58] &lt;mikko&gt; read/write, connect/bind</div>
<div class="line">[Thursday 20 January 2011] [09:34:12] &lt;mikko&gt; some sort of &#8220;is alive&#8221;</div>
<div class="line">[Thursday 20 January 2011] [09:35:01] &lt;<a href="#id1047"><span class="problematic" id="id1048">sustrik_</span></a>&gt;      actually, connect/bind doesn&#8217;t make much sense for 2.</div>
<div class="line">[Thursday 20 January 2011] [09:35:14] &lt;<a href="#id1049"><span class="problematic" id="id1050">sustrik_</span></a>&gt;      with pgm, both connect and bind do the same thing</div>
<div class="line">[Thursday 20 January 2011] [09:35:34] &lt;<a href="#id1051"><span class="problematic" id="id1052">sustrik_</span></a>&gt;      which would be more properly called &#8220;initialisation&#8221;</div>
<div class="line">[Thursday 20 January 2011] [09:35:47] &lt;mikko&gt; yes, probably initialization</div>
<div class="line">[Thursday 20 January 2011] [09:35:51] &lt;mikko&gt; hmm</div>
<div class="line">[Thursday 20 January 2011] [09:36:39] &lt;mikko&gt; i assume getting pollable fd would be a common thing</div>
<div class="line">[Thursday 20 January 2011] [09:37:23] &lt;<a href="#id1053"><span class="problematic" id="id1054">sustrik_</span></a>&gt;      probably</div>
<div class="line">[Thursday 20 January 2011] [09:38:34] &lt;mikko&gt; ideally the transport would be as dummy as possible</div>
<div class="line">[Thursday 20 January 2011] [09:38:35] &lt;<a href="#id1055"><span class="problematic" id="id1056">sustrik_</span></a>&gt;      the transport would provide an fd, 0mq would use it <em>only</em> for polling</div>
<div class="line">[Thursday 20 January 2011] [09:38:40] &lt;mikko&gt; shifting bytes left and right</div>
<div class="line">[Thursday 20 January 2011] [09:38:48] &lt;<a href="#id1057"><span class="problematic" id="id1058">sustrik_</span></a>&gt;      and forward the handling of the event back to the transport</div>
<div class="line">[Thursday 20 January 2011] [09:38:59] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 20 January 2011] [09:39:05] &lt;<a href="#id1059"><span class="problematic" id="id1060">sustrik_</span></a>&gt;      sorry?</div>
<div class="line">[Thursday 20 January 2011] [09:39:08] &lt;<a href="#id1061"><span class="problematic" id="id1062">sustrik_</span></a>&gt;      whay bytes?</div>
<div class="line">[Thursday 20 January 2011] [09:39:10] &lt;<a href="#id1063"><span class="problematic" id="id1064">sustrik_</span></a>&gt;      what</div>
<div class="line">[Thursday 20 January 2011] [09:39:36] &lt;<a href="#id1065"><span class="problematic" id="id1066">sustrik_</span></a>&gt;      ah, the messages, right?</div>
<div class="line">[Thursday 20 January 2011] [09:39:39] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 20 January 2011] [09:39:49] &lt;mikko&gt; but from transport point of view bytes</div>
<div class="line">[Thursday 20 January 2011] [09:40:05] &lt;mikko&gt; just data</div>
<div class="line">[Thursday 20 January 2011] [09:40:34] &lt;<a href="#id1067"><span class="problematic" id="id1068">sustrik_</span></a>&gt;      hm, that would limit the range of possible transports severely</div>
<div class="line">[Thursday 20 January 2011] [09:40:40] &lt;<a href="#id1069"><span class="problematic" id="id1070">sustrik_</span></a>&gt;      think of HTTP transport</div>
<div class="line">[Thursday 20 January 2011] [09:40:48] &lt;<a href="#id1071"><span class="problematic" id="id1072">sustrik_</span></a>&gt;      it has to know about message boundaries</div>
<div class="line">[Thursday 20 January 2011] [09:41:00] &lt;<a href="#id1073"><span class="problematic" id="id1074">sustrik_</span></a>&gt;      so that it can attach HTTP header to each message</div>
<div class="line">[Thursday 20 January 2011] [09:41:02] &lt;mikko&gt; i don&#8217;t think http transport is realistic in core</div>
<div class="line">[Thursday 20 January 2011] [09:41:14] &lt;<a href="#id1075"><span class="problematic" id="id1076">sustrik_</span></a>&gt;      it&#8217;s just an example</div>
<div class="line">[Thursday 20 January 2011] [09:41:17] &lt;<a href="#id1077"><span class="problematic" id="id1078">sustrik_</span></a>&gt;      think of SCTP</div>
<div class="line">[Thursday 20 January 2011] [09:41:24] &lt;<a href="#id1079"><span class="problematic" id="id1080">sustrik_</span></a>&gt;      it has its own framing</div>
<div class="line">[Thursday 20 January 2011] [09:41:34] &lt;<a href="#id1081"><span class="problematic" id="id1082">sustrik_</span></a>&gt;      thus it needs to know about 0mq message boundaries</div>
<div class="line">[Thursday 20 January 2011] [09:41:50] &lt;<a href="#id1083"><span class="problematic" id="id1084">sustrik_</span></a>&gt;      so that it can frame each 0mq message into SCTP message</div>
<div class="line">[Thursday 20 January 2011] [09:42:24] &lt;stockMQ&gt;       sorry to interrupt guys</div>
<div class="line">[Thursday 20 January 2011] [09:42:32] &lt;stockMQ&gt;       using this-&gt;context = new zmq::context_t (1);      this-&gt;publisher = new zmq::socket_t (<em>this-&gt;context, ZMQ_PUB);        //publisher(context, ZMQ_PUB);          this-&gt;publisher-&gt;bind(&#8220;tcp://</em>:5565&#8221;);</div>
<div class="line">[Thursday 20 January 2011] [09:42:45] &lt;mikko&gt; <a href="#id1085"><span class="problematic" id="id1086">sustrik_</span></a>: hmm</div>
<div class="line">[Thursday 20 January 2011] [09:43:01] &lt;stockMQ&gt;       and whenever i receive a packet from exchange which is in ms</div>
<div class="line">[Thursday 20 January 2011] [09:43:01] &lt;mikko&gt; <a href="#id1087"><span class="problematic" id="id1088">sustrik_</span></a>: let&#8217;s think about it in this way:</div>
<div class="line">[Thursday 20 January 2011] [09:43:07] &lt;mikko&gt; i am sending 1MB message</div>
<div class="line">[Thursday 20 January 2011] [09:43:13] &lt;<a href="#id1089"><span class="problematic" id="id1090">sustrik_</span></a>&gt;      stockMQ: what&#8217;s wrong with that?</div>
<div class="line">[Thursday 20 January 2011] [09:43:14] &lt;stockMQ&gt;       i do</div>
<div class="line">[Thursday 20 January 2011] [09:43:20] &lt;stockMQ&gt;        s_send (this-&gt;publisher,&#8221;TEST&#8221;);</div>
<div class="line">[Thursday 20 January 2011] [09:43:37] &lt;stockMQ&gt;       here the code breaks with an Access Violation</div>
<div class="line">[Thursday 20 January 2011] [09:43:46] &lt;mikko&gt; you probably want s_send(<a href="#id41"><span class="problematic" id="id42">*</span></a>this-&gt;publisher, &#8220;TEST&#8221;);</div>
<div class="line">[Thursday 20 January 2011] [09:43:47] &lt;stockMQ&gt;       but instead if on every packet receipt</div>
<div class="line">[Thursday 20 January 2011] [09:43:57] &lt;stockMQ&gt;       if i do</div>
<div class="line">[Thursday 20 January 2011] [09:44:15] &lt;mikko&gt; stockMQ: how is s_send defined?</div>
<div class="line">[Thursday 20 January 2011] [09:44:18] &lt;stockMQ&gt;       context_t context(1);      socket_t publisher(context, ZMQ_PUB);         //publisher(context, ZMQ_PUB);          publisher.bind(&#8220;<a class="reference external" href="tcp://">tcp://</a><a href="#id43"><span class="problematic" id="id44">*</span></a>:5565&#8221;);        // s_send()      s_send (publisher,&#8221;END&#8221;);</div>
<div class="line">[Thursday 20 January 2011] [09:44:20] &lt;<a href="#id1091"><span class="problematic" id="id1092">sustrik_</span></a>&gt;      i think s_send works on C API</div>
<div class="line">[Thursday 20 January 2011] [09:44:24] &lt;<a href="#id1093"><span class="problematic" id="id1094">sustrik_</span></a>&gt;      not C++ API</div>
<div class="line">[Thursday 20 January 2011] [09:44:28] &lt;stockMQ&gt;       it works fine</div>
<div class="line">[Thursday 20 January 2011] [09:45:07] &lt;mikko&gt; stockMQ: did you try s_send (<a href="#id45"><span class="problematic" id="id46">*</span></a>this-&gt;publisher, &#8220;TEST&#8221;); ?</div>
<div class="line">[Thursday 20 January 2011] [09:45:13] &lt;mikko&gt; <a href="#id1095"><span class="problematic" id="id1096">sustrik_</span></a>: so</div>
<div class="line">[Thursday 20 January 2011] [09:45:32] &lt;mikko&gt; so what i am thinking is for example sending large message which cant be sent in one go</div>
<div class="line">[Thursday 20 January 2011] [09:45:45] &lt;mikko&gt; would the chunking be handled in transport?</div>
<div class="line">[Thursday 20 January 2011] [09:47:19] &lt;<a href="#id1097"><span class="problematic" id="id1098">sustrik_</span></a>&gt;      can&#8217;t be sent in one go = multi-part?</div>
<div class="line">[Thursday 20 January 2011] [09:58:26] &lt;mikko&gt; no</div>
<div class="line">[Thursday 20 January 2011] [09:58:28] &lt;mikko&gt; transport layer</div>
<div class="line">[Thursday 20 January 2011] [09:58:33] &lt;mikko&gt; EAGAIN for example</div>
<div class="line">[Thursday 20 January 2011] [11:28:05] &lt;Skaag&gt; weird, i&#8217;m compiling on a fresh machine a very simple test and I get test.c:(.text+0x3c): undefined reference to <a href="#id47"><span class="problematic" id="id48">`</span></a>zmq_socket&#8217;, etc.</div>
<div class="line">[Thursday 20 January 2011] [11:44:14] &lt;mikko&gt; Skaag: are you linking against zmq?</div>
<div class="line">[Thursday 20 January 2011] [11:44:20] &lt;mikko&gt; Skaag: looks like not</div>
<div class="line">[Thursday 20 January 2011] [12:28:22] &lt;<a href="#id1099"><span class="problematic" id="id1100">sustrik_</span></a>&gt;      mikko: re</div>
<div class="line">[Thursday 20 January 2011] [12:28:31] &lt;<a href="#id1101"><span class="problematic" id="id1102">sustrik_</span></a>&gt;      i see</div>
<div class="line">[Thursday 20 January 2011] [12:29:03] &lt;<a href="#id1103"><span class="problematic" id="id1104">sustrik_</span></a>&gt;      in any case 0mq is not able to send a message that doesn&#8217;t fit into memory</div>
<div class="line">[Thursday 20 January 2011] [12:29:26] &lt;mikko&gt; sure</div>
<div class="line">[Thursday 20 January 2011] [12:29:34] &lt;mikko&gt; i mean if you have non-blocking socket</div>
<div class="line">[Thursday 20 January 2011] [12:29:35] &lt;<a href="#id1105"><span class="problematic" id="id1106">sustrik_</span></a>&gt;      and how do large messages affect whether trasport should frame messages or not?</div>
<div class="line">[Thursday 20 January 2011] [12:29:41] &lt;mikko&gt; you send 200K, get EAGAIN</div>
<div class="line">[Thursday 20 January 2011] [12:29:52] &lt;mikko&gt; does the transport buffer the message and retry?</div>
<div class="line">[Thursday 20 January 2011] [12:30:11] &lt;<a href="#id1107"><span class="problematic" id="id1108">sustrik_</span></a>&gt;      you mane EAGAIN from the underlying socket?</div>
<div class="line">[Thursday 20 January 2011] [12:30:15] &lt;mikko&gt; yes</div>
<div class="line">[Thursday 20 January 2011] [12:30:15] &lt;<a href="#id1109"><span class="problematic" id="id1110">sustrik_</span></a>&gt;      TCP socket</div>
<div class="line">[Thursday 20 January 2011] [12:30:49] &lt;<a href="#id1111"><span class="problematic" id="id1112">sustrik_</span></a>&gt;      the transports are event driven</div>
<div class="line">[Thursday 20 January 2011] [12:31:06] &lt;<a href="#id1113"><span class="problematic" id="id1114">sustrik_</span></a>&gt;      so once the underlying tcp socket is ready for writing</div>
<div class="line">[Thursday 20 January 2011] [12:31:11] &lt;mikko&gt; ok</div>
<div class="line">[Thursday 20 January 2011] [12:31:15] &lt;<a href="#id1115"><span class="problematic" id="id1116">sustrik_</span></a>&gt;      transport is notified</div>
<div class="line">[Thursday 20 January 2011] [12:31:22] &lt;<a href="#id1117"><span class="problematic" id="id1118">sustrik_</span></a>&gt;      and tries to write some data</div>
<div class="line">[Thursday 20 January 2011] [12:31:30] &lt;<a href="#id1119"><span class="problematic" id="id1120">sustrik_</span></a>&gt;      how much is up to the transport</div>
<div class="line">[Thursday 20 January 2011] [12:31:52] &lt;<a href="#id1121"><span class="problematic" id="id1122">sustrik_</span></a>&gt;      anyway, the data can be sent partially</div>
<div class="line">[Thursday 20 January 2011] [12:32:09] &lt;<a href="#id1123"><span class="problematic" id="id1124">sustrik_</span></a>&gt;      so the transport has to remember the reamining part</div>
<div class="line">[Thursday 20 January 2011] [12:32:17] &lt;<a href="#id1125"><span class="problematic" id="id1126">sustrik_</span></a>&gt;      and send it on next &#8220;can send&#8221; event</div>
<div class="line">[Thursday 20 January 2011] [12:32:36] &lt;mikko&gt; so the buffering of messages happen all the way down in transport?</div>
<div class="line">[Thursday 20 January 2011] [12:33:00] &lt;<a href="#id1127"><span class="problematic" id="id1128">sustrik_</span></a>&gt;      transport has to buffer one message</div>
<div class="line">[Thursday 20 January 2011] [12:33:05] &lt;<a href="#id1129"><span class="problematic" id="id1130">sustrik_</span></a>&gt;      (the partially sent one)</div>
<div class="line">[Thursday 20 January 2011] [12:33:08] &lt;mikko&gt; ok</div>
<div class="line">[Thursday 20 January 2011] [12:33:20] &lt;<a href="#id1131"><span class="problematic" id="id1132">sustrik_</span></a>&gt;      the remaining messages are buffered in pipes</div>
<div class="line">[Thursday 20 January 2011] [12:33:22] &lt;mikko&gt; so the write () method for transport would take a message</div>
<div class="line">[Thursday 20 January 2011] [12:34:02] &lt;<a href="#id1133"><span class="problematic" id="id1134">sustrik_</span></a>&gt;      it flow of command is in opposite direction</div>
<div class="line">[Thursday 20 January 2011] [12:34:12] &lt;<a href="#id1135"><span class="problematic" id="id1136">sustrik_</span></a>&gt;      it&#8217;s not that pipe calls write() function on transport</div>
<div class="line">[Thursday 20 January 2011] [12:34:22] &lt;<a href="#id1137"><span class="problematic" id="id1138">sustrik_</span></a>&gt;      rather trasport calls read() on the pipe</div>
<div class="line">[Thursday 20 January 2011] [12:35:00] &lt;mikko&gt; hmm</div>
<div class="line">[Thursday 20 January 2011] [12:35:41] &lt;<a href="#id1139"><span class="problematic" id="id1140">sustrik_</span></a>&gt;      it&#8217;s poller who actually invokes the transport</div>
<div class="line">[Thursday 20 January 2011] [12:35:52] &lt;<a href="#id1141"><span class="problematic" id="id1142">sustrik_</span></a>&gt;      saying &#8220;you can read from TCP socket&#8221;</div>
<div class="line">[Thursday 20 January 2011] [12:35:59] &lt;<a href="#id1143"><span class="problematic" id="id1144">sustrik_</span></a>&gt;      or &#8220;you can write to TCP socket&#8221;</div>
<div class="line">[Thursday 20 January 2011] [12:47:51] &lt;mikko&gt; <a href="#id1145"><span class="problematic" id="id1146">sustrik_</span></a>: im gonna make windows dlls available</div>
<div class="line">[Thursday 20 January 2011] [12:47:51] &lt;mikko&gt; from daily builds</div>
<div class="line">[Thursday 20 January 2011] [12:47:51] &lt;mikko&gt; as &#8220;snapshots&#8221;</div>
<div class="line">[Thursday 20 January 2011] [12:47:51] &lt;<a href="#id1147"><span class="problematic" id="id1148">sustrik_</span></a>&gt;      mikko: great</div>
<div class="line">[Thursday 20 January 2011] [12:49:12] &lt;<a href="#id1149"><span class="problematic" id="id1150">sustrik_</span></a>&gt;      mingw or msvc?</div>
<div class="line">[Thursday 20 January 2011] [12:50:11] &lt;mikko&gt; both even</div>
<div class="line">[Thursday 20 January 2011] [12:51:08] &lt;lt_schmidt_jr&gt; about jzmq  maven package is making eclipse quite unhappy because of the file hierarchy</div>
<div class="line">[Thursday 20 January 2011] [12:51:24] &lt;lt_schmidt_jr&gt; I have fixed it up locally</div>
<div class="line">[Thursday 20 January 2011] [12:51:35] &lt;<a href="#id1151"><span class="problematic" id="id1152">sustrik_</span></a>&gt;      then submit a patch to jzmq project</div>
<div class="line">[Thursday 20 January 2011] [12:51:36] &lt;mikko&gt; jzmq doesnt use maven?</div>
<div class="line">[Thursday 20 January 2011] [12:51:48] &lt;lt_schmidt_jr&gt; there is a pom.xml</div>
<div class="line">[Thursday 20 January 2011] [12:52:10] &lt;lt_schmidt_jr&gt; Mikko is that a question ?</div>
<div class="line">[Thursday 20 January 2011] [12:52:22] &lt;mikko&gt; it was a question in a way</div>
<div class="line">[Thursday 20 January 2011] [12:52:30] &lt;mikko&gt; i&#8217;ve only used the autoconf build</div>
<div class="line">[Thursday 20 January 2011] [12:52:39] &lt;lt_schmidt_jr&gt; and the jar?</div>
<div class="line">[Thursday 20 January 2011] [12:53:35] &lt;mikko&gt; oh, there is a pom</div>
<div class="line">[Thursday 20 January 2011] [12:53:44] &lt;lt_schmidt_jr&gt; sans instructions I  used the autoconf build  and then ran mvn install</div>
<div class="line">[Thursday 20 January 2011] [12:54:05] &lt;lt_schmidt_jr&gt; seemed to do the right things - but the file hierarchy was a bit off</div>
<div class="line">[Thursday 20 January 2011] [12:54:29] &lt;lt_schmidt_jr&gt; eclipse would compile but complained bitterly and would red the dependencies</div>
<div class="line">[Thursday 20 January 2011] [12:54:52] &lt;lt_schmidt_jr&gt; it was not wrong - just not quite regular</div>
<div class="line">[Thursday 20 January 2011] [12:55:59] &lt;lt_schmidt_jr&gt; sorry - this is a new thing for me - how do I submit a patch?</div>
<div class="line">[Thursday 20 January 2011] [12:56:08] &lt;<a href="#id1153"><span class="problematic" id="id1154">sustrik_</span></a>&gt;      send it to the mailing list</div>
<div class="line">[Thursday 20 January 2011] [12:56:24] &lt;lt_schmidt_jr&gt; as a tar.gz?</div>
<div class="line">[Thursday 20 January 2011] [12:56:27] &lt;<a href="#id1155"><span class="problematic" id="id1156">sustrik_</span></a>&gt;      ah</div>
<div class="line">[Thursday 20 January 2011] [12:56:33] &lt;lt_schmidt_jr&gt; ok, will do</div>
<div class="line">[Thursday 20 January 2011] [12:56:46] &lt;<a href="#id1157"><span class="problematic" id="id1158">sustrik_</span></a>&gt;      a diff presumably</div>
<div class="line">[Thursday 20 January 2011] [12:57:01] &lt;lt_schmidt_jr&gt; ok</div>
<div class="line">[Thursday 20 January 2011] [12:57:59] &lt;lt_schmidt_jr&gt; since I have you here:  I was looking at this thread</div>
<div class="line">[Thursday 20 January 2011] [12:58:00] &lt;lt_schmidt_jr&gt; <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-July/004411.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-July/004411.html</a></div>
<div class="line">[Thursday 20 January 2011] [12:59:00] &lt;lt_schmidt_jr&gt; is this a serviceable way to create a local message bus ?</div>
<div class="line">[Thursday 20 January 2011] [12:59:20] &lt;<a href="#id1159"><span class="problematic" id="id1160">sustrik_</span></a>&gt;      what do you mean by &#8220;serviceable&#8221; ?</div>
<div class="line">[Thursday 20 January 2011] [12:59:28] &lt;lt_schmidt_jr&gt; will this work?</div>
<div class="line">[Thursday 20 January 2011] [12:59:29] &lt;lt_schmidt_jr&gt; :)</div>
<div class="line">[Thursday 20 January 2011] [12:59:31] &lt;<a href="#id1161"><span class="problematic" id="id1162">sustrik_</span></a>&gt;      yes</div>
<div class="line">[Thursday 20 January 2011] [12:59:54] &lt;<a href="#id1163"><span class="problematic" id="id1164">sustrik_</span></a>&gt;      also check the devices</div>
<div class="line">[Thursday 20 January 2011] [13:00:11] &lt;<a href="#id1165"><span class="problematic" id="id1166">sustrik_</span></a>&gt;      the component in the middle comes precompiled with 0mq</div>
<div class="line">[Thursday 20 January 2011] [13:00:17] &lt;<a href="#id1167"><span class="problematic" id="id1168">sustrik_</span></a>&gt;      zmq_forwarder</div>
<div class="line">[Thursday 20 January 2011] [13:00:41] &lt;lt_schmidt_jr&gt; I was assuming I could use the ZMQForwarder on a Java thread</div>
<div class="line">[Thursday 20 January 2011] [13:00:44] &lt;mikko&gt; for jzmq you could possibly send a pull request?</div>
<div class="line">[Thursday 20 January 2011] [13:00:53] &lt;mikko&gt; or do they follow the same model of signed patches?</div>
<div class="line">[Thursday 20 January 2011] [13:01:07] &lt;<a href="#id1169"><span class="problematic" id="id1170">sustrik_</span></a>&gt;      i don&#8217;t think so</div>
<div class="line">[Thursday 20 January 2011] [13:01:21] &lt;<a href="#id1171"><span class="problematic" id="id1172">sustrik_</span></a>&gt;      lt_schidt_jr: sure, you can do that</div>
<div class="line">[Thursday 20 January 2011] [13:02:31] &lt;lt_schmidt_jr&gt; thank you - and I should be able to have sockets connecting to the device specify what they are interested in - the thread some insist on subscribing for &#8220;all&#8221;?</div>
<div class="line">[Thursday 20 January 2011] [13:02:59] &lt;<a href="#id1173"><span class="problematic" id="id1174">sustrik_</span></a>&gt;      you can subscribe for whatever you want</div>
<div class="line">[Thursday 20 January 2011] [13:03:31] &lt;lt_schmidt_jr&gt; <a href="#id1175"><span class="problematic" id="id1176">sustrik_</span></a>:  excellent, thank you</div>
<div class="line">[Thursday 20 January 2011] [13:03:50] &lt;<a href="#id1177"><span class="problematic" id="id1178">sustrik_</span></a>&gt;      you are welcome</div>
<div class="line">[Thursday 20 January 2011] [13:21:20] &lt;sam`&gt;  this may seem like a silly question, but is it possible to use ZMQ to connect to &#8220;normal&#8221; sockets?</div>
<div class="line">[Thursday 20 January 2011] [13:23:13] &lt;<a href="#id1179"><span class="problematic" id="id1180">sustrik_</span></a>&gt;      normal sockets = TCP sockets?</div>
<div class="line">[Thursday 20 January 2011] [13:23:32] &lt;<a href="#id1181"><span class="problematic" id="id1182">sustrik_</span></a>&gt;      if so, then the normal socket would have to speak 0mq wire protocol</div>
<div class="line">[Thursday 20 January 2011] [13:23:40] &lt;<a href="#id1183"><span class="problematic" id="id1184">sustrik_</span></a>&gt;      see here rfc.zeromq.org</div>
<div class="line">[Thursday 20 January 2011] [13:27:21] &lt;sam`&gt;  <a href="#id1185"><span class="problematic" id="id1186">sustrik_</span></a>: thanks</div>
<div class="line">[Thursday 20 January 2011] [14:49:17] &lt;mikko&gt; <a href="#id1187"><span class="problematic" id="id1188">sustrik_</span></a>: <a class="reference external" href="http://snapshot.valokuva.org/">http://snapshot.valokuva.org/</a></div>
<div class="line">[Thursday 20 January 2011] [14:49:24] &lt;mikko&gt; now each build generates a snapshot</div>
<div class="line">[Thursday 20 January 2011] [14:50:24] &lt;<a href="#id1189"><span class="problematic" id="id1190">sustrik_</span></a>&gt;      great</div>
<div class="line">[Thursday 20 January 2011] [14:50:31] &lt;<a href="#id1191"><span class="problematic" id="id1192">sustrik_</span></a>&gt;      is that mingw or msvc build?</div>
<div class="line">[Thursday 20 January 2011] [14:50:37] &lt;mikko&gt; msvc</div>
<div class="line">[Thursday 20 January 2011] [14:50:43] &lt;mikko&gt; i think i need to add that notion</div>
<div class="line">[Thursday 20 January 2011] [14:50:59] &lt;<a href="#id1193"><span class="problematic" id="id1194">sustrik_</span></a>&gt;      i see</div>
<div class="line">[Thursday 20 January 2011] [14:51:21] &lt;<a href="#id1195"><span class="problematic" id="id1196">sustrik_</span></a>&gt;      maybe link it from the website somewhere...</div>
<div class="line">[Thursday 20 January 2011] [14:51:47] &lt;mikko&gt; mingw doesnt pass make check on windows at the moment</div>
<div class="line">[Thursday 20 January 2011] [14:51:52] &lt;mikko&gt; due to ipc lacking</div>
<div class="line">[Thursday 20 January 2011] [14:52:14] &lt;mikko&gt; maybe ipc tests should be excluded on mingw</div>
<div class="line">[Thursday 20 January 2011] [15:03:14] &lt;<a href="#id1197"><span class="problematic" id="id1198">sustrik_</span></a>&gt;      ipc is missing on win altogether</div>
<div class="line">[Thursday 20 January 2011] [15:40:53] &lt;mikko&gt; <a href="#id1199"><span class="problematic" id="id1200">sustrik_</span></a>: sent two patches to list</div>
<div class="line">[Thursday 20 January 2011] [16:02:17] &lt;<a href="#id1201"><span class="problematic" id="id1202">sustrik_</span></a>&gt;      ok, let me see</div>
<div class="line">[Thursday 20 January 2011] [16:07:15] &lt;<a href="#id1203"><span class="problematic" id="id1204">sustrik_</span></a>&gt;      mikko: what&#8217;s the visibility stuff about?</div>
<div class="line">[Thursday 20 January 2011] [16:13:56] &lt;CIA-21&gt;        zeromq2: 03Mikko Koppanen 07master * r8561a55 10/ src/zmq.cpp :</div>
<div class="line">[Thursday 20 January 2011] [16:13:56] &lt;CIA-21&gt;        zeromq2: Remove unnecessary visibility pragmas</div>
<div class="line">[Thursday 20 January 2011] [16:13:56] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/haVGtq">http://bit.ly/haVGtq</a></div>
<div class="line">[Thursday 20 January 2011] [16:14:01] &lt;CIA-21&gt;        zeromq2: 03Mikko Koppanen 07master * r8e61a11 10/ tests/Makefile.am :</div>
<div class="line">[Thursday 20 January 2011] [16:14:01] &lt;CIA-21&gt;        zeromq2: Do not execute ipc tests under MinGW</div>
<div class="line">[Thursday 20 January 2011] [16:14:01] &lt;CIA-21&gt;        zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/e2t6TF">http://bit.ly/e2t6TF</a></div>
<div class="line">[Thursday 20 January 2011] [16:15:01] &lt;<a href="#id1205"><span class="problematic" id="id1206">sustrik_</span></a>&gt;      ok, applied</div>
<div class="line">[Thursday 20 January 2011] [16:15:27] &lt;<a href="#id1207"><span class="problematic" id="id1208">sustrik_</span></a>&gt;      luckily, i am not a maintainer of the build system, i don&#8217;t have to understand what&#8217;s going on :)</div>
<div class="line">[Thursday 20 January 2011] [17:08:20] &lt;mikko&gt; <a href="#id1209"><span class="problematic" id="id1210">sustrik_</span></a>: the visibility is defined in declaration</div>
<div class="line">[Thursday 20 January 2011] [17:08:26] &lt;mikko&gt; as far as i understand</div>
<div class="line">[Thursday 20 January 2011] [17:08:36] &lt;mikko&gt; so the implementation doesn&#8217;t really need that pragma</div>
<div class="line">[Thursday 20 January 2011] [17:08:56] &lt;mikko&gt; and we fixed a bug regarding visibility where we moved from that pragma push/pop to ZMQ_EXPORT</div>
<div class="line">[Thursday 20 January 2011] [17:09:04] &lt;mikko&gt; so it seems that statement had no effect</div>
<div class="line">[Thursday 20 January 2011] [18:07:45] &lt;Skaag&gt; mikko: yes, sorry, the -lzmq line was commented out in the makefile for some weird reason...</div>
<div class="line">[Thursday 20 January 2011] [19:11:04] &lt;sam`&gt;  is there a way to have a fan-in pattern but which discards messages if the downstream node is not present ?</div>
<div class="line">[Thursday 20 January 2011] [20:29:10] &lt;nathanmarz&gt;    hey all - is there any way to do a push socket that does fan-out instead of load-balancing?</div>
<div class="line">[Thursday 20 January 2011] [20:29:49] &lt;nathanmarz&gt;    or should i just have the push node open a socket for every node it needs to send data to and do the send for each receiver</div>
<div class="line">[Thursday 20 January 2011] [20:29:50] &lt;nathanmarz&gt;    ?</div>
<div class="line">[Friday 21 January 2011] [00:01:39] &lt;stockMQ&gt; Hi</div>
<div class="line">[Friday 21 January 2011] [00:01:44] &lt;stockMQ&gt; I am facing a problem</div>
<div class="line">[Friday 21 January 2011] [00:02:03] &lt;stockMQ&gt; I am trying publish a struct</div>
<div class="line">[Friday 21 January 2011] [00:03:58] &lt;stockMQ&gt; I do it as follows</div>
<div class="line">[Friday 21 January 2011] [00:03:59] &lt;stockMQ&gt;                                                         ScripRecord* scrip = &amp;scripStatus[token];                                               char message[sizeof(<a href="#id49"><span class="problematic" id="id50">*</span></a>scrip)];                                           memcpy(&amp;message,scrip, sizeof(scripStatus[token]));                                             s_send (<a href="#id51"><span class="problematic" id="id52">*</span></a>this-&gt;publisher,message);</div>
<div class="line">[Friday 21 January 2011] [00:04:15] &lt;stockMQ&gt; where scrip* is the pointer to the strcut</div>
<div class="line">[Friday 21 January 2011] [00:04:39] &lt;stockMQ&gt; But the first message i recv at receiver is of size 1</div>
<div class="line">[Friday 21 January 2011] [00:04:46] &lt;stockMQ&gt; the struct is</div>
<div class="line">[Friday 21 January 2011] [00:05:07] &lt;stockMQ&gt; struct ScripRecord {    int test;       int token;      float open,high,low,close;      double volume, volumeTradedToday, dateTime, buyVolume, sellVolume;      float bid, ask, openInterest;   float dayOpen, dayLow, dayHigh, previousClose;          ScripRecord()   {               memset(this, 0, sizeof(ScripRecord));   } };</div>
<div class="line">[Friday 21 January 2011] [00:05:12] &lt;stockMQ&gt; and its size is 92</div>
<div class="line">[Friday 21 January 2011] [00:13:25] &lt;stockMQ&gt; Any help ??</div>
<div class="line">[Friday 21 January 2011] [00:32:16] &lt;stockMQ&gt; I tried sending a sinple String &#8220;Hi&#8221;</div>
<div class="line">[Friday 21 January 2011] [00:32:20] &lt;stockMQ&gt; and that works fine</div>
<div class="line">[Friday 21 January 2011] [02:11:23] &lt;<a href="#id1211"><span class="problematic" id="id1212">sustrik_</span></a>&gt;        sam`: PUB/SUB</div>
<div class="line">[Friday 21 January 2011] [02:11:48] &lt;<a href="#id1213"><span class="problematic" id="id1214">sustrik_</span></a>&gt;        nathanmarz: PUB/SUB</div>
<div class="line">[Friday 21 January 2011] [02:13:36] &lt;<a href="#id1215"><span class="problematic" id="id1216">sustrik_</span></a>&gt;        stockMQ: s_send is only for sending stings AFAIU</div>
<div class="line">[Friday 21 January 2011] [02:13:46] &lt;<a href="#id1217"><span class="problematic" id="id1218">sustrik_</span></a>&gt;        use standard 0mq API</div>
<div class="line">[Friday 21 January 2011] [02:13:54] &lt;<a href="#id1219"><span class="problematic" id="id1220">sustrik_</span></a>&gt;        zmq_send()</div>
<div class="line">[Friday 21 January 2011] [02:51:47] &lt;Evet&gt;    have you ever used zeromq for layer 7 routing?</div>
<div class="line">[Friday 21 January 2011] [03:02:35] &lt;mikko&gt;   Evet: what do you mean by that?</div>
<div class="line">[Friday 21 January 2011] [03:03:31] &lt;mikko&gt;   and good morning</div>
<div class="line">[Friday 21 January 2011] [03:04:00] &lt;guido_g&gt; &#8216;morning all</div>
<div class="line">[Friday 21 January 2011] [03:10:24] &lt;Evet&gt;    mikko: zeromq between front-end loadbalancer and back-end servers</div>
<div class="line">[Friday 21 January 2011] [03:10:56] &lt;mikko&gt;   Evet: that is what mongrel2 does</div>
<div class="line">[Friday 21 January 2011] [03:15:59] &lt;Evet&gt;    mikko: sure. but i need to implement some other protocols</div>
<div class="line">[Friday 21 January 2011] [03:16:44] &lt;mikko&gt;   what is the question here actually?</div>
<div class="line">[Friday 21 January 2011] [03:16:58] &lt;mikko&gt;   is the message coming in from front a zeromq message</div>
<div class="line">[Friday 21 January 2011] [03:17:11] &lt;mikko&gt;   or are you proxying other protocols?</div>
<div class="line">[Friday 21 January 2011] [03:20:16] &lt;Evet&gt;    mikko: i want to do what mongrel2 does, but for other protocols. the actual question is</div>
<div class="line">[Friday 21 January 2011] [03:20:24] &lt;Evet&gt;    im afraid to run multiple event loop in a process</div>
<div class="line">[Friday 21 January 2011] [03:20:43] &lt;Evet&gt;    one for accepting real world connections, and other for zeromq</div>
<div class="line">[Friday 21 January 2011] [03:21:10] &lt;Evet&gt;    how can i implement real world protocols to zeromq&#8217;s event-loop?</div>
<div class="line">[Friday 21 January 2011] [03:21:12] &lt;mikko&gt;   why?</div>
<div class="line">[Friday 21 January 2011] [03:21:18] &lt;mikko&gt;   just run them on separate threads?</div>
<div class="line">[Friday 21 January 2011] [03:21:26] &lt;mikko&gt;   or run a one bigger loop</div>
<div class="line">[Friday 21 January 2011] [03:21:43] &lt;Evet&gt;    yes, one bigger loop is what i need</div>
<div class="line">[Friday 21 January 2011] [03:21:58] &lt;mikko&gt;   you can also run two threads</div>
<div class="line">[Friday 21 January 2011] [03:22:08] &lt;mikko&gt;   and send messages between the threads using inproc://</div>
<div class="line">[Friday 21 January 2011] [03:22:46] &lt;Evet&gt;    i want to use all cores for that two jobs</div>
<div class="line">[Friday 21 January 2011] [03:23:10] &lt;mikko&gt;   well, then you need multiple threads in any case i guess</div>
<div class="line">[Friday 21 January 2011] [03:24:31] &lt;mikko&gt;   is there a large overhead to protocol parsing?</div>
<div class="line">[Friday 21 January 2011] [03:26:00] &lt;Evet&gt;    mikko: no, almost zero overhead for parsing</div>
<div class="line">[Friday 21 January 2011] [03:26:51] &lt;mikko&gt;   so you could accept front-end connections in a single thread i assume</div>
<div class="line">[Friday 21 January 2011] [03:28:05] &lt;Evet&gt;    single cpu core cant respond more than 8k requests per second</div>
<div class="line">[Friday 21 January 2011] [03:28:23] &lt;mikko&gt;   what does responding mean?</div>
<div class="line">[Friday 21 January 2011] [03:29:06] &lt;Evet&gt;    the request-reply pattern</div>
<div class="line">[Friday 21 January 2011] [03:29:29] &lt;mikko&gt;   that depends on what kind of processing needs to be done to generate reply</div>
<div class="line">[Friday 21 January 2011] [03:29:46] &lt;mikko&gt;   otherwise its just accept, read, write</div>
<div class="line">[Friday 21 January 2011] [03:32:19] &lt;Evet&gt;    yes, and i need more than one thread for a simple accept-read-write job, which is enough to serve dynamic content through embedded in-memory database</div>
<div class="line">[Friday 21 January 2011] [03:33:07] &lt;mikko&gt;   isn&#8217;t it quite common to have one thread accepting and then pass down to worker threads?</div>
<div class="line">[Friday 21 January 2011] [03:33:55] &lt;mikko&gt;   Evet: if i remember correctly for example memcached performs a lot better when used single-threaded</div>
<div class="line">[Friday 21 January 2011] [03:34:13] &lt;mikko&gt;   and it sounds very much like memcached you are creating there</div>
<div class="line">[Friday 21 January 2011] [03:37:14] &lt;mikko&gt;   maybe thats different with UDP</div>
<div class="line">[Friday 21 January 2011] [03:37:21] &lt;mikko&gt;   (the performance)</div>
<div class="line">[Friday 21 January 2011] [03:43:19] &lt;Evet&gt;    well</div>
<div class="line">[Friday 21 January 2011] [03:43:24] &lt;Evet&gt;    inproc:// makes sense now</div>
<div class="line">[Friday 21 January 2011] [03:44:28] &lt;mikko&gt;   Evet: also, if you have single thread accessing the hash database it probably reduces lock congestion</div>
<div class="line">[Friday 21 January 2011] [03:46:03] &lt;mikko&gt;   assuming you write as well</div>
<div class="line">[Friday 21 January 2011] [03:46:26] &lt;Evet&gt;    oh wait, youre also using kyoto cabinet, right?</div>
<div class="line">[Friday 21 January 2011] [03:47:55] &lt;mikko&gt;   i&#8217;ve used tokyo cabinet/tyrant in the past</div>
<div class="line">[Friday 21 January 2011] [03:47:59] &lt;mikko&gt;   and now testing kyoto cabinet</div>
<div class="line">[Friday 21 January 2011] [03:48:42] &lt;Evet&gt;    for caching only?</div>
<div class="line">[Friday 21 January 2011] [03:49:06] &lt;mikko&gt;   no, persistence</div>
<div class="line">[Friday 21 January 2011] [03:49:50] &lt;Evet&gt;    do you store relationships?</div>
<div class="line">[Friday 21 January 2011] [03:50:07] &lt;mikko&gt;   no, not really</div>
<div class="line">[Friday 21 January 2011] [03:53:42] &lt;Evet&gt;    im building an SQL and SPARQL api on top of kyoto cabinet</div>
<div class="line">[Friday 21 January 2011] [03:53:54] &lt;Evet&gt;    and planning to use zeromq for backup-restore logic</div>
<div class="line">[Friday 21 January 2011] [03:56:23] &lt;<a href="#id1221"><span class="problematic" id="id1222">sustrik_</span></a>&gt;        8k 0MQ requests per second?</div>
<div class="line">[Friday 21 January 2011] [03:56:46] &lt;<a href="#id1223"><span class="problematic" id="id1224">sustrik_</span></a>&gt;        doesn&#8217;t seem likely unless you are doing it in lock-step manner</div>
<div class="line">[Friday 21 January 2011] [03:57:36] &lt;Evet&gt;    single core of a single desktop pc</div>
<div class="line">[Friday 21 January 2011] [03:59:25] &lt;stockMQ&gt; I am typecasting stuct to char*</div>
<div class="line">[Friday 21 January 2011] [03:59:30] &lt;stockMQ&gt; before sending</div>
<div class="line">[Friday 21 January 2011] [03:59:45] &lt;mikko&gt;   stockMQ: sure, but first null character would cut your char*</div>
<div class="line">[Friday 21 January 2011] [03:59:55] &lt;mikko&gt;   stockMQ: s_send uses strlen () probably</div>
<div class="line">[Friday 21 January 2011] [04:00:08] &lt;stockMQ&gt; ohk.. will pack help?</div>
<div class="line">[Friday 21 January 2011] [04:00:33] &lt;mikko&gt;   stockMQ: can you show the code?</div>
<div class="line">[Friday 21 January 2011] [04:00:36] &lt;mikko&gt;   gist.github.com</div>
<div class="line">[Friday 21 January 2011] [04:01:20] &lt;stockMQ&gt; i have pasted it before.. coz now i do not have access to it :(</div>
<div class="line">[Friday 21 January 2011] [04:01:53] &lt;mikko&gt;   are you running the same architecture on all your nodes?</div>
<div class="line">[Friday 21 January 2011] [04:02:03] &lt;mikko&gt;   as sending a struct is not portable</div>
<div class="line">[Friday 21 January 2011] [04:02:28] &lt;mikko&gt;   unless you serialize it for transport (protobufs, thrift etc)</div>
<div class="line">[Friday 21 January 2011] [05:36:17] &lt;nathanmarz&gt;      <a href="#id1225"><span class="problematic" id="id1226">sustrik_</span></a>: but my sender already knows who all the recievers are going to be</div>
<div class="line">[Friday 21 January 2011] [05:36:44] &lt;nathanmarz&gt;      <a href="#id1227"><span class="problematic" id="id1228">sustrik_</span></a>: seems simpler to not have to worry about synchronization of pub/sub (so that messages don&#8217;t get lost)</div>
<div class="line">[Friday 21 January 2011] [10:11:52] &lt;mikko&gt;   i to the b</div>
<div class="line">[Friday 21 January 2011] [12:59:04] &lt;Evet&gt;    <a href="#id1229"><span class="problematic" id="id1230">sustrik_</span></a>: why do you think 8k request/second is very high for a desktop pc?</div>
<div class="line">[Friday 21 January 2011] [13:05:04] &lt;mikko&gt;   so finally things working properly</div>
<div class="line">[Friday 21 January 2011] [13:05:05] &lt;mikko&gt;   <a class="reference external" href="http://snapshot.valokuva.org/">http://snapshot.valokuva.org/</a></div>
<div class="line">[Friday 21 January 2011] [13:05:12] &lt;mikko&gt;   mingw32 and msvc2008 snapshot</div>
<div class="line">[Friday 21 January 2011] [13:05:50] &lt;Evet&gt;    congrats</div>
<div class="line">[Friday 21 January 2011] [14:52:18] &lt;mikko&gt;   <a href="#id1231"><span class="problematic" id="id1232">sustrik_</span></a>: seen #153</div>
<div class="line">[Friday 21 January 2011] [14:52:20] &lt;mikko&gt;   ?</div>
<div class="line">[Friday 21 January 2011] [15:05:23] &lt;<a href="#id1233"><span class="problematic" id="id1234">sustrik_</span></a>&gt;        Evet: i think it&#8217;s too low</div>
<div class="line">[Friday 21 January 2011] [15:06:09] &lt;<a href="#id1235"><span class="problematic" id="id1236">sustrik_</span></a>&gt;        the rate should go up to 100,000&#8217;s or millions, depending on the hardware</div>
<div class="line">[Friday 21 January 2011] [15:06:41] &lt;<a href="#id1237"><span class="problematic" id="id1238">sustrik_</span></a>&gt;        8000 can result from lock-step processing</div>
<div class="line">[Friday 21 January 2011] [15:07:28] &lt;<a href="#id1239"><span class="problematic" id="id1240">sustrik_</span></a>&gt;        if the roundtrip time on the network is kind of low (~120us)</div>
<div class="line">[Friday 21 January 2011] [15:07:45] &lt;<a href="#id1241"><span class="problematic" id="id1242">sustrik_</span></a>&gt;        mikko: let me see</div>
<div class="line">[Friday 21 January 2011] [15:09:25] &lt;Evet&gt;    <a href="#id1243"><span class="problematic" id="id1244">sustrik_</span></a>: what about inproc and ipc performance?</div>
<div class="line">[Friday 21 January 2011] [15:10:29] &lt;<a href="#id1245"><span class="problematic" id="id1246">sustrik_</span></a>&gt;        in the range of millions per sec</div>
<div class="line">[Friday 21 January 2011] [15:10:48] &lt;Evet&gt;    wow</div>
<div class="line">[Friday 21 January 2011] [15:10:53] &lt;Evet&gt;    does it use b+tree?</div>
<div class="line">[Friday 21 January 2011] [15:11:01] &lt;<a href="#id1247"><span class="problematic" id="id1248">sustrik_</span></a>&gt;        for what?</div>
<div class="line">[Friday 21 January 2011] [15:11:13] &lt;<a href="#id1249"><span class="problematic" id="id1250">sustrik_</span></a>&gt;        subscription matching?</div>
<div class="line">[Friday 21 January 2011] [15:11:21] &lt;Evet&gt;    storing messages in memory</div>
<div class="line">[Friday 21 January 2011] [15:11:38] &lt;Evet&gt;    and yes, subscription matching</div>
<div class="line">[Friday 21 January 2011] [15:11:59] &lt;<a href="#id1251"><span class="problematic" id="id1252">sustrik_</span></a>&gt;        storage in memory is linear, plain fifo</div>
<div class="line">[Friday 21 January 2011] [15:12:21] &lt;<a href="#id1253"><span class="problematic" id="id1254">sustrik_</span></a>&gt;        so no need for searching</div>
<div class="line">[Friday 21 January 2011] [15:12:32] &lt;<a href="#id1255"><span class="problematic" id="id1256">sustrik_</span></a>&gt;        as for subscription, the algorithm is &#8220;trie&#8221;</div>
<div class="line">[Friday 21 January 2011] [15:15:33] &lt;<a href="#id1257"><span class="problematic" id="id1258">sustrik_</span></a>&gt;        mikko: ok, #153 answered</div>
<div class="line">[Friday 21 January 2011] [15:15:43] &lt;Evet&gt;    hmm</div>
<div class="line">[Friday 21 January 2011] [15:19:06] &lt;cleifer&gt; hi, was having a little bit of trouble with the hello example &#8211; i&#8217;m not sure i&#8217;m compiling it right, but (&#8220;cc -o hello hello.c /usr/local/lib/libzmq.so&#8221;) it runs and just hangs.  connecting to it, sending data, aren&#8217;t seeming to work</div>
<div class="line">[Friday 21 January 2011] [15:19:08] &lt;Evet&gt;    <a href="#id1259"><span class="problematic" id="id1260">sustrik_</span></a>: is it possible to implement a snapshot to disk mechanism for those fifo</div>
<div class="line">[Friday 21 January 2011] [15:20:48] &lt;<a href="#id1261"><span class="problematic" id="id1262">sustrik_</span></a>&gt;        cleifer: are you sure the connection exists? can you check netstat?</div>
<div class="line">[Friday 21 January 2011] [15:21:01] &lt;<a href="#id1263"><span class="problematic" id="id1264">sustrik_</span></a>&gt;        Evet: how would that work?</div>
<div class="line">[Friday 21 January 2011] [15:21:09] &lt;cleifer&gt; let me do that, just as ec</div>
<div class="line">[Friday 21 January 2011] [15:22:17] &lt;cleifer&gt; <a href="#id1265"><span class="problematic" id="id1266">sustrik_</span></a>, tcp        0      0 localhost:5555          localhost:48696         ESTABLISHED</div>
<div class="line">[Friday 21 January 2011] [15:22:30] &lt;cleifer&gt; and another the other way</div>
<div class="line">[Friday 21 January 2011] [15:22:44] &lt;<a href="#id1267"><span class="problematic" id="id1268">sustrik_</span></a>&gt;        looks ok</div>
<div class="line">[Friday 21 January 2011] [15:22:54] &lt;cleifer&gt; when i recv from the other, all i get is x01x00</div>
<div class="line">[Friday 21 January 2011] [15:23:11] &lt;cleifer&gt; and then nothing :-/  &#8211; i see in the code that it&#8217;ll print when a connection is established but that&#8217;s not happening</div>
<div class="line">[Friday 21 January 2011] [15:23:13] &lt;<a href="#id1269"><span class="problematic" id="id1270">sustrik_</span></a>&gt;        that&#8217;s connection initialisation</div>
<div class="line">[Friday 21 January 2011] [15:23:14] &lt;Evet&gt;    <a href="#id1271"><span class="problematic" id="id1272">sustrik_</span></a>: it may need a broker</div>
<div class="line">[Friday 21 January 2011] [15:23:47] &lt;cleifer&gt; <a href="#id1273"><span class="problematic" id="id1274">sustrik_</span></a>, i&#8217;m connecting to it in python using a raw socket, maybe that&#8217;s the problem?</div>
<div class="line">[Friday 21 January 2011] [15:24:02] &lt;<a href="#id1275"><span class="problematic" id="id1276">sustrik_</span></a>&gt;        you mean TCP socket?</div>
<div class="line">[Friday 21 January 2011] [15:24:12] &lt;cleifer&gt; yah</div>
<div class="line">[Friday 21 January 2011] [15:24:27] &lt;<a href="#id1277"><span class="problematic" id="id1278">sustrik_</span></a>&gt;        then you have to follow the 0mq protocol</div>
<div class="line">[Friday 21 January 2011] [15:24:32] &lt;cleifer&gt; s.connect((&#8216;localhost&#8217;, 5555))</div>
<div class="line">[Friday 21 January 2011] [15:24:50]    * cleifer facepalms</div>
<div class="line">[Friday 21 January 2011] [15:24:55] &lt;<a href="#id1279"><span class="problematic" id="id1280">sustrik_</span></a>&gt;        first, send x01x00</div>
<div class="line">[Friday 21 January 2011] [15:25:02] &lt;<a href="#id1281"><span class="problematic" id="id1282">sustrik_</span></a>&gt;        that&#8217;s connection initialisation</div>
<div class="line">[Friday 21 January 2011] [15:25:22] &lt;<a href="#id1283"><span class="problematic" id="id1284">sustrik_</span></a>&gt;        then you can exchange messages</div>
<div class="line">[Friday 21 January 2011] [15:25:41] &lt;<a href="#id1285"><span class="problematic" id="id1286">sustrik_</span></a>&gt;        the format of message is described in zmq_tcp(7)</div>
<div class="line">[Friday 21 January 2011] [15:25:58] &lt;cleifer&gt; coolio</div>
<div class="line">[Friday 21 January 2011] [15:26:21] &lt;cleifer&gt; thanks <a href="#id1287"><span class="problematic" id="id1288">sustrik_</span></a> !</div>
<div class="line">[Friday 21 January 2011] [16:02:34] &lt;drbobbeaty&gt;      Got a question for the ZeroMQ TCP usage... is it possible to have a ZeroMQ server create a TCP connection on an ephermal port and then obtain that port number so that it can provide a good URL to a client?  I&#8217;m thinking of a use-case where I want to fire up a TCP PUB server, on an arbitrary port and then get that port (and URL) and provide it to clients for their connection. Can this be done?</div>
<div class="line">[Friday 21 January 2011] [16:02:52] &lt;drbobbeaty&gt;      I&#8217;m thinking &#8220;No&#8221;, but I wanted to ask to make sure.</div>
<div class="line">[Friday 21 January 2011] [16:06:52] &lt;<a href="#id1289"><span class="problematic" id="id1290">sustrik_</span></a>&gt;        no</div>
<div class="line">[Friday 21 January 2011] [16:24:53] &lt;iDude&gt;   IOT/Abort trap in pthread_kill at 0xd005f734 ($t1) 0xd005f734 (pthread_kill+0x88) 80410014         lwz   r2,0x14(r1)</div>
<div class="line">[Friday 21 January 2011] [16:25:40] &lt;iDude&gt;   I am using the 2.1.0 version of zmq on AIX 5.3... any ideas to get it working?</div>
<div class="line">[Friday 21 January 2011] [16:28:10] &lt;<a href="#id1291"><span class="problematic" id="id1292">sustrik_</span></a>&gt;        hm, i&#8217;ve made AIX port work some time ago</div>
<div class="line">[Friday 21 January 2011] [16:28:26] &lt;<a href="#id1293"><span class="problematic" id="id1294">sustrik_</span></a>&gt;        no idea of what version though</div>
<div class="line">[Friday 21 January 2011] [16:28:39] &lt;<a href="#id1295"><span class="problematic" id="id1296">sustrik_</span></a>&gt;        can you provide a backtrace for the problem?</div>
<div class="line">[Friday 21 January 2011] [16:31:09] &lt;iDude&gt;   pthread_kill(??, ??) at 0xd005f734 _p_raise(??) at 0xd005f1a4 raise.raise(??) at 0xd02a38f0 abort() at 0xd0307778 myabort()() at 0xd0244aac terminate()() at 0xd0242df0 terminate()() at 0xd024424c __DoThrowV6() at 0xd02468f0 _Xlen__Q2_3std6vectorXTQ3_3zmq6poll_t10fd_entry_tTQ2_3std9allocatorXTQ3_3zmq6poll_t10fd_entry_t__CFv(0x2000b990) at 0xd6bccb10 insert__Q2_3std6vectorXTQ3_3zmq6poll_t10fd_entry_tTQ2_3std9allocatorXTQ3_3zmq6poll_t10fd</div>
<div class="line">[Friday 21 January 2011] [16:31:55] &lt;iDude&gt;   sorry... I am new to the whole IRC chatting thing... how can I format the text to show on multiple lines?</div>
<div class="line">[Friday 21 January 2011] [16:37:02] &lt;<a href="#id1297"><span class="problematic" id="id1298">sustrik_</span></a>&gt;        paste the baktrace to gist or somesuch and provide the link</div>
<div class="line">[Friday 21 January 2011] [16:47:58] &lt;iDude&gt;   here you go: <a class="reference external" href="https://gist.github.com/790486">https://gist.github.com/790486</a></div>
<div class="line">[Friday 21 January 2011] [16:48:12] &lt;iDude&gt;   I have included the source code and the Makefile used</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2011-December.html"
                        title="previous chapter">2011-December</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2011-January.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2011-December.html" title="2011-December"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
  </body>
</html>