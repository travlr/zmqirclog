

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="2010-November.html" />
    <link rel="prev" title="&lt;no title&gt;" href="2010-November.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2010-November.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="2010-November.html" title="&lt;no title&gt;"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="line-block">
<div class="line">[Wednesday 01 September 2010] [02:01:04] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * raaa0761 10/ src/pair.cpp : pipe being attached to the PAIR socket during its termination process is immediately asked to terminate itself - <a class="reference external" href="http://bit.ly/bwIpo1">http://bit.ly/bwIpo1</a></div>
<div class="line">[Wednesday 01 September 2010] [02:01:04] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * rdb73c76 10/ src/pub.cpp : assert when pipe attaches to PUB socket in process of termination &#8211; fixed - <a class="reference external" href="http://bit.ly/bCxg7v">http://bit.ly/bCxg7v</a></div>
<div class="line">[Wednesday 01 September 2010] [02:01:04] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * rce0972d 10/ (src/ctx.cpp src/ctx.hpp src/object.cpp src/object.hpp): context creates an inproc endpoint (&#8216;inproc://log&#8217;) to distribute 0MQ&#8217;s log messages - http://bit.ly/9YrEbe</div>
<div class="line">[Wednesday 01 September 2010] [03:02:01] &lt;guido_g&gt;  howdy</div>
<div class="line">[Wednesday 01 September 2010] [03:05:49] &lt;guido_g&gt;  cool, logging...</div>
<div class="line">[Wednesday 01 September 2010] [03:09:41] &lt;guido_g&gt;  does the core itself use the logging?</div>
<div class="line">[Wednesday 01 September 2010] [03:10:06]     * guido_g looks at the patch</div>
<div class="line">[Wednesday 01 September 2010] [03:20:18] &lt;guido_g&gt;  hmmm</div>
<div class="line">[Wednesday 01 September 2010] [03:20:23] &lt;guido_g&gt;  doesn&#8217;t seem so</div>
<div class="line">[Wednesday 01 September 2010] [03:27:08] &lt;sustrik&gt;  only the core can use the logging</div>
<div class="line">[Wednesday 01 September 2010] [03:27:27] &lt;sustrik&gt;  however, atm it&#8217;s not logging anything</div>
<div class="line">[Wednesday 01 September 2010] [03:27:46] &lt;sustrik&gt;  logs are to be added gradually</div>
<div class="line">[Wednesday 01 September 2010] [03:31:32] &lt;guido_g&gt;  well... better then nothing :)</div>
<div class="line">[Wednesday 01 September 2010] [04:50:11] &lt;Mikael_H_Kjaer&gt;   Sustrik: I don&#8217;t have a small example that triggers the bug I&#8217;ve posted about on the mailing list.</div>
<div class="line">[Wednesday 01 September 2010] [04:51:04] &lt;sustrik&gt;  hi mikael</div>
<div class="line">[Wednesday 01 September 2010] [04:51:10] &lt;sustrik&gt;  that&#8217;s a problem</div>
<div class="line">[Wednesday 01 September 2010] [04:51:30] &lt;sustrik&gt;  from inspecting the backtrace it looks like it&#8217;s not a 0mq problem</div>
<div class="line">[Wednesday 01 September 2010] [04:51:37] &lt;Mikael_H_Kjaer&gt;   I know. I have been trying to boil it down</div>
<div class="line">[Wednesday 01 September 2010] [04:51:49] &lt;sustrik&gt;  maybe a memory overwrite?</div>
<div class="line">[Wednesday 01 September 2010] [04:52:05] &lt;sustrik&gt;  some random code overwriting the socket?</div>
<div class="line">[Wednesday 01 September 2010] [04:52:07] &lt;Mikael_H_Kjaer&gt;   Maybe. Currently I am not hitting the issue anymore</div>
<div class="line">[Wednesday 01 September 2010] [04:52:55] &lt;Mikael_H_Kjaer&gt;   But I shouldn&#8217;t have any wild pointers or memory accesses in my code. I am currently using smart pointers for everything and my cycle checker seems to think I am okay too.</div>
<div class="line">[Wednesday 01 September 2010] [04:54:07] &lt;Mikael_H_Kjaer&gt;   I haven&#8217;t valgrinded my code in a few weeks but I will soon try it with zmq added in.</div>
<div class="line">[Wednesday 01 September 2010] [04:54:47] &lt;sustrik&gt;  ok. good</div>
<div class="line">[Wednesday 01 September 2010] [04:55:24] &lt;sustrik&gt;  btw, maybe try to compile with debug into so that backtrace is more informative</div>
<div class="line">[Wednesday 01 September 2010] [04:56:37] &lt;Mikael_H_Kjaer&gt;   I do :) what additional information do you want</div>
<div class="line">[Wednesday 01 September 2010] [04:58:46] &lt;sustrik&gt;  hm</div>
<div class="line">[Wednesday 01 September 2010] [04:59:14] &lt;sustrik&gt;  can you possibly add a printf statement to socket&#8217;s destructor</div>
<div class="line">[Wednesday 01 September 2010] [04:59:36] &lt;sustrik&gt;  so that we know whether the socket was destructed or overwritten?</div>
<div class="line">[Wednesday 01 September 2010] [04:59:58] &lt;sustrik&gt;  printing out this pointer would be good so that we can correlate it with the backtrace</div>
<div class="line">[Wednesday 01 September 2010] [05:00:05] &lt;Mikael_H_Kjaer&gt;   Not a problem</div>
<div class="line">[Wednesday 01 September 2010] [05:00:22] &lt;Mikael_H_Kjaer&gt;   I will get back with more. Any other printf&#8217;s you want?</div>
<div class="line">[Wednesday 01 September 2010] [05:01:53] &lt;sustrik&gt;  not yet</div>
<div class="line">[Wednesday 01 September 2010] [05:02:02] &lt;sustrik&gt;  let&#8217;s first see whrther the socket is destructed</div>
<div class="line">[Wednesday 01 September 2010] [05:12:38] &lt;Mikael_H_Kjaer&gt;   sustrik: I can&#8217;t get the error to show up any more. I believe my fix of waiting for all sends to finish before attempting a shutdown of zmq has resolved it.</div>
<div class="line">[Wednesday 01 September 2010] [05:12:58] &lt;sustrik&gt;  hm</div>
<div class="line">[Wednesday 01 September 2010] [05:13:29] &lt;sustrik&gt;  ok, so let&#8217;s leave it for now</div>
<div class="line">[Wednesday 01 September 2010] [05:13:40] &lt;sustrik&gt;  if you ever see it again, we&#8217;ll continue</div>
<div class="line">[Wednesday 01 September 2010] [05:16:20] &lt;Mikael_H_Kjaer&gt;   Agreed, I was thinking the same.</div>
<div class="line">[Wednesday 01 September 2010] [05:51:49] &lt;mcxx&gt; I&#8217;m building a system that will use architecture similar to this one: <a class="reference external" href="http://github.com/imatix/zguide/raw/master/images/fig16.png">http://github.com/imatix/zguide/raw/master/images/fig16.png</a></div>
<div class="line">[Wednesday 01 September 2010] [05:52:02] &lt;mcxx&gt; however, in this setup, the broker is the single point of failure</div>
<div class="line">[Wednesday 01 September 2010] [05:52:54] &lt;mcxx&gt; can the architecture be altered somehowe? e.g. can the clients connect to multiple brokers so that when one goes down, they switch to a working one?</div>
<div class="line">[Wednesday 01 September 2010] [05:54:50] &lt;sustrik&gt;  yes, you can load balance via multiple brokers</div>
<div class="line">[Wednesday 01 September 2010] [05:55:08] &lt;sustrik&gt;  just start 2 brokers</div>
<div class="line">[Wednesday 01 September 2010] [05:55:17] &lt;sustrik&gt;  and connect all components to both of them</div>
<div class="line">[Wednesday 01 September 2010] [05:55:35] &lt;sustrik&gt;  you also have to set HWM on clients</div>
<div class="line">[Wednesday 01 September 2010] [05:55:52] &lt;sustrik&gt;  so that messages are not queued for the unavailable broker indefinitely</div>
<div class="line">[Wednesday 01 September 2010] [05:57:14] &lt;mcxx&gt; what&#8217;s HWM? Google doesn&#8217;t show reasonable results</div>
<div class="line">[Wednesday 01 September 2010] [05:57:44] &lt;mcxx&gt; oh, I see noe</div>
<div class="line">[Wednesday 01 September 2010] [05:57:45] &lt;mcxx&gt; now</div>
<div class="line">[Wednesday 01 September 2010] [06:39:04] &lt;mcxx&gt; when I set HWM on the client and one of the brokers goes down, will the clients&#8217; sockets find out the broker is no longer available and automatically use others?</div>
<div class="line">[Wednesday 01 September 2010] [06:39:45] &lt;guido_g&gt;  huh? what broker?</div>
<div class="line">[Wednesday 01 September 2010] [06:40:12] &lt;guido_g&gt;  you mean the pipes of the underlying connections?</div>
<div class="line">[Wednesday 01 September 2010] [06:40:32] &lt;mcxx&gt; guido_g: it&#8217;s a follow up to my previous question</div>
<div class="line">[Wednesday 01 September 2010] [06:40:36] &lt;mcxx&gt; in this arch <a class="reference external" href="http://github.com/imatix/zguide/raw/master/images/fig16.png">http://github.com/imatix/zguide/raw/master/images/fig16.png</a></div>
<div class="line">[Wednesday 01 September 2010] [06:40:38] &lt;guido_g&gt;  as far as i know, full pipes (hwm reached) are skipped</div>
<div class="line">[Wednesday 01 September 2010] [06:41:08] &lt;guido_g&gt;  i see</div>
<div class="line">[Wednesday 01 September 2010] [06:41:38] &lt;guido_g&gt;  still, full pipes are skipped</div>
<div class="line">[Wednesday 01 September 2010] [06:42:32] &lt;guido_g&gt;  more should be found on <a class="reference external" href="http://api.zeromq.org/zmq_socket.html">http://api.zeromq.org/zmq_socket.html</a> describption of the socket types</div>
<div class="line">[Wednesday 01 September 2010] [06:43:58] &lt;mcxx&gt; re-reading that helps :)</div>
<div class="line">[Wednesday 01 September 2010] [06:46:03] &lt;guido_g&gt;  :)</div>
<div class="line">[Wednesday 01 September 2010] [07:32:01] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * r6a0c323 10/ (builds/msvc/libzmq/libzmq.vcproj src/ctx.cpp): MSVC build fixed - <a class="reference external" href="http://bit.ly/cEMTGs">http://bit.ly/cEMTGs</a></div>
<div class="line">[Wednesday 01 September 2010] [07:39:18] &lt;pieterh&gt;  I&#8217;ve posted a blog that hopefully clears up the naming confusion for once and for all...</div>
<div class="line">[Wednesday 01 September 2010] [07:39:19] &lt;pieterh&gt;  <a class="reference external" href="http://www.zeromq.org/blog:not-to-be-confused">http://www.zeromq.org/blog:not-to-be-confused</a></div>
<div class="line">[Wednesday 01 September 2010] [07:39:27] &lt;pieterh&gt;  anyone from Denmark here?</div>
<div class="line">[Wednesday 01 September 2010] [07:43:28] &lt;guido_g&gt;  :)</div>
<div class="line">[Wednesday 01 September 2010] [08:04:50] &lt;pieterh&gt;  sustrik: random question about 2.1</div>
<div class="line">[Wednesday 01 September 2010] [08:05:21] &lt;sustrik&gt;  yes?</div>
<div class="line">[Wednesday 01 September 2010] [08:07:08] &lt;pieterh&gt;  how solid is it?</div>
<div class="line">[Wednesday 01 September 2010] [08:07:18] &lt;pieterh&gt;  should I start to be using it for the examples in the guide?</div>
<div class="line">[Wednesday 01 September 2010] [08:08:01] &lt;sustrik&gt;  it haven&#8217;t been tested extensively</div>
<div class="line">[Wednesday 01 September 2010] [08:08:06] &lt;sustrik&gt;  but the API is the same</div>
<div class="line">[Wednesday 01 September 2010] [08:08:34] &lt;sustrik&gt;  so, for the guide, it&#8217;s irrelevant which one you use</div>
<div class="line">[Wednesday 01 September 2010] [08:08:46] &lt;pieterh&gt;  there&#8217;s the &#8216;insert random sleep here&#8217; which i&#8217;d like to remove</div>
<div class="line">[Wednesday 01 September 2010] [08:08:55] &lt;sustrik&gt;  ah, yes, that can go with 2.1</div>
<div class="line">[Wednesday 01 September 2010] [08:09:00] &lt;pieterh&gt;  i&#8217;ll start to test it then</div>
<div class="line">[Wednesday 01 September 2010] [08:09:11] &lt;pieterh&gt;  it&#8217;d be fun to release a 2.1.0 unstable IMO</div>
<div class="line">[Wednesday 01 September 2010] [08:09:12] &lt;sustrik&gt;  btw, there&#8217;s a test suite in the package now</div>
<div class="line">[Wednesday 01 September 2010] [08:09:24] &lt;pieterh&gt;  especially if you have stuff like sys:// in there...</div>
<div class="line">[Wednesday 01 September 2010] [08:09:24] &lt;sustrik&gt;  so if you write a test</div>
<div class="line">[Wednesday 01 September 2010] [08:09:28] &lt;sustrik&gt;  jsut put it in there</div>
<div class="line">[Wednesday 01 September 2010] [08:10:05] &lt;sustrik&gt;  well, the infrastructure is there, but no notifications are passed atm</div>
<div class="line">[Wednesday 01 September 2010] [08:10:08] &lt;pieterh&gt;  :-) i saw some emails on that but missed the original discussion</div>
<div class="line">[Wednesday 01 September 2010] [08:10:15] &lt;pieterh&gt;  great idea to have a test suite!</div>
<div class="line">[Wednesday 01 September 2010] [08:10:28] &lt;sustrik&gt;  it&#8217;s in tests subdir</div>
<div class="line">[Wednesday 01 September 2010] [08:10:34] &lt;sustrik&gt;  just put your file there</div>
<div class="line">[Wednesday 01 September 2010] [08:10:39] &lt;sustrik&gt;  add it to Makefila.am</div>
<div class="line">[Wednesday 01 September 2010] [08:10:45] &lt;sustrik&gt;  and make check will run it</div>
<div class="line">[Wednesday 01 September 2010] [08:10:47] &lt;pieterh&gt;  ack</div>
<div class="line">[Wednesday 01 September 2010] [08:11:42] &lt;guido_g&gt;  ah, while talking about tests</div>
<div class="line">[Wednesday 01 September 2010] [08:12:10] &lt;guido_g&gt;  i plan to write the basic tests for the missing socket types over the weekend</div>
<div class="line">[Wednesday 01 September 2010] [08:12:30] &lt;sustrik&gt;  missing socket types?</div>
<div class="line">[Wednesday 01 September 2010] [08:12:40] &lt;sustrik&gt;  ah, those not yet in test suite</div>
<div class="line">[Wednesday 01 September 2010] [08:12:47] &lt;guido_g&gt;  afaik only req/rep and pair are tested atm</div>
<div class="line">[Wednesday 01 September 2010] [08:12:48] &lt;sustrik&gt;  nice</div>
<div class="line">[Wednesday 01 September 2010] [08:13:04] &lt;pieterh&gt;  <a href="#id70"><span class="problematic" id="id71">ZMQ_</span></a></div>
<div class="line">[Wednesday 01 September 2010] [08:13:05] &lt;guido_g&gt;  if there are any corner cases that should be tested, please leave me a note</div>
<div class="line">[Wednesday 01 September 2010] [08:13:14] &lt;pieterh&gt;  the secret socket typ</div>
<div class="line">[Wednesday 01 September 2010] [08:13:18] &lt;pieterh&gt;  <a href="#id1"><span class="problematic" id="id2">*</span></a>type</div>
<div class="line">[Wednesday 01 September 2010] [08:13:27] &lt;pieterh&gt;  if you can&#8217;t spell it, you can&#8217;t use it...</div>
<div class="line">[Wednesday 01 September 2010] [08:13:35] &lt;guido_g&gt;  pieterh seems to be in a funny mood today</div>
<div class="line">[Wednesday 01 September 2010] [08:13:36] &lt;guido_g&gt;  :)</div>
<div class="line">[Wednesday 01 September 2010] [08:13:56]     * pieterh had too many beers with mato last night, his head is not switched on right</div>
<div class="line">[Wednesday 01 September 2010] [08:13:56] &lt;sustrik&gt;  you really got the letter or have you made it up?</div>
<div class="line">[Wednesday 01 September 2010] [08:14:05] &lt;pieterh&gt;  that&#8217;s a real letter</div>
<div class="line">[Wednesday 01 September 2010] [08:14:19] &lt;pieterh&gt;  i couldn&#8217;t invent something _that_ ... unique</div>
<div class="line">[Wednesday 01 September 2010] [08:14:22] &lt;guido_g&gt;  justifies the number of beers you had</div>
<div class="line">[Wednesday 01 September 2010] [08:14:40] &lt;pieterh&gt;  that&#8217;s why the guide made that strange reference to annoying the Danes</div>
<div class="line">[Wednesday 01 September 2010] [08:15:07] &lt;guido_g&gt;  ahhh</div>
<div class="line">[Wednesday 01 September 2010] [08:15:54] &lt;pieterh&gt;  next we&#8217;re going to get email from the mathematicians accusing us of soiling Bourbaki&#8217;s name</div>
<div class="line">[Wednesday 01 September 2010] [08:16:42] &lt;pieterh&gt;  guido_g: what language are you using for the tests?</div>
<div class="line">[Wednesday 01 September 2010] [08:16:52] &lt;guido_g&gt;  c++</div>
<div class="line">[Wednesday 01 September 2010] [08:17:09] &lt;guido_g&gt;  but they can be in any language the core understands</div>
<div class="line">[Wednesday 01 September 2010] [08:17:11] &lt;pieterh&gt;  there&#8217;s one example that would work for push/pull and pair</div>
<div class="line">[Wednesday 01 September 2010] [08:17:35] &lt;guido_g&gt;  for these sockets we have tests already</div>
<div class="line">[Wednesday 01 September 2010] [08:17:38] &lt;pieterh&gt;  the mtrelay</div>
<div class="line">[Wednesday 01 September 2010] [08:17:58] &lt;pieterh&gt;  you just said only req/rep and pair...?</div>
<div class="line">[Wednesday 01 September 2010] [08:18:21] &lt;guido_g&gt;  oh sorry</div>
<div class="line">[Wednesday 01 September 2010] [08:18:33] &lt;guido_g&gt;  parsed the pub/sub wrong</div>
<div class="line">[Wednesday 01 September 2010] [08:18:46] &lt;guido_g&gt;  push/pull</div>
<div class="line">[Wednesday 01 September 2010] [08:18:48] &lt;pieterh&gt;  agh, I realized that example in fact doesn&#8217;t use push/pull finally, i switched to using pair</div>
<div class="line">[Wednesday 01 September 2010] [08:18:51]     * guido_g needs new glases</div>
<div class="line">[Wednesday 01 September 2010] [08:18:58]     * pieterh needs a new head</div>
<div class="line">[Wednesday 01 September 2010] [08:19:26] &lt;guido_g&gt;  and i thought they do have good beer in .sk</div>
<div class="line">[Wednesday 01 September 2010] [08:19:43] &lt;pieterh&gt;  it&#8217;s ok, not real beer like we make in Belgium</div>
<div class="line">[Wednesday 01 September 2010] [08:19:54] &lt;guido_g&gt;  ah</div>
<div class="line">[Wednesday 01 September 2010] [08:20:02] &lt;pieterh&gt;  kind of halfway between real beer (belgian) and fake beer (anglo)</div>
<div class="line">[Wednesday 01 September 2010] [08:20:08] &lt;pieterh&gt;  just kidding</div>
<div class="line">[Wednesday 01 September 2010] [08:20:19] &lt;pieterh&gt;  it&#8217;s the home of beer, of course</div>
<div class="line">[Wednesday 01 September 2010] [08:20:57] &lt;pieterh&gt;  ZeroMQ is a big hit in Japan it seems</div>
<div class="line">[Wednesday 01 September 2010] [08:21:15] &lt;pieterh&gt;   RT !heavenshell: perl  ZeroMQ</div>
<div class="line">[Wednesday 01 September 2010] [08:21:27] &lt;guido_g&gt;  ahh... sure</div>
<div class="line">[Wednesday 01 September 2010] [08:21:42] &lt;sustrik&gt;  there are some japanese guys working on the perl binding afaiu</div>
<div class="line">[Wednesday 01 September 2010] [08:21:43] &lt;pieterh&gt;  I think they&#8217;re complaining about the spelling... :-/</div>
<div class="line">[Wednesday 01 September 2010] [08:21:51] &lt;pieterh&gt;  my Japanese isn&#8217;t so good anymore</div>
<div class="line">[Wednesday 01 September 2010] [08:22:13] &lt;sustrik&gt;  btw &#8220;where 0mq goes, google cannot follow&#8221; is a nice slogan</div>
<div class="line">[Wednesday 01 September 2010] [08:22:16]     * pieterh wonders about MQ...</div>
<div class="line">[Wednesday 01 September 2010] [08:22:28] &lt;sustrik&gt;  wrt distributed vs. centralised services</div>
<div class="line">[Wednesday 01 September 2010] [08:22:38] &lt;sustrik&gt;  privacy etc.</div>
<div class="line">[Wednesday 01 September 2010] [08:22:55] &lt;sustrik&gt;   MQ would be read NoMQ :)</div>
<div class="line">[Wednesday 01 September 2010] [08:25:48] &lt;pieterh&gt;  Hehe, &#8220;can&#8217;t follow this&#8221;...</div>
<div class="line">[Wednesday 01 September 2010] [08:27:34] &lt;pieterh&gt;  we need to prepare an ultrasecret joke for next April 1st</div>
<div class="line">[Wednesday 01 September 2010] [08:27:40] &lt;pieterh&gt;  where we rename 0MQ to MQ</div>
<div class="line">[Wednesday 01 September 2010] [08:27:54] &lt;pieterh&gt;  get lots of people to blog and twitter about it</div>
<div class="line">[Wednesday 01 September 2010] [08:27:59] &lt;pieterh&gt;  confuse the heck out of everyone...</div>
<div class="line">[Wednesday 01 September 2010] [08:31:16] &lt;pieterh&gt;  sustrik: could you send me a .zip of the zeromq2 master (clean checkout)?</div>
<div class="line">[Wednesday 01 September 2010] [08:31:29] &lt;pieterh&gt;  i&#8217;m on a slow 2G connection and have failed 4 times to do a git pull</div>
<div class="line">[Wednesday 01 September 2010] [08:31:43] &lt;pieterh&gt;  maybe email will work better</div>
<div class="line">[Wednesday 01 September 2010] [08:36:32] Notice -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Wednesday 01 September 2010] [08:36:32] Notice -NickServ- You are now identified for travlr.</div>
<div class="line">[Wednesday 01 September 2010] [08:36:32] CTCP   Received Version request from frigg.</div>
<div class="line">[Wednesday 01 September 2010] [08:39:25] &lt;pieterh&gt;  sustrik: recv&#8217;d!  thanks... git seems to have a problem working across slow links</div>
<div class="line">[Wednesday 01 September 2010] [08:39:44] &lt;pieterh&gt;  too much chatter or something... they aren&#8217;t using 0MQ....</div>
<div class="line">[Wednesday 01 September 2010] [09:10:29] &lt;pieterh&gt;  sustrik: what&#8217;s your view of when 2.1.0 would be releasable?</div>
<div class="line">[Wednesday 01 September 2010] [09:10:46] &lt;pieterh&gt;  would it help if I stress tested it with some real applications?</div>
<div class="line">[Wednesday 01 September 2010] [09:10:58] &lt;pieterh&gt;  btw, it all build and passed the test suite fine, of course</div>
<div class="line">[Wednesday 01 September 2010] [09:11:02] &lt;pieterh&gt;  <a href="#id3"><span class="problematic" id="id4">*</span></a>built</div>
<div class="line">[Wednesday 01 September 2010] [09:11:48] &lt;mikko&gt;    you can run tests in language bindings as well</div>
<div class="line">[Wednesday 01 September 2010] [09:11:49] &lt;guido_g&gt;  not a real suprise, the tests are really basic</div>
<div class="line">[Wednesday 01 September 2010] [09:11:58] &lt;mikko&gt;    they probably contain fair amount of tests</div>
<div class="line">[Wednesday 01 September 2010] [09:12:58] &lt;pieterh&gt;  gudio_g: i&#8217;d like to try breakage tests...</div>
<div class="line">[Wednesday 01 September 2010] [09:13:13] &lt;guido_g&gt;  nevertheless do we need good test coverage in the core</div>
<div class="line">[Wednesday 01 September 2010] [09:13:27] &lt;pieterh&gt;  yes, we can&#8217;t refer up the stack</div>
<div class="line">[Wednesday 01 September 2010] [09:13:42] &lt;pieterh&gt;  core can&#8217;t test using language bindings, this is up to the binding author/community</div>
<div class="line">[Wednesday 01 September 2010] [09:13:55] &lt;guido_g&gt;  pieterh: what does that mean?</div>
<div class="line">[Wednesday 01 September 2010] [09:14:02] &lt;guido_g&gt;  breakage tests</div>
<div class="line">[Wednesday 01 September 2010] [09:14:17] &lt;pieterh&gt;  well, stuff like send message, close, check that it&#8217;s delivered or not according to socket policy</div>
<div class="line">[Wednesday 01 September 2010] [09:14:29] &lt;pieterh&gt;  exceed HWM, check messages are delayed/discarded</div>
<div class="line">[Wednesday 01 September 2010] [09:14:36] &lt;pieterh&gt;  send invalid stuff, check 0MQ does not die</div>
<div class="line">[Wednesday 01 September 2010] [09:14:50] &lt;pieterh&gt;  do bad operations, invalid socket mixes, illegal sequences</div>
<div class="line">[Wednesday 01 September 2010] [09:15:01] &lt;pieterh&gt;  all the stuff normal apps do all the time... :-)</div>
<div class="line">[Wednesday 01 September 2010] [09:15:23] &lt;guido_g&gt;  ahh ok</div>
<div class="line">[Wednesday 01 September 2010] [09:15:33] &lt;guido_g&gt;  normal tests :)</div>
<div class="line">[Wednesday 01 September 2010] [09:15:42] &lt;pieterh&gt;  normal regression is of course also very useful</div>
<div class="line">[Wednesday 01 September 2010] [09:15:45] &lt;pieterh&gt;  &#8220;it still works&#8221;</div>
<div class="line">[Wednesday 01 September 2010] [09:15:57] &lt;pieterh&gt;  but &#8220;i can&#8217;t break it&#8221; is also valuable</div>
<div class="line">[Wednesday 01 September 2010] [09:16:02] &lt;guido_g&gt;  that you get with every build and make check</div>
<div class="line">[Wednesday 01 September 2010] [09:16:18] &lt;guido_g&gt;  the regression test</div>
<div class="line">[Wednesday 01 September 2010] [09:16:25] &lt;pieterh&gt;  yes</div>
<div class="line">[Wednesday 01 September 2010] [09:16:37] &lt;guido_g&gt;  ok, would be nice to have a list of tests to do</div>
<div class="line">[Wednesday 01 September 2010] [09:16:49] &lt;pieterh&gt;  it&#8217;s sometimes possible to collect test cases for issues</div>
<div class="line">[Wednesday 01 September 2010] [09:16:51] &lt;guido_g&gt;  i&#8217;ll go over it as time permits and write the test programs</div>
<div class="line">[Wednesday 01 September 2010] [09:17:07] &lt;pieterh&gt;  oh, sorry, i&#8217;m not trying to propose work... :-/</div>
<div class="line">[Wednesday 01 September 2010] [09:17:20] &lt;guido_g&gt;  it has to be done</div>
<div class="line">[Wednesday 01 September 2010] [09:17:25] &lt;pieterh&gt;  i&#8217;m more than happy to help though it would be in C not C++</div>
<div class="line">[Wednesday 01 September 2010] [09:17:47] &lt;pieterh&gt;  well, let&#8217;s start by collecting specs?</div>
<div class="line">[Wednesday 01 September 2010] [09:17:53] &lt;pieterh&gt;  sorry s/start/continue/</div>
<div class="line">[Wednesday 01 September 2010] [09:18:04] &lt;guido_g&gt;  yes</div>
<div class="line">[Wednesday 01 September 2010] [09:18:19] &lt;pieterh&gt;  perhaps this can help language binding authors make coherent test sets too</div>
<div class="line">[Wednesday 01 September 2010] [09:18:29] &lt;guido_g&gt;  to make it leight and easy to start with, a simple collection of ideas what to test would be ok i think</div>
<div class="line">[Wednesday 01 September 2010] [09:18:30] &lt;pieterh&gt;  i.e. standardized test set spec</div>
<div class="line">[Wednesday 01 September 2010] [09:18:36] &lt;pieterh&gt;  yes</div>
<div class="line">[Wednesday 01 September 2010] [09:19:06] &lt;pieterh&gt;  it would give users a tool for validating bindings</div>
<div class="line">[Wednesday 01 September 2010] [09:19:16] &lt;pieterh&gt;  &#8220;has test suite&#8221;</div>
<div class="line">[Wednesday 01 September 2010] [09:20:12] &lt;pieterh&gt;  actually it should then be written  both in C++ and C</div>
<div class="line">[Wednesday 01 September 2010] [09:20:25] &lt;pieterh&gt;  i volunteer to make the C test suite then</div>
<div class="line">[Wednesday 01 September 2010] [09:20:31]     * pieterh opens his big mouth again</div>
<div class="line">[Wednesday 01 September 2010] [09:22:25] &lt;guido_g&gt;  :)</div>
<div class="line">[Wednesday 01 September 2010] [09:22:38] &lt;guido_g&gt;  i&#8217;d like to stick with c++ for now</div>
<div class="line">[Wednesday 01 September 2010] [09:22:50] &lt;guido_g&gt;  it&#8217;s hard enough to relearn it</div>
<div class="line">[Wednesday 01 September 2010] [09:23:25] &lt;pieterh&gt;  sure, so we will double up the test suite, that also gives people examples to compare?</div>
<div class="line">[Wednesday 01 September 2010] [09:23:37] &lt;pieterh&gt;  sustrik: do you have any problem with a C test suite in parallel to the C++ one?</div>
<div class="line">[Wednesday 01 September 2010] [09:23:50] &lt;pieterh&gt;  if it&#8217;s a stupid idea, i&#8217;m happy to retract it... :-)</div>
<div class="line">[Wednesday 01 September 2010] [09:26:12] &lt;guido_g&gt;  hehe</div>
<div class="line">[Wednesday 01 September 2010] [09:26:24]     * guido_g is leaving the office</div>
<div class="line">[Wednesday 01 September 2010] [09:26:36] &lt;guido_g&gt;  see you later</div>
<div class="line">[Wednesday 01 September 2010] [09:29:46] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * r651c1ad 10/ (src/ctx.cpp src/socket_base.cpp): sys transport introdced; inproc://log moved to sys://log - http://bit.ly/bmO6tM</div>
<div class="line">[Wednesday 01 September 2010] [09:29:47] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * r0fe7d3c 10/ (builds/msvc/libzmq/libzmq.vcproj src/ctx.cpp): conflicts resolved - <a class="reference external" href="http://bit.ly/aV1tLE">http://bit.ly/aV1tLE</a></div>
<div class="line">[Wednesday 01 September 2010] [10:02:12] &lt;guido_g&gt;  re</div>
<div class="line">[Wednesday 01 September 2010] [10:03:13] &lt;sustrik&gt;  pieterh: C test suite is OK</div>
<div class="line">[Wednesday 01 September 2010] [10:03:31] &lt;sustrik&gt;  but afaik the files have to have .cpp extension</div>
<div class="line">[Wednesday 01 September 2010] [10:03:44] &lt;sustrik&gt;  so that autotools know it should link c++ runtime with it</div>
<div class="line">[Wednesday 01 September 2010] [10:04:11] &lt;sustrik&gt;  (needed by 0mq library, in case of static linking)</div>
<div class="line">[Wednesday 01 September 2010] [10:04:15] &lt;pieterh&gt;  yes, indeed</div>
<div class="line">[Wednesday 01 September 2010] [10:04:24] &lt;pieterh&gt;  great</div>
<div class="line">[Wednesday 01 September 2010] [10:04:42] &lt;guido_g&gt;  why is the logging now a special transport?</div>
<div class="line">[Wednesday 01 September 2010] [10:04:47] &lt;pieterh&gt;  will have to use a naming convention to avoid conflicts, NP</div>
<div class="line">[Wednesday 01 September 2010] [10:05:05] &lt;sustrik&gt;  guido_g: two reasons</div>
<div class="line">[Wednesday 01 September 2010] [10:05:39] &lt;sustrik&gt;  1. it&#8217;s a different beast, communicating with 0mq internals rather than communicating with a socket in a different thread</div>
<div class="line">[Wednesday 01 September 2010] [10:05:50] &lt;sustrik&gt;  2. full backward compatibility</div>
<div class="line">[Wednesday 01 September 2010] [10:06:14] &lt;guido_g&gt;  ok</div>
<div class="line">[Wednesday 01 September 2010] [10:06:49] &lt;pieterh&gt;  sustrik: i see one problem with making it a separate transport</div>
<div class="line">[Wednesday 01 September 2010] [10:06:54] &lt;guido_g&gt;  how will users attach to this type of transport?</div>
<div class="line">[Wednesday 01 September 2010] [10:07:08] &lt;sustrik&gt;  guido_g: connect</div>
<div class="line">[Wednesday 01 September 2010] [10:07:10] &lt;guido_g&gt;  just a SUB w/ sys://log?</div>
<div class="line">[Wednesday 01 September 2010] [10:07:16] &lt;sustrik&gt;  pieterh: what problem?</div>
<div class="line">[Wednesday 01 September 2010] [10:07:25] &lt;sustrik&gt;  guido_g: yes</div>
<div class="line">[Wednesday 01 September 2010] [10:07:31] &lt;pieterh&gt;  take the syslog service as an analogy</div>
<div class="line">[Wednesday 01 September 2010] [10:07:31] &lt;guido_g&gt;  great! thanks</div>
<div class="line">[Wednesday 01 September 2010] [10:07:40] &lt;pieterh&gt;  it&#8217;s a bus, any component can participate</div>
<div class="line">[Wednesday 01 September 2010] [10:08:08] &lt;pieterh&gt;  ok, that&#8217;s not quite accurate but I mean you might want to allow arbitrary components to inject traffic into this</div>
<div class="line">[Wednesday 01 September 2010] [10:08:19] &lt;sustrik&gt;  i don&#8217;t :)</div>
<div class="line">[Wednesday 01 September 2010] [10:08:24] &lt;pieterh&gt;  and have it picked up by log clients without them needing to be changed</div>
<div class="line">[Wednesday 01 September 2010] [10:08:25] &lt;guido_g&gt;  :)</div>
<div class="line">[Wednesday 01 September 2010] [10:08:46] &lt;sustrik&gt;  what i mean is how would you scale that kind of thing?</div>
<div class="line">[Wednesday 01 September 2010] [10:08:52] &lt;sustrik&gt;  right now it&#8217;s easy</div>
<div class="line">[Wednesday 01 September 2010] [10:09:06] &lt;pieterh&gt;  it&#8217;s inproc or ipc, what&#8217;s the scaling issue?</div>
<div class="line">[Wednesday 01 September 2010] [10:09:06] &lt;sustrik&gt;  it&#8217;s constrained to the process</div>
<div class="line">[Wednesday 01 September 2010] [10:09:17] &lt;sustrik&gt;  the business logic</div>
<div class="line">[Wednesday 01 September 2010] [10:09:24] &lt;pieterh&gt;  attach device to sub, export as pub... np</div>
<div class="line">[Wednesday 01 September 2010] [10:09:35] &lt;sustrik&gt;  what you want with a business logic is a distributed logging service</div>
<div class="line">[Wednesday 01 September 2010] [10:09:44] &lt;guido_g&gt;  ack</div>
<div class="line">[Wednesday 01 September 2010] [10:09:58] &lt;guido_g&gt;  the way with a forwarder is ok</div>
<div class="line">[Wednesday 01 September 2010] [10:10:07] &lt;pieterh&gt;  i can play devil&#8217;s advocate here</div>
<div class="line">[Wednesday 01 September 2010] [10:10:22] &lt;sustrik&gt;  pieterh: i have no idea how you would implement it</div>
<div class="line">[Wednesday 01 September 2010] [10:10:28] &lt;pieterh&gt;  it looks like you are claiming a semantic difference in order to solve a naming clash</div>
<div class="line">[Wednesday 01 September 2010] [10:10:40] &lt;pieterh&gt;  it&#8217;s unclear what the value is of a new transport</div>
<div class="line">[Wednesday 01 September 2010] [10:10:55] &lt;pieterh&gt;  no clear problem you&#8217;re solving wrt to using inproc:</div>
<div class="line">[Wednesday 01 September 2010] [10:10:55] &lt;sustrik&gt;  you mean between sys &amp; inproc or between 0mq logging and application logging?</div>
<div class="line">[Wednesday 01 September 2010] [10:10:58] &lt;pieterh&gt;  or ipc:</div>
<div class="line">[Wednesday 01 September 2010] [10:12:22] &lt;pieterh&gt;  sustrik: ... sorry, I don&#8217;t follow this thread</div>
<div class="line">[Wednesday 01 September 2010] [10:12:36] &lt;sustrik&gt;  pieterh&gt; it looks like you are claiming a semantic difference in order to solve a naming clash</div>
<div class="line">[Wednesday 01 September 2010] [10:12:45] &lt;pieterh&gt;  ah, yes</div>
<div class="line">[Wednesday 01 September 2010] [10:12:55] &lt;pieterh&gt;  between sys: and inproc or ipc</div>
<div class="line">[Wednesday 01 September 2010] [10:13:15] &lt;pieterh&gt;  is sys: like inproc or like ipc?</div>
<div class="line">[Wednesday 01 September 2010] [10:13:28] &lt;sustrik&gt;  it&#8217;s different from both</div>
<div class="line">[Wednesday 01 September 2010] [10:13:38] &lt;sustrik&gt;  it has no peer actually</div>
<div class="line">[Wednesday 01 September 2010] [10:13:55] &lt;pieterh&gt;  yes, but can you connect to it from another process?</div>
<div class="line">[Wednesday 01 September 2010] [10:13:59] &lt;pieterh&gt;  is it an in or ex-process endpoint?</div>
<div class="line">[Wednesday 01 September 2010] [10:14:12] &lt;sustrik&gt;  it&#8217;s process-scoped</div>
<div class="line">[Wednesday 01 September 2010] [10:14:19] &lt;pieterh&gt;  so it&#8217;s like inproc</div>
<div class="line">[Wednesday 01 September 2010] [10:14:30] &lt;sustrik&gt;  sure, same scope</div>
<div class="line">[Wednesday 01 September 2010] [10:14:33] &lt;sustrik&gt;  different semantics</div>
<div class="line">[Wednesday 01 September 2010] [10:15:01] &lt;pieterh&gt;  now if i am being evil and minimalist i&#8217;ll ask what the value is in defining a totally new protocol instead of a protected namespace within inproc</div>
<div class="line">[Wednesday 01 September 2010] [10:15:15] &lt;pieterh&gt;  given that every new construct is something expensive to document, understand...</div>
<div class="line">[Wednesday 01 September 2010] [10:15:45] &lt;sustrik&gt;  same question: why not make ipc a separate namespace within tcp?</div>
<div class="line">[Wednesday 01 September 2010] [10:15:51] &lt;pieterh&gt;  but the semantics fit perfectly to an inproc SUB socket from the users&#8217; POV</div>
<div class="line">[Wednesday 01 September 2010] [10:16:09] &lt;sustrik&gt;  no: there&#8217;s no peer socket</div>
<div class="line">[Wednesday 01 September 2010] [10:16:23] &lt;pieterh&gt;  that&#8217;s an implementation detail</div>
<div class="line">[Wednesday 01 September 2010] [10:16:29] &lt;pieterh&gt;  that&#8217;s behind the wall, and not relevant to users</div>
<div class="line">[Wednesday 01 September 2010] [10:16:35] &lt;pieterh&gt;  it looks like there is a peer socket</div>
<div class="line">[Wednesday 01 September 2010] [10:16:38] &lt;sustrik&gt;  ok, let me explain the internal mechanism of sys</div>
<div class="line">[Wednesday 01 September 2010] [10:16:48] &lt;pieterh&gt;  ah, hang on</div>
<div class="line">[Wednesday 01 September 2010] [10:16:55] &lt;pieterh&gt;  i&#8217;m at the API level</div>
<div class="line">[Wednesday 01 September 2010] [10:17:04] &lt;pieterh&gt;  internal mechanisms should not be relevant</div>
<div class="line">[Wednesday 01 September 2010] [10:17:09] &lt;guido_g&gt;  this is what sys: says imho, don&#8217;t expect the usual, this comming from the kernel</div>
<div class="line">[Wednesday 01 September 2010] [10:17:24] &lt;pieterh&gt;  but why?</div>
<div class="line">[Wednesday 01 September 2010] [10:17:27] &lt;pieterh&gt;  why the surprise?</div>
<div class="line">[Wednesday 01 September 2010] [10:17:47] &lt;guido_g&gt;  i can&#8217;t see any, sorry</div>
<div class="line">[Wednesday 01 September 2010] [10:17:55] &lt;pieterh&gt;  why is the kernel a &#8216;special&#8217; component with its own transport that looks exactly like inproc: but has a different name?</div>
<div class="line">[Wednesday 01 September 2010] [10:17:57] &lt;pieterh&gt;  it&#8217;s surprising</div>
<div class="line">[Wednesday 01 September 2010] [10:18:03] &lt;sustrik&gt;  it&#8217;s administration/business logic distinction</div>
<div class="line">[Wednesday 01 September 2010] [10:18:10] &lt;sustrik&gt;  inproc carries business logic</div>
<div class="line">[Wednesday 01 September 2010] [10:18:17] &lt;sustrik&gt;  sys carries admin data</div>
<div class="line">[Wednesday 01 September 2010] [10:18:18] &lt;pieterh&gt;  not necessarily</div>
<div class="line">[Wednesday 01 September 2010] [10:18:24] &lt;sustrik&gt;  necessarily</div>
<div class="line">[Wednesday 01 September 2010] [10:18:24] &lt;pieterh&gt;  as soon as i make a framework over 0MQ</div>
<div class="line">[Wednesday 01 September 2010] [10:18:30] &lt;pieterh&gt;  then inproc carries admin data</div>
<div class="line">[Wednesday 01 September 2010] [10:18:39] &lt;guido_g&gt;  for an application using the core</div>
<div class="line">[Wednesday 01 September 2010] [10:18:50] &lt;guido_g&gt;  not the mq core itself</div>
<div class="line">[Wednesday 01 September 2010] [10:18:58] &lt;pieterh&gt;  ok... perhaps it would help if there was some significant semantic difference between admin data and business data</div>
<div class="line">[Wednesday 01 September 2010] [10:19:01] &lt;pieterh&gt;  such as priority</div>
<div class="line">[Wednesday 01 September 2010] [10:19:02] &lt;guido_g&gt;  i see sys: as the core namespace</div>
<div class="line">[Wednesday 01 September 2010] [10:19:07] &lt;pieterh&gt;  or blocking/ error handling</div>
<div class="line">[Wednesday 01 September 2010] [10:19:19] &lt;pieterh&gt;  guido_g: as a namespace this is a lousy solution IMO</div>
<div class="line">[Wednesday 01 September 2010] [10:19:36] &lt;pieterh&gt;  namespaces should be orthogonal to transports</div>
<div class="line">[Wednesday 01 September 2010] [10:19:36] &lt;guido_g&gt;  pieterh: why?</div>
<div class="line">[Wednesday 01 September 2010] [10:19:57] &lt;pieterh&gt;  well, this makes it impossible to run a separate logger to inspect a running process</div>
<div class="line">[Wednesday 01 September 2010] [10:20:13] &lt;pieterh&gt;  every single application needs a special thread that exports the sys: data over ipc: or tcp:</div>
<div class="line">[Wednesday 01 September 2010] [10:20:17] &lt;sustrik&gt;  the main problem i have with the whole log thing is that people are now going to use it for their business logic and thus break the patterns</div>
<div class="line">[Wednesday 01 September 2010] [10:20:26] &lt;sustrik&gt;  if so, i&#8217;ll rather remove it completely</div>
<div class="line">[Wednesday 01 September 2010] [10:20:28] &lt;pieterh&gt;  sustrik: no, you can prevent that easily</div>
<div class="line">[Wednesday 01 September 2010] [10:20:36] &lt;sustrik&gt;  ?</div>
<div class="line">[Wednesday 01 September 2010] [10:20:36] &lt;guido_g&gt;  sustrik: hold it, we need it!</div>
<div class="line">[Wednesday 01 September 2010] [10:20:38] &lt;pieterh&gt;  you can prevent that trivially</div>
<div class="line">[Wednesday 01 September 2010] [10:20:43] &lt;pieterh&gt;  use a protected name space</div>
<div class="line">[Wednesday 01 September 2010] [10:20:56] &lt;guido_g&gt;  like sys: ? :)</div>
<div class="line">[Wednesday 01 September 2010] [10:21:00] &lt;pieterh&gt;  recall in amqp how exchanges beginning with amq. were protected</div>
<div class="line">[Wednesday 01 September 2010] [10:21:10] &lt;pieterh&gt;  transports are not namespaces... :-(</div>
<div class="line">[Wednesday 01 September 2010] [10:21:20] &lt;guido_g&gt;  sure</div>
<div class="line">[Wednesday 01 September 2010] [10:21:27] &lt;sustrik&gt;  what i mean is people are now going to ask me to report disconnections via sys</div>
<div class="line">[Wednesday 01 September 2010] [10:21:29] &lt;pieterh&gt;  inproc://zmq/log and ipc://zmq/log would be perfect</div>
<div class="line">[Wednesday 01 September 2010] [10:21:31] &lt;pieterh&gt;  allows me to start separate logger</div>
<div class="line">[Wednesday 01 September 2010] [10:21:38] &lt;sustrik&gt;  so that they can handle each connection separately</div>
<div class="line">[Wednesday 01 September 2010] [10:21:59] &lt;pieterh&gt;  perhaps</div>
<div class="line">[Wednesday 01 September 2010] [10:22:08] &lt;sustrik&gt;  to prevent that, the admin part should be as much separated from the business part as possible</div>
<div class="line">[Wednesday 01 September 2010] [10:22:09] &lt;pieterh&gt;  that&#8217;s a use case but it&#8217;s possibly not the right solution</div>
<div class="line">[Wednesday 01 September 2010] [10:22:18] &lt;pieterh&gt;  hmm</div>
<div class="line">[Wednesday 01 September 2010] [10:22:22] &lt;sustrik&gt;  different API would be ideal</div>
<div class="line">[Wednesday 01 September 2010] [10:22:36] &lt;guido_g&gt;  but the application developer doe <em>not</em> know what makes sys: work technically, so the obvious similarity to inproc might be wrong</div>
<div class="line">[Wednesday 01 September 2010] [10:22:36] &lt;sustrik&gt;  but that&#8217;s too much work</div>
<div class="line">[Wednesday 01 September 2010] [10:22:38] &lt;pieterh&gt;  sustrik: do you see the value in allowing this namespace to work over both ipc and inproc?</div>
<div class="line">[Wednesday 01 September 2010] [10:22:48] &lt;sustrik&gt;  no</div>
<div class="line">[Wednesday 01 September 2010] [10:23:07] &lt;sustrik&gt;  it&#8217;s just adminstration stuff</div>
<div class="line">[Wednesday 01 September 2010] [10:23:37] &lt;pieterh&gt;  i don&#8217;t think logging should be mixed with out of band control of sockets</div>
<div class="line">[Wednesday 01 September 2010] [10:23:45] &lt;pieterh&gt;  that&#8217;s a different issue</div>
<div class="line">[Wednesday 01 September 2010] [10:23:47] &lt;sustrik&gt;  right</div>
<div class="line">[Wednesday 01 September 2010] [10:23:55] &lt;sustrik&gt;  but it&#8217;s an obvious trap</div>
<div class="line">[Wednesday 01 September 2010] [10:24:11] &lt;pieterh&gt;  avoidable trap</div>
<div class="line">[Wednesday 01 September 2010] [10:24:13] &lt;sustrik&gt;  i think someone have already suggested something like that</div>
<div class="line">[Wednesday 01 September 2010] [10:24:19] &lt;pieterh&gt;  yes</div>
<div class="line">[Wednesday 01 September 2010] [10:24:27] &lt;sustrik&gt;  i can avoid it by saying &#8220;NO&#8221;</div>
<div class="line">[Wednesday 01 September 2010] [10:24:36] &lt;sustrik&gt;  as i am core maintainer atm</div>
<div class="line">[Wednesday 01 September 2010] [10:24:46] &lt;pieterh&gt;  indeed</div>
<div class="line">[Wednesday 01 September 2010] [10:24:53] &lt;pieterh&gt;  but that&#8217;s not going away, your veto</div>
<div class="line">[Wednesday 01 September 2010] [10:24:57] &lt;sustrik&gt;  no mixing of business logic and administration</div>
<div class="line">[Wednesday 01 September 2010] [10:25:04] &lt;pieterh&gt;  anyone can fork 0MQ and add whatever they like</div>
<div class="line">[Wednesday 01 September 2010] [10:25:10] &lt;pieterh&gt;  but it won&#8217;t be the official version</div>
<div class="line">[Wednesday 01 September 2010] [10:25:16] &lt;sustrik&gt;  sure, that&#8217;s ok</div>
<div class="line">[Wednesday 01 September 2010] [10:25:19] &lt;pieterh&gt;  unless and until you vote it in</div>
<div class="line">[Wednesday 01 September 2010] [10:25:27] &lt;pieterh&gt;  no exceptions to this, period.</div>
<div class="line">[Wednesday 01 September 2010] [10:25:58] &lt;guido_g&gt;  are we still at the logging thing or do i have to move myself to a safe place?</div>
<div class="line">[Wednesday 01 September 2010] [10:26:00] &lt;sustrik&gt;  good, so unless i hear a good argument for mixing business logic and maitenence/debugging stuff, i would keep it apart</div>
<div class="line">[Wednesday 01 September 2010] [10:26:18] &lt;sustrik&gt;  it&#8217;s logging still :)</div>
<div class="line">[Wednesday 01 September 2010] [10:26:27] &lt;pieterh&gt;  sustrik: i&#8217;d like, really love, to be able to do logging from a separate process</div>
<div class="line">[Wednesday 01 September 2010] [10:26:42] &lt;pieterh&gt;  otherwise every application becomes N x more complex</div>
<div class="line">[Wednesday 01 September 2010] [10:26:42] &lt;sustrik&gt;  write an app that does that</div>
<div class="line">[Wednesday 01 September 2010] [10:26:43] &lt;sustrik&gt;  np</div>
<div class="line">[Wednesday 01 September 2010] [10:26:50] &lt;sustrik&gt;  5 lines of code</div>
<div class="line">[Wednesday 01 September 2010] [10:27:14] &lt;pieterh&gt;  you said it was in process</div>
<div class="line">[Wednesday 01 September 2010] [10:27:25] &lt;pieterh&gt;  did I misunderstand you?</div>
<div class="line">[Wednesday 01 September 2010] [10:27:35] &lt;sustrik&gt;  you can create a device that would read from sys and republish on tcp</div>
<div class="line">[Wednesday 01 September 2010] [10:27:44] &lt;sustrik&gt;  you can even use forwarder</div>
<div class="line">[Wednesday 01 September 2010] [10:28:19] &lt;sustrik&gt;  when you do that you are effectively converting 0mq admin data into business logic data</div>
<div class="line">[Wednesday 01 September 2010] [10:28:20] &lt;sustrik&gt;  which is ok</div>
<div class="line">[Wednesday 01 September 2010] [10:28:30] &lt;sustrik&gt;  but at 0mq level i need them separated</div>
<div class="line">[Wednesday 01 September 2010] [10:28:36] &lt;sustrik&gt;  to avoid contamination</div>
<div class="line">[Wednesday 01 September 2010] [10:28:50] &lt;guido_g&gt;  if anyone can access the <em>internal</em> data flow w/o authorization it would be a nightmare</div>
<div class="line">[Wednesday 01 September 2010] [10:29:05] &lt;sustrik&gt;  you mean the logs?</div>
<div class="line">[Wednesday 01 September 2010] [10:29:09] &lt;guido_g&gt;  yes</div>
<div class="line">[Wednesday 01 September 2010] [10:29:16] &lt;sustrik&gt;  :(</div>
<div class="line">[Wednesday 01 September 2010] [10:29:26] &lt;sustrik&gt;  no authorisation as for now</div>
<div class="line">[Wednesday 01 September 2010] [10:29:33] &lt;sustrik&gt;  otoh</div>
<div class="line">[Wednesday 01 September 2010] [10:29:38] &lt;sustrik&gt;  it&#8217;s in-process only</div>
<div class="line">[Wednesday 01 September 2010] [10:29:49] &lt;sustrik&gt;  so nobody from outside can read from sys</div>
<div class="line">[Wednesday 01 September 2010] [10:29:52] &lt;guido_g&gt;  given the &#8220;one forwarder per program&#8221; model, the program decides on what to publish and where etc.</div>
<div class="line">[Wednesday 01 September 2010] [10:30:31] &lt;guido_g&gt;  sustrik: sure, but as far as i understood, pieterh wanted access from an external process w/o a forwarder inbetween</div>
<div class="line">[Wednesday 01 September 2010] [10:30:47] &lt;sustrik&gt;  yes, that was the original discussion</div>
<div class="line">[Wednesday 01 September 2010] [10:31:10] &lt;sustrik&gt;  actually it would be almost impossible from implementation point of view</div>
<div class="line">[Wednesday 01 September 2010] [10:31:20] &lt;sustrik&gt;  that&#8217;s black magic going on in the background :)</div>
<div class="line">[Wednesday 01 September 2010] [10:31:21] &lt;guido_g&gt;  details! :)</div>
<div class="line">[Wednesday 01 September 2010] [10:31:44] &lt;sustrik&gt;  well, sys is technically different from all the other sockets</div>
<div class="line">[Wednesday 01 September 2010] [10:31:56] &lt;sustrik&gt;  maybe pgm excluded</div>
<div class="line">[Wednesday 01 September 2010] [10:32:02] &lt;sustrik&gt;  becasue it&#8217;s a real bus</div>
<div class="line">[Wednesday 01 September 2010] [10:32:08] &lt;sustrik&gt;  ie. multiple writers</div>
<div class="line">[Wednesday 01 September 2010] [10:32:13] &lt;sustrik&gt;  multiple readers</div>
<div class="line">[Wednesday 01 September 2010] [10:32:19] &lt;sustrik&gt;  no device in the middle</div>
<div class="line">[Wednesday 01 September 2010] [10:32:28] &lt;guido_g&gt;  as i said &#8220;&lt;guido_g&gt; but the application developer doe <em>not</em> know what makes sys: work technically, so the obvious similarity to inproc might be wrong&#8221;</div>
<div class="line">[Wednesday 01 September 2010] [10:32:56] &lt;guido_g&gt;  therefore the sys: transport makes sense in my eyes</div>
<div class="line">[Wednesday 01 September 2010] [10:33:09] &lt;sustrik&gt;  yes, that was my argument as well</div>
<div class="line">[Wednesday 01 September 2010] [10:33:14] &lt;guido_g&gt;  good</div>
<div class="line">[Wednesday 01 September 2010] [10:33:33] &lt;guido_g&gt;  because i really like the logging</div>
<div class="line">[Wednesday 01 September 2010] [10:33:48] &lt;sustrik&gt;  it&#8217;s good but can be dangerous if misused</div>
<div class="line">[Wednesday 01 September 2010] [10:34:04] &lt;guido_g&gt;  mq is notoriously weak on giving information on what&#8217;s going on</div>
<div class="line">[Wednesday 01 September 2010] [10:34:14] &lt;sustrik&gt;  :|</div>
<div class="line">[Wednesday 01 September 2010] [10:34:23] &lt;guido_g&gt;  that&#8217;s a thing nearly every library has</div>
<div class="line">[Wednesday 01 September 2010] [10:34:35] &lt;sustrik&gt;  right</div>
<div class="line">[Wednesday 01 September 2010] [10:34:52] &lt;sustrik&gt;  that&#8217;s because it&#8217;s much more async that probably any other library around</div>
<div class="line">[Wednesday 01 September 2010] [10:35:02] &lt;sustrik&gt;  zillions of moving parts</div>
<div class="line">[Wednesday 01 September 2010] [10:35:09] &lt;sustrik&gt;  even without proper synchronisation</div>
<div class="line">[Wednesday 01 September 2010] [10:35:12] &lt;guido_g&gt;  and for real distributed applications there is rule 0: log everything, all the time</div>
<div class="line">[Wednesday 01 September 2010] [10:35:21] &lt;sustrik&gt;  right</div>
<div class="line">[Wednesday 01 September 2010] [10:35:27] &lt;sustrik&gt;  so, this should solve it</div>
<div class="line">[Wednesday 01 September 2010] [10:35:32] &lt;sustrik&gt;  hopefully</div>
<div class="line">[Wednesday 01 September 2010] [10:35:47] &lt;guido_g&gt;  it&#8217;s at least a clean interface</div>
<div class="line">[Wednesday 01 September 2010] [10:36:01] &lt;pieterh&gt;  sustrik: makes sense but it&#8217;s a shame that we&#8217;d need a dedicated thread in every app to export log data</div>
<div class="line">[Wednesday 01 September 2010] [10:36:10] &lt;pieterh&gt;  still, this can be extended over time</div>
<div class="line">[Wednesday 01 September 2010] [10:36:23] &lt;pieterh&gt;  minimalism demands I shut up now :-)</div>
<div class="line">[Wednesday 01 September 2010] [10:36:41] &lt;pieterh&gt;  though a new question comes to mind...</div>
<div class="line">[Wednesday 01 September 2010] [10:36:56] &lt;pieterh&gt;  if a bus transport is useful for 0MQ internally</div>
<div class="line">[Wednesday 01 September 2010] [10:37:01] &lt;pieterh&gt;  surely it is also useful for applications as well</div>
<div class="line">[Wednesday 01 September 2010] [10:37:07] &lt;pieterh&gt;  :-)</div>
<div class="line">[Wednesday 01 September 2010] [10:37:09] &lt;sustrik&gt;  it doesn&#8217;t scale</div>
<div class="line">[Wednesday 01 September 2010] [10:37:17] &lt;sustrik&gt;  it can work on level on 1 process</div>
<div class="line">[Wednesday 01 September 2010] [10:37:24] &lt;sustrik&gt;  even on LAN</div>
<div class="line">[Wednesday 01 September 2010] [10:37:35] &lt;sustrik&gt;  once you try to stretch it further it breaks</div>
<div class="line">[Wednesday 01 September 2010] [10:38:00] &lt;sustrik&gt;  the number of transfers grows quadratically with increasding number of components</div>
<div class="line">[Wednesday 01 September 2010] [10:38:38] &lt;sustrik&gt;  pieterh: ad dedicated thread</div>
<div class="line">[Wednesday 01 September 2010] [10:38:42] &lt;pieterh&gt;  sustrik: as an inproc bus, I meant</div>
<div class="line">[Wednesday 01 September 2010] [10:38:45] &lt;sustrik&gt;  yes, that&#8217;s why it&#8217;s a bus</div>
<div class="line">[Wednesday 01 September 2010] [10:38:46] &lt;pieterh&gt;  bus://</div>
<div class="line">[Wednesday 01 September 2010] [10:38:58] &lt;sustrik&gt;  to avoid speacial thread</div>
<div class="line">[Wednesday 01 September 2010] [10:39:14] &lt;sustrik&gt;  yes, can be</div>
<div class="line">[Wednesday 01 September 2010] [10:39:37] &lt;sustrik&gt;  but i like that sys is explicit abour &#8220;don&#8217;t pass your business logic through this&#8221;</div>
<div class="line">[Wednesday 01 September 2010] [10:39:48] &lt;pieterh&gt;  for some reason &#8216;magic system stuff you use here&#8217; seems not ideal</div>
<div class="line">[Wednesday 01 September 2010] [10:40:16] &lt;pieterh&gt;  it&#8217;s like the core gets to use magic stuff the apps don&#8217;t get</div>
<div class="line">[Wednesday 01 September 2010] [10:40:28] &lt;sustrik&gt;  yes</div>
<div class="line">[Wednesday 01 September 2010] [10:40:31] &lt;guido_g&gt;  that&#8217;s why it&#8217;s the core</div>
<div class="line">[Wednesday 01 September 2010] [10:40:37] &lt;sustrik&gt;  because core doesn&#8217;t have to scale</div>
<div class="line">[Wednesday 01 September 2010] [10:40:42] &lt;sustrik&gt;  applications do</div>
<div class="line">[Wednesday 01 September 2010] [10:41:36] &lt;pieterh&gt;  imo you will get people demanding access to this transport for their essential internal signalling</div>
<div class="line">[Wednesday 01 September 2010] [10:41:51] &lt;pieterh&gt;  but i have no proof, just baseless speculation</div>
<div class="line">[Wednesday 01 September 2010] [10:42:07] &lt;sustrik&gt;  i expect it will be so</div>
<div class="line">[Wednesday 01 September 2010] [10:42:19] &lt;sustrik&gt;  thus i want it be named something really scary</div>
<div class="line">[Wednesday 01 September 2010] [10:42:30] &lt;guido_g&gt;  but the line is drawn &#8220;sorry, no access for you here&#8221;</div>
<div class="line">[Wednesday 01 September 2010] [10:42:34] &lt;pieterh&gt;  e.g. &#8220;how do I do a clean shutdown&#8221;... answer: signal every thread</div>
<div class="line">[Wednesday 01 September 2010] [10:42:44] &lt;guido_g&gt;  as with system calls into the kernel</div>
<div class="line">[Wednesday 01 September 2010] [10:42:45] &lt;pieterh&gt;  bah. that was the idea with PAIR as well</div>
<div class="line">[Wednesday 01 September 2010] [10:42:49] &lt;sustrik&gt;  that&#8217;s baked into 0mq as well</div>
<div class="line">[Wednesday 01 September 2010] [10:42:52] &lt;sustrik&gt;  ETERM</div>
<div class="line">[Wednesday 01 September 2010] [10:42:55] &lt;pieterh&gt;  but it turns out we really need PAIR for some use cases</div>
<div class="line">[Wednesday 01 September 2010] [10:43:15] &lt;sustrik&gt;  ok, the use case for pair:</div>
<div class="line">[Wednesday 01 September 2010] [10:43:18] &lt;pieterh&gt;  yeah, i know, it&#8217;s a bad example</div>
<div class="line">[Wednesday 01 September 2010] [10:43:26] &lt;sustrik&gt;  you have an application that does accounting and HR</div>
<div class="line">[Wednesday 01 September 2010] [10:43:34] &lt;sustrik&gt;  you want to split it into two applications</div>
<div class="line">[Wednesday 01 September 2010] [10:43:37] &lt;sustrik&gt;  one does accounting</div>
<div class="line">[Wednesday 01 September 2010] [10:43:40] &lt;sustrik&gt;  other does HR</div>
<div class="line">[Wednesday 01 September 2010] [10:43:52] &lt;sustrik&gt;  they have a PAIR socket between them</div>
<div class="line">[Wednesday 01 September 2010] [10:44:10] &lt;sustrik&gt;  because each of the peer is singleton</div>
<div class="line">[Wednesday 01 September 2010] [10:44:16] &lt;sustrik&gt;  and doesn&#8217;t scale</div>
<div class="line">[Wednesday 01 September 2010] [10:44:23] &lt;pieterh&gt;  my use case for PAIR is just interthread signalling</div>
<div class="line">[Wednesday 01 September 2010] [10:44:32] &lt;sustrik&gt;  hm</div>
<div class="line">[Wednesday 01 September 2010] [10:44:37] &lt;sustrik&gt;  what use case?</div>
<div class="line">[Wednesday 01 September 2010] [10:44:52] &lt;pieterh&gt;  i explained it in the guide, end of chapter 2</div>
<div class="line">[Wednesday 01 September 2010] [10:45:00] &lt;pieterh&gt;  thread a wants to signal to thread b that it&#8217;s done</div>
<div class="line">[Wednesday 01 September 2010] [10:45:05] &lt;pieterh&gt;  no scaling required</div>
<div class="line">[Wednesday 01 September 2010] [10:45:10] &lt;sustrik&gt;  let me see</div>
<div class="line">[Wednesday 01 September 2010] [10:45:14] &lt;pieterh&gt;  no reconnection required</div>
<div class="line">[Wednesday 01 September 2010] [10:45:25] &lt;pieterh&gt;  PAIR gives the best semantics afaics</div>
<div class="line">[Wednesday 01 September 2010] [10:47:48]     * sustrik is looking at the program</div>
<div class="line">[Wednesday 01 September 2010] [10:48:00] &lt;sustrik&gt;  this one: &#8220;Thread Coordination&#8221; ?</div>
<div class="line">[Wednesday 01 September 2010] [10:51:55] &lt;sustrik&gt;  well, there&#8217;s no business logic in the example</div>
<div class="line">[Wednesday 01 September 2010] [10:52:09] &lt;sustrik&gt;  so it&#8217;s hard to say what&#8217;s the right socket types to use</div>
<div class="line">[Wednesday 01 September 2010] [10:52:39] &lt;sustrik&gt;  it the three components are by definition singletons, then PAIR is appropriate</div>
<div class="line">[Wednesday 01 September 2010] [10:52:54] &lt;sustrik&gt;  it say step2 can be parallelised the pipeline would be better</div>
<div class="line">[Wednesday 01 September 2010] [10:53:49] &lt;sustrik&gt;  the problem i have with pair is that it solves a problem (the accounting vs. HR problem)</div>
<div class="line">[Wednesday 01 September 2010] [10:53:54] &lt;sustrik&gt;  but it doesn&#8217;t scale</div>
<div class="line">[Wednesday 01 September 2010] [10:54:29] &lt;sustrik&gt;  by throwing more boxes on your accounting/HR application you won&#8217;t get more power</div>
<div class="line">[Wednesday 01 September 2010] [10:54:43] &lt;sustrik&gt;  even thought you paired the two by a PAIR socket</div>
<div class="line">[Wednesday 01 September 2010] [11:29:51] &lt;guido_g&gt;  sustrik: latest master shows poll problem again</div>
<div class="line">[Wednesday 01 September 2010] [11:30:41] &lt;guido_g&gt;  test code is at <a class="reference external" href="http://github.com/guidog/cpp/tree/master/zmqcpp/">http://github.com/guidog/cpp/tree/master/zmqcpp/</a></div>
<div class="line">[Wednesday 01 September 2010] [11:31:43] &lt;guido_g&gt;  output of zmqcpp when sender was executed: <a class="reference external" href="http://gist.github.com/560863">http://gist.github.com/560863</a></div>
<div class="line">[Wednesday 01 September 2010] [12:11:55] &lt;ModusPwnens&gt;  hello</div>
<div class="line">[Wednesday 01 September 2010] [12:18:26] &lt;ModusPwnens&gt;  i have a question about the zmq_msg_size function</div>
<div class="line">[Wednesday 01 September 2010] [12:26:24] &lt;cremes&gt;   ModusPwnens: go ahead and ask</div>
<div class="line">[Wednesday 01 September 2010] [12:26:33] &lt;cremes&gt;   if someone knows the answer, they&#8217;ll respond</div>
<div class="line">[Wednesday 01 September 2010] [12:26:38] &lt;ModusPwnens&gt;  ok</div>
<div class="line">[Wednesday 01 September 2010] [12:26:56] &lt;ModusPwnens&gt;  so as i have said before, I am using google protocl buffers to encode messages and send them</div>
<div class="line">[Wednesday 01 September 2010] [12:27:29] &lt;ModusPwnens&gt;  and on the clientsize, I do message.size(), where message is the size of the object encoded by google protocol buffers</div>
<div class="line">[Wednesday 01 September 2010] [12:27:33] &lt;ModusPwnens&gt;  however, on the server side</div>
<div class="line">[Wednesday 01 September 2010] [12:27:41] &lt;ModusPwnens&gt;  I use the zmq_msg_size function</div>
<div class="line">[Wednesday 01 September 2010] [12:27:55] &lt;ModusPwnens&gt;  but no matter how large the message actually is, zmq_msg_size always gives 36 bytes</div>
<div class="line">[Wednesday 01 September 2010] [12:28:14] &lt;ModusPwnens&gt;  I am wondering not only why that is, but how to get the actual size of the payload of the message</div>
<div class="line">[Wednesday 01 September 2010] [12:28:21] &lt;cremes&gt;   ok</div>
<div class="line">[Wednesday 01 September 2010] [12:28:48] &lt;cremes&gt;   it sounds to me like your client is not allocating the message correctly</div>
<div class="line">[Wednesday 01 September 2010] [12:29:11] &lt;cremes&gt;   do you have a code snippet showing how you are allocating the zmq_msg_t and assigning your protocol buffer to it?</div>
<div class="line">[Wednesday 01 September 2010] [12:29:36] &lt;ModusPwnens&gt;          rc = zmq_msg_init_data(&amp;msg, cstr, message.size(), NULL, NULL);</div>
<div class="line">[Wednesday 01 September 2010] [12:29:41] &lt;ModusPwnens&gt;  something like that?&gt;</div>
<div class="line">[Wednesday 01 September 2010] [12:30:43] &lt;cremes&gt;   hold on a sec...</div>
<div class="line">[Wednesday 01 September 2010] [12:30:51] &lt;ModusPwnens&gt;  k</div>
<div class="line">[Wednesday 01 September 2010] [12:32:32] &lt;cremes&gt;   the variable &#8216;cstr&#8217; points to the data; are you sure its size is the same as message.size() ?</div>
<div class="line">[Wednesday 01 September 2010] [12:32:47] &lt;Steve-o&gt;  shouldn&#8217;t it be message.ByteSize() in Google protobufs?</div>
<div class="line">[Wednesday 01 September 2010] [12:33:26]     * cremes thinks that is a good question too since i am unfamiliar with that api</div>
<div class="line">[Wednesday 01 September 2010] [12:34:08] &lt;ModusPwnens&gt;  hmm, that&#8217;s a good point. I wasn&#8217;t aware that function existed..</div>
<div class="line">[Wednesday 01 September 2010] [12:34:26] &lt;ModusPwnens&gt;  but in any case, that doesn&#8217;t seem like it would solve my problem.</div>
<div class="line">[Wednesday 01 September 2010] [12:35:03] &lt;cremes&gt;   does the server <em>always</em> receive packets of length 36 exactly? if so, the client must be producing messages of that length</div>
<div class="line">[Wednesday 01 September 2010] [12:35:25] &lt;cremes&gt;   focus on the client side for now... something is likely wrong there</div>
<div class="line">[Wednesday 01 September 2010] [12:35:59] &lt;cremes&gt;   on the server, are the bytes received garbage? try printing the data the client sends and comparing it to the data the server receives</div>
<div class="line">[Wednesday 01 September 2010] [12:36:10] &lt;ModusPwnens&gt;  It seems so, but when i print the value of message.size() in the client, it prints outs omething much larger</div>
<div class="line">[Wednesday 01 September 2010] [12:36:16] &lt;ModusPwnens&gt;  and the bytes received are not garbage</div>
<div class="line">[Wednesday 01 September 2010] [12:36:21] &lt;ModusPwnens&gt;  i have verified the message coming through is valid</div>
<div class="line">[Wednesday 01 September 2010] [12:37:17] &lt;cremes&gt;   why not try:  rc = zmq_msg_init_data(&amp;msg, cstr, strlen(cstr), NULL, NULL);</div>
<div class="line">[Wednesday 01 September 2010] [12:37:48] &lt;cremes&gt;   i don&#8217;t understand the relationship between cstr and message.size()</div>
<div class="line">[Wednesday 01 September 2010] [12:38:21] &lt;ModusPwnens&gt;  Hmm, i changed that for a reason...</div>
<div class="line">[Wednesday 01 September 2010] [12:38:32] &lt;ModusPwnens&gt;  I think it&#8217;s because the zmq syntax doesn&#8217;t want a string there or something</div>
<div class="line">[Wednesday 01 September 2010] [12:38:41] &lt;ModusPwnens&gt;  so I had to convert a string into a c-style string</div>
<div class="line">[Wednesday 01 September 2010] [12:38:46] &lt;ModusPwnens&gt;  and thats what cstr is</div>
<div class="line">[Wednesday 01 September 2010] [12:39:08] &lt;cremes&gt;   ah ha... that is your problem</div>
<div class="line">[Wednesday 01 September 2010] [12:39:19] &lt;ModusPwnens&gt;  it is?</div>
<div class="line">[Wednesday 01 September 2010] [12:39:20] &lt;cremes&gt;   c style strings are terminated by a NUL 0</div>
<div class="line">[Wednesday 01 September 2010] [12:39:50] &lt;ModusPwnens&gt;  Yeah. Does that interfere with zeromq somehow?</div>
<div class="line">[Wednesday 01 September 2010] [12:39:59] &lt;cremes&gt;   hmmm, wait, i got ahead of myself there...</div>
<div class="line">[Wednesday 01 September 2010] [12:40:14] &lt;cremes&gt;   i&#8217;m going to think out loud</div>
<div class="line">[Wednesday 01 September 2010] [12:40:17] &lt;ModusPwnens&gt;  ok</div>
<div class="line">[Wednesday 01 September 2010] [12:40:31] &lt;cremes&gt;   so a c style string is really just a char* or a pointer to a byte buffer</div>
<div class="line">[Wednesday 01 September 2010] [12:40:45] &lt;ModusPwnens&gt;  correct</div>
<div class="line">[Wednesday 01 September 2010] [12:40:48] &lt;ModusPwnens&gt;  oh right</div>
<div class="line">[Wednesday 01 September 2010] [12:40:51] &lt;cremes&gt;   you need to pass a byte buffer pointing to the beginning of your encoded message</div>
<div class="line">[Wednesday 01 September 2010] [12:40:52] &lt;ModusPwnens&gt;  sorry you&#8217;re thinking out loud &gt;_&lt;</div>
<div class="line">[Wednesday 01 September 2010] [12:41:06] &lt;cremes&gt;   is the cstr pointing to that?</div>
<div class="line">[Wednesday 01 September 2010] [12:41:13] &lt;ModusPwnens&gt;  yeah</div>
<div class="line">[Wednesday 01 September 2010] [12:41:28] &lt;ModusPwnens&gt;  and then i strcpy the message into cstr</div>
<div class="line">[Wednesday 01 September 2010] [12:41:29] &lt;cremes&gt;   e.g. cstr = (char*) message.encode().get_pointer()</div>
<div class="line">[Wednesday 01 September 2010] [12:41:30] &lt;ModusPwnens&gt;  beforehand</div>
<div class="line">[Wednesday 01 September 2010] [12:41:48] &lt;ModusPwnens&gt;  yeah something like that</div>
<div class="line">[Wednesday 01 September 2010] [12:41:49] &lt;cremes&gt;   any embedded NULs will terminate the string copy</div>
<div class="line">[Wednesday 01 September 2010] [12:42:06] &lt;cremes&gt;   so you may only be copying 36 bytes even though your byte buffer is larger</div>
<div class="line">[Wednesday 01 September 2010] [12:42:10] &lt;cremes&gt;   use memcpy instead</div>
<div class="line">[Wednesday 01 September 2010] [12:42:20] &lt;cremes&gt;   does that sound reasonable?</div>
<div class="line">[Wednesday 01 September 2010] [12:42:38] &lt;ModusPwnens&gt;  but..wouldn&#8217;t that reflect on the serverside as far as displaying the message?</div>
<div class="line">[Wednesday 01 September 2010] [12:42:47] &lt;ModusPwnens&gt;  i.e. it wouldn&#8217;t display the whole thing?</div>
<div class="line">[Wednesday 01 September 2010] [12:43:10] &lt;ModusPwnens&gt;  furthermore</div>
<div class="line">[Wednesday 01 September 2010] [12:43:18] &lt;ModusPwnens&gt;  embedded nuls will terminate the string copy</div>
<div class="line">[Wednesday 01 September 2010] [12:43:29] &lt;ModusPwnens&gt;  but doesnt&#8217; that only apply to the encoded message that is being copied?</div>
<div class="line">[Wednesday 01 September 2010] [12:43:47] &lt;cremes&gt;   ModusPwnens: you are going to have to show more code, i think</div>
<div class="line">[Wednesday 01 September 2010] [12:44:15] &lt;ModusPwnens&gt;  ok i will just copy the entire function into a pastebin</div>
<div class="line">[Wednesday 01 September 2010] [12:44:19] &lt;cremes&gt;   there are lots of folks successfully slinging around large strings and large byte buffers so there is likely an issue in your code</div>
<div class="line">[Wednesday 01 September 2010] [12:44:27] &lt;cremes&gt;   cool</div>
<div class="line">[Wednesday 01 September 2010] [12:44:32] &lt;ModusPwnens&gt;  That is definitely a possibility</div>
<div class="line">[Wednesday 01 September 2010] [12:44:49] &lt;cremes&gt;   you are using 2.0.8 release, yes? or the 2.1 master branch?</div>
<div class="line">[Wednesday 01 September 2010] [12:44:58] &lt;ModusPwnens&gt;  2.0.7</div>
<div class="line">[Wednesday 01 September 2010] [12:45:22] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * r99ddfa7 10/ (builds/msvc/platform.hpp configure.in): maint: will become 2.0.9 - <a class="reference external" href="http://bit.ly/dgicJb">http://bit.ly/dgicJb</a></div>
<div class="line">[Wednesday 01 September 2010] [12:45:26] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * r47aaf10 10/ :</div>
<div class="line">[Wednesday 01 September 2010] [12:45:27] &lt;CIA-20&gt;   zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Wednesday 01 September 2010] [12:45:27] &lt;CIA-20&gt;   zeromq2: * maint:</div>
<div class="line">[Wednesday 01 September 2010] [12:45:27] &lt;CIA-20&gt;   zeromq2:  maint: will become 2.0.9</div>
<div class="line">[Wednesday 01 September 2010] [12:45:27] &lt;CIA-20&gt;   zeromq2: Conflicts:</div>
<div class="line">[Wednesday 01 September 2010] [12:45:27] &lt;CIA-20&gt;   zeromq2:  builds/msvc/platform.hpp</div>
<div class="line">[Wednesday 01 September 2010] [12:45:28] &lt;CIA-20&gt;   zeromq2:  configure.in - <a class="reference external" href="http://bit.ly/9JfwEL">http://bit.ly/9JfwEL</a></div>
<div class="line">[Wednesday 01 September 2010] [12:45:28] &lt;CIA-20&gt;   zeromq2: 03Mikael Helbo Kjr 07master * r59315eb 10/ src/select.cpp :</div>
<div class="line">[Wednesday 01 September 2010] [12:45:29] &lt;CIA-20&gt;   zeromq2: Erasure of retired fd&#8217;s in select.cpp causes an assertion in MSVC 2008 STL</div>
<div class="line">[Wednesday 01 September 2010] [12:45:29] &lt;CIA-20&gt;   zeromq2: I was hitting an issue with an SCL enabled STL library in connection with the</div>
<div class="line">[Wednesday 01 September 2010] [12:45:30] &lt;CIA-20&gt;   zeromq2: way select_t::loop was erasing retired fd&#8217;s. The problem as identified by the</div>
<div class="line">[Wednesday 01 September 2010] [12:45:31] &lt;CIA-20&gt;   zeromq2: SCL assertion was that by the time the iterator given to the erase method was</div>
<div class="line">[Wednesday 01 September 2010] [12:45:31] &lt;CIA-20&gt;   zeromq2: called it was considered invalid by the library. I am not sure this isn&#8217;t just</div>
<div class="line">[Wednesday 01 September 2010] [12:45:32] &lt;CIA-20&gt;   zeromq2: a &#8220;quirk&#8221; of the MSVC STL library as the other code looks valid to me as well. - <a class="reference external" href="http://bit.ly/dzUsD3">http://bit.ly/dzUsD3</a></div>
<div class="line">[Wednesday 01 September 2010] [12:45:32] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * ra81a373 10/ src/select.cpp :</div>
<div class="line">[Wednesday 01 September 2010] [12:45:33] &lt;CIA-20&gt;   zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Wednesday 01 September 2010] [12:45:55] &lt;cremes&gt;   2.0.7 should be okay too; i don&#8217;t recall any data truncation bugs for any sockets</div>
<div class="line">[Wednesday 01 September 2010] [12:46:00] &lt;ModusPwnens&gt;  <a class="reference external" href="http://pastebin.com/NMyvuBmn">http://pastebin.com/NMyvuBmn</a></div>
<div class="line">[Wednesday 01 September 2010] [12:46:35] &lt;ModusPwnens&gt;  if i am doing anything stupid in general</div>
<div class="line">[Wednesday 01 September 2010] [12:46:37] &lt;ModusPwnens&gt;  please let me know</div>
<div class="line">[Wednesday 01 September 2010] [12:46:59] &lt;ModusPwnens&gt;  I am actually only a stupid so im not as experienced as most people here probably are..</div>
<div class="line">[Wednesday 01 September 2010] [12:47:02] &lt;ModusPwnens&gt;  wow</div>
<div class="line">[Wednesday 01 September 2010] [12:47:07] &lt;ModusPwnens&gt;  i meant student</div>
<div class="line">[Wednesday 01 September 2010] [12:47:35] &lt;cremes&gt;   line 36 confuses me...</div>
<div class="line">[Wednesday 01 September 2010] [12:47:41] &lt;ModusPwnens&gt;  oh yeah ignore that</div>
<div class="line">[Wednesday 01 September 2010] [12:47:54] &lt;cremes&gt;   is that supposed to be commented out?</div>
<div class="line">[Wednesday 01 September 2010] [12:48:27] &lt;cremes&gt;   because it is overwriting the size of the msg on the prior line</div>
<div class="line">[Wednesday 01 September 2010] [12:48:37] &lt;ModusPwnens&gt;  I think so. We put that in for debugging purposes.</div>
<div class="line">[Wednesday 01 September 2010] [12:48:41] &lt;cremes&gt;   with 36 bytes which matches up with how many you are receiving on the server side</div>
<div class="line">[Wednesday 01 September 2010] [12:49:00] &lt;cremes&gt;   well, that&#8217;s a bug</div>
<div class="line">[Wednesday 01 September 2010] [12:49:06] &lt;cremes&gt;   remove that and test again</div>
<div class="line">[Wednesday 01 September 2010] [12:49:13] &lt;ModusPwnens&gt;  <em>sigh</em> i hate asking stupid questions</div>
<div class="line">[Wednesday 01 September 2010] [12:51:06] &lt;cremes&gt;   don&#8217;t worry about it; you&#8217;ll be repaying the favor here in a few short weeks</div>
<div class="line">[Wednesday 01 September 2010] [12:51:34] &lt;ModusPwnens&gt;  ahhhhh gosh darn it</div>
<div class="line">[Wednesday 01 September 2010] [12:51:35] &lt;ModusPwnens&gt;  that was it</div>
<div class="line">[Wednesday 01 September 2010] [12:51:41] &lt;ModusPwnens&gt;  I&#8217;m sorry for wasting your time.</div>
<div class="line">[Wednesday 01 September 2010] [12:51:45] &lt;ModusPwnens&gt;  thanks for your help tho</div>
<div class="line">[Wednesday 01 September 2010] [12:51:46] &lt;cremes&gt;   btw, line 34 looks to me like a bug waiting to happen</div>
<div class="line">[Wednesday 01 September 2010] [12:51:51] &lt;cremes&gt;   i would use memcpy</div>
<div class="line">[Wednesday 01 September 2010] [12:52:27] &lt;ModusPwnens&gt;  because of the nul string thing?</div>
<div class="line">[Wednesday 01 September 2010] [12:52:49] &lt;cremes&gt;   right</div>
<div class="line">[Wednesday 01 September 2010] [12:53:05] &lt;cremes&gt;   memcpy(cstr, message.c_str(), message.size())</div>
<div class="line">[Wednesday 01 September 2010] [12:53:11] &lt;ModusPwnens&gt;  Ok, i will change it.</div>
<div class="line">[Wednesday 01 September 2010] [12:53:13] &lt;cremes&gt;   or use strncpy</div>
<div class="line">[Wednesday 01 September 2010] [12:53:25] &lt;cremes&gt;   but memcpy is likely quicker since it isn&#8217;t looking for NULs</div>
<div class="line">[Wednesday 01 September 2010] [12:53:48] &lt;cremes&gt;   ModusPwnens: and all this from a Ruby guy who hasn&#8217;t used C in anger for many years... :)</div>
<div class="line">[Wednesday 01 September 2010] [12:54:10] &lt;ModusPwnens&gt;  heh, well it looks like you still got it then.</div>
<div class="line">[Wednesday 01 September 2010] [12:54:36] &lt;ModusPwnens&gt;  oh, and i have another question this time</div>
<div class="line">[Wednesday 01 September 2010] [12:54:48] &lt;ModusPwnens&gt;  for the send and receive topology</div>
<div class="line">[Wednesday 01 September 2010] [12:55:10] &lt;ModusPwnens&gt;  is there a flag you can set or something that prevents the send and receive messages from blocking?</div>
<div class="line">[Wednesday 01 September 2010] [12:55:54] &lt;cremes&gt;   yes</div>
<div class="line">[Wednesday 01 September 2010] [12:56:17] &lt;cremes&gt;   check out ZMQ_NOBLOCK; <a class="reference external" href="http://api.zeromq.org/zmq_send.html">http://api.zeromq.org/zmq_send.html</a></div>
<div class="line">[Wednesday 01 September 2010] [12:56:37] &lt;cremes&gt;   btw, when using PUB sockets, it&#8217;s a good idea to put your topic in a separate message part</div>
<div class="line">[Wednesday 01 September 2010] [12:57:00] &lt;ModusPwnens&gt;  what do you mean?</div>
<div class="line">[Wednesday 01 September 2010] [12:57:12] &lt;cremes&gt;   the example code you pastied showed that you are sending the AddressBook as the first message part, so subscribers will match on it</div>
<div class="line">[Wednesday 01 September 2010] [12:57:30] &lt;cremes&gt;   i&#8217;ll pastie some pseudo-code showing what i mean</div>
<div class="line">[Wednesday 01 September 2010] [12:57:39] &lt;ModusPwnens&gt;  ok.</div>
<div class="line">[Wednesday 01 September 2010] [12:58:46] &lt;ModusPwnens&gt;  and as far as the no blocking, we want to use it so we can constantly send messages and then receive a message every once in a while, or vice-versa. But would it be better to just use multiple sockets and a publish-subscribe topology instead?</div>
<div class="line">[Wednesday 01 September 2010] [12:58:47] &lt;jond&gt; cremes: if it&#8217;s std::string why not use the copy method std::string::copy?</div>
<div class="line">[Wednesday 01 September 2010] [12:59:21] &lt;mikko&gt;    do you actually need a copy there?</div>
<div class="line">[Wednesday 01 September 2010] [12:59:58] &lt;ModusPwnens&gt;  well i need to store the message I am sending in that string, so I would need to copy it in, right?</div>
<div class="line">[Wednesday 01 September 2010] [13:01:10] &lt;cremes&gt;   ModusPwnens: <a class="reference external" href="http://pastebin.com/EEe7zujL">http://pastebin.com/EEe7zujL</a>       unlikely legal C, but you should get the idea</div>
<div class="line">[Wednesday 01 September 2010] [13:01:33] &lt;cremes&gt;   jond: i don&#8217;t know; i&#8217;m not a C++ guy but memcpy is pretty easy to figure out for me</div>
<div class="line">[Wednesday 01 September 2010] [13:02:01] &lt;cremes&gt;   mikko: you probably need the copy unless you can guarantee the buffer won&#8217;t go away until the message is <em>actually</em> sent</div>
<div class="line">[Wednesday 01 September 2010] [13:02:46] &lt;ModusPwnens&gt;  Hmm, that makes sense.</div>
<div class="line">[Wednesday 01 September 2010] [13:02:52] &lt;Steve-o&gt;  Does it really need to be a string?  I used buf.SerializeToArray() and buf.ParseFromArray().</div>
<div class="line">[Wednesday 01 September 2010] [13:03:56] &lt;cremes&gt;   ModusPwnens: by sending a topic, your SUB sockets can use it to filter out unwanted messages</div>
<div class="line">[Wednesday 01 September 2010] [13:04:27] &lt;ModusPwnens&gt;  Yes that makes sense. I can see the usefulness of that.</div>
<div class="line">[Wednesday 01 September 2010] [13:04:34] &lt;ModusPwnens&gt;  And steve-o, you make a good point</div>
<div class="line">[Wednesday 01 September 2010] [13:04:37] &lt;jond&gt; cremes: ok, there is a method on string, so you could do message.copy(cstr,message.size()), but the code id as you say mainly c</div>
<div class="line">[Wednesday 01 September 2010] [13:04:54] &lt;mikko&gt;    ModusPwnens: is that C++ or C ?</div>
<div class="line">[Wednesday 01 September 2010] [13:05:06] &lt;cremes&gt;   jond: i&#8217;m a ruby guy so take my C suggestions with a grain of salt  ;)</div>
<div class="line">[Wednesday 01 September 2010] [13:05:13] &lt;ModusPwnens&gt;  well, I am using visual studio C++, but I am actually using the C bindings</div>
<div class="line">[Wednesday 01 September 2010] [13:05:23] &lt;mikko&gt;    cremes: yeah, true</div>
<div class="line">[Wednesday 01 September 2010] [13:05:28] &lt;mikko&gt;    on the earlier</div>
<div class="line">[Wednesday 01 September 2010] [13:05:28] &lt;ModusPwnens&gt;  mostly because I was having trouble with the C++ ones</div>
<div class="line">[Wednesday 01 September 2010] [13:06:28] &lt;ModusPwnens&gt;  and steve-o, that would probably be a better/more efficient way of doing this, right?</div>
<div class="line">[Wednesday 01 September 2010] [13:06:43] &lt;ModusPwnens&gt;  then I wouldn&#8217;t have to do all the c-string manipulation</div>
<div class="line">[Wednesday 01 September 2010] [13:07:10] &lt;Steve-o&gt;  it should be the best as of v2.1, but I think Google has changed their api a few times since</div>
<div class="line">[Wednesday 01 September 2010] [13:07:58] &lt;Steve-o&gt;  my example of using protobufs here, <a class="reference external" href="http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/examples/pgmping.cc">http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/examples/pgmping.cc</a></div>
<div class="line">[Wednesday 01 September 2010] [13:09:06] &lt;Steve-o&gt;  noting ByteSize() is only valid after you have actually filled in values for protobufs, it has caught me a few times</div>
<div class="line">[Wednesday 01 September 2010] [13:09:24] &lt;ModusPwnens&gt;  you mean after you have encoded a message?</div>
<div class="line">[Wednesday 01 September 2010] [13:10:28] &lt;Steve-o&gt;  I needed the message size before serializing</div>
<div class="line">[Wednesday 01 September 2010] [13:11:28] &lt;ModusPwnens&gt;  hmm</div>
<div class="line">[Wednesday 01 September 2010] [13:11:32] &lt;ModusPwnens&gt;  for the serializetoarray method</div>
<div class="line">[Wednesday 01 September 2010] [13:12:10] &lt;ModusPwnens&gt;  you would need to get the size of the data you are serializing before you can serialize it..?</div>
<div class="line">[Wednesday 01 September 2010] [13:13:54] &lt;Steve-o&gt;  For my code I need to reserve space in a socket buffer for the serialized form, so I need the size.  Obviously usage case varies for everyone.</div>
<div class="line">[Wednesday 01 September 2010] [13:14:43] &lt;ModusPwnens&gt;  You mean the size is always known beforehand? What if you don&#8217;t know the size before, can you still use that?</div>
<div class="line">[Wednesday 01 September 2010] [13:15:14] &lt;Steve-o&gt;  probably if you know the protobuf object is always going to be smaller than your buffer</div>
<div class="line">[Wednesday 01 September 2010] [13:15:45] &lt;ModusPwnens&gt;  Hmm. okay.</div>
<div class="line">[Wednesday 01 September 2010] [13:15:57] &lt;Steve-o&gt;  it&#8217;s a bit safer to check the size before hand, much like vasprintf()</div>
<div class="line">[Wednesday 01 September 2010] [13:19:44] &lt;ModusPwnens&gt;  Yeah that makes sense.</div>
<div class="line">[Wednesday 01 September 2010] [13:19:49] &lt;ModusPwnens&gt;  Ok, thanks for your help guys!</div>
<div class="line">[Wednesday 01 September 2010] [13:20:17] &lt;ModusPwnens&gt;  I will probably be back again in a few days with something else..hopefully something less stupid.</div>
<div class="line">[Wednesday 01 September 2010] [13:55:34] &lt;pieterh&gt;  folks: if anyone wants to review <a class="reference external" href="http://www.zeromq.com">http://www.zeromq.com</a>, feedback would be welcome</div>
<div class="line">[Wednesday 01 September 2010] [13:55:45] &lt;pieterh&gt;  this is meant to be the welcome site for new 0MQ users</div>
<div class="line">[Wednesday 01 September 2010] [13:56:10] &lt;pieterh&gt;  next I&#8217;ll remove a lot of the fluff from the zeromq.org front page and menus</div>
<div class="line">[Wednesday 01 September 2010] [14:00:50] &lt;pieterh&gt;  my idea is to make the zeromq.org site an index of all projects</div>
<div class="line">[Wednesday 01 September 2010] [14:01:00] &lt;pieterh&gt;  kind of ranked by activity somehow</div>
<div class="line">[Wednesday 01 September 2010] [14:05:50] &lt;pieterh&gt;  no-one minds? :-)</div>
<div class="line">[Wednesday 01 September 2010] [14:12:16] &lt;Steve-o&gt;  inproc is still a new word</div>
<div class="line">[Wednesday 01 September 2010] [14:13:32] &lt;guido_g&gt;  the onhover bold is a little overdone</div>
<div class="line">[Wednesday 01 September 2010] [14:16:00] &lt;guido_g&gt;  on the page linked from 04READ should show the canonical doku first (the guide &amp; the manual)</div>
<div class="line">[Wednesday 01 September 2010] [14:16:56] &lt;jond&gt; steve-o: agree about inproc, not widely used AFAIK</div>
<div class="line">[Wednesday 01 September 2010] [15:44:03] &lt;mcxx&gt; I&#8217;m trying to build pyzmq, but I get this error: <a class="reference external" href="http://pastebin.ca/1930723">http://pastebin.ca/1930723</a></div>
<div class="line">[Wednesday 01 September 2010] [15:45:07] &lt;mcxx&gt; I got freshly cloned zeromq2 and pyzmq repos from github</div>
<div class="line">[Wednesday 01 September 2010] [20:03:27] &lt;ModusPwnens&gt;  Hi, I&#8217;m having an issue with the first byte of a message being corrupted when it is sent. Has anyone experienced this?</div>
<div class="line">[Wednesday 01 September 2010] [20:05:43] &lt;bgranger&gt; mcxx:  You need to grab the stable 2.0.7 releases of pyzmq and zeromq.</div>
<div class="line">[Wednesday 01 September 2010] [20:06:02] &lt;bgranger&gt; Trunk of pyzmq works with stable 2.0.8 of zeromq.</div>
<div class="line">[Wednesday 01 September 2010] [20:06:15] &lt;bgranger&gt; We have not started following the post 2.0.8 master of zeromq</div>
<div class="line">[Wednesday 01 September 2010] [20:06:44] &lt;ModusPwnens&gt;  clarification, it&#8217;s actually the first two bytes that get corrupted</div>
<div class="line">[Wednesday 01 September 2010] [22:40:34] &lt;lestrrat&gt; I assume this is the right place to talk about zeromq?</div>
<div class="line">[Wednesday 01 September 2010] [22:42:31] &lt;lestrrat&gt; I just wanted to make if zeromq&#8217;s recv() is supposed to bail out properly (or not) when it receives a signal while it&#8217;s waiting for a message?</div>
<div class="line">[Wednesday 01 September 2010] [22:42:49] &lt;lestrrat&gt; my perl binding seems to be stuck, and I&#8217;m trying to figure out if it&#8217;s my problem or not.</div>
<div class="line">[Wednesday 01 September 2010] [23:46:46] &lt;bgranger&gt; lestrrat:  I think I know what is going on.</div>
<div class="line">[Wednesday 01 September 2010] [23:46:58] &lt;bgranger&gt; Are you still around?</div>
<div class="line">[Wednesday 01 September 2010] [23:47:02] &lt;lestrrat&gt; yes!</div>
<div class="line">[Wednesday 01 September 2010] [23:47:13] &lt;bgranger&gt; Hey, we have the same issue in the Python bindings.</div>
<div class="line">[Wednesday 01 September 2010] [23:47:27] &lt;bgranger&gt; It perl is like Python, then it sets its own signal handlers.</div>
<div class="line">[Wednesday 01 September 2010] [23:47:33] &lt;lestrrat&gt; ah, so glad I&#8217;m not alone on this :)</div>
<div class="line">[Wednesday 01 September 2010] [23:47:34] &lt;lestrrat&gt; right</div>
<div class="line">[Wednesday 01 September 2010] [23:47:47] &lt;bgranger&gt; BUT, while a blocking recv is waiting, perl is completely out of control.</div>
<div class="line">[Wednesday 01 September 2010] [23:48:22] &lt;AndrewBC&gt; I wrapped mine in a try except in python, excepting a KeyboardInterrupt</div>
<div class="line">[Wednesday 01 September 2010] [23:48:25] &lt;AndrewBC&gt; worked fine</div>
<div class="line">[Wednesday 01 September 2010] [23:48:42] &lt;bgranger&gt; SO what happens is that Perl&#8217;s signal handler will receive the signal, but it won&#8217;t be handled until the recv returns.  To test if this is what is really going on, try to create a simple example , then send the signal and send an additional msg to the socket so that recv returns.</div>
<div class="line">[Wednesday 01 September 2010] [23:48:44] &lt;AndrewBC&gt; so you might have to manually catch ^C if that&#8217;s possible in perl</div>
<div class="line">[Wednesday 01 September 2010] [23:49:14] &lt;bgranger&gt; AndrewBC, it won&#8217;t work if there is not a msg recv&#8217;d</div>
<div class="line">[Wednesday 01 September 2010] [23:49:28] &lt;bgranger&gt; Or I should say, the KeyboardInt won&#8217;t be raised until recv returns.</div>
<div class="line">[Wednesday 01 September 2010] [23:49:37] &lt;lestrrat&gt; bgranger: ah right</div>
<div class="line">[Wednesday 01 September 2010] [23:49:37] &lt;AndrewBC&gt; oh, hm</div>
<div class="line">[Wednesday 01 September 2010] [23:49:38] &lt;bgranger&gt; You can&#8217;t really interupt it with SIGINT</div>
<div class="line">[Wednesday 01 September 2010] [23:50:22] &lt;lestrrat&gt; I can go and confirm, but if that&#8217;s the case, it&#8217;s really zeromq&#8217;s responsibility to return on a signal, no? (with errno = EINTER or whatever)</div>
<div class="line">[Wednesday 01 September 2010] [23:50:35] &lt;bgranger&gt; But the same is true when Python calls <em>any</em> external C/C++ code.</div>
<div class="line">[Wednesday 01 September 2010] [23:50:40] &lt;lestrrat&gt; right</div>
<div class="line">[Wednesday 01 September 2010] [23:50:55] &lt;bgranger&gt; No, because Python&#8217;s signal handler is still in place, it just doesn&#8217;t get to run.</div>
<div class="line">[Wednesday 01 September 2010] [23:51:20] &lt;lestrrat&gt; yeah, but we can propagate the signal as long as we get back control</div>
<div class="line">[Wednesday 01 September 2010] [23:51:58] &lt;bgranger&gt; But you can&#8217;t get back control</div>
<div class="line">[Wednesday 01 September 2010] [23:52:02] &lt;lestrrat&gt; hmm?</div>
<div class="line">[Wednesday 01 September 2010] [23:52:26] &lt;bgranger&gt; The signal handler is the one at the C level, not the one that you can control using the signal module</div>
<div class="line">[Wednesday 01 September 2010] [23:52:41] &lt;lestrrat&gt; yeah, but I&#8217;m writing the Perl&lt;-&gt;C binding, so I have control :)</div>
<div class="line">[Wednesday 01 September 2010] [23:53:01] &lt;bgranger&gt; To change the behavior you actually to have use signal.h and set jump/long jump logic.</div>
<div class="line">[Wednesday 01 September 2010] [23:53:07] &lt;bgranger&gt; But it can be done</div>
<div class="line">[Wednesday 01 September 2010] [23:54:00] &lt;bgranger&gt; It is just subtle logic and hard to get right in a cross platform manner.</div>
<div class="line">[Wednesday 01 September 2010] [23:54:15] &lt;bgranger&gt; I don&#8217;t think any of the language bindings are doing this yet, but eventually all should</div>
<div class="line">[Wednesday 01 September 2010] [23:54:46] &lt;lestrrat&gt; I dunno the python internals, but I don&#8217;t think we need a jump logic for perl</div>
<div class="line">[Wednesday 01 September 2010] [23:54:49] &lt;bgranger&gt; Meanwhile, we are just not using blocking recv when it needs to be interupted</div>
<div class="line">[Wednesday 01 September 2010] [23:55:32] &lt;bgranger&gt; If perl sets its own signal handlers at the C level, you likely will.</div>
<div class="line">[Wednesday 01 September 2010] [23:55:35] &lt;lestrrat&gt; perl&#8217;s signal handling doesn&#8217;t run on &#8220;real time&#8221;. it&#8217;s deferred until the next perl op. so as long as I&#8217;m in C land, I can tell the Perl interpreter that there was a signal, and properly emulate it.</div>
<div class="line">[Wednesday 01 September 2010] [23:56:33] &lt;bgranger&gt; That is how Python works as well and it why the default signal handler doesn&#8217;t actually interrupt &#8220;in real time:&#8221;</div>
<div class="line">[Wednesday 01 September 2010] [23:56:58] &lt;lestrrat&gt; then I don&#8217;t see why you need a jump...? what am I missing?</div>
<div class="line">[Wednesday 01 September 2010] [23:57:46] &lt;bgranger&gt; I don&#8217;t remember the details honestly.  I think the issue is that you have to be very careful about restoring Python&#8217;s regular signal handler and putting the intepreter back in the right place in the stack.</div>
<div class="line">[Wednesday 01 September 2010] [23:57:57] &lt;lestrrat&gt; hmm.</div>
<div class="line">[Wednesday 01 September 2010] [23:58:25] &lt;bgranger&gt; That is, if you want control to return to Perl/Python in a way that doesn&#8217;t simply kill the process.</div>
<div class="line">[Wednesday 01 September 2010] [23:58:38] &lt;lestrrat&gt; actually, I don&#8217;t really care either way &#8211; I don&#8217;t have to have zmq_recv to get back to the Perl handler &#8211; I just need it to get back to me once a signal is sent w/o killing the process</div>
<div class="line">[Wednesday 01 September 2010] [23:58:45] &lt;lestrrat&gt; otherwise servers hang.</div>
<div class="line">[Wednesday 01 September 2010] [23:59:01] &lt;bgranger&gt; yep</div>
<div class="line">[Wednesday 01 September 2010] [23:59:14] &lt;lestrrat&gt; glad to know I&#8217;m the only one. I can safely write an RFE :)</div>
<div class="line">[Thursday 02 September 2010] [00:43:40] &lt;sustrik&gt;   bgranger, lestrrat: i am still not sure about EINTR behaviour</div>
<div class="line">[Thursday 02 September 2010] [00:43:53] &lt;sustrik&gt;   would returning EINTR from blocking call help in any way?</div>
<div class="line">[Thursday 02 September 2010] [00:47:53] &lt;bgranger&gt;  In what situations?</div>
<div class="line">[Thursday 02 September 2010] [00:49:02] &lt;bgranger&gt;  Are you thinking of installing a signal handler that catches SIGINT and translates that into EINTR?</div>
<div class="line">[Thursday 02 September 2010] [00:49:33] &lt;bgranger&gt;  That would help us, but that signal handler would have to play nice with that of Python</div>
<div class="line">[Thursday 02 September 2010] [00:52:11] &lt;sustrik&gt;   bgragner: no, i meant the peculiar functionality of 0mq</div>
<div class="line">[Thursday 02 September 2010] [00:52:25] &lt;sustrik&gt;   that catches OS&#8217;s EINTR</div>
<div class="line">[Thursday 02 September 2010] [00:52:34] &lt;sustrik&gt;   and instead of returning it to the user</div>
<div class="line">[Thursday 02 September 2010] [00:52:45] &lt;sustrik&gt;   just restarts the blocking operation</div>
<div class="line">[Thursday 02 September 2010] [00:53:01] &lt;bgranger&gt;  I am not familiar with what zmq is doing right now</div>
<div class="line">[Thursday 02 September 2010] [00:53:07] &lt;sustrik&gt;   but afaiu that&#8217;s not the problem you are dealing with</div>
<div class="line">[Thursday 02 September 2010] [00:53:30] &lt;bgranger&gt;  When does the OS signal EINTR?</div>
<div class="line">[Thursday 02 September 2010] [00:53:47] &lt;bgranger&gt;  And how does zeromq currently handle it?</div>
<div class="line">[Thursday 02 September 2010] [00:54:00] &lt;sustrik&gt;   if a threads gets a signal while in blocking operation</div>
<div class="line">[Thursday 02 September 2010] [00:54:33] &lt;sustrik&gt;   0mq currently ignores it, i.e. restarts the blocking op</div>
<div class="line">[Thursday 02 September 2010] [00:56:29] &lt;bgranger&gt;  I guess what I don&#8217;t know if how all of this interplays with Python&#8217;s signal handling.</div>
<div class="line">[Thursday 02 September 2010] [00:56:35] &lt;sustrik&gt;   exactly</div>
<div class="line">[Thursday 02 September 2010] [00:56:43] &lt;bgranger&gt;  Python only receives signals in the main thread</div>
<div class="line">[Thursday 02 September 2010] [00:56:55] &lt;bgranger&gt;  Does zeromq install any signal handlers?</div>
<div class="line">[Thursday 02 September 2010] [00:56:57] &lt;sustrik&gt;   that&#8217;s the one that&#8217;s blocked in 0mq?</div>
<div class="line">[Thursday 02 September 2010] [00:57:05] &lt;sustrik&gt;   no, it does not</div>
<div class="line">[Thursday 02 September 2010] [00:57:10] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 02 September 2010] [00:57:21] &lt;bgranger&gt;  but when a socket call returns EINTR, it just continues</div>
<div class="line">[Thursday 02 September 2010] [00:57:28] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 02 September 2010] [00:57:34] &lt;sustrik&gt;   actaully, you can check what&#8217;s happening yourself</div>
<div class="line">[Thursday 02 September 2010] [00:57:37] &lt;bgranger&gt;  OK, then another ?</div>
<div class="line">[Thursday 02 September 2010] [00:57:41] &lt;bgranger&gt;  OK</div>
<div class="line">[Thursday 02 September 2010] [00:57:46] &lt;bgranger&gt;  How...</div>
<div class="line">[Thursday 02 September 2010] [00:57:46] &lt;sustrik&gt;   when waiting for a message</div>
<div class="line">[Thursday 02 September 2010] [00:57:59] &lt;sustrik&gt;   0mq is stuck in a read call</div>
<div class="line">[Thursday 02 September 2010] [00:58:06] &lt;bgranger&gt;  Correct</div>
<div class="line">[Thursday 02 September 2010] [00:58:09] &lt;sustrik&gt;   let me find the exact code...</div>
<div class="line">[Thursday 02 September 2010] [00:58:18] &lt;bgranger&gt;  OK great, that would be helpful.</div>
<div class="line">[Thursday 02 September 2010] [00:59:27] &lt;bgranger&gt;  Are the other occasions where EINTR is returned?</div>
<div class="line">[Thursday 02 September 2010] [01:00:06] &lt;sustrik&gt;   polling</div>
<div class="line">[Thursday 02 September 2010] [01:00:12] &lt;sustrik&gt;   are you on linux?</div>
<div class="line">[Thursday 02 September 2010] [01:00:16] &lt;lestrrat&gt;  sorry was away</div>
<div class="line">[Thursday 02 September 2010] [01:00:21] &lt;bgranger&gt;  linux and Mac</div>
<div class="line">[Thursday 02 September 2010] [01:00:22] &lt;sustrik&gt;   hi</div>
<div class="line">[Thursday 02 September 2010] [01:00:31] &lt;bgranger&gt;  Talking about signal handling more...</div>
<div class="line">[Thursday 02 September 2010] [01:00:37] &lt;sustrik&gt;   trunk or 2.0.8?</div>
<div class="line">[Thursday 02 September 2010] [01:00:55] &lt;bgranger&gt;  pyzmq doesn&#8217;t work with trunk yet, sso 2.0.8 or 2.0.7</div>
<div class="line">[Thursday 02 September 2010] [01:00:58] &lt;lestrrat&gt;  I&#8217;m using 2.0.8</div>
<div class="line">[Thursday 02 September 2010] [01:01:40] &lt;sustrik&gt;   check this: <a class="reference external" href="http://github.com/zeromq/zeromq2/blob/v2.0.8/src/signaler.cpp#L269">http://github.com/zeromq/zeromq2/blob/v2.0.8/src/signaler.cpp#L269</a></div>
<div class="line">[Thursday 02 September 2010] [01:01:53] &lt;bgranger&gt;  but if we can do signal -&gt; EINTR -&gt; Python bindings -&gt; raise KeyboardInterrupt that would be great</div>
<div class="line">[Thursday 02 September 2010] [01:02:04] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 02 September 2010] [01:02:14] &lt;sustrik&gt;   you see the loop, right?</div>
<div class="line">[Thursday 02 September 2010] [01:02:21] &lt;lestrrat&gt;  right</div>
<div class="line">[Thursday 02 September 2010] [01:02:28] &lt;bgranger&gt;  Yep</div>
<div class="line">[Thursday 02 September 2010] [01:02:33] &lt;sustrik&gt;   just put a printf there or something</div>
<div class="line">[Thursday 02 September 2010] [01:02:42] &lt;sustrik&gt;   and check whether it loops in case of SIGINT</div>
<div class="line">[Thursday 02 September 2010] [01:02:48] &lt;bgranger&gt;  OK I will do that</div>
<div class="line">[Thursday 02 September 2010] [01:02:56] &lt;bgranger&gt;  I will check on Linux and OS X</div>
<div class="line">[Thursday 02 September 2010] [01:02:57] &lt;sustrik&gt;   if so we can return EINTR instead of looping</div>
<div class="line">[Thursday 02 September 2010] [01:03:00] &lt;sustrik&gt;   great</div>
<div class="line">[Thursday 02 September 2010] [01:03:01] &lt;sustrik&gt;   thanks</div>
<div class="line">[Thursday 02 September 2010] [01:03:04] &lt;bgranger&gt;  Cool</div>
<div class="line">[Thursday 02 September 2010] [01:03:07] &lt;bgranger&gt;  Thanks!</div>
<div class="line">[Thursday 02 September 2010] [01:03:15] &lt;bgranger&gt;  Won&#8217;t get to it tonight though</div>
<div class="line">[Thursday 02 September 2010] [01:03:21] &lt;bgranger&gt;  Getting late here...</div>
<div class="line">[Thursday 02 September 2010] [01:03:39] &lt;sustrik&gt;   sure</div>
<div class="line">[Thursday 02 September 2010] [01:03:53] &lt;sustrik&gt;   lestrrat: you may try the same, if in hurry</div>
<div class="line">[Thursday 02 September 2010] [01:03:55] &lt;lestrrat&gt;  yeah, I&#8217;m on $day_job too, so I&#8217;m not going to be able to check it right away. Will see if I can sneak that in in the next couple of hours</div>
<div class="line">[Thursday 02 September 2010] [01:04:01] &lt;bgranger&gt;  If I want to try the change, I can just have the function return EINTR?</div>
<div class="line">[Thursday 02 September 2010] [01:04:11] &lt;lestrrat&gt;  yep, will do when pointy haired boss isn&#8217;t looking</div>
<div class="line">[Thursday 02 September 2010] [01:04:17] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 02 September 2010] [01:04:18] &lt;lestrrat&gt;  AFK for now</div>
<div class="line">[Thursday 02 September 2010] [01:04:28] &lt;bgranger&gt;  Will the return value of that function be returned to the caller</div>
<div class="line">[Thursday 02 September 2010] [01:04:33] &lt;sustrik&gt;   bgranger: probably</div>
<div class="line">[Thursday 02 September 2010] [01:04:46] &lt;sustrik&gt;   let me check</div>
<div class="line">[Thursday 02 September 2010] [01:04:52] &lt;bgranger&gt;  Well, it looks like it must return a bool though</div>
<div class="line">[Thursday 02 September 2010] [01:05:07] &lt;bgranger&gt;  May have to change more logic.</div>
<div class="line">[Thursday 02 September 2010] [01:05:16] &lt;sustrik&gt;   ah, ok</div>
<div class="line">[Thursday 02 September 2010] [01:05:24] &lt;sustrik&gt;   it&#8217;s not propagated</div>
<div class="line">[Thursday 02 September 2010] [01:05:30] &lt;sustrik&gt;   but i can fix that</div>
<div class="line">[Thursday 02 September 2010] [01:05:36] &lt;sustrik&gt;   the question is whether it would help</div>
<div class="line">[Thursday 02 September 2010] [01:05:38] &lt;bgranger&gt;  OK, let&#8217;s test first</div>
<div class="line">[Thursday 02 September 2010] [01:05:40] &lt;bgranger&gt;  right</div>
<div class="line">[Thursday 02 September 2010] [01:09:00] &lt;sustrik&gt;   lestrrat: are you in japan? i&#8217;ve notices some of your twitter notes</div>
<div class="line">[Thursday 02 September 2010] [01:09:12] &lt;sustrik&gt;   had no idea what they were about though :)</div>
<div class="line">[Thursday 02 September 2010] [01:10:29] &lt;guido_g&gt;   hi all</div>
<div class="line">[Thursday 02 September 2010] [01:10:37] &lt;guido_g&gt;   good morning sustrik</div>
<div class="line">[Thursday 02 September 2010] [01:10:44] &lt;sustrik&gt;   morning</div>
<div class="line">[Thursday 02 September 2010] [01:11:11] &lt;guido_g&gt;   did you read that the poll segfault in master is still there?</div>
<div class="line">[Thursday 02 September 2010] [01:11:38] &lt;sustrik&gt;   yep, seen you saying it yesterday</div>
<div class="line">[Thursday 02 September 2010] [01:11:42] &lt;sustrik&gt;   can i reproduce it?</div>
<div class="line">[Thursday 02 September 2010] [01:11:50] &lt;guido_g&gt;   i hope so</div>
<div class="line">[Thursday 02 September 2010] [01:11:58] &lt;sustrik&gt;   which test program?</div>
<div class="line">[Thursday 02 September 2010] [01:12:17] &lt;guido_g&gt;   code is at <a class="reference external" href="http://github.com/guidog/cpp/tree/master/zmqcpp/">http://github.com/guidog/cpp/tree/master/zmqcpp/</a></div>
<div class="line">[Thursday 02 September 2010] [01:12:28] &lt;guido_g&gt;   zmqcpp and sender</div>
<div class="line">[Thursday 02 September 2010] [01:12:42] &lt;guido_g&gt;   zmqcpp segfaults in poll</div>
<div class="line">[Thursday 02 September 2010] [01:13:01] &lt;sustrik&gt;   what order to start them in?</div>
<div class="line">[Thursday 02 September 2010] [01:13:01] &lt;guido_g&gt;   result run is <a class="reference external" href="http://gist.github.com/560863">http://gist.github.com/560863</a></div>
<div class="line">[Thursday 02 September 2010] [01:13:20] &lt;guido_g&gt;   i started zmqcpp first and then sender</div>
<div class="line">[Thursday 02 September 2010] [01:13:26] &lt;guido_g&gt;   sender is a one shot thing</div>
<div class="line">[Thursday 02 September 2010] [01:13:30] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [01:14:18] &lt;guido_g&gt;   going to write a mq test program for that</div>
<div class="line">[Thursday 02 September 2010] [01:14:24] &lt;sustrik&gt;   ack</div>
<div class="line">[Thursday 02 September 2010] [01:14:44] &lt;guido_g&gt;   seems to be a nasty corner that needs some regression</div>
<div class="line">[Thursday 02 September 2010] [01:22:52] &lt;sustrik&gt;   guido_g:</div>
<div class="line">[Thursday 02 September 2010] [01:22:54] &lt;sustrik&gt;   In file included from zmqcpp.cpp:9:</div>
<div class="line">[Thursday 02 September 2010] [01:22:54] &lt;sustrik&gt;   worker.hpp:14:21: error: pqxx/pqxx: No such file or directory</div>
<div class="line">[Thursday 02 September 2010] [01:22:56] &lt;sustrik&gt;   ...</div>
<div class="line">[Thursday 02 September 2010] [01:23:05] &lt;guido_g&gt;   oh shit</div>
<div class="line">[Thursday 02 September 2010] [01:23:07] &lt;guido_g&gt;   sorry</div>
<div class="line">[Thursday 02 September 2010] [01:23:14] &lt;sustrik&gt;   I&#8217;ll rather wait for your test program</div>
<div class="line">[Thursday 02 September 2010] [01:23:21] &lt;guido_g&gt;   ack</div>
<div class="line">[Thursday 02 September 2010] [01:23:29] &lt;guido_g&gt;   never mind then</div>
<div class="line">[Thursday 02 September 2010] [01:23:45] &lt;guido_g&gt;   &#8220;i&#8217;ll be back!&#8221; :)</div>
<div class="line">[Thursday 02 September 2010] [01:24:07] &lt;sustrik&gt;   ;)</div>
<div class="line">[Thursday 02 September 2010] [01:24:45] &lt;guido_g&gt;   so, day job is waiting, cu</div>
<div class="line">[Thursday 02 September 2010] [01:31:01] &lt;lestrrat&gt;  sustrik: yes I&#8217;m in Japan :)</div>
<div class="line">[Thursday 02 September 2010] [01:32:01] &lt;sustrik&gt;   lot of japanese tweets about 0mq lately</div>
<div class="line">[Thursday 02 September 2010] [01:32:04] &lt;sustrik&gt;   it&#8217;s fun</div>
<div class="line">[Thursday 02 September 2010] [01:33:44] &lt;lestrrat&gt;  let&#8217;s see if I can work on that signal thing...</div>
<div class="line">[Thursday 02 September 2010] [01:34:11] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [01:40:09] &lt;lestrrat&gt;  alright, so I&#8217;m a autoconf noob. how do I make this go away?:</div>
<div class="line">[Thursday 02 September 2010] [01:40:16] Notice  -lestrrat to #zeromq- ./configure: line 18331: syntax error near unexpected token <a href="#id5"><span class="problematic" id="id6">`</span></a>GLIB,&#8217;</div>
<div class="line">[Thursday 02 September 2010] [01:40:17] Notice  -lestrrat to #zeromq- ./configure: line 18331: `        PKG_CHECK_MODULES(GLIB, glib-2.0 gthread-2.0)&#8217;</div>
<div class="line">[Thursday 02 September 2010] [01:41:27] &lt;sustrik&gt;   you need newer version of autoconf</div>
<div class="line">[Thursday 02 September 2010] [01:41:34] &lt;sustrik&gt;   are you on OSX?</div>
<div class="line">[Thursday 02 September 2010] [01:42:40] &lt;sustrik&gt;   this one would deserve going into FAQ btw</div>
<div class="line">[Thursday 02 September 2010] [01:43:01] &lt;lestrrat&gt;  yeah, I&#8217;m on OSX</div>
<div class="line">[Thursday 02 September 2010] [01:43:18] &lt;sustrik&gt;   it&#8217;s a known issue</div>
<div class="line">[Thursday 02 September 2010] [01:43:22] &lt;lestrrat&gt;  grrr</div>
<div class="line">[Thursday 02 September 2010] [01:43:30]      * lestrrat looks for autoconf in homebrew</div>
<div class="line">[Thursday 02 September 2010] [01:43:34] &lt;sustrik&gt;   osx has old version of autoconf installed by default</div>
<div class="line">[Thursday 02 September 2010] [01:44:26] &lt;lestrrat&gt;  grr, and it&#8217;s not there in homebrew</div>
<div class="line">[Thursday 02 September 2010] [01:47:35] &lt;lestrrat&gt;   man, this is going to take some time :)</div>
<div class="line">[Thursday 02 September 2010] [01:47:37] &lt;sustrik&gt;   lestrrat: sorry, it&#8217;s pkg-config</div>
<div class="line">[Thursday 02 September 2010] [01:47:39] &lt;sustrik&gt;   <a class="reference external" href="http://www.zeromq.org/docs:procedures#toc2">http://www.zeromq.org/docs:procedures#toc2</a></div>
<div class="line">[Thursday 02 September 2010] [01:47:55]      * sustrik is autotools noob as well</div>
<div class="line">[Thursday 02 September 2010] [01:47:58] &lt;lestrrat&gt;  oh cool</div>
<div class="line">[Thursday 02 September 2010] [01:48:52] &lt;lestrrat&gt;  hmm, I seem to have the latest pkg-config</div>
<div class="line">[Thursday 02 September 2010] [01:49:25] &lt;sustrik&gt;   are you building witg &#8211;with-pgm btw?</div>
<div class="line">[Thursday 02 September 2010] [01:50:15] &lt;lestrrat&gt;  nay, just the default with a custom &#8211;prefix</div>
<div class="line">[Thursday 02 September 2010] [01:50:19] &lt;sustrik&gt;   hm</div>
<div class="line">[Thursday 02 September 2010] [01:50:28] &lt;sustrik&gt;   well, you&#8217;ll have to ask on the mailing list</div>
<div class="line">[Thursday 02 September 2010] [01:50:38] &lt;sustrik&gt;   as i say, i&#8217;m an autotools idiot</div>
<div class="line">[Thursday 02 September 2010] [01:53:06] &lt;lestrrat&gt;  trying out autoconf anyways</div>
<div class="line">[Thursday 02 September 2010] [02:09:07] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07maint * rd5b6f68 10/ AUTHORS : Mikael Kjaer added to AUTHORS - <a class="reference external" href="http://bit.ly/aI6jV2">http://bit.ly/aI6jV2</a></div>
<div class="line">[Thursday 02 September 2010] [02:09:08] &lt;CIA-20&gt;    zeromq2: 03Bernd Melchers 07maint * r8ec0743 10/ (AUTHORS src/signaler.cpp): Fix for signaler_t on HP-UX and AIX platforms - <a class="reference external" href="http://bit.ly/9XM0R0">http://bit.ly/9XM0R0</a></div>
<div class="line">[Thursday 02 September 2010] [02:09:12] &lt;CIA-20&gt;    zeromq2: 03Jon Dyte 07maint * r14853c2 10/ (src/prefix_tree.cpp src/prefix_tree.hpp):</div>
<div class="line">[Thursday 02 September 2010] [02:09:12] &lt;CIA-20&gt;    zeromq2: Prior to this patch prefix_tree asserts.</div>
<div class="line">[Thursday 02 September 2010] [02:09:12] &lt;CIA-20&gt;    zeromq2: This is because as it adds the 255th element at a node it attempts to calculate</div>
<div class="line">[Thursday 02 September 2010] [02:09:12] &lt;CIA-20&gt;    zeromq2: the count member var which is an unsigned char via count = (255 -0) + 1; and</div>
<div class="line">[Thursday 02 September 2010] [02:09:12] &lt;CIA-20&gt;    zeromq2: pass the result to realloc. Unfortunately the result is zero and realloc returns</div>
<div class="line">[Thursday 02 September 2010] [02:09:12] &lt;CIA-20&gt;    zeromq2: null; the prefix_tree asserts. I have fixed it by making the count an unsigned</div>
<div class="line">[Thursday 02 September 2010] [02:09:13] &lt;CIA-20&gt;    zeromq2: short. - <a class="reference external" href="http://bit.ly/9eKDIf">http://bit.ly/9eKDIf</a></div>
<div class="line">[Thursday 02 September 2010] [02:09:35] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * rd5b6f68 10/ AUTHORS : Mikael Kjaer added to AUTHORS - <a class="reference external" href="http://bit.ly/aI6jV2">http://bit.ly/aI6jV2</a></div>
<div class="line">[Thursday 02 September 2010] [02:09:36] &lt;CIA-20&gt;    zeromq2: 03Bernd Melchers 07master * r8ec0743 10/ (AUTHORS src/signaler.cpp): Fix for signaler_t on HP-UX and AIX platforms - <a class="reference external" href="http://bit.ly/9XM0R0">http://bit.ly/9XM0R0</a></div>
<div class="line">[Thursday 02 September 2010] [02:09:39] &lt;CIA-20&gt;    zeromq2: 03Jon Dyte 07master * r14853c2 10/ (src/prefix_tree.cpp src/prefix_tree.hpp):</div>
<div class="line">[Thursday 02 September 2010] [02:09:39] &lt;CIA-20&gt;    zeromq2: Prior to this patch prefix_tree asserts.</div>
<div class="line">[Thursday 02 September 2010] [02:09:39] &lt;CIA-20&gt;    zeromq2: This is because as it adds the 255th element at a node it attempts to calculate</div>
<div class="line">[Thursday 02 September 2010] [02:09:39] &lt;CIA-20&gt;    zeromq2: the count member var which is an unsigned char via count = (255 -0) + 1; and</div>
<div class="line">[Thursday 02 September 2010] [02:09:39] &lt;CIA-20&gt;    zeromq2: pass the result to realloc. Unfortunately the result is zero and realloc returns</div>
<div class="line">[Thursday 02 September 2010] [02:09:40] &lt;CIA-20&gt;    zeromq2: null; the prefix_tree asserts. I have fixed it by making the count an unsigned</div>
<div class="line">[Thursday 02 September 2010] [02:09:40] &lt;CIA-20&gt;    zeromq2: short. - <a class="reference external" href="http://bit.ly/9eKDIf">http://bit.ly/9eKDIf</a></div>
<div class="line">[Thursday 02 September 2010] [02:10:03] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * r0a1f7e3 10/ (AUTHORS src/signaler.cpp src/trie.cpp src/trie.hpp): (log message trimmed)</div>
<div class="line">[Thursday 02 September 2010] [02:10:03] &lt;CIA-20&gt;    zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Thursday 02 September 2010] [02:10:03] &lt;CIA-20&gt;    zeromq2: * maint:</div>
<div class="line">[Thursday 02 September 2010] [02:10:03] &lt;CIA-20&gt;    zeromq2:  Prior to this patch prefix_tree asserts.</div>
<div class="line">[Thursday 02 September 2010] [02:10:03] &lt;CIA-20&gt;    zeromq2:  Fix for signaler_t on HP-UX and AIX platforms</div>
<div class="line">[Thursday 02 September 2010] [02:10:04] &lt;CIA-20&gt;    zeromq2:  Mikael Kjaer added to AUTHORS</div>
<div class="line">[Thursday 02 September 2010] [02:10:04] &lt;CIA-20&gt;    zeromq2: Conflicts:</div>
<div class="line">[Thursday 02 September 2010] [02:35:56] &lt;lestrrat&gt;  hmm, zeromq HEAD against my perl binding doesn&#8217;t work &#8211; (seeing some tests block on odd places)</div>
<div class="line">[Thursday 02 September 2010] [02:36:02] &lt;lestrrat&gt;  could be something on my part, of course.</div>
<div class="line">[Thursday 02 September 2010] [02:36:05] &lt;lestrrat&gt;  investigating...</div>
<div class="line">[Thursday 02 September 2010] [02:52:46] &lt;lestrrat&gt;  hmm, switching back to 2.0.8 makes the problem go away. I see all my destructors running, so I&#8217;m willing to be there&#8217;s some sort of background thread or something that&#8217;s kept alive in zeromq</div>
<div class="line">[Thursday 02 September 2010] [02:54:03] &lt;guido_g&gt;   re</div>
<div class="line">[Thursday 02 September 2010] [02:58:55] &lt;sustrik&gt;   lestrrat: HEAD is a dev version, testing with 2.0.8 is ok</div>
<div class="line">[Thursday 02 September 2010] [02:59:03] &lt;lestrrat&gt;  k</div>
<div class="line">[Thursday 02 September 2010] [02:59:12] &lt;sustrik&gt;   what about the SIGINT thing?</div>
<div class="line">[Thursday 02 September 2010] [02:59:49] &lt;lestrrat&gt;  trying now</div>
<div class="line">[Thursday 02 September 2010] [03:02:10] &lt;lestrrat&gt;  so yeah, looks like it&#8217;s stuck in that loop</div>
<div class="line">[Thursday 02 September 2010] [03:02:29] &lt;lestrrat&gt;  tweaking to see if I can cleanly exit there...</div>
<div class="line">[Thursday 02 September 2010] [03:11:16] &lt;sustrik&gt;   lestrrat: i&#8217;m going to be away now for a while, but leave me a message here about whether returning EINTR from 0mq would help you</div>
<div class="line">[Thursday 02 September 2010] [03:11:37] &lt;lestrrat&gt;  yep, thanks</div>
<div class="line">[Thursday 02 September 2010] [03:23:31] &lt;lestrrat&gt;  sustrik: <a class="reference external" href="http://gist.github.com/562000">http://gist.github.com/562000</a></div>
<div class="line">[Thursday 02 September 2010] [03:23:34] &lt;lestrrat&gt;  this works for me!</div>
<div class="line">[Thursday 02 September 2010] [04:45:31] &lt;sustrik&gt;   lestrrat: great</div>
<div class="line">[Thursday 02 September 2010] [04:45:51] &lt;sustrik&gt;   i&#8217;ll fix it in a bit different way (actually returning EINTR)</div>
<div class="line">[Thursday 02 September 2010] [04:46:04] &lt;sustrik&gt;   but it&#8217;s good news to know it solves the Ctrl+C problem</div>
<div class="line">[Thursday 02 September 2010] [04:46:40] &lt;sustrik&gt;   we&#8217;ll see whether it helps with python as well</div>
<div class="line">[Thursday 02 September 2010] [05:52:32] &lt;mato&gt;  sustrik: are you there?</div>
<div class="line">[Thursday 02 September 2010] [06:00:55] &lt;sssss&gt; test</div>
<div class="line">[Thursday 02 September 2010] [06:06:57] &lt;sustrik&gt;   mato: re</div>
<div class="line">[Thursday 02 September 2010] [06:14:51] &lt;mato&gt;  sustrik: could you switch on all the test servers + switch please?</div>
<div class="line">[Thursday 02 September 2010] [06:15:15] &lt;mato&gt;  sustrik: actually, just one of the 8-core boxes is all i need right now</div>
<div class="line">[Thursday 02 September 2010] [06:15:32] &lt;mato&gt;  sustrik: and the two white ones</div>
<div class="line">[Thursday 02 September 2010] [06:15:51] &lt;mato&gt;  sustrik: so pick the quieter of janos or csaba :) i don&#8217;t care...</div>
<div class="line">[Thursday 02 September 2010] [06:16:23] &lt;sustrik&gt;   oh my</div>
<div class="line">[Thursday 02 September 2010] [06:16:24] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [06:16:41]      * sustrik is inserting earplugs</div>
<div class="line">[Thursday 02 September 2010] [06:16:46] &lt;mato&gt;  :)</div>
<div class="line">[Thursday 02 September 2010] [06:16:59] &lt;mato&gt;  loud music also works :)</div>
<div class="line">[Thursday 02 September 2010] [06:18:13] &lt;sustrik&gt;   started</div>
<div class="line">[Thursday 02 September 2010] [06:18:30] &lt;mato&gt;  damn</div>
<div class="line">[Thursday 02 September 2010] [06:18:31] &lt;sustrik&gt;   now i realise there&#8217;s just one of those big boxes here</div>
<div class="line">[Thursday 02 September 2010] [06:18:38] &lt;sustrik&gt;   where&#8217;s the other one?</div>
<div class="line">[Thursday 02 September 2010] [06:18:39] &lt;pieterh&gt;   hey, the lights just dimmed here...!</div>
<div class="line">[Thursday 02 September 2010] [06:18:50] &lt;sustrik&gt;   still at malosek&#8217;s place?</div>
<div class="line">[Thursday 02 September 2010] [06:18:52] &lt;mato&gt;  sustrik: just one? i dunno? does malo still have the other?</div>
<div class="line">[Thursday 02 September 2010] [06:19:02] &lt;mato&gt;  sustrik: i can&#8217;t connect to your IP at all :(</div>
<div class="line">[Thursday 02 September 2010] [06:19:22] &lt;mato&gt;  hmm</div>
<div class="line">[Thursday 02 September 2010] [06:19:29] &lt;sustrik&gt;   i see the world outside</div>
<div class="line">[Thursday 02 September 2010] [06:19:55] &lt;mato&gt;  i have a suspicion your chello connection is funny</div>
<div class="line">[Thursday 02 September 2010] [06:20:08] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 02 September 2010] [06:20:22] &lt;mato&gt;  well, first of all, your ip is on some weird subnet</div>
<div class="line">[Thursday 02 September 2010] [06:20:42] &lt;mato&gt;  which i&#8217;ve never seen</div>
<div class="line">[Thursday 02 September 2010] [06:20:49] &lt;mato&gt;  2nd, i can&#8217;t ping or connect to it :(</div>
<div class="line">[Thursday 02 September 2010] [06:21:11] &lt;sustrik&gt;   :(</div>
<div class="line">[Thursday 02 September 2010] [06:21:31] &lt;sustrik&gt;   you can take the boxes</div>
<div class="line">[Thursday 02 September 2010] [06:44:06] &lt;guido_g&gt;   openvpn is really nice for this kind of things</div>
<div class="line">[Thursday 02 September 2010] [06:45:44] &lt;sustrik&gt;   it works now (not sure why)</div>
<div class="line">[Thursday 02 September 2010] [07:26:13] &lt;mato&gt;  wow</div>
<div class="line">[Thursday 02 September 2010] [07:26:19] &lt;mato&gt;  sustrik: quick question...</div>
<div class="line">[Thursday 02 September 2010] [07:26:40] &lt;mato&gt;  sustrik: zmq_free_fn() is called in the context of the <em>application</em> or <em>i/o</em> thread?</div>
<div class="line">[Thursday 02 September 2010] [07:27:24] &lt;sustrik&gt;   i/o</div>
<div class="line">[Thursday 02 September 2010] [07:27:28] &lt;mato&gt;  riiiiiight</div>
<div class="line">[Thursday 02 September 2010] [07:27:33] &lt;mato&gt;  that explains a lot</div>
<div class="line">[Thursday 02 September 2010] [07:27:48] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 02 September 2010] [07:28:05] &lt;mato&gt;  i&#8217;m having issues with the python GIL</div>
<div class="line">[Thursday 02 September 2010] [07:28:18] &lt;mato&gt;  at least i think that&#8217;s what happening</div>
<div class="line">[Thursday 02 September 2010] [07:28:24] &lt;sustrik&gt;   a-ha, i see</div>
<div class="line">[Thursday 02 September 2010] [07:28:31] &lt;mato&gt;  it explains all the mysterious hanging close() with 2.0.x</div>
<div class="line">[Thursday 02 September 2010] [07:28:38] &lt;sustrik&gt;   python zero-copy functionality</div>
<div class="line">[Thursday 02 September 2010] [07:28:43] &lt;mato&gt;  ja</div>
<div class="line">[Thursday 02 September 2010] [07:28:59] &lt;mato&gt;  anyway, i&#8217;m going to lunch, we can discuss when i get back...</div>
<div class="line">[Thursday 02 September 2010] [07:29:03] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [07:47:22] &lt;sustrik&gt;   thanks</div>
<div class="line">[Thursday 02 September 2010] [07:47:37] &lt;sustrik&gt;   have you thought of a pub to meet the other guys in?</div>
<div class="line">[Thursday 02 September 2010] [07:47:50] &lt;sustrik&gt;   it&#8217;s only 3 people so far</div>
<div class="line">[Thursday 02 September 2010] [07:47:58] &lt;sustrik&gt;   so no need for complex arrangements</div>
<div class="line">[Thursday 02 September 2010] [07:48:18] &lt;sustrik&gt;   say it&#8217;ll be 5-7 ultimately</div>
<div class="line">[Thursday 02 September 2010] [07:48:49] &lt;sustrik&gt;   oops :)</div>
<div class="line">[Thursday 02 September 2010] [07:48:57] &lt;sustrik&gt;   that was intended for another window</div>
<div class="line">[Thursday 02 September 2010] [07:49:03] &lt;sustrik&gt;   the london meetup stuff</div>
<div class="line">[Thursday 02 September 2010] [08:16:57] &lt;mikko&gt; sustrik: theodore bullfrog is a decent place</div>
<div class="line">[Thursday 02 September 2010] [08:17:30] &lt;mikko&gt; <a class="reference external" href="http://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=theodore+bullfrog&amp;sll=51.516293,-0.129493&amp;sspn=0.007317,0.022724&amp;ie=UTF8&amp;hq=theodore+bullfrog&amp;hnear=&amp;ll=51.508843,-0.123961&amp;spn=0.003659,0.011362&amp;z=17&amp;iwloc=A">http://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=theodore+bullfrog&amp;sll=51.516293,-0.129493&amp;sspn=0.007317,0.022724&amp;ie=UTF8&amp;hq=theodore+bullfrog&amp;hnear=&amp;ll=51.508843,-0.123961&amp;spn=0.003659,0.011362&amp;z=17&amp;iwloc=A</a></div>
<div class="line">[Thursday 02 September 2010] [08:18:58] &lt;sustrik&gt;   looks central enough</div>
<div class="line">[Thursday 02 September 2010] [08:20:46] &lt;sustrik&gt;   is that restaurant or a pub?</div>
<div class="line">[Thursday 02 September 2010] [08:24:12] &lt;sustrik&gt;   mikko: hullo!</div>
<div class="line">[Thursday 02 September 2010] [08:24:53] &lt;mikko&gt; pub</div>
<div class="line">[Thursday 02 September 2010] [08:24:57] &lt;mikko&gt; but they serve food as well</div>
<div class="line">[Thursday 02 September 2010] [08:25:27] &lt;sustrik&gt;   ok, why not then</div>
<div class="line">[Thursday 02 September 2010] [08:26:02] &lt;mikko&gt; <a class="reference external" href="http://www.theodore-bullfrog.co.uk/">http://www.theodore-bullfrog.co.uk/</a></div>
<div class="line">[Thursday 02 September 2010] [08:26:31] &lt;sustrik&gt;   nice</div>
<div class="line">[Thursday 02 September 2010] [08:36:17] &lt;mato&gt;  sustrik: ok, so this GIL thing</div>
<div class="line">[Thursday 02 September 2010] [08:36:24] &lt;mato&gt;  sustrik: it&#8217;s an interesting problem</div>
<div class="line">[Thursday 02 September 2010] [08:37:13] &lt;sustrik&gt;   yes?</div>
<div class="line">[Thursday 02 September 2010] [08:37:24] &lt;mato&gt;  what i see is that in my python application zmq_close() is getting called, due to Python gc kicking in</div>
<div class="line">[Thursday 02 September 2010] [08:37:57] &lt;mato&gt;  however, <em>at the same time</em>, zmq_msg_close() on a method shared with Python is called in the i/o thread</div>
<div class="line">[Thursday 02 September 2010] [08:38:35] &lt;mato&gt;  now, zmq_close() calls process_commands() which is waiting for a signal from the i/o thread</div>
<div class="line">[Thursday 02 September 2010] [08:39:00] &lt;mato&gt;  but that signal never arrives, because the free_fn() called by the zmq_msg_close() in the i/o thread is trying to acquire the Python GIL</div>
<div class="line">[Thursday 02 September 2010] [08:39:05] &lt;mato&gt;  -&gt; <em>deadlock</em></div>
<div class="line">[Thursday 02 September 2010] [08:39:47] &lt;mato&gt;  you follow me?</div>
<div class="line">[Thursday 02 September 2010] [08:40:11] &lt;mato&gt;  anyway, i can work around it now by not closing yet more sockets :)</div>
<div class="line">[Thursday 02 September 2010] [08:40:17] &lt;mato&gt;  but it&#8217;s an interesting case</div>
<div class="line">[Thursday 02 September 2010] [08:40:35] &lt;mato&gt;  i will have to make a test case and write it up on the mailing list so that other people can participate</div>
<div class="line">[Thursday 02 September 2010] [08:40:44] &lt;mato&gt;  it&#8217;s not clear what the solution is</div>
<div class="line">[Thursday 02 September 2010] [08:40:48] &lt;sustrik&gt;   i have to draw it down :)</div>
<div class="line">[Thursday 02 September 2010] [08:41:02] &lt;sustrik&gt;   mato: yes, please</div>
<div class="line">[Thursday 02 September 2010] [08:41:06] &lt;sustrik&gt;   so that it&#8217;s not lost</div>
<div class="line">[Thursday 02 September 2010] [08:41:09] &lt;mato&gt;  definitely</div>
<div class="line">[Thursday 02 September 2010] [08:41:18] &lt;mato&gt;  it needs to be solved, and i suspect the same problem can occur in 2.1</div>
<div class="line">[Thursday 02 September 2010] [08:41:34] &lt;mato&gt;  however, it&#8217;s possible the solution needs to be done on the pyzmq side</div>
<div class="line">[Thursday 02 September 2010] [08:43:16] &lt;lestrrat&gt;  sustrik: wrt EINTR thing, what version should I be expecting it to be implemented? just want to know, cause I&#8217;d like to wait my first release of mongrel2 handler until that&#8217;s fixed.</div>
<div class="line">[Thursday 02 September 2010] [08:43:35] &lt;lestrrat&gt;  don&#8217;t want to tell my users to send a SIGKILL to stop their handlers :)</div>
<div class="line">[Thursday 02 September 2010] [08:43:53] &lt;lestrrat&gt;  (not in a hurry, just want to get an idea)</div>
<div class="line">[Thursday 02 September 2010] [08:44:02] &lt;sustrik&gt;   lestrrat: the problem is that it isn&#8217;t backward compatible</div>
<div class="line">[Thursday 02 September 2010] [08:44:07] &lt;sustrik&gt;   :|</div>
<div class="line">[Thursday 02 September 2010] [08:44:08] &lt;lestrrat&gt;  ah</div>
<div class="line">[Thursday 02 September 2010] [08:44:12] &lt;mato&gt;  EINTR <em>again</em> ?</div>
<div class="line">[Thursday 02 September 2010] [08:44:12] &lt;lestrrat&gt;  yeah, true</div>
<div class="line">[Thursday 02 September 2010] [08:44:15] &lt;sustrik&gt;   yes</div>
<div class="line">[Thursday 02 September 2010] [08:44:34] &lt;sustrik&gt;   it turns out that Ctrl+C problem in bindings</div>
<div class="line">[Thursday 02 September 2010] [08:44:41] &lt;sustrik&gt;   can be solved by returning EINTR</div>
<div class="line">[Thursday 02 September 2010] [08:44:50] &lt;mato&gt;  sustrik: have you verified this?</div>
<div class="line">[Thursday 02 September 2010] [08:45:02] &lt;sustrik&gt;   lestrrat did with perl binding</div>
<div class="line">[Thursday 02 September 2010] [08:45:15] &lt;mato&gt;  hmm, i think i know why it &#8220;solves&#8221; the problem</div>
<div class="line">[Thursday 02 September 2010] [08:45:21] &lt;mato&gt;  or i can guess...</div>
<div class="line">[Thursday 02 September 2010] [08:45:28] &lt;sustrik&gt;   i&#8217;m still waiting for brian to verify it with python</div>
<div class="line">[Thursday 02 September 2010] [08:45:29] &lt;lestrrat&gt;  I&#8217;m willing to accept I&#8217;m a bit off :)</div>
<div class="line">[Thursday 02 September 2010] [08:45:48] &lt;sustrik&gt;   mato: go on</div>
<div class="line">[Thursday 02 September 2010] [08:46:01] &lt;mato&gt;  i reckon what happens is returning EINTR means &#8220;the language runtime&#8221; wakes up</div>
<div class="line">[Thursday 02 September 2010] [08:46:18] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 02 September 2010] [08:46:35] &lt;mato&gt;  depending on said language runtime&#8217;s signal handling (out of our control, obviously), the runtime waking up <em>may</em> mean that it processes pending signals</div>
<div class="line">[Thursday 02 September 2010] [08:46:50] &lt;mato&gt;  hence the &#8220;solution&#8221;</div>
<div class="line">[Thursday 02 September 2010] [08:47:06] &lt;sustrik&gt;   well, it least the runtime has a chance to process the signal</div>
<div class="line">[Thursday 02 September 2010] [08:47:16] &lt;mato&gt;  hmm</div>
<div class="line">[Thursday 02 September 2010] [08:47:20] &lt;sustrik&gt;   right now it&#8217;s completely stuck</div>
<div class="line">[Thursday 02 September 2010] [08:47:23] &lt;mato&gt;  yeah</div>
<div class="line">[Thursday 02 September 2010] [08:47:43] &lt;mato&gt;  of course the runtime might be doing something entirely different</div>
<div class="line">[Thursday 02 September 2010] [08:47:50] &lt;mato&gt;  so it&#8217;s not a guaranteed solution</div>
<div class="line">[Thursday 02 September 2010] [08:47:53] &lt;sustrik&gt;   not our fault</div>
<div class="line">[Thursday 02 September 2010] [08:47:56] &lt;mato&gt;  just one that might help some people</div>
<div class="line">[Thursday 02 September 2010] [08:48:16] &lt;mato&gt;  hmm, except...</div>
<div class="line">[Thursday 02 September 2010] [08:48:19] &lt;sustrik&gt;   obviously we cannot give guarantees for broken runtimes</div>
<div class="line">[Thursday 02 September 2010] [08:48:31] &lt;mato&gt;  yes, but what is your proposed implementation?</div>
<div class="line">[Thursday 02 September 2010] [08:48:44] &lt;sustrik&gt;   forward EINTR to the user</div>
<div class="line">[Thursday 02 September 2010] [08:48:48] &lt;mato&gt;  yes, except...</div>
<div class="line">[Thursday 02 September 2010] [08:49:08] &lt;mato&gt;  the relationship between EINTR from a syscall and SIGINT is afaik nondeterministic</div>
<div class="line">[Thursday 02 September 2010] [08:49:17] &lt;mato&gt;  in other words, you might get an EINTR back from a blocking call</div>
<div class="line">[Thursday 02 September 2010] [08:49:18] &lt;mato&gt;  or not</div>
<div class="line">[Thursday 02 September 2010] [08:49:26] &lt;mato&gt;  you see where this is heading?</div>
<div class="line">[Thursday 02 September 2010] [08:49:31] &lt;lestrrat&gt;  should I explain how perl&#8217;s signal handling works? if you guys know what&#8217;s up, I&#8217;m not an entirely an expert either so I&#8217;ll let you guys debate the actual implementation ;)</div>
<div class="line">[Thursday 02 September 2010] [08:49:43] &lt;mato&gt;  lestrrat: sure, go for it?</div>
<div class="line">[Thursday 02 September 2010] [08:49:45] &lt;mato&gt;  .</div>
<div class="line">[Thursday 02 September 2010] [08:50:56] &lt;lestrrat&gt;  well, the important part wrt to all of this is that, when we go down to the C world, Perl&#8217;s signal handling is effectively silenced.</div>
<div class="line">[Thursday 02 September 2010] [08:51:12] &lt;lestrrat&gt;  (C world, as in binding)</div>
<div class="line">[Thursday 02 September 2010] [08:51:42] &lt;lestrrat&gt;  when the binding method is called, things are completely left up to the C/C++ routine, so you can do whatever with the signals</div>
<div class="line">[Thursday 02 September 2010] [08:51:59] &lt;lestrrat&gt;  and when zmq&#8217;s recv() is being called, perl has absolutely no say there</div>
<div class="line">[Thursday 02 September 2010] [08:52:33] &lt;lestrrat&gt;  so from perl&#8217;s perspective, all it needs is for recv() to return, and let it know from a return value or errno that there was a signal sent somewhere along the line</div>
<div class="line">[Thursday 02 September 2010] [08:53:06] &lt;lestrrat&gt;  then (if need be) the Perl binding can tell the perl interpreter that there was a signal, and let perl&#8217;s sig handlers run</div>
<div class="line">[Thursday 02 September 2010] [08:53:24] &lt;lestrrat&gt;  at least that&#8217;s how I understand it to work.</div>
<div class="line">[Thursday 02 September 2010] [08:53:42] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 02 September 2010] [08:54:03] &lt;mato&gt;  ok</div>
<div class="line">[Thursday 02 September 2010] [08:54:18] &lt;mato&gt;  i&#8217;ve not looked into the perl signal handling</div>
<div class="line">[Thursday 02 September 2010] [08:54:18] &lt;sustrik&gt;   what i think mato is saying is that OS does not have to interrupt a blocking call (at C level) when SIGINT happens</div>
<div class="line">[Thursday 02 September 2010] [08:54:24] &lt;mato&gt;  yes</div>
<div class="line">[Thursday 02 September 2010] [08:54:32] &lt;lestrrat&gt;  right</div>
<div class="line">[Thursday 02 September 2010] [08:54:34] &lt;sustrik&gt;   how come that Ctrl+C works then</div>
<div class="line">[Thursday 02 September 2010] [08:54:35] &lt;sustrik&gt;   ?</div>
<div class="line">[Thursday 02 September 2010] [08:54:42] &lt;sustrik&gt;   for C programs?</div>
<div class="line">[Thursday 02 September 2010] [08:55:01] &lt;sustrik&gt;   if main thread was stuck in a blocking call</div>
<div class="line">[Thursday 02 September 2010] [08:55:02] &lt;mato&gt;  ah, the thing is multiple threads are involved</div>
<div class="line">[Thursday 02 September 2010] [08:55:08] &lt;mato&gt;  this is what makes it tricky</div>
<div class="line">[Thursday 02 September 2010] [08:55:25] &lt;sustrik&gt;   but how does it work in C world?</div>
<div class="line">[Thursday 02 September 2010] [08:55:27] &lt;mato&gt;  ok, in the simple case</div>
<div class="line">[Thursday 02 September 2010] [08:55:30] &lt;mato&gt;  (1 thread)</div>
<div class="line">[Thursday 02 September 2010] [08:55:40] &lt;mato&gt;  the OS will invoke the default signal handler</div>
<div class="line">[Thursday 02 September 2010] [08:55:46] &lt;mato&gt;  which happens to be &#8220;exit the program&#8221;</div>
<div class="line">[Thursday 02 September 2010] [08:56:10] &lt;mato&gt;  the problem is, if you&#8217;re handling signals</div>
<div class="line">[Thursday 02 September 2010] [08:56:12] &lt;sustrik&gt;   ah, so no SIGINT</div>
<div class="line">[Thursday 02 September 2010] [08:56:16] &lt;sustrik&gt;   just hard exit</div>
<div class="line">[Thursday 02 September 2010] [08:56:18] &lt;mato&gt;  yes, you get SIGINT</div>
<div class="line">[Thursday 02 September 2010] [08:56:23] &lt;mato&gt;  it&#8217;s hard to explain...</div>
<div class="line">[Thursday 02 September 2010] [08:56:32] &lt;sustrik&gt;   try</div>
<div class="line">[Thursday 02 September 2010] [08:56:46]      * mato needs a whiteboard :)</div>
<div class="line">[Thursday 02 September 2010] [08:56:52] &lt;lestrrat&gt;  :)</div>
<div class="line">[Thursday 02 September 2010] [08:56:54] &lt;sustrik&gt;   ascii graphics!</div>
<div class="line">[Thursday 02 September 2010] [08:57:12] &lt;mikko&gt; sustrik: it&#8217;s possible that i might be in Amsterdam whole of next week</div>
<div class="line">[Thursday 02 September 2010] [08:57:22] &lt;mikko&gt; they are still trying to figure out schedules</div>
<div class="line">[Thursday 02 September 2010] [08:57:28] &lt;sustrik&gt;   aha</div>
<div class="line">[Thursday 02 September 2010] [08:57:36] &lt;sustrik&gt;   ok, we&#8217;ll see</div>
<div class="line">[Thursday 02 September 2010] [08:57:37] &lt;mato&gt;  ok, so, case 0: 1 thread, no signal handler: result: on ^C default &#8220;exit the program&#8221; handler is called by the OS</div>
<div class="line">[Thursday 02 September 2010] [08:58:38] &lt;mato&gt;  case 1: 1 thread, <em>and</em> a signal handler in that thread: result: on ^C, threads SIGINT handler is called and when that returns the blocking call it interrupted returns EINTR</div>
<div class="line">[Thursday 02 September 2010] [08:58:50] &lt;mato&gt;  it is now up to the program to resolve that EINTR</div>
<div class="line">[Thursday 02 September 2010] [08:58:59] &lt;mato&gt;  if it did not exit in the signal handler already, of course</div>
<div class="line">[Thursday 02 September 2010] [08:59:15] &lt;sustrik&gt;   ack</div>
<div class="line">[Thursday 02 September 2010] [08:59:27] &lt;mato&gt;  now, here&#8217;s what i imagine most language runtimes do in a signal handler</div>
<div class="line">[Thursday 02 September 2010] [08:59:45] &lt;mato&gt;  and in fact most apps with old-style (no separate thread with sigwait()) signal handlers</div>
<div class="line">[Thursday 02 September 2010] [08:59:51] &lt;mato&gt;  they set some flag</div>
<div class="line">[Thursday 02 September 2010] [08:59:54] &lt;mato&gt;  that&#8217;s all :)</div>
<div class="line">[Thursday 02 September 2010] [09:00:14] &lt;mato&gt;  hence, when the call returns EINTR, the app/Perl/whatever checks it&#8217;s &#8220;was i interrupted&#8221; flag</div>
<div class="line">[Thursday 02 September 2010] [09:00:27] &lt;mato&gt;  and if it was, deals with that in it&#8217;s normal control flow</div>
<div class="line">[Thursday 02 September 2010] [09:00:36] &lt;lestrrat&gt;  right</div>
<div class="line">[Thursday 02 September 2010] [09:00:44] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [09:00:46] &lt;mato&gt;  now, enter 0mq</div>
<div class="line">[Thursday 02 September 2010] [09:00:54] &lt;mato&gt;  the i/o threads ignore all signals</div>
<div class="line">[Thursday 02 September 2010] [09:00:56]      * sustrik is thrilled</div>
<div class="line">[Thursday 02 September 2010] [09:01:05] &lt;sustrik&gt;   right</div>
<div class="line">[Thursday 02 September 2010] [09:01:06] &lt;mato&gt;  they may or may not get an EINTR if the <em>process</em> gets a signal</div>
<div class="line">[Thursday 02 September 2010] [09:01:10] &lt;mato&gt;  that is entirely OS-dependent</div>
<div class="line">[Thursday 02 September 2010] [09:01:44] &lt;mato&gt;  assuming for a moment that they did, the naive implementation would just return that EINTR, which would bubble up to the app thread logic and something useful might happen</div>
<div class="line">[Thursday 02 September 2010] [09:01:53] &lt;mato&gt;  however, that is a bad assumption</div>
<div class="line">[Thursday 02 September 2010] [09:02:19] &lt;mato&gt;  so, what to do?</div>
<div class="line">[Thursday 02 September 2010] [09:02:20] &lt;sustrik&gt;   wait a sec</div>
<div class="line">[Thursday 02 September 2010] [09:02:28]      * mato waiting</div>
<div class="line">[Thursday 02 September 2010] [09:02:31] &lt;sustrik&gt;   are you saying that I/O threadsmay get the signal;?</div>
<div class="line">[Thursday 02 September 2010] [09:02:45] &lt;mato&gt;  I/O threads will never &#8220;get&#8221; the signal</div>
<div class="line">[Thursday 02 September 2010] [09:02:49] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [09:03:03] &lt;mato&gt;  but depending on your OS, they <em>may</em> get an EINTR back from any random syscall</div>
<div class="line">[Thursday 02 September 2010] [09:03:09] &lt;sustrik&gt;   ack</div>
<div class="line">[Thursday 02 September 2010] [09:03:14] &lt;mato&gt;  well, not any random, but anything that does something complex</div>
<div class="line">[Thursday 02 September 2010] [09:03:21] &lt;mato&gt;  i.e. not getpid() but send() is a candidate</div>
<div class="line">[Thursday 02 September 2010] [09:03:24] &lt;sustrik&gt;   ok, but that&#8217;s beside the point</div>
<div class="line">[Thursday 02 September 2010] [09:03:31] &lt;mato&gt;  it&#8217;s not</div>
<div class="line">[Thursday 02 September 2010] [09:03:31] &lt;sustrik&gt;   beause we are interested in app threads</div>
<div class="line">[Thursday 02 September 2010] [09:03:35] &lt;sustrik&gt;   not i/o threads</div>
<div class="line">[Thursday 02 September 2010] [09:03:53] &lt;sustrik&gt;   whether i/o thread gets sigint or not, we don&#8217;t care</div>
<div class="line">[Thursday 02 September 2010] [09:04:19] &lt;mato&gt;  yes we do, because if you were to be 100% compatible you&#8217;d have to &#8220;emulate&#8221; the behaviour i described in case 1</div>
<div class="line">[Thursday 02 September 2010] [09:04:32] &lt;mato&gt;  s/compatible/nice to broken apps/interpreters/</div>
<div class="line">[Thursday 02 September 2010] [09:04:46] &lt;sustrik&gt;   wait</div>
<div class="line">[Thursday 02 September 2010] [09:04:54] &lt;sustrik&gt;   i/o thread just loops</div>
<div class="line">[Thursday 02 September 2010] [09:04:55] &lt;lestrrat&gt;  isn&#8217;t thre recv() being called on the app thread?</div>
<div class="line">[Thursday 02 September 2010] [09:05:08] &lt;sustrik&gt;   so if it gets EINTR it can just ignore it</div>
<div class="line">[Thursday 02 September 2010] [09:05:25] &lt;mato&gt;  hmm, yes</div>
<div class="line">[Thursday 02 September 2010] [09:05:30] &lt;sustrik&gt;   lestrrat: that&#8217;s my point</div>
<div class="line">[Thursday 02 September 2010] [09:05:49] &lt;mato&gt;  ok, right, so you want the app thread side of the API to pass EINTR</div>
<div class="line">[Thursday 02 September 2010] [09:05:54] &lt;sustrik&gt;   ack</div>
<div class="line">[Thursday 02 September 2010] [09:05:56] &lt;lestrrat&gt;  right</div>
<div class="line">[Thursday 02 September 2010] [09:06:18] &lt;mato&gt;  hmm</div>
<div class="line">[Thursday 02 September 2010] [09:06:33] &lt;mato&gt;  ok, one way to do it w/o breaking compatibility</div>
<div class="line">[Thursday 02 September 2010] [09:06:36] &lt;mato&gt;  with existing code</div>
<div class="line">[Thursday 02 September 2010] [09:06:49] &lt;mato&gt;  is a context option</div>
<div class="line">[Thursday 02 September 2010] [09:06:57] &lt;mato&gt;  &#8220;ZMQ_INTERRUPTIBLE&#8221;</div>
<div class="line">[Thursday 02 September 2010] [09:07:09] &lt;sustrik&gt;   ok, so it would work?</div>
<div class="line">[Thursday 02 September 2010] [09:07:11] &lt;mato&gt;  meaning &#8220;API calls will return EINTR if interrupted by a signal&#8221;</div>
<div class="line">[Thursday 02 September 2010] [09:07:19] &lt;mato&gt;  i think so</div>
<div class="line">[Thursday 02 September 2010] [09:07:24] &lt;sustrik&gt;   woohoo</div>
<div class="line">[Thursday 02 September 2010] [09:07:30] &lt;mato&gt;  note that there is no change on the i/o thread side</div>
<div class="line">[Thursday 02 September 2010] [09:07:35] &lt;lestrrat&gt;  coolness</div>
<div class="line">[Thursday 02 September 2010] [09:07:52] &lt;sustrik&gt;   or a compile time option</div>
<div class="line">[Thursday 02 September 2010] [09:07:59] &lt;mato&gt;  no, compile time is bad</div>
<div class="line">[Thursday 02 September 2010] [09:08:04] &lt;mato&gt;  libzmq.so may be shared</div>
<div class="line">[Thursday 02 September 2010] [09:08:06] &lt;lestrrat&gt;  I&#8217;d vote for ZMQ_INTERRUPTABLE</div>
<div class="line">[Thursday 02 September 2010] [09:08:17] &lt;sustrik&gt;   there are no context-wide options</div>
<div class="line">[Thursday 02 September 2010] [09:08:26] &lt;mato&gt;  well, they&#8217;ll have to be added then :)</div>
<div class="line">[Thursday 02 September 2010] [09:08:40] &lt;sustrik&gt;   but this is a hack</div>
<div class="line">[Thursday 02 September 2010] [09:08:44] &lt;mato&gt;  ?</div>
<div class="line">[Thursday 02 September 2010] [09:08:57] &lt;sustrik&gt;   the right solution is tu return EINTR</div>
<div class="line">[Thursday 02 September 2010] [09:09:22] &lt;sustrik&gt;   we need the option only to stay backward compatible with the original lousy solution</div>
<div class="line">[Thursday 02 September 2010] [09:09:39] &lt;mato&gt;  hmm hmm</div>
<div class="line">[Thursday 02 September 2010] [09:09:49] &lt;sustrik&gt;   i don&#8217;t like changing API because of a hack</div>
<div class="line">[Thursday 02 September 2010] [09:10:01] &lt;mato&gt;  sustrik: just a minute, i&#8217;m still thinking</div>
<div class="line">[Thursday 02 September 2010] [09:10:06] &lt;lestrrat&gt;  I was wondering from the beginning, but does it have to &#8220;return&#8221; EINTR? is it not enough to keep errno = EINTR ?</div>
<div class="line">[Thursday 02 September 2010] [09:10:24] &lt;sustrik&gt;   errno = EINTR</div>
<div class="line">[Thursday 02 September 2010] [09:10:26] &lt;mato&gt;  lestrrat: yes, we mean return (-1) with errno = EINTR</div>
<div class="line">[Thursday 02 September 2010] [09:10:33] &lt;lestrrat&gt;  ah</div>
<div class="line">[Thursday 02 September 2010] [09:10:39] &lt;sustrik&gt;   but still it breaks the API specification</div>
<div class="line">[Thursday 02 September 2010] [09:10:54] &lt;sustrik&gt;   EINTR is not described as valid error from recv()</div>
<div class="line">[Thursday 02 September 2010] [09:11:04] &lt;mato&gt;  recv() or zmq_recv()?</div>
<div class="line">[Thursday 02 September 2010] [09:11:19] &lt;sustrik&gt;   zmq_recv(), sorry</div>
<div class="line">[Thursday 02 September 2010] [09:11:30] &lt;mato&gt;  so we&#8217;ll have to change that, i think</div>
<div class="line">[Thursday 02 September 2010] [09:11:38] &lt;sustrik&gt;   people will hate us</div>
<div class="line">[Thursday 02 September 2010] [09:11:52] &lt;mato&gt;  then add ZMQ_INTERRUPTIBLE</div>
<div class="line">[Thursday 02 September 2010] [09:11:57] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 02 September 2010] [09:12:06] &lt;lestrrat&gt;  hey, I&#8217;m willing to accept a zmq_recv2()  ;P</div>
<div class="line">[Thursday 02 September 2010] [09:12:07] &lt;mato&gt;  the thing is, the model of never getting EINTR is actually right if you do your handling properly</div>
<div class="line">[Thursday 02 September 2010] [09:12:28] &lt;mato&gt;  kind of</div>
<div class="line">[Thursday 02 September 2010] [09:12:33] &lt;sustrik&gt;   shrug</div>
<div class="line">[Thursday 02 September 2010] [09:12:48] &lt;lestrrat&gt;  does that mean the &#8220;correct&#8221; way is for me to install a sighandler in my binding?</div>
<div class="line">[Thursday 02 September 2010] [09:13:08] &lt;mato&gt;  lestrrat: that probably won&#8217;t help because of the way the interpreter is architected</div>
<div class="line">[Thursday 02 September 2010] [09:13:22] &lt;mato&gt;  lestrrat: but yes, that would be the correct way</div>
<div class="line">[Thursday 02 September 2010] [09:13:29] &lt;mato&gt;  in an ideal world :)</div>
<div class="line">[Thursday 02 September 2010] [09:13:33] &lt;sustrik&gt;   in broader sense i would say: let&#8217;s keep with POSIX API</div>
<div class="line">[Thursday 02 September 2010] [09:13:45] &lt;sustrik&gt;   trying to outsmart it just causes problems</div>
<div class="line">[Thursday 02 September 2010] [09:13:45] &lt;lestrrat&gt;  oh yeah, recv is a currently a loop, ain&#8217;t it...</div>
<div class="line">[Thursday 02 September 2010] [09:13:58] &lt;mato&gt;  sustrik: well, what this requires then is...</div>
<div class="line">[Thursday 02 September 2010] [09:14:10] &lt;mato&gt;  sustrik: a nice thorough explanation by email</div>
<div class="line">[Thursday 02 September 2010] [09:14:16] &lt;mato&gt;  sustrik: combined with &#8220;sorry, we messed up&#8221;</div>
<div class="line">[Thursday 02 September 2010] [09:14:23] &lt;sustrik&gt;   we did</div>
<div class="line">[Thursday 02 September 2010] [09:14:27] &lt;mato&gt;  sustrik: and it&#8217;ll just go into 2.1</div>
<div class="line">[Thursday 02 September 2010] [09:14:37] &lt;mato&gt;  eventually, not immediately</div>
<div class="line">[Thursday 02 September 2010] [09:14:58] &lt;mato&gt;  after actual verification with at least say Perl, Python, Ruby that it does <em>solve</em> the problem</div>
<div class="line">[Thursday 02 September 2010] [09:15:18] &lt;sustrik&gt;   actually, it was brian granger who asked for backward compatibility guarantees :)</div>
<div class="line">[Thursday 02 September 2010] [09:15:27] &lt;lestrrat&gt;  would it be acceptable to add a different, aptly named function?</div>
<div class="line">[Thursday 02 September 2010] [09:15:41] &lt;lestrrat&gt;  zmq_recv_intr() or whatever.</div>
<div class="line">[Thursday 02 September 2010] [09:15:41] &lt;mato&gt;  lestrrat: no, because it involves ALL API calls that can block</div>
<div class="line">[Thursday 02 September 2010] [09:15:53] &lt;lestrrat&gt;  hmm</div>
<div class="line">[Thursday 02 September 2010] [09:16:07] &lt;mato&gt;  it is actually a mistake on our part, but i didn&#8217;t realise until today why it was a mistake</div>
<div class="line">[Thursday 02 September 2010] [09:16:32] &lt;mato&gt;  well, we could be anal and say &#8220;make your signal handling work like this&#8221;, but that&#8217;s impossible in the real world</div>
<div class="line">[Thursday 02 September 2010] [09:17:02] &lt;sustrik&gt;   ok, let me write an email describing the problem</div>
<div class="line">[Thursday 02 September 2010] [09:17:11] &lt;mato&gt;  do you understand it well enough?</div>
<div class="line">[Thursday 02 September 2010] [09:17:21] &lt;mato&gt;  this email must not be compressed :-)</div>
<div class="line">[Thursday 02 September 2010] [09:17:24] &lt;sustrik&gt;   and asking whether breaking backward compatibility is acceptable in this case</div>
<div class="line">[Thursday 02 September 2010] [09:17:25] &lt;sustrik&gt;   no</div>
<div class="line">[Thursday 02 September 2010] [09:17:29] &lt;sustrik&gt;   you can write it</div>
<div class="line">[Thursday 02 September 2010] [09:17:44] &lt;sustrik&gt;   but it involves saying &#8220;i am an idiot, sorry&#8221;</div>
<div class="line">[Thursday 02 September 2010] [09:17:49] &lt;mato&gt;  i&#8217;d like to verify that it actually helps</div>
<div class="line">[Thursday 02 September 2010] [09:18:00] &lt;mato&gt;  yes, true, you were the one that defined the behaviour</div>
<div class="line">[Thursday 02 September 2010] [09:18:14] &lt;mato&gt;  ok, look, i&#8217;ll write the text describing the problem</div>
<div class="line">[Thursday 02 September 2010] [09:18:23] &lt;mato&gt;  you can send it out, adding &#8220;I&#8217;m an idiot&#8221;</div>
<div class="line">[Thursday 02 September 2010] [09:18:27] &lt;mato&gt;  ok? :)</div>
<div class="line">[Thursday 02 September 2010] [09:18:27] &lt;sustrik&gt;   :)</div>
<div class="line">[Thursday 02 September 2010] [09:18:41] &lt;sustrik&gt;   ok, let&#8217;s first check whether it helps</div>
<div class="line">[Thursday 02 September 2010] [09:18:44] &lt;mato&gt;  but before you publicy denounce yourself, it would be nice to check first</div>
<div class="line">[Thursday 02 September 2010] [09:18:46] &lt;mato&gt;  precisely</div>
<div class="line">[Thursday 02 September 2010] [09:18:58] &lt;mato&gt;  sustrik: i would suggest being very pendantic about this</div>
<div class="line">[Thursday 02 September 2010] [09:19:00] &lt;sustrik&gt;   if it turns out that it does not i don&#8217;t have to call myself an idiotr</div>
<div class="line">[Thursday 02 September 2010] [09:19:12] &lt;mato&gt;  i.e. make three test cases (Perl, Python, Ruby)</div>
<div class="line">[Thursday 02 September 2010] [09:19:17] &lt;sustrik&gt;   ok, i can create a topic branch</div>
<div class="line">[Thursday 02 September 2010] [09:19:19] &lt;mato&gt;  ensure they hang currently</div>
<div class="line">[Thursday 02 September 2010] [09:19:21] &lt;sustrik&gt;   fix it there</div>
<div class="line">[Thursday 02 September 2010] [09:19:24] &lt;mato&gt;  i.e. ^C doesn&#8217;t work</div>
<div class="line">[Thursday 02 September 2010] [09:19:31] &lt;mato&gt;  then make your change</div>
<div class="line">[Thursday 02 September 2010] [09:19:36] &lt;mato&gt;  and ensure that all works as expected</div>
<div class="line">[Thursday 02 September 2010] [09:19:55] &lt;mato&gt;  sustrik: yes, topic branch, involves doc changes and so on</div>
<div class="line">[Thursday 02 September 2010] [09:19:57] &lt;mato&gt;  good idea</div>
<div class="line">[Thursday 02 September 2010] [09:20:11] &lt;sustrik&gt;   ok, let me do it</div>
<div class="line">[Thursday 02 September 2010] [09:20:14] &lt;lestrrat&gt;  let me know when I can test it :)</div>
<div class="line">[Thursday 02 September 2010] [09:20:19] &lt;mato&gt;  sustrik: i will find the magic command for you to email the topic branch patch set around</div>
<div class="line">[Thursday 02 September 2010] [09:20:22] &lt;sustrik&gt;   lestrrat: i&#8217;ll ping you</div>
<div class="line">[Thursday 02 September 2010] [09:20:30] &lt;sustrik&gt;   i&#8217;ll ping brian as well</div>
<div class="line">[Thursday 02 September 2010] [09:20:32] &lt;mato&gt;  sustrik: so that you can give it to e.g. lestrrat</div>
<div class="line">[Thursday 02 September 2010] [09:20:33] &lt;mato&gt;  ja</div>
<div class="line">[Thursday 02 September 2010] [09:20:46] &lt;sustrik&gt;   he&#8217;s willing to test it, we&#8217;ve discussed it in the morning</div>
<div class="line">[Thursday 02 September 2010] [09:20:54] &lt;mato&gt;  just email the patches around privately if you don&#8217;t want to call yourself a potential idiot just yet :)</div>
<div class="line">[Thursday 02 September 2010] [09:20:56] &lt;sustrik&gt;   not sure about ruby</div>
<div class="line">[Thursday 02 September 2010] [09:20:58] &lt;mato&gt;  (in public) :)</div>
<div class="line">[Thursday 02 September 2010] [09:21:03] &lt;sustrik&gt;   cremes: are you here?</div>
<div class="line">[Thursday 02 September 2010] [09:21:53] &lt;lestrrat&gt;  +1 for branch (just easier to pull ;)</div>
<div class="line">[Thursday 02 September 2010] [09:22:13] &lt;sustrik&gt;   lestrrat: what&#8217;s you email</div>
<div class="line">[Thursday 02 September 2010] [09:22:18] &lt;sustrik&gt;   how should i ping you?</div>
<div class="line">[Thursday 02 September 2010] [09:22:20] &lt;lestrrat&gt;  <a class="reference external" href="mailto:lestrrat&#37;&#52;&#48;gmail&#46;com">lestrrat<span>&#64;</span>gmail<span>&#46;</span>com</a></div>
<div class="line">[Thursday 02 September 2010] [09:22:24] &lt;sustrik&gt;   thx</div>
<div class="line">[Thursday 02 September 2010] [09:22:30] &lt;lestrrat&gt;  lestrrat &#64; github, lestrrat &#64; twitter</div>
<div class="line">[Thursday 02 September 2010] [09:22:34] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [09:22:34] &lt;mato&gt;  lestrrat: shhh... i&#8217;m slowly teaching sustrik git</div>
<div class="line">[Thursday 02 September 2010] [09:22:42] &lt;lestrrat&gt;  lol</div>
<div class="line">[Thursday 02 September 2010] [09:22:52] &lt;mato&gt;  start with local branches</div>
<div class="line">[Thursday 02 September 2010] [09:22:53] &lt;mato&gt;  :)</div>
<div class="line">[Thursday 02 September 2010] [09:24:07] &lt;sustrik&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [09:29:01] &lt;mato&gt;  ok, i have to concentrate on something else for a bit</div>
<div class="line">[Thursday 02 September 2010] [09:29:12] &lt;mato&gt;  ping me if you need me, bbl</div>
<div class="line">[Thursday 02 September 2010] [09:31:39] &lt;sustrik&gt;   cya</div>
<div class="line">[Thursday 02 September 2010] [09:53:57] &lt;cremes&gt;    sustrik: just got here; what do you need?</div>
<div class="line">[Thursday 02 September 2010] [09:54:25] &lt;sustrik&gt;   are you seeing problem with Ctrl+C in Ruby?</div>
<div class="line">[Thursday 02 September 2010] [09:54:46] &lt;sustrik&gt;   i mean, application not responding to SIGINT?</div>
<div class="line">[Thursday 02 September 2010] [09:55:10] &lt;sustrik&gt;   when stuck in 0mq blocking call?</div>
<div class="line">[Thursday 02 September 2010] [09:55:13] &lt;cremes&gt;    yes</div>
<div class="line">[Thursday 02 September 2010] [09:55:24] &lt;sustrik&gt;   aha, good</div>
<div class="line">[Thursday 02 September 2010] [09:55:31] &lt;sustrik&gt;   we think we&#8217;ve found a solution</div>
<div class="line">[Thursday 02 September 2010] [09:55:32] &lt;cremes&gt;    i don&#8217;t think the ruby signal handler runs when external C code is executing</div>
<div class="line">[Thursday 02 September 2010] [09:55:39] &lt;cremes&gt;    really? that&#8217;s good</div>
<div class="line">[Thursday 02 September 2010] [09:55:54] &lt;sustrik&gt;   would you be willing to test it once i have a fix?</div>
<div class="line">[Thursday 02 September 2010] [09:56:33] &lt;sustrik&gt;   the idea is that the blocking calls would return EINTR in case of Ctrl+C</div>
<div class="line">[Thursday 02 September 2010] [09:56:57] &lt;sustrik&gt;   then the binding can take care or what happens next</div>
<div class="line">[Thursday 02 September 2010] [09:57:11] &lt;cremes&gt;    sure</div>
<div class="line">[Thursday 02 September 2010] [09:57:20] &lt;sustrik&gt;   great, i&#8217;ll ping you once i have it</div>
<div class="line">[Thursday 02 September 2010] [09:57:25] &lt;cremes&gt;    ok</div>
<div class="line">[Thursday 02 September 2010] [10:04:59] &lt;mrm2m&gt; Hi, I&#8217;m very confused at the moment: That works: <a class="reference external" href="http://paste.pocoo.org/show/257618/">http://paste.pocoo.org/show/257618/</a></div>
<div class="line">[Thursday 02 September 2010] [10:05:14] &lt;mrm2m&gt; That doesn&#8217;t work: <a class="reference external" href="http://paste.pocoo.org/show/257617/">http://paste.pocoo.org/show/257617/</a></div>
<div class="line">[Thursday 02 September 2010] [10:05:49] &lt;mrm2m&gt; ignore those random and threading they are not used.</div>
<div class="line">[Thursday 02 September 2010] [10:06:41] &lt;mrm2m&gt; the &#8220;thread started&#8221; shows up, but nothing is sent to the corresponding server.</div>
<div class="line">[Thursday 02 September 2010] [10:09:48] &lt;sustrik&gt;   mrm2m: the application exits after sending the message?</div>
<div class="line">[Thursday 02 September 2010] [10:10:00] &lt;mrm2m&gt; right</div>
<div class="line">[Thursday 02 September 2010] [10:10:30] &lt;sustrik&gt;   in 2.0.8 all the unsent data are discarded when socket is closed</div>
<div class="line">[Thursday 02 September 2010] [10:10:54] &lt;mrm2m&gt; Uh - ok</div>
<div class="line">[Thursday 02 September 2010] [10:11:19] &lt;sustrik&gt;   the semantics is changed in 2.1</div>
<div class="line">[Thursday 02 September 2010] [10:11:39] &lt;sustrik&gt;   it&#8217;s: block context termination while all data are sent</div>
<div class="line">[Thursday 02 September 2010] [10:12:23] &lt;guido_g&gt;   so you can&#8217;t exit if something is broken?</div>
<div class="line">[Thursday 02 September 2010] [10:12:44] &lt;sustrik&gt;   it&#8217;s annoying, i know</div>
<div class="line">[Thursday 02 September 2010] [10:13:02] &lt;sustrik&gt;   what i want to do is to add SO_LINGER socket option</div>
<div class="line">[Thursday 02 September 2010] [10:13:12] &lt;lestrrat&gt;  would be nice if it was configurable</div>
<div class="line">[Thursday 02 September 2010] [10:13:18] &lt;guido_g&gt;   ack</div>
<div class="line">[Thursday 02 September 2010] [10:13:18] &lt;sustrik&gt;   with same semantics as with POSIX sockets</div>
<div class="line">[Thursday 02 September 2010] [10:13:42] &lt;sustrik&gt;   that should do imo</div>
<div class="line">[Thursday 02 September 2010] [11:25:43] &lt;gavinstark&gt;    I am following the PUB/SUB example in the &#8216;guide&#8217; but I&#8217;m wondering how I might setup a way for there to be multiple publishers that each subscriber can receive from.  Or do I need independent bind/connects for that?</div>
<div class="line">[Thursday 02 September 2010] [11:27:54] &lt;mikko&gt; gavinstark: the latter</div>
<div class="line">[Thursday 02 September 2010] [11:34:29] &lt;cremes&gt;    gavinstark: you also need a forwarder device to aggregate all of the publisher&#8217;s messages</div>
<div class="line">[Thursday 02 September 2010] [11:35:01] &lt;cremes&gt;    (not strictly true, but i think it&#8217;s the cleanest way to set things up)</div>
<div class="line">[Thursday 02 September 2010] [11:42:47] &lt;gavinstark&gt;    Do I have to pre-list all the publishers in the forwarder config? It seems like I&#8217;d have to have multiple &lt;in&gt; with unique values for each publisher that might appear? Or am I missing something?</div>
<div class="line">[Thursday 02 September 2010] [11:55:00] &lt;sustrik&gt;   gavinstark: bind your forwarder devices</div>
<div class="line">[Thursday 02 September 2010] [11:55:12] &lt;sustrik&gt;   connect the publishers and subscribers</div>
<div class="line">[Thursday 02 September 2010] [11:57:42] &lt;gavinstark&gt;    sustrik, what if I do not know the qty of publishers before hand?  Won&#8217;t each publisher have to bind uniquely? (<a class="reference external" href="tcp://....:5555">tcp://....:5555</a>, <a class="reference external" href="tcp://....:5556">tcp://....:5556</a>, etc.?)</div>
<div class="line">[Thursday 02 September 2010] [11:59:07] &lt;sustrik&gt;   pubishers should _connect_ to the forwared</div>
<div class="line">[Thursday 02 September 2010] [11:59:11] &lt;sustrik&gt;   forwarder*</div>
<div class="line">[Thursday 02 September 2010] [12:06:44] &lt;gavinstark&gt;    surstrik, ah, ok.  I just tried that, having the publisher zmq_connect instead of bind, still not quite working.  Here is what I did:</div>
<div class="line">[Thursday 02 September 2010] [12:06:55] &lt;gavinstark&gt;    forwarder config:  <a class="reference external" href="http://pastie.org/1134026">http://pastie.org/1134026</a></div>
<div class="line">[Thursday 02 September 2010] [12:07:08] &lt;gavinstark&gt;    Publisher: <a class="reference external" href="http://pastie.org/1134029">http://pastie.org/1134029</a></div>
<div class="line">[Thursday 02 September 2010] [12:07:16] &lt;gavinstark&gt;    subscriber: <a class="reference external" href="http://pastie.org/1134028">http://pastie.org/1134028</a></div>
<div class="line">[Thursday 02 September 2010] [12:08:10] &lt;gavinstark&gt;    ah, I think I see, I was supposed to &#8220;bind&#8221; on the &#8220;in&#8221; entry?</div>
<div class="line">[Thursday 02 September 2010] [12:12:45] &lt;sustrik&gt;   gavinstark: forwarder should bind both in and out</div>
<div class="line">[Thursday 02 September 2010] [12:12:47] &lt;zedas&gt; lestrrat: re: mongrel2 handlers blocking, i fixed it by making the zeromq IO threads be 1. I&#8217;ve been running it like that for weeks without any problems, so you should be fine.</div>
<div class="line">[Thursday 02 September 2010] [12:13:12] &lt;gavinstark&gt;    sustrik: Thanks, working perfectly now.</div>
<div class="line">[Thursday 02 September 2010] [12:13:15] &lt;sustrik&gt;   zedas: this is a different issue</div>
<div class="line">[Thursday 02 September 2010] [12:13:50] &lt;sustrik&gt;   annoying interactions between language runime, OS signals and 0MQ async architecture</div>
<div class="line">[Thursday 02 September 2010] [12:15:02] &lt;zedas&gt; sustrik: ah. you got a link for me about it?</div>
<div class="line">[Thursday 02 September 2010] [12:15:04] &lt;mato&gt;  that&#8217;s a very polite way of putting it :-)</div>
<div class="line">[Thursday 02 September 2010] [12:15:54] &lt;sustrik&gt;   mato: are you able to summarise it for zed?</div>
<div class="line">[Thursday 02 September 2010] [12:16:00] &lt;mato&gt;  yeah</div>
<div class="line">[Thursday 02 September 2010] [12:16:04]      * sustrik feels incompetent here</div>
<div class="line">[Thursday 02 September 2010] [12:16:08] &lt;mato&gt;  signal handling is fucked :-)</div>
<div class="line">[Thursday 02 September 2010] [12:16:11] &lt;mato&gt;  end of summary</div>
<div class="line">[Thursday 02 September 2010] [12:16:32] &lt;sustrik&gt;   up to the point</div>
<div class="line">[Thursday 02 September 2010] [12:17:04] &lt;sustrik&gt;   basically, it has to do with handling Ctrl+C in interpreted languages</div>
<div class="line">[Thursday 02 September 2010] [12:17:07] &lt;mato&gt;  to elaborate on my summary, the issue is with the 0mq API not returning EINTR when API calls are interrupted by a signal in the application thread</div>
<div class="line">[Thursday 02 September 2010] [12:17:09] &lt;sustrik&gt;   i&#8217;m working on a fix now</div>
<div class="line">[Thursday 02 September 2010] [12:17:23] &lt;mato&gt;  zedas: problem is most language runtimes do delayed signal handling</div>
<div class="line">[Thursday 02 September 2010] [12:17:33] &lt;mato&gt;  zedas: i.e. handler() just sets some flag</div>
<div class="line">[Thursday 02 September 2010] [12:17:39] &lt;mato&gt;  zedas: it doesn&#8217;t actually <em>do</em> anything</div>
<div class="line">[Thursday 02 September 2010] [12:17:46] &lt;mato&gt;  zedas: flag gets picked up when the runtime wakes up</div>
<div class="line">[Thursday 02 September 2010] [12:18:01] &lt;mato&gt;  zedas: but since 0mq calls never return EINTR, runtime never wakes up</div>
<div class="line">[Thursday 02 September 2010] [12:26:22] &lt;zedas&gt; mato: ah yes, that&#8217;d explain it.</div>
<div class="line">[Thursday 02 September 2010] [12:35:20] &lt;ModusPwnens&gt;   hi, i&#8217;m back again. Hopefully with a question that&#8217;s not as dumb this time. Anyways, does anyone know what would cause the first two bytes of a message to get corrupted?</div>
<div class="line">[Thursday 02 September 2010] [12:39:20] &lt;bgranger&gt;  zedas:  can you say more about what you have been doing to solve this.  I was going to look into the EINTR stuff today.</div>
<div class="line">[Thursday 02 September 2010] [12:40:19] &lt;mato&gt;  bgranger: I think we have a solution for the EINTR stuff</div>
<div class="line">[Thursday 02 September 2010] [12:40:27] &lt;sustrik&gt;   ModusPwnens: do you have a test program?</div>
<div class="line">[Thursday 02 September 2010] [12:40:46] &lt;bgranger&gt;  mato:  ?</div>
<div class="line">[Thursday 02 September 2010] [12:40:48] &lt;mato&gt;  bgranger: oh, hang on, maybe you mean zed&#8217;s issue</div>
<div class="line">[Thursday 02 September 2010] [12:40:56] &lt;bgranger&gt;  Is that not the same thing?</div>
<div class="line">[Thursday 02 September 2010] [12:41:07] &lt;mato&gt;  as opposed to the general issue which manifests itself as &#8220;^C doesn&#8217;t work in $RANDOM_LANGUAGE&#8221;</div>
<div class="line">[Thursday 02 September 2010] [12:41:09] &lt;bgranger&gt;  I missed some of the discussion so I am trying to piece it together</div>
<div class="line">[Thursday 02 September 2010] [12:41:14] &lt;mato&gt;  ah</div>
<div class="line">[Thursday 02 September 2010] [12:41:24] &lt;bgranger&gt;  Are there 2 different issues?</div>
<div class="line">[Thursday 02 September 2010] [12:41:27] &lt;mato&gt;  yeah</div>
<div class="line">[Thursday 02 September 2010] [12:41:42] &lt;mato&gt;  zedas has an issue with multiple i/o threads</div>
<div class="line">[Thursday 02 September 2010] [12:41:53] &lt;mato&gt;  which may or may not have something (different) to do with EINTR</div>
<div class="line">[Thursday 02 September 2010] [12:42:00] &lt;mato&gt;  not clear, haven&#8217;t had time to look at that</div>
<div class="line">[Thursday 02 September 2010] [12:42:00] &lt;bgranger&gt;  And signals?</div>
<div class="line">[Thursday 02 September 2010] [12:42:03] &lt;mato&gt;  signals</div>
<div class="line">[Thursday 02 September 2010] [12:42:11] &lt;mato&gt;  The problem is as I described just above.</div>
<div class="line">[Thursday 02 September 2010] [12:42:18] &lt;bgranger&gt;  What is the idea about EINTR?</div>
<div class="line">[Thursday 02 September 2010] [12:42:33] &lt;mato&gt;  When Martin Sustrik made the original API he decided not to return EINTR from blocking calls</div>
<div class="line">[Thursday 02 September 2010] [12:42:39] &lt;bgranger&gt;  I did talk to sustrik late last night (for me) and he pointed me to some code ...</div>
<div class="line">[Thursday 02 September 2010] [12:42:46] &lt;bgranger&gt;  Right he showed me that code</div>
<div class="line">[Thursday 02 September 2010] [12:43:01] &lt;mato&gt;  Right, except that basically breaks standard signal handling</div>
<div class="line">[Thursday 02 September 2010] [12:43:13] &lt;bgranger&gt;  Today I am going to put in a print statement in that logic and try to see if it prints with a SIGINT in the Python bindings.</div>
<div class="line">[Thursday 02 September 2010] [12:43:42] &lt;bgranger&gt;  It is still not clear if this will work with the Python bindings, but we will see.</div>
<div class="line">[Thursday 02 September 2010] [12:43:43] &lt;mato&gt;  To recap, imagine the simplest case with a C program blocking on some syscall, while at the same time handling say SIGINT.</div>
<div class="line">[Thursday 02 September 2010] [12:43:44] &lt;bgranger&gt;  I think it may</div>
<div class="line">[Thursday 02 September 2010] [12:43:49] &lt;ModusPwnens&gt;   sustrik: Yeah, it&#8217;s happening in my code. I&#8217;m not entirely sure why. It seems like it happens when it is sent, as the sending side can properly decode the message. However, the receving side cannot because the first two bytes get corrupted for some reason. I can paste my code to a pastebin if you like.</div>
<div class="line">[Thursday 02 September 2010] [12:44:22] &lt;mato&gt;  bgranger: Now, if &#8220;handling&#8221; SIGINT in this programs case means it just prints &#8220;Interrupted!&#8221; and exits, then fine.</div>
<div class="line">[Thursday 02 September 2010] [12:44:33] &lt;mato&gt;  bgranger: That will work even with the current situation in 0MQ.</div>
<div class="line">[Thursday 02 September 2010] [12:44:53] &lt;bgranger&gt;  Not in the python bindings...</div>
<div class="line">[Thursday 02 September 2010] [12:45:10] &lt;mato&gt;  bgranger: But, if it instead means that the program just sets some random flag, and then expects to process that flag &#8220;later&#8221;, it won&#8217;t work.</div>
<div class="line">[Thursday 02 September 2010] [12:45:19] &lt;bgranger&gt;  Right</div>
<div class="line">[Thursday 02 September 2010] [12:45:27] &lt;mato&gt;  bgranger: Which is precisely the Python/Perl (at least) case</div>
<div class="line">[Thursday 02 September 2010] [12:45:32] &lt;bgranger&gt;  Which is what Python does...yep</div>
<div class="line">[Thursday 02 September 2010] [12:45:55] &lt;sustrik&gt;   ModusPwnens: try it</div>
<div class="line">[Thursday 02 September 2010] [12:45:56] &lt;mato&gt;  bgranger: So, the only real solution is that 0MQ <em>API</em> calls return EINTR if they get EINTR back from a blocking system call.</div>
<div class="line">[Thursday 02 September 2010] [12:46:12] &lt;bgranger&gt;  Will that happen regardless of what signal handlers have been installed?</div>
<div class="line">[Thursday 02 September 2010] [12:46:19] &lt;mato&gt;  Yup</div>
<div class="line">[Thursday 02 September 2010] [12:46:20] &lt;ModusPwnens&gt;   sustrik: do you want the entire code or just the functions in question?</div>
<div class="line">[Thursday 02 September 2010] [12:46:36] &lt;mato&gt;  bgranger: It&#8217;s what the OS does.</div>
<div class="line">[Thursday 02 September 2010] [12:46:40] &lt;bgranger&gt;  That would definittely solve our problems then!  e would be very happy about that.</div>
<div class="line">[Thursday 02 September 2010] [12:46:49] &lt;sustrik&gt;   well, i would like a simple example</div>
<div class="line">[Thursday 02 September 2010] [12:46:57] &lt;sustrik&gt;   showing the problem</div>
<div class="line">[Thursday 02 September 2010] [12:47:05] &lt;mato&gt;  bgranger: If you do e.g. poll () in C, handle a signal in the same thread, then that poll () will return EINTR</div>
<div class="line">[Thursday 02 September 2010] [12:47:19] &lt;mato&gt;  bgranger: by &#8220;handle a signal&#8221; I mean the &#8220;set a flag case&#8221;</div>
<div class="line">[Thursday 02 September 2010] [12:47:23] &lt;sustrik&gt;   bgranger: i&#8217;ll fix it and let you know</div>
<div class="line">[Thursday 02 September 2010] [12:47:24] &lt;bgranger&gt;  mato:  right OK</div>
<div class="line">[Thursday 02 September 2010] [12:47:39] &lt;sustrik&gt;   you can test it with python, others will test with perl and ruby</div>
<div class="line">[Thursday 02 September 2010] [12:47:43] &lt;mato&gt;  bgranger: By the way, while you&#8217;re here, have you had any more Python/GIL issues?</div>
<div class="line">[Thursday 02 September 2010] [12:47:49] &lt;bgranger&gt;  sustrik:  can you fix it in the 2.0.8 branch.  We are not using trunk yet</div>
<div class="line">[Thursday 02 September 2010] [12:48:09] &lt;sustrik&gt;   backwards compatibility :|</div>
<div class="line">[Thursday 02 September 2010] [12:48:11] &lt;bgranger&gt;  mato:  No we have solved those.  It was super sutble to get non-copy send/recv working with the GIL though.</div>
<div class="line">[Thursday 02 September 2010] [12:48:20] &lt;bgranger&gt;  mato:  But it is working well.</div>
<div class="line">[Thursday 02 September 2010] [12:48:24] &lt;mato&gt;  bgranger: I have a really interesting case which looks like one of those...</div>
<div class="line">[Thursday 02 September 2010] [12:48:44] &lt;mato&gt;  bgranger: Will send to the mailing list, tomorrow.</div>
<div class="line">[Thursday 02 September 2010] [12:49:06] &lt;ModusPwnens&gt;   Hmm.well i don&#8217;t really have an example..it&#8217;s just happening in the code I have written, so i could give you that if you wanted to see it. It started happening after i used google protobufs to encode into a byte array instead of a string.</div>
<div class="line">[Thursday 02 September 2010] [12:49:11] &lt;bgranger&gt;  mato:  Ok, I will watch for it.  The challenge was getting the ref counts of zmq messages synch&#8217;d with those of Python.</div>
<div class="line">[Thursday 02 September 2010] [12:49:30] &lt;mato&gt;  bgranger: But the short story is, I see gc trying to close() a socket, while at the same time zmq_free_fn() in a different thread is trying to acquire the GIL in order to decrease the message refcount</div>
<div class="line">[Thursday 02 September 2010] [12:49:39] &lt;mato&gt;  bgranger: and the result is deadlock</div>
<div class="line">[Thursday 02 September 2010] [12:50:01] &lt;bgranger&gt;  Is this in trunk where sockets can move threads?</div>
<div class="line">[Thursday 02 September 2010] [12:50:08] &lt;mato&gt;  bgranger: nope, 2.0.8</div>
<div class="line">[Thursday 02 September 2010] [12:50:22] &lt;bgranger&gt;  What language?</div>
<div class="line">[Thursday 02 September 2010] [12:50:27] &lt;mato&gt;  Python...</div>
<div class="line">[Thursday 02 September 2010] [12:50:35] &lt;bgranger&gt;  What version of pyzmq?</div>
<div class="line">[Thursday 02 September 2010] [12:50:55] &lt;mato&gt;  latest-ish, let me check</div>
<div class="line">[Thursday 02 September 2010] [12:51:07] &lt;bgranger&gt;  Since Saturday?</div>
<div class="line">[Thursday 02 September 2010] [12:51:10] &lt;mato&gt;  ah, no</div>
<div class="line">[Thursday 02 September 2010] [12:51:16] &lt;mato&gt;  2.0.7 pyzmq actually</div>
<div class="line">[Thursday 02 September 2010] [12:51:22] &lt;mato&gt;  with 2.0.8 zmq</div>
<div class="line">[Thursday 02 September 2010] [12:51:23] &lt;bgranger&gt;  I did a bunch of work then.  I release a 2.0.7 stable release and master is now 2.0.8 cmpatible.</div>
<div class="line">[Thursday 02 September 2010] [12:51:58] &lt;bgranger&gt;  But, I believe that what you are saying it possible.  The 1 problem we have is that the zmq_free_fn does have to acquire the GIL.  If that can&#8217;t happen, you have trouble.</div>
<div class="line">[Thursday 02 September 2010] [12:52:01] &lt;jonrafkind&gt;    has anyone used zmq in a real-time game? mostly I just need low latency</div>
<div class="line">[Thursday 02 September 2010] [12:52:13] &lt;mato&gt;  bgranger: that&#8217;s precisely what I&#8217;m seeing</div>
<div class="line">[Thursday 02 September 2010] [12:52:13] &lt;bgranger&gt;  There is nothing we can do to get around this.</div>
<div class="line">[Thursday 02 September 2010] [12:52:32] &lt;bgranger&gt;  Can you just hold onto the socket ref to prevent gc?</div>
<div class="line">[Thursday 02 September 2010] [12:52:44] &lt;mato&gt;  Yes, but I have transient sockets in this application</div>
<div class="line">[Thursday 02 September 2010] [12:52:49] &lt;mato&gt;  So tons of fds get leaked</div>
<div class="line">[Thursday 02 September 2010] [12:52:57] &lt;bgranger&gt;  Hmmm, that might be tough</div>
<div class="line">[Thursday 02 September 2010] [12:53:06] &lt;bgranger&gt;  What do you mean by that?</div>
<div class="line">[Thursday 02 September 2010] [12:53:22] &lt;mato&gt;  Well, it&#8217;s precisely my workaround (holding onto the socket refs)</div>
<div class="line">[Thursday 02 September 2010] [12:53:29] &lt;bgranger&gt;  Ahh, OK.</div>
<div class="line">[Thursday 02 September 2010] [12:53:45] &lt;mato&gt;  But that means the underlying fds hang around, so eventually you&#8217;ll run out.</div>
<div class="line">[Thursday 02 September 2010] [12:53:46] &lt;bgranger&gt;  Is the socket that is being gc&#8217;s the one that is sending the msg though?</div>
<div class="line">[Thursday 02 September 2010] [12:53:53] &lt;bgranger&gt;  right, you don&#8217;t want that</div>
<div class="line">[Thursday 02 September 2010] [12:54:10] &lt;mato&gt;  That&#8217;s hard to tell at the moment, but at least you&#8217;ve confirmed that this can happen.</div>
<div class="line">[Thursday 02 September 2010] [12:54:18] &lt;mato&gt;  So the backtraces I see make sense.</div>
<div class="line">[Thursday 02 September 2010] [12:54:22] &lt;mato&gt;  I&#8217;ll write it up tomorrow.</div>
<div class="line">[Thursday 02 September 2010] [12:54:39] &lt;sustrik&gt;   ModusPwnens: if you want me to look at it, strip it down to the simplest possible example that reproduces the bahviour</div>
<div class="line">[Thursday 02 September 2010] [12:54:53] &lt;bgranger&gt;  I can do the following.  When a socket send a msg, it can add itself to a list of sockets that the Message hold on to.  That way the message can prevent the gc, but when the msg goes away, the socket will as well.</div>
<div class="line">[Thursday 02 September 2010] [12:55:09] &lt;sustrik&gt;   ModusPwnens: aren&#8217;t you overwriting the buffer you&#8217;ve sent to 0MQ?</div>
<div class="line">[Thursday 02 September 2010] [12:55:30] &lt;bgranger&gt;  but that might keep socket around longer than you want if you have a message that love a long time.</div>
<div class="line">[Thursday 02 September 2010] [12:55:46] &lt;mato&gt;  bgranger: That might be a solution, yes.</div>
<div class="line">[Thursday 02 September 2010] [12:55:54] &lt;mato&gt;  bgranger: Anyhow, gc is not supposed to be instant, no?</div>
<div class="line">[Thursday 02 September 2010] [12:56:02] &lt;bgranger&gt;  Depends</div>
<div class="line">[Thursday 02 September 2010] [12:56:13] &lt;bgranger&gt;  if there are cycles or not.</div>
<div class="line">[Thursday 02 September 2010] [12:56:18] &lt;mato&gt;  bgranger: So if the socket hangs around for a bit... does it matter too much? As long as it goes away eventually.</div>
<div class="line">[Thursday 02 September 2010] [12:56:30] &lt;sustrik&gt;   jonrafkind: i think there are couple of game devs here, rbraley for example</div>
<div class="line">[Thursday 02 September 2010] [12:56:35] &lt;bgranger&gt;  Depends on what &#8220;a bit&#8221; means</div>
<div class="line">[Thursday 02 September 2010] [12:56:48] &lt;mato&gt;  True.</div>
<div class="line">[Thursday 02 September 2010] [12:56:53] &lt;ModusPwnens&gt;   Sustrik: Well it&#8217;s in a loop and I close the message at the end of the loop, initializing it again at the beginning</div>
<div class="line">[Thursday 02 September 2010] [12:57:07] &lt;mato&gt;  bgranger: Let me sleep on it, and write up, this is useful to have on the list</div>
<div class="line">[Thursday 02 September 2010] [12:57:20] &lt;mato&gt;  bgranger: since other people dealing with GC-based languages may run into similar problems.</div>
<div class="line">[Thursday 02 September 2010] [12:57:22] &lt;bgranger&gt;  mato:  Great</div>
<div class="line">[Thursday 02 September 2010] [12:57:26] &lt;bgranger&gt;  Aboslutely</div>
<div class="line">[Thursday 02 September 2010] [12:57:33] &lt;ModusPwnens&gt;   and the data that I am initializing it with is a char * which i free at the end of each iteration too</div>
<div class="line">[Thursday 02 September 2010] [12:57:55] &lt;sustrik&gt;   show me the sending code</div>
<div class="line">[Thursday 02 September 2010] [12:58:10] &lt;mato&gt;  bgranger: Thanks for your help</div>
<div class="line">[Thursday 02 September 2010] [12:58:25]      * mato is off to dinner, see you all later</div>
<div class="line">[Thursday 02 September 2010] [12:58:56] &lt;bgranger&gt;  later</div>
<div class="line">[Thursday 02 September 2010] [12:59:07] &lt;ModusPwnens&gt;   <a class="reference external" href="http://pastebin.com/uVgxmb6K">http://pastebin.com/uVgxmb6K</a></div>
<div class="line">[Thursday 02 September 2010] [13:00:11] &lt;ModusPwnens&gt;   there&#8217;s a lot of debugging stuff in there so i&#8217;m sorry that it is messy</div>
<div class="line">[Thursday 02 September 2010] [13:00:11] &lt;sustrik&gt;   ModusPwnens: when using zmq_msg_init_data you are passing ownership of the buffer to 0MQ</div>
<div class="line">[Thursday 02 September 2010] [13:00:23] &lt;sustrik&gt;   so you have to give it a free function</div>
<div class="line">[Thursday 02 September 2010] [13:00:31] &lt;sustrik&gt;   and don&#8217;t touch the buffer afterwards</div>
<div class="line">[Thursday 02 September 2010] [13:01:12] &lt;sustrik&gt;   if you don&#8217;t need zero-copy</div>
<div class="line">[Thursday 02 September 2010] [13:01:22] &lt;sustrik&gt;   just init the message using zmq_msg_init_size</div>
<div class="line">[Thursday 02 September 2010] [13:01:29] &lt;sustrik&gt;   and copt the data into i</div>
<div class="line">[Thursday 02 September 2010] [13:01:30] &lt;sustrik&gt;   it</div>
<div class="line">[Thursday 02 September 2010] [13:01:59] &lt;ModusPwnens&gt;   So just don&#8217;t use init_data at all?</div>
<div class="line">[Thursday 02 September 2010] [13:02:50] &lt;sustrik&gt;   do you need zero-copy?</div>
<div class="line">[Thursday 02 September 2010] [13:03:05] &lt;ModusPwnens&gt;   I&#8217;m not really sure what that is, so I don&#8217;t think so.</div>
<div class="line">[Thursday 02 September 2010] [13:03:14] &lt;sustrik&gt;   than don&#8217;t use it :)</div>
<div class="line">[Thursday 02 September 2010] [13:03:30] &lt;ModusPwnens&gt;   Ok! So just use size to initialize it and then memcpy into it?</div>
<div class="line">[Thursday 02 September 2010] [13:03:36] &lt;sustrik&gt;   exactly</div>
<div class="line">[Thursday 02 September 2010] [13:03:42] &lt;ModusPwnens&gt;   okie doke. Thanks! I will try that!</div>
<div class="line">[Thursday 02 September 2010] [13:03:48] &lt;ModusPwnens&gt;   Sorry for the constant questions :S</div>
<div class="line">[Thursday 02 September 2010] [13:04:29] &lt;sustrik&gt;   np</div>
<div class="line">[Thursday 02 September 2010] [13:06:09] &lt;jonrafkind&gt;    oh i just realied, imatrix is the same company that made SFL. I use that in my project :p</div>
<div class="line">[Thursday 02 September 2010] [16:50:52] &lt;ModusPwnens&gt;   Hi guys, I have encountered a problem with the official benchmarking utility.</div>
<div class="line">[Thursday 02 September 2010] [16:51:31] &lt;ModusPwnens&gt;   It appears to crash if you enter in a  very large number of messages, and I was w ndering if this was supposed to happen and if so, why?</div>
<div class="line">[Thursday 02 September 2010] [17:16:55] &lt;cremes&gt;    ModusPwnens: which benchmarking utility and what number did you pass to it?</div>
<div class="line">[Thursday 02 September 2010] [17:17:41] &lt;ModusPwnens&gt;   The site has changed so I don&#8217;t know where the utility is offhand anymore</div>
<div class="line">[Thursday 02 September 2010] [17:18:09] &lt;cremes&gt;    what&#8217;s the name of it?</div>
<div class="line">[Thursday 02 September 2010] [17:18:31] &lt;ModusPwnens&gt;   actually, it&#8217;s in my zeromq folder</div>
<div class="line">[Thursday 02 September 2010] [17:18:35] &lt;ModusPwnens&gt;   in the bin</div>
<div class="line">[Thursday 02 September 2010] [17:18:38] &lt;ModusPwnens&gt;   remote_thr</div>
<div class="line">[Thursday 02 September 2010] [17:18:52] &lt;cremes&gt;    oh, the local_thr/remote_thr pair?</div>
<div class="line">[Thursday 02 September 2010] [17:18:55] &lt;ModusPwnens&gt;   ya</div>
<div class="line">[Thursday 02 September 2010] [17:19:17] &lt;cremes&gt;    so what arguments did you pass it? (i recommend you pastie the output from your shell along with any displayed error)</div>
<div class="line">[Thursday 02 September 2010] [17:19:32] &lt;ModusPwnens&gt;   i passed 50 and 25000000</div>
<div class="line">[Thursday 02 September 2010] [17:20:00] &lt;ModusPwnens&gt;   C:UsersDavid DawsonDesktopzeromq-2.0.7zeromq-2.0.7bin&gt;remote_thr.exe tcp:/</div>
<div class="line">[Thursday 02 September 2010] [17:20:00] &lt;ModusPwnens&gt;   Assertion failed: end_chunk-&gt;next (c:usersdavid dawsondesktopzeromq-2.0.7ze</div>
<div class="line">[Thursday 02 September 2010] [17:20:00] &lt;ModusPwnens&gt;   romq-2.0.7srcyqueue.hpp:108)</div>
<div class="line">[Thursday 02 September 2010] [17:20:00] &lt;ModusPwnens&gt;   This application has requested the Runtime to terminate it in an unusual way.</div>
<div class="line">[Thursday 02 September 2010] [17:20:01] &lt;ModusPwnens&gt;   Please contact the application&#8217;s support team for more information.</div>
<div class="line">[Thursday 02 September 2010] [17:20:32] &lt;cremes&gt;    did it fail only with the 25 million number or with 50 too?</div>
<div class="line">[Thursday 02 September 2010] [17:20:34] &lt;ModusPwnens&gt;   bah, sorry, the command prompt is strange</div>
<div class="line">[Thursday 02 September 2010] [17:20:42] &lt;ModusPwnens&gt;   no, it&#8217;s just the 25 million</div>
<div class="line">[Thursday 02 September 2010] [17:20:50] &lt;ModusPwnens&gt;   if i lower it it works fine</div>
<div class="line">[Thursday 02 September 2010] [17:20:58] &lt;ModusPwnens&gt;   but I was just curious if it is supposed to fail that way</div>
<div class="line">[Thursday 02 September 2010] [17:21:07] &lt;cremes&gt;    no, you may have found a bug</div>
<div class="line">[Thursday 02 September 2010] [17:21:16] &lt;cremes&gt;    but before reporting it, install 2.0.8 and try again</div>
<div class="line">[Thursday 02 September 2010] [17:21:18] &lt;ModusPwnens&gt;   ok</div>
<div class="line">[Thursday 02 September 2010] [17:21:22] &lt;cremes&gt;    no sense in reporting a bug against an old release</div>
<div class="line">[Thursday 02 September 2010] [17:21:32] &lt;ModusPwnens&gt;   true enough</div>
<div class="line">[Thursday 02 September 2010] [17:22:10] &lt;ModusPwnens&gt;   ok i have to recompile the source, hold on</div>
<div class="line">[Thursday 02 September 2010] [17:22:34] &lt;cremes&gt;    just a note on irc etiquette...</div>
<div class="line">[Thursday 02 September 2010] [17:22:44] &lt;cremes&gt;    give as much information as possible...</div>
<div class="line">[Thursday 02 September 2010] [17:23:11] &lt;cremes&gt;    don&#8217;t paste more than 2 lines directly into the channel; use a pastie srevice like pastie.org or gist.github.com for longer stuff</div>
<div class="line">[Thursday 02 September 2010] [17:23:25] &lt;cremes&gt;    tell us the name of the programs involved and the version of the library</div>
<div class="line">[Thursday 02 September 2010] [17:23:48] &lt;ModusPwnens&gt;   Ok. I will note that for the future.</div>
<div class="line">[Thursday 02 September 2010] [17:23:56] &lt;ModusPwnens&gt;   thanks!</div>
<div class="line">[Thursday 02 September 2010] [17:23:56] &lt;cremes&gt;    if you see a crash, it is never <em>supposed</em> to happen so asking if it is seems a bit silly</div>
<div class="line">[Thursday 02 September 2010] [17:24:06] &lt;cremes&gt;    np</div>
<div class="line">[Thursday 02 September 2010] [17:24:09] &lt;ModusPwnens&gt;   Well, i guess I meant to say if it was already known</div>
<div class="line">[Thursday 02 September 2010] [17:24:47] &lt;cremes&gt;    then search the issues on github; all known bugs are reported and tracked there</div>
<div class="line">[Thursday 02 September 2010] [17:25:08] &lt;ModusPwnens&gt;   Hmm, ok. I didn&#8217;t know about that..</div>
<div class="line">[Thursday 02 September 2010] [17:25:43] &lt;cremes&gt;    and now you know! ;)</div>
<div class="line">[Thursday 02 September 2010] [17:25:54] &lt;ModusPwnens&gt;   that would be under the issues section?</div>
<div class="line">[Thursday 02 September 2010] [17:26:12] &lt;cremes&gt;    correct</div>
<div class="line">[Thursday 02 September 2010] [17:26:34] &lt;ModusPwnens&gt;   Okay. Sorry about that..</div>
<div class="line">[Thursday 02 September 2010] [17:27:51] &lt;cremes&gt;    we all had to learn it at some point, so don&#8217;t worry about it</div>
<div class="line">[Thursday 02 September 2010] [18:31:17] &lt;ModusPwnens&gt;   ok, so it still crashes</div>
<div class="line">[Thursday 02 September 2010] [18:31:22] &lt;ModusPwnens&gt;   i will paste the output in as ec</div>
<div class="line">[Thursday 02 September 2010] [18:33:10] &lt;ModusPwnens&gt;   <a class="reference external" href="http://pastebin.com/GV4pxUth">http://pastebin.com/GV4pxUth</a></div>
<div class="line">[Thursday 02 September 2010] [18:33:20] &lt;ModusPwnens&gt;   I am using windows 7 on both computers</div>
<div class="line">[Thursday 02 September 2010] [18:33:36] &lt;ModusPwnens&gt;   The computer that generated the error is 64-bit as well</div>
<div class="line">[Thursday 02 September 2010] [18:34:29] &lt;ModusPwnens&gt;   the computer running local is only 32-bit</div>
<div class="line">[Thursday 02 September 2010] [20:07:47] &lt;bgranger&gt;  sustrik:  Just played with the EINTR logic.</div>
<div class="line">[Thursday 02 September 2010] [21:46:33] &lt;halfie&gt;    hi, does zeromq supports building of read-only queues with one writer and multiple readers?</div>
<div class="line">[Thursday 02 September 2010] [22:14:20] &lt;halfie&gt;    ls</div>
<div class="line">[Friday 03 September 2010] [01:54:31] &lt;guido_g&gt; g&#8217;mornin&#8217; (or whatever :)</div>
<div class="line">[Friday 03 September 2010] [01:57:54] &lt;guido_g&gt; sustrik: while not rocket science i think still something for the 250bpm page: <a class="reference external" href="http://queue.acm.org/detail.cfm?id=1854041">http://queue.acm.org/detail.cfm?id=1854041</a></div>
<div class="line">[Friday 03 September 2010] [02:20:51] &lt;sustrik&gt; guido_g: thanks, i&#8217;ll have a look</div>
<div class="line">[Friday 03 September 2010] [02:20:54] &lt;sustrik&gt; morning</div>
<div class="line">[Friday 03 September 2010] [02:21:01] &lt;sjampoo&gt; I am kinda sad to see that with each update I find it more difficult to navigate around zeromq.??? :(</div>
<div class="line">[Friday 03 September 2010] [02:22:05] &lt;sustrik&gt; sjampoo: i thought pieter reverted it to the original state</div>
<div class="line">[Friday 03 September 2010] [02:22:05] &lt;sustrik&gt; let me see</div>
<div class="line">[Friday 03 September 2010] [02:22:15] &lt;sustrik&gt; you mean the news should be in the right pane?</div>
<div class="line">[Friday 03 September 2010] [02:22:28] &lt;sjampoo&gt; yes, at the least</div>
<div class="line">[Friday 03 September 2010] [02:22:54] &lt;sustrik&gt; if you have any idea what to do further, just shoot</div>
<div class="line">[Friday 03 September 2010] [02:24:21] &lt;sjampoo&gt; first thing would be not to change it every month ;) and I send an email about it months ago to the list. I also do not really like the .com / .org split</div>
<div class="line">[Friday 03 September 2010] [02:24:49] &lt;sjampoo&gt; If the .org site is difficult to understand for new users, just make it more easy to understand</div>
<div class="line">[Friday 03 September 2010] [02:25:04] &lt;sustrik&gt; where would you put the community stuff?</div>
<div class="line">[Friday 03 September 2010] [02:25:20] &lt;sjampoo&gt; I would hide that on a separate but consistent page</div>
<div class="line">[Friday 03 September 2010] [02:25:33] &lt;sustrik&gt; www.zeromq.org/dev say?</div>
<div class="line">[Friday 03 September 2010] [02:25:42] &lt;sjampoo&gt; Yes, something like that.</div>
<div class="line">[Friday 03 September 2010] [02:26:00] &lt;sjampoo&gt; I mean only 0.005% is interested what the actual last edited page is.</div>
<div class="line">[Friday 03 September 2010] [02:26:22] &lt;sjampoo&gt; Most people interested in the community, will most likely just want to see GITHUB or the IssueList</div>
<div class="line">[Friday 03 September 2010] [02:26:35] &lt;sustrik&gt; no mailing list?</div>
<div class="line">[Friday 03 September 2010] [02:26:56] &lt;sjampoo&gt; and the mailinglist</div>
<div class="line">[Friday 03 September 2010] [02:27:06] &lt;sjampoo&gt; But I don&#8217;t think that should be on the frontpage</div>
<div class="line">[Friday 03 September 2010] [02:27:40] &lt;sustrik&gt; wouldn&#8217;t you mind clicking through a simple page each time to the dev page?</div>
<div class="line">[Friday 03 September 2010] [02:28:20] &lt;sjampoo&gt; No, not if it is at a consistent location</div>
<div class="line">[Friday 03 September 2010] [02:28:25] &lt;sjampoo&gt; I could bookmark it</div>
<div class="line">[Friday 03 September 2010] [02:28:29] &lt;sustrik&gt; right</div>
<div class="line">[Friday 03 September 2010] [02:28:42] &lt;sustrik&gt; in summary:</div>
<div class="line">[Friday 03 September 2010] [02:28:50] &lt;sustrik&gt; 1. move zeromq.com to zeromq.org</div>
<div class="line">[Friday 03 September 2010] [02:28:59] &lt;sustrik&gt; 2. move zeromq.org to zeromq.org/community</div>
<div class="line">[Friday 03 September 2010] [02:29:10] &lt;sustrik&gt; 3. move the news to the right pane</div>
<div class="line">[Friday 03 September 2010] [02:29:29] &lt;sustrik&gt; 4. get rid of recent site changes</div>
<div class="line">[Friday 03 September 2010] [02:29:37] &lt;sustrik&gt; that&#8217;s it?</div>
<div class="line">[Friday 03 September 2010] [02:30:15] &lt;sjampoo&gt; I am not completely sure what you mean with moving .com to .org.</div>
<div class="line">[Friday 03 September 2010] [02:30:20] &lt;sjampoo&gt; I am not a big fan of the .com design</div>
<div class="line">[Friday 03 September 2010] [02:30:36] &lt;sustrik&gt; that&#8217;s because you are part of community</div>
<div class="line">[Friday 03 September 2010] [02:30:44] &lt;sjampoo&gt; No, no</div>
<div class="line">[Friday 03 September 2010] [02:31:06] &lt;sjampoo&gt; I just don&#8217;t think that people landing on that site will get a good idea about what 0mq is</div>
<div class="line">[Friday 03 September 2010] [02:31:20] &lt;sustrik&gt; ok, here&#8217;s the use case:</div>
<div class="line">[Friday 03 September 2010] [02:31:21] &lt;sjampoo&gt; It needs a little more meat</div>
<div class="line">[Friday 03 September 2010] [02:31:46] &lt;sustrik&gt; you have a problem and someone advises you 0mq may help to solve it</div>
<div class="line">[Friday 03 September 2010] [02:31:55] &lt;sustrik&gt; you type zeromq into goodle</div>
<div class="line">[Friday 03 September 2010] [02:31:58] &lt;sustrik&gt; google</div>
<div class="line">[Friday 03 September 2010] [02:32:15] &lt;sustrik&gt; which, ideally, would bring you to what&#8217;s now zeromq.com</div>
<div class="line">[Friday 03 September 2010] [02:32:27] &lt;sustrik&gt; you are under time stress</div>
<div class="line">[Friday 03 September 2010] [02:32:36] &lt;sustrik&gt; so you cannot browse around much</div>
<div class="line">[Friday 03 September 2010] [02:32:41] &lt;sustrik&gt; what you need to know:</div>
<div class="line">[Friday 03 September 2010] [02:32:56] &lt;sustrik&gt; 1. what is it about (very roughly)</div>
<div class="line">[Friday 03 September 2010] [02:33:00] &lt;sustrik&gt; 2. does it run on my OS</div>
<div class="line">[Friday 03 September 2010] [02:33:09] &lt;sustrik&gt; 3. does it work with my language</div>
<div class="line">[Friday 03 September 2010] [02:33:37] &lt;sustrik&gt; 4. i want to see a simple code example just to make sure it&#8217;s not a utter shit</div>
<div class="line">[Friday 03 September 2010] [02:33:49] &lt;sustrik&gt; after that i want a one click download</div>
<div class="line">[Friday 03 September 2010] [02:34:09] &lt;sjampoo&gt; All that is true, but you are missing the biggest yet.</div>
<div class="line">[Friday 03 September 2010] [02:34:15] &lt;sustrik&gt; yes?</div>
<div class="line">[Friday 03 September 2010] [02:34:16] &lt;sjampoo&gt; &#8220;Why should I care&#8221;</div>
<div class="line">[Friday 03 September 2010] [02:34:27] &lt;sustrik&gt; because i have a problem to solve</div>
<div class="line">[Friday 03 September 2010] [02:34:37] &lt;sustrik&gt; i have to deliver tomorrow</div>
<div class="line">[Friday 03 September 2010] [02:34:52] &lt;sustrik&gt; network part is still missing :(</div>
<div class="line">[Friday 03 September 2010] [02:34:53] &lt;sustrik&gt; etc.</div>
<div class="line">[Friday 03 September 2010] [02:35:11] &lt;sjampoo&gt; Yes, but that isn&#8217;t explained currently on zmq.com</div>
<div class="line">[Friday 03 September 2010] [02:35:27] &lt;sustrik&gt; it can be improved obviously</div>
<div class="line">[Friday 03 September 2010] [02:35:39] &lt;sustrik&gt; but the main point is that most people are not browsing for fun</div>
<div class="line">[Friday 03 September 2010] [02:35:44] &lt;sustrik&gt; they are looking for solution</div>
<div class="line">[Friday 03 September 2010] [02:36:16] &lt;sustrik&gt; so what they ask is &#8220;would this solve my problem&#8221; rather then &#8220;what it is good for&#8221;</div>
<div class="line">[Friday 03 September 2010] [02:36:24] &lt;sjampoo&gt; Absolutetely. Ok, I would really add a link sidebar on the left side of zeromq.com</div>
<div class="line">[Friday 03 September 2010] [02:36:58] &lt;sustrik&gt; what links?</div>
<div class="line">[Friday 03 September 2010] [02:38:16] &lt;sjampoo&gt; all the &#8216;content&#8217; links on zeromq.org, links to Github, Blog and Mailinglist</div>
<div class="line">[Friday 03 September 2010] [02:38:40] &lt;sustrik&gt; too confusing imo</div>
<div class="line">[Friday 03 September 2010] [02:39:09] &lt;sustrik&gt; that&#8217;s good once you are using the thing</div>
<div class="line">[Friday 03 September 2010] [02:39:34] &lt;sustrik&gt; the zeromq.com is there just to streamline the process up to the dowload phase</div>
<div class="line">[Friday 03 September 2010] [02:40:35] &lt;sustrik&gt; once you&#8217;re developing with 0mq you would naturally switch to the community site</div>
<div class="line">[Friday 03 September 2010] [02:41:34]    * lestrrat didn&#8217;t even know there was a zeromq.com</div>
<div class="line">[Friday 03 September 2010] [02:41:57] &lt;sustrik&gt; it&#8217;s new</div>
<div class="line">[Friday 03 September 2010] [02:42:06] &lt;sustrik&gt; created day before yesterdat</div>
<div class="line">[Friday 03 September 2010] [02:43:23] &lt;sustrik&gt; sjampoo: i think you are right about .org, it&#8217;s less readable now</div>
<div class="line">[Friday 03 September 2010] [02:43:36] &lt;sustrik&gt; but .com (or however it is called) has it meaning</div>
<div class="line">[Friday 03 September 2010] [02:43:57] &lt;sustrik&gt; althought the user it is aimed at are invisible to you &#8211; visible through google analytics though</div>
<div class="line">[Friday 03 September 2010] [02:44:37] &lt;sjampoo&gt; sustrik: I can see what it tries to do, but I am afraid that zeromq.com in its current state will not leave the user with a &#8216;WOW&#8217; feeling.</div>
<div class="line">[Friday 03 September 2010] [02:44:56] &lt;sustrik&gt; that&#8217;s not it goal i think</div>
<div class="line">[Friday 03 September 2010] [02:44:57] &lt;sjampoo&gt; Atleast get some sort of &#8216;Who is already using zeromq&#8217;</div>
<div class="line">[Friday 03 September 2010] [02:45:08] &lt;sustrik&gt; hm</div>
<div class="line">[Friday 03 September 2010] [02:45:23] &lt;sustrik&gt; do you look at that kind of think when inspecting unknown projects?</div>
<div class="line">[Friday 03 September 2010] [02:45:35] &lt;sjampoo&gt; sustrik: absolutely</div>
<div class="line">[Friday 03 September 2010] [02:45:42] &lt;sjampoo&gt; Is it <em>worth</em> my time to investigate</div>
<div class="line">[Friday 03 September 2010] [02:45:48] &lt;sjampoo&gt; will it gain me anything?</div>
<div class="line">[Friday 03 September 2010] [02:45:54] &lt;sjampoo&gt; Or is it something flunky and experimental</div>
<div class="line">[Friday 03 September 2010] [02:46:06] &lt;sustrik&gt; it may be part of &#8220;making sure it&#8217;s not a shit&#8221; step</div>
<div class="line">[Friday 03 September 2010] [02:46:17] &lt;sjampoo&gt; exactly</div>
<div class="line">[Friday 03 September 2010] [02:47:06] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.com/page:read-the-manual">http://www.zeromq.com/page:read-the-manual</a></div>
<div class="line">[Friday 03 September 2010] [02:47:18] &lt;sustrik&gt; what about the &#8220;introductions&#8221;?</div>
<div class="line">[Friday 03 September 2010] [02:47:23] &lt;sustrik&gt; not good enough?</div>
<div class="line">[Friday 03 September 2010] [02:47:55] &lt;sjampoo&gt; well, I was more thinking about some company profiles that are currently using zeromq</div>
<div class="line">[Friday 03 September 2010] [02:48:52] &lt;sjampoo&gt; And it really should be put on the front page, especially if you take the (no doubt high) bounce rate into account.</div>
<div class="line">[Friday 03 September 2010] [02:49:06] &lt;sustrik&gt; does reading a list of company names you never heard about before make you more happy then quotes?</div>
<div class="line">[Friday 03 September 2010] [02:49:16] &lt;sjampoo&gt; hehe</div>
<div class="line">[Friday 03 September 2010] [02:49:16] &lt;sustrik&gt; (i&#8217;m not trolling, i&#8217;m really interested)</div>
<div class="line">[Friday 03 September 2010] [02:49:26] &lt;sjampoo&gt; sustrik: interesting question</div>
<div class="line">[Friday 03 September 2010] [02:49:33] &lt;sjampoo&gt; no, I think both are well</div>
<div class="line">[Friday 03 September 2010] [02:49:38] &lt;sjampoo&gt; uh i mean will do</div>
<div class="line">[Friday 03 September 2010] [02:49:48] &lt;sjampoo&gt; And I am pretty sure that it doesn&#8217;t really matter who says what</div>
<div class="line">[Friday 03 September 2010] [02:50:07] &lt;sjampoo&gt; that&#8217;s why astroturfing is so succesful.</div>
<div class="line">[Friday 03 September 2010] [02:50:18] &lt;sjampoo&gt; We people are so sensitive to what others think</div>
<div class="line">[Friday 03 September 2010] [02:50:46] &lt;sustrik&gt; yeah, but its unlikely to get madonna say anything about 0mq</div>
<div class="line">[Friday 03 September 2010] [02:50:57] &lt;sustrik&gt; so you are still stuck with quotes from people you don&#8217;t know</div>
<div class="line">[Friday 03 September 2010] [02:51:19] &lt;sjampoo&gt; exactly, and that doesn&#8217;t matter</div>
<div class="line">[Friday 03 September 2010] [02:51:28] &lt;sustrik&gt; yes, quote just sounds well</div>
<div class="line">[Friday 03 September 2010] [02:51:40] &lt;sustrik&gt; because someone invested 10 seconds to write it</div>
<div class="line">[Friday 03 September 2010] [02:52:12] &lt;sustrik&gt; company name is less personal</div>
<div class="line">[Friday 03 September 2010] [02:53:13] &lt;sustrik&gt; now, as for moving it to front page</div>
<div class="line">[Friday 03 September 2010] [02:53:27] &lt;sustrik&gt; do you read endorsements first?</div>
<div class="line">[Friday 03 September 2010] [02:53:47] &lt;sustrik&gt; even before what the project is and whether it will run with your OS/language</div>
<div class="line">[Friday 03 September 2010] [02:54:07]    * sustrik is doing it other way round</div>
<div class="line">[Friday 03 September 2010] [02:56:12] &lt;sjampoo&gt; I usually read from top top bottom, but sometime I get distracted by bigger and bolder fonts.</div>
<div class="line">[Friday 03 September 2010] [02:56:26] &lt;sjampoo&gt; and when your lucky I actually click on a link instead of back</div>
<div class="line">[Friday 03 September 2010] [02:56:35] &lt;sustrik&gt; hm</div>
<div class="line">[Friday 03 September 2010] [02:56:53] &lt;sustrik&gt; what i do is a type keywords into google bar</div>
<div class="line">[Friday 03 September 2010] [02:57:03] &lt;sustrik&gt; i get a list of more or less matching projects</div>
<div class="line">[Friday 03 September 2010] [02:57:13] &lt;guido_g&gt; re</div>
<div class="line">[Friday 03 September 2010] [02:57:21] &lt;sustrik&gt; then i look at each one discarding those that won&#8217;t fit</div>
<div class="line">[Friday 03 September 2010] [02:57:27] &lt;sjampoo&gt; sustrik: yes, exactly</div>
<div class="line">[Friday 03 September 2010] [02:57:28] &lt;guido_g&gt; ahhh web site issues :)</div>
<div class="line">[Friday 03 September 2010] [02:57:32] &lt;sustrik&gt; i spend say 30 seconds on each page</div>
<div class="line">[Friday 03 September 2010] [02:57:43] &lt;guido_g&gt; could one please reconsider the size of the logo?</div>
<div class="line">[Friday 03 September 2010] [02:57:53] &lt;sustrik&gt; do you want it bigger?</div>
<div class="line">[Friday 03 September 2010] [02:57:55] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 03 September 2010] [02:57:59] &lt;guido_g&gt; when viewed on small screen its taking too much space</div>
<div class="line">[Friday 03 September 2010] [02:58:09]    * sustrik makes a note</div>
<div class="line">[Friday 03 September 2010] [02:58:11] &lt;guido_g&gt; sustrik: bad boy! :)</div>
<div class="line">[Friday 03 September 2010] [02:58:28] &lt;guido_g&gt; it&#8217;s more than 1/3 of vertical screen space</div>
<div class="line">[Friday 03 September 2010] [02:58:36] &lt;sjampoo&gt; For a page to appear in Google it needs to be indexed with the right terms.</div>
<div class="line">[Friday 03 September 2010] [02:58:38] &lt;sustrik&gt; what&#8217;s you screen size?</div>
<div class="line">[Friday 03 September 2010] [02:58:42] &lt;sustrik&gt; just for reference</div>
<div class="line">[Friday 03 September 2010] [02:58:57] &lt;guido_g&gt; and this color makes one aggressive...</div>
<div class="line">[Friday 03 September 2010] [02:59:05] &lt;guido_g&gt; 13.6&#8217;&#8216;</div>
<div class="line">[Friday 03 September 2010] [02:59:14] &lt;sustrik&gt; i meant in pixels</div>
<div class="line">[Friday 03 September 2010] [02:59:15] &lt;sjampoo&gt; guido_g: ah yes colors</div>
<div class="line">[Friday 03 September 2010] [02:59:19] &lt;sjampoo&gt; lets discuss that next</div>
<div class="line">[Friday 03 September 2010] [02:59:30]    * sjampoo grins</div>
<div class="line">[Friday 03 September 2010] [02:59:42] &lt;sjampoo&gt; I actually like the red big logo</div>
<div class="line">[Friday 03 September 2010] [02:59:57] &lt;sustrik&gt; yes, i thought of red logo + shades of grey underneath</div>
<div class="line">[Friday 03 September 2010] [03:00:09] &lt;guido_g&gt; 1280x800</div>
<div class="line">[Friday 03 September 2010] [03:00:15] &lt;sjampoo&gt; it would make a nice tattoo</div>
<div class="line">[Friday 03 September 2010] [03:00:15] &lt;sustrik&gt; it&#8217;s kind of dull, but maybe hurts eyes less</div>
<div class="line">[Friday 03 September 2010] [03:00:30] &lt;sustrik&gt; guido_g: thanks</div>
<div class="line">[Friday 03 September 2010] [03:01:06] &lt;sustrik&gt; let&#8217;s finish the content thing:</div>
<div class="line">[Friday 03 September 2010] [03:01:08] &lt;guido_g&gt; it&#8217;s not that bad when using 1920x1200 on a 27&#8217;&#8217; display</div>
<div class="line">[Friday 03 September 2010] [03:01:26] &lt;sustrik&gt; so the front page at zeromq.com is meant to convey, in 30 secs</div>
<div class="line">[Friday 03 September 2010] [03:01:34] &lt;guido_g&gt; but still, takes to much space that could&#8217;ve been used for better things</div>
<div class="line">[Friday 03 September 2010] [03:01:39] &lt;sustrik&gt; whether the project is usable in your particular case or not</div>
<div class="line">[Friday 03 September 2010] [03:01:54] &lt;sustrik&gt; guido_g: yes, we can do some experimenting with it</div>
<div class="line">[Friday 03 September 2010] [03:02:37] &lt;guido_g&gt; if it should be for new users, why <em>must</em> i have cookies allowed then?</div>
<div class="line">[Friday 03 September 2010] [03:02:57] &lt;sustrik&gt; what does it do if you don&#8217;t?</div>
<div class="line">[Friday 03 September 2010] [03:03:13] &lt;guido_g&gt; it shows a message to activate cookies</div>
<div class="line">[Friday 03 September 2010] [03:03:21] &lt;sustrik&gt; yuck</div>
<div class="line">[Friday 03 September 2010] [03:03:33]    * sustrik is not a web person, let me ask pieter</div>
<div class="line">[Friday 03 September 2010] [03:03:33] &lt;guido_g&gt; Can&#8217;t proceed, you should accept cookies for this domain.</div>
<div class="line">[Friday 03 September 2010] [03:03:33] &lt;guido_g&gt; Then you can go back to <a class="reference external" href="http://www.zeromq.com/">http://www.zeromq.com/</a></div>
<div class="line">[Friday 03 September 2010] [03:03:50] &lt;guido_g&gt; url: <a class="reference external" href="http://www.zeromq.com/domainauth.php?confirm=cookie&amp;url=http%3A%2F%2Fwww.zeromq.com%2F">http://www.zeromq.com/domainauth.php?confirm=cookie&amp;url=http%3A%2F%2Fwww.zeromq.com%2F</a></div>
<div class="line">[Friday 03 September 2010] [03:04:23] &lt;guido_g&gt; i mean, i know mq, so i&#8217;ll activate cookies</div>
<div class="line">[Friday 03 September 2010] [03:04:45] &lt;guido_g&gt; but if this would have been the first impression, i&#8217;d closed the tab</div>
<div class="line">[Friday 03 September 2010] [03:05:07] &lt;sustrik&gt; right, i am not sure what may be the case. if it&#8217;s wikidot requiring the cookies we can move the page elsewhere</div>
<div class="line">[Friday 03 September 2010] [03:05:20] &lt;guido_g&gt; i think it&#8217;s wikidot</div>
<div class="line">[Friday 03 September 2010] [03:05:23] &lt;sustrik&gt; it doesn&#8217;t have to be a wiki after all</div>
<div class="line">[Friday 03 September 2010] [03:05:42] &lt;guido_g&gt; because you need to allow cross-domain cookies (or how they&#8217;re called)</div>
<div class="line">[Friday 03 September 2010] [03:06:01] &lt;sustrik&gt; does that happen with .org as well?</div>
<div class="line">[Friday 03 September 2010] [03:06:16] &lt;guido_g&gt; a community site should be accessible even for users taking their privacy serious</div>
<div class="line">[Friday 03 September 2010] [03:06:25] &lt;guido_g&gt; i&#8217;ll take a look</div>
<div class="line">[Friday 03 September 2010] [03:06:46] &lt;guido_g&gt; yes</div>
<div class="line">[Friday 03 September 2010] [03:08:10] &lt;guido_g&gt; btw, wikidot cookies</div>
<div class="line">[Friday 03 September 2010] [03:09:39] &lt;sustrik&gt; hm, i switched off cookies and it still works for me</div>
<div class="line">[Friday 03 September 2010] [03:09:50] &lt;sustrik&gt; what browser are you using?</div>
<div class="line">[Friday 03 September 2010] [03:10:00] &lt;guido_g&gt; btw, i think for the community site we don&#8217;t need a large funny picture at the top of the entry page</div>
<div class="line">[Friday 03 September 2010] [03:10:09] &lt;guido_g&gt; opera 10.60</div>
<div class="line">[Friday 03 September 2010] [03:11:58] &lt;sustrik&gt; hm</div>
<div class="line">[Friday 03 September 2010] [03:12:14] &lt;guido_g&gt; i don&#8217;t like the sound of &#8220;hm&#8221; :)</div>
<div class="line">[Friday 03 September 2010] [03:12:52] &lt;sustrik&gt; i was just wondering if i should install opera :)</div>
<div class="line">[Friday 03 September 2010] [03:13:05] &lt;guido_g&gt; hehe</div>
<div class="line">[Friday 03 September 2010] [03:13:09] &lt;sustrik&gt; but let&#8217;s rather ask at wikidot</div>
<div class="line">[Friday 03 September 2010] [03:13:14]    * sustrik makes another note</div>
<div class="line">[Friday 03 September 2010] [03:13:24] &lt;guido_g&gt; ok, thx for listening</div>
<div class="line">[Friday 03 September 2010] [03:13:47]    * guido_g is off to $day-job</div>
<div class="line">[Friday 03 September 2010] [03:13:52] &lt;sustrik&gt; thanks for the feedback</div>
<div class="line">[Friday 03 September 2010] [03:14:01] &lt;guido_g&gt; no problem</div>
<div class="line">[Friday 03 September 2010] [03:47:33] &lt;guido_g&gt; re</div>
<div class="line">[Friday 03 September 2010] [04:13:34] &lt;sustrik&gt; guido_g: the article at acm queue is good</div>
<div class="line">[Friday 03 September 2010] [04:13:45] &lt;sustrik&gt; i wanted to write something like this for a long time</div>
<div class="line">[Friday 03 September 2010] [04:13:53] &lt;sustrik&gt; but never had enough time to actually do it</div>
<div class="line">[Friday 03 September 2010] [04:14:25] &lt;guido_g&gt; oh, so another dream died  :)</div>
<div class="line">[Friday 03 September 2010] [04:14:30] &lt;<a href="#id72"><span class="problematic" id="id73">halfie_</span></a>&gt; hi, can I modify the publish-subscribe model so that the &#8220;queue&#8221; is read-only?</div>
<div class="line">[Friday 03 September 2010] [04:14:32] &lt;<a href="#id74"><span class="problematic" id="id75">halfie_</span></a>&gt; I don</div>
<div class="line">[Friday 03 September 2010] [04:14:53] &lt;guido_g&gt; huh?</div>
<div class="line">[Friday 03 September 2010] [04:14:57] &lt;guido_g&gt; what does that mean?</div>
<div class="line">[Friday 03 September 2010] [04:15:04] &lt;guido_g&gt; SUB sockets are read only...</div>
<div class="line">[Friday 03 September 2010] [04:15:41] &lt;<a href="#id76"><span class="problematic" id="id77">halfie_</span></a>&gt; guido_g, I mean that the subscriber shouldn&#8217;t remove the message</div>
<div class="line">[Friday 03 September 2010] [04:15:57] &lt;sustrik&gt; you need a database, not a messaging system</div>
<div class="line">[Friday 03 September 2010] [04:16:18] &lt;sustrik&gt; publisher -&gt; INSERT</div>
<div class="line">[Friday 03 September 2010] [04:16:19] &lt;guido_g&gt; ack</div>
<div class="line">[Friday 03 September 2010] [04:16:23] &lt;sustrik&gt; subscriber -&gt; SELECT</div>
<div class="line">[Friday 03 September 2010] [04:17:01] &lt;<a href="#id78"><span class="problematic" id="id79">halfie_</span></a>&gt; I see, makes sense.</div>
<div class="line">[Friday 03 September 2010] [04:17:31] &lt;<a href="#id80"><span class="problematic" id="id81">halfie_</span></a>&gt; some kind of in-memory database with &#8220;queue&#8221; semantics would solve the problem</div>
<div class="line">[Friday 03 September 2010] [04:18:11] &lt;guido_g&gt; berkeley db</div>
<div class="line">[Friday 03 September 2010] [04:18:52] &lt;guido_g&gt; <a class="reference external" href="http://www.oracle.com/technetwork/database/berkeleydb/overview/index.html">http://www.oracle.com/technetwork/database/berkeleydb/overview/index.html</a></div>
<div class="line">[Friday 03 September 2010] [04:19:12] &lt;mato&gt;    &#8216;morning</div>
<div class="line">[Friday 03 September 2010] [04:19:50] &lt;<a href="#id82"><span class="problematic" id="id83">halfie_</span></a>&gt; guido_g, thanks, I will give it a shot. sustrik: thanks for clearing the situation :)</div>
<div class="line">[Friday 03 September 2010] [04:20:20] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 03 September 2010] [04:20:27] &lt;sustrik&gt; mato: morning</div>
<div class="line">[Friday 03 September 2010] [04:20:34] &lt;sustrik&gt; a question</div>
<div class="line">[Friday 03 September 2010] [04:20:38] &lt;mato&gt;    yup?</div>
<div class="line">[Friday 03 September 2010] [04:20:39] &lt;sustrik&gt; a signal question!</div>
<div class="line">[Friday 03 September 2010] [04:20:40] &lt;guido_g&gt; hi mato</div>
<div class="line">[Friday 03 September 2010] [04:20:45] &lt;mato&gt;    hi guido</div>
<div class="line">[Friday 03 September 2010] [04:20:51] &lt;sustrik&gt; imagine this:</div>
<div class="line">[Friday 03 September 2010] [04:21:03] &lt;sustrik&gt; binding calls 0mq&#8217;s blocking function</div>
<div class="line">[Friday 03 September 2010] [04:21:20] &lt;sustrik&gt; 99% of the time is spent in OS&#8217;s blocking call</div>
<div class="line">[Friday 03 September 2010] [04:21:32] &lt;sustrik&gt; 1% of time some 0mq processing is being done</div>
<div class="line">[Friday 03 September 2010] [04:21:46] &lt;sustrik&gt; what if user Ctrl+C&#8217;s during the 1%?</div>
<div class="line">[Friday 03 September 2010] [04:21:55] &lt;mato&gt;    too bad</div>
<div class="line">[Friday 03 September 2010] [04:21:58] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 03 September 2010] [04:22:02] &lt;mato&gt;    it&#8217;ll get delivered late</div>
<div class="line">[Friday 03 September 2010] [04:22:06] &lt;mato&gt;    nothing you can do about that</div>
<div class="line">[Friday 03 September 2010] [04:22:23] &lt;mato&gt;    well, there are various weird hacks you can do about that, but believe me, you don&#8217;t want to go there</div>
<div class="line">[Friday 03 September 2010] [04:22:29] &lt;sustrik&gt; it won&#8217;t be delivered at all no?</div>
<div class="line">[Friday 03 September 2010] [04:22:50] &lt;sustrik&gt; the handler runs, sets a bit</div>
<div class="line">[Friday 03 September 2010] [04:23:02] &lt;sustrik&gt; there&#8217;s no blocking call for OS to interrupt</div>
<div class="line">[Friday 03 September 2010] [04:23:06] &lt;sustrik&gt; so nothing happens</div>
<div class="line">[Friday 03 September 2010] [04:23:11] &lt;mato&gt;    hmm</div>
<div class="line">[Friday 03 September 2010] [04:23:16] &lt;sustrik&gt; 0mq then calls a blocking call</div>
<div class="line">[Friday 03 September 2010] [04:23:20] &lt;sustrik&gt; and freezes</div>
<div class="line">[Friday 03 September 2010] [04:23:47] &lt;mato&gt;    oh dear</div>
<div class="line">[Friday 03 September 2010] [04:23:50] &lt;mato&gt;    yes, you may be right</div>
<div class="line">[Friday 03 September 2010] [04:24:02] &lt;sustrik&gt; the whole EINTR thing seems broken</div>
<div class="line">[Friday 03 September 2010] [04:24:06] &lt;mato&gt;    i have always said signal handling is broken</div>
<div class="line">[Friday 03 September 2010] [04:24:10] &lt;mato&gt;    to put it very politely</div>
<div class="line">[Friday 03 September 2010] [04:24:16] &lt;sustrik&gt; is there <em>any</em> way to make it work?</div>
<div class="line">[Friday 03 September 2010] [04:24:31] &lt;mato&gt;    hmm, well, maybe</div>
<div class="line">[Friday 03 September 2010] [04:24:42] &lt;sustrik&gt; imagine you are omnipotent</div>
<div class="line">[Friday 03 September 2010] [04:24:44] &lt;mato&gt;    but it&#8217;s so horribly racy i wouldn&#8217;t want to go there</div>
<div class="line">[Friday 03 September 2010] [04:24:56] &lt;mato&gt;    oh, if i&#8217;m omnipotent then 0mq is in kernel space, problem goes away</div>
<div class="line">[Friday 03 September 2010] [04:24:57] &lt;sustrik&gt; you can change the language runtimes etc.</div>
<div class="line">[Friday 03 September 2010] [04:25:08] &lt;mato&gt;    ah, less than god (linus), ok...</div>
<div class="line">[Friday 03 September 2010] [04:25:11] &lt;mato&gt;    just a sub-god :)</div>
<div class="line">[Friday 03 September 2010] [04:25:22] &lt;sustrik&gt; what i&#8217;m asking: is there a canonical way to use EINTR</div>
<div class="line">[Friday 03 September 2010] [04:25:28] &lt;sustrik&gt; something that works?</div>
<div class="line">[Friday 03 September 2010] [04:25:31] &lt;mato&gt;    well, there is a canonical way i would do it</div>
<div class="line">[Friday 03 September 2010] [04:25:40] &lt;mato&gt;    this is one of the ideas i had yesterday</div>
<div class="line">[Friday 03 September 2010] [04:25:44] &lt;mato&gt;    it might not be right</div>
<div class="line">[Friday 03 September 2010] [04:25:48]    * sustrik is listening</div>
<div class="line">[Friday 03 September 2010] [04:25:50] &lt;mato&gt;    but assuming you can hack the language runtime</div>
<div class="line">[Friday 03 September 2010] [04:26:36] &lt;mato&gt;    then what you need to do is chuck a call to a thread-safe &#8220;zmq_interrupt()&#8221; into the low-level signal handler in the runtime</div>
<div class="line">[Friday 03 September 2010] [04:26:41] &lt;mato&gt;    i.e. the bit that &#8220;sets a flag&#8221;</div>
<div class="line">[Friday 03 September 2010] [04:26:58] &lt;mato&gt;    this zmq_interrupt() would cause all application API calls to immediately return with EINTR</div>
<div class="line">[Friday 03 September 2010] [04:27:13] &lt;mato&gt;    it&#8217;s ugly, but it should work</div>
<div class="line">[Friday 03 September 2010] [04:27:37] &lt;sustrik&gt; tweaking it a bit you end up with chained signal handlers</div>
<div class="line">[Friday 03 September 2010] [04:27:49] &lt;mato&gt;    yes, except there&#8217;s no API for that</div>
<div class="line">[Friday 03 September 2010] [04:27:53] &lt;sustrik&gt; exactly</div>
<div class="line">[Friday 03 September 2010] [04:27:59] &lt;mato&gt;    so you don&#8217;t want to go there :)</div>
<div class="line">[Friday 03 September 2010] [04:28:08] &lt;mato&gt;    trying to emulate chained signal handlers is madness</div>
<div class="line">[Friday 03 September 2010] [04:28:16] &lt;sustrik&gt; so the whole system is really broken</div>
<div class="line">[Friday 03 September 2010] [04:28:20] &lt;mato&gt;    yes</div>
<div class="line">[Friday 03 September 2010] [04:28:46] &lt;sustrik&gt; ok, what i do is froward the EINTR to the binding</div>
<div class="line">[Friday 03 September 2010] [04:28:49] &lt;mato&gt;    it doesn&#8217;t account for the fact that more than one &#8220;entity&#8221; inside the application might want to know if a signal arrived</div>
<div class="line">[Friday 03 September 2010] [04:28:54] &lt;sustrik&gt; that would work in99% of cases</div>
<div class="line">[Friday 03 September 2010] [04:29:10] &lt;sustrik&gt; the rest...</div>
<div class="line">[Friday 03 September 2010] [04:29:11] &lt;mato&gt;    &#8220;forward the EINTR to the binding&#8221;? how?</div>
<div class="line">[Friday 03 September 2010] [04:29:11] &lt;sustrik&gt; shrug</div>
<div class="line">[Friday 03 September 2010] [04:29:25] &lt;sustrik&gt; if (errno == EINTR) return -1;</div>
<div class="line">[Friday 03 September 2010] [04:29:30] &lt;mato&gt;    oh, that, yes...</div>
<div class="line">[Friday 03 September 2010] [04:29:34] &lt;mato&gt;    hmm</div>
<div class="line">[Friday 03 September 2010] [04:29:39] &lt;mato&gt;    let me check something</div>
<div class="line">[Friday 03 September 2010] [04:44:26] &lt;mato&gt;    sustrik: ok, so, yes, forwarding EINTR is the only way at the moment</div>
<div class="line">[Friday 03 September 2010] [04:44:33] &lt;sustrik&gt; ack</div>
<div class="line">[Friday 03 September 2010] [04:44:41] &lt;sustrik&gt; well, there&#8217;s another wat</div>
<div class="line">[Friday 03 September 2010] [04:44:43] &lt;sustrik&gt; way</div>
<div class="line">[Friday 03 September 2010] [04:44:45] &lt;mato&gt;    yes?</div>
<div class="line">[Friday 03 September 2010] [04:45:03] &lt;sustrik&gt; on each entry to potentially blocking 0mq function</div>
<div class="line">[Friday 03 September 2010] [04:45:11] &lt;sustrik&gt; store the old signal handler</div>
<div class="line">[Friday 03 September 2010] [04:45:14] &lt;sustrik&gt; install your own</div>
<div class="line">[Friday 03 September 2010] [04:45:15] &lt;sustrik&gt; etc.</div>
<div class="line">[Friday 03 September 2010] [04:45:25] &lt;sustrik&gt; then on exit return it to the original state</div>
<div class="line">[Friday 03 September 2010] [04:45:27] &lt;mato&gt;    that&#8217;s the naive way, yes</div>
<div class="line">[Friday 03 September 2010] [04:45:29] &lt;mato&gt;    except</div>
<div class="line">[Friday 03 September 2010] [04:45:35] &lt;mato&gt;    IT WILL NEVER WORK :)</div>
<div class="line">[Friday 03 September 2010] [04:45:41] &lt;sustrik&gt; why so?</div>
<div class="line">[Friday 03 September 2010] [04:46:09] &lt;mato&gt;    because, and this is what i just double-checked, all the POSIX docs explicitly say &#8220;never, ever, ever, try to mix different signal handling mechanisms and threads&#8221;</div>
<div class="line">[Friday 03 September 2010] [04:46:25] &lt;mato&gt;    phone, hang on</div>
<div class="line">[Friday 03 September 2010] [04:46:56] &lt;sustrik&gt; not sure what that means, but ok, i don&#8217;t want to implement that kind of hack anyway</div>
<div class="line">[Friday 03 September 2010] [04:48:28] &lt;mato&gt;    let me explain</div>
<div class="line">[Friday 03 September 2010] [04:48:40] &lt;mato&gt;    the problem is it only works if you have 1 thread</div>
<div class="line">[Friday 03 September 2010] [04:48:41] &lt;mato&gt;    1 OS thread</div>
<div class="line">[Friday 03 September 2010] [04:48:45] &lt;mato&gt;    and no more</div>
<div class="line">[Friday 03 September 2010] [04:49:18] &lt;mato&gt;    if you start doing that kind of stuff it will break any application that might actually trying to be do things the right way in a MT envinronment, which is using a sigwait() thread</div>
<div class="line">[Friday 03 September 2010] [04:49:29] &lt;mato&gt;    you have no way of knowing what the application is doing...</div>
<div class="line">[Friday 03 September 2010] [04:49:34] &lt;mato&gt;    does that make sense?</div>
<div class="line">[Friday 03 September 2010] [04:50:00] &lt;sustrik&gt; i have no idea how sigwait style interacts with the classic style</div>
<div class="line">[Friday 03 September 2010] [04:50:13] &lt;mato&gt;    badly</div>
<div class="line">[Friday 03 September 2010] [04:50:16] &lt;mato&gt;    i.e. never do that</div>
<div class="line">[Friday 03 September 2010] [04:50:16] &lt;sustrik&gt; but i don&#8217;t really care</div>
<div class="line">[Friday 03 September 2010] [04:50:30] &lt;sustrik&gt; so for now i&#8217;ll return EINTR</div>
<div class="line">[Friday 03 September 2010] [04:50:31] &lt;mato&gt;    yeah, but if you start mucking with signal handlers then you start caring :)</div>
<div class="line">[Friday 03 September 2010] [04:50:33] &lt;sustrik&gt; when available</div>
<div class="line">[Friday 03 September 2010] [04:50:37] &lt;mato&gt;    yes</div>
<div class="line">[Friday 03 September 2010] [04:50:49] &lt;mato&gt;    returning EINTR will solve the problem &#8220;most of the time&#8221;</div>
<div class="line">[Friday 03 September 2010] [04:50:50] &lt;sustrik&gt; so sometimes Ctrl+C won&#8217;t work</div>
<div class="line">[Friday 03 September 2010] [04:50:58] &lt;mato&gt;    but you can still get signal loss someimes</div>
<div class="line">[Friday 03 September 2010] [04:51:01] &lt;sustrik&gt; however, user can press Ctrl+C again</div>
<div class="line">[Friday 03 September 2010] [04:51:11] &lt;mato&gt;    this just needs to be documented, that&#8217;s all</div>
<div class="line">[Friday 03 September 2010] [04:51:35]    * mato sees the 0MQ FAQ on signal handling becoming into a treatise on the brokenness of signals :)</div>
<div class="line">[Friday 03 September 2010] [04:52:03] &lt;sustrik&gt; yeah</div>
<div class="line">[Friday 03 September 2010] [04:52:11] &lt;mato&gt;    sustrik: anyway, can i suggest the following process for this:</div>
<div class="line">[Friday 03 September 2010] [04:52:28] &lt;mato&gt;    sustrik: 1. Test the solution, as discussed yesterday.</div>
<div class="line">[Friday 03 September 2010] [04:52:43] &lt;mato&gt;    sustrik: 2. Post a patch for review, along with your &#8220;I&#8217;m (almost) an idiot, sorry&#8221;</div>
<div class="line">[Friday 03 September 2010] [04:53:19] &lt;mato&gt;    sustrik: 3. I will reply to that describing all I know about the problem so that the binding people can understand what&#8217;s going on (since they&#8217;re the most affected)</div>
<div class="line">[Friday 03 September 2010] [04:53:56] &lt;mato&gt;    sustrik: 4. Some consensus will be reached on whether or not this goes into 2.0.x (I&#8217;m not opposed either way, it&#8217;s a fix for breakage on our part)</div>
<div class="line">[Friday 03 September 2010] [04:54:30] &lt;mato&gt;    sustrik: 5. We may learn something useful from the discussion, and I can also bring up the zmq_interrupt() idea which might give a solution for those language runtimes that want to solve this 100%...</div>
<div class="line">[Friday 03 September 2010] [04:54:41] &lt;mato&gt;    sustrik: what do you think?</div>
<div class="line">[Friday 03 September 2010] [04:56:31] &lt;mato&gt;    phone call, back in 20mins</div>
<div class="line">[Friday 03 September 2010] [04:56:33] &lt;pieterh&gt; re</div>
<div class="line">[Friday 03 September 2010] [04:56:40] &lt;pieterh&gt; i lost my phone and have been offline</div>
<div class="line">[Friday 03 September 2010] [04:56:42] &lt;pieterh&gt; :-(</div>
<div class="line">[Friday 03 September 2010] [04:58:02] &lt;pieterh&gt; sjampoo: i read your remarks about the website</div>
<div class="line">[Friday 03 September 2010] [04:58:11] &lt;pieterh&gt; they make sense and we&#8217;ll evolve this over time</div>
<div class="line">[Friday 03 September 2010] [05:54:53] &lt;mato&gt;    sustrik: re</div>
<div class="line">[Friday 03 September 2010] [05:54:59] &lt;mato&gt;    sustrik: are you happy with what i propose?</div>
<div class="line">[Friday 03 September 2010] [05:55:15] &lt;mato&gt;    sustrik: it seems like the best way to move forward on the signal handling issues</div>
<div class="line">[Friday 03 September 2010] [07:00:57] &lt;sustrik&gt; mato: yes</div>
<div class="line">[Friday 03 September 2010] [07:01:00] &lt;sustrik&gt; re</div>
<div class="line">[Friday 03 September 2010] [07:01:04] &lt;mato&gt;    sustrik: see my long email</div>
<div class="line">[Friday 03 September 2010] [07:01:13] &lt;mato&gt;    sustrik: i&#8217;ve tried to explain the issue, complex as it is</div>
<div class="line">[Friday 03 September 2010] [07:01:27] &lt;sustrik&gt; ok, i&#8217;m on it</div>
<div class="line">[Friday 03 September 2010] [07:30:29] &lt;mato&gt;    ok, another big long email sent re the Python GIL stuff</div>
<div class="line">[Friday 03 September 2010] [07:30:44] &lt;mato&gt;    somewhat braindump format, hopefully it&#8217;s clear enough</div>
<div class="line">[Friday 03 September 2010] [08:12:23] &lt;arnorhs&gt; yo</div>
<div class="line">[Friday 03 September 2010] [08:12:42] &lt;arnorhs&gt; Which programming language has the best zero mq bindings?</div>
<div class="line">[Friday 03 September 2010] [08:12:54] &lt;arnorhs&gt; Which one is the most used / most stable?</div>
<div class="line">[Friday 03 September 2010] [08:15:53] &lt;guido_g&gt; mq itself is programmin in c++, so this should work</div>
<div class="line">[Friday 03 September 2010] [08:16:08] &lt;guido_g&gt; c is delivered with the core, so does work too</div>
<div class="line">[Friday 03 September 2010] [08:16:38] &lt;sustrik&gt; yes, all the bindings use C API underneath</div>
<div class="line">[Friday 03 September 2010] [08:17:04] &lt;guido_g&gt; the other bindings are quite stable, if you don&#8217;t insinst on using bleeding edge versions</div>
<div class="line">[Friday 03 September 2010] [08:26:55] &lt;arnorhs&gt; ok, thanks</div>
<div class="line">[Friday 03 September 2010] [08:27:03] &lt;arnorhs&gt; I will go for fortran then</div>
<div class="line">[Friday 03 September 2010] [08:27:11] &lt;arnorhs&gt; :)</div>
<div class="line">[Friday 03 September 2010] [08:27:24] &lt;arnorhs&gt; I&#8217;m guessing the python bindings are fine?</div>
<div class="line">[Friday 03 September 2010] [08:30:17] &lt;sustrik&gt; yes, i think they are most stable among the whole bunch</div>
<div class="line">[Friday 03 September 2010] [08:51:24] &lt;arnorhs&gt; ok, thanks</div>
<div class="line">[Friday 03 September 2010] [08:53:11] &lt;gebi&gt;    are there any plans to add {active, once} mode to the erlang bindings?</div>
<div class="line">[Friday 03 September 2010] [08:58:54] &lt;sustrik&gt; gebi: what&#8217;s once?</div>
<div class="line">[Friday 03 September 2010] [09:30:37] &lt;gebi&gt;    sustrik: only deliver ONE message</div>
<div class="line">[Friday 03 September 2010] [09:31:07] &lt;gebi&gt;    with active,true is unuseable because it will fill up your process message queue and make it unusable</div>
<div class="line">[Friday 03 September 2010] [09:31:45] &lt;gebi&gt;    active,false is also not ideal because processes block and do not process other messages</div>
<div class="line">[Friday 03 September 2010] [10:31:44] &lt;sustrik&gt; gebi: how does that work</div>
<div class="line">[Friday 03 September 2010] [10:31:50] &lt;sustrik&gt; ok, it delivers one message</div>
<div class="line">[Friday 03 September 2010] [10:31:55] &lt;sustrik&gt; when then?</div>
<div class="line">[Friday 03 September 2010] [10:32:10] &lt;sustrik&gt; you still have to have a way to get next message</div>
<div class="line">[Friday 03 September 2010] [10:32:20] &lt;sustrik&gt; mato: are you here?</div>
<div class="line">[Friday 03 September 2010] [10:35:26] &lt;sustrik&gt; gebi: does it mean there&#8217;s at most one message in erlang queue?</div>
<div class="line">[Friday 03 September 2010] [10:35:42] &lt;sustrik&gt; if so, how do you tell erlang to behave that way?</div>
<div class="line">[Friday 03 September 2010] [10:59:09] &lt;gebi&gt;    sustrik: it should be a property of the erlang 0mq binding</div>
<div class="line">[Friday 03 September 2010] [11:00:20] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 03 September 2010] [11:00:37] &lt;sustrik&gt; i know, i was just interested whether erlnag as such has such feature</div>
<div class="line">[Friday 03 September 2010] [11:00:41] &lt;gebi&gt;    with active, once it just sends delivers a single received datagram into the message queue and stops then</div>
<div class="line">[Friday 03 September 2010] [11:00:42] &lt;sustrik&gt; erlang*</div>
<div class="line">[Friday 03 September 2010] [11:01:03] &lt;sustrik&gt; that&#8217;s erlang&#8217;s native networking API?</div>
<div class="line">[Friday 03 September 2010] [11:01:49] &lt;gebi&gt;    yea it&#8217;s a property of gen_tcp</div>
<div class="line">[Friday 03 September 2010] [11:02:16]    * sustrik is checking it</div>
<div class="line">[Friday 03 September 2010] [11:03:13] &lt;gebi&gt;    you just call inet:setopts(S,[{active,once}]) when you want to get another datagram delivered into your messagequeue</div>
<div class="line">[Friday 03 September 2010] [11:04:25] &lt;sustrik&gt; aha</div>
<div class="line">[Friday 03 September 2010] [11:04:33] &lt;sustrik&gt; how is that different from passive?</div>
<div class="line">[Friday 03 September 2010] [11:04:55] &lt;gebi&gt;    what do you mean with passive?</div>
<div class="line">[Friday 03 September 2010] [11:05:11] &lt;sustrik&gt; active=false</div>
<div class="line">[Friday 03 September 2010] [11:06:34] &lt;gebi&gt;    with active false you have an effectively dead process (all your receiving processes hang on erlzmq:receive)</div>
<div class="line">[Friday 03 September 2010] [11:07:36] &lt;gebi&gt;    with all the bad sideeffects</div>
<div class="line">[Friday 03 September 2010] [11:08:20] &lt;sustrik&gt; ah, it blocks threads in erlnag thread pool?</div>
<div class="line">[Friday 03 September 2010] [11:08:25] &lt;sustrik&gt; erlnag*</div>
<div class="line">[Friday 03 September 2010] [11:08:28] &lt;sustrik&gt; erlang*</div>
<div class="line">[Friday 03 September 2010] [11:08:34] &lt;gebi&gt;    no erlang processes</div>
<div class="line">[Friday 03 September 2010] [11:09:15] &lt;sustrik&gt; does it matter? if process is up to receiving a message am there&#8217;s no message available it hangs anyway</div>
<div class="line">[Friday 03 September 2010] [11:09:55] &lt;gebi&gt;    if it &#8220;hangs&#8221; on receiving a erlang message it is alive, if it hangs on receiving a message from the 0mq binding it is dead</div>
<div class="line">[Friday 03 September 2010] [11:10:23] &lt;sustrik&gt; does &#8220;dead&#8221; mean that it is  ubable to process erlang messages?</div>
<div class="line">[Friday 03 September 2010] [11:10:25] &lt;gebi&gt;    meaning it wont process erlang messages till at least _one_ 0mq message gets delivered (and erlzmq:recv returns)</div>
<div class="line">[Friday 03 September 2010] [11:10:32] &lt;sustrik&gt; ok, got it</div>
<div class="line">[Friday 03 September 2010] [11:10:48] &lt;sustrik&gt; makes sense</div>
<div class="line">[Friday 03 September 2010] [11:10:51] &lt;gebi&gt;    this _is_ the fastest mode, though most of the time not desireable</div>
<div class="line">[Friday 03 September 2010] [11:11:21] &lt;sustrik&gt; good, i&#8217;ll probably have a look at it next week</div>
<div class="line">[Friday 03 September 2010] [11:11:26] &lt;gebi&gt;    same with active,true, processing the message-queue in erlang is NOT O(1)</div>
<div class="line">[Friday 03 September 2010] [11:11:39] &lt;sustrik&gt; ack</div>
<div class="line">[Friday 03 September 2010] [11:11:57] &lt;gebi&gt;    so it&#8217;s kinda ugly to have a big messagequeue, thus active,true is not possibel without another protocol above for flowcontrole</div>
<div class="line">[Friday 03 September 2010] [11:12:00] &lt;gebi&gt;    thx :)</div>
<div class="line">[Friday 03 September 2010] [11:12:37] &lt;sustrik&gt; i was actually wondering how the flow control thing can be handled in erlang</div>
<div class="line">[Friday 03 September 2010] [11:12:48] &lt;sustrik&gt; you&#8217;ve gave me the answer for free :)</div>
<div class="line">[Friday 03 September 2010] [11:12:53] &lt;gebi&gt;    heh, np :)</div>
<div class="line">[Friday 03 September 2010] [11:31:58] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07eintr * r9e7a9d1 10/ src/zmq.cpp : zmq_poll returns EINTR if signal interrupts it - <a class="reference external" href="http://bit.ly/cWOXej">http://bit.ly/cWOXej</a></div>
<div class="line">[Friday 03 September 2010] [11:31:59] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07eintr * rb059116 10/ (9 files): EINTR is propogated from signaler_t::recv all the way up to the 0MQ API - <a class="reference external" href="http://bit.ly/bOz5Ui">http://bit.ly/bOz5Ui</a></div>
<div class="line">[Friday 03 September 2010] [11:32:01] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07eintr * r63706a9 10/ (doc/zmq_poll.txt doc/zmq_recv.txt doc/zmq_send.txt): documentation modified to reflect the EINTR change - <a class="reference external" href="http://bit.ly/92QIrS">http://bit.ly/92QIrS</a></div>
<div class="line">[Friday 03 September 2010] [11:51:44] &lt;cremes&gt;  sustrik: i get an assertion failure when running the EINTR branch</div>
<div class="line">[Friday 03 September 2010] [11:51:45] &lt;cremes&gt;  <a class="reference external" href="http://gist.github.com/564076">http://gist.github.com/564076</a></div>
<div class="line">[Friday 03 September 2010] [11:55:25] &lt;sustrik&gt; cremes: let me see</div>
<div class="line">[Friday 03 September 2010] [12:07:10] &lt;sustrik&gt; cremes: try now</div>
<div class="line">[Friday 03 September 2010] [12:08:03] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07eintr * r1bc4e9e 10/ src/app_thread.cpp : one more EINTR fix - <a class="reference external" href="http://bit.ly/ciucLd">http://bit.ly/ciucLd</a></div>
<div class="line">[Friday 03 September 2010] [12:10:07] &lt;cremes&gt;  sustrik: works</div>
<div class="line">[Friday 03 September 2010] [12:11:06] &lt;sustrik&gt; you mean Ctrl+C stops the app?</div>
<div class="line">[Friday 03 September 2010] [12:11:12] &lt;cremes&gt;  yessir</div>
<div class="line">[Friday 03 September 2010] [12:11:15] &lt;sustrik&gt; woo-hoo!</div>
<div class="line">[Friday 03 September 2010] [12:11:19] &lt;cremes&gt;  indeed!</div>
<div class="line">[Friday 03 September 2010] [12:11:30] &lt;sustrik&gt; that&#8217;s a bug ~2 years old</div>
<div class="line">[Friday 03 September 2010] [12:11:43] &lt;sustrik&gt; maybe 2 1/2</div>
<div class="line">[Friday 03 September 2010] [12:11:58] &lt;sustrik&gt; until now nobody had any clue how to solve ti</div>
<div class="line">[Friday 03 September 2010] [12:12:01] &lt;cremes&gt;  wow, good catch</div>
<div class="line">[Friday 03 September 2010] [12:12:02] &lt;sustrik&gt; great!</div>
<div class="line">[Friday 03 September 2010] [12:12:26] &lt;cremes&gt;  is this going into 2.0.9 or 2.1?</div>
<div class="line">[Friday 03 September 2010] [12:12:30] &lt;sustrik&gt; let&#8217;s wait for bgranger and lestrrat to confirm it&#8217;s working first</div>
<div class="line">[Friday 03 September 2010] [12:12:38] &lt;cremes&gt;  sure thing</div>
<div class="line">[Friday 03 September 2010] [12:12:46] &lt;sustrik&gt; i am afraid of pushing it to a stable version</div>
<div class="line">[Friday 03 September 2010] [12:12:51] &lt;cremes&gt;  i&#8217;ll drop a note to the ML to make my report &#8220;official&#8221;</div>
<div class="line">[Friday 03 September 2010] [12:13:07] &lt;sustrik&gt; yes, good idea</div>
<div class="line">[Friday 03 September 2010] [12:13:22] &lt;cremes&gt;  yeah, i wrote to the ML with my reasoning for this change to go into 2.1 but <em>not</em> 2.0.x</div>
<div class="line">[Friday 03 September 2010] [12:13:30] &lt;sustrik&gt; +1</div>
<div class="line">[Friday 03 September 2010] [12:13:51] &lt;sustrik&gt; at least it&#8217;s a motivation for migration to 2.1 :)</div>
<div class="line">[Friday 03 September 2010] [12:16:17] &lt;cremes&gt;  oh yeah, i&#8217;m looking forward to the thread migration changes too</div>
<div class="line">[Friday 03 September 2010] [12:16:31] &lt;cremes&gt;  and the new FD_EVENT stuff</div>
<div class="line">[Friday 03 September 2010] [12:18:49] &lt;sustrik&gt; it&#8217;s there to test already</div>
<div class="line">[Friday 03 September 2010] [12:19:00] &lt;sustrik&gt; it may be a bit buggy</div>
<div class="line">[Friday 03 September 2010] [12:19:03] &lt;sustrik&gt; but still...</div>
<div class="line">[Friday 03 September 2010] [12:19:42] &lt;cremes&gt;  sustrik: i&#8217;m pretty busy building out a production app using 0mq 2.0.x so i haven&#8217;t had any time to test 2.1.x</div>
<div class="line">[Friday 03 September 2010] [12:20:00] &lt;cremes&gt;  when you get closer to a release, you should ping the bindings authors and ask us to test</div>
<div class="line">[Friday 03 September 2010] [12:20:06] &lt;sustrik&gt; sure, just updating you on the status</div>
<div class="line">[Friday 03 September 2010] [12:20:12] &lt;cremes&gt;  cool, i appreciate it</div>
<div class="line">[Friday 03 September 2010] [12:20:14] &lt;sustrik&gt; we&#8217;ll do some testing ourselves</div>
<div class="line">[Friday 03 September 2010] [12:20:19] &lt;sustrik&gt; in the next few weeks</div>
<div class="line">[Friday 03 September 2010] [12:20:28] &lt;sustrik&gt; then it&#8217;s binding autohr&#8217;s turn</div>
<div class="line">[Friday 03 September 2010] [12:20:45] &lt;cremes&gt;  do you have a time frame for the 2.1 release? 2-4 weeks? 4-6 weeks?</div>
<div class="line">[Friday 03 September 2010] [12:22:09] &lt;sustrik&gt; hm, it&#8217;s up to mato, he&#8217;s going to do the testing</div>
<div class="line">[Friday 03 September 2010] [12:22:30] &lt;sustrik&gt; bet yeah, something between 2 ans 6 weeks i would say</div>
<div class="line">[Friday 03 September 2010] [12:27:05] &lt;cremes&gt;  ok</div>
<div class="line">[Friday 03 September 2010] [13:20:38] &lt;sustrik&gt; 0MQ now being followed by google trends: <a class="reference external" href="http://www.google.com/trends?q=zeromq">http://www.google.com/trends?q=zeromq</a></div>
<div class="line">[Friday 03 September 2010] [13:31:21] &lt;ModusPwnens&gt; So, I updated to 2.0.8 and I still have the problem of the benchmarking programs spitting out errors if you enter in very large parameters</div>
<div class="line">[Friday 03 September 2010] [13:32:07] &lt;ModusPwnens&gt; i&#8217;m using windows 7 on both operating systems, but the system running the remote end is 64-bit</div>
<div class="line">[Friday 03 September 2010] [13:32:37] &lt;ModusPwnens&gt; and here is the pastebin with the error emssage and input</div>
<div class="line">[Friday 03 September 2010] [13:32:41] &lt;ModusPwnens&gt; <a class="reference external" href="http://pastebin.com/0xvmjS95">http://pastebin.com/0xvmjS95</a></div>
<div class="line">[Friday 03 September 2010] [13:40:34] &lt;sustrik&gt; ModusPwnens: throughput test?</div>
<div class="line">[Friday 03 September 2010] [13:40:46] &lt;sustrik&gt; try increasing the sleep period in remote_the</div>
<div class="line">[Friday 03 September 2010] [13:41:02] &lt;sustrik&gt; otherwise it doesn&#8217;t have enough time to send all the messages</div>
<div class="line">[Friday 03 September 2010] [13:41:16] &lt;cremes&gt;  fyi, <a class="reference external" href="http://www.igvita.com/2010/09/03/zeromq-modern-fast-networking-stack/">http://www.igvita.com/2010/09/03/zeromq-modern-fast-networking-stack/</a></div>
<div class="line">[Friday 03 September 2010] [13:41:57] &lt;ModusPwnens&gt; Ok, I will try that sustrik</div>
<div class="line">[Friday 03 September 2010] [13:42:08] &lt;sustrik&gt; cremes: nice!</div>
<div class="line">[Friday 03 September 2010] [13:42:24] &lt;sustrik&gt; ha, that&#8217;s the guy complaining about the website!</div>
<div class="line">[Friday 03 September 2010] [13:42:27] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 03 September 2010] [13:42:38] &lt;cremes&gt;  it&#8217;s always good to see people writing articles on our favorite networking library</div>
<div class="line">[Friday 03 September 2010] [13:43:23] &lt;sustrik&gt; yes, given how dull topic the networking is, it&#8217;s interesting that people even bother</div>
<div class="line">[Friday 03 September 2010] [13:43:40] &lt;cremes&gt;  heh</div>
<div class="line">[Friday 03 September 2010] [13:43:42] &lt;sustrik&gt; btw, the site is back to normal</div>
<div class="line">[Friday 03 September 2010] [13:45:51] &lt;cremes&gt;  i see that; btw, i do like the new <a href="#id7"><span class="problematic" id="id8">*</span></a>.com site</div>
<div class="line">[Friday 03 September 2010] [13:45:54] &lt;cremes&gt;  nice and simple</div>
<div class="line">[Friday 03 September 2010] [13:46:19] &lt;sustrik&gt; few minor things to fix still...</div>
<div class="line">[Friday 03 September 2010] [13:46:40] &lt;sustrik&gt; the link in the bottom look like there were 6 of them</div>
<div class="line">[Friday 03 September 2010] [13:46:44] &lt;sustrik&gt; while there are only 3</div>
<div class="line">[Friday 03 September 2010] [13:48:15] &lt;sustrik&gt; etc.</div>
<div class="line">[Friday 03 September 2010] [14:06:46] &lt;ModusPwnens&gt; sustrik: I tried your suggestion and received a different error message</div>
<div class="line">[Friday 03 September 2010] [14:07:21] &lt;sustrik&gt; what error message?</div>
<div class="line">[Friday 03 September 2010] [14:07:30] &lt;ModusPwnens&gt; <a class="reference external" href="http://pastebin.com/7wQpmTBV">http://pastebin.com/7wQpmTBV</a></div>
<div class="line">[Friday 03 September 2010] [14:07:51] &lt;ModusPwnens&gt; I just added it to the bottom</div>
<div class="line">[Friday 03 September 2010] [14:08:04] &lt;sustrik&gt; well, not enough memory</div>
<div class="line">[Friday 03 September 2010] [14:08:33] &lt;ModusPwnens&gt; so is that expected then?</div>
<div class="line">[Friday 03 September 2010] [14:08:44] &lt;sustrik&gt; messages are held in memory</div>
<div class="line">[Friday 03 September 2010] [14:09:02] &lt;sustrik&gt; so if you create more than your memory can hold, it&#8217;s expected</div>
<div class="line">[Friday 03 September 2010] [14:09:11] &lt;sustrik&gt; what you can do though</div>
<div class="line">[Friday 03 September 2010] [14:09:14] &lt;ModusPwnens&gt; Hmm, that makes sense.</div>
<div class="line">[Friday 03 September 2010] [14:09:19] &lt;sustrik&gt; is to use ZMQ_SWAP socket option</div>
<div class="line">[Friday 03 September 2010] [14:09:28] &lt;sustrik&gt; to offload excessive messages to the disk</div>
<div class="line">[Friday 03 September 2010] [14:10:13] &lt;ModusPwnens&gt; Ok. I will try that.</div>
<div class="line">[Friday 03 September 2010] [14:52:54] &lt;lvh&gt; hey</div>
<div class="line">[Friday 03 September 2010] [14:53:11] &lt;lvh&gt; is there any progress or change regarding the zeromq-exposing-a-fd idea?</div>
<div class="line">[Friday 03 September 2010] [14:53:24] &lt;lvh&gt; AFAIK this is what gevent and twisted are waiting for so we can integrate zeromq.</div>
<div class="line">[Friday 03 September 2010] [14:53:43] &lt;lvh&gt; (I want to try zeromq, but if it won&#8217;t work with all of my existing event loop-based stuff, like twisted, well, I basically can&#8217;t use it.)</div>
<div class="line">[Friday 03 September 2010] [14:54:39] &lt;sustrik&gt; lvh: it&#8217;s in trunk</div>
<div class="line">[Friday 03 September 2010] [14:55:04] &lt;sustrik&gt; it&#8217;s a development version so it can be a bit unstable still</div>
<div class="line">[Friday 03 September 2010] [14:55:25] &lt;lvh&gt; sustrik: oh cool, that&#8217;s interesting</div>
<div class="line">[Friday 03 September 2010] [14:55:26] &lt;sustrik&gt; but it has ZMQ_FD socket option to get an underlying file descriptor from a 0MQ socket</div>
<div class="line">[Friday 03 September 2010] [14:55:56] &lt;sustrik&gt; and ZMQ_EVENTS option that allows you to check whether socket is ready for readin and/or writing</div>
<div class="line">[Friday 03 September 2010] [14:55:58] &lt;lvh&gt; git://github.com/zeromq/zeromq2.git ?</div>
<div class="line">[Friday 03 September 2010] [14:56:04] &lt;sustrik&gt; yes</div>
<div class="line">[Friday 03 September 2010] [14:56:07] &lt;sustrik&gt; &#8220;master&#8221;</div>
<div class="line">[Friday 03 September 2010] [14:56:28] &lt;lvh&gt; Wait, why do people need to know the underlying fd</div>
<div class="line">[Friday 03 September 2010] [14:56:46] &lt;sustrik&gt; to poll on it</div>
<div class="line">[Friday 03 September 2010] [14:56:49] &lt;lvh&gt; I thought a zmq socket abstracted away from that and not necessarily have an fd, or not necessarily have exactly one</div>
<div class="line">[Friday 03 September 2010] [14:57:00] &lt;lvh&gt; I&#8217;m not sure I understand. Isn&#8217;t that zmq&#8217;s job still?</div>
<div class="line">[Friday 03 September 2010] [14:57:11] &lt;sustrik&gt; how would you poll on something that&#8217;s not a fd?</div>
<div class="line">[Friday 03 September 2010] [14:57:16] &lt;lvh&gt; Is the idea to <em>not</em> use the IO parts in ZMQ?</div>
<div class="line">[Friday 03 September 2010] [14:57:48] &lt;lvh&gt; sustrik: Oh, wait, sorry, I misunderstood what it does.</div>
<div class="line">[Friday 03 September 2010] [14:57:51] &lt;sustrik&gt; the underlying fd is not the networking fd</div>
<div class="line">[Friday 03 September 2010] [14:57:55] &lt;lvh&gt; Right.</div>
<div class="line">[Friday 03 September 2010] [14:57:58] &lt;sustrik&gt; it&#8217;s 0MQ&#8217;s internal fd</div>
<div class="line">[Friday 03 September 2010] [14:58:05] &lt;lvh&gt; Right, yes, that makes a lot more sense.</div>
<div class="line">[Friday 03 September 2010] [14:58:05] &lt;sustrik&gt; used to communicate with I/O threads</div>
<div class="line">[Friday 03 September 2010] [14:58:48]    * sustrik is heading for pub</div>
<div class="line">[Friday 03 September 2010] [15:00:03] &lt;lvh&gt; sustrik: have fun</div>
<div class="line">[Friday 03 September 2010] [15:20:42] &lt;bgranger&gt;    foo = Float(0.00001, config=True)</div>
<div class="line">[Friday 03 September 2010] [17:51:13] &lt;troutwine&gt;   Does anyone have examples of Google&#8217;s Protocol Buffers being used as a serialization format with zeromq? I&#8217;ve seen it referenced but cannot find any examples.</div>
<div class="line">[Friday 03 September 2010] [18:14:11] &lt;erickt&gt;  anyone who works on pyzmq online today? I&#8217;m having trouble trying to make a fedora rpm for the head of the tree</div>
<div class="line">[Friday 03 September 2010] [18:15:15] &lt;erickt&gt;  the commit 2a192b9 seems to have caused fedora 13&#8217;s rpmbuild to error out</div>
<div class="line">[Friday 03 September 2010] [18:43:55] &lt;bgranger&gt;    erickt:  Hi I have a few minutes...</div>
<div class="line">[Friday 03 September 2010] [18:44:25] &lt;erickt&gt;  I think I found the problem, the enums for the devices is wrong</div>
<div class="line">[Friday 03 September 2010] [18:44:30] &lt;erickt&gt;  if I understand cython</div>
<div class="line">[Friday 03 September 2010] [18:44:43] &lt;bgranger&gt;    Possibly...</div>
<div class="line">[Friday 03 September 2010] [18:45:11] &lt;bgranger&gt;    What do you think the issue it.</div>
<div class="line">[Friday 03 September 2010] [18:45:12] &lt;erickt&gt;  ZMQ_QUEUE is defined to 1 in 2.0.8, ZMQ_FORWARDER 2, ZMQ_STREAMER to 3</div>
<div class="line">[Friday 03 September 2010] [18:45:37] &lt;erickt&gt;  well i haven&#8217;t completely confirmed it, but it seems to cause rpmbuild to fail on f13 I think</div>
<div class="line">[Friday 03 September 2010] [18:45:44] &lt;bgranger&gt;    Is that different than 2.0.7?</div>
<div class="line">[Friday 03 September 2010] [18:46:16] &lt;bgranger&gt;    Do you have an error msg or traceback?</div>
<div class="line">[Friday 03 September 2010] [18:46:29] &lt;Tasser&gt;  what&#8217;s a context exaclty?</div>
<div class="line">[Friday 03 September 2010] [18:46:54] &lt;erickt&gt;  bgranger: no, that&#8217;s part of the problem</div>
<div class="line">[Friday 03 September 2010] [18:47:22] &lt;erickt&gt;  it&#8217;s dying somewhere deep in a redhat command that doesn&#8217;t say really what&#8217;s going on</div>
<div class="line">[Friday 03 September 2010] [18:47:31] &lt;bgranger&gt;    Ahh.  It is possible that the _zmq.c needs to be re-created for 2.0.8, but I would be a bit surprised.</div>
<div class="line">[Friday 03 September 2010] [18:47:35] &lt;bgranger&gt;    Can you build by hand?</div>
<div class="line">[Friday 03 September 2010] [18:47:46] &lt;erickt&gt;  i just know that in 1770dbb I can build an rpm, but with 2a192b96 i cannot</div>
<div class="line">[Friday 03 September 2010] [18:47:47] &lt;bgranger&gt;    That should show any issues outright</div>
<div class="line">[Friday 03 September 2010] [18:47:57] &lt;erickt&gt;  yeah it builds fine, and seems to be usable</div>
<div class="line">[Friday 03 September 2010] [18:48:03] &lt;bgranger&gt;    Are you buildling against 2.0.8 of zeromq</div>
<div class="line">[Friday 03 September 2010] [18:48:05] &lt;erickt&gt;  which is why I&#8217;m confused</div>
<div class="line">[Friday 03 September 2010] [18:48:06] &lt;erickt&gt;  yeah</div>
<div class="line">[Friday 03 September 2010] [18:48:24] &lt;bgranger&gt;    Hmmm, that is odd then.  Do you have the script that rpmbuild is using?</div>
<div class="line">[Friday 03 September 2010] [18:48:31] &lt;erickt&gt;  Tasser: it&#8217;s an object to hold all the threads and underlying bits that zmq needs</div>
<div class="line">[Friday 03 September 2010] [18:48:38] &lt;ModusPwnens&gt; troutwine, are you still here? I can help you!</div>
<div class="line">[Friday 03 September 2010] [18:48:44] &lt;bgranger&gt;    I do have to leave in a few minutes, so maybe post to the list if you can&#8217;t figure it out.</div>
<div class="line">[Friday 03 September 2010] [18:49:15] &lt;ModusPwnens&gt; Also, I am receiving more errors with the benchmarking utility</div>
<div class="line">[Friday 03 September 2010] [18:49:20] &lt;ModusPwnens&gt; this time not associated with large parameters</div>
<div class="line">[Friday 03 September 2010] [18:49:22] &lt;Tasser&gt;  erickt, can you have more than once context? not likely?</div>
<div class="line">[Friday 03 September 2010] [18:49:34] &lt;bgranger&gt;    Tasser:  multiple contexts are just fine.</div>
<div class="line">[Friday 03 September 2010] [18:49:53] &lt;Tasser&gt;  hmm</div>
<div class="line">[Friday 03 September 2010] [18:49:57] &lt;erickt&gt;  bgranger: <a class="reference external" href="http://gist.github.com/564682">http://gist.github.com/564682</a></div>
<div class="line">[Friday 03 September 2010] [18:49:59] &lt;bgranger&gt;    Tasser:  the general guideline is 1 per library.  You can use it to isolate your own zmq stuff from that of other libs.</div>
<div class="line">[Friday 03 September 2010] [18:50:00] &lt;Tasser&gt;  I&#8217;ll have to play around a bit</div>
<div class="line">[Friday 03 September 2010] [18:50:08] &lt;erickt&gt;  that&#8217;s the rpm spec and a driver script</div>
<div class="line">[Friday 03 September 2010] [18:51:55] &lt;bgranger&gt;    Do you know how far it gets?</div>
<div class="line">[Friday 03 September 2010] [18:52:21] &lt;erickt&gt;  it compiles and it&#8217;s just determining metadata for the rpm</div>
<div class="line">[Friday 03 September 2010] [18:52:24] &lt;bgranger&gt;    erickt:  sorry I need to run now, can you email the list.  Also, have you talked to T. Spura about this?</div>
<div class="line">[Friday 03 September 2010] [18:52:32] &lt;erickt&gt;  nope, just found this</div>
<div class="line">[Friday 03 September 2010] [21:19:30] &lt;lestrrat&gt;    sustrik: I&#8217;m going to be out for the day, so won&#8217;t be able to check for another 8hrs or so</div>
<div class="line">[Friday 03 September 2010] [21:19:41] &lt;lestrrat&gt;    but will do when I get back</div>
<div class="line">[Saturday 04 September 2010] [02:03:38] &lt;joevandyk&gt; hello!</div>
<div class="line">[Saturday 04 September 2010] [02:04:26] &lt;joevandyk&gt; i&#8217;m using the ruby zmq gem.  i&#8217;m using the req/res sockets.  When i try to send a message after a client has disconnected and i&#8217;ve specified no blocking, the sender just blocks forever.</div>
<div class="line">[Saturday 04 September 2010] [02:13:27] &lt;joevandyk&gt; I think I see the problem.  When the service disconnects, the client still tries to send a message, and is waiting for a response.</div>
<div class="line">[Saturday 04 September 2010] [02:13:34] &lt;joevandyk&gt; is there a way around that?</div>
<div class="line">[Saturday 04 September 2010] [02:14:02] &lt;joevandyk&gt; i wonder if this is a bug in the ruby library</div>
<div class="line">[Saturday 04 September 2010] [02:14:37] &lt;lestrrat&gt;  sustrik: I sent a message to the mailing list, but I messed my From: field :/</div>
<div class="line">[Saturday 04 September 2010] [02:15:11] &lt;lestrrat&gt;  sustrik: anyway, I all I wanted to say was that the eintr branch worked :)</div>
<div class="line">[Saturday 04 September 2010] [03:51:24] &lt;sustrik&gt;   lestrrat: great, thanks!</div>
<div class="line">[Saturday 04 September 2010] [03:51:44] &lt;sustrik&gt;   joevandyk: it&#8217;s the way 0mq works</div>
<div class="line">[Saturday 04 September 2010] [03:52:26] &lt;joevandyk&gt; seems odd that if the service disconnects that the client is hung forever</div>
<div class="line">[Saturday 04 September 2010] [03:52:55] &lt;sustrik&gt;   it&#8217;ll continue working once service becaomes available</div>
<div class="line">[Saturday 04 September 2010] [03:53:34] &lt;sustrik&gt;   if you want to explicitly exit in case your task haven&#8217;t been completed in a predefined time, use timeouts</div>
<div class="line">[Saturday 04 September 2010] [03:59:04] &lt;joevandyk&gt; sustrik: hm, i don&#8217;t see how it can become unblocked once it&#8217;s waiting for a recv</div>
<div class="line">[Saturday 04 September 2010] [03:59:19] &lt;sustrik&gt;   use zmq_poll</div>
<div class="line">[Saturday 04 September 2010] [03:59:24] &lt;sustrik&gt;   there&#8217;s a timout parameter there</div>
<div class="line">[Saturday 04 September 2010] [03:59:41] &lt;joevandyk&gt; sustrik: what i&#8217;m not understanding is why the client sends a message when there&#8217;s no servers to receive it</div>
<div class="line">[Saturday 04 September 2010] [04:00:13] &lt;sustrik&gt;   what does &#8220;there&#8217;s no server&#8221; mean?</div>
<div class="line">[Saturday 04 September 2010] [04:00:43] &lt;sustrik&gt;   there&#8217;s no such thing in networking</div>
<div class="line">[Saturday 04 September 2010] [04:01:10] &lt;sustrik&gt;   what you have otoh is &#8220;the transfer haven&#8217;t been acknowledged in time&#8221;</div>
<div class="line">[Saturday 04 September 2010] [04:01:29] &lt;sustrik&gt;   which is the timeout</div>
<div class="line">[Saturday 04 September 2010] [04:02:47] &lt;joevandyk&gt; sorry &#8211; when the REP socket disconnects.  The REQ client had been happily sending data to the REP.  But then the REP disconnected.  The REQ tried to send data again to the REP and the send suceeded, but there was nothing to send it to.</div>
<div class="line">[Saturday 04 September 2010] [08:14:19] &lt;Tasser&gt;    cremes, got me the big picture for zmqmachine?</div>
<div class="line">[Saturday 04 September 2010] [08:33:10] &lt;mato&gt;  re</div>
<div class="line">[Saturday 04 September 2010] [08:33:44] &lt;sustrik&gt;   hi</div>
<div class="line">[Saturday 04 September 2010] [08:34:11] &lt;mato&gt;  sustrik: list of patches to cherry-pick along with instructions coming up shortly</div>
<div class="line">[Saturday 04 September 2010] [08:34:38] &lt;sustrik&gt;   thx</div>
<div class="line">[Saturday 04 September 2010] [08:34:40] &lt;mato&gt;  sustrik: just need to do some housekeeping (also delete and recreate FD_SETSIZE issue in tracker since I found that bug, not pieter)</div>
<div class="line">[Saturday 04 September 2010] [08:34:54] &lt;sustrik&gt;   ok</div>
<div class="line">[Saturday 04 September 2010] [08:42:42] &lt;mato&gt;  ok, i can&#8217;t delete it, have commented with the current situation and removed the &#8220;maint&#8221; label</div>
<div class="line">[Saturday 04 September 2010] [08:44:09] &lt;sustrik&gt;   fine</div>
<div class="line">[Saturday 04 September 2010] [08:49:44] &lt;mato&gt;  sustrik: mumble... pieter also deleted the &#8220;empty&#8221; zmq_forwarder/streamer/queue documentation</div>
<div class="line">[Saturday 04 September 2010] [08:49:57] &lt;mato&gt;  sustrik: this has packaging implications</div>
<div class="line">[Saturday 04 September 2010] [08:50:05] &lt;mato&gt;  sustrik: how would you like me to resolve this?</div>
<div class="line">[Saturday 04 September 2010] [08:50:10] &lt;sustrik&gt;   get it back</div>
<div class="line">[Saturday 04 September 2010] [08:50:31] &lt;mato&gt;  ok, what about the zmq_device documentation he added?</div>
<div class="line">[Saturday 04 September 2010] [08:50:46] &lt;mato&gt;  are devices still experimental in 2.0.x?</div>
<div class="line">[Saturday 04 September 2010] [08:51:34] &lt;mato&gt;  or would you prefer to revert his commit entirely?</div>
<div class="line">[Saturday 04 September 2010] [08:51:45] &lt;mato&gt;  the problem is it has other stuff mixed up in it</div>
<div class="line">[Saturday 04 September 2010] [08:51:59] &lt;mato&gt;  like changes to asciidoc.conf which are half-broken</div>
<div class="line">[Saturday 04 September 2010] [08:52:10] &lt;sustrik&gt;   is there any problem with device documentation</div>
<div class="line">[Saturday 04 September 2010] [08:52:29] &lt;mato&gt;  i don&#8217;t know, but you were keeping it as undocumented</div>
<div class="line">[Saturday 04 September 2010] [08:52:40] &lt;mato&gt;  there is a problem with the other parts of the commit</div>
<div class="line">[Saturday 04 September 2010] [08:53:22] &lt;mato&gt;  like the asciidoc footer only being present for manpages, not for html</div>
<div class="line">[Saturday 04 September 2010] [08:53:28] &lt;sustrik&gt;   what&#8217;s easier for you?</div>
<div class="line">[Saturday 04 September 2010] [08:54:22] &lt;mato&gt;  less work <em>right now</em> would be just to revert the whole commit</div>
<div class="line">[Saturday 04 September 2010] [08:54:49] &lt;mato&gt;  and pieter can resubmit his changes</div>
<div class="line">[Saturday 04 September 2010] [08:55:14] &lt;mato&gt;  hmm, maybe</div>
<div class="line">[Saturday 04 September 2010] [08:55:45] &lt;sustrik&gt;   it&#8217;s up to you</div>
<div class="line">[Saturday 04 September 2010] [10:03:23] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * r2673a84 10/ (34 files): (log message trimmed)</div>
<div class="line">[Saturday 04 September 2010] [10:03:24] &lt;CIA-20&gt;    zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Saturday 04 September 2010] [10:03:24] &lt;CIA-20&gt;    zeromq2: * maint:</div>
<div class="line">[Saturday 04 September 2010] [10:03:24] &lt;CIA-20&gt;    zeromq2:  doc: Update zmq_socket(3) for 2.0.8 API changes</div>
<div class="line">[Saturday 04 September 2010] [10:03:24] &lt;CIA-20&gt;    zeromq2:  Revert &#8220;Added man page for the zmq_device method&#8221;</div>
<div class="line">[Saturday 04 September 2010] [10:03:24] &lt;CIA-20&gt;    zeromq2:  Revert &#8220;Added clean target that deletes generated man pages&#8221;</div>
<div class="line">[Saturday 04 September 2010] [10:03:24] &lt;CIA-20&gt;    zeromq2:  Revert &#8220;Various changes to documentation project:&#8221;</div>
<div class="line">[Saturday 04 September 2010] [10:03:34] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07maint * ree3444f 10/ doc/zmq_socket.txt : doc: Update zmq_socket(3) for 2.0.8 API changes (+8 more commits...) - <a class="reference external" href="http://bit.ly/aRdJ8z">http://bit.ly/aRdJ8z</a></div>
<div class="line">[Saturday 04 September 2010] [10:25:08] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * rf850190 10/ include/zmq.h : zmq.h: Fix typo and use of C99 comment - <a class="reference external" href="http://bit.ly/95mVlM">http://bit.ly/95mVlM</a></div>
<div class="line">[Saturday 04 September 2010] [10:25:08] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * r51a84c1 10/ (src/select.cpp src/zmq.cpp):</div>
<div class="line">[Saturday 04 September 2010] [10:25:08] &lt;CIA-20&gt;    zeromq2: zmq::select_t, zmq_poll(): assert if FD_SETSIZE reached</div>
<div class="line">[Saturday 04 September 2010] [10:25:08] &lt;CIA-20&gt;    zeromq2: Ensure that 0MQ does not attempt to call select() on more than FD_SETSIZE</div>
<div class="line">[Saturday 04 September 2010] [10:25:08] &lt;CIA-20&gt;    zeromq2: file descriptors. - <a class="reference external" href="http://bit.ly/ap5axW">http://bit.ly/ap5axW</a></div>
<div class="line">[Saturday 04 September 2010] [10:25:09] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * rca17612 10/ (include/zmq.h src/select.cpp src/zmq.cpp):</div>
<div class="line">[Saturday 04 September 2010] [10:25:10] &lt;CIA-20&gt;    zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Saturday 04 September 2010] [10:25:10] &lt;CIA-20&gt;    zeromq2: * maint:</div>
<div class="line">[Saturday 04 September 2010] [10:25:11] &lt;CIA-20&gt;    zeromq2:  zmq::select_t, zmq_poll(): assert if FD_SETSIZE reached</div>
<div class="line">[Saturday 04 September 2010] [10:25:11] &lt;CIA-20&gt;    zeromq2:  zmq.h: Fix typo and use of C99 comment</div>
<div class="line">[Saturday 04 September 2010] [10:25:12] &lt;CIA-20&gt;    zeromq2: Conflicts:</div>
<div class="line">[Saturday 04 September 2010] [10:25:12] &lt;CIA-20&gt;    zeromq2:  src/zmq.cpp - <a class="reference external" href="http://bit.ly/9kFuS4">http://bit.ly/9kFuS4</a></div>
<div class="line">[Saturday 04 September 2010] [10:25:15] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07maint * rf850190 10/ include/zmq.h : zmq.h: Fix typo and use of C99 comment - <a class="reference external" href="http://bit.ly/95mVlM">http://bit.ly/95mVlM</a></div>
<div class="line">[Saturday 04 September 2010] [10:25:16] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07maint * r51a84c1 10/ (src/select.cpp src/zmq.cpp):</div>
<div class="line">[Saturday 04 September 2010] [10:25:16] &lt;CIA-20&gt;    zeromq2: zmq::select_t, zmq_poll(): assert if FD_SETSIZE reached</div>
<div class="line">[Saturday 04 September 2010] [10:25:16] &lt;CIA-20&gt;    zeromq2: Ensure that 0MQ does not attempt to call select() on more than FD_SETSIZE</div>
<div class="line">[Saturday 04 September 2010] [10:25:16] &lt;CIA-20&gt;    zeromq2: file descriptors. - <a class="reference external" href="http://bit.ly/ap5axW">http://bit.ly/ap5axW</a></div>
<div class="line">[Saturday 04 September 2010] [11:12:33] &lt;CIA-20&gt;    zeromq2: 03Ivo Danihelka 07maint * rae567be 10/ (AUTHORS src/zmq.cpp): improved null checking in zmq_term - <a class="reference external" href="http://bit.ly/anJS6s">http://bit.ly/anJS6s</a></div>
<div class="line">[Saturday 04 September 2010] [11:12:33] &lt;CIA-20&gt;    zeromq2: 03Jon Dyte 07maint * rc2f3b3b 10/ (src/forwarder.cpp src/queue.cpp src/streamer.cpp): forwarder and streamer devices handle multi-part messages correctly - <a class="reference external" href="http://bit.ly/aRxGoy">http://bit.ly/aRxGoy</a></div>
<div class="line">[Saturday 04 September 2010] [11:12:33] &lt;CIA-20&gt;    zeromq2: 03Dhammika Pathirana 07maint * r1022789 10/ src/zmq_decoder.cpp : assert on malformed messages - <a class="reference external" href="http://bit.ly/907fWH">http://bit.ly/907fWH</a></div>
<div class="line">[Saturday 04 September 2010] [11:12:33] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07maint * rdb7fe85 10/ include/zmq.h : Broken device numbering reverted - <a class="reference external" href="http://bit.ly/cncpxn">http://bit.ly/cncpxn</a></div>
<div class="line">[Saturday 04 September 2010] [11:20:13] &lt;CIA-20&gt;    zeromq2: 03Ivo Danihelka 07master * rae567be 10/ (AUTHORS src/zmq.cpp): improved null checking in zmq_term - <a class="reference external" href="http://bit.ly/anJS6s">http://bit.ly/anJS6s</a></div>
<div class="line">[Saturday 04 September 2010] [11:20:14] &lt;CIA-20&gt;    zeromq2: 03Jon Dyte 07master * rc2f3b3b 10/ (src/forwarder.cpp src/queue.cpp src/streamer.cpp): forwarder and streamer devices handle multi-part messages correctly - <a class="reference external" href="http://bit.ly/aRxGoy">http://bit.ly/aRxGoy</a></div>
<div class="line">[Saturday 04 September 2010] [11:20:14] &lt;CIA-20&gt;    zeromq2: 03Dhammika Pathirana 07master * r1022789 10/ src/zmq_decoder.cpp : assert on malformed messages - <a class="reference external" href="http://bit.ly/907fWH">http://bit.ly/907fWH</a></div>
<div class="line">[Saturday 04 September 2010] [11:20:14] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * rdb7fe85 10/ include/zmq.h : Broken device numbering reverted - <a class="reference external" href="http://bit.ly/cncpxn">http://bit.ly/cncpxn</a></div>
<div class="line">[Saturday 04 September 2010] [11:20:24] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * r76f2e5d 10/ include/zmq.h : (log message trimmed)</div>
<div class="line">[Saturday 04 September 2010] [11:20:24] &lt;CIA-20&gt;    zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Saturday 04 September 2010] [11:20:24] &lt;CIA-20&gt;    zeromq2: * maint:</div>
<div class="line">[Saturday 04 September 2010] [11:20:24] &lt;CIA-20&gt;    zeromq2:  Broken device numbering reverted</div>
<div class="line">[Saturday 04 September 2010] [11:20:24] &lt;CIA-20&gt;    zeromq2:  assert on malformed messages</div>
<div class="line">[Saturday 04 September 2010] [11:20:25] &lt;CIA-20&gt;    zeromq2:  forwarder and streamer devices handle multi-part messages correctly</div>
<div class="line">[Saturday 04 September 2010] [11:20:26] &lt;CIA-20&gt;    zeromq2:  improved null checking in zmq_term</div>
<div class="line">[Saturday 04 September 2010] [11:34:39] &lt;AndrewBC&gt;  I&#8217;m getting a failed assertion with a somewhat altered example from the user guide: specifically &#8220;Assertion failed: <a href="#id84"><span class="problematic" id="id85">msg_</span></a>-&gt;flags &amp; ZMQ_MSG_MORE (......srcreq.cpp:225)&#8221;, The code is here: <a class="reference external" href="http://andrewbc.pastebin.com/gcYPMPqM">http://andrewbc.pastebin.com/gcYPMPqM</a> &#8211; I found this thread: <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg02531.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg02531.html</a> but I don&#8217;t see any reason why the reply to my REQ socket would be ill-formed... Maybe I&#8217;m missing something,</div>
<div class="line">[Saturday 04 September 2010] [11:34:39] &lt;AndrewBC&gt;  and could use a fresh pair of eyes.</div>
<div class="line">[Saturday 04 September 2010] [11:35:42] &lt;AndrewBC&gt;  The actual example is just the multithreaded server part: <a class="reference external" href="http://www.zeromq.org/docs:user-guide#toc26">http://www.zeromq.org/docs:user-guide#toc26</a>  I pretty much hacked up a single thread for the client</div>
<div class="line">[Saturday 04 September 2010] [11:36:41] &lt;AndrewBC&gt;  I also don&#8217;t see anything pertaining to this in the buglist</div>
<div class="line">[Saturday 04 September 2010] [11:46:55] &lt;AndrewBC&gt;  That gibberish output is looking more and more sinister, you know</div>
<div class="line">[Saturday 04 September 2010] [11:47:00] &lt;AndrewBC&gt;  I wonder what that&#8217;s about</div>
<div class="line">[Saturday 04 September 2010] [11:50:21] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * ra6d3629 10/ (Makefile.am configure.in ChangeLog): (log message trimmed)</div>
<div class="line">[Saturday 04 September 2010] [11:50:21] &lt;CIA-20&gt;    zeromq2: build: Generate ChangeLog in &#8216;make dist&#8217;, ZIP automatically</div>
<div class="line">[Saturday 04 September 2010] [11:50:21] &lt;CIA-20&gt;    zeromq2: Change &#8216;make dist&#8217; to generate the Git ChangeLog file, that way it doesn&#8217;t</div>
<div class="line">[Saturday 04 September 2010] [11:50:21] &lt;CIA-20&gt;    zeromq2: have to be manually updated nor kept in Git which causes unnecessary work.</div>
<div class="line">[Saturday 04 September 2010] [11:50:21] &lt;CIA-20&gt;    zeromq2: Also change &#8216;make dist&#8217; to invoke &#8216;dist-zip&#8217; automatically to generate a</div>
<div class="line">[Saturday 04 September 2010] [11:50:22] &lt;CIA-20&gt;    zeromq2: ZIP as well as a .tar.gz.</div>
<div class="line">[Saturday 04 September 2010] [11:50:23] &lt;CIA-20&gt;    zeromq2: Thanks to <a class="reference external" href="http://live.gnome.org/Git/ChangeLog">http://live.gnome.org/Git/ChangeLog</a> for the inspiration to</div>
<div class="line">[Saturday 04 September 2010] [11:50:23] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * r32fd916 10/ doc/asciidoc.conf :</div>
<div class="line">[Saturday 04 September 2010] [11:50:24] &lt;CIA-20&gt;    zeromq2: doc: Add 0MQ version to XHTML11 backend footer</div>
<div class="line">[Saturday 04 September 2010] [11:50:24] &lt;CIA-20&gt;    zeromq2: Thanks to Matt Weinstein for the suggestion. - <a class="reference external" href="http://bit.ly/d1r24H">http://bit.ly/d1r24H</a></div>
<div class="line">[Saturday 04 September 2010] [11:50:25] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * r1e84519 10/ .gitignore : Update .gitignore - <a class="reference external" href="http://bit.ly/bH7Jhp">http://bit.ly/bH7Jhp</a></div>
<div class="line">[Saturday 04 September 2010] [11:50:25] &lt;CIA-20&gt;    zeromq2: 03Martin Lucina 07master * rd4c8de5 10/ (5 files in 2 dirs):</div>
<div class="line">[Saturday 04 September 2010] [11:50:26] &lt;CIA-20&gt;    zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Saturday 04 September 2010] [11:50:26] &lt;CIA-20&gt;    zeromq2: * maint:</div>
<div class="line">[Saturday 04 September 2010] [11:50:27] &lt;CIA-20&gt;    zeromq2:  Update .gitignore</div>
<div class="line">[Saturday 04 September 2010] [11:50:27] &lt;CIA-20&gt;    zeromq2:  doc: Add 0MQ version to XHTML11 backend footer</div>
<div class="line">[Saturday 04 September 2010] [11:54:08] &lt;AndrewBC&gt;  Okay, I tracked it down to the zmq_recv() in my client. Perhaps there&#8217;s something special in the flags I need to be aware of since it&#8217;s on the other side of an XREP</div>
<div class="line">[Saturday 04 September 2010] [11:54:48] &lt;AndrewBC&gt;  So I&#8217;m reading the API docs now</div>
<div class="line">[Saturday 04 September 2010] [12:01:34] &lt;AndrewBC&gt;  beginning to suspect that I should be checking for multipart messages</div>
<div class="line">[Saturday 04 September 2010] [12:06:26] &lt;sccolbert&gt; Perhaps a simple problem, but I appear to have a mem leak on the SUB side of a PUB/SUB pattern</div>
<div class="line">[Saturday 04 September 2010] [12:06:50] &lt;sccolbert&gt; when I connect the SUB to the PUB, any messages not matching the filter cause wasted memory</div>
<div class="line">[Saturday 04 September 2010] [12:07:30] &lt;sccolbert&gt; a simple test send say, 1 million short messages that dont match any filter on the SUB, will cause the memory usage of the SUB to explode</div>
<div class="line">[Saturday 04 September 2010] [12:07:55] &lt;sccolbert&gt; has anyone else experienced this?</div>
<div class="line">[Saturday 04 September 2010] [12:08:47] &lt;AndrewBC&gt;  I assume that since the filtering is done on the SUB side, the messages are indeed being transmitted to the socket on that end</div>
<div class="line">[Saturday 04 September 2010] [12:09:50] &lt;sccolbert&gt; this is true, but their memory is never freed</div>
<div class="line">[Saturday 04 September 2010] [12:10:13] &lt;AndrewBC&gt;  Are you using a binding, or what?</div>
<div class="line">[Saturday 04 September 2010] [12:10:22] &lt;sccolbert&gt; PyZMQ</div>
<div class="line">[Saturday 04 September 2010] [12:10:28] &lt;sccolbert&gt; on ubuntu 10.04</div>
<div class="line">[Saturday 04 September 2010] [12:11:00] &lt;sccolbert&gt; so if I just connect the SUB and dont set any filter, the SUB process quickly locks up the system</div>
<div class="line">[Saturday 04 September 2010] [12:11:30] &lt;sccolbert&gt; which I cant see as being related to PyZMQ</div>
<div class="line">[Saturday 04 September 2010] [12:12:15] &lt;AndrewBC&gt;  I&#8217;m not sure, since I&#8217;m not a dev of zmq. It&#8217;s supposed to handle the memory just fine, if wishes were horses...</div>
<div class="line">[Saturday 04 September 2010] [12:12:45] &lt;AndrewBC&gt;  It could be either, though. All it takes is a circular reference for python to not garbage collect objects</div>
<div class="line">[Saturday 04 September 2010] [12:13:11] &lt;AndrewBC&gt;  circular, cyclic, bah</div>
<div class="line">[Saturday 04 September 2010] [12:14:00] &lt;sccolbert&gt; this is true, though I would think that since I havent actually called recv() on the sub (since its filtering all messages) that python isnt even aware a message arrived</div>
<div class="line">[Saturday 04 September 2010] [12:21:46] &lt;AndrewBC&gt;  Wish I could help you. I&#8217;m banging my head up against a bizzare failed assertion myself</div>
<div class="line">[Saturday 04 September 2010] [12:38:37] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07maint * rebf3089 10/ NEWS : NEWS updated for 2.0.9 - <a class="reference external" href="http://bit.ly/doVZJ4">http://bit.ly/doVZJ4</a></div>
<div class="line">[Saturday 04 September 2010] [12:56:38] &lt;pieter_hintjens&gt;   sccolbert: what version of 0MQ are you using?</div>
<div class="line">[Saturday 04 September 2010] [12:58:09] &lt;sccolbert&gt; pieter_hintjens: 2.0.7</div>
<div class="line">[Saturday 04 September 2010] [12:58:50] &lt;pieter_hintjens&gt;   when you stop the publisher does the memory consumption of the subscriber go down again?</div>
<div class="line">[Saturday 04 September 2010] [12:59:03] &lt;sccolbert&gt; hmm havent tried that</div>
<div class="line">[Saturday 04 September 2010] [12:59:05] &lt;sccolbert&gt; gimme a sec</div>
<div class="line">[Saturday 04 September 2010] [13:01:36] &lt;sccolbert&gt; no</div>
<div class="line">[Saturday 04 September 2010] [13:01:50] &lt;sccolbert&gt; killing the publisher does not free the memory in the SUB</div>
<div class="line">[Saturday 04 September 2010] [13:04:10] &lt;pieter_hintjens&gt;   hmm... so the next steps are to test with the latest 2.0.9 release</div>
<div class="line">[Saturday 04 September 2010] [13:04:19] &lt;pieter_hintjens&gt;   and then make a minimal test case that reproduces this, and log an issue</div>
<div class="line">[Saturday 04 September 2010] [13:04:30] &lt;sccolbert&gt; k, lemme grab the new one along with the new PyZMQ</div>
<div class="line">[Saturday 04 September 2010] [13:04:36] &lt;sccolbert&gt; will only take me a couple minutes</div>
<div class="line">[Saturday 04 September 2010] [13:04:52] &lt;sccolbert&gt; a different question:</div>
<div class="line">[Saturday 04 September 2010] [13:04:54] &lt;pieter_hintjens&gt;   if you can make a parallel test case in C or C++ that will help identify whether it&#8217;s in PyZMQ or 0MQ</div>
<div class="line">[Saturday 04 September 2010] [13:05:04] &lt;sccolbert&gt; sure</div>
<div class="line">[Saturday 04 September 2010] [13:05:14] &lt;pieter_hintjens&gt;   shoot...</div>
<div class="line">[Saturday 04 September 2010] [13:05:45] &lt;sccolbert&gt; in a pub/sub pattern, if  i send a multipart message, and the first part doesnt match the sub filter, does the sub still recieve the rest of the message?</div>
<div class="line">[Saturday 04 September 2010] [13:06:00] &lt;sccolbert&gt; and then just dump it</div>
<div class="line">[Saturday 04 September 2010] [13:06:06] &lt;pieter_hintjens&gt;   i actually added this to the guide today but did not publish it yet</div>
<div class="line">[Saturday 04 September 2010] [13:06:14] &lt;pieter_hintjens&gt;   a multipart message is one message</div>
<div class="line">[Saturday 04 September 2010] [13:06:23] &lt;pieter_hintjens&gt;   think of the first part as the envelope</div>
<div class="line">[Saturday 04 September 2010] [13:06:32] &lt;pieter_hintjens&gt;   it&#8217;s very convenient to put the pubsub key there</div>
<div class="line">[Saturday 04 September 2010] [13:06:47] &lt;pieter_hintjens&gt;   if the key does not match any subscription the entire message is discarded / ignored</div>
<div class="line">[Saturday 04 September 2010] [13:07:11] &lt;sccolbert&gt; is there any performance improvement to be had with that, over just joining my key to the beggininng of my message?</div>
<div class="line">[Saturday 04 September 2010] [13:07:29] &lt;pieter_hintjens&gt;   using a pubsub envelope like this means you can do zerocopy on the data part</div>
<div class="line">[Saturday 04 September 2010] [13:07:41] &lt;sccolbert&gt; ah, great</div>
<div class="line">[Saturday 04 September 2010] [13:07:50] &lt;pieter_hintjens&gt;   there is no significant performance cost and you can save on formatting the full message</div>
<div class="line">[Saturday 04 September 2010] [13:08:23] &lt;pieter_hintjens&gt;   plus you are guaranteed the key remains separate from the data</div>
<div class="line">[Saturday 04 September 2010] [13:08:29] &lt;pieter_hintjens&gt;   it&#8217;s a Good Thing</div>
<div class="line">[Saturday 04 September 2010] [13:08:40] &lt;sccolbert&gt; yep</div>
<div class="line">[Saturday 04 September 2010] [13:09:01] &lt;sccolbert&gt; also, in a general pub/sub pattern do you recommend epgm over tcp?</div>
<div class="line">[Saturday 04 September 2010] [13:09:13] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07maint * r01c463c 10/ (builds/msvc/platform.hpp configure.in): Version number incremented to 2.0.10 - <a class="reference external" href="http://bit.ly/9vL8xS">http://bit.ly/9vL8xS</a></div>
<div class="line">[Saturday 04 September 2010] [13:09:16] &lt;sccolbert&gt; I wasnt able to find much literature on the pro&#8217;s vs cons of each</div>
<div class="line">[Saturday 04 September 2010] [13:10:11] &lt;pieter_hintjens&gt;   you&#8217;d only use pgm/epgm if you have a performance issue with tcp</div>
<div class="line">[Saturday 04 September 2010] [13:10:23] &lt;pieter_hintjens&gt;   there is ongoing work to make tcp pubsub much more efficient for large fanouts</div>
<div class="line">[Saturday 04 September 2010] [13:10:37] &lt;pieter_hintjens&gt;   in general use tcp unless you know why you need multicast</div>
<div class="line">[Saturday 04 September 2010] [13:10:38] &lt;sccolbert&gt; cool</div>
<div class="line">[Saturday 04 September 2010] [13:10:47] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * rebf3089 10/ NEWS : NEWS updated for 2.0.9 - <a class="reference external" href="http://bit.ly/doVZJ4">http://bit.ly/doVZJ4</a></div>
<div class="line">[Saturday 04 September 2010] [13:10:47] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * r01c463c 10/ (builds/msvc/platform.hpp configure.in): Version number incremented to 2.0.10 - <a class="reference external" href="http://bit.ly/9vL8xS">http://bit.ly/9vL8xS</a></div>
<div class="line">[Saturday 04 September 2010] [13:10:47] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * rb4740c1 10/ NEWS : (log message trimmed)</div>
<div class="line">[Saturday 04 September 2010] [13:10:47] &lt;CIA-20&gt;    zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Saturday 04 September 2010] [13:10:47] &lt;CIA-20&gt;    zeromq2: * maint:</div>
<div class="line">[Saturday 04 September 2010] [13:10:48] &lt;CIA-20&gt;    zeromq2:  Version number incremented to 2.0.10</div>
<div class="line">[Saturday 04 September 2010] [13:10:49] &lt;CIA-20&gt;    zeromq2:  NEWS updated for 2.0.9</div>
<div class="line">[Saturday 04 September 2010] [13:10:49] &lt;CIA-20&gt;    zeromq2: Conflicts:</div>
<div class="line">[Saturday 04 September 2010] [13:10:50] &lt;CIA-20&gt;    zeromq2:  builds/msvc/platform.hpp</div>
<div class="line">[Saturday 04 September 2010] [13:11:24] &lt;Steve-o&gt;   usually tcp up to 4-5 peers is better than multicast for almost all scenarios</div>
<div class="line">[Saturday 04 September 2010] [13:11:35] &lt;sccolbert&gt; good to know</div>
<div class="line">[Saturday 04 September 2010] [13:11:40] &lt;sccolbert&gt; thanks</div>
<div class="line">[Saturday 04 September 2010] [13:13:01] &lt;Steve-o&gt;   usually NICs give you some form of TCP acceleration compared to none for UDP multicast</div>
<div class="line">[Saturday 04 September 2010] [13:16:07] &lt;sustrik&gt;   uh, 2.0.9 is out</div>
<div class="line">[Saturday 04 September 2010] [13:16:38]      * sustrik has enough, goes away to play moonlight sonata</div>
<div class="line">[Saturday 04 September 2010] [13:47:53] &lt;sccolbert&gt; pieter_hintjens: tested new version in C and Python</div>
<div class="line">[Saturday 04 September 2010] [13:47:57] &lt;sccolbert&gt; same issues</div>
<div class="line">[Saturday 04 September 2010] [13:48:37] &lt;sccolbert&gt; where should I log the issue?</div>
<div class="line">[Saturday 04 September 2010] [13:50:29] &lt;sccolbert&gt; ah, ok, it only happens in C when the sub hasnt set any filter</div>
<div class="line">[Saturday 04 September 2010] [13:50:44] &lt;sccolbert&gt; setting a filter that doesnt match anything from the PUB solves the issue</div>
<div class="line">[Saturday 04 September 2010] [13:50:50] &lt;sccolbert&gt; in C at least</div>
<div class="line">[Saturday 04 September 2010] [13:51:23] &lt;sccolbert&gt; i will file this with Brian</div>
<div class="line">[Saturday 04 September 2010] [15:01:00] &lt;twcc&gt;  Hey all, I&#8217;m trying to figure out if zeromq ist the right tool for me. I want to have one &#8220;Server&#8221; and multiple client, which pushes messages to the server. I can&#8217;t find a pattern which fits really good - Request-reply would fit best, but as I understood I have to send a reply. - Is this case so trivial, that I should fall back to standard socket programming?</div>
<div class="line">[Saturday 04 September 2010] [15:37:54] &lt;Steve-o&gt;   twcc: sounds like PUB/SUB</div>
<div class="line">[Saturday 04 September 2010] [15:43:36] &lt;twcc&gt;  Because of the unidirectional manner this would fit, but AFAIK the Publisher starts the socket and the subscriber has to connect?! - This could run into problems with a changing number of publisher, or can I connect them to one socket, and zmq handles this?</div>
<div class="line">[Saturday 04 September 2010] [15:53:17] &lt;Steve-o&gt;   You can connect multiple to one zmq socket as detailed in zmq_socket(3)</div>
<div class="line">[Saturday 04 September 2010] [15:54:40] &lt;Steve-o&gt;   there is currently no bus topology socket pattern</div>
<div class="line">[Saturday 04 September 2010] [15:55:13] &lt;Steve-o&gt;   you can jump down to raw PGM for that</div>
<div class="line">[Saturday 04 September 2010] [15:57:09] &lt;twcc&gt;  maybe i&#8217;m stuck to much to socket programming  ... -  so I can bind multiple publisher to the same socket/port and have one subscriber which processes the messages? That would be great and solves all my problems :-)</div>
<div class="line">[Saturday 04 September 2010] [16:01:35] &lt;kooroo&gt;    hey folks, I&#8217;m having trouble compiling zeromq on rh5 x86_64</div>
<div class="line">[Saturday 04 September 2010] [16:01:52] &lt;kooroo&gt;    .libs/libzmq_la-txwi.o: relocation R_X86_64_PC32 against <a href="#id9"><span class="problematic" id="id10">`</span></a>pgm_rs_create&#8217; can not be used when making a shared object; recompile with -fPIC is what I&#8217;m getting.</div>
<div class="line">[Saturday 04 September 2010] [16:02:00] &lt;kooroo&gt;    has anyone come across this before?</div>
<div class="line">[Saturday 04 September 2010] [16:03:06] &lt;Steve-o&gt;   twcc: for each subscriber you call zmq_connect for each publisher on one zmq socket</div>
<div class="line">[Saturday 04 September 2010] [16:04:49] &lt;Steve-o&gt;   kooroo: it is a bug in RHEL GCC, you can disable PGM or there is a flag you can set to disable visibility on the PGM internal API</div>
<div class="line">[Saturday 04 September 2010] [16:07:08] &lt;kooroo&gt;    Steve-o, is this the -DPGM_GNUC_INTERNAL flag?</div>
<div class="line">[Saturday 04 September 2010] [16:07:29] &lt;Steve-o&gt;   kooroo:  yes, it needs to be &#8220;-DPGM_GNUC_INTERNAL=&#8221; for broken GCC, default &#8220;-DPGM_GNUC_INTERNAL=G_GNUC_INTERNAL&#8221;</div>
<div class="line">[Saturday 04 September 2010] [16:08:36] &lt;Steve-o&gt;   I think someone found a backported GCC version that works too on the list before</div>
<div class="line">[Saturday 04 September 2010] [16:10:45] &lt;kooroo&gt;    Steve-o: do you know offhand if upgrading gcc works?</div>
<div class="line">[Saturday 04 September 2010] [16:11:07] &lt;Steve-o&gt;   4.1.2 is the affected version</div>
<div class="line">[Saturday 04 September 2010] [16:11:37] &lt;Steve-o&gt;   here&#8217;s the thread from before:  <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg01646.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg01646.html</a></div>
<div class="line">[Saturday 04 September 2010] [16:12:36] &lt;kooroo&gt;    Steve-o: thanks, Imma upgrade gcc and try it again.</div>
<div class="line">[Saturday 04 September 2010] [16:12:54] &lt;twcc&gt;  Hm, maybe I explained it bad - I have a changing number of processes (publisher) which have to send messages to one sink (daemon/subscriber), which handles these messages. A topologie where the daemon/subscriber has to connect to the publisher isn&#8217;t feasible. - So the client/server application would fit best, except that the server has to response to a message.</div>
<div class="line">[Saturday 04 September 2010] [16:13:50] &lt;kooroo&gt;    twcc, could you have them all subscribe to the same multicast stream and only the subscriber react to messages?</div>
<div class="line">[Saturday 04 September 2010] [16:14:15] &lt;kooroo&gt;    not the most efficient way, I admit.</div>
<div class="line">[Saturday 04 September 2010] [16:17:35] &lt;twcc&gt;  hm, funny idea, didn&#8217;t thought of it</div>
<div class="line">[Saturday 04 September 2010] [16:19:05] &lt;twcc&gt;  multicast is only possible on network connections?, because all the processes are running on the same computer - so i would like to use ipc</div>
<div class="line">[Saturday 04 September 2010] [16:24:02] &lt;Steve-o&gt;   multicast requires a network for reliable delivery, it&#8217;s pretty useless for ipc.</div>
<div class="line">[Saturday 04 September 2010] [16:30:35] &lt;Steve-o&gt;   I think as IPC is currently implemented using local sockets you would have to add a shared memory transport for localhost broadcast</div>
<div class="line">[Saturday 04 September 2010] [16:32:58] &lt;twcc&gt;  I think the multicast idea would only be a workaround - I would like to have a non-blocking &#8220;Request-reply&#8221; without reply pattern, but I can&#8217;t figure out, how to realize it with zeromq</div>
<div class="line">[Saturday 04 September 2010] [16:36:14] &lt;twcc&gt;  Thank you for your help - I will try if the request-reply pattern satisfy the requirements and handle the non-blocking by myself</div>
<div class="line">[Saturday 04 September 2010] [16:43:48] &lt;Steve-o&gt;   post a message on the list too, it sounds like a good idea for v3, I think 29West have a broadcast IPC transport too</div>
<div class="line">[Saturday 04 September 2010] [18:35:42] &lt;DasIch&gt;    i started playing around with zeromq using pyzmq from here <a class="reference external" href="https://launchpad.net/~chris-lea/+archive/zeromq">https://launchpad.net/~chris-lea/+archive/zeromq</a>, however if i create 2 contexts i get this message <a class="reference external" href="http://paste.pocoo.org/show/258660/">http://paste.pocoo.org/show/258660/</a> what&#8217;s this about?</div>
<div class="line">[Saturday 04 September 2010] [18:37:19] &lt;DasIch&gt;    (obviously what i really did was a bit more complex but that what it boils down to)</div>
<div class="line">[Saturday 04 September 2010] [18:40:56] &lt;lestrrat&gt;  sustrik: so the eintr thins is going to be in 2.1?</div>
<div class="line">[Saturday 04 September 2010] [19:01:44] &lt;lestrrat&gt;  sustrik: And the ZMQ_FD stuff to get at the file descriptor &#8211; is that going to be in 2.1 as well?</div>
<div class="line">[Sunday 05 September 2010] [01:40:12] &lt;sustrik&gt; lestrrat: both are going to be in 2.1</div>
<div class="line">[Sunday 05 September 2010] [01:40:45] &lt;sustrik&gt; ZMQ_FD as already there</div>
<div class="line">[Sunday 05 September 2010] [01:41:00] &lt;sustrik&gt; i&#8217;ll write an email about EINTR &amp; 2.1 today</div>
<div class="line">[Sunday 05 September 2010] [02:00:28] &lt;sustrik&gt; DasIch: That&#8217;s a bug in OpenPGM library</div>
<div class="line">[Sunday 05 September 2010] [02:00:53] &lt;sustrik&gt; if you don&#8217;t need PGM, just compile 0MQ without it</div>
<div class="line">[Sunday 05 September 2010] [02:01:36] &lt;sustrik&gt; it have been fixed in newer OpenPGM releases</div>
<div class="line">[Sunday 05 September 2010] [02:01:44] &lt;sustrik&gt; but haven&#8217;t got into 0MQ as for now</div>
<div class="line">[Sunday 05 September 2010] [02:01:59] &lt;sustrik&gt; anway, creating multiple contexts is pretty useless</div>
<div class="line">[Sunday 05 September 2010] [02:02:08] &lt;sustrik&gt; why do you do that?</div>
<div class="line">[Sunday 05 September 2010] [02:32:34] &lt;lestrrat&gt;    sustrik: by &#8220;it&#8217;s already there&#8221; you mean the github repo, right?</div>
<div class="line">[Sunday 05 September 2010] [02:34:06] &lt;sustrik&gt; yes</div>
<div class="line">[Sunday 05 September 2010] [02:34:09] &lt;sustrik&gt; the master branch</div>
<div class="line">[Sunday 05 September 2010] [02:34:33] &lt;sustrik&gt; EINTR on eintr branch, FD &amp; EVENTS on master branch</div>
<div class="line">[Sunday 05 September 2010] [02:35:21] &lt;sustrik&gt; if i have some spare time today, i&#8217;ll merge EINTR fix to master  as well</div>
<div class="line">[Sunday 05 September 2010] [04:39:40] &lt;pieter_hintjens&gt; sustrik: hi</div>
<div class="line">[Sunday 05 September 2010] [05:54:31] &lt;sustrik&gt; pieter_hintjens: hi</div>
<div class="line">[Sunday 05 September 2010] [05:57:29] &lt;pieter_hintjens&gt; hi martin... i was wondering about different ways to submit patches</div>
<div class="line">[Sunday 05 September 2010] [05:57:47] &lt;pieter_hintjens&gt; people are using at least three different routes</div>
<div class="line">[Sunday 05 September 2010] [05:57:59] &lt;pieter_hintjens&gt; patches to zeromq-dev, issues, and pull requests</div>
<div class="line">[Sunday 05 September 2010] [05:58:48] &lt;sustrik&gt; i am using patches from the mailing list</div>
<div class="line">[Sunday 05 September 2010] [05:58:56] &lt;sustrik&gt; are there any pending patches anywhere else?</div>
<div class="line">[Sunday 05 September 2010] [05:59:05] &lt;pieter_hintjens&gt; i saw one pull request on the ML today</div>
<div class="line">[Sunday 05 September 2010] [05:59:22] &lt;sustrik&gt; yup</div>
<div class="line">[Sunday 05 September 2010] [05:59:35] &lt;sustrik&gt; that&#8217;s a packaging script thing, it&#8217;s up to mato to manage that one</div>
<div class="line">[Sunday 05 September 2010] [05:59:47]    * sustrik has no idea how packaging works</div>
<div class="line">[Sunday 05 September 2010] [06:00:04] &lt;pieter_hintjens&gt; :-) it&#8217;s more of a consistency thing than anything else</div>
<div class="line">[Sunday 05 September 2010] [06:00:27] &lt;pieter_hintjens&gt; ok, totally different thing, i have a trivial inproc example that refuses to work</div>
<div class="line">[Sunday 05 September 2010] [06:00:39] &lt;sustrik&gt; can you paste is somewhere?</div>
<div class="line">[Sunday 05 September 2010] [06:00:51] &lt;pieter_hintjens&gt; yes, i raised an issue (62) with an example and analysis</div>
<div class="line">[Sunday 05 September 2010] [06:01:00] &lt;sustrik&gt; let me see</div>
<div class="line">[Sunday 05 September 2010] [06:01:56] &lt;pieter_hintjens&gt; i&#8217;ve spent several hours trying different things, ended up doing a sleep... :-/</div>
<div class="line">[Sunday 05 September 2010] [06:03:27] &lt;sustrik&gt; i would say it&#8217;s the inproc reconnect thing</div>
<div class="line">[Sunday 05 September 2010] [06:03:40] &lt;sustrik&gt; inproc reconnect is still unimplemented</div>
<div class="line">[Sunday 05 September 2010] [06:03:58] &lt;sustrik&gt; thus doing connect before bind does not work</div>
<div class="line">[Sunday 05 September 2010] [06:04:34] &lt;sustrik&gt; so, if step1 connects before step2 binds</div>
<div class="line">[Sunday 05 September 2010] [06:04:38] &lt;sustrik&gt; :|</div>
<div class="line">[Sunday 05 September 2010] [06:04:39] &lt;pieter_hintjens&gt; ah, it&#8217;s not just for PAIR sockets</div>
<div class="line">[Sunday 05 September 2010] [06:05:08] &lt;sustrik&gt; it&#8217;s inproc as well</div>
<div class="line">[Sunday 05 September 2010] [06:05:18] &lt;pieter_hintjens&gt; with PUSH/PULL it works a little better, say 90% of the time</div>
<div class="line">[Sunday 05 September 2010] [06:05:19] &lt;sustrik&gt; it&#8217;s not that visible as inproc connection cannot break</div>
<div class="line">[Sunday 05 September 2010] [06:05:25] &lt;pieter_hintjens&gt; with PAIR it dies almost immediately</div>
<div class="line">[Sunday 05 September 2010] [06:05:35] &lt;sustrik&gt; it&#8217;s a timing issue</div>
<div class="line">[Sunday 05 September 2010] [06:05:44] &lt;pieter_hintjens&gt; ok, if this is a known restriction that&#8217;s fine, I can document it</div>
<div class="line">[Sunday 05 September 2010] [06:06:19] &lt;sustrik&gt; Connecting a socket</div>
<div class="line">[Sunday 05 September 2010] [06:06:19] &lt;sustrik&gt;        When connecting a socket to a peer address using zmq_connect() with the inproc transport, the endpoint shall be interpreted as an arbitrary string identifying the name to connect to. The name</div>
<div class="line">[Sunday 05 September 2010] [06:06:19] &lt;sustrik&gt;        must have been previously created by assigning it to at least one socket within the same 0MQ context as the socket being connected.</div>
<div class="line">[Sunday 05 September 2010] [06:06:19] &lt;pieter_hintjens&gt; there is no technical reason it could not work, right?</div>
<div class="line">[Sunday 05 September 2010] [06:06:25] &lt;sustrik&gt; no</div>
<div class="line">[Sunday 05 September 2010] [06:06:26] &lt;pieter_hintjens&gt; hmm, ok</div>
<div class="line">[Sunday 05 September 2010] [06:06:32] &lt;sustrik&gt; just not implemented</div>
<div class="line">[Sunday 05 September 2010] [06:06:39] &lt;pieter_hintjens&gt; excellent, that is all I need</div>
<div class="line">[Sunday 05 September 2010] [06:06:44] &lt;pieter_hintjens&gt; i&#8217;ll close the issue</div>
<div class="line">[Sunday 05 September 2010] [06:06:47] &lt;pieter_hintjens&gt; thx</div>
<div class="line">[Sunday 05 September 2010] [06:06:50] &lt;sustrik&gt; np</div>
<div class="line">[Sunday 05 September 2010] [06:08:10] &lt;pieter_hintjens&gt; &#8220;ZeroMQ is quickly becoming an even bigger hammer in the premature optimization planet of Newbo-Thumbia.&#8221;</div>
<div class="line">[Sunday 05 September 2010] [06:08:24] &lt;pieter_hintjens&gt; vs. &#8220;Then they&#8217;d better find a new rite of passage, because ZeroMQ is turning into a category killer.&#8221;</div>
<div class="line">[Sunday 05 September 2010] [06:08:36] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 05 September 2010] [06:08:53] &lt;pieter_hintjens&gt; that is an excellent discussion...</div>
<div class="line">[Sunday 05 September 2010] [06:09:00] &lt;sustrik&gt; yes, i liked it</div>
<div class="line">[Sunday 05 September 2010] [06:09:20] &lt;pieter_hintjens&gt; i&#8217;m wondering if it&#8217;s worth resurrecting the old amqp file transfer semantics as an example over 0MQ</div>
<div class="line">[Sunday 05 September 2010] [06:09:26] &lt;pieter_hintjens&gt; should be nice and easy to implement</div>
<div class="line">[Sunday 05 September 2010] [06:09:41] &lt;sustrik&gt; if you have resources to do that</div>
<div class="line">[Sunday 05 September 2010] [06:09:58] &lt;sustrik&gt; an example?</div>
<div class="line">[Sunday 05 September 2010] [06:10:00] &lt;pieter_hintjens&gt; well, it&#8217;s a question of what examples are the most valuable</div>
<div class="line">[Sunday 05 September 2010] [06:10:24] &lt;pieter_hintjens&gt; would you rather have a name resolution service or a file transfer service over 0MQ?</div>
<div class="line">[Sunday 05 September 2010] [06:10:27] &lt;sustrik&gt; ah, in the guide?</div>
<div class="line">[Sunday 05 September 2010] [06:10:29] &lt;pieter_hintjens&gt; yeah</div>
<div class="line">[Sunday 05 September 2010] [06:10:43] &lt;sustrik&gt; afaiu the examples in the guide are to be simple</div>
<div class="line">[Sunday 05 September 2010] [06:10:53] &lt;sustrik&gt; file transfer is rather complex</div>
<div class="line">[Sunday 05 September 2010] [06:10:56] &lt;pieter_hintjens&gt; sustrik: with 0MQ everything is simple :-)</div>
<div class="line">[Sunday 05 September 2010] [06:11:03] &lt;sustrik&gt; i mean chopping the files</div>
<div class="line">[Sunday 05 September 2010] [06:11:09] &lt;sustrik&gt; reassemblig them</div>
<div class="line">[Sunday 05 September 2010] [06:11:14] &lt;sustrik&gt; etc.</div>
<div class="line">[Sunday 05 September 2010] [06:11:38] &lt;pieter_hintjens&gt; maybe</div>
<div class="line">[Sunday 05 September 2010] [06:12:00] &lt;pieter_hintjens&gt; actually it&#8217;s not that complex, really</div>
<div class="line">[Sunday 05 September 2010] [06:12:06] &lt;sustrik&gt; it&#8217;s up to you</div>
<div class="line">[Sunday 05 September 2010] [06:12:17] &lt;pieter_hintjens&gt; the sophisticated part is the stage / delivery semantics but that&#8217;s a neat demo of 0MQ IMO</div>
<div class="line">[Sunday 05 September 2010] [06:12:24] &lt;pieter_hintjens&gt; we&#8217;ll see...</div>
<div class="line">[Sunday 05 September 2010] [06:12:33] &lt;sustrik&gt; optinally, it can be a tutorial</div>
<div class="line">[Sunday 05 September 2010] [06:12:40] &lt;pieter_hintjens&gt; yes</div>
<div class="line">[Sunday 05 September 2010] [06:12:52] &lt;pieter_hintjens&gt; it reminded me that someone said &#8220;80% of messaging is still file transfer&#8221;</div>
<div class="line">[Sunday 05 September 2010] [06:13:33] &lt;pieter_hintjens&gt; and it kind of seems that by covering the extreme other side of messaging (from low-latency) we prove the generality of the model</div>
<div class="line">[Sunday 05 September 2010] [06:14:01] &lt;pieter_hintjens&gt; also it fits into the notion of distributed device management via shuffling config files around</div>
<div class="line">[Sunday 05 September 2010] [06:14:05]    * pieter_hintjens will think about it</div>
<div class="line">[Sunday 05 September 2010] [06:14:11] &lt;sustrik&gt; ok</div>
<div class="line">[Sunday 05 September 2010] [06:14:39] &lt;pieter_hintjens&gt; we will need a simple tutorial on how to make and submit git patches</div>
<div class="line">[Sunday 05 September 2010] [06:14:57] &lt;sustrik&gt; enumerating the steps won&#8217;t do?</div>
<div class="line">[Sunday 05 September 2010] [06:15:07] &lt;pieter_hintjens&gt; that would be a simple tutorial, then</div>
<div class="line">[Sunday 05 September 2010] [06:15:10] &lt;pieter_hintjens&gt; it would do, yes</div>
<div class="line">[Sunday 05 September 2010] [06:15:35] &lt;sustrik&gt; gitt diff, send as a main, put [PATCH] in the subject, state it&#8217;s under MIT</div>
<div class="line">[Sunday 05 September 2010] [06:15:43] &lt;sustrik&gt; that&#8217;s it, no?</div>
<div class="line">[Sunday 05 September 2010] [06:15:59] &lt;sustrik&gt; git, mail*</div>
<div class="line">[Sunday 05 September 2010] [06:16:12] &lt;pieter_hintjens&gt; roughly, but some of the details cause problems</div>
<div class="line">[Sunday 05 September 2010] [06:16:32] &lt;pieter_hintjens&gt; &#8220;Honestly? I spent too much time being stuck. I ended up on some crappy tutorial that said to type &#8220;git-format-patch&#8221;, when of course it was &#8220;git format-patch&#8221;. I got stuck on that until I trial-and-error&#8217;d.&#8221;</div>
<div class="line">[Sunday 05 September 2010] [06:16:58] &lt;sustrik&gt; so far we don&#8217;t require formatted patches</div>
<div class="line">[Sunday 05 September 2010] [06:17:05] &lt;sustrik&gt; so simple diff would do</div>
<div class="line">[Sunday 05 September 2010] [06:17:11] &lt;sustrik&gt; not even git diff is needed</div>
<div class="line">[Sunday 05 September 2010] [06:17:22] &lt;sustrik&gt; but it would be nice if people sent formatted patches</div>
<div class="line">[Sunday 05 September 2010] [06:17:22] &lt;pieter_hintjens&gt; mato was saying something about signed-off-by</div>
<div class="line">[Sunday 05 September 2010] [06:17:31] &lt;sustrik&gt; yup</div>
<div class="line">[Sunday 05 September 2010] [06:17:33] &lt;pieter_hintjens&gt; indeed</div>
<div class="line">[Sunday 05 September 2010] [06:17:56] &lt;pieter_hintjens&gt; for later...</div>
<div class="line">[Sunday 05 September 2010] [06:18:14] &lt;sustrik&gt; would be nice to document it though</div>
<div class="line">[Sunday 05 September 2010] [06:18:35] &lt;pieter_hintjens&gt; yes</div>
<div class="line">[Sunday 05 September 2010] [06:18:46] &lt;pieter_hintjens&gt; did you update the contract page or shall I do that</div>
<div class="line">[Sunday 05 September 2010] [06:18:53] &lt;pieter_hintjens&gt; i thought the way you expressed it in the email was very clear</div>
<div class="line">[Sunday 05 September 2010] [06:19:07] &lt;pieter_hintjens&gt; but it needs to be written down, or it&#8217;ll get lost</div>
<div class="line">[Sunday 05 September 2010] [06:20:16] &lt;sustrik&gt; ok, i&#8217;ll do that</div>
<div class="line">[Sunday 05 September 2010] [06:20:44] &lt;pieter_hintjens&gt; what we found, in FFII work, was that it was usually better to edit the page first, then post to the list explaining the change</div>
<div class="line">[Sunday 05 September 2010] [06:21:03] &lt;pieter_hintjens&gt; this is kind of a standard pattern to avoid losing stuff in the email list</div>
<div class="line">[Sunday 05 September 2010] [06:25:33] &lt;sustrik&gt; ok</div>
<div class="line">[Sunday 05 September 2010] [06:25:43] &lt;sustrik&gt; btw, the inproc example</div>
<div class="line">[Sunday 05 September 2010] [06:26:04] &lt;sustrik&gt; you can fix it by launch step1&#8217;s thread from step2</div>
<div class="line">[Sunday 05 September 2010] [06:26:13] &lt;sustrik&gt; that should synchronise it</div>
<div class="line">[Sunday 05 September 2010] [06:27:39] &lt;pieter_hintjens&gt; hmm, nice solution...</div>
<div class="line">[Sunday 05 September 2010] [06:31:39] &lt;pieter_hintjens&gt; ack, that works</div>
<div class="line">[Sunday 05 September 2010] [06:31:45] &lt;sustrik&gt; great</div>
<div class="line">[Sunday 05 September 2010] [06:35:44] &lt;guido_g&gt; hi</div>
<div class="line">[Sunday 05 September 2010] [06:35:58] &lt;guido_g&gt; just saw the patch thing</div>
<div class="line">[Sunday 05 September 2010] [06:36:25] &lt;guido_g&gt; I used git format-patch</div>
<div class="line">[Sunday 05 September 2010] [06:36:44] &lt;guido_g&gt; but i had my changes in a local branch</div>
<div class="line">[Sunday 05 September 2010] [06:37:52] &lt;sustrik&gt; guido_g: hi</div>
<div class="line">[Sunday 05 September 2010] [06:37:59] &lt;sustrik&gt; i am not an expert on git</div>
<div class="line">[Sunday 05 September 2010] [06:38:12] &lt;sustrik&gt; do you need a local branch to be able to format a patch?</div>
<div class="line">[Sunday 05 September 2010] [06:38:47] &lt;guido_g&gt; i&#8217;m no expert neither, but will have a look</div>
<div class="line">[Sunday 05 September 2010] [06:39:20] &lt;sustrik&gt; looks like there&#8217;s a &#8220;single-commit&#8221; mode</div>
<div class="line">[Sunday 05 September 2010] [06:42:52] &lt;guido_g&gt; git format-patch -k &#8211;stdout R1..R2  &lt;- from the examples of git help format-patch</div>
<div class="line">[Sunday 05 September 2010] [06:43:08] &lt;guido_g&gt; seems that it works for commits and ranges of commits</div>
<div class="line">[Sunday 05 September 2010] [06:43:32] &lt;sustrik&gt; nice</div>
<div class="line">[Sunday 05 September 2010] [06:43:38] &lt;guido_g&gt; git format-patch -3  &lt;- sweet</div>
<div class="line">[Sunday 05 September 2010] [06:43:54] &lt;guido_g&gt; last three commits as patches</div>
<div class="line">[Sunday 05 September 2010] [06:44:22] &lt;sustrik&gt; bingo</div>
<div class="line">[Sunday 05 September 2010] [06:44:28] &lt;sustrik&gt; that&#8217;s what most people need</div>
<div class="line">[Sunday 05 September 2010] [06:44:36] &lt;guido_g&gt; uh</div>
<div class="line">[Sunday 05 September 2010] [06:45:06]    * guido_g thinks changes should be done in branches</div>
<div class="line">[Sunday 05 September 2010] [06:46:11] &lt;sustrik&gt; they should, but you don&#8217;t expect newbies submitting patches to deal with branching</div>
<div class="line">[Sunday 05 September 2010] [06:46:29] &lt;sustrik&gt; installing git and learning how to commit is hard enough</div>
<div class="line">[Sunday 05 September 2010] [06:46:54] &lt;sustrik&gt; that&#8217;s why i am happy with applying simple git diffs for now</div>
<div class="line">[Sunday 05 September 2010] [06:47:20] &lt;sustrik&gt; or even dumb old diffs</div>
<div class="line">[Sunday 05 September 2010] [06:47:55] &lt;guido_g&gt; ok</div>
<div class="line">[Sunday 05 September 2010] [06:48:07] &lt;sustrik&gt; step-by-step would be nice though</div>
<div class="line">[Sunday 05 September 2010] [06:48:08] &lt;guido_g&gt; so I spend hours for nothing...</div>
<div class="line">[Sunday 05 September 2010] [06:48:10] &lt;guido_g&gt; :)</div>
<div class="line">[Sunday 05 September 2010] [06:48:18] &lt;sustrik&gt; i mean, that&#8217;s the goal</div>
<div class="line">[Sunday 05 September 2010] [06:48:25] &lt;sustrik&gt; we have to educate people</div>
<div class="line">[Sunday 05 September 2010] [06:48:29] &lt;guido_g&gt; right</div>
<div class="line">[Sunday 05 September 2010] [06:48:48] &lt;sustrik&gt; do we have a patch process described anywhere?</div>
<div class="line">[Sunday 05 September 2010] [06:48:57] &lt;sustrik&gt; hm</div>
<div class="line">[Sunday 05 September 2010] [06:49:05]    * guido_g runs for cover</div>
<div class="line">[Sunday 05 September 2010] [06:49:59] &lt;pieter_hintjens&gt; gudio_g: i think branches are orthogonal to patches</div>
<div class="line">[Sunday 05 September 2010] [06:50:11] &lt;pieter_hintjens&gt; in the simplest case, you clone a repo, make changes, do a diff or git diff, and get a patch</div>
<div class="line">[Sunday 05 September 2010] [06:50:34] &lt;pieter_hintjens&gt; well, that&#8217;s the medium hard case</div>
<div class="line">[Sunday 05 September 2010] [06:50:53] &lt;pieter_hintjens&gt; in the simplest case you take the source code package, make changes, do a diff and get a non-git patch</div>
<div class="line">[Sunday 05 September 2010] [06:51:13] &lt;pieter_hintjens&gt; but that only applies to projects that make source code packages</div>
<div class="line">[Sunday 05 September 2010] [06:51:20] &lt;sustrik&gt; ack, and the hard case requires a topc branch</div>
<div class="line">[Sunday 05 September 2010] [06:51:26] &lt;sustrik&gt; topic*</div>
<div class="line">[Sunday 05 September 2010] [06:52:27] &lt;pieter_hintjens&gt; yes, exactly</div>
<div class="line">[Sunday 05 September 2010] [06:53:07] &lt;pieter_hintjens&gt; for projects like zguide, there is no source package</div>
<div class="line">[Sunday 05 September 2010] [06:53:24] &lt;pieter_hintjens&gt; we have to educate people, as you say</div>
<div class="line">[Sunday 05 September 2010] [06:54:05] &lt;sustrik&gt; we are at the beginning of the road, it&#8217;ll take some time to make this work</div>
<div class="line">[Sunday 05 September 2010] [06:54:13] &lt;sustrik&gt; but it&#8217;s worth of doing</div>
<div class="line">[Sunday 05 September 2010] [06:55:38] &lt;sustrik&gt; guido_g: can you write down your experience with format-patch?</div>
<div class="line">[Sunday 05 September 2010] [06:56:35] &lt;sustrik&gt; it could be used as a basis for the patch process tutorial</div>
<div class="line">[Sunday 05 September 2010] [06:57:54] &lt;guido_g&gt; hmmm</div>
<div class="line">[Sunday 05 September 2010] [06:58:11] &lt;guido_g&gt; i did it by book, three steps and done</div>
<div class="line">[Sunday 05 September 2010] [06:58:22] &lt;guido_g&gt; but if you really want it...</div>
<div class="line">[Sunday 05 September 2010] [06:58:37] &lt;sustrik&gt; yes, please</div>
<div class="line">[Sunday 05 September 2010] [06:58:43] &lt;sustrik&gt; you&#8217;ll spare me an hour :)</div>
<div class="line">[Sunday 05 September 2010] [06:58:46] &lt;pieter_hintjens&gt; guido_g: yes please, we&#8217;ll have to document the whole thing</div>
<div class="line">[Sunday 05 September 2010] [06:58:50] &lt;guido_g&gt; <em>sigh</em></div>
<div class="line">[Sunday 05 September 2010] [06:58:52] &lt;pieter_hintjens&gt; how to submit patch from source package</div>
<div class="line">[Sunday 05 September 2010] [06:59:09] &lt;pieter_hintjens&gt; how to submit patch from git repository clone</div>
<div class="line">[Sunday 05 September 2010] [06:59:12] &lt;guido_g&gt; ok, then i&#8217;ll write down what <em>I</em> did</div>
<div class="line">[Sunday 05 September 2010] [06:59:17] &lt;sustrik&gt; thanks</div>
<div class="line">[Sunday 05 September 2010] [06:59:18] &lt;pieter_hintjens&gt; how to make topic branches and then submit them as patches</div>
<div class="line">[Sunday 05 September 2010] [06:59:37] &lt;pieter_hintjens&gt; can you create a page on the wiki, minimal, and we can take it from there?</div>
<div class="line">[Sunday 05 September 2010] [06:59:52] &lt;pieter_hintjens&gt; you should be able to create pages in the docs: category</div>
<div class="line">[Sunday 05 September 2010] [07:00:06] &lt;pieter_hintjens&gt; &#8220;we&#8221; = everyone who cares about this</div>
<div class="line">[Sunday 05 September 2010] [07:01:02] &lt;guido_g&gt; this cross-domain cookie thing sucks</div>
<div class="line">[Sunday 05 September 2010] [07:02:38] &lt;sustrik&gt; ah, yes</div>
<div class="line">[Sunday 05 September 2010] [07:02:53] &lt;sustrik&gt; pieter, any idea what&#8217;s the problem?</div>
<div class="line">[Sunday 05 September 2010] [07:02:56] &lt;guido_g&gt; ok, where&#8217;s the how-to for the wiki?</div>
<div class="line">[Sunday 05 September 2010] [07:03:09] &lt;guido_g&gt; sustrik: it&#8217;s a wikidot thing</div>
<div class="line">[Sunday 05 September 2010] [07:03:12] &lt;sustrik&gt; guido_g: just post the command lines here</div>
<div class="line">[Sunday 05 September 2010] [07:03:18] &lt;guido_g&gt; ok</div>
<div class="line">[Sunday 05 September 2010] [07:11:01] &lt;guido_g&gt; <a class="reference external" href="http://gist.github.com/565948">http://gist.github.com/565948</a></div>
<div class="line">[Sunday 05 September 2010] [07:11:33] &lt;guido_g&gt; that&#8217;s the whole magic</div>
<div class="line">[Sunday 05 September 2010] [07:12:26] &lt;guido_g&gt; &#8220;git format-patch -1&#8221; is really nice</div>
<div class="line">[Sunday 05 September 2010] [07:13:22] &lt;sustrik&gt; thanks!</div>
<div class="line">[Sunday 05 September 2010] [07:16:40] &lt;jond&gt;    hi</div>
<div class="line">[Sunday 05 September 2010] [07:16:47] &lt;sustrik&gt; jon: hi</div>
<div class="line">[Sunday 05 September 2010] [07:16:59] &lt;jond&gt;    good to see a policy round  the patches</div>
<div class="line">[Sunday 05 September 2010] [07:17:11] &lt;sustrik&gt; ack</div>
<div class="line">[Sunday 05 September 2010] [07:17:12] &lt;sustrik&gt; will you be able to make it for the meetup on tuesday?</div>
<div class="line">[Sunday 05 September 2010] [07:17:35] &lt;jond&gt;    I&#8217;ve had trouble squahsing commits in the past, which are meant to be easier for maintainer</div>
<div class="line">[Sunday 05 September 2010] [07:17:44] &lt;sustrik&gt; i would like to have a talk with you about the subscription forwarding</div>
<div class="line">[Sunday 05 September 2010] [07:18:07] &lt;jond&gt;    tues: should be ok, though had to re-arrange a family thing</div>
<div class="line">[Sunday 05 September 2010] [07:18:20] &lt;sustrik&gt; ah, sorry about that</div>
<div class="line">[Sunday 05 September 2010] [07:19:16] &lt;sustrik&gt; discussing development via emails takes much more time than having a private talk</div>
<div class="line">[Sunday 05 September 2010] [07:19:16] &lt;jond&gt;    also; i can&#8217;t see irc in the dayjob, or twitter etc so if there&#8217;s any last minute change mailing list is best</div>
<div class="line">[Sunday 05 September 2010] [07:19:41] &lt;sustrik&gt; jond: ok, will do</div>
<div class="line">[Sunday 05 September 2010] [07:21:22] &lt;jond&gt;    on the subject of git, the chacon book seems to recommend git pull requests and format patch. it&#8217;s all very powerful but seems easy to hang yrself</div>
<div class="line">[Sunday 05 September 2010] [07:22:08] &lt;sustrik&gt; we&#8217;ll refine the process as we get better in using git</div>
<div class="line">[Sunday 05 September 2010] [07:22:09] &lt;guido_g&gt; format-patch itself is quite nice, as shown above</div>
<div class="line">[Sunday 05 September 2010] [07:22:35] &lt;jond&gt;    am I meant to bring my local patch branches upto date with master/maint before running the diff/format-patch?</div>
<div class="line">[Sunday 05 September 2010] [07:23:01] &lt;sustrik&gt; jond: that would be nice</div>
<div class="line">[Sunday 05 September 2010] [07:23:31] &lt;sustrik&gt; otherwise it&#8217;s up to me to resolve the conflicts</div>
<div class="line">[Sunday 05 September 2010] [07:23:40] &lt;sustrik&gt; which can in turn break your code</div>
<div class="line">[Sunday 05 September 2010] [07:24:12] &lt;sustrik&gt; well, it depends</div>
<div class="line">[Sunday 05 September 2010] [07:24:25] &lt;sustrik&gt; if you are submitting a single-line patch</div>
<div class="line">[Sunday 05 September 2010] [07:24:34] &lt;sustrik&gt; and there have been a lot of change on master</div>
<div class="line">[Sunday 05 September 2010] [07:24:46] &lt;sustrik&gt; it&#8217;s probably easier for me to merge it then for you</div>
<div class="line">[Sunday 05 September 2010] [07:24:50] &lt;jond&gt;    I also think we should recommend squashing the commits, as it makes the patch simpler to read (if git rebase -i works that is)</div>
<div class="line">[Sunday 05 September 2010] [07:25:25] &lt;sustrik&gt; squash = rebase to the actual head?</div>
<div class="line">[Sunday 05 September 2010] [07:25:55] &lt;guido_g&gt; already going way to far</div>
<div class="line">[Sunday 05 September 2010] [07:26:09] &lt;jond&gt;    i am trying to keep in line with 2.0.9 and maint at the moment. what mato seems to have put in place is similar to waht we do with clearcase in the day job.</div>
<div class="line">[Sunday 05 September 2010] [07:26:41] &lt;guido_g&gt; pull -&gt; [branch or not] -&gt; changes -&gt; commit [may be repeated] -&gt; format-patch -&gt; mailing list</div>
<div class="line">[Sunday 05 September 2010] [07:27:59] &lt;jond&gt;    well in the past, I used the rebase to make all the individual commits I did on my branch appear as 1 for delivery. It&#8217;s really annoying to have seperate commits for typo&#8217;s etc</div>
<div class="line">[Sunday 05 September 2010] [07:28:41] &lt;guido_g&gt; but it&#8217;s great if you have different changes made in a row</div>
<div class="line">[Sunday 05 September 2010] [07:28:52] &lt;guido_g&gt; so the maintainer can the ones he likes</div>
<div class="line">[Sunday 05 September 2010] [07:29:25] &lt;guido_g&gt; anyhow, i think i&#8217;ll stick with this easy way</div>
<div class="line">[Sunday 05 September 2010] [07:29:55] &lt;jond&gt;    i&#8217;d use a seperate branch for each change.</div>
<div class="line">[Sunday 05 September 2010] [07:30:33] &lt;guido_g&gt; if you do large changes, that might be ok</div>
<div class="line">[Sunday 05 September 2010] [07:30:53] &lt;guido_g&gt; for smaller ones it&#8217;s sounds like a nightmare</div>
<div class="line">[Sunday 05 September 2010] [07:32:32] &lt;sustrik&gt; jond: i wouldn&#8217;t bother with maint branch for the development work</div>
<div class="line">[Sunday 05 September 2010] [07:32:54] &lt;sustrik&gt; it&#8217;s meant rather for small fixes</div>
<div class="line">[Sunday 05 September 2010] [07:34:04] &lt;sustrik&gt; guido_g: yes, the smaller the patch the simpler the process should be</div>
<div class="line">[Sunday 05 September 2010] [07:34:26] &lt;sustrik&gt; that&#8217;s why i&#8217;m saying i would accept even plain old diffs</div>
<div class="line">[Sunday 05 September 2010] [07:34:45] &lt;guido_g&gt; great</div>
<div class="line">[Sunday 05 September 2010] [07:35:02] &lt;guido_g&gt; lowers the entry barrier</div>
<div class="line">[Sunday 05 September 2010] [07:35:11] &lt;sustrik&gt; exactly</div>
<div class="line">[Sunday 05 September 2010] [07:35:27] &lt;sustrik&gt; however, if you ar woking on new functionality that&#8217;ll take 1/2 yesr to complete</div>
<div class="line">[Sunday 05 September 2010] [07:35:39] &lt;sustrik&gt; you definitely want your own branch</div>
<div class="line">[Sunday 05 September 2010] [07:35:44] &lt;guido_g&gt; and i&#8217;d demand payment :)</div>
<div class="line">[Sunday 05 September 2010] [07:35:51] &lt;sustrik&gt; good point :)</div>
<div class="line">[Sunday 05 September 2010] [07:37:28] &lt;guido_g&gt; so, now that i burned my eggs for brunch while writing git examples, i&#8217;m in the right mood for writing some more tests...</div>
<div class="line">[Sunday 05 September 2010] [07:37:38] &lt;jond&gt;    the many branches thing pretty much also depends on the turnaround of the patch getting to master etc</div>
<div class="line">[Sunday 05 September 2010] [07:38:40] &lt;jond&gt;    guido_g : i should send you the prefix_tree test ( was on the mailing list, i think we need tests now)</div>
<div class="line">[Sunday 05 September 2010] [07:39:19] &lt;jond&gt;    sustrik: hopefully get chance to discuss that pub filtering on tuesday</div>
<div class="line">[Sunday 05 September 2010] [07:41:12] &lt;sustrik&gt; jond: sorry, i&#8217;ve seen it, but i was busy since :(</div>
<div class="line">[Sunday 05 September 2010] [07:43:41] &lt;jond&gt;    yes me too; 0MQ stuff very intermittent  , as dayjob is not involving it all.</div>
<div class="line">[Sunday 05 September 2010] [07:44:13] &lt;guido_g&gt; <em>sigh</em> at least, I&#8217;m not alone...</div>
<div class="line">[Sunday 05 September 2010] [07:44:23] &lt;jond&gt;    incidently a SUB socket can bind can&#8217;t it and then mutiple PUB&#8217;s connect</div>
<div class="line">[Sunday 05 September 2010] [07:46:35] &lt;sustrik&gt; jond: yes</div>
<div class="line">[Sunday 05 September 2010] [07:47:13] &lt;sustrik&gt; thus the subscription should be forwarded to _all_ connected publishers</div>
<div class="line">[Sunday 05 September 2010] [07:47:51] &lt;jond&gt;    ok, then maybe that&#8217;s one for the docs, someone asked that last night on here, they wanted fan-in to single server, I don&#8217;t think we cover that in the docs.</div>
<div class="line">[Sunday 05 September 2010] [07:48:39] &lt;sustrik&gt; it kind of follows from the orthogonality of socket types and binds/connects</div>
<div class="line">[Sunday 05 September 2010] [07:48:53] &lt;sustrik&gt; but yes, it would be nice to mention it somewhere</div>
<div class="line">[Sunday 05 September 2010] [07:49:02] &lt;sustrik&gt; maybe in the guide?</div>
<div class="line">[Sunday 05 September 2010] [07:49:40] &lt;jond&gt;    sustrik: sorry I meant the guide</div>
<div class="line">[Sunday 05 September 2010] [07:50:09] &lt;sustrik&gt; pieter_hintjens: see above, suggestion for the guide</div>
<div class="line">[Sunday 05 September 2010] [07:51:19] &lt;sustrik&gt; btw, the fact that binds/connects are independent of socket types is something that most people don&#8217;t get immediately</div>
<div class="line">[Sunday 05 September 2010] [07:55:22] &lt;jond&gt;    yes, i think that is the problem. there&#8217;s that big book enterprise messaging or whatever be nice to lift some scenarios from there and put in guide in 0MQ terms, which is pretty much what ph has been doing very well.</div>
<div class="line">[Sunday 05 September 2010] [07:56:23] &lt;sustrik&gt; yes, it seems to work</div>
<div class="line">[Sunday 05 September 2010] [07:57:08] &lt;sustrik&gt; btw, i&#8217;ve already seen some job ads requiring 0MQ knowledge so hopefully we&#8217;ll get into the phase where people are actually paid for working on 0MQ</div>
<div class="line">[Sunday 05 September 2010] [07:57:11] &lt;sustrik&gt; we&#8217;ll see</div>
<div class="line">[Sunday 05 September 2010] [07:58:55] &lt;jond&gt;    that&#8217;s interesting news. I can see it being difficult to get 0MQ in some places with established code (understandly so in some cases, like reliable multicast)</div>
<div class="line">[Sunday 05 September 2010] [08:01:48] &lt;sustrik&gt; well, i don&#8217;t expect nasdaq to replace their infrastrucutre by 0mq any time soon :)</div>
<div class="line">[Sunday 05 September 2010] [08:02:11] &lt;sustrik&gt; but small companies are more flexible in adopting new technologies</div>
<div class="line">[Sunday 05 September 2010] [08:05:11] &lt;guido_g&gt; hopefully</div>
<div class="line">[Sunday 05 September 2010] [08:05:37] &lt;guido_g&gt; would be nice to have a mq related day job</div>
<div class="line">[Sunday 05 September 2010] [08:09:08] &lt;sustrik&gt; my guess is that the early adopters are stock trading start-ups</div>
<div class="line">[Sunday 05 September 2010] [08:09:46] &lt;sustrik&gt; that would mean that places like NY, London or Chicago are most interesting</div>
<div class="line">[Sunday 05 September 2010] [08:09:55] &lt;sustrik&gt; i may be wrong though</div>
<div class="line">[Sunday 05 September 2010] [08:10:35] &lt;guido_g&gt; hmmm... with mongrel2 there might be even ordinary web-work available</div>
<div class="line">[Sunday 05 September 2010] [08:10:51] &lt;sustrik&gt; interesting point</div>
<div class="line">[Sunday 05 September 2010] [08:11:11] &lt;sustrik&gt; i haven&#8217;t thought of that as i never done anything with web myself</div>
<div class="line">[Sunday 05 September 2010] [08:11:29] &lt;guido_g&gt; i left it in early 2005 and never looked back :)</div>
<div class="line">[Sunday 05 September 2010] [08:11:41] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 05 September 2010] [08:11:44] &lt;guido_g&gt; never did fronted things anyway</div>
<div class="line">[Sunday 05 September 2010] [08:12:13] &lt;lestrrat&gt;    I doubt mongrel2 would really generate that much 0mq jobs... not at least from the web developer&#8217;s standpoint.</div>
<div class="line">[Sunday 05 September 2010] [08:12:37] &lt;lestrrat&gt;    zeromq is completely abstracted away in the web framework layer, so the web developers won&#8217;t even know ;)</div>
<div class="line">[Sunday 05 September 2010] [08:12:57] &lt;sustrik&gt; right &#8211; unless you want to scale</div>
<div class="line">[Sunday 05 September 2010] [08:13:06] &lt;sustrik&gt; what if you want N web servers</div>
<div class="line">[Sunday 05 September 2010] [08:13:07] &lt;lestrrat&gt;    of course, some of the more curious guys will do interesting web stuff with 0mq</div>
<div class="line">[Sunday 05 September 2010] [08:13:14] &lt;sustrik&gt; and load-balanced services</div>
<div class="line">[Sunday 05 September 2010] [08:13:22] &lt;sustrik&gt; persistence in the middle, etc.</div>
<div class="line">[Sunday 05 September 2010] [08:13:40] &lt;sustrik&gt; that are google-like scenarios afaics</div>
<div class="line">[Sunday 05 September 2010] [08:14:04] &lt;guido_g&gt; would also be nice to have it for mor ebay like things</div>
<div class="line">[Sunday 05 September 2010] [08:14:08] &lt;guido_g&gt; <a href="#id11"><span class="problematic" id="id12">*</span></a>more</div>
<div class="line">[Sunday 05 September 2010] [08:14:14] &lt;lestrrat&gt;    well, you&#8217;re talking about the smart guys, they&#8217;ll do anything. your average joe web devs won&#8217;t touch it with a 40ft pole</div>
<div class="line">[Sunday 05 September 2010] [08:14:16] &lt;lestrrat&gt;    ;)</div>
<div class="line">[Sunday 05 September 2010] [08:14:36] &lt;guido_g&gt; lestrrat: you&#8217;re wrong</div>
<div class="line">[Sunday 05 September 2010] [08:14:42] &lt;guido_g&gt; they do touch it</div>
<div class="line">[Sunday 05 September 2010] [08:14:48] &lt;guido_g&gt; which is the problem...</div>
<div class="line">[Sunday 05 September 2010] [08:15:05] &lt;lestrrat&gt;    I knew where that was going ;)</div>
<div class="line">[Sunday 05 September 2010] [08:15:17] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 05 September 2010] [08:15:38] &lt;guido_g&gt; hehe</div>
<div class="line">[Sunday 05 September 2010] [08:31:23] &lt;guido_g&gt; q: where do i find the declaration of int64_t?</div>
<div class="line">[Sunday 05 September 2010] [08:33:24] &lt;sustrik&gt; guido_g: stdint.h</div>
<div class="line">[Sunday 05 September 2010] [08:33:36] &lt;guido_g&gt; thx</div>
<div class="line">[Sunday 05 September 2010] [09:15:09] &lt;jond&gt;    sustrik: yes, for the large orgs change more likely thru acquisition/merger so small is best for more leading stuff</div>
<div class="line">[Sunday 05 September 2010] [09:16:08] &lt;jond&gt;    re : mongrel2 does anyone understand how the 0MQ integration works? It uses that c based co-routine library?</div>
<div class="line">[Sunday 05 September 2010] [09:37:22] &lt;sustrik&gt; jond: i think so, but i haven&#8217;t checked</div>
<div class="line">[Sunday 05 September 2010] [13:25:56] &lt;cremes&gt;  Tasser: i&#8217;m not on irc very much during the weekends (Chicago, IL, US); if you have questions i recommend you send them to the mailing list</div>
<div class="line">[Sunday 05 September 2010] [14:05:27] &lt;pieter_hintjens&gt; sustrik: re, was out with the family in the woods...</div>
<div class="line">[Sunday 05 September 2010] [14:08:03] &lt;pieter_hintjens&gt; i will cover publishers connecting to subscriber when i find a sensible use case</div>
<div class="line">[Sunday 05 September 2010] [14:08:28] &lt;pieter_hintjens&gt; &#8220;this is what you can do&#8221; is not useful but &#8220;this is how you solve problem X&#8221; is useful</div>
<div class="line">[Sunday 05 September 2010] [14:09:10] &lt;pieter_hintjens&gt; fan-in to single server... maybe for collecting statistics</div>
<div class="line">[Sunday 05 September 2010] [14:09:18] &lt;pieter_hintjens&gt; though why not use PUSH rather than PUB...?</div>
<div class="line">[Sunday 05 September 2010] [14:30:30] &lt;cremes&gt;  pieter_hintjens: fyi, there are some comments on that igvita article that probably need a response</div>
<div class="line">[Sunday 05 September 2010] [14:30:42] &lt;pieter_hintjens&gt; cremes: am actually doing that right now</div>
<div class="line">[Sunday 05 September 2010] [14:30:57] &lt;cremes&gt;  i would respond if i knew anything about boost::asio or sc-whatever</div>
<div class="line">[Sunday 05 September 2010] [14:31:00] &lt;cremes&gt;  cool</div>
<div class="line">[Sunday 05 September 2010] [14:31:00] &lt;pieter_hintjens&gt; though I doubt they &#8220;need&#8221; a response except &#8220;download it and try it&#8221;</div>
<div class="line">[Sunday 05 September 2010] [14:31:07] &lt;cremes&gt;  ha</div>
<div class="line">[Sunday 05 September 2010] [14:31:21] &lt;pieter_hintjens&gt; i&#8217;m reminded of the virgin declaring why sex is so pointless and messy</div>
<div class="line">[Sunday 05 September 2010] [14:31:50] &lt;cremes&gt;  it&#8217;s just a good idea to make sure comments like that don&#8217;t go unanswered especially when google turns up that article in 6 months</div>
<div class="line">[Sunday 05 September 2010] [14:32:14] &lt;pieter_hintjens&gt; ack</div>
<div class="line">[Sunday 05 September 2010] [14:32:26] &lt;cremes&gt;  l8r</div>
<div class="line">[Sunday 05 September 2010] [14:32:28] &lt;pieter_hintjens&gt; if you have specific questions you&#8217;d like me to pontificate on, send me the URLs</div>
<div class="line">[Sunday 05 September 2010] [14:32:40] &lt;cremes&gt;  ack :)</div>
<div class="line">[Sunday 05 September 2010] [14:35:31] &lt;sigmonsays&gt;  does zeroMQ implement AMQP?</div>
<div class="line">[Sunday 05 September 2010] [14:35:38] &lt;DasIch&gt;  sigmonsays: no</div>
<div class="line">[Sunday 05 September 2010] [14:37:29] &lt;sigmonsays&gt;  [newb] is there a doc that describes what protocols it uses? I mean i&#8217;m sure the same concepts exist that AMQP implements..</div>
<div class="line">[Sunday 05 September 2010] [14:41:54] &lt;pieter_hintjens&gt; sigmonsays: rfc.zeromq.org but it&#8217;s out of date</div>
<div class="line">[Sunday 05 September 2010] [14:42:09] &lt;pieter_hintjens&gt; this is one thing i have wanted to make for a while, a correct spec of the protocol</div>
<div class="line">[Sunday 05 September 2010] [14:42:23] &lt;pieter_hintjens&gt; but it is very different to AMQP</div>
<div class="line">[Sunday 05 September 2010] [14:42:56] &lt;pieter_hintjens&gt; AMQP has stupid clients talking to a smart broker</div>
<div class="line">[Sunday 05 September 2010] [14:43:01] &lt;pieter_hintjens&gt; 0MQ has smart clients talking to each other</div>
<div class="line">[Sunday 05 September 2010] [14:43:11] &lt;pieter_hintjens&gt; it means the wire level protocol can be a lot simpler</div>
<div class="line">[Sunday 05 September 2010] [14:50:00] &lt;zedas&gt;   jond: i do. it uses the coroutines and zmq_poll</div>
<div class="line">[Sunday 05 September 2010] [14:52:38] &lt;sigmonsays&gt;  So, if persistence were required, would that be something you&#8217;d implement on the sending side? How does the &#8220;broker&#8221; play a role if clients talk directly to each other? I&#8217;m having a hard time finding a doc that demonstrates a traditional setup</div>
<div class="line">[Sunday 05 September 2010] [14:53:54] &lt;pieter_hintjens&gt; sigmonsays: see if this helps at all: <a class="reference external" href="http://www.zeromq.org/whitepapers:switch-or-broker">http://www.zeromq.org/whitepapers:switch-or-broker</a></div>
<div class="line">[Sunday 05 September 2010] [14:55:05] &lt;sigmonsays&gt;  Thanks, will do</div>
<div class="line">[Sunday 05 September 2010] [14:55:32] &lt;sustrik&gt; in short, there are so called &#8220;devices&#8221; which are basically &#8220;mini-brokers&#8221;; it you need a full fledged broker, there&#8217;s a project that allows you to plug rabbitmq into 0MQ network</div>
<div class="line">[Sunday 05 September 2010] [14:56:32] &lt;sigmonsays&gt;  Yah, I was scanning the amq C API to see what it implements. Quite sexy API =P</div>
<div class="line">[Sunday 05 September 2010] [15:02:55] &lt;sigmonsays&gt;  Is SCTP a supported transport?</div>
<div class="line">[Sunday 05 September 2010] [15:03:18] &lt;sustrik&gt; it would be nice if it was, but no, it isn&#8217;t yet</div>
<div class="line">[Sunday 05 September 2010] [15:04:39] &lt;sustrik&gt; actually, it used to be implemented in old versions of 0MQ but people weren&#8217;t much interested :|</div>
<div class="line">[Sunday 05 September 2010] [15:05:20] &lt;sustrik&gt; it seems there&#8217;s still some kind of fear of using anything other than TCP</div>
<div class="line">[Sunday 05 September 2010] [15:05:37] &lt;pieter_hintjens&gt; I proposed to the IETF that they use SCTP as the basis for WebSockets</div>
<div class="line">[Sunday 05 September 2010] [15:05:42] &lt;pieter_hintjens&gt; the response was interesting</div>
<div class="line">[Sunday 05 September 2010] [15:05:50]    * sustrik is curious</div>
<div class="line">[Sunday 05 September 2010] [15:06:06] &lt;pieter_hintjens&gt; something along the lines of &#8220;it&#8217;s not present on most boxes and therefore will never be used by anyone at all&#8221;</div>
<div class="line">[Sunday 05 September 2010] [15:06:27] &lt;sustrik&gt; hm, right, it not on win boxes</div>
<div class="line">[Sunday 05 September 2010] [15:06:31] &lt;pieter_hintjens&gt; yes indeed</div>
<div class="line">[Sunday 05 September 2010] [15:06:43] &lt;pieter_hintjens&gt; end of story, pretty much</div>
<div class="line">[Sunday 05 September 2010] [15:06:52] &lt;Zao&gt; Nor on most FreeBSD boxen, as it conflicts with things like VIMAGE, if you&#8217;re insane enough to want that.</div>
<div class="line">[Sunday 05 September 2010] [15:07:32] &lt;pieter_hintjens&gt; If anyone wants to comment on <a class="reference external" href="http://www.reddit.com/r/programming/comments/d9jrm/zeromq_networking_stack_sending_millions_of_small/#c0ylyla">http://www.reddit.com/r/programming/comments/d9jrm/zeromq_networking_stack_sending_millions_of_small/#c0ylyla</a></div>
<div class="line">[Sunday 05 September 2010] [15:07:38] &lt;pieter_hintjens&gt; i can&#8217;t login for some weird reason</div>
<div class="line">[Sunday 05 September 2010] [15:09:14] &lt;sustrik&gt; hm, win64 comment</div>
<div class="line">[Sunday 05 September 2010] [15:09:24] &lt;sustrik&gt; does anyone have a win64 installation here?</div>
<div class="line">[Sunday 05 September 2010] [15:09:38] &lt;sustrik&gt; it should be easy to fix</div>
<div class="line">[Sunday 05 September 2010] [15:09:45] &lt;sustrik&gt; if it doesn&#8217;t work</div>
<div class="line">[Sunday 05 September 2010] [15:10:25] &lt;pieter_hintjens&gt; sorry, my virtual box is 32-bit...</div>
<div class="line">[Sunday 05 September 2010] [15:12:40] &lt;jond&gt;    ph: the fan-in question was asked by twcc on irc about 20:00-21:00 last night. they wanted multiple publisher to single server.</div>
<div class="line">[Sunday 05 September 2010] [15:13:10] &lt;pieter_hintjens&gt; jond: do you recall the use case?</div>
<div class="line">[Sunday 05 September 2010] [15:13:58] &lt;pieter_hintjens&gt; &#8220;anyone have a drill for me?&#8221;</div>
<div class="line">[Sunday 05 September 2010] [15:14:01] &lt;pieter_hintjens&gt; &#8220;why?&#8221;</div>
<div class="line">[Sunday 05 September 2010] [15:14:10] &lt;pieter_hintjens&gt; &#8220;i have a headache that won&#8217;t go away&#8221;</div>
<div class="line">[Sunday 05 September 2010] [15:14:15] &lt;jond&gt;    ph: shall i mail the irc, I didnt answer as I wasnt around; steve-o was</div>
<div class="line">[Sunday 05 September 2010] [15:14:29] &lt;Zao&gt; sustrik: Does he refer to PGM being hard/impossible to build?</div>
<div class="line">[Sunday 05 September 2010] [15:14:34] &lt;jond&gt;    ph: you considering trepanation then?</div>
<div class="line">[Sunday 05 September 2010] [15:14:40] &lt;pieter_hintjens&gt; well, exactly</div>
<div class="line">[Sunday 05 September 2010] [15:14:54] &lt;pieter_hintjens&gt; before answering people&#8217;s questions about &#8220;how to do X&#8221;, ask them &#8220;why&#8221;...</div>
<div class="line">[Sunday 05 September 2010] [15:14:57] &lt;sustrik&gt; zao: who are you referring to?</div>
<div class="line">[Sunday 05 September 2010] [15:15:00] &lt;pieter_hintjens&gt; i can see the irc log, will check</div>
<div class="line">[Sunday 05 September 2010] [15:15:32] &lt;Zao&gt; sustrik: I thought that by &#8220;win64&#8221; comment you referred to the lad talking about 64-bit windows in the reddit thread?</div>
<div class="line">[Sunday 05 September 2010] [15:16:02] &lt;pieter_hintjens&gt; jond: bah, simple PUSH-&gt;PULL pattern would do it IMO</div>
<div class="line">[Sunday 05 September 2010] [15:16:22] &lt;sustrik&gt; ah, yes, maybe he was referring to pgm rather than 0mq as such</div>
<div class="line">[Sunday 05 September 2010] [15:16:32] &lt;sustrik&gt; i don&#8217;t have win32 box, cannot check</div>
<div class="line">[Sunday 05 September 2010] [15:16:35] &lt;sustrik&gt; win64*</div>
<div class="line">[Sunday 05 September 2010] [15:16:36] &lt;jond&gt;    ph: IIRC correctly he wanted intermittent/transient clients sending no-ack-needed messages to single server. it was pretty vague</div>
<div class="line">[Sunday 05 September 2010] [15:16:58] &lt;Zao&gt; sustrik: I&#8217;ve got a 64-bit Windows box, but I don&#8217;t trust mq on it at all.</div>
<div class="line">[Sunday 05 September 2010] [15:17:10] &lt;sustrik&gt; Zao: why so?</div>
<div class="line">[Sunday 05 September 2010] [15:17:13] &lt;sustrik&gt; does it fail?</div>
<div class="line">[Sunday 05 September 2010] [15:17:40] &lt;pieter_hintjens&gt; jond: i just read it twice, he wants a push/pull fanin afaics</div>
<div class="line">[Sunday 05 September 2010] [15:17:50] &lt;pieter_hintjens&gt; it&#8217;s covered in chapter 1 of the guide even</div>
<div class="line">[Sunday 05 September 2010] [15:18:00] &lt;pieter_hintjens&gt; should be a standard answer to people who ask for help</div>
<div class="line">[Sunday 05 September 2010] [15:18:14] &lt;pieter_hintjens&gt; &#8220;if you&#8217;ve not read ch1 &amp; ch2 of the guide, do so and then come back&#8221;</div>
<div class="line">[Sunday 05 September 2010] [15:18:15] &lt;Zao&gt; sustrik: I set up a PUB and bind. I set up another thread with a SUB and connect. I subscribe to all topics. I then send lots of short messages which the SUB gets, until after a few dozen, it just blocks in zmq::poll.</div>
<div class="line">[Sunday 05 September 2010] [15:18:27] &lt;Zao&gt; sustrik: I&#8217;ve got to boil it down to a test case before I report it on the issue tracker.</div>
<div class="line">[Sunday 05 September 2010] [15:18:36] &lt;Zao&gt; As well as testing it with another compiler.</div>
<div class="line">[Sunday 05 September 2010] [15:18:50] &lt;sustrik&gt; Zao: great, thanks</div>
<div class="line">[Sunday 05 September 2010] [15:19:00] &lt;Zao&gt; This is 32-bit VC10, by the way.</div>
<div class="line">[Sunday 05 September 2010] [15:19:30] &lt;sustrik&gt; ack</div>
<div class="line">[Sunday 05 September 2010] [15:21:18] &lt;jond&gt;    ph: yes, but you can also do a sub that binds and a pub that connects. There&#8217;s more than one way at present, which is good.</div>
<div class="line">[Sunday 05 September 2010] [15:21:59] &lt;sustrik&gt; ph: centralised logging scanrio?</div>
<div class="line">[Sunday 05 September 2010] [15:25:54] &lt;sigmonsays&gt;  Is the concept of headers up to the user to implement or does something like &#8220;routing-key&#8221; exist? ideally I wouldn&#8217;t want to subscribe based on the serialized data, but the headers accompanying it.</div>
<div class="line">[Sunday 05 September 2010] [15:26:38] &lt;sigmonsays&gt;  ie, ZMQ_SUBSCRIBE example from the user guide</div>
<div class="line">[Sunday 05 September 2010] [15:27:28] &lt;Zao&gt; As far as I understand it, the topic is the prefix part of the data.</div>
<div class="line">[Sunday 05 September 2010] [15:28:21] &lt;sigmonsays&gt;  Well I wouldn&#8217;t want to unpack a serialized message to inspect it is where i&#8217;m getting</div>
<div class="line">[Sunday 05 September 2010] [15:28:42] &lt;sigmonsays&gt;  I suspect I would prefix the compress data with HTTP like headers, but i thought i&#8217;m missing something..</div>
<div class="line">[Sunday 05 September 2010] [15:29:16] &lt;sustrik&gt; you can place your topic into one message part, data to another</div>
<div class="line">[Sunday 05 September 2010] [15:29:34] &lt;sustrik&gt; the matching is always done on the first message part</div>
<div class="line">[Sunday 05 September 2010] [15:29:44] &lt;sigmonsays&gt;  that&#8217;s what I was missing. Thanks</div>
<div class="line">[Sunday 05 September 2010] [15:31:23] &lt;jond&gt;    sustrik: i think logging would be scenario for that use of pub/sub</div>
<div class="line">[Sunday 05 September 2010] [15:32:06] &lt;sustrik&gt; jond: that&#8217;s what ph asked for, no?</div>
<div class="line">[Sunday 05 September 2010] [15:33:58] &lt;sigmonsays&gt;  Is there anything to facilitate message persistence? I am thinking of a WAN setup where aggregation points exist in each pop. Is that where a queue would fit in?</div>
<div class="line">[Sunday 05 September 2010] [15:34:43] &lt;DasIch&gt;  fyi logbook (a python library for logging) does now provide support for a zeromq handler/subscriber</div>
<div class="line">[Sunday 05 September 2010] [15:34:48] &lt;DasIch&gt;  <a class="reference external" href="http://packages.python.org/Logbook/api/queues.html#zeromq">http://packages.python.org/Logbook/api/queues.html#zeromq</a></div>
<div class="line">[Sunday 05 September 2010] [15:35:08] &lt;sustrik&gt; you want messages just to be offloaded to disk, or do you want to survive crash/shutdown?</div>
<div class="line">[Sunday 05 September 2010] [15:36:41] &lt;sigmonsays&gt;  sustrik, good question, You mean HA replication versus disk persistence? I just want the message to be delivered and not lost/corrupted/etc.</div>
<div class="line">[Sunday 05 September 2010] [15:37:01] &lt;sustrik&gt; i mean swapping vs. storage</div>
<div class="line">[Sunday 05 September 2010] [15:37:56] &lt;sigmonsays&gt;  Well swap dies when the box does. So that&#8217;s not ideal</div>
<div class="line">[Sunday 05 September 2010] [15:38:40] &lt;sustrik&gt; then you have to put something that persists messages into the network</div>
<div class="line">[Sunday 05 September 2010] [15:38:42] &lt;jond&gt;    sustrik: i think so. you could probably do a really nice demo with tokyo tyrant which is the reverse index lookup thing of tokyo cabinet. especially if log messages are text</div>
<div class="line">[Sunday 05 September 2010] [15:39:12] &lt;sustrik&gt; i&#8217;ve laready meantioned that there&#8217;s a project that allows you to use RabbitMQ broker as a node in 0mq network</div>
<div class="line">[Sunday 05 September 2010] [15:39:14] &lt;pieter_hintjens&gt; jond: sorry, was writing a post on reddit</div>
<div class="line">[Sunday 05 September 2010] [15:39:32] &lt;pieter_hintjens&gt; sustrik: centralized logging... yes, perhaps</div>
<div class="line">[Sunday 05 September 2010] [15:39:48] &lt;pieter_hintjens&gt; why is that not a push/pull then?</div>
<div class="line">[Sunday 05 September 2010] [15:40:12] &lt;pieter_hintjens&gt; i mean, pubsub is a natural pattern with subscribers that select data</div>
<div class="line">[Sunday 05 September 2010] [15:40:19] &lt;pieter_hintjens&gt; centralized logging is a sink pattern</div>
<div class="line">[Sunday 05 September 2010] [15:40:36] &lt;pieter_hintjens&gt; i don&#8217;t like using knives as screwdrivers, though it works</div>
<div class="line">[Sunday 05 September 2010] [15:40:46] &lt;sustrik&gt; think of the case you would add another application listening to log feed</div>
<div class="line">[Sunday 05 September 2010] [15:40:47] &lt;sigmonsays&gt;  sustrik, I see, rabbitmq broker seems like overkill for persistence. I could see using tyrant/cabinet &#8211; Was wondering if any facilities were already provided. Still newb here.</div>
<div class="line">[Sunday 05 September 2010] [15:40:55] &lt;sustrik&gt; would you want the logs to be load balanced?</div>
<div class="line">[Sunday 05 September 2010] [15:41:04] &lt;sustrik&gt; i don&#8217;t think so</div>
<div class="line">[Sunday 05 September 2010] [15:41:06] &lt;pieter_hintjens&gt; sustrik: then every single app needs to connect to TWO sinks</div>
<div class="line">[Sunday 05 September 2010] [15:41:08] &lt;pieter_hintjens&gt; that&#8217;s insane</div>
<div class="line">[Sunday 05 September 2010] [15:41:22] &lt;pieter_hintjens&gt; or you use a broker/forwarder</div>
<div class="line">[Sunday 05 September 2010] [15:41:36] &lt;sustrik&gt; but not streamer</div>
<div class="line">[Sunday 05 September 2010] [15:41:37] &lt;pieter_hintjens&gt; but then you don&#8217;t connect pubs to subs</div>
<div class="line">[Sunday 05 September 2010] [15:41:42] &lt;pieter_hintjens&gt; no, not streamer</div>
<div class="line">[Sunday 05 September 2010] [15:41:46] &lt;pieter_hintjens&gt; broker, in that case</div>
<div class="line">[Sunday 05 September 2010] [15:41:47] &lt;sustrik&gt; =&gt; it&#8217;s pub/sub</div>
<div class="line">[Sunday 05 September 2010] [15:42:03] &lt;pieter_hintjens&gt; why not push=&gt;pull?</div>
<div class="line">[Sunday 05 September 2010] [15:42:15] &lt;sustrik&gt; because push/pull load balances</div>
<div class="line">[Sunday 05 September 2010] [15:42:19] &lt;sustrik&gt; rather than distributes</div>
<div class="line">[Sunday 05 September 2010] [15:42:22] &lt;pieter_hintjens&gt; yeah, if you want multiple sinks</div>
<div class="line">[Sunday 05 September 2010] [15:42:30] &lt;sustrik&gt; right</div>
<div class="line">[Sunday 05 September 2010] [15:42:31] &lt;pieter_hintjens&gt; you&#8217;d do a push-pull to the broker and then pub-sub to all sinks</div>
<div class="line">[Sunday 05 September 2010] [15:42:44] &lt;pieter_hintjens&gt; still not a use case for pub-&gt;sub connections</div>
<div class="line">[Sunday 05 September 2010] [15:42:49] &lt;sustrik&gt; you can do that, but why?</div>
<div class="line">[Sunday 05 September 2010] [15:43:00] &lt;pieter_hintjens&gt; because it&#8217;s a sink</div>
<div class="line">[Sunday 05 September 2010] [15:43:03] &lt;pieter_hintjens&gt; not a subscriber</div>
<div class="line">[Sunday 05 September 2010] [15:43:16] &lt;pieter_hintjens&gt; ... message queuing semantics work better</div>
<div class="line">[Sunday 05 September 2010] [15:43:26] &lt;pieter_hintjens&gt; i don&#8217;t want to lose log messages if broker isn&#8217;t there</div>
<div class="line">[Sunday 05 September 2010] [15:43:33] &lt;pieter_hintjens&gt; i don&#8217;t want subscriptions</div>
<div class="line">[Sunday 05 September 2010] [15:43:42] &lt;pieter_hintjens&gt; i want everything from all my upstream nodes</div>
<div class="line">[Sunday 05 September 2010] [15:43:44] &lt;pieter_hintjens&gt; it&#8217;s a sink</div>
<div class="line">[Sunday 05 September 2010] [15:43:52] &lt;pieter_hintjens&gt; pubsub is just not accurate...</div>
<div class="line">[Sunday 05 September 2010] [15:44:07] &lt;pieter_hintjens&gt; we do IMO need a new socket type</div>
<div class="line">[Sunday 05 September 2010] [15:44:12] &lt;pieter_hintjens&gt; which is the bus</div>
<div class="line">[Sunday 05 September 2010] [15:44:19] &lt;sustrik&gt; shrug, it depends on you, if you believe that pipelining is the right pattern for message logs go for it</div>
<div class="line">[Sunday 05 September 2010] [15:44:22] &lt;pieter_hintjens&gt; ... as we discussed before wrt error messages internally</div>
<div class="line">[Sunday 05 September 2010] [15:44:38] &lt;pieter_hintjens&gt; it&#8217;s not the right pattern, it&#8217;s part of the pattern</div>
<div class="line">[Sunday 05 September 2010] [15:44:43] &lt;sustrik&gt; pub/sub is a bus</div>
<div class="line">[Sunday 05 September 2010] [15:44:48] &lt;jond&gt;    ph+sustrik: what if we said &#8216;audit&#8217; rather than logging. centralised audit of all messages?</div>
<div class="line">[Sunday 05 September 2010] [15:45:11] &lt;pieter_hintjens&gt; audit, yes, nothing can be lost</div>
<div class="line">[Sunday 05 September 2010] [15:45:29] &lt;pieter_hintjens&gt; pubsub is a stream with no guaranteed start</div>
<div class="line">[Sunday 05 September 2010] [15:45:38] &lt;sustrik&gt; then yes, you want something reliable, like req/rep or pipeline</div>
<div class="line">[Sunday 05 September 2010] [15:45:54] &lt;sustrik&gt; that&#8217;s what most logs are</div>
<div class="line">[Sunday 05 September 2010] [15:45:56] &lt;pieter_hintjens&gt; yes</div>
<div class="line">[Sunday 05 September 2010] [15:45:58] &lt;sustrik&gt; audit is different</div>
<div class="line">[Sunday 05 September 2010] [15:46:04] &lt;pieter_hintjens&gt; logs are audits</div>
<div class="line">[Sunday 05 September 2010] [15:46:12] &lt;Zao&gt; Oh joy. Even more fun behaviour sneaks up. zmq::poll(NULL, 0, t) asserts as winsock select craps itself on maxfd=~0.</div>
<div class="line">[Sunday 05 September 2010] [15:46:14] &lt;pieter_hintjens&gt; losing a single message can be fatal</div>
<div class="line">[Sunday 05 September 2010] [15:46:31] &lt;pieter_hintjens&gt; Zao: FD_SETSIZE?</div>
<div class="line">[Sunday 05 September 2010] [15:47:03] &lt;pieter_hintjens&gt; what is ~0...?</div>
<div class="line">[Sunday 05 September 2010] [15:47:07] &lt;sustrik&gt; nope, zero-sized pollset</div>
<div class="line">[Sunday 05 September 2010] [15:47:24] &lt;sustrik&gt; win32 select obviously don&#8217;t handle it well</div>
<div class="line">[Sunday 05 September 2010] [15:47:36]    * pieter_hintjens vaguely remembers something about that</div>
<div class="line">[Sunday 05 September 2010] [15:47:38] &lt;Zao&gt; pieter_hintjens: maxfd is initialized to zmq::retired_fd and never gets assigned to anything else, as itemcount is 0.</div>
<div class="line">[Sunday 05 September 2010] [15:47:58] &lt;sustrik&gt; Zao: can you report it please?</div>
<div class="line">[Sunday 05 September 2010] [15:47:59] &lt;Zao&gt; winsock whines about invalid parameter, and the only one looking shady is the maxfd.</div>
<div class="line">[Sunday 05 September 2010] [15:48:06] &lt;Zao&gt; sustrik: Yeah.</div>
<div class="line">[Sunday 05 September 2010] [15:48:10] &lt;sustrik&gt; thanks</div>
<div class="line">[Sunday 05 September 2010] [15:51:58] &lt;pieter_hintjens&gt; it looks to me that logging is a good usecase for a broker in fact</div>
<div class="line">[Sunday 05 September 2010] [15:52:09] &lt;pieter_hintjens&gt; i&#8217;ll add this to the list of examples for the guide</div>
<div class="line">[Sunday 05 September 2010] [15:55:39] &lt;pieter_hintjens&gt; sustrik: would it be fair to generalize that any N-to-N architecture needs a device in the middle?</div>
<div class="line">[Sunday 05 September 2010] [15:55:49] &lt;sustrik&gt; definitely</div>
<div class="line">[Sunday 05 September 2010] [15:55:53] &lt;pieter_hintjens&gt; except multicast, perhaps</div>
<div class="line">[Sunday 05 September 2010] [15:55:55] &lt;pieter_hintjens&gt; ok</div>
<div class="line">[Sunday 05 September 2010] [15:56:09] &lt;sustrik&gt; even with multicast you need a network switch in the middle</div>
<div class="line">[Sunday 05 September 2010] [15:56:15] &lt;pieter_hintjens&gt; yes!</div>
<div class="line">[Sunday 05 September 2010] [15:56:21] &lt;sustrik&gt; which is actaully a HW forwarder device</div>
<div class="line">[Sunday 05 September 2010] [15:56:25] &lt;pieter_hintjens&gt; this is worth stating explicitly, it&#8217;s not clear initially why we need devices</div>
<div class="line">[Sunday 05 September 2010] [15:56:32] &lt;pieter_hintjens&gt; i shall do this</div>
<div class="line">[Sunday 05 September 2010] [15:56:37] &lt;sustrik&gt; ok</div>
<div class="line">[Sunday 05 September 2010] [15:57:39] &lt;Zao&gt; Interesting. My testcase code doesn&#8217;t break.</div>
<div class="line">[Sunday 05 September 2010] [15:57:42] &lt;Zao&gt; That&#8217;s annoying :D</div>
<div class="line">[Sunday 05 September 2010] [15:57:58] &lt;sustrik&gt; you mean the poll bug?</div>
<div class="line">[Sunday 05 September 2010] [15:58:14] &lt;sustrik&gt; it&#8217;s obvious what&#8217;s going on there, no need for test case</div>
<div class="line">[Sunday 05 September 2010] [15:58:19] &lt;sustrik&gt; just report it</div>
<div class="line">[Sunday 05 September 2010] [16:00:39] &lt;pieter_hintjens&gt; cremes: ok, here&#8217;s my reply on Reddit: <a class="reference external" href="http://www.reddit.com/r/programming/comments/d9jrm/zeromq_networking_stack_sending_millions_of_small/c0ymlox">http://www.reddit.com/r/programming/comments/d9jrm/zeromq_networking_stack_sending_millions_of_small/c0ymlox</a></div>
<div class="line">[Sunday 05 September 2010] [16:00:39] &lt;Zao&gt; sustrik: No, my other bug where poll on a SUB socket blocks even though the PUB peer keeps spamming it.</div>
<div class="line">[Sunday 05 September 2010] [16:00:51] &lt;Zao&gt; sustrik: The one I&#8217;m trying to drum up a test case for, which doesn&#8217;t depend on D3D11.</div>
<div class="line">[Sunday 05 September 2010] [16:01:00] &lt;sustrik&gt; ah</div>
<div class="line">[Sunday 05 September 2010] [16:02:16] &lt;pieter_hintjens&gt; sustrik: you realize we&#8217;re totally screwed?</div>
<div class="line">[Sunday 05 September 2010] [16:02:33] &lt;sustrik&gt; why so?</div>
<div class="line">[Sunday 05 September 2010] [16:02:48] &lt;pieter_hintjens&gt; lol :-)</div>
<div class="line">[Sunday 05 September 2010] [16:02:59] &lt;pieter_hintjens&gt; 10pm on a Sunday night and this is the most fun place to be</div>
<div class="line">[Sunday 05 September 2010] [16:03:06] &lt;sustrik&gt; good god</div>
<div class="line">[Sunday 05 September 2010] [16:03:09] &lt;pieter_hintjens&gt; yeah</div>
<div class="line">[Sunday 05 September 2010] [16:03:20] &lt;pieter_hintjens&gt; and 0MQ is still under the radar...</div>
<div class="line">[Sunday 05 September 2010] [16:03:47] &lt;sustrik&gt; i&#8217;ve been at a party, but returned to where fun is</div>
<div class="line">[Sunday 05 September 2010] [16:03:58] &lt;pieter_hintjens&gt; splutter...!</div>
<div class="line">[Sunday 05 September 2010] [16:04:02] &lt;sustrik&gt; :)</div>
<div class="line">[Sunday 05 September 2010] [16:04:59] &lt;pieter_hintjens&gt; btw i added two concepts in the latest guide</div>
<div class="line">[Sunday 05 September 2010] [16:05:17] &lt;pieter_hintjens&gt; 1. &#8220;0MQ string&#8221; -&gt; length-delimited string with no trailing null</div>
<div class="line">[Sunday 05 September 2010] [16:05:34] &lt;pieter_hintjens&gt; all the examples now correctly read/write strings in that format when they use strings</div>
<div class="line">[Sunday 05 September 2010] [16:06:40] &lt;sustrik&gt; ok</div>
<div class="line">[Sunday 05 September 2010] [16:08:38] &lt;Zao&gt; Hrm. Docs say that it should completely ignore the maxfd parameter.</div>
<div class="line">[Sunday 05 September 2010] [16:12:11] &lt;sustrik&gt; Zao: i think it does</div>
<div class="line">[Sunday 05 September 2010] [16:12:25] &lt;sustrik&gt; Win32 fd_set is not a real fd_set</div>
<div class="line">[Sunday 05 September 2010] [16:12:37] &lt;sustrik&gt; instead it&#8217;s a vector of SOCKETs</div>
<div class="line">[Sunday 05 September 2010] [16:12:56] &lt;sustrik&gt; it&#8217;s vector of size 0 which causes trouble imo</div>
<div class="line">[Sunday 05 September 2010] [16:18:53] &lt;sigmonsays&gt;  How does using (e)pgm allows multicast to be used reliably?</div>
<div class="line">[Sunday 05 September 2010] [16:19:10] &lt;sustrik&gt; check RFC3208</div>
<div class="line">[Sunday 05 September 2010] [16:19:18] &lt;sustrik&gt; there&#8217;s a resend mechanism</div>
<div class="line">[Sunday 05 September 2010] [16:19:57] &lt;sigmonsays&gt;  rgr</div>
<div class="line">[Sunday 05 September 2010] [22:18:03] &lt;mikejs&gt;  there&#8217;s no INSTALL file in the 2.0.9 tarball, despite it being referenced in the README</div>
<div class="line">[Monday 06 September 2010] [01:10:36] &lt;mato&gt;    mikejs: good catch, my fault for not testing one setting properly, i&#8217;ll fix the tarballs</div>
<div class="line">[Monday 06 September 2010] [04:16:08] &lt;BooTheHamster&gt;   hi</div>
<div class="line">[Monday 06 September 2010] [04:17:20] &lt;mato&gt;    hi BooTheHamster</div>
<div class="line">[Monday 06 September 2010] [04:17:26] &lt;BooTheHamster&gt;   can I connect ZMQ socket to zero port number, e.g. &#8220;<a class="reference external" href="tcp://localhost:0">tcp://localhost:0</a>&#8221;?</div>
<div class="line">[Monday 06 September 2010] [04:17:55] &lt;mato&gt;    0 is not a legal port number, so no :-)</div>
<div class="line">[Monday 06 September 2010] [04:18:34] &lt;BooTheHamster&gt;   ZMQ don&#8217;t get a random port no?</div>
<div class="line">[Monday 06 September 2010] [04:18:47] &lt;mato&gt;    ah, you want dynamically assigned ports on socket?</div>
<div class="line">[Monday 06 September 2010] [04:18:52] &lt;BooTheHamster&gt;   yes</div>
<div class="line">[Monday 06 September 2010] [04:18:54] &lt;mato&gt;    that&#8217;s a different question :)</div>
<div class="line">[Monday 06 September 2010] [04:19:08] &lt;BooTheHamster&gt;   sorry for my english :(</div>
<div class="line">[Monday 06 September 2010] [04:19:12] &lt;mato&gt;    no problem</div>
<div class="line">[Monday 06 September 2010] [04:19:33] &lt;mato&gt;    for dynamically assigned ports, that&#8217;s not possible at the moment but you can emulate it</div>
<div class="line">[Monday 06 September 2010] [04:19:50] &lt;mato&gt;    on the bind side, you&#8217;ll want to do a loop and try to bind to a random port in a portrange</div>
<div class="line">[Monday 06 September 2010] [04:20:40] &lt;mato&gt;    see e.g. how pyzmq does it: <a class="reference external" href="http://github.com/zeromq/pyzmq/blob/master/zmq/_zmq.pyx">http://github.com/zeromq/pyzmq/blob/master/zmq/_zmq.pyx</a></div>
<div class="line">[Monday 06 September 2010] [04:20:49] &lt;mato&gt;    lines 588 onwards, &#8220;bind_to_random_port()&#8221;</div>
<div class="line">[Monday 06 September 2010] [04:21:02] &lt;mato&gt;    you&#8217;ll then want to save the port number you bound to, and connect to that</div>
<div class="line">[Monday 06 September 2010] [04:21:16] &lt;mato&gt;    it&#8217;s a hack, I hope to resolve this properly in 2.1.x</div>
<div class="line">[Monday 06 September 2010] [04:21:21] &lt;mato&gt;    but that is still some way away</div>
<div class="line">[Monday 06 September 2010] [04:21:55] &lt;BooTheHamster&gt;   great thanx, mato :)</div>
<div class="line">[Monday 06 September 2010] [04:22:12] &lt;mato&gt;    BooTheHamster: you&#8217;re welcome</div>
<div class="line">[Monday 06 September 2010] [05:23:41] &lt;Tasser&gt;  no tcl binding for 2.0 yet?</div>
<div class="line">[Monday 06 September 2010] [07:44:01] &lt;BooTheHamster&gt;   Hi. Can I use telnet (or something else) to debugging my application with ZMQ_REP socket?</div>
<div class="line">[Monday 06 September 2010] [07:44:28] &lt;keffo&gt;   I suggest a debugger.</div>
<div class="line">[Monday 06 September 2010] [07:47:51] &lt;BooTheHamster&gt;   I mean that I develop a server application, but don&#8217;t have a client yet. Can I sent a messages to opened ZMQ socket?</div>
<div class="line">[Monday 06 September 2010] [07:48:21] &lt;guido_g&gt; write a simple client first then</div>
<div class="line">[Monday 06 September 2010] [07:50:43] &lt;BooTheHamster&gt;   thanx</div>
<div class="line">[Monday 06 September 2010] [07:50:46] &lt;guido_g&gt; see here for an example <a class="reference external" href="http://github.com/guidog/cpp/blob/master/zmqcpp/sender.cpp">http://github.com/guidog/cpp/blob/master/zmqcpp/sender.cpp</a></div>
<div class="line">[Monday 06 September 2010] [07:51:40] &lt;guido_g&gt; there is even simpler stuff in the tests directory on master</div>
<div class="line">[Monday 06 September 2010] [07:52:56] &lt;BooTheHamster&gt;   thanx, guido_g.</div>
<div class="line">[Monday 06 September 2010] [11:27:39] &lt;pieterh&gt; heh, 0MQ on Reddit two years ago... <a class="reference external" href="http://www.reddit.com/r/programming/comments/6topk/zeromq_fastest_messaging_ever/">http://www.reddit.com/r/programming/comments/6topk/zeromq_fastest_messaging_ever/</a></div>
<div class="line">[Monday 06 September 2010] [11:28:02] &lt;pieterh&gt; &#8220;This sounds like just a big marketing gimmic,&#8221;</div>
<div class="line">[Monday 06 September 2010] [11:28:52] &lt;guido_g&gt; reddit? yes...</div>
<div class="line">[Monday 06 September 2010] [11:28:59] &lt;guido_g&gt; ]:-&gt;</div>
<div class="line">[Monday 06 September 2010] [13:31:40] &lt;sbahra&gt;  pieterh, in all honesty, I first heard about ZeroMQ from the multithreading magic article (which states things like &#8220;To scale further, or developer must switch to 100% lock-free algorithms for data sharing. He is now into the realm of black magic.&#8221;), and it made it seem like ZeroMQ was a marketing gimmick. :-P</div>
<div class="line">[Monday 06 September 2010] [13:32:13] &lt;sbahra&gt;  Now, we&#8217;re seriously looking at using ZeroMQ for the product I&#8217;m involved with. :-P</div>
<div class="line">[Monday 06 September 2010] [13:32:17] &lt;pieterh&gt; sbahra :-)</div>
<div class="line">[Monday 06 September 2010] [13:32:57] &lt;pieterh&gt; can you share what that product is?</div>
<div class="line">[Monday 06 September 2010] [13:33:26] &lt;sbahra&gt;  If we use it, I&#8217;ll let you know.</div>
<div class="line">[Monday 06 September 2010] [13:33:34] &lt;sbahra&gt;  pieterh, it&#8217;s a distributed high performance MTA.</div>
<div class="line">[Monday 06 September 2010] [13:33:45] &lt;pieterh&gt; nice!</div>
<div class="line">[Monday 06 September 2010] [13:34:02] &lt;pieterh&gt; i&#8217;ve thought for a while that 0MQ was ideal for clustered products</div>
<div class="line">[Monday 06 September 2010] [13:34:14] &lt;sbahra&gt;  Based on my basic readings so far, it seems like it.</div>
<div class="line">[Monday 06 September 2010] [13:34:21] &lt;sbahra&gt;  We&#8217;re currently using spread.</div>
<div class="line">[Monday 06 September 2010] [13:34:31]    * pieterh does not know spread</div>
<div class="line">[Monday 06 September 2010] [13:34:40] &lt;sbahra&gt;  Much older than 0MQ, I think. :-)</div>
<div class="line">[Monday 06 September 2010] [13:34:48] &lt;sbahra&gt;  pieterh, <a class="reference external" href="http://spread.org/">http://spread.org/</a></div>
<div class="line">[Monday 06 September 2010] [13:35:12] &lt;pieterh&gt; yeah, found that via google...</div>
<div class="line">[Monday 06 September 2010] [13:35:30] &lt;pieterh&gt; interesting...</div>
<div class="line">[Monday 06 September 2010] [13:36:16] &lt;pieterh&gt; biggest difference I see so far is that Spread uses blue while 0MQ uses red</div>
<div class="line">[Monday 06 September 2010] [13:37:05] &lt;sbahra&gt;  &#8220;Spread currently supports application messages upto around 100Kbytes. Currently the exact size is not exported as part of the API.&#8221;</div>
<div class="line">[Monday 06 September 2010] [13:37:15] &lt;sbahra&gt;  pieterh, it doesn&#8217;t seem like that&#8217;s the case for 0MQ. :-P</div>
<div class="line">[Monday 06 September 2010] [13:37:28] &lt;pieterh&gt; oh... their latency is measured in msec...</div>
<div class="line">[Monday 06 September 2010] [13:37:31] &lt;sbahra&gt;  pieterh, spread is very resilient.</div>
<div class="line">[Monday 06 September 2010] [13:38:51] &lt;pieterh&gt; hmm, it&#8217;s interesting...</div>
<div class="line">[Monday 06 September 2010] [13:38:53] &lt;sbahra&gt;  Anyways, we&#8217;ll see if we switch over to 0MQ sometime next year.</div>
<div class="line">[Monday 06 September 2010] [13:39:03] &lt;sbahra&gt;  I should do some hackery dackery doe. Bye.</div>
<div class="line">[Monday 06 September 2010] [13:39:05] &lt;pieterh&gt; covers a lot of the ground people complain about missing in 0MQ</div>
<div class="line">[Monday 06 September 2010] [13:39:10] &lt;pieterh&gt; cyat</div>
<div class="line">[Tuesday 07 September 2010] [01:57:45] &lt;lestrrat&gt;   I&#8217;m having problems using fork() and making my parent process talk to the child processes via 0mq. I&#8217;m getting segfaults after the child exits and while the parent is in recv()</div>
<div class="line">[Tuesday 07 September 2010] [01:57:50] &lt;lestrrat&gt;   is this supposed to work?</div>
<div class="line">[Tuesday 07 September 2010] [02:55:23] &lt;pieterh&gt;    sustrik: you there?</div>
<div class="line">[Tuesday 07 September 2010] [05:51:33] &lt;pieterh&gt;    anyone here felt that XREP and XREQ could use better names?</div>
<div class="line">[Tuesday 07 September 2010] [05:52:03] &lt;lestrrat&gt;   I just gave a talk to my coworkers about zeromq, and yes, better_names++</div>
<div class="line">[Tuesday 07 September 2010] [05:52:11] &lt;pieterh&gt;    I was thinking of ROUTE and FORWARD</div>
<div class="line">[Tuesday 07 September 2010] [05:53:24]   * lestrrat doesn&#8217;t quite ring a bell</div>
<div class="line">[Tuesday 07 September 2010] [05:53:58] &lt;pieterh&gt;    XREP creates routing envelopes around incoming messages and uses these on output to route replies back to original clients</div>
<div class="line">[Tuesday 07 September 2010] [05:54:12] &lt;pieterh&gt;    XREQ just forwards messages in both directions without touching them</div>
<div class="line">[Tuesday 07 September 2010] [05:55:08] &lt;pieterh&gt;    XREP really looks like a router... it&#8217;s the only socket type that lets you address specific connections</div>
<div class="line">[Tuesday 07 September 2010] [05:55:11] &lt;keffo&gt;  I like &#8216;route&#8217; very much, not forward so much</div>
<div class="line">[Tuesday 07 September 2010] [05:55:36] &lt;pieterh&gt;    yeah, forward wasn&#8217;t inspired</div>
<div class="line">[Tuesday 07 September 2010] [05:55:51] &lt;pieterh&gt;    it has to be a verb</div>
<div class="line">[Tuesday 07 September 2010] [05:56:09] &lt;pieterh&gt;    that says &#8220;move stuff in both directions but don&#8217;t mess with it&#8221;</div>
<div class="line">[Tuesday 07 September 2010] [05:56:30] &lt;pieterh&gt;    PORT</div>
<div class="line">[Tuesday 07 September 2010] [05:56:45] &lt;pieterh&gt;    XFER</div>
<div class="line">[Tuesday 07 September 2010] [06:11:25] &lt;pieterh&gt;    keffo: here&#8217;s a thought: <a class="reference external" href="http://www.zeromq.org/sandbox:mudem">http://www.zeromq.org/sandbox:mudem</a></div>
<div class="line">[Tuesday 07 September 2010] [06:11:56] &lt;pieterh&gt;    lestrrat: does that ring a bell?</div>
<div class="line">[Tuesday 07 September 2010] [06:13:11] &lt;lestrrat&gt;   thinking</div>
<div class="line">[Tuesday 07 September 2010] [06:15:38] &lt;lestrrat&gt;   hmm. I grok ROUTE, but not the mudem part :) but I don&#8217;t have a great alternative plan either</div>
<div class="line">[Tuesday 07 September 2010] [06:15:45] &lt;lestrrat&gt;   naming is hard, eh.</div>
<div class="line">[Tuesday 07 September 2010] [06:17:03] &lt;pieterh&gt;    well, mudem is a play on modem, modulator/demodulator...</div>
<div class="line">[Tuesday 07 September 2010] [06:17:14] &lt;keffo&gt;  pieterh, I have a &#8216;route-codec&#8217; in my code...</div>
<div class="line">[Tuesday 07 September 2010] [06:17:18] &lt;lestrrat&gt;   yeah, I know</div>
<div class="line">[Tuesday 07 September 2010] [06:17:36] &lt;pieterh&gt;    i don&#8217;t like invented words but if one has to invent them they should be expressive</div>
<div class="line">[Tuesday 07 September 2010] [06:18:18] &lt;keffo&gt;  whichi encodes/decodes routes for an xreq</div>
<div class="line">[Tuesday 07 September 2010] [06:18:39] &lt;pieterh&gt;    keffo: sounds right</div>
<div class="line">[Tuesday 07 September 2010] [06:18:48] &lt;pieterh&gt;    creates and uses envelopes, right?</div>
<div class="line">[Tuesday 07 September 2010] [06:20:47] &lt;keffo&gt;  it just handles them, contains a payload the &#8216;enduser&#8217; is interested in, and also has a sendroute function</div>
<div class="line">[Tuesday 07 September 2010] [06:20:48] &lt;pieterh&gt;    well, an alternative to mudem: dispatch</div>
<div class="line">[Tuesday 07 September 2010] [06:21:21] &lt;keffo&gt;  naa, someone who implements any type of loadbalancing of messages is in essense a dispatcher, imo</div>
<div class="line">[Tuesday 07 September 2010] [06:21:47] &lt;pieterh&gt;    true</div>
<div class="line">[Tuesday 07 September 2010] [06:22:06] &lt;pieterh&gt;    it&#8217;s the combo of fanout and fanin</div>
<div class="line">[Tuesday 07 September 2010] [06:23:06] &lt;pieterh&gt;    i think &#8220;multiplex&#8221; is wrong since that suggest copying whereas its distribution</div>
<div class="line">[Tuesday 07 September 2010] [06:23:40] &lt;pieterh&gt;    <a href="#id13"><span class="problematic" id="id14">*</span></a>it&#8217;s</div>
<div class="line">[Tuesday 07 September 2010] [06:23:49] &lt;lestrrat&gt;   yeah, I thought about multiplex, but it didn&#8217;t quite fit</div>
<div class="line">[Tuesday 07 September 2010] [06:24:25] &lt;pieterh&gt;    in terms of use cases, xreq is like push+pull, it ventilates and sinks at once</div>
<div class="line">[Tuesday 07 September 2010] [06:25:24] &lt;pieterh&gt;    one could create a nice pipeline pattern using just XREQ to XREQ</div>
<div class="line">[Tuesday 07 September 2010] [06:27:11] &lt;pieterh&gt;    how about... something more visual... 1TON</div>
<div class="line">[Tuesday 07 September 2010] [06:27:57] &lt;lestrrat&gt;   1000kg!</div>
<div class="line">[Tuesday 07 September 2010] [06:28:30] &lt;pieterh&gt;    yeah</div>
<div class="line">[Tuesday 07 September 2010] [06:28:41] &lt;pieterh&gt;    1-to-N for the pedantic of us</div>
<div class="line">[Tuesday 07 September 2010] [06:30:56] &lt;pieterh&gt;    <a class="reference external" href="http://www.zeromq.org/sandbox:1ton">http://www.zeromq.org/sandbox:1ton</a></div>
<div class="line">[Tuesday 07 September 2010] [06:31:05] &lt;pieterh&gt;    it kind of feels more like a building block now</div>
<div class="line">[Tuesday 07 September 2010] [06:42:46] &lt;keffo&gt;  I have an issue where my worker process simply dissapears, but I cant seem to trap it</div>
<div class="line">[Tuesday 07 September 2010] [06:42:57] &lt;keffo&gt;  no exceptions, no atexits are run.. nada..</div>
<div class="line">[Tuesday 07 September 2010] [06:42:58] &lt;pieterh&gt;    what OS?</div>
<div class="line">[Tuesday 07 September 2010] [06:42:59] &lt;keffo&gt;  very annoying!</div>
<div class="line">[Tuesday 07 September 2010] [06:43:01] &lt;keffo&gt;  win7</div>
<div class="line">[Tuesday 07 September 2010] [06:43:13] &lt;pieterh&gt;    ah, that is a known problem</div>
<div class="line">[Tuesday 07 September 2010] [06:43:21] &lt;keffo&gt;  hu?</div>
<div class="line">[Tuesday 07 September 2010] [06:43:23] &lt;pieterh&gt;    the usual solution is to upgrade to Linux</div>
<div class="line">[Tuesday 07 September 2010] [06:43:26] &lt;pieterh&gt;    sorry :-)</div>
<div class="line">[Tuesday 07 September 2010] [06:43:36] &lt;keffo&gt;  caused by zmq??</div>
<div class="line">[Tuesday 07 September 2010] [06:44:13] &lt;keffo&gt;  tossing away 98% of the global userbase is hardly an upgrade btw :)</div>
<div class="line">[Tuesday 07 September 2010] [06:44:14] &lt;pieterh&gt;    I was kidding, my bad</div>
<div class="line">[Tuesday 07 September 2010] [06:44:15] &lt;pieterh&gt;    what language are you using?</div>
<div class="line">[Tuesday 07 September 2010] [06:44:24] &lt;keffo&gt;  c++, lua</div>
<div class="line">[Tuesday 07 September 2010] [06:44:37] &lt;pieterh&gt;    so you need a debug build of 0MQ IMO</div>
<div class="line">[Tuesday 07 September 2010] [06:44:50] &lt;keffo&gt;  oh it&#8217;s all debug, debugger is attached too :)</div>
<div class="line">[Tuesday 07 September 2010] [06:44:58] &lt;pieterh&gt;    aw :-(</div>
<div class="line">[Tuesday 07 September 2010] [06:45:04] &lt;keffo&gt;  gives me nothing.. I&#8217;ve tried all routes I can think of</div>
<div class="line">[Tuesday 07 September 2010] [06:45:14] &lt;keffo&gt;  abort()?</div>
<div class="line">[Tuesday 07 September 2010] [06:45:20] &lt;keffo&gt;  but why would that be called?</div>
<div class="line">[Tuesday 07 September 2010] [06:45:20] &lt;pieterh&gt;    DebugBreak() afair, then continue it in the debugger</div>
<div class="line">[Tuesday 07 September 2010] [06:45:38] &lt;pieterh&gt;    ... assertion failure?</div>
<div class="line">[Tuesday 07 September 2010] [06:45:46] &lt;keffo&gt;  nada :)</div>
<div class="line">[Tuesday 07 September 2010] [06:46:12] &lt;keffo&gt;  no asserts. no breakpoints, simply dissapears.. windows event log shows nothing</div>
<div class="line">[Tuesday 07 September 2010] [06:46:16] &lt;keffo&gt;  pussling actually</div>
<div class="line">[Tuesday 07 September 2010] [06:46:21] &lt;keffo&gt;  no exceptions are raised either</div>
<div class="line">[Tuesday 07 September 2010] [06:46:40] &lt;keffo&gt;  It&#8217;s as if the app cleanly exits, except it cant since it&#8221;s a while(true)</div>
<div class="line">[Tuesday 07 September 2010] [06:46:57] &lt;pieterh&gt;    it could exit in another thread I guess</div>
<div class="line">[Tuesday 07 September 2010] [06:47:24] &lt;pieterh&gt;    i&#8217;ve not worked on win32 for ages... maybe someone else here can be more helpful</div>
<div class="line">[Tuesday 07 September 2010] [06:47:30] &lt;keffo&gt;  does zmq ever call exit?</div>
<div class="line">[Tuesday 07 September 2010] [06:47:39] &lt;keffo&gt;  (or abort)</div>
<div class="line">[Tuesday 07 September 2010] [06:47:41]   * pieterh egreps the source code...</div>
<div class="line">[Tuesday 07 September 2010] [06:48:04] &lt;pieterh&gt;    nada</div>
<div class="line">[Tuesday 07 September 2010] [06:48:09] &lt;pieterh&gt;    asserts, yes</div>
<div class="line">[Tuesday 07 September 2010] [06:48:43] &lt;pieterh&gt;    98%? keffo, 2010 is the Year of Linux</div>
<div class="line">[Tuesday 07 September 2010] [06:48:51] &lt;pieterh&gt;    it&#8217;s no more than 97.85% by now</div>
<div class="line">[Tuesday 07 September 2010] [06:49:51] &lt;keffo&gt;  if my mom could use any generic desktop linux without calling me, then I&#8221;d agree :)</div>
<div class="line">[Tuesday 07 September 2010] [06:50:10] &lt;pieterh&gt;    hah, my mum actually does use linux and has for years...</div>
<div class="line">[Tuesday 07 September 2010] [06:51:02] &lt;pieterh&gt;    but then again she&#8217;s currently asking me how to hide her IP address so she can troll Anonymous so perhaps she&#8217;s not typical...</div>
<div class="line">[Tuesday 07 September 2010] [06:51:37] &lt;pieterh&gt;    keffo: if you can make a reproducible case, and chop it down, maybe we can reproduce it on another platform</div>
<div class="line">[Tuesday 07 September 2010] [06:52:18] &lt;keffo&gt;  lord no, that would take ages :)</div>
<div class="line">[Tuesday 07 September 2010] [06:52:34] &lt;keffo&gt;  I just want to somehow detect -when- it happens, and go from there, but so far I&#8217;ve been unable to</div>
<div class="line">[Tuesday 07 September 2010] [06:52:54] &lt;pieterh&gt;    then, my friend, you might have to resort to...</div>
<div class="line">[Tuesday 07 September 2010] [06:53:02] &lt;pieterh&gt;    if really you have no other option...</div>
<div class="line">[Tuesday 07 September 2010] [06:53:25] &lt;keffo&gt;  print? =)</div>
<div class="line">[Tuesday 07 September 2010] [06:53:28] &lt;pieterh&gt;    yeah :-)</div>
<div class="line">[Tuesday 07 September 2010] [06:53:38] &lt;pieterh&gt;    don&#8217;t forget the fflush (stdout);</div>
<div class="line">[Tuesday 07 September 2010] [06:54:52] &lt;keffo&gt;  It&#8217;s remarkably reproducable though</div>
<div class="line">[Tuesday 07 September 2010] [06:55:00] &lt;pieterh&gt;    well, that&#8217;s always good</div>
<div class="line">[Tuesday 07 September 2010] [06:55:03] &lt;keffo&gt;  4th time I calculate pi, it dissapears</div>
<div class="line">[Tuesday 07 September 2010] [06:55:24] &lt;pieterh&gt;    hopefully it remains stable as you add hundreds of prints</div>
<div class="line">[Tuesday 07 September 2010] [06:55:40] &lt;pieterh&gt;    you&#8217;re calculating pi?</div>
<div class="line">[Tuesday 07 September 2010] [06:57:24] &lt;keffo&gt;  printing is not the problem, I generate ~250k of logs on each run :)</div>
<div class="line">[Tuesday 07 September 2010] [06:57:42] &lt;keffo&gt;  pi yeah, easy and verifiable thing to calc distributed :)</div>
<div class="line">[Tuesday 07 September 2010] [06:58:04] &lt;pieterh&gt;    is there an algo for distributed pi calculation somewhere?</div>
<div class="line">[Tuesday 07 September 2010] [06:59:03] &lt;keffo&gt;  sure</div>
<div class="line">[Tuesday 07 September 2010] [06:59:08] &lt;keffo&gt;  tons of different I guess</div>
<div class="line">[Tuesday 07 September 2010] [06:59:10] &lt;pieterh&gt;    i had an idea for a supermassive 0MQ project... lol</div>
<div class="line">[Tuesday 07 September 2010] [06:59:39] &lt;pieterh&gt;    not original but who cares...</div>
<div class="line">[Tuesday 07 September 2010] [06:59:40] &lt;keffo&gt;  as did I :)</div>
<div class="line">[Tuesday 07 September 2010] [06:59:43] &lt;keffo&gt;      for i=self.beginspan, self.endspan do</div>
<div class="line">[Tuesday 07 September 2010] [06:59:43] &lt;keffo&gt;          localpi = localpi + (1.0 / (i * 4.0 + 1.0) )</div>
<div class="line">[Tuesday 07 September 2010] [06:59:43] &lt;keffo&gt;          localpi = localpi - (1.0 / (i * 4.0 + 3.0) )</div>
<div class="line">[Tuesday 07 September 2010] [07:00:15] &lt;keffo&gt;  do that for each subspan of some arbitrary length, then sum them all up and the answer * 4 is pi :)</div>
<div class="line">[Tuesday 07 September 2010] [07:00:30] &lt;pieterh&gt;    not 42? weird...</div>
<div class="line">[Tuesday 07 September 2010] [07:00:36] &lt;keffo&gt;  hehe</div>
<div class="line">[Tuesday 07 September 2010] [07:00:50] &lt;pieterh&gt;    aight, so if we have a server somewhere that distributes workloads, and a simple 0MQ client that accepts them...</div>
<div class="line">[Tuesday 07 September 2010] [07:01:52] &lt;pieterh&gt;    has surely been done dozens of times</div>
<div class="line">[Tuesday 07 September 2010] [07:02:08] &lt;keffo&gt;  I&#8217;m doing a fairly more complicated scenario, but yeah</div>
<div class="line">[Tuesday 07 September 2010] [07:05:18] &lt;keffo&gt;  and I guess you can figure out why I want something a bit more flexibe than roundrobin :)</div>
<div class="line">[Tuesday 07 September 2010] [07:06:00] &lt;pieterh&gt;    right now I&#8217;m writing examples on how to use XREP to do routing</div>
<div class="line">[Tuesday 07 September 2010] [07:06:25] &lt;keffo&gt;  good, it was messy :)</div>
<div class="line">[Tuesday 07 September 2010] [07:06:32] &lt;pieterh&gt;    how so?</div>
<div class="line">[Tuesday 07 September 2010] [07:06:40] &lt;pieterh&gt;    you mean no documentation on the envelopes etc.?</div>
<div class="line">[Tuesday 07 September 2010] [07:06:41] &lt;keffo&gt;  just not very nicely explained</div>
<div class="line">[Tuesday 07 September 2010] [07:06:47] &lt;pieterh&gt;    right...</div>
<div class="line">[Tuesday 07 September 2010] [07:13:09] &lt;keffo&gt;  I would explain it as a stack+req...</div>
<div class="line">[Tuesday 07 September 2010] [07:13:30] &lt;keffo&gt;  push, push, push, payload, then pop,pop,pop, payload on the other side</div>
<div class="line">[Tuesday 07 September 2010] [07:14:48] &lt;keffo&gt;  btw, what happens in a queue device if a client never reconnects? will the msg linger indef.?</div>
<div class="line">[Tuesday 07 September 2010] [07:21:02] &lt;keffo&gt;  btw, what happens in a queue device if a client never reconnects? will the msg linger indef.?</div>
<div class="line">[Tuesday 07 September 2010] [07:21:46] &lt;pieterh&gt;    hmm, you mean a reply?</div>
<div class="line">[Tuesday 07 September 2010] [07:21:53] &lt;pieterh&gt;    with or without identity?</div>
<div class="line">[Tuesday 07 September 2010] [07:22:19] &lt;pieterh&gt;    this is what 0MQ/2.1 is fixing</div>
<div class="line">[Tuesday 07 September 2010] [07:22:34] &lt;pieterh&gt;    it will wait in some cases, discard in other cases</div>
<div class="line">[Tuesday 07 September 2010] [07:22:41] &lt;keffo&gt;  in general, the whole reconnect business</div>
<div class="line">[Tuesday 07 September 2010] [07:22:53] &lt;keffo&gt;  if it goes into the queue but never out, what happens to it?</div>
<div class="line">[Tuesday 07 September 2010] [07:23:15] &lt;pieterh&gt;    well, the queue is per socket, eventually</div>
<div class="line">[Tuesday 07 September 2010] [07:23:52]   * pieterh wishes the description of this had been documented beforehand</div>
<div class="line">[Tuesday 07 September 2010] [07:24:13] &lt;pieterh&gt;    there is not yet a proper explanation of how the 2.1 socket close semantics should work</div>
<div class="line">[Tuesday 07 September 2010] [07:24:15] &lt;pieterh&gt;    afaik</div>
<div class="line">[Tuesday 07 September 2010] [07:24:29] &lt;keffo&gt;  client(100msgs) -&gt; queuedev -&gt; service, then back again, except the client is gone forever..</div>
<div class="line">[Tuesday 07 September 2010] [07:24:50] &lt;pieterh&gt;    anonymous clients -&gt; messages get thrown away</div>
<div class="line">[Tuesday 07 September 2010] [07:25:06] &lt;pieterh&gt;    client with identity -&gt; messages persist as long as service is running</div>
<div class="line">[Tuesday 07 September 2010] [07:25:25] &lt;keffo&gt;  ok</div>
<div class="line">[Tuesday 07 September 2010] [07:25:35] &lt;pieterh&gt;    0MQ does have the concept of a connection going away</div>
<div class="line">[Tuesday 07 September 2010] [07:26:11] &lt;pieterh&gt;    otherwise PUB sockets for example would end up with horrid resource leaks</div>
<div class="line">[Tuesday 07 September 2010] [07:26:59] &lt;keffo&gt;  I need to introduce some sort of session.. if I have (known)client A, does a bunch of test junk(like pi), but aborts prematurely, but then reconnects to start some other type of job, I dont want to receive a bunch of old pi results :)</div>
<div class="line">[Tuesday 07 September 2010] [07:27:42] &lt;keffo&gt;  and I would need to be able to tell all parties involved to dump everything related to an &#8220;old&#8221; session as well</div>
<div class="line">[Tuesday 07 September 2010] [07:28:41] &lt;pieterh&gt;    keffo: this starts to be industrial design work</div>
<div class="line">[Tuesday 07 September 2010] [07:29:06] &lt;keffo&gt;  pieterh, what do you mean?</div>
<div class="line">[Tuesday 07 September 2010] [07:29:57] &lt;pieterh&gt;    i mean, what you&#8217;re making is heavy duty...</div>
<div class="line">[Tuesday 07 September 2010] [07:30:04] &lt;keffo&gt;  oh very much :)</div>
<div class="line">[Tuesday 07 September 2010] [07:30:25] &lt;keffo&gt;  it has fried my brain on may occasions.. Tons of papers of diagrams spread all over the place :)</div>
<div class="line">[Tuesday 07 September 2010] [07:30:32] &lt;pieterh&gt;    if you have budget to throw at it, i can recommend an industrial 0MQ designer like Mato here</div>
<div class="line">[Tuesday 07 September 2010] [07:31:07] &lt;keffo&gt;  the bulk of the work is not the transport &amp; topology though</div>
<div class="line">[Tuesday 07 September 2010] [07:31:15] &lt;keffo&gt;  although that needs to obviously be stable</div>
<div class="line">[Tuesday 07 September 2010] [07:31:48] &lt;pieterh&gt;    well, you need an infrastructure that understands &#8216;sessions&#8217;</div>
<div class="line">[Tuesday 07 September 2010] [07:32:01] &lt;keffo&gt;  Sure, but that&#8221;s already handled</div>
<div class="line">[Tuesday 07 September 2010] [07:32:22] &lt;pieterh&gt;    what do you still need then?</div>
<div class="line">[Tuesday 07 September 2010] [07:32:32] &lt;pieterh&gt;    apart from the thing not crashing...</div>
<div class="line">[Tuesday 07 September 2010] [07:32:37] &lt;keffo&gt;  hehe</div>
<div class="line">[Tuesday 07 September 2010] [07:32:47] &lt;keffo&gt;  lingering data trying to reconnect for one.</div>
<div class="line">[Tuesday 07 September 2010] [07:33:20] &lt;keffo&gt;  oh and more liberal means of implementing loadbalancing, but I&#8217;ve made that point already :)</div>
<div class="line">[Tuesday 07 September 2010] [07:34:02] &lt;pieterh&gt;    well, load balancing using XREP routing is pretty clear, and will be nicely explained in Ch3 of the Guide</div>
<div class="line">[Tuesday 07 September 2010] [07:34:19] &lt;keffo&gt;  will be? =)</div>
<div class="line">[Tuesday 07 September 2010] [07:34:29] &lt;pieterh&gt;    is in progress if I was not chatting here :-)</div>
<div class="line">[Tuesday 07 September 2010] [07:34:39] &lt;pieterh&gt;    anything to do with maintaining overall state is a different kettle of chicken, though</div>
<div class="line">[Tuesday 07 September 2010] [07:34:45] &lt;keffo&gt;  But I think I know what that will say by now :)</div>
<div class="line">[Tuesday 07 September 2010] [07:35:05] &lt;pieterh&gt;    hopefully, yeah</div>
<div class="line">[Tuesday 07 September 2010] [07:35:41] &lt;keffo&gt;  what I&#8217;m doing is something I&#8217;ve thought about for years though, so it should work :)</div>
<div class="line">[Tuesday 07 September 2010] [07:35:55] &lt;keffo&gt;  zmq solved a big gaping questionmark though :)</div>
<div class="line">[Tuesday 07 September 2010] [07:36:43] &lt;keffo&gt;  I might be getting a job soon though, so dev on this wll sadly be sidetracked to weekends and evenings only though :/</div>
<div class="line">[Tuesday 07 September 2010] [07:37:32] &lt;pieterh&gt;    is it open source?</div>
<div class="line">[Tuesday 07 September 2010] [07:38:22] &lt;keffo&gt;  it might be eventually!</div>
<div class="line">[Tuesday 07 September 2010] [07:38:53] &lt;keffo&gt;  would benefit the lua community I guess</div>
<div class="line">[Tuesday 07 September 2010] [07:38:58] &lt;pieterh&gt;    well... i&#8217;ve learned two relevant things here having done software for way too long</div>
<div class="line">[Tuesday 07 September 2010] [07:39:04] &lt;pieterh&gt;    a. if it&#8217;s not open source it will die</div>
<div class="line">[Tuesday 07 September 2010] [07:39:17] &lt;pieterh&gt;    b. if you don&#8217;t start as open source you can&#8217;t make it work afterwards</div>
<div class="line">[Tuesday 07 September 2010] [07:40:02] &lt;keffo&gt;  I dont agree, and I&#8217;ve never done anything other than software :)</div>
<div class="line">[Tuesday 07 September 2010] [07:40:10] &lt;pieterh&gt;    cause it&#8217;s not about building code but about building community...</div>
<div class="line">[Tuesday 07 September 2010] [07:40:43] &lt;pieterh&gt;    good luck, anyhow</div>
<div class="line">[Tuesday 07 September 2010] [07:41:19] &lt;keffo&gt;  I wasnt thinking of opensource as in leveraging resources, but simply aiding someone else, when I&#8217;m done with it :)</div>
<div class="line">[Tuesday 07 September 2010] [07:41:49] &lt;pieterh&gt;    nah, without people who helped make the code, it dies as soon as your evenings and weekends aren&#8217;t available any more</div>
<div class="line">[Tuesday 07 September 2010] [07:42:34] &lt;pieterh&gt;    it&#8217;s not about leveraging resources but about software that lives past the &#8220;free time&#8221; of its creator</div>
<div class="line">[Tuesday 07 September 2010] [07:43:00] &lt;pieterh&gt;    imho</div>
<div class="line">[Tuesday 07 September 2010] [07:43:02] &lt;keffo&gt;  Oh, it&#8217;s not free time at all, but I need to work for a bit to not starve :)</div>
<div class="line">[Tuesday 07 September 2010] [07:43:33] &lt;pieterh&gt;    starving is not pleasant, no</div>
<div class="line">[Tuesday 07 September 2010] [07:44:20] &lt;keffo&gt;  Not so much starving, but keeping girlfriend happier :)</div>
<div class="line">[Tuesday 07 September 2010] [07:45:03] &lt;keffo&gt;  when this is done, it will take me &amp; the other dude about 2-3 weeks to produce the actual product we&#8217;ll eventually sell.. -That- part is already planned and so forth..</div>
<div class="line">[Tuesday 07 September 2010] [07:45:17] &lt;keffo&gt;  And ones that happens, there is no benefit to keep the code not opensource</div>
<div class="line">[Tuesday 07 September 2010] [07:46:12] &lt;keffo&gt;  err, once..</div>
<div class="line">[Tuesday 07 September 2010] [07:46:53] &lt;pieterh&gt;    :-) good spellng is hrad somtimes</div>
<div class="line">[Tuesday 07 September 2010] [07:55:59] &lt;keffo&gt;  um, this is odd</div>
<div class="line">[Tuesday 07 September 2010] [07:56:10] &lt;keffo&gt;  I wonder if lua might freak a little at some weird binary</div>
<div class="line">[Tuesday 07 September 2010] [09:51:25] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r6d4ffd9 10/ (src/fq.cpp src/lb.cpp): Bug in fq_t and lb_t (when used via ZMQ_EVENTS option) fixed - <a class="reference external" href="http://bit.ly/cvOPzL">http://bit.ly/cvOPzL</a></div>
<div class="line">[Tuesday 07 September 2010] [10:43:46] Whois    keffo is <a class="reference external" href="mailto:~keffo&#37;&#52;&#48;95&#46;209&#46;76&#46;53&#46;bredband&#46;tre&#46;se">~keffo<span>&#64;</span>95<span>&#46;</span>209<span>&#46;</span>76<span>&#46;</span>53<span>&#46;</span>bredband<span>&#46;</span>tre<span>&#46;</span>se</a> (Stefan Sandberg)</div>
<div class="line">[Tuesday 07 September 2010] [10:43:46] Whois    keffo is a user on channels: #zeromq</div>
<div class="line">[Tuesday 07 September 2010] [10:43:46] Whois    keffo is online via lindbohm.freenode.net (Stockholm, Sweden).</div>
<div class="line">[Tuesday 07 September 2010] [10:43:46] Whois    keffo has been idle for 2 hours, 47 minutes, and 36 seconds.</div>
<div class="line">[Tuesday 07 September 2010] [10:43:46] Whois    keffo has been online since 2010-09-07 02:18:32.</div>
<div class="line">[Tuesday 07 September 2010] [10:43:46] Whois    keffo is logged in as Keffo.</div>
<div class="line">[Tuesday 07 September 2010] [10:43:46] Whois    End of WHOIS list.</div>
<div class="line">[Tuesday 07 September 2010] [11:14:02] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * rf374431 10/ src/pipe.hpp : get rid of &#8216;has virtual functions but non-virtual destructor&#8217; warnings in pipe.hpp - <a class="reference external" href="http://bit.ly/9Relxm">http://bit.ly/9Relxm</a></div>
<div class="line">[Tuesday 07 September 2010] [11:21:12] &lt;Tasser&gt; cremes, it&#8217;s more about the ruby part you wrote</div>
<div class="line">[Tuesday 07 September 2010] [11:21:36] &lt;cremes&gt; Tasser: i&#8217;m around if you have questions</div>
<div class="line">[Tuesday 07 September 2010] [11:21:55] &lt;Tasser&gt; cremes, oh, just asking for the big picture</div>
<div class="line">[Tuesday 07 September 2010] [11:22:03] &lt;Tasser&gt; aka what is where, how to stuff flows</div>
<div class="line">[Tuesday 07 September 2010] [11:22:17] &lt;cremes&gt; sure...</div>
<div class="line">[Tuesday 07 September 2010] [11:22:28] &lt;Tasser&gt; and probably write it down into your git</div>
<div class="line">[Tuesday 07 September 2010] [11:22:35] &lt;Tasser&gt; HACKING or something like that :-)</div>
<div class="line">[Tuesday 07 September 2010] [11:22:46] &lt;cremes&gt; whatever i write here, i&#8217;ll clean up and add to the README</div>
<div class="line">[Tuesday 07 September 2010] [11:23:20] &lt;cremes&gt; ZM::Reactor is a thread that contains a single ZMQ context</div>
<div class="line">[Tuesday 07 September 2010] [11:23:45] &lt;cremes&gt; from this context, you can create any kind of socket</div>
<div class="line">[Tuesday 07 September 2010] [11:23:59] &lt;cremes&gt; (stop me if i&#8217;m not answering your question)</div>
<div class="line">[Tuesday 07 September 2010] [11:24:21] &lt;cremes&gt; during socket creation, you pass a ruby object that will act as that socket&#8217;s handler</div>
<div class="line">[Tuesday 07 September 2010] [11:24:32] &lt;Tasser&gt; callback?</div>
<div class="line">[Tuesday 07 September 2010] [11:24:41] &lt;cremes&gt; the handler should provide on_attach, on_writable and on_readable methods</div>
<div class="line">[Tuesday 07 September 2010] [11:25:32] &lt;cremes&gt; the on_attach method is called right away and lets you set things up (kind of like a constructor)</div>
<div class="line">[Tuesday 07 September 2010] [11:25:47] &lt;Tasser&gt; so why not #new ?</div>
<div class="line">[Tuesday 07 September 2010] [11:25:52] &lt;cremes&gt; the on_readable and on_writable methods are called when the socket is polled for those events and finds them to be true</div>
<div class="line">[Tuesday 07 September 2010] [11:26:09] &lt;cremes&gt; explain what you mean by &#8220;not #new&#8221;?</div>
<div class="line">[Tuesday 07 September 2010] [11:27:58] &lt;Tasser&gt; create a new instance per socket, so call #new and on that instance #on_writable, #on_readable</div>
<div class="line">[Tuesday 07 September 2010] [11:29:26] &lt;cremes&gt; the handler instance is just a regular ruby class that implements the 3 methods i mentioned</div>
<div class="line">[Tuesday 07 September 2010] [11:29:56] &lt;cremes&gt; it has a constructor (def initialize(<a href="#id15"><span class="problematic" id="id16">*</span></a>args) nil; end) just like any other class</div>
<div class="line">[Tuesday 07 September 2010] [11:30:16] &lt;Tasser&gt; less abstraction than EM</div>
<div class="line">[Tuesday 07 September 2010] [11:30:21] &lt;cremes&gt; you <em>could</em> use one instance of a class to manage multiple sockets; look at the one-handed-ping-pong example</div>
<div class="line">[Tuesday 07 September 2010] [11:30:33] &lt;Tasser&gt; yeah, having that one here atm</div>
<div class="line">[Tuesday 07 September 2010] [11:30:36] &lt;cremes&gt; yeah, EM is kind of confusing with the EM::Connection stuff</div>
<div class="line">[Tuesday 07 September 2010] [11:31:18] &lt;Tasser&gt; meh, gotta go :-(</div>
<div class="line">[Tuesday 07 September 2010] [11:31:25] &lt;cremes&gt; sure</div>
<div class="line">[Tuesday 07 September 2010] [11:31:50] &lt;cremes&gt; i&#8217;m usually on irc from 8am to 5pm central standard time (gmt -6, i think)</div>
<div class="line">[Tuesday 07 September 2010] [11:32:08] &lt;cremes&gt; ping me if you have more questions or send them to the 0mq ml</div>
<div class="line">[Tuesday 07 September 2010] [11:33:20] &lt;bbigras&gt;    Is there a way to build zeromq with mingw?</div>
<div class="line">[Tuesday 07 September 2010] [11:33:47] &lt;cremes&gt; bbigras: luislavena (rubyinstaller.org guy) has been playing with that</div>
<div class="line">[Tuesday 07 September 2010] [11:34:14] &lt;cremes&gt; he opened an issue on github to fix a problem he encountered</div>
<div class="line">[Tuesday 07 September 2010] [11:34:24] &lt;cremes&gt; so as far as i know he succeeded</div>
<div class="line">[Tuesday 07 September 2010] [11:34:32] &lt;bbigras&gt;    cremes: nice, thanks!</div>
<div class="line">[Tuesday 07 September 2010] [11:35:16] &lt;bbigras&gt;    cremes: Do you know if anyone had success using zeromq with Qt without having to disable Qt&#8217;s signal/slot macros?</div>
<div class="line">[Tuesday 07 September 2010] [11:36:11] &lt;cremes&gt; i haven&#8217;t heard anything about that, so no</div>
<div class="line">[Tuesday 07 September 2010] [11:36:23] &lt;cremes&gt; you might try asking on the 0mq ML</div>
<div class="line">[Tuesday 07 September 2010] [11:38:07] &lt;bbigras&gt;    cremes: thanks</div>
<div class="line">[Tuesday 07 September 2010] [14:17:07] &lt;ModusPwnens&gt;    hi</div>
<div class="line">[Tuesday 07 September 2010] [14:17:50] &lt;ModusPwnens&gt;    Is there anyone in here that has used google protobufs with zeromq? I&#8217;m wondering what kind of throughput is normal when using google protobufs</div>
<div class="line">[Tuesday 07 September 2010] [14:20:19] &lt;cremes&gt; ModusPwnens: i recommend you write a small benchmark that serializes/deserializes your data</div>
<div class="line">[Tuesday 07 September 2010] [14:20:31] &lt;cremes&gt; and see what the upper limit is on your message rate</div>
<div class="line">[Tuesday 07 September 2010] [14:20:48] &lt;cremes&gt; then 0mq will have that as its upper limit for throughput</div>
<div class="line">[Tuesday 07 September 2010] [14:41:24] &lt;ModusPwnens&gt;    yeah i did this cremes</div>
<div class="line">[Tuesday 07 September 2010] [14:41:40] &lt;ModusPwnens&gt;    I am just wondering whether or not my results are expected</div>
<div class="line">[Tuesday 07 September 2010] [14:42:11] &lt;ModusPwnens&gt;    Hmm, well actually, I benchmarked it with zeromq too</div>
<div class="line">[Tuesday 07 September 2010] [14:42:30] &lt;ModusPwnens&gt;    so it&#8217;s timing how long it takes to send messages as well</div>
<div class="line">[Tuesday 07 September 2010] [14:44:04] &lt;cremes&gt; ModusPwnens: yeah, take 0mq out of the equation to get an upper bound</div>
<div class="line">[Tuesday 07 September 2010] [14:44:17] &lt;cremes&gt; <em>then</em> you can test with 0mq to see what kind of overhead it is introducing</div>
<div class="line">[Tuesday 07 September 2010] [14:57:44] &lt;ModusPwnens&gt;    Hmm, another thing, I am having somewhat surprising results with the remote/local throughput tests</div>
<div class="line">[Tuesday 07 September 2010] [14:58:27] &lt;ModusPwnens&gt;    I am just using localhost, but I only get around 200 Mb/s throughput, which seems low to me.</div>
<div class="line">[Tuesday 07 September 2010] [14:59:26] &lt;cremes&gt; ModusPwnens: try increasing the message body size from 50 bytes (from the example you posted last week) to something larger</div>
<div class="line">[Tuesday 07 September 2010] [14:59:44] &lt;cremes&gt; also, note that the remote/local tests are doing a ping pong with REQ/REP sockets</div>
<div class="line">[Tuesday 07 September 2010] [15:00:06] &lt;cremes&gt; you could see higher throughput on a PUB socket</div>
<div class="line">[Tuesday 07 September 2010] [15:01:07] &lt;ModusPwnens&gt;    Yeah, I have tried with larger message sizes. 5000 byte and 2500 count messages</div>
<div class="line">[Tuesday 07 September 2010] [15:01:38] &lt;ModusPwnens&gt;    is 200mb/s normal on localhost? I would have thought it would be much much faster</div>
<div class="line">[Tuesday 07 September 2010] [15:01:43] &lt;cremes&gt; and what did you see?</div>
<div class="line">[Tuesday 07 September 2010] [15:01:50] &lt;cremes&gt; with the varying message sizes...?</div>
<div class="line">[Tuesday 07 September 2010] [15:02:20] &lt;ModusPwnens&gt;    I see about 200mb/s or 5000 messages/s</div>
<div class="line">[Tuesday 07 September 2010] [15:02:35] &lt;cremes&gt; so you see the same throughput regardless of message size?</div>
<div class="line">[Tuesday 07 September 2010] [15:03:24] &lt;ModusPwnens&gt;    not really, when the parameters are smaller I see different values</div>
<div class="line">[Tuesday 07 September 2010] [15:03:41] &lt;ModusPwnens&gt;    when i said 200 earlier i was using these paremeters</div>
<div class="line">[Tuesday 07 September 2010] [15:03:56] &lt;cremes&gt; so what does 200 MB/s represent? the <em>best</em> that you see, the <em>average</em> or the <em>worst</em>?</div>
<div class="line">[Tuesday 07 September 2010] [15:04:04] &lt;ModusPwnens&gt;    about the average</div>
<div class="line">[Tuesday 07 September 2010] [15:04:10] &lt;ModusPwnens&gt;    i see 180 sometimes, sometimes 220</div>
<div class="line">[Tuesday 07 September 2010] [15:04:33] &lt;cremes&gt; this is on windows, right?</div>
<div class="line">[Tuesday 07 September 2010] [15:04:45] &lt;ModusPwnens&gt;    Yeah. I was wondering if it would be faster on linux</div>
<div class="line">[Tuesday 07 September 2010] [15:05:10] &lt;cremes&gt; sometimes; it&#8217;s hard to draw conclusions because this stuff is so dependent on OS and the hardware</div>
<div class="line">[Tuesday 07 September 2010] [15:05:27] &lt;ModusPwnens&gt;    Yeah. I notice that the official results on the zeromq website are ridiculously high</div>
<div class="line">[Tuesday 07 September 2010] [15:05:38] &lt;ModusPwnens&gt;    but I&#8217;m thinking that&#8217;s because they have a godly computer with 12 gigs of ram and 4 cores</div>
<div class="line">[Tuesday 07 September 2010] [15:05:59] &lt;ModusPwnens&gt;    i only have 1 core on this computer</div>
<div class="line">[Tuesday 07 September 2010] [15:06:13] &lt;ModusPwnens&gt;    as well as only 3 gigs of ram</div>
<div class="line">[Tuesday 07 September 2010] [15:06:25] &lt;icy&gt;    size of ram does not matter, speed does</div>
<div class="line">[Tuesday 07 September 2010] [15:06:33] &lt;ModusPwnens&gt;    I know that has an effect, but I&#8217;m not sure how large an effect that would be.</div>
<div class="line">[Tuesday 07 September 2010] [15:06:36] &lt;cremes&gt; that computer is ancient if it has only 1 core; i don&#8217;t think intel has shipped a 1-core desktop cpu since around 2006</div>
<div class="line">[Tuesday 07 September 2010] [15:07:09] &lt;ModusPwnens&gt;    it&#8217;s actually relatively new</div>
<div class="line">[Tuesday 07 September 2010] [15:07:13] &lt;ModusPwnens&gt;    amd sempron m100</div>
<div class="line">[Tuesday 07 September 2010] [15:07:22] &lt;ModusPwnens&gt;    which i think has only 1 core</div>
<div class="line">[Tuesday 07 September 2010] [15:08:47] &lt;cremes&gt; amd is behind the curve; sorry :)</div>
<div class="line">[Tuesday 07 September 2010] [15:09:11] &lt;ModusPwnens&gt;    Heh, apparently.</div>
<div class="line">[Tuesday 07 September 2010] [15:09:18] &lt;ModusPwnens&gt;    Anyways, is that sort of throughput expected?</div>
<div class="line">[Tuesday 07 September 2010] [15:09:36] &lt;cremes&gt; again, it&#8217;s dependent upon OS and hardware</div>
<div class="line">[Tuesday 07 September 2010] [15:09:49] &lt;ModusPwnens&gt;    Hmm. So it&#8217;s at least not abnormal?</div>
<div class="line">[Tuesday 07 September 2010] [15:10:10] &lt;cremes&gt; if you have nothing to compare it to...?</div>
<div class="line">[Tuesday 07 September 2010] [15:10:13] &lt;guido_g&gt;    <a class="reference external" href="http://answers.yahoo.com/question/index?qid=20091030200427AAjvYJw">http://answers.yahoo.com/question/index?qid=20091030200427AAjvYJw</a>  &lt;- &#8220;That is a pretty decent mobile single core processor.&#8221;</div>
<div class="line">[Tuesday 07 September 2010] [15:10:43] &lt;ModusPwnens&gt;    Ah, well there you go i guess.</div>
<div class="line">[Tuesday 07 September 2010] [15:11:23] &lt;icy&gt;    well, what cpu usage do you get while benchmarking?</div>
<div class="line">[Tuesday 07 September 2010] [15:11:51] &lt;icy&gt;    maybe it&#8217;s just really slow ram :)</div>
<div class="line">[Tuesday 07 September 2010] [15:12:35] &lt;ModusPwnens&gt;    i get 100% CPU usage</div>
<div class="line">[Tuesday 07 September 2010] [15:13:24] &lt;ModusPwnens&gt;    Does that mean the RAM is just slow?</div>
<div class="line">[Tuesday 07 September 2010] [15:13:41] &lt;Steve-o&gt;    what parameters are you using, I can compare with a single core Xeon right now</div>
<div class="line">[Tuesday 07 September 2010] [15:13:46] &lt;ModusPwnens&gt;    ok</div>
<div class="line">[Tuesday 07 September 2010] [15:13:50] &lt;ModusPwnens&gt;    for the cpu usage test I just ran</div>
<div class="line">[Tuesday 07 September 2010] [15:13:57] &lt;ModusPwnens&gt;    I used</div>
<div class="line">[Tuesday 07 September 2010] [15:14:01] &lt;ModusPwnens&gt;    5000 byte messages</div>
<div class="line">[Tuesday 07 September 2010] [15:14:08] &lt;ModusPwnens&gt;    and 250,000 message count</div>
<div class="line">[Tuesday 07 September 2010] [15:14:17] &lt;ModusPwnens&gt;    all on localhost</div>
<div class="line">[Tuesday 07 September 2010] [15:15:07] &lt;Steve-o&gt;    I get 39,031 msgs/s and 1561 Mb/s</div>
<div class="line">[Tuesday 07 September 2010] [15:15:10] &lt;guido_g&gt;    ./local_thr <a class="reference external" href="tcp://127.0.0.1:5000">tcp://127.0.0.1:5000</a> 1024 100000</div>
<div class="line">[Tuesday 07 September 2010] [15:15:10] &lt;guido_g&gt;    message size: 1024 [B]</div>
<div class="line">[Tuesday 07 September 2010] [15:15:10] &lt;guido_g&gt;    message count: 100000</div>
<div class="line">[Tuesday 07 September 2010] [15:15:10] &lt;guido_g&gt;    mean throughput: 381327 [msg/s]</div>
<div class="line">[Tuesday 07 September 2010] [15:15:10] &lt;guido_g&gt;    mean throughput: 3123.831 [Mb/s]</div>
<div class="line">[Tuesday 07 September 2010] [15:15:22] &lt;guido_g&gt;    also a notebook</div>
<div class="line">[Tuesday 07 September 2010] [15:16:25] &lt;ModusPwnens&gt;    Hmm, that is definitely much higher than what I am getting.</div>
<div class="line">[Tuesday 07 September 2010] [15:16:38] &lt;ModusPwnens&gt;    how much ram do you have and what kind of processor?</div>
<div class="line">[Tuesday 07 September 2010] [15:16:50] &lt;ModusPwnens&gt;    guido that is</div>
<div class="line">[Tuesday 07 September 2010] [15:16:53] &lt;guido_g&gt;    Intel(R) Core(TM)2 Duo CPU     P8700  &#64; 2.53GHz</div>
<div class="line">[Tuesday 07 September 2010] [15:17:12] &lt;guido_g&gt;    ram usage is not a problem at all</div>
<div class="line">[Tuesday 07 September 2010] [15:17:35] &lt;guido_g&gt;    it&#8217;s more a matter of cache and latency</div>
<div class="line">[Tuesday 07 September 2010] [15:17:56] &lt;ModusPwnens&gt;    Latency shouldn&#8217;t really be a problem on localhost though...right?</div>
<div class="line">[Tuesday 07 September 2010] [15:18:16] &lt;guido_g&gt;    ram latency</div>
<div class="line">[Tuesday 07 September 2010] [15:18:20] &lt;guido_g&gt;    <em>sigh</em></div>
<div class="line">[Tuesday 07 September 2010] [15:19:06] &lt;icy&gt;    and bandwidth</div>
<div class="line">[Tuesday 07 September 2010] [15:19:19] &lt;ModusPwnens&gt;    Oh..sorry about that, i misunderstood..</div>
<div class="line">[Tuesday 07 September 2010] [15:19:58] &lt;guido_g&gt;    message size: 1024 [B]</div>
<div class="line">[Tuesday 07 September 2010] [15:19:58] &lt;guido_g&gt;    message count: 10000</div>
<div class="line">[Tuesday 07 September 2010] [15:19:58] &lt;guido_g&gt;    mean throughput: 98001 [msg/s]</div>
<div class="line">[Tuesday 07 September 2010] [15:19:58] &lt;guido_g&gt;    mean throughput: 802.824 [Mb/s]</div>
<div class="line">[Tuesday 07 September 2010] [15:20:01] &lt;guido_g&gt;    via lan</div>
<div class="line">[Tuesday 07 September 2010] [15:20:21] &lt;guido_g&gt;    so obviously you&#8217;re on a dog slow machine</div>
<div class="line">[Tuesday 07 September 2010] [15:20:47] &lt;icy&gt;    or windows :P</div>
<div class="line">[Tuesday 07 September 2010] [15:21:15] &lt;guido_g&gt;    hrhrhr</div>
<div class="line">[Tuesday 07 September 2010] [15:22:47] &lt;icy&gt;    nice webserver choice for zeromq.org</div>
<div class="line">[Tuesday 07 September 2010] [15:23:15] &lt;ModusPwnens&gt;    Hmm thanks. I will try to procure another computer to test this on.</div>
<div class="line">[Tuesday 07 September 2010] [15:23:49] &lt;guido_g&gt;    icy: you mean wikidot?</div>
<div class="line">[Tuesday 07 September 2010] [15:24:13] &lt;icy&gt;    I mean the lighttpd part :)</div>
<div class="line">[Tuesday 07 September 2010] [15:31:34] &lt;icy&gt;    hm local_thr does not seem to do anything on my osx box</div>
<div class="line">[Tuesday 07 September 2010] [15:49:05] &lt;cremes&gt; icy: you need to run local_thr and remote_thr as a pair; one is the client and the other is the server</div>
<div class="line">[Tuesday 07 September 2010] [15:49:16] &lt;icy&gt;    ah right, thx</div>
<div class="line">[Tuesday 07 September 2010] [15:53:30] &lt;icy&gt;    ouf, this thing just sent me 1gb into swap</div>
<div class="line">[Tuesday 07 September 2010] [15:54:15] &lt;icy&gt;    sending 1000000 1kb messages</div>
<div class="line">[Tuesday 07 September 2010] [15:54:35] &lt;icy&gt;    I guess they get buffered in ram</div>
<div class="line">[Tuesday 07 September 2010] [15:57:29] &lt;cremes&gt; icy: the receiver must not have pulled them off the queue fast enough</div>
<div class="line">[Tuesday 07 September 2010] [15:57:43] &lt;cremes&gt; when i run those tests on my system, memory usage is constant (no queueing)</div>
<div class="line">[Tuesday 07 September 2010] [15:58:08] &lt;cremes&gt; why don&#8217;t you pastie the arguments you passed to both programs so we can comment</div>
<div class="line">[Tuesday 07 September 2010] [15:59:06] &lt;icy&gt;    <a class="reference external" href="tcp://127.0.0.1:5000">tcp://127.0.0.1:5000</a> 1024 1000000 for both</div>
<div class="line">[Tuesday 07 September 2010] [15:59:54] &lt;icy&gt;    maybe I should start local_thr before remote_thr :)</div>
<div class="line">[Tuesday 07 September 2010] [16:00:02] &lt;cremes&gt; try lowering the 1 million to 10 thousand and monitor the memory size of the programs</div>
<div class="line">[Tuesday 07 September 2010] [16:00:22] &lt;cremes&gt; yeah, start order is important...</div>
<div class="line">[Tuesday 07 September 2010] [16:01:08] &lt;icy&gt;    doing that I get it to work even though it hits into swap briefly (understandable, the sender will always be faster)</div>
<div class="line">[Tuesday 07 September 2010] [16:02:21] &lt;cremes&gt; icy: not true; this test is using REQ/REP sockets so it should only have 1 message in flight at any given time</div>
<div class="line">[Tuesday 07 September 2010] [16:02:33] &lt;cremes&gt; one sender should <em>not</em> be able to get ahead of the other</div>
<div class="line">[Tuesday 07 September 2010] [16:03:21] &lt;cremes&gt; (i was wrong in my statement from 2:57; no queueing should occur)</div>
<div class="line">[Tuesday 07 September 2010] [16:03:22] &lt;icy&gt;    I get 40mb ram usage with 100k messages</div>
<div class="line">[Tuesday 07 September 2010] [16:03:45] &lt;cremes&gt; are you running the C programs or using the samples from another language binding?</div>
<div class="line">[Tuesday 07 September 2010] [16:04:38] &lt;icy&gt;    perf/ &lt;- the ones in there which are C I think</div>
<div class="line">[Tuesday 07 September 2010] [16:05:03] &lt;cremes&gt; did you modify the code at all?</div>
<div class="line">[Tuesday 07 September 2010] [16:05:37] &lt;icy&gt;    no, downloaded tarball, ./configure, make and ran the apps</div>
<div class="line">[Tuesday 07 September 2010] [16:05:49] &lt;cremes&gt; huh... what OS?</div>
<div class="line">[Tuesday 07 September 2010] [16:05:53] &lt;icy&gt;    osx</div>
<div class="line">[Tuesday 07 September 2010] [16:06:03] &lt;cremes&gt; 2.0.9?</div>
<div class="line">[Tuesday 07 September 2010] [16:06:14] &lt;cremes&gt; 0mq, that is</div>
<div class="line">[Tuesday 07 September 2010] [16:06:19] &lt;icy&gt;    yea</div>
<div class="line">[Tuesday 07 September 2010] [16:06:27] &lt;Samy&gt;   I see a lot of emphasis on lock-free algorithms on the ZeroMQ website.</div>
<div class="line">[Tuesday 07 September 2010] [16:06:28] &lt;cremes&gt; weird</div>
<div class="line">[Tuesday 07 September 2010] [16:06:36] &lt;cremes&gt; it should <em>not</em> have unbounded memory growth</div>
<div class="line">[Tuesday 07 September 2010] [16:06:42] &lt;cremes&gt; you should file a bug</div>
<div class="line">[Tuesday 07 September 2010] [16:06:42] &lt;Samy&gt;   What lock-free objects does ZeroMQ use? Where would the source-code be for them?</div>
<div class="line">[Tuesday 07 September 2010] [16:07:02] &lt;Samy&gt;   The atomics interface seemed too simple to support more complex data structures, though I wasn&#8217;t looking at the right thing.</div>
<div class="line">[Tuesday 07 September 2010] [16:07:21] &lt;cremes&gt; Samy: check out the y_pipe stuff... i believe that is where the lock-free algorithms are used though sustrik would know better (he wrote it)</div>
<div class="line">[Tuesday 07 September 2010] [16:07:34] &lt;icy&gt;    <a class="reference external" href="http://singularity.cryosphere.de/pub/remote_thr.png">http://singularity.cryosphere.de/pub/remote_thr.png</a> (at this point local_thr is long gone already)</div>
<div class="line">[Tuesday 07 September 2010] [16:07:43] &lt;Samy&gt;   cremes, cool. Does sustrik IRC?</div>
<div class="line">[Tuesday 07 September 2010] [16:08:05] &lt;cremes&gt; Samy: yes... he&#8217;s usually in channel but he isn&#8217;t here right now</div>
<div class="line">[Tuesday 07 September 2010] [16:08:21] &lt;Samy&gt;   Ok, thank you.</div>
<div class="line">[Tuesday 07 September 2010] [16:08:34] &lt;icy&gt;    the real mem does not show all the memory it uses as I&#8217;m already several hundred mb into swap at the time the screenshot was made</div>
<div class="line">[Tuesday 07 September 2010] [16:08:55] &lt;cremes&gt; icy: that shouldn&#8217;t be; i would open a bug and describe the problem</div>
<div class="line">[Tuesday 07 September 2010] [16:09:09] &lt;cremes&gt; make sure to include 0mq release, OS, OS release, etc</div>
<div class="line">[Tuesday 07 September 2010] [16:09:19] &lt;icy&gt;    k</div>
<div class="line">[Tuesday 07 September 2010] [16:10:47] &lt;cremes&gt; icy: hold on a sec...</div>
<div class="line">[Tuesday 07 September 2010] [16:11:07] &lt;cremes&gt; were you doing local_thr or local_lat as your perf test?</div>
<div class="line">[Tuesday 07 September 2010] [16:14:00] &lt;icy&gt;    thr</div>
<div class="line">[Tuesday 07 September 2010] [16:16:59] &lt;cremes&gt; the local_thr/remote_thr examples don&#8217;t make any sense</div>
<div class="line">[Tuesday 07 September 2010] [16:17:19] &lt;cremes&gt; the remote_thr program is using a REQ socket while the local_thr is using a SUB socket</div>
<div class="line">[Tuesday 07 September 2010] [16:17:23] &lt;cremes&gt; the two are not compatible</div>
<div class="line">[Tuesday 07 September 2010] [16:18:52] &lt;icy&gt;    I&#8217;m totally knew to zeromq, just saw this benchmark app in the src dir and thought I&#8217;d give it a go :)</div>
<div class="line">[Tuesday 07 September 2010] [16:18:55] &lt;cremes&gt; nm... i&#8217;m looking at the wrong stuff</div>
<div class="line">[Tuesday 07 September 2010] [16:18:57] &lt;cremes&gt; argh...</div>
<div class="line">[Tuesday 07 September 2010] [16:19:22] &lt;cremes&gt; okay, so remote_thr uses a PUB socket while local_thr uses a SUB</div>
<div class="line">[Tuesday 07 September 2010] [16:19:24] &lt;cremes&gt; that is correct</div>
<div class="line">[Tuesday 07 September 2010] [16:19:29] &lt;cremes&gt; you need to start local_thr first</div>
<div class="line">[Tuesday 07 September 2010] [16:19:50] &lt;cremes&gt; remote_thr will slam your system by publishing as fast as possible, so there <em>will</em> be queueing</div>
<div class="line">[Tuesday 07 September 2010] [16:20:05] &lt;cremes&gt; (i was thinking of the local_lat/remote_lat examples which uses different socket types)</div>
<div class="line">[Tuesday 07 September 2010] [16:20:48] &lt;icy&gt;    I did start local_thr first and even after that execited, remote_thr was allocating ram</div>
<div class="line">[Tuesday 07 September 2010] [16:21:09] &lt;icy&gt;    s/execited/exited/</div>
<div class="line">[Tuesday 07 September 2010] [16:21:20] &lt;cremes&gt; yeah, i&#8217;m looking at it now...</div>
<div class="line">[Tuesday 07 September 2010] [16:23:20] &lt;cremes&gt; if everything is working correctly, remote_thr should exit <em>first</em></div>
<div class="line">[Tuesday 07 September 2010] [16:55:32] &lt;dermoth&gt;    I&#8217;m wondering if there&#8217;s an easy way to monitor a queue size on a zeromq worker... It doesn&#8217;t seems like there is anything in the API</div>
<div class="line">[Tuesday 07 September 2010] [16:55:42] &lt;dermoth&gt;    on a zeromq broker I mean</div>
<div class="line">[Tuesday 07 September 2010] [16:55:46] &lt;dermoth&gt;    i.e. a device</div>
<div class="line">[Tuesday 07 September 2010] [17:02:24] &lt;ModusPwnens&gt;    whoa</div>
<div class="line">[Tuesday 07 September 2010] [17:02:31] &lt;ModusPwnens&gt;    im getting a strange error with the benchmarking tests now</div>
<div class="line">[Tuesday 07 September 2010] [17:04:44] &lt;dermoth&gt;    my concern is that the PUSH workers may send more messages than can be processed by the PULL workers, eventually filling up the queue. This would be possible if the PULL workers sync their state to disk to avoid data loss...</div>
<div class="line">[Tuesday 07 September 2010] [17:12:07] &lt;ModusPwnens&gt;    hey does zeroMQ allocate memory for messages all at once?</div>
<div class="line">[Tuesday 07 September 2010] [17:13:35] &lt;ModusPwnens&gt;    Or maybe it is because I am using the publish subscribe topology so it just continuously creates messages and the receiving end is not fast enough..</div>
<div class="line">[Tuesday 07 September 2010] [18:23:07] &lt;cremes&gt; ModusPwnens: yes to the second thing you said; the publisher outpaces the subscriber</div>
<div class="line">[Tuesday 07 September 2010] [18:23:34] &lt;cremes&gt; dermoth: no, there is no way to fetch the queue size; check the mailing list for the reasons why</div>
<div class="line">[Tuesday 07 September 2010] [18:23:48] &lt;cremes&gt; that topic has been raised and answered a bunch of times (someone should add it to the FAQ)</div>
<div class="line">[Tuesday 07 September 2010] [18:24:15] &lt;cremes&gt; dermoth: also, check out HWM (high water mark) settings for the PUSH sockets</div>
<div class="line">[Tuesday 07 September 2010] [18:24:53] &lt;cremes&gt; by setting HWM, it will block when the queue hits that message level (or return EAGAIN if you try sending with ZMQ_NOBLOCK)</div>
<div class="line">[Tuesday 07 September 2010] [18:26:05] &lt;dermoth&gt;    yes, but I need to know berore i&#8217;ll ve blocking... I guess I could test the latency though</div>
<div class="line">[Tuesday 07 September 2010] [18:26:34] &lt;cremes&gt; dermoth: what do you mean that you need to know before?</div>
<div class="line">[Tuesday 07 September 2010] [18:26:44] &lt;cremes&gt; and what does latency have to do with it?</div>
<div class="line">[Tuesday 07 September 2010] [18:27:21] &lt;dermoth&gt;    well, if my queues start filling up at peak times I want to react before all pushers block... my primary goal in using zmq is to avoid blocking</div>
<div class="line">[Tuesday 07 September 2010] [18:28:04] &lt;cremes&gt; ok, then use send with ZMQ_NOBLOCK and test for EAGAIN; when you get it then you know you have hit your high water mark</div>
<div class="line">[Tuesday 07 September 2010] [18:28:14] &lt;cremes&gt; and you can take whatever action is necessary</div>
<div class="line">[Tuesday 07 September 2010] [18:29:03] &lt;dermoth&gt;    cremes, if the queue fill up on the device, then there will be some latency between the time I push to the queue and the time my worked gets the event. I can push a special message and have whichever worker gets it respond to me, then I know the latency. it it rises thern I need more workers downstream</div>
<div class="line">[Tuesday 07 September 2010] [18:29:53] &lt;cremes&gt; ok</div>
<div class="line">[Tuesday 07 September 2010] [18:30:25] &lt;cremes&gt; you could also have another pair of sockets where each worker tells the server/pusher that it has received a message</div>
<div class="line">[Tuesday 07 September 2010] [18:30:54] &lt;cremes&gt; using this &#8220;out of band&#8221; communication, you could publish <em>only</em> those messages that can be immediately handled by a worker</div>
<div class="line">[Tuesday 07 September 2010] [18:31:25] &lt;cremes&gt; you would have at most 1 message in someone&#8217;s queue because you would not push another one until each one had been acknowledged</div>
<div class="line">[Tuesday 07 September 2010] [18:31:48] &lt;cremes&gt; that seems better than trying to rely on some weird latency calculation that might not be trustworthy</div>
<div class="line">[Tuesday 07 September 2010] [18:31:51] &lt;dermoth&gt;    i&#8217;ll implement XREQ/XREP for thing I need to make sure a worker is getting it... the rest is high-throghtput stuff that can suffer a small percentage loss...</div>
<div class="line">[Tuesday 07 September 2010] [18:32:28] &lt;cremes&gt; definitely take a look at HWM</div>
<div class="line">[Tuesday 07 September 2010] [18:32:36] &lt;cremes&gt; i think it does what you need</div>
<div class="line">[Tuesday 07 September 2010] [18:33:27] &lt;dermoth&gt;    the point is that I don&#8217;t want to block on the sending side... HWM will be useful in logging error conditions, but I should never end up hitting this limit...</div>
<div class="line">[Tuesday 07 September 2010] [18:34:21] &lt;cremes&gt; dermoth: sorry, but your requirements don&#8217;t make sense to me</div>
<div class="line">[Tuesday 07 September 2010] [18:34:59] &lt;cremes&gt; if you could get the queue length, you would probably prevent your pusher from sending more messages if it hit some threshold, right?</div>
<div class="line">[Tuesday 07 September 2010] [18:35:08] &lt;cremes&gt; if so, then this is exactly what you can do with HWM</div>
<div class="line">[Tuesday 07 September 2010] [18:35:27] &lt;cremes&gt; couple HWM with NO_BLOCK and you&#8217;ll get your &#8220;signal&#8221; that there aren&#8217;t enough workers</div>
<div class="line">[Tuesday 07 September 2010] [18:35:38] &lt;dermoth&gt;    well I don&#8217;t really control the pusher... it logs as data comes it. I need to have enough pullers to absorb the data as it comes in</div>
<div class="line">[Tuesday 07 September 2010] [18:35:38] &lt;cremes&gt; assuming you ever hit the HWM</div>
<div class="line">[Tuesday 07 September 2010] [18:36:28] &lt;cremes&gt; so you don&#8217;t have any control over throttling the pusher?</div>
<div class="line">[Tuesday 07 September 2010] [18:37:24] &lt;dermoth&gt;    because if the pushers block, it&#8217;s not goung to work anymore and I will loose data - the point is that the pushhers have to be non-blocking. But i&#8217;ll figure out something... maybe even measuring the rss size of the process might work.</div>
<div class="line">[Tuesday 07 September 2010] [18:37:54] &lt;cremes&gt; dermoth: let me say it again then.... use send with NO_BLOCK and test for EAGAIN</div>
<div class="line">[Tuesday 07 September 2010] [18:37:58] &lt;cremes&gt; this will NOT BLOCK</div>
<div class="line">[Tuesday 07 September 2010] [18:38:05] &lt;dermoth&gt;    yes I get that ;)</div>
<div class="line">[Tuesday 07 September 2010] [18:38:20] &lt;cremes&gt; so what&#8217;s the problem then? ;)</div>
<div class="line">[Tuesday 07 September 2010] [18:39:53] &lt;dermoth&gt;    what I mean, EAGIN is bad too - I will log it &amp; alert on it, but I want to know before that happens... If I start getting latency cpikes when I turn worn downstream workers, or during pikes, even before filling up the queues all the way up to the pushers, I want to know it. But that&#8217;s fine, I&#8217;ll work with what I have ;)</div>
<div class="line">[Tuesday 07 September 2010] [18:40:16] &lt;cremes&gt; ok, i see</div>
<div class="line">[Tuesday 07 September 2010] [18:40:49] &lt;cremes&gt; let us know what you come up with or add your solution to the wiki</div>
<div class="line">[Tuesday 07 September 2010] [18:41:13] &lt;dermoth&gt;    Sure. btw, it having multiple parallel devices wiorking well? i.e. if one crash will it nicely fall back to the other one? Will my XREQ/XREP suffer any latency? More that 2-3 seconds avg per requests may become problematic</div>
<div class="line">[Tuesday 07 September 2010] [18:42:04] &lt;dermoth&gt;    here actually on the ends it more like a REQ/REP socket, byt the device will be XREQ/XREP to pass &amp; load-balance the messages</div>
<div class="line">[Tuesday 07 September 2010] [18:43:32] &lt;cremes&gt; a device is just a fancy packaging for 2 sockets to aid with load balancing</div>
<div class="line">[Tuesday 07 September 2010] [18:43:46] &lt;cremes&gt; if you are worried about a device crashing, then messages in flight could be lost</div>
<div class="line">[Tuesday 07 September 2010] [18:43:49] &lt;dermoth&gt;    i&#8217;ll probably be running some tests anyway... Thanks</div>
<div class="line">[Tuesday 07 September 2010] [18:44:23] &lt;cremes&gt; if you can&#8217;t handle data loss, then you need to add some code around all of this to ack/nak messages and retry when things timeout or disappear</div>
<div class="line">[Tuesday 07 September 2010] [18:44:34] &lt;cremes&gt; none of that is built in to 0mq; you have to build it on top</div>
<div class="line">[Tuesday 07 September 2010] [18:44:57] &lt;dermoth&gt;    yes... a srever crashing is pretty rare, what i&#8217;m concerned about it if the system will keep on working. the REQ/REP are for where I can&#8217;t handle loss and I will loose the request if the device crash with my message</div>
<div class="line">[Tuesday 07 September 2010] [18:45:07] &lt;cremes&gt; and unless you have a really slow link or are sending <em>very</em> large messages, i can&#8217;t imagine it would ever take 2-3 seconds to send a message</div>
<div class="line">[Tuesday 07 September 2010] [18:45:38] &lt;cremes&gt; if you use XREQ/XREP and do explicit acks, then you could have things continue to work</div>
<div class="line">[Tuesday 07 September 2010] [18:46:12] &lt;cremes&gt; if you use REQ/REP sockets, they enforce a very strict send/recv/send/recv pattern, so a crashed peer would not be recoverable</div>
<div class="line">[Tuesday 07 September 2010] [18:46:21] &lt;dermoth&gt;    well, i&#8217;m thinking possible tcp timeouts, etc. I would assube ZeroMQ is able to handle well peers, but I will test it anyway. Thanks!</div>
<div class="line">[Tuesday 07 September 2010] [18:46:31] &lt;cremes&gt; ok, good luck</div>
<div class="line">[Tuesday 07 September 2010] [18:46:50] &lt;dermoth&gt;    to handle well down peers</div>
<div class="line">[Tuesday 07 September 2010] [18:47:44] &lt;cremes&gt; dermoth: TCP timeouts are not exposed to you via the 0mq api</div>
<div class="line">[Tuesday 07 September 2010] [18:48:15] &lt;cremes&gt; 0mq may see a connection disappear at the tcp level, but that doesn&#8217;t mean that the socket is no good</div>
<div class="line">[Tuesday 07 September 2010] [18:48:31] &lt;cremes&gt; because a 0mq socket can be bound or connected to multiple endpoints</div>
<div class="line">[Tuesday 07 September 2010] [18:48:50] &lt;cremes&gt; one endpoint failure does not cause the whole 0mq socket to fail</div>
<div class="line">[Tuesday 07 September 2010] [18:49:28] &lt;cremes&gt; the 0mq socket will continue to load balance messages to any &#8220;surviving&#8221; endpoints</div>
<div class="line">[Tuesday 07 September 2010] [18:51:34] &lt;dermoth&gt;    ok, sounds good. FWIW, what I have in mind to mointor PUSH/PULL latency is to send a special message with an IP/port to reply withm and have the workers respond with an udp packet. I can release the check as a Nagios plugin like I usually do for my monitoring scripts, but obviously the other end is up to the developer to get right</div>
<div class="line">[Tuesday 07 September 2010] [18:53:32] &lt;cremes&gt; sounds neat</div>
<div class="line">[Wednesday 08 September 2010] [04:12:25] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * r91ea204 10/ (13 files in 2 dirs): EINTR returned from the blocking functions - <a class="reference external" href="http://bit.ly/aSdLhb">http://bit.ly/aSdLhb</a></div>
<div class="line">[Wednesday 08 September 2010] [04:29:31] &lt;lestrrat&gt; sustrik: almost....  s/Daisuke Make/Daisuke Maki/ ;)   But yes, thanks for the EINTR fix!</div>
<div class="line">[Wednesday 08 September 2010] [07:58:46] &lt;keffo&gt;    pieterh, Why I need a custom lb; <a class="reference external" href="http://giger.servebeer.com/results/pi/">http://giger.servebeer.com/results/pi/</a></div>
<div class="line">[Wednesday 08 September 2010] [07:58:48] &lt;keffo&gt;    :)</div>
<div class="line">[Wednesday 08 September 2010] [08:07:28] &lt;pieterh&gt;  keffo: if I can figure out wtf I can do with an XREP talking to an XREP, I&#8217;ll finish this part of the Guide today</div>
<div class="line">[Wednesday 08 September 2010] [08:07:44] &lt;pieterh&gt;  turns out least-recently used is indecently easy to do</div>
<div class="line">[Wednesday 08 September 2010] [08:11:00] &lt;keffo&gt;    That would ameliorate at least part of the problem :)</div>
<div class="line">[Wednesday 08 September 2010] [08:11:40] &lt;keffo&gt;    Except not &#8216;successful send&#8217; in my case, but when the answer is returned :)</div>
<div class="line">[Wednesday 08 September 2010] [08:12:36] &lt;keffo&gt;    It wouldn&#8217;t be very difficult for me to specify routing manually though, bypassing the zmq lb altogether</div>
<div class="line">[Wednesday 08 September 2010] [08:12:46] &lt;keffo&gt;    but I need to finish heartbeat system first</div>
<div class="line">[Wednesday 08 September 2010] [08:13:18] &lt;pieterh&gt;  well, here&#8217;s my take on custom LB...</div>
<div class="line">[Wednesday 08 September 2010] [08:13:18] &lt;keffo&gt;    I&#8217;m thinking pub -&gt; sub-&gt;xreq back to source, and that would give me both route &amp; availability?</div>
<div class="line">[Wednesday 08 September 2010] [08:13:33] &lt;pieterh&gt;  you want to use a XREP socket to do the routing</div>
<div class="line">[Wednesday 08 September 2010] [08:13:41] &lt;pieterh&gt;  you can use various algorithms to drive it</div>
<div class="line">[Wednesday 08 September 2010] [08:13:52] &lt;pieterh&gt;  depending on the socket type it talks to</div>
<div class="line">[Wednesday 08 September 2010] [08:14:26] &lt;keffo&gt;    I&#8217;m thinking a priorityqueue of all known/active nodes, then &#8216;nudging&#8217; the weights based on speed/performance</div>
<div class="line">[Wednesday 08 September 2010] [08:14:54] &lt;pieterh&gt;  e.g. if your workers use req sockets, you get a nice LRU</div>
<div class="line">[Wednesday 08 September 2010] [08:15:14] &lt;pieterh&gt;  you don&#8217;t need a priority queue, just the message from the worker saying &#8220;ready&#8221;</div>
<div class="line">[Wednesday 08 September 2010] [08:15:31] &lt;keffo&gt;    hum, explain how req gives lru?</div>
<div class="line">[Wednesday 08 September 2010] [08:15:43] &lt;pieterh&gt;  well, think of HTTP long poll</div>
<div class="line">[Wednesday 08 September 2010] [08:15:59] &lt;pieterh&gt;  flow is worker says &#8220;ready&#8221;, router provides it workload</div>
<div class="line">[Wednesday 08 September 2010] [08:16:09] &lt;pieterh&gt;  workers say &#8220;ready&#8221; when they&#8217;re done...</div>
<div class="line">[Wednesday 08 September 2010] [08:16:21] &lt;pieterh&gt;  ready messages come into queue, router takes one off each time</div>
<div class="line">[Wednesday 08 September 2010] [08:20:39] &lt;keffo&gt;    uh, must draw on paper..</div>
<div class="line">[Wednesday 08 September 2010] [08:21:03] &lt;pieterh&gt;  hey, let me post this section of Ch 3, see if it makes any sense at all</div>
<div class="line">[Wednesday 08 September 2010] [08:21:06] &lt;pieterh&gt;  :-)</div>
<div class="line">[Wednesday 08 September 2010] [08:21:19] &lt;keffo&gt;    I think I need two prioqueues to be honest, one for picking the best of available set of nodes, and one for handing the most urgent tasks</div>
<div class="line">[Wednesday 08 September 2010] [08:21:51] &lt;keffo&gt;    let me know when you finish it!</div>
<div class="line">[Wednesday 08 September 2010] [08:22:47] &lt;guido_g&gt;  playing the &#8220;naming awareness&#8221; card: this isn&#8217;t REQuest/REPly anymore then, right?</div>
<div class="line">[Wednesday 08 September 2010] [08:24:31] &lt;pieterh&gt;  nope, this ain&#8217;t kansas anymore</div>
<div class="line">[Wednesday 08 September 2010] [08:24:44] &lt;pieterh&gt;  this is &#8220;off-road&#8221;...</div>
<div class="line">[Wednesday 08 September 2010] [08:27:12] &lt;pieterh&gt;  basically it&#8217;s about using identities and constructing envelopes so that XREP will route as we want to other nodes</div>
<div class="line">[Wednesday 08 September 2010] [08:27:46] &lt;pieterh&gt;  So it starts here: <a class="reference external" href="http://www.zeromq.org/docs:user-guide#toc31">http://www.zeromq.org/docs:user-guide#toc31</a></div>
<div class="line">[Wednesday 08 September 2010] [08:27:53] &lt;pieterh&gt;  I just posted what I have...</div>
<div class="line">[Wednesday 08 September 2010] [08:33:13] &lt;keffo&gt;    looks good</div>
<div class="line">[Wednesday 08 September 2010] [08:35:28] &lt;keffo&gt;    except the pub/sub ctrl+c sample code needs linebreaks</div>
<div class="line">[Wednesday 08 September 2010] [08:37:57] &lt;keffo&gt;    hum, it gets progressively difficult to read after that :)</div>
<div class="line">[Wednesday 08 September 2010] [08:37:58] &lt;pieterh&gt;  what sample is that?</div>
<div class="line">[Wednesday 08 September 2010] [08:38:03] &lt;pieterh&gt;  :-)</div>
<div class="line">[Wednesday 08 September 2010] [08:38:35] &lt;keffo&gt;    something got weird halfway down the article, it&#8217;s still embedded in the code preview</div>
<div class="line">[Wednesday 08 September 2010] [08:38:45] &lt;pieterh&gt;  hang on, refresh the page</div>
<div class="line">[Wednesday 08 September 2010] [08:38:55] &lt;pieterh&gt;  there was a fault in the text, i already fixed it</div>
<div class="line">[Wednesday 08 September 2010] [08:39:16] &lt;keffo&gt;    ignore, reloaded :)</div>
<div class="line">[Wednesday 08 September 2010] [08:39:28] &lt;keffo&gt;    lots of good food for thought there</div>
<div class="line">[Wednesday 08 September 2010] [08:39:37] &lt;guido_g&gt;  ack</div>
<div class="line">[Wednesday 08 September 2010] [08:39:44] &lt;guido_g&gt;  fig 22, the dashes are misplaced</div>
<div class="line">[Wednesday 08 September 2010] [08:40:09]     * keffo bbll</div>
<div class="line">[Wednesday 08 September 2010] [08:40:10] &lt;pieterh&gt;  guido_g: this is ditaa being too clever</div>
<div class="line">[Wednesday 08 September 2010] [08:40:21] &lt;pieterh&gt;  it thinks &#8216;-&#8216; in text is me trying to draw a line</div>
<div class="line">[Wednesday 08 September 2010] [08:40:33] &lt;guido_g&gt;  ouch</div>
<div class="line">[Wednesday 08 September 2010] [08:40:49] &lt;pieterh&gt;  ill try a unicode n-dash or something</div>
<div class="line">[Wednesday 08 September 2010] [08:40:59] &lt;guido_g&gt;  so no dash between single and hop and a slash for req/rep :)</div>
<div class="line">[Wednesday 08 September 2010] [08:41:40] &lt;pieterh&gt;  it&#8217;s always &#8220;request-reply&#8221;...</div>
<div class="line">[Wednesday 08 September 2010] [08:42:09] &lt;guido_g&gt;  ahh... then...</div>
<div class="line">[Wednesday 08 September 2010] [08:42:40] &lt;pieterh&gt;  np, easy to fix this in the parser</div>
<div class="line">[Wednesday 08 September 2010] [08:45:52] &lt;pieterh&gt;  bah, ditaa does not like Unicode at all, just dies</div>
<div class="line">[Wednesday 08 September 2010] [08:45:53] &lt;pieterh&gt;  well, too bad</div>
<div class="line">[Wednesday 08 September 2010] [08:55:47] &lt;guido_g&gt;  no escape mechanism?</div>
<div class="line">[Wednesday 08 September 2010] [08:57:30] &lt;pieterh&gt;  no mechanisms of any kind afaics</div>
<div class="line">[Wednesday 08 September 2010] [08:57:45] &lt;guido_g&gt;  oh</div>
<div class="line">[Wednesday 08 September 2010] [08:57:50] &lt;pieterh&gt;  which is ok, I&#8217;ll email the author</div>
<div class="line">[Wednesday 08 September 2010] [09:46:13] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * r47e87b7 10/ include/zmq.h : EMTHREAD error code returned to zmq.h to ensure backward compatibility - <a class="reference external" href="http://bit.ly/dtznl6">http://bit.ly/dtznl6</a></div>
<div class="line">[Wednesday 08 September 2010] [10:07:26] &lt;sd88g93&gt;  greetings !</div>
<div class="line">[Wednesday 08 September 2010] [10:08:44] &lt;sd88g93&gt;  when are the zmq_msg_move()  zmq_msg_copy() functions meant to be used ?   i mean, what situations call for them ?</div>
<div class="line">[Wednesday 08 September 2010] [10:27:50] &lt;cremes&gt;   sd88g93: whenever you <em>send</em> data, the library takes ownership of your zmq_msg_t and calls close() on it</div>
<div class="line">[Wednesday 08 September 2010] [10:27:59] &lt;cremes&gt;   on the recv side, you are responsible for its lifecycle</div>
<div class="line">[Wednesday 08 September 2010] [10:28:35] &lt;cremes&gt;   so you might want to make a copy (which i think does reference counting internally) so that you could send it without it being deallocated</div>
<div class="line">[Wednesday 08 September 2010] [10:28:47] &lt;cremes&gt;   the copy is cheap (ref counting)</div>
<div class="line">[Wednesday 08 September 2010] [10:28:56] &lt;cremes&gt;   i don&#8217;t really know of a use case for move</div>
<div class="line">[Wednesday 08 September 2010] [10:29:14] &lt;sd88g93&gt;  cremes: what about VSM&#8217;s, where the message is embedded right in the msg struct ?</div>
<div class="line">[Wednesday 08 September 2010] [10:29:23] &lt;cremes&gt;   i don&#8217;t know</div>
<div class="line">[Wednesday 08 September 2010] [10:29:32] &lt;sd88g93&gt;  ohok</div>
<div class="line">[Wednesday 08 September 2010] [10:29:35] &lt;cremes&gt;   i&#8217;d have to read the code to figure out what happens</div>
<div class="line">[Wednesday 08 September 2010] [10:30:06] &lt;sd88g93&gt;  well, what about if you are recieving messages of a multi part message and relaying them through inproc to another thread ?</div>
<div class="line">[Wednesday 08 September 2010] [10:30:19] &lt;sd88g93&gt;  is it alright to just recieve and send the same msg ?</div>
<div class="line">[Wednesday 08 September 2010] [10:30:30] &lt;cremes&gt;   yes</div>
<div class="line">[Wednesday 08 September 2010] [10:30:48] &lt;cremes&gt;   recv does not automatically call close on the message, only sending does</div>
<div class="line">[Wednesday 08 September 2010] [10:30:51] &lt;sd88g93&gt;  i&#8217;m recieving a multipart message by way of a req/rep socket, and want to relay them to ap ublisher</div>
<div class="line">[Wednesday 08 September 2010] [10:31:32] &lt;sd88g93&gt;  but i&#8217;m relaying them first through inproc to the main thread,  and then forwarding them to the one pub skt</div>
<div class="line">[Wednesday 08 September 2010] [10:31:44] &lt;cremes&gt;   oh, so two hops?</div>
<div class="line">[Wednesday 08 September 2010] [10:31:45] &lt;sd88g93&gt;  the inproc is failing,  and just trying to figure out why</div>
<div class="line">[Wednesday 08 September 2010] [10:31:58] &lt;sd88g93&gt;  yeah, 2 hops</div>
<div class="line">[Wednesday 08 September 2010] [10:32:28] &lt;cremes&gt;   well, i&#8217;m not sure... i haven&#8217;t played much with inproc transports</div>
<div class="line">[Wednesday 08 September 2010] [10:32:44] &lt;cremes&gt;   as an optimization it might be doing ref counting on the message so that it doesn&#8217;t have to copy it for real</div>
<div class="line">[Wednesday 08 September 2010] [10:32:52] &lt;sd88g93&gt;  actually, it would be 3 hops,  once to the thread, then once to the main thread, and then the forward device forwards them to the final socket for a send</div>
<div class="line">[Wednesday 08 September 2010] [10:33:04] &lt;cremes&gt;   only count sockets as hops</div>
<div class="line">[Wednesday 08 September 2010] [10:33:38] &lt;sd88g93&gt;  yeah, so 3 hops</div>
<div class="line">[Wednesday 08 September 2010] [10:34:11] &lt;cremes&gt;   why don&#8217;t you try using copy on the message received that you are sending to the inproc socket and see if that helps (shooting in the dark here)</div>
<div class="line">[Wednesday 08 September 2010] [10:34:36] &lt;sd88g93&gt;  yeah, i was trying move</div>
<div class="line">[Wednesday 08 September 2010] [10:34:44] &lt;sd88g93&gt;  but maybe copy would be better</div>
<div class="line">[Wednesday 08 September 2010] [10:34:51] &lt;cremes&gt;   so, XREQ(tcp) -&gt; XREP(inproc) -&gt; PUB(tcp)</div>
<div class="line">[Wednesday 08 September 2010] [10:34:53] &lt;sd88g93&gt;  i dont need to use it after relaying it</div>
<div class="line">[Wednesday 08 September 2010] [10:34:56] &lt;cremes&gt;   copy at the XREQ step</div>
<div class="line">[Wednesday 08 September 2010] [10:35:32] &lt;sd88g93&gt;  actually, i was using PUB for the inproc</div>
<div class="line">[Wednesday 08 September 2010] [10:35:39] &lt;cremes&gt;   the main thing to recall is that whenever you send through a socket, it calls close on the message you just sent</div>
<div class="line">[Wednesday 08 September 2010] [10:35:49] &lt;cremes&gt;   you relinquish control of the message to the library whenever you send anything</div>
<div class="line">[Wednesday 08 September 2010] [10:36:13] &lt;cremes&gt;   so it sounds to me like when you send to the inproc socket, the message may be getting closed on the send side</div>
<div class="line">[Wednesday 08 September 2010] [10:36:21] &lt;cremes&gt;   this is all kind of confusing :)</div>
<div class="line">[Wednesday 08 September 2010] [10:36:33] &lt;cremes&gt;   i recommend you ping mato or sustrik</div>
<div class="line">[Wednesday 08 September 2010] [10:37:19] &lt;sd88g93&gt;  in the worker thread,  it is a PUB skt,  and then in the main thread i have a sub skt,  so i publish from the thread via inproc, and then it gets fwd&#8217;d to the main pub skt</div>
<div class="line">[Wednesday 08 September 2010] [10:37:46] &lt;sd88g93&gt;  oh ok</div>
<div class="line">[Wednesday 08 September 2010] [10:37:57] &lt;cremes&gt;   are you using a forwarder device or did you roll your own?</div>
<div class="line">[Wednesday 08 September 2010] [10:38:05] &lt;sd88g93&gt;  fwd device</div>
<div class="line">[Wednesday 08 September 2010] [10:38:14] &lt;cremes&gt;   are you using release 2.0.9?</div>
<div class="line">[Wednesday 08 September 2010] [10:38:25] &lt;sd88g93&gt;  yeah, i just updated to 2.0.9</div>
<div class="line">[Wednesday 08 September 2010] [10:38:47] &lt;cremes&gt;   ok... i think there was a bug in the forwarder for multi-part message handling that was fixed in 2.0.9</div>
<div class="line">[Wednesday 08 September 2010] [10:39:03] &lt;cremes&gt;   that could have been your problem, but if you updated then maybe not</div>
<div class="line">[Wednesday 08 September 2010] [10:39:17] &lt;sd88g93&gt;  at first i had my own queue to queue the messages for a publisher thread, that worked,  except i&#8217;m worried about when i stress test it,  if pasing messages allocated on the heap, is a problem when i free them</div>
<div class="line">[Wednesday 08 September 2010] [10:39:46] &lt;sd88g93&gt;  yeah, i noticed that in the change log when i updated</div>
<div class="line">[Wednesday 08 September 2010] [10:39:52] &lt;cremes&gt;   i&#8217;d have to see code to be sure but it doesn&#8217;t sound like a problem</div>
<div class="line">[Wednesday 08 September 2010] [10:40:20] &lt;cremes&gt;   sorry i couldn&#8217;t be of more help... if you figure it out please post a solution</div>
<div class="line">[Wednesday 08 September 2010] [10:40:46] &lt;sd88g93&gt;  sure, no proble,  i realize its still a  young project, one of the ramifications</div>
<div class="line">[Wednesday 08 September 2010] [10:41:25] &lt;sd88g93&gt;  over all, ive noticed the documentation for zeromq getting much better and more concise as time goes on</div>
<div class="line">[Wednesday 08 September 2010] [10:42:10] &lt;sd88g93&gt;  i&#8217;ll try using message copy</div>
<div class="line">[Wednesday 08 September 2010] [10:44:33] &lt;cremes&gt;   great; you might also consider posting your question (with more detail) to the ML</div>
<div class="line">[Wednesday 08 September 2010] [10:52:03] &lt;pieterh&gt;  sd88g93: in fact I don&#8217;t know what cases need zmq_msg_move and zmq_msg_copy</div>
<div class="line">[Wednesday 08 September 2010] [10:53:10] &lt;sd88g93&gt;  ok, thanks, pieterh</div>
<div class="line">[Wednesday 08 September 2010] [10:53:29] &lt;pieterh&gt;  perhaps if you want to make abstraction layers that want to grab a copy of a message, work with it, and allow the caller to continue and possibly deallocate it</div>
<div class="line">[Wednesday 08 September 2010] [10:53:48] &lt;pieterh&gt;  you certainly do not need them for normal work afaics</div>
<div class="line">[Wednesday 08 September 2010] [10:53:56] &lt;cremes&gt;   pieterh: if you want to send the same data to multiple sockets, you need to copy it</div>
<div class="line">[Wednesday 08 September 2010] [10:54:02] &lt;sd88g93&gt;  yeah, the move/copy didnt work for my situtaion</div>
<div class="line">[Wednesday 08 September 2010] [10:54:13] &lt;cremes&gt;   otherwise your first send will deallocate it out from under you, right?</div>
<div class="line">[Wednesday 08 September 2010] [10:55:03] &lt;mato&gt; cremes: send never deallocates anything out from under you. zmq_msg_t is reference counted.</div>
<div class="line">[Wednesday 08 September 2010] [10:55:35] &lt;cremes&gt;   mato: if refcount is 1 and you send the message, it gets deallocated, right?</div>
<div class="line">[Wednesday 08 September 2010] [10:55:40] &lt;sd88g93&gt;  oh, so a call to send increments the ref counter</div>
<div class="line">[Wednesday 08 September 2010] [10:55:55] &lt;cremes&gt;   i would think it decrements the counter</div>
<div class="line">[Wednesday 08 September 2010] [10:56:03] &lt;pieterh&gt;  ... this is all invisible... you send as often as you like and don&#8217;t even know there&#8217;s a reference counter</div>
<div class="line">[Wednesday 08 September 2010] [10:56:11] &lt;sd88g93&gt;  i mean, incrememnt at first, nd then decrement when its done wiht it</div>
<div class="line">[Wednesday 08 September 2010] [10:56:32] &lt;cremes&gt;   recv, refcount + 1, send, refcount - 1</div>
<div class="line">[Wednesday 08 September 2010] [10:56:39] &lt;cremes&gt;   when 0, dealloc</div>
<div class="line">[Wednesday 08 September 2010] [10:56:44] &lt;mato&gt; cremes: zmq_send() does not touch the refcount</div>
<div class="line">[Wednesday 08 September 2010] [10:56:58] &lt;mato&gt; cremes: you should always do zmq_msg_close () if you want the message to go away</div>
<div class="line">[Wednesday 08 September 2010] [10:56:59] &lt;cremes&gt;   doesn&#8217;t it call zmq_msg_close?</div>
<div class="line">[Wednesday 08 September 2010] [10:57:12] &lt;mato&gt; not unless something changed; let me check 100%</div>
<div class="line">[Wednesday 08 September 2010] [10:57:16] &lt;cremes&gt;   ok</div>
<div class="line">[Wednesday 08 September 2010] [10:57:26] &lt;cremes&gt;   i thought i saw that when i reviewed the code a few weeks ago</div>
<div class="line">[Wednesday 08 September 2010] [10:57:35]     * pieterh is pretty sure send() does a copy and then a close</div>
<div class="line">[Wednesday 08 September 2010] [10:57:52] &lt;mato&gt; pieterh: no way</div>
<div class="line">[Wednesday 08 September 2010] [10:58:11] &lt;mato&gt; what all the perf tests and examples do is send, then immediately close</div>
<div class="line">[Wednesday 08 September 2010] [10:58:37] &lt;mato&gt; unless i&#8217;m confused, check with sustrik to get it from the horses mouth</div>
<div class="line">[Wednesday 08 September 2010] [10:58:41] &lt;pieterh&gt;  yes, that&#8217;s the calling code</div>
<div class="line">[Wednesday 08 September 2010] [10:58:47] &lt;mato&gt; but this is what i&#8217;ve always done in my code</div>
<div class="line">[Wednesday 08 September 2010] [10:58:55] &lt;pieterh&gt;  what does the send method do internally to keep the message alive</div>
<div class="line">[Wednesday 08 September 2010] [10:59:02] &lt;pieterh&gt;  while the caller does zmq_msg_close?</div>
<div class="line">[Wednesday 08 September 2010] [10:59:08] &lt;mato&gt; ah, sorry</div>
<div class="line">[Wednesday 08 September 2010] [10:59:19] &lt;mato&gt; yeah, send increases the refcount by 1 obviously</div>
<div class="line">[Wednesday 08 September 2010] [10:59:27] &lt;mato&gt; but you get a refcount of 1 already when you create the message</div>
<div class="line">[Wednesday 08 September 2010] [10:59:38] &lt;pieterh&gt;  using copy, I assume... ?</div>
<div class="line">[Wednesday 08 September 2010] [10:59:44] &lt;mato&gt; <em>refcount</em></div>
<div class="line">[Wednesday 08 September 2010] [10:59:49] &lt;mato&gt; what copy?</div>
<div class="line">[Wednesday 08 September 2010] [10:59:59] &lt;sd88g93&gt;  oh, so it increases by one, hten when its done sending , it decreases the ref count</div>
<div class="line">[Wednesday 08 September 2010] [11:00:02] &lt;pieterh&gt;  so directly modifying message property?</div>
<div class="line">[Wednesday 08 September 2010] [11:00:12] &lt;mato&gt; some lock-free magic with atomic_counter AFAIK</div>
<div class="line">[Wednesday 08 September 2010] [11:00:14] &lt;mato&gt; yes</div>
<div class="line">[Wednesday 08 September 2010] [11:00:31] &lt;mato&gt; all the docs say &#8220;zmq_msg_t is opaque&#8221;, never touch it outside of the zmq_msg_* functions</div>
<div class="line">[Wednesday 08 September 2010] [11:00:34] &lt;mato&gt; for precisely this reason</div>
<div class="line">[Wednesday 08 September 2010] [11:00:38] &lt;sd88g93&gt;  what about with VSM&#8217;s ?</div>
<div class="line">[Wednesday 08 September 2010] [11:00:57] &lt;mato&gt; sd88g93: it&#8217;s up to 0MQ if it <em>actually</em> copies the <em>content</em></div>
<div class="line">[Wednesday 08 September 2010] [11:01:18] &lt;pieterh&gt;  mato: this is what zmq_msg_copy does, increment refcount</div>
<div class="line">[Wednesday 08 September 2010] [11:01:52] &lt;sd88g93&gt;  so, if you have a VSM, and you send it,   and then close it,  if you re-init the struct,  you wipe out what send would have ?</div>
<div class="line">[Wednesday 08 September 2010] [11:02:15] &lt;mato&gt; pieterh: i&#8217;m not sure what it actually does internally, why do you need to know?</div>
<div class="line">[Wednesday 08 September 2010] [11:02:19] &lt;sd88g93&gt;  as far as i can tell, the VSM is right inside the struct</div>
<div class="line">[Wednesday 08 September 2010] [11:02:23] &lt;mato&gt; pieterh: anyhow, if you need to know, ask sustrik</div>
<div class="line">[Wednesday 08 September 2010] [11:02:27] &lt;pieterh&gt;  sure</div>
<div class="line">[Wednesday 08 September 2010] [11:02:35] &lt;mato&gt; sd88g93: ask sustrik on the mailing list, i&#8217;m not an expert on what happens internally</div>
<div class="line">[Wednesday 08 September 2010] [11:02:37] &lt;pieterh&gt;  the discussion here is &#8220;when do we use zmq_msg_copy/move&#8221;</div>
<div class="line">[Wednesday 08 September 2010] [11:02:39] &lt;mato&gt; i just know that it works :)</div>
<div class="line">[Wednesday 08 September 2010] [11:02:49] &lt;pieterh&gt;  indeed...</div>
<div class="line">[Wednesday 08 September 2010] [11:03:08] &lt;pieterh&gt;  i&#8217;m just saying, applications do not  normally mess with the refcounts, ever</div>
<div class="line">[Wednesday 08 September 2010] [11:03:28] &lt;sd88g93&gt;  mato,  i&#8217;m just having a problem with relaying a message i get from a REP socket over  PUB skt using inproc</div>
<div class="line">[Wednesday 08 September 2010] [11:03:29] &lt;pieterh&gt;  that&#8217;s internal, and i assume that send() calls copy() to grab a reference, and close() when it&#8217;s done, to release it</div>
<div class="line">[Wednesday 08 September 2010] [11:03:29] &lt;mato&gt; well, unless you count calling zmq_msg_close() as &#8220;messing with the refcount&#8221;...</div>
<div class="line">[Wednesday 08 September 2010] [11:03:50] &lt;pieterh&gt;  well, sure, but that&#8217;s not the semantic</div>
<div class="line">[Wednesday 08 September 2010] [11:03:59] &lt;pieterh&gt;  the semantic is &#8220;I&#8217;m finished with it&#8221;, which translates to &#8220;decrement refcount&#8221;</div>
<div class="line">[Wednesday 08 September 2010] [11:04:04] &lt;mato&gt; yup</div>
<div class="line">[Wednesday 08 September 2010] [11:04:19]     * pieterh doesn&#8217;t want people to start thinking they have to copy/move messages to send them</div>
<div class="line">[Wednesday 08 September 2010] [11:04:31] &lt;pieterh&gt;  sg88g93: the problem is elsewhere</div>
<div class="line">[Wednesday 08 September 2010] [11:04:45] &lt;mato&gt; sd88g93: don&#8217;t forget zmq_recv() destroys existing message content, if any</div>
<div class="line">[Wednesday 08 September 2010] [11:05:07] &lt;pieterh&gt;  sd88g93, do you have a minimal example?</div>
<div class="line">[Wednesday 08 September 2010] [11:05:28] &lt;sd88g93&gt;  i have some code, but so far, i have been unablet to dupliate it in a minimal example,</div>
<div class="line">[Wednesday 08 September 2010] [11:05:47] &lt;mato&gt; sd88g93: so e.g. if you&#8217;ve got a loop, doing zmq_msg_init() then zmq_recv(), what could be happening is you recv, then send that message, but then recv back into the same message so you could lose messages</div>
<div class="line">[Wednesday 08 September 2010] [11:05:55] &lt;sd88g93&gt;  i posted to the ML one example that i thought i duplicated it , but it didnt</div>
<div class="line">[Wednesday 08 September 2010] [11:06:12] &lt;pieterh&gt;  sd88g93, see the request-reply broker example: <a class="reference external" href="http://www.zeromq.org/docs:user-guide#toc24">http://www.zeromq.org/docs:user-guide#toc24</a></div>
<div class="line">[Wednesday 08 September 2010] [11:06:25] &lt;pieterh&gt;  it copies messages from one socket to another, nothing bizarre</div>
<div class="line">[Wednesday 08 September 2010] [11:06:41] &lt;pieterh&gt;  if you&#8217;re losing messages, perhaps the sockets aren&#8217;t connected properly</div>
<div class="line">[Wednesday 08 September 2010] [11:07:22] &lt;mato&gt; sd88g93/pieterh: AFAICT zmq_msg_copy()/zmq_msg_move() are for the case where the app for some reason re-uses message &#8220;objects&#8221; (i.e. the zmq_msg_t) with a different lifecycle than the message <em>content</em></div>
<div class="line">[Wednesday 08 September 2010] [11:07:39] &lt;pieterh&gt;  right</div>
<div class="line">[Wednesday 08 September 2010] [11:08:06] &lt;mato&gt; sd88g93: what language are you using?</div>
<div class="line">[Wednesday 08 September 2010] [11:08:15] &lt;sd88g93&gt;  the c bindings</div>
<div class="line">[Wednesday 08 September 2010] [11:08:57] &lt;pieterh&gt;  sd88g93, what is the problem you are actually seeing?</div>
<div class="line">[Wednesday 08 September 2010] [11:09:08] &lt;sd88g93&gt;  here&#8217;s the example i posted on the mailing list: <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/005928.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-September/005928.html</a></div>
<div class="line">[Wednesday 08 September 2010] [11:09:36] &lt;sd88g93&gt;  that&#8217;s a minimal case,  that one works,  but it mirrors what i&#8217;m doing in the larger project</div>
<div class="line">[Wednesday 08 September 2010] [11:10:03] &lt;pieterh&gt;  so publisher is not sending anything out</div>
<div class="line">[Wednesday 08 September 2010] [11:10:04] &lt;sd88g93&gt;  for some reason in the larger project the messages in the main thread arent being recieved via inproc by the subscr socket</div>
<div class="line">[Wednesday 08 September 2010] [11:10:15] &lt;sd88g93&gt;  yeah, the publisher isnt sending</div>
<div class="line">[Wednesday 08 September 2010] [11:10:27] &lt;sd88g93&gt;  ive isolated it to over the inproc that its failing</div>
<div class="line">[Wednesday 08 September 2010] [11:10:40] &lt;pieterh&gt;  try changing the transport to ipc</div>
<div class="line">[Wednesday 08 September 2010] [11:10:55] &lt;sd88g93&gt;  when i hcange it to one thread , and publish directly to the bound extreneral interface, it sends fine</div>
<div class="line">[Wednesday 08 September 2010] [11:11:48] &lt;pieterh&gt;  so it&#8217;s a problem with thread coordination, connections not happening in time</div>
<div class="line">[Wednesday 08 September 2010] [11:11:50] &lt;sd88g93&gt;  what&#8217;s the difference between inproc and ipc ?</div>
<div class="line">[Wednesday 08 September 2010] [11:12:08] &lt;pieterh&gt;  well, inproc requires that you bind first, connect second</div>
<div class="line">[Wednesday 08 September 2010] [11:12:15] &lt;pieterh&gt;  ipc like tcp lets you connect first, then bind</div>
<div class="line">[Wednesday 08 September 2010] [11:12:24] &lt;sd88g93&gt;  the connections seem to be happending, ive logged it and they seem to happen,  the bound channels are made before the connect happens</div>
<div class="line">[Wednesday 08 September 2010] [11:12:36] &lt;pieterh&gt;  so with inproc if the subscribers connect before the publisher binds, it won&#8217;t work</div>
<div class="line">[Wednesday 08 September 2010] [11:12:42] &lt;pieterh&gt;  IMO connect will even return an error</div>
<div class="line">[Wednesday 08 September 2010] [11:13:08] &lt;sd88g93&gt;  no, it binds first, and then connects</div>
<div class="line">[Wednesday 08 September 2010] [11:13:35] &lt;sd88g93&gt;  that shouldnt be a problem,   i think you are correct in that it returns an error, ive recieved that error when that happens</div>
<div class="line">[Wednesday 08 September 2010] [11:13:39] &lt;mato&gt; sd88g93: this is what i meant with my comment about recv&#8217;ing into the same message: <a class="reference external" href="http://pastebin.com/tLumsbia">http://pastebin.com/tLumsbia</a></div>
<div class="line">[Wednesday 08 September 2010] [11:13:46] &lt;pieterh&gt;  yeah, this is your problem I think</div>
<div class="line">[Wednesday 08 September 2010] [11:13:51] &lt;mato&gt; sd88g93: see the difference between the correct/incorrent case</div>
<div class="line">[Wednesday 08 September 2010] [11:13:57] &lt;mato&gt; sd88g93: just in case that&#8217;s what you&#8217;re doing...</div>
<div class="line">[Wednesday 08 September 2010] [11:14:02] &lt;pieterh&gt;  you&#8217;re starting the publishers in child threads</div>
<div class="line">[Wednesday 08 September 2010] [11:14:12] &lt;pieterh&gt;  but immediately you connect the subscribers to those ports</div>
<div class="line">[Wednesday 08 September 2010] [11:14:15] &lt;pieterh&gt;  won&#8217;t work</div>
<div class="line">[Wednesday 08 September 2010] [11:14:57] &lt;pieterh&gt;  magic solution: do two loops, one to launch pub threads, second to prepare subscribers</div>
<div class="line">[Wednesday 08 September 2010] [11:15:02] &lt;pieterh&gt;  do sleep(1) in between two loops</div>
<div class="line">[Wednesday 08 September 2010] [11:15:18] &lt;pieterh&gt;  you owe me a beer if it works</div>
<div class="line">[Wednesday 08 September 2010] [11:16:27] &lt;pieterh&gt;  here is the text from the user guide:</div>
<div class="line">[Wednesday 08 September 2010] [11:16:27] &lt;pieterh&gt;  The {{inproc}} transport has a specific limitation compared to {{ipc}} and {{tcp}}: <strong>you must do bind before connect</strong>.  This is something future versions of 0MQ may fix, but for today it has some impact on the way you use inproc sockets.  In the example here, we carefully bind to each endpoint before connecting to it.  If you connect first, and then bind, the connect will return an error, and if you ignore that error, the recv will block.</div>
<div class="line">[Wednesday 08 September 2010] [11:17:29] &lt;sd88g93&gt;  mato: i dont think that&#8217; sthe case, because i re init the message at the beginning of the loop</div>
<div class="line">[Wednesday 08 September 2010] [11:18:44] &lt;sd88g93&gt;  pieterh:  it seeems to be binding first before connect</div>
<div class="line">[Wednesday 08 September 2010] [11:18:54] &lt;pieterh&gt;  how do you know?</div>
<div class="line">[Wednesday 08 September 2010] [11:19:03] &lt;pieterh&gt;  your example does the bind after the connect</div>
<div class="line">[Wednesday 08 September 2010] [11:19:03] &lt;sd88g93&gt;  because i print it out</div>
<div class="line">[Wednesday 08 September 2010] [11:19:09] &lt;pieterh&gt;  means nothing</div>
<div class="line">[Wednesday 08 September 2010] [11:19:19] &lt;sd88g93&gt;  oh</div>
<div class="line">[Wednesday 08 September 2010] [11:19:20] &lt;pieterh&gt;  printing from multiple threads can do weird stuff</div>
<div class="line">[Wednesday 08 September 2010] [11:19:35] &lt;pieterh&gt;  follow the printf with fflush(stdout) to be sure</div>
<div class="line">[Wednesday 08 September 2010] [11:19:41] &lt;pieterh&gt;  sd88g93, next time you have an error, if 0MQ reports an error, that&#8217;s kind of the first thing you look at</div>
<div class="line">[Wednesday 08 September 2010] [11:20:16] &lt;pieterh&gt;  &#8220;I&#8217;m using inproc and my connect fails with an error... why?&#8221;</div>
<div class="line">[Wednesday 08 September 2010] [11:20:33] &lt;sd88g93&gt;  but the connect doesnt fail ,</div>
<div class="line">[Wednesday 08 September 2010] [11:20:33] &lt;<a href="#id63"><span class="problematic" id="id64">keffo__</span></a>&gt;  is the log pub in 2.0.8?</div>
<div class="line">[Wednesday 08 September 2010] [11:21:27] &lt;pieterh&gt;  <a href="#id63"><span class="problematic" id="id65">keffo__</span></a>, nope</div>
<div class="line">[Wednesday 08 September 2010] [11:21:33] &lt;pieterh&gt;  sd88g93, so what fails?</div>
<div class="line">[Wednesday 08 September 2010] [11:21:46] &lt;pieterh&gt;  and could you try the &#8216;magic fix&#8217; i suggested, it&#8217;s a quick test</div>
<div class="line">[Wednesday 08 September 2010] [11:21:57] &lt;sd88g93&gt;  the program doesnt throw any errors, it just doesnt publish any of the messages</div>
<div class="line">[Wednesday 08 September 2010] [11:22:08] &lt;sd88g93&gt;  yes, i &#8216;ll tryt that test</div>
<div class="line">[Wednesday 08 September 2010] [11:22:12] &lt;pieterh&gt;  &#8221; i think you are correct in that it returns an error, ive recieved that error when that happens&#8221;</div>
<div class="line">[Wednesday 08 September 2010] [11:22:15] &lt;pieterh&gt;  ?</div>
<div class="line">[Wednesday 08 September 2010] [11:22:35] &lt;sd88g93&gt;  sorry, i&#8217;m just reading over what everyone has written,  its alot to digest</div>
<div class="line">[Wednesday 08 September 2010] [11:22:44] &lt;pieterh&gt;  NP :-)</div>
<div class="line">[Wednesday 08 September 2010] [11:22:44] &lt;sd88g93&gt;  i&#8217;ll try that fix now, thanks,</div>
<div class="line">[Wednesday 08 September 2010] [11:22:58] &lt;pieterh&gt;  did you try it with ipc:?</div>
<div class="line">[Wednesday 08 September 2010] [11:23:24] &lt;pieterh&gt;  if that works, and inproc does not, it&#8217;s most likely the bind/connect order</div>
<div class="line">[Wednesday 08 September 2010] [11:37:17] &lt;sd88g93&gt;  no, still nothing</div>
<div class="line">[Wednesday 08 September 2010] [11:37:29] &lt;sd88g93&gt;  i&#8217;ll try it with ipc ,  just  to be sure</div>
<div class="line">[Wednesday 08 September 2010] [11:37:40] &lt;pieterh&gt;  ack</div>
<div class="line">[Wednesday 08 September 2010] [11:39:19] &lt;pieterh&gt;  there is some questionable stuff in your example BTW</div>
<div class="line">[Wednesday 08 September 2010] [11:39:32] &lt;pieterh&gt;  like threads modifying shared static variables</div>
<div class="line">[Wednesday 08 September 2010] [11:40:39] &lt;sd88g93&gt;  yeah, i dont do that n the main program</div>
<div class="line">[Wednesday 08 September 2010] [11:41:34] &lt;sd88g93&gt;  the shared static variable is just to get a number to form the pipe number back to the main program,  in the actual example i pass it in through the parameter when creating the thread</div>
<div class="line">[Wednesday 08 September 2010] [11:42:18] &lt;pieterh&gt;  hang on, do you actually have any subscribers connecting to 127.0.0.1:4000?</div>
<div class="line">[Wednesday 08 September 2010] [11:42:29] &lt;sd88g93&gt;  yes</div>
<div class="line">[Wednesday 08 September 2010] [11:43:14] &lt;pieterh&gt;  well, what I would do is just break this up into little pieces</div>
<div class="line">[Wednesday 08 September 2010] [11:43:17] &lt;sd88g93&gt;  that example does seem to work, but the same scenario, doesnt play out in the real project</div>
<div class="line">[Wednesday 08 September 2010] [11:43:30] &lt;pieterh&gt;  ah, it works in the example?</div>
<div class="line">[Wednesday 08 September 2010] [11:43:53] &lt;sd88g93&gt;  yeah,   just cant duplicate it ,  that example was just to give you an idea of what i am doing</div>
<div class="line">[Wednesday 08 September 2010] [11:44:10] &lt;pieterh&gt;  can&#8217;t debug an idea... :-/</div>
<div class="line">[Wednesday 08 September 2010] [11:44:13] &lt;sd88g93&gt;  sorry, didnt mean to confuse</div>
<div class="line">[Wednesday 08 September 2010] [11:44:34] &lt;sd88g93&gt;  yeah, trying to isolate where its coming from</div>
<div class="line">[Wednesday 08 September 2010] [11:44:50] &lt;pieterh&gt;  so you can write your own forwarding code</div>
<div class="line">[Wednesday 08 September 2010] [11:44:55] &lt;pieterh&gt;  it is trivial</div>
<div class="line">[Wednesday 08 September 2010] [11:45:02] &lt;pieterh&gt;  then you can debug that quite easily</div>
<div class="line">[Wednesday 08 September 2010] [11:45:19] &lt;sd88g93&gt;  but when i try a loop in the main program to read what&#8217;s coming from the subscriber socket via inproc,   nothing comes from it</div>
<div class="line">[Wednesday 08 September 2010] [11:45:31] &lt;pieterh&gt;  your problem maybe is that by starting an in-built device you have a black box you can&#8217;t inspect</div>
<div class="line">[Wednesday 08 September 2010] [11:45:58] &lt;pieterh&gt;  so it&#8217;s not the publisher not sending, it&#8217;s the subscriber not receiving?</div>
<div class="line">[Wednesday 08 September 2010] [11:46:28] &lt;sd88g93&gt;  the publisher isnt making it to the outer publisher socket,   nothings coming out</div>
<div class="line">[Wednesday 08 September 2010] [11:46:48] &lt;sd88g93&gt;  there&#8217;s not errors from the zmq_send function,</div>
<div class="line">[Wednesday 08 September 2010] [11:47:30] &lt;sd88g93&gt;  but when i monitor the socket with tshark, there&#8217;s nothing coming out</div>
<div class="line">[Wednesday 08 September 2010] [11:47:37] &lt;pieterh&gt;  sd88g93, sorry, I can&#8217;t really help you any more until/unless you can get a minimal test case that reproduces the problem</div>
<div class="line">[Wednesday 08 September 2010] [11:47:59] &lt;sd88g93&gt;  yeah, that&#8217;s the problem</div>
<div class="line">[Wednesday 08 September 2010] [12:33:04] &lt;cremes&gt;   sd88g93: i recommend instrumenting the forwarder device; just have it print what it receives and what it sends out again</div>
<div class="line">[Wednesday 08 September 2010] [12:33:28] &lt;cremes&gt;   if you are using multi-part messages with the topic in the first part, then perhaps it isn&#8217;t getting forwarded correctly and</div>
<div class="line">[Wednesday 08 September 2010] [12:33:43] &lt;cremes&gt;   your subscribers are dropping the messages because the topic doesn&#8217;t match</div>
<div class="line">[Wednesday 08 September 2010] [12:43:22] &lt;erickt&gt;   are any of the pyzmq devs around today?</div>
<div class="line">[Wednesday 08 September 2010] [13:20:07] &lt;ModusPwnens&gt;  hmm cremes, yesterday you said that if the performance tests were working correctly, remote_thr should be the first one to exist</div>
<div class="line">[Wednesday 08 September 2010] [13:22:20] &lt;ModusPwnens&gt;  exit*</div>
<div class="line">[Wednesday 08 September 2010] [13:22:36] &lt;cremes&gt;   right; the publisher should be done before the subscriber</div>
<div class="line">[Wednesday 08 September 2010] [13:22:52] &lt;cremes&gt;   but that doesn&#8217;t always happen on my machine so i&#8217;m a tad confused</div>
<div class="line">[Wednesday 08 September 2010] [13:23:09] &lt;cremes&gt;   unfortunately, i don&#8217;t have time to look at it right now... maybe someone else can take a peek</div>
<div class="line">[Wednesday 08 September 2010] [13:23:10] &lt;ModusPwnens&gt;  Yeah, what I am seeing is the remote continuing to run</div>
<div class="line">[Wednesday 08 September 2010] [13:23:15] &lt;ModusPwnens&gt;  until it times out or something</div>
<div class="line">[Wednesday 08 September 2010] [13:24:37] &lt;cremes&gt;   i recommend you add some print statements to the tests and run them with low iterations; perhaps something obvious will pop out</div>
<div class="line">[Wednesday 08 September 2010] [13:29:03] &lt;ModusPwnens&gt;  ok, will do</div>
<div class="line">[Wednesday 08 September 2010] [14:53:02] &lt;mikko&gt;    hi</div>
<div class="line">[Wednesday 08 September 2010] [14:55:21] &lt;mikko&gt;    what happened with zmq_close semantics?</div>
<div class="line">[Wednesday 08 September 2010] [15:21:20] &lt;mato&gt; mikko: the infrastructure work is all on &#8216;master&#8217;</div>
<div class="line">[Wednesday 08 September 2010] [15:21:36] &lt;mato&gt; mikko: but i&#8217;ve not yet had time to test it properly due to &#8220;real&#8221; work :-(</div>
<div class="line">[Wednesday 08 September 2010] [16:45:29] &lt;bennymack&gt;    hey everybody! So, i&#8217;m looking into 0MQ a bit and so I was strace() a simple example in perl and I noticed a lot of these 24byte send/recv calls on the pipes between the main thread and the 0MQ context thread</div>
<div class="line">[Wednesday 08 September 2010] [16:45:54] &lt;bennymack&gt;    is there something I can read about all that chatter that&#8217;s going on?</div>
<div class="line">[Wednesday 08 September 2010] [16:46:07] &lt;bennymack&gt;    is it the SPB?</div>
<div class="line">[Wednesday 08 September 2010] [17:09:11] &lt;sd88g93&gt;  bennymack:  you might want to read this, if you havent already: <a class="reference external" href="http://www.zeromq.org/docs:user-guide#toc24">http://www.zeromq.org/docs:user-guide#toc24</a></div>
<div class="line">[Wednesday 08 September 2010] [17:09:37] &lt;sd88g93&gt;  alhtough i dont think it gets into the low level stuff that youre talking about</div>
<div class="line">[Wednesday 08 September 2010] [17:12:05] &lt;sd88g93&gt;  cremes: ive managed to replicate the error i get here: <a class="reference external" href="http://pastebin.com/5Lsy47Cj">http://pastebin.com/5Lsy47Cj</a></div>
<div class="line">[Wednesday 08 September 2010] [17:12:45] &lt;mato&gt; bennymack: what you see is signalling between the application thread and zmq I/O thread, see zmq::signaler_t and read the source :-)</div>
<div class="line">[Wednesday 08 September 2010] [17:12:46] &lt;sd88g93&gt;  we were talking about it this morning,  (or for you , i guess that would be afternoon)</div>
<div class="line">[Wednesday 08 September 2010] [17:13:29] &lt;sd88g93&gt;  oh, mato, you were here this morning,  i managed to replicate the error i was having in this program : <a class="reference external" href="http://pastebin.com/5Lsy47Cj">http://pastebin.com/5Lsy47Cj</a></div>
<div class="line">[Wednesday 08 September 2010] [17:14:12] &lt;mato&gt; sd88g93: hmm, that&#8217;s long, do you have a 5-second summary?</div>
<div class="line">[Wednesday 08 September 2010] [17:14:19] &lt;sd88g93&gt;  ok,</div>
<div class="line">[Wednesday 08 September 2010] [17:14:45] &lt;sd88g93&gt;  the top program is fields requests from a client skt,   and feeds them to different threads</div>
<div class="line">[Wednesday 08 September 2010] [17:15:02] &lt;sd88g93&gt;  it relays the multipart messages to a pub skt</div>
<div class="line">[Wednesday 08 September 2010] [17:15:19] &lt;sd88g93&gt;   (the second program is a client app to send it messages )</div>
<div class="line">[Wednesday 08 September 2010] [17:15:52] &lt;sd88g93&gt;  the problem is in the top program,  it recives the messages fine , but doesnt relay the messages to the central publisher socket in the main thread</div>
<div class="line">[Wednesday 08 September 2010] [17:16:33] &lt;sd88g93&gt;  they should be easy to compile,  just  gcc -otestpub testpub.c -lzmq for the top program</div>
<div class="line">[Wednesday 08 September 2010] [17:16:36] &lt;mato&gt; sd88g93: so did you find your problem?</div>
<div class="line">[Wednesday 08 September 2010] [17:16:56] &lt;sd88g93&gt;  i replicated the same problem in that code</div>
<div class="line">[Wednesday 08 September 2010] [17:17:16] &lt;sd88g93&gt;  its in the loop in the top program, (in the thread)</div>
<div class="line">[Wednesday 08 September 2010] [17:17:19] &lt;mato&gt; sorry, it&#8217;s kind of late here ...</div>
<div class="line">[Wednesday 08 September 2010] [17:17:25] &lt;sd88g93&gt;  oh ok no problem</div>
<div class="line">[Wednesday 08 September 2010] [17:17:26] &lt;bennymack&gt;    ok thanks! I&#8217;ll take a look</div>
<div class="line">[Wednesday 08 September 2010] [17:17:43] &lt;sd88g93&gt;  I can post to the mailing list</div>
<div class="line">[Wednesday 08 September 2010] [17:17:52] &lt;mato&gt; that might be best</div>
<div class="line">[Wednesday 08 September 2010] [17:18:04] &lt;sd88g93&gt;  yeah, still 5p.m. here</div>
<div class="line">[Wednesday 08 September 2010] [17:18:09] &lt;jond&gt; sd88g93: is this the same problem as the code on the mail list. that needed a sleep after the pthread_create?</div>
<div class="line">[Wednesday 08 September 2010] [17:18:33] &lt;sd88g93&gt;  it might be,  not sure which one youre thinking of</div>
<div class="line">[Wednesday 08 September 2010] [17:18:40] &lt;mato&gt; jond: hi Jon... am in the middle of replying to your mail re Git</div>
<div class="line">[Wednesday 08 September 2010] [17:19:16] &lt;mato&gt; jond: is your patmatch branch a private topic branch? i.e. noone pulling from it?</div>
<div class="line">[Wednesday 08 September 2010] [17:19:41] &lt;jond&gt; mato: hi , thanks, also what does &#8216;Your branch is behind &#8216;origin/master&#8217; by 86 commits, and can be fast-forwarded.&#8217; mean?</div>
<div class="line">[Wednesday 08 September 2010] [17:20:34] &lt;jond&gt; mato: yes, patmatch private topic branch which I intend to run format patch from and all be hunky dory</div>
<div class="line">[Wednesday 08 September 2010] [17:20:36] &lt;mato&gt; jond: if it&#8217;s your local &#8216;master&#8217; branch that means you can pull from it and you&#8217;re 86 commits behind...</div>
<div class="line">[Wednesday 08 September 2010] [17:21:06] &lt;mato&gt; jond: the &#8220;can fast forward&#8221; stuff basically means you&#8217;ve not made any commits to your local master branch that would require a merge</div>
<div class="line">[Wednesday 08 September 2010] [17:21:34] &lt;jond&gt; mato: yep local master; It;s been behind every since I did a hard reset that chuck posted, but i&#8217;m not clear how to get rid of it</div>
<div class="line">[Wednesday 08 September 2010] [17:21:54] &lt;mato&gt; jond: git pull</div>
<div class="line">[Wednesday 08 September 2010] [17:22:12] &lt;jond&gt; mato: this is after a git pull</div>
<div class="line">[Wednesday 08 September 2010] [17:23:00] &lt;jond&gt; mato: git pull says this now error: Untracked working tree file &#8216;src/connect_session.cpp&#8217; would be overwritten by merge.</div>
<div class="line">[Wednesday 08 September 2010] [17:23:22] &lt;mato&gt; jond: oh, right, you have changes you&#8217;ve not committed on local master</div>
<div class="line">[Wednesday 08 September 2010] [17:23:28] &lt;mato&gt; jond: what do you want to do with those?</div>
<div class="line">[Wednesday 08 September 2010] [17:24:29] &lt;mato&gt; jond: git status will show you what git thinks about your working tree state</div>
<div class="line">[Wednesday 08 September 2010] [17:24:36] &lt;jond&gt; mato: there shouldnt be any, this all started when I pulled the 2.1 tree then reset to 2.0.8. I havent created those files or edited?</div>
<div class="line">[Wednesday 08 September 2010] [17:24:55] &lt;mato&gt; jond: what does git status say?</div>
<div class="line">[Wednesday 08 September 2010] [17:25:33] &lt;mato&gt; jond: alternatively, do you have any changes you care about in that repository?</div>
<div class="line">[Wednesday 08 September 2010] [17:25:33] &lt;jond&gt; mato: git status gives me the 86 commits behind and some untracked files ; do i need to remove those?</div>
<div class="line">[Wednesday 08 September 2010] [17:27:00] &lt;jond&gt; mato: thats fixed master</div>
<div class="line">[Wednesday 08 September 2010] [17:27:10] &lt;mato&gt; ?</div>
<div class="line">[Wednesday 08 September 2010] [17:27:33] &lt;jond&gt; i removed the &#8216;overwritten&#8217; files</div>
<div class="line">[Wednesday 08 September 2010] [17:27:48] &lt;mato&gt; you probably wanted git checkout &#8211; &lt;path&gt;</div>
<div class="line">[Wednesday 08 September 2010] [17:28:03] &lt;mato&gt; does git status now say &#8220;working directory clean&#8221; ?</div>
<div class="line">[Wednesday 08 September 2010] [17:29:34] &lt;jond&gt; mato: yes, after I removed some other note files I had left there</div>
<div class="line">[Wednesday 08 September 2010] [17:29:55] &lt;mato&gt; jond: goodo, then you should be able to pull, and follow the instructions in my email</div>
<div class="line">[Wednesday 08 September 2010] [17:30:10] &lt;mato&gt; jond: but if you want to be sure you don&#8217;t mess up just take a backup copy of your local repo</div>
<div class="line">[Wednesday 08 September 2010] [17:30:20] &lt;mato&gt; jond: (cp -r zeromq2 zeromq2.bak or something)</div>
<div class="line">[Wednesday 08 September 2010] [17:30:30] &lt;jond&gt; mato: will do , many thanks</div>
<div class="line">[Wednesday 08 September 2010] [17:30:53] &lt;mato&gt; ok, i&#8217;m off... cyl</div>
<div class="line">[Wednesday 08 September 2010] [17:31:01] &lt;jond&gt; mato: cyl</div>
<div class="line">[Wednesday 08 September 2010] [17:31:09] &lt;sd88g93&gt;  good night , mato</div>
<div class="line">[Wednesday 08 September 2010] [17:31:15] &lt;mato&gt; nite, thx</div>
<div class="line">[Wednesday 08 September 2010] [17:31:16] &lt;sd88g93&gt;  ok, just posted to the ML</div>
<div class="line">[Thursday 09 September 2010] [14:30:23] Notice  -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [14:30:24] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [14:30:48] &lt;pieterh&gt;   PerfDave, sorry, i was kidding around</div>
<div class="line">[Thursday 09 September 2010] [14:31:42] &lt;pieterh&gt;   sd88g93, ok, test case is now clear, lemme think about it a sec</div>
<div class="line">[Thursday 09 September 2010] [15:45:13] &lt;pieterh&gt;   sd88g93, what is &#8216;qskt&#8217; for?</div>
<div class="line">[Thursday 09 September 2010] [15:45:31] &lt;sd88g93&gt;   that&#8217;s the rep socket,  in the worker thread,  that recieves the messages</div>
<div class="line">[Thursday 09 September 2010] [15:45:35] &lt;sd88g93&gt;   from the client</div>
<div class="line">[Thursday 09 September 2010] [15:45:36] &lt;pieterh&gt;   there is already a terrible lack of vowels here in Slovakia</div>
<div class="line">[Thursday 09 September 2010] [15:46:06] &lt;sd88g93&gt;   tough times, gotta conservee</div>
<div class="line">[Thursday 09 September 2010] [15:46:22] &lt;pieterh&gt;   that&#8217;s kind of like &#8220;who is that guy?&#8221; answer: &#8220;two legs, body, arms, head&#8221;</div>
<div class="line">[Thursday 09 September 2010] [15:47:02] &lt;pieterh&gt;   cause it does not in fact talk to the client at all</div>
<div class="line">[Thursday 09 September 2010] [15:47:02] &lt;sd88g93&gt;   couldnt come up with a more descriptive variable,  sorry,  i blame my lack of imagination</div>
<div class="line">[Thursday 09 September 2010] [15:47:19] &lt;sd88g93&gt;   it doesnt ?  it does on mine</div>
<div class="line">[Thursday 09 September 2010] [15:47:25] &lt;pieterh&gt;   it talks to the main thread</div>
<div class="line">[Thursday 09 September 2010] [15:47:26] &lt;pieterh&gt;   via inproc</div>
<div class="line">[Thursday 09 September 2010] [15:47:45] &lt;sd88g93&gt;   yeah, then there&#8217;s a queue device  to the main socket</div>
<div class="line">[Thursday 09 September 2010] [15:47:47] &lt;sd88g93&gt;   the client skt</div>
<div class="line">[Thursday 09 September 2010] [15:48:11] &lt;pieterh&gt;   why is the client not talking to the worker directly?</div>
<div class="line">[Thursday 09 September 2010] [15:48:28] &lt;sd88g93&gt;   if you have more than one thread</div>
<div class="line">[Thursday 09 September 2010] [15:48:44] &lt;sd88g93&gt;   use the device ,  at least that&#8217;s the scenario</div>
<div class="line">[Thursday 09 September 2010] [15:48:55] &lt;pieterh&gt;   well...</div>
<div class="line">[Thursday 09 September 2010] [15:49:00] &lt;pieterh&gt;   it</div>
<div class="line">[Thursday 09 September 2010] [15:49:15] &lt;pieterh&gt;   the device is really when you have an N-to-N case</div>
<div class="line">[Thursday 09 September 2010] [15:49:23] &lt;pieterh&gt;   and don&#8217;t want all the N&#8217;s to have to know about each other</div>
<div class="line">[Thursday 09 September 2010] [15:49:43] &lt;sd88g93&gt;   yeah, there&#8217;s just one client now,  but there could be more</div>
<div class="line">[Thursday 09 September 2010] [15:49:46] &lt;pieterh&gt;   ah... you are in fact developing the MT server model...</div>
<div class="line">[Thursday 09 September 2010] [15:49:54] &lt;sd88g93&gt;   yeah</div>
<div class="line">[Thursday 09 September 2010] [15:49:57] &lt;pieterh&gt;   i hardly recognized it... :-/</div>
<div class="line">[Thursday 09 September 2010] [15:49:59] &lt;sd88g93&gt;   there could be more than one client</div>
<div class="line">[Thursday 09 September 2010] [15:50:58] &lt;sd88g93&gt;   well,  a diffferent form of it, i guess</div>
<div class="line">[Thursday 09 September 2010] [15:53:00] &lt;sd88g93&gt;   zhelpers.h:25    i thought sprintf was &#8220;evil&#8221;,  suppose to use snprintf ?</div>
<div class="line">[Thursday 09 September 2010] [15:54:16] &lt;keffo&gt; pieterh, I&#8217;ve done the lru now!</div>
<div class="line">[Thursday 09 September 2010] [15:54:34] &lt;pieterh&gt;   keffo: wow!</div>
<div class="line">[Thursday 09 September 2010] [15:54:41] &lt;pieterh&gt;   sd88g93, this is what the worker loop becomes:</div>
<div class="line">[Thursday 09 September 2010] [15:54:44] &lt;pieterh&gt;           char <a href="#id17"><span class="problematic" id="id18">*</span></a>command = s_recv (control);</div>
<div class="line">[Thursday 09 September 2010] [15:54:44] &lt;pieterh&gt;           char <a href="#id19"><span class="problematic" id="id20">*</span></a>count   = s_recv (control);</div>
<div class="line">[Thursday 09 September 2010] [15:54:44] &lt;pieterh&gt;           puts (&#8220;Worker got command: %sn&#8221;, command);</div>
<div class="line">[Thursday 09 September 2010] [15:54:44] &lt;pieterh&gt;           s_send     (publisher, &#8220;msg.x|&#8221;);</div>
<div class="line">[Thursday 09 September 2010] [15:54:47] &lt;pieterh&gt;           s_sendmore (publisher, command);</div>
<div class="line">[Thursday 09 September 2010] [15:54:47] &lt;pieterh&gt;           s_send     (publisher, count);</div>
<div class="line">[Thursday 09 September 2010] [15:54:48] &lt;pieterh&gt;           free (command);</div>
<div class="line">[Thursday 09 September 2010] [15:54:50] &lt;pieterh&gt;           free (count);</div>
<div class="line">[Thursday 09 September 2010] [15:54:52] &lt;pieterh&gt;           s_send (control, &#8220;OK&#8221;);</div>
<div class="line">[Thursday 09 September 2010] [15:54:59] &lt;pieterh&gt;   there is a bug, i see immediately...</div>
<div class="line">[Thursday 09 September 2010] [15:55:03] &lt;pieterh&gt;   in my code, not yours</div>
<div class="line">[Thursday 09 September 2010] [15:55:24] &lt;ModusPwnens&gt;   Wait a sec pieter, i was referring to something on the site</div>
<div class="line">[Thursday 09 September 2010] [15:55:49] &lt;sd88g93&gt;   oh, in s_send and s_sendmore  you do init the message and close it each time,</div>
<div class="line">[Thursday 09 September 2010] [15:56:16] &lt;sd88g93&gt;   yeah, that&#8217;s what i thought, you were just referrring to coding style,   eh ?   not actuall instructions needed</div>
<div class="line">[Thursday 09 September 2010] [15:56:24] &lt;sd88g93&gt;   i get ya now,  ok</div>
<div class="line">[Thursday 09 September 2010] [15:56:50] &lt;pieterh&gt;   ModusPwnens, even better, join the site and click &#8216;edit&#8217;</div>
<div class="line">[Thursday 09 September 2010] [15:56:57] &lt;pieterh&gt;   it&#8217;s a wiki :-)</div>
<div class="line">[Thursday 09 September 2010] [15:57:07] &lt;ModusPwnens&gt;   Oh okay, well that&#8217;s easy to fix then</div>
<div class="line">[Thursday 09 September 2010] [15:57:09] &lt;keffo&gt; pieterh, it seems to be working very well.. I just need to post back the results now, but I&#8217;ll probably use a new socketlayer for that, with some persistance as well</div>
<div class="line">[Thursday 09 September 2010] [15:57:25] &lt;pieterh&gt;   hmm, nice</div>
<div class="line">[Thursday 09 September 2010] [15:57:38] &lt;pieterh&gt;   keffo: i still find working with envelopes to be too painful</div>
<div class="line">[Thursday 09 September 2010] [15:57:52] &lt;pieterh&gt;   but we&#8217;ll make abstractions for those later</div>
<div class="line">[Thursday 09 September 2010] [15:58:47] &lt;keffo&gt; I have a Route class for that</div>
<div class="line">[Thursday 09 September 2010] [15:59:02] &lt;pieterh&gt;   yeah, right, you told me... nice</div>
<div class="line">[Thursday 09 September 2010] [15:59:04] &lt;keffo&gt; which can construct itself from incoming, and also send it</div>
<div class="line">[Thursday 09 September 2010] [15:59:07] &lt;keffo&gt; yeah</div>
<div class="line">[Thursday 09 September 2010] [15:59:19] &lt;pieterh&gt;   were the names in the routing section too weird?</div>
<div class="line">[Thursday 09 September 2010] [15:59:27] &lt;pieterh&gt;   i was trying to get mnemonics that worked</div>
<div class="line">[Thursday 09 September 2010] [15:59:27] &lt;keffo&gt; where?</div>
<div class="line">[Thursday 09 September 2010] [15:59:31] &lt;pieterh&gt;   ch3</div>
<div class="line">[Thursday 09 September 2010] [15:59:32] &lt;keffo&gt; mama,papa? =)</div>
<div class="line">[Thursday 09 September 2010] [15:59:41] &lt;pieterh&gt;   yeah</div>
<div class="line">[Thursday 09 September 2010] [15:59:49] &lt;jhawk28&gt;   the mama and papa were hilarious</div>
<div class="line">[Thursday 09 September 2010] [15:59:52] &lt;keffo&gt; papa was a bit confusing, didnt really see the application to be honest, but I was mostly interested in the mama anyway :)</div>
<div class="line">[Thursday 09 September 2010] [16:00:14] &lt;pieterh&gt;   well, good, it&#8217;s hard to make this material even remotely funny</div>
<div class="line">[Thursday 09 September 2010] [16:00:25]      * pieterh still has to write a short piece on quick and clean exits</div>
<div class="line">[Thursday 09 September 2010] [16:00:36] &lt;jhawk28&gt;   we enjoyed it at work</div>
<div class="line">[Thursday 09 September 2010] [16:00:37] &lt;psino&gt; pieterh: you should move some more reasoning about the naming in ch3 to the place where you introduce them</div>
<div class="line">[Thursday 09 September 2010] [16:00:46] &lt;keffo&gt; pieterh, Another interesting sideffect of the mama topology you presented there is that there is no longer any immediate necessity for a heartbeat system</div>
<div class="line">[Thursday 09 September 2010] [16:00:53] &lt;pieterh&gt;   psino: did I get the order wrong?</div>
<div class="line">[Thursday 09 September 2010] [16:01:07] &lt;pieterh&gt;   yup, but you need heartbeats for another reason</div>
<div class="line">[Thursday 09 September 2010] [16:01:26] &lt;pieterh&gt;   i was going to write that today but got distracted by our friend sd88g93&#8217;s curious case here</div>
<div class="line">[Thursday 09 September 2010] [16:01:36] &lt;pieterh&gt;   also, ISP guys getting lost</div>
<div class="line">[Thursday 09 September 2010] [16:01:38] &lt;keffo&gt; sure, but not in the same way as a topdown design</div>
<div class="line">[Thursday 09 September 2010] [16:02:03] &lt;psino&gt; no, but when you say that REQ is a MAMA socket, making insistent demands, you might want to add something more that helps the reader remember the terminology</div>
<div class="line">[Thursday 09 September 2010] [16:02:26] &lt;pieterh&gt;   hmm, lemme think about that for a second...</div>
<div class="line">[Thursday 09 September 2010] [16:02:52] &lt;pieterh&gt;   i wrote that text very late on tuesday evening after a glass or two of wine... :-/</div>
<div class="line">[Thursday 09 September 2010] [16:03:05] &lt;psino&gt; you describe the usage of mama pretty good in the &#8220;Router-to-Mama&#8221;-section</div>
<div class="line">[Thursday 09 September 2010] [16:03:23] &lt;psino&gt; (personal opinion of course)</div>
<div class="line">[Thursday 09 September 2010] [16:03:30] &lt;pieterh&gt;   i think the character is based on my friend Fabio&#8217; Italian mother</div>
<div class="line">[Thursday 09 September 2010] [16:03:36] &lt;pieterh&gt;   ok...</div>
<div class="line">[Thursday 09 September 2010] [16:03:44] &lt;pieterh&gt;   opinion is better than silence</div>
<div class="line">[Thursday 09 September 2010] [16:04:33] &lt;jhawk28&gt;   I was going through the swap and hwm parts of the user guide and I got an exception after the pub ran for a while (from yquery:108)</div>
<div class="line">[Thursday 09 September 2010] [16:05:13] &lt;pieterh&gt;   jhawk28, interesting!</div>
<div class="line">[Thursday 09 September 2010] [16:05:23] &lt;jhawk28&gt;   It died when I was using the connect, but not the bind</div>
<div class="line">[Thursday 09 September 2010] [16:06:03] &lt;jhawk28&gt;   not sure if it matters, but I was using the Java bindings</div>
<div class="line">[Thursday 09 September 2010] [16:06:14] &lt;pieterh&gt;   do you mean yqueue?</div>
<div class="line">[Thursday 09 September 2010] [16:06:30] &lt;jhawk28&gt;   yes, it was an assertion that failed</div>
<div class="line">[Thursday 09 September 2010] [16:06:52] &lt;jhawk28&gt;   going from memory - so it could be wrong</div>
<div class="line">[Thursday 09 September 2010] [16:06:58] &lt;pieterh&gt;   could you please log this on the issue tracker, along with the hardware setup you&#8217;re using?</div>
<div class="line">[Thursday 09 September 2010] [16:07:12] &lt;jhawk28&gt;   I think so</div>
<div class="line">[Thursday 09 September 2010] [16:07:12] &lt;pieterh&gt;   this should absolutely never never happen</div>
<div class="line">[Thursday 09 September 2010] [16:07:27] &lt;jhawk28&gt;   figured as much</div>
<div class="line">[Thursday 09 September 2010] [16:07:30] &lt;pieterh&gt;   there is indeed an assertion on yqueue.hpp:108</div>
<div class="line">[Thursday 09 September 2010] [16:07:42] &lt;pieterh&gt;   woa, hang on</div>
<div class="line">[Thursday 09 September 2010] [16:07:49] &lt;pieterh&gt;   it&#8217;s an out of memory condition</div>
<div class="line">[Thursday 09 September 2010] [16:08:36] &lt;jhawk28&gt;   hwm was set to 1 and swap was set to 25000000</div>
<div class="line">[Thursday 09 September 2010] [16:09:27] &lt;pieterh&gt;   you sure you didn&#8217;t reverse those? :-)</div>
<div class="line">[Thursday 09 September 2010] [16:09:54] &lt;pieterh&gt;   it&#8217;s worth logging, we&#8217;ll run that on some big boxes here and see if we can reproduce it</div>
<div class="line">[Thursday 09 September 2010] [16:09:56] &lt;jhawk28&gt;   :) was following the guide and then started playing around seeing what it would do</div>
<div class="line">[Thursday 09 September 2010] [16:09:59] &lt;pieterh&gt;   thanks</div>
<div class="line">[Thursday 09 September 2010] [16:14:29] Notice  -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [16:14:30] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [16:15:06] &lt;daggertip&gt; so</div>
<div class="line">[Thursday 09 September 2010] [16:17:16]      * pieterh salutes the short-lived but nicely named daggertip</div>
<div class="line">[Thursday 09 September 2010] [16:17:36]      * cremes ha</div>
<div class="line">[Thursday 09 September 2010] [16:23:10] &lt;pieterh&gt;   sd88g93, you still there? I award you the &#8220;obfuscated 0MQ contest&#8221; award :-)</div>
<div class="line">[Thursday 09 September 2010] [16:24:33] &lt;pieterh&gt;   you have six sockets and two devices in your minimal test case</div>
<div class="line">[Thursday 09 September 2010] [16:45:19] Notice  -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [16:45:20] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [16:46:41] &lt;sd88g93&gt;   i&#8217;m always up for an award</div>
<div class="line">[Thursday 09 September 2010] [16:47:41] &lt;sd88g93&gt;   think sustrik can have a looksie ?</div>
<div class="line">[Thursday 09 September 2010] [16:54:15] &lt;pieterh&gt;   sd88g93, lol, are you trolling me?</div>
<div class="line">[Thursday 09 September 2010] [16:54:34] &lt;sd88g93&gt;   trolling ?</div>
<div class="line">[Thursday 09 September 2010] [16:54:36] &lt;pieterh&gt;   i&#8217;ve stripped it right down and removing the queue device lets it work</div>
<div class="line">[Thursday 09 September 2010] [16:54:39] &lt;pieterh&gt;   :-)</div>
<div class="line">[Thursday 09 September 2010] [16:54:56] &lt;pieterh&gt;   gnash, i will find this... gnash</div>
<div class="line">[Thursday 09 September 2010] [16:55:14] &lt;sd88g93&gt;   how do you read the messages into the thread ?</div>
<div class="line">[Thursday 09 September 2010] [16:55:28] &lt;pieterh&gt;   well, connect worker directly to client</div>
<div class="line">[Thursday 09 September 2010] [16:55:47] &lt;pieterh&gt;   next time, develop such code step by step so you can test it gradually</div>
<div class="line">[Thursday 09 September 2010] [16:56:03] &lt;pieterh&gt;   and when you add a new piece if it does not work you know exactly what is questionable</div>
<div class="line">[Thursday 09 September 2010] [16:56:07] &lt;sd88g93&gt;   i&#8217;m suspicious that the messages are being altered in some way,  like martin is slipping coded messages   in there</div>
<div class="line">[Thursday 09 September 2010] [16:56:18] &lt;sd88g93&gt;   yeah, that&#8217;s what i did  ,  but ....</div>
<div class="line">[Thursday 09 September 2010] [16:56:24] &lt;pieterh&gt;   i doubt it</div>
<div class="line">[Thursday 09 September 2010] [16:56:29] &lt;sd88g93&gt;   I realized zmq can do more</div>
<div class="line">[Thursday 09 September 2010] [16:57:10] &lt;sd88g93&gt;   I had a little different setup  before, and then i put the forwarder back in ,  because i really didnt want to move zmq_msg_t &#8216;s around between threads</div>
<div class="line">[Thursday 09 September 2010] [16:57:15] &lt;pieterh&gt;   I&#8217;ve cleaned up (rewritten :-() the server now: <a class="reference external" href="http://gist.github.com/gists/572417">http://gist.github.com/gists/572417</a></div>
<div class="line">[Thursday 09 September 2010] [16:57:24] &lt;pieterh&gt;   that is a messed up version but it shows you what it looks like</div>
<div class="line">[Thursday 09 September 2010] [16:57:47] &lt;pieterh&gt;   see how the queue thread creates its own sockets</div>
<div class="line">[Thursday 09 September 2010] [16:58:06] &lt;pieterh&gt;   not necessary to do that in main, kind of pointless and... in fact... illegal</div>
<div class="line">[Thursday 09 September 2010] [16:58:15] &lt;pieterh&gt;   you cannot create socket in thread A and use it in thread B</div>
<div class="line">[Thursday 09 September 2010] [17:01:49] Notice  -NickServ- travlr__ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [17:01:50] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [17:05:13] &lt;pieterh&gt;   ok, sd88g93 that&#8217;s the problem</div>
<div class="line">[Thursday 09 September 2010] [17:05:30] &lt;sd88g93&gt;   oh really</div>
<div class="line">[Thursday 09 September 2010] [17:06:10] &lt;pieterh&gt;   dude, you owe me a case of beer</div>
<div class="line">[Thursday 09 September 2010] [17:06:34] &lt;pieterh&gt;   corrected code is at <a class="reference external" href="http://gist.github.com/572417">http://gist.github.com/572417</a></div>
<div class="line">[Thursday 09 September 2010] [17:06:36] &lt;sd88g93&gt;   yes yes, i do  hahaa</div>
<div class="line">[Thursday 09 September 2010] [17:06:48] &lt;pieterh&gt;   the publisher socket is not there, you can put it back of course</div>
<div class="line">[Thursday 09 September 2010] [17:07:07] &lt;pieterh&gt;   so problem was that your queue thread wasn&#8217;t working reliably</div>
<div class="line">[Thursday 09 September 2010] [17:07:21] &lt;pieterh&gt;   when you test code, don&#8217;t run it once, run it 10-100 times</div>
<div class="line">[Thursday 09 September 2010] [17:07:31] &lt;sd88g93&gt;   so you just create the skts for the device in that thread then,</div>
<div class="line">[Thursday 09 September 2010] [17:07:35] &lt;pieterh&gt;   threading issues are nasty like that</div>
<div class="line">[Thursday 09 September 2010] [17:07:47] &lt;pieterh&gt;   pls dnt sy skts t mks m brn hrt</div>
<div class="line">[Thursday 09 September 2010] [17:08:01] &lt;pieterh&gt;   socks if you really have to save on letters</div>
<div class="line">[Thursday 09 September 2010] [17:08:12] &lt;pieterh&gt;   but yes, you do</div>
<div class="line">[Thursday 09 September 2010] [17:08:15] &lt;sd88g93&gt;   what&#8217;s wrong with skts ?</div>
<div class="line">[Thursday 09 September 2010] [17:08:32] &lt;pieterh&gt;   what&#8217;s wrong with the letters &#8216;o&#8217; and &#8216;e&#8217;?</div>
<div class="line">[Thursday 09 September 2010] [17:08:33] &lt;pieterh&gt;   :-)</div>
<div class="line">[Thursday 09 September 2010] [17:08:52] &lt;pieterh&gt;   seriously, if you remove essential letters from words you create extra parsing costs for the reader</div>
<div class="line">[Thursday 09 September 2010] [17:08:59] &lt;sd88g93&gt;   sorry, that&#8217;s just how i do variables,  i tend to leave out vowels</div>
<div class="line">[Thursday 09 September 2010] [17:09:08] &lt;pieterh&gt;   english may look redundant but it&#8217;s been elegantly evolved for lazy readers</div>
<div class="line">[Thursday 09 September 2010] [17:09:25] &lt;pieterh&gt;   if you want a hint for style: make your code readable</div>
<div class="line">[Thursday 09 September 2010] [17:09:37] &lt;pieterh&gt;   please compare my versions with yours</div>
<div class="line">[Thursday 09 September 2010] [17:09:58] &lt;sd88g93&gt;   those zhelper.h are helpful, but unfortunately, i need it for binary data</div>
<div class="line">[Thursday 09 September 2010] [17:10:01] &lt;pieterh&gt;   you seriously cost me several hours just to untangle your code...</div>
<div class="line">[Thursday 09 September 2010] [17:10:16] &lt;pieterh&gt;   zhelpers.h is an example, modify/extend it for binary data</div>
<div class="line">[Thursday 09 September 2010] [17:10:23] &lt;pieterh&gt;   s_recv already works for binary data</div>
<div class="line">[Thursday 09 September 2010] [17:10:30] &lt;sd88g93&gt;   well, i was hoping for zero copy as well</div>
<div class="line">[Thursday 09 September 2010] [17:10:32] &lt;pieterh&gt;   add s_send_bin (socket, data, size) and it&#8217;s done</div>
<div class="line">[Thursday 09 September 2010] [17:10:48] &lt;sd88g93&gt;   ok,</div>
<div class="line">[Thursday 09 September 2010] [17:10:58] &lt;pieterh&gt;   just make sure to copy the data</div>
<div class="line">[Thursday 09 September 2010] [17:11:04] &lt;pieterh&gt;   otherwise you&#8217;ll get weirdness too</div>
<div class="line">[Thursday 09 September 2010] [17:11:44] &lt;pieterh&gt;   unless you are doing a lot of traffic (100K+ / second) or very large messages, zerocopy won&#8217;t be an advantage</div>
<div class="line">[Thursday 09 September 2010] [17:11:52] &lt;pieterh&gt;   but it will make your code harder to write and read and fix</div>
<div class="line">[Thursday 09 September 2010] [17:11:53] &lt;sd88g93&gt;   well,  there&#8217;s no way to do zero copy though,  when i can find a way to do zerocopy and those functions ,  then we&#8217;ve got something</div>
<div class="line">[Thursday 09 September 2010] [17:12:09] &lt;pieterh&gt;   do not optimize code that isn&#8217;t working</div>
<div class="line">[Thursday 09 September 2010] [17:12:17] &lt;pieterh&gt;   it is really a bad idea</div>
<div class="line">[Thursday 09 September 2010] [17:12:31] &lt;pieterh&gt;   actually I need to totally remove all reference to zerocopy from the user guide</div>
<div class="line">[Thursday 09 September 2010] [17:12:37] &lt;sd88g93&gt;   well,  one message part can be pretty big</div>
<div class="line">[Thursday 09 September 2010] [17:12:41] &lt;pieterh&gt;   people should not even know it exists until chapter 4 or so...</div>
<div class="line">[Thursday 09 September 2010] [17:12:47] &lt;pieterh&gt;   doesn&#8217;t matter</div>
<div class="line">[Thursday 09 September 2010] [17:12:55] &lt;sd88g93&gt;   like 100k</div>
<div class="line">[Thursday 09 September 2010] [17:13:02] &lt;pieterh&gt;   doesn&#8217;t matter</div>
<div class="line">[Thursday 09 September 2010] [17:13:03] &lt;sd88g93&gt;   100KB , easily</div>
<div class="line">[Thursday 09 September 2010] [17:13:07] &lt;pieterh&gt;   seriously, do the test yourself</div>
<div class="line">[Thursday 09 September 2010] [17:13:21] &lt;sd88g93&gt;   really ?  it wont matter ?</div>
<div class="line">[Thursday 09 September 2010] [17:13:36] &lt;pieterh&gt;   for (namewithvowels = 0; nwv &lt; 1000; nwv++) { do large copy here }</div>
<div class="line">[Thursday 09 September 2010] [17:13:39] &lt;sd88g93&gt;   hmm  ok , i&#8217;ll have to think on that some</div>
<div class="line">[Thursday 09 September 2010] [17:13:41] &lt;pieterh&gt;   run, test, prove it to yourself</div>
<div class="line">[Thursday 09 September 2010] [17:13:58] &lt;pieterh&gt;   it matters if you are into microsecond latency issues and CPUs are running at 75% full</div>
<div class="line">[Thursday 09 September 2010] [17:14:11] &lt;pieterh&gt;   i&#8217;ll bet you that case of beer x 2 that&#8217;s not your case</div>
<div class="line">[Thursday 09 September 2010] [17:14:41] &lt;pieterh&gt;   premature optimization is one of the many roads to evil and it&#8217;s not even a particularly fun one</div>
<div class="line">[Thursday 09 September 2010] [17:15:07] &lt;gebi&gt;  zero-copy can also easily be more expensive than plain copy if not aligned on cache-lines and between different cpus</div>
<div class="line">[Thursday 09 September 2010] [17:18:26] &lt;pieterh&gt;   ok, folk, /me has to go sleepy byes</div>
<div class="line">[Thursday 09 September 2010] [17:22:17] Notice  -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Thursday 09 September 2010] [17:22:17] Notice  -NickServ- You are now identified for travlr.</div>
<div class="line">[Thursday 09 September 2010] [17:22:18] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [17:31:44] Notice  -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [17:31:44] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [17:55:14] Notice  -NickServ- travlr__ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [17:55:15] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [18:40:07] Notice  -NickServ- travlr__ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [18:40:08] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [19:04:39] Notice  -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Thursday 09 September 2010] [19:04:39] Notice  -NickServ- You are now identified for travlr.</div>
<div class="line">[Thursday 09 September 2010] [19:04:39] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [19:15:06] Notice  -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [19:15:06] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 09 September 2010] [19:25:33] Notice  -NickServ- travlr__ is not a registered nickname.</div>
<div class="line">[Thursday 09 September 2010] [19:25:33] CTCP    Received Version request from frigg.</div>
<div class="line">[Saturday 11 September 2010] [07:44:15] &lt;icy&gt;   I can connect a socket to many endpoints, what is the reason for not allowing one to disconnect from an endpoint again?</div>
<div class="line">[Saturday 11 September 2010] [08:00:29] &lt;icy&gt;   also why do I have to loop over <em>all</em> sockets to see which ones got events after a zmq_poll(), I can&#8217;t see how this would scale</div>
<div class="line">[Saturday 11 September 2010] [08:03:36] &lt;guido_g&gt;   that&#8217;s how poll works</div>
<div class="line">[Saturday 11 September 2010] [08:08:57] &lt;icy&gt;   well that kinda nullifies a benefit that for example epoll() gives you</div>
<div class="line">[Saturday 11 September 2010] [08:09:05] &lt;icy&gt;   where you don&#8217;t have to loop around searching</div>
<div class="line">[Saturday 11 September 2010] [08:11:16] &lt;guido_g&gt;   a) somewhere you have to go through the list of fds</div>
<div class="line">[Saturday 11 September 2010] [08:12:11] &lt;guido_g&gt;   b) mq sockets aggregate os level sockets (one mq socket -&gt; many os level sockets), so you have only a few mq sockets</div>
<div class="line">[Saturday 11 September 2010] [08:12:37] &lt;guido_g&gt;   c) mq uses epoll or whatever is available on the given platform</div>
<div class="line">[Saturday 11 September 2010] [08:12:42] &lt;icy&gt;   yea but due to not being able to disconnect from one endpoint, I might end up needing many zmq sockets</div>
<div class="line">[Saturday 11 September 2010] [08:13:07] &lt;guido_g&gt;   i don&#8217;t dare to ask why...</div>
<div class="line">[Saturday 11 September 2010] [08:13:08] &lt;icy&gt;   it uses epoll but makes me loop over all sockets, epoll does not require me to do that</div>
<div class="line">[Saturday 11 September 2010] [08:13:45] &lt;guido_g&gt;   epoll is not available on all platforms mq is running on</div>
<div class="line">[Saturday 11 September 2010] [08:13:49] &lt;icy&gt;   I know</div>
<div class="line">[Saturday 11 September 2010] [08:13:52] &lt;guido_g&gt;   so?</div>
<div class="line">[Saturday 11 September 2010] [08:14:02] &lt;icy&gt;   but many provide smarter facilities than poll()</div>
<div class="line">[Saturday 11 September 2010] [08:14:44] &lt;icy&gt;   so you throw away a lot of benefits for a lowest common denominator</div>
<div class="line">[Saturday 11 September 2010] [08:15:03] &lt;guido_g&gt;   so you think it would make sense to have mq behave differently on differnt platforms?</div>
<div class="line">[Saturday 11 September 2010] [08:15:17] &lt;icy&gt;   that is not what I am saying</div>
<div class="line">[Saturday 11 September 2010] [08:15:21] &lt;guido_g&gt;   it is</div>
<div class="line">[Saturday 11 September 2010] [08:15:27] &lt;icy&gt;   nope</div>
<div class="line">[Saturday 11 September 2010] [08:15:55] &lt;guido_g&gt;   because if you use the _best_ way on a platform, you also have the platform specific semantics</div>
<div class="line">[Saturday 11 September 2010] [08:16:15] &lt;icy&gt;   you can still abstract it in a general way</div>
<div class="line">[Saturday 11 September 2010] [08:16:24] &lt;icy&gt;   see all event libraries like libev or libevent</div>
<div class="line">[Saturday 11 September 2010] [08:16:56] &lt;gebi&gt;  icy: just for the record, epoll is NOT faster than poll in some situations, quite frankly it is 20% or more slower than poll in some situations</div>
<div class="line">[Saturday 11 September 2010] [08:17:11] &lt;icy&gt;   I know, for small sets poll() is nice</div>
<div class="line">[Saturday 11 September 2010] [08:17:35] &lt;guido_g&gt;   may be these abstraction would cost a lot on some platforms, so why punish people not running you favorite platform?</div>
<div class="line">[Saturday 11 September 2010] [08:18:05] &lt;icy&gt;   they do not cost any considerable amount</div>
<div class="line">[Saturday 11 September 2010] [08:18:46] &lt;guido_g&gt;   evidence by allegation?</div>
<div class="line">[Saturday 11 September 2010] [08:19:01] &lt;icy&gt;   what evidence do you provide?</div>
<div class="line">[Saturday 11 September 2010] [08:19:48] &lt;guido_g&gt;   mq is built that way, and works</div>
<div class="line">[Saturday 11 September 2010] [08:21:32] &lt;icy&gt;   well all I&#8217;m saying is I cannot see how it can scale to many zmq sockets because of all the looping. so clearly there must be a reason for that and that would that you would not need many zqm sockets as each can connect to many transport endpoints</div>
<div class="line">[Saturday 11 September 2010] [08:22:07] &lt;icy&gt;   which brings me to my initial question why you can&#8217;t disconnect from one again</div>
<div class="line">[Saturday 11 September 2010] [08:23:15] &lt;icy&gt;   I might be missing something in how you are supposed to handle many volatile connections and am ready for enlightenment :)</div>
<div class="line">[Saturday 11 September 2010] [08:25:11] &lt;guido_g&gt;   what kind of connections?</div>
<div class="line">[Saturday 11 September 2010] [08:25:32] &lt;guido_g&gt;   you don&#8217;t see connects at the mq level</div>
<div class="line">[Saturday 11 September 2010] [08:28:26] &lt;icy&gt;   hm I was thinking of a socket which connects to many IPs over tcp but I guess I just need to flip it around and make it the server and not client</div>
<div class="line">[Saturday 11 September 2010] [08:29:25] &lt;guido_g&gt;   even then you would have only one mq socket</div>
<div class="line">[Saturday 11 September 2010] [08:29:33] &lt;pieter_hintjens&gt;   gebi: yes, i recall Zed Shaw&#8217;s analysis, quite fun</div>
<div class="line">[Saturday 11 September 2010] [08:30:03] &lt;pieter_hintjens&gt;   icy: you&#8217;re IMO trying to apply existing TCP patterns to 0MQ</div>
<div class="line">[Saturday 11 September 2010] [08:30:03] &lt;icy&gt;   yea but if the IPs are dynamic, the zmq socket would just get more and more endpoints attached to it</div>
<div class="line">[Saturday 11 September 2010] [08:30:17] &lt;icy&gt;   pieter_hintjens: quite possible, I am used to that :)</div>
<div class="line">[Saturday 11 September 2010] [08:30:55] &lt;guido_g&gt;   if you connect more and more sockets to a remote socket, then yes, the number of connections is growing</div>
<div class="line">[Saturday 11 September 2010] [08:30:57] &lt;pieter_hintjens&gt;   icy: you need to think of 0MQ sockets as mini applications not just APIs</div>
<div class="line">[Saturday 11 September 2010] [08:31:08] &lt;pieter_hintjens&gt;   they are intelligent and do things for you</div>
<div class="line">[Saturday 11 September 2010] [08:31:24] &lt;pieter_hintjens&gt;   learning this is the key to using 0MQ right and getting it to scale and be useful for you</div>
<div class="line">[Saturday 11 September 2010] [08:31:54] &lt;pieter_hintjens&gt;   there are some generic rules that apply to all 0MQ sockets</div>
<div class="line">[Saturday 11 September 2010] [08:32:02] &lt;pieter_hintjens&gt;   and then there are specifics to each type, how they behave</div>
<div class="line">[Saturday 11 September 2010] [08:32:12] &lt;pieter_hintjens&gt;   generically, client vs. server is important to get right</div>
<div class="line">[Saturday 11 September 2010] [08:32:35] &lt;pieter_hintjens&gt;   stable nodes act better as servers (doing the bind), dynamic nodes as clients (doing the connect)</div>
<div class="line">[Saturday 11 September 2010] [08:32:36] &lt;icy&gt;   yup makes sense, I think it will just take a bit of time to get the old patterns out of my head</div>
<div class="line">[Saturday 11 September 2010] [08:32:39] &lt;pieter_hintjens&gt;   yup</div>
<div class="line">[Saturday 11 September 2010] [08:32:50] &lt;pieter_hintjens&gt;   if it&#8217;s any help, we all go through this</div>
<div class="line">[Saturday 11 September 2010] [08:32:59] &lt;pieter_hintjens&gt;   did you read the user guide and try the examples?</div>
<div class="line">[Saturday 11 September 2010] [08:33:05] &lt;icy&gt;   yes</div>
<div class="line">[Saturday 11 September 2010] [08:33:16] &lt;pieter_hintjens&gt;   did you just read it, or try the code?</div>
<div class="line">[Saturday 11 September 2010] [08:33:36] &lt;icy&gt;   I tried not all but some</div>
<div class="line">[Saturday 11 September 2010] [08:33:38] &lt;icy&gt;   and read all</div>
<div class="line">[Saturday 11 September 2010] [08:33:44] &lt;pieter_hintjens&gt;   well, it takes time too</div>
<div class="line">[Saturday 11 September 2010] [08:33:58] &lt;pieter_hintjens&gt;   several days of slow reprogramming</div>
<div class="line">[Saturday 11 September 2010] [08:34:02] &lt;guido_g&gt;   it <em>needs</em> time to sink in</div>
<div class="line">[Saturday 11 September 2010] [08:34:15] &lt;guido_g&gt;   mq can&#8217;t be groked in a day, imho</div>
<div class="line">[Saturday 11 September 2010] [08:34:46] &lt;pieter_hintjens&gt;   if you never did networking programming you&#8217;d have less trouble unlearning old patterns</div>
<div class="line">[Saturday 11 September 2010] [08:34:51] &lt;guido_g&gt;   the things that makes it so good is what makes it so hard :)</div>
<div class="line">[Saturday 11 September 2010] [08:34:53] &lt;pieter_hintjens&gt;   but you&#8217;d still have to learn the new stuff</div>
<div class="line">[Saturday 11 September 2010] [08:35:09] &lt;guido_g&gt;   but who would that be?</div>
<div class="line">[Saturday 11 September 2010] [08:35:11] &lt;pieter_hintjens&gt;   icy: briefly, you trust 0MQ sockets to do a lot for you</div>
<div class="line">[Saturday 11 September 2010] [08:35:34] &lt;pieter_hintjens&gt;   there is a lot less of the command-and-control you need with traditional sockets</div>
<div class="line">[Saturday 11 September 2010] [08:36:32] &lt;icy&gt;   well I understand how stuff works, not very complicated after all. I&#8217;m trying now to understand why the api is how it is. e.g. normally event libs let you specify callbacks that get called upon events (hence I was so surprised by the looping needed after zmq_poll)</div>
<div class="line">[Saturday 11 September 2010] [08:36:51] &lt;pieter_hintjens&gt;   icy: the api aims to look like plain boring sockets</div>
<div class="line">[Saturday 11 September 2010] [08:37:05] &lt;pieter_hintjens&gt;   the poll stuff is not very nice</div>
<div class="line">[Saturday 11 September 2010] [08:37:13] &lt;pieter_hintjens&gt;   and we&#8217;ll probably make it nicer for 3.0</div>
<div class="line">[Saturday 11 September 2010] [08:37:19] &lt;icy&gt;   fair enough</div>
<div class="line">[Saturday 11 September 2010] [08:37:37] &lt;pieter_hintjens&gt;   there is a moral when you make new technology</div>
<div class="line">[Saturday 11 September 2010] [08:37:43] &lt;pieter_hintjens&gt;   if it looks new, people won&#8217;t adopt it</div>
<div class="line">[Saturday 11 September 2010] [08:38:16] &lt;guido_g&gt;   hmmm</div>
<div class="line">[Saturday 11 September 2010] [08:38:42] &lt;pieter_hintjens&gt;   people = except pioneers who have a fetish for new technology just on principle</div>
<div class="line">[Saturday 11 September 2010] [08:38:54] &lt;pieter_hintjens&gt;   and who will abandon it for the next new thing without hesitation</div>
<div class="line">[Saturday 11 September 2010] [08:39:26] &lt;guido_g&gt;   i hmmed because the last 30 years have seen a lot of new things</div>
<div class="line">[Saturday 11 September 2010] [08:39:40] &lt;pieter_hintjens&gt;   I read a lovely quote from the inventor of liquid salt nuclear reactors</div>
<div class="line">[Saturday 11 September 2010] [08:39:54] &lt;pieter_hintjens&gt;   sure... i&#8217;m making a horrid generalization</div>
<div class="line">[Saturday 11 September 2010] [08:39:59] &lt;guido_g&gt;   ack</div>
<div class="line">[Saturday 11 September 2010] [08:39:59] &lt;icy&gt;   I&#8217;m not so sure if this can be applied so easily</div>
<div class="line">[Saturday 11 September 2010] [08:40:02] &lt;guido_g&gt;   go on :)</div>
<div class="line">[Saturday 11 September 2010] [08:40:11] &lt;pieter_hintjens&gt;   &#8220;Perhaps the moral to be drawn is that a technology that differs too much from an existing technology has not one hurdle to overcome&#8211;to demostrate its feasibility&#8211;but another even greater one&#8211;to convince influential individuals and organizations who are intellectually and emotionally attached to a different technology that they should adopt the new path&#8221;</div>
<div class="line">[Saturday 11 September 2010] [08:40:29] &lt;guido_g&gt;   icy: it&#8217;s a trade-off between usability and speed, mostly</div>
<div class="line">[Saturday 11 September 2010] [08:40:30] &lt;icy&gt;   if it was true, no radically things would have been adopted in the past but there have been plenty :)</div>
<div class="line">[Saturday 11 September 2010] [08:40:50] &lt;pieter_hintjens&gt;   ah, (a) there are always exceptions to a general rule and (b) there are ways to appear old yet introduce newness</div>
<div class="line">[Saturday 11 September 2010] [08:40:56] &lt;guido_g&gt;   i&#8217;ve seen a messaging lib w/ callbacks, and it wasn&#8217;t fun at all</div>
<div class="line">[Saturday 11 September 2010] [08:41:20] &lt;icy&gt;   in my opinion anything providing a considerable advantage over something else has good chances of getting adopted</div>
<div class="line">[Saturday 11 September 2010] [08:41:36] &lt;icy&gt;   provided it does not have disadvantages that outweight the advantages of course :P</div>
<div class="line">[Saturday 11 September 2010] [08:41:44] &lt;guido_g&gt;   you remember the video-tape thingy?</div>
<div class="line">[Saturday 11 September 2010] [08:41:46] &lt;pieter_hintjens&gt;   this is the engineer point of view but it ignores people emotional attachment to stuff they know</div>
<div class="line">[Saturday 11 September 2010] [08:41:52] &lt;pieter_hintjens&gt;   <a href="#id21"><span class="problematic" id="id22">*</span></a>people&#8217;s</div>
<div class="line">[Saturday 11 September 2010] [08:41:57] &lt;pieter_hintjens&gt;   <a href="#id23"><span class="problematic" id="id24">*</span></a>peoples&#8217;</div>
<div class="line">[Saturday 11 September 2010] [08:42:06] &lt;pieter_hintjens&gt;   sms text messages</div>
<div class="line">[Saturday 11 September 2010] [08:42:10] &lt;pieter_hintjens&gt;   email</div>
<div class="line">[Saturday 11 September 2010] [08:42:10] &lt;icy&gt;   guido_g: what about fire, electricity etc? :)</div>
<div class="line">[Saturday 11 September 2010] [08:42:22] &lt;pieter_hintjens&gt;   icy: fire has callbacks?</div>
<div class="line">[Saturday 11 September 2010] [08:42:30] &lt;icy&gt;   there are examples for both sides</div>
<div class="line">[Saturday 11 September 2010] [08:42:35] &lt;icy&gt;   pieter_hintjens: uhm.. ;)</div>
<div class="line">[Saturday 11 September 2010] [08:42:40] &lt;pieter_hintjens&gt;   :-)</div>
<div class="line">[Saturday 11 September 2010] [08:43:03] &lt;guido_g&gt;   icy: but it doesn&#8217;t work that way</div>
<div class="line">[Saturday 11 September 2010] [08:43:10] &lt;pieter_hintjens&gt;   anyhow, this is why 0MQ very carefully emulates a poll function everyone hates but totally trusts and understands</div>
<div class="line">[Saturday 11 September 2010] [08:44:12] &lt;icy&gt;   guido_g: just curious, why was that lib no fun?</div>
<div class="line">[Saturday 11 September 2010] [08:44:25] &lt;guido_g&gt;   icy: wllm</div>
<div class="line">[Saturday 11 September 2010] [08:44:39] &lt;icy&gt;   pieter_hintjens: I totally see your point</div>
<div class="line">[Saturday 11 September 2010] [08:45:02] &lt;icy&gt;   wllm?</div>
<div class="line">[Saturday 11 September 2010] [08:45:09] &lt;pieter_hintjens&gt;   icy: once there is a significant weight behind 0MQ (and we&#8217;re getting there) we can be more ambitious about our own abstractions</div>
<div class="line">[Saturday 11 September 2010] [08:45:41] &lt;guido_g&gt;   icy: from a small 3 letter company (HAL) :)</div>
<div class="line">[Saturday 11 September 2010] [08:46:11] &lt;guido_g&gt;   icy: <a class="reference external" href="http://publib.boulder.ibm.com/infocenter/wllm/v2r0/index.jsp">http://publib.boulder.ibm.com/infocenter/wllm/v2r0/index.jsp</a></div>
<div class="line">[Saturday 11 September 2010] [08:46:12] &lt;icy&gt;   pieter_hintjens: wouldn&#8217;t it be hard to make a radical api change once you got a considerable amount of applications using it? as a counter argument</div>
<div class="line">[Saturday 11 September 2010] [08:46:17] &lt;icy&gt;   guido_g: will take a look, thx</div>
<div class="line">[Saturday 11 September 2010] [08:46:21] &lt;pieter_hintjens&gt;   icy: it&#8217;s about layers</div>
<div class="line">[Saturday 11 September 2010] [08:46:28] &lt;guido_g&gt;   icy: no need to, really :)</div>
<div class="line">[Saturday 11 September 2010] [08:46:31] &lt;pieter_hintjens&gt;   we&#8217;d never make radical api changes</div>
<div class="line">[Saturday 11 September 2010] [08:46:41] &lt;pieter_hintjens&gt;   just add layers on top</div>
<div class="line">[Saturday 11 September 2010] [08:47:14] &lt;pieter_hintjens&gt;   e.g. event driven frameworks that actually call the poll API</div>
<div class="line">[Saturday 11 September 2010] [08:47:32] &lt;pieter_hintjens&gt;   though I suspect poll API itself will be redesigned before the 0MQ is totally stabilized</div>
<div class="line">[Saturday 11 September 2010] [08:47:40] &lt;guido_g&gt;   so the developer can pick his poison depending on the use-case etc.</div>
<div class="line">[Saturday 11 September 2010] [08:52:10] &lt;pieter_hintjens&gt;   yeah</div>
<div class="line">[Saturday 11 September 2010] [08:52:25] &lt;icy&gt;   for the non blocking part I&#8217;d argue it makes it even easier given the atomicity of messages</div>
<div class="line">[Saturday 11 September 2010] [08:53:50] &lt;guido_g&gt;   we had a lot of trouble w/ these callbacks</div>
<div class="line">[Saturday 11 September 2010] [08:54:32] &lt;guido_g&gt;   one problem is that you are still in the library</div>
<div class="line">[Saturday 11 September 2010] [08:54:45] &lt;guido_g&gt;   which leads to more or less well known constraints</div>
<div class="line">[Saturday 11 September 2010] [08:55:06] &lt;pieter_hintjens&gt;   threading issues etc.</div>
<div class="line">[Saturday 11 September 2010] [08:55:07] &lt;guido_g&gt;   i wouldn&#8217;t go that route again</div>
<div class="line">[Saturday 11 September 2010] [08:55:15] &lt;pieter_hintjens&gt;   the reactor pattern looks more sane</div>
<div class="line">[Saturday 11 September 2010] [08:55:17] &lt;guido_g&gt;   pieter_hintjens: oh yes!</div>
<div class="line">[Saturday 11 September 2010] [08:55:27] &lt;guido_g&gt;   to both</div>
<div class="line">[Saturday 11 September 2010] [08:55:36] &lt;pieter_hintjens&gt;   what i&#8217;d love to make is a Libero/0MQ at some stage</div>
<div class="line">[Saturday 11 September 2010] [08:56:04] &lt;guido_g&gt;   sorry, what would that be?</div>
<div class="line">[Saturday 11 September 2010] [08:56:08] &lt;pieter_hintjens&gt;   well, something like that, anyhow: state machines where events are 0MQ messages</div>
<div class="line">[Saturday 11 September 2010] [08:56:42] &lt;pieter_hintjens&gt;   you turn the loop inside out, the loop calls your code and feeds it incoming messages as events</div>
<div class="line">[Saturday 11 September 2010] [08:56:49] &lt;pieter_hintjens&gt;   and your code goes through states</div>
<div class="line">[Saturday 11 September 2010] [08:56:57] &lt;guido_g&gt;   makes sense</div>
<div class="line">[Saturday 11 September 2010] [08:57:13] &lt;pieter_hintjens&gt;   it&#8217;s a pattern that can be terribly useful but it can be hard to grok as well</div>
<div class="line">[Saturday 11 September 2010] [08:57:33] &lt;pieter_hintjens&gt;   only worth doing for more complex 0MQ apps but I suspect we&#8217;re heading that way</div>
<div class="line">[Saturday 11 September 2010] [08:57:46] &lt;pieter_hintjens&gt;   devices that manage 3+ sockets</div>
<div class="line">[Saturday 11 September 2010] [08:57:46] &lt;guido_g&gt;   sure</div>
<div class="line">[Saturday 11 September 2010] [08:59:52] &lt;icy&gt;   yes this is what I was refering to. you give a socket a function to call upon receiving a message. this way you don&#8217;t need to care about searching which sockets got a message after a poll</div>
<div class="line">[Saturday 11 September 2010] [09:00:12] &lt;icy&gt;   zmq would do it for you and can therefor use the faster implementation possible for a given platform</div>
<div class="line">[Saturday 11 September 2010] [09:00:29] &lt;pieter_hintjens&gt;   icy: you can trivially build this on top</div>
<div class="line">[Saturday 11 September 2010] [09:00:36] &lt;pieter_hintjens&gt;   perhaps a fun thing to make</div>
<div class="line">[Saturday 11 September 2010] [09:00:59] &lt;guido_g&gt;   icy: as i said, it wasn&#8217;t nice to use in a real world app</div>
<div class="line">[Saturday 11 September 2010] [09:01:08] &lt;pieter_hintjens&gt;   i can see several problems with it, though</div>
<div class="line">[Saturday 11 September 2010] [09:01:32] &lt;guido_g&gt;   plus the problems comming from the product itself</div>
<div class="line">[Saturday 11 September 2010] [09:01:33] &lt;pieter_hintjens&gt;   passing control to a function means you can&#8217;t e.g. work with multiple sockets at once</div>
<div class="line">[Saturday 11 September 2010] [09:01:45] &lt;pieter_hintjens&gt;   so you can&#8217;t do stuff like devices that read from one, write to the other</div>
<div class="line">[Saturday 11 September 2010] [09:01:58] &lt;pieter_hintjens&gt;   or you need to create and pass around increasingly complex contexts</div>
<div class="line">[Saturday 11 September 2010] [09:01:58] &lt;guido_g&gt;   you can&#8217;t even do a proper error handling :)</div>
<div class="line">[Saturday 11 September 2010] [09:02:19] &lt;guido_g&gt;   which then slow you down even more</div>
<div class="line">[Saturday 11 September 2010] [09:02:24] &lt;pieter_hintjens&gt;   but it could be fun to experiment with</div>
<div class="line">[Saturday 11 September 2010] [09:02:48] &lt;pieter_hintjens&gt;   icy: take a look at the various reactors people like Matt Weinstein and Chuck Remes have made</div>
<div class="line">[Saturday 11 September 2010] [09:03:03] &lt;pieter_hintjens&gt;   <a class="reference external" href="http://www.zeromq.org/docs:labs">http://www.zeromq.org/docs:labs</a></div>
<div class="line">[Saturday 11 September 2010] [09:04:08] &lt;icy&gt;   of course you can do proper error handling. maybe your experience was because of a poor product, not the methodology itself guido_g</div>
<div class="line">[Saturday 11 September 2010] [09:04:32] &lt;icy&gt;   but yea to handle multiple sockets you need to pass around also some additional data</div>
<div class="line">[Saturday 11 September 2010] [09:05:05] &lt;guido_g&gt;   callbacks are generally not the first choice, i did X11 and Motif and learned to avoid them</div>
<div class="line">[Saturday 11 September 2010] [09:05:16] &lt;guido_g&gt;   then wllm, smame thing</div>
<div class="line">[Saturday 11 September 2010] [09:05:21] &lt;guido_g&gt;   <a href="#id25"><span class="problematic" id="id26">*</span></a>same</div>
<div class="line">[Saturday 11 September 2010] [09:05:51] &lt;guido_g&gt;   if you want it, you should do it in the app</div>
<div class="line">[Saturday 11 September 2010] [09:06:31] &lt;guido_g&gt;   libs or frameworks can&#8217;t know enough of the use-cases to provide a proper solution for every user</div>
<div class="line">[Saturday 11 September 2010] [09:06:58] &lt;guido_g&gt;   this is why frameworks tend to become so big and bloated</div>
<div class="line">[Saturday 11 September 2010] [09:09:01] &lt;pieter_hintjens&gt;   icy: what i&#8217;ve found with 0MQ is that theory is pretty useless :-)</div>
<div class="line">[Saturday 11 September 2010] [09:09:12] &lt;pieter_hintjens&gt;   get your hands dirty with code and it becomes rapidly clear</div>
<div class="line">[Saturday 11 September 2010] [09:09:24] &lt;pieter_hintjens&gt;   happily what you learn is the same no matter what language you use</div>
<div class="line">[Saturday 11 September 2010] [13:12:19] &lt;pieter_hintjens&gt;   check out what Andrew Cholakian&#8217;s just built with 0MQ: <a class="reference external" href="http://blog.andrewvc.com/learn-zeromq-by-building-an-http-load-tester">http://blog.andrewvc.com/learn-zeromq-by-building-an-http-load-tester</a></div>
<div class="line">[Saturday 11 September 2010] [13:24:13] &lt;keffo&gt; um, push/pull is not pub/sub, or did i confuse things?</div>
<div class="line">[Saturday 11 September 2010] [13:25:01] &lt;keffo&gt; ah right</div>
<div class="line">[Saturday 11 September 2010] [15:03:50] &lt;iFire&gt; did this email go anywhere? <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2010-July/004674.html">http://lists.zeromq.org/pipermail/zeromq-dev/2010-July/004674.html</a></div>
<div class="line">[Saturday 11 September 2010] [15:04:18] &lt;iFire&gt; I mean is it feasible</div>
<div class="line">[Saturday 11 September 2010] [18:04:34] &lt;psino&gt; is there any way to tell a socket to stop connecting to an endpoint, or stop listening on an endpoint?</div>
<div class="line">[Saturday 11 September 2010] [18:19:59] &lt;psino&gt; and is there a way of gracefully shutting down a worker process that uses an incoming PULL socket?</div>
<div class="line">[Sunday 12 September 2010] [03:36:03] &lt;pieter_hintjens&gt; iFire: I&#8217;m going to make an example of that in Ch3</div>
<div class="line">[Sunday 12 September 2010] [03:36:06] &lt;pieter_hintjens&gt; of the guide</div>
<div class="line">[Sunday 12 September 2010] [03:49:06] &lt;iFire&gt;   pieter_hintjens chapater ch3 where</div>
<div class="line">[Sunday 12 September 2010] [03:50:47] &lt;iFire&gt;   where will the chapter 3 be pieter_hintjens?</div>
<div class="line">[Sunday 12 September 2010] [03:51:20] &lt;guido_g&gt; user guid</div>
<div class="line">[Sunday 12 September 2010] [03:51:22] &lt;guido_g&gt; +e</div>
<div class="line">[Sunday 12 September 2010] [13:47:41] &lt;mankins&gt; messages can be of arbitrary length, right?</div>
<div class="line">[Sunday 12 September 2010] [13:56:35] &lt;icy&gt; they have to fit in ram</div>
<div class="line">[Sunday 12 September 2010] [14:49:05] &lt;mankins&gt; i&#8217;m having some issue with messages getting corrupted on the wire.</div>
<div class="line">[Sunday 12 September 2010] [14:49:29] &lt;mankins&gt; trying to isolate it.</div>
<div class="line">[Sunday 12 September 2010] [14:49:54] &lt;mankins&gt; there are known issues with 2.0.9, are there? (I checked the bug list, and nothing jumped out)</div>
<div class="line">[Sunday 12 September 2010] [15:17:39] &lt;mankins&gt; hrm, maybe it was the perl serializer.</div>
<div class="line">[Sunday 12 September 2010] [15:18:14] &lt;mankins&gt; i was using send/recv but changed to send_as/recv and it seems to be better. &lt;shrug&gt;</div>
<div class="line">[Sunday 12 September 2010] [18:28:18] &lt;kenkeiter&gt;   Looking for some input on a decentralized pub-sub/dequeue model with zeromq</div>
<div class="line">[Sunday 12 September 2010] [18:30:23] &lt;kenkeiter&gt;   need to be able to publish messages in a specific category, subscribe to that category and (hopefully) pull jobs from it in a load-balanced way.</div>
<div class="line">[Sunday 12 September 2010] [18:30:28] &lt;kenkeiter&gt;   Any suggestions?</div>
<div class="line">[Sunday 12 September 2010] [19:26:22] &lt;sleeperbot&gt;  Hey guys, wondering if I could get some idea on what&#8217;s going on with my installation of zmq</div>
<div class="line">[Sunday 12 September 2010] [19:26:39] &lt;sleeperbot&gt;  been using zeromq and my CPU usage shot up x100.  I&#8217;m doing Upstream/Downstream, using the node.js wrapper.</div>
<div class="line">[Sunday 12 September 2010] [19:26:46] &lt;sleeperbot&gt;  Leaving connections open on both ends to send and receive</div>
<div class="line">[Sunday 12 September 2010] [19:27:18] &lt;sleeperbot&gt;  This is the node.j library I&#8217;m using: <a class="reference external" href="http://github.com/JustinTulloss/zeromq.node">http://github.com/JustinTulloss/zeromq.node</a></div>
<div class="line">[Sunday 12 September 2010] [19:32:15] &lt;kenkeiter&gt;   Don&#8217;t know a tremendous amount about zmq&#8217;s internals, but my suggestion would be to verify that you have the correct number of zmq threads spawned.</div>
<div class="line">[Sunday 12 September 2010] [19:32:49] &lt;kenkeiter&gt;   If you&#8217;re respawning for each connection, they may also not be released properly..</div>
<div class="line">[Sunday 12 September 2010] [19:32:57] &lt;kenkeiter&gt;   Which could pose another problem.</div>
<div class="line">[Sunday 12 September 2010] [19:53:57] &lt;sleeperbot&gt;  Thanks Ken, i&#8217;ll check</div>
<div class="line">[Sunday 12 September 2010] [19:54:21] &lt;sleeperbot&gt;  I&#8217;m not respawning so it could be the node.js driver</div>
<div class="line">[Sunday 12 September 2010] [20:00:10] &lt;kenkeiter&gt;   sleeperbot: it was worth a try.. did you verify that you&#8217;re only running one or two messaging threads?</div>
<div class="line">[Sunday 12 September 2010] [20:00:13] &lt;andrewvc&gt;    I&#8217;ve been curious as to how stable the node driver is</div>
<div class="line">[Sunday 12 September 2010] [20:00:20] &lt;kenkeiter&gt;   :/</div>
<div class="line">[Sunday 12 September 2010] [20:03:14] &lt;sleeperbot&gt;  I&#8217;m looking up how to do that</div>
<div class="line">[Sunday 12 September 2010] [20:03:52] &lt;sleeperbot&gt;  do you know what I can type in the command line to bring that info up?</div>
<div class="line">[Sunday 12 September 2010] [20:04:03] &lt;kenkeiter&gt;   sleeperbot: which platform?</div>
<div class="line">[Sunday 12 September 2010] [20:04:25] &lt;sleeperbot&gt;  unix</div>
<div class="line">[Sunday 12 September 2010] [20:04:30] &lt;sleeperbot&gt;  ubuntu karmic</div>
<div class="line">[Sunday 12 September 2010] [20:07:43] &lt;kenkeiter&gt;   htop might work.. haven&#8217;t done it under <a href="#id27"><span class="problematic" id="id28">*</span></a>ni</div>
<div class="line">[Sunday 12 September 2010] [20:09:06] &lt;kenkeiter&gt;   <a class="reference external" href="http://manpages.ubuntu.com/manpages/lucid/man1/htop.1.html">http://manpages.ubuntu.com/manpages/lucid/man1/htop.1.html</a></div>
<div class="line">[Sunday 12 September 2010] [20:14:13] &lt;sleeperbot&gt;  I see 3 versions of my node.js stream and web servers</div>
<div class="line">[Sunday 12 September 2010] [20:14:27] &lt;sleeperbot&gt;  don&#8217;t see anything related to zmq</div>
<div class="line">[Sunday 12 September 2010] [20:15:25] &lt;sleeperbot&gt;  killed the extraneous processes, will check if anything changed in cpu usage</div>
<div class="line">[Sunday 12 September 2010] [23:34:24] &lt;andrewvc&gt;    I assume that XREQ/XREP sockets apply backpressure in the same manner as PUSH/PULL and REQ/REP yes?</div>
<div class="line">[Monday 13 September 2010] [07:28:04] &lt;CIA-20&gt;  zeromq2: 03Martin Lucina 07master * rbe159b6 10/ src/pipe.cpp : zmq::writer_t: Add missing test for swap - http://bit.ly/aGN4bM</div>
<div class="line">[Monday 13 September 2010] [07:29:19] &lt;icy&gt; sustrik: hi, is there any paper on the algorithm used for the lock-free queue?</div>
<div class="line">[Monday 13 September 2010] [07:30:51] &lt;sustrik&gt; icy: there&#8217;s a very old article here:</div>
<div class="line">[Monday 13 September 2010] [07:30:52] &lt;sustrik&gt; <a class="reference external" href="http://www.zeromq.org/whitepapers:y-suite">http://www.zeromq.org/whitepapers:y-suite</a></div>
<div class="line">[Monday 13 September 2010] [07:30:59] &lt;sustrik&gt; lot of it doesn&#8217;t apply any more</div>
<div class="line">[Monday 13 September 2010] [07:31:42] &lt;sustrik&gt; this is what still applies: &#8220;+ Table of Contents</div>
<div class="line">[Monday 13 September 2010] [07:31:42] &lt;sustrik&gt; - Table of Contents</div>
<div class="line">[Monday 13 September 2010] [07:31:42] &lt;sustrik&gt; FoldUnfold</div>
<div class="line">[Monday 13 September 2010] [07:31:42] &lt;sustrik&gt; Table of Contents</div>
<div class="line">[Monday 13 September 2010] [07:31:42] &lt;sustrik&gt; Introduction</div>
<div class="line">[Monday 13 September 2010] [07:31:44] &lt;sustrik&gt; Design</div>
<div class="line">[Monday 13 September 2010] [07:31:46] &lt;sustrik&gt; Performance</div>
<div class="line">[Monday 13 September 2010] [07:31:48] &lt;sustrik&gt; Configuration</div>
<div class="line">[Monday 13 September 2010] [07:31:50] &lt;sustrik&gt; Performance with polling</div>
<div class="line">[Monday 13 September 2010] [07:31:52] &lt;sustrik&gt; Performance without polling</div>
<div class="line">[Monday 13 September 2010] [07:31:54] &lt;sustrik&gt; Conclusion</div>
<div class="line">[Monday 13 September 2010] [07:31:56] &lt;sustrik&gt; HISTORICAL WHITEPAPER</div>
<div class="line">[Monday 13 September 2010] [07:31:58] &lt;sustrik&gt; Introduction</div>
<div class="line">[Monday 13 September 2010] [07:32:00] &lt;sustrik&gt; Y-suite is a set of components designed for ultra-efficient passing of messages between threads within a process. Y-suite is somehow similar to local sockets, however, it is much faster.</div>
<div class="line">[Monday 13 September 2010] [07:32:03] &lt;sustrik&gt; In version 0.1 of MQ lightweight messaging kernel, the only y-suite component available is ypipe, a lock-free and wait-free implementation of a queue. In version 0.2 ypollset is added to allow thread to interchange messages with several other threads at the same time (similar to POSIX poll function). Component known as semaphore in version 0.1 is renamed to ysemaphore in version 0.2 to mark that it belongs to y-suite. Same way, spipe i</div>
<div class="line">[Monday 13 September 2010] [07:32:08] &lt;sustrik&gt; s renamed to ysocketpair.</div>
<div class="line">[Monday 13 September 2010] [07:32:10] &lt;sustrik&gt; Design</div>
<div class="line">[Monday 13 September 2010] [07:32:14] &lt;sustrik&gt; The basic means of transferring message between threads is ypipe. Messages are passed through a pipe in the standard write and read manner. Once the reader has no more messages to read from the pipe, it notifies the sender using passive synchronization and goes asleep. Passive synchronization means that the other thread is not notified directly using some kind of async signal, rather it will be notified once it tries to write the next me</div>
<div class="line">[Monday 13 September 2010] [07:32:19] &lt;sustrik&gt; ssage to the pipe. When this happens, writer becomes aware that reader is already asleep or at least going asleep at the moment. It knows that there is new message available, so it wakes the reader up using active synchronization, i.e. actively sending wake-up event to the other thread. Active synchronisation is not provided by ypipe itself, rather by other y-suite components, to be discussed bellow. Usage of ypipe is depicted on the fol</div>
<div class="line">[Monday 13 September 2010] [07:32:24] &lt;sustrik&gt; lowing sequence diagram:&#8221;</div>
<div class="line">[Monday 13 September 2010] [07:32:26] &lt;sustrik&gt; yuck</div>
<div class="line">[Monday 13 September 2010] [07:32:28] &lt;sustrik&gt; sorry</div>
<div class="line">[Monday 13 September 2010] [07:33:01] &lt;sustrik&gt; too much text, but the last paragraph is relevant</div>
<div class="line">[Monday 13 September 2010] [07:33:36] &lt;sustrik&gt; also see the diagram that follows the text above</div>
<div class="line">[Monday 13 September 2010] [07:34:23] &lt;ekidd&gt;   Good morning! ZeroMQ is a really nice library.</div>
<div class="line">[Monday 13 September 2010] [07:35:08] &lt;ekidd&gt;   If I&#8217;m using REQ/REP messaging with multiple servers, what happens if one server is asked to handle an unusually long-running request?</div>
<div class="line">[Monday 13 September 2010] [07:36:29] &lt;ekidd&gt;   Do the clients just route requests to one of the available servers? Or do they continue to send requests to the busy server?</div>
<div class="line">[Monday 13 September 2010] [07:36:30] &lt;sustrik&gt; ekidd: if you set high watermark, it&#8217;s queue gets eventually full and subsequent requests will be dispatches to other servers</div>
<div class="line">[Monday 13 September 2010] [07:36:59] &lt;icy&gt; sustrik: yea I&#8217;ve read that, I guess because it is single-reader single-write, it does not suffer from the ABA problem?</div>
<div class="line">[Monday 13 September 2010] [07:37:38] &lt;ekidd&gt;   sustrik: Ah, OK. The useful high watermark in my case is very small: The servers are inherently single-threaded workers with long-running jobs. I want to keep them loaded.</div>
<div class="line">[Monday 13 September 2010] [07:37:45] &lt;sustrik&gt; icy: what&#8217;s ABA?</div>
<div class="line">[Monday 13 September 2010] [07:38:02] &lt;ekidd&gt;   I do, however, have lots of clients and servers.</div>
<div class="line">[Monday 13 September 2010] [07:38:07] &lt;icy&gt; sustrik: <a class="reference external" href="http://en.wikipedia.org/wiki/ABA_problem">http://en.wikipedia.org/wiki/ABA_problem</a></div>
<div class="line">[Monday 13 September 2010] [07:39:11] &lt;icy&gt; sustrik: it&#8217;s one of the main problems that lock-free queues have to overcome</div>
<div class="line">[Monday 13 September 2010] [07:39:23] &lt;guido_g&gt; it takes an unusually long time to complete the request</div>
<div class="line">[Monday 13 September 2010] [07:40:01] &lt;ekidd&gt;   icy: My clients and servers are different machines, so I don&#8217;t think the lock-free stuff is relevant. But I might be confused.</div>
<div class="line">[Monday 13 September 2010] [07:40:29] &lt;sustrik&gt; ekidd: that&#8217;s a different conversion going on :)</div>
<div class="line">[Monday 13 September 2010] [07:40:40] &lt;ekidd&gt;   Ah, OK. I was confused. :-)</div>
<div class="line">[Monday 13 September 2010] [07:41:02] &lt;guido_g&gt; ekidd: did you see that req/req is locked to the send/recv order?</div>
<div class="line">[Monday 13 September 2010] [07:41:02] &lt;sustrik&gt; ekidd: there&#8217;s no such thing in 0MQ as explicit ack</div>
<div class="line">[Monday 13 September 2010] [07:41:27] &lt;sustrik&gt; so there&#8217;s no way for it to work in lock-step fashion</div>
<div class="line">[Monday 13 September 2010] [07:41:32] &lt;ekidd&gt;   guido_g: Yeah, that works for me.</div>
<div class="line">[Monday 13 September 2010] [07:42:32] &lt;sustrik&gt; icy: it&#8217;s basically a two step process</div>
<div class="line">[Monday 13 September 2010] [07:42:32] &lt;guido_g&gt; same for the rep side (the server)</div>
<div class="line">[Monday 13 September 2010] [07:42:41] &lt;ekidd&gt;   I basically have a farm of Windows workers that take 0.1 to (say) 60 seconds to process a job, and idle time costs money. There&#8217;s one worker per server.</div>
<div class="line">[Monday 13 September 2010] [07:42:46] &lt;guido_g&gt; see the user guide for lots of examples and ideas</div>
<div class="line">[Monday 13 September 2010] [07:43:12] &lt;sustrik&gt; icy: while there are messages to be read the synchronisation is done simply by moving a pointer in the linked list in atomic manner</div>
<div class="line">[Monday 13 September 2010] [07:43:32] &lt;sustrik&gt; icy: when there are no messages to be read, the pointer becomes NULL</div>
<div class="line">[Monday 13 September 2010] [07:43:32] &lt;ekidd&gt;   I don&#8217;t mind locking the order of responses the way req/rep does: I&#8217;m talking to expensive, single-threaded Windows libraries in any case.</div>
<div class="line">[Monday 13 September 2010] [07:44:01] &lt;icy&gt; sustrik: understood so far and it seems it does not suffer from aba, just was curious if there was real proof of the correctness of the algorithm</div>
<div class="line">[Monday 13 September 2010] [07:44:05] &lt;sustrik&gt; icy: reader goes asleep and standard inter-thread mechanism (socketpair) is used to wake it up</div>
<div class="line">[Monday 13 September 2010] [07:44:16] &lt;ekidd&gt;   But I want to maximize utilization of those expensive libraries.</div>
<div class="line">[Monday 13 September 2010] [07:44:23] &lt;sustrik&gt; icy: no</div>
<div class="line">[Monday 13 September 2010] [07:44:29] &lt;sustrik&gt; want to prove it?</div>
<div class="line">[Monday 13 September 2010] [07:44:46] &lt;icy&gt; that would take more time than I have probably :)</div>
<div class="line">[Monday 13 September 2010] [07:45:08] &lt;ekidd&gt;   As long as zeromq clients respect the individual server&#8217;s high water marks and route requests to another worker, everything will work fine.</div>
<div class="line">[Monday 13 September 2010] [07:46:09] &lt;ekidd&gt;   I&#8217;m going to write some tests (of course). I just wanted to know whether I was even trying something sane. :-)</div>
<div class="line">[Monday 13 September 2010] [07:48:01] &lt;ekidd&gt;   Many thanks for your advice, folks!</div>
<div class="line">[Monday 13 September 2010] [07:51:33] &lt;guido_g&gt; ekidd: did you read <a class="reference external" href="http://api.zeromq.org/zmq_socket.html">http://api.zeromq.org/zmq_socket.html</a>, there is something on hwm</div>
<div class="line">[Monday 13 September 2010] [07:54:15] &lt;ekidd&gt;   guido_g: Excellent. It definitely has the right semantics. I&#8217;ll still need to find out whether it does the right thing, performance-wise, with large messages and queues that are often at their high water marks.</div>
<div class="line">[Monday 13 September 2010] [09:44:53] &lt;cremes&gt;  while writing some specs for my bindings this weekend i came across a few issues with SWAP, RECOVERY_IVL and RATE</div>
<div class="line">[Monday 13 September 2010] [09:45:08] &lt;cremes&gt;  all 3 of those take signed 64-bit integers for input</div>
<div class="line">[Monday 13 September 2010] [09:45:32] &lt;cremes&gt;  they also do <em>not</em> return an error when passed a negative number even though that doesn&#8217;t make any sense</div>
<div class="line">[Monday 13 September 2010] [09:45:56] &lt;cremes&gt;  should the library return an error for negative numbers or should my bindings take care of that issue?</div>
<div class="line">[Monday 13 September 2010] [09:57:34] &lt;ptrb&gt;    so I have this: <a class="reference external" href="http://pastebin.com/dXEveLCx">http://pastebin.com/dXEveLCx</a></div>
<div class="line">[Monday 13 September 2010] [09:58:11] &lt;ptrb&gt;    I start the server, it sits at zmq_recv(), great; i run the client, it runs fine and exits, but the server never receives anything. ideas?</div>
<div class="line">[Monday 13 September 2010] [10:00:05] &lt;pieterh&gt; cremes: i think all the setsockopt types need to be reviewed for 3.0</div>
<div class="line">[Monday 13 September 2010] [10:00:41] &lt;cremes&gt;  pieterh: ok; so should i open bugs for those against the 2.1.x branch?</div>
<div class="line">[Monday 13 September 2010] [10:00:42] &lt;pieterh&gt; but certainly if they are signed get a negative value that should return EINVAL</div>
<div class="line">[Monday 13 September 2010] [10:00:51] &lt;pieterh&gt; yup, even 2.0.x IMO</div>
<div class="line">[Monday 13 September 2010] [10:00:57] &lt;cremes&gt;  ok, i&#8217;ll do that now</div>
<div class="line">[Monday 13 September 2010] [10:01:21] &lt;pieterh&gt; ptrb: looking at it...</div>
<div class="line">[Monday 13 September 2010] [10:02:01] &lt;ptrb&gt;    pieterh: thx; I&#8217;m guessing there&#8217;s some setup step I&#8217;ve overlooked</div>
<div class="line">[Monday 13 September 2010] [10:02:23] &lt;pieterh&gt; ptrb: try &#8216;ps&#8217;</div>
<div class="line">[Monday 13 September 2010] [10:02:31] &lt;pieterh&gt; imo you have a second copy of the server running</div>
<div class="line">[Monday 13 September 2010] [10:02:52] &lt;pieterh&gt; (though it would assert then...)</div>
<div class="line">[Monday 13 September 2010] [10:03:11] &lt;pieterh&gt; sorry, forget I said that plz</div>
<div class="line">[Monday 13 September 2010] [10:03:11] &lt;ptrb&gt;    hmm, no, but maybe something else is sitting on 5001, let me try changing that</div>
<div class="line">[Monday 13 September 2010] [10:03:22] &lt;pieterh&gt; ptrb: client writes a message and then closes &amp; exits</div>
<div class="line">[Monday 13 September 2010] [10:03:28] &lt;pieterh&gt; two things: (a) it should wait for a reply</div>
<div class="line">[Monday 13 September 2010] [10:03:37] &lt;pieterh&gt; (b) if it does not want to wait, it can&#8217;t exit immediately</div>
<div class="line">[Monday 13 September 2010] [10:03:44] &lt;pieterh&gt; you need to read the users guide</div>
<div class="line">[Monday 13 September 2010] [10:04:00] &lt;ptrb&gt;    I have.</div>
<div class="line">[Monday 13 September 2010] [10:04:10] &lt;pieterh&gt; 0mq/2.0.x loses data if you close the socket while there is data in flight</div>
<div class="line">[Monday 13 September 2010] [10:04:11] &lt;cremes&gt;  ptrb: are you starting the server first?</div>
<div class="line">[Monday 13 September 2010] [10:04:16] &lt;ptrb&gt;    Of course.</div>
<div class="line">[Monday 13 September 2010] [10:04:23] &lt;pieterh&gt; send/close is not going to work</div>
<div class="line">[Monday 13 September 2010] [10:04:28] &lt;pieterh&gt; send/recv/close is ok</div>
<div class="line">[Monday 13 September 2010] [10:04:32] &lt;pieterh&gt; send/sleep/close is ok</div>
<div class="line">[Monday 13 September 2010] [10:04:32] &lt;ptrb&gt;    OK, so, do I need to recv() in the clie... k</div>
<div class="line">[Monday 13 September 2010] [10:04:34] &lt;cremes&gt;  ah yes, that&#8217;s right</div>
<div class="line">[Monday 13 September 2010] [10:04:43] &lt;cremes&gt;  do a sleep before exiting</div>
<div class="line">[Monday 13 September 2010] [10:04:45] &lt;ptrb&gt;    even if I don&#8217;t post anything back explicitly?</div>
<div class="line">[Monday 13 September 2010] [10:04:47] &lt;pieterh&gt; prtb: either a recv</div>
<div class="line">[Monday 13 September 2010] [10:05:07] &lt;pieterh&gt; prtb if you&#8217;re using REQ and REP sockets, you should be doing send/recv and recv/send</div>
<div class="line">[Monday 13 September 2010] [10:05:20] &lt;pieterh&gt; if you want to just send 1 message as such use PUSH/PULL</div>
<div class="line">[Monday 13 September 2010] [10:05:39] &lt;pieterh&gt; it&#8217;s not a biggie</div>
<div class="line">[Monday 13 September 2010] [10:05:52] &lt;pieterh&gt; the problem here is not giving the client process time to send its data</div>
<div class="line">[Monday 13 September 2010] [10:05:53] &lt;ptrb&gt;    I&#8217;m doing something vaguely RPC-ish, so I guess if I want to represent a void blah(); I still have to send something back</div>
<div class="line">[Monday 13 September 2010] [10:06:06] &lt;pieterh&gt; or else use XREQ/XREP</div>
<div class="line">[Monday 13 September 2010] [10:06:09] &lt;ptrb&gt;    yeah it makes sense, sure. thanks. i guess it&#8217;s just not explicit anywhere in the docs (afaict)</div>
<div class="line">[Monday 13 September 2010] [10:06:18] &lt;pieterh&gt; rtfug... :-)</div>
<div class="line">[Monday 13 September 2010] [10:06:22] &lt;pieterh&gt; it is explicit in there</div>
<div class="line">[Monday 13 September 2010] [10:06:31] &lt;ptrb&gt;    i have; if you want to point me to the sentence in question I&#8217;m happy to be made a fool</div>
<div class="line">[Monday 13 September 2010] [10:06:46]    * pieterh goes off to search for &#8216;sleep&#8217;...</div>
<div class="line">[Monday 13 September 2010] [10:07:11] &lt;pieterh&gt; Note that we do sleep (1); before exiting the ventilator. This is a hack that gets around MQ/2.0&#8217;s design, which discards messages that have not yet been sent, if you exit the program too soon. If you are using MQ/2.1 you can remove this sleep statement.</div>
<div class="line">[Monday 13 September 2010] [10:07:43] &lt;ptrb&gt;    eh.</div>
<div class="line">[Monday 13 September 2010] [10:08:00] &lt;pieterh&gt; <a class="reference external" href="http://www.zeromq.org/docs:user-guide-1#toc7">http://www.zeromq.org/docs:user-guide-1#toc7</a></div>
<div class="line">[Monday 13 September 2010] [10:08:19] &lt;pieterh&gt; it&#8217;s the first example that has this problem, so I explain it there</div>
<div class="line">[Monday 13 September 2010] [10:08:29] &lt;pieterh&gt; the hello world client waits for an answer</div>
<div class="line">[Monday 13 September 2010] [10:08:38] &lt;pieterh&gt; and the pubsub example never exits</div>
<div class="line">[Monday 13 September 2010] [10:09:01] &lt;pieterh&gt; maybe i should put it in bold...</div>
<div class="line">[Monday 13 September 2010] [10:09:13] &lt;pieterh&gt; and repeat this, it&#8217;s a common fault</div>
<div class="line">[Monday 13 September 2010] [10:11:29] &lt;ptrb&gt;    if you&#8217;re willing to take some constructive criticism about the documentation, i&#8217;d say that while example-based docs are great, when I have a specific problem (like this) I find there isn&#8217;t really a way I can find a solution; there&#8217;s no idioms or implementation details or whatever to search through (as far as I&#8217;ve found)</div>
<div class="line">[Monday 13 September 2010] [10:13:56] &lt;ptrb&gt;    but!! but but, thank you :)</div>
<div class="line">[Monday 13 September 2010] [10:19:21] &lt;ptrb&gt;    hmm, recv on the client side hangs... is there not some zmq_flush or something I can call?</div>
<div class="line">[Monday 13 September 2010] [10:20:33] &lt;guido_g&gt; no</div>
<div class="line">[Monday 13 September 2010] [10:20:40] &lt;ptrb&gt;    poop :|</div>
<div class="line">[Monday 13 September 2010] [10:21:06] &lt;guido_g&gt; pardon?</div>
<div class="line">[Monday 13 September 2010] [10:21:19] &lt;ptrb&gt;    that was an expression of mild disappointment</div>
<div class="line">[Monday 13 September 2010] [11:35:55] &lt;pieterh&gt; ptrb: still there?</div>
<div class="line">[Monday 13 September 2010] [11:36:04] &lt;pieterh&gt; sorry, was in a meeting</div>
<div class="line">[Monday 13 September 2010] [11:36:19] &lt;ptrb&gt;    yeah sure</div>
<div class="line">[Monday 13 September 2010] [11:36:54] &lt;pieterh&gt; making a problem driven section in the guide would be good</div>
<div class="line">[Monday 13 September 2010] [11:37:01] &lt;pieterh&gt; did you find out why your client hangs?</div>
<div class="line">[Monday 13 September 2010] [11:37:29] &lt;ptrb&gt;    No, I just threw a sleep in there and moved on to bigger, even more problematic things :)</div>
<div class="line">[Monday 13 September 2010] [11:37:41] &lt;ptrb&gt;    a problem-driven section would be good, but it&#8217;ll never be comprehensive</div>
<div class="line">[Monday 13 September 2010] [11:38:09] &lt;ptrb&gt;    FWIW I think a good documentation model would be ZeroC&#8217;s ICE, which has a really comprehensive .pdf</div>
<div class="line">[Monday 13 September 2010] [11:38:16] &lt;pieterh&gt; &#8220;did not get a message&#8221; is a pretty classic stumbling block</div>
<div class="line">[Monday 13 September 2010] [11:38:23] &lt;ptrb&gt;    yeah, fair</div>
<div class="line">[Monday 13 September 2010] [11:38:33] &lt;pieterh&gt; i&#8217;ll write a flowchart</div>
<div class="line">[Monday 13 September 2010] [11:40:41] &lt;ptrb&gt;    now, i&#8217;m working on an implementation based on the multithreaded code in the user guide, and i&#8217;m getting infinite size-0 messages on the server side after sending one legitimate message from a client</div>
<div class="line">[Monday 13 September 2010] [11:40:48] &lt;ptrb&gt;    ever hear of something like this?</div>
<div class="line">[Monday 13 September 2010] [11:42:33] &lt;ptrb&gt;    sorry, based on the multithreaded server in the <em>introduction</em> doc</div>
<div class="line">[Monday 13 September 2010] [11:43:41] &lt;cremes&gt;  ptrb: i&#8217;ve never seen that... you say your code is &#8220;based on&#8221; the example; it&#8217;s always a good idea to start from code that you <em>know</em> works and modify from there</div>
<div class="line">[Monday 13 September 2010] [11:43:49] &lt;cremes&gt;  sounds like your mods broke it</div>
<div class="line">[Monday 13 September 2010] [11:44:08] &lt;cremes&gt;  the easiest way to find the failure is to revert back to the original &#8220;good&#8221; code and slowly modify it to your specifications</div>
<div class="line">[Monday 13 September 2010] [11:44:27] &lt;ptrb&gt;    yeah. i know. i&#8217;m trying to drop the server into an existing process to provide a zmq &#8220;layer&#8221;, so there&#8217;s not really any way to iterate my way to where I am now.</div>
<div class="line">[Monday 13 September 2010] [11:45:07] &lt;ptrb&gt;    i guess i can try taking out some functionality.</div>
<div class="line">[Monday 13 September 2010] [11:45:20] &lt;cremes&gt;  did you change the code that sends 0mq messages?</div>
<div class="line">[Monday 13 September 2010] [11:48:35] &lt;ptrb&gt;    yes; in ways i initially thought were inconsequential, but i suppose i&#8217;m in an assumption-revalidating mood :)</div>
<div class="line">[Monday 13 September 2010] [11:49:15] &lt;ptrb&gt;    as a meta-comment, it&#8217;s really great you guys are hanging out on irc to help folks; zmq is a great project and this is a great resource.</div>
<div class="line">[Monday 13 September 2010] [11:50:54] &lt;ptrb&gt;    aha! so, if i zmq_recv(), get a message, and don&#8217;t zmq_send() something in the server, subsequent zmq_recv()s have the effect of not blocking</div>
<div class="line">[Monday 13 September 2010] [11:51:09] &lt;ptrb&gt;    ...which seems quite strange to me</div>
<div class="line">[Monday 13 September 2010] [11:51:57] &lt;cremes&gt;  ptrb: what kind of socket are you using on this server side?</div>
<div class="line">[Monday 13 September 2010] [11:53:06] &lt;cremes&gt;  because that behavior doesn&#8217;t sound right; the zmq_recv() call is returning an error, right?</div>
<div class="line">[Monday 13 September 2010] [11:54:04] &lt;ptrb&gt;    yeah, it returns -1 EAGAIN</div>
<div class="line">[Monday 13 September 2010] [11:54:11] &lt;ptrb&gt;    i believe it&#8217;s EAGAIN, at least.</div>
<div class="line">[Monday 13 September 2010] [11:56:31] &lt;ptrb&gt;    the topology is the multithread server example in the intro doc: public tcp XREP endpoint, managed by one thread running zmq_device(ZMQ_QUEUE, ...), forwarding via XREQ to an inproc endpoint, being consumed by worker threads binding to REP</div>
<div class="line">[Monday 13 September 2010] [12:02:56] &lt;cremes&gt;  can you provide a code pastie?</div>
<div class="line">[Monday 13 September 2010] [12:03:14] &lt;ptrb&gt;    it won&#8217;t be complete, but sure, one sec...</div>
<div class="line">[Monday 13 September 2010] [12:03:38] &lt;cremes&gt;  it doesn&#8217;t need to be complete... i want to see the code that sets up the socket and calls recv on it</div>
<div class="line">[Monday 13 September 2010] [12:04:03] &lt;ptrb&gt;    the worker thread ultimately responsible for processing the recv, right?</div>
<div class="line">[Monday 13 September 2010] [12:04:39] &lt;cremes&gt;  whatever code is returning -1 EAGAIN</div>
<div class="line">[Monday 13 September 2010] [12:05:51] &lt;ptrb&gt;    <a class="reference external" href="http://pastebin.com/rdHn4iX8">http://pastebin.com/rdHn4iX8</a></div>
<div class="line">[Monday 13 September 2010] [12:08:10] &lt;cremes&gt;  ptrb: in your DEBUG statement, also print out the value of zmq_strerror()</div>
<div class="line">[Monday 13 September 2010] [12:08:27] &lt;cremes&gt;  i need more information to figure this out</div>
<div class="line">[Monday 13 September 2010] [12:09:18] &lt;ptrb&gt;    Operation cannot be accomplished in current state</div>
<div class="line">[Monday 13 September 2010] [12:10:02] &lt;cremes&gt;  ah, then there we have it; with a REP socket you can&#8217;t call recv again until you have subsequently called send</div>
<div class="line">[Monday 13 September 2010] [12:10:16] &lt;cremes&gt;  it needs that recv/send/recv pattern because it maintains a small internal state machine</div>
<div class="line">[Monday 13 September 2010] [12:10:23] &lt;ptrb&gt;    oh, interesting</div>
<div class="line">[Monday 13 September 2010] [12:10:24] &lt;cremes&gt;  that&#8217;s the whole point of the REQ/REP socket pattern</div>
<div class="line">[Monday 13 September 2010] [12:10:24] &lt;ptrb&gt;    ok</div>
<div class="line">[Monday 13 September 2010] [12:10:34] &lt;ptrb&gt;    see, this is useful! this should be on a website somewhere :)</div>
<div class="line">[Monday 13 September 2010] [12:10:40] &lt;cremes&gt;  the worker is supposed to respond when it is done, right?</div>
<div class="line">[Monday 13 September 2010] [12:10:50] &lt;ptrb&gt;    well, my thought is that it may optionally respond</div>
<div class="line">[Monday 13 September 2010] [12:10:51] &lt;cremes&gt;  it is for sure</div>
<div class="line">[Monday 13 September 2010] [12:10:58] &lt;ptrb&gt;    but if it <em>has</em> to respond, that&#8217;s fine too</div>
<div class="line">[Monday 13 September 2010] [12:11:07] &lt;cremes&gt;  if you want it to be optional, use XREP sockets</div>
<div class="line">[Monday 13 September 2010] [12:11:25] &lt;cremes&gt;  that kind of socket does not enforce the recv/send/recv pattern</div>
<div class="line">[Monday 13 September 2010] [12:11:45] &lt;ptrb&gt;    I suspect there is more to XREP than simply dropping that enforcement, though</div>
<div class="line">[Monday 13 September 2010] [12:13:51] &lt;cremes&gt;  ptrb: not really; REP sockets are built on top of the XREP socket</div>
<div class="line">[Monday 13 September 2010] [12:14:00] &lt;ptrb&gt;    hmm, interesting</div>
<div class="line">[Monday 13 September 2010] [12:14:14] &lt;cremes&gt;  REP sockets know how to &#8220;route&#8221; their responses back over multiple hops</div>
<div class="line">[Monday 13 September 2010] [12:14:29] &lt;cremes&gt;  you need to do a little extra work when using an XREP socket to retain that functionality</div>
<div class="line">[Monday 13 September 2010] [12:15:01] &lt;cremes&gt;  this might help a little:  <a class="reference external" href="http://www.zeromq.org/recipe:new-recipe">http://www.zeromq.org/recipe:new-recipe</a></div>
<div class="line">[Monday 13 September 2010] [12:26:08] &lt;ptrb&gt;    curiouser and curiouser</div>
<div class="line">[Monday 13 September 2010] [16:37:48] &lt;ModusPwnens&gt; Hi guys, I have a question on req/rep topology</div>
<div class="line">[Monday 13 September 2010] [16:38:17] &lt;ModusPwnens&gt; Previously, I have been doing benchmarking with the subscriber/publisher toplogy, but I wanted to see what results I would get with req/rep</div>
<div class="line">[Monday 13 September 2010] [16:38:52] &lt;ModusPwnens&gt; and I was wondering if there is anything else I need to do besides the obvious change of the socket types and adding in addition send/recv function calls to avoid blocking the code</div>
<div class="line">[Monday 13 September 2010] [16:39:26] &lt;ModusPwnens&gt; because i noticed after I did those things, rather than sending a message of X bytes, it sends X messages of 1 byte</div>
<div class="line">[Monday 13 September 2010] [16:41:05] &lt;ModusPwnens&gt; Actually, I lied. It seems to just send a lot of zero byte messages</div>
<div class="line">[Monday 13 September 2010] [16:41:49] &lt;cremes&gt;  ModusPwnens: pastie some code, because it should &#8220;just work&#8221;</div>
<div class="line">[Monday 13 September 2010] [16:51:29] &lt;ModusPwnens&gt; Actually, i figured out what it was. However, should rep/req have better or worse performance than sub/pub?</div>
<div class="line">[Monday 13 September 2010] [17:07:24] &lt;cremes&gt;  ModusPwnens: same perf but round-trip latency is higher (no such notion as round-trip latency with pub/sub)</div>
<div class="line">[Tuesday 14 September 2010] [04:45:14] &lt;pieterh&gt;    sustrik: ping?</div>
<div class="line">[Tuesday 14 September 2010] [04:45:31] &lt;sustrik&gt;    pieterh: pong</div>
<div class="line">[Tuesday 14 September 2010] [04:45:42] &lt;pieterh&gt;    is there any zero copy mechanism on reading messages?</div>
<div class="line">[Tuesday 14 September 2010] [04:45:51] &lt;pieterh&gt;    i.e. directly into application buffers</div>
<div class="line">[Tuesday 14 September 2010] [04:46:45] &lt;sustrik&gt;    no, you get the buffer from 0mq</div>
<div class="line">[Tuesday 14 September 2010] [04:46:53] &lt;sustrik&gt;    you can then store it as long as you wish</div>
<div class="line">[Tuesday 14 September 2010] [04:47:12] &lt;pieterh&gt;    ok, thx</div>
<div class="line">[Tuesday 14 September 2010] [05:04:05] &lt;ptrb&gt;   so you can <a href="#id29"><span class="problematic" id="id30">`</span></a>zero-copy&#8217; the buffer data beyond the lifetime of the zmq_msg_t?</div>
<div class="line">[Tuesday 14 September 2010] [05:10:23] &lt;sustrik&gt;    ptrb: no, but you can keep zmq_msg_t around as long as you wish</div>
<div class="line">[Tuesday 14 September 2010] [05:10:34] &lt;ptrb&gt;   roger.</div>
<div class="line">[Tuesday 14 September 2010] [05:18:18] &lt;pieterh&gt;    ptrb: I&#8217;ve added a problem solver to the guide</div>
<div class="line">[Tuesday 14 September 2010] [05:18:20] &lt;pieterh&gt;    <a class="reference external" href="http://www.zeromq.com/docs:the-guide-1#toc13">http://www.zeromq.com/docs:the-guide-1#toc13</a></div>
<div class="line">[Tuesday 14 September 2010] [05:20:46] &lt;ptrb&gt;   cool</div>
<div class="line">[Tuesday 14 September 2010] [05:21:00] &lt;ptrb&gt;   the &#8220;Yes&#8221; path on &#8220;Are you using XREP sockets?&#8221; isn&#8217;t labeled :D</div>
<div class="line">[Tuesday 14 September 2010] [05:21:08] &lt;pieterh&gt;    thanks...!</div>
<div class="line">[Tuesday 14 September 2010] [05:21:22] &lt;ptrb&gt;   but that is definitely helpful</div>
<div class="line">[Tuesday 14 September 2010] [05:21:40] &lt;ptrb&gt;   i&#8217;m a little overwhelmed by the sheer number of different &#8220;guides&#8221; and &#8220;manuals&#8221; and whatnot on the docs page(s), though</div>
<div class="line">[Tuesday 14 September 2010] [05:23:39] &lt;pieterh&gt;    ptrb: yeah, standard process, lots of growth and then consolidation</div>
<div class="line">[Tuesday 14 September 2010] [05:23:50] &lt;pieterh&gt;    stick with www.zeromq.com for starters</div>
<div class="line">[Tuesday 14 September 2010] [05:24:44] &lt;pieterh&gt;    really there should only be two books, the guide and the reference manual</div>
<div class="line">[Tuesday 14 September 2010] [05:24:55] &lt;ptrb&gt;   sure</div>
<div class="line">[Tuesday 14 September 2010] [05:25:16] &lt;ptrb&gt;   there&#8217;s a solid case for a quick-start (~1h) tutorial as well, I think; maybe that&#8217;s like ch.1 of the guide</div>
<div class="line">[Tuesday 14 September 2010] [05:25:39] &lt;pieterh&gt;    yup</div>
<div class="line">[Tuesday 14 September 2010] [05:25:55] &lt;pieterh&gt;    plus lots of tutorials and articles from the rest of the community</div>
<div class="line">[Tuesday 14 September 2010] [05:41:04] &lt;keffo&gt;  pieterh, I have a concurrency issue that I cant really figure out!</div>
<div class="line">[Tuesday 14 September 2010] [05:41:14] &lt;pieterh&gt;    keffo: shoot</div>
<div class="line">[Tuesday 14 September 2010] [05:41:31] &lt;pieterh&gt;    have you checked the new problem solver?</div>
<div class="line">[Tuesday 14 September 2010] [05:41:40] &lt;keffo&gt;  lemme check</div>
<div class="line">[Tuesday 14 September 2010] [05:42:57] &lt;keffo&gt;  pieterh, Think client, double lru-queue(for outoing tasks, and for incoming results), then an additional &#8216;regular&#8217; queue on each machine, which provides N worker processes..</div>
<div class="line">[Tuesday 14 September 2010] [05:43:14] &lt;keffo&gt;  pieterh, Theyre all sep. processes, no threading involved anywhere apart from zmq internals..</div>
<div class="line">[Tuesday 14 September 2010] [05:43:22] &lt;pieterh&gt;    ok</div>
<div class="line">[Tuesday 14 September 2010] [05:43:53] &lt;pieterh&gt;    what is the symptom you are seeing?</div>
<div class="line">[Tuesday 14 September 2010] [05:44:29] &lt;keffo&gt;  One worker, all is fine, I&#8217;ve done 100000 tasks back&#8217;n&#8217;forth with no problem, so the handling of data is sound.. Now if I do more than one worker processes, -sometimes- I get jumbled data, so it&#8217;s clearly a concurrency issue, but I cant really tell how or where</div>
<div class="line">[Tuesday 14 September 2010] [05:45:12] &lt;pieterh&gt;    jumbled data = one message has corrupted data or messages are not in order?</div>
<div class="line">[Tuesday 14 September 2010] [05:45:34] &lt;keffo&gt;  I guess both? =)</div>
<div class="line">[Tuesday 14 September 2010] [05:45:43] &lt;keffo&gt;  lemme trigger it and check the logs</div>
<div class="line">[Tuesday 14 September 2010] [05:45:48] &lt;pieterh&gt;    ok</div>
<div class="line">[Tuesday 14 September 2010] [05:46:48] &lt;keffo&gt;  there we go</div>
<div class="line">[Tuesday 14 September 2010] [05:47:53] &lt;keffo&gt;  so this scenario has multiple worker processes, but I send out batches or bursts of tasks of different granularity.. With 1 it always works, that is, send one task, wait for that task to complete.. The problem pops up when doing more than one, say 10</div>
<div class="line">[Tuesday 14 September 2010] [05:48:00] &lt;keffo&gt;  which is the case now</div>
<div class="line">[Tuesday 14 September 2010] [05:48:31] &lt;pieterh&gt;    keffo: you still need to explain what the &#8220;problem&#8221; actually is</div>
<div class="line">[Tuesday 14 September 2010] [05:48:57] &lt;pieterh&gt;    what is the difference between working and non-working in terms of what you see in the logs?</div>
<div class="line">[Tuesday 14 September 2010] [05:49:43] &lt;keffo&gt;  well, sometimes routing info is jumbled.. I expect uuid + nil + payload, but sometimes that uuid can get very weird</div>
<div class="line">[Tuesday 14 September 2010] [05:50:01] &lt;keffo&gt;  and likewise the payload itself can get messed up</div>
<div class="line">[Tuesday 14 September 2010] [05:50:12] &lt;pieterh&gt;    ok, so your message envelopes are wrong</div>
<div class="line">[Tuesday 14 September 2010] [05:50:25] &lt;keffo&gt;  They would be wrong with just one message too :)</div>
<div class="line">[Tuesday 14 September 2010] [05:50:32] &lt;keffo&gt;  or one worker proc.</div>
<div class="line">[Tuesday 14 September 2010] [05:50:43] &lt;pieterh&gt;    most probably an error in your code that creates/copies envelopers</div>
<div class="line">[Tuesday 14 September 2010] [05:50:47] &lt;pieterh&gt;    <a href="#id31"><span class="problematic" id="id32">*</span></a>envelopes</div>
<div class="line">[Tuesday 14 September 2010] [05:51:19] &lt;pieterh&gt;    the LRU queue stuff is pretty delicate</div>
<div class="line">[Tuesday 14 September 2010] [05:53:47] &lt;keffo&gt;  I dont see the relevance to be honest, I can process 1M tasks properly if I wait for each message(or if I have only one worker processing them).. If there was an inherent problem in the envelope construction/usage, surely that would pop up there as well, but it has -never- happened in that scenario..</div>
<div class="line">[Tuesday 14 September 2010] [05:54:40] &lt;pieterh&gt;    keffo: when problem solving you don&#8217;t care when it works</div>
<div class="line">[Tuesday 14 September 2010] [05:54:52] &lt;pieterh&gt;    if you can reproduce a problem, that&#8217;s the interesting thing</div>
<div class="line">[Tuesday 14 September 2010] [05:55:06] &lt;pieterh&gt;    things often work by accident...</div>
<div class="line">[Tuesday 14 September 2010] [05:55:21] &lt;pieterh&gt;    so your workers are REQ and you&#8217;re talking to them with an XREP?</div>
<div class="line">[Tuesday 14 September 2010] [05:55:54] &lt;keffo&gt;  yeah</div>
<div class="line">[Tuesday 14 September 2010] [05:56:12] &lt;pieterh&gt;    do you store the worker identity anywhere?</div>
<div class="line">[Tuesday 14 September 2010] [05:56:23] &lt;keffo&gt;  I can reproduce it, but with irregularities one has come to expect from multithreaded :)</div>
<div class="line">[Tuesday 14 September 2010] [05:56:31] &lt;keffo&gt;  yeah, all connections are known</div>
<div class="line">[Tuesday 14 September 2010] [05:57:24] &lt;pieterh&gt;    so the obvious thing to look at would be how you reconstruct the envelopes and where the worker addresses come from</div>
<div class="line">[Tuesday 14 September 2010] [05:57:32] &lt;pieterh&gt;    and that you&#8217;re not using the wrong data</div>
<div class="line">[Tuesday 14 September 2010] [05:58:34] &lt;pieterh&gt;    you presumably have logic that is vulnerable to multiple workers sending back stuff at the same time</div>
<div class="line">[Tuesday 14 September 2010] [05:59:04] &lt;pieterh&gt;    maybe you&#8217;re not using SNDMORE properly in the worker when sending</div>
<div class="line">[Tuesday 14 September 2010] [05:59:22] &lt;pieterh&gt;    so messages arrive mixed together rather than atomically</div>
<div class="line">[Tuesday 14 September 2010] [05:59:31]   * pieterh has no idea if that is even possible...</div>
<div class="line">[Tuesday 14 September 2010] [05:59:53] &lt;keffo&gt;  right, I dont see that being possible either, as it properly routes across 3-4 queues?</div>
<div class="line">[Tuesday 14 September 2010] [06:00:08] &lt;pieterh&gt;    you have assertions on everything?</div>
<div class="line">[Tuesday 14 September 2010] [06:00:20] &lt;keffo&gt;  think so, yeah</div>
<div class="line">[Tuesday 14 September 2010] [06:00:34] &lt;pieterh&gt;    so every single frame is checked? e.g. RCVMORE where expected, empty frame where expected, etc.</div>
<div class="line">[Tuesday 14 September 2010] [06:00:50] &lt;keffo&gt;  yes</div>
<div class="line">[Tuesday 14 September 2010] [06:01:05] &lt;pieterh&gt;    the only think I can think of right now is that you can send what looks like a valid envelope but it won&#8217;t survive concurrency</div>
<div class="line">[Tuesday 14 September 2010] [06:02:21] &lt;keffo&gt;  What would cause multiple incoming multipart-messages to break symmetry with more than one sender, in a singlethreaded process?</div>
<div class="line">[Tuesday 14 September 2010] [06:02:34] &lt;keffo&gt;  that&#8217;s what I dont get :)</div>
<div class="line">[Tuesday 14 September 2010] [06:02:47] &lt;pieterh&gt;    well, if they are not actually multipart messages</div>
<div class="line">[Tuesday 14 September 2010] [06:02:56] &lt;pieterh&gt;    lets say you send the envelope (address, null, data)</div>
<div class="line">[Tuesday 14 September 2010] [06:03:06] &lt;pieterh&gt;    but you by mistake use normal sends on each part</div>
<div class="line">[Tuesday 14 September 2010] [06:03:19] &lt;keffo&gt;  yup</div>
<div class="line">[Tuesday 14 September 2010] [06:03:21] &lt;pieterh&gt;    it&#8217;ll be 3 messages, not 1 3-part message</div>
<div class="line">[Tuesday 14 September 2010] [06:03:31] &lt;pieterh&gt;    if you read that, it might look valid and work for routing</div>
<div class="line">[Tuesday 14 September 2010] [06:03:40] &lt;pieterh&gt;    but as soon as you have concurrency it&#8217;ll stop working</div>
<div class="line">[Tuesday 14 September 2010] [06:03:56] &lt;pieterh&gt;    like i say, i&#8217;ve never tried that, but will make a test now, after coffee</div>
<div class="line">[Tuesday 14 September 2010] [06:04:12] &lt;pieterh&gt;    i&#8217;d expect 0MQ to reject such messages...</div>
<div class="line">[Tuesday 14 September 2010] [06:04:29] &lt;keffo&gt;  hmm.. I&#8217;ll go over the code again! :)</div>
<div class="line">[Tuesday 14 September 2010] [06:04:32] &lt;pieterh&gt;    but from REQ to XREP it can&#8217;t IMO</div>
<div class="line">[Tuesday 14 September 2010] [06:06:40] &lt;keffo&gt;  cant reject?</div>
<div class="line">[Tuesday 14 September 2010] [06:07:04] &lt;sustrik&gt;    keffo: can you check whether the garbled identity you see is something that may actually your application message or whether it&#8217;s just real junk</div>
<div class="line">[Tuesday 14 September 2010] [06:07:05] &lt;sustrik&gt;    ?</div>
<div class="line">[Tuesday 14 September 2010] [06:09:20] &lt;keffo&gt;  It&#8217;s not real junk.. Sometimes for example I get route uuid that appears to be a mix of multiple uuid&#8217;s</div>
<div class="line">[Tuesday 14 September 2010] [06:09:41] &lt;keffo&gt;  clearly something breaks symmetry somehow</div>
<div class="line">[Tuesday 14 September 2010] [06:09:50] &lt;keffo&gt;  I&#8217;ll lok into the route logic again though</div>
<div class="line">[Tuesday 14 September 2010] [06:11:56] &lt;sustrik&gt;    &#8220;mix of multiple uuid&#8217;s&#8221; = junk IMO</div>
<div class="line">[Tuesday 14 September 2010] [06:12:08] &lt;sustrik&gt;    ok, a sanity check:</div>
<div class="line">[Tuesday 14 September 2010] [06:12:20] &lt;sustrik&gt;    do you use each socket exclusively from a single thread?</div>
<div class="line">[Tuesday 14 September 2010] [06:12:44] &lt;keffo&gt;  yeah</div>
<div class="line">[Tuesday 14 September 2010] [06:12:54] &lt;sustrik&gt;    what language are you using?</div>
<div class="line">[Tuesday 14 September 2010] [06:13:02] &lt;keffo&gt;  c++ and lua</div>
<div class="line">[Tuesday 14 September 2010] [06:13:10] &lt;keffo&gt;  but homebrew bindings</div>
<div class="line">[Tuesday 14 September 2010] [06:13:42] &lt;sustrik&gt;    any chance to test a pure c++ setup?</div>
<div class="line">[Tuesday 14 September 2010] [06:13:55] &lt;keffo&gt;  hehe. noo :)</div>
<div class="line">[Tuesday 14 September 2010] [06:14:35] &lt;sustrik&gt;    hm, lua binding is a project i know nothing about</div>
<div class="line">[Tuesday 14 September 2010] [06:15:02] &lt;sustrik&gt;    the bug can be there, as no such problem was yet reported for any other language</div>
<div class="line">[Tuesday 14 September 2010] [06:15:30] &lt;sustrik&gt;    ok, any chance of using anything other than lua?</div>
<div class="line">[Tuesday 14 September 2010] [06:19:11] &lt;keffo&gt;  Would take forever to rewrite</div>
<div class="line">[Tuesday 14 September 2010] [06:19:20] &lt;sustrik&gt;    ok</div>
<div class="line">[Tuesday 14 September 2010] [06:19:32] &lt;sustrik&gt;    how does the setup look like?</div>
<div class="line">[Tuesday 14 September 2010] [06:19:40] &lt;sustrik&gt;    which part is c++ and which is lua?</div>
<div class="line">[Tuesday 14 September 2010] [06:20:03] &lt;keffo&gt;  all zmq stuff is c, rest is lua.. Ie, connect/bind/send/recv(and their more-counterparts)</div>
<div class="line">[Tuesday 14 September 2010] [06:20:51] &lt;sustrik&gt;    you are mixing C code and lua code to use the same 0MQ socket?</div>
<div class="line">[Tuesday 14 September 2010] [06:21:01]   * sustrik doesn&#8217;t follow</div>
<div class="line">[Tuesday 14 September 2010] [06:21:22] &lt;keffo&gt;  Um no, I created bindings for sockets, so it&#8217;s the same thing</div>
<div class="line">[Tuesday 14 September 2010] [06:21:50] &lt;sustrik&gt;    hm, are you saying that 0MQ is written in C while your apps are in lua?</div>
<div class="line">[Tuesday 14 September 2010] [06:22:29] &lt;keffo&gt;  I&#8217;ve extended an application with lua yeah..</div>
<div class="line">[Tuesday 14 September 2010] [06:22:34] &lt;keffo&gt;  lua or not is besides the point really</div>
<div class="line">[Tuesday 14 September 2010] [06:22:47] &lt;keffo&gt;  All zmq related code is in C++</div>
<div class="line">[Tuesday 14 September 2010] [06:23:24] &lt;sustrik&gt;    aha, so you are _not_ using the lua binding</div>
<div class="line">[Tuesday 14 September 2010] [06:23:26] &lt;sustrik&gt;    right?</div>
<div class="line">[Tuesday 14 September 2010] [06:23:44] &lt;keffo&gt;  I am, but not the ones from the site :)</div>
<div class="line">[Tuesday 14 September 2010] [06:23:50] &lt;sustrik&gt;    your own</div>
<div class="line">[Tuesday 14 September 2010] [06:23:55] &lt;keffo&gt;  yup</div>
<div class="line">[Tuesday 14 September 2010] [06:24:14] &lt;keffo&gt;  just an abstraction layer that&#8217;s easier to work with on the lua side</div>
<div class="line">[Tuesday 14 September 2010] [06:24:20] &lt;sustrik&gt;    ack</div>
<div class="line">[Tuesday 14 September 2010] [06:24:29] &lt;sustrik&gt;    what&#8217;s the lua&#8217;s threading model?</div>
<div class="line">[Tuesday 14 September 2010] [06:24:40] &lt;keffo&gt;  inherently single threaded, but it has coroutines</div>
<div class="line">[Tuesday 14 September 2010] [06:25:38] &lt;sustrik&gt;    ok, so there&#8217;s only one OS thread for each lua process, right?</div>
<div class="line">[Tuesday 14 September 2010] [06:25:42] &lt;keffo&gt;  yes</div>
<div class="line">[Tuesday 14 September 2010] [06:26:22] &lt;sustrik&gt;    no such think as garbage collection thread or similar?</div>
<div class="line">[Tuesday 14 September 2010] [06:26:25] &lt;sustrik&gt;    thing*</div>
<div class="line">[Tuesday 14 September 2010] [06:26:26] &lt;keffo&gt;  client, loadbalancer, computenode and workers are all single processes  (a computenode is simply a c++ queue dev. &#8216;owning&#8217; the worker processes)</div>
<div class="line">[Tuesday 14 September 2010] [06:26:52] &lt;keffo&gt;  No, not in another thread no.. Lua does incremental gc but in the same thread</div>
<div class="line">[Tuesday 14 September 2010] [06:27:11] &lt;sustrik&gt;    ok</div>
<div class="line">[Tuesday 14 September 2010] [06:27:37] &lt;sustrik&gt;    then it looks like the problem has to be in 0MQ itself</div>
<div class="line">[Tuesday 14 September 2010] [06:27:46] &lt;sustrik&gt;    it should be reproducible in C or C++</div>
<div class="line">[Tuesday 14 September 2010] [06:28:15] &lt;sustrik&gt;    can you write a simpe C/C++ test that simulates what you are doing in your app?</div>
<div class="line">[Tuesday 14 September 2010] [06:28:35] &lt;sustrik&gt;    messaging-wise i mean, not the business logic</div>
<div class="line">[Tuesday 14 September 2010] [06:28:47] &lt;keffo&gt;  hmm.. that would take a while I think..</div>
<div class="line">[Tuesday 14 September 2010] [06:29:07] &lt;keffo&gt;  I do think I&#8217;m to blame, not zmq, I just need a better way to debug it probably :)</div>
<div class="line">[Tuesday 14 September 2010] [06:30:01] &lt;keffo&gt;  It behaves as threaded concurrency issue, but being entirely single process based..</div>
<div class="line">[Tuesday 14 September 2010] [06:30:37] &lt;sustrik&gt;    there&#8217;s an I/O thread inside 0MQ so it can be a race</div>
<div class="line">[Tuesday 14 September 2010] [06:31:00] &lt;sustrik&gt;    however, i can&#8217;t help unless i am able to reproduce it</div>
<div class="line">[Tuesday 14 September 2010] [06:31:20] &lt;keffo&gt;  Well I&#8217;d be half way safe if I could reproduce it too, but it&#8217;s quite rare :)</div>
<div class="line">[Tuesday 14 September 2010] [06:31:37] &lt;sustrik&gt;    of course, it&#8217;s still possible that you are overwriting memory in your app or something like that</div>
<div class="line">[Tuesday 14 September 2010] [06:31:54] &lt;sustrik&gt;    have you tried to valgring your binding?</div>
<div class="line">[Tuesday 14 September 2010] [06:31:58] &lt;sustrik&gt;    valgrind</div>
<div class="line">[Tuesday 14 September 2010] [06:33:17] &lt;keffo&gt;  no valgrind in win as far as I know.. Boundschecker perhaps, but I doubt that&#8217;s the problem too</div>
<div class="line">[Tuesday 14 September 2010] [06:33:41] &lt;keffo&gt;  Again, in a single-worker scenario, everything is flawless regardless of amount and load etc</div>
<div class="line">[Tuesday 14 September 2010] [06:34:00] &lt;keffo&gt;  (and none of the processes every leak anything, stays solid around 2mb mem)</div>
<div class="line">[Tuesday 14 September 2010] [06:34:39] &lt;sustrik&gt;    then it looks like a problem in the central dispatcher node</div>
<div class="line">[Tuesday 14 September 2010] [06:34:50] &lt;keffo&gt;  yeah</div>
<div class="line">[Tuesday 14 September 2010] [06:34:57] &lt;keffo&gt;  that&#8217;s the most complicated bit too</div>
<div class="line">[Tuesday 14 September 2010] [06:35:09] &lt;keffo&gt;  double lru queue device basically</div>
<div class="line">[Tuesday 14 September 2010] [06:36:01] &lt;sustrik&gt;    well, unless you are able to provide something to reproduce the problem, you are on your own here</div>
<div class="line">[Tuesday 14 September 2010] [06:36:08] &lt;keffo&gt;  I know :)</div>
<div class="line">[Tuesday 14 September 2010] [06:37:02] &lt;keffo&gt;  more logging I guess. It would be nice to have all participants publish all the data they process, and collect that in a sub app, and then be able to &#8220;play back&#8221; everything</div>
<div class="line">[Tuesday 14 September 2010] [06:37:30] &lt;ptrb&gt;   that could easily become a project as complex as zmq itself</div>
<div class="line">[Tuesday 14 September 2010] [06:37:43] &lt;ptrb&gt;   entire companies are built on the concept of capturing/replaying network traffic</div>
<div class="line">[Tuesday 14 September 2010] [06:37:52] &lt;pieterh&gt;    keffo: if you can send me your code I&#8217;ll see if I can spot anything</div>
<div class="line">[Tuesday 14 September 2010] [06:38:03] &lt;pieterh&gt;    i need the parts that read and write worker envelopes, to start with</div>
<div class="line">[Tuesday 14 September 2010] [06:38:12] &lt;keffo&gt;  sure hold on</div>
<div class="line">[Tuesday 14 September 2010] [06:38:17] &lt;keffo&gt;  wheres the pastebin?</div>
<div class="line">[Tuesday 14 September 2010] [06:38:29] &lt;pieterh&gt;    gist.github.com works well</div>
<div class="line">[Tuesday 14 September 2010] [06:39:04] &lt;keffo&gt;  But again, if the envelope code is flawed, it would be equally flawed for one worker?</div>
<div class="line">[Tuesday 14 September 2010] [06:40:27] &lt;pieterh&gt;    keffo: i explained how it could be flawed but still work for one worker</div>
<div class="line">[Tuesday 14 September 2010] [06:41:26] &lt;keffo&gt;  <a class="reference external" href="http://gist.github.com/578849">http://gist.github.com/578849</a></div>
<div class="line">[Tuesday 14 September 2010] [06:42:22] &lt;pieterh&gt;    keffo: i need the actual detail of sendpath, I think</div>
<div class="line">[Tuesday 14 September 2010] [06:42:27] &lt;pieterh&gt;    <a href="#id33"><span class="problematic" id="id34">*</span></a>sendmore, sorry</div>
<div class="line">[Tuesday 14 September 2010] [06:42:45] &lt;keffo&gt;  That is in C, hold on</div>
<div class="line">[Tuesday 14 September 2010] [06:44:17] &lt;keffo&gt;  <a class="reference external" href="http://gist.github.com/578851">http://gist.github.com/578851</a></div>
<div class="line">[Tuesday 14 September 2010] [06:44:52] &lt;keffo&gt;  send() is obviously quite similar except for the flag :)</div>
<div class="line">[Tuesday 14 September 2010] [06:45:56] &lt;pieterh&gt;    keffo: it looks fine</div>
<div class="line">[Tuesday 14 September 2010] [06:46:15] &lt;pieterh&gt;    you&#8217;re sure that pairs() gives you stuff in the right order?</div>
<div class="line">[Tuesday 14 September 2010] [06:46:38] &lt;pieterh&gt;    so you have only one choice left, sadly</div>
<div class="line">[Tuesday 14 September 2010] [06:46:55] &lt;keffo&gt;  rewrite, and hope it goes away? =)</div>
<div class="line">[Tuesday 14 September 2010] [06:47:05] &lt;keffo&gt;  naa, there&#8217;s some stupid silly thing somewhere</div>
<div class="line">[Tuesday 14 September 2010] [06:47:13] &lt;pieterh&gt;    well, everything goes through these functions</div>
<div class="line">[Tuesday 14 September 2010] [06:47:20] &lt;pieterh&gt;    so put in printf statements or whatever</div>
<div class="line">[Tuesday 14 September 2010] [06:47:27] &lt;pieterh&gt;    and see when it actually goes wrong</div>
<div class="line">[Tuesday 14 September 2010] [06:47:46] &lt;keffo&gt;  Yeah, need to find a pattern..</div>
<div class="line">[Tuesday 14 September 2010] [06:47:50] &lt;pieterh&gt;    pieter&#8217;s rules #5 and #23 of debugging</div>
<div class="line">[Tuesday 14 September 2010] [06:48:03] &lt;pieterh&gt;    (a) it&#8217;s never actually a race condition</div>
<div class="line">[Tuesday 14 September 2010] [06:48:14] &lt;pieterh&gt;    (b) you can find any bug using printfs</div>
<div class="line">[Tuesday 14 September 2010] [06:48:23] &lt;keffo&gt;  except the ones in printf!</div>
<div class="line">[Tuesday 14 September 2010] [06:48:37] &lt;pieterh&gt;    that&#8217;s why C offers puts as well!</div>
<div class="line">[Tuesday 14 September 2010] [06:49:39] &lt;keffo&gt;  One thing I could do is rewrite the loadbalancer stuff in pure C</div>
<div class="line">[Tuesday 14 September 2010] [06:50:11] &lt;pieterh&gt;    keffo: there&#8217;s no point rewriting unless you have found the cause of the problem</div>
<div class="line">[Tuesday 14 September 2010] [06:50:31] &lt;ptrb&gt;   why are your rule #5 and #23 labelled (a) and (b)??</div>
<div class="line">[Tuesday 14 September 2010] [06:50:31] &lt;keffo&gt;  indeed</div>
<div class="line">[Tuesday 14 September 2010] [06:51:04] &lt;pieterh&gt;    ptrb: lol</div>
<div class="line">[Tuesday 14 September 2010] [06:51:04] &lt;keffo&gt;  pieterh, That code should be rewritten though, for performance, but I agree :)</div>
<div class="line">[Tuesday 14 September 2010] [07:37:02] &lt;BooTheHamster&gt;  What mean error &#8220;operation cannot be accomplished in current state&#8221; in zmq_send() call?</div>
<div class="line">[Tuesday 14 September 2010] [07:38:51] &lt;ptrb&gt;   hey i got that yesterday! :D</div>
<div class="line">[Tuesday 14 September 2010] [07:39:00] &lt;ptrb&gt;   basically means you&#8217;re violating some constraint of the socket</div>
<div class="line">[Tuesday 14 September 2010] [07:39:08] &lt;ptrb&gt;   is it ZMQ_REQ or _REP?</div>
<div class="line">[Tuesday 14 September 2010] [07:39:15] &lt;BooTheHamster&gt;  ZMQ_REQ</div>
<div class="line">[Tuesday 14 September 2010] [07:39:37] &lt;ptrb&gt;   you must call zmq_send, then zmq_recv, before you can call zmq_send again</div>
<div class="line">[Tuesday 14 September 2010] [07:39:39] &lt;BooTheHamster&gt;  I&#8217;t a client app but run withiut server</div>
<div class="line">[Tuesday 14 September 2010] [07:39:39] &lt;ptrb&gt;   are you doing that?</div>
<div class="line">[Tuesday 14 September 2010] [07:39:46] &lt;BooTheHamster&gt;  yes</div>
<div class="line">[Tuesday 14 September 2010] [07:39:55] &lt;BooTheHamster&gt;  first I call zmq_send</div>
<div class="line">[Tuesday 14 September 2010] [07:40:05] &lt;BooTheHamster&gt;  and then zmq_recv</div>
<div class="line">[Tuesday 14 September 2010] [07:40:11] &lt;ptrb&gt;   on the same socket</div>
<div class="line">[Tuesday 14 September 2010] [07:40:19] &lt;BooTheHamster&gt;  m_MsgSock-&gt;recv(&amp;msg_rcv, ZMQ_NOBLOCK)</div>
<div class="line">[Tuesday 14 September 2010] [07:40:21] &lt;BooTheHamster&gt;  yes</div>
<div class="line">[Tuesday 14 September 2010] [07:40:33] &lt;ptrb&gt;   noblock means you may not actually have recv&#8217;d anything</div>
<div class="line">[Tuesday 14 September 2010] [07:40:46] &lt;ptrb&gt;   you have to actually recv something before you can send again (I believe&#8211;maybe someone can confirm)</div>
<div class="line">[Tuesday 14 September 2010] [07:41:21] &lt;BooTheHamster&gt;  but i want non blocking recv</div>
<div class="line">[Tuesday 14 September 2010] [07:41:36] &lt;ptrb&gt;   that&#8217;s fine, you just can&#8217;t send again until your non-blocking recv actually gets something</div>
<div class="line">[Tuesday 14 September 2010] [07:41:57] &lt;ptrb&gt;   if you want to do multiple sends without getting data back, use XREQ</div>
<div class="line">[Tuesday 14 September 2010] [07:43:41] &lt;BooTheHamster&gt;  Thank you ptrb, XREQ helps.</div>
<div class="line">[Tuesday 14 September 2010] [07:44:29] &lt;BooTheHamster&gt;  A little one question ... on server side i must use XREP or REP socket?</div>
<div class="line">[Tuesday 14 September 2010] [07:45:36] &lt;ptrb&gt;   just depends on what behavior you can tolerate there... both will work, but REP requires you to recv, send, recv, send actual data</div>
<div class="line">[Tuesday 14 September 2010] [07:46:08] &lt;ptrb&gt;   <a href="#id35"><span class="problematic" id="id36">`</span></a>man zmq_socket&#8217; for more details</div>
<div class="line">[Tuesday 14 September 2010] [07:50:49] &lt;BooTheHamster&gt;  thanks</div>
<div class="line">[Tuesday 14 September 2010] [07:52:40] &lt;ptrb&gt;   i helped!! :D</div>
<div class="line">[Tuesday 14 September 2010] [07:52:44] &lt;ptrb&gt;   maybe</div>
<div class="line">[Tuesday 14 September 2010] [07:52:45] &lt;guido_g&gt;    and for some more ideas what to use when: <a class="reference external" href="http://www.zeromq.org/docs:user-guide">http://www.zeromq.org/docs:user-guide</a></div>
<div class="line">[Tuesday 14 September 2010] [08:25:25] &lt;cremes&gt; ptrb: you&#8217;re an expert now! ;)</div>
<div class="line">[Tuesday 14 September 2010] [09:02:00] &lt;pieterh&gt;    cremes: I moved your xrep-xrep recipe page into the tutorials section</div>
<div class="line">[Tuesday 14 September 2010] [09:47:35] &lt;Tasser&gt; why use rbzmq &lt;=&gt; ffi-rzmq?</div>
<div class="line">[Tuesday 14 September 2010] [09:54:46] &lt;cremes&gt; Tasser: they have slightly different APIs; the ffi-rzmq more closely tracks the C api whereas rbzmq uses strings for everything</div>
<div class="line">[Tuesday 14 September 2010] [09:55:02] &lt;cremes&gt; also, ffi-rzmq is more compatible with ruby runtimes (jruby, rubinius, mri)</div>
<div class="line">[Tuesday 14 September 2010] [09:55:08] &lt;Tasser&gt; strings sounds like overuse of core classes</div>
<div class="line">[Tuesday 14 September 2010] [09:55:37] &lt;cremes&gt; well, most people will probably convert their data to string format for send/recv under ruby because it&#8217;s convenient</div>
<div class="line">[Tuesday 14 September 2010] [09:55:54] &lt;Tasser&gt; that&#8217;s what JSON is for :-)</div>
<div class="line">[Tuesday 14 September 2010] [09:56:10] &lt;cremes&gt; but since ffi-rzmq exposes a zmq_msg_t-like structure you can pass around C structs without doing a lot of extra copying</div>
<div class="line">[Tuesday 14 September 2010] [09:56:15] &lt;Tasser&gt; but I suspect you can&#8217;t hardwire zmq against json</div>
<div class="line">[Tuesday 14 September 2010] [09:56:18] &lt;cremes&gt; that <em>might</em> be more efficient</div>
<div class="line">[Tuesday 14 September 2010] [09:56:40] &lt;cremes&gt; what do you mean by hardware? as far as i know, 0mq (and zmq) don&#8217;t care what you pass on the wire</div>
<div class="line">[Tuesday 14 September 2010] [09:56:47] &lt;cremes&gt; s/hardware/hardwire/</div>
<div class="line">[Tuesday 14 September 2010] [09:57:07] &lt;Tasser&gt; well, for filtering in subscribe</div>
<div class="line">[Tuesday 14 September 2010] [09:57:28] &lt;cremes&gt; ah, subscribe filters at the byte-level</div>
<div class="line">[Tuesday 14 September 2010] [09:57:55] &lt;cremes&gt; no need to encode the subscription topic unless you want to decode it on each subscriber too</div>
<div class="line">[Tuesday 14 September 2010] [09:59:20] &lt;Tasser&gt; hmm</div>
<div class="line">[Tuesday 14 September 2010] [10:00:50] &lt;cremes&gt; hmm sometimes means &#8220;i don&#8217;t know what you are talking about&#8221; :)</div>
<div class="line">[Tuesday 14 September 2010] [10:58:00] &lt;Tasser&gt; cremes, well, so you could filter based on JSON, but that would make it bloat</div>
<div class="line">[Tuesday 14 September 2010] [10:59:41] &lt;cremes&gt; Tasser: my point is that 0mq matches topics by comparing bytes</div>
<div class="line">[Tuesday 14 September 2010] [10:59:48] &lt;cremes&gt; so you want it to fail as soon as possible</div>
<div class="line">[Tuesday 14 September 2010] [11:00:05] &lt;cremes&gt; using a json-encoded topic means that more bytes would need to be compared to find mismatches</div>
<div class="line">[Tuesday 14 September 2010] [11:00:13] &lt;cremes&gt; so subscription filtering would be slower</div>
<div class="line">[Tuesday 14 September 2010] [11:00:23] &lt;cremes&gt; for example...</div>
<div class="line">[Tuesday 14 September 2010] [11:00:51] &lt;cremes&gt; sock.setsockopt ZMQ::SUBSCRIBE, &#8216;topic.string&#8217;</div>
<div class="line">[Tuesday 14 September 2010] [11:00:53] &lt;cremes&gt; versus</div>
<div class="line">[Tuesday 14 September 2010] [11:01:25] &lt;cremes&gt; sock.setsockopt(ZMQ::SUBSCRIBE, JSON.encode({&#8216;topic&#8217; =&gt; &#8216;topic.string&#8217;})</div>
<div class="line">[Tuesday 14 September 2010] [11:01:36] &lt;cremes&gt; honestly, i&#8217;m not even sure if that second example would ever work</div>
<div class="line">[Tuesday 14 September 2010] [11:01:53] &lt;cremes&gt; since the json encoder could put things in different order while still producing valid json</div>
<div class="line">[Tuesday 14 September 2010] [11:02:10] &lt;cremes&gt; just use a string for the topic and put your encoded data into a second message part</div>
<div class="line">[Tuesday 14 September 2010] [11:02:48] &lt;Tasser&gt; yeah, probably the sane idea of using it.</div>
<div class="line">[Tuesday 14 September 2010] [13:01:00] &lt;kleppari&gt;   hello</div>
<div class="line">[Tuesday 14 September 2010] [13:01:09] &lt;kleppari&gt;   <a class="reference external" href="http://zguide.zeromq.org/">http://zguide.zeromq.org/</a> - should I need to register to view this?</div>
<div class="line">[Tuesday 14 September 2010] [13:02:38] &lt;ModusPwnens&gt;    Im not sure, but if you do register, let me know if you are successful. I was trying to the other day and it wouldn&#8217;t work =/</div>
<div class="line">[Tuesday 14 September 2010] [13:03:01] &lt;pieterh&gt;    kleppari: isn&#8217;t is showing?  rats... :-( thanks for pointing it out</div>
<div class="line">[Tuesday 14 September 2010] [13:03:08] &lt;guido_g&gt;    f*ck, this is wikidot crap</div>
<div class="line">[Tuesday 14 September 2010] [13:03:14] &lt;guido_g&gt;    sorry</div>
<div class="line">[Tuesday 14 September 2010] [13:03:32] &lt;pieterh&gt;    gudio_g: default permissions on cloned site are private, I forgot</div>
<div class="line">[Tuesday 14 September 2010] [13:03:54] &lt;guido_g&gt;    and you need to allow cross-domain cookies</div>
<div class="line">[Tuesday 14 September 2010] [13:03:57] &lt;pieterh&gt;    happily it&#8217;s a 10-second fix</div>
<div class="line">[Tuesday 14 September 2010] [13:04:09] &lt;guido_g&gt;    wikidot sucks in this regard</div>
<div class="line">[Tuesday 14 September 2010] [13:04:10] &lt;pieterh&gt;    guido_g: you need to not disallow the dratted things</div>
<div class="line">[Tuesday 14 September 2010] [13:04:21] &lt;pieterh&gt;    it&#8217;s for good security reasons, unfortunately</div>
<div class="line">[Tuesday 14 September 2010] [13:04:32] &lt;kleppari&gt;   registered with wikidots, worked after that.  I think it&#8217;s a major fail to require it though :)</div>
<div class="line">[Tuesday 14 September 2010] [13:04:43] &lt;pieterh&gt;    kleppari: not required, it was my fault</div>
<div class="line">[Tuesday 14 September 2010] [13:04:44] &lt;kleppari&gt;   pieterh: np, thanks for the guide :)</div>
<div class="line">[Tuesday 14 September 2010] [13:04:49] &lt;guido_g&gt;    pieterh: cross-donmain cookies are for security?</div>
<div class="line">[Tuesday 14 September 2010] [13:04:50] &lt;pieterh&gt;    it should work for anonymous users now</div>
<div class="line">[Tuesday 14 September 2010] [13:05:08] &lt;pieterh&gt;    guido_g: wikidot splits off insecure stuff (file uploads) to a separate domain</div>
<div class="line">[Tuesday 14 September 2010] [13:05:08] &lt;guido_g&gt;    nack</div>
<div class="line">[Tuesday 14 September 2010] [13:05:30] &lt;guido_g&gt;    pieterh: it doesen&#8217;t work</div>
<div class="line">[Tuesday 14 September 2010] [13:05:30] &lt;pieterh&gt;    feel free to debate with the wikidot devs, they are pretty sure of their skills in this respect</div>
<div class="line">[Tuesday 14 September 2010] [13:05:46] &lt;pieterh&gt;    what doesn&#8217;t work?</div>
<div class="line">[Tuesday 14 September 2010] [13:05:48] &lt;kleppari&gt;   pieterh: works now, thanks.</div>
<div class="line">[Tuesday 14 September 2010] [13:05:52] &lt;pieterh&gt;    ?</div>
<div class="line">[Tuesday 14 September 2010] [13:06:03] &lt;kleppari&gt;   i.e., anonymous users on zguide.zeromq.org</div>
<div class="line">[Tuesday 14 September 2010] [13:06:11] &lt;kleppari&gt;   oh, no, sorry</div>
<div class="line">[Tuesday 14 September 2010] [13:06:14] &lt;guido_g&gt;    w/ the damn cookies</div>
<div class="line">[Tuesday 14 September 2010] [13:06:51] &lt;pieterh&gt;    guido_g: anything different than zeromq.org?</div>
<div class="line">[Tuesday 14 September 2010] [13:07:03] &lt;pieterh&gt;    there&#8217;s nothing special about this site afaics</div>
<div class="line">[Tuesday 14 September 2010] [13:07:06] &lt;Samy&gt;   sustrik, ping?</div>
<div class="line">[Tuesday 14 September 2010] [13:07:21] &lt;guido_g&gt;    i allowed the cookies for zeromq.org and the wikidot server</div>
<div class="line">[Tuesday 14 September 2010] [13:07:49] &lt;guido_g&gt;    but i&#8217;m not going to do that for every new site</div>
<div class="line">[Tuesday 14 September 2010] [13:07:55] &lt;pieterh&gt;    ah, well, allow them for <a href="#id37"><span class="problematic" id="id38">*</span></a>.zeromq.org and <a href="#id39"><span class="problematic" id="id40">*</span></a>.zeromq.com :-)</div>
<div class="line">[Tuesday 14 September 2010] [13:08:08] &lt;pieterh&gt;    why do you disallow them?</div>
<div class="line">[Tuesday 14 September 2010] [13:08:18] &lt;guido_g&gt;    i do not allow cookies generally</div>
<div class="line">[Tuesday 14 September 2010] [13:08:26] &lt;pieterh&gt;    well...</div>
<div class="line">[Tuesday 14 September 2010] [13:08:35] &lt;kleppari&gt;   pieterh: <a class="reference external" href="http://bitbucket.is/zguide.zeromq.org.png">http://bitbucket.is/zguide.zeromq.org.png</a></div>
<div class="line">[Tuesday 14 September 2010] [13:08:48] &lt;pieterh&gt;    kleppari: thanks, I&#8217;ll try it...</div>
<div class="line">[Tuesday 14 September 2010] [13:08:51]   * pieterh recalls people saying &#8220;I don&#8217;t use JavaScript&#8221;</div>
<div class="line">[Tuesday 14 September 2010] [13:09:14] &lt;pieterh&gt;    unfortunately interactive websites kind of need stuff like that</div>
<div class="line">[Tuesday 14 September 2010] [13:09:43] &lt;guido_g&gt;    viewing a page is not interactive</div>
<div class="line">[Tuesday 14 September 2010] [13:10:08] &lt;kleppari&gt;   sorry, screwed up file ownership.  the screenshot of unauthenticated zguide.zeromq.org should be ok now.</div>
<div class="line">[Tuesday 14 September 2010] [13:10:41] &lt;pieterh&gt;    kleppari, hang on, 30 seconds... I&#8217;ll fix it, thanks for the screenshot</div>
<div class="line">[Tuesday 14 September 2010] [13:11:10] &lt;pieterh&gt;    can you try to reload the site please?</div>
<div class="line">[Tuesday 14 September 2010] [13:11:13] &lt;pieterh&gt;    ctrl-R</div>
<div class="line">[Tuesday 14 September 2010] [13:11:23] &lt;kleppari&gt;   like a glove</div>
<div class="line">[Tuesday 14 September 2010] [13:11:25] &lt;kleppari&gt;   thanks :)</div>
<div class="line">[Tuesday 14 September 2010] [13:11:39] &lt;pieterh&gt;    i didn&#8217;t change anything, it was already working... :-)</div>
<div class="line">[Tuesday 14 September 2010] [13:11:50] &lt;pieterh&gt;    since 19:03 CET</div>
<div class="line">[Tuesday 14 September 2010] [13:12:10] &lt;pieterh&gt;    ok, kleppari I appreciate the heads up, kind of stupid to have a Guide no-one can read... :-)</div>
<div class="line">[Tuesday 14 September 2010] [13:12:26] &lt;kleppari&gt;   screenshot snapped at 17:06 GMT.  Weird.</div>
<div class="line">[Tuesday 14 September 2010] [13:12:32] &lt;kleppari&gt;   you&#8217;re welcome</div>
<div class="line">[Tuesday 14 September 2010] [13:12:35] &lt;guido_g&gt;    <a class="reference external" href="http://zguide.zeromq.org/chapter:3">http://zguide.zeromq.org/chapter:3</a>  &lt;- missing</div>
<div class="line">[Tuesday 14 September 2010] [13:12:56] &lt;pieterh&gt;    guido_g, yeah, because Sustrik pointed out that parts of it were bogus</div>
<div class="line">[Tuesday 14 September 2010] [13:13:00] &lt;pieterh&gt;    i&#8217;m rewriting it</div>
<div class="line">[Tuesday 14 September 2010] [13:13:05] &lt;pieterh&gt;    as soon as i finish my pasta and wine</div>
<div class="line">[Tuesday 14 September 2010] [13:13:09] &lt;guido_g&gt;    and why this intermediate page when i click in &#8220;The Guide&#8221; from zeromq.org?</div>
<div class="line">[Tuesday 14 September 2010] [13:13:37] &lt;pieterh&gt;    you&#8217;d rather leap to chapter 1 right away?</div>
<div class="line">[Tuesday 14 September 2010] [13:13:48] &lt;guido_g&gt;    yes</div>
<div class="line">[Tuesday 14 September 2010] [13:13:55] &lt;pieterh&gt;    i mean when you get a book, you see the cover first...</div>
<div class="line">[Tuesday 14 September 2010] [13:14:07] &lt;pieterh&gt;    but ok, can be done...</div>
<div class="line">[Tuesday 14 September 2010] [13:14:08] &lt;guido_g&gt;    the link is named &#8220;The Guide&#8221;</div>
<div class="line">[Tuesday 14 September 2010] [13:14:24] &lt;pieterh&gt;    Yeah, not The Guide Chapter 1 :-)</div>
<div class="line">[Tuesday 14 September 2010] [13:14:36] &lt;guido_g&gt;    not &#8220;promotional intermediate page w/o content&#8221;</div>
<div class="line">[Tuesday 14 September 2010] [13:14:54] &lt;pieterh&gt;    hey, don&#8217;t mock the promotional pages...</div>
<div class="line">[Tuesday 14 September 2010] [13:15:22] &lt;guido_g&gt;    only if you reduce the size of the MQ logo drastically</div>
<div class="line">[Tuesday 14 September 2010] [13:15:25] &lt;pieterh&gt;    delayed gratification...</div>
<div class="line">[Tuesday 14 September 2010] [13:15:40] &lt;pieterh&gt;    OMG don&#8217;t touch the logo, it&#8217;s sacred...</div>
<div class="line">[Tuesday 14 September 2010] [13:15:44] &lt;guido_g&gt;    btw, too much red makes aggressive :)</div>
<div class="line">[Tuesday 14 September 2010] [13:15:53] &lt;pieterh&gt;    ok, the link from the sidebad should now go straight to the first chapter</div>
<div class="line">[Tuesday 14 September 2010] [13:16:20] &lt;guido_g&gt;    nope</div>
<div class="line">[Tuesday 14 September 2010] [13:16:33]   * pieterh is on a lousy 2G modem that takes ages</div>
<div class="line">[Tuesday 14 September 2010] [13:16:55] &lt;guido_g&gt;    ok, i&#8217;ll wait</div>
<div class="line">[Tuesday 14 September 2010] [13:17:20] &lt;pieterh&gt;    guido_g, when you say &#8220;nope&#8221; you mean as in &#8220;oops, I didn&#8217;t reload it and HTTP doesn&#8217;t yet have a autoupdate function&#8221;...?</div>
<div class="line">[Tuesday 14 September 2010] [13:17:57] &lt;guido_g&gt;    pieterh: no, it means &#8220;i pressed relaod like maniac but the thing didn&#8217;t work&#8221;</div>
<div class="line">[Tuesday 14 September 2010] [13:18:09] &lt;pieterh&gt;    works for me...</div>
<div class="line">[Tuesday 14 September 2010] [13:18:22] &lt;pieterh&gt;    go back to www.zeromq.org</div>
<div class="line">[Tuesday 14 September 2010] [13:18:47] &lt;pieterh&gt;    are there more links?  I fixed the one in the sidebar</div>
<div class="line">[Tuesday 14 September 2010] [13:18:51] &lt;pieterh&gt;    what one are you clicking on?</div>
<div class="line">[Tuesday 14 September 2010] [13:18:54] &lt;guido_g&gt;    i am on zeromq.org and open the link in another tab</div>
<div class="line">[Tuesday 14 September 2010] [13:19:04] &lt;guido_g&gt;    after reloading the page</div>
<div class="line">[Tuesday 14 September 2010] [13:19:49] &lt;pieterh&gt;    shrug...it&#8217;s correct... you are reloading zeromq.org?</div>
<div class="line">[Tuesday 14 September 2010] [13:19:57] &lt;guido_g&gt;    yes</div>
<div class="line">[Tuesday 14 September 2010] [13:20:16] &lt;guido_g&gt;    hmmm... cdn thing maybe</div>
<div class="line">[Tuesday 14 September 2010] [13:20:25] &lt;pieterh&gt;    did you sacrifice a chicken to the gnomes of the Internet?</div>
<div class="line">[Tuesday 14 September 2010] [13:20:53] &lt;guido_g&gt;    ahhh... i constantly miss this one (eating the chicken myself)</div>
<div class="line">[Tuesday 14 September 2010] [13:21:07] &lt;pieterh&gt;    might be some caching somewhere your side of things</div>
<div class="line">[Tuesday 14 September 2010] [13:21:19] &lt;pieterh&gt;    it&#8217;s correct, anyhow, just tested again</div>
<div class="line">[Tuesday 14 September 2010] [13:21:31] &lt;guido_g&gt;    ahhh... cdn got the update</div>
<div class="line">[Tuesday 14 September 2010] [13:21:35] &lt;kleppari&gt;   you might also be clicking different links?</div>
<div class="line">[Tuesday 14 September 2010] [13:21:40] &lt;guido_g&gt;    no</div>
<div class="line">[Tuesday 14 September 2010] [13:22:09] &lt;kleppari&gt;   the sidebar link points to chapter one, the other guide links point to the &#8216;promotional&#8217; page</div>
<div class="line">[Tuesday 14 September 2010] [13:22:27]   * pieterh looks for the other guide links</div>
<div class="line">[Tuesday 14 September 2010] [13:22:29] &lt;guido_g&gt;    so remember, it might take approx. 5 minutes til changes become vsisible</div>
<div class="line">[Tuesday 14 September 2010] [13:22:41] &lt;kleppari&gt;   two of them, one under most popular, other in recent site changes</div>
<div class="line">[Tuesday 14 September 2010] [13:22:51] &lt;pieterh&gt;    ah, kleppari, right</div>
<div class="line">[Tuesday 14 September 2010] [13:23:19] &lt;kleppari&gt;   but..  After a little while I like the promotional page</div>
<div class="line">[Tuesday 14 September 2010] [13:23:28] &lt;pieterh&gt;    well, indeed, a book deserves a cover</div>
<div class="line">[Tuesday 14 September 2010] [13:23:40] &lt;pieterh&gt;    bright red</div>
<div class="line">[Tuesday 14 September 2010] [13:24:17] &lt;pieterh&gt;    anyhow, this is always a work in progress, i like to see how people respond over time before making more changes</div>
<div class="line">[Tuesday 14 September 2010] [13:24:48] &lt;kleppari&gt;   I didn&#8217;t get it at first though, started at zeromq.com -&gt; hit read the manual -&gt; clicked &#8216;MQ - The guide&#8217; -&gt; got to zguide.zeromq.org</div>
<div class="line">[Tuesday 14 September 2010] [13:24:51] &lt;guido_g&gt;    pieterh: you&#8217;re on a laptop?</div>
<div class="line">[Tuesday 14 September 2010] [13:25:01] &lt;kleppari&gt;   didn&#8217;t catch the differences between zguide.zeromq.org and zeromq.com right away</div>
<div class="line">[Tuesday 14 September 2010] [13:25:13] &lt;pieterh&gt;    guido_g, on a laptop with a 2G phone modem, eating pasta in a hotel</div>
<div class="line">[Tuesday 14 September 2010] [13:25:26] &lt;guido_g&gt;    it&#8217;S more about the display size</div>
<div class="line">[Tuesday 14 September 2010] [13:25:32] &lt;kleppari&gt;   sounds like a crap hotel :P</div>
<div class="line">[Tuesday 14 September 2010] [13:25:53] &lt;pieterh&gt;    kleppari, it&#8217;s a pretty amazing hotel actually, an old Soviet relic</div>
<div class="line">[Tuesday 14 September 2010] [13:26:04] &lt;pieterh&gt;    guido_g, yes, laptop display</div>
<div class="line">[Tuesday 14 September 2010] [13:26:38] &lt;guido_g&gt;    pieterh: because on my 13&#8221; display the logo takes up apporx. 1/3 of the vertical space</div>
<div class="line">[Tuesday 14 September 2010] [13:26:51] &lt;guido_g&gt;    which is way to much, imho</div>
<div class="line">[Tuesday 14 September 2010] [13:27:08] &lt;guido_g&gt;    worse if i zoom in for better readability</div>
<div class="line">[Tuesday 14 September 2010] [13:27:18] &lt;pieterh&gt;    guido_g, yes, on mine too but it doesn&#8217;t matter on the cover page, and hardly matters on the content pages since you need to scroll anyhow</div>
<div class="line">[Tuesday 14 September 2010] [13:27:33] &lt;kleppari&gt;   looks good on 1280x1024</div>
<div class="line">[Tuesday 14 September 2010] [13:27:42] &lt;pieterh&gt;    we tried using a smaller logo some time ago, people felt it wasn&#8217;t nice</div>
<div class="line">[Tuesday 14 September 2010] [13:28:01] &lt;kleppari&gt;   pieterh: and no rj45 jack?  URL? :)</div>
<div class="line">[Tuesday 14 September 2010] [13:28:20] &lt;guido_g&gt;    ok, i give up</div>
<div class="line">[Tuesday 14 September 2010] [13:28:27] &lt;pieterh&gt;    kleppari, URL? no rj45, no, wifi but it&#8217;s too slow</div>
<div class="line">[Tuesday 14 September 2010] [13:28:48] &lt;kleppari&gt;   url of the hotel website?  or is it too much of a relic?</div>
<div class="line">[Tuesday 14 September 2010] [13:28:49] &lt;pieterh&gt;    guido_g, do start a discussion on look and feel, but this isn&#8217;t the place IMO</div>
<div class="line">[Tuesday 14 September 2010] [13:29:23] &lt;pieterh&gt;    guido_g, the original look was designed by a proper artist, and anything that replaces it would have to be done carefully</div>
<div class="line">[Tuesday 14 September 2010] [13:29:32] &lt;pieterh&gt;    kleppari, it&#8217;s the Hotel Kyjev in Bratislava</div>
<div class="line">[Tuesday 14 September 2010] [13:30:38] &lt;guido_g&gt;    pieterh: i didn&#8217;t complain about the logo, only it&#8217;s size, but nevermind i&#8217;ll find a solution</div>
<div class="line">[Tuesday 14 September 2010] [13:30:57] &lt;pieterh&gt;    guido_g, I do agree the logo is HUGE but my previous attempts to downsize it failed</div>
<div class="line">[Tuesday 14 September 2010] [13:31:23] &lt;guido_g&gt;    ok</div>
<div class="line">[Tuesday 14 September 2010] [13:32:11] &lt;pieterh&gt;    guido_g, what might work is a lighter theme for sites other than the Start Here site</div>
<div class="line">[Tuesday 14 September 2010] [13:32:23] &lt;pieterh&gt;    now that we have more sites, we can fine-tune them</div>
<div class="line">[Tuesday 14 September 2010] [13:38:04] &lt;guido_g&gt;    except for the &#8220;promo&#8221; pages the focus should be on readability</div>
<div class="line">[Tuesday 14 September 2010] [21:50:01] &lt;kenkeiter&gt;  Okay, Rubyists with zmq experience &#8211; question!</div>
<div class="line">[Tuesday 14 September 2010] [22:23:00] &lt;<a href="#id86"><span class="problematic" id="id87">Xin_</span></a>&gt;   test</div>
<div class="line">[Tuesday 14 September 2010] [22:25:21] &lt;<a href="#id88"><span class="problematic" id="id89">Xin_</span></a>&gt;   Does it make sense to add UDP support to 0mq?</div>
<div class="line">[Wednesday 15 September 2010] [04:06:06] &lt;sustrik&gt;  Samy: pong</div>
<div class="line">[Wednesday 15 September 2010] [04:06:38] &lt;Zao&gt;  Doesn&#8217;t PGM stuff travel on UDP already?</div>
<div class="line">[Wednesday 15 September 2010] [04:06:48]     * Zao notes the six hour gap in time.</div>
<div class="line">[Wednesday 15 September 2010] [04:09:05] &lt;sustrik&gt;  Zao: PGM travels on IP</div>
<div class="line">[Wednesday 15 September 2010] [04:09:22] &lt;sustrik&gt;  epgm is a convenience hack that travels on UDP instead of IP</div>
<div class="line">[Wednesday 15 September 2010] [04:09:32] &lt;Zao&gt;  Oh, right.</div>
<div class="line">[Wednesday 15 September 2010] [04:09:43] &lt;Zao&gt;  Never used any of them, so I went with faint memories of manpages past.</div>
<div class="line">[Wednesday 15 September 2010] [05:18:46] &lt;omarkj&gt;   kleppari: Morning.</div>
<div class="line">[Wednesday 15 September 2010] [05:29:15] &lt;mrm2m&gt;    Hey ho!</div>
<div class="line">[Wednesday 15 September 2010] [05:30:25] &lt;mrm2m&gt;    Is there a lightweight introduction, how zmq works internally?</div>
<div class="line">[Wednesday 15 September 2010] [05:33:01] &lt;pieterh&gt;  mrm2m: there is documentation of the source code and there are whitepapers</div>
<div class="line">[Wednesday 15 September 2010] [05:33:11] &lt;pieterh&gt;  but there is nothing lightweight about 0MQ&#8217;s internals, really</div>
<div class="line">[Wednesday 15 September 2010] [05:34:06] &lt;mrm2m&gt;    ok</div>
<div class="line">[Wednesday 15 September 2010] [05:39:21] &lt;Bruc&gt; hey wat sup all</div>
<div class="line">[Wednesday 15 September 2010] [06:00:48] &lt;kleppari&gt; omarkj: hah, hi!</div>
<div class="line">[Wednesday 15 September 2010] [06:01:15] &lt;omarkj&gt;   kleppari: Didn&#8217;t notice you here until now, are you guys using 0mq?</div>
<div class="line">[Wednesday 15 September 2010] [06:01:37] &lt;kleppari&gt; I&#8217;m experimenting a bit</div>
<div class="line">[Wednesday 15 September 2010] [06:02:23] &lt;kleppari&gt; I just love the idea of message passing for concurrency</div>
<div class="line">[Wednesday 15 September 2010] [06:03:08] &lt;kleppari&gt; well, outside of erlang at least</div>
<div class="line">[Wednesday 15 September 2010] [06:05:14] &lt;kleppari&gt; how about yourself?</div>
<div class="line">[Wednesday 15 September 2010] [06:07:23] &lt;omarkj&gt;   Working with it.</div>
<div class="line">[Wednesday 15 September 2010] [06:07:32] &lt;omarkj&gt;   Let&#8217;s go pm. :)</div>
<div class="line">[Wednesday 15 September 2010] [08:49:08] &lt;keffo&gt;    sustrik, I think I might have figured out the concurrency issue</div>
<div class="line">[Wednesday 15 September 2010] [08:49:44] &lt;sustrik&gt;  cremes: here i am</div>
<div class="line">[Wednesday 15 September 2010] [08:50:00] &lt;sustrik&gt;  keffo: so what&#8217;s the problem?</div>
<div class="line">[Wednesday 15 September 2010] [08:51:59] &lt;keffo&gt;    I was rewriting (using poll rather than sequential) and to clean up logging etc, and I just noticed one place where I send a null message before sending the rest, except &#8220;the rest&#8221;  already included the incomin route-null, so I suspect it was being sent twie</div>
<div class="line">[Wednesday 15 September 2010] [08:52:00] &lt;keffo&gt;    twice</div>
<div class="line">[Wednesday 15 September 2010] [08:52:40] &lt;keffo&gt;    nullmore, nullmore, uuidmore, data, etc..</div>
<div class="line">[Wednesday 15 September 2010] [08:52:52] &lt;sustrik&gt;  ok, i see</div>
<div class="line">[Wednesday 15 September 2010] [08:53:05] &lt;sustrik&gt;  so no problem in 0mq to worry about</div>
<div class="line">[Wednesday 15 September 2010] [08:53:10] &lt;keffo&gt;    Not at all</div>
<div class="line">[Wednesday 15 September 2010] [08:53:15] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 15 September 2010] [08:53:22] &lt;keffo&gt;    I never expected that either :)</div>
<div class="line">[Wednesday 15 September 2010] [08:53:48] &lt;sustrik&gt;  you are an optimist then :)</div>
<div class="line">[Wednesday 15 September 2010] [08:54:23] &lt;keffo&gt;    It&#8217;s been very stable and well behaved so far, apart from this issue which is my own fault :)</div>
<div class="line">[Wednesday 15 September 2010] [08:55:46] &lt;keffo&gt;    I did 100k pi calcs yesterday, with 10 worker procs on different machines..  the loadbalancer had ~500kb/s passing through it, and in total more than half a gig of logs were generated.. That&#8217;s when I decided the logging was way wonky, didnt really tell much</div>
<div class="line">[Wednesday 15 September 2010] [09:25:41] &lt;cremes&gt;   sustrik: i&#8217;m available for the next hour or so if you want to chat</div>
<div class="line">[Wednesday 15 September 2010] [09:45:14] &lt;sustrik&gt;  cremes: hi</div>
<div class="line">[Wednesday 15 September 2010] [09:46:04] &lt;sustrik&gt;  give me some context first: why have you moved from ruby-ffi to rbzmq?</div>
<div class="line">[Wednesday 15 September 2010] [09:46:49] &lt;cremes&gt;   there are multiple ruby runtimes; not all of them support the C extension api that rbzmq uses</div>
<div class="line">[Wednesday 15 September 2010] [09:47:00] &lt;cremes&gt;   ffi allows me to support <em>all</em> of the runtimes</div>
<div class="line">[Wednesday 15 September 2010] [09:47:38] &lt;cremes&gt;   oh, and i haven&#8217;t moved from one to the other; i would just like rbzmq to have the same api as ffi-rzmq</div>
<div class="line">[Wednesday 15 September 2010] [09:48:13] &lt;sustrik&gt;  ok, i see</div>
<div class="line">[Wednesday 15 September 2010] [09:48:27] &lt;sustrik&gt;  it looks like brian buchanan is not reponding, right?</div>
<div class="line">[Wednesday 15 September 2010] [09:48:39] &lt;cremes&gt;   right</div>
<div class="line">[Wednesday 15 September 2010] [09:48:48] &lt;sustrik&gt;  ok, i have admin access to the project</div>
<div class="line">[Wednesday 15 September 2010] [09:49:02] &lt;sustrik&gt;  i&#8217;ll add you there as a developer</div>
<div class="line">[Wednesday 15 September 2010] [09:49:10] &lt;mato&gt; sustrik: cremes: a question; i was wondering myself why there were two ruby bindings</div>
<div class="line">[Wednesday 15 September 2010] [09:49:16] &lt;mato&gt; is there any point in keeping both around?</div>
<div class="line">[Wednesday 15 September 2010] [09:49:20] &lt;sustrik&gt;  hi</div>
<div class="line">[Wednesday 15 September 2010] [09:49:37] &lt;mato&gt; if FFI is the way to go then why keep rbzmq at all?</div>
<div class="line">[Wednesday 15 September 2010] [09:50:38] &lt;cremes&gt;   um... i don&#8217;t know; it&#8217;s probably best to get feedback from folks using rbzmq and ask them why they prefer it</div>
<div class="line">[Wednesday 15 September 2010] [09:50:53] &lt;cremes&gt;   i&#8217;m biased towards the ffi one, obviously ;)</div>
<div class="line">[Wednesday 15 September 2010] [09:51:01] &lt;mato&gt; that might be a good idea; having two bindings is IMO confusing</div>
<div class="line">[Wednesday 15 September 2010] [09:51:03] &lt;sustrik&gt;  does it work with any runtime?</div>
<div class="line">[Wednesday 15 September 2010] [09:51:14] &lt;cremes&gt;   that&#8217;s why i was hoping brian buchanan would speak up</div>
<div class="line">[Wednesday 15 September 2010] [09:51:43] &lt;mato&gt; cremes: is there a mailing list for this? I&#8217;ve not seen any discussion on zeromq-dev...</div>
<div class="line">[Wednesday 15 September 2010] [09:52:18] &lt;mato&gt; maybe just ping there, outline the situation (two bindings, ffi works on all runtimes, etc.) and ask the community</div>
<div class="line">[Wednesday 15 September 2010] [09:52:21] &lt;cremes&gt;   this has not been brought up on the zerome-dev list</div>
<div class="line">[Wednesday 15 September 2010] [09:52:39] &lt;cremes&gt;   i&#8217;ll do that</div>
<div class="line">[Wednesday 15 September 2010] [09:53:01] &lt;sustrik&gt;  can you explain how does the runtime interoperability work?</div>
<div class="line">[Wednesday 15 September 2010] [09:53:24] &lt;sustrik&gt;  so far i had an impression that ffi doesn&#8217;t work with all the ruby runtimes</div>
<div class="line">[Wednesday 15 September 2010] [09:53:43] &lt;cremes&gt;   sustrik: as of a few days ago, ffi works with all of the runtimes</div>
<div class="line">[Wednesday 15 September 2010] [09:53:48] &lt;sustrik&gt;  aha</div>
<div class="line">[Wednesday 15 September 2010] [09:53:50] &lt;cremes&gt;   i worked out the last details with the runtime guys</div>
<div class="line">[Wednesday 15 September 2010] [09:53:57] &lt;sustrik&gt;  so it&#8217;s new</div>
<div class="line">[Wednesday 15 September 2010] [09:54:09] &lt;cremes&gt;   the issue with C extensions is that they oftentimes access lots of internal memory structures</div>
<div class="line">[Wednesday 15 September 2010] [09:54:09] &lt;sustrik&gt;  that may actually mean that rbzmq is not needed any more</div>
<div class="line">[Wednesday 15 September 2010] [09:54:57] &lt;mato&gt; cremes: what&#8217;s the status of FFI support for Ruby MRI (i.e. that which most people are using right now)?</div>
<div class="line">[Wednesday 15 September 2010] [09:54:59] &lt;cremes&gt;   ffi allows the runtime authors to hide their implementation details and provide a more solid mechanism for accessing C libraries</div>
<div class="line">[Wednesday 15 September 2010] [09:55:06] &lt;sustrik&gt;  i see</div>
<div class="line">[Wednesday 15 September 2010] [09:55:08] &lt;cremes&gt;   mato: it&#8217;s quite good</div>
<div class="line">[Wednesday 15 September 2010] [09:55:26] &lt;mato&gt; cremes: right, but does &#8220;quite good&#8221; mean &#8220;production quality&#8221;?</div>
<div class="line">[Wednesday 15 September 2010] [09:55:57] &lt;mato&gt; i guess what i&#8217;m asking is if rbzmq goes away then what will that mean for the current mainstream of Ruby MRI users</div>
<div class="line">[Wednesday 15 September 2010] [09:56:11] &lt;mato&gt; will they all just happily start using the FFI binding, or not?</div>
<div class="line">[Wednesday 15 September 2010] [09:56:12] &lt;cremes&gt;   mato: perhaps; i can only speak for how it works with 0mq; obviously we still have hangs until 2.1.x comes out with EINTR support for blocking calls</div>
<div class="line">[Wednesday 15 September 2010] [09:56:39] &lt;mato&gt; sure, but the EINTR hangs are orthogonal to FFI/non-FFI</div>
<div class="line">[Wednesday 15 September 2010] [09:56:41] &lt;sustrik&gt;  well, whatever happens the rbzmq project is not going to be killed</div>
<div class="line">[Wednesday 15 September 2010] [09:56:44] &lt;sustrik&gt;  so no worry</div>
<div class="line">[Wednesday 15 September 2010] [09:56:46] &lt;cremes&gt;   mato: i&#8217;ll ask for feedback on the ML</div>
<div class="line">[Wednesday 15 September 2010] [09:57:04] &lt;sustrik&gt;  the problem is that it doesn&#8217;t have a permanent maintainer</div>
<div class="line">[Wednesday 15 September 2010] [09:57:18] &lt;cremes&gt;   mato: sure, it&#8217;s orthogonal, but it&#8217;s hard to say if there are other bugs when you get a hang</div>
<div class="line">[Wednesday 15 September 2010] [09:57:25] &lt;cremes&gt;   is it due to the blocking behavior or something else?</div>
<div class="line">[Wednesday 15 September 2010] [09:57:31] &lt;mato&gt; well then put a note up about that (lack of maintainer) on the rbzmq project page</div>
<div class="line">[Wednesday 15 September 2010] [09:57:39] &lt;cremes&gt;   i don&#8217;t have the time or energy to run stuff under gdb all of the time to figure that out :)</div>
<div class="line">[Wednesday 15 September 2010] [09:58:07] &lt;cremes&gt;   let&#8217;s take this to the ML and see what users have to say</div>
<div class="line">[Wednesday 15 September 2010] [09:58:10] &lt;mato&gt; yup</div>
<div class="line">[Wednesday 15 September 2010] [09:58:12] &lt;sustrik&gt;  ok</div>
<div class="line">[Wednesday 15 September 2010] [09:58:18] &lt;cremes&gt;   btw, from a search on github most projects are using the ffi-based binding</div>
<div class="line">[Wednesday 15 September 2010] [09:58:36] &lt;cremes&gt;   but i certainly don&#8217;t want to lose or alienate the rbzmq users</div>
<div class="line">[Wednesday 15 September 2010] [09:59:01] &lt;cremes&gt;   which takes us full circle; i&#8217;d like each one to present the same api to the user (based off of the C and C++ binding apis)</div>
<div class="line">[Wednesday 15 September 2010] [09:59:11] &lt;mato&gt; definitely</div>
<div class="line">[Wednesday 15 September 2010] [09:59:22] &lt;mato&gt; otherwise it just all gets way too confusing</div>
<div class="line">[Wednesday 15 September 2010] [09:59:26] &lt;cremes&gt;   if people can switch back and forth with no code changes, that&#8217;s a great situation for the community</div>
<div class="line">[Wednesday 15 September 2010] [09:59:33] &lt;mato&gt; is it much work to synchronize the APIs?</div>
<div class="line">[Wednesday 15 September 2010] [10:00:02] &lt;cremes&gt;   mato: not a lot but unfortunately i don&#8217;t have the C chops to do it myself</div>
<div class="line">[Wednesday 15 September 2010] [10:00:12] &lt;cremes&gt;   so i need someone else to agree to it</div>
<div class="line">[Wednesday 15 September 2010] [10:00:17] &lt;cremes&gt;   to do the work</div>
<div class="line">[Wednesday 15 September 2010] [10:00:42] &lt;mato&gt; cremes: well, ask for help on the list and we&#8217;ll see what happens</div>
<div class="line">[Wednesday 15 September 2010] [10:00:53] &lt;cremes&gt;   will do</div>
<div class="line">[Wednesday 15 September 2010] [10:05:30] &lt;sustrik&gt;  mato: man bug!</div>
<div class="line">[Wednesday 15 September 2010] [10:05:44] &lt;sustrik&gt;  zmq_socket(3):</div>
<div class="line">[Wednesday 15 September 2010] [10:05:47] &lt;sustrik&gt;  &#8220;When a ZMQ_XREQ socket is connected to a ZMQ_REP socket each message sent must consist of an empty message part, the delimiter, followed by one or more body parts.&#8221;</div>
<div class="line">[Wednesday 15 September 2010] [10:05:48] &lt;mato&gt; sustrik: !!?!? :-)</div>
<div class="line">[Wednesday 15 September 2010] [10:06:22] &lt;sustrik&gt;  the identities should be mentioned</div>
<div class="line">[Wednesday 15 September 2010] [10:06:48] &lt;sustrik&gt;  they are definitely mentioned for ZMQ_XREP</div>
<div class="line">[Wednesday 15 September 2010] [10:06:52] &lt;ptrb&gt; yeah, it&#8217;s not really clear to me what work i have to do at the app level to do XREQ/REP (or REQ/XREP)</div>
<div class="line">[Wednesday 15 September 2010] [10:07:09] &lt;mato&gt; uh, yeah, i kind of punted on explaining the identity stack on the XREQ side at the time</div>
<div class="line">[Wednesday 15 September 2010] [10:07:20] &lt;mato&gt; sustrik: that stuff was written in a hurry, you remember :)</div>
<div class="line">[Wednesday 15 September 2010] [10:07:23] &lt;sustrik&gt;  ptrb: there was a nice diagram somewhere...</div>
<div class="line">[Wednesday 15 September 2010] [10:07:39] &lt;mato&gt; sustrik: anyway, it&#8217;s not a bug, it&#8217;s just a simplification :)</div>
<div class="line">[Wednesday 15 September 2010] [10:07:43] &lt;mato&gt; sustrik: i&#8217;ll look into it.</div>
<div class="line">[Wednesday 15 September 2010] [10:08:24] &lt;cremes&gt;   ptrb: was this helpful at all? <a class="reference external" href="http://www.zeromq.org/tutorials:xreq-and-xrep/">http://www.zeromq.org/tutorials:xreq-and-xrep/</a></div>
<div class="line">[Wednesday 15 September 2010] [10:08:39] &lt;cremes&gt;   if not, tell me what is unclear and i&#8217;ll fix it (or edit the page yourself)</div>
<div class="line">[Wednesday 15 September 2010] [10:08:40] &lt;ptrb&gt; <em>clicks</em></div>
<div class="line">[Wednesday 15 September 2010] [10:08:52] &lt;sustrik&gt;  ah &#8211; that&#8217;s the one i meant</div>
<div class="line">[Wednesday 15 September 2010] [10:08:55] &lt;cremes&gt;   i was certainly confused by that stuff which is why i wrote it down</div>
<div class="line">[Wednesday 15 September 2010] [10:09:14] &lt;ptrb&gt; yeah, it definitely helps</div>
<div class="line">[Wednesday 15 September 2010] [10:09:23] &lt;ptrb&gt; but ruby is definitely not the right language to use in examples like this</div>
<div class="line">[Wednesday 15 September 2010] [10:09:47] &lt;ptrb&gt; it&#8217;s as opaque as perl without the benefit of perl&#8217;s saturation</div>
<div class="line">[Wednesday 15 September 2010] [10:09:53] &lt;cremes&gt;   ha</div>
<div class="line">[Wednesday 15 September 2010] [10:10:03] &lt;mato&gt; :-)</div>
<div class="line">[Wednesday 15 September 2010] [10:10:37]     * mato will think of some suitably terse way of describing the identity stack in zmq_socket(3)</div>
<div class="line">[Wednesday 15 September 2010] [10:45:23] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07maint * re2802d9 10/ src/options.cpp : values of RATE, RECOVERY_IVL and SWAP options are checked for negative values - <a class="reference external" href="http://bit.ly/9lAWvv">http://bit.ly/9lAWvv</a></div>
<div class="line">[Wednesday 15 September 2010] [10:46:54] &lt;pieterh&gt;  sustrik: nice to see the validation of option values</div>
<div class="line">[Wednesday 15 September 2010] [10:47:45] &lt;sustrik&gt;  there are 3 bugs filled by cremes :)</div>
<div class="line">[Wednesday 15 September 2010] [10:47:53] &lt;mato&gt; sustrik: incidentally, there&#8217;s one annoying thing regarding the option values</div>
<div class="line">[Wednesday 15 September 2010] [10:48:00] &lt;sustrik&gt;  yes?</div>
<div class="line">[Wednesday 15 September 2010] [10:48:14] &lt;mato&gt; well, it&#8217;s the whole &#8220;option types&#8221; issue</div>
<div class="line">[Wednesday 15 September 2010] [10:48:24] &lt;sustrik&gt;  ?</div>
<div class="line">[Wednesday 15 September 2010] [10:48:26] &lt;mato&gt; one thing that i realised the other day when i was writing some simple test cases</div>
<div class="line">[Wednesday 15 September 2010] [10:48:47] &lt;mato&gt; is that in order to use options sensibly from C, you have to have uint64_t / int64_t defined</div>
<div class="line">[Wednesday 15 September 2010] [10:49:03] &lt;mato&gt; now, obviously those are not defined by zmq.h</div>
<div class="line">[Wednesday 15 September 2010] [10:49:25] &lt;mato&gt; of course if you want to use the API you have to do &#8220;platform specific stuff&#8221; to get those types</div>
<div class="line">[Wednesday 15 September 2010] [10:49:31] &lt;mato&gt; not a good situation :-(</div>
<div class="line">[Wednesday 15 September 2010] [10:50:27] &lt;mato&gt; especially on windows where M$ does not ship stdint.h</div>
<div class="line">[Wednesday 15 September 2010] [10:50:36] &lt;sustrik&gt;  i know</div>
<div class="line">[Wednesday 15 September 2010] [10:50:54] &lt;sustrik&gt;  what can i do without breaking the backward compatibility?</div>
<div class="line">[Wednesday 15 September 2010] [10:51:15] &lt;mato&gt; probably nothing</div>
<div class="line">[Wednesday 15 September 2010] [10:51:20] &lt;sustrik&gt;  :|</div>
<div class="line">[Wednesday 15 September 2010] [10:51:54] &lt;mato&gt; hmm, maybe...</div>
<div class="line">[Wednesday 15 September 2010] [10:52:37] &lt;mato&gt; well, in theory you could define <a href="#id90"><span class="problematic" id="id91">zmq_</span></a> namespaced equivalents of those types including the platform magic in zmq.h, but that&#8217;s kind of ugly</div>
<div class="line">[Wednesday 15 September 2010] [10:52:52] &lt;mato&gt; and it&#8217;d probably still break C++ due to it&#8217;s strict notions of types</div>
<div class="line">[Wednesday 15 September 2010] [10:52:56] &lt;sustrik&gt;  it has to be solved properly</div>
<div class="line">[Wednesday 15 September 2010] [10:53:04] &lt;sustrik&gt;  BSD-style</div>
<div class="line">[Wednesday 15 September 2010] [10:53:13] &lt;mato&gt; hmm</div>
<div class="line">[Wednesday 15 September 2010] [10:53:17] &lt;sustrik&gt;  4-byte unsinged integer in network byte order</div>
<div class="line">[Wednesday 15 September 2010] [10:53:20] &lt;mato&gt; hang on</div>
<div class="line">[Wednesday 15 September 2010] [10:53:21] &lt;sustrik&gt;  and such</div>
<div class="line">[Wednesday 15 September 2010] [10:53:22] &lt;mato&gt; what?</div>
<div class="line">[Wednesday 15 September 2010] [10:53:30] &lt;mato&gt; what does network byte order have to do with it? :)</div>
<div class="line">[Wednesday 15 September 2010] [10:53:45] &lt;sustrik&gt;  that&#8217;s what i do when usign BSD sockets</div>
<div class="line">[Wednesday 15 September 2010] [10:53:52] &lt;mato&gt; ?</div>
<div class="line">[Wednesday 15 September 2010] [10:54:10] &lt;sustrik&gt;  addr.port = htons (port);</div>
<div class="line">[Wednesday 15 September 2010] [10:58:19] &lt;mato&gt; sustrik: ah, you&#8217;re right, i didn&#8217;t realise e.g. sockaddr_in.sin_port was in network byte order</div>
<div class="line">[Wednesday 15 September 2010] [10:58:32] &lt;mato&gt; sustrik: the thing is, the setsockopt stuff is somewhat ad-hoc</div>
<div class="line">[Wednesday 15 September 2010] [10:58:43] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * re2802d9 10/ src/options.cpp : values of RATE, RECOVERY_IVL and SWAP options are checked for negative values - <a class="reference external" href="http://bit.ly/9lAWvv">http://bit.ly/9lAWvv</a></div>
<div class="line">[Wednesday 15 September 2010] [10:58:44] &lt;CIA-20&gt;   zeromq2: 03Martin Sustrik 07master * rff10807 10/ src/options.cpp :</div>
<div class="line">[Wednesday 15 September 2010] [10:58:44] &lt;CIA-20&gt;   zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Wednesday 15 September 2010] [10:58:44] &lt;CIA-20&gt;   zeromq2: * maint:</div>
<div class="line">[Wednesday 15 September 2010] [10:58:44] &lt;CIA-20&gt;   zeromq2:  values of RATE, RECOVERY_IVL and SWAP options are checked for negative values - <a class="reference external" href="http://bit.ly/9P99Fu">http://bit.ly/9P99Fu</a></div>
<div class="line">[Wednesday 15 September 2010] [10:58:48] &lt;mato&gt; it does not use network byte order AFAIK</div>
<div class="line">[Wednesday 15 September 2010] [10:59:18] &lt;mato&gt; sustrik: anyway thinking about it, i guess zmq.h will have to define its own types</div>
<div class="line">[Wednesday 15 September 2010] [11:00:14] &lt;mato&gt; the main problem with that is doing it in a portable fashion :-(</div>
<div class="line">[Wednesday 15 September 2010] [11:07:22] &lt;ptrb&gt; #defines, #defines for everybody!!</div>
<div class="line">[Wednesday 15 September 2010] [11:07:58] &lt;mato&gt; sure, feel free to suggest how to portably define a 64-bit unsigned integer type :-)</div>
<div class="line">[Wednesday 15 September 2010] [11:08:20] &lt;ptrb&gt; you just take two ints and mash &#8216;em together, obviously</div>
<div class="line">[Wednesday 15 September 2010] [11:08:27] &lt;mato&gt; :-)</div>
<div class="line">[Wednesday 15 September 2010] [11:29:09] &lt;sustrik&gt;  mato: btw, there&#8217;s some packaging PATCH on the mailing list</div>
<div class="line">[Wednesday 15 September 2010] [11:29:15] &lt;sustrik&gt;  will you reply to that?</div>
<div class="line">[Wednesday 15 September 2010] [11:30:30] &lt;mato&gt; sustrik: yes, later, i know it&#8217;s there</div>
<div class="line">[Wednesday 15 September 2010] [11:30:32] &lt;mato&gt; have to go now</div>
<div class="line">[Wednesday 15 September 2010] [11:30:45] &lt;sustrik&gt;  ok, there&#8217;s on in the bug tracker as well</div>
<div class="line">[Wednesday 15 September 2010] [11:30:51] &lt;mato&gt; sustrik: i&#8217;d have just applied it but the license stuff needs to be sorted out</div>
<div class="line">[Wednesday 15 September 2010] [11:31:05] &lt;mato&gt; else all i can reply is &#8220;please state your patch is licensed under...&#8221;</div>
<div class="line">[Wednesday 15 September 2010] [11:31:14] &lt;mato&gt; have discussed with pieter will update you this evening</div>
<div class="line">[Wednesday 15 September 2010] [11:31:18] &lt;mato&gt; or pieter will</div>
<div class="line">[Wednesday 15 September 2010] [11:31:19] &lt;mato&gt; bbl</div>
<div class="line">[Wednesday 15 September 2010] [11:31:32] &lt;sustrik&gt;  should i ask for the license?</div>
<div class="line">[Wednesday 15 September 2010] [11:31:46] &lt;mato&gt; don&#8217;t bother lets just fix it</div>
<div class="line">[Wednesday 15 September 2010] [11:31:51] &lt;mato&gt; talk to you in the evening</div>
<div class="line">[Wednesday 15 September 2010] [11:31:54] &lt;sustrik&gt;  ok</div>
<div class="line">[Wednesday 15 September 2010] [11:41:58] &lt;Samy&gt; sustrik, just had some questions regarding zeromq&#8217;s lock-less data structures.</div>
<div class="line">[Wednesday 15 September 2010] [11:42:27] &lt;sustrik&gt;  yes?</div>
<div class="line">[Wednesday 15 September 2010] [11:42:51] &lt;Samy&gt; sustrik, I&#8217;m working on a library to help ease concurrent programming, it includes a plethora of concurrent data structures, synchronization methods and mechanisms for SMR (currently using hazard pointers, considering implementing RCU).</div>
<div class="line">[Wednesday 15 September 2010] [11:43:37] &lt;Samy&gt; sustrik, I was curious if there were some features you would really like to see, and some specific constrainted data structures (M:N consumer/producers) for zeromq.</div>
<div class="line">[Wednesday 15 September 2010] [11:43:52] &lt;Samy&gt; sustrik, I was also curious if SMR was important for ZeroMQ at all.</div>
<div class="line">[Wednesday 15 September 2010] [11:44:38] &lt;sustrik&gt;  sorry, what&#8217;s SMR?</div>
<div class="line">[Wednesday 15 September 2010] [11:44:48] &lt;Samy&gt; sustrik, safe memory reclamation.</div>
<div class="line">[Wednesday 15 September 2010] [11:45:26] &lt;Samy&gt; sustrik, usually it&#8217;s important for unbunded lock-less data structures (simple stack being a great example).</div>
<div class="line">[Wednesday 15 September 2010] [11:46:48] &lt;sustrik&gt;  does it translate to &#8220;make the current state of the memory visible to the other CPU codes&#8221;?</div>
<div class="line">[Wednesday 15 September 2010] [11:47:23] &lt;sustrik&gt;  sorry, i am not an expert on lock-free algos</div>
<div class="line">[Wednesday 15 September 2010] [11:48:03] &lt;Samy&gt; sustrik, well, I guess fundamentally, it&#8217;s more like &#8220;let other CPUs know I am not using this memory&#8221;.</div>
<div class="line">[Wednesday 15 September 2010] [11:48:27] &lt;sustrik&gt;  ah, ok, let me explain what 0mq is doing</div>
<div class="line">[Wednesday 15 September 2010] [11:48:28] &lt;Samy&gt; sustrik, some techniques will require a full barrier (RCU) while others do not (hazard pointers).</div>
<div class="line">[Wednesday 15 September 2010] [11:48:41] &lt;Samy&gt; sustrik, ok.</div>
<div class="line">[Wednesday 15 September 2010] [11:48:57] &lt;sustrik&gt;  the communication always happens between exactly two endpoins</div>
<div class="line">[Wednesday 15 September 2010] [11:49:03] &lt;sustrik&gt;  ie. at most 2 cpu cores</div>
<div class="line">[Wednesday 15 September 2010] [11:49:25] &lt;sustrik&gt;  so each lock-free queue has exactly one writer and exactly one reader</div>
<div class="line">[Wednesday 15 September 2010] [11:49:30] &lt;Samy&gt; Ah, makes it much easier. :-)</div>
<div class="line">[Wednesday 15 September 2010] [11:49:36] &lt;Samy&gt; Sorry, let me pop open the source-code.</div>
<div class="line">[Wednesday 15 September 2010] [11:49:48] &lt;sustrik&gt;  src/ypipe.hpp</div>
<div class="line">[Wednesday 15 September 2010] [11:49:52] &lt;Samy&gt; Thanks, loading.</div>
<div class="line">[Wednesday 15 September 2010] [11:50:26] &lt;sustrik&gt;  what it does basically is that writer is appending new items to the linked list</div>
<div class="line">[Wednesday 15 September 2010] [11:50:39] &lt;sustrik&gt;  the reader is reading items from the linked list</div>
<div class="line">[Wednesday 15 September 2010] [11:50:54] &lt;Samy&gt; I don&#8217;t see any padding, sustrik.</div>
<div class="line">[Wednesday 15 September 2010] [11:51:08] &lt;sustrik&gt;  what padding?</div>
<div class="line">[Wednesday 15 September 2010] [11:51:09] &lt;Samy&gt; Between w and r.</div>
<div class="line">[Wednesday 15 September 2010] [11:51:25] &lt;Samy&gt; sustrik, to prevent false cache line sharing, this improves concurrency.</div>
<div class="line">[Wednesday 15 September 2010] [11:51:36] &lt;sustrik&gt;  that would be nice</div>
<div class="line">[Wednesday 15 September 2010] [11:51:49] &lt;Samy&gt; sustrik, it can be drastic. :-)</div>
<div class="line">[Wednesday 15 September 2010] [11:51:53] &lt;Samy&gt; Let me show you a simple example on this machine.</div>
<div class="line">[Wednesday 15 September 2010] [11:52:57] &lt;sustrik&gt;  ok, so what has to be done is separate the variables that belong to the reader and those that belong to the writer</div>
<div class="line">[Wednesday 15 September 2010] [11:53:04] &lt;sustrik&gt;  and keep them in different cachelines</div>
<div class="line">[Wednesday 15 September 2010] [11:53:06] &lt;sustrik&gt;  right?</div>
<div class="line">[Wednesday 15 September 2010] [11:53:27] &lt;keffo&gt;    the data too</div>
<div class="line">[Wednesday 15 September 2010] [11:53:48] &lt;Samy&gt; [<a class="reference external" href="mailto:sbahra&#37;&#52;&#48;sbahra">sbahra<span>&#64;</span>sbahra</a> validate]$ time ./ck_fifo_spsc 8 1 100000</div>
<div class="line">[Wednesday 15 September 2010] [11:53:49] &lt;Samy&gt; real    0m5.294s</div>
<div class="line">[Wednesday 15 September 2010] [11:53:59] &lt;Samy&gt; [<a class="reference external" href="mailto:sbahra&#37;&#52;&#48;sbahra">sbahra<span>&#64;</span>sbahra</a> validate]$ time ./ck_fifo_spsc 8 1 100000</div>
<div class="line">[Wednesday 15 September 2010] [11:53:59] &lt;Samy&gt; real    0m7.718s</div>
<div class="line">[Wednesday 15 September 2010] [11:54:12] &lt;Samy&gt; sustrik, the latter is without appropriate padding.</div>
<div class="line">[Wednesday 15 September 2010] [11:54:16] &lt;sustrik&gt;  nice</div>
<div class="line">[Wednesday 15 September 2010] [11:54:26] &lt;sustrik&gt;  the data are allocated in a contiguous block</div>
<div class="line">[Wednesday 15 September 2010] [11:54:37] &lt;keffo&gt;    that was pretty substantial, what arch is that?</div>
<div class="line">[Wednesday 15 September 2010] [11:54:54] &lt;sustrik&gt;  to avoid excessive memory allocation</div>
<div class="line">[Wednesday 15 September 2010] [11:54:59] &lt;Samy&gt; sustrik, that is a simple benchmark that creates a token ring using a single-producer/single-consumer lock-less queue (passes around 100000 across 8 threads some number of iterations)</div>
<div class="line">[Wednesday 15 September 2010] [11:55:05] &lt;Samy&gt; keffo, that is on a Nehalem box.</div>
<div class="line">[Wednesday 15 September 2010] [11:55:09] &lt;keffo&gt;    aho</div>
<div class="line">[Wednesday 15 September 2010] [11:55:25] &lt;keffo&gt;    sustrik, You should look into pooling, not only for that</div>
<div class="line">[Wednesday 15 September 2010] [11:55:40] &lt;Samy&gt; sustrik, you want the writer and reader variables to be on a seperate cache line.</div>
<div class="line">[Wednesday 15 September 2010] [11:55:56] &lt;sustrik&gt;  right, i understand that</div>
<div class="line">[Wednesday 15 September 2010] [11:55:56] &lt;Samy&gt; sustrik, so for example, void <a href="#id41"><span class="problematic" id="id42">*</span></a>reader; char pad[56]; void <a href="#id43"><span class="problematic" id="id44">*</span></a>writer; ...</div>
<div class="line">[Wednesday 15 September 2010] [11:56:00] &lt;Samy&gt; sustrik, ok.</div>
<div class="line">[Wednesday 15 September 2010] [11:56:12] &lt;sustrik&gt;  not sure how to do that in portable fashion though</div>
<div class="line">[Wednesday 15 September 2010] [11:56:22] &lt;keffo&gt;    compile time :)</div>
<div class="line">[Wednesday 15 September 2010] [11:56:28] &lt;keffo&gt;    macro hell</div>
<div class="line">[Wednesday 15 September 2010] [11:56:29] &lt;ptrb&gt; did someone say #define??</div>
<div class="line">[Wednesday 15 September 2010] [11:56:32] &lt;ptrb&gt; :D</div>
<div class="line">[Wednesday 15 September 2010] [11:56:34] &lt;Samy&gt; sustrik, not very portable (my library tries to make that portable by doing the hard work of generating those constants at compile-time).</div>
<div class="line">[Wednesday 15 September 2010] [11:56:34] &lt;sustrik&gt;  :)</div>
<div class="line">[Wednesday 15 September 2010] [11:56:49] &lt;Samy&gt; sustrik, but modern IA32 and SPARCv9 boxes I know of all have 64 byte cache lines.</div>
<div class="line">[Wednesday 15 September 2010] [11:56:57] &lt;sustrik&gt;  well, if we assumed the cache line size is 64 bytes</div>
<div class="line">[Wednesday 15 September 2010] [11:56:59] &lt;keffo&gt;    cpuid fiddling works I guess :)</div>
<div class="line">[Wednesday 15 September 2010] [11:57:03] &lt;sustrik&gt;  we would be right in most cases</div>
<div class="line">[Wednesday 15 September 2010] [11:57:06] &lt;sustrik&gt;  no?</div>
<div class="line">[Wednesday 15 September 2010] [11:57:14] &lt;keffo&gt;    all x86_64 is &gt;64 no?</div>
<div class="line">[Wednesday 15 September 2010] [11:57:21] &lt;sustrik&gt;  128?</div>
<div class="line">[Wednesday 15 September 2010] [11:57:22] &lt;Samy&gt; keffo, no.</div>
<div class="line">[Wednesday 15 September 2010] [11:57:25] &lt;Samy&gt; keffo, 64.</div>
<div class="line">[Wednesday 15 September 2010] [11:57:38] &lt;Samy&gt; keffo, when I mean IA32, I mean x86/x86_64.</div>
<div class="line">[Wednesday 15 September 2010] [11:57:41] &lt;keffo&gt;    &gt;=64 then :)</div>
<div class="line">[Wednesday 15 September 2010] [11:57:47] &lt;Samy&gt; I don&#8217;t know of any &gt; 64.</div>
<div class="line">[Wednesday 15 September 2010] [11:58:18] &lt;sustrik&gt;  padding to 64 bytes seems reasonable imo</div>
<div class="line">[Wednesday 15 September 2010] [11:58:34] &lt;keffo&gt;    I meant, x86_64 is presumably &gt;=64, while x86 is not</div>
<div class="line">[Wednesday 15 September 2010] [11:58:50] &lt;sustrik&gt;  that would be 64 bytes per reader and 64 bytes per writer</div>
<div class="line">[Wednesday 15 September 2010] [11:59:06] &lt;sustrik&gt;  the shared varaible should probably be on a separate cahceline</div>
<div class="line">[Wednesday 15 September 2010] [11:59:08] &lt;keffo&gt;    Samy, Have you tried measuring on itanium? :)</div>
<div class="line">[Wednesday 15 September 2010] [11:59:16] &lt;sustrik&gt;  so it&#8217;s 192 bytes per queue</div>
<div class="line">[Wednesday 15 September 2010] [11:59:40] &lt;Samy&gt; keffo, Itanium is very interesting, but barely used, so no.</div>
<div class="line">[Wednesday 15 September 2010] [12:00:06] &lt;Samy&gt; keffo, I would like to work on a port of my library there but I have had design issues, just recently did a major design change.</div>
<div class="line">[Wednesday 15 September 2010] [12:00:07] &lt;keffo&gt;    Yeah, void of any cachemisses it should be</div>
<div class="line">[Wednesday 15 September 2010] [12:00:20] &lt;Samy&gt; sustrik, sorry, can you continue with your explanation of ypipe?</div>
<div class="line">[Wednesday 15 September 2010] [12:00:25] &lt;sustrik&gt;  ah</div>
<div class="line">[Wednesday 15 September 2010] [12:00:42]     * keffo butts out :)</div>
<div class="line">[Wednesday 15 September 2010] [12:00:42] &lt;sustrik&gt;  ok, so part of the list belongs to the writer thread</div>
<div class="line">[Wednesday 15 September 2010] [12:00:50] &lt;sustrik&gt;  part of it to the reader thread</div>
<div class="line">[Wednesday 15 September 2010] [12:01:13] &lt;sustrik&gt;  the only point where the two interact is when reader has no more data to read</div>
<div class="line">[Wednesday 15 September 2010] [12:01:21] &lt;sustrik&gt;  then it does CAS</div>
<div class="line">[Wednesday 15 September 2010] [12:01:33] &lt;sustrik&gt;  to get the writer&#8217;s portion of the list</div>
<div class="line">[Wednesday 15 September 2010] [12:02:01] &lt;Samy&gt; So, basically, you batch the operations?</div>
<div class="line">[Wednesday 15 September 2010] [12:02:06] &lt;sustrik&gt;  exactly</div>
<div class="line">[Wednesday 15 September 2010] [12:02:09] &lt;sustrik&gt;  that&#8217;s the key</div>
<div class="line">[Wednesday 15 September 2010] [12:02:14] &lt;Samy&gt; So, writer does enqueue operations to the queue.</div>
<div class="line">[Wednesday 15 September 2010] [12:02:20] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 15 September 2010] [12:02:21] &lt;Samy&gt; The reader occassionally does a batch dequeue.</div>
<div class="line">[Wednesday 15 September 2010] [12:02:24] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 15 September 2010] [12:02:27] &lt;Samy&gt; Ok.</div>
<div class="line">[Wednesday 15 September 2010] [12:02:48] &lt;Samy&gt; sustrik, why do you use CAS for the batch dequeue? That can be implemented using an xchg, making the batch dequeue a wait-free operation.</div>
<div class="line">[Wednesday 15 September 2010] [12:02:48] &lt;sustrik&gt;  it&#8217;s pretty effective just because of the batching</div>
<div class="line">[Wednesday 15 September 2010] [12:03:24] &lt;sustrik&gt;  hm, i haven&#8217;t seen the code for a long time</div>
<div class="line">[Wednesday 15 September 2010] [12:03:27] &lt;sustrik&gt;  let me have a look</div>
<div class="line">[Wednesday 15 September 2010] [12:04:02] &lt;Samy&gt; It looks like you do a single CAS.</div>
<div class="line">[Wednesday 15 September 2010] [12:04:12] &lt;Samy&gt; Line 137, check_read (I assume?)</div>
<div class="line">[Wednesday 15 September 2010] [12:04:56]     * Samy looks at yqueue</div>
<div class="line">[Wednesday 15 September 2010] [12:05:01] &lt;sustrik&gt;  &#8220;If there are no</div>
<div class="line">[Wednesday 15 September 2010] [12:05:01] &lt;sustrik&gt;              //  items to prefetch, set c to NULL&#8221;</div>
<div class="line">[Wednesday 15 September 2010] [12:05:09] &lt;sustrik&gt;  Samy: yes</div>
<div class="line">[Wednesday 15 September 2010] [12:05:27] &lt;sustrik&gt;  the cas is used to communicate back to the writer</div>
<div class="line">[Wednesday 15 September 2010] [12:05:28] &lt;Samy&gt; You can implement this without any lock-free operations.</div>
<div class="line">[Wednesday 15 September 2010] [12:05:43]     * sustrik is listening</div>
<div class="line">[Wednesday 15 September 2010] [12:06:32] &lt;sustrik&gt;  you mean without atomic ops?</div>
<div class="line">[Wednesday 15 September 2010] [12:06:41] &lt;sustrik&gt;  or bus locking?</div>
<div class="line">[Wednesday 15 September 2010] [12:07:14] &lt;Samy&gt; Without explicit atomic operations.</div>
<div class="line">[Wednesday 15 September 2010] [12:07:40] &lt;Samy&gt; sustrik, the idea is to share a stub node for both tail and head of the queue.</div>
<div class="line">[Wednesday 15 September 2010] [12:08:16] &lt;sustrik&gt;  can you explain in more detail?</div>
<div class="line">[Wednesday 15 September 2010] [12:08:17] &lt;Samy&gt; sustrik, writer updates tail, always updating the next pointer, and reader always assume first node is stub entry.</div>
<div class="line">[Wednesday 15 September 2010] [12:08:31] &lt;Samy&gt; sustrik, I can show you source-code.</div>
<div class="line">[Wednesday 15 September 2010] [12:08:39] &lt;Samy&gt; Let me see if I find it, hold on.</div>
<div class="line">[Wednesday 15 September 2010] [12:09:02] &lt;sustrik&gt;  ok</div>
<div class="line">[Wednesday 15 September 2010] [12:09:35] &lt;sustrik&gt;  how does the communication between two cpu cores happens then?</div>
<div class="line">[Wednesday 15 September 2010] [12:09:41] &lt;sustrik&gt;  cache coherency algos?</div>
<div class="line">[Wednesday 15 September 2010] [12:11:21] &lt;Samy&gt; sustrik, yes.</div>
<div class="line">[Wednesday 15 September 2010] [12:11:35] &lt;Samy&gt; sustrik, the point is, the only time we need to really share state is if the queue is empty.</div>
<div class="line">[Wednesday 15 September 2010] [12:11:43] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 15 September 2010] [12:11:50] &lt;Samy&gt; sustrik, we need a way to detect if the queue is empty atomically and update both head and tail atomically.</div>
<div class="line">[Wednesday 15 September 2010] [12:11:54] &lt;Samy&gt; sustrik, by sharing a stub node, this is possible.</div>
<div class="line">[Wednesday 15 September 2010] [12:12:23] &lt;sustrik&gt;  i think something like that is done in ypipe</div>
<div class="line">[Wednesday 15 September 2010] [12:12:33] &lt;sustrik&gt;  there&#8217;s an emty item in the list</div>
<div class="line">[Wednesday 15 September 2010] [12:12:40] &lt;sustrik&gt;  that servers as a placeholder</div>
<div class="line">[Wednesday 15 September 2010] [12:12:50] &lt;sustrik&gt;  that&#8217;s what you mean by stub, right?</div>
<div class="line">[Wednesday 15 September 2010] [12:12:52] &lt;Samy&gt; Yes.</div>
<div class="line">[Wednesday 15 September 2010] [12:12:57] &lt;Samy&gt; sustrik, <a class="reference external" href="http://codepad.org/gtPkkz57">http://codepad.org/gtPkkz57</a></div>
<div class="line">[Wednesday 15 September 2010] [12:13:20] &lt;Samy&gt; This isn&#8217;t fenced correctly, but that should be fine on IA32.</div>
<div class="line">[Wednesday 15 September 2010] [12:14:08] &lt;sustrik&gt;  i thought that IA requires you to fence explicitely</div>
<div class="line">[Wednesday 15 September 2010] [12:14:23] &lt;sustrik&gt;  ah, you mean x85</div>
<div class="line">[Wednesday 15 September 2010] [12:14:25] &lt;sustrik&gt;  86</div>
<div class="line">[Wednesday 15 September 2010] [12:14:57] &lt;Samy&gt; Yes.</div>
<div class="line">[Wednesday 15 September 2010] [12:15:25] &lt;Samy&gt; The fences may be sufficient, I just haven&#8217;t verified it on non-IA32 yet. :-)</div>
<div class="line">[Wednesday 15 September 2010] [12:15:25] &lt;sustrik&gt;  ok, there&#8217;s one more issue there</div>
<div class="line">[Wednesday 15 September 2010] [12:15:48] &lt;sustrik&gt;  when reader finds out that there are no more items to read</div>
<div class="line">[Wednesday 15 September 2010] [12:15:53] &lt;sustrik&gt;  it goes asleep</div>
<div class="line">[Wednesday 15 September 2010] [12:16:07] &lt;sustrik&gt;  it&#8217;s writers responsibity to wake it up</div>
<div class="line">[Wednesday 15 September 2010] [12:16:29] &lt;sustrik&gt;  so the writer has to be informed about the fact that reader tried to get more items and failed</div>
<div class="line">[Wednesday 15 September 2010] [12:16:41] &lt;Samy&gt; sustrik, futex(2) works well.</div>
<div class="line">[Wednesday 15 September 2010] [12:16:49] &lt;sustrik&gt;  yes, it&#8217;s similar</div>
<div class="line">[Wednesday 15 September 2010] [12:17:10] &lt;sustrik&gt;  but keep in mind that this is a multi-platform app</div>
<div class="line">[Wednesday 15 September 2010] [12:17:47] &lt;Samy&gt; Things sort of suck without futex. :-(</div>
<div class="line">[Wednesday 15 September 2010] [12:18:01] &lt;Samy&gt; (or a similar mechanism, at least in ring-3)</div>
<div class="line">[Wednesday 15 September 2010] [12:18:08] &lt;sustrik&gt;  that&#8217;s how it is :|</div>
<div class="line">[Wednesday 15 September 2010] [12:18:28] &lt;Samy&gt; But you could abstract a generic CV layer that uses futex directly if available.</div>
<div class="line">[Wednesday 15 September 2010] [12:18:40] &lt;Samy&gt; sustrik, where is this wake-up mechanism implemented?</div>
<div class="line">[Wednesday 15 September 2010] [12:18:59] &lt;sustrik&gt;  out of the class, it&#8217;s a dumb socket pair</div>
<div class="line">[Wednesday 15 September 2010] [12:19:09] &lt;sustrik&gt;  i had a futex implementation once</div>
<div class="line">[Wednesday 15 September 2010] [12:19:15] &lt;Samy&gt; What happened?</div>
<div class="line">[Wednesday 15 September 2010] [12:19:22] &lt;sustrik&gt;  but it was pain in the ass to make it work everywhere</div>
<div class="line">[Wednesday 15 September 2010] [12:19:28] &lt;Samy&gt; I see.</div>
<div class="line">[Wednesday 15 September 2010] [12:19:32] &lt;sustrik&gt;  some linux kernels pretend to have futexes</div>
<div class="line">[Wednesday 15 September 2010] [12:19:46] &lt;sustrik&gt;  but astucally return ENOTSUP when you try to use them</div>
<div class="line">[Wednesday 15 September 2010] [12:19:47] &lt;sustrik&gt;  and alike</div>
<div class="line">[Wednesday 15 September 2010] [12:19:57] &lt;Samy&gt; I see.</div>
<div class="line">[Wednesday 15 September 2010] [12:20:14] &lt;sustrik&gt;  anyway, the wake up mechanism is irrelevant for this discussion</div>
<div class="line">[Wednesday 15 September 2010] [12:20:31] &lt;Samy&gt; Mostly, yes.</div>
<div class="line">[Wednesday 15 September 2010] [12:20:36] &lt;sustrik&gt;  what&#8217;s relevant is the writer has to be notified that reader is sleeping</div>
<div class="line">[Wednesday 15 September 2010] [12:20:46] &lt;sustrik&gt;  that&#8217;s what the second cas is for</div>
<div class="line">[Wednesday 15 September 2010] [12:20:55] &lt;sustrik&gt;  in flush function</div>
<div class="line">[Wednesday 15 September 2010] [12:21:17] &lt;Samy&gt; I don&#8217;t understand.</div>
<div class="line">[Wednesday 15 September 2010] [12:21:30] &lt;Samy&gt; Why not simply use plain loads and stores if this is single reader and consumer?</div>
<div class="line">[Wednesday 15 September 2010] [12:22:06] &lt;sustrik&gt;  because one bit of information is passed the other way round</div>
<div class="line">[Wednesday 15 September 2010] [12:22:10] &lt;sustrik&gt;  from reader to writer</div>
<div class="line">[Wednesday 15 September 2010] [12:22:19] &lt;sustrik&gt;  &#8220;i am sleeping&#8221;</div>
<div class="line">[Wednesday 15 September 2010] [12:22:28] &lt;sustrik&gt;  that&#8217;s when c is set to NULL</div>
<div class="line">[Wednesday 15 September 2010] [12:22:50] &lt;sustrik&gt;  maybe it can be done without atomic ops, i am not an expert</div>
<div class="line">[Wednesday 15 September 2010] [12:23:20] &lt;sustrik&gt;  however, if it was a normal locking code, this would be a place where races can occur</div>
<div class="line">[Wednesday 15 September 2010] [12:24:12] &lt;Samy&gt; Ok.</div>
<div class="line">[Wednesday 15 September 2010] [12:24:40] &lt;sustrik&gt;  so, reader tries to get the latest batch of the items</div>
<div class="line">[Wednesday 15 September 2010] [12:24:51] &lt;sustrik&gt;  and if there are none, it sets c to NULL</div>
<div class="line">[Wednesday 15 September 2010] [12:25:29] &lt;sustrik&gt;  in flush function, writer adds new batch of items and if it finds out that c was NULL previously</div>
<div class="line">[Wednesday 15 September 2010] [12:25:35] &lt;sustrik&gt;  it knows the reader is sleeping</div>
<div class="line">[Wednesday 15 September 2010] [12:25:42] &lt;sustrik&gt;  and that it should wake it up</div>
<div class="line">[Wednesday 15 September 2010] [12:26:11] &lt;sustrik&gt;  my feeling is that the operations on c have to be atomic</div>
<div class="line">[Wednesday 15 September 2010] [12:26:18] &lt;sustrik&gt;  not 100% sure though</div>
<div class="line">[Wednesday 15 September 2010] [12:30:42] &lt;Samy&gt; read_asleep = false; loop { old = xchg(top, NULL); if old == null then reader_asleep = true; sleep(); }</div>
<div class="line">[Wednesday 15 September 2010] [12:31:25] &lt;Samy&gt; Sorry, read_asleep is in loop.</div>
<div class="line">[Wednesday 15 September 2010] [12:32:40] &lt;sustrik&gt;  that&#8217;s the writer side?</div>
<div class="line">[Wednesday 15 September 2010] [12:33:50] &lt;Samy&gt; Reader.</div>
<div class="line">[Wednesday 15 September 2010] [12:34:09] &lt;Samy&gt; There is still a risk of spurious wake-up, but that isn&#8217;t a big deal.</div>
<div class="line">[Wednesday 15 September 2010] [12:34:17] &lt;Samy&gt; If it is, then you basically implement a barrier.</div>
<div class="line">[Wednesday 15 September 2010] [12:34:55] &lt;Samy&gt; You have a reader and a writer shared variable. Writer signals reader once, only if reader has signaled writer since last wake-up.</div>
<div class="line">[Wednesday 15 September 2010] [12:35:55] &lt;sustrik&gt;  yes, that&#8217;s the goal</div>
<div class="line">[Wednesday 15 September 2010] [12:36:03] &lt;Samy&gt; And the algorithm.</div>
<div class="line">[Wednesday 15 September 2010] [12:36:15]     * sustrik is a dummy</div>
<div class="line">[Wednesday 15 September 2010] [12:36:21] &lt;Samy&gt; Me too.</div>
<div class="line">[Wednesday 15 September 2010] [12:36:28] &lt;sustrik&gt;  can you give a pseudo-code for writer side as well?</div>
<div class="line">[Wednesday 15 September 2010] [12:38:19] &lt;sustrik&gt;  in the code above reader_asleep is another shared variable, right?</div>
<div class="line">[Wednesday 15 September 2010] [12:39:32] &lt;pieterh&gt;  sustrik: I was trying to say something about options but got interrupted by stuff...</div>
<div class="line">[Wednesday 15 September 2010] [12:40:02] &lt;pieterh&gt;  API should IMO reject an identity starting with zero byte</div>
<div class="line">[Wednesday 15 September 2010] [12:40:19] &lt;sustrik&gt;  now you are likely to get interrupted by brain-damaging lock-free algo discussion :)</div>
<div class="line">[Wednesday 15 September 2010] [12:40:33] &lt;pieterh&gt;  :-/</div>
<div class="line">[Wednesday 15 September 2010] [12:40:34] &lt;sustrik&gt;  yes, that would be nice</div>
<div class="line">[Wednesday 15 September 2010] [12:41:04] &lt;Samy&gt; reader: loop { r = false; store_fence; w = true; o = xchg(top, NULL); if old == null then { r = true; sleep(); } }</div>
<div class="line">[Wednesday 15 September 2010] [12:41:05] &lt;Samy&gt; writer: add(); c_w = w; load_fence; c_r = r; if c_r == true and c_w == true; then { c_w = false; signal_reader; }</div>
<div class="line">[Wednesday 15 September 2010] [12:41:24] &lt;sustrik&gt;  pieter: fancy sumbitting a patch?</div>
<div class="line">[Wednesday 15 September 2010] [12:41:49] &lt;pieterh&gt;  sustrik: I&#8217;m pulling master as we speak, yes I&#8217;ll make you a patch</div>
<div class="line">[Wednesday 15 September 2010] [12:42:45] &lt;sustrik&gt;  thanks</div>
<div class="line">[Wednesday 15 September 2010] [12:42:56] &lt;sustrik&gt;  Samy: sorry, having 3 discussions in parallel</div>
<div class="line">[Wednesday 15 September 2010] [12:43:34] &lt;Samy&gt; Hey, no problem. :-)</div>
<div class="line">[Wednesday 15 September 2010] [12:43:39] &lt;Samy&gt; I&#8217;ll be back in some minutes.</div>
<div class="line">[Wednesday 15 September 2010] [12:43:53] &lt;sustrik&gt;  sure, checking your code right now</div>
<div class="line">[Wednesday 15 September 2010] [12:46:14] &lt;sustrik&gt;  what&#8217;s top?</div>
<div class="line">[Wednesday 15 September 2010] [12:46:50] &lt;sustrik&gt;  which variable belong to whom?</div>
<div class="line">[Wednesday 15 September 2010] [12:46:57] &lt;sustrik&gt;  both r and w seem to be shared</div>
<div class="line">[Wednesday 15 September 2010] [12:49:34] &lt;pieterh&gt;  sustrik: np. options.cpp already checks that... :-)</div>
<div class="line">[Wednesday 15 September 2010] [12:49:43] &lt;sustrik&gt;  good</div>
<div class="line">[Wednesday 15 September 2010] [12:51:56] &lt;Samy&gt; sustrik, yes, they are shared.</div>
<div class="line">[Wednesday 15 September 2010] [12:52:46] &lt;Samy&gt; sustrik, that statement is whatever condition you use to check if the queue is empty.</div>
<div class="line">[Wednesday 15 September 2010] [12:53:17] &lt;sustrik&gt;  this one: o = xchg(top, NULL); ?</div>
<div class="line">[Wednesday 15 September 2010] [12:53:25] &lt;Samy&gt; That and next.</div>
<div class="line">[Wednesday 15 September 2010] [12:53:34] &lt;Samy&gt; o == null</div>
<div class="line">[Wednesday 15 September 2010] [12:53:35] &lt;Samy&gt; (not old)</div>
<div class="line">[Wednesday 15 September 2010] [12:54:11] &lt;sustrik&gt;  do c_r and c_w are local to writer</div>
<div class="line">[Wednesday 15 September 2010] [12:54:17] &lt;Samy&gt; Yes.</div>
<div class="line">[Wednesday 15 September 2010] [12:54:32]     * sustrik is trying to make sense of it</div>
<div class="line">[Wednesday 15 September 2010] [12:54:58] &lt;Samy&gt; The reason we have 2 variables is that writer will signal the reader only once.</div>
<div class="line">[Wednesday 15 September 2010] [12:55:40] &lt;Samy&gt; The reader will then wake-up, and if the queue is empty it will indicate that it is asleep and it is fine for the writer to send another signal.</div>
<div class="line">[Wednesday 15 September 2010] [12:56:22] &lt;Samy&gt; sustrik, if you treat it like a stack, it will make more sense.</div>
<div class="line">[Wednesday 15 September 2010] [12:56:50] &lt;sustrik&gt;  Samy: stack of what?</div>
<div class="line">[Wednesday 15 September 2010] [12:56:54] &lt;Samy&gt; sustrik, for a FIFO, you can use another technique.</div>
<div class="line">[Wednesday 15 September 2010] [12:57:04] &lt;Samy&gt; sustrik, of objects.</div>
<div class="line">[Wednesday 15 September 2010] [12:57:11] &lt;sustrik&gt;  that&#8217;s the case in 0MQ</div>
<div class="line">[Wednesday 15 September 2010] [12:57:20] &lt;Samy&gt; sustrik, this is in reference of xchg(top, ...) :)</div>
<div class="line">[Wednesday 15 September 2010] [12:57:32] &lt;Samy&gt; sustrik, what&#8217;s of relevance to you is the notion of the r and w variables, that&#8217;s all.</div>
<div class="line">[Wednesday 15 September 2010] [12:58:03] &lt;sustrik&gt;  r = &#8220;i am sleeeping&#8221;</div>
<div class="line">[Wednesday 15 September 2010] [12:58:14] &lt;sustrik&gt;  what abour w?</div>
<div class="line">[Wednesday 15 September 2010] [12:58:19] &lt;sustrik&gt;  about*</div>
<div class="line">[Wednesday 15 September 2010] [12:58:39] &lt;Samy&gt; w = &#8220;reader has woken-up since the last signal&#8221;</div>
<div class="line">[Wednesday 15 September 2010] [12:59:20] &lt;sustrik&gt;  soemging is missing</div>
<div class="line">[Wednesday 15 September 2010] [12:59:25] &lt;sustrik&gt;  w is never set to false</div>
<div class="line">[Wednesday 15 September 2010] [12:59:34] &lt;Samy&gt; Oh, sorry.</div>
<div class="line">[Wednesday 15 September 2010] [12:59:44] &lt;Samy&gt; { c_w = false; signal_reader; }  should be { w = false; signal_reader; }</div>
<div class="line">[Wednesday 15 September 2010] [13:00:14] &lt;sustrik&gt;  lk,now it makes sense</div>
<div class="line">[Wednesday 15 September 2010] [13:00:56] &lt;sustrik&gt;  now, what about the fences</div>
<div class="line">[Wednesday 15 September 2010] [13:01:29] &lt;sustrik&gt;  does it sync the data in the queue as well?</div>
<div class="line">[Wednesday 15 September 2010] [13:02:03] &lt;Samy&gt; You can figure that out.</div>
<div class="line">[Wednesday 15 September 2010] [13:02:22] &lt;Samy&gt; That is mainly meant for those flags.</div>
<div class="line">[Wednesday 15 September 2010] [13:02:56] &lt;Samy&gt; The idea, reader should always appear to be set to false before writer is set to true (it must indicate it has woken up before it indicates it is fine to send another signal).</div>
<div class="line">[Wednesday 15 September 2010] [13:03:42] &lt;sustrik&gt;  got it</div>
<div class="line">[Wednesday 15 September 2010] [13:04:14] &lt;sustrik&gt;  that part ensures that everything happens in nice step-lock fashion</div>
<div class="line">[Wednesday 15 September 2010] [13:04:19] &lt;Samy&gt; Right.</div>
<div class="line">[Wednesday 15 September 2010] [13:04:42] &lt;sustrik&gt;  now few technical questions...</div>
<div class="line">[Wednesday 15 September 2010] [13:04:49] &lt;Samy&gt; I&#8217;m no expert, but ok.</div>
<div class="line">[Wednesday 15 September 2010] [13:05:02] &lt;sustrik&gt;  what does lock;xchg() actually means</div>
<div class="line">[Wednesday 15 September 2010] [13:05:11] &lt;sustrik&gt;  is there an implied barrier?</div>
<div class="line">[Wednesday 15 September 2010] [13:05:29] &lt;Samy&gt; On IA32, atomic operations have a total order across all processors.</div>
<div class="line">[Wednesday 15 September 2010] [13:05:46] &lt;Samy&gt; There is an implicit pipeline flush.</div>
<div class="line">[Wednesday 15 September 2010] [13:06:11] &lt;Samy&gt; There is an implied barrier.</div>
<div class="line">[Wednesday 15 September 2010] [13:06:24] &lt;Samy&gt; There is also no need for the lock prefix on xchg.</div>
<div class="line">[Wednesday 15 September 2010] [13:06:41] &lt;Samy&gt; xchg is guaranteed to be atomic (which is what also makes it expensive to use, if you don&#8217;t need it).</div>
<div class="line">[Wednesday 15 September 2010] [13:06:42] &lt;sustrik&gt;  in that case there&#8217;s no global ordering, right?</div>
<div class="line">[Wednesday 15 September 2010] [13:06:52] &lt;Samy&gt; Usually, yes.</div>
<div class="line">[Wednesday 15 September 2010] [13:07:10] &lt;Samy&gt; add is not guaranteed to be atomic, lock add is.</div>
<div class="line">[Wednesday 15 September 2010] [13:07:16] &lt;Samy&gt; xchg is always atomic.</div>
<div class="line">[Wednesday 15 September 2010] [13:07:21] &lt;sustrik&gt;  oh my</div>
<div class="line">[Wednesday 15 September 2010] [13:07:41] &lt;Samy&gt; It&#8217;s expensive compared to simple loads and stores, that&#8217;s for sure.</div>
<div class="line">[Wednesday 15 September 2010] [13:07:41] &lt;sustrik&gt;  so there&#8217;s an implied barrier on xchg, right?</div>
<div class="line">[Wednesday 15 September 2010] [13:07:45] &lt;Samy&gt; Yes.</div>
<div class="line">[Wednesday 15 September 2010] [13:07:58] &lt;sustrik&gt;  then, in your code we have 2 barriers</div>
<div class="line">[Wednesday 15 September 2010] [13:08:03] &lt;Samy&gt; For more information, you can see Volume 3 of the Intel Architecture Manuals, Chapter 8.</div>
<div class="line">[Wednesday 15 September 2010] [13:08:37] &lt;sustrik&gt;  isn&#8217;t it better to use single cas with a barrier then?</div>
<div class="line">[Wednesday 15 September 2010] [13:08:38] &lt;Samy&gt; sustrik, you don&#8217;t need any of those barriers for IA32. Stores are always seen in order.</div>
<div class="line">[Wednesday 15 September 2010] [13:09:19] &lt;Samy&gt; sustrik, CAS is expensive.</div>
<div class="line">[Wednesday 15 September 2010] [13:09:31] &lt;Samy&gt; sustrik, it&#8217;s best to avoid the lock prefix completely if possible.</div>
<div class="line">[Wednesday 15 September 2010] [13:09:37] &lt;sustrik&gt;  ack</div>
<div class="line">[Wednesday 15 September 2010] [13:09:41] &lt;Samy&gt; sustrik, atomic loads and stores do this.</div>
<div class="line">[Wednesday 15 September 2010] [13:10:08] &lt;sustrik&gt;  atomic load &amp; stores == have global ordering ?</div>
<div class="line">[Wednesday 15 September 2010] [13:10:12] &lt;Samy&gt; sustrik, in theory, CAS can provide infinite consensus. If you don&#8217;t need infinite consensus, you might not need CAS at all.</div>
<div class="line">[Wednesday 15 September 2010] [13:10:50] &lt;sustrik&gt;  anyway, i have to get my head around it</div>
<div class="line">[Wednesday 15 September 2010] [13:11:00] &lt;sustrik&gt;  are you around somewhere?</div>
<div class="line">[Wednesday 15 September 2010] [13:11:01] &lt;Samy&gt; Processor ordering.</div>
<div class="line">[Wednesday 15 September 2010] [13:11:10] &lt;sustrik&gt;  email, or so?</div>
<div class="line">[Wednesday 15 September 2010] [13:11:20] &lt;Samy&gt; <a class="reference external" href="mailto:sbahra&#37;&#52;&#48;repnop&#46;org">sbahra<span>&#64;</span>repnop<span>&#46;</span>org</a></div>
<div class="line">[Wednesday 15 September 2010] [13:11:29] &lt;Samy&gt; sustrik, I&#8217;d love your feedback on this library I&#8217;m working on sometime.</div>
<div class="line">[Wednesday 15 September 2010] [13:11:36] &lt;Samy&gt; sustrik, what architectures does ZeroMQ support?</div>
<div class="line">[Wednesday 15 September 2010] [13:12:26] &lt;sustrik&gt;  we&#8217;ve tested on x86, itanium, sparc, ppc</div>
<div class="line">[Wednesday 15 September 2010] [13:12:28] &lt;sustrik&gt;  arm</div>
<div class="line">[Wednesday 15 September 2010] [13:12:29] &lt;Samy&gt; sustrik, if you see section 8.2.2 in Volume 3 of the IA32 manuals, you&#8217;ll get a nice break-down of the memory ordering.</div>
<div class="line">[Wednesday 15 September 2010] [13:12:58] &lt;Samy&gt; sustrik, does the ZeroMQ project have regular access to such boxes?</div>
<div class="line">[Wednesday 15 September 2010] [13:13:21] &lt;sustrik&gt;  we have an itanium and sparc box</div>
<div class="line">[Wednesday 15 September 2010] [13:13:28] &lt;sustrik&gt;  no ppc</div>
<div class="line">[Wednesday 15 September 2010] [13:13:28] &lt;Samy&gt; Itanium, nice. :-)</div>
<div class="line">[Wednesday 15 September 2010] [13:13:38] &lt;Samy&gt; My PPC box died (Mac Mini) recently. Need to fix it.</div>
<div class="line">[Wednesday 15 September 2010] [13:14:01] &lt;Samy&gt; I sold my only decent SPARCv9 box, at work our SPARCv9 machines are tied to our build cluster.</div>
<div class="line">[Wednesday 15 September 2010] [13:14:21] &lt;Samy&gt; sustrik, if I could get accounts on those, I can port my library&#8217;s atomic interface for them to support those.</div>
<div class="line">[Wednesday 15 September 2010] [13:14:31] &lt;Samy&gt; sustrik, might be useful, at least as a reference implementation of some structures.</div>
<div class="line">[Wednesday 15 September 2010] [13:15:09] &lt;Samy&gt; sustrik, ;]</div>
<div class="line">[Wednesday 15 September 2010] [13:15:46] &lt;sustrik&gt;  our sparc box is extremely old and slow :)</div>
<div class="line">[Wednesday 15 September 2010] [13:15:54] &lt;Samy&gt; Itanium is fine too.</div>
<div class="line">[Wednesday 15 September 2010] [13:16:07] &lt;Samy&gt; Well, Itanium is what I really want access to.</div>
<div class="line">[Wednesday 15 September 2010] [13:16:10] &lt;sustrik&gt;  but mato mumbled something about bringing some 14-core sparc</div>
<div class="line">[Wednesday 15 September 2010] [13:16:16] &lt;sustrik&gt;  ah</div>
<div class="line">[Wednesday 15 September 2010] [13:16:36] &lt;sustrik&gt;  i have to ask mato, i think there&#8217;s some applications running on it</div>
<div class="line">[Wednesday 15 September 2010] [13:16:42] &lt;keffo&gt;    sandy bridge ftw!</div>
<div class="line">[Wednesday 15 September 2010] [13:16:48] &lt;Samy&gt; sustrik, ok.</div>
<div class="line">[Wednesday 15 September 2010] [13:17:20] &lt;Samy&gt; I look forward to future discussions. I would like to show you the work I&#8217;ve done so far for feedback.</div>
<div class="line">[Wednesday 15 September 2010] [13:17:34] &lt;Samy&gt; It is C, not C++, however.</div>
<div class="line">[Wednesday 15 September 2010] [13:17:41] &lt;sustrik&gt;  Samy, i can have a look but as you see i am not an expert :)</div>
<div class="line">[Wednesday 15 September 2010] [13:18:13] &lt;Samy&gt; Well, that&#8217;s fine. The idea is, what would it take to make you use this? As a 3rd party looking to integrate this into their product, what issues do you have with the interface?</div>
<div class="line">[Wednesday 15 September 2010] [13:18:28] &lt;Samy&gt; etc</div>
<div class="line">[Wednesday 15 September 2010] [13:18:35] &lt;sustrik&gt;  what&#8217;s the link to the lib?</div>
<div class="line">[Wednesday 15 September 2010] [13:18:43] &lt;kleppari&gt; we&#8217;re ditching a couple of sun t1000 boxes at work</div>
<div class="line">[Wednesday 15 September 2010] [13:18:48] &lt;Samy&gt; No link. Tarball, sustrik.</div>
<div class="line">[Wednesday 15 September 2010] [13:18:54] &lt;Samy&gt; When we have a discussion, I can share that.</div>
<div class="line">[Wednesday 15 September 2010] [13:18:55] &lt;kleppari&gt; let me see if I can &#8216;rescue&#8217; on of them</div>
<div class="line">[Wednesday 15 September 2010] [13:19:07] &lt;kleppari&gt; s/on/one/</div>
<div class="line">[Wednesday 15 September 2010] [13:19:38] &lt;sustrik&gt;  Samy: <a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a></div>
<div class="line">[Wednesday 15 September 2010] [13:20:11] &lt;Samy&gt; Cool.</div>
<div class="line">[Wednesday 15 September 2010] [13:20:19] &lt;Samy&gt; I&#8217;m back to work, take care.</div>
<div class="line">[Wednesday 15 September 2010] [13:20:41] &lt;sustrik&gt;  you too</div>
<div class="line">[Wednesday 15 September 2010] [13:20:42] &lt;sustrik&gt;  bye</div>
<div class="line">[Wednesday 15 September 2010] [13:20:47] &lt;sustrik&gt;  kleppari: i don&#8217;t think it&#8217;s really needed</div>
<div class="line">[Wednesday 15 September 2010] [13:21:15] &lt;sustrik&gt;  unless you need it yourself</div>
<div class="line">[Wednesday 15 September 2010] [13:21:41] &lt;kleppari&gt; not really</div>
<div class="line">[Wednesday 15 September 2010] [13:21:47] &lt;kleppari&gt; kind of lost interest in solaris after oracle bought it</div>
<div class="line">[Wednesday 15 September 2010] [13:21:53] &lt;kleppari&gt; err, after oracle bought sun</div>
<div class="line">[Wednesday 15 September 2010] [13:22:00] &lt;kleppari&gt; I think they&#8217;ll do a wonderful job killing it</div>
<div class="line">[Wednesday 15 September 2010] [13:22:23] &lt;sustrik&gt;  yeah, looks like there will be a lot of sun boxes avialable :)</div>
<div class="line">[Wednesday 15 September 2010] [13:22:42] &lt;kleppari&gt; heh, yeah - red hat will make a fortune</div>
<div class="line">[Wednesday 15 September 2010] [13:23:37] &lt;kleppari&gt; but the t1000 was a good box, I still think 16 concurrent threads of execution per core is impressive</div>
<div class="line">[Wednesday 15 September 2010] [13:24:57] &lt;kleppari&gt; t2000, sorry</div>
<div class="line">[Wednesday 15 September 2010] [13:29:59] &lt;pieterh&gt;  kleppari: we used to have a t2000 at iMatix when we were making OpenAMQ</div>
<div class="line">[Wednesday 15 September 2010] [13:30:11] &lt;pieterh&gt;  it was a pretty impressive box, made a noise like an aircraft taking off</div>
<div class="line">[Wednesday 15 September 2010] [13:30:30] &lt;pieterh&gt;  and was slower (all 32 cores or whatever) than a 2-core Athlon</div>
<div class="line">[Wednesday 15 September 2010] [13:31:10] &lt;mato&gt; pieterh: it still might be more useful than the old e4500 i can get for the project</div>
<div class="line">[Wednesday 15 September 2010] [13:31:16] &lt;kleppari&gt; slower at what?</div>
<div class="line">[Wednesday 15 September 2010] [13:31:22] &lt;mato&gt; pieterh: 0mq is a very different codebase from OpenAMQ</div>
<div class="line">[Wednesday 15 September 2010] [13:32:01] &lt;pieterh&gt;  mato: perhaps, yes</div>
<div class="line">[Wednesday 15 September 2010] [13:32:12] &lt;mato&gt; kleppari: if you do get a chance to rescue one i think it&#8217;d be more interesting for development of the lockfree algorithms in 0mq than what i&#8217;ve been offered</div>
<div class="line">[Wednesday 15 September 2010] [13:32:14] &lt;pieterh&gt;  kleppari: at raw I/O afaics</div>
<div class="line">[Wednesday 15 September 2010] [13:32:24] &lt;pieterh&gt;  but the main difference was probably Linux vs. Solaris</div>
<div class="line">[Wednesday 15 September 2010] [13:32:25] &lt;mato&gt; kleppari: which is an old E4500 (fully spec&#8217;ed with 14 CPUs)</div>
<div class="line">[Wednesday 15 September 2010] [13:32:34] &lt;kleppari&gt; I found that these boxes perform pretty well with a huge runqueue</div>
<div class="line">[Wednesday 15 September 2010] [13:32:42] &lt;kleppari&gt; mato: let me see what I can do</div>
<div class="line">[Wednesday 15 September 2010] [13:32:50] &lt;pieterh&gt;  they were designed for web services, indeed</div>
<div class="line">[Wednesday 15 September 2010] [13:32:56] &lt;kleppari&gt; mato: can&#8217;t promise anything, though, but I&#8217;ll try</div>
<div class="line">[Wednesday 15 September 2010] [13:33:10] &lt;mato&gt; kleppari: no hurry; also, where are you located? it&#8217;s not worth shipping that stuff from outside of the EU, too expensive</div>
<div class="line">[Wednesday 15 September 2010] [13:33:18] &lt;kleppari&gt; iceland</div>
<div class="line">[Wednesday 15 September 2010] [13:33:22] &lt;mato&gt; lol :)</div>
<div class="line">[Wednesday 15 September 2010] [13:33:29] &lt;kleppari&gt; so the shipping might kill the deal :P</div>
<div class="line">[Wednesday 15 September 2010] [13:33:42] &lt;mato&gt; kleppari: precisely, unless you have friends at smyril line :-)</div>
<div class="line">[Wednesday 15 September 2010] [13:33:54] &lt;mato&gt; &#8220;chuck it down with them bananas&#8221; :-)</div>
<div class="line">[Wednesday 15 September 2010] [13:34:12] &lt;kleppari&gt; heheh</div>
<div class="line">[Wednesday 15 September 2010] [13:35:50] &lt;kleppari&gt; I don&#8217;t think we&#8217;d be shipping bananas out of the country, but fair point :P</div>
<div class="line">[Wednesday 15 September 2010] [13:36:15] &lt;pieterh&gt;  hey... ebay is offering free shipping or something...</div>
<div class="line">[Wednesday 15 September 2010] [13:36:54] &lt;mato&gt; kleppari: thanks for the offer in any case</div>
<div class="line">[Wednesday 15 September 2010] [13:36:58]     * mato is off to 0beer :-)</div>
<div class="line">[Wednesday 15 September 2010] [13:37:05] &lt;pieterh&gt;  0beer0clock</div>
<div class="line">[Wednesday 15 September 2010] [13:37:08] &lt;mato&gt; beer</div>
<div class="line">[Wednesday 15 September 2010] [13:37:12] &lt;pieterh&gt;  zbeer</div>
<div class="line">[Wednesday 15 September 2010] [13:37:13] &lt;mato&gt; cyl</div>
<div class="line">[Wednesday 15 September 2010] [13:37:18] &lt;pieterh&gt;  cyrsn</div>
<div class="line">[Wednesday 15 September 2010] [13:38:10]     * pieterh suspects mato has a macro that types</div>
<div class="line">[Wednesday 15 September 2010] [13:38:22] &lt;mato&gt; !</div>
<div class="line">[Wednesday 15 September 2010] [13:38:56] &lt;pieterh&gt;  :-) I knew it...</div>
<div class="line">[Wednesday 15 September 2010] [13:39:08] &lt;pieterh&gt;  oh... hang on...</div>
<div class="line">[Wednesday 15 September 2010] [13:39:45]     * pieterh wonders how to config xmodmap to do this...</div>
<div class="line">[Wednesday 15 September 2010] [13:43:42] &lt;kleppari&gt; alt gr + o ?</div>
<div class="line">[Wednesday 15 September 2010] [13:43:45] &lt;kleppari&gt; works on the .is layout</div>
<div class="line">[Wednesday 15 September 2010] [13:44:07] &lt;guido_g&gt;  and on 105 key .de (qwertz)</div>
<div class="line">[Wednesday 15 September 2010] [13:44:39] &lt;guido_g&gt;  and I just saw that ch. 3 is back...</div>
<div class="line">[Wednesday 15 September 2010] [13:44:45] &lt;pieterh&gt;  yeah, I fixed it</div>
<div class="line">[Wednesday 15 September 2010] [13:45:03]     * guido_g is reading</div>
<div class="line">[Wednesday 15 September 2010] [13:46:48] &lt;pieterh&gt;  cyal, i&#8217;m off for zbeer</div>
<div class="line">[Wednesday 15 September 2010] [13:47:19] &lt;pieterh&gt;  guido_g: there&#8217;s also a new problem solver in Ch1</div>
<div class="line">[Wednesday 15 September 2010] [13:47:35] &lt;guido_g&gt;  oh...</div>
<div class="line">[Wednesday 15 September 2010] [13:50:32] &lt;guido_g&gt;  nice one</div>
<div class="line">[Wednesday 15 September 2010] [13:50:54] &lt;guido_g&gt;  but can you do it in uml?</div>
<div class="line">[Wednesday 15 September 2010] [13:51:01] &lt;guido_g&gt;  <em>ducks for cover</em></div>
<div class="line">[Wednesday 15 September 2010] [13:53:25] &lt;guido_g&gt;  more serious thing: smaller version that fits on one page so it can be printed easily</div>
<div class="line">[Wednesday 15 September 2010] [14:04:28] &lt;keffo&gt;    sustrik, What scenario could trigger a deadlock? (in single threaded proc.)</div>
<div class="line">[Wednesday 15 September 2010] [15:09:33] &lt;Samy&gt; sustrik, ping?</div>
<div class="line">[Wednesday 15 September 2010] [15:09:38] &lt;Samy&gt; sustrik, <a class="reference external" href="http://codepad.org/u1DWN3FG">http://codepad.org/u1DWN3FG</a> is the correct version.</div>
<div class="line">[Wednesday 15 September 2010] [15:27:41] &lt;ModusPwnens&gt;  Does zeromq have a lot of start up overhead of initialization?</div>
<div class="line">[Wednesday 15 September 2010] [15:27:46] &lt;ModusPwnens&gt;  or initialization*</div>
<div class="line">[Wednesday 15 September 2010] [15:36:47] &lt;ModusPwnens&gt;  the only reason I ask is because i keep getting strange results when I benchmark where the throughput is low intially, but then gradually increases</div>
<div class="line">[Wednesday 15 September 2010] [22:17:24] &lt;lestrrat&gt; is there some sort of debug flag to enable tracing or some such for zeromq?</div>
<div class="line">[Wednesday 15 September 2010] [22:17:46] &lt;lestrrat&gt; I&#8217;m having problems, and want to know what&#8217;s going on in the zeromq side...</div>
<div class="line">[Wednesday 15 September 2010] [22:56:14] &lt;dermoth&gt;  lestrrat, maybe strace would help, but it might be a bit low-level depending on what you need to figure out</div>
<div class="line">[Wednesday 15 September 2010] [22:57:28] &lt;dermoth&gt;  lestrrat, fwiw if you&#8217;re using short-lived processes then some queues have no way to guarantee all messages have been delivered before shutdown; when you call zmq_send data is only bufered in a local queue to be sent to the remote end</div>
<div class="line">[Wednesday 15 September 2010] [23:03:52] &lt;lestrrat&gt; thanks, gonna have to RFE a TRACE variable or something ;)</div>
<div class="line">[Thursday 16 September 2010] [03:12:21] &lt;dermoth&gt;   I was trying out the php-zmq module today, and it appears some tests die with an assertion failed with &#8211;enable-pgm in the zeromq library</div>
<div class="line">[Thursday 16 September 2010] [03:12:43] &lt;dermoth&gt;   not that I need it though...</div>
<div class="line">[Thursday 16 September 2010] [03:14:05] &lt;dermoth&gt;   the error is: Assertion failed: !pgm_supported () (zmq.cpp:240)</div>
<div class="line">[Thursday 16 September 2010] [03:47:30] &lt;sustrik&gt;   dermoth: don&#8217;t ope 2 contexts</div>
<div class="line">[Thursday 16 September 2010] [03:47:33] &lt;sustrik&gt;   open</div>
<div class="line">[Thursday 16 September 2010] [04:03:49] Notice  -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 16 September 2010] [04:03:50] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 16 September 2010] [04:32:26] Notice  -NickServ- travlr__ is not a registered nickname.</div>
<div class="line">[Thursday 16 September 2010] [04:32:27] CTCP    Received Version request from frigg.</div>
<div class="line">[Thursday 16 September 2010] [05:26:25] &lt;lestrrat&gt;  cool, it wasn&#8217;t just me who got bit with multiple contexts + pgm ;)</div>
<div class="line">[Thursday 16 September 2010] [06:05:00] &lt;sustrik&gt;   lestrrat: steven mc coy have already started migrating 0mq to new version of openpgm that should have the problem solved</div>
<div class="line">[Thursday 16 September 2010] [06:05:07] &lt;sustrik&gt;   see here: <a class="reference external" href="http://github.com/steve-o/zeromq2">http://github.com/steve-o/zeromq2</a></div>
<div class="line">[Thursday 16 September 2010] [06:05:19] &lt;sustrik&gt;   but it&#8217;s work in progress, no guarantees</div>
<div class="line">[Thursday 16 September 2010] [09:05:38] &lt;psino&gt; in zmq 2.1, zmq_close wont discard that is queued for sending &#8211; is anything similar going to be implemented for data that has arrived, and are pending recv-calls?</div>
<div class="line">[Thursday 16 September 2010] [09:44:05] &lt;joyenlee&gt;  Hi!</div>
<div class="line">[Thursday 16 September 2010] [17:15:50] &lt;dermoth&gt;   sustrik, i didn&#8217;t write the test... but why would it fail? What is multiple applications use different context on the same server? do you think the contect should be abstracted in the PHP module?</div>
<div class="line">[Thursday 16 September 2010] [17:24:11] &lt;jhawk28&gt;   susktrik: I updated <a class="reference external" href="http://github.com/zeromq/zeromq2/issues#issue/68">http://github.com/zeromq/zeromq2/issues#issue/68</a></div>
<div class="line">[Thursday 16 September 2010] [21:41:14] &lt;<a href="#id92"><span class="problematic" id="id93">mattp_</span></a>&gt;    Hi.  I&#8217;m trying to build using Cygwin.  I&#8217;m getting me an error message telling me to install e2fsprog even though I&#8217;ve already got it.</div>
<div class="line">[Thursday 16 September 2010] [21:41:18] &lt;<a href="#id94"><span class="problematic" id="id95">mattp_</span></a>&gt;    Any suggestions?</div>
<div class="line">[Thursday 16 September 2010] [21:42:22] &lt;<a href="#id96"><span class="problematic" id="id97">mattp_</span></a>&gt;    (not sure how that &#8220;me&#8221; got into my third sentence. :) )</div>
<div class="line">[Thursday 16 September 2010] [21:49:23] &lt;<a href="#id98"><span class="problematic" id="id99">mattp_</span></a>&gt;    crickets...</div>
<div class="line">[Thursday 16 September 2010] [21:52:32] &lt;mpassell&gt;  thought I&#8217;d try through a different client.  Anyone out there?</div>
<div class="line">[Thursday 16 September 2010] [23:51:02] &lt;chowmeined&gt;    can one multiplex different message patterns on a single socket?</div>
<div class="line">[Friday 17 September 2010] [00:18:42] &lt;andrewvc&gt;    cremes, by chance are you around?</div>
<div class="line">[Friday 17 September 2010] [00:33:45] &lt;dermoth&gt; iirc there used to be device config example, looks like they&#8217;re gone. why?</div>
<div class="line">[Friday 17 September 2010] [00:33:56] &lt;dermoth&gt; king of easier than reading the code :)</div>
<div class="line">[Friday 17 September 2010] [00:38:25] &lt;guido_g&gt; dermoth: see <a class="reference external" href="http://github.com/imatix/zdevices">http://github.com/imatix/zdevices</a></div>
<div class="line">[Friday 17 September 2010] [00:38:41] &lt;guido_g&gt; maybe thats what you want</div>
<div class="line">[Friday 17 September 2010] [00:40:27] &lt;dermoth&gt; guido_g, thanks, looks nice. Actually for now i&#8217;m just using the stock devices that come with zeromq. The config quite basic, in xml. I was justt wondering where they gone</div>
<div class="line">[Friday 17 September 2010] [00:41:11] &lt;guido_g&gt; afair there going to be moved out of the core distribution</div>
<div class="line">[Friday 17 September 2010] [00:42:44] &lt;dermoth&gt; ok... well I kind of like them for the most basic usage... I could replace the config with command-line arguments though, imho it would be much easier</div>
<div class="line">[Friday 17 September 2010] [00:43:05] &lt;guido_g&gt; dermoth: btw, please send your patch to the ml with a statement that it is licensed under mit/x11, othwerwise it can&#8217;t be accepted</div>
<div class="line">[Friday 17 September 2010] [00:43:33] &lt;dermoth&gt; really?</div>
<div class="line">[Friday 17 September 2010] [00:44:25] &lt;guido_g&gt; it&#8217;s the procedure</div>
<div class="line">[Friday 17 September 2010] [00:44:50] &lt;guido_g&gt; has been discussed here and on the ml</div>
<div class="line">[Friday 17 September 2010] [00:46:13] &lt;guido_g&gt; dermoth: easiest way is to use format-patch and append that to the mal w/ the license statement</div>
<div class="line">[Friday 17 September 2010] [00:46:15] &lt;dermoth&gt; then how about I sen you this?</div>
<div class="line">[Friday 17 September 2010] [00:46:19] &lt;dermoth&gt; perl -pi -e &#8216;s/ZMQ_DOWNSTREAM/ZMQ_PUSH/; s/ZMQ_UPSTREAM/ZMQ_PULL/;&#8217; devices/zmq_streamer/zmq_streamer.cpp</div>
<div class="line">[Friday 17 September 2010] [00:46:20] &lt;guido_g&gt; not me</div>
<div class="line">[Friday 17 September 2010] [00:46:36] &lt;guido_g&gt; dermoth: see git format-patch</div>
<div class="line">[Friday 17 September 2010] [00:46:50] &lt;dermoth&gt; git commit -m&#8217;zmq_streamer: Rename DOWNSTREAM/UPSTREAM to PUSH/PULL&#8217;</div>
<div class="line">[Friday 17 September 2010] [00:47:12] &lt;dermoth&gt; I use git-format-patch... but I&#8217;m not even subscrived to the ml</div>
<div class="line">[Friday 17 September 2010] [00:47:29] &lt;guido_g&gt; too bad</div>
<div class="line">[Friday 17 September 2010] [00:47:35] &lt;dermoth&gt; the two commands abot will get you the same result less the credit</div>
<div class="line">[Friday 17 September 2010] [00:48:02] &lt;guido_g&gt; what credit?</div>
<div class="line">[Friday 17 September 2010] [00:48:11] &lt;dermoth&gt; the author in commit message</div>
<div class="line">[Friday 17 September 2010] [00:48:33] &lt;guido_g&gt; ah</div>
<div class="line">[Friday 17 September 2010] [00:48:55] &lt;dermoth&gt; unless you&#8217;re authorised to do: git commit -m&#8217;zmq_streamer: Rename DOWNSTREAM/UPSTREAM to PUSH/PULL&#8217; &#8216;&#8211;author=Thomas Guyot-Sionnest &lt;<a class="reference external" href="mailto:thomas&#37;&#52;&#48;blinkx&#46;com">thomas<span>&#64;</span>blinkx<span>&#46;</span>com</a>&gt;&#8217;</div>
<div class="line">[Friday 17 September 2010] [00:48:56] &lt;guido_g&gt; i&#8217;m more concerned about the license statement, w/o it the patch can&#8217;t go in</div>
<div class="line">[Friday 17 September 2010] [00:49:40] &lt;dermoth&gt; it&#8217;s not a patch it a command that patsh, there shouldn&#8217;t be any legal issue. if you run the command you have the copyright for the resulting code ;)</div>
<div class="line">[Friday 17 September 2010] [00:50:13] &lt;guido_g&gt; i think that is clear</div>
<div class="line">[Friday 17 September 2010] [00:50:50] &lt;guido_g&gt; i just stated what&#8217;s needed to get a patch in, because a pull-req is a patch</div>
<div class="line">[Friday 17 September 2010] [00:54:07] &lt;dermoth&gt; I understand the legal basis, but I will likely not send a patch that takes me more time to &#8220;send&#8221; thna write... Imagine trying that with the Linux Kernel!</div>
<div class="line">[Friday 17 September 2010] [00:54:48] &lt;guido_g&gt; as i said, the device apps will be moved out of the core, afaik</div>
<div class="line">[Friday 17 September 2010] [00:55:01] &lt;guido_g&gt; so...</div>
<div class="line">[Friday 17 September 2010] [00:55:12] &lt;dermoth&gt; so I guess there won&#8217;t be any trouble getting that in, whatever method you use... on that i&#8217;ll get back to my testing :)</div>
<div class="line">[Friday 17 September 2010] [00:55:25] &lt;guido_g&gt; dermoth: wrong</div>
<div class="line">[Friday 17 September 2010] [00:55:35] &lt;guido_g&gt; the license issue is a problem atm</div>
<div class="line">[Friday 17 September 2010] [00:55:41] &lt;guido_g&gt; ask pieter about it</div>
<div class="line">[Friday 17 September 2010] [00:56:17] &lt;guido_g&gt; and go read the ml (via gmane w/o registration)</div>
<div class="line">[Friday 17 September 2010] [00:56:51] &lt;dermoth&gt; what I meant is that it probably take you less time to rename it yourself than using my patch (and I use gmane...)</div>
<div class="line">[Friday 17 September 2010] [00:57:57] &lt;dermoth&gt; i wouldn&#8217;t mind taking the time to post on the ml for a real change... and can&#8217;T I put it in the commit message too?</div>
<div class="line">[Friday 17 September 2010] [00:58:14] &lt;guido_g&gt; cool, then you can easily find the threads about patches and legal issues</div>
<div class="line">[Friday 17 September 2010] [00:58:43] &lt;guido_g&gt; if it were in the commit message, even better</div>
<div class="line">[Friday 17 September 2010] [00:58:44] &lt;dermoth&gt; except that i&#8217;d rather catch some much needed sleep</div>
<div class="line">[Friday 17 September 2010] [00:58:48] &lt;dermoth&gt; ok</div>
<div class="line">[Friday 17 September 2010] [01:04:50] &lt;dermoth&gt; here you go... next time i&#8217;ll know :)</div>
<div class="line">[Friday 17 September 2010] [01:12:46] &lt;guido_g&gt; hey, i didn&#8217;t invent the laws and such, just repeating the handbook</div>
<div class="line">[Friday 17 September 2010] [01:13:07] &lt;dermoth&gt; Any PECL developers here? IMHO the PHP api should have a cb that is called on persistent socket creation, so we could create the socket and connect in one shot</div>
<div class="line">[Friday 17 September 2010] [01:39:55] &lt;sleeperbot&gt;  anybody know an alternative driver to <a class="reference external" href="http://github.com/JustinTulloss/zeromq.node">http://github.com/JustinTulloss/zeromq.node</a> for node.js?</div>
<div class="line">[Friday 17 September 2010] [01:40:32] &lt;sleeperbot&gt;  this driver takes up a ton of CPU</div>
<div class="line">[Friday 17 September 2010] [01:42:32] &lt;sleeperbot&gt;  the way that it is implemented =/</div>
<div class="line">[Friday 17 September 2010] [01:48:29] &lt;yrashk&gt;  sleeperbot afair there&#8217;s none</div>
<div class="line">[Friday 17 September 2010] [01:48:41] &lt;yrashk&gt;  but supposedly I will need one soon-ish</div>
<div class="line">[Friday 17 September 2010] [01:48:54] &lt;yrashk&gt;  so might invest some time in getting it done properly</div>
<div class="line">[Friday 17 September 2010] [01:51:51] &lt;sleeperbot&gt;  i see, thanks for the info</div>
<div class="line">[Friday 17 September 2010] [01:52:55] &lt;yrashk&gt;  yw</div>
<div class="line">[Friday 17 September 2010] [03:02:27] &lt;sustrik&gt; psino: how would it work for recv calls?</div>
<div class="line">[Friday 17 September 2010] [03:03:38] &lt;sustrik&gt; dermoth: it&#8217;s a problem with OpenPGM, which will be solved soon; what i was saying is that in most cases you have just one context so you never encounter the problem</div>
<div class="line">[Friday 17 September 2010] [03:04:38] &lt;sustrik&gt; chowmeined: no, you can&#8217;t</div>
<div class="line">[Friday 17 September 2010] [04:49:41] &lt;ivan-korobkov&gt;   Hi, I use zmq 2.0.9 + epgm + the latest python bindings. Sometimes it crashes with Assertion failed: <a href="#id45"><span class="problematic" id="id46">*</span></a>tmpbuf &gt; 0 (zmq_decoder.cpp:60). Does anybody know why it happens? Is it a bug and I should create an issue?</div>
<div class="line">[Friday 17 September 2010] [05:08:09] &lt;guido_g&gt; try to isolate it in a small test case, so others can verify it</div>
<div class="line">[Friday 17 September 2010] [05:12:03] &lt;ivan-korobkov&gt;   OK, I will try, but it happens rather sporadically.</div>
<div class="line">[Friday 17 September 2010] [05:13:15] &lt;guido_g&gt; will be no problem, if we have a program that can run</div>
<div class="line">[Friday 17 September 2010] [05:31:16] &lt;psino&gt;   sustrik: In the case of a pull socket, I was thinking it could disconnect from the push socket and still be able to recv() on the messages the push socket has sent to it</div>
<div class="line">[Friday 17 September 2010] [05:40:43] &lt;sustrik&gt; ivan-korobkov: create an issue</div>
<div class="line">[Friday 17 September 2010] [05:41:15] &lt;sustrik&gt; psino: any idea of how the API should look like?</div>
<div class="line">[Friday 17 September 2010] [05:46:23] &lt;psino&gt;   sustrik: from the end users point of view, much like now, except that after calling socket.close(), a poller wouldn&#8217;t put the socket in exceptional state before the messages that has been sent to it from the other side has been recv()&#8217;ed</div>
<div class="line">[Friday 17 September 2010] [06:32:59] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r85aa25e 10/ src/req.cpp : bug in REQ+multipart fixed - <a class="reference external" href="http://bit.ly/bzWD3V">http://bit.ly/bzWD3V</a></div>
<div class="line">[Friday 17 September 2010] [06:58:32] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * rc7b9ba3 10/ (src/command.hpp src/session.cpp): reconnection process fixed when failure occurs during init phase - <a class="reference external" href="http://bit.ly/cIBUcl">http://bit.ly/cIBUcl</a></div>
<div class="line">[Friday 17 September 2010] [16:02:02] &lt;bgranger&gt;    sustrik:  question about msg ref counting...</div>
<div class="line">[Friday 17 September 2010] [16:11:22] &lt;keffo&gt;   I think they&#8217;re all off work :)</div>
<div class="line">[Friday 17 September 2010] [16:11:32] &lt;keffo&gt;   starting to think I&#8217;m the only one around anymore :)</div>
<div class="line">[Friday 17 September 2010] [16:12:29] &lt;keffo&gt;   lol, last time anyone even spoke in here was about 11h ago :)</div>
<div class="line">[Friday 17 September 2010] [16:12:39] &lt;andrewvc&gt;    and you just broke the record</div>
<div class="line">[Friday 17 September 2010] [16:12:55] &lt;keffo&gt;   no, bgranger did 10 mins ago :)</div>
<div class="line">[Friday 17 September 2010] [16:14:09] &lt;andrewvc&gt;    oh damn, hehe, that&#8217;s what I get for sleeping my laptop, missing all the action</div>
<div class="line">[Friday 17 September 2010] [16:16:43] &lt;keffo&gt;   :)</div>
<div class="line">[Friday 17 September 2010] [16:17:16] &lt;keffo&gt;   Does anyone know best-practices for transferring large amounts of data? Simply to split into multipart?</div>
<div class="line">[Friday 17 September 2010] [16:17:46] &lt;andrewvc&gt;    I remember there were benchmarks on the zeromq site with various message sizes, ranging up to something huge</div>
<div class="line">[Friday 17 September 2010] [16:18:22] &lt;keffo&gt;   right, but simply sending one huge message just sounds like mem hog to me</div>
<div class="line">[Friday 17 September 2010] [16:32:34] &lt;sustrik&gt; i am back</div>
<div class="line">[Friday 17 September 2010] [16:32:49] &lt;sustrik&gt; bgranger: what&#8217;s the question?</div>
<div class="line">[Friday 17 September 2010] [16:34:24] &lt;sustrik&gt; keffo: so is multipart message, you have to break it into sequence of messages</div>
<div class="line">[Friday 17 September 2010] [16:34:42] &lt;sustrik&gt; then you have to define your own transfer protocol etc.</div>
<div class="line">[Friday 17 September 2010] [16:34:45] &lt;sustrik&gt; it&#8217;s not easy</div>
<div class="line">[Friday 17 September 2010] [16:34:51] &lt;keffo&gt;   mm</div>
<div class="line">[Friday 17 September 2010] [16:35:01] &lt;sustrik&gt; what do you want to do?</div>
<div class="line">[Friday 17 September 2010] [16:35:31] &lt;keffo&gt;   To be honest I&#8217;m leaning towards an accompanying torrent lib for larger transfers</div>
<div class="line">[Friday 17 September 2010] [16:35:46] &lt;keffo&gt;   I solved both my deadlock and garbled data btw..</div>
<div class="line">[Friday 17 September 2010] [16:35:59] &lt;keffo&gt;   as expected it was all me :)</div>
<div class="line">[Friday 17 September 2010] [16:36:03] &lt;keffo&gt;   CRT mismatch actually</div>
<div class="line">[Friday 17 September 2010] [16:36:06] &lt;sustrik&gt; :)</div>
<div class="line">[Friday 17 September 2010] [16:36:34] &lt;sustrik&gt; yeah, makes sense, you would have to implement torrent kind of behaiour yourself on top of 0mq</div>
<div class="line">[Friday 17 September 2010] [16:36:55] &lt;bgranger&gt;    sustrik: we have a very subtle question about ref counting of msgs...</div>
<div class="line">[Friday 17 September 2010] [16:37:16] &lt;keffo&gt;   sustrik, I was thinking more along the lines of using the transmission codebase, or libtorrent..</div>
<div class="line">[Friday 17 September 2010] [16:37:57] &lt;sustrik&gt; bgranger: yes?</div>
<div class="line">[Friday 17 September 2010] [16:38:10] &lt;bgranger&gt;    Hi</div>
<div class="line">[Friday 17 September 2010] [16:38:11] &lt;sustrik&gt; keffo: sure</div>
<div class="line">[Friday 17 September 2010] [16:38:14] &lt;sustrik&gt; hi</div>
<div class="line">[Friday 17 September 2010] [16:38:22] &lt;bgranger&gt;    We are trying to understand the refcounting</div>
<div class="line">[Friday 17 September 2010] [16:38:40] &lt;bgranger&gt;    We see that zmq_msg_close is the place where the ffn is called if the ref count is 0</div>
<div class="line">[Friday 17 September 2010] [16:39:10] &lt;bgranger&gt;    What exactly does zmq_send do with the ref count.  What is zmq_close is called <em>before</em> a msg is actually send?</div>
<div class="line">[Friday 17 September 2010] [16:39:26] &lt;bgranger&gt;    Does send somehow end up calling zmq_msg_close?</div>
<div class="line">[Friday 17 September 2010] [16:42:42] &lt;sustrik&gt; yes, send takes ownership of your message</div>
<div class="line">[Friday 17 September 2010] [16:43:03] &lt;bgranger&gt;    OK, we just saw that at the end of xsend there is</div>
<div class="line">[Friday 17 September 2010] [16:43:07] &lt;sustrik&gt; your message object will be empty after return from the send call</div>
<div class="line">[Friday 17 September 2010] [16:43:10] &lt;bgranger&gt;    int rc = zmq_msg_init (<a href="#id100"><span class="problematic" id="id101">msg_</span></a>);</div>
<div class="line">[Friday 17 September 2010] [16:43:30] &lt;sustrik&gt; yes, that initialises your message to empty</div>
<div class="line">[Friday 17 September 2010] [16:43:31] &lt;bgranger&gt;    So if you then call zmq_msg_close you are not closing the original msg, but a new empty one.</div>
<div class="line">[Friday 17 September 2010] [16:43:38] &lt;bgranger&gt;    Great!</div>
<div class="line">[Friday 17 September 2010] [16:43:39] &lt;sustrik&gt; exactly</div>
<div class="line">[Friday 17 September 2010] [16:43:59] &lt;bgranger&gt;    We are getting python to know when all copies of a message are done being sent.</div>
<div class="line">[Friday 17 September 2010] [16:44:29] &lt;sustrik&gt; intercepting the free function?</div>
<div class="line">[Friday 17 September 2010] [16:44:41] &lt;bgranger&gt;    There is a subtle issue with non-copy sends.  The user has to be able to know when zmq is done with it and they can edit the buffer again.</div>
<div class="line">[Friday 17 September 2010] [16:44:46] &lt;bgranger&gt;    Yes, we use the ffn.</div>
<div class="line">[Friday 17 September 2010] [16:45:13] &lt;bgranger&gt;    Otherwise the user might accidentally start the edit the buffer they sent before zmq has send it...</div>
<div class="line">[Friday 17 September 2010] [16:45:29] &lt;bgranger&gt;    non-copy sends are super subtle...</div>
<div class="line">[Friday 17 September 2010] [16:45:34] &lt;sustrik&gt; so you are basically writing your own allocator</div>
<div class="line">[Friday 17 September 2010] [16:46:21] &lt;bgranger&gt;    We use Pythons garbage collection mechanism along with our own ref counts that allow us to track the underlying zmq ref counts.</div>
<div class="line">[Friday 17 September 2010] [16:46:45] &lt;sustrik&gt; what&#8217;s the goal?</div>
<div class="line">[Friday 17 September 2010] [16:47:12] &lt;bgranger&gt;    In Python you might have a mutable array of numbers that you want to send using non-copy.</div>
<div class="line">[Friday 17 September 2010] [16:47:27] &lt;bgranger&gt;    You send it, and maybe then you want to modify it.</div>
<div class="line">[Friday 17 September 2010] [16:47:37] &lt;sustrik&gt; i see</div>
<div class="line">[Friday 17 September 2010] [16:47:40] &lt;bgranger&gt;    But if you modify it before zmq sends it, the wrong thing gets sent</div>
<div class="line">[Friday 17 September 2010] [16:47:54] &lt;bgranger&gt;    This is common in Python with numerical arrays (matrices, etc.)</div>
<div class="line">[Friday 17 September 2010] [16:48:23] &lt;bgranger&gt;    For large static data it is not a problem, but in numerical/scientific computing, most data  structures are mutable...</div>
<div class="line">[Friday 17 September 2010] [16:49:08] &lt;bgranger&gt;    sustrik:   I think we understand the refcounting better now though.  Thanks!</div>
<div class="line">[Friday 17 September 2010] [16:50:55] &lt;sustrik&gt; np</div>
<div class="line">[Friday 17 September 2010] [16:51:04] &lt;sustrik&gt; a question though:</div>
<div class="line">[Friday 17 September 2010] [16:51:33] &lt;sustrik&gt; doesn&#8217;t it turn the messaging into sync model?</div>
<div class="line">[Friday 17 September 2010] [16:51:43] &lt;sustrik&gt; one-message-a-time?</div>
<div class="line">[Friday 17 September 2010] [17:08:59] &lt;bgranger&gt;    sustrik: back from lunch...</div>
<div class="line">[Friday 17 September 2010] [17:09:15] &lt;bgranger&gt;    no the messaging is still fully async</div>
<div class="line">[Friday 17 September 2010] [17:09:21] &lt;minrk&gt;   sustrik: I&#8217;m not sure what your question means.  All we did was add an object that tracks whether a message no longer has references in zmq</div>
<div class="line">[Friday 17 September 2010] [17:09:48] &lt;bgranger&gt;    You can then query that object to learn if the message has fully been sent.</div>
<div class="line">[Friday 17 September 2010] [17:10:03] &lt;bgranger&gt;    send does not block any more than it used to</div>
<div class="line">[Friday 17 September 2010] [17:10:29] &lt;minrk&gt;   or if there are any message objects pointing to it at all</div>
<div class="line">[Friday 17 September 2010] [17:11:15] &lt;bgranger&gt;    minrk:  it would be nice if we could have a method of MessageTracker that would block until the msg is not pending though.</div>
<div class="line">[Friday 17 September 2010] [17:12:56] &lt;minrk&gt;   that&#8217;s easy</div>
<div class="line">[Friday 17 September 2010] [17:13:42] &lt;bgranger&gt;    minrk:  I am ready when you are....just give me a call on skype</div>
<div class="line">[Friday 17 September 2010] [17:13:50] &lt;minrk&gt;   okay</div>
<div class="line">[Friday 17 September 2010] [17:14:08] &lt;minrk&gt;   give me a few minutes</div>
<div class="line">[Friday 17 September 2010] [17:15:27] &lt;bgranger&gt;    no problem...</div>
<div class="line">[Friday 17 September 2010] [17:20:09] &lt;minrk&gt;   okay</div>
<div class="line">[Friday 17 September 2010] [17:22:24] &lt;mrossi&gt;  anyone know who is on the sending side of the signaler instance inside of the app_thread class?</div>
<div class="line">[Friday 17 September 2010] [17:24:07] &lt;mrossi&gt;  have an app that occasionally gets hung at line 88 of app_thread.cpp doing a signaler.recv()</div>
<div class="line">[Friday 17 September 2010] [17:38:05] &lt;dbudworth&gt;   question from a newbie zeromq user.  I&#8217;d like to implement a socket server type system where the server is stateful for each client connection.  Is there a zeromq socket type for this?  it appears as though the server doesn&#8217;t have any context about which client it&#8217;s sending to at any one time</div>
<div class="line">[Friday 17 September 2010] [18:51:56] &lt;ModusPwnens&gt; Hmm, can anyone take a look at some results from benchmarking tests?</div>
<div class="line">[Friday 17 September 2010] [18:52:16] &lt;ModusPwnens&gt; I am seeing some strange results, but maybe they are normal</div>
<div class="line">[Friday 17 September 2010] [18:52:56] &lt;ModusPwnens&gt; <a class="reference external" href="http://pastie.org/1161267">http://pastie.org/1161267</a></div>
<div class="line">[Friday 17 September 2010] [23:38:47] &lt;benford&gt; good morning folks. can anyone answer a question about non blocking recieve and send?</div>
<div class="line">[Saturday 18 September 2010] [02:16:47] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * r0c215fa 10/ (src/fq.cpp src/lb.cpp src/socket_base.cpp): potential duplicate termination of pipes removed - <a class="reference external" href="http://bit.ly/9s1gJt">http://bit.ly/9s1gJt</a></div>
<div class="line">[Saturday 18 September 2010] [02:16:47] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * rfb6ce53 10/ src/own.cpp : more details on launch_sibling in comments - <a class="reference external" href="http://bit.ly/bQt0hE">http://bit.ly/bQt0hE</a></div>
<div class="line">[Saturday 18 September 2010] [02:16:47] &lt;CIA-20&gt;    zeromq2: 03Martin Sustrik 07master * r4c6d07d 10/ (15 files): single term ack counting mechanism for every socket (no separate mechanisms for fq_t and lb_t) - <a class="reference external" href="http://bit.ly/cS50VY">http://bit.ly/cS50VY</a></div>
<div class="line">[Saturday 18 September 2010] [02:17:24] &lt;sustrik&gt;   benford: shoot</div>
<div class="line">[Saturday 18 September 2010] [02:18:44] &lt;benford&gt;   hi, i think it was user error :-) i&#8217;m trying to wrap the concurrent eventlet library around socket recv/send and was having some tryouble with polling</div>
<div class="line">[Saturday 18 September 2010] [02:20:03] &lt;sustrik&gt;   ok</div>
<div class="line">[Saturday 18 September 2010] [02:29:55] &lt;benford&gt;   actually - i guess i&#8217;ve got another question: if i&#8217;m doing a zmq_poll what might throw errno 14 &#8216;Bad address&#8217;</div>
<div class="line">[Saturday 18 September 2010] [02:30:36] &lt;benford&gt;   i&#8217;m probably calling this with an int representing an eventlet socket so i&#8217;m thinking that the flags are causing some sort of error?</div>
<div class="line">[Saturday 18 September 2010] [02:30:57] &lt;benford&gt;   (this is in pyzmq btw)</div>
<div class="line">[Saturday 18 September 2010] [02:34:37] &lt;benford&gt;   when using zmq_poll do i still have to stick with the POLLIN and POLLOUT flags or would i need to replace them with the equvalent select flags?</div>
<div class="line">[Saturday 18 September 2010] [02:37:34] &lt;benford&gt;   doh - figured it - was using a different context in the same thread</div>
<div class="line">[Saturday 18 September 2010] [02:51:40] &lt;benford&gt;   it lives: <a class="reference external" href="http://gist.github.com/585430">http://gist.github.com/585430</a> thanks for the great work to all of you in here!</div>
<div class="line">[Saturday 18 September 2010] [16:01:51] &lt;mr19&gt;  docs say to call zmq_init() from the &#8220;start of your main line of code&#8221;, my app starts a new thread that calls zmq_init() (via the zmq::context_t constructor) at thread startup.  can easily be switched but curious as to whether this can cause problems.  quick look through the code didn&#8217;t raise any flags to me.</div>
<div class="line">[Saturday 18 September 2010] [16:34:20] &lt;sustrik&gt;   mr19: to be able to communicate in inter-thread manner you have t share the context</div>
<div class="line">[Saturday 18 September 2010] [16:34:42] &lt;sustrik&gt;   i mean inproc:// transport</div>
<div class="line">[Saturday 18 September 2010] [17:27:14] &lt;mr19&gt;  ok, i&#8217;m just using tcp and only from within that thread, just trying to simplify my code &#8211; i&#8217;m going to move the ctx instantiation to the main thread but was just curious if there are any other reasons for requiring the call to zmq_init() in the main thread</div>
<div class="line">[Sunday 19 September 2010] [00:41:43] &lt;dbudworth&gt;   is there a socket type that&#8217;s usable for request/streaming response type communications?  ie: N clients open connection to a server and the server has a unique conversation with each client.  (similar to regular socket accept/listen model)</div>
<div class="line">[Sunday 19 September 2010] [01:09:28] &lt;sustrik&gt; if you want to control each socket, you need a regular socket</div>
<div class="line">[Sunday 19 September 2010] [03:06:08] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r5153b63 10/ (src/session.cpp src/session.hpp): obsolete &#8216;active&#8217; flag removed from session_t - <a class="reference external" href="http://bit.ly/cRgwVE">http://bit.ly/cRgwVE</a></div>
<div class="line">[Sunday 19 September 2010] [03:06:08] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r1f10208 10/ src/session.cpp : termination of pipe via delimiter message could stuck when no data were read from the pipe (because connection wasn&#8217;t active) &#8211; fixed - <a class="reference external" href="http://bit.ly/dpganD">http://bit.ly/dpganD</a></div>
<div class="line">[Sunday 19 September 2010] [15:59:58] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r471013a 10/ src/zmq_init.cpp : two races fixed in session creation - <a class="reference external" href="http://bit.ly/9UgZMy">http://bit.ly/9UgZMy</a></div>
<div class="line">[Sunday 19 September 2010] [15:59:59] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r938689a 10/ (src/ctx.cpp src/zmq_init.cpp): synchronisation problem fixed in ctx_t - <a class="reference external" href="http://bit.ly/bcX8OW">http://bit.ly/bcX8OW</a></div>
<div class="line">[Sunday 19 September 2010] [16:50:14] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * rcda3c96 10/ src/ctx.cpp : minor code reorganisation in ctx_t::terminate - <a class="reference external" href="http://bit.ly/96qYvk">http://bit.ly/96qYvk</a></div>
<div class="line">[Sunday 19 September 2010] [16:50:16] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r1d23997 10/ (src/zmq_engine.cpp src/zmq_engine.hpp src/zmq_init.cpp): zmq_init_t destroyed zmq_engine_t before plugging it out from the poller first &#8211; fixed - <a class="reference external" href="http://bit.ly/cvBySe">http://bit.ly/cvBySe</a></div>
<div class="line">[Sunday 19 September 2010] [18:07:37] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r328c92a 10/ (4 files): problem with engine being attached to session while it&#8217;s being terminated fixed - <a class="reference external" href="http://bit.ly/aVsix0">http://bit.ly/aVsix0</a></div>
<div class="line">[Sunday 19 September 2010] [23:20:05] &lt;stoneman&gt;    hello</div>
<div class="line">[Sunday 19 September 2010] [23:20:30] &lt;stoneman&gt;    is anyone here?</div>
<div class="line">[Sunday 19 September 2010] [23:27:17] &lt;dbudworth&gt;   Trying to figure out if 0mq is appropriate for my project, simple description would be something like a sticky load balancer.   once a client talks to a service, it sticks with that one.  for a bi-directional conversation between 2 nodes once an initial node has been selected.  ie: my client does round robin on each new conversation but updates to a given conversation have to stick to the beginning server</div>
<div class="line">[Sunday 19 September 2010] [23:27:43] &lt;dbudworth&gt;   and hello stoneman, i&#8217;m here.  but basically not useful if you are looking for help</div>
<div class="line">[Monday 20 September 2010] [05:10:23] &lt;mato&gt;    sustrik: i was just thinking about the zmq_term()/zmq_close() semantics</div>
<div class="line">[Monday 20 September 2010] [05:10:40] &lt;mato&gt;    sustrik: and i came up with one small detail</div>
<div class="line">[Monday 20 September 2010] [05:11:03] &lt;mato&gt;    sustrik: which may or may not be helpful in the case where zmq_term() would wait indefinitely on exit</div>
<div class="line">[Monday 20 September 2010] [05:11:23] &lt;mato&gt;    sustrik: the thing is, syscall close() means &#8220;commit&#8221;.</div>
<div class="line">[Monday 20 September 2010] [05:12:02] &lt;mato&gt;    sustrik: if you don&#8217;t close your filedescriptors, and don&#8217;t use fsync() (not for sockets obviously), then there is no commitment on the part of the kernel</div>
<div class="line">[Monday 20 September 2010] [05:13:02] &lt;mato&gt;    sustrik: hence, as far as sockets with data in-flight at zmq_term() time are concerned, we only need care about those that zmq_close() has actually been called on</div>
<div class="line">[Monday 20 September 2010] [05:13:10] &lt;mato&gt;    sustrik: for any other sockets, all bets are off</div>
<div class="line">[Monday 20 September 2010] [05:19:00] &lt;sustrik&gt; mato: sure, but user has to close all the sockets anyway</div>
<div class="line">[Monday 20 September 2010] [05:19:12] &lt;sustrik&gt; otherwise he&#8217;ll end up with memory leaks</div>
<div class="line">[Monday 20 September 2010] [05:19:52] &lt;mato&gt;    sustrik: i was thinking more of the case of &#8220;the application terminating in an abnormal way&#8221;</div>
<div class="line">[Monday 20 September 2010] [05:20:03] &lt;sustrik&gt; no guarantees then</div>
<div class="line">[Monday 20 September 2010] [05:20:14] &lt;mato&gt;    sure, what i mean is...</div>
<div class="line">[Monday 20 September 2010] [05:20:24] &lt;mato&gt;    if an application handles e.g. SIGINT/SIGTERM</div>
<div class="line">[Monday 20 September 2010] [05:20:39] &lt;mato&gt;    should it go and call zmq_term() as part of its exit process in such a case?</div>
<div class="line">[Monday 20 September 2010] [05:20:48] &lt;mato&gt;    or explicitly not do that, becuase the call may block...?</div>
<div class="line">[Monday 20 September 2010] [05:21:02] &lt;mato&gt;    i guess the answer is application dependent</div>
<div class="line">[Monday 20 September 2010] [05:21:21] &lt;sustrik&gt; no idea</div>
<div class="line">[Monday 20 September 2010] [05:21:48] &lt;mato&gt;    oh, and another thing</div>
<div class="line">[Monday 20 September 2010] [05:21:58] &lt;mato&gt;    we talked about the non-zero-copy APIs</div>
<div class="line">[Monday 20 September 2010] [05:22:10] &lt;mato&gt;    and i have the most obvious names :)</div>
<div class="line">[Monday 20 September 2010] [05:22:22] &lt;mato&gt;    zmq_sendcopy and zmq_recvcopy  ... ?</div>
<div class="line">[Monday 20 September 2010] [05:22:43] &lt;mato&gt;    would do fine for 2.1, in 3.x the whole mess can be done the right way</div>
<div class="line">[Monday 20 September 2010] [05:23:31] &lt;sustrik&gt; dunno, does it makes sense to introduce something that will be changed anyway?</div>
<div class="line">[Monday 20 September 2010] [05:23:45] &lt;sustrik&gt; it&#8217;s just asking for problems</div>
<div class="line">[Monday 20 September 2010] [05:23:50] &lt;mato&gt;    why?</div>
<div class="line">[Monday 20 September 2010] [05:24:41] &lt;mato&gt;    well, one reason is that pieter uses all these &#8220;helper&#8221; functions in the user guide precisely for this reason</div>
<div class="line">[Monday 20 September 2010] [05:25:07] &lt;sustrik&gt; so, we&#8217;ll have send, sendcopy and the helper function</div>
<div class="line">[Monday 20 September 2010] [05:25:16] &lt;sustrik&gt; :)</div>
<div class="line">[Monday 20 September 2010] [05:25:16] &lt;mato&gt;    no, the helpers can go away</div>
<div class="line">[Monday 20 September 2010] [05:25:36] &lt;mato&gt;    check with pieter, but imo the reason those are there is becuase zerocopy in C is &#8220;too much typing&#8221; or something :)</div>
<div class="line">[Monday 20 September 2010] [05:25:43] &lt;mato&gt;    at least that&#8217;s what he told me</div>
<div class="line">[Monday 20 September 2010] [05:25:54] &lt;sustrik&gt; anyway, first thing on this path is to defined the semantics for recvcopy when the buffer is no large enough</div>
<div class="line">[Monday 20 September 2010] [05:26:06]    * sustrik has to have a look at sctp</div>
<div class="line">[Monday 20 September 2010] [05:27:10] &lt;mato&gt;    yeah, good point</div>
<div class="line">[Monday 20 September 2010] [05:27:28] &lt;mato&gt;    presumably some error will have to be returned ...</div>
<div class="line">[Monday 20 September 2010] [05:27:47] &lt;mato&gt;    SCTP works in terms of messages as atomic units?</div>
<div class="line">[Monday 20 September 2010] [05:30:28] &lt;sustrik&gt; mato: yes</div>
<div class="line">[Monday 20 September 2010] [09:36:51] &lt;user&gt;    was hoping someone can help me</div>
<div class="line">[Monday 20 September 2010] [09:37:43] &lt;user&gt;    cant download anything always comes up with an error</div>
<div class="line">[Monday 20 September 2010] [09:43:53] &lt;drbobbeaty&gt;  I was just able to download the POSIX version from the website: <a class="reference external" href="http://www.zeromq.org/area:download">http://www.zeromq.org/area:download</a></div>
<div class="line">[Monday 20 September 2010] [09:44:18] &lt;user&gt;    whats that?</div>
<div class="line">[Monday 20 September 2010] [09:44:43] &lt;drbobbeaty&gt;  The POSIX version is the version for Linux, etc. There&#8217;s also a Windows version on the same page.</div>
<div class="line">[Monday 20 September 2010] [09:44:47] &lt;mato&gt;    sustrik: are you around?</div>
<div class="line">[Monday 20 September 2010] [09:45:20] &lt;mato&gt;    sustrik: I&#8217;ve found a silly bug in the select() impl. of zmq_poll() on master</div>
<div class="line">[Monday 20 September 2010] [09:45:31] &lt;sustrik&gt; mato: here am I</div>
<div class="line">[Monday 20 September 2010] [09:45:35] &lt;mato&gt;    sustrik: trivial fix, but something else is broken when using select()</div>
<div class="line">[Monday 20 September 2010] [09:45:44] &lt;user&gt;    k. my error code tells me: Archive:  /media/OFFICE12/setup.exe</div>
<div class="line">[Monday 20 September 2010] [09:45:44] &lt;user&gt;    [/media/OFFICE12/setup.exe]</div>
<div class="line">[Monday 20 September 2010] [09:45:44] &lt;user&gt;      End-of-central-directory signature not found.  Either this file is not</div>
<div class="line">[Monday 20 September 2010] [09:45:44] &lt;user&gt;      a zipfile, or it constitutes one disk of a multi-part archive.  In the</div>
<div class="line">[Monday 20 September 2010] [09:45:44] &lt;user&gt;      latter case the central directory and zipfile comment will be found on</div>
<div class="line">[Monday 20 September 2010] [09:45:45] &lt;user&gt;      the last disk(s) of this archive.</div>
<div class="line">[Monday 20 September 2010] [09:45:47] &lt;user&gt;    note:  /media/OFFICE12/setup.exe may be a plain executable, not an archive</div>
<div class="line">[Monday 20 September 2010] [09:45:49] &lt;user&gt;    zipinfo:  cannot find zipfile directory in one of /media/OFFICE12/setup.exe or</div>
<div class="line">[Monday 20 September 2010] [09:45:51] &lt;user&gt;              /media/OFFICE12/setup.exe.zip, and cannot find /media/OFFICE12/setup.exe.ZIP, period.</div>
<div class="line">[Monday 20 September 2010] [09:46:25] &lt;mato&gt;    user: I&#8217;m sorry, you&#8217;re probably on the wrong chat room here.</div>
<div class="line">[Monday 20 September 2010] [09:46:38] &lt;user&gt;    where do i need to go?</div>
<div class="line">[Monday 20 September 2010] [09:47:15] &lt;sustrik&gt; :)</div>
<div class="line">[Monday 20 September 2010] [09:47:46] &lt;sustrik&gt; mato: wull?</div>
<div class="line">[Monday 20 September 2010] [09:48:02] &lt;mato&gt;    sustrik: wull?</div>
<div class="line">[Monday 20 September 2010] [09:48:11] &lt;sustrik&gt; well?</div>
<div class="line">[Monday 20 September 2010] [09:48:17] &lt;mato&gt;    hang on</div>
<div class="line">[Monday 20 September 2010] [09:48:20] &lt;mato&gt;    i&#8217;m on bloody win32</div>
<div class="line">[Monday 20 September 2010] [09:48:25] &lt;mato&gt;    everything is confusing :-)</div>
<div class="line">[Monday 20 September 2010] [09:48:28] &lt;mato&gt;    patience...</div>
<div class="line">[Monday 20 September 2010] [09:49:28] &lt;mato&gt;    sustrik: ok, 1st, somewhee around line 547 of zmq.cpp, the select () call needs to be changed to use maxfd + 1</div>
<div class="line">[Monday 20 September 2010] [09:49:32] &lt;mato&gt;    sustrik: not just maxfd</div>
<div class="line">[Monday 20 September 2010] [09:49:37] &lt;mato&gt;    sustrik: that&#8217;s probably my fault</div>
<div class="line">[Monday 20 September 2010] [09:49:43] &lt;sustrik&gt; ok</div>
<div class="line">[Monday 20 September 2010] [09:50:26] &lt;mato&gt;    sustrik: now, then, what i&#8217;m seeing is on win32 _or_ on Linux with ZMQ_FORCE_SELECT (and I patched zmq.cpp to also use select() for zmq_poll() when zmq_force_select() is defined)</div>
<div class="line">[Monday 20 September 2010] [09:50:52] &lt;mato&gt;    sustrik: for some reason a socket is not becoming ready on the app side when it should</div>
<div class="line">[Monday 20 September 2010] [09:51:34] &lt;mato&gt;    sustrik: i.e. data gets sent down XREP, XREQ on the client side never becomes ready</div>
<div class="line">[Monday 20 September 2010] [09:51:58] &lt;sustrik&gt; do you have a simple test program?</div>
<div class="line">[Monday 20 September 2010] [09:52:06] &lt;mato&gt;    working on it...</div>
<div class="line">[Monday 20 September 2010] [09:52:52] &lt;sustrik&gt; ok</div>
<div class="line">[Monday 20 September 2010] [10:20:07] &lt;mato&gt;    sustrik: ok, i have a test case... will msg you, it;s on the test box</div>
<div class="line">[Monday 20 September 2010] [10:45:13] &lt;CIA-20&gt;  zeromq2: 03Martin Lucina 07master * r1abfc92 10/ src/zmq.cpp : minor problem in zmq_poll (select version) fixed - <a class="reference external" href="http://bit.ly/c9Sdnb">http://bit.ly/c9Sdnb</a></div>
<div class="line">[Monday 20 September 2010] [10:55:34] &lt;CIA-20&gt;  zeromq2: 03Martin Lucina 07master * rf49b77e 10/ src/zmq.cpp : zmq_poll honours ZMQ_FORCE_POLL and ZMQ_FORCE_SELECT options - <a class="reference external" href="http://bit.ly/dzi76e">http://bit.ly/dzi76e</a></div>
<div class="line">[Monday 20 September 2010] [11:16:12] &lt;sustrik&gt; mato: afaics the problem is that ZMQ_FD is edge-trigerred</div>
<div class="line">[Monday 20 September 2010] [11:17:26] &lt;sustrik&gt; thus, IN/OUT flag may be set in the past, but the select/poll won&#8217;t exit because of it</div>
<div class="line">[Monday 20 September 2010] [11:18:32] &lt;sustrik&gt; mato: check how poll version of zmq_poll works</div>
<div class="line">[Monday 20 September 2010] [11:20:32] &lt;mato&gt;    sustrik: the code seems equivalent, no?</div>
<div class="line">[Monday 20 September 2010] [11:20:36] &lt;sustrik&gt; nope</div>
<div class="line">[Monday 20 September 2010] [11:21:02] &lt;mato&gt;    then i don&#8217;t understand the problem...</div>
<div class="line">[Monday 20 September 2010] [11:21:05] &lt;sustrik&gt; you have to delete lines 572.577</div>
<div class="line">[Monday 20 September 2010] [11:21:11] &lt;sustrik&gt; let me do it</div>
<div class="line">[Monday 20 September 2010] [11:21:58] &lt;mato&gt;    which lines, i have different line numbers here...</div>
<div class="line">[Monday 20 September 2010] [11:22:12] &lt;mato&gt;    and i&#8217;d like to understand what the problem is</div>
<div class="line">[Monday 20 September 2010] [11:22:46] &lt;sustrik&gt; you should _not_ check POLLIN is set on ZMQ_FD and check ZMQ_EVENTS anyway</div>
<div class="line">[Monday 20 September 2010] [11:22:56] &lt;sustrik&gt; whather</div>
<div class="line">[Monday 20 September 2010] [11:22:59] &lt;sustrik&gt; ehether</div>
<div class="line">[Monday 20 September 2010] [11:23:01] &lt;sustrik&gt; whether</div>
<div class="line">[Monday 20 September 2010] [11:23:02] &lt;sustrik&gt; :)</div>
<div class="line">[Monday 20 September 2010] [11:23:03] &lt;mato&gt;    ?</div>
<div class="line">[Monday 20 September 2010] [11:23:16] &lt;sustrik&gt; ...whether POLLIN is set...</div>
<div class="line">[Monday 20 September 2010] [11:24:44] &lt;mato&gt;    sustrik: hmm, so you&#8217;re saying that each ZMQ_FD needs to be checked every time you come out of the select/poll() ?</div>
<div class="line">[Monday 20 September 2010] [11:24:48] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r4d51a52 10/ src/zmq.cpp : zmq_poll (select version) now correctly assumes that ZMQ_FD is edge-trigerred - <a class="reference external" href="http://bit.ly/dklauP">http://bit.ly/dklauP</a></div>
<div class="line">[Monday 20 September 2010] [11:25:07] &lt;sustrik&gt; yes</div>
<div class="line">[Monday 20 September 2010] [11:25:15] &lt;sustrik&gt; committed</div>
<div class="line">[Monday 20 September 2010] [11:25:23] &lt;sustrik&gt; the test program seems to work</div>
<div class="line">[Monday 20 September 2010] [11:26:23] &lt;mato&gt;    i still don&#8217;t understand... select would not have exited if the fd did not become ready...?</div>
<div class="line">[Monday 20 September 2010] [11:27:26] &lt;sustrik&gt; what?</div>
<div class="line">[Monday 20 September 2010] [11:27:51] &lt;mato&gt;    sustrik: if you&#8217;re sitting in select(), and the notify fd becomes ready, then you read the events</div>
<div class="line">[Monday 20 September 2010] [11:27:59] &lt;mato&gt;    sustrik: what is the other code path?</div>
<div class="line">[Monday 20 September 2010] [11:28:18] &lt;sustrik&gt; the commands in ZMQ_FD were already processed before calling zmq_poll</div>
<div class="line">[Monday 20 September 2010] [11:28:25] &lt;sustrik&gt; select blocks forever</div>
<div class="line">[Monday 20 September 2010] [11:28:38] &lt;sustrik&gt; although there are messages in available</div>
<div class="line">[Monday 20 September 2010] [11:28:40] &lt;mato&gt;    processed by who?</div>
<div class="line">[Monday 20 September 2010] [11:28:51] &lt;sustrik&gt; random previous command</div>
<div class="line">[Monday 20 September 2010] [11:29:12] &lt;mato&gt;    ah, right, this is because ZMQ_FD is tapping straight into the signaller</div>
<div class="line">[Monday 20 September 2010] [11:29:15] &lt;mato&gt;    mumble</div>
<div class="line">[Monday 20 September 2010] [11:29:20] &lt;sustrik&gt; ack</div>
<div class="line">[Monday 20 September 2010] [11:29:22] &lt;mato&gt;    i wish we could fix that</div>
<div class="line">[Monday 20 September 2010] [11:29:27] &lt;sustrik&gt; ?</div>
<div class="line">[Monday 20 September 2010] [11:29:33] &lt;sustrik&gt; it&#8217;s fixed</div>
<div class="line">[Monday 20 September 2010] [11:29:42] &lt;mato&gt;    this is also why you do that first_pass thing, right?</div>
<div class="line">[Monday 20 September 2010] [11:29:47] &lt;sustrik&gt; yes</div>
<div class="line">[Monday 20 September 2010] [11:29:55] &lt;sustrik&gt; no timout on first pass</div>
<div class="line">[Monday 20 September 2010] [11:30:04] &lt;sustrik&gt; exit immediately</div>
<div class="line">[Monday 20 September 2010] [11:30:15] &lt;sustrik&gt; then check whether events are availalbe</div>
<div class="line">[Monday 20 September 2010] [11:30:25] &lt;mato&gt;    this is to pick up events coming from previously processed commands, right?</div>
<div class="line">[Monday 20 September 2010] [11:30:34] &lt;sustrik&gt; yes</div>
<div class="line">[Monday 20 September 2010] [11:30:40] &lt;mato&gt;    ok, understood</div>
<div class="line">[Monday 20 September 2010] [11:31:00]    * mato will re-test and see what happens</div>
<div class="line">[Monday 20 September 2010] [11:38:39] &lt;sustrik&gt; mato: btw, if you want to optimise it you can still perform the check when !first_pass</div>
<div class="line">[Monday 20 September 2010] [11:39:16] &lt;sustrik&gt; getting ZMQ_EVENTS can be rather slow as it involves reading from the signaler =&gt; recv()</div>
<div class="line">[Monday 20 September 2010] [11:40:40] &lt;mato&gt;    right, that might be a good idea</div>
<div class="line">[Monday 20 September 2010] [11:40:48] &lt;mato&gt;    also, is getting ZMQ_FD slow?</div>
<div class="line">[Monday 20 September 2010] [11:41:01] &lt;mato&gt;    since that is also done more times than strictly necessary</div>
<div class="line">[Monday 20 September 2010] [11:41:13] &lt;mato&gt;    sustrik: btw, the signaler uses socketpair?</div>
<div class="line">[Monday 20 September 2010] [11:41:32] &lt;mato&gt;    sustrik: which translates to a tcp connection with winsock?</div>
<div class="line">[Monday 20 September 2010] [11:44:30] &lt;sustrik&gt; yes</div>
<div class="line">[Monday 20 September 2010] [11:44:54] &lt;mato&gt;    interesting, i get an occasional &#8220;Address already in use&#8221; on Win32 from signaler.cpp:80</div>
<div class="line">[Monday 20 September 2010] [11:45:06] &lt;sustrik&gt; let me see</div>
<div class="line">[Monday 20 September 2010] [11:45:18] &lt;mato&gt;    I guess this is just the poor M$ WIn$ock running out of tcp ports or something</div>
<div class="line">[Monday 20 September 2010] [11:45:27] &lt;mato&gt;    it&#8217;s the &#8220;connect to remote peer&#8221; call...</div>
<div class="line">[Monday 20 September 2010] [11:45:34] &lt;sustrik&gt; EADDRINUSE on connect?</div>
<div class="line">[Monday 20 September 2010] [11:45:52] &lt;mato&gt;    yeah</div>
<div class="line">[Monday 20 September 2010] [11:45:56] &lt;mato&gt;    bizarre</div>
<div class="line">[Monday 20 September 2010] [11:46:04] &lt;sustrik&gt; hm, it&#8217;s documented</div>
<div class="line">[Monday 20 September 2010] [11:46:16] &lt;mato&gt;    &#8220;not enough ports&#8221; ?</div>
<div class="line">[Monday 20 September 2010] [11:47:01] &lt;sustrik&gt; very useful description:</div>
<div class="line">[Monday 20 September 2010] [11:47:02] &lt;sustrik&gt; [EADDRINUSE]</div>
<div class="line">[Monday 20 September 2010] [11:47:02] &lt;sustrik&gt;     Attempt to establish a connection that uses addresses that are already in use.</div>
<div class="line">[Monday 20 September 2010] [11:47:33] &lt;sustrik&gt; (that&#8217;s POSIX)</div>
<div class="line">[Monday 20 September 2010] [11:48:00] &lt;mato&gt;    sustrik: windoze is slightly different</div>
<div class="line">[Monday 20 September 2010] [11:48:05] &lt;sustrik&gt; Linux: EADDRINUSE</div>
<div class="line">[Monday 20 September 2010] [11:48:05] &lt;sustrik&gt;               Local address is already in use.</div>
<div class="line">[Monday 20 September 2010] [11:48:42] &lt;mato&gt;    <a class="reference external" href="http://msdn.microsoft.com/en-us/library/ms740668%28VS.85%29.aspx">http://msdn.microsoft.com/en-us/library/ms740668%28VS.85%29.aspx</a></div>
<div class="line">[Monday 20 September 2010] [11:49:17] &lt;sustrik&gt; The socket&#8217;s local address is already in use and the socket was not marked to allow address reuse with SO_REUSEADDR. This error usually occurs when executing bind, but could be delayed until the connect function if the bind was to a wildcard address (INADDR_ANY or in6addr_any) for the local IP address. A specific address needs to be implicitly bound by the connect function.</div>
<div class="line">[Monday 20 September 2010] [11:49:40] &lt;mato&gt;    Yeah, I never quite understood the SO_REUSEADDR semantics on win32</div>
<div class="line">[Monday 20 September 2010] [11:49:47] &lt;sustrik&gt; does it make any sense to you?</div>
<div class="line">[Monday 20 September 2010] [11:49:54] &lt;mato&gt;    but i&#8217;ll try adding that in and see if it changes anything</div>
<div class="line">[Monday 20 September 2010] [11:50:19] &lt;mato&gt;    well, i think what it&#8217;s saying is &#8220;the wildcard bind() picked a port that is still in time-wait state&#8221;</div>
<div class="line">[Monday 20 September 2010] [11:50:27] &lt;mato&gt;    or some nonsense like that</div>
<div class="line">[Monday 20 September 2010] [11:50:31] &lt;sustrik&gt; :|</div>
<div class="line">[Monday 20 September 2010] [11:50:42] &lt;mato&gt;    let me try adding SO_REUSEADDR for win32 to the signaler listen socket and see what happens</div>
<div class="line">[Monday 20 September 2010] [11:50:57] &lt;mato&gt;    i don&#8217;t care what it actually does on win32 as long as the error goes away :-)</div>
<div class="line">[Monday 20 September 2010] [11:51:25] &lt;mato&gt;    proper win32 solution is obviously to use named pipes/win32 objects/whatsits and iocp</div>
<div class="line">[Monday 20 September 2010] [11:54:09] &lt;sustrik&gt; ok</div>
<div class="line">[Monday 20 September 2010] [12:07:35] &lt;mato&gt;    hmm</div>
<div class="line">[Monday 20 September 2010] [12:07:38] &lt;mato&gt;    i dunno</div>
<div class="line">[Monday 20 September 2010] [12:07:42] &lt;mato&gt;    doesn&#8217;t seem to help much</div>
<div class="line">[Monday 20 September 2010] [12:07:47] &lt;mato&gt;    anyway, this doesn&#8217;t really matter</div>
<div class="line">[Monday 20 September 2010] [12:08:11] &lt;mato&gt;    i added SO_REUSEADDR to both ends of the emulated socketpair and still get EADDRINUSE back</div>
<div class="line">[Monday 20 September 2010] [12:08:27] &lt;mato&gt;    so i think it&#8217;s just poor windows running out of ports to auto-assign or something :-)</div>
<div class="line">[Monday 20 September 2010] [12:08:50] &lt;mato&gt;    sustrik: anyway, the problem with select() has been fixed, so it&#8217;s all good!</div>
<div class="line">[Monday 20 September 2010] [12:11:05] &lt;sustrik&gt; nice</div>
<div class="line">[Monday 20 September 2010] [12:11:26] &lt;sustrik&gt; you may fill in the bug report for the EADDRINUSE stuff</div>
<div class="line">[Monday 20 September 2010] [12:24:30] &lt;mato&gt;    done</div>
<div class="line">[Monday 20 September 2010] [16:00:52] &lt;cpscotti&gt;    Hello there, anyone up to a philosophical (although basic) discussion on a zmq networking topology for a &#8220;generic&#8221; application? Regarding many clients &amp; services but without a broker.</div>
<div class="line">[Monday 20 September 2010] [16:17:01] &lt;cremes&gt;  cpscotti: i&#8217;d be happy to have that conversation with you tomorrow; i have to leave for the rest of today</div>
<div class="line">[Monday 20 September 2010] [16:19:20] &lt;cpscotti&gt;    cremes: thanks.. if nothing is solved in my side of things I&#8217;ll try tomorrow then</div>
<div class="line">[Monday 20 September 2010] [16:19:50] &lt;cremes&gt;  ok</div>
<div class="line">[Monday 20 September 2010] [17:07:39] &lt;ModusPwnens&gt; is the send function faster than the receive function? or are they both just as fast?</div>
<div class="line">[Monday 20 September 2010] [17:08:10] &lt;cpscotti&gt;    send doesn&#8217;t block, recv blocks</div>
<div class="line">[Monday 20 September 2010] [17:08:21] &lt;cpscotti&gt;    (as for the &#8220;program flow&#8221; speed)</div>
<div class="line">[Monday 20 September 2010] [17:08:33] &lt;cpscotti&gt;    now for the underlying stuff, dunno</div>
<div class="line">[Monday 20 September 2010] [17:08:36] &lt;ModusPwnens&gt; even with pub/sub topology?</div>
<div class="line">[Monday 20 September 2010] [17:08:37] &lt;jhawk28&gt; recv can do a noblock flag</div>
<div class="line">[Monday 20 September 2010] [17:08:49] &lt;cpscotti&gt;    awl.. yep..</div>
<div class="line">[Monday 20 September 2010] [17:08:56] &lt;ModusPwnens&gt; I see.</div>
<div class="line">[Monday 20 September 2010] [17:09:09] &lt;ModusPwnens&gt; So that would explain benchmarking tests where</div>
<div class="line">[Monday 20 September 2010] [17:09:12] &lt;ModusPwnens&gt; i run several in a row</div>
<div class="line">[Monday 20 September 2010] [17:09:55] &lt;ModusPwnens&gt; <a class="reference external" href="http://pastie.org/1161267">http://pastie.org/1161267</a></div>
<div class="line">[Monday 20 September 2010] [17:09:59] &lt;ModusPwnens&gt; thats probably better than explaining it</div>
<div class="line">[Monday 20 September 2010] [17:10:37] &lt;ModusPwnens&gt; I&#8217;ve sort of run into a wall with this and have been stuck on it for several days</div>
<div class="line">[Monday 20 September 2010] [17:10:44] &lt;ModusPwnens&gt; because I am seeing those results</div>
<div class="line">[Monday 20 September 2010] [17:10:47] &lt;ModusPwnens&gt; and am not sure what to make of them</div>
<div class="line">[Monday 20 September 2010] [18:41:15] &lt;larrytheliquid&gt;  are there any semantic implications to connecting multiple times to the same address?</div>
<div class="line">[Monday 20 September 2010] [18:41:36] &lt;larrytheliquid&gt;  from the same socket, that is</div>
<div class="line">[Tuesday 21 September 2010] [04:05:23] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r9c11886 10/ (src/socket_base.cpp src/socket_base.hpp): The flag in the socket has clear semantics now &#8211; it tracks whether corresponding context was closed, it doesn&#8217;t track whether zmq_close was called on the socket itself - <a class="reference external" href="http://bit.ly/d6ktZI">http://bit.ly/d6ktZI</a></div>
<div class="line">[Tuesday 21 September 2010] [04:05:23] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * re478468 10/ src/socket_base.hpp : minor error in comment fixed - <a class="reference external" href="http://bit.ly/a4RuQJ">http://bit.ly/a4RuQJ</a></div>
<div class="line">[Tuesday 21 September 2010] [11:56:52] &lt;starkdg&gt;    hello</div>
<div class="line">[Tuesday 21 September 2010] [11:57:09] &lt;guido_g&gt;    hi</div>
<div class="line">[Tuesday 21 September 2010] [12:12:06] &lt;CIA-20&gt; rbzmq: 03Brian Buchanan 07master * rdc552c2 10/ rbzmq.c : Make PUSH and PULL constants work even if using an older version of the library. - <a class="reference external" href="http://bit.ly/9ZisAu">http://bit.ly/9ZisAu</a></div>
<div class="line">[Tuesday 21 September 2010] [12:12:08] &lt;CIA-20&gt; rbzmq: 03Brian Buchanan 07master * rf17f6ca 10/ zmq.gemspec : update gem version to 2.0.9 - <a class="reference external" href="http://bit.ly/b4wU0A">http://bit.ly/b4wU0A</a></div>
<div class="line">[Tuesday 21 September 2010] [14:19:27] &lt;AltraMayor&gt; Hi there,</div>
<div class="line">[Tuesday 21 September 2010] [14:20:06] &lt;AltraMayor&gt; I&#8217;ve been reading about PNUTS, a NoSQL solution written by Yahoo!</div>
<div class="line">[Tuesday 21 September 2010] [14:21:21] &lt;AltraMayor&gt; A very important element of their design is their message brokers, which guarantee that messages aren&#8217;t lost. For example, they can make brokers replicate messages with others to support failure.</div>
<div class="line">[Tuesday 21 September 2010] [14:21:45] &lt;AltraMayor&gt; Is this use case supported by zeromq?</div>
<div class="line">[Tuesday 21 September 2010] [14:21:55] &lt;guido_g&gt;    no, zeromq doesn&#8217;t have that</div>
<div class="line">[Tuesday 21 September 2010] [14:22:26] &lt;guido_g&gt;    <a class="reference external" href="http://zguide.zeromq.org/chapter:1">http://zguide.zeromq.org/chapter:1</a> &lt;- more there</div>
<div class="line">[Tuesday 21 September 2010] [14:22:34] &lt;AltraMayor&gt; Thanks, guido_g.</div>
<div class="line">[Tuesday 21 September 2010] [14:23:21] &lt;AltraMayor&gt; I&#8217;ve read that page, but since it says that&#8217;s more coming, I couldn&#8217;t assume that it&#8217;s all.</div>
<div class="line">[Tuesday 21 September 2010] [14:23:54] &lt;AltraMayor&gt; Does anyone know a message broker designed to support that level of failure?</div>
<div class="line">[Tuesday 21 September 2010] [14:24:09] &lt;guido_g&gt;    you m ight have skipped the important things</div>
<div class="line">[Tuesday 21 September 2010] [14:24:31] &lt;AltraMayor&gt; I don&#8217;t follow you, guido_g.</div>
<div class="line">[Tuesday 21 September 2010] [14:24:33] &lt;guido_g&gt;    like that mq doesn&#8217;t have or is a message broker</div>
<div class="line">[Tuesday 21 September 2010] [14:25:11] &lt;AltraMayor&gt; I understand that zeromq isn&#8217;t a broker, but its durable option isn&#8217;t enough.</div>
<div class="line">[Tuesday 21 September 2010] [14:25:41] &lt;cremes&gt; AltraMayor: the roadmap is a wiki page that can be edited by anyone who signs up for an account</div>
<div class="line">[Tuesday 21 September 2010] [14:25:52] &lt;cremes&gt; if you think there are things missing, feel free to add them</div>
<div class="line">[Tuesday 21 September 2010] [14:25:55] &lt;AltraMayor&gt; I also understood I could implement a broker as reliable as I want using zeromq, but this would be just a piece of what I&#8217;m looking for.</div>
<div class="line">[Tuesday 21 September 2010] [14:29:12] &lt;AltraMayor&gt; Cremes: what&#8217;s the link to the roadmap page you mentioned?</div>
<div class="line">[Tuesday 21 September 2010] [14:31:08] &lt;cremes&gt; AltraMayor: it&#8217;s off the main page, left side under development:  <a class="reference external" href="http://www.zeromq.org/docs:3-0">http://www.zeromq.org/docs:3-0</a></div>
<div class="line">[Tuesday 21 September 2010] [14:31:55] &lt;AltraMayor&gt; Cremes: do you think there&#8217;s interest among the developers to implement this level of robustness? As I read, zeroqm is implemented by iMatix to meet their demands, I don&#8217;t know if they&#8217;d be interested in a wish list of a guy that wants to have an open-source alternative to PNUTS.</div>
<div class="line">[Tuesday 21 September 2010] [14:32:25] &lt;cremes&gt; good point... i heard their ceo speak on that very topic yesterday</div>
<div class="line">[Tuesday 21 September 2010] [14:32:34] &lt;cremes&gt; if you write the code, it will get done</div>
<div class="line">[Tuesday 21 September 2010] [14:32:41] &lt;cremes&gt; if you pay them to write the code, it will get done</div>
<div class="line">[Tuesday 21 September 2010] [14:35:03] &lt;AltraMayor&gt; I understand, but I&#8217;m looking for pieces to estimate the total effort to have an opensource PNUTS.</div>
<div class="line">[Tuesday 21 September 2010] [14:36:37] &lt;cremes&gt; okay, well i don&#8217;t know what pnuts is :)</div>
<div class="line">[Tuesday 21 September 2010] [14:39:57] &lt;AltraMayor&gt; Cremes: can you provide me a small description how you use 0mq?</div>
<div class="line">[Tuesday 21 September 2010] [14:41:04] &lt;cremes&gt; AltraMayor: sure...</div>
<div class="line">[Tuesday 21 September 2010] [14:41:24] &lt;cremes&gt; i use it to tie together a bunch of distributed components; i used to use amqp but threw it away for 0mq</div>
<div class="line">[Tuesday 21 September 2010] [14:41:40] &lt;cremes&gt; i do some pub/sub and some request/reply style message passing</div>
<div class="line">[Tuesday 21 September 2010] [14:41:55] &lt;cremes&gt; that&#8217;s the short version</div>
<div class="line">[Tuesday 21 September 2010] [14:42:01] &lt;AltraMayor&gt; How do your components deal with failure? Do you just restart them?</div>
<div class="line">[Tuesday 21 September 2010] [14:42:27] &lt;cremes&gt; it depends</div>
<div class="line">[Tuesday 21 September 2010] [14:42:45] &lt;cremes&gt; if certain components fail, it is fatal for the whole system</div>
<div class="line">[Tuesday 21 September 2010] [14:42:58] &lt;AltraMayor&gt; By the way, PNUTS is a NoSQL that supports replication/accesses/updates among datacenters.</div>
<div class="line">[Tuesday 21 September 2010] [14:43:05] &lt;cremes&gt; if others fail, i detect their absence and just restart/resend their jobs to surviving nodes</div>
<div class="line">[Tuesday 21 September 2010] [14:43:32] &lt;cremes&gt; then perhaps you want to look at mongodb as something similar; 0mq has <em>nothing</em> to do with nosql</div>
<div class="line">[Tuesday 21 September 2010] [14:43:40] &lt;cremes&gt; it&#8217;s not a database in any way, shape or form</div>
<div class="line">[Tuesday 21 September 2010] [14:47:47] &lt;AltraMayor&gt; I see that 0mq isn&#8217;t a database, but messaging brokers are key in PNUTS&#8217; design. Mongodb is the best NoSQL that I know so far, but it don&#8217;t support datacenters as graceful as PNUTS. And, I&#8217;m considering implement some pieces, I just didn&#8217;t want to start from so low as the message broker.</div>
<div class="line">[Tuesday 21 September 2010] [14:48:36] &lt;guido_g&gt;    then get something w/ a broker</div>
<div class="line">[Tuesday 21 September 2010] [14:49:36] &lt;AltraMayor&gt; Ok.</div>
<div class="line">[Tuesday 21 September 2010] [14:50:08] &lt;AltraMayor&gt; Thank you for your time!</div>
<div class="line">[Tuesday 21 September 2010] [14:50:52] &lt;guido_g&gt;    best would be broker which stores the messages in a reliable way distributed among datacenters</div>
<div class="line">[Tuesday 21 September 2010] [14:51:28] &lt;guido_g&gt;    now wating for the stack overflow...</div>
<div class="line">[Tuesday 21 September 2010] [16:56:11] &lt;Samy&gt;   like the new website</div>
<div class="line">[Tuesday 21 September 2010] [16:56:49] &lt;Samy&gt;   It would be nice if there was a more obvious link to the source repository.</div>
<div class="line">[Tuesday 21 September 2010] [16:59:06] &lt;Samy&gt;   Ah, zeromq.com != zeromq.org</div>
<div class="line">[Tuesday 21 September 2010] [17:07:55] &lt;mato&gt;   Samy: yeah, the .com site is intended as a portal for new users</div>
<div class="line">[Tuesday 21 September 2010] [17:08:09] &lt;mato&gt;   Samy: those who just want a first quick look</div>
<div class="line">[Tuesday 21 September 2010] [17:11:21] &lt;jond&gt;   mato: hi</div>
<div class="line">[Tuesday 21 September 2010] [17:14:31] &lt;mato&gt;   jond: hi there</div>
<div class="line">[Tuesday 21 September 2010] [17:15:04] &lt;jond&gt;   mato: i&#8217;ve been looking at the select.cpp and i think there is an issue</div>
<div class="line">[Tuesday 21 September 2010] [17:15:23] &lt;jond&gt;   because I&#8217;m fixing something similar in the dayjob</div>
<div class="line">[Tuesday 21 September 2010] [17:17:08] &lt;mato&gt;   jond: what kind of issue?</div>
<div class="line">[Tuesday 21 September 2010] [17:17:14] &lt;jond&gt;   as well as checking that the array doesnt get to FD_SETSIZE, it needs to check that the <a href="#id102"><span class="problematic" id="id103">fd_</span></a> in add_fd is actually greater than FD_SETSIZE</div>
<div class="line">[Tuesday 21 September 2010] [17:18:45] &lt;mato&gt;   why would the actual fd matter?</div>
<div class="line">[Tuesday 21 September 2010] [17:18:49] &lt;jond&gt;   FD_SET, CLR etc don&#8217;t work on linux above FD_SETSIZE. it&#8217;s on the man page at the bottom; I had a process with  6000 fd&#8217;s open and once the sockets started connecting and getting fd &gt; 1024 bad things happen</div>
<div class="line">[Tuesday 21 September 2010] [17:19:31] &lt;jond&gt;   fd_set is normally implemented as a bitvector of fixed size</div>
<div class="line">[Tuesday 21 September 2010] [17:19:33] &lt;mato&gt;   ah, you&#8217;re right</div>
<div class="line">[Tuesday 21 September 2010] [17:19:35] &lt;mato&gt;   yeah</div>
<div class="line">[Tuesday 21 September 2010] [17:19:46] &lt;mato&gt;   good point</div>
<div class="line">[Tuesday 21 September 2010] [17:20:21] &lt;mato&gt;   well, the select implementation has not really been stress-tested properly</div>
<div class="line">[Tuesday 21 September 2010] [17:20:40] &lt;mato&gt;   it&#8217;s only there for windows benefit (and vms I guess)</div>
<div class="line">[Tuesday 21 September 2010] [17:20:52] &lt;jond&gt;   we raised call with redhat and even if you recompile glibc etc the kernel has it at 1024. My problem is that the 6000 fd&#8217;s are files opened early and the sockets connect later and get to high fd.</div>
<div class="line">[Tuesday 21 September 2010] [17:21:02] &lt;jond&gt;   i&#8217;m changing to poll</div>
<div class="line">[Tuesday 21 September 2010] [17:21:27] &lt;mato&gt;   well, if you&#8217;re dealing with 000&#8217;s of fds you really should not be using select at all :-)</div>
<div class="line">[Tuesday 21 September 2010] [17:21:28] &lt;jond&gt;   on solaris I believe you can just redefine FD_SETSIZE</div>
<div class="line">[Tuesday 21 September 2010] [17:21:48] &lt;mato&gt;   and poll is not too performant with lots of fds either, you really want an edge-triggered interface</div>
<div class="line">[Tuesday 21 September 2010] [17:22:27] &lt;mato&gt;   anyhow, thanks for the tip; i&#8217;ll make a note to make a patch that adds in the appropriate assertions</div>
<div class="line">[Tuesday 21 September 2010] [17:23:03] &lt;jond&gt;   yep I know, but I &#8216;inherited&#8217; this code; we only have a 600 tcp connections, but open lots of files....</div>
<div class="line">[Tuesday 21 September 2010] [17:24:38] &lt;jond&gt;   mato: edge-triggered, you mean epoll?</div>
<div class="line">[Tuesday 21 September 2010] [17:27:02] &lt;mato&gt;   jond: yes</div>
<div class="line">[Tuesday 21 September 2010] [17:27:21] &lt;mato&gt;   jond: unfortunately epoll never got standardised so is available only on Linux</div>
<div class="line">[Tuesday 21 September 2010] [17:27:42] &lt;mato&gt;   jond: <a href="#id47"><span class="problematic" id="id48">*</span></a>BSD has kqueue, Solaris has Event Completion</div>
<div class="line">[Tuesday 21 September 2010] [17:27:53] &lt;jond&gt;   i&#8217;ll take a look tommorrow; thanks for the tip;</div>
<div class="line">[Tuesday 21 September 2010] [17:27:55] &lt;mato&gt;   jond: (re the Solaris implementation, see <a class="reference external" href="http://developers.sun.com/solaris/articles/event_completion.html">http://developers.sun.com/solaris/articles/event_completion.html</a>)</div>
<div class="line">[Tuesday 21 September 2010] [17:28:09] &lt;jond&gt;   mato: cheers</div>
<div class="line">[Tuesday 21 September 2010] [17:36:42] &lt;bgranger&gt;   mato:  did you see my reply about the message related deadlock you were seeing?</div>
<div class="line">[Tuesday 21 September 2010] [17:38:31] &lt;jond&gt;   bgranger: i did. is there a link to that pyzmq branch</div>
<div class="line">[Tuesday 21 September 2010] [17:38:39] &lt;bgranger&gt;   Sure, right here...</div>
<div class="line">[Tuesday 21 September 2010] [17:38:54] &lt;dermoth&gt;    Is there any example of XREQ/XREP  out there? I&#8217;ve used REP/REP successfully in the past and now I&#8217;d like to add devices in the middle, and I believe I need XREQ/XREP for that.</div>
<div class="line">[Tuesday 21 September 2010] [17:39:07] &lt;bgranger&gt;   <a class="reference external" href="http://github.com/zeromq/pyzmq/pull/18">http://github.com/zeromq/pyzmq/pull/18</a></div>
<div class="line">[Tuesday 21 September 2010] [17:39:11] &lt;bgranger&gt;   Here is the class</div>
<div class="line">[Tuesday 21 September 2010] [17:39:35] &lt;bgranger&gt;   <a class="reference external" href="http://github.com/minrk/pyzmq/blob/cd0a16729ab015ce8285843e303396ab3564173d/zmq/_zmq.pyx#L210">http://github.com/minrk/pyzmq/blob/cd0a16729ab015ce8285843e303396ab3564173d/zmq/_zmq.pyx#L210</a></div>
<div class="line">[Tuesday 21 September 2010] [17:40:03] &lt;bgranger&gt;   We are still doing code review so a few more things might change in the API, but I think things are mostly in place.</div>
<div class="line">[Tuesday 21 September 2010] [17:40:49] &lt;mato&gt;   bgranger: hi</div>
<div class="line">[Tuesday 21 September 2010] [17:41:04] &lt;bgranger&gt;   hi</div>
<div class="line">[Tuesday 21 September 2010] [17:41:12] &lt;mato&gt;   bgranger: yes, i saw that, am travelling most of this week (Linux Kongress in Nurnberg, Martin Sustrik is presenting)</div>
<div class="line">[Tuesday 21 September 2010] [17:41:21] &lt;bgranger&gt;   Nice</div>
<div class="line">[Tuesday 21 September 2010] [17:41:30] &lt;jond&gt;   bgranger: thanks, i&#8217;ll take a look. I think that function that&#8217;s added in py2.7 for PendingCall looks interesting and could still provide a version which doesnt need the MesssageTrcaker</div>
<div class="line">[Tuesday 21 September 2010] [17:41:33] &lt;mato&gt;   bgranger: will look at it next week once I get back home</div>
<div class="line">[Tuesday 21 September 2010] [17:41:48] &lt;bgranger&gt;   Great, sounds good, by then it will probably be in our master.</div>
<div class="line">[Tuesday 21 September 2010] [17:41:50] &lt;mato&gt;   bgranger: can&#8217;t really test it reliably while on the road.</div>
<div class="line">[Tuesday 21 September 2010] [17:41:59] &lt;bgranger&gt;   OK</div>
<div class="line">[Tuesday 21 September 2010] [17:54:16] &lt;cremes&gt; dermoth: hopefully this will help a little:  <a class="reference external" href="http://www.zeromq.org/tutorials:xreq-and-xrep">http://www.zeromq.org/tutorials:xreq-and-xrep</a></div>
<div class="line">[Tuesday 21 September 2010] [17:58:43] &lt;dermoth&gt;    [bbl]</div>
<div class="line">[Tuesday 21 September 2010] [19:27:45] &lt;tylergillies&gt;   whats the difference between req/rep and upstream/downstream?</div>
<div class="line">[Tuesday 21 September 2010] [19:31:11] &lt;vanadium&gt;   req/rep are bidirectional/back and forth, upstream/downstream are push/pull and one of them always sends and the other always receives</div>
<div class="line">[Tuesday 21 September 2010] [21:03:26] &lt;dermoth&gt;    actually one of the issues that I was seeing is obvious... in a php worker I want to have a persistent socket that use req/rep (or the x equivalent if needed), but if the backend isn&#8217;T responding timely I just want to leave early and go on, but then when the next request comes in the socket is still expecting a reply... how can I work around this?</div>
<div class="line">[Tuesday 21 September 2010] [21:03:41] &lt;dermoth&gt;    i guess that&#8217;S a good one for the ML :)</div>
<div class="line">[Wednesday 22 September 2010] [07:53:53] &lt;raz&gt;  hm</div>
<div class="line">[Wednesday 22 September 2010] [07:53:58] &lt;raz&gt;  looking at the divide&amp;conquer example i wonder</div>
<div class="line">[Wednesday 22 September 2010] [07:54:18] &lt;raz&gt;  how does zmq behave when a worker does <em>not</em> indicate it finished? (e.g. because it crashed)</div>
<div class="line">[Wednesday 22 September 2010] [07:54:25] &lt;raz&gt;  will the task be re-queued to a different worker?</div>
<div class="line">[Wednesday 22 September 2010] [08:00:10] Notice -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Wednesday 22 September 2010] [08:00:10] Notice -NickServ- You are now identified for travlr.</div>
<div class="line">[Wednesday 22 September 2010] [08:00:10] CTCP   Received Version request from frigg.</div>
<div class="line">[Wednesday 22 September 2010] [08:02:12] &lt;guido_g&gt;  no, you have to do it yourself</div>
<div class="line">[Wednesday 22 September 2010] [08:07:53] &lt;raz&gt;  hm</div>
<div class="line">[Wednesday 22 September 2010] [08:08:36] &lt;raz&gt;  the taskvent example doesn&#8217;t seem to inspect the return value at all</div>
<div class="line">[Wednesday 22 September 2010] [08:08:53] &lt;raz&gt;  would s_send return an error if no worker picks the message up?</div>
<div class="line">[Wednesday 22 September 2010] [08:09:27]     * raz tries to find some semantic overview of the different modes/types</div>
<div class="line">[Wednesday 22 September 2010] [08:10:37] &lt;raz&gt;  the zmq_send man-page does not mention such an error tho</div>
<div class="line">[Wednesday 22 September 2010] [08:10:55] &lt;guido_g&gt;  <a class="reference external" href="http://api.zeromq.org/zmq_socket.html">http://api.zeromq.org/zmq_socket.html</a></div>
<div class="line">[Wednesday 22 September 2010] [08:11:19] &lt;guido_g&gt;  there should be a description what happens for the socket types if something goes wrong</div>
<div class="line">[Wednesday 22 September 2010] [08:11:51]     * guido_g needs an new english grammar module though</div>
<div class="line">[Wednesday 22 September 2010] [08:12:20] &lt;raz&gt;  hmyea</div>
<div class="line">[Wednesday 22 September 2010] [08:12:30] &lt;raz&gt;  the ZMQ_PUSH section doesn&#8217;t tell me what happens when a msg can not be delivered tho</div>
<div class="line">[Wednesday 22 September 2010] [08:12:41] &lt;raz&gt;  or rather.. i assumed there was some sort of acknowledgement going on</div>
<div class="line">[Wednesday 22 September 2010] [08:12:45] &lt;guido_g&gt;  nothing</div>
<div class="line">[Wednesday 22 September 2010] [08:12:46] &lt;raz&gt;  which is apparently on the case</div>
<div class="line">[Wednesday 22 September 2010] [08:13:19] &lt;raz&gt;  s/on/not/</div>
<div class="line">[Wednesday 22 September 2010] [08:14:02] &lt;guido_g&gt;  there is no guarantee for delivery in mq</div>
<div class="line">[Wednesday 22 September 2010] [08:15:03] &lt;raz&gt;  hmm</div>
<div class="line">[Wednesday 22 September 2010] [08:37:48] &lt;ajsie&gt;    zeromq doesnt support persistence?</div>
<div class="line">[Wednesday 22 September 2010] [09:15:01] &lt;guido_g&gt;  it can store messages, but that&#8217;s not what you know from broker based solutions</div>
<div class="line">[Wednesday 22 September 2010] [09:32:55] &lt;keffo&gt;    mm, nice.. code dated 3/11/78</div>
<div class="line">[Wednesday 22 September 2010] [09:37:24] &lt;vanadium&gt; If I have one push sockets sending workloads to a number of threads with pull sockets, the work will be evenly distributed over all threads even if some of them take way longer per workload, right?</div>
<div class="line">[Wednesday 22 September 2010] [09:37:38] &lt;vanadium&gt; It is just a round-robin thing and not actually communicating back who is ready for more work or anything?</div>
<div class="line">[Wednesday 22 September 2010] [09:50:42] &lt;drbobbeaty&gt;   vanadium: I&#8217;ve not used the PUSH/PULL sockets before, but I believe that you are correct in your assumption. You have a single socket (PUSH) that&#8217;s bound to some URL, and a series of &#8220;worker threads&#8221; that each has a socket (PULL) that&#8217;s connected to that same URL. Then, as the single &#8220;producer&#8221; socket sends out messages, they are picked up and worked on, in turn, by the worker threads.</div>
<div class="line">[Wednesday 22 September 2010] [09:51:24] &lt;drbobbeaty&gt;   As i understand it, there are several ways to handle the distribution - round-robin, least-recently-used, etc., but I&#8217;m not as familiar with those concepts or how to set them up.</div>
<div class="line">[Wednesday 22 September 2010] [09:51:24] &lt;vanadium&gt; Thank you</div>
<div class="line">[Wednesday 22 September 2010] [09:51:58] &lt;drbobbeaty&gt;   no problem</div>
<div class="line">[Wednesday 22 September 2010] [10:03:28] &lt;guido_g&gt;  re</div>
<div class="line">[Wednesday 22 September 2010] [10:13:17] &lt;raz&gt;  has anyone used zmq with ruby eventmachine?</div>
<div class="line">[Wednesday 22 September 2010] [10:13:20] &lt;raz&gt;  does it blend?</div>
<div class="line">[Wednesday 22 September 2010] [10:17:39] &lt;cremes&gt;   raz: the 2.0.x branch doesn&#8217;t blend well with EM; the 2.1.x branch <em>might</em></div>
<div class="line">[Wednesday 22 September 2010] [10:17:44] &lt;cremes&gt;   in the meantime, check out <a class="reference external" href="http://github.com/chuckremes/zmqmachine">http://github.com/chuckremes/zmqmachine</a></div>
<div class="line">[Wednesday 22 September 2010] [10:18:10] &lt;raz&gt;  well, i have an existing em app that i&#8217;d like to add zmq to</div>
<div class="line">[Wednesday 22 September 2010] [10:18:30] &lt;raz&gt;  zmqmachine looks like it&#8217;s meant to be a replacement for em</div>
<div class="line">[Wednesday 22 September 2010] [10:18:41] &lt;cremes&gt;   right</div>
<div class="line">[Wednesday 22 September 2010] [10:19:01] &lt;cremes&gt;   you&#8217;d have to wire the 0mq sockets into the EM reactor loop</div>
<div class="line">[Wednesday 22 September 2010] [10:19:09] &lt;cremes&gt;   that isn&#8217;t possible with any 0mq release right now</div>
<div class="line">[Wednesday 22 September 2010] [10:19:25] &lt;raz&gt;  hrm</div>
<div class="line">[Wednesday 22 September 2010] [10:19:28] &lt;cremes&gt;   the 2.1.x branch has a few new file descriptor elements exposed which will make it feasible to do so</div>
<div class="line">[Wednesday 22 September 2010] [10:19:43] &lt;raz&gt;  any dirty trick possible with a thread or so?</div>
<div class="line">[Wednesday 22 September 2010] [10:19:55] &lt;cremes&gt;   of course, but that&#8217;s cheating :)</div>
<div class="line">[Wednesday 22 September 2010] [10:19:59] &lt;raz&gt;  hehe</div>
<div class="line">[Wednesday 22 September 2010] [10:20:11] &lt;raz&gt;  i don&#8217;t need it super pretty or fast, but super reliable would be nice ;)</div>
<div class="line">[Wednesday 22 September 2010] [10:21:05] &lt;raz&gt;  sadly my eventmachine fu isn&#8217;t all that advanced, not sure if i&#8217;d get the dispatching between eventmachine and a separate thread right</div>
<div class="line">[Wednesday 22 September 2010] [10:21:06] &lt;cremes&gt;   you would need to run the 0mq stuff in a thread separate from EM and any interaction would need to be scheduled via EM.schedule</div>
<div class="line">[Wednesday 22 September 2010] [10:21:23] &lt;cremes&gt;   0mq -&gt; EM would be via EM.schedule</div>
<div class="line">[Wednesday 22 September 2010] [10:21:33] &lt;cremes&gt;   EM -&gt; 0mq could be handled straight up</div>
<div class="line">[Wednesday 22 September 2010] [10:22:04] &lt;raz&gt;  except when the 0mq call blocks (in the latter case)</div>
<div class="line">[Wednesday 22 September 2010] [10:22:16] &lt;raz&gt;  guess i should use a queue both ways</div>
<div class="line">[Wednesday 22 September 2010] [10:22:23] &lt;cremes&gt;   raz: you&#8217;d have to pass ZM_NOBLOCK to all send/recv calls</div>
<div class="line">[Wednesday 22 September 2010] [10:22:48] &lt;raz&gt;  hmm</div>
<div class="line">[Wednesday 22 September 2010] [10:23:15] &lt;cremes&gt;   you could maybe run zmqmachine and EM in parallel; all of that NO_BLOCK stuff is handled for you then</div>
<div class="line">[Wednesday 22 September 2010] [10:23:18] &lt;raz&gt;  sounds like that may be worth a shot</div>
<div class="line">[Wednesday 22 September 2010] [10:23:25] &lt;cremes&gt;   let us know how it turns out</div>
<div class="line">[Wednesday 22 September 2010] [13:49:42] &lt;mankins&gt;  hi&#8211;i&#8217;ve got an installation problem with 2.0.9 under linux. configure: error: cannot link with -luuid, install uuid-dev.</div>
<div class="line">[Wednesday 22 September 2010] [13:49:58] &lt;mankins&gt;  only I&#8217;ve already got uuid-devel installed (under fedora core 8 on ec2)</div>
<div class="line">[Wednesday 22 September 2010] [13:50:39] &lt;mankins&gt;  libuuid.so.1 is at /lib ... not sure where to go next.  Does this ring any bells?</div>
<div class="line">[Wednesday 22 September 2010] [13:56:58]     * mankins looks to mirror: oh! ln -s /usr/lib/libuuid.so.1 /usr/lib/libuuid.so fixed it.</div>
<div class="line">[Wednesday 22 September 2010] [14:14:59]     * mankins oh, maybe e2fsprogs-devel as well.</div>
<div class="line">[Wednesday 22 September 2010] [16:29:17] &lt;CIA-20&gt;   jzmq: 03Stefan Majer 07master * rf3aa751 10/ (jzmq.spec pom.xml): RPM Packaging and Mavenized, first step. - <a class="reference external" href="http://bit.ly/a6fxhX">http://bit.ly/a6fxhX</a></div>
<div class="line">[Wednesday 22 September 2010] [17:07:10] &lt;cremes&gt;   i&#8217;m wondering if anyone has seen an assertion failure in 2.0.9</div>
<div class="line">[Wednesday 22 September 2010] [17:07:11] &lt;cremes&gt;   Assertion failed: !engine (session.cpp:287)</div>
<div class="line">[Wednesday 22 September 2010] [17:07:49] &lt;cremes&gt;   i&#8217;m hitting that a lot but i can&#8217;t figure out why; i&#8217;m having a hard time reducing the code to a small example</div>
<div class="line">[Wednesday 22 September 2010] [17:11:54] &lt;pieterh&gt;  cremes: that&#8217;s a reported issue afair</div>
<div class="line">[Wednesday 22 September 2010] [17:12:11] &lt;pieterh&gt;  it&#8217;s caused by... /me vaguely recalls... identity crisis</div>
<div class="line">[Wednesday 22 September 2010] [17:12:23]     * pieterh goes to check issue tracker</div>
<div class="line">[Wednesday 22 September 2010] [17:12:27] &lt;cremes&gt;   ah... 2+ sockets with same identity...?</div>
<div class="line">[Wednesday 22 September 2010] [17:12:37] &lt;pieterh&gt;  yeah</div>
<div class="line">[Wednesday 22 September 2010] [17:12:45] &lt;pieterh&gt;  evil twin syndrome</div>
<div class="line">[Wednesday 22 September 2010] [17:12:47] &lt;cremes&gt;   cool, then i know where <em>my</em> bug is.... :)</div>
<div class="line">[Wednesday 22 September 2010] [17:13:00] &lt;pieterh&gt;  issue 30</div>
<div class="line">[Wednesday 22 September 2010] [17:13:23] &lt;pieterh&gt;  hey chuck, Chicago <em>rocks</em> :-)</div>
<div class="line">[Wednesday 22 September 2010] [17:13:59] &lt;cremes&gt;   i&#8217;m glad you had a good time... may i assume the trip was worthwhile from both a pleasure <em>and</em> business perspective?</div>
<div class="line">[Wednesday 22 September 2010] [17:14:43]     * pieterh is typing with his 1-month son in his arms... slightly tricky</div>
<div class="line">[Wednesday 22 September 2010] [17:14:49] &lt;cremes&gt;   heh</div>
<div class="line">[Wednesday 22 September 2010] [17:15:07] &lt;pieterh&gt;  0mq + chicago = boom!</div>
<div class="line">[Wednesday 22 September 2010] [17:15:21] &lt;cremes&gt;   good boom or bad boom? ;)</div>
<div class="line">[Wednesday 22 September 2010] [17:15:32] &lt;pieterh&gt;  the good kind :-)</div>
<div class="line">[Wednesday 22 September 2010] [17:15:50] &lt;cremes&gt;   great... next time you come out bring the team</div>
<div class="line">[Wednesday 22 September 2010] [17:16:24] &lt;cremes&gt;   oops, gotta run; catch ya later!</div>
<div class="line">[Wednesday 22 September 2010] [17:17:56] &lt;pieterh&gt;  cyl</div>
<div class="line">[Wednesday 22 September 2010] [17:21:10] &lt;mato&gt; pieterh: yo</div>
<div class="line">[Wednesday 22 September 2010] [17:21:18] &lt;mato&gt; pieterh: just got back from dinner, etc with sustrik</div>
<div class="line">[Wednesday 22 September 2010] [17:21:38] &lt;mato&gt; pieterh: linux-kongress starts tomorrow, martin is speaking around 5pm</div>
<div class="line">[Wednesday 22 September 2010] [17:24:00] &lt;pieterh&gt;  hey mato :-)</div>
<div class="line">[Wednesday 22 September 2010] [17:24:11] &lt;pieterh&gt;  how&#8217;s nurnberg?</div>
<div class="line">[Wednesday 22 September 2010] [17:24:21] &lt;mato&gt; nice</div>
<div class="line">[Wednesday 22 September 2010] [17:24:27] &lt;mato&gt; good beer</div>
<div class="line">[Wednesday 22 September 2010] [17:24:35] &lt;mato&gt; some kind of local beer fest is on</div>
<div class="line">[Wednesday 22 September 2010] [17:24:39] &lt;pieterh&gt;  in germany? lol...</div>
<div class="line">[Wednesday 22 September 2010] [17:25:20] &lt;pieterh&gt;  there&#8217;s some kind of wine festival in bratislava next weekend</div>
<div class="line">[Wednesday 22 September 2010] [17:25:49] &lt;pieterh&gt;  hey, mato, random question about messages</div>
<div class="line">[Wednesday 22 September 2010] [17:26:08] &lt;pieterh&gt;  i vaguely recall El Sustrik saying that zmq_send nullifies the message it sends</div>
<div class="line">[Wednesday 22 September 2010] [17:26:24] &lt;pieterh&gt;  even insisting this should be clearly explained in the guide</div>
<div class="line">[Wednesday 22 September 2010] [17:26:33] &lt;mato&gt; zmq_recv does</div>
<div class="line">[Wednesday 22 September 2010] [17:26:39] &lt;mato&gt; send doesn&#8217;t afaik</div>
<div class="line">[Wednesday 22 September 2010] [17:26:47] &lt;pieterh&gt;  ? recv nullifies the message?</div>
<div class="line">[Wednesday 22 September 2010] [17:26:56]     * pieterh needs another glass of vino to understand this</div>
<div class="line">[Wednesday 22 September 2010] [17:27:15] &lt;pieterh&gt;  ah, before receiving, previous contents are discarded...</div>
<div class="line">[Wednesday 22 September 2010] [17:28:25] &lt;pieterh&gt;  mato: nah, it was send</div>
<div class="line">[Wednesday 22 September 2010] [17:28:32] &lt;pieterh&gt;  i found the line in the userguide:</div>
<div class="line">[Wednesday 22 September 2010] [17:28:33] &lt;pieterh&gt;  <strong>Note than when you have passed a message to zmq_send[3], 0MQ will clear the message, i.e. set the data to empty.  You cannot send the same message twice, and you cannot access the message data after sending it.</strong></div>
<div class="line">[Wednesday 22 September 2010] [17:28:44] &lt;pieterh&gt;  yet this is wrong</div>
<div class="line">[Wednesday 22 September 2010] [17:29:15] &lt;pieterh&gt;  could you bounce this off Sustrik?</div>
<div class="line">[Wednesday 22 September 2010] [17:30:04] &lt;mato&gt; that&#8217;s wrong</div>
<div class="line">[Wednesday 22 September 2010] [17:30:12] &lt;mato&gt; of course you can send a message multiple times</div>
<div class="line">[Wednesday 22 September 2010] [17:30:15] &lt;mato&gt; i do it all the time</div>
<div class="line">[Wednesday 22 September 2010] [17:30:18] &lt;starkdg&gt;  i thought zmq_msg_close() is what kills messages ?</div>
<div class="line">[Wednesday 22 September 2010] [17:30:24] &lt;mato&gt; yes, precisely</div>
<div class="line">[Wednesday 22 September 2010] [17:30:42] &lt;mato&gt; recv is special in that it destroys the content of the message being received into (if any)</div>
<div class="line">[Wednesday 22 September 2010] [17:30:46] &lt;mato&gt; which makes sense</div>
<div class="line">[Wednesday 22 September 2010] [17:30:50] &lt;mato&gt; send does not touch it</div>
<div class="line">[Wednesday 22 September 2010] [17:30:51] &lt;pieterh&gt;  mato: that all makes sense</div>
<div class="line">[Wednesday 22 September 2010] [17:31:13] &lt;pieterh&gt;  yet I wrote that after sustrik explicitly asked me to emphasize that</div>
<div class="line">[Wednesday 22 September 2010] [17:31:20] &lt;pieterh&gt;  maybe he meant recv not send...</div>
<div class="line">[Wednesday 22 September 2010] [17:31:25] &lt;pieterh&gt;  or i noted it wrong</div>
<div class="line">[Wednesday 22 September 2010] [17:31:32] &lt;mato&gt; probably</div>
<div class="line">[Wednesday 22 September 2010] [17:31:47] &lt;pieterh&gt;  send is 100% safe?</div>
<div class="line">[Wednesday 22 September 2010] [17:31:57] &lt;mato&gt; it&#8217;s quite obviously wrong, i have lots of code that sends the same msg_t X times</div>
<div class="line">[Wednesday 22 September 2010] [17:32:00] &lt;pieterh&gt;  kurwa</div>
<div class="line">[Wednesday 22 September 2010] [17:32:03] &lt;pieterh&gt;  ok, thanks...</div>
<div class="line">[Wednesday 22 September 2010] [17:32:04] &lt;mato&gt; :-)</div>
<div class="line">[Wednesday 22 September 2010] [17:32:58] &lt;starkdg&gt;  you can recieve and send the same message, right ?  ive been doing that</div>
<div class="line">[Wednesday 22 September 2010] [17:33:49] &lt;mato&gt; yes</div>
<div class="line">[Thursday 23 September 2010] [00:28:54] &lt;Pe_Ell&gt;    anyone know if there is a roadmap for release dates?  Just wondering since I didn&#8217;t notice one on github or the site off hand...</div>
<div class="line">[Thursday 23 September 2010] [01:39:53] &lt;guido_g&gt;   nope, there is no such thing</div>
<div class="line">[Thursday 23 September 2010] [01:40:21] &lt;guido_g&gt;   standard quote is &#8220;it&#8217;ll be released when its ready&#8221; :)</div>
<div class="line">[Thursday 23 September 2010] [01:42:47] &lt;Pe_Ell&gt;    heh, k</div>
<div class="line">[Thursday 23 September 2010] [01:43:23] &lt;Pe_Ell&gt;    there&#8217;s a feature in 2.1 that I&#8217;m waiting for...  wasn&#8217;t sure how stable the git branch was...  guess I&#8217;ll just keep on waiting...  :)</div>
<div class="line">[Thursday 23 September 2010] [01:43:37] &lt;guido_g&gt;   if you&#8217;re around longer, ask pieterh, mato or sustrik, they do know the details</div>
<div class="line">[Thursday 23 September 2010] [01:44:20] &lt;Pe_Ell&gt;    k.  I&#8217;ll just leave this open for now while I read more code/docs...</div>
<div class="line">[Thursday 23 September 2010] [08:53:57] &lt;pieter_hintjens&gt;   hi folk, it&#8217;s quiet today</div>
<div class="line">[Thursday 23 September 2010] [08:54:21] &lt;pieter_hintjens&gt;   <a href="#id49"><span class="problematic" id="id50">*</span></a>folks</div>
<div class="line">[Thursday 23 September 2010] [08:54:32] &lt;pieter_hintjens&gt;   I&#8217;ve pushed out a new version of the user guide</div>
<div class="line">[Thursday 23 September 2010] [11:19:34] &lt;friendshi&gt; hi, I&#8217;m having an issue when trying to do non-block recv... I always immediately receive an exception &#8216;Resource temporarily unavailable&#8217;, anyone know where i might be going wrong?</div>
<div class="line">[Thursday 23 September 2010] [11:20:30] &lt;guido_g&gt;   maybe the connect wasn&#8217;t done at this point in time</div>
<div class="line">[Thursday 23 September 2010] [11:20:52] &lt;friendshi&gt; hmm it works fine with i do blocking, and i have tried sleeping for 5+ seconds between connect and recv</div>
<div class="line">[Thursday 23 September 2010] [11:21:13] &lt;guido_g&gt;   because the real connection handling is in a seperate thread, you might do the receive while the underlying connection is not yet established</div>
<div class="line">[Thursday 23 September 2010] [11:23:33] &lt;friendshi&gt; i dont think that can be it... when i do it without block it begins reading my messages immediately... unless i am misunderstanding what you are suggesting</div>
<div class="line">[Thursday 23 September 2010] [11:23:42] &lt;friendshi&gt; <a href="#id51"><span class="problematic" id="id52">*</span></a>without nonblock</div>
<div class="line">[Thursday 23 September 2010] [11:24:04] &lt;guido_g&gt;   i didn&#8217;t suggest something</div>
<div class="line">[Thursday 23 September 2010] [11:24:19] &lt;friendshi&gt; sorry i just  mean, what you are saying the issue could be</div>
<div class="line">[Thursday 23 September 2010] [11:24:40] &lt;guido_g&gt;   one idea is to make the first receive blocking and all others not</div>
<div class="line">[Thursday 23 September 2010] [11:25:01] &lt;guido_g&gt;   if this works, it&#8217;s time for an issue i&#8217;d say</div>
<div class="line">[Thursday 23 September 2010] [11:26:26]      * guido_g checks the docu</div>
<div class="line">[Thursday 23 September 2010] [11:26:27] &lt;friendshi&gt; same issue :(</div>
<div class="line">[Thursday 23 September 2010] [11:26:45] &lt;friendshi&gt; it does receive first message fine, then immediate fail on nonblock recv</div>
<div class="line">[Thursday 23 September 2010] [11:26:53] &lt;guido_g&gt;   then try to make a small program that shows the problem and show the code</div>
<div class="line">[Thursday 23 September 2010] [11:27:08] &lt;friendshi&gt; sure</div>
<div class="line">[Thursday 23 September 2010] [11:45:52] &lt;vagn&gt;  greetings.  Is there an example somewhere on how to shutdown a ZMQ_REP socket so the otherside doesn&#8217;t hang when the service returns?</div>
<div class="line">[Thursday 23 September 2010] [11:46:57] &lt;vagn&gt;  I want to stop getting requests, but finish all the replies, then exit the program.</div>
<div class="line">[Thursday 23 September 2010] [11:47:48] &lt;vagn&gt;  but the requests are queued, right? so the other side things it should get a reply.  so basically I have to shutdown the incoming queue, too.</div>
<div class="line">[Thursday 23 September 2010] [11:47:57] &lt;vagn&gt;  <a href="#id53"><span class="problematic" id="id54">*</span></a>thinks</div>
<div class="line">[Thursday 23 September 2010] [11:53:19] &lt;guido_g&gt;   i&#8217;d do this kind of synchronization with explicit messages, much easier imho</div>
<div class="line">[Thursday 23 September 2010] [11:54:45] &lt;vagn&gt;  thinking some more... that still doesn&#8217;t cure tha case where the server crashes.</div>
<div class="line">[Thursday 23 September 2010] [11:56:02] &lt;vagn&gt;  maybe I should start over and do things with pub/sub  or multicast.  I don&#8217;t care if I lose a message.  the next one that comes along is good enough.</div>
<div class="line">[Thursday 23 September 2010] [12:16:33] &lt;friendshi&gt; i find that my problem was that in pyzmq document/source it states &#8216;If NOBLOCK is set, this method will return None if a message is not ready&#8217; but that is untrue, I believe it is throwing exception is no message exist</div>
<div class="line">[Thursday 23 September 2010] [12:16:55] &lt;friendshi&gt; maybe i am misreading or misunderstanding though</div>
<div class="line">[Thursday 23 September 2010] [12:22:21] &lt;keffo&gt; oh by my might beard! I hate 3g</div>
<div class="line">[Thursday 23 September 2010] [12:58:56] &lt;bgranger&gt;  friendshi: hi</div>
<div class="line">[Thursday 23 September 2010] [15:39:01] Notice  -Martinp23- :[Global Notice] Hi folks. One of our servers (jordan) needs to undergo emergency maintenance in the next 30 minutes. The maintenance window will be 48 hours or so. The result of this will be a netsplit as 3000 users, who have already been notified seperately, disconnect. I&#8217;m sorry for the inconvenience. If you&#8217;ve any questions, pop into #freenode. Thanks!</div>
<div class="line">[Thursday 23 September 2010] [21:21:38] &lt;jhawk28&gt;   does any other protocols than tcp work on Windows?</div>
<div class="line">[Friday 24 September 2010] [03:09:12] CTCP  Received Version request from frigg.</div>
<div class="line">[Friday 24 September 2010] [03:09:12] Notice    -NickServ- travlr__ is not a registered nickname.</div>
<div class="line">[Friday 24 September 2010] [07:27:21] &lt;Zao&gt; Assuming you manage to build it, I can&#8217;t see why OpenPGM wouldn&#8217;t work.</div>
<div class="line">[Friday 24 September 2010] [09:45:33] &lt;CIA-20&gt;  jzmq: 03Stefan Majer 07master * r7073557 10/ src/org/zeromq/ZMQ.java : Javadoc, reduction of the visibility of a lot of flags reduced to private because they are only used inside public setters/getters. Fix of some checkstyle warnings. - <a class="reference external" href="http://bit.ly/aGlNur">http://bit.ly/aGlNur</a></div>
<div class="line">[Friday 24 September 2010] [09:45:33] &lt;CIA-20&gt;  jzmq: 03Stefan Majer 07master * r34d656f 10/ src/org/zeromq/ZMQ.java :</div>
<div class="line">[Friday 24 September 2010] [09:45:33] &lt;CIA-20&gt;  jzmq: Deprecation of ZMQ.UPSTREAM and ZMQ.DOWNSTREAM</div>
<div class="line">[Friday 24 September 2010] [09:45:33] &lt;CIA-20&gt;  jzmq: Socket.subscribe and Socket.unsubscribe only on a Socket of Type ZMQ.SUB - <a class="reference external" href="http://bit.ly/cQRpmM">http://bit.ly/cQRpmM</a></div>
<div class="line">[Friday 24 September 2010] [09:45:33] &lt;CIA-20&gt;  jzmq: 03Stefan Majer 07master * r86512f8 10/ src/org/zeromq/ZMQ.java :</div>
<div class="line">[Friday 24 September 2010] [09:45:33] &lt;CIA-20&gt;  jzmq: Revert the subscribe/unsubscribe check,</div>
<div class="line">[Friday 24 September 2010] [09:45:34] &lt;CIA-20&gt;  jzmq: Whitespace and identation with zeromq rules - <a class="reference external" href="http://bit.ly/9wrDyQ">http://bit.ly/9wrDyQ</a></div>
<div class="line">[Friday 24 September 2010] [09:45:34] &lt;CIA-20&gt;  jzmq: 03Gonzalo Diethelm 07master * re4abb79 10/ src/org/zeromq/ZMQ.java : Merge branch &#8216;master&#8217; of <a class="reference external" href="http://github.com/majst01/jzmq">http://github.com/majst01/jzmq</a> - <a class="reference external" href="http://bit.ly/ciD0VO">http://bit.ly/ciD0VO</a></div>
<div class="line">[Friday 24 September 2010] [09:45:35] &lt;CIA-20&gt;  jzmq: 03Gonzalo Diethelm 07master * r3ba6cc1 10/ src/org/zeromq/ZMQ.java : Pulled changes from Stefan Majer to improve documentation and visibility. Made minor modifications. - <a class="reference external" href="http://bit.ly/awIGSC">http://bit.ly/awIGSC</a></div>
<div class="line">[Friday 24 September 2010] [10:53:29] &lt;codebeaker&gt;  hey, quick sanity check - can I (should I?) include the zeromq repository in my own project as a git submodule ?</div>
<div class="line">[Friday 24 September 2010] [11:16:58] &lt;cremes&gt;  codebeaker: that&#8217;s a good question for some git experts... i don&#8217; t think there are any in this channel</div>
<div class="line">[Friday 24 September 2010] [11:18:04] &lt;codebeaker&gt;  cremes: I don&#8217;t need a git expert, my question was more about whether it makes sense, if you distribute a closed source application, between a couple of devlopers (mac and windows targets) how are other people typically including the mq sources in their projects</div>
<div class="line">[Friday 24 September 2010] [11:18:46] &lt;codebeaker&gt;  I noticed there were separate downloads available for Windows and Unix, so that would lead me to believe you have to build them differently</div>
<div class="line">[Friday 24 September 2010] [11:20:51] &lt;cremes&gt;  i don&#8217;t know how to answer your question... hopefully someone else will come along who can</div>
<div class="line">[Friday 24 September 2010] [11:21:09] &lt;codebeaker&gt;  thanks cremes - appreciate the attention anyway</div>
<div class="line">[Friday 24 September 2010] [11:21:33] &lt;codebeaker&gt;  basically, I could include the whole repository from mq in my own, and then specify build flags - but I&#8217;m not sure how smart that would be</div>
<div class="line">[Friday 24 September 2010] [11:31:29] &lt;pieter_hintjens&gt; codebeaker: including 0MQ as a git submodule would be a pretty good solution, yes</div>
<div class="line">[Friday 24 September 2010] [11:32:09] &lt;pieter_hintjens&gt; at least until 0MQ becomes a standard package on the various distros</div>
<div class="line">[Friday 24 September 2010] [11:32:29] &lt;pieter_hintjens&gt; and definitely a good idea if you want specific versions or branches of 0MQ</div>
<div class="line">[Friday 24 September 2010] [11:33:08] &lt;pieter_hintjens&gt; but the distribution packages are identical except for line endings and compression format</div>
<div class="line">[Friday 24 September 2010] [11:35:49] &lt;codebeaker&gt;  pieter_hintjens: ^ thanks that&#8217;s <em>exactly</em> the info I needed :-D</div>
<div class="line">[Friday 24 September 2010] [11:35:58] &lt;codebeaker&gt;  bew, mq is freakin awesome</div>
<div class="line">[Friday 24 September 2010] [11:36:01] &lt;codebeaker&gt;  btw*</div>
<div class="line">[Friday 24 September 2010] [11:36:04] &lt;pieter_hintjens&gt; codebeaker: hopefully it&#8217;s also accurate :-)</div>
<div class="line">[Friday 24 September 2010] [12:12:10] &lt;mjw9100&gt; folks, just confirming that an &#8220;ordinary&#8221; fd for zmq_poll() can be an epoll fd?</div>
<div class="line">[Friday 24 September 2010] [12:19:23] &lt;mjw9100&gt; i.e. can I set zmq_pollitem_t.fd to an epoll() fd?</div>
<div class="line">[Friday 24 September 2010] [12:19:56] &lt;mjw9100&gt; according to the epoll() Q&amp;A, these epoll fd&#8217;s are selectable, etc.</div>
<div class="line">[Friday 24 September 2010] [12:24:19] &lt;jhawk28&gt; hello</div>
<div class="line">[Friday 24 September 2010] [12:24:59] &lt;jhawk28&gt; having a problem moving the compiled version of the windows libraries to another machine</div>
<div class="line">[Friday 24 September 2010] [12:29:12] &lt;jhawk28&gt; it looks like it is related to the following link: <a class="reference external" href="http://stackoverflow.com/questions/59635/app-does-not-run-with-vs-2008-sp1-dlls-previous-version-works-with-rtm-versions">http://stackoverflow.com/questions/59635/app-does-not-run-with-vs-2008-sp1-dlls-previous-version-works-with-rtm-versions</a></div>
<div class="line">[Friday 24 September 2010] [12:55:47] &lt;praveenbm5&gt;  hello all</div>
<div class="line">[Friday 24 September 2010] [12:56:03] &lt;praveenbm5&gt;  i hope i am in the right room to discuss ZeroMQ</div>
<div class="line">[Friday 24 September 2010] [12:56:42] &lt;codebeaker&gt;  praveenbm5: the name says it all!</div>
<div class="line">[Friday 24 September 2010] [12:56:46] &lt;praveenbm5&gt;  is anybody alive here</div>
<div class="line">[Friday 24 September 2010] [12:57:15] &lt;praveenbm5&gt;  i was looking on the website regarding some guidance using zmq_poll</div>
<div class="line">[Friday 24 September 2010] [12:57:53] &lt;praveenbm5&gt;  i just posted a comment there</div>
<div class="line">[Friday 24 September 2010] [12:57:54] &lt;praveenbm5&gt;  <a class="reference external" href="http://www.zeromq.org/blog:multithreaded-server/comments/show#post-880905">http://www.zeromq.org/blog:multithreaded-server/comments/show#post-880905</a></div>
<div class="line">[Friday 24 September 2010] [13:03:35] &lt;codebeaker&gt;  ^ I&#8217;m inqo mq for about 5 minutes now, what&#8217;s the behaviour if you broadcast a message to an <cite>upstream</cite> (is the terminology the right way round there ) - but nothing is listening there yet, is it lost ?</div>
<div class="line">[Friday 24 September 2010] [13:04:58] &lt;praveenbm5&gt;  its not lost</div>
<div class="line">[Friday 24 September 2010] [13:05:25] &lt;praveenbm5&gt;  queues exist even when the end point doesnt yet exist</div>
<div class="line">[Friday 24 September 2010] [13:05:53] &lt;praveenbm5&gt;  i suggest you read the guide on zeromq.org</div>
<div class="line">[Friday 24 September 2010] [13:05:53] &lt;codebeaker&gt;  ah, ok - great - i&#8217;m actually looking into it for writing a plugin for winamp that fires off a list of whats playing</div>
<div class="line">[Friday 24 September 2010] [13:06:14] &lt;codebeaker&gt;  (and I can&#8217;t be sure the <cite>other</cite> app is running)</div>
<div class="line">[Friday 24 September 2010] [13:06:52] &lt;praveenbm5&gt;  sorry i got your questiong wrong</div>
<div class="line">[Friday 24 September 2010] [13:07:18] &lt;praveenbm5&gt;  you can connect to an end point from a zmq socket before the endpoint exists</div>
<div class="line">[Friday 24 September 2010] [13:07:19] &lt;jhawk28&gt; codebeaker: the new terminology for &#8220;upstream&#8221; is &#8220;push&#8221;</div>
<div class="line">[Friday 24 September 2010] [13:07:32] &lt;praveenbm5&gt;  but regarding messages</div>
<div class="line">[Friday 24 September 2010] [13:07:38] &lt;codebeaker&gt;  no problem, winamp loads .dlls like plugins, and I wanted that plugin to shout out (over zmq) &#8220;hey, something played in winamp&#8221; - what happens if something isn&#8217;t listening ?</div>
<div class="line">[Friday 24 September 2010] [13:08:07] &lt;praveenbm5&gt;  push is for parallel worker based execution</div>
<div class="line">[Friday 24 September 2010] [13:08:14] &lt;jhawk28&gt; it sits in the local queue till the socket can connect I believe</div>
<div class="line">[Friday 24 September 2010] [13:08:49] &lt;jhawk28&gt; upstream/downstream == push/pull</div>
<div class="line">[Friday 24 September 2010] [13:09:31] &lt;jhawk28&gt; the only one that doesn&#8217;t &#8220;keep&#8221; the message is the pub socket when noone has connected (I believe)</div>
<div class="line">[Friday 24 September 2010] [13:10:15] &lt;codebeaker&gt;  jhawk28: great, and that local queue is transient, in my example - if the closed winamp, and the plugin unloaded - it would be lost, right ?</div>
<div class="line">[Friday 24 September 2010] [13:12:04] &lt;jhawk28&gt; yes, I think so</div>
<div class="line">[Friday 24 September 2010] [13:12:29] &lt;codebeaker&gt;  jhawk28: thanks, I&#8217;m going to screw around in the Ruby console a little - but that sounds like exactly the behaviour I was looking for</div>
<div class="line">[Friday 24 September 2010] [13:12:41] &lt;jhawk28&gt; you would have to manually persist if you dont want it transient</div>
<div class="line">[Friday 24 September 2010] [13:13:05] &lt;codebeaker&gt;  yeah, jhawk28 - I&#8217;m looking for it not to persist, or at least to know if it was read off (I suppose I could always examine the local queue)</div>
<div class="line">[Friday 24 September 2010] [13:13:06] &lt;jhawk28&gt; easiest way to see is to download one of the samples and then compile it</div>
<div class="line">[Friday 24 September 2010] [13:13:22] &lt;jhawk28&gt; start them both a couple of times, but in different orders</div>
<div class="line">[Friday 24 September 2010] [13:13:27] &lt;codebeaker&gt;  also, lsat question (and I can infer a litlte from the guide) the ipc:// dsn specification, it is portable across windows/unix, I assume ?</div>
<div class="line">[Friday 24 September 2010] [13:13:43] &lt;jhawk28&gt; I havent gotten ipc to work on my windows machine</div>
<div class="line">[Friday 24 September 2010] [13:13:48] &lt;jhawk28&gt; the inproc seems to</div>
<div class="line">[Friday 24 September 2010] [13:14:25] &lt;codebeaker&gt;  ahh - I was sortof counting on that - however since it&#8217;s trivial, and it&#8217;s not <em>really</em> IPC, if it&#8217;s two separate apps a .dll in winamp, and something else standalone - maybe IPC is the wrong paradigm now</div>
<div class="line">[Friday 24 September 2010] [13:14:35] &lt;jhawk28&gt; from the man page &#8220;The inter-process transport passes messages between local processes using a system-dependent IPC mechanism.&#8221;</div>
<div class="line">[Friday 24 September 2010] [13:15:12] &lt;jhawk28&gt; vs &#8220;The in-process transport passes messages via memory directly between threads sharing a single MQ context&#8221;</div>
<div class="line">[Friday 24 September 2010] [13:15:51] &lt;codebeaker&gt;  ah, so IPC is certainly somehow better suited, but a socket would work just as well</div>
<div class="line">[Friday 24 September 2010] [13:19:03] &lt;jhawk28&gt; they are both &#8220;sockets&#8221;, but the IPC is dependent on the OS</div>
<div class="line">[Friday 24 September 2010] [13:19:08] &lt;codebeaker&gt;  ah, ok</div>
<div class="line">[Friday 24 September 2010] [13:19:20] &lt;jhawk28&gt; so if you want cross platform, you probably need inproc</div>
<div class="line">[Friday 24 September 2010] [13:19:30] &lt;guido_g&gt; no</div>
<div class="line">[Friday 24 September 2010] [13:19:37] &lt;codebeaker&gt;  inproc wouldn&#8217;t work for talking from a winamp process to another process all together</div>
<div class="line">[Friday 24 September 2010] [13:19:44] &lt;guido_g&gt; ipc is between different processes</div>
<div class="line">[Friday 24 September 2010] [13:20:02] &lt;guido_g&gt; on windows, where ipc is not available, use <a class="reference external" href="tcp://127.0.0.1">tcp://127.0.0.1</a></div>
<div class="line">[Friday 24 September 2010] [13:20:03] &lt;codebeaker&gt;  I assume I need to go out-of-band if IPC doesn&#8217;t work on Windows, and use a <cite>real</cite> socket, like TCP or sth. that windows supports</div>
<div class="line">[Friday 24 September 2010] [13:20:16] &lt;guido_g&gt; ipc is a real socket</div>
<div class="line">[Friday 24 September 2010] [13:20:26] &lt;codebeaker&gt;  ah, but a unix file socket, right ?</div>
<div class="line">[Friday 24 September 2010] [13:20:31] &lt;guido_g&gt; right</div>
<div class="line">[Friday 24 September 2010] [13:20:47] &lt;codebeaker&gt;  ok, I assumed (foolishly) that ipc:// on windows would fall-back to tcp://</div>
<div class="line">[Friday 24 September 2010] [13:22:41] &lt;jhawk28&gt; so, inproc is between threads, but not between processes</div>
<div class="line">[Friday 24 September 2010] [13:22:45] &lt;jhawk28&gt; ?</div>
<div class="line">[Friday 24 September 2010] [13:22:52] &lt;codebeaker&gt;  jhawk28: certainly sounds like that</div>
<div class="line">[Friday 24 September 2010] [13:27:44] &lt;jhawk28&gt; has anyone done the zmq and jzmq build on vs2010 on Win7_64bit?</div>
<div class="line">[Friday 24 September 2010] [13:28:34] &lt;guido_g&gt; have a look at the mailing list, it&#8217;s been discussed there afair</div>
<div class="line">[Friday 24 September 2010] [13:53:11] &lt;jond&gt;    codebreaker: ipc isnt implemented on windows, inproc is between threads.</div>
<div class="line">[Friday 24 September 2010] [14:01:12] &lt;codebeaker&gt;  jond: rgr that (from earlier!) - pretty sure i&#8217;ll go with a tcp socket on both platforms</div>
<div class="line">[Friday 24 September 2010] [14:38:47] &lt;jhawk28&gt; hurrah! I got VS2010 to compile zmq and jzmq</div>
<div class="line">[Friday 24 September 2010] [14:38:55] &lt;codebeaker&gt;  w00t, well done :-D</div>
<div class="line">[Friday 24 September 2010] [15:18:40] &lt;rgl&gt; hi</div>
<div class="line">[Friday 24 September 2010] [15:23:09] &lt;codebeaker&gt;  hi rgl</div>
<div class="line">[Friday 24 September 2010] [16:18:51] &lt;jond&gt;    codebeaker: ipc is faster on linux, than tcp loopback; on solaris it made no difference as solaris loopback is optimised</div>
<div class="line">[Friday 24 September 2010] [16:19:29] &lt;jond&gt;    sustrik: how did the presentation go?</div>
<div class="line">[Saturday 25 September 2010] [02:32:42] &lt;sustrik&gt;   Pe_Ell: 2.1 looks more or less stable already. Please, do use it. If any bug is found, let me know.</div>
<div class="line">[Saturday 25 September 2010] [02:50:20] &lt;sustrik&gt;   jond: it went well, i&#8217;ll post my paper shortly</div>
<div class="line">[Saturday 25 September 2010] [02:50:39] &lt;sustrik&gt;   met a lot of linux kernel folks there</div>
<div class="line">[Saturday 25 September 2010] [02:58:35] &lt;Pe_Ell&gt;    wow...  chapter3 just doubled in size..</div>
<div class="line">[Saturday 25 September 2010] [03:25:07] &lt;Pe_Ell&gt;    sustrik, cool.  Mostly was interested in accessing the &#8220;socket&#8221; more directly so there could be some attempt of creting somelike like a Perl AnyEvent wrapper...</div>
<div class="line">[Saturday 25 September 2010] [03:26:37] &lt;Pe_Ell&gt;    wow...  my english sucks...</div>
<div class="line">[Saturday 25 September 2010] [03:29:47] &lt;sustrik&gt;   Pe_Ell: yes, feel free to play with that</div>
<div class="line">[Saturday 25 September 2010] [03:30:09] &lt;sustrik&gt;   there&#8217;s ZMQ_FD socket option that allows you to do that</div>
<div class="line">[Saturday 25 September 2010] [03:30:33] &lt;Pe_Ell&gt;    yeah I was looking over the code and currently reading the guide...</div>
<div class="line">[Saturday 25 September 2010] [03:30:40] &lt;Pe_Ell&gt;    pretty entertaining and useful</div>
<div class="line">[Saturday 25 September 2010] [03:30:44] &lt;sustrik&gt;   however, it&#8217;s a bit more complex than using standard 0mq API</div>
<div class="line">[Saturday 25 September 2010] [03:31:03] &lt;sustrik&gt;   you have to keep in mind that:</div>
<div class="line">[Saturday 25 September 2010] [03:31:34] &lt;sustrik&gt;   1.  ZMQ_FD can signal even if there&#8217;s no message available (on internal 0MQ events such as &#8220;connection established&#8221;)</div>
<div class="line">[Saturday 25 September 2010] [03:31:47] &lt;sustrik&gt;   2. ZMQ_FD is edge triggered</div>
<div class="line">[Saturday 25 September 2010] [03:32:28] &lt;sustrik&gt;   if you don&#8217;t care about that, it should work just fine</div>
<div class="line">[Saturday 25 September 2010] [03:32:51] &lt;Pe_Ell&gt;    yeah I figured I&#8217;d finish the guide before digging into the 2.1 code more...</div>
<div class="line">[Saturday 25 September 2010] [05:25:29] &lt;pieter_hintjens&gt;   Pe_Ell: I moved a lot of Ch3 into Ch2 as well</div>
<div class="line">[Saturday 25 September 2010] [13:43:50] &lt;Pe_Ell&gt;    pieter_hintjens: so I should start over? :)  I noticed that it had shifted some, I was going to go look at the earlier chapters to see if I&#8217;d missed anything...  still got a lot of code to read...  :)</div>
<div class="line">[Saturday 25 September 2010] [13:44:26] &lt;pieter_hintjens&gt;   Pe_Ell: well, most of the new stuff is at the end of Ch2 and then Ch3</div>
<div class="line">[Saturday 25 September 2010] [13:47:05] &lt;Pe_Ell&gt;    yeah I figure I&#8217;d like a pretty generic AnyEvent wrapper if it&#8217;s reasonable to build...  I&#8217;m still working out the application design for my project though...  I just got distracted with new and shiny.... :D</div>
<div class="line">[Saturday 25 September 2010] [13:57:51] &lt;Pe_Ell&gt;    so to make sure I&#8217;m not retarded...  for pubsub I can make one ZMQ_SUB socket and then just set multiple ZMQ_SUBSCRIPT options on it...</div>
<div class="line">[Saturday 25 September 2010] [13:58:24] &lt;Pe_Ell&gt;    err, ZMQ_SUBSCRIBE</div>
<div class="line">[Saturday 25 September 2010] [13:58:45] &lt;Pe_Ell&gt;    man I don&#8217;t even have a spell checker...  not sure why I keep writing out the wrong words...</div>
<div class="line">[Saturday 25 September 2010] [13:59:50] &lt;Pe_Ell&gt;    ok man page confirmed what I was thinking...  and looks like the string is a prefix so that answered my next question about wildcarding...</div>
<div class="line">[Saturday 25 September 2010] [14:55:25] &lt;lluad&gt; Anyone have any pointers for embedding 0mq into another systems event loop - I&#8217;m looking at using it with Qt4.</div>
<div class="line">[Saturday 25 September 2010] [15:45:01] &lt;cremes&gt;    lluad: take a look at the 2.1 branch specifically ZM_FD and ZM_EVENTS</div>
<div class="line">[Saturday 25 September 2010] [15:45:10] &lt;lluad&gt; Excellent, thanks.</div>
<div class="line">[Saturday 25 September 2010] [23:16:25] &lt;jdroid-&gt;   hello. i&#8217;m reading whitepapers:design-v06. am i right that this is mapped to zeromq v 0.6, making it also quite old?</div>
<div class="line">[Sunday 26 September 2010] [15:49:22] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * rbe79a9f 10/ (4 files): minor beautifications - <a class="reference external" href="http://bit.ly/cH9kWR">http://bit.ly/cH9kWR</a></div>
<div class="line">[Sunday 26 September 2010] [15:49:22] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * rcf815e8 10/ (18 files): new interfaces for timers; the implementation is not changed yet - <a class="reference external" href="http://bit.ly/buVKBu">http://bit.ly/buVKBu</a></div>
<div class="line">[Sunday 26 September 2010] [15:49:22] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r8d7bf66 10/ (13 files): common base for all pollers created; the only thing it handles at the moment is &#8216;load&#8217; - <a class="reference external" href="http://bit.ly/cqLLHi">http://bit.ly/cqLLHi</a></div>
<div class="line">[Sunday 26 September 2010] [15:49:22] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r238640a 10/ (15 files): timers properly implemented - <a class="reference external" href="http://bit.ly/9clGnp">http://bit.ly/9clGnp</a></div>
<div class="line">[Sunday 26 September 2010] [19:44:00] &lt;jhawk28&gt; hello, anyone here with windows build experience?</div>
<div class="line">[Sunday 26 September 2010] [19:44:35] &lt;jhawk28&gt; I&#8217;m having trouble getting the windows code to run on other systems that don&#8217;t have VS2008 installed</div>
<div class="line">[Sunday 26 September 2010] [20:05:07] &lt;Zao&gt; jhawk28: Several solutions.</div>
<div class="line">[Sunday 26 September 2010] [20:05:49] &lt;Zao&gt; jhawk28: 1) deploy the runtime via installer.  2) deploy the runtime privately in a subdirectory of your application.  3) build your project against the static runtime, with all the downsides and pitfalls that has.</div>
<div class="line">[Sunday 26 September 2010] [20:06:23] &lt;Zao&gt; Deploying privately with 2008 amounts to grabbing the Microsoft.VC90.CRT directory and putting it next to your executable.</div>
<div class="line">[Sunday 26 September 2010] [20:06:36] &lt;Zao&gt; Deploying via installer can be done either via the standalone installer or via merge modules.</div>
<div class="line">[Sunday 26 September 2010] [20:06:47] &lt;jhawk28&gt; I don&#8217;t mind installing the vs2008 redist</div>
<div class="line">[Sunday 26 September 2010] [20:06:51] &lt;Zao&gt; Building against static runtime places severe restrictions to multi-module programs.</div>
<div class="line">[Sunday 26 September 2010] [20:07:11] &lt;Zao&gt; Then install the runtime(s) that your application and your dependencies are built against.</div>
<div class="line">[Sunday 26 September 2010] [20:07:19] &lt;jhawk28&gt; but, I can&#8217;t figure out how to have zmq compile against the latest version</div>
<div class="line">[Sunday 26 September 2010] [20:07:19] &lt;Zao&gt; If you&#8217;re doing things right, that should be a single runtime version.</div>
<div class="line">[Sunday 26 September 2010] [20:08:47] &lt;jhawk28&gt; btw, this is for the java bindings and the zmq library</div>
<div class="line">[Sunday 26 September 2010] [20:10:03] &lt;jhawk28&gt; I tried to do this: <a class="reference external" href="http://stackoverflow.com/questions/59635/app-does-not-run-with-vs-2008-sp1-dlls-previous-version-works-with-rtm-versions">http://stackoverflow.com/questions/59635/app-does-not-run-with-vs-2008-sp1-dlls-previous-version-works-with-rtm-versions</a></div>
<div class="line">[Sunday 26 September 2010] [20:10:19] &lt;jhawk28&gt; but it didn&#8217;t change the values in the manifest</div>
<div class="line">[Sunday 26 September 2010] [20:10:46] &lt;Zao&gt; I feel sorry for you. Building against and deploying the right 2008 runtime is great fun.</div>
<div class="line">[Sunday 26 September 2010] [20:10:50] &lt;Zao&gt; Especially with the hotfixes.</div>
<div class="line">[Sunday 26 September 2010] [20:11:57] &lt;jhawk28&gt; :)</div>
<div class="line">[Sunday 26 September 2010] [20:12:01] &lt;jhawk28&gt; :(</div>
<div class="line">[Sunday 26 September 2010] [20:14:32] &lt;jhawk28&gt; new to the whole Visual Studio world so its mostly painful right now</div>
<div class="line">[Sunday 26 September 2010] [20:14:56] &lt;jhawk28&gt; mostly happy that ZMQ compiles out of the box</div>
<div class="line">[Sunday 26 September 2010] [20:16:23] &lt;jhawk28&gt; zao: <a class="reference external" href="http://blog.kalmbach-software.de/2009/05/27/deployment-of-vc2008-apps-without-installing-anything/">http://blog.kalmbach-software.de/2009/05/27/deployment-of-vc2008-apps-without-installing-anything/</a></div>
<div class="line">[Sunday 26 September 2010] [20:16:30] &lt;jhawk28&gt; seems to cover your 3 options</div>
<div class="line">[Sunday 26 September 2010] [20:20:49] &lt;jhawk28&gt; ha, the statically linking only works VS2003 and before based on the comments</div>
<div class="line">[Sunday 26 September 2010] [20:21:29] &lt;jhawk28&gt; and the including the dlls in a sub directory doesn&#8217;t work with VS2008-SP1</div>
<div class="line">[Monday 27 September 2010] [03:56:51] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r30c1cba 10/ src/poller_base.cpp : latency optimisation for the case where there are no timers - <a class="reference external" href="http://bit.ly/d8hem9">http://bit.ly/d8hem9</a></div>
<div class="line">[Monday 27 September 2010] [03:56:51] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * re2f834d 10/ doc/zmq_getsockopt.txt : ZMQ_FD and ZMQ_EVENTS documentation added - <a class="reference external" href="http://bit.ly/9nWC7q">http://bit.ly/9nWC7q</a></div>
<div class="line">[Monday 27 September 2010] [05:17:46] &lt;CIA-20&gt;  zeromq2: 03Martin Sustrik 07master * r16c3884 10/ (4 files in 2 dirs): MSVC build fixed - <a class="reference external" href="http://bit.ly/abDASN">http://bit.ly/abDASN</a></div>
<div class="line">[Monday 27 September 2010] [11:56:03] &lt;shawn42&gt; hello</div>
<div class="line">[Monday 27 September 2010] [11:57:05] &lt;shawn42&gt; has anyone here done any P2P stuff w/ zeromq?</div>
<div class="line">[Monday 27 September 2010] [17:05:39] &lt;kristianpaul&gt;    Hello</div>
<div class="line">[Monday 27 September 2010] [17:06:46] &lt;kristianpaul&gt;    <a class="reference external" href="http://paste.pocoo.org/show/268234/">http://paste.pocoo.org/show/268234/</a></div>
<div class="line">[Monday 27 September 2010] [17:06:48] &lt;kristianpaul&gt;    :/</div>
<div class="line">[Monday 27 September 2010] [18:08:21] &lt;ipc&gt;   howdy; does anyone know if you can run zmq &#8216;threadless&#8217;; i.e. one process use a TCP-bound zmq socket?</div>
<div class="line">[Monday 27 September 2010] [18:08:53] &lt;ipc&gt;   the context docs suggest you shouldn&#8217;t init with zero threads unless you&#8217;re only using in-process sockets</div>
<div class="line">[Monday 27 September 2010] [18:45:19] &lt;kristianpaul&gt;  ahh solved</div>
<div class="line">[Monday 27 September 2010] [18:45:24] &lt;kristianpaul&gt;  i missed the lib</div>
<div class="line">[Monday 27 September 2010] [18:45:28] &lt;kristianpaul&gt;  bye</div>
<div class="line">[Monday 27 September 2010] [18:57:58] &lt;jhawk28&gt;       hello</div>
<div class="line">[Tuesday 28 September 2010] [01:39:30] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07maint * rf61921d 10/ src/req.cpp : REQ socket can die when reply is delivered on wrong unerlying connection &#8211; fixed - <a class="reference external" href="http://bit.ly/cX2rpW">http://bit.ly/cX2rpW</a></div>
<div class="line">[Tuesday 28 September 2010] [01:46:29] &lt;CIA-20&gt;       zeromq2: 03Dhammika Pathirana 07maint * rc1deb22 10/ src/ypipe.hpp : crash when closing an ypipe &#8211; fixed - <a class="reference external" href="http://bit.ly/bmxM8U">http://bit.ly/bmxM8U</a></div>
<div class="line">[Tuesday 28 September 2010] [01:53:20] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * rf61921d 10/ src/req.cpp : REQ socket can die when reply is delivered on wrong unerlying connection &#8211; fixed - <a class="reference external" href="http://bit.ly/cX2rpW">http://bit.ly/cX2rpW</a></div>
<div class="line">[Tuesday 28 September 2010] [01:53:20] &lt;CIA-20&gt;       zeromq2: 03Dhammika Pathirana 07master * rc1deb22 10/ src/ypipe.hpp : crash when closing an ypipe &#8211; fixed - <a class="reference external" href="http://bit.ly/bmxM8U">http://bit.ly/bmxM8U</a></div>
<div class="line">[Tuesday 28 September 2010] [01:53:20] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r6715f9b 10/ src/ypipe.hpp :</div>
<div class="line">[Tuesday 28 September 2010] [01:53:21] &lt;CIA-20&gt;       zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Tuesday 28 September 2010] [01:53:21] &lt;CIA-20&gt;       zeromq2: * maint:</div>
<div class="line">[Tuesday 28 September 2010] [01:53:21] &lt;CIA-20&gt;       zeromq2:  crash when closing an ypipe &#8211; fixed - <a class="reference external" href="http://bit.ly/cxlL0o">http://bit.ly/cxlL0o</a></div>
<div class="line">[Tuesday 28 September 2010] [05:20:29] &lt;keffo&gt;        pieterh, around?</div>
<div class="line">[Tuesday 28 September 2010] [05:21:35] &lt;pieterh&gt;      keffo: hi!</div>
<div class="line">[Tuesday 28 September 2010] [05:23:12] &lt;keffo&gt;        Busy?</div>
<div class="line">[Tuesday 28 September 2010] [05:24:35] &lt;pieterh&gt;      always, but shoot...</div>
<div class="line">[Tuesday 28 September 2010] [05:24:53] &lt;keffo&gt;        I&#8217;m in the process of solidifying how the network is monitored.. Currently I gather various info &amp; statistics in the loadbalancer which publishes regularly(~5s), and a WPF app subscribing and displaying nice graphs etc</div>
<div class="line">[Tuesday 28 September 2010] [05:25:19] &lt;pieterh&gt;      sounds good</div>
<div class="line">[Tuesday 28 September 2010] [05:25:21] &lt;keffo&gt;        but I cant really figure out a good way of limiting it.. I dont want to send a complete state every 5s</div>
<div class="line">[Tuesday 28 September 2010] [05:25:30] &lt;pieterh&gt;      how large is the state?</div>
<div class="line">[Tuesday 28 September 2010] [05:26:24] &lt;keffo&gt;        Depends, both on what info I decide to publish.. I&#8217;d like load, bandwidth usage, connected nodes and their respective stats(cpu/ram/etc), but also an overview of what is happenening, as well as more detailed info for each worker</div>
<div class="line">[Tuesday 28 September 2010] [05:27:07] &lt;pieterh&gt;      estimated size? in bytes?</div>
<div class="line">[Tuesday 28 September 2010] [05:27:21] &lt;keffo&gt;        geesh, no idea, not in the mb range at least :)</div>
<div class="line">[Tuesday 28 September 2010] [05:27:40] &lt;pieterh&gt;      if you have no idea, it&#8217;s not sensible to think about optimizing it</div>
<div class="line">[Tuesday 28 September 2010] [05:27:59] &lt;pieterh&gt;      so do a back-of-envelope calculation and come up with a figure...</div>
<div class="line">[Tuesday 28 September 2010] [05:28:11] &lt;keffo&gt;        I wondered if it was sound to have the monitoring app poll a complete current-state at startup, and then depend on a persistent sub-forwarder to handle deltastates? But that sounds very complicated</div>
<div class="line">[Tuesday 28 September 2010] [05:28:48] &lt;keffo&gt;        I can&#8217;t really guestimate, the number of nodes can range from the local setup I have here of a few machines, to much larger..</div>
<div class="line">[Tuesday 28 September 2010] [05:28:57] &lt;pieterh&gt;      ...</div>
<div class="line">[Tuesday 28 September 2010] [05:29:05] &lt;pieterh&gt;      how big is &#8220;much larger&#8221;?</div>
<div class="line">[Tuesday 28 September 2010] [05:29:18] &lt;keffo&gt;        ideally wan :)</div>
<div class="line">[Tuesday 28 September 2010] [05:29:30] &lt;pieterh&gt;      please stick a number onto it...</div>
<div class="line">[Tuesday 28 September 2010] [05:29:38] &lt;keffo&gt;        but being realistic, perhaps around 20?</div>
<div class="line">[Tuesday 28 September 2010] [05:29:51] &lt;pieterh&gt;      and how large would the state be per worker?</div>
<div class="line">[Tuesday 28 September 2010] [05:30:14] &lt;pieterh&gt;      please stick a number onto it...</div>
<div class="line">[Tuesday 28 September 2010] [05:30:29] &lt;pieterh&gt;      then multiply the two numbers and add something for the overview</div>
<div class="line">[Tuesday 28 September 2010] [05:30:31] &lt;keffo&gt;        Basic info(linpack measurements), uptime, average load, around that</div>
<div class="line">[Tuesday 28 September 2010] [05:30:51] &lt;pieterh&gt;      come back when you have a total in KB per 5 seconds, a&#8217;ight?</div>
<div class="line">[Tuesday 28 September 2010] [05:32:02] &lt;keffo&gt;        That&#8217;s not what I&#8217;m interested in, the assumption here is that no data is published that isn&#8217;t &#8220;needed&#8221;, but I would like to figure out the most efficient means of passing around that data</div>
<div class="line">[Tuesday 28 September 2010] [05:32:29] &lt;keffo&gt;        basically how to monitor a distributed system with the least amount of overhead as possible..</div>
<div class="line">[Tuesday 28 September 2010] [05:32:45] &lt;pieterh&gt;      this is for research purposes rather than an actual use case...</div>
<div class="line">[Tuesday 28 September 2010] [05:32:53] &lt;keffo&gt;        (regardless of what the data actually is)</div>
<div class="line">[Tuesday 28 September 2010] [05:33:03] &lt;keffo&gt;        well both I guess, research first, use later :)</div>
<div class="line">[Tuesday 28 September 2010] [05:33:23] &lt;pieterh&gt;      well, you can wait until Ch4 of the Guide if you want to</div>
<div class="line">[Tuesday 28 September 2010] [05:33:25] &lt;keffo&gt;        Surely this problem has been dealt with before, as loadbalancing has :)</div>
<div class="line">[Tuesday 28 September 2010] [05:33:28] &lt;pieterh&gt;      but here is how I&#8217;d do it...</div>
<div class="line">[Tuesday 28 September 2010] [05:33:37] &lt;pieterh&gt;      - maintain state in the publisher</div>
<div class="line">[Tuesday 28 September 2010] [05:33:47] &lt;pieterh&gt;      - apply updates to state and publish updates to pub socket</div>
<div class="line">[Tuesday 28 September 2010] [05:34:01] &lt;pieterh&gt;      - in subscriber, request state via req/rep socket</div>
<div class="line">[Tuesday 28 September 2010] [05:34:07] &lt;pieterh&gt;      - and also subscribe to updates</div>
<div class="line">[Tuesday 28 September 2010] [05:34:10] &lt;pieterh&gt;      - queue incoming updates</div>
<div class="line">[Tuesday 28 September 2010] [05:34:22] &lt;pieterh&gt;      - as soon as state arrives, apply updates to state and continue to do this</div>
<div class="line">[Tuesday 28 September 2010] [05:34:22] &lt;keffo&gt;        m, that&#8217;s what I was thinking as well.</div>
<div class="line">[Tuesday 28 September 2010] [05:35:17] &lt;pieterh&gt;      i think it&#8217;s robust but need to prove it</div>
<div class="line">[Tuesday 28 September 2010] [05:35:17] &lt;keffo&gt;        Things do start to get hairy if the monitor app starts to depend on delta-updates though, like &#8220;join/part&#8221; of nodes</div>
<div class="line">[Tuesday 28 September 2010] [05:35:56] &lt;keffo&gt;        you&#8217;re doing this type of stuff for ch 4?</div>
<div class="line">[Tuesday 28 September 2010] [05:35:59] &lt;pieterh&gt;      yup</div>
<div class="line">[Tuesday 28 September 2010] [05:36:05] &lt;pieterh&gt;      stateful pubsub</div>
<div class="line">[Tuesday 28 September 2010] [05:36:42] &lt;pieterh&gt;      or whatever this is properly called...</div>
<div class="line">[Tuesday 28 September 2010] [05:36:55] &lt;keffo&gt;        I&#8217;ll try it out, see if it behaves well.. :)</div>
<div class="line">[Tuesday 28 September 2010] [05:37:12] &lt;pieterh&gt;      feel free to write it up as a recipe or code sample</div>
<div class="line">[Tuesday 28 September 2010] [05:37:18] &lt;pieterh&gt;      if i can reuse that for the guide it&#8217;ll save me time</div>
<div class="line">[Tuesday 28 September 2010] [05:37:37] &lt;keffo&gt;        I&#8217;ll let you know for sure yeah</div>
<div class="line">[Tuesday 28 September 2010] [05:38:06] &lt;pieterh&gt;      the main reason for this is not so much to save network bandwidth but to allow realtime updates</div>
<div class="line">[Tuesday 28 September 2010] [05:38:21] &lt;keffo&gt;        I was aso thinking about &#8216;history-nodes&#8217; as well.. something appealing about that, someone who keeps track of what&#8217;s going on, but isn&#8217;t directly part -of- the system</div>
<div class="line">[Tuesday 28 September 2010] [05:38:48] &lt;pieterh&gt;      indeed, this work could be totally outsourced to a stateful device</div>
<div class="line">[Tuesday 28 September 2010] [05:38:50] &lt;keffo&gt;        non-gonzo network monitoring</div>
<div class="line">[Tuesday 28 September 2010] [05:39:08] &lt;pieterh&gt;      with some notion of state + patches</div>
<div class="line">[Tuesday 28 September 2010] [05:39:47] &lt;pieterh&gt;      like pair/value updates</div>
<div class="line">[Tuesday 28 September 2010] [05:39:52] &lt;pieterh&gt;      hmm, nice</div>
<div class="line">[Tuesday 28 September 2010] [05:39:59] &lt;pieterh&gt;      it&#8217;s a distributed cache</div>
<div class="line">[Tuesday 28 September 2010] [05:40:14] &lt;keffo&gt;        yes, distributed tuple-storage</div>
<div class="line">[Tuesday 28 September 2010] [05:40:19] &lt;pieterh&gt;      yup, that&#8217;s the thing</div>
<div class="line">[Tuesday 28 September 2010] [05:40:54] &lt;keffo&gt;        I cant help but thinking most source control software face much of the same issues here</div>
<div class="line">[Tuesday 28 September 2010] [05:40:59] &lt;pieterh&gt;      in the general solution any node can update its cache</div>
<div class="line">[Tuesday 28 September 2010] [05:41:21] &lt;pieterh&gt;      it is a very useful general solution to state distribution</div>
<div class="line">[Tuesday 28 September 2010] [05:41:27] &lt;keffo&gt;        oh yeah, one can think of it as cache hits and misses, makes things clearer</div>
<div class="line">[Tuesday 28 September 2010] [05:42:39] &lt;pieterh&gt;      i&#8217;d start with a simple model, one publisher, many subscribers, pair/value updates</div>
<div class="line">[Tuesday 28 September 2010] [05:43:05] &lt;keffo&gt;        It reuses the same mechanisms as the rest</div>
<div class="line">[Tuesday 28 September 2010] [05:44:59] &lt;keffo&gt;        maybe I could contribute some C# stuff to go along with ch 4.. I do find it quite lacking on the site..</div>
<div class="line">[Tuesday 28 September 2010] [05:45:56] &lt;pieterh&gt;      keffo: we&#8217;ve gotten one C# example yesterday, but others would be great</div>
<div class="line">[Tuesday 28 September 2010] [05:46:13] &lt;pieterh&gt;      do start at ch1 if you could, it&#8217;s quite trivial stuff but useful to newcomers</div>
<div class="line">[Tuesday 28 September 2010] [05:46:34] &lt;keffo&gt;        yeah..</div>
<div class="line">[Tuesday 28 September 2010] [05:46:50] &lt;keffo&gt;        need a complete binding, for starters :)</div>
<div class="line">[Tuesday 28 September 2010] [05:47:00] &lt;pieterh&gt;      the binding is not complete?</div>
<div class="line">[Tuesday 28 September 2010] [05:47:28] &lt;keffo&gt;        no, there was no poll for example?</div>
<div class="line">[Tuesday 28 September 2010] [05:47:34] &lt;keffo&gt;        or did I somehow get an old version?</div>
<div class="line">[Tuesday 28 September 2010] [05:48:26] &lt;keffo&gt;        <a class="reference external" href="http://github.com/zeromq/clrzmq/blob/master/clrzmq/zmq.cs">http://github.com/zeromq/clrzmq/blob/master/clrzmq/zmq.cs</a></div>
<div class="line">[Tuesday 28 September 2010] [05:48:28] &lt;keffo&gt;        nope..</div>
<div class="line">[Tuesday 28 September 2010] [05:48:53] &lt;pieterh&gt;      who maintains this binding?</div>
<div class="line">[Tuesday 28 September 2010] [05:49:00] &lt;pieterh&gt;      ask them to fix it or submit a patch</div>
<div class="line">[Tuesday 28 September 2010] [05:49:07] &lt;keffo&gt;        not sure, says sustrik last commit I guess</div>
<div class="line">[Tuesday 28 September 2010] [05:49:32] &lt;pieterh&gt;      hmm, the owner of every project should be WRITTEN IN HUGE LETTERS</div>
<div class="line">[Tuesday 28 September 2010] [05:49:35] &lt;keffo&gt;        then there&#8217;s <a class="reference external" href="http://nzmq.codeplex.com">http://nzmq.codeplex.com</a> as well</div>
<div class="line">[Tuesday 28 September 2010] [05:49:41] &lt;pieterh&gt;      otherwise it&#8217;s kind of dead by definition</div>
<div class="line">[Tuesday 28 September 2010] [05:49:51] &lt;pieterh&gt;      nzmq is something layered on top afaics</div>
<div class="line">[Tuesday 28 September 2010] [05:49:58] &lt;pieterh&gt;      different API</div>
<div class="line">[Tuesday 28 September 2010] [05:50:05] &lt;keffo&gt;        yes, but it does the same lowlevel binding of the dll</div>
<div class="line">[Tuesday 28 September 2010] [05:50:44] &lt;pieterh&gt;      a&#8217;ight</div>
<div class="line">[Tuesday 28 September 2010] [05:51:10] &lt;keffo&gt;        So merging them shouldnt be very difficult</div>
<div class="line">[Tuesday 28 September 2010] [05:51:11]         * pieterh is wondering who pays trolls to come talk rubbish whenever there&#8217;s a license thread</div>
<div class="line">[Tuesday 28 September 2010] [05:51:22] &lt;keffo&gt;        on the list?</div>
<div class="line">[Tuesday 28 September 2010] [05:51:40] &lt;pieterh&gt;      &#8220;What&#8217;s the latest version of ZeroMQ that&#8217;s not LGPL? I need to static link in commercial projects and the LGPL is not an option. &#8220;</div>
<div class="line">[Tuesday 28 September 2010] [05:51:45] &lt;pieterh&gt;      on <a class="reference external" href="http://www.zeromq.org/blog:rfc-0mq-contributions">http://www.zeromq.org/blog:rfc-0mq-contributions</a></div>
<div class="line">[Tuesday 28 September 2010] [05:53:18] &lt;pieterh&gt;      not a single sensible comment on that thread, just trolls coming to complain that [sic] switching to LGPL will kill 0MQ...</div>
<div class="line">[Tuesday 28 September 2010] [05:53:58] &lt;keffo&gt;        will it? =)</div>
<div class="line">[Tuesday 28 September 2010] [05:54:18] &lt;pieterh&gt;      oh, yes, of course...</div>
<div class="line">[Tuesday 28 September 2010] [05:54:38] &lt;pieterh&gt;      that&#8217;s why we have to go back in time and switch to the Microsoft Open Software License or whatever...</div>
<div class="line">[Tuesday 28 September 2010] [05:55:22] &lt;keffo&gt;        licensing is tricky business, it went and got itself hugely complicated</div>
<div class="line">[Tuesday 28 September 2010] [05:55:31] &lt;keffo&gt;        I prefer &#8220;mine&#8221; and &#8220;public domain&#8221; :)</div>
<div class="line">[Tuesday 28 September 2010] [05:55:41] &lt;pieterh&gt;      it&#8217;s not really tricky, just politically sensitive because it involves so much money</div>
<div class="line">[Tuesday 28 September 2010] [05:56:13] &lt;pieterh&gt;      every license is the contract on which the community grows</div>
<div class="line">[Tuesday 28 September 2010] [05:56:21] &lt;pieterh&gt;      LGPL and GPL are IME proven beyond a reasonable doubt to be the most effective contracts</div>
<div class="line">[Tuesday 28 September 2010] [05:56:27] &lt;pieterh&gt;      because they make it impossible to cheat</div>
<div class="line">[Tuesday 28 September 2010] [05:56:34] &lt;pieterh&gt;      end.</div>
<div class="line">[Tuesday 28 September 2010] [05:56:51] &lt;PerfDave&gt;     Not <em>impossible</em>, see gpl-violations.org. But very difficult ;)</div>
<div class="line">[Tuesday 28 September 2010] [05:57:05] &lt;pieterh&gt;      impossible in any sustainable sense</div>
<div class="line">[Tuesday 28 September 2010] [05:57:15] &lt;pieterh&gt;      and GPLv3 closed the loopholes people found in GPLv2</div>
<div class="line">[Tuesday 28 September 2010] [05:57:15] &lt;keffo&gt;        who has the time anyway :)</div>
<div class="line">[Tuesday 28 September 2010] [05:57:23] &lt;pieterh&gt;      oh, people love to cheat</div>
<div class="line">[Tuesday 28 September 2010] [05:57:41] &lt;pieterh&gt;      but communities die when they get parasited</div>
<div class="line">[Tuesday 28 September 2010] [05:58:09] &lt;pieterh&gt;      so these trolls come and complain that LGPL will kill the community when in fact it creates it</div>
<div class="line">[Tuesday 28 September 2010] [05:58:14] &lt;pieterh&gt;      sigh.</div>
<div class="line">[Tuesday 28 September 2010] [05:58:20] &lt;keffo&gt;        :)</div>
<div class="line">[Tuesday 28 September 2010] [06:03:22] &lt;keffo&gt;        what&#8217;s the most elaborate zmq based project anyway?</div>
<div class="line">[Tuesday 28 September 2010] [06:07:16] &lt;pieterh&gt;      keffo: wow, there are some very elaborate ones out there</div>
<div class="line">[Tuesday 28 September 2010] [06:07:32] &lt;pieterh&gt;      but most are so secret that I&#8217;d have to kill you after explaining them</div>
<div class="line">[Tuesday 28 September 2010] [06:07:58] &lt;keffo&gt;        Oh I just mean scale, not impl. details :)</div>
<div class="line">[Tuesday 28 September 2010] [06:08:12] &lt;keffo&gt;        I&#8217;d like to know what level I&#8217;m at :)</div>
<div class="line">[Tuesday 28 September 2010] [06:08:46] &lt;pieterh&gt;      scale: hundreds to thousands of nodes</div>
<div class="line">[Tuesday 28 September 2010] [06:09:03] &lt;pieterh&gt;      multiple data centers</div>
<div class="line">[Tuesday 28 September 2010] [06:10:00] &lt;keffo&gt;        are they mostly about shuffling data around, or generic compute clusters?</div>
<div class="line">[Tuesday 28 September 2010] [06:10:17] &lt;pieterh&gt;      both cases</div>
<div class="line">[Tuesday 28 September 2010] [06:10:47] &lt;keffo&gt;        interesting stuff</div>
<div class="line">[Tuesday 28 September 2010] [06:10:56] &lt;pieterh&gt;      it&#8217;s also growing rapidly</div>
<div class="line">[Tuesday 28 September 2010] [06:11:05] &lt;keffo&gt;        I would assume so!</div>
<div class="line">[Tuesday 28 September 2010] [06:11:16] &lt;pieterh&gt;      the first 0MQ projects a year or two ago were maybe 10 nodes</div>
<div class="line">[Tuesday 28 September 2010] [06:11:36] &lt;pieterh&gt;      i&#8217;d say the scale is growing x10 every six months or so</div>
<div class="line">[Tuesday 28 September 2010] [06:12:20] &lt;keffo&gt;        It would be nice if the license included algorithmic contributions as opposed to solely sourcecode :)</div>
<div class="line">[Tuesday 28 September 2010] [06:12:46] &lt;pieterh&gt;      well, ideas cannot be copyrighted</div>
<div class="line">[Tuesday 28 September 2010] [06:13:04] &lt;keffo&gt;        A lot of information was probably gathered during development of those, which ideally should be shared :)</div>
<div class="line">[Tuesday 28 September 2010] [06:13:12] &lt;pieterh&gt;      well</div>
<div class="line">[Tuesday 28 September 2010] [06:13:30] &lt;pieterh&gt;      whenever possible we do move experience into the open source layers</div>
<div class="line">[Tuesday 28 September 2010] [06:14:07] &lt;pieterh&gt;      however there are often valuable business secrets in these algorithms</div>
<div class="line">[Tuesday 28 September 2010] [06:14:23] &lt;pieterh&gt;      obviously we do not consider sharing those</div>
<div class="line">[Tuesday 28 September 2010] [06:14:47] &lt;keffo&gt;        I was more thinking along the lines of &#8220;this common-practice method breaks down under these conditions&#8221; etc</div>
<div class="line">[Tuesday 28 September 2010] [06:15:00] &lt;pieterh&gt;      this is what the user guide will eventually cover</div>
<div class="line">[Tuesday 28 September 2010] [06:15:36] &lt;pieterh&gt;      at least the more common cases</div>
<div class="line">[Tuesday 28 September 2010] [06:15:52] &lt;pieterh&gt;      we can also try to document some of the higher level patterns as protocols</div>
<div class="line">[Tuesday 28 September 2010] [06:15:53] &lt;keffo&gt;        Some of the things I&#8217;ve found annoyingly void so far has been the loadbalancing(which is now covered well enough), and also recursive behaviour, which I think I&#8217;ve solved</div>
<div class="line">[Tuesday 28 September 2010] [06:16:10] &lt;pieterh&gt;      have you been using the custom routing from Ch3?</div>
<div class="line">[Tuesday 28 September 2010] [06:16:30] &lt;keffo&gt;        Yeah, pretty much, but with prioqueues</div>
<div class="line">[Tuesday 28 September 2010] [06:16:37] &lt;pieterh&gt;      what is a prioqueue?</div>
<div class="line">[Tuesday 28 September 2010] [06:16:44] &lt;keffo&gt;        both for incoming tasks and outgoing results</div>
<div class="line">[Tuesday 28 September 2010] [06:16:50] &lt;keffo&gt;        priority queue</div>
<div class="line">[Tuesday 28 September 2010] [06:16:57] &lt;pieterh&gt;      ah, so queues in your broker rather than using the socket queues</div>
<div class="line">[Tuesday 28 September 2010] [06:17:03] &lt;keffo&gt;        indeed</div>
<div class="line">[Tuesday 28 September 2010] [06:17:17] &lt;pieterh&gt;      i just didn&#8217;t want to start mucking with data structures</div>
<div class="line">[Tuesday 28 September 2010] [06:17:23] &lt;pieterh&gt;      but I think it&#8217;s inevitable</div>
<div class="line">[Tuesday 28 September 2010] [06:17:41] &lt;pieterh&gt;      i already had to define a zmsg class, will probably define a zqueue class as well</div>
<div class="line">[Tuesday 28 September 2010] [06:17:51] &lt;keffo&gt;        messages and tasks have priorities, as well as workers based on a mix of scimark(hardware) and something like a running average network &#8216;behaviour&#8217;</div>
<div class="line">[Tuesday 28 September 2010] [06:17:57] &lt;pieterh&gt;      right</div>
<div class="line">[Tuesday 28 September 2010] [06:18:40] &lt;keffo&gt;        Another thing I&#8217;ve been struggling to figure out a &#8216;pretty&#8217; solution to is how to make workers present their updates when doing long running jobs..</div>
<div class="line">[Tuesday 28 September 2010] [06:18:58] &lt;pieterh&gt;      intermediate updates?</div>
<div class="line">[Tuesday 28 September 2010] [06:18:59] &lt;keffo&gt;        That&#8217; sortof ties into what we talked about earlier with the Monitoring app</div>
<div class="line">[Tuesday 28 September 2010] [06:19:00] &lt;keffo&gt;        yeah</div>
<div class="line">[Tuesday 28 September 2010] [06:19:06] &lt;pieterh&gt;      two threads in the workers, I assume</div>
<div class="line">[Tuesday 28 September 2010] [06:19:17] &lt;pieterh&gt;      workers as micro clusters</div>
<div class="line">[Tuesday 28 September 2010] [06:19:31] &lt;pieterh&gt;      it&#8217;s fractal :-)</div>
<div class="line">[Tuesday 28 September 2010] [06:19:37] &lt;pieterh&gt;      every node can be a cluster of nodes</div>
<div class="line">[Tuesday 28 September 2010] [06:19:40] &lt;keffo&gt;        leaving it solely up to the designer of the job (ie, they post progress at will) leads to abuse most likely</div>
<div class="line">[Tuesday 28 September 2010] [06:20:07] &lt;pieterh&gt;      sounds like you&#8217;re solving a lot of interesting problems</div>
<div class="line">[Tuesday 28 September 2010] [06:20:11] &lt;keffo&gt;        indeed :)</div>
<div class="line">[Tuesday 28 September 2010] [06:20:21] &lt;keffo&gt;        most interesting of all is the fact that a job can post new jobs :)</div>
<div class="line">[Tuesday 28 September 2010] [06:20:22] &lt;pieterh&gt;      you should write about it, if you can</div>
<div class="line">[Tuesday 28 September 2010] [06:20:27] &lt;keffo&gt;        that&#8217;s a brain teaser if anything :)</div>
<div class="line">[Tuesday 28 September 2010] [06:20:28] &lt;keffo&gt;        yeah</div>
<div class="line">[Tuesday 28 September 2010] [06:20:38] &lt;keffo&gt;        It&#8217;s becoming quite large to be honest :)</div>
<div class="line">[Tuesday 28 September 2010] [06:20:46] &lt;pieterh&gt;      well, stack-based simulated recursion is an old technique</div>
<div class="line">[Tuesday 28 September 2010] [06:20:50] &lt;keffo&gt;        but it&#8217;s working well</div>
<div class="line">[Tuesday 28 September 2010] [06:20:56] &lt;pieterh&gt;      it&#8217;s how we used to do quicksort in cobol</div>
<div class="line">[Tuesday 28 September 2010] [06:21:04] &lt;keffo&gt;        stack-based?</div>
<div class="line">[Tuesday 28 September 2010] [06:21:17] &lt;pieterh&gt;      your prioqueue can also be a stack</div>
<div class="line">[Tuesday 28 September 2010] [06:21:22] &lt;pieterh&gt;      you can push jobs to the front</div>
<div class="line">[Tuesday 28 September 2010] [06:21:28] &lt;pieterh&gt;      or to the back</div>
<div class="line">[Tuesday 28 September 2010] [06:21:32] &lt;keffo&gt;        ah yeah, that&#8217;s the priority of the messages :)</div>
<div class="line">[Tuesday 28 September 2010] [06:21:41] &lt;pieterh&gt;      that&#8217;s how you simulate recursion</div>
<div class="line">[Tuesday 28 September 2010] [06:21:43] &lt;keffo&gt;        he deeper the recursion, the higher the priority</div>
<div class="line">[Tuesday 28 September 2010] [06:21:58] &lt;pieterh&gt;      priority is perhaps the wrong metaphor</div>
<div class="line">[Tuesday 28 September 2010] [06:22:12] &lt;pieterh&gt;      in fact it&#8217;s &#8220;push these child jobs&#8221; followed by &#8220;pop next job and execute&#8221;</div>
<div class="line">[Tuesday 28 September 2010] [06:23:21] &lt;pieterh&gt;      hah, I found an old paper on this: <a class="reference external" href="http://www.arnoldtrembley.com/svalgard.htm">http://www.arnoldtrembley.com/svalgard.htm</a></div>
<div class="line">[Tuesday 28 September 2010] [06:24:09] &lt;pieterh&gt;      If you look at section 3, you see how Quicksort (recursion) works using a stack</div>
<div class="line">[Tuesday 28 September 2010] [06:24:33] &lt;keffo&gt;        My solution was to have each worker-node (which owns one worker-process per cpu-core) can request to have an additional worker spawned while it sleeps.. So when it posts a child-job, it does so with a higher priority</div>
<div class="line">[Tuesday 28 September 2010] [06:24:36] &lt;pieterh&gt;      <a class="reference external" href="http://www.arnoldtrembley.com/pseudor2.htm">http://www.arnoldtrembley.com/pseudor2.htm</a></div>
<div class="line">[Tuesday 28 September 2010] [06:24:50] &lt;keffo&gt;        interesting</div>
<div class="line">[Tuesday 28 September 2010] [06:25:25] &lt;pieterh&gt;      Leif and I developed these techniques in the 80&#8217;s...</div>
<div class="line">[Tuesday 28 September 2010] [06:25:35] &lt;keffo&gt;        how old are you? =)</div>
<div class="line">[Tuesday 28 September 2010] [06:25:38] &lt;pieterh&gt;      it&#8217;s very basic but I think it maps correctly to recursive messaging</div>
<div class="line">[Tuesday 28 September 2010] [06:25:47] &lt;pieterh&gt;      not so old</div>
<div class="line">[Tuesday 28 September 2010] [06:25:51] &lt;pieterh&gt;      :-)</div>
<div class="line">[Tuesday 28 September 2010] [06:25:58] &lt;pieterh&gt;      47, to be accurate</div>
<div class="line">[Tuesday 28 September 2010] [06:26:17] &lt;keffo&gt;        that was grad student times then? =)</div>
<div class="line">[Tuesday 28 September 2010] [06:26:34] &lt;pieterh&gt;      nope, first job developing tools for large software houses</div>
<div class="line">[Tuesday 28 September 2010] [06:26:45] &lt;pieterh&gt;      event-driven concurrency in cobol</div>
<div class="line">[Tuesday 28 September 2010] [06:27:35] &lt;keffo&gt;        obol of all things :)</div>
<div class="line">[Tuesday 28 September 2010] [06:27:57] &lt;keffo&gt;        there&#8217;s a scary amount of need for cobol developers now</div>
<div class="line">[Tuesday 28 September 2010] [06:28:36] &lt;pieterh&gt;      lol...</div>
<div class="line">[Tuesday 28 September 2010] [06:28:54] &lt;pieterh&gt;      we used to train people to become cobol developers in like 3 weeks</div>
<div class="line">[Tuesday 28 September 2010] [06:29:13] &lt;keffo&gt;        That&#8217;s even more scary :)</div>
<div class="line">[Tuesday 28 September 2010] [06:29:22] &lt;keffo&gt;        like todays php crowd I guess?</div>
<div class="line">[Tuesday 28 September 2010] [06:29:29] &lt;pieterh&gt;      hmm, yeah, I guess</div>
<div class="line">[Tuesday 28 September 2010] [06:29:53] &lt;pieterh&gt;      Cobol was good for mediocre programmers, they could make stuff that worked, and didn&#8217;t kill the system</div>
<div class="line">[Tuesday 28 September 2010] [06:30:13] &lt;keffo&gt;        I&#8217;d be very afraid if my bank announced they moved from cobol to php :)</div>
<div class="line">[Tuesday 28 September 2010] [06:30:26] &lt;pieterh&gt;      indeed</div>
<div class="line">[Tuesday 28 September 2010] [06:30:48] &lt;keffo&gt;        or voting/pacemakers :)</div>
<div class="line">[Tuesday 28 September 2010] [07:33:31] &lt;CIA-20&gt;       jzmq: 03Stefan Majer 07master * rd46166f 10/ src/org/zeromq/ZMQ.java : Merged from upstream - <a class="reference external" href="http://bit.ly/c9pkwW">http://bit.ly/c9pkwW</a></div>
<div class="line">[Tuesday 28 September 2010] [07:33:31] &lt;CIA-20&gt;       jzmq: 03Stefan Majer 07master * r05b384d 10/ src/org/zeromq/ZMQ.java : Reduced duplicate Javadoc comments by references to the corresponding setter. - <a class="reference external" href="http://bit.ly/dvaPdr">http://bit.ly/dvaPdr</a></div>
<div class="line">[Tuesday 28 September 2010] [07:33:39] &lt;CIA-20&gt;       jzmq: 03Stefan Majer 07master * r1a98406 10/ src/org/zeromq/ZMQ.java : References to the man pages to further clarify the Javadoc. - <a class="reference external" href="http://bit.ly/c5FVwB">http://bit.ly/c5FVwB</a></div>
<div class="line">[Tuesday 28 September 2010] [07:33:40] &lt;CIA-20&gt;       jzmq: 03Gonzalo Diethelm 07master * rc7c9929 10/ src/org/zeromq/ZMQ.java : Merge branch &#8216;master&#8217; of <a class="reference external" href="http://github.com/majst01/jzmq">http://github.com/majst01/jzmq</a> into majst02-master - <a class="reference external" href="http://bit.ly/93TVKZ">http://bit.ly/93TVKZ</a></div>
<div class="line">[Tuesday 28 September 2010] [09:27:54] &lt;CIA-20&gt;       zeromq2: 03Gonzalo Diethelm 07master * r87beaaa 10/ (14 files in 4 dirs): ZMQ_TYPE socket option added - <a class="reference external" href="http://bit.ly/b3HZYe">http://bit.ly/b3HZYe</a></div>
<div class="line">[Tuesday 28 September 2010] [09:32:23] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r10bb9d0 10/ AUTHORS : Dhammika Pathirana was missing from the AUTOHRS file for some reason &#8211; fixed - <a class="reference external" href="http://bit.ly/cz4TZ7">http://bit.ly/cz4TZ7</a></div>
<div class="line">[Tuesday 28 September 2010] [10:39:50] &lt;CIA-20&gt;       zeromq2: 03Steven McCoy 07master * r00cd7d4 10/ (7 files in 3 dirs): Upgrade to OpenPGM-5.0.78 - <a class="reference external" href="http://bit.ly/aKqJjZ">http://bit.ly/aKqJjZ</a></div>
<div class="line">[Tuesday 28 September 2010] [11:01:02] &lt;CIA-20&gt;       zeromq2: 03Steven McCopy 07master * r1dc4531 10/ (4 files): (log message trimmed)</div>
<div class="line">[Tuesday 28 September 2010] [11:01:02] &lt;CIA-20&gt;       zeromq2: * Add assertions to check for OpenPGM calls with invalid parameters.</div>
<div class="line">[Tuesday 28 September 2010] [11:01:02] &lt;CIA-20&gt;       zeromq2: * Assertion to check that pgm_getaddrinfo is actually returning something.</div>
<div class="line">[Tuesday 28 September 2010] [11:01:02] &lt;CIA-20&gt;       zeromq2: * Missing pgm_connect call.</div>
<div class="line">[Tuesday 28 September 2010] [11:01:02] &lt;CIA-20&gt;       zeromq2: * Typo on TOS causing immediate abort.</div>
<div class="line">[Tuesday 28 September 2010] [11:01:02] &lt;CIA-20&gt;       zeromq2: * Placeholder calls for timeouts whilst continuing spin loop functionality.</div>
<div class="line">[Tuesday 28 September 2010] [11:01:02] &lt;CIA-20&gt;       zeromq2: * OpenPGM v5 now supports reference counting so remove init checks.</div>
<div class="line">[Tuesday 28 September 2010] [11:28:03] &lt;psino&gt;        I&#8217;m having some issues with understanding how a PUSH socket with no downstream nodes is supposed to behave. There seem to be a difference between the sockets whether they have been used as .bind or .connect</div>
<div class="line">[Tuesday 28 September 2010] [11:28:07] &lt;psino&gt;        I have a small test case here: <a class="reference external" href="https://gist.github.com/a7e8b4fdfc303ce4b0e6">https://gist.github.com/a7e8b4fdfc303ce4b0e6</a></div>
<div class="line">[Tuesday 28 September 2010] [11:28:53] &lt;psino&gt;        the connect_socket sends the data (send does not block) even if there are no downstream nodes, but the bind_socket blocks</div>
<div class="line">[Tuesday 28 September 2010] [11:30:48] &lt;psino&gt;        is this the expected behaviour? from what I understand after reading <a class="reference external" href="http://api.zeromq.org/zmq_socket.html">http://api.zeromq.org/zmq_socket.html</a> is that both should have been blocking</div>
<div class="line">[Tuesday 28 September 2010] [11:31:07] &lt;psino&gt;        As its said here: &#8220;When a ZMQ_PUSH socket enters an exceptional state due to having reached the high water mark for all downstream nodes, or if there are no downstream nodes at all, then any zmq_send(3) operations on the socket shall block until the exceptional state ends or at least one downstream node becomes available for sending; messages are not discarded.&#8221;</div>
<div class="line">[Tuesday 28 September 2010] [11:37:27] &lt;sustrik&gt;      psino: yes. it works that way</div>
<div class="line">[Tuesday 28 September 2010] [11:38:02] &lt;sustrik&gt;      on connect, socket can immediately create a queue to store messages in &#8211; even before actual connection is established</div>
<div class="line">[Tuesday 28 September 2010] [11:38:41] &lt;psino&gt;        so the manual is incorrect/imprecise?</div>
<div class="line">[Tuesday 28 September 2010] [11:39:10] &lt;sustrik&gt;      when binding, the socket has to wait till peers connect, it cannot create a queue itself (it doesn&#8217;t even know whether there&#8217;ll be a connection in the future)</div>
<div class="line">[Tuesday 28 September 2010] [11:39:43] &lt;sustrik&gt;      imprecise, i would say</div>
<div class="line">[Tuesday 28 September 2010] [11:39:55] &lt;sustrik&gt;      connect assumed that there&#8217;s a peer</div>
<div class="line">[Tuesday 28 September 2010] [11:40:06] &lt;sustrik&gt;      exactly 1 peer</div>
<div class="line">[Tuesday 28 September 2010] [11:40:11] &lt;sustrik&gt;      bind makes no such assumption</div>
<div class="line">[Tuesday 28 September 2010] [11:41:28] &lt;psino&gt;        hmm</div>
<div class="line">[Tuesday 28 September 2010] [11:52:05] &lt;jashmenn&gt;     hey can anyone give me some guidance on socket migration between threads</div>
<div class="line">[Tuesday 28 September 2010] [11:52:15] &lt;jashmenn&gt;     i&#8217;m having a tough time figuring out how that works</div>
<div class="line">[Tuesday 28 September 2010] [11:52:30] &lt;jashmenn&gt;     basically i want to close a socket from a thread different than the thread that started it</div>
<div class="line">[Tuesday 28 September 2010] [11:58:14] &lt;mato&gt; sustrik: yo</div>
<div class="line">[Tuesday 28 September 2010] [11:59:45] &lt;sustrik&gt;      mato: hi</div>
<div class="line">[Tuesday 28 September 2010] [11:59:57] &lt;mato&gt; sustrik: i would have appreciated a heads up on the OpenPGM commits</div>
<div class="line">[Tuesday 28 September 2010] [12:00:09] &lt;mato&gt; sustrik: it does touch the build system, of which you declared me the maintainer :-)</div>
<div class="line">[Tuesday 28 September 2010] [12:00:16] &lt;sustrik&gt;      ah</div>
<div class="line">[Tuesday 28 September 2010] [12:00:22] &lt;sustrik&gt;      i blindly applied the patches :|</div>
<div class="line">[Tuesday 28 September 2010] [12:00:29] &lt;mato&gt; also, isn&#8217;t the author of those commits steve mccoy?</div>
<div class="line">[Tuesday 28 September 2010] [12:00:36] &lt;sustrik&gt;      yes, he is</div>
<div class="line">[Tuesday 28 September 2010] [12:00:47] &lt;mato&gt; ah, it&#8217;s there</div>
<div class="line">[Tuesday 28 September 2010] [12:00:56] &lt;mato&gt; &#8216;cept you have a typo</div>
<div class="line">[Tuesday 28 September 2010] [12:00:59] &lt;mato&gt; but that&#8217;s my fault</div>
<div class="line">[Tuesday 28 September 2010] [12:01:01] &lt;sustrik&gt;      ?</div>
<div class="line">[Tuesday 28 September 2010] [12:01:07]         * mato is documenting the process</div>
<div class="line">[Tuesday 28 September 2010] [12:01:20] &lt;mato&gt; sustrik: you should not be typing author names manually if at all possible</div>
<div class="line">[Tuesday 28 September 2010] [12:01:32] &lt;sustrik&gt;      no idea how to do it automatically</div>
<div class="line">[Tuesday 28 September 2010] [12:01:38] &lt;mato&gt; git-am :-)</div>
<div class="line">[Tuesday 28 September 2010] [12:02:08] &lt;sustrik&gt;      good god!</div>
<div class="line">[Tuesday 28 September 2010] [12:02:26] &lt;mato&gt; sustrik: anyway, please do ask for review before committing stuff that touches other people&#8217;s designated areas of responsibility</div>
<div class="line">[Tuesday 28 September 2010] [12:02:37] &lt;sustrik&gt;      anyway, can you check the part that touches the build system post hoc?</div>
<div class="line">[Tuesday 28 September 2010] [12:02:42] &lt;mato&gt; yes, i can, i will</div>
<div class="line">[Tuesday 28 September 2010] [12:02:47] &lt;sustrik&gt;      thanks</div>
<div class="line">[Tuesday 28 September 2010] [12:02:51] &lt;mato&gt; but please don&#8217;t do that in future :-)</div>
<div class="line">[Tuesday 28 September 2010] [12:02:54] &lt;mato&gt; including e.g. docs</div>
<div class="line">[Tuesday 28 September 2010] [12:02:56] &lt;sustrik&gt;      sure</div>
<div class="line">[Tuesday 28 September 2010] [12:03:03] &lt;sustrik&gt;      eek</div>
<div class="line">[Tuesday 28 September 2010] [12:03:07] &lt;mato&gt; eek?</div>
<div class="line">[Tuesday 28 September 2010] [12:03:12] &lt;sustrik&gt;      i&#8217;ve just committed gonzalos patch</div>
<div class="line">[Tuesday 28 September 2010] [12:03:22] &lt;sustrik&gt;      which touchs docs</div>
<div class="line">[Tuesday 28 September 2010] [12:03:36] &lt;sustrik&gt;      ZMQ_TYPE socket opt description</div>
<div class="line">[Tuesday 28 September 2010] [12:03:42] &lt;mato&gt; it also has a commit to .gitignore for bin/ for some reason</div>
<div class="line">[Tuesday 28 September 2010] [12:03:51] &lt;mato&gt; as part of gonzalo&#8217;s patch</div>
<div class="line">[Tuesday 28 September 2010] [12:03:55] &lt;sustrik&gt;      hm</div>
<div class="line">[Tuesday 28 September 2010] [12:04:12] &lt;sustrik&gt;      it shouldn&#8217;t be there but once it&#8217;s there it doesn&#8217;t hurt</div>
<div class="line">[Tuesday 28 September 2010] [12:04:15] &lt;mato&gt; sure</div>
<div class="line">[Tuesday 28 September 2010] [12:04:24] &lt;mato&gt; but my point is be careful about what is in a patch</div>
<div class="line">[Tuesday 28 September 2010] [12:04:43] &lt;sustrik&gt;      what are we going to do with patches that intersect different areas of functionality?</div>
<div class="line">[Tuesday 28 September 2010] [12:04:53] &lt;sustrik&gt;      there&#8217;s no clear committer there</div>
<div class="line">[Tuesday 28 September 2010] [12:05:00] &lt;mato&gt; ask the interested parties for review</div>
<div class="line">[Tuesday 28 September 2010] [12:05:03] &lt;mato&gt; that&#8217;s how it normally works</div>
<div class="line">[Tuesday 28 September 2010] [12:05:10] &lt;sustrik&gt;      ok, will do</div>
<div class="line">[Tuesday 28 September 2010] [12:05:35] &lt;mato&gt; also, if you want my attention quickly a good way to do that is to Cc: me directly as well as sending email to the list</div>
<div class="line">[Tuesday 28 September 2010] [12:05:43] &lt;sustrik&gt;      ack</div>
<div class="line">[Tuesday 28 September 2010] [12:05:51] &lt;mato&gt; that way it lands in my INBOX rather than in the auto-filtered-away list folder :-)</div>
<div class="line">[Tuesday 28 September 2010] [12:42:49] &lt;CIA-20&gt;       jzmq: 03Gonzalo Diethelm 07master * re3e6b7f 10/ (src/Socket.cpp src/org/zeromq/ZMQ.java): Added support for getType() and added some missing constants. - <a class="reference external" href="http://bit.ly/at8wUF">http://bit.ly/at8wUF</a></div>
<div class="line">[Tuesday 28 September 2010] [13:30:21] &lt;vharron&gt;      Is there a list of projects using zeromq?  I&#8217;m trying to understand what it does well by looking at the problems it solves.</div>
<div class="line">[Tuesday 28 September 2010] [13:52:22] &lt;drbobbeaty&gt;   vharron: I can&#8217;t give you a list of projects, but I can tell you about mine. I&#8217;m using ZMQ as a transport layer using OpenPGM and the reliable multicast. I&#8217;m using this because what I need is a transport more than a full-fledged messaging system like Tibco or 29West. It&#8217;s working out wonderfully in this capacity and we&#8217;re moving a lot of messages through the system.</div>
<div class="line">[Tuesday 28 September 2010] [13:53:36] &lt;drbobbeaty&gt;   It&#8217;s not a real full-blown messaging system - but you can build one with it. I just see it&#8217;s real target as a very advanced transport system with a lot of flexibility.</div>
<div class="line">[Tuesday 28 September 2010] [16:47:54] &lt;CIA-20&gt;       zeromq2: 03Steven McCoy 07master * ra729357 10/ (6 files): more fixes to (e)pgm transport - <a class="reference external" href="http://bit.ly/9E1o2T">http://bit.ly/9E1o2T</a></div>
<div class="line">[Tuesday 28 September 2010] [19:14:03] &lt;lluad&gt;        If I have multiple clients connecting to a single server over TCP, is there a good idiom for the server to send an unsolicited message to just one of the clients?</div>
<div class="line">[Tuesday 28 September 2010] [19:20:50] &lt;Zao&gt;  lluad: When connecting a client, send a connection string to the server if it needs to communicate with you?</div>
<div class="line">[Tuesday 28 September 2010] [20:34:15] &lt;novas0x2a&gt;    is there an example for how to use zmq_poll properly? This code (where i think i&#8217;m using it right?) crashes reliably: <a class="reference external" href="http://codepad.org/uyAlBSOw">http://codepad.org/uyAlBSOw</a></div>
<div class="line">[Tuesday 28 September 2010] [20:35:28] &lt;novas0x2a&gt;    oh wow, i&#8217;m lame... ignore that code for a sec..</div>
<div class="line">[Wednesday 29 September 2010] [04:09:54] &lt;CIA-20&gt;     zeromq2: 03Ilja Golshtein 07master * r4482dd7 10/ (AUTHORS include/zmq.hpp): C++ binding destructors don&#8217;t throw exceptions - <a class="reference external" href="http://bit.ly/9r4bo6">http://bit.ly/9r4bo6</a></div>
<div class="line">[Wednesday 29 September 2010] [10:07:06] &lt;llasm&gt;      hi !!</div>
<div class="line">[Wednesday 29 September 2010] [10:10:12] &lt;sustrik&gt;    llasm: hi</div>
<div class="line">[Wednesday 29 September 2010] [10:51:08] &lt;llasm&gt;      how to install zmq*</div>
<div class="line">[Wednesday 29 September 2010] [10:51:15] &lt;llasm&gt;      i need a tuto</div>
<div class="line">[Wednesday 29 September 2010] [10:53:54] &lt;keffo&gt;      define &#8216;install&#8217;?</div>
<div class="line">[Wednesday 29 September 2010] [10:55:34] &lt;pieterh&gt;    llasm: read <a class="reference external" href="http://www.zeromq.com">http://www.zeromq.com</a></div>
<div class="line">[Wednesday 29 September 2010] [10:55:48] &lt;pieterh&gt;    please tell me if anything is missing or unclear on the instructions there</div>
<div class="line">[Wednesday 29 September 2010] [11:27:49] &lt;llasm&gt;      pieterh: i follow this instructions</div>
<div class="line">[Wednesday 29 September 2010] [11:27:52] &lt;llasm&gt;      <a class="reference external" href="http://www.zeromq.org/bindings:python">http://www.zeromq.org/bindings:python</a></div>
<div class="line">[Wednesday 29 September 2010] [11:28:20] &lt;llasm&gt;      but when try python -c &#8220;import zmq&#8221;</div>
<div class="line">[Wednesday 29 September 2010] [11:28:40] &lt;llasm&gt;      i receive cannot import name _zmq</div>
<div class="line">[Wednesday 29 September 2010] [11:29:29] &lt;pieterh&gt;    llasm: ok, you need to also build the Python API</div>
<div class="line">[Wednesday 29 September 2010] [11:29:56] &lt;pieterh&gt;    that is explained here: <a class="reference external" href="http://www.zeromq.org/bindings:python">http://www.zeromq.org/bindings:python</a></div>
<div class="line">[Wednesday 29 September 2010] [11:30:55] &lt;pieterh&gt;    did you install 0MQ into system libraries (&#8216;sudo make install&#8217;)?</div>
<div class="line">[Wednesday 29 September 2010] [11:31:23] &lt;pieterh&gt;    then you have to specify the system libraries in setup.cfg before doing &#8216;python setup.py install&#8217;</div>
<div class="line">[Wednesday 29 September 2010] [11:32:19] &lt;llasm&gt;      yes i use this command &#8216;make install&#8217; with root user</div>
<div class="line">[Wednesday 29 September 2010] [11:33:11] &lt;pieterh&gt;    what does your setup.cfg contain?</div>
<div class="line">[Wednesday 29 September 2010] [11:33:17] &lt;llasm&gt;      but i don&#8217;t find zeromq2-dev folder in /user/local/</div>
<div class="line">[Wednesday 29 September 2010] [11:34:20] &lt;sustrik&gt;    there&#8217;s no such folder</div>
<div class="line">[Wednesday 29 September 2010] [11:34:32] &lt;sustrik&gt;    you should see /user/local/include/zmq.h for example</div>
<div class="line">[Wednesday 29 September 2010] [11:35:25] &lt;friendshi&gt;  llasm: see the section titled &#8216;Linux&#8217; under &#8216;Building and installation&#8217; on this page: <a class="reference external" href="http://github.com/zeromq/pyzmq">http://github.com/zeromq/pyzmq</a></div>
<div class="line">[Wednesday 29 September 2010] [11:37:23] &lt;llasm&gt;      my setup.cfg contain</div>
<div class="line">[Wednesday 29 September 2010] [11:37:28] &lt;llasm&gt;      library_dirs = /usr/local/zeromq-dev/lib</div>
<div class="line">[Wednesday 29 September 2010] [11:37:32] &lt;llasm&gt;      include_dirs = /usr/local/zeromq-dev/include</div>
<div class="line">[Wednesday 29 September 2010] [11:38:58] &lt;friendshi&gt;  try this: python setup.py build_ext &#8211;rpath=/usr/local/zeromq-dev/lib &#8211;inplace</div>
<div class="line">[Wednesday 29 September 2010] [11:39:51] &lt;friendshi&gt;  if /usr/local/zeromq-dev/lib is where you actually installed zeromq library</div>
<div class="line">[Wednesday 29 September 2010] [11:40:24] &lt;pieterh&gt;    llasm: this is a common mistake, the example setup.cfg is confusing</div>
<div class="line">[Wednesday 29 September 2010] [11:40:45] &lt;pieterh&gt;    edit it so that the paths are /usr/local/lib and /usr/local/include</div>
<div class="line">[Wednesday 29 September 2010] [11:42:40] &lt;sustrik&gt;    where&#8217;s the example?</div>
<div class="line">[Wednesday 29 September 2010] [11:43:22] &lt;pieterh&gt;    setup.cfg.template</div>
<div class="line">[Wednesday 29 September 2010] [11:43:30] &lt;sustrik&gt;    pyzmq project?</div>
<div class="line">[Wednesday 29 September 2010] [11:43:35] &lt;pieterh&gt;    yes</div>
<div class="line">[Wednesday 29 September 2010] [11:43:49] &lt;pieterh&gt;    i&#8217;m making a quickstarter for Python on the www.zeromq.com download page</div>
<div class="line">[Wednesday 29 September 2010] [11:44:00] &lt;sustrik&gt;    ok, let me create a ticket asking to change the example</div>
<div class="line">[Wednesday 29 September 2010] [11:44:09] &lt;pieterh&gt;    ack</div>
<div class="line">[Wednesday 29 September 2010] [11:44:16] &lt;llasm&gt;      i think that the installation is ok. so i&#8217;ve this error when i try : python -c &#8216;import zmq&#8217;</div>
<div class="line">[Wednesday 29 September 2010] [11:44:17] &lt;llasm&gt;      ImportError: libzmq.so.0: cannot open shared object file: No such file or directory</div>
<div class="line">[Wednesday 29 September 2010] [11:44:20] &lt;pieterh&gt;    also the page should not IMO tell the user to get the zeromq git</div>
<div class="line">[Wednesday 29 September 2010] [11:44:21] &lt;llasm&gt;      is normal?</div>
<div class="line">[Wednesday 29 September 2010] [11:44:35] &lt;pieterh&gt;    llasm: after zeromq install, &#8216;sudo ldconfig&#8217;</div>
<div class="line">[Wednesday 29 September 2010] [11:45:09] &lt;pieterh&gt;    that is covered here: <a class="reference external" href="http://www.zeromq.com/page:get-the-software">http://www.zeromq.com/page:get-the-software</a></div>
<div class="line">[Wednesday 29 September 2010] [11:45:32] &lt;friendshi&gt;  thats the error i was getting before doing the build_ext part from the documentation</div>
<div class="line">[Wednesday 29 September 2010] [11:46:29] &lt;pieterh&gt;    friendshi, ah, thanks</div>
<div class="line">[Wednesday 29 September 2010] [11:47:40] &lt;friendshi&gt;  see here i think: <a class="reference external" href="http://blog.boxedice.com/2010/05/23/building-zeromq-and-pyzmq-on-red-hat/#comment-1008">http://blog.boxedice.com/2010/05/23/building-zeromq-and-pyzmq-on-red-hat/#comment-1008</a></div>
<div class="line">[Wednesday 29 September 2010] [11:52:44] &lt;llasm&gt;      i excute &#8216;ldconfig&#8217; but i receive the same error</div>
<div class="line">[Wednesday 29 September 2010] [11:53:31] &lt;sustrik&gt;    is there zmq.h in /usr/local/include?</div>
<div class="line">[Wednesday 29 September 2010] [11:55:14] &lt;llasm&gt;      yes</div>
<div class="line">[Wednesday 29 September 2010] [11:55:52] &lt;pieterh&gt;    llasm: did you run &#8216;sudo python setup.py install&#8217; again?</div>
<div class="line">[Wednesday 29 September 2010] [11:56:04] &lt;llasm&gt;      yes</div>
<div class="line">[Wednesday 29 September 2010] [12:00:17]       * pieterh has exhausted his pyzmq knowledge</div>
<div class="line">[Wednesday 29 September 2010] [12:00:39] &lt;sustrik&gt;    how does you setup.py look like?</div>
<div class="line">[Wednesday 29 September 2010] [12:04:46] &lt;mato&gt;       17:37 &lt; llasm&gt; my setup.cfg contain</div>
<div class="line">[Wednesday 29 September 2010] [12:04:46] &lt;mato&gt;       17:37 &lt; llasm&gt; library_dirs = /usr/local/zeromq-dev/lib</div>
<div class="line">[Wednesday 29 September 2010] [12:04:46] &lt;mato&gt;       17:37 &lt; llasm&gt; include_dirs = /usr/local/zeromq-dev/include</div>
<div class="line">[Wednesday 29 September 2010] [12:04:52] &lt;mato&gt;       this would be a problem</div>
<div class="line">[Wednesday 29 September 2010] [12:05:01] &lt;mato&gt;       /usr/local/zeromq-dev will not be in a default LD_LIBRARY_PATH</div>
<div class="line">[Wednesday 29 September 2010] [12:05:05] &lt;mato&gt;       don&#8217;t do that :-)</div>
<div class="line">[Wednesday 29 September 2010] [12:05:27] &lt;mato&gt;       if you want things to just work then install everything in /usr/local</div>
<div class="line">[Wednesday 29 September 2010] [12:05:47] &lt;mato&gt;       or edit your ld.so.conf / LD_LIBRARY_PATH but normally you don&#8217;t want to do that</div>
<div class="line">[Wednesday 29 September 2010] [12:24:58] &lt;llasm&gt;      LD_LIBRARY_PATH is empty. it&#8217;s normal?!!</div>
<div class="line">[Wednesday 29 September 2010] [12:25:19] &lt;guido_g&gt;    yes</div>
<div class="line">[Wednesday 29 September 2010] [12:26:13] &lt;llasm&gt;      ok</div>
<div class="line">[Wednesday 29 September 2010] [12:28:08] &lt;sustrik&gt;    have you changed the setup.py?</div>
<div class="line">[Wednesday 29 September 2010] [12:28:55] &lt;sustrik&gt;    it should look like this:</div>
<div class="line">[Wednesday 29 September 2010] [12:29:01] &lt;sustrik&gt;    library_dirs = /usr/local/lib</div>
<div class="line">[Wednesday 29 September 2010] [12:29:11] &lt;sustrik&gt;    include_dirs = /usr/local/include</div>
<div class="line">[Wednesday 29 September 2010] [12:29:47] &lt;ntelford&gt;   hi guys</div>
<div class="line">[Wednesday 29 September 2010] [12:30:13] &lt;ntelford&gt;   just having a dig around the Java API and I&#8217;m wondering if there&#8217;s any support for streaming very large messages without having to buffer them in local memory first?</div>
<div class="line">[Wednesday 29 September 2010] [12:30:41] &lt;ntelford&gt;   I ask because Socket.send(byte[] msg, long flags) requires the message to be buffered as a byte array first</div>
<div class="line">[Wednesday 29 September 2010] [12:38:53] &lt;llasm&gt;      i change my setup.py to <a class="reference external" href="http://friendpaste.com/661JDgQHrVJPL28tT3hma0">http://friendpaste.com/661JDgQHrVJPL28tT3hma0</a></div>
<div class="line">[Wednesday 29 September 2010] [19:40:32] &lt;novas0x2a&gt;  could someone confirm that I&#8217;m using zmq_poll correctly here? <a class="reference external" href="http://codepad.org/iJuspYER">http://codepad.org/iJuspYER</a> I reliably get an uninitialized/corrupted message back out. I&#8217;m suspecting a zmq bug, but I&#8217;d like to rule out user error.</div>
<div class="line">[Wednesday 29 September 2010] [20:38:57] &lt;acts_as&gt;    Does zeromq have to talk to other zeromq (or <a href="#id55"><span class="problematic" id="id56">*</span></a>MQ) hosts?  Or can I have zeromq talk to xyz proprietary packets?</div>
<div class="line">[Wednesday 29 September 2010] [20:57:12] &lt;acts_as&gt;    anyone here :(</div>
<div class="line">[Thursday 30 September 2010] [00:12:15] &lt;jasong_at_apache&gt;    I just found out about 0mq</div>
<div class="line">[Thursday 30 September 2010] [00:12:25] &lt;jasong_at_apache&gt;    i&#8217;m like in love</div>
<div class="line">[Thursday 30 September 2010] [00:30:35] &lt;Pe_Ell&gt;      heh, yeah I want to use it but I need a quick working prototype in Perl and the current drivers are blocking...</div>
<div class="line">[Thursday 30 September 2010] [00:30:53] &lt;Pe_Ell&gt;      need to look into making an AnyEvent driver but prototype comes first...  but I really like the project.  :)</div>
<div class="line">[Thursday 30 September 2010] [00:59:22] &lt;lestrrat&gt;    Pe_Ell: wait till zeromq 2.1</div>
<div class="line">[Thursday 30 September 2010] [00:59:41] &lt;lestrrat&gt;    I&#8217;m going to make an AnyEvent adaptor then.</div>
<div class="line">[Thursday 30 September 2010] [01:00:10] &lt;Pe_Ell&gt;      yeah, was that you I was talking to about it through email last week?</div>
<div class="line">[Thursday 30 September 2010] [01:00:23] &lt;lestrrat&gt;    Ah, duh. must be.</div>
<div class="line">[Thursday 30 September 2010] [01:00:25] &lt;Pe_Ell&gt;      I started looking at the C code but I needed to undistract myself...  :)</div>
<div class="line">[Thursday 30 September 2010] [01:00:29] &lt;lestrrat&gt;    Sounded familiar.</div>
<div class="line">[Thursday 30 September 2010] [01:00:56] &lt;Pe_Ell&gt;      0mq was a shiny object in my time of planning...</div>
<div class="line">[Thursday 30 September 2010] [01:01:07] &lt;lestrrat&gt;    :)</div>
<div class="line">[Thursday 30 September 2010] [01:01:11] &lt;Pe_Ell&gt;      so doing my initial design testing with AnyEvent::MP</div>
<div class="line">[Thursday 30 September 2010] [01:01:23] &lt;lestrrat&gt;    I see.</div>
<div class="line">[Thursday 30 September 2010] [01:01:33] &lt;Pe_Ell&gt;      but I want to switch to 0mq after I get it working</div>
<div class="line">[Thursday 30 September 2010] [01:02:34] &lt;lestrrat&gt;    I would be willing to build a prototype based on the current master, but I&#8217;m also running YAPC::Asia, so I won&#8217;t have time to hack on it until it&#8217;s over :/</div>
<div class="line">[Thursday 30 September 2010] [01:02:44] &lt;Pe_Ell&gt;      np</div>
<div class="line">[Thursday 30 September 2010] [01:03:05] &lt;Pe_Ell&gt;      I&#8217;ve got a like a week or two of my project before I can get back to it...</div>
<div class="line">[Thursday 30 September 2010] [01:03:15] &lt;lestrrat&gt;    so maybe sometime around the end of Oct... unless $dayjob catches me.</div>
<div class="line">[Thursday 30 September 2010] [01:03:16] &lt;lestrrat&gt;    righto</div>
<div class="line">[Thursday 30 September 2010] [01:03:21] &lt;Pe_Ell&gt;      from what I read look like you can use ZMQ_FD to trigger polling</div>
<div class="line">[Thursday 30 September 2010] [01:03:40] &lt;Pe_Ell&gt;      but I didn&#8217;t get terribly far into it</div>
<div class="line">[Thursday 30 September 2010] [01:03:47] &lt;lestrrat&gt;    right. you just need to pass that FD as a IO object, and register a callback using AE::io</div>
<div class="line">[Thursday 30 September 2010] [01:04:14] &lt;lestrrat&gt;    then call ZMQ&#8217;s poll function (which I need to change the API a bit...)</div>
<div class="line">[Thursday 30 September 2010] [01:04:41] &lt;Pe_Ell&gt;      yeah I was wondering if it would be that simple or not...  since they mentioned that it triggers on more than just incoming events</div>
<div class="line">[Thursday 30 September 2010] [01:04:45] &lt;Pe_Ell&gt;      so you might not have any events when it triggers</div>
<div class="line">[Thursday 30 September 2010] [01:05:36] &lt;lestrrat&gt;    well, there may be caveats I&#8217;m missing, but sounds like you should be able to poll() and just have it return immediately w/o any messages.</div>
<div class="line">[Thursday 30 September 2010] [01:05:40] &lt;lestrrat&gt;    it wouldn&#8217;t matter.</div>
<div class="line">[Thursday 30 September 2010] [01:05:56] &lt;Pe_Ell&gt;      that&#8217;s what I was hoping</div>
<div class="line">[Thursday 30 September 2010] [01:05:57] &lt;lestrrat&gt;    it /would/ matter if it /didn&#8217;t/ trigger when there&#8217;s a message.</div>
<div class="line">[Thursday 30 September 2010] [01:06:07] &lt;Pe_Ell&gt;      yeah</div>
<div class="line">[Thursday 30 September 2010] [01:07:03] &lt;lestrrat&gt;    we&#8217;ll see. we might need to write a couple of wrappers around the FDs, but as long as we can decorate it like Perl IO object... we should be fine</div>
<div class="line">[Thursday 30 September 2010] [01:08:10] &lt;Pe_Ell&gt;      yeah</div>
<div class="line">[Thursday 30 September 2010] [03:12:43] &lt;CIA-20&gt;      zeromq2: 03Steven McCoy 07master * r96d85b2 10/ (4 files): (log message trimmed)</div>
<div class="line">[Thursday 30 September 2010] [03:12:43] &lt;CIA-20&gt;      zeromq2: * Add assertions to check for OpenPGM calls with invalid parameters.</div>
<div class="line">[Thursday 30 September 2010] [03:12:43] &lt;CIA-20&gt;      zeromq2: * Assertion to check that pgm_getaddrinfo is actually returning something.</div>
<div class="line">[Thursday 30 September 2010] [03:12:43] &lt;CIA-20&gt;      zeromq2: * Missing pgm_connect call.</div>
<div class="line">[Thursday 30 September 2010] [03:12:43] &lt;CIA-20&gt;      zeromq2: * Typo on TOS causing immediate abort.</div>
<div class="line">[Thursday 30 September 2010] [03:12:43] &lt;CIA-20&gt;      zeromq2: * Placeholder calls for timeouts whilst continuing spin loop functionality.</div>
<div class="line">[Thursday 30 September 2010] [03:12:44] &lt;CIA-20&gt;      zeromq2: * OpenPGM v5 now supports reference counting so remove init checks.</div>
<div class="line">[Thursday 30 September 2010] [03:12:44] &lt;CIA-20&gt;      zeromq2: 03Steven McCoy 07master * rd14be62 10/ (6 files): more fixes to (e)pgm transport - <a class="reference external" href="http://bit.ly/9U1BOZ">http://bit.ly/9U1BOZ</a></div>
<div class="line">[Thursday 30 September 2010] [03:12:45] &lt;CIA-20&gt;      zeromq2: 03Ilja Golshtein 07master * rec2e859 10/ (AUTHORS include/zmq.hpp): C++ binding destructors don&#8217;t throw exceptions - <a class="reference external" href="http://bit.ly/9wp2gs">http://bit.ly/9wp2gs</a></div>
<div class="line">[Thursday 30 September 2010] [05:33:55] &lt;CIA-20&gt;      zeromq2: 03Steven McCoy 07master * reaa925e 10/ src/pgm_socket.cpp : FreeBSD doesn&#8217;t define MSG_ERRQUEUE &#8211; now it&#8217;s defined in 0MQ - <a class="reference external" href="http://bit.ly/9p2Kny">http://bit.ly/9p2Kny</a></div>
<div class="line">[Thursday 30 September 2010] [05:35:28] &lt;CIA-20&gt;      zeromq2: 03Martin Sustrik 07master * r7881ba1 10/ src/pgm_socket.cpp : minor whitespace fix - <a class="reference external" href="http://bit.ly/dm6tfs">http://bit.ly/dm6tfs</a></div>
<div class="line">[Thursday 30 September 2010] [06:12:26] &lt;<a href="#id63"><span class="problematic" id="id66">js__</span></a>&gt;        hi</div>
<div class="line">[Thursday 30 September 2010] [06:13:23] &lt;<a href="#id63"><span class="problematic" id="id67">js__</span></a>&gt;        im having problem with the importation of the dll into visual studio 2010</div>
<div class="line">[Thursday 30 September 2010] [06:14:15] &lt;<a href="#id63"><span class="problematic" id="id68">js__</span></a>&gt;        is anybody have face this trouble ?</div>
<div class="line">[Thursday 30 September 2010] [06:14:43] &lt;<a href="#id63"><span class="problematic" id="id69">js__</span></a>&gt;        for the c# implementation</div>
<div class="line">[Thursday 30 September 2010] [08:04:05] &lt;CIA-20&gt;      zeromq2: 03Martin Sustrik 07master * r98fa2fa 10/ src/xrep.cpp : fix in XREP&#8217;s fair queueing mechanism - <a class="reference external" href="http://bit.ly/8Zh1WS">http://bit.ly/8Zh1WS</a></div>
<div class="line">[Thursday 30 September 2010] [08:41:47] &lt;mrshpot&gt;     hello, mato</div>
<div class="line">[Thursday 30 September 2010] [09:10:58] &lt;CIA-20&gt;      zeromq2: 03Max Wolf 07maint * r79aea5f 10/ (AUTHORS src/xrep.cpp): zmq_msg_move called on uninitialised message in xrep_t::xrecv &#8211; fixed - <a class="reference external" href="http://bit.ly/9EVmvj">http://bit.ly/9EVmvj</a></div>
<div class="line">[Thursday 30 September 2010] [09:13:15] &lt;CIA-20&gt;      zeromq2: 03Max Wolf 07master * r79aea5f 10/ (AUTHORS src/xrep.cpp): zmq_msg_move called on uninitialised message in xrep_t::xrecv &#8211; fixed - <a class="reference external" href="http://bit.ly/9EVmvj">http://bit.ly/9EVmvj</a></div>
<div class="line">[Thursday 30 September 2010] [09:13:21] &lt;CIA-20&gt;      zeromq2: 03Martin Sustrik 07master * rac9b05c 10/ (AUTHORS src/xrep.cpp):</div>
<div class="line">[Thursday 30 September 2010] [09:13:21] &lt;CIA-20&gt;      zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Thursday 30 September 2010] [09:13:21] &lt;CIA-20&gt;      zeromq2: * maint:</div>
<div class="line">[Thursday 30 September 2010] [09:13:21] &lt;CIA-20&gt;      zeromq2:  zmq_msg_move called on uninitialised message in xrep_t::xrecv &#8211; fixed - <a class="reference external" href="http://bit.ly/dbjJBL">http://bit.ly/dbjJBL</a></div>
<div class="line">[Thursday 30 September 2010] [09:31:59] &lt;CIA-20&gt;      zeromq2: 03Martin Lucina 07master * r8f9080e 10/ src/zmq.cpp :</div>
<div class="line">[Thursday 30 September 2010] [09:31:59] &lt;CIA-20&gt;      zeromq2: zmq_poll(): Fix busy-loop if timeout is zero</div>
<div class="line">[Thursday 30 September 2010] [09:31:59] &lt;CIA-20&gt;      zeromq2: Fix a case where zmq_poll() (poll-based version) could go off into a busy-loop</div>
<div class="line">[Thursday 30 September 2010] [09:31:59] &lt;CIA-20&gt;      zeromq2: if no revents are returned and the timeout passed in is zero. - <a class="reference external" href="http://bit.ly/dq8ZsW">http://bit.ly/dq8ZsW</a></div>
<div class="line">[Thursday 30 September 2010] [09:59:34] &lt;mato&gt;        sustrik: are you there?</div>
<div class="line">[Thursday 30 September 2010] [09:59:41] &lt;sustrik&gt;     yes</div>
<div class="line">[Thursday 30 September 2010] [09:59:50] &lt;mato&gt;        i get an occasional assertion on master</div>
<div class="line">[Thursday 30 September 2010] [09:59:56] &lt;mato&gt;        no idea what causes it</div>
<div class="line">[Thursday 30 September 2010] [10:00:02] &lt;sustrik&gt;     what&#8217;s the assertion?</div>
<div class="line">[Thursday 30 September 2010] [10:00:03] &lt;mato&gt;        Assertion failed: <a href="#id104"><span class="problematic" id="id105">inpipe_</span></a> &amp;&amp; <a href="#id106"><span class="problematic" id="id107">outpipe_</span></a> (xrep.cpp:53)</div>
<div class="line">[Thursday 30 September 2010] [10:01:29] &lt;sustrik&gt;     that should not happen</div>
<div class="line">[Thursday 30 September 2010] [10:01:32] &lt;mato&gt;        will try to get a core dump</div>
<div class="line">[Thursday 30 September 2010] [10:01:33] &lt;sustrik&gt;     can we reproduce it?</div>
<div class="line">[Thursday 30 September 2010] [10:01:37] &lt;mato&gt;        it&#8217;s very random</div>
<div class="line">[Thursday 30 September 2010] [10:01:40] &lt;sustrik&gt;     hm</div>
<div class="line">[Thursday 30 September 2010] [10:15:47] &lt;mato&gt;        sustrik: ok, i have a core file... it comes out of a case with close()</div>
<div class="line">[Thursday 30 September 2010] [10:15:52] &lt;mato&gt;        sustrik: so it&#8217;s related to socket shutdown</div>
<div class="line">[Thursday 30 September 2010] [10:15:59] &lt;sustrik&gt;     ack</div>
<div class="line">[Thursday 30 September 2010] [10:16:08] &lt;sustrik&gt;     can i see the backtrace?</div>
<div class="line">[Thursday 30 September 2010] [11:39:58] &lt;mikko&gt;       ZMQ_TYPE support added to php bindings</div>
<div class="line">[Thursday 30 September 2010] [11:40:08] &lt;mikko&gt;       i like the changed semantics with zmq_close</div>
<div class="line">[Thursday 30 September 2010] [11:40:22] &lt;mikko&gt;       with languages like php the &#8216;old&#8217; semantics cause a lot of issues</div>
<div class="line">[Thursday 30 September 2010] [11:40:40] &lt;sustrik&gt;     it caused lot of problems to everone</div>
<div class="line">[Thursday 30 September 2010] [11:41:13] &lt;sustrik&gt;     but even the new solution is not perfect, zmq_term may now block for prolonged periods of time</div>
<div class="line">[Thursday 30 September 2010] [11:41:49] &lt;sustrik&gt;     the only real solution is to have 0mq in kernel space</div>
<div class="line">[Thursday 30 September 2010] [11:41:52] &lt;mato&gt;        it still needs discussion and fixing, /me would love to write all the close semantics down properly but is bogged down in work for a client</div>
<div class="line">[Thursday 30 September 2010] [11:42:10] &lt;mato&gt;        sustrik: that solution is years away, hence not a solution :)</div>
<div class="line">[Thursday 30 September 2010] [11:42:34] &lt;sustrik&gt;     sure</div>
<div class="line">[Thursday 30 September 2010] [11:42:58] &lt;mikko&gt;       zmq_close with timeout would be nice i guess</div>
<div class="line">[Thursday 30 September 2010] [11:43:11] &lt;mikko&gt;       as intermediate solution</div>
<div class="line">[Thursday 30 September 2010] [11:43:16] &lt;sustrik&gt;     yeah, SO_LINGER has to be added</div>
<div class="line">[Thursday 30 September 2010] [11:43:24] &lt;sustrik&gt;     it&#8217;s on TODO list</div>
<div class="line">[Thursday 30 September 2010] [11:43:31] &lt;mikko&gt;       im one step behind</div>
<div class="line">[Thursday 30 September 2010] [11:43:38] &lt;mikko&gt;       been on holidays in sunny istanbul</div>
<div class="line">[Thursday 30 September 2010] [11:43:44] &lt;mikko&gt;       mainly focusing on kebab and raki</div>
<div class="line">[Thursday 30 September 2010] [11:43:44] &lt;sustrik&gt;     lucky you</div>
<div class="line">[Thursday 30 September 2010] [11:44:12] &lt;mikko&gt;       how did the meeting go in london?</div>
<div class="line">[Thursday 30 September 2010] [11:44:28] &lt;sustrik&gt;     there was a tube strike exactly that day :)</div>
<div class="line">[Thursday 30 September 2010] [11:44:41] &lt;sustrik&gt;     the only one who managed to get there was jon dyte</div>
<div class="line">[Thursday 30 September 2010] [11:45:07] &lt;sustrik&gt;     pieter was more lucky with chicago meetup</div>
<div class="line">[Thursday 30 September 2010] [11:45:13] &lt;mikko&gt;       do you come to london often?</div>
<div class="line">[Thursday 30 September 2010] [11:45:20] &lt;sustrik&gt;     depends</div>
<div class="line">[Thursday 30 September 2010] [11:45:35] &lt;sustrik&gt;     you&#8217;ve been in amsterdam last time, right?</div>
<div class="line">[Thursday 30 September 2010] [11:45:39] &lt;mikko&gt;       yeah</div>
<div class="line">[Thursday 30 September 2010] [11:45:52] &lt;sustrik&gt;     gonzalo just proposed another meetup in amsterdam</div>
<div class="line">[Thursday 30 September 2010] [11:45:59] &lt;sustrik&gt;     won&#8217;t you be around by chance?</div>
<div class="line">[Thursday 30 September 2010] [11:46:00] &lt;mikko&gt;       yeah, i saw the email</div>
<div class="line">[Thursday 30 September 2010] [11:46:08] &lt;mikko&gt;       it looks like im in utrecht on 18th onwards</div>
<div class="line">[Thursday 30 September 2010] [11:46:15] &lt;mikko&gt;       which is short way from amsterdam</div>
<div class="line">[Thursday 30 September 2010] [11:46:21] &lt;mikko&gt;       s/on/from/</div>
<div class="line">[Thursday 30 September 2010] [11:46:29] &lt;sustrik&gt;     nice</div>
<div class="line">[Thursday 30 September 2010] [11:46:34] &lt;mikko&gt;       that&#8217;s week early though</div>
<div class="line">[Thursday 30 September 2010] [11:46:53] &lt;mikko&gt;       it&#8217;s either one week or two week job</div>
<div class="line">[Thursday 30 September 2010] [11:47:02] &lt;sustrik&gt;     i see</div>
<div class="line">[Thursday 30 September 2010] [11:47:32] &lt;sustrik&gt;     well, let&#8217;s see whether some other folks are interested in the meetup</div>
<div class="line">[Thursday 30 September 2010] [11:47:59] &lt;mikko&gt;       amsterdam is pretty easy to get from most of the europe</div>
<div class="line">[Thursday 30 September 2010] [11:48:05] &lt;mikko&gt;       45 mins flight from here</div>
<div class="line">[Thursday 30 September 2010] [11:48:19] &lt;sustrik&gt;     ack</div>
<div class="line">[Thursday 30 September 2010] [11:50:47] &lt;mikko&gt;       i would be keen on meet-up if an opportunity comes up</div>
<div class="line">[Thursday 30 September 2010] [11:51:20] &lt;mikko&gt;       hmmm, i get a quota of conference days to spend from work</div>
<div class="line">[Thursday 30 September 2010] [11:51:30] &lt;mikko&gt;       are you talking in any upcoming event?</div>
<div class="line">[Thursday 30 September 2010] [11:53:12] &lt;sustrik&gt;     nope, it&#8217;s just a beer event</div>
<div class="line">[Thursday 30 September 2010] [11:54:08] &lt;sustrik&gt;     i thought that if 5-6 people would come there it would be worth of spending a day in amsterdam</div>
<div class="line">[Thursday 30 September 2010] [11:54:17] &lt;sustrik&gt;     but it&#8217;s just social</div>
<div class="line">[Thursday 30 September 2010] [11:55:22] &lt;sustrik&gt;     btw, one think we&#8217;ve talked about with jon dyte is whether it wouldn&#8217;t make sense to organise a small 0mq meetup/conference</div>
<div class="line">[Thursday 30 September 2010] [11:56:09] &lt;mikko&gt;       that would be nice</div>
<div class="line">[Thursday 30 September 2010] [11:56:31] &lt;mikko&gt;       varnish people do those occasionally</div>
<div class="line">[Thursday 30 September 2010] [11:56:32] &lt;sustrik&gt;     it&#8217;s purely theoretical so far</div>
<div class="line">[Thursday 30 September 2010] [11:56:40] &lt;mikko&gt;       they also brainstorm on features etc</div>
<div class="line">[Thursday 30 September 2010] [11:56:57] &lt;sustrik&gt;     ack</div>
<div class="line">[Thursday 30 September 2010] [11:57:05] &lt;sustrik&gt;     the logistics is obvious problem</div>
<div class="line">[Thursday 30 September 2010] [11:57:14] &lt;sustrik&gt;     people are all around the globe</div>
<div class="line">[Thursday 30 September 2010] [11:57:26] &lt;mikko&gt;       <a class="reference external" href="http://www.varnish-cache.org/trac/wiki/VUG2">http://www.varnish-cache.org/trac/wiki/VUG2</a></div>
<div class="line">[Thursday 30 September 2010] [11:57:28] &lt;mikko&gt;       that kind of thing</div>
<div class="line">[Thursday 30 September 2010] [11:57:53] &lt;sustrik&gt;     yes, something like that</div>
<div class="line">[Thursday 30 September 2010] [11:57:55] &lt;mikko&gt;       maybe we could try to organise it around a larger conference</div>
<div class="line">[Thursday 30 September 2010] [11:58:02] &lt;sustrik&gt;     one option would be to hold it after fossdem</div>
<div class="line">[Thursday 30 September 2010] [11:58:05] &lt;sustrik&gt;     in brussels</div>
<div class="line">[Thursday 30 September 2010] [11:58:11] &lt;sustrik&gt;     that&#8217;s a really big conference</div>
<div class="line">[Thursday 30 September 2010] [11:58:24] &lt;sustrik&gt;     some 2000 attendeed or so</div>
<div class="line">[Thursday 30 September 2010] [11:58:46] &lt;sustrik&gt;     held jan/feb iirc</div>
<div class="line">[Thursday 30 September 2010] [11:59:29] &lt;mikko&gt;       feb it seems</div>
<div class="line">[Thursday 30 September 2010] [11:59:38] &lt;mikko&gt;       they give rooms to distribution miniconferences</div>
<div class="line">[Thursday 30 September 2010] [11:59:42] &lt;mikko&gt;       conferences*</div>
<div class="line">[Thursday 30 September 2010] [11:59:54] &lt;mikko&gt;       there was no typo actually</div>
<div class="line">[Thursday 30 September 2010] [12:00:05] &lt;mikko&gt;       anyway, it seems like a sensible idea</div>
<div class="line">[Thursday 30 September 2010] [12:00:22] &lt;mikko&gt;       that way people can attend fossdem and probably get their companies to pay for flights / accomodation</div>
<div class="line">[Thursday 30 September 2010] [12:00:34] &lt;sustrik&gt;     there are imatix offices in brussels, so it would be easy</div>
<div class="line">[Thursday 30 September 2010] [12:00:42] &lt;mikko&gt;       We hereby invite ideas and proposals for main speakers, and proposals for developer rooms. The call for stands and lightning talks will be done after announcing the accepted devrooms.</div>
<div class="line">[Thursday 30 September 2010] [12:00:54] &lt;mikko&gt;       they also provide dev rooms</div>
<div class="line">[Thursday 30 September 2010] [12:01:19] &lt;sustrik&gt;     but pieter has a fridge with beer at imatix office :)</div>
<div class="line">[Thursday 30 September 2010] [12:01:37] &lt;mikko&gt;       sounds like a plan</div>
<div class="line">[Thursday 30 September 2010] [12:01:45] &lt;mikko&gt;       mussels in brussels</div>
<div class="line">[Thursday 30 September 2010] [12:01:49] &lt;sustrik&gt;     right</div>
<div class="line">[Thursday 30 September 2010] [12:02:11] &lt;mikko&gt;       maybe fire the idea to mailing list and see if people pick up?</div>
<div class="line">[Thursday 30 September 2010] [12:03:00] &lt;omarkj&gt;      Oh, a reason to go to Brussels?</div>
<div class="line">[Thursday 30 September 2010] [12:05:23] &lt;mikko&gt;       it would be nice to brainstorm and bounce around ideas on how people use zeromq</div>
<div class="line">[Thursday 30 September 2010] [12:07:30] &lt;sustrik&gt;     yes, if people are intersted we can arrange that</div>
<div class="line">[Thursday 30 September 2010] [12:13:09] &lt;mikko&gt;       seems like pfsense uses the zmq php bindings</div>
<div class="line">[Thursday 30 September 2010] [12:13:50] &lt;sustrik&gt;     what&#8217;s that?</div>
<div class="line">[Thursday 30 September 2010] [12:13:59] &lt;mikko&gt;       it&#8217;s a firewall / captive portal</div>
<div class="line">[Thursday 30 September 2010] [12:14:15] &lt;sustrik&gt;     interesting</div>
<div class="line">[Thursday 30 September 2010] [12:14:26] &lt;mikko&gt;       &#8220;pfSense is a free, open source customized distribution of FreeBSD tailored for use as a firewall and router.&#8221;</div>
<div class="line">[Thursday 30 September 2010] [12:14:42] &lt;mikko&gt;       it seems they use zeromq to distribute config changes</div>
<div class="line">[Thursday 30 September 2010] [12:14:42] &lt;sustrik&gt;     any idea what do they use it for?</div>
<div class="line">[Thursday 30 September 2010] [12:14:47] &lt;sustrik&gt;     i see</div>
<div class="line">[Thursday 30 September 2010] [12:15:15] &lt;sustrik&gt;     actually, i would like to see 0MQ devices running on routers one day</div>
<div class="line">[Thursday 30 September 2010] [12:15:17] &lt;mikko&gt;       i guess that enables centralised management for firewall clusters</div>
<div class="line">[Thursday 30 September 2010] [12:15:33] &lt;sustrik&gt;     but we are not that fat yet</div>
<div class="line">[Thursday 30 September 2010] [12:15:38] &lt;sustrik&gt;     far*</div>
<div class="line">[Thursday 30 September 2010] [12:16:40] &lt;sustrik&gt;     the idea is that a device sits at the edge of the network (in router) and redistributes messages to the local network</div>
<div class="line">[Thursday 30 September 2010] [12:17:41] &lt;mikko&gt;       i think some of the concepts in zeromq are hard to grasp</div>
<div class="line">[Thursday 30 September 2010] [12:17:44] &lt;mikko&gt;       for some people</div>
<div class="line">[Thursday 30 September 2010] [12:17:54] &lt;mikko&gt;       well, not zeromq specific issue</div>
<div class="line">[Thursday 30 September 2010] [12:18:01] &lt;mikko&gt;       more like messaging oriented approach</div>
<div class="line">[Thursday 30 September 2010] [12:18:18] &lt;mikko&gt;       and some people seem to insist on &#8216;persistent&#8217; messaging</div>
<div class="line">[Thursday 30 September 2010] [12:18:44] &lt;sustrik&gt;     yes, i am aware of that</div>
<div class="line">[Thursday 30 September 2010] [12:18:51] &lt;sustrik&gt;     we need to educate the crowd</div>
<div class="line">[Thursday 30 September 2010] [12:56:19] &lt;jasong_at_apache&gt;    one my main dev machine which is OSX (production is ubuntu) i&#8217;m getting: ./configure: line 15263: syntax error near unexpected token <a href="#id57"><span class="problematic" id="id58">`</span></a>newline&#8217;</div>
<div class="line">[Thursday 30 September 2010] [12:56:20] &lt;jasong_at_apache&gt;    ./configure: line 15263: `    PKG_CHECK_MODULES(&#8216;</div>
<div class="line">[Thursday 30 September 2010] [12:56:48] &lt;jasong_at_apache&gt;    this is optionless ./autogen.sh , ./configure (stock as is)</div>
<div class="line">[Thursday 30 September 2010] [12:58:28] &lt;jasong_at_apache&gt;    update: i just found the doc page....</div>
<div class="line">[Thursday 30 September 2010] [12:59:03] &lt;cremes&gt;      jasong_at_apache: make sure you have libtool installed on your machine</div>
<div class="line">[Thursday 30 September 2010] [12:59:17] &lt;cremes&gt;      if you use macports, do a &#8220;port install libtool&#8221; and try again</div>
<div class="line">[Thursday 30 September 2010] [12:59:35] &lt;jasong_at_apache&gt;    i do, will try! thx cremes</div>
<div class="line">[Thursday 30 September 2010] [14:16:11] &lt;jasong_at_apache&gt;    another issue, now with jzmq</div>
<div class="line">[Thursday 30 September 2010] [14:16:26] &lt;jasong_at_apache&gt;    libtool: compile:  g++ -DHAVE_CONFIG_H -I. -D_REENTRANT -D_THREAD_SAFE -I/Library/Java/Home/include -Wall -g -O2 -MT libjzmq_la-Socket.lo -MD -MP -MF .deps/libjzmq_la-Socket.Tpo -c Socket.cpp  -fno-common -DPIC -o .libs/libjzmq_la-Socket.o</div>
<div class="line">[Thursday 30 September 2010] [14:16:26] &lt;jasong_at_apache&gt;    Socket.cpp: In function &#8216;jlong Java_org_zeromq_ZMQ_00024Socket_getLongSockopt(JNIEnv*, _jobject*, jint)&#8217;:</div>
<div class="line">[Thursday 30 September 2010] [14:16:26] &lt;jasong_at_apache&gt;    Socket.cpp:103: error: &#8216;ZMQ_TYPE&#8217; was not declared in this scope</div>
<div class="line">[Thursday 30 September 2010] [14:21:09] &lt;cremes&gt;      jasong_at_apache: i don&#8217;t think the &#8220;official&#8221; bindings have been updated to work with 2.1 yet</div>
<div class="line">[Thursday 30 September 2010] [14:21:25] &lt;cremes&gt;      if you are just starting to experiment, you might want to stick with 2.0.9</div>
<div class="line">[Thursday 30 September 2010] [14:21:58] &lt;jasong_at_apache&gt;    ah</div>
<div class="line">[Thursday 30 September 2010] [14:23:02] &lt;jasong_at_apache&gt;    sorry I&#8217;m coming across as a total noob, I am monitoring several builds figure i&#8217;d just hit you guys up for the obvious</div>
<div class="line">[Thursday 30 September 2010] [14:31:38] &lt;Guest28979&gt;  I want to setup a pub-sub system where a client sends a message to a central server that does some authentication and error checking and then publishes that message to all clients.</div>
<div class="line">[Thursday 30 September 2010] [14:32:11] &lt;omarkj&gt;      Okay.</div>
<div class="line">[Thursday 30 September 2010] [14:32:24] &lt;Guest28979&gt;  I&#8217;m doing a request/response pair to send the message to the server, and pub/sub to send out the messages, and it&#8217;s working beautifully, except...</div>
<div class="line">[Thursday 30 September 2010] [14:33:00] &lt;Guest28979&gt;  These are dynamic hosts, and on ocassion, the server will die and move to a different machine.</div>
<div class="line">[Thursday 30 September 2010] [14:33:42] &lt;Guest28979&gt;  Is there an elegant way to do this, or do I need to do non-blocking recv&#8217;s with timeouts, and a heartbeat on the PUB/SUB side of things?</div>
<div class="line">[Thursday 30 September 2010] [14:35:54] &lt;Peaceful&gt;    Is this a common problem?  I&#8217;m trying to install zmq and pyzmq for the first time on my OS X 10.6 box, and it looked like it worked, but I get:       ImportError: cannot import name _zmq   &#8211;&gt; when I do &#8220;import zmq&#8221;</div>
<div class="line">[Thursday 30 September 2010] [14:36:28] &lt;Peaceful&gt;    Here&#8217;s the full traceback: <a class="reference external" href="http://pastebin.com/YrDu1RNK">http://pastebin.com/YrDu1RNK</a></div>
<div class="line">[Thursday 30 September 2010] [14:36:49] &lt;Peaceful&gt;    I just downloaded 2.0.9, untarred it, ran ./configure, make, make install ...</div>
<div class="line">[Thursday 30 September 2010] [14:37:05] &lt;Guest28979&gt;  Peaceful: How did you install pyzmq?</div>
<div class="line">[Thursday 30 September 2010] [14:37:13] &lt;Guest28979&gt;  easy_install?</div>
<div class="line">[Thursday 30 September 2010] [14:37:25] &lt;Peaceful&gt;    then downloaded pyzmq (from git), copied setup.cfg (which looked correct), and did &#8216;sudo python setup.py install&#8217;</div>
<div class="line">[Thursday 30 September 2010] [14:37:57] &lt;Guest28979&gt;  What was the output of that?</div>
<div class="line">[Thursday 30 September 2010] [14:40:06]        * Peaceful is gathering output for pastebin</div>
<div class="line">[Thursday 30 September 2010] [14:40:51] &lt;Peaceful&gt;    <a class="reference external" href="http://pastebin.com/neYyq9Kf">http://pastebin.com/neYyq9Kf</a>  &lt;&#8211; output of &#8216;sudo python setup.py install&#8217;</div>
<div class="line">[Thursday 30 September 2010] [14:45:30] &lt;Peaceful&gt;    <a class="reference external" href="http://pastebin.com/8ct0gsif">http://pastebin.com/8ct0gsif</a> &lt;&#8211; and here&#8217;s the full output from my &#8221;./configure&#8221;, &#8220;make&#8221;, &#8220;sudo make install&#8221;</div>
<div class="line">[Thursday 30 September 2010] [14:45:55] &lt;Peaceful&gt;    There&#8217;s warnings, but it appeared that zmq and pyzmq both successfully installed...but doesn&#8217;t work.</div>
<div class="line">[Thursday 30 September 2010] [14:46:44] &lt;guido_g&gt;     might be a path issue</div>
<div class="line">[Thursday 30 September 2010] [14:47:10] &lt;Guest28979&gt;  I&#8217;m hardly a Mac guy, so I&#8217;m stabbing in the dark here...</div>
<div class="line">[Thursday 30 September 2010] [14:47:20] &lt;guido_g&gt;     dito.</div>
<div class="line">[Thursday 30 September 2010] [14:48:17] &lt;Peaceful&gt;    Hmm.  There were no mac-specific install instructions for zmq...I checked &#8220;INSTALL&#8221;.  I wonder if zmq itself works okay...</div>
<div class="line">[Thursday 30 September 2010] [14:48:53] &lt;Guest28979&gt;  Do you have a directory that looks something like &#8216;/Library/Python/2.6/site-packages/pyzmq-2.0.9dev-py2.6.egg&#8217;?</div>
<div class="line">[Thursday 30 September 2010] [14:49:24] &lt;Peaceful&gt;    no, but...</div>
<div class="line">[Thursday 30 September 2010] [14:49:43] &lt;Peaceful&gt;    there is this, which is close:</div>
<div class="line">[Thursday 30 September 2010] [14:49:45] &lt;Peaceful&gt;    ls /Library/Python/2.6/site-packages/zmq/</div>
<div class="line">[Thursday 30 September 2010] [14:49:49] &lt;Peaceful&gt;    __init__.py  __init__.pyc _zmq.pxd     _zmq.so      allocate.pxd buffers.pxd  devices.so   eventloop    log          tests</div>
<div class="line">[Thursday 30 September 2010] [14:49:52] &lt;Guest28979&gt;  It&#8217;s sticking an egg.info file into /Library/Python/2.6/site-package, but where is the egg itself?</div>
<div class="line">[Thursday 30 September 2010] [14:50:05] &lt;Guest28979&gt;  Ah, OK.</div>
<div class="line">[Thursday 30 September 2010] [14:50:15] &lt;Guest28979&gt;  What&#8217;s the mac equivalent of ldconfig?</div>
<div class="line">[Thursday 30 September 2010] [14:50:22] &lt;Peaceful&gt;    There&#8217;s this:  /Library/Python/2.6/site-packages/pyzmq-2.0.9dev-py2.6.egg-info</div>
<div class="line">[Thursday 30 September 2010] [14:50:23] &lt;Guest28979&gt;  Try sudo ldconfig</div>
<div class="line">[Thursday 30 September 2010] [14:50:42] &lt;Peaceful&gt;    hey!</div>
<div class="line">[Thursday 30 September 2010] [14:50:52] &lt;Peaceful&gt;    before I tried that, I thought, maybe I should try a new terminal</div>
<div class="line">[Thursday 30 September 2010] [14:50:58] &lt;Peaceful&gt;    opening up a new terminal window worked</div>
<div class="line">[Thursday 30 September 2010] [14:51:02] &lt;Guest28979&gt;  Yeah, and the new one has the path.</div>
<div class="line">[Thursday 30 September 2010] [14:51:06] &lt;Peaceful&gt;    I didn&#8217;t run ldconfig</div>
<div class="line">[Thursday 30 September 2010] [14:51:16] &lt;Guest28979&gt;  Or the python path is rebuilt, or what-have-you.</div>
<div class="line">[Thursday 30 September 2010] [14:51:22] &lt;Peaceful&gt;    ah, I bet &#8220;hash -r&#8221; would have fixed it in my original one...</div>
<div class="line">[Thursday 30 September 2010] [14:51:32] &lt;Peaceful&gt;    er, nope</div>
<div class="line">[Thursday 30 September 2010] [14:51:39] &lt;Peaceful&gt;    okay, I&#8217;ll just stick with the new window :)</div>
<div class="line">[Thursday 30 September 2010] [14:51:41] &lt;Guest28979&gt;  guido_g was right, it was a path issue.</div>
<div class="line">[Thursday 30 September 2010] [14:51:49] &lt;guido_g&gt;     YES!</div>
<div class="line">[Thursday 30 September 2010] [14:51:54] &lt;Guest28979&gt;  +1</div>
<div class="line">[Thursday 30 September 2010] [14:51:56] &lt;guido_g&gt;     where&#8217;S the cookie? :)</div>
<div class="line">[Thursday 30 September 2010] [14:51:58] &lt;Peaceful&gt;    guido_g++</div>
<div class="line">[Thursday 30 September 2010] [14:52:05] &lt;Peaceful&gt;    ^&#8211; cookie</div>
<div class="line">[Thursday 30 September 2010] [14:52:23]        * Peaceful hands guido_g his cookie and says &#8220;good boy!&#8221;</div>
<div class="line">[Thursday 30 September 2010] [14:52:28] &lt;Peaceful&gt;    thanks!</div>
<div class="line">[Thursday 30 September 2010] [14:52:46] &lt;nedjl&gt;       Let&#8217;s see if nickserv lets me have this one.</div>
<div class="line">[Thursday 30 September 2010] [14:52:51] &lt;rgl&gt; how good is zeromq on windows?</div>
<div class="line">[Thursday 30 September 2010] [14:52:52] &lt;Peaceful&gt;    Now I&#8217;ll go see if I can actually get zmq working.  I only discovered its existence last night.</div>
<div class="line">[Thursday 30 September 2010] [14:52:52]        * guido_g eats cookie</div>
<div class="line">[Thursday 30 September 2010] [14:53:20]        * Peaceful heads off to explore zmq...and eat lunch</div>
<div class="line">[Thursday 30 September 2010] [14:53:32] &lt;mikko&gt;       rgl: should be fine</div>
<div class="line">[Thursday 30 September 2010] [14:53:33] &lt;nedjl&gt;       Peaceful: There&#8217;s a &#8220;It&#8217;s not working&#8221; workflow chart that&#8217;s very good. Most of my experience with it has involved it just working.</div>
<div class="line">[Thursday 30 September 2010] [14:53:46] &lt;mikko&gt;       rgl: as far as i know, cant really vouch for it as i dont use windows</div>
<div class="line">[Thursday 30 September 2010] [14:54:20] &lt;rgl&gt; are there any official windows binaries?</div>
<div class="line">[Thursday 30 September 2010] [14:54:26]        * rgl didn&#8217;t found them on the homepage</div>
<div class="line">[Thursday 30 September 2010] [14:54:53] &lt;nedjl&gt;       I figured out a better way of asking my question &#8211; is there a way to get an error when an endpoint goes down? I don&#8217;t want zeromq to hide me from this, I need to redo some service discovery to find out where I should connect to instead.</div>
<div class="line">[Thursday 30 September 2010] [14:55:19] &lt;mikko&gt;       rgl: you should be able to build easily</div>
<div class="line">[Thursday 30 September 2010] [14:55:38] &lt;rgl&gt; mikko, ok. will do. thx! :)</div>
<div class="line">[Thursday 30 September 2010] [14:55:41] &lt;mikko&gt;       rgl: are you looking to use one of the language bindings?</div>
<div class="line">[Thursday 30 September 2010] [14:55:47] &lt;rgl&gt; mikko, C#</div>
<div class="line">[Thursday 30 September 2010] [14:56:19] &lt;guido_g&gt;     nedjl: nope, mq is notorously underprovisioned with this kind of stuff</div>
<div class="line">[Thursday 30 September 2010] [14:57:10] &lt;guido_g&gt;     it _might_ be that you get a notification through the logging interface in the future, the distant future...</div>
<div class="line">[Thursday 30 September 2010] [14:57:42] &lt;mikko&gt;       nedjl: at the moment you would probably implement some sort of heartbeat</div>
<div class="line">[Thursday 30 September 2010] [14:58:21] &lt;mikko&gt;       it&#8217;s getting busy in here, 66 people</div>
<div class="line">[Thursday 30 September 2010] [14:59:10] &lt;guido_g&gt;     complicated by the fact that you don&#8217;t know which connection is alive and that there is no way to use a specific underlying connection</div>
<div class="line">[Thursday 30 September 2010] [15:00:25] &lt;nedjl&gt;       mikko, guido_g: OK. My current plan to figure out if the sub/pub socket is still alive to send out a heartbeat every few seconds, and kill off all the clients if there is no response.</div>
<div class="line">[Thursday 30 September 2010] [15:00:58] &lt;guido_g&gt;     if you have use-cases involving this kind of information, <em>please</em> take the time to mention it on the mailing list</div>
<div class="line">[Thursday 30 September 2010] [15:01:12] &lt;nedjl&gt;       The req/res socket I&#8217;m polling on the response to a req, and if I don&#8217;t get anything after a reasonable amount of time, I redo the service discovery and try again with the new info.</div>
<div class="line">[Thursday 30 September 2010] [15:02:20] &lt;mikko&gt;       indeed the hearbeat is problematic</div>
<div class="line">[Thursday 30 September 2010] [15:02:31] &lt;nedjl&gt;       I&#8217;ve got a server that validates messages indicating events, and then spreads em around to anyone interested. That server will go down from time to time, and I want all the clients to notice and redo the service discovery if appropriate.</div>
<div class="line">[Thursday 30 September 2010] [15:02:38] &lt;mikko&gt;       especially in scenarios where for example a specific port is blocked accidentally on a firewall</div>
<div class="line">[Thursday 30 September 2010] [15:02:53] &lt;mikko&gt;       as the hearbeat might be going through a different port than main connection</div>
<div class="line">[Thursday 30 September 2010] [15:03:31] &lt;nedjl&gt;       These are actually a cluster of EC2 servers, and I&#8217;m sending out notifications about changes in the cluster&#8217;s state using this mechanism.</div>
<div class="line">[Thursday 30 September 2010] [15:04:37] &lt;mikko&gt;       nedjl: and you dont know the peers addresses beforehand?</div>
<div class="line">[Thursday 30 September 2010] [15:04:47] &lt;nedjl&gt;       I can&#8217;t use multicast, even though it is probably the right solution, because EC2 doesn&#8217;t support multicast without some gross tunneling hacks.</div>
<div class="line">[Thursday 30 September 2010] [15:05:06] &lt;mikko&gt;       nedjl: doesnt pgm encapsulate the multicast into tcp?</div>
<div class="line">[Thursday 30 September 2010] [15:05:15] &lt;guido_g&gt;     no</div>
<div class="line">[Thursday 30 September 2010] [15:05:28] &lt;mikko&gt;       even with tcp transport?</div>
<div class="line">[Thursday 30 September 2010] [15:05:34] &lt;nedjl&gt;       Machines will get added, machines will get killed. If the machine that gets killed is the one with the server, it&#8217;ll get started up somewhere else, and everybody will just do a lookup to find the new location.</div>
<div class="line">[Thursday 30 September 2010] [15:05:36] &lt;guido_g&gt;     no</div>
<div class="line">[Thursday 30 September 2010] [15:06:06] &lt;mikko&gt;       i might&#8217;ve misunderstood pgm in that case</div>
<div class="line">[Thursday 30 September 2010] [15:07:05] &lt;guido_g&gt;     pgm is working on ip level, ephm encapsulates it in udp</div>
<div class="line">[Thursday 30 September 2010] [15:07:07] &lt;mikko&gt;       time to read rfc 3028</div>
<div class="line">[Thursday 30 September 2010] [15:07:11] &lt;guido_g&gt;     <a href="#id59"><span class="problematic" id="id60">*</span></a>epgm</div>
<div class="line">[Thursday 30 September 2010] [15:07:18] &lt;mikko&gt;       ok</div>
<div class="line">[Thursday 30 September 2010] [15:07:26] &lt;mikko&gt;       i thought you could encapsulate inside tcp as well</div>
<div class="line">[Thursday 30 September 2010] [15:07:45] &lt;guido_g&gt;     you can&#8217;t do real multicast on tcp</div>
<div class="line">[Thursday 30 September 2010] [15:08:18] &lt;nedjl&gt;       mikko: 1.1 of RFC 3028 says &#8221;   PGM runs over a datagram multicast protocol such as IP multicast [5]. &#8220;</div>
<div class="line">[Thursday 30 September 2010] [15:08:34] &lt;nedjl&gt;       Curses.</div>
<div class="line">[Thursday 30 September 2010] [15:08:38] &lt;mikko&gt;       reading 3028 now</div>
<div class="line">[Thursday 30 September 2010] [15:09:39] &lt;mikko&gt;       i guess using tcp wouldnt make much sense indeed</div>
<div class="line">[Thursday 30 September 2010] [15:10:08] &lt;mikko&gt;       does epgm work in EC2?</div>
<div class="line">[Thursday 30 September 2010] [15:10:18] &lt;nedjl&gt;       So it seems inevitable that I&#8217;m looking at lots of NOBLOCK and timeouts.</div>
<div class="line">[Thursday 30 September 2010] [15:10:26] &lt;guido_g&gt;     no, because you said multicast doesn&#8217;t work</div>
<div class="line">[Thursday 30 September 2010] [15:10:27] &lt;nedjl&gt;       Lemme lok.</div>
<div class="line">[Thursday 30 September 2010] [15:10:48] &lt;mikko&gt;       guido_g: i don&#8217;t know anything about EC2</div>
<div class="line">[Thursday 30 September 2010] [15:10:57]        * guido_g knows even less</div>
<div class="line">[Thursday 30 September 2010] [15:11:05] &lt;mikko&gt;       but i would imagine there are use-cases for multicast in &#8216;cloud&#8217;</div>
<div class="line">[Thursday 30 September 2010] [15:11:10] &lt;guido_g&gt;     &lt;nedjl&gt; I can&#8217;t use multicast, even though it is probably the right solution, because EC2 doesn&#8217;t support multicast without some gross tunneling hacks.</div>
<div class="line">[Thursday 30 September 2010] [15:11:41] &lt;guido_g&gt;     mikko: definitely, but it&#8217;s also not easy and might even kill the network</div>
<div class="line">[Thursday 30 September 2010] [15:11:45] &lt;mikko&gt;       it might be hard to organize safely</div>
<div class="line">[Thursday 30 September 2010] [15:11:59] &lt;guido_g&gt;     so it is wise to disable it</div>
<div class="line">[Thursday 30 September 2010] [15:12:33] &lt;mikko&gt;       what&#8217;s the current best approach to heartbeats with zmq?</div>
<div class="line">[Thursday 30 September 2010] [15:12:40] &lt;mikko&gt;       use a separate oob socket for heartbeat?</div>
<div class="line">[Thursday 30 September 2010] [15:12:50] &lt;nedjl&gt;       mikko: That&#8217;s probably the question I should be asking.</div>
<div class="line">[Thursday 30 September 2010] [15:12:53] &lt;guido_g&gt;     i don&#8217;t think that there is a an easy <em>and</em> useful way for real multicast on these sold virtual machines</div>
<div class="line">[Thursday 30 September 2010] [15:13:23] &lt;guido_g&gt;     if you use a separate socket your testing this one, not the other one</div>
<div class="line">[Thursday 30 September 2010] [15:13:47] &lt;mikko&gt;       guido_g: i would imagine it would also require end to end encryption for the multicast</div>
<div class="line">[Thursday 30 September 2010] [15:14:16] &lt;mikko&gt;       i guess it depends on how the cloud is organised, i remember some providers have private clouds with separate VLANs</div>
<div class="line">[Thursday 30 September 2010] [15:14:37] &lt;guido_g&gt;     mikko: yes, and every one would be forced to use it... no way</div>
<div class="line">[Thursday 30 September 2010] [15:15:06] &lt;guido_g&gt;     won&#8217;t work on the &#8220;machine on demand&#8221; front</div>
<div class="line">[Thursday 30 September 2010] [15:15:07] &lt;mikko&gt;       guido_g: not forced of course, but if they cared for the authenticity of the data then yes</div>
<div class="line">[Thursday 30 September 2010] [15:15:29] &lt;mikko&gt;       i guess thats almost forcing</div>
<div class="line">[Thursday 30 September 2010] [15:15:56] &lt;guido_g&gt;     otoh multicast steals bandwidth from other users, if a subscriber is in their network segment</div>
<div class="line">[Thursday 30 September 2010] [15:16:05] &lt;guido_g&gt;     so one has to deal with that too</div>
<div class="line">[Thursday 30 September 2010] [15:16:31] &lt;guido_g&gt;     i don&#8217;t think real multicast will become widely used in to vapor... oops... cloud world</div>
<div class="line">[Thursday 30 September 2010] [15:16:41] &lt;mikko&gt;       and non rate-limited multicast would be a bit scary</div>
<div class="line">[Thursday 30 September 2010] [15:21:40] &lt;jasong_at_apache&gt;    anyone here successfully compile jzmq on osx?</div>
<div class="line">[Thursday 30 September 2010] [15:26:50] &lt;mikko&gt;       jasong_at_apache: what is the problem you are facing?</div>
<div class="line">[Thursday 30 September 2010] [15:26:55] &lt;mikko&gt;       i can give it a spin</div>
<div class="line">[Thursday 30 September 2010] [15:27:18] &lt;jasong_at_apache&gt;    on 10.6 i&#8217;ve successfully compiled 2.0.9 (download area)</div>
<div class="line">[Thursday 30 September 2010] [15:27:42] &lt;jasong_at_apache&gt;    yet with jzmq i get: Socket.cpp: In function &#8216;jlong Java_org_zeromq_ZMQ_00024Socket_getLongSockopt(JNIEnv*, _jobject*, jint)&#8217;:</div>
<div class="line">[Thursday 30 September 2010] [15:27:42] &lt;jasong_at_apache&gt;    Socket.cpp:103: error: &#8216;ZMQ_TYPE&#8217; was not declared in this scope</div>
<div class="line">[Thursday 30 September 2010] [15:27:51] &lt;jasong_at_apache&gt;    during make</div>
<div class="line">[Thursday 30 September 2010] [15:27:53] &lt;mikko&gt;       ZMQ_TYPE is in 2.1 only</div>
<div class="line">[Thursday 30 September 2010] [15:28:19] &lt;mikko&gt;       and i think the type is &#8216;int&#8217; iirc</div>
<div class="line">[Thursday 30 September 2010] [15:28:20] &lt;jasong_at_apache&gt;    i thought i did a checkout -b from a previous commit (i need to do that again)</div>
<div class="line">[Thursday 30 September 2010] [15:28:31] &lt;jasong_at_apache&gt;    how far back do i go? there are no tags atm</div>
<div class="line">[Thursday 30 September 2010] [15:28:34] &lt;mikko&gt;       the method name suggests that its a long</div>
<div class="line">[Thursday 30 September 2010] [15:28:53] &lt;mikko&gt;       jasong_at_apache: 2.1.0 zmq i mean</div>
<div class="line">[Thursday 30 September 2010] [15:28:58] &lt;mikko&gt;       jasong_at_apache: the current github trunk</div>
<div class="line">[Thursday 30 September 2010] [15:29:23] &lt;jasong_at_apache&gt;    so it&#8217;s not worth using the binding with the maint branch?</div>
<div class="line">[Thursday 30 September 2010] [15:29:29] &lt;sustrik&gt;     the change to jzmq was committed by gonzalo today</div>
<div class="line">[Thursday 30 September 2010] [15:29:49] &lt;sustrik&gt;     so if you grab yesteday&#8217;s version it should work with 2.0.9</div>
<div class="line">[Thursday 30 September 2010] [15:30:01] &lt;jasong_at_apache&gt;    ah</div>
<div class="line">[Thursday 30 September 2010] [15:30:02] &lt;mikko&gt;       jasong_at_apache: if you edit Socket.cpp line 103</div>
<div class="line">[Thursday 30 September 2010] [15:30:13] &lt;jasong_at_apache&gt;    and remove it</div>
<div class="line">[Thursday 30 September 2010] [15:30:13] &lt;mikko&gt;       #ifdef ZMQ_TYPE around the line should help</div>
<div class="line">[Thursday 30 September 2010] [15:30:23] &lt;jasong_at_apache&gt;    and i&#8217;ll grab the previous commit</div>
<div class="line">[Thursday 30 September 2010] [15:30:32] &lt;mikko&gt;       sustrik: ZMQ_TYPE is &#8216;int&#8217; ?</div>
<div class="line">[Thursday 30 September 2010] [15:30:32] &lt;sustrik&gt;     mikko: yes</div>
<div class="line">[Thursday 30 September 2010] [15:30:41] &lt;mikko&gt;       <a class="reference external" href="http://github.com/zeromq/jzmq/blob/master/src/Socket.cpp#L116">http://github.com/zeromq/jzmq/blob/master/src/Socket.cpp#L116</a></div>
<div class="line">[Thursday 30 September 2010] [15:30:51] &lt;mikko&gt;       looking at this jzmq uses int64_t</div>
<div class="line">[Thursday 30 September 2010] [15:31:27] &lt;sustrik&gt;     gonzalo messed it up</div>
<div class="line">[Thursday 30 September 2010] [15:31:55] &lt;sustrik&gt;     please, do report the problem on jzmq bugtracker</div>
<div class="line">[Thursday 30 September 2010] [15:33:53] &lt;jasong_at_apache&gt;    docs want straight int</div>
<div class="line">[Thursday 30 September 2010] [15:34:01] &lt;mikko&gt;       done</div>
<div class="line">[Thursday 30 September 2010] [15:34:07] &lt;sustrik&gt;     thanks</div>
<div class="line">[Thursday 30 September 2010] [15:35:28]        * sustrik wonders how to make bindings work with both maint and stable without burdening maintainers with two separate branches</div>
<div class="line">[Thursday 30 September 2010] [15:35:43] &lt;sustrik&gt;     maint &amp; master, i meant</div>
<div class="line">[Thursday 30 September 2010] [15:35:53] &lt;jasong_at_apache&gt;    maint? who needs maint!</div>
<div class="line">[Thursday 30 September 2010] [15:36:00] &lt;mikko&gt;       it&#8217;s a lot better now</div>
<div class="line">[Thursday 30 September 2010] [15:36:01] &lt;jasong_at_apache&gt;    ;-)</div>
<div class="line">[Thursday 30 September 2010] [15:36:14] &lt;mikko&gt;       as there aren&#8217;t breakages that often</div>
<div class="line">[Thursday 30 September 2010] [15:36:40] &lt;sustrik&gt;     yeah, the versioning contract helped</div>
<div class="line">[Thursday 30 September 2010] [15:36:59] &lt;mikko&gt;       are there constants for api version etc at the moment?</div>
<div class="line">[Thursday 30 September 2010] [15:37:17] &lt;sustrik&gt;     just a plain 0mq version</div>
<div class="line">[Thursday 30 September 2010] [15:37:39] &lt;sustrik&gt;     the api version should translate into library version</div>
<div class="line">[Thursday 30 September 2010] [15:37:45] &lt;sustrik&gt;     but that&#8217;s not done yet</div>
<div class="line">[Thursday 30 September 2010] [15:37:51] &lt;mikko&gt;       i guess it&#8217;s easy to create int out of that during configure phase</div>
<div class="line">[Thursday 30 September 2010] [15:38:00] &lt;mikko&gt;       something easy to compare in preprocessor macros</div>
<div class="line">[Thursday 30 September 2010] [15:38:25] &lt;mikko&gt;       something like #if ZMQ_VERSION_ID &gt; 2001001 #else etc</div>
<div class="line">[Thursday 30 September 2010] [15:38:31] &lt;mikko&gt;       2001001 being 2.1.1</div>
<div class="line">[Thursday 30 September 2010] [15:38:33] &lt;sustrik&gt;     mikko: good idea</div>
<div class="line">[Thursday 30 September 2010] [15:41:06] &lt;sustrik&gt;     on the other hand, some bindings (C#, lisp) don&#8217;t even include the header file</div>
<div class="line">[Thursday 30 September 2010] [15:46:47] &lt;mikko&gt;       hmm</div>
<div class="line">[Thursday 30 September 2010] [15:47:02] &lt;mikko&gt;       i reckon there still might be value for such a thing</div>
<div class="line">[Thursday 30 September 2010] [15:47:12] &lt;jasong_at_apache&gt;    everything compiled correctly (and I&#8217;m using trunk all around), also swapped int for int64 on the zmq_type</div>
<div class="line">[Thursday 30 September 2010] [15:47:30] &lt;jasong_at_apache&gt;    i meant the other way around there</div>
<div class="line">[Thursday 30 September 2010] [15:49:09] &lt;sustrik&gt;     goodo</div>
<div class="line">[Thursday 30 September 2010] [15:49:36] &lt;sustrik&gt;     anyway, this kind of thing is a bit scary as people are using the binding is production</div>
<div class="line">[Thursday 30 September 2010] [15:49:40] &lt;sustrik&gt;     in*</div>
<div class="line">[Thursday 30 September 2010] [15:49:50] &lt;jasong_at_apache&gt;    :-)</div>
<div class="line">[Thursday 30 September 2010] [15:50:04] &lt;sustrik&gt;     mikko: yes, it will help for most bindings</div>
<div class="line">[Thursday 30 September 2010] [15:50:23] &lt;sustrik&gt;     i&#8217;ll discuss it with mato tomorrow, he&#8217;s in charge of the build system</div>
<div class="line">[Thursday 30 September 2010] [15:55:13] &lt;novas0x2a&gt;   i&#8217;m using zmq_poll w/ 2.0.9, REQ/REP pair, tcp or ipc proto, same context (1 process). zmq_poll never seems to notice activity. if i use inproc it works, if i use a spinloop/nonblocking-recv (no poll) it works. should i expect it to work with tcp?</div>
<div class="line">[Thursday 30 September 2010] [15:56:18] &lt;sustrik&gt;     yes</div>
<div class="line">[Thursday 30 September 2010] [15:56:46] &lt;sustrik&gt;     if you have a probelm, write a simple program showing it and send it to the mailing list</div>
<div class="line">[Thursday 30 September 2010] [15:57:29] &lt;novas0x2a&gt;   could you do a quick sanity check to make sure i&#8217;m not pebkacing? <a class="reference external" href="http://codepad.org/3Pxo5V1x">http://codepad.org/3Pxo5V1x</a></div>
<div class="line">[Thursday 30 September 2010] [15:58:45] &lt;novas0x2a&gt;   (if you want to compile -DUSE_POLL or -DUSE_BLOCK)</div>
<div class="line">[Thursday 30 September 2010] [16:00:31] &lt;CIA-20&gt;      jzmq: 03Gonzalo Diethelm 07master * rd215dac 10/ (src/Socket.cpp src/org/zeromq/ZMQ.java):</div>
<div class="line">[Thursday 30 September 2010] [16:00:31] &lt;CIA-20&gt;      jzmq: Added support for ZMQ_FD (getFD()) and ZMQ_EVENTS (getEvents()).</div>
<div class="line">[Thursday 30 September 2010] [16:00:32] &lt;CIA-20&gt;      jzmq: Improved comments. - <a class="reference external" href="http://bit.ly/asWHxF">http://bit.ly/asWHxF</a></div>
<div class="line">[Thursday 30 September 2010] [16:04:16] &lt;sustrik&gt;     novas0x2a: the program looks ok after short inspection</div>
<div class="line">[Thursday 30 September 2010] [16:04:57] &lt;sustrik&gt;     if you want someone to actually debug it though, you have to strip as much code as possible and send it to the mailing list</div>
<div class="line">[Thursday 30 September 2010] [16:10:51] &lt;jond&gt;        novas0x2a: is this the error : raw.c:158: int main(int, char**): Assertion <a href="#id61"><span class="problematic" id="id62">`</span></a>ret&#8217; failed.?</div>
<div class="line">[Thursday 30 September 2010] [16:11:52] &lt;novas0x2a&gt;   jond: that&#8217;s the detection of the error, yeah (it should have printed Timeout just before that)</div>
<div class="line">[Thursday 30 September 2010] [16:15:48] &lt;jond&gt;        novas0x2a: yep but when you timeout in yr code, you return 0</div>
<div class="line">[Thursday 30 September 2010] [16:15:50] &lt;CIA-20&gt;      jzmq: 03Gonzalo Diethelm 07master * r9ccc16b 10/ src/org/zeromq/ZMQ.java : Added support for automatically growing the size of a Poller object. - <a class="reference external" href="http://bit.ly/cCKiIK">http://bit.ly/cCKiIK</a></div>
<div class="line">[Thursday 30 September 2010] [16:17:13] &lt;jond&gt;        novas0x2a:  and asserting on that doesnt seem to be a great idea</div>
<div class="line">[Thursday 30 September 2010] [16:17:46] &lt;novas0x2a&gt;   jond: this is test code, not real code. i&#8217;ve been trying to map the conditions under which it doesn&#8217;t work, to track it down. clearly, in real code, i would handle a timeout appropriately :)</div>
<div class="line">[Thursday 30 September 2010] [16:21:15] &lt;Peaceful&gt;    okay, so I made the hello world server-client example, and it worked great until I had to kill the server, and now the server won&#8217;t bind to tcp anymore.  (???)</div>
<div class="line">[Thursday 30 September 2010] [16:21:27] &lt;Peaceful&gt;    Here&#8217;s the server code (python): <a class="reference external" href="http://pastebin.com/QghpWSYk">http://pastebin.com/QghpWSYk</a></div>
<div class="line">[Thursday 30 September 2010] [16:21:35] &lt;Peaceful&gt;    client code: <a class="reference external" href="http://pastebin.com/13YUAGDg">http://pastebin.com/13YUAGDg</a></div>
<div class="line">[Thursday 30 September 2010] [16:21:51] &lt;Peaceful&gt;    and the error when I try to start server a second time: <a class="reference external" href="http://pastebin.com/hsHYr8Va">http://pastebin.com/hsHYr8Va</a></div>
<div class="line">[Thursday 30 September 2010] [16:22:12] &lt;Peaceful&gt;    ctrl-c wouldn&#8217;t stop the server, so I ended up looking up the pid and running &#8220;kill $pid&#8221;</div>
<div class="line">[Thursday 30 September 2010] [16:22:39] &lt;Peaceful&gt;    this has got to be some common newbie problem, I figure...</div>
<div class="line">[Thursday 30 September 2010] [16:23:08] &lt;Peaceful&gt;    But usually tcp ports become available again after you&#8217;ve killed the original program that was binding the port.</div>
<div class="line">[Thursday 30 September 2010] [16:23:19] &lt;Peaceful&gt;    ...in my experience, at least</div>
<div class="line">[Thursday 30 September 2010] [16:25:01] &lt;jasong_at_apache&gt;    is there a mailing list keeping track of commits? (does github do this?)</div>
<div class="line">[Thursday 30 September 2010] [16:26:29] &lt;mikko&gt;       github does that</div>
<div class="line">[Thursday 30 September 2010] [16:28:02] &lt;jond&gt;        novas0x2a: line 63 in yr file. you redefine rc. it should read rc = zmq_poll(item, 1, timeout); and the code works</div>
<div class="line">[Thursday 30 September 2010] [16:30:16] &lt;mikko&gt;       sustrik: java handles all options as int64_t (numeric ones)</div>
<div class="line">[Thursday 30 September 2010] [16:30:28] &lt;mikko&gt;       so i guess thats not an issue</div>
<div class="line">[Thursday 30 September 2010] [16:31:00] &lt;novas0x2a&gt;   jond: oh, man, i knew it was going to be my fault somehow. sigh.</div>
<div class="line">[Thursday 30 September 2010] [16:31:13] &lt;mikko&gt;       assuming that sizeof (uint64_t) &lt;= sizeof (int64_t) is a sane assumption</div>
<div class="line">[Thursday 30 September 2010] [16:32:48] &lt;jasong_at_apache&gt;    is that only 64bit systems?</div>
<div class="line">[Thursday 30 September 2010] [16:35:43] &lt;mikko&gt;       sizeof both is 8 on systems i have access to</div>
<div class="line">[Thursday 30 September 2010] [19:10:34]        * Peaceful doesn&#8217;t feel the love today.  Oh well, I&#8217;m sure it will start working again after a reboot.</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2010-November.html"
                        title="previous chapter">&lt;no title&gt;</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="2010-November.html"
                        title="next chapter">&lt;no title&gt;</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2010-September.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2010-November.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="2010-November.html" title="&lt;no title&gt;"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>