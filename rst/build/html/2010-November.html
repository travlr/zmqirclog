

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2010-November &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="prev" title="2010-September" href="2010-September.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2010-September.html" title="2010-September"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="november">
<h1>2010-November<a class="headerlink" href="#november" title="Permalink to this headline">Â¶</a></h1>
<div class="line-block">
<div class="line">[Monday 01 November 2010] [00:23:54] &lt;xraid&gt;  gandhijee: <a class="reference external" href="http://api.zeromq.org/zmq_msg_size.html">http://api.zeromq.org/zmq_msg_size.html</a> &#8211; what binding are you using ?</div>
<div class="line">[Monday 01 November 2010] [00:26:53] &lt;gandhijee&gt;      xraid: C, i am using protocol buffers from google</div>
<div class="line">[Monday 01 November 2010] [00:27:27] &lt;gandhijee&gt;      and i am trying to figure out how to allocate the memory for the message after i get it from the sender</div>
<div class="line">[Monday 01 November 2010] [00:29:54] &lt;gandhijee&gt;      xraid: that was it, thanks!</div>
<div class="line">[Monday 01 November 2010] [03:27:45] &lt;dccmx&gt;  i have a question</div>
<div class="line">[Monday 01 November 2010] [04:28:19] &lt;xraid&gt;  hey whats up with the ML i am subscribed but cants send to it as i am not a member of the list ? i thought i was a member of the list if subscribed ?</div>
<div class="line">[Monday 01 November 2010] [04:33:02] &lt;<a href="#id173"><span class="problematic" id="id174">sustrik_</span></a>&gt;       xraid: what&#8217;s your address?</div>
<div class="line">[Monday 01 November 2010] [04:34:51] &lt;xraid&gt;  zmq iprobot.com</div>
<div class="line">[Monday 01 November 2010] [04:38:34] &lt;<a href="#id175"><span class="problematic" id="id176">sustrik_</span></a>&gt;       let me see</div>
<div class="line">[Monday 01 November 2010] [04:40:25] &lt;xraid&gt;  hehe i tried to sub as xraid but i was banned . i then replied with a &#8220;why so&#8221; . no answer yet ...</div>
<div class="line">[Monday 01 November 2010] [04:41:52] &lt;<a href="#id177"><span class="problematic" id="id178">sustrik_</span></a>&gt;       xraid: the subscription is see is &#8220;omq at iprobot.com&#8221;</div>
<div class="line">[Monday 01 November 2010] [04:43:54] &lt;xraid&gt;  ahhh that explains it then ...</div>
<div class="line">[Monday 01 November 2010] [04:48:33] &lt;xraid&gt;  sustrik: if possible i much prefer to change omq to xraid if possible</div>
<div class="line">[Monday 01 November 2010] [04:54:15] &lt;<a href="#id179"><span class="problematic" id="id180">sustrik_</span></a>&gt;       well, do so</div>
<div class="line">[Monday 01 November 2010] [04:54:51] &lt;<a href="#id181"><span class="problematic" id="id182">sustrik_</span></a>&gt;       ah, xraid is banned?</div>
<div class="line">[Monday 01 November 2010] [04:55:34] &lt;xraid&gt;  huh ;-9</div>
<div class="line">[Monday 01 November 2010] [04:55:45] &lt;xraid&gt;  how come</div>
<div class="line">[Monday 01 November 2010] [04:56:22] &lt;<a href="#id183"><span class="problematic" id="id184">sustrik_</span></a>&gt;       hm, it&#8217;s not in the ban list</div>
<div class="line">[Monday 01 November 2010] [04:56:27] &lt;<a href="#id185"><span class="problematic" id="id186">sustrik_</span></a>&gt;       ???</div>
<div class="line">[Monday 01 November 2010] [04:56:40] &lt;<a href="#id187"><span class="problematic" id="id188">sustrik_</span></a>&gt;       &#8220;hehe i tried to sub as xraid but i was banned&#8221;</div>
<div class="line">[Monday 01 November 2010] [07:33:47] &lt;Ogedei&gt; do I understand correctly that msg&#8217;s <em>can</em> be passed between threads (as long as they are accessed in a single-threaded way), and don&#8217;t have restriction that sockets have?</div>
<div class="line">[Monday 01 November 2010] [07:39:19] &lt;sustrik&gt;        Ogedei: yes</div>
<div class="line">[Monday 01 November 2010] [07:39:26] &lt;sustrik&gt;        they are plain structures</div>
<div class="line">[Monday 01 November 2010] [07:45:43] &lt;Ogedei&gt; sustrik: thank you</div>
<div class="line">[Monday 01 November 2010] [07:47:37] &lt;sustrik&gt;        you are welcome</div>
<div class="line">[Monday 01 November 2010] [08:32:28] &lt;mato&gt;   sustrik: are you there?</div>
<div class="line">[Monday 01 November 2010] [08:32:50] &lt;sustrik&gt;        hi</div>
<div class="line">[Monday 01 November 2010] [08:33:01] &lt;mato&gt;   hi</div>
<div class="line">[Monday 01 November 2010] [08:33:14] &lt;mato&gt;   sustrik: what exactly would you like me to test with the new signaler, performance-wise?</div>
<div class="line">[Monday 01 November 2010] [08:33:33] &lt;sustrik&gt;        not yet, just test whether it works for you</div>
<div class="line">[Monday 01 November 2010] [08:33:47] &lt;mato&gt;   ah, ok</div>
<div class="line">[Monday 01 November 2010] [08:33:51] &lt;mato&gt;   i&#8217;ll do that now then</div>
<div class="line">[Monday 01 November 2010] [08:33:55] &lt;sustrik&gt;        ok</div>
<div class="line">[Monday 01 November 2010] [08:35:43] &lt;mato&gt;   sustrik: note that my userspace (Debian lenny) is too old for eventfd, so I&#8217;ll be testing the socketpair implementation</div>
<div class="line">[Monday 01 November 2010] [08:36:05] &lt;sustrik&gt;        goosd</div>
<div class="line">[Monday 01 November 2010] [08:36:07] &lt;mato&gt;   i can maybe hack something together to try and make eventfd work on my systems, but not right now</div>
<div class="line">[Monday 01 November 2010] [08:36:24] &lt;sustrik&gt;        just test what you have</div>
<div class="line">[Monday 01 November 2010] [09:01:19] &lt;CIA-21&gt; zeromq2: 03Mikael Helbo Kjaer 07master * r0ad71f8 10/ (src/select.cpp src/select.hpp):</div>
<div class="line">[Monday 01 November 2010] [09:01:19] &lt;CIA-21&gt; zeromq2: select now uses Erase-Remove idiom for retired fds</div>
<div class="line">[Monday 01 November 2010] [09:01:19] &lt;CIA-21&gt; zeromq2: Signed-off-by: Mikael Helbo Kjaer &lt;<a class="reference external" href="mailto:mhk&#37;&#52;&#48;designtech&#46;dk">mhk<span>&#64;</span>designtech<span>&#46;</span>dk</a>&gt; - <a class="reference external" href="http://bit.ly/9mdkZd">http://bit.ly/9mdkZd</a></div>
<div class="line">[Monday 01 November 2010] [09:04:15] &lt;mato&gt;   sustrik: seems to work so far... testing with up to 600 nodes</div>
<div class="line">[Monday 01 November 2010] [09:04:29] &lt;sustrik&gt;        mato: the patch you&#8217;ve sent means that INSTALL goes to git, right?</div>
<div class="line">[Monday 01 November 2010] [09:04:50] &lt;mato&gt;   sustrik: the topology setup time obviously increases, and i increased the listen backlog and turned wait_before_reconnect on as usual</div>
<div class="line">[Monday 01 November 2010] [09:05:00] &lt;mato&gt;   sustrik: yes, that&#8217;s correct, just apply the patch as is</div>
<div class="line">[Monday 01 November 2010] [09:05:14] &lt;mato&gt;   sustrik: it removes INSTALL from .gitignore and adds it into git, yes</div>
<div class="line">[Monday 01 November 2010] [09:05:50] &lt;sustrik&gt;        interestingly, git apply doesn&#8217;t add the new file to the git</div>
<div class="line">[Monday 01 November 2010] [09:06:12] &lt;mato&gt;   probably because it&#8217;s in .gitignore</div>
<div class="line">[Monday 01 November 2010] [09:06:21] &lt;sustrik&gt;        np</div>
<div class="line">[Monday 01 November 2010] [09:06:23] &lt;mato&gt;   just add it in by hand or something</div>
<div class="line">[Monday 01 November 2010] [09:06:33] &lt;sustrik&gt;        i did</div>
<div class="line">[Monday 01 November 2010] [09:06:37] &lt;mato&gt;   and don&#8217;t forget to remote it from .gitignore :-)</div>
<div class="line">[Monday 01 November 2010] [09:06:53] &lt;sustrik&gt;        that part was applied ok</div>
<div class="line">[Monday 01 November 2010] [09:09:32] &lt;pieterh&gt;        sustrik: without the foreign flag, autotools will generate INSTALL automatically</div>
<div class="line">[Monday 01 November 2010] [09:10:03] &lt;mato&gt;   pieterh: kind of, but with the foreign flag it breaks our automatic ChangeLog generation</div>
<div class="line">[Monday 01 November 2010] [09:10:29] &lt;pieterh&gt;        you mean without foreign flag?</div>
<div class="line">[Monday 01 November 2010] [09:10:34] &lt;mato&gt;   yes, I wrote about it</div>
<div class="line">[Monday 01 November 2010] [09:10:38] &lt;pieterh&gt;        yes</div>
<div class="line">[Monday 01 November 2010] [09:10:47] &lt;sustrik&gt;        patch looks like working ok</div>
<div class="line">[Monday 01 November 2010] [09:10:50] &lt;sustrik&gt;        committing it</div>
<div class="line">[Monday 01 November 2010] [09:10:53] &lt;mato&gt;   there&#8217;s a reason for that foreign flag</div>
<div class="line">[Monday 01 November 2010] [09:10:57] &lt;mato&gt;   as I explained.</div>
<div class="line">[Monday 01 November 2010] [09:11:12] &lt;pieterh&gt;        mato: I was just explaining to sustrik that INSTALL is usually generated code</div>
<div class="line">[Monday 01 November 2010] [09:11:22] &lt;sustrik&gt;        it used to be</div>
<div class="line">[Monday 01 November 2010] [09:11:24] &lt;mato&gt;   no, it&#8217;s stuck in as a template if it&#8217;s not there</div>
<div class="line">[Monday 01 November 2010] [09:11:34] &lt;sustrik&gt;        not it&#8217;s not</div>
<div class="line">[Monday 01 November 2010] [09:11:39] &lt;pieterh&gt;        we were looking for this yesterday but I couldn&#8217;t see where the foreign flag was being set</div>
<div class="line">[Monday 01 November 2010] [09:11:42] &lt;sustrik&gt;        i don&#8217;t care much</div>
<div class="line">[Monday 01 November 2010] [09:12:01] &lt;mato&gt;   whatever, the INSTALL file will eventually contain custom content anyway</div>
<div class="line">[Monday 01 November 2010] [09:12:08] &lt;mato&gt;   so it&#8217;ll be in git anyway</div>
<div class="line">[Monday 01 November 2010] [09:12:12] &lt;pieterh&gt;        presumably, yes</div>
<div class="line">[Monday 01 November 2010] [09:12:51] &lt;CIA-21&gt; zeromq2: 03Martin Lucina 07maint * reb83678 10/ (.gitignore INSTALL):</div>
<div class="line">[Monday 01 November 2010] [09:12:51] &lt;CIA-21&gt; zeromq2: Add INSTALL to Git, thus making it a normal file</div>
<div class="line">[Monday 01 November 2010] [09:12:51] &lt;CIA-21&gt; zeromq2: INSTALL gets added in somewhat magically by automake, or not. Adding it into</div>
<div class="line">[Monday 01 November 2010] [09:12:51] &lt;CIA-21&gt; zeromq2: Git ensures it&#8217;s always included in the distribution.</div>
<div class="line">[Monday 01 November 2010] [09:12:51] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/bCAWcw">http://bit.ly/bCAWcw</a></div>
<div class="line">[Monday 01 November 2010] [09:17:50] &lt;sustrik&gt;        mato, pieter: for development releases i propose we won&#8217;t upload the man pages to the website</div>
<div class="line">[Monday 01 November 2010] [09:17:59] &lt;sustrik&gt;        they are included in the package</div>
<div class="line">[Monday 01 November 2010] [09:18:12] &lt;mato&gt;   sustrik: dunno, maybe... or we have two sets on the website</div>
<div class="line">[Monday 01 November 2010] [09:18:16] &lt;sustrik&gt;        and it would confuse users using the stable release</div>
<div class="line">[Monday 01 November 2010] [09:18:16] &lt;mato&gt;   to be determined</div>
<div class="line">[Monday 01 November 2010] [09:18:27] &lt;sustrik&gt;        it there are 2 versions of docs on the website</div>
<div class="line">[Monday 01 November 2010] [09:18:32] &lt;pieterh&gt;        to be determined</div>
<div class="line">[Monday 01 November 2010] [09:18:42] &lt;pieterh&gt;        how does, e.g. APR do this?  How does any project do this?</div>
<div class="line">[Monday 01 November 2010] [09:18:57] &lt;sustrik&gt;        no idea</div>
<div class="line">[Monday 01 November 2010] [09:19:07] &lt;sustrik&gt;        do they have &#8216;unstable&#8217; releases?</div>
<div class="line">[Monday 01 November 2010] [09:19:10] &lt;pieterh&gt;        sure</div>
<div class="line">[Monday 01 November 2010] [09:19:11] &lt;mato&gt;   yes</div>
<div class="line">[Monday 01 November 2010] [09:19:17] &lt;pieterh&gt;        every serious project has</div>
<div class="line">[Monday 01 November 2010] [09:19:19] &lt;mato&gt;   and they have multiple versions of the docs uploaded</div>
<div class="line">[Monday 01 November 2010] [09:19:22] &lt;mato&gt;   clearly marked</div>
<div class="line">[Monday 01 November 2010] [09:19:22] &lt;pieterh&gt;        indeed</div>
<div class="line">[Monday 01 November 2010] [09:19:28] &lt;pieterh&gt;        it&#8217;s just code at a URL</div>
<div class="line">[Monday 01 November 2010] [09:19:35] &lt;mato&gt;   some people will of course not read the clear marking and get confused anyway, too bad</div>
<div class="line">[Monday 01 November 2010] [09:19:38] &lt;pieterh&gt;        indeed</div>
<div class="line">[Monday 01 November 2010] [09:19:42] &lt;sustrik&gt;        ok</div>
<div class="line">[Monday 01 November 2010] [09:21:04] &lt;mato&gt;   sustrik: ok, so what are we going to do with the new signaler?</div>
<div class="line">[Monday 01 November 2010] [09:21:30] &lt;mato&gt;   sustrik: it seems to work as far as I can tell, but as I say, I&#8217;ve only tested on a single platform and have not done any serious performance tests...</div>
<div class="line">[Monday 01 November 2010] [09:21:53] &lt;CIA-21&gt; zeromq2: 03Martin Lucina 07master * reb83678 10/ (.gitignore INSTALL):</div>
<div class="line">[Monday 01 November 2010] [09:21:53] &lt;CIA-21&gt; zeromq2: Add INSTALL to Git, thus making it a normal file</div>
<div class="line">[Monday 01 November 2010] [09:21:53] &lt;CIA-21&gt; zeromq2: INSTALL gets added in somewhat magically by automake, or not. Adding it into</div>
<div class="line">[Monday 01 November 2010] [09:21:53] &lt;CIA-21&gt; zeromq2: Git ensures it&#8217;s always included in the distribution.</div>
<div class="line">[Monday 01 November 2010] [09:21:53] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/bCAWcw">http://bit.ly/bCAWcw</a></div>
<div class="line">[Monday 01 November 2010] [09:21:53] &lt;CIA-21&gt; zeromq2: 03Martin Sustrik 07master * rdbcd382 10/ (.gitignore INSTALL):</div>
<div class="line">[Monday 01 November 2010] [09:21:55] &lt;CIA-21&gt; zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Monday 01 November 2010] [09:21:55] &lt;CIA-21&gt; zeromq2: * maint:</div>
<div class="line">[Monday 01 November 2010] [09:21:55] &lt;CIA-21&gt; zeromq2:  Add INSTALL to Git, thus making it a normal file - <a class="reference external" href="http://bit.ly/aK31FB">http://bit.ly/aK31FB</a></div>
<div class="line">[Monday 01 November 2010] [09:22:05] &lt;sustrik&gt;        mato: well, it&#8217;s kind of complex</div>
<div class="line">[Monday 01 November 2010] [09:22:19] &lt;sustrik&gt;        maybe you want just to patch your version as for now?</div>
<div class="line">[Monday 01 November 2010] [09:22:26] &lt;mato&gt;   why?</div>
<div class="line">[Monday 01 November 2010] [09:22:32] &lt;sustrik&gt;        time pressure?</div>
<div class="line">[Monday 01 November 2010] [09:22:32] &lt;mato&gt;   that all gets very confusing rapidly</div>
<div class="line">[Monday 01 November 2010] [09:22:41] &lt;mato&gt;   and i&#8217;d like to avoid extra patches if at all possible...</div>
<div class="line">[Monday 01 November 2010] [09:22:51] &lt;sustrik&gt;        so, for starters we need win32 implementation of event</div>
<div class="line">[Monday 01 November 2010] [09:23:05] &lt;sustrik&gt;        i&#8217;ve only did linux one</div>
<div class="line">[Monday 01 November 2010] [09:23:20] &lt;sustrik&gt;        also, i&#8217;ve merged the hp-ux/aix code with linux code</div>
<div class="line">[Monday 01 November 2010] [09:23:26] &lt;mato&gt;   right, i saw that</div>
<div class="line">[Monday 01 November 2010] [09:23:37] &lt;sustrik&gt;        hopefully, brett will test that part</div>
<div class="line">[Monday 01 November 2010] [09:23:43] &lt;mato&gt;   that doesn&#8217;t matter too much, if hp-ux/aix breaks then i&#8217;d expect those users to speak up</div>
<div class="line">[Monday 01 November 2010] [09:23:54] &lt;mato&gt;   we cannot obviously test on platforms we don&#8217;t have</div>
<div class="line">[Monday 01 November 2010] [09:24:05] &lt;mato&gt;   and hp-ux/aix are a minority platform anyway</div>
<div class="line">[Monday 01 November 2010] [09:24:08] &lt;sustrik&gt;        so, we need win implementation</div>
<div class="line">[Monday 01 November 2010] [09:24:15] &lt;mato&gt;   right...</div>
<div class="line">[Monday 01 November 2010] [09:24:20] &lt;sustrik&gt;        test the eventfd implementation</div>
<div class="line">[Monday 01 November 2010] [09:24:35] &lt;sustrik&gt;        i&#8217;ve did a bit, but maybe running some larger payload would be good</div>
<div class="line">[Monday 01 November 2010] [09:24:41] &lt;sustrik&gt;        then we need to optimise it</div>
<div class="line">[Monday 01 November 2010] [09:25:17] &lt;sustrik&gt;        will you do the win32 part?</div>
<div class="line">[Monday 01 November 2010] [09:26:04] &lt;mato&gt;   i could do that, yes</div>
<div class="line">[Monday 01 November 2010] [09:26:58] &lt;sustrik&gt;        thx</div>
<div class="line">[Monday 01 November 2010] [09:28:51] &lt;sustrik&gt;        mato: btw, i copied your release process here:</div>
<div class="line">[Monday 01 November 2010] [09:28:52] &lt;sustrik&gt;        <a class="reference external" href="http://www.zeromq.org/docs:procedures#toc7">http://www.zeromq.org/docs:procedures#toc7</a></div>
<div class="line">[Monday 01 November 2010] [09:29:29] &lt;mato&gt;   sustrik: oh, good</div>
<div class="line">[Monday 01 November 2010] [09:29:55] &lt;sustrik&gt;        it&#8217;s not perfect, but at least it&#8217;s documented</div>
<div class="line">[Monday 01 November 2010] [09:30:04] &lt;mato&gt;   yup, good</div>
<div class="line">[Monday 01 November 2010] [09:34:33] &lt;pieterh&gt;        sustrik: very nice, we were missing this</div>
<div class="line">[Monday 01 November 2010] [10:34:55] &lt;mato&gt;   <a href="#id189"><span class="problematic" id="id190">sustrik_</span></a>: hmm, event_t::wait() is supposed to busy-loop?</div>
<div class="line">[Monday 01 November 2010] [10:35:28] &lt;mato&gt;   <a href="#id191"><span class="problematic" id="id192">sustrik_</span></a>: ah, sorry, i misread the code</div>
<div class="line">[Monday 01 November 2010] [11:10:21] &lt;mato&gt;   <a href="#id193"><span class="problematic" id="id194">sustrik_</span></a>: here?</div>
<div class="line">[Monday 01 November 2010] [11:25:51] &lt;mato&gt;   <a href="#id195"><span class="problematic" id="id196">sustrik_</span></a>: um, the signaler has always been ignoring EINTR as far as I can tell...</div>
<div class="line">[Monday 01 November 2010] [11:26:08] &lt;mato&gt;   <a href="#id197"><span class="problematic" id="id198">sustrik_</span></a>: so it would seem that is the <em>correct</em> behaviour</div>
<div class="line">[Monday 01 November 2010] [11:26:25] &lt;mato&gt;   <a href="#id199"><span class="problematic" id="id200">sustrik_</span></a>: and the do { recv() } while() loop has to stay for POSIX platforms</div>
<div class="line">[Monday 01 November 2010] [11:26:39] &lt;<a href="#id201"><span class="problematic" id="id202">sustrik_</span></a>&gt;       hm</div>
<div class="line">[Monday 01 November 2010] [11:26:58] &lt;<a href="#id203"><span class="problematic" id="id204">sustrik_</span></a>&gt;       ignoring = looping?</div>
<div class="line">[Monday 01 November 2010] [11:27:19] &lt;mato&gt;   yes</div>
<div class="line">[Monday 01 November 2010] [11:27:34] &lt;<a href="#id205"><span class="problematic" id="id206">sustrik_</span></a>&gt;       even blocking read?</div>
<div class="line">[Monday 01 November 2010] [11:27:36] &lt;<a href="#id207"><span class="problematic" id="id208">sustrik_</span></a>&gt;       let me see</div>
<div class="line">[Monday 01 November 2010] [11:27:41] &lt;mato&gt;   ah, hang on</div>
<div class="line">[Monday 01 November 2010] [11:27:51] &lt;mato&gt;   the different implementations are a mess...</div>
<div class="line">[Monday 01 November 2010] [11:28:06] &lt;<a href="#id209"><span class="problematic" id="id210">sustrik_</span></a>&gt;           if (nbytes == -1 &amp;&amp; (errno == EAGAIN || errno == EINTR))</div>
<div class="line">[Monday 01 November 2010] [11:28:07] &lt;<a href="#id211"><span class="problematic" id="id212">sustrik_</span></a>&gt;               return -1;</div>
<div class="line">[Monday 01 November 2010] [11:28:23] &lt;mato&gt;   yeah, because that implementation uses MSG_DONTWAIT</div>
<div class="line">[Monday 01 November 2010] [11:28:32] &lt;mato&gt;   which is specific to god knows what platforms</div>
<div class="line">[Monday 01 November 2010] [11:28:44] &lt;<a href="#id213"><span class="problematic" id="id214">sustrik_</span></a>&gt;       yep</div>
<div class="line">[Monday 01 November 2010] [11:28:58] &lt;<a href="#id215"><span class="problematic" id="id216">sustrik_</span></a>&gt;       we don&#8217;t need that now so we can drop it</div>
<div class="line">[Monday 01 November 2010] [11:29:24] &lt;<a href="#id217"><span class="problematic" id="id218">sustrik_</span></a>&gt;       in any case if (EINTR) return -1</div>
<div class="line">[Monday 01 November 2010] [11:29:47] &lt;mato&gt;   yeah but your event_t has no notion of returning anything (all the methods are void)</div>
<div class="line">[Monday 01 November 2010] [11:29:58] &lt;mato&gt;   i&#8217;m just wondering how that is supposed to work...</div>
<div class="line">[Monday 01 November 2010] [11:30:19] &lt;<a href="#id219"><span class="problematic" id="id220">sustrik_</span></a>&gt;       we&#8217;ll have to add the reurn codes then</div>
<div class="line">[Monday 01 November 2010] [11:30:42] &lt;<a href="#id221"><span class="problematic" id="id222">sustrik_</span></a>&gt;       the idea is that application thread exits on EINTR</div>
<div class="line">[Monday 01 November 2010] [11:30:56] &lt;<a href="#id223"><span class="problematic" id="id224">sustrik_</span></a>&gt;       while I/O thread restarts the operation</div>
<div class="line">[Monday 01 November 2010] [11:31:15] &lt;mato&gt;   so that means that signaler_t::recv() must return EINTR if the underlying blocking call is interrupted, right?</div>
<div class="line">[Monday 01 November 2010] [11:31:26] &lt;<a href="#id225"><span class="problematic" id="id226">sustrik_</span></a>&gt;       tes</div>
<div class="line">[Monday 01 November 2010] [11:31:31] &lt;<a href="#id227"><span class="problematic" id="id228">sustrik_</span></a>&gt;       yes</div>
<div class="line">[Monday 01 November 2010] [11:31:59] &lt;<a href="#id229"><span class="problematic" id="id230">sustrik_</span></a>&gt;       actually, i am not sure EINTR can even happen in I/O thread</div>
<div class="line">[Monday 01 November 2010] [11:32:02] &lt;mato&gt;   so both event_t::wait() and event_t::reset() need to be able to return -1 and errno=EINTR, right?</div>
<div class="line">[Monday 01 November 2010] [11:32:12] &lt;<a href="#id231"><span class="problematic" id="id232">sustrik_</span></a>&gt;       given that signals are switched off in those threads</div>
<div class="line">[Monday 01 November 2010] [11:32:29] &lt;mato&gt;   good question, no idea</div>
<div class="line">[Monday 01 November 2010] [11:32:30] &lt;<a href="#id233"><span class="problematic" id="id234">sustrik_</span></a>&gt;       even set can return EINTR</div>
<div class="line">[Monday 01 November 2010] [11:32:53] &lt;mato&gt;   if ::send() is interrupted?</div>
<div class="line">[Monday 01 November 2010] [11:32:57] &lt;<a href="#id235"><span class="problematic" id="id236">sustrik_</span></a>&gt;       yes</div>
<div class="line">[Monday 01 November 2010] [11:33:07] &lt;mato&gt;   right, so all of those need to be int</div>
<div class="line">[Monday 01 November 2010] [11:33:11] &lt;<a href="#id237"><span class="problematic" id="id238">sustrik_</span></a>&gt;       ack</div>
<div class="line">[Monday 01 November 2010] [11:33:16] &lt;mato&gt;   i will change that</div>
<div class="line">[Monday 01 November 2010] [11:36:16] &lt;<a href="#id239"><span class="problematic" id="id240">sustrik_</span></a>&gt;       ok, I/O thread handles EINTR correctly (restarts the operation)</div>
<div class="line">[Monday 01 November 2010] [11:37:16] &lt;mato&gt;   ok, but what about signaler_t::send()?</div>
<div class="line">[Monday 01 November 2010] [11:37:22] &lt;mato&gt;   that method does not return anything...</div>
<div class="line">[Monday 01 November 2010] [11:37:38] &lt;mato&gt;   so what is it supposed to do if event_t::set() returns EINTR? restart it?</div>
<div class="line">[Monday 01 November 2010] [11:39:48] &lt;<a href="#id241"><span class="problematic" id="id242">sustrik_</span></a>&gt;       hmm</div>
<div class="line">[Monday 01 November 2010] [11:40:06] &lt;<a href="#id243"><span class="problematic" id="id244">sustrik_</span></a>&gt;       the problem is that by restarting you loose the signal</div>
<div class="line">[Monday 01 November 2010] [11:40:37] &lt;<a href="#id245"><span class="problematic" id="id246">sustrik_</span></a>&gt;       but the signal handling is not 100% efficient anyway</div>
<div class="line">[Monday 01 November 2010] [11:40:47] &lt;<a href="#id247"><span class="problematic" id="id248">sustrik_</span></a>&gt;       so yes, we can just restart the send</div>
<div class="line">[Monday 01 November 2010] [11:41:27] &lt;pieterh&gt;        sustrik: you have a second?</div>
<div class="line">[Monday 01 November 2010] [11:41:32] &lt;pieterh&gt;        question on code structure</div>
<div class="line">[Monday 01 November 2010] [11:41:56] &lt;pieterh&gt;        why does select.cpp do a bunch of stuff for windows, and then invoke select.hpp that does the same?</div>
<div class="line">[Monday 01 November 2010] [11:42:17] &lt;pieterh&gt;        afaics select.hpp isn&#8217;t used by any other code</div>
<div class="line">[Monday 01 November 2010] [11:42:48] &lt;<a href="#id249"><span class="problematic" id="id250">sustrik_</span></a>&gt;       pieterh: historic reasons</div>
<div class="line">[Monday 01 November 2010] [11:43:04] &lt;pieterh&gt;        ?</div>
<div class="line">[Monday 01 November 2010] [11:43:14] &lt;pieterh&gt;        i mean, is this by design or just bogus?</div>
<div class="line">[Monday 01 November 2010] [11:43:19] &lt;<a href="#id251"><span class="problematic" id="id252">sustrik_</span></a>&gt;       the poll algo classes should be refactored</div>
<div class="line">[Monday 01 November 2010] [11:43:24] &lt;<a href="#id253"><span class="problematic" id="id254">sustrik_</span></a>&gt;       bogus</div>
<div class="line">[Monday 01 November 2010] [11:43:46] &lt;pieterh&gt;        ok... cause there&#8217;s duplicate code but it&#8217;s not quite the same in both cases</div>
<div class="line">[Monday 01 November 2010] [11:43:54] &lt;pieterh&gt;        actually it&#8217;s worse, there&#8217;s also windows.hpp that does the same again</div>
<div class="line">[Monday 01 November 2010] [11:44:26] &lt;<a href="#id255"><span class="problematic" id="id256">sustrik_</span></a>&gt;       i know, but it&#8217;s hard to change without breaking anything</div>
<div class="line">[Monday 01 November 2010] [11:44:27] &lt;mato&gt;   there is much historical weird stuff to clean up wrt windows.wpp and the bits that depend on it</div>
<div class="line">[Monday 01 November 2010] [11:44:43] &lt;mato&gt;   but, as sustrik says, it&#8217;s all pretty fragile, so if it ain&#8217;t broke, don&#8217;t fix it</div>
<div class="line">[Monday 01 November 2010] [11:44:46] &lt;pieterh&gt;        well, select.hpp is only used in one place</div>
<div class="line">[Monday 01 November 2010] [11:44:48] &lt;pieterh&gt;        and it is broken</div>
<div class="line">[Monday 01 November 2010] [11:45:00] &lt;pieterh&gt;        and I do intend to fix it, the FD_SETSIZE issue has been there for years and should go</div>
<div class="line">[Monday 01 November 2010] [11:45:16] &lt;<a href="#id257"><span class="problematic" id="id258">sustrik_</span></a>&gt;       sure, send the patch</div>
<div class="line">[Monday 01 November 2010] [11:45:22] &lt;mato&gt;   oh dear, not that again</div>
<div class="line">[Monday 01 November 2010] [11:45:36] &lt;pieterh&gt;        well, my question is whether you really want me to &#8216;fix&#8217; three places that are all actually the same?</div>
<div class="line">[Monday 01 November 2010] [11:45:39] &lt;mato&gt;   FD_SETSIZE is a problem because zmq.h depends on winsock for SOCKET *</div>
<div class="line">[Monday 01 November 2010] [11:45:47] &lt;pieterh&gt;        mato: please</div>
<div class="line">[Monday 01 November 2010] [11:45:53] &lt;pieterh&gt;        we do understand the case pretty well</div>
<div class="line">[Monday 01 November 2010] [11:46:07] &lt;pieterh&gt;        the problem here is just 0MQ&#8217;s code, not the fix in question</div>
<div class="line">[Monday 01 November 2010] [11:46:12] &lt;mato&gt;   sure</div>
<div class="line">[Monday 01 November 2010] [11:46:15] &lt;pieterh&gt;        winsock.h is included 4 times</div>
<div class="line">[Monday 01 November 2010] [11:46:20] &lt;pieterh&gt;        that is the problem</div>
<div class="line">[Monday 01 November 2010] [11:46:30] &lt;<a href="#id259"><span class="problematic" id="id260">sustrik_</span></a>&gt;       i don&#8217;t know about FD_SETSIZE, but if there&#8217;s a bug in select.cpp, just fix it and send the patch</div>
<div class="line">[Monday 01 November 2010] [11:46:34] &lt;mato&gt;   if you can make all the code work <em>correctly</em> <em>and</em> avoid redefining an <em>application&#8217;s</em> view of FD_SETSIZE, go for it</div>
<div class="line">[Monday 01 November 2010] [11:46:47] &lt;pieterh&gt;        mato: we&#8217;ve been over this</div>
<div class="line">[Monday 01 November 2010] [11:47:06] &lt;pieterh&gt;        code that calls a library must defacto use that library&#8217;s value for FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [11:47:15] &lt;mato&gt;   pieterh: I will not accept any patch that redefines FD_SETSIZE of an <em>application</em> including zmq.h</div>
<div class="line">[Monday 01 November 2010] [11:47:22] &lt;mato&gt;   for reasons that I have explained</div>
<div class="line">[Monday 01 November 2010] [11:47:30] &lt;pieterh&gt;        you&#8217;ve not explained, and/or have not understood</div>
<div class="line">[Monday 01 November 2010] [11:47:43] &lt;mato&gt;   zmq.h is the <em>API</em> header</div>
<div class="line">[Monday 01 November 2010] [11:47:51] &lt;pieterh&gt;        every library that wraps select() must define a value for FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [11:47:53] &lt;mato&gt;   it has no business changing the <em>application&#8217;s</em> view of FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [11:48:00] &lt;mato&gt;   yes, sure</div>
<div class="line">[Monday 01 November 2010] [11:48:03] &lt;pieterh&gt;        lll</div>
<div class="line">[Monday 01 November 2010] [11:48:08] &lt;mato&gt;   i have no problem with that</div>
<div class="line">[Monday 01 November 2010] [11:48:10] &lt;pieterh&gt;        it changes the API&#8217;s definition</div>
<div class="line">[Monday 01 November 2010] [11:48:21] &lt;pieterh&gt;        this is standard stuff</div>
<div class="line">[Monday 01 November 2010] [11:48:31] &lt;pieterh&gt;        now, including zmq.h magically sets FD_SETSIZE to 64</div>
<div class="line">[Monday 01 November 2010] [11:48:40] &lt;pieterh&gt;        which is not a feature, but a bug</div>
<div class="line">[Monday 01 November 2010] [11:48:53] &lt;mato&gt;   no it doesn&#8217;t, it leaves it at whatever the default is</div>
<div class="line">[Monday 01 November 2010] [11:48:57] &lt;pieterh&gt;        no it doesn&#8217;t</div>
<div class="line">[Monday 01 November 2010] [11:49:02] &lt;pieterh&gt;        winsock.h defines it</div>
<div class="line">[Monday 01 November 2010] [11:49:03] &lt;mato&gt;   bah</div>
<div class="line">[Monday 01 November 2010] [11:49:05] &lt;pieterh&gt;        unless it&#8217;s already defined</div>
<div class="line">[Monday 01 November 2010] [11:49:10] &lt;mato&gt;   exactly</div>
<div class="line">[Monday 01 November 2010] [11:49:21] &lt;pieterh&gt;        well... did you think I&#8217;d ignore a previous definition?</div>
<div class="line">[Monday 01 November 2010] [11:49:24] &lt;pieterh&gt;        /  Raise max sockets from default of 64 to more usable value</div>
<div class="line">[Monday 01 November 2010] [11:49:24] &lt;pieterh&gt;        /  Must be consistent in any code that shares FD sets</div>
<div class="line">[Monday 01 November 2010] [11:49:24] &lt;pieterh&gt;        #ifndef FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [11:49:24] &lt;pieterh&gt;        #define FD_SETSIZE   1024</div>
<div class="line">[Monday 01 November 2010] [11:49:24] &lt;pieterh&gt;        #endif</div>
<div class="line">[Monday 01 November 2010] [11:49:32] &lt;<a href="#id261"><span class="problematic" id="id262">sustrik_</span></a>&gt;       afaiu, the problem is that 0mq and the application have to have same value of FD_SETSIZE to work well</div>
<div class="line">[Monday 01 November 2010] [11:49:40] &lt;<a href="#id263"><span class="problematic" id="id264">sustrik_</span></a>&gt;       right?</div>
<div class="line">[Monday 01 November 2010] [11:49:45] &lt;pieterh&gt;        it&#8217;s just an array max for the select call</div>
<div class="line">[Monday 01 November 2010] [11:49:47] &lt;mato&gt;   no, i don&#8217;t think so</div>
<div class="line">[Monday 01 November 2010] [11:50:03] &lt;pieterh&gt;        so any code that shares fdsets must agree on the max</div>
<div class="line">[Monday 01 November 2010] [11:50:04] &lt;mato&gt;   <a href="#id265"><span class="problematic" id="id266">sustrik_</span></a>: libzmq.dll&#8217;s FD_SETSIZE AFAICT has nothing to do with the app&#8217;s FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [11:50:20] &lt;pieterh&gt;        mato: there is no &#8216;app&#8217;s FD_SETSIZE&#8217;</div>
<div class="line">[Monday 01 November 2010] [11:50:33] &lt;mato&gt;   huh?</div>
<div class="line">[Monday 01 November 2010] [11:50:33] &lt;pieterh&gt;        every select call has an FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [11:50:39] &lt;pieterh&gt;        it&#8217;s not per application or per binary</div>
<div class="line">[Monday 01 November 2010] [11:50:43] &lt;pieterh&gt;        it&#8217;s per select() call...</div>
<div class="line">[Monday 01 November 2010] [11:50:45] &lt;mato&gt;   sure</div>
<div class="line">[Monday 01 November 2010] [11:50:47] &lt;mato&gt;   my point is...</div>
<div class="line">[Monday 01 November 2010] [11:51:02] &lt;mato&gt;   what if you have an existing application which is mixing normal sockets and zmq code</div>
<div class="line">[Monday 01 November 2010] [11:51:15] &lt;mato&gt;   including zmq.h should not go and magically change that app&#8217;s FD_SETSIZE...</div>
<div class="line">[Monday 01 November 2010] [11:51:21] &lt;pieterh&gt;        (a) that is 1% of the case where as &#8216;normal 0MQ apps&#8217; are 99% of the case</div>
<div class="line">[Monday 01 November 2010] [11:51:35] &lt;pieterh&gt;        (b) you can set your own FD_SETSIZE beforehand</div>
<div class="line">[Monday 01 November 2010] [11:51:45] &lt;pieterh&gt;        (c) you need to recompile ALL your code then to match</div>
<div class="line">[Monday 01 November 2010] [11:51:47] &lt;pieterh&gt;        including 0MQ</div>
<div class="line">[Monday 01 November 2010] [11:51:52] &lt;pieterh&gt;        that&#8217;s pretty straight-forward</div>
<div class="line">[Monday 01 November 2010] [11:52:02] &lt;mato&gt;   does it really work that way? (c) included?</div>
<div class="line">[Monday 01 November 2010] [11:52:05] &lt;pieterh&gt;        what is not acceptable is &#8220;install 0MQ, build app, watch it break at 64 sockets&#8217;</div>
<div class="line">[Monday 01 November 2010] [11:52:08] &lt;pieterh&gt;        yes mato</div>
<div class="line">[Monday 01 November 2010] [11:52:17] &lt;pieterh&gt;        define the macro in your project, rebuild</div>
<div class="line">[Monday 01 November 2010] [11:52:19] &lt;pieterh&gt;        period</div>
<div class="line">[Monday 01 November 2010] [11:52:29] &lt;pieterh&gt;        i&#8217;ve been doing this for 15 years or so with Xitami / SFL /...</div>
<div class="line">[Monday 01 November 2010] [11:52:48] &lt;mato&gt;   ok, ok, i believe you</div>
<div class="line">[Monday 01 November 2010] [11:53:04] &lt;mato&gt;   i was just trying to avoid zmq.h doing anything &#8220;surprising&#8221;</div>
<div class="line">[Monday 01 November 2010] [11:53:08] &lt;pieterh&gt;        the _only_ difficulty here is that 0MQ includes winsock 4 times in different places</div>
<div class="line">[Monday 01 November 2010] [11:53:13] &lt;pieterh&gt;        which is... less than elegant</div>
<div class="line">[Monday 01 November 2010] [11:53:19] &lt;mato&gt;   yes, that needs to be refactored</div>
<div class="line">[Monday 01 November 2010] [11:53:35] &lt;mato&gt;   oh</div>
<div class="line">[Monday 01 November 2010] [11:53:42] &lt;mato&gt;   there is one other complexity</div>
<div class="line">[Monday 01 November 2010] [11:53:48] &lt;mato&gt;   when building zmq on windows</div>
<div class="line">[Monday 01 November 2010] [11:53:51] &lt;pieterh&gt;        yes?</div>
<div class="line">[Monday 01 November 2010] [11:54:10] &lt;mato&gt;   FD_SETSIZE must be defined correctly the 1st time winsock.h is included in the app</div>
<div class="line">[Monday 01 November 2010] [11:54:18] &lt;pieterh&gt;        there is no &#8216;app&#8217;</div>
<div class="line">[Monday 01 November 2010] [11:54:21] &lt;mato&gt;   which for zmq basically means changing all those places</div>
<div class="line">[Monday 01 November 2010] [11:54:23] &lt;pieterh&gt;        you keep speaking of &#8216;apps&#8217;</div>
<div class="line">[Monday 01 November 2010] [11:54:34] &lt;mato&gt;   i&#8217;m sorry, zeromq <em>library</em></div>
<div class="line">[Monday 01 November 2010] [11:54:38] &lt;pieterh&gt;        every source file</div>
<div class="line">[Monday 01 November 2010] [11:54:46] &lt;pieterh&gt;        is compiled with a certain value for FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [11:54:54] &lt;pieterh&gt;        winsock.h is included 4 times in different places</div>
<div class="line">[Monday 01 November 2010] [11:55:09] &lt;pieterh&gt;        some are obviously redundant (select.cpp, select.hpp)</div>
<div class="line">[Monday 01 November 2010] [11:55:12] &lt;pieterh&gt;        others are less so</div>
<div class="line">[Monday 01 November 2010] [11:55:29] &lt;<a href="#id267"><span class="problematic" id="id268">sustrik_</span></a>&gt;       can someone explain what FD_SETSIZE actually affects? if every call to select can have different FD_SETSIZE why not define it to 1024 in our cpp files and leave the header alone?</div>
<div class="line">[Monday 01 November 2010] [11:55:45] &lt;pieterh&gt;        <a href="#id269"><span class="problematic" id="id270">sustrik_</span></a>, it tells the win32 library how large the fdset arrays are</div>
<div class="line">[Monday 01 November 2010] [11:56:02] &lt;<a href="#id271"><span class="problematic" id="id272">sustrik_</span></a>&gt;       and can it differ throughout the program?</div>
<div class="line">[Monday 01 November 2010] [11:56:08] &lt;mato&gt;   no one knows :-)</div>
<div class="line">[Monday 01 November 2010] [11:56:11] &lt;pieterh&gt;        if you include winsock.h or winsock2.h without defining this, it sets a value of 64</div>
<div class="line">[Monday 01 November 2010] [11:56:23] &lt;pieterh&gt;        so each source file can have different values compiled into it</div>
<div class="line">[Monday 01 November 2010] [11:56:39] &lt;pieterh&gt;        winsock.h passes the macro value to the win32 functions</div>
<div class="line">[Monday 01 November 2010] [11:56:52] &lt;pieterh&gt;        so it can differ in every call to select()</div>
<div class="line">[Monday 01 November 2010] [11:57:05] &lt;pieterh&gt;        does that make sense?</div>
<div class="line">[Monday 01 November 2010] [11:57:23] &lt;mato&gt;   if that&#8217;s how it actually works, then yes, i think so</div>
<div class="line">[Monday 01 November 2010] [11:57:24] &lt;<a href="#id273"><span class="problematic" id="id274">sustrik_</span></a>&gt;       then why not go for defining FD_SETSIZE only for select.cpp and zmq.cpp?</div>
<div class="line">[Monday 01 November 2010] [11:57:37] &lt;pieterh&gt;        sustrik: if those are the only places you call select(), yes</div>
<div class="line">[Monday 01 November 2010] [11:57:45] &lt;pieterh&gt;        in fact only in select.cpp then</div>
<div class="line">[Monday 01 November 2010] [11:57:52] &lt;mato&gt;   zmq.cpp also calls select()</div>
<div class="line">[Monday 01 November 2010] [11:57:55] &lt;<a href="#id275"><span class="problematic" id="id276">sustrik_</span></a>&gt;       yes</div>
<div class="line">[Monday 01 November 2010] [11:57:57] &lt;pieterh&gt;        right</div>
<div class="line">[Monday 01 November 2010] [11:57:59] &lt;mato&gt;   for the zmq_poll() implementation</div>
<div class="line">[Monday 01 November 2010] [11:58:11]   * pieterh doesn&#8217;t understand why this is not abstracted</div>
<div class="line">[Monday 01 November 2010] [11:58:39] &lt;pieterh&gt;        ok, i&#8217;ll make a patch and ask for volunteers to test that under win32</div>
<div class="line">[Monday 01 November 2010] [11:58:46] &lt;pieterh&gt;        if it&#8217;s stable we can include it</div>
<div class="line">[Monday 01 November 2010] [11:58:53] &lt;pieterh&gt;        zmq.h and select.cpp only then</div>
<div class="line">[Monday 01 November 2010] [11:59:08] &lt;mato&gt;   zmq.h?</div>
<div class="line">[Monday 01 November 2010] [11:59:09] &lt;<a href="#id277"><span class="problematic" id="id278">sustrik_</span></a>&gt;       noo</div>
<div class="line">[Monday 01 November 2010] [11:59:12] &lt;mato&gt;   zmq.cpp you mean</div>
<div class="line">[Monday 01 November 2010] [11:59:51] &lt;pieterh&gt;        well, it has to be defined _before_ including winsock.h</div>
<div class="line">[Monday 01 November 2010] [11:59:57] &lt;pieterh&gt;        that happens in zmq.h</div>
<div class="line">[Monday 01 November 2010] [11:59:57] &lt;mato&gt;   yes, so?</div>
<div class="line">[Monday 01 November 2010] [12:00:08] &lt;pieterh&gt;        so you want me to add this code to the very start of zmq.cpp?</div>
<div class="line">[Monday 01 November 2010] [12:00:11] &lt;pieterh&gt;        wow</div>
<div class="line">[Monday 01 November 2010] [12:00:12] &lt;mato&gt;   then put the #define in zmq.cpp before it include anything</div>
<div class="line">[Monday 01 November 2010] [12:00:13] &lt;mato&gt;   yes</div>
<div class="line">[Monday 01 November 2010] [12:00:15] &lt;pieterh&gt;        no way</div>
<div class="line">[Monday 01 November 2010] [12:00:23] &lt;pieterh&gt;        that&#8217;s so ugly</div>
<div class="line">[Monday 01 November 2010] [12:00:33] &lt;mato&gt;   the whole FD_SETSIZE thing is ugly</div>
<div class="line">[Monday 01 November 2010] [12:00:35] &lt;mato&gt;   not our fault</div>
<div class="line">[Monday 01 November 2010] [12:00:38] &lt;pieterh&gt;        &#8216;here&#8217;s our global header file but wait, some magic stuff happens before that!&#8217;</div>
<div class="line">[Monday 01 November 2010] [12:00:48] &lt;pieterh&gt;        no, it&#8217;s the fault of this code structure</div>
<div class="line">[Monday 01 November 2010] [12:00:54] &lt;pieterh&gt;        it should be done in windows.hpp</div>
<div class="line">[Monday 01 November 2010] [12:01:10] &lt;pieterh&gt;        or somewhere for &#8216;include all random windows stuff&#8217;</div>
<div class="line">[Monday 01 November 2010] [12:01:19] &lt;mato&gt;   yes, but not in zmq.h</div>
<div class="line">[Monday 01 November 2010] [12:01:29] &lt;mato&gt;   that&#8217;s the only point i&#8217;m making, pieter</div>
<div class="line">[Monday 01 November 2010] [12:01:37] &lt;mato&gt;   do it any way you like, just not in zmq.h please</div>
<div class="line">[Monday 01 November 2010] [12:01:49] &lt;<a href="#id279"><span class="problematic" id="id280">sustrik_</span></a>&gt;       windows.hpp is actually a nice place to set it</div>
<div class="line">[Monday 01 November 2010] [12:01:51] &lt;mato&gt;   if you clean up the mess with windows.hpp while you&#8217;re at it, so much the better</div>
<div class="line">[Monday 01 November 2010] [12:01:52] &lt;pieterh&gt;        you&#8217;re not making a point, you&#8217;re just imposing an arbitrary limitation</div>
<div class="line">[Monday 01 November 2010] [12:02:00] &lt;mato&gt;   it&#8217;s not arbitrary</div>
<div class="line">[Monday 01 November 2010] [12:02:01] &lt;<a href="#id281"><span class="problematic" id="id282">sustrik_</span></a>&gt;       as it&#8217;s included from all 0mq compilation units</div>
<div class="line">[Monday 01 November 2010] [12:02:04] &lt;<a href="#id283"><span class="problematic" id="id284">sustrik_</span></a>&gt;       but not from zmq.h</div>
<div class="line">[Monday 01 November 2010] [12:02:06] &lt;pieterh&gt;        it should be _consistent_ for the whole library</div>
<div class="line">[Monday 01 November 2010] [12:02:15] &lt;pieterh&gt;        and it should be easy to override from the project file</div>
<div class="line">[Monday 01 November 2010] [12:02:16] &lt;pieterh&gt;        period</div>
<div class="line">[Monday 01 November 2010] [12:02:44] &lt;pieterh&gt;        look, I&#8217;m willing to spend some effort cleaning this up, but not to navigate random opinions</div>
<div class="line">[Monday 01 November 2010] [12:02:47] &lt;mato&gt;   <a href="#id285"><span class="problematic" id="id286">sustrik_</span></a>: do you understand why making the change in zmq.h seems like a bad idea? or am I alone in this?</div>
<div class="line">[Monday 01 November 2010] [12:02:50] &lt;pieterh&gt;        the windows build of 0MQ is broken</div>
<div class="line">[Monday 01 November 2010] [12:02:55] &lt;<a href="#id287"><span class="problematic" id="id288">sustrik_</span></a>&gt;       mato: i do</div>
<div class="line">[Monday 01 November 2010] [12:02:55] &lt;pieterh&gt;        64 sockets is not realistic, period</div>
<div class="line">[Monday 01 November 2010] [12:03:05] &lt;pieterh&gt;        you are both wrong, then</div>
<div class="line">[Monday 01 November 2010] [12:03:14] &lt;<a href="#id289"><span class="problematic" id="id290">sustrik_</span></a>&gt;       pieterh: try putting it into windows.hpp, that should work ok</div>
<div class="line">[Monday 01 November 2010] [12:03:20] &lt;pieterh&gt;        any application that mixes tcp and 0mq must in any case define a FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [12:03:23] &lt;pieterh&gt;        externally</div>
<div class="line">[Monday 01 November 2010] [12:03:26] &lt;pieterh&gt;        in its project file</div>
<div class="line">[Monday 01 November 2010] [12:03:39] &lt;pieterh&gt;        this applies to any library that wraps select()</div>
<div class="line">[Monday 01 November 2010] [12:03:55] &lt;pieterh&gt;        sustrik: nope, windows.hpp is not used by select.cpp for instance</div>
<div class="line">[Monday 01 November 2010] [12:04:18] &lt;<a href="#id291"><span class="problematic" id="id292">sustrik_</span></a>&gt;       it should</div>
<div class="line">[Monday 01 November 2010] [12:04:22] &lt;pieterh&gt;        yeah, it should</div>
<div class="line">[Monday 01 November 2010] [12:04:29] &lt;pieterh&gt;        hence my original question about the code structure</div>
<div class="line">[Monday 01 November 2010] [12:04:41] &lt;pieterh&gt;        the platform code shouldn&#8217;t be spread out like that IMO</div>
<div class="line">[Monday 01 November 2010] [12:04:52] &lt;<a href="#id293"><span class="problematic" id="id294">sustrik_</span></a>&gt;       historic reasons</div>
<div class="line">[Monday 01 November 2010] [12:04:58] &lt;pieterh&gt;        sorry, poor excuse :-)</div>
<div class="line">[Monday 01 November 2010] [12:05:06] &lt;<a href="#id295"><span class="problematic" id="id296">sustrik_</span></a>&gt;       well, fix it then</div>
<div class="line">[Monday 01 November 2010] [12:05:08] &lt;mato&gt;   exactly</div>
<div class="line">[Monday 01 November 2010] [12:05:12] &lt;mato&gt;   stop bitching about it</div>
<div class="line">[Monday 01 November 2010] [12:05:14] &lt;mato&gt;   and fix it</div>
<div class="line">[Monday 01 November 2010] [12:05:21] &lt;pieterh&gt;        that&#8217;s all I was asking for</div>
<div class="line">[Monday 01 November 2010] [12:05:39] &lt;mato&gt;   all i&#8217;m saying, and sustrik is agreeing, is don&#8217;t change FD_SETSIZE in zmq.h</div>
<div class="line">[Monday 01 November 2010] [12:05:46] &lt;mato&gt;   and all of this <em>can</em> be done without that</div>
<div class="line">[Monday 01 November 2010] [12:05:56] &lt;pieterh&gt;        i&#8217;m curious to see how you will do that, mato</div>
<div class="line">[Monday 01 November 2010] [12:06:21] &lt;mato&gt;   ?</div>
<div class="line">[Monday 01 November 2010] [12:06:27] &lt;pieterh&gt;        since zmq.h includes winsock.h</div>
<div class="line">[Monday 01 November 2010] [12:06:34] &lt;pieterh&gt;        well, since you know best, I step back</div>
<div class="line">[Monday 01 November 2010] [12:06:45] &lt;mato&gt;   yes, so you make sure FD_SETSIZE is defined before zmq.h is included in the relevant places</div>
<div class="line">[Monday 01 November 2010] [12:07:05] &lt;pieterh&gt;        that IMO makes the code dirtier and I won&#8217;t do that, sorry</div>
<div class="line">[Monday 01 November 2010] [12:07:16] &lt;pieterh&gt;        zmq.h is the system-wide header file</div>
<div class="line">[Monday 01 November 2010] [12:07:23] &lt;<a href="#id297"><span class="problematic" id="id298">sustrik_</span></a>&gt;       afaiu, each compilation unit has to have a consistent value of FD_SETSIZE</div>
<div class="line">[Monday 01 November 2010] [12:07:28] &lt;mato&gt;   it&#8217;s not the syste-wide header file</div>
<div class="line">[Monday 01 November 2010] [12:07:37] &lt;mato&gt;   it&#8217;s the exported API header file</div>
<div class="line">[Monday 01 November 2010] [12:07:41] &lt;<a href="#id299"><span class="problematic" id="id300">sustrik_</span></a>&gt;       but there&#8217;s no requirement that different compilation units have to have the same value</div>
<div class="line">[Monday 01 November 2010] [12:07:47] &lt;pieterh&gt;        then it should absolutely not call winsock.h</div>
<div class="line">[Monday 01 November 2010] [12:07:58] &lt;pieterh&gt;        because today it effectively sets FD_SETSIZE to 64</div>
<div class="line">[Monday 01 November 2010] [12:08:00] &lt;pieterh&gt;        don&#8217;t you get this?</div>
<div class="line">[Monday 01 November 2010] [12:08:12] &lt;pieterh&gt;        zmq.h already makes a mess for any app</div>
<div class="line">[Monday 01 November 2010] [12:08:18] &lt;mato&gt;   <em>that</em> is an entirely different problem</div>
<div class="line">[Monday 01 November 2010] [12:08:29] &lt;pieterh&gt;        ?</div>
<div class="line">[Monday 01 November 2010] [12:08:51] &lt;mato&gt;   the reason it&#8217;s included winsock.h is...</div>
<div class="line">[Monday 01 November 2010] [12:09:09] &lt;mato&gt;   that the zmq_pollitem_t definition needs a type for &#8220;OS sockets&#8221;</div>
<div class="line">[Monday 01 November 2010] [12:09:19] &lt;mato&gt;   so it needs access to SOCKET</div>
<div class="line">[Monday 01 November 2010] [12:09:29] &lt;<a href="#id301"><span class="problematic" id="id302">sustrik_</span></a>&gt;       yeah, that&#8217;s a really annoying problem</div>
<div class="line">[Monday 01 November 2010] [12:09:37] &lt;pieterh&gt;        it sets FD_SETSIZE to 64</div>
<div class="line">[Monday 01 November 2010] [12:09:41] &lt;<a href="#id303"><span class="problematic" id="id304">sustrik_</span></a>&gt;       in reality SOCKET is void*</div>
<div class="line">[Monday 01 November 2010] [12:09:52] &lt;pieterh&gt;        that is a serious fault</div>
<div class="line">[Monday 01 November 2010] [12:09:58] &lt;pieterh&gt;        i&#8217;m proposing to make it a less serious faulyt</div>
<div class="line">[Monday 01 November 2010] [12:09:59] &lt;pieterh&gt;        <a href="#id1"><span class="problematic" id="id2">*</span></a>fault</div>
<div class="line">[Monday 01 November 2010] [12:10:12] &lt;mato&gt;   no you&#8217;re not</div>
<div class="line">[Monday 01 November 2010] [12:10:25] &lt;<a href="#id305"><span class="problematic" id="id306">sustrik_</span></a>&gt;       what about using void* instead of SOCKET</div>
<div class="line">[Monday 01 November 2010] [12:10:37] &lt;mato&gt;   well, would that work?</div>
<div class="line">[Monday 01 November 2010] [12:10:45] &lt;<a href="#id307"><span class="problematic" id="id308">sustrik_</span></a>&gt;       it&#8217;s not nice but all the other alternatives are even worse</div>
<div class="line">[Monday 01 November 2010] [12:10:49] &lt;pieterh&gt;        &#8220;zmq.h should not magically go and change the app&#8217;s FD_SETSIZE&#8221;:</div>
<div class="line">[Monday 01 November 2010] [12:10:57] &lt;pieterh&gt;        but that&#8217;s what it does today</div>
<div class="line">[Monday 01 November 2010] [12:11:00] &lt;<a href="#id309"><span class="problematic" id="id310">sustrik_</span></a>&gt;       i think if holds for all win platforms</div>
<div class="line">[Monday 01 November 2010] [12:11:06] &lt;<a href="#id311"><span class="problematic" id="id312">sustrik_</span></a>&gt;       hard to check though</div>
<div class="line">[Monday 01 November 2010] [12:11:14] &lt;mato&gt;   well, there&#8217;s an easy way to check actually</div>
<div class="line">[Monday 01 November 2010] [12:11:16] &lt;pieterh&gt;        look, there are several problems here</div>
<div class="line">[Monday 01 November 2010] [12:11:22] &lt;<a href="#id313"><span class="problematic" id="id314">sustrik_</span></a>&gt;       mato: how?</div>
<div class="line">[Monday 01 November 2010] [12:11:24] &lt;pieterh&gt;        - windows code is spread out through multiple header files</div>
<div class="line">[Monday 01 November 2010] [12:11:32] &lt;mato&gt;   <a href="#id315"><span class="problematic" id="id316">sustrik_</span></a>: in zmq_init, assert (sizeof (SOCKET) == sizeof (void <a href="#id3"><span class="problematic" id="id4">*</span></a>))</div>
<div class="line">[Monday 01 November 2010] [12:11:35] &lt;pieterh&gt;        - select() is used with bogus limit of 64</div>
<div class="line">[Monday 01 November 2010] [12:11:43] &lt;<a href="#id317"><span class="problematic" id="id318">sustrik_</span></a>&gt;       :)</div>
<div class="line">[Monday 01 November 2010] [12:11:47] &lt;mato&gt;   <a href="#id319"><span class="problematic" id="id320">sustrik_</span></a>: that would do for starters...</div>
<div class="line">[Monday 01 November 2010] [12:11:59] &lt;<a href="#id321"><span class="problematic" id="id322">sustrik_</span></a>&gt;       ok, that solves the problem, no?</div>
<div class="line">[Monday 01 November 2010] [12:12:10] &lt;mato&gt;   it would seem so, yes</div>
<div class="line">[Monday 01 November 2010] [12:12:17] &lt;pieterh&gt;        yes, that solves zmq.h</div>
<div class="line">[Monday 01 November 2010] [12:12:49] &lt;<a href="#id323"><span class="problematic" id="id324">sustrik_</span></a>&gt;       when we have that</div>
<div class="line">[Monday 01 November 2010] [12:12:57] &lt;pieterh&gt;        if zmq.h no longer whacks FD_SETSIZE then it can be safely set per source file where needed</div>
<div class="line">[Monday 01 November 2010] [12:13:00] &lt;mato&gt;   <a href="#id325"><span class="problematic" id="id326">sustrik_</span></a>: in fact, you can add a compile-time dummy check</div>
<div class="line">[Monday 01 November 2010] [12:13:04] &lt;mato&gt;   <a href="#id327"><span class="problematic" id="id328">sustrik_</span></a>: even better</div>
<div class="line">[Monday 01 November 2010] [12:13:17] &lt;<a href="#id329"><span class="problematic" id="id330">sustrik_</span></a>&gt;       good</div>
<div class="line">[Monday 01 November 2010] [12:13:19] &lt;mato&gt;   <a href="#id331"><span class="problematic" id="id332">sustrik_</span></a>: SOCKET foo; void <a href="#id5"><span class="problematic" id="id6">*</span></a>bar; bar = foo</div>
<div class="line">[Monday 01 November 2010] [12:13:23] &lt;mato&gt;   <a href="#id333"><span class="problematic" id="id334">sustrik_</span></a>: or something like that</div>
<div class="line">[Monday 01 November 2010] [12:13:42] &lt;<a href="#id335"><span class="problematic" id="id336">sustrik_</span></a>&gt;       ok, however, let&#8217;s do this after 2.1.0 release</div>
<div class="line">[Monday 01 November 2010] [12:14:06] &lt;<a href="#id337"><span class="problematic" id="id338">sustrik_</span></a>&gt;       it can break 0mq on some win systems (if we are wrong about void*)</div>
<div class="line">[Monday 01 November 2010] [12:14:15] &lt;mato&gt;   2.1.0 is development</div>
<div class="line">[Monday 01 November 2010] [12:14:20] &lt;mato&gt;   it shoudn&#8217;t matter too much</div>
<div class="line">[Monday 01 November 2010] [12:14:21] &lt;<a href="#id339"><span class="problematic" id="id340">sustrik_</span></a>&gt;       thus it would be good to have one functional dev release</div>
<div class="line">[Monday 01 November 2010] [12:14:36] &lt;mato&gt;   up to you</div>
<div class="line">[Monday 01 November 2010] [12:14:51] &lt;mato&gt;   anyway, looks like we have a sensible solution</div>
<div class="line">[Monday 01 November 2010] [12:14:57]   * mato gets back to the signaler</div>
<div class="line">[Monday 01 November 2010] [12:15:18] &lt;<a href="#id341"><span class="problematic" id="id342">sustrik_</span></a>&gt;       pieter: you can fix it on a topic branch</div>
<div class="line">[Monday 01 November 2010] [12:15:30] &lt;<a href="#id343"><span class="problematic" id="id344">sustrik_</span></a>&gt;       we can merge it in after 2.1.0 is out</div>
<div class="line">[Monday 01 November 2010] [12:17:21] &lt;pieterh&gt;        <a href="#id345"><span class="problematic" id="id346">sustrik_</span></a>, sure</div>
<div class="line">[Monday 01 November 2010] [12:17:32] &lt;pieterh&gt;        I submit a patch, do what you like with it :-)</div>
<div class="line">[Monday 01 November 2010] [12:20:01] &lt;pieterh&gt;        please tell me when you&#8217;ve removed the winsock.h call from zmq.h, then I&#8217;ll make the change</div>
<div class="line">[Monday 01 November 2010] [12:23:38] &lt;mato&gt;   <a href="#id347"><span class="problematic" id="id348">sustrik_</span></a>: fd_t is the canonical type used internally for sockets, right?</div>
<div class="line">[Monday 01 November 2010] [12:23:50] &lt;<a href="#id349"><span class="problematic" id="id350">sustrik_</span></a>&gt;       yes</div>
<div class="line">[Monday 01 November 2010] [12:23:50] &lt;mato&gt;   <a href="#id351"><span class="problematic" id="id352">sustrik_</span></a>: i.e. it&#8217;s SOCKET on windows and int everywhere else</div>
<div class="line">[Monday 01 November 2010] [12:29:53] &lt;<a href="#id353"><span class="problematic" id="id354">sustrik_</span></a>&gt;       mato: in zmq.h we are using _WIN32 to find out whether we are on windows or somewhere else</div>
<div class="line">[Monday 01 November 2010] [12:30:12] &lt;<a href="#id355"><span class="problematic" id="id356">sustrik_</span></a>&gt;       does that meen windows.h has to be included prior to zmq.h?</div>
<div class="line">[Monday 01 November 2010] [12:30:27] &lt;mato&gt;   <a href="#id357"><span class="problematic" id="id358">sustrik_</span></a>: _WIN32 should be defined by the compiler</div>
<div class="line">[Monday 01 November 2010] [12:30:33] &lt;<a href="#id359"><span class="problematic" id="id360">sustrik_</span></a>&gt;       ok</div>
<div class="line">[Monday 01 November 2010] [12:30:44] &lt;<a href="#id361"><span class="problematic" id="id362">sustrik_</span></a>&gt;       what abour win64 btw?</div>
<div class="line">[Monday 01 November 2010] [12:30:49] &lt;mato&gt;   i hope so anyway, otherwise it&#8217;s totally braindead</div>
<div class="line">[Monday 01 November 2010] [12:30:57] &lt;mato&gt;   _WIN32 just means &#8220;Win32 API&#8221;</div>
<div class="line">[Monday 01 November 2010] [12:31:02] &lt;<a href="#id363"><span class="problematic" id="id364">sustrik_</span></a>&gt;       i see</div>
<div class="line">[Monday 01 November 2010] [12:31:04] &lt;mato&gt;   irrelevant to x64 target</div>
<div class="line">[Monday 01 November 2010] [12:35:09] &lt;<a href="#id365"><span class="problematic" id="id366">sustrik_</span></a>&gt;       ok, i&#8217;ve checked it, MSVC does define _WIN32</div>
<div class="line">[Monday 01 November 2010] [12:35:12] &lt;<a href="#id367"><span class="problematic" id="id368">sustrik_</span></a>&gt;       good</div>
<div class="line">[Monday 01 November 2010] [12:35:27] &lt;<a href="#id369"><span class="problematic" id="id370">sustrik_</span></a>&gt;       hopefully, MinGW does the same thing</div>
<div class="line">[Monday 01 November 2010] [12:35:33] &lt;mato&gt;   it must</div>
<div class="line">[Monday 01 November 2010] [12:41:07] &lt;<a href="#id371"><span class="problematic" id="id372">sustrik_</span></a>&gt;       i&#8217;m checking what SOCKET actually is :(</div>
<div class="line">[Monday 01 November 2010] [12:41:17] &lt;mato&gt;   oh dear ... :-)</div>
<div class="line">[Monday 01 November 2010] [12:41:46] &lt;<a href="#id373"><span class="problematic" id="id374">sustrik_</span></a>&gt;       if _WIN64 is defined</div>
<div class="line">[Monday 01 November 2010] [12:42:13] &lt;<a href="#id375"><span class="problematic" id="id376">sustrik_</span></a>&gt;       it&#8217;s uinsigned __int64</div>
<div class="line">[Monday 01 November 2010] [12:42:18] &lt;<a href="#id377"><span class="problematic" id="id378">sustrik_</span></a>&gt;       otherwise it&#8217;s</div>
<div class="line">[Monday 01 November 2010] [12:42:38] &lt;<a href="#id379"><span class="problematic" id="id380">sustrik_</span></a>&gt;       __w64 unsigned int</div>
<div class="line">[Monday 01 November 2010] [12:42:44] &lt;<a href="#id381"><span class="problematic" id="id382">sustrik_</span></a>&gt;       whatever that means</div>
<div class="line">[Monday 01 November 2010] [12:48:35] &lt;pieterh&gt;        <a href="#id383"><span class="problematic" id="id384">sustrik_</span></a>, __w64 just means &#8220;this integer can be a pointer, safely&#8221;</div>
<div class="line">[Monday 01 November 2010] [12:48:59] &lt;pieterh&gt;        __w64 unsigned int on a 64-bit Windows box is the same as __int64</div>
<div class="line">[Monday 01 November 2010] [12:49:22] &lt;pieterh&gt;        &#8216;unsigned __int64&#8217;, sorry</div>
<div class="line">[Monday 01 November 2010] [13:16:51] &lt;mato&gt;   <a href="#id385"><span class="problematic" id="id386">sustrik_</span></a>: event_t::reset () should also be restarted automagically on EINTR in signaler_t::recv() ?</div>
<div class="line">[Monday 01 November 2010] [13:17:30] &lt;mato&gt;   <a href="#id387"><span class="problematic" id="id388">sustrik_</span></a>: or should it just drop out with EINTR?</div>
<div class="line">[Monday 01 November 2010] [13:19:23] &lt;<a href="#id389"><span class="problematic" id="id390">sustrik_</span></a>&gt;       mato: if it&#8217;s hard you can drop it</div>
<div class="line">[Monday 01 November 2010] [13:19:35] &lt;mato&gt;   <a href="#id391"><span class="problematic" id="id392">sustrik_</span></a>: it&#8217;s not hard, i&#8217;m asking what it should do...</div>
<div class="line">[Monday 01 November 2010] [13:19:58] &lt;mato&gt;   <a href="#id393"><span class="problematic" id="id394">sustrik_</span></a>: what does &#8220;set&#8221; and &#8220;reset&#8221; mean, exactly?</div>
<div class="line">[Monday 01 November 2010] [13:20:04] &lt;mato&gt;   <a href="#id395"><span class="problematic" id="id396">sustrik_</span></a>: semantically...</div>
<div class="line">[Monday 01 November 2010] [13:21:30] &lt;mato&gt;   <a href="#id397"><span class="problematic" id="id398">sustrik_</span></a>: bah, /me is confused...</div>
<div class="line">[Monday 01 November 2010] [13:23:22] &lt;mato&gt;   <a href="#id399"><span class="problematic" id="id400">sustrik_</span></a>: i think i need to look at the signaler code together with you, otherwise i&#8217;ll get it wrong</div>
<div class="line">[Monday 01 November 2010] [13:24:02] &lt;mato&gt;   <a href="#id401"><span class="problematic" id="id402">sustrik_</span></a>: anyway, i do have a nicely refactored event.hpp/event.cpp that tries to minimize duplication</div>
<div class="line">[Monday 01 November 2010] [13:25:03] &lt;mato&gt;   <a href="#id403"><span class="problematic" id="id404">sustrik_</span></a>: what needs to be protected by the mutex? queue and signaled or just queue?</div>
<div class="line">[Monday 01 November 2010] [13:51:56] &lt;CIA-21&gt; zeromq2: 03Martin Lucina 07wip-signaler * rf78cb39 10/ (8 files in 3 dirs):</div>
<div class="line">[Monday 01 November 2010] [13:51:56] &lt;CIA-21&gt; zeromq2: WIP version of new signaler_t/event_t</div>
<div class="line">[Monday 01 November 2010] [13:51:56] &lt;CIA-21&gt; zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/9BPDCp">http://bit.ly/9BPDCp</a></div>
<div class="line">[Monday 01 November 2010] [13:52:40] &lt;Guthur&gt; sustrik: Thanks for the comments</div>
<div class="line">[Monday 01 November 2010] [13:53:07] &lt;Guthur&gt; unfortunately C# doesn&#8217;t support friends, I had thought of that</div>
<div class="line">[Monday 01 November 2010] [13:54:22] &lt;Guthur&gt; And I didn&#8217;t realise about spaces vs tabs</div>
<div class="line">[Monday 01 November 2010] [13:54:46] &lt;<a href="#id405"><span class="problematic" id="id406">sustrik_</span></a>&gt;       it makes the code ugly when your editor is set differently</div>
<div class="line">[Monday 01 November 2010] [13:55:05] &lt;Guthur&gt; No problem</div>
<div class="line">[Monday 01 November 2010] [13:55:09] &lt;Guthur&gt; I&#8217;ll use spaces</div>
<div class="line">[Monday 01 November 2010] [13:55:10] &lt;<a href="#id407"><span class="problematic" id="id408">sustrik_</span></a>&gt;       anyway, if there are no friends, it probably have to stay as is</div>
<div class="line">[Monday 01 November 2010] [13:55:44] &lt;Guthur&gt; The reason for  Queue methods was really to just improve the interface slightly</div>
<div class="line">[Monday 01 November 2010] [13:56:04] &lt;Guthur&gt; but I can understand wanting to reflect the underlying API as much as possible</div>
<div class="line">[Monday 01 November 2010] [13:56:41] &lt;Guthur&gt; Queue, Forwarder, and Streamer methods*</div>
<div class="line">[Monday 01 November 2010] [13:57:59] &lt;<a href="#id409"><span class="problematic" id="id410">sustrik_</span></a>&gt;       yes</div>
<div class="line">[Monday 01 November 2010] [13:58:09] &lt;<a href="#id411"><span class="problematic" id="id412">sustrik_</span></a>&gt;       also, it&#8217;s easier to tweak constants</div>
<div class="line">[Monday 01 November 2010] [13:58:15] &lt;<a href="#id413"><span class="problematic" id="id414">sustrik_</span></a>&gt;       than tweaking functions</div>
<div class="line">[Monday 01 November 2010] [13:58:24] &lt;<a href="#id415"><span class="problematic" id="id416">sustrik_</span></a>&gt;       in case anything changes in the future</div>
<div class="line">[Monday 01 November 2010] [13:58:33] &lt;Guthur&gt; Reasonable enough, I&#8217;ll change to reflect your suggestion</div>
<div class="line">[Monday 01 November 2010] [13:59:33] &lt;<a href="#id417"><span class="problematic" id="id418">sustrik_</span></a>&gt;       btw, the clrzmq project is kind of orphaned, do you want to help with it?</div>
<div class="line">[Monday 01 November 2010] [14:00:02] &lt;<a href="#id419"><span class="problematic" id="id420">sustrik_</span></a>&gt;       how it can be done is you&#8217;ll get write access to the repo</div>
<div class="line">[Monday 01 November 2010] [14:00:48] &lt;<a href="#id421"><span class="problematic" id="id422">sustrik_</span></a>&gt;       if it is rather one-off patch, then send the patch to the mailing list</div>
<div class="line">[Monday 01 November 2010] [14:01:22] &lt;Guthur&gt; <a href="#id423"><span class="problematic" id="id424">sustrik_</span></a>, Sure no problem</div>
<div class="line">[Monday 01 November 2010] [14:02:02] &lt;Guthur&gt; is Jeffrey no longer involved?</div>
<div class="line">[Monday 01 November 2010] [14:04:37] &lt;<a href="#id425"><span class="problematic" id="id426">sustrik_</span></a>&gt;       haven&#8217;t heard anything about clrzmq for quite a long time</div>
<div class="line">[Monday 01 November 2010] [14:04:49] &lt;<a href="#id427"><span class="problematic" id="id428">sustrik_</span></a>&gt;       but maybe i&#8217;ve just missed it?</div>
<div class="line">[Monday 01 November 2010] [14:05:56] &lt;<a href="#id429"><span class="problematic" id="id430">sustrik_</span></a>&gt;       last update aug, 30</div>
<div class="line">[Monday 01 November 2010] [14:06:24] &lt;Guthur&gt; Has there been many interface changes to zmq since then?</div>
<div class="line">[Monday 01 November 2010] [14:06:32] &lt;Guthur&gt; or is it mostly under the hood</div>
<div class="line">[Monday 01 November 2010] [14:06:39] &lt;<a href="#id431"><span class="problematic" id="id432">sustrik_</span></a>&gt;       it&#8217;s under the hood</div>
<div class="line">[Monday 01 November 2010] [14:06:44] &lt;<a href="#id433"><span class="problematic" id="id434">sustrik_</span></a>&gt;       some new socket options</div>
<div class="line">[Monday 01 November 2010] [14:07:12] &lt;Guthur&gt; I&#8217;ll try to work through the examples and add the missing ones</div>
<div class="line">[Monday 01 November 2010] [14:07:24] &lt;Guthur&gt; Good way to find any missing features I would imagine</div>
<div class="line">[Monday 01 November 2010] [14:07:27] &lt;<a href="#id435"><span class="problematic" id="id436">sustrik_</span></a>&gt;       just have a look at zmq.h</div>
<div class="line">[Monday 01 November 2010] [14:07:41] &lt;Guthur&gt; that would also work, hehe</div>
<div class="line">[Monday 01 November 2010] [14:08:05] &lt;<a href="#id437"><span class="problematic" id="id438">sustrik_</span></a>&gt;       for the master branch there are these new options:</div>
<div class="line">[Monday 01 November 2010] [14:08:06] &lt;<a href="#id439"><span class="problematic" id="id440">sustrik_</span></a>&gt;       #define ZMQ_FD 14</div>
<div class="line">[Monday 01 November 2010] [14:08:06] &lt;<a href="#id441"><span class="problematic" id="id442">sustrik_</span></a>&gt;       #define ZMQ_EVENTS 15</div>
<div class="line">[Monday 01 November 2010] [14:08:07] &lt;<a href="#id443"><span class="problematic" id="id444">sustrik_</span></a>&gt;       #define ZMQ_TYPE 16</div>
<div class="line">[Monday 01 November 2010] [14:08:07] &lt;<a href="#id445"><span class="problematic" id="id446">sustrik_</span></a>&gt;       #define ZMQ_LINGER 17</div>
<div class="line">[Monday 01 November 2010] [14:08:07] &lt;<a href="#id447"><span class="problematic" id="id448">sustrik_</span></a>&gt;       #define ZMQ_RECONNECT_IVL 18</div>
<div class="line">[Monday 01 November 2010] [14:08:08] &lt;<a href="#id449"><span class="problematic" id="id450">sustrik_</span></a>&gt;       #define ZMQ_BACKLOG 19</div>
<div class="line">[Monday 01 November 2010] [14:08:43] &lt;<a href="#id451"><span class="problematic" id="id452">sustrik_</span></a>&gt;       first two are irrelevant from clrzmq&#8217;s point of view</div>
<div class="line">[Monday 01 November 2010] [14:08:52] &lt;<a href="#id453"><span class="problematic" id="id454">sustrik_</span></a>&gt;       that leaves us with 4 new options</div>
<div class="line">[Monday 01 November 2010] [14:10:39] &lt;Guthur&gt; what about ZMQ_RCVMORE</div>
<div class="line">[Monday 01 November 2010] [14:11:08] &lt;<a href="#id455"><span class="problematic" id="id456">sustrik_</span></a>&gt;       it&#8217;s not there?</div>
<div class="line">[Monday 01 November 2010] [14:11:22] &lt;Guthur&gt; not in what I cloned</div>
<div class="line">[Monday 01 November 2010] [14:11:33] &lt;Guthur&gt; let me double check github</div>
<div class="line">[Monday 01 November 2010] [14:11:59] &lt;<a href="#id457"><span class="problematic" id="id458">sustrik_</span></a>&gt;       what&#8217;s your name on github?</div>
<div class="line">[Monday 01 November 2010] [14:12:22] &lt;Guthur&gt; Guthur, though I notice it gives my real name in the commits</div>
<div class="line">[Monday 01 November 2010] [14:12:38] &lt;Guthur&gt; Its not in the clrzmq</div>
<div class="line">[Monday 01 November 2010] [14:12:42] &lt;Guthur&gt; ZMQ_RCVMORE that is</div>
<div class="line">[Monday 01 November 2010] [14:12:54] &lt;<a href="#id459"><span class="problematic" id="id460">sustrik_</span></a>&gt;       ok, you have commit access to clrzmq</div>
<div class="line">[Monday 01 November 2010] [14:13:00] &lt;<a href="#id461"><span class="problematic" id="id462">sustrik_</span></a>&gt;       be carefull not to break it</div>
<div class="line">[Monday 01 November 2010] [14:13:09] &lt;<a href="#id463"><span class="problematic" id="id464">sustrik_</span></a>&gt;       let me check...</div>
<div class="line">[Monday 01 November 2010] [14:13:17] &lt;mato&gt;   <a href="#id465"><span class="problematic" id="id466">sustrik_</span></a>: should i be disabling interrupt coalescing only for RX or also for TX?</div>
<div class="line">[Monday 01 November 2010] [14:13:18] &lt;<a href="#id467"><span class="problematic" id="id468">toni_</span></a>&gt;  hi there. I am using zmq with python. The docs of pyzmq only cover sockets. Does anybody know where I can find more information about pyzmq?</div>
<div class="line">[Monday 01 November 2010] [14:13:55] &lt;<a href="#id469"><span class="problematic" id="id470">sustrik_</span></a>&gt;       Guthur: there&#8217;s no getsockopt function at all :(</div>
<div class="line">[Monday 01 November 2010] [14:14:05] &lt;<a href="#id471"><span class="problematic" id="id472">sustrik_</span></a>&gt;       mato: both</div>
<div class="line">[Monday 01 November 2010] [14:14:26] &lt;Guthur&gt; <a href="#id473"><span class="problematic" id="id474">sustrik_</span></a>: Definitely needs some work then</div>
<div class="line">[Monday 01 November 2010] [14:14:52] &lt;<a href="#id475"><span class="problematic" id="id476">sustrik_</span></a>&gt;       <a href="#id477"><span class="problematic" id="id478">toni_</span></a>: what do you mean?</div>
<div class="line">[Monday 01 November 2010] [14:14:58] &lt;Guthur&gt; I&#8217;ll try to bring it up to current</div>
<div class="line">[Monday 01 November 2010] [14:15:08] &lt;<a href="#id479"><span class="problematic" id="id480">sustrik_</span></a>&gt;       Guther: great!</div>
<div class="line">[Monday 01 November 2010] [14:16:14] &lt;<a href="#id481"><span class="problematic" id="id482">toni_</span></a>&gt;  <a href="#id483"><span class="problematic" id="id484">sustrik_</span></a>: I downloaded the pyzmq. Building the docs with sphinx I only get some info about the methods of the socket object. I need a more detailed documentation of the python api</div>
<div class="line">[Monday 01 November 2010] [14:16:52] &lt;<a href="#id485"><span class="problematic" id="id486">sustrik_</span></a>&gt;       socket object presumably _is_ python api</div>
<div class="line">[Monday 01 November 2010] [14:18:17] &lt;mato&gt;   <a href="#id487"><span class="problematic" id="id488">sustrik_</span></a>: hmm, i don&#8217;t entirely trust this switch</div>
<div class="line">[Monday 01 November 2010] [14:18:39] &lt;mato&gt;   <a href="#id489"><span class="problematic" id="id490">sustrik_</span></a>: but the results I see <em>appear</em> to show that I get ~60us latency with the old code, and ~78us with the new cose</div>
<div class="line">[Monday 01 November 2010] [14:18:42] &lt;mato&gt;   <a href="#id7"><span class="problematic" id="id8">*</span></a>code</div>
<div class="line">[Monday 01 November 2010] [14:18:52] &lt;<a href="#id491"><span class="problematic" id="id492">sustrik_</span></a>&gt;       uhm</div>
<div class="line">[Monday 01 November 2010] [14:19:03] &lt;<a href="#id493"><span class="problematic" id="id494">sustrik_</span></a>&gt;       ok, we&#8217;ll need some optimisation</div>
<div class="line">[Monday 01 November 2010] [14:19:06] &lt;mato&gt;   <a href="#id495"><span class="problematic" id="id496">sustrik_</span></a>: throughput is weird, it seemed to fluctuate but now appears stablew</div>
<div class="line">[Monday 01 November 2010] [14:19:18] &lt;<a href="#id497"><span class="problematic" id="id498">sustrik_</span></a>&gt;       throughput is a weird metric</div>
<div class="line">[Monday 01 November 2010] [14:19:20] &lt;mato&gt;   I guess ideally I should test w/o the switch, no?</div>
<div class="line">[Monday 01 November 2010] [14:19:29] &lt;<a href="#id499"><span class="problematic" id="id500">sustrik_</span></a>&gt;       fluctuating almost by definition</div>
<div class="line">[Monday 01 November 2010] [14:19:54] &lt;<a href="#id501"><span class="problematic" id="id502">sustrik_</span></a>&gt;       ideally, but normally switch is not the bottleneck</div>
<div class="line">[Monday 01 November 2010] [14:20:16] &lt;mato&gt;   well, it&#8217;s only 100 EUR worth of switch so it won&#8217;t be <em>that</em> great</div>
<div class="line">[Monday 01 November 2010] [14:20:28] &lt;mato&gt;   i can test tomorrow with a direct link, not now...</div>
<div class="line">[Monday 01 November 2010] [14:20:36] &lt;<a href="#id503"><span class="problematic" id="id504">sustrik_</span></a>&gt;       i don&#8217;t think it&#8217;s needed</div>
<div class="line">[Monday 01 November 2010] [14:20:43] &lt;<a href="#id505"><span class="problematic" id="id506">sustrik_</span></a>&gt;       the latency test is relevant</div>
<div class="line">[Monday 01 November 2010] [14:20:51] &lt;<a href="#id507"><span class="problematic" id="id508">sustrik_</span></a>&gt;       18us delta is too much</div>
<div class="line">[Monday 01 November 2010] [14:20:56] &lt;mato&gt;   ok, well that consistently shows the same result</div>
<div class="line">[Monday 01 November 2010] [14:21:00] &lt;<a href="#id509"><span class="problematic" id="id510">sustrik_</span></a>&gt;       we have to optimise</div>
<div class="line">[Monday 01 November 2010] [14:21:17] &lt;mato&gt;   well, let&#8217;s sit down and look at it together tomorrow</div>
<div class="line">[Monday 01 November 2010] [14:21:21] &lt;<a href="#id511"><span class="problematic" id="id512">sustrik_</span></a>&gt;       ok</div>
<div class="line">[Monday 01 November 2010] [14:21:24] &lt;mato&gt;   now, beer?</div>
<div class="line">[Monday 01 November 2010] [14:21:45] &lt;<a href="#id513"><span class="problematic" id="id514">sustrik_</span></a>&gt;       allegedly, there&#8217;s some klezmer-tango concert in nuspirit club</div>
<div class="line">[Monday 01 November 2010] [14:22:03] &lt;mato&gt;   ah, yes, someone did mention something the other day</div>
<div class="line">[Monday 01 November 2010] [14:22:06] &lt;mato&gt;   i forget who</div>
<div class="line">[Monday 01 November 2010] [14:22:15] &lt;<a href="#id515"><span class="problematic" id="id516">sustrik_</span></a>&gt;       your cousin?</div>
<div class="line">[Monday 01 November 2010] [14:22:15] &lt;Guthur&gt; <a href="#id517"><span class="problematic" id="id518">sustrik_</span></a>: By the looks of it someone imported the setsockopt twice instead of doing getsockopt</div>
<div class="line">[Monday 01 November 2010] [14:22:22] &lt;mato&gt;   dunno</div>
<div class="line">[Monday 01 November 2010] [14:22:37] &lt;<a href="#id519"><span class="problematic" id="id520">sustrik_</span></a>&gt;       Guthur: quite possible</div>
<div class="line">[Monday 01 November 2010] [14:22:46] &lt;<a href="#id521"><span class="problematic" id="id522">sustrik_</span></a>&gt;       as I said, the project is kind of orphaned</div>
<div class="line">[Monday 01 November 2010] [14:23:05] &lt;<a href="#id523"><span class="problematic" id="id524">sustrik_</span></a>&gt;       looks like .net devs have not much love for open source</div>
<div class="line">[Monday 01 November 2010] [14:23:55] &lt;Guthur&gt; yeah that tends to be the case</div>
<div class="line">[Monday 01 November 2010] [14:24:18] &lt;Guthur&gt; I would have thought mono might be reversing the trend</div>
<div class="line">[Monday 01 November 2010] [14:24:40] &lt;Guthur&gt; I&#8217;m only interested in it because I am paid to be, hehe</div>
<div class="line">[Monday 01 November 2010] [14:25:51] &lt;<a href="#id525"><span class="problematic" id="id526">sustrik_</span></a>&gt;       i&#8217;m afraid that&#8217;s the case with most people using the .net binding</div>
<div class="line">[Monday 01 November 2010] [15:27:16] &lt;PythonMQ&gt;       hello, does anyone knows where can I find a compative version of pyzmq for old Python 2.4?</div>
<div class="line">[Monday 01 November 2010] [15:28:30] &lt;PythonMQ&gt;       when I try to create an extension for Python 2.4, it asks for .nET 1.1 SDK, Vs 2003, etc... which I dont have</div>
<div class="line">[Monday 01 November 2010] [16:32:00] &lt;mikko&gt;  good evening</div>
<div class="line">[Monday 01 November 2010] [17:18:04] &lt;<a href="#id527"><span class="problematic" id="id528">sustrik_</span></a>&gt;       travlr: hi, are you there by chance?</div>
<div class="line">[Monday 01 November 2010] [17:39:24] &lt;Guthur&gt; <a href="#id529"><span class="problematic" id="id530">sustrik_</span></a>, when setting the identity through setsockopt is it string length + 1?</div>
<div class="line">[Monday 01 November 2010] [17:39:47] &lt;Guthur&gt; for the optvallen</div>
<div class="line">[Monday 01 November 2010] [17:40:20] &lt;mikko&gt;  Guthur: no need for +1 as you give the length</div>
<div class="line">[Monday 01 November 2010] [17:41:01] &lt;mikko&gt;  as far as i remember it doesnt matter as long as it&#8217;s consistent</div>
<div class="line">[Monday 01 November 2010] [17:41:22] &lt;Guthur&gt; oh ok, its just unless I did that it was corrupting the last char</div>
<div class="line">[Monday 01 November 2010] [17:41:46] &lt;Guthur&gt; but it could be something wrong with  the C# marshal  code</div>
<div class="line">[Monday 01 November 2010] [17:42:47] &lt;<a href="#id531"><span class="problematic" id="id532">sustrik_</span></a>&gt;       i think mikko is right</div>
<div class="line">[Monday 01 November 2010] [17:42:59] &lt;<a href="#id533"><span class="problematic" id="id534">sustrik_</span></a>&gt;       the identity is a binary blob, not a string</div>
<div class="line">[Monday 01 November 2010] [17:43:23] &lt;<a href="#id535"><span class="problematic" id="id536">sustrik_</span></a>&gt;       if it corrupts the last byte, it&#8217;s a bug</div>
<div class="line">[Monday 01 November 2010] [17:44:59] &lt;Guthur&gt; ok, I&#8217;ll investigate a little</div>
<div class="line">[Monday 01 November 2010] [18:53:49] &lt;Guthur&gt; <a href="#id537"><span class="problematic" id="id538">sustrik_</span></a>, should I do some checking so that people don&#8217;t do silly things like set an affinity of -1</div>
<div class="line">[Tuesday 02 November 2010] [03:12:26] &lt;hellophp&gt;      hi</div>
<div class="line">[Tuesday 02 November 2010] [03:14:29] &lt;hellophp&gt;      chat</div>
<div class="line">[Tuesday 02 November 2010] [03:14:31] &lt;hellophp&gt;      kk</div>
<div class="line">[Tuesday 02 November 2010] [03:14:32] &lt;hellophp&gt;      test</div>
<div class="line">[Tuesday 02 November 2010] [04:13:08] &lt;nettok&gt;        is there something like &#8220;getpeername&#8221; for zeromq sockets?</div>
<div class="line">[Tuesday 02 November 2010] [04:13:35] &lt;guido_g&gt;       no</div>
<div class="line">[Tuesday 02 November 2010] [04:13:44] &lt;nettok&gt;        ok thanks</div>
<div class="line">[Tuesday 02 November 2010] [07:40:16] &lt;Ogedei&gt;        so zmq_send seems to clear my msg struct&#8217;s data &#8211; yet the docs don&#8217;t talk about it, and some examples in the guide seem to assume it doesn&#8217;t</div>
<div class="line">[Tuesday 02 November 2010] [07:40:24] &lt;mikko&gt; hi</div>
<div class="line">[Tuesday 02 November 2010] [07:41:16] &lt;Ogedei&gt;        the question then, is: what happens to a msg struct when it is passed to zmq_send?</div>
<div class="line">[Tuesday 02 November 2010] [07:43:32] &lt;sustrik&gt;       it&#8217;s cleared</div>
<div class="line">[Tuesday 02 November 2010] [07:43:43] &lt;sustrik&gt;       which examples in the guide assume it&#8217;s not?</div>
<div class="line">[Tuesday 02 November 2010] [07:45:19] &lt;Ogedei&gt;        ah, found it (you cannot send the same message twice). yet, the topic_msg in an example in the guide seems to be reused</div>
<div class="line">[Tuesday 02 November 2010] [07:45:35] &lt;Ogedei&gt;        hah</div>
<div class="line">[Tuesday 02 November 2010] [07:45:41] &lt;Ogedei&gt;        ah, that&#8217;s an example of broken code</div>
<div class="line">[Tuesday 02 November 2010] [07:45:50] &lt;Ogedei&gt;        a big red flashing warning would be good</div>
<div class="line">[Tuesday 02 November 2010] [07:46:56] &lt;pieterh&gt;       Ogedei, :-) Just saw that myself</div>
<div class="line">[Tuesday 02 November 2010] [07:47:03] &lt;pieterh&gt;       It does say: &#8220;Note than when you have passed a message to zmq_send(3), MQ will clear the message, i.e. set the size to zero. You cannot send the same message twice, and you cannot access the message data after sending it.&#8221;</div>
<div class="line">[Tuesday 02 November 2010] [07:47:06] &lt;pieterh&gt;       but somewhat later</div>
<div class="line">[Tuesday 02 November 2010] [07:47:19] &lt;Ogedei&gt;        so, can I re-initialize my msg struct and send it again, or should I close it and make a new one?</div>
<div class="line">[Tuesday 02 November 2010] [07:47:29] &lt;pieterh&gt;       whatever is neater for your code</div>
<div class="line">[Tuesday 02 November 2010] [07:47:44] &lt;sustrik&gt;       there&#8217;s also zmq_msg_copy function</div>
<div class="line">[Tuesday 02 November 2010] [07:48:13] &lt;Ogedei&gt;        doing msg_init on a zero-length, but unclosed message won&#8217;t leak memory, right?</div>
<div class="line">[Tuesday 02 November 2010] [07:48:15] &lt;pieterh&gt;       that&#8217;s if you want to send the identical message to multiple sockets or more than once to the same socket</div>
<div class="line">[Tuesday 02 November 2010] [07:48:23] &lt;pieterh&gt;       Ogedei, it&#8217;s safe</div>
<div class="line">[Tuesday 02 November 2010] [07:48:26] &lt;Ogedei&gt;        what if it is not zero-length? will it be magically closed?</div>
<div class="line">[Tuesday 02 November 2010] [07:48:31] &lt;pieterh&gt;       yes</div>
<div class="line">[Tuesday 02 November 2010] [07:48:34] &lt;Ogedei&gt;        awesome</div>
<div class="line">[Tuesday 02 November 2010] [07:48:59] &lt;pieterh&gt;       indeed it is :-)</div>
<div class="line">[Tuesday 02 November 2010] [07:49:20] &lt;sustrik&gt;       wait a sec, magically closed, what?</div>
<div class="line">[Tuesday 02 November 2010] [07:49:49] &lt;Ogedei&gt;        whether msg-init (and friends) will close their argument, if necessary</div>
<div class="line">[Tuesday 02 November 2010] [07:49:50] &lt;Ogedei&gt;        actually</div>
<div class="line">[Tuesday 02 November 2010] [07:49:55] &lt;pieterh&gt;       sustrik: question was, if you do zmq_msg_init on an existing message will it close the old message or not</div>
<div class="line">[Tuesday 02 November 2010] [07:49:57] &lt;Ogedei&gt;        how could they do that? it might be raw memory</div>
<div class="line">[Tuesday 02 November 2010] [07:50:07] &lt;sustrik&gt;       exactly</div>
<div class="line">[Tuesday 02 November 2010] [07:50:10] &lt;sustrik&gt;       they don&#8217;t</div>
<div class="line">[Tuesday 02 November 2010] [07:50:18] &lt;pieterh&gt;       what if there&#8217;s a free function provided?</div>
<div class="line">[Tuesday 02 November 2010] [07:50:36] &lt;sustrik&gt;       it&#8217;s called when message is zmq_close&#8217;d</div>
<div class="line">[Tuesday 02 November 2010] [07:50:46] &lt;sustrik&gt;       zmq_msg_close&#8217;d</div>
<div class="line">[Tuesday 02 November 2010] [07:50:48] &lt;pieterh&gt;       and if you re-init the message it&#8217;ll leak?</div>
<div class="line">[Tuesday 02 November 2010] [07:50:52] &lt;sustrik&gt;       yes</div>
<div class="line">[Tuesday 02 November 2010] [07:50:57] &lt;pieterh&gt;       Ogedei, sorry, I was optimistic</div>
<div class="line">[Tuesday 02 November 2010] [07:50:57] &lt;Ogedei&gt;        I guess I&#8217;ll take care to close my messages then</div>
<div class="line">[Tuesday 02 November 2010] [07:50:58] &lt;sustrik&gt;       as any other C structure</div>
<div class="line">[Tuesday 02 November 2010] [07:51:26] &lt;pieterh&gt;       sustrik: C structures don&#8217;t really behave anything like this</div>
<div class="line">[Tuesday 02 November 2010] [07:51:46] &lt;sustrik&gt;       struct {char <a href="#id9"><span class="problematic" id="id10">*</span></a>a; char <a href="#id11"><span class="problematic" id="id12">*</span></a>b};</div>
<div class="line">[Tuesday 02 November 2010] [07:51:54] &lt;pieterh&gt;       structures don&#8217;t have constructors</div>
<div class="line">[Tuesday 02 November 2010] [07:51:54] &lt;sustrik&gt;       when are the strings deallocated?</div>
<div class="line">[Tuesday 02 November 2010] [07:52:12] &lt;sustrik&gt;       yes, you need an initialisation and deinitialisation functions</div>
<div class="line">[Tuesday 02 November 2010] [07:52:22] &lt;sustrik&gt;       that&#8217;s what zmq_msg_init and zmq_msg_close are</div>
<div class="line">[Tuesday 02 November 2010] [07:52:36] &lt;pieterh&gt;       any particular reason you _don&#8217;<a href="#id539"><span class="problematic" id="id540">t_</span></a> call close when re-initializing a message?</div>
<div class="line">[Tuesday 02 November 2010] [07:52:44] &lt;pieterh&gt;       i assume close is idempotent</div>
<div class="line">[Tuesday 02 November 2010] [07:52:57] &lt;sustrik&gt;       because you have no idea whether you are re-initialising</div>
<div class="line">[Tuesday 02 November 2010] [07:53:01] &lt;pieterh&gt;       and the msg api does have callbacks for deallocators</div>
<div class="line">[Tuesday 02 November 2010] [07:53:24] &lt;Ogedei&gt;        you can&#8217;t just follow the pointers in there &#8211; might be uninitialized raw memory</div>
<div class="line">[Tuesday 02 November 2010] [07:53:25] &lt;pieterh&gt;       ah, it could just be random data...</div>
<div class="line">[Tuesday 02 November 2010] [07:53:36] &lt;sustrik&gt;       yes</div>
<div class="line">[Tuesday 02 November 2010] [07:53:43] &lt;Ogedei&gt;        anyway, did anyone ever get anywhere with a ruby wrapper? I&#8217;m writting a wrapper for (the also green-threaded) Allegro Common Lisp</div>
<div class="line">[Tuesday 02 November 2010] [07:53:48] &lt;pieterh&gt;       because you&#8217;re not constructing the message, it&#8217;s just on the stack</div>
<div class="line">[Tuesday 02 November 2010] [07:54:09] &lt;pieterh&gt;       hmm...</div>
<div class="line">[Tuesday 02 November 2010] [07:54:13] &lt;Ogedei&gt;        there were some discouraging messages on the list</div>
<div class="line">[Tuesday 02 November 2010] [07:54:15] &lt;sustrik&gt;       right, there may be garbage inside</div>
<div class="line">[Tuesday 02 November 2010] [07:54:29] &lt;sustrik&gt;       what&#8217;s wrong with the ruby wrapper?</div>
<div class="line">[Tuesday 02 November 2010] [07:54:46] &lt;Ogedei&gt;        there&#8217;s this issue with blocking APIs and green threads</div>
<div class="line">[Tuesday 02 November 2010] [07:54:52] &lt;pieterh&gt;       Ogedei, what list ? :-)</div>
<div class="line">[Tuesday 02 November 2010] [07:54:59] &lt;Ogedei&gt;        lemme search</div>
<div class="line">[Tuesday 02 November 2010] [07:55:59] &lt;sustrik&gt;       i would guess it&#8217;s about the fact that ruby, being green-threaded, cannot use blocking calls</div>
<div class="line">[Tuesday 02 November 2010] [07:56:18] &lt;sustrik&gt;       if so, it&#8217;s a problem with ruby rather than with 0mq</div>
<div class="line">[Tuesday 02 November 2010] [07:56:26] &lt;sustrik&gt;       you can still use non-blocking calls</div>
<div class="line">[Tuesday 02 November 2010] [07:56:55] &lt;Ogedei&gt;        yeah, but then you can say good-bye to responsiveness (that&#8217;s an exaggeration of course)</div>
<div class="line">[Tuesday 02 November 2010] [07:57:34] &lt;sustrik&gt;       yes, unfortunately, it&#8217;s a ruby issue</div>
<div class="line">[Tuesday 02 November 2010] [07:57:41] &lt;sustrik&gt;       there&#8217;s little i can do about it</div>
<div class="line">[Tuesday 02 November 2010] [07:58:29] &lt;sustrik&gt;       green-threads are simply not good for high-perf scenarios</div>
<div class="line">[Tuesday 02 November 2010] [07:58:55] &lt;sustrik&gt;       anyway, that python guys are doing, afaiu, is that they launch several instances of python interpreter</div>
<div class="line">[Tuesday 02 November 2010] [07:59:05] &lt;sustrik&gt;       each running exactly one green thread</div>
<div class="line">[Tuesday 02 November 2010] [07:59:14] &lt;Ogedei&gt;        i have a trick with companion C threads and a pipe that works reasonably well, but yeah, it&#8217;s awkward</div>
<div class="line">[Tuesday 02 November 2010] [07:59:14] &lt;sustrik&gt;       which means it can use blocking calls</div>
<div class="line">[Tuesday 02 November 2010] [07:59:29] &lt;sustrik&gt;       then they use 0mq to send messages between the instances</div>
<div class="line">[Tuesday 02 November 2010] [08:00:50] &lt;sustrik&gt;       i think no trick would help: either you use non-blocking calls, thus loosing performance or you use blocking calls thus eventually blocking other green threads :(</div>
<div class="line">[Tuesday 02 November 2010] [08:05:18] &lt;Ogedei&gt;        well, no, in my case, i have a thread written in C which does the blocking, and the Lisp runtime is listening on a pipe for events, and thus gets notified when the C thread has done its work. more indirect, but no polling is involved</div>
<div class="line">[Tuesday 02 November 2010] [08:10:13] &lt;sustrik&gt;       ah, you can do that with 0mq as well</div>
<div class="line">[Tuesday 02 November 2010] [08:10:23] &lt;sustrik&gt;       you can poll on sockets</div>
<div class="line">[Tuesday 02 November 2010] [08:12:14] &lt;sustrik&gt;       in a separate C thread</div>
<div class="line">[Tuesday 02 November 2010] [08:12:35] &lt;sustrik&gt;       however, the problem is how to notify ruby</div>
<div class="line">[Tuesday 02 November 2010] [08:12:47] &lt;sustrik&gt;       you are back to the same problem</div>
<div class="line">[Tuesday 02 November 2010] [08:12:59] &lt;sustrik&gt;       ruby can either check for new events, thus loosing performance</div>
<div class="line">[Tuesday 02 November 2010] [08:13:15] &lt;sustrik&gt;       or block waiting for them, thus blocking other green-threads</div>
<div class="line">[Tuesday 02 November 2010] [08:37:50] &lt;CIA-20&gt;        zeromq2: 03Martin Sustrik 07master * rde93f63 10/ configure.in :</div>
<div class="line">[Tuesday 02 November 2010] [08:37:50] &lt;CIA-20&gt;        zeromq2: crypto library is needed on HP-UX to generate UUIDs</div>
<div class="line">[Tuesday 02 November 2010] [08:37:50] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/bUi6DJ">http://bit.ly/bUi6DJ</a></div>
<div class="line">[Tuesday 02 November 2010] [08:37:56] &lt;Guthur&gt;        Ogedei, It might be good if you extended the current CL binding with some read time conditionals for ACL</div>
<div class="line">[Tuesday 02 November 2010] [08:38:12] &lt;mato&gt;  sustrik: shouldn&#8217;t that have gone onto maint also?</div>
<div class="line">[Tuesday 02 November 2010] [08:38:13] &lt;Guthur&gt;        if possible...</div>
<div class="line">[Tuesday 02 November 2010] [08:38:21] &lt;mato&gt;  sustrik: (that == HP-UX -lcrypto)</div>
<div class="line">[Tuesday 02 November 2010] [08:40:38] &lt;sustrik&gt;       mato: it&#8217;s probably broken anyway</div>
<div class="line">[Tuesday 02 November 2010] [08:40:44] &lt;mato&gt;  sustrik: why so?</div>
<div class="line">[Tuesday 02 November 2010] [08:41:05] &lt;sustrik&gt;       what i mean, there are issues compiling it, right?</div>
<div class="line">[Tuesday 02 November 2010] [08:41:14] &lt;sustrik&gt;       so people are presumably not using it</div>
<div class="line">[Tuesday 02 November 2010] [08:41:26] &lt;sustrik&gt;       so, let them rather start with 2.1</div>
<div class="line">[Tuesday 02 November 2010] [08:41:40] &lt;mato&gt;  sustrik: as you wish</div>
<div class="line">[Tuesday 02 November 2010] [08:41:44] &lt;sustrik&gt;       instead of using 2.0 and then having to upgrade to 2.1 in a short time</div>
<div class="line">[Tuesday 02 November 2010] [08:42:15] &lt;mato&gt;  sustrik: for the OPEN_MAX thing, just add in a define defining it to _POSIX_OPEN_MAX if it&#8217;s not there</div>
<div class="line">[Tuesday 02 November 2010] [08:42:32] &lt;sustrik&gt;       nope, the macros have differnet semantics</div>
<div class="line">[Tuesday 02 November 2010] [08:42:42] &lt;mato&gt;  they do?</div>
<div class="line">[Tuesday 02 November 2010] [08:42:42] &lt;sustrik&gt;       check POSIX</div>
<div class="line">[Tuesday 02 November 2010] [08:42:54] &lt;sustrik&gt;       {OPEN_MAX}</div>
<div class="line">[Tuesday 02 November 2010] [08:42:54] &lt;sustrik&gt;           Maximum number of files that one process can have open at any one time.</div>
<div class="line">[Tuesday 02 November 2010] [08:42:54] &lt;sustrik&gt;           Minimum Acceptable Value: {_POSIX_OPEN_MAX}</div>
<div class="line">[Tuesday 02 November 2010] [08:44:01] &lt;mato&gt;  sustrik: hmm, well, then it&#8217;s a bug in HP-UX</div>
<div class="line">[Tuesday 02 November 2010] [08:44:11] &lt;mato&gt;  sustrik: or they need to find out what the correct value to use is</div>
<div class="line">[Tuesday 02 November 2010] [08:44:11] &lt;sustrik&gt;       not even that&#8221;</div>
<div class="line">[Tuesday 02 November 2010] [08:44:20] &lt;sustrik&gt;       POSIX says:</div>
<div class="line">[Tuesday 02 November 2010] [08:44:21] &lt;sustrik&gt;       &#8220;A definition of one of the symbolic names in the following list shall be omitted from &lt;limits.h&gt; on specific implementations where the corresponding value is equal to or greater than the stated minimum, but is unspecified.</div>
<div class="line">[Tuesday 02 November 2010] [08:44:21] &lt;sustrik&gt;       This indetermination might depend on the amount of available memory space on a specific instance of a specific implementation. The actual value supported by a specific instance shall be provided by the sysconf() function.&#8221;</div>
<div class="line">[Tuesday 02 November 2010] [08:44:36] &lt;mato&gt;  sustrik: sure, usual POSIX ambiguity</div>
<div class="line">[Tuesday 02 November 2010] [08:44:49] &lt;sustrik&gt;       i would do it in following way:</div>
<div class="line">[Tuesday 02 November 2010] [08:44:53] &lt;mato&gt;  sustrik: what I mean is someone at HP has to say what value should go in there on HP-UX</div>
<div class="line">[Tuesday 02 November 2010] [08:44:55] &lt;sustrik&gt;       on Solaris use OPEN_MAX-1</div>
<div class="line">[Tuesday 02 November 2010] [08:45:10] &lt;sustrik&gt;       on other paltforms use our constand defined in config.hpp</div>
<div class="line">[Tuesday 02 November 2010] [08:45:22] &lt;sustrik&gt;       &#8220;max_io_events&#8221;</div>
<div class="line">[Tuesday 02 November 2010] [08:45:33] &lt;mato&gt;  sustrik: not a great idea; /dev/poll is platform-specific anyway</div>
<div class="line">[Tuesday 02 November 2010] [08:45:43] &lt;mato&gt;  sustrik: so that platform-specific value should be determined</div>
<div class="line">[Tuesday 02 November 2010] [08:45:57] &lt;sustrik&gt;       that&#8217;s what i&#8217;ve proposed</div>
<div class="line">[Tuesday 02 November 2010] [08:46:13] &lt;DerGuteMoritz&gt; is the Ruby green thread blocking discussion from earlier still current?</div>
<div class="line">[Tuesday 02 November 2010] [08:46:20] &lt;sustrik&gt;       looks like solaris has this limit of &#8220;at most OPEN_MAX&#8221;</div>
<div class="line">[Tuesday 02 November 2010] [08:46:29] &lt;sustrik&gt;       hp-ux doesn&#8217;t seem to have the limit</div>
<div class="line">[Tuesday 02 November 2010] [08:46:39] &lt;sustrik&gt;       anyway, i&#8217;ll ask brett to test it</div>
<div class="line">[Tuesday 02 November 2010] [08:47:03] &lt;sustrik&gt;       DerGuteMoritz: yes, nothing have changed in the meantime :)</div>
<div class="line">[Tuesday 02 November 2010] [08:47:03] &lt;mato&gt;  ah, right, you&#8217;re saying that HP-UX has no limit</div>
<div class="line">[Tuesday 02 November 2010] [08:47:05] &lt;mato&gt;  that&#8217;s possiblew</div>
<div class="line">[Tuesday 02 November 2010] [08:48:12] &lt;mato&gt;  bah, I can&#8217;t seem to find a copy of the /dev/poll (poll(7d)) manpage for HP-UX on the net anywhere</div>
<div class="line">[Tuesday 02 November 2010] [08:48:17] &lt;mato&gt;  sustrik: anyhow, check with brett</div>
<div class="line">[Tuesday 02 November 2010] [08:48:23] &lt;mato&gt;  sustrik: and/or get him to ask their devs</div>
<div class="line">[Tuesday 02 November 2010] [08:51:18] &lt;DerGuteMoritz&gt; I don&#8217;t know what Ruby provides something like that but Chicken&#8217;s green thread scheduler provides a hook to wait for i/o on a file descriptor without blocking other threads. I use it successfully with ZMQ_FD</div>
<div class="line">[Tuesday 02 November 2010] [08:51:34] &lt;DerGuteMoritz&gt; works with 2.1 only then, of course</div>
<div class="line">[Tuesday 02 November 2010] [08:52:12] &lt;sustrik&gt;       DerGuteMoritz: maybe Ruby can do the same thing</div>
<div class="line">[Tuesday 02 November 2010] [08:52:21] &lt;DerGuteMoritz&gt; mayhaps!</div>
<div class="line">[Tuesday 02 November 2010] [08:52:39] &lt;sustrik&gt;       it&#8217;s up to Ruby binding maintainers though</div>
<div class="line">[Tuesday 02 November 2010] [08:52:45]          * sustrik has no idea how ruby works</div>
<div class="line">[Tuesday 02 November 2010] [08:53:00] &lt;mato&gt;  sustrik: ok, so, event.set() and event.reset() should never return EINTR, right?</div>
<div class="line">[Tuesday 02 November 2010] [08:53:06] &lt;mato&gt;  sustrik: only event.wait() should do so</div>
<div class="line">[Tuesday 02 November 2010] [08:53:20] &lt;DerGuteMoritz&gt; yeah :-)</div>
<div class="line">[Tuesday 02 November 2010] [08:53:28] &lt;sustrik&gt;       mato: it can be that way</div>
<div class="line">[Tuesday 02 November 2010] [08:53:29] &lt;DerGuteMoritz&gt; just thought I&#8217;d mention it :-)</div>
<div class="line">[Tuesday 02 November 2010] [08:53:31] &lt;mato&gt;  sustrik: the other two should just silently restart the call since it <em>must</em> succeed</div>
<div class="line">[Tuesday 02 November 2010] [08:53:46] &lt;sustrik&gt;       the whole EINTR thing is a heurstic anyway</div>
<div class="line">[Tuesday 02 November 2010] [08:53:54] &lt;mato&gt;  ok, i&#8217;ll go with this approach for now</div>
<div class="line">[Tuesday 02 November 2010] [08:53:57] &lt;sustrik&gt;       ok</div>
<div class="line">[Tuesday 02 November 2010] [08:53:58] &lt;mato&gt;  and we&#8217;ll see what happens</div>
<div class="line">[Tuesday 02 November 2010] [09:07:16] &lt;mikko&gt; mato: <a class="reference external" href="http://webcache.googleusercontent.com/search?q=cache:XwnPSWMLfJkJ:docs.hp.com/en/B3921-90010/poll.7.html+hp-ux+dev/poll&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;client=firefox-a">http://webcache.googleusercontent.com/search?q=cache:XwnPSWMLfJkJ:docs.hp.com/en/B3921-90010/poll.7.html+hp-ux+dev/poll&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;client=firefox-a</a></div>
<div class="line">[Tuesday 02 November 2010] [09:07:20] &lt;mikko&gt; is that the one?</div>
<div class="line">[Tuesday 02 November 2010] [09:10:02] &lt;mikko&gt; ah</div>
<div class="line">[Tuesday 02 November 2010] [09:10:03] &lt;mikko&gt; <a class="reference external" href="http://h20000.www2.hp.com/bc/docs/support/SupportManual/c02263385/c02263385.pdf">http://h20000.www2.hp.com/bc/docs/support/SupportManual/c02263385/c02263385.pdf</a></div>
<div class="line">[Tuesday 02 November 2010] [09:10:16] &lt;mikko&gt; poll(7) as pdf</div>
<div class="line">[Tuesday 02 November 2010] [09:11:42] &lt;mato&gt;  mikko: hey, thanks! yeah, that&#8217;s it</div>
<div class="line">[Tuesday 02 November 2010] [09:12:27] &lt;mikko&gt; mato: <a class="reference external" href="http://h20000.www2.hp.com/bizsupport/TechSupport/CoreRedirect.jsp?redirectReason=DocIndexPDF&amp;prodSeriesId=4256918&amp;targetPage=http%3A%2F%2Fbizsupport2.austin.hp.com%2Fbc%2Fdocs%2Fsupport%2FSupportManual%2Fc02456334%2Fc02456334.pdf">http://h20000.www2.hp.com/bizsupport/TechSupport/CoreRedirect.jsp?redirectReason=DocIndexPDF&amp;prodSeriesId=4256918&amp;targetPage=http%3A%2F%2Fbizsupport2.austin.hp.com%2Fbc%2Fdocs%2Fsupport%2FSupportManual%2Fc02456334%2Fc02456334.pdf</a></div>
<div class="line">[Tuesday 02 November 2010] [09:13:17] &lt;mato&gt;  sustrik: over and above that of EMFILE/ENFILE obviously</div>
<div class="line">[Tuesday 02 November 2010] [09:21:42] &lt;sustrik&gt;       mato, mikko: ack</div>
<div class="line">[Tuesday 02 November 2010] [09:29:23] &lt;CIA-20&gt;        zeromq2: 03Martin Sustrik 07master * rd4a4106 10/ src/devpoll.cpp :</div>
<div class="line">[Tuesday 02 November 2010] [09:29:23] &lt;CIA-20&gt;        zeromq2: HP-UX has no OPEN_MAX defined</div>
<div class="line">[Tuesday 02 November 2010] [09:29:23] &lt;CIA-20&gt;        zeromq2: devpoll_t used this constant to determine how many events to</div>
<div class="line">[Tuesday 02 November 2010] [09:29:23] &lt;CIA-20&gt;        zeromq2: retrieve from the poller in one go. The implementation was</div>
<div class="line">[Tuesday 02 November 2010] [09:29:23] &lt;CIA-20&gt;        zeromq2: changed not to depend on this constant.</div>
<div class="line">[Tuesday 02 November 2010] [09:29:23] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/bYvpwB">http://bit.ly/bYvpwB</a></div>
<div class="line">[Tuesday 02 November 2010] [09:50:21] &lt;mato&gt;  sustrik: ok, so i found that problem, just a simple mistake in my code</div>
<div class="line">[Tuesday 02 November 2010] [09:50:27] &lt;mato&gt;  sustrik: one code path was reading twice...</div>
<div class="line">[Tuesday 02 November 2010] [09:50:36] &lt;mato&gt;  sustrik: now i have a different problem, i think</div>
<div class="line">[Tuesday 02 November 2010] [09:50:44] &lt;mato&gt;  sustrik: which has to do with the event semantics</div>
<div class="line">[Tuesday 02 November 2010] [09:51:35] &lt;mato&gt;  sustrik: what i see now is a hang on context termination...</div>
<div class="line">[Tuesday 02 November 2010] [09:54:00] &lt;sustrik&gt;       re</div>
<div class="line">[Tuesday 02 November 2010] [09:54:19] &lt;sustrik&gt;       what specifically?</div>
<div class="line">[Tuesday 02 November 2010] [09:57:54] &lt;mato&gt;  sustrik: i think what i&#8217;m seeing is that the i/o threads are not getting the event signaled when it should be</div>
<div class="line">[Tuesday 02 November 2010] [09:57:59] &lt;mato&gt;  sustrik: ... this is not clear ...</div>
<div class="line">[Tuesday 02 November 2010] [09:58:29] &lt;mato&gt;  sustrik: if the event is signaled only when ypipe_t flush() returns false, won&#8217;t that result in missed events?</div>
<div class="line">[Tuesday 02 November 2010] [09:58:47] &lt;mato&gt;  sustrik: it&#8217;s not clear to me how ypipe_t &#8220;knows&#8221; that the reader is asleep/polling</div>
<div class="line">[Tuesday 02 November 2010] [10:02:02] &lt;sustrik&gt;       when reader tries to get a command</div>
<div class="line">[Tuesday 02 November 2010] [10:02:10] &lt;sustrik&gt;       and there is no command available</div>
<div class="line">[Tuesday 02 November 2010] [10:02:21] &lt;sustrik&gt;       an atomic variable is set to null</div>
<div class="line">[Tuesday 02 November 2010] [10:02:54] &lt;sustrik&gt;       when writer writes a command and finds out that the atomic variable is set to null</div>
<div class="line">[Tuesday 02 November 2010] [10:03:02] &lt;sustrik&gt;       it notifies the writer by returning false</div>
<div class="line">[Tuesday 02 November 2010] [10:08:06] &lt;mato&gt;  sustrik: hmm, might the problem be because there is a case where the caller of the signaller does not process <em>all</em> commands?</div>
<div class="line">[Tuesday 02 November 2010] [10:09:28] &lt;mato&gt;  sustrik: my trivial debugging seems to show that the signaler is written to, but it doesn&#8217;t set the event, presumably because the writer thinks the reader is still alive</div>
<div class="line">[Tuesday 02 November 2010] [10:09:38] &lt;mato&gt;  sustrik: which could happen if the reader does not read <em>all</em> commands</div>
<div class="line">[Tuesday 02 November 2010] [10:09:42] &lt;mato&gt;  sustrik: correct?</div>
<div class="line">[Tuesday 02 November 2010] [10:13:15] &lt;sustrik&gt;       yes</div>
<div class="line">[Tuesday 02 November 2010] [10:13:29]          * mato is trying to find a case like that in the code, but i can&#8217;t</div>
<div class="line">[Tuesday 02 November 2010] [10:13:42] &lt;mato&gt;  but i&#8217;m probably missing something</div>
<div class="line">[Tuesday 02 November 2010] [10:28:29] &lt;mato&gt;  sustrik: ok, event.set() in the signaler constructor is a neat trick</div>
<div class="line">[Tuesday 02 November 2010] [10:28:34] &lt;mato&gt;  sustrik: things almost work</div>
<div class="line">[Tuesday 02 November 2010] [10:28:44] &lt;sustrik&gt;       almost?</div>
<div class="line">[Tuesday 02 November 2010] [10:28:54] &lt;mato&gt;  test_shutdown_stress fails rather interestingly</div>
<div class="line">[Tuesday 02 November 2010] [10:29:15] &lt;mato&gt;  due to ~mutex_t() from ~signaler_t() trying to destroy a mutex that is locked... :-)</div>
<div class="line">[Tuesday 02 November 2010] [10:29:26] &lt;mato&gt;  so someone is still trying to send to that signaler...</div>
<div class="line">[Tuesday 02 November 2010] [10:29:40] &lt;mato&gt;  this might be related to that other problem reported on the ML</div>
<div class="line">[Tuesday 02 November 2010] [10:30:41] &lt;sustrik&gt;       interesting</div>
<div class="line">[Tuesday 02 November 2010] [10:30:56] &lt;sustrik&gt;       can you push to the github</div>
<div class="line">[Tuesday 02 November 2010] [10:31:02] &lt;sustrik&gt;       so that i can check that</div>
<div class="line">[Tuesday 02 November 2010] [10:31:04] &lt;sustrik&gt;       ?</div>
<div class="line">[Tuesday 02 November 2010] [10:31:25] &lt;mato&gt;  guess so, d&#8217;you want it with my debug code which prints various bits about what the signaler is doing?</div>
<div class="line">[Tuesday 02 November 2010] [10:32:16] &lt;mato&gt;  sustrik: ?</div>
<div class="line">[Tuesday 02 November 2010] [10:33:08] &lt;sustrik&gt;       probably not</div>
<div class="line">[Tuesday 02 November 2010] [10:33:21] &lt;mato&gt;  hmm, ok give me a moment to stash it away</div>
<div class="line">[Tuesday 02 November 2010] [10:33:21] &lt;sustrik&gt;       with shutdown stress that it would be a lot of printfs</div>
<div class="line">[Tuesday 02 November 2010] [10:33:40] &lt;mato&gt;  doesn&#8217;t really matter, the offending sequence aborts anyway</div>
<div class="line">[Tuesday 02 November 2010] [10:33:43] &lt;mato&gt;  but ok, i&#8217;ll take it out</div>
<div class="line">[Tuesday 02 November 2010] [10:42:15] &lt;CIA-20&gt;        zeromq2: 03Martin Lucina 07wip-signaler * rabf6d73 10/ (4 files):</div>
<div class="line">[Tuesday 02 November 2010] [10:42:15] &lt;CIA-20&gt;        zeromq2: Move signaled into event_t as atomic counter</div>
<div class="line">[Tuesday 02 November 2010] [10:42:15] &lt;CIA-20&gt;        zeromq2: Moved signaled from signaler_t into event_t and made event_t::set() and</div>
<div class="line">[Tuesday 02 November 2010] [10:42:15] &lt;CIA-20&gt;        zeromq2: event_t::reset() methods idempotent.</div>
<div class="line">[Tuesday 02 November 2010] [10:42:15] &lt;CIA-20&gt;        zeromq2: Made event_t::wait() handle EINTR, except for eventfd implementation (for now).</div>
<div class="line">[Tuesday 02 November 2010] [10:42:16] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/bNpvjo">http://bit.ly/bNpvjo</a></div>
<div class="line">[Tuesday 02 November 2010] [10:42:16] &lt;CIA-20&gt;        zeromq2: 03Martin Lucina 07wip-signaler * r3356bd2 10/ (4 files):</div>
<div class="line">[Tuesday 02 November 2010] [10:42:17] &lt;CIA-20&gt;        zeromq2: WIP: Make signaler use ypipe_t for queueing</div>
<div class="line">[Tuesday 02 November 2010] [10:42:17] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/8ZMJLw">http://bit.ly/8ZMJLw</a></div>
<div class="line">[Tuesday 02 November 2010] [10:42:36] &lt;mato&gt;  sustrik: ok, try it out</div>
<div class="line">[Tuesday 02 November 2010] [10:42:41] &lt;sustrik&gt;       thx</div>
<div class="line">[Tuesday 02 November 2010] [10:42:42] &lt;mato&gt;  sustrik: there are actually two problems</div>
<div class="line">[Tuesday 02 November 2010] [10:43:03] &lt;mato&gt;  sustrik: you will get asserts from the other tests on queue.read(), so it looks like i&#8217;m losing events somewhere, will check that</div>
<div class="line">[Tuesday 02 November 2010] [10:43:13] &lt;mato&gt;  sustrik: suggest you just look at what test_shutdown_stress is doing</div>
<div class="line">[Tuesday 02 November 2010] [10:43:33] &lt;mato&gt;  sustrik: oh, and i&#8217;ve not tested the eventfd implementation, so it might not work at all (it definitely does not process EINTR)</div>
<div class="line">[Tuesday 02 November 2010] [10:43:46] &lt;mato&gt;  i&#8217;ll look at the problem with events getting lost</div>
<div class="line">[Tuesday 02 November 2010] [10:45:13] &lt;sustrik&gt;       ok</div>
<div class="line">[Tuesday 02 November 2010] [10:51:57] &lt;mato&gt;  sustrik: ok, my fault with the event problem; atomic_counter is not ideal since I actually need atomic <em>set</em></div>
<div class="line">[Tuesday 02 November 2010] [10:52:18] &lt;mato&gt;  sustrik: sorry, i mean with the problem with losing events</div>
<div class="line">[Tuesday 02 November 2010] [10:52:22] &lt;sustrik&gt;       ah</div>
<div class="line">[Tuesday 02 November 2010] [10:52:45] &lt;mato&gt;  i&#8217;m using add and sub, i thought they can&#8217;t happen multiple times, but it seems they can</div>
<div class="line">[Tuesday 02 November 2010] [10:52:50] &lt;mato&gt;  so i really need set</div>
<div class="line">[Tuesday 02 November 2010] [10:53:07] &lt;sustrik&gt;       there&#8217;s some old code using lock;xchg</div>
<div class="line">[Tuesday 02 November 2010] [10:53:11] &lt;sustrik&gt;       let me find it</div>
<div class="line">[Tuesday 02 November 2010] [10:53:58] &lt;mato&gt;  sustrik: i&#8217;ll make it work, don&#8217;t worry about it</div>
<div class="line">[Tuesday 02 November 2010] [10:54:04] &lt;sustrik&gt;       ok</div>
<div class="line">[Tuesday 02 November 2010] [10:54:07] &lt;mato&gt;  sustrik: i can just make the set() method of atomic_counter work</div>
<div class="line">[Tuesday 02 November 2010] [10:54:12] &lt;mato&gt;  sustrik: work atomically that is</div>
<div class="line">[Tuesday 02 November 2010] [11:09:37] &lt;travlr&gt;        sustrik: hey martin, just noticed your message, something i can help you with?</div>
<div class="line">[Tuesday 02 November 2010] [11:10:04] &lt;sustrik&gt;       i&#8217;ve noticed that your online documentation is not linked from the website</div>
<div class="line">[Tuesday 02 November 2010] [11:10:06] &lt;sustrik&gt;       or is it?</div>
<div class="line">[Tuesday 02 November 2010] [11:10:42] &lt;travlr&gt;        i think its on the &#8220;source&#8221; page at the end of the intro paragraph</div>
<div class="line">[Tuesday 02 November 2010] [11:11:28] &lt;sustrik&gt;       ah, ok, i see</div>
<div class="line">[Tuesday 02 November 2010] [11:11:45] &lt;sustrik&gt;       anyway, i&#8217;m wiriting an architecture overview, so i&#8217;ll link it from there as well</div>
<div class="line">[Tuesday 02 November 2010] [11:12:59] &lt;travlr&gt;        cool, if you want to eventually convert the sources to using doxygen style comments let me know.</div>
<div class="line">[Tuesday 02 November 2010] [11:13:29] &lt;mato&gt;  sustrik: um, the eventfd code is completely bogus, sorry</div>
<div class="line">[Tuesday 02 November 2010] [11:13:47] &lt;mato&gt;  sustrik: i&#8217;ll fix it later, am trying to figure out what i&#8217;m doing wrong right now</div>
<div class="line">[Tuesday 02 November 2010] [11:14:08] &lt;sustrik&gt;       ok</div>
<div class="line">[Tuesday 02 November 2010] [12:10:50] &lt;sustrik&gt;       mato: still there?</div>
<div class="line">[Tuesday 02 November 2010] [12:11:21] &lt;sustrik&gt;       i think i&#8217;ve found the problem with shutdown stress test</div>
<div class="line">[Tuesday 02 November 2010] [12:11:29] &lt;mato&gt;  sustrik: yes, i&#8217;m fighting with the event stuff</div>
<div class="line">[Tuesday 02 November 2010] [12:11:45] &lt;mato&gt;  sustrik: it&#8217;s complete black magic, i don&#8217;t understand what i&#8217;m doing wrong with the synchronization</div>
<div class="line">[Tuesday 02 November 2010] [12:12:15] &lt;sustrik&gt;       shutdown stress test -&gt;</div>
<div class="line">[Tuesday 02 November 2010] [12:12:26] &lt;sustrik&gt;       the sender sends a command</div>
<div class="line">[Tuesday 02 November 2010] [12:12:50] &lt;sustrik&gt;       before it gets chance to unlock the mutex</div>
<div class="line">[Tuesday 02 November 2010] [12:13:00] &lt;sustrik&gt;       the receiving thread reads the command</div>
<div class="line">[Tuesday 02 November 2010] [12:13:13] &lt;sustrik&gt;       processing the command causes destruction of the object</div>
<div class="line">[Tuesday 02 November 2010] [12:13:18] &lt;sustrik&gt;       and here we are</div>
<div class="line">[Tuesday 02 November 2010] [12:13:21] &lt;sustrik&gt;       EBUSY</div>
<div class="line">[Tuesday 02 November 2010] [12:13:25] &lt;mato&gt;  right, that&#8217;d make sense...</div>
<div class="line">[Tuesday 02 November 2010] [12:14:00] &lt;sustrik&gt;       i&#8217;ve added sync.lock(); sync.unlock(); into the desctructor of signaler_t</div>
<div class="line">[Tuesday 02 November 2010] [12:14:11] &lt;sustrik&gt;       so that it waits till the  mutex is released</div>
<div class="line">[Tuesday 02 November 2010] [12:14:16] &lt;sustrik&gt;       and it seems to work now</div>
<div class="line">[Tuesday 02 November 2010] [12:14:27] &lt;mato&gt;  what if a writer locks it again in the mean time?</div>
<div class="line">[Tuesday 02 November 2010] [12:14:44] &lt;mato&gt;  i.e. after the sync.unlock() in the destructor, but before the actual destruction?</div>
<div class="line">[Tuesday 02 November 2010] [12:17:39] &lt;sustrik&gt;       there should be no more commands for an object after it shuts down</div>
<div class="line">[Tuesday 02 November 2010] [12:17:46] &lt;sustrik&gt;       that&#8217;s why it counts term_acks</div>
<div class="line">[Tuesday 02 November 2010] [12:18:11] &lt;mato&gt;  ok</div>
<div class="line">[Tuesday 02 November 2010] [12:18:18] &lt;sustrik&gt;       will you add the code?</div>
<div class="line">[Tuesday 02 November 2010] [12:18:21] &lt;mato&gt;  yes</div>
<div class="line">[Tuesday 02 November 2010] [12:18:27] &lt;sustrik&gt;       ok</div>
<div class="line">[Tuesday 02 November 2010] [12:18:27] &lt;mato&gt;  i have a bigger problem</div>
<div class="line">[Tuesday 02 November 2010] [12:18:34]          * sustrik is listening</div>
<div class="line">[Tuesday 02 November 2010] [12:18:44] &lt;mato&gt;  which is that there&#8217;s something wrong with how i&#8217;m synchronizing the signaled variable</div>
<div class="line">[Tuesday 02 November 2010] [12:18:52] &lt;mato&gt;  and i don&#8217;t understand what it is</div>
<div class="line">[Tuesday 02 November 2010] [12:19:03] &lt;mato&gt;  i&#8217;ve changed the code to use CAS</div>
<div class="line">[Tuesday 02 November 2010] [12:19:27] &lt;mato&gt;  but i still get stuff like coming out of wait() it fails with an assertion that signaled is zero</div>
<div class="line">[Tuesday 02 November 2010] [12:19:31] &lt;mato&gt;  where it should be one</div>
<div class="line">[Tuesday 02 November 2010] [12:19:43] &lt;sustrik&gt;       a mutli core box?</div>
<div class="line">[Tuesday 02 November 2010] [12:19:46] &lt;mato&gt;  yes</div>
<div class="line">[Tuesday 02 November 2010] [12:20:16] &lt;sustrik&gt;       orgering of CAS and send/recv is ok?</div>
<div class="line">[Tuesday 02 November 2010] [12:20:26] &lt;sustrik&gt;       ordering*</div>
<div class="line">[Tuesday 02 November 2010] [12:20:27] &lt;mato&gt;  CAS is done first</div>
<div class="line">[Tuesday 02 November 2010] [12:20:34] &lt;sustrik&gt;       in both cases</div>
<div class="line">[Tuesday 02 November 2010] [12:20:35] &lt;sustrik&gt;       ?</div>
<div class="line">[Tuesday 02 November 2010] [12:20:38] &lt;mato&gt;  yes</div>
<div class="line">[Tuesday 02 November 2010] [12:20:43] &lt;sustrik&gt;       wait a sec</div>
<div class="line">[Tuesday 02 November 2010] [12:20:46]          * sustrik is thinking</div>
<div class="line">[Tuesday 02 November 2010] [12:21:27] &lt;mato&gt;  hmm, i just realised i had extra left-over code in there</div>
<div class="line">[Tuesday 02 November 2010] [12:21:51] &lt;mato&gt;  but it still doesn&#8217;t work</div>
<div class="line">[Tuesday 02 November 2010] [12:22:19] &lt;mato&gt;  sustrik: in event.set() i have</div>
<div class="line">[Tuesday 02 November 2010] [12:22:24] &lt;mato&gt;      if (signaled.cas (0, 1) == 1)</div>
<div class="line">[Tuesday 02 November 2010] [12:22:24] &lt;mato&gt;          return;</div>
<div class="line">[Tuesday 02 November 2010] [12:22:31] &lt;mato&gt;  and then send</div>
<div class="line">[Tuesday 02 November 2010] [12:22:51] &lt;mato&gt;  after the send i assert that it&#8217;s still 1</div>
<div class="line">[Tuesday 02 November 2010] [12:23:06] &lt;mato&gt;  which fails, presumably because the reader has since re-set it</div>
<div class="line">[Tuesday 02 November 2010] [12:23:43] &lt;sustrik&gt;       that&#8217;s ok, no?</div>
<div class="line">[Tuesday 02 November 2010] [12:23:51] &lt;mato&gt;  that&#8217;s fine</div>
<div class="line">[Tuesday 02 November 2010] [12:23:55] &lt;mato&gt;  in fact, i just removed that assert</div>
<div class="line">[Tuesday 02 November 2010] [12:24:02] &lt;mato&gt;  but the weird one is</div>
<div class="line">[Tuesday 02 November 2010] [12:24:13] &lt;mato&gt;  after wait() i get signaled = 0</div>
<div class="line">[Tuesday 02 November 2010] [12:24:30] &lt;sustrik&gt;       how does the wait code look like?</div>
<div class="line">[Tuesday 02 November 2010] [12:24:38] &lt;mato&gt;  assert signaled == 0</div>
<div class="line">[Tuesday 02 November 2010] [12:24:43] &lt;mato&gt;  recv</div>
<div class="line">[Tuesday 02 November 2010] [12:24:48] &lt;mato&gt;  return -1 if EINTR</div>
<div class="line">[Tuesday 02 November 2010] [12:24:52] &lt;mato&gt;  assert signaled == 1</div>
<div class="line">[Tuesday 02 November 2010] [12:24:56] &lt;mato&gt;  that&#8217;s all</div>
<div class="line">[Tuesday 02 November 2010] [12:25:54] &lt;mato&gt;  it&#8217;s obviously a synchronization problem since it doesn&#8217;t always happen at the same &#8220;place&#8221; e.g. when running test_reqrep_tcp</div>
<div class="line">[Tuesday 02 November 2010] [12:26:14] &lt;sustrik&gt;       the first assert is bogus</div>
<div class="line">[Tuesday 02 November 2010] [12:26:22] &lt;mato&gt;  yes, i took it out</div>
<div class="line">[Tuesday 02 November 2010] [12:26:32] &lt;sustrik&gt;       the second one fails?</div>
<div class="line">[Tuesday 02 November 2010] [12:26:44] &lt;mato&gt;  sorry, which first assert</div>
<div class="line">[Tuesday 02 November 2010] [12:26:52] &lt;sustrik&gt;       assert signaled == 0</div>
<div class="line">[Tuesday 02 November 2010] [12:26:53] &lt;mato&gt;  you mean signaled == 0 at start of wait?</div>
<div class="line">[Tuesday 02 November 2010] [12:26:56] &lt;sustrik&gt;       yes</div>
<div class="line">[Tuesday 02 November 2010] [12:26:57] &lt;mato&gt;  ah, right, i can take that out</div>
<div class="line">[Tuesday 02 November 2010] [12:27:12] &lt;mato&gt;  but it&#8217;s the 2nd one that&#8217;s failing</div>
<div class="line">[Tuesday 02 November 2010] [12:28:26] &lt;sustrik&gt;       signaled ihow do you test the signaled variable?</div>
<div class="line">[Tuesday 02 November 2010] [12:28:30] &lt;sustrik&gt;       exactly?</div>
<div class="line">[Tuesday 02 November 2010] [12:28:40] &lt;mato&gt;  just a normal get()</div>
<div class="line">[Tuesday 02 November 2010] [12:28:45] &lt;mato&gt;  shouldn&#8217;t matter on x86</div>
<div class="line">[Tuesday 02 November 2010] [12:28:56] &lt;sustrik&gt;       right</div>
<div class="line">[Tuesday 02 November 2010] [12:31:47] &lt;sustrik&gt;       it looks are there are some leftover bytes in the socketpair</div>
<div class="line">[Tuesday 02 November 2010] [12:31:59] &lt;mato&gt;  why would that be?</div>
<div class="line">[Tuesday 02 November 2010] [12:31:59] &lt;sustrik&gt;       i cannot think of any other reason why this would happen</div>
<div class="line">[Tuesday 02 November 2010] [12:32:09] &lt;sustrik&gt;       dunno</div>
<div class="line">[Tuesday 02 November 2010] [12:32:25] &lt;mato&gt;  yes, but why would signaled=0 indicate leftover bytes in the socketpair?</div>
<div class="line">[Tuesday 02 November 2010] [12:32:29] &lt;sustrik&gt;       can you psuh the code, so that i can have a look at it?</div>
<div class="line">[Tuesday 02 November 2010] [12:33:06] &lt;sustrik&gt;       because wait will return even though the sender haven&#8217;t sent anything</div>
<div class="line">[Tuesday 02 November 2010] [12:33:26] &lt;sustrik&gt;       and thus it haven&#8217;t set the flag to 1</div>
<div class="line">[Tuesday 02 November 2010] [12:34:02] &lt;sustrik&gt;       so, imo, it looks like the sender is sending signal to receiver twice</div>
<div class="line">[Tuesday 02 November 2010] [12:34:11] &lt;sustrik&gt;       even though receiver was stuck only once</div>
<div class="line">[Tuesday 02 November 2010] [12:34:46] &lt;mato&gt;  sustrik: sure, but the cas() in event.set() should protect it from running more than once...</div>
<div class="line">[Tuesday 02 November 2010] [12:35:05] &lt;sustrik&gt;       it&#8217;s hard to reason about without seeing the code</div>
<div class="line">[Tuesday 02 November 2010] [12:36:08] &lt;sustrik&gt;       i think i know what the problem is</div>
<div class="line">[Tuesday 02 November 2010] [12:36:12] &lt;mato&gt;  ?</div>
<div class="line">[Tuesday 02 November 2010] [12:36:37] &lt;sustrik&gt;       the reader doesn&#8217;t do read&amp;reset as an atomic unit locked by mutex</div>
<div class="line">[Tuesday 02 November 2010] [12:36:53] &lt;sustrik&gt;       so the cas on the sender side can happen between the two</div>
<div class="line">[Tuesday 02 November 2010] [12:37:14] &lt;sustrik&gt;        maybe</div>
<div class="line">[Tuesday 02 November 2010] [12:37:18] &lt;sustrik&gt;       i need to see the code</div>
<div class="line">[Tuesday 02 November 2010] [12:37:33] &lt;mato&gt;  i&#8217;ll email it to you, i don&#8217;t want to pollute the main git with WIP stuff like this</div>
<div class="line">[Tuesday 02 November 2010] [12:37:38] &lt;sustrik&gt;       ok, just send it</div>
<div class="line">[Tuesday 02 November 2010] [12:39:11] &lt;mato&gt;  sent</div>
<div class="line">[Tuesday 02 November 2010] [12:39:34] &lt;sustrik&gt;       thx</div>
<div class="line">[Tuesday 02 November 2010] [12:47:54] &lt;jdroid-&gt;       this might be naive... but what is the zeromq response to someone who says, &#8220;I need a broker?&#8221;</div>
<div class="line">[Tuesday 02 November 2010] [12:48:19] &lt;sustrik&gt;       use a device</div>
<div class="line">[Tuesday 02 November 2010] [12:48:47] &lt;sustrik&gt;       mato: i think what you need to do is this:</div>
<div class="line">[Tuesday 02 November 2010] [12:48:52] &lt;jdroid-&gt;       mind elabroating? does zmq recommend certain devices? how do they work?</div>
<div class="line">[Tuesday 02 November 2010] [12:49:23] &lt;sustrik&gt;       move the CAS in reset <em>after</em> the recv</div>
<div class="line">[Tuesday 02 November 2010] [12:50:19] &lt;mikko&gt; jdroid-: <a class="reference external" href="http://zguide.zeromq.org/chapter:all#toc29">http://zguide.zeromq.org/chapter:all#toc29</a></div>
<div class="line">[Tuesday 02 November 2010] [12:50:20] &lt;sustrik&gt;       jdroid-: there are several devices shipped with 0mq itself (queue, forwarder, streamer)</div>
<div class="line">[Tuesday 02 November 2010] [12:50:35] &lt;sustrik&gt;       but you can build new ones by hand, it&#8217;s easy</div>
<div class="line">[Tuesday 02 November 2010] [12:50:37] &lt;jdroid-&gt;       ohh.. weird. i thought you meant hardware</div>
<div class="line">[Tuesday 02 November 2010] [12:51:12] &lt;mato&gt;  sustrik: hmm, ok, but at the same time reset() must be idempotent</div>
<div class="line">[Tuesday 02 November 2010] [12:51:18] &lt;sustrik&gt;       does it?</div>
<div class="line">[Tuesday 02 November 2010] [12:51:31] &lt;mato&gt;  sustrik: so we should not do the recv() if signaled is 1...</div>
<div class="line">[Tuesday 02 November 2010] [12:51:34] &lt;jdroid-&gt;       sometimes people suggest that zeromq isn&#8217;t actually a queue. eo these devices make that so then?</div>
<div class="line">[Tuesday 02 November 2010] [12:52:12] &lt;sustrik&gt;       mato: you mean 0?</div>
<div class="line">[Tuesday 02 November 2010] [12:52:15] &lt;mato&gt;  sustrik: yes</div>
<div class="line">[Tuesday 02 November 2010] [12:52:36] &lt;sustrik&gt;       that should be guaranteed by semantics of ypipe i would say</div>
<div class="line">[Tuesday 02 November 2010] [12:53:20] &lt;sustrik&gt;       jdroid-: it&#8217;s not a queue, it&#8217;s a toolkit to build queueing systems</div>
<div class="line">[Tuesday 02 November 2010] [12:53:57] &lt;mato&gt;  sustrik: no, that doesn&#8217;t help</div>
<div class="line">[Tuesday 02 November 2010] [12:54:06] &lt;mato&gt;  sustrik: the problem is more complex than that it seems</div>
<div class="line">[Tuesday 02 November 2010] [12:54:14] &lt;jdroid-&gt;       sustrik: i see. are there any projects that could help me understand what&#8217;s involved with building a queue in zmq?</div>
<div class="line">[Tuesday 02 November 2010] [12:54:43] &lt;sustrik&gt;       mato: what have you done?</div>
<div class="line">[Tuesday 02 November 2010] [12:54:49] &lt;mato&gt;  sustrik: moved the CAS</div>
<div class="line">[Tuesday 02 November 2010] [12:54:58] &lt;mato&gt;  sustrik: still fails on the assert coming out of wait()</div>
<div class="line">[Tuesday 02 November 2010] [12:55:09] &lt;sustrik&gt;       jdroid: read the guide, that&#8217;s the best way to understand how the whole thing works</div>
<div class="line">[Tuesday 02 November 2010] [12:55:24] &lt;sustrik&gt;       mato:  same assert?</div>
<div class="line">[Tuesday 02 November 2010] [12:55:30] &lt;mato&gt;  sustrik: yes</div>
<div class="line">[Tuesday 02 November 2010] [12:55:45] &lt;jdroid-&gt;       sustrik: fair.</div>
<div class="line">[Tuesday 02 November 2010] [12:58:35] &lt;sustrik&gt;       mato: bleh, we&#8217;ll need to use the mutex on recv side as well</div>
<div class="line">[Tuesday 02 November 2010] [12:58:57] &lt;sustrik&gt;       there&#8217;s no other way to make the socketpair and the flag behave as an atomic object</div>
<div class="line">[Tuesday 02 November 2010] [12:59:15] &lt;sustrik&gt;       so, try this:</div>
<div class="line">[Tuesday 02 November 2010] [12:59:20] &lt;sustrik&gt;       forget about atomic ops</div>
<div class="line">[Tuesday 02 November 2010] [12:59:30] &lt;sustrik&gt;       simply make signaled a bool</div>
<div class="line">[Tuesday 02 November 2010] [12:59:44] &lt;sustrik&gt;       and set/reset it from inside of the critical section</div>
<div class="line">[Tuesday 02 November 2010] [12:59:58] &lt;sustrik&gt;       the same one you use to send/recv on the sockepair</div>
<div class="line">[Tuesday 02 November 2010] [14:27:48] &lt;idefine&gt;       is there documentation for scaling to multiple machines?</div>
<div class="line">[Tuesday 02 November 2010] [14:35:56] &lt;cremes&gt;        idefine: not sure what you are asking for; have you looked at the &#8220;tcp&#8221; and &#8220;pgm&#8221; transports?</div>
<div class="line">[Tuesday 02 November 2010] [14:42:14] &lt;stephank&gt;      Bindings related question, because a couple of us node.js folks are working on this. We&#8217;re not really following the binding guidelines, because node.js&#8217; socket API isn&#8217;t traditional either. Multi-part messages were just implemented as <cite>sock.send(part1, part2);</cite> and I was wondering if we were missing important use-cases.</div>
<div class="line">[Tuesday 02 November 2010] [14:42:40] &lt;stephank&gt;      For example, would it make sense to do any significant (possibly async) work between submitting message parts, or the like?</div>
<div class="line">[Tuesday 02 November 2010] [14:43:38] &lt;stephank&gt;      Or is multi-part&#8217;s intention really only to submit logically separate parts to a REQ, like say HTTP headers and body separate?</div>
<div class="line">[Tuesday 02 November 2010] [14:52:31] &lt;cremes&gt;        stephank: i think there are probably a few cases where submitting message parts async would be useful</div>
<div class="line">[Tuesday 02 November 2010] [14:52:52] &lt;cremes&gt;        imagine a scenario where each part has different computational requirements, for example</div>
<div class="line">[Tuesday 02 November 2010] [14:53:19] &lt;cremes&gt;        that being said, i don&#8217;t think the message is transmitted until all parts are &#8220;sent&#8221; via the api</div>
<div class="line">[Tuesday 02 November 2010] [14:53:25] &lt;pieterh&gt;       stephank, multi-part&#8217;s intention is to provide an easy way to subframe a message</div>
<div class="line">[Tuesday 02 November 2010] [14:53:30] &lt;cremes&gt;        so from that perspective, you aren&#8217;t saving any time</div>
<div class="line">[Tuesday 02 November 2010] [14:53:35] &lt;pieterh&gt;       e.g. to create routing envelopes</div>
<div class="line">[Tuesday 02 November 2010] [14:53:41] &lt;pieterh&gt;       (see chapter 3 of the Guide)</div>
<div class="line">[Tuesday 02 November 2010] [14:53:53] &lt;pieterh&gt;       and to allow zero-copy on subframes, independently</div>
<div class="line">[Tuesday 02 November 2010] [14:54:08] &lt;pieterh&gt;       i.e. write a message envelope from one buffer and a message body from another, without copy</div>
<div class="line">[Tuesday 02 November 2010] [14:54:45] &lt;pieterh&gt;       there are no use cases I&#8217;ve seen where apps do real work in between sending or receiving message parts</div>
<div class="line">[Tuesday 02 November 2010] [14:55:35] &lt;pieterh&gt;       you cannot sensibly do any logic (loops, conditional) between parts of a single message</div>
<div class="line">[Tuesday 02 November 2010] [14:56:00] &lt;pieterh&gt;       maybe in some cases, e.g. using the contents of a header to know how many parts to read</div>
<div class="line">[Tuesday 02 November 2010] [14:56:05] &lt;pieterh&gt;       hth</div>
<div class="line">[Tuesday 02 November 2010] [14:56:50] &lt;stephank&gt;      Good points. So, would it make sense to then say, leave the queueing to the user?</div>
<div class="line">[Tuesday 02 November 2010] [14:57:16] &lt;pieterh&gt;       queuing of message parts?</div>
<div class="line">[Tuesday 02 November 2010] [14:57:30] &lt;pieterh&gt;       the best model I&#8217;ve found is (a) build message from parts (b) send it</div>
<div class="line">[Tuesday 02 November 2010] [14:57:44] &lt;pieterh&gt;       and (c) read all message parts into one structure</div>
<div class="line">[Tuesday 02 November 2010] [14:57:47] &lt;stephank&gt;      That&#8217;s essentially what MQ does while you are submitting, right?</div>
<div class="line">[Tuesday 02 November 2010] [14:57:54] &lt;pieterh&gt;       sure</div>
<div class="line">[Tuesday 02 November 2010] [14:58:13] &lt;pieterh&gt;       you cannot interleave message parts from different messages</div>
<div class="line">[Tuesday 02 November 2010] [14:58:49] &lt;pieterh&gt;       I&#8217;d suggest either keeping the semantics of &#8216;send part + flag to indicate final&#8217;</div>
<div class="line">[Tuesday 02 November 2010] [14:59:09] &lt;pieterh&gt;       or else providing a two step &#8216;construct multipart message&#8217; and &#8216;send message&#8217; semantic</div>
<div class="line">[Tuesday 02 November 2010] [14:59:44] &lt;pieterh&gt;       actually sock.send (part1, part2, part3) looks pretty decent</div>
<div class="line">[Tuesday 02 November 2010] [15:00:00] &lt;pieterh&gt;       but it&#8217;s not orthogonal with sock.recv</div>
<div class="line">[Tuesday 02 November 2010] [15:00:03] &lt;stephank&gt;      I think I might be missing something. The only thing I can think of that&#8217;s missing in an API that demands all parts in a single function call is that there&#8217;s no access to MQ&#8217;s queueing that&#8217;s happening in the background.</div>
<div class="line">[Tuesday 02 November 2010] [15:00:19] &lt;pieterh&gt;       &#8216;all parts</div>
<div class="line">[Tuesday 02 November 2010] [15:00:27] &lt;pieterh&gt;       &#8216;all parts&#8217; is an open ended list?</div>
<div class="line">[Tuesday 02 November 2010] [15:00:49] &lt;stephank&gt;      open ended?</div>
<div class="line">[Tuesday 02 November 2010] [15:01:05] &lt;pieterh&gt;       sorry, I&#8217;m not familiar with JS syntax here</div>
<div class="line">[Tuesday 02 November 2010] [15:01:13] &lt;pieterh&gt;       can you specify a variable number of arguments?</div>
<div class="line">[Tuesday 02 November 2010] [15:02:31] &lt;stephank&gt;      Yes, javascript is actually very loose when it comes to function arguments. Node.js is an entirely async environment, and the way it is implemented now is to send multi-part messages using &#8220;send(part1, part2, ...);&#8221; and receive using a handler that might look like &#8220;function(part1, part2, ...) { ... }&#8221;</div>
<div class="line">[Tuesday 02 November 2010] [15:03:03] &lt;pieterh&gt;       so send will work fine</div>
<div class="line">[Tuesday 02 November 2010] [15:03:14] &lt;pieterh&gt;       but recv will be difficult</div>
<div class="line">[Tuesday 02 November 2010] [15:03:24] &lt;stephank&gt;      But in JS, a function could potentially be defined as &#8220;function() { ... }&#8221;, but still access it&#8217;s arguments using a special &#8220;arguments&#8221; array. So even if the receiver does not know the number of parts ahead, it can still inspect them.</div>
<div class="line">[Tuesday 02 November 2010] [15:03:27] &lt;pieterh&gt;       since you do not know in advance how many parts you will get</div>
<div class="line">[Tuesday 02 November 2010] [15:03:45] &lt;pieterh&gt;       you really need to receive into a single structure</div>
<div class="line">[Tuesday 02 November 2010] [15:03:57] &lt;pieterh&gt;       an array of parts, for example</div>
<div class="line">[Tuesday 02 November 2010] [15:04:07] &lt;pieterh&gt;       and then you&#8217;d naturally send from the same structure</div>
<div class="line">[Tuesday 02 November 2010] [15:04:21] &lt;pieterh&gt;       so that you recv and send the same data types</div>
<div class="line">[Tuesday 02 November 2010] [15:04:30] &lt;stephank&gt;      Yes, that&#8217;s what&#8217;s happening in the current implementation. It simply builds a javascript array as it&#8217;s receiving parts, and only calls the handler at the very end.</div>
<div class="line">[Tuesday 02 November 2010] [15:05:02] &lt;pieterh&gt;       what&#8217;s the &#8216;handler&#8217; and is is &#8216;receiving&#8217; parts from the caller or the socket?</div>
<div class="line">[Tuesday 02 November 2010] [15:05:07] &lt;pieterh&gt;       unclear, sorry</div>
<div class="line">[Tuesday 02 November 2010] [15:06:01] &lt;stephank&gt;      No problem. :) The handler is the function that will be called from the event loop on the receiving end. Receiving parts was meant as receiving from a socket.</div>
<div class="line">[Tuesday 02 November 2010] [15:06:08] &lt;pieterh&gt;       ack</div>
<div class="line">[Tuesday 02 November 2010] [15:06:32] &lt;pieterh&gt;       so it passes an array to the handler</div>
<div class="line">[Tuesday 02 November 2010] [15:06:43] &lt;stephank&gt;      exactly. :)</div>
<div class="line">[Tuesday 02 November 2010] [15:06:48] &lt;pieterh&gt;       and the handler can send the same array back out to another socket</div>
<div class="line">[Tuesday 02 November 2010] [15:07:07] &lt;stephank&gt;      It can, yes</div>
<div class="line">[Tuesday 02 November 2010] [15:07:09] &lt;pieterh&gt;       try, for fun, implementing some of the examples in the guide,</div>
<div class="line">[Tuesday 02 November 2010] [15:07:21] &lt;pieterh&gt;       that will help you understand the semantics</div>
<div class="line">[Tuesday 02 November 2010] [15:07:32] &lt;stephank&gt;      That&#8217;s a good plan. :)</div>
<div class="line">[Tuesday 02 November 2010] [15:07:48] &lt;stephank&gt;      We actually lack a decent test suite atm. This is all early work.</div>
<div class="line">[Tuesday 02 November 2010] [15:08:01] &lt;stephank&gt;      (and it depends on unstable versions of both MQ and node.js)</div>
<div class="line">[Tuesday 02 November 2010] [15:08:03] &lt;pieterh&gt;       the examples form a decent test of the API syntax</div>
<div class="line">[Tuesday 02 November 2010] [15:08:29] &lt;pieterh&gt;       especially when you get to more sophisticated apps from ch2 and ch3</div>
<div class="line">[Tuesday 02 November 2010] [15:08:43] &lt;pieterh&gt;       even in C they need abstractions like the zmsg class</div>
<div class="line">[Tuesday 02 November 2010] [15:09:33] &lt;Guthur&gt;        are bindings generally avoiding providing high level abstractions of the C API?</div>
<div class="line">[Tuesday 02 November 2010] [15:09:42] &lt;stephank&gt;      I&#8217;ll have a closer look soon. Writing these bindings was actually my way of learning the API.</div>
<div class="line">[Tuesday 02 November 2010] [15:10:07] &lt;pieterh&gt;       Guthur, that&#8217;s up to binding authors... I suspect some of the high level abstractions will get reused</div>
<div class="line">[Tuesday 02 November 2010] [15:10:37] &lt;stephank&gt;      pieterh: Thanks for thinking a long. Much appreciated. :)</div>
<div class="line">[Tuesday 02 November 2010] [15:10:40] &lt;Guthur&gt;        ok, so there is some leeway for binding authors</div>
<div class="line">[Tuesday 02 November 2010] [15:10:48] &lt;stephank&gt;      and cremes ;)</div>
<div class="line">[Tuesday 02 November 2010] [15:10:59] &lt;pieterh&gt;       Guthur, yes, and they already do that, especially for send/recv which are very low level in C</div>
<div class="line">[Tuesday 02 November 2010] [15:11:02] &lt;pieterh&gt;       stephank, np</div>
<div class="line">[Tuesday 02 November 2010] [15:13:07] &lt;Guthur&gt;        pieterh, Ok, it&#8217;s just that I have adopted the C# binding and would like to provide a few higher level abstractions</div>
<div class="line">[Tuesday 02 November 2010] [15:27:29] &lt;pieterh&gt;       Guthur, I think it&#8217;s worth trying to make abstractions other people can/will reuse</div>
<div class="line">[Tuesday 02 November 2010] [15:27:44] &lt;pieterh&gt;       which means writing some analysis upfront and publishing that</div>
<div class="line">[Tuesday 02 November 2010] [15:28:23] &lt;pieterh&gt;       for example I&#8217;m interested in building up the abstraction layer in C, being ZFL</div>
<div class="line">[Tuesday 02 November 2010] [15:59:20] &lt;Guthur&gt;        pieterh, too be honest I thinking mostly of some accessors for sockopts</div>
<div class="line">[Tuesday 02 November 2010] [15:59:55] &lt;Guthur&gt;        After that I will do work through the examples more and see if anything else comes to me</div>
<div class="line">[Tuesday 02 November 2010] [16:17:08] &lt;pieterh&gt;       Guthur, sounds good</div>
<div class="line">[Tuesday 02 November 2010] [16:17:28] &lt;pieterh&gt;       I think the Java binding also does that</div>
<div class="line">[Tuesday 02 November 2010] [16:55:06] &lt;cremes&gt;        stephank: if you&#8217;re a node.js guy, you might want to check out zmqmachine (github) which is my 0mq Ruby reactor</div>
<div class="line">[Tuesday 02 November 2010] [16:55:28] &lt;cremes&gt;        stephank: i only mention it because i read long ago that node.js was influenced by eventmachine</div>
<div class="line">[Tuesday 02 November 2010] [17:38:58] &lt;idefine&gt;       j #jira</div>
<div class="line">[Tuesday 02 November 2010] [17:42:34] &lt;stephank&gt;      cremes: Oh, wouldn&#8217;t know, but sounds possible.</div>
<div class="line">[Tuesday 02 November 2010] [17:42:49] &lt;stephank&gt;      cremes: I&#8217;m looking at Req#send_messages, and I believe we&#8217;re on the same page there. :)</div>
<div class="line">[Tuesday 02 November 2010] [17:45:21] &lt;stephank&gt;      I&#8217;m wondering if it&#8217;s worthwhile to do, but it&#8217;d definitely be neater if we had a direct binding, and implemented all the js and node-js magic on top of that in js itself.</div>
<div class="line">[Tuesday 02 November 2010] [17:45:57] &lt;stephank&gt;      Right now, a lot of that magic is in C++, which may be cause of some mysterious stability issues</div>
<div class="line">[Tuesday 02 November 2010] [17:47:09] &lt;stephank&gt;      Probably is worthwhile :)</div>
<div class="line">[Tuesday 02 November 2010] [17:47:18] &lt;jhawk28&gt;       hello all</div>
<div class="line">[Tuesday 02 November 2010] [17:47:28] &lt;stephank&gt;      hi</div>
<div class="line">[Tuesday 02 November 2010] [17:56:24] &lt;Guthur&gt;        is there any clrzmq users around?</div>
<div class="line">[Tuesday 02 November 2010] [18:13:15] &lt;jhawk28&gt;       Guthur: sorry - mostly jave for me</div>
<div class="line">[Tuesday 02 November 2010] [18:22:10] &lt;Guthur&gt;        maybe the zmq mailing list to see if any users fall out of the wood work</div>
<div class="line">[Tuesday 02 November 2010] [18:23:08] &lt;Guthur&gt;        I&#8217;d like to make a raft of changes to the binding but would rather some feedback from users before committing them</div>
<div class="line">[Tuesday 02 November 2010] [18:23:34] &lt;Guthur&gt;        They are not backwards compatible which makes it more difficult</div>
<div class="line">[Tuesday 02 November 2010] [20:23:03] &lt;sustrik&gt;       Guthur: making backward incompatble changes is a guaranteed way to piss someone of</div>
<div class="line">[Tuesday 02 November 2010] [20:23:27] &lt;sustrik&gt;       either add new apis to the existing ones</div>
<div class="line">[Tuesday 02 November 2010] [20:23:50] &lt;sustrik&gt;       or create a new fork of the binding</div>
<div class="line">[Tuesday 02 November 2010] [20:24:43] &lt;Guthur&gt;        I was going to just place it on my fork</div>
<div class="line">[Tuesday 02 November 2010] [20:27:03] &lt;Guthur&gt;        I basically brought it more inline with what I feel is C# coding standard, ie. using namespace</div>
<div class="line">[Tuesday 02 November 2010] [20:28:00] &lt;Guthur&gt;        a small bug to iron out before I push though</div>
<div class="line">[Tuesday 02 November 2010] [20:35:27] &lt;Guthur&gt;        sustrik, For the identity option is it only going to be read by the app that created it?</div>
<div class="line">[Tuesday 02 November 2010] [20:35:45] &lt;Guthur&gt;        and there for to I only have to make sure I obey my own convention?</div>
<div class="line">[Tuesday 02 November 2010] [20:35:52] &lt;Guthur&gt;        therefore*</div>
<div class="line">[Tuesday 02 November 2010] [20:51:51] &lt;Guthur&gt;        sustrik, Would the zmq mailing list be a decent call for trying to find some current clrzmq users?</div>
<div class="line">[Wednesday 03 November 2010] [01:20:30] &lt;Dylan_Hsu&gt;   hello</div>
<div class="line">[Wednesday 03 November 2010] [07:56:28] &lt;BooTheHamster&gt;       Hi. I got freeze when call zmq_send() with a socket ZMP_PUSH witch binded on &#8220;<a class="reference external" href="tcp://">tcp://</a><a href="#id13"><span class="problematic" id="id14">*</span></a>:18001&#8221;.</div>
<div class="line">[Wednesday 03 November 2010] [07:56:59] &lt;BooTheHamster&gt;       zmq_send() called with flag set to zero</div>
<div class="line">[Wednesday 03 November 2010] [07:57:01] &lt;pieterh&gt;     BooTheHamster, does it happen each time?</div>
<div class="line">[Wednesday 03 November 2010] [07:57:43] &lt;BooTheHamster&gt;       It happen when I try send in first time.</div>
<div class="line">[Wednesday 03 November 2010] [07:58:17] &lt;BooTheHamster&gt;       Create socket, then bind it and then make send.</div>
<div class="line">[Wednesday 03 November 2010] [07:58:33] &lt;pieterh&gt;     What version of 0MQ are you using?</div>
<div class="line">[Wednesday 03 November 2010] [07:58:50] &lt;BooTheHamster&gt;       2.1 from git</div>
<div class="line">[Wednesday 03 November 2010] [07:59:16] &lt;pieterh&gt;     Are you sure it&#8217;s blocking in zmq_send and not in zmq_term?</div>
<div class="line">[Wednesday 03 November 2010] [07:59:48] &lt;BooTheHamster&gt;       Yes</div>
<div class="line">[Wednesday 03 November 2010] [08:00:58] &lt;pieterh&gt;     Could you post a simple test case?</div>
<div class="line">[Wednesday 03 November 2010] [08:01:00] &lt;pieterh&gt;     thanks</div>
<div class="line">[Wednesday 03 November 2010] [08:01:18] &lt;pieterh&gt;     i.e. in a pastebin or gist.github.com</div>
<div class="line">[Wednesday 03 November 2010] [08:04:37] &lt;BooTheHamster&gt;       I try</div>
<div class="line">[Wednesday 03 November 2010] [08:17:07] &lt;BooTheHamster&gt;       <a class="reference external" href="http://pastebin.com/mDmazfVu">http://pastebin.com/mDmazfVu</a></div>
<div class="line">[Wednesday 03 November 2010] [08:17:24] &lt;BooTheHamster&gt;       I test on Windows, MSVC2005 build</div>
<div class="line">[Wednesday 03 November 2010] [08:19:37] &lt;BooTheHamster&gt;       It&#8217;s freeze in int zmq::socket_base_t::send (::zmq_msg_t <a href="#id15"><span class="problematic" id="id16">*</span></a><a href="#id541"><span class="problematic" id="id542">msg_</span></a>, int <a href="#id543"><span class="problematic" id="id544">flags_</span></a>)</div>
<div class="line">[Wednesday 03 November 2010] [08:20:26] &lt;BooTheHamster&gt;       xsend in this fucntion return -1</div>
<div class="line">[Wednesday 03 November 2010] [08:20:51] &lt;BooTheHamster&gt;           //  Oops, we couldn&#8217;t send the message. Wait for the next</div>
<div class="line">[Wednesday 03 November 2010] [08:20:51] &lt;BooTheHamster&gt;           //  command, process it and try to send the message again.</div>
<div class="line">[Wednesday 03 November 2010] [08:20:51] &lt;BooTheHamster&gt;           while (rc != 0) {</div>
<div class="line">[Wednesday 03 November 2010] [08:20:51] &lt;BooTheHamster&gt;               if (errno != EAGAIN)</div>
<div class="line">[Wednesday 03 November 2010] [08:20:51] &lt;BooTheHamster&gt;                   return -1;</div>
<div class="line">[Wednesday 03 November 2010] [08:20:52] &lt;BooTheHamster&gt;       &gt;&gt;&gt;&gt; here &gt;&gt;&gt;       if (unlikely (process_commands (true, false) != 0))</div>
<div class="line">[Wednesday 03 November 2010] [08:23:19] &lt;BooTheHamster&gt;       I forget to tell - no clients connected</div>
<div class="line">[Wednesday 03 November 2010] [08:30:02] &lt;pieterh&gt;     BooTheHamster, this looks like a bug to me</div>
<div class="line">[Wednesday 03 November 2010] [08:30:10] &lt;pieterh&gt;     could you report it to the zeromq-dev list?</div>
<div class="line">[Wednesday 03 November 2010] [08:31:04] &lt;pieterh&gt;     send should queue the message and return at once</div>
<div class="line">[Wednesday 03 November 2010] [08:32:56] &lt;BooTheHamster&gt;       My English very bad :(</div>
<div class="line">[Wednesday 03 November 2010] [08:33:38] &lt;BooTheHamster&gt;       But I try</div>
<div class="line">[Wednesday 03 November 2010] [08:47:20] &lt;BooTheHamster&gt;       Maybe I use wrong combination? Socket with ZMQ_PUSH type, bind operation and send?</div>
<div class="line">[Wednesday 03 November 2010] [08:49:41] &lt;guido_g&gt;     do you have a PULL socket connected?</div>
<div class="line">[Wednesday 03 November 2010] [08:50:17] &lt;BooTheHamster&gt;       no</div>
<div class="line">[Wednesday 03 November 2010] [08:50:28] &lt;guido_g&gt;     if not, send might wait until at least one connection has been made</div>
<div class="line">[Wednesday 03 November 2010] [08:51:30] &lt;guido_g&gt;     <a class="reference external" href="http://api.zeromq.org/zmq_socket.html">http://api.zeromq.org/zmq_socket.html</a>  &lt;- see under Pipeline pattern</div>
<div class="line">[Wednesday 03 November 2010] [08:54:25] &lt;BooTheHamster&gt;       I undestand. I wrong in first place :). Thanx, guido_g</div>
<div class="line">[Wednesday 03 November 2010] [08:55:04] &lt;guido_g&gt;     just let a client connect before sending the message</div>
<div class="line">[Wednesday 03 November 2010] [08:55:12] &lt;guido_g&gt;     see the guide for examples</div>
<div class="line">[Wednesday 03 November 2010] [08:55:24] &lt;BooTheHamster&gt;       No. I need PUB/SUB pair</div>
<div class="line">[Wednesday 03 November 2010] [08:55:46] &lt;BooTheHamster&gt;       If no clients connected I need drop data ...</div>
<div class="line">[Wednesday 03 November 2010] [08:55:59] &lt;guido_g&gt;     still, read the guide for a basic understanding of how it should be done</div>
<div class="line">[Wednesday 03 November 2010] [08:56:48] &lt;guido_g&gt;     pub/sub and push/pull are completely different things and not interchangable</div>
<div class="line">[Wednesday 03 November 2010] [08:56:52] &lt;guido_g&gt;     so be careful</div>
<div class="line">[Wednesday 03 November 2010] [08:57:43] &lt;BooTheHamster&gt;       I use PUSH/PULL in another part of my app, and forget that connection is established.</div>
<div class="line">[Wednesday 03 November 2010] [08:58:20] &lt;BooTheHamster&gt;       I have second question. The 0MQ sockets is thread safe?</div>
<div class="line">[Wednesday 03 November 2010] [08:59:55] &lt;guido_g&gt;     no</div>
<div class="line">[Wednesday 03 November 2010] [09:00:21] &lt;guido_g&gt;     please read the guide, it&#8217;ll explain most of the questions you might have</div>
<div class="line">[Wednesday 03 November 2010] [09:04:09] &lt;BooTheHamster&gt;       guido_g: many thanx</div>
<div class="line">[Wednesday 03 November 2010] [12:41:41] &lt;Guthur&gt;      should there not be an xml file provided for the device tests (zmq_forwarder etc)?</div>
<div class="line">[Wednesday 03 November 2010] [13:56:56] &lt;Guthur&gt;      what is the rational behind including local_lat etc?</div>
<div class="line">[Wednesday 03 November 2010] [14:08:12] &lt;cremes&gt;      Guthur: those are examples that 1) show basic usage of the library, and 2) offer a way to benchmark the library on your system</div>
<div class="line">[Wednesday 03 November 2010] [14:31:04] &lt;Guthur&gt;      cremes: Ok cheers, just wondering</div>
<div class="line">[Wednesday 03 November 2010] [14:31:48] &lt;Guthur&gt;      I personally used the guide and associated demos as my learning guide</div>
<div class="line">[Wednesday 03 November 2010] [15:53:01] &lt;mleonb&gt;      How do I get gcc to link with zmq.h on os x</div>
<div class="line">[Wednesday 03 November 2010] [15:59:49] &lt;xraid&gt;       mleonb: i used g++ -Wall -I/usr/local/include -L/usr/local/lib main.cpp -lzmq -o main</div>
<div class="line">[Wednesday 03 November 2010] [16:00:12] &lt;xraid&gt;       or g++ <cite>pkg-config &#8211;libs &#8211;cflags libzmq</cite> -o client client.cpp</div>
<div class="line">[Wednesday 03 November 2010] [17:13:05] &lt;Guthur&gt;      how does a noblock recv throwing an exception when there is no resource sound like in terms of an binding?</div>
<div class="line">[Wednesday 03 November 2010] [17:14:03] &lt;Guthur&gt;      The user would of course most like choose to continue execution when it appropriate</div>
<div class="line">[Wednesday 03 November 2010] [17:14:58] &lt;mikko&gt;       php-zmq does that</div>
<div class="line">[Wednesday 03 November 2010] [17:16:30] &lt;Guthur&gt;      I felt it was better than trying to catch the special EAGAIN case in the recv and doing something different</div>
<div class="line">[Wednesday 03 November 2010] [17:17:15] &lt;Guthur&gt;      It at least exposes it to the user so they can take special action if so desired</div>
<div class="line">[Wednesday 03 November 2010] [18:49:06] &lt;Guthur&gt;      Could/should I mention the revise C# binding I have been working on on the C# binding page <a class="reference external" href="http://www.zeromq.org/bindings:clr">http://www.zeromq.org/bindings:clr</a></div>
<div class="line">[Wednesday 03 November 2010] [20:24:23] &lt;Guthur&gt;      what is the reason IPC doesn&#8217;t work on windows?</div>
<div class="line">[Wednesday 03 November 2010] [20:36:10] &lt;Guthur&gt;      oh nevermind I found the reason</div>
<div class="line">[Thursday 04 November 2010] [00:19:06] &lt;andrewvc&gt;     anyone know when the planned release date for ZMQ_FD is?</div>
<div class="line">[Thursday 04 November 2010] [04:43:24] &lt;sustrik&gt;      Guthur: hi</div>
<div class="line">[Thursday 04 November 2010] [04:43:32] &lt;sustrik&gt;      i haven&#8217;t been around yesterday</div>
<div class="line">[Thursday 04 November 2010] [04:43:49] &lt;sustrik&gt;      how it&#8217;s going? do you need any help from me?</div>
<div class="line">[Thursday 04 November 2010] [04:44:36] &lt;Guthur&gt;       sustrik: Hi sustrik, no I think everything is good at the moment</div>
<div class="line">[Thursday 04 November 2010] [04:44:52] &lt;sustrik&gt;      goodo</div>
<div class="line">[Thursday 04 November 2010] [04:45:19] &lt;Guthur&gt;       cheers</div>
<div class="line">[Thursday 04 November 2010] [04:45:48] &lt;Guthur&gt;       I was really hoping some clrzmq users would come out of the woodwork though, to try and get some perspective</div>
<div class="line">[Thursday 04 November 2010] [04:48:12] &lt;sustrik&gt;      it&#8217;s hard to get win community to participatre</div>
<div class="line">[Thursday 04 November 2010] [04:48:21] &lt;sustrik&gt;      that&#8217;s my feeling, at least</div>
<div class="line">[Thursday 04 November 2010] [04:50:03] &lt;Guthur&gt;       It&#8217;s a shame really.</div>
<div class="line">[Thursday 04 November 2010] [04:50:41] &lt;sustrik&gt;      there are 28 watchers on the project</div>
<div class="line">[Thursday 04 November 2010] [04:50:51] &lt;sustrik&gt;      you can try to speak to them directly</div>
<div class="line">[Thursday 04 November 2010] [04:51:00] &lt;sustrik&gt;      but maybe it&#8217;s not even worth of it</div>
<div class="line">[Thursday 04 November 2010] [04:51:32] &lt;Guthur&gt;       I am working through the guide examples at the moment, just coded the &#8220;Divide and Conquer&#8221; one this morning, I&#8217;ll test it once I get home from work, and continue with the others.</div>
<div class="line">[Thursday 04 November 2010] [04:51:54] &lt;sustrik&gt;      Guthur: that&#8217;s nice, please send the samples to the mailing list</div>
<div class="line">[Thursday 04 November 2010] [04:52:02] &lt;sustrik&gt;      pieter will add them to the guide</div>
<div class="line">[Thursday 04 November 2010] [04:53:22] &lt;Guthur&gt;       It&#8217;s both a good way for me to explore more of 0MQ and good as a test.</div>
<div class="line">[Thursday 04 November 2010] [04:53:53] &lt;Guthur&gt;       I&#8217;m developing on Windows VM though, so IPC isn&#8217;t available</div>
<div class="line">[Thursday 04 November 2010] [04:54:29] &lt;Guthur&gt;       I&#8217;ve been too lazy to try and get it work on linux with Mono yet</div>
<div class="line">[Thursday 04 November 2010] [04:56:56] &lt;sustrik&gt;      Guthur: no much point</div>
<div class="line">[Thursday 04 November 2010] [04:57:07] &lt;sustrik&gt;      Win is a primary target for .net</div>
<div class="line">[Thursday 04 November 2010] [04:57:21] &lt;sustrik&gt;      mono is kind of minor platform</div>
<div class="line">[Thursday 04 November 2010] [04:57:57] &lt;sustrik&gt;      in any case there are mono builds in the daily builds, so you can at least see whether it compiles with mono</div>
<div class="line">[Thursday 04 November 2010] [05:03:13] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * rb90e621 10/ src/devpoll.cpp :</div>
<div class="line">[Thursday 04 November 2010] [05:03:13] &lt;CIA-20&gt;       zeromq2: minor typo fixed</div>
<div class="line">[Thursday 04 November 2010] [05:03:13] &lt;CIA-20&gt;       zeromq2: Devpoll polling mechanism used ZMQ_HAVE_SOLRIS instead of</div>
<div class="line">[Thursday 04 November 2010] [05:03:13] &lt;CIA-20&gt;       zeromq2: ZMQ_HAVE_SOLARIS in one case. Fixed.</div>
<div class="line">[Thursday 04 November 2010] [05:03:13] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/cfKtNR">http://bit.ly/cfKtNR</a></div>
<div class="line">[Thursday 04 November 2010] [05:04:22] &lt;Guthur&gt;       I&#8217;ll maybe give it a try when I&#8217;ve finished the example dev work</div>
<div class="line">[Thursday 04 November 2010] [05:04:47] &lt;Guthur&gt;       mostly for my own curiosity</div>
<div class="line">[Thursday 04 November 2010] [05:41:23] &lt;mikko&gt;        good morning</div>
<div class="line">[Thursday 04 November 2010] [06:00:00] &lt;sustrik&gt;      mornin&#8217;</div>
<div class="line">[Thursday 04 November 2010] [06:01:01] &lt;pieterh&gt;      mikko: hi :-)</div>
<div class="line">[Thursday 04 November 2010] [06:13:22] &lt;mikko&gt;        hmm, zeromq perl seems to have occasional failures against maint</div>
<div class="line">[Thursday 04 November 2010] [06:13:33] &lt;mikko&gt;        how close is the master being released as alpha or beta?</div>
<div class="line">[Thursday 04 November 2010] [06:26:07] &lt;sustrik&gt;      mikko: the idea was to release it shortly</div>
<div class="line">[Thursday 04 November 2010] [06:26:18] &lt;sustrik&gt;      what&#8217;s the problem with perl bindings?</div>
<div class="line">[Thursday 04 November 2010] [06:26:29] &lt;sustrik&gt;      the daily build looks to be ok</div>
<div class="line">[Thursday 04 November 2010] [06:28:47] &lt;DerGuteMoritz&gt;        hmm shouldn&#8217;t the sleep hack be unecessary as of 2.1?</div>
<div class="line">[Thursday 04 November 2010] [06:28:55] &lt;DerGuteMoritz&gt;        unnecessary even</div>
<div class="line">[Thursday 04 November 2010] [06:29:17] &lt;DerGuteMoritz&gt;        I mean between binding/connecting and sending messages</div>
<div class="line">[Thursday 04 November 2010] [06:31:41] &lt;sustrik&gt;      i think it was never needed</div>
<div class="line">[Thursday 04 November 2010] [06:32:17] &lt;sustrik&gt;      the only thing that changed for 2.1 is that you don&#8217;t have to sleep before terminating the program</div>
<div class="line">[Thursday 04 November 2010] [06:32:28] &lt;DerGuteMoritz&gt;        ah okay</div>
<div class="line">[Thursday 04 November 2010] [06:32:33] &lt;DerGuteMoritz&gt;        then there must be a problem in my code</div>
<div class="line">[Thursday 04 November 2010] [06:32:36] &lt;DerGuteMoritz&gt;        thanks!</div>
<div class="line">[Thursday 04 November 2010] [06:33:42] &lt;mikko&gt;        sustrik: i had to cancel build #59</div>
<div class="line">[Thursday 04 November 2010] [06:33:46] &lt;mikko&gt;        as it got stuck</div>
<div class="line">[Thursday 04 November 2010] [06:34:09] &lt;sustrik&gt;      in a test, i suppose?</div>
<div class="line">[Thursday 04 November 2010] [06:34:13] &lt;mikko&gt;        yes</div>
<div class="line">[Thursday 04 November 2010] [06:34:46] &lt;sustrik&gt;      then either there&#8217;s bug in 2.1 or there&#8217;s a bug in the test</div>
<div class="line">[Thursday 04 November 2010] [06:35:16] &lt;sustrik&gt;      in any case, 2.1 will be released as development version</div>
<div class="line">[Thursday 04 November 2010] [06:35:19] &lt;sustrik&gt;      not stable version</div>
<div class="line">[Thursday 04 November 2010] [06:35:50] &lt;sustrik&gt;      thus some bugs are acceptable</div>
<div class="line">[Thursday 04 November 2010] [06:35:58] &lt;sustrik&gt;      we&#8217;ll fix them as we go</div>
<div class="line">[Thursday 04 November 2010] [06:39:03] &lt;mato&gt; sustrik: ping</div>
<div class="line">[Thursday 04 November 2010] [06:39:09] &lt;psino&gt;        have functions like socket.unbind(spec) and socket.disconnect(spec) been considered/discussed somewhere?</div>
<div class="line">[Thursday 04 November 2010] [06:39:14] &lt;mato&gt; sustrik: hi</div>
<div class="line">[Thursday 04 November 2010] [06:39:22] &lt;mato&gt; sustrik: so, i have the auto-resizing signaler</div>
<div class="line">[Thursday 04 November 2010] [06:39:25] &lt;mato&gt; sustrik: it seems to work</div>
<div class="line">[Thursday 04 November 2010] [06:39:30] &lt;sustrik&gt;      mato: great</div>
<div class="line">[Thursday 04 November 2010] [06:39:47] &lt;mato&gt; sustrik: i&#8217;ve also carefully refactored all the platform-dependent messy bits as much as i can</div>
<div class="line">[Thursday 04 November 2010] [06:39:48] &lt;sustrik&gt;      psino: they were discussed on the ML couple of times</div>
<div class="line">[Thursday 04 November 2010] [06:40:01] &lt;sustrik&gt;      good, are you going to post a patch?</div>
<div class="line">[Thursday 04 November 2010] [06:40:05] &lt;mato&gt; sustrik: so IMO it&#8217;s probably suitable for review and inclusion into master</div>
<div class="line">[Thursday 04 November 2010] [06:40:11] &lt;mato&gt; sustrik: yes, right after i test on windoze</div>
<div class="line">[Thursday 04 November 2010] [06:40:12] &lt;sustrik&gt;      ack</div>
<div class="line">[Thursday 04 November 2010] [06:40:22] &lt;mato&gt; sustrik: note that on windows i&#8217;ve not bothered with the auto-resizing for now</div>
<div class="line">[Thursday 04 November 2010] [06:40:31] &lt;sustrik&gt;      sure</div>
<div class="line">[Thursday 04 November 2010] [06:40:33] &lt;mato&gt; sustrik: also</div>
<div class="line">[Thursday 04 November 2010] [06:40:41] &lt;sustrik&gt;      maybe just put a TODO comment there</div>
<div class="line">[Thursday 04 November 2010] [06:40:46] &lt;mato&gt; sustrik: there is one</div>
<div class="line">[Thursday 04 November 2010] [06:41:01] &lt;mato&gt; sustrik: one other thing; i&#8217;ve inverted some of the logic regarding blocking/non-blocking mode</div>
<div class="line">[Thursday 04 November 2010] [06:41:10] &lt;sustrik&gt;      ?</div>
<div class="line">[Thursday 04 November 2010] [06:41:28] &lt;mato&gt; sustrik: i guess my question is; which call path of signaler::recv() should be more optimal (less syscalls)</div>
<div class="line">[Thursday 04 November 2010] [06:41:39] &lt;mato&gt; sustrik: the one where block=false or the one where block=true</div>
<div class="line">[Thursday 04 November 2010] [06:41:57] &lt;mato&gt; sustrik: but this only affects windoze and platforms w/o MSG_DONTWAIT (AIX, HPUX)</div>
<div class="line">[Thursday 04 November 2010] [06:42:05] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [06:42:09] &lt;sustrik&gt;      let me think</div>
<div class="line">[Thursday 04 November 2010] [06:42:10] &lt;mato&gt; sustrik: so not critical; you can review my changes</div>
<div class="line">[Thursday 04 November 2010] [06:42:25] &lt;mato&gt; sustrik: once i post the patch; it&#8217;s easier when you have the code in front of you</div>
<div class="line">[Thursday 04 November 2010] [06:42:39] &lt;mato&gt; sustrik: IMO the block=0 path should be optimal</div>
<div class="line">[Thursday 04 November 2010] [06:42:40] &lt;sustrik&gt;      non-blocking should be faster imo</div>
<div class="line">[Thursday 04 November 2010] [06:42:46] &lt;mato&gt; sustrik: why?</div>
<div class="line">[Thursday 04 November 2010] [06:43:02] &lt;sustrik&gt;      because you do blocking call only if there&#8217;s nothing to process anyway</div>
<div class="line">[Thursday 04 November 2010] [06:43:04] &lt;mato&gt; sustrik: block=0 is used in the actual processing loops in the io/thread and socket_base_t</div>
<div class="line">[Thursday 04 November 2010] [06:43:14] &lt;mato&gt; sustrik: um, sorry, block=1</div>
<div class="line">[Thursday 04 November 2010] [06:43:19] &lt;sustrik&gt;      is it</div>
<div class="line">[Thursday 04 November 2010] [06:43:22] &lt;mato&gt; yes</div>
<div class="line">[Thursday 04 November 2010] [06:43:22] &lt;sustrik&gt;      let me see</div>
<div class="line">[Thursday 04 November 2010] [06:44:12] &lt;sustrik&gt;      io_thread.cpp: int rc = signaler.recv (&amp;cmd, false);</div>
<div class="line">[Thursday 04 November 2010] [06:44:21] &lt;mato&gt; yeah, you&#8217;re right</div>
<div class="line">[Thursday 04 November 2010] [06:44:52] &lt;mato&gt; same in socket_base.cpp the final &#8220;Process all commands&#8221; loop also uses non-blocking</div>
<div class="line">[Thursday 04 November 2010] [06:44:58] &lt;mato&gt; ok</div>
<div class="line">[Thursday 04 November 2010] [06:45:07] &lt;mato&gt; so the non-blocking path should be faster</div>
<div class="line">[Thursday 04 November 2010] [06:45:11] &lt;mato&gt; i&#8217;ll do it that way then</div>
<div class="line">[Thursday 04 November 2010] [06:45:15] &lt;sustrik&gt;      ok</div>
<div class="line">[Thursday 04 November 2010] [06:45:44] &lt;sustrik&gt;      btw, what do you think of the proposed FD_SETSIZE patch?</div>
<div class="line">[Thursday 04 November 2010] [06:45:50] &lt;sustrik&gt;      would it work?</div>
<div class="line">[Thursday 04 November 2010] [06:46:02] &lt;mato&gt; i&#8217;ve not been reading the ML, sorry</div>
<div class="line">[Thursday 04 November 2010] [06:46:13] &lt;mato&gt; i&#8217;ll look at it after I get this patch in shape</div>
<div class="line">[Thursday 04 November 2010] [06:46:15] &lt;sustrik&gt;      in short my suggestion is:</div>
<div class="line">[Thursday 04 November 2010] [06:46:24] &lt;sustrik&gt;      add FD_SETSIZE 1024 to select.cpp</div>
<div class="line">[Thursday 04 November 2010] [06:46:33] &lt;sustrik&gt;      thus it won&#8217;t affect anything else</div>
<div class="line">[Thursday 04 November 2010] [06:46:41] &lt;sustrik&gt;      single line change</div>
<div class="line">[Thursday 04 November 2010] [06:47:09] &lt;mato&gt; it&#8217;d need to be there and in zmq.cpp for zmq_poll</div>
<div class="line">[Thursday 04 November 2010] [06:47:20] &lt;mato&gt; well, it makes the situation better</div>
<div class="line">[Thursday 04 November 2010] [06:47:25] &lt;sustrik&gt;      later on</div>
<div class="line">[Thursday 04 November 2010] [06:47:26] &lt;mato&gt; but doesn&#8217;t solve the zmq.h problem</div>
<div class="line">[Thursday 04 November 2010] [06:47:32] &lt;sustrik&gt;      zmq_poll is not that critical</div>
<div class="line">[Thursday 04 November 2010] [06:47:37] &lt;mato&gt; true</div>
<div class="line">[Thursday 04 November 2010] [06:47:44] &lt;mato&gt; but it still doesn&#8217;t solve the zmq.h problem</div>
<div class="line">[Thursday 04 November 2010] [06:47:59] &lt;sustrik&gt;      not including winsock you mean?</div>
<div class="line">[Thursday 04 November 2010] [06:48:09] &lt;mato&gt; and you&#8217;d need to be sure that select.cpp defines FD_SETSIZE <em>before</em> including anything that might include winsock.h</div>
<div class="line">[Thursday 04 November 2010] [06:48:12] &lt;mato&gt; yes</div>
<div class="line">[Thursday 04 November 2010] [06:48:17] &lt;sustrik&gt;      i do</div>
<div class="line">[Thursday 04 November 2010] [06:48:30] &lt;sustrik&gt;      the zmq.h problem is probably insolvable</div>
<div class="line">[Thursday 04 November 2010] [06:48:40] &lt;sustrik&gt;      SOCKET seems to be platform-dependent</div>
<div class="line">[Thursday 04 November 2010] [06:48:55] &lt;mato&gt; ok, but the types you looked at all seemed to be castable to int, no?</div>
<div class="line">[Thursday 04 November 2010] [06:49:11] &lt;sustrik&gt;      maybe __int64</div>
<div class="line">[Thursday 04 November 2010] [06:49:14] &lt;sustrik&gt;      so something</div>
<div class="line">[Thursday 04 November 2010] [06:49:20] &lt;sustrik&gt;      or something</div>
<div class="line">[Thursday 04 November 2010] [06:49:29] &lt;mato&gt; dunno</div>
<div class="line">[Thursday 04 November 2010] [06:49:38] &lt;sustrik&gt;      however, i am not sure where win headers come from</div>
<div class="line">[Thursday 04 November 2010] [06:49:43] &lt;sustrik&gt;      is it part of win sdk?</div>
<div class="line">[Thursday 04 November 2010] [06:49:49] &lt;mato&gt; depends</div>
<div class="line">[Thursday 04 November 2010] [06:49:56] &lt;mato&gt; :-)</div>
<div class="line">[Thursday 04 November 2010] [06:50:02] &lt;sustrik&gt;      is it possible that there are different headers for different systems</div>
<div class="line">[Thursday 04 November 2010] [06:50:04] &lt;sustrik&gt;      etc.</div>
<div class="line">[Thursday 04 November 2010] [06:50:12] &lt;mato&gt; god only knows</div>
<div class="line">[Thursday 04 November 2010] [06:50:16] &lt;sustrik&gt;      it looks like going to way is mad</div>
<div class="line">[Thursday 04 November 2010] [06:50:42] &lt;mato&gt; we&#8217;ll see</div>
<div class="line">[Thursday 04 November 2010] [06:50:50] &lt;mato&gt; ok, i need to get back to this code</div>
<div class="line">[Thursday 04 November 2010] [06:50:58] &lt;mato&gt; will reply to your patch on the ML</div>
<div class="line">[Thursday 04 November 2010] [06:51:01] &lt;mato&gt; after...</div>
<div class="line">[Thursday 04 November 2010] [06:51:01] &lt;sustrik&gt;      ok</div>
<div class="line">[Thursday 04 November 2010] [07:43:55] &lt;pieterh&gt;      sustrik: wrt to that patch</div>
<div class="line">[Thursday 04 November 2010] [07:44:07] &lt;pieterh&gt;      - select.cpp calls select.hpp which has redundant definitions</div>
<div class="line">[Thursday 04 November 2010] [07:44:18] &lt;pieterh&gt;      - you must only define FD_SETSIZE if it&#8217;s not been set externally</div>
<div class="line">[Thursday 04 November 2010] [07:45:11] &lt;pieterh&gt;      further, it&#8217;s kind of pathological to insist that we can&#8217;t set FD_SETSIZE in zmq.h and then include winsock2.h in that same file</div>
<div class="line">[Thursday 04 November 2010] [07:49:25] &lt;sustrik&gt;      pieterh: select.o is an internal compilation unit</div>
<div class="line">[Thursday 04 November 2010] [07:49:32] &lt;sustrik&gt;      it has nothing to do with what user sets</div>
<div class="line">[Thursday 04 November 2010] [07:49:43] &lt;sustrik&gt;      it&#8217;s compiled when library is compiled</div>
<div class="line">[Thursday 04 November 2010] [07:49:49] &lt;sustrik&gt;      not when client app is compiled</div>
<div class="line">[Thursday 04 November 2010] [07:51:24] &lt;pieterh&gt;      i don&#8217;t think you really understand</div>
<div class="line">[Thursday 04 November 2010] [07:51:50] &lt;sustrik&gt;      ?</div>
<div class="line">[Thursday 04 November 2010] [07:51:52] &lt;pieterh&gt;      when you compile a C/C++ source file, you can define symbols externally</div>
<div class="line">[Thursday 04 November 2010] [07:52:00] &lt;pieterh&gt;      on the command line, or in the Windows project file</div>
<div class="line">[Thursday 04 November 2010] [07:52:02] &lt;pieterh&gt;      right?</div>
<div class="line">[Thursday 04 November 2010] [07:52:11] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [07:52:23] &lt;pieterh&gt;      if you are building 0MQ for a server style scenario</div>
<div class="line">[Thursday 04 November 2010] [07:52:36] &lt;pieterh&gt;      you will set -DFD_SETSIZE=16000</div>
<div class="line">[Thursday 04 November 2010] [07:52:40] &lt;sustrik&gt;      ok, i see</div>
<div class="line">[Thursday 04 November 2010] [07:52:42] &lt;pieterh&gt;      winsock2.h will respect this</div>
<div class="line">[Thursday 04 November 2010] [07:52:44] &lt;pieterh&gt;      ok?</div>
<div class="line">[Thursday 04 November 2010] [07:52:49] &lt;pieterh&gt;      you cannot simply override that</div>
<div class="line">[Thursday 04 November 2010] [07:52:50] &lt;sustrik&gt;      we have all compile time settings in config.hpp</div>
<div class="line">[Thursday 04 November 2010] [07:52:57] &lt;sustrik&gt;      probably it should go there as well</div>
<div class="line">[Thursday 04 November 2010] [07:53:03] &lt;pieterh&gt;      no</div>
<div class="line">[Thursday 04 November 2010] [07:53:13] &lt;pieterh&gt;      you must do the conditional setting just before including winsock2.h</div>
<div class="line">[Thursday 04 November 2010] [07:53:26] &lt;mato&gt; pieterh: are you seriously suggesting that 0MQ on Windows in it&#8217;s current state using select() makes any sense at all to run with FD_SETSIZE=16000 ?</div>
<div class="line">[Thursday 04 November 2010] [07:53:42] &lt;pieterh&gt;      mato: considering that 0MQ encourages lots of connections, yes</div>
<div class="line">[Thursday 04 November 2010] [07:53:47] &lt;pieterh&gt;      especially if I&#8217;m testing stuff</div>
<div class="line">[Thursday 04 November 2010] [07:53:50] &lt;pieterh&gt;      it&#8217;s an example</div>
<div class="line">[Thursday 04 November 2010] [07:53:55] &lt;pieterh&gt;      1024 is definitely too small</div>
<div class="line">[Thursday 04 November 2010] [07:54:00] &lt;mato&gt; pieterh: It&#8217;s <em>broken</em></div>
<div class="line">[Thursday 04 November 2010] [07:54:02] &lt;pieterh&gt;      we hit this problem with Xitami quite regularly</div>
<div class="line">[Thursday 04 November 2010] [07:54:03] &lt;mato&gt; pieterh: make IOCP work</div>
<div class="line">[Thursday 04 November 2010] [07:54:17] &lt;pieterh&gt;      that&#8217;s not the point, really, and not an answer here</div>
<div class="line">[Thursday 04 November 2010] [07:54:25] &lt;mato&gt; pieterh: you <em>cannot</em> expect any sane performance out of a select() loop with 16k descriptors in it</div>
<div class="line">[Thursday 04 November 2010] [07:54:35] &lt;pieterh&gt;      making this work fairly well is _trivial_ and I&#8217;m really kind of amused by the debate</div>
<div class="line">[Thursday 04 November 2010] [07:54:42] &lt;pieterh&gt;      16k is an example, mat</div>
<div class="line">[Thursday 04 November 2010] [07:54:43] &lt;pieterh&gt;      mato</div>
<div class="line">[Thursday 04 November 2010] [07:54:45] &lt;pieterh&gt;      an example</div>
<div class="line">[Thursday 04 November 2010] [07:54:52] &lt;pieterh&gt;      it could be 4k or 8k</div>
<div class="line">[Thursday 04 November 2010] [07:55:14] &lt;sustrik&gt;      mato: there has to be a compile time setting for the value</div>
<div class="line">[Thursday 04 November 2010] [07:55:25] &lt;pieterh&gt;      you (a) cannot leave the 64 default</div>
<div class="line">[Thursday 04 November 2010] [07:55:34] &lt;pieterh&gt;      (b) you cannot say &#8220;make IOCP work&#8221; as an answer</div>
<div class="line">[Thursday 04 November 2010] [07:55:39] &lt;mato&gt; sustrik: do we have a user who <em>needs</em> &gt;1024 connections on windows right now?</div>
<div class="line">[Thursday 04 November 2010] [07:55:40] &lt;pieterh&gt;      (c) cannot FORCE 1024 as a value</div>
<div class="line">[Thursday 04 November 2010] [07:55:51] &lt;sustrik&gt;      i don&#8217;t care what the default is</div>
<div class="line">[Thursday 04 November 2010] [07:55:53] &lt;mato&gt; sustrik: if not, then I&#8217;m not into random &#8220;examples&#8221;</div>
<div class="line">[Thursday 04 November 2010] [07:55:59] &lt;pieterh&gt;      it&#8217;s rather inane to even discuss this</div>
<div class="line">[Thursday 04 November 2010] [07:56:00] &lt;sustrik&gt;      the point is that it should be configurable</div>
<div class="line">[Thursday 04 November 2010] [07:56:04] &lt;pieterh&gt;      if the user has set a value externally, respect that</div>
<div class="line">[Thursday 04 November 2010] [07:56:15] &lt;pieterh&gt;      it is not the library&#8217;s job to override that</div>
<div class="line">[Thursday 04 November 2010] [07:56:24] &lt;sustrik&gt;      the question is where to set it</div>
<div class="line">[Thursday 04 November 2010] [07:56:26] &lt;mato&gt; sustrik: then if it&#8217;s to be configurable, just use #ifndef FD_SETSIZE in your current patch</div>
<div class="line">[Thursday 04 November 2010] [07:56:32] &lt;pieterh&gt;      well, precisely</div>
<div class="line">[Thursday 04 November 2010] [07:56:41] &lt;pieterh&gt;      and sustrik: you set it just before including winsock2.h</div>
<div class="line">[Thursday 04 November 2010] [07:56:48] &lt;mato&gt; sustrik: it&#8217;s a broken windows API, if someone wants to override it then they should just -DFD_SETSIZE manually</div>
<div class="line">[Thursday 04 November 2010] [07:56:51] &lt;sustrik&gt;      why not have all the compile-time options at the same place?</div>
<div class="line">[Thursday 04 November 2010] [07:56:55] &lt;pieterh&gt;      there is no other safe place, especially given the rather tortuous structures in the code</div>
<div class="line">[Thursday 04 November 2010] [07:57:01] &lt;mato&gt; sustrik: because this is one stupid broken windows API</div>
<div class="line">[Thursday 04 November 2010] [07:57:02] &lt;sustrik&gt;      config.hpp</div>
<div class="line">[Thursday 04 November 2010] [07:57:19] &lt;sustrik&gt;      :</div>
<div class="line">[Thursday 04 November 2010] [07:57:27] &lt;sustrik&gt;         fd_setsize = 1024</div>
<div class="line">[Thursday 04 November 2010] [07:57:28] &lt;mato&gt; sustrik: and it&#8217;s broken because including winsock.h has stupid side-effects</div>
<div class="line">[Thursday 04 November 2010] [07:57:33] &lt;sustrik&gt;      then, in select.cpp</div>
<div class="line">[Thursday 04 November 2010] [07:57:44] &lt;sustrik&gt;      #define FD_SETSIZE fd_setsize</div>
<div class="line">[Thursday 04 November 2010] [07:57:50] &lt;pieterh&gt;      sustrik: that&#8217;s fine but it&#8217;s cream on the cake</div>
<div class="line">[Thursday 04 November 2010] [07:57:52] &lt;mato&gt; sustrik: it&#8217;s a macro, config.hpp does not have macros in it</div>
<div class="line">[Thursday 04 November 2010] [07:58:01] &lt;sustrik&gt;      see abover</div>
<div class="line">[Thursday 04 November 2010] [07:58:10] &lt;mato&gt; see what?</div>
<div class="line">[Thursday 04 November 2010] [07:58:15] &lt;pieterh&gt;      plus, it&#8217;s system dependent</div>
<div class="line">[Thursday 04 November 2010] [07:58:24] &lt;pieterh&gt;      do you want to pollute config.hpp with win32 stuff?</div>
<div class="line">[Thursday 04 November 2010] [07:58:33] &lt;pieterh&gt;      it should really go into windows.hpp</div>
<div class="line">[Thursday 04 November 2010] [07:58:37] &lt;mato&gt; sustrik: just change your patch to only redefine FD_SETSIZE in select.cpp if it&#8217;s not already set</div>
<div class="line">[Thursday 04 November 2010] [07:58:48] &lt;mato&gt; sustrik: i think that will make pieter happy</div>
<div class="line">[Thursday 04 November 2010] [07:58:53] &lt;sustrik&gt;      config.hpp are all some kind of wierd tuning options</div>
<div class="line">[Thursday 04 November 2010] [07:58:58] &lt;pieterh&gt;      mato: well, that&#8217;s the patch I already submitted</div>
<div class="line">[Thursday 04 November 2010] [07:59:39] &lt;sustrik&gt;      i mean: why having some compile time options set in config.hpp</div>
<div class="line">[Thursday 04 November 2010] [07:59:41] &lt;mato&gt; pieterh: i&#8217;m happy with anything as long as zmq.h doesn&#8217;t muck with the value more than is neccessary</div>
<div class="line">[Thursday 04 November 2010] [07:59:47] &lt;sustrik&gt;      and others passed as -Dwhatever</div>
<div class="line">[Thursday 04 November 2010] [07:59:52] &lt;pieterh&gt;      mato: zmq.h ALREADY mucks up that value</div>
<div class="line">[Thursday 04 November 2010] [07:59:59] &lt;pieterh&gt;      and it&#8217;s entirely orthogonal to this thread</div>
<div class="line">[Thursday 04 November 2010] [08:00:00] &lt;mato&gt; pieterh: can you solve that problem? no...</div>
<div class="line">[Thursday 04 November 2010] [08:00:08] &lt;pieterh&gt;      mato: yes, of course</div>
<div class="line">[Thursday 04 November 2010] [08:00:15] &lt;pieterh&gt;      you should not be including winsock2.h in zmq.h</div>
<div class="line">[Thursday 04 November 2010] [08:00:24] &lt;pieterh&gt;      since all you want is to grab an integer typedef afaics</div>
<div class="line">[Thursday 04 November 2010] [08:00:28] &lt;mato&gt; pieterh: i&#8217;m interested to see how you implement that...</div>
<div class="line">[Thursday 04 November 2010] [08:00:28] &lt;pieterh&gt;      but it&#8217;s a separate thread</div>
<div class="line">[Thursday 04 November 2010] [08:00:33] &lt;pieterh&gt;      sure, sure</div>
<div class="line">[Thursday 04 November 2010] [08:00:45] &lt;pieterh&gt;      not my problem, mato</div>
<div class="line">[Thursday 04 November 2010] [08:01:04] &lt;mato&gt; pieterh: you don&#8217;t have a problem at all AFAICS; even now you can just -DFD_SETSIZE=whatever</div>
<div class="line">[Thursday 04 November 2010] [08:01:08] &lt;pieterh&gt;      as I recall you were the one insisting loudly that zmq.h could not touch the app&#8217;s setting for FD_SETSIZE</div>
<div class="line">[Thursday 04 November 2010] [08:01:13] &lt;pieterh&gt;      i am not concerned with that at all</div>
<div class="line">[Thursday 04 November 2010] [08:01:27] &lt;mato&gt; pieterh: so, even now you can -DFD_SETSIZE=something....</div>
<div class="line">[Thursday 04 November 2010] [08:01:33] &lt;pieterh&gt;      however, I do want to remove that FAQ entry justifying a broken default for select(</div>
<div class="line">[Thursday 04 November 2010] [08:01:33] &lt;mato&gt; pieterh: and it will all work</div>
<div class="line">[Thursday 04 November 2010] [08:01:47] &lt;pieterh&gt;      mato: broken by default, right?</div>
<div class="line">[Thursday 04 November 2010] [08:01:51] &lt;pieterh&gt;      excellent software design</div>
<div class="line">[Thursday 04 November 2010] [08:01:55] &lt;pieterh&gt;      excuse me, I have better things to do</div>
<div class="line">[Thursday 04 November 2010] [08:01:57] &lt;pieterh&gt;      toodeloo</div>
<div class="line">[Thursday 04 November 2010] [08:02:11] &lt;sustrik&gt;      ok, what default are we going to use?</div>
<div class="line">[Thursday 04 November 2010] [08:02:12] &lt;sustrik&gt;      1024?</div>
<div class="line">[Thursday 04 November 2010] [08:02:14] &lt;sustrik&gt;      64?</div>
<div class="line">[Thursday 04 November 2010] [08:02:16] &lt;sustrik&gt;      256?</div>
<div class="line">[Thursday 04 November 2010] [08:02:35] &lt;mato&gt; 1024 is probably safe enough</div>
<div class="line">[Thursday 04 November 2010] [08:02:40] &lt;sustrik&gt;      ok</div>
<div class="line">[Thursday 04 November 2010] [08:02:49] &lt;mato&gt; anything above 1024 and you don&#8217;t want to be using select() anyway</div>
<div class="line">[Thursday 04 November 2010] [08:03:02] &lt;sustrik&gt;      not that you have an option :)</div>
<div class="line">[Thursday 04 November 2010] [08:03:13] &lt;sustrik&gt;      i think there&#8217;s poll in win7 btw</div>
<div class="line">[Thursday 04 November 2010] [08:03:17] &lt;mato&gt; no, but if someone does run into that on windows and complains, then we know we have a user</div>
<div class="line">[Thursday 04 November 2010] [08:03:25] &lt;mato&gt; who needs performance with more connections</div>
<div class="line">[Thursday 04 November 2010] [08:03:39] &lt;mato&gt; at the moment, the only person who has complained AFAIK is pieter</div>
<div class="line">[Thursday 04 November 2010] [08:06:51] &lt;sustrik&gt;      <a class="reference external" href="http://msdn.microsoft.com/en-us/library/ms741669%28v=VS.85%29.aspx">http://msdn.microsoft.com/en-us/library/ms741669%28v=VS.85%29.aspx</a></div>
<div class="line">[Thursday 04 November 2010] [08:07:24] &lt;sustrik&gt;      looks like for vista and win7 there&#8217;s a way to avoid select altogrther</div>
<div class="line">[Thursday 04 November 2010] [08:08:34] &lt;mato&gt; sustrik: right, that would be nice... at least as a partial fix</div>
<div class="line">[Thursday 04 November 2010] [08:08:51] &lt;mato&gt; sustrik: even poll gets slow with lots of sockets, but the only alternative there on windows is IOCP</div>
<div class="line">[Thursday 04 November 2010] [08:09:52] &lt;sustrik&gt;      but is has no FD_SETSIZE :)</div>
<div class="line">[Thursday 04 November 2010] [08:10:01] &lt;mato&gt; yes, sure</div>
<div class="line">[Thursday 04 November 2010] [08:14:09] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r2246689 10/ src/select.cpp :</div>
<div class="line">[Thursday 04 November 2010] [08:14:09] &lt;CIA-20&gt;       zeromq2: FD_SETSIZE for internal polling defaults to 1024</div>
<div class="line">[Thursday 04 November 2010] [08:14:09] &lt;CIA-20&gt;       zeromq2: If, when compiling 0MQ you don&#8217;t set FD_SETSIZE,</div>
<div class="line">[Thursday 04 November 2010] [08:14:09] &lt;CIA-20&gt;       zeromq2: it defaults to 1024 rather than to 64.</div>
<div class="line">[Thursday 04 November 2010] [08:14:09] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/aq7TfT">http://bit.ly/aq7TfT</a></div>
<div class="line">[Thursday 04 November 2010] [08:14:23] &lt;sustrik&gt;      pieterh: ok, it&#8217;s there</div>
<div class="line">[Thursday 04 November 2010] [08:14:30] &lt;sustrik&gt;      can you give it a try?</div>
<div class="line">[Thursday 04 November 2010] [08:14:39] &lt;mato&gt; sustrik: he&#8217;s not online</div>
<div class="line">[Thursday 04 November 2010] [08:14:54] &lt;sustrik&gt;      anyway, it&#8217;s there</div>
<div class="line">[Thursday 04 November 2010] [09:51:59] &lt;sustrik&gt;      pieterh: can you check whether the patch works as expected?</div>
<div class="line">[Thursday 04 November 2010] [09:52:25] &lt;pieterh&gt;      sustrik: ack, will do</div>
<div class="line">[Thursday 04 November 2010] [09:52:30] &lt;sustrik&gt;      thx</div>
<div class="line">[Thursday 04 November 2010] [10:14:54] &lt;mato&gt; sustrik: did you take a look at my signaler patch?</div>
<div class="line">[Thursday 04 November 2010] [10:15:19] &lt;sustrik&gt;      i&#8217;m heading towards it</div>
<div class="line">[Thursday 04 November 2010] [10:15:19] &lt;mato&gt; sustrik: IMO it&#8217;s safe to apply to master</div>
<div class="line">[Thursday 04 November 2010] [10:15:21] &lt;mato&gt; thx</div>
<div class="line">[Thursday 04 November 2010] [10:15:31] &lt;sustrik&gt;      will getr there in 15 mins</div>
<div class="line">[Thursday 04 November 2010] [10:16:07] &lt;mato&gt; incidentally, the patch moves a lot of things around, so it&#8217;s best to look at the code after you apply it</div>
<div class="line">[Thursday 04 November 2010] [10:16:37] &lt;sustrik&gt;      yes, i&#8217;ve already gave it a look</div>
<div class="line">[Thursday 04 November 2010] [10:16:42] &lt;sustrik&gt;      and decided to apply it first :)</div>
<div class="line">[Thursday 04 November 2010] [10:23:26] &lt;Guthur&gt;       is there a roadmap or timeframe for 2.1?</div>
<div class="line">[Thursday 04 November 2010] [10:23:48] &lt;mato&gt; Guthur: Yes, &#8220;Soon&#8221;</div>
<div class="line">[Thursday 04 November 2010] [10:24:12] &lt;mato&gt; Guthur: the main thing missing is a proper documentation update &amp; review of the reference manual, and I&#8217;m busy with client work :-(</div>
<div class="line">[Thursday 04 November 2010] [10:24:24] &lt;Guthur&gt;       &#8216;Ready when its Ready&#8217;</div>
<div class="line">[Thursday 04 November 2010] [10:24:26] &lt;mato&gt; Yes.</div>
<div class="line">[Thursday 04 November 2010] [10:25:39] &lt;Guthur&gt;       Does the documentation require many changes?</div>
<div class="line">[Thursday 04 November 2010] [10:25:59] &lt;mato&gt; Not really but I need a free day to read through it systematically.</div>
<div class="line">[Thursday 04 November 2010] [10:26:02] &lt;Guthur&gt;       I unfortunately have not been following developments so could not really offer much help there</div>
<div class="line">[Thursday 04 November 2010] [10:26:40] &lt;sustrik&gt;      Guthur: does it matter to you?</div>
<div class="line">[Thursday 04 November 2010] [10:26:49] &lt;mato&gt; Well, you can help by starting to use the current Git master if you&#8217;re not already doing so, and yell if anything is broken.</div>
<div class="line">[Thursday 04 November 2010] [10:26:50] &lt;sustrik&gt;      the code is available on gitbub</div>
<div class="line">[Thursday 04 November 2010] [10:26:55] &lt;sustrik&gt;      do make dist</div>
<div class="line">[Thursday 04 November 2010] [10:26:59] &lt;Guthur&gt;       not particularly to be honest</div>
<div class="line">[Thursday 04 November 2010] [10:26:59] &lt;sustrik&gt;      and you have a package</div>
<div class="line">[Thursday 04 November 2010] [10:27:22] &lt;Guthur&gt;       I just like to see 0MQ moving forward</div>
<div class="line">[Thursday 04 November 2010] [10:29:12] &lt;sustrik&gt;      so do i :)</div>
<div class="line">[Thursday 04 November 2010] [10:30:16] &lt;Guthur&gt;       I may actually be able to bring 0MQ into a project at work, and it would be nice if a release version of 2.1 was the baseline, just because it is so imminent</div>
<div class="line">[Thursday 04 November 2010] [10:31:05] &lt;sustrik&gt;      well, start with what&#8217;s on master right now, then switch to official 2.1.0 when it is released</div>
<div class="line">[Thursday 04 November 2010] [10:31:10] &lt;sustrik&gt;      no changes are planned</div>
<div class="line">[Thursday 04 November 2010] [10:31:15] &lt;sustrik&gt;      that would break you app</div>
<div class="line">[Thursday 04 November 2010] [10:31:31] &lt;sustrik&gt;      your apps</div>
<div class="line">[Thursday 04 November 2010] [10:32:10] &lt;Guthur&gt;       sounds good, it&#8217;s only tentatively planned at the moment, but here&#8217;s hoping</div>
<div class="line">[Thursday 04 November 2010] [10:38:52] &lt;mato&gt; sustrik: I just tested the FD_SETSIZE patch you applied</div>
<div class="line">[Thursday 04 November 2010] [10:39:16] &lt;mato&gt; sustrik: and (this is very strange), for me it seems to break every application; local_thr just exits.</div>
<div class="line">[Thursday 04 November 2010] [10:39:22] &lt;mato&gt; sustrik: Same for my applications.</div>
<div class="line">[Thursday 04 November 2010] [10:39:36] &lt;mato&gt; sustrik: If I take out the FD_SETSIZE definition of 1024 then it all works again.</div>
<div class="line">[Thursday 04 November 2010] [10:39:50] &lt;mato&gt; pieterh: Did you test that patch?!</div>
<div class="line">[Thursday 04 November 2010] [11:01:24] &lt;<a href="#id545"><span class="problematic" id="id546">andrewvc_</span></a>&gt;    cremes: you around?</div>
<div class="line">[Thursday 04 November 2010] [11:01:42] &lt;cremes&gt;       <a href="#id547"><span class="problematic" id="id548">andrewvc_</span></a>: yep, what&#8217;s up?</div>
<div class="line">[Thursday 04 November 2010] [11:01:50] &lt;<a href="#id549"><span class="problematic" id="id550">andrewvc_</span></a>&gt;    yo</div>
<div class="line">[Thursday 04 November 2010] [11:02:06] &lt;<a href="#id551"><span class="problematic" id="id552">andrewvc_</span></a>&gt;    just did a little work on ZMQ_FD and ZMQ_EVENTS for ffi-rzmq last night</div>
<div class="line">[Thursday 04 November 2010] [11:02:24] &lt;cremes&gt;       ah, most excellent! that was on my to-do list as soon as it was released</div>
<div class="line">[Thursday 04 November 2010] [11:02:38] &lt;<a href="#id553"><span class="problematic" id="id554">andrewvc_</span></a>&gt;    yeah, it seems to work well enough from master</div>
<div class="line">[Thursday 04 November 2010] [11:02:42] &lt;<a href="#id555"><span class="problematic" id="id556">andrewvc_</span></a>&gt;    was going to see about maybe making an eventmachine backend option for zmqmachine</div>
<div class="line">[Thursday 04 November 2010] [11:02:53] &lt;cremes&gt;       i like that idea</div>
<div class="line">[Thursday 04 November 2010] [11:03:16] &lt;cremes&gt;       did you need some help with the new 2.1 stuff or are you prepping a pull request?</div>
<div class="line">[Thursday 04 November 2010] [11:03:23] &lt;<a href="#id557"><span class="problematic" id="id558">andrewvc_</span></a>&gt;    hmmm</div>
<div class="line">[Thursday 04 November 2010] [11:03:32] &lt;<a href="#id559"><span class="problematic" id="id560">andrewvc_</span></a>&gt;    well, I wrote a very minimal test case</div>
<div class="line">[Thursday 04 November 2010] [11:03:38] &lt;<a href="#id561"><span class="problematic" id="id562">andrewvc_</span></a>&gt;    they both seem to work</div>
<div class="line">[Thursday 04 November 2010] [11:03:53] &lt;<a href="#id563"><span class="problematic" id="id564">andrewvc_</span></a>&gt;    It&#8217;s probably good to go, I mean, I just needed to add the right constants and types in</div>
<div class="line">[Thursday 04 November 2010] [11:04:40] &lt;sustrik&gt;      mato: yuck</div>
<div class="line">[Thursday 04 November 2010] [11:05:12] &lt;sustrik&gt;      any idea what the problem is?</div>
<div class="line">[Thursday 04 November 2010] [11:05:24] &lt;<a href="#id565"><span class="problematic" id="id566">andrewvc_</span></a>&gt;    <a class="reference external" href="https://github.com/andrewvc/ffi-rzmq/commit/4b306b00e26f0c8a0b46b0531c14d1c873d2ddb5#diff-2">https://github.com/andrewvc/ffi-rzmq/commit/4b306b00e26f0c8a0b46b0531c14d1c873d2ddb5#diff-2</a></div>
<div class="line">[Thursday 04 November 2010] [11:05:27] &lt;<a href="#id567"><span class="problematic" id="id568">andrewvc_</span></a>&gt;    that enough coverage</div>
<div class="line">[Thursday 04 November 2010] [11:05:57] &lt;mato&gt; sustrik: I wrote an email. I don&#8217;t know, some Windoze crap</div>
<div class="line">[Thursday 04 November 2010] [11:06:23] &lt;mato&gt; sustrik: ultimately it doesn&#8217;t work, and allowing anyone to strong-arm you into applying something like this untested is bad.</div>
<div class="line">[Thursday 04 November 2010] [11:07:04] &lt;sustrik&gt;      mato: how can in possibly require same value for while libzmq?</div>
<div class="line">[Thursday 04 November 2010] [11:07:18] &lt;mato&gt; sustrik: cannot parse the above sentence :-)</div>
<div class="line">[Thursday 04 November 2010] [11:07:22] &lt;mato&gt; sustrik: i&#8217;ll call you....</div>
<div class="line">[Thursday 04 November 2010] [11:07:26] &lt;sustrik&gt;      ack</div>
<div class="line">[Thursday 04 November 2010] [11:07:35] &lt;cremes&gt;       <a href="#id569"><span class="problematic" id="id570">andrewvc_</span></a>: yeah, looks good. i didn&#8217;t think adding support would be very challenging and you just proved it</div>
<div class="line">[Thursday 04 November 2010] [11:07:35] &lt;<a href="#id571"><span class="problematic" id="id572">andrewvc_</span></a>&gt;    I did play around with actually, I have some more specs I can write..</div>
<div class="line">[Thursday 04 November 2010] [11:07:47] &lt;cremes&gt;       if you have more specs, the more the merrier</div>
<div class="line">[Thursday 04 November 2010] [11:08:00] &lt;<a href="#id573"><span class="problematic" id="id574">andrewvc_</span></a>&gt;    hehe, yeah lemme just put em in, will take a couple minutes</div>
<div class="line">[Thursday 04 November 2010] [11:08:18] &lt;cremes&gt;       <a href="#id575"><span class="problematic" id="id576">andrewvc_</span></a>: do you know if all of the example programs continue to work with 2.1?</div>
<div class="line">[Thursday 04 November 2010] [11:11:37] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r756f7df 10/ src/select.cpp :</div>
<div class="line">[Thursday 04 November 2010] [11:11:37] &lt;CIA-20&gt;       zeromq2: Previous FD_STSIZE patch reverted.</div>
<div class="line">[Thursday 04 November 2010] [11:11:37] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/deoB7b">http://bit.ly/deoB7b</a></div>
<div class="line">[Thursday 04 November 2010] [11:12:04] &lt;mato&gt; sustrik: thanks.</div>
<div class="line">[Thursday 04 November 2010] [11:12:13] &lt;sustrik&gt;      np</div>
<div class="line">[Thursday 04 November 2010] [11:12:33] &lt;mato&gt; sustrik: let the ML know also if you can</div>
<div class="line">[Thursday 04 November 2010] [11:12:58] &lt;sustrik&gt;      i&#8217;m in process of doing so</div>
<div class="line">[Thursday 04 November 2010] [11:14:45] &lt;sustrik&gt;      mato: aha</div>
<div class="line">[Thursday 04 November 2010] [11:14:58] &lt;sustrik&gt;      it looks like FD_SETSIZE affects the whole socket subsystem</div>
<div class="line">[Thursday 04 November 2010] [11:15:29] &lt;sustrik&gt;      &#8220;The maximum number of sockets that a Windows Sockets application can use is determined at compile time by the manifest constant FD_SETSIZE.&#8221;</div>
<div class="line">[Thursday 04 November 2010] [11:15:56] &lt;sustrik&gt;      &#8220;If an application is designed to be capable of working with more than 64 sockets, the implementor should define the manifest FD_SETSIZE in every source file before including Winsock2.h.&#8221;</div>
<div class="line">[Thursday 04 November 2010] [11:16:18] &lt;sustrik&gt;      which, afaiu means that the libzmq and client app has to have same FD_SETSIZE</div>
<div class="line">[Thursday 04 November 2010] [11:18:36] &lt;mato&gt; sustrik: guess so, in which case lets just leave things as they are for now</div>
<div class="line">[Thursday 04 November 2010] [11:19:02] &lt;mato&gt; sustrik: since the only obvious way to do that is for a developer to add -DFD_SETSIZE=1024 for all their libraries and applications</div>
<div class="line">[Thursday 04 November 2010] [11:19:23] &lt;pieterh&gt;      well, mato, the obvious way is to define a sane FD_SETSIZE and allow the developer to override it</div>
<div class="line">[Thursday 04 November 2010] [11:19:34] &lt;pieterh&gt;      you keep forgetting somehow that zmq.h now defines FD_SETSIZE to 64</div>
<div class="line">[Thursday 04 November 2010] [11:19:40] &lt;mato&gt; pieterh: NO IT DOESN&#8217;T</div>
<div class="line">[Thursday 04 November 2010] [11:19:43] &lt;pieterh&gt;      yes, it does</div>
<div class="line">[Thursday 04 November 2010] [11:19:49] &lt;pieterh&gt;      how are you missing this</div>
<div class="line">[Thursday 04 November 2010] [11:19:51] &lt;mato&gt; pieterh: please show me the #define</div>
<div class="line">[Thursday 04 November 2010] [11:19:58] &lt;mato&gt; pieterh: in zmq.h</div>
<div class="line">[Thursday 04 November 2010] [11:19:59] &lt;pieterh&gt;      it includes winsock2.h, right?</div>
<div class="line">[Thursday 04 November 2010] [11:20:02] &lt;pieterh&gt;      that does it</div>
<div class="line">[Thursday 04 November 2010] [11:20:11] &lt;pieterh&gt;      if you&#8217;re not getting that, it explains a lot</div>
<div class="line">[Thursday 04 November 2010] [11:20:13] &lt;mato&gt; so what, that&#8217;s not our fault, and it doesn&#8217;t stop the developer from overriding it</div>
<div class="line">[Thursday 04 November 2010] [11:20:19] &lt;pieterh&gt;      so what?</div>
<div class="line">[Thursday 04 November 2010] [11:20:26] &lt;pieterh&gt;      it means it defines FD_SETSIZE</div>
<div class="line">[Thursday 04 November 2010] [11:20:34] &lt;pieterh&gt;      YES IT DOES, in your language</div>
<div class="line">[Thursday 04 November 2010] [11:20:39] &lt;sustrik&gt;      guys, stop it</div>
<div class="line">[Thursday 04 November 2010] [11:20:41] &lt;mato&gt; pieterh: why can&#8217;t you just define FD_SETSIZE yourself?</div>
<div class="line">[Thursday 04 November 2010] [11:20:53] &lt;mato&gt; pieterh: and I resent you strong-arming sustrik into applying an untested patch</div>
<div class="line">[Thursday 04 November 2010] [11:20:56] &lt;pieterh&gt;      I would like to define it before every include of winsock2.h</div>
<div class="line">[Thursday 04 November 2010] [11:20:58] &lt;sustrik&gt;      the win docs says the FD_SETSIZE has to be same for the whole app</div>
<div class="line">[Thursday 04 November 2010] [11:21:05] &lt;sustrik&gt;      we are not going to solve that</div>
<div class="line">[Thursday 04 November 2010] [11:21:17] &lt;sustrik&gt;      it&#8217;s out of scope of 0mq</div>
<div class="line">[Thursday 04 November 2010] [11:21:22] &lt;pieterh&gt;      mato: I did say, clearly, I was going to test that this weekend</div>
<div class="line">[Thursday 04 November 2010] [11:21:30] &lt;pieterh&gt;      the patch was not for sustrik, but for people to play with</div>
<div class="line">[Thursday 04 November 2010] [11:21:41] &lt;pieterh&gt;      i fail to see why this is so hard</div>
<div class="line">[Thursday 04 November 2010] [11:21:44] &lt;mato&gt; it&#8217;s still a cosmetic change</div>
<div class="line">[Thursday 04 November 2010] [11:21:48] &lt;pieterh&gt;      so is everything</div>
<div class="line">[Thursday 04 November 2010] [11:21:55] &lt;pieterh&gt;      that&#8217;s a meaningless response</div>
<div class="line">[Thursday 04 November 2010] [11:22:08] &lt;pieterh&gt;      why do you refuse to add that code into zmq.h?</div>
<div class="line">[Thursday 04 November 2010] [11:22:15] &lt;pieterh&gt;      that&#8217;s just confusing to me</div>
<div class="line">[Thursday 04 November 2010] [11:22:31] &lt;mato&gt; because we don&#8217;t even know if it&#8217;ll work correctly</div>
<div class="line">[Thursday 04 November 2010] [11:22:33] &lt;pieterh&gt;      this should be a 5-minute change</div>
<div class="line">[Thursday 04 November 2010] [11:22:35] &lt;mato&gt; you saw what martin&#8217;s change did</div>
<div class="line">[Thursday 04 November 2010] [11:22:38] &lt;pieterh&gt;      sweet lord</div>
<div class="line">[Thursday 04 November 2010] [11:22:40] &lt;mato&gt; the impact is unknown</div>
<div class="line">[Thursday 04 November 2010] [11:22:45] &lt;pieterh&gt;      martin took half of my patch</div>
<div class="line">[Thursday 04 November 2010] [11:22:55] &lt;pieterh&gt;      and furthermore it&#8217;s trivial to test once you accept that we can make that change</div>
<div class="line">[Thursday 04 November 2010] [11:23:20] &lt;mato&gt; why the hell should i accept any change that&#8217;s not been tested and has weird side effects is not obvious to me</div>
<div class="line">[Thursday 04 November 2010] [11:23:28] &lt;pieterh&gt;      that is not what I&#8217;m requesting</div>
<div class="line">[Thursday 04 November 2010] [11:23:38] &lt;pieterh&gt;      i&#8217;m requesting you do not boycott a change to zmq.h</div>
<div class="line">[Thursday 04 November 2010] [11:23:53] &lt;pieterh&gt;      that is the sticking point, because that demand makes this fix impossible afaics</div>
<div class="line">[Thursday 04 November 2010] [11:23:59] &lt;pieterh&gt;      yet your demand makes no sense whatsoever</div>
<div class="line">[Thursday 04 November 2010] [11:25:14] &lt;mato&gt; my demand is there to protect the user who may be mixing zmq/non-zmq socket code</div>
<div class="line">[Thursday 04 November 2010] [11:25:25] &lt;pieterh&gt;      you are, sorry, speaking out of your hat now</div>
<div class="line">[Thursday 04 November 2010] [11:25:41] &lt;pieterh&gt;      by including winsock2.h you are already messing with the user</div>
<div class="line">[Thursday 04 November 2010] [11:26:02] &lt;mato&gt; but I don&#8217;t have any other choice</div>
<div class="line">[Thursday 04 November 2010] [11:26:05] &lt;mato&gt; at the moment</div>
<div class="line">[Thursday 04 November 2010] [11:26:15] &lt;pieterh&gt;      then you accept that zmq.h defines the limit as 64</div>
<div class="line">[Thursday 04 November 2010] [11:26:35] &lt;mato&gt; if I then change something else which as we can see is an invasive <em>system default</em>, that is making the problem worse</div>
<div class="line">[Thursday 04 November 2010] [11:26:47] &lt;pieterh&gt;      ? what</div>
<div class="line">[Thursday 04 November 2010] [11:27:01] &lt;pieterh&gt;      the only problem here is that apps will hit a stupidly low limit</div>
<div class="line">[Thursday 04 November 2010] [11:27:12] &lt;pieterh&gt;      it is not a <em>system default</em></div>
<div class="line">[Thursday 04 November 2010] [11:27:17] &lt;pieterh&gt;      where do you get that notion from?</div>
<div class="line">[Thursday 04 November 2010] [11:27:19] &lt;mato&gt; ABI default then</div>
<div class="line">[Thursday 04 November 2010] [11:27:29] &lt;pieterh&gt;      no, it&#8217;s a hard-coded default in winsock2.h</div>
<div class="line">[Thursday 04 November 2010] [11:27:30] &lt;mato&gt; where? from winsock2.h :-)</div>
<div class="line">[Thursday 04 November 2010] [11:27:32] &lt;pieterh&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [11:27:35] &lt;pieterh&gt;      just that one file</div>
<div class="line">[Thursday 04 November 2010] [11:27:47] &lt;pieterh&gt;      the ABI has no actual limit (or it&#8217;s much higher)</div>
<div class="line">[Thursday 04 November 2010] [11:27:56] &lt;mato&gt; except that as you can see from martin&#8217;s patch, it does seem to have strange ABI side effects</div>
<div class="line">[Thursday 04 November 2010] [11:28:09] &lt;pieterh&gt;      it literally says, and you can check, #ifndef FD_SETSIZE / #define FD_SETSIZE 64...</div>
<div class="line">[Thursday 04 November 2010] [11:28:14] &lt;mato&gt; if it really did effect <em>just</em> the file winsock2.h was included into, then Martin&#8217;s patch would have worked</div>
<div class="line">[Thursday 04 November 2010] [11:28:18] &lt;pieterh&gt;      that&#8217;s because martin&#8217;s patch was broken</div>
<div class="line">[Thursday 04 November 2010] [11:28:22] &lt;mato&gt; how so?</div>
<div class="line">[Thursday 04 November 2010] [11:28:29] &lt;pieterh&gt;      it was not what I proposed</div>
<div class="line">[Thursday 04 November 2010] [11:28:32] &lt;pieterh&gt;      i changed select.hpp</div>
<div class="line">[Thursday 04 November 2010] [11:28:33] &lt;mato&gt; lol</div>
<div class="line">[Thursday 04 November 2010] [11:28:35] &lt;pieterh&gt;      he changed select.cpp</div>
<div class="line">[Thursday 04 November 2010] [11:28:38] &lt;pieterh&gt;      ok, lok</div>
<div class="line">[Thursday 04 November 2010] [11:28:41] &lt;pieterh&gt;      lol</div>
<div class="line">[Thursday 04 November 2010] [11:28:58] &lt;sustrik&gt;      guys, please, read what msdn says</div>
<div class="line">[Thursday 04 November 2010] [11:29:01] &lt;<a href="#id577"><span class="problematic" id="id578">andrewvc_</span></a>&gt;    cremes: well, I&#8217;m glad I started writing extra specs</div>
<div class="line">[Thursday 04 November 2010] [11:29:11] &lt;sustrik&gt;      all the compilation units in app have to have same FD_SETSIZE</div>
<div class="line">[Thursday 04 November 2010] [11:29:17] &lt;pieterh&gt;      sustrik: I&#8217;ve written and maintained windows servers for years</div>
<div class="line">[Thursday 04 November 2010] [11:29:18] &lt;sustrik&gt;      all the libs</div>
<div class="line">[Thursday 04 November 2010] [11:29:21] &lt;sustrik&gt;      the client app</div>
<div class="line">[Thursday 04 November 2010] [11:29:22] &lt;pieterh&gt;      yes, all the libs</div>
<div class="line">[Thursday 04 November 2010] [11:29:24] &lt;mato&gt; sustrik: I did, but you&#8217;ll have to convince Pieter and his years of experience with redefining FD_SETSIZE for years</div>
<div class="line">[Thursday 04 November 2010] [11:29:24] &lt;<a href="#id579"><span class="problematic" id="id580">andrewvc_</span></a>&gt;    not sure if this is an issue, but if I call IO.new on the FDs, the spec suite fails after a while, &#8216;too many open files&#8217;</div>
<div class="line">[Thursday 04 November 2010] [11:29:25] &lt;sustrik&gt;      etc.</div>
<div class="line">[Thursday 04 November 2010] [11:29:46] &lt;pieterh&gt;      sustrik, and now 0MQ <em>imposes</em> a value of 64, that&#8217;s it</div>
<div class="line">[Thursday 04 November 2010] [11:29:52] &lt;pieterh&gt;      unless you override externally</div>
<div class="line">[Thursday 04 November 2010] [11:30:04] &lt;pieterh&gt;      I&#8217;m suggesting we impose a value of 1024, unless you override externally</div>
<div class="line">[Thursday 04 November 2010] [11:30:04] &lt;sustrik&gt;      sure</div>
<div class="line">[Thursday 04 November 2010] [11:30:09] &lt;pieterh&gt;      it is simple, obvious, and easy</div>
<div class="line">[Thursday 04 November 2010] [11:30:18] &lt;sustrik&gt;      you&#8217;ll have to do that for all the existing libraries</div>
<div class="line">[Thursday 04 November 2010] [11:30:19] &lt;pieterh&gt;      the only problem is &#8220;you may not touch zmq.h&#8221; which is a bogus demand</div>
<div class="line">[Thursday 04 November 2010] [11:30:30] &lt;sustrik&gt;      it&#8217;s world-wide default, basically</div>
<div class="line">[Thursday 04 November 2010] [11:30:36] &lt;mato&gt; sustrik: bingo</div>
<div class="line">[Thursday 04 November 2010] [11:30:38] &lt;cremes&gt;       <a href="#id581"><span class="problematic" id="id582">andrewvc_</span></a>: IO.new? where would you use that?</div>
<div class="line">[Thursday 04 November 2010] [11:30:50] &lt;sustrik&gt;      because any lib</div>
<div class="line">[Thursday 04 November 2010] [11:30:55] &lt;pieterh&gt;      sustrik: how many other libraries, exactly, does a 0MQ use, which do selects?</div>
<div class="line">[Thursday 04 November 2010] [11:31:00] &lt;sustrik&gt;      that doesn&#8217;t redefine it, uses 64</div>
<div class="line">[Thursday 04 November 2010] [11:31:15] &lt;sustrik&gt;      i mean the libraries client application uses</div>
<div class="line">[Thursday 04 November 2010] [11:31:24] &lt;<a href="#id583"><span class="problematic" id="id584">andrewvc_</span></a>&gt;    I was doing I was trying to see if the FD was valid with: #lambda { IO.new(&#64;fd).close }.should_not raise_exception(Errno::EBADF)</div>
<div class="line">[Thursday 04 November 2010] [11:31:27] &lt;pieterh&gt;      so, when a library like APR uses FD_SETSIZE 2048, they are insane?</div>
<div class="line">[Thursday 04 November 2010] [11:31:28] &lt;<a href="#id585"><span class="problematic" id="id586">andrewvc_</span></a>&gt;    is that a bad idea?</div>
<div class="line">[Thursday 04 November 2010] [11:31:41] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [11:31:48] &lt;cremes&gt;       <a href="#id587"><span class="problematic" id="id588">andrewvc_</span></a>: probably... i don&#8217;t think the returned FD is a <em>real</em> FD</div>
<div class="line">[Thursday 04 November 2010] [11:32:04] &lt;sustrik&gt;      it you link your app with apr and 0mq at the same time it&#8217;ll crash :(</div>
<div class="line">[Thursday 04 November 2010] [11:32:05] &lt;cremes&gt;       i <em>think</em> it is a synthetic FD created by the library</div>
<div class="line">[Thursday 04 November 2010] [11:32:13] &lt;cremes&gt;       but i&#8217;m not certain</div>
<div class="line">[Thursday 04 November 2010] [11:32:24] &lt;<a href="#id589"><span class="problematic" id="id590">andrewvc_</span></a>&gt;    ahhh, hmm, well it worked in a minimal script I wrote</div>
<div class="line">[Thursday 04 November 2010] [11:32:25] &lt;DerGuteMoritz&gt;        is that ZMQ_FD?</div>
<div class="line">[Thursday 04 November 2010] [11:32:25] &lt;pieterh&gt;      sustrik: no, at that point you are doing weird stuff and you can learn to -DFD_SETSIZE=whatever</div>
<div class="line">[Thursday 04 November 2010] [11:32:34] &lt;<a href="#id591"><span class="problematic" id="id592">andrewvc_</span></a>&gt;    lemme double check that</div>
<div class="line">[Thursday 04 November 2010] [11:32:36] &lt;pieterh&gt;      it&#8217;s not about protecting people who do weird stuff</div>
<div class="line">[Thursday 04 November 2010] [11:32:40] &lt;pieterh&gt;      it&#8217;s about making the defaults work sanely</div>
<div class="line">[Thursday 04 November 2010] [11:33:08] &lt;sustrik&gt;      it&#8217;s a glabal default, sorry, no way for 0mq to fix it</div>
<div class="line">[Thursday 04 November 2010] [11:33:12] &lt;pieterh&gt;      from my quick scan, Boost also sets this</div>
<div class="line">[Thursday 04 November 2010] [11:33:33] &lt;sustrik&gt;      same problem</div>
<div class="line">[Thursday 04 November 2010] [11:33:45] &lt;pieterh&gt;      oh sweet lord</div>
<div class="line">[Thursday 04 November 2010] [11:33:59] &lt;pieterh&gt;      ok, guys, your superior windows experience trumps mine</div>
<div class="line">[Thursday 04 November 2010] [11:34:02] &lt;pieterh&gt;      i give up, thanks</div>
<div class="line">[Thursday 04 November 2010] [11:34:04] &lt;sustrik&gt;      what i think is what happens in technical terms</div>
<div class="line">[Thursday 04 November 2010] [11:34:09] &lt;pieterh&gt;      it&#8217;s ok, sustrik</div>
<div class="line">[Thursday 04 November 2010] [11:34:18] &lt;pieterh&gt;      there is no point in this</div>
<div class="line">[Thursday 04 November 2010] [11:34:33] &lt;pieterh&gt;      this is what FAQs are for</div>
<div class="line">[Thursday 04 November 2010] [11:34:44] &lt;sustrik&gt;      is that WSA subsystem is initialised with value of FD_SETSIZE that&#8217;s defined in the compilation unit that invokes it</div>
<div class="line">[Thursday 04 November 2010] [11:34:56] &lt;sustrik&gt;      but &#8211; WSA can be initialised multiple times</div>
<div class="line">[Thursday 04 November 2010] [11:35:05] &lt;sustrik&gt;      so the later calls are just ignored</div>
<div class="line">[Thursday 04 November 2010] [11:35:07] &lt;<a href="#id593"><span class="problematic" id="id594">andrewvc_</span></a>&gt;    cremes: check this out <a class="reference external" href="https://gist.github.com/662632">https://gist.github.com/662632</a></div>
<div class="line">[Thursday 04 November 2010] [11:35:11] &lt;mato&gt; sustrik: interestingly, APR seems to define FD_SETSIZE only in the source file that uses select()</div>
<div class="line">[Thursday 04 November 2010] [11:35:14] &lt;sustrik&gt;      it&#8217;s insane design</div>
<div class="line">[Thursday 04 November 2010] [11:35:26] &lt;<a href="#id595"><span class="problematic" id="id596">andrewvc_</span></a>&gt;    so, that doesn&#8217;t error, and it does seem to validate the FD as being real</div>
<div class="line">[Thursday 04 November 2010] [11:35:44] &lt;sustrik&gt;      mato: well, i would rather stick to what MS says</div>
<div class="line">[Thursday 04 November 2010] [11:35:44] &lt;cremes&gt;       <a href="#id597"><span class="problematic" id="id598">andrewvc_</span></a>: pastie the results; i haven&#8217;t pulled those changes yet so i can&#8217;t run it</div>
<div class="line">[Thursday 04 November 2010] [11:35:46] &lt;mato&gt; sustrik: so presumably, there is some way that can be made to work, but we don&#8217;t know what it is, and we&#8217;re not going to find out by arguing about this under pressure</div>
<div class="line">[Thursday 04 November 2010] [11:35:57] &lt;sustrik&gt;      otherwise it can break with systems we haven&#8217;t tested with</div>
<div class="line">[Thursday 04 November 2010] [11:35:59] &lt;mato&gt; sustrik: I agree.</div>
<div class="line">[Thursday 04 November 2010] [11:36:01] &lt;<a href="#id599"><span class="problematic" id="id600">andrewvc_</span></a>&gt;    ah, oh yes, well basically it does give you an IO</div>
<div class="line">[Thursday 04 November 2010] [11:36:13] &lt;pieterh&gt;      mato: if you would like to prove me wrong, properly, try the actual patch I sent, not Martin&#8217;s version</div>
<div class="line">[Thursday 04 November 2010] [11:36:15] &lt;<a href="#id601"><span class="problematic" id="id602">andrewvc_</span></a>&gt;    the spec runs, but after it gets through 90% of the specs jruby crashes</div>
<div class="line">[Thursday 04 November 2010] [11:36:37] &lt;cremes&gt;       <a href="#id603"><span class="problematic" id="id604">andrewvc_</span></a>: does it work under mri or rubinius?</div>
<div class="line">[Thursday 04 November 2010] [11:36:43] &lt;DerGuteMoritz&gt;        <a href="#id605"><span class="problematic" id="id606">andrewvc_</span></a>: and if you remove the test you mentioned above it works?</div>
<div class="line">[Thursday 04 November 2010] [11:36:55] &lt;mato&gt; pieterh: the thing is, you are making me do extra work in order to accept a change I really don&#8217;t care for.</div>
<div class="line">[Thursday 04 November 2010] [11:37:01] &lt;<a href="#id607"><span class="problematic" id="id608">andrewvc_</span></a>&gt;    actually it doesn&#8217;t work in jruby</div>
<div class="line">[Thursday 04 November 2010] [11:37:02] &lt;mato&gt; pieterh: so no. you do that work. produce test results.</div>
<div class="line">[Thursday 04 November 2010] [11:37:03] &lt;<a href="#id609"><span class="problematic" id="id610">andrewvc_</span></a>&gt;    works in MRI</div>
<div class="line">[Thursday 04 November 2010] [11:37:06] &lt;pieterh&gt;      mato: then don&#8217;t test a patch I did not make and complain to me...</div>
<div class="line">[Thursday 04 November 2010] [11:37:07] &lt;mato&gt; pieterh: prove it doesn&#8217;t break anything.</div>
<div class="line">[Thursday 04 November 2010] [11:37:08] &lt;DerGuteMoritz&gt;        that ruby binding looks pretty low level</div>
<div class="line">[Thursday 04 November 2010] [11:37:10] &lt;<a href="#id611"><span class="problematic" id="id612">andrewvc_</span></a>&gt;    rubinius, lemme check</div>
<div class="line">[Thursday 04 November 2010] [11:37:18] &lt;pieterh&gt;      I already said I would test my patch, when I submitted it</div>
<div class="line">[Thursday 04 November 2010] [11:37:24] &lt;pieterh&gt;      it was there for people to play with</div>
<div class="line">[Thursday 04 November 2010] [11:37:28] &lt;<a href="#id613"><span class="problematic" id="id614">andrewvc_</span></a>&gt;    this is the FFI binding</div>
<div class="line">[Thursday 04 November 2010] [11:37:47] &lt;DerGuteMoritz&gt;        <a href="#id615"><span class="problematic" id="id616">andrewvc_</span></a>: looks like an fd leak somewhere</div>
<div class="line">[Thursday 04 November 2010] [11:38:20] &lt;pieterh&gt;      cremes, <a href="#id617"><span class="problematic" id="id618">andrewvc_</span></a>, DerGuteMoritz will you guys stop doing real work and let us argue in peace???</div>
<div class="line">[Thursday 04 November 2010] [11:38:21] &lt;mato&gt; ok, enough. If someone produces a tested patch which gets consensus and review from other Windows developers, then it can be applied.</div>
<div class="line">[Thursday 04 November 2010] [11:38:28] &lt;DerGuteMoritz&gt;        pieterh: :-D</div>
<div class="line">[Thursday 04 November 2010] [11:38:30] &lt;<a href="#id619"><span class="problematic" id="id620">andrewvc_</span></a>&gt;    lol</div>
<div class="line">[Thursday 04 November 2010] [11:38:48] &lt;<a href="#id621"><span class="problematic" id="id622">andrewvc_</span></a>&gt;    well, it only creates one FD per socket type, so shouldn&#8217;t be that many FDs</div>
<div class="line">[Thursday 04 November 2010] [11:38:56] &lt;<a href="#id623"><span class="problematic" id="id624">andrewvc_</span></a>&gt;    jruby doesn&#8217;t like that gist I sent</div>
<div class="line">[Thursday 04 November 2010] [11:38:57] &lt;pieterh&gt;      mato: and you allow me to fix zmq.h too without setting random &#8220;I will not accepts&#8221;?</div>
<div class="line">[Thursday 04 November 2010] [11:38:57] &lt;DerGuteMoritz&gt;        <a href="#id625"><span class="problematic" id="id626">andrewvc_</span></a>: maybe the jruby gc is not as eager as the other implementations&#8217;</div>
<div class="line">[Thursday 04 November 2010] [11:38:58] &lt;<a href="#id627"><span class="problematic" id="id628">andrewvc_</span></a>&gt;    MRI and RBX do</div>
<div class="line">[Thursday 04 November 2010] [11:39:12] &lt;DerGuteMoritz&gt;        I see</div>
<div class="line">[Thursday 04 November 2010] [11:39:13] &lt;<a href="#id629"><span class="problematic" id="id630">andrewvc_</span></a>&gt;    but only jruby runs the full spec suite</div>
<div class="line">[Thursday 04 November 2010] [11:39:13] &lt;mato&gt; pieterh: <em>If and only if</em> you can prove it does not break an existing application.</div>
<div class="line">[Thursday 04 November 2010] [11:39:19] &lt;mato&gt; pieterh: <em>prove</em></div>
<div class="line">[Thursday 04 November 2010] [11:39:24] &lt;DerGuteMoritz&gt;        <a href="#id631"><span class="problematic" id="id632">andrewvc_</span></a>: and the error on that gist is too many fds?</div>
<div class="line">[Thursday 04 November 2010] [11:39:28] &lt;pieterh&gt;      i am supposed to prove the non-existence of god as well?</div>
<div class="line">[Thursday 04 November 2010] [11:39:31] &lt;<a href="#id633"><span class="problematic" id="id634">andrewvc_</span></a>&gt;    no, no error on the gist</div>
<div class="line">[Thursday 04 November 2010] [11:39:34] &lt;<a href="#id635"><span class="problematic" id="id636">andrewvc_</span></a>&gt;    jruby hangs</div>
<div class="line">[Thursday 04 November 2010] [11:39:38] &lt;<a href="#id637"><span class="problematic" id="id638">andrewvc_</span></a>&gt;    rubinius and MRI work</div>
<div class="line">[Thursday 04 November 2010] [11:39:43] &lt;DerGuteMoritz&gt;        interesting</div>
<div class="line">[Thursday 04 November 2010] [11:39:43] &lt;mato&gt; pieterh: yes, since you&#8217;re arguing about damn cosmetics</div>
<div class="line">[Thursday 04 November 2010] [11:39:48]         * pieterh wonders how to disprove a negative...</div>
<div class="line">[Thursday 04 November 2010] [11:39:49] &lt;cremes&gt;       pieterh: :)</div>
<div class="line">[Thursday 04 November 2010] [11:40:01] &lt;pieterh&gt;      ah, /me knows the answer</div>
<div class="line">[Thursday 04 November 2010] [11:40:16] &lt;DerGuteMoritz&gt;        <a href="#id639"><span class="problematic" id="id640">andrewvc_</span></a>: at what point does jruby hang?</div>
<div class="line">[Thursday 04 November 2010] [11:40:46] &lt;pieterh&gt;      mato: does this burden of proof apply to all patches or only mine?</div>
<div class="line">[Thursday 04 November 2010] [11:40:49] &lt;<a href="#id641"><span class="problematic" id="id642">andrewvc_</span></a>&gt;    lemme</div>
<div class="line">[Thursday 04 November 2010] [11:40:57] &lt;cremes&gt;       <a href="#id643"><span class="problematic" id="id644">andrewvc_</span></a>: if it&#8217;s a reproducible hang, we can probably get the jruby guys to lend a hand</div>
<div class="line">[Thursday 04 November 2010] [11:41:08] &lt;cremes&gt;       particularly if the other runtimes don&#8217;t</div>
<div class="line">[Thursday 04 November 2010] [11:41:16] &lt;pieterh&gt;      and could you please document it so that I know what rules I need to follow?</div>
<div class="line">[Thursday 04 November 2010] [11:41:30] &lt;mato&gt; pieterh: dunno. since you&#8217;re insisting so much, and sustrik and myself are both against, then it seems to apply.</div>
<div class="line">[Thursday 04 November 2010] [11:41:31] &lt;pieterh&gt;      &#8220;mato said on irc&#8221; is not particularly good</div>
<div class="line">[Thursday 04 November 2010] [11:41:39] &lt;pieterh&gt;      not good enough, mato</div>
<div class="line">[Thursday 04 November 2010] [11:41:42] &lt;pieterh&gt;      rules are documented</div>
<div class="line">[Thursday 04 November 2010] [11:41:46] &lt;pieterh&gt;      and they apply to everyone</div>
<div class="line">[Thursday 04 November 2010] [11:42:01] &lt;pieterh&gt;      otherwise it&#8217;s just shrieking in the chatroom</div>
<div class="line">[Thursday 04 November 2010] [11:42:06] &lt;mato&gt; you&#8217;re really enjoying this, right</div>
<div class="line">[Thursday 04 November 2010] [11:42:11] &lt;pieterh&gt;      not really</div>
<div class="line">[Thursday 04 November 2010] [11:42:16] &lt;mato&gt; then let&#8217;s just leave it</div>
<div class="line">[Thursday 04 November 2010] [11:42:18] &lt;<a href="#id645"><span class="problematic" id="id646">andrewvc_</span></a>&gt;    hangs on getsockopt(ZMQ::FD)</div>
<div class="line">[Thursday 04 November 2010] [11:42:19] &lt;pieterh&gt;      i&#8217;d rather get constructive feedback and solve this problem</div>
<div class="line">[Thursday 04 November 2010] [11:42:34] &lt;<a href="#id647"><span class="problematic" id="id648">andrewvc_</span></a>&gt;    I did most of my work in MRI 1.9</div>
<div class="line">[Thursday 04 November 2010] [11:42:36] &lt;mato&gt; you&#8217;re not listening to any feedback against your change</div>
<div class="line">[Thursday 04 November 2010] [11:42:40] &lt;mato&gt; by two of the core developers</div>
<div class="line">[Thursday 04 November 2010] [11:42:43] &lt;<a href="#id649"><span class="problematic" id="id650">andrewvc_</span></a>&gt;    and rbx</div>
<div class="line">[Thursday 04 November 2010] [11:42:47] &lt;mato&gt; against your proposed <em>untested</em> change</div>
<div class="line">[Thursday 04 November 2010] [11:42:51] &lt;pieterh&gt;      you did not try my change, mato</div>
<div class="line">[Thursday 04 November 2010] [11:43:02] &lt;pieterh&gt;      yes, untested, I do sincerely apologise</div>
<div class="line">[Thursday 04 November 2010] [11:43:10] &lt;<a href="#id651"><span class="problematic" id="id652">andrewvc_</span></a>&gt;    any ideas why it would hang?</div>
<div class="line">[Thursday 04 November 2010] [11:43:19] &lt;mato&gt; yes, I&#8217;m sorry, I tested a different change becuase that went into the trunk</div>
<div class="line">[Thursday 04 November 2010] [11:43:27] &lt;pieterh&gt;      yes, not my change</div>
<div class="line">[Thursday 04 November 2010] [11:43:34] &lt;mato&gt; but this whole situation just happened because you keep insisting</div>
<div class="line">[Thursday 04 November 2010] [11:43:38] &lt;cremes&gt;       <a href="#id653"><span class="problematic" id="id654">andrewvc_</span></a>: i have no idea... it could be an FFI bug, a JRuby bug, a 0mq bug or a JVM bug</div>
<div class="line">[Thursday 04 November 2010] [11:43:42] &lt;DerGuteMoritz&gt;        <a href="#id655"><span class="problematic" id="id656">andrewvc_</span></a>: what version of zmq is that with?</div>
<div class="line">[Thursday 04 November 2010] [11:43:49] &lt;<a href="#id657"><span class="problematic" id="id658">andrewvc_</span></a>&gt;    I pulled master last night</div>
<div class="line">[Thursday 04 November 2010] [11:43:54] &lt;DerGuteMoritz&gt;        hm okay</div>
<div class="line">[Thursday 04 November 2010] [11:44:01] &lt;pieterh&gt;      i will keep insisting, mato, when there are design flaws that aren&#8217;t properly addressed</div>
<div class="line">[Thursday 04 November 2010] [11:44:04] &lt;pieterh&gt;      sorry</div>
<div class="line">[Thursday 04 November 2010] [11:44:10] &lt;DerGuteMoritz&gt;        then what cremes said :-)</div>
<div class="line">[Thursday 04 November 2010] [11:44:16] &lt;<a href="#id659"><span class="problematic" id="id660">andrewvc_</span></a>&gt;    lol</div>
<div class="line">[Thursday 04 November 2010] [11:44:22] &lt;<a href="#id661"><span class="problematic" id="id662">andrewvc_</span></a>&gt;    well, if it works in rbx and 1.9.2</div>
<div class="line">[Thursday 04 November 2010] [11:44:33] &lt;DerGuteMoritz&gt;        yeah then it&#8217;s probably some java/jruby thing</div>
<div class="line">[Thursday 04 November 2010] [11:44:39] &lt;<a href="#id663"><span class="problematic" id="id664">andrewvc_</span></a>&gt;    it sounds like a jruby bug, maybe I&#8217;ll bother them. I really need to get the full spec suite to run in rbx though</div>
<div class="line">[Thursday 04 November 2010] [11:44:53] &lt;<a href="#id665"><span class="problematic" id="id666">andrewvc_</span></a>&gt;    rbx and mri hang somewhere in the socket specs, and never finish</div>
<div class="line">[Thursday 04 November 2010] [11:45:09] &lt;cremes&gt;       <a href="#id667"><span class="problematic" id="id668">andrewvc_</span></a>: i&#8217;ll take a look at that this weekend</div>
<div class="line">[Thursday 04 November 2010] [11:45:12] &lt;cremes&gt;       no time today</div>
<div class="line">[Thursday 04 November 2010] [11:45:43] &lt;<a href="#id669"><span class="problematic" id="id670">andrewvc_</span></a>&gt;    cool, i&#8217;ll take a look myself right now</div>
<div class="line">[Thursday 04 November 2010] [11:46:04] &lt;DerGuteMoritz&gt;        good luck with that!</div>
<div class="line">[Thursday 04 November 2010] [11:46:21] &lt;DerGuteMoritz&gt;        I have a question</div>
<div class="line">[Thursday 04 November 2010] [11:46:28] &lt;DerGuteMoritz&gt;        is there an upper limit for message size?</div>
<div class="line">[Thursday 04 November 2010] [11:46:39] &lt;DerGuteMoritz&gt;        or why would I want to use multi-part messages?</div>
<div class="line">[Thursday 04 November 2010] [11:47:05] &lt;DerGuteMoritz&gt;        I mean since they are queued in memory until they are complete and then sent in one fell swoop, I might as well just send one big message, no?</div>
<div class="line">[Thursday 04 November 2010] [11:47:27] &lt;sustrik&gt;      zero-copy</div>
<div class="line">[Thursday 04 November 2010] [11:47:45] &lt;DerGuteMoritz&gt;        hmmm how so?</div>
<div class="line">[Thursday 04 November 2010] [11:47:50] &lt;sustrik&gt;      if you have 2 memory blocks you want to send as a single atomic unit</div>
<div class="line">[Thursday 04 November 2010] [11:47:58] &lt;DerGuteMoritz&gt;        ah, I see</div>
<div class="line">[Thursday 04 November 2010] [11:48:00] &lt;sustrik&gt;      and don&#8217;t want to copy them into a single buffer</div>
<div class="line">[Thursday 04 November 2010] [11:48:11] &lt;DerGuteMoritz&gt;        ok that makes sense, thanks</div>
<div class="line">[Thursday 04 November 2010] [11:48:34] &lt;DerGuteMoritz&gt;        there is no &#8220;streaming&#8221; support of sorts right?</div>
<div class="line">[Thursday 04 November 2010] [11:49:36] &lt;DerGuteMoritz&gt;        oh, I just noticed zmq_streamer</div>
<div class="line">[Thursday 04 November 2010] [11:50:18] &lt;sustrik&gt;      it&#8217;s just a device that works with PUSH/PULL sockets</div>
<div class="line">[Thursday 04 November 2010] [11:52:08] &lt;DerGuteMoritz&gt;        I see</div>
<div class="line">[Thursday 04 November 2010] [11:52:14] &lt;DerGuteMoritz&gt;        I didn&#8217;t read up on devices yet</div>
<div class="line">[Thursday 04 November 2010] [11:52:16] &lt;DerGuteMoritz&gt;        WILL DO</div>
<div class="line">[Thursday 04 November 2010] [12:03:48] &lt;sustrik&gt;      pieterh: you still there?</div>
<div class="line">[Thursday 04 November 2010] [12:08:34] &lt;pieterh&gt;      sustrik: yes</div>
<div class="line">[Thursday 04 November 2010] [12:08:43] &lt;sustrik&gt;      i&#8217;ve checked the windows header files and at least the version i have seems to indicate that FD_SETSIZE can be defined on compilation-unit level</div>
<div class="line">[Thursday 04 November 2010] [12:08:45] &lt;pieterh&gt;      i was writing a long and detailed email about FD_SETSIZE</div>
<div class="line">[Thursday 04 November 2010] [12:08:48] &lt;pieterh&gt;      yes, of course</div>
<div class="line">[Thursday 04 November 2010] [12:08:51] &lt;pieterh&gt;      bleh</div>
<div class="line">[Thursday 04 November 2010] [12:09:03] &lt;pieterh&gt;      please just read winsock.h</div>
<div class="line">[Thursday 04 November 2010] [12:09:06] &lt;pieterh&gt;      that will help you a lot</div>
<div class="line">[Thursday 04 November 2010] [12:09:07] &lt;sustrik&gt;      i did</div>
<div class="line">[Thursday 04 November 2010] [12:09:14] &lt;pieterh&gt;      and it&#8217;s pretty clear, right?</div>
<div class="line">[Thursday 04 November 2010] [12:09:18] &lt;sustrik&gt;      still, MSDN suggests otherwise (app-level scope)</div>
<div class="line">[Thursday 04 November 2010] [12:09:20] &lt;mato&gt; sustrik: i read the headers too, that doesn&#8217;t explain why your patch crashes though...</div>
<div class="line">[Thursday 04 November 2010] [12:09:23] &lt;pieterh&gt;      fd_set typedef and four <a href="#id671"><span class="problematic" id="id672">FD_</span></a> macros</div>
<div class="line">[Thursday 04 November 2010] [12:09:31] &lt;pieterh&gt;      yes, because zmq.cpp doesn&#8217;t do it right</div>
<div class="line">[Thursday 04 November 2010] [12:09:49] &lt;sustrik&gt;      so the question is, whether there are no strange Win platforms that actually require FD_SETSIZE set of app level</div>
<div class="line">[Thursday 04 November 2010] [12:09:50] &lt;pieterh&gt;      where does zmq.cpp get its <a href="#id673"><span class="problematic" id="id674">FD_</span></a> macros from?</div>
<div class="line">[Thursday 04 November 2010] [12:09:56] &lt;pieterh&gt;      ?</div>
<div class="line">[Thursday 04 November 2010] [12:10:00] &lt;sustrik&gt;      i&#8217;ve checked only on WinXP</div>
<div class="line">[Thursday 04 November 2010] [12:10:00] &lt;pieterh&gt;      what&#8217;s that question?</div>
<div class="line">[Thursday 04 November 2010] [12:10:12] &lt;sustrik&gt;      does it apply to other Win versions as well?</div>
<div class="line">[Thursday 04 November 2010] [12:10:14] &lt;pieterh&gt;      please... this is purely a C structure issue</div>
<div class="line">[Thursday 04 November 2010] [12:10:25] &lt;pieterh&gt;      it is 100% orthogonal to the Windows version and OS</div>
<div class="line">[Thursday 04 November 2010] [12:10:30] &lt;sustrik&gt;      are there same C structures on other Win platforms?</div>
<div class="line">[Thursday 04 November 2010] [12:10:30] &lt;pieterh&gt;      it could apply to Linux as well</div>
<div class="line">[Thursday 04 November 2010] [12:10:58] &lt;pieterh&gt;      the winsock interface comes with the C compiler</div>
<div class="line">[Thursday 04 November 2010] [12:11:00] &lt;mato&gt; pieterh: right, so you are sure winsock select() is implemented identically on Windows XP, 2003, Vista, and 2008?</div>
<div class="line">[Thursday 04 November 2010] [12:11:01] &lt;pieterh&gt;      not the OS</div>
<div class="line">[Thursday 04 November 2010] [12:11:11] &lt;sustrik&gt;      is that so?</div>
<div class="line">[Thursday 04 November 2010] [12:11:15] &lt;pieterh&gt;      mato: yes, of course, it&#8217;s the POSIX select with some weird error codes</div>
<div class="line">[Thursday 04 November 2010] [12:11:29] &lt;sustrik&gt;      no platform specific code there?</div>
<div class="line">[Thursday 04 November 2010] [12:11:30] &lt;pieterh&gt;      the FD_SETSIZE is purely about fd_set and the <a href="#id675"><span class="problematic" id="id676">FD_</span></a> macros</div>
<div class="line">[Thursday 04 November 2010] [12:11:34] &lt;pieterh&gt;      ...</div>
<div class="line">[Thursday 04 November 2010] [12:11:40] &lt;mato&gt; sustrik: no, the headers come from the compiler vendor, and/or microsoft</div>
<div class="line">[Thursday 04 November 2010] [12:11:50] &lt;mato&gt; sustrik: that depends on which compiler and/or which SDK version you are using</div>
<div class="line">[Thursday 04 November 2010] [12:11:56] &lt;pieterh&gt;      take another compiler, it might not even have the FD_SETSIZE thing</div>
<div class="line">[Thursday 04 November 2010] [12:12:04] &lt;sustrik&gt;      it&#8217;s POSIX</div>
<div class="line">[Thursday 04 November 2010] [12:12:05] &lt;pieterh&gt;      this is a MSVC / winsock hangover</div>
<div class="line">[Thursday 04 November 2010] [12:12:13] &lt;sustrik&gt;      iirc</div>
<div class="line">[Thursday 04 November 2010] [12:12:22] &lt;pieterh&gt;      yes, it&#8217;s posix, I mean the low low default</div>
<div class="line">[Thursday 04 November 2010] [12:12:24] &lt;pieterh&gt;      sorry</div>
<div class="line">[Thursday 04 November 2010] [12:12:48] &lt;mato&gt; pieterh: if it&#8217;s a compiler hangover, why would MSDN document this as part of the Windows API...</div>
<div class="line">[Thursday 04 November 2010] [12:12:51] &lt;pieterh&gt;      i assume it came from the days when MSFT wanted Windows to only serve as a workstation</div>
<div class="line">[Thursday 04 November 2010] [12:12:59] &lt;pieterh&gt;      mato: ?</div>
<div class="line">[Thursday 04 November 2010] [12:13:15] &lt;pieterh&gt;      winsock is a library</div>
<div class="line">[Thursday 04 November 2010] [12:13:28] &lt;mato&gt; provided as part of the OS</div>
<div class="line">[Thursday 04 November 2010] [12:13:28] &lt;pieterh&gt;      it is actually a standard agreed on by multiple vendors</div>
<div class="line">[Thursday 04 November 2010] [12:13:32] &lt;mato&gt; used to be</div>
<div class="line">[Thursday 04 November 2010] [12:13:48] &lt;pieterh&gt;      the point is that the OS implements select()</div>
<div class="line">[Thursday 04 November 2010] [12:13:54] &lt;pieterh&gt;      not fd_set, FD_SET, FD_CLR, etc</div>
<div class="line">[Thursday 04 November 2010] [12:13:57] &lt;pieterh&gt;      ja?</div>
<div class="line">[Thursday 04 November 2010] [12:14:03] &lt;mato&gt; but winsock.dll is provided as part of the OS; as sustrik mentioned eariler, for example Vista and above have a WSAPoll() which has no fd_setsize limit</div>
<div class="line">[Thursday 04 November 2010] [12:14:03] &lt;sustrik&gt;      so, MSDN kind of implies the setting may be app wide, but APR uses it in a way that suggests it&#8217;s ok to assume comiletion-unit scope</div>
<div class="line">[Thursday 04 November 2010] [12:14:04] &lt;pieterh&gt;      FD_SETSIZE is _irrelevant_ for the OS</div>
<div class="line">[Thursday 04 November 2010] [12:14:23] &lt;pieterh&gt;      select() has no limit on the fd_setsize</div>
<div class="line">[Thursday 04 November 2010] [12:14:23] &lt;mato&gt; then why does sustrik&#8217;s patch crash?</div>
<div class="line">[Thursday 04 November 2010] [12:14:26] &lt;pieterh&gt;      sigh</div>
<div class="line">[Thursday 04 November 2010] [12:14:33] &lt;sustrik&gt;      mato: it&#8217;s a bug in the patch</div>
<div class="line">[Thursday 04 November 2010] [12:14:38] &lt;pieterh&gt;      because zmq.cpp uses winsock2.h from zmq.h</div>
<div class="line">[Thursday 04 November 2010] [12:14:38] &lt;mato&gt; sustrik: which is?</div>
<div class="line">[Thursday 04 November 2010] [12:14:44] &lt;sustrik&gt;      there&#8217;s fd_set in select.hpp</div>
<div class="line">[Thursday 04 November 2010] [12:14:48] &lt;sustrik&gt;      i&#8217;ve missed that</div>
<div class="line">[Thursday 04 November 2010] [12:14:51] &lt;pieterh&gt;      you can&#8217;t use FD_SET without setting this correctly</div>
<div class="line">[Thursday 04 November 2010] [12:15:04] &lt;pieterh&gt;      you must have a consistent typedef + macros</div>
<div class="line">[Thursday 04 November 2010] [12:15:06] &lt;mato&gt; sustrik: AH, now we&#8217;re getting somewhere</div>
<div class="line">[Thursday 04 November 2010] [12:15:18] &lt;sustrik&gt;      yes, so pieter may be actually right</div>
<div class="line">[Thursday 04 November 2010] [12:15:30] &lt;pieterh&gt;      it is a compile time array size issue</div>
<div class="line">[Thursday 04 November 2010] [12:15:31] &lt;sustrik&gt;      the only question is the strange wording in MSDN</div>
<div class="line">[Thursday 04 November 2010] [12:15:39] &lt;pieterh&gt;      you need a consistent typedef and macro set</div>
<div class="line">[Thursday 04 November 2010] [12:15:43] &lt;sustrik&gt;      but that may be just lousy work on the documentation</div>
<div class="line">[Thursday 04 November 2010] [12:15:58] &lt;pieterh&gt;      it becomes very hard when you have 4 copies of kind of not the same but similar code</div>
<div class="line">[Thursday 04 November 2010] [12:16:07] &lt;pieterh&gt;      _that_ is the only real issue</div>
<div class="line">[Thursday 04 November 2010] [12:16:44] &lt;pieterh&gt;      if you mix APR and 0MQ, they will both happily define their own typedefs and use them sanely</div>
<div class="line">[Thursday 04 November 2010] [12:16:48] &lt;pieterh&gt;      there is no insanity</div>
<div class="line">[Thursday 04 November 2010] [12:17:07] &lt;pieterh&gt;      only, the system API should really not be exporting winsock.h IMO</div>
<div class="line">[Thursday 04 November 2010] [12:17:08] &lt;mato&gt; sustrik: ah, i see, select.hpp uses fd_set</div>
<div class="line">[Thursday 04 November 2010] [12:17:11] &lt;pieterh&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [12:17:12] &lt;sustrik&gt;      :)</div>
<div class="line">[Thursday 04 November 2010] [12:17:15] &lt;pieterh&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [12:17:28] &lt;mato&gt; sustrik: so the problem was, some other inclusion of select.hpp was clashing with the value in select.cpp</div>
<div class="line">[Thursday 04 November 2010] [12:17:37] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [12:17:40] &lt;mato&gt; sustrik: except, that&#8217;s problematic, because the include chain is a mess</div>
<div class="line">[Thursday 04 November 2010] [12:17:41] &lt;pieterh&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [12:17:48] &lt;pieterh&gt;      that is why my patch fixed that part of the include chain</div>
<div class="line">[Thursday 04 November 2010] [12:17:57] &lt;mato&gt; sustrik: which is what i hit the last time i looked at this</div>
<div class="line">[Thursday 04 November 2010] [12:18:02] &lt;pieterh&gt;      just remove the rubbish from select.cpp and allow select.hpp to do the work</div>
<div class="line">[Thursday 04 November 2010] [12:18:12] &lt;pieterh&gt;      in any case</div>
<div class="line">[Thursday 04 November 2010] [12:18:13] &lt;mato&gt; pieterh: yes, but with the further side-effect of setting FD_SETSIZE to 1024</div>
<div class="line">[Thursday 04 November 2010] [12:18:18] &lt;mato&gt; pieterh: in zmq.h</div>
<div class="line">[Thursday 04 November 2010] [12:18:31] &lt;pieterh&gt;      does zmq.h include select.hpp?</div>
<div class="line">[Thursday 04 November 2010] [12:18:33] &lt;Guthur&gt;       I didn&#8217;t really follow the FD_SETSIZE  conv fully, but can you not just use the makefile approach that MS recommend</div>
<div class="line">[Thursday 04 November 2010] [12:18:33] &lt;sustrik&gt;      i&#8217;ll do some changes to isolate select.hpp from the rest of the system</div>
<div class="line">[Thursday 04 November 2010] [12:18:47] &lt;mato&gt; pieterh: no, the problem is... random bits of zmq may include select.hpp</div>
<div class="line">[Thursday 04 November 2010] [12:19:00] &lt;sustrik&gt;      so that the value set there doesn&#8217;t incidentally infect other compilation units</div>
<div class="line">[Thursday 04 November 2010] [12:19:04] &lt;pieterh&gt;      yes, they do, but it&#8217;s mostly poller.cpp afaics</div>
<div class="line">[Thursday 04 November 2010] [12:19:14] &lt;pieterh&gt;      plus there are only two places we do <a href="#id677"><span class="problematic" id="id678">FD_</span></a> manipulation</div>
<div class="line">[Thursday 04 November 2010] [12:19:18] &lt;pieterh&gt;      and that&#8217;s all we care about in fact</div>
<div class="line">[Thursday 04 November 2010] [12:19:33] &lt;pieterh&gt;      select.cpp and zmq.cpp</div>
<div class="line">[Thursday 04 November 2010] [12:19:36] &lt;pieterh&gt;      afaics that&#8217;s it</div>
<div class="line">[Thursday 04 November 2010] [12:19:38] &lt;mato&gt; pieterh: well, the problem is any user of select.hpp would have to ensure it&#8217;s included before anything else that includes winsock.h, which includes zmq.h</div>
<div class="line">[Thursday 04 November 2010] [12:19:56] &lt;pieterh&gt;      i think zmq.h may not include winsock.h</div>
<div class="line">[Thursday 04 November 2010] [12:20:08] &lt;pieterh&gt;      because as you&#8217;ve pointed out before that hurts apps that use 0MQ</div>
<div class="line">[Thursday 04 November 2010] [12:20:21] &lt;pieterh&gt;      Guthur, I think it&#8217;s about making things work sanely by default</div>
<div class="line">[Thursday 04 November 2010] [12:20:31] &lt;mato&gt; pieterh: sustrik: of course, this whole problem goes away if we just accept that users define FD_SETSIZE by default.</div>
<div class="line">[Thursday 04 November 2010] [12:20:36] &lt;pieterh&gt;      having to define constants in the makefiles makes it all more delicate</div>
<div class="line">[Thursday 04 November 2010] [12:20:56] &lt;mato&gt; pieterh: sure, but defining the constant in Makefiles/externally appears to be Win32 best practice.</div>
<div class="line">[Thursday 04 November 2010] [12:21:06] &lt;pieterh&gt;      uhm, it&#8217;s defeatism</div>
<div class="line">[Thursday 04 November 2010] [12:21:09] &lt;mato&gt; pieterh: and I don&#8217;t see why we should expend effort on changing that.</div>
<div class="line">[Thursday 04 November 2010] [12:21:10] &lt;pieterh&gt;      on the part of Win32</div>
<div class="line">[Thursday 04 November 2010] [12:21:24] &lt;mato&gt; yes, but our job is not to go fixing Win32</div>
<div class="line">[Thursday 04 November 2010] [12:21:28] &lt;Guthur&gt;       but if you use the makefile approach surely, when the user builds a 0MQ lib it will be sane</div>
<div class="line">[Thursday 04 November 2010] [12:21:41] &lt;mato&gt; Guthur: that is true, but pieterh does not like said approach.</div>
<div class="line">[Thursday 04 November 2010] [12:21:45] &lt;Guthur&gt;       if they want to include it as source then they can worry about it</div>
<div class="line">[Thursday 04 November 2010] [12:21:45] &lt;pieterh&gt;      hang on</div>
<div class="line">[Thursday 04 November 2010] [12:21:47] &lt;mato&gt; Guthur: and that&#8217;s all this is about</div>
<div class="line">[Thursday 04 November 2010] [12:21:52] &lt;pieterh&gt;      i&#8217;m not against us changing the makefile</div>
<div class="line">[Thursday 04 November 2010] [12:22:03] &lt;pieterh&gt;      I&#8217;m against the FAQ entry that says &#8220;we deliver broken code but here&#8217;s how to fix it&#8221;</div>
<div class="line">[Thursday 04 November 2010] [12:22:19] &lt;mato&gt; pieterh: but it&#8217;ll still break at 1024</div>
<div class="line">[Thursday 04 November 2010] [12:22:25] &lt;mato&gt; pieterh: it&#8217;s not our fault...</div>
<div class="line">[Thursday 04 November 2010] [12:22:28] &lt;pieterh&gt;      that is much less broken</div>
<div class="line">[Thursday 04 November 2010] [12:22:31] &lt;sustrik&gt;      the faq should stay there just in case</div>
<div class="line">[Thursday 04 November 2010] [12:22:37] &lt;Guthur&gt;       I&#8217;d have to agree with mato and sustrik on this point, though I have certainly the most limited experience</div>
<div class="line">[Thursday 04 November 2010] [12:22:53] &lt;pieterh&gt;      if a patch to the MSVC makefile is possible, that works fine for me</div>
<div class="line">[Thursday 04 November 2010] [12:22:54] &lt;pieterh&gt;      i don</div>
<div class="line">[Thursday 04 November 2010] [12:23:18] &lt;pieterh&gt;      i don&#8217;t have any particular incentive to change the 0MQ source code (though this header file stuff is a mess IMO)</div>
<div class="line">[Thursday 04 November 2010] [12:23:39] &lt;pieterh&gt;      what I do care about is that people downloading and building our software get stuff that&#8217;s reasonably tuned</div>
<div class="line">[Thursday 04 November 2010] [12:23:57] &lt;mato&gt; pieterh: yes, a patch to the MSVC project is possible</div>
<div class="line">[Thursday 04 November 2010] [12:24:05] &lt;Guthur&gt;       I like that idea</div>
<div class="line">[Thursday 04 November 2010] [12:24:14] &lt;mato&gt; sustrik: why don&#8217;t we just do that for now and let this whole thing sleep?</div>
<div class="line">[Thursday 04 November 2010] [12:24:15] &lt;pieterh&gt;      it&#8217;s frankly embarrassing to see bugs that I fixed in 1997 reappear today</div>
<div class="line">[Thursday 04 November 2010] [12:24:20] &lt;pieterh&gt;      sure, that works for me</div>
<div class="line">[Thursday 04 November 2010] [12:24:42] &lt;pieterh&gt;      Guthur, thanks for the suggestion</div>
<div class="line">[Thursday 04 November 2010] [12:24:45] &lt;sustrik&gt;      mato: i think it&#8217;s a good idea to increse the default</div>
<div class="line">[Thursday 04 November 2010] [12:25:01] &lt;mato&gt; sustrik: so, add /DFD_SETSIZE=1024 to the build opts in the MSVC project file</div>
<div class="line">[Thursday 04 November 2010] [12:25:04] &lt;mato&gt; sustrik: problem solved</div>
<div class="line">[Thursday 04 November 2010] [12:25:14] &lt;mato&gt; sustrik: and/or stick a note in the build docs/faq</div>
<div class="line">[Thursday 04 November 2010] [12:25:16] &lt;mato&gt; sustrik: done.</div>
<div class="line">[Thursday 04 November 2010] [12:25:17] &lt;pieterh&gt;      sustrik, do you understand why changing the makefile has the same effect as defining before including winsock.h?</div>
<div class="line">[Thursday 04 November 2010] [12:25:31] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [12:25:44] &lt;mato&gt; pieterh: with the exception of the zmq.h issue it does have the same effect</div>
<div class="line">[Thursday 04 November 2010] [12:25:58] &lt;pieterh&gt;      what is the zmq.h issue, mato?</div>
<div class="line">[Thursday 04 November 2010] [12:26:07] &lt;mato&gt; not again</div>
<div class="line">[Thursday 04 November 2010] [12:26:12] &lt;sustrik&gt;      i think there&#8217;s no problem with zmq.h</div>
<div class="line">[Thursday 04 November 2010] [12:26:14] &lt;pieterh&gt;      sorry, I just don&#8217;t understand</div>
<div class="line">[Thursday 04 November 2010] [12:26:20] &lt;sustrik&gt;      it doesn&#8217;t use FD_SETSIZE</div>
<div class="line">[Thursday 04 November 2010] [12:26:30] &lt;pieterh&gt;      defining in the makefile is equivalent to setting in all 4 places in the code</div>
<div class="line">[Thursday 04 November 2010] [12:26:32] &lt;pieterh&gt;      including zmq.h</div>
<div class="line">[Thursday 04 November 2010] [12:26:40] &lt;mato&gt; not the app makefile</div>
<div class="line">[Thursday 04 November 2010] [12:26:43] &lt;mato&gt; that&#8217;s the point</div>
<div class="line">[Thursday 04 November 2010] [12:26:49] &lt;sustrik&gt;      but when zmq.h is included from the client app</div>
<div class="line">[Thursday 04 November 2010] [12:27:00] &lt;sustrik&gt;      the client&#8217;s value of FD_SETSIZE applies</div>
<div class="line">[Thursday 04 November 2010] [12:27:09] &lt;pieterh&gt;      sure, or else 64, it doesn&#8217;t matter</div>
<div class="line">[Thursday 04 November 2010] [12:27:10] &lt;sustrik&gt;      and given that there&#8217;s no FD_SET in zmq.h</div>
<div class="line">[Thursday 04 November 2010] [12:27:14] &lt;sustrik&gt;      it doesn&#8217;t matter</div>
<div class="line">[Thursday 04 November 2010] [12:27:16] &lt;mato&gt; yes</div>
<div class="line">[Thursday 04 November 2010] [12:27:17] &lt;pieterh&gt;      it doesn&#8217;t matter</div>
<div class="line">[Thursday 04 November 2010] [12:27:22] &lt;pieterh&gt;      ok, agreed</div>
<div class="line">[Thursday 04 November 2010] [12:27:25] &lt;sustrik&gt;      fine</div>
<div class="line">[Thursday 04 November 2010] [12:27:28] &lt;sustrik&gt;      i&#8217;ll fix it</div>
<div class="line">[Thursday 04 November 2010] [12:27:33] &lt;pieterh&gt;      :-) thanks</div>
<div class="line">[Thursday 04 November 2010] [12:27:36] &lt;mato&gt; test please :-)</div>
<div class="line">[Thursday 04 November 2010] [12:27:45] &lt;sustrik&gt;      yeah</div>
<div class="line">[Thursday 04 November 2010] [12:27:55] &lt;pieterh&gt;      I&#8217;d suggest 2048, as per APR and other serious libraries</div>
<div class="line">[Thursday 04 November 2010] [12:28:03] &lt;mato&gt; pieterh: APR uses 1024, I checked</div>
<div class="line">[Thursday 04 November 2010] [12:28:11] &lt;mato&gt; pieterh: I love it how you make these statements.</div>
<div class="line">[Thursday 04 November 2010] [12:28:20]         * pieterh read the code about 30 minutes ago</div>
<div class="line">[Thursday 04 November 2010] [12:28:26] &lt;pieterh&gt;      hang on...</div>
<div class="line">[Thursday 04 November 2010] [12:28:28] &lt;pieterh&gt;      It does not actually matter because it&#8217;s a memory allocation issue</div>
<div class="line">[Thursday 04 November 2010] [12:28:31] &lt;sustrik&gt;      different versions?</div>
<div class="line">[Thursday 04 November 2010] [12:28:36] &lt;pieterh&gt;      the actual socket limit is an OS issue</div>
<div class="line">[Thursday 04 November 2010] [12:28:41]         * mato read the latest SVN</div>
<div class="line">[Thursday 04 November 2010] [12:28:45] &lt;pieterh&gt;      this is purely a memory vs. godamnitbroke issue</div>
<div class="line">[Thursday 04 November 2010] [12:28:49] &lt;sustrik&gt;      it matters performance wise</div>
<div class="line">[Thursday 04 November 2010] [12:28:51] &lt;mato&gt; anyway, anything above 1024 sucks for performance</div>
<div class="line">[Thursday 04 November 2010] [12:28:53] &lt;pieterh&gt;      nope</div>
<div class="line">[Thursday 04 November 2010] [12:28:57] &lt;pieterh&gt;      does it?</div>
<div class="line">[Thursday 04 November 2010] [12:29:01] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 04 November 2010] [12:29:02] &lt;sustrik&gt;      so we should choose some sane value</div>
<div class="line">[Thursday 04 November 2010] [12:29:08] &lt;sustrik&gt;      big enough to work well</div>
<div class="line">[Thursday 04 November 2010] [12:29:12] &lt;mato&gt; if you actually use more than 1024 sockets in a select loop, that sucks</div>
<div class="line">[Thursday 04 November 2010] [12:29:16] &lt;sustrik&gt;      but small enough not to require lot of copying</div>
<div class="line">[Thursday 04 November 2010] [12:29:27] &lt;mato&gt; 64? :-)</div>
<div class="line">[Thursday 04 November 2010] [12:29:37] &lt;sustrik&gt;      that&#8217;s historical limit</div>
<div class="line">[Thursday 04 November 2010] [12:29:47] &lt;sustrik&gt;      the internet grew bigger in the meantime :)</div>
<div class="line">[Thursday 04 November 2010] [12:29:51] &lt;pieterh&gt;      do the macros actually loop over the whole FD_SETSIZE value?</div>
<div class="line">[Thursday 04 November 2010] [12:30:04] &lt;sustrik&gt;      nope</div>
<div class="line">[Thursday 04 November 2010] [12:30:11] &lt;sustrik&gt;      but the whole array is copied around</div>
<div class="line">[Thursday 04 November 2010] [12:30:18] &lt;pieterh&gt;      sustrik: MSFT expressly limited the capacity of &#8216;workstations&#8217;</div>
<div class="line">[Thursday 04 November 2010] [12:30:29] &lt;pieterh&gt;      where is it copied around?</div>
<div class="line">[Thursday 04 November 2010] [12:30:29] &lt;sustrik&gt;      to 64?</div>
<div class="line">[Thursday 04 November 2010] [12:30:35] &lt;pieterh&gt;      yes, but even lower</div>
<div class="line">[Thursday 04 November 2010] [12:30:41] &lt;pieterh&gt;      16 sockets iirc</div>
<div class="line">[Thursday 04 November 2010] [12:30:46] &lt;sustrik&gt;      the request for events fdset is overwritten by results</div>
<div class="line">[Thursday 04 November 2010] [12:30:53] &lt;pieterh&gt;      right</div>
<div class="line">[Thursday 04 November 2010] [12:31:02] &lt;sustrik&gt;      so you have to copy the values into the aray each time</div>
<div class="line">[Thursday 04 November 2010] [12:31:16] &lt;pieterh&gt;      but it only copies the actual values</div>
<div class="line">[Thursday 04 November 2010] [12:31:26] &lt;mato&gt; sustrik: i guess with all this arguing you&#8217;ve not reviewed my signaler patch yet?</div>
<div class="line">[Thursday 04 November 2010] [12:31:29]         * pieterh must be wrong</div>
<div class="line">[Thursday 04 November 2010] [12:31:36] &lt;sustrik&gt;      1024 is ok imo</div>
<div class="line">[Thursday 04 November 2010] [12:31:36] &lt;pieterh&gt;      mato: ack</div>
<div class="line">[Thursday 04 November 2010] [12:31:43] &lt;sustrik&gt;      mato: sorry :(</div>
<div class="line">[Thursday 04 November 2010] [12:31:52] &lt;sustrik&gt;      i have if half-reviewed</div>
<div class="line">[Thursday 04 November 2010] [12:32:02] &lt;pieterh&gt;      mato: you need two independent reviewers and regression test of minimum of 64 or 1024 applications</div>
<div class="line">[Thursday 04 November 2010] [12:32:19] &lt;sustrik&gt;      actually, he has :)</div>
<div class="line">[Thursday 04 November 2010] [12:34:18] &lt;mato&gt; yeah, sure, 1024 applications? no problem :-)</div>
<div class="line">[Thursday 04 November 2010] [12:34:22] &lt;mato&gt; that&#8217;s what it&#8217;s for :-)</div>
<div class="line">[Thursday 04 November 2010] [12:36:05] &lt;mato&gt; sustrik: well, let me know soonish if you&#8217;re going to accept it or not, i have dependencies on my end.</div>
<div class="line">[Thursday 04 November 2010] [12:36:17] &lt;sustrik&gt;      wait a sec</div>
<div class="line">[Thursday 04 November 2010] [12:37:58] &lt;sustrik&gt;      mato: is it wise to grow the buffer exponentially?</div>
<div class="line">[Thursday 04 November 2010] [12:39:44] &lt;sustrik&gt;      also, given that we have resizable buffers right, now would it be good to start with some smaller buffer size?</div>
<div class="line">[Thursday 04 November 2010] [12:40:16] &lt;mato&gt; sustrik: well, for 1), the OS seems to grow the actual buffer in pretty big chunks</div>
<div class="line">[Thursday 04 November 2010] [12:40:31] &lt;mato&gt; sustrik: for 2) i&#8217;m not sure about the latency of the grow operation</div>
<div class="line">[Thursday 04 November 2010] [12:40:43] &lt;mato&gt; sustrik: so IMO it&#8217;d be better to stick with the OS default</div>
<div class="line">[Thursday 04 November 2010] [12:40:51] &lt;mato&gt; sustrik: and grow the buffer if needed.</div>
<div class="line">[Thursday 04 November 2010] [12:41:31] &lt;sustrik&gt;      what about the increment being equal to OS default buffer size?</div>
<div class="line">[Thursday 04 November 2010] [12:41:55] &lt;mato&gt; can do if you&#8217;d prefer that, i have no opinion</div>
<div class="line">[Thursday 04 November 2010] [12:42:12] &lt;mato&gt; it does mean an extra getsockopt call in the constructor to get the default size, etc.</div>
<div class="line">[Thursday 04 November 2010] [12:42:31] &lt;sustrik&gt;      sure but you can do that once only</div>
<div class="line">[Thursday 04 November 2010] [12:42:40] &lt;sustrik&gt;      if (default == -1) {</div>
<div class="line">[Thursday 04 November 2010] [12:42:49] &lt;sustrik&gt;      default = getsockopt (...);</div>
<div class="line">[Thursday 04 November 2010] [12:42:50] &lt;sustrik&gt;      }</div>
<div class="line">[Thursday 04 November 2010] [12:43:45] &lt;sustrik&gt;      anyway, it&#8217;s not urgent</div>
<div class="line">[Thursday 04 November 2010] [12:43:52] &lt;sustrik&gt;      i can commit this code</div>
<div class="line">[Thursday 04 November 2010] [12:44:01] &lt;sustrik&gt;      and we can optimise it later on</div>
<div class="line">[Thursday 04 November 2010] [12:46:50] &lt;mato&gt; sustrik: ok, great</div>
<div class="line">[Thursday 04 November 2010] [12:46:59] &lt;sustrik&gt;      fine</div>
<div class="line">[Thursday 04 November 2010] [12:47:04] &lt;mato&gt; sustrik: i also refactored all the platform-dependent stuff, you happy with that?</div>
<div class="line">[Thursday 04 November 2010] [12:47:12] &lt;sustrik&gt;      yes, looks ok</div>
<div class="line">[Thursday 04 November 2010] [12:47:16] &lt;sustrik&gt;      i haven&#8217;t tested it</div>
<div class="line">[Thursday 04 November 2010] [12:47:22] &lt;mato&gt; sustrik: i have</div>
<div class="line">[Thursday 04 November 2010] [12:47:23] &lt;sustrik&gt;      but i trust you</div>
<div class="line">[Thursday 04 November 2010] [12:48:37] &lt;mato&gt; sustrik: i wrote in the commit log; have tested both the MSG_DONTWAIT and POSIX codepath, and the Win32 version</div>
<div class="line">[Thursday 04 November 2010] [12:48:50] &lt;mato&gt; sustrik: I&#8217;ve not actually tested on HP-UX or AIX obviously, but the code works</div>
<div class="line">[Thursday 04 November 2010] [12:49:03] &lt;sustrik&gt;      ok</div>
<div class="line">[Thursday 04 November 2010] [12:49:05] &lt;mato&gt; sustrik: and the OpenVMS version might not work at all</div>
<div class="line">[Thursday 04 November 2010] [12:49:12] &lt;sustrik&gt;      yep, i seen that</div>
<div class="line">[Thursday 04 November 2010] [12:49:23] &lt;sustrik&gt;      little we can do about that</div>
<div class="line">[Thursday 04 November 2010] [12:55:28] &lt;CIA-20&gt;       zeromq2: 03Martin Lucina 07master * r1b39bcd 10/ (src/config.hpp src/signaler.cpp src/signaler.hpp): (log message trimmed)</div>
<div class="line">[Thursday 04 November 2010] [12:55:28] &lt;CIA-20&gt;       zeromq2: Automatically resize signalling socket buffer if full</div>
<div class="line">[Thursday 04 November 2010] [12:55:28] &lt;CIA-20&gt;       zeromq2: If the socketpair used by signaler_t fills up, this can lead to deadlock.</div>
<div class="line">[Thursday 04 November 2010] [12:55:28] &lt;CIA-20&gt;       zeromq2: This patch provides partial resolution by attempting to resize SO_SNDBUF on</div>
<div class="line">[Thursday 04 November 2010] [12:55:28] &lt;CIA-20&gt;       zeromq2: the writer side, and if that fails we shall at least assert rather than</div>
<div class="line">[Thursday 04 November 2010] [12:55:28] &lt;CIA-20&gt;       zeromq2: hang.</div>
<div class="line">[Thursday 04 November 2010] [12:55:29] &lt;CIA-20&gt;       zeromq2: I&#8217;ve also refactored the signaler_t code to make the platform-dependent</div>
<div class="line">[Thursday 04 November 2010] [13:01:32] &lt;mato&gt; sustrik: thanks for that!</div>
<div class="line">[Thursday 04 November 2010] [13:01:49] &lt;sustrik&gt;      you are welcome</div>
<div class="line">[Thursday 04 November 2010] [13:11:23] &lt;mikko&gt;        master sun studio build failed</div>
<div class="line">[Thursday 04 November 2010] [13:15:21] &lt;mato&gt; mikko: interesting</div>
<div class="line">[Thursday 04 November 2010] [13:15:27] &lt;mato&gt; mikko: i&#8217;ve also seen this randomly</div>
<div class="line">[Thursday 04 November 2010] [13:15:37] &lt;mato&gt; mikko: my change to the signaler isn&#8217;t really relevant here</div>
<div class="line">[Thursday 04 November 2010] [13:16:28] &lt;mato&gt; mikko: can you kick the build just to see if it fails every time</div>
<div class="line">[Thursday 04 November 2010] [13:16:30] &lt;mato&gt; mikko: ?</div>
<div class="line">[Thursday 04 November 2010] [13:17:05] &lt;mikko&gt;        mato: sure</div>
<div class="line">[Thursday 04 November 2010] [13:17:18] &lt;mikko&gt;        building</div>
<div class="line">[Thursday 04 November 2010] [13:17:28] &lt;mato&gt; maybe i changed something subtly in timing</div>
<div class="line">[Thursday 04 November 2010] [13:17:34] &lt;mato&gt; it&#8217;s possible</div>
<div class="line">[Thursday 04 November 2010] [13:18:39] &lt;pieterh&gt;      cyal folks</div>
<div class="line">[Thursday 04 November 2010] [13:19:05] &lt;mikko&gt;        see you</div>
<div class="line">[Thursday 04 November 2010] [13:19:31] &lt;mato&gt; cya</div>
<div class="line">[Thursday 04 November 2010] [13:21:06] &lt;mikko&gt;        passes now</div>
<div class="line">[Thursday 04 November 2010] [13:21:11] &lt;mikko&gt;        seems intermittent</div>
<div class="line">[Thursday 04 November 2010] [13:21:31] &lt;mato&gt; yes, will need to be looked into</div>
<div class="line">[Thursday 04 November 2010] [13:21:39] &lt;mato&gt; i&#8217;d suspect some termination issue</div>
<div class="line">[Thursday 04 November 2010] [15:45:07] &lt;sustrik&gt;      mikko, mato: i think it&#8217;s related to the problem reported by Christian Gudrian on the ML</div>
<div class="line">[Thursday 04 November 2010] [15:45:20] &lt;sustrik&gt;      pyzmq seems to fail as well...</div>
<div class="line">[Thursday 04 November 2010] [16:21:57] &lt;CIA-20&gt;       zeromq2: 03Jacob Rideout 07master * r0ada4f8 10/ (doc/zmq_getsockopt.txt doc/zmq_setsockopt.txt):</div>
<div class="line">[Thursday 04 November 2010] [16:21:58] &lt;CIA-20&gt;       zeromq2: Fix documentation typos</div>
<div class="line">[Thursday 04 November 2010] [16:21:58] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Jacob Rideout &lt;<a class="reference external" href="mailto:jacob&#46;rideout&#37;&#52;&#48;returnpath&#46;net">jacob<span>&#46;</span>rideout<span>&#64;</span>returnpath<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/a1CmmQ">http://bit.ly/a1CmmQ</a></div>
<div class="line">[Thursday 04 November 2010] [16:23:37] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r623a9c9 10/ AUTHORS :</div>
<div class="line">[Thursday 04 November 2010] [16:23:37] &lt;CIA-20&gt;       zeromq2: Jacob Rideout added to the AUTGORS file.</div>
<div class="line">[Thursday 04 November 2010] [16:23:37] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/bt6MSf">http://bit.ly/bt6MSf</a></div>
<div class="line">[Thursday 04 November 2010] [18:49:42] &lt;Guthur&gt;       Why is there a standard socket in the pollitem?</div>
<div class="line">[Thursday 04 November 2010] [18:50:48] &lt;cremes&gt;       Guthur: because you can use it to poll a standard socket as well as a 0mq socket</div>
<div class="line">[Thursday 04 November 2010] [18:51:18] &lt;Guthur&gt;       What is the rational for providing that?</div>
<div class="line">[Thursday 04 November 2010] [18:51:34] &lt;Guthur&gt;       I thought ZMQ aimed to abstract away from raw sockets?</div>
<div class="line">[Thursday 04 November 2010] [18:52:48] &lt;Guthur&gt;       The complexity is compounded a little by the fact it&#8217;s platform dependant as well</div>
<div class="line">[Thursday 04 November 2010] [18:53:14] &lt;cremes&gt;       Guthur: the rationale is so that you can mix standard and 0mq sockets via the same api</div>
<div class="line">[Thursday 04 November 2010] [18:53:23] &lt;cremes&gt;       if you need to understand it better than that, ask sustrik</div>
<div class="line">[Thursday 04 November 2010] [18:53:33] &lt;Guthur&gt;       I&#8217;m working on a binding and I am feeling now that I have to worry about the platform</div>
<div class="line">[Thursday 04 November 2010] [18:54:01] &lt;Guthur&gt;       Everything else has been pretty easy up until this one</div>
<div class="line">[Thursday 04 November 2010] [21:06:27] &lt;teruokun&gt;     Hello</div>
<div class="line">[Thursday 04 November 2010] [21:08:10] &lt;teruokun&gt;     I&#8217;m very new to using 0MQ and was trying to see if it would work for a project I&#8217;m working on</div>
<div class="line">[Thursday 04 November 2010] [21:09:26] &lt;teruokun&gt;     I have a master than needs to keep track of a bunch of slaves</div>
<div class="line">[Thursday 04 November 2010] [21:10:30] &lt;teruokun&gt;     multiple slaves will exist per server and they are meant to be more-or-less autonomous</div>
<div class="line">[Thursday 04 November 2010] [21:11:15] &lt;teruokun&gt;     what they depend on the master for are orders (NEW data, kill yourself, etc.)</div>
<div class="line">[Thursday 04 November 2010] [21:11:56] &lt;teruokun&gt;     but they have to be able to respond back to the master</div>
<div class="line">[Thursday 04 November 2010] [21:14:22] &lt;teruokun&gt;     I&#8217;m attempting having an incoming &#8216;upstream&#8217; channel for the master to receive communications on and a pubsub relationship for the master to send out orders</div>
<div class="line">[Thursday 04 November 2010] [21:15:16] &lt;teruokun&gt;     However, I&#8217;m ending up with some &#8216;address in use&#8217; issues for the server itself</div>
<div class="line">[Thursday 04 November 2010] [21:16:10] &lt;teruokun&gt;     for instance, if the master has to be shut down temporarily and brought back up, occasionally (but not predictably), it will not be able to bind it&#8217;s addresses</div>
<div class="line">[Thursday 04 November 2010] [21:16:40] &lt;teruokun&gt;     anyone have any ideas what I&#8217;m doing wrong?</div>
<div class="line">[Thursday 04 November 2010] [22:36:36] &lt;Guthur&gt;       sustrik, ping</div>
<div class="line">[Thursday 04 November 2010] [22:44:47] &lt;Guthur&gt;       oh nvm, I got it sorted</div>
<div class="line">[Friday 05 November 2010] [00:36:26] &lt;<a href="#id679"><span class="problematic" id="id680">andrewvc_</span></a>&gt;      cremes: I found the cause of the MRI and RBX hangs running the spec suite, repeatedly creating contexts was the issue</div>
<div class="line">[Friday 05 November 2010] [05:12:17] &lt;mikko&gt;  pyzmq builds seem to be failing against master and maint branches of 0MQ</div>
<div class="line">[Friday 05 November 2010] [05:22:51] &lt;sustrik&gt;        mikko: yes, i&#8217;ve seen that</div>
<div class="line">[Friday 05 November 2010] [05:23:05] &lt;sustrik&gt;        morning</div>
<div class="line">[Friday 05 November 2010] [05:23:09] &lt;mikko&gt;  morning</div>
<div class="line">[Friday 05 November 2010] [05:23:43] &lt;sustrik&gt;        btw, i&#8217;m in london on 9th and 10th</div>
<div class="line">[Friday 05 November 2010] [05:23:52] &lt;mikko&gt;  this month?</div>
<div class="line">[Friday 05 November 2010] [05:23:55] &lt;sustrik&gt;        yes</div>
<div class="line">[Friday 05 November 2010] [05:23:59] &lt;sustrik&gt;        next week</div>
<div class="line">[Friday 05 November 2010] [05:24:11] &lt;mikko&gt;  my calendar looks pretty empty this far</div>
<div class="line">[Friday 05 November 2010] [05:24:39] &lt;sustrik&gt;        if you want to have a beer in the evening</div>
<div class="line">[Friday 05 November 2010] [05:24:39] &lt;mikko&gt;  maybe we could finally be in the same place at the same time</div>
<div class="line">[Friday 05 November 2010] [05:24:45] &lt;sustrik&gt;        right</div>
<div class="line">[Friday 05 November 2010] [05:24:49] &lt;mikko&gt;  all i&#8217;ve done this far is recommended meeting places</div>
<div class="line">[Friday 05 November 2010] [05:24:54] &lt;sustrik&gt;        :)</div>
<div class="line">[Friday 05 November 2010] [05:25:16] &lt;mikko&gt;  are you working for a customer?</div>
<div class="line">[Friday 05 November 2010] [05:25:20] &lt;sustrik&gt;        yes</div>
<div class="line">[Friday 05 November 2010] [05:25:27] &lt;mikko&gt;  do you know whereabouts in london?</div>
<div class="line">[Friday 05 November 2010] [05:25:35] &lt;sustrik&gt;        southwark</div>
<div class="line">[Friday 05 November 2010] [05:25:51] &lt;sustrik&gt;        i&#8217;ll be online till so we can arrange it then</div>
<div class="line">[Friday 05 November 2010] [05:25:58] &lt;mikko&gt;  sure</div>
<div class="line">[Friday 05 November 2010] [05:26:04] &lt;mikko&gt;  i&#8217;m close to tottenham court road</div>
<div class="line">[Friday 05 November 2010] [05:26:11] &lt;mikko&gt;  so going down to waterloo is pretty easy</div>
<div class="line">[Friday 05 November 2010] [05:26:45] &lt;Guthur&gt; Is there an active maintainer for pyzmq?</div>
<div class="line">[Friday 05 November 2010] [05:27:02] &lt;sustrik&gt;        or the other way round, we can have a diner in soho</div>
<div class="line">[Friday 05 November 2010] [05:27:13] &lt;sustrik&gt;        Guthur: yes</div>
<div class="line">[Friday 05 November 2010] [05:27:29] &lt;sustrik&gt;        it&#8217;s Brian Granger and MinRK</div>
<div class="line">[Friday 05 November 2010] [05:27:46] &lt;mikko&gt;  sustrik: there is a nice pub pretty close there <a class="reference external" href="http://www.doggettscoatandbadge.co.uk/">http://www.doggettscoatandbadge.co.uk/</a></div>
<div class="line">[Friday 05 November 2010] [05:27:58] &lt;mikko&gt;  it&#8217;s north from southwark, riverside</div>
<div class="line">[Friday 05 November 2010] [05:28:02] &lt;mikko&gt;  but let&#8217;s see closer</div>
<div class="line">[Friday 05 November 2010] [05:28:14] &lt;mikko&gt;  especially if there are others coming as well</div>
<div class="line">[Friday 05 November 2010] [05:28:31] &lt;sustrik&gt;        dunno, i haven&#8217;t arranged anything yet</div>
<div class="line">[Friday 05 November 2010] [05:29:17] &lt;mikko&gt;  Jon Dyte is in london iirc</div>
<div class="line">[Friday 05 November 2010] [05:29:19] &lt;mikko&gt;  and a few others</div>
<div class="line">[Friday 05 November 2010] [05:29:28] &lt;sustrik&gt;        yep</div>
<div class="line">[Friday 05 November 2010] [05:30:21] &lt;Guthur&gt; sustrik: How important do you feel the raw socket support in PollItem is? I implemented polling in the clrzmq last night, but not sure how to support raw sockets.</div>
<div class="line">[Friday 05 November 2010] [05:30:38] &lt;sustrik&gt;        well, support what you can</div>
<div class="line">[Friday 05 November 2010] [05:30:47] &lt;sustrik&gt;        other features can be added later on</div>
<div class="line">[Friday 05 November 2010] [05:31:07] &lt;sustrik&gt;        the raw sockets support is useful when integrating 0mq sockets into events loop</div>
<div class="line">[Friday 05 November 2010] [05:31:26] &lt;sustrik&gt;        so say you have an application that uses raw sockets</div>
<div class="line">[Friday 05 November 2010] [05:31:36] &lt;sustrik&gt;        and want to use 0mq for particular job</div>
<div class="line">[Friday 05 November 2010] [05:31:36] &lt;Guthur&gt; I could probably get it working on windows platform, but cross platform would be a bit of a pain</div>
<div class="line">[Friday 05 November 2010] [05:31:57] &lt;sustrik&gt;        just ignore it then</div>
<div class="line">[Friday 05 November 2010] [05:32:11] &lt;sustrik&gt;        you don&#8217;t have to support everything</div>
<div class="line">[Friday 05 November 2010] [05:32:42] &lt;Guthur&gt; I was pretty please to get polling going last night anyway</div>
<div class="line">[Friday 05 November 2010] [05:33:03] &lt;Guthur&gt; It even uses C# event handler delegates, hehe</div>
<div class="line">[Friday 05 November 2010] [05:35:02] &lt;sustrik&gt;        so you are basically ready?</div>
<div class="line">[Friday 05 November 2010] [05:35:11] &lt;sustrik&gt;        announce it then and let&#8217;s see</div>
<div class="line">[Friday 05 November 2010] [05:35:25] &lt;sustrik&gt;        whether C#-friendly API attracts more .net devs</div>
<div class="line">[Friday 05 November 2010] [05:36:45] &lt;Guthur&gt; I&#8217;d like to take the weekend to finish off the guide examples</div>
<div class="line">[Friday 05 November 2010] [05:37:36] &lt;sustrik&gt;        ack</div>
<div class="line">[Friday 05 November 2010] [05:38:05] &lt;Guthur&gt; I&#8217;m about half through them now., just completed the second divide and conquer with the kill signal.</div>
<div class="line">[Friday 05 November 2010] [05:38:42] &lt;Guthur&gt; well a bit less than half way, but close</div>
<div class="line">[Friday 05 November 2010] [06:37:43] &lt;mikko&gt;  symbol lookup error: /usr/local/lib/libzmq.so.0: undefined symbol: _ZN3zmq15zmq_connecter_tC1EPNS_11io_thread_tEPNS_9session_tERKNS_9options_tEPKcS9_</div>
<div class="line">[Friday 05 November 2010] [06:37:49] &lt;mikko&gt;  this is slightly strange error</div>
<div class="line">[Friday 05 November 2010] [06:38:46] &lt;mikko&gt;  ZERMQ2</div>
<div class="line">[Friday 05 November 2010] [06:38:51] &lt;mikko&gt;  typo in my autoconf</div>
<div class="line">[Friday 05 November 2010] [11:40:31] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r9cfdb44 10/ (28 files):</div>
<div class="line">[Friday 05 November 2010] [11:40:31] &lt;CIA-20&gt; zeromq2: slots renamed to tids</div>
<div class="line">[Friday 05 November 2010] [11:40:31] &lt;CIA-20&gt; zeromq2: Threads were so far identified by integers called &#8216;slots&#8217;.</div>
<div class="line">[Friday 05 November 2010] [11:40:31] &lt;CIA-20&gt; zeromq2: This patch renames them to more comprehensible &#8216;tid&#8217;s (thread IDs).</div>
<div class="line">[Friday 05 November 2010] [11:40:31] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/d3zXQD">http://bit.ly/d3zXQD</a></div>
<div class="line">[Friday 05 November 2010] [12:04:34] &lt;mato&gt;   sustrik: yo</div>
<div class="line">[Friday 05 November 2010] [12:15:14] &lt;cremes&gt; sustrik: why not just write &#8216;thread_id&#8217; instead of &#8216;tid&#8217;? are saving those few characters that important when it reduces comprehension?</div>
<div class="line">[Friday 05 November 2010] [12:15:58] &lt;mato&gt;   cremes: i&#8217;m guessing sustrik likes his compressed variable names :-) but fair point...</div>
<div class="line">[Friday 05 November 2010] [12:17:00] &lt;cremes&gt; mato: it took me years to break that habit but i&#8217;m glad i did; i no longer fear long variable names!</div>
<div class="line">[Friday 05 November 2010] [12:17:13] &lt;cremes&gt; and coming back to review old code is <em>so</em> much easier then</div>
<div class="line">[Friday 05 November 2010] [12:17:47] &lt;mato&gt;   cremes: i agree</div>
<div class="line">[Friday 05 November 2010] [12:17:54] &lt;mato&gt;   cremes: submit a patch :-)</div>
<div class="line">[Friday 05 November 2010] [12:17:59] &lt;cremes&gt; :)</div>
<div class="line">[Friday 05 November 2010] [12:18:04] &lt;mato&gt;   seriously</div>
<div class="line">[Friday 05 November 2010] [12:18:14] &lt;mato&gt;   [PATCH] Uncompress variable names</div>
<div class="line">[Friday 05 November 2010] [12:18:15] &lt;mato&gt;   :-)</div>
<div class="line">[Friday 05 November 2010] [12:18:34] &lt;kyuss&gt;  Hello. I&#8217;m trying to run basic REQ/REP example in C from the guide. It works fine on Debian, but zmq_connect hangs on Fedora 8. How can I debug it?</div>
<div class="line">[Friday 05 November 2010] [12:18:35] &lt;cremes&gt; perhaps i will... search and replace are pretty quick these days</div>
<div class="line">[Friday 05 November 2010] [12:18:43] &lt;mato&gt;   You can do it trivially by taking sustrik&#8217;s commit and running sed over it :-)</div>
<div class="line">[Friday 05 November 2010] [12:18:49] &lt;cremes&gt; ha</div>
<div class="line">[Friday 05 November 2010] [12:19:16] &lt;cremes&gt; kyuss: let me take a quick look here...</div>
<div class="line">[Friday 05 November 2010] [12:19:58] &lt;cremes&gt; kyuss: do you have a link to the specific code you used from the guide? there are lots of examples...</div>
<div class="line">[Friday 05 November 2010] [12:20:11] &lt;kyuss&gt;  one sec</div>
<div class="line">[Friday 05 November 2010] [12:20:44] &lt;kyuss&gt;  cremes: server <a class="reference external" href="http://pastebin.com/5Hy8dzWU">http://pastebin.com/5Hy8dzWU</a></div>
<div class="line">[Friday 05 November 2010] [12:21:04] &lt;cremes&gt; ok</div>
<div class="line">[Friday 05 November 2010] [12:21:11] &lt;kyuss&gt;  cremes: client <a class="reference external" href="http://pastebin.com/C8AERFSk">http://pastebin.com/C8AERFSk</a></div>
<div class="line">[Friday 05 November 2010] [12:21:25] &lt;cremes&gt; step 1, replace the asterisk in the call to zmq_bind with 127.0.0.1</div>
<div class="line">[Friday 05 November 2010] [12:21:42] &lt;cremes&gt; it&#8217;s more portable (i.e. that syntax doesn&#8217;t work on windows from my experience)</div>
<div class="line">[Friday 05 November 2010] [12:22:48] &lt;cremes&gt; try it again with that small change</div>
<div class="line">[Friday 05 November 2010] [12:23:10] &lt;cremes&gt; also, be sure that you are starting the server before starting the client</div>
<div class="line">[Friday 05 November 2010] [12:23:37] &lt;mato&gt;   cremes: &#8220;*&#8221; doesn&#8217;t work on windows? It just binds to INADDR_ANY</div>
<div class="line">[Friday 05 November 2010] [12:23:44] &lt;mato&gt;   cremes: if it really doesn&#8217;t work, that&#8217;s a bug...</div>
<div class="line">[Friday 05 November 2010] [12:24:00] &lt;kyuss&gt;  cremes: I have changed asterisk to 127.0.0.1. I have run server, then client in gdb and it hangs on zmq_connect again.</div>
<div class="line">[Friday 05 November 2010] [12:24:03] &lt;cremes&gt; mato: perhaps it is fixed in later releases but it definitely didn&#8217;t work in 2.0.8</div>
<div class="line">[Friday 05 November 2010] [12:24:19] &lt;kyuss&gt;  cremes: I tried with 2.0.10 and 2.0.8</div>
<div class="line">[Friday 05 November 2010] [12:24:33] &lt;cremes&gt; kyuss: check to see if any other processes are using port 5555 via netstat</div>
<div class="line">[Friday 05 November 2010] [12:26:28] &lt;cremes&gt; kyuss: also, in the client code change localhost to 127.0.0.1</div>
<div class="line">[Friday 05 November 2010] [12:27:51] &lt;kyuss&gt;  cremes: I did that, no change. And there is nothing on 5555 execept server (when I run it)</div>
<div class="line">[Friday 05 November 2010] [12:28:11] &lt;cremes&gt; well, that doesn&#8217;t make any sense to me then</div>
<div class="line">[Friday 05 November 2010] [12:28:27] &lt;mato&gt;   cremes: &#8216;*&#8217; definitely works with 2.1 master, ergo also 2.0.10 since that did not change</div>
<div class="line">[Friday 05 November 2010] [12:28:33] &lt;mato&gt;   cremes: just tried it on win2k3</div>
<div class="line">[Friday 05 November 2010] [12:28:34] &lt;cremes&gt; mato: good to know</div>
<div class="line">[Friday 05 November 2010] [12:28:46] &lt;cremes&gt; i&#8217;ll need it for win7 sometime soon...</div>
<div class="line">[Friday 05 November 2010] [12:28:57] &lt;cremes&gt; we need to get 0mq building under mingw cleanly</div>
<div class="line">[Friday 05 November 2010] [12:29:02] &lt;mato&gt;   cremes: there&#8217;s no reason why it shouldn&#8217;t, it doesn&#8217;t do anything special (just uses INADDR_ANY for the unerlying bind call)</div>
<div class="line">[Friday 05 November 2010] [12:29:27] &lt;mato&gt;   cremes: patches welcome :-) 2.0.x used to cross-compile OK from Linux to Windows using MinGW</div>
<div class="line">[Friday 05 November 2010] [12:29:32] &lt;cremes&gt; kyuss: exact same code runs ok on debian but fails on fedora?</div>
<div class="line">[Friday 05 November 2010] [12:29:35] &lt;mato&gt;   cremes: no idea about an actual build <em>on</em> Windows</div>
<div class="line">[Friday 05 November 2010] [12:29:48] &lt;kyuss&gt;  cremes: yes sir</div>
<div class="line">[Friday 05 November 2010] [12:30:02] &lt;cremes&gt; mato: roger that</div>
<div class="line">[Friday 05 November 2010] [12:30:22] &lt;cremes&gt; kyuss: do any of the examples work on fedora?</div>
<div class="line">[Friday 05 November 2010] [12:30:42] &lt;cremes&gt; try running some of the code provided in the &#8216;perf&#8217; subdir</div>
<div class="line">[Friday 05 November 2010] [12:30:45] &lt;mato&gt;   cremes: I&#8217;d get him to try local_thr and remote_thr</div>
<div class="line">[Friday 05 November 2010] [12:30:48] &lt;mato&gt;   precisely :-)</div>
<div class="line">[Friday 05 November 2010] [12:30:49] &lt;cremes&gt; like local_lat &amp; remote_lat</div>
<div class="line">[Friday 05 November 2010] [12:31:38] &lt;kyuss&gt;  cremes: No. I try basic one because my previous code with queue device was not working as well (but works fine on debian).</div>
<div class="line">[Friday 05 November 2010] [12:32:42] &lt;cremes&gt; kyuss: so none of the 0mq code examples work on fedora, right?</div>
<div class="line">[Friday 05 November 2010] [12:32:51] &lt;kyuss&gt;  cremes: I have installed uuid-dev from source  (e2fsprogs), then 2.0.10 from source</div>
<div class="line">[Friday 05 November 2010] [12:33:01] &lt;kyuss&gt;  cremes: That&#8217;s right</div>
<div class="line">[Friday 05 November 2010] [12:33:35] &lt;cremes&gt; kyuss: i dont&#8217; know what to do to help; 0mq works fine on my osx and archlinux boxes and clearly it works ok on your debian box</div>
<div class="line">[Friday 05 November 2010] [12:33:41] &lt;cremes&gt; i don&#8217;t know why fedora is failing</div>
<div class="line">[Friday 05 November 2010] [12:34:13] &lt;cremes&gt; i think you&#8217;re going to have to dig a bit deeper; see where the hang happens via gdb or use strace</div>
<div class="line">[Friday 05 November 2010] [12:34:32] &lt;kyuss&gt;  cremes: Ok. Thanks. Maybe I will try on more recent version of Fedora</div>
<div class="line">[Friday 05 November 2010] [12:42:42] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r9da84a5 10/ (14 files in 3 dirs):</div>
<div class="line">[Friday 05 November 2010] [12:42:42] &lt;CIA-20&gt; zeromq2: signaler renamed to mailbox</div>
<div class="line">[Friday 05 November 2010] [12:42:42] &lt;CIA-20&gt; zeromq2: For historical reasons queue to transfer commands between</div>
<div class="line">[Friday 05 November 2010] [12:42:42] &lt;CIA-20&gt; zeromq2: threads was called &#8216;signaler&#8217;. Given that it was used to</div>
<div class="line">[Friday 05 November 2010] [12:42:42] &lt;CIA-20&gt; zeromq2: pass commands rather than signals it was renamed to &#8216;mailbox&#8217;,</div>
<div class="line">[Friday 05 November 2010] [12:42:42] &lt;CIA-20&gt; zeromq2: see Erlang mailboxes.</div>
<div class="line">[Friday 05 November 2010] [12:42:43] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/alBcFR">http://bit.ly/alBcFR</a></div>
<div class="line">[Friday 05 November 2010] [12:45:29] &lt;sustrik&gt;        cremes: it&#8217;s modeled after POSIX pid (process id)</div>
<div class="line">[Friday 05 November 2010] [12:45:55] &lt;mato&gt;   sustrik: is there some reason why you added whitespace (blank lines) before comments in <em>some</em> functions of the (now) mailbox, but not others?</div>
<div class="line">[Friday 05 November 2010] [12:46:13] &lt;sustrik&gt;        i&#8217;ve missed some?</div>
<div class="line">[Friday 05 November 2010] [12:46:15] &lt;sustrik&gt;        ugh</div>
<div class="line">[Friday 05 November 2010] [12:46:27] &lt;mato&gt;   sustrik: is this part of coding style?</div>
<div class="line">[Friday 05 November 2010] [12:46:30] &lt;sustrik&gt;        yes</div>
<div class="line">[Friday 05 November 2010] [12:46:33] &lt;mato&gt;   sustrik: blank line before any comment?</div>
<div class="line">[Friday 05 November 2010] [12:46:48] &lt;sustrik&gt;        the structure is: block of code preceded by a comment</div>
<div class="line">[Friday 05 November 2010] [12:46:52] &lt;mato&gt;   sustrik: you ignored the win32 implementation at least</div>
<div class="line">[Friday 05 November 2010] [12:46:56] &lt;sustrik&gt;        separated by blank line</div>
<div class="line">[Friday 05 November 2010] [12:47:14] &lt;sustrik&gt;        sorry?</div>
<div class="line">[Friday 05 November 2010] [12:47:22] &lt;mato&gt;   sustrik: the problem is, you end up with stuff like this:</div>
<div class="line">[Friday 05 November 2010] [12:47:28] &lt;mato&gt;      if (<a href="#id681"><span class="problematic" id="id682">block_</span></a>) {</div>
<div class="line">[Friday 05 November 2010] [12:47:28] &lt;mato&gt;           // Set the reader to blocking mode.</div>
<div class="line">[Friday 05 November 2010] [12:47:28] &lt;mato&gt;           int flags = fcntl (r, F_GETFL, 0);</div>
<div class="line">[Friday 05 November 2010] [12:47:29] &lt;mato&gt;           errno_assert (flags &gt;= 0);</div>
<div class="line">[Friday 05 November 2010] [12:47:29] &lt;mato&gt;           int rc = fcntl (r, F_SETFL, flags &amp; ~O_NONBLOCK);</div>
<div class="line">[Friday 05 November 2010] [12:47:31] &lt;mato&gt;           errno_assert (rc == 0);</div>
<div class="line">[Friday 05 November 2010] [12:47:33] &lt;mato&gt;       }um</div>
<div class="line">[Friday 05 November 2010] [12:47:36] &lt;mato&gt;   um</div>
<div class="line">[Friday 05 November 2010] [12:47:41] &lt;mato&gt;   with a blank line after the if(<a href="#id683"><span class="problematic" id="id684">block_</span></a>) {</div>
<div class="line">[Friday 05 November 2010] [12:47:56] &lt;sustrik&gt;        yeah, the commet should be before the if</div>
<div class="line">[Friday 05 November 2010] [12:48:02] &lt;mato&gt;   well, then do it properly :-)</div>
<div class="line">[Friday 05 November 2010] [12:48:27] &lt;sustrik&gt;        i should</div>
<div class="line">[Friday 05 November 2010] [12:48:29] &lt;sustrik&gt;        :|</div>
<div class="line">[Friday 05 November 2010] [12:48:35] &lt;mato&gt;   i mean do it properly or not at all</div>
<div class="line">[Friday 05 November 2010] [12:48:55] &lt;mato&gt;   and/or you should have complained when I posted my patch</div>
<div class="line">[Friday 05 November 2010] [12:49:02] &lt;mato&gt;   anyway, no big deal</div>
<div class="line">[Friday 05 November 2010] [12:49:08] &lt;sustrik&gt;        yes, i&#8217;ll fix it</div>
<div class="line">[Friday 05 November 2010] [12:49:32] &lt;mato&gt;   it&#8217;s just those orphaned if statments make no sense</div>
<div class="line">[Friday 05 November 2010] [12:49:42] &lt;sustrik&gt;        yes</div>
<div class="line">[Friday 05 November 2010] [12:49:43] &lt;sustrik&gt;        i find comment+block coding style more comprehensible</div>
<div class="line">[Friday 05 November 2010] [12:49:49] &lt;sustrik&gt;        but it should be done properly</div>
<div class="line">[Friday 05 November 2010] [12:50:03] &lt;mato&gt;   as i said, in future complain to the submitter</div>
<div class="line">[Friday 05 November 2010] [12:50:11] &lt;sustrik&gt;        ok</div>
<div class="line">[Friday 05 November 2010] [12:51:02] &lt;mato&gt;   oh, incidentally I added stuff like // !something in #else blocks</div>
<div class="line">[Friday 05 November 2010] [12:51:12] &lt;mato&gt;   i think it would be nice to arrive at a convention for that</div>
<div class="line">[Friday 05 November 2010] [12:51:27] &lt;sustrik&gt;        sure, feel free to propose one</div>
<div class="line">[Friday 05 November 2010] [12:51:35] &lt;mato&gt;   since with stuff like the signa^H^H^H^H^Hmailbox code, it&#8217;s good to be able to see what the #else means</div>
<div class="line">[Friday 05 November 2010] [12:51:39] &lt;mato&gt;   right?</div>
<div class="line">[Friday 05 November 2010] [12:51:56] &lt;sustrik&gt;        howeve i would like to avoid something like this:</div>
<div class="line">[Friday 05 November 2010] [12:51:56] &lt;mato&gt;   especially if the #if is somewhere 5 pages up</div>
<div class="line">[Friday 05 November 2010] [12:51:58] &lt;sustrik&gt;        if (X)</div>
<div class="line">[Friday 05 November 2010] [12:52:01] &lt;sustrik&gt;            y = 1;</div>
<div class="line">[Friday 05 November 2010] [12:52:04] &lt;sustrik&gt;        else // !X</div>
<div class="line">[Friday 05 November 2010] [12:52:08] &lt;sustrik&gt;           y = 2;</div>
<div class="line">[Friday 05 November 2010] [12:52:16] &lt;mato&gt;   i would only do it if the block is big</div>
<div class="line">[Friday 05 November 2010] [12:52:20] &lt;mato&gt;   for some definition of big</div>
<div class="line">[Friday 05 November 2010] [12:52:21] &lt;sustrik&gt;        yes</div>
<div class="line">[Friday 05 November 2010] [12:52:45] &lt;sustrik&gt;        on the other hand it creates some management burden</div>
<div class="line">[Friday 05 November 2010] [12:52:56] &lt;sustrik&gt;        if the if part is changed and else part ignored</div>
<div class="line">[Friday 05 November 2010] [12:53:05] &lt;sustrik&gt;        you&#8217;ll end up with inconsitent comments</div>
<div class="line">[Friday 05 November 2010] [12:53:06] &lt;mato&gt;   review, refuse to accept</div>
<div class="line">[Friday 05 November 2010] [12:53:22] &lt;mato&gt;   if it becomes part of the coding style, enforce it</div>
<div class="line">[Friday 05 November 2010] [12:53:46] &lt;sustrik&gt;        then the burden is on me, as maintainer :)</div>
<div class="line">[Friday 05 November 2010] [12:53:49] &lt;mato&gt;   it does make code with platform-dependent ifdefs <em>much</em> easier to follow</div>
<div class="line">[Friday 05 November 2010] [12:54:05] &lt;mato&gt;   sustrik: as the maintiner, you should be reading each patch anyway :-)</div>
<div class="line">[Friday 05 November 2010] [12:54:10] &lt;sustrik&gt;        actually, yes, #ifdefs are mess</div>
<div class="line">[Friday 05 November 2010] [12:54:11] &lt;mato&gt;   sustrik: so there is no &#8220;extra&#8221; burden</div>
<div class="line">[Friday 05 November 2010] [12:54:29] &lt;sustrik&gt;        mato: the point is that the offending comment is not part of the patch</div>
<div class="line">[Friday 05 November 2010] [12:54:41] &lt;sustrik&gt;        so i would have to check the original code aside of the patch</div>
<div class="line">[Friday 05 November 2010] [12:55:04] &lt;mato&gt;   sustrik: dunno.</div>
<div class="line">[Friday 05 November 2010] [12:55:21] &lt;sustrik&gt;        what i say is: easy to get wrong</div>
<div class="line">[Friday 05 November 2010] [12:55:27] &lt;sustrik&gt;        if wrong, it has no value</div>
<div class="line">[Friday 05 November 2010] [12:55:55] &lt;mato&gt;   true</div>
<div class="line">[Friday 05 November 2010] [13:03:56] &lt;sustrik&gt;        thinking about the coding style wrt comments</div>
<div class="line">[Friday 05 November 2010] [13:04:33] &lt;sustrik&gt;        i believe it forces developer to separate body of function in small &#8220;sub-functions&#8221;</div>
<div class="line">[Friday 05 November 2010] [13:04:42] &lt;sustrik&gt;        with clear semantics</div>
<div class="line">[Friday 05 November 2010] [13:04:59] &lt;sustrik&gt;        if i can&#8217;t think of a comment to place on top of the block of code</div>
<div class="line">[Friday 05 November 2010] [13:05:12] &lt;sustrik&gt;        it&#8217;s probably mixing several issues</div>
<div class="line">[Friday 05 November 2010] [13:05:23] &lt;sustrik&gt;        and shoud be cleaned up anyway</div>
<div class="line">[Friday 05 November 2010] [13:05:42]   * sustrik should mention that in coding style doc...</div>
<div class="line">[Friday 05 November 2010] [13:06:09] &lt;mato&gt;   sustrik: sure, the comments inside the block body in my case should go above the if, i guess</div>
<div class="line">[Friday 05 November 2010] [13:06:26] &lt;mato&gt;    //  If ...., we do special foo.</div>
<div class="line">[Friday 05 November 2010] [13:06:34] &lt;sustrik&gt;        right</div>
<div class="line">[Friday 05 November 2010] [13:06:34] &lt;mato&gt;   etc</div>
<div class="line">[Friday 05 November 2010] [13:08:13] &lt;sustrik&gt;        actually, it is documented:</div>
<div class="line">[Friday 05 November 2010] [13:08:14] &lt;sustrik&gt;        # Code should be broken to small pieces (couple of lines each), every piece doing one simple task.</div>
<div class="line">[Friday 05 November 2010] [13:08:14] &lt;sustrik&gt;        # Each piece should be preceded by a comment explaining what is its intent.</div>
<div class="line">[Friday 05 November 2010] [13:08:14] &lt;sustrik&gt;        # Each code piece should be followed by a blank line.</div>
<div class="line">[Friday 05 November 2010] [13:08:20] &lt;sustrik&gt;        good</div>
<div class="line">[Friday 05 November 2010] [13:28:54] &lt;shales&gt; I&#8217;m confused about message envelopes and routing with XREP socket. Is the following true? If both XREQ and REP sockets connect to an XREP socket, then the XREP socket has to the type of the socket on the other end so that that it knows when the delimeter after the address in a multipart message is necessary</div>
<div class="line">[Friday 05 November 2010] [13:29:28] &lt;shales&gt; meant to say &#8220;then the XREP socket has to _know_ the type&#8221;</div>
<div class="line">[Friday 05 November 2010] [14:06:09] &lt;cremes&gt; shales: make sure your multi-part messages all follow the same rules if you are going to mix XREQ and REQ sockets on the same XREP endpoint</div>
<div class="line">[Friday 05 November 2010] [14:06:32] &lt;cremes&gt; then the XREP doesn&#8217;t <em>need</em> to know anything; all sockets are managing the message parts the same way</div>
<div class="line">[Friday 05 November 2010] [14:06:46] &lt;cremes&gt; i.e. <em>always</em> use the null part as a delimiter</div>
<div class="line">[Friday 05 November 2010] [14:08:51] &lt;cremes&gt; shales: read this... i wrote it a while ago when i was having the same issues:  <a class="reference external" href="http://www.zeromq.org/tutorials:xreq-and-xrep">http://www.zeromq.org/tutorials:xreq-and-xrep</a></div>
<div class="line">[Friday 05 November 2010] [16:09:59] &lt;Guthur&gt; when does the RECVMORE get set, before calling Recv or afte</div>
<div class="line">[Friday 05 November 2010] [16:10:14] &lt;Guthur&gt; after*</div>
<div class="line">[Friday 05 November 2010] [16:10:59] &lt;Guthur&gt; Does one have to call the Recv to find out there is a multipart message</div>
<div class="line">[Friday 05 November 2010] [16:14:16] &lt;shales&gt; cremes: thanks! that makes sense. I see what I was doing wrong now</div>
<div class="line">[Friday 05 November 2010] [16:24:02] &lt;twomashi&gt;       helloo</div>
<div class="line">[Friday 05 November 2010] [16:24:05] &lt;twomashi&gt;       I have a question</div>
<div class="line">[Friday 05 November 2010] [16:24:57] &lt;twomashi&gt;       My understanding is that creating a zeromq context creates a thread in your application which allows socket operations to run asynchronously</div>
<div class="line">[Friday 05 November 2010] [16:25:49] &lt;cremes&gt; twomashi: correct so far...</div>
<div class="line">[Friday 05 November 2010] [16:25:54] &lt;twomashi&gt;       Assuming thats right, if I fork my application, does that thread keep running in 2 separate processes?</div>
<div class="line">[Friday 05 November 2010] [16:26:45] &lt;twomashi&gt;       It seems like I can&#8217;t fork, because if I do I&#8217;ll have one set of redundant background operations</div>
<div class="line">[Friday 05 November 2010] [16:26:57] &lt;cremes&gt; hmmm.... does fork also copy all threads or does it just copy the main?</div>
<div class="line">[Friday 05 November 2010] [16:27:07] &lt;cremes&gt; so i guess it&#8217;s a question of the semantics of fork</div>
<div class="line">[Friday 05 November 2010] [16:27:12] &lt;twomashi&gt;       I suppose it copies all of them,</div>
<div class="line">[Friday 05 November 2010] [16:27:22] &lt;cremes&gt; but assuming fork copies everything, i&#8217;d say that&#8217;s a really bad idea :)</div>
<div class="line">[Friday 05 November 2010] [16:27:27] &lt;twomashi&gt;       Rght</div>
<div class="line">[Friday 05 November 2010] [16:27:29] &lt;twomashi&gt;       Right*</div>
<div class="line">[Friday 05 November 2010] [16:27:30] &lt;cremes&gt; don&#8217;t fork</div>
<div class="line">[Friday 05 November 2010] [16:27:34] &lt;twomashi&gt;       sort of a zeromq &#8220;gotcha&#8221;</div>
<div class="line">[Friday 05 November 2010] [16:27:45] &lt;cremes&gt; perhaps</div>
<div class="line">[Friday 05 November 2010] [16:28:05] &lt;cremes&gt; you might want to ask this question on the ML too; not everyone who can answer this question is awake right now</div>
<div class="line">[Friday 05 November 2010] [16:28:08] &lt;twomashi&gt;       yep, fork duplicates threads too.</div>
<div class="line">[Friday 05 November 2010] [16:28:42] &lt;twomashi&gt;       Yea, could do. I&#8217;m going to test this as a theory of why my app isnt working right tho</div>
<div class="line">[Friday 05 November 2010] [16:28:43] &lt;twomashi&gt;       thanks</div>
<div class="line">[Friday 05 November 2010] [16:33:13] &lt;cremes&gt; np</div>
<div class="line">[Friday 05 November 2010] [16:55:52] &lt;Guthur&gt; Hehe, it&#8217;s cool that CL is one of the most consistent language bindings providing examples from the guide</div>
<div class="line">[Friday 05 November 2010] [17:35:55] &lt;takeda&gt; Hey guys, how hard is it to add a new protocol to 0MQ?</div>
<div class="line">[Friday 05 November 2010] [17:38:42] &lt;twomashi&gt;       you mean like make it speak http?</div>
<div class="line">[Friday 05 November 2010] [17:39:08] &lt;takeda&gt; well particularly I&#8217;m thinking <a class="reference external" href="http://www.ccnx.org/">http://www.ccnx.org/</a></div>
<div class="line">[Friday 05 November 2010] [17:39:36] &lt;takeda&gt; and use bindings</div>
<div class="line">[Friday 05 November 2010] [17:40:05] &lt;takeda&gt; the protocol is more like request response, though it doesn&#8217;t guarantee delivery</div>
<div class="line">[Friday 05 November 2010] [17:40:31] &lt;twomashi&gt;       no idea</div>
<div class="line">[Friday 05 November 2010] [17:44:27] &lt;takeda&gt; ok</div>
<div class="line">[Friday 05 November 2010] [17:44:51] &lt;takeda&gt; I just want to know if it&#8217;s a waste of time or not</div>
<div class="line">[Friday 05 November 2010] [17:45:10] &lt;twomashi&gt;       i dont really understand the fundamental issues</div>
<div class="line">[Friday 05 November 2010] [17:45:24] &lt;twomashi&gt;       im sure there are others that do</div>
<div class="line">[Friday 05 November 2010] [17:46:20] &lt;Guthur&gt; From there own description it seems a little early for that protocol</div>
<div class="line">[Friday 05 November 2010] [17:46:24] &lt;Guthur&gt; Very much in the realms of research</div>
<div class="line">[Friday 05 November 2010] [17:48:36] &lt;takeda&gt; yeah, that&#8217;s why I&#8217;m thinkinking to implement it myself only things that I would need in order to use the 0MQ bindings in other languages. The protocol is still research and I&#8217;m prototyping an application that would use it</div>
<div class="line">[Friday 05 November 2010] [17:49:24] &lt;twomashi&gt;       0mq supports different transports so I guess they have an abstraction for that</div>
<div class="line">[Friday 05 November 2010] [17:49:30] &lt;twomashi&gt;       socket, ipc, memory..</div>
<div class="line">[Friday 05 November 2010] [17:50:33] &lt;takeda&gt; yeah... the interface is clean, and also if I would need to use other ways it is consistent way of communicating :)</div>
<div class="line">[Saturday 06 November 2010] [03:02:48] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * rc021702 10/ src/mailbox.cpp :</div>
<div class="line">[Saturday 06 November 2010] [03:02:48] &lt;CIA-20&gt;       zeromq2: Coding style cleanup in mailbox.cpp</div>
<div class="line">[Saturday 06 November 2010] [03:02:48] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/9TFok1">http://bit.ly/9TFok1</a></div>
<div class="line">[Saturday 06 November 2010] [05:07:21] &lt;sustrik&gt;      takeda: hi</div>
<div class="line">[Saturday 06 November 2010] [05:08:08] &lt;sustrik&gt;      you can add new transports but the interface for a transport is not particularly clean</div>
<div class="line">[Saturday 06 November 2010] [05:08:25] &lt;sustrik&gt;      i would like to clean it up and document it</div>
<div class="line">[Saturday 06 November 2010] [05:08:42] &lt;sustrik&gt;      so that people can add thier own transports as needed</div>
<div class="line">[Saturday 06 November 2010] [06:05:03] &lt;xraid&gt;        how do i read and send to a raw socket from zmq ? preferbly a ipc://</div>
<div class="line">[Saturday 06 November 2010] [06:22:15] &lt;sustrik&gt;      what raw socket?</div>
<div class="line">[Saturday 06 November 2010] [06:22:19] &lt;sustrik&gt;      BSD socket you mean?</div>
<div class="line">[Saturday 06 November 2010] [06:27:17] &lt;xraid&gt;        yes a unix:path socket</div>
<div class="line">[Saturday 06 November 2010] [06:46:48] &lt;sustrik&gt;      BSD sockets have nothing to do with 0mq</div>
<div class="line">[Saturday 06 November 2010] [06:46:56] &lt;sustrik&gt;      use standard BSD socket API</div>
<div class="line">[Saturday 06 November 2010] [06:47:36] &lt;<a href="#id685"><span class="problematic" id="id686">dv_</span></a>&gt;  hi</div>
<div class="line">[Saturday 06 November 2010] [06:47:47] &lt;<a href="#id687"><span class="problematic" id="id688">dv_</span></a>&gt;  can I use the same zeromq context in two threads?</div>
<div class="line">[Saturday 06 November 2010] [06:48:18] &lt;xraid&gt;        sustric whats the &#8211; cremes     Guthur: because you can use it to poll a standard socket as well as a 0mq socket</div>
<div class="line">[Saturday 06 November 2010] [06:48:39] &lt;xraid&gt;        PollItem ?</div>
<div class="line">[Saturday 06 November 2010] [06:52:38] &lt;<a href="#id689"><span class="problematic" id="id690">dv_</span></a>&gt;  hi. according to the docs, I can create one context and use it in more than one thread</div>
<div class="line">[Saturday 06 November 2010] [06:52:59] &lt;<a href="#id691"><span class="problematic" id="id692">dv_</span></a>&gt;  but is there something I should know about tring to create a publisher in one thread and a subscriber in another?</div>
<div class="line">[Saturday 06 November 2010] [06:53:11] &lt;<a href="#id693"><span class="problematic" id="id694">dv_</span></a>&gt;  I am trying to create a chat program using pub-sub and multicasting</div>
<div class="line">[Saturday 06 November 2010] [06:53:13] &lt;<a href="#id695"><span class="problematic" id="id696">dv_</span></a>&gt;  (epgm)</div>
<div class="line">[Saturday 06 November 2010] [06:53:43] &lt;<a href="#id697"><span class="problematic" id="id698">dv_</span></a>&gt;  previously I used two contexts, one in each thread, this didnt work.</div>
<div class="line">[Saturday 06 November 2010] [06:54:50] &lt;<a href="#id699"><span class="problematic" id="id700">dv_</span></a>&gt;  i dont need synchronization - it doesnt make sense, anyway, since every chatter is a publisher -and- a subscriber</div>
<div class="line">[Saturday 06 November 2010] [07:36:45] &lt;sustrik&gt;      <a href="#id701"><span class="problematic" id="id702">dv_</span></a>: the context issue is irrelevant</div>
<div class="line">[Saturday 06 November 2010] [07:37:10] &lt;sustrik&gt;      try starting with tcp transport</div>
<div class="line">[Saturday 06 November 2010] [07:37:26] &lt;sustrik&gt;      when it works switch to epgm</div>
<div class="line">[Saturday 06 November 2010] [07:38:32] &lt;sustrik&gt;      xraid: you&#8217;ve asked about send and recv &#8211; use send(2) and recv(2) for those</div>
<div class="line">[Saturday 06 November 2010] [07:38:42] &lt;sustrik&gt;      polling is a different issue</div>
<div class="line">[Saturday 06 November 2010] [07:38:56] &lt;sustrik&gt;      as you may want to combine raw sockets and 0mq sockets</div>
<div class="line">[Saturday 06 November 2010] [07:40:10] &lt;<a href="#id703"><span class="problematic" id="id704">dv_</span></a>&gt;  hm</div>
<div class="line">[Saturday 06 November 2010] [07:40:12] &lt;<a href="#id705"><span class="problematic" id="id706">dv_</span></a>&gt;  well it works now</div>
<div class="line">[Saturday 06 November 2010] [07:40:21] &lt;<a href="#id707"><span class="problematic" id="id708">dv_</span></a>&gt;  with tcp, it is set up immediately</div>
<div class="line">[Saturday 06 November 2010] [07:40:29] &lt;<a href="#id709"><span class="problematic" id="id710">dv_</span></a>&gt;  but with epgm, connecting takes about 3 seconds</div>
<div class="line">[Saturday 06 November 2010] [07:41:00] &lt;<a href="#id711"><span class="problematic" id="id712">dv_</span></a>&gt;  multicast rate is set to 10000</div>
<div class="line">[Saturday 06 November 2010] [08:39:14] &lt;<a href="#id713"><span class="problematic" id="id714">dv_</span></a>&gt;  is epgm broken in zeromq?</div>
<div class="line">[Saturday 06 November 2010] [08:39:59] &lt;<a href="#id715"><span class="problematic" id="id716">dv_</span></a>&gt;  when I put a sleep(1) before the connect() call in the receiver , i get an &#8220;Invalid argument&#8221; error</div>
<div class="line">[Saturday 06 November 2010] [09:00:24] &lt;<a href="#id717"><span class="problematic" id="id718">dv_</span></a>&gt;  uh, it gets weirder. apparently, this is related to gcc. I build zeromq with -O0 and everything works just fine... ?!?!?</div>
<div class="line">[Saturday 06 November 2010] [09:12:28] &lt;mikko&gt;        <a href="#id719"><span class="problematic" id="id720">dv_</span></a>: are you using master or maint?</div>
<div class="line">[Saturday 06 November 2010] [09:16:25] &lt;<a href="#id721"><span class="problematic" id="id722">dv_</span></a>&gt;  zeromq 2.0.10</div>
<div class="line">[Saturday 06 November 2010] [09:16:29] &lt;<a href="#id723"><span class="problematic" id="id724">dv_</span></a>&gt;  nothing from git</div>
<div class="line">[Saturday 06 November 2010] [09:16:51] &lt;<a href="#id725"><span class="problematic" id="id726">dv_</span></a>&gt;  no something is very wrong. I recompile the app twice, no changes to the code at all.</div>
<div class="line">[Saturday 06 November 2010] [09:17:04] &lt;<a href="#id727"><span class="problematic" id="id728">dv_</span></a>&gt;  first time : &#8220;invalid argument&#8221;, second time it works</div>
<div class="line">[Saturday 06 November 2010] [09:20:30] &lt;<a href="#id729"><span class="problematic" id="id730">dv_</span></a>&gt;  hmm. is this maybe a race condition? when I step through the connect function, it works. when I dont step, it fails.</div>
<div class="line">[Saturday 06 November 2010] [09:20:36] &lt;<a href="#id731"><span class="problematic" id="id732">dv_</span></a>&gt;  (stepping with gdb i mean)</div>
<div class="line">[Saturday 06 November 2010] [09:24:47] &lt;mikko&gt;        which version of gcc?</div>
<div class="line">[Saturday 06 November 2010] [09:24:51] &lt;mikko&gt;        sounds a bit odd indeed</div>
<div class="line">[Saturday 06 November 2010] [09:24:58] &lt;mikko&gt;        have you got reproducable test case?</div>
<div class="line">[Saturday 06 November 2010] [09:25:09] &lt;<a href="#id733"><span class="problematic" id="id734">dv_</span></a>&gt;  here, I reduced this to this code: <a class="reference external" href="http://codepad.org/SJbVtKcR">http://codepad.org/SJbVtKcR</a></div>
<div class="line">[Saturday 06 November 2010] [09:25:16] &lt;<a href="#id735"><span class="problematic" id="id736">dv_</span></a>&gt;  this code sometimes succeeds</div>
<div class="line">[Saturday 06 November 2010] [09:25:32] &lt;mikko&gt;        testing</div>
<div class="line">[Saturday 06 November 2010] [09:25:34] &lt;mikko&gt;        sec</div>
<div class="line">[Saturday 06 November 2010] [09:25:36] &lt;<a href="#id737"><span class="problematic" id="id738">dv_</span></a>&gt;  and sometimes I get    terminate called after throwing an instance of &#8216;zmq::error_t&#8217;  what():  Invalid argument</div>
<div class="line">[Saturday 06 November 2010] [09:25:47] &lt;<a href="#id739"><span class="problematic" id="id740">dv_</span></a>&gt;  built with   g++-4.4 -Wextra -Wall -std=c++0x -pedantic -o epgm_test epgm_test.cpp -lzmq</div>
<div class="line">[Saturday 06 November 2010] [09:26:20] &lt;mikko&gt;        need to build with pgm</div>
<div class="line">[Saturday 06 November 2010] [09:26:23] &lt;mikko&gt;        second</div>
<div class="line">[Saturday 06 November 2010] [09:26:47] &lt;<a href="#id741"><span class="problematic" id="id742">dv_</span></a>&gt;  okay. it also happens with fewer flags btw. : g++-4.4 -o epgm_test epgm_test.cpp -lzmq</div>
<div class="line">[Saturday 06 November 2010] [09:27:16] &lt;mikko&gt;        im testing with git trunk</div>
<div class="line">[Saturday 06 November 2010] [09:27:23] &lt;mikko&gt;        havent used maint in quite a while</div>
<div class="line">[Saturday 06 November 2010] [09:27:47] &lt;<a href="#id743"><span class="problematic" id="id744">dv_</span></a>&gt;  oh, you might want to adjust the URL</div>
<div class="line">[Saturday 06 November 2010] [09:27:51] &lt;<a href="#id745"><span class="problematic" id="id746">dv_</span></a>&gt;  I use eth1</div>
<div class="line">[Saturday 06 November 2010] [09:29:56] &lt;mikko&gt;        <a class="reference external" href="https://gist.github.com/53169bc3388ce17e18bd">https://gist.github.com/53169bc3388ce17e18bd</a></div>
<div class="line">[Saturday 06 November 2010] [09:30:13] &lt;mikko&gt;        this is with trunk</div>
<div class="line">[Saturday 06 November 2010] [09:30:29] &lt;<a href="#id747"><span class="problematic" id="id748">dv_</span></a>&gt;  yes. now try with -O0</div>
<div class="line">[Saturday 06 November 2010] [09:30:32] &lt;<a href="#id749"><span class="problematic" id="id750">dv_</span></a>&gt;  then with -O2</div>
<div class="line">[Saturday 06 November 2010] [09:30:42] &lt;mikko&gt;        no wait</div>
<div class="line">[Saturday 06 November 2010] [09:30:51] &lt;mikko&gt;        <a class="reference external" href="https://gist.github.com/0c25c16d0f678e81a905">https://gist.github.com/0c25c16d0f678e81a905</a></div>
<div class="line">[Saturday 06 November 2010] [09:30:52] &lt;mikko&gt;        look</div>
<div class="line">[Saturday 06 November 2010] [09:30:57] &lt;mikko&gt;        it died after a while</div>
<div class="line">[Saturday 06 November 2010] [09:31:13] &lt;<a href="#id751"><span class="problematic" id="id752">dv_</span></a>&gt;  uh, never had that</div>
<div class="line">[Saturday 06 November 2010] [09:31:26] &lt;mikko&gt;        i think i&#8217;ve seen this before</div>
<div class="line">[Saturday 06 November 2010] [09:31:38] &lt;<a href="#id753"><span class="problematic" id="id754">Ghpu_</span></a>&gt;        hello</div>
<div class="line">[Saturday 06 November 2010] [09:31:40] &lt;<a href="#id755"><span class="problematic" id="id756">dv_</span></a>&gt;  did you set your app to sleep?</div>
<div class="line">[Saturday 06 November 2010] [09:31:42] &lt;mikko&gt;        same thing with -O0</div>
<div class="line">[Saturday 06 November 2010] [09:31:49] &lt;<a href="#id757"><span class="problematic" id="id758">dv_</span></a>&gt;  because, my code exits immediately</div>
<div class="line">[Saturday 06 November 2010] [09:31:49] &lt;mikko&gt;        no, it&#8217;s blocking</div>
<div class="line">[Saturday 06 November 2010] [09:31:56] &lt;<a href="#id759"><span class="problematic" id="id760">dv_</span></a>&gt;  hmm it does not block here</div>
<div class="line">[Saturday 06 November 2010] [09:32:06] &lt;<a href="#id761"><span class="problematic" id="id762">dv_</span></a>&gt;  see why I suspect that something&#8217;s wrong about epgm ?</div>
<div class="line">[Saturday 06 November 2010] [09:32:07] &lt;mikko&gt;        different semantics in trunk</div>
<div class="line">[Saturday 06 November 2010] [09:32:25] &lt;mikko&gt;        possibly</div>
<div class="line">[Saturday 06 November 2010] [09:32:38] &lt;mikko&gt;        let&#8217;s see where it&#8217;s blocking</div>
<div class="line">[Saturday 06 November 2010] [09:33:03] &lt;mikko&gt;        <a class="reference external" href="https://gist.github.com/0c25c16d0f678e81a905#comments">https://gist.github.com/0c25c16d0f678e81a905#comments</a></div>
<div class="line">[Saturday 06 November 2010] [09:34:38] &lt;<a href="#id763"><span class="problematic" id="id764">Ghpu_</span></a>&gt;        I&#8217;ve just succeeded in having a working version of ZeroMQ 2.1 from trunk ported to the Android platform o/</div>
<div class="line">[Saturday 06 November 2010] [09:34:48] &lt;mikko&gt;        <a href="#id765"><span class="problematic" id="id766">Ghpu_</span></a>: nice!</div>
<div class="line">[Saturday 06 November 2010] [09:34:57] &lt;<a href="#id767"><span class="problematic" id="id768">Ghpu_</span></a>&gt;        It required to rebuild the libuuid first</div>
<div class="line">[Saturday 06 November 2010] [09:35:06] &lt;<a href="#id769"><span class="problematic" id="id770">dv_</span></a>&gt;  hmm.</div>
<div class="line">[Saturday 06 November 2010] [09:35:07] &lt;<a href="#id771"><span class="problematic" id="id772">Ghpu_</span></a>&gt;        and comment out some POSIX optimizations</div>
<div class="line">[Saturday 06 November 2010] [09:35:25] &lt;<a href="#id773"><span class="problematic" id="id774">dv_</span></a>&gt;  it seems to me as if multicast connect works <em>sometimes</em></div>
<div class="line">[Saturday 06 November 2010] [09:35:28] &lt;<a href="#id775"><span class="problematic" id="id776">dv_</span></a>&gt;  and sometimes it doesnt</div>
<div class="line">[Saturday 06 November 2010] [09:35:44] &lt;<a href="#id777"><span class="problematic" id="id778">Ghpu_</span></a>&gt;        i made a package temporarily available on ghislain.putois.free.fr/azmq.tar.bz2 if someone is interested</div>
<div class="line">[Saturday 06 November 2010] [09:36:34] &lt;<a href="#id779"><span class="problematic" id="id780">dv_</span></a>&gt;  i&#8217;ll try out trunk</div>
<div class="line">[Saturday 06 November 2010] [09:36:36] &lt;<a href="#id781"><span class="problematic" id="id782">Ghpu_</span></a>&gt;        it required to use an unofficial ndk, which supports full stdc++ and</div>
<div class="line">[Saturday 06 November 2010] [09:36:44] &lt;<a href="#id783"><span class="problematic" id="id784">Ghpu_</span></a>&gt;        stl</div>
<div class="line">[Saturday 06 November 2010] [09:36:54] &lt;<a href="#id785"><span class="problematic" id="id786">Ghpu_</span></a>&gt;        but I think it&#8217;s worth it</div>
<div class="line">[Saturday 06 November 2010] [09:39:02] &lt;<a href="#id787"><span class="problematic" id="id788">dv_</span></a>&gt;  oh now this is interesting. trunk uses a much more recent version of openpgm.</div>
<div class="line">[Saturday 06 November 2010] [09:39:30] &lt;mikko&gt;        <a href="#id789"><span class="problematic" id="id790">dv_</span></a>: yes, as far as i know there is going to be openpgm related testing soon</div>
<div class="line">[Saturday 06 November 2010] [09:39:36] &lt;mikko&gt;        to iron out any bugs</div>
<div class="line">[Saturday 06 November 2010] [09:40:06] &lt;mikko&gt;        <a href="#id791"><span class="problematic" id="id792">Ghpu_</span></a>: this sounds like an interesting project</div>
<div class="line">[Saturday 06 November 2010] [09:40:57] &lt;<a href="#id793"><span class="problematic" id="id794">dv_</span></a>&gt;  hmm. doesnt seem to happen anymore.</div>
<div class="line">[Saturday 06 November 2010] [09:41:00] &lt;<a href="#id795"><span class="problematic" id="id796">Ghpu_</span></a>&gt;        Well, I got it to talk properly between the emulator and a host program on my desktop computer</div>
<div class="line">[Saturday 06 November 2010] [09:41:17] &lt;mikko&gt;        <a href="#id797"><span class="problematic" id="id798">Ghpu_</span></a>: is this &#8216;easy&#8217; to cross-compile?</div>
<div class="line">[Saturday 06 November 2010] [09:41:19] &lt;<a href="#id799"><span class="problematic" id="id800">Ghpu_</span></a>&gt;        I will put a small page on my website to host it for now</div>
<div class="line">[Saturday 06 November 2010] [09:41:20] &lt;<a href="#id801"><span class="problematic" id="id802">dv_</span></a>&gt;  oh but I got your assertion, mikko</div>
<div class="line">[Saturday 06 November 2010] [09:41:37] &lt;<a href="#id803"><span class="problematic" id="id804">dv_</span></a>&gt;  so trade one bug for another? :)</div>
<div class="line">[Saturday 06 November 2010] [09:41:37] &lt;<a href="#id805"><span class="problematic" id="id806">Ghpu_</span></a>&gt;        well, my package is a copy of the needed file with a compile script</div>
<div class="line">[Saturday 06 November 2010] [09:41:39] &lt;mikko&gt;        <a href="#id807"><span class="problematic" id="id808">dv_</span></a>: i think it would be good to make a test case out of this</div>
<div class="line">[Saturday 06 November 2010] [09:41:53] &lt;<a href="#id809"><span class="problematic" id="id810">dv_</span></a>&gt;  yes, unfortunately it doesnt seem to be deterministic</div>
<div class="line">[Saturday 06 November 2010] [09:41:56] &lt;<a href="#id811"><span class="problematic" id="id812">dv_</span></a>&gt;  as in &#8220;run it 1000 times&#8221;</div>
<div class="line">[Saturday 06 November 2010] [09:42:02] &lt;<a href="#id813"><span class="problematic" id="id814">Ghpu_</span></a>&gt;        but the files are slightly modified from the trunk, and the  directory structure is different</div>
<div class="line">[Saturday 06 November 2010] [09:42:13] &lt;<a href="#id815"><span class="problematic" id="id816">Ghpu_</span></a>&gt;        so I don&#8217;t see an easy integration now</div>
<div class="line">[Saturday 06 November 2010] [09:42:29] &lt;mikko&gt;        <a href="#id817"><span class="problematic" id="id818">Ghpu_</span></a>: does the directory structure need to be different?</div>
<div class="line">[Saturday 06 November 2010] [09:42:31] &lt;<a href="#id819"><span class="problematic" id="id820">Ghpu_</span></a>&gt;        but the overall cross-compilation should be easy</div>
<div class="line">[Saturday 06 November 2010] [09:42:42] &lt;<a href="#id821"><span class="problematic" id="id822">Ghpu_</span></a>&gt;        well, the cross-compilator expects a specific structure</div>
<div class="line">[Saturday 06 November 2010] [09:42:44] &lt;mikko&gt;        <a href="#id823"><span class="problematic" id="id824">Ghpu_</span></a>: it would be good if this could be automated so i can add a daily build for it</div>
<div class="line">[Saturday 06 November 2010] [09:42:54] &lt;<a href="#id825"><span class="problematic" id="id826">Ghpu_</span></a>&gt;        as far as i know</div>
<div class="line">[Saturday 06 November 2010] [09:42:55] &lt;mikko&gt;        <a class="reference external" href="http://build.valokuva.org/">http://build.valokuva.org/</a></div>
<div class="line">[Saturday 06 November 2010] [09:43:17] &lt;<a href="#id827"><span class="problematic" id="id828">Ghpu_</span></a>&gt;        I still need more time to make a proper diff/patch to the zmq files</div>
<div class="line">[Saturday 06 November 2010] [09:43:35] &lt;<a href="#id829"><span class="problematic" id="id830">Ghpu_</span></a>&gt;        this is only my first working step</div>
<div class="line">[Saturday 06 November 2010] [09:43:41] &lt;mikko&gt;        <a href="#id831"><span class="problematic" id="id832">Ghpu_</span></a>: do you see this as something that could be cleanly added to upstream?</div>
<div class="line">[Saturday 06 November 2010] [09:43:49] &lt;<a href="#id833"><span class="problematic" id="id834">Ghpu_</span></a>&gt;        I&#8217;m afraid not</div>
<div class="line">[Saturday 06 November 2010] [09:44:03] &lt;<a href="#id835"><span class="problematic" id="id836">Ghpu_</span></a>&gt;        (or not easily for now)</div>
<div class="line">[Saturday 06 November 2010] [09:44:36] &lt;mikko&gt;        ok</div>
<div class="line">[Saturday 06 November 2010] [09:44:54] &lt;<a href="#id837"><span class="problematic" id="id838">Ghpu_</span></a>&gt;        just to let know that it can work</div>
<div class="line">[Saturday 06 November 2010] [09:45:23] &lt;mikko&gt;        that is really good news</div>
<div class="line">[Saturday 06 November 2010] [09:45:24] &lt;<a href="#id839"><span class="problematic" id="id840">dv_</span></a>&gt;  yes, seems very much like a race condition. perhaps I can look into it a bit more</div>
<div class="line">[Saturday 06 November 2010] [09:45:36] &lt;mikko&gt;        <a href="#id841"><span class="problematic" id="id842">dv_</span></a>: that would be great</div>
<div class="line">[Saturday 06 November 2010] [09:46:12] &lt;<a href="#id843"><span class="problematic" id="id844">dv_</span></a>&gt;  gotta go now, however. thanks for the help guys, i&#8217;ll keep you posted.</div>
<div class="line">[Saturday 06 November 2010] [11:04:24] &lt;Guthur&gt;       Oh, does Swap need to be set after binding  a socket?</div>
<div class="line">[Saturday 06 November 2010] [11:07:36] &lt;Guthur&gt;       actually is that the case for all options?</div>
<div class="line">[Saturday 06 November 2010] [11:08:13] &lt;Guthur&gt;       If I set HWM and SWAP before binding for the durable PubSub it doesn&#8217;t seem to work as expected, is that par for the course?</div>
<div class="line">[Saturday 06 November 2010] [15:38:45] &lt;shales&gt;       is there a recommended way of setting the file permissions and group of the unix domain socket when binding an IPC socket?</div>
<div class="line">[Saturday 06 November 2010] [15:39:46] &lt;shales&gt;       should I set the umask and setguid before calling bind? does the underlying call to bind happen before 0mq&#8217;s bind returns or at some later time?</div>
<div class="line">[Saturday 06 November 2010] [15:43:34] &lt;shales&gt;       come to think of it, how does 0mq work when an IPC socket connects to a unix domain socket whose file is left over from a previous run and the sever endpoint hasn&#8217;t called bind yet? I think the server side would have to unlink the file before it can bind again, and 0mq seems to do this automatically, but how do the sockets that connect know to reconnect to the new unix domain socket?</div>
<div class="line">[Saturday 06 November 2010] [16:10:04] &lt;shales&gt;       ah, I guess after the server closes, the connect will just fail even if the unix socket domain file still exists</div>
<div class="line">[Saturday 06 November 2010] [16:10:19] &lt;shales&gt;       and 0mq will do its reconnecting</div>
<div class="line">[Saturday 06 November 2010] [17:14:47] &lt;Guthur&gt;       I am getting an assert fail (line 60 xrep.cpp), while trying to run my version of LRUQueue</div>
<div class="line">[Saturday 06 November 2010] [17:15:33] &lt;Guthur&gt;       I am using INPROC instead of IPC, due to Win platform; this shouldn&#8217;t make a difference, correct?</div>
<div class="line">[Saturday 06 November 2010] [17:31:47] &lt;<a href="#id845"><span class="problematic" id="id846">dv_</span></a>&gt;  hi</div>
<div class="line">[Saturday 06 November 2010] [17:32:20] &lt;<a href="#id847"><span class="problematic" id="id848">dv_</span></a>&gt;  mikko, I narrowed the bug to code inside openpgm - the parse_interface() function</div>
<div class="line">[Saturday 06 November 2010] [17:32:50] &lt;<a href="#id849"><span class="problematic" id="id850">dv_</span></a>&gt;  it tries to find a multicast capable interface out of the list I gave it, and it seems that the one I give is sometimes multicast capable, sometimes it isn&#8217;t</div>
<div class="line">[Saturday 06 November 2010] [17:42:10] &lt;Guthur&gt;       Oh the assert fail is sorted, it was an issue with my implementation of z_set_id</div>
<div class="line">[Saturday 06 November 2010] [17:42:39] &lt;Guthur&gt;       it wasn&#8217;t being random enough</div>
<div class="line">[Saturday 06 November 2010] [17:51:05] &lt;<a href="#id851"><span class="problematic" id="id852">dv_</span></a>&gt;  got it - the assert is gone now</div>
<div class="line">[Saturday 06 November 2010] [17:51:08] &lt;<a href="#id853"><span class="problematic" id="id854">dv_</span></a>&gt;  but I am not sure why</div>
<div class="line">[Saturday 06 November 2010] [17:51:09] &lt;<a href="#id855"><span class="problematic" id="id856">dv_</span></a>&gt;  :)</div>
<div class="line">[Saturday 06 November 2010] [17:51:57] &lt;<a href="#id857"><span class="problematic" id="id858">mattl_</span></a>&gt;       I have a valgrind zmq issue.</div>
<div class="line">[Saturday 06 November 2010] [17:52:08] &lt;<a href="#id859"><span class="problematic" id="id860">mattl_</span></a>&gt;       is this the right forum to ask it in?</div>
<div class="line">[Saturday 06 November 2010] [17:52:47] &lt;<a href="#id861"><span class="problematic" id="id862">dv_</span></a>&gt;  yes, but I guess you have more luck in the mailing list</div>
<div class="line">[Saturday 06 November 2010] [17:53:50] &lt;<a href="#id863"><span class="problematic" id="id864">mattl_</span></a>&gt;       sure. no prob. I will also ask it to the list. But I think my problem is pretty basic. I can&#8217;t seem to get my test app to recv anything under valgrind</div>
<div class="line">[Saturday 06 November 2010] [17:54:32] &lt;<a href="#id865"><span class="problematic" id="id866">mattl_</span></a>&gt;       I am using the test_taskworker.c example app and running it under valgrind and it no longer receives any info</div>
<div class="line">[Saturday 06 November 2010] [18:06:43] &lt;<a href="#id867"><span class="problematic" id="id868">dv_</span></a>&gt;  alright, posted the issue to the mailing list</div>
<div class="line">[Saturday 06 November 2010] [18:07:15] &lt;<a href="#id869"><span class="problematic" id="id870">dv_</span></a>&gt;  seems to me the openpgm guys wanted to put a little intelligence in their interface checking code, intelligence that goes haywire.</div>
<div class="line">[Saturday 06 November 2010] [18:07:29] &lt;<a href="#id871"><span class="problematic" id="id872">dv_</span></a>&gt;  <a href="#id873"><span class="problematic" id="id874">mattl_</span></a>: without valgrind it always works?</div>
<div class="line">[Saturday 06 November 2010] [18:13:00] &lt;<a href="#id875"><span class="problematic" id="id876">mattl_</span></a>&gt;       <a href="#id877"><span class="problematic" id="id878">dv_</span></a> I feel quite silly now. Just put the sleep() back into the sender, right after the send, and it works now.</div>
<div class="line">[Saturday 06 November 2010] [18:13:11] &lt;<a href="#id879"><span class="problematic" id="id880">mattl_</span></a>&gt;       thanks for the moral support</div>
<div class="line">[Saturday 06 November 2010] [18:13:15] &lt;<a href="#id881"><span class="problematic" id="id882">mattl_</span></a>&gt;       durf..</div>
<div class="line">[Saturday 06 November 2010] [18:15:42] &lt;<a href="#id883"><span class="problematic" id="id884">dv_</span></a>&gt;  :)</div>
<div class="line">[Saturday 06 November 2010] [18:15:51] &lt;<a href="#id885"><span class="problematic" id="id886">dv_</span></a>&gt;  uh, wait</div>
<div class="line">[Saturday 06 November 2010] [18:15:56] &lt;<a href="#id887"><span class="problematic" id="id888">dv_</span></a>&gt;  sleep() after the sender?</div>
<div class="line">[Saturday 06 November 2010] [18:16:24] &lt;<a href="#id889"><span class="problematic" id="id890">dv_</span></a>&gt;  sounds like you are masking a race condition or something</div>
<div class="line">[Sunday 07 November 2010] [06:00:57] &lt;<a href="#id891"><span class="problematic" id="id892">Ghpu_</span></a>&gt;  hello</div>
<div class="line">[Sunday 07 November 2010] [12:34:00] &lt;Guthur&gt; anyone any thoughts on what the minimum Framework requirement should be for CLRZMQ</div>
<div class="line">[Sunday 07 November 2010] [13:39:43] &lt;mikko&gt;  Guthur: i would imagine it doesn&#8217;t need much</div>
<div class="line">[Sunday 07 November 2010] [13:39:45] &lt;mikko&gt;  2.0 ?</div>
<div class="line">[Sunday 07 November 2010] [13:39:57] &lt;mikko&gt;  but i have to say im not a .NET guy</div>
<div class="line">[Sunday 07 November 2010] [13:45:51] &lt;Guthur&gt; I use a few niceties for 4.0</div>
<div class="line">[Sunday 07 November 2010] [13:46:37] &lt;Guthur&gt; I could probably bring it too 2.0 compliance though</div>
<div class="line">[Sunday 07 November 2010] [14:30:15] &lt;cea&gt;    Hi, I&#8217;m totally new to zmq :) I&#8217;m using python with the python bindings and it works great. Except how do I test of connection is successfull? like socket.isOpen or someting like that?</div>
<div class="line">[Sunday 07 November 2010] [14:30:37] &lt;cea&gt;    I can&#8217;t get python to give an error if the connection is not successfull</div>
<div class="line">[Sunday 07 November 2010] [14:31:25] &lt;cea&gt;    like</div>
<div class="line">[Sunday 07 November 2010] [14:31:30] &lt;cea&gt;        connection = socket.connect(&#8216;<a class="reference external" href="tcp://127.0.0.1:5555">tcp://127.0.0.1:5555</a>&#8216;)</div>
<div class="line">[Sunday 07 November 2010] [14:31:34] &lt;cea&gt;    print connection</div>
<div class="line">[Sunday 07 November 2010] [14:31:38] &lt;cea&gt;    gives me &#8220;None&#8221;</div>
<div class="line">[Sunday 07 November 2010] [14:34:31] &lt;cea&gt;    I could be alone in here :)</div>
<div class="line">[Sunday 07 November 2010] [14:53:10] &lt;cea&gt;    yep alone :)</div>
<div class="line">[Sunday 07 November 2010] [15:29:56] &lt;gandhijee&gt;      hey, i asked this before i think, but anyone know what the oldest version of gcc that compile zeroMQ might be?</div>
<div class="line">[Sunday 07 November 2010] [17:04:09] &lt;cea&gt;    does anybody here have 2 sec for a quick zeromq python question?</div>
<div class="line">[Sunday 07 November 2010] [17:04:49] &lt;psino&gt;  cea: you&#8217;re probably better off just asking the question</div>
<div class="line">[Sunday 07 November 2010] [17:04:55] &lt;cea&gt;    hehe sure :)</div>
<div class="line">[Sunday 07 November 2010] [17:05:10] &lt;cea&gt;    dosn&#8217;t socket.revc have a timeout?</div>
<div class="line">[Sunday 07 November 2010] [17:05:28] &lt;Guthur&gt; if no one can answer here then the mailing list would be a good bet</div>
<div class="line">[Sunday 07 November 2010] [17:05:38] &lt;cea&gt;    thanks Guthur</div>
<div class="line">[Sunday 07 November 2010] [17:06:21] &lt;psino&gt;  cea: you should take a look at zmq.Poller</div>
<div class="line">[Sunday 07 November 2010] [17:06:38] &lt;cea&gt;    is it working for the python binding?</div>
<div class="line">[Sunday 07 November 2010] [17:06:42] &lt;cea&gt;    can&#8217;t find any examples on this</div>
<div class="line">[Sunday 07 November 2010] [17:07:55] &lt;cea&gt;    I can&#8217;t find anything about polling in any of the python examples</div>
<div class="line">[Sunday 07 November 2010] [17:08:47] &lt;Guthur&gt; cea, it seems to</div>
<div class="line">[Sunday 07 November 2010] [17:08:53] &lt;Guthur&gt; ioloop.py</div>
<div class="line">[Sunday 07 November 2010] [17:09:42] &lt;Guthur&gt; I&#8217;ve not used the python binding though so can not testify to its readiness for use</div>
<div class="line">[Sunday 07 November 2010] [17:10:13] &lt;cea&gt;    okay, thnaks, found it :) I will have a look - thanks for pointing me in the right direction!!</div>
<div class="line">[Sunday 07 November 2010] [17:10:17] &lt;cea&gt;    (thanks)</div>
<div class="line">[Sunday 07 November 2010] [17:10:51] &lt;Guthur&gt; you&#8217;re welcome</div>
<div class="line">[Sunday 07 November 2010] [19:09:35] &lt;Guthur&gt; 0MQ does work on x86-64, correct?</div>
<div class="line">[Sunday 07 November 2010] [19:09:44] &lt;Guthur&gt; polling in particualr</div>
<div class="line">[Sunday 07 November 2010] [19:09:47] &lt;Guthur&gt; particular*</div>
<div class="line">[Sunday 07 November 2010] [19:31:49] &lt;Guthur&gt; oh got it sorted</div>
<div class="line">[Sunday 07 November 2010] [19:32:06] &lt;Guthur&gt; SOCKET changes size depending on x86 x86-64</div>
<div class="line">[Sunday 07 November 2010] [19:32:22] &lt;Guthur&gt; Is fd always and int on <a href="#id17"><span class="problematic" id="id18">*</span></a>nix</div>
<div class="line">[Sunday 07 November 2010] [19:32:51] &lt;Guthur&gt; this is in the zmq_pollitem_t struct</div>
<div class="line">[Sunday 07 November 2010] [19:35:49] &lt;Guthur&gt; oh it is, how bothersome</div>
<div class="line">[Monday 08 November 2010] [03:08:58] &lt;euk&gt;    hi all</div>
<div class="line">[Monday 08 November 2010] [03:09:52] &lt;euk&gt;    can anyone advise on unlimited memory growth with zmq?</div>
<div class="line">[Monday 08 November 2010] [03:10:22] &lt;guido_g&gt;        see HWM socket option and read the guide</div>
<div class="line">[Monday 08 November 2010] [03:10:24] &lt;euk&gt;    when just sending and receiving a large set (millions) of small messages</div>
<div class="line">[Monday 08 November 2010] [03:10:44] &lt;euk&gt;    thank you</div>
<div class="line">[Monday 08 November 2010] [03:20:05] &lt;euk&gt;    another question - i&#8217;m getting tcp throughput higher than ipc (linux, small messages). is that normal? cpu utilization is higher on tcp (so every message takes more cpu), still throughput is somehow higher</div>
<div class="line">[Monday 08 November 2010] [04:49:03] &lt;Guthur&gt; sustrik: Do you think it would be worth making a clrzmq2 repo</div>
<div class="line">[Monday 08 November 2010] [06:12:00] &lt;sustrik&gt;        Guthur: yes, you can&#8217;t just drop the existing codebase</div>
<div class="line">[Monday 08 November 2010] [06:16:27] &lt;Guthur&gt; Yeah that&#8217;s fair enough</div>
<div class="line">[Monday 08 November 2010] [06:17:00] &lt;mikko&gt;  mornin&#8217;</div>
<div class="line">[Monday 08 November 2010] [06:17:29] &lt;sustrik&gt;        mikko: morning</div>
<div class="line">[Monday 08 November 2010] [06:17:33] &lt;Guthur&gt; Just felt it might be better to make the distinction clear, and especially considering it can not ever go into the master due to the compatibility issue</div>
<div class="line">[Monday 08 November 2010] [06:18:01] &lt;mikko&gt;  what is the biggest compatibility break?</div>
<div class="line">[Monday 08 November 2010] [06:19:48] &lt;Guthur&gt; mikko: Most of it to be honest</div>
<div class="line">[Monday 08 November 2010] [06:19:56] &lt;Guthur&gt; I used namespaces for one</div>
<div class="line">[Monday 08 November 2010] [06:20:14] &lt;Guthur&gt; Also changed the constants to enums</div>
<div class="line">[Monday 08 November 2010] [06:21:25] &lt;sustrik&gt;        mikko: what about tomorrow, fance have a beer in the evening?</div>
<div class="line">[Monday 08 November 2010] [06:21:30] &lt;mikko&gt;  sustrik: sure</div>
<div class="line">[Monday 08 November 2010] [06:21:34] &lt;mikko&gt;  it&#8217;s a storm in london</div>
<div class="line">[Monday 08 November 2010] [06:21:38] &lt;mikko&gt;  so take an umbrella</div>
<div class="line">[Monday 08 November 2010] [06:22:27] &lt;mato&gt;   hi guys</div>
<div class="line">[Monday 08 November 2010] [06:22:33] &lt;sustrik&gt;        i was already told about the storm in london by the girl behind the counter in the local supermarket here :)</div>
<div class="line">[Monday 08 November 2010] [06:22:44] &lt;sustrik&gt;        mato: hi</div>
<div class="line">[Monday 08 November 2010] [06:22:47] &lt;Guthur&gt; Recv also just now just returns the message, its null if there is no message, this removes the need for an out parameter,</div>
<div class="line">[Monday 08 November 2010] [06:22:51] &lt;mato&gt;   sustrik: i&#8217;ve replied to the mailbox problem, can you check if my reasoning is correct?</div>
<div class="line">[Monday 08 November 2010] [06:22:56] &lt;sustrik&gt;        mikko: 7pm or so?</div>
<div class="line">[Monday 08 November 2010] [06:23:08] &lt;sustrik&gt;        let me see</div>
<div class="line">[Monday 08 November 2010] [06:23:16] &lt;mikko&gt;  sustrik: 7pm in Doggett&#8217;s Coat &amp; Badge ?</div>
<div class="line">[Monday 08 November 2010] [06:23:31] &lt;mikko&gt;  is that fine or do you want to eat something nicer?</div>
<div class="line">[Monday 08 November 2010] [06:23:41] &lt;sustrik&gt;        i am ok with that</div>
<div class="line">[Monday 08 November 2010] [06:23:57] &lt;sustrik&gt;        can you drop a notice to the mailing list in case someone would like to join us?</div>
<div class="line">[Monday 08 November 2010] [06:24:15] &lt;mikko&gt;  yeah, i&#8217;m just thinking if there was a nicer place to eat</div>
<div class="line">[Monday 08 November 2010] [06:24:22] &lt;mikko&gt;  at 7pm people are going to be hungry</div>
<div class="line">[Monday 08 November 2010] [06:24:29] &lt;sustrik&gt;        mikko: it&#8217;s up to you</div>
<div class="line">[Monday 08 November 2010] [06:24:39] &lt;sustrik&gt;        i am not familiar with london too much</div>
<div class="line">[Monday 08 November 2010] [06:25:03] &lt;mikko&gt;  what kind of food do you like?</div>
<div class="line">[Monday 08 November 2010] [06:25:28] &lt;sustrik&gt;        all kinds :)</div>
<div class="line">[Monday 08 November 2010] [06:28:11] &lt;sustrik&gt;        mato: yes, the reasoning seems correct</div>
<div class="line">[Monday 08 November 2010] [06:28:25] &lt;mato&gt;   sustrik: ok, i&#8217;ll whip up a patch and get chuck to test it</div>
<div class="line">[Monday 08 November 2010] [06:28:26] &lt;sustrik&gt;        however, keep in mind that by writing a command in two chunks</div>
<div class="line">[Monday 08 November 2010] [06:28:38] &lt;sustrik&gt;        you can recv it in 2 chunks as well</div>
<div class="line">[Monday 08 November 2010] [06:28:48] &lt;sustrik&gt;        so the recv part has to be changed as well</div>
<div class="line">[Monday 08 November 2010] [06:28:58] &lt;mato&gt;   hmm</div>
<div class="line">[Monday 08 November 2010] [06:33:57] &lt;mikko&gt;  sustrik: where are you staying ?</div>
<div class="line">[Monday 08 November 2010] [06:34:47] &lt;sustrik&gt;        southwark</div>
<div class="line">[Monday 08 November 2010] [06:34:55] &lt;sustrik&gt;        but choose any place you like</div>
<div class="line">[Monday 08 November 2010] [06:35:02] &lt;mikko&gt;  <a class="reference external" href="http://www.doggettscoatandbadge.co.uk/">http://www.doggettscoatandbadge.co.uk/</a></div>
<div class="line">[Monday 08 November 2010] [06:35:05] &lt;mikko&gt;  it&#8217;s easy</div>
<div class="line">[Monday 08 November 2010] [06:35:41] &lt;sustrik&gt;        yep, that&#8217;s 2 mins from my hotel</div>
<div class="line">[Monday 08 November 2010] [06:38:14] &lt;mato&gt;   sustrik: the recv() side could in theory use MSG_WAITALL</div>
<div class="line">[Monday 08 November 2010] [06:38:41] &lt;mato&gt;   sustrik: I can try that and give it to chuck to test</div>
<div class="line">[Monday 08 November 2010] [06:39:00] &lt;mato&gt;   sustrik: there&#8217;s also the problem that if recv() gets EINTR, it <em>may</em> get some bytes...</div>
<div class="line">[Monday 08 November 2010] [06:39:08] &lt;mikko&gt;  sustrik: sent</div>
<div class="line">[Monday 08 November 2010] [06:39:12] &lt;mato&gt;   sustrik: which sucks, I&#8217;m not sure how to solve that...</div>
<div class="line">[Monday 08 November 2010] [06:39:19] &lt;sustrik&gt;        mikko: thx</div>
<div class="line">[Monday 08 November 2010] [06:39:23] &lt;mikko&gt;  should&#8217;ve written Martin S. as there are many martins</div>
<div class="line">[Monday 08 November 2010] [06:39:23] &lt;sustrik&gt;        see you tomorrow</div>
<div class="line">[Monday 08 November 2010] [06:39:24] &lt;mikko&gt;  :)</div>
<div class="line">[Monday 08 November 2010] [06:39:38] &lt;sustrik&gt;        mato: EINTR?</div>
<div class="line">[Monday 08 November 2010] [06:39:51] &lt;mato&gt;   sustrik: yes, what?</div>
<div class="line">[Monday 08 November 2010] [06:39:55] &lt;sustrik&gt;        how would the API report that kind of thing?</div>
<div class="line">[Monday 08 November 2010] [06:40:03] &lt;mato&gt;   sustrik: it already does report EINTR</div>
<div class="line">[Monday 08 November 2010] [06:40:06] &lt;sustrik&gt;        nbytes == 3 &amp;&amp; errno = EITNR?</div>
<div class="line">[Monday 08 November 2010] [06:40:12] &lt;mato&gt;   oh, that, right</div>
<div class="line">[Monday 08 November 2010] [06:40:32] &lt;mato&gt;   sustrik: sorry, you&#8217;re right, i was reading the recvmsg docs</div>
<div class="line">[Monday 08 November 2010] [06:41:07] &lt;sustrik&gt;        as for the WAITALL wouldn&#8217;t it work only for blocking recv?</div>
<div class="line">[Monday 08 November 2010] [06:42:12] &lt;sustrik&gt;        is there a way to combine WAITALL and NONBLOCK?</div>
<div class="line">[Monday 08 November 2010] [06:43:16] &lt;mato&gt;   unclear</div>
<div class="line">[Monday 08 November 2010] [06:43:21] &lt;mato&gt;   hang on, reading various threads</div>
<div class="line">[Monday 08 November 2010] [06:43:39] &lt;mato&gt;   sustrik: the most reliable way to do it would be to use a datagram socket instead of a stream socket</div>
<div class="line">[Monday 08 November 2010] [06:43:53] &lt;mato&gt;   sustrik: datagram sockets guarantee that the send/recv is atomic</div>
<div class="line">[Monday 08 November 2010] [06:43:59] &lt;sustrik&gt;        mato: is it possible with socketpair?</div>
<div class="line">[Monday 08 November 2010] [06:44:42] &lt;mato&gt;   sustrik: yes, you just ask for AF_UNIX, SOCK_DGRAM</div>
<div class="line">[Monday 08 November 2010] [06:45:13]   * sustrik wonders how does that fill SNDBUF</div>
<div class="line">[Monday 08 November 2010] [06:45:18] &lt;mato&gt;   ?</div>
<div class="line">[Monday 08 November 2010] [06:45:24] &lt;mato&gt;   What do you mean?</div>
<div class="line">[Monday 08 November 2010] [06:45:24] &lt;sustrik&gt;        MTU per packet?</div>
<div class="line">[Monday 08 November 2010] [06:45:38] &lt;mato&gt;   ?</div>
<div class="line">[Monday 08 November 2010] [06:45:49] &lt;sustrik&gt;        if you send command, which was 1 byte</div>
<div class="line">[Monday 08 November 2010] [06:45:59] &lt;sustrik&gt;        how much of the buffer will be used</div>
<div class="line">[Monday 08 November 2010] [06:46:02] &lt;sustrik&gt;        1 byte</div>
<div class="line">[Monday 08 November 2010] [06:46:04] &lt;sustrik&gt;        ?</div>
<div class="line">[Monday 08 November 2010] [06:46:10] &lt;sustrik&gt;        MTU bytes?</div>
<div class="line">[Monday 08 November 2010] [06:46:15] &lt;mato&gt;   No idea</div>
<div class="line">[Monday 08 November 2010] [06:46:19] &lt;mato&gt;   System-dependent</div>
<div class="line">[Monday 08 November 2010] [06:46:50] &lt;sustrik&gt;        it can make the problem even worse</div>
<div class="line">[Monday 08 November 2010] [06:46:53] &lt;sustrik&gt;        in any case, you should be able to read the command using at most 2 recv calls</div>
<div class="line">[Monday 08 November 2010] [06:47:05] &lt;sustrik&gt;        given that you write it using at most 2 sends</div>
<div class="line">[Monday 08 November 2010] [06:47:28] &lt;mato&gt;   guess so</div>
<div class="line">[Monday 08 November 2010] [06:47:42] &lt;sustrik&gt;        assert (PIPE_BUF &lt; sizeof (command_t)) guarantees that</div>
<div class="line">[Monday 08 November 2010] [06:47:51] &lt;sustrik&gt;        &gt;=</div>
<div class="line">[Monday 08 November 2010] [06:48:07] &lt;mato&gt;   I kind of doubt PIPE_BUF has much to do with AF_UNIX sockets</div>
<div class="line">[Monday 08 November 2010] [06:49:28] &lt;sustrik&gt;        what does it apply to then?</div>
<div class="line">[Monday 08 November 2010] [06:49:32] &lt;sustrik&gt;        mkfifo?</div>
<div class="line">[Monday 08 November 2010] [06:49:35] &lt;mato&gt;   sustrik: pipes</div>
<div class="line">[Monday 08 November 2010] [06:49:37] &lt;mato&gt;   sustrik: yeah</div>
<div class="line">[Monday 08 November 2010] [06:49:46] &lt;sustrik&gt;        btw, why aren&#8217;t we using pipes?</div>
<div class="line">[Monday 08 November 2010] [06:50:19] &lt;mato&gt;   UNIX sockets are better these days IMO</div>
<div class="line">[Monday 08 November 2010] [06:50:29] &lt;mato&gt;   also you don&#8217;t have to invent funky naming schemes</div>
<div class="line">[Monday 08 November 2010] [06:50:30] &lt;mato&gt;   etc etc</div>
<div class="line">[Monday 08 November 2010] [06:50:40] &lt;mato&gt;   since socketpair nicely gives you an anonymous pair</div>
<div class="line">[Monday 08 November 2010] [06:51:01] &lt;sustrik&gt;        ok</div>
<div class="line">[Monday 08 November 2010] [06:51:04] &lt;mato&gt;   sustrik: also, pipes have some fixed buffer sized</div>
<div class="line">[Monday 08 November 2010] [06:51:09] &lt;mato&gt;   sustrik: not resizable</div>
<div class="line">[Monday 08 November 2010] [06:51:39] &lt;sustrik&gt;        i was just thinking about the fact that what we need is unidirectional pipe</div>
<div class="line">[Monday 08 November 2010] [06:51:49] &lt;sustrik&gt;        the other direction is unused</div>
<div class="line">[Monday 08 November 2010] [06:52:01] &lt;mato&gt;   too bad :-)</div>
<div class="line">[Monday 08 November 2010] [06:52:14] &lt;mato&gt;   use it for something :-)</div>
<div class="line">[Monday 08 November 2010] [06:52:19] &lt;mato&gt;   if it bothers you :-)</div>
<div class="line">[Monday 08 November 2010] [06:52:29] &lt;sustrik&gt;        maybe we can at least shrink the buffer for that direction?</div>
<div class="line">[Monday 08 November 2010] [06:52:58] &lt;mato&gt;   maybe</div>
<div class="line">[Monday 08 November 2010] [07:29:34] &lt;Guthur&gt; sustrik: Can someone create a zeromq / clrzmq2 repo?</div>
<div class="line">[Monday 08 November 2010] [07:30:04] &lt;sustrik&gt;        yup, wait a sec</div>
<div class="line">[Monday 08 November 2010] [07:31:02] &lt;Guthur&gt; I&#8217;m at work at the moment but when I get home I can move the code to it and update the clrzmq page accordingly</div>
<div class="line">[Monday 08 November 2010] [07:32:38] &lt;Guthur&gt; I&#8217;m off for lunch back in a bit</div>
<div class="line">[Monday 08 November 2010] [07:33:26] &lt;mato&gt;   sustrik: I occasionally get this from test_shutdown_stress:</div>
<div class="line">[Monday 08 November 2010] [07:33:33] &lt;mato&gt;   Socket operation on non-socket</div>
<div class="line">[Monday 08 November 2010] [07:33:33] &lt;mato&gt;   nbytes != -1 (tcp_socket.cpp:197)</div>
<div class="line">[Monday 08 November 2010] [07:33:33] &lt;mato&gt;   /bin/sh: line 4: 32321 Aborted                 (core dumped) ${dir}$tst</div>
<div class="line">[Monday 08 November 2010] [07:33:33] &lt;mato&gt;   FAIL: test_shutdown_stress</div>
<div class="line">[Monday 08 November 2010] [07:34:36] &lt;sustrik&gt;        mato: yes, the problem was reported already</div>
<div class="line">[Monday 08 November 2010] [07:40:51] &lt;mato&gt;   sustrik: ok, well, I have a preliminary patch for the mailbox retry stuff, sent to the ML</div>
<div class="line">[Monday 08 November 2010] [07:41:45] &lt;sustrik&gt;        mato: thanks</div>
<div class="line">[Monday 08 November 2010] [07:46:48] &lt;<a href="#id893"><span class="problematic" id="id894">dv_</span></a>&gt;    what would be the recommended way to implement a messaging without a response?</div>
<div class="line">[Monday 08 November 2010] [07:47:01] &lt;<a href="#id895"><span class="problematic" id="id896">dv_</span></a>&gt;    i have two nodes A and B, and they communicate asynchronously,</div>
<div class="line">[Monday 08 November 2010] [07:47:13] &lt;<a href="#id897"><span class="problematic" id="id898">dv_</span></a>&gt;    there are no &#8220;requests&#8221; and subsequent &#8220;responses&#8221;, only events</div>
<div class="line">[Monday 08 November 2010] [07:48:06] &lt;<a href="#id899"><span class="problematic" id="id900">dv_</span></a>&gt;    i could open two req-rep connections between the two, so that both are requesters, and simply not use the response (or send some dummy response)</div>
<div class="line">[Monday 08 November 2010] [07:48:10] &lt;<a href="#id901"><span class="problematic" id="id902">dv_</span></a>&gt;    but that sounds wasteful</div>
<div class="line">[Monday 08 November 2010] [07:48:19] &lt;<a href="#id903"><span class="problematic" id="id904">dv_</span></a>&gt;    any suggestions?</div>
<div class="line">[Monday 08 November 2010] [07:48:43] &lt;sustrik&gt;        Guthur: done</div>
<div class="line">[Monday 08 November 2010] [07:49:44] &lt;sustrik&gt;        <a href="#id905"><span class="problematic" id="id906">dv_</span></a>: you have to think about scaling to get it right</div>
<div class="line">[Monday 08 November 2010] [07:49:55] &lt;sustrik&gt;        are there going to be multiple A&#8217;s in the future?</div>
<div class="line">[Monday 08 November 2010] [07:50:00] &lt;sustrik&gt;        or multiple B&#8217;s?</div>
<div class="line">[Monday 08 November 2010] [07:50:16] &lt;sustrik&gt;        if so, how are the messages to be dispatched to the multiple instances?</div>
<div class="line">[Monday 08 November 2010] [07:50:25] &lt;sustrik&gt;        each message to each instance?</div>
<div class="line">[Monday 08 November 2010] [07:50:29] &lt;sustrik&gt;        if so, use PUB/SUB</div>
<div class="line">[Monday 08 November 2010] [07:50:46] &lt;sustrik&gt;        if you want to load-balance messages between instances</div>
<div class="line">[Monday 08 November 2010] [07:50:51] &lt;sustrik&gt;        use PUSH/PULL</div>
<div class="line">[Monday 08 November 2010] [07:51:16] &lt;<a href="#id907"><span class="problematic" id="id908">dv_</span></a>&gt;    no they would be peers</div>
<div class="line">[Monday 08 November 2010] [07:51:58] &lt;<a href="#id909"><span class="problematic" id="id910">dv_</span></a>&gt;    there is a pair pattern, but it is marked as experimental</div>
<div class="line">[Monday 08 November 2010] [07:52:15] &lt;<a href="#id911"><span class="problematic" id="id912">dv_</span></a>&gt;    if multiple A&#8217;s/B&#8217;s were the case, i would use pub/sub, yes</div>
<div class="line">[Monday 08 November 2010] [07:52:32] &lt;<a href="#id913"><span class="problematic" id="id914">dv_</span></a>&gt;    hmm. you know, I could also use it for two nodes only.</div>
<div class="line">[Monday 08 November 2010] [07:52:44] &lt;<a href="#id915"><span class="problematic" id="id916">dv_</span></a>&gt;    but can multiple publishers exist with an IPC connection?</div>
<div class="line">[Monday 08 November 2010] [07:53:15] &lt;sustrik&gt;        you can have multiple pubs pushing messages to a single SUB for example</div>
<div class="line">[Monday 08 November 2010] [07:54:00] &lt;<a href="#id917"><span class="problematic" id="id918">dv_</span></a>&gt;    in fact, can i have multiple publishers with any kind of connection?</div>
<div class="line">[Monday 08 November 2010] [07:54:11] &lt;sustrik&gt;        yes</div>
<div class="line">[Monday 08 November 2010] [07:54:27] &lt;<a href="#id919"><span class="problematic" id="id920">dv_</span></a>&gt;    cool</div>
<div class="line">[Monday 08 November 2010] [07:55:10] &lt;<a href="#id921"><span class="problematic" id="id922">dv_</span></a>&gt;    i have an audio playback process here that is controlled by the frontend, and the playback process can send events, such as &#8220;song finished&#8221;, &#8220;song metadata scanned&#8221; ..</div>
<div class="line">[Monday 08 November 2010] [07:55:19] &lt;<a href="#id923"><span class="problematic" id="id924">dv_</span></a>&gt;    i think i&#8217;ll use pub-sub here</div>
<div class="line">[Monday 08 November 2010] [07:56:36] &lt;<a href="#id925"><span class="problematic" id="id926">dv_</span></a>&gt;    but does the IPC mechanism scale linearly with the amount of publishers/subscribers? for example, with tcp, since it is strictly point-to-point, i have a situation where every node has connections to all the other nodes, right?</div>
<div class="line">[Monday 08 November 2010] [08:08:39] &lt;sustrik&gt;        right, same with ipc</div>
<div class="line">[Monday 08 November 2010] [08:10:39] &lt;<a href="#id927"><span class="problematic" id="id928">dv_</span></a>&gt;    something like multicast for ipc would rock. but i guess this is far from trivial. not just in zeromq, but speaking generally</div>
<div class="line">[Monday 08 November 2010] [08:11:28] &lt;sustrik&gt;        the whole multicast thing is a complex thing</div>
<div class="line">[Monday 08 November 2010] [08:11:46] &lt;sustrik&gt;        for ipc to prevent copying the message you would have to have it stored in shmem</div>
<div class="line">[Monday 08 November 2010] [08:11:49] &lt;<a href="#id929"><span class="problematic" id="id930">dv_</span></a>&gt;    i noticed. i stumbled upon weird bugs that i have yet to replicate with the openpgm tools.</div>
<div class="line">[Monday 08 November 2010] [08:11:57] &lt;sustrik&gt;        however, allocating shmem is an expensive operation</div>
<div class="line">[Monday 08 November 2010] [08:12:02] &lt;sustrik&gt;        so it&#8217;s not that easy</div>
<div class="line">[Monday 08 November 2010] [08:12:07] &lt;<a href="#id931"><span class="problematic" id="id932">dv_</span></a>&gt;    to think of that in ipc ...</div>
<div class="line">[Monday 08 November 2010] [08:12:10] &lt;<a href="#id933"><span class="problematic" id="id934">dv_</span></a>&gt;    yes i see</div>
<div class="line">[Monday 08 November 2010] [08:13:38] &lt;<a href="#id935"><span class="problematic" id="id936">dv_</span></a>&gt;    oh one other thing, when I use pub/sub with multicast (epgm),</div>
<div class="line">[Monday 08 November 2010] [08:13:51] &lt;<a href="#id937"><span class="problematic" id="id938">dv_</span></a>&gt;    and I turn set mcast_loop to 0 in the publisher socket,</div>
<div class="line">[Monday 08 November 2010] [08:14:22] &lt;<a href="#id939"><span class="problematic" id="id940">dv_</span></a>&gt;    the receiver doesnt get anything anymore - but i&#8217;ve only tried it out with receiver and sender running on the same host so far</div>
<div class="line">[Monday 08 November 2010] [08:15:07] &lt;<a href="#id941"><span class="problematic" id="id942">dv_</span></a>&gt;    if I understand this correctly, mcast_loop 0 means that only messages sent between hosts will pass through? i found that part of the manual a bit confusing</div>
<div class="line">[Monday 08 November 2010] [08:15:29] &lt;<a href="#id943"><span class="problematic" id="id944">dv_</span></a>&gt;    (thats my last question btw. :) )</div>
<div class="line">[Monday 08 November 2010] [08:15:38] &lt;sustrik&gt;        <a href="#id945"><span class="problematic" id="id946">dv_</span></a>: yes, that&#8217;s how it works</div>
<div class="line">[Monday 08 November 2010] [08:15:50] &lt;sustrik&gt;        multicast over loopback is a terrible hack</div>
<div class="line">[Monday 08 November 2010] [08:16:00] &lt;sustrik&gt;        that is better not to use at all</div>
<div class="line">[Monday 08 November 2010] [08:16:10] &lt;<a href="#id947"><span class="problematic" id="id948">dv_</span></a>&gt;    hmm. i wonder if the bugs i noticed stem from this</div>
<div class="line">[Monday 08 November 2010] [08:16:25] &lt;<a href="#id949"><span class="problematic" id="id950">dv_</span></a>&gt;    i will use IPC for nodes on the same host then</div>
<div class="line">[Monday 08 November 2010] [08:16:49] &lt;sustrik&gt;        quite possibly, anyway turning mcast_loop to off means you won&#8217;t get the messages on the same host</div>
<div class="line">[Monday 08 November 2010] [08:17:13] &lt;<a href="#id951"><span class="problematic" id="id952">dv_</span></a>&gt;    i dont know if you follow the mailing list much, the bug I mentioned was an assert that happened randomly</div>
<div class="line">[Monday 08 November 2010] [08:17:30] &lt;<a href="#id953"><span class="problematic" id="id954">dv_</span></a>&gt;    openpgm sometimes thinks there is no multicast capable NIC</div>
<div class="line">[Monday 08 November 2010] [08:17:40] &lt;sustrik&gt;        i&#8217;m following the list, but i have little knowledge of openpgm</div>
<div class="line">[Monday 08 November 2010] [08:17:47] &lt;<a href="#id955"><span class="problematic" id="id956">dv_</span></a>&gt;    overriding internal openpgm checks made it work all the time</div>
<div class="line">[Monday 08 November 2010] [08:17:51] &lt;<a href="#id957"><span class="problematic" id="id958">dv_</span></a>&gt;    but it felt ... wrong.</div>
<div class="line">[Monday 08 November 2010] [08:18:02] &lt;sustrik&gt;        steve mccoy should comment on that</div>
<div class="line">[Monday 08 November 2010] [08:18:10] &lt;<a href="#id959"><span class="problematic" id="id960">dv_</span></a>&gt;    he did. i just mention it</div>
<div class="line">[Monday 08 November 2010] [08:18:15] &lt;<a href="#id961"><span class="problematic" id="id962">dv_</span></a>&gt;    hmm i&#8217;ll tell him about the same host</div>
<div class="line">[Monday 08 November 2010] [08:18:43] &lt;<a href="#id963"><span class="problematic" id="id964">dv_</span></a>&gt;    or no, hold on. it already happened when I was just creating a publisher socket</div>
<div class="line">[Monday 08 November 2010] [08:19:18] &lt;<a href="#id965"><span class="problematic" id="id966">dv_</span></a>&gt;    but maybe turning off mcast_loop first does help ... i&#8217;ll try it out this afternoon. thanks for the suggestions.</div>
<div class="line">[Monday 08 November 2010] [08:21:33] &lt;cremes&gt; mato: any chance you can send me that mailbox patch as a gist? i get &#8220;fatal: corrupt patch at line 6&#8221; if i copy/paste it into a file for application</div>
<div class="line">[Monday 08 November 2010] [08:22:34] &lt;mato&gt;   i&#8217;ll email it to you directly</div>
<div class="line">[Monday 08 November 2010] [08:22:47] &lt;mato&gt;   cremes: what&#8217;s your email address?</div>
<div class="line">[Monday 08 November 2010] [08:23:58] &lt;mato&gt;   cremes: I sent it to the email you use on the ML.</div>
<div class="line">[Monday 08 November 2010] [08:26:27] &lt;cremes&gt; mato: perfect; applied it but now get another assertion</div>
<div class="line">[Monday 08 November 2010] [08:26:28] &lt;cremes&gt; Assertion failed: nbytes == want_nbytes (mailbox.cpp:213)</div>
<div class="line">[Monday 08 November 2010] [08:27:33] &lt;mato&gt;   cremes: Hmm, well, that&#8217;s precisely what shouldn&#8217;t happen</div>
<div class="line">[Monday 08 November 2010] [08:28:18] &lt;mato&gt;   cremes: Either you send me your code and I&#8217;ll try and reproduce it here, or insert some printf&#8217;s in the various code paths in send() yourself and try and figure out the actual sequence of syscalls</div>
<div class="line">[Monday 08 November 2010] [08:28:41] &lt;cremes&gt; if you have ruby 1.9.2 on your system, i can send you the code</div>
<div class="line">[Monday 08 November 2010] [08:28:42] &lt;mato&gt;   it&#8217;s possible OSX is behaving funny when the socket SNDBUF is resized</div>
<div class="line">[Monday 08 November 2010] [08:29:07] &lt;cremes&gt; otherwise, suggest what details you want printed out and i&#8217;ll modify the 0mq source locally</div>
<div class="line">[Monday 08 November 2010] [08:29:10] &lt;mato&gt;   cremes: no i don&#8217;t, sorry... I have some oldish snapshot of 1.9.1</div>
<div class="line">[Monday 08 November 2010] [08:29:15] &lt;cremes&gt; ok</div>
<div class="line">[Monday 08 November 2010] [08:29:29] &lt;cremes&gt; before modifying the source, i&#8217;ll try this on my archlinux box</div>
<div class="line">[Monday 08 November 2010] [08:29:35] &lt;mato&gt;   cremes: that&#8217;s a good idea</div>
<div class="line">[Monday 08 November 2010] [08:29:37] &lt;cremes&gt; let&#8217;s see if linux blows up too</div>
<div class="line">[Monday 08 November 2010] [08:31:43] &lt;mato&gt;   lunch. bbl</div>
<div class="line">[Monday 08 November 2010] [08:35:05] &lt;cremes&gt; mato: when i run the <em>unpatched</em> master on linux against my code example, i get a different assertion</div>
<div class="line">[Monday 08 November 2010] [08:35:06] &lt;cremes&gt; Assertion failed: new_sndbuf &gt; old_sndbuf (mailbox.cpp:182)</div>
<div class="line">[Monday 08 November 2010] [08:35:13] &lt;cremes&gt; let me try it with the patch...</div>
<div class="line">[Monday 08 November 2010] [08:35:26] &lt;mato&gt;   cremes: that means you hit the system SNDBUF max</div>
<div class="line">[Monday 08 November 2010] [08:35:36] &lt;mato&gt;   cremes: set the net.core.wmem_max sysctl to something high</div>
<div class="line">[Monday 08 November 2010] [08:35:43] &lt;mato&gt;   cremes: and it&#8217;ll go away</div>
<div class="line">[Monday 08 November 2010] [08:36:34] &lt;cremes&gt; ko</div>
<div class="line">[Monday 08 November 2010] [09:39:49] &lt;cremes&gt; ok, so after boosting net.core.wmem_max i am now getting a socket error &#8220;too many open files&#8221; when i allocate 508 REQ sockets</div>
<div class="line">[Monday 08 November 2010] [09:40:15] &lt;cremes&gt; according to ulimit -n, i set the file descriptor max to 250_000 and i still get that</div>
<div class="line">[Monday 08 November 2010] [09:40:28] &lt;cremes&gt; this is on archlinux, kernel 2.6.35</div>
<div class="line">[Monday 08 November 2010] [09:41:51] &lt;cremes&gt; same behavior with <em>and</em> without mato&#8217;s patch</div>
<div class="line">[Monday 08 November 2010] [09:55:33] &lt;pieterh&gt;        cremes, cat /proc/sys/fs/file-max</div>
<div class="line">[Monday 08 November 2010] [09:55:38] &lt;pieterh&gt;        what does it give you?</div>
<div class="line">[Monday 08 November 2010] [09:56:10] &lt;mato&gt;   cremes: for ulimit -n you&#8217;ll have to run that as root, then from that <em>same</em> root shell run your code</div>
<div class="line">[Monday 08 November 2010] [09:56:22] &lt;mato&gt;   cremes: since it&#8217;s inherited to child processes, it is not a system setting</div>
<div class="line">[Monday 08 November 2010] [09:56:33] &lt;mato&gt;   my patch doesn&#8217;t change anything wrt number of open files</div>
<div class="line">[Monday 08 November 2010] [09:56:40] &lt;cremes&gt; pieterh: results in 1201177</div>
<div class="line">[Monday 08 November 2010] [09:56:42] &lt;pieterh&gt;        This is from the Confluence wiki</div>
<div class="line">[Monday 08 November 2010] [09:56:44] &lt;pieterh&gt;        Run the command sysctl -a. If this is less than 200000, increase the number of file handles by editing /etc/sysctl.conf and changing the property fs.file-max to 200000. If there isn&#8217;t a value set already for this property, you need to add the line fs.file-max=200000.</div>
<div class="line">[Monday 08 November 2010] [09:56:44] &lt;pieterh&gt;        Then run sysctl -p to apply your changes to your system.</div>
<div class="line">[Monday 08 November 2010] [09:56:50] &lt;cremes&gt; mato: i logged in a fresh shell after making the change</div>
<div class="line">[Monday 08 November 2010] [09:56:59] &lt;mato&gt;   cremes: yes, but that won&#8217;t work</div>
<div class="line">[Monday 08 November 2010] [09:57:10] &lt;pieterh&gt;        cremes: seems high enough, how about &#8216;sysctl -a&#8217;?</div>
<div class="line">[Monday 08 November 2010] [09:57:37] &lt;mato&gt;   cremes: verify with ulimit -a in the shell that you&#8217;re running your code in that the setting has actually taken effect</div>
<div class="line">[Monday 08 November 2010] [09:57:56] &lt;mato&gt;   cremes: anyway, this is beside the point of my patch, so you&#8217;re running into some macosx weirdness there</div>
<div class="line">[Monday 08 November 2010] [09:57:58] &lt;cremes&gt; mato: it tells me 250000 for open files</div>
<div class="line">[Monday 08 November 2010] [09:58:07] &lt;cremes&gt; this is on linux</div>
<div class="line">[Monday 08 November 2010] [09:58:12] &lt;pieterh&gt;        archlinux</div>
<div class="line">[Monday 08 November 2010] [09:58:16] &lt;mato&gt;   cremes: and you&#8217;re still running out of open files?</div>
<div class="line">[Monday 08 November 2010] [09:58:19] &lt;cremes&gt; yep</div>
<div class="line">[Monday 08 November 2010] [09:58:25] &lt;mato&gt;   cremes: then your code is the problem, sorry :-)</div>
<div class="line">[Monday 08 November 2010] [09:58:30] &lt;cremes&gt; ha</div>
<div class="line">[Monday 08 November 2010] [09:58:39] &lt;pieterh&gt;        cremes: do you have a simple test case I can try?</div>
<div class="line">[Monday 08 November 2010] [09:58:41] &lt;mato&gt;   as in, the number of open files is not infinite :-)</div>
<div class="line">[Monday 08 November 2010] [09:59:15] &lt;cremes&gt; pieterh: results of sysctl -a .... <a class="reference external" href="https://gist.github.com/667772">https://gist.github.com/667772</a></div>
<div class="line">[Monday 08 November 2010] [09:59:18] &lt;mato&gt;   cremes: anyhow, the interesting case is the failure you&#8217;re getting on macosx, let me know when you have time to put some printfs in the mailbox code</div>
<div class="line">[Monday 08 November 2010] [09:59:36] &lt;cremes&gt; mato: i have time now; give me suggestions on what is important and i&#8217;ll print it out</div>
<div class="line">[Monday 08 November 2010] [09:59:46] &lt;pieterh&gt;        cremes, fs.file-max = 1201177</div>
<div class="line">[Monday 08 November 2010] [09:59:46] &lt;pieterh&gt;        fs.nr_open = 1048576</div>
<div class="line">[Monday 08 November 2010] [09:59:57] &lt;cremes&gt; pieterh: if you have ruby 1.9.2 then i can give you a relatively simple test case</div>
<div class="line">[Monday 08 November 2010] [10:00:06] &lt;pieterh&gt;        derp</div>
<div class="line">[Monday 08 November 2010] [10:00:13] &lt;mato&gt;   cremes: print nbytes after the 1st do loop in send() (after line 163)</div>
<div class="line">[Monday 08 November 2010] [10:00:24] &lt;cremes&gt; mato: prepatched or postpatch?</div>
<div class="line">[Monday 08 November 2010] [10:00:28] &lt;mato&gt;   cremes: patched</div>
<div class="line">[Monday 08 November 2010] [10:00:46] &lt;mato&gt;   cremes: then, print old_sndbuf, new_sndbuf after the assert on line 184</div>
<div class="line">[Monday 08 November 2010] [10:01:20] &lt;mato&gt;   cremes: and print retry_nbytes after the 2nd do loop in send(), i.e. after line 202</div>
<div class="line">[Monday 08 November 2010] [10:01:36] &lt;mato&gt;   cremes: that should give us an idea of what is going on...</div>
<div class="line">[Monday 08 November 2010] [10:02:19] &lt;mato&gt;   cremes: oh, and each thing that you print...</div>
<div class="line">[Monday 08 November 2010] [10:02:31] &lt;mato&gt;   cremes: print also the this pointer as %p, (void <a href="#id19"><span class="problematic" id="id20">*</span></a>)this</div>
<div class="line">[Monday 08 November 2010] [10:02:40] &lt;mato&gt;   cremes: so that it&#8217;s obvious which printf belongs to which instance</div>
<div class="line">[Monday 08 November 2010] [10:07:15] &lt;pieterh&gt;        cremes, how about trying a simple program to test your Linux file handle limit...</div>
<div class="line">[Monday 08 November 2010] [10:07:15] &lt;pieterh&gt;        <a class="reference external" href="https://gist.github.com/667779">https://gist.github.com/667779</a></div>
<div class="line">[Monday 08 November 2010] [10:09:20] &lt;pieterh&gt;        i can create over 8M sockets on my linux box</div>
<div class="line">[Monday 08 November 2010] [10:10:49] &lt;cremes&gt; pieterh: where is zfl.h at?</div>
<div class="line">[Monday 08 November 2010] [10:11:49] &lt;mikko&gt;  cremes: github/zeromq/zfl</div>
<div class="line">[Monday 08 November 2010] [10:13:57] &lt;pieterh&gt;        cremes: sorry, just use zmq.h it&#8217;ll work too</div>
<div class="line">[Monday 08 November 2010] [10:14:08]   * pieterh goes to fix that</div>
<div class="line">[Monday 08 November 2010] [10:14:49] &lt;pieterh&gt;        cremes, ok, fixed it</div>
<div class="line">[Monday 08 November 2010] [10:14:54] &lt;cremes&gt; pieterh: give me the line to compile it please... i tried &#8220;gcc test.c&#8221; but it&#8217;s bitching about implicit declaration of &#8216;printf&#8217;</div>
<div class="line">[Monday 08 November 2010] [10:15:04] &lt;pieterh&gt;        ack, take my fixed version</div>
<div class="line">[Monday 08 November 2010] [10:15:12] &lt;pieterh&gt;        gcc -o testit testit.c</div>
<div class="line">[Monday 08 November 2010] [10:15:25] &lt;pieterh&gt;        don&#8217;t call c programs &#8216;test&#8217; cause &#8216;test&#8217; is a built-in shell command</div>
<div class="line">[Monday 08 November 2010] [10:15:48] &lt;pieterh&gt;        gcc -o testit -lzmq testit.c</div>
<div class="line">[Monday 08 November 2010] [10:15:53] &lt;mato&gt;   pieterh: your program will fall over in zmq sooner than it can print the number of sockets it managed to create</div>
<div class="line">[Monday 08 November 2010] [10:16:01] &lt;pieterh&gt;        mato: doesn&#8217;t seem to</div>
<div class="line">[Monday 08 November 2010] [10:16:03] &lt;mato&gt;   pieterh: becuase of the mailbox failing to get a socket</div>
<div class="line">[Monday 08 November 2010] [10:16:21] &lt;mato&gt;   pieterh: well, in master anyway</div>
<div class="line">[Monday 08 November 2010] [10:16:34] &lt;pieterh&gt;        perhaps in master, yes... i was just trying in 2.0.10</div>
<div class="line">[Monday 08 November 2010] [10:16:38]   * pieterh retries in master</div>
<div class="line">[Monday 08 November 2010] [10:16:42] &lt;mato&gt;   2.0.10 is much different</div>
<div class="line">[Monday 08 November 2010] [10:16:57] &lt;mato&gt;   in fact, in 2.1 even if it did not fall over, it would produce a different number</div>
<div class="line">[Monday 08 November 2010] [10:17:03] &lt;pieterh&gt;        hey: :-)</div>
<div class="line">[Monday 08 November 2010] [10:17:09] &lt;pieterh&gt;        &#8220;too many open files&#8221;</div>
<div class="line">[Monday 08 November 2010] [10:17:24] &lt;pieterh&gt;        not even a clean return, just internal failure</div>
<div class="line">[Monday 08 November 2010] [10:17:26] &lt;pieterh&gt;        neato</div>
<div class="line">[Monday 08 November 2010] [10:17:27] &lt;mato&gt;   2.0.10 has completely different signalling mechanisms</div>
<div class="line">[Monday 08 November 2010] [10:17:39] &lt;cremes&gt; pieterh: aha!</div>
<div class="line">[Monday 08 November 2010] [10:17:44] &lt;pieterh&gt;        Too many open files</div>
<div class="line">[Monday 08 November 2010] [10:17:44] &lt;pieterh&gt;        rc == 0 (mailbox.cpp:374)</div>
<div class="line">[Monday 08 November 2010] [10:17:44] &lt;pieterh&gt;        Aborted (core dumped)</div>
<div class="line">[Monday 08 November 2010] [10:17:52] &lt;cremes&gt; maybe i&#8217;m not so crazy after all...? :)</div>
<div class="line">[Monday 08 November 2010] [10:18:00] &lt;pieterh&gt;        cremes: i can&#8217;t make a test program for that :-)</div>
<div class="line">[Monday 08 November 2010] [10:18:08] &lt;cremes&gt; too bad...</div>
<div class="line">[Monday 08 November 2010] [10:18:24] &lt;pieterh&gt;        let me see how quickly it dies...</div>
<div class="line">[Monday 08 November 2010] [10:18:41] &lt;mato&gt;   with the default limit of 1024 it&#8217;ll die somewhere around 512</div>
<div class="line">[Monday 08 November 2010] [10:18:57] &lt;mato&gt;   actually, probably not</div>
<div class="line">[Monday 08 November 2010] [10:19:04] &lt;pieterh&gt;        cremes!</div>
<div class="line">[Monday 08 November 2010] [10:19:05] &lt;mato&gt;   it&#8217;ll die at 1024/3 roughly i&#8217;d guess</div>
<div class="line">[Monday 08 November 2010] [10:19:06] &lt;pieterh&gt;        hey!</div>
<div class="line">[Monday 08 November 2010] [10:19:09] &lt;pieterh&gt;        it dies at 508</div>
<div class="line">[Monday 08 November 2010] [10:19:22] &lt;mato&gt;   yup</div>
<div class="line">[Monday 08 November 2010] [10:19:32] &lt;pieterh&gt;        wow... from &gt;8M to 508... that is quite a step backwards</div>
<div class="line">[Monday 08 November 2010] [10:19:49] &lt;pieterh&gt;        ok, mato, where&#8217;s that default limit of 1K?</div>
<div class="line">[Monday 08 November 2010] [10:19:59] &lt;cremes&gt; pieterh: 508 is what i see too</div>
<div class="line">[Monday 08 November 2010] [10:20:11] &lt;mato&gt;   hang on guys, there are several things going on here</div>
<div class="line">[Monday 08 November 2010] [10:20:13] &lt;pieterh&gt;        net.core.wmem_max.. right?</div>
<div class="line">[Monday 08 November 2010] [10:20:16] &lt;mato&gt;   no</div>
<div class="line">[Monday 08 November 2010] [10:20:22] &lt;mato&gt;   that&#8217;s part of it</div>
<div class="line">[Monday 08 November 2010] [10:20:38] &lt;mato&gt;   allow me to explain</div>
<div class="line">[Monday 08 November 2010] [10:20:44] &lt;pieterh&gt;        shoot</div>
<div class="line">[Monday 08 November 2010] [10:21:04] &lt;mato&gt;   in 2.0.x, there is one signalling socketpair (what is called mailbox in 2.1) per <em>application thread</em></div>
<div class="line">[Monday 08 November 2010] [10:21:25] &lt;mato&gt;   hence, creating a 0mq socket does not use up an actual file descriptor</div>
<div class="line">[Monday 08 November 2010] [10:21:35] &lt;pieterh&gt;        ah, neat</div>
<div class="line">[Monday 08 November 2010] [10:21:47] &lt;mato&gt;   now, in 2.1 the situation is entirely different</div>
<div class="line">[Monday 08 November 2010] [10:21:57] &lt;mato&gt;   each 0mq socket created == 1 mailbox</div>
<div class="line">[Monday 08 November 2010] [10:22:11] &lt;mato&gt;   2 file descriptors</div>
<div class="line">[Monday 08 November 2010] [10:22:30] &lt;mato&gt;   hence, if the default limit is 1024, you&#8217;ll die at &lt;512</div>
<div class="line">[Monday 08 November 2010] [10:22:32] &lt;pieterh&gt;        sure...</div>
<div class="line">[Monday 08 November 2010] [10:22:43] &lt;pieterh&gt;        now we have a trivial reproducible case on a default linux box</div>
<div class="line">[Monday 08 November 2010] [10:22:48] &lt;pieterh&gt;        how do I raise that limit?</div>
<div class="line">[Monday 08 November 2010] [10:22:54] &lt;cremes&gt; guys, what is the printf format code for printing ssize_t?</div>
<div class="line">[Monday 08 November 2010] [10:22:58] &lt;pieterh&gt;        %d</div>
<div class="line">[Monday 08 November 2010] [10:23:06] &lt;mato&gt;   cremes: use %d and cast it to int</div>
<div class="line">[Monday 08 November 2010] [10:23:07] &lt;cremes&gt; archlinux bitches at me about that</div>
<div class="line">[Monday 08 November 2010] [10:23:11] &lt;pieterh&gt;        %u maybe</div>
<div class="line">[Monday 08 November 2010] [10:23:12] &lt;cremes&gt; ah, ok, it will fit</div>
<div class="line">[Monday 08 November 2010] [10:23:14] &lt;mato&gt;   cremes: there is no printf format for ssize_t</div>
<div class="line">[Monday 08 November 2010] [10:23:27] &lt;mato&gt;   now, as to raising the limit</div>
<div class="line">[Monday 08 November 2010] [10:23:31] &lt;mato&gt;   there are two limits</div>
<div class="line">[Monday 08 November 2010] [10:23:46] &lt;mato&gt;   1. the system maximum, which is the sysctl pieter already mentioned</div>
<div class="line">[Monday 08 November 2010] [10:23:53] &lt;mato&gt;   normally you don&#8217;t need to touch that</div>
<div class="line">[Monday 08 November 2010] [10:24:26] &lt;mato&gt;   2. your distribution will have some $mechanism for setting a default RLIMIT_NOFILE on login, usually to 1024</div>
<div class="line">[Monday 08 November 2010] [10:24:38] &lt;mato&gt;   if you want to raise that, either figure out where the setting for $mechanism is</div>
<div class="line">[Monday 08 November 2010] [10:24:40] &lt;mato&gt;   or</div>
<div class="line">[Monday 08 November 2010] [10:24:48] &lt;mato&gt;   1. (as user) $ su root</div>
<div class="line">[Monday 08 November 2010] [10:24:58] &lt;mato&gt;   2. (as root) # ulimit -n 8192</div>
<div class="line">[Monday 08 November 2010] [10:25:09] &lt;mato&gt;   3. (still as that root) # su user</div>
<div class="line">[Monday 08 November 2010] [10:25:14] &lt;mato&gt;   4. run your app</div>
<div class="line">[Monday 08 November 2010] [10:25:37] &lt;mato&gt;   you need to follow those 4 exact steps otherwise the raised rlimit setting will not propagate to your app</div>
<div class="line">[Monday 08 November 2010] [10:25:43] &lt;mato&gt;   if you open a new shell, it won&#8217;t work</div>
<div class="line">[Monday 08 November 2010] [10:25:48] &lt;mato&gt;   is this clear?</div>
<div class="line">[Monday 08 November 2010] [10:26:06]   * pieterh is trying it, will report back asap</div>
<div class="line">[Monday 08 November 2010] [10:27:13] &lt;pieterh&gt;        mato: having raised the ulimit to 8192 (or any large number), the test program now exits cleanly</div>
<div class="line">[Monday 08 November 2010] [10:27:25] &lt;pieterh&gt;        and reports: &#8220;This system allows up to 511 sockets&#8221;</div>
<div class="line">[Monday 08 November 2010] [10:27:38] &lt;mato&gt;   pieterh: yes, now there is a third limit also</div>
<div class="line">[Monday 08 November 2010] [10:27:46] &lt;cremes&gt; mato: results from running my test program on OSX and archlinux with the printf statements</div>
<div class="line">[Monday 08 November 2010] [10:27:49] &lt;cremes&gt; <a class="reference external" href="https://gist.github.com/667811">https://gist.github.com/667811</a></div>
<div class="line">[Monday 08 November 2010] [10:27:53] &lt;mato&gt;   pieterh: compile time setting in 0MQ src/config.hpp</div>
<div class="line">[Monday 08 November 2010] [10:28:03] &lt;mato&gt;   pieterh: which happens to be set to 512</div>
<div class="line">[Monday 08 November 2010] [10:28:51] &lt;pieterh&gt;        was this limit introduced in 2.1.0?</div>
<div class="line">[Monday 08 November 2010] [10:29:16] &lt;pieterh&gt;        i assume it must have been, since previously I could open 8M sockets</div>
<div class="line">[Monday 08 November 2010] [10:29:22] &lt;mato&gt;   pieterh: presumably</div>
<div class="line">[Monday 08 November 2010] [10:29:48] &lt;pieterh&gt;        well, ok I can confirm what you&#8217;ve explained</div>
<div class="line">[Monday 08 November 2010] [10:30:18] &lt;pieterh&gt;        though the max-sockets option seems 1 off</div>
<div class="line">[Monday 08 November 2010] [10:30:27] &lt;mato&gt;   pieterh: dunno, that is sustrik&#8217;s work</div>
<div class="line">[Monday 08 November 2010] [10:30:28] &lt;pieterh&gt;        - setting it to 8000 allows me to create 7999 sockets</div>
<div class="line">[Monday 08 November 2010] [10:30:53] &lt;mato&gt;   it&#8217;s allocating resources of some kind up front, otherwise it wouldn&#8217;t be a compile-time option</div>
<div class="line">[Monday 08 November 2010] [10:31:07] &lt;mato&gt;   cremes: ok, that output is strange</div>
<div class="line">[Monday 08 November 2010] [10:31:31] &lt;mato&gt;   cremes: note that the old_sndbuf/new_sndbuf values for the failing mailbox look completely bogus</div>
<div class="line">[Monday 08 November 2010] [10:31:40] &lt;mato&gt;   32? 16? wtf...</div>
<div class="line">[Monday 08 November 2010] [10:31:54] &lt;cremes&gt; mato: are you looking at the osx or arch output?</div>
<div class="line">[Monday 08 November 2010] [10:32:17] &lt;mato&gt;   oh, right, sorry</div>
<div class="line">[Monday 08 November 2010] [10:32:39] &lt;mato&gt;   bah, let me save those gists to a file</div>
<div class="line">[Monday 08 November 2010] [10:33:32] &lt;cremes&gt; i think on linux i am hitting the 512 socket limit</div>
<div class="line">[Monday 08 November 2010] [10:33:37] &lt;cremes&gt; on osx, it fails long before</div>
<div class="line">[Monday 08 November 2010] [10:35:05] &lt;mato&gt;   cremes: hmm, the output is a bit mixed up due to stdout/stderr mixing</div>
<div class="line">[Monday 08 November 2010] [10:35:18] &lt;cremes&gt; mato: yes, want me to separate them?</div>
<div class="line">[Monday 08 November 2010] [10:35:22] &lt;mato&gt;   cremes: are you printing the retry_nbytes case?</div>
<div class="line">[Monday 08 November 2010] [10:35:27] &lt;mato&gt;   cremes: i can&#8217;t find it anywhere...</div>
<div class="line">[Monday 08 November 2010] [10:35:42] &lt;mato&gt;   cremes: just use fprintf (stderr, ...) for everything, it&#8217;ll work fine</div>
<div class="line">[Monday 08 November 2010] [10:35:47] &lt;cremes&gt; mato: no, you didn&#8217;t mention that as being interesting</div>
<div class="line">[Monday 08 November 2010] [10:35:56] &lt;mato&gt;   cremes: oh, sorry, i did, you must have missed it</div>
<div class="line">[Monday 08 November 2010] [10:36:36] &lt;mato&gt;   16:01 &lt; mato&gt; cremes: and print retry_nbytes after the 2nd do loop in send(), i.e. after  line 202</div>
<div class="line">[Monday 08 November 2010] [10:36:53] &lt;mato&gt;   cremes: can you try that please? and set it all to use stderr?</div>
<div class="line">[Monday 08 November 2010] [10:37:04] &lt;cremes&gt; ok, i&#8217;ll add that one... sorry for the mixup</div>
<div class="line">[Monday 08 November 2010] [10:51:19] &lt;cremes&gt; mato: osx results... <a class="reference external" href="https://gist.github.com/3892c9fcb0f5493f6ae8">https://gist.github.com/3892c9fcb0f5493f6ae8</a></div>
<div class="line">[Monday 08 November 2010] [10:53:51] &lt;pieterh&gt;        cremes, I&#8217;ve reported the issue <a class="reference external" href="https://github.com/zeromq/zeromq2/issues/issue/113">https://github.com/zeromq/zeromq2/issues/issue/113</a></div>
<div class="line">[Monday 08 November 2010] [10:54:36] &lt;cremes&gt; pieterh: thank you</div>
<div class="line">[Monday 08 November 2010] [10:58:22] &lt;pieterh&gt;        I&#8217;m pretty sure the limit of ~512 sockets will trip up a few existing apps</div>
<div class="line">[Monday 08 November 2010] [10:58:42] &lt;cremes&gt; pieterh: i changed that limit to 10k on my linux box, reran the test and it passed</div>
<div class="line">[Monday 08 November 2010] [10:58:47] &lt;pieterh&gt;        yes, indeed</div>
<div class="line">[Monday 08 November 2010] [10:58:57] &lt;cremes&gt; i did the same change on osx and it still fails in the same spot, same error :(</div>
<div class="line">[Monday 08 November 2010] [10:59:06] &lt;cremes&gt; must be some funky osx-ism</div>
<div class="line">[Monday 08 November 2010] [10:59:14] &lt;pieterh&gt;        different techniques for setting per-user limits</div>
<div class="line">[Monday 08 November 2010] [10:59:26] &lt;pieterh&gt;        its BSD-4.3 heritage or something</div>
<div class="line">[Monday 08 November 2010] [10:59:37] &lt;cremes&gt; pieterh: i bumped file descriptors per process to 25k a long time ago for mongodb on this box</div>
<div class="line">[Monday 08 November 2010] [11:00:12] &lt;mato&gt;   pieterh: max_sockets directly affects the number of mailbox slots</div>
<div class="line">[Monday 08 November 2010] [11:00:23] &lt;mato&gt;   pieterh: so the limit is set intentionally low</div>
<div class="line">[Monday 08 November 2010] [11:00:39] &lt;zmq_help&gt;       hi folks - i&#8217;m trying to get zeromq ruby bindings working on Ubuntu 10.10</div>
<div class="line">[Monday 08 November 2010] [11:00:46] &lt;pieterh&gt;        mato: you mean as in reducing pre-allocated memory size?</div>
<div class="line">[Monday 08 November 2010] [11:00:53] &lt;mato&gt;   pieterh: yes</div>
<div class="line">[Monday 08 November 2010] [11:00:57] &lt;pieterh&gt;        is there another performance reason?</div>
<div class="line">[Monday 08 November 2010] [11:00:58] &lt;cremes&gt; zmq_help: which bindings? the zmq gem or ffi-rzmq?</div>
<div class="line">[Monday 08 November 2010] [11:01:04] &lt;pieterh&gt;        data copying etc?</div>
<div class="line">[Monday 08 November 2010] [11:01:12] &lt;mato&gt;   pieterh: possibly, read the code :-)</div>
<div class="line">[Monday 08 November 2010] [11:01:13] &lt;zmq_help&gt;       I installed zmq</div>
<div class="line">[Monday 08 November 2010] [11:01:25] &lt;zmq_help&gt;       I installed zmq ruby gem</div>
<div class="line">[Monday 08 November 2010] [11:01:32] &lt;mato&gt;   pieterh: but in any case, the standard untuned Linux limit is 1024 fds</div>
<div class="line">[Monday 08 November 2010] [11:01:32] &lt;cremes&gt; zmq_help: ok; so what seems to be the problem?</div>
<div class="line">[Monday 08 November 2010] [11:01:41] &lt;mato&gt;   pieterh: so there&#8217;s no point in changing the default of max_sockets</div>
<div class="line">[Monday 08 November 2010] [11:01:52] &lt;mato&gt;   pieterh: since it&#8217;ll fall over anyway</div>
<div class="line">[Monday 08 November 2010] [11:01:53] &lt;pieterh&gt;        mato: IMO there is</div>
<div class="line">[Monday 08 November 2010] [11:01:59] &lt;pieterh&gt;        it&#8217;ll fall over with a normal system error</div>
<div class="line">[Monday 08 November 2010] [11:02:06] &lt;pieterh&gt;        that can be fixed without recompilation</div>
<div class="line">[Monday 08 November 2010] [11:02:25] &lt;pieterh&gt;        modifying code to change a limit is not acceptable for many processes</div>
<div class="line">[Monday 08 November 2010] [11:02:29] &lt;pieterh&gt;        it means requalification</div>
<div class="line">[Monday 08 November 2010] [11:02:34] &lt;pieterh&gt;        we&#8217;ve discussed this previously</div>
<div class="line">[Monday 08 November 2010] [11:02:44] &lt;pieterh&gt;        imagine &#8216;large bank&#8217;</div>
<div class="line">[Monday 08 November 2010] [11:03:03] &lt;mato&gt;   pieterh: large bank should test damn well for such limits...</div>
<div class="line">[Monday 08 November 2010] [11:03:04] &lt;zmq_help&gt;       cremes: when I enter &#8216;require &#8220;zmq&#8221;&#8217; I get this error message</div>
<div class="line">[Monday 08 November 2010] [11:03:06] &lt;zmq_help&gt;       LoadError: libzmq.so.0: cannot open shared object file: No such file or directory - /usr/lib/ruby/gems/1.8/gems/zmq-2.0.9/lib/zmq.so</div>
<div class="line">[Monday 08 November 2010] [11:03:15] &lt;pieterh&gt;        mato: that&#8217;s not the point</div>
<div class="line">[Monday 08 November 2010] [11:03:30] &lt;pieterh&gt;        point is tuning the sw at compile time is sub-optimal</div>
<div class="line">[Monday 08 November 2010] [11:03:40] &lt;zmq_help&gt;       cremes: but I can see that the zmq.so file is there, and readable</div>
<div class="line">[Monday 08 November 2010] [11:03:42] &lt;pieterh&gt;        and it can be done better unless there is an actual cost in having a larger limit</div>
<div class="line">[Monday 08 November 2010] [11:03:57] &lt;pieterh&gt;        anyhow, issue is noted</div>
<div class="line">[Monday 08 November 2010] [11:04:00] &lt;mato&gt;   pieterh: well, don&#8217;t forget there are many audiences, embedded, etc etc..</div>
<div class="line">[Monday 08 November 2010] [11:04:00] &lt;cremes&gt; zmq_help: did you install the 0mq library? the gem does not include it</div>
<div class="line">[Monday 08 November 2010] [11:04:13] &lt;cremes&gt; also, make sure you run ldconfig after installing the 0mq lib</div>
<div class="line">[Monday 08 November 2010] [11:04:19] &lt;mato&gt;   pieterh: and the limit only affects # of sockets, not # connections obviously</div>
<div class="line">[Monday 08 November 2010] [11:04:20] &lt;cremes&gt; so that linux picks it up</div>
<div class="line">[Monday 08 November 2010] [11:04:28] &lt;mato&gt;   anyway, noted.</div>
<div class="line">[Monday 08 November 2010] [11:04:31] &lt;pieterh&gt;        mato: I&#8217;d suggest embedded systems are less &#8216;typical&#8217;</div>
<div class="line">[Monday 08 November 2010] [11:04:43] &lt;zmq_help&gt;       cremes - yes I installed everything - i&#8217;ll try the ldconfig trick now...</div>
<div class="line">[Monday 08 November 2010] [11:04:45] &lt;pieterh&gt;        plus 0MQ encourages use of many sockets</div>
<div class="line">[Monday 08 November 2010] [11:04:56] &lt;mato&gt;   it does? :-)</div>
<div class="line">[Monday 08 November 2010] [11:05:00] &lt;pieterh&gt;        yes</div>
<div class="line">[Monday 08 November 2010] [11:05:13] &lt;pieterh&gt;        typically one for each flow</div>
<div class="line">[Monday 08 November 2010] [11:05:31] &lt;cremes&gt; pieterh: agreed... i sometimes need thousands for just that reason</div>
<div class="line">[Monday 08 November 2010] [11:05:31] &lt;pieterh&gt;        and if you want any custom routing that means several sockets per peer</div>
<div class="line">[Monday 08 November 2010] [11:05:35] &lt;zmq_help&gt;       cremes: THANKS!  the ldconfig trick did the job</div>
<div class="line">[Monday 08 November 2010] [11:05:37] &lt;pieterh&gt;        as you well know, mato :-)</div>
<div class="line">[Monday 08 November 2010] [11:05:50] &lt;cremes&gt; zmq_help: remember to help someone else in channel when you get a chance ;)</div>
<div class="line">[Monday 08 November 2010] [11:06:03] &lt;zmq_help&gt;       :-) will do thanks</div>
<div class="line">[Monday 08 November 2010] [11:06:33] &lt;zmq_help&gt;       cremes: where should I give documentation feedback re: the ldconfig trick ??</div>
<div class="line">[Monday 08 November 2010] [11:06:35] &lt;cremes&gt; pieterh: does imatix have an osx box for testing?</div>
<div class="line">[Monday 08 November 2010] [11:06:46] &lt;cremes&gt; zmq_help: that trick is listed in the FAQ i think</div>
<div class="line">[Monday 08 November 2010] [11:06:48] &lt;pieterh&gt;        cremes: yes, sure</div>
<div class="line">[Monday 08 November 2010] [11:06:52] &lt;pieterh&gt;        try this: sudo echo limit maxfiles 1000000 1000000 &gt; /etc/launchd.conf</div>
<div class="line">[Monday 08 November 2010] [11:06:58] &lt;cremes&gt; otherwise, feel free to join the wiki and modify it on your own</div>
<div class="line">[Monday 08 November 2010] [11:07:00] &lt;zmq_help&gt;       cremes: ok thanks -</div>
<div class="line">[Monday 08 November 2010] [11:07:14] &lt;pieterh&gt;        and then launchctl limit maxfiles 1000000 1000000</div>
<div class="line">[Monday 08 November 2010] [11:07:38] &lt;cremes&gt; pieterh: i did that when i bumped my limits to 25k... here are the current contents:  limit maxfiles 25000 100000</div>
<div class="line">[Monday 08 November 2010] [11:07:40] &lt;pieterh&gt;        cremes, I&#8217;m just googling random pages for &#8220;&#8221;too many open files&#8221; OSX&#8221;</div>
<div class="line">[Monday 08 November 2010] [11:07:44] &lt;pieterh&gt;        hmm</div>
<div class="line">[Monday 08 November 2010] [11:07:54] &lt;cremes&gt; ulimit -a agrees that it is 25k</div>
<div class="line">[Monday 08 November 2010] [11:08:01] &lt;pieterh&gt;        and you tuned 0MQ to 10k sockets?</div>
<div class="line">[Monday 08 November 2010] [11:08:04] &lt;cremes&gt; yes</div>
<div class="line">[Monday 08 November 2010] [11:08:08] &lt;pieterh&gt;        and you still get an abort at 508 sockets?</div>
<div class="line">[Monday 08 November 2010] [11:09:14] &lt;pieterh&gt;        cremes, see <a class="reference external" href="http://artur.hefczyc.net/node/27">http://artur.hefczyc.net/node/27</a></div>
<div class="line">[Monday 08 November 2010] [11:09:23] &lt;mato&gt;   cremes: hmph, those sndbuf numbers from osx make no sense</div>
<div class="line">[Monday 08 November 2010] [11:09:39] &lt;mato&gt;   cremes: if it really was 16/32 bytes, it&#8217;d fall over immediately</div>
<div class="line">[Monday 08 November 2010] [11:10:36] &lt;mato&gt;   cremes: i&#8217;d need access to an OSX box to figure out what is going on</div>
<div class="line">[Monday 08 November 2010] [11:10:53] &lt;cremes&gt; mato: i can give you an account on mine if you&#8217;d like</div>
<div class="line">[Monday 08 November 2010] [11:10:53] &lt;pieterh&gt;        mato: I can bring you my MacBook when I manage to make it to BA</div>
<div class="line">[Monday 08 November 2010] [11:11:25] &lt;mato&gt;   cremes: that would be great, but honestly i don&#8217;t have time this week to look at it seriously</div>
<div class="line">[Monday 08 November 2010] [11:11:51] &lt;cremes&gt; mato: ok</div>
<div class="line">[Monday 08 November 2010] [11:12:01] &lt;mato&gt;   cremes: upcoming deadlines, too much to do, sorry...</div>
<div class="line">[Monday 08 November 2010] [11:12:12] &lt;cremes&gt; i understand... no worries</div>
<div class="line">[Monday 08 November 2010] [11:15:35] &lt;twomashi1&gt;      How can I process all outstanding messages in a socket and stop recieving new ones?</div>
<div class="line">[Monday 08 November 2010] [11:19:00] &lt;guido_g&gt;        you can&#8217;t</div>
<div class="line">[Monday 08 November 2010] [11:20:18] &lt;guido_g&gt;        you can receive all messages in a loop, but you can&#8217;t tell the mq socket to stop accepting more/new messages</div>
<div class="line">[Monday 08 November 2010] [11:23:51] &lt;Steve-o&gt;        twomashi1: what is the logical requirement from this scenario?  clean FT fail over?</div>
<div class="line">[Monday 08 November 2010] [11:29:32] &lt;twomashi1&gt;      Steve-o: Removing a worker from a worker pool</div>
<div class="line">[Monday 08 November 2010] [11:30:17] &lt;Guthur&gt; Does 0MQ aim to provide more devices in the future?</div>
<div class="line">[Monday 08 November 2010] [11:34:30] &lt;mikko&gt;  Guthur: i would imagine that if certain devices are used in large amount of projects they could be incorporated into the core</div>
<div class="line">[Monday 08 November 2010] [11:34:43] &lt;mikko&gt;  but not sure whether adding new devices is the biggest priority</div>
<div class="line">[Monday 08 November 2010] [11:35:37] &lt;mikko&gt;  Guthur: are there specific devices that you are after?</div>
<div class="line">[Monday 08 November 2010] [11:36:45] &lt;Guthur&gt; mikko: Not really just interested is all, if I could find examples of what would be beneficial I would maybe even have a stab at implementing</div>
<div class="line">[Monday 08 November 2010] [11:41:55] &lt;twomashi1&gt;      guido_g: I wanted to have a worker which would process n messages and then die</div>
<div class="line">[Monday 08 November 2010] [11:42:11] &lt;twomashi1&gt;      but it sounds like theres no way to stop the worker recieving more messages</div>
<div class="line">[Monday 08 November 2010] [11:42:25] &lt;guido_g&gt;        as i already said</div>
<div class="line">[Monday 08 November 2010] [11:42:42] &lt;twomashi1&gt;      so this pattern wont work</div>
<div class="line">[Monday 08 November 2010] [11:42:44] &lt;twomashi1&gt;      thanks</div>
<div class="line">[Monday 08 November 2010] [11:47:29] &lt;Steve-o&gt;        twomashi1: I think there are few implementations of worker pools already, e.g. <a class="reference external" href="http://kfsone.wordpress.com/2010/07/21/asyncworker-parallelism-with-zeromq/">http://kfsone.wordpress.com/2010/07/21/asyncworker-parallelism-with-zeromq/</a></div>
<div class="line">[Monday 08 November 2010] [11:51:03] &lt;guido_g&gt;        doesn&#8217;t handle the dynamic shutdown of one worker though</div>
<div class="line">[Monday 08 November 2010] [12:04:50] &lt;ngerakines&gt;     sup</div>
<div class="line">[Monday 08 November 2010] [12:17:53] &lt;cremes&gt; found the trick for osx... it has some sysctl settings that it shares with freebsd</div>
<div class="line">[Monday 08 November 2010] [12:18:11] &lt;cremes&gt; for localhost/loopback connections, there are separate send/recv buffers allocated</div>
<div class="line">[Monday 08 November 2010] [12:18:13] &lt;cremes&gt; net.local.stream.sendspace=82320</div>
<div class="line">[Monday 08 November 2010] [12:18:14] &lt;cremes&gt; net.local.stream.recvspace=82320</div>
<div class="line">[Monday 08 November 2010] [12:18:19] &lt;cremes&gt; or whatever value you want</div>
<div class="line">[Monday 08 November 2010] [12:18:25] &lt;cremes&gt; i&#8217;ll add this to the FAQ</div>
<div class="line">[Monday 08 November 2010] [12:18:53] &lt;mato&gt;   cremes: so upping those values makes the code work for you?</div>
<div class="line">[Monday 08 November 2010] [12:19:17] &lt;mato&gt;   cremes: that would imply that at least for some sockets, the default on OSX is ridiculously low</div>
<div class="line">[Monday 08 November 2010] [12:19:17] &lt;cremes&gt; yes, because it avoids the recovery code that tries to adjust SO_SNDBUF</div>
<div class="line">[Monday 08 November 2010] [12:19:28] &lt;mato&gt;   the thing is, the recovery code works</div>
<div class="line">[Monday 08 November 2010] [12:19:40] &lt;mato&gt;   as long as the OS comes back with a sane sndbuf in the getsockopt</div>
<div class="line">[Monday 08 November 2010] [12:19:44] &lt;cremes&gt; i believe you, but SO_SNDBUF isn&#8217;t returning the right vals</div>
<div class="line">[Monday 08 November 2010] [12:19:48] &lt;cremes&gt; and i don&#8217;t know why</div>
<div class="line">[Monday 08 November 2010] [12:20:02] &lt;cremes&gt; maybe it is returning kbytes instead of bytes</div>
<div class="line">[Monday 08 November 2010] [12:20:04] &lt;mato&gt;   that is indeed what it looks like</div>
<div class="line">[Monday 08 November 2010] [12:20:25] &lt;mato&gt;   cremes: could you please somehow summarize what we&#8217;ve found and reply to the thread on the ML so that we don&#8217;t lose it?</div>
<div class="line">[Monday 08 November 2010] [12:20:32] &lt;cremes&gt; absolutely</div>
<div class="line">[Monday 08 November 2010] [12:21:01] &lt;mato&gt;   cremes: it&#8217;s plausible that even just setting a large-ish value at mailbox socketpair creation time would make the problem go away</div>
<div class="line">[Monday 08 November 2010] [12:21:08] &lt;mato&gt;   needs more investigation...</div>
<div class="line">[Monday 08 November 2010] [12:21:28] &lt;cremes&gt; right... i&#8217;ll respond to the ML with a few details; i&#8217;ll also update pieter&#8217;s issue</div>
<div class="line">[Monday 08 November 2010] [12:21:46] &lt;mato&gt;   thx</div>
<div class="line">[Monday 08 November 2010] [12:49:05] &lt;cremes&gt; hmmm, what would you guess is happening if i get &#8220;Too many open files: rc == 0 (mailbox.cpp:431)&#8221; ?</div>
<div class="line">[Monday 08 November 2010] [12:49:32] &lt;cremes&gt; this is with the patched mailbox.cpp</div>
<div class="line">[Monday 08 November 2010] [12:51:50] &lt;mato&gt;   precisely what it says :)</div>
<div class="line">[Monday 08 November 2010] [12:52:07] &lt;cremes&gt; heh</div>
<div class="line">[Monday 08 November 2010] [12:53:00] &lt;cremes&gt; i must not have raised my limits high enough and now i&#8217;m running out of another resource</div>
<div class="line">[Monday 08 November 2010] [13:10:01] &lt;ngerakines&gt;     hey folks, I&#8217;ve got a c++ app that uses zmq with threads and I&#8217;m not sure about the proper way of doing something in particular:</div>
<div class="line">[Monday 08 November 2010] [13:10:57] &lt;ngerakines&gt;     for these threads, they bind to a given socket and wait for incoming messages, however when I want to shutdown these threads I&#8217;m not finding through the docs the best way to my socket_in.recv/1 to stop blocking on input</div>
<div class="line">[Monday 08 November 2010] [13:11:10] &lt;ngerakines&gt;     how should I go about this?</div>
<div class="line">[Monday 08 November 2010] [13:12:32] &lt;twomashi1&gt;      ngerakines: i have the same issue</div>
<div class="line">[Monday 08 November 2010] [13:13:05] &lt;twomashi1&gt;      im told theres no way to get zmq to stop recieving messages so you can process outstanding ones</div>
<div class="line">[Monday 08 November 2010] [13:13:37] &lt;nettok&gt; ngerakines: I would like to know about that too</div>
<div class="line">[Monday 08 November 2010] [13:15:58] &lt;nettok&gt; ngerakines: maybe registering a signal handler and then trigger the signal from another thread or process, something like that?</div>
<div class="line">[Monday 08 November 2010] [13:16:24] &lt;ngerakines&gt;     hmm</div>
<div class="line">[Monday 08 November 2010] [13:16:47] &lt;nettok&gt; Or making read non-blocking</div>
<div class="line">[Monday 08 November 2010] [13:16:49] &lt;twomashi1&gt;      oh wait... sorry different issue</div>
<div class="line">[Monday 08 November 2010] [13:16:56] &lt;twomashi1&gt;      use poll?</div>
<div class="line">[Monday 08 November 2010] [13:17:03] &lt;ngerakines&gt;     yeah, looking into poll</div>
<div class="line">[Monday 08 November 2010] [13:18:53] &lt;guido_g&gt;        ngerakines: simply send a quit message (can be of length 0)</div>
<div class="line">[Monday 08 November 2010] [13:19:29] &lt;ngerakines&gt;     ok, was looking for a way to effectively halt all zmq communication once stop was initiated, but thanks</div>
<div class="line">[Monday 08 November 2010] [13:20:00] &lt;guido_g&gt;        then just terminate the context</div>
<div class="line">[Monday 08 November 2010] [13:20:22] &lt;guido_g&gt;        that will close all mq sockets and stop all mq related activities</div>
<div class="line">[Monday 08 November 2010] [13:22:30] &lt;nettok&gt; guido_g: thanks!</div>
<div class="line">[Monday 08 November 2010] [13:23:29] &lt;ngerakines&gt;     guido_g: and in cases where i&#8217;ve got a pub/sub client, use poll?</div>
<div class="line">[Monday 08 November 2010] [13:24:05] &lt;guido_g&gt;        ngerakines: can&#8217;t follow you, sorry</div>
<div class="line">[Monday 08 November 2010] [13:24:33] &lt;ngerakines&gt;     I&#8217;ve got a pub/sub subscriber with a run-loop that uses socket_t.recv(..)</div>
<div class="line">[Monday 08 November 2010] [13:24:41] &lt;guido_g&gt;        so?</div>
<div class="line">[Monday 08 November 2010] [13:24:46] &lt;ngerakines&gt;     instead of recv, should I be using poll to close out cleanly?</div>
<div class="line">[Monday 08 November 2010] [13:24:53] &lt;guido_g&gt;        why?</div>
<div class="line">[Monday 08 November 2010] [13:25:12] &lt;ngerakines&gt;     Is there a way to send it a kill message like above given that it isn&#8217;t binding?</div>
<div class="line">[Monday 08 November 2010] [13:25:58] &lt;guido_g&gt;        wht isn&#8217;t binding? w/o a bound socket you can&#8217;t receive any messages</div>
<div class="line">[Monday 08 November 2010] [13:26:38] &lt;guido_g&gt;        so if you have a sub socket, it&#8217;ll just receive the message</div>
<div class="line">[Monday 08 November 2010] [13:27:10] &lt;ngerakines&gt;     because it is creating a socket with ZMQ_SUB ?</div>
<div class="line">[Monday 08 November 2010] [13:27:25] &lt;ngerakines&gt;     with connect ?</div>
<div class="line">[Monday 08 November 2010] [13:27:38] &lt;ngerakines&gt;     socket_t.connect(...) as opposed to socket_t.bind(...)</div>
<div class="line">[Monday 08 November 2010] [13:28:32] &lt;guido_g&gt;        there is no difference between the connect side and the bind side in this case</div>
<div class="line">[Monday 08 November 2010] [13:28:52] &lt;guido_g&gt;        this is for sure mentioned in the guide somewhere</div>
<div class="line">[Monday 08 November 2010] [13:56:32] &lt;gandhijee&gt;      hey guys, is there an ubuntu/debian package of zeromq anywhere?</div>
<div class="line">[Monday 08 November 2010] [13:56:41] &lt;pieterh&gt;        gandhijee, I believe there is, somewhere</div>
<div class="line">[Monday 08 November 2010] [13:57:03] &lt;gandhijee&gt;      happen to have an idea where somewhere might be?</div>
<div class="line">[Monday 08 November 2010] [13:57:10] &lt;pieterh&gt;        Do a google for &#8220;debian package zeromq&#8221;</div>
<div class="line">[Monday 08 November 2010] [13:57:25] &lt;pieterh&gt;        <a class="reference external" href="http://packages.debian.org/source/sid/zeromq">http://packages.debian.org/source/sid/zeromq</a></div>
<div class="line">[Monday 08 November 2010] [13:58:12] &lt;twomashi1&gt;      pieterh: do you know how a process using zeromq could stop recieving messages and process it&#8217;s outstanding messages? (say to remove itself from a worker pool)</div>
<div class="line">[Monday 08 November 2010] [13:58:46] &lt;gandhijee&gt;      yeah i had found that one, its 2.0.6, the other machines are all on 2.10</div>
<div class="line">[Monday 08 November 2010] [13:58:50] &lt;pieterh&gt;        twomashi1, let me think about it... I just got back and am reading the traffic here</div>
<div class="line">[Monday 08 November 2010] [13:59:00] &lt;twomashi1&gt;      ok cool</div>
<div class="line">[Monday 08 November 2010] [13:59:01] &lt;twomashi1&gt;      thanks</div>
<div class="line">[Monday 08 November 2010] [13:59:07] &lt;pieterh&gt;        gandhijee, right... but it&#8217;s pretty simple to build from source anyhow</div>
<div class="line">[Monday 08 November 2010] [13:59:12] &lt;gandhijee&gt;      i don&#8217;t want to have to deal with any issues because 1 is newer than the other</div>
<div class="line">[Monday 08 November 2010] [13:59:31] &lt;gandhijee&gt;      yeah, but i wanted to be lazy and not build the .deb</div>
<div class="line">[Monday 08 November 2010] [13:59:44] &lt;gandhijee&gt;      i have to put it on 3 more machines, 1 x86_64 and 2 atoms</div>
<div class="line">[Monday 08 November 2010] [13:59:50] &lt;pieterh&gt;        gandhijee, download tarball, build, it&#8217;s really simple</div>
<div class="line">[Monday 08 November 2010] [14:00:26] &lt;gandhijee&gt;      yes i know, like i said, i wanted to be lazy and not build the deb, because i have to get it to 3 more machines,</div>
<div class="line">[Monday 08 November 2010] [14:00:35] &lt;pieterh&gt;        you can make a simple script that does it from wget to &#8216;sudo make install; ldconfig&#8217;</div>
<div class="line">[Monday 08 November 2010] [14:00:43] &lt;gandhijee&gt;      building the deb is just a cpl extra steps</div>
<div class="line">[Monday 08 November 2010] [14:00:48] &lt;pieterh&gt;        sure</div>
<div class="line">[Monday 08 November 2010] [14:01:04] &lt;pieterh&gt;        being lazy is good if you use that to create something</div>
<div class="line">[Monday 08 November 2010] [14:01:12] &lt;pieterh&gt;        if it&#8217;s just to avoid work... well... :-)</div>
<div class="line">[Monday 08 November 2010] [14:01:31] &lt;pieterh&gt;        twomashi1, can you provide more background info?</div>
<div class="line">[Monday 08 November 2010] [14:01:52] &lt;pieterh&gt;        do you want flow control?</div>
<div class="line">[Monday 08 November 2010] [14:03:43] &lt;twomashi1&gt;      pieterh: I want to use a pool of PHP workers to process data, this is existing PHP code adapted to read messages from a ZMQ socket. I dont want them to live indefinitely because PHP is prone to memory leakes, so they must exit after processing n requests. Zeromq will fetch more messages than I need tho, so I want some way to stop ZMQ prefetching messages and process the messages already in memory.</div>
<div class="line">[Monday 08 November 2010] [14:04:01] &lt;pieterh&gt;        right...</div>
<div class="line">[Monday 08 November 2010] [14:04:14] &lt;pieterh&gt;        I can think of a few ways</div>
<div class="line">[Monday 08 November 2010] [14:04:27] &lt;pieterh&gt;        here is the most brutal</div>
<div class="line">[Monday 08 November 2010] [14:04:42] &lt;pieterh&gt;        you batch the messages together, using multipart and some delimiters</div>
<div class="line">[Monday 08 November 2010] [14:05:00] &lt;pieterh&gt;        so that you actually send your whole batch, say 100 messages, as one 0MQ message</div>
<div class="line">[Monday 08 November 2010] [14:05:09] &lt;pieterh&gt;        you then use the LRU routing technique from the Guide ch3</div>
<div class="line">[Monday 08 November 2010] [14:05:17] &lt;pieterh&gt;        where the worker signals &#8216;ready&#8217; and then gets a job</div>
<div class="line">[Monday 08 November 2010] [14:05:36] &lt;pieterh&gt;        when the worker has processed its job it just terminates</div>
<div class="line">[Monday 08 November 2010] [14:05:44] &lt;pieterh&gt;        it won&#8217;t signal &#8216;ready&#8217; again, so won&#8217;t get another batch</div>
<div class="line">[Monday 08 November 2010] [14:05:54] &lt;pieterh&gt;        you control the batch size explicitly at the sender side</div>
<div class="line">[Monday 08 November 2010] [14:06:01] &lt;twomashi1&gt;      ah, with LRU the worker must signal to get a job?</div>
<div class="line">[Monday 08 November 2010] [14:06:01] &lt;pieterh&gt;        now the problems with this:</div>
<div class="line">[Monday 08 November 2010] [14:06:04] &lt;pieterh&gt;        yes</div>
<div class="line">[Monday 08 November 2010] [14:06:10] &lt;pieterh&gt;        it&#8217;s a nice model except it&#8217;s chatty</div>
<div class="line">[Monday 08 November 2010] [14:06:22] &lt;twomashi1&gt;      chatty is fine, it must be safe.</div>
<div class="line">[Monday 08 November 2010] [14:06:26] &lt;pieterh&gt;        so if you have many small jobs the to and fro will cost too much</div>
<div class="line">[Monday 08 November 2010] [14:06:37] &lt;pieterh&gt;        well, study the lruqueue example</div>
<div class="line">[Monday 08 November 2010] [14:06:48] &lt;pieterh&gt;        you can probably use that as a device in front of your existing client/s</div>
<div class="line">[Monday 08 November 2010] [14:06:56] &lt;pieterh&gt;        with some small mods it&#8217;ll do what you want</div>
<div class="line">[Monday 08 November 2010] [14:07:04] &lt;twomashi1&gt;      that could work because the job server will be on the same machine.</div>
<div class="line">[Monday 08 November 2010] [14:07:07] &lt;pieterh&gt;        sure</div>
<div class="line">[Monday 08 November 2010] [14:07:12] &lt;twomashi1&gt;      so I dont think chatty is an issue</div>
<div class="line">[Monday 08 November 2010] [14:07:29] &lt;pieterh&gt;        so use the LRU device and then in the workers, die after doing X jobs</div>
<div class="line">[Monday 08 November 2010] [14:07:37] &lt;pieterh&gt;        put $5 in the can on the way out :-)</div>
<div class="line">[Monday 08 November 2010] [14:07:48] &lt;twomashi1&gt;      hehe</div>
<div class="line">[Monday 08 November 2010] [14:08:27] &lt;twomashi1&gt;      Ok, and do you think that in some future there will be a way to support this usage case by instructing the context to stop recieving for a socket, or something like that?</div>
<div class="line">[Monday 08 November 2010] [14:08:41] &lt;pieterh&gt;        well...</div>
<div class="line">[Monday 08 November 2010] [14:08:52] &lt;pieterh&gt;        i don&#8217;t think it has to be built in</div>
<div class="line">[Monday 08 November 2010] [14:08:58] &lt;twomashi1&gt;      i imagine that if it doesnt go against the goals and policies of the project it could happen, if someone put the time in.</div>
<div class="line">[Monday 08 November 2010] [14:08:58] &lt;pieterh&gt;        it works very nicely at the level it&#8217;s at now</div>
<div class="line">[Monday 08 November 2010] [14:09:22] &lt;pieterh&gt;        to answer that in technical detail...</div>
<div class="line">[Monday 08 November 2010] [14:09:34] &lt;pieterh&gt;        if you want to regulate how much the sender sends</div>
<div class="line">[Monday 08 November 2010] [14:09:42] &lt;pieterh&gt;        then you must send information back explicitly to synchronize it</div>
<div class="line">[Monday 08 November 2010] [14:10:09] &lt;pieterh&gt;        you could call this an ack windw</div>
<div class="line">[Monday 08 November 2010] [14:10:13] &lt;pieterh&gt;        ack window</div>
<div class="line">[Monday 08 November 2010] [14:10:23] &lt;pieterh&gt;        it only makes sense in an asynchronous request-reply model</div>
<div class="line">[Monday 08 November 2010] [14:10:40] &lt;pieterh&gt;        so yes, it <em>might</em> be added to the XREP socket</div>
<div class="line">[Monday 08 November 2010] [14:11:08] &lt;twomashi1&gt;      I see what you mean... the effect can be reproduced using the currently available facilities</div>
<div class="line">[Monday 08 November 2010] [14:11:49] &lt;twomashi1&gt;      thanks for your help!</div>
<div class="line">[Monday 08 November 2010] [14:18:41] &lt;cremes&gt; OSX sysctl is very odd... see my update on the ML</div>
<div class="line">[Monday 08 November 2010] [14:22:36] &lt;mato&gt;   gandhijee: there is a Debian package of ZeroMQ 2.0.10, I maintain it</div>
<div class="line">[Monday 08 November 2010] [14:22:42] &lt;mato&gt;   gandhijee: it&#8217;s in Debian unstable</div>
<div class="line">[Monday 08 November 2010] [14:22:46] &lt;gandhijee&gt;      sweet!!</div>
<div class="line">[Monday 08 November 2010] [15:25:38] &lt;gandhijee&gt;      how do i have zeromq listen on a spec interface?</div>
<div class="line">[Monday 08 November 2010] [15:25:54] &lt;gandhijee&gt;      right now i have 2 in the machine that is a client, and it doesn&#8217;t seem to get messages over the netowrk for some reason</div>
<div class="line">[Monday 08 November 2010] [15:45:57] &lt;Guthur&gt; gandhijee, Spec Interface?</div>
<div class="line">[Monday 08 November 2010] [15:46:11] &lt;Guthur&gt; maybe you want to check out IO polling</div>
<div class="line">[Monday 08 November 2010] [15:46:16] &lt;gandhijee&gt;      its ok i figured it out</div>
<div class="line">[Monday 08 November 2010] [15:46:29] &lt;gandhijee&gt;      it was something super silly, its been a long day</div>
<div class="line">[Monday 08 November 2010] [15:46:53] &lt;Guthur&gt; hehe no bother, we all have those days</div>
<div class="line">[Monday 08 November 2010] [16:11:43] &lt;<a href="#id71"><span class="problematic" id="id72">Ben__</span></a>&gt;  hi all - I have a question about using sockets from different threads in C++. I&#8217;m on the latest code from the git repository master branch. The scenario is that I&#8217;ve created a socket in one thread, but I use it from another thread. Only one thread ever uses the socket at a time. I thought this was possible with the latest code, but I am not seeing any messages come into my test receiver on the other end.</div>
<div class="line">[Monday 08 November 2010] [16:12:31] &lt;<a href="#id71"><span class="problematic" id="id73">Ben__</span></a>&gt;  another question - my test receiver is written in Python and is on 2.0.8. Do I need to upgrade this to 2.1 as well in order to get it to work?</div>
<div class="line">[Monday 08 November 2010] [16:15:32] &lt;ngerakines&gt;     from my experience its a bad idea and leads to unexpected results</div>
<div class="line">[Monday 08 November 2010] [16:15:46] &lt;<a href="#id71"><span class="problematic" id="id74">Ben__</span></a>&gt;  which part? mixing zmq versions or migrated between threads?</div>
<div class="line">[Monday 08 November 2010] [16:15:47] &lt;ngerakines&gt;     I think the docs say in bold that sockets should never be shared across threads</div>
<div class="line">[Monday 08 November 2010] [16:15:54] &lt;<a href="#id71"><span class="problematic" id="id75">Ben__</span></a>&gt;  it does for 2.0</div>
<div class="line">[Monday 08 November 2010] [16:16:01] &lt;<a href="#id71"><span class="problematic" id="id76">Ben__</span></a>&gt;  but in 2.1 there is a statement saying that this is now legal</div>
<div class="line">[Monday 08 November 2010] [16:16:11] &lt;<a href="#id71"><span class="problematic" id="id77">Ben__</span></a>&gt;  I know it isn&#8217;t released yet - I&#8217;m doing this out of git</div>
<div class="line">[Monday 08 November 2010] [16:16:21] &lt;<a href="#id71"><span class="problematic" id="id78">Ben__</span></a>&gt;  it may just be that it isn&#8217;t ready</div>
<div class="line">[Monday 08 November 2010] [16:16:36] &lt;ngerakines&gt;     I don&#8217;t know then, sorry</div>
<div class="line">[Monday 08 November 2010] [16:23:20] &lt;Guthur&gt; is there really a need for the wuserver example to be binding to ipc</div>
<div class="line">[Monday 08 November 2010] [16:23:38] &lt;Guthur&gt; It&#8217;s not used, and it just makes the example incompatible with windows</div>
<div class="line">[Monday 08 November 2010] [16:25:54] &lt;<a href="#id71"><span class="problematic" id="id79">Ben__</span></a>&gt;  if anyone is curious about my earlier question - moving my test client to 2.1 from 2.0.8 did indeed fix the problem.</div>
<div class="line">[Monday 08 November 2010] [17:03:53] &lt;mikko&gt;  sustrik: how do i recognise you?</div>
<div class="line">[Monday 08 November 2010] [17:04:10] &lt;sustrik&gt;        mikko: i&#8217;ve sent you my number</div>
<div class="line">[Monday 08 November 2010] [17:04:14] &lt;sustrik&gt;        have you got it?</div>
<div class="line">[Monday 08 November 2010] [17:04:32] &lt;mikko&gt;  yes</div>
<div class="line">[Monday 08 November 2010] [17:04:50] &lt;sustrik&gt;        let me find some picture...</div>
<div class="line">[Monday 08 November 2010] [17:05:06] &lt;mikko&gt;  <a class="reference external" href="http://farm4.static.flickr.com/3297/3626630182_006c6ba2c0.jpg">http://farm4.static.flickr.com/3297/3626630182_006c6ba2c0.jpg</a></div>
<div class="line">[Monday 08 November 2010] [17:05:08] &lt;mikko&gt;  thats me</div>
<div class="line">[Monday 08 November 2010] [17:05:15] &lt;mikko&gt;  i dont have the beard anymore, just the moustache</div>
<div class="line">[Monday 08 November 2010] [17:05:27] &lt;sustrik&gt;        that&#8217;s me:</div>
<div class="line">[Monday 08 November 2010] [17:05:28] &lt;sustrik&gt;        <a class="reference external" href="http://www.facebook.com/#!/photo.php">http://www.facebook.com/#!/photo.php</a>?fbid=1403475059607&amp;set=t.1233485121</div>
<div class="line">[Monday 08 November 2010] [17:05:33] &lt;sustrik&gt;        guy with the tuba</div>
<div class="line">[Monday 08 November 2010] [17:05:38] &lt;mikko&gt;  ok</div>
<div class="line">[Monday 08 November 2010] [17:06:17] &lt;mikko&gt;  and it&#8217;s not that large pub</div>
<div class="line">[Monday 08 November 2010] [17:06:47] &lt;sustrik&gt;        ok</div>
<div class="line">[Monday 08 November 2010] [17:07:06] &lt;sustrik&gt;        ah, jon dyte mentioned he&#8217;s going to arrive</div>
<div class="line">[Monday 08 November 2010] [17:19:01] &lt;pieterh&gt;        sustrik: you take a tube to all 0MQ meetups?</div>
<div class="line">[Monday 08 November 2010] [17:19:07] &lt;pieterh&gt;        <a href="#id21"><span class="problematic" id="id22">*</span></a>tuba</div>
<div class="line">[Monday 08 November 2010] [17:19:12] &lt;pieterh&gt;        sorry, it&#8217;s been a long day :-)</div>
<div class="line">[Monday 08 November 2010] [17:38:47] &lt;lestrrat&gt;       is fd_t only available in C++ land? (for getsockopt( ... ZMQ_FD ))</div>
<div class="line">[Monday 08 November 2010] [17:51:28] &lt;Guthur&gt; sustrik, I pushed the clrzmq2 code to the repo</div>
<div class="line">[Monday 08 November 2010] [17:53:29] &lt;Guthur&gt; I kept the same .NET assembly name, but bumped the version up to 2.0.0.0</div>
<div class="line">[Monday 08 November 2010] [17:53:29] &lt;Guthur&gt; It&#8217;s easy for people to set there required version in MSVC, and MonoDevelop</div>
<div class="line">[Monday 08 November 2010] [17:53:29] &lt;Guthur&gt; their*</div>
<div class="line">[Monday 08 November 2010] [19:04:27] Notice   -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Monday 08 November 2010] [19:04:27] Notice   -NickServ- You are now identified for travlr.</div>
<div class="line">[Monday 08 November 2010] [19:04:27] CTCP     Received Version request from frigg.</div>
<div class="line">[Monday 08 November 2010] [22:03:32] &lt;Led_Zeppelin&gt;   hello.</div>
<div class="line">[Monday 08 November 2010] [22:03:43] &lt;Led_Zeppelin&gt;   Is it possible to have a UDP socket with 0mq?</div>
<div class="line">[Monday 08 November 2010] [22:14:00] &lt;gandhijee&gt;      hey, what would the socket be to only send msgs to a server?</div>
<div class="line">[Monday 08 November 2010] [22:14:18] &lt;gandhijee&gt;      and i guess the server would have to open in rec only mode?</div>
<div class="line">[Tuesday 09 November 2010] [03:49:43] &lt;mikko&gt; gandhijee: PUSH/PULL, PUB/SUB</div>
<div class="line">[Tuesday 09 November 2010] [04:12:55] &lt;mrshpot&gt;       hi</div>
<div class="line">[Tuesday 09 November 2010] [04:13:17] &lt;mrshpot&gt;       is it OK to pass sockets between threads in ZeroMQ 2.1.0-git?</div>
<div class="line">[Tuesday 09 November 2010] [04:16:06] &lt;Guthur&gt;        mrshpot: AFAIK sharing sockets between threads is not supported</div>
<div class="line">[Tuesday 09 November 2010] [04:16:56] &lt;mrshpot&gt;       thanks</div>
<div class="line">[Tuesday 09 November 2010] [04:17:09] &lt;guido_g&gt;       in 2.1.x you can move a socket from one thread to another</div>
<div class="line">[Tuesday 09 November 2010] [04:17:20] &lt;Guthur&gt;        oh, sorry my bad</div>
<div class="line">[Tuesday 09 November 2010] [04:17:29] &lt;guido_g&gt;       <em>shared</em> use of a socket is still not supported</div>
<div class="line">[Tuesday 09 November 2010] [04:17:55] &lt;mrshpot&gt;       I want to have two threads: one that is receiving, and another one that is sending</div>
<div class="line">[Tuesday 09 November 2010] [04:18:09] &lt;mrshpot&gt;       so I can&#8217;t do that</div>
<div class="line">[Tuesday 09 November 2010] [04:18:22] &lt;guido_g&gt;       right</div>
<div class="line">[Tuesday 09 November 2010] [04:18:38] &lt;mrshpot&gt;       thank you :)</div>
<div class="line">[Tuesday 09 November 2010] [04:18:39] &lt;guido_g&gt;       stupid idea anyway, because mq uses one io thread itself</div>
<div class="line">[Tuesday 09 November 2010] [04:19:37] &lt;mikko&gt; mrshpot: what kind of situation would you use that design for?</div>
<div class="line">[Tuesday 09 November 2010] [04:19:44] &lt;mikko&gt; one thread receiving and one sending</div>
<div class="line">[Tuesday 09 November 2010] [04:19:54] &lt;mikko&gt; on same socket that is</div>
<div class="line">[Tuesday 09 November 2010] [04:20:18] &lt;mrshpot&gt;       there is a worker performing a two-step computation</div>
<div class="line">[Tuesday 09 November 2010] [04:20:45] &lt;mrshpot&gt;       and a &#8220;receive; calculate; send&#8221; pattern makes it stay idle for quite a time</div>
<div class="line">[Tuesday 09 November 2010] [04:21:20] &lt;mrshpot&gt;       it would be more efficient to have a request queue and a response queue</div>
<div class="line">[Tuesday 09 November 2010] [04:21:33] &lt;mikko&gt; why don&#8217;t you do recv/send in one thread and use inproc to hand work to worker threads?</div>
<div class="line">[Tuesday 09 November 2010] [04:22:49] &lt;guido_g&gt;       receive / calculate / send doesn&#8217;t sound like the thread has not enough to do</div>
<div class="line">[Tuesday 09 November 2010] [04:23:16] &lt;guido_g&gt;       the sending is very fast, because it _simply_ pushes the data to the io thread internally</div>
<div class="line">[Tuesday 09 November 2010] [04:23:44] &lt;guido_g&gt;       so after sending thread would get the next message quite fast</div>
<div class="line">[Tuesday 09 November 2010] [04:24:35] &lt;mrshpot&gt;       I guess I&#8217;ll go with single-threaded send/recv, then</div>
<div class="line">[Tuesday 09 November 2010] [04:24:52] &lt;guido_g&gt;       right</div>
<div class="line">[Tuesday 09 November 2010] [04:25:10] &lt;guido_g&gt;       allways <em>try</em> the simple things first</div>
<div class="line">[Tuesday 09 November 2010] [04:25:20] &lt;mrshpot&gt;       :-)</div>
<div class="line">[Tuesday 09 November 2010] [05:13:57] &lt;Guthur&gt;        sustrik, are you maintain the erlang binding?</div>
<div class="line">[Tuesday 09 November 2010] [06:11:02] &lt;pieterh&gt;       Guthur, the maintainer should be mentioned on the binding page</div>
<div class="line">[Tuesday 09 November 2010] [06:11:38] &lt;pieterh&gt;       Serge Aleynikov and Dhammika Pathirana, it says</div>
<div class="line">[Tuesday 09 November 2010] [07:02:36] &lt;Guthur&gt;        pieterh: Ah ok, cheers</div>
<div class="line">[Tuesday 09 November 2010] [08:54:13] &lt;Guthur&gt;        is ZFL at an early stage of development?</div>
<div class="line">[Tuesday 09 November 2010] [08:54:39] &lt;Guthur&gt;        It doesn&#8217;t seem to be very well advertised</div>
<div class="line">[Tuesday 09 November 2010] [08:57:13] &lt;Tester&gt;        hey guys, I want to build a tcp server with 0mq, that would connect to non-0mq clients</div>
<div class="line">[Tuesday 09 November 2010] [08:57:39] &lt;Tester&gt;        is there any problem combining 0mq and non-0mq sockets?</div>
<div class="line">[Tuesday 09 November 2010] [08:57:47] &lt;mikko&gt; Tester: would your clients speak 0mq wire protocol?</div>
<div class="line">[Tuesday 09 November 2010] [08:57:58] &lt;Tester&gt;        no</div>
<div class="line">[Tuesday 09 November 2010] [08:58:06] &lt;Tester&gt;        plain tcp</div>
<div class="line">[Tuesday 09 November 2010] [08:58:07] &lt;mikko&gt; then they couldn&#8217;t really talk with 0mq</div>
<div class="line">[Tuesday 09 November 2010] [08:59:01] &lt;Tester&gt;        I have control over hte server, not the clients... that&#8217;s the problem</div>
<div class="line">[Tuesday 09 November 2010] [08:59:07] &lt;mikko&gt; as zeromq has a wire protocol for frames</div>
<div class="line">[Tuesday 09 November 2010] [08:59:45] &lt;Tester&gt;        I see</div>
<div class="line">[Tuesday 09 November 2010] [08:59:49] &lt;guido_g&gt;       there is no problem in using os level sockets in parallel w/ mq sockets</div>
<div class="line">[Tuesday 09 November 2010] [09:00:45] &lt;guido_g&gt;       you can even use them in the same event loop because mq poll can handle normal (os level) sockets</div>
<div class="line">[Tuesday 09 November 2010] [09:01:33] &lt;guido_g&gt;       so your clients can connect via tcp using their protocol and you can use mq sockets for inter-server communication</div>
<div class="line">[Tuesday 09 November 2010] [09:03:09] &lt;Tester&gt;        I see. My intention was to communicate directly to the clientes</div>
<div class="line">[Tuesday 09 November 2010] [09:03:13] &lt;Tester&gt;        thanks guys</div>
<div class="line">[Tuesday 09 November 2010] [09:03:35] &lt;guido_g&gt;       then the clients need to use mq as well, as mikko said</div>
<div class="line">[Tuesday 09 November 2010] [11:06:55] &lt;Steve-o&gt;       so who has any experience with IOCP?</div>
<div class="line">[Tuesday 09 November 2010] [11:10:31] &lt;mikko&gt; Steve-o: i am getting build errors (with ICC) when building zeromq2 &#8211;with-pgm</div>
<div class="line">[Tuesday 09 November 2010] [11:10:39] &lt;Steve-o&gt;       The only best practices I can find is setting SO_SNDBUF to 0 and queuing up multiple sends, but for receive you must not set SO_RCVBUF to zero and you only need one pending recv</div>
<div class="line">[Tuesday 09 November 2010] [11:11:00] &lt;Steve-o&gt;       mikko:  ok, I think I sent a list of required changes to the list already?</div>
<div class="line">[Tuesday 09 November 2010] [11:11:14] &lt;mikko&gt; Steve-o: i might&#8217;ve missed that</div>
<div class="line">[Tuesday 09 November 2010] [11:11:19] &lt;mikko&gt; let me see</div>
<div class="line">[Tuesday 09 November 2010] [11:11:52] &lt;Steve-o&gt;       There&#8217;s no Autoconf for PGM so it only has support for Linux &amp; MinGW32</div>
<div class="line">[Tuesday 09 November 2010] [11:12:24] &lt;Steve-o&gt;       you want the changes listed in the intelc build environment here, <a class="reference external" href="http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/SConstruct.097.intelc">http://code.google.com/p/openpgm/source/browse/trunk/openpgm/pgm/SConstruct.097.intelc</a></div>
<div class="line">[Tuesday 09 November 2010] [11:13:29] &lt;mikko&gt; i think the build env itself works ok</div>
<div class="line">[Tuesday 09 November 2010] [11:13:48] &lt;mikko&gt; i keep getting error on line for (unsigned i; ...</div>
<div class="line">[Tuesday 09 November 2010] [11:14:03] &lt;mikko&gt; unsigned i = 0</div>
<div class="line">[Tuesday 09 November 2010] [11:14:25] &lt;mikko&gt; i thought that is legal in C++ but not in C</div>
<div class="line">[Tuesday 09 November 2010] [11:14:41] &lt;Steve-o&gt;       legal for C99</div>
<div class="line">[Tuesday 09 November 2010] [11:14:58] &lt;Steve-o&gt;       hence you need -std=c99 flag</div>
<div class="line">[Tuesday 09 November 2010] [11:16:16] &lt;Steve-o&gt;       I think you only need to add the flags -std=c99 -D_XOPEN_SOURCE=600 -D_BSD_SOURCE -gcc-version=420</div>
<div class="line">[Tuesday 09 November 2010] [11:16:45] &lt;Steve-o&gt;       I&#8217;m off house hunting be back later.</div>
<div class="line">[Tuesday 09 November 2010] [11:17:22] &lt;mikko&gt; -std=gnu99 at the moment</div>
<div class="line">[Tuesday 09 November 2010] [11:17:42] &lt;mikko&gt; seems like icc barfs with -std=gnu99 but works with -std=c99</div>
<div class="line">[Tuesday 09 November 2010] [13:29:47] &lt;Steve-o&gt;       mikko: also of note is that icc yields worse performance than gcc for PGM, so ideally you build nodist-libpgm with gcc and the rest of zeromq with icc</div>
<div class="line">[Tuesday 09 November 2010] [14:05:31] &lt;mikko&gt; steve, havent got so fine-grained daily builds yet</div>
<div class="line">[Tuesday 09 November 2010] [14:06:22] &lt;mikko&gt; but think im gonna ahck at this at some point</div>
<div class="line">[Tuesday 09 November 2010] [14:07:52] &lt;Steve-o&gt;       I wish there were better solutions but some platforms I cannot reliably detect features programmatically.</div>
<div class="line">[Tuesday 09 November 2010] [14:08:03] &lt;zomg&gt;  mikko: out of curiosity, you using zmq with PHP or something else?</div>
<div class="line">[Tuesday 09 November 2010] [16:16:10] &lt;Guthur&gt;        clrzmq2 actually works on linux out of the box</div>
<div class="line">[Tuesday 09 November 2010] [16:16:16] &lt;Guthur&gt;        I&#8217;m well chuffed</div>
<div class="line">[Tuesday 09 November 2010] [17:58:48] &lt;mcr19&gt; what is the preferred site to upload sample code for reference on zeromq-dev?</div>
<div class="line">[Tuesday 09 November 2010] [18:26:54] &lt;kisielk&gt;       mcr19: probably github?</div>
<div class="line">[Tuesday 09 November 2010] [19:02:47] &lt;Guest37325&gt;    Hi all. I am having trouble installing pyzmq on windows. When running setup.py install I get error: Cython-generated file &#8216;zmqcoreconstants.c&#8217; not found. Any ideas?</div>
<div class="line">[Tuesday 09 November 2010] [19:10:13] &lt;Guthur&gt;        Guest37325, If you don&#8217;t get an answer here you could try the mailing list</div>
<div class="line">[Wednesday 10 November 2010] [03:38:24] &lt;kyuss&gt;       Morning.</div>
<div class="line">[Wednesday 10 November 2010] [04:32:02] &lt;mikko&gt;       morning</div>
<div class="line">[Wednesday 10 November 2010] [04:49:13] &lt;mikko&gt;       zomg: to answer your question from yesterday, mainly with C</div>
<div class="line">[Wednesday 10 November 2010] [06:47:25] &lt;vini&gt;        hello</div>
<div class="line">[Wednesday 10 November 2010] [06:48:02] &lt;vini&gt;        Anyone had problems with Windows Server 2008? (not R2)</div>
<div class="line">[Wednesday 10 November 2010] [06:48:55] &lt;vini&gt;        The ZeroMQ for me is very slow</div>
<div class="line">[Wednesday 10 November 2010] [11:43:02] &lt;<a href="#id967"><span class="problematic" id="id968">dv_</span></a>&gt; hello</div>
<div class="line">[Wednesday 10 November 2010] [11:43:27] &lt;<a href="#id969"><span class="problematic" id="id970">dv_</span></a>&gt; can i use pub/sub with multiple subscribers and ipc?</div>
<div class="line">[Wednesday 10 November 2010] [11:44:04] &lt;<a href="#id971"><span class="problematic" id="id972">dv_</span></a>&gt; I tried to bind to the ipc address twice, but it doesnt work as expected</div>
<div class="line">[Wednesday 10 November 2010] [11:45:09] &lt;guido_g&gt;     what does &#8220;it doesnt work as expected&#8221; mean?</div>
<div class="line">[Wednesday 10 November 2010] [11:45:26] &lt;<a href="#id973"><span class="problematic" id="id974">dv_</span></a>&gt; well, if I start the program twice, the two instances dont get messages from each other</div>
<div class="line">[Wednesday 10 November 2010] [11:45:35] &lt;<a href="#id975"><span class="problematic" id="id976">dv_</span></a>&gt; only from themselves</div>
<div class="line">[Wednesday 10 November 2010] [11:45:43] &lt;<a href="#id977"><span class="problematic" id="id978">dv_</span></a>&gt; as if I was using inproc instead of ipc</div>
<div class="line">[Wednesday 10 November 2010] [11:46:36] &lt;guido_g&gt;     put the programs and their paramters in a paste-bin, please</div>
<div class="line">[Wednesday 10 November 2010] [11:48:10] &lt;<a href="#id979"><span class="problematic" id="id980">dv_</span></a>&gt; oh hold on</div>
<div class="line">[Wednesday 10 November 2010] [11:48:12] &lt;<a href="#id981"><span class="problematic" id="id982">dv_</span></a>&gt; i just noticed</div>
<div class="line">[Wednesday 10 November 2010] [11:48:24] &lt;guido_g&gt;     yes?</div>
<div class="line">[Wednesday 10 November 2010] [11:48:25] &lt;<a href="#id983"><span class="problematic" id="id984">dv_</span></a>&gt; I bind to the same address twice</div>
<div class="line">[Wednesday 10 November 2010] [11:48:41] &lt;<a href="#id985"><span class="problematic" id="id986">dv_</span></a>&gt; doesnt work with tcp of course, and I presume it wont work with ipc either, right?</div>
<div class="line">[Wednesday 10 November 2010] [11:49:22] &lt;guido_g&gt;     good question</div>
<div class="line">[Wednesday 10 November 2010] [11:54:02] &lt;guido_g&gt;     yeah, 2 binds are not allowed it seems</div>
<div class="line">[Wednesday 10 November 2010] [12:05:27] &lt;<a href="#id987"><span class="problematic" id="id988">dv_</span></a>&gt; ok, so i was trying to write a chat program, just to test out zeromq</div>
<div class="line">[Wednesday 10 November 2010] [12:05:34] &lt;<a href="#id989"><span class="problematic" id="id990">dv_</span></a>&gt; using pub-sub</div>
<div class="line">[Wednesday 10 November 2010] [12:05:52] &lt;<a href="#id991"><span class="problematic" id="id992">dv_</span></a>&gt; multicasting for inter-host communication, and ipc for chat programs that run on the same host</div>
<div class="line">[Wednesday 10 November 2010] [12:06:12] &lt;<a href="#id993"><span class="problematic" id="id994">dv_</span></a>&gt; would you also use epgm for chatting between hosts and ipc for chats in the same host?</div>
<div class="line">[Wednesday 10 November 2010] [12:11:10] &lt;guido_g&gt;     depends on the use-case</div>
<div class="line">[Wednesday 10 November 2010] [12:13:16] &lt;<a href="#id995"><span class="problematic" id="id996">dv_</span></a>&gt; hm. i am tring to do this serverless.</div>
<div class="line">[Wednesday 10 November 2010] [12:14:25] &lt;<a href="#id997"><span class="problematic" id="id998">dv_</span></a>&gt; guido_g: what other info is necessary?</div>
<div class="line">[Wednesday 10 November 2010] [12:14:41] &lt;guido_g&gt;     for what?</div>
<div class="line">[Wednesday 10 November 2010] [12:14:46] &lt;<a href="#id999"><span class="problematic" id="id1000">dv_</span></a>&gt; &lt;guido_g&gt; depends on the use-case</div>
<div class="line">[Wednesday 10 November 2010] [12:14:50] &lt;guido_g&gt;     yes</div>
<div class="line">[Wednesday 10 November 2010] [12:14:52] &lt;<a href="#id1001"><span class="problematic" id="id1002">dv_</span></a>&gt; isnt what I write a use case?</div>
<div class="line">[Wednesday 10 November 2010] [12:15:02] &lt;guido_g&gt;     no really</div>
<div class="line">[Wednesday 10 November 2010] [12:15:04] &lt;guido_g&gt;     <a href="#id23"><span class="problematic" id="id24">*</span></a>not</div>
<div class="line">[Wednesday 10 November 2010] [12:18:34] &lt;guido_g&gt;     youc could simply use epgm for all participants, i can&#8217;t see a benefit in using ipc here</div>
<div class="line">[Wednesday 10 November 2010] [12:18:56] &lt;<a href="#id1003"><span class="problematic" id="id1004">dv_</span></a>&gt; you cant use epgm for communicating on the same host</div>
<div class="line">[Wednesday 10 November 2010] [12:19:09] &lt;<a href="#id1005"><span class="problematic" id="id1006">dv_</span></a>&gt; well, you can, but IIRC it requires the multicast loopback hack,</div>
<div class="line">[Wednesday 10 November 2010] [12:19:13] &lt;<a href="#id1007"><span class="problematic" id="id1008">dv_</span></a>&gt; which is strongly discouraged</div>
<div class="line">[Wednesday 10 November 2010] [12:19:37] &lt;guido_g&gt;     hack? it&#8217;s a socket option</div>
<div class="line">[Wednesday 10 November 2010] [12:21:06] &lt;<a href="#id1009"><span class="problematic" id="id1010">dv_</span></a>&gt; i had a discussion about this yesterday I think</div>
<div class="line">[Wednesday 10 November 2010] [12:21:09] &lt;guido_g&gt;     or what do you mean?</div>
<div class="line">[Wednesday 10 November 2010] [12:21:34] &lt;<a href="#id1011"><span class="problematic" id="id1012">dv_</span></a>&gt; it is recommendeed to set ZMQ_MCAST_LOOP to 0,</div>
<div class="line">[Wednesday 10 November 2010] [12:21:35] &lt;guido_g&gt;     do you men the loopback network device?</div>
<div class="line">[Wednesday 10 November 2010] [12:22:18] &lt;<a href="#id1013"><span class="problematic" id="id1014">dv_</span></a>&gt; oh hold on.</div>
<div class="line">[Wednesday 10 November 2010] [12:22:37] &lt;<a href="#id1015"><span class="problematic" id="id1016">dv_</span></a>&gt; i might have a logical error here.</div>
<div class="line">[Wednesday 10 November 2010] [12:22:47] &lt;guido_g&gt;     &#8220;Leaving multicast loopback enabled when it is not required can have a negative impact on performance.&#8221; &lt;- from the docs</div>
<div class="line">[Wednesday 10 November 2010] [12:22:47] &lt;<a href="#id1017"><span class="problematic" id="id1018">dv_</span></a>&gt; i&#8217;ll try something, just a sec</div>
<div class="line">[Wednesday 10 November 2010] [12:23:01] &lt;guido_g&gt;     scho&#8217; recht :)</div>
<div class="line">[Wednesday 10 November 2010] [12:23:07] &lt;pieterh&gt;     <a href="#id1019"><span class="problematic" id="id1020">dv_</span></a> for a chat program you really don&#8217;t care too much about performance</div>
<div class="line">[Wednesday 10 November 2010] [12:23:22] &lt;pieterh&gt;     my advice would be to start simple</div>
<div class="line">[Wednesday 10 November 2010] [12:23:28] &lt;pieterh&gt;     pub sub over tcp, period</div>
<div class="line">[Wednesday 10 November 2010] [12:23:58] &lt;pieterh&gt;     and use a server :-)</div>
<div class="line">[Wednesday 10 November 2010] [12:24:09] &lt;pieterh&gt;     it is significantly simpler than using multicast</div>
<div class="line">[Wednesday 10 November 2010] [12:24:31] &lt;pieterh&gt;     further, any real 0MQ application does end up using servers (devices, minibrokers, etc)</div>
<div class="line">[Wednesday 10 November 2010] [12:24:48] &lt;pieterh&gt;     so it&#8217;s worth exploring how that works, it&#8217;s a big part of &#8220;testing 0MQ&#8221;</div>
<div class="line">[Wednesday 10 November 2010] [12:29:01] &lt;mikko&gt;       howdy</div>
<div class="line">[Wednesday 10 November 2010] [12:32:26] &lt;<a href="#id1021"><span class="problematic" id="id1022">dv_</span></a>&gt; pieterh: already noticed. i just find multicasting appealing for nodes that communicate with each other</div>
<div class="line">[Wednesday 10 November 2010] [12:32:38] &lt;<a href="#id1023"><span class="problematic" id="id1024">dv_</span></a>&gt; pieterh: but maybe i&#8217;ll try that, yeah.</div>
<div class="line">[Wednesday 10 November 2010] [12:32:49] &lt;pieterh&gt;     mikko, howdy</div>
<div class="line">[Wednesday 10 November 2010] [12:33:09] &lt;pieterh&gt;     <a href="#id1025"><span class="problematic" id="id1026">dv_</span></a>, I&#8217;d recommend only doing multicast once you&#8217;ve grokked the unicast patterns</div>
<div class="line">[Wednesday 10 November 2010] [12:33:18] &lt;kisielk&gt;     pieterh: sorry about not mailing the list for that patch, it was late night and I didn&#8217;t think of it :)</div>
<div class="line">[Wednesday 10 November 2010] [12:33:20] &lt;<a href="#id1027"><span class="problematic" id="id1028">dv_</span></a>&gt; pieterh: its not just performance, its also resilience - a server is a single point of failure, something i have to fight at work with</div>
<div class="line">[Wednesday 10 November 2010] [12:33:48] &lt;<a href="#id1029"><span class="problematic" id="id1030">dv_</span></a>&gt; pieterh: so this chat thing is also a learning experience, ultimately i would use this also for discovery</div>
<div class="line">[Wednesday 10 November 2010] [12:33:53] &lt;pieterh&gt;     <a href="#id1031"><span class="problematic" id="id1032">dv_</span></a>, sure, there are solutions to that, usually making redundant devices</div>
<div class="line">[Wednesday 10 November 2010] [12:34:13] &lt;<a href="#id1033"><span class="problematic" id="id1034">dv_</span></a>&gt; pieterh: this is what we do, and it is nontrivial</div>
<div class="line">[Wednesday 10 November 2010] [12:34:35] &lt;pieterh&gt;     <a href="#id1035"><span class="problematic" id="id1036">dv_</span></a>, indeed, reliability is always hard work</div>
<div class="line">[Wednesday 10 November 2010] [12:34:46] &lt;pieterh&gt;     multicast can help in some cases</div>
<div class="line">[Wednesday 10 November 2010] [12:35:12] &lt;pieterh&gt;     but the real answer is to make simpler pieces that are much less likely to crash</div>
<div class="line">[Wednesday 10 November 2010] [12:35:49] &lt;Guthur&gt;      pieterh, Did you get my second batch of clrzmq2 examples sent to the ML?</div>
<div class="line">[Wednesday 10 November 2010] [12:36:03] &lt;pieterh&gt;     Guthur, yup, I did</div>
<div class="line">[Wednesday 10 November 2010] [12:36:07] &lt;pieterh&gt;     didn&#8217;t I confirm, sorry...</div>
<div class="line">[Wednesday 10 November 2010] [12:36:21] &lt;pieterh&gt;     btw getting a tarball is actually a lot easier than git pull requests...</div>
<div class="line">[Wednesday 10 November 2010] [12:36:29] &lt;<a href="#id1037"><span class="problematic" id="id1038">dv_</span></a>&gt; it is?</div>
<div class="line">[Wednesday 10 November 2010] [12:36:32] &lt;pieterh&gt;     yeah</div>
<div class="line">[Wednesday 10 November 2010] [12:36:56] &lt;<a href="#id1039"><span class="problematic" id="id1040">dv_</span></a>&gt; oh, for patches you mean</div>
<div class="line">[Wednesday 10 November 2010] [12:37:10] &lt;pieterh&gt;     i sometimes get git merges go inexplicably weird and then I&#8217;m left with a mess</div>
<div class="line">[Wednesday 10 November 2010] [12:37:15] &lt;Guthur&gt;      pieterh, Oh sorry I see the confirmation now</div>
<div class="line">[Wednesday 10 November 2010] [12:37:18] &lt;Guthur&gt;      my bad</div>
<div class="line">[Wednesday 10 November 2010] [12:37:22] &lt;pieterh&gt;     np :-)</div>
<div class="line">[Wednesday 10 November 2010] [12:37:27] &lt;pieterh&gt;     it&#8217;s good to double check</div>
<div class="line">[Wednesday 10 November 2010] [12:37:56] &lt;Guthur&gt;      I never had them on git so it was easier for me</div>
<div class="line">[Wednesday 10 November 2010] [12:38:31] &lt;pieterh&gt;     ok, I need to leave... if anyone ever needs my attention here on irc just ping me at <a class="reference external" href="mailto:ph&#37;&#52;&#48;imatix&#46;com">ph<span>&#64;</span>imatix<span>&#46;</span>com</a> and I&#8217;ll try to come on</div>
<div class="line">[Wednesday 10 November 2010] [12:38:55] &lt;Guthur&gt;      bye pieterh</div>
<div class="line">[Wednesday 10 November 2010] [12:39:01] &lt;pieterh&gt;     bye Guthur</div>
<div class="line">[Wednesday 10 November 2010] [18:10:25] &lt;Led_Zeppelin&gt;        is there a way to do kernel bypass?</div>
<div class="line">[Wednesday 10 November 2010] [18:25:38] &lt;igrigorik&gt;   hey all.. question: if i&#8217;m using upstream/downstream sockets.. is there any way to actually limit the number of messages in flight? as in, blocking semantics on downstream until some messages are consumed on upstream?</div>
<div class="line">[Wednesday 10 November 2010] [18:27:49] &lt;igrigorik&gt;   my understanding is that HWM should allow me to control this, but it doesn&#8217;t appear to be doing the trick</div>
<div class="line">[Wednesday 10 November 2010] [18:33:48] &lt;Guthur&gt;      igrigorik, HWM marker is a point where messages went to be sent will start to get dropped</div>
<div class="line">[Wednesday 10 November 2010] [18:33:58] &lt;Guthur&gt;      went/about</div>
<div class="line">[Wednesday 10 November 2010] [18:34:20] &lt;Guthur&gt;      It does not limit the number of messages in flight</div>
<div class="line">[Wednesday 10 November 2010] [18:34:31] &lt;igrigorik&gt;   right, ok.. so its just the sender&#8217;s buffer</div>
<div class="line">[Wednesday 10 November 2010] [18:34:40] &lt;Guthur&gt;      igrigorik, yep</div>
<div class="line">[Wednesday 10 November 2010] [18:34:58] &lt;Guthur&gt;      more or less, from my understanding</div>
<div class="line">[Wednesday 10 November 2010] [18:34:58] &lt;igrigorik&gt;   so there is no way for me to actually &#8220;control&#8221; the number of inflight packets, easily, at least</div>
<div class="line">[Wednesday 10 November 2010] [18:35:10] &lt;Guthur&gt;      I think you would have to engineer that</div>
<div class="line">[Wednesday 10 November 2010] [18:35:19] &lt;Guthur&gt;      some sort of ack signal</div>
<div class="line">[Wednesday 10 November 2010] [18:38:34] &lt;igrigorik&gt;   right, ugh :-)</div>
<div class="line">[Wednesday 10 November 2010] [18:39:12] &lt;Guthur&gt;      Maybe a more experience user can come along and offer a simple solution</div>
<div class="line">[Wednesday 10 November 2010] [18:39:27] &lt;Guthur&gt;      I&#8217;m rather green when it comes to 0MQ</div>
<div class="line">[Wednesday 10 November 2010] [18:40:18] &lt;igrigorik&gt;   that makes the two of us :)</div>
<div class="line">[Wednesday 10 November 2010] [18:40:38] &lt;igrigorik&gt;   if there was a simple solution for this.. that would make my life much simler</div>
<div class="line">[Wednesday 10 November 2010] [18:40:40] &lt;igrigorik&gt;   <a href="#id25"><span class="problematic" id="id26">*</span></a>simpler</div>
<div class="line">[Wednesday 10 November 2010] [18:40:43] &lt;Guthur&gt;      hehe, well at least it would be good practice to develop some sort of ack signal</div>
<div class="line">[Wednesday 10 November 2010] [18:41:54] &lt;Guthur&gt;      The sender will stop when the count reaches your make amount in flight, and the count is decrement each time the sender receives and acknowledgement of receipt</div>
<div class="line">[Wednesday 10 November 2010] [18:42:09] &lt;Guthur&gt;      Its actually only a few lines of code in ZMQ</div>
<div class="line">[Wednesday 10 November 2010] [18:42:18] &lt;Guthur&gt;      in/with</div>
<div class="line">[Wednesday 10 November 2010] [18:42:48] &lt;Guthur&gt;      what language?</div>
<div class="line">[Wednesday 10 November 2010] [18:44:34] &lt;igrigorik&gt;   ruby.. but this stuff can get tricky</div>
<div class="line">[Wednesday 10 November 2010] [18:45:07] &lt;igrigorik&gt;   i guess you can have a separate control channel which can monitor the flow</div>
<div class="line">[Wednesday 10 November 2010] [18:45:29] &lt;igrigorik&gt;   but if you have a device in the middle (multiple consumers for example, and multiple producers).. oi</div>
<div class="line">[Wednesday 10 November 2010] [18:45:36] &lt;igrigorik&gt;   hmm</div>
<div class="line">[Wednesday 10 November 2010] [18:45:50] &lt;igrigorik&gt;   maybe i&#8217;m making it more complicated than it should be</div>
<div class="line">[Wednesday 10 November 2010] [18:46:01] &lt;igrigorik&gt;   (usually the case :-))</div>
<div class="line">[Wednesday 10 November 2010] [18:46:10] &lt;Guthur&gt;      igrigorik, Will you can use the IDs</div>
<div class="line">[Wednesday 10 November 2010] [18:46:29] &lt;Guthur&gt;      of the sockets that sent the messages</div>
<div class="line">[Wednesday 10 November 2010] [18:47:16] &lt;igrigorik&gt;   in the pub-sub case, yeah, that would work I think</div>
<div class="line">[Wednesday 10 November 2010] [18:47:32] &lt;Guthur&gt;      If I didn&#8217;t have to go to bed soon I&#8217;d actually be tempted to implement something for the fun, hehe</div>
<div class="line">[Wednesday 10 November 2010] [18:51:16] &lt;Guthur&gt;      ok, time for sleep, enjoy your hacking igrigorik</div>
<div class="line">[Wednesday 10 November 2010] [18:51:23] &lt;igrigorik&gt;   thanks :)</div>
<div class="line">[Wednesday 10 November 2010] [20:29:44] &lt;mi&gt;  hi</div>
<div class="line">[Wednesday 10 November 2010] [20:30:25] &lt;Guest62320&gt;  hi</div>
<div class="line">[Thursday 11 November 2010] [05:49:26] &lt;mikko&gt;        morning</div>
<div class="line">[Thursday 11 November 2010] [06:19:47] &lt;pieterh&gt;      mikko: g&#8217;afternoon</div>
<div class="line">[Thursday 11 November 2010] [08:00:39] &lt;Guthur&gt;       pieterh, Is ZFL to become more visible on the ZeroMQ website when it reachs a greater maturity?</div>
<div class="line">[Thursday 11 November 2010] [08:01:13] &lt;Guthur&gt;       It&#8217;s just that I never noticed it until I was added to it on github</div>
<div class="line">[Thursday 11 November 2010] [08:01:23] &lt;Guthur&gt;       it&#8217;s not very visible</div>
<div class="line">[Thursday 11 November 2010] [09:32:22] Notice -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Thursday 11 November 2010] [09:32:22] CTCP   Received Version request from frigg.</div>
<div class="line">[Thursday 11 November 2010] [10:31:13] &lt;pieterh&gt;      Guthur, sorry, just got back to my PC</div>
<div class="line">[Thursday 11 November 2010] [10:31:32] &lt;pieterh&gt;      ZFL is still a bit of a work in progress</div>
<div class="line">[Thursday 11 November 2010] [10:45:29] &lt;Guthur&gt;       pieterH: No bother, I&#8217;ve started porting some of it to CLR</div>
<div class="line">[Thursday 11 November 2010] [10:45:44] &lt;Guthur&gt;       Looking at the config stuff specifically</div>
<div class="line">[Thursday 11 November 2010] [10:49:22] &lt;pieterh&gt;      hmm, the config stuff needs refactored</div>
<div class="line">[Thursday 11 November 2010] [10:49:29] &lt;pieterh&gt;      it does two different things</div>
<div class="line">[Thursday 11 November 2010] [10:49:41] &lt;pieterh&gt;      i need to pull part out into zfl_device or somesuch</div>
<div class="line">[Thursday 11 November 2010] [10:50:02] &lt;pieterh&gt;      or maybe call it zfl_context</div>
<div class="line">[Thursday 11 November 2010] [10:50:50] &lt;Guthur&gt;       no problem, I only got as far as doing the tree stuff</div>
<div class="line">[Thursday 11 November 2010] [10:51:47] &lt;Guthur&gt;       I&#8217;ll keep an eye on changes to config</div>
<div class="line">[Thursday 11 November 2010] [10:54:56] &lt;Guthur&gt;       need to go now, back later</div>
<div class="line">[Thursday 11 November 2010] [11:27:43] &lt;Steve-o&gt;      News at 11, IOCP doesn&#8217;t help much with UDP</div>
<div class="line">[Thursday 11 November 2010] [11:29:11] &lt;Steve-o&gt;      I got a 10% performance boost, whilst looking for a 250% increase to match Linux.</div>
<div class="line">[Thursday 11 November 2010] [12:39:55] 435    <a href="#id1041"><span class="problematic" id="id1042">travlr_</span></a> travlr #gentoo-qt Cannot change nickname while banned on channel</div>
<div class="line">[Thursday 11 November 2010] [12:40:05] &lt;Guthur&gt;       pieterh, Sorry I was on a webclient and lost the history from the ZMF discussion earlier...</div>
<div class="line">[Thursday 11 November 2010] [12:40:20] &lt;Guthur&gt;       did you say that Context will probably get removed?</div>
<div class="line">[Thursday 11 November 2010] [12:59:55] &lt;pieterh&gt;      Guthur, I want to refactor the class</div>
<div class="line">[Thursday 11 November 2010] [13:00:01] &lt;pieterh&gt;      it does two different things, reallt</div>
<div class="line">[Thursday 11 November 2010] [13:00:04] &lt;pieterh&gt;      <a href="#id27"><span class="problematic" id="id28">*</span></a>really</div>
<div class="line">[Thursday 11 November 2010] [13:02:51] &lt;Guthur&gt;       should it just be dealing with information regarding the service?</div>
<div class="line">[Thursday 11 November 2010] [13:03:14] &lt;pieterh&gt;      i&#8217;d like one class that just loads config data into a tree and provides methods to access the tree</div>
<div class="line">[Thursday 11 November 2010] [13:03:22] &lt;pieterh&gt;      so we can use that for any random configuration scenario</div>
<div class="line">[Thursday 11 November 2010] [13:03:35] &lt;pieterh&gt;      and then a second class that uses this to create / configure a service and sockets</div>
<div class="line">[Thursday 11 November 2010] [13:03:52] &lt;Guthur&gt;       ok, makes sense</div>
<div class="line">[Thursday 11 November 2010] [13:04:14] &lt;Guthur&gt;       Config info, and then some sort of initiator class</div>
<div class="line">[Thursday 11 November 2010] [13:05:51] &lt;pieterh&gt;      yeah</div>
<div class="line">[Thursday 11 November 2010] [13:06:09] &lt;Guthur&gt;       I&#8217;ll keep an eye out for your refactors</div>
<div class="line">[Thursday 11 November 2010] [13:06:17] &lt;Guthur&gt;       I might explore some options myself</div>
<div class="line">[Thursday 11 November 2010] [13:07:04] &lt;pieterh&gt;      it&#8217;d be fun to see how close you can map the API in C#</div>
<div class="line">[Thursday 11 November 2010] [13:07:09] &lt;pieterh&gt;      that&#8217;s your idea, right?</div>
<div class="line">[Thursday 11 November 2010] [13:07:37] &lt;Guthur&gt;       Yep</div>
<div class="line">[Thursday 11 November 2010] [13:07:45] &lt;pieterh&gt;      nice</div>
<div class="line">[Thursday 11 November 2010] [13:07:52] &lt;Guthur&gt;       It&#8217;s not too bad</div>
<div class="line">[Thursday 11 November 2010] [13:08:08] &lt;Guthur&gt;       Of course I don&#8217;t have to explicitly pass a this pointer, hehe</div>
<div class="line">[Thursday 11 November 2010] [13:08:18] &lt;Guthur&gt;       this/self</div>
<div class="line">[Thursday 11 November 2010] [13:08:20] &lt;pieterh&gt;      it&#8217;s a miracle the horse dances at all...</div>
<div class="line">[Thursday 11 November 2010] [13:09:03] &lt;pieterh&gt;      meaning, it&#8217;s fun to be able to get some kind of nice class model in C</div>
<div class="line">[Thursday 11 November 2010] [13:10:18] &lt;Guthur&gt;       yeah I&#8217;d imagine. I find difficulty in giving up my high level constructs to be honest.</div>
<div class="line">[Thursday 11 November 2010] [13:10:26] &lt;Guthur&gt;       I&#8217;m a little lazy, hehe</div>
<div class="line">[Thursday 11 November 2010] [13:11:01] &lt;Guthur&gt;       Common Lisp would be my preferred choice of tool, but someone beat me to that one...</div>
<div class="line">[Thursday 11 November 2010] [13:11:14] &lt;Guthur&gt;       CL seems to be one of the most mature bindings</div>
<div class="line">[Thursday 11 November 2010] [13:11:26] &lt;Guthur&gt;       Has all the guide examples as well</div>
<div class="line">[Thursday 11 November 2010] [13:15:27] &lt;DanielHolth&gt;  so cool</div>
<div class="line">[Thursday 11 November 2010] [13:45:07] &lt;jhawk28&gt;      can anyone educate me on the value of a statically build lib for zeromq on windows?</div>
<div class="line">[Thursday 11 November 2010] [13:59:49] &lt;Guthur&gt;       jhawk28: What makes you think it has value?</div>
<div class="line">[Thursday 11 November 2010] [14:00:36] &lt;jhawk28&gt;      Im hoping that it allows it to run under any environment</div>
<div class="line">[Thursday 11 November 2010] [14:01:40] &lt;Guthur&gt;       Maybe, but surely you should just let the system get the dependency?</div>
<div class="line">[Thursday 11 November 2010] [14:01:50] &lt;Guthur&gt;       if you talking about non-windows</div>
<div class="line">[Thursday 11 November 2010] [14:02:39] &lt;jhawk28&gt;      talking about windows</div>
<div class="line">[Thursday 11 November 2010] [14:04:15] &lt;Guthur&gt;       Maybe then, I just like building it separate and using the .so or .dll</div>
<div class="line">[Thursday 11 November 2010] [17:38:49] &lt;Guthur&gt;       Is there any situation where you would want to be using more than one context</div>
<div class="line">[Thursday 11 November 2010] [17:57:14] &lt;mikko&gt;        Guthur: if you have multiple libraries using zeromq2</div>
<div class="line">[Thursday 11 November 2010] [17:57:23] &lt;mikko&gt;        Guthur: and you want them to be independent</div>
<div class="line">[Thursday 11 November 2010] [17:57:30] &lt;mikko&gt;        that&#8217;s one situation i can think of</div>
<div class="line">[Thursday 11 November 2010] [17:58:15] &lt;Guthur&gt;       ok, just checking I wasn&#8217;t missing something</div>
<div class="line">[Thursday 11 November 2010] [17:58:18] &lt;Guthur&gt;       cheers</div>
<div class="line">[Thursday 11 November 2010] [20:09:41] &lt;mikko&gt;        g&#8217;evening</div>
<div class="line">[Friday 12 November 2010] [05:51:24] &lt;kobus&gt;  Anybody else using MinGW when building 0mq?</div>
<div class="line">[Friday 12 November 2010] [05:52:31] &lt;mikko&gt;  that was hasted</div>
<div class="line">[Friday 12 November 2010] [05:55:59] &lt;kobus&gt;  I&#8217;m trying to build zeromq 2.0.10 on Windows with MinGW (gcc 4.4.0)</div>
<div class="line">[Friday 12 November 2010] [05:57:02] &lt;kobus&gt;  But I get an error ISO C++ does not support long long</div>
<div class="line">[Friday 12 November 2010] [05:58:02] &lt;kobus&gt;  If I write a test app that defines a variable as long long, it works, and the size is 8 bytes (from sizeof)</div>
<div class="line">[Friday 12 November 2010] [05:58:34] &lt;kobus&gt;  Any ideas?</div>
<div class="line">[Friday 12 November 2010] [06:00:24] &lt;mikko&gt;  kobus: can you show the build log?</div>
<div class="line">[Friday 12 November 2010] [06:00:31] &lt;mikko&gt;  or output</div>
<div class="line">[Friday 12 November 2010] [06:00:48] &lt;mikko&gt;  and do you compile your test app with same flags?</div>
<div class="line">[Friday 12 November 2010] [06:01:54] &lt;kobus&gt;  <a class="reference external" href="http://pastebin.com/uMTyvS2J">http://pastebin.com/uMTyvS2J</a></div>
<div class="line">[Friday 12 November 2010] [06:02:05] &lt;mikko&gt;  kobus: compile your test program with -Werror -pedantic</div>
<div class="line">[Friday 12 November 2010] [06:02:36] &lt;mikko&gt;  hmm</div>
<div class="line">[Friday 12 November 2010] [06:02:57] &lt;mikko&gt;  can you test whether the same is present in github master?</div>
<div class="line">[Friday 12 November 2010] [06:03:12] &lt;mikko&gt;  <a class="reference external" href="https://github.com/zeromq/zeromq2">https://github.com/zeromq/zeromq2</a></div>
<div class="line">[Friday 12 November 2010] [06:05:04] &lt;kobus&gt;  Sorry I&#8217;m not familiar with github, just trying to figure out how to get the code...</div>
<div class="line">[Friday 12 November 2010] [06:05:31] &lt;mikko&gt;  <a class="reference external" href="https://github.com/zeromq/zeromq2/tarball/master">https://github.com/zeromq/zeromq2/tarball/master</a></div>
<div class="line">[Friday 12 November 2010] [06:07:59] &lt;mikko&gt;  probably</div>
<div class="line">[Friday 12 November 2010] [06:08:00] &lt;mikko&gt;  hmm</div>
<div class="line">[Friday 12 November 2010] [06:08:20] &lt;mikko&gt;  <a class="reference external" href="https://gist.github.com/45ab703ecc45263e3be9">https://gist.github.com/45ab703ecc45263e3be9</a></div>
<div class="line">[Friday 12 November 2010] [06:08:23] &lt;mikko&gt;  it&#8217;s this block</div>
<div class="line">[Friday 12 November 2010] [06:08:35] &lt;mikko&gt;  i assume __int64 is defined as long long</div>
<div class="line">[Friday 12 November 2010] [06:13:24] &lt;kobus&gt;  Sorry, I&#8217;m trying to build github master. Do I use the configure script from the other source?</div>
<div class="line">[Friday 12 November 2010] [06:14:49] &lt;mikko&gt;  you don&#8217;t have autotools on win i guess?</div>
<div class="line">[Friday 12 November 2010] [06:16:42] &lt;Everton&gt;        Hi</div>
<div class="line">[Friday 12 November 2010] [06:16:45] &lt;mikko&gt;  hi</div>
<div class="line">[Friday 12 November 2010] [06:17:00] &lt;Everton&gt;        somo one could help me to install zmq in windows 7?</div>
<div class="line">[Friday 12 November 2010] [06:17:24] &lt;mikko&gt;  Everton: are you looking to use a specific binding?</div>
<div class="line">[Friday 12 November 2010] [06:17:31] &lt;mikko&gt;  or just the libraries themselves?</div>
<div class="line">[Friday 12 November 2010] [06:17:53] &lt;Everton&gt;        yes, mikko...</div>
<div class="line">[Friday 12 November 2010] [06:18:02] &lt;Everton&gt;        I am looking for java</div>
<div class="line">[Friday 12 November 2010] [06:18:32] &lt;mikko&gt;  the easiest way is to get visual studio express and build the binaries</div>
<div class="line">[Friday 12 November 2010] [06:18:40] &lt;mikko&gt;  i might have binaries somewhere</div>
<div class="line">[Friday 12 November 2010] [06:19:02] &lt;Everton&gt;        I downloaded the Visual C++ 2010</div>
<div class="line">[Friday 12 November 2010] [06:19:11] &lt;mikko&gt;  have you installed it?</div>
<div class="line">[Friday 12 November 2010] [06:19:30] &lt;Everton&gt;        but the problem was that I can not compile</div>
<div class="line">[Friday 12 November 2010] [06:19:39] &lt;Everton&gt;        I intalled the Visual</div>
<div class="line">[Friday 12 November 2010] [06:20:30] &lt;mikko&gt;  have you download zeromq2?</div>
<div class="line">[Friday 12 November 2010] [06:20:53] &lt;Everton&gt;        zeromq2??</div>
<div class="line">[Friday 12 November 2010] [06:21:16] &lt;Everton&gt;        The zmq that is in the first page?</div>
<div class="line">[Friday 12 November 2010] [06:21:21] &lt;mikko&gt;  <a class="reference external" href="http://www.zeromq.org/intro:get-the-software">http://www.zeromq.org/intro:get-the-software</a></div>
<div class="line">[Friday 12 November 2010] [06:21:43] &lt;mikko&gt;  there are build instructions for windows as well</div>
<div class="line">[Friday 12 November 2010] [06:22:04] &lt;Everton&gt;        yes, I have download this already</div>
<div class="line">[Friday 12 November 2010] [06:22:37] &lt;Everton&gt;        and make the step-by-step to install on Windows</div>
<div class="line">[Friday 12 November 2010] [06:23:44] &lt;mikko&gt;  what seems to be the problem?</div>
<div class="line">[Friday 12 November 2010] [06:24:21] &lt;Everton&gt;        when I &#8220;build solucion&#8221; on Visual, it create to files in the folder lib: libzmq.dll and libzmq</div>
<div class="line">[Friday 12 November 2010] [06:24:58] &lt;Everton&gt;        so I deploy the to file on the folder c:/windows/system32</div>
<div class="line">[Friday 12 November 2010] [06:25:23] &lt;Everton&gt;        but how can I bind to java</div>
<div class="line">[Friday 12 November 2010] [06:26:08] &lt;mikko&gt;  <a class="reference external" href="https://github.com/zeromq/jzmq">https://github.com/zeromq/jzmq</a></div>
<div class="line">[Friday 12 November 2010] [06:26:50] &lt;kobus&gt;  Mikko: I use MSYS, with the version 2.0.10 I ran ./configure and then make</div>
<div class="line">[Friday 12 November 2010] [06:27:18] &lt;Everton&gt;        it is just to Linux or to Windows too??</div>
<div class="line">[Friday 12 November 2010] [06:27:29] &lt;Everton&gt;        what is MSYS?</div>
<div class="line">[Friday 12 November 2010] [06:28:46] &lt;kobus&gt;  &#8220;a component of MinGW known as MSYS (Minimal SYStem) provides win32 ports of a lightweight Unix-like shell environment&#8221;</div>
<div class="line">[Friday 12 November 2010] [06:28:46] &lt;Guthur&gt; Everton: <a class="reference external" href="http://www.mingw.org/wiki/MSYS">http://www.mingw.org/wiki/MSYS</a></div>
<div class="line">[Friday 12 November 2010] [06:29:06] &lt;mikko&gt;  kobus: i&#8217;l check as soon as i get mingw build environment running</div>
<div class="line">[Friday 12 November 2010] [06:29:59] &lt;kobus&gt;  mikko: thanks, will try to get the githubcode to build</div>
<div class="line">[Friday 12 November 2010] [06:31:05] &lt;Everton&gt;        for what it is used?</div>
<div class="line">[Friday 12 November 2010] [06:31:15] &lt;mikko&gt;  kobus: you need to run autogen.sh</div>
<div class="line">[Friday 12 November 2010] [06:32:03] &lt;Everton&gt;        mikko, I need to run autogen.sh too?</div>
<div class="line">[Friday 12 November 2010] [06:32:19] &lt;kobus&gt;  mikko: autogen.sh: error: could not find pkg-config.  pkg-config is required to run autogen.sh</div>
<div class="line">[Friday 12 November 2010] [06:32:37] &lt;kobus&gt;  mikko: sorry, I feel very stupid today...</div>
<div class="line">[Friday 12 November 2010] [06:32:45] &lt;Guthur&gt; Everton: You are using MS toolchain and don&#8217;t need to follow the other conversation</div>
<div class="line">[Friday 12 November 2010] [06:34:28] &lt;Everton&gt;        So I just hava to open the the jzmq in the Visual and run &#8220;build solucion&#8221;?</div>
<div class="line">[Friday 12 November 2010] [06:35:24] &lt;mikko&gt;  Everton: there is build folder in jzmq</div>
<div class="line">[Friday 12 November 2010] [06:35:32] &lt;mikko&gt;  open it and build</div>
<div class="line">[Friday 12 November 2010] [06:35:46] &lt;Everton&gt;        I will try now...</div>
<div class="line">[Friday 12 November 2010] [06:45:25] &lt;<a href="#id1043"><span class="problematic" id="id1044">Everton_</span></a>&gt;       what I have to do to use javac in windows?</div>
<div class="line">[Friday 12 November 2010] [06:46:43] &lt;<a href="#id1045"><span class="problematic" id="id1046">Everton_</span></a>&gt;       I set the enviroment variable JAVA_HOME=C:Program FilesJavajdk1.6.0_23</div>
<div class="line">[Friday 12 November 2010] [06:54:21] &lt;mikko&gt;  kobus: how do i run autogen.sh under windows?</div>
<div class="line">[Friday 12 November 2010] [07:00:11] &lt;kobus&gt;  mikko: Sorry went for a coffee. I use the MSYS shell, so just as you would in Unix: ./autogen.sh</div>
<div class="line">[Friday 12 November 2010] [07:03:33] &lt;kobus&gt;  mikko: I use Qt SDK and Qt Creator as IDE, which uses MinGW. I can also use the MS compiler, but I try to use the same compiler on Linux and Windows</div>
<div class="line">[Friday 12 November 2010] [07:12:26] &lt;mikko&gt;  autogen just refuses to run on mingq</div>
<div class="line">[Friday 12 November 2010] [07:12:29] &lt;mikko&gt;  mingw*</div>
<div class="line">[Friday 12 November 2010] [07:23:57] &lt;Everton&gt;        Hi, I try to comile the jzmq</div>
<div class="line">[Friday 12 November 2010] [07:24:03] &lt;Everton&gt;        but it returns Error    1       error C1083: Cannot open include file: &#8216;zmq.h&#8217;: No such file or directory       c:usersevertondesktopzeromq-jzmq-5a221a5srcutil.cpp       22      1       jzmq</div>
<div class="line">[Friday 12 November 2010] [07:24:16] &lt;Everton&gt;        could some one help me?</div>
<div class="line">[Friday 12 November 2010] [07:24:29] &lt;mikko&gt;  Everton: open solution preferences</div>
<div class="line">[Friday 12 November 2010] [07:24:34] &lt;mikko&gt;  there should be additional include paths</div>
<div class="line">[Friday 12 November 2010] [07:24:49] &lt;mikko&gt;  add the path to zmq.h (which is where you have zeromq2/includes&#8217;</div>
<div class="line">[Friday 12 November 2010] [07:27:20] &lt;Everton&gt;        where is solucion preferences?</div>
<div class="line">[Friday 12 November 2010] [07:29:34] &lt;mikko&gt;  <a class="reference external" href="http://social.msdn.microsoft.com/Forums/en/vcgeneral/thread/a494abb8-3561-4ebe-9eb0-6f644a679862">http://social.msdn.microsoft.com/Forums/en/vcgeneral/thread/a494abb8-3561-4ebe-9eb0-6f644a679862</a></div>
<div class="line">[Friday 12 November 2010] [07:39:04] &lt;Everton&gt;        great...</div>
<div class="line">[Friday 12 November 2010] [07:39:17] &lt;Everton&gt;        now is appearing</div>
<div class="line">[Friday 12 November 2010] [07:39:33] &lt;Everton&gt;        that jni.h can not found</div>
<div class="line">[Friday 12 November 2010] [07:39:38] &lt;Everton&gt;        where is it?</div>
<div class="line">[Friday 12 November 2010] [07:51:23] &lt;mikko&gt;  jdk</div>
<div class="line">[Friday 12 November 2010] [07:55:48] &lt;kobus&gt;  mikko: where does the configure script in the released version of zeromq come from, was it generated on Linux?</div>
<div class="line">[Friday 12 November 2010] [07:56:58] &lt;Everton&gt;        thanks...</div>
<div class="line">[Friday 12 November 2010] [07:57:27] &lt;Everton&gt;        The new error, now is: Error    3       error LNK1104: cannot open file &#8216;libzmq.lib&#8217;    C:UsersEvertonDesktopzeromq-jzmq-5a221a5buildsmsvcjzmqLINK      jzmq</div>
<div class="line">[Friday 12 November 2010] [07:57:46] &lt;Everton&gt;        I have this file (libzmq.lib)</div>
<div class="line">[Friday 12 November 2010] [07:58:07] &lt;Everton&gt;        in the folder windowssystem32</div>
<div class="line">[Friday 12 November 2010] [07:58:32] &lt;Everton&gt;        but I dont know where I indicade the path?</div>
<div class="line">[Friday 12 November 2010] [07:58:37] &lt;mikko&gt;  kobus: i reckon so</div>
<div class="line">[Friday 12 November 2010] [08:00:58] &lt;kobus&gt;  I hate Windows</div>
<div class="line">[Friday 12 November 2010] [08:08:33] &lt;Everton&gt;        sorry, in fact i have libzmq.dll and not .lib</div>
<div class="line">[Friday 12 November 2010] [08:08:53] &lt;Everton&gt;        where can I find the lib and where should I put this?</div>
<div class="line">[Friday 12 November 2010] [08:16:39] &lt;mikko&gt;  the lib should be under the zeromq2 directories</div>
<div class="line">[Friday 12 November 2010] [08:16:45] &lt;mikko&gt;  and you can add additional library paths</div>
<div class="line">[Friday 12 November 2010] [08:16:50] &lt;mikko&gt;  just like you added additional include paths</div>
<div class="line">[Friday 12 November 2010] [08:19:12] &lt;Everton&gt;        could be the dll? or need to be .lib??</div>
<div class="line">[Friday 12 November 2010] [08:21:39] &lt;mikko&gt;  needs lib</div>
<div class="line">[Friday 12 November 2010] [08:22:41] &lt;Everton&gt;        I download the lib or it is create when I compile the zmq2?</div>
<div class="line">[Friday 12 November 2010] [08:25:17] &lt;mikko&gt;  it is created when you compile</div>
<div class="line">[Friday 12 November 2010] [08:25:56] &lt;mikko&gt;  it should be in zeromq2lib</div>
<div class="line">[Friday 12 November 2010] [08:26:15] &lt;Everton&gt;        where I include an .obj file?</div>
<div class="line">[Friday 12 November 2010] [08:26:21] &lt;mikko&gt;  sorry?</div>
<div class="line">[Friday 12 November 2010] [08:26:39] &lt;Everton&gt;        I think I do not compile the zmq2 right</div>
<div class="line">[Friday 12 November 2010] [08:26:52] &lt;Everton&gt;        so I do again and appear:</div>
<div class="line">[Friday 12 November 2010] [08:27:02] &lt;Everton&gt;        Error   3       error LNK2019: unresolved external symbol __imp__zmq_device referenced in function &#8220;void __cdecl zmq::device(int,void <a href="#id29"><span class="problematic" id="id30">*</span></a>,void <a href="#id31"><span class="problematic" id="id32">*</span></a>)&#8221; (?device&#64;zmq&#64;&#64;YAXHPAX0&#64;Z)      C:UsersEvertonDesktopzeromq-2.0.10buildsmsvczmq_streamerzmq_streamer.obj        zmq_streamer</div>
<div class="line">[Friday 12 November 2010] [08:27:40] &lt;Everton&gt;        so I think I need to LINK zmq_streamer.obj, right?</div>
<div class="line">[Friday 12 November 2010] [08:27:45] &lt;Guthur&gt; why can&#8217;t the dll be used?</div>
<div class="line">[Friday 12 November 2010] [08:28:17] &lt;Everton&gt;        I dont know...</div>
<div class="line">[Friday 12 November 2010] [08:28:27] &lt;mikko&gt;  Guthur: afaik in windows you use import libraries for linking</div>
<div class="line">[Friday 12 November 2010] [08:28:31] &lt;mikko&gt;  (.lib files)</div>
<div class="line">[Friday 12 November 2010] [08:28:42] &lt;mikko&gt;  but i am not an expert of that platform</div>
<div class="line">[Friday 12 November 2010] [08:29:01] &lt;Guthur&gt; neither here, but I think the jzmq can use the dll</div>
<div class="line">[Friday 12 November 2010] [08:29:13] &lt;Guthur&gt; I&#8217;m pretty sure I did when I built it</div>
<div class="line">[Friday 12 November 2010] [08:29:44] &lt;mikko&gt;  .dll is for the runtime</div>
<div class="line">[Friday 12 November 2010] [08:29:49] &lt;mikko&gt;  and .lib is for linking</div>
<div class="line">[Friday 12 November 2010] [08:30:06] &lt;Guthur&gt; But you should be able to dynamicly link</div>
<div class="line">[Friday 12 November 2010] [08:30:10] &lt;Guthur&gt; thats what dll is for</div>
<div class="line">[Friday 12 November 2010] [08:30:16] &lt;Guthur&gt; dynamic link library</div>
<div class="line">[Friday 12 November 2010] [08:31:05] &lt;mikko&gt;  Linking to dynamic libraries is usually handled by linking to an import library when building or linking to create an executable file. The created executable then contains an import address table (IAT) by which all DLL function calls are referenced (each referenced DLL function contains its own entry in the IAT). At run-time, the IAT is filled with appropriate addresses that point directly to a function in the separately-loaded DLL.</div>
<div class="line">[Friday 12 November 2010] [08:31:12] &lt;mikko&gt;  that is from <a class="reference external" href="http://en.wikipedia.org/wiki/Dynamic-link_library">http://en.wikipedia.org/wiki/Dynamic-link_library</a></div>
<div class="line">[Friday 12 November 2010] [08:31:30] &lt;Everton&gt;        however, where could I LINK the zmq_streamer.obj</div>
<div class="line">[Friday 12 November 2010] [08:32:03] &lt;Guthur&gt; I&#8217;m not at home at he moment unfortunately, need my tools to check, hehe</div>
<div class="line">[Friday 12 November 2010] [08:32:26] &lt;Everton&gt;        hehe</div>
<div class="line">[Friday 12 November 2010] [08:32:32] &lt;Everton&gt;        alrigth</div>
<div class="line">[Friday 12 November 2010] [08:32:39] &lt;Everton&gt;        mikko, you know?</div>
<div class="line">[Friday 12 November 2010] [08:32:59] &lt;mikko&gt;  Everton: try cleaning the solution and rebuilding</div>
<div class="line">[Friday 12 November 2010] [08:33:08] &lt;mikko&gt;  the msvc templates should work out of the box</div>
<div class="line">[Friday 12 November 2010] [08:33:24] &lt;Everton&gt;        I have some Options here:Executable directories</div>
<div class="line">[Friday 12 November 2010] [08:33:29] &lt;Everton&gt;        Include directories</div>
<div class="line">[Friday 12 November 2010] [08:33:37] &lt;Everton&gt;        Reference directories</div>
<div class="line">[Friday 12 November 2010] [08:33:41] &lt;mikko&gt;  you shouldn&#8217;t edit the options on the libzmq build</div>
<div class="line">[Friday 12 November 2010] [08:33:46] &lt;mikko&gt;  there should be no need to do that</div>
<div class="line">[Friday 12 November 2010] [08:33:49] &lt;Everton&gt;        Library directories</div>
<div class="line">[Friday 12 November 2010] [08:34:15] &lt;Everton&gt;        really?</div>
<div class="line">[Friday 12 November 2010] [08:34:21] &lt;mikko&gt;  yes</div>
<div class="line">[Friday 12 November 2010] [08:34:31] &lt;Everton&gt;        I already hava set the include directories</div>
<div class="line">[Friday 12 November 2010] [08:34:33] &lt;mikko&gt;  only on jzmq as that needs to know where libzmq is located in</div>
<div class="line">[Friday 12 November 2010] [08:35:04] &lt;Everton&gt;        but my zmq  cant compile</div>
<div class="line">[Friday 12 November 2010] [08:36:22] &lt;mikko&gt;  have you edited the zmq solution settings?</div>
<div class="line">[Friday 12 November 2010] [08:36:47] &lt;Everton&gt;        no</div>
<div class="line">[Friday 12 November 2010] [08:36:53] &lt;Everton&gt;        where?</div>
<div class="line">[Friday 12 November 2010] [08:38:12] &lt;mikko&gt;  where what?</div>
<div class="line">[Friday 12 November 2010] [08:38:29] &lt;CIA-20&gt; zeromq2: 03Marc Rossi 07maint * rf7123de 10/ (AUTHORS src/socket_base.cpp):</div>
<div class="line">[Friday 12 November 2010] [08:38:29] &lt;CIA-20&gt; zeromq2: Fix socket_t::recv() hang scenario where initial call to process_commands() eats signal</div>
<div class="line">[Friday 12 November 2010] [08:38:29] &lt;CIA-20&gt; zeromq2: Added block boolean var to second process_commands() invocation for blocking sockets</div>
<div class="line">[Friday 12 November 2010] [08:38:29] &lt;CIA-20&gt; zeromq2: instead of always using true. This prevents the process_commands() call from hanging</div>
<div class="line">[Friday 12 November 2010] [08:38:29] &lt;CIA-20&gt; zeromq2: when a message is received with an empty queue after the call to xrecv() but</div>
<div class="line">[Friday 12 November 2010] [08:38:29] &lt;CIA-20&gt; zeromq2: prior to the initial call to process_commands() invoked when ++ticks == inbound_poll_rate.</div>
<div class="line">[Friday 12 November 2010] [08:38:30] &lt;CIA-20&gt; zeromq2: Signed-off-by: Marc Rossi &lt;<a class="reference external" href="mailto:mrossi19&#37;&#52;&#48;gmail&#46;com">mrossi19<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/cMWLFe">http://bit.ly/cMWLFe</a></div>
<div class="line">[Friday 12 November 2010] [08:38:53] &lt;Everton&gt;        In 10 minutes I come back, my teachear needs to close the class, so I will go home... 10 minutes I come back</div>
<div class="line">[Friday 12 November 2010] [08:39:01] &lt;mikko&gt;  ok</div>
<div class="line">[Friday 12 November 2010] [08:47:03] &lt;CIA-20&gt; zeromq2: 03Marc Rossi 07master * rf7123de 10/ (AUTHORS src/socket_base.cpp):</div>
<div class="line">[Friday 12 November 2010] [08:47:03] &lt;CIA-20&gt; zeromq2: Fix socket_t::recv() hang scenario where initial call to process_commands() eats signal</div>
<div class="line">[Friday 12 November 2010] [08:47:03] &lt;CIA-20&gt; zeromq2: Added block boolean var to second process_commands() invocation for blocking sockets</div>
<div class="line">[Friday 12 November 2010] [08:47:03] &lt;CIA-20&gt; zeromq2: instead of always using true. This prevents the process_commands() call from hanging</div>
<div class="line">[Friday 12 November 2010] [08:47:03] &lt;CIA-20&gt; zeromq2: when a message is received with an empty queue after the call to xrecv() but</div>
<div class="line">[Friday 12 November 2010] [08:47:03] &lt;CIA-20&gt; zeromq2: prior to the initial call to process_commands() invoked when ++ticks == inbound_poll_rate.</div>
<div class="line">[Friday 12 November 2010] [08:47:04] &lt;CIA-20&gt; zeromq2: Signed-off-by: Marc Rossi &lt;<a class="reference external" href="mailto:mrossi19&#37;&#52;&#48;gmail&#46;com">mrossi19<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/cMWLFe">http://bit.ly/cMWLFe</a></div>
<div class="line">[Friday 12 November 2010] [08:47:05] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r8abe673 10/ (AUTHORS src/socket_base.cpp):</div>
<div class="line">[Friday 12 November 2010] [08:47:05] &lt;CIA-20&gt; zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Friday 12 November 2010] [08:47:06] &lt;CIA-20&gt; zeromq2: * maint:</div>
<div class="line">[Friday 12 November 2010] [08:47:06] &lt;CIA-20&gt; zeromq2:  Fix socket_t::recv() hang scenario where initial call to process_commands() eats signal</div>
<div class="line">[Friday 12 November 2010] [08:47:07] &lt;CIA-20&gt; zeromq2: Conflicts:</div>
<div class="line">[Friday 12 November 2010] [08:47:07] &lt;CIA-20&gt; zeromq2:  src/socket_base.cpp - <a class="reference external" href="http://bit.ly/aituhH">http://bit.ly/aituhH</a></div>
<div class="line">[Friday 12 November 2010] [08:56:21] &lt;Everton&gt;        Hi, Im back</div>
<div class="line">[Friday 12 November 2010] [08:56:47] &lt;Everton&gt;        mikko, I download the link that you pass me...</div>
<div class="line">[Friday 12 November 2010] [08:57:20] &lt;mikko&gt;  Everton: which one of them?</div>
<div class="line">[Friday 12 November 2010] [08:57:29] &lt;mikko&gt;  the package for windows?</div>
<div class="line">[Friday 12 November 2010] [08:58:44] &lt;Everton&gt;        you pass to me the link:</div>
<div class="line">[Friday 12 November 2010] [08:58:46] &lt;Everton&gt;        <a class="reference external" href="https://github.com/zeromq/zeromq2/commit/f7123de9434a96794e6a7cd83b398ceb18c9de8b">https://github.com/zeromq/zeromq2/commit/f7123de9434a96794e6a7cd83b398ceb18c9de8b</a></div>
<div class="line">[Friday 12 November 2010] [08:58:59] &lt;Everton&gt;        is this for windows?</div>
<div class="line">[Friday 12 November 2010] [08:59:49] &lt;mikko&gt;  Everton: i haven&#8217;t passed that link to you</div>
<div class="line">[Friday 12 November 2010] [08:59:53] &lt;mikko&gt;  im quite positive</div>
<div class="line">[Friday 12 November 2010] [09:00:17] &lt;Everton&gt;        so ok...</div>
<div class="line">[Friday 12 November 2010] [09:00:22] &lt;Everton&gt;        and now?</div>
<div class="line">[Friday 12 November 2010] [09:01:36] &lt;mikko&gt;  just download the package, follow the instructions</div>
<div class="line">[Friday 12 November 2010] [09:01:43] &lt;mikko&gt;  didnt you get it built already?</div>
<div class="line">[Friday 12 November 2010] [09:01:49] &lt;mikko&gt;  i gotta go to a meeting, back in a whil</div>
<div class="line">[Friday 12 November 2010] [09:01:50] &lt;mikko&gt;  e</div>
<div class="line">[Friday 12 November 2010] [09:03:44] &lt;sustrik&gt;        hi mikko!</div>
<div class="line">[Friday 12 November 2010] [09:03:48] &lt;Everton&gt;        ok</div>
<div class="line">[Friday 12 November 2010] [09:04:00] &lt;sustrik&gt;        the patch you&#8217;ve sent, is it for maint or master?</div>
<div class="line">[Friday 12 November 2010] [09:32:56] &lt;Everton&gt;        Mikko, I compille the zmq2, without errors</div>
<div class="line">[Friday 12 November 2010] [09:33:16] &lt;Everton&gt;        but it doesnt create the lib</div>
<div class="line">[Friday 12 November 2010] [10:59:18] &lt;mikko&gt;  sustrik: master</div>
<div class="line">[Friday 12 November 2010] [11:01:32] &lt;mikko&gt;  sustrik: found another issue</div>
<div class="line">[Friday 12 November 2010] [11:08:04] &lt;sustrik&gt;        mikko: what issue?</div>
<div class="line">[Friday 12 November 2010] [11:09:37] &lt;mikko&gt;  mingw32 builds</div>
<div class="line">[Friday 12 November 2010] [11:09:59] &lt;mikko&gt;  the issue is with __int64 offset = _lseeki64 (fd, write_buf_start_addr, SEEK_SET);</div>
<div class="line">[Friday 12 November 2010] [11:10:02] &lt;mikko&gt;  it seems</div>
<div class="line">[Friday 12 November 2010] [11:10:10] &lt;mikko&gt;  __int64 being defined as &#8216;long long&#8217;</div>
<div class="line">[Friday 12 November 2010] [11:10:30] &lt;mikko&gt;  and C++ -pedantic -Werror complains about ISO C++ 1998 doesn&#8217;t have long long type</div>
<div class="line">[Friday 12 November 2010] [11:10:33] &lt;mikko&gt;  and errors out</div>
<div class="line">[Friday 12 November 2010] [11:10:34] &lt;Steve-o&gt;        the &#8220;-Wno-long-long&#8221; issue again?</div>
<div class="line">[Friday 12 November 2010] [11:10:40] &lt;mikko&gt;  Steve-o: different one</div>
<div class="line">[Friday 12 November 2010] [11:10:44] &lt;sustrik&gt;        presumably</div>
<div class="line">[Friday 12 November 2010] [11:10:47] &lt;Steve-o&gt;        this has been on the list twice before</div>
<div class="line">[Friday 12 November 2010] [11:10:56] &lt;mikko&gt;  Steve-o: for mingw32 ?</div>
<div class="line">[Friday 12 November 2010] [11:11:08] &lt;Steve-o&gt;        pass, certainly something with int64</div>
<div class="line">[Friday 12 November 2010] [11:11:29] &lt;sustrik&gt;        what&#8217;s the problem exactly?</div>
<div class="line">[Friday 12 November 2010] [11:11:35] &lt;mikko&gt;  yeah, on windows __int64 looks like to be &#8216;long long&#8217;</div>
<div class="line">[Friday 12 November 2010] [11:11:47] &lt;mikko&gt;  sustrik: <a class="reference external" href="http://pastebin.com/uMTyvS2J">http://pastebin.com/uMTyvS2J</a></div>
<div class="line">[Friday 12 November 2010] [11:11:49] &lt;sustrik&gt;        win being incompaible with ISO C++?</div>
<div class="line">[Friday 12 November 2010] [11:11:50] &lt;mikko&gt;  the problem is that</div>
<div class="line">[Friday 12 November 2010] [11:11:52] &lt;Steve-o&gt;        C++ 2003 doesn&#8217;t support int64</div>
<div class="line">[Friday 12 November 2010] [11:12:05] &lt;mikko&gt;  with maint version</div>
<div class="line">[Friday 12 November 2010] [11:12:07] &lt;Steve-o&gt;        but all the compilers do</div>
<div class="line">[Friday 12 November 2010] [11:12:29] &lt;mikko&gt;  but the issue comes from -Werror -pedantic</div>
<div class="line">[Friday 12 November 2010] [11:12:39] &lt;mikko&gt;  as this causes a warning and fails the build</div>
<div class="line">[Friday 12 November 2010] [11:13:26] &lt;Steve-o&gt;        which is why ZMQ includes &#8220;-Wno-long-long&#8221; for PGM as I use int64 &amp; uint64 everywhere</div>
<div class="line">[Friday 12 November 2010] [11:13:39] &lt;mikko&gt;  but isnt pgm compiled as C?</div>
<div class="line">[Friday 12 November 2010] [11:13:46] &lt;Steve-o&gt;        but you link with C++</div>
<div class="line">[Friday 12 November 2010] [11:13:58] &lt;Steve-o&gt;        as in pgm_socket.cpp, etc</div>
<div class="line">[Friday 12 November 2010] [11:14:24] &lt;mikko&gt;  but if it&#8217;s extern C linkage does the long long issue still creep in?</div>
<div class="line">[Friday 12 November 2010] [11:14:55] &lt;Steve-o&gt;        data structures include long longs, such as timestamps</div>
<div class="line">[Friday 12 November 2010] [11:15:19] &lt;sustrik&gt;        i see</div>
<div class="line">[Friday 12 November 2010] [11:16:30] &lt;sustrik&gt;        so, given 0MQ uses -Wno-long-long option</div>
<div class="line">[Friday 12 November 2010] [11:16:36] &lt;sustrik&gt;        why do we see the error?</div>
<div class="line">[Friday 12 November 2010] [11:16:57] &lt;Steve-o&gt;        I think it&#8217;s only for the PGM compile part, for the rest of the code it&#8217;s not pulled in</div>
<div class="line">[Friday 12 November 2010] [11:17:04] &lt;mikko&gt;  sustrik: it uses it if PGM ext is enabled</div>
<div class="line">[Friday 12 November 2010] [11:17:32] &lt;sustrik&gt;        for the whole build?</div>
<div class="line">[Friday 12 November 2010] [11:18:18] &lt;Steve-o&gt;        Does this also happen with MinGw-w64?  They are finally fixing a lot of these issues.</div>
<div class="line">[Friday 12 November 2010] [11:18:29] &lt;sustrik&gt;        looking at the pasted error, it has nothing to do with openpgm</div>
<div class="line">[Friday 12 November 2010] [11:18:34] &lt;Steve-o&gt;        LIBZMQ_EXTRA_CXXFLAGS=&#8221;${LIBZMQ_EXTRA_CXXFLAGS} -Wno-long-long &#8220;</div>
<div class="line">[Friday 12 November 2010] [11:18:40] &lt;sustrik&gt;        it&#8217;s in msg_store_t</div>
<div class="line">[Friday 12 November 2010] [11:19:29] &lt;mikko&gt;  Steve-o: mingw64 is not regarded in any way</div>
<div class="line">[Friday 12 November 2010] [11:20:00] &lt;mikko&gt;  i could take a couple of iterations on the autoconf stuff</div>
<div class="line">[Friday 12 November 2010] [11:20:10] &lt;mikko&gt;  i started already by splitting some stuff into macros</div>
<div class="line">[Friday 12 November 2010] [11:20:13] &lt;Steve-o&gt;        mikko: I&#8217;m following progress as they are definitely breaking stuff compared with MinGW32</div>
<div class="line">[Friday 12 November 2010] [11:20:47] &lt;mikko&gt;  <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/configure.in#L187">https://github.com/zeromq/zeromq2/blob/master/configure.in#L187</a></div>
<div class="line">[Friday 12 November 2010] [11:20:50] &lt;mikko&gt;  currently we do that</div>
<div class="line">[Friday 12 November 2010] [11:21:38] &lt;sustrik&gt;        so, the above problem looks IMO like this:</div>
<div class="line">[Friday 12 November 2010] [11:21:54] &lt;sustrik&gt;        the line in question uses __int64</div>
<div class="line">[Friday 12 November 2010] [11:22:05] &lt;sustrik&gt;        which in not a long long on MSVC</div>
<div class="line">[Friday 12 November 2010] [11:22:12] &lt;sustrik&gt;        rather an intrinsic type</div>
<div class="line">[Friday 12 November 2010] [11:22:25] &lt;sustrik&gt;        however, it looks like mingw just typedefs it to long long</div>
<div class="line">[Friday 12 November 2010] [11:22:32] &lt;sustrik&gt;        which causes the warning</div>
<div class="line">[Friday 12 November 2010] [11:23:15] &lt;sustrik&gt;        a question: do we have a POSIX-y stdint.h when compiling with MinGW?</div>
<div class="line">[Friday 12 November 2010] [11:23:39] &lt;sustrik&gt;        if so, we can use int64_t instead of __int64</div>
<div class="line">[Friday 12 November 2010] [11:23:54] &lt;Steve-o&gt;        is MinGW&#8217;s stdint broken then?</div>
<div class="line">[Friday 12 November 2010] [11:24:03] &lt;mikko&gt;  we got stdint.hpp</div>
<div class="line">[Friday 12 November 2010] [11:24:10] &lt;mikko&gt;  let me run a build</div>
<div class="line">[Friday 12 November 2010] [11:24:15] &lt;sustrik&gt;        the line in question looks like this:</div>
<div class="line">[Friday 12 November 2010] [11:24:15] &lt;mikko&gt;  it should report during configure</div>
<div class="line">[Friday 12 November 2010] [11:24:21] &lt;sustrik&gt;        __int64 offset = _lseeki64 (fd, pos, SEEK_SET);</div>
<div class="line">[Friday 12 November 2010] [11:24:30] &lt;sustrik&gt;        which works ok with MSVC</div>
<div class="line">[Friday 12 November 2010] [11:24:38] &lt;sustrik&gt;        but not with mingw afaiu</div>
<div class="line">[Friday 12 November 2010] [11:24:40] &lt;mikko&gt;  but is MSVC pedantic?</div>
<div class="line">[Friday 12 November 2010] [11:24:58] &lt;sustrik&gt;        msvc doesn&#8217;t have the notion of pedantic afaik</div>
<div class="line">[Friday 12 November 2010] [11:25:06] &lt;Steve-o&gt;        tends to be more pedantic in x64 mode</div>
<div class="line">[Friday 12 November 2010] [11:25:24] &lt;sustrik&gt;        in any case the problem exists only for mingw</div>
<div class="line">[Friday 12 November 2010] [11:25:44] &lt;sustrik&gt;        so maybe just chaning this line:</div>
<div class="line">[Friday 12 November 2010] [11:25:51] &lt;sustrik&gt;        #ifdef ZMQ_HAVE_WINDOWS</div>
<div class="line">[Friday 12 November 2010] [11:25:51] &lt;sustrik&gt;                __int64 offset = _lseeki64 (fd, pos, SEEK_SET);</div>
<div class="line">[Friday 12 November 2010] [11:25:51] &lt;sustrik&gt;        #else</div>
<div class="line">[Friday 12 November 2010] [11:25:53] &lt;sustrik&gt;        into:</div>
<div class="line">[Friday 12 November 2010] [11:25:53] &lt;mikko&gt;  possibly cygwin as well (?)</div>
<div class="line">[Friday 12 November 2010] [11:26:02] &lt;sustrik&gt;        #idfed _MSC_VER</div>
<div class="line">[Friday 12 November 2010] [11:26:05] &lt;sustrik&gt;        etc.</div>
<div class="line">[Friday 12 November 2010] [11:26:09] &lt;sustrik&gt;        would help</div>
<div class="line">[Friday 12 November 2010] [11:26:11] &lt;sustrik&gt;        no?</div>
<div class="line">[Friday 12 November 2010] [11:27:21] &lt;Steve-o&gt;        FYI it looks like MinGW-w64 actually fixes this problem,</div>
<div class="line">[Friday 12 November 2010] [11:27:49] &lt;sustrik&gt;        Steve-o: ack</div>
<div class="line">[Friday 12 November 2010] [11:29:04] &lt;mikko&gt;  should we check for &#8220;mingw&#8221; rather than &#8220;mingw32&#8221; ?</div>
<div class="line">[Friday 12 November 2010] [11:31:14] &lt;Steve-o&gt;        mingw32 is the old name many distros still use, it renamed for x64 support</div>
<div class="line">[Friday 12 November 2010] [11:32:11] &lt;sustrik&gt;        mikko, Steve-o: btw, what about the mikko&#8217;s patch on the mailing list?</div>
<div class="line">[Friday 12 November 2010] [11:32:16] &lt;sustrik&gt;        should i apply it?</div>
<div class="line">[Friday 12 November 2010] [11:32:59] &lt;Steve-o&gt;        Isn&#8217;t Mato still looking after autoconf?</div>
<div class="line">[Friday 12 November 2010] [11:33:07] &lt;sustrik&gt;        he should</div>
<div class="line">[Friday 12 November 2010] [11:33:19] &lt;sustrik&gt;        bet he&#8217;s rather busy right now</div>
<div class="line">[Friday 12 November 2010] [11:33:24] &lt;sustrik&gt;        but</div>
<div class="line">[Friday 12 November 2010] [11:33:47] &lt;Steve-o&gt;        I was also wondering if ZMQ works on any platform without a c99 compiler</div>
<div class="line">[Friday 12 November 2010] [11:33:59] &lt;Steve-o&gt;        otherwise go for it</div>
<div class="line">[Friday 12 November 2010] [11:34:13] &lt;sustrik&gt;        no idea</div>
<div class="line">[Friday 12 November 2010] [11:34:18] &lt;sustrik&gt;        but it&#8217;s unlikely imo</div>
<div class="line">[Friday 12 November 2010] [11:34:34] &lt;mikko&gt;  Steve-o: it&#8217;s only for C compiler</div>
<div class="line">[Friday 12 November 2010] [11:34:39] &lt;mikko&gt;  which is used just for PGM</div>
<div class="line">[Friday 12 November 2010] [11:34:48] &lt;mikko&gt;  C++ compiler for rest of the zeromq</div>
<div class="line">[Friday 12 November 2010] [11:34:55] &lt;Steve-o&gt;        Would configure fail though if no c99 existed?</div>
<div class="line">[Friday 12 November 2010] [11:34:57] &lt;sustrik&gt;        right, i think it should be safe</div>
<div class="line">[Friday 12 November 2010] [11:35:14] &lt;mikko&gt;  Steve-o: let me check the macro</div>
<div class="line">[Friday 12 November 2010] [11:35:19] &lt;sustrik&gt;        if you are on very exotic platform it&#8217;s not likely you&#8217;ll be able to compile the whole thing anyway</div>
<div class="line">[Friday 12 November 2010] [11:35:25] &lt;Steve-o&gt;        :)</div>
<div class="line">[Friday 12 November 2010] [11:36:10] &lt;mikko&gt;  it might be possible to move AC_PROG_CC_C99 inside the PGM checks</div>
<div class="line">[Friday 12 November 2010] [11:36:25] &lt;mikko&gt;  i reckon it might be a bit cleaner to break down the build a bit</div>
<div class="line">[Friday 12 November 2010] [11:37:43] &lt;mikko&gt;  Steve-o: After calling this macro you can check whether the C compiler has been set to accept C99; if not, the shell variable ac_cv_prog_cc_c99 is set to no.</div>
<div class="line">[Friday 12 November 2010] [11:38:09] &lt;Steve-o&gt;        ok, no problem then</div>
<div class="line">[Friday 12 November 2010] [11:38:14] &lt;mikko&gt;  so additionally there should be a check inside PGM ext saying that things will fail due to lack of c99 compiler</div>
<div class="line">[Friday 12 November 2010] [11:40:53] &lt;Steve-o&gt;        ok, just tried to build a master snapshot with x86_64-w64-mingw32-g++ and it crapped out on void zmq::swap_t::fill_buf(char*, int64_t), it is looking for C++ 98 not even 2003, odd.</div>
<div class="line">[Friday 12 November 2010] [11:42:19] &lt;mikko&gt;  which g++ does it ship with?</div>
<div class="line">[Friday 12 November 2010] [11:42:48] &lt;Steve-o&gt;        This is 4.4.1-1a, I think they&#8217;re a bit ahead now</div>
<div class="line">[Friday 12 November 2010] [11:42:53] &lt;mikko&gt;  mine is 4.5.0</div>
<div class="line">[Friday 12 November 2010] [11:43:20] &lt;Steve-o&gt;        I think I was trying to match whatever GLib team were using</div>
<div class="line">[Friday 12 November 2010] [11:44:07] &lt;mikko&gt;  there seems to be just AC_PROG_CXX macro for autoconf</div>
<div class="line">[Friday 12 November 2010] [11:46:17] &lt;Steve-o&gt;        Ubuntu 10.10 ships with 4.4.4 I&#8217;m guessing as the w64 package is tagged with a repo number</div>
<div class="line">[Friday 12 November 2010] [11:47:14] &lt;sustrik&gt;        Steve-o, mikko: if you reach any conclusion about the patch, please let me know via the ML</div>
<div class="line">[Friday 12 November 2010] [11:49:15] &lt;Everton&gt;        mikko, are you there?</div>
<div class="line">[Friday 12 November 2010] [11:49:35] &lt;Steve-o&gt;        mikko: I would just add the -Wno-long-long to any MinGW compiler until they fix it.</div>
<div class="line">[Friday 12 November 2010] [11:50:37] &lt;mikko&gt;  Everton: yes</div>
<div class="line">[Friday 12 November 2010] [11:50:52] &lt;mikko&gt;  Steve-o: ok</div>
<div class="line">[Friday 12 November 2010] [11:51:07] &lt;mikko&gt;  Steve-o: are you ok with the patch on the ML?</div>
<div class="line">[Friday 12 November 2010] [11:51:15] &lt;mikko&gt;  that&#8217;s a good start as we get builds to succeed</div>
<div class="line">[Friday 12 November 2010] [11:51:37] &lt;mikko&gt;  i&#8217;m refactoring the autoconf parts a bit to try to make it a bit clearer what affects what</div>
<div class="line">[Friday 12 November 2010] [11:51:54] &lt;Steve-o&gt;        Sure, go for it.  ICC does attempt to mask as GCC as that has the wider code base</div>
<div class="line">[Friday 12 November 2010] [11:52:20] &lt;Steve-o&gt;        Nothing more retarded than adding a new compiler that is broken with all existing code</div>
<div class="line">[Friday 12 November 2010] [11:53:07] &lt;Everton&gt;        I can not make build until..</div>
<div class="line">[Friday 12 November 2010] [11:53:18] &lt;Everton&gt;        could you help me again?</div>
<div class="line">[Friday 12 November 2010] [11:54:58] &lt;Everton&gt;        in fact, I download again tha package for windows, and retry to build with Visual, in that time, it compile, but was not genereting the lib</div>
<div class="line">[Friday 12 November 2010] [11:55:56] &lt;Steve-o&gt;        Everton: errors?</div>
<div class="line">[Friday 12 November 2010] [11:56:14] &lt;Everton&gt;        no...</div>
<div class="line">[Friday 12 November 2010] [11:56:15] &lt;Everton&gt;        ========== Rebuild All: 8 succeeded, 0 failed, 0 skipped ==========</div>
<div class="line">[Friday 12 November 2010] [11:56:33] &lt;Everton&gt;        I recive this output</div>
<div class="line">[Friday 12 November 2010] [11:57:16] &lt;Steve-o&gt;        Are you looking in the lib/bin directory?</div>
<div class="line">[Friday 12 November 2010] [11:59:22] &lt;Steve-o&gt;        I found master a bit odd, libzmq.dll is built inside lib and you need to copy to bin to run the examples.</div>
<div class="line">[Friday 12 November 2010] [11:59:41] &lt;Everton&gt;        I was tring in the windows... where this folder stay?</div>
<div class="line">[Friday 12 November 2010] [12:00:03] &lt;Everton&gt;        I download the zipfile in the desktop</div>
<div class="line">[Friday 12 November 2010] [12:01:26] &lt;Steve-o&gt;        easiest way is to place libzmq.dll wherever your ZMQ executable resides</div>
<div class="line">[Friday 12 November 2010] [12:02:09] &lt;Steve-o&gt;        extract and build into c:zeromq or something easy to manage</div>
<div class="line">[Friday 12 November 2010] [12:02:58] &lt;Everton&gt;        I will do that now...</div>
<div class="line">[Friday 12 November 2010] [12:03:02] &lt;Everton&gt;        one moment...</div>
<div class="line">[Friday 12 November 2010] [12:10:59] &lt;Everton&gt;        All rigth</div>
<div class="line">[Friday 12 November 2010] [12:12:05] &lt;Everton&gt;        I have extract and build in C:/zeromq-2.1.10</div>
<div class="line">[Friday 12 November 2010] [12:12:51] &lt;Steve-o&gt;        open up the solution, build, and you should see C:/zeromq-2.1.10/lib/libzmq.dll</div>
<div class="line">[Friday 12 November 2010] [12:13:31] &lt;Everton&gt;        all rigth</div>
<div class="line">[Friday 12 November 2010] [12:13:35] &lt;Everton&gt;        I see that</div>
<div class="line">[Friday 12 November 2010] [12:14:15] &lt;Steve-o&gt;        copy into C:/zeromq-2.1.10/bin if you want to run the examples in there</div>
<div class="line">[Friday 12 November 2010] [12:16:44] &lt;Everton&gt;        could I copy to c:/windows/system32?</div>
<div class="line">[Friday 12 November 2010] [12:16:55] &lt;Everton&gt;        to run in any where?</div>
<div class="line">[Friday 12 November 2010] [12:19:24] &lt;Steve-o&gt;        that should work, but you will have to manage versioning</div>
<div class="line">[Friday 12 November 2010] [12:21:05] &lt;Everton&gt;        ok....soh lets try the easy way first</div>
<div class="line">[Friday 12 November 2010] [12:21:06] &lt;Steve-o&gt;        I think you can use PATH as equivalent of LD_LIBRARY_PATH on Windows, so you could alternatively add C:/zeromq-2.1.10/lib to the system PATH instead</div>
<div class="line">[Friday 12 November 2010] [12:21:40] &lt;Everton&gt;        I copyed the dll to folder zeromq-2.1.10/bin</div>
<div class="line">[Friday 12 November 2010] [12:21:48] &lt;Everton&gt;        and now?</div>
<div class="line">[Friday 12 November 2010] [12:22:23] &lt;Steve-o&gt;        add C:/zeromq-2.1.10/bin to the PATH environment variable?</div>
<div class="line">[Friday 12 November 2010] [12:24:34] &lt;Everton&gt;        all rigth...</div>
<div class="line">[Friday 12 November 2010] [12:27:45] &lt;Everton&gt;        and now?</div>
<div class="line">[Friday 12 November 2010] [12:28:14] &lt;Steve-o&gt;        aside of a reboot, you can run zmq apps anywhere.</div>
<div class="line">[Friday 12 November 2010] [12:28:44] &lt;Steve-o&gt;        anything else you are looking to do?</div>
<div class="line">[Friday 12 November 2010] [12:30:07] &lt;Everton&gt;        well, I could run a project i java now?</div>
<div class="line">[Friday 12 November 2010] [12:30:21] &lt;Everton&gt;        because this is my objective..</div>
<div class="line">[Friday 12 November 2010] [12:30:40] &lt;Steve-o&gt;        so you are looking to build the java binding</div>
<div class="line">[Friday 12 November 2010] [12:30:43] &lt;Steve-o&gt;        ok</div>
<div class="line">[Friday 12 November 2010] [12:31:28] &lt;Steve-o&gt;        i&#8217;ll have a look, honestly no idea though</div>
<div class="line">[Friday 12 November 2010] [12:34:09] &lt;Everton&gt;        you know where the libzmq.lib stay?</div>
<div class="line">[Friday 12 November 2010] [12:34:10] &lt;Steve-o&gt;        I guess you follow the instructions here, <a class="reference external" href="http://www.zeromq.org/bindings:java">http://www.zeromq.org/bindings:java</a></div>
<div class="line">[Friday 12 November 2010] [12:34:34] &lt;Steve-o&gt;        there is no static library</div>
<div class="line">[Friday 12 November 2010] [12:34:37] &lt;Steve-o&gt;        only dynamic library</div>
<div class="line">[Friday 12 November 2010] [12:35:00] &lt;Everton&gt;        I folow, but to build this binding I need of this lib</div>
<div class="line">[Friday 12 November 2010] [12:35:04] &lt;Everton&gt;        :/</div>
<div class="line">[Friday 12 November 2010] [12:35:09] &lt;Steve-o&gt;        hence the java command ends looking like this:  java -Djava.library.path=c:zeromq-2.1.10bin -classpath c:zeromq-2.1.10java;.</div>
<div class="line">[Friday 12 November 2010] [12:36:52] &lt;Steve-o&gt;        oh ok, this line, AdditionalDependencies=&#8221;libzmq.lib&#8221;</div>
<div class="line">[Friday 12 November 2010] [12:39:39] &lt;Everton&gt;        where is this line?</div>
<div class="line">[Friday 12 November 2010] [12:41:18] &lt;Steve-o&gt;        in the jmq project file</div>
<div class="line">[Friday 12 November 2010] [12:41:41] &lt;Steve-o&gt;        i mean jzmq project file</div>
<div class="line">[Friday 12 November 2010] [12:43:06] &lt;Everton&gt;        wait...</div>
<div class="line">[Friday 12 November 2010] [12:43:43] &lt;Steve-o&gt;        Looks like you need help from Gonzalo, I have no idea how to build the binding.</div>
<div class="line">[Friday 12 November 2010] [12:45:10] &lt;Everton&gt;        Who is Gonzalo?</div>
<div class="line">[Friday 12 November 2010] [12:46:02] &lt;Steve-o&gt;        He&#8217;s on the mailing list, it looks like he works on the Java binding</div>
<div class="line">[Friday 12 November 2010] [12:46:18] &lt;Everton&gt;        where is the folder of jmq project file</div>
<div class="line">[Friday 12 November 2010] [12:46:46] &lt;Steve-o&gt;        I&#8217;m looking here, <a class="reference external" href="https://github.com/zeromq/jzmq/blob/master/builds/msvc/jzmq/jzmq.vcproj">https://github.com/zeromq/jzmq/blob/master/builds/msvc/jzmq/jzmq.vcproj</a></div>
<div class="line">[Friday 12 November 2010] [12:47:49] &lt;Everton&gt;        How could I talk with Gonzalo?</div>
<div class="line">[Friday 12 November 2010] [12:48:35] &lt;Steve-o&gt;        post on the mailing list and ask for help building the Java binding for ZeroMQ master on Windows</div>
<div class="line">[Friday 12 November 2010] [12:48:51] &lt;Steve-o&gt;        then anyone can help you out</div>
<div class="line">[Friday 12 November 2010] [12:50:51] &lt;Everton&gt;        what is the email of mailing list?</div>
<div class="line">[Friday 12 November 2010] [12:51:17] &lt;Steve-o&gt;        <a class="reference external" href="http://www.zeromq.org/docs:mailing-lists">http://www.zeromq.org/docs:mailing-lists</a></div>
<div class="line">[Friday 12 November 2010] [12:51:39] &lt;Steve-o&gt;        you probably have to subscribe first in order to send, <a class="reference external" href="http://lists.zeromq.org/mailman/listinfo/zeromq-dev">http://lists.zeromq.org/mailman/listinfo/zeromq-dev</a></div>
<div class="line">[Friday 12 November 2010] [13:05:15] &lt;Everton&gt;        thanks steve</div>
<div class="line">[Friday 12 November 2010] [13:06:12] &lt;Everton&gt;        any one know where libzmq.lib is? or have it to send me??</div>
<div class="line">[Friday 12 November 2010] [13:18:39] &lt;janak&gt;  Hello guys, I am having an issue with PUBSUB weather example. I modified this example a bit to send and receive messages continuously. I am using one publisher and multiple subscriber to run this test. Once publisher stops and comes back online after 3 - 4 minutes, the memory usage of the publisher keeps on increasing. I am using C language for this.</div>
<div class="line">[Friday 12 November 2010] [13:20:57] &lt;Steve-o&gt;        Everton: checking an old build from master I see libzmq.lib also in the lib directory, it should be sitting next to libzmq.dll</div>
<div class="line">[Friday 12 November 2010] [13:25:32] &lt;Everton&gt;        Are you saying to donload an old version?</div>
<div class="line">[Friday 12 November 2010] [13:26:57] &lt;Steve-o&gt;        I have an archive of an old build from master and it had the lib file in it, so you should have one together with the dll</div>
<div class="line">[Friday 12 November 2010] [13:27:16] &lt;Steve-o&gt;        Do you have extensions disabled in File Explorer?</div>
<div class="line">[Friday 12 November 2010] [13:34:45] &lt;Guthur&gt; I think you should be able to change the additional dependencies in the linker options to a dll</div>
<div class="line">[Friday 12 November 2010] [13:34:53] &lt;Guthur&gt; in jzmq project</div>
<div class="line">[Friday 12 November 2010] [13:35:02] &lt;Guthur&gt; I&#8217;m just about to test it now</div>
<div class="line">[Friday 12 November 2010] [13:35:13] &lt;Guthur&gt; waiting for slow C++ compilers...</div>
<div class="line">[Friday 12 November 2010] [13:35:45] &lt;Everton&gt;        Do you have extensions disabled in File Explorer?? I do not understand...</div>
<div class="line">[Friday 12 November 2010] [13:36:12] &lt;Everton&gt;        could you send me your archive?</div>
<div class="line">[Friday 12 November 2010] [13:36:16] &lt;Guthur&gt; oh maybe not, sorry, ignore my previous</div>
<div class="line">[Friday 12 November 2010] [13:36:26] &lt;Steve-o&gt;        extensions like .lib and .dll are hidden by default in Windows, you need to reconfigure Explorer to show them</div>
<div class="line">[Friday 12 November 2010] [13:36:31] &lt;Everton&gt;        rsrsr</div>
<div class="line">[Friday 12 November 2010] [13:36:44] &lt;Everton&gt;        my is hidden</div>
<div class="line">[Friday 12 November 2010] [13:36:52] &lt;Everton&gt;        why? it is important?</div>
<div class="line">[Friday 12 November 2010] [13:37:33] &lt;Steve-o&gt;        unless by some magical circumstance it is hiding the .lib file you are looking for</div>
<div class="line">[Friday 12 November 2010] [13:38:13] &lt;Guthur&gt; I don&#8217;t think it is, because zeromq by default outputs a dll</div>
<div class="line">[Friday 12 November 2010] [13:38:42] &lt;Guthur&gt; I&#8217;m not sure why jzmq is suddenly looking for a lib, I didn&#8217;t have this trouble a month or so ago</div>
<div class="line">[Friday 12 November 2010] [13:38:43] &lt;Everton&gt;        yes,</div>
<div class="line">[Friday 12 November 2010] [13:38:48] &lt;Steve-o&gt;        but MSVC can create a shim .lib that loads the dll for you</div>
<div class="line">[Friday 12 November 2010] [13:39:09] &lt;Everton&gt;        I have the dll</div>
<div class="line">[Friday 12 November 2010] [13:39:13] &lt;Steve-o&gt;        it&#8217;s not actually a static version of the zmq library, that was discussed on the list recently, not so straight forward</div>
<div class="line">[Friday 12 November 2010] [13:39:55] &lt;Guthur&gt; Steve-o, Is this some special requirement of JNI?</div>
<div class="line">[Friday 12 November 2010] [13:40:44] &lt;Steve-o&gt;        normally you create a mini stub JNI library that interfaces your class/jar library with the real binary library</div>
<div class="line">[Friday 12 November 2010] [13:41:45] &lt;Steve-o&gt;        as in you cannot just interface with any library like you can with VB.net</div>
<div class="line">[Friday 12 November 2010] [13:43:25] &lt;Guthur&gt; It kind reinforces my opinion that Windows is a crappy dev environment</div>
<div class="line">[Friday 12 November 2010] [13:43:35] &lt;Guthur&gt; though it&#8217;s probably not windows fault</div>
<div class="line">[Friday 12 November 2010] [13:44:15] &lt;Steve-o&gt;        it&#8217;s Java, same issue on Unix</div>
<div class="line">[Friday 12 November 2010] [13:46:31] &lt;Steve-o&gt;        Everton: are you downloading the source zip from github?</div>
<div class="line">[Friday 12 November 2010] [13:49:14] &lt;Everton&gt;        yes</div>
<div class="line">[Friday 12 November 2010] [13:49:49] &lt;Everton&gt;        I download the a version of september now of jzmq qnd will try again</div>
<div class="line">[Friday 12 November 2010] [13:51:02] &lt;cremes&gt; janak: did anyone answer your pub/sub question?</div>
<div class="line">[Friday 12 November 2010] [13:51:29] &lt;Steve-o&gt;        This is why iMatix have subcriptions for Windows binary packages, a lot of hoops to jump through :-)</div>
<div class="line">[Friday 12 November 2010] [13:52:58] &lt;janak&gt;  cremes: Nope I am still waiting for answer</div>
<div class="line">[Friday 12 November 2010] [13:53:48] &lt;cremes&gt; janak: did you get the original, unmodified example to work properly?</div>
<div class="line">[Friday 12 November 2010] [13:53:59] &lt;Everton&gt;        I try and it does not work</div>
<div class="line">[Friday 12 November 2010] [13:54:34] &lt;janak&gt;  cremes: yes because publisher process ends after sending 1000 packets</div>
<div class="line">[Friday 12 November 2010] [13:54:52] &lt;janak&gt;  I only added while(1) around the sending component by publisher</div>
<div class="line">[Friday 12 November 2010] [13:55:14] &lt;Everton&gt;        I found a file on net libzmq.lib, so I downloaded and deploy in the folder c:/zeromq2.1.10/lib</div>
<div class="line">[Friday 12 November 2010] [13:55:35] &lt;Everton&gt;        so now I was reciving other error:</div>
<div class="line">[Friday 12 November 2010] [13:55:41] &lt;cremes&gt; janak: please pastie/gist the publisher code you are running</div>
<div class="line">[Friday 12 November 2010] [13:55:46] &lt;janak&gt;  cremes: #include &#8220;zhelpers.h&#8221;  int main () {     //  Prepare our context and publisher     void <em>context = zmq_init (1);     void *publisher = zmq_socket (context, ZMQ_PUB);     zmq_bind (publisher, &#8220;tcp://</em>:5556&#8221;);     zmq_bind (publisher, &#8220;ipc://weather.ipc&#8221;);      //  Initialize random number generator     srandom ((unsigned) time (NULL));     while (1) {         //  Get values that will fool the boss         int zipcode, temperature</div>
<div class="line">[Friday 12 November 2010] [13:55:55] &lt;Everton&gt;        Socket.obj</div>
<div class="line">[Friday 12 November 2010] [13:55:56] &lt;cremes&gt; janak: use pastie.org or gist.github.com</div>
<div class="line">[Friday 12 November 2010] [13:56:08] &lt;cremes&gt; pasting into the channel is not a good idea</div>
<div class="line">[Friday 12 November 2010] [13:56:30] &lt;janak&gt;  cremes: #include &#8220;zhelpers.h&#8221;  int main () {     //  Prepare our context and publisher     void <em>context = zmq_init (1);     void *publisher = zmq_socket (context, ZMQ_PUB);     zmq_bind (publisher, &#8220;tcp://</em>:5556&#8221;);     zmq_bind (publisher, &#8220;ipc://weather.ipc&#8221;);      //  Initialize random number generator     srandom ((unsigned) time (NULL));     while (1) {         //  Get values that will fool the boss         int zipcode, temperature</div>
<div class="line">[Friday 12 November 2010] [13:56:58] &lt;cremes&gt; janak: don&#8217;t do that; i can&#8217;t read the code</div>
<div class="line">[Friday 12 November 2010] [13:57:05] &lt;janak&gt;  cremes:https://gist.github.com/674511</div>
<div class="line">[Friday 12 November 2010] [13:57:05] &lt;cremes&gt; use pastie.org or gist.github.com</div>
<div class="line">[Friday 12 November 2010] [13:57:06] &lt;janak&gt;  sorry for that</div>
<div class="line">[Friday 12 November 2010] [13:58:54] &lt;cremes&gt; janak: i just compared that code to what is in the guide; it&#8217;s exactly the same</div>
<div class="line">[Friday 12 November 2010] [13:59:09] &lt;janak&gt;  it only has while(1) loop around the s_send</div>
<div class="line">[Friday 12 November 2010] [13:59:12] &lt;janak&gt;  thats all I added</div>
<div class="line">[Friday 12 November 2010] [13:59:37] &lt;cremes&gt; ok</div>
<div class="line">[Friday 12 November 2010] [14:01:17] &lt;janak&gt;  cremes: I have to rush for meeting I should be back in 30 minutes. Please feel free to contact me at <a class="reference external" href="mailto:janak_raja&#37;&#52;&#48;yahoo&#46;com">janak_raja<span>&#64;</span>yahoo<span>&#46;</span>com</a>. Thanks for your help</div>
<div class="line">[Friday 12 November 2010] [14:02:03] &lt;Everton&gt;        I have this obj, but it cant find</div>
<div class="line">[Friday 12 November 2010] [14:03:11] &lt;cremes&gt; janak: for one, make sure you capture the return code from s_send and check for a non-zero value</div>
<div class="line">[Friday 12 November 2010] [14:03:21] &lt;cremes&gt; it&#8217;s possible it is failing but you are ignoring the error</div>
<div class="line">[Friday 12 November 2010] [14:04:10] &lt;cremes&gt; also, it looks like the client exits after it receives 100 messages</div>
<div class="line">[Friday 12 November 2010] [14:04:37] &lt;cremes&gt; if that&#8217;s the case, then the PUB socket <em>should</em> drop the packets since there are no listeners</div>
<div class="line">[Friday 12 November 2010] [14:04:45] &lt;janak&gt;  yes I also modified client to accept it continuously</div>
<div class="line">[Friday 12 November 2010] [14:04:53] &lt;cremes&gt; but it sounds like it is queueing them up in memory (up to HWM which is infinite by default)</div>
<div class="line">[Friday 12 November 2010] [14:04:57] &lt;cremes&gt; ah, ok</div>
<div class="line">[Friday 12 November 2010] [14:05:12] &lt;cremes&gt; so make sure the return codes are all non-zero for the send/recv operations</div>
<div class="line">[Friday 12 November 2010] [14:05:30] &lt;janak&gt;  <a class="reference external" href="https://gist.github.com/674518">https://gist.github.com/674518</a></div>
<div class="line">[Friday 12 November 2010] [14:05:33] &lt;cremes&gt; you might also want to modify the publisher to use a HWM (high water mark)</div>
<div class="line">[Friday 12 November 2010] [14:06:12] &lt;janak&gt;  one thing I dont understand is this only happens when I have multiple subscribers</div>
<div class="line">[Friday 12 November 2010] [14:06:52] &lt;cremes&gt; odd... you should be able to connect dozens/hundreds/thousands of subscribers to the same publisher</div>
<div class="line">[Friday 12 November 2010] [14:07:10] &lt;cremes&gt; when you have 1+ subscribers, do any of them receive any messages?</div>
<div class="line">[Friday 12 November 2010] [14:07:59] &lt;janak&gt;  yes initially when everything is running all of them do receive messages, when I stop publisher / wait for 2 - 3 minutes / start publisher only 1 of the subscriber gets the packets</div>
<div class="line">[Friday 12 November 2010] [14:08:26] &lt;cremes&gt; oh oh oh... i see the problem</div>
<div class="line">[Friday 12 November 2010] [14:08:43] &lt;cremes&gt; the publisher is &#8220;binding&#8221; to the endpoint while the subscribers &#8220;connect&#8221; to it</div>
<div class="line">[Friday 12 November 2010] [14:08:57] &lt;cremes&gt; you can&#8217;t shut down the publisher and then restart it and expect things to reconnect</div>
<div class="line">[Friday 12 November 2010] [14:09:09] &lt;cremes&gt; whoever &#8220;binds&#8221; must be started <em>first</em></div>
<div class="line">[Friday 12 November 2010] [14:09:28] &lt;cremes&gt; if you need to have your publisher start/stop like this, put a FORWARDER device in the middle</div>
<div class="line">[Friday 12 November 2010] [14:09:45] &lt;janak&gt;  hmm interesting</div>
<div class="line">[Friday 12 November 2010] [14:09:57] &lt;cremes&gt; does that make sense or did i just talk over your head?</div>
<div class="line">[Friday 12 November 2010] [14:10:11] &lt;Everton&gt;        some one have the file jzmq.dll??</div>
<div class="line">[Friday 12 November 2010] [14:10:11] &lt;janak&gt;  I think it went over :)</div>
<div class="line">[Friday 12 November 2010] [14:10:28] &lt;cremes&gt; janak: ha, ok :)</div>
<div class="line">[Friday 12 November 2010] [14:10:30] &lt;cremes&gt; let&#8217;s try again</div>
<div class="line">[Friday 12 November 2010] [14:10:46] &lt;janak&gt;  in real production scenario what happens if publisher goes down for some reason and comes back online</div>
<div class="line">[Friday 12 November 2010] [14:10:52] &lt;cremes&gt; the publisher <em>creates</em> the endpoint by binding to it; so the publisher OWNS that endpoint</div>
<div class="line">[Friday 12 November 2010] [14:10:53] &lt;janak&gt;  ok</div>
<div class="line">[Friday 12 November 2010] [14:11:05] &lt;cremes&gt; if you shutdown the publisher, then the endpoint becomes invalid</div>
<div class="line">[Friday 12 November 2010] [14:11:35] &lt;janak&gt;  ok</div>
<div class="line">[Friday 12 November 2010] [14:11:36] &lt;cremes&gt; restarting the publisher creates a <em>new</em> endpoint at the same location, but the subscribers are still connected to the old, invalid one</div>
<div class="line">[Friday 12 November 2010] [14:11:45] &lt;cremes&gt; you would need to restart the subscribers</div>
<div class="line">[Friday 12 November 2010] [14:11:58] &lt;cremes&gt; now, to answer your question about production, the fix is to use a FORWARDER device</div>
<div class="line">[Friday 12 November 2010] [14:12:19] &lt;janak&gt;  ok</div>
<div class="line">[Friday 12 November 2010] [14:12:21] &lt;cremes&gt; the forwarder device binds (creates!) two endpoints that you can think of as incoming and outgoing</div>
<div class="line">[Friday 12 November 2010] [14:12:39] &lt;cremes&gt; the publisher <em>connects</em> to the incoming endpoint while the subscribers <em>connect</em> to the outgoing endpoint</div>
<div class="line">[Friday 12 November 2010] [14:13:01] &lt;cremes&gt; when you shutdown your publisher, the endpoint remains valid <em>because</em> the forwarder created it via bind</div>
<div class="line">[Friday 12 November 2010] [14:13:04] &lt;janak&gt;  do I get any error on subscriber s_recv call if publisher went down ?</div>
<div class="line">[Friday 12 November 2010] [14:13:15] &lt;cremes&gt; janak: i don&#8217;t think so</div>
<div class="line">[Friday 12 November 2010] [14:13:24] &lt;cremes&gt; it will just block forever</div>
<div class="line">[Friday 12 November 2010] [14:13:42] &lt;janak&gt;  in that case how do I trigger the restart of subscriber based on publisher went down ?</div>
<div class="line">[Friday 12 November 2010] [14:14:22] &lt;cremes&gt; janak: you do <em>not</em> need to restart the subscriber if you use a forwarder device</div>
<div class="line">[Friday 12 November 2010] [14:14:39] &lt;cremes&gt; the endpoints will all remain valid because the forwarder created them and we are assuming it has stayed up</div>
<div class="line">[Friday 12 November 2010] [14:16:00] &lt;cremes&gt; look up &#8220;forwarder&#8221; in the guide and read through its use-case</div>
<div class="line">[Friday 12 November 2010] [14:16:40] &lt;janak&gt;  ok .. is there a way to notify subscriber for publisher restart ?</div>
<div class="line">[Friday 12 November 2010] [14:17:59] &lt;cremes&gt; janak: yes, via another set of sockets specific to that information flow</div>
<div class="line">[Friday 12 November 2010] [14:18:07] &lt;janak&gt;  ok .. that makes sense</div>
<div class="line">[Friday 12 November 2010] [14:18:55] &lt;janak&gt;  I thought that when I use PUBSUB socket if publisher restarts, all the subscriber will get notified and they will do reconnect</div>
<div class="line">[Friday 12 November 2010] [14:19:18] &lt;cremes&gt; janak: where did you get that idea?</div>
<div class="line">[Friday 12 November 2010] [14:19:19] &lt;janak&gt;  but I guess I can implement that mechanism on a separate set of sockets</div>
<div class="line">[Friday 12 November 2010] [14:22:45] &lt;janak&gt;  cremes: this answers that why one of my subscriber is not getting the messages. But why did publisher keep these messages in memory, when publisher restarts and gets new endpoints, why does it keep the messages in queue for one of the subscriber ?</div>
<div class="line">[Friday 12 November 2010] [14:24:18] &lt;cremes&gt; janak: read the section on PUB sockets here: <a class="reference external" href="http://api.zeromq.org/zmq_socket.html">http://api.zeromq.org/zmq_socket.html</a></div>
<div class="line">[Friday 12 November 2010] [14:24:30] &lt;cremes&gt; it doesn&#8217;t start dropping packets until you hit the HWM</div>
<div class="line">[Friday 12 November 2010] [14:24:42] &lt;cremes&gt; by default the HWM is infinite so it will use all available RAM</div>
<div class="line">[Friday 12 November 2010] [14:24:58] &lt;cremes&gt; if you want it to drop packets sooner instead of queueing, set HWM to a lower value</div>
<div class="line">[Friday 12 November 2010] [14:25:26] &lt;janak&gt;  great thanks for your help cremes this helps me in understanding it much better thanks</div>
<div class="line">[Friday 12 November 2010] [14:25:34] &lt;cremes&gt; you are welcome</div>
<div class="line">[Friday 12 November 2010] [16:23:18] &lt;mikko&gt;  hmm</div>
<div class="line">[Friday 12 November 2010] [16:23:37] &lt;mikko&gt;  Steve-o: do you know why flags passed to pgm build are called &#8220;LIBZMQ_EXTRA_CXXFLAGS&#8221;</div>
<div class="line">[Friday 12 November 2010] [16:24:01] &lt;mikko&gt;  shouldnt they go in CFLAGS rather than CXXFLAGS</div>
<div class="line">[Friday 12 November 2010] [16:24:07] &lt;Steve-o&gt;        no idea</div>
<div class="line">[Friday 12 November 2010] [16:24:34] &lt;Steve-o&gt;        I believe they are additional flags for building 0mq and not libpgm</div>
<div class="line">[Friday 12 November 2010] [16:24:42] &lt;Steve-o&gt;        i.e. the -Wno-long-long</div>
<div class="line">[Friday 12 November 2010] [16:24:50] &lt;Steve-o&gt;        I don&#8217;t need it with c99</div>
<div class="line">[Friday 12 November 2010] [16:25:06] &lt;Steve-o&gt;        0mq needs it to build with pgm</div>
<div class="line">[Friday 12 November 2010] [16:25:51] &lt;mikko&gt;  i added icc -strict-ansi flag</div>
<div class="line">[Friday 12 November 2010] [16:25:57] &lt;mikko&gt;  pgm doesn&#8217;t build with it</div>
<div class="line">[Friday 12 November 2010] [16:26:20] &lt;mikko&gt;  <a class="reference external" href="https://gist.github.com/d105eac0be53049b800b">https://gist.github.com/d105eac0be53049b800b</a></div>
<div class="line">[Friday 12 November 2010] [16:26:55] &lt;Steve-o&gt;        lol, why doesn&#8217;t ICC like asm ?</div>
<div class="line">[Friday 12 November 2010] [16:27:24] &lt;Steve-o&gt;        I&#8217;m not sticking random underscores in front till it works</div>
<div class="line">[Friday 12 November 2010] [16:28:06] &lt;Steve-o&gt;        I know with GCC that std=c99 doesn&#8217;t work you must use std=gnu99 because strict ANSI is too annoying</div>
<div class="line">[Friday 12 November 2010] [16:28:35] &lt;mikko&gt;  i assume it expects __asm__</div>
<div class="line">[Friday 12 November 2010] [16:28:47] &lt;Steve-o&gt;        that&#8217;s retarded</div>
<div class="line">[Friday 12 November 2010] [16:29:32] &lt;Steve-o&gt;        Easier to use -Dasm=__asm__  to workaround that</div>
<div class="line">[Friday 12 November 2010] [16:29:35] &lt;mikko&gt;  <a class="reference external" href="http://www.slac.stanford.edu/comp/unix/package/intel_tools/icc/mergedProjects/intref_cls/linux/intref_data_align_ma_ia_linux_ia.htm">http://www.slac.stanford.edu/comp/unix/package/intel_tools/icc/mergedProjects/intref_cls/linux/intref_data_align_ma_ia_linux_ia.htm</a></div>
<div class="line">[Friday 12 November 2010] [16:31:02] &lt;Steve-o&gt;        Microsoft likes underscores too much, that&#8217;s nothing new</div>
<div class="line">[Friday 12 November 2010] [16:31:31] &lt;Steve-o&gt;        if you continue down that road you also see problems with volatile</div>
<div class="line">[Friday 12 November 2010] [16:32:48] &lt;Steve-o&gt;        when using the gcc compatibility flags does it like asm?</div>
<div class="line">[Friday 12 November 2010] [16:32:56] &lt;mikko&gt;  LIBZMQ_EXTRA_CXXFLAGS=&#8221;${LIBZMQ_EXTRA_CXXFLAGS} -strict-ansi -Dasm=__asm__ &#8220;</div>
<div class="line">[Friday 12 November 2010] [16:32:59] &lt;mikko&gt;  this builds ok</div>
<div class="line">[Friday 12 November 2010] [16:33:45] &lt;Steve-o&gt;        does -gcc-version=420 change interpretation of &#8220;asm&#8221;?</div>
<div class="line">[Friday 12 November 2010] [16:34:57] &lt;mikko&gt;  i can check that in a min</div>
<div class="line">[Friday 12 November 2010] [16:35:20] &lt;mikko&gt;  hmm, i wonder what happens if i turn off gcc emulation on icc</div>
<div class="line">[Friday 12 November 2010] [16:35:27] &lt;mikko&gt;  i think by default it tries to be gcc compliant</div>
<div class="line">[Friday 12 November 2010] [16:36:15] &lt;Steve-o&gt;        the __asm__ is about being compatible with MSVC</div>
<div class="line">[Friday 12 November 2010] [16:38:26] &lt;Steve-o&gt;        anything with an underscore prefix is compiler specific</div>
<div class="line">[Friday 12 November 2010] [16:38:53] &lt;Steve-o&gt;        Ooh, __inline is the other one I hate</div>
<div class="line">[Friday 12 November 2010] [16:40:30] &lt;Steve-o&gt;        I catch that one in the headers, include/pgm/types.h</div>
<div class="line">[Friday 12 November 2010] [16:50:33] &lt;mikko&gt;  -gcc-version=420 doesnt help</div>
<div class="line">[Friday 12 November 2010] [16:50:55] &lt;Steve-o&gt;        oh well,</div>
<div class="line">[Friday 12 November 2010] [16:51:42] &lt;Steve-o&gt;        you have the workaround with the preprocessor</div>
<div class="line">[Friday 12 November 2010] [16:51:55] &lt;mikko&gt;  yep, adding that</div>
<div class="line">[Friday 12 November 2010] [16:52:27] &lt;mikko&gt;  ../foreign/openpgm/libpgm-5.0.91~dfsg/openpgm/pgm/net.c(84): warning #191: type qualifier is meaningless on cast type</div>
<div class="line">[Friday 12 November 2010] [16:52:38] &lt;mikko&gt;  a couple of warnings as well it seem</div>
<div class="line">[Friday 12 November 2010] [16:52:40] &lt;mikko&gt;  s</div>
<div class="line">[Friday 12 November 2010] [16:52:55] &lt;Steve-o&gt;        oodles of warnings, I have a list of exceptions in my build environment</div>
<div class="line">[Friday 12 November 2010] [16:55:09] &lt;Steve-o&gt;        here&#8217;s my list from before, <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg05162.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg05162.html</a></div>
<div class="line">[Friday 12 November 2010] [16:55:41] &lt;Steve-o&gt;        including description of why I ignore them</div>
<div class="line">[Friday 12 November 2010] [16:56:31] &lt;Steve-o&gt;        two are bugs in the compiler as they are C++2003 warnings</div>
<div class="line">[Friday 12 November 2010] [16:58:55] &lt;Steve-o&gt;        shout if you think any are valid</div>
<div class="line">[Friday 12 November 2010] [17:01:11] &lt;Steve-o&gt;        the net.c(84) is for portability, at least one compiler needs it</div>
<div class="line">[Saturday 13 November 2010] [07:33:43] &lt;mikko&gt;        morning</div>
<div class="line">[Saturday 13 November 2010] [07:33:51] &lt;mikko&gt;        mato: are you there?</div>
<div class="line">[Saturday 13 November 2010] [07:58:48] &lt;Guthur&gt;       Is there a way to safe way to stop a ZMQ device</div>
<div class="line">[Saturday 13 November 2010] [07:59:03] &lt;Guthur&gt;       s/a safe way</div>
<div class="line">[Saturday 13 November 2010] [07:59:03] &lt;mikko&gt;        what do you mean by safe?</div>
<div class="line">[Saturday 13 November 2010] [07:59:12] &lt;mikko&gt;        you could send kill signal</div>
<div class="line">[Saturday 13 November 2010] [07:59:31] &lt;Guthur&gt;       Preferably not that way, hehe</div>
<div class="line">[Saturday 13 November 2010] [08:00:02] &lt;Guthur&gt;       say I have a program using a device, but want to stop the device and rebind the endpoints</div>
<div class="line">[Saturday 13 November 2010] [08:00:20] &lt;mikko&gt;        what happens if you send HUP?</div>
<div class="line">[Saturday 13 November 2010] [08:00:27] &lt;mikko&gt;        if you just want to rebind</div>
<div class="line">[Saturday 13 November 2010] [08:01:13] &lt;Guthur&gt;       So in the actual program would I just kill the thread it&#8217;s running on and start again?</div>
<div class="line">[Saturday 13 November 2010] [08:01:33] &lt;mikko&gt;        i don&#8217;t know whether there is a clean way</div>
<div class="line">[Saturday 13 November 2010] [08:02:41] &lt;Guthur&gt;       Do you feel it would be useful, or am I verging towards over-engineering?</div>
<div class="line">[Saturday 13 November 2010] [08:05:11] &lt;Guthur&gt;       I suppose its more a specialized device</div>
<div class="line">[Saturday 13 November 2010] [08:05:40] &lt;Guthur&gt;       It would probably require a kill signal socket to offer the cleanest approach</div>
<div class="line">[Saturday 13 November 2010] [10:16:45] &lt;sustrik&gt;      Guthur: the devices is an area where 0MQ can expand in different ways</div>
<div class="line">[Saturday 13 November 2010] [10:16:55] &lt;sustrik&gt;      you may add all kinds of features</div>
<div class="line">[Saturday 13 November 2010] [10:16:59] &lt;sustrik&gt;      stop signal</div>
<div class="line">[Saturday 13 November 2010] [10:17:05] &lt;sustrik&gt;      monitoring</div>
<div class="line">[Saturday 13 November 2010] [10:17:24] &lt;sustrik&gt;      dynamic configuration of sockets</div>
<div class="line">[Saturday 13 November 2010] [10:17:26] &lt;sustrik&gt;      etc.</div>
<div class="line">[Saturday 13 November 2010] [10:17:27] &lt;Guthur&gt;       sustrik, Do you see 0MQ p</div>
<div class="line">[Saturday 13 November 2010] [10:17:31] &lt;Guthur&gt;       oops ignore that</div>
<div class="line">[Saturday 13 November 2010] [10:17:40] &lt;Guthur&gt;       got a little trigger happy</div>
<div class="line">[Saturday 13 November 2010] [10:18:19] &lt;Guthur&gt;       sustrik, Do you see a 0MQ device project starting at some point, or would it just be left to the users?</div>
<div class="line">[Saturday 13 November 2010] [10:18:33] &lt;Guthur&gt;       Or would it go into the main 0MQ project</div>
<div class="line">[Saturday 13 November 2010] [10:18:48] &lt;sustrik&gt;      Guthur: i would say that in the future the devices should be separated from 0mq core</div>
<div class="line">[Saturday 13 November 2010] [10:19:07] &lt;Guthur&gt;       I would have to agree</div>
<div class="line">[Saturday 13 November 2010] [10:19:09] &lt;sustrik&gt;      same way as network switches and routers are different from clinet TCP/IP stack</div>
<div class="line">[Saturday 13 November 2010] [10:19:23] &lt;Guthur&gt;       I see to many projects grow well beyond their initial scope</div>
<div class="line">[Saturday 13 November 2010] [10:19:39] &lt;Guthur&gt;       feature creep is a real danger with projects</div>
<div class="line">[Saturday 13 November 2010] [10:19:58] &lt;sustrik&gt;      the thing with devices is that I think there is a lot of space for market segmentation</div>
<div class="line">[Saturday 13 November 2010] [10:20:14] &lt;sustrik&gt;      from very simple devices like the ones now in the core</div>
<div class="line">[Saturday 13 November 2010] [10:20:22] &lt;sustrik&gt;      to complex enterprise-grade servers</div>
<div class="line">[Saturday 13 November 2010] [10:21:05] &lt;sustrik&gt;      but yes, the short-term goal is to keep the feature creep to minimum</div>
<div class="line">[Saturday 13 November 2010] [10:23:45] &lt;mikko&gt;        sustrik: i got fairly massive patch for the builds</div>
<div class="line">[Saturday 13 November 2010] [10:23:53] &lt;mikko&gt;        i wonder what would be the best way to do this</div>
<div class="line">[Saturday 13 November 2010] [10:24:02] &lt;mikko&gt;        maybe if mato has time to review the changes at some point?</div>
<div class="line">[Saturday 13 November 2010] [10:24:40] &lt;mikko&gt;        <a class="reference external" href="https://gist.github.com/51b70e52d845fd64a91a">https://gist.github.com/51b70e52d845fd64a91a</a></div>
<div class="line">[Saturday 13 November 2010] [10:24:46] &lt;mikko&gt;        gotta run -&gt;</div>
<div class="line">[Saturday 13 November 2010] [10:24:51] &lt;sustrik&gt;      mikko: thx</div>
<div class="line">[Saturday 13 November 2010] [10:24:55] &lt;sustrik&gt;      i&#8217;ll poke mato</div>
<div class="line">[Saturday 13 November 2010] [10:25:08] &lt;sustrik&gt;      but he&#8217;s finishing some deadline right now afaik</div>
<div class="line">[Saturday 13 November 2010] [10:25:54] &lt;sustrik&gt;      mikko: why not send the patch to the ML?</div>
<div class="line">[Saturday 13 November 2010] [10:28:46] &lt;Guthur&gt;       sustrik, Do you don&#8217;t think that such simplistic devices that have been added to 0MQ are of limited worth with the main OMQ lib</div>
<div class="line">[Saturday 13 November 2010] [10:29:31] &lt;sustrik&gt;      yes</div>
<div class="line">[Saturday 13 November 2010] [10:29:45] &lt;sustrik&gt;      they are they just as examples</div>
<div class="line">[Saturday 13 November 2010] [10:29:49] &lt;Guthur&gt;       s/don&#8217;t/not</div>
<div class="line">[Saturday 13 November 2010] [10:30:06] &lt;sustrik&gt;      presumably, they will be removed in 3.0</div>
<div class="line">[Saturday 13 November 2010] [10:30:10] &lt;Steve-o&gt;      mikko:  how are you finding Sun ONE also requires __asm__?  Is that also a strict mode?</div>
<div class="line">[Saturday 13 November 2010] [10:30:22] &lt;sustrik&gt;      by that time we&#8217;ll have some sane devices outside of 0mq core imo</div>
<div class="line">[Saturday 13 November 2010] [10:30:36] &lt;Guthur&gt;       sustrik, ack</div>
<div class="line">[Saturday 13 November 2010] [10:36:54] &lt;mikko&gt;        Steve-o: yes, strict mode</div>
<div class="line">[Saturday 13 November 2010] [10:37:06] &lt;mikko&gt;        Steve-o: apparently &#8220;for ANSI C applications use __asm__&#8221;</div>
<div class="line">[Saturday 13 November 2010] [10:37:16] &lt;mikko&gt;        can&#8217;t remember where i read that</div>
<div class="line">[Saturday 13 November 2010] [10:37:27] &lt;Steve-o&gt;      I&#8217;m checking their blogs and they use &#8220;asm&#8221; everywhere, ugh</div>
<div class="line">[Saturday 13 November 2010] [10:37:49] &lt;mikko&gt;        &#8220;If you are writing a header file that will be included in ANSI C programs, use &#8216;__asm__&#8217; instead of &#8216;asm&#8217; and &#8216;__volatile__&#8217; instead of &#8216;volatile&#8217;.&#8221;</div>
<div class="line">[Saturday 13 November 2010] [10:37:52] &lt;mikko&gt;        <a class="reference external" href="http://mspgcc.sourceforge.net/manual/c1308.html">http://mspgcc.sourceforge.net/manual/c1308.html</a></div>
<div class="line">[Saturday 13 November 2010] [10:38:52] &lt;Steve-o&gt;      The volatile comment is out of date</div>
<div class="line">[Saturday 13 November 2010] [10:38:57] &lt;mikko&gt;        yes</div>
<div class="line">[Saturday 13 November 2010] [10:39:15] &lt;mikko&gt;        __asm__ seems to be the way in ICC and Sun Studio</div>
<div class="line">[Saturday 13 November 2010] [10:39:22] &lt;mikko&gt;        asm or __asm__ in gcc</div>
<div class="line">[Saturday 13 November 2010] [10:39:40] &lt;Steve-o&gt;      meh, as long as there is a workaround, useful to note it in  patch though</div>
<div class="line">[Saturday 13 November 2010] [10:40:13] &lt;Steve-o&gt;      from the link you had yesterday there seems to be three forms, __asm, __asm__, and asm</div>
<div class="line">[Saturday 13 November 2010] [10:40:20] &lt;mikko&gt;        yeah</div>
<div class="line">[Saturday 13 November 2010] [10:40:31] &lt;mikko&gt;        interesting enough i can&#8217;t get ICC to support &#8216;asm&#8217;</div>
<div class="line">[Saturday 13 November 2010] [10:41:02] &lt;mikko&gt;        and sun studio still complains about:</div>
<div class="line">[Saturday 13 November 2010] [10:41:04] &lt;mikko&gt;        &#8221;../foreign/openpgm/libpgm-5.0.91~dfsg/openpgm/pgm/include/pgm/atomic.h&#8221;, line 46: warning: &#8220;__asm__&#8221; is an extension of ANSI C</div>
<div class="line">[Saturday 13 November 2010] [10:41:11] &lt;mikko&gt;        which i guess is fair</div>
<div class="line">[Saturday 13 November 2010] [10:41:14] &lt;Steve-o&gt;      that&#8217;s probably why I&#8217;m checking for __GNUC__</div>
<div class="line">[Saturday 13 November 2010] [10:42:09] &lt;Steve-o&gt;      Intel don&#8217;t provide any custom intrinsics so they&#8217;re not really helping</div>
<div class="line">[Saturday 13 November 2010] [10:43:14] &lt;mikko&gt;        &#8220;asm&#8221; keyword works in ICC unless -strict-ansi is used</div>
<div class="line">[Saturday 13 November 2010] [10:45:22] &lt;Steve-o&gt;      I&#8217;ll try updating upstream with it, I&#8217;ve been looking for -pedantic equivalents</div>
<div class="line">[Saturday 13 November 2010] [10:45:44] &lt;Steve-o&gt;      thanks</div>
<div class="line">[Saturday 13 November 2010] [10:46:27] &lt;mikko&gt;        np</div>
<div class="line">[Saturday 13 November 2010] [12:09:49] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07maint * rffcb0ba 10/ (AUTHORS configure.in src/zmq.cpp):</div>
<div class="line">[Saturday 13 November 2010] [12:09:50] &lt;CIA-20&gt;       zeromq2: Couple of patches for AIX build</div>
<div class="line">[Saturday 13 November 2010] [12:09:50] &lt;CIA-20&gt;       zeromq2: - RAND_bytes function resides in crypto library</div>
<div class="line">[Saturday 13 November 2010] [12:09:50] &lt;CIA-20&gt;       zeromq2: - pollfd on AIX used &#8216;reqevents&#8217; instead of events and &#8216;retnevents&#8217;</div>
<div class="line">[Saturday 13 November 2010] [12:09:50] &lt;CIA-20&gt;       zeromq2:  instead of &#8216;revents&#8217;</div>
<div class="line">[Saturday 13 November 2010] [12:09:50] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/bTf46m">http://bit.ly/bTf46m</a></div>
<div class="line">[Saturday 13 November 2010] [12:22:02] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * rffcb0ba 10/ (AUTHORS configure.in src/zmq.cpp):</div>
<div class="line">[Saturday 13 November 2010] [12:22:02] &lt;CIA-20&gt;       zeromq2: Couple of patches for AIX build</div>
<div class="line">[Saturday 13 November 2010] [12:22:02] &lt;CIA-20&gt;       zeromq2: - RAND_bytes function resides in crypto library</div>
<div class="line">[Saturday 13 November 2010] [12:22:02] &lt;CIA-20&gt;       zeromq2: - pollfd on AIX used &#8216;reqevents&#8217; instead of events and &#8216;retnevents&#8217;</div>
<div class="line">[Saturday 13 November 2010] [12:22:02] &lt;CIA-20&gt;       zeromq2:  instead of &#8216;revents&#8217;</div>
<div class="line">[Saturday 13 November 2010] [12:22:03] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/bTf46m">http://bit.ly/bTf46m</a></div>
<div class="line">[Saturday 13 November 2010] [12:22:03] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * rf77c8ca 10/ (AUTHORS configure.in src/zmq.cpp):</div>
<div class="line">[Saturday 13 November 2010] [12:22:04] &lt;CIA-20&gt;       zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Saturday 13 November 2010] [12:22:04] &lt;CIA-20&gt;       zeromq2: * maint:</div>
<div class="line">[Saturday 13 November 2010] [12:22:05] &lt;CIA-20&gt;       zeromq2:  Couple of patches for AIX build - <a class="reference external" href="http://bit.ly/d6kEuw">http://bit.ly/d6kEuw</a></div>
<div class="line">[Saturday 13 November 2010] [12:53:47] &lt;Guthur&gt;       Is publisher side filtering being looked at currently? <a class="reference external" href="http://www.zeromq.org/topics:new-topics">http://www.zeromq.org/topics:new-topics</a></div>
<div class="line">[Saturday 13 November 2010] [12:54:41] &lt;Guthur&gt;       I am actually specifically interested in the scenario mentioned in the white paper, ie. serving up Forex data</div>
<div class="line">[Saturday 13 November 2010] [13:08:47] &lt;mikko&gt;        Guthur: it&#8217;s being discussed</div>
<div class="line">[Saturday 13 November 2010] [13:08:55] &lt;mikko&gt;        but it&#8217;s a complicated matter</div>
<div class="line">[Saturday 13 November 2010] [13:09:53] &lt;Guthur&gt;       mikko, Is there any consensus one what the solution might be?</div>
<div class="line">[Saturday 13 November 2010] [13:29:30] &lt;mikko&gt;        Guthur: not that i know of</div>
<div class="line">[Saturday 13 November 2010] [13:31:14] &lt;Guthur&gt;       mikko: ok, cheers</div>
<div class="line">[Saturday 13 November 2010] [13:31:50] &lt;Guthur&gt;       I&#8217;ll probably try to engineer some device for my own needs</div>
<div class="line">[Saturday 13 November 2010] [13:38:13] &lt;mikko&gt;        the problematic thing is forwarding the subscriptions</div>
<div class="line">[Saturday 13 November 2010] [13:38:26] &lt;mikko&gt;        and especially when there are intermediates</div>
<div class="line">[Saturday 13 November 2010] [18:33:21] &lt;Guthur&gt;       Has anyone else been checking out ZFL and in particular the ZPL ?</div>
<div class="line">[Saturday 13 November 2010] [18:34:06] &lt;Guthur&gt;       <a class="reference external" href="https://github.com/zeromq/zfl">https://github.com/zeromq/zfl</a>  <a class="reference external" href="http://rfc.zeromq.org/spec:4">http://rfc.zeromq.org/spec:4</a></div>
<div class="line">[Saturday 13 November 2010] [19:42:11] &lt;Guthur&gt;       umm, is there some reason why streamer and forwarder are identical</div>
<div class="line">[Saturday 13 November 2010] [19:42:55] &lt;Guthur&gt;       just to remind the user to use the appropriate end point types?</div>
<div class="line">[Sunday 14 November 2010] [05:24:13] &lt;Guthur&gt; Is it just me or are the z_msg decode and encode functions miss-named?</div>
<div class="line">[Sunday 14 November 2010] [05:25:14] &lt;Guthur&gt; encode to me seems like it should be taking a string and encoding it and decode taking a byte stream and returning the string</div>
<div class="line">[Sunday 14 November 2010] [05:25:41] &lt;mato&gt;   sustrik: are you there?</div>
<div class="line">[Sunday 14 November 2010] [05:26:28] &lt;Guthur&gt; not to mention that the comment block is the same for each function which just adds to the confusion</div>
<div class="line">[Sunday 14 November 2010] [05:27:01] &lt;mato&gt;   Guthur: raise an issue somewhere (issue tracker? zmq ML) with Pieter Hintjens, ZFL is his project</div>
<div class="line">[Sunday 14 November 2010] [05:27:17] &lt;Guthur&gt; it&#8217;s part of the guide as well</div>
<div class="line">[Sunday 14 November 2010] [05:27:28] &lt;mato&gt;   that&#8217;s his project too :-)</div>
<div class="line">[Sunday 14 November 2010] [05:27:34] &lt;Guthur&gt; hehe, ok</div>
<div class="line">[Sunday 14 November 2010] [05:27:56] &lt;mato&gt;   I would have preferred that the guide use plain ZMQ and not push any other layers, but it&#8217;s up to Pieter...</div>
<div class="line">[Sunday 14 November 2010] [05:28:10] &lt;mato&gt;   I suggest you take that up with him, on the ZMQ mailing list</div>
<div class="line">[Sunday 14 November 2010] [05:28:27] &lt;Guthur&gt; Most of the guide is plain ZMQ to be fair</div>
<div class="line">[Sunday 14 November 2010] [05:28:39] &lt;Guthur&gt; it&#8217;s just the last advanced example section</div>
<div class="line">[Sunday 14 November 2010] [05:28:52] &lt;Guthur&gt; which is fair enough IMHO</div>
<div class="line">[Sunday 14 November 2010] [05:29:28] &lt;Guthur&gt; Even then it doesn&#8217;t use anything that is not shown in the example</div>
<div class="line">[Sunday 14 November 2010] [05:29:39] &lt;Guthur&gt; ZFL is not required as far as I am aware</div>
<div class="line">[Sunday 14 November 2010] [05:29:52] &lt;Guthur&gt; though I have not actually completed the last few examples</div>
<div class="line">[Sunday 14 November 2010] [05:30:54] &lt;Guthur&gt; I personally think the guide is a great introduction to ZMQ</div>
<div class="line">[Sunday 14 November 2010] [05:37:22] &lt;Guthur&gt; There could be more examples from the bindings though.</div>
<div class="line">[Sunday 14 November 2010] [05:37:44] &lt;Guthur&gt; I think Java is probably quite a glaring omission, considering how popular it is</div>
<div class="line">[Sunday 14 November 2010] [05:45:11] &lt;keffo&gt;  I like the new site, much better!</div>
<div class="line">[Sunday 14 November 2010] [09:25:14] &lt;keffo&gt;  ./local_thr.exe <a class="reference external" href="tcp://127.0.0.1:1234">tcp://127.0.0.1:1234</a> 10000 10000</div>
<div class="line">[Sunday 14 November 2010] [09:25:14] &lt;keffo&gt;  Your average throughput is 28732 [msg/s]</div>
<div class="line">[Sunday 14 November 2010] [09:25:14] &lt;keffo&gt;  Your average throughput is 2298 [Mb/s]</div>
<div class="line">[Sunday 14 November 2010] [09:25:24] &lt;keffo&gt;  vrom vrom</div>
<div class="line">[Sunday 14 November 2010] [09:28:50] &lt;keffo&gt;  10 byte msg size: Your average throughput is 3179966 [msg/s]</div>
<div class="line">[Sunday 14 November 2010] [09:28:50] &lt;keffo&gt;  Your average throughput is 254 [Mb/s]</div>
<div class="line">[Sunday 14 November 2010] [11:00:06] &lt;Guthur&gt; keffo...</div>
<div class="line">[Sunday 14 November 2010] [11:00:06] &lt;Guthur&gt; Your average throughput is 28854 [msg/s]</div>
<div class="line">[Sunday 14 November 2010] [11:00:07] &lt;Guthur&gt; Your average throughput is 2308 [Mb/s]</div>
<div class="line">[Sunday 14 November 2010] [11:00:23] &lt;Guthur&gt; that&#8217;s the CLR binding</div>
<div class="line">[Sunday 14 November 2010] [11:00:55] &lt;Guthur&gt; though totally meaningless of course, hehe</div>
<div class="line">[Sunday 14 November 2010] [11:12:00] &lt;keffo&gt;  it is yeah</div>
<div class="line">[Sunday 14 November 2010] [11:12:10] &lt;keffo&gt;  meaningless?</div>
<div class="line">[Sunday 14 November 2010] [11:16:58] &lt;Guthur&gt; yep</div>
<div class="line">[Sunday 14 November 2010] [11:17:08] &lt;Guthur&gt; I should run C version though</div>
<div class="line">[Sunday 14 November 2010] [11:17:25] &lt;keffo&gt;  this was debug build in an ubuntu VM</div>
<div class="line">[Sunday 14 November 2010] [11:17:30] &lt;Guthur&gt; I am personally interested in comparing the performance of the clrzmq binding</div>
<div class="line">[Sunday 14 November 2010] [11:17:46] &lt;keffo&gt;  it was the clr binding</div>
<div class="line">[Sunday 14 November 2010] [11:17:51] &lt;Guthur&gt; yep</div>
<div class="line">[Sunday 14 November 2010] [11:18:19] &lt;keffo&gt;  oh you mean the fact that it&#8217;s a binding rather than pure C that is meaningless? Yeah, I agree</div>
<div class="line">[Sunday 14 November 2010] [11:18:43] &lt;Guthur&gt; umm nope not really, I meant comparing mine to your figures</div>
<div class="line">[Sunday 14 November 2010] [11:18:45] &lt;keffo&gt;  (debug/release was equally meaningless)</div>
<div class="line">[Sunday 14 November 2010] [11:19:18] &lt;Guthur&gt; different computers obviously to not make for a good comparison</div>
<div class="line">[Sunday 14 November 2010] [11:19:23] &lt;Guthur&gt; to/do</div>
<div class="line">[Sunday 14 November 2010] [11:20:50] &lt;Guthur&gt; it would be nice to see if there was much overhead in going through the CLR interop</div>
<div class="line">[Sunday 14 November 2010] [11:21:37] &lt;Guthur&gt; Wouldn&#8217;t make me want to develop a significantly complex application in C even if there was but it would be nice to knpw</div>
<div class="line">[Sunday 14 November 2010] [11:21:40] &lt;Guthur&gt; know*</div>
<div class="line">[Sunday 14 November 2010] [11:24:33] &lt;keffo&gt;  probably insignificant</div>
<div class="line">[Monday 15 November 2010] [03:11:56] &lt;pieterh&gt;        hi folks</div>
<div class="line">[Monday 15 November 2010] [03:15:17] &lt;travlr&gt; mornin&#8217;</div>
<div class="line">[Monday 15 November 2010] [03:54:51] &lt;sustrik&gt;        travlr: hi, you there?</div>
<div class="line">[Monday 15 November 2010] [04:00:40] &lt;travlr&gt; hi martin</div>
<div class="line">[Monday 15 November 2010] [04:04:29] &lt;travlr&gt; sustrik, ^^</div>
<div class="line">[Monday 15 November 2010] [04:05:02] &lt;sustrik&gt;        hi</div>
<div class="line">[Monday 15 November 2010] [04:05:10] &lt;sustrik&gt;        you are keeping irc log, right?</div>
<div class="line">[Monday 15 November 2010] [04:05:29] &lt;travlr&gt; yes, i was just thinking about that... posting archive</div>
<div class="line">[Monday 15 November 2010] [04:05:56] &lt;sustrik&gt;        is there any way to see it online?</div>
<div class="line">[Monday 15 November 2010] [04:06:16] &lt;travlr&gt; sure. let see what i can do.</div>
<div class="line">[Monday 15 November 2010] [04:06:28] &lt;sustrik&gt;        travlr: that would be great</div>
<div class="line">[Monday 15 November 2010] [04:06:59] &lt;travlr&gt; ok, let put a little into it then right now :)</div>
<div class="line">[Monday 15 November 2010] [06:50:21] &lt;<a href="#id1047"><span class="problematic" id="id1048">toni_</span></a>&gt;  Hi there, just tried to install zmq on ubuntu 10.04. When executing sudo make install I get make[2]: <a href="#id33"><span class="problematic" id="id34">**</span></a>* [libzmq_la-app_thread.lo] Error 1. Does anyone have an idea how to solve this?</div>
<div class="line">[Monday 15 November 2010] [06:52:33] &lt;mikko&gt;  <a href="#id1049"><span class="problematic" id="id1050">toni_</span></a>: can you paste a few lines up from there to gist.github.com</div>
<div class="line">[Monday 15 November 2010] [06:52:46] &lt;mikko&gt;  <a href="#id1051"><span class="problematic" id="id1052">toni_</span></a>: that line alone doesn&#8217;t tell much</div>
<div class="line">[Monday 15 November 2010] [06:53:08] &lt;<a href="#id1053"><span class="problematic" id="id1054">toni_</span></a>&gt;  mikko: okay, thanks I ll do this. Just did not want to spam the channel :-)</div>
<div class="line">[Monday 15 November 2010] [06:54:54] &lt;<a href="#id1055"><span class="problematic" id="id1056">toni_</span></a>&gt;  mikko: <a class="reference external" href="https://gist.github.com/700285">https://gist.github.com/700285</a></div>
<div class="line">[Monday 15 November 2010] [06:57:30] &lt;<a href="#id1057"><span class="problematic" id="id1058">toni_</span></a>&gt;  I am a C newbie, actually never build an compiled a c programm before.... just want to use the python bindings...</div>
<div class="line">[Monday 15 November 2010] [06:58:23] &lt;mikko&gt;  <a href="#id1059"><span class="problematic" id="id1060">toni_</span></a>: and configure ran successfully?</div>
<div class="line">[Monday 15 November 2010] [06:59:29] &lt;<a href="#id1061"><span class="problematic" id="id1062">toni_</span></a>&gt;  mikko: yes, looks like it ran successfully...</div>
<div class="line">[Monday 15 November 2010] [07:00:16] &lt;mikko&gt;  have you got libstdc++6 package installed?</div>
<div class="line">[Monday 15 November 2010] [07:01:14] &lt;Guthur&gt; is configure not checking for dependencies?</div>
<div class="line">[Monday 15 November 2010] [07:01:29] &lt;<a href="#id1063"><span class="problematic" id="id1064">toni_</span></a>&gt;  mikko: yes, the newest version</div>
<div class="line">[Monday 15 November 2010] [07:01:44] &lt;mikko&gt;  Guthur: it is</div>
<div class="line">[Monday 15 November 2010] [07:01:58] &lt;mikko&gt;  Guthur: not sure where this build failure comes from</div>
<div class="line">[Monday 15 November 2010] [07:02:28] &lt;Guthur&gt; <a href="#id1065"><span class="problematic" id="id1066">toni_</span></a>: what distro are you using?</div>
<div class="line">[Monday 15 November 2010] [07:02:30] &lt;mikko&gt;  looks like there might be some package missing</div>
<div class="line">[Monday 15 November 2010] [07:03:38] &lt;<a href="#id1067"><span class="problematic" id="id1068">toni_</span></a>&gt;  mikko: I have ubuntu 10.0.4</div>
<div class="line">[Monday 15 November 2010] [07:04:13] &lt;Guthur&gt; <a href="#id1069"><span class="problematic" id="id1070">toni_</span></a> did you download with git?</div>
<div class="line">[Monday 15 November 2010] [07:05:05] &lt;<a href="#id1071"><span class="problematic" id="id1072">toni_</span></a>&gt;  yes, downloaded zeromq-2.0.10.tar.gz from github</div>
<div class="line">[Monday 15 November 2010] [07:05:25] &lt;Guthur&gt; and which branch are you on?</div>
<div class="line">[Monday 15 November 2010] [07:05:38] &lt;mikko&gt;  2.0.10 would be maint</div>
<div class="line">[Monday 15 November 2010] [07:06:27] &lt;Guthur&gt; oh oops sorry I missed the tarball bit</div>
<div class="line">[Monday 15 November 2010] [07:06:47] &lt;Guthur&gt; I seen yes and immediately assumed he cloned</div>
<div class="line">[Monday 15 November 2010] [07:07:37] &lt;<a href="#id1073"><span class="problematic" id="id1074">toni_</span></a>&gt;  mikko: what do you mean by &#8221;... would be maint&#8221;?</div>
<div class="line">[Monday 15 November 2010] [07:09:39] &lt;<a href="#id1075"><span class="problematic" id="id1076">toni_</span></a>&gt;  I also installed libtool, autoconf, automake</div>
<div class="line">[Monday 15 November 2010] [07:11:27] &lt;Guthur&gt; <a href="#id1077"><span class="problematic" id="id1078">toni_</span></a>: So your exact steps were...</div>
<div class="line">[Monday 15 November 2010] [07:11:29] &lt;mikko&gt;  <a href="#id1079"><span class="problematic" id="id1080">toni_</span></a>: to be fair i am not sure why this error happens.</div>
<div class="line">[Monday 15 November 2010] [07:11:31] &lt;Guthur&gt; ./autoconf</div>
<div class="line">[Monday 15 November 2010] [07:11:34] &lt;Guthur&gt; ./configure</div>
<div class="line">[Monday 15 November 2010] [07:11:38] &lt;Guthur&gt; make</div>
<div class="line">[Monday 15 November 2010] [07:11:40] &lt;mikko&gt;  ./autogen.sh probably</div>
<div class="line">[Monday 15 November 2010] [07:12:05] &lt;Guthur&gt; mikko, yep sorry my bad</div>
<div class="line">[Monday 15 November 2010] [07:12:45] &lt;<a href="#id1081"><span class="problematic" id="id1082">toni_</span></a>&gt;  my exact steps were:   ./configure, sudo make install</div>
<div class="line">[Monday 15 November 2010] [07:12:54] &lt;mikko&gt;  <a href="#id1083"><span class="problematic" id="id1084">toni_</span></a>: have you got libstdc++6 dev package installed?</div>
<div class="line">[Monday 15 November 2010] [07:13:03] &lt;Guthur&gt; that would never have worked</div>
<div class="line">[Monday 15 November 2010] [07:13:13] &lt;mikko&gt;  although i would expect configure to fail if the build fails so fundamentally</div>
<div class="line">[Monday 15 November 2010] [07:13:29] &lt;Guthur&gt; you never generated the configure file</div>
<div class="line">[Monday 15 November 2010] [07:13:32] &lt;mikko&gt;  Guthur: i think dist packages are distributed via github as well</div>
<div class="line">[Monday 15 November 2010] [07:13:44] &lt;Guthur&gt; I didn&#8217;t see one for ubuntu</div>
<div class="line">[Monday 15 November 2010] [07:13:59] &lt;Guthur&gt; I didn&#8217;t look very hard though</div>
<div class="line">[Monday 15 November 2010] [07:14:01] &lt;mikko&gt;  Guthur: <a class="reference external" href="https://github.com/zeromq/zeromq2/downloads">https://github.com/zeromq/zeromq2/downloads</a></div>
<div class="line">[Monday 15 November 2010] [07:14:10] &lt;mikko&gt;  v2.0.10.zip  This is release 2.0.10</div>
<div class="line">[Monday 15 November 2010] [07:14:18] &lt;Guthur&gt; i just download there now and followed those three steps</div>
<div class="line">[Monday 15 November 2010] [07:14:21] &lt;Guthur&gt; worked fined</div>
<div class="line">[Monday 15 November 2010] [07:14:27] &lt;mikko&gt;  are you on ubuntu?</div>
<div class="line">[Monday 15 November 2010] [07:14:31] &lt;Guthur&gt; yep</div>
<div class="line">[Monday 15 November 2010] [07:14:42] &lt;mikko&gt;  yes, the release there doesn&#8217;t ship with configure</div>
<div class="line">[Monday 15 November 2010] [07:15:45] &lt;Guthur&gt; I would recommend the process I followed, simply because it worked, hehe</div>
<div class="line">[Monday 15 November 2010] [07:15:46] &lt;<a href="#id1085"><span class="problematic" id="id1086">toni_</span></a>&gt;  mikko: when I do sudo apt-get install libstdc++6, I get libstdc++6 is already the newest version</div>
<div class="line">[Monday 15 November 2010] [07:15:57] &lt;mikko&gt;  <a href="#id1087"><span class="problematic" id="id1088">toni_</span></a>: i mean the -dev package</div>
<div class="line">[Monday 15 November 2010] [07:16:10] &lt;<a href="#id1089"><span class="problematic" id="id1090">toni_</span></a>&gt;  oops, so I ll try it</div>
<div class="line">[Monday 15 November 2010] [07:19:48] &lt;<a href="#id1091"><span class="problematic" id="id1092">toni_</span></a>&gt;  mikko: getting &#8220;Couldn&#8217;t find package libstdc++6-dev&#8221; when trying to install it with -dev postfix. (sorry, I just changed couple of months from win to linux)</div>
<div class="line">[Monday 15 November 2010] [07:21:20] &lt;Guthur&gt; <a href="#id1093"><span class="problematic" id="id1094">toni_</span></a>: You usually need the -dev version of packages when building software on linux</div>
<div class="line">[Monday 15 November 2010] [07:22:03] &lt;Guthur&gt; You should be able to see it in synaptic</div>
<div class="line">[Monday 15 November 2010] [07:22:24] &lt;mikko&gt;  <a href="#id1095"><span class="problematic" id="id1096">toni_</span></a>: try libstdc++6-4.4-dev</div>
<div class="line">[Monday 15 November 2010] [07:23:16] &lt;mikko&gt;  also if you build a lot of stuff &#8216;build-essential&#8217; package is a good base for certain dependencies</div>
<div class="line">[Monday 15 November 2010] [07:23:58] &lt;<a href="#id1097"><span class="problematic" id="id1098">toni_</span></a>&gt;  mikko: yes the dev package seems to be installed: libstdc++6-4.4-dev is already the newest version.</div>
<div class="line">[Monday 15 November 2010] [07:24:52] &lt;<a href="#id1099"><span class="problematic" id="id1100">toni_</span></a>&gt;  build-essential I also installed</div>
<div class="line">[Monday 15 November 2010] [07:25:53] &lt;<a href="#id1101"><span class="problematic" id="id1102">toni_</span></a>&gt;  so my exact steps were: downloaded zmq from github, ran ./configure and then sudo make install which produced the error</div>
<div class="line">[Monday 15 November 2010] [07:26:47] &lt;mikko&gt;  <a href="#id1103"><span class="problematic" id="id1104">toni_</span></a>: if you download from github the steps should be</div>
<div class="line">[Monday 15 November 2010] [07:27:02] &lt;mikko&gt;  ./autogen.sh &amp;&amp; ./configure &amp;&amp; make &amp;&amp; make check</div>
<div class="line">[Monday 15 November 2010] [07:27:15] &lt;mikko&gt;  if all those success you should be ok to make install</div>
<div class="line">[Monday 15 November 2010] [07:28:40] &lt;<a href="#id1105"><span class="problematic" id="id1106">toni_</span></a>&gt;  mikko: okay :-) I finally got it</div>
<div class="line">[Monday 15 November 2010] [07:28:53] &lt;<a href="#id1107"><span class="problematic" id="id1108">toni_</span></a>&gt;  I just ran ./configure once again</div>
<div class="line">[Monday 15 November 2010] [07:29:08] &lt;<a href="#id1109"><span class="problematic" id="id1110">toni_</span></a>&gt;  an looks like it had been installed properly</div>
<div class="line">[Monday 15 November 2010] [07:29:18] &lt;<a href="#id1111"><span class="problematic" id="id1112">toni_</span></a>&gt;  Thank you very much for your help!!!</div>
<div class="line">[Monday 15 November 2010] [07:29:31] &lt;mikko&gt;  good st</div>
<div class="line">[Monday 15 November 2010] [07:29:38] &lt;mikko&gt;  strange error before</div>
<div class="line">[Monday 15 November 2010] [07:31:43] &lt;<a href="#id1113"><span class="problematic" id="id1114">toni_</span></a>&gt;  yes, strange one. Especially as I never compiled a C program before... so back to my beloved python :-)</div>
<div class="line">[Monday 15 November 2010] [07:31:54] &lt;<a href="#id1115"><span class="problematic" id="id1116">toni_</span></a>&gt;  Thanks</div>
<div class="line">[Monday 15 November 2010] [09:42:40] &lt;travlr&gt; sustrik: martin today is a bit tight for me. i&#8217;ll get those logs hosted asap though.</div>
<div class="line">[Monday 15 November 2010] [09:45:16] &lt;sustrik&gt;        travlr: sure, no haste</div>
<div class="line">[Monday 15 November 2010] [11:02:02] &lt;CIA-20&gt; zeromq2: 03Mikko Koppanen 07master * rda3327c 10/ (acinclude.m4 configure.in src/Makefile.am):</div>
<div class="line">[Monday 15 November 2010] [11:02:02] &lt;CIA-20&gt; zeromq2: Build refactoring</div>
<div class="line">[Monday 15 November 2010] [11:02:02] &lt;CIA-20&gt; zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/cBusWt">http://bit.ly/cBusWt</a></div>
<div class="line">[Monday 15 November 2010] [11:26:50] &lt;frtewq&gt; hi</div>
<div class="line">[Monday 15 November 2010] [11:27:08] &lt;mikko&gt;  hi</div>
<div class="line">[Monday 15 November 2010] [11:27:24] &lt;frtewq&gt; how r u?</div>
<div class="line">[Monday 15 November 2010] [14:08:59] &lt;mikko&gt;  sustrik: there?</div>
<div class="line">[Monday 15 November 2010] [14:09:05] &lt;mikko&gt;  all master builds succeed now</div>
<div class="line">[Monday 15 November 2010] [14:09:08] &lt;mikko&gt;  o/</div>
<div class="line">[Monday 15 November 2010] [14:09:20] &lt;mikko&gt;  the patch you applied incorporates the previous smaller patch</div>
<div class="line">[Monday 15 November 2010] [14:09:25] &lt;mikko&gt;  at least my email says it does</div>
<div class="line">[Monday 15 November 2010] [14:13:26] &lt;sustrik&gt;        mikko: great</div>
<div class="line">[Monday 15 November 2010] [14:13:34] &lt;sustrik&gt;        what about the maint</div>
<div class="line">[Monday 15 November 2010] [14:13:35] &lt;sustrik&gt;        ?</div>
<div class="line">[Monday 15 November 2010] [14:14:25] &lt;sustrik&gt;        maybe switching the failing configurations off?</div>
<div class="line">[Monday 15 November 2010] [14:14:40] &lt;mikko&gt;  yes</div>
<div class="line">[Monday 15 November 2010] [14:14:45] &lt;mikko&gt;  will do after dinner</div>
<div class="line">[Monday 15 November 2010] [14:14:47] &lt;mikko&gt;  brb</div>
<div class="line">[Monday 15 November 2010] [14:38:01] &lt;mikko&gt;  done</div>
<div class="line">[Monday 15 November 2010] [14:38:06] &lt;mikko&gt;  maint builds now without pgm</div>
<div class="line">[Monday 15 November 2010] [14:51:15] &lt;mikko&gt;  should build fine in the 5 am build</div>
<div class="line">[Monday 15 November 2010] [15:30:57] &lt;mikko&gt;  sustrik: sent</div>
<div class="line">[Monday 15 November 2010] [15:35:41] &lt;sustrik&gt;        mikko: repled :)</div>
<div class="line">[Monday 15 November 2010] [15:35:44] &lt;sustrik&gt;        replied</div>
<div class="line">[Monday 15 November 2010] [18:35:53] &lt;Guthur&gt; is www.zeromq.org down</div>
<div class="line">[Tuesday 16 November 2010] [02:40:04] &lt;pieterh&gt;       hi folks</div>
<div class="line">[Tuesday 16 November 2010] [03:43:16] &lt;15SAA31ZJ&gt;     Does anybody have an idea how to switch of strict ansi 98 checking?</div>
<div class="line">[Tuesday 16 November 2010] [03:47:29] &lt;15SAA31ZJ&gt;     I checked the makefile for the dialect flags, but there aren&#8217;t any</div>
<div class="line">[Tuesday 16 November 2010] [03:57:21] &lt;sustrik&gt;       15SAA31ZJ: i think you can get rid of it by turning the -Werror flag off</div>
<div class="line">[Tuesday 16 November 2010] [03:57:29] &lt;sustrik&gt;       it will still be reported</div>
<div class="line">[Tuesday 16 November 2010] [03:57:37] &lt;sustrik&gt;       but not treated as error anymore</div>
<div class="line">[Tuesday 16 November 2010] [04:00:16] &lt;15SAA31ZJ&gt;     Sorry, I was looking for std=c90 flag, but I now see the std=c99 flag, wiil remove that</div>
<div class="line">[Tuesday 16 November 2010] [04:01:36] &lt;15SAA31ZJ&gt;     Aargh, I still get the msg_store.cpp:253: error: ISO C++ 1998 does not support &#8216;long long&#8217; error</div>
<div class="line">[Tuesday 16 November 2010] [04:10:03] &lt;sustrik&gt;       try the -Werror thing</div>
<div class="line">[Tuesday 16 November 2010] [04:11:39] &lt;mikko&gt; 15SAA31ZJ: is this with 2.1.0?</div>
<div class="line">[Tuesday 16 November 2010] [04:11:51] &lt;mikko&gt; 15SAA31ZJ: and are you building on mingw32?</div>
<div class="line">[Tuesday 16 November 2010] [04:13:49] &lt;sustrik&gt;       mikko: yes, he does</div>
<div class="line">[Tuesday 16 November 2010] [04:14:14] &lt;15SAA31ZJ&gt;     2.0.1, yes I&#8217;m building on mingw</div>
<div class="line">[Tuesday 16 November 2010] [04:15:55] &lt;mikko&gt; hmm, we should allow turning werror off outside the build</div>
<div class="line">[Tuesday 16 November 2010] [04:16:15] &lt;mikko&gt; rather than having to modify the configure.in and rebuilding configure</div>
<div class="line">[Tuesday 16 November 2010] [04:16:33] &lt;sustrik&gt;       we can turn it of only for mingw, no?</div>
<div class="line">[Tuesday 16 November 2010] [04:17:04] &lt;sustrik&gt;       the less manual configuration is needed the better imo</div>
<div class="line">[Tuesday 16 November 2010] [04:17:37] &lt;mikko&gt; yes, we can turn it off</div>
<div class="line">[Tuesday 16 November 2010] [04:21:12] &lt;mikko&gt; sustrik: this is the thing with __int64 being defined as long long in mingw32</div>
<div class="line">[Tuesday 16 November 2010] [04:21:55] &lt;sustrik&gt;       mikko: yes</div>
<div class="line">[Tuesday 16 November 2010] [04:22:08] &lt;sustrik&gt;       see issue 66 in bug tracker</div>
<div class="line">[Tuesday 16 November 2010] [04:27:11] &lt;mikko&gt; can we not add mingw32 flag -Wno-long-long ?</div>
<div class="line">[Tuesday 16 November 2010] [04:27:27] &lt;mikko&gt; i need to get my mingw32 running</div>
<div class="line">[Tuesday 16 November 2010] [04:28:07] &lt;mikko&gt; and also add mingw32 build for the daily builds</div>
<div class="line">[Tuesday 16 November 2010] [04:42:43] &lt;sustrik&gt;       mikko: won&#8217;t you need a win box for that?</div>
<div class="line">[Tuesday 16 November 2010] [04:43:23] &lt;mikko&gt; sustrik: i can cross compile on linux</div>
<div class="line">[Tuesday 16 November 2010] [04:44:35] &lt;sustrik&gt;       ah</div>
<div class="line">[Tuesday 16 November 2010] [04:44:46]          * sustrik is a build noobie</div>
<div class="line">[Tuesday 16 November 2010] [04:46:52] &lt;15SAA31ZJ&gt;     I can define a long long var and it builds fine with the same mingw. Why am I getting this problem with zeromq?</div>
<div class="line">[Tuesday 16 November 2010] [04:47:28] &lt;mikko&gt; 15SAA31ZJ: -Werror -pedantic</div>
<div class="line">[Tuesday 16 November 2010] [04:47:43] &lt;mikko&gt; if you add those to your test build it should fail</div>
<div class="line">[Tuesday 16 November 2010] [04:47:48] &lt;mikko&gt; assuming you compile with g++</div>
<div class="line">[Tuesday 16 November 2010] [04:48:37] &lt;15SAA31ZJ&gt;     Ok, I removed -Werror from the makefile and I&#8217;m still get the error. Will strip -pedantic as well</div>
<div class="line">[Tuesday 16 November 2010] [04:49:24] &lt;15SAA31ZJ&gt;     Makes no difference</div>
<div class="line">[Tuesday 16 November 2010] [04:50:18] &lt;mikko&gt; 15SAA31ZJ: make sure that it&#8217;s removed from all makefiles</div>
<div class="line">[Tuesday 16 November 2010] [04:52:36] &lt;15SAA31ZJ&gt;     Makefile.am, Makefile.in?</div>
<div class="line">[Tuesday 16 November 2010] [04:53:03] &lt;mikko&gt; 15SAA31ZJ: are you using dist package or git checkout?</div>
<div class="line">[Tuesday 16 November 2010] [04:55:13] &lt;mikko&gt; sustrik: mingw32 is now in daily builds for master</div>
<div class="line">[Tuesday 16 November 2010] [04:55:28] &lt;mikko&gt; i&#8217;ll make a patch to fix the build</div>
<div class="line">[Tuesday 16 November 2010] [04:55:42] &lt;sustrik&gt;       mikko: thanks!</div>
<div class="line">[Tuesday 16 November 2010] [04:56:29] &lt;15SAA31ZJ&gt;     mikko: Thanks!</div>
<div class="line">[Tuesday 16 November 2010] [04:57:40] &lt;mikko&gt; i think the cleanest fix is to define -Wno-long-long for mingw32</div>
<div class="line">[Tuesday 16 November 2010] [05:02:49] &lt;<a href="#id71"><span class="problematic" id="id80">w00t__</span></a>&gt;        hello</div>
<div class="line">[Tuesday 16 November 2010] [05:02:56] &lt;sustrik&gt;       hi</div>
<div class="line">[Tuesday 16 November 2010] [05:03:23] &lt;<a href="#id71"><span class="problematic" id="id81">w00t__</span></a>&gt;        ah, webchat... my employer will frown upon this:</div>
<div class="line">[Tuesday 16 November 2010] [05:40:09] &lt;15SAA31ZJ&gt;     I don&#8217;t want to sound more stupid than usual, but why does the compiler complain about a feature that is not part of the C++98 standard if the option to specify that compliance has to be checked has not been specified?</div>
<div class="line">[Tuesday 16 November 2010] [05:41:03] &lt;mikko&gt; 15SAA31ZJ: mingw32 complains because -pedantic is set</div>
<div class="line">[Tuesday 16 November 2010] [05:41:17] &lt;mikko&gt; 15SAA31ZJ: and -Werror converts the warning to error</div>
<div class="line">[Tuesday 16 November 2010] [05:41:45] &lt;mikko&gt; 15SAA31ZJ: i think i got a working fix for master branch</div>
<div class="line">[Tuesday 16 November 2010] [05:41:45] &lt;15SAA31ZJ&gt;     I understand that, but -std=c++98 has not been set...</div>
<div class="line">[Tuesday 16 November 2010] [05:41:54] &lt;omarkj&gt;        /join #CouchDB</div>
<div class="line">[Tuesday 16 November 2010] [05:41:54] &lt;mikko&gt; 15SAA31ZJ: -pedantic is</div>
<div class="line">[Tuesday 16 November 2010] [05:42:01] &lt;omarkj&gt;        Ups..Sorry about that.</div>
<div class="line">[Tuesday 16 November 2010] [05:42:10] &lt;mikko&gt; 15SAA31ZJ: it defaults to c++98 compliance</div>
<div class="line">[Tuesday 16 November 2010] [05:43:55] &lt;mikko&gt; 15SAA31ZJ: if you want to test the patch, take a checkout of git master and apply <a class="reference external" href="https://gist.github.com/28a725c30a6d0110e407">https://gist.github.com/28a725c30a6d0110e407</a></div>
<div class="line">[Tuesday 16 November 2010] [05:44:00] &lt;mikko&gt; i gotta run for a minute</div>
<div class="line">[Tuesday 16 November 2010] [05:44:45] &lt;15SAA31ZJ&gt;     mikko: Ok, so c++98 is the default. This is still GCC, so why does this only affect mingw?</div>
<div class="line">[Tuesday 16 November 2010] [05:47:17] &lt;mikko&gt; 15SAA31ZJ: because mingw32 defines __int64_t as long long</div>
<div class="line">[Tuesday 16 November 2010] [05:48:10] &lt;15SAA31ZJ&gt;     mikko: which isn&#8217;t valid?</div>
<div class="line">[Tuesday 16 November 2010] [05:48:25] &lt;mikko&gt; 15SAA31ZJ: not for pedantic c++98 compliance</div>
<div class="line">[Tuesday 16 November 2010] [05:48:45] &lt;mikko&gt; it&#8217;s valid for C but not for C++</div>
<div class="line">[Tuesday 16 November 2010] [05:48:57] &lt;15SAA31ZJ&gt;     mikko: Ok, thanks!</div>
<div class="line">[Tuesday 16 November 2010] [07:28:01] &lt;15SAA31ZJ&gt;     mikko: Sorry for being difficult, but I still don&#8217;t know how to fix my mingw build...</div>
<div class="line">[Tuesday 16 November 2010] [07:29:18] &lt;sustrik&gt;       the patch doesn&#8217;t help?</div>
<div class="line">[Tuesday 16 November 2010] [07:29:40] &lt;sustrik&gt;       what error are you getting now?</div>
<div class="line">[Tuesday 16 November 2010] [07:29:53] &lt;mato&gt;  sustrik: hi</div>
<div class="line">[Tuesday 16 November 2010] [07:29:58] &lt;sustrik&gt;       mato: hi</div>
<div class="line">[Tuesday 16 November 2010] [07:30:06] &lt;mato&gt;  guys, master on mingw is broken in other ways</div>
<div class="line">[Tuesday 16 November 2010] [07:30:16] &lt;mato&gt;  due to __declspec stuff</div>
<div class="line">[Tuesday 16 November 2010] [07:30:30] &lt;mato&gt;  I went through this on Sunday, will fix it properly today or tomorrow</div>
<div class="line">[Tuesday 16 November 2010] [07:30:52] &lt;mato&gt;  for the __int64 issue all that needs to be done is that mingw builds use -Wno-long-long</div>
<div class="line">[Tuesday 16 November 2010] [07:31:00] &lt;mato&gt;  I&#8217;ll make a separate patch for that shortly</div>
<div class="line">[Tuesday 16 November 2010] [07:31:35] &lt;sustrik&gt;       ok</div>
<div class="line">[Tuesday 16 November 2010] [07:32:02] &lt;15SAA31ZJ&gt;     mikko released a patch, which looks like it patches the configure script. Which I don&#8217;t seem to have when I get the git master.</div>
<div class="line">[Tuesday 16 November 2010] [07:32:07] &lt;mikko&gt; mato: i got it to build (didnt test running)</div>
<div class="line">[Tuesday 16 November 2010] [07:32:27] &lt;mikko&gt; mato: and while cross compiling i still had weird failure -Wno-long-long</div>
<div class="line">[Tuesday 16 November 2010] [07:32:37] &lt;mikko&gt; had to werror=no</div>
<div class="line">[Tuesday 16 November 2010] [07:32:48] &lt;mato&gt;  mikko: we can go through it in a bit and sort things out</div>
<div class="line">[Tuesday 16 November 2010] [07:33:15] &lt;mikko&gt; cool</div>
<div class="line">[Tuesday 16 November 2010] [07:33:24] &lt;mikko&gt; i got a few other build related patches as well</div>
<div class="line">[Tuesday 16 November 2010] [07:34:56] &lt;mikko&gt; <a class="reference external" href="http://valokuva.org/~mikko/b/">http://valokuva.org/~mikko/b/</a></div>
<div class="line">[Tuesday 16 November 2010] [07:35:01] &lt;mikko&gt; got a bit carried away</div>
<div class="line">[Tuesday 16 November 2010] [07:35:09] &lt;mikko&gt; lunch time, bbl</div>
<div class="line">[Tuesday 16 November 2010] [08:04:13] &lt;CIA-20&gt;        zeromq2: 03Martin Sustrik 07maint * r152c64f 10/ builds/msvc/libzmq/libzmq.vcproj :</div>
<div class="line">[Tuesday 16 November 2010] [08:04:14] &lt;CIA-20&gt;        zeromq2: FD_SETSIZE defaults to 1024 in MSVC build</div>
<div class="line">[Tuesday 16 November 2010] [08:04:14] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/bcchqf">http://bit.ly/bcchqf</a></div>
<div class="line">[Tuesday 16 November 2010] [08:08:43] &lt;15SAA31ZJ&gt;     At the end of a build on mingw I get this:</div>
<div class="line">[Tuesday 16 November 2010] [08:08:45] &lt;15SAA31ZJ&gt;     make[2]: <a href="#id35"><span class="problematic" id="id36">**</span></a>* [libzmq_la-zmq.lo] Error 1</div>
<div class="line">[Tuesday 16 November 2010] [08:08:45] &lt;15SAA31ZJ&gt;     make[2]: Leaving directory <a href="#id37"><span class="problematic" id="id38">`</span></a>/c/Projects/zeromq-2.0.10/src&#8217;</div>
<div class="line">[Tuesday 16 November 2010] [08:08:45] &lt;15SAA31ZJ&gt;     make[1]: <a href="#id39"><span class="problematic" id="id40">**</span></a>* [all] Error 2</div>
<div class="line">[Tuesday 16 November 2010] [08:08:45] &lt;15SAA31ZJ&gt;     make[1]: Leaving directory <a href="#id41"><span class="problematic" id="id42">`</span></a>/c/Projects/zeromq-2.0.10/src&#8217;</div>
<div class="line">[Tuesday 16 November 2010] [08:08:45] &lt;15SAA31ZJ&gt;     make: <a href="#id43"><span class="problematic" id="id44">**</span></a>* [all-recursive] Error 1</div>
<div class="line">[Tuesday 16 November 2010] [08:08:57] &lt;15SAA31ZJ&gt;     What does that mean?</div>
<div class="line">[Tuesday 16 November 2010] [08:09:51] &lt;mato&gt;  15SAA31ZJ: It&#8217;s the ZMQ_EXPORT stuff that&#8217;s broken</div>
<div class="line">[Tuesday 16 November 2010] [08:10:08] &lt;mato&gt;  15SAA31ZJ: I will fix that, but not immediately (reinstalling Windows VM, etc etc)</div>
<div class="line">[Tuesday 16 November 2010] [08:10:50] &lt;15SAA31ZJ&gt;     mato: Ok, is that the _declspec issue... Thanks</div>
<div class="line">[Tuesday 16 November 2010] [08:10:58] &lt;mato&gt;  15SAA31ZJ: yes.</div>
<div class="line">[Tuesday 16 November 2010] [08:11:27] &lt;mato&gt;  15SAA31ZJ: although I thought it only affected master, but if 2.0.10 is failing that way for you then I guess it affects both.</div>
<div class="line">[Tuesday 16 November 2010] [08:13:02] &lt;mato&gt;  15SAA31ZJ: IIRC a quick but suboptimal fix is to edit the definition of ZMQ_EXPORT in include/zmq.h and include/zmq_util.h</div>
<div class="line">[Tuesday 16 November 2010] [08:13:07] &lt;mato&gt;  Where you have:</div>
<div class="line">[Tuesday 16 November 2010] [08:13:11] &lt;mato&gt;  #   if defined DLL_EXPORT</div>
<div class="line">[Tuesday 16 November 2010] [08:13:12] &lt;mato&gt;  #       define ZMQ_EXPORT __declspec(dllexport)</div>
<div class="line">[Tuesday 16 November 2010] [08:13:12] &lt;mato&gt;  #   else</div>
<div class="line">[Tuesday 16 November 2010] [08:13:12] &lt;mato&gt;  #       define ZMQ_EXPORT __declspec(dllimport)</div>
<div class="line">[Tuesday 16 November 2010] [08:13:12] &lt;mato&gt;  #   endif</div>
<div class="line">[Tuesday 16 November 2010] [08:13:25] &lt;mato&gt;  Change the #else to just define ZMQ_EXPORT to nothing</div>
<div class="line">[Tuesday 16 November 2010] [08:13:43] &lt;mato&gt;  that might work, if not optimally</div>
<div class="line">[Tuesday 16 November 2010] [08:14:18] &lt;mato&gt;  but it needs to be fixed properly</div>
<div class="line">[Tuesday 16 November 2010] [08:14:43] &lt;CIA-20&gt;        zeromq2: 03Martin Sustrik 07master * rbd0ecf4 10/ builds/msvc/libzmq/libzmq.vcproj :</div>
<div class="line">[Tuesday 16 November 2010] [08:14:43] &lt;CIA-20&gt;        zeromq2: FD_SETSIZE defaults to 1024 in MSVC build</div>
<div class="line">[Tuesday 16 November 2010] [08:14:43] &lt;CIA-20&gt;        zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/bYT47b">http://bit.ly/bYT47b</a></div>
<div class="line">[Tuesday 16 November 2010] [08:32:25] &lt;mikko&gt; back</div>
<div class="line">[Tuesday 16 November 2010] [08:39:52] &lt;15SAA31ZJ&gt;     mato: Thanks, I will try</div>
<div class="line">[Tuesday 16 November 2010] [08:48:12] &lt;mato&gt;  mikko: i&#8217;m in the middle of reinstalling my windows vm... once that&#8217;s done i can start looking at mingw</div>
<div class="line">[Tuesday 16 November 2010] [08:49:45] &lt;mikko&gt; mato: cool, ill fix some ws issues on the patches</div>
<div class="line">[Tuesday 16 November 2010] [09:06:53] &lt;mikko&gt; mato: <a class="reference external" href="http://valokuva.org/~mikko/b/">http://valokuva.org/~mikko/b/</a></div>
<div class="line">[Tuesday 16 November 2010] [09:06:54] &lt;mikko&gt; there</div>
<div class="line">[Tuesday 16 November 2010] [09:07:01] &lt;mikko&gt; reformatted the whitespace errors</div>
<div class="line">[Tuesday 16 November 2010] [09:07:22] &lt;mikko&gt; and changed the mingw32 build to do no-long-long</div>
<div class="line">[Tuesday 16 November 2010] [09:08:05] &lt;mato&gt;  will take a look shortly thx</div>
<div class="line">[Tuesday 16 November 2010] [09:26:16] &lt;mato&gt;  T3dshw00</div>
<div class="line">[Tuesday 16 November 2010] [09:26:23] &lt;mato&gt;  oops</div>
<div class="line">[Tuesday 16 November 2010] [09:37:12] &lt;15SAA31ZJ&gt;     mato: I changed the definition of ZMQ_EXPORT, but I&#8217;m still getting the build errors</div>
<div class="line">[Tuesday 16 November 2010] [09:39:27] &lt;15SAA31ZJ&gt;     mato: Oops, looks like I didn&#8217;t save zmq.h. Rebuilding now</div>
<div class="line">[Tuesday 16 November 2010] [09:40:58] &lt;15SAA31ZJ&gt;     mato: No, still same errors!</div>
<div class="line">[Tuesday 16 November 2010] [09:45:43] &lt;mato&gt;  15SAA31ZJ: Sorry, maybe that&#8217;s not the whole solution. it was just what I roughly remembered how I made it work on Sunday</div>
<div class="line">[Tuesday 16 November 2010] [09:45:55] &lt;mato&gt;  15SAA31ZJ: I&#8217;ve almost got Windows and all the bits installed, will look into it</div>
<div class="line">[Tuesday 16 November 2010] [09:46:26] &lt;15SAA31ZJ&gt;     mato: Ok, thanks</div>
<div class="line">[Tuesday 16 November 2010] [10:07:15] &lt;mato&gt;  mikko: ok, you still here?</div>
<div class="line">[Tuesday 16 November 2010] [10:10:13] &lt;mikko&gt; mato: yes</div>
<div class="line">[Tuesday 16 November 2010] [10:10:19] &lt;mikko&gt; installing centos</div>
<div class="line">[Tuesday 16 November 2010] [10:10:39] &lt;mato&gt;  mikko: looking quickly over your patches, have yet to actually test them</div>
<div class="line">[Tuesday 16 November 2010] [10:10:56] &lt;mato&gt;  mikko: 0001-0005 looks fine, I&#8217;m not sure of any added value in 0006</div>
<div class="line">[Tuesday 16 November 2010] [10:11:04] &lt;mato&gt;  mikko: (moving the PGM stuff into a macro)</div>
<div class="line">[Tuesday 16 November 2010] [10:11:11] &lt;mato&gt;  mikko: that just hides it...</div>
<div class="line">[Tuesday 16 November 2010] [10:11:37] &lt;mato&gt;  mikko: also, re 0004 - removing <a href="#id1117"><span class="problematic" id="id1118">LIBZMQ_EXTRA_</span></a>...</div>
<div class="line">[Tuesday 16 November 2010] [10:11:39] &lt;mikko&gt; mato: it&#8217;s not mandatory if you don&#8217;t see value</div>
<div class="line">[Tuesday 16 November 2010] [10:11:54] &lt;mikko&gt; the LIBZMQ_EXTRA_LDFLAGS is not used anywhere</div>
<div class="line">[Tuesday 16 November 2010] [10:12:08] &lt;mikko&gt; LIBZMQ_EXTRA_CXXFLAGS is/was used for CFLAGS as well</div>
<div class="line">[Tuesday 16 November 2010] [10:12:46] &lt;mato&gt;  mikko: sure, but the EXTRA_XXXFLAGS are there for a reason; when building the perf tests, self tests, devices, etc. you do not need or want to build with all the extra stuff that goes into the EXTRA_XXXFLAGS</div>
<div class="line">[Tuesday 16 November 2010] [10:13:04] &lt;mikko&gt; EXTRA_CXXFLAGS gets appended after CPPFLAGS?</div>
<div class="line">[Tuesday 16 November 2010] [10:13:08] &lt;mato&gt;  mikko: the EXTRA flags are there so that we can separate this stuff</div>
<div class="line">[Tuesday 16 November 2010] [10:13:18] &lt;mikko&gt; because that would prevent user from overriding CPPFLAGS for the build</div>
<div class="line">[Tuesday 16 November 2010] [10:14:11] &lt;mato&gt;  that&#8217;s true</div>
<div class="line">[Tuesday 16 November 2010] [10:14:48] &lt;mikko&gt; but i guess it&#8217;s two-sided sword</div>
<div class="line">[Tuesday 16 November 2010] [10:14:49] &lt;mato&gt;  but i&#8217;d still like to somehow separate the build flags required for libzmq vs. the build flags required for everything else</div>
<div class="line">[Tuesday 16 November 2010] [10:15:17] &lt;mikko&gt; i can look into that maybe</div>
<div class="line">[Tuesday 16 November 2010] [10:15:28] &lt;mikko&gt; i would like user to be able to override flags with CFLAGS and CPPFLAGS</div>
<div class="line">[Tuesday 16 November 2010] [10:16:02] &lt;mikko&gt; maybe something like not reset the <a href="#id1119"><span class="problematic" id="id1120">EXTRA_</span></a> flags in the beginning of build ?</div>
<div class="line">[Tuesday 16 November 2010] [10:16:09] &lt;mikko&gt; i can look into it</div>
<div class="line">[Tuesday 16 November 2010] [10:16:12] &lt;mato&gt;  possibly</div>
<div class="line">[Tuesday 16 November 2010] [10:16:55] &lt;mikko&gt; 0005 is just handy when hacking the builds</div>
<div class="line">[Tuesday 16 November 2010] [10:17:07] &lt;mato&gt;  how so?</div>
<div class="line">[Tuesday 16 November 2010] [10:17:22] &lt;mikko&gt; if i got xmlto and asciidoc it always builds the docs</div>
<div class="line">[Tuesday 16 November 2010] [10:17:29] &lt;mikko&gt; which takes a lot more time on my small vm</div>
<div class="line">[Tuesday 16 November 2010] [10:17:34] &lt;mato&gt;  oh, that, yes, sorry</div>
<div class="line">[Tuesday 16 November 2010] [10:17:36] &lt;mato&gt;  0005 is fine</div>
<div class="line">[Tuesday 16 November 2010] [10:18:04] &lt;mikko&gt; let&#8217;s keep the PGM where it is if you find it cleaner</div>
<div class="line">[Tuesday 16 November 2010] [10:18:20] &lt;mikko&gt; but the small part: -if test &#8220;x$gnu_compilers&#8221; = &#8220;xyes&#8221; -a &#8220;x$pgm_ext&#8221; = &#8220;xno&#8221;; then</div>
<div class="line">[Tuesday 16 November 2010] [10:18:44] &lt;mikko&gt; i think it&#8217;s clearer if there is pedantic=no werror=no inside the pgm build</div>
<div class="line">[Tuesday 16 November 2010] [10:19:08] &lt;mikko&gt; as those flags are already checked below</div>
<div class="line">[Tuesday 16 November 2010] [10:19:31] &lt;mato&gt;  i&#8217;m not sure if some obscure platform doesn&#8217;t need werror=no pedantic=no even for a non-PGM build</div>
<div class="line">[Tuesday 16 November 2010] [10:20:00] &lt;mikko&gt; mato: i agree with that</div>
<div class="line">[Tuesday 16 November 2010] [10:20:19] &lt;mato&gt;  sorry, it&#8217;s been a while since i looked at all that stuff</div>
<div class="line">[Tuesday 16 November 2010] [10:20:39] &lt;mikko&gt; currently the condition at the end is:</div>
<div class="line">[Tuesday 16 November 2010] [10:20:40] &lt;mikko&gt; if test &#8220;x$gnu_compilers&#8221; = &#8220;xyes&#8221; -a &#8220;x$pgm_ext&#8221; = &#8220;xno&#8221;; then</div>
<div class="line">[Tuesday 16 November 2010] [10:20:40]          * mato needs to swap in context &#8220;auto-kung-fu&#8221; :-)</div>
<div class="line">[Tuesday 16 November 2010] [10:21:00] &lt;mikko&gt; i think we could just set werror=&#8221;no&#8221; and pedantic=&#8221;no&#8221; if pgm is selected</div>
<div class="line">[Tuesday 16 November 2010] [10:21:06] &lt;mikko&gt; and remove  -a &#8220;x$pgm_ext&#8221; = &#8220;xno&#8221;</div>
<div class="line">[Tuesday 16 November 2010] [10:21:18] &lt;mato&gt;  oh, right, sure</div>
<div class="line">[Tuesday 16 November 2010] [10:21:21] &lt;mato&gt;  yes, that makes sense</div>
<div class="line">[Tuesday 16 November 2010] [10:21:40] &lt;mikko&gt; so it&#8217;s aligned with the rest of the build</div>
<div class="line">[Tuesday 16 November 2010] [10:22:06] &lt;mikko&gt; brb</div>
<div class="line">[Tuesday 16 November 2010] [11:27:17] &lt;mikko&gt; mm</div>
<div class="line">[Tuesday 16 November 2010] [11:27:26] &lt;mikko&gt; mato: seen this before /usr/bin/ld: .libs/libzmq_la-txwi.o: relocation R_X86_64_PC32 against <a href="#id45"><span class="problematic" id="id46">`</span></a>pgm_rs_create&#8217; can not be used when making a shared object; recompile with -fPIC</div>
<div class="line">[Tuesday 16 November 2010] [11:27:46] &lt;mikko&gt; i got that if i try to build on centos 5.5 x86_64 from release 2.0.10</div>
<div class="line">[Tuesday 16 November 2010] [11:28:06] &lt;mikko&gt; if i get maint from github and generate cofnigure on the machine things seem to work fine</div>
<div class="line">[Tuesday 16 November 2010] [11:28:32] &lt;mato&gt;  mikko: oh, yeah, old and known issue</div>
<div class="line">[Tuesday 16 November 2010] [11:28:44] &lt;mato&gt;  mikko: there&#8217;s some ancient thread on the ML about it</div>
<div class="line">[Tuesday 16 November 2010] [11:29:03] &lt;mato&gt;  mikko: I forget exactly what the details are, but I think it boils down to a RHAT gcc bug</div>
<div class="line">[Tuesday 16 November 2010] [11:29:17] &lt;mato&gt;  anyhow, I have windows + mingw and friends installed now</div>
<div class="line">[Tuesday 16 November 2010] [11:29:38] &lt;mato&gt;  probably won&#8217;t do much more with it today, tomorrow I&#8217;ll look at fixing the ZMQ_EXPORT stuff which is breaking the mingw build</div>
<div class="line">[Tuesday 16 November 2010] [11:30:16] &lt;mato&gt;  mikko: You actually managed to build &#8216;master&#8217; with mingw on Windows, or was that just a cross-build?</div>
<div class="line">[Tuesday 16 November 2010] [11:30:45] &lt;mikko&gt; mato: cross-compile</div>
<div class="line">[Tuesday 16 November 2010] [11:30:55] &lt;mikko&gt; where does it fail?</div>
<div class="line">[Tuesday 16 November 2010] [11:31:03] &lt;mato&gt;  it&#8217;s complicated</div>
<div class="line">[Tuesday 16 November 2010] [11:31:06] &lt;mato&gt;  what happens is</div>
<div class="line">[Tuesday 16 November 2010] [11:31:34] &lt;mato&gt;  on master you get a mysterious &#8220;Error 1&#8221; when libtool tries to build deps for zmq.o</div>
<div class="line">[Tuesday 16 November 2010] [11:31:53] &lt;mikko&gt; i had that</div>
<div class="line">[Tuesday 16 November 2010] [11:31:57] &lt;mato&gt;  if you run the actual command by hand and discard the &gt;/dev/null libtool is doing you get the actual error</div>
<div class="line">[Tuesday 16 November 2010] [11:32:07] &lt;mikko&gt; changing to werror=&#8221;no&#8221; on mingw32 sorted that issue</div>
<div class="line">[Tuesday 16 November 2010] [11:32:21] &lt;mato&gt;  hmm, interesting</div>
<div class="line">[Tuesday 16 November 2010] [11:32:30] &lt;mato&gt;  I guess I didn&#8217;t realise it was just a warning</div>
<div class="line">[Tuesday 16 November 2010] [11:32:35] &lt;mikko&gt; i got the build just stopping without visible error message</div>
<div class="line">[Tuesday 16 November 2010] [11:32:46] &lt;mato&gt;  yes, let me dig up the actual error</div>
<div class="line">[Tuesday 16 November 2010] [11:32:46] &lt;mikko&gt; i changed to werror=&#8221;no&#8221; and it build</div>
<div class="line">[Tuesday 16 November 2010] [11:32:50] &lt;mikko&gt; s/build/built/</div>
<div class="line">[Tuesday 16 November 2010] [11:33:28] &lt;mikko&gt; i didn&#8217;t get the error out even when i ran the command without 2&gt;&amp;1 in the src/ dir</div>
<div class="line">[Tuesday 16 November 2010] [11:33:56] &lt;mato&gt;  you can get it</div>
<div class="line">[Tuesday 16 November 2010] [11:34:23] &lt;mato&gt;  here&#8217;s the actual error:</div>
<div class="line">[Tuesday 16 November 2010] [11:34:26] &lt;mato&gt;  $ g++ -DHAVE_CONFIG_H -I. -Werror -pedantic -Wall -Wno-long-long -D_REENTRANT -</div>
<div class="line">[Tuesday 16 November 2010] [11:34:26] &lt;mato&gt;  D_THREAD_SAFE -g -O2 -MT libzmq_la-zmq.lo -MD -MP -MF .deps/libzmq_la-zmq.Tpo -</div>
<div class="line">[Tuesday 16 November 2010] [11:34:27] &lt;mato&gt;  c zmq.cpp -o libzmq_la-zmq.o</div>
<div class="line">[Tuesday 16 November 2010] [11:34:27] &lt;mato&gt;  cc1plus.exe: warnings being treated as errors</div>
<div class="line">[Tuesday 16 November 2010] [11:34:27] &lt;mato&gt;  zmq.cpp: In function &#8216;void zmq_version(int*, int*, int*)&#8217;:</div>
<div class="line">[Tuesday 16 November 2010] [11:34:29] &lt;mato&gt;  zmq.cpp:63:6: error: &#8216;void zmq_version(int*, int*, int*)&#8217; redeclared without dll</div>
<div class="line">[Tuesday 16 November 2010] [11:34:32] &lt;mato&gt;  import attribute: previous dllimport ignored</div>
<div class="line">[Tuesday 16 November 2010] [11:34:54] &lt;mato&gt;  i&#8217;m not quite sure what is happening here</div>
<div class="line">[Tuesday 16 November 2010] [11:35:37] &lt;mikko&gt; signature / implementation defined with different attributes?</div>
<div class="line">[Tuesday 16 November 2010] [11:35:50] &lt;mato&gt;  well, here&#8217;s the way it <em>should</em> work on windows:</div>
<div class="line">[Tuesday 16 November 2010] [11:36:08] &lt;mato&gt;  If you&#8217;re building libzmq as a DLL, DLL_EXPORT is defined (libtool does that, and so does the MSVC project)</div>
<div class="line">[Tuesday 16 November 2010] [11:36:27] &lt;mato&gt;  then, when you include zmq.h, ZMQ_EXPORT gets defined as __declspec(dllexport)</div>
<div class="line">[Tuesday 16 November 2010] [11:36:33] &lt;mato&gt;  this is all fine</div>
<div class="line">[Tuesday 16 November 2010] [11:36:55] &lt;mato&gt;  for windows <em>users</em> of the API, DLL_EXPORT is not defined, and ZMQ_EXPORT gets defined as __declspec(dllimport)</div>
<div class="line">[Tuesday 16 November 2010] [11:37:11] &lt;mato&gt;  but libtool is doing something funny (I presume that step is dependency generation)</div>
<div class="line">[Tuesday 16 November 2010] [11:37:17] &lt;mato&gt;  and it breaks</div>
<div class="line">[Tuesday 16 November 2010] [11:37:48] &lt;mikko&gt; i presume i can reproduce this using my cross compile</div>
<div class="line">[Tuesday 16 November 2010] [11:37:53] &lt;mikko&gt; and removing the werror</div>
<div class="line">[Tuesday 16 November 2010] [11:37:55] &lt;mikko&gt; let&#8217;s see</div>
<div class="line">[Tuesday 16 November 2010] [11:38:05] &lt;mato&gt;  I&#8217;d assume so</div>
<div class="line">[Tuesday 16 November 2010] [11:39:50] &lt;mikko&gt; daily builds have mingw32 build now as well</div>
<div class="line">[Tuesday 16 November 2010] [11:39:53] &lt;mikko&gt; cross compile</div>
<div class="line">[Tuesday 16 November 2010] [11:40:04] &lt;mato&gt;  oh, great</div>
<div class="line">[Tuesday 16 November 2010] [11:41:47] &lt;mikko&gt; <a class="reference external" href="https://gist.github.com/ea5b88352f61c26758b2">https://gist.github.com/ea5b88352f61c26758b2</a></div>
<div class="line">[Tuesday 16 November 2010] [11:41:53] &lt;mikko&gt; this is the first thing that goes south</div>
<div class="line">[Tuesday 16 November 2010] [11:42:04] &lt;mikko&gt; adding the no-long-long patch</div>
<div class="line">[Tuesday 16 November 2010] [11:47:31] &lt;mikko&gt; mato: <a class="reference external" href="https://gist.github.com/ea5b88352f61c26758b2#comments">https://gist.github.com/ea5b88352f61c26758b2#comments</a></div>
<div class="line">[Tuesday 16 November 2010] [11:47:39] &lt;mikko&gt; that is what the cross compilation gives</div>
<div class="line">[Tuesday 16 November 2010] [11:48:04] &lt;mato&gt;  yup, thats what i see</div>
<div class="line">[Tuesday 16 November 2010] [11:48:12] &lt;mato&gt;  the question is, what to do about it</div>
<div class="line">[Tuesday 16 November 2010] [11:48:24] &lt;mato&gt;  turning off -Werror is not a fix, it just hides the problem</div>
<div class="line">[Tuesday 16 November 2010] [11:49:08] &lt;mikko&gt; yes, that is correct</div>
<div class="line">[Tuesday 16 November 2010] [11:49:34] &lt;mato&gt;  d&#8217;you know much about libtool internals?</div>
<div class="line">[Tuesday 16 November 2010] [11:49:51] &lt;mato&gt;  I don&#8217;t entirely understand what the aim of that compilation actually is</div>
<div class="line">[Tuesday 16 November 2010] [11:49:53] &lt;mikko&gt; the signature is not defined with ZMQ_EXPORT</div>
<div class="line">[Tuesday 16 November 2010] [11:49:57] &lt;mikko&gt; ermm</div>
<div class="line">[Tuesday 16 November 2010] [11:50:02] &lt;mikko&gt; the implementation</div>
<div class="line">[Tuesday 16 November 2010] [11:50:11] &lt;mikko&gt; does it need to match in both?</div>
<div class="line">[Tuesday 16 November 2010] [11:51:01] &lt;mato&gt;  see here:</div>
<div class="line">[Tuesday 16 November 2010] [11:51:15] &lt;mato&gt;  <a class="reference external" href="http://msdn.microsoft.com/en-us/library/9h658af8%28v=VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/9h658af8%28v=VS.80%29.aspx</a></div>
<div class="line">[Tuesday 16 November 2010] [11:51:20] &lt;mato&gt;  <a class="reference external" href="http://msdn.microsoft.com/en-us/library/a90k134d%28VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/a90k134d%28VS.80%29.aspx</a></div>
<div class="line">[Tuesday 16 November 2010] [11:53:46] &lt;mato&gt;  mikko: note that all of this also needs to be done on POSIX platforms; we&#8217;ve just been ignoring it until now</div>
<div class="line">[Tuesday 16 November 2010] [11:54:04] &lt;mato&gt;  what I want to do on other platforms is build with -fvisibility=hidden</div>
<div class="line">[Tuesday 16 November 2010] [11:54:31] &lt;mato&gt;  and then define ZMQ_EXPORT for the libzmq shared build to set the per-function visibility to default</div>
<div class="line">[Tuesday 16 November 2010] [11:56:50] &lt;mato&gt;  mikko: anyway, i&#8217;ll have to go soon; will you be around tomorrow?</div>
<div class="line">[Tuesday 16 November 2010] [11:57:44] &lt;mikko&gt; mato: yes, most probably will be</div>
<div class="line">[Tuesday 16 November 2010] [11:58:05] &lt;mikko&gt; ill tinker with mingw32 build</div>
<div class="line">[Tuesday 16 November 2010] [11:58:29] &lt;mato&gt;  ok, let me know by email if you figure out anything, otherwise i&#8217;ll continue tomorrow and get it working...</div>
<div class="line">[Tuesday 16 November 2010] [11:59:43] &lt;mikko&gt; sure</div>
<div class="line">[Tuesday 16 November 2010] [11:59:54] &lt;mikko&gt; talk to you tomorrow</div>
<div class="line">[Tuesday 16 November 2010] [12:00:16] &lt;mato&gt;  ack; i&#8217;m still here, but leaving in 1/2 an hour</div>
<div class="line">[Tuesday 16 November 2010] [12:35:09] &lt;mikko&gt; mato: i got it to build</div>
<div class="line">[Tuesday 16 November 2010] [12:42:13] &lt;mikko&gt; but not yet there</div>
<div class="line">[Tuesday 16 November 2010] [15:54:11] &lt;oink&gt;  Hello zmq people. Small question for you: I&#8217;m trying to write a &#8216;friendly&#8217; cpp class that uses zmq, and find that there are asserts that make this difficult.</div>
<div class="line">[Tuesday 16 November 2010] [15:55:36] &lt;oink&gt;  e.g. rc = socket.recv(&amp;msg)   ... has a nice rc for errors, but if (stupidly) binding to a non existent host, then kaboom!</div>
<div class="line">[Tuesday 16 November 2010] [15:56:46] &lt;oink&gt;  in this case the assert in the zmq_connecter_t constructor, and is correctly noticing that the host does not exist</div>
<div class="line">[Tuesday 16 November 2010] [15:58:16] &lt;mikko&gt; mato: i think i nailed it (at least partially)</div>
<div class="line">[Tuesday 16 November 2010] [15:59:17] &lt;oink&gt;  It seems that an application developer is required to ultra-validate any input before sending into zmq - although acceptable, it seems a shame to repeat the validation</div>
<div class="line">[Tuesday 16 November 2010] [15:59:37] &lt;mikko&gt; oink: i think 0MQ is moving away from asserts one by one</div>
<div class="line">[Tuesday 16 November 2010] [16:00:26] &lt;mikko&gt; i remember seeing discussion about this</div>
<div class="line">[Tuesday 16 November 2010] [16:00:37] &lt;oink&gt;  thanks, that is comforting to know</div>
<div class="line">[Tuesday 16 November 2010] [16:17:18] &lt;dcadenas&gt;      hi guys, I&#8217;m an zeromq newbie, can anyone tell me if it lets me see the content of each message without consuming it? I think that other alternatives like rabbitmq don&#8217;t let doing that</div>
<div class="line">[Tuesday 16 November 2010] [16:17:55] &lt;mikko&gt; dcadenas: you need to consume the message to see the contents</div>
<div class="line">[Tuesday 16 November 2010] [16:17:57] &lt;cremes&gt;        dcadenas: no, there is no &#8220;peek&#8221;</div>
<div class="line">[Tuesday 16 November 2010] [16:18:04] &lt;dcadenas&gt;      ah ok thanks</div>
<div class="line">[Tuesday 16 November 2010] [23:52:50] &lt;pen&gt;   hey</div>
<div class="line">[Wednesday 17 November 2010] [04:32:38] &lt;kobus&gt;       Hi</div>
<div class="line">[Wednesday 17 November 2010] [04:33:15] &lt;kobus&gt;       I downloaded the git master just now. Has the mingw fixes been incorporated yet?</div>
<div class="line">[Wednesday 17 November 2010] [04:36:00] &lt;kobus&gt;       And the git master does not contain a configure script and I can&#8217;t run autogen.sh</div>
<div class="line">[Wednesday 17 November 2010] [04:36:30] &lt;sustrik&gt;     kobus: no, the mingw fixes are not yet there</div>
<div class="line">[Wednesday 17 November 2010] [04:36:40] &lt;sustrik&gt;     mato&#8217;s going to work on that today, afaik</div>
<div class="line">[Wednesday 17 November 2010] [04:37:46] &lt;kobus&gt;       sustrik: Ok, I&#8217;m running out of time on a concept demonstrator. I will have to move on to another messaging lib. Any suggestions :-(</div>
<div class="line">[Wednesday 17 November 2010] [04:41:23] &lt;sustrik&gt;     depends on what you need</div>
<div class="line">[Wednesday 17 November 2010] [04:44:25] &lt;kobus&gt;       sustrik: I want a distributed notification mechanism with apps subscribing to specific notifications and also generate notifications</div>
<div class="line">[Wednesday 17 November 2010] [04:52:55] &lt;mikko&gt;       kobus: i can give you fix to test</div>
<div class="line">[Wednesday 17 November 2010] [04:55:48] &lt;kobus&gt;       mikko: Great</div>
<div class="line">[Wednesday 17 November 2010] [04:56:26] &lt;mikko&gt;       <a class="reference external" href="http://valokuva.org/~mikko/zeromq-2.1.0-mingw32.zip">http://valokuva.org/~mikko/zeromq-2.1.0-mingw32.zip</a></div>
<div class="line">[Wednesday 17 November 2010] [04:56:33] &lt;mikko&gt;       fresh from the oven</div>
<div class="line">[Wednesday 17 November 2010] [04:56:50] &lt;mikko&gt;       when you link against the generated DLL define LIBZMQ_DLL_IMPORT</div>
<div class="line">[Wednesday 17 November 2010] [04:57:19] &lt;mikko&gt;       i haven&#8217;t yet tested this on windows, only cross compilation build</div>
<div class="line">[Wednesday 17 November 2010] [05:01:03] &lt;kobus&gt;       mikko: I will try it. Thanks!</div>
<div class="line">[Wednesday 17 November 2010] [05:01:10] &lt;mikko&gt;       let me know how it goes</div>
<div class="line">[Wednesday 17 November 2010] [05:06:09] &lt;mato&gt;        back</div>
<div class="line">[Wednesday 17 November 2010] [05:08:56] &lt;mikko&gt;       mato: did you see my email?</div>
<div class="line">[Wednesday 17 November 2010] [05:09:04] &lt;mato&gt;        mikko: yes, going to look at it</div>
<div class="line">[Wednesday 17 November 2010] [05:09:47] &lt;mikko&gt;       mato: either we define a new define in our build saying &#8220;LIBZMQ_BUILDING&#8221; or let user define a constant when they link</div>
<div class="line">[Wednesday 17 November 2010] [05:10:10] &lt;mikko&gt;       because the static library build mingw32 does ends up using dllimport</div>
<div class="line">[Wednesday 17 November 2010] [05:10:32] &lt;mikko&gt;       which is not correct afaik. i understood that dllimport should be used when the DLL is linked against</div>
<div class="line">[Wednesday 17 November 2010] [05:10:45] &lt;mato&gt;        correct</div>
<div class="line">[Wednesday 17 November 2010] [05:11:21] &lt;mikko&gt;       but in the current code we end up using dllimport for static build</div>
<div class="line">[Wednesday 17 November 2010] [05:11:30] &lt;mikko&gt;       because DLL_EXPORT is not defined for static build</div>
<div class="line">[Wednesday 17 November 2010] [05:11:34] &lt;mikko&gt;       (no pic)</div>
<div class="line">[Wednesday 17 November 2010] [05:11:42] &lt;mato&gt;        do we care about the static library on win32 at all?</div>
<div class="line">[Wednesday 17 November 2010] [05:12:04] &lt;mikko&gt;       mingw32 static library on win32 can only be used with ming32 binaries</div>
<div class="line">[Wednesday 17 November 2010] [05:12:08] &lt;mato&gt;        precisely</div>
<div class="line">[Wednesday 17 November 2010] [05:12:16] &lt;mato&gt;        which really is a minority use case</div>
<div class="line">[Wednesday 17 November 2010] [05:12:17] &lt;mikko&gt;       we could use AC_DISABLE_STATIC</div>
<div class="line">[Wednesday 17 November 2010] [05:12:28] &lt;mato&gt;        99% of windows developers just want a DLL they can link with</div>
<div class="line">[Wednesday 17 November 2010] [05:12:34] &lt;mato&gt;        the other 1% can go figure it out themselves</div>
<div class="line">[Wednesday 17 November 2010] [05:13:11] &lt;mikko&gt;       this probably affects cygwin build as well</div>
<div class="line">[Wednesday 17 November 2010] [05:13:38] &lt;mato&gt;        that is such a minority inside a minority that i really don&#8217;t care too much, at least not right now</div>
<div class="line">[Wednesday 17 November 2010] [05:13:56] &lt;mikko&gt;       are we right to assume that if DLL_EXPORT is not defined we are linking against a dll? I think not</div>
<div class="line">[Wednesday 17 November 2010] [05:14:08] &lt;mikko&gt;       as you might compile statically using MSVC</div>
<div class="line">[Wednesday 17 November 2010] [05:14:21] &lt;mato&gt;        the MSVC project defines DLL_EXPORT</div>
<div class="line">[Wednesday 17 November 2010] [05:14:31] &lt;mato&gt;        the thing is, we can&#8217;t solve all of these cases elegantly</div>
<div class="line">[Wednesday 17 November 2010] [05:14:37] &lt;mato&gt;        so let&#8217;s solve the &#8220;joe user&#8221; case</div>
<div class="line">[Wednesday 17 November 2010] [05:14:42] &lt;mikko&gt;       that is true</div>
<div class="line">[Wednesday 17 November 2010] [05:14:51] &lt;mato&gt;        which is, zmq being built as a DLL, application linking against a DLL</div>
<div class="line">[Wednesday 17 November 2010] [05:14:55] &lt;mikko&gt;       disable static build for cygwin and mingw32</div>
<div class="line">[Wednesday 17 November 2010] [05:15:01] &lt;mato&gt;        yes</div>
<div class="line">[Wednesday 17 November 2010] [05:15:15] &lt;mato&gt;        and we don&#8217;t ship MSVC static build projects either so that is not an issue right now</div>
<div class="line">[Wednesday 17 November 2010] [05:15:24] &lt;mikko&gt;       i think AC_DISABLE_STATIC needs to be called before AC_PROG_LIBTOOL</div>
<div class="line">[Wednesday 17 November 2010] [05:15:40] &lt;mikko&gt;       i can produce a patch for this if you like</div>
<div class="line">[Wednesday 17 November 2010] [05:15:47] &lt;mato&gt;        we need to do two things.</div>
<div class="line">[Wednesday 17 November 2010] [05:15:51] &lt;mato&gt;        1. AC_DISABLE_STATIC</div>
<div class="line">[Wednesday 17 November 2010] [05:16:08] &lt;mato&gt;        2. test if the user force-enabled static and stop with an error</div>
<div class="line">[Wednesday 17 November 2010] [05:16:24] &lt;mato&gt;        telling them outright that static builds are not supported</div>
<div class="line">[Wednesday 17 November 2010] [05:17:46] &lt;mato&gt;        mikko: well, i can try and make a patch, i have native mingw on win2k3 working now</div>
<div class="line">[Wednesday 17 November 2010] [05:18:13] &lt;mato&gt;        so we&#8217;re agreed that the best approach is to disable static builds entirely?</div>
<div class="line">[Wednesday 17 November 2010] [05:19:10] &lt;mato&gt;        mikko: or you make the patch, since you&#8217;ve already got that patch series in progress, and i&#8217;ll test it</div>
<div class="line">[Wednesday 17 November 2010] [05:19:13] &lt;mato&gt;        up to you</div>
<div class="line">[Wednesday 17 November 2010] [05:19:25] &lt;mikko&gt;       mato: i can do the patch</div>
<div class="line">[Wednesday 17 November 2010] [05:19:55] &lt;mato&gt;        ok. let me know when it&#8217;s ready and i&#8217;ll test it</div>
<div class="line">[Wednesday 17 November 2010] [05:20:15] &lt;mato&gt;        so there should be no need to change the definition of ZMQ_EXPORT?</div>
<div class="line">[Wednesday 17 November 2010] [05:25:16] &lt;mikko&gt;       no need</div>
<div class="line">[Wednesday 17 November 2010] [05:25:26] &lt;mikko&gt;       if we assume that link is against dll</div>
<div class="line">[Wednesday 17 November 2010] [05:25:40] &lt;mato&gt;        ok, good</div>
<div class="line">[Wednesday 17 November 2010] [05:25:53] &lt;mato&gt;        sustrik: you following this at all?</div>
<div class="line">[Wednesday 17 November 2010] [05:26:20] &lt;sustrik&gt;     slightly</div>
<div class="line">[Wednesday 17 November 2010] [05:26:30] &lt;mikko&gt;       mato: found a possible autoconf annoyance on the way</div>
<div class="line">[Wednesday 17 November 2010] [05:26:38] &lt;sustrik&gt;     i don&#8217;t understand it much</div>
<div class="line">[Wednesday 17 November 2010] [05:26:47] &lt;mato&gt;        sustrik: the outcome is, we want to disable static library builds for Mingw</div>
<div class="line">[Wednesday 17 November 2010] [05:26:57] &lt;mato&gt;        sustrik: because it&#8217;s impossible to support them elegantly</div>
<div class="line">[Wednesday 17 November 2010] [05:27:15] &lt;mato&gt;        sustrik: our assumption is that 99% of windows developers only ever want a DLL anyway</div>
<div class="line">[Wednesday 17 November 2010] [05:27:26] &lt;sustrik&gt;     sure, nobody uses static libs on win today anyway</div>
<div class="line">[Wednesday 17 November 2010] [05:27:27] &lt;mato&gt;        mikko: what&#8217;s that?</div>
<div class="line">[Wednesday 17 November 2010] [05:27:34] &lt;mato&gt;        sustrik: ok, so we&#8217;ll officially disallow that</div>
<div class="line">[Wednesday 17 November 2010] [05:27:39] &lt;sustrik&gt;     ok</div>
<div class="line">[Wednesday 17 November 2010] [05:27:41] &lt;mato&gt;        sustrik: since the alternative is not worth the effort</div>
<div class="line">[Wednesday 17 November 2010] [05:31:52] &lt;mikko&gt;       mato: AC_DISABLE_STATIC doesn&#8217;t play nice in a conditional</div>
<div class="line">[Wednesday 17 November 2010] [05:33:34] &lt;mato&gt;        mikko: ah, as in inside an if statement?</div>
<div class="line">[Wednesday 17 November 2010] [05:33:58] &lt;sustrik&gt;     Guthur: hi, there&#8217;s an email at ML that looks like related to clrzmq2</div>
<div class="line">[Wednesday 17 November 2010] [05:34:12] &lt;sustrik&gt;     &#8220;System.AccessViolationException with multiple  subscriptions&#8221;</div>
<div class="line">[Wednesday 17 November 2010] [05:34:43] &lt;Guthur&gt;      sustrik, cheers, I didn&#8217;t get to check my emails this morning, I will check it out</div>
<div class="line">[Wednesday 17 November 2010] [05:35:45] &lt;sustrik&gt;     thx</div>
<div class="line">[Wednesday 17 November 2010] [05:36:01] &lt;mikko&gt;       mato: yes</div>
<div class="line">[Wednesday 17 November 2010] [05:38:58] &lt;mato&gt;        mikko: this seems to suggest it at least sort of works:</div>
<div class="line">[Wednesday 17 November 2010] [05:39:00] &lt;mato&gt;        <a class="reference external" href="http://www.mail-archive.com/libtool-patches&#64;gnu.org/msg02686.html">http://www.mail-archive.com/libtool-patches&#64;gnu.org/msg02686.html</a></div>
<div class="line">[Wednesday 17 November 2010] [05:40:37] &lt;Guthur&gt;      sustrik, Not the most descriptive ticket ever, hehe</div>
<div class="line">[Wednesday 17 November 2010] [05:40:44] &lt;mikko&gt;       mato: saw that</div>
<div class="line">[Wednesday 17 November 2010] [05:41:15] &lt;sustrik&gt;     Guthur: yeah, i&#8217;m not even sure it&#8217;s clrzmq2</div>
<div class="line">[Wednesday 17 November 2010] [05:41:17] &lt;mikko&gt;       mato: i&#8217;ll send you what i got</div>
<div class="line">[Wednesday 17 November 2010] [05:41:24] &lt;mikko&gt;       mato: in theory this should work</div>
<div class="line">[Wednesday 17 November 2010] [05:41:33] &lt;mikko&gt;       but it disables static build for everything</div>
<div class="line">[Wednesday 17 November 2010] [05:42:01] &lt;Guthur&gt;      sustrik, I&#8217;m at work at the moment so I may have to wait until I get home before getting very far with it</div>
<div class="line">[Wednesday 17 November 2010] [05:42:18] &lt;Guthur&gt;      I can&#8217;t post to the ML from here</div>
<div class="line">[Wednesday 17 November 2010] [05:42:29] &lt;sustrik&gt;     Guthur: sure, no haste</div>
<div class="line">[Wednesday 17 November 2010] [05:43:01] &lt;mikko&gt;       mato: looks like i need AC_ENABLE_STATIC for the non cygwin/mingw32 branch</div>
<div class="line">[Wednesday 17 November 2010] [05:43:26] &lt;mato&gt;        mikko: :-(, ok but how does that interact with what the user asks for on the command line?</div>
<div class="line">[Wednesday 17 November 2010] [05:43:59] &lt;mikko&gt;       mato: command line overrides that</div>
<div class="line">[Wednesday 17 November 2010] [05:46:48] &lt;mato&gt;        mikko: my main concern is that at least some people on <a href="#id47"><span class="problematic" id="id48">*</span></a>NIX like to build with &#8211;disable-shared, e.g. when developing</div>
<div class="line">[Wednesday 17 November 2010] [05:47:17] &lt;mato&gt;        anyway, we can try all the sane combinations and see what happens</div>
<div class="line">[Wednesday 17 November 2010] [05:50:00] &lt;sustrik&gt;     mato, mikko: &#8211;disable-shared should work on <a href="#id49"><span class="problematic" id="id50">*</span></a>nix</div>
<div class="line">[Wednesday 17 November 2010] [05:50:08] &lt;sustrik&gt;     debugging without it is a pain</div>
<div class="line">[Wednesday 17 November 2010] [05:50:31] &lt;mato&gt;        sustrik: yes, yes, of course, by &#8220;some people&#8221; I meant precisely you :-)</div>
<div class="line">[Wednesday 17 November 2010] [05:50:35] &lt;sustrik&gt;     :)</div>
<div class="line">[Wednesday 17 November 2010] [05:52:02] &lt;mikko&gt;       mato: <a class="reference external" href="https://gist.github.com/486c939595caf56a50e5">https://gist.github.com/486c939595caf56a50e5</a></div>
<div class="line">[Wednesday 17 November 2010] [05:52:07] &lt;mikko&gt;       slightly weird at the moment</div>
<div class="line">[Wednesday 17 November 2010] [05:52:11] &lt;mikko&gt;       but seems to work</div>
<div class="line">[Wednesday 17 November 2010] [05:52:16] &lt;mikko&gt;       just need to clean up a bit</div>
<div class="line">[Wednesday 17 November 2010] [05:55:28] &lt;mato&gt;        ok, am going to test</div>
<div class="line">[Wednesday 17 November 2010] [05:56:23] &lt;sustrik&gt;     mikko, mato: i&#8217;ve sent the proposal to make mikko a maintainer</div>
<div class="line">[Wednesday 17 November 2010] [05:56:43] &lt;sustrik&gt;     if nobody objects, we&#8217;ll move on with it</div>
<div class="line">[Wednesday 17 November 2010] [06:00:05] &lt;mato&gt;        mikko: you&#8217;re missing a &#8220;test&#8221; on line 56</div>
<div class="line">[Wednesday 17 November 2010] [06:00:17] &lt;mato&gt;        mikko: it should read &#8220;if test &#8220;x$enable...&#8221;</div>
<div class="line">[Wednesday 17 November 2010] [06:03:13] &lt;mikko&gt;       mato: that part is a bit shady anyway</div>
<div class="line">[Wednesday 17 November 2010] [06:03:16] &lt;mikko&gt;       if you look carefully</div>
<div class="line">[Wednesday 17 November 2010] [06:03:33] &lt;mikko&gt;       it checks enable_static and errors out before AC_PROG_LIBTOOL has been called</div>
<div class="line">[Wednesday 17 November 2010] [06:03:39] &lt;mikko&gt;       not very logical</div>
<div class="line">[Wednesday 17 November 2010] [06:07:30] &lt;mato&gt;        mikko: yes, i&#8217;m just inspecting the configure output</div>
<div class="line">[Wednesday 17 November 2010] [06:07:49] &lt;mato&gt;        mikko: it doesn&#8217;t look entirely happy</div>
<div class="line">[Wednesday 17 November 2010] [06:08:04] &lt;kobus&gt;       mikko: Thanks, look like it builds ok. I just get an error: g++.exe: C:/msys/1.0/mingw/lib/gcc/mingw32/4.4.0/libstdc++.dll.a: No such file or directory. My MSYS has been configured to use a MinGW in the Qt SDK. So, I have to figure out why it is looking there</div>
<div class="line">[Wednesday 17 November 2010] [06:08:19] &lt;mikko&gt;       mato: <a class="reference external" href="https://gist.github.com/4ee2182fff0fae1b60d9">https://gist.github.com/4ee2182fff0fae1b60d9</a> this is the second iteration</div>
<div class="line">[Wednesday 17 November 2010] [06:08:26] &lt;mikko&gt;       mato: possibly a bit cleaner</div>
<div class="line">[Wednesday 17 November 2010] [06:09:16] &lt;mato&gt;        yes</div>
<div class="line">[Wednesday 17 November 2010] [06:09:20] &lt;mato&gt;        i&#8217;ll try that</div>
<div class="line">[Wednesday 17 November 2010] [06:09:22] &lt;mikko&gt;       &#8220;whether to build static libraries&#8221; doesnt say &#8220;no&#8221;</div>
<div class="line">[Wednesday 17 November 2010] [06:09:26] &lt;mikko&gt;       it just leaves blank</div>
<div class="line">[Wednesday 17 November 2010] [06:09:34] &lt;mato&gt;        that&#8217;s fine</div>
<div class="line">[Wednesday 17 November 2010] [06:12:40] &lt;mikko&gt;       autoconf is such a hack</div>
<div class="line">[Wednesday 17 November 2010] [06:14:08] &lt;mato&gt;        mikko: the 2nd iteration is much better, I no longer get weird errors from configure during it&#8217;s operation</div>
<div class="line">[Wednesday 17 November 2010] [06:14:31] &lt;mato&gt;        mikko: so it seems you moved the libtool initialization &#8220;early&#8221; enough to make it work correctly</div>
<div class="line">[Wednesday 17 November 2010] [06:15:19] &lt;mato&gt;        ok, works on Linux with and without &#8211;disable-shared, going to check on windows</div>
<div class="line">[Wednesday 17 November 2010] [06:22:11] &lt;kobus&gt;       mikko: My mingw doesn&#8217;t even have  a libstdc++.dll.a</div>
<div class="line">[Wednesday 17 November 2010] [06:22:31] &lt;mikko&gt;       hmm</div>
<div class="line">[Wednesday 17 November 2010] [06:22:37] &lt;mikko&gt;       kobus: do you have libstdc++.dll ?</div>
<div class="line">[Wednesday 17 November 2010] [06:26:48] &lt;kobus&gt;       mikko: In the mingw bin dir I have libstdc++-6.dll...</div>
<div class="line">[Wednesday 17 November 2010] [06:27:48] &lt;mikko&gt;       kobus: i can only talk for cross-compile</div>
<div class="line">[Wednesday 17 November 2010] [06:27:52] &lt;mikko&gt;       mato: does it build?</div>
<div class="line">[Wednesday 17 November 2010] [06:28:07] &lt;mato&gt;        mikko: building now</div>
<div class="line">[Wednesday 17 November 2010] [06:30:01] &lt;kobus&gt;       mikko: Strnage that gcc wants libstdc++.dll.a, I have a linstdc++-6.dll and libstdc++.a</div>
<div class="line">[Wednesday 17 November 2010] [06:30:38] &lt;mikko&gt;       i wonder if it does have anything to do with the qt sdk</div>
<div class="line">[Wednesday 17 November 2010] [06:30:46] &lt;mikko&gt;       kobus: try building &#8211;disable-static</div>
<div class="line">[Wednesday 17 November 2010] [06:30:55] &lt;mikko&gt;       kobus: thats what the newer revisions of the patches do</div>
<div class="line">[Wednesday 17 November 2010] [06:31:27] &lt;kobus&gt;       mikko: should I get the latest git master</div>
<div class="line">[Wednesday 17 November 2010] [06:32:24] &lt;mikko&gt;       kobus: it&#8217;s gonna take a few moments to get there. mato is testing the build on windows now</div>
<div class="line">[Wednesday 17 November 2010] [06:32:41] &lt;mikko&gt;       kobus: so if you wait until the build finishes we should know whether the fixes work</div>
<div class="line">[Wednesday 17 November 2010] [06:34:15] &lt;mato&gt;        mikko: ok, it builds, and make check works apart from inproc and ipc</div>
<div class="line">[Wednesday 17 November 2010] [06:34:36] &lt;mato&gt;        sustrik: win32 does not do &#8220;inproc&#8221; ?</div>
<div class="line">[Wednesday 17 November 2010] [06:34:45] &lt;mato&gt;        sustrik: i thought only &#8220;ipc&#8221; was unsupported</div>
<div class="line">[Wednesday 17 November 2010] [06:35:12] &lt;sustrik&gt;     it does</div>
<div class="line">[Wednesday 17 November 2010] [06:35:18] &lt;sustrik&gt;     why do you think so?</div>
<div class="line">[Wednesday 17 November 2010] [06:35:40] &lt;mato&gt;        oh, it&#8217;s only the reqrep test that&#8217;s failing</div>
<div class="line">[Wednesday 17 November 2010] [06:35:41] &lt;mato&gt;        interesting</div>
<div class="line">[Wednesday 17 November 2010] [06:36:03] &lt;mato&gt;        terminate called after throwing an instance of &#8216;zmq::error_t&#8217; what():  Protocol not supported</div>
<div class="line">[Wednesday 17 November 2010] [06:36:07] &lt;mato&gt;        This application has requested the Runtime to terminate it in an unusual way.</div>
<div class="line">[Wednesday 17 November 2010] [06:36:09] &lt;mato&gt;        Please contact the application&#8217;s support team for more information.</div>
<div class="line">[Wednesday 17 November 2010] [06:36:12] &lt;mato&gt;        FAIL: test_reqrep_ipc.exe</div>
<div class="line">[Wednesday 17 November 2010] [06:36:21] &lt;mato&gt;        sustrik: possibly a portability issue. those tests have not been checked on windows at all</div>
<div class="line">[Wednesday 17 November 2010] [06:36:26] &lt;mato&gt;        something to check eventually...</div>
<div class="line">[Wednesday 17 November 2010] [06:36:42] &lt;mato&gt;        ./c</div>
<div class="line">[Wednesday 17 November 2010] [06:37:05] &lt;sustrik&gt;     ok</div>
<div class="line">[Wednesday 17 November 2010] [06:40:48] &lt;Guthur&gt;      sustrik, I tried 16 subscribing processes on my box here, using clrzmq2, no exception</div>
<div class="line">[Wednesday 17 November 2010] [06:41:07] &lt;sustrik&gt;     Guthur: sure, just say so</div>
<div class="line">[Wednesday 17 November 2010] [06:41:31] &lt;Guthur&gt;      Once I get home, I&#8217;ll reply on the ML</div>
<div class="line">[Wednesday 17 November 2010] [06:41:52] &lt;sustrik&gt;     you don&#8217;t have to do other prople&#8217;s homework, just let them know you are paying attention</div>
<div class="line">[Wednesday 17 November 2010] [06:43:30] &lt;Guthur&gt;      sustrik: ack</div>
<div class="line">[Wednesday 17 November 2010] [06:47:01] &lt;mato&gt;        mikko: ok, all seems to work, i checked that on mingw &#8211;disable-shared / &#8211;enable-static behave as expected (i.e. fail)</div>
<div class="line">[Wednesday 17 November 2010] [06:48:15] &lt;kobus&gt;       mato: So can I use &#8211;disable-static?</div>
<div class="line">[Wednesday 17 November 2010] [06:49:56] &lt;mato&gt;        kobus: I&#8217;d suggest you want until these fixes we&#8217;re working on land on master.</div>
<div class="line">[Wednesday 17 November 2010] [06:50:06] &lt;mato&gt;        kobus: <a href="#id51"><span class="problematic" id="id52">*</span></a>wait</div>
<div class="line">[Wednesday 17 November 2010] [06:50:09] &lt;mikko&gt;       mato: happy with the patch?</div>
<div class="line">[Wednesday 17 November 2010] [06:50:35] &lt;mato&gt;        mikko: yes, the question now is, we should probably get this into maint as well as master, right?</div>
<div class="line">[Wednesday 17 November 2010] [06:50:53] &lt;mato&gt;        mikko: since 2.0.10 will have the same problems</div>
<div class="line">[Wednesday 17 November 2010] [06:52:29] &lt;mato&gt;        mikko: so, shall we take your patches from yesterday, #1,#2,#3,#5 plus this patch, and apply all to maint and master?</div>
<div class="line">[Wednesday 17 November 2010] [06:53:02] &lt;mato&gt;        there doesn&#8217;t appear to be anything specific to master in any of those patches AFAICT, let me try and apply them to maint now...</div>
<div class="line">[Wednesday 17 November 2010] [06:53:49] &lt;mikko&gt;       mato: are all of them relevant to maint as well?</div>
<div class="line">[Wednesday 17 November 2010] [06:53:55] &lt;mikko&gt;       like removing the stdint substs etc</div>
<div class="line">[Wednesday 17 November 2010] [06:54:02] &lt;mato&gt;        mikko: probably, checking now</div>
<div class="line">[Wednesday 17 November 2010] [06:55:08] &lt;mato&gt;        mikko: hmm, actually they&#8217;d have to be re-done for maint</div>
<div class="line">[Wednesday 17 November 2010] [06:55:17] &lt;mato&gt;        mikko: stuff has changed</div>
<div class="line">[Wednesday 17 November 2010] [06:55:21] &lt;mikko&gt;       mato: line numbers wont match etc</div>
<div class="line">[Wednesday 17 November 2010] [06:55:34] &lt;mato&gt;        sustrik: do we want to fix mingw in maint at all?</div>
<div class="line">[Wednesday 17 November 2010] [06:55:37] &lt;mikko&gt;       mato: i don&#8217;t know whether we even should do these for maint</div>
<div class="line">[Wednesday 17 November 2010] [06:55:38] &lt;mato&gt;        sustrik: is it worth it?</div>
<div class="line">[Wednesday 17 November 2010] [06:55:45] &lt;mato&gt;        mikko: yeah</div>
<div class="line">[Wednesday 17 November 2010] [06:55:54] &lt;mato&gt;        mikko: i&#8217;d be inclined to leave maint as is</div>
<div class="line">[Wednesday 17 November 2010] [06:56:18] &lt;mikko&gt;       mato: i agree</div>
<div class="line">[Wednesday 17 November 2010] [06:56:27] &lt;mato&gt;        ok</div>
<div class="line">[Wednesday 17 November 2010] [06:56:30] &lt;mikko&gt;       it also adds pressure to get 2.1.x beta / alpha out</div>
<div class="line">[Wednesday 17 November 2010] [06:56:33] &lt;mikko&gt;       which is a good thing</div>
<div class="line">[Wednesday 17 November 2010] [06:56:33] &lt;mato&gt;        yes</div>
<div class="line">[Wednesday 17 November 2010] [06:56:54] &lt;mato&gt;        i finally have time to get through the bits i have pending, so that will happen soon</div>
<div class="line">[Wednesday 17 November 2010] [06:57:15] &lt;mato&gt;        only thing pending from my side is documentation review and DSO symbol visibility</div>
<div class="line">[Wednesday 17 November 2010] [06:57:31] &lt;mato&gt;        the latter implies we can finally start numbering the DLL/SO ABI versions properly</div>
<div class="line">[Wednesday 17 November 2010] [06:57:42] &lt;mato&gt;        so master would be (I guess) libzmq.so.1</div>
<div class="line">[Wednesday 17 November 2010] [06:59:35] &lt;sustrik&gt;     +1</div>
<div class="line">[Wednesday 17 November 2010] [06:59:43] &lt;sustrik&gt;     let people move to 2.1</div>
<div class="line">[Wednesday 17 November 2010] [06:59:48] &lt;mato&gt;        ok</div>
<div class="line">[Wednesday 17 November 2010] [07:23:21] &lt;mikko&gt;       mato: <a class="reference external" href="http://valokuva.org/~mikko/b/">http://valokuva.org/~mikko/b/</a></div>
<div class="line">[Wednesday 17 November 2010] [07:23:25] &lt;mikko&gt;       happy with those going to ML?</div>
<div class="line">[Wednesday 17 November 2010] [07:23:31] &lt;mikko&gt;       will send after lunch</div>
<div class="line">[Wednesday 17 November 2010] [07:52:15] &lt;mato&gt;        mikko: yes, happy, just when you send them, please expand the commit messages a bit</div>
<div class="line">[Wednesday 17 November 2010] [07:52:25] &lt;mato&gt;        mikko: &#8220;MinGW32 build fixes&#8221; is not very descriptive</div>
<div class="line">[Wednesday 17 November 2010] [07:52:42] &lt;mato&gt;        mikko: otherwise, it&#8217;s all good</div>
<div class="line">[Wednesday 17 November 2010] [07:52:45] &lt;mato&gt;        mikko: thanks!</div>
<div class="line">[Wednesday 17 November 2010] [08:01:27] &lt;mato&gt;        i have to go, bbl maybe</div>
<div class="line">[Wednesday 17 November 2010] [08:30:43] &lt;Guthur&gt;      pieterh: In zmsg.c  the comments for encode and decode in zmsg.c are little confusing</div>
<div class="line">[Wednesday 17 November 2010] [08:31:10] &lt;Guthur&gt;      they are both the same yet obviously one is from string -&gt; byte and the other byte -&gt; string</div>
<div class="line">[Wednesday 17 November 2010] [08:31:20] &lt;pieterh&gt;     Guthur, feel free to send me a patch...</div>
<div class="line">[Wednesday 17 November 2010] [08:31:45] &lt;pieterh&gt;     I don&#8217;t have my pc here, mobile phone only</div>
<div class="line">[Wednesday 17 November 2010] [08:32:29] &lt;pieterh&gt;     That code is also in zfl now, zfl_msg class</div>
<div class="line">[Wednesday 17 November 2010] [08:33:10] &lt;Guthur&gt;      pieterh, ok I&#8217;ll try to get something sent later this evening</div>
<div class="line">[Wednesday 17 November 2010] [08:33:41] &lt;pieterh&gt;     Nice :)</div>
<div class="line">[Wednesday 17 November 2010] [08:34:41] &lt;Guthur&gt;      pieterh: Also, in regards to ZPL, do you see it only being used for device configuration? or should there be some support for arbitrary connections as well?</div>
<div class="line">[Wednesday 17 November 2010] [08:35:45] &lt;pieterh&gt;     I&#8217;d like to use zpl as a general config format, and layer device configs on top of that</div>
<div class="line">[Wednesday 17 November 2010] [08:36:13] &lt;Guthur&gt;      ok, it&#8217;s just that the examples only really showed context and device</div>
<div class="line">[Wednesday 17 November 2010] [08:36:36] &lt;pieterh&gt;     It&#8217;s confused now, two problems solved together</div>
<div class="line">[Wednesday 17 November 2010] [08:36:56] &lt;Guthur&gt;      in regards to device creation I was thinking some sort of factory pattern might be nice, to remove the creation away from the config class</div>
<div class="line">[Wednesday 17 November 2010] [08:37:10] &lt;pieterh&gt;     It came out of device configuration but we&#8217;re starting to use it more widely</div>
<div class="line">[Wednesday 17 November 2010] [08:37:26] &lt;pieterh&gt;     Yes, a factory pattern</div>
<div class="line">[Wednesday 17 November 2010] [08:37:44] &lt;Guthur&gt;      I have a prototype working in C# for the current devices (queue, forwarder, and streamer)</div>
<div class="line">[Wednesday 17 November 2010] [08:37:48] &lt;pieterh&gt;     zfl_device or somesuch</div>
<div class="line">[Wednesday 17 November 2010] [08:38:26] &lt;pieterh&gt;     See also the zdevices project where I hope to collect example devices in random languages</div>
<div class="line">[Wednesday 17 November 2010] [08:38:53] &lt;Guthur&gt;      oh, I&#8217;ll check that out</div>
<div class="line">[Wednesday 17 November 2010] [08:39:32] &lt;pieterh&gt;     It should probably move to the ZeroMQ organisation on github</div>
<div class="line">[Wednesday 17 November 2010] [08:40:58] &lt;Guthur&gt;      yeah it would make sense</div>
<div class="line">[Wednesday 17 November 2010] [08:41:27] &lt;Guthur&gt;      I don&#8217;t think devices should really have been including in the main 0MQ lib</div>
<div class="line">[Wednesday 17 November 2010] [08:41:33] &lt;Guthur&gt;      included*</div>
<div class="line">[Wednesday 17 November 2010] [08:41:51] &lt;Guthur&gt;      but on the other side are worth having around</div>
<div class="line">[Wednesday 17 November 2010] [09:07:48] &lt;Guthur&gt;      pieterh: I can put my implementation of device creation on github if you would be interested in having a look</div>
<div class="line">[Wednesday 17 November 2010] [09:08:20] &lt;Guthur&gt;      Even if you are not familiar with C# you should be able to understand it</div>
<div class="line">[Wednesday 17 November 2010] [09:09:13] &lt;pieterh&gt;     Ah, for sure, sharing code is always good... do use the list, many people are interested in devices imo</div>
<div class="line">[Wednesday 17 November 2010] [09:11:17] &lt;mikko&gt;       howdy pieterh</div>
<div class="line">[Wednesday 17 November 2010] [09:11:34] &lt;pieterh&gt;     Hi mikko!</div>
<div class="line">[Wednesday 17 November 2010] [09:12:18] &lt;mikko&gt;       hows tricks?</div>
<div class="line">[Wednesday 17 November 2010] [09:15:01] &lt;pieterh&gt;     Ah, well enough...</div>
<div class="line">[Wednesday 17 November 2010] [09:15:30] &lt;pieterh&gt;     Kind of laid up for a while, but have my trusty Android</div>
<div class="line">[Wednesday 17 November 2010] [09:15:43] &lt;CIA-20&gt;      zeromq2: 03Mikko Koppanen 07master * r3dbd5d5 10/ (configure.in tests/Makefile.am):</div>
<div class="line">[Wednesday 17 November 2010] [09:15:43] &lt;CIA-20&gt;      zeromq2: Fix mingw32 build</div>
<div class="line">[Wednesday 17 November 2010] [09:15:43] &lt;CIA-20&gt;      zeromq2: MinGW32 defines __int64_t as long long, which causes the build to fail</div>
<div class="line">[Wednesday 17 November 2010] [09:15:43] &lt;CIA-20&gt;      zeromq2: unless -Wno-long-long is used. In addition the shutdown_stress test</div>
<div class="line">[Wednesday 17 November 2010] [09:15:43] &lt;CIA-20&gt;      zeromq2: isn&#8217;t currently compatible with Win.</div>
<div class="line">[Wednesday 17 November 2010] [09:15:44] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/9wYVtY">http://bit.ly/9wYVtY</a></div>
<div class="line">[Wednesday 17 November 2010] [09:15:45] &lt;CIA-20&gt;      zeromq2: 03Mikko Koppanen 07master * r9255952 10/ (acinclude.m4 configure.in):</div>
<div class="line">[Wednesday 17 November 2010] [09:15:45] &lt;CIA-20&gt;      zeromq2: MinGW32 build fixes</div>
<div class="line">[Wednesday 17 November 2010] [09:15:46] &lt;CIA-20&gt;      zeromq2: After long discussions in IRC we came to conclusion that there is no</div>
<div class="line">[Wednesday 17 November 2010] [09:15:46] &lt;CIA-20&gt;      zeromq2: elegant way to handle static builds with MinGW32. This patch sets</div>
<div class="line">[Wednesday 17 November 2010] [09:15:47] &lt;CIA-20&gt;      zeromq2: AC_DISABLE_STATIC by default on MinGW32 and Cygwin</div>
<div class="line">[Wednesday 17 November 2010] [09:15:47] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/bNNMmI">http://bit.ly/bNNMmI</a></div>
<div class="line">[Wednesday 17 November 2010] [09:15:48] &lt;CIA-20&gt;      zeromq2: 03Mikko Koppanen 07master * rb83d0a1 10/ (configure.in src/Makefile.am):</div>
<div class="line">[Wednesday 17 November 2010] [09:15:48] &lt;CIA-20&gt;      zeromq2: Remove unnecessary conditional</div>
<div class="line">[Wednesday 17 November 2010] [09:15:58] &lt;pieterh&gt;     Mato is working on a 2.1 I hear, that&#8217;ll be nice to see</div>
<div class="line">[Wednesday 17 November 2010] [09:16:25] &lt;CIA-20&gt;      zeromq2: Remove unneeded substitutions</div>
<div class="line">[Wednesday 17 November 2010] [09:16:25] &lt;CIA-20&gt;      zeromq2: Couldn&#8217;t find a place where these substs were actually used</div>
<div class="line">[Wednesday 17 November 2010] [09:16:25] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/arqYuu">http://bit.ly/arqYuu</a></div>
<div class="line">[Wednesday 17 November 2010] [09:16:25] &lt;CIA-20&gt;      zeromq2: 03Mikko Koppanen 07master * r72a7b93 10/ acinclude.m4 :</div>
<div class="line">[Wednesday 17 November 2010] [09:16:26] &lt;CIA-20&gt;      zeromq2: Allow building without documentation.</div>
<div class="line">[Wednesday 17 November 2010] [09:16:26] &lt;CIA-20&gt;      zeromq2: Allows building without documentation even if asciidoc and xmlto are</div>
<div class="line">[Wednesday 17 November 2010] [09:16:27] &lt;CIA-20&gt;      zeromq2: installed. This eases up working with the build system because doc</div>
<div class="line">[Wednesday 17 November 2010] [09:16:27] &lt;CIA-20&gt;      zeromq2: generation take quite a while on repeated builds.</div>
<div class="line">[Wednesday 17 November 2010] [09:16:28] &lt;CIA-20&gt;      zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/cik80A">http://bit.ly/cik80A</a></div>
<div class="line">[Wednesday 17 November 2010] [10:10:08] &lt;<a href="#id1121"><span class="problematic" id="id1122">toni_</span></a>&gt;       hey there. I want to send a msg from an XREP to a REQ socket. The message came from a further XREP socket and therefore still has the envelope of the original sender. So I append another envelope containing the address of the REQ socket. So, the message the REQ socket receives contains one envelope. It seems that REQ socket require msgs without any envelopes. So I guess I have to store the envelope information as part of the payload. P</div>
<div class="line">[Wednesday 17 November 2010] [10:12:14] &lt;<a href="#id1123"><span class="problematic" id="id1124">toni_</span></a>&gt;       fyi I get an &#8220;Assertion failed: zmq_msg_size (<a href="#id1125"><span class="problematic" id="id1126">msg_</span></a>) == 0&#8221; in case the incoming message at the REQ socket contains an envelope</div>
<div class="line">[Wednesday 17 November 2010] [10:12:37] &lt;guido_g&gt;     there is a whole chapter in the guide about routing</div>
<div class="line">[Wednesday 17 November 2010] [10:13:07] &lt;guido_g&gt;     the address stack is delimited by a 0 sized message part, this is hardcoded</div>
<div class="line">[Wednesday 17 November 2010] [10:15:03] &lt;<a href="#id1127"><span class="problematic" id="id1128">toni_</span></a>&gt;       okay, the message contains this 0 sized part. But is it illegal to have an envelope prepended when the message is received by the REQ socket?</div>
<div class="line">[Wednesday 17 November 2010] [10:17:09] &lt;guido_g&gt;     obviously your address stack isn&#8217;t valid</div>
<div class="line">[Wednesday 17 November 2010] [10:18:36] &lt;guido_g&gt;     <a class="reference external" href="http://zguide.zeromq.org/chapter:all#toc42">http://zguide.zeromq.org/chapter:all#toc42</a> &lt;- check this first, i&#8217;d say</div>
<div class="line">[Wednesday 17 November 2010] [10:35:10] &lt;<a href="#id1129"><span class="problematic" id="id1130">toni_</span></a>&gt;       I read the guide and this chapter. So my problem is, when poping the envelope and passing this to the XREP: [req_sock_addr, &#8216;&#8217;, data] it works. In case the message looks like this: [req_socket_addr, client_addr, &#8216;&#8217;, data] it is received by the REQ socket, but I am getting this error. So my question is if a REQ sockets does not allow envelopes when it receives a message.</div>
<div class="line">[Wednesday 17 November 2010] [10:36:45] &lt;sustrik&gt;     <a href="#id1131"><span class="problematic" id="id1132">toni_</span></a>: req socket expects only the backtrace stack delimiter (i.e. empty message part) to be present in the reply aside of its actual content</div>
<div class="line">[Wednesday 17 November 2010] [10:37:26] &lt;<a href="#id1133"><span class="problematic" id="id1134">toni_</span></a>&gt;       sustrik: ah okay, so I have to pack the &#8220;client_addr&#8221; as part of the payload</div>
<div class="line">[Wednesday 17 November 2010] [10:37:40] &lt;<a href="#id1135"><span class="problematic" id="id1136">toni_</span></a>&gt;       thanks</div>
<div class="line">[Wednesday 17 November 2010] [10:37:45] &lt;sustrik&gt;     np</div>
<div class="line">[Wednesday 17 November 2010] [10:55:13] &lt;mikko&gt;       heyo</div>
<div class="line">[Wednesday 17 November 2010] [10:55:25] &lt;mikko&gt;       now when sustrik applied my patches it looks like my git tree locally is clean</div>
<div class="line">[Wednesday 17 November 2010] [10:55:31] &lt;mikko&gt;       no diffs and nothing to commit</div>
<div class="line">[Wednesday 17 November 2010] [10:55:47] &lt;mikko&gt;       still git status shows Your branch is ahead of &#8216;origin/master&#8217; by 6 commits.</div>
<div class="line">[Wednesday 17 November 2010] [10:56:02] &lt;mikko&gt;       how do i reset the state without git remote rm origin and readd?</div>
<div class="line">[Wednesday 17 November 2010] [11:01:31] &lt;mikko&gt;       git reset &#8211;hard origin/master probably</div>
<div class="line">[Wednesday 17 November 2010] [11:17:04] &lt;kobus&gt;       mikko: Has the mingw issues now been resolved? If so, how should I get the new code?</div>
<div class="line">[Wednesday 17 November 2010] [11:20:03] &lt;mikko&gt;       kobus: please try the master</div>
<div class="line">[Wednesday 17 November 2010] [11:20:16] &lt;mikko&gt;       kobus: it works for mato&#8217;s clean mingw32 environment</div>
<div class="line">[Wednesday 17 November 2010] [11:20:23] &lt;mikko&gt;       kobus: can&#8217;t say anything about the QT mingw</div>
<div class="line">[Wednesday 17 November 2010] [11:21:31] &lt;mikko&gt;       kobus: for master you need to run ./autogen.sh. if that is not possible in your env i can wrap you a dist package</div>
<div class="line">[Wednesday 17 November 2010] [11:22:02] &lt;kobus&gt;       mikko: It is just mingw installed under the Qt SDK dir. I installed MSYS and configured it to use the mingw by added the dir in /etc/fstab</div>
<div class="line">[Wednesday 17 November 2010] [11:23:30] &lt;kobus&gt;       mikko: If I run ./autogen.sh I get: autogen.sh: error: could not find pkg-config.  pkg-config is required to run autogen.sh.</div>
<div class="line">[Wednesday 17 November 2010] [11:23:45] &lt;mikko&gt;       kobus: i can do you a dist package if you want</div>
<div class="line">[Wednesday 17 November 2010] [11:24:47] &lt;kobus&gt;       mikko: I would appreciate it. Thanks for your effort! You are &#8220;a scholar and a gentleman&#8221; :-)</div>
<div class="line">[Wednesday 17 November 2010] [11:25:52] &lt;kobus&gt;       mikko: BTW just checking, you run autogen on Linux...</div>
<div class="line">[Wednesday 17 November 2010] [11:29:24] &lt;mikko&gt;       kobus: yes</div>
<div class="line">[Wednesday 17 November 2010] [11:29:38] &lt;mikko&gt;       you can run it on windows as well but you need to install pkg-config</div>
<div class="line">[Wednesday 17 November 2010] [11:29:44] &lt;mikko&gt;       which comes with hefty dependencies</div>
<div class="line">[Wednesday 17 November 2010] [11:29:46] &lt;mikko&gt;       like glib etc</div>
<div class="line">[Wednesday 17 November 2010] [11:31:05] &lt;kobus&gt;       mikko: So autogen generates the configure script? Based on what &#8220;inputs&#8221;?</div>
<div class="line">[Wednesday 17 November 2010] [11:32:54] &lt;mikko&gt;       kobus: try <a class="reference external" href="http://valokuva.org/~mikko/zeromq-2.1.0.zip">http://valokuva.org/~mikko/zeromq-2.1.0.zip</a></div>
<div class="line">[Wednesday 17 November 2010] [11:33:16] &lt;mikko&gt;       kobus: yes, autogen runs all the required tools to generate configure</div>
<div class="line">[Wednesday 17 November 2010] [11:33:17] &lt;kobus&gt;       mikko: Thanks, wil try...</div>
<div class="line">[Wednesday 17 November 2010] [11:33:22] &lt;mikko&gt;       autoreconf etc</div>
<div class="line">[Wednesday 17 November 2010] [11:39:23] &lt;kobus&gt;       mikko: Well it still gives the libstdc++.dll.a error.</div>
<div class="line">[Wednesday 17 November 2010] [11:40:15] &lt;mikko&gt;       whats the exact error message again?</div>
<div class="line">[Wednesday 17 November 2010] [11:40:39] &lt;kobus&gt;       mikko: g++.exe: C:/msys/1.0/mingw/lib/gcc/mingw32/4.4.0/libstdc++.dll.a: No such file or directory</div>
<div class="line">[Wednesday 17 November 2010] [11:41:48] &lt;mikko&gt;       kobus: <a class="reference external" href="http://old.nabble.com/libstdc%2B%2B.dll.a%3A-No-such-file-or-directory%28gcc-4.4.0%29-td27186916.html">http://old.nabble.com/libstdc%2B%2B.dll.a%3A-No-such-file-or-directory%28gcc-4.4.0%29-td27186916.html</a></div>
<div class="line">[Wednesday 17 November 2010] [11:41:54] &lt;mikko&gt;       similar error</div>
<div class="line">[Wednesday 17 November 2010] [11:42:40] &lt;mikko&gt;       kobus: <a class="reference external" href="http://trac.osgeo.org/geos/ticket/282">http://trac.osgeo.org/geos/ticket/282</a> this suggests a mingw bug</div>
<div class="line">[Wednesday 17 November 2010] [11:45:35] &lt;mikko&gt;       kobus: not sure if my tests are with same mingw version</div>
<div class="line">[Wednesday 17 November 2010] [11:49:52] &lt;kobus&gt;       mikko: I quickly try to switch a different mingw, but it didn&#8217;t work. But I will try it with a later version at home. The wife sent an SMS</div>
<div class="line">[Wednesday 17 November 2010] [11:50:09] &lt;mikko&gt;       kobus: i can try on windows later today</div>
<div class="line">[Wednesday 17 November 2010] [11:50:18] &lt;mikko&gt;       need to do a couple of things first</div>
<div class="line">[Wednesday 17 November 2010] [11:50:45] &lt;kobus&gt;       mikko: Thanks again for your help and effort. I will chat again later today or tomorrow</div>
<div class="line">[Wednesday 17 November 2010] [11:51:13] &lt;mikko&gt;       cool</div>
<div class="line">[Wednesday 17 November 2010] [11:51:16] &lt;mikko&gt;       talk to you later</div>
<div class="line">[Wednesday 17 November 2010] [11:51:30] &lt;kobus&gt;       Ciao!</div>
<div class="line">[Wednesday 17 November 2010] [12:08:36] &lt;mikko&gt;       mingw32 succeeded on faily builds</div>
<div class="line">[Wednesday 17 November 2010] [12:10:06] &lt;sustrik&gt;     nice</div>
<div class="line">[Wednesday 17 November 2010] [12:11:02] &lt;mikko&gt;       still a couple of fixes coming</div>
<div class="line">[Wednesday 17 November 2010] [12:11:08] &lt;mikko&gt;       but the build looks pretty good now</div>
<div class="line">[Wednesday 17 November 2010] [12:11:29] &lt;sustrik&gt;     yep, only couple on bindings failing</div>
<div class="line">[Wednesday 17 November 2010] [12:11:35] &lt;sustrik&gt;     the core looks ok</div>
<div class="line">[Wednesday 17 November 2010] [12:12:19] &lt;mikko&gt;       well, it gives this: libtoolize: Remember to add <a href="#id53"><span class="problematic" id="id54">`</span></a>LT_INIT&#8217; to configure.in.</div>
<div class="line">[Wednesday 17 November 2010] [12:12:29] &lt;mikko&gt;       which i assume because AC_PROG_LIBTOOL is called from a macro</div>
<div class="line">[Wednesday 17 November 2010] [12:12:44] &lt;mikko&gt;       but i got a fix for that and a couple of other things done this evening</div>
<div class="line">[Wednesday 17 November 2010] [12:12:59] &lt;sustrik&gt;     good, just post them to the list and i&#8217;ll apply them</div>
<div class="line">[Wednesday 17 November 2010] [12:13:42] &lt;mikko&gt;       test_close (zmq.tests.test_socket.TestSocket) ... Assertion failed: !pgm_supported () (zmq.cpp:245)</div>
<div class="line">[Wednesday 17 November 2010] [12:13:50] &lt;mikko&gt;       pyzmq error test failure message</div>
<div class="line">[Wednesday 17 November 2010] [12:14:08] &lt;sustrik&gt;     seen that</div>
<div class="line">[Wednesday 17 November 2010] [12:14:37] &lt;sustrik&gt;     that&#8217;s maint?</div>
<div class="line">[Wednesday 17 November 2010] [12:14:47] &lt;sustrik&gt;     yes</div>
<div class="line">[Wednesday 17 November 2010] [12:14:53] &lt;mikko&gt;       yes</div>
<div class="line">[Wednesday 17 November 2010] [12:15:28] &lt;sustrik&gt;     aha, the test in question opens two contexts</div>
<div class="line">[Wednesday 17 November 2010] [12:15:39] &lt;sustrik&gt;     which in turn initialises OpenPGM twice</div>
<div class="line">[Wednesday 17 November 2010] [12:15:49] &lt;sustrik&gt;     which fails with old version of OpenPGM</div>
<div class="line">[Wednesday 17 November 2010] [12:16:08] &lt;sustrik&gt;     solved in OpenPGM/5 which is included in master</div>
<div class="line">[Wednesday 17 November 2010] [13:13:55] &lt;bgranger&gt;    minrk1: hi</div>
<div class="line">[Wednesday 17 November 2010] [13:27:12] &lt;s0undt3ch&gt;   hello ppl</div>
<div class="line">[Wednesday 17 November 2010] [13:27:32] &lt;s0undt3ch&gt;   I&#8217;ve built pyzmq using &#8211;inplace, however when running tests I&#8217;m getting</div>
<div class="line">[Wednesday 17 November 2010] [13:27:36] &lt;cremes&gt;      interesting new project for building complex 0mq devices:</div>
<div class="line">[Wednesday 17 November 2010] [13:27:37] &lt;cremes&gt;      <a class="reference external" href="http://www.igvita.com/2010/11/17/routing-with-ruby-zeromq-devices/">http://www.igvita.com/2010/11/17/routing-with-ruby-zeromq-devices/</a></div>
<div class="line">[Wednesday 17 November 2010] [13:27:55] &lt;s0undt3ch&gt;   <a class="reference external" href="http://paste.pocoo.org/show/292687/">http://paste.pocoo.org/show/292687/</a></div>
<div class="line">[Wednesday 17 November 2010] [13:28:34] &lt;bgranger&gt;    s0undt3ch:  where are you running the tests from?</div>
<div class="line">[Wednesday 17 November 2010] [13:29:02] &lt;bgranger&gt;    What platform are you on?</div>
<div class="line">[Wednesday 17 November 2010] [13:29:12] &lt;s0undt3ch&gt;   linux</div>
<div class="line">[Wednesday 17 November 2010] [13:29:22] &lt;bgranger&gt;    Did you build zeormq with pgm support?</div>
<div class="line">[Wednesday 17 November 2010] [13:29:27] &lt;s0undt3ch&gt;   bgranger: from where I&#8217;ve built it</div>
<div class="line">[Wednesday 17 November 2010] [13:29:39] &lt;s0undt3ch&gt;   zeromq is from my distro, ubuntu</div>
<div class="line">[Wednesday 17 November 2010] [13:29:59] &lt;bgranger&gt;    Version?</div>
<div class="line">[Wednesday 17 November 2010] [13:30:03] &lt;s0undt3ch&gt;   dunno if they build it or not with pgm</div>
<div class="line">[Wednesday 17 November 2010] [13:30:04] &lt;s0undt3ch&gt;   hmm</div>
<div class="line">[Wednesday 17 November 2010] [13:30:29] &lt;s0undt3ch&gt;   2.0.10</div>
<div class="line">[Wednesday 17 November 2010] [13:31:40] &lt;s0undt3ch&gt;   hmm pyzmq 2.0.9</div>
<div class="line">[Wednesday 17 November 2010] [13:31:47] &lt;s0undt3ch&gt;   problem?</div>
<div class="line">[Wednesday 17 November 2010] [13:32:13] &lt;bgranger&gt;    Can you try it with 2.0.10.  But this is an odd error that I have not seen before.  We just released 2.0.10 pyzmq yesterday.</div>
<div class="line">[Wednesday 17 November 2010] [13:32:30] &lt;s0undt3ch&gt;   hmm</div>
<div class="line">[Wednesday 17 November 2010] [13:32:43] &lt;s0undt3ch&gt;   updating git</div>
<div class="line">[Wednesday 17 November 2010] [13:33:16] &lt;s0undt3ch&gt;   now I can&#8217;t build pyzmq</div>
<div class="line">[Wednesday 17 November 2010] [13:33:34] &lt;s0undt3ch&gt;   <a class="reference external" href="http://paste.pocoo.org/show/292692/">http://paste.pocoo.org/show/292692/</a></div>
<div class="line">[Wednesday 17 November 2010] [13:35:43] &lt;s0undt3ch&gt;   what&#8217;s up with it?</div>
<div class="line">[Wednesday 17 November 2010] [13:38:34] &lt;bgranger&gt;    You just grabbed pyzmq master, which is not tracking 2.1.  You need to grab our atual 2.0.10 release from here:</div>
<div class="line">[Wednesday 17 November 2010] [13:39:12] &lt;bgranger&gt;    <a class="reference external" href="https://github.com/zeromq/pyzmq/downloads">https://github.com/zeromq/pyzmq/downloads</a></div>
<div class="line">[Wednesday 17 November 2010] [13:41:11] &lt;bgranger&gt;    Or if you want to follow the de branch for 2.0.x you can grab the 2.0.x branch.</div>
<div class="line">[Wednesday 17 November 2010] [13:45:10] &lt;s0undt3ch&gt;   Graterle Commu</div>
<div class="line">[Wednesday 17 November 2010] [13:45:20] &lt;s0undt3ch&gt;   opps sorry</div>
<div class="line">[Wednesday 17 November 2010] [13:45:35] &lt;s0undt3ch&gt;   bgranger: ah, ok</div>
<div class="line">[Wednesday 17 November 2010] [13:50:29] &lt;bgranger&gt;    Hi:  we hare having an issue with pgm enabled zeromq and the pyzmq test suite.</div>
<div class="line">[Wednesday 17 November 2010] [13:50:51] &lt;bgranger&gt;    We don&#8217;t use pgm in the test suite at all, but we are seeing a failure like this:</div>
<div class="line">[Wednesday 17 November 2010] [13:51:06] &lt;bgranger&gt;    Assertion failed: !pgm_supported () (zmq.cpp:240)</div>
<div class="line">[Wednesday 17 November 2010] [13:51:25] &lt;minrk&gt;       which happens in zmq_init()</div>
<div class="line">[Wednesday 17 November 2010] [13:51:34] &lt;bgranger&gt;    Are there limitations about how many contexts you can have per process if pgm is enabled.</div>
<div class="line">[Wednesday 17 November 2010] [13:51:44] &lt;bgranger&gt;    Yes, as Min said, it is zmq_init() that is failling.</div>
<div class="line">[Wednesday 17 November 2010] [14:00:19] &lt;minrk&gt;           zmq_assert (!pgm_supported ());</div>
<div class="line">[Wednesday 17 November 2010] [14:00:19] &lt;minrk&gt;           int rc = pgm_init (&amp;pgm_error);</div>
<div class="line">[Wednesday 17 November 2010] [14:01:37] &lt;minrk&gt;       zmq_init() contains:</div>
<div class="line">[Wednesday 17 November 2010] [14:01:37] &lt;minrk&gt;        zmq_assert (!pgm_supported ());</div>
<div class="line">[Wednesday 17 November 2010] [14:01:37] &lt;minrk&gt;        ...</div>
<div class="line">[Wednesday 17 November 2010] [14:01:37] &lt;minrk&gt;        int rc = pgm_init (&amp;pgm_error);</div>
<div class="line">[Wednesday 17 November 2010] [14:01:38] &lt;minrk&gt;       which seems to suggest that zmq_init can only be called once if you have PGM.</div>
<div class="line">[Wednesday 17 November 2010] [14:01:39] &lt;minrk&gt;       Is this correct?</div>
<div class="line">[Wednesday 17 November 2010] [14:03:50] &lt;minrk&gt;       If that&#8217;s true, we need a way to check at runtime whether PGM is being used. Is there such a method?</div>
<div class="line">[Wednesday 17 November 2010] [14:05:32] &lt;bgranger&gt;    But I think the the assert should not assert.  If pgm is already init&#8217;d, just pass?</div>
<div class="line">[Wednesday 17 November 2010] [14:05:40] &lt;bgranger&gt;    sustrik:  are you around?</div>
<div class="line">[Wednesday 17 November 2010] [14:06:39] &lt;minrk&gt;       comments at the assert:</div>
<div class="line">[Wednesday 17 November 2010] [14:06:39] &lt;minrk&gt;           //  Unfortunately, OpenPGM doesn&#8217;t support refcounted init/shutdown, thus,</div>
<div class="line">[Wednesday 17 November 2010] [14:06:40] &lt;minrk&gt;           //  let&#8217;s fail if it was initialised beforehand.</div>
<div class="line">[Wednesday 17 November 2010] [14:06:44] &lt;bgranger&gt;    I would think that the pgm_supported assert should be turned into a flag that zeromq sets to track if it has called pgm_init</div>
<div class="line">[Wednesday 17 November 2010] [14:06:55] &lt;bgranger&gt;    Only assert is someone else has called pmg_init beforehand.</div>
<div class="line">[Wednesday 17 November 2010] [14:16:53] &lt;sustrik&gt;     re</div>
<div class="line">[Wednesday 17 November 2010] [14:17:16] &lt;sustrik&gt;     bgranger: well, it&#8217;s a problem with OpenPGM</div>
<div class="line">[Wednesday 17 November 2010] [14:17:22] &lt;bgranger&gt;    OK</div>
<div class="line">[Wednesday 17 November 2010] [14:17:26] &lt;sustrik&gt;     it uses a global state</div>
<div class="line">[Wednesday 17 November 2010] [14:17:29] &lt;sustrik&gt;     0MQ does not</div>
<div class="line">[Wednesday 17 November 2010] [14:17:40] &lt;sustrik&gt;     (all the global state is in contexts)</div>
<div class="line">[Wednesday 17 November 2010] [14:17:54] &lt;sustrik&gt;     so creating 2 contexts creates a problem with OpenPGM</div>
<div class="line">[Wednesday 17 November 2010] [14:18:05] &lt;bgranger&gt;    OK, so that is a known problem.</div>
<div class="line">[Wednesday 17 November 2010] [14:18:11] &lt;sustrik&gt;     in new version it was solved by adding reference counting to pgm_init</div>
<div class="line">[Wednesday 17 November 2010] [14:18:23] &lt;sustrik&gt;     yes, it&#8217;s a known problem</div>
<div class="line">[Wednesday 17 November 2010] [14:18:29] &lt;bgranger&gt;    Is there a simple way we can determine if pgm is used, so pyzmq doesn&#8217;t assert here.</div>
<div class="line">[Wednesday 17 November 2010] [14:18:36] &lt;bgranger&gt;    Or should be just wait for the new pgm.</div>
<div class="line">[Wednesday 17 November 2010] [14:18:49] &lt;sustrik&gt;     there&#8217;s a new pgm with 2.1</div>
<div class="line">[Wednesday 17 November 2010] [14:19:01] &lt;bgranger&gt;    OK</div>
<div class="line">[Wednesday 17 November 2010] [14:19:10] &lt;bgranger&gt;    So this is only a 2.0 issue.</div>
<div class="line">[Wednesday 17 November 2010] [14:19:14] &lt;sustrik&gt;     yes</div>
<div class="line">[Wednesday 17 November 2010] [14:19:26] &lt;sustrik&gt;     it&#8217;s kind of dirty</div>
<div class="line">[Wednesday 17 November 2010] [14:19:32] &lt;sustrik&gt;     but that&#8217;s the way it is</div>
<div class="line">[Wednesday 17 November 2010] [14:19:38] &lt;sustrik&gt;     &#8220;solved in next version&#8221;</div>
<div class="line">[Wednesday 17 November 2010] [14:19:39] &lt;sustrik&gt;     shrug</div>
<div class="line">[Wednesday 17 November 2010] [14:19:39] &lt;minrk&gt;       it&#8217;s still important to be able to check if 0MQ was built with PGM, how do we check that?</div>
<div class="line">[Wednesday 17 November 2010] [14:19:46] &lt;sustrik&gt;     hm</div>
<div class="line">[Wednesday 17 November 2010] [14:20:05] &lt;sustrik&gt;     even before creating a context?</div>
<div class="line">[Wednesday 17 November 2010] [14:20:21] &lt;sustrik&gt;     i don&#8217;t think there&#8217;s a way to find out</div>
<div class="line">[Wednesday 17 November 2010] [14:20:29] &lt;minrk&gt;       is there a way after creating one?</div>
<div class="line">[Wednesday 17 November 2010] [14:20:42] &lt;sustrik&gt;     trying to open a PGM endpoint :)</div>
<div class="line">[Wednesday 17 November 2010] [14:20:48] &lt;sustrik&gt;     if you get EPROTONOTSUP</div>
<div class="line">[Wednesday 17 November 2010] [14:20:53] &lt;sustrik&gt;     there&#8217;s no PGM :)</div>
<div class="line">[Wednesday 17 November 2010] [14:21:10] &lt;sustrik&gt;     is it a problem?</div>
<div class="line">[Wednesday 17 November 2010] [14:21:26] &lt;sustrik&gt;     can&#8217;t we do with &#8220;known problem, solved in next version&#8221;?</div>
<div class="line">[Wednesday 17 November 2010] [14:21:42] &lt;minrk&gt;       well, the pyzmq test suite fails, because one of the test categories creates multiple contexts</div>
<div class="line">[Wednesday 17 November 2010] [14:22:03] &lt;sustrik&gt;     yep, seen that</div>
<div class="line">[Wednesday 17 November 2010] [14:22:10] &lt;sustrik&gt;     if it really matters</div>
<div class="line">[Wednesday 17 November 2010] [14:22:27] &lt;minrk&gt;       And if we can check, we can skip the invalid tests as known failures</div>
<div class="line">[Wednesday 17 November 2010] [14:22:37] &lt;sustrik&gt;     in theory the refcounting code from newer versions of openpgm can be backported to old version</div>
<div class="line">[Wednesday 17 November 2010] [14:22:50] &lt;bgranger&gt;    Which is a problem because pgm is built on ubuntu by default, so the test suite will always fail there.</div>
<div class="line">[Wednesday 17 November 2010] [14:22:59] &lt;sustrik&gt;     is it?</div>
<div class="line">[Wednesday 17 November 2010] [14:23:10] &lt;sustrik&gt;     i am using ubuntu</div>
<div class="line">[Wednesday 17 November 2010] [14:23:21] &lt;sustrik&gt;     and i have to say ./configure &#8211;with-pgm</div>
<div class="line">[Wednesday 17 November 2010] [14:23:25] &lt;sustrik&gt;     to get pgm compiled</div>
<div class="line">[Wednesday 17 November 2010] [14:23:40] &lt;sustrik&gt;     or you mean mikko&#8217;s auto builds?</div>
<div class="line">[Wednesday 17 November 2010] [14:24:09] &lt;minrk&gt;       I think he means the prebuilt package, yes</div>
<div class="line">[Wednesday 17 November 2010] [14:24:22] &lt;minrk&gt;       it does not build against pgm from source by default</div>
<div class="line">[Wednesday 17 November 2010] [14:25:00] &lt;sustrik&gt;     ok guys, if you believe it&#8217;s a problem, please complain on the mailing list</div>
<div class="line">[Wednesday 17 November 2010] [14:25:10] &lt;sustrik&gt;     it&#8217;s up to Steve McCoy to backport the fix</div>
<div class="line">[Wednesday 17 November 2010] [14:25:21] &lt;minrk&gt;       okay</div>
<div class="line">[Wednesday 17 November 2010] [14:26:14] &lt;bgranger&gt;    But I guess we can just try to use the pgm transport and set a flag in our test suite.  Not pretty though.   I would be tempted to simply let this go for now...</div>
<div class="line">[Wednesday 17 November 2010] [14:27:09] &lt;minrk&gt;       bgranger: if I just change the MQ test to use Processes instead of Threads, it would work</div>
<div class="line">[Wednesday 17 November 2010] [14:28:21] &lt;bgranger&gt;    Is that the only place we create a second Context in the test suite?</div>
<div class="line">[Wednesday 17 November 2010] [14:28:35] &lt;bgranger&gt;    If so I am fine with that.</div>
<div class="line">[Wednesday 17 November 2010] [14:28:38] &lt;minrk&gt;       it&#8217;s a matter of one word in the test</div>
<div class="line">[Wednesday 17 November 2010] [14:28:48] &lt;minrk&gt;       I&#8217;m not 100% sure, but possibly</div>
<div class="line">[Wednesday 17 November 2010] [14:31:07] &lt;bgranger&gt;    OK, lets try that in 2.0.x</div>
<div class="line">[Wednesday 17 November 2010] [14:31:13] &lt;minrk&gt;       okay</div>
<div class="line">[Wednesday 17 November 2010] [14:31:28] &lt;bgranger&gt;    Unless you want to try to put out a 2.0.10 fix</div>
<div class="line">[Wednesday 17 November 2010] [14:31:47] &lt;minrk&gt;       In general, since this means that PGM introduces a pretty significant difference in what you are allowed to do, there should probably be a runtime-accessible ZMQ_HAS_PGM flag or something.</div>
<div class="line">[Wednesday 17 November 2010] [14:31:57] &lt;minrk&gt;       I&#8217;ll put it in 2.0.x</div>
<div class="line">[Wednesday 17 November 2010] [14:32:33] &lt;bgranger&gt;    Yes, I agree (in zeromq).</div>
<div class="line">[Wednesday 17 November 2010] [14:32:51] &lt;bgranger&gt;    I think there is something like that, but it is not in the header file.</div>
<div class="line">[Wednesday 17 November 2010] [14:33:17] &lt;minrk&gt;       there&#8217;s a macro used at compile time, but I don&#8217;t think it&#8217;s available at runtime</div>
<div class="line">[Wednesday 17 November 2010] [14:33:48] &lt;bgranger&gt;    Right</div>
<div class="line">[Wednesday 17 November 2010] [14:48:57] &lt;s0undt3ch&gt;   sorry ppl, how do I checkout a specific branch with git? I need to pull 2.0.x</div>
<div class="line">[Wednesday 17 November 2010] [14:50:51] &lt;s0undt3ch&gt;   solved</div>
<div class="line">[Wednesday 17 November 2010] [14:50:58] &lt;Guthur&gt;      mikko, What is the build website tracking?</div>
<div class="line">[Wednesday 17 November 2010] [14:51:10] &lt;Guthur&gt;      mikko, Can we get clrzmq2 added?</div>
<div class="line">[Wednesday 17 November 2010] [14:51:44] &lt;s0undt3ch&gt;   bgranger: still have the same issues with the 2.0.x branch</div>
<div class="line">[Wednesday 17 November 2010] [14:51:49] &lt;s0undt3ch&gt;   ie, the assertion error</div>
<div class="line">[Wednesday 17 November 2010] [14:52:13] &lt;minrk&gt;       That&#8217;s because I haven&#8217;t pushed the fix yet</div>
<div class="line">[Wednesday 17 November 2010] [14:53:10] &lt;s0undt3ch&gt;   ah, ok minrk. So there&#8217;s a fix for this already?</div>
<div class="line">[Wednesday 17 November 2010] [14:53:22] &lt;minrk&gt;       well, workaround is more accurate</div>
<div class="line">[Wednesday 17 November 2010] [14:53:57] &lt;minrk&gt;       did you see the earlier discussion on this (~45 minutes ago here)?</div>
<div class="line">[Wednesday 17 November 2010] [14:54:00] &lt;bgranger&gt;    But pyzmq itself is working fine, the bug only affects situations where you create 2 contexts in the same process.</div>
<div class="line">[Wednesday 17 November 2010] [14:54:02] &lt;s0undt3ch&gt;   if it stops complainging and just works ;)</div>
<div class="line">[Wednesday 17 November 2010] [14:54:24] &lt;s0undt3ch&gt;   minrk: I was away, just read it now</div>
<div class="line">[Wednesday 17 November 2010] [14:54:31] &lt;minrk&gt;       ZeroMQ built with PGM can&#8217;t have multiple contexts in one process, and some tests do that</div>
<div class="line">[Wednesday 17 November 2010] [14:54:59] &lt;s0undt3ch&gt;   bgranger: ah, my app did create more than one context</div>
<div class="line">[Wednesday 17 November 2010] [14:55:11] &lt;s0undt3ch&gt;   well, test script is more like it</div>
<div class="line">[Wednesday 17 November 2010] [14:55:23] &lt;minrk&gt;       that&#8217;s a zeromq issue, not a pyzmq issue</div>
<div class="line">[Wednesday 17 November 2010] [14:55:58] &lt;minrk&gt;       If you want more than one context, you may not use PGM and 2.0.x</div>
<div class="line">[Wednesday 17 November 2010] [14:56:26] &lt;s0undt3ch&gt;   minrk: I probably won&#8217;t need more than one context. At least for now</div>
<div class="line">[Wednesday 17 November 2010] [14:56:45] &lt;minrk&gt;       okay</div>
<div class="line">[Wednesday 17 November 2010] [14:57:05] &lt;minrk&gt;       I understand it&#8217;s no longer a problem with 0MQ 2.1</div>
<div class="line">[Wednesday 17 November 2010] [15:02:45] &lt;sustrik&gt;     context is meant to be a singleton</div>
<div class="line">[Wednesday 17 November 2010] [15:02:55] &lt;sustrik&gt;     no point in creating multiple contexts</div>
<div class="line">[Wednesday 17 November 2010] [15:03:25] &lt;sustrik&gt;     (except for test purposes)</div>
<div class="line">[Wednesday 17 November 2010] [15:03:45] &lt;minrk&gt;       RIght, and it&#8217;s tests that are failing</div>
<div class="line">[Wednesday 17 November 2010] [15:04:01] &lt;sustrik&gt;     yes, it makes sense there</div>
<div class="line">[Wednesday 17 November 2010] [15:04:09] &lt;minrk&gt;       will it still raise the assertion if I create the second context after closing the first?</div>
<div class="line">[Wednesday 17 November 2010] [15:04:13] &lt;sustrik&gt;     i was responding to &lt;s0undt3ch&gt;</div>
<div class="line">[Wednesday 17 November 2010] [15:04:21] &lt;minrk&gt;       sure</div>
<div class="line">[Wednesday 17 November 2010] [15:04:28] &lt;sustrik&gt;     minrk: it should not</div>
<div class="line">[Wednesday 17 November 2010] [15:04:33] &lt;minrk&gt;       okay</div>
<div class="line">[Wednesday 17 November 2010] [15:16:46] &lt;bgranger&gt;    minrk:</div>
<div class="line">[Wednesday 17 November 2010] [15:16:54] &lt;minrk&gt;       yes</div>
<div class="line">[Wednesday 17 November 2010] [15:17:12] &lt;bgranger&gt;    I am testing 2.1dev, have you changed EINTR to KeyboardInterrupt like we talked about...</div>
<div class="line">[Wednesday 17 November 2010] [15:17:21] &lt;bgranger&gt;    It seems to work that way...</div>
<div class="line">[Wednesday 17 November 2010] [15:17:32] &lt;minrk&gt;       ok, good</div>
<div class="line">[Wednesday 17 November 2010] [15:17:47] &lt;bgranger&gt;    Works super well!</div>
<div class="line">[Wednesday 17 November 2010] [15:19:15] &lt;bgranger&gt;    But I don&#8217;t see the commit where you fixed this...</div>
<div class="line">[Wednesday 17 November 2010] [15:19:23] &lt;minrk&gt;       fixed what?</div>
<div class="line">[Wednesday 17 November 2010] [15:19:26] &lt;bgranger&gt;    Or did you do nothing?</div>
<div class="line">[Wednesday 17 November 2010] [15:19:34] &lt;minrk&gt;       I haven&#8217;t pushed anything today</div>
<div class="line">[Wednesday 17 November 2010] [15:19:51] &lt;bgranger&gt;    I thought we would manually have to catch EINTR and raise KeyboardInterrupt.</div>
<div class="line">[Wednesday 17 November 2010] [15:19:59] &lt;bgranger&gt;    But it looks like it &#8220;just works&#8221;</div>
<div class="line">[Wednesday 17 November 2010] [15:20:09] &lt;bgranger&gt;    I think I understand what is going on...</div>
<div class="line">[Wednesday 17 November 2010] [15:20:41] &lt;bgranger&gt;    When you do ctrl-C, Python puts the KeyboardInterrupt on a queue to be handled when the interpreter is free.</div>
<div class="line">[Wednesday 17 November 2010] [15:21:04] &lt;bgranger&gt;    zeromq raises ENITR, and that allows the Python interpreter to actually raise the KeyboardInterrupt</div>
<div class="line">[Wednesday 17 November 2010] [15:21:16] &lt;bgranger&gt;    But the EINTR itself is silenced.</div>
<div class="line">[Wednesday 17 November 2010] [15:21:19] &lt;minrk&gt;       so we don&#8217;t actually have to handle it at all?</div>
<div class="line">[Wednesday 17 November 2010] [15:21:23] &lt;bgranger&gt;    Right</div>
<div class="line">[Wednesday 17 November 2010] [15:21:25] &lt;minrk&gt;       very nice</div>
<div class="line">[Wednesday 17 November 2010] [15:21:48] &lt;bgranger&gt;    Yes,  It worries me a little that the EINTR just sort of vanishes, but as long as it does so in a nice way, it is fine.</div>
<div class="line">[Wednesday 17 November 2010] [15:22:27] &lt;bgranger&gt;    I think the key is that both python and zeromq see the signal.</div>
<div class="line">[Wednesday 17 November 2010] [15:22:42] &lt;bgranger&gt;    But the test suite passes for 2.1 just fine.</div>
<div class="line">[Wednesday 17 November 2010] [15:23:01] &lt;bgranger&gt;    Which is huge.</div>
<div class="line">[Wednesday 17 November 2010] [15:23:49] &lt;bgranger&gt;    And FD and EVENTS seem to work fine.</div>
<div class="line">[Wednesday 17 November 2010] [15:24:21] &lt;bgranger&gt;    This will make it easier to integrate zmq sockets into Twisted.</div>
<div class="line">[Wednesday 17 November 2010] [15:24:32] &lt;minrk&gt;       ok, good</div>
<div class="line">[Wednesday 17 November 2010] [15:25:23] &lt;minrk&gt;       I didn&#8217;t know enough about the new options to write good tests, but I did test that they are at least the right values, which we wouldn&#8217;t get if we used uint64 like the others.</div>
<div class="line">[Wednesday 17 November 2010] [15:25:40] &lt;bgranger&gt;    That is fine.</div>
<div class="line">[Wednesday 17 November 2010] [15:26:37] &lt;bgranger&gt;    minrk: back to #ipython...</div>
<div class="line">[Wednesday 17 November 2010] [15:26:43] &lt;minrk&gt;       okay</div>
<div class="line">[Wednesday 17 November 2010] [15:29:09] &lt;Guthur&gt;      hehe, I was wondering what #ipython was</div>
<div class="line">[Wednesday 17 November 2010] [15:35:21] &lt;minrk&gt;       mikko: Is it possible to stop building pyzmq-master against zeromq-maint? pyzmq-master now depends on zeromq 2.1. We have a &#8216;2.0.x&#8217; branch that is the equivalent of zeromq&#8217;s &#8216;maint&#8217;</div>
<div class="line">[Wednesday 17 November 2010] [15:35:57] &lt;mikko&gt;       minrk: sure</div>
<div class="line">[Wednesday 17 November 2010] [15:36:00] &lt;mikko&gt;       i can disable the build</div>
<div class="line">[Wednesday 17 November 2010] [15:36:25] &lt;minrk&gt;       thanks</div>
<div class="line">[Wednesday 17 November 2010] [15:36:39] &lt;minrk&gt;       If you want pyzmq+zeromq-maint, you should use pyzmq-2.0.x</div>
<div class="line">[Wednesday 17 November 2010] [15:36:53] &lt;mikko&gt;       is it a different branch?</div>
<div class="line">[Wednesday 17 November 2010] [15:37:05] &lt;minrk&gt;       yes, the branch is actually called &#8216;2.0.x&#8217;</div>
<div class="line">[Wednesday 17 November 2010] [15:37:55] &lt;mikko&gt;       the build is now pyzmq-2.0.x_ZeroMQ2-maint_GCC</div>
<div class="line">[Wednesday 17 November 2010] [15:38:02] &lt;mikko&gt;       and the branch it builds from is 2.0.x</div>
<div class="line">[Wednesday 17 November 2010] [15:38:06] &lt;minrk&gt;       perfect, thanks!</div>
<div class="line">[Wednesday 17 November 2010] [15:38:21] &lt;mikko&gt;       building now as a test</div>
<div class="line">[Wednesday 17 November 2010] [15:39:10] &lt;mikko&gt;       minrk: builds, the tests still fail for that branch as well</div>
<div class="line">[Wednesday 17 November 2010] [15:39:31] &lt;minrk&gt;       Ah, sorry, I was actually just in the process of pushing a possible fix</div>
<div class="line">[Wednesday 17 November 2010] [15:41:07] &lt;minrk&gt;       It&#8217;s a pgm issue in the test suite, but at least the target is right, so once I fix the bug, it will work</div>
<div class="line">[Wednesday 17 November 2010] [15:41:53] &lt;minrk&gt;       pyzmq-master would never build against zeromq-maint, until zeromq-maint is 2.1 though</div>
<div class="line">[Wednesday 17 November 2010] [15:42:11] &lt;mikko&gt;       ok</div>
<div class="line">[Wednesday 17 November 2010] [15:42:18] &lt;mikko&gt;       hopefully the builds are now sorted</div>
<div class="line">[Wednesday 17 November 2010] [15:42:34] &lt;mikko&gt;       i can add you an account if you want to configure pyzmq builds further</div>
<div class="line">[Wednesday 17 November 2010] [15:42:47] &lt;minrk&gt;       oh, sure</div>
<div class="line">[Wednesday 17 November 2010] [15:42:49] &lt;mikko&gt;       email notifications or such</div>
<div class="line">[Wednesday 17 November 2010] [15:42:51] &lt;mikko&gt;       sec</div>
<div class="line">[Wednesday 17 November 2010] [15:42:55] &lt;minrk&gt;       That would be great</div>
<div class="line">[Wednesday 17 November 2010] [15:43:24] &lt;mikko&gt;       minrk: see query for user / pass</div>
<div class="line">[Wednesday 17 November 2010] [15:43:30] &lt;mikko&gt;       oh wait</div>
<div class="line">[Wednesday 17 November 2010] [15:43:34] &lt;mikko&gt;       i need to add permissions as well</div>
<div class="line">[Wednesday 17 November 2010] [15:44:46] &lt;mikko&gt;       now if you try with the details</div>
<div class="line">[Wednesday 17 November 2010] [15:44:52] &lt;mikko&gt;       you should be able to login / edit builds</div>
<div class="line">[Wednesday 17 November 2010] [15:45:32] &lt;minrk&gt;       great, thanks</div>
<div class="line">[Wednesday 17 November 2010] [16:10:44] &lt;Guthur&gt;      mikko: did you see my message about clrzmq2 earlier</div>
<div class="line">[Wednesday 17 November 2010] [16:20:58] &lt;mikko&gt;       Guthur: nope</div>
<div class="line">[Wednesday 17 November 2010] [16:21:00] &lt;mikko&gt;       missed that one</div>
<div class="line">[Wednesday 17 November 2010] [16:21:04] &lt;mikko&gt;       what was it about?</div>
<div class="line">[Wednesday 17 November 2010] [16:21:28] &lt;Guthur&gt;      It was about how we would go about adding clrzmq2 to the build system</div>
<div class="line">[Wednesday 17 November 2010] [16:21:51] &lt;mikko&gt;       give me url to the repo and instructions how to build and i can add it</div>
<div class="line">[Wednesday 17 November 2010] [16:22:19] &lt;mikko&gt;       does it build in mono?</div>
<div class="line">[Wednesday 17 November 2010] [16:22:21] &lt;Guthur&gt;      it has a 4 build configurations in the solution</div>
<div class="line">[Wednesday 17 November 2010] [16:22:28] &lt;Guthur&gt;      mikko yep</div>
<div class="line">[Wednesday 17 November 2010] [16:22:36] &lt;mikko&gt;       current clrzmq uses &#8220;xbuild clrzmq.sln&#8221;</div>
<div class="line">[Wednesday 17 November 2010] [16:23:17] &lt;Guthur&gt;      it has POSIX/WIN-Debug/Release</div>
<div class="line">[Wednesday 17 November 2010] [16:23:31] &lt;Guthur&gt;      and can target x86  or x64</div>
<div class="line">[Wednesday 17 November 2010] [16:23:55] &lt;mikko&gt;       is the repo under zeromq organisation?</div>
<div class="line">[Wednesday 17 November 2010] [16:24:00] &lt;Guthur&gt;      yep</div>
<div class="line">[Wednesday 17 November 2010] [16:24:07] &lt;Guthur&gt;      2 secs i will get the link</div>
<div class="line">[Wednesday 17 November 2010] [16:24:11] &lt;mikko&gt;       ok, let me try to build it</div>
<div class="line">[Wednesday 17 November 2010] [16:24:38] &lt;Guthur&gt;      <a class="reference external" href="https://github.com/zeromq/clrzmq2">https://github.com/zeromq/clrzmq2</a></div>
<div class="line">[Wednesday 17 November 2010] [16:25:03] &lt;Guthur&gt;      I would definitely be appreciative of feedback on the build process</div>
<div class="line">[Wednesday 17 November 2010] [16:26:22] &lt;mikko&gt;       /usr/lib/mono/3.5/Microsoft.Common.targets:  warning : TargetFrameworkVersion &#8216;v4.0&#8217; not supported by this toolset (ToolsVersion: 4.0).</div>
<div class="line">[Wednesday 17 November 2010] [16:26:51] &lt;Guthur&gt;      oh darn, that should be defaulting to 2.0</div>
<div class="line">[Wednesday 17 November 2010] [16:27:01] &lt;Guthur&gt;      MSVS changed it</div>
<div class="line">[Wednesday 17 November 2010] [16:27:04] &lt;mikko&gt;        /usr/lib/mono/3.5/Microsoft.CSharp.targets: error : Error executing tool &#8216;/usr/bin/dmcs&#8217;: ApplicationName=&#8217;/usr/bin/dmcs&#8217;, CommandLine=&#8217;/noconfig &#64;/tmp/tmp6f5fdb71.tmp&#8217;, CurrentDirectory=&#8217;/tmp/clrzmq2/clrzmq&#8217;</div>
<div class="line">[Wednesday 17 November 2010] [16:27:08] &lt;mikko&gt;       getting that as well</div>
<div class="line">[Wednesday 17 November 2010] [16:27:27] &lt;Guthur&gt;      oh that&#8217;s new</div>
<div class="line">[Wednesday 17 November 2010] [16:27:43] &lt;Guthur&gt;      let me try here, the solution most have got changed by MSVS</div>
<div class="line">[Wednesday 17 November 2010] [16:27:56] &lt;Guthur&gt;      It&#8217;s a challenge to juggle the two</div>
<div class="line">[Wednesday 17 November 2010] [16:28:40] &lt;Guthur&gt;      sorry mikko, give me a couple of minutes here</div>
<div class="line">[Wednesday 17 November 2010] [16:29:42] &lt;Guthur&gt;      The problem is now that if I change it with Mono it will probably be troublesome for MSVS</div>
<div class="line">[Wednesday 17 November 2010] [16:30:11] &lt;mikko&gt;       sure</div>
<div class="line">[Wednesday 17 November 2010] [16:31:39] &lt;Guthur&gt;      ok give me a bit longer and I will see if I can make the changes in MSVS so that it works for Mono</div>
<div class="line">[Wednesday 17 November 2010] [16:31:47] &lt;Guthur&gt;      just need to fire up the VM</div>
<div class="line">[Wednesday 17 November 2010] [16:32:20] &lt;Guthur&gt;      the framework one is easy</div>
<div class="line">[Wednesday 17 November 2010] [16:32:36] &lt;Guthur&gt;      the other one may is stranger</div>
<div class="line">[Wednesday 17 November 2010] [16:32:40] &lt;mikko&gt;       how do i build with xbuild ?</div>
<div class="line">[Wednesday 17 November 2010] [16:32:48] &lt;mikko&gt;       xbuild /target:??,??</div>
<div class="line">[Wednesday 17 November 2010] [16:32:49] &lt;Guthur&gt;      not sure, never used that before</div>
<div class="line">[Wednesday 17 November 2010] [16:33:01] &lt;Guthur&gt;      I can investigate though</div>
<div class="line">[Wednesday 17 November 2010] [16:33:18] &lt;Guthur&gt;      i was using monodeveloper</div>
<div class="line">[Wednesday 17 November 2010] [16:33:30] &lt;Guthur&gt;      monodevelop even</div>
<div class="line">[Wednesday 17 November 2010] [16:33:39] &lt;mikko&gt;       i think xbuild is the build tool from that</div>
<div class="line">[Wednesday 17 November 2010] [16:35:08] &lt;Guthur&gt;      must be separate, I don&#8217;t have it install even though i have monodevelop</div>
<div class="line">[Wednesday 17 November 2010] [16:35:47] &lt;mikko&gt;       comes in mono-xbuild package</div>
<div class="line">[Wednesday 17 November 2010] [16:36:05] &lt;mikko&gt;       xbuild is Mono&#8217;s implementation of msbuild</div>
<div class="line">[Wednesday 17 November 2010] [16:41:01] &lt;Guthur&gt;      no probs, i&#8217;ve got it now</div>
<div class="line">[Wednesday 17 November 2010] [16:41:12] &lt;Guthur&gt;      i&#8217;ll see if I can get it working</div>
<div class="line">[Wednesday 17 November 2010] [16:41:48] &lt;mikko&gt;       mdtool build &#8211;configuration:&#8217;POSIX_RELEASE|x86&#8217;</div>
<div class="line">[Wednesday 17 November 2010] [16:41:52] &lt;mikko&gt;       that builds it</div>
<div class="line">[Wednesday 17 November 2010] [16:41:56] &lt;mikko&gt;       ill add the build now</div>
<div class="line">[Wednesday 17 November 2010] [16:43:29] &lt;Guthur&gt;      Did you change the framework?</div>
<div class="line">[Wednesday 17 November 2010] [16:43:55] &lt;Guthur&gt;      I&#8217;ve just changed the framework of all the projects to 2.0</div>
<div class="line">[Wednesday 17 November 2010] [16:44:00] &lt;Guthur&gt;      about to push the changes</div>
<div class="line">[Wednesday 17 November 2010] [16:45:38] &lt;mikko&gt;       when i run this</div>
<div class="line">[Wednesday 17 November 2010] [16:45:38] &lt;mikko&gt;       mdtool build &#8211;configuration:&#8217;POSIX_RELEASE|x86&#8217; clrzmq.sln</div>
<div class="line">[Wednesday 17 November 2010] [16:45:45] &lt;mikko&gt;       it seems to output that it&#8217;s building</div>
<div class="line">[Wednesday 17 November 2010] [16:45:57] &lt;mikko&gt;       but i can&#8217;t find any build artifacts</div>
<div class="line">[Wednesday 17 November 2010] [16:46:59] &lt;Guthur&gt;      ok</div>
<div class="line">[Wednesday 17 November 2010] [16:47:10] &lt;Guthur&gt;      I will admit I have been using debug more than release</div>
<div class="line">[Wednesday 17 November 2010] [16:48:49] &lt;mikko&gt;       i should get a .dll out of the build process, right?</div>
<div class="line">[Wednesday 17 November 2010] [16:48:55] &lt;Guthur&gt;      yep</div>
<div class="line">[Wednesday 17 November 2010] [16:48:58] &lt;Guthur&gt;      just checking now</div>
<div class="line">[Wednesday 17 November 2010] [16:49:12] &lt;mikko&gt;       can you try building with either xbuild or mdtool?</div>
<div class="line">[Wednesday 17 November 2010] [16:49:17] &lt;Guthur&gt;      i&#8217;m using now</div>
<div class="line">[Wednesday 17 November 2010] [16:49:40] &lt;Guthur&gt;      it&#8217;s in release folder for me</div>
<div class="line">[Wednesday 17 November 2010] [16:49:52] &lt;Guthur&gt;      clrzmq/bin/release</div>
<div class="line">[Wednesday 17 November 2010] [16:50:14] &lt;mikko&gt;       whats your mdtool line?</div>
<div class="line">[Wednesday 17 November 2010] [16:50:26] &lt;Guthur&gt;      I copied directly from you</div>
<div class="line">[Wednesday 17 November 2010] [16:50:32] &lt;Guthur&gt;      mdtool build &#8211;configuration:&#8217;POSIX_RELEASE|x86&#8217;</div>
<div class="line">[Wednesday 17 November 2010] [16:51:48] &lt;mikko&gt;       nothing here</div>
<div class="line">[Wednesday 17 November 2010] [16:51:59] &lt;Guthur&gt;      umm, let me push something first, ok</div>
<div class="line">[Wednesday 17 November 2010] [16:52:20] &lt;mikko&gt;       sure</div>
<div class="line">[Wednesday 17 November 2010] [16:52:44] &lt;Guthur&gt;      I want to change it to /bin/Debug for one thing</div>
<div class="line">[Wednesday 17 November 2010] [16:53:08] &lt;Guthur&gt;      it seems to always want to create that directory no matter what I set the output directory to</div>
<div class="line">[Wednesday 17 November 2010] [16:53:43] &lt;Guthur&gt;      so it now it ends up with /debug and /Debug, even though the output only goes to /debug</div>
<div class="line">[Wednesday 17 November 2010] [16:55:52] &lt;mikko&gt;       dmcs command is mono&#8217;s preview implementation of framework 4.0</div>
<div class="line">[Wednesday 17 November 2010] [16:56:03] &lt;mikko&gt;       because the requirement is 4.0 xbuild tries to invoke it</div>
<div class="line">[Wednesday 17 November 2010] [16:56:10] &lt;mikko&gt;       and i don&#8217;t have it installed</div>
<div class="line">[Wednesday 17 November 2010] [17:01:08] &lt;Guthur&gt;      clrzmq2 targets 2.0 and above</div>
<div class="line">[Wednesday 17 November 2010] [17:01:42] &lt;Guthur&gt;      It would be nice to have some of the sugar with 4.0 but it&#8217;s probably better to support the wider install base</div>
<div class="line">[Wednesday 17 November 2010] [17:01:47] &lt;mikko&gt;       Guthur: sed -i s/v4.0/v2.0/ <em>/</em>.csproj</div>
<div class="line">[Wednesday 17 November 2010] [17:01:50] &lt;mikko&gt;       and it builds</div>
<div class="line">[Wednesday 17 November 2010] [17:02:02] &lt;Guthur&gt;      I have change it back to 2.0</div>
<div class="line">[Wednesday 17 November 2010] [17:02:02] &lt;mikko&gt;       xbuild /property:Configuration=POSIX_RELEASE /property:Platform=x86</div>
<div class="line">[Wednesday 17 November 2010] [17:02:08] &lt;mikko&gt;       that is the xbuild line</div>
<div class="line">[Wednesday 17 November 2010] [17:02:20] &lt;Guthur&gt;      MSVS decided it knew best and changed it to 2.0 when I converted the solution</div>
<div class="line">[Wednesday 17 November 2010] [17:02:24] &lt;Guthur&gt;      2.0/4.0</div>
<div class="line">[Wednesday 17 November 2010] [17:03:18] &lt;Guthur&gt;      I want to see if I can suppress the 3 warnings then I will push</div>
<div class="line">[Wednesday 17 November 2010] [17:07:32] &lt;mikko&gt;       in any case it&#8217;s added here <a class="reference external" href="http://build.valokuva.org/job/clrzmq2-master_ZeroMQ2-master_xbuild/">http://build.valokuva.org/job/clrzmq2-master_ZeroMQ2-master_xbuild/</a></div>
<div class="line">[Wednesday 17 November 2010] [17:07:41] &lt;mikko&gt;       it should build in 5am GMT daily build</div>
<div class="line">[Wednesday 17 November 2010] [17:12:10] &lt;Guthur&gt;      I&#8217;m just about to push</div>
<div class="line">[Wednesday 17 November 2010] [17:12:28] &lt;Guthur&gt;      mikko, one thing does mdtool, generate app.config?</div>
<div class="line">[Wednesday 17 November 2010] [17:13:56] &lt;Guthur&gt;      nvm, I think it is fine</div>
<div class="line">[Wednesday 17 November 2010] [17:13:58] &lt;Guthur&gt;      pushing</div>
<div class="line">[Wednesday 17 November 2010] [17:15:21] &lt;Guthur&gt;      pushed</div>
<div class="line">[Wednesday 17 November 2010] [17:15:48] &lt;Guthur&gt;      Sorry it wasn&#8217;t as streamed lined as it could have been</div>
<div class="line">[Wednesday 17 November 2010] [17:16:01] &lt;Guthur&gt;      but many thanks for testing, much appreciated</div>
<div class="line">[Wednesday 17 November 2010] [17:16:38] &lt;Guthur&gt;      sorting out all this build issues proofs way more challenging and fiddly than the actual coding, hehe</div>
<div class="line">[Wednesday 17 November 2010] [17:16:57] &lt;mikko&gt;       still fails</div>
<div class="line">[Wednesday 17 November 2010] [17:17:02] &lt;mikko&gt;       i&#8217;ll look into it in a min</div>
<div class="line">[Wednesday 17 November 2010] [17:17:07] &lt;mikko&gt;       need to iron a shirt for tomorrow</div>
<div class="line">[Wednesday 17 November 2010] [17:17:12] &lt;Guthur&gt;      no problem</div>
<div class="line">[Wednesday 17 November 2010] [17:20:33] &lt;Guthur&gt;      umm it throws errors yet it generates the dll</div>
<div class="line">[Wednesday 17 November 2010] [17:22:30] &lt;Guthur&gt;      ah i think it is something to do with the test projects</div>
<div class="line">[Wednesday 17 November 2010] [17:23:37] &lt;Guthur&gt;      mikko, do the test projects need to be built?</div>
<div class="line">[Wednesday 17 November 2010] [17:24:32] &lt;Guthur&gt;      oh I see the problem</div>
<div class="line">[Wednesday 17 November 2010] [17:24:36] &lt;Guthur&gt;      oops, my bad</div>
<div class="line">[Wednesday 17 November 2010] [17:24:47] &lt;Guthur&gt;      those app.config file were being tracked</div>
<div class="line">[Wednesday 17 November 2010] [17:26:36] &lt;Guthur&gt;      mikko: could you pull again, and try to build</div>
<div class="line">[Wednesday 17 November 2010] [17:26:46] &lt;Guthur&gt;      once you shirt is ironed of course, hehe</div>
<div class="line">[Wednesday 17 November 2010] [17:26:51] &lt;Guthur&gt;      your*</div>
<div class="line">[Wednesday 17 November 2010] [17:27:36] &lt;mikko&gt;       built</div>
<div class="line">[Wednesday 17 November 2010] [17:27:45] &lt;Guthur&gt;      cool</div>
<div class="line">[Wednesday 17 November 2010] [17:27:46] &lt;mikko&gt;       ** (local_lat/bin/Debug/local_lat.exe:2844): WARNING <a href="#id55"><span class="problematic" id="id56">**</span></a>: Shutting down finalizer thread timed out.</div>
<div class="line">[Wednesday 17 November 2010] [17:27:52] &lt;mikko&gt;       in test program</div>
<div class="line">[Wednesday 17 November 2010] [17:28:00] &lt;Guthur&gt;      umm</div>
<div class="line">[Wednesday 17 November 2010] [17:28:03] &lt;mikko&gt;       am i running the test programs correctly?</div>
<div class="line">[Wednesday 17 November 2010] [17:28:10] &lt;mikko&gt;       i&#8217;ve no idea what those bins do</div>
<div class="line">[Wednesday 17 November 2010] [17:28:12] &lt;mikko&gt;       (never had)</div>
<div class="line">[Wednesday 17 November 2010] [17:28:22] &lt;Guthur&gt;      they are not thoroughly tested to be honest</div>
<div class="line">[Wednesday 17 November 2010] [17:28:49] &lt;mikko&gt;       <a class="reference external" href="http://build.valokuva.org/job/clrzmq2-master_ZeroMQ2-master_xbuild/4/console">http://build.valokuva.org/job/clrzmq2-master_ZeroMQ2-master_xbuild/4/console</a></div>
<div class="line">[Wednesday 17 November 2010] [17:28:54] &lt;Guthur&gt;      _thr</div>
<div class="line">[Wednesday 17 November 2010] [17:28:56] &lt;Guthur&gt;      was working</div>
<div class="line">[Wednesday 17 November 2010] [17:29:46] &lt;Guthur&gt;      I&#8217;ll see if I can pin it down</div>
<div class="line">[Wednesday 17 November 2010] [17:32:57] &lt;Guthur&gt;      Sounds a little like the GC isn&#8217;t cleaning up something</div>
<div class="line">[Wednesday 17 November 2010] [17:33:26] &lt;Guthur&gt;      I probably should call Dispose on Socket and Context Explicitly</div>
<div class="line">[Wednesday 17 November 2010] [17:34:39] &lt;mikko&gt;       am i running the test programs correctly?</div>
<div class="line">[Wednesday 17 November 2010] [17:44:19] &lt;Guthur&gt;      Yeah, it seems fine</div>
<div class="line">[Wednesday 17 November 2010] [17:44:29] &lt;Guthur&gt;      It would probably throw some error otherwise</div>
<div class="line">[Wednesday 17 November 2010] [17:44:37] &lt;Guthur&gt;      I think its the dispose process</div>
<div class="line">[Wednesday 17 November 2010] [17:44:44] &lt;Guthur&gt;      I am going to investigate</div>
<div class="line">[Wednesday 17 November 2010] [17:45:43] &lt;mikko&gt;       maybe socket is not disposed when it comes to disposing context?</div>
<div class="line">[Wednesday 17 November 2010] [17:45:47] &lt;Guthur&gt;      clrzmq2 inherited the dispose code from clrzmq and think it might be broken</div>
<div class="line">[Wednesday 17 November 2010] [17:47:01] &lt;mikko&gt;       i&#8217;ve seen this warning with clrzmq as well</div>
<div class="line">[Wednesday 17 November 2010] [17:47:09] &lt;mikko&gt;       this wasnt a problem before 2.1.x branch</div>
<div class="line">[Wednesday 17 November 2010] [17:47:23] &lt;Guthur&gt;      ok, this is worth checking out</div>
<div class="line">[Wednesday 17 November 2010] [17:47:36] &lt;Guthur&gt;      Give me a while to get to the bottom of it</div>
<div class="line">[Wednesday 17 November 2010] [17:47:50] &lt;Guthur&gt;      going to do some research on Dispose</div>
<div class="line">[Wednesday 17 November 2010] [17:48:24] &lt;mikko&gt;       ure, no hurry</div>
<div class="line">[Wednesday 17 November 2010] [17:48:30] &lt;mikko&gt;       the build is now added in any case</div>
<div class="line">[Wednesday 17 November 2010] [17:54:46] &lt;Guthur&gt;      ok the base code is fine, just the test programs are bogus</div>
<div class="line">[Wednesday 17 November 2010] [17:55:00] &lt;Guthur&gt;      they should explicitly dispose</div>
<div class="line">[Wednesday 17 November 2010] [17:55:06] &lt;Guthur&gt;      I&#8217;ll fix those now</div>
<div class="line">[Wednesday 17 November 2010] [17:56:14] &lt;mikko&gt;       cool</div>
<div class="line">[Wednesday 17 November 2010] [18:01:44] &lt;mikko&gt;       i&#8217;m off to bed</div>
<div class="line">[Wednesday 17 November 2010] [18:01:47] &lt;mikko&gt;       see you tomorrow</div>
<div class="line">[Wednesday 17 November 2010] [18:04:35] &lt;Guthur&gt;      ok, thanks mikko</div>
<div class="line">[Thursday 18 November 2010] [04:10:39] &lt;vegaicm&gt;      Question: is it possible for an application to have multiple I/O threads (and therefore multiple zmq sockets) binding on the same TCP port? What I want to achieve is something similar to the classic spawning a limited number of threads for each new accepted connection. Considering the architecture of zeromq this seems not possible, but having this option may increase throughput.</div>
<div class="line">[Thursday 18 November 2010] [04:13:17] &lt;guido_g&gt;      first, io-threads are mq internal things and it is unlikely that you&#8217;ll ever need more than one</div>
<div class="line">[Thursday 18 November 2010] [04:13:55] &lt;guido_g&gt;      second, some worker pool examples are shown in the guide</div>
<div class="line">[Thursday 18 November 2010] [04:15:13] &lt;guido_g&gt;      you can create forwarder reading incomming messages and distributing them to the workers with a few lines of code, again see the guide for examples</div>
<div class="line">[Thursday 18 November 2010] [04:16:40] &lt;vegaicm&gt;      guido_g: I tried the simple hello work multithread , but I am not really impressed by its performance. Because all the messages pass though one devices I see it as a bottleneck. I was thinking to create more devices on different ports, but this not really what I was looking for: all the devices on the same port</div>
<div class="line">[Thursday 18 November 2010] [04:17:36] &lt;guido_g&gt;      you&#8217;re going through this port anyway on os level, so i can&#8217;t see any problem</div>
<div class="line">[Thursday 18 November 2010] [04:18:34] &lt;Guthur&gt;       vegaicm: If you look at the device code there is actually not much there</div>
<div class="line">[Thursday 18 November 2010] [04:18:47] &lt;Guthur&gt;       it just receives a message and passes it on</div>
<div class="line">[Thursday 18 November 2010] [04:19:33] &lt;Guthur&gt;       If that becomes a bottleneck I&#8217;d hazard that things have become too granular and you are not doing enough in your worker threads</div>
<div class="line">[Thursday 18 November 2010] [04:21:08] &lt;guido_g&gt;      w/o a more or less detailed description of the work to do and the message frequency all one can do is to guess</div>
<div class="line">[Thursday 18 November 2010] [04:22:29] &lt;vegaicm&gt;      guido_g, Guthur : what I meant is that with a zmq device I have 1 thread processing all the communication though a TCP socket. While if I can have more then 1 threads managing tcp/ip communication I can hare more throughput. Give me a minute and I will try to describe what I am comparing, but Guthur you are right: the worker threads aren&#8217;t doing much ... details coming now</div>
<div class="line">[Thursday 18 November 2010] [04:23:28] &lt;guido_g&gt;      vegaicm: read the guide, it explains what you can do in various simple examples, really</div>
<div class="line">[Thursday 18 November 2010] [04:25:42] &lt;vegaicm&gt;      I created a simple application using standard socket programming. This application spawn 1 thread for each incoming connection and process client requests. What the application does is to get a key=&gt;value from the client and write a it in a hash table with the proper mutex handling. I can reach 360k SET/sec .  With zmq using 1 device and 10 workers that do absolutely nothing I can&#8217;t go beyond the 45k messages/sec</div>
<div class="line">[Thursday 18 November 2010] [04:26:22] &lt;vegaicm&gt;      guido_g: I will check the guide again, maybe I missed something in there. Thanks.</div>
<div class="line">[Thursday 18 November 2010] [04:26:34] &lt;guido_g&gt;      <a class="reference external" href="http://zguide.zeromq.org/chapter:all#toc33">http://zguide.zeromq.org/chapter:all#toc33</a></div>
<div class="line">[Thursday 18 November 2010] [04:27:24] &lt;vegaicm&gt;      guido_g: I read it, and tried that code. It doesn&#8217;t meet my expectation :-/</div>
<div class="line">[Thursday 18 November 2010] [04:27:40] &lt;vegaicm&gt;      &#8220;You cannot use sockets except in the thread that created them.&#8221;</div>
<div class="line">[Thursday 18 November 2010] [04:27:45] &lt;guido_g&gt;      so?</div>
<div class="line">[Thursday 18 November 2010] [04:28:11] &lt;vegaicm&gt;      it is a bottleneck for me</div>
<div class="line">[Thursday 18 November 2010] [04:28:22] &lt;guido_g&gt;      sure</div>
<div class="line">[Thursday 18 November 2010] [04:30:49] &lt;vegaicm&gt;      I can create multiple ZMQ_REQ sockets and multiple workers pool, but this would mean I have to bind on multiple TCP ports</div>
<div class="line">[Thursday 18 November 2010] [04:31:19] &lt;guido_g&gt;      sounds fishy, but hey...</div>
<div class="line">[Thursday 18 November 2010] [04:31:59] &lt;Guthur&gt;       vegaicm: are you using inproc connections at the worker end of the device?</div>
<div class="line">[Thursday 18 November 2010] [04:32:56] &lt;vegaicm&gt;      correct, is fishy , especially for the client . Unless the client itself is a multithread application that connects to multiple socket.</div>
<div class="line">[Thursday 18 November 2010] [04:33:24] &lt;vegaicm&gt;      Guthur: yes, inproc between workers. tcp only for client-server comunication</div>
<div class="line">[Thursday 18 November 2010] [04:43:18] &lt;Guthur&gt;       guido_g: Does that performance hit sound right? I&#8217;d imagine that there would be some overhead but that seems like quite a bit.</div>
<div class="line">[Thursday 18 November 2010] [04:45:50] &lt;guido_g&gt;      depends on the implementation i&#8217;d say</div>
<div class="line">[Thursday 18 November 2010] [04:46:27] &lt;guido_g&gt;      but mq is not a &#8220;one size fits all&#8221; thing</div>
<div class="line">[Thursday 18 November 2010] [04:56:32] &lt;vegaicm&gt;      Guthur, guido_g : this is a <em>vague</em> idea of what I mean: <a class="reference external" href="http://pastebin.com/BWcT62GK">http://pastebin.com/BWcT62GK</a> . On 127.0.0.1 and with TCP,  1 client - 1 server I have 100k/4.485 = 22.3k messages processed per second.  If I have 10 clients and 10 servers, the messages processed are 100k x 10 / 6.379 (the slower client) = 156.8k messages per second. If I increase the number of clients/servers the figures go even better.</div>
<div class="line">[Thursday 18 November 2010] [05:03:16] &lt;guido_g&gt;      and what you&#8217;re showing?</div>
<div class="line">[Thursday 18 November 2010] [05:08:41] &lt;vegaicm&gt;      guido_g: look this: <a class="reference external" href="http://pastebin.com/GXbDiS9F">http://pastebin.com/GXbDiS9F</a> . I start 10 clients that connect to a multithread server that has 10 workers . 10 clients -&gt; 1 MT server = 41.8k msg/sec .   10 clients -&gt; 10 server = 156.8k msg/sec .    Where is the bottleneck? I doubt it is in inproc, but in the tcp socket</div>
<div class="line">[Thursday 18 November 2010] [05:10:06] &lt;guido_g&gt;      again, what do you want to show?</div>
<div class="line">[Thursday 18 November 2010] [05:10:51] &lt;vegaicm&gt;      I want to show that there is a bottleneck in having just 1 threads processing messages from a tcp port</div>
<div class="line">[Thursday 18 November 2010] [05:11:57] &lt;guido_g&gt;      this is something widely known, but ok</div>
<div class="line">[Thursday 18 November 2010] [05:13:01] &lt;vegaicm&gt;      guido_g: ok :) Then , what I am adding too is that having multiple threads on the same tcp port can increase performance a lot.</div>
<div class="line">[Thursday 18 November 2010] [05:14:06] &lt;guido_g&gt;      threads on a port?</div>
<div class="line">[Thursday 18 November 2010] [05:15:29] &lt;vegaicm&gt;      yep . With standard socket programming this is possible and quite easy. For example you can have the main process binded on the socket and waiting for connection. For each connection spawns a threads.</div>
<div class="line">[Thursday 18 November 2010] [05:15:47] &lt;vegaicm&gt;      but by design I think this is impossible in zeromq</div>
<div class="line">[Thursday 18 November 2010] [05:16:02] &lt;guido_g&gt;      it&#8217;s outright stupid</div>
<div class="line">[Thursday 18 November 2010] [05:16:55] &lt;guido_g&gt;      given the fact that a single server can process thousands of ongoing connections</div>
<div class="line">[Thursday 18 November 2010] [05:17:37] &lt;guido_g&gt;      this is why queueing and a worker pool is used</div>
<div class="line">[Thursday 18 November 2010] [05:21:37] &lt;vegaicm&gt;      what if I am ok to have hundreds/thousands of threads. As I was saying, I have a prototype of an application that spawn 1000 threads and processes requests from 1000 clients at a very good speed, 360k requests/sec . And it isn&#8217;t just a &#8220;hello world&#8221; where the workers do nothing, but it actually process some few GB of data</div>
<div class="line">[Thursday 18 November 2010] [05:22:01] &lt;vegaicm&gt;      and I would love to reach the same performance using zeromq , if possible</div>
<div class="line">[Thursday 18 November 2010] [05:22:12]         * guido_g gives up</div>
<div class="line">[Thursday 18 November 2010] [05:22:48] &lt;vegaicm&gt;      thanks :D</div>
<div class="line">[Thursday 18 November 2010] [05:42:12] &lt;pieterh&gt;      hi vegaicm</div>
<div class="line">[Thursday 18 November 2010] [05:42:56] &lt;pieterh&gt;      would you like to discuss high performance server architectures?</div>
<div class="line">[Thursday 18 November 2010] [05:43:31] &lt;vegaicm&gt;      hi pieterh . Sure</div>
<div class="line">[Thursday 18 November 2010] [05:43:49] &lt;pieterh&gt;      first of all, what is the work your threads are doing?</div>
<div class="line">[Thursday 18 November 2010] [05:45:31] &lt;vegaicm&gt;      right now the worker threads in zeromq they just send the &#8220;world&#8221; string back to the client, nothing more. But my future idea is to use the workers to process data in a key=&gt;value storage</div>
<div class="line">[Thursday 18 November 2010] [05:46:02] &lt;pieterh&gt;      your basic architecture depends on the kinds of work you are doing</div>
<div class="line">[Thursday 18 November 2010] [05:46:06] &lt;pieterh&gt;      i will explain</div>
<div class="line">[Thursday 18 November 2010] [05:46:21] &lt;pieterh&gt;      some tasks are totally independent, e.g. &#8220;here is a data set, compute me some stuff on it&#8221;</div>
<div class="line">[Thursday 18 November 2010] [05:46:42] &lt;pieterh&gt;      some tasks are highly interdependent, e.g. &#8220;get me something from a database&#8221;</div>
<div class="line">[Thursday 18 November 2010] [05:47:02] &lt;pieterh&gt;      in the first case, you can create a highly concurrent (parallel) architecture</div>
<div class="line">[Thursday 18 November 2010] [05:47:20] &lt;pieterh&gt;      in the second case that is fairly pointless and you can use a more serial architecture</div>
<div class="line">[Thursday 18 November 2010] [05:47:28] &lt;pieterh&gt;      ack?</div>
<div class="line">[Thursday 18 November 2010] [05:47:33] &lt;vegaicm&gt;      ack so far</div>
<div class="line">[Thursday 18 November 2010] [05:48:06] &lt;pieterh&gt;      now you need to get requests from clients and transfer them to your workers as rapidly as you can</div>
<div class="line">[Thursday 18 November 2010] [05:48:22] &lt;pieterh&gt;      workers can be processes, threads, or whatever</div>
<div class="line">[Thursday 18 November 2010] [05:48:32] &lt;pieterh&gt;      there are many strategies for doing this</div>
<div class="line">[Thursday 18 November 2010] [05:48:49] &lt;pieterh&gt;      indeed, starting a thread for each client is one option.  Some architectures start a process for each client.</div>
<div class="line">[Thursday 18 November 2010] [05:48:56] &lt;pieterh&gt;      on Linux, a process, a thread, it&#8217;s much the same</div>
<div class="line">[Thursday 18 November 2010] [05:49:18] &lt;pieterh&gt;      both are fairly heavy mechanisms</div>
<div class="line">[Thursday 18 November 2010] [05:49:37] &lt;vegaicm&gt;      ack on all this too</div>
<div class="line">[Thursday 18 November 2010] [05:49:40] &lt;pieterh&gt;      ack?</div>
<div class="line">[Thursday 18 November 2010] [05:50:00] &lt;vegaicm&gt;      yep</div>
<div class="line">[Thursday 18 November 2010] [05:50:02] &lt;pieterh&gt;      so in general when you come to ask for architecture advice, do not explain your solutions</div>
<div class="line">[Thursday 18 November 2010] [05:50:14] &lt;pieterh&gt;      but rather explain your problems and then collect possible solutions</div>
<div class="line">[Thursday 18 November 2010] [05:50:51] &lt;pieterh&gt;      now I&#8217;ll explain the very fastest possible model for getting stuff off a network and to workers</div>
<div class="line">[Thursday 18 November 2010] [05:51:12] &lt;vegaicm&gt;      ok, I am following you</div>
<div class="line">[Thursday 18 November 2010] [05:51:15] &lt;pieterh&gt;      first of all, you have one thread per network device</div>
<div class="line">[Thursday 18 November 2010] [05:51:27] &lt;pieterh&gt;      so that data can flow without interrupts</div>
<div class="line">[Thursday 18 November 2010] [05:51:32] &lt;pieterh&gt;      second, you have one thread per worker</div>
<div class="line">[Thursday 18 November 2010] [05:51:42] &lt;pieterh&gt;      so that tasks can execute without interrupts</div>
<div class="line">[Thursday 18 November 2010] [05:51:54] &lt;pieterh&gt;      third, you connect these two sets of threads using lock-free queues</div>
<div class="line">[Thursday 18 November 2010] [05:52:00] &lt;pieterh&gt;      so that messages can flow without interrupts</div>
<div class="line">[Thursday 18 November 2010] [05:52:20] &lt;CIA-20&gt;       zeromq2: 03Mikko Koppanen 07master * r945c931 10/ (acinclude.m4 configure.in):</div>
<div class="line">[Thursday 18 November 2010] [05:52:21] &lt;CIA-20&gt;       zeromq2: Run autoupdate on the configure.in</div>
<div class="line">[Thursday 18 November 2010] [05:52:21] &lt;CIA-20&gt;       zeromq2: I ran autoupdate on the configure.in, which generated most of the</div>
<div class="line">[Thursday 18 November 2010] [05:52:21] &lt;CIA-20&gt;       zeromq2: patch attached. There is also a small manual fix in which removes the</div>
<div class="line">[Thursday 18 November 2010] [05:52:21] &lt;CIA-20&gt;       zeromq2: warning &#8220;Remember to add LT_INIT to configure.in&#8221; which I assume is</div>
<div class="line">[Thursday 18 November 2010] [05:52:21] &lt;CIA-20&gt;       zeromq2: because AC_PROG_LIBTOOL was called inside a macro.</div>
<div class="line">[Thursday 18 November 2010] [05:52:21] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Mikko Koppanen &lt;<a class="reference external" href="mailto:mkoppanen&#37;&#52;&#48;php&#46;net">mkoppanen<span>&#64;</span>php<span>&#46;</span>net</a>&gt; - <a class="reference external" href="http://bit.ly/ciuque">http://bit.ly/ciuque</a></div>
<div class="line">[Thursday 18 November 2010] [05:52:40] &lt;pieterh&gt;      the single greatest slow down in a concurrent / multithread architecture is when threads are swapped in and out, or locked, or waiting</div>
<div class="line">[Thursday 18 November 2010] [05:53:05] &lt;pieterh&gt;      ideally, thus, you end up with exactly 1 thread per CPU, running full speed without any locks</div>
<div class="line">[Thursday 18 November 2010] [05:53:07] &lt;pieterh&gt;      ack?</div>
<div class="line">[Thursday 18 November 2010] [05:53:22] &lt;vegaicm&gt;      I am following you 100% so far</div>
<div class="line">[Thursday 18 November 2010] [05:53:41] &lt;pieterh&gt;      you understand that this is very different than &#8220;one thread per client&#8221;, which will result in chaotic use of the CPU cores</div>
<div class="line">[Thursday 18 November 2010] [05:53:53] &lt;pieterh&gt;      now here is the difficulty</div>
<div class="line">[Thursday 18 November 2010] [05:54:14] &lt;pieterh&gt;      creating these three layers that i described (i/o, workers, queues) is very very hard</div>
<div class="line">[Thursday 18 November 2010] [05:54:26] &lt;pieterh&gt;      that is why practically no projects do this</div>
<div class="line">[Thursday 18 November 2010] [05:54:32] &lt;pieterh&gt;      and so, people use techniques like you described</div>
<div class="line">[Thursday 18 November 2010] [05:54:48] &lt;pieterh&gt;      happily, we made zeromq for you</div>
<div class="line">[Thursday 18 November 2010] [05:54:53] &lt;pieterh&gt;      and it does exactly this</div>
<div class="line">[Thursday 18 November 2010] [05:55:28] &lt;pieterh&gt;      by design zeromq does not let you create one thread per client because it would be silly</div>
<div class="line">[Thursday 18 November 2010] [05:55:45] &lt;pieterh&gt;      what you do want control over</div>
<div class="line">[Thursday 18 November 2010] [05:55:50] &lt;pieterh&gt;      is the threading model for your workers</div>
<div class="line">[Thursday 18 November 2010] [05:56:15] &lt;pieterh&gt;      which is what zeromq gives you... you decide exactly how to architect your workers across one or more boxes</div>
<div class="line">[Thursday 18 November 2010] [05:57:00] &lt;pieterh&gt;      if you need to, you can start more than 1 I/O thread</div>
<div class="line">[Thursday 18 November 2010] [05:57:24] &lt;pieterh&gt;      does this all make sense?</div>
<div class="line">[Thursday 18 November 2010] [05:57:57] &lt;vegaicm&gt;      the 1 I/O seems to be my current limitation, because I have multiple TCP circuit handles by a single I/O thread. Is this correct?</div>
<div class="line">[Thursday 18 November 2010] [05:58:18] &lt;pieterh&gt;      note that 1 I/O thread can handle a _lot_ of messages per second</div>
<div class="line">[Thursday 18 November 2010] [05:58:29] &lt;pieterh&gt;      like several million</div>
<div class="line">[Thursday 18 November 2010] [05:58:43] &lt;vegaicm&gt;      on TCP ?</div>
<div class="line">[Thursday 18 November 2010] [05:58:48] &lt;pieterh&gt;      most of what you think you know about performance is, unfortunately, wrong</div>
<div class="line">[Thursday 18 November 2010] [05:58:49] &lt;pieterh&gt;      yes</div>
<div class="line">[Thursday 18 November 2010] [05:59:43] &lt;pieterh&gt;      you can monitor your system, under load, and test with more I/O threads</div>
<div class="line">[Thursday 18 November 2010] [05:59:50] &lt;pieterh&gt;      that is useful if you have more NICs</div>
<div class="line">[Thursday 18 November 2010] [06:00:48] &lt;vegaicm&gt;      pieterh: how can I test the maximum number of msgs/sec a I/O thread can process over TCP ?</div>
<div class="line">[Thursday 18 November 2010] [06:01:08] &lt;pieterh&gt;      use the performance test tools provided with zeromq</div>
<div class="line">[Thursday 18 November 2010] [06:01:17] &lt;pieterh&gt;      vegaicm, have you read the Guide?</div>
<div class="line">[Thursday 18 November 2010] [06:02:53] &lt;vegaicm&gt;      pieterh: tbh only the first two chapters. The multi-thread approach is what I was interested and I wanted to test it before going further</div>
<div class="line">[Thursday 18 November 2010] [06:04:45] &lt;pieterh&gt;      with zeromq you have to abandon your view of a server as a big thing with many clients</div>
<div class="line">[Thursday 18 November 2010] [06:04:55] &lt;pieterh&gt;      think instead of a cluster of servers</div>
<div class="line">[Thursday 18 November 2010] [06:05:03] &lt;pieterh&gt;      no central bottlenecks</div>
<div class="line">[Thursday 18 November 2010] [06:08:56] &lt;pieterh&gt;      vegaicm, I need to go, I hope this has helped you</div>
<div class="line">[Thursday 18 November 2010] [06:09:12] &lt;vegaicm&gt;      a cluster of servers is my aim. And inter-servers communications is what I need fast. This is why I was thinking to multiple I/O threads that manage persistent connections between clients and servers and between servers. So actually I don&#8217;t want an unlimited number of I/O threads spawned on demands, but a limited (and almost predefined) but high number of connections.</div>
<div class="line">[Thursday 18 November 2010] [06:09:44] &lt;vegaicm&gt;      pieterh: thanks a lot for your time, I will continue the read of the guide, maybe later on there will be something more relevant for the problem I have. Thanks again</div>
<div class="line">[Thursday 18 November 2010] [06:09:57] &lt;pieterh&gt;      kindly, don&#8217;t try to do 0MQ&#8217;s work, it&#8217;s not constructive</div>
<div class="line">[Thursday 18 November 2010] [06:10:34] &lt;vegaicm&gt;      ack :)</div>
<div class="line">[Thursday 18 November 2010] [06:11:08] &lt;pieterh&gt;      as well as reading the guide, make your own simple examples</div>
<div class="line">[Thursday 18 November 2010] [06:11:25] &lt;pieterh&gt;      and when you find _real_, not _imagined_ performance issues, let&#8217;s talk again</div>
<div class="line">[Thursday 18 November 2010] [06:11:56] &lt;vegaicm&gt;      pieterh: will do that. Thanks.</div>
<div class="line">[Thursday 18 November 2010] [07:48:52] &lt;mikko&gt;        good morning</div>
<div class="line">[Thursday 18 November 2010] [07:49:38] &lt;Guthur&gt;       morning mikko</div>
<div class="line">[Thursday 18 November 2010] [07:49:46] &lt;Guthur&gt;       cheers for the help last night</div>
<div class="line">[Thursday 18 November 2010] [07:50:10] &lt;Guthur&gt;       Hopefully the test applications should execute without exceptions now</div>
<div class="line">[Thursday 18 November 2010] [07:55:07] &lt;mikko&gt;        Guthur: haven&#8217;t checked this morning</div>
<div class="line">[Thursday 18 November 2010] [07:55:26] &lt;mikko&gt;        no warnings no</div>
<div class="line">[Thursday 18 November 2010] [07:55:28] &lt;mikko&gt;        w</div>
<div class="line">[Thursday 18 November 2010] [08:13:41] &lt;Guthur&gt;       mikko, cool</div>
<div class="line">[Thursday 18 November 2010] [09:56:14] &lt;mikko&gt;        sustrik: icc build: nbytes != -1 (tcp_socket.cpp:197)</div>
<div class="line">[Thursday 18 November 2010] [10:02:49] &lt;sustrik&gt;      mikko: we have to find out what&#8217;s the errno at theat point...</div>
<div class="line">[Thursday 18 November 2010] [10:03:24] &lt;sustrik&gt;      it should be reported to stderr</div>
<div class="line">[Thursday 18 November 2010] [10:03:27] &lt;sustrik&gt;      let me look</div>
<div class="line">[Thursday 18 November 2010] [10:04:10] &lt;mikko&gt;        /bin/bash: line 5:  8278 Aborted                 ${dir}$tst</div>
<div class="line">[Thursday 18 November 2010] [10:04:19] &lt;mikko&gt;        Bad file descriptor</div>
<div class="line">[Thursday 18 November 2010] [10:04:20] &lt;sustrik&gt;      Bad File Descriptor</div>
<div class="line">[Thursday 18 November 2010] [10:04:29] &lt;mikko&gt;        maybe it&#8217;s a race condition</div>
<div class="line">[Thursday 18 November 2010] [10:04:35] &lt;sustrik&gt;      yes</div>
<div class="line">[Thursday 18 November 2010] [10:04:38] &lt;mikko&gt;        as multiple builds might try to bind to same things</div>
<div class="line">[Thursday 18 November 2010] [10:04:43] &lt;sustrik&gt;      maybe one of the problems already reported on the ML</div>
<div class="line">[Thursday 18 November 2010] [10:05:09] &lt;sustrik&gt;      mikko: all builds go to the same directory?</div>
<div class="line">[Thursday 18 November 2010] [10:05:58] &lt;mikko&gt;        sustrik: nope</div>
<div class="line">[Thursday 18 November 2010] [10:06:11] &lt;mikko&gt;        sustrik: but they might try to bind at the same time</div>
<div class="line">[Thursday 18 November 2010] [10:06:12] &lt;sustrik&gt;      good</div>
<div class="line">[Thursday 18 November 2010] [10:06:17] &lt;mikko&gt;        if you have concurrent builds</div>
<div class="line">[Thursday 18 November 2010] [10:06:24] &lt;sustrik&gt;      aha</div>
<div class="line">[Thursday 18 November 2010] [10:06:24] &lt;mikko&gt;        only GCC builds do &#8216;make install&#8217;</div>
<div class="line">[Thursday 18 November 2010] [10:06:26] &lt;sustrik&gt;      true</div>
<div class="line">[Thursday 18 November 2010] [10:06:43] &lt;sustrik&gt;      anyway, this is a different problem</div>
<div class="line">[Thursday 18 November 2010] [10:06:47] &lt;sustrik&gt;      a buf in 0mq itself</div>
<div class="line">[Thursday 18 November 2010] [10:06:50] &lt;sustrik&gt;      bug</div>
<div class="line">[Thursday 18 November 2010] [10:07:05] &lt;mikko&gt;        non icc specific?</div>
<div class="line">[Thursday 18 November 2010] [10:07:43] &lt;sustrik&gt;      i don&#8217;t think so</div>
<div class="line">[Thursday 18 November 2010] [10:08:13] &lt;sustrik&gt;      it looks like we are trying to use a file desctiptor that we&#8217;ve already closed</div>
<div class="line">[Thursday 18 November 2010] [11:52:35] &lt;mikko&gt;        sustrik: there?</div>
<div class="line">[Thursday 18 November 2010] [22:02:39] &lt;gancient&gt;     hi all, i am trying to install python bindings for zeromq and it installs fine, but while importing i get the following error</div>
<div class="line">[Thursday 18 November 2010] [22:03:41] &lt;gancient&gt;     ImportError: cannot import name initthreads</div>
<div class="line">[Thursday 18 November 2010] [22:03:55] &lt;gancient&gt;     what does , build &#8220;in place&#8221; mean ?</div>
<div class="line">[Thursday 18 November 2010] [22:06:59] &lt;nettok&gt;       gancient: you ran &#8220;ldconfig&#8221; after installing zeromq lib?</div>
<div class="line">[Thursday 18 November 2010] [22:14:07] &lt;gancient&gt;     nettok: yes</div>
<div class="line">[Thursday 18 November 2010] [22:14:35] &lt;gancient&gt;     nettok: what is &#8220;build in place&#8221; it is necessary for running the pyzeromq test suite</div>
<div class="line">[Thursday 18 November 2010] [22:17:48] &lt;fowlduck&gt;     ah, a crapton of people</div>
<div class="line">[Thursday 18 November 2010] [22:18:07] &lt;fowlduck&gt;     so, how are people using zeromq in the wild?</div>
<div class="line">[Thursday 18 November 2010] [22:18:33] &lt;fowlduck&gt;     i&#8217;m just trying to wrap my head around how i could use it</div>
<div class="line">[Thursday 18 November 2010] [22:18:47] &lt;fowlduck&gt;     particularly for using it to queue long-running jobs</div>
<div class="line">[Thursday 18 November 2010] [22:18:54] &lt;nettok&gt;       I might be wrong but I think that is running &#8220;python setup.py build&#8221;</div>
<div class="line">[Thursday 18 November 2010] [22:19:45] &lt;nettok&gt;       did you copied setup.cfg.template -&gt; setup.cfg</div>
<div class="line">[Thursday 18 November 2010] [22:20:07] &lt;nettok&gt;       I don&#8217;t know what else could be</div>
<div class="line">[Thursday 18 November 2010] [22:20:43] &lt;gancient&gt;     nettok: i just closed the terminal and started back, and the import error mysteriously goes away !</div>
<div class="line">[Thursday 18 November 2010] [22:21:05] &lt;gancient&gt;     nettok: now no error with &#8220;import zmq&#8221;</div>
<div class="line">[Thursday 18 November 2010] [22:21:38] &lt;nettok&gt;       gancient: :)</div>
<div class="line">[Thursday 18 November 2010] [22:22:30] &lt;gancient&gt;     nettok: any idea why this might have happened ?</div>
<div class="line">[Thursday 18 November 2010] [23:12:28] &lt;<a href="#id1137"><span class="problematic" id="id1138">nettok_</span></a>&gt;      why there isn&#8217;t a &#8220;disconnect&#8221; in zmq sockets?</div>
<div class="line">[Thursday 18 November 2010] [23:56:23] &lt;<a href="#id1139"><span class="problematic" id="id1140">nettok_</span></a>&gt;      How do I disconnect a socket from a single endpoint without closing the socket?</div>
<div class="line">[Friday 19 November 2010] [00:13:20] &lt;cremes&gt; <a href="#id1141"><span class="problematic" id="id1142">nettok_</span></a>: you can&#8217;t</div>
<div class="line">[Friday 19 November 2010] [00:14:38] &lt;<a href="#id1143"><span class="problematic" id="id1144">nettok_</span></a>&gt;        cremes: well, that sucks</div>
<div class="line">[Friday 19 November 2010] [00:20:06] &lt;<a href="#id1145"><span class="problematic" id="id1146">nettok_</span></a>&gt;        I guess i&#8217;ll have to sacrifice auto load-balancing and have one socket per pusher</div>
<div class="line">[Friday 19 November 2010] [02:53:15] &lt;travlr&gt; sustrik: morning. are you around?</div>
<div class="line">[Friday 19 November 2010] [02:55:12] &lt;sustrik&gt;        travlr: hi</div>
<div class="line">[Friday 19 November 2010] [02:55:14] &lt;sustrik&gt;        morning</div>
<div class="line">[Friday 19 November 2010] [02:55:50] &lt;travlr&gt; well, it took me a couple more days. it&#8217;s been a busy week.</div>
<div class="line">[Friday 19 November 2010] [02:55:52] &lt;travlr&gt; but</div>
<div class="line">[Friday 19 November 2010] [02:56:06] &lt;travlr&gt; heres the first go of it <a class="reference external" href="http://travlr.github.com/zmqirclog/">http://travlr.github.com/zmqirclog/</a></div>
<div class="line">[Friday 19 November 2010] [02:57:29] &lt;sustrik&gt;        wow</div>
<div class="line">[Friday 19 November 2010] [02:57:32] &lt;sustrik&gt;        great</div>
<div class="line">[Friday 19 November 2010] [02:57:40] &lt;travlr&gt; still needs some work</div>
<div class="line">[Friday 19 November 2010] [02:57:40] &lt;sustrik&gt;        can i link it from the website?</div>
<div class="line">[Friday 19 November 2010] [02:57:44] &lt;travlr&gt; sure</div>
<div class="line">[Friday 19 November 2010] [02:58:28] &lt;travlr&gt; this is in raw form... should i remove some of the noise like &#8216;joins&#8217; and &#8216;quits&#8217;?</div>
<div class="line">[Friday 19 November 2010] [02:59:53] &lt;sustrik&gt;        done</div>
<div class="line">[Friday 19 November 2010] [03:00:19] &lt;sustrik&gt;        travlr: i would keep it in such a form as to minimise work on uploading new archives</div>
<div class="line">[Friday 19 November 2010] [03:00:50] &lt;travlr&gt; well its pretty easy actually. I&#8217;m already parsing lines.</div>
<div class="line">[Friday 19 November 2010] [03:01:16] &lt;sustrik&gt;        it&#8217;s up to you then</div>
<div class="line">[Friday 19 November 2010] [03:01:35] &lt;travlr&gt; ok then. cleaner is nicer... no?</div>
<div class="line">[Friday 19 November 2010] [03:02:26] &lt;sustrik&gt;        sure :)</div>
<div class="line">[Friday 19 November 2010] [03:02:48] &lt;travlr&gt; next, when i find some time, is to rebuild the zmqircd</div>
<div class="line">[Friday 19 November 2010] [03:03:05] &lt;travlr&gt; its broken being single threaded</div>
<div class="line">[Friday 19 November 2010] [03:03:38] &lt;sustrik&gt;        it tends to quit</div>
<div class="line">[Friday 19 November 2010] [03:03:42] &lt;sustrik&gt;        when commits are done</div>
<div class="line">[Friday 19 November 2010] [03:03:45] &lt;travlr&gt; yup</div>
<div class="line">[Friday 19 November 2010] [03:04:00] &lt;travlr&gt; i&#8217;ll get to sometime soon</div>
<div class="line">[Friday 19 November 2010] [03:04:58] &lt;travlr&gt; btw, this is a manual upload for now, because building with sphinx is in efficient... i may use something else... so...</div>
<div class="line">[Friday 19 November 2010] [03:05:15] &lt;travlr&gt; i&#8217;ll upload on sporatic occasion for now.</div>
<div class="line">[Friday 19 November 2010] [03:05:24] &lt;sustrik&gt;        sure</div>
<div class="line">[Friday 19 November 2010] [03:05:37] &lt;sustrik&gt;        understood, manual upload sucks</div>
<div class="line">[Friday 19 November 2010] [03:06:01] &lt;travlr&gt; no.. its automated, but its not on a cron yet</div>
<div class="line">[Friday 19 November 2010] [03:06:31] &lt;travlr&gt; it takes 5 solid minutes to build each time and 90% proc power</div>
<div class="line">[Friday 19 November 2010] [03:06:49] &lt;travlr&gt; it&#8217;s not smart enough to only build the new page</div>
<div class="line">[Friday 19 November 2010] [03:08:35] &lt;travlr&gt; ok, gotta go for now.. have a nice day</div>
<div class="line">[Friday 19 November 2010] [03:08:35] &lt;sustrik&gt;        i see</div>
<div class="line">[Friday 19 November 2010] [03:08:39] &lt;sustrik&gt;        see you</div>
<div class="line">[Friday 19 November 2010] [03:11:53] &lt;CIA-20&gt; zeromq2: 03Mikko Koppanen 07master * redf7c18 10/ (acinclude.m4 configure.in): (log message trimmed)</div>
<div class="line">[Friday 19 November 2010] [03:11:53] &lt;CIA-20&gt; zeromq2: Add a check that the compiler actually works.</div>
<div class="line">[Friday 19 November 2010] [03:11:53] &lt;CIA-20&gt; zeromq2: The patch tests that the C and C++ compilers actually exist</div>
<div class="line">[Friday 19 November 2010] [03:11:53] &lt;CIA-20&gt; zeromq2: and work. autoconf seems to default to &#8216;g++&#8217; when C++ compiler is not</div>
<div class="line">[Friday 19 November 2010] [03:11:53] &lt;CIA-20&gt; zeromq2: found, which causes the following error (when the compiler isn&#8217;t</div>
<div class="line">[Friday 19 November 2010] [03:11:54] &lt;CIA-20&gt; zeromq2: there):</div>
<div class="line">[Friday 19 November 2010] [03:11:55] &lt;CIA-20&gt; zeromq2: checking for uuid_generate in -luuid... no</div>
<div class="line">[Friday 19 November 2010] [06:36:37] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * rac40680 10/ src/object.cpp :</div>
<div class="line">[Friday 19 November 2010] [06:36:38] &lt;CIA-20&gt; zeromq2: Problem with blob_t initialisation fixed.</div>
<div class="line">[Friday 19 November 2010] [06:36:38] &lt;CIA-20&gt; zeromq2: HP&#8217;s version of STL doesn&#8217;t allow for initialisation of basic_string</div>
<div class="line">[Friday 19 November 2010] [06:36:38] &lt;CIA-20&gt; zeromq2: (blob_t) using NULL pointer, while SGI&#8217;s implementation is OK with</div>
<div class="line">[Friday 19 November 2010] [06:36:38] &lt;CIA-20&gt; zeromq2: that. Fixed.</div>
<div class="line">[Friday 19 November 2010] [06:36:38] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/d5OV4Y">http://bit.ly/d5OV4Y</a></div>
<div class="line">[Friday 19 November 2010] [17:10:54] &lt;nettok&gt; Is it possible to force dropping of the queued messages in an XREQ socket?</div>
<div class="line">[Friday 19 November 2010] [17:12:39] &lt;TomHome&gt;        noob question : what&#8217;s the difference between rabbitmq and zeromq ?</div>
<div class="line">[Friday 19 November 2010] [17:15:10] &lt;cremes&gt; nettok: yes, by closing the socket; all unsent messages will be dropped</div>
<div class="line">[Friday 19 November 2010] [17:15:33] &lt;nettok&gt; cremes: thank you</div>
<div class="line">[Friday 19 November 2010] [17:15:45] &lt;cremes&gt; TomHome: i think your best bet is to google for that answer; it&#8217;s been covered a bunch by folks far more glib than i</div>
<div class="line">[Friday 19 November 2010] [17:17:07] &lt;travlr&gt; you might also want to scan the new zeromq irc logs i put up this morning...</div>
<div class="line">[Friday 19 November 2010] [17:17:29] &lt;travlr&gt; <a class="reference external" href="http://travlr.github.com/zmqirclog/">http://travlr.github.com/zmqirclog/</a></div>
<div class="line">[Friday 19 November 2010] [17:18:32] &lt;travlr&gt; cremes: i think that you mentioned that you might have some logs of this channel... do you still have them?</div>
<div class="line">[Friday 19 November 2010] [17:22:09] &lt;cremes&gt; travlr: i do; do you want them?</div>
<div class="line">[Friday 19 November 2010] [17:22:26] &lt;cremes&gt; if so, give me a date range</div>
<div class="line">[Friday 19 November 2010] [17:23:19] &lt;travlr&gt; at the moment, i know i need around the last few days of June to around July 14</div>
<div class="line">[Friday 19 November 2010] [17:23:58] &lt;travlr&gt; i&#8217;m not sure if that is the biggest gap i have or not.</div>
<div class="line">[Friday 19 November 2010] [17:24:24] &lt;travlr&gt; there are various days and hours missing though.... i have to go through it yet</div>
<div class="line">[Friday 19 November 2010] [17:25:00] &lt;cremes&gt; ok... the logs i have are via a mac app called colloquy and are in a weird xml format</div>
<div class="line">[Friday 19 November 2010] [17:25:07] &lt;cremes&gt; they&#8217;ll likely need conversion to be useful</div>
<div class="line">[Friday 19 November 2010] [17:25:34] &lt;travlr&gt; that&#8217;s ok.. can you upload them somewhere.. maybe github?</div>
<div class="line">[Friday 19 November 2010] [17:27:14] &lt;cremes&gt; travlr: sure</div>
<div class="line">[Friday 19 November 2010] [17:27:20] &lt;travlr&gt; thanks :)</div>
<div class="line">[Friday 19 November 2010] [17:28:07] &lt;cremes&gt; i&#8217;ll aim to do it tomorrow... i&#8217;m about to cut out now for the day</div>
<div class="line">[Friday 19 November 2010] [17:28:32] &lt;travlr&gt; sure thing... no hurry..</div>
<div class="line">[Friday 19 November 2010] [17:41:19] &lt;mikko&gt;  travlr: <a class="reference external" href="http://valokuva.org/~mikko/zeromq.log">http://valokuva.org/~mikko/zeromq.log</a></div>
<div class="line">[Friday 19 November 2010] [17:41:27] &lt;mikko&gt;  thats roughly from Wed Mar 31 20:29:51 2010</div>
<div class="line">[Friday 19 November 2010] [17:41:32] &lt;mikko&gt;  there might be some gaps</div>
<div class="line">[Friday 19 November 2010] [17:41:45] &lt;travlr&gt; mikko, thank you</div>
<div class="line">[Friday 19 November 2010] [17:44:54] &lt;doug&gt;   huh, how can i tell if a message i get on a zmq socket has come from someone i&#8217;ve seen before?</div>
<div class="line">[Friday 19 November 2010] [17:46:04] &lt;travlr&gt; pretty much by including something for that in your app&#8217;s message layer</div>
<div class="line">[Friday 19 November 2010] [17:47:05] &lt;doug&gt;   ouch</div>
<div class="line">[Friday 19 November 2010] [17:47:11] &lt;doug&gt;   gonna make authentication a little difficult.</div>
<div class="line">[Friday 19 November 2010] [17:47:50] &lt;travlr&gt; there has been recent discussions about authentication here and on the mail list.</div>
<div class="line">[Friday 19 November 2010] [17:48:10] &lt;doug&gt;   i read a little bit of that on the list, know when it was discussed here?</div>
<div class="line">[Friday 19 November 2010] [17:48:21] &lt;travlr&gt; the idea is to keep zmq fundamentally light and fast</div>
<div class="line">[Friday 19 November 2010] [17:48:35] &lt;doug&gt;   always nice.</div>
<div class="line">[Friday 19 November 2010] [17:48:41] &lt;doug&gt;   i gotta client to serve, tho.</div>
<div class="line">[Friday 19 November 2010] [17:49:10] &lt;doug&gt;   figured zmq might be a great choice based on the plug that&#8217;s it&#8217;s used for financial messaging.</div>
<div class="line">[Friday 19 November 2010] [17:49:34] &lt;travlr&gt; i here ya... i use it for financial too... check the irc log search engine.. see the url above</div>
<div class="line">[Friday 19 November 2010] [17:50:05] &lt;travlr&gt; and the mail list archives are linked on the website</div>
<div class="line">[Friday 19 November 2010] [17:50:56] &lt;doug&gt;   i&#8217;ve already gone through hits on &#8220;authentication&#8221; from the list archives</div>
<div class="line">[Friday 19 November 2010] [17:51:07] &lt;travlr&gt; not enough info?</div>
<div class="line">[Friday 19 November 2010] [17:51:30] &lt;travlr&gt; check for &#8216;security&#8217; too.</div>
<div class="line">[Friday 19 November 2010] [17:52:51] &lt;travlr&gt; remember that zmq is not necessarily &#8216;internet&#8217; capable in itself</div>
<div class="line">[Friday 19 November 2010] [17:53:07] &lt;travlr&gt; security wise...</div>
<div class="line">[Friday 19 November 2010] [17:55:35] &lt;doug&gt;   yes, of course.</div>
<div class="line">[Friday 19 November 2010] [17:55:43] &lt;doug&gt;   looks like xrep sockets would at least give me identity info.</div>
<div class="line">[Friday 19 November 2010] [17:56:42] &lt;travlr&gt; i guess. i still have to involve myself more with the intracacies</div>
<div class="line">[Friday 19 November 2010] [17:57:17] &lt;travlr&gt; i&#8217;m about to dig into zmq deeper now</div>
<div class="line">[Friday 19 November 2010] [17:58:18] &lt;travlr&gt; pieter did a really nice job with the guide, i guess there is enough now for me to dig in &#8216;deeper&#8217;</div>
<div class="line">[Friday 19 November 2010] [17:59:23] Away     You are now marked as being away.</div>
<div class="line">[Friday 19 November 2010] [18:03:41] &lt;doug&gt;   yup.  would be nice to have some history on the specific situations zmq was evolved to solve</div>
<div class="line">[Friday 19 November 2010] [18:17:07] &lt;doug&gt;   it&#8217;s sort of like a subset of mpi, without a lot of the support infrastructure</div>
<div class="line">[Friday 19 November 2010] [18:17:17] &lt;doug&gt;   which i imagine makes it easier to deal with in a lot of ways</div>
<div class="line">[Friday 19 November 2010] [18:17:23] &lt;doug&gt;   a little less capable tho</div>
<div class="line">[Friday 19 November 2010] [18:19:54] &lt;Guthur&gt; ZMQ seems to be more the foundation about which domain specific infrastructure solutions can be built</div>
<div class="line">[Friday 19 November 2010] [18:20:23] &lt;Guthur&gt; I feel it help avoid ZMQ trying to many things badly and not many well</div>
<div class="line">[Friday 19 November 2010] [18:20:47] &lt;doug&gt;   i&#8217;m not sure what your first sentence actually means, guther.</div>
<div class="line">[Friday 19 November 2010] [18:21:51] &lt;Guthur&gt; i.e. some other project will build that missing infrastructure you mentioned on top of ZMQ</div>
<div class="line">[Friday 19 November 2010] [18:22:46] &lt;Guthur&gt; and so the vision of ZMQ will not get convoluted be some application specific requirements</div>
<div class="line">[Friday 19 November 2010] [18:23:53] &lt;doug&gt;   i&#8217;d guess that zmq is already the product of application specific requirements</div>
<div class="line">[Friday 19 November 2010] [18:25:01] &lt;Guthur&gt; really, what application would that be</div>
<div class="line">[Friday 19 November 2010] [18:25:04] &lt;doug&gt;   knowing more about its history would help be to determine if my own application will benefit greatly from what zmq can solve.</div>
<div class="line">[Friday 19 November 2010] [18:26:29] &lt;Guthur&gt; seems quite a generic message passing abstraction to me</div>
<div class="line">[Friday 19 November 2010] [18:26:48] &lt;Guthur&gt; allowing a decent variety of transport protocols as well</div>
<div class="line">[Friday 19 November 2010] [18:26:50] &lt;doug&gt;   i don&#8217;t know the specific application, but i did read about openamq not being quite what imatix wanted or needed</div>
<div class="line">[Friday 19 November 2010] [18:26:57] &lt;doug&gt;   for some scalable financial application</div>
<div class="line">[Friday 19 November 2010] [18:28:35] &lt;Guthur&gt; But there is nothing in the API that ties it to the financial application domain</div>
<div class="line">[Friday 19 November 2010] [18:29:33] &lt;doug&gt;   why would there be?</div>
<div class="line">[Friday 19 November 2010] [18:29:38] &lt;doug&gt;   &gt; From 2004-2007 iMatix built a new messaging protocol (AMQP) for JPMorganChase, implemented this as a software product (OpenAMQ), and helped JPMorganChase migrate their largest investment bank trading system off a legacy middleware and onto OpenAMQ.</div>
<div class="line">[Friday 19 November 2010] [18:30:29] &lt;doug&gt;   that might be handy for me, as my client is also (part of) that same company.</div>
<div class="line">[Friday 19 November 2010] [18:30:36] &lt;doug&gt;   unless they had some terrible experience with it.</div>
<div class="line">[Friday 19 November 2010] [18:31:30] &lt;doug&gt;   this makes sense, 0mq seems geared toward homogeneous networks with large consumer counts and a need for minimal delay</div>
<div class="line">[Friday 19 November 2010] [18:33:35] &lt;doug&gt;   and smaller messages.</div>
<div class="line">[Friday 19 November 2010] [18:38:48] &lt;Guthur&gt; I&#8217;m sort of a similar situation, part of a financial company (investment banking) and I&#8217;d like to work ZMQ into a refactor of our application</div>
<div class="line">[Friday 19 November 2010] [18:39:55] &lt;Guthur&gt; the applications architecture is a bit pants at the moment</div>
<div class="line">[Friday 19 November 2010] [18:40:08] &lt;doug&gt;   why would zmq make sense?</div>
<div class="line">[Friday 19 November 2010] [18:40:38] &lt;Guthur&gt; well it has a lot of subsystems which at the minute are all using HTTP as the transport mechanism</div>
<div class="line">[Friday 19 November 2010] [18:40:52] &lt;Guthur&gt; for some bizarre reason</div>
<div class="line">[Friday 19 November 2010] [18:41:04] &lt;doug&gt;   probably not so bizarre if you dig for the rationale.</div>
<div class="line">[Friday 19 November 2010] [18:41:32] &lt;Guthur&gt; I can understand the customer facing connection being HTTP</div>
<div class="line">[Friday 19 November 2010] [18:41:44] &lt;Guthur&gt; HTTPS actually</div>
<div class="line">[Friday 19 November 2010] [18:42:08] &lt;Guthur&gt; but internally I can&#8217;t really see why the need for extra stack layer</div>
<div class="line">[Friday 19 November 2010] [18:42:19] &lt;doug&gt;   there&#8217;s lots of existing feature-rich libraries that use http for the transport.</div>
<div class="line">[Friday 19 November 2010] [18:42:59] &lt;doug&gt;   and plenty of managers who are probably happy knowing that such a well-known and standard protocol is in use under the hood.</div>
<div class="line">[Friday 19 November 2010] [18:43:29] &lt;Guthur&gt; wrong people being the decision about implementation if you ask me</div>
<div class="line">[Friday 19 November 2010] [18:43:48] &lt;Guthur&gt; managers that is</div>
<div class="line">[Friday 19 November 2010] [18:44:56] &lt;Guthur&gt; HTTP get shoehorned into doing things it was never designed to do</div>
<div class="line">[Friday 19 November 2010] [18:45:29] &lt;doug&gt;   eh, if it works well enough..</div>
<div class="line">[Friday 19 November 2010] [18:47:47] &lt;Guthur&gt; we do quite a bit of data streaming in this application, with long polling</div>
<div class="line">[Friday 19 November 2010] [18:48:17] &lt;Guthur&gt; and it goes through quite a few layers all using HTTP</div>
<div class="line">[Friday 19 November 2010] [18:48:33] &lt;Guthur&gt; it just not very scalable in my opinion</div>
<div class="line">[Friday 19 November 2010] [18:49:39] &lt;doug&gt;   what&#8217;s the bottleneck?</div>
<div class="line">[Friday 19 November 2010] [18:50:15] &lt;Guthur&gt; To be honest I haven&#8217;t been on the team long enough to get a complete handle on the situation</div>
<div class="line">[Friday 19 November 2010] [18:50:48] &lt;Guthur&gt; but from discussions with more senior members it does sound like its the comms on the wire</div>
<div class="line">[Friday 19 November 2010] [18:51:06] &lt;doug&gt;   i&#8217;d find it hard to make a decision without some serious understanding of how that plays out.</div>
<div class="line">[Friday 19 November 2010] [18:51:39] &lt;Guthur&gt; well none is being made to be honest</div>
<div class="line">[Friday 19 November 2010] [18:51:58] &lt;Guthur&gt; I have one part of it to port from a Java JMS to C#</div>
<div class="line">[Friday 19 November 2010] [18:52:09] &lt;Guthur&gt; and I&#8217;d like to use ZMQ there if possible</div>
<div class="line">[Friday 19 November 2010] [18:52:52] &lt;doug&gt;   if i were you, i&#8217;d worry about having my decision be viewed as bizarre by the next guy who gets stuck with the result.</div>
<div class="line">[Friday 19 November 2010] [18:53:34] &lt;Guthur&gt; Not sure how ZMQ is bizarre</div>
<div class="line">[Friday 19 November 2010] [18:53:41] &lt;Guthur&gt; to me using HTTP is bizarre</div>
<div class="line">[Friday 19 November 2010] [18:54:11] &lt;doug&gt;   any protocol, library, or tool choice is going to be bizarre for a large number of applications.</div>
<div class="line">[Friday 19 November 2010] [18:54:23] Away     You are no longer marked as being away.</div>
<div class="line">[Friday 19 November 2010] [18:54:48] &lt;doug&gt;   i&#8217;m pretty sure it&#8217;s not going to be a great choice for what i&#8217;m doing.</div>
<div class="line">[Friday 19 November 2010] [18:54:58] &lt;Guthur&gt; well this particular part of the application will be getting alot of spot price data</div>
<div class="line">[Friday 19 November 2010] [18:55:06] &lt;Guthur&gt; and publishing it</div>
<div class="line">[Friday 19 November 2010] [18:55:20] &lt;doug&gt;   that sounds closer suited to zmq than my stuff</div>
<div class="line">[Friday 19 November 2010] [18:55:56] &lt;doug&gt;   which involves finding unknown network endpoints, authenticating them, and providing them 500K-5M chunks of data.</div>
<div class="line">[Friday 19 November 2010] [18:56:08] &lt;doug&gt;   with distributed locking.</div>
<div class="line">[Friday 19 November 2010] [18:56:35] &lt;doug&gt;   and may cross political boundaries.</div>
<div class="line">[Friday 19 November 2010] [18:56:58] &lt;Guthur&gt; You can poll plain sockets actually</div>
<div class="line">[Friday 19 November 2010] [18:57:01] &lt;Guthur&gt; with ZMQ</div>
<div class="line">[Friday 19 November 2010] [18:57:17] &lt;travlr&gt; doug, take a look at what i&#8217;m working on. this all started with the need for  high frequency trading: <a class="reference external" href="http://prodatalab.wikidot.com/">http://prodatalab.wikidot.com/</a></div>
<div class="line">[Friday 19 November 2010] [18:57:51] &lt;travlr&gt; that&#8217;s a tempory page. i&#8217;m starting to build a community for it now.</div>
<div class="line">[Friday 19 November 2010] [18:57:56] &lt;doug&gt;   yeah, i can poll plain sockets without zmq as well.</div>
<div class="line">[Friday 19 November 2010] [18:58:19] &lt;Guthur&gt; doug, I think you missed my point</div>
<div class="line">[Friday 19 November 2010] [18:58:58] &lt;Guthur&gt; If you had to cross political boundaries, I assume you meant to places where there is no ZMQ, that might facilitate it, which is what I meant</div>
<div class="line">[Friday 19 November 2010] [18:59:04] &lt;doug&gt;   sounds cool, travlr.  i look forward to hearing about the first release.</div>
<div class="line">[Friday 19 November 2010] [18:59:47] &lt;doug&gt;   there&#8217;d be zmq on both ends, but there&#8217;s a strong need for authentication and authorization in that case</div>
<div class="line">[Friday 19 November 2010] [19:00:27] &lt;doug&gt;   the need for identity seeming to nullify the benefit i&#8217;d otherwise realize via zmq.</div>
<div class="line">[Friday 19 November 2010] [19:01:04] &lt;doug&gt;   i think my app is better modeled as a collection of pairs, instead of a pub/sub app.</div>
<div class="line">[Friday 19 November 2010] [19:01:27] &lt;doug&gt;   with more shared state than pub/sub generally implies.</div>
<div class="line">[Friday 19 November 2010] [19:02:05] &lt;travlr&gt; you probably need multiple zmq channels.. each for their own purposes</div>
<div class="line">[Friday 19 November 2010] [19:02:46] &lt;doug&gt;   yeah, i&#8217;m not sure how to abstract the purposes while still getting benefit out of zmq.</div>
<div class="line">[Friday 19 November 2010] [19:03:34] &lt;travlr&gt; abstraction of &#8216;purpose&#8217; is exactly what is fundamental to prodatalab</div>
<div class="line">[Friday 19 November 2010] [19:04:36] &lt;travlr&gt; just consider a buffer that has a description attached to it..</div>
<div class="line">[Friday 19 November 2010] [19:15:41] &lt;travlr&gt; doug, i just your discussion with Guther, a couple of things to mention..</div>
<div class="line">[Friday 19 November 2010] [19:16:19] &lt;travlr&gt; zmq &#8216;message&#8217; is just a blob of binary data on top of tcp or other transport layer</div>
<div class="line">[Friday 19 November 2010] [19:16:41] &lt;travlr&gt; each message can be any size you want it to be</div>
<div class="line">[Friday 19 November 2010] [19:16:46] &lt;travlr&gt; also..</div>
<div class="line">[Friday 19 November 2010] [19:18:01] &lt;travlr&gt; zmq (in itself) is currently only designed for intranet purposes, there is no mechanism as of yet for internet boundries</div>
<div class="line">[Friday 19 November 2010] [19:18:39] &lt;travlr&gt; here is where you might use zmq_poll() to interface with a normal BSD stlyle socket</div>
<div class="line">[Friday 19 November 2010] [19:19:16] &lt;travlr&gt; on the edge... and use some other application layer for point to point on the internet</div>
<div class="line">[Friday 19 November 2010] [19:19:56] &lt;travlr&gt; or use zmq over the internet and provide your own security mechanism on top of it</div>
<div class="line">[Friday 19 November 2010] [19:20:43] &lt;travlr&gt; this is what the recent discussions have been about.. as well as _maybe_ incorporating some security features into the zmq infrastructure.</div>
<div class="line">[Friday 19 November 2010] [19:21:33] &lt;travlr&gt; security == latency.. so careful consideration is being tossed about</div>
<div class="line">[Friday 19 November 2010] [19:31:51] &lt;travlr&gt; huh. i thought i got my layers mixed up.. tcp-network and i meant transport not application over internet. sometimes i think/type to fase :P</div>
<div class="line">[Friday 19 November 2010] [19:32:22] &lt;travlr&gt; see.. s/fast/fase/ .. lol</div>
<div class="line">[Friday 19 November 2010] [19:48:00] &lt;nettok&gt; I can&#8217;t connect to the zeromq log, the endpoint is &#8220;inproc://log&#8221; right?</div>
<div class="line">[Friday 19 November 2010] [19:49:42] &lt;travlr&gt; is there a &#8216;log&#8217; device? that&#8217;s news to me.</div>
<div class="line">[Friday 19 November 2010] [19:50:09] &lt;travlr&gt; where&#8217;s that hosted?</div>
<div class="line">[Friday 19 November 2010] [19:51:30] &lt;nettok&gt; travlr: I read it in the mailing list, it&#8217;s supposed to be in 2.1 trunk <a class="reference external" href="http://blog.gmane.org/gmane.network.zeromq.devel/month=20100901">http://blog.gmane.org/gmane.network.zeromq.devel/month=20100901</a></div>
<div class="line">[Friday 19 November 2010] [19:52:45] &lt;travlr&gt; nice.. i&#8217;ll check it out. thanks</div>
<div class="line">[Saturday 20 November 2010] [00:43:18] &lt;lantins&gt;      hey guys; is PUSH ment to still block when I&#8217;ve got a HWM set and used ZMQ::NOBLOCK when sending?</div>
<div class="line">[Saturday 20 November 2010] [01:16:37] &lt;lantins&gt;      i think the answers no, and im doing summets wrong</div>
<div class="line">[Saturday 20 November 2010] [03:08:25] &lt;lantins&gt;      yup, something in a thread was causing the global vm lock (in ruby)</div>
<div class="line">[Saturday 20 November 2010] [05:06:23] &lt;mikko&gt;        lestrrat: hi</div>
<div class="line">[Saturday 20 November 2010] [05:06:51] &lt;mikko&gt;        lestrrat: the perl builds are currently failing</div>
<div class="line">[Saturday 20 November 2010] [05:07:50] &lt;lestrrat&gt;     goodie</div>
<div class="line">[Saturday 20 November 2010] [05:08:03] &lt;lestrrat&gt;     I haven&#8217;t changed a line of code :/</div>
<div class="line">[Saturday 20 November 2010] [05:08:05] &lt;lestrrat&gt;     oh well</div>
<div class="line">[Saturday 20 November 2010] [05:10:00] &lt;mikko&gt;        lestrrat: it&#8217;s been failing for a long time</div>
<div class="line">[Saturday 20 November 2010] [05:10:13] &lt;mikko&gt;        i got all the modules installed but it says that i don&#8217;t have the needed modules</div>
<div class="line">[Saturday 20 November 2010] [05:10:15] &lt;lestrrat&gt;     after the last fix?</div>
<div class="line">[Saturday 20 November 2010] [05:10:17] &lt;mikko&gt;        and it says im missing &#8216;&#8217;</div>
<div class="line">[Saturday 20 November 2010] [05:10:19] &lt;lestrrat&gt;     oh.</div>
<div class="line">[Saturday 20 November 2010] [05:10:31] &lt;mikko&gt;        <a class="reference external" href="http://build.valokuva.org/job/ZeroMQPerl-master_ZeroMQ2-master_GCC/128/console">http://build.valokuva.org/job/ZeroMQPerl-master_ZeroMQ2-master_GCC/128/console</a></div>
<div class="line">[Saturday 20 November 2010] [05:10:33] &lt;mikko&gt;        see the output</div>
<div class="line">[Saturday 20 November 2010] [05:10:53] &lt;mikko&gt;        last success was Nov 8</div>
<div class="line">[Saturday 20 November 2010] [05:11:37] &lt;lestrrat&gt;     The message is bad, but I think you&#8217;r missing Module::Install::TestTarget</div>
<div class="line">[Saturday 20 November 2010] [05:12:02] &lt;lestrrat&gt;     you know what, why don&#8217;t I write a build script</div>
<div class="line">[Saturday 20 November 2010] [05:12:14] &lt;lestrrat&gt;     I&#8217;ll do all the module installation there.</div>
<div class="line">[Saturday 20 November 2010] [05:12:24] &lt;lestrrat&gt;     so you don&#8217;t have to worry about it</div>
<div class="line">[Saturday 20 November 2010] [05:13:51] &lt;mikko&gt;        installed the module and rebuilding</div>
<div class="line">[Saturday 20 November 2010] [05:14:47] &lt;mikko&gt;        succeeds</div>
<div class="line">[Saturday 20 November 2010] [05:15:00] &lt;lestrrat&gt;     how often do these tests run? is the trigger a new zmq commit?</div>
<div class="line">[Saturday 20 November 2010] [05:15:25] &lt;mikko&gt;        5am and 5pm on GMT</div>
<div class="line">[Saturday 20 November 2010] [05:15:53] &lt;lestrrat&gt;     k.</div>
<div class="line">[Saturday 20 November 2010] [05:17:26] &lt;mikko&gt;        should i disable the build against zeromq maint for perl?</div>
<div class="line">[Saturday 20 November 2010] [05:17:32] &lt;mikko&gt;        it seems that several tests are failing</div>
<div class="line">[Saturday 20 November 2010] [05:21:44] &lt;lestrrat&gt;     grr</div>
<div class="line">[Saturday 20 November 2010] [05:21:57] &lt;lestrrat&gt;     sure go ahead</div>
<div class="line">[Saturday 20 November 2010] [05:22:16] &lt;lestrrat&gt;     I won&#8217;t be able to get everything done for a few days</div>
<div class="line">[Saturday 20 November 2010] [05:24:56] &lt;sustrik&gt;      morning</div>
<div class="line">[Saturday 20 November 2010] [05:25:10] &lt;sustrik&gt;      well, people can use master instead of main if they need perl</div>
<div class="line">[Saturday 20 November 2010] [06:04:23] &lt;lestrrat&gt;     mikko: no hurries, but could you try running autobuild/run.sh in hudson?  (use the proper ZMQ_H env et al when you run this script: i.e.  ZMQ_H=/path/to/zmq.h ./autobuild/run.sh)</div>
<div class="line">[Saturday 20 November 2010] [06:04:29] &lt;lestrrat&gt;     this should solve the dependency issues in the future</div>
<div class="line">[Saturday 20 November 2010] [06:04:51] &lt;mikko&gt;        ok, ill give a go</div>
<div class="line">[Saturday 20 November 2010] [06:07:47] &lt;mikko&gt;        lestrrat: <a class="reference external" href="http://build.valokuva.org/job/ZeroMQPerl-master_ZeroMQ2-master_GCC/130/console">http://build.valokuva.org/job/ZeroMQPerl-master_ZeroMQ2-master_GCC/130/console</a></div>
<div class="line">[Saturday 20 November 2010] [06:07:51] &lt;mikko&gt;        building there</div>
<div class="line">[Saturday 20 November 2010] [06:10:19] &lt;lestrrat&gt;     seems like it worked :)</div>
<div class="line">[Saturday 20 November 2010] [06:10:20] &lt;lestrrat&gt;     coolness</div>
<div class="line">[Saturday 20 November 2010] [06:33:04] &lt;clkao&gt;        lestrrat!</div>
<div class="line">[Saturday 20 November 2010] [06:36:52] &lt;mikko&gt;        all the builds that are expected succeed are now succeeding</div>
<div class="line">[Saturday 20 November 2010] [06:36:56] &lt;mikko&gt;        thats a good thing</div>
<div class="line">[Saturday 20 November 2010] [06:37:05] &lt;mikko&gt;        lestrrat: do you want emails for build failures in perl bindings?</div>
<div class="line">[Saturday 20 November 2010] [06:39:43] &lt;lestrrat&gt;     hi clkao :)</div>
<div class="line">[Saturday 20 November 2010] [06:39:52] &lt;lestrrat&gt;     yeah, I think that would be good</div>
<div class="line">[Saturday 20 November 2010] [06:39:56] &lt;lestrrat&gt;     &gt; re: emails</div>
<div class="line">[Saturday 20 November 2010] [06:40:42] &lt;mikko&gt;        lestrrat: can you give me an email in which to send them?</div>
<div class="line">[Saturday 20 November 2010] [06:41:00] &lt;lestrrat&gt;     <a class="reference external" href="mailto:lestrrat&#37;&#52;&#48;gmail&#46;com">lestrrat<span>&#64;</span>gmail<span>&#46;</span>com</a></div>
<div class="line">[Saturday 20 November 2010] [06:41:17] &lt;mikko&gt;        added</div>
<div class="line">[Saturday 20 November 2010] [06:42:58] &lt;lestrrat&gt;     thanks!</div>
<div class="line">[Saturday 20 November 2010] [07:34:39] &lt;Guthur&gt;       when does the logs get updated?</div>
<div class="line">[Saturday 20 November 2010] [07:42:40] &lt;lantins&gt;      i can&#8217;t figure out what the hell&#8217;s going on here...</div>
<div class="line">[Saturday 20 November 2010] [07:43:56] &lt;lantins&gt;      I&#8217;m forking some workers, 4 of them, when there doing something like sleep() they seem to get a message, then start sleeping. now when i swap the sleep() out with a http request, it only seems to send the request once I&#8217;ve PUSH&#8217;ed 4 messages</div>
<div class="line">[Saturday 20 November 2010] [07:44:44] &lt;lantins&gt;      tried swapping out the http stuff a couple of times, so either they all have the same issue. or I&#8217;m not doing somthing right with zmq</div>
<div class="line">[Saturday 20 November 2010] [07:44:57] &lt;lantins&gt;      any ideas?</div>
<div class="line">[Saturday 20 November 2010] [08:09:09] &lt;travlr&gt;       Guthur: hi. I haven&#8217;t put the log updater app on a cron yet. I&#8217;ll have that done in a day or two.</div>
<div class="line">[Saturday 20 November 2010] [08:11:38] &lt;travlr&gt;       lantins: do you have a chunk of code you can post on gist or pastebin or something?</div>
<div class="line">[Saturday 20 November 2010] [08:13:16] &lt;travlr&gt;       lantins: are you using zmq_poll() for the http stuff.. are interfacing with a bsd socket for the http stuff or is this all pure zmq?</div>
<div class="line">[Saturday 20 November 2010] [08:15:30] &lt;lantins&gt;      travlr: i can gist the code, its a total hack at the moment though mind =)</div>
<div class="line">[Saturday 20 November 2010] [08:16:01] &lt;travlr&gt;       sure..</div>
<div class="line">[Saturday 20 November 2010] [08:16:38] &lt;lantins&gt;      travlr: not using zmq_poll. got ruby eventmachine dealing with sockets, that PUSH&#8217; to a buffer, that does some things, then PUSH&#8217; to the &#8216;workers&#8217;. there sending http requests out</div>
<div class="line">[Saturday 20 November 2010] [08:16:44] &lt;lantins&gt;      i&#8217;ll stick it up in a sec</div>
<div class="line">[Saturday 20 November 2010] [08:17:59] &lt;travlr&gt;       well if your using ruby i&#8217;m not familiar with it</div>
<div class="line">[Saturday 20 November 2010] [08:20:37] &lt;travlr&gt;       Guthur: I just uploaded the changes. it&#8217;ll take a few minutes (maybe) for github servers to host them.</div>
<div class="line">[Saturday 20 November 2010] [08:22:15] &lt;lantins&gt;      tried to remove some of the gruff. i started off trying to do this all in threads, but ended up pulling it out into seperate processes to test</div>
<div class="line">[Saturday 20 November 2010] [08:22:18] &lt;lantins&gt;      travlr: <a class="reference external" href="https://gist.github.com/fff5bf54b84e784610a0">https://gist.github.com/fff5bf54b84e784610a0</a></div>
<div class="line">[Saturday 20 November 2010] [08:23:10] &lt;lantins&gt;      buffer_thread.rb, http_workers.rb and socket_server.rb would be the 3 &#8216;components&#8217;</div>
<div class="line">[Saturday 20 November 2010] [08:24:39] &lt;travlr&gt;       sorry i can&#8217;t get a grip that easily on the ruby stuff. don&#8217;t have time right now to dig into it deeper.</div>
<div class="line">[Saturday 20 November 2010] [08:25:02] &lt;lantins&gt;      travlr: no worries</div>
<div class="line">[Saturday 20 November 2010] [08:25:35] &lt;lantins&gt;      i&#8217;ve a feeling its a threading issue or something other then zmq tbh</div>
<div class="line">[Saturday 20 November 2010] [08:26:26] &lt;travlr&gt;       yeah i doubt its zmq itself. it has a small learning curve but i don&#8217;t know how it works at all with eventmachine.</div>
<div class="line">[Saturday 20 November 2010] [08:27:14] &lt;travlr&gt;       i</div>
<div class="line">[Saturday 20 November 2010] [08:27:37] &lt;lantins&gt;      how it is in the gist, the side im having issues with isn&#8217;t running inside EM at all</div>
<div class="line">[Saturday 20 November 2010] [08:28:04] &lt;lantins&gt;      im gonna fire up the workers as individual processes rather then threads, if the problem goes away... its threading problems</div>
<div class="line">[Saturday 20 November 2010] [08:28:27] &lt;travlr&gt;       yeah processes will probably easier from the start</div>
<div class="line">[Saturday 20 November 2010] [08:28:58] &lt;travlr&gt;       are there ruby examples on the zmq website... use those to start with.</div>
<div class="line">[Saturday 20 November 2010] [08:37:09] &lt;lantins&gt;      yup works perfect when im not threading</div>
<div class="line">[Saturday 20 November 2010] [08:37:20] &lt;travlr&gt;       cool</div>
<div class="line">[Saturday 20 November 2010] [08:37:51] &lt;travlr&gt;       were you using the inproc protocol for the thread communication?</div>
<div class="line">[Saturday 20 November 2010] [08:37:59] &lt;lantins&gt;      i was to begin with</div>
<div class="line">[Saturday 20 November 2010] [08:38:03] &lt;lantins&gt;      then moved to ipc</div>
<div class="line">[Saturday 20 November 2010] [08:38:27] &lt;travlr&gt;       ipc for process, inproc for threads right?</div>
<div class="line">[Saturday 20 November 2010] [08:38:52] &lt;lantins&gt;      yeah</div>
<div class="line">[Saturday 20 November 2010] [08:39:20] &lt;lantins&gt;      worked fine if i was just calling sleep() in the thread, must be something to do with Net::HTTP and threading</div>
<div class="line">[Saturday 20 November 2010] [08:40:13] &lt;lantins&gt;      to be fair, at the moment I&#8217;m forking for every &#8216;message&#8217;. so just forking once for however many workers I need would work much better i&#8217;m hoping</div>
<div class="line">[Saturday 20 November 2010] [08:40:21] &lt;lantins&gt;      or just fire them up seperately</div>
<div class="line">[Saturday 20 November 2010] [08:40:44] &lt;travlr&gt;       yeah play around with your use case</div>
<div class="line">[Saturday 20 November 2010] [08:41:09] &lt;lantins&gt;      this is very much throw away code =)</div>
<div class="line">[Saturday 20 November 2010] [08:41:14] &lt;travlr&gt;       ya</div>
<div class="line">[Saturday 20 November 2010] [08:41:33] &lt;lantins&gt;      was lotta fun until i hit this threading issue, then atleast 4 hours of my time just seemed to go AWOL!</div>
<div class="line">[Saturday 20 November 2010] [08:41:42] &lt;travlr&gt;       have you worked with examples yet</div>
<div class="line">[Saturday 20 November 2010] [08:41:51] &lt;travlr&gt;       on the website</div>
<div class="line">[Saturday 20 November 2010] [08:42:09] &lt;lantins&gt;      spent the best part of a day going through the epic guide</div>
<div class="line">[Saturday 20 November 2010] [08:42:28] &lt;lantins&gt;      still keep going back to it... like i said... EPIC!</div>
<div class="line">[Saturday 20 November 2010] [08:43:10] &lt;travlr&gt;       yeah i&#8217;m still working on intricacies.. but pieter did a really nice job</div>
<div class="line">[Saturday 20 November 2010] [08:43:12] &lt;lantins&gt;      props to the people who wrote that, its been a good insight into this &#8216;messaging&#8217; lark =)</div>
<div class="line">[Saturday 20 November 2010] [08:43:22] &lt;travlr&gt;       pieter h</div>
<div class="line">[Saturday 20 November 2010] [08:44:03] &lt;travlr&gt;       hes good at that stuff. i&#8217;m a good doc advocate, big time</div>
<div class="line">[Saturday 20 November 2010] [08:44:05] &lt;lantins&gt;      think thats the guy who has epic long blog posts too heh</div>
<div class="line">[Saturday 20 November 2010] [08:44:29] &lt;travlr&gt;       he is the man.. lol</div>
<div class="line">[Saturday 20 November 2010] [08:44:51] &lt;lantins&gt;      yeah, i like how its got humour throughout, given there is so much content</div>
<div class="line">[Saturday 20 November 2010] [08:45:30] &lt;travlr&gt;       i&#8217;m more of a just the facts kinda guy myself... give me a good succinct outline any time.</div>
<div class="line">[Saturday 20 November 2010] [08:46:12] &lt;travlr&gt;       with plenty of hyper cross-links</div>
<div class="line">[Saturday 20 November 2010] [08:46:29] &lt;lantins&gt;      not having played with messaging stuff before, its good for getting going</div>
<div class="line">[Saturday 20 November 2010] [08:46:41] &lt;travlr&gt;       ya</div>
<div class="line">[Saturday 20 November 2010] [08:46:59] &lt;lantins&gt;      ruby ffi code comments have been very useful to get the context moved over from C to Ruby</div>
<div class="line">[Saturday 20 November 2010] [08:47:34] &lt;travlr&gt;       zmq is a blessing imo, especially for what i&#8217;m using it for.</div>
<div class="line">[Saturday 20 November 2010] [08:48:34] &lt;travlr&gt;       yeah, i haven&#8217;t played with ruby at all yet</div>
<div class="line">[Saturday 20 November 2010] [08:48:59] &lt;lantins&gt;      i think its gonna be very useful for us, initial benchmarks with this toy code look much nicer then anything were currently getting</div>
<div class="line">[Saturday 20 November 2010] [08:49:10] &lt;travlr&gt;       yup</div>
<div class="line">[Saturday 20 November 2010] [08:49:17] &lt;lantins&gt;      what language you using zmq with mostely?</div>
<div class="line">[Saturday 20 November 2010] [08:49:25] &lt;travlr&gt;       c c++ and python</div>
<div class="line">[Saturday 20 November 2010] [08:49:33] &lt;lantins&gt;      =)</div>
<div class="line">[Saturday 20 November 2010] [08:49:45] &lt;travlr&gt;       c++ through qt mostly... i like qt alot</div>
<div class="line">[Saturday 20 November 2010] [08:50:22] &lt;travlr&gt;       especially now that someone recently mashed up zmq with qt</div>
<div class="line">[Saturday 20 November 2010] [08:50:28] &lt;travlr&gt;       zeromqt</div>
<div class="line">[Saturday 20 November 2010] [08:50:31] &lt;lantins&gt;      im pondering down the line, if it all looks a good fit... about implementing some of this in C, the rest can stay ruby though</div>
<div class="line">[Saturday 20 November 2010] [08:50:40] &lt;travlr&gt;       sure</div>
<div class="line">[Saturday 20 November 2010] [08:50:41] &lt;lantins&gt;      yeah i seen that on the labs page</div>
<div class="line">[Saturday 20 November 2010] [08:51:01] &lt;travlr&gt;       i&#8217;m playing with it right now... nice</div>
<div class="line">[Saturday 20 November 2010] [08:51:13] &lt;lantins&gt;      :)</div>
<div class="line">[Saturday 20 November 2010] [08:52:19] &lt;lantins&gt;      obj-c I&#8217;d like to get around to playing with at some point</div>
<div class="line">[Saturday 20 November 2010] [08:52:48] &lt;travlr&gt;       sure, i&#8217;m not a apple guy so i don&#8217;t see where else it&#8217;s used much</div>
<div class="line">[Saturday 20 November 2010] [08:54:02] &lt;travlr&gt;       what are you going to be using zmq for</div>
<div class="line">[Saturday 20 November 2010] [08:54:08] &lt;lantins&gt;      although, right now I&#8217;m pondering how to better &#8216;route&#8217; these PUSH/PULL messages, rather then fair-routing? but i guess this is where you start building &#8216;device&#8217; like stuff to wire that kinda thing up?</div>
<div class="line">[Saturday 20 November 2010] [08:54:44] &lt;lantins&gt;      at the moment, I&#8217;ve got a couple bits of software that are part of a &#8216;system&#8217;. they talk to one another via json/http</div>
<div class="line">[Saturday 20 November 2010] [08:54:58] &lt;lantins&gt;      we also push out lots of data to customers via json/http</div>
<div class="line">[Saturday 20 November 2010] [08:55:14] &lt;lantins&gt;      so, im looking to remove some of the http stuff in our backend</div>
<div class="line">[Saturday 20 November 2010] [08:55:24] &lt;travlr&gt;       high speed data or just a &#8220;normal&#8221; system?</div>
<div class="line">[Saturday 20 November 2010] [08:55:57] &lt;lantins&gt;      the current system does work, but it could be made simpler</div>
<div class="line">[Saturday 20 November 2010] [08:56:09] &lt;lantins&gt;      we got seconds to play with =)</div>
<div class="line">[Saturday 20 November 2010] [08:56:26] &lt;travlr&gt;       cool</div>
<div class="line">[Saturday 20 November 2010] [08:56:41] &lt;travlr&gt;       so your crossing internet boundries?</div>
<div class="line">[Saturday 20 November 2010] [08:57:10] &lt;lantins&gt;      a little bit of the system is, and the part where we talk to customer servers</div>
<div class="line">[Saturday 20 November 2010] [08:57:17] &lt;lantins&gt;      but the rest is internal on the lan</div>
<div class="line">[Saturday 20 November 2010] [08:57:51] &lt;lantins&gt;      were dealing with vehicle tracking/diagnostics data</div>
<div class="line">[Saturday 20 November 2010] [08:58:08] &lt;travlr&gt;       oh cool. that sounds very interesting</div>
<div class="line">[Saturday 20 November 2010] [08:58:11] &lt;lantins&gt;      most vehicles update between 60sec and 5mins</div>
<div class="line">[Saturday 20 November 2010] [08:58:20] &lt;travlr&gt;       very cool.</div>
<div class="line">[Saturday 20 November 2010] [08:58:31] &lt;lantins&gt;      so if it takes 30sec to move through the system it doesn&#8217;t really matter</div>
<div class="line">[Saturday 20 November 2010] [08:58:54] &lt;travlr&gt;       what kind of &#8216;tracking/diagnostics&#8217;</div>
<div class="line">[Saturday 20 November 2010] [08:59:06] &lt;lantins&gt;      oh all kinds =)</div>
<div class="line">[Saturday 20 November 2010] [08:59:19] &lt;lantins&gt;      we design/build the hardware our self</div>
<div class="line">[Saturday 20 November 2010] [08:59:24] &lt;travlr&gt;       are you doing embeddable stuff too</div>
<div class="line">[Saturday 20 November 2010] [08:59:32] &lt;travlr&gt;       well that kills that quest</div>
<div class="line">[Saturday 20 November 2010] [08:59:33] &lt;travlr&gt;       ion</div>
<div class="line">[Saturday 20 November 2010] [08:59:44] &lt;travlr&gt;       i&#8217;m learning that stuff too</div>
<div class="line">[Saturday 20 November 2010] [08:59:47] &lt;lantins&gt;      we have gear with 4 CANBus channels on them, so anything you can get on the vehicle ECU&#8217;s we can get in real time</div>
<div class="line">[Saturday 20 November 2010] [09:00:01] &lt;travlr&gt;       yes yes....</div>
<div class="line">[Saturday 20 November 2010] [09:00:03] &lt;lantins&gt;      heh</div>
<div class="line">[Saturday 20 November 2010] [09:00:34] &lt;travlr&gt;       electronics is cool shit, imo</div>
<div class="line">[Saturday 20 November 2010] [09:00:47] &lt;travlr&gt;       i wish i more time to play with it</div>
<div class="line">[Saturday 20 November 2010] [09:00:48] &lt;lantins&gt;      I&#8217;m _not_ smart enough to be one of the guys building the hardware, but it has given me the chance to learn about it all.. and ask questions from people much smarter then me</div>
<div class="line">[Saturday 20 November 2010] [09:01:01] &lt;travlr&gt;       very cool</div>
<div class="line">[Saturday 20 November 2010] [09:01:06] &lt;lantins&gt;      i just shovel data and make web apps with it lol</div>
<div class="line">[Saturday 20 November 2010] [09:01:27] &lt;travlr&gt;       sensor systems are also really cool</div>
<div class="line">[Saturday 20 November 2010] [09:01:46] &lt;lantins&gt;      AVR chips are very good to play around with</div>
<div class="line">[Saturday 20 November 2010] [09:01:56] &lt;travlr&gt;       avr.... awesome!</div>
<div class="line">[Saturday 20 November 2010] [09:02:09] &lt;travlr&gt;       linux32 embedded</div>
<div class="line">[Saturday 20 November 2010] [09:02:49] &lt;travlr&gt;       i want to play with all that stuff real bad.. no time right now</div>
<div class="line">[Saturday 20 November 2010] [09:02:50] &lt;lantins&gt;      was gifted a development AVR board that runs linux form work, with two ethernet&#8217;s!</div>
<div class="line">[Saturday 20 November 2010] [09:02:56] &lt;lantins&gt;      not got around to toying with that yet :/</div>
<div class="line">[Saturday 20 November 2010] [09:03:40] &lt;travlr&gt;       to start with, i want to build my programmer.. but that&#8217;s a chicken and egg dilema.. huh.. lol</div>
<div class="line">[Saturday 20 November 2010] [09:03:42] &lt;lantins&gt;      I&#8217;ll be able to buzz people into the flat without leaving my computer once I get around to soldering my first &#8216;official&#8217; electronics project! via bluetooth!</div>
<div class="line">[Saturday 20 November 2010] [09:04:21] &lt;travlr&gt;       what electronics supplier would you use?</div>
<div class="line">[Saturday 20 November 2010] [09:04:31] &lt;lantins&gt;      not quite got the BT cracked yet, and I need to get work to mount it for me... when i seen the 9 price, i didn&#8217;t pay any attention to the fact it was bloody surface mount!</div>
<div class="line">[Saturday 20 November 2010] [09:04:55] &lt;lantins&gt;      not sure where you are? I&#8217;m in the UK</div>
<div class="line">[Saturday 20 November 2010] [09:05:09] &lt;travlr&gt;       surface mount is very tricky for a beginner i would imaging</div>
<div class="line">[Saturday 20 November 2010] [09:05:15] &lt;travlr&gt;       in usa</div>
<div class="line">[Saturday 20 November 2010] [09:05:23] &lt;lantins&gt;      farnell.com is where I&#8217;ve got all my stuff from</div>
<div class="line">[Saturday 20 November 2010] [09:05:30] &lt;travlr&gt;       that&#8217;s uk?</div>
<div class="line">[Saturday 20 November 2010] [09:05:35] &lt;lantins&gt;      US too</div>
<div class="line">[Saturday 20 November 2010] [09:05:50] &lt;lantins&gt;      they have _Everything_ on that site</div>
<div class="line">[Saturday 20 November 2010] [09:05:50] &lt;travlr&gt;       i&#8217;ll check it out..</div>
<div class="line">[Saturday 20 November 2010] [09:05:56] &lt;lantins&gt;      if you got a part number, you can find it</div>
<div class="line">[Saturday 20 November 2010] [09:06:17] &lt;travlr&gt;       is it more for hobbiests... are they fast on delivery?</div>
<div class="line">[Saturday 20 November 2010] [09:06:27] &lt;lantins&gt;      now, the problem is when you don&#8217;t have a part number and have to go through everything to figure out if the component does what you want it to!</div>
<div class="line">[Saturday 20 November 2010] [09:07:18] &lt;lantins&gt;      they are a big company, not really aimed at hobbiests, you do kinda have to know what to start looking for</div>
<div class="line">[Saturday 20 November 2010] [09:07:29] &lt;travlr&gt;       fast delivery?</div>
<div class="line">[Saturday 20 November 2010] [09:07:32] &lt;lantins&gt;      not that I really do, but its the only place I&#8217;ve found where I got options</div>
<div class="line">[Saturday 20 November 2010] [09:07:35] &lt;lantins&gt;      yeah super fast for me</div>
<div class="line">[Saturday 20 November 2010] [09:07:42] &lt;lantins&gt;      can&#8217;t comment about the states though</div>
<div class="line">[Saturday 20 November 2010] [09:07:54] &lt;travlr&gt;       thats good...  small orders ok?</div>
<div class="line">[Saturday 20 November 2010] [09:07:59] &lt;travlr&gt;       projects/</div>
<div class="line">[Saturday 20 November 2010] [09:08:07] &lt;lantins&gt;      yeah have been for me</div>
<div class="line">[Saturday 20 November 2010] [09:08:10] &lt;travlr&gt;       good</div>
<div class="line">[Saturday 20 November 2010] [09:08:17] &lt;lantins&gt;      what i did was this:</div>
<div class="line">[Saturday 20 November 2010] [09:08:30] &lt;lantins&gt;      <a class="reference external" href="http://cdn.shopify.com/s/files/1/0038/9582/files/RBBB_Instructions_06.pdf?1260749296">http://cdn.shopify.com/s/files/1/0038/9582/files/RBBB_Instructions_06.pdf?1260749296</a></div>
<div class="line">[Saturday 20 November 2010] [09:08:53] &lt;lantins&gt;      that&#8217;s a real nice document about making an Arduino clone</div>
<div class="line">[Saturday 20 November 2010] [09:09:41] &lt;lantins&gt;      I looked at the components needed to build a handful, then prospected into some other &#8216;usual&#8217; sized components</div>
<div class="line">[Saturday 20 November 2010] [09:10:04] &lt;travlr&gt;       there&#8217;s a lot of great info out on the web</div>
<div class="line">[Saturday 20 November 2010] [09:10:14] &lt;travlr&gt;       that proj looks great</div>
<div class="line">[Saturday 20 November 2010] [09:10:21] &lt;travlr&gt;       i wish i had the time</div>
<div class="line">[Saturday 20 November 2010] [09:10:44] &lt;travlr&gt;       i love teaching myself shit</div>
<div class="line">[Saturday 20 November 2010] [09:10:44] &lt;lantins&gt;      they use a Resonator in that design, I opted for a crystal</div>
<div class="line">[Saturday 20 November 2010] [09:10:56] &lt;lantins&gt;      yeah</div>
<div class="line">[Saturday 20 November 2010] [09:10:59] &lt;lantins&gt;      i know the feeling</div>
<div class="line">[Saturday 20 November 2010] [09:11:12] &lt;travlr&gt;       yeah crystal.. mmmm gooooood.</div>
<div class="line">[Saturday 20 November 2010] [09:11:15] &lt;travlr&gt;       lol</div>
<div class="line">[Saturday 20 November 2010] [09:11:26] &lt;lantins&gt;      i have to say, i sunk a good week or so getting going with all this stuff, and I know I still know naff all about it</div>
<div class="line">[Saturday 20 November 2010] [09:11:42] &lt;travlr&gt;       i&#8217;ve studied a shit load</div>
<div class="line">[Saturday 20 November 2010] [09:12:03] &lt;travlr&gt;       i have four tv&#8217;s opened up in my &#8216;project&#8217; room</div>
<div class="line">[Saturday 20 November 2010] [09:12:03] &lt;lantins&gt;      yeah crystal&#8217;s smalled cooler then Resonators ;-) (crystal were the better option from what I descovered anyhow)</div>
<div class="line">[Saturday 20 November 2010] [09:12:06] &lt;travlr&gt;       need caps</div>
<div class="line">[Saturday 20 November 2010] [09:12:19] &lt;lantins&gt;      lol</div>
<div class="line">[Saturday 20 November 2010] [09:12:21] &lt;travlr&gt;       radio shack sucks for parts</div>
<div class="line">[Saturday 20 November 2010] [09:12:30] &lt;travlr&gt;       i haven&#8217;t ordered them yet</div>
<div class="line">[Saturday 20 November 2010] [09:12:30] &lt;lantins&gt;      my problem is when I keep blowing shit up</div>
<div class="line">[Saturday 20 November 2010] [09:12:39] &lt;travlr&gt;       _lol_</div>
<div class="line">[Saturday 20 November 2010] [09:12:52] &lt;lantins&gt;      &#8220;ah fuck that cost 4 and I&#8217;ve run out of them!!!!&#8221;</div>
<div class="line">[Saturday 20 November 2010] [09:13:05] &lt;travlr&gt;       lol</div>
<div class="line">[Saturday 20 November 2010] [09:13:19] &lt;travlr&gt;       damn, i want to play</div>
<div class="line">[Saturday 20 November 2010] [09:13:20] &lt;lantins&gt;      i think the smell of burning electronics is part of the learning process</div>
<div class="line">[Saturday 20 November 2010] [09:13:27] &lt;travlr&gt;       yup!</div>
<div class="line">[Saturday 20 November 2010] [09:13:36] &lt;lantins&gt;      hell man i managed to keep that stuff at bay for ages and now you&#8217;ve got me all thinking about it!</div>
<div class="line">[Saturday 20 November 2010] [09:13:52] &lt;travlr&gt;       i repeat.. i want to play</div>
<div class="line">[Saturday 20 November 2010] [09:13:57] &lt;travlr&gt;       no time</div>
<div class="line">[Saturday 20 November 2010] [09:13:58] &lt;lantins&gt;      I got real work to be doing lol</div>
<div class="line">[Saturday 20 November 2010] [09:14:09] &lt;travlr&gt;       speaking of which</div>
<div class="line">[Saturday 20 November 2010] [09:14:13] &lt;travlr&gt;       gotta go</div>
<div class="line">[Saturday 20 November 2010] [09:14:19] &lt;lantins&gt;      any free time has been spent with iOS/iPad development</div>
<div class="line">[Saturday 20 November 2010] [09:14:26] &lt;lantins&gt;      take it easy travlr</div>
<div class="line">[Saturday 20 November 2010] [09:14:31] &lt;lantins&gt;      catch you later =)</div>
<div class="line">[Saturday 20 November 2010] [09:14:35] &lt;travlr&gt;       see ya</div>
<div class="line">[Saturday 20 November 2010] [10:06:21] &lt;Guthur&gt;       travlr, Cheers for the heads up on the logs</div>
<div class="line">[Saturday 20 November 2010] [10:09:26] &lt;travlr&gt;       sure</div>
<div class="line">[Saturday 20 November 2010] [11:06:13] &lt;bfrog&gt;        is there a sane way to get queues to work with an existing &#8220;reactor&#8221; like libevent or whatever?</div>
<div class="line">[Saturday 20 November 2010] [11:07:03] &lt;bfrog&gt;        I mean, whats the point of sockets if you can&#8217;t do event driven programming :-P</div>
<div class="line">[Saturday 20 November 2010] [11:08:43] &lt;travlr&gt;       bfrog, existing reactor... sure... libevent, i think i remember that that&#8217;s been done. did you check the mail list and irc archives?</div>
<div class="line">[Saturday 20 November 2010] [11:09:50] &lt;bfrog&gt;        no, I looked on the website</div>
<div class="line">[Saturday 20 November 2010] [11:09:53] &lt;travlr&gt;       there&#8217;s a nice mashup with qt signal and slots if you do qt</div>
<div class="line">[Saturday 20 November 2010] [11:10:57] &lt;travlr&gt;       the mail list is easily found on the website, here&#8217;s the irc log: <a class="reference external" href="http://travlr.github.com/zmqirclog/">http://travlr.github.com/zmqirclog/</a></div>
<div class="line">[Saturday 20 November 2010] [11:14:43] &lt;mikko&gt;        bfrog: <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/doc/zmq_getsockopt.txt#L255">https://github.com/zeromq/zeromq2/blob/master/doc/zmq_getsockopt.txt#L255</a></div>
<div class="line">[Saturday 20 November 2010] [11:28:57] &lt;bfrog&gt;        I see it, thanks</div>
<div class="line">[Saturday 20 November 2010] [11:29:24] &lt;mikko&gt;        bfrog: and zmq provides it own polling mechnism as well</div>
<div class="line">[Saturday 20 November 2010] [11:29:32] &lt;mikko&gt;        so you are not really enforced to use external event loop</div>
<div class="line">[Saturday 20 November 2010] [11:30:56] &lt;bfrog&gt;        I get that</div>
<div class="line">[Saturday 20 November 2010] [11:31:01] &lt;bfrog&gt;        but thats again, really limiting</div>
<div class="line">[Saturday 20 November 2010] [11:31:12] &lt;bfrog&gt;        well not again, but yeah, thats faily limiting if I can&#8217;t use my own</div>
<div class="line">[Saturday 20 November 2010] [11:42:33] &lt;bfrog&gt;        it doesn&#8217;t look like I can just provide callbacks for when messages are available, call this function sort of thing?</div>
<div class="line">[Saturday 20 November 2010] [12:25:03] &lt;Guthur&gt;       bfrog you could easily build it ontop of polling</div>
<div class="line">[Saturday 20 November 2010] [12:25:58] &lt;Guthur&gt;       clrzmq2 uses event delegates for polling</div>
<div class="line">[Saturday 20 November 2010] [12:27:58] &lt;bfrog&gt;        I don&#8217;t want to poll, I like my callbacks and selects() :-(</div>
<div class="line">[Saturday 20 November 2010] [12:31:32] &lt;mikko&gt;        bfrog: the zmq_poll is an abstraction over different polling methods such as epoll and select</div>
<div class="line">[Saturday 20 November 2010] [12:31:46] &lt;mikko&gt;        adding callbacks to that is a couple of lines of code</div>
<div class="line">[Saturday 20 November 2010] [12:32:04] &lt;mikko&gt;        but if you want to use an external event loop just use ZMQ_FD sockopt</div>
<div class="line">[Saturday 20 November 2010] [12:32:26] &lt;bfrog&gt;        but I might not have the whole message in the queue then?</div>
<div class="line">[Saturday 20 November 2010] [12:32:56] &lt;mikko&gt;        not necessarily</div>
<div class="line">[Saturday 20 November 2010] [12:33:04] &lt;bfrog&gt;        right, so the recv may still block</div>
<div class="line">[Saturday 20 November 2010] [12:33:11] &lt;mikko&gt;        you can use ZMQ_EVENTS to check that</div>
<div class="line">[Saturday 20 November 2010] [12:33:35] &lt;mikko&gt;        <a class="reference external" href="https://github.com/zeromq/zeromq2/blob/master/doc/zmq_getsockopt.txt#L272">https://github.com/zeromq/zeromq2/blob/master/doc/zmq_getsockopt.txt#L272</a></div>
<div class="line">[Saturday 20 November 2010] [12:42:20] &lt;bfrog&gt;        what if I get a partial message, then I&#8217;m constantly looping on ZMQ_EVENTS, how would I break that?</div>
<div class="line">[Saturday 20 November 2010] [12:42:52] &lt;bfrog&gt;        I can&#8217;t touch the fd itself, can I tell zeromq to just give up somehow?</div>
<div class="line">[Saturday 20 November 2010] [12:46:14] &lt;Guthur&gt;       you can just stop calling poll, and that&#8217;s it surely</div>
<div class="line">[Saturday 20 November 2010] [12:46:45] &lt;Guthur&gt;       The example code just immediately timeouts, you might want something slightly different</div>
<div class="line">[Saturday 20 November 2010] [13:14:09] &lt;cremes&gt;       bfrog: you are <em>guaranteed</em> to have a whole message; there is no such thing in 0mq as a partial message</div>
<div class="line">[Saturday 20 November 2010] [13:14:22] &lt;cremes&gt;       therefore, no worries about it blocking</div>
<div class="line">[Saturday 20 November 2010] [13:14:40] &lt;cremes&gt;       if you are still concerned, pass the NO_BLOCK flag to your send or receive and go on your merry way</div>
<div class="line">[Saturday 20 November 2010] [13:17:01] &lt;cremes&gt;       lantins: you may also be interested in looking at zmqmachine which is essentially eventmachine for 0mq sockets; find it on github</div>
<div class="line">[Saturday 20 November 2010] [13:22:20] &lt;mikko&gt;        cremes: if you poll on ZMQ_FD you could have false positives</div>
<div class="line">[Saturday 20 November 2010] [13:22:37] &lt;mikko&gt;        you need to check for ZMQ_EVENTS for the socket as well if you want to make sure that you dont block</div>
<div class="line">[Saturday 20 November 2010] [13:23:14] &lt;cremes&gt;       mikko: right; so what&#8217;s the problem? it&#8217;s a pretty clear 2-step process</div>
<div class="line">[Saturday 20 November 2010] [13:23:31] &lt;cremes&gt;       alternately, try to send/recv with NO_BLOCK and check for EAGAIN</div>
<div class="line">[Saturday 20 November 2010] [13:23:50] &lt;cremes&gt;       either way, there is no concern about blocking</div>
<div class="line">[Saturday 20 November 2010] [13:25:27] &lt;mikko&gt;        no problem there</div>
<div class="line">[Saturday 20 November 2010] [13:25:47] &lt;mikko&gt;        just wanted to indicate that a &#8216;positive&#8217; on polling on ZMQ_FD doesn&#8217;t mean that you can recv()</div>
<div class="line">[Saturday 20 November 2010] [13:25:59] &lt;cremes&gt;       ah, i see</div>
<div class="line">[Saturday 20 November 2010] [13:26:11] &lt;cremes&gt;       i agree with that</div>
<div class="line">[Saturday 20 November 2010] [13:26:29] &lt;cremes&gt;       hopefully bfrog reads through this at some point and this answers his/her question</div>
<div class="line">[Saturday 20 November 2010] [13:26:36] &lt;bfrog&gt;        yeah it does</div>
<div class="line">[Saturday 20 November 2010] [13:26:41] &lt;cremes&gt;       great</div>
<div class="line">[Saturday 20 November 2010] [13:27:15] &lt;cremes&gt;       bfrog: fyi, the FD &amp; EVENTS opts were added <em>specifically</em> to allow for 0mq socket integration with other event loops</div>
<div class="line">[Saturday 20 November 2010] [13:27:29] &lt;cremes&gt;       if you find a case where they are inadequate, please speak up</div>
<div class="line">[Saturday 20 November 2010] [14:26:36] &lt;rgl&gt;  hi</div>
<div class="line">[Sunday 21 November 2010] [05:14:35] &lt;mikko&gt;  sustrik: <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_SunStudio/70/console">http://build.valokuva.org/job/ZeroMQ2-core-master_SunStudio/70/console</a></div>
<div class="line">[Sunday 21 November 2010] [05:14:45] &lt;mikko&gt;  this time with sun studio</div>
<div class="line">[Sunday 21 November 2010] [05:14:56] &lt;sustrik&gt;        mikko: let me see</div>
<div class="line">[Sunday 21 November 2010] [05:15:55] &lt;sustrik&gt;        still the same bug</div>
<div class="line">[Sunday 21 November 2010] [05:16:43] &lt;sustrik&gt;        dhammika seems to understand what&#8217;s going on</div>
<div class="line">[Sunday 21 November 2010] [05:16:51]   * sustrik is struggling to make sense of it</div>
<div class="line">[Sunday 21 November 2010] [05:39:10] &lt;mikko&gt;  sustrik: it&#8217;s a lot harder to reproduce with debug build</div>
<div class="line">[Sunday 21 November 2010] [05:51:10] &lt;sustrik&gt;        ack</div>
<div class="line">[Sunday 21 November 2010] [05:58:33] &lt;mikko&gt;  <a class="reference external" href="https://gist.github.com/6d2c9eb0b3efc2afd9a8">https://gist.github.com/6d2c9eb0b3efc2afd9a8</a></div>
<div class="line">[Sunday 21 November 2010] [05:58:38] &lt;mikko&gt;  backtrace with symbols</div>
<div class="line">[Sunday 21 November 2010] [05:59:20] &lt;mikko&gt;  the crash is in #0  zmq::object_t::get_tid (this=0xb1c088c8) at object.cpp:47</div>
<div class="line">[Sunday 21 November 2010] [06:09:32] &lt;sustrik&gt;        mikko: that&#8217;s maint?</div>
<div class="line">[Sunday 21 November 2010] [06:10:02] &lt;sustrik&gt;        nope, it&#8217;s master</div>
<div class="line">[Sunday 21 November 2010] [06:11:24] &lt;mikko&gt;  master</div>
<div class="line">[Sunday 21 November 2010] [06:11:52] &lt;mikko&gt;  ran while [ 1 = 1 ]; do ./test_shutdown_stress ; echo &#8220;x&#8221;; done until it crashed</div>
<div class="line">[Sunday 21 November 2010] [06:13:18] &lt;sustrik&gt;        hm, looks like some kind of stack overwrite</div>
<div class="line">[Sunday 21 November 2010] [06:13:35] &lt;sustrik&gt;        the error actually emerges in the test program, not 0mq core...</div>
<div class="line">[Sunday 21 November 2010] [06:14:12] &lt;sustrik&gt;        strange</div>
<div class="line">[Sunday 21 November 2010] [06:17:29] &lt;sustrik&gt;        hm, cannot reproduce on my box</div>
<div class="line">[Sunday 21 November 2010] [06:20:04] &lt;mikko&gt;  takes anything between 10 to 100 runs here</div>
<div class="line">[Sunday 21 November 2010] [06:20:08] &lt;mikko&gt;  until it crahes</div>
<div class="line">[Sunday 21 November 2010] [06:29:17] &lt;sustrik&gt;        on my box it runs ~30 times</div>
<div class="line">[Sunday 21 November 2010] [06:29:27] &lt;sustrik&gt;        then the test slows down considerably</div>
<div class="line">[Sunday 21 November 2010] [06:29:45] &lt;sustrik&gt;        (too much open sockets?)</div>
<div class="line">[Sunday 21 November 2010] [06:29:52] &lt;sustrik&gt;        anyway, it doesn&#8217;t fail</div>
<div class="line">[Sunday 21 November 2010] [06:35:41] &lt;sustrik&gt;        mikko: can you possibly check the patch proposed in my last email?</div>
<div class="line">[Sunday 21 November 2010] [06:36:32] &lt;sustrik&gt;        it&#8217;s probably a different problem, but there&#8217;s a chance that it&#8217;s actually a different manifestation of the same bug...</div>
<div class="line">[Sunday 21 November 2010] [06:37:34] &lt;sustrik&gt;        just add the two lines into zmq_engine.cpp</div>
<div class="line">[Sunday 21 November 2010] [06:42:24] &lt;mikko&gt;  line 155?</div>
<div class="line">[Sunday 21 November 2010] [06:48:10] &lt;sustrik&gt;        mikko: yes</div>
<div class="line">[Sunday 21 November 2010] [06:49:25] &lt;mikko&gt;  <strong>* glibc detected *</strong> /tmp/zeromq2/tests/.libs/lt-test_shutdown_stress: corrupted double-linked list: 0xb0b058c8 <a href="#id57"><span class="problematic" id="id58">**</span></a><a href="#id59"><span class="problematic" id="id60">*</span></a></div>
<div class="line">[Sunday 21 November 2010] [06:49:30] &lt;mikko&gt;  after ~50 runs</div>
<div class="line">[Sunday 21 November 2010] [06:50:34] &lt;mikko&gt;  <a class="reference external" href="https://gist.github.com/0707e21ec88f54822fd3">https://gist.github.com/0707e21ec88f54822fd3</a></div>
<div class="line">[Sunday 21 November 2010] [06:50:35] &lt;mikko&gt;  bt</div>
<div class="line">[Sunday 21 November 2010] [06:50:45] &lt;mikko&gt;  let me do thread apply all bt</div>
<div class="line">[Sunday 21 November 2010] [06:51:16] &lt;mikko&gt;  <a class="reference external" href="https://gist.github.com/a87f11557fee4c7617aa">https://gist.github.com/a87f11557fee4c7617aa</a></div>
<div class="line">[Sunday 21 November 2010] [06:52:50] &lt;sustrik&gt;        hm, probably the same problem</div>
<div class="line">[Sunday 21 November 2010] [07:21:22] &lt;rgl&gt;    are there any plans to properly support a 64 bit build on windows?</div>
<div class="line">[Sunday 21 November 2010] [07:26:00] &lt;Guthur&gt; rgl: what happens with a 64bit build?</div>
<div class="line">[Sunday 21 November 2010] [07:26:13] &lt;Guthur&gt; I tried it briefly and it seemed ok?</div>
<div class="line">[Sunday 21 November 2010] [07:26:55] &lt;rgl&gt;    Guthur, windows uses a different model for 64-bit than common linuxes; eg. on windows a long is not 64 bit.</div>
<div class="line">[Sunday 21 November 2010] [07:27:53] &lt;rgl&gt;    Guthur, which means that some code on ZMQ does not correctly build (well, it build, but with warnings that do not seem ok to ignore)</div>
<div class="line">[Sunday 21 November 2010] [07:28:28] &lt;Guthur&gt; ok, seems fair enough, I didn&#8217;t really test or watch thoroughly the build</div>
<div class="line">[Sunday 21 November 2010] [07:29:04] &lt;mikko&gt;  rgl: are you building with mingw or msvc?</div>
<div class="line">[Sunday 21 November 2010] [07:29:07] &lt;rgl&gt;    the C data model on windows is LLP64 but on linux its LP64</div>
<div class="line">[Sunday 21 November 2010] [07:29:33] &lt;rgl&gt;    mikko, it does not matter. mingw uses the normal windows data model.</div>
<div class="line">[Sunday 21 November 2010] [07:29:44] &lt;mikko&gt;  rgl: it seems to be a bit different</div>
<div class="line">[Sunday 21 November 2010] [07:29:45] &lt;rgl&gt;    mikko, but, I&#8217;m using msvc <em>G</em></div>
<div class="line">[Sunday 21 November 2010] [07:29:54] &lt;mikko&gt;  __int64_t is defined as long long on mingw32</div>
<div class="line">[Sunday 21 November 2010] [07:30:34] &lt;rgl&gt;    lemme put the msvc compiler logs somewhere.</div>
<div class="line">[Sunday 21 November 2010] [07:30:38] &lt;mikko&gt;  rgl: i thought zeromq uses fixed size ints everywhere</div>
<div class="line">[Sunday 21 November 2010] [07:31:17] &lt;Guthur&gt; I know in some of my builds i see warnings about casting size_t to unsigned int</div>
<div class="line">[Sunday 21 November 2010] [07:31:45] &lt;Guthur&gt; not directly related, more in reply to the fixed size ints</div>
<div class="line">[Sunday 21 November 2010] [07:32:19] &lt;mikko&gt;  Guthur: is that zeromq core or binding code?</div>
<div class="line">[Sunday 21 November 2010] [07:32:27] &lt;mikko&gt;  i think i need to do MSVC build at some point</div>
<div class="line">[Sunday 21 November 2010] [07:32:28] &lt;Guthur&gt; mikko, core</div>
<div class="line">[Sunday 21 November 2010] [07:34:07] &lt;rgl&gt;    <a class="reference external" href="http://pastie.org/pastes/1315022/text">http://pastie.org/pastes/1315022/text</a></div>
<div class="line">[Sunday 21 November 2010] [07:35:12] &lt;mikko&gt;  rgl: can you try the same build with master?</div>
<div class="line">[Sunday 21 November 2010] [07:35:33] &lt;rgl&gt;    I can. I just have to get the repo.</div>
<div class="line">[Sunday 21 November 2010] [07:40:44] &lt;rgl&gt;    its more-or-less the same <a class="reference external" href="http://pastie.org/pastes/1315029/text">http://pastie.org/pastes/1315029/text</a></div>
<div class="line">[Sunday 21 November 2010] [07:51:06] &lt;Guthur&gt; lot&#8217;s of size_t conversions</div>
<div class="line">[Sunday 21 November 2010] [07:51:35] &lt;Guthur&gt; size_t is very troublesome, especially for bindings</div>
<div class="line">[Sunday 21 November 2010] [08:00:49] &lt;rgl&gt;    can we safely ignore them?</div>
<div class="line">[Sunday 21 November 2010] [08:21:47] &lt;mikko&gt;  size_t to int isn&#8217;t really a safe conversion</div>
<div class="line">[Sunday 21 November 2010] [08:22:36] &lt;mikko&gt;  it would require bounds checking</div>
<div class="line">[Sunday 21 November 2010] [08:23:23] &lt;mikko&gt;  not sure why the array index isn&#8217;t size_t there</div>
<div class="line">[Sunday 21 November 2010] [08:24:14] &lt;mikko&gt;  most of those looks pretty safe casts</div>
<div class="line">[Sunday 21 November 2010] [08:37:17] &lt;rgl&gt;    humm tried to run remote_thr.exe <a class="reference external" href="tcp://127.0.0.1:56789">tcp://127.0.0.1:56789</a> 3000 1234567 and it completly spiked the memory usage to 4G <em>G</em></div>
<div class="line">[Sunday 21 November 2010] [08:37:48] &lt;rgl&gt;    is this supposed to happen when no watermark is set on the socket?</div>
<div class="line">[Sunday 21 November 2010] [10:46:26] &lt;Guthur&gt; Is size_t really a requirement?</div>
<div class="line">[Sunday 21 November 2010] [10:46:55] &lt;Guthur&gt; It&#8217;s very bothersome for bindings like said, because it is hard to be sure what size it really is</div>
<div class="line">[Sunday 21 November 2010] [10:47:20] &lt;Guthur&gt; primitive or explicit types are easier</div>
<div class="line">[Sunday 21 November 2010] [10:57:41] &lt;sustrik&gt;        Guthur: checked POSIX SO_SNDBUF which is kind of similar</div>
<div class="line">[Sunday 21 November 2010] [10:57:57] &lt;sustrik&gt;        and it is indeed &#8220;int&#8221; rather than &#8220;size_t&#8221;</div>
<div class="line">[Sunday 21 November 2010] [10:58:11] &lt;sustrik&gt;        on the other hand, int is not a fixed-size interger either</div>
<div class="line">[Sunday 21 November 2010] [11:42:43] &lt;sustrik&gt;        rgl: yes, it&#8217;s supposed to happen</div>
<div class="line">[Sunday 21 November 2010] [12:45:16] &lt;Guthur&gt; sustrik, I have a bad feeling my attempts at cross platform (x86/-64) support with clrzmq2 are possibly not going to stand up, needs more testing really</div>
<div class="line">[Sunday 21 November 2010] [13:04:15] &lt;sustrik&gt;        Guthur: sure, that&#8217;s how it goes with cross-platform support</div>
<div class="line">[Sunday 21 November 2010] [13:04:34] &lt;sustrik&gt;        in most cases you cannot do all the work yourself</div>
<div class="line">[Sunday 21 November 2010] [13:04:58] &lt;sustrik&gt;        you have to rely on people who actually own and understand the OSes in question</div>
<div class="line">[Sunday 21 November 2010] [13:05:50] &lt;Guthur&gt; I&#8217;ll certainly be keeping an eye out for feedback</div>
<div class="line">[Sunday 21 November 2010] [13:27:02] &lt;rgl&gt;    Guthur, I have one request. Maybe it does not make much sense, but It would be great to choose (at runtime) the version of libzmq do use, say, if the os is 32-bit. use the 32-version, otherwise use the 64 bit version.</div>
<div class="line">[Sunday 21 November 2010] [13:28:20] &lt;Guthur&gt; well as far as clrzmq2 goes, I have used preprocessor directives</div>
<div class="line">[Sunday 21 November 2010] [13:29:01] &lt;Guthur&gt; It would not be impossible to do it at runtime, not sure of benefits though</div>
<div class="line">[Sunday 21 November 2010] [13:31:18] &lt;rgl&gt;    just more convinient. you just need to drop both versions of the native library and the whole application will work on either 32 or 64 bit.</div>
<div class="line">[Sunday 21 November 2010] [13:38:13] &lt;Guthur&gt; Might as well drop both clrzmq.dll as well then though</div>
<div class="line">[Sunday 21 November 2010] [13:38:45] &lt;Guthur&gt; and then have the application decide</div>
<div class="line">[Sunday 21 November 2010] [13:39:29] &lt;Guthur&gt; that&#8217;s not generally the approach of Linux, you tend to have either discrete packages or build from source</div>
<div class="line">[Sunday 21 November 2010] [13:40:41] &lt;Guthur&gt; rgl: Reasonable enough thought, just in imho it&#8217;s something that should be delegated to the application provider</div>
<div class="line">[Sunday 21 November 2010] [13:41:50] &lt;rgl&gt;    ah yes. indeed. it could be delegated to the app. point taken :D</div>
<div class="line">[Sunday 21 November 2010] [15:33:20] &lt;mikko&gt;  mato: is there a reason why on HP UX the CPPFLAGS are overriden completely?</div>
<div class="line">[Sunday 21 November 2010] [15:33:22] &lt;mikko&gt;  CPPFLAGS=&#8221;-D_POSIX_C_SOURCE=200112L&#8221;</div>
<div class="line">[Sunday 21 November 2010] [16:57:25] Notice   -ChanServ- [#qt] Here are the rules for #qt: (1) Don&#8217;t just join, ask, and quit - stay around and answer questions yourself! (2) Be patient, people may not see your question right away.</div>
<div class="line">[Sunday 21 November 2010] [21:58:44] &lt;Steve-o&gt;        that was Linux to FreeBSD though, I&#8217;m just testing Linux to Linux to see if the graph changes</div>
<div class="line">[Sunday 21 November 2010] [22:02:28] &lt;Steve-o&gt;        the goal is to find out if anything special is causing Windows performance to be ass</div>
<div class="line">[Sunday 21 November 2010] [22:06:57] &lt;doug&gt;   what are you measuring?</div>
<div class="line">[Sunday 21 November 2010] [22:07:20] &lt;doug&gt;   and what makes you think it might be in your critical path?</div>
<div class="line">[Sunday 21 November 2010] [22:08:18] &lt;Steve-o&gt;        I send a packet from one host to another, which then sends it back, I&#8217;m measuring the latency from the first second to the last receive</div>
<div class="line">[Sunday 21 November 2010] [22:08:51] &lt;Steve-o&gt;        I&#8217;m trying to rule out all controllable issues that can affect the critical path</div>
<div class="line">[Sunday 21 November 2010] [22:10:20] &lt;Steve-o&gt;        performance testing is always overly subject to errors in the testing method and framework</div>
<div class="line">[Sunday 21 November 2010] [22:11:35] &lt;Steve-o&gt;        you always get developers complaining they cannot achieve reported performance figures, etc</div>
<div class="line">[Monday 22 November 2010] [03:13:23] &lt;sustrik&gt;        mikko: yes</div>
<div class="line">[Monday 22 November 2010] [03:13:36] &lt;sustrik&gt;        HP-UX is broken in this respect</div>
<div class="line">[Monday 22 November 2010] [03:14:52] &lt;sustrik&gt;        IIRC</div>
<div class="line">[Monday 22 November 2010] [03:14:56] &lt;sustrik&gt;        mato may know more</div>
<div class="line">[Monday 22 November 2010] [04:10:17] &lt;<a href="#id1147"><span class="problematic" id="id1148">demmonoid_</span></a>&gt;     Hi. I&#8217;m trying to use Erlang 0mq plugin on Mac OS X, but the build fails. It seems that the C driver needs to be built as a bundle rather than a dynamic library.</div>
<div class="line">[Monday 22 November 2010] [04:10:37] &lt;<a href="#id1149"><span class="problematic" id="id1150">demmonoid_</span></a>&gt;     The problem is that all 0mq libraries are built as dynamic libraries as well</div>
<div class="line">[Monday 22 November 2010] [04:10:49] &lt;<a href="#id1151"><span class="problematic" id="id1152">demmonoid_</span></a>&gt;     Is there a way to work this out?</div>
<div class="line">[Monday 22 November 2010] [04:16:06] &lt;sustrik&gt;        <a href="#id1153"><span class="problematic" id="id1154">demmonoid_</span></a>: there are some OSX related issues in the bug tracker</div>
<div class="line">[Monday 22 November 2010] [04:16:11] &lt;sustrik&gt;        have a look there</div>
<div class="line">[Monday 22 November 2010] [04:20:35] &lt;<a href="#id1155"><span class="problematic" id="id1156">demmonoid_</span></a>&gt;     sustrik, yes, I saw them but they are like 3 months old and with no response...</div>
<div class="line">[Monday 22 November 2010] [04:21:11] &lt;<a href="#id1157"><span class="problematic" id="id1158">demmonoid_</span></a>&gt;     To be more exact, one of them is still with no response, just that I described here...</div>
<div class="line">[Monday 22 November 2010] [04:22:04] &lt;sustrik&gt;        well, you can try to fix the problem yourself then</div>
<div class="line">[Monday 22 November 2010] [04:26:34] &lt;<a href="#id1159"><span class="problematic" id="id1160">demmonoid_</span></a>&gt;     That&#8217;s what I&#8217;ve tried to do but it looks like 0mq doesn&#8217;t work when it&#8217;s libraries are just build with -bundle instead of -dynamiclib :)</div>
<div class="line">[Monday 22 November 2010] [04:26:53] &lt;<a href="#id1161"><span class="problematic" id="id1162">demmonoid_</span></a>&gt;     <a href="#id61"><span class="problematic" id="id62">*</span></a>its libraries</div>
<div class="line">[Monday 22 November 2010] [04:32:48] &lt;mikko&gt;  sustrik: but that deletes the -g -O2 flags as well</div>
<div class="line">[Monday 22 November 2010] [04:33:50] &lt;sustrik&gt;        mikko: probably a bug</div>
<div class="line">[Monday 22 November 2010] [04:34:08] &lt;sustrik&gt;        i have no idea about how the build system works though</div>
<div class="line">[Monday 22 November 2010] [04:35:36] &lt;sustrik&gt;        <a href="#id1163"><span class="problematic" id="id1164">demmonoid_</span></a>: what exactly is the problem, does if fail? what&#8217;s the error?</div>
<div class="line">[Monday 22 November 2010] [04:35:52] &lt;mikko&gt;  sustrik: i got a couple patches coming soonish</div>
<div class="line">[Monday 22 November 2010] [04:36:00] &lt;sustrik&gt;        mikko: ok</div>
<div class="line">[Monday 22 November 2010] [04:36:03] &lt;mikko&gt;  sustrik: is there a reason why i cant send pull requests in github?</div>
<div class="line">[Monday 22 November 2010] [04:36:10] &lt;mikko&gt;  would make the development flow a bit more fluent</div>
<div class="line">[Monday 22 November 2010] [04:36:20] &lt;sustrik&gt;        matter of process</div>
<div class="line">[Monday 22 November 2010] [04:36:32] &lt;sustrik&gt;        we should do it in a well defined way</div>
<div class="line">[Monday 22 November 2010] [04:36:47] &lt;sustrik&gt;        pull requests are problematic for people on exotic platforms</div>
<div class="line">[Monday 22 November 2010] [04:37:05] &lt;mikko&gt;  why is that?</div>
<div class="line">[Monday 22 November 2010] [04:37:08] &lt;sustrik&gt;        NO GIT</div>
<div class="line">[Monday 22 November 2010] [04:37:11] &lt;mikko&gt;  if they come through github</div>
<div class="line">[Monday 22 November 2010] [04:37:12] &lt;sustrik&gt;        no git</div>
<div class="line">[Monday 22 November 2010] [04:37:23] &lt;sustrik&gt;        you need git client though</div>
<div class="line">[Monday 22 November 2010] [04:37:34] &lt;mikko&gt;  you need a git client to format-patch as well</div>
<div class="line">[Monday 22 November 2010] [04:37:48] &lt;sustrik&gt;        all you need is diff</div>
<div class="line">[Monday 22 November 2010] [04:38:01] &lt;sustrik&gt;        patches don&#8217;t have to be strictly formatted</div>
<div class="line">[Monday 22 November 2010] [04:38:13] &lt;sustrik&gt;        just and diff and a sign-off</div>
<div class="line">[Monday 22 November 2010] [04:43:59] &lt;<a href="#id1165"><span class="problematic" id="id1166">demmonoid_</span></a>&gt;     sustrik, it gives the error &#8220;i686-apple-darwin10-g++-4.2.1: -compatibility_version only allowed with -dynamiclib&#8221; upon build</div>
<div class="line">[Monday 22 November 2010] [04:46:40] &lt;<a href="#id1167"><span class="problematic" id="id1168">demmonoid_</span></a>&gt;     I removed this flag from libtool, as well as install_name which is also incompatible with -bundle</div>
<div class="line">[Monday 22 November 2010] [04:46:49] &lt;<a href="#id1169"><span class="problematic" id="id1170">demmonoid_</span></a>&gt;     Will see if this works</div>
<div class="line">[Monday 22 November 2010] [04:46:59] &lt;mikko&gt;  <a href="#id1171"><span class="problematic" id="id1172">demmonoid_</span></a>: osx build for erlzmq is broken?</div>
<div class="line">[Monday 22 November 2010] [04:47:22] &lt;<a href="#id1173"><span class="problematic" id="id1174">demmonoid_</span></a>&gt;     Yes, it is</div>
<div class="line">[Monday 22 November 2010] [04:47:47] &lt;<a href="#id1175"><span class="problematic" id="id1176">demmonoid_</span></a>&gt;     Looks like it&#8217;s broken for OS X for a long time...</div>
<div class="line">[Monday 22 November 2010] [04:48:03] &lt;<a href="#id1177"><span class="problematic" id="id1178">demmonoid_</span></a>&gt;     At least for Snow Leopard</div>
<div class="line">[Monday 22 November 2010] [05:02:07] &lt;<a href="#id1179"><span class="problematic" id="id1180">demmonoid_</span></a>&gt;     So, I rebuilt 0mq with -bundle, edited erlzmq&#8217;s configs so it will compile with -bundle instead of -dynamiclib, but I still get the same error: &#8220;i686-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib&#8221;</div>
<div class="line">[Monday 22 November 2010] [05:02:32] &lt;<a href="#id1181"><span class="problematic" id="id1182">demmonoid_</span></a>&gt;     It appears that zeromq libs were built with -dynamiclib anyway</div>
<div class="line">[Monday 22 November 2010] [05:03:22] &lt;mikko&gt;  sustrik: i added &#8211;enable-debug flag to builds</div>
<div class="line">[Monday 22 November 2010] [05:03:32] &lt;mikko&gt;  sustrik: do you think something like this is useful?</div>
<div class="line">[Monday 22 November 2010] [05:06:50] &lt;mikko&gt;  as currently it&#8217;s not possible to really set debug flags</div>
<div class="line">[Monday 22 November 2010] [05:07:00] &lt;mikko&gt;  -O2 will be in the build line in any case</div>
<div class="line">[Monday 22 November 2010] [05:07:23] &lt;sustrik&gt;        what I do is:</div>
<div class="line">[Monday 22 November 2010] [05:07:32] &lt;sustrik&gt;        export CXXFLAGS=&#8221;-g -O0&#8221;</div>
<div class="line">[Monday 22 November 2010] [05:07:46] &lt;sustrik&gt;        ./configure &#8211;disable-shared</div>
<div class="line">[Monday 22 November 2010] [05:07:59] &lt;mikko&gt;  you need to do CPPFLAGS and CFLAGS as well, if building with pgm</div>
<div class="line">[Monday 22 November 2010] [05:08:05] &lt;sustrik&gt;        right</div>
<div class="line">[Monday 22 November 2010] [05:08:11] &lt;mikko&gt;  for normal user maybe ./configure &#8211;enable-debug might be easier</div>
<div class="line">[Monday 22 November 2010] [05:08:30] &lt;sustrik&gt;        right, you want to merge all three into s single flag</div>
<div class="line">[Monday 22 November 2010] [05:08:32] &lt;sustrik&gt;        1. -g</div>
<div class="line">[Monday 22 November 2010] [05:08:35] &lt;sustrik&gt;        2. -O0</div>
<div class="line">[Monday 22 November 2010] [05:08:42] &lt;sustrik&gt;        3. &#8211;disable-shared</div>
<div class="line">[Monday 22 November 2010] [05:09:22] &lt;mikko&gt;  i will look into adding &#8211;disable-shared as well</div>
<div class="line">[Monday 22 November 2010] [05:09:29] &lt;sustrik&gt;        it helps</div>
<div class="line">[Monday 22 November 2010] [05:09:38] &lt;mikko&gt;  the problem is that i am not 100% convinced if this is really needed</div>
<div class="line">[Monday 22 November 2010] [05:09:51] &lt;mikko&gt;  as for example with sun studio the debug flag is -g0</div>
<div class="line">[Monday 22 November 2010] [05:09:51] &lt;sustrik&gt;        as if it&#8217;s not set, the tests are built with a different name</div>
<div class="line">[Monday 22 November 2010] [05:10:04] &lt;sustrik&gt;        and then there&#8217;s a wrapper script to launch them</div>
<div class="line">[Monday 22 November 2010] [05:10:16] &lt;sustrik&gt;        thus launching it within bebugger</div>
<div class="line">[Monday 22 November 2010] [05:10:22] &lt;sustrik&gt;        actually debugs the shell</div>
<div class="line">[Monday 22 November 2010] [05:10:28] &lt;sustrik&gt;        not the test program</div>
<div class="line">[Monday 22 November 2010] [05:10:42] &lt;sustrik&gt;        mikko: i would appreciate it</div>
<div class="line">[Monday 22 November 2010] [05:10:57] &lt;sustrik&gt;        it saves some time when debuging</div>
<div class="line">[Monday 22 November 2010] [05:12:51] &lt;mikko&gt;  sustrik: ok, will add</div>
<div class="line">[Monday 22 November 2010] [10:06:51] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07maint * r83d9af9 10/ MAINTAINERS :</div>
<div class="line">[Monday 22 November 2010] [10:06:51] &lt;CIA-20&gt; zeromq2: Mikko Koppanen becomes a maintainer of the build system.</div>
<div class="line">[Monday 22 November 2010] [10:06:51] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/9gV5IU">http://bit.ly/9gV5IU</a></div>
<div class="line">[Monday 22 November 2010] [10:07:31] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * r83d9af9 10/ MAINTAINERS :</div>
<div class="line">[Monday 22 November 2010] [10:07:31] &lt;CIA-20&gt; zeromq2: Mikko Koppanen becomes a maintainer of the build system.</div>
<div class="line">[Monday 22 November 2010] [10:07:31] &lt;CIA-20&gt; zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/9gV5IU">http://bit.ly/9gV5IU</a></div>
<div class="line">[Monday 22 November 2010] [10:07:37] &lt;CIA-20&gt; zeromq2: 03Martin Sustrik 07master * ra689047 10/ MAINTAINERS :</div>
<div class="line">[Monday 22 November 2010] [10:07:37] &lt;CIA-20&gt; zeromq2: Merge branch &#8216;maint&#8217;</div>
<div class="line">[Monday 22 November 2010] [10:07:37] &lt;CIA-20&gt; zeromq2: * maint:</div>
<div class="line">[Monday 22 November 2010] [10:07:37] &lt;CIA-20&gt; zeromq2:  Mikko Koppanen becomes a maintainer of the build system. - <a class="reference external" href="http://bit.ly/aqtmfh">http://bit.ly/aqtmfh</a></div>
<div class="line">[Monday 22 November 2010] [11:11:09] Notice   -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Monday 22 November 2010] [11:11:09] CTCP     Received Version request from frigg.</div>
<div class="line">[Monday 22 November 2010] [12:19:54] 435      <a href="#id1183"><span class="problematic" id="id1184">travlr_</span></a> travlr #gentoo-qt Cannot change nickname while banned on channel</div>
<div class="line">[Monday 22 November 2010] [12:20:22] 435      <a href="#id1185"><span class="problematic" id="id1186">travlr_</span></a> travlr #gentoo-qt Cannot change nickname while banned on channel</div>
<div class="line">[Monday 22 November 2010] [12:20:30] 435      <a href="#id1187"><span class="problematic" id="id1188">travlr_</span></a> travlr #gentoo-kde Cannot change nickname while banned on channel</div>
<div class="line">[Monday 22 November 2010] [12:20:39] Notice   -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Monday 22 November 2010] [14:08:33] &lt;cremes&gt; anybody seeing this assertion failure against latest master?</div>
<div class="line">[Monday 22 November 2010] [14:08:34] &lt;cremes&gt; Assertion failed: !more || pipes [current] != <a href="#id1189"><span class="problematic" id="id1190">pipe_</span></a> (fq.cpp:61)</div>
<div class="line">[Monday 22 November 2010] [14:09:04] &lt;cremes&gt; i&#8217;m trying to get a small reproducible case but have so far been unsuccessful</div>
<div class="line">[Monday 22 November 2010] [14:09:22] &lt;cremes&gt; would a backtrace be useful in the absence of reproducible code?</div>
<div class="line">[Monday 22 November 2010] [14:27:22] &lt;sustrik&gt;        cremes: yes, back trace is always helpful</div>
<div class="line">[Monday 22 November 2010] [14:45:05] &lt;cremes&gt; <a class="reference external" href="https://github.com/zeromq/zeromq2/issues/issue/119">https://github.com/zeromq/zeromq2/issues/issue/119</a></div>
<div class="line">[Monday 22 November 2010] [21:08:40] &lt;quentusrex&gt;     I don&#8217;t see any documentation on the wiki for subscriptions</div>
<div class="line">[Monday 22 November 2010] [21:09:02] &lt;quentusrex&gt;     I see a reference to it here: <a class="reference external" href="http://api.zeromq.org/zmq.html">http://api.zeromq.org/zmq.html</a> but no page about it.</div>
<div class="line">[Monday 22 November 2010] [22:08:18] &lt;josh&gt;   What service does the context provide?</div>
<div class="line">[Monday 22 November 2010] [22:08:50] &lt;josh&gt;   Working on a wrapper and just wondering if there&#8217;s a practical way to elide the context creation</div>
<div class="line">[Monday 22 November 2010] [23:52:39] &lt;quentusrex&gt;     Anyone know if there is work on a server side subscription for the pub/sub ?</div>
<div class="line">[Monday 22 November 2010] [23:52:49] &lt;quentusrex&gt;     so that bandwidth usage is reduced?</div>
<div class="line">[Tuesday 23 November 2010] [01:54:42] &lt;sustrik&gt;       josh: context holds all the global variables</div>
<div class="line">[Tuesday 23 November 2010] [01:55:51] &lt;sustrik&gt;       if your language supports a native mechanism for a libraries to hold two separate sets of global variables when a library is initialised twice, use that instead of contexts</div>
<div class="line">[Tuesday 23 November 2010] [01:56:37] &lt;sustrik&gt;       quantusrex: there have been couple of threads about server-side subscriptions (&#8220;subscription forwarding&#8221;) on the mailing list</div>
<div class="line">[Tuesday 23 November 2010] [01:56:41] &lt;sustrik&gt;       check the archives</div>
<div class="line">[Tuesday 23 November 2010] [02:04:00] &lt;travlr&gt;        how&#8217;s master running for others? I&#8217;m getting an assert failure now with send(..).</div>
<div class="line">[Tuesday 23 November 2010] [02:10:12] &lt;travlr&gt;        oops, i mean zmq_send(...)</div>
<div class="line">[Tuesday 23 November 2010] [02:11:28] &lt;sustrik&gt;       travlr: mostly it works ok</div>
<div class="line">[Tuesday 23 November 2010] [02:11:33] &lt;sustrik&gt;       what&#8217;s the assert?</div>
<div class="line">[Tuesday 23 November 2010] [02:13:20] &lt;travlr&gt;        i&#8217;m using zhelpers.h which raises an assert with the return from the call to zmq_send(...)</div>
<div class="line">[Tuesday 23 November 2010] [02:13:39] &lt;travlr&gt;        up to date master</div>
<div class="line">[Tuesday 23 November 2010] [02:13:45] &lt;sustrik&gt;       what assert?</div>
<div class="line">[Tuesday 23 November 2010] [02:14:01] &lt;travlr&gt;        Assertion <a href="#id63"><span class="problematic" id="id64">`</span></a>!rc&#8217; failed</div>
<div class="line">[Tuesday 23 November 2010] [02:14:27] &lt;sustrik&gt;       probably a bug in zhelpers.h</div>
<div class="line">[Tuesday 23 November 2010] [02:14:51] &lt;travlr&gt;        hmm, ok. i&#8217;ll lose it.. thanks.</div>
<div class="line">[Tuesday 23 November 2010] [02:15:19] &lt;sustrik&gt;       the thing is 0MQ returns an error</div>
<div class="line">[Tuesday 23 November 2010] [02:15:23] &lt;sustrik&gt;       which is ok</div>
<div class="line">[Tuesday 23 November 2010] [02:15:28] &lt;sustrik&gt;       it doesn&#8217;t fail or something</div>
<div class="line">[Tuesday 23 November 2010] [02:15:46] &lt;travlr&gt;        right let me see what the call actually returns then..</div>
<div class="line">[Tuesday 23 November 2010] [02:15:53] &lt;sustrik&gt;       ack</div>
<div class="line">[Tuesday 23 November 2010] [02:15:56] &lt;travlr&gt;        thanks again</div>
<div class="line">[Tuesday 23 November 2010] [02:48:59] &lt;Guthur&gt;        sustrik, ping</div>
<div class="line">[Tuesday 23 November 2010] [02:49:12] &lt;sustrik&gt;       pong</div>
<div class="line">[Tuesday 23 November 2010] [02:49:40] &lt;Guthur&gt;        Did you see that ticket raised regarding ruleset serialization in clrzmq]</div>
<div class="line">[Tuesday 23 November 2010] [02:50:19] &lt;Guthur&gt;        I was just going to tell him briefly it&#8217;s not a clrzmq issue, sound ok?</div>
<div class="line">[Tuesday 23 November 2010] [02:50:26] &lt;Guthur&gt;        and close the ticket</div>
<div class="line">[Tuesday 23 November 2010] [02:50:49] &lt;sustrik&gt;       no point in doing other people&#8217;s homework, just point him to the guide</div>
<div class="line">[Tuesday 23 November 2010] [02:50:53] &lt;sustrik&gt;       and close the ticket</div>
<div class="line">[Tuesday 23 November 2010] [02:51:00] &lt;Guthur&gt;        ack</div>
<div class="line">[Tuesday 23 November 2010] [02:51:22] &lt;travlr&gt;        martin, the assert was somehow my mistake.. sorry for disturbing you for nothing.. it seems</div>
<div class="line">[Tuesday 23 November 2010] [02:55:03] &lt;sustrik&gt;       ok</div>
<div class="line">[Tuesday 23 November 2010] [04:17:43] &lt;mikko&gt; good morning</div>
<div class="line">[Tuesday 23 November 2010] [04:48:12] &lt;sustrik&gt;       morning</div>
<div class="line">[Tuesday 23 November 2010] [06:38:56] &lt;migmir&gt;        hello everyone</div>
<div class="line">[Tuesday 23 November 2010] [09:45:31] &lt;Guthur&gt;        I want to request a limited stream of data, what would be decent strategy?</div>
<div class="line">[Tuesday 23 November 2010] [09:46:21] &lt;Guthur&gt;        The scenario is that multiple client will come along and request a stream of data for a period of time then stop</div>
<div class="line">[Tuesday 23 November 2010] [09:46:56] &lt;Guthur&gt;        sorry stream is not really the right description</div>
<div class="line">[Tuesday 23 November 2010] [09:47:13] &lt;Guthur&gt;        it will be a set of updates at non-deterministic intervals</div>
<div class="line">[Tuesday 23 November 2010] [09:51:38] &lt;lantins&gt;       REQ/REP? guess it would depend on what kind of interval your looking at</div>
<div class="line">[Tuesday 23 November 2010] [09:55:58] &lt;sustrik&gt;       Guthur: ZMQ_SUBSCRIBE/ZMQ_UNSUBSCRIBE</div>
<div class="line">[Tuesday 23 November 2010] [09:56:26] &lt;sustrik&gt;       or simply close the socket when you don&#8217;t want to receive more updates</div>
<div class="line">[Tuesday 23 November 2010] [09:59:12] &lt;CIA-20&gt;        jzmq: 03Gonzalo Diethelm 07master * r431fb23 10/ src/org/zeromq/ZMQ.java : Made Poller constants POLL{IN,OUT,ERR} into public. - <a class="reference external" href="http://bit.ly/eRnY5q">http://bit.ly/eRnY5q</a></div>
<div class="line">[Tuesday 23 November 2010] [10:07:07] &lt;Guthur&gt;        I will investigate those options, really need to prototype I suppose</div>
<div class="line">[Tuesday 23 November 2010] [12:28:03] &lt;Guthur&gt;        is there a nice way to make the last message on a publisher persistent</div>
<div class="line">[Tuesday 23 November 2010] [12:28:29] &lt;Guthur&gt;        So that if a subscriber comes along later it will receive that last message</div>
<div class="line">[Tuesday 23 November 2010] [12:31:54] &lt;sustrik&gt;       Guthur: what you want is last value cache afaiu</div>
<div class="line">[Tuesday 23 November 2010] [12:32:04] &lt;sustrik&gt;       it has to be built on top of 0mq</div>
<div class="line">[Tuesday 23 November 2010] [12:33:43] &lt;Guthur&gt;        sustrik: I was thinking might have to be</div>
<div class="line">[Tuesday 23 November 2010] [12:34:17] &lt;Guthur&gt;        would one just publish every tick</div>
<div class="line">[Tuesday 23 November 2010] [12:34:31] &lt;Guthur&gt;        ie some arbitrary time interval</div>
<div class="line">[Tuesday 23 November 2010] [12:35:15] &lt;sustrik&gt;       in that case most subscribers would get the same message multiple times</div>
<div class="line">[Tuesday 23 November 2010] [12:35:27] &lt;sustrik&gt;       every second or so, depending on the interval</div>
<div class="line">[Tuesday 23 November 2010] [12:35:47] &lt;sustrik&gt;       i would probably go for using 2 sockets</div>
<div class="line">[Tuesday 23 November 2010] [12:35:48] &lt;Guthur&gt;        umm yeah, then I would need a timestamp or something</div>
<div class="line">[Tuesday 23 November 2010] [12:36:04] &lt;Guthur&gt;        yeah 2 sockets was my other thought</div>
<div class="line">[Tuesday 23 November 2010] [12:36:06] &lt;sustrik&gt;       PUB/SUB for bradcasting the feed</div>
<div class="line">[Tuesday 23 November 2010] [12:36:18] &lt;sustrik&gt;       REQ/REP for asking for a last snapshot</div>
<div class="line">[Tuesday 23 November 2010] [12:36:54] &lt;Guthur&gt;        ok, cheers sustrik</div>
<div class="line">[Tuesday 23 November 2010] [12:38:56] &lt;Guthur&gt;        back in a bit</div>
<div class="line">[Tuesday 23 November 2010] [13:40:32] &lt;Guthur&gt;        sustrik, With the discussion earlier can the pub/sub and req/rep, both go through the same port?</div>
<div class="line">[Tuesday 23 November 2010] [13:41:37] &lt;sustrik&gt;       no, you cannot bind two sockets to the same port</div>
<div class="line">[Tuesday 23 November 2010] [13:54:59] &lt;Guthur&gt;        wishful thinking</div>
<div class="line">[Tuesday 23 November 2010] [14:46:14] &lt;tupshin1&gt;      what do I need to get device support in java? I built the bluig forg of jzmq, but I get an unsatisfiedlinkerror for ZMQ$Device.construct</div>
<div class="line">[Tuesday 23 November 2010] [14:46:21] &lt;tupshin1&gt;      s/forg/fork/</div>
<div class="line">[Tuesday 23 November 2010] [15:01:03] &lt;tupshin1&gt;      alternatively, is there a good way of implementing a multi-threaded java zmq server that doesn&#8217;t use device? as opposed to this one: <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/Java/mtserver.java">https://github.com/imatix/zguide/blob/master/examples/Java/mtserver.java</a></div>
<div class="line">[Tuesday 23 November 2010] [15:04:55] &lt;tupshin1&gt;      scenario is that i&#8217;m looking to build a multi-threaded java daemon that is able to listen for messages from many different processes, and respond to whichever process sent it a message. can&#8217;t seem to find a good/working jzmq pattern for this.</div>
<div class="line">[Tuesday 23 November 2010] [15:08:35] &lt;tupshin1&gt;      bah...nm. mismatch between my jzmq jar and libs. got it. :)</div>
<div class="line">[Tuesday 23 November 2010] [16:31:25] &lt;josh&gt;  So, I&#8217;m working on a completely managed build of zmq (compiled with very small changes using MS C++/CLI)</div>
<div class="line">[Tuesday 23 November 2010] [16:31:56] &lt;josh&gt;  Has anyone messed with doing something like this yet? I don&#8217;t want to repeat someone elses work...</div>
<div class="line">[Tuesday 23 November 2010] [16:48:36] &lt;tupshin1&gt;      is IPC generally the fastest way to use zeromq to pass messages between processes on linux? (php and java in this case)</div>
<div class="line">[Tuesday 23 November 2010] [21:16:31] &lt;travlr&gt;        d797sd9885765sdf879g79dfg</div>
<div class="line">[Tuesday 23 November 2010] [21:16:47] &lt;travlr&gt;        oops :P</div>
<div class="line">[Wednesday 24 November 2010] [06:48:09] &lt;drbobbeaty&gt;  Is there any feeling for the timing of the release of ZeroMQ 2.1? I ask because I&#8217;m hitting a slight memory leak in 2.0.10 using epgm:// and I&#8217;m hoping that the new version of OpenPGM in 2.1 - as well as all the other fixes in 2.1, is going to help me out.</div>
<div class="line">[Wednesday 24 November 2010] [06:48:52] &lt;sustrik&gt;     drbobbeaty: this week</div>
<div class="line">[Wednesday 24 November 2010] [06:49:09] &lt;drbobbeaty&gt;  Fantastic! Very much appreciated.</div>
<div class="line">[Wednesday 24 November 2010] [06:51:50] &lt;sustrik&gt;     you are welcome</div>
<div class="line">[Wednesday 24 November 2010] [06:52:10] &lt;sustrik&gt;     in any case you can check the 2.1 version even today</div>
<div class="line">[Wednesday 24 November 2010] [06:52:23] &lt;sustrik&gt;     just get it from the master on github</div>
<div class="line">[Wednesday 24 November 2010] [07:15:12] &lt;Guthur&gt;      sustrik: Will 2.1 have many changes requiring updates to bindings?</div>
<div class="line">[Wednesday 24 November 2010] [07:19:46] &lt;sustrik&gt;     Guthur: it is backward compatible</div>
<div class="line">[Wednesday 24 November 2010] [07:20:05] &lt;sustrik&gt;     some new socket options add added</div>
<div class="line">[Wednesday 24 November 2010] [07:20:34] &lt;sustrik&gt;     but the bindings can implement those gradually</div>
<div class="line">[Wednesday 24 November 2010] [07:24:28] &lt;Guthur&gt;      ok, I&#8217;ll keep an eye out</div>
<div class="line">[Wednesday 24 November 2010] [07:24:40] &lt;Guthur&gt;      will the updates be clearly documented</div>
<div class="line">[Wednesday 24 November 2010] [07:26:25] &lt;sustrik&gt;     yes, there&#8217;s a NEWS file in the main directory</div>
<div class="line">[Wednesday 24 November 2010] [07:26:37] &lt;sustrik&gt;     annoncement email will be sent to the ML as well</div>
<div class="line">[Wednesday 24 November 2010] [09:11:01] &lt;<a href="#id1191"><span class="problematic" id="id1192">toni_</span></a>&gt;       hey there. Does a REQ socket connected to n XREP sockets do load balancing?</div>
<div class="line">[Wednesday 24 November 2010] [09:16:56] &lt;sustrik&gt;     yes</div>
<div class="line">[Wednesday 24 November 2010] [09:22:17] &lt;<a href="#id1193"><span class="problematic" id="id1194">toni_</span></a>&gt;       sustrik: thanks!</div>
<div class="line">[Wednesday 24 November 2010] [09:22:51] &lt;sustrik&gt;     np</div>
<div class="line">[Wednesday 24 November 2010] [09:44:01] &lt;CIA-20&gt;      jzmq: 03Alexey Ermakov 07master * r4341426 10/ src/org/zeromq/ZMQ.java : Fixed javadocs for Poller#getTimeout and Poller#setTimeout (zmq_poll timeout is in microseconds, not milliseconds). - <a class="reference external" href="http://bit.ly/gGhqUd">http://bit.ly/gGhqUd</a></div>
<div class="line">[Wednesday 24 November 2010] [09:56:55] &lt;Guthur&gt;      sustrik: How likely is it that zeromq might offer HTTP as a transport at some point</div>
<div class="line">[Wednesday 24 November 2010] [09:57:25] &lt;sustrik&gt;     Guthur: as likely as that someone would write the transport :)</div>
<div class="line">[Wednesday 24 November 2010] [09:57:47] &lt;sustrik&gt;     the codebase is open to adding new transports</div>
<div class="line">[Wednesday 24 November 2010] [09:58:28] &lt;sustrik&gt;     one of the things i would like to do in the future would be to make transport as simple as possible</div>
<div class="line">[Wednesday 24 November 2010] [09:58:40] &lt;sustrik&gt;     transport plugins...</div>
<div class="line">[Wednesday 24 November 2010] [09:59:01] &lt;sustrik&gt;     anyway, I don&#8217;t plan to write HTTP transport myself</div>
<div class="line">[Wednesday 24 November 2010] [10:58:20] &lt;mikko&gt;       what kind of http transport?</div>
<div class="line">[Wednesday 24 November 2010] [10:58:28] &lt;mikko&gt;       i think http should be a device maybe</div>
<div class="line">[Wednesday 24 November 2010] [19:06:57] &lt;quentusrex&gt;  Is there a particular socket type that would be best for Request-reply type messages, but from one server to each of the many clients?</div>
<div class="line">[Wednesday 24 November 2010] [19:12:06] &lt;lestrrat&gt;    is there a working code example for ZMQ_FD ?</div>
<div class="line">[Wednesday 24 November 2010] [19:40:08] &lt;mgc&gt; hi all.  apologies for a drive by question:  load testing the latest from zeromq2/master I am hitting &#8220;Assertion failed: inpipes [current_in].active (xrep.cpp:229)&#8221;.  Any suggestions?</div>
<div class="line">[Wednesday 24 November 2010] [19:40:50] &lt;mgc&gt; looks like the pipe suddenly goes away while getting a multi part message?</div>
<div class="line">[Thursday 25 November 2010] [02:47:30] &lt;sustrik&gt;      lestrrat: look at implementation of zmq_poll in src/zmq.cpp</div>
<div class="line">[Thursday 25 November 2010] [02:49:03] &lt;sustrik&gt;      mgc: looks like an bug. can you report it and provide a simple test program to reproduce it?</div>
<div class="line">[Thursday 25 November 2010] [02:49:15] &lt;sustrik&gt;      quentusrex: hm, doesn&#8217;t make much sense to me</div>
<div class="line">[Thursday 25 November 2010] [02:51:38] &lt;guido_g&gt;      sustrik: nice support for the mq :) <a class="reference external" href="http://swtch.com/~rsc/talks/threads07/">http://swtch.com/~rsc/talks/threads07/</a></div>
<div class="line">[Thursday 25 November 2010] [02:51:58] &lt;guido_g&gt;      ok, it&#8217;s from 2007, but we can ignore that</div>
<div class="line">[Thursday 25 November 2010] [02:53:27] &lt;sustrik&gt;      yep, i&#8217;ve seen that presentation before</div>
<div class="line">[Thursday 25 November 2010] [02:53:35] &lt;sustrik&gt;      or maybe a very similar one</div>
<div class="line">[Thursday 25 November 2010] [02:54:19] &lt;guido_g&gt;      ah ok</div>
<div class="line">[Thursday 25 November 2010] [03:04:14] &lt;sustrik&gt;      guido_g: if you believe it&#8217;s interesting for general audience, just send a link to the mailing list</div>
<div class="line">[Thursday 25 November 2010] [03:56:54] &lt;quentusrex&gt;   sustrik, basically I have a single server that will accept event notifications from many clients,</div>
<div class="line">[Thursday 25 November 2010] [03:57:11] &lt;quentusrex&gt;   and the server needs to respond to the client to let them know if the work was accepted.</div>
<div class="line">[Thursday 25 November 2010] [03:58:13] &lt;quentusrex&gt;   I don&#8217;t see anything that mentions how to determine from which client connection each message came from.</div>
<div class="line">[Thursday 25 November 2010] [03:59:12] &lt;sustrik&gt;      how is that different from standard REQ/REP?</div>
<div class="line">[Thursday 25 November 2010] [03:59:51] &lt;quentusrex&gt;   In my case the delay is ~30 seconds until we know if the results are accepted,</div>
<div class="line">[Thursday 25 November 2010] [04:00:10] &lt;sustrik&gt;      if you need something like, delayed replying, use XREQ/XREP</div>
<div class="line">[Thursday 25 November 2010] [04:00:57] &lt;quentusrex&gt;   so I was looking in the documentation and examples for something that would allow me to send a response back to the client from which the message came from.</div>
<div class="line">[Thursday 25 November 2010] [04:01:06] &lt;quentusrex&gt;   I&#8217;ll dig into the XREP more.</div>
<div class="line">[Thursday 25 November 2010] [04:01:49] &lt;sustrik&gt;      yes, that&#8217;ll help you</div>
<div class="line">[Thursday 25 November 2010] [04:01:55] &lt;sustrik&gt;      check the guide for examples</div>
<div class="line">[Thursday 25 November 2010] [04:03:52] &lt;quentusrex&gt;   aah, that is exactly what I was looking for.</div>
<div class="line">[Thursday 25 November 2010] [04:04:09] &lt;quentusrex&gt;   thanks sustrik</div>
<div class="line">[Thursday 25 November 2010] [04:04:19] &lt;sustrik&gt;      np</div>
<div class="line">[Thursday 25 November 2010] [05:34:47] &lt;CIA-20&gt;       jzmq: 03Gonzalo Diethelm 07master * ra97e15a 10/ (src/Socket.cpp src/org/zeromq/ZMQ.java): (log message trimmed)</div>
<div class="line">[Thursday 25 November 2010] [05:34:47] &lt;CIA-20&gt;       jzmq: Changes to better handle poller timeouts and the C glue code.</div>
<div class="line">[Thursday 25 November 2010] [05:34:47] &lt;CIA-20&gt;       jzmq: The flags parameter to send / receive were assigned to a long</div>
<div class="line">[Thursday 25 November 2010] [05:34:47] &lt;CIA-20&gt;       jzmq: variable, which was received in the C glue code as a jlong,</div>
<div class="line">[Thursday 25 November 2010] [05:34:47] &lt;CIA-20&gt;       jzmq: which was finally cast to an int when being passed into</div>
<div class="line">[Thursday 25 November 2010] [05:34:47] &lt;CIA-20&gt;       jzmq: zmq_send() and zmq_recv(). I changed them into int / jint and</div>
<div class="line">[Thursday 25 November 2010] [05:34:48] &lt;CIA-20&gt;       jzmq: got rid of the cast.</div>
<div class="line">[Thursday 25 November 2010] [08:06:13] &lt;CIA-20&gt;       zeromq2: 03Sebastian Otaegui 07master * r92618fd 10/ builds/redhat/zeromq.spec :</div>
<div class="line">[Thursday 25 November 2010] [08:06:13] &lt;CIA-20&gt;       zeromq2: Small fix for the rhel6 spec</div>
<div class="line">[Thursday 25 November 2010] [08:06:13] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Sebastian Otaegui &lt;<a class="reference external" href="mailto:feniix&#37;&#52;&#48;gmail&#46;com">feniix<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eqVjjF">http://bit.ly/eqVjjF</a></div>
<div class="line">[Thursday 25 November 2010] [08:06:16] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r734624b 10/ src/i_engine.hpp :</div>
<div class="line">[Thursday 25 November 2010] [08:06:17] &lt;CIA-20&gt;       zeromq2: Typo fixed in a comment.</div>
<div class="line">[Thursday 25 November 2010] [08:06:17] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/h89opD">http://bit.ly/h89opD</a></div>
<div class="line">[Thursday 25 November 2010] [09:22:17] &lt;mato&gt; mikko: hi, are you around?</div>
<div class="line">[Thursday 25 November 2010] [11:13:00] &lt;mato&gt; sustrik: could you add the individual test executables in tests/ to .gitignore at the top level please?</div>
<div class="line">[Thursday 25 November 2010] [11:13:12] &lt;mato&gt; sustrik: (this is not worth making a patch to the ML...)</div>
<div class="line">[Thursday 25 November 2010] [11:13:33] &lt;CIA-20&gt;       zeromq2: 03Martin Lucina 07master * rc958409 10/ (5 files in 3 dirs):</div>
<div class="line">[Thursday 25 November 2010] [11:13:33] &lt;CIA-20&gt;       zeromq2: Control symbol exports using -fvisibility</div>
<div class="line">[Thursday 25 November 2010] [11:13:33] &lt;CIA-20&gt;       zeromq2: On systems using GCC 4.0 or newer which support symbol visibility in shared</div>
<div class="line">[Thursday 25 November 2010] [11:13:33] &lt;CIA-20&gt;       zeromq2: libraries, use -fvisibility=hidden and only export explict API functions</div>
<div class="line">[Thursday 25 November 2010] [11:13:33] &lt;CIA-20&gt;       zeromq2: defined in zmq.cpp. We do not enable -fvisibility on MinGW since this uses a</div>
<div class="line">[Thursday 25 November 2010] [11:13:33] &lt;CIA-20&gt;       zeromq2: separate mechanism (__declspec).</div>
<div class="line">[Thursday 25 November 2010] [11:13:34] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Lucina &lt;<a class="reference external" href="mailto:mato&#37;&#52;&#48;kotelna&#46;sk">mato<span>&#64;</span>kotelna<span>&#46;</span>sk</a>&gt; - <a class="reference external" href="http://bit.ly/i2lvb2">http://bit.ly/i2lvb2</a></div>
<div class="line">[Thursday 25 November 2010] [11:36:48] &lt;mato&gt; sustrik: ping?</div>
<div class="line">[Thursday 25 November 2010] [11:55:16] &lt;mikko&gt;        mato: yes]</div>
<div class="line">[Thursday 25 November 2010] [11:55:19] &lt;mikko&gt;        am now</div>
<div class="line">[Thursday 25 November 2010] [11:58:07] &lt;mato&gt; mikko: I wanted some advice on how to check for -fvisibility support, but have that solved now</div>
<div class="line">[Thursday 25 November 2010] [11:58:53] &lt;mato&gt; mikko: (see my patch on the ml. sustrik has applied it</div>
<div class="line">[Thursday 25 November 2010] [11:59:03] &lt;mato&gt; mikko: how often do the autobuilders wake up?</div>
<div class="line">[Thursday 25 November 2010] [11:59:44] &lt;mikko&gt;        mato: 5 am and 5 pm GMT</div>
<div class="line">[Thursday 25 November 2010] [11:59:53] &lt;mikko&gt;        in a minute is the next build</div>
<div class="line">[Thursday 25 November 2010] [12:00:33] &lt;mato&gt; oh, good, i can see hopefully that i&#8217;ve not broken anything</div>
<div class="line">[Thursday 25 November 2010] [12:00:47] &lt;mikko&gt;        i got a couple of patches waiting as well</div>
<div class="line">[Thursday 25 November 2010] [12:00:52] &lt;mikko&gt;        need to have some time to send them</div>
<div class="line">[Thursday 25 November 2010] [12:00:59] &lt;mikko&gt;        &#8211;enable-debug switch and a couple others</div>
<div class="line">[Thursday 25 November 2010] [12:01:04] &lt;mikko&gt;        i had a question for you btw</div>
<div class="line">[Thursday 25 November 2010] [12:01:23] &lt;mikko&gt;        for hp ux in configure.in: CPPFLAGS=&#8221;-D_POSIX_C_SOURCE=200112L&#8221;</div>
<div class="line">[Thursday 25 November 2010] [12:01:33] &lt;mikko&gt;        is there a reason why $CPPFLAGS is not appended to that?</div>
<div class="line">[Thursday 25 November 2010] [12:01:44] &lt;mato&gt; mikko: send them soonish if you want them in the 2.1.0 release, I think we&#8217;ll get that out Monday</div>
<div class="line">[Thursday 25 November 2010] [12:02:12] &lt;mato&gt; mikko: no reason, it&#8217;s a typo</div>
<div class="line">[Thursday 25 November 2010] [12:02:22] &lt;mikko&gt;        ok</div>
<div class="line">[Thursday 25 November 2010] [12:02:26] &lt;mikko&gt;        my patch fixes that</div>
<div class="line">[Thursday 25 November 2010] [12:02:44] &lt;mikko&gt;        after these patches user can override all build flags</div>
<div class="line">[Thursday 25 November 2010] [12:02:54] &lt;mato&gt; good</div>
<div class="line">[Thursday 25 November 2010] [12:03:50] &lt;mikko&gt;        daily build running now</div>
<div class="line">[Thursday 25 November 2010] [12:15:28] &lt;mikko&gt;        sent</div>
<div class="line">[Thursday 25 November 2010] [12:15:31] &lt;mikko&gt;        bbl -&gt;</div>
<div class="line">[Thursday 25 November 2010] [13:17:18] &lt;mikko&gt;        mato: currently i get this from autoreconf</div>
<div class="line">[Thursday 25 November 2010] [13:17:19] &lt;mikko&gt;        configure.in:9: warning: AC_INIT: not a literal: m4_esyscmd(./version.sh | tr -d &#8216;n&#8217;)</div>
<div class="line">[Thursday 25 November 2010] [13:17:26] &lt;mikko&gt;        i assume this is not an issue?</div>
<div class="line">[Thursday 25 November 2010] [13:17:32] &lt;mato&gt; mikko: dunno, I&#8217;ve not seen it</div>
<div class="line">[Thursday 25 November 2010] [13:17:52] &lt;mato&gt; mikko: I got that incantation off the autoconf mailing list so it should be ok...</div>
<div class="line">[Thursday 25 November 2010] [13:18:35] &lt;sustrik&gt;      mato: hi</div>
<div class="line">[Thursday 25 November 2010] [13:18:36] &lt;sustrik&gt;      ok</div>
<div class="line">[Thursday 25 November 2010] [13:21:40] &lt;mato&gt; sustrik: hi, um, i was asking if you could update .gitignore to include tests/(the executables)</div>
<div class="line">[Thursday 25 November 2010] [13:21:49] &lt;mato&gt; sustrik: so that &#8220;git status&#8221; is clean after a build</div>
<div class="line">[Thursday 25 November 2010] [13:22:01] &lt;mato&gt; sustrik: didn&#8217;t seem worth mailing a patch for administrivia</div>
<div class="line">[Thursday 25 November 2010] [13:22:10] &lt;sustrik&gt;      mato: yes</div>
<div class="line">[Thursday 25 November 2010] [13:22:12] &lt;sustrik&gt;      i&#8217;ll do that</div>
<div class="line">[Thursday 25 November 2010] [13:22:15] &lt;mato&gt; thx</div>
<div class="line">[Thursday 25 November 2010] [13:22:39] &lt;sustrik&gt;      the annoying part it has to be done on file-by-file basis</div>
<div class="line">[Thursday 25 November 2010] [13:22:42] &lt;mikko&gt;        i&#8217;ll amend the patches</div>
<div class="line">[Thursday 25 November 2010] [13:22:50] &lt;sustrik&gt;      as executables have no common extension</div>
<div class="line">[Thursday 25 November 2010] [13:23:01] &lt;mikko&gt;        so apart from DISABLE_SHARED they are OK?</div>
<div class="line">[Thursday 25 November 2010] [13:23:11] &lt;mato&gt; sustrik: yeah, well, when you add a test, update .gitignore, no problem...</div>
<div class="line">[Thursday 25 November 2010] [13:23:19] &lt;mato&gt; mikko: yeah, i&#8217;m happy, thanks</div>
<div class="line">[Thursday 25 November 2010] [13:26:30] &lt;mato&gt; mikko: one thing with &#8211;enable-debug...</div>
<div class="line">[Thursday 25 November 2010] [13:26:37] &lt;mato&gt; mikko: not sure if it&#8217;s useful, but.</div>
<div class="line">[Thursday 25 November 2010] [13:26:56] &lt;mato&gt; mikko: at the moment default behaviour is to build with -O2 -g (say for GCC)</div>
<div class="line">[Thursday 25 November 2010] [13:27:11] &lt;mato&gt; mikko: &#8211;enable-debug changes that to -O0 -g</div>
<div class="line">[Thursday 25 November 2010] [13:27:46] &lt;mato&gt; mikko: I&#8217;m wondering whether or not there should also be a &#8211;disable-debug/&#8211;enable-release or something that disables -g entirely and/or in future adds more agressive optimizations</div>
<div class="line">[Thursday 25 November 2010] [13:27:56] &lt;mato&gt; mikko: but that&#8217;s just a thought, no need to deal with that now</div>
<div class="line">[Thursday 25 November 2010] [13:30:02] &lt;mikko&gt;        yes, i think that would make sense</div>
<div class="line">[Thursday 25 November 2010] [13:30:41] &lt;mikko&gt;        do we not want -g on releases?</div>
<div class="line">[Thursday 25 November 2010] [13:30:48] &lt;mikko&gt;        makes backtraces quite useless</div>
<div class="line">[Thursday 25 November 2010] [13:31:16] &lt;mikko&gt;        i see your point</div>
<div class="line">[Thursday 25 November 2010] [13:31:29] &lt;mikko&gt;        use can then build with &#8211;enable-debug and provide a backtrace if it comes to that</div>
<div class="line">[Thursday 25 November 2010] [13:32:08] &lt;mato&gt; well, i don&#8217;t think the default should be w/o -g</div>
<div class="line">[Thursday 25 November 2010] [13:32:12] &lt;mikko&gt;        i managed to amend the patch without much hacking</div>
<div class="line">[Thursday 25 November 2010] [13:32:19] &lt;mikko&gt;        i think my git foo is getting stronger</div>
<div class="line">[Thursday 25 November 2010] [13:32:30] &lt;mato&gt; since that will precisely cause newbiews to report problems with no backtrace at all</div>
<div class="line">[Thursday 25 November 2010] [13:32:41] &lt;mikko&gt;        i did git reset HEAD~4, git am for the two first patches, git apply for the third, edited the lines and committed</div>
<div class="line">[Thursday 25 November 2010] [13:32:48] &lt;mikko&gt;        is that the best way to amend a patch?</div>
<div class="line">[Thursday 25 November 2010] [13:32:53] &lt;mato&gt; all i&#8217;m saying is it might be useful in future to provide an &#8220;optimized, no debug&#8221; build</div>
<div class="line">[Thursday 25 November 2010] [13:33:03] &lt;mikko&gt;        yes, i think we can easily provide that</div>
<div class="line">[Thursday 25 November 2010] [13:33:41] &lt;mikko&gt;        and it does make sense. if for example someone figures out a compiler flag for sun studio that speeds up things a lot we can easily share that to everyone</div>
<div class="line">[Thursday 25 November 2010] [13:34:11] &lt;mato&gt; yeah, for example stuff like -xtarget=native on SPARC</div>
<div class="line">[Thursday 25 November 2010] [13:34:23] &lt;mato&gt; and/or -fast</div>
<div class="line">[Thursday 25 November 2010] [13:35:14] &lt;mikko&gt;        hmm</div>
<div class="line">[Thursday 25 November 2010] [13:35:21] &lt;mikko&gt;        i might&#8217;ve messed my local build</div>
<div class="line">[Thursday 25 November 2010] [13:35:22] &lt;mikko&gt;        ./configure: line 22683: syntax error near unexpected token <a href="#id65"><span class="problematic" id="id66">`</span></a>if&#8217;</div>
<div class="line">[Thursday 25 November 2010] [13:35:22] &lt;mikko&gt;        ./configure: line 22683: <a href="#id67"><span class="problematic" id="id68">`</span></a>_LT_COMPILER_OPTION(if $compiler supports -fvisibility=hidden,&#8217;</div>
<div class="line">[Thursday 25 November 2010] [13:37:23] &lt;mato&gt; ok, i have to go</div>
<div class="line">[Thursday 25 November 2010] [13:37:25] &lt;mato&gt; bbl maybe</div>
<div class="line">[Thursday 25 November 2010] [16:29:25] &lt;mikko&gt;        mato: did you come back?</div>
<div class="line">[Friday 26 November 2010] [05:24:06] &lt;mikko&gt;  sustrik: here?</div>
<div class="line">[Friday 26 November 2010] [09:26:19] &lt;mikko&gt;  mato: let me know if you pop in</div>
<div class="line">[Friday 26 November 2010] [11:05:40] &lt;apexi200sx&gt;     Hi</div>
<div class="line">[Friday 26 November 2010] [11:08:21] &lt;mikko&gt;  hi</div>
<div class="line">[Friday 26 November 2010] [16:49:11] &lt;mikko&gt;  howdy</div>
<div class="line">[Friday 26 November 2010] [21:52:15] &lt;foca&gt;   hi all :) is there a way to, using pubsub, have the SUB subscribe to multiple queues? ideally some sort of wildcard?</div>
<div class="line">[Saturday 27 November 2010] [06:52:19] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r0bc2a05 10/ .gitignore :</div>
<div class="line">[Saturday 27 November 2010] [06:52:19] &lt;CIA-20&gt;       zeromq2: .gitignore modified to ignore test executables</div>
<div class="line">[Saturday 27 November 2010] [06:52:19] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/eSO8gq">http://bit.ly/eSO8gq</a></div>
<div class="line">[Saturday 27 November 2010] [08:17:38] &lt;mikko&gt;        good morning</div>
<div class="line">[Saturday 27 November 2010] [08:17:46] &lt;mikko&gt;        or well, more like afternoon</div>
<div class="line">[Saturday 27 November 2010] [08:48:59] &lt;sustrik&gt;      mikko: good afternoon</div>
<div class="line">[Saturday 27 November 2010] [09:08:31] &lt;mikko&gt;        <a class="reference external" href="https://gist.github.com/42c775a7b6b9f67ed04f">https://gist.github.com/42c775a7b6b9f67ed04f</a></div>
<div class="line">[Saturday 27 November 2010] [09:08:33] &lt;mikko&gt;        getting there</div>
<div class="line">[Saturday 27 November 2010] [09:12:45] &lt;sustrik&gt;      what&#8217;s that?</div>
<div class="line">[Saturday 27 November 2010] [09:14:06] &lt;mikko&gt;        adding sun studio flags for -pedantic, -Werror and -Wall</div>
<div class="line">[Saturday 27 November 2010] [09:14:24] &lt;mikko&gt;        they have their own way to do the flags</div>
<div class="line">[Saturday 27 November 2010] [09:15:52] &lt;mikko&gt;        sun studio is actually a pretty good compiler</div>
<div class="line">[Saturday 27 November 2010] [09:16:02] &lt;mikko&gt;        seems to be a lot stricter about things than the others</div>
<div class="line">[Saturday 27 November 2010] [09:17:07] &lt;sustrik&gt;      aha, i see</div>
<div class="line">[Saturday 27 November 2010] [09:17:58] &lt;mikko&gt;        although it complains about things such as: &#8220;pub.cpp&#8221;, line 68: Warning: Conversion of 64 bit type value to &#8220;int&#8221; causes truncation.</div>
<div class="line">[Saturday 27 November 2010] [09:18:10] &lt;mikko&gt;        maybe have to disable -Werror for now</div>
<div class="line">[Saturday 27 November 2010] [09:29:29] &lt;Guthur&gt;       msvc complains about those 64bit conversions as well</div>
<div class="line">[Saturday 27 November 2010] [09:32:19] &lt;sustrik&gt;      mikko: yes, possibly</div>
<div class="line">[Saturday 27 November 2010] [09:32:33] &lt;sustrik&gt;      in the long term the warnings should be fixed though</div>
<div class="line">[Saturday 27 November 2010] [09:32:41] &lt;sustrik&gt;      Guthur: that&#8217;s win64, right?</div>
<div class="line">[Saturday 27 November 2010] [09:34:27] &lt;Guthur&gt;       sustrik, Yeah on win64</div>
<div class="line">[Saturday 27 November 2010] [09:35:02] &lt;Guthur&gt;       But even when compiling a 32bit binary iirc</div>
<div class="line">[Saturday 27 November 2010] [09:35:19] &lt;Guthur&gt;       it was saying possible conversion i think</div>
<div class="line">[Saturday 27 November 2010] [09:35:21] &lt;sustrik&gt;      i don&#8217;t see the warning on my win32</div>
<div class="line">[Saturday 27 November 2010] [09:35:23] &lt;Guthur&gt;       let me check here</div>
<div class="line">[Saturday 27 November 2010] [09:35:59] &lt;Guthur&gt;       will just take a minute (or ten) to fire up the VM and VS2010</div>
<div class="line">[Saturday 27 November 2010] [09:36:52] &lt;mikko&gt;        hm</div>
<div class="line">[Saturday 27 November 2010] [09:36:53] &lt;mikko&gt;        i wonder if it would be easy to automate MSVC builds</div>
<div class="line">[Saturday 27 November 2010] [09:39:02] &lt;sustrik&gt;      mikko: dunno, but you would at least need win VM</div>
<div class="line">[Saturday 27 November 2010] [09:39:43] &lt;sustrik&gt;      does hudson allow to run remote builds?</div>
<div class="line">[Saturday 27 November 2010] [09:41:45] &lt;mikko&gt;        yeah</div>
<div class="line">[Saturday 27 November 2010] [09:41:52] &lt;mikko&gt;        not sure how easy MSVC is to automate</div>
<div class="line">[Saturday 27 November 2010] [09:42:07] &lt;mikko&gt;        and the current build box is ia32</div>
<div class="line">[Saturday 27 November 2010] [09:42:15] &lt;mikko&gt;        so win64 issues wouldnt be visible</div>
<div class="line">[Saturday 27 November 2010] [09:42:28] &lt;mikko&gt;        it&#8217;s ESX so it could run a windows vm in theory</div>
<div class="line">[Saturday 27 November 2010] [09:43:51] &lt;sustrik&gt;      well, if it&#8217;s possible to automate it i&#8217;d be willing to donate some money to buy a win license for the build machine</div>
<div class="line">[Saturday 27 November 2010] [09:45:37] &lt;Guthur&gt;       sustrik, Yeah it is only x64 builds</div>
<div class="line">[Saturday 27 November 2010] [09:45:42] &lt;Guthur&gt;       on MSVS</div>
<div class="line">[Saturday 27 November 2010] [10:06:27] &lt;mikko&gt;        sustrik: there is a small typo in MAINTAINERS</div>
<div class="line">[Saturday 27 November 2010] [10:06:30] &lt;mikko&gt;        &#8220;Component: Application Threads and Differnet Socket Types&#8221;</div>
<div class="line">[Saturday 27 November 2010] [10:06:37] &lt;mikko&gt;        Different*</div>
<div class="line">[Saturday 27 November 2010] [10:29:42] &lt;smandy&gt;       Hi all, have a very noob question. On stackoverflow someone mentioned using omq as an in-process message queue, i.e. to replace traditional threads&#8217;n&#8217;locks synchronization. would this make appropriate? what cuold you send between producers/consumers? - pointers? data?</div>
<div class="line">[Saturday 27 November 2010] [10:29:58] &lt;smandy&gt;       ^make^be^</div>
<div class="line">[Saturday 27 November 2010] [10:30:17] &lt;smandy&gt;       or would that be considered overkill?</div>
<div class="line">[Saturday 27 November 2010] [10:32:34] &lt;mikko&gt;        smandy: you cand pointers inside the process</div>
<div class="line">[Saturday 27 November 2010] [10:32:40] &lt;mikko&gt;        smandy: and not overkill at all</div>
<div class="line">[Saturday 27 November 2010] [10:33:07] &lt;mikko&gt;        smandy: you might find this interesting: <a class="reference external" href="http://www.zeromq.org/blog:multithreading-magic">http://www.zeromq.org/blog:multithreading-magic</a></div>
<div class="line">[Saturday 27 November 2010] [10:33:19] &lt;smandy&gt;       mikko: thanks</div>
<div class="line">[Saturday 27 November 2010] [10:33:43] &lt;mikko&gt;        smandy: 0MQ suits very well for threaded programming if there is a need to share data</div>
<div class="line">[Saturday 27 November 2010] [10:34:23] &lt;mikko&gt;        rather than lock and syncronise etc etc send messages between threads</div>
<div class="line">[Saturday 27 November 2010] [10:34:49] &lt;smandy&gt;       I&#8217;m a bit of a java guy and I&#8217;ve been looking for an &#8216;actor-like&#8217; framework for C/C++ ( along the lines of scala or erlang, actors). Looks like zeromqs abstractions are similar - would that be a reasonable statement to make?</div>
<div class="line">[Saturday 27 November 2010] [10:35:44] &lt;mikko&gt;        smandy: yes, i think that is a fair statement</div>
<div class="line">[Saturday 27 November 2010] [10:36:18] &lt;mikko&gt;        and with 0MQ you can distribute your process fairly easily as well</div>
<div class="line">[Saturday 27 November 2010] [10:36:31] &lt;mikko&gt;        changing from inproc:// to tcp:// should be fairly trivial</div>
<div class="line">[Saturday 27 November 2010] [10:37:01] &lt;mikko&gt;        naturally you need to marshall the data using tcp but apart from that it should be just switching the transport</div>
<div class="line">[Saturday 27 November 2010] [10:37:11] &lt;smandy&gt;       so inproc you would share pointers, out of proc you need to have a serialization framework of some sort. Is there a &#8216;sanctioned&#8217; way of doing this or do you call out to something like protocol buffers/thrift.</div>
<div class="line">[Saturday 27 November 2010] [10:38:30] &lt;mikko&gt;        smandy: 0MQ doesn&#8217;t have serialisation built-in</div>
<div class="line">[Saturday 27 November 2010] [10:38:58] &lt;mikko&gt;        i remember someone talking about protobuffs</div>
<div class="line">[Saturday 27 November 2010] [10:39:08] &lt;mikko&gt;        but any serialisation framework should work fine</div>
<div class="line">[Saturday 27 November 2010] [10:42:06] &lt;smandy&gt;       got it. Thanks a lot for your quick and helpful answers :-)</div>
<div class="line">[Saturday 27 November 2010] [10:43:34] &lt;Guthur&gt;       if you you are sharing pointers you are probably sharing global state, which kind of negates the message passing benefits</div>
<div class="line">[Saturday 27 November 2010] [10:44:00] &lt;Guthur&gt;       unless you are letting go of the pointer on one end, I suppose</div>
<div class="line">[Saturday 27 November 2010] [10:47:25] &lt;mikko&gt;        it depends on the situation as well</div>
<div class="line">[Saturday 27 November 2010] [10:48:54] &lt;smandy&gt;       Guthur: right, could a smart pointer be passed around maybe? The intention would be to use the system in an erlang style - i.e. don&#8217;t access global state, but if you&#8217;re in the same address space, marshalling the data seems wasteful.</div>
<div class="line">[Saturday 27 November 2010] [10:49:59] &lt;mikko&gt;        smandy: i don&#8217;t know much about C++ tbh</div>
<div class="line">[Saturday 27 November 2010] [10:50:45] &lt;mikko&gt;        smandy: the problematic thing is that if you give the pointer to N threads and each one of them write to it</div>
<div class="line">[Saturday 27 November 2010] [10:51:39] &lt;mikko&gt;        smandy: naturally you can hand the ownership of the pointer to a thread that you hand it over to</div>
<div class="line">[Saturday 27 November 2010] [10:51:47] &lt;smandy&gt;       mikko: I see, i think the intention would be to pass around immutable data, or at least have the contract be that the receiving threads can&#8217;t muck around with what they&#8217;ve been passed...</div>
<div class="line">[Saturday 27 November 2010] [10:52:24] &lt;mikko&gt;        i guess something like reference counting works well for that scenario</div>
<div class="line">[Saturday 27 November 2010] [10:52:39] &lt;smandy&gt;       mikko: my thoughts exactly :-)</div>
<div class="line">[Saturday 27 November 2010] [10:53:36] &lt;smandy&gt;       so to pass a pointer you just write the bytes of the pointer to the socket?</div>
<div class="line">[Saturday 27 November 2010] [10:54:16] &lt;mikko&gt;        smandy: you wrap the pointer to a zeromq message</div>
<div class="line">[Saturday 27 November 2010] [12:48:58] &lt;cremes&gt;       i see that the new LINGER, RECONNECT_IVL and BACKLOG sockopts are ints...</div>
<div class="line">[Saturday 27 November 2010] [12:49:22] &lt;cremes&gt;       can we just make them int64s so that we don&#8217;t have to worry about varying sizes of ints on different platforms?</div>
<div class="line">[Saturday 27 November 2010] [12:54:27] &lt;mikko&gt;        cremes: we should</div>
<div class="line">[Saturday 27 November 2010] [12:54:54] &lt;cremes&gt;       mikko: i&#8217;ll open a ticket</div>
<div class="line">[Saturday 27 November 2010] [12:55:16] &lt;mikko&gt;        although is the different int sizes a problem?</div>
<div class="line">[Saturday 27 November 2010] [12:55:28] &lt;mikko&gt;        as you would have a binary for the platform</div>
<div class="line">[Saturday 27 November 2010] [12:55:35] &lt;mikko&gt;        in which scenario would this cause problems?</div>
<div class="line">[Saturday 27 November 2010] [12:55:42] &lt;cremes&gt;       it is a problem when running inside of a scripting environment</div>
<div class="line">[Saturday 27 November 2010] [12:55:45] &lt;mikko&gt;        binding compiled on 64bit and libzmq on 32bit?</div>
<div class="line">[Saturday 27 November 2010] [12:56:03] &lt;mikko&gt;        cremes: what do you mean by that?</div>
<div class="line">[Saturday 27 November 2010] [12:56:58] &lt;cremes&gt;       a scripting environment can represent integers however it likes, so even on a 64-bit build it could use 32-bit integers for numbers smaller than 2^32</div>
<div class="line">[Saturday 27 November 2010] [12:57:14] &lt;cremes&gt;       so imagine this...</div>
<div class="line">[Saturday 27 November 2010] [12:57:18] &lt;cremes&gt;       libzmq is built 64-bit</div>
<div class="line">[Saturday 27 November 2010] [12:57:25] &lt;cremes&gt;       the scripting runtime is also built 64-bit</div>
<div class="line">[Saturday 27 November 2010] [12:57:36] &lt;mikko&gt;        but surely you would cast the given integer to int before passing to libzmq</div>
<div class="line">[Saturday 27 November 2010] [12:57:37] &lt;cremes&gt;       the scripting environment uses 32-bit integers</div>
<div class="line">[Saturday 27 November 2010] [12:58:00] &lt;cremes&gt;       passing an integer from that environment to the 64-bit library will mismatch</div>
<div class="line">[Saturday 27 November 2010] [12:58:33] &lt;cremes&gt;       why should i have to cast? just define the parameter properly so that there is <em>no</em> question</div>
<div class="line">[Saturday 27 November 2010] [12:58:39] &lt;mikko&gt;        it the scripting engine is built as 64 then sizeof(int) == sizeof(int)</div>
<div class="line">[Saturday 27 November 2010] [12:59:00] &lt;cremes&gt;       internally yes, but who knows how it will represent the values to its FFI library?</div>
<div class="line">[Saturday 27 November 2010] [12:59:12] &lt;mikko&gt;        if the scripting engine uses 32bit integer (such as int32_t) you still have to case when passing to int64_t</div>
<div class="line">[Saturday 27 November 2010] [12:59:13] &lt;cremes&gt;       this is a potential bug; that&#8217;s all i&#8217;m saying</div>
<div class="line">[Saturday 27 November 2010] [12:59:27] &lt;cremes&gt;       yes</div>
<div class="line">[Saturday 27 November 2010] [13:00:13] &lt;mikko&gt;        isn&#8217;t this problem present with any integer type then?</div>
<div class="line">[Saturday 27 November 2010] [13:01:42] &lt;cremes&gt;       mikko: it&#8217;s only a problem for those options that can change depending on how the library was built</div>
<div class="line">[Saturday 27 November 2010] [13:01:54] &lt;cremes&gt;       we can avoid all of this by just defining it as int64_t</div>
<div class="line">[Saturday 27 November 2010] [13:02:52] &lt;cremes&gt;       if you look at the other sockopts, they are all defined specifically as uint64_t or int64_t</div>
<div class="line">[Saturday 27 November 2010] [13:02:57] &lt;cremes&gt;       this is likely an oversight</div>
<div class="line">[Saturday 27 November 2010] [13:03:48] &lt;mikko&gt;        i think it is</div>
<div class="line">[Saturday 27 November 2010] [13:09:41] &lt;Guthur&gt;       For clrzmq2 I definitely prefer to see int64_t as opposed int</div>
<div class="line">[Saturday 27 November 2010] [13:38:19] error  Closing Link: 69.254.38.65 (Connection timed out)</div>
<div class="line">[Saturday 27 November 2010] [13:40:18] Notice -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Saturday 27 November 2010] [13:40:35] CTCP   Received Version request from frigg.</div>
<div class="line">[Saturday 27 November 2010] [16:21:05] &lt;CIA-20&gt;       zeromq2: 03Martin Sustrik 07master * r325dd2f 10/ (src/thread.cpp src/thread.hpp tests/test_shutdown_stress.cpp):</div>
<div class="line">[Saturday 27 November 2010] [16:21:05] &lt;CIA-20&gt;       zeromq2: Functions passed to pthread_create are declared as extern &#8220;C&#8221;</div>
<div class="line">[Saturday 27 November 2010] [16:21:05] &lt;CIA-20&gt;       zeromq2: So far these were declared as C++ static functions which</div>
<div class="line">[Saturday 27 November 2010] [16:21:05] &lt;CIA-20&gt;       zeromq2: was incorrect and caused warnings with SunStudio.</div>
<div class="line">[Saturday 27 November 2010] [16:21:05] &lt;CIA-20&gt;       zeromq2: Signed-off-by: Martin Sustrik &lt;<a class="reference external" href="mailto:sustrik&#37;&#52;&#48;250bpm&#46;com">sustrik<span>&#64;</span>250bpm<span>&#46;</span>com</a>&gt; - <a class="reference external" href="http://bit.ly/i1JeTr">http://bit.ly/i1JeTr</a></div>
<div class="line">[Saturday 27 November 2010] [16:49:19] &lt;mikko&gt;        <a href="#id1195"><span class="problematic" id="id1196">sustrik_</span></a>: thanks!</div>
<div class="line">[Saturday 27 November 2010] [17:20:26] &lt;shaun510&gt;     newbie question: I have a system I&#8217;d like to convert over to zeromq (currently it&#8217;s using a hand-rolled tcp connection management system), however...</div>
<div class="line">[Saturday 27 November 2010] [17:20:51] &lt;shaun510&gt;     the components each maintain a tcp connection and stream data back and forth bidirectionally.</div>
<div class="line">[Saturday 27 November 2010] [17:21:03] &lt;shaun510&gt;     which doesn&#8217;t really fit the 1:1 request/response model.</div>
<div class="line">[Saturday 27 November 2010] [17:21:16] &lt;shaun510&gt;     most messages don&#8217;t require a response, for instance.</div>
<div class="line">[Saturday 27 November 2010] [17:22:02] &lt;shaun510&gt;     what messaging model in zeromq fits this type of usage?</div>
<div class="line">[Saturday 27 November 2010] [17:42:23] &lt;mikko&gt;        shaun510: do you need occasional responses?</div>
<div class="line">[Saturday 27 November 2010] [17:42:40] &lt;shaun510&gt;     in a sense, yes</div>
<div class="line">[Saturday 27 November 2010] [17:42:56] &lt;mikko&gt;        have you looked at XREQ/XREP?</div>
<div class="line">[Saturday 27 November 2010] [17:43:02] &lt;shaun510&gt;     the components will be sending data back and forth, but that data might be unrelated.</div>
<div class="line">[Saturday 27 November 2010] [17:43:10] &lt;mikko&gt;        hmm</div>
<div class="line">[Saturday 27 November 2010] [17:43:20] &lt;mikko&gt;        maybe two sockets in that case?</div>
<div class="line">[Saturday 27 November 2010] [17:43:28] &lt;mikko&gt;        PUSH/PULL to both directions</div>
<div class="line">[Saturday 27 November 2010] [17:43:30] &lt;shaun510&gt;     this might be more of an architecture problem... yeah, two sockets would make more sense.</div>
<div class="line">[Saturday 27 November 2010] [17:43:49] &lt;shaun510&gt;     one socket for outbound, one for inbound, then.</div>
<div class="line">[Saturday 27 November 2010] [17:43:52] &lt;mikko&gt;        what does the application do?</div>
<div class="line">[Saturday 27 November 2010] [17:44:06] &lt;shaun510&gt;     it&#8217;s a jabber/XMPP server</div>
<div class="line">[Saturday 27 November 2010] [17:44:25] &lt;shaun510&gt;     a pretty far-removed variant of jabberd2, specifically.</div>
<div class="line">[Saturday 27 November 2010] [17:45:32] &lt;mikko&gt;        <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg02501.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg02501.html</a></div>
<div class="line">[Saturday 27 November 2010] [17:45:41] &lt;mikko&gt;        does this describe the use-case even remotely?</div>
<div class="line">[Saturday 27 November 2010] [17:47:19] &lt;shaun510&gt;     oooo..</div>
<div class="line">[Saturday 27 November 2010] [17:47:38] &lt;shaun510&gt;     yes.</div>
<div class="line">[Saturday 27 November 2010] [17:49:13] &lt;shaun510&gt;     I was wondering about doing that with XREQ/XREP pairs, but it seemed a bit counter to what they were designed for.</div>
<div class="line">[Saturday 27 November 2010] [17:49:13] &lt;shaun510&gt;     which made a bit nervous.</div>
<div class="line">[Saturday 27 November 2010] [17:49:36] &lt;mikko&gt;        maybe do a small prototype?</div>
<div class="line">[Saturday 27 November 2010] [17:49:48] &lt;mikko&gt;        you should get a prototype running in no time</div>
<div class="line">[Saturday 27 November 2010] [18:03:54] &lt;shaun510&gt;     building a prototype right now. :)</div>
<div class="line">[Saturday 27 November 2010] [18:04:23] &lt;shaun510&gt;     I&#8217;ll let you know how it goes, assuming my internet keeps working (which is looking unlikley)</div>
<div class="line">[Saturday 27 November 2010] [18:06:21] &lt;mikko&gt;        cool</div>
<div class="line">[Saturday 27 November 2010] [18:59:54] 435    <a href="#id1197"><span class="problematic" id="id1198">travlr_</span></a> travlr #gentoo-qt Cannot change nickname while banned on channel</div>
<div class="line">[Saturday 27 November 2010] [18:59:58] 435    <a href="#id1199"><span class="problematic" id="id1200">travlr_</span></a> travlr #gentoo-qt Cannot change nickname while banned on channel</div>
<div class="line">[Saturday 27 November 2010] [20:24:10] &lt;shaun510&gt;     mikko: got a prototype running using XREP/XREQ.  It was a little trickier than expected, mainly due to leaving out the empty frame indicating the end of the addressing frames</div>
<div class="line">[Saturday 27 November 2010] [20:24:24] &lt;shaun510&gt;     otherwise, fairly painless.</div>
<div class="line">[Saturday 27 November 2010] [20:26:01] &lt;mikko&gt;        are you reading the zguide?</div>
<div class="line">[Saturday 27 November 2010] [20:26:08] &lt;mikko&gt;        and good news</div>
<div class="line">[Saturday 27 November 2010] [20:26:13] &lt;mikko&gt;        thats quick movement</div>
<div class="line">[Saturday 27 November 2010] [20:29:18] &lt;shaun510&gt;     yeah, the zguide is pretty awesome.</div>
<div class="line">[Saturday 27 November 2010] [20:30:49] &lt;shaun510&gt;     anyway, I&#8217;m not entirely sure if the XREQ/XREP pair is the path I want to take on this.  It seems like 1:1 bidirectional streaming might be a pattern common enough to formalize.</div>
<div class="line">[Saturday 27 November 2010] [20:32:33] &lt;mikko&gt;        well, PAIR is 1:1</div>
<div class="line">[Saturday 27 November 2010] [20:33:27] &lt;shaun510&gt;     yeah, I saw that, but it seems like those are missing some of the nicer bits (I think the zguide mentioned something about no auto reconnection, for instance)</div>
<div class="line">[Saturday 27 November 2010] [20:37:38] &lt;shaun510&gt;     I might just need to rethink how these components are talking to each other.  1:1 streaming makes sense if you&#8217;re limited to TCP connections, but maybe it would be better to use one of the other patterns.</div>
<div class="line">[Sunday 28 November 2010] [05:56:43] &lt;Steve-o&gt;        looks like I&#8217;d better cut a new PGM 5.0 if you want a master release on monday</div>
<div class="line">[Sunday 28 November 2010] [05:57:04] &lt;Steve-o&gt;        backport the rate limiter fix from 5.1</div>
<div class="line">[Sunday 28 November 2010] [09:05:52] &lt;Gekz&gt;   hi guys.</div>
<div class="line">[Sunday 28 November 2010] [09:06:17] &lt;Gekz&gt;   I&#8217;m using pyzmq, and I&#8217;m getting an error when attempting the following</div>
<div class="line">[Sunday 28 November 2010] [09:06:31] &lt;Gekz&gt;   socket.connect(&#8220;epgm://foo.bar:34343&#8221;)</div>
<div class="line">[Sunday 28 November 2010] [09:06:40] &lt;Gekz&gt;     File &#8220;socket.pyx&#8221;, line 342, in zmq.core.socket.Socket.connect (zmq/core/socket.c:3304)</div>
<div class="line">[Sunday 28 November 2010] [09:06:40] &lt;Gekz&gt;   zmq.core.error.ZMQError: Invalid argument</div>
<div class="line">[Sunday 28 November 2010] [09:08:33] &lt;Gekz&gt;   socket.bind(&#8220;pgm://foo.bar:34343&#8221;) on the other server works though</div>
<div class="line">[Sunday 28 November 2010] [09:08:39] &lt;Gekz&gt;   the host</div>
<div class="line">[Sunday 28 November 2010] [09:08:45] &lt;Gekz&gt;   the client is spitting the error.</div>
<div class="line">[Sunday 28 November 2010] [09:09:00] &lt;Gekz&gt;   it makes no difference whterh I use pgm or epgm.</div>
<div class="line">[Sunday 28 November 2010] [09:13:39] &lt;<a href="#id71"><span class="problematic" id="id82">sustrik__</span></a>&gt;      you are specifying a wrong connection string</div>
<div class="line">[Sunday 28 November 2010] [09:14:27] &lt;<a href="#id71"><span class="problematic" id="id83">sustrik__</span></a>&gt;      Gekz: check zmq_pgm(7)</div>
<div class="line">[Sunday 28 November 2010] [09:14:31] &lt;Gekz&gt;   I have tried specifying an interface, such as epgm://eth0;foo.bar:34343</div>
<div class="line">[Sunday 28 November 2010] [09:14:37] &lt;Gekz&gt;   it gives me the same error &gt;_&gt;</div>
<div class="line">[Sunday 28 November 2010] [09:14:46] &lt;<a href="#id71"><span class="problematic" id="id84">sustrik__</span></a>&gt;      what&#8217;s foo.bar?</div>
<div class="line">[Sunday 28 November 2010] [09:14:56] &lt;<a href="#id71"><span class="problematic" id="id85">sustrik__</span></a>&gt;      there should be a multicast group there</div>
<div class="line">[Sunday 28 November 2010] [09:15:03] &lt;Gekz&gt;   a hostname.</div>
<div class="line">[Sunday 28 November 2010] [09:15:19] &lt;<a href="#id71"><span class="problematic" id="id86">sustrik__</span></a>&gt;      you probably want to use TCP, not PGM</div>
<div class="line">[Sunday 28 November 2010] [09:15:46] &lt;Gekz&gt;   I&#8217;m writing a server/client to distribute 70Gb from one server to approximately 100 computers.</div>
<div class="line">[Sunday 28 November 2010] [09:16:04] &lt;Gekz&gt;   I&#8217;m thinking TCP wont suffice for that.</div>
<div class="line">[Sunday 28 November 2010] [09:16:22] &lt;<a href="#id71"><span class="problematic" id="id87">sustrik__</span></a>&gt;      on LAN?</div>
<div class="line">[Sunday 28 November 2010] [09:16:53] &lt;Gekz&gt;   on LAN.</div>
<div class="line">[Sunday 28 November 2010] [09:17:20] &lt;Gekz&gt;   oh, I totally misunderstood how multicasting works.</div>
<div class="line">[Sunday 28 November 2010] [09:17:28] &lt;Gekz&gt;   I didn&#8217;t realise there was an IP range specifically for it.</div>
<div class="line">[Sunday 28 November 2010] [09:17:35] &lt;<a href="#id71"><span class="problematic" id="id88">sustrik__</span></a>&gt;      you should read some introductry article first</div>
<div class="line">[Sunday 28 November 2010] [09:18:00] &lt;<a href="#id71"><span class="problematic" id="id89">sustrik__</span></a>&gt;      <a class="reference external" href="http://en.wikipedia.org/wiki/IP_multicast">http://en.wikipedia.org/wiki/IP_multicast</a></div>
<div class="line">[Sunday 28 November 2010] [09:18:00] &lt;Gekz&gt;   haha, I did, I just _missed_ that integral part.</div>
<div class="line">[Sunday 28 November 2010] [09:21:26] &lt;Gekz&gt;   <a href="#id71"><span class="problematic" id="id90">sustrik__</span></a>: before I make another stupid rookie error, as I said, I will be broadcasting large amounts of data. Will using ZMQ_SNDMORE suffice, or will I need to implement my own checks?</div>
<div class="line">[Sunday 28 November 2010] [09:22:09] &lt;<a href="#id71"><span class="problematic" id="id91">sustrik__</span></a>&gt;      you want to send only a single message?</div>
<div class="line">[Sunday 28 November 2010] [09:22:51] &lt;Gekz&gt;   well, I need to send it in chunks, in order, to write a file in order.</div>
<div class="line">[Sunday 28 November 2010] [09:23:37] &lt;<a href="#id71"><span class="problematic" id="id92">sustrik__</span></a>&gt;      do so then</div>
<div class="line">[Sunday 28 November 2010] [09:23:51] &lt;<a href="#id71"><span class="problematic" id="id93">sustrik__</span></a>&gt;      PUB/SUB paradigm</div>
<div class="line">[Sunday 28 November 2010] [09:23:55] &lt;Gekz&gt;   what I&#8217;m asking is whether or not using ZMQ_SNDMORE will affect that</div>
<div class="line">[Sunday 28 November 2010] [09:23:59] &lt;Gekz&gt;   yeah, I&#8217;m using PUB/SUB</div>
<div class="line">[Sunday 28 November 2010] [09:24:40] &lt;<a href="#id71"><span class="problematic" id="id94">sustrik__</span></a>&gt;      SNDMORE sends only a single message, the only difference is you can compose it in chunks</div>
<div class="line">[Sunday 28 November 2010] [09:24:54] &lt;<a href="#id71"><span class="problematic" id="id95">sustrik__</span></a>&gt;      thus the whole message must fit into memory etc.</div>
<div class="line">[Sunday 28 November 2010] [09:24:57] &lt;Gekz&gt;   oh ok</div>
<div class="line">[Sunday 28 November 2010] [09:25:03] &lt;Gekz&gt;   so the other side receives one message</div>
<div class="line">[Sunday 28 November 2010] [09:25:09] &lt;Gekz&gt;   but you&#8217;re concatenating multiple into one on the host</div>
<div class="line">[Sunday 28 November 2010] [09:25:12] &lt;Gekz&gt;   I understand now.</div>
<div class="line">[Sunday 28 November 2010] [09:25:16] &lt;<a href="#id71"><span class="problematic" id="id96">sustrik__</span></a>&gt;      right</div>
<div class="line">[Sunday 28 November 2010] [09:25:30] &lt;Gekz&gt;   do I need to do any checks to ensure the packets are received in order?</div>
<div class="line">[Sunday 28 November 2010] [09:25:42] &lt;<a href="#id71"><span class="problematic" id="id97">sustrik__</span></a>&gt;      order should be ok</div>
<div class="line">[Sunday 28 November 2010] [09:25:50] &lt;Gekz&gt;   that was my basic worry.</div>
<div class="line">[Sunday 28 November 2010] [09:25:52] &lt;<a href="#id71"><span class="problematic" id="id98">sustrik__</span></a>&gt;      what you need to check is whether packets are missing</div>
<div class="line">[Sunday 28 November 2010] [09:26:00] &lt;Gekz&gt;   ah.</div>
<div class="line">[Sunday 28 November 2010] [09:26:23] &lt;<a href="#id71"><span class="problematic" id="id99">sustrik__</span></a>&gt;      when network is overloaded, some of them may be dropped</div>
<div class="line">[Sunday 28 November 2010] [09:26:34] &lt;<a href="#id71"><span class="problematic" id="id100">sustrik__</span></a>&gt;      but you can set the reliability parameters for PGM</div>
<div class="line">[Sunday 28 November 2010] [09:26:49] &lt;<a href="#id71"><span class="problematic" id="id101">sustrik__</span></a>&gt;      check ZMQ_RATE, ZMQ_REOCVERY_IVL socket options</div>
<div class="line">[Sunday 28 November 2010] [09:27:00] &lt;Gekz&gt;   if they&#8217;re dropped, does it NAK and request a resend?</div>
<div class="line">[Sunday 28 November 2010] [09:27:25] &lt;<a href="#id71"><span class="problematic" id="id102">sustrik__</span></a>&gt;      that&#8217;s happening behind the scenes automatically</div>
<div class="line">[Sunday 28 November 2010] [09:27:30] &lt;<a href="#id71"><span class="problematic" id="id103">sustrik__</span></a>&gt;      when you see packet missing</div>
<div class="line">[Sunday 28 November 2010] [09:27:39] &lt;Gekz&gt;   yeah, that&#8217;s what I&#8217;m asking</div>
<div class="line">[Sunday 28 November 2010] [09:27:52] &lt;<a href="#id71"><span class="problematic" id="id104">sustrik__</span></a>&gt;      what happened was that the congestion was that bad there was no way to repair</div>
<div class="line">[Sunday 28 November 2010] [09:28:04] &lt;Gekz&gt;   so I should do non-blocking recv and check for errors?</div>
<div class="line">[Sunday 28 November 2010] [09:28:27] &lt;<a href="#id71"><span class="problematic" id="id105">sustrik__</span></a>&gt;      no, just number the messages and check for missing messages then</div>
<div class="line">[Sunday 28 November 2010] [09:28:35] &lt;<a href="#id71"><span class="problematic" id="id106">sustrik__</span></a>&gt;      do not ask for resend on the application level</div>
<div class="line">[Sunday 28 November 2010] [09:28:36] &lt;Gekz&gt;   ok</div>
<div class="line">[Sunday 28 November 2010] [09:29:16] &lt;<a href="#id71"><span class="problematic" id="id107">sustrik__</span></a>&gt;      if message is missing the state of network is so bad that trying to recover would actually make the congestion even worse</div>
<div class="line">[Sunday 28 November 2010] [09:29:26] &lt;Gekz&gt;   so I need to know how it recovers. let&#8217;s say it sends 1234, and the receiver receives 124.</div>
<div class="line">[Sunday 28 November 2010] [09:29:37] &lt;<a href="#id71"><span class="problematic" id="id108">sustrik__</span></a>&gt;      ?</div>
<div class="line">[Sunday 28 November 2010] [09:29:44] &lt;Gekz&gt;   I&#8217;d have implemented something that noticed that 4 is in fact not after 3</div>
<div class="line">[Sunday 28 November 2010] [09:30:03] &lt;<a href="#id71"><span class="problematic" id="id109">sustrik__</span></a>&gt;      yes</div>
<div class="line">[Sunday 28 November 2010] [09:30:03] &lt;Gekz&gt;   would the third packet be resent?</div>
<div class="line">[Sunday 28 November 2010] [09:30:10] &lt;Gekz&gt;   or am I simply aware of the failure</div>
<div class="line">[Sunday 28 November 2010] [09:30:13] &lt;Gekz&gt;   and need to start again?</div>
<div class="line">[Sunday 28 November 2010] [09:30:13] &lt;<a href="#id71"><span class="problematic" id="id110">sustrik__</span></a>&gt;      behind the scenes</div>
<div class="line">[Sunday 28 November 2010] [09:30:17] &lt;<a href="#id71"><span class="problematic" id="id111">sustrik__</span></a>&gt;      you won&#8217;t see that</div>
<div class="line">[Sunday 28 November 2010] [09:30:19] &lt;Gekz&gt;   ok</div>
<div class="line">[Sunday 28 November 2010] [09:30:26] &lt;Gekz&gt;   so it just drops 4, and waits to see 3?</div>
<div class="line">[Sunday 28 November 2010] [09:30:26] &lt;<a href="#id71"><span class="problematic" id="id112">sustrik__</span></a>&gt;      if packet is missing</div>
<div class="line">[Sunday 28 November 2010] [09:30:32] &lt;<a href="#id71"><span class="problematic" id="id113">sustrik__</span></a>&gt;      something went terribly wrong</div>
<div class="line">[Sunday 28 November 2010] [09:30:43] &lt;<a href="#id71"><span class="problematic" id="id114">sustrik__</span></a>&gt;      you alert the admin then</div>
<div class="line">[Sunday 28 November 2010] [09:30:49] &lt;<a href="#id71"><span class="problematic" id="id115">sustrik__</span></a>&gt;      blow the siren</div>
<div class="line">[Sunday 28 November 2010] [09:31:01] &lt;<a href="#id71"><span class="problematic" id="id116">sustrik__</span></a>&gt;      start the red alert mode</div>
<div class="line">[Sunday 28 November 2010] [09:31:05] &lt;<a href="#id71"><span class="problematic" id="id117">sustrik__</span></a>&gt;      auto-destruct</div>
<div class="line">[Sunday 28 November 2010] [09:31:07] &lt;<a href="#id71"><span class="problematic" id="id118">sustrik__</span></a>&gt;      watever</div>
<div class="line">[Sunday 28 November 2010] [09:31:39] &lt;Gekz&gt;   lol</div>
<div class="line">[Sunday 28 November 2010] [09:31:45] &lt;Gekz&gt;   so basically, that should never happen</div>
<div class="line">[Sunday 28 November 2010] [09:31:57] &lt;Gekz&gt;   I should catch the error, abort, and work out the problem before attempting again?</div>
<div class="line">[Sunday 28 November 2010] [09:31:57] &lt;<a href="#id71"><span class="problematic" id="id119">sustrik__</span></a>&gt;      it can, but there&#8217;s no way to recover from it</div>
<div class="line">[Sunday 28 November 2010] [09:32:17] &lt;<a href="#id71"><span class="problematic" id="id120">sustrik__</span></a>&gt;      for example, if the consumer is too slow</div>
<div class="line">[Sunday 28 November 2010] [09:32:26] &lt;<a href="#id71"><span class="problematic" id="id121">sustrik__</span></a>&gt;      it cannot keep with the publisher</div>
<div class="line">[Sunday 28 November 2010] [09:32:32] &lt;<a href="#id71"><span class="problematic" id="id122">sustrik__</span></a>&gt;      and finally blows up</div>
<div class="line">[Sunday 28 November 2010] [09:32:45] &lt;<a href="#id71"><span class="problematic" id="id123">sustrik__</span></a>&gt;      the problem is there&#8217;s no way to solve the problem</div>
<div class="line">[Sunday 28 November 2010] [09:32:46] &lt;Gekz&gt;   yep</div>
<div class="line">[Sunday 28 November 2010] [09:33:01] &lt;<a href="#id71"><span class="problematic" id="id124">sustrik__</span></a>&gt;      maybe buy better box or something</div>
<div class="line">[Sunday 28 November 2010] [09:33:03] &lt;Gekz&gt;   so basically, dont publish at 1Gbit if you have 100Mbit subscribers haha</div>
<div class="line">[Sunday 28 November 2010] [09:33:11] &lt;<a href="#id71"><span class="problematic" id="id125">sustrik__</span></a>&gt;      exactly</div>
<div class="line">[Sunday 28 November 2010] [09:33:45] &lt;Gekz&gt;   I&#8217;m actually trying to rig up a small application to distribute hdd images for a small job I have.</div>
<div class="line">[Sunday 28 November 2010] [09:34:00] &lt;<a href="#id71"><span class="problematic" id="id126">sustrik__</span></a>&gt;      try with TCP first</div>
<div class="line">[Sunday 28 November 2010] [09:34:05] &lt;Gekz&gt;   I&#8217;m currently using novell zenworks, but that is just not feasible right now.</div>
<div class="line">[Sunday 28 November 2010] [09:34:08] &lt;<a href="#id71"><span class="problematic" id="id127">sustrik__</span></a>&gt;      multicast is a complex topic</div>
<div class="line">[Sunday 28 November 2010] [09:34:27] &lt;Gekz&gt;   multicast is indeed more complex than I had expected.</div>
<div class="line">[Sunday 28 November 2010] [09:34:34] &lt;Gekz&gt;   but I was told that using TCP was a no-no for this.</div>
<div class="line">[Sunday 28 November 2010] [09:34:40] &lt;<a href="#id71"><span class="problematic" id="id128">sustrik__</span></a>&gt;      you haven&#8217;t heard all yet :)</div>
<div class="line">[Sunday 28 November 2010] [09:34:52] &lt;<a href="#id71"><span class="problematic" id="id129">sustrik__</span></a>&gt;      you need adequate network hardware to deal with it</div>
<div class="line">[Sunday 28 November 2010] [09:35:01] &lt;<a href="#id71"><span class="problematic" id="id130">sustrik__</span></a>&gt;      otherwise you can kill your network with it</div>
<div class="line">[Sunday 28 November 2010] [09:35:05] &lt;Gekz&gt;   many procurve switches &gt;_&gt;</div>
<div class="line">[Sunday 28 November 2010] [09:35:09] &lt;Gekz&gt;   many 1GBit switches</div>
<div class="line">[Sunday 28 November 2010] [09:35:10] &lt;<a href="#id71"><span class="problematic" id="id131">sustrik__</span></a>&gt;      also, the network has to be set up correctly</div>
<div class="line">[Sunday 28 November 2010] [09:35:12] &lt;<a href="#id71"><span class="problematic" id="id132">sustrik__</span></a>&gt;      etc.</div>
<div class="line">[Sunday 28 November 2010] [09:35:33] &lt;Gekz&gt;   but yes, I&#8217;m not in control of the infrastructure (which based on my experience, is probably a good thing :P)</div>
<div class="line">[Sunday 28 November 2010] [09:35:40] &lt;Gekz&gt;   but sadly, the guy in charge seems to know less</div>
<div class="line">[Sunday 28 November 2010] [09:35:44] &lt;Gekz&gt;   which is a scarier though</div>
<div class="line">[Sunday 28 November 2010] [09:35:45] &lt;Gekz&gt;   thought*</div>
<div class="line">[Sunday 28 November 2010] [09:35:53] &lt;<a href="#id71"><span class="problematic" id="id133">sustrik__</span></a>&gt;      anyway, start with TCP</div>
<div class="line">[Sunday 28 November 2010] [09:36:07] &lt;<a href="#id71"><span class="problematic" id="id134">sustrik__</span></a>&gt;      use multicast only if you are 100% sure the TCP won&#8217;t fly</div>
<div class="line">[Sunday 28 November 2010] [09:36:28] &lt;Gekz&gt;   let me pastebin the code I have for my host, I&#8217;m not entirely sure if it&#8217;s right</div>
<div class="line">[Sunday 28 November 2010] [09:36:40] &lt;Gekz&gt;   because when I test it with the client, it gets approximately half the packets before it just stops receiving.</div>
<div class="line">[Sunday 28 November 2010] [09:39:52] &lt;Gekz&gt;   <a class="reference external" href="http://paste2.org/p/1114829">http://paste2.org/p/1114829</a></div>
<div class="line">[Sunday 28 November 2010] [09:39:56] &lt;Gekz&gt;   <a href="#id71"><span class="problematic" id="id135">sustrik__</span></a>: ^</div>
<div class="line">[Sunday 28 November 2010] [09:40:16] &lt;Gekz&gt;   erm, except change epgm to tcp, I forgot to change it back xD</div>
<div class="line">[Sunday 28 November 2010] [09:42:46] &lt;<a href="#id71"><span class="problematic" id="id136">sustrik__</span></a>&gt;      it&#8217;s ok</div>
<div class="line">[Sunday 28 November 2010] [09:43:12] &lt;<a href="#id71"><span class="problematic" id="id137">sustrik__</span></a>&gt;      keep in mind though that the subscribers may miss the beginning of the transmission</div>
<div class="line">[Sunday 28 November 2010] [09:43:27] &lt;<a href="#id71"><span class="problematic" id="id138">sustrik__</span></a>&gt;      it they are started after it have begun</div>
<div class="line">[Sunday 28 November 2010] [09:44:37] &lt;Gekz&gt;   I start them first, this is just a test app</div>
<div class="line">[Sunday 28 November 2010] [09:45:36] &lt;<a href="#id71"><span class="problematic" id="id139">sustrik__</span></a>&gt;      but it takes some time to connect</div>
<div class="line">[Sunday 28 November 2010] [09:45:44] &lt;<a href="#id71"><span class="problematic" id="id140">sustrik__</span></a>&gt;      so you start the publisher</div>
<div class="line">[Sunday 28 November 2010] [09:45:51] &lt;<a href="#id71"><span class="problematic" id="id141">sustrik__</span></a>&gt;      it starts publishing</div>
<div class="line">[Sunday 28 November 2010] [09:46:03] &lt;<a href="#id71"><span class="problematic" id="id142">sustrik__</span></a>&gt;      the subscribers connect after 1/100 sec</div>
<div class="line">[Sunday 28 November 2010] [09:46:11] &lt;<a href="#id71"><span class="problematic" id="id143">sustrik__</span></a>&gt;      but they&#8217;ve missed some messages already</div>
<div class="line">[Sunday 28 November 2010] [09:46:17] &lt;Gekz&gt;   no no</div>
<div class="line">[Sunday 28 November 2010] [09:46:35] &lt;Gekz&gt;   I bind on the server, then I start the client, then I hit enter on the server to start sending</div>
<div class="line">[Sunday 28 November 2010] [09:46:50] &lt;<a href="#id71"><span class="problematic" id="id144">sustrik__</span></a>&gt;      then it should work fine</div>
<div class="line">[Sunday 28 November 2010] [09:46:57] &lt;Gekz&gt;   but it doesnt :&lt;</div>
<div class="line">[Sunday 28 November 2010] [09:47:04] &lt;<a href="#id71"><span class="problematic" id="id145">sustrik__</span></a>&gt;      then report a bug</div>
<div class="line">[Sunday 28 November 2010] [09:47:10] &lt;Gekz&gt;   I&#8217;m not sure where the bug is</div>
<div class="line">[Sunday 28 November 2010] [09:47:16] &lt;Gekz&gt;   because it stops printing numbers part way</div>
<div class="line">[Sunday 28 November 2010] [09:47:23] &lt;Gekz&gt;   280 281 282 28</div>
<div class="line">[Sunday 28 November 2010] [09:47:30] &lt;Gekz&gt;   it never prints the 3 in 283 which confuses me.</div>
<div class="line">[Sunday 28 November 2010] [09:47:35] &lt;<a href="#id71"><span class="problematic" id="id146">sustrik__</span></a>&gt;      heh</div>
<div class="line">[Sunday 28 November 2010] [09:47:52] &lt;<a href="#id71"><span class="problematic" id="id147">sustrik__</span></a>&gt;      a deadlock in python?</div>
<div class="line">[Sunday 28 November 2010] [09:48:13] &lt;<a href="#id71"><span class="problematic" id="id148">sustrik__</span></a>&gt;      report the bug to pyzmq project IMO</div>
<div class="line">[Sunday 28 November 2010] [09:50:14] &lt;Gekz&gt;   I changed how I test it</div>
<div class="line">[Sunday 28 November 2010] [09:50:44] &lt;Gekz&gt;   and it worked.</div>
<div class="line">[Sunday 28 November 2010] [09:50:52] &lt;Gekz&gt;   I made it send a count, instead of counting itself.</div>
<div class="line">[Sunday 28 November 2010] [09:51:03] &lt;Gekz&gt;   ie, filled the buffer with 1 to 9999</div>
<div class="line">[Sunday 28 November 2010] [09:51:08] &lt;Gekz&gt;   it worked.</div>
<div class="line">[Sunday 28 November 2010] [09:51:41] &lt;Gekz&gt;   so it&#8217;s probably just a crappy python bug</div>
<div class="line">[Sunday 28 November 2010] [09:52:38] &lt;Gekz&gt;   haha that crashed my terminal</div>
<div class="line">[Sunday 28 November 2010] [09:52:47] &lt;Gekz&gt;   damn you python, you&#8217;re ruining my day</div>
<div class="line">[Sunday 28 November 2010] [09:53:17] &lt;Gekz&gt;   haha, it&#8217;s still sending packets</div>
<div class="line">[Sunday 28 November 2010] [09:59:05] &lt;Gekz&gt;   anyway, thanks very much <a href="#id71"><span class="problematic" id="id149">sustrik__</span></a></div>
<div class="line">[Sunday 28 November 2010] [09:59:16] &lt;Gekz&gt;   you&#8217;ve guided my efforts well :P</div>
<div class="line">[Sunday 28 November 2010] [09:59:16] &lt;Gekz&gt;   and now i shall sleep.</div>
<div class="line">[Sunday 28 November 2010] [11:09:27] &lt;mikko&gt;  <a href="#id71"><span class="problematic" id="id150">sustrik__</span></a>: <a class="reference external" href="http://build.valokuva.org/job/ZeroMQ2-core-master_mingw32/28/console">http://build.valokuva.org/job/ZeroMQ2-core-master_mingw32/28/console</a></div>
<div class="line">[Sunday 28 November 2010] [11:52:36] &lt;<a href="#id71"><span class="problematic" id="id151">sustrik__</span></a>&gt;      mikko: yes, seen it</div>
<div class="line">[Sunday 28 November 2010] [11:52:37] &lt;<a href="#id71"><span class="problematic" id="id152">sustrik__</span></a>&gt;      sorry</div>
<div class="line">[Sunday 28 November 2010] [13:31:36] &lt;magicblaze007&gt;  will there be a zeromq python installation system for windows (.msi/.exe) sometime?</div>
<div class="line">[Sunday 28 November 2010] [13:33:41] &lt;magicblaze007&gt;  seems like there used to be an msi installer &#8211; <a class="reference external" href="http://lists.zeromq.org/pipermail/zeromq-dev/2009-January/000321.html">http://lists.zeromq.org/pipermail/zeromq-dev/2009-January/000321.html</a> (but the link doesnt have anything)</div>
<div class="line">[Sunday 28 November 2010] [13:43:37] &lt;Guthur&gt; magicblaze007, Probably a matter of no one being willing to maintain it</div>
<div class="line">[Sunday 28 November 2010] [13:43:58] &lt;Guthur&gt; you could ask on the mailing list and maybe volunteer</div>
<div class="line">[Sunday 28 November 2010] [13:44:27] &lt;<a href="#id71"><span class="problematic" id="id153">sustrik__</span></a>&gt;      Guthur: right</div>
<div class="line">[Sunday 28 November 2010] [13:44:41] &lt;<a href="#id71"><span class="problematic" id="id154">sustrik__</span></a>&gt;      it&#8217;s just a matter of someone actually doing it :)</div>
<div class="line">[Sunday 28 November 2010] [13:46:11] &lt;Guthur&gt; mikko, The building of clrzmq2 seems to be stuck</div>
<div class="line">[Sunday 28 November 2010] [13:46:44] &lt;Guthur&gt; says that it has taken over 2.5 days so fatr</div>
<div class="line">[Sunday 28 November 2010] [13:46:47] &lt;Guthur&gt; far*</div>
<div class="line">[Sunday 28 November 2010] [13:47:11] &lt;Guthur&gt; <a class="reference external" href="http://build.valokuva.org/">http://build.valokuva.org/</a></div>
<div class="line">[Sunday 28 November 2010] [13:50:31] &lt;mikko&gt;  added a timeout</div>
<div class="line">[Sunday 28 November 2010] [13:50:35] &lt;mikko&gt;  it now fails after 5 mins</div>
<div class="line">[Sunday 28 November 2010] [13:57:31] &lt;magicblaze007&gt;  Guthur: are these zeromq builds that are maintained regularly?</div>
<div class="line">[Sunday 28 November 2010] [13:58:05] &lt;magicblaze007&gt;  I guess i should be looking at this: <a class="reference external" href="http://build.valokuva.org/view/pyzmq/">http://build.valokuva.org/view/pyzmq/</a>?</div>
<div class="line">[Sunday 28 November 2010] [13:58:54] &lt;mikko&gt;  magicblaze007: those are daily builds for zeromq and bindings</div>
<div class="line">[Sunday 28 November 2010] [13:59:02] &lt;mikko&gt;  magicblaze007: MSI installer is slightly different</div>
<div class="line">[Sunday 28 November 2010] [14:00:13] &lt;magicblaze007&gt;  all thats stopping me from using zeromq in my project is a windows msi installer.  I wish i was any good in writing installers..</div>
<div class="line">[Sunday 28 November 2010] [14:00:41] &lt;Guthur&gt; magicblaze007, You could just build it...</div>
<div class="line">[Sunday 28 November 2010] [14:01:05] &lt;magicblaze007&gt;  Guthur: I tried. I guess I only have VS 2010. Didnt work</div>
<div class="line">[Sunday 28 November 2010] [14:01:09] &lt;mikko&gt;  magicblaze007: why do you need msi installer?</div>
<div class="line">[Sunday 28 November 2010] [14:01:27] &lt;magicblaze007&gt;  because my users can easily install it?</div>
<div class="line">[Sunday 28 November 2010] [14:01:34] &lt;Guthur&gt; magicblaze007, build instructions are here [</div>
<div class="line">[Sunday 28 November 2010] [14:01:36] &lt;Guthur&gt; oops</div>
<div class="line">[Sunday 28 November 2010] [14:01:39] &lt;mikko&gt;  why dont you ship it with your project?</div>
<div class="line">[Sunday 28 November 2010] [14:01:43] &lt;Guthur&gt; here <a class="reference external" href="http://www.zeromq.org/bindings:python">http://www.zeromq.org/bindings:python</a></div>
<div class="line">[Sunday 28 November 2010] [14:02:18] &lt;magicblaze007&gt;  Guthur: for pyzmq installation, zmq should be installed...which is the problem</div>
<div class="line">[Sunday 28 November 2010] [14:03:12] &lt;Guthur&gt; It seemed to mention building libzmq from scratch</div>
<div class="line">[Sunday 28 November 2010] [14:03:32] &lt;mikko&gt;  magicblaze007: you can ship the .dlls with your project</div>
<div class="line">[Sunday 28 November 2010] [14:03:38] &lt;mikko&gt;  i dont think anything prevents you from doing that</div>
<div class="line">[Sunday 28 November 2010] [14:04:13] &lt;mikko&gt;  libzmq.dll should be enough afaik</div>
<div class="line">[Sunday 28 November 2010] [14:04:30] &lt;magicblaze007&gt;  so pyzmq just needs one dll file?</div>
<div class="line">[Sunday 28 November 2010] [14:10:20] &lt;<a href="#id71"><span class="problematic" id="id155">sustrik__</span></a>&gt;      i think so</div>
<div class="line">[Sunday 28 November 2010] [14:19:12] &lt;andrewvc&gt;       cremes: you around at all?</div>
<div class="line">[Sunday 28 November 2010] [14:19:40] &lt;andrewvc&gt;       or I guess actually someone else might, know, I&#8217;ve got a question about zmq fds</div>
<div class="line">[Sunday 28 November 2010] [14:20:20] &lt;andrewvc&gt;       basically, <a class="reference external" href="http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg03131.html">http://www.mail-archive.com/zeromq-dev&#64;lists.zeromq.org/msg03131.html</a></div>
<div class="line">[Sunday 28 November 2010] [14:20:52] &lt;andrewvc&gt;       says that you&#8217;d monitor the file descriptor you get with ZMQ_FD, and figure out what to do based on ZMQ_EVENTS</div>
<div class="line">[Sunday 28 November 2010] [14:21:19] &lt;andrewvc&gt;       but, if you&#8217;re using the FD with say &#8216;select&#8217;, should readable and writable be determined by select</div>
<div class="line">[Sunday 28 November 2010] [14:21:24] &lt;andrewvc&gt;       why do you need ZMQ_EVENTS ?</div>
<div class="line">[Sunday 28 November 2010] [15:03:06] &lt;cremes&gt; andrewvc: i&#8217;m around for a bit...</div>
<div class="line">[Sunday 28 November 2010] [15:03:19] &lt;cremes&gt; i don&#8217;t have an answer for your question ^^</div>
<div class="line">[Sunday 28 November 2010] [15:03:43] &lt;cremes&gt; i spent a <em>lot</em> of time messing around with 0mq FDs yesterday in Ruby and had very little luck treating it like a real FD</div>
<div class="line">[Sunday 28 November 2010] [15:04:04] &lt;cremes&gt; btw, jruby returns EBADF for 0mq FDs</div>
<div class="line">[Sunday 28 November 2010] [15:06:00] &lt;mikko&gt;  andrewvc: because a full message might not be there</div>
<div class="line">[Sunday 28 November 2010] [15:06:22] &lt;mikko&gt;  andrewvc: 0mq handles &#8220;messages&#8221; and activity on the socket doesn&#8217;t mean that a message is ready</div>
<div class="line">[Sunday 28 November 2010] [15:15:50] &lt;andrewvc&gt;       hi</div>
<div class="line">[Sunday 28 November 2010] [15:15:55] &lt;andrewvc&gt;       ah, gotcha</div>
<div class="line">[Sunday 28 November 2010] [15:16:10] &lt;andrewvc&gt;       yeah, the FDs are problematic as real FDs</div>
<div class="line">[Sunday 28 November 2010] [15:16:16] &lt;andrewvc&gt;       jruby doesn&#8217;t like them instantiated as IOs</div>
<div class="line">[Sunday 28 November 2010] [15:16:25] &lt;andrewvc&gt;       but EM doesn&#8217;t mind being passed the raw FD</div>
<div class="line">[Sunday 28 November 2010] [15:16:50] &lt;cremes&gt; interesting</div>
<div class="line">[Sunday 28 November 2010] [15:17:09] &lt;andrewvc&gt;       yeah, I got issues instantiated FDs as IOs as well</div>
<div class="line">[Sunday 28 November 2010] [15:17:16] &lt;andrewvc&gt;       <a href="#id69"><span class="problematic" id="id70">*</span></a>instantiating</div>
<div class="line">[Sunday 28 November 2010] [15:17:30] &lt;andrewvc&gt;       mikko: thanks btw</div>
<div class="line">[Sunday 28 November 2010] [15:17:37] &lt;cremes&gt; yeah, i&#8217;m trying to cook up another way of confirming the FD is good in the ruby env</div>
<div class="line">[Sunday 28 November 2010] [15:17:44] &lt;cremes&gt; no luck so far</div>
<div class="line">[Sunday 28 November 2010] [15:22:33] Notice   -NickServ- travlr_ is not a registered nickname.</div>
<div class="line">[Sunday 28 November 2010] [15:22:33] CTCP     Received Version request from frigg.</div>
<div class="line">[Sunday 28 November 2010] [15:22:57] &lt;cremes&gt; andrewvc: that might be a bug</div>
<div class="line">[Sunday 28 November 2010] [15:22:58] &lt;andrewvc&gt;       cremes: thanks. Can do</div>
<div class="line">[Sunday 28 November 2010] [15:23:53] &lt;cremes&gt; andrewvc: want to collaborate on zmqmachine too? alternately, once EM goes 1.0 we might be able to get 0mq sockets into it and then i can drop the zmqmachine project</div>
<div class="line">[Sunday 28 November 2010] [15:24:03] &lt;andrewvc&gt;       sure, definitely, was working on adding EM support to it today</div>
<div class="line">[Sunday 28 November 2010] [15:24:23] &lt;andrewvc&gt;       had rudimentary, support kinda working</div>
<div class="line">[Sunday 28 November 2010] [15:24:34] &lt;andrewvc&gt;       brb, gtg for ~ 45 min</div>
<div class="line">[Sunday 28 November 2010] [15:24:38] &lt;cremes&gt; neat!</div>
<div class="line">[Sunday 28 November 2010] [15:24:50] &lt;cremes&gt; ttyl; i&#8217;m out the remainder of the day</div>
<div class="line">[Sunday 28 November 2010] [16:13:32] &lt;mgc&gt;    Hmm, doing pub/sub with epgm, when a subscriber gets too far behind it get permanently blacklisted.  Is there any way to handle/recover from this other than just consuming faster and manually reconnecting?</div>
<div class="line">[Sunday 28 November 2010] [18:11:37] &lt;Guthur&gt; mgc: I assume you can set a higher ZMQ_RECOVERY_IVL</div>
<div class="line">[Sunday 28 November 2010] [18:12:26] &lt;Guthur&gt; that has memory issues though see -&gt; <a class="reference external" href="http://api.zeromq.org/zmq_setsockopt.html">http://api.zeromq.org/zmq_setsockopt.html</a></div>
<div class="line">[Sunday 28 November 2010] [18:19:25] &lt;mgc&gt;    I&#8217;ve tried that, but no luck.  I think I&#8217;m being bitten by <a class="reference external" href="https://github.com/zeromq/zeromq2/issues#issue/104">https://github.com/zeromq/zeromq2/issues#issue/104</a></div>
<div class="line">[Sunday 28 November 2010] [18:19:45] &lt;mgc&gt;    I only see the subscribers dropping off when they are all on the same box</div>
<div class="line">[Sunday 28 November 2010] [18:20:01] &lt;mgc&gt;    when I load test between two boxes it doesnt seem to happen</div>
<div class="line">[Sunday 28 November 2010] [18:20:57] &lt;mgc&gt;    so I tried delaying the subscriber connects, but no luck.</div>
<div class="line">[Sunday 28 November 2010] [18:24:36] &lt;magicblaze007&gt;  how is activemq different from zeromq?</div>
<div class="line">[Sunday 28 November 2010] [18:27:58] &lt;mgc&gt;    magicblaze007: <a class="reference external" href="http://stackoverflow.com/questions/731233/activemq-or-rabbitmq-or-zeromq-or">http://stackoverflow.com/questions/731233/activemq-or-rabbitmq-or-zeromq-or</a></div>
<div class="line">[Sunday 28 November 2010] [18:29:16] &lt;magicblaze007&gt;  thanks</div>
<div class="line">[Sunday 28 November 2010] [18:30:45] &lt;magicblaze007&gt;  where can i find the zeromq-dll for windows for download. Cant compile the source on windows</div>
<div class="line">[Sunday 28 November 2010] [18:35:29] &lt;mgc&gt;    <a class="reference external" href="http://www.coastrd.com/download/ZMQClientServer.zip?attredirects=0">http://www.coastrd.com/download/ZMQClientServer.zip?attredirects=0</a></div>
<div class="line">[Sunday 28 November 2010] [18:38:00] &lt;magicblaze007&gt;  thanks mgc</div>
<div class="line">[Sunday 28 November 2010] [18:38:27] &lt;magicblaze007&gt;  now does anyone know how i can use this dll file and use pyzeromq on a windows machine?</div>
<div class="line">[Sunday 28 November 2010] [18:40:19] &lt;mgc&gt;    sorry :)</div>
<div class="line">[Sunday 28 November 2010] [18:42:14] &lt;mgc&gt;    Guthur: ugh, nevermind, I get the dead subscriber then between two boxes as well.  4,000 msgs/s, hwm recoveryivl buffer sizes all cranked way up, after several minutes one or more subscribers just stops getting messages.</div>
<div class="line">[Sunday 28 November 2010] [18:42:51] &lt;Guthur&gt; mgc: Sorry I had tuned out there</div>
<div class="line">[Sunday 28 November 2010] [18:42:58] &lt;Guthur&gt; just reading the backlog</div>
<div class="line">[Sunday 28 November 2010] [22:09:41] &lt;Steve-o&gt;        master is broken in msvc2010</div>
<div class="line">[Sunday 28 November 2010] [23:26:47] &lt;mgc&gt;    Steve-o: ping</div>
<div class="line">[Sunday 28 November 2010] [23:55:04] &lt;swills&gt; hi, i&#8217;m trying to port the perl bindings for zeromq to FreeBSD, but make test is failing:</div>
<div class="line">[Sunday 28 November 2010] [23:55:11] &lt;swills&gt; #     Error:  Can&#8217;t load &#8216;/usr/local/tinderbox/portstrees/FreeBSD/ports/net/p5-ZeroMQ/work/ZeroMQ-0.02_02/blib/arch/auto/ZeroMQ/ZeroMQ.so&#8217; for module ZeroMQ: /usr/local/lib/libzmq.so.0: Undefined symbol &#8220;pthread_create&#8221; at /usr/local/lib/perl5/5.10.1/mach/DynaLoader.pm line 200.</div>
<div class="line">[Sunday 28 November 2010] [23:55:16] &lt;swills&gt; pardon the aweful paths...</div>
<div class="line">[Sunday 28 November 2010] [23:55:40] &lt;swills&gt; so i&#8217;m guessing my problem is zmq is built threaded but my perl isn&#8217;t. that sound right?</div>
<div class="line">[Monday 29 November 2010] [00:00:21] &lt;Steve-o&gt;        you need -pthread on the ZeroMQ.so build?</div>
<div class="line">[Monday 29 November 2010] [00:01:07] &lt;Steve-o&gt;        mgc: pong</div>
<div class="line">[Monday 29 November 2010] [00:01:28] &lt;mgc&gt;    Steve-o: what do the symptoms of <a class="reference external" href="https://github.com/zeromq/zeromq2/issues#issue/128">https://github.com/zeromq/zeromq2/issues#issue/128</a>  and <a class="reference external" href="https://github.com/zeromq/zeromq2/issues#issue/104">https://github.com/zeromq/zeromq2/issues#issue/104</a> look like?</div>
<div class="line">[Monday 29 November 2010] [00:01:55] &lt;mgc&gt;    am seeing epgm subscribers dying under load</div>
<div class="line">[Monday 29 November 2010] [00:02:03] &lt;mgc&gt;    and/or losing my mind</div>
<div class="line">[Monday 29 November 2010] [00:02:28] &lt;Steve-o&gt;        128 is pretty bad if you have a low rate limit</div>
<div class="line">[Monday 29 November 2010] [00:02:45] &lt;Steve-o&gt;        I saw performance drop from say 80mb/s to 800kb/s</div>
<div class="line">[Monday 29 November 2010] [00:03:11] &lt;swills&gt; ah, yes -lpthread makes the test work much better, thanks.</div>
<div class="line">[Monday 29 November 2010] [00:03:38] &lt;Steve-o&gt;        104 is to cover a special case if you have multiple senders on one host, it is impossible for them both to receive unicast NAKs</div>
<div class="line">[Monday 29 November 2010] [00:04:10] &lt;Steve-o&gt;        so you end up with unrecoverable data loss</div>
<div class="line">[Monday 29 November 2010] [00:04:31] &lt;Steve-o&gt;        if you actually see any data loss that is</div>
<div class="line">[Monday 29 November 2010] [00:04:34] &lt;mgc&gt;    do things continue working after unrecoverable loss?</div>
<div class="line">[Monday 29 November 2010] [00:05:00] &lt;mgc&gt;    I see data loss, but then it is like the subscriber has been blacklisted</div>
<div class="line">[Monday 29 November 2010] [00:05:06] &lt;mgc&gt;    and it never gets anything ever again</div>
<div class="line">[Monday 29 November 2010] [00:05:09] &lt;mgc&gt;    even if the load subsides</div>
<div class="line">[Monday 29 November 2010] [00:11:05] &lt;Steve-o&gt;        zeromq will close the socket and try reconnecting later similar to TCP</div>
<div class="line">[Monday 29 November 2010] [00:13:22] &lt;Steve-o&gt;        if the receiver is too slow you are pretty much never going to see anything</div>
<div class="line">[Monday 29 November 2010] [00:30:36] &lt;swills&gt; and the make test just hangs... great...</div>
<div class="line">[Monday 29 November 2010] [00:31:41] &lt;swills&gt; and the version from github needs a bunch of additional modules just to build... oh well..</div>
<div class="line">[Monday 29 November 2010] [04:39:43] &lt;mikko&gt;  howdy</div>
<div class="line">[Monday 29 November 2010] [04:39:47] &lt;mikko&gt;  mato: there?</div>
<div class="line">[Monday 29 November 2010] [04:41:31] &lt;<a href="#id71"><span class="problematic" id="id156">sustrik__</span></a>&gt;      mikko: btw, the patch you&#8217;ve sent some time ago</div>
<div class="line">[Monday 29 November 2010] [04:41:42] &lt;<a href="#id71"><span class="problematic" id="id157">sustrik__</span></a>&gt;      there was some discussion about it</div>
<div class="line">[Monday 29 November 2010] [04:41:51] &lt;mikko&gt;  <a href="#id71"><span class="problematic" id="id158">sustrik__</span></a>: yes, still going on</div>
<div class="line">[Monday 29 November 2010] [04:41:57] &lt;<a href="#id71"><span class="problematic" id="id159">sustrik__</span></a>&gt;      ah, good</div>
<div class="line">[Monday 29 November 2010] [04:41:58] &lt;mikko&gt;  <a href="#id71"><span class="problematic" id="id160">sustrik__</span></a>: i&#8217;ve been refactoring some stuff lately</div>
<div class="line">[Monday 29 November 2010] [04:42:00] &lt;<a href="#id71"><span class="problematic" id="id161">sustrik__</span></a>&gt;      i was not sure</div>
<div class="line">[Monday 29 November 2010] [04:42:06] &lt;mikko&gt;  <a href="#id71"><span class="problematic" id="id162">sustrik__</span></a>: waiting for mato to look if he is ok</div>
<div class="line">[Monday 29 November 2010] [04:42:21] &lt;mikko&gt;  <a href="#id71"><span class="problematic" id="id163">sustrik__</span></a>: the patch for checking if compiler supports visibility breaks in my local env</div>
<div class="line">[Monday 29 November 2010] [04:42:41] &lt;<a href="#id71"><span class="problematic" id="id164">sustrik__</span></a>&gt;      ok, i won&#8217;t apply it</div>
<div class="line">[Monday 29 November 2010] [04:42:47] &lt;mikko&gt;  i just need to figure out a way to break this refactoring into patches</div>
<div class="line">[Monday 29 November 2010] [04:43:03] &lt;mikko&gt;  <a class="reference external" href="https://github.com/mkoppanen/zeromq2/commit/b797da17f788534298e7cb6101c9c7dccb006ee5">https://github.com/mkoppanen/zeromq2/commit/b797da17f788534298e7cb6101c9c7dccb006ee5</a></div>
<div class="line">[Monday 29 November 2010] [04:43:12] &lt;mikko&gt;  currently it&#8217;s one large blob of misc stuff</div>
<div class="line">[Monday 29 November 2010] [04:43:34] &lt;mato&gt;   mikko: yes?</div>
<div class="line">[Monday 29 November 2010] [04:43:55] &lt;mikko&gt;  mato: the LT_COMPILER_FLAG breaks here for some reason</div>
<div class="line">[Monday 29 November 2010] [04:44:04] &lt;mikko&gt;  maybe autoconf version differences</div>
<div class="line">[Monday 29 November 2010] [04:44:15] &lt;mato&gt;   mikko: autoconf or libtool, it&#8217;s possible</div>
<div class="line">[Monday 29 November 2010] [04:44:17] &lt;mikko&gt;  i had two days off last week and i wrote a couple of macros</div>
<div class="line">[Monday 29 November 2010] [04:44:21] &lt;mato&gt;   mikko: but the autobuilds work ...</div>
<div class="line">[Monday 29 November 2010] [04:44:34] &lt;mato&gt;   mikko: so what system does it break for you on?</div>
<div class="line">[Monday 29 November 2010] [04:44:42] &lt;mikko&gt;  mato: debian stable</div>
<div class="line">[Monday 29 November 2010] [04:44:46] &lt;mikko&gt;  daily builds are on debian testing</div>
<div class="line">[Monday 29 November 2010] [04:44:50] &lt;mato&gt;   mikko: oh, interesting</div>
<div class="line">[Monday 29 November 2010] [04:45:00] &lt;mikko&gt;  mato: take a look at this <a class="reference external" href="https://github.com/mkoppanen/zeromq2/commit/b797da17f788534298e7cb6101c9c7dccb006ee5#diff-1">https://github.com/mkoppanen/zeromq2/commit/b797da17f788534298e7cb6101c9c7dccb006ee5#diff-1</a></div>
<div class="line">[Monday 29 November 2010] [04:45:03] &lt;mato&gt;   mikko: i&#8217;m also on debian stable, but have a backported libtool 2.x</div>
<div class="line">[Monday 29 November 2010] [04:45:12] &lt;mikko&gt;  i added a couple of maybe useful macros</div>
<div class="line">[Monday 29 November 2010] [04:45:23] &lt;mikko&gt;  AC_ZMQ_CHECK_LANG_FLAG checks if compiler supports given flag</div>
<div class="line">[Monday 29 November 2010] [04:45:33] &lt;mikko&gt;  AC_ZMQ_CHECK_LANG_PRAGMA checks if compiler supports given pragma</div>
<div class="line">[Monday 29 November 2010] [04:45:56] &lt;mikko&gt;  AC_ZMQ_CHECK_LANG_FLAG_PREPEND is same as AC_ZMQ_CHECK_LANG_FLAG but it prepends to CFLAGS or CPPFLAGS</div>
<div class="line">[Monday 29 November 2010] [04:46:42] &lt;mikko&gt;  also added macros for WERROR and WALL for different compilers</div>
<div class="line">[Monday 29 November 2010] [04:49:32] &lt;mato&gt;   mikko: wow, that looks good</div>
<div class="line">[Monday 29 November 2010] [04:49:49] &lt;mato&gt;   mikko: one problem</div>
<div class="line">[Monday 29 November 2010] [04:49:53] &lt;mikko&gt;  mato: it moves things more into direction that it checks if the flag is supported</div>
<div class="line">[Monday 29 November 2010] [04:50:00] &lt;mikko&gt;  rather than just adding</div>
<div class="line">[Monday 29 November 2010] [04:50:04] &lt;mato&gt;   mikko: your changes to zmq.h/zmq_utils.h don&#8217;t make sense</div>
<div class="line">[Monday 29 November 2010] [04:50:24] &lt;mato&gt;   mikko: because a) ZMQ_HAVE_&lt;anything&gt; is not present and can&#8217;t be tested against in zmq.h/zmq_utils.h</div>
<div class="line">[Monday 29 November 2010] [04:50:32] &lt;mikko&gt;  mato: i can revert that</div>
<div class="line">[Monday 29 November 2010] [04:50:42] &lt;mikko&gt;  mato: that breaks clang on daily builds</div>
<div class="line">[Monday 29 November 2010] [04:50:45] &lt;mikko&gt;  the visibility</div>
<div class="line">[Monday 29 November 2010] [04:50:48] &lt;mato&gt;   i know</div>
<div class="line">[Monday 29 November 2010] [04:50:52] &lt;mato&gt;   the problem is...</div>
<div class="line">[Monday 29 November 2010] [04:50:58] &lt;mikko&gt;  it poses as gcc</div>
<div class="line">[Monday 29 November 2010] [04:51:02] &lt;mikko&gt;  without supporting gcc things</div>
<div class="line">[Monday 29 November 2010] [04:51:04] &lt;mato&gt;   yes, and does a bad job :-)</div>
<div class="line">[Monday 29 November 2010] [04:51:30] &lt;mikko&gt;  clang 2.2+ supports visibility ok</div>
<div class="line">[Monday 29 November 2010] [04:51:33] &lt;mato&gt;   well, the problem is, AFAIK the visibility bits should be in the function declarations also</div>
<div class="line">[Monday 29 November 2010] [04:51:44] &lt;mikko&gt;  i wonder if this is a non-issue</div>
<div class="line">[Monday 29 November 2010] [04:52:01] &lt;mikko&gt;  the daily builds run with clang 1.1 (age old debian shipped version)</div>
<div class="line">[Monday 29 November 2010] [04:52:01] &lt;mato&gt;   I&#8217;m not 100% sure about it, but Drepper&#8217;s piece on shared libraries claims so and so does MSFT for __declspec</div>
<div class="line">[Monday 29 November 2010] [04:52:10] &lt;mato&gt;   I reckon it&#8217;s a non-issue</div>
<div class="line">[Monday 29 November 2010] [04:52:19] &lt;mikko&gt;  i could upgrade clang on daily build box</div>
<div class="line">[Monday 29 November 2010] [04:52:23] &lt;mato&gt;   If clang is posing as GCC, then it better do that properly</div>
<div class="line">[Monday 29 November 2010] [04:52:30] &lt;mikko&gt;  to a version from this century :)</div>
<div class="line">[Monday 29 November 2010] [04:52:34] &lt;mato&gt;   yeah</div>
<div class="line">[Monday 29 November 2010] [04:53:06] &lt;CIA-20&gt; zeromq2: 03Steven McCoy 07master * r28db150 10/ src/thread.cpp :</div>
<div class="line">[Monday 29 November 2010] [04:53:06] &lt;CIA-20&gt; zeromq2: Fix thread thunker scope for MSVC.</div>
<div class="line">[Monday 29 November 2010] [04:53:06] &lt;CIA-20&gt; zeromq2: Signed-off-by: Steven McCoy &lt;<a class="reference external" href="mailto:steven&#46;mccoy&#37;&#52;&#48;miru&#46;hk">steven<span>&#46;</span>mccoy<span>&#64;</span>miru<span>&#46;</span>hk</a>&gt; - <a class="reference external" href="http://bit.ly/hIM3js">http://bit.ly/hIM3js</a></div>
<div class="line">[Monday 29 November 2010] [04:53:09] &lt;mikko&gt;  so, only check for -fvisibility compiler flag is needed</div>
<div class="line">[Monday 29 November 2010] [04:53:13] &lt;mato&gt;   anyhow, I like the overall idea (test for XXXX being supported, rather than enumerating all the combinations where it might/might not work)</div>
<div class="line">[Monday 29 November 2010] [04:53:46] &lt;mikko&gt;  i wrote a bashrc for myself to switch compilers / build zeromq for testing :)</div>
<div class="line">[Monday 29 November 2010] [04:53:54] &lt;mikko&gt;  built probably 100+ times during the weekend</div>
<div class="line">[Monday 29 November 2010] [04:53:58] &lt;mato&gt;   reading further thru the patch ...</div>
<div class="line">[Monday 29 November 2010] [04:54:17] &lt;mato&gt;   it&#8217;s not obvious what the default outcome (and others) of AC_ZMQ_CHECK_ENABLE_DEBUG</div>
<div class="line">[Monday 29 November 2010] [04:54:21] &lt;mato&gt;   is</div>
<div class="line">[Monday 29 November 2010] [04:54:42] &lt;mato&gt;   i.e. the comment block should probably say what the intended result is with the various autoconf settings that may affect that</div>
<div class="line">[Monday 29 November 2010] [04:55:13] &lt;mikko&gt;  it should also support [action-if-true], [action-if-false]</div>
<div class="line">[Monday 29 November 2010] [04:55:26] &lt;mikko&gt;  just for reusability</div>
<div class="line">[Monday 29 November 2010] [04:55:38] &lt;mikko&gt;  so that these macros can be used for example in ZFL build as well</div>
<div class="line">[Monday 29 November 2010] [04:55:45] &lt;mato&gt;   sure</div>
<div class="line">[Monday 29 November 2010] [04:56:22] &lt;mato&gt;   there&#8217;s some bogus indentation in AC_ZMQ_CHECK_COMPILERS</div>
<div class="line">[Monday 29 November 2010] [04:57:21] &lt;mato&gt;   why the different CHECK_LANG_FLAG and CHECK_LANG_FLAG_PREPEND?</div>
<div class="line">[Monday 29 November 2010] [04:57:49] &lt;mikko&gt;  mato: becuase the former takes a copy of CFLAGS</div>
<div class="line">[Monday 29 November 2010] [04:57:53] &lt;mato&gt;   and there&#8217;s a typo in the comment on line 370</div>
<div class="line">[Monday 29 November 2010] [04:58:06] &lt;mikko&gt;  if you modify them in action-if-found its hard to know what flags have been modified</div>
<div class="line">[Monday 29 November 2010] [04:58:25] &lt;mato&gt;   well, you say in the comment blocks to both not to do that anyway :-)</div>
<div class="line">[Monday 29 November 2010] [04:58:45] &lt;mikko&gt;  yeah, thats why there is the prepend on</div>
<div class="line">[Monday 29 November 2010] [04:58:52] &lt;mikko&gt;  allows you to prepend to flags easily</div>
<div class="line">[Monday 29 November 2010] [04:59:18] &lt;mato&gt;   um, so the non-prepend just checks for support but leaves the resulting flags alone?</div>
<div class="line">[Monday 29 November 2010] [04:59:26] &lt;mikko&gt;  yes</div>
<div class="line">[Monday 29 November 2010] [04:59:29] &lt;mato&gt;   vs. the prepend that actually changes the resulting flags?</div>
<div class="line">[Monday 29 November 2010] [04:59:41] &lt;mikko&gt;  yes, it prepends to CFLAGS or CPPFLAGS</div>
<div class="line">[Monday 29 November 2010] [04:59:56] &lt;mato&gt;   ok, that was not obvious from reading the comment block or the function name</div>
<div class="line">[Monday 29 November 2010] [04:59:56] &lt;mikko&gt;  whatever is the given language</div>
<div class="line">[Monday 29 November 2010] [05:00:12] &lt;mikko&gt;  i think i need to comment them all more clearly</div>
<div class="line">[Monday 29 November 2010] [05:00:18] &lt;mato&gt;   I haven&#8217;t had enough coffee to attempt reading the actual Autoconf code :-)</div>
<div class="line">[Monday 29 November 2010] [05:01:54] &lt;mato&gt;   anyway, thanks for this, your patience with autoconf is impressive</div>
<div class="line">[Monday 29 November 2010] [05:02:12] &lt;mato&gt;   mikko: i&#8217;d say just submit the whole lot as a single patch once you&#8217;re done reviewing</div>
<div class="line">[Monday 29 November 2010] [05:02:26] &lt;mato&gt;   mikko: just list all the separate bits in the commit message</div>
<div class="line">[Monday 29 November 2010] [05:02:30] &lt;mikko&gt;  mato: ok</div>
<div class="line">[Monday 29 November 2010] [05:02:45] &lt;mato&gt;   it&#8217;s all build-related anyway, so no point in splitting it up</div>
<div class="line">[Monday 29 November 2010] [05:03:07] &lt;mikko&gt;  cool, i&#8217;ll form a patch during today</div>
<div class="line">[Monday 29 November 2010] [05:04:05] &lt;mikko&gt;  im beginning to like sun studio as a compiler</div>
<div class="line">[Monday 29 November 2010] [05:04:11] &lt;mikko&gt;  it seems to be the strictest of them all</div>
<div class="line">[Monday 29 November 2010] [05:04:38] &lt;mikko&gt;  when you enable -compat=5 +w -errwarn=%all (equals to -pedantic -Wall -Werror)</div>
<div class="line">[Monday 29 November 2010] [05:10:05] &lt;<a href="#id71"><span class="problematic" id="id165">sustrik__</span></a>&gt;      mato: what about the DSO visibility patch?</div>
<div class="line">[Monday 29 November 2010] [05:10:08] &lt;<a href="#id71"><span class="problematic" id="id166">sustrik__</span></a>&gt;      should i apply it?</div>
<div class="line">[Monday 29 November 2010] [05:11:09] &lt;mato&gt;   <a href="#id71"><span class="problematic" id="id167">sustrik__</span></a>: mikko&#8217;s work in progress supersedes that</div>
<div class="line">[Monday 29 November 2010] [05:11:41] &lt;<a href="#id71"><span class="problematic" id="id168">sustrik__</span></a>&gt;      ok</div>
<div class="line">[Monday 29 November 2010] [05:12:27] &lt;mato&gt;   mikko: although... regarding the visibility stuff, we still have no way of testing ZMQ_HAVE_VISIBILITY in zmq.h</div>
<div class="line">[Monday 29 November 2010] [05:13:15] &lt;mikko&gt;  mato: i think we can remove that part</div>
<div class="line">[Monday 29 November 2010] [05:13:24] &lt;mikko&gt;  and just check for -fvisibility and rely on gcc version</div>
<div class="line">[Monday 29 November 2010] [05:13:37] &lt;mikko&gt;  clang 2.2+ handles that properly</div>
<div class="line">[Monday 29 November 2010] [05:13:46] &lt;mato&gt;   mikko: yup, but keep the AC_ZMQ_CHECK_LANG_PRAGMA macro around anyway, it&#8217;ll come in handy</div>
<div class="line">[Monday 29 November 2010] [05:14:07] &lt;mikko&gt;  mato: yeah, i thought that too</div>
<div class="line">[Monday 29 November 2010] [05:14:08] &lt;mato&gt;   mikko: incidentally, if you look in the openpgm source it also does symbol visibility for sun studio using their syntax</div>
<div class="line">[Monday 29 November 2010] [05:14:16] &lt;mato&gt;   mikko: so you can try and make that work if you feel like it</div>
<div class="line">[Monday 29 November 2010] [05:14:31] &lt;mikko&gt;  mato: sure, i am getting into this autoconf stuff</div>
<div class="line">[Monday 29 November 2010] [05:14:34] &lt;mato&gt;   mikko: the objective is that the DSO only exports the actual zmq_* API functions and nothing else.</div>
<div class="line">[Monday 29 November 2010] [05:15:07] &lt;mato&gt;   mikko: there are also various other ways to do it, but they&#8217;re all more annoying (linker map files, etc.) so I picked -fvisibility as the least invasive approach for now</div>
<div class="line">[Monday 29 November 2010] [05:17:10] &lt;mikko&gt;  mato: <a class="reference external" href="http://developers.sun.com/solaris/articles/symbol_scope.html">http://developers.sun.com/solaris/articles/symbol_scope.html</a></div>
<div class="line">[Monday 29 November 2010] [05:18:18] &lt;mikko&gt;  i think i need to define ZMQ_EXPORT to __global using sun studio</div>
<div class="line">[Monday 29 November 2010] [05:18:25] &lt;mato&gt;   mikko: hmm, right</div>
<div class="line">[Monday 29 November 2010] [05:19:18] &lt;mato&gt;   mikko: in that case, we could skip the pragma and use the __attribute__ ((visibility(&#8220;default&#8221;)))</div>
<div class="line">[Monday 29 November 2010] [05:19:24] &lt;mato&gt;   mikko: (for GCC)</div>
<div class="line">[Monday 29 November 2010] [05:19:35] &lt;mato&gt;   mikko: see e.g. <a class="reference external" href="http://gcc.gnu.org/wiki/Visibility">http://gcc.gnu.org/wiki/Visibility</a></div>
<div class="line">[Monday 29 November 2010] [05:20:05] &lt;mato&gt;   mikko: anyhow, you can verify the result both by running nm src/.libs/libzmq.so | grep &#8216; T &#8216;</div>
<div class="line">[Monday 29 November 2010] [05:20:22] &lt;mato&gt;   mikko: which should show only zmq_* (plus the _init , _fini and internal bits)</div>
<div class="line">[Monday 29 November 2010] [05:23:36] &lt;mato&gt;   mikko: and/or readelf &#8211;use-dynamic &#8211;syms src/.libs/libzmq.so</div>
<div class="line">[Monday 29 November 2010] [05:23:50] &lt;mikko&gt;  i think -fvisibility=hidden works with ICC as well</div>
<div class="line">[Monday 29 November 2010] [05:24:32] &lt;mikko&gt;  <a class="reference external" href="http://software.intel.com/sites/products/documentation/studio/composer/en-us/2011/compiler_c/optaps/common/optaps_cmp_visib.htm">http://software.intel.com/sites/products/documentation/studio/composer/en-us/2011/compiler_c/optaps/common/optaps_cmp_visib.htm</a></div>
<div class="line">[Monday 29 November 2010] [05:24:46] &lt;mikko&gt;  it also supports __attribute__ ((visibility (&#8220;default&#8221;)));</div>
<div class="line">[Monday 29 November 2010] [06:21:18] &lt;<a href="#id1201"><span class="problematic" id="id1202">kobus_</span></a>&gt; Hi, I would appreciate some pointers on problem troubleshooting. I&#8217;m running the weather update server and client (C++ code) and the server is sending, but the client is not receiving any messages.</div>
<div class="line">[Monday 29 November 2010] [06:21:59] &lt;<a href="#id1203"><span class="problematic" id="id1204">kobus_</span></a>&gt; I&#8217;m building the code on Windows with MinGW</div>
<div class="line">[Monday 29 November 2010] [06:35:18] &lt;mikko&gt;  <a href="#id1205"><span class="problematic" id="id1206">kobus_</span></a>: sure</div>
<div class="line">[Monday 29 November 2010] [06:35:34] &lt;mikko&gt;  <a href="#id1207"><span class="problematic" id="id1208">kobus_</span></a>: is this PUB/SUB?</div>
<div class="line">[Monday 29 November 2010] [06:36:26] &lt;<a href="#id1209"><span class="problematic" id="id1210">kobus_</span></a>&gt; mikko: Yes. I couldn&#8217;t get my code to work, so I resorted to getting samples to work.</div>
<div class="line">[Monday 29 November 2010] [06:38:00] &lt;mikko&gt;  <a href="#id1211"><span class="problematic" id="id1212">kobus_</span></a>: did you remember to subscribe to topics on the SUB side?</div>
<div class="line">[Monday 29 November 2010] [06:42:36] &lt;<a href="#id1213"><span class="problematic" id="id1214">kobus_</span></a>&gt; The client conneccts directly to the server. <a class="reference external" href="https://github.com/imatix/zguide/blob/master/examples/C%2B%2B/wuclient.cpp">https://github.com/imatix/zguide/blob/master/examples/C%2B%2B/wuclient.cpp</a></div>
<div class="line">[Monday 29 November 2010] [06:42:51] &lt;<a href="#id1215"><span class="problematic" id="id1216">kobus_</span></a>&gt; mikko: I think...</div>
<div class="line">[Monday 29 November 2010] [06:43:14] &lt;mikko&gt;  <a href="#id1217"><span class="problematic" id="id1218">kobus_</span></a>: are you publishing in the topic ?</div>
<div class="line">[Monday 29 November 2010] [06:48:12] &lt;<a href="#id1219"><span class="problematic" id="id1220">kobus_</span></a>&gt; mikko: it is a client-server example</div>
<div class="line">[Monday 29 November 2010] [06:57:16] &lt;<a href="#id1221"><span class="problematic" id="id1222">kobus_</span></a>&gt; mikko: I&#8217;m not sure how you publish in a topic. This example doesn&#8217;t make use of a broker; looks like a tcp client &amp; server to me</div>
<div class="line">[Monday 29 November 2010] [07:10:24] &lt;<a href="#id1223"><span class="problematic" id="id1224">kobus_</span></a>&gt; mikko: as I understand this is the subscription: subscriber.setsockopt(ZMQ_SUBSCRIBE, filter, strlen (filter));</div>
<div class="line">[Monday 29 November 2010] [07:14:51] &lt;mikko&gt;  <a href="#id1225"><span class="problematic" id="id1226">kobus_</span></a>: yes</div>
<div class="line">[Monday 29 November 2010] [07:15:01] &lt;mikko&gt;  <a href="#id1227"><span class="problematic" id="id1228">kobus_</span></a>: the message you publish needs to start with that prefix</div>
<div class="line">[Monday 29 November 2010] [07:19:54] &lt;<a href="#id1229"><span class="problematic" id="id1230">kobus_</span></a>&gt; mikko: I changed the server to prefix the message with the same &#8220;zipcode&#8221; as the client subscribes to and now it works. Thanks!</div>
<div class="line">[Monday 29 November 2010] [07:24:23] &lt;mikko&gt;  <a href="#id1231"><span class="problematic" id="id1232">kobus_</span></a>: no problem</div>
<div class="line">[Monday 29 November 2010] [17:33:34] &lt;magicblaze0071&gt; I&#8217;m trying to get a file transferred between two machines behind nat (without loading up a central server too much). Can this be done using zeromq?</div>
<div class="line">[Monday 29 November 2010] [17:34:01] &lt;magicblaze0071&gt; is anyone here using zeromq on windows with python?</div>
<div class="line">[Monday 29 November 2010] [18:08:40] &lt;mikko&gt;  magicblaze0071: your question is one layer below zeromq</div>
<div class="line">[Monday 29 November 2010] [18:09:04] &lt;mikko&gt;  magicblaze0071: it sounds more like a routing/networking questions</div>
<div class="line">[Monday 29 November 2010] [18:09:20] &lt;mikko&gt;  magicblaze0071: if you use <a class="reference external" href="tcp://">tcp://</a> transport for example the semantics for the transfer are the same as with tcp socket</div>
<div class="line">[Monday 29 November 2010] [18:09:29] &lt;mikko&gt;  magicblaze0071: not sure about windows python zmq users</div>
<div class="line">[Monday 29 November 2010] [18:09:36] &lt;mikko&gt;  do you have a specific problem?</div>
<div class="line">[Monday 29 November 2010] [18:38:13] &lt;magicblaze0071&gt; mikko: My first problem is installation on a windows 7 machine</div>
<div class="line">[Monday 29 November 2010] [18:38:50] &lt;magicblaze0071&gt; I tried to copy the dll file in srczmq directory and then point setup.cfg into that directory...but couldnt compile it.</div>
<div class="line">[Monday 29 November 2010] [18:39:10] &lt;magicblaze0071&gt; I would prefer to get a copy that I dont have to compile myself, because i&#8217;ve to ship code to my users who cant compile things</div>
<div class="line">[Monday 29 November 2010] [18:41:23] &lt;Guthur&gt; magicblaze0071, you get the dll from the zmq/lib directory</div>
<div class="line">[Monday 29 November 2010] [18:41:54] &lt;Guthur&gt; follow the instructions for building libzmq</div>
<div class="line">[Monday 29 November 2010] [18:42:11] &lt;Guthur&gt; then grab the dll, and follow the instructions for building pyzmq</div>
<div class="line">[Monday 29 November 2010] [18:42:51] &lt;Guthur&gt; I haven&#8217;t used the pyzmq binding so beyond that I can&#8217;t say</div>
<div class="line">[Monday 29 November 2010] [18:43:55] &lt;Guthur&gt; There should be no reason for you to require your users to install libzmq, the dll is all you need</div>
<div class="line">[Monday 29 November 2010] [18:47:08] &lt;magicblaze0071&gt; Guthur: what I dont know is, once i get the .dll file, how to import it in python...can i just say &#8220;import zmq&#8221;?</div>
<div class="line">[Monday 29 November 2010] [18:47:50] &lt;Guthur&gt; I&#8217;m not sure of pythons exact process for foreign func calls</div>
<div class="line">[Monday 29 November 2010] [18:48:02] &lt;Guthur&gt; but pyzmq &#8216;should&#8217; take care of it</div>
<div class="line">[Monday 29 November 2010] [18:48:22] &lt;magicblaze0071&gt; it seems that pyzmq needs a C/cpp compiler to link the dll to something else perhaps?</div>
<div class="line">[Monday 29 November 2010] [18:48:41] &lt;magicblaze0071&gt; I&#8217;ve the pyzmq and the dll in the pyzmq src/zmq directory.</div>
<div class="line">[Monday 29 November 2010] [18:48:53] &lt;magicblaze0071&gt; It seems pyzmq install needs the compilers as well...</div>
<div class="line">[Monday 29 November 2010] [18:48:56] &lt;Guthur&gt; have you built pyzmq?</div>
<div class="line">[Monday 29 November 2010] [18:49:05] &lt;magicblaze0071&gt; no</div>
<div class="line">[Monday 29 November 2010] [18:49:30] &lt;magicblaze0071&gt; but if i build it, wont i have to build it on my users machines as well? or can i copy some files ?</div>
<div class="line">[Monday 29 November 2010] [18:49:30] &lt;Guthur&gt; well then you aren&#8217;t going to get very far, hehe</div>
<div class="line">[Monday 29 November 2010] [18:49:35] &lt;Guthur&gt; you need to build it</div>
<div class="line">[Monday 29 November 2010] [18:49:54] &lt;Guthur&gt; nope you should get some sort of python lib I would imagine</div>
<div class="line">[Monday 29 November 2010] [18:50:01] &lt;magicblaze0071&gt; k, say i am able to build it, how do i ship the built copy?</div>
<div class="line">[Monday 29 November 2010] [18:50:30] &lt;Guthur&gt; it should be just a python lib, and you would most likely need to include the libzmq.dll as well</div>
<div class="line">[Monday 29 November 2010] [18:50:36] &lt;magicblaze0071&gt; Hasnt anyone here done that already? built pyzmq on windows? I was hoping to get the prebuilt files so that i cud ship the same thing to my users.</div>
<div class="line">[Monday 29 November 2010] [18:51:35] &lt;Guthur&gt; to be honest I&#8217;m surprised you haven&#8217;t built it already</div>
<div class="line">[Monday 29 November 2010] [18:52:44] &lt;magicblaze0071&gt; k, lemme build it</div>
<div class="line">[Monday 29 November 2010] [18:52:56] &lt;Guthur&gt; that&#8217;s the spirit, hehe</div>
<div class="line">[Monday 29 November 2010] [21:46:38] &lt;xunker&gt; the 0mq.org page recommended I ask questions where if they aren&#8217;t made clear in the docs, I&#8217;ve got one.  I can&#8217;t find somewhere where it says, yes or no, if you can use topics with something other than PUB/SUB sockets.  Can I use &#8216;topics&#8217; with say, PUSH/PULL socket pairs?</div>
<div class="line">[Tuesday 30 November 2010] [09:32:16] Notice  -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify &lt;password&gt;.</div>
<div class="line">[Tuesday 30 November 2010] [09:32:16] Notice  -NickServ- You are now identified for travlr.</div>
<div class="line">[Tuesday 30 November 2010] [09:32:16] CTCP    Received Version request from frigg.</div>
<div class="line">[Tuesday 30 November 2010] [10:15:04] &lt;mikko&gt; mato: are you applying against master?</div>
<div class="line">[Tuesday 30 November 2010] [10:15:14] &lt;mikko&gt; mato: it complains about whitespace but applies here</div>
<div class="line">[Tuesday 30 November 2010] [10:15:55] &lt;mato&gt;  mikko: yup, master</div>
<div class="line">[Tuesday 30 November 2010] [10:16:11] &lt;mato&gt;  mikko: hmm, just looking at my git log</div>
<div class="line">[Tuesday 30 November 2010] [10:16:19] &lt;mikko&gt; mato: because i took a fresh git clone</div>
<div class="line">[Tuesday 30 November 2010] [10:16:21] &lt;mikko&gt; and it applies</div>
<div class="line">[Tuesday 30 November 2010] [10:16:27] &lt;mato&gt;  mikko: looks like my master branch may have diverged, damn....</div>
<div class="line">[Tuesday 30 November 2010] [10:16:56] &lt;mato&gt;  let me try and fix this...</div>
<div class="line">[Tuesday 30 November 2010] [10:17:02] &lt;mikko&gt; <a class="reference external" href="http://valokuva.org/~mikko/">http://valokuva.org/~mikko/</a><a href="#id1233"><span class="problematic" id="id1234">0001-Prefix-all-custom-macros-with-AC_ZMQ_</span></a>.patch</div>
<div class="line">[Tuesday 30 November 2010] [10:17:08] &lt;mikko&gt; there it is with whitespace cleaned</div>
<div class="line">[Tuesday 30 November 2010] [10:17:26] &lt;mikko&gt; it&#8217;s a bit heavy to send to mailing-list (&gt;40k patch)</div>
<div class="line">[Tuesday 30 November 2010] [10:18:06] &lt;mato&gt;  mikko: ok, it was some divergence on my master branch</div>
<div class="line">[Tuesday 30 November 2010] [10:18:16] &lt;mato&gt;  mikko: sorry for the confusion...</div>
<div class="line">[Tuesday 30 November 2010] [10:18:21] &lt;mato&gt;  am going to test it now</div>
<div class="line">[Tuesday 30 November 2010] [10:18:26] &lt;mikko&gt; no problem</div>
<div class="line">[Tuesday 30 November 2010] [10:18:41] &lt;mato&gt;  by the way, we can remove the check for pkg-config in autogen.sh too I guess</div>
<div class="line">[Tuesday 30 November 2010] [10:19:03] &lt;mato&gt;  all the pkg-config stuff was there due to the OpenPGM 2.x build depending on it</div>
<div class="line">[Tuesday 30 November 2010] [10:19:28] &lt;mikko&gt; ok</div>
<div class="line">[Tuesday 30 November 2010] [10:34:58] &lt;mato&gt;  mikko: you wouldn&#8217;t happen to have an oldish RHEL/CentOS installation lying around?</div>
<div class="line">[Tuesday 30 November 2010] [10:35:40] &lt;mikko&gt; i got centos 5.5 here</div>
<div class="line">[Tuesday 30 November 2010] [10:35:41] &lt;mato&gt;  mikko: say some 5.x or 4.x? I&#8217;d like to see if this last set of changes breaks/fixes anything</div>
<div class="line">[Tuesday 30 November 2010] [10:36:03] &lt;mikko&gt; 32 or 64 ?</div>
<div class="line">[Tuesday 30 November 2010] [10:36:06] &lt;mato&gt;  can you try a random out-of-the-box build on it just to sanity check it works?</div>
<div class="line">[Tuesday 30 November 2010] [10:36:08] &lt;mikko&gt; or makes no difference</div>
<div class="line">[Tuesday 30 November 2010] [10:36:12] &lt;mato&gt;  no difference</div>
<div class="line">[Tuesday 30 November 2010] [10:36:22] &lt;mikko&gt; gimme a min</div>
<div class="line">[Tuesday 30 November 2010] [10:36:28] &lt;mikko&gt; need to make dist on a newer machine</div>
<div class="line">[Tuesday 30 November 2010] [10:36:36] &lt;mato&gt;  oh, and try &#8211;with-pgm as well if you can</div>
<div class="line">[Tuesday 30 November 2010] [10:36:47] &lt;mato&gt;  if all that works then i think we&#8217;re good to go</div>
<div class="line">[Tuesday 30 November 2010] [10:42:18] &lt;mato&gt;  mikko: This isn&#8217;t right:</div>
<div class="line">[Tuesday 30 November 2010] [10:42:26] &lt;mato&gt;  checking for asciidoc... no</div>
<div class="line">[Tuesday 30 November 2010] [10:42:26] &lt;mato&gt;  checking for xmlto... no</div>
<div class="line">[Tuesday 30 November 2010] [10:42:26] &lt;mato&gt;  checking whether to build documentation... yes</div>
<div class="line">[Tuesday 30 November 2010] [10:42:44] &lt;mato&gt;  this is on some FreeBSD box w/o asciidoc on it, building from a &#8220;make dist&#8221; with your patch</div>
<div class="line">[Tuesday 30 November 2010] [10:43:02] &lt;mato&gt;  obviously fails later on because it tries to use asciidoc</div>
<div class="line">[Tuesday 30 November 2010] [10:44:28] &lt;mato&gt;  oh, typo in your patch</div>
<div class="line">[Tuesday 30 November 2010] [10:45:54] &lt;mato&gt;  fixing....</div>
<div class="line">[Tuesday 30 November 2010] [10:48:30] &lt;mikko&gt; builds on 5.5 with and without pgm</div>
<div class="line">[Tuesday 30 November 2010] [10:48:34] &lt;mato&gt;  good</div>
<div class="line">[Tuesday 30 November 2010] [10:49:59] &lt;mikko&gt; yes</div>
<div class="line">[Tuesday 30 November 2010] [10:50:00] &lt;mikko&gt; +        if test &#8220;x$ac_zmq_cv_have_asciidoc&#8221; = &#8220;xno&#8221; -o &#8220;x$ac_zmq_cv_have_xmlto&#8221; = &#8220;xno&#8221;; then</div>
<div class="line">[Tuesday 30 November 2010] [10:50:06] &lt;mato&gt;  yup</div>
<div class="line">[Tuesday 30 November 2010] [10:50:06] &lt;mikko&gt; cv is too much</div>
<div class="line">[Tuesday 30 November 2010] [10:50:19] &lt;mato&gt;  by the way, which variables are supposed to have _cv_ and which arent?</div>
<div class="line">[Tuesday 30 November 2010] [10:50:47] &lt;mato&gt;  <a class="reference external" href="http://pastebin.com/cGqKqavz">http://pastebin.com/cGqKqavz</a></div>
<div class="line">[Tuesday 30 November 2010] [10:50:54] &lt;mato&gt;  this should make it work, am going to test</div>
<div class="line">[Tuesday 30 November 2010] [10:52:45] &lt;mikko&gt; cv are ones that are cached</div>
<div class="line">[Tuesday 30 November 2010] [10:53:03] &lt;mikko&gt; i named most of the publicly visible ones &#8220;_cv_ because it&#8217;s easier to add caching to them later</div>
<div class="line">[Tuesday 30 November 2010] [10:53:12] &lt;mikko&gt; cv = cache value</div>
<div class="line">[Tuesday 30 November 2010] [10:53:18] &lt;mato&gt;  right</div>
<div class="line">[Tuesday 30 November 2010] [10:53:56] &lt;mato&gt;  checking whether C compiler supports -fvisibility=hidden... no</div>
<div class="line">[Tuesday 30 November 2010] [10:53:56] &lt;mato&gt;  checking whether C compiler supports &#8220;-xldscope=hidden&#8221;... no</div>
<div class="line">[Tuesday 30 November 2010] [10:53:56] &lt;mato&gt;  checking whether C++ compiler supports -fvisibility=hidden... no</div>
<div class="line">[Tuesday 30 November 2010] [10:53:56] &lt;mato&gt;  checking whether C++ compiler supports &#8220;-xldscope=hidden&#8221;... no</div>
<div class="line">[Tuesday 30 November 2010] [10:53:56] &lt;mato&gt;  checking whether C++ compiler supports -mcpu=v9... yes</div>
<div class="line">[Tuesday 30 November 2010] [10:54:06] &lt;mato&gt;  are those quotation marks supposed to be there?</div>
<div class="line">[Tuesday 30 November 2010] [10:54:18] &lt;mato&gt;  (this is GCC 3.4.3 on Solaris 10 SPARC)</div>
<div class="line">[Tuesday 30 November 2010] [10:54:35] &lt;mato&gt;  not that I expect it to support visibility, but the quotes look weird</div>
<div class="line">[Tuesday 30 November 2010] [10:54:41] &lt;mikko&gt; the quotes can be removed</div>
<div class="line">[Tuesday 30 November 2010] [10:54:51] &lt;mikko&gt; they shouldn&#8217;t make a difference, looks cleaner without them</div>
<div class="line">[Tuesday 30 November 2010] [10:55:09] &lt;mato&gt;  up to you, I think I have Sun CC on here as well so will try with that oo</div>
<div class="line">[Tuesday 30 November 2010] [10:55:10] &lt;mato&gt;  too</div>
<div class="line">[Tuesday 30 November 2010] [10:55:11] &lt;mikko&gt; as those go into compiler line gcc &#8220;-xldscope=hidden&#8221; == gcc -xldscope=hidden</div>
<div class="line">[Tuesday 30 November 2010] [10:55:16] &lt;mato&gt;  right</div>
<div class="line">[Tuesday 30 November 2010] [10:55:23] &lt;mikko&gt; better put them off</div>
<div class="line">[Tuesday 30 November 2010] [11:01:46] &lt;mato&gt;  <a href="#id71"><span class="problematic" id="id169">sustrik__</span></a>: Assertion failed: nbytes == sizeof (command_t) (mailbox.cpp:193)</div>
<div class="line">[Tuesday 30 November 2010] [11:01:57] &lt;mato&gt;  <a href="#id71"><span class="problematic" id="id170">sustrik__</span></a>: in test_reqrep_tcp</div>
<div class="line">[Tuesday 30 November 2010] [11:02:23] &lt;mato&gt;  <a href="#id71"><span class="problematic" id="id171">sustrik__</span></a>: looks like the auto-resizing code in mailbox.cpp is completely bogus on FreeBSD too :-(</div>
<div class="line">[Tuesday 30 November 2010] [11:02:46] &lt;mato&gt;  <a href="#id71"><span class="problematic" id="id172">sustrik__</span></a>: anyway, not something I want to solve now, but it seems that the auto-resizing approach is no good...</div>
<div class="line">[Tuesday 30 November 2010] [11:03:04] &lt;mato&gt;  let&#8217;s see if the tests pass on Solaris at least...</div>
<div class="line">[Tuesday 30 November 2010] [11:03:42] &lt;mato&gt;  hmm, Too many open files :-)</div>
<div class="line">[Tuesday 30 November 2010] [11:04:54] &lt;mato&gt;  ok, the tests pass if I raise the # of open files to 1024 from Solaris&#8217; default 256</div>
<div class="line">[Tuesday 30 November 2010] [11:06:30] &lt;mikko&gt; mato: valokuva.org/~mikko/<a href="#id1235"><span class="problematic" id="id1236">0001-Prefix-variables-with-ac_zmq_</span></a>.patch</div>
<div class="line">[Tuesday 30 November 2010] [11:06:37] &lt;mikko&gt; mato: autogen check for pkg-config removed</div>
<div class="line">[Tuesday 30 November 2010] [11:06:42] &lt;mikko&gt; fixed the variable name typos</div>
<div class="line">[Tuesday 30 November 2010] [11:07:01] &lt;mato&gt;  great</div>
<div class="line">[Tuesday 30 November 2010] [11:07:11] &lt;mato&gt;  building with Sun C on Solaris 10 SPARC now....</div>
<div class="line">[Tuesday 30 November 2010] [11:13:53] &lt;mato&gt;  and it all works, nice ...</div>
<div class="line">[Tuesday 30 November 2010] [11:18:34] &lt;mikko&gt; there should be some macros that can be used in the future</div>
<div class="line">[Tuesday 30 November 2010] [11:18:56] &lt;mato&gt;  yes... this is really good work, thanks!</div>
<div class="line">[Tuesday 30 November 2010] [11:19:12] &lt;mato&gt;  just trying -xtarget=native -fast with Sun C for good measure</div>
<div class="line">[Tuesday 30 November 2010] [11:19:34] &lt;mato&gt;  and to see if we still honor CFLAGS/CXXFLAGS correctly</div>
<div class="line">[Tuesday 30 November 2010] [11:31:24] &lt;mato&gt;  mikko: ok, so the current version on valokuva.org is the latest?</div>
<div class="line">[Tuesday 30 November 2010] [11:41:20] &lt;mikko&gt; y</div>
<div class="line">[Tuesday 30 November 2010] [11:45:22] &lt;mato&gt;  mikko: ok, great, it all checks out...</div>
<div class="line">[Tuesday 30 November 2010] [11:45:39] &lt;mato&gt;  mikko: Please send the latest version to the ML, I&#8217;ll reply to it that it&#8217;s the correct version that Martin should apply.</div>
<div class="line">[Tuesday 30 November 2010] [11:46:16] &lt;mato&gt;  mikko: The plan is to make a first release of master tomorrow (2.1.0).</div>
<div class="line">[Tuesday 30 November 2010] [11:58:41] &lt;mikko&gt; mato: ill mail a link to it</div>
<div class="line">[Tuesday 30 November 2010] [11:58:55] &lt;mikko&gt; it&#8217;s a bit big to spam to everyones mailbox</div>
<div class="line">[Tuesday 30 November 2010] [11:59:51] &lt;mato&gt;  mikko: ok, sure</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2010-September.html"
                        title="previous chapter">2010-September</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2010-November.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2010-September.html" title="2010-September"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>