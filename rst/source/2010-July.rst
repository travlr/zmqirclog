===============
2010-July
===============

| [Tuesday 13 July 2010] [05:35:42] <jugg>    sustrik: Did you intend to revert commit 240fc3 with commit 27877d?
| [Tuesday 13 July 2010] [05:40:01] <sustrik> which commit is that?
| [Tuesday 13 July 2010] [05:40:41] <sustrik> the latest commit seems to be da49e5a4dd4602bf8931
| [Tuesday 13 July 2010] [05:42:22] <jugg>    240fc33f65c6cd9f1ed0a511daf4ad00ff37f163 "minor comment clarification" was reverted by 27877d73ea7dd972a773c7e960706130daaf5925 "EHOSTUNREACH is acceptable outcome from connect"
| [Tuesday 13 July 2010] [05:44:38] <sustrik> a-ha
| [Tuesday 13 July 2010] [05:44:41] <sustrik> you are right
| [Tuesday 13 July 2010] [05:44:46] <sustrik> let me fix it
| [Tuesday 13 July 2010] [05:46:50] <CIA-17>  zeromq2: 03Martin Sustrik 07master * r2699043 10/ src/tcp_connecter.cpp : minor comment clarification - http://bit.ly/c2cbY9
| [Tuesday 13 July 2010] [05:46:54] <sustrik> done
| [Tuesday 13 July 2010] [05:47:00] <sustrik> thanks for spotting it
| [Tuesday 13 July 2010] [05:48:36] <jugg>    yah.  btw. I haven't forgotten the multi-part messaging topic, I just haven't gotten around to posting to the list yet.  I have a draft saved, and will do so *soon*.
| [Tuesday 13 July 2010] [05:49:56] <jugg>    at the moment I'm trying to update the erlang bindings which I think depend on your "migrating sockets between threads" commit.
| [Tuesday 13 July 2010] [05:50:41] <sustrik> yeah, it's still in sustrik/zeromq2, but you should be able to test with it at leasty
| [Tuesday 13 July 2010] [05:50:58] <jugg>    yep
| [Tuesday 13 July 2010] [05:52:38] <jugg>    how do you plan on reconciling your master branch and zeromq master now that they have begun to diverge?  Will you be rebasing from time to time?  Or perhaps move to using temporary topic branches for experimental work?
| [Tuesday 13 July 2010] [05:54:21] <sustrik> it's not completely clear yet
| [Tuesday 13 July 2010] [05:54:31] <sustrik> but as for the "socket migration" work
| [Tuesday 13 July 2010] [05:55:05] <sustrik> the plan is to finish it at sustrik/zeromq2, then merge it to zeromq/zeromq2 as a single patchset
| [Tuesday 13 July 2010] [05:55:42] <sustrik> afterwards, there should be testing phase
| [Tuesday 13 July 2010] [05:55:45] <sustrik> then a new commit
| [Tuesday 13 July 2010] [05:55:51] <sustrik> 2.0.8 presumably
| [Tuesday 13 July 2010] [05:56:03] <sustrik> s/commit/release
| [Tuesday 13 July 2010] [05:57:40] <jugg>    ok, thanks.
| [Tuesday 13 July 2010] [06:55:57] <jugg>    sustrik: it would appear that the proposed "zmq_process" api is missing from the socket migration?
| [Tuesday 13 July 2010] [06:56:20] <sustrik> what zmq_process?
| [Tuesday 13 July 2010] [06:56:30] <sustrik> there's no API change
| [Tuesday 13 July 2010] [06:56:37] <sustrik> ah, got it
| [Tuesday 13 July 2010] [06:57:09] <sustrik> you mean polling on 0MQ sockets using POSIX poll, right?
| [Tuesday 13 July 2010] [06:57:45] <sustrik> yes, it's missing, but actually, i've thought of better API in the meantime
| [Tuesday 13 July 2010] [06:57:56] <sustrik> the whole thing can be accomplished using 2 socket options
| [Tuesday 13 July 2010] [06:58:11] <sustrik> getsockopt (ZMQ_FD) would return an fd you can poll on
| [Tuesday 13 July 2010] [06:58:26] <sustrik> once it signals POLLIN, it means something happened with the socket
| [Tuesday 13 July 2010] [06:58:37] <sustrik> so you can do getsockopt (ZMQ_EVENTS)
| [Tuesday 13 July 2010] [06:58:53] <sustrik> which would return a combination of ZMQ_POLLIN and ZMQ_POLLOUT
| [Tuesday 13 July 2010] [07:02:13] <jugg>    ZMQ_EVENTS currently does not yet exist?
| [Tuesday 13 July 2010] [07:05:07] <sustrik> it does not, but feel free to add it
| [Tuesday 13 July 2010] [07:05:15] <sustrik> socket_base_t has two functions
| [Tuesday 13 July 2010] [07:05:35] <sustrik> has_in () and has_out ()
| [Tuesday 13 July 2010] [07:05:47] <sustrik> both returning bool
| [Tuesday 13 July 2010] [07:06:10] <sustrik> just call the two and return the result as the EVENTS socket option
| [Tuesday 13 July 2010] [07:08:33] <jugg>    ok, looks like that is in the current erlang bindings patch against zeromq.
| [Tuesday 13 July 2010] [07:09:45] <jugg>    so if I understand correctly, the migrating socket between threads commit does away with the need for the zmq_process api addition.
| [Tuesday 13 July 2010] [08:09:37] <sustrik> jugg: yes
| [Tuesday 13 July 2010] [12:23:24] <sd88g93> one problem:  when i send double word size values, the same values dont appear on the recieving end.  All the examples ive tried before are limited to strings and work fine.  is there a special way to reconstruct  multibyte data types ?   note:  it is not an endian issue because i'm still working on localhost network. 
| [Tuesday 13 July 2010] [13:06:44] <guido_g> there is no way of de-/serializing of non-strings
| [Tuesday 13 July 2010] [13:24:27] <cremes>  sd88g93: show us a pastie of the code you are using to transmit and receive
| [Tuesday 13 July 2010] [13:34:15] <sd88g93> ok, here's a pastbin: http://pastebin.com/rCts6LVu
| [Tuesday 13 July 2010] [13:34:29] <sd88g93> the client code is on top, server code on bottom 
| [Tuesday 13 July 2010] [13:35:15] <sd88g93> i try to read the first uint32 recieved, and it's always a 0 , when i assigned it a one in the client code ,  this is req/rep sockets 
| [Tuesday 13 July 2010] [13:42:46] <guido_g> the initialization of the REP socket is missing
| [Tuesday 13 July 2010] [13:43:40] <guido_g> i *guess* the client connects to publish_skt
| [Tuesday 13 July 2010] [13:43:40] <sd88g93> its up at the top , near /* server code */ comment 
| [Tuesday 13 July 2010] [13:43:58] <guido_g> no, it's not
| [Tuesday 13 July 2010] [13:44:12] <sd88g93> no, the publish socket is something else,  the client connects to rep socket 
| [Tuesday 13 July 2010] [13:44:32] <guido_g> no it doesn't
| [Tuesday 13 July 2010] [13:44:33] <sd88g93> line 79 
| [Tuesday 13 July 2010] [13:44:47] <guido_g> client connects via tcp, qskt is inproc
| [Tuesday 13 July 2010] [13:45:28] <sd88g93> yeah, that's just the thread,   there's a main that establishes a queue  for the xreq/xrep  
| [Tuesday 13 July 2010] [13:45:53] <sd88g93> but the code recieves a messsage, but interprets the cmd variable as zero, when i send it as 1 
| [Tuesday 13 July 2010] [13:45:54] <guido_g> ok, can't tell what else is there, sorry
| [Tuesday 13 July 2010] [13:46:19] <sd88g93> no problem, i was just trying to make it simple case, didnt want to post too much 
| [Tuesday 13 July 2010] [13:48:16] <sd88g93> only thing i can see different, is all the examples send char's,  and i'm sending DWORD's ,   
| [Tuesday 13 July 2010] [14:00:03] <cremes>  sd88g93: i suggest reducing this case to the simplest thing possible; you have all sorts of commands and frames and everything else in there
| [Tuesday 13 July 2010] [14:00:13] <cremes>  there is a lot of code noise so it's hard to zero in on the problem
| [Tuesday 13 July 2010] [14:00:22] <sd88g93> yeah, true
| [Tuesday 13 July 2010] [14:01:28] <sd88g93> one question though, when you send a uint32_t type, is the correct way to read the stream back into a variable by simply casting it to an uint32 ptr and dereferencing ?  or perhaps is there a better way ? 
| [Tuesday 13 July 2010] [14:02:14] <cremes>  sd88g93: i see a problem with line 103; since you are sending from a REQ to a XREP, the *first* message
| [Tuesday 13 July 2010] [14:02:18] <cremes>  you receive is the socket identity
| [Tuesday 13 July 2010] [14:02:26] <cremes>  s/message/message part/
| [Tuesday 13 July 2010] [14:02:37] <cremes>  so that's probably why this is breaking
| [Tuesday 13 July 2010] [14:02:54] <cremes>  change it to a REP socket (which handles that socket identity stuff for you) and try again
| [Tuesday 13 July 2010] [14:03:57] <cremes>  you need to be really careful when using XREQ/XREP sockets because some of the 0mq magic doesn't happen automatically anymore
| [Tuesday 13 July 2010] [14:05:23] <sd88g93> can i change the client socket to xreq ? 
| [Tuesday 13 July 2010] [14:07:33] <cremes>  sd88g93: sure
| [Tuesday 13 July 2010] [14:07:51] <cremes>  it will "silently" send the socket identity as the first message part
| [Tuesday 13 July 2010] [14:08:18] <cremes>  your xrep code needs to receive that message part first; then it can grab the cmd, nframes, hash, whatever
| [Tuesday 13 July 2010] [14:10:05] <sd88g93> how big is the socket identy ?   one byte ? 4 bytes ? 
| [Tuesday 13 July 2010] [14:11:33] <cremes>  it's the first message part; it can be up to 255 bytes
| [Tuesday 13 July 2010] [14:12:20] <sd88g93> oh ok,  so i just recv the first, throw it away , then get the second part 
| [Tuesday 13 July 2010] [14:12:20] <cremes>  oh yeah, you don't need to do zmq_init_msg_* stuff when receiving
| [Tuesday 13 July 2010] [14:12:34] <cremes>  0mq allocates the msg struct for you and passes it in
| [Tuesday 13 July 2010] [14:12:43] <sd88g93> not even zmq_msg_init() ? 
| [Tuesday 13 July 2010] [14:12:56] <cremes>  nope; look at the examples again for receive
| [Tuesday 13 July 2010] [14:13:16] <sd88g93> oh ok,   i think some of the examples do it that way 
| [Tuesday 13 July 2010] [14:13:57] <cremes>  i'm doublechecking now...
| [Tuesday 13 July 2010] [14:15:19] <cremes>  nope, you definitely don't need to
| [Tuesday 13 July 2010] [14:16:10] <cremes>  you only need zmq_msg* and friends for allocating structures to *send*
| [Tuesday 13 July 2010] [14:20:21] <sd88g93> oh good 
| [Tuesday 13 July 2010] [14:22:09] <sd88g93> i notice zeromq is fast evolving, good to see 
| [Tuesday 13 July 2010] [14:22:30] <sd88g93> just a look on the mailing list shows a lot of progress,  in the mail archives
| [Tuesday 13 July 2010] [16:24:50] <sustrik> sd88g93, cremes: you DO have to call zmq_msg_init before zmq_recv
| [Tuesday 13 July 2010] [16:25:11] <sustrik> the point is that zmq_recv deallocates old content of the message
| [Tuesday 13 July 2010] [16:25:28] <sd88g93> yes, just found that out, but you dont have to before recv() , right ? 
| [Tuesday 13 July 2010] [16:25:38] <sustrik> if there are bogus data in zmq_msg_t the deallocation can result in undefined behaviour
| [Tuesday 13 July 2010] [16:26:01] <sustrik> there's no recv on 0mq sockets, just zmq_recv
| [Tuesday 13 July 2010] [16:26:17] <sd88g93> yeah, that's what i'm using
| [Tuesday 13 July 2010] [16:26:21] <sd88g93> i'm using c interface
| [Tuesday 13 July 2010] [16:26:31] <sustrik> then call zmq_init before zmq_recv
| [Tuesday 13 July 2010] [16:27:10] <sustrik> (if the zmq_msg_t is uninitialised)
| [Tuesday 13 July 2010] [16:48:46] <sd88g93> looks like if i make the pipe in the main server program with sockets XREP/XREQ and then in the individual threads as just REP , then i dont get the prepended socket id on the incoming pipe 
| [Tuesday 13 July 2010] [16:48:58] <sd88g93> and then regular REP socket in the client 
| [Tuesday 13 July 2010] [16:52:57] <cremes>  sustrik: noted; some of the examples put up on the blog are wrong then
| [Tuesday 13 July 2010] [16:53:36] <cremes>  sd88g93: that is correct; you only get the socket id when using the XREQ/XREP sockets; using REQ/REP will hide that detail
| [Tuesday 13 July 2010] [16:54:55] <sustrik> cremes: which one?
| [Tuesday 13 July 2010] [16:56:53] <cremes>  sustrik: http://www.zeromq.org/blog:multithreaded-server
| [Tuesday 13 July 2010] [16:56:58] <cremes>  perhaps others
| [Tuesday 13 July 2010] [16:59:17] <cremes>  nevermind; it's using the c++ wrapper so a call to zmq::message_t reply is calling one of the constructors
| [Tuesday 13 July 2010] [16:59:26] <cremes>  which calls zmq_msg_init behind the scenes
| [Tuesday 13 July 2010] [17:00:38] <sustrik> yes
| [Tuesday 13 July 2010] [17:51:17] <speedy1> i have one small coding issue regarding 0mq - any devs around, perhaps?
| [Tuesday 13 July 2010] [18:28:34] <cremes>  speedy1: irc etiquette says to just ask the question and stay in the channel to see if anyone can answer
| [Tuesday 13 July 2010] [18:28:43] <cremes>  so ask
| [Tuesday 13 July 2010] [18:42:09] <speedy1> cremes: sorry about that - i have a deadlock on waiting for the 0mq worker thread to exit
| [Tuesday 13 July 2010] [18:43:01] <cremes>  what do you mean deadlock? are you blocked on a socket send or receive?
| [Tuesday 13 July 2010] [18:43:02] <speedy1> basically zmq_term(zmq_context) waits on WaitForSingleObject(descriptor, INFINITY), indefinately
| [Tuesday 13 July 2010] [18:43:30] <cremes>  is that windows?
| [Tuesday 13 July 2010] [18:43:38] <speedy1> yep
| [Tuesday 13 July 2010] [18:43:53] <speedy1> 0mq integrated inside Autodesk 3D Studio MAX :)
| [Tuesday 13 July 2010] [18:44:05] <cremes>  sounds like it might be a bug; i do know that the semantics of zmq_term are changing in the next release
| [Tuesday 13 July 2010] [18:44:08] <speedy1> (it's a MAX plug-in, actually) 
| [Tuesday 13 July 2010] [18:44:27] <cremes>  if you are using 2.0.7 it should unblock any blocked sockets with ETERM, i believe
| [Tuesday 13 July 2010] [18:44:33] <speedy1> eh? in which way?
| [Tuesday 13 July 2010] [18:44:56] <speedy1> yep 2.0.7
| [Tuesday 13 July 2010] [18:44:59] <cremes>  take a look at the ML archives for the past 5 days or so; lots of discussion on what to do with zmq_term and related issues
| [Tuesday 13 July 2010] [18:45:14] <cremes>  i don't know that a decision has been reached yet
| [Tuesday 13 July 2010] [18:45:24] <cremes>  but for now, zmq_term should interrupt those sockets and terminate
| [Tuesday 13 July 2010] [18:45:43] <cremes>  if it isn't, i would file a bug report
| [Tuesday 13 July 2010] [18:45:52] <speedy1> mm.. and the behaviour in 2.0.7 is?
| [Tuesday 13 July 2010] [18:46:00] <speedy1> does it interrupt? or just stalls?
| [Tuesday 13 July 2010] [18:46:04] <cremes>  interrupt
| [Tuesday 13 July 2010] [18:46:16] <speedy1> (btw. i'm closing all the sockets before calling zmq_term)
| [Tuesday 13 July 2010] [18:46:46] <cremes>  see the docs here:  http://api.zeromq.org/zmq_term.html
| [Tuesday 13 July 2010] [18:47:03] <cremes>  wait, you don't have any open sockets when you call it?
| [Tuesday 13 July 2010] [18:48:00] <speedy1> i think so - i close the only socket I have open..
| [Tuesday 13 July 2010] [18:48:09] <speedy1> before calling zmq_term()
| [Tuesday 13 July 2010] [18:48:16] <speedy1> i have to check the return code, though
| [Tuesday 13 July 2010] [18:48:20] <cremes>  regardless, it shouldn't be blocking on anything
| [Tuesday 13 July 2010] [18:48:39] <cremes>  have you tried reducing this to a simple code example?
| [Tuesday 13 July 2010] [18:48:44] <speedy1> it's like the worker thread does not exit when it should
| [Tuesday 13 July 2010] [18:49:14] <cremes>  it sounds like you have a lot going on with your code; this might not be a 0mq issue
| [Tuesday 13 July 2010] [18:49:38] <speedy1> yep, it's part of a big app (3D Studio MAX is one big beast)
| [Tuesday 13 July 2010] [18:49:46] <cremes>  i highly suggest eliminating all extraneous logic and writing a small code example that opens a socket, does something with it, closes it and terminates
| [Tuesday 13 July 2010] [18:49:53] <cremes>  if that hangs, then there is a library problem
| [Tuesday 13 July 2010] [18:49:54] <cremes>  i
| [Tuesday 13 July 2010] [18:50:12] <cremes>  if it doesn't, then there might be a problem elsewhere; time to divide and conquer
| [Tuesday 13 July 2010] [18:50:22] <speedy1> i'll try it.. it could be some kind of interaction between MAX and 0mq
| [Tuesday 13 July 2010] [18:50:27] <cremes>  sure
| [Tuesday 13 July 2010] [18:51:10] <speedy1> in windows, compared to unix / linux, many things can go haywire inside the process
| [Tuesday 13 July 2010] [18:51:55] <speedy1> do you perhaps know where in the code does the worker thread get signaled to quit?
| [Tuesday 13 July 2010] [18:52:22] <speedy1> and where does it decide to quit?
| [Tuesday 13 July 2010] [18:52:34] <cremes>  i do not know
| [Tuesday 13 July 2010] [18:52:36] <speedy1> i could start singlestepping in the debugger from those points..
| [Tuesday 13 July 2010] [18:53:04] <cremes>  save yourself a ton of trouble and try reducing the error to a simpler test case
| [Tuesday 13 July 2010] [18:53:20] <cremes>  unless you love single-stepping with your debugger ;)
| [Tuesday 13 July 2010] [18:53:56] <cremes>  gotta run to the store; brb
| [Tuesday 13 July 2010] [18:54:05] <speedy1> kk, thanks! :)
| [Tuesday 13 July 2010] [19:11:33] <locks>   hi, can anyone help me with installing the ruby gem?
| [Tuesday 13 July 2010] [19:11:45] <locks>   extconf can't find the zmq libs
| [Tuesday 13 July 2010] [19:11:51] <locks>   I'm on OSX
| [Tuesday 13 July 2010] [20:00:01] <cremes>  locks: i think there is a --path-to-libzmq option you need to use
| [Tuesday 13 July 2010] [20:00:09] <cremes>  alternately, use the ffi bindings for ruby
| [Tuesday 13 July 2010] [20:00:40] <locks>   I've tried pointing to /usr/local/lib which is where zmq should be, but it won't find it still
| [Tuesday 13 July 2010] [20:00:48] <locks>   yeah, the ffi bindings installed ok
| [Wednesday 14 July 2010] [14:43:59] <shanewholloway>    I had a devil of a time building an OSX Universal binary for ZeroMQ from git sources last night -- does anyone have a guide?  Or a installable .pkg?  ;)
| [Wednesday 14 July 2010] [15:24:04] <sustrik>   try asking on the mailing list, there are more people there
| [Wednesday 14 July 2010] [15:38:45] <shanewholloway>    thanks sustrik
| [Wednesday 14 July 2010] [17:29:37] <jras>  Hi!  For securing 0mq, I've seen vpn tunnels mentioned or payload encryption.  Is anyone using other options? Perhaps openssl or similar?
| [Wednesday 14 July 2010] [18:19:53] <sd88g93>   Hello.  another problem here:  i have a situation where various threads are publishing messages for a subscriber thread in another process. This works fine for the number of threads i have running, i can see threads 0, 1, 2, 3 and 4 each sending off a published message.  However, when it cycles around again to the starting thread, at 0,  suddenly, the subscriber thread in the other process wont recieve any messages.  The published messa
| [Wednesday 14 July 2010] [18:19:53] <sd88g93>   ges are being published through one global socket that the threads have access to through a mutex.  any ideas ? 
| [Wednesday 14 July 2010] [18:24:24] <mikko> jras: what do you mean?
| [Wednesday 14 July 2010] [18:24:30] <mikko> jras: i guess you could use stunnel
| [Wednesday 14 July 2010] [18:34:52] <sd88g93>   here's the code: http://pastebin.com/DC3a4qcW
| [Wednesday 14 July 2010] [18:35:28] <sd88g93>   there's "publisher code" at the top and "subscriber code"  about half way down
| [Wednesday 14 July 2010] [18:44:16] <jras>  mikko: Maybe stunnel might work. I'll think about it. 
| [Wednesday 14 July 2010] [18:44:35] <jras>  mikko: I was thinking along the lines of an ssl: or tls: transport (even though the faq notes it isn't include). Since I have adhoc connections I cannot ensure a VPN's are installed and setup.  So I must bundle any securing mechanism.
| [Wednesday 14 July 2010] [18:46:54] <jras>  mikko: I am open to being to the idea that payload level encryption is acceptable.  I was curious what other people were doing.
| [Wednesday 14 July 2010] [18:48:00] <jras>  mikko: s/to being//  Typing too fast for my own good. :)
| [Wednesday 14 July 2010] [18:57:23] <mikko> jras: there is no built in encryption
| [Wednesday 14 July 2010] [18:57:33] <mikko> jras: it's a very tricky problem to solve and comes up often
| [Wednesday 14 July 2010] [18:58:26] <mikko> there are some tricky questions like if you use a forwarder device should that device be trusted?
| [Wednesday 14 July 2010] [21:05:52] <sd88g93>   in what circumstances is it appropriate to have more than one context ?  i.e.  passing a value greater than 1 into zmq_init( )  
| [Wednesday 14 July 2010] [22:09:25] <cremes>    sd88g93: if you are producing under 1 Gb/sec, there is no reason for multiple i/o threads
| [Wednesday 14 July 2010] [22:09:55] <sd88g93>   oh ok 
| [Wednesday 14 July 2010] [22:10:18] <sd88g93>   do you know of a scenario when they are useful ?  just when over 1 gb/sec ?
| [Thursday 15 July 2010] [00:30:22] <ditou>  Is it possible to have multiple publishers connected to the same endpoint in PUB/SUB scheme?
| [Thursday 15 July 2010] [00:30:32] <ditou>  I bind a first publisher then connect another and the connect two subscribers.
| [Thursday 15 July 2010] [00:30:38] <ditou>  Then I use second publisher to send message. I'm neither receiving any messages nor getting any errors. 
| [Thursday 15 July 2010] [00:31:17] <ditou>  Any ideas?
| [Thursday 15 July 2010] [00:32:08] <ditou>  ...using C API.
| [Thursday 15 July 2010] [02:46:24] <mikko>  ditou: no, not directly
| [Thursday 15 July 2010] [03:31:50] <parsu>  Hi, with pyzmq I am trying to use multiple zmq contexts in same application. It crashes when it tries to creates second context. the zmq api doc says we can create multiple contexts in 1 application. Is multiple context thing put in later release? I am using zeromq version 2.0.7. Or I am missing on something.
| [Thursday 15 July 2010] [03:33:16] <sustrik>    it shouldn't crash
| [Thursday 15 July 2010] [03:33:34] <sustrik>    still, there should be no point is using multiple contexts
| [Thursday 15 July 2010] [03:33:48] <sustrik>    how does it crash?
| [Thursday 15 July 2010] [03:36:06] <parsu>  wait I will provide sample code and crahs details
| [Thursday 15 July 2010] [03:54:28] <parsu>  hi
| [Thursday 15 July 2010] [03:54:31] <parsu>  this is sample code
| [Thursday 15 July 2010] [03:54:37] <parsu>  import zmq from threading import Thread   class Ser(Thread):     def __init__(self, url):         Thread.__init__(self)         self.ctx = zmq.Context(1)         self.sock = self.ctx.socket(zmq.REP)         self.url=url         self.sock.bind(url)      def run(self):         while True:             print 'watiting for read on: %s ' % self.url             msg = self.sock.recv()             print msg             self.sock.send(self.url)
| [Thursday 15 July 2010] [03:54:43] <parsu>  ohh sorry
| [Thursday 15 July 2010] [03:54:54] <parsu>  import zmq
| [Thursday 15 July 2010] [03:55:00] <parsu>  from threading import Thread
| [Thursday 15 July 2010] [03:55:58] <parsu>  should I copy pase code here?
| [Thursday 15 July 2010] [03:56:09] <parsu>  or send you somewhere?
| [Thursday 15 July 2010] [03:56:35] <parsu>  this is the error printed before crash
| [Thursday 15 July 2010] [03:56:37] <parsu>  Assertion failed: !pgm_supported () (zmq.cpp:239)
| [Thursday 15 July 2010] [03:58:37] <sustrik>    aha, that's the problem with OpenPGM library
| [Thursday 15 July 2010] [03:58:43] <sustrik>    it cannot be initialised twice
| [Thursday 15 July 2010] [03:59:02] <sustrik>    thus, when compiling with --with-pgm, you cannot open two contexts
| [Thursday 15 July 2010] [03:59:22] <sustrik>    this have been fixed in new version of OpenPGM but these were not yet merged into 0mq
| [Thursday 15 July 2010] [03:59:33] <sustrik>    anyway, you shouldn't open two contexts
| [Thursday 15 July 2010] [03:59:38] <sustrik>    why are you doing that?
| [Thursday 15 July 2010] [04:00:15] <parsu>  actually this is sample code
| [Thursday 15 July 2010] [04:00:23] <parsu>  I am calling some other libs
| [Thursday 15 July 2010] [04:00:27] <parsu>  using ctypes
| [Thursday 15 July 2010] [04:00:37] <parsu>  which uses zmq there
| [Thursday 15 July 2010] [04:00:44] <parsu>  so we cant share the contexts
| [Thursday 15 July 2010] [04:01:08] <parsu>  thats where we have stuck
| [Thursday 15 July 2010] [04:01:11] <sustrik>    i see
| [Thursday 15 July 2010] [04:01:16] <sustrik>    do you need PGM?
| [Thursday 15 July 2010] [04:01:16] <parsu>  so if I ermove --with-pgm
| [Thursday 15 July 2010] [04:01:20] <parsu>  it should work ?
| [Thursday 15 July 2010] [04:01:22] <sustrik>    yes
| [Thursday 15 July 2010] [04:01:23] <parsu>  nopes 
| [Thursday 15 July 2010] [04:01:25] <parsu>  cool
| [Thursday 15 July 2010] [04:01:28] <parsu>  I will do that
| [Thursday 15 July 2010] [04:02:00] <parsu>  Also can you tell me what is impact of no, of io threas we pass to zmq_init
| [Thursday 15 July 2010] [04:02:26] <sustrik>    in most cases use 1
| [Thursday 15 July 2010] [04:02:39] <parsu>  one of our eng. said he got crashes when he used more than 1
| [Thursday 15 July 2010] [04:02:42] <parsu>  ohh ok
| [Thursday 15 July 2010] [04:02:50] <sustrik>    more I/O threads may be useful if there's a lot of connections involved
| [Thursday 15 July 2010] [04:02:56] <sustrik>    hundreds, thousands
| [Thursday 15 July 2010] [04:03:05] <parsu>  ohk 
| [Thursday 15 July 2010] [04:03:08] <parsu>  great
| [Thursday 15 July 2010] [04:03:13] <parsu>  I got my answers 
| [Thursday 15 July 2010] [04:03:15] <parsu>  thanks a lot
| [Thursday 15 July 2010] [04:03:18] <sustrik>    parsu: if you get crashes, please do report it
| [Thursday 15 July 2010] [04:03:23] <sustrik>    otherwise it won't get fixed
| [Thursday 15 July 2010] [04:03:23] <parsu>  yups
| [Thursday 15 July 2010] [04:03:28] <parsu>  sure
| [Thursday 15 July 2010] [04:03:34] <parsu>  I will ask him to give me core
| [Thursday 15 July 2010] [04:03:37] <parsu>  I will pass it to you
| [Thursday 15 July 2010] [04:03:41] <sustrik>    thx
| [Thursday 15 July 2010] [04:03:41] <parsu>  thanks a lot :)
| [Thursday 15 July 2010] [04:04:02] <sustrik>    you are welcome
| [Thursday 15 July 2010] [04:46:07] <parsu>  <sustrik> thus, when compiling with --with-pgm, you cannot open two contexts [13:28] <sustrik> this have been fixed in new version of OpenPGM but these were not yet merged into 0mq
| [Thursday 15 July 2010] [04:46:28] <parsu>  Do we have any plans to merge in 0mq?
| [Thursday 15 July 2010] [05:02:34] <sustrik>    yes, eventually
| [Thursday 15 July 2010] [05:04:40] <parsu>  any estimated date?
| [Thursday 15 July 2010] [06:55:41] <sustrik>    parsu: not really
| [Thursday 15 July 2010] [06:55:45] <sustrik>    do you need it?
| [Thursday 15 July 2010] [07:17:30] <parsu>  yaa
| [Thursday 15 July 2010] [07:28:06] <sustrik>    parsu: try asking about the openpgm integration roadmap on the mailing list then
| [Thursday 15 July 2010] [07:33:26] <parsu>  ohk 
| [Thursday 15 July 2010] [07:33:29] <parsu>  thanks a lot
| [Thursday 15 July 2010] [07:33:43] <parsu>  for now this is ok, we can use tcp fanout instead
| [Thursday 15 July 2010] [07:33:55] <parsu>  but ya we will need it later
| [Thursday 15 July 2010] [07:34:01] <parsu>  thank bye
| [Thursday 15 July 2010] [07:58:06] <jugg>   hmm, maybe I have erlang bindings working with zeromq finally...
| [Thursday 15 July 2010] [13:06:18] <sd88g93>    hello.  ok, i simplified my problem down to a simple case program, and managed to replicate the same error i am getting.  here is the code: http://pastebin.com/uk57UAB9
| [Thursday 15 July 2010] [13:06:58] <sd88g93>    basically, the subscriber recieves the first of the published messages from the publisher process,  but none of the following ones . 
| [Thursday 15 July 2010] [13:08:26] <sd88g93>    It is a pretty simple case,  nothing fancy.
| [Thursday 15 July 2010] [13:35:47] <sustrik>    sd88g93: are use using single socket from multiple threads?
| [Thursday 15 July 2010] [13:36:11] <sd88g93>    sustrik:  yes,  but this example uses just 1 thread.
| [Thursday 15 July 2010] [13:36:58] <sd88g93>    its a publisher socket, so its a global variable accessed by a mutex 
| [Thursday 15 July 2010] [13:37:04] <sustrik>    never use single socket from multiple threads
| [Thursday 15 July 2010] [13:37:18] <sustrik>    but if it fails even when accessed from a single thread, then it's a bug
| [Thursday 15 July 2010] [13:37:23] <sustrik>    i'll have a look
| [Thursday 15 July 2010] [13:37:36] <sd88g93>    even if its a publisher socket ? 
| [Thursday 15 July 2010] [13:39:10] <sd88g93>    do you have any other suggestions as far as publishing message to one publisher socket,  from multiple threads ?    the ZMQ_FORWARDER device , or the QUEUE device doesnt seem to work for  publish sockets 
| [Thursday 15 July 2010] [13:43:03] <sustrik>    ZMQ_FORWARDER should
| [Thursday 15 July 2010] [13:43:24] <sd88g93>    it doesnt seem to like multiple pipes conneting to one pub socket 
| [Thursday 15 July 2010] [13:43:36] <sustrik>    ?
| [Thursday 15 July 2010] [13:43:41] <sustrik>    do you have the code?
| [Thursday 15 July 2010] [13:43:53] <sd88g93>    yes, in the pastebin 
| [Thursday 15 July 2010] [13:44:16] <sustrik>    i mean the one with forwarder device?
| [Thursday 15 July 2010] [13:44:26] <sd88g93>    not using the forwarder device, i'll have to alter that code  to try to use the forwarder then 
| [Thursday 15 July 2010] [13:44:39] <sd88g93>    i have it  but its not a simple case 
| [Thursday 15 July 2010] [13:44:49] <sustrik>    just paste it
| [Thursday 15 July 2010] [13:45:02] <sustrik>    if it doesn't work there's a bug somewhere
| [Thursday 15 July 2010] [13:45:50] <sd88g93>    yeah,  i think the existing code uses the method in the pastebin right now,  i'll alter the example and see if i can get it to work wit the forwarder device, and then paste that 
| [Thursday 15 July 2010] [13:46:00] <sd88g93>    it'll just take awhile 
| [Thursday 15 July 2010] [13:46:38] <sd88g93>    actually, that code in the pastebin uses 2 threads, the main thread opens the socket, and the thread publishes to the socket,  i guess that counts as 2 then 
| [Thursday 15 July 2010] [13:46:52] <sd88g93>    i mean, just one thread to do the publishing
| [Thursday 15 July 2010] [13:57:48] <sustrik>    you cannot migrate sockets between threads
| [Thursday 15 July 2010] [13:57:57] <sustrik>    anyway, try with forwarder device and paste it
| [Thursday 15 July 2010] [14:15:17] <sd88g93>    sustrik:  here's the code with the forwarder device: http://pastebin.com/gZJjYCky
| [Thursday 15 July 2010] [14:15:59] <sd88g93>    it creates the first thread,  but the other threads cannot bind to it.  It continues to publish messages with that one thread, but the subscriber doesnt recive it.
| [Thursday 15 July 2010] [14:48:56] <sd88g93>    ok, also tried binding both ends in the main thread and then calling connect() in the worker threads,  same result. 
| [Thursday 15 July 2010] [17:13:37] <sd88g93>    i think i found a real bug in the forwarding device
| [Thursday 15 July 2010] [17:13:59] <sd88g93>    here's the code that replicates the issue: http://pastebin.com/gZJjYCky
| [Thursday 15 July 2010] [18:40:36] <veritos>    In tcp_socket.cpp:213 of 2.0.7, ECONNRESET and ECONNREFUSED are handled, but not ETIMEDOUT. Timeouts thus cause the assertion failure a couple lines down. Doesn't this seem a bit harsh when just adding the test for ETIMEDOUT is so easy?
| [Thursday 15 July 2010] [18:45:56] <veritos>    Oh, hey, it's fixed in git :)
| [Thursday 15 July 2010] [18:48:55] <sd88g93>    ok, this problem appears not to be confined to just the forwarder device, but publishing in general. when i publish a series of messages, only the first one gets through, the second one is all jumbled, i reproduced the code in simple form here: http://pastebin.com/SrmAz2V2
| [Thursday 15 July 2010] [18:59:31] <sd88g93>    ohhhh ok,  you have to re init the msg and close each time you send,  i was calling zmq_msg_init_data  once and just changing the variables 
| [Thursday 15 July 2010] [20:24:34] <sd88g93>    ok, fixed one problem, but still doesnt work with the forwarder and the threading: http://pastebin.com/7wB68Hjy
| [Thursday 15 July 2010] [20:24:50] <sd88g93>    even just one thread 
| [Thursday 15 July 2010] [22:05:51] <fruminator> hey all, I sent a post to the mailing list but I don't see it in the archives.  did it get through?
| [Thursday 15 July 2010] [22:09:34] <sd88g93>    just got it , frum 
| [Thursday 15 July 2010] [22:09:56] <sd88g93>    i'm having a similar problem, but i'm using the forwarder programmatically , the zmq_device() function 
| [Thursday 15 July 2010] [22:11:18] <sd88g93>    fruminator: in my case, i'm trying to publish a messsage from multiple threads at one socket point, using inproc communication,  i can only get it to work when i dispense with the forwarder device and use it in one thread
| [Thursday 15 July 2010] [22:11:40] <sd88g93>    i have the forwarder device to forward from each thread to the main socket in the main thread 
| [Thursday 15 July 2010] [22:12:08] <sd88g93>    there's not much documentation on the forwarder, 
| [Thursday 15 July 2010] [22:13:17] <sd88g93>    http://pastebin.com/7wB68Hjy
| [Thursday 15 July 2010] [22:14:36] <sd88g93>    fruminator:  did you try using "tcp://lo:5555"  instead of 127.0.0.1 ? 
| [Thursday 15 July 2010] [22:16:34] <fruminator> I will try that.   I have to use the forwarder because this is between 2 totally different systems
| [Thursday 15 July 2010] [22:18:00] <sd88g93>    all it is is an infinite loop that recieves at one end and sends on the other 
| [Thursday 15 July 2010] [22:18:08] <fruminator> dont follow
| [Thursday 15 July 2010] [22:18:18] <sd88g93>    ok lol
| [Thursday 15 July 2010] [22:18:21] <fruminator> what is?
| [Thursday 15 July 2010] [22:20:21] <sd88g93>    actually, i can get it to work if i keep it to one thread doing the publishing,   I will probably have to code my own queuer , to queue the messages up before publishing
| [Thursday 15 July 2010] [22:20:54] <fruminator> seems like a different use case than I'm facing.
| [Thursday 15 July 2010] [22:21:13] <fruminator> the out of the box behavior is perfect for me; I  just need it to work offline
| [Thursday 15 July 2010] [22:21:31] <sd88g93>    oh ok 
| [Thursday 15 July 2010] [22:23:46] <fruminator> gotta go for now, hope to see some replies on my email.  thanks!
| 
| *** Logfile started
| *** on Thu Jul 15 23:52:38 2010
| 
| [Friday 16 July 2010] [01:27:40] <ak47_>    I'm having a bit of a problem with ZMQ_RCVMORE
| [Friday 16 July 2010] [04:51:10] <jugg> sustrik: it looks like you've removed issue support on your zeromq2 github page.  How would you like patches submitted to you?
| [Friday 16 July 2010] [04:53:06] <jugg> anyway, here is a patch that adds ZMQ_EVENTS to zmq_getsockopt() -> http://paste2.org/p/916561
| [Friday 16 July 2010] [04:58:33] <feroz>    Hello ! 
| [Friday 16 July 2010] [05:00:48] <jugg> sustrik: in any case with your latest code base zmq_term never returns.
| [Friday 16 July 2010] [05:03:08] <feroz>    I'm reading some docs about 0mq, and looking into the Pub/Sub pattern. From examples i see, web subscribing to a channel, you only match against the begining of a string, is there anyway to do more ? 
| [Friday 16 July 2010] [05:08:29] <guido_g>  feroz: no
| [Friday 16 July 2010] [05:14:16] <feroz>    Okay, do you think it would be easy to extend that from actual source code?
| [Friday 16 July 2010] [05:15:02] <guido_g>  you mean as a patch to MQ itself?
| [Friday 16 July 2010] [05:26:44] <jugg> feroz: what "more" do you want to do?
| [Friday 16 July 2010] [06:10:06] <feroz>    Im thinking of serializing objects and send them thought Pub/Sub
| [Friday 16 July 2010] [06:10:18] <feroz>    So it could be nice if i could filter against some attribute
| [Friday 16 July 2010] [06:14:09] <jugg> just filter it yourself, post recv() then.
| [Friday 16 July 2010] [06:15:54] <jugg> I suppose the subscription interface could be modified to be able to register a callback for custom publication filtering, but in your case the entire message content would have to be passed along so it could be unserialized, at which point you've gained nothing.
| [Friday 16 July 2010] [06:18:26] <feroz>    Okay, thanks ! 
| [Friday 16 July 2010] [06:49:26] <sustrik>  jugg: yes, I am aware of that
| [Friday 16 July 2010] [06:49:55] <sustrik>  sustrik/zeromq2 happens to have shutdown broken
| [Friday 16 July 2010] [06:50:46] <jugg> ok
| [Friday 16 July 2010] [06:52:06] <sustrik>  jugg: what was that about the erlang binding?
| [Friday 16 July 2010] [06:54:28] <jugg> Well, I have it compiling, and it can send data, but when I receive that data in a non-erlang app, it appears to be corrupted.
| [Friday 16 July 2010] [06:54:41] <jugg> I have not yet been able to get the erlang recv functionality to work either.
| [Friday 16 July 2010] [06:54:52] <jugg> it just blocks
| [Friday 16 July 2010] [06:55:40] <sustrik>  i see
| [Friday 16 July 2010] [06:57:01] <jugg> not sure if it is interesting or not, but the general term() blocking issue can be reproduced with (lua code): http://paste2.org/p/916658   - remove the connect line: no issue, change REQ to REP: no issue, change connect to bind: no issue.
| [Friday 16 July 2010] [06:58:05] <jugg> however, if I have both a REQ and a REP and the send/recv to each other just one, both will lock on term()
| [Friday 16 July 2010] [06:58:34] <jugg> s/just one/just once/
| [Friday 16 July 2010] [07:03:59] <sustrik>  jugg: yes, the term code got broken during work on socket migration between threads
| [Friday 16 July 2010] [07:04:03] <sustrik>  i have to fix it
| [Friday 16 July 2010] [07:05:34] <jugg> yah.  I'm just trying to reduce the known problems while debugging this erlang binding and ran across that termination issue while testing outside of erlang.
| [Friday 16 July 2010] [07:07:23] <jugg> I realize these issues are from your socket migration work - so just fyi in case you hadn't noticed it yet.  Are there any other major issues you've found from the migration work?
| [Friday 16 July 2010] [07:19:36] <sustrik>  no, i don't think so
| [Friday 16 July 2010] [07:19:48] <sustrik>  shutdown is the only problem i am aware of
| [Friday 16 July 2010] [07:22:02] <jugg> sustrik: on the erlang bindings, I'm not getting this ZMQ_FD thing.  It get the fd, when it signals, I can use ZMQ_EVENTS, however from my reading of has_in/out, those won't return true until socket's process_commands() is called - in which case, it would seem a mechanism is needed to call that.
| [Friday 16 July 2010] [07:26:10] <jugg> s/It get the fd/I get the fd and wait on it/
| [Friday 16 July 2010] [07:32:40] <sustrik>  jugg: it can be called from getsockopt IMO
| [Friday 16 July 2010] [07:32:51] <sustrik>  ZMQ_EVENTS
| [Friday 16 July 2010] [07:33:18] <jugg> Is that correct that it needs to be called then?
| [Friday 16 July 2010] [07:34:33] <sustrik>  yes
| [Friday 16 July 2010] [07:34:56] <sustrik>  process_commands gets the socket state up to date
| [Friday 16 July 2010] [07:35:22] <sustrik>  if it is not called, getsockopt would report some historical state
| [Friday 16 July 2010] [07:38:55] <jugg> yay, that fixed the bindings.
| [Friday 16 July 2010] [07:39:18] <jugg> Now to figure out why sending messages external to erlang appears to corrupt them.
| [Friday 16 July 2010] [07:41:04] <jugg> sustrik: here is an updated ZMQ_EVENTS then -> http://paste2.org/p/916697
| [Friday 16 July 2010] [07:43:17] <jugg> sustrik: what happens if pending events are not handled, and the fd is waited upon again?
| [Friday 16 July 2010] [07:45:56] <sustrik>  it'll return immediately
| [Friday 16 July 2010] [07:48:42] <sustrik>  jugg: your patch looks ok
| [Friday 16 July 2010] [07:48:51] <sustrik>  would you like to contribute it?
| [Friday 16 July 2010] [07:50:13] <jugg> It was originally written by either Dhammika or Serge who wrote the bindings...  I only moved it to socket_base and cleaned it up...
| [Friday 16 July 2010] [07:51:59] <jugg> hmm, actually looking at their original code, I've fairly well redone it... so yes, I'll contribute it.
| [Friday 16 July 2010] [07:52:10] <sustrik>  thanks
| [Friday 16 July 2010] [07:52:28] <sustrik>  can you send the patch to the mailing list saying it's submitted under MIT license?
| [Friday 16 July 2010] [07:52:36] <jugg> ok
| [Friday 16 July 2010] [07:58:18] <feroz>    hey, is there any paper explaining how pub/sub was implemented in zeromq?
| [Friday 16 July 2010] [08:00:25] <Lazesharp>    hi guys, are there any docs/articles on streamer devices?
| [Friday 16 July 2010] [08:00:35] <jugg> feroz: not sure exactly what you mean, but: http://api.zeromq.org/zmq_socket.html#_publish_subscribe_pattern
| [Friday 16 July 2010] [08:01:24] <feroz>    Thanks jugg
| [Friday 16 July 2010] [08:05:21] <sustrik>  Lazesharp: there's none
| [Friday 16 July 2010] [08:05:21] <jugg> sustrik: Would you like ZMQ_EVENTS to be stubbed out in the doc/zmq_getsockopt.txt file with this patch as well, or keep doc update in a separate patch?
| [Friday 16 July 2010] [08:05:53] <sustrik>  but it's pretty obvious
| [Friday 16 July 2010] [08:06:13] <sustrik>  it gets messages from an UPSTREAM sockets and passes them to a DOWNSTREAM socket
| [Friday 16 July 2010] [08:06:35] <sustrik>  jugg: single patch
| [Friday 16 July 2010] [08:07:09] <Lazesharp>    sustrik: any queuing if there are no downstream sockets connected?
| [Friday 16 July 2010] [08:07:15] <Lazesharp>    or are messages just discarded
| [Friday 16 July 2010] [08:08:14] <Lazesharp>    actually, these are just building blocks - there's nothing stopping me writing my own "queueing streamer" is there
| [Friday 16 July 2010] [08:11:17] <sustrik>  yes, it queues messages
| [Friday 16 July 2010] [08:12:44] <Lazesharp>    oh right, awesome
| [Friday 16 July 2010] [08:13:13] <jugg> sustrik: is the document line wrap at 78 chars?
| [Friday 16 July 2010] [08:23:06] <jugg> sustrik: this is the text I came up with.  Sufficient for the patch?  http://paste2.org/p/916725
| [Friday 16 July 2010] [08:24:48] <sustrik>  80 chars
| [Friday 16 July 2010] [08:26:58] <jugg> it should probably mention some relation to ZMQ_FD... but that isn't documented yet.
| [Friday 16 July 2010] [08:27:08] <sustrik>  i'll do that
| [Friday 16 July 2010] [08:27:25] <sustrik>  there's an in parameter to getsockopt (ZMQ_EVENTS)
| [Friday 16 July 2010] [08:27:27] <sustrik>  ?
| [Friday 16 July 2010] [08:27:34] <sustrik>  that's kind of strange
| [Friday 16 July 2010] [08:28:06] <sustrik>  i would say it should check both IN & OUT
| [Friday 16 July 2010] [08:28:57] <jugg> oh?
| [Friday 16 July 2010] [08:29:19] <sustrik>  once the events were processed (process_commands), actual has_in & has_out are pretty lightweight, so there's no real performance penalty
| [Friday 16 July 2010] [08:30:15] <sustrik>  it just seems wrong the getsockopt would accept an in parameter
| [Friday 16 July 2010] [08:31:50] <jugg> ok, it was a carry over from how it was being used in the erlang binding.  I can change the binding's use of it of course.
| [Friday 16 July 2010] [08:32:02] <jugg> I'll update the patch then.
| [Friday 16 July 2010] [08:33:57] <sustrik>  thx
| [Friday 16 July 2010] [08:35:52] <jugg> ok, this is what I have now: http://paste2.org/p/916737
| [Friday 16 July 2010] [08:42:17] <sustrik>  nice & simple 
| [Friday 16 July 2010] [08:42:39] <sustrik>  post it to the ml and I'll patch the codebase
| [Friday 16 July 2010] [08:43:48] <jugg> sent
| [Friday 16 July 2010] [08:45:33] <sustrik>  thx
| [Friday 16 July 2010] [10:19:07] <jugg> meh, these erlang bindings are worthless for sending messages with a non erlang application.   The bindings packs the data so that the receiving end must also be an erlang application to unpack them.
| [Friday 16 July 2010] [10:20:05] <jugg> what point was it to ever create these bindings except for the use case of interacting with a non erlang application?!
| [Friday 16 July 2010] [12:49:34] <erickt>   good morning #zeromq. question about up/downstreaming sockets. I was playing around with my own version of the butterfly example, and I found that when I killed one of the parallel workers, the other workers didn't pick up the leftover work. Is there a common pattern for dealing with problems like this?
| [Friday 16 July 2010] [12:54:18] <dirtmcgirt>   i've got a PUB sending at a fast rate over a IPC socket, but messages aren't returned by zmq_recv in the SUB until the PUB process exits
| [Friday 16 July 2010] [13:03:29] <sustrik>  dirtmcgirt: do you have a test program?
| [Friday 16 July 2010] [13:03:51] <dirtmcgirt>   sustrik: i'll see if i can write one up
| [Friday 16 July 2010] [13:04:13] <sustrik>  good, please report the issue using the bug tracker then
| [Friday 16 July 2010] [13:04:16] <dirtmcgirt>   noticed it in production last night - the memory on the SUB process swelled, but zmq_recv didn't deliver
| [Friday 16 July 2010] [13:04:28] <dirtmcgirt>   is this something that's been seen, or new?
| [Friday 16 July 2010] [13:04:43] <sustrik>  no, i haven't seen that yet
| [Friday 16 July 2010] [13:04:54] <cremes>   erickt: just a guess, but i think the upstream socket you killed had a bunch of "work" messages queued up
| [Friday 16 July 2010] [13:05:23] <erickt>   yeah, that's what I was thinking
| [Friday 16 July 2010] [13:05:29] <cremes>   erickt: you might want to set the HWM for the upstream socket to 1 so the downstream socket knows not to send it more work than it can handle before dying
| [Friday 16 July 2010] [13:05:43] <cremes>   or so you don't lose work msgs
| [Friday 16 July 2010] [13:06:00] <erickt>   oh that's a good idea
| [Friday 16 July 2010] [13:10:32] <erickt>   oh, but if the component had already started working, there's still a chance it could die halfway through processing that message. I guess in that case it'd make sense to have another socket to the upstream node to send back heartbeat status updates
| [Friday 16 July 2010] [13:10:42] <erickt>   or, just log the state in some database
| [Friday 16 July 2010] [14:36:11] <cremes>   erickt: agreed; PUB and DOWNSTREAM are fire-and-forget so if you need guaranteed delivery you need to build that on top
| [Friday 16 July 2010] [15:08:59] <erickt>   thanks cremes 
| [Friday 16 July 2010] [15:36:29] <cremes>   you are welcome
| [Friday 16 July 2010] [16:20:25] <erickt>   does zeromq support dns-sd yet? I've seen a couple emails mentioning using that for service discovery
| [Friday 16 July 2010] [16:20:46] <erickt>   support directly I mean, as opposed to doing the dns queries myself
| [Friday 16 July 2010] [16:35:55] <sustrik>  erickt: not yet
| [Friday 16 July 2010] [16:36:03] <sustrik>  it's a research issue
| [Friday 16 July 2010] [16:36:27] <erickt>   thanks again
| [Friday 16 July 2010] [17:39:54] <erickt>   I'm sorry to keep asking questions, but is there a public roadmap? Or if not, is there an estimated time when the failover for streaming or REP/REQ will be implemented?
| [Saturday 17 July 2010] [01:15:07] <ditou>  A quickie - do I need to close a message after zmq_send() ?
| [Saturday 17 July 2010] [01:17:26] <sustrik>    ditou: yes, you should
| [Saturday 17 July 2010] [01:17:27] <ditou>  I mean zmq_msg_init_data() -> zmq_send() -> zmq_msg_close() ?
| [Saturday 17 July 2010] [01:17:35] <ditou>  thanks
| [Saturday 17 July 2010] [01:17:37] <sustrik>    np
| [Saturday 17 July 2010] [02:25:15] <_klk_>  hi all
| [Saturday 17 July 2010] [02:26:09] <sustrik>    hi
| [Saturday 17 July 2010] [02:26:11] <_klk_>  is there a way for a flash application to connect to a zeromq server?
| [Saturday 17 July 2010] [02:26:37] <sustrik>    no idea, what languages does flash allow you to use?
| [Saturday 17 July 2010] [02:27:19] <guido_g>    action-script 3
| [Saturday 17 July 2010] [02:27:34] <sustrik>    dunno, try asking on the mailing list
| [Saturday 17 July 2010] [02:27:42] <guido_g>    you need to implement the wire-protocol yourself
| [Saturday 17 July 2010] [02:28:30] <sustrik>    no
| [Saturday 17 July 2010] [02:28:38] <sustrik>    you just have to wrap the library
| [Saturday 17 July 2010] [02:29:40] <guido_g>    you can't, a) it's running in the browser and b) the runtime doesn't allow that afair
| [Saturday 17 July 2010] [02:32:23] <guido_g>    re
| [Saturday 17 July 2010] [02:34:52] <_klk_>  guido_g:  what do you mean about the runtime doesn't allow it?
| [Saturday 17 July 2010] [02:36:09] <guido_g>    afaik the flash-runtime doesn't allow to access arbitrary libraries
| [Saturday 17 July 2010] [02:42:28] <_klk_>  sorry still not following, can you clarify what you mean by arbitrary libraries?
| [Saturday 17 July 2010] [02:42:49] <_klk_>  wouldn't all it needs to do be open a socket to the 0mq server and communicate using the wire protocol?
| [Saturday 17 July 2010] [02:43:43] <guido_g>    this is what i said first
| [Saturday 17 July 2010] [02:45:00] <_klk_>  ah ok
| [Saturday 17 July 2010] [02:45:02] <_klk_>  i got confused
| [Saturday 17 July 2010] [02:45:51] <guido_g>    the sustrik said that one needs to wrap the MQ lib, which is not possible from flash
| [Sunday 18 July 2010] [16:01:21] <showstopper>  hi
| [Sunday 18 July 2010] [16:01:37] <showstopper>  I would like to use 0mq for a little actor-library
| [Sunday 18 July 2010] [16:01:59] <showstopper>  I just have a little issue with the offered socket patterns
| [Sunday 18 July 2010] [16:02:21] <showstopper>  They all appear to be a little too... "synchronized"
| [Sunday 18 July 2010] [16:02:38] <mikko>    are you looking for fire-and-forget kinda solution?
| [Sunday 18 July 2010] [16:02:51] <showstopper>  If there's such
| [Sunday 18 July 2010] [16:03:07] <showstopper>  otherwise just looking for a hint into the right direction
| [Sunday 18 July 2010] [16:03:24] <showstopper>  (problem is the following: send -> recv -> send)
| [Sunday 18 July 2010] [16:03:36] <mikko>    you could use pub/sub
| [Sunday 18 July 2010] [16:03:40] <showstopper>  (what if i send 2 or 3 messages but just expecting one?)
| [Sunday 18 July 2010] [16:03:54] <showstopper>  Yes, but they aren't bi-directional
| [Sunday 18 July 2010] [16:04:09] <showstopper>  And i don't want to have 2 connections/sockets per actor
| [Sunday 18 July 2010] [16:04:15] <mikko>    you could use two sockets, i suppose
| [Sunday 18 July 2010] [16:05:08] <showstopper>  Is that the "official" way? I could imagine that my sort of problem is quite common
| [Sunday 18 July 2010] [16:05:54] <mikko>    are there multiple actors?
| [Sunday 18 July 2010] [16:06:12] <showstopper>  There will be, yes
| [Sunday 18 July 2010] [16:06:34] <showstopper>  I'm currently trying things out with the main + an extra spawned thread
| [Sunday 18 July 2010] [16:06:40] <mikko>    if i was implementing it i would probably use REQ/REP 
| [Sunday 18 July 2010] [16:06:44] <mikko>    and ACK each message
| [Sunday 18 July 2010] [16:07:02] <mikko>    if there is nothing to send back just ACK the message
| [Sunday 18 July 2010] [16:07:07] <mikko>    otherwise send something back
| [Sunday 18 July 2010] [16:07:14] <mikko>    or use multiple sockets 
| [Sunday 18 July 2010] [16:07:41] <mikko>    but you might have more luck asking later when more people are available
| [Sunday 18 July 2010] [16:08:43] <showstopper>  hm, i can't use the ACK because there's no server/client structure
| [Sunday 18 July 2010] [16:08:57] <showstopper>  each actor is actually both
| [Sunday 18 July 2010] [16:09:19] <showstopper>  I can't get around the two sockets then, i guess
| [Sunday 18 July 2010] [16:09:48] <mikko>    what does the library do?
| [Sunday 18 July 2010] [16:11:09] <showstopper>  As I said, it's an attempt to implement some sort of actor-model (http://en.wikipedia.org/wiki/Actor_model) for the ooc-language
| [Sunday 18 July 2010] [16:12:07] <showstopper>  At the moment i'm getting myself used to 0mq
| [Sunday 18 July 2010] [16:13:23] <showstopper>  I chose 0q because the actors should not just work locally but distributed in the network
| 
| *** Logfile started
| *** on Sun Jul 18 16:37:01 2010
| 
| [Sunday 18 July 2010] [19:14:53] <sbeaulois_>   hi 
| [Sunday 18 July 2010] [19:15:02] <sbeaulois_>   need help 
| [Sunday 18 July 2010] [19:16:32] <sbeaulois_>   java ZMQ : error on my subscriber class 
| [Sunday 18 July 2010] [19:16:34] <sbeaulois_>   Too many open files rc == 0 (signaler.cpp:237) 
| [Sunday 18 July 2010] [19:17:04] <sbeaulois_>   my english is not good 
| [Sunday 18 July 2010] [22:33:30] <jugg> sustrik: http://paste2.org/p/919678
| [Monday 19 July 2010] [02:21:13] <sustrik>  sbeaulois_: it's what it says, too many open file descriptors
| [Monday 19 July 2010] [02:21:13] <sustrik>  increase limit for file descriptors on your system
| [Monday 19 July 2010] [02:21:13] <sustrik>  jugg: oops
| [Monday 19 July 2010] [02:23:41] <sustrik>  jugg: fixed
| [Monday 19 July 2010] [02:37:58] <CIA-17>   zeromq2: 03Martin Sustrik 07master * raedf3f8 10/ src/tcp_socket.cpp : EHOSTUNREACH is a valid return value from recv() - http://bit.ly/91cQRJ
| [Monday 19 July 2010] [05:14:21] <travlr>   sustrik: do you want to see zmq irc log files publicly hosted and search-able
| [Monday 19 July 2010] [05:25:35] <sustrik>  travlr: that would be great
| [Monday 19 July 2010] [05:25:54] <sustrik>  do you need any extra privileges for that?
| [Monday 19 July 2010] [05:28:36] <mato> sustrik: are you there?
| [Monday 19 July 2010] [05:36:56] <travlr>   sustrik: sorry. i got distracted :)
| [Monday 19 July 2010] [05:37:15] <travlr>   privledges are a different story.. yes
| [Monday 19 July 2010] [05:38:08] <travlr>   what i need to ask for is if you have the history of log files, because i just realized what i have has a huge hole in them
| [Monday 19 July 2010] [05:39:36] <sustrik>  travlr: no, i haven't logged the discussion :(
| [Monday 19 July 2010] [05:39:50] <travlr>   i'll ask on the mail list
| [Monday 19 July 2010] [05:40:43] <sustrik>  ok
| [Monday 19 July 2010] [05:40:48] <travlr>   the doxygen docs will now be automatically updated with each commit to master. i'll host that here for now
| [Monday 19 July 2010] [05:41:39] <sustrik>  should we link them from zeromq.org?
| [Monday 19 July 2010] [05:42:00] <travlr>   yes. which page.. source or contribute?
| [Monday 19 July 2010] [05:42:52] <sustrik>  source IMO
| [Monday 19 July 2010] [05:43:22] <travlr>   k. if you want to give me more privleges i can do some work on the site from time to time. the articles need to be sorted out for zmq1
| [Monday 19 July 2010] [05:44:23] <sustrik>  lemme see
| [Monday 19 July 2010] [05:46:19] <sustrik>  whipapers:* you mean, right?
| [Monday 19 July 2010] [05:46:25] <sustrik>  whitepapers.*
| [Monday 19 July 2010] [05:47:06] <travlr>   yeah. but its labled as articles atm
| [Monday 19 July 2010] [05:50:57] <sustrik>  travlr: i've allowed editing of articles
| [Monday 19 July 2010] [05:51:01] <sustrik>  try now
| [Monday 19 July 2010] [05:51:01] <travlr>   btw, i also want to link to gentoo ebuilds for zmq and a bunch of bindings
| [Monday 19 July 2010] [05:51:20] <sustrik>  bindings are editable
| [Monday 19 July 2010] [05:51:49] <travlr>   how about the download page too, or you can do it for me
| [Monday 19 July 2010] [05:52:13] <travlr>   i'll give you the link
| [Monday 19 July 2010] [05:52:56] <travlr>   they are temporarily hosted at http://bugs.gentoo.org/show_bug.cgi?id=320657
| [Monday 19 July 2010] [05:53:19] <travlr>   i'm working on getting them in the package tree
| [Monday 19 July 2010] [05:53:33] <sustrik>  i would say there should be a 'distros' section or something
| [Monday 19 July 2010] [05:53:38] <travlr>   true
| [Monday 19 July 2010] [05:55:19] <sustrik>  try editing distro:gentoo page
| [Monday 19 July 2010] [05:55:52] <travlr>   nope
| [Monday 19 July 2010] [05:56:02] <travlr>   i see the page
| [Monday 19 July 2010] [05:56:07] <travlr>   but no edit
| [Monday 19 July 2010] [05:57:03] <travlr>   hey. btw... my wikidot name is travlr now
| [Monday 19 July 2010] [05:57:20] <travlr>   i can't edit articles either
| [Monday 19 July 2010] [05:57:34] <travlr>   i'm logged in atm
| [Monday 19 July 2010] [05:59:48] <travlr>   i'll be back in a couple minutes
| [Monday 19 July 2010] [06:02:42] <sustrik>  are you member of the wiki
| [Monday 19 July 2010] [06:02:44] <sustrik>  ?
| [Monday 19 July 2010] [06:04:50] <travlr>   yeah i currently have access to the bindings, etc
| [Monday 19 July 2010] [06:04:55] <travlr>   'travlr'
| [Monday 19 July 2010] [06:07:06] <sustrik>  yep, you are a member
| [Monday 19 July 2010] [06:07:22] <sustrik>  distro:* pages are set to be editable by members
| [Monday 19 July 2010] [06:07:36] <sustrik>  hm
| [Monday 19 July 2010] [06:07:49] <sustrik>  maybe it takes a while till the permissions take effect?
| [Monday 19 July 2010] [06:08:15] <travlr>   yeah maybe. no hurry.
| [Monday 19 July 2010] [06:09:18] <travlr>   if you like having the doxygen docs, maybe we ought to talk in the near future of changing the way comments are written
| [Monday 19 July 2010] [06:12:01] <sustrik>  travlr: definitely
| [Monday 19 July 2010] [06:12:13] <sustrik>  even the first patch isn't applied yet
| [Monday 19 July 2010] [06:12:43] <travlr>   no i just run a parser for now. 
| [Monday 19 July 2010] [06:12:55] <sustrik>  a-ha
| [Monday 19 July 2010] [06:13:17] <sustrik>  so that would be the first step imo:
| [Monday 19 July 2010] [06:13:32] <sustrik>  modify the comments to doxygen friendly format
| [Monday 19 July 2010] [06:13:56] <sustrik>  then start improving them
| [Monday 19 July 2010] [06:14:05] <travlr>   yes, there is a lot that can be done... or they can be kept minimal
| [Monday 19 July 2010] [06:14:31] <sustrik>  i would rather have it well documented
| [Monday 19 July 2010] [06:14:35] <travlr>   it depends on what you want and not to mention avoiding clutter
| [Monday 19 July 2010] [06:17:14] <sustrik>  well, i would like a random developer to have a look at the source
| [Monday 19 July 2010] [06:17:25] <sustrik>  and get at least some idea about what it does
| [Monday 19 July 2010] [06:18:00] <travlr>   btw, the current version i have hosted is configured with nearly every doxygen feature. including inline function sources
| [Monday 19 July 2010] [06:18:28] <travlr>   i like it but we can trim some features down if you like
| [Monday 19 July 2010] [06:19:24] <sustrik>  is there any point of having the source in the docs?
| [Monday 19 July 2010] [06:19:41] <travlr>   cross-linking references.. 
| [Monday 19 July 2010] [06:21:05] <travlr>   you'll see links to and from the sources... the inline sources are something i just decided to throw in and see how they look... could be a bit much..
| [Monday 19 July 2010] [06:23:34] <travlr>   i dunno, i kind of like them inline too.
| [Monday 19 July 2010] [06:26:08] <travlr>   notice the class diagrams are folded (hidden) at the top of the page. that help lose the clutter a bit but if you don't know they're there they can be missed
| [Monday 19 July 2010] [06:26:23] <travlr>   s/help/helps
| [Monday 19 July 2010] [06:30:02] <sustrik>  what's the link?
| [Monday 19 July 2010] [06:30:13] <travlr>   http://travlr.github.com/zeromq2/index.html
| [Monday 19 July 2010] [06:30:44] <travlr>   need some text on the front page still too
| [Monday 19 July 2010] [06:31:41] <sustrik>  the inline code is a bit superfluous imo
| [Monday 19 July 2010] [06:31:45] <sustrik>  otherwise it's good
| [Monday 19 July 2010] [06:32:25] <sustrik>  as for the first page, a single sentence would be enough
| [Monday 19 July 2010] [06:32:52] <sustrik>  just saying what it is and linking back to zeromq.org for more info
| [Monday 19 July 2010] [06:33:32] <travlr>   what ever you think is best. i threw in all the features to see how it looked with doxygen's new version's layout
| [Monday 19 July 2010] [06:33:56] <travlr>   usefullness is good... clutter is bad ;)
| [Monday 19 July 2010] [06:34:01] <sustrik>  :)
| [Monday 19 July 2010] [06:34:19] <sustrik>  just remove the inline code and link it from "source"
| [Monday 19 July 2010] [06:34:23] <sustrik>  thanks
| [Monday 19 July 2010] [06:34:36] <sustrik>  cyl
| [Monday 19 July 2010] [06:34:41] <travlr>   sure.. gotta go now too.
| [Monday 19 July 2010] [06:34:44] <travlr>   later
| [Monday 19 July 2010] [06:44:58] <mikko>    peter
| [Monday 19 July 2010] [06:46:26] <mikko>    nm
| [Monday 19 July 2010] [08:17:00] <Lazesharp>    interesting
| [Monday 19 July 2010] [08:17:10] <Lazesharp>    just had a problem gettting 2.0.7 to compile with pgm:
| [Monday 19 July 2010] [08:17:12] <Lazesharp>    /usr/bin/ld: .libs/libzmq_la-txwi.o: relocation R_X86_64_PC32 against `pgm_rs_create' can not be used when making a shared object; recompile with -fPIC
| [Monday 19 July 2010] [08:17:12] <Lazesharp>    /usr/bin/ld: final link failed: Bad value
| [Monday 19 July 2010] [08:17:13] <Lazesharp>    collect2: ld returned 1 exit status
| [Monday 19 July 2010] [08:17:13] <Lazesharp>    make[2]: *** [libzmq.la] Error 1
| [Monday 19 July 2010] [08:17:47] <Lazesharp>    not the end of the world, because it compiles just fine without pgm, but if anyone knows what the problem is, I'd appreciate the answer :0
| [Monday 19 July 2010] [08:17:48] <Lazesharp>    *:)
| [Monday 19 July 2010] [10:12:28] <sustrik>  Lazesharp: I recall this problem was already discussed on the mailing list
| [Monday 19 July 2010] [10:12:35] <sustrik>  you may want to do some search
| [Monday 19 July 2010] [10:12:40] <Lazesharp>    ok, cheers
| [Monday 19 July 2010] [11:45:07] <Lazesharp>    besides libuuid and openpgm, does 0mq have any other deps or dependant versions?
| [Monday 19 July 2010] [11:45:20] <Lazesharp>    I saw a blog somewhere mention automake2.6 was necessary
| [Monday 19 July 2010] [13:32:13] <sustrik>  Lazesharp; autotools are build-time dependency, not runtime dependency
| [Monday 19 July 2010] [18:35:37] <perplexes>    can anyone point me to some good intro docs for zmq?
| [Monday 19 July 2010] [20:34:34] <travlr>   perplexes: the website 'cookbook' and blogs are good for getting an introduction
| [Monday 19 July 2010] [20:34:50] <travlr>   some blogs... have examples in them
| [Tuesday 20 July 2010] [01:37:21] <zedas>   hey folks zeromq.org is down: http://zeromq.org/
| [Tuesday 20 July 2010] [01:41:18] <perplexes>   http://www.wikidot.com/ (who i assume is serving), is showing a 503
| [Tuesday 20 July 2010] [01:57:03] <sustrik> seems to work now...
| 
| *** Logfile started
| *** on Tue Jul 20 08:42:53 2010
| 
| [Tuesday 20 July 2010] [10:40:26] <jugg>    sustrik: zmq_poll is no longer implemented in your branch.  I assume it will be so again at some point?
| [Tuesday 20 July 2010] [10:59:08] <sustrik> jugg: ues, it will
| [Tuesday 20 July 2010] [10:59:43] <sustrik> it needs some change as there is a separate fd for each 0mq socket to poll on instead of a single generic one now
| [Tuesday 20 July 2010] [11:00:40] <jugg>    sustrik: any idea on timeframe for integration with the main zeromq repo?
| [Tuesday 20 July 2010] [11:02:53] <sustrik> i expect it to be ready for integration in 2 weeks
| [Tuesday 20 July 2010] [16:10:33] <fruminator>  all, is there a reason why zeromq doesn't have/use a google group?
| [Tuesday 20 July 2010] [16:17:46] <sjampoo> there's a mailing list with archive, it works pretty much perfect
| [Tuesday 20 July 2010] [16:18:15] <fruminator>  i disagree. I find it almost impossible to use, search, etc.  especially since I prefer not to be subscribed and fill up my inbox.  
| [Tuesday 20 July 2010] [16:18:52] <fruminator>  basically every other open source project I follow uses google groups at this point.  even when they also use mailman
| [Tuesday 20 July 2010] [16:19:31] <sjampoo> lots of OS projects actually drop Google groups
| [Tuesday 20 July 2010] [16:19:37] <sjampoo> read this: http://ejohn.org/blog/google-groups-is-dead/
| [Tuesday 20 July 2010] [16:20:34] <fruminator>  hmm, interesting. oh well.  let me just back up then -- I'm having a hard time w/ the zeromq group.  maybe there's smoething I don't follow
| [Tuesday 20 July 2010] [16:22:02] <sjampoo> For the searching part, have you tried the gmane entrance ? 
| [Tuesday 20 July 2010] [16:22:24] <sjampoo> http://dir.gmane.org/gmane.network.zeromq.devel
| [Tuesday 20 July 2010] [16:22:45] <fruminator>  yeah.  that's actually not so bad.  my main question is how to follow/look for responses to a message I have posted without receiving the messages in my inbox?
| [Tuesday 20 July 2010] [16:25:35] <sjampoo> you can go to a thread view in the gmane viewer
| [Tuesday 20 July 2010] [16:26:03] <fruminator>  for example, my thread is the first 3 posts here: http://search.gmane.org/?query=zmq_forwarder+fails+when+my+machine+is+not+on+theinternet&author=&group=gmane.network.zeromq.devel&sort=relevance&DEFAULTOP=or&xP=Zzmq_forward%09Zfail%09Zmy%09Zmachin%09Znot%09Ztheinternet&xFILTERS=Gnetwork.zeromq.devel---A  but I dont see *the* thread that captures this
| [Tuesday 20 July 2010] [16:26:35] <sjampoo> click on the link and then click on the subject
| [Tuesday 20 July 2010] [16:29:26] <fruminator>  ahah
| [Tuesday 20 July 2010] [16:58:25] <fruminator>  ok, so, how do i now reply to this message (http://thread.gmane.org/gmane.network.zeromq.devel/2501) if I never got it into my inbox?
| [Tuesday 20 July 2010] [17:00:13] <sjampoo> select the message, on the top right where it says action pick 'follow up'
| [Tuesday 20 July 2010] [17:08:56] <fruminator>  wow, I must be braindead today.  thanks!
| [Tuesday 20 July 2010] [17:09:33] <sjampoo> ;)
| [Tuesday 20 July 2010] [22:38:19] <manveru> heya
| [Tuesday 20 July 2010] [22:38:41] <manveru> does anyone know of a simple 0mq implementation that runs in a browser on websockets?
| [Wednesday 21 July 2010] [01:34:30] Error   Not registered.
| [Wednesday 21 July 2010] [01:34:30] Notice  -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify <password>.
| [Wednesday 21 July 2010] [01:34:30] Notice  -NickServ- You are now identified for travlr.
| [Wednesday 21 July 2010] [01:34:31] CTCP    Received Version request from frigg.
| [Wednesday 21 July 2010] [08:42:46] <quatrix>   heya
| [Wednesday 21 July 2010] [08:43:31] <quatrix>   i'm looking for docs regarding xreq/xrep, can't seem to get it working.
| [Wednesday 21 July 2010] [08:54:29] <quatrix>   if anyone could take a look what i'm doing wrong: http://pastebin.com/30Dq1xS4
| [Wednesday 21 July 2010] [08:58:20] <sustrik>   quatrix: what problem do you experience with the code?
| [Wednesday 21 July 2010] [08:58:38] <quatrix>   the error i'm getting is at the top of the paste
| [Wednesday 21 July 2010] [08:58:46] <quatrix>   Assertion failed: msg_->flags & ZMQ_MSG_MORE (xrep.cpp:147)
| [Wednesday 21 July 2010] [09:00:03] <quatrix>   i have worker threads that request work/send result to producer thread, some of their request could block, so i want to use xrep/xreq so i could handle other producer requests in the meantime.
| [Wednesday 21 July 2010] [09:00:30] <quatrix>   i've also tried zmq from git, but i think i'm just not using it correctly.
| [Wednesday 21 July 2010] [09:01:35] <quatrix>   (very cool library btw)
| [Wednesday 21 July 2010] [09:01:44] <sustrik>   thanks
| [Wednesday 21 July 2010] [09:01:46] <sustrik>   ok
| [Wednesday 21 July 2010] [09:01:50] <sustrik>   when using xrep
| [Wednesday 21 July 2010] [09:02:06] <sustrik>   you have to send the requester's identity first, then the message itself
| [Wednesday 21 July 2010] [09:03:18] <sustrik>   as a two-part message
| [Wednesday 21 July 2010] [09:04:19] <quatrix>   i do this by send()ing two msgs or is there a special method?
| [Wednesday 21 July 2010] [09:08:37] <quatrix>   socket.send(msg, ZMQ_SENDMORE) ?
| [Wednesday 21 July 2010] [09:37:09] <sustrik>   quatrix: yes
| [Wednesday 21 July 2010] [09:37:21] <sustrik>   use the flag for the first part of the message
| [Wednesday 21 July 2010] [09:37:27] <sustrik>   no flag for the second one
| [Wednesday 21 July 2010] [09:41:01] <quatrix>   thanks. what do i do on the XREP side? i stopped getting the error, but can't seem to send a reply
| [Wednesday 21 July 2010] [09:44:03] <quatrix>   i'm getting 3 parts for some reason. sec, i'll paste the relevent code
| [Wednesday 21 July 2010] [09:54:24] <quatrix>   http://pastebin.com/DurLc99y
| [Wednesday 21 July 2010] [09:55:33] <quatrix>   "got request" prints the correct request, and producer's s.send(reply) doesn't block. but workers block on s.recv(), as if the msgs get lost somewhere.
| [Wednesday 21 July 2010] [09:55:44] <sustrik>   ok, what you get is:
| [Wednesday 21 July 2010] [09:55:50] <sustrik>   1. ID of the REQ socket
| [Wednesday 21 July 2010] [09:55:56] <sustrik>   2. empty message part
| [Wednesday 21 July 2010] [09:55:58] <sustrik>   3. your data
| [Wednesday 21 July 2010] [09:56:19] <sustrik>   when you want to reply, you have to send:
| [Wednesday 21 July 2010] [09:56:27] <sustrik>   1. ID of the REQ socket
| [Wednesday 21 July 2010] [09:56:33] <sustrik>   2. empty message part
| [Wednesday 21 July 2010] [09:56:36] <sustrik>   3. your data
| [Wednesday 21 July 2010] [09:57:04] <quatrix>   oh! now it works! 
| [Wednesday 21 July 2010] [09:57:19] <quatrix>   thanks!
| [Wednesday 21 July 2010] [09:57:42] <quatrix>   btw, will this work regardless of tcp/inproc/ipc ?
| [Wednesday 21 July 2010] [10:01:00] <sustrik>   yes, it works with any transport
| [Wednesday 21 July 2010] [10:04:16] <quatrix>   great, awesome work, thanks for your help :)
| [Wednesday 21 July 2010] [10:48:26] <ispot> hello,how to get  sample code with zeromq
| [Wednesday 21 July 2010] [11:34:18] <CIA-17>    zeromq2: 03Martin Lucina 07master * r5b1a6a4 10/ src/ip.cpp : Issue 42 - getaddrinfo() fails - http://bit.ly/bs5n8h
| [Wednesday 21 July 2010] [12:59:54] <showstopper>   hey
| [Wednesday 21 July 2010] [13:00:22] <showstopper>   how do I find out how many messages there are in the message queue?
| [Wednesday 21 July 2010] [13:04:25] <showstopper>   Say I have a thread pool
| [Wednesday 21 July 2010] [13:04:57] <showstopper>   I pass messages to each thread by an inproc-connection
| [Wednesday 21 July 2010] [13:05:14] <showstopper>   now, I want to introduce some sort of dispatcher
| [Wednesday 21 July 2010] [13:05:53] <showstopper>   the thread having the fewest messages waiting to be worked on should get the next task
| [Wednesday 21 July 2010] [13:06:47] <showstopper>   I want to collect the numbers and then decide which thread to take
| [Wednesday 21 July 2010] [13:07:31] <showstopper>   In short form: I need some sort of API-call to find out the number of messages waiting in a socket queue
| [Wednesday 21 July 2010] [13:18:09] <guido_g>   there is no such thing
| [Wednesday 21 July 2010] [13:20:44] <showstopper>   Any arguments against it? Otherwise i'll try to write a patch
| [Wednesday 21 July 2010] [13:21:42] <guido_g>   ask sustrik, he's the guy
| [Wednesday 21 July 2010] [13:22:40] <showstopper>   okay
| [Wednesday 21 July 2010] [13:23:01] <guido_g>   btw, the mailing list is a better place for this kind of questions
| [Wednesday 21 July 2010] [13:23:55] <showstopper>   Probably, but I thought I just missed a function in the manual
| [Wednesday 21 July 2010] [13:25:09] <guido_g>   MQ is notoriously short on this kind of functionallity
| [Wednesday 21 July 2010] [13:25:26] <guido_g>   keeps the beast small and fast, i'd say
| [Wednesday 21 July 2010] [13:26:01] <showstopper>   Sure, i don't like bloated software either
| [Wednesday 21 July 2010] [13:26:20] <showstopper>   but that sort of problem seems to be a "common" one
| [Wednesday 21 July 2010] [13:27:34] <showstopper>   I don't think that an information like this is too heavy to be provided
| [Wednesday 21 July 2010] [14:02:04] <peano2>    http://github.com/zeromq/pyzmq
| [Wednesday 21 July 2010] [14:02:07] <peano2>    there's a typo here
| [Wednesday 21 July 2010] [14:02:13] <peano2>    This package contains Python bindings for 0QM.
| [Wednesday 21 July 2010] [14:02:16] <peano2>    0QM
| [Wednesday 21 July 2010] [14:10:12] <ispot> when I launch zmq_forwarder , it said "waht (): no such device". how?
| [Wednesday 21 July 2010] [14:56:15] <ispot> why get "what (): no such device" ?
| [Wednesday 21 July 2010] [14:59:14] <ispot> who can help me?
| [Wednesday 21 July 2010] [14:59:19] <ispot> why get "what (): no such device" ?
| [Wednesday 21 July 2010] [15:04:03] <ispot> hellooooo...
| [Wednesday 21 July 2010] [15:04:51] <ispot> why get "what (): no such device" ? I launched "zmq_forwarder ...xml"
| [Wednesday 21 July 2010] [15:40:13] <ispot> peano2:  can u help me?
| [Wednesday 21 July 2010] [16:07:09] <ispot> why get "what (): no such device" ? I launched "zmq_forwarder ...xml"
| [Wednesday 21 July 2010] [16:07:21] <ispot> hellooooo...
| 
| *** Logfile started
| *** on Wed Jul 21 18:05:32 2010
| 
| [Wednesday 21 July 2010] [21:31:44] <ispot> hello, when I launched zmq_forwarder , I got "what (): no such device", why?
| [Wednesday 21 July 2010] [23:25:29] <guido_g>   ispot: getting no answer on irc is a sure sign of a) question phrased in a way that nobody understands it or b) question is already solved by the docs/faqs or c) not enough information provided (close to a) or d) noone knows an answer
| [Thursday 22 July 2010] [03:51:36] <ben_k>   I dont think flush on ypipe  is safe what happens if it wakes up after the check but before the set  - unlikely but can happen 
| [Thursday 22 July 2010] [04:16:51] <sustrik>    ben_k: what check and what set do you mean?
| [Thursday 22 July 2010] [05:04:50] <ben_k>   if (c.cas (w, f) != w) {
| [Thursday 22 July 2010] [05:04:50] <ben_k>                  //  Compare-and-swap was unseccessful because 'c' is NULL.
| [Thursday 22 July 2010] [05:04:50] <ben_k>                  //  This means that the reader is asleep. Therefore we don't
| [Thursday 22 July 2010] [05:04:50] <ben_k>                  //  care about thread-safeness and update c in non-atomic
| [Thursday 22 July 2010] [05:04:50] <ben_k>                  //  manner. We'll return false to let the caller know
| [Thursday 22 July 2010] [05:18:02] <sustrik>    ben_k: the point is that the reader is woken up only if writer finds out that it is asleep
| [Thursday 22 July 2010] [05:18:21] <sustrik>    and flush returns false
| [Thursday 22 July 2010] [05:18:50] <sustrik>    see pipe.cpp:
| [Thursday 22 July 2010] [05:18:55] <sustrik>    line 210:
| [Thursday 22 July 2010] [05:18:56] <sustrik>    void zmq::writer_t::flush ()
| [Thursday 22 July 2010] [05:18:56] <sustrik>    {
| [Thursday 22 July 2010] [05:18:56] <sustrik>        if (!pipe->flush ())
| [Thursday 22 July 2010] [05:18:56] <sustrik>            send_revive (peer);
| [Thursday 22 July 2010] [05:18:56] <sustrik>    }
| [Thursday 22 July 2010] [05:19:18] <sustrik>    send_revive is the function that wakes the reader
| [Thursday 22 July 2010] [05:19:46] <ben_k>  I see so this is a manual sleep not a scheduler sleep ..
| [Thursday 22 July 2010] [05:20:17] <sustrik>    yes
| [Thursday 22 July 2010] [05:25:29] <ben_k>  ty
| [Thursday 22 July 2010] [06:46:43] <quatrix>    Hey. is it possible to send() complex data structure/objects, or do I need to serialize them first?
| [Thursday 22 July 2010] [06:50:36] <drbobbeaty> From what I've read, it appears that the real "payload" of the ZMQ message is a byte array - so you'll need to use your own serialization scheme on top of that. Like Google protobufs, or something similar.
| [Thursday 22 July 2010] [06:56:52] <quatrix>    thanks
| [Friday 23 July 2010] [09:52:01] <jared___> Can anyone tell me what guarantees 0MQ provides for its queues?  For example, with pub-sub, are all messages guaranteed to be delivered, and if so, will they be in order?
| [Friday 23 July 2010] [09:52:46] <guido_g>  i can guarantee that there're none
| [Friday 23 July 2010] [09:52:57] <guido_g>  pub/sub is like radio broadcast
| [Friday 23 July 2010] [09:56:44] <jared___> do any of the models provide a guarantee that once I hand the message to 0MQ that it will be delivered........eventually
| [Friday 23 July 2010] [09:56:48] <jared___> ?
| [Friday 23 July 2010] [09:57:43] <jared___> I am determining whether or not an additional 'message tracking' layer would need to be built on top of 0MQ, should I decide to use it.
| [Friday 23 July 2010] [09:58:37] <drbobbeaty>   I was under the impression that the pgm and epgm protocols were using reliable multicast from OpenPGM. If so, then you're going to have receipt, but not guaranteed delivery. If the listener isn't on when the message is sent, then it's going ot miss it.
| [Friday 23 July 2010] [09:59:39] <drbobbeaty>   If you need really "once-and-only-once" delivery, then you need to have a queue where it tracks persistent subscriptions and persistent publishers and that's a lot more work.
| [Friday 23 July 2010] [10:00:27] <drbobbeaty>   So, from the sounds of it, I'd say the answer to your question is "Yes, you need to write that message tracking layer."
| [Friday 23 July 2010] [10:01:10] <drbobbeaty>   Then again, I've only been in this codebase for about 3 days now, but having been around the block a few times with other messaging systems, the pieces become very familiar.
| [Friday 23 July 2010] [10:01:29] <jared___> What I really need is a layer that can guarantee that once the application hands it a message to this layer, destined for a given endpoint, that the other endpoint will see them in order, and eventually.
| [Friday 23 July 2010] [10:01:55] <jared___> I figured this was a guarantee not provided, since its pretty specific, but just wanted to make sure.
| [Friday 23 July 2010] [10:02:10] <drbobbeaty>   OK, I'm going to ask a few "thought experiment" questions that will help me understand your requirements.
| [Friday 23 July 2010] [10:03:03] <jared___> ok, sure.
| [Friday 23 July 2010] [10:03:10] <drbobbeaty>   Say you have a server and ten clients. When the server sends the first message, only five of those clients are up and listening. An hour later, the other five start up. When the second set start up, do they need to see that message that was sent an hour ago?
| [Friday 23 July 2010] [10:04:26] <jared___> I am more interested in a pipe between two endpoints only, but the request-reply model seems like it has low performance.
| [Friday 23 July 2010] [10:04:46] <drbobbeaty>   OK, then let's look at a single server and a single client.
| [Friday 23 July 2010] [10:05:17] <guido_g>  jared___: any numbers?
| [Friday 23 July 2010] [10:05:31] <drbobbeaty>   Say the server is sending to the client. The client bounces, but while it's down, the server has sent three messages. Do you need those three messages to be read by the client when it comes up?
| [Friday 23 July 2010] [10:05:39] <jared___> But for your question, yes, I would expect the down servers to receive those messages.  But realistically in my case the connection would have been severed within 10 seconds.
| [Friday 23 July 2010] [10:07:05] <jared___> Sorry, what I mean by that is that if the other end was truly disconnected, other mechanisms would have detected it, and this machine would then stop caring what messages made it through.
| [Friday 23 July 2010] [10:07:15] <jared___> guido_g: what do you mean by numbers?
| [Friday 23 July 2010] [10:07:33] <guido_g>  jared___: benchmarks for example
| [Friday 23 July 2010] [10:07:43] <drbobbeaty>   OK, if you need to see messages "in the past" then you need a queue that's going to keep track of who has pulled off what message. Basically, a "message broker". These are in a lot of systems, and don't have to be a separate process. If you look at http://www.spread.org/ you'll see something that uses a messaging system that might be more what you're looking for.
| [Friday 23 July 2010] [10:08:56] <drbobbeaty>   Spread has the delivery guarantee. It's also open source.
| [Friday 23 July 2010] [10:09:06] <guido_g>  whereas spread also is not a _traditional_ broker based queueing system
| [Friday 23 July 2010] [10:09:39] <guido_g>  but the process has to be member of the group when the message is sent, afair
| [Friday 23 July 2010] [10:09:50] <drbobbeaty>   Agreed. Totally. And there are limitations to Spread. Which is why I'm here with ZeroMQ, but it does have the guaranteed delivery.
| [Friday 23 July 2010] [10:10:18] <jared___> Great, I'll check that out right now.  Thanks for your help!  I'll stick around here in case I have more 0MQ questions.
| [Friday 23 July 2010] [10:11:05] <guido_g>  there should be a book about brokerless messaging
| [Friday 23 July 2010] [10:12:07] <drbobbeaty>   I've wished many times that there were more docs (books, sites, etc.) on this stuff. It's hard to find all this stuff and see the pros and cons easily. I'll ask Santa... he's been good to me in the past.
| [Friday 23 July 2010] [10:12:54] <guido_g>  great idea :)
| [Friday 23 July 2010] [10:34:37] <jared___> Bummer, the overhead of spread seems pretty high.  I am need _very_ good performance so the group management overhead is probably more than I am willing to pay.  I'll keep probing around though.
| [Friday 23 July 2010] [10:39:05] <guido_g>  performance and delivery gurantees are contradictory in most cases
| [Friday 23 July 2010] [10:43:37] <drbobbeaty>   Agreed... if you need guarantees, then you need persistence of some kind. That costs time. Regardless of anything else. You're not going to find a fast, reliable persistence. Memory is fast, but doesn't survive reboots. Disk is reliable, but not fast. You have a fundamental issue, here. No easy solution. You're going to have to make some kind of trade-off.
| [Friday 23 July 2010] [10:44:47] <guido_g>  well phrased
| [Friday 23 July 2010] [10:53:35] <drbobbeaty>   Thanks :)
| [Friday 23 July 2010] [10:54:27] <guido_g>  you're welcome
| [Friday 23 July 2010] [14:42:14] Notice -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify <password>.
| [Friday 23 July 2010] [14:42:15] Notice -NickServ- You are now identified for travlr.
| [Friday 23 July 2010] [14:42:15] CTCP   Received Version request from frigg.
| [Friday 23 July 2010] [18:01:33] <tupshin>  i'm trying to understand whether zeromq would be a good general purpose message bus for publish/subscribe type exchanges in an environment where there are 1000 publishers and 100 subscribers. any pointers to good info?
| [Friday 23 July 2010] [21:10:09] <ben_k>    Can some explain this code ? 
| [Friday 23 July 2010] [21:10:11] <ben_k>    size_t zmq_msg_size (zmq_msg_t *msg_)
| [Friday 23 July 2010] [21:10:11] <ben_k>    {
| [Friday 23 July 2010] [21:10:11] <ben_k>        if (msg_->content == (zmq::msg_content_t*) ZMQ_VSM)
| [Friday 23 July 2010] [21:10:11] <ben_k>            return msg_->msgs.vsm.vsm_size;
| [Friday 23 July 2010] [21:10:11] <ben_k>        if (msg_->content == (zmq::msg_content_t*) ZMQ_DELIMITER)
| [Friday 23 July 2010] [21:10:27] <ben_k>    If VSM return VSm 
| [Friday 23 July 2010] [21:12:02] <ben_k>    Ifhas Delimiter  ( what does this mean ? ) return empty  . Its the last line that has me stumped if its full  and not a VSM return the size of the VSM size field ( which is limited to 256 bytes) 
| [Friday 23 July 2010] [21:50:45] <ben_k>    Ignore that ...
| 
| *** Logfile started
| *** on Fri Jul 23 22:44:42 2010
| 
| [Saturday 24 July 2010] [10:39:28] <mato>   sustrik: are you there?
| [Saturday 24 July 2010] [10:39:35] <sustrik>    here I am
| [Saturday 24 July 2010] [10:39:40] <mato>   sustrik: a question
| [Saturday 24 July 2010] [10:40:24] <mato>   sustrik: when we talked about the funky pollset manipulation needed when forwarding requests between sockets that have flow control enabled, you said "go look at the queue device, i do it there"
| [Saturday 24 July 2010] [10:40:30] <mato>   so i went and looked, and you don't
| [Saturday 24 July 2010] [10:40:31] <mato>   :-)
| [Saturday 24 July 2010] [10:40:53] <sustrik>    let me see
| [Saturday 24 July 2010] [10:40:57] <mato>   is there some other place i should look for an example or do i need to develop the algorithm from scratch myself?
| [Saturday 24 July 2010] [10:41:57] <sustrik>    what's missing in queue.cpp?
| [Saturday 24 July 2010] [10:42:14] <mato>   imagine send can block
| [Saturday 24 July 2010] [10:42:58] <mato>   e.g. insocket has an infinite queue length, outsocket has a low queue length (say 1)
| [Saturday 24 July 2010] [10:43:08] <sustrik>    aha, i see
| [Saturday 24 July 2010] [10:43:16] <sustrik>    yes, it's missing there
| [Saturday 24 July 2010] [10:43:34] <mato>   i will of course do this ad-hoc, i'm just trying to visualize a generic model to see if there is one
| [Saturday 24 July 2010] [10:43:35] <sustrik>    you'll have to write it yourself then
| [Saturday 24 July 2010] [10:44:13] <mato>   am doing that, can then patch the queue device maybe at some point sice currently it'll break if flow control is involved
| [Saturday 24 July 2010] [10:45:01] <sustrik>    right, that would be good
| [Saturday 24 July 2010] [10:45:07] <sustrik>    the algo is not that complex imo
| [Saturday 24 July 2010] [10:45:31] <mato>   not really, it just has the ugly property of maintaining various bits of state
| [Saturday 24 July 2010] [10:46:06] <mato>   which i'm wondering if i can abstract away in some kind of smart poller api
| [Saturday 24 July 2010] [10:51:34] <sustrik>    specifically in queue.cpp the state can be kept in the pollitem array
| [Saturday 24 July 2010] [11:19:07] <CIA-20> zeromq2: 03Martin Hurton 07master * re1c596b 10/ src/pipe.cpp : Make sure lwm > 0 when hwm > 0 - http://bit.ly/db7UyA
| [Saturday 24 July 2010] [11:38:57] <CIA-20> zeromq2: 03Martin Hurton 07master * r10533a5 10/ (src/pipe.cpp src/pipe.hpp src/ypipe.hpp): pipe: check_read() should check for message delimiter - http://bit.ly/cQ2Jij
| [Saturday 24 July 2010] [12:46:10] <mato>   sustrik: nice discussion on the mailing list :-)
| [Saturday 24 July 2010] [12:46:30] <sustrik>    yes, i like it
| [Saturday 24 July 2010] [12:46:34] <mato>   sustrik: i like brian saying "we find that just building stuff on top of 0MQ the right way works best" :-)
| [Saturday 24 July 2010] [12:46:35] <sustrik>    professional
| [Saturday 24 July 2010] [12:46:57] <mato>   you forgot to mention that pieter seems to want to build a new application the "non-scalable" way :-)
| [Saturday 24 July 2010] [12:47:11] <mato>   sustrik: anyway, i think i have my smart poll idea thought out
| [Saturday 24 July 2010] [12:47:39] <sustrik>    ok, good
| [Saturday 24 July 2010] [12:47:45] <mato>   sustrik: remember when i mentioned "poll with conditions" ?
| [Saturday 24 July 2010] [12:47:50] <sustrik>    yes, i do
| [Saturday 24 July 2010] [12:47:52] <mato>   sustrik: actually, that's not what i need
| [Saturday 24 July 2010] [12:48:02] <sustrik>    so?
| [Saturday 24 July 2010] [12:48:18] <mato>   i just need one extra thing besides the usual "can read" or "can write"
| [Saturday 24 July 2010] [12:48:42] <mato>   which is "can *forward* from A to B"
| [Saturday 24 July 2010] [12:49:18] <sustrik>    isn't it just a conjunction of the two?
| [Saturday 24 July 2010] [12:49:33] <mato>   not if flow control is involved
| [Saturday 24 July 2010] [12:50:00] <sustrik>    ?
| [Saturday 24 July 2010] [12:50:14] <mato>   or maybe i misunderstand what you mean by conjunction
| [Saturday 24 July 2010] [12:50:20] <sustrik>    &&
| [Saturday 24 July 2010] [12:51:09] <mato>   well yes, basically it means readable(A) && writable(B) but the problem is you can't get that out of a single poll call
| [Saturday 24 July 2010] [12:51:13] <mato>   hence the wrapper class
| [Saturday 24 July 2010] [12:51:58]   * sustrik is confused
| [Saturday 24 July 2010] [12:52:04] <mato>   ?
| [Saturday 24 July 2010] [12:52:14] <sustrik>    zmq_poll ({A, POLLIN}, {B, POLLOUT})
| [Saturday 24 July 2010] [12:52:22] <sustrik>    what's wrong with that?
| [Saturday 24 July 2010] [12:52:27] <mato>   that's || not &&
| [Saturday 24 July 2010] [12:52:45] <sustrik>    sure, you have to do && afterwards
| [Saturday 24 July 2010] [12:53:11] <mato>   won't work if A has 1M requests queued up and B is slowly consuming with a small HWM
| [Saturday 24 July 2010] [12:53:18] <mato>   well, will *work* but will busy loop like mad
| [Saturday 24 July 2010] [12:53:31] <sustrik>    ok, i see
| [Saturday 24 July 2010] [12:53:35] <sustrik>    so what's your idea?
| [Saturday 24 July 2010] [12:54:37] <mato>   oh, nothing too magic, I will just take Brian's Python poller wrapper class and add functionality to allow me to register can_forward(from,to) conditions
| [Saturday 24 July 2010] [12:54:48] <mato>   which will be handled smartly internally
| [Saturday 24 July 2010] [12:55:14] <mato>   i.e. avoiding busy looping by manipulating the actual pollset
| [Saturday 24 July 2010] [12:55:52] <mato>   makes sense, no?
| [Saturday 24 July 2010] [12:56:49] <mato>   sustrik: anyway, i'll try this and make some notes how it goes, i think this would be a useful trick to have if we want to invent a more interesting polling api
| [Saturday 24 July 2010] [12:56:58] <sustrik>    goodo
| [Saturday 24 July 2010] [12:57:01] <mato>   sustrik: since it's really useful for anything device-like
| [Saturday 24 July 2010] [12:57:32] <sustrik>    right, having a nice design for that kind of stuff would be usefull
| [Saturday 24 July 2010] [12:57:36] <mato>   indeed
| [Sunday 25 July 2010] [01:35:12] <ateTate>  are there any known issues with installing on CentOS 64-bit?
| [Sunday 25 July 2010] [03:46:04] <sustrik>  ateTate: i recall there was some recurring problem with -fPIC
| [Sunday 25 July 2010] [03:46:19] <sustrik>  if that's what you are seeing check the mailing list
| [Sunday 25 July 2010] [04:53:11] <ateTate>  thanks sustrik.  How about 32-bit then?
| [Sunday 25 July 2010] [04:55:29] <sustrik>  that should be OK , IIRC
| 
| *** Logfile started
| *** on Sun Jul 25 18:07:42 2010
| 
| [Monday 26 July 2010] [02:43:40] <guido_g>  'mornin all
| [Monday 26 July 2010] [02:43:44] <sustrik>  morning
| [Monday 26 July 2010] [06:23:44] <CIA-20>   zeromq2: 03Martin Hurton 07master * r66470b2 10/ (perf/local_thr.cpp perf/remote_thr.cpp): perf: fix typo - http://bit.ly/awOAA7
| [Monday 26 July 2010] [07:19:06] <Murali>   Hi where can I download Binary executables of Zeromq for Openvms
| [Monday 26 July 2010] [07:19:08] <Murali>   ?
| [Monday 26 July 2010] [07:22:09] <Murali>   Any one there ?
| [Monday 26 July 2010] [07:28:00] Notice -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify <password>.
| [Monday 26 July 2010] [07:28:00] Notice -NickServ- You are now identified for travlr.
| [Monday 26 July 2010] [07:28:00] CTCP   Received Version request from frigg.
| [Monday 26 July 2010] [07:29:27] <Murali>   Where can I download Zeromq for OpenVMS
| [Monday 26 July 2010] [07:29:32] <Murali>   can any one help
| [Monday 26 July 2010] [07:29:33] <Murali>   ?
| [Monday 26 July 2010] [08:03:22] <bobs> I think you will need to download the source and build them yourself
| [Monday 26 July 2010] [08:23:37] <drbobbeaty>   Agreed... I looked for CentOS 5 RPMs, and they aren't available, either. I think it's going to have to be built from scratch. Unless you can find a kind soul that's already done it and will share.
| [Monday 26 July 2010] [10:48:56] <michel_v> yo
| [Monday 26 July 2010] [11:30:37] <michel_v> I'm trying to setup a one publisher / many subscribers workflow
| [Monday 26 July 2010] [11:31:38] <michel_v> but I don't really understand why a subscribers that subscribes to "queue1" would just discard and delete messages that start with "queue2" etc
| [Monday 26 July 2010] [11:32:23] <michel_v> my subscribers are deleting messages that they don't want, and I don't understand how I can make them simply ignore the messages
| [Monday 26 July 2010] [11:53:10] <michel_v> perhaps I don't get how this is supposed to work?
| [Monday 26 July 2010] [11:55:33] <michel_v> oh right, I was using zmq_streamer when I really needed zmq_forwarder :)
| [Monday 26 July 2010] [14:03:00] <fruminator>   Q'ers I have a question about reconnection.  anyone there?
| [Monday 26 July 2010] [17:00:40] Notice -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify <password>.
| [Monday 26 July 2010] [17:00:40] Notice -NickServ- You are now identified for travlr.
| [Monday 26 July 2010] [17:00:40] CTCP   Received Version request from frigg.
| [Monday 26 July 2010] [23:53:33] <grahamalot>   Could someone tell me how to do the following: "    zmq::device (ZMQ_QUEUE, clients, workers); " (C++) in python? I can't seem to find out how to create this "device".
| [Tuesday 27 July 2010] [00:01:22] <guido_g> good question
| [Tuesday 27 July 2010] [00:01:22] <guido_g> seems like a case where asking on the mailing list would be a good idea
| [Tuesday 27 July 2010] [00:01:36] <grahamalot>  I think i might have figured it out zmq.bind should work, but i'm not 100 percent yet, thanks, i'll check with the mailing list.
| 
| *** Logfile started
| *** on Tue Jul 27 04:00:41 2010
| 
| [Tuesday 27 July 2010] [06:19:34] <mikko>   sustrik_: there?
| [Tuesday 27 July 2010] [06:19:50] <mikko>   no, wait nevermind :)
| [Tuesday 27 July 2010] [06:19:53] <mikko>   figured it out
| [Tuesday 27 July 2010] [06:20:26] <mikko>   A socket of type ZMQ_UPSTREAM is used by a pipeline node to receive messages from upstream pipeline nodes.
| [Tuesday 27 July 2010] [06:20:32] <mikko>   is that a bit confusing?
| [Tuesday 27 July 2010] [06:25:56] <sustrik> mikko: hi
| [Tuesday 27 July 2010] [06:26:16] <sustrik> mikko: just being discussed on the mailing list
| [Tuesday 27 July 2010] [06:26:25] <sustrik> "Why ZeroMQ" thread
| [Tuesday 27 July 2010] [06:26:40] <sustrik> feel free to express your opinion there
| [Tuesday 27 July 2010] [09:18:30] <lvh> Hey.
| [Tuesday 27 July 2010] [09:18:44] <lvh> Could anyone explain how a Device (eg a zmq_forwarder) is fundamentally different from a broker?
| [Tuesday 27 July 2010] [09:18:46] <lvh> Thanks.
| [Tuesday 27 July 2010] [09:24:08] <sustrik> lvh: it is not
| [Tuesday 27 July 2010] [09:24:24] <sustrik> it's a broker stripped to bare bones
| [Tuesday 27 July 2010] [09:24:49] <lvh> Oh, okay.
| [Tuesday 27 July 2010] [09:24:55] <lvh> Yay, I understood something :-)
| [Tuesday 27 July 2010] [09:26:38] <sustrik> :)
| [Tuesday 27 July 2010] [09:27:17] <lvh> sustrik: Oh by the way I tried to get back to you on the twisted support thing
| [Tuesday 27 July 2010] [09:27:28] <lvh> sustrik: Remember how you were talking about exposing an fd to integrate with other event loops better?
| [Tuesday 27 July 2010] [09:27:34] <lvh> At least that's what I remember
| [Tuesday 27 July 2010] [09:27:48] <lvh> basically, we want that, the other alternative is reimplementing everything in Python which I don't want to do
| [Tuesday 27 July 2010] [09:27:54] <lvh> (and you don't want to see happen either most likely)
| [Tuesday 27 July 2010] [09:28:35] <sjampoo> seriously, 57 messages about how to name a friggin socket and no end in sight. 
| [Tuesday 27 July 2010] [09:29:25] <lvh> teehee
| [Tuesday 27 July 2010] [09:29:56] <sustrik> bikeshed syndrome
| [Tuesday 27 July 2010] [09:30:58] <sustrik> "Parkinson dramatizes his Law of Triviality with a committee's deliberations on a nuclear power plant, contrasting it to deliberation on a bicycle shed. A nuclear reactor is used because it is so vastly expensive and complicated that an average person cannot understand it, so they assume that those working on it understand it. Even those with strong opinions often withhold them for fear of being shown to be insufficiently informed. On the o
| [Tuesday 27 July 2010] [09:30:59] <sustrik> ther hand, everyone understands a bicycle shed (or thinks he or she does), so building one can result in endless discussions because everyone involved wants to add his or her touch and show that they have contributed. While discussing the bikeshed, debate emerges over whether the best choice of roofing is aluminium, asbestos, or galvanized iron, rather than whether the shed is a good idea or not."
| [Tuesday 27 July 2010] [09:31:27] <sjampoo> sustrik, yah I've heard about it :)
| [Tuesday 27 July 2010] [09:31:38] <sjampoo> You see it in meetings as well. 
| [Tuesday 27 July 2010] [09:31:56] <sjampoo> Thats why it helps to overcomplicate things sometimes if you want them just to accept your point
| [Tuesday 27 July 2010] [09:32:11] <sustrik> ha
| [Tuesday 27 July 2010] [09:32:52] <sustrik> survive in corporate environment 101 :)
| [Tuesday 27 July 2010] [09:32:57] <sjampoo> haha
| [Tuesday 27 July 2010] [09:34:17] <drbobbeaty>  Question: I've noticed that the zmq::socket_t has a connect() method but no disconnect() method. I can connect() to several URLs (addresses/ports) and all is great, but what if I want to disconnect from just one?
| [Tuesday 27 July 2010] [09:34:28] <sustrik> close the socket
| [Tuesday 27 July 2010] [09:34:39] <sustrik> same as with BSD sockets
| [Tuesday 27 July 2010] [09:35:35] <drbobbeaty>  But that closes all of the connections... I had expected this as the reason, but just wanted to see if it were possible to close just one. Guess not. I'll get over it.
| [Tuesday 27 July 2010] [09:36:04] <sustrik> sorry, that's the case
| [Tuesday 27 July 2010] [09:36:16] <drbobbeaty>  Good enough. Just wanted to check.
| [Tuesday 27 July 2010] [10:32:37] <lvh> sustrik: Have you seen http://dank.qemfd.net/dankwiki/index.php/Libtorque? It appears to be a generalization of zmq's io bits.
| [Tuesday 27 July 2010] [10:35:34] <sustrik> lvh: looking at it
| [Tuesday 27 July 2010] [10:35:42] <sustrik> what do you mean by "io bits"?
| [Tuesday 27 July 2010] [10:37:34] <lvh> sustrik: I would suppose that would be the stuff done in IO threads that isn't ZMQ Socket specific. It's not a perfect congruence, I'm sure.
| [Tuesday 27 July 2010] [10:58:31] <sustrik> ah, you meant using it in 0MQ?
| [Tuesday 27 July 2010] [10:58:55] <sustrik> the existing implementation is as low-level and as optimised as possible
| [Tuesday 27 July 2010] [10:59:23] <sustrik> using a foreign library can at best keep the performance at its current state, but presumably it would degrade it
| [Tuesday 27 July 2010] [11:17:54] <lvh> Fair point
| [Tuesday 27 July 2010] [15:32:05] <tupshin1>    is there a good way to have multiple workers process requests but prevent the clients from blocking by sending message to a down (or overloaded) worker?
| [Tuesday 27 July 2010] [15:32:11] <tupshin1>    right now I have two processes separately doing
| [Tuesday 27 July 2010] [15:32:11] <tupshin1>    $server->bind("ipc:///tmp/foo1"); and
| [Tuesday 27 July 2010] [15:32:11] <tupshin1>    $server->bind("ipc:///tmp/foo2");
| [Tuesday 27 July 2010] [15:32:18] <tupshin1>    and clients all doing
| [Tuesday 27 July 2010] [15:32:19] <tupshin1>    ZMQ.Socket s = ctx.socket(ZMQ.REQ);
| [Tuesday 27 July 2010] [15:32:19] <tupshin1>    s.connect("ipc:///tmp/foo1");
| [Tuesday 27 July 2010] [15:32:19] <tupshin1>    s.connect("ipc:///tmp/foo2");   
| [Tuesday 27 July 2010] [15:32:19] <tupshin1>    s.send (msg, 0);
| [Tuesday 27 July 2010] [15:32:20] <tupshin1>    s.receive(0);
| [Tuesday 27 July 2010] [15:39:50] <sustrik> what's that good for?
| [Tuesday 27 July 2010] [15:40:12] <sustrik> two identical connections between two components
| [Tuesday 27 July 2010] [15:41:10] <tupshin1>    three components. the two bind lines are from two different worker processes
| [Tuesday 27 July 2010] [15:42:05] <tupshin1>    and it works to balance requests between those workers. but if a worker were to die, sending would block
| [Tuesday 27 July 2010] [15:48:24] <tupshin1>    it looks like running zmq_queue might do what I want, but is not documented
| [Tuesday 27 July 2010] [16:33:22] Notice    -tomaw- [Global Notice] Hi, as you're no doubt aware some of our equipment is having connectivity issues.  We're looking to resolve this presently.  Appologies for the noise and thanks for using freenode!
| 
| *** Logfile started
| *** on Tue Jul 27 19:03:02 2010
| 
| [Tuesday 27 July 2010] [20:14:33] <bgranger>    Hi, does zeromq have any unicode handling for IDENTITY or transport strings?
| [Wednesday 28 July 2010] [14:50:35] <joshcarter>    anyone here able to use the Ruby bindings in a way that you can block on a recv or select within a thread without blocking the whole interpreter (ruby 1.8)?
| [Wednesday 28 July 2010] [14:51:25] <joshcarter>    even select([socket], [], [], 0) blocks the entire interpreter, unlike Ruby's IO.select
| 
| *** Logfile started
| *** on Wed Jul 28 17:04:28 2010
| 
| [Thursday 29 July 2010] [01:29:43] <dos000_>    howdy
| [Thursday 29 July 2010] [01:30:06] <dos000_>    how would you do an http protocol listener in zmq ?
| [Thursday 29 July 2010] [01:37:12] <dos000_>    or how do you listen for (normal) sockets asynchronously in zmq ? is the library godd for that level of (low level) cross platform programming ?
| [Thursday 29 July 2010] [01:46:00] <bgranger>   What language are you working in?
| [Thursday 29 July 2010] [01:46:16] <dos000_>    i can shoose between java and c/c++
| [Thursday 29 July 2010] [01:46:46] <dos000_>    but i would like to compare the java version against the c/c++ one
| [Thursday 29 July 2010] [01:46:55] <bgranger>   OK
| [Thursday 29 July 2010] [01:47:22] <dos000_>    i need something that listens for incoming http connections 
| [Thursday 29 July 2010] [01:47:42] <bgranger>   The general idea is that you would use zmq_poll which works for both zmq sockets and native file descriptor based sockets.  Then you can build an event loop that does both http and zmq
| [Thursday 29 July 2010] [01:47:57] <bgranger>   But there will be a lot of work to do I think.  
| [Thursday 29 July 2010] [01:48:22] <dos000_>    i need something that works based on callbacks like the java nio
| [Thursday 29 July 2010] [01:48:26] <bgranger>   The Python bindings have an eventloop that already integrates zmq with the Tornado web server.
| [Thursday 29 July 2010] [01:49:02] <bgranger>   But I don't work in Java, so I haven't followed that as much.
| [Thursday 29 July 2010] [01:50:11] <dos000_>    ok .. i just read the zmq_poll which looks cool !
| [Thursday 29 July 2010] [01:50:40] <dos000_>    now one thread would be enough to do the zmq_poll ? 
| [Thursday 29 July 2010] [01:50:51] <bgranger>   Yes
| [Thursday 29 July 2010] [01:50:58] <bgranger>   One application thread that is
| [Thursday 29 July 2010] [01:51:13] <dos000_>    if you have say 10000 (10k problem) connections coming in ?
| [Thursday 29 July 2010] [01:51:22] <bgranger>   Yes
| [Thursday 29 July 2010] [01:51:33] <dos000_>    nice !
| [Thursday 29 July 2010] [01:51:36] <bgranger>   If your eventloop implementation is good enough.
| [Thursday 29 July 2010] [01:51:53] <dos000_>    and zmq_poll is cross platform ? i only care about linux and solaris
| [Thursday 29 July 2010] [01:51:56] <bgranger>   I shouldn't promise that, but zmq_poll is just going epoll or kqueue undermeath
| [Thursday 29 July 2010] [01:52:08] <bgranger>   Linux for sure, I am not sure about solaris
| [Thursday 29 July 2010] [01:52:29] <bgranger>   If zmq runs on solaris (which it should), then zmq_poll should work.
| [Thursday 29 July 2010] [01:53:15] <bgranger>   zmq_poll might add a small amount of overhead to epoll/kqueue though, and that might limit the number of connections you can handle.  But, it is fast C++, so you may be OK
| [Thursday 29 July 2010] [01:53:34] <dos000_>    where is the overhead coming from ? 
| [Thursday 29 July 2010] [01:54:19] <dos000_>    because i dont want to do multiplexing or message checking at that level 
| [Thursday 29 July 2010] [01:54:23] <bgranger>   In the fact that zmq_poll handles both native file descriptors and ZMQ sockets and has to do extra logic to manage all of that.
| [Thursday 29 July 2010] [01:54:49] <dos000_>    ah!
| [Thursday 29 July 2010] [01:55:12] <bgranger>   So you want a single server that does both HTTP and OMQ sockets?
| [Thursday 29 July 2010] [01:55:26] <dos000_>    so the idea i have is to get something zmq_poll based listening for incoming connections .. 
| [Thursday 29 July 2010] [01:56:07] <dos000_>    bgranger, nop . i want something that listens for normall sockets in async way. but i dont want to use another lib if zmq already does  it.
| [Thursday 29 July 2010] [01:56:46] <bgranger>   Yes, you would pass the TCP socket that is bound and listening (in non-blocking mode) to the zmq_poll and it would tell you when the socket is ready for reading/writing/error
| [Thursday 29 July 2010] [01:56:57] <bgranger>   How are you wanting to use 0MQ sockets though?
| [Thursday 29 July 2010] [01:57:00] <dos000_>    after connections arrives on the listener they are sent to a pub/sub and to handle messages
| [Thursday 29 July 2010] [01:57:11] <dos000_>    sorry ... 
| [Thursday 29 July 2010] [01:57:38] <bgranger>   OK, so traffic comes in over HTTP and then is sent out for processing using OMQ messages?
| [Thursday 29 July 2010] [01:57:54] <bgranger>   So I think that oMQ should run on solaris...
| [Thursday 29 July 2010] [01:57:56] <dos000_>    exactly !
| [Thursday 29 July 2010] [01:58:51] <bgranger>   Yes, then you will register both TCP socket and OMQ sockets with zmq_poll and it will tel you which TCP socket are ready for send/recv of *bytes* and which 0MQ sockets are ready for send/recv of *messsages*
| [Thursday 29 July 2010] [01:59:25] <bgranger>   But you will have to write the eventloop and HTTP handler yourself.
| [Thursday 29 July 2010] [01:59:56] <dos000_>    wait .. i dont want to mix both sockets on the incoming traffic 
| [Thursday 29 July 2010] [02:00:17] <dos000_>    i want to only poll for nor mal sockets ..
| [Thursday 29 July 2010] [02:00:25] <bgranger>   Why not 0MQ sockets?
| [Thursday 29 July 2010] [02:00:35] <dos000_>    bgranger, i did that in java already
| [Thursday 29 July 2010] [02:01:12] <bgranger>   I am not quite following you on this part of it.
| [Thursday 29 July 2010] [02:01:14] <dos000_>    http-traffic -> listener send to zmq socket
| [Thursday 29 July 2010] [02:01:18] <bgranger>   Also, this might be of interest to you:
| [Thursday 29 July 2010] [02:01:19] <bgranger>   http://mongrel2.org/home
| [Thursday 29 July 2010] [02:01:39] <bgranger>   What type of ZMQ socket?
| [Thursday 29 July 2010] [02:01:44] <dos000_>    i briefly looked at that ..
| [Thursday 29 July 2010] [02:02:22] <dos000_>    on the right hand i have pub/subs so i can have many resources responding to http traffic
| [Thursday 29 July 2010] [02:02:43] <dos000_>    bgranger, are you behing mongrel2 ?
| [Thursday 29 July 2010] [02:02:59] <dos000_>    oops s/behing/behind ?
| [Thursday 29 July 2010] [02:03:04] <bgranger>   No, I develop the Python bindings to 0MQ (pyzmq) which are used in mongrel2
| [Thursday 29 July 2010] [02:03:10] <bgranger>   Zed Shaw is behind it
| [Thursday 29 July 2010] [02:03:58] <dos000_>    but i am wondering why i would want to mix different traffic on the same socket .. there is so many ports available !
| [Thursday 29 July 2010] [02:04:54] <sjampoo>    dos000, firewall issues is one. But another reason is that for example FLASH (which can be used as a websocket fallback) needs a policy server which listens on port 80. 
| [Thursday 29 July 2010] [02:05:05] <dos000_>    i am a speed freak .. so even the extra processing required to differentiate between the two should not be occured .. if there is no need to
| [Thursday 29 July 2010] [02:05:09] <bgranger>   I think we are missing, I am not saying you would mix traffic on a single socket.
| [Thursday 29 July 2010] [02:05:10] <sjampoo>    So if you want to have the fallback and a regular server you will need 2 different IP adresses.
| [Thursday 29 July 2010] [02:05:26] <bgranger>   You would have a TCP socket that would handle HTTP requests and replies
| [Thursday 29 July 2010] [02:05:27] <dos000_>    ok .. ok i get the firewall point
| [Thursday 29 July 2010] [02:05:56] <bgranger>   And then a separate 0MQ socket (or multiple of them) that would handle the talking to the other parts of your system.
| [Thursday 29 July 2010] [02:06:12] <dos000_>    yes exactly
| [Thursday 29 July 2010] [02:06:45] <bgranger>   All of those sockets will be passed to zmq_poll
| [Thursday 29 July 2010] [02:06:50] <dos000_>    http-traffic -> listener -> subscribers to zmq messages
| [Thursday 29 July 2010] [02:07:40] <dos000_>    but i want to poll for the http traffic only on the left . the rest i am (candidly) suuming i dont have to poll for it
| [Thursday 29 July 2010] [02:08:18] <dos000_>    s/suuming/assuming
| [Thursday 29 July 2010] [02:08:44] <bgranger>   But if you want your system to handle lots of connections, you should also poll for the OMQ sockets as well (both send/recv)
| [Thursday 29 July 2010] [02:09:00] <bgranger>   Otherwise, your 0MQ send/recv calls will block.
| [Thursday 29 July 2010] [02:09:09] <dos000_>    ah!
| [Thursday 29 July 2010] [02:09:19] <dos000_>    i did not notice that !
| [Thursday 29 July 2010] [02:09:31] <dos000_>    mmmmmm
| [Thursday 29 July 2010] [02:10:00] <dos000_>    maybe i want that afterall
| [Thursday 29 July 2010] [02:10:19] <dos000_>    or maybe not. i mean the blocking calls on the right
| [Thursday 29 July 2010] [02:10:39] <bgranger>   You definitely don't want that
| [Thursday 29 July 2010] [02:11:01] <dos000_>    ah!
| [Thursday 29 July 2010] [02:11:03] <bgranger>   Also, I am not sure you can use the blocking 0MQ calls and zmq_poll at the same time.
| [Thursday 29 July 2010] [02:11:20] <bgranger>   In general, it is usually one or the other
| [Thursday 29 July 2010] [02:11:33] <dos000_>    the listener part will get very complicated with all the states machines it has to track
| [Thursday 29 July 2010] [02:12:10] <bgranger>   Yes, definitely, that is why I keep saying you will have to write your own eventloop and that part is not trivial
| [Thursday 29 July 2010] [02:12:21] <dos000_>    bgranger,  ok .. good to know ... where is the definite answer to that question ?
| [Thursday 29 July 2010] [02:12:48] <bgranger>   I would email the list and ask  the core 0MQ devs
| [Thursday 29 July 2010] [02:13:04] <dos000_>    i will
| [Thursday 29 July 2010] [02:13:12] <dos000_>    thanks for your kind help !
| [Thursday 29 July 2010] [02:13:51] <bgranger>   No problem
| [Thursday 29 July 2010] [02:14:58] <dos000_>    one more question ...  i wanted to put some counters for 0mq messages. like how many incoming/ outgoing if i can do all of that using the zmq_poll then this would be cool
| [Thursday 29 July 2010] [02:15:34] <bgranger>   You just want to count incoming/outgoing messages?
| [Thursday 29 July 2010] [02:15:35] <dos000_>    i wanted to track the state of each message and put counters
| [Thursday 29 July 2010] [02:15:51] <dos000_>    per messages .. plus errors/timouts .. 
| [Thursday 29 July 2010] [02:15:53] <bgranger>   Yes, I think zmq_poll can do that
| [Thursday 29 July 2010] [02:16:13] <dos000_>    this is quite nice
| [Thursday 29 July 2010] [02:59:09] <zedas>  dos000_: mongrel2 does that.  i'm behind it.
| [Thursday 29 July 2010] [03:00:09] <zedas>  dos000_: there's no processing overhead in handling multiple protocols on the same port.  they're just different parts of the same parser, so the math makes them the same.
| [Thursday 29 July 2010] [03:00:26] <zedas>  dos000_: if you wrote it by hand then it'd be different, but with mongrel2 it's not any slower.
| [Thursday 29 July 2010] [03:01:03] <zedas>  dos000_: otherwise, all the stuff you want to do is already done in mongrel2.
| [Thursday 29 July 2010] [03:01:22] <zedas>  at least look at how it's done to see how to solve lots of the questions you have, even if you don't use it.
| [Thursday 29 July 2010] [03:25:50] <dos000_>    sure !
| [Thursday 29 July 2010] [03:25:55] <dos000_>    i promess i will
| [Thursday 29 July 2010] [03:57:35] <dos000_>    can i ask which ide you guys use ? i am coming from eclipse after a long absence in c/c++ 
| [Thursday 29 July 2010] [04:07:16] <dos000_>    zedas, what do you use to compile the state_machine files ?
| [Thursday 29 July 2010] [04:07:57] <dos000_>    i checked the makefile but it is not there unless i missed it
| [Thursday 29 July 2010] [04:11:03] <dos000_>    got it !
| [Thursday 29 July 2010] [04:12:19] <dos000_>    i never heard of ragel until now
| [Thursday 29 July 2010] [05:07:38] Notice   -NickServ- This nickname is registered. Please choose a different nickname, or identify via /msg NickServ identify <password>.
| [Thursday 29 July 2010] [05:07:38] Notice   -NickServ- You are now identified for travlr.
| [Thursday 29 July 2010] [05:07:38] CTCP Received Version request from frigg.
| [Thursday 29 July 2010] [10:38:48] <`g> hi
| [Thursday 29 July 2010] [13:18:55] <Nwallins>   how would zeromq overlap or integrate with something like BEEP (http://www.ibm.com/developerworks/webservices/library/x-beep/) ?
| [Thursday 29 July 2010] [14:38:54] <dos000_>    anyone did perf comparisons between solaris and linux or even *bsd yet ? i want to see the difference between epoll and devpoll 
| [Thursday 29 July 2010] [14:42:34] <dos000_>    i found some papers on the net. if you can share i would appreciate
| [Thursday 29 July 2010] [14:47:30] <dos000_>    bgranger, hey
| [Thursday 29 July 2010] [14:53:25] <bgranger>   dos000_: hi
| [Thursday 29 July 2010] [14:56:28] <dos000_>    have you seen anyone doing  comparisons between the solaris or linux implementations of zmq from performance prespective ?
| [Thursday 29 July 2010] [14:56:56] <dos000_>    i am searching now the epoll and delpoll comparisions to get a better idea
| [Thursday 29 July 2010] [14:59:19] <dos000_>    the first question is what would you use to drive the test . if there are tools out there to create 10000 simultaneous sockets then i dont have to write them
| [Thursday 29 July 2010] [15:17:11] <bgranger>   I am sure there are HTTP testing programs, but I am not sure what they are...
| [Thursday 29 July 2010] [15:18:22] <bgranger>   http://www.hpl.hp.com/research/linux/httperf/
| [Thursday 29 July 2010] [15:18:31] <bgranger>   I know of people who have used this...
| [Thursday 29 July 2010] [15:19:25] <dos000_>    i found this so far .. which i can use http://libev.schmorp.de/bench.html
| [Thursday 29 July 2010] [15:20:19] <dos000_>    this will be nice if i can use the client against zmq
| [Thursday 29 July 2010] [15:20:38] <bgranger>   I think httpperf will only test HTTP TCP sockets.
| [Thursday 29 July 2010] [15:20:49] <bgranger>   But those could be managed by a zmq_poll loop
| [Thursday 29 July 2010] [15:21:40] <dos000_>    but the above client can test any protocol i think
| [Thursday 29 July 2010] [15:24:38] <iFire`> I wonder how hard it is to use Poco's crossplatform IPC implementation and graft it onto zeromq
| [Thursday 29 July 2010] [15:24:40]   * iFire` investigates
| [Thursday 29 July 2010] [15:27:38] <Nwallins>   dos000_: I wonder what was used for http://www.zeromq.org/results:ib-tests-v206
| [Thursday 29 July 2010] [15:29:35] <dos000_>    Nwallins, i assume the perf stuff under zmq was used
| [Thursday 29 July 2010] [15:30:02] <Nwallins>   dos000_: can it be used for your purpose?
| [Thursday 29 July 2010] [15:30:13] <dos000_>    those tests are not connections oreinted they are message and payload oriented
| [Thursday 29 July 2010] [15:30:36] <dos000_>    i need something that tests 10k simultaneous connections
| [Thursday 29 July 2010] [15:30:51] <dos000_>    witha variable number of them active
| [Thursday 29 July 2010] [15:33:06] <dos000_>    these guys also cover timeouts which is very important from a client perspective
| [Thursday 29 July 2010] [15:35:08] <dos000_>    this is the latest thread on this http://lists.schmorp.de/pipermail/libev/2010q2/001044.html
| [Friday 30 July 2010] [10:50:42] <btatnall> Hi, I'm trying to get this example to work: http://gist.github.com/500642.  It's using the clrzmq binding from github. I'm not sure if I fully understand how to have a context have multiple subscribers. Anybody willing to look at it with me?
| [Friday 30 July 2010] [10:51:31] <btatnall> The test works about half the time.
| [Friday 30 July 2010] [10:54:03] <CIA-19>   zeromq2: 03Martin Lucina 07master * r544b36d 10/ (src/xreq.cpp src/xreq.hpp): (log message trimmed)
| [Friday 30 July 2010] [10:54:03] <CIA-19>   zeromq2: XREQ: Correct behaviour on hitting ZMQ_HWM
| [Friday 30 July 2010] [10:54:03] <CIA-19>   zeromq2: This reverts part of commit 84e0c7991a9b316ed571533abc628cc1175750a3 to get
| [Friday 30 July 2010] [10:54:03] <CIA-19>   zeromq2: correct ZMQ_HWM semantics with XREQ sockets:
| [Friday 30 July 2010] [10:54:03] <CIA-19>   zeromq2: When sending a message to an XREQ socket, the underlying pipe is selected in
| [Friday 30 July 2010] [10:54:04] <CIA-19>   zeromq2: a round-robin fashion. If an underlying pipe is full it is skipped. If there
| [Friday 30 July 2010] [10:54:05] <CIA-19>   zeromq2: are no underlying pipes, or all underlying pipes are full then zmq_send()
| [Friday 30 July 2010] [11:05:33] <drbobbeaty>   I'd be willing to help, but I'm not using it in that way - XREQ... I'm using the reliable multicast, and it's working really well with multiple zmq::socket_t and connections per socket.
| [Friday 30 July 2010] [11:09:08] <btatnall> Are you using multiple SUB sockets with one context?
| [Friday 30 July 2010] [11:14:37] <drbobbeaty>   I was, but then I switched to the single zmq::socket_t with multiple connect() calls.
| [Friday 30 July 2010] [11:15:24] <drbobbeaty>   I had a scheme where I had multiple sockets - one for each of the UDP multicast addresses I was listening to.
| [Friday 30 July 2010] [11:15:47] <drbobbeaty>   But it seemed so much easier to have one socket and multiple connect() calls. So I switched over.
| [Saturday 31 July 2010] [00:16:52] <thegnuer>   hola , do we have zeromq for mac os ?
| [Saturday 31 July 2010] [01:34:45] <alex_>  hi all, am trying to get zeromq runing on linux 10.4 with python ...
| [Saturday 31 July 2010] [01:35:24] <alex_>  am new to linux, and get an error when I "import zmq" ...
| [Saturday 31 July 2010] [01:35:53] <alex_>  ... Import Error: cannot import name _zmq
| [Saturday 31 July 2010] [01:36:17] <alex_>  is there some stupidly obvious thing that I need to do?
| [Saturday 31 July 2010] [01:38:50] <dos000_>    i am not pythong fan ..  but it looks like this is something to do with how python imports stuff 
| [Saturday 31 July 2010] [01:39:09] <dos000_>    alex_, are you foloowing something in zmq that explains how to do this ?
| [Saturday 31 July 2010] [01:39:27] <alex_>  yes I believe I have followed it exactly
| [Saturday 31 July 2010] [01:39:49] <dos000_>    where is it ?
| [Saturday 31 July 2010] [01:39:49] <alex_>  the INSTALL file on the download
| [Saturday 31 July 2010] [01:40:18] <alex_>  and also a web page on the zeromq site re the python client
| [Saturday 31 July 2010] [01:40:25] <alex_>  will find that page...
| [Saturday 31 July 2010] [01:41:01] <dos000_>    which version of zmq ?
| [Saturday 31 July 2010] [01:41:01] <alex_>  http://github.com/zeromq/pyzmq
| [Saturday 31 July 2010] [01:41:28] <alex_>  2.0.7
| [Saturday 31 July 2010] [01:43:57] <dos000_>    you did "python setup.py install" and it was successful ?
| [Saturday 31 July 2010] [01:44:05] <alex_>  I suspect this might yes
| [Saturday 31 July 2010] [01:44:13] <alex_>  sorry ignore that last line
| [Saturday 31 July 2010] [01:44:24] <alex_>  yes it was successful
| [Saturday 31 July 2010] [01:45:05] <dos000_>    i dont see if it automatically installs the zmq libs or no .. as i said i am not a python guy
| [Saturday 31 July 2010] [01:45:44] <dos000_>    To build and install this Python package, you will first need to build and install the latest development version of 0MQ itself. After you have done this, follow these steps:
| [Saturday 31 July 2010] [01:46:00] <dos000_>    there !
| [Saturday 31 July 2010] [01:47:06] <dos000_>    building was very easy for me .. and i did it on windows. 
| [Saturday 31 July 2010] [01:47:23] <dos000_>    linux (i think you meant ubuntu 10.4) should be much easier
| [Saturday 31 July 2010] [01:48:21] <dos000_>    just follow the steps
| [Saturday 31 July 2010] [02:30:45] <alex_>  @dos000 sorry got disconnected before
| [Saturday 31 July 2010] [02:30:48] <alex_>  thanks for your help
| [Saturday 31 July 2010] [02:40:57] <dos000_>    no prob!
| [Saturday 31 July 2010] [04:21:36] <guido_g>    linux 10.4? seems like i missed some kernels...
| 
| *** Logfile started
| *** on Sat Jul 31 04:53:15 2010
| 
| [Saturday 31 July 2010] [09:58:27] <ss_>    afternoon
| 
| *** Logfile started
| *** on Sat Jul 31 19:59:12 2010
| 
| 
| *** Logfile started
| *** on Sat Jul 31 20:02:22 2010
| 