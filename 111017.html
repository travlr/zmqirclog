<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
    <title>ZeroMq IRC Log</title>
<!--    <base href="http://travlr.github.com/zmqirclog/index.html" target="_self"/>-->
    <link rel="stylesheet" href="css/base.css"></link>
    <link rel="shortcut icon" href="images/favicon.gif">

</head>

<body>
    <a name="pagetop" id="pagetop"></a>
    <div id="header-container">
    <div id="header-left" style="float: left;">
        <div id="header-left-top">
            <a href="http://travlr.github.com/zmqirclog/index.html" target="_blank">
            <img src="images/zeromq1-300x115.png" alt="ZeroMq Logo" border="0"/>
            </a>
        </div>
        <div id="header-left-bottom" style="padding-left:200px;font-weight:bold">
            IRC Log
        </div>
    </div>
    <div id="header-right">
        <div id="header-right-top" style="float:right; vertical-align:text-top; padding-top:5px">
            <form action="http://travlr.github.com/zmqirclog/search-results.html" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="017268610037587914919:goqutszmb5o" />
    <input type="hidden" name="cof" value="FORID:9" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="31" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>

        </div>
        <div style="clear:right;"></div>
        <div id="header-right-bottom" style="text-align:right; vertical-align:text-bottom; padding-right:30px; padding-top:75px;">
            <h2><a href="http://www.zeromq.org/" target="_blank">ZeroMq Home</a></h2>
        </div>
    </div>
    <div style="clear: both;"></div>
    <hr/>
</div>

    <div class="content">
        <h2>Monday October 17, 2011</h2>
        <table class="message-table">
            <th>[Time]&nbsp;Name</th><th>Message</th>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-1" class="rowLink" href="#msg-1">
                    [06:58]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    who use xpub/xsub
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-2" class="rowLink" href="#msg-2">
                    [06:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    hi, i&#39;ve coded it :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-3" class="rowLink" href="#msg-3">
                    [06:59]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    oh, you can display your demo
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-4" class="rowLink" href="#msg-4">
                    [07:00]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    my code don&#39;t work
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-5" class="rowLink" href="#msg-5">
                    [07:00]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    pub/sub is ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-6" class="rowLink" href="#msg-6">
                    [07:04]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: here?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-7" class="rowLink" href="#msg-7">
                    [07:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yu[
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-8" class="rowLink" href="#msg-8">
                    [07:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    create a minimal test case and post it to gist, i&#39;ll have a look
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-9" class="rowLink" href="#msg-9">
                    [07:11]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: zmq::socket_t socket (context, ZMQ_XSUB); socket.setsockopt(ZMQ_SUBSCRIBE, "", 0); the second is error:what():  Invalid argument
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-10" class="rowLink" href="#msg-10">
                    [07:11]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    but use ZMQ_SUB is ok, why?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-11" class="rowLink" href="#msg-11">
                    [07:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    XSUB treats the subscriptions as upstream messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-12" class="rowLink" href="#msg-12">
                    [07:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    have a look here:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-13" class="rowLink" href="#msg-13">
                    [07:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    http://www.250bpm.com/pubsub
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-14" class="rowLink" href="#msg-14">
                    [07:12]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-15" class="rowLink" href="#msg-15">
                    [07:12]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    thanks
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-16" class="rowLink" href="#msg-16">
                    [07:13]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    "Subscription messages are composed of a single byte, 0 for unsubscription and 1 for subscription, followed by the subscription itself, ie. the prefix we want to check the messages for."
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-17" class="rowLink" href="#msg-17">
                    [07:31]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: in other word, xsub isn&#39;t set ZMQ_SUBSCRIBE?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-18" class="rowLink" href="#msg-18">
                    [07:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-19" class="rowLink" href="#msg-19">
                    [07:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you should send the subscription message by hand if you want to use XSUB
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-20" class="rowLink" href="#msg-20">
                    [07:34]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    feel free to use SUB though
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-21" class="rowLink" href="#msg-21">
                    [07:34]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    there&#39;s no difference except for this mechanism of sending subscriptions
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-22" class="rowLink" href="#msg-22">
                    [07:35]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    i am chinese, my English is bad, sorry!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-23" class="rowLink" href="#msg-23">
                    [07:37]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    i want know, why "socket.setsockopt(ZMQ_SUBSCRIBE, "", 0);" is error, how make it rigth?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-24" class="rowLink" href="#msg-24">
                    [07:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    use ZMQ_SUB
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-25" class="rowLink" href="#msg-25">
                    [07:42]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    can not use ZMQ_XSUB ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-26" class="rowLink" href="#msg-26">
                    [07:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you can, but why?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-27" class="rowLink" href="#msg-27">
                    [07:43]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    i send subscription  message to xsub, it will give me a message that i want get?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-28" class="rowLink" href="#msg-28">
                    [07:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-29" class="rowLink" href="#msg-29">
                    [07:45]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    it implement by zmq? in other word, xsub reply me auto ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-30" class="rowLink" href="#msg-30">
                    [07:49]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    xpub/xsub is designed for midle device ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-31" class="rowLink" href="#msg-31">
                    [07:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, it&#39;s for middle device
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-32" class="rowLink" href="#msg-32">
                    [07:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    if you are at the endpoint simply use SUB
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-33" class="rowLink" href="#msg-33">
                    [07:57]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    xsub doesn&#39;t send subscription message on setsockopt (ZMQ_SUBSCRIBE ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-34" class="rowLink" href="#msg-34">
                    [07:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    nope, xsub is meant for intermediate devices
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-35" class="rowLink" href="#msg-35">
                    [07:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so it treats subscriptions as simple messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-36" class="rowLink" href="#msg-36">
                    [07:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    going upstream
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-37" class="rowLink" href="#msg-37">
                    [07:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that way the boilerplace device code works ok for subscription forwarding
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-38" class="rowLink" href="#msg-38">
                    [08:07]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: thank you very much
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-39" class="rowLink" href="#msg-39">
                    [09:36]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    how sent message to xpub?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-40" class="rowLink" href="#msg-40">
                    [09:37]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    zmq_send()
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-41" class="rowLink" href="#msg-41">
                    [09:38]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    but xpub can not receive
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-42" class="rowLink" href="#msg-42">
                    [09:39]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    it is special that send to xpub ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-43" class="rowLink" href="#msg-43">
                    [09:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the subscriptions act as messages going in the opposite direction
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-44" class="rowLink" href="#msg-44">
                    [09:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    however
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-45" class="rowLink" href="#msg-45">
                    [09:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    why don&#39;t you simply use PUB/SUB?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-46" class="rowLink" href="#msg-46">
                    [09:46]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    now, i studying
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-47" class="rowLink" href="#msg-47">
                    [09:46]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    i am studying
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-48" class="rowLink" href="#msg-48">
                    [09:51]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    oh, cann&#39;t use zmq_recv on xpub, because zmq has recv the message(from subscriptions)?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-49" class="rowLink" href="#msg-49">
                    [09:52]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    why are you using xpub/xsub in the first place?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-50" class="rowLink" href="#msg-50">
                    [09:52]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pub/sub should work ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-51" class="rowLink" href="#msg-51">
                    [09:54]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;am studying zeromq, i want make the smallest demo. so i use xpub/xsub in endpoint. :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-52" class="rowLink" href="#msg-52">
                    [10:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    why?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-53" class="rowLink" href="#msg-53">
                    [10:03]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the endpoints should use pub/sub
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-54" class="rowLink" href="#msg-54">
                    [10:09]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    by your means, i must create midle device. i need simple, so i try.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-55" class="rowLink" href="#msg-55">
                    [10:10]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    how i receive from xpub?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-56" class="rowLink" href="#msg-56">
                    [10:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    zmq_recv()
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-57" class="rowLink" href="#msg-57">
                    [10:14]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    message form?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-58" class="rowLink" href="#msg-58">
                    [10:14]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    i try receive, but block
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-59" class="rowLink" href="#msg-59">
                    [10:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    which presumably means there&#39;s no subscription message to receive
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-60" class="rowLink" href="#msg-60">
                    [10:20]  longlong
                    </a>
                </td>
                <td class="message-cell">
                    xpub receive message from xsub(it send subscription message)?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-61" class="rowLink" href="#msg-61">
                    [10:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-62" class="rowLink" href="#msg-62">
                    [11:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: there?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-63" class="rowLink" href="#msg-63">
                    [11:12]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    if I destroy a ZMQ_PUB socket and recreate it (same endpoint) without a sleep(1), it fails. what gives?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-64" class="rowLink" href="#msg-64">
                    [11:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko: hi
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-65" class="rowLink" href="#msg-65">
                    [11:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: fails with what error?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-66" class="rowLink" href="#msg-66">
                    [11:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: https://github.com/zeromq/libzmq/blob/master/src/zmq.cpp#L606
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-67" class="rowLink" href="#msg-67">
                    [11:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko: yes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-68" class="rowLink" href="#msg-68">
                    [11:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if (unlikely (rc == -1) {
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-69" class="rowLink" href="#msg-69">
                    [11:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    (( )
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-70" class="rowLink" href="#msg-70">
                    [11:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ugh
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-71" class="rowLink" href="#msg-71">
                    [11:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    let me fix that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-72" class="rowLink" href="#msg-72">
                    [11:16]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    was on cppcheck results
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-73" class="rowLink" href="#msg-73">
                    [11:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    btw, how it&#39;s going with the infrastructure?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-74" class="rowLink" href="#msg-74">
                    [11:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    still broken?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-75" class="rowLink" href="#msg-75">
                    [11:16]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    src/zmq.cpp606syntaxErrorerrorInvalid number of character (() when these macros are defined: &#39;ZMQ_FORCE_SELECT&#39;.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-76" class="rowLink" href="#msg-76">
                    [11:16]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s on stable(r) hardware now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-77" class="rowLink" href="#msg-77">
                    [11:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the blade refuses to recognize hardware extension card
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-78" class="rowLink" href="#msg-78">
                    [11:17]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: not 100% sure; probably "address in use". the point is, zmq_close() isn&#39;t blocking. is that right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-79" class="rowLink" href="#msg-79">
                    [11:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-80" class="rowLink" href="#msg-80">
                    [11:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    so need to juggle a bit more at some point
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-81" class="rowLink" href="#msg-81">
                    [11:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but should be pretty stable now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-82" class="rowLink" href="#msg-82">
                    [11:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: no, it&#39;s not
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-83" class="rowLink" href="#msg-83">
                    [11:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i pushed a couple more snaphots to http://snapshot.zero.mq/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-84" class="rowLink" href="#msg-84">
                    [11:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    windows and php on windows
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-85" class="rowLink" href="#msg-85">
                    [11:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    great
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-86" class="rowLink" href="#msg-86">
                    [11:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    pieter wants that to be moved to downloads. at some point
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-87" class="rowLink" href="#msg-87">
                    [11:18]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s up to you
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-88" class="rowLink" href="#msg-88">
                    [11:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you can of course use your builds to promote yourself, thus keeping the packages on your site
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-89" class="rowLink" href="#msg-89">
                    [11:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    or maybe you don&#39;t care
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-90" class="rowLink" href="#msg-90">
                    [11:20]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: so zmq_close() and immediately zmq_bind(), same endpoint, should work?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-91" class="rowLink" href="#msg-91">
                    [11:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    btw, sorry for long reponse times lately. i&#39;m writting a chapter for aosabook.org and the deadline is in couple of days
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-92" class="rowLink" href="#msg-92">
                    [11:21]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: not necessarily
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-93" class="rowLink" href="#msg-93">
                    [11:21]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    shutdown is done asynchronously
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-94" class="rowLink" href="#msg-94">
                    [11:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: doesn&#39;t really matter
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-95" class="rowLink" href="#msg-95">
                    [11:21]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    ...right, hence zmq_close() isn&#39;t blocking. right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-96" class="rowLink" href="#msg-96">
                    [11:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: those are not much additional hassle now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-97" class="rowLink" href="#msg-97">
                    [11:21]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    can I poll for status?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-98" class="rowLink" href="#msg-98">
                    [11:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: i might convert them at some point
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-99" class="rowLink" href="#msg-99">
                    [11:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-100" class="rowLink" href="#msg-100">
                    [11:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: no, the handle is invalid after you call zmq_close()
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-101" class="rowLink" href="#msg-101">
                    [11:23]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: then how might I accomplish my use case?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-102" class="rowLink" href="#msg-102">
                    [11:23]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in theory, the shutdown mechanism can be altered to wait for listerenrs to un-bind
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-103" class="rowLink" href="#msg-103">
                    [11:24]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    do you want to give it a try?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-104" class="rowLink" href="#msg-104">
                    [11:25]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    Well, I could. It would (apparently) change the semantics of close(). Is that desirable?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-105" class="rowLink" href="#msg-105">
                    [11:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: yes, but you have to differentiate
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-106" class="rowLink" href="#msg-106">
                    [11:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    close listeners synchronously
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-107" class="rowLink" href="#msg-107">
                    [11:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    however, send pending outbound messages asynchronously
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-108" class="rowLink" href="#msg-108">
                    [13:51]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: over the weekend mikko was getting my ruby bindings working with the CI server
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-109" class="rowLink" href="#msg-109">
                    [13:52]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    part of that work is getting my specs/tests running for 2.1 and 3.0
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-110" class="rowLink" href="#msg-110">
                    [13:52]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    for the 3.0 run, there are quite a few failures using ZMQ_FD
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-111" class="rowLink" href="#msg-111">
                    [13:52]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    http://build.zero.mq/view/ffi-rzmq/job/ffi-rzmq-master_libzmq3-0_GCC-debian/4/console
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-112" class="rowLink" href="#msg-112">
                    [13:52]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    have those code paths been changed since the 2.1 release?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-113" class="rowLink" href="#msg-113">
                    [13:53]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    (my overall point is that maybe these spec failures indicate *real* bugs in 3.0)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-114" class="rowLink" href="#msg-114">
                    [13:54]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    hi,  I&#39;m using the C api for zmq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-115" class="rowLink" href="#msg-115">
                    [13:54]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    when I try to rcv multipart mesasge
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-116" class="rowLink" href="#msg-116">
                    [13:55]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    the first part that I&#39;m receiving is always blank
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-117" class="rowLink" href="#msg-117">
                    [13:55]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    why is that so?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-118" class="rowLink" href="#msg-118">
                    [13:55]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    jsia: are you receiving on a XREP socket? if not, what socket type are you receiving on?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-119" class="rowLink" href="#msg-119">
                    [13:55]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    the one that is sending is XREQ
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-120" class="rowLink" href="#msg-120">
                    [13:56]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    and the one receiving is using poll
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-121" class="rowLink" href="#msg-121">
                    [13:56]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    jsia: what kind of socket is registered with poll?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-122" class="rowLink" href="#msg-122">
                    [13:56]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    ZMQ_ROUTER
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-123" class="rowLink" href="#msg-123">
                    [13:56]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok, and you are on 2.1.x presumably
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-124" class="rowLink" href="#msg-124">
                    [13:56]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    yup 2.1.10
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-125" class="rowLink" href="#msg-125">
                    [13:57]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    when I did this in python Im receiving the message on all parts
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-126" class="rowLink" href="#msg-126">
                    [13:57]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    read two pages: http://www.zeromq.org/tutorials:xreq-and-xrep
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-127" class="rowLink" href="#msg-127">
                    [13:57]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    and
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-128" class="rowLink" href="#msg-128">
                    [13:57]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    http://www.zeromq.org/sandbox:dealer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-129" class="rowLink" href="#msg-129">
                    [13:57]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    in 2.1.x, XREP is ROUTER is XREP
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-130" class="rowLink" href="#msg-130">
                    [13:58]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    jsia: i recommend you go through the guide again (zero.mq/zg)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-131" class="rowLink" href="#msg-131">
                    [13:58]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    this is all covered in detail
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-132" class="rowLink" href="#msg-132">
                    [13:58]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    ok btw here is a code snippet of what I use to receive the message from a multipart
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-133" class="rowLink" href="#msg-133">
                    [13:58]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    emcpy (string, zmq_msg_data (&amp;message), size);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-134" class="rowLink" href="#msg-134">
                    [13:58]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    memcpy (string, zmq_msg_data (&amp;message), size);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-135" class="rowLink" href="#msg-135">
                    [13:59]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i hope you are getting size from zmq_msg_size()
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-136" class="rowLink" href="#msg-136">
                    [14:00]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    yup
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-137" class="rowLink" href="#msg-137">
                    [14:00]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    it works on the second part of the message without the rcvmore
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-138" class="rowLink" href="#msg-138">
                    [14:00]  jsia
                    </a>
                </td>
                <td class="message-cell">
                    I got the second message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-139" class="rowLink" href="#msg-139">
                    [14:10]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: do you get these FD failures as well?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-140" class="rowLink" href="#msg-140">
                    [14:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mikko: when testing with 3.02 i do get them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-141" class="rowLink" href="#msg-141">
                    [14:10]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: what is the test testing?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-142" class="rowLink" href="#msg-142">
                    [14:11]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    the spec is confirming that the FD returned by zmq_getsockopt(ZMQ_FD) is a valid FD
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-143" class="rowLink" href="#msg-143">
                    [14:11]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    how does it confirm?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-144" class="rowLink" href="#msg-144">
                    [14:12]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    it tests that by using getsockopt() from libc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-145" class="rowLink" href="#msg-145">
                    [14:12]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    it makes a getsockopt call and verifies the return code is 0
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-146" class="rowLink" href="#msg-146">
                    [14:12]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    e.g. it tries to retrieve the size of SO_RCVBUF
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-147" class="rowLink" href="#msg-147">
                    [14:12]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    works great with 2.1.x, fails with 3.x
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-148" class="rowLink" href="#msg-148">
                    [14:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: hmm, interesting
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-149" class="rowLink" href="#msg-149">
                    [14:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: can you reproduce this with raw c code?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-150" class="rowLink" href="#msg-150">
                    [14:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    if i get some free time later today, i&#39;ll write a C version
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-151" class="rowLink" href="#msg-151">
                    [14:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-152" class="rowLink" href="#msg-152">
                    [14:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: does the test call connect before getting the fd?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-153" class="rowLink" href="#msg-153">
                    [14:15]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    no
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-154" class="rowLink" href="#msg-154">
                    [14:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    it just creates a socket and calls getsockopt on it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-155" class="rowLink" href="#msg-155">
                    [14:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    you know how to read ruby code, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-156" class="rowLink" href="#msg-156">
                    [14:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    that might be easiest... ;)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-157" class="rowLink" href="#msg-157">
                    [14:17]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    https://github.com/chuckremes/ffi-rzmq/blob/master/spec/socket_spec.rb#L445
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-158" class="rowLink" href="#msg-158">
                    [14:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: https://gist.github.com/974d39d431e3896bffa4
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-159" class="rowLink" href="#msg-159">
                    [14:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    succeeds
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-160" class="rowLink" href="#msg-160">
                    [14:25]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    hmmm...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-161" class="rowLink" href="#msg-161">
                    [14:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    wtf...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-162" class="rowLink" href="#msg-162">
                    [14:27]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    let me try raw c in a min
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-163" class="rowLink" href="#msg-163">
                    [18:11]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    cremes: you around?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-164" class="rowLink" href="#msg-164">
                    [18:11]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    pieterh: yessir
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-165" class="rowLink" href="#msg-165">
                    [18:12]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    any suggestions for the meetup? I mean, places?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-166" class="rowLink" href="#msg-166">
                    [18:13]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    good question
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-167" class="rowLink" href="#msg-167">
                    [18:13]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    I see you guys are already in winter mode...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-168" class="rowLink" href="#msg-168">
                    [18:13]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    well, autumn at least
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-169" class="rowLink" href="#msg-169">
                    [18:13]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i was going to post to the ML today and ask if any company wanted to sponsor or host a meetup
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-170" class="rowLink" href="#msg-170">
                    [18:13]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    nice idea
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-171" class="rowLink" href="#msg-171">
                    [18:13]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    otherwise we just need to pick a bar that is *not* too busy on a thursday night and take it over :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-172" class="rowLink" href="#msg-172">
                    [18:14]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    my flight gets in at 4.30 so I guess 5.30pm or later is doable
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-173" class="rowLink" href="#msg-173">
                    [18:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-174" class="rowLink" href="#msg-174">
                    [18:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll use that as a guide
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-175" class="rowLink" href="#msg-175">
                    [18:14]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ll leave this in your hands then... I made a wiki page already
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-176" class="rowLink" href="#msg-176">
                    [18:15]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll be sure to put a link to that page in my post
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-177" class="rowLink" href="#msg-177">
                    [18:15]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    nice, looking forward to it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-178" class="rowLink" href="#msg-178">
                    [18:37]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    chicago meetup details posted
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-179" class="rowLink" href="#msg-179">
                    [18:37]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    wiki updated
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-180" class="rowLink" href="#msg-180">
                    [18:42]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: https://gist.github.com/37ac92d3619fa5e9fa36
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-181" class="rowLink" href="#msg-181">
                    [18:42]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    succeeds here
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-182" class="rowLink" href="#msg-182">
                    [18:48]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    &lt;sigh&gt;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-183" class="rowLink" href="#msg-183">
                    [19:02]  jond
                    </a>
                </td>
                <td class="message-cell">
                    mikko, cremes: the fd returned is that of the mailbox which ultimately comes from socketpair in 2.1 , in  3.0 it might be created by eventfd depending on platform. what&#39;s errno?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-184" class="rowLink" href="#msg-184">
                    [19:03]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    jond: ENOTSOCK
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-185" class="rowLink" href="#msg-185">
                    [19:03]  jond
                    </a>
                </td>
                <td class="message-cell">
                    what platform?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-186" class="rowLink" href="#msg-186">
                    [19:03]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    linux
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-187" class="rowLink" href="#msg-187">
                    [19:03]  jond
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;ll be it then
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-188" class="rowLink" href="#msg-188">
                    [19:03]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    does it succeed on mac?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-189" class="rowLink" href="#msg-189">
                    [19:04]  jond
                    </a>
                </td>
                <td class="message-cell">
                    mac will use socketpair
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-190" class="rowLink" href="#msg-190">
                    [19:04]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i thought mac fails as well
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-191" class="rowLink" href="#msg-191">
                    [19:04]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    let me run linux C test
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-192" class="rowLink" href="#msg-192">
                    [19:04]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    C++ one succeeded on linux
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-193" class="rowLink" href="#msg-193">
                    [19:04]  jond
                    </a>
                </td>
                <td class="message-cell">
                    ok maybe, does mac have eventfd?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-194" class="rowLink" href="#msg-194">
                    [19:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    C one fails on linux
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-195" class="rowLink" href="#msg-195">
                    [19:05]  jond
                    </a>
                </td>
                <td class="message-cell">
                    ie : int eventfd(unsigned int initval, int flags);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-196" class="rowLink" href="#msg-196">
                    [19:05]  jond
                    </a>
                </td>
                <td class="message-cell">
                    on 3.0
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-197" class="rowLink" href="#msg-197">
                    [19:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i guess it&#39;s fair breakage
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-198" class="rowLink" href="#msg-198">
                    [19:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    as the socket fd is strictly for polling
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-199" class="rowLink" href="#msg-199">
                    [19:06]  jond
                    </a>
                </td>
                <td class="message-cell">
                    i suspect the fd from eventfd is not a socket.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-200" class="rowLink" href="#msg-200">
                    [19:06]  jond
                    </a>
                </td>
                <td class="message-cell">
                    agreed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-201" class="rowLink" href="#msg-201">
                    [19:06]  jond
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s for polling then, calling ZMQ_EVENTS stuff
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-202" class="rowLink" href="#msg-202">
                    [19:06]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    3.0 FD stuff succeeds on osx
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-203" class="rowLink" href="#msg-203">
                    [19:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: so there was some use in adding it to CI :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-204" class="rowLink" href="#msg-204">
                    [19:07]  jond
                    </a>
                </td>
                <td class="message-cell">
                    yes, because it uses socketpair
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-205" class="rowLink" href="#msg-205">
                    [19:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mikko: ha!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-206" class="rowLink" href="#msg-206">
                    [19:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    jond: so how would you recommend testing that zmq_getsockopt(ZMQ_FD) is returning a valid socket FD?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-207" class="rowLink" href="#msg-207">
                    [19:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    for 3.0 on linux
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-208" class="rowLink" href="#msg-208">
                    [19:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: &gt;0
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-209" class="rowLink" href="#msg-209">
                    [19:08]  jond
                    </a>
                </td>
                <td class="message-cell">
                    cremes : i am reading the eventfd manpage.......
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-210" class="rowLink" href="#msg-210">
                    [19:08]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s it? fd &gt; 0 ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-211" class="rowLink" href="#msg-211">
                    [19:08]  jond
                    </a>
                </td>
                <td class="message-cell">
                    mikko : good call
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-212" class="rowLink" href="#msg-212">
                    [19:09]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    looks like FDs returned from eventfd() can have read/write/poll/select/close called on them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-213" class="rowLink" href="#msg-213">
                    [19:09]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    which explains why getsockopt() isn&#39;t working :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-214" class="rowLink" href="#msg-214">
                    [19:10]  jond
                    </a>
                </td>
                <td class="message-cell">
                    exactly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-215" class="rowLink" href="#msg-215">
                    [19:11]  jond
                    </a>
                </td>
                <td class="message-cell">
                    good catch though!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-216" class="rowLink" href="#msg-216">
                    [19:12]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    so, is the recommendation to just test &gt;0 for 3.0 on linux?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-217" class="rowLink" href="#msg-217">
                    [19:12]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    or should i try to write/poll or something instead?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-218" class="rowLink" href="#msg-218">
                    [19:12]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: not sure if your extension needs to test more than &gt; 0
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-219" class="rowLink" href="#msg-219">
                    [19:13]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    because i guess the test should test whether the value is passed back from zeromq properly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-220" class="rowLink" href="#msg-220">
                    [19:13]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mikko: my extension doesn&#39;t care... i&#39;m really testing the underlying 0mq library
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-221" class="rowLink" href="#msg-221">
                    [19:13]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    is *it* returning the right thing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-222" class="rowLink" href="#msg-222">
                    [19:13]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    in that case poll () might be ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-223" class="rowLink" href="#msg-223">
                    [19:14]  jond
                    </a>
                </td>
                <td class="message-cell">
                    you mustnt try to write to it. I&#39;m just wondering whether there isnt an upper bound on the fd as well. Is this just a test case?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-224" class="rowLink" href="#msg-224">
                    [19:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    jond: yes, this is a test case
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-225" class="rowLink" href="#msg-225">
                    [19:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    just poll with minimal timeout and check that there are no errors
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-226" class="rowLink" href="#msg-226">
                    [19:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mikko: i like it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-227" class="rowLink" href="#msg-227">
                    [19:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: the ffi-rzmq is built morning and evening GMT
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-228" class="rowLink" href="#msg-228">
                    [19:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    around 5am and 5pm iirc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-229" class="rowLink" href="#msg-229">
                    [19:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    assuming libzmq build succeeds
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-230" class="rowLink" href="#msg-230">
                    [19:15]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-231" class="rowLink" href="#msg-231">
                    [19:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it kicks off the rest
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-232" class="rowLink" href="#msg-232">
                    [19:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    master of linzmq doesn&#39;t currently succeed due to hanging test
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-233" class="rowLink" href="#msg-233">
                    [19:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but 2.1 and 3.0 should build
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-234" class="rowLink" href="#msg-234">
                    [19:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mikko: i promise to get these specs running for 2.1 &amp; 3.0 on both osx &amp; linux
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-235" class="rowLink" href="#msg-235">
                    [19:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-236" class="rowLink" href="#msg-236">
                    [19:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    but those other failures for 3.0 i think are *real* bugs
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-237" class="rowLink" href="#msg-237">
                    [19:16]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    bugs in zeromq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-238" class="rowLink" href="#msg-238">
                    [19:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-239" class="rowLink" href="#msg-239">
                    [19:17]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    the PUB &amp; bind spec is a real failure
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-240" class="rowLink" href="#msg-240">
                    [19:17]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    there&#39;s an open issue for it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-241" class="rowLink" href="#msg-241">
                    [19:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    thats fine
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-242" class="rowLink" href="#msg-242">
                    [19:17]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    will a few failing specs prevent libzmq from succeeding?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-243" class="rowLink" href="#msg-243">
                    [19:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    no
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-244" class="rowLink" href="#msg-244">
                    [19:17]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-245" class="rowLink" href="#msg-245">
                    [19:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    only ffi-rzmq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-246" class="rowLink" href="#msg-246">
                    [19:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    http://build.zero.mq/view/ffi-rzmq/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-247" class="rowLink" href="#msg-247">
                    [19:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the 4.0 hasn&#39;t built because of libzmq not testing atm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-248" class="rowLink" href="#msg-248">
                    [19:30]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mikko: i have the spec fixed to use poll() for 2.1 &amp; 3.0
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-249" class="rowLink" href="#msg-249">
                    [19:30]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    succeeds on 2.1/3.0 for both osx &amp; linux
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-250" class="rowLink" href="#msg-250">
                    [19:30]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll commit this shortly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-251" class="rowLink" href="#msg-251">
                    [19:50]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cremes: looks better now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-252" class="rowLink" href="#msg-252">
                    [19:51]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    good
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-253" class="rowLink" href="#msg-253">
                    [21:58]  Saladino
                    </a>
                </td>
                <td class="message-cell">
                    hiya
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-254" class="rowLink" href="#msg-254">
                    [22:02]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Saladino: hi
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-255" class="rowLink" href="#msg-255">
                    [22:12]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m seeing some strange behavior with libev and zmq where my ev callback is never invoked
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-256" class="rowLink" href="#msg-256">
                    [22:12]  whack
                    </a>
                </td>
                <td class="message-cell">
                    https://gist.github.com/28d5c870a307766fc1c3
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-257" class="rowLink" href="#msg-257">
                    [22:13]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    whack: what kind of socket is rpc-&gt;socket
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-258" class="rowLink" href="#msg-258">
                    [22:13]  whack
                    </a>
                </td>
                <td class="message-cell">
                    from the strace, it seems like the order of events is backwards. Something calls recvfrom() on fd 19 before epoll is told to watch it, so the first message to this event seems to be dropped
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-259" class="rowLink" href="#msg-259">
                    [22:13]  whack
                    </a>
                </td>
                <td class="message-cell">
                    mikko: void *
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-260" class="rowLink" href="#msg-260">
                    [22:13]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    no, not the c type
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-261" class="rowLink" href="#msg-261">
                    [22:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but the socket type
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-262" class="rowLink" href="#msg-262">
                    [22:14]  whack
                    </a>
                </td>
                <td class="message-cell">
                    oh, silly me
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-263" class="rowLink" href="#msg-263">
                    [22:14]  whack
                    </a>
                </td>
                <td class="message-cell">
                    its req/rep, this side is the REQ
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-264" class="rowLink" href="#msg-264">
                    [22:14]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I can verify the remote end sees the request and replies, but the reply is only seen if I invoke rpc_Call_poll myself
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-265" class="rowLink" href="#msg-265">
                    [22:14]  whack
                    </a>
                </td>
                <td class="message-cell">
                    (outside libev)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-266" class="rowLink" href="#msg-266">
                    [22:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    rpc-&gt;socket is REQ ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-267" class="rowLink" href="#msg-267">
                    [22:14]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I have other code using req/rep (though on the REP side) that works
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-268" class="rowLink" href="#msg-268">
                    [22:15]  whack
                    </a>
                </td>
                <td class="message-cell">
                    rpc-&gt;socket = zmq_socket(rpc-&gt;zmq, ZMQ_REQ);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-269" class="rowLink" href="#msg-269">
                    [22:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    on REQ read cannot be invoked before write
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-270" class="rowLink" href="#msg-270">
                    [22:15]  whack
                    </a>
                </td>
                <td class="message-cell">
                    the code snippet I showed doesn&#39;t do any reading
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-271" class="rowLink" href="#msg-271">
                    [22:15]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    do you get a reply back there?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-272" class="rowLink" href="#msg-272">
                    [22:16]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I get a reply if I do a sleep then invoke rpc_call_poll explicitly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-273" class="rowLink" href="#msg-273">
                    [22:16]  whack
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s intended to happen is teh REQ goes out, it sets up an event handler for the reply, and goes about other business
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-274" class="rowLink" href="#msg-274">
                    [22:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    do you call ev_loop after that ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-275" class="rowLink" href="#msg-275">
                    [22:17]  whack
                    </a>
                </td>
                <td class="message-cell">
                    yup
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-276" class="rowLink" href="#msg-276">
                    [22:18]  whack
                    </a>
                </td>
                <td class="message-cell">
                    well, ev_run technically
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-277" class="rowLink" href="#msg-277">
                    [22:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    does ev_run run once?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-278" class="rowLink" href="#msg-278">
                    [22:18]  whack
                    </a>
                </td>
                <td class="message-cell">
                    nope
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-279" class="rowLink" href="#msg-279">
                    [22:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    or does it block until there are events?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-280" class="rowLink" href="#msg-280">
                    [22:19]  whack
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s used to block forever, handling events that are regsitered accordingly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-281" class="rowLink" href="#msg-281">
                    [22:19]  whack
                    </a>
                </td>
                <td class="message-cell">
                    this same program uses libev (the same EV loop) with REP to accept rpc calls and reply with results
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-282" class="rowLink" href="#msg-282">
                    [22:20]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m implementing calls out of this program, and it seems like libev is not seeing the "ready to read" event
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-283" class="rowLink" href="#msg-283">
                    [22:20]  whack
                    </a>
                </td>
                <td class="message-cell">
                    lemme read over the code and see if there&#39;s anything sensitive here and post the full rpc and server implementation
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-284" class="rowLink" href="#msg-284">
                    [22:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    are they running on different threads?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-285" class="rowLink" href="#msg-285">
                    [22:20]  whack
                    </a>
                </td>
                <td class="message-cell">
                    nope
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-286" class="rowLink" href="#msg-286">
                    [22:20]  whack
                    </a>
                </td>
                <td class="message-cell">
                    1 thread for the main program with libev
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-287" class="rowLink" href="#msg-287">
                    [22:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    does it block on ev_run eternally?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-288" class="rowLink" href="#msg-288">
                    [22:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    so just to recap
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-289" class="rowLink" href="#msg-289">
                    [22:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    you zmq_send there, your REP socket callback gets called
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-290" class="rowLink" href="#msg-290">
                    [22:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it sends a response
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-291" class="rowLink" href="#msg-291">
                    [22:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and rpc_call_poll doesn&#39;t get invoked?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-292" class="rowLink" href="#msg-292">
                    [22:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    what does rpc_call_poll do?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-293" class="rowLink" href="#msg-293">
                    [22:22]  whack
                    </a>
                </td>
                <td class="message-cell">
                    mikko: ev_run blocks eternally
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-294" class="rowLink" href="#msg-294">
                    [22:22]  whack
                    </a>
                </td>
                <td class="message-cell">
                    https://github.com/jordansissel/experiments/tree/master/c/libev/rpc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-295" class="rowLink" href="#msg-295">
                    [22:22]  whack
                    </a>
                </td>
                <td class="message-cell">
                    in rpc.c if I uncomment lines 79-83, I am able to read the response.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-296" class="rowLink" href="#msg-296">
                    [22:24]  whack
                    </a>
                </td>
                <td class="message-cell">
                    rpc_server.c has an example of this rpc stuff functioning, but the receiver instead of the caller
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-297" class="rowLink" href="#msg-297">
                    [22:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    where do you call ev_run ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-298" class="rowLink" href="#msg-298">
                    [22:25]  whack
                    </a>
                </td>
                <td class="message-cell">
                    elsewhere in the program
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-299" class="rowLink" href="#msg-299">
                    [22:25]  whack
                    </a>
                </td>
                <td class="message-cell">
                    rpc and rpc_server are just ways to register rpc handlers or call rpc methods
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-300" class="rowLink" href="#msg-300">
                    [22:26]  whack
                    </a>
                </td>
                <td class="message-cell">
                    ev_run is not likely related. strace shows libev listening for that event
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-301" class="rowLink" href="#msg-301">
                    [22:27]  whack
                    </a>
                </td>
                <td class="message-cell">
                    https://gist.github.com/28d5c870a307766fc1c3 now includes a piece of the main method if you really need to see the ev_run call
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-302" class="rowLink" href="#msg-302">
                    [22:27]  whack
                    </a>
                </td>
                <td class="message-cell">
                    libev is functioning 100% normally for the rest of the program (which has thousands of event handlers regsitered)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-303" class="rowLink" href="#msg-303">
                    [22:32]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    hmm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-304" class="rowLink" href="#msg-304">
                    [22:33]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s a handful to read
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-305" class="rowLink" href="#msg-305">
                    [22:33]  whack
                    </a>
                </td>
                <td class="message-cell">
                    C isn&#39;t the most compact of languages ;)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-306" class="rowLink" href="#msg-306">
                    [22:34]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    so you see EV_READ being invoked on REP side?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-307" class="rowLink" href="#msg-307">
                    [22:34]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but not on REQ side?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-308" class="rowLink" href="#msg-308">
                    [22:34]  whack
                    </a>
                </td>
                <td class="message-cell">
                    the request is sent properly, handled, and replied-to
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-309" class="rowLink" href="#msg-309">
                    [22:35]  whack
                    </a>
                </td>
                <td class="message-cell">
                    the reply is not observed unless I do it manually (vs letting libev do it)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-310" class="rowLink" href="#msg-310">
                    [22:35]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I think the cause is shown by the strace in the gist I posted
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-311" class="rowLink" href="#msg-311">
                    [22:35]  whack
                    </a>
                </td>
                <td class="message-cell">
                    something is calling &#39;poll&#39; and reads from fd 19 before libev gets to check it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-312" class="rowLink" href="#msg-312">
                    [22:37]  whack
                    </a>
                </td>
                <td class="message-cell">
                    https://gist.github.com/28d5c870a307766fc1c3#file_strace
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-313" class="rowLink" href="#msg-313">
                    [22:38]  whack
                    </a>
                </td>
                <td class="message-cell">
                    https://gist.github.com/14e28767fbdc9a91e061
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-314" class="rowLink" href="#msg-314">
                    [22:39]  whack
                    </a>
                </td>
                <td class="message-cell">
                    maybe related, but zmq_send seems to check and read from the fd I get from zmq_getsockopt(..., ZMQ_FD)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-315" class="rowLink" href="#msg-315">
                    [22:40]  whack
                    </a>
                </td>
                <td class="message-cell">
                    probably a red herring I suppose
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-316" class="rowLink" href="#msg-316">
                    [22:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    do the client and service run in the same process?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-317" class="rowLink" href="#msg-317">
                    [22:40]  whack
                    </a>
                </td>
                <td class="message-cell">
                    nope
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-318" class="rowLink" href="#msg-318">
                    [22:40]  whack
                    </a>
                </td>
                <td class="message-cell">
                    one&#39;s actually
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-319" class="rowLink" href="#msg-319">
                    [22:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    ok, can you test this on REP side
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-320" class="rowLink" href="#msg-320">
                    [22:40]  whack
                    </a>
                </td>
                <td class="message-cell">
                    one&#39;s just a javascript tool that handles rpc calls
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-321" class="rowLink" href="#msg-321">
                    [22:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    add sleep (1);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-322" class="rowLink" href="#msg-322">
                    [22:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    just to see if there is a race going on
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-323" class="rowLink" href="#msg-323">
                    [22:40]  whack
                    </a>
                </td>
                <td class="message-cell">
                    a race?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-324" class="rowLink" href="#msg-324">
                    [22:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-325" class="rowLink" href="#msg-325">
                    [22:41]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ve cut the program down to just the rpc call out, the remote process replies
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-326" class="rowLink" href="#msg-326">
                    [22:41]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    when you send the request, it might&#39;ve been received before you get to run the ev_run
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-327" class="rowLink" href="#msg-327">
                    [22:41]  whack
                    </a>
                </td>
                <td class="message-cell">
                    what would race with it?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-328" class="rowLink" href="#msg-328">
                    [22:41]  whack
                    </a>
                </td>
                <td class="message-cell">
                    hmm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-329" class="rowLink" href="#msg-329">
                    [22:41]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ll add a delayed send
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-330" class="rowLink" href="#msg-330">
                    [22:41]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and as the ZMQ_FD is edge triggered rather than level triggered it might mess up
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-331" class="rowLink" href="#msg-331">
                    [22:42]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    there is a small window of race where the state change gets triggered before your event loop starts
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-332" class="rowLink" href="#msg-332">
                    [22:42]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i guess
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-333" class="rowLink" href="#msg-333">
                    [22:43]  whack
                    </a>
                </td>
                <td class="message-cell">
                    that makes sense actually
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-334" class="rowLink" href="#msg-334">
                    [22:43]  whack
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ll put the rpc call after ev_run happens
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-335" class="rowLink" href="#msg-335">
                    [22:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but ev_run blocks?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-336" class="rowLink" href="#msg-336">
                    [22:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s been a while since i&#39;ve used libeve
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-337" class="rowLink" href="#msg-337">
                    [22:43]  whack
                    </a>
                </td>
                <td class="message-cell">
                    with timers
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-338" class="rowLink" href="#msg-338">
                    [22:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    -e
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-339" class="rowLink" href="#msg-339">
                    [22:44]  whack
                    </a>
                </td>
                <td class="message-cell">
                    libev has a timer you can use to prepare a callback to happen after some time, after ev_run starts
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-340" class="rowLink" href="#msg-340">
                    [22:44]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    cool, it would at least exclude the possible race condition there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-341" class="rowLink" href="#msg-341">
                    [22:44]  whack
                    </a>
                </td>
                <td class="message-cell">
                    in the long term, I think the right case is probably to always do the zmq_send on next tick
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-342" class="rowLink" href="#msg-342">
                    [22:44]  whack
                    </a>
                </td>
                <td class="message-cell">
                    that way libev gets a chance to listen, zmq_send then sends, reply comes, and libev gets notified
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-343" class="rowLink" href="#msg-343">
                    [22:46]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes, sounds like a sensible approach
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-344" class="rowLink" href="#msg-344">
                    [22:46]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i gotta head to bed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-345" class="rowLink" href="#msg-345">
                    [22:47]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    good night
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-346" class="rowLink" href="#msg-346">
                    [22:48]  whack
                    </a>
                </td>
                <td class="message-cell">
                    later, thanks for the second set of eyes :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-347" class="rowLink" href="#msg-347">
                    [22:55]  whack
                    </a>
                </td>
                <td class="message-cell">
                    that was the ticket. I added a zero-delay timer to ensure zmq_send occurs after the start of the next libev iteration allowing it to watch for zmq messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-348" class="rowLink" href="#msg-348">
                    [23:09]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    hey there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-349" class="rowLink" href="#msg-349">
                    [23:10]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    i keep on getting a "Socket operation on non-socket" error when using zmq_poll
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-350" class="rowLink" href="#msg-350">
                    [23:10]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    in c and c++ api
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-351" class="rowLink" href="#msg-351">
                    [23:10]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    socket is set up correctly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-352" class="rowLink" href="#msg-352">
                    [23:11]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    i have on poll item
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-353" class="rowLink" href="#msg-353">
                    [23:11]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    item[0].socket = mysocket (of type zmq::socket_t)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-354" class="rowLink" href="#msg-354">
                    [23:12]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    item[0].fd = 0; item[0].events = ZMQ_POLLIN; item[0].revents =0;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-355" class="rowLink" href="#msg-355">
                    [23:13]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    socket is bound to a tcp port, as ZMQ_PULL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-356" class="rowLink" href="#msg-356">
                    [23:13]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    it works correctly though when using zmq_poll i get an error
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-357" class="rowLink" href="#msg-357">
                    [23:14]  michelp
                    </a>
                </td>
                <td class="message-cell">
                    pyth0n, it would be most useful if you pasted a snippet of code to a pastebin that reproduced your problem
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-358" class="rowLink" href="#msg-358">
                    [23:17]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    http://pastebin.com/tU51MwLR
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-359" class="rowLink" href="#msg-359">
                    [23:20]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    the snippet works fine, when i use blocking io
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-360" class="rowLink" href="#msg-360">
                    [23:20]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    but with polling i get this error
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-361" class="rowLink" href="#msg-361">
                    [23:23]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    any idea?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-362" class="rowLink" href="#msg-362">
                    [23:28]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    uups
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-363" class="rowLink" href="#msg-363">
                    [23:29]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    sorry i am stupid
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-364" class="rowLink" href="#msg-364">
                    [23:30]  pyth0n
                    </a>
                </td>
                <td class="message-cell">
                    i had pointer on socket_t .. damn
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-365" class="rowLink" href="#msg-365">
                    [23:38]  michelp
                    </a>
                </td>
                <td class="message-cell">
                    pyth0n, well, I don&#39;t work with a lot of C++, unfortunately.  Mostly python.  The first argument to poll() looks a little weird though, is &amp;_pollitem[0] correct?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-366" class="rowLink" href="#msg-366">
                    [23:39]  michelp
                    </a>
                </td>
                <td class="message-cell">
                    i don&#39;t know the api, but that looks weird referencing the zeroth item
                </td>
            </tr>
            
        </table>
    </div>
    <div class="footer-container"><hr/>
    <p style="color:#a9a9a9; font-size:0.75em; text-align:center; margin:5px 5%;">
       Web site design and content is copyright &copy; 2010-2011 Peter Alexander, ProDataLab. Site content licensed under the Creative Commons Attribution-Share Alike 3.0 License.
       &Oslash;MQ is copyright &copy; Copyright &copy; 2007-2011 iMatix Corporation and Contributors.
       <a href="http://www.imatix.com/contact">Contact us for professional support.</a>
       &Oslash;MQ is free software licensed under the LGPL. &Oslash;MQ, ZeroMQ, and 0MQ are trademarks of iMatix Corporation.
       <a href="http://www.zeromq.org/legal:terms-of-use">Terms of Use</a> ?
       <a href="http://www.zeromq.org/legal:privacy-policy">Privacy Policy</a>
    </p>
</div>

</body>
</html>
