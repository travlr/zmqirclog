<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
    <title>ZeroMq IRC Log</title>
<!--    <base href="http://travlr.github.com/zmqirclog/index.html" target="_self"/>-->
    <link rel="stylesheet" href="css/base.css"></link>
    <link rel="shortcut icon" href="images/favicon.gif">

</head>

<body>
    <a name="pagetop" id="pagetop"></a>
    <div id="header-container">
    <div id="header-left" style="float: left;">
        <div id="header-left-top">
            <a href="http://travlr.github.com/zmqirclog/index.html" target="_blank">
            <img src="images/zeromq1-300x115.png" alt="ZeroMq Logo" border="0"/>
            </a>
        </div>
        <div id="header-left-bottom" style="padding-left:200px;font-weight:bold">
            IRC Log
        </div>
    </div>
    <div id="header-right">
        <div id="header-right-top" style="float:right; vertical-align:text-top; padding-top:5px">
            <form action="http://travlr.github.com/zmqirclog/search-results.html" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="017268610037587914919:goqutszmb5o" />
    <input type="hidden" name="cof" value="FORID:9" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="31" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>

        </div>
        <div style="clear:right;"></div>
        <div id="header-right-bottom" style="text-align:right; vertical-align:text-bottom; padding-right:30px; padding-top:75px;">
            <h2><a href="http://www.zeromq.org/" target="_blank">ZeroMq Home</a></h2>
        </div>
    </div>
    <div style="clear: both;"></div>
    <hr/>
</div>

    <div class="content">
        <h2>Friday September 9, 2011</h2>
        <table class="message-table">
            <th>[Time]&nbsp;Name</th><th>Message</th>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-1" class="rowLink" href="#msg-1">
                    [01:24]  strich
                    </a>
                </td>
                <td class="message-cell">
                    WOndering if anyone could help me - I&#39;m programming zmq in C++. Had it working fine all in a single class with methods. I refactored it into a more OO and classful system. But I&#39;m getting crashes now that I&#39;ve tried to define socket and pollitems as pointers and initialize them in the constructor. Whenever poll() is called it crashes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-2" class="rowLink" href="#msg-2">
                    [01:25]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Its got to be that I&#39;m passing a bad pointer around or not defining and initializing properly. I&#39;ve been on this for half a day now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-3" class="rowLink" href="#msg-3">
                    [01:26]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Is there are documentation or code examples that show it being done in a class?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-4" class="rowLink" href="#msg-4">
                    [01:32]  strich
                    </a>
                </td>
                <td class="message-cell">
                    My code: http://pastebin.com/avpqM2JG
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-5" class="rowLink" href="#msg-5">
                    [01:33]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Can anyone point out whats wrong?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-6" class="rowLink" href="#msg-6">
                    [02:17]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Can anyone help?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-7" class="rowLink" href="#msg-7">
                    [03:03]  strich
                    </a>
                </td>
                <td class="message-cell">
                    WOndering if anyone could help me - I&#39;m programming zmq in C++. Had it working fine all in a single class with methods. I refactored it into a more OO and classful system. But I&#39;m getting crashes now that I&#39;ve tried to define socket and pollitems as pointers and initialize them in the constructor. Whenever poll() is called it crashes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-8" class="rowLink" href="#msg-8">
                    [03:03]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Its got to be that I&#39;m passing a bad pointer around or not defining and initializing properly. I&#39;ve been on this for half a day now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-9" class="rowLink" href="#msg-9">
                    [03:03]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Is there are documentation or code examples that show it being done in a class?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-10" class="rowLink" href="#msg-10">
                    [03:03]  strich
                    </a>
                </td>
                <td class="message-cell">
                    My code: http://pastebin.com/avpqM2JG
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-11" class="rowLink" href="#msg-11">
                    [03:03]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Can anyone point out whats wrong?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-12" class="rowLink" href="#msg-12">
                    [03:49]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    strich: line 63:   pollitems = pts; /* taking the pointer to a stack variable and assigning it to a member variable. Dont&#39; do that. */
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-13" class="rowLink" href="#msg-13">
                    [03:54]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    strich: also the way the code handles the zmq::context_t and zmq::socket_t values looks wrong too.  You create a context object but don&#39;t store it anywhere except in a stack variable.  When creating the socket object you should be storing it directly in a member variable.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-14" class="rowLink" href="#msg-14">
                    [03:56]  strich
                    </a>
                </td>
                <td class="message-cell">
                    neopallium - Thanks for responding. How would you suggest I keep a pointer on the pollitems array then?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-15" class="rowLink" href="#msg-15">
                    [03:57]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    strich: you need to allocate the array using "new"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-16" class="rowLink" href="#msg-16">
                    [03:57]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    so that it will be in the heap instead of on the stack.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-17" class="rowLink" href="#msg-17">
                    [03:58]  strich
                    </a>
                </td>
                <td class="message-cell">
                    pollitems = new zmq::pollitem_t[1]; ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-18" class="rowLink" href="#msg-18">
                    [04:00]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    Yeah that should work for the pollitems.  It has been a few years since I last worked on C++ code, I mainly write code in C now, so I am a little rusty with C++.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-19" class="rowLink" href="#msg-19">
                    [04:00]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Doing this with socket now: socket = new zmq::socket_t(context, ZMQ_ROUTER);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-20" class="rowLink" href="#msg-20">
                    [04:00]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    also I think line 64 is wrong, you are taking a pointer to another stack variable.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-21" class="rowLink" href="#msg-21">
                    [04:01]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    that looks right too.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-22" class="rowLink" href="#msg-22">
                    [04:01]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Yeah thats commented out now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-23" class="rowLink" href="#msg-23">
                    [04:01]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Lastly, for context, I&#39;m not assigning a global member variable because none of the class methods use it directly.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-24" class="rowLink" href="#msg-24">
                    [04:02]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    are you creating one context per socket?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-25" class="rowLink" href="#msg-25">
                    [04:02]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-26" class="rowLink" href="#msg-26">
                    [04:02]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    you shouldn&#39;t do that.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-27" class="rowLink" href="#msg-27">
                    [04:02]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Only the one socket too, really. The class is only instantiated once
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-28" class="rowLink" href="#msg-28">
                    [04:02]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Oh?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-29" class="rowLink" href="#msg-29">
                    [04:03]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    should only use one context for the whole process/program and create sockets from that one instance.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-30" class="rowLink" href="#msg-30">
                    [04:03]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    also when your program close it should cleanup that context.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-31" class="rowLink" href="#msg-31">
                    [04:04]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Pretty sure zmq does that as part of its C++ codebase when the zmq destructor is called
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-32" class="rowLink" href="#msg-32">
                    [04:04]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    sending messages is async. in zmq.  You can&#39;t be sure that all messages are sent until you terminate the zmq context.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-33" class="rowLink" href="#msg-33">
                    [04:05]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    I haven&#39;t worked with the C++ bindings for zmq, so maybe that will not be an issue.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-34" class="rowLink" href="#msg-34">
                    [04:06]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Either way, it still seems to be doing weird things
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-35" class="rowLink" href="#msg-35">
                    [04:06]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    is it still crashing?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-36" class="rowLink" href="#msg-36">
                    [04:08]  strich
                    </a>
                </td>
                <td class="message-cell">
                    No, but something is blocking. I basically have al oop that runs, and it appears something it blocking during instantiation of Game
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-37" class="rowLink" href="#msg-37">
                    [04:09]  strich
                    </a>
                </td>
                <td class="message-cell">
                    mmm, its that try catch I think. Weird
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-38" class="rowLink" href="#msg-38">
                    [04:09]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    ah, I know why
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-39" class="rowLink" href="#msg-39">
                    [04:09]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    the try catch is the scope for the zmq context
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-40" class="rowLink" href="#msg-40">
                    [04:09]  strich
                    </a>
                </td>
                <td class="message-cell">
                    ohhhh
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-41" class="rowLink" href="#msg-41">
                    [04:09]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    it is trying to destroy the context
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-42" class="rowLink" href="#msg-42">
                    [04:09]  strich
                    </a>
                </td>
                <td class="message-cell">
                    and its being deleted
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-43" class="rowLink" href="#msg-43">
                    [04:09]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    yup
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-44" class="rowLink" href="#msg-44">
                    [04:09]  strich
                    </a>
                </td>
                <td class="message-cell">
                    hah
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-45" class="rowLink" href="#msg-45">
                    [04:10]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    another reason to make it a member variable and not a stack variable.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-46" class="rowLink" href="#msg-46">
                    [04:10]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Yep.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-47" class="rowLink" href="#msg-47">
                    [04:10]  strich
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ll try that now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-48" class="rowLink" href="#msg-48">
                    [04:11]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Yep thats fixed it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-49" class="rowLink" href="#msg-49">
                    [04:11]  strich
                    </a>
                </td>
                <td class="message-cell">
                    You&#39;re a champion Neo
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-50" class="rowLink" href="#msg-50">
                    [04:11]  neopallium
                    </a>
                </td>
                <td class="message-cell">
                    np
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-51" class="rowLink" href="#msg-51">
                    [04:12]  strich
                    </a>
                </td>
                <td class="message-cell">
                    I think I would have been pulling my hair out :P
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-52" class="rowLink" href="#msg-52">
                    [04:12]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Scope always gets me
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-53" class="rowLink" href="#msg-53">
                    [06:16]  strich
                    </a>
                </td>
                <td class="message-cell">
                    neopallium - Hrm, doesn&#39;t look like its fully fixed. Doing this causes a crash: zmq::poll(pollitems, 1, 0);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-54" class="rowLink" href="#msg-54">
                    [06:17]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Its got to be that pollitems pointer is bad
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-55" class="rowLink" href="#msg-55">
                    [06:26]  strich
                    </a>
                </td>
                <td class="message-cell">
                    Fixed it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-56" class="rowLink" href="#msg-56">
                    [06:26]  strich
                    </a>
                </td>
                <td class="message-cell">
                    pollitems[0].socket = *socket; // Must derefence pointer. Still compiles but will crash
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-57" class="rowLink" href="#msg-57">
                    [10:12]  loxs
                    </a>
                </td>
                <td class="message-cell">
                    folks, when I use the REQ/RES pattern, does it imply that I must always wait for the previous RES to arrive before I fire the next REQ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-58" class="rowLink" href="#msg-58">
                    [10:15]  jcase
                    </a>
                </td>
                <td class="message-cell">
                    Yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-59" class="rowLink" href="#msg-59">
                    [10:16]  loxs
                    </a>
                </td>
                <td class="message-cell">
                    can&#39;t I emulate "multiple clients" from a single application?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-60" class="rowLink" href="#msg-60">
                    [10:18]  loxs
                    </a>
                </td>
                <td class="message-cell">
                    oh, just saw it says "too many open files"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-61" class="rowLink" href="#msg-61">
                    [10:18]  jcase
                    </a>
                </td>
                <td class="message-cell">
                    You can. Have a look here: http://zguide.zeromq.org/page:all#A-Request-Reply-Broker. It describes the zmq_router and zmq_dealer sockets.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-62" class="rowLink" href="#msg-62">
                    [10:19]  jcase
                    </a>
                </td>
                <td class="message-cell">
                    Ah, I see :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-63" class="rowLink" href="#msg-63">
                    [10:21]  loxs
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m trying something like   http://friendpaste.com/1z1hl45e5lbBqRzPu2bKWw
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-64" class="rowLink" href="#msg-64">
                    [10:21]  loxs
                    </a>
                </td>
                <td class="message-cell">
                    (which spawns 1000 erlang processes, each of them tring to open a connection to the server)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-65" class="rowLink" href="#msg-65">
                    [10:21]  loxs
                    </a>
                </td>
                <td class="message-cell">
                    so why do I get too many files?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-66" class="rowLink" href="#msg-66">
                    [10:43]  jcase
                    </a>
                </td>
                <td class="message-cell">
                    iirc you want to create one context
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-67" class="rowLink" href="#msg-67">
                    [10:45]  jcase
                    </a>
                </td>
                <td class="message-cell">
                    Also, what OS are you on?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-68" class="rowLink" href="#msg-68">
                    [10:46]  loxs
                    </a>
                </td>
                <td class="message-cell">
                    linux
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-69" class="rowLink" href="#msg-69">
                    [10:58]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    see ulimnit
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-70" class="rowLink" href="#msg-70">
                    [10:58]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    ulimit even
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-71" class="rowLink" href="#msg-71">
                    [10:59]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    anyone here use the jzmq bindings?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-72" class="rowLink" href="#msg-72">
                    [11:00]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ve been seeing some strange behviour when manually calling socket.close and context.destroy
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-73" class="rowLink" href="#msg-73">
                    [11:00]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    socket.close *ocassionally* causes an "Assertion: ok (mailbox.cpp:78)"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-74" class="rowLink" href="#msg-74">
                    [11:01]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    and context.destroy() seems to block and never return :-\
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-75" class="rowLink" href="#msg-75">
                    [11:01]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    both of these are bound to the object destructors, so (in theory) are called by the JVM when the object&#39;s go out of scope (on shutdown, in the case of my application) - and when this happens they both seem fine
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-76" class="rowLink" href="#msg-76">
                    [13:21]  CIA-121
                    </a>
                </td>
                <td class="message-cell">
                    jzmq: 03Nicholas Telford 07master * rf84eb8d 10/ src/Socket.cpp : Fixed setLongSockOpt() not permitting LINGER for ZMQ 3.0. - http://git.io/Mup03A
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-77" class="rowLink" href="#msg-77">
                    [13:21]  CIA-121
                    </a>
                </td>
                <td class="message-cell">
                    jzmq: 03Gonzalo Diethelm 07master * r8658b84 10/ src/Socket.cpp : Merge pull request #69 from nicktelford/upstream-fixes ...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-78" class="rowLink" href="#msg-78">
                    [13:30]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    using jzmq, we&#39;re seeing occasional problems on a SUB socket - sometimes the Thread segfaults, sometimes we get this: "*** glibc detected *** /usr/java/jdk1.6.0_23/bin/java: *** glibc detected *** /usr/java/jdk1.6.0_23/bin/java: double free or corruption (!prev): 0x00000000570dc5f0 ***"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-79" class="rowLink" href="#msg-79">
                    [13:33]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    basically, I&#39;m looking for any help as to how to debug this
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-80" class="rowLink" href="#msg-80">
                    [13:42]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    valgrind / gdb
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-81" class="rowLink" href="#msg-81">
                    [13:42]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    compile with --enable-debug
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-82" class="rowLink" href="#msg-82">
                    [13:42]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and jzmq with CPPFLAGS=&#39;-g -O0&#39;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-83" class="rowLink" href="#msg-83">
                    [13:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    that way you get symbols
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-84" class="rowLink" href="#msg-84">
                    [13:44]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    you can also set /proc/sys/kernel/core_pattern to something sensible and ulimit -c to get core dump
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-85" class="rowLink" href="#msg-85">
                    [13:53]  pouete
                    </a>
                </td>
                <td class="message-cell">
                    Hi all 0/ : question  : i have a program that launch a thread to listen to a TCP port and a main program that read all the connected clients with a select(). it is working great. I add a ZMQ socket to send the data i receive from the TCP port to other modules, but the program "crash". Here is the code : http://pastebin.com/0fsCeC6R it is just a PoC , so, there maybe is some ugly hacks
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-86" class="rowLink" href="#msg-86">
                    [13:54]  pouete
                    </a>
                </td>
                <td class="message-cell">
                    ( the code as it is on the pastebin does not actually works.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-87" class="rowLink" href="#msg-87">
                    [13:57]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    mikko, the error above, is that indicative of an issue in the JVM itself, or could it also have been caused by a problem in zmq/jzmq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-88" class="rowLink" href="#msg-88">
                    [13:57]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    (given that the JVM loads jzmq.so which in turn is linked to zmq.so)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-89" class="rowLink" href="#msg-89">
                    [14:01]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    ntelford: it could be in the jni
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-90" class="rowLink" href="#msg-90">
                    [14:01]  ninjas
                    </a>
                </td>
                <td class="message-cell">
                    Hi, I&#39;m a n00b and trying to understand ZMQ_DEALER sockets a little bit better.  I have 2 ZMQ_DEALER sockets which work pretty much one-way : A sends to B.  In what circumstances could A&#39;s internal message queue build up?  My assumption is that the queue would be building up on the incoming side, but the behavior I am seeing suggests the buildup is on the outgoing side.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-91" class="rowLink" href="#msg-91">
                    [14:02]  ninjas
                    </a>
                </td>
                <td class="message-cell">
                    no HWM is set, btw.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-92" class="rowLink" href="#msg-92">
                    [14:02]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    mikko, that&#39;s my thought, seems to be the area with the least amount of testing certainly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-93" class="rowLink" href="#msg-93">
                    [14:23]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    zmq_poll is interrupted by delivery of signals, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-94" class="rowLink" href="#msg-94">
                    [14:38]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    scratch that question
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-95" class="rowLink" href="#msg-95">
                    [14:38]  ntelford
                    </a>
                </td>
                <td class="message-cell">
                    turns out in Java, there&#39;s no way to interrupt a syscall (or other blocking IO call like zmq_poll)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-96" class="rowLink" href="#msg-96">
                    [18:06]  mickem
                    </a>
                </td>
                <td class="message-cell">
                    Is there a "c++" version czmq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-97" class="rowLink" href="#msg-97">
                    [18:09]  roadrunner
                    </a>
                </td>
                <td class="message-cell">
                    is this the correct channel to as czmq questions on?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-98" class="rowLink" href="#msg-98">
                    [18:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    yes, it&#39;s the correct channel
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-99" class="rowLink" href="#msg-99">
                    [18:23]  roadrunner
                    </a>
                </td>
                <td class="message-cell">
                    cool - is czmq intended for production?  It&#39;s not just a reference implementation, is it?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-100" class="rowLink" href="#msg-100">
                    [18:41]  Fade
                    </a>
                </td>
                <td class="message-cell">
                    hum.. i&#39;m getting this error starting a just checked out mongrel2 : http://librelist.com/browser//mongrel2/2011/4/25/mongrel2-trap-divide-error-linux-kernel-reports-no-time-stamp-counter-tsc/#33fceb84d325363ae7e1ebd9ca8203f6
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-101" class="rowLink" href="#msg-101">
                    [18:42]  Fade
                    </a>
                </td>
                <td class="message-cell">
                    the system is running the ubuntu oneric beta, with sqlite and omq installed from the ubuntu pool.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-102" class="rowLink" href="#msg-102">
                    [18:45]  Fade
                    </a>
                </td>
                <td class="message-cell">
                    this is with just the test config as documented in section 3.2 of the manual
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-103" class="rowLink" href="#msg-103">
                    [18:45]  Fade
                    </a>
                </td>
                <td class="message-cell">
                    so everything should be pretty vanilla.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-104" class="rowLink" href="#msg-104">
                    [19:09]  roadrunner
                    </a>
                </td>
                <td class="message-cell">
                    Do most people run czmq using the &#39;safe_malloc()&#39; version of the allocation macro?  Seems like that could be painful on systems that actually return NULL if too much memory is asked for...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-105" class="rowLink" href="#msg-105">
                    [19:25]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    roadrunner: czmq is intended for production
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-106" class="rowLink" href="#msg-106">
                    [19:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    Fade: i don&#39;t know how much mongrel2 help you&#39;ll be able to get in here... it&#39;s not often
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-107" class="rowLink" href="#msg-107">
                    [19:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i see people discussing it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-108" class="rowLink" href="#msg-108">
                    [19:29]  Fade
                    </a>
                </td>
                <td class="message-cell">
                    cremes: yeah. this is indirectly related to mongrel. the problem is in zeromq.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-109" class="rowLink" href="#msg-109">
                    [19:30]  Fade
                    </a>
                </td>
                <td class="message-cell">
                    I got it past the problem by commenting out the --with-pgm call in the zeromq.spec file.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-110" class="rowLink" href="#msg-110">
                    [19:31]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    pgm support was poor in the earlier 2.1.x releases
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-111" class="rowLink" href="#msg-111">
                    [19:31]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    however, i don&#39;t think you can easily upgrade to later ones without breaking mongrel2
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-112" class="rowLink" href="#msg-112">
                    [19:32]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i have heard/seen that it is pretty tied to specific 0mq releases
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-113" class="rowLink" href="#msg-113">
                    [19:33]  Fade
                    </a>
                </td>
                <td class="message-cell">
                    i guess the zmq packages in the ubuntu pool (which are in the 2.1.x line) use the standard spec file.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-114" class="rowLink" href="#msg-114">
                    [20:17]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    Hi, I am stuck on a problem and maybe someone can help me come up with a solution.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-115" class="rowLink" href="#msg-115">
                    [20:17]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    I have web services facade that is receiving requests and I want to perform a REQ/REP within the service call.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-116" class="rowLink" href="#msg-116">
                    [20:18]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    My initial attempt was to just open a new REQ socket for each request, but under any load the whole thing crashed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-117" class="rowLink" href="#msg-117">
                    [20:18]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    I assume this is either a bug, or my strategy is flawed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-118" class="rowLink" href="#msg-118">
                    [20:18]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    Anyone care to comment?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-119" class="rowLink" href="#msg-119">
                    [20:23]  michelp
                    </a>
                </td>
                <td class="message-cell">
                    Matt__, are you cleaning up the sockets when you&#39;re done with them?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-120" class="rowLink" href="#msg-120">
                    [20:23]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    Not sure, it seems like the CLRZMQ library takes care of that, how would i explicitly clean them up?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-121" class="rowLink" href="#msg-121">
                    [20:24]  michelp
                    </a>
                </td>
                <td class="message-cell">
                    not sure about clr, but in python you do socket.close()
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-122" class="rowLink" href="#msg-122">
                    [20:24]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    Matt__: that&#39;s the wrong pattern anyway
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-123" class="rowLink" href="#msg-123">
                    [20:24]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    it doesn&#39;t make sense to create a socket for each request
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-124" class="rowLink" href="#msg-124">
                    [20:24]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-125" class="rowLink" href="#msg-125">
                    [20:24]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    What would be the best strategy?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-126" class="rowLink" href="#msg-126">
                    [20:24]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    Matt__: can the web service process multiple simultaneous requests or is it one at a time?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-127" class="rowLink" href="#msg-127">
                    [20:25]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    is the processing synch or async?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-128" class="rowLink" href="#msg-128">
                    [20:25]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    Multi requests - each request is handled on a new thread
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-129" class="rowLink" href="#msg-129">
                    [20:25]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    sync
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-130" class="rowLink" href="#msg-130">
                    [20:25]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-131" class="rowLink" href="#msg-131">
                    [20:25]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    are you creating the threads when the request arrives or are they from a pool?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-132" class="rowLink" href="#msg-132">
                    [20:26]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    they are from a pool
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-133" class="rowLink" href="#msg-133">
                    [20:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    great
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-134" class="rowLink" href="#msg-134">
                    [20:26]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    i dont have control over the threads
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-135" class="rowLink" href="#msg-135">
                    [20:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    there is a whole discussion on how to handle this in the guide but i&#39;ll give you the short version
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-136" class="rowLink" href="#msg-136">
                    [20:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    1. 1 context
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-137" class="rowLink" href="#msg-137">
                    [20:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    2. when you create the thread, pass it the context and create a socket inside the thread
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-138" class="rowLink" href="#msg-138">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    3. when your request comes in, the next guy in the pool should be passed the request
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-139" class="rowLink" href="#msg-139">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    make sense?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-140" class="rowLink" href="#msg-140">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    the 0mq restriction is that sockets are not thread-safe so you can&#39;t read/write to them from many
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-141" class="rowLink" href="#msg-141">
                    [20:27]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    problem is, i dont have control over the incoming threads
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-142" class="rowLink" href="#msg-142">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    threads simultaneously unless you surround them with a mutex
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-143" class="rowLink" href="#msg-143">
                    [20:28]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    the services are sitting in IIS and a new thread is created automatically
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-144" class="rowLink" href="#msg-144">
                    [20:28]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    you don&#39;t control the thread pool?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-145" class="rowLink" href="#msg-145">
                    [20:28]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    hmmm, ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-146" class="rowLink" href="#msg-146">
                    [20:28]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    do you have a max number of threads that can be created?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-147" class="rowLink" href="#msg-147">
                    [20:29]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    regardless, here&#39;s the new short version
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-148" class="rowLink" href="#msg-148">
                    [20:29]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    1. create 1 context
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-149" class="rowLink" href="#msg-149">
                    [20:29]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    2. populate a socket pool with REQ sockets
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-150" class="rowLink" href="#msg-150">
                    [20:29]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    3. from each request thread, so a thread-safe checkout of a socket from the pool
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-151" class="rowLink" href="#msg-151">
                    [20:30]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    as long as the socket is only ever read/write in one thread at a time, you&#39;re safe
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-152" class="rowLink" href="#msg-152">
                    [20:30]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    I see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-153" class="rowLink" href="#msg-153">
                    [20:30]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    but check the guide for other patterns... i know this is covered in one of the chapters
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-154" class="rowLink" href="#msg-154">
                    [20:30]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    is it bad practice to create/destroy the sockets?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-155" class="rowLink" href="#msg-155">
                    [20:30]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-156" class="rowLink" href="#msg-156">
                    [20:30]  roadrunner
                    </a>
                </td>
                <td class="message-cell">
                    cremes: my initial scan of some of the czmq code made me nervous about what will happen in OOM situations on systems that aren&#39;t quite as lenient as linux about allocations
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-157" class="rowLink" href="#msg-157">
                    [20:30]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    they are cheap
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-158" class="rowLink" href="#msg-158">
                    [20:31]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    roadrunner: you should post your concerns to the ML... i&#39;m a ruby guy so i don&#39;t use that lib :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-159" class="rowLink" href="#msg-159">
                    [20:31]  roadrunner
                    </a>
                </td>
                <td class="message-cell">
                    cremes: okie dokie :)  thanks!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-160" class="rowLink" href="#msg-160">
                    [20:31]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    why is that bad practice to create/destroy?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-161" class="rowLink" href="#msg-161">
                    [20:31]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    if you say they are "cheap"...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-162" class="rowLink" href="#msg-162">
                    [20:32]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    cheap in terms of memory
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-163" class="rowLink" href="#msg-163">
                    [20:32]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    so keeping them around doesn&#39;t hurt (a few K)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-164" class="rowLink" href="#msg-164">
                    [20:32]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    right, so expensive to create/destroy?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-165" class="rowLink" href="#msg-165">
                    [20:32]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    but each time you create one and you connect/bind to a socket, that process takes upwards of 100ms
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-166" class="rowLink" href="#msg-166">
                    [20:32]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    I see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-167" class="rowLink" href="#msg-167">
                    [20:33]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok, everyone have a nice weekend!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-168" class="rowLink" href="#msg-168">
                    [20:33]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    Would there be anyway to have some type of asynchronous proxy that would receive the requests and respond to the requester?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-169" class="rowLink" href="#msg-169">
                    [20:33]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    Instead of having a pool of sockets?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-170" class="rowLink" href="#msg-170">
                    [20:33]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    Matt__: read the entire guide, please. i&#39;m taking off now.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-171" class="rowLink" href="#msg-171">
                    [20:33]  Matt
                    </a>
                </td>
                <td class="message-cell">
                    ok, thank you
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-172" class="rowLink" href="#msg-172">
                    [20:44]  michelp
                    </a>
                </td>
                <td class="message-cell">
                    Matt__, can you create thread local variables?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-173" class="rowLink" href="#msg-173">
                    [20:45]  michelp
                    </a>
                </td>
                <td class="message-cell">
                    you could try that approach if you can. if the variable exists, then use it, if not, create a new thread local initialized with a socket
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-174" class="rowLink" href="#msg-174">
                    [20:47]  replicator
                    </a>
                </td>
                <td class="message-cell">
                    1. Is that a good idea to just use ÃMQ as an in-memory queue (inproc://)? Rather than for example to use various Queue data structures in many languages..
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-175" class="rowLink" href="#msg-175">
                    [20:50]  replicator
                    </a>
                </td>
                <td class="message-cell">
                    I guess.. is there any immediate advantage in this case?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-176" class="rowLink" href="#msg-176">
                    [20:59]  zedas
                    </a>
                </td>
                <td class="message-cell">
                    so, i get this Assertion failed: zmq_msg_size (msg_) == 0 (req.cpp:88)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-177" class="rowLink" href="#msg-177">
                    [20:59]  zedas
                    </a>
                </td>
                <td class="message-cell">
                    yet another assert, and i&#39;m just pointing a plain REQ at an XREP
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-178" class="rowLink" href="#msg-178">
                    [20:59]  zedas
                    </a>
                </td>
                <td class="message-cell">
                    and this is in pyzmq, so, since this is a hard abort and not a real exception, it can&#39;t get caught and tell me what line of python is doing it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-179" class="rowLink" href="#msg-179">
                    [21:00]  zedas
                    </a>
                </td>
                <td class="message-cell">
                    this is why your asserts suck. they should be exceptions or error codes, not aborts, there should be less of them, and they should clearly state what went wrong and how to fix it.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-180" class="rowLink" href="#msg-180">
                    [21:01]  zedas
                    </a>
                </td>
                <td class="message-cell">
                    for example, in this assert, i have no idea what could possibly be sending a 0 length message or even what that means.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-181" class="rowLink" href="#msg-181">
                    [21:54]  bluesmoon
                    </a>
                </td>
                <td class="message-cell">
                    hi, I was wondering if there was any way to tell zeromq where it should create its swap files
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-182" class="rowLink" href="#msg-182">
                    [21:55]  bluesmoon
                    </a>
                </td>
                <td class="message-cell">
                    at the moment it writes to the current directory, but I have my app set up such that its working directory is not writable, but an alternate "running state" directory is
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-183" class="rowLink" href="#msg-183">
                    [22:00]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i think the swap is a bit bad
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-184" class="rowLink" href="#msg-184">
                    [22:01]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    you can chdir at the beginning of the app
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-185" class="rowLink" href="#msg-185">
                    [22:01]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    usually the swap setting shouldn&#39;t be needed imho
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-186" class="rowLink" href="#msg-186">
                    [22:02]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    zedas: i think i raised this issue earlier
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-187" class="rowLink" href="#msg-187">
                    [22:02]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    zedas: i was trying to make a reproducable test case but couldn&#39;t reproduce it with a simple case
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-188" class="rowLink" href="#msg-188">
                    [22:06]  bluesmoon
                    </a>
                </td>
                <td class="message-cell">
                    Ideally I could do that and then chdir to wherever I need to be, but swap files are created on demand, when a client with an identity connects
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-189" class="rowLink" href="#msg-189">
                    [22:06]  bluesmoon
                    </a>
                </td>
                <td class="message-cell">
                    and this might happen at any time in the process&#39;s lifecycle
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-190" class="rowLink" href="#msg-190">
                    [22:39]  ninjas
                    </a>
                </td>
                <td class="message-cell">
                    hi I have a question.  Given a one-way ZMQ TCP socket between two points A and B, where B is not consuming the messages fast enough to keep up with A (such that there is a ZMQ queue buildup occurring somewhere), what determines where the messages build up?  Will it build up on A or B?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-191" class="rowLink" href="#msg-191">
                    [23:02]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    zedas: i got a test case done and hopefully a valid fix
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-192" class="rowLink" href="#msg-192">
                    [23:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    zedas: https://zeromq.jira.com/browse/LIBZMQ-252
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-193" class="rowLink" href="#msg-193">
                    [23:14]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    ninjas: you can set HWM on each side
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-194" class="rowLink" href="#msg-194">
                    [23:21]  ninjas
                    </a>
                </td>
                <td class="message-cell">
                    mikko, thank you, but I&#39;m interested in knowing what the behavior is, assuming HWM isn&#39;t set on either end
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-195" class="rowLink" href="#msg-195">
                    [23:22]  ninjas
                    </a>
                </td>
                <td class="message-cell">
                    granted, I may have missed it in the documentation
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-196" class="rowLink" href="#msg-196">
                    [23:49]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    ninjas: iirc on receivers side
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-197" class="rowLink" href="#msg-197">
                    [23:49]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    assuming they can be sent over the network
                </td>
            </tr>
            
        </table>
    </div>
    <div class="footer-container"><hr/>
    <p style="color:#a9a9a9; font-size:0.75em; text-align:center; margin:5px 5%;">
       Web site design and content is copyright &copy; 2010-2011 Peter Alexander, ProDataLab. Site content licensed under the Creative Commons Attribution-Share Alike 3.0 License.
       &Oslash;MQ is copyright &copy; Copyright &copy; 2007-2011 iMatix Corporation and Contributors.
       <a href="http://www.imatix.com/contact">Contact us for professional support.</a>
       &Oslash;MQ is free software licensed under the LGPL. &Oslash;MQ, ZeroMQ, and 0MQ are trademarks of iMatix Corporation.
       <a href="http://www.zeromq.org/legal:terms-of-use">Terms of Use</a> ?
       <a href="http://www.zeromq.org/legal:privacy-policy">Privacy Policy</a>
    </p>
</div>

</body>
</html>
