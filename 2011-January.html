

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2011-January &mdash; ZeroMq IRC Log v0.1 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="ZeroMq IRC Log v0.1 documentation" href="index.html" />
    <link rel="prev" title="2011-December" href="2011-December.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2011-December.html" title="2011-December"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="january">
<h1>2011-January<a class="headerlink" href="#january" title="Permalink to this headline">Â¶</a></h1>
<div class="line-block">
<div class="line">[Saturday 01 January 2011] [10:10:37] &lt;dos000&gt;        and happy new year</div>
<div class="line">[Saturday 01 January 2011] [10:10:51] &lt;dos000&gt;        is sustrik here ?</div>
<div class="line">[Saturday 01 January 2011] [10:12:02] &lt;mikko&gt; he was in yesterday</div>
<div class="line">[Saturday 01 January 2011] [10:12:28] &lt;mikko&gt; havent seen him talking today</div>
<div class="line">[Saturday 01 January 2011] [10:15:01] &lt;dos000&gt;        ah!</div>
<div class="line">[Saturday 01 January 2011] [12:34:22] &lt;sustrik&gt;       dos000: hi</div>
<div class="line">[Saturday 01 January 2011] [12:36:15] &lt;sustrik&gt;       happy new year everyone!</div>
<div class="line">[Saturday 01 January 2011] [13:16:07] &lt;pythonirc1011&gt; how much work is it to get a installer ready for windows7 for zeromq+python bindings. Where can one get started on that?</div>
<div class="line">[Saturday 01 January 2011] [13:33:07] &lt;mikko&gt; pythonirc1011: probably it&#8217;s just building the installer</div>
<div class="line">[Saturday 01 January 2011] [13:33:38] &lt;mikko&gt; pythonirc1011: not sure how python extensions are installed on windows or any platform really</div>
<div class="line">[Saturday 01 January 2011] [13:41:38] &lt;dos000&gt;        sustrik, howdy !</div>
<div class="line">[Saturday 01 January 2011] [13:42:03] &lt;dos000&gt;        sustrik, happy new year to you too</div>
<div class="line">[Saturday 01 January 2011] [13:47:30] &lt;sustrik&gt;       pythonirc1011: building a win installer would be very helpful</div>
<div class="line">[Saturday 01 January 2011] [13:47:42] &lt;sustrik&gt;       i would start with the core part</div>
<div class="line">[Saturday 01 January 2011] [13:47:43] &lt;pythonirc1011&gt; mikko: so i need a installation script language + compilation of a zeromq on my win box i guess...</div>
<div class="line">[Saturday 01 January 2011] [13:47:57] &lt;sustrik&gt;       it&#8217;s just a lib and a header file so it should be easy</div>
<div class="line">[Saturday 01 January 2011] [13:48:20] &lt;pythonirc1011&gt; i&#8217;m more after building the python bindings. I need to use it from python</div>
<div class="line">[Saturday 01 January 2011] [13:48:35] &lt;sustrik&gt;       sure, but those are dependent on the lib</div>
<div class="line">[Saturday 01 January 2011] [13:48:44] &lt;pythonirc1011&gt; true</div>
<div class="line">[Saturday 01 January 2011] [13:48:53] &lt;pythonirc1011&gt; perhaps ship the library pre-compiler on windows</div>
<div class="line">[Saturday 01 January 2011] [13:48:58] &lt;pythonirc1011&gt; compiler</div>
<div class="line">[Saturday 01 January 2011] [13:49:01] &lt;pythonirc1011&gt; compiled i meant</div>
<div class="line">[Saturday 01 January 2011] [13:49:04] &lt;sustrik&gt;       exactly</div>
<div class="line">[Saturday 01 January 2011] [13:49:10] &lt;sustrik&gt;       what you need is 2 libraties</div>
<div class="line">[Saturday 01 January 2011] [13:49:12] &lt;sustrik&gt;       libzmq</div>
<div class="line">[Saturday 01 January 2011] [13:49:18] &lt;sustrik&gt;       and libpyzmq</div>
<div class="line">[Saturday 01 January 2011] [13:49:24] &lt;sustrik&gt;       you need to compile them</div>
<div class="line">[Saturday 01 January 2011] [13:49:35] &lt;sustrik&gt;       and build an installer</div>
<div class="line">[Saturday 01 January 2011] [13:49:42] &lt;pythonirc1011&gt; k, that should be doable...are they dlls?</div>
<div class="line">[Saturday 01 January 2011] [13:49:59] &lt;sustrik&gt;       i am not sure whether python needs anythig else aside of those libs</div>
<div class="line">[Saturday 01 January 2011] [13:50:15] &lt;sustrik&gt;       yes, i think so</div>
<div class="line">[Saturday 01 January 2011] [13:50:48] &lt;pythonirc1011&gt; I&#8217;ll look into it soon. Thanks.</div>
<div class="line">[Saturday 01 January 2011] [13:55:38] &lt;dos000&gt;        sustrik, does zma uses lock free ring buffers  ? sometalk i listened mentioned it being musch faster than using queues becose of contention</div>
<div class="line">[Saturday 01 January 2011] [13:55:51] &lt;dos000&gt;        s/zma/0mq</div>
<div class="line">[Saturday 01 January 2011] [13:56:04] &lt;sustrik&gt;       yes, the queues are lock-free</div>
<div class="line">[Saturday 01 January 2011] [13:56:46] &lt;dos000&gt;        sustrik, is it ringbuffer based ?</div>
<div class="line">[Saturday 01 January 2011] [13:57:06] &lt;sustrik&gt;       messages are allocated in blocks</div>
<div class="line">[Saturday 01 January 2011] [13:57:10] &lt;sustrik&gt;       (256 per block)</div>
<div class="line">[Saturday 01 January 2011] [13:57:40] &lt;dos000&gt;        sustrik, here is the talk <a class="reference external" href="http://www.infoq.com/presentations/LMAX">http://www.infoq.com/presentations/LMAX</a> jump to 36:00 for the real meat.</div>
<div class="line">[Saturday 01 January 2011] [13:57:54] &lt;sustrik&gt;       one block is recycled to eliminate excessive allocation/deallocation</div>
<div class="line">[Saturday 01 January 2011] [13:58:17] &lt;dos000&gt;        its kinda java oriented but i think the same issues apply in c++</div>
<div class="line">[Saturday 01 January 2011] [13:58:28] &lt;sustrik&gt;       however, if the number of messages in the queue drops, only 1 block is recycled, any subsequent blocvks are dealloc&#8217;d</div>
<div class="line">[Saturday 01 January 2011] [13:58:41] &lt;dos000&gt;        ah!</div>
<div class="line">[Saturday 01 January 2011] [13:59:02] &lt;dos000&gt;        thats seems smarter .. they allocate 2min off hand to counter java gc</div>
<div class="line">[Saturday 01 January 2011] [13:59:09] &lt;dos000&gt;        2 millions</div>
<div class="line">[Saturday 01 January 2011] [13:59:31] &lt;sustrik&gt;       well, depends on the use case</div>
<div class="line">[Saturday 01 January 2011] [13:59:50] &lt;sustrik&gt;       it&#8217;s something that&#8217;s not good to do on a sensor or an embedded system</div>
<div class="line">[Saturday 01 January 2011] [14:00:11] &lt;sustrik&gt;       0mq tries to be generic</div>
<div class="line">[Saturday 01 January 2011] [14:00:12] &lt;dos000&gt;        indeed .. for a server its much different</div>
<div class="line">[Saturday 01 January 2011] [14:00:26] &lt;sustrik&gt;       you can of course tune it by hand if you want to</div>
<div class="line">[Saturday 01 January 2011] [14:00:48] &lt;sustrik&gt;       see src/config.hpp</div>
<div class="line">[Saturday 01 January 2011] [14:01:51] &lt;dos000&gt;        sustrik, so its configurable by source changes only then</div>
<div class="line">[Saturday 01 January 2011] [14:02:16] &lt;sustrik&gt;       there are 2 mechanisms there</div>
<div class="line">[Saturday 01 January 2011] [14:02:26] &lt;sustrik&gt;       config.hpp are compile-time options</div>
<div class="line">[Saturday 01 January 2011] [14:02:28] &lt;dos000&gt;        sustrik, it will apply to all queues then</div>
<div class="line">[Saturday 01 January 2011] [14:02:40] &lt;sustrik&gt;       socket options can be used in run-time</div>
<div class="line">[Saturday 01 January 2011] [14:02:49] &lt;dos000&gt;        ah!</div>
<div class="line">[Saturday 01 January 2011] [14:03:08] &lt;sustrik&gt;       it&#8217;s a matter to consider whether specific tuning parameter</div>
<div class="line">[Saturday 01 January 2011] [14:03:09] &lt;dos000&gt;        socket options allow to you bigger/smaller buffers ?</div>
<div class="line">[Saturday 01 January 2011] [14:03:18] &lt;sustrik&gt;       should be a socket option or a compile-time param</div>
<div class="line">[Saturday 01 January 2011] [14:03:36] &lt;sustrik&gt;       socket option allow to set the maximal buffer size</div>
<div class="line">[Saturday 01 January 2011] [14:03:49] &lt;dos000&gt;        i cant use compile time options</div>
<div class="line">[Saturday 01 January 2011] [14:03:58] &lt;sustrik&gt;       what are you trying to do?</div>
<div class="line">[Saturday 01 January 2011] [14:05:13] &lt;dos000&gt;        i am writing queues with different bechmarking options</div>
<div class="line">[Saturday 01 January 2011] [14:05:24] &lt;dos000&gt;        so i want to see effect of the changes</div>
<div class="line">[Saturday 01 January 2011] [14:06:26] &lt;sustrik&gt;       writing queues?</div>
<div class="line">[Saturday 01 January 2011] [14:06:36] &lt;sustrik&gt;       you mean you are implementing the queues yourself?</div>
<div class="line">[Saturday 01 January 2011] [14:06:41] &lt;dos000&gt;        so far i have 0mq and fastflow ( <a class="reference external" href="http://calvados.di.unipi.it/dokuwiki/doku.php?id=ffnamespace:about">http://calvados.di.unipi.it/dokuwiki/doku.php?id=ffnamespace:about</a> ) on my list</div>
<div class="line">[Saturday 01 January 2011] [14:06:59] &lt;sustrik&gt;       ok, i see</div>
<div class="line">[Saturday 01 January 2011] [14:07:05] &lt;sustrik&gt;       and what exactly are you missing?</div>
<div class="line">[Saturday 01 January 2011] [14:08:39] &lt;dos000&gt;        sustrik, i only have one issue so far ...</div>
<div class="line">[Saturday 01 January 2011] [14:09:17] &lt;dos000&gt;        i have to receive the events and process them in  java ...</div>
<div class="line">[Saturday 01 January 2011] [14:10:07] &lt;dos000&gt;        i either reimplement the lockfree ring buffers in java .. or use jzmq</div>
<div class="line">[Saturday 01 January 2011] [14:10:39] &lt;dos000&gt;        it looks deceptively easy to write it in java !</div>
<div class="line">[Saturday 01 January 2011] [14:11:27] &lt;sustrik&gt;       i still don&#8217;t see what you are missing :)</div>
<div class="line">[Saturday 01 January 2011] [14:11:39] &lt;sustrik&gt;       0mq is lock-free</div>
<div class="line">[Saturday 01 January 2011] [14:11:43] &lt;dos000&gt;        yes ... i am not missing anything ...</div>
<div class="line">[Saturday 01 January 2011] [14:11:48] &lt;dos000&gt;        i just have options !</div>
<div class="line">[Saturday 01 January 2011] [14:12:04] &lt;sustrik&gt;       implementing the lock-free queeu is not hard</div>
<div class="line">[Saturday 01 January 2011] [14:12:20] &lt;sustrik&gt;       it may become a problem as you want to add more features</div>
<div class="line">[Saturday 01 January 2011] [14:12:23] &lt;dos000&gt;        sustrik, there is locking when you call c++ functions from java</div>
<div class="line">[Saturday 01 January 2011] [14:12:28] &lt;sustrik&gt;       like limiting the number of messages in queue</div>
<div class="line">[Saturday 01 January 2011] [14:12:31] &lt;sustrik&gt;       or somesuch</div>
<div class="line">[Saturday 01 January 2011] [14:13:00] &lt;sustrik&gt;       is there, i am not familiar with how jzmq works atm</div>
<div class="line">[Saturday 01 January 2011] [14:13:09] &lt;dos000&gt;        its inherent in jni</div>
<div class="line">[Saturday 01 January 2011] [14:13:15] &lt;sustrik&gt;       i see</div>
<div class="line">[Saturday 01 January 2011] [14:13:28] &lt;sustrik&gt;       then you have to reimplement it yourself</div>
<div class="line">[Saturday 01 January 2011] [14:13:35] &lt;dos000&gt;        another option would be to receive the events via sockets in java</div>
<div class="line">[Saturday 01 January 2011] [14:13:53] &lt;sustrik&gt;       what sockets?</div>
<div class="line">[Saturday 01 January 2011] [14:14:40] &lt;dos000&gt;        instead of passing the messages via jni pass it via a the (local) netwrk interface</div>
<div class="line">[Saturday 01 January 2011] [14:15:00] &lt;dos000&gt;        of course that would be slower i imagine</div>
<div class="line">[Saturday 01 January 2011] [14:15:33] &lt;dos000&gt;        1) evtsource -&gt; zmq &#8211;&gt; jzmq &#8211;&gt; java app</div>
<div class="line">[Saturday 01 January 2011] [14:16:08] &lt;dos000&gt;        eventsource -&gt; zmq &#8211;&gt; javanio &#8211;&gt; javaapp</div>
<div class="line">[Saturday 01 January 2011] [14:17:19] &lt;dos000&gt;        anyway ...</div>
<div class="line">[Saturday 01 January 2011] [14:17:25] &lt;dos000&gt;        i will keep you updated !</div>
<div class="line">[Saturday 01 January 2011] [14:17:28] &lt;dos000&gt;        thanks a lot</div>
<div class="line">[Saturday 01 January 2011] [14:20:46] &lt;sustrik&gt;       you are welcome</div>
<div class="line">[Saturday 01 January 2011] [14:36:27] &lt;mikko&gt; happy new year all</div>
<div class="line">[Saturday 01 January 2011] [15:12:01] &lt;andrewvc&gt;      cremes: If you&#8217;re around I have a question about error_check_nonblock if you have a chance</div>
<div class="line">[Saturday 01 January 2011] [15:33:17] &lt;andrewvc&gt;      So, here&#8217;s a nonblocking question</div>
<div class="line">[Saturday 01 January 2011] [15:36:31] &lt;andrewvc&gt;      so, if I get an errno 95 doing a recv NOBLOCK</div>
<div class="line">[Saturday 01 January 2011] [15:37:18] &lt;andrewvc&gt;      what is the usual cause for that</div>
<div class="line">[Saturday 01 January 2011] [15:37:28] &lt;andrewvc&gt;      I was expecting an EAGAIN</div>
<div class="line">[Saturday 01 January 2011] [15:37:36] &lt;andrewvc&gt;      and retrying later my recv did work</div>
<div class="line">[Saturday 01 January 2011] [16:27:29] &lt;sustrik&gt;       what&#8217;s errno 95?</div>
<div class="line">[Saturday 01 January 2011] [16:59:13] &lt;andrewvc&gt;      sustrik,  #define EOPNOTSUPP  95  /* Operation not supported on transport endpoint <a href="#id1"><span class="problematic" id="id2">*</span></a>/</div>
<div class="line">[Saturday 01 January 2011] [16:59:53] &lt;andrewvc&gt;      basically, I get a notification of activity via select for a FD</div>
<div class="line">[Saturday 01 January 2011] [17:00:06] &lt;andrewvc&gt;      so I&#8217;m calling a recv ZMQ::NOBLOCK on it to see if I can read off a message</div>
<div class="line">[Saturday 01 January 2011] [17:00:08] &lt;andrewvc&gt;      and I get that</div>
<div class="line">[Saturday 01 January 2011] [17:00:29] &lt;andrewvc&gt;      i mean if I just pretend that&#8217;s an EAGAIN it works alright</div>
<div class="line">[Saturday 01 January 2011] [17:00:37] &lt;andrewvc&gt;      but just not what I expected</div>
<div class="line">[Saturday 01 January 2011] [18:23:03] &lt;neopallium&gt;    andrewvc: if you are calling recv() on a REQ/REP socket during the wrong state, you will get that error.</div>
<div class="line">[Saturday 01 January 2011] [18:24:36] &lt;neopallium&gt;    REQ/REP sockets switch back and forth from send-only to recv-only states.</div>
<div class="line">[Saturday 01 January 2011] [19:03:57] &lt;andrewvc&gt;      neopallium: it&#8217;s actually a push socket</div>
<div class="line">[Saturday 01 January 2011] [19:04:03] &lt;andrewvc&gt;      errr a pull socket I mena</div>
<div class="line">[Saturday 01 January 2011] [19:04:20] &lt;andrewvc&gt;      maybe it didn&#8217;t finish binding yet or something?</div>
<div class="line">[Saturday 01 January 2011] [19:04:28] &lt;andrewvc&gt;      though the FD did trigger</div>
<div class="line">[Saturday 01 January 2011] [19:19:37] &lt;mikko&gt; andrewvc: are you sure it&#8217;s a pull and not push socket?</div>
<div class="line">[Saturday 01 January 2011] [19:28:59] &lt;andrewvc&gt;      yeah I&#8217;m certain</div>
<div class="line">[Saturday 01 January 2011] [19:29:10] &lt;andrewvc&gt;      mikko: I&#8217;m certain because the messages eventually do start coming off</div>
<div class="line">[Saturday 01 January 2011] [19:29:19] &lt;andrewvc&gt;      I should double check though</div>
<div class="line">[Saturday 01 January 2011] [19:50:12] &lt;andrewvc&gt;      mikko: Oh how about that, I didn&#8217;t realize that was being called on both send AND recv.... Thanks for the pointer</div>
<div class="line">[Saturday 01 January 2011] [19:50:35] &lt;andrewvc&gt;      it was a PUSH after all. Thanks for recognizing that!</div>
<div class="line">[Saturday 01 January 2011] [19:51:13] &lt;mikko&gt; no prob, i think i&#8217;ve done that before as well</div>
<div class="line">[Saturday 01 January 2011] [19:51:21] &lt;andrewvc&gt;      but recv isn&#8217;t being called on it</div>
<div class="line">[Saturday 01 January 2011] [19:51:23] &lt;andrewvc&gt;      send is</div>
<div class="line">[Saturday 01 January 2011] [19:51:40] &lt;andrewvc&gt;      so, does that mean the socket isn&#8217;t in a state where it&#8217;s ready for sending I suppose</div>
<div class="line">[Saturday 01 January 2011] [19:54:57] &lt;andrewvc&gt;      mikko: Well, re-checking it I&#8217;m getting all proper codes, and EAGAIN where I expect it. I guess cleaning up my testing code must have fixed whatever the err was</div>
<div class="line">[Saturday 01 January 2011] [19:55:11] &lt;andrewvc&gt;      thanks for the help though, still good to know for later</div>
<div class="line">[Sunday 02 January 2011] [05:08:53] &lt;sustrik&gt; andrewvc: you&#8217;ve got ENOTSUPP from zmq_recv?</div>
<div class="line">[Sunday 02 January 2011] [05:11:38] &lt;sustrik&gt; looking at the code...</div>
<div class="line">[Sunday 02 January 2011] [05:12:00] &lt;sustrik&gt; hm, it can possibly happen when the socket is not yet fully initialised</div>
<div class="line">[Sunday 02 January 2011] [05:31:08] &lt;sustrik&gt; do you have a test program to reproduce it?</div>
<div class="line">[Sunday 02 January 2011] [17:20:36] &lt;<a href="#id5"><span class="problematic" id="id6">shykes_</span></a>&gt; Hello</div>
<div class="line">[Sunday 02 January 2011] [17:29:28] &lt;mikko&gt;   hi</div>
<div class="line">[Sunday 02 January 2011] [17:31:06] &lt;<a href="#id7"><span class="problematic" id="id8">shykes_</span></a>&gt; I&#8217;m weighing my options for a &#8220;smarter&#8221; req/rep device. Are you aware of any projects going in that direction?</div>
<div class="line">[Sunday 02 January 2011] [17:31:25] &lt;mikko&gt;   what do you mean by smarter?</div>
<div class="line">[Sunday 02 January 2011] [17:31:27] &lt;mikko&gt;   brb</div>
<div class="line">[Sunday 02 January 2011] [17:32:19] &lt;<a href="#id9"><span class="problematic" id="id10">shykes_</span></a>&gt; Currently we have a forwarder with bind on both sides</div>
<div class="line">[Sunday 02 January 2011] [17:32:26] &lt;<a href="#id11"><span class="problematic" id="id12">shykes_</span></a>&gt; ie dynamic workers, dynamic clients</div>
<div class="line">[Sunday 02 January 2011] [17:32:57] &lt;<a href="#id13"><span class="problematic" id="id14">shykes_</span></a>&gt; we use that to load-balance synchronous rpc. I&#8217;m guessing this is a classic use case</div>
<div class="line">[Sunday 02 January 2011] [17:34:02] &lt;<a href="#id15"><span class="problematic" id="id16">shykes_</span></a>&gt; I&#8217;d like my device to stop forwarding requests to a worker which doesn&#8217;t behave properly</div>
<div class="line">[Sunday 02 January 2011] [17:34:29] &lt;<a href="#id17"><span class="problematic" id="id18">shykes_</span></a>&gt; eg. a pre-configured timeout</div>
<div class="line">[Sunday 02 January 2011] [17:37:18] &lt;<a href="#id19"><span class="problematic" id="id20">shykes_</span></a>&gt; Maybe I could implement this as a &#8216;proxy device&#8217; in front of each worker</div>
<div class="line">[Sunday 02 January 2011] [17:38:00] &lt;<a href="#id21"><span class="problematic" id="id22">shykes_</span></a>&gt; each proxy has only one message to worry about at a time, which makes it simpler to write</div>
<div class="line">[Sunday 02 January 2011] [17:38:06] &lt;<a href="#id23"><span class="problematic" id="id24">shykes_</span></a>&gt; Any insight would be much appreciated :)</div>
<div class="line">[Sunday 02 January 2011] [19:47:25] &lt;Skaag&gt;   <a href="#id25"><span class="problematic" id="id26">shykes_</span></a>: sounds like an important and also &#8220;classical&#8221; use case to me, sounds like you need a sort of a &#8220;broker&#8221;? :-)</div>
<div class="line">[Sunday 02 January 2011] [19:48:57] &lt;<a href="#id27"><span class="problematic" id="id28">shykes_</span></a>&gt; Correct. Although I already use zmq_forwarder as a broker</div>
<div class="line">[Sunday 02 January 2011] [19:50:09] &lt;<a href="#id29"><span class="problematic" id="id30">shykes_</span></a>&gt; But before I reinvent the wheel, I&#8217;m trying to find out how much of it already exists</div>
<div class="line">[Sunday 02 January 2011] [19:50:51] &lt;<a href="#id31"><span class="problematic" id="id32">shykes_</span></a>&gt; I&#8217;m guessing a lot of people use zeromq for the same purpose as me. How did all these people implement this?</div>
<div class="line">[Sunday 02 January 2011] [19:55:14] &lt;<a href="#id33"><span class="problematic" id="id34">shykes_</span></a>&gt; Hum, I just found rabbitmq&#8217;s rmq-0mq plugin. Maybe that can help</div>
<div class="line">[Sunday 02 January 2011] [20:00:11] &lt;Skaag&gt;   we are porting our system from rabbitmq to 0mq</div>
<div class="line">[Sunday 02 January 2011] [20:00:26] &lt;Skaag&gt;   because of scaling issues</div>
<div class="line">[Sunday 02 January 2011] [20:00:43] &lt;<a href="#id35"><span class="problematic" id="id36">shykes_</span></a>&gt; Yeah, we were using rabbitmq too</div>
<div class="line">[Sunday 02 January 2011] [20:00:46] &lt;Skaag&gt;   I think the case of a &#8220;dead&#8221; machine is handled well, but a misbehaving machine, that&#8217;s another story</div>
<div class="line">[Sunday 02 January 2011] [20:01:23] &lt;Skaag&gt;   you&#8217;ll simply need to implement this yourself, or on the machine itself, decouple the process that receives the messages from the processes that do the actual work</div>
<div class="line">[Sunday 02 January 2011] [20:01:31] &lt;<a href="#id37"><span class="problematic" id="id38">shykes_</span></a>&gt; yeah</div>
<div class="line">[Sunday 02 January 2011] [20:01:39] &lt;<a href="#id39"><span class="problematic" id="id40">shykes_</span></a>&gt; sounds like less work than putting rabbitmq back into the mix :)</div>
<div class="line">[Sunday 02 January 2011] [20:01:44] &lt;Skaag&gt;   why are you using 0mq instead of the wicked rabbit if I may ask?</div>
<div class="line">[Sunday 02 January 2011] [20:02:09] &lt;Skaag&gt;   yes, also in my opinion, it is less work.</div>
<div class="line">[Sunday 02 January 2011] [20:02:16] &lt;<a href="#id41"><span class="problematic" id="id42">shykes_</span></a>&gt; A few reasons</div>
<div class="line">[Sunday 02 January 2011] [20:02:29] &lt;<a href="#id43"><span class="problematic" id="id44">shykes_</span></a>&gt; 1. We encountered problems with our Celery+RabbitMQ setup</div>
<div class="line">[Sunday 02 January 2011] [20:02:30] &lt;Skaag&gt;   I wish I knew about the shortcomings before I started implementing with rabbit...</div>
<div class="line">[Sunday 02 January 2011] [20:02:56] &lt;<a href="#id45"><span class="problematic" id="id46">shykes_</span></a>&gt; 2. We hit a major bug in the persister, which made it crash and not come back. Had to recover by hand...</div>
<div class="line">[Sunday 02 January 2011] [20:03:09] &lt;Skaag&gt;   crap</div>
<div class="line">[Sunday 02 January 2011] [20:03:15] &lt;Skaag&gt;   (and now i&#8217;m told that our 16 node cluster is considered &#8220;very large&#8221; in rabbitmq terms...)</div>
<div class="line">[Sunday 02 January 2011] [20:03:19] &lt;<a href="#id47"><span class="problematic" id="id48">shykes_</span></a>&gt; 3. I hate amqp. It&#8217;s too complicated</div>
<div class="line">[Sunday 02 January 2011] [20:03:55] &lt;Skaag&gt;   well then we agree at least on 2 and 3, and about 1 is irrelevant to our own system</div>
<div class="line">[Sunday 02 January 2011] [20:03:58] &lt;<a href="#id49"><span class="problematic" id="id50">shykes_</span></a>&gt; 4. more freedom in the topology</div>
<div class="line">[Sunday 02 January 2011] [20:04:04] &lt;Skaag&gt;   right</div>
<div class="line">[Sunday 02 January 2011] [20:04:13] &lt;<a href="#id51"><span class="problematic" id="id52">shykes_</span></a>&gt; for example, switch to multicast down the road</div>
<div class="line">[Sunday 02 January 2011] [20:04:16] &lt;Skaag&gt;   ok this gives me validation in my own path</div>
<div class="line">[Sunday 02 January 2011] [20:04:20] &lt;Skaag&gt;   yep</div>
<div class="line">[Sunday 02 January 2011] [20:04:28] &lt;Skaag&gt;   at least within a single DC</div>
<div class="line">[Sunday 02 January 2011] [20:04:37] &lt;Skaag&gt;   I believe multicast over WAN is not feasible and may never be</div>
<div class="line">[Sunday 02 January 2011] [20:04:51] &lt;<a href="#id53"><span class="problematic" id="id54">shykes_</span></a>&gt; yeah, we&#8217;re primarily on EC2 for now, so not relevant for us either</div>
<div class="line">[Sunday 02 January 2011] [20:21:22] &lt;Skaag&gt;   I constantly fail to see how EC2 helps with anything other than temporarily huge computations</div>
<div class="line">[Sunday 02 January 2011] [20:21:38] &lt;Skaag&gt;   it&#8217;s more expensive than standard hosting</div>
<div class="line">[Sunday 02 January 2011] [20:21:46] &lt;Skaag&gt;   by any calculation I made</div>
<div class="line">[Sunday 02 January 2011] [22:01:38] &lt;viraptor&gt;        hi all</div>
<div class="line">[Sunday 02 January 2011] [22:02:29] &lt;viraptor&gt;        could someone tell me where to look for information on zeromq + forking? the docs describe multithreading, but not how I should handle a fork (inherit the context or not)</div>
<div class="line">[Sunday 02 January 2011] [22:46:42] &lt;viraptor&gt;        ehh... found the answer after all... it&#8217;s &#8220;don&#8217;t share the context with fork&#8221;</div>
<div class="line">[Monday 03 January 2011] [00:46:14] &lt;jugg&gt;    with zmq 2.1.x, sockets can be shared between threads.  However, zmq_poll documentation still state that the sockets must belong to the same thread calling zmq_poll.   Is that still the case?</div>
<div class="line">[Monday 03 January 2011] [01:09:59] &lt;neopallium&gt;      jugg: with zmq 2.1 sockets can be moved between threads, but you still can&#8217;t send/recv from different threads on the same socket.</div>
<div class="line">[Monday 03 January 2011] [01:57:01] &lt;PeterTork&gt;       Question regarding the Ruby bindings. I am creating a socket, and then trying to extend it with a module. This causes it to fail in ZM.select(arrayOfSockets, nil, nil, 30) with the error <a href="#id3"><span class="problematic" id="id4">`</span></a>select&#8217;: uninitialized stream (IOError)</div>
<div class="line">[Monday 03 January 2011] [01:57:20] &lt;PeterTork&gt;       Removing the s.extend(EmptyModule) fixes this.</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="2011-December.html"
                        title="previous chapter">2011-December</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/2011-January.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2011-December.html" title="2011-December"
             >previous</a> |</li>
        <li><a href="index.html">ZeroMq IRC Log v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Peter Alexander.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
  </body>
</html>