<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
    <title>ZeroMq IRC Log</title>
    <link rel="stylesheet" href="css/base.css"></link>
    <link rel="shortcut icon" href="images/favicon.gif">
<!--    <base href="file:///home/travlr/dev/cpp/zirclogged/build/html/" target="_blank"/>-->
</head>

<body>
    <a name="pagetop" id="pagetop"></a>
    <div id="header-container">
    <div id="header-left" style="float: left;">
        <div id="header-left-top">
            <a href="/index.html" target="_blank">
            <img src="images/logo2.gif" alt="ZeroMq Logo" border="0"/>
            </a>
        </div>
        <div id="header-left-bottom">
            ZeroMq IRC Log
        </div>
    </div>
    <div id="header-right">
        <div id="header-right-top" style="float:right; vertical-align:text-top;">
            <div id="cse-search-form" style="width: 250px;">Loading</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript">
  google.load('search', '1');
  google.setOnLoadCallback(function() {
    var customSearchControl = new google.search.CustomSearchControl('017268610037587914919:goqutszmb5o');
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.setSearchFormRoot('cse-search-form');
    customSearchControl.draw('cse', options);
  }, true);
</script>
<link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
<style type="text/css">
  .gsc-control-cse {
    font-family: Arial, sans-serif;
    border-color: #FFFFFF;
    background-color: #FFFFFF;
  }
  input.gsc-input {
    border-color: #BCCDF0;
  }
  input.gsc-search-button {
    border-color: #ff0000;
    background-color: #CECECE;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #E9E9E9;
    background-color: #E9E9E9;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-top-color: #ff0000;
    border-left-color: #E9E9E9;
    border-right-color: #E9E9E9;
    background-color: #FFFFFF;
  }
  .gsc-tabsArea {
    border-color: #E9E9E9;
  }
  .gsc-webResult.gsc-result {
    border-color: #FFFFFF;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #FFFFFF;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #0000CC;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #0000CC;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #0000CC;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #0000CC;
  }
  .gsc-cursor-page {
    color: #0000CC;
  }
  a.gsc-trailing-more-results:link {
    color: #0000CC;
  }
  .gs-webResult .gs-snippet {
    color: #000000;
  }
  .gs-webResult div.gs-visibleUrl {
    color: #008000;
  }
  .gs-webResult div.gs-visibleUrl-short {
    color: #008000;
  }
  .gs-webResult div.gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult div.gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #E9E9E9;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #ff0000;
    background-color: #FFFFFF;
  }
  .gs-promotion {
    border-color: #336699;
    background-color: #FFFFFF;
  }
  .gs-promotion a.gs-title:link,
  .gs-promotion a.gs-title:link *,
  .gs-promotion .gs-snippet a:link {
    color: #0000CC;
  }
  .gs-promotion a.gs-title:visited,
  .gs-promotion a.gs-title:visited *,
  .gs-promotion .gs-snippet a:visited {
    color: #0000CC;
  }
  .gs-promotion a.gs-title:hover,
  .gs-promotion a.gs-title:hover *,
  .gs-promotion .gs-snippet a:hover {
    color: #0000CC;
  }
  .gs-promotion a.gs-title:active,
  .gs-promotion a.gs-title:active *,
  .gs-promotion .gs-snippet a:active {
    color: #0000CC;
  }
  .gs-promotion .gs-snippet,
  .gs-promotion .gs-title .gs-promotion-title-right,
  .gs-promotion .gs-title .gs-promotion-title-right *  {
    color: #000000;
  }
  .gs-promotion .gs-visibleUrl,
  .gs-promotion .gs-visibleUrl-short {
    color: #008000;
  }
</style>

        </div>
        <div style="clear:right;"></div>
        <div id="header-right-bottom" style="text-align:right; vertical-align:text-bottom;">
            <a href="http://www.zeromq.org/" target="_blank">ZeroMq Home</a>
        </div>
    </div>
    <div style="clear: both;"></div>
    <hr/>
</div>

    <div class="content">
        <h2>Monday September 13, 2010</h2>
        <table class="message-table">
            <th>[Time]&nbsp;Name</th><th>Message</th>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-1" class="rowLink" href="#msg-1">
                    [00:00]  kenkeiter
                    </a>
                </td>
                <td class="message-cell">
                    sleeperbot: it was worth a try.. did you verify that you&#39;re only running one or two messaging threads?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-2" class="rowLink" href="#msg-2">
                    [00:00]  andrewvc
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ve been curious as to how stable the node driver is
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-3" class="rowLink" href="#msg-3">
                    [00:00]  kenkeiter
                    </a>
                </td>
                <td class="message-cell">
                    :/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-4" class="rowLink" href="#msg-4">
                    [00:03]  sleeperbot
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m looking up how to do that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-5" class="rowLink" href="#msg-5">
                    [00:03]  sleeperbot
                    </a>
                </td>
                <td class="message-cell">
                    do you know what I can type in the command line to bring that info up?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-6" class="rowLink" href="#msg-6">
                    [00:04]  kenkeiter
                    </a>
                </td>
                <td class="message-cell">
                    sleeperbot: which platform?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-7" class="rowLink" href="#msg-7">
                    [00:04]  sleeperbot
                    </a>
                </td>
                <td class="message-cell">
                    unix
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-8" class="rowLink" href="#msg-8">
                    [00:04]  sleeperbot
                    </a>
                </td>
                <td class="message-cell">
                    ubuntu karmic
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-9" class="rowLink" href="#msg-9">
                    [00:07]  kenkeiter
                    </a>
                </td>
                <td class="message-cell">
                    htop might work.. haven&#39;t done it under *ni
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-10" class="rowLink" href="#msg-10">
                    [00:09]  kenkeiter
                    </a>
                </td>
                <td class="message-cell">
                    http://manpages.ubuntu.com/manpages/lucid/man1/htop.1.html
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-11" class="rowLink" href="#msg-11">
                    [00:14]  sleeperbot
                    </a>
                </td>
                <td class="message-cell">
                    I see 3 versions of my node.js stream and web servers
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-12" class="rowLink" href="#msg-12">
                    [00:14]  sleeperbot
                    </a>
                </td>
                <td class="message-cell">
                    don&#39;t see anything related to zmq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-13" class="rowLink" href="#msg-13">
                    [00:15]  sleeperbot
                    </a>
                </td>
                <td class="message-cell">
                    killed the extraneous processes, will check if anything changed in cpu usage
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-14" class="rowLink" href="#msg-14">
                    [03:34]  andrewvc
                    </a>
                </td>
                <td class="message-cell">
                    I assume that XREQ/XREP sockets apply backpressure in the same manner as PUSH/PULL and REQ/REP yes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-15" class="rowLink" href="#msg-15">
                    [11:28]  CIA-20
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: 03Martin Lucina 07master * rbe159b6 10/ src/pipe.cpp : zmq::writer_t: Add missing test for swap - http://bit.ly/aGN4bM
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-16" class="rowLink" href="#msg-16">
                    [11:29]  icy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: hi, is there any paper on the algorithm used for the lock-free queue?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-17" class="rowLink" href="#msg-17">
                    [11:30]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    icy: there&#39;s a very old article here:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-18" class="rowLink" href="#msg-18">
                    [11:30]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    http://www.zeromq.org/whitepapers:y-suite
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-19" class="rowLink" href="#msg-19">
                    [11:30]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    lot of it doesn&#39;t apply any more
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-20" class="rowLink" href="#msg-20">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    this is what still applies: "+ Table of Contents
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-21" class="rowLink" href="#msg-21">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    - Table of Contents
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-22" class="rowLink" href="#msg-22">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    FoldUnfold
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-23" class="rowLink" href="#msg-23">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Table of Contents
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-24" class="rowLink" href="#msg-24">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Introduction
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-25" class="rowLink" href="#msg-25">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Design
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-26" class="rowLink" href="#msg-26">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Performance
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-27" class="rowLink" href="#msg-27">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Configuration
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-28" class="rowLink" href="#msg-28">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Performance with polling
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-29" class="rowLink" href="#msg-29">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Performance without polling
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-30" class="rowLink" href="#msg-30">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Conclusion
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-31" class="rowLink" href="#msg-31">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    HISTORICAL WHITEPAPER
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-32" class="rowLink" href="#msg-32">
                    [11:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Introduction
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-33" class="rowLink" href="#msg-33">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Y-suite is a set of components designed for ultra-efficient passing of messages between threads within a process. Y-suite is somehow similar to local sockets, however, it is much faster.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-34" class="rowLink" href="#msg-34">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    In version 0.1 of ÃMQ lightweight messaging kernel, the only y-suite component available is ypipe, a lock-free and wait-free implementation of a queue. In version 0.2 ypollset is added to allow thread to interchange messages with several other threads at the same time (similar to POSIX poll function). Component known as semaphore in version 0.1 is renamed to ysemaphore in version 0.2 to mark that it belongs to y-suite. Same way, spipe i
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-35" class="rowLink" href="#msg-35">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    s renamed to ysocketpair.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-36" class="rowLink" href="#msg-36">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Design
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-37" class="rowLink" href="#msg-37">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    The basic means of transferring message between threads is ypipe. Messages are passed through a pipe in the standard write and read manner. Once the reader has no more messages to read from the pipe, it notifies the sender using passive synchronization and goes asleep. Passive synchronization means that the other thread is not notified directly using some kind of async signal, rather it will be notified once it tries to write the next me
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-38" class="rowLink" href="#msg-38">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ssage to the pipe. When this happens, writer becomes aware that reader is already asleep or at least going asleep at the moment. It knows that there is new message available, so it wakes the reader up using active synchronization, i.e. actively sending wake-up event to the other thread. Active synchronisation is not provided by ypipe itself, rather by other y-suite components, to be discussed bellow. Usage of ypipe is depicted on the fol
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-39" class="rowLink" href="#msg-39">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    lowing sequence diagram:"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-40" class="rowLink" href="#msg-40">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yuck
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-41" class="rowLink" href="#msg-41">
                    [11:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    sorry
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-42" class="rowLink" href="#msg-42">
                    [11:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    too much text, but the last paragraph is relevant
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-43" class="rowLink" href="#msg-43">
                    [11:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    also see the diagram that follows the text above
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-44" class="rowLink" href="#msg-44">
                    [11:34]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    Good morning! ZeroMQ is a really nice library.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-45" class="rowLink" href="#msg-45">
                    [11:35]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    If I&#39;m using REQ/REP messaging with multiple servers, what happens if one server is asked to handle an unusually long-running request?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-46" class="rowLink" href="#msg-46">
                    [11:36]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    Do the clients just route requests to one of the available servers? Or do they continue to send requests to the busy server?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-47" class="rowLink" href="#msg-47">
                    [11:36]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ekidd: if you set high watermark, it&#39;s queue gets eventually full and subsequent requests will be dispatches to other servers
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-48" class="rowLink" href="#msg-48">
                    [11:36]  icy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: yea I&#39;ve read that, I guess because it is single-reader single-write, it does not suffer from the ABA problem?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-49" class="rowLink" href="#msg-49">
                    [11:37]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: Ah, OK. The useful high watermark in my case is very small: The servers are inherently single-threaded workers with long-running jobs. I want to keep them loaded.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-50" class="rowLink" href="#msg-50">
                    [11:37]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    icy: what&#39;s ABA?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-51" class="rowLink" href="#msg-51">
                    [11:38]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    I do, however, have lots of clients and servers.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-52" class="rowLink" href="#msg-52">
                    [11:38]  icy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: http://en.wikipedia.org/wiki/ABA_problem
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-53" class="rowLink" href="#msg-53">
                    [11:39]  icy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: it&#39;s one of the main problems that lock-free queues have to overcome
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-54" class="rowLink" href="#msg-54">
                    [11:39]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    it takes an unusually long time to complete the request
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-55" class="rowLink" href="#msg-55">
                    [11:40]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    icy: My clients and servers are different machines, so I don&#39;t think the lock-free stuff is relevant. But I might be confused.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-56" class="rowLink" href="#msg-56">
                    [11:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ekidd: that&#39;s a different conversion going on :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-57" class="rowLink" href="#msg-57">
                    [11:40]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    Ah, OK. I was confused. :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-58" class="rowLink" href="#msg-58">
                    [11:41]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    ekidd: did you see that req/req is locked to the send/recv order?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-59" class="rowLink" href="#msg-59">
                    [11:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ekidd: there&#39;s no such thing in 0MQ as explicit ack
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-60" class="rowLink" href="#msg-60">
                    [11:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so there&#39;s no way for it to work in lock-step fashion
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-61" class="rowLink" href="#msg-61">
                    [11:41]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    guido_g: Yeah, that works for me.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-62" class="rowLink" href="#msg-62">
                    [11:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    icy: it&#39;s basically a two step process
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-63" class="rowLink" href="#msg-63">
                    [11:42]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    same for the rep side (the server)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-64" class="rowLink" href="#msg-64">
                    [11:42]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    I basically have a farm of Windows workers that take 0.1 to (say) 60 seconds to process a job, and idle time costs money. There&#39;s one worker per server.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-65" class="rowLink" href="#msg-65">
                    [11:42]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    see the user guide for lots of examples and ideas
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-66" class="rowLink" href="#msg-66">
                    [11:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    icy: while there are messages to be read the synchronisation is done simply by moving a pointer in the linked list in atomic manner
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-67" class="rowLink" href="#msg-67">
                    [11:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    icy: when there are no messages to be read, the pointer becomes NULL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-68" class="rowLink" href="#msg-68">
                    [11:43]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    I don&#39;t mind locking the order of responses the way req/rep does: I&#39;m talking to expensive, single-threaded Windows libraries in any case.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-69" class="rowLink" href="#msg-69">
                    [11:44]  icy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: understood so far and it seems it does not suffer from aba, just was curious if there was real proof of the correctness of the algorithm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-70" class="rowLink" href="#msg-70">
                    [11:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    icy: reader goes asleep and standard inter-thread mechanism (socketpair) is used to wake it up
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-71" class="rowLink" href="#msg-71">
                    [11:44]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    But I want to maximize utilization of those expensive libraries.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-72" class="rowLink" href="#msg-72">
                    [11:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    icy: no
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-73" class="rowLink" href="#msg-73">
                    [11:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    want to prove it?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-74" class="rowLink" href="#msg-74">
                    [11:44]  icy
                    </a>
                </td>
                <td class="message-cell">
                    that would take more time than I have probably :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-75" class="rowLink" href="#msg-75">
                    [11:45]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    As long as zeromq clients respect the individual server&#39;s high water marks and route requests to another worker, everything will work fine.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-76" class="rowLink" href="#msg-76">
                    [11:46]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m going to write some tests (of course). I just wanted to know whether I was even trying something sane. :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-77" class="rowLink" href="#msg-77">
                    [11:48]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    Many thanks for your advice, folks!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-78" class="rowLink" href="#msg-78">
                    [11:51]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    ekidd: did you read http://api.zeromq.org/zmq_socket.html, there is something on hwm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-79" class="rowLink" href="#msg-79">
                    [11:54]  ekidd
                    </a>
                </td>
                <td class="message-cell">
                    guido_g: Excellent. It definitely has the right semantics. I&#39;ll still need to find out whether it does the right thing, performance-wise, with large messages and queues that are often at their high water marks.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-80" class="rowLink" href="#msg-80">
                    [13:44]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    while writing some specs for my bindings this weekend i came across a few issues with SWAP, RECOVERY_IVL and RATE
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-81" class="rowLink" href="#msg-81">
                    [13:45]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    all 3 of those take signed 64-bit integers for input
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-82" class="rowLink" href="#msg-82">
                    [13:45]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    they also do *not* return an error when passed a negative number even though that doesn&#39;t make any sense
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-83" class="rowLink" href="#msg-83">
                    [13:45]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    should the library return an error for negative numbers or should my bindings take care of that issue?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-84" class="rowLink" href="#msg-84">
                    [13:57]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    so I have this: http://pastebin.com/dXEveLCx
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-85" class="rowLink" href="#msg-85">
                    [13:58]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    I start the server, it sits at zmq_recv(), great; i run the client, it runs fine and exits, but the server never receives anything. ideas?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-86" class="rowLink" href="#msg-86">
                    [14:00]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    cremes: i think all the setsockopt types need to be reviewed for 3.0
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-87" class="rowLink" href="#msg-87">
                    [14:00]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    pieterh: ok; so should i open bugs for those against the 2.1.x branch?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-88" class="rowLink" href="#msg-88">
                    [14:00]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    but certainly if they are signed get a negative value that should return EINVAL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-89" class="rowLink" href="#msg-89">
                    [14:00]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    yup, even 2.0.x IMO
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-90" class="rowLink" href="#msg-90">
                    [14:00]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok, i&#39;ll do that now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-91" class="rowLink" href="#msg-91">
                    [14:01]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: looking at it...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-92" class="rowLink" href="#msg-92">
                    [14:02]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    pieterh: thx; I&#39;m guessing there&#39;s some setup step I&#39;ve overlooked
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-93" class="rowLink" href="#msg-93">
                    [14:02]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: try &#39;ps&#39;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-94" class="rowLink" href="#msg-94">
                    [14:02]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    imo you have a second copy of the server running
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-95" class="rowLink" href="#msg-95">
                    [14:02]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    (though it would assert then...)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-96" class="rowLink" href="#msg-96">
                    [14:03]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    sorry, forget I said that plz
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-97" class="rowLink" href="#msg-97">
                    [14:03]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    hmm, no, but maybe something else is sitting on 5001, let me try changing that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-98" class="rowLink" href="#msg-98">
                    [14:03]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: client writes a message and then closes &amp; exits
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-99" class="rowLink" href="#msg-99">
                    [14:03]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    two things: (a) it should wait for a reply
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-100" class="rowLink" href="#msg-100">
                    [14:03]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    (b) if it does not want to wait, it can&#39;t exit immediately
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-101" class="rowLink" href="#msg-101">
                    [14:03]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    you need to read the users guide
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-102" class="rowLink" href="#msg-102">
                    [14:04]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    I have.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-103" class="rowLink" href="#msg-103">
                    [14:04]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    0mq/2.0.x loses data if you close the socket while there is data in flight
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-104" class="rowLink" href="#msg-104">
                    [14:04]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: are you starting the server first?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-105" class="rowLink" href="#msg-105">
                    [14:04]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    Of course.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-106" class="rowLink" href="#msg-106">
                    [14:04]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    send/close is not going to work
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-107" class="rowLink" href="#msg-107">
                    [14:04]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    send/recv/close is ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-108" class="rowLink" href="#msg-108">
                    [14:04]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    send/sleep/close is ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-109" class="rowLink" href="#msg-109">
                    [14:04]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    OK, so, do I need to recv() in the clie... k
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-110" class="rowLink" href="#msg-110">
                    [14:04]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ah yes, that&#39;s right
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-111" class="rowLink" href="#msg-111">
                    [14:04]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    do a sleep before exiting
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-112" class="rowLink" href="#msg-112">
                    [14:04]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    even if I don&#39;t post anything back explicitly?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-113" class="rowLink" href="#msg-113">
                    [14:04]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    prtb: either a recv
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-114" class="rowLink" href="#msg-114">
                    [14:05]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    prtb if you&#39;re using REQ and REP sockets, you should be doing send/recv and recv/send
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-115" class="rowLink" href="#msg-115">
                    [14:05]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    if you want to just send 1 message as such use PUSH/PULL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-116" class="rowLink" href="#msg-116">
                    [14:05]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s not a biggie
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-117" class="rowLink" href="#msg-117">
                    [14:05]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    the problem here is not giving the client process time to send its data
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-118" class="rowLink" href="#msg-118">
                    [14:05]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m doing something vaguely RPC-ish, so I guess if I want to represent a void blah(); I still have to send something back
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-119" class="rowLink" href="#msg-119">
                    [14:06]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    or else use XREQ/XREP
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-120" class="rowLink" href="#msg-120">
                    [14:06]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yeah it makes sense, sure. thanks. i guess it&#39;s just not explicit anywhere in the docs (afaict)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-121" class="rowLink" href="#msg-121">
                    [14:06]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    rtfug... :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-122" class="rowLink" href="#msg-122">
                    [14:06]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    it is explicit in there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-123" class="rowLink" href="#msg-123">
                    [14:06]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    i have; if you want to point me to the sentence in question I&#39;m happy to be made a fool
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-124" class="rowLink" href="#msg-124">
                    [14:07]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    Note that we do sleep (1); before exiting the ventilator. This is a hack that gets around ÃMQ/2.0&#39;s design, which discards messages that have not yet been sent, if you exit the program too soon. If you are using ÃMQ/2.1 you can remove this sleep statement.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-125" class="rowLink" href="#msg-125">
                    [14:07]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    eh.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-126" class="rowLink" href="#msg-126">
                    [14:08]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    http://www.zeromq.org/docs:user-guide-1#toc7
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-127" class="rowLink" href="#msg-127">
                    [14:08]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s the first example that has this problem, so I explain it there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-128" class="rowLink" href="#msg-128">
                    [14:08]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    the hello world client waits for an answer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-129" class="rowLink" href="#msg-129">
                    [14:08]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    and the pubsub example never exits
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-130" class="rowLink" href="#msg-130">
                    [14:09]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    maybe i should put it in bold...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-131" class="rowLink" href="#msg-131">
                    [14:09]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    and repeat this, it&#39;s a common fault
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-132" class="rowLink" href="#msg-132">
                    [14:11]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    if you&#39;re willing to take some constructive criticism about the documentation, i&#39;d say that while example-based docs are great, when I have a specific problem (like this) I find there isn&#39;t really a way I can find a solution; there&#39;s no idioms or implementation details or whatever to search through (as far as I&#39;ve found)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-133" class="rowLink" href="#msg-133">
                    [14:13]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    but!! but but, thank you :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-134" class="rowLink" href="#msg-134">
                    [14:19]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    hmm, recv on the client side hangs... is there not some zmq_flush or something I can call?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-135" class="rowLink" href="#msg-135">
                    [14:20]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    no
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-136" class="rowLink" href="#msg-136">
                    [14:20]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    poop :|
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-137" class="rowLink" href="#msg-137">
                    [14:21]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    pardon?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-138" class="rowLink" href="#msg-138">
                    [14:21]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    that was an expression of mild disappointment
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-139" class="rowLink" href="#msg-139">
                    [15:35]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: still there?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-140" class="rowLink" href="#msg-140">
                    [15:36]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    sorry, was in a meeting
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-141" class="rowLink" href="#msg-141">
                    [15:36]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yeah sure
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-142" class="rowLink" href="#msg-142">
                    [15:36]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    making a problem driven section in the guide would be good
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-143" class="rowLink" href="#msg-143">
                    [15:37]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    did you find out why your client hangs?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-144" class="rowLink" href="#msg-144">
                    [15:37]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    No, I just threw a sleep in there and moved on to bigger, even more problematic things :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-145" class="rowLink" href="#msg-145">
                    [15:37]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    a problem-driven section would be good, but it&#39;ll never be comprehensive
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-146" class="rowLink" href="#msg-146">
                    [15:38]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    FWIW I think a good documentation model would be ZeroC&#39;s ICE, which has a really comprehensive .pdf
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-147" class="rowLink" href="#msg-147">
                    [15:38]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    "did not get a message" is a pretty classic stumbling block
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-148" class="rowLink" href="#msg-148">
                    [15:38]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yeah, fair
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-149" class="rowLink" href="#msg-149">
                    [15:38]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll write a flowchart
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-150" class="rowLink" href="#msg-150">
                    [15:40]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    now, i&#39;m working on an implementation based on the multithreaded code in the user guide, and i&#39;m getting infinite size-0 messages on the server side after sending one legitimate message from a client
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-151" class="rowLink" href="#msg-151">
                    [15:40]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    ever hear of something like this?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-152" class="rowLink" href="#msg-152">
                    [15:42]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    sorry, based on the multithreaded server in the *introduction* doc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-153" class="rowLink" href="#msg-153">
                    [15:43]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: i&#39;ve never seen that... you say your code is "based on" the example; it&#39;s always a good idea to start from code that you *know* works and modify from there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-154" class="rowLink" href="#msg-154">
                    [15:43]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    sounds like your mods broke it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-155" class="rowLink" href="#msg-155">
                    [15:44]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    the easiest way to find the failure is to revert back to the original "good" code and slowly modify it to your specifications
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-156" class="rowLink" href="#msg-156">
                    [15:44]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yeah. i know. i&#39;m trying to drop the server into an existing process to provide a zmq "layer", so there&#39;s not really any way to iterate my way to where I am now.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-157" class="rowLink" href="#msg-157">
                    [15:45]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    i guess i can try taking out some functionality.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-158" class="rowLink" href="#msg-158">
                    [15:45]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    did you change the code that sends 0mq messages?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-159" class="rowLink" href="#msg-159">
                    [15:48]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yes; in ways i initially thought were inconsequential, but i suppose i&#39;m in an assumption-revalidating mood :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-160" class="rowLink" href="#msg-160">
                    [15:49]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    as a meta-comment, it&#39;s really great you guys are hanging out on irc to help folks; zmq is a great project and this is a great resource.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-161" class="rowLink" href="#msg-161">
                    [15:50]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    aha! so, if i zmq_recv(), get a message, and don&#39;t zmq_send() something in the server, subsequent zmq_recv()s have the effect of not blocking
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-162" class="rowLink" href="#msg-162">
                    [15:51]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    ...which seems quite strange to me
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-163" class="rowLink" href="#msg-163">
                    [15:51]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: what kind of socket are you using on this server side?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-164" class="rowLink" href="#msg-164">
                    [15:53]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    because that behavior doesn&#39;t sound right; the zmq_recv() call is returning an error, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-165" class="rowLink" href="#msg-165">
                    [15:54]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yeah, it returns -1 EAGAIN
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-166" class="rowLink" href="#msg-166">
                    [15:54]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    i believe it&#39;s EAGAIN, at least.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-167" class="rowLink" href="#msg-167">
                    [15:56]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    the topology is the multithread server example in the intro doc: public tcp XREP endpoint, managed by one thread running zmq_device(ZMQ_QUEUE, ...), forwarding via XREQ to an inproc endpoint, being consumed by worker threads binding to REP
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-168" class="rowLink" href="#msg-168">
                    [16:02]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    can you provide a code pastie?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-169" class="rowLink" href="#msg-169">
                    [16:03]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    it won&#39;t be complete, but sure, one sec...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-170" class="rowLink" href="#msg-170">
                    [16:03]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    it doesn&#39;t need to be complete... i want to see the code that sets up the socket and calls recv on it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-171" class="rowLink" href="#msg-171">
                    [16:04]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    the worker thread ultimately responsible for processing the recv, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-172" class="rowLink" href="#msg-172">
                    [16:04]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    whatever code is returning -1 EAGAIN
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-173" class="rowLink" href="#msg-173">
                    [16:05]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    http://pastebin.com/rdHn4iX8
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-174" class="rowLink" href="#msg-174">
                    [16:08]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: in your DEBUG statement, also print out the value of zmq_strerror()
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-175" class="rowLink" href="#msg-175">
                    [16:08]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i need more information to figure this out
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-176" class="rowLink" href="#msg-176">
                    [16:09]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    Operation cannot be accomplished in current state
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-177" class="rowLink" href="#msg-177">
                    [16:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ah, then there we have it; with a REP socket you can&#39;t call recv again until you have subsequently called send
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-178" class="rowLink" href="#msg-178">
                    [16:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    it needs that recv/send/recv pattern because it maintains a small internal state machine
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-179" class="rowLink" href="#msg-179">
                    [16:10]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    oh, interesting
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-180" class="rowLink" href="#msg-180">
                    [16:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s the whole point of the REQ/REP socket pattern
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-181" class="rowLink" href="#msg-181">
                    [16:10]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-182" class="rowLink" href="#msg-182">
                    [16:10]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    see, this is useful! this should be on a website somewhere :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-183" class="rowLink" href="#msg-183">
                    [16:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    the worker is supposed to respond when it is done, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-184" class="rowLink" href="#msg-184">
                    [16:10]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    well, my thought is that it may optionally respond
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-185" class="rowLink" href="#msg-185">
                    [16:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    it is for sure
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-186" class="rowLink" href="#msg-186">
                    [16:10]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    but if it *has* to respond, that&#39;s fine too
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-187" class="rowLink" href="#msg-187">
                    [16:11]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    if you want it to be optional, use XREP sockets
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-188" class="rowLink" href="#msg-188">
                    [16:11]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    that kind of socket does not enforce the recv/send/recv pattern
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-189" class="rowLink" href="#msg-189">
                    [16:11]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    I suspect there is more to XREP than simply dropping that enforcement, though
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-190" class="rowLink" href="#msg-190">
                    [16:13]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: not really; REP sockets are built on top of the XREP socket
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-191" class="rowLink" href="#msg-191">
                    [16:14]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    hmm, interesting
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-192" class="rowLink" href="#msg-192">
                    [16:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    REP sockets know how to "route" their responses back over multiple hops
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-193" class="rowLink" href="#msg-193">
                    [16:14]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    you need to do a little extra work when using an XREP socket to retain that functionality
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-194" class="rowLink" href="#msg-194">
                    [16:15]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    this might help a little:  http://www.zeromq.org/recipe:new-recipe
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-195" class="rowLink" href="#msg-195">
                    [16:26]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    curiouser and curiouser
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-196" class="rowLink" href="#msg-196">
                    [20:37]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    Hi guys, I have a question on req/rep topology
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-197" class="rowLink" href="#msg-197">
                    [20:38]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    Previously, I have been doing benchmarking with the subscriber/publisher toplogy, but I wanted to see what results I would get with req/rep
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-198" class="rowLink" href="#msg-198">
                    [20:38]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    and I was wondering if there is anything else I need to do besides the obvious change of the socket types and adding in addition send/recv function calls to avoid blocking the code
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-199" class="rowLink" href="#msg-199">
                    [20:39]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    because i noticed after I did those things, rather than sending a message of X bytes, it sends X messages of 1 byte
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-200" class="rowLink" href="#msg-200">
                    [20:41]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    Actually, I lied. It seems to just send a lot of zero byte messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-201" class="rowLink" href="#msg-201">
                    [20:41]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ModusPwnens: pastie some code, because it should "just work"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-202" class="rowLink" href="#msg-202">
                    [20:51]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    Actually, i figured out what it was. However, should rep/req have better or worse performance than sub/pub?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-203" class="rowLink" href="#msg-203">
                    [21:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ModusPwnens: same perf but round-trip latency is higher (no such notion as round-trip latency with pub/sub)
                </td>
            </tr>
            
        </table>
    </div>
</body>
</html>
