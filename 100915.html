<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
    <title></title>
    <link rel="stylesheet" href="css/base.css"></link>
    <link rel="shortcut icon" href="images/favicon.gif">
</head>
<body>
    <a name="pagetop" id="pagetop"></a>
    <div id="header-container">
    <div id="header-left" style="float: left;">
        <div id="header-left-top">
            <img src="images/logo2.gif" alt="ZeroMq Logo"/>
        </div>
        <div id="header-left-bottom">
            This is where the subtitle goes
        </div>
    </div>
    <div id="header-right">
        <div id="header-right-top" style="text-align:right">
            This is where the search box goes
        </div>
        <div id="header-right-bottom" style="text-align:right">
            Something else goes here
        </div>
    </div>
    <div style="clear: both;"></div>
</div>

    <div class="content">
        <h2>Wednesday September 15, 2010</h2>
        <table class="message-table">
            <th>[Time]&nbsp;Name</th><th>Message</th>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-1" class="rowLink" href="#msg-1">
                    [01:50]  kenkeiter
                    </a>
                </td>
                <td class="message-cell">
                    Okay, Rubyists with zmq experience -- question!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-2" class="rowLink" href="#msg-2">
                    [02:23]  Xin
                    </a>
                </td>
                <td class="message-cell">
                    test
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-3" class="rowLink" href="#msg-3">
                    [02:25]  Xin
                    </a>
                </td>
                <td class="message-cell">
                    Does it make sense to add UDP support to 0mq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-4" class="rowLink" href="#msg-4">
                    [08:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Samy: pong
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-5" class="rowLink" href="#msg-5">
                    [08:06]  Zao
                    </a>
                </td>
                <td class="message-cell">
                    Doesn&#39;t PGM stuff travel on UDP already?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-6" class="rowLink" href="#msg-6">
                    [08:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Zao: PGM travels on IP
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-7" class="rowLink" href="#msg-7">
                    [08:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    epgm is a convenience hack that travels on UDP instead of IP
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-8" class="rowLink" href="#msg-8">
                    [08:09]  Zao
                    </a>
                </td>
                <td class="message-cell">
                    Oh, right.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-9" class="rowLink" href="#msg-9">
                    [08:09]  Zao
                    </a>
                </td>
                <td class="message-cell">
                    Never used any of them, so I went with faint memories of manpages past.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-10" class="rowLink" href="#msg-10">
                    [09:18]  omarkj
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: Morning.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-11" class="rowLink" href="#msg-11">
                    [09:29]  mrm2m
                    </a>
                </td>
                <td class="message-cell">
                    Hey ho!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-12" class="rowLink" href="#msg-12">
                    [09:30]  mrm2m
                    </a>
                </td>
                <td class="message-cell">
                    Is there a lightweight introduction, how zmq works internally?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-13" class="rowLink" href="#msg-13">
                    [09:33]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    mrm2m: there is documentation of the source code and there are whitepapers
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-14" class="rowLink" href="#msg-14">
                    [09:33]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    but there is nothing lightweight about 0MQ&#39;s internals, really
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-15" class="rowLink" href="#msg-15">
                    [09:34]  mrm2m
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-16" class="rowLink" href="#msg-16">
                    [09:39]  Bruc
                    </a>
                </td>
                <td class="message-cell">
                    hey wat sup all
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-17" class="rowLink" href="#msg-17">
                    [10:00]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    omarkj: hah, hi!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-18" class="rowLink" href="#msg-18">
                    [10:01]  omarkj
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: Didn&#39;t notice you here until now, are you guys using 0mq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-19" class="rowLink" href="#msg-19">
                    [10:01]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m experimenting a bit
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-20" class="rowLink" href="#msg-20">
                    [10:02]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    I just love the idea of message passing for concurrency
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-21" class="rowLink" href="#msg-21">
                    [10:03]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    well, outside of erlang at least
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-22" class="rowLink" href="#msg-22">
                    [10:05]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    how about yourself?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-23" class="rowLink" href="#msg-23">
                    [10:07]  omarkj
                    </a>
                </td>
                <td class="message-cell">
                    Working with it.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-24" class="rowLink" href="#msg-24">
                    [10:07]  omarkj
                    </a>
                </td>
                <td class="message-cell">
                    Let&#39;s go pm. :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-25" class="rowLink" href="#msg-25">
                    [12:49]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, I think I might have figured out the concurrency issue
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-26" class="rowLink" href="#msg-26">
                    [12:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    cremes: here i am
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-27" class="rowLink" href="#msg-27">
                    [12:50]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    keffo: so what&#39;s the problem?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-28" class="rowLink" href="#msg-28">
                    [12:51]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    I was rewriting (using poll rather than sequential) and to clean up logging etc, and I just noticed one place where I send a null message before sending the rest, except "the rest"  already included the incomin route-null, so I suspect it was being sent twie
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-29" class="rowLink" href="#msg-29">
                    [12:52]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    twice
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-30" class="rowLink" href="#msg-30">
                    [12:52]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    nullmore, nullmore, uuidmore, data, etc..
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-31" class="rowLink" href="#msg-31">
                    [12:52]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, i see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-32" class="rowLink" href="#msg-32">
                    [12:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so no problem in 0mq to worry about
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-33" class="rowLink" href="#msg-33">
                    [12:53]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    Not at all
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-34" class="rowLink" href="#msg-34">
                    [12:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-35" class="rowLink" href="#msg-35">
                    [12:53]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    I never expected that either :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-36" class="rowLink" href="#msg-36">
                    [12:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you are an optimist then :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-37" class="rowLink" href="#msg-37">
                    [12:54]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    It&#39;s been very stable and well behaved so far, apart from this issue which is my own fault :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-38" class="rowLink" href="#msg-38">
                    [12:55]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    I did 100k pi calcs yesterday, with 10 worker procs on different machines..  the loadbalancer had ~500kb/s passing through it, and in total more than half a gig of logs were generated.. That&#39;s when I decided the logging was way wonky, didnt really tell much
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-39" class="rowLink" href="#msg-39">
                    [13:25]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: i&#39;m available for the next hour or so if you want to chat
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-40" class="rowLink" href="#msg-40">
                    [13:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    cremes: hi
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-41" class="rowLink" href="#msg-41">
                    [13:46]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    give me some context first: why have you moved from ruby-ffi to rbzmq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-42" class="rowLink" href="#msg-42">
                    [13:46]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    there are multiple ruby runtimes; not all of them support the C extension api that rbzmq uses
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-43" class="rowLink" href="#msg-43">
                    [13:47]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ffi allows me to support *all* of the runtimes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-44" class="rowLink" href="#msg-44">
                    [13:47]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    oh, and i haven&#39;t moved from one to the other; i would just like rbzmq to have the same api as ffi-rzmq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-45" class="rowLink" href="#msg-45">
                    [13:48]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, i see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-46" class="rowLink" href="#msg-46">
                    [13:48]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it looks like brian buchanan is not reponding, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-47" class="rowLink" href="#msg-47">
                    [13:48]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    right
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-48" class="rowLink" href="#msg-48">
                    [13:48]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, i have admin access to the project
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-49" class="rowLink" href="#msg-49">
                    [13:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll add you there as a developer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-50" class="rowLink" href="#msg-50">
                    [13:49]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: cremes: a question; i was wondering myself why there were two ruby bindings
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-51" class="rowLink" href="#msg-51">
                    [13:49]  mato
                    </a>
                </td>
                <td class="message-cell">
                    is there any point in keeping both around?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-52" class="rowLink" href="#msg-52">
                    [13:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    hi
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-53" class="rowLink" href="#msg-53">
                    [13:49]  mato
                    </a>
                </td>
                <td class="message-cell">
                    if FFI is the way to go then why keep rbzmq at all?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-54" class="rowLink" href="#msg-54">
                    [13:50]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    um... i don&#39;t know; it&#39;s probably best to get feedback from folks using rbzmq and ask them why they prefer it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-55" class="rowLink" href="#msg-55">
                    [13:50]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;m biased towards the ffi one, obviously ;)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-56" class="rowLink" href="#msg-56">
                    [13:51]  mato
                    </a>
                </td>
                <td class="message-cell">
                    that might be a good idea; having two bindings is IMO confusing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-57" class="rowLink" href="#msg-57">
                    [13:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    does it work with any runtime?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-58" class="rowLink" href="#msg-58">
                    [13:51]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s why i was hoping brian buchanan would speak up
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-59" class="rowLink" href="#msg-59">
                    [13:51]  mato
                    </a>
                </td>
                <td class="message-cell">
                    cremes: is there a mailing list for this? I&#39;ve not seen any discussion on zeromq-dev...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-60" class="rowLink" href="#msg-60">
                    [13:52]  mato
                    </a>
                </td>
                <td class="message-cell">
                    maybe just ping there, outline the situation (two bindings, ffi works on all runtimes, etc.) and ask the community
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-61" class="rowLink" href="#msg-61">
                    [13:52]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    this has not been brought up on the zerome-dev list
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-62" class="rowLink" href="#msg-62">
                    [13:52]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll do that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-63" class="rowLink" href="#msg-63">
                    [13:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    can you explain how does the runtime interoperability work?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-64" class="rowLink" href="#msg-64">
                    [13:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so far i had an impression that ffi doesn&#39;t work with all the ruby runtimes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-65" class="rowLink" href="#msg-65">
                    [13:53]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: as of a few days ago, ffi works with all of the runtimes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-66" class="rowLink" href="#msg-66">
                    [13:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    aha
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-67" class="rowLink" href="#msg-67">
                    [13:53]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i worked out the last details with the runtime guys
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-68" class="rowLink" href="#msg-68">
                    [13:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so it&#39;s new
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-69" class="rowLink" href="#msg-69">
                    [13:54]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    the issue with C extensions is that they oftentimes access lots of internal memory structures
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-70" class="rowLink" href="#msg-70">
                    [13:54]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that may actually mean that rbzmq is not needed any more
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-71" class="rowLink" href="#msg-71">
                    [13:54]  mato
                    </a>
                </td>
                <td class="message-cell">
                    cremes: what&#39;s the status of FFI support for Ruby MRI (i.e. that which most people are using right now)?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-72" class="rowLink" href="#msg-72">
                    [13:54]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ffi allows the runtime authors to hide their implementation details and provide a more solid mechanism for accessing C libraries
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-73" class="rowLink" href="#msg-73">
                    [13:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-74" class="rowLink" href="#msg-74">
                    [13:55]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mato: it&#39;s quite good
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-75" class="rowLink" href="#msg-75">
                    [13:55]  mato
                    </a>
                </td>
                <td class="message-cell">
                    cremes: right, but does "quite good" mean "production quality"?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-76" class="rowLink" href="#msg-76">
                    [13:55]  mato
                    </a>
                </td>
                <td class="message-cell">
                    i guess what i&#39;m asking is if rbzmq goes away then what will that mean for the current mainstream of Ruby MRI users
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-77" class="rowLink" href="#msg-77">
                    [13:56]  mato
                    </a>
                </td>
                <td class="message-cell">
                    will they all just happily start using the FFI binding, or not?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-78" class="rowLink" href="#msg-78">
                    [13:56]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mato: perhaps; i can only speak for how it works with 0mq; obviously we still have hangs until 2.1.x comes out with EINTR support for blocking calls
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-79" class="rowLink" href="#msg-79">
                    [13:56]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sure, but the EINTR hangs are orthogonal to FFI/non-FFI
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-80" class="rowLink" href="#msg-80">
                    [13:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    well, whatever happens the rbzmq project is not going to be killed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-81" class="rowLink" href="#msg-81">
                    [13:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so no worry
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-82" class="rowLink" href="#msg-82">
                    [13:56]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mato: i&#39;ll ask for feedback on the ML
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-83" class="rowLink" href="#msg-83">
                    [13:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the problem is that it doesn&#39;t have a permanent maintainer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-84" class="rowLink" href="#msg-84">
                    [13:57]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mato: sure, it&#39;s orthogonal, but it&#39;s hard to say if there are other bugs when you get a hang
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-85" class="rowLink" href="#msg-85">
                    [13:57]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    is it due to the blocking behavior or something else?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-86" class="rowLink" href="#msg-86">
                    [13:57]  mato
                    </a>
                </td>
                <td class="message-cell">
                    well then put a note up about that (lack of maintainer) on the rbzmq project page
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-87" class="rowLink" href="#msg-87">
                    [13:57]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i don&#39;t have the time or energy to run stuff under gdb all of the time to figure that out :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-88" class="rowLink" href="#msg-88">
                    [13:58]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    let&#39;s take this to the ML and see what users have to say
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-89" class="rowLink" href="#msg-89">
                    [13:58]  mato
                    </a>
                </td>
                <td class="message-cell">
                    yup
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-90" class="rowLink" href="#msg-90">
                    [13:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-91" class="rowLink" href="#msg-91">
                    [13:58]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    btw, from a search on github most projects are using the ffi-based binding
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-92" class="rowLink" href="#msg-92">
                    [13:58]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    but i certainly don&#39;t want to lose or alienate the rbzmq users
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-93" class="rowLink" href="#msg-93">
                    [13:59]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    which takes us full circle; i&#39;d like each one to present the same api to the user (based off of the C and C++ binding apis)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-94" class="rowLink" href="#msg-94">
                    [13:59]  mato
                    </a>
                </td>
                <td class="message-cell">
                    definitely
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-95" class="rowLink" href="#msg-95">
                    [13:59]  mato
                    </a>
                </td>
                <td class="message-cell">
                    otherwise it just all gets way too confusing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-96" class="rowLink" href="#msg-96">
                    [13:59]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    if people can switch back and forth with no code changes, that&#39;s a great situation for the community
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-97" class="rowLink" href="#msg-97">
                    [13:59]  mato
                    </a>
                </td>
                <td class="message-cell">
                    is it much work to synchronize the APIs?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-98" class="rowLink" href="#msg-98">
                    [14:00]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    mato: not a lot but unfortunately i don&#39;t have the C chops to do it myself
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-99" class="rowLink" href="#msg-99">
                    [14:00]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    so i need someone else to agree to it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-100" class="rowLink" href="#msg-100">
                    [14:00]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    to do the work
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-101" class="rowLink" href="#msg-101">
                    [14:00]  mato
                    </a>
                </td>
                <td class="message-cell">
                    cremes: well, ask for help on the list and we&#39;ll see what happens
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-102" class="rowLink" href="#msg-102">
                    [14:00]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    will do
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-103" class="rowLink" href="#msg-103">
                    [14:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mato: man bug!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-104" class="rowLink" href="#msg-104">
                    [14:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    zmq_socket(3):
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-105" class="rowLink" href="#msg-105">
                    [14:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    "When a ZMQ_XREQ socket is connected to a ZMQ_REP socket each message sent must consist of an empty message part, the delimiter, followed by one or more body parts."
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-106" class="rowLink" href="#msg-106">
                    [14:05]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: !!?!? :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-107" class="rowLink" href="#msg-107">
                    [14:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the identities should be mentioned
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-108" class="rowLink" href="#msg-108">
                    [14:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    they are definitely mentioned for ZMQ_XREP
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-109" class="rowLink" href="#msg-109">
                    [14:06]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yeah, it&#39;s not really clear to me what work i have to do at the app level to do XREQ/REP (or REQ/XREP)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-110" class="rowLink" href="#msg-110">
                    [14:07]  mato
                    </a>
                </td>
                <td class="message-cell">
                    uh, yeah, i kind of punted on explaining the identity stack on the XREQ side at the time
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-111" class="rowLink" href="#msg-111">
                    [14:07]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: that stuff was written in a hurry, you remember :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-112" class="rowLink" href="#msg-112">
                    [14:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: there was a nice diagram somewhere...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-113" class="rowLink" href="#msg-113">
                    [14:07]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: anyway, it&#39;s not a bug, it&#39;s just a simplification :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-114" class="rowLink" href="#msg-114">
                    [14:07]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: i&#39;ll look into it.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-115" class="rowLink" href="#msg-115">
                    [14:08]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ptrb: was this helpful at all? http://www.zeromq.org/tutorials:xreq-and-xrep/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-116" class="rowLink" href="#msg-116">
                    [14:08]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    if not, tell me what is unclear and i&#39;ll fix it (or edit the page yourself)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-117" class="rowLink" href="#msg-117">
                    [14:08]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    *clicks*
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-118" class="rowLink" href="#msg-118">
                    [14:08]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ah -- that&#39;s the one i meant
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-119" class="rowLink" href="#msg-119">
                    [14:08]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i was certainly confused by that stuff which is why i wrote it down
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-120" class="rowLink" href="#msg-120">
                    [14:09]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    yeah, it definitely helps
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-121" class="rowLink" href="#msg-121">
                    [14:09]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    but ruby is definitely not the right language to use in examples like this
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-122" class="rowLink" href="#msg-122">
                    [14:09]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s as opaque as perl without the benefit of perl&#39;s saturation
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-123" class="rowLink" href="#msg-123">
                    [14:09]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ha
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-124" class="rowLink" href="#msg-124">
                    [14:10]  mato
                    </a>
                </td>
                <td class="message-cell">
                    :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-125" class="rowLink" href="#msg-125">
                    [14:45]  CIA-20
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: 03Martin Sustrik 07maint * re2802d9 10/ src/options.cpp : values of RATE, RECOVERY_IVL and SWAP options are checked for negative values - http://bit.ly/9lAWvv
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-126" class="rowLink" href="#msg-126">
                    [14:46]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: nice to see the validation of option values
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-127" class="rowLink" href="#msg-127">
                    [14:47]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    there are 3 bugs filled by cremes :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-128" class="rowLink" href="#msg-128">
                    [14:47]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: incidentally, there&#39;s one annoying thing regarding the option values
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-129" class="rowLink" href="#msg-129">
                    [14:48]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-130" class="rowLink" href="#msg-130">
                    [14:48]  mato
                    </a>
                </td>
                <td class="message-cell">
                    well, it&#39;s the whole "option types" issue
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-131" class="rowLink" href="#msg-131">
                    [14:48]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-132" class="rowLink" href="#msg-132">
                    [14:48]  mato
                    </a>
                </td>
                <td class="message-cell">
                    one thing that i realised the other day when i was writing some simple test cases
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-133" class="rowLink" href="#msg-133">
                    [14:48]  mato
                    </a>
                </td>
                <td class="message-cell">
                    is that in order to use options sensibly from C, you have to have uint64_t / int64_t defined
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-134" class="rowLink" href="#msg-134">
                    [14:49]  mato
                    </a>
                </td>
                <td class="message-cell">
                    now, obviously those are not defined by zmq.h
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-135" class="rowLink" href="#msg-135">
                    [14:49]  mato
                    </a>
                </td>
                <td class="message-cell">
                    of course if you want to use the API you have to do "platform specific stuff" to get those types
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-136" class="rowLink" href="#msg-136">
                    [14:49]  mato
                    </a>
                </td>
                <td class="message-cell">
                    not a good situation :-(
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-137" class="rowLink" href="#msg-137">
                    [14:50]  mato
                    </a>
                </td>
                <td class="message-cell">
                    especially on windows where M$ does not ship stdint.h
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-138" class="rowLink" href="#msg-138">
                    [14:50]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i know
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-139" class="rowLink" href="#msg-139">
                    [14:50]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what can i do without breaking the backward compatibility?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-140" class="rowLink" href="#msg-140">
                    [14:51]  mato
                    </a>
                </td>
                <td class="message-cell">
                    probably nothing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-141" class="rowLink" href="#msg-141">
                    [14:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    :|
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-142" class="rowLink" href="#msg-142">
                    [14:51]  mato
                    </a>
                </td>
                <td class="message-cell">
                    hmm, maybe...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-143" class="rowLink" href="#msg-143">
                    [14:52]  mato
                    </a>
                </td>
                <td class="message-cell">
                    well, in theory you could define zmq_ namespaced equivalents of those types including the platform magic in zmq.h, but that&#39;s kind of ugly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-144" class="rowLink" href="#msg-144">
                    [14:52]  mato
                    </a>
                </td>
                <td class="message-cell">
                    and it&#39;d probably still break C++ due to it&#39;s strict notions of types
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-145" class="rowLink" href="#msg-145">
                    [14:52]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it has to be solved properly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-146" class="rowLink" href="#msg-146">
                    [14:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    BSD-style
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-147" class="rowLink" href="#msg-147">
                    [14:53]  mato
                    </a>
                </td>
                <td class="message-cell">
                    hmm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-148" class="rowLink" href="#msg-148">
                    [14:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    4-byte unsinged integer in network byte order
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-149" class="rowLink" href="#msg-149">
                    [14:53]  mato
                    </a>
                </td>
                <td class="message-cell">
                    hang on
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-150" class="rowLink" href="#msg-150">
                    [14:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and such
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-151" class="rowLink" href="#msg-151">
                    [14:53]  mato
                    </a>
                </td>
                <td class="message-cell">
                    what?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-152" class="rowLink" href="#msg-152">
                    [14:53]  mato
                    </a>
                </td>
                <td class="message-cell">
                    what does network byte order have to do with it? :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-153" class="rowLink" href="#msg-153">
                    [14:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s what i do when usign BSD sockets
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-154" class="rowLink" href="#msg-154">
                    [14:53]  mato
                    </a>
                </td>
                <td class="message-cell">
                    ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-155" class="rowLink" href="#msg-155">
                    [14:54]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    addr.port = htons (port);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-156" class="rowLink" href="#msg-156">
                    [14:58]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: ah, you&#39;re right, i didn&#39;t realise e.g. sockaddr_in.sin_port was in network byte order
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-157" class="rowLink" href="#msg-157">
                    [14:58]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: the thing is, the setsockopt stuff is somewhat ad-hoc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-158" class="rowLink" href="#msg-158">
                    [14:58]  CIA-20
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: 03Martin Sustrik 07master * re2802d9 10/ src/options.cpp : values of RATE, RECOVERY_IVL and SWAP options are checked for negative values - http://bit.ly/9lAWvv
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-159" class="rowLink" href="#msg-159">
                    [14:58]  CIA-20
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: 03Martin Sustrik 07master * rff10807 10/ src/options.cpp :
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-160" class="rowLink" href="#msg-160">
                    [14:58]  CIA-20
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: Merge branch &#39;maint&#39;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-161" class="rowLink" href="#msg-161">
                    [14:58]  CIA-20
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: * maint:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-162" class="rowLink" href="#msg-162">
                    [14:58]  CIA-20
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2:  values of RATE, RECOVERY_IVL and SWAP options are checked for negative values - http://bit.ly/9P99Fu
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-163" class="rowLink" href="#msg-163">
                    [14:58]  mato
                    </a>
                </td>
                <td class="message-cell">
                    it does not use network byte order AFAIK
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-164" class="rowLink" href="#msg-164">
                    [14:59]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: anyway thinking about it, i guess zmq.h will have to define its own types
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-165" class="rowLink" href="#msg-165">
                    [15:00]  mato
                    </a>
                </td>
                <td class="message-cell">
                    the main problem with that is doing it in a portable fashion :-(
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-166" class="rowLink" href="#msg-166">
                    [15:07]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    #defines, #defines for everybody!!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-167" class="rowLink" href="#msg-167">
                    [15:07]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sure, feel free to suggest how to portably define a 64-bit unsigned integer type :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-168" class="rowLink" href="#msg-168">
                    [15:08]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    you just take two ints and mash &#39;em together, obviously
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-169" class="rowLink" href="#msg-169">
                    [15:08]  mato
                    </a>
                </td>
                <td class="message-cell">
                    :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-170" class="rowLink" href="#msg-170">
                    [15:29]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mato: btw, there&#39;s some packaging PATCH on the mailing list
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-171" class="rowLink" href="#msg-171">
                    [15:29]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    will you reply to that?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-172" class="rowLink" href="#msg-172">
                    [15:30]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: yes, later, i know it&#39;s there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-173" class="rowLink" href="#msg-173">
                    [15:30]  mato
                    </a>
                </td>
                <td class="message-cell">
                    have to go now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-174" class="rowLink" href="#msg-174">
                    [15:30]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, there&#39;s on in the bug tracker as well
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-175" class="rowLink" href="#msg-175">
                    [15:30]  mato
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: i&#39;d have just applied it but the license stuff needs to be sorted out
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-176" class="rowLink" href="#msg-176">
                    [15:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    else all i can reply is "please state your patch is licensed under..."
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-177" class="rowLink" href="#msg-177">
                    [15:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    have discussed with pieter will update you this evening
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-178" class="rowLink" href="#msg-178">
                    [15:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    or pieter will
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-179" class="rowLink" href="#msg-179">
                    [15:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    bbl
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-180" class="rowLink" href="#msg-180">
                    [15:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    should i ask for the license?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-181" class="rowLink" href="#msg-181">
                    [15:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    don&#39;t bother lets just fix it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-182" class="rowLink" href="#msg-182">
                    [15:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    talk to you in the evening
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-183" class="rowLink" href="#msg-183">
                    [15:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-184" class="rowLink" href="#msg-184">
                    [15:41]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, just had some questions regarding zeromq&#39;s lock-less data structures.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-185" class="rowLink" href="#msg-185">
                    [15:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-186" class="rowLink" href="#msg-186">
                    [15:42]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, I&#39;m working on a library to help ease concurrent programming, it includes a plethora of concurrent data structures, synchronization methods and mechanisms for SMR (currently using hazard pointers, considering implementing RCU).
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-187" class="rowLink" href="#msg-187">
                    [15:43]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, I was curious if there were some features you would really like to see, and some specific constrainted data structures (M:N consumer/producers) for zeromq.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-188" class="rowLink" href="#msg-188">
                    [15:43]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, I was also curious if SMR was important for ZeroMQ at all.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-189" class="rowLink" href="#msg-189">
                    [15:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    sorry, what&#39;s SMR?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-190" class="rowLink" href="#msg-190">
                    [15:44]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, safe memory reclamation.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-191" class="rowLink" href="#msg-191">
                    [15:45]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, usually it&#39;s important for unbunded lock-less data structures (simple stack being a great example).
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-192" class="rowLink" href="#msg-192">
                    [15:46]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    does it translate to "make the current state of the memory visible to the other CPU codes"?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-193" class="rowLink" href="#msg-193">
                    [15:47]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    sorry, i am not an expert on lock-free algos
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-194" class="rowLink" href="#msg-194">
                    [15:48]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, well, I guess fundamentally, it&#39;s more like "let other CPUs know I am not using this memory".
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-195" class="rowLink" href="#msg-195">
                    [15:48]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ah, ok, let me explain what 0mq is doing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-196" class="rowLink" href="#msg-196">
                    [15:48]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, some techniques will require a full barrier (RCU) while others do not (hazard pointers).
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-197" class="rowLink" href="#msg-197">
                    [15:48]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, ok.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-198" class="rowLink" href="#msg-198">
                    [15:48]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the communication always happens between exactly two endpoins
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-199" class="rowLink" href="#msg-199">
                    [15:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ie. at most 2 cpu cores
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-200" class="rowLink" href="#msg-200">
                    [15:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so each lock-free queue has exactly one writer and exactly one reader
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-201" class="rowLink" href="#msg-201">
                    [15:49]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Ah, makes it much easier. :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-202" class="rowLink" href="#msg-202">
                    [15:49]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Sorry, let me pop open the source-code.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-203" class="rowLink" href="#msg-203">
                    [15:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    src/ypipe.hpp
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-204" class="rowLink" href="#msg-204">
                    [15:49]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Thanks, loading.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-205" class="rowLink" href="#msg-205">
                    [15:50]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what it does basically is that writer is appending new items to the linked list
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-206" class="rowLink" href="#msg-206">
                    [15:50]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the reader is reading items from the linked list
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-207" class="rowLink" href="#msg-207">
                    [15:50]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I don&#39;t see any padding, sustrik.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-208" class="rowLink" href="#msg-208">
                    [15:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what padding?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-209" class="rowLink" href="#msg-209">
                    [15:51]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Between w and r.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-210" class="rowLink" href="#msg-210">
                    [15:51]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, to prevent false cache line sharing, this improves concurrency.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-211" class="rowLink" href="#msg-211">
                    [15:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that would be nice
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-212" class="rowLink" href="#msg-212">
                    [15:51]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, it can be drastic. :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-213" class="rowLink" href="#msg-213">
                    [15:51]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Let me show you a simple example on this machine.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-214" class="rowLink" href="#msg-214">
                    [15:52]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, so what has to be done is separate the variables that belong to the reader and those that belong to the writer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-215" class="rowLink" href="#msg-215">
                    [15:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and keep them in different cachelines
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-216" class="rowLink" href="#msg-216">
                    [15:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-217" class="rowLink" href="#msg-217">
                    [15:53]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    the data too
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-218" class="rowLink" href="#msg-218">
                    [15:53]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    [sbahra@sbahra validate]$ time ./ck_fifo_spsc 8 1 100000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-219" class="rowLink" href="#msg-219">
                    [15:53]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    real    0m5.294s
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-220" class="rowLink" href="#msg-220">
                    [15:53]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    [sbahra@sbahra validate]$ time ./ck_fifo_spsc 8 1 100000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-221" class="rowLink" href="#msg-221">
                    [15:53]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    real    0m7.718s
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-222" class="rowLink" href="#msg-222">
                    [15:54]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, the latter is without appropriate padding.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-223" class="rowLink" href="#msg-223">
                    [15:54]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    nice
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-224" class="rowLink" href="#msg-224">
                    [15:54]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the data are allocated in a contiguous block
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-225" class="rowLink" href="#msg-225">
                    [15:54]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    that was pretty substantial, what arch is that?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-226" class="rowLink" href="#msg-226">
                    [15:54]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    to avoid excessive memory allocation
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-227" class="rowLink" href="#msg-227">
                    [15:54]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, that is a simple benchmark that creates a token ring using a single-producer/single-consumer lock-less queue (passes around 100000 across 8 threads some number of iterations)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-228" class="rowLink" href="#msg-228">
                    [15:55]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    keffo, that is on a Nehalem box.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-229" class="rowLink" href="#msg-229">
                    [15:55]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    aho
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-230" class="rowLink" href="#msg-230">
                    [15:55]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, You should look into pooling, not only for that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-231" class="rowLink" href="#msg-231">
                    [15:55]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, you want the writer and reader variables to be on a seperate cache line.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-232" class="rowLink" href="#msg-232">
                    [15:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    right, i understand that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-233" class="rowLink" href="#msg-233">
                    [15:55]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, so for example, void *reader; char pad[56]; void *writer; ...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-234" class="rowLink" href="#msg-234">
                    [15:56]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, ok.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-235" class="rowLink" href="#msg-235">
                    [15:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    not sure how to do that in portable fashion though
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-236" class="rowLink" href="#msg-236">
                    [15:56]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    compile time :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-237" class="rowLink" href="#msg-237">
                    [15:56]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    macro hell
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-238" class="rowLink" href="#msg-238">
                    [15:56]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    did someone say #define??
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-239" class="rowLink" href="#msg-239">
                    [15:56]  ptrb
                    </a>
                </td>
                <td class="message-cell">
                    :D
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-240" class="rowLink" href="#msg-240">
                    [15:56]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, not very portable (my library tries to make that portable by doing the hard work of generating those constants at compile-time).
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-241" class="rowLink" href="#msg-241">
                    [15:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-242" class="rowLink" href="#msg-242">
                    [15:56]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, but modern IA32 and SPARCv9 boxes I know of all have 64 byte cache lines.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-243" class="rowLink" href="#msg-243">
                    [15:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    well, if we assumed the cache line size is 64 bytes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-244" class="rowLink" href="#msg-244">
                    [15:56]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    cpuid fiddling works I guess :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-245" class="rowLink" href="#msg-245">
                    [15:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    we would be right in most cases
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-246" class="rowLink" href="#msg-246">
                    [15:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    no?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-247" class="rowLink" href="#msg-247">
                    [15:57]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    all x86_64 is &gt;64 no?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-248" class="rowLink" href="#msg-248">
                    [15:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    128?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-249" class="rowLink" href="#msg-249">
                    [15:57]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    keffo, no.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-250" class="rowLink" href="#msg-250">
                    [15:57]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    keffo, 64.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-251" class="rowLink" href="#msg-251">
                    [15:57]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    keffo, when I mean IA32, I mean x86/x86_64.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-252" class="rowLink" href="#msg-252">
                    [15:57]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    &gt;=64 then :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-253" class="rowLink" href="#msg-253">
                    [15:57]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I don&#39;t know of any &gt; 64.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-254" class="rowLink" href="#msg-254">
                    [15:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    padding to 64 bytes seems reasonable imo
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-255" class="rowLink" href="#msg-255">
                    [15:58]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    I meant, x86_64 is presumably &gt;=64, while x86 is not
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-256" class="rowLink" href="#msg-256">
                    [15:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that would be 64 bytes per reader and 64 bytes per writer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-257" class="rowLink" href="#msg-257">
                    [15:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the shared varaible should probably be on a separate cahceline
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-258" class="rowLink" href="#msg-258">
                    [15:59]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    Samy, Have you tried measuring on itanium? :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-259" class="rowLink" href="#msg-259">
                    [15:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so it&#39;s 192 bytes per queue
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-260" class="rowLink" href="#msg-260">
                    [15:59]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    keffo, Itanium is very interesting, but barely used, so no.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-261" class="rowLink" href="#msg-261">
                    [16:00]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    keffo, I would like to work on a port of my library there but I have had design issues, just recently did a major design change.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-262" class="rowLink" href="#msg-262">
                    [16:00]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    Yeah, void of any cachemisses it should be
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-263" class="rowLink" href="#msg-263">
                    [16:00]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, sorry, can you continue with your explanation of ypipe?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-264" class="rowLink" href="#msg-264">
                    [16:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ah
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-265" class="rowLink" href="#msg-265">
                    [16:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, so part of the list belongs to the writer thread
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-266" class="rowLink" href="#msg-266">
                    [16:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    part of it to the reader thread
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-267" class="rowLink" href="#msg-267">
                    [16:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the only point where the two interact is when reader has no more data to read
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-268" class="rowLink" href="#msg-268">
                    [16:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    then it does CAS
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-269" class="rowLink" href="#msg-269">
                    [16:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    to get the writer&#39;s portion of the list
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-270" class="rowLink" href="#msg-270">
                    [16:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    So, basically, you batch the operations?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-271" class="rowLink" href="#msg-271">
                    [16:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    exactly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-272" class="rowLink" href="#msg-272">
                    [16:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s the key
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-273" class="rowLink" href="#msg-273">
                    [16:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    So, writer does enqueue operations to the queue.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-274" class="rowLink" href="#msg-274">
                    [16:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ack
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-275" class="rowLink" href="#msg-275">
                    [16:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    The reader occassionally does a batch dequeue.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-276" class="rowLink" href="#msg-276">
                    [16:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ack
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-277" class="rowLink" href="#msg-277">
                    [16:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Ok.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-278" class="rowLink" href="#msg-278">
                    [16:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, why do you use CAS for the batch dequeue? That can be implemented using an xchg, making the batch dequeue a wait-free operation.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-279" class="rowLink" href="#msg-279">
                    [16:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s pretty effective just because of the batching
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-280" class="rowLink" href="#msg-280">
                    [16:03]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    hm, i haven&#39;t seen the code for a long time
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-281" class="rowLink" href="#msg-281">
                    [16:03]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    let me have a look
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-282" class="rowLink" href="#msg-282">
                    [16:04]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    It looks like you do a single CAS.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-283" class="rowLink" href="#msg-283">
                    [16:04]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Line 137, check_read (I assume?)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-284" class="rowLink" href="#msg-284">
                    [16:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    "If there are no
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-285" class="rowLink" href="#msg-285">
                    [16:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    //  items to prefetch, set c to NULL"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-286" class="rowLink" href="#msg-286">
                    [16:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Samy: yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-287" class="rowLink" href="#msg-287">
                    [16:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the cas is used to communicate back to the writer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-288" class="rowLink" href="#msg-288">
                    [16:05]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    You can implement this without any lock-free operations.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-289" class="rowLink" href="#msg-289">
                    [16:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you mean without atomic ops?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-290" class="rowLink" href="#msg-290">
                    [16:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    or bus locking?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-291" class="rowLink" href="#msg-291">
                    [16:07]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Without explicit atomic operations.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-292" class="rowLink" href="#msg-292">
                    [16:07]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, the idea is to share a stub node for both tail and head of the queue.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-293" class="rowLink" href="#msg-293">
                    [16:08]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    can you explain in more detail?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-294" class="rowLink" href="#msg-294">
                    [16:08]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, writer updates tail, always updating the next pointer, and reader always assume first node is stub entry.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-295" class="rowLink" href="#msg-295">
                    [16:08]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, I can show you source-code.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-296" class="rowLink" href="#msg-296">
                    [16:08]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Let me see if I find it, hold on.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-297" class="rowLink" href="#msg-297">
                    [16:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-298" class="rowLink" href="#msg-298">
                    [16:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    how does the communication between two cpu cores happens then?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-299" class="rowLink" href="#msg-299">
                    [16:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    cache coherency algos?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-300" class="rowLink" href="#msg-300">
                    [16:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, yes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-301" class="rowLink" href="#msg-301">
                    [16:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, the point is, the only time we need to really share state is if the queue is empty.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-302" class="rowLink" href="#msg-302">
                    [16:11]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ack
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-303" class="rowLink" href="#msg-303">
                    [16:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, we need a way to detect if the queue is empty atomically and update both head and tail atomically.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-304" class="rowLink" href="#msg-304">
                    [16:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, by sharing a stub node, this is possible.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-305" class="rowLink" href="#msg-305">
                    [16:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i think something like that is done in ypipe
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-306" class="rowLink" href="#msg-306">
                    [16:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    there&#39;s an emty item in the list
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-307" class="rowLink" href="#msg-307">
                    [16:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that servers as a placeholder
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-308" class="rowLink" href="#msg-308">
                    [16:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s what you mean by stub, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-309" class="rowLink" href="#msg-309">
                    [16:12]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Yes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-310" class="rowLink" href="#msg-310">
                    [16:12]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, http://codepad.org/gtPkkz57
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-311" class="rowLink" href="#msg-311">
                    [16:13]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    This isn&#39;t fenced correctly, but that should be fine on IA32.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-312" class="rowLink" href="#msg-312">
                    [16:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i thought that IA requires you to fence explicitely
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-313" class="rowLink" href="#msg-313">
                    [16:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ah, you mean x85
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-314" class="rowLink" href="#msg-314">
                    [16:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    86
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-315" class="rowLink" href="#msg-315">
                    [16:14]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Yes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-316" class="rowLink" href="#msg-316">
                    [16:15]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    The fences may be sufficient, I just haven&#39;t verified it on non-IA32 yet. :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-317" class="rowLink" href="#msg-317">
                    [16:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, there&#39;s one more issue there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-318" class="rowLink" href="#msg-318">
                    [16:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    when reader finds out that there are no more items to read
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-319" class="rowLink" href="#msg-319">
                    [16:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it goes asleep
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-320" class="rowLink" href="#msg-320">
                    [16:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s writers responsibity to wake it up
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-321" class="rowLink" href="#msg-321">
                    [16:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so the writer has to be informed about the fact that reader tried to get more items and failed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-322" class="rowLink" href="#msg-322">
                    [16:16]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, futex(2) works well.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-323" class="rowLink" href="#msg-323">
                    [16:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, it&#39;s similar
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-324" class="rowLink" href="#msg-324">
                    [16:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but keep in mind that this is a multi-platform app
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-325" class="rowLink" href="#msg-325">
                    [16:17]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Things sort of suck without futex. :-(
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-326" class="rowLink" href="#msg-326">
                    [16:18]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    (or a similar mechanism, at least in ring-3)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-327" class="rowLink" href="#msg-327">
                    [16:18]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s how it is :|
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-328" class="rowLink" href="#msg-328">
                    [16:18]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    But you could abstract a generic CV layer that uses futex directly if available.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-329" class="rowLink" href="#msg-329">
                    [16:18]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, where is this wake-up mechanism implemented?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-330" class="rowLink" href="#msg-330">
                    [16:18]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    out of the class, it&#39;s a dumb socket pair
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-331" class="rowLink" href="#msg-331">
                    [16:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i had a futex implementation once
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-332" class="rowLink" href="#msg-332">
                    [16:19]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    What happened?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-333" class="rowLink" href="#msg-333">
                    [16:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but it was pain in the ass to make it work everywhere
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-334" class="rowLink" href="#msg-334">
                    [16:19]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I see.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-335" class="rowLink" href="#msg-335">
                    [16:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    some linux kernels pretend to have futexes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-336" class="rowLink" href="#msg-336">
                    [16:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but astucally return ENOTSUP when you try to use them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-337" class="rowLink" href="#msg-337">
                    [16:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and alike
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-338" class="rowLink" href="#msg-338">
                    [16:19]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I see.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-339" class="rowLink" href="#msg-339">
                    [16:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    anyway, the wake up mechanism is irrelevant for this discussion
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-340" class="rowLink" href="#msg-340">
                    [16:20]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Mostly, yes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-341" class="rowLink" href="#msg-341">
                    [16:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s relevant is the writer has to be notified that reader is sleeping
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-342" class="rowLink" href="#msg-342">
                    [16:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s what the second cas is for
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-343" class="rowLink" href="#msg-343">
                    [16:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in flush function
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-344" class="rowLink" href="#msg-344">
                    [16:21]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I don&#39;t understand.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-345" class="rowLink" href="#msg-345">
                    [16:21]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Why not simply use plain loads and stores if this is single reader and consumer?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-346" class="rowLink" href="#msg-346">
                    [16:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    because one bit of information is passed the other way round
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-347" class="rowLink" href="#msg-347">
                    [16:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    from reader to writer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-348" class="rowLink" href="#msg-348">
                    [16:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    "i am sleeping"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-349" class="rowLink" href="#msg-349">
                    [16:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s when c is set to NULL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-350" class="rowLink" href="#msg-350">
                    [16:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    maybe it can be done without atomic ops, i am not an expert
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-351" class="rowLink" href="#msg-351">
                    [16:23]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    however, if it was a normal locking code, this would be a place where races can occur
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-352" class="rowLink" href="#msg-352">
                    [16:24]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Ok.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-353" class="rowLink" href="#msg-353">
                    [16:24]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so, reader tries to get the latest batch of the items
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-354" class="rowLink" href="#msg-354">
                    [16:24]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and if there are none, it sets c to NULL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-355" class="rowLink" href="#msg-355">
                    [16:25]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in flush function, writer adds new batch of items and if it finds out that c was NULL previously
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-356" class="rowLink" href="#msg-356">
                    [16:25]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it knows the reader is sleeping
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-357" class="rowLink" href="#msg-357">
                    [16:25]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and that it should wake it up
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-358" class="rowLink" href="#msg-358">
                    [16:26]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    my feeling is that the operations on c have to be atomic
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-359" class="rowLink" href="#msg-359">
                    [16:26]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    not 100% sure though
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-360" class="rowLink" href="#msg-360">
                    [16:30]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    read_asleep = false; loop { old = xchg(top, NULL); if old == null then reader_asleep = true; sleep(); }
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-361" class="rowLink" href="#msg-361">
                    [16:31]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Sorry, read_asleep is in loop.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-362" class="rowLink" href="#msg-362">
                    [16:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s the writer side?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-363" class="rowLink" href="#msg-363">
                    [16:33]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Reader.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-364" class="rowLink" href="#msg-364">
                    [16:34]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    There is still a risk of spurious wake-up, but that isn&#39;t a big deal.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-365" class="rowLink" href="#msg-365">
                    [16:34]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    If it is, then you basically implement a barrier.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-366" class="rowLink" href="#msg-366">
                    [16:34]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    You have a reader and a writer shared variable. Writer signals reader once, only if reader has signaled writer since last wake-up.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-367" class="rowLink" href="#msg-367">
                    [16:35]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, that&#39;s the goal
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-368" class="rowLink" href="#msg-368">
                    [16:36]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    And the algorithm.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-369" class="rowLink" href="#msg-369">
                    [16:36]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Me too.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-370" class="rowLink" href="#msg-370">
                    [16:36]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    can you give a pseudo-code for writer side as well?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-371" class="rowLink" href="#msg-371">
                    [16:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in the code above reader_asleep is another shared variable, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-372" class="rowLink" href="#msg-372">
                    [16:39]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: I was trying to say something about options but got interrupted by stuff...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-373" class="rowLink" href="#msg-373">
                    [16:40]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    API should IMO reject an identity starting with zero byte
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-374" class="rowLink" href="#msg-374">
                    [16:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    now you are likely to get interrupted by brain-damaging lock-free algo discussion :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-375" class="rowLink" href="#msg-375">
                    [16:40]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    :-/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-376" class="rowLink" href="#msg-376">
                    [16:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, that would be nice
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-377" class="rowLink" href="#msg-377">
                    [16:41]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    reader: loop { r = false; store_fence; w = true; o = xchg(top, NULL); if old == null then { r = true; sleep(); } }
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-378" class="rowLink" href="#msg-378">
                    [16:41]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    writer: add(); c_w = w; load_fence; c_r = r; if c_r == true and c_w == true; then { c_w = false; signal_reader; }
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-379" class="rowLink" href="#msg-379">
                    [16:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pieter: fancy sumbitting a patch?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-380" class="rowLink" href="#msg-380">
                    [16:41]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: I&#39;m pulling master as we speak, yes I&#39;ll make you a patch
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-381" class="rowLink" href="#msg-381">
                    [16:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    thanks
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-382" class="rowLink" href="#msg-382">
                    [16:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Samy: sorry, having 3 discussions in parallel
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-383" class="rowLink" href="#msg-383">
                    [16:43]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Hey, no problem. :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-384" class="rowLink" href="#msg-384">
                    [16:43]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ll be back in some minutes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-385" class="rowLink" href="#msg-385">
                    [16:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    sure, checking your code right now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-386" class="rowLink" href="#msg-386">
                    [16:46]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s top?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-387" class="rowLink" href="#msg-387">
                    [16:46]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    which variable belong to whom?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-388" class="rowLink" href="#msg-388">
                    [16:46]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    both r and w seem to be shared
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-389" class="rowLink" href="#msg-389">
                    [16:49]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: np. options.cpp already checks that... :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-390" class="rowLink" href="#msg-390">
                    [16:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    good
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-391" class="rowLink" href="#msg-391">
                    [16:51]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, yes, they are shared.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-392" class="rowLink" href="#msg-392">
                    [16:52]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, that statement is whatever condition you use to check if the queue is empty.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-393" class="rowLink" href="#msg-393">
                    [16:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    this one: o = xchg(top, NULL); ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-394" class="rowLink" href="#msg-394">
                    [16:53]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    That and next.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-395" class="rowLink" href="#msg-395">
                    [16:53]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    o == null
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-396" class="rowLink" href="#msg-396">
                    [16:53]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    (not old)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-397" class="rowLink" href="#msg-397">
                    [16:54]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    do c_r and c_w are local to writer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-398" class="rowLink" href="#msg-398">
                    [16:54]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Yes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-399" class="rowLink" href="#msg-399">
                    [16:54]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    The reason we have 2 variables is that writer will signal the reader only once.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-400" class="rowLink" href="#msg-400">
                    [16:55]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    The reader will then wake-up, and if the queue is empty it will indicate that it is asleep and it is fine for the writer to send another signal.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-401" class="rowLink" href="#msg-401">
                    [16:56]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, if you treat it like a stack, it will make more sense.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-402" class="rowLink" href="#msg-402">
                    [16:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Samy: stack of what?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-403" class="rowLink" href="#msg-403">
                    [16:56]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, for a FIFO, you can use another technique.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-404" class="rowLink" href="#msg-404">
                    [16:57]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, of objects.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-405" class="rowLink" href="#msg-405">
                    [16:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s the case in 0MQ
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-406" class="rowLink" href="#msg-406">
                    [16:57]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, this is in reference of xchg(top, ...) :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-407" class="rowLink" href="#msg-407">
                    [16:57]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, what&#39;s of relevance to you is the notion of the r and w variables, that&#39;s all.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-408" class="rowLink" href="#msg-408">
                    [16:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    r = "i am sleeeping"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-409" class="rowLink" href="#msg-409">
                    [16:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what abour w?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-410" class="rowLink" href="#msg-410">
                    [16:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    about*
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-411" class="rowLink" href="#msg-411">
                    [16:58]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    w = "reader has woken-up since the last signal"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-412" class="rowLink" href="#msg-412">
                    [16:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    soemging is missing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-413" class="rowLink" href="#msg-413">
                    [16:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    w is never set to false
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-414" class="rowLink" href="#msg-414">
                    [16:59]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Oh, sorry.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-415" class="rowLink" href="#msg-415">
                    [16:59]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    { c_w = false; signal_reader; }  should be { w = false; signal_reader; }
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-416" class="rowLink" href="#msg-416">
                    [17:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    lk,now it makes sense
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-417" class="rowLink" href="#msg-417">
                    [17:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    now, what about the fences
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-418" class="rowLink" href="#msg-418">
                    [17:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    does it sync the data in the queue as well?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-419" class="rowLink" href="#msg-419">
                    [17:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    You can figure that out.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-420" class="rowLink" href="#msg-420">
                    [17:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    That is mainly meant for those flags.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-421" class="rowLink" href="#msg-421">
                    [17:02]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    The idea, reader should always appear to be set to false before writer is set to true (it must indicate it has woken up before it indicates it is fine to send another signal).
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-422" class="rowLink" href="#msg-422">
                    [17:03]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    got it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-423" class="rowLink" href="#msg-423">
                    [17:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that part ensures that everything happens in nice step-lock fashion
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-424" class="rowLink" href="#msg-424">
                    [17:04]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Right.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-425" class="rowLink" href="#msg-425">
                    [17:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    now few technical questions...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-426" class="rowLink" href="#msg-426">
                    [17:04]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m no expert, but ok.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-427" class="rowLink" href="#msg-427">
                    [17:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what does lock;xchg() actually means
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-428" class="rowLink" href="#msg-428">
                    [17:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    is there an implied barrier?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-429" class="rowLink" href="#msg-429">
                    [17:05]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    On IA32, atomic operations have a total order across all processors.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-430" class="rowLink" href="#msg-430">
                    [17:05]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    There is an implicit pipeline flush.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-431" class="rowLink" href="#msg-431">
                    [17:06]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    There is an implied barrier.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-432" class="rowLink" href="#msg-432">
                    [17:06]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    There is also no need for the lock prefix on xchg.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-433" class="rowLink" href="#msg-433">
                    [17:06]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    xchg is guaranteed to be atomic (which is what also makes it expensive to use, if you don&#39;t need it).
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-434" class="rowLink" href="#msg-434">
                    [17:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in that case there&#39;s no global ordering, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-435" class="rowLink" href="#msg-435">
                    [17:06]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Usually, yes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-436" class="rowLink" href="#msg-436">
                    [17:07]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    add is not guaranteed to be atomic, lock add is.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-437" class="rowLink" href="#msg-437">
                    [17:07]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    xchg is always atomic.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-438" class="rowLink" href="#msg-438">
                    [17:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    oh my
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-439" class="rowLink" href="#msg-439">
                    [17:07]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    It&#39;s expensive compared to simple loads and stores, that&#39;s for sure.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-440" class="rowLink" href="#msg-440">
                    [17:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so there&#39;s an implied barrier on xchg, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-441" class="rowLink" href="#msg-441">
                    [17:07]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Yes.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-442" class="rowLink" href="#msg-442">
                    [17:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    then, in your code we have 2 barriers
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-443" class="rowLink" href="#msg-443">
                    [17:08]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    For more information, you can see Volume 3 of the Intel Architecture Manuals, Chapter 8.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-444" class="rowLink" href="#msg-444">
                    [17:08]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    isn&#39;t it better to use single cas with a barrier then?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-445" class="rowLink" href="#msg-445">
                    [17:08]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, you don&#39;t need any of those barriers for IA32. Stores are always seen in order.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-446" class="rowLink" href="#msg-446">
                    [17:09]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, CAS is expensive.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-447" class="rowLink" href="#msg-447">
                    [17:09]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, it&#39;s best to avoid the lock prefix completely if possible.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-448" class="rowLink" href="#msg-448">
                    [17:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ack
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-449" class="rowLink" href="#msg-449">
                    [17:09]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, atomic loads and stores do this.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-450" class="rowLink" href="#msg-450">
                    [17:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    atomic load &amp; stores == have global ordering ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-451" class="rowLink" href="#msg-451">
                    [17:10]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, in theory, CAS can provide infinite consensus. If you don&#39;t need infinite consensus, you might not need CAS at all.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-452" class="rowLink" href="#msg-452">
                    [17:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    anyway, i have to get my head around it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-453" class="rowLink" href="#msg-453">
                    [17:11]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    are you around somewhere?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-454" class="rowLink" href="#msg-454">
                    [17:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Processor ordering.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-455" class="rowLink" href="#msg-455">
                    [17:11]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    email, or so?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-456" class="rowLink" href="#msg-456">
                    [17:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sbahra@repnop.org
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-457" class="rowLink" href="#msg-457">
                    [17:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, I&#39;d love your feedback on this library I&#39;m working on sometime.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-458" class="rowLink" href="#msg-458">
                    [17:11]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, what architectures does ZeroMQ support?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-459" class="rowLink" href="#msg-459">
                    [17:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    we&#39;ve tested on x86, itanium, sparc, ppc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-460" class="rowLink" href="#msg-460">
                    [17:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    arm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-461" class="rowLink" href="#msg-461">
                    [17:12]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, if you see section 8.2.2 in Volume 3 of the IA32 manuals, you&#39;ll get a nice break-down of the memory ordering.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-462" class="rowLink" href="#msg-462">
                    [17:12]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, does the ZeroMQ project have regular access to such boxes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-463" class="rowLink" href="#msg-463">
                    [17:13]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    we have an itanium and sparc box
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-464" class="rowLink" href="#msg-464">
                    [17:13]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    no ppc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-465" class="rowLink" href="#msg-465">
                    [17:13]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Itanium, nice. :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-466" class="rowLink" href="#msg-466">
                    [17:13]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    My PPC box died (Mac Mini) recently. Need to fix it.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-467" class="rowLink" href="#msg-467">
                    [17:14]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I sold my only decent SPARCv9 box, at work our SPARCv9 machines are tied to our build cluster.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-468" class="rowLink" href="#msg-468">
                    [17:14]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, if I could get accounts on those, I can port my library&#39;s atomic interface for them to support those.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-469" class="rowLink" href="#msg-469">
                    [17:14]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, might be useful, at least as a reference implementation of some structures.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-470" class="rowLink" href="#msg-470">
                    [17:15]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, ;]
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-471" class="rowLink" href="#msg-471">
                    [17:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    our sparc box is extremely old and slow :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-472" class="rowLink" href="#msg-472">
                    [17:15]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Itanium is fine too.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-473" class="rowLink" href="#msg-473">
                    [17:16]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Well, Itanium is what I really want access to.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-474" class="rowLink" href="#msg-474">
                    [17:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but mato mumbled something about bringing some 14-core sparc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-475" class="rowLink" href="#msg-475">
                    [17:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ah
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-476" class="rowLink" href="#msg-476">
                    [17:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i have to ask mato, i think there&#39;s some applications running on it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-477" class="rowLink" href="#msg-477">
                    [17:16]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    sandy bridge ftw!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-478" class="rowLink" href="#msg-478">
                    [17:16]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, ok.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-479" class="rowLink" href="#msg-479">
                    [17:17]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I look forward to future discussions. I would like to show you the work I&#39;ve done so far for feedback.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-480" class="rowLink" href="#msg-480">
                    [17:17]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    It is C, not C++, however.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-481" class="rowLink" href="#msg-481">
                    [17:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Samy, i can have a look but as you see i am not an expert :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-482" class="rowLink" href="#msg-482">
                    [17:18]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Well, that&#39;s fine. The idea is, what would it take to make you use this? As a 3rd party looking to integrate this into their product, what issues do you have with the interface?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-483" class="rowLink" href="#msg-483">
                    [17:18]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    etc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-484" class="rowLink" href="#msg-484">
                    [17:18]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s the link to the lib?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-485" class="rowLink" href="#msg-485">
                    [17:18]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    we&#39;re ditching a couple of sun t1000 boxes at work
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-486" class="rowLink" href="#msg-486">
                    [17:18]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    No link. Tarball, sustrik.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-487" class="rowLink" href="#msg-487">
                    [17:18]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    When we have a discussion, I can share that.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-488" class="rowLink" href="#msg-488">
                    [17:18]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    let me see if I can &#39;rescue&#39; on of them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-489" class="rowLink" href="#msg-489">
                    [17:19]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    s/on/one/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-490" class="rowLink" href="#msg-490">
                    [17:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Samy: sustrik@250bpm.com
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-491" class="rowLink" href="#msg-491">
                    [17:20]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    Cool.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-492" class="rowLink" href="#msg-492">
                    [17:20]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m back to work, take care.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-493" class="rowLink" href="#msg-493">
                    [17:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you too
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-494" class="rowLink" href="#msg-494">
                    [17:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    bye
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-495" class="rowLink" href="#msg-495">
                    [17:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: i don&#39;t think it&#39;s really needed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-496" class="rowLink" href="#msg-496">
                    [17:21]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    unless you need it yourself
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-497" class="rowLink" href="#msg-497">
                    [17:21]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    not really
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-498" class="rowLink" href="#msg-498">
                    [17:21]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    kind of lost interest in solaris after oracle bought it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-499" class="rowLink" href="#msg-499">
                    [17:21]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    err, after oracle bought sun
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-500" class="rowLink" href="#msg-500">
                    [17:22]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    I think they&#39;ll do a wonderful job killing it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-501" class="rowLink" href="#msg-501">
                    [17:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yeah, looks like there will be a lot of sun boxes avialable :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-502" class="rowLink" href="#msg-502">
                    [17:22]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    heh, yeah - red hat will make a fortune
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-503" class="rowLink" href="#msg-503">
                    [17:23]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    but the t1000 was a good box, I still think 16 concurrent threads of execution per core is impressive
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-504" class="rowLink" href="#msg-504">
                    [17:24]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    t2000, sorry
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-505" class="rowLink" href="#msg-505">
                    [17:29]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: we used to have a t2000 at iMatix when we were making OpenAMQ
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-506" class="rowLink" href="#msg-506">
                    [17:30]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    it was a pretty impressive box, made a noise like an aircraft taking off
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-507" class="rowLink" href="#msg-507">
                    [17:30]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    and was slower (all 32 cores or whatever) than a 2-core Athlon
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-508" class="rowLink" href="#msg-508">
                    [17:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    pieterh: it still might be more useful than the old e4500 i can get for the project
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-509" class="rowLink" href="#msg-509">
                    [17:31]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    slower at what?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-510" class="rowLink" href="#msg-510">
                    [17:31]  mato
                    </a>
                </td>
                <td class="message-cell">
                    pieterh: 0mq is a very different codebase from OpenAMQ
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-511" class="rowLink" href="#msg-511">
                    [17:32]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    mato: perhaps, yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-512" class="rowLink" href="#msg-512">
                    [17:32]  mato
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: if you do get a chance to rescue one i think it&#39;d be more interesting for development of the lockfree algorithms in 0mq than what i&#39;ve been offered
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-513" class="rowLink" href="#msg-513">
                    [17:32]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: at raw I/O afaics
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-514" class="rowLink" href="#msg-514">
                    [17:32]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    but the main difference was probably Linux vs. Solaris
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-515" class="rowLink" href="#msg-515">
                    [17:32]  mato
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: which is an old E4500 (fully spec&#39;ed with 14 CPUs)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-516" class="rowLink" href="#msg-516">
                    [17:32]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    I found that these boxes perform pretty well with a huge runqueue
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-517" class="rowLink" href="#msg-517">
                    [17:32]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    mato: let me see what I can do
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-518" class="rowLink" href="#msg-518">
                    [17:32]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    they were designed for web services, indeed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-519" class="rowLink" href="#msg-519">
                    [17:32]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    mato: can&#39;t promise anything, though, but I&#39;ll try
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-520" class="rowLink" href="#msg-520">
                    [17:33]  mato
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: no hurry; also, where are you located? it&#39;s not worth shipping that stuff from outside of the EU, too expensive
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-521" class="rowLink" href="#msg-521">
                    [17:33]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    iceland
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-522" class="rowLink" href="#msg-522">
                    [17:33]  mato
                    </a>
                </td>
                <td class="message-cell">
                    lol :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-523" class="rowLink" href="#msg-523">
                    [17:33]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    so the shipping might kill the deal :P
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-524" class="rowLink" href="#msg-524">
                    [17:33]  mato
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: precisely, unless you have friends at smyril line :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-525" class="rowLink" href="#msg-525">
                    [17:33]  mato
                    </a>
                </td>
                <td class="message-cell">
                    "chuck it down with them bananas" :-)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-526" class="rowLink" href="#msg-526">
                    [17:34]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    heheh
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-527" class="rowLink" href="#msg-527">
                    [17:35]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    I don&#39;t think we&#39;d be shipping bananas out of the country, but fair point :P
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-528" class="rowLink" href="#msg-528">
                    [17:36]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    hey... ebay is offering free shipping or something...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-529" class="rowLink" href="#msg-529">
                    [17:36]  mato
                    </a>
                </td>
                <td class="message-cell">
                    kleppari: thanks for the offer in any case
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-530" class="rowLink" href="#msg-530">
                    [17:37]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    0beer0clock
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-531" class="rowLink" href="#msg-531">
                    [17:37]  mato
                    </a>
                </td>
                <td class="message-cell">
                    beer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-532" class="rowLink" href="#msg-532">
                    [17:37]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    zbeer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-533" class="rowLink" href="#msg-533">
                    [17:37]  mato
                    </a>
                </td>
                <td class="message-cell">
                    cyl
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-534" class="rowLink" href="#msg-534">
                    [17:37]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    cyrsn
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-535" class="rowLink" href="#msg-535">
                    [17:38]  mato
                    </a>
                </td>
                <td class="message-cell">
                    !
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-536" class="rowLink" href="#msg-536">
                    [17:38]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    :-) I knew it...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-537" class="rowLink" href="#msg-537">
                    [17:39]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    oh... hang on...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-538" class="rowLink" href="#msg-538">
                    [17:43]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    alt gr + o ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-539" class="rowLink" href="#msg-539">
                    [17:43]  kleppari
                    </a>
                </td>
                <td class="message-cell">
                    works on the .is layout
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-540" class="rowLink" href="#msg-540">
                    [17:44]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    and on 105 key .de (qwertz)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-541" class="rowLink" href="#msg-541">
                    [17:44]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    and I just saw that ch. 3 is back...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-542" class="rowLink" href="#msg-542">
                    [17:44]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    yeah, I fixed it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-543" class="rowLink" href="#msg-543">
                    [17:46]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    cyal, i&#39;m off for zbeer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-544" class="rowLink" href="#msg-544">
                    [17:47]  pieterh
                    </a>
                </td>
                <td class="message-cell">
                    guido_g: there&#39;s also a new problem solver in Ch1
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-545" class="rowLink" href="#msg-545">
                    [17:47]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    oh...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-546" class="rowLink" href="#msg-546">
                    [17:50]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    nice one
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-547" class="rowLink" href="#msg-547">
                    [17:50]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    but can you do it in uml?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-548" class="rowLink" href="#msg-548">
                    [17:51]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    *ducks for cover*
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-549" class="rowLink" href="#msg-549">
                    [17:53]  guido_g
                    </a>
                </td>
                <td class="message-cell">
                    more serious thing: smaller version that fits on one page so it can be printed easily
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-550" class="rowLink" href="#msg-550">
                    [18:04]  keffo
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, What scenario could trigger a deadlock? (in single threaded proc.)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-551" class="rowLink" href="#msg-551">
                    [19:09]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, ping?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-552" class="rowLink" href="#msg-552">
                    [19:09]  Samy
                    </a>
                </td>
                <td class="message-cell">
                    sustrik, http://codepad.org/u1DWN3FG is the correct version.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-553" class="rowLink" href="#msg-553">
                    [19:27]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    Does zeromq have a lot of start up overhead of initialization?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-554" class="rowLink" href="#msg-554">
                    [19:27]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    or initialization*
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-555" class="rowLink" href="#msg-555">
                    [19:36]  ModusPwnens
                    </a>
                </td>
                <td class="message-cell">
                    the only reason I ask is because i keep getting strange results when I benchmark where the throughput is low intially, but then gradually increases
                </td>
            </tr>
            
        </table>
    </div>
</body>
</html>
