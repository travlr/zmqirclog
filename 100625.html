<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
    <title>ZeroMq IRC Log</title>
    <link rel="stylesheet" href="css/base.css"></link>
    <link rel="shortcut icon" href="images/favicon.gif">
    <base href="http://travlr.github.com/zmqirclog/index.html" target="_blank"/>
</head>

<body>
    <a name="pagetop" id="pagetop"></a>
    <div id="header-container">
    <div id="header-left" style="float: left;">
        <div id="header-left-top">
            <a href="/index.html" target="_blank">
            <img src="images/zeromq1-300x115.png" alt="ZeroMq Logo" border="0"/>
            </a>
        </div>
        <div id="header-left-bottom" style="padding-left:200px;">
            IRC Log
        </div>
    </div>
    <div id="header-right">
        <div id="header-right-top" style="float:right; vertical-align:text-top; padding-top:5px">
            <div id="cse-search-form" style="width: 250px;">Loading</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript">
  google.load('search', '1');
  google.setOnLoadCallback(function() {
    var customSearchControl = new google.search.CustomSearchControl('017268610037587914919:goqutszmb5o');
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.setSearchFormRoot('cse-search-form');
    customSearchControl.draw('cse', options);
  }, true);
</script>
<link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
<style type="text/css">
  .gsc-control-cse {
    font-family: Arial, sans-serif;
    border-color: #FFFFFF;
    background-color: #FFFFFF;
  }
  input.gsc-input {
    border-color: #BCCDF0;
  }
  input.gsc-search-button {
    border-color: #ff0000;
    background-color: #CECECE;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #E9E9E9;
    background-color: #E9E9E9;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-top-color: #ff0000;
    border-left-color: #E9E9E9;
    border-right-color: #E9E9E9;
    background-color: #FFFFFF;
  }
  .gsc-tabsArea {
    border-color: #E9E9E9;
  }
  .gsc-webResult.gsc-result {
    border-color: #FFFFFF;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #FFFFFF;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #0000CC;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #0000CC;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #0000CC;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #0000CC;
  }
  .gsc-cursor-page {
    color: #0000CC;
  }
  a.gsc-trailing-more-results:link {
    color: #0000CC;
  }
  .gs-webResult .gs-snippet {
    color: #000000;
  }
  .gs-webResult div.gs-visibleUrl {
    color: #008000;
  }
  .gs-webResult div.gs-visibleUrl-short {
    color: #008000;
  }
  .gs-webResult div.gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult div.gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #E9E9E9;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #ff0000;
    background-color: #FFFFFF;
  }
  .gs-promotion {
    border-color: #336699;
    background-color: #FFFFFF;
  }
  .gs-promotion a.gs-title:link,
  .gs-promotion a.gs-title:link *,
  .gs-promotion .gs-snippet a:link {
    color: #0000CC;
  }
  .gs-promotion a.gs-title:visited,
  .gs-promotion a.gs-title:visited *,
  .gs-promotion .gs-snippet a:visited {
    color: #0000CC;
  }
  .gs-promotion a.gs-title:hover,
  .gs-promotion a.gs-title:hover *,
  .gs-promotion .gs-snippet a:hover {
    color: #0000CC;
  }
  .gs-promotion a.gs-title:active,
  .gs-promotion a.gs-title:active *,
  .gs-promotion .gs-snippet a:active {
    color: #0000CC;
  }
  .gs-promotion .gs-snippet,
  .gs-promotion .gs-title .gs-promotion-title-right,
  .gs-promotion .gs-title .gs-promotion-title-right *  {
    color: #000000;
  }
  .gs-promotion .gs-visibleUrl,
  .gs-promotion .gs-visibleUrl-short {
    color: #008000;
  }
</style>

        </div>
        <div style="clear:right;"></div>
        <div id="header-right-bottom" style="text-align:right; vertical-align:text-bottom; padding-right:30px; padding-top:75px;">
            <a href="http://www.zeromq.org/" target="_blank">ZeroMq Home</a>
        </div>
    </div>
    <div style="clear: both;"></div>
    <hr/>
</div>

    <div class="content">
        <h2>Friday June 25, 2010</h2>
        <table class="message-table">
            <th>[Time]&nbsp;Name</th><th>Message</th>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-1" class="rowLink" href="#msg-1">
                    [10:38]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: hi!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-2" class="rowLink" href="#msg-2">
                    [10:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    hi
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-3" class="rowLink" href="#msg-3">
                    [10:39]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: question: http://paste.lisp.org/display/111844
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-4" class="rowLink" href="#msg-4">
                    [10:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    errno is thread-local
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-5" class="rowLink" href="#msg-5">
                    [10:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so you get err1
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-6" class="rowLink" href="#msg-6">
                    [10:41]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: cool, 10x! as i thought... we have different opinion with a guy who forked cl-zmq :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-7" class="rowLink" href="#msg-7">
                    [10:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-8" class="rowLink" href="#msg-8">
                    [10:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s POSIX behaviour
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-9" class="rowLink" href="#msg-9">
                    [10:41]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-10" class="rowLink" href="#msg-10">
                    [10:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    let me find the doc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-11" class="rowLink" href="#msg-11">
                    [10:42]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    man errno, i think
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-12" class="rowLink" href="#msg-12">
                    [10:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    right
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-13" class="rowLink" href="#msg-13">
                    [10:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s ISO C
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-14" class="rowLink" href="#msg-14">
                    [10:59]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    I think I understood... In managed environments (like lisp, python, java, .net) thread may be interrupted by runtime for garbage collecting. if GC calls libraries functions or syscalls, it may clobber this thread&#39;s errno. When such event happens in between zmq_foo() and zmq_errno(), then zmq_errno() will return wrong errno.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-15" class="rowLink" href="#msg-15">
                    [11:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    right, that may happen
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-16" class="rowLink" href="#msg-16">
                    [11:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    vtl: thinking about it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-17" class="rowLink" href="#msg-17">
                    [11:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in theory, it would be possible to solve the problem in 0mq itself
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-18" class="rowLink" href="#msg-18">
                    [11:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    solve the errno into 0mq-own thread-local variable
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-19" class="rowLink" href="#msg-19">
                    [11:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and return that one from zmq_errno
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-20" class="rowLink" href="#msg-20">
                    [11:20]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    I think this in not worth trying
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-21" class="rowLink" href="#msg-21">
                    [11:21]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    because other foreign libraries will fail in the same way :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-22" class="rowLink" href="#msg-22">
                    [11:21]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    do you have a better solution?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-23" class="rowLink" href="#msg-23">
                    [11:21]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, definitely
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-24" class="rowLink" href="#msg-24">
                    [11:21]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    how is this solved in cl?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-25" class="rowLink" href="#msg-25">
                    [11:21]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    this is generally not solved in cl. but one paricular commercial version of CL (this is Allegro) has workaround for it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-26" class="rowLink" href="#msg-26">
                    [11:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, isee
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-27" class="rowLink" href="#msg-27">
                    [11:22]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    I think, it is possible to hack CFFI library to solve such kind of problems
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-28" class="rowLink" href="#msg-28">
                    [11:22]  vtl
                    </a>
                </td>
                <td class="message-cell">
                    of course, other languages still problematic in this place
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-29" class="rowLink" href="#msg-29">
                    [11:34]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: why not make errno a member/property of the context class?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-30" class="rowLink" href="#msg-30">
                    [11:34]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    the system errno could be copied into that member after each 0mq call
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-31" class="rowLink" href="#msg-31">
                    [11:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    cremes: a socket option
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-32" class="rowLink" href="#msg-32">
                    [11:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    same as with Berkeley sockets (SO_ERROR)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-33" class="rowLink" href="#msg-33">
                    [11:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, this sounds more sane than zmq_errno
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-34" class="rowLink" href="#msg-34">
                    [11:44]  CIA-17
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: 03Martin Hurton 07master * rfca2e8e 10/ (7 files): Add SWAP support - http://bit.ly/bRzKds
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-35" class="rowLink" href="#msg-35">
                    [11:47]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    right, move it to the socket class (why would i suggest context? d&#39;oh!)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-36" class="rowLink" href="#msg-36">
                    [11:50]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    though that&#39;s another api change/break
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-37" class="rowLink" href="#msg-37">
                    [11:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    cremes: right
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-38" class="rowLink" href="#msg-38">
                    [11:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in theory it may be done in 2 steps
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-39" class="rowLink" href="#msg-39">
                    [11:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    1. add the error socket option
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-40" class="rowLink" href="#msg-40">
                    [11:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    2. remove zmq_errno
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-41" class="rowLink" href="#msg-41">
                    [11:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the latter can be done when major version number is bumped
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-42" class="rowLink" href="#msg-42">
                    [12:30]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: recent commit "devices exit in case of context termination" 11891d : src/forwarder.cpp lines 33 and 40, I believe are missing the necessary "rc = " assignment?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-43" class="rowLink" href="#msg-43">
                    [12:31]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    hmm, same thing in src/streamer.cpp
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-44" class="rowLink" href="#msg-44">
                    [12:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    let me see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-45" class="rowLink" href="#msg-45">
                    [12:34]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    oops
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-46" class="rowLink" href="#msg-46">
                    [12:34]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    let me correct it!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-47" class="rowLink" href="#msg-47">
                    [12:41]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    Using C++ bindings, it seems that the only time one needs to do a msg.rebuild is before a send.   But between a send and a recv or between a recv and another recv this is not necessary, as it would appear the zmq_recv internals close a message then re-initializes it as needed.  Is this correct?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-48" class="rowLink" href="#msg-48">
                    [12:43]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    (the same could be stated/asked for the C api, restating with message close/init pairing instead of the C++ message rebuild)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-49" class="rowLink" href="#msg-49">
                    [12:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, fixed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-50" class="rowLink" href="#msg-50">
                    [12:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-51" class="rowLink" href="#msg-51">
                    [12:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the only use for rebuild is when you have a message as a member variable of a class
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-52" class="rowLink" href="#msg-52">
                    [12:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    then you want to say resize it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-53" class="rowLink" href="#msg-53">
                    [12:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you would have to destroy it and reinistantiate it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-54" class="rowLink" href="#msg-54">
                    [12:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but that&#39;s not possible becasue it&#39;s a member variable!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-55" class="rowLink" href="#msg-55">
                    [12:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so you would have to allocate it dynamically or something...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-56" class="rowLink" href="#msg-56">
                    [12:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    instead, you can simply call rebuild
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-57" class="rowLink" href="#msg-57">
                    [12:48]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    ok, but whether you destroy or rebuild, this is only necessary if you want to send a message of a different size.  Anytime you want to recv a message, there is no reason to free the associated memory from previous use of the message... eg, the zmq internals aren&#39;t going to leak memory previously allocated for a message.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-58" class="rowLink" href="#msg-58">
                    [12:50]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m talking about the zmq_msg_t memory not an instantiated C++ message class.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-59" class="rowLink" href="#msg-59">
                    [12:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-60" class="rowLink" href="#msg-60">
                    [12:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i think it&#39;s mentioned in the docs
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-61" class="rowLink" href="#msg-61">
                    [12:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    let me see...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-62" class="rowLink" href="#msg-62">
                    [12:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    zmq_recv(3):
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-63" class="rowLink" href="#msg-63">
                    [12:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Any content previously stored in msg
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-64" class="rowLink" href="#msg-64">
                    [12:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    shall be properly deallocated.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-65" class="rowLink" href="#msg-65">
                    [13:03]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    *sigh* I get caught up reading/ walking through the code and forget about the documentation.  appologies.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-66" class="rowLink" href="#msg-66">
                    [13:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-67" class="rowLink" href="#msg-67">
                    [13:28]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    I have a setup where a SUB socket binds a TCP port on two different interfaces.  There are two PUB sockets that connect, one to each interface of the SUB socket.  I experienced an instance with this setup that messages quit flowing from one of the publishers to the subscriber while messages continued to flow from the other publisher.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-68" class="rowLink" href="#msg-68">
                    [13:28]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    However there were no errors, or anything to indicate anything was wrong besides the fact the messages weren&#39;t flowing.  At the OS level, the TCP port for the "dead" connection was still active, with one in LISTEN state, and the other in ESTABLISHED for the SUB and PUB socket respectively.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-69" class="rowLink" href="#msg-69">
                    [13:29]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    Restarting the publisher application restored communications.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-70" class="rowLink" href="#msg-70">
                    [13:30]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    If this happens in the future, any suggestions on how to inspect what is going on?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-71" class="rowLink" href="#msg-71">
                    [13:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: my guess would be that there&#39;s a loophole in fair queueing algorithm somewhere
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-72" class="rowLink" href="#msg-72">
                    [13:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    if there are messages available from both publshers SUB socket round robins between them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-73" class="rowLink" href="#msg-73">
                    [13:34]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what you describe looks like SUB erroneously believes one of the pipes has no messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-74" class="rowLink" href="#msg-74">
                    [13:34]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    (although it does)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-75" class="rowLink" href="#msg-75">
                    [13:35]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and doesn&#39;t include it into the round robit
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-76" class="rowLink" href="#msg-76">
                    [13:35]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    robin
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-77" class="rowLink" href="#msg-77">
                    [13:35]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    where should I be looking in the zmq code?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-78" class="rowLink" href="#msg-78">
                    [13:36]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ljugg: are use using zmq_poll or just zmq_recv?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-79" class="rowLink" href="#msg-79">
                    [13:37]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    just zmq_recv
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-80" class="rowLink" href="#msg-80">
                    [13:37]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    then it&#39;s fq_t::recv
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-81" class="rowLink" href="#msg-81">
                    [13:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    fq.cpp:81
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-82" class="rowLink" href="#msg-82">
                    [13:54]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    change to topic for a moment, working through that code is going to take a bit...  on multi-part messages, are the parts stacked up on the sending side or the receiving side?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-83" class="rowLink" href="#msg-83">
                    [14:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: both sides
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-84" class="rowLink" href="#msg-84">
                    [14:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the rule is that they are stacked on the write side of the pipe
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-85" class="rowLink" href="#msg-85">
                    [14:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    one pipe being between sender thread and sender&#39;s I/O thread
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-86" class="rowLink" href="#msg-86">
                    [14:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    other one being between receiver&#39;s I/O thread and receiver thread itself
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-87" class="rowLink" href="#msg-87">
                    [14:27]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    ok, so before they reach the receivers I/O thread, they&#39;ve been stacked up in the sender&#39;s I/O thread.  Then they are all sent to the receiver, and the receiver I/O thread stacks them up until they are all received before passing them off to the receiver thread, yes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-88" class="rowLink" href="#msg-88">
                    [14:30]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-89" class="rowLink" href="#msg-89">
                    [14:38]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    ok, so why expose the multipart concept to the receiving side at all then?  Why not assemble it all into a single message for final delivery?  The above structure provides no benefit for reducing total transfer time, nor allowing the receiving end to work on parts of the messages as they come in, thus reducing total processing time.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-90" class="rowLink" href="#msg-90">
                    [14:39]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    It seems to me that either the receiving side should just get a single message delivered to the receiver thread, or that it shouldn&#39;t be atomic.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-91" class="rowLink" href="#msg-91">
                    [14:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: the goal here is to allow for some basic structure in the message content
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-92" class="rowLink" href="#msg-92">
                    [14:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so if sender has say 3 big matrices in different places in memory
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-93" class="rowLink" href="#msg-93">
                    [14:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    he&#39;ll use multi-part message as a means to achieve zero-copy
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-94" class="rowLink" href="#msg-94">
                    [14:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    however, he still wants to tell the boundaries between matrices on the receiving side
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-95" class="rowLink" href="#msg-95">
                    [14:43]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s why boundaries between message parts are honoured
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-96" class="rowLink" href="#msg-96">
                    [14:44]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    0mq uses this mechanism under the cover btw to distinguish 0mq-specific data on the wire from the user data
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-97" class="rowLink" href="#msg-97">
                    [14:48]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    ok, that makes sense.  So, perhaps two alternate multi-part implementations feature requests then:  1. allow the sending side to send each part immediately, and only stack them on the receiving side I/O thread.  2. allow non atomic multi-part messaging.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-98" class="rowLink" href="#msg-98">
                    [14:49]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    1. makes sense
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-99" class="rowLink" href="#msg-99">
                    [14:50]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    2. what would that be good for?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-100" class="rowLink" href="#msg-100">
                    [14:51]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    2. A REQ is made (ie SQL query) and the REP has multiple rows, if it was non atomic, then each row could be sent back and be operated on without waiting for the entire set to arrive.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-101" class="rowLink" href="#msg-101">
                    [14:52]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    my guess might be in a stream processing sense of individual message parts.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-102" class="rowLink" href="#msg-102">
                    [14:52]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    yeah, what he said :)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-103" class="rowLink" href="#msg-103">
                    [14:53]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    Another use is a REQ is made, and something more intensive like, a file set - a bunch of images - is returned.  These images need to be resized.  There is no reason to wait for the entire set to arrive.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-104" class="rowLink" href="#msg-104">
                    [14:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: i would say each image (or row) is a separate message in these scenarios
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-105" class="rowLink" href="#msg-105">
                    [14:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the rationale is that all the elements in the set are of the same type
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-106" class="rowLink" href="#msg-106">
                    [14:58]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and thus eligible for parallelised processing or similar
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-107" class="rowLink" href="#msg-107">
                    [14:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    message parts make sense where there are different elements concatenated into a single message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-108" class="rowLink" href="#msg-108">
                    [14:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    for example 0mq-routing-data + user-data
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-109" class="rowLink" href="#msg-109">
                    [14:59]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    or a topic + user-data
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-110" class="rowLink" href="#msg-110">
                    [14:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-111" class="rowLink" href="#msg-111">
                    [15:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    different semantics is the key here
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-112" class="rowLink" href="#msg-112">
                    [15:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    from this point of view atomicity makes perfect sense
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-113" class="rowLink" href="#msg-113">
                    [15:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it doesn&#39;t make sense to deliver just the routing data
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-114" class="rowLink" href="#msg-114">
                    [15:00]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    or a topic
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-115" class="rowLink" href="#msg-115">
                    [15:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and say load-balance the user-content somewhere else
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-116" class="rowLink" href="#msg-116">
                    [15:02]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    seeing the big picture along with the  nuances is important for the various concepts in 0mq, huh.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-117" class="rowLink" href="#msg-117">
                    [15:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, this kind of thing is missing from docs :(
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-118" class="rowLink" href="#msg-118">
                    [15:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but anyway, i have no idea where it shouldb e put
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-119" class="rowLink" href="#msg-119">
                    [15:03]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    i want to help with docs in the near future
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-120" class="rowLink" href="#msg-120">
                    [15:03]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;m still studying it all though for now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-121" class="rowLink" href="#msg-121">
                    [15:03]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    do you have idea what exactly would you like to do?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-122" class="rowLink" href="#msg-122">
                    [15:03]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    docs?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-123" class="rowLink" href="#msg-123">
                    [15:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-124" class="rowLink" href="#msg-124">
                    [15:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    I liked Nicholas&#39; blog yesterday
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-125" class="rowLink" href="#msg-125">
                    [15:04]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-126" class="rowLink" href="#msg-126">
                    [15:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it seems this kind of stuff is highly needed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-127" class="rowLink" href="#msg-127">
                    [15:04]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    very much
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-128" class="rowLink" href="#msg-128">
                    [15:04]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    along the same vain martin
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-129" class="rowLink" href="#msg-129">
                    [15:04]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    s/vain/vane
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-130" class="rowLink" href="#msg-130">
                    [15:05]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    first i want to understand 0mq inside out, which is what i&#39;m working on atm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-131" class="rowLink" href="#msg-131">
                    [15:05]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: I understand that, however, I think the SQL example (whether the results are images or something else) has its use case as well.  The client knows that it wants an entire set of data, it doesn&#39;t know what comprises that set of data, and so it can&#39;t ask for each part individually.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-132" class="rowLink" href="#msg-132">
                    [15:06]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    But it makes sense from an efficiency stand point to break the set of data into individual parts for transmission and processing.  Certainly the smarts could be layered ontop of 0MQ for getting each part individually, but greatly simplifies things by having 0MQ support this natively.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-133" class="rowLink" href="#msg-133">
                    [15:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: understood
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-134" class="rowLink" href="#msg-134">
                    [15:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what you have in mind is some kind of "terminator" message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-135" class="rowLink" href="#msg-135">
                    [15:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    a message that says "this is the end of a message group"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-136" class="rowLink" href="#msg-136">
                    [15:08]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    however, my feeling is that this kind of feature should be layered on top of 0MQ
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-137" class="rowLink" href="#msg-137">
                    [15:08]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    Well, what I want is a single REQ message to be able to receive multiple REP messages - whatever that looks like.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-138" class="rowLink" href="#msg-138">
                    [15:08]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    the way multipart messaging works at the API level works for this very well.  It is just the implementation that does not.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-139" class="rowLink" href="#msg-139">
                    [15:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, i see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-140" class="rowLink" href="#msg-140">
                    [15:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the scenario makes sense
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-141" class="rowLink" href="#msg-141">
                    [15:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the implications are non trivial
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-142" class="rowLink" href="#msg-142">
                    [15:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    if server X1 sends a first row, then halts for an hour
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-143" class="rowLink" href="#msg-143">
                    [15:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the client would read the first low
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-144" class="rowLink" href="#msg-144">
                    [15:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    then halt waiting for and hour
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-145" class="rowLink" href="#msg-145">
                    [15:11]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    although there may be other resultssets available from server X2
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-146" class="rowLink" href="#msg-146">
                    [15:11]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    this cannot happen with simple REQ socket
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-147" class="rowLink" href="#msg-147">
                    [15:11]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but it can happen with XREQ
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-148" class="rowLink" href="#msg-148">
                    [15:11]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s complex stuff, lot of space to experiment
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-149" class="rowLink" href="#msg-149">
                    [15:12]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;m not sure what you meant be other result sets...  subsequent REQ can&#39;t be made until the REP is satisfied... this is no different than the current REQ/REP behavior... if I send a REQ, it waits an indefinite time for a REP.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-150" class="rowLink" href="#msg-150">
                    [15:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the problem is that there may be a queue in the middle
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-151" class="rowLink" href="#msg-151">
                    [15:13]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the queue has to be able to process multiple requsts at the same time
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-152" class="rowLink" href="#msg-152">
                    [15:13]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    otherwise it would work in lock-step fashion
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-153" class="rowLink" href="#msg-153">
                    [15:13]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and the scalability would go soutg
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-154" class="rowLink" href="#msg-154">
                    [15:13]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    south
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-155" class="rowLink" href="#msg-155">
                    [15:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so the queue (composed on XREQ and XREP socket) would have to work on message-part-scale
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-156" class="rowLink" href="#msg-156">
                    [15:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    which is doable, but not the state of affairs right now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-157" class="rowLink" href="#msg-157">
                    [15:14]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    if you are interested in the topic feel free to propose a solution
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-158" class="rowLink" href="#msg-158">
                    [15:15]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    I guess from my no-understanding of the internals, looking at it from the point of view that multi-part messaging exists and works, then only (and maybe this is the sticking point) is to make the multi-parts non stacking on either end.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-159" class="rowLink" href="#msg-159">
                    [15:16]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    "then only" =&gt; "the only change"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-160" class="rowLink" href="#msg-160">
                    [15:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the main problem is in the middle
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-161" class="rowLink" href="#msg-161">
                    [15:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    how would you achieve that queue isn&#39;t stuck when there&#39;s a half-sent mutli-part message being processed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-162" class="rowLink" href="#msg-162">
                    [15:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and the sender dies without terminating it?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-163" class="rowLink" href="#msg-163">
                    [15:18]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    also, you need fairness guarantees, so the queue cannot process very long recordset in a single go
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-164" class="rowLink" href="#msg-164">
                    [15:18]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    You&#39;ve mentioned this "middle queues" before, I&#39;m still at a loss on them and what they are... :/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-165" class="rowLink" href="#msg-165">
                    [15:18]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    instead it has to assign it a timeslice, process part of it, then move to another clients etc.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-166" class="rowLink" href="#msg-166">
                    [15:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    "queue device"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-167" class="rowLink" href="#msg-167">
                    [15:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s a component both requesters and repliers can connect to
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-168" class="rowLink" href="#msg-168">
                    [15:19]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it then load balances the requests and routes the replies back
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-169" class="rowLink" href="#msg-169">
                    [15:20]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    see queue.cpp
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-170" class="rowLink" href="#msg-170">
                    [15:36]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: stuff like your previous conversation need to go in faq or clarified elsewhere etc.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-171" class="rowLink" href="#msg-171">
                    [15:36]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll be scrubbing the irc and mail list eventually
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-172" class="rowLink" href="#msg-172">
                    [15:36]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you mean the message part stuff?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-173" class="rowLink" href="#msg-173">
                    [15:37]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    well anything with nuance
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-174" class="rowLink" href="#msg-174">
                    [15:37]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the question is what should go to FAQ, what should go to docs and what should go elsewhere
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-175" class="rowLink" href="#msg-175">
                    [15:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    stacking the technical info into FAQ is probably not the best solution possible
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-176" class="rowLink" href="#msg-176">
                    [15:38]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;m just saying that i&#39;ll keep in mind these issues as i go and will help any way i can with stuff like docs
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-177" class="rowLink" href="#msg-177">
                    [15:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes, i&#39;m just thinking out aloud
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-178" class="rowLink" href="#msg-178">
                    [15:39]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    maybe there&#39;s some kind of "ideology" document missing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-179" class="rowLink" href="#msg-179">
                    [15:39]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    thats true for all of foss
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-180" class="rowLink" href="#msg-180">
                    [15:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i.e. not the strict technical reference
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-181" class="rowLink" href="#msg-181">
                    [15:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    but some talk about what are individual features intended for
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-182" class="rowLink" href="#msg-182">
                    [15:40]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: what happens with the current multipart if the sender dies while the I/O thread is sending out the messages?  Same problem, no?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-183" class="rowLink" href="#msg-183">
                    [15:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and why they are designed in the way they are etc.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-184" class="rowLink" href="#msg-184">
                    [15:40]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: we&#39;ll have a conversation about this soon
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-185" class="rowLink" href="#msg-185">
                    [15:40]  travlr
                    </a>
                </td>
                <td class="message-cell">
                    and i&#39;ll go to town
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-186" class="rowLink" href="#msg-186">
                    [15:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: no, the incomplete messages are rolled back in that case
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-187" class="rowLink" href="#msg-187">
                    [15:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    trvlr: ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-188" class="rowLink" href="#msg-188">
                    [15:48]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: Could the internals track whether the final message in a non atomic multipart message has been received, and if it has not, then the recv function return an error if the internals detect a disconnect of the sender?  Failing such a possibility, I&#39;d say if the only thing hindering this capability are intermediate queues, then document the risk and recommend not using them for this particular usage.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-189" class="rowLink" href="#msg-189">
                    [15:50]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    I haven&#39;t really understood why these "devices" are part of the core implementation anyway, they do not require access (afaict) to the internals of 0MQ, and could be implemented as stand alone applications/libraries, or even just example code.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-190" class="rowLink" href="#msg-190">
                    [15:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    jugg: yes, right now the implementation of devices is pretty trivial
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-191" class="rowLink" href="#msg-191">
                    [15:53]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in the future it&#39;s going to be more tightly integrated with the core
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-192" class="rowLink" href="#msg-192">
                    [15:54]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    as for the usage of deivces have a look here: http://www.zeromq.org/blog:multithreaded-server
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-193" class="rowLink" href="#msg-193">
                    [15:55]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s pretty straightforward usage of queue device
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-194" class="rowLink" href="#msg-194">
                    [15:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    with that in mind, try to put down your non-atomic multi-part messages idea into email and send it to the mailing list
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-195" class="rowLink" href="#msg-195">
                    [15:56]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it would be good to see some discussion on the topic
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-196" class="rowLink" href="#msg-196">
                    [15:59]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    btw, i would suggest to name these "stream messages"; it&#39;s shorter that "non-atomic multi-part messages"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-197" class="rowLink" href="#msg-197">
                    [16:07]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: will do
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-198" class="rowLink" href="#msg-198">
                    [16:08]  jugg
                    </a>
                </td>
                <td class="message-cell">
                    thanks for working through all of that.  I need to go back and dig into that possible fair queue issue now.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-199" class="rowLink" href="#msg-199">
                    [16:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    you are welcome
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap">
                    <a name="msg-200" class="rowLink" href="#msg-200">
                    [16:35]  CIA-17
                    </a>
                </td>
                <td class="message-cell">
                    zeromq2: 03Pieter Hintjens 07master * r1dda8a2 10/ src/msg_store.cpp : Used more expressive variable names - http://bit.ly/aynV9A
                </td>
            </tr>
            
        </table>
    </div>
</body>
</html>
