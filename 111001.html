<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
    <title>ZeroMq IRC Log</title>
<!--    <base href="http://travlr.github.com/zmqirclog/index.html" target="_self"/>-->
    <link rel="stylesheet" href="css/base.css"></link>
    <link rel="shortcut icon" href="images/favicon.gif">

</head>

<body>
    <a name="pagetop" id="pagetop"></a>
    <div id="header-container">
    <div id="header-left" style="float: left;">
        <div id="header-left-top">
            <a href="http://travlr.github.com/zmqirclog/index.html" target="_blank">
            <img src="images/zeromq1-300x115.png" alt="ZeroMq Logo" border="0"/>
            </a>
        </div>
        <div id="header-left-bottom" style="padding-left:200px;font-weight:bold">
            IRC Log
        </div>
    </div>
    <div id="header-right">
        <div id="header-right-top" style="float:right; vertical-align:text-top; padding-top:5px">
            <form action="http://travlr.github.com/zmqirclog/search-results.html" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="017268610037587914919:goqutszmb5o" />
    <input type="hidden" name="cof" value="FORID:9" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="31" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>

        </div>
        <div style="clear:right;"></div>
        <div id="header-right-bottom" style="text-align:right; vertical-align:text-bottom; padding-right:30px; padding-top:75px;">
            <h2><a href="http://www.zeromq.org/" target="_blank">ZeroMq Home</a></h2>
        </div>
    </div>
    <div style="clear: both;"></div>
    <hr/>
</div>

    <div class="content">
        <h2>Saturday October 1, 2011</h2>
        <table class="message-table">
            <th>[Time]&nbsp;Name</th><th>Message</th>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-1" class="rowLink" href="#msg-1">
                    [02:05]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    hi i wanna ask about zmq_send fucntion
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-2" class="rowLink" href="#msg-2">
                    [02:05]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    zmq_send (void *socket, zmq_msg_t *msg, int flags);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-3" class="rowLink" href="#msg-3">
                    [02:05]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    does the msg can be anything?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-4" class="rowLink" href="#msg-4">
                    [02:05]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    array? stream of data?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-5" class="rowLink" href="#msg-5">
                    [02:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    well, that depends
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-6" class="rowLink" href="#msg-6">
                    [02:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the data part is a void *
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-7" class="rowLink" href="#msg-7">
                    [02:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    so you can put just about anything there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-8" class="rowLink" href="#msg-8">
                    [02:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    how ever if it&#39;s actually pointer that you are sending then it will have expected results only over inproc
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-9" class="rowLink" href="#msg-9">
                    [02:07]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    let say i want to send a JPEG file...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-10" class="rowLink" href="#msg-10">
                    [02:07]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    i read the file in C using fread funtion
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-11" class="rowLink" href="#msg-11">
                    [02:07]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    then store it in array
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-12" class="rowLink" href="#msg-12">
                    [02:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    then you would memcpy (zmq_msg_data (msg), jpeg_data, size);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-13" class="rowLink" href="#msg-13">
                    [02:07]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    or variable
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-14" class="rowLink" href="#msg-14">
                    [02:07]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    ooooooo
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-15" class="rowLink" href="#msg-15">
                    [02:07]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    I SEE!!!!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-16" class="rowLink" href="#msg-16">
                    [02:07]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    haha
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-17" class="rowLink" href="#msg-17">
                    [02:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if you were sending it over the inproc transport (same process)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-18" class="rowLink" href="#msg-18">
                    [02:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    you could actually just send a pointer to the data
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-19" class="rowLink" href="#msg-19">
                    [02:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    rather than copy the data
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-20" class="rowLink" href="#msg-20">
                    [02:08]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    ermm..sorry but what inproc?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-21" class="rowLink" href="#msg-21">
                    [02:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    that&#39;s what i meant above
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-22" class="rowLink" href="#msg-22">
                    [02:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    thats in-process communication
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-23" class="rowLink" href="#msg-23">
                    [02:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    usually used to communicate between threads
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-24" class="rowLink" href="#msg-24">
                    [02:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    zmq_bind ("inproc://my-endpoint");
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-25" class="rowLink" href="#msg-25">
                    [02:09]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    ah, ok...but i think i just use a really simple server-client using socket communication as the hello world examle =}
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-26" class="rowLink" href="#msg-26">
                    [02:09]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    in that case you probably want to use the memcpy
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-27" class="rowLink" href="#msg-27">
                    [02:09]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    =]
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-28" class="rowLink" href="#msg-28">
                    [02:10]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and when you receive it you malloc size for it and copy it back from the message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-29" class="rowLink" href="#msg-29">
                    [02:10]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    roger that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-30" class="rowLink" href="#msg-30">
                    [02:10]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ll go and read the zmq_msg_data now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-31" class="rowLink" href="#msg-31">
                    [02:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    im off to bed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-32" class="rowLink" href="#msg-32">
                    [02:17]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    night
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-33" class="rowLink" href="#msg-33">
                    [02:17]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    thanks
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-34" class="rowLink" href="#msg-34">
                    [02:18]  sharpwan
                    </a>
                </td>
                <td class="message-cell">
                    night!
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-35" class="rowLink" href="#msg-35">
                    [09:49]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    good morning
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-36" class="rowLink" href="#msg-36">
                    [09:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    morning
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-37" class="rowLink" href="#msg-37">
                    [09:57]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    getting back to your issue
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-38" class="rowLink" href="#msg-38">
                    [10:01]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko: there?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-39" class="rowLink" href="#msg-39">
                    [10:03]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-40" class="rowLink" href="#msg-40">
                    [10:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;m checking the number of sends and recv the app does
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-41" class="rowLink" href="#msg-41">
                    [10:04]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    actual system level sends?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-42" class="rowLink" href="#msg-42">
                    [10:04]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    or zeromq sends?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-43" class="rowLink" href="#msg-43">
                    [10:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    nope zmq_sends
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-44" class="rowLink" href="#msg-44">
                    [10:04]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    producer:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-45" class="rowLink" href="#msg-45">
                    [10:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    send 30000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-46" class="rowLink" href="#msg-46">
                    [10:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    recv 20000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-47" class="rowLink" href="#msg-47">
                    [10:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    is that ok?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-48" class="rowLink" href="#msg-48">
                    [10:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-49" class="rowLink" href="#msg-49">
                    [10:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    they are multiparts
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-50" class="rowLink" href="#msg-50">
                    [10:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    as longs as the zmq_sends are on even thousand
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-51" class="rowLink" href="#msg-51">
                    [10:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-52" class="rowLink" href="#msg-52">
                    [10:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    consumer:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-53" class="rowLink" href="#msg-53">
                    [10:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    recv 6000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-54" class="rowLink" href="#msg-54">
                    [10:05]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    send 3000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-55" class="rowLink" href="#msg-55">
                    [10:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    is that fine?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-56" class="rowLink" href="#msg-56">
                    [10:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    let me check the code
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-57" class="rowLink" href="#msg-57">
                    [10:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes, looks about right
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-58" class="rowLink" href="#msg-58">
                    [10:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pzq:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-59" class="rowLink" href="#msg-59">
                    [10:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    send 111944
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-60" class="rowLink" href="#msg-60">
                    [10:06]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    recv 118831
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-61" class="rowLink" href="#msg-61">
                    [10:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    is there inrpoc used inside pzq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-62" class="rowLink" href="#msg-62">
                    [10:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-63" class="rowLink" href="#msg-63">
                    [10:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the whole flow is roughly:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-64" class="rowLink" href="#msg-64">
                    [10:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    producer DEALER -&gt; device ROUTER -&gt; manager DEALER -&gt; store message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-65" class="rowLink" href="#msg-65">
                    [10:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and outgoing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-66" class="rowLink" href="#msg-66">
                    [10:08]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-67" class="rowLink" href="#msg-67">
                    [10:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    manger DEALER -&gt; device ROUTER -&gt; consumer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-68" class="rowLink" href="#msg-68">
                    [10:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the interesting this is if you look at device.cpp in pzq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-69" class="rowLink" href="#msg-69">
                    [10:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    can you point me to the place in pzq where it communicates with the producer/consumer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-70" class="rowLink" href="#msg-70">
                    [10:09]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-71" class="rowLink" href="#msg-71">
                    [10:09]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    device.cpp
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-72" class="rowLink" href="#msg-72">
                    [10:09]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if you follow the main.cpp
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-73" class="rowLink" href="#msg-73">
                    [10:09]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    receiver_in and receiver_out are created
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-74" class="rowLink" href="#msg-74">
                    [10:09]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    then sender_in and sender_out are created
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-75" class="rowLink" href="#msg-75">
                    [10:10]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    then theres two devices pzq::device_t receiver, sender;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-76" class="rowLink" href="#msg-76">
                    [10:10]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    they are started around line 146 in main.cpp
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-77" class="rowLink" href="#msg-77">
                    [10:10]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, let me add some printfs there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-78" class="rowLink" href="#msg-78">
                    [10:12]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i added some earlier ("Messages from in to out " num_messages++;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-79" class="rowLink" href="#msg-79">
                    [10:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-80" class="rowLink" href="#msg-80">
                    [10:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pzq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-81" class="rowLink" href="#msg-81">
                    [10:15]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    when i run the producer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-82" class="rowLink" href="#msg-82">
                    [10:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pzq reports 10001 msgs in
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-83" class="rowLink" href="#msg-83">
                    [10:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and 10000 msgs out
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-84" class="rowLink" href="#msg-84">
                    [10:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    when running consumer:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-85" class="rowLink" href="#msg-85">
                    [10:16]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    1002 in
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-86" class="rowLink" href="#msg-86">
                    [10:17]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    974 out
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-87" class="rowLink" href="#msg-87">
                    [10:19]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    looks like 974 out is the amount of acks coming back
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-88" class="rowLink" href="#msg-88">
                    [10:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    now interesting test
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-89" class="rowLink" href="#msg-89">
                    [10:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    add sleep (1) to the end of consumer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-90" class="rowLink" href="#msg-90">
                    [10:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    jsut before return 0;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-91" class="rowLink" href="#msg-91">
                    [10:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and rerun the same consumer test
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-92" class="rowLink" href="#msg-92">
                    [10:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    also, the hardware on build cluster is moving soon
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-93" class="rowLink" href="#msg-93">
                    [10:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i will be re-creating the VMs as 64bit at some point and then add access for you
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-94" class="rowLink" href="#msg-94">
                    [10:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    then you can debug on freebsd/solaris/windows when needed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-95" class="rowLink" href="#msg-95">
                    [10:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    planning to add VNC access to windows (if that is needed)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-96" class="rowLink" href="#msg-96">
                    [10:28]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    nice
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-97" class="rowLink" href="#msg-97">
                    [10:29]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    sleep (1);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-98" class="rowLink" href="#msg-98">
                    [10:30]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko: inbound messages on pzm during consuming: 3244
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-99" class="rowLink" href="#msg-99">
                    [10:31]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    pzq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-100" class="rowLink" href="#msg-100">
                    [10:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yep
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-101" class="rowLink" href="#msg-101">
                    [10:31]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if you now consumer 1000 do you have them all consumed?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-102" class="rowLink" href="#msg-102">
                    [10:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    after restart
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-103" class="rowLink" href="#msg-103">
                    [10:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    9003 msgs in the store
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-104" class="rowLink" href="#msg-104">
                    [10:32]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and when you consume 1000 with sleep is it 8003 after that ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-105" class="rowLink" href="#msg-105">
                    [10:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    8006
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-106" class="rowLink" href="#msg-106">
                    [10:33]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    still a few lost there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-107" class="rowLink" href="#msg-107">
                    [10:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but significantly less
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-108" class="rowLink" href="#msg-108">
                    [10:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    oh yeas
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-109" class="rowLink" href="#msg-109">
                    [10:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the C++ consumer doesn&#39;t take expired messages into account
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-110" class="rowLink" href="#msg-110">
                    [10:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    so if pzq has pushed 1-2 messages to pipes before you start consumer they have expired by the time consumer responds
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-111" class="rowLink" href="#msg-111">
                    [10:36]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    you can run ./pzq --ack-timeout=500000000 for 500 second timeout
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-112" class="rowLink" href="#msg-112">
                    [10:39]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    brb
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-113" class="rowLink" href="#msg-113">
                    [10:50]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko: i&#39;m counting whole outgoing messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-114" class="rowLink" href="#msg-114">
                    [10:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    cosumer send 1000 msgs
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-115" class="rowLink" href="#msg-115">
                    [10:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pzq recvs 3378
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-116" class="rowLink" href="#msg-116">
                    [10:51]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    how come?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-117" class="rowLink" href="#msg-117">
                    [11:03]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: how are you counting recvs?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-118" class="rowLink" href="#msg-118">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-119" class="rowLink" href="#msg-119">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    if (items [0].revents &amp; ZMQ_POLLIN) {
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-120" class="rowLink" href="#msg-120">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pzq::message_t parts;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-121" class="rowLink" href="#msg-121">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    if (m_in.get ()-&gt;recv_many (parts) &gt; 0) {
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-122" class="rowLink" href="#msg-122">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    static int in_msgs = 0;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-123" class="rowLink" href="#msg-123">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in_msgs++;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-124" class="rowLink" href="#msg-124">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    printf ("in %d\n", in_msgs);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-125" class="rowLink" href="#msg-125">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    m_out.get ()-&gt;send_many (parts);
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-126" class="rowLink" href="#msg-126">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    }
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-127" class="rowLink" href="#msg-127">
                    [11:07]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    }
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-128" class="rowLink" href="#msg-128">
                    [11:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    that does sounds slightly stranger number
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-129" class="rowLink" href="#msg-129">
                    [11:07]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but are you producing as well?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-130" class="rowLink" href="#msg-130">
                    [11:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    would the static int count for producing as well?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-131" class="rowLink" href="#msg-131">
                    [11:11]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i gotta run to sign a new contract for the flat
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-132" class="rowLink" href="#msg-132">
                    [11:11]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    ill be back in about an hour or so
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-133" class="rowLink" href="#msg-133">
                    [11:12]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok , see you
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-134" class="rowLink" href="#msg-134">
                    [11:56]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: back
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-135" class="rowLink" href="#msg-135">
                    [11:58]  jond
                    </a>
                </td>
                <td class="message-cell">
                    mikko: on a somewhat tangential note, you are aware that kyoto cabinet is GPL with a linking exemption, rather than LGPL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-136" class="rowLink" href="#msg-136">
                    [11:58]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    jond: yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-137" class="rowLink" href="#msg-137">
                    [12:01]  jond
                    </a>
                </td>
                <td class="message-cell">
                    mikko: good. the kyoto/tokyo products are pretty interesting. the author&#39;s at google now. wish there was a c++ equiv of tokyo dystopia
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-138" class="rowLink" href="#msg-138">
                    [12:01]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    jond: as far as i understand i am not breaking hte license
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-139" class="rowLink" href="#msg-139">
                    [12:01]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i use apache 2.0 on pzq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-140" class="rowLink" href="#msg-140">
                    [12:01]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and i am not distributing a derivate work as far as i understand
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-141" class="rowLink" href="#msg-141">
                    [12:02]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i find it being GPL rather unfortunate but it seems like the best tool for the job
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-142" class="rowLink" href="#msg-142">
                    [12:02]  jond
                    </a>
                </td>
                <td class="message-cell">
                    should be okay then. what&#39;s pzq for?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-143" class="rowLink" href="#msg-143">
                    [12:02]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    persistent zmq device
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-144" class="rowLink" href="#msg-144">
                    [12:02]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    store and forward
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-145" class="rowLink" href="#msg-145">
                    [12:03]  jond
                    </a>
                </td>
                <td class="message-cell">
                    you could wrap tokyo cabinet; the c one that is LGPL
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-146" class="rowLink" href="#msg-146">
                    [12:03]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but tokyo cabinet is pretty much abandoned
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-147" class="rowLink" href="#msg-147">
                    [12:03]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and kyoto cabinet seems a lot better in many ways
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-148" class="rowLink" href="#msg-148">
                    [12:03]  jond
                    </a>
                </td>
                <td class="message-cell">
                    both true.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-149" class="rowLink" href="#msg-149">
                    [12:04]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i don&#39;t think the GPL will cause problems unless i want to sell pzq as a closed source product one day
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-150" class="rowLink" href="#msg-150">
                    [12:04]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    which seems very unlikely scenario
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-151" class="rowLink" href="#msg-151">
                    [12:04]  jond
                    </a>
                </td>
                <td class="message-cell">
                    i agree, i think you are ok, but it&#39;s good you are aware
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-152" class="rowLink" href="#msg-152">
                    [12:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;m planning a next project as well
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-153" class="rowLink" href="#msg-153">
                    [12:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    well, the idea came from ianbarber
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-154" class="rowLink" href="#msg-154">
                    [12:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    to create zeromq exchange which would allow setting out routing easily
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-155" class="rowLink" href="#msg-155">
                    [12:05]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    using lua scripting
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-156" class="rowLink" href="#msg-156">
                    [12:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    probably initially routing and filtering functionality
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-157" class="rowLink" href="#msg-157">
                    [12:06]  jond
                    </a>
                </td>
                <td class="message-cell">
                    pluggable you mean
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-158" class="rowLink" href="#msg-158">
                    [12:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it would be like a broker where you define endpoints
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-159" class="rowLink" href="#msg-159">
                    [12:06]  jond
                    </a>
                </td>
                <td class="message-cell">
                    lua inside the device?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-160" class="rowLink" href="#msg-160">
                    [12:06]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-161" class="rowLink" href="#msg-161">
                    [12:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    https://gist.github.com/dacfec5a45c89dbcd071
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-162" class="rowLink" href="#msg-162">
                    [12:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    roughly something like this
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-163" class="rowLink" href="#msg-163">
                    [12:08]  jond
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;m just looking pzq now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-164" class="rowLink" href="#msg-164">
                    [12:08]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s still a very raw idea
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-165" class="rowLink" href="#msg-165">
                    [12:14]  jond
                    </a>
                </td>
                <td class="message-cell">
                    i see. Kamaelia had the notion of a graphline which I quite liked.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-166" class="rowLink" href="#msg-166">
                    [12:14]  jond
                    </a>
                </td>
                <td class="message-cell">
                    http://www.kamaelia.org/Components/pydoc/Kamaelia.Chassis.Graphline.html
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-167" class="rowLink" href="#msg-167">
                    [12:16]  jond
                    </a>
                </td>
                <td class="message-cell">
                    the runnable code, was the description.....
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-168" class="rowLink" href="#msg-168">
                    [12:17]  jond
                    </a>
                </td>
                <td class="message-cell">
                    this pzq; it just stores all messages and when you connect replays all yes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-169" class="rowLink" href="#msg-169">
                    [12:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    jond: pretty much
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-170" class="rowLink" href="#msg-170">
                    [12:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    jond: it handles ACKs from consumers as well
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-171" class="rowLink" href="#msg-171">
                    [12:18]  jond
                    </a>
                </td>
                <td class="message-cell">
                    to keep track of where you are up to in the stream?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-172" class="rowLink" href="#msg-172">
                    [12:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    so you can define expiry for the messages sent on the backend and if you dont get ACK back in time the peer is considered not to have handled the message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-173" class="rowLink" href="#msg-173">
                    [12:19]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the message is removed from persistent store after ACK
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-174" class="rowLink" href="#msg-174">
                    [12:22]  jond
                    </a>
                </td>
                <td class="message-cell">
                    isnt doing an append on the store pretty expensive?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-175" class="rowLink" href="#msg-175">
                    [12:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    you mean more expensive then insert?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-176" class="rowLink" href="#msg-176">
                    [12:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    probably
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-177" class="rowLink" href="#msg-177">
                    [12:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i haven&#39;t done much profiling / optimisations yet
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-178" class="rowLink" href="#msg-178">
                    [12:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    just trying to get things to work reliably first
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-179" class="rowLink" href="#msg-179">
                    [12:27]  jond
                    </a>
                </td>
                <td class="message-cell">
                    yes, appending might require all the data being moved around on every append.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-180" class="rowLink" href="#msg-180">
                    [12:28]  jond
                    </a>
                </td>
                <td class="message-cell">
                    should pzq work with master?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-181" class="rowLink" href="#msg-181">
                    [12:28]  jond
                    </a>
                </td>
                <td class="message-cell">
                    actually it won&#39;t it uses the delimiter stuff
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-182" class="rowLink" href="#msg-182">
                    [12:34]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko: re
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-183" class="rowLink" href="#msg-183">
                    [12:34]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    jond: 2.1
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-184" class="rowLink" href="#msg-184">
                    [12:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: hi
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-185" class="rowLink" href="#msg-185">
                    [12:35]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    is there a way to check only the number of messages received from the outside world in pzq?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-186" class="rowLink" href="#msg-186">
                    [12:36]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    many of those i am seeing must be internal
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-187" class="rowLink" href="#msg-187">
                    [12:36]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: if you don&#39;t use static?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-188" class="rowLink" href="#msg-188">
                    [12:36]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s the difference?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-189" class="rowLink" href="#msg-189">
                    [12:37]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if it&#39;s static it would be shared between all instances
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-190" class="rowLink" href="#msg-190">
                    [12:37]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the sender device "out_to_in" is all ACKs
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-191" class="rowLink" href="#msg-191">
                    [12:37]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    there are several instances of the loop?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-192" class="rowLink" href="#msg-192">
                    [12:37]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sorry?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-193" class="rowLink" href="#msg-193">
                    [12:37]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes, there are two device threads
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-194" class="rowLink" href="#msg-194">
                    [12:37]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    for producers and consumers
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-195" class="rowLink" href="#msg-195">
                    [12:37]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    aha
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-196" class="rowLink" href="#msg-196">
                    [12:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, but i am running only 1 consumer at the time i am interested in
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-197" class="rowLink" href="#msg-197">
                    [12:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    so the other one should be idle during that time, right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-198" class="rowLink" href="#msg-198">
                    [12:38]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the producer device?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-199" class="rowLink" href="#msg-199">
                    [12:38]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-200" class="rowLink" href="#msg-200">
                    [12:38]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    should be idle yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-201" class="rowLink" href="#msg-201">
                    [12:39]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    let me add some debug code for you
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-202" class="rowLink" href="#msg-202">
                    [12:39]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sec
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-203" class="rowLink" href="#msg-203">
                    [12:39]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    that means that logs i am getting are all from the consumer loop
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-204" class="rowLink" href="#msg-204">
                    [12:39]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and i am seeing 3000+ msgs received
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-205" class="rowLink" href="#msg-205">
                    [12:39]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    while consumer sends only 1000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-206" class="rowLink" href="#msg-206">
                    [12:42]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what i am trying to do is seeing that conusmer sends 1000  acks and pzq receives less than that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-207" class="rowLink" href="#msg-207">
                    [12:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: take a git pull
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-208" class="rowLink" href="#msg-208">
                    [12:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    now it shows something like:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-209" class="rowLink" href="#msg-209">
                    [12:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Message from producer side in to out: 4222
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-210" class="rowLink" href="#msg-210">
                    [12:43]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Message from producer side out to in: 4222
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-211" class="rowLink" href="#msg-211">
                    [12:44]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and something like this on consumer:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-212" class="rowLink" href="#msg-212">
                    [12:44]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Message from consumer side in to out: 1004
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-213" class="rowLink" href="#msg-213">
                    [12:44]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Message from consumer side out to in: 932
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-214" class="rowLink" href="#msg-214">
                    [12:45]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    producer in is client facing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-215" class="rowLink" href="#msg-215">
                    [12:45]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and consumer side out is client facing
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-216" class="rowLink" href="#msg-216">
                    [12:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok, nice
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-217" class="rowLink" href="#msg-217">
                    [12:45]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    Message from consumer side out to in: 937
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-218" class="rowLink" href="#msg-218">
                    [12:46]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-219" class="rowLink" href="#msg-219">
                    [12:46]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    there should be something like 1000 - 1004 in to out
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-220" class="rowLink" href="#msg-220">
                    [12:46]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    before hwm is met
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-221" class="rowLink" href="#msg-221">
                    [12:46]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and after the 1000 has been consumed
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-222" class="rowLink" href="#msg-222">
                    [12:47]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but as you can see, a lot less coming in than expected
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-223" class="rowLink" href="#msg-223">
                    [12:47]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    not sure if thats me or a bug
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-224" class="rowLink" href="#msg-224">
                    [13:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    mikko: which direction are the acks?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-225" class="rowLink" href="#msg-225">
                    [13:02]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    in to out or out to in?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-226" class="rowLink" href="#msg-226">
                    [13:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: out to in
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-227" class="rowLink" href="#msg-227">
                    [13:21]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-228" class="rowLink" href="#msg-228">
                    [13:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    client -&gt; in -&gt; out -&gt; store -&gt; in -&gt; out -&gt; client
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-229" class="rowLink" href="#msg-229">
                    [13:21]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    roughly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-230" class="rowLink" href="#msg-230">
                    [13:22]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: seeing anything fishy this far?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-231" class="rowLink" href="#msg-231">
                    [13:22]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what socket type in on the pzq side?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-232" class="rowLink" href="#msg-232">
                    [13:23]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    dealer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-233" class="rowLink" href="#msg-233">
                    [13:23]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-234" class="rowLink" href="#msg-234">
                    [13:27]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i just don&#39;t understand this problem
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-235" class="rowLink" href="#msg-235">
                    [13:27]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the only thing that came into my mind earlier is that for some reason the poll doesnt get fired for the device
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-236" class="rowLink" href="#msg-236">
                    [13:27]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    maybe
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-237" class="rowLink" href="#msg-237">
                    [13:28]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;s really hard to debug given the complexity of the code
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-238" class="rowLink" href="#msg-238">
                    [13:28]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    can we chop some parts of?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-239" class="rowLink" href="#msg-239">
                    [13:28]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    the only interesting part imo is the consuming process
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-240" class="rowLink" href="#msg-240">
                    [13:28]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    pzq sends messages to consumer, consumer sends acks
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-241" class="rowLink" href="#msg-241">
                    [13:28]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if i create a simple server program i can&#39;t see it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-242" class="rowLink" href="#msg-242">
                    [13:29]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-243" class="rowLink" href="#msg-243">
                    [13:29]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    now that i think of it
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-244" class="rowLink" href="#msg-244">
                    [13:29]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    i mean starting with existing codebase
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-245" class="rowLink" href="#msg-245">
                    [13:29]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    and chopping things off
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-246" class="rowLink" href="#msg-246">
                    [13:29]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i wasn&#39;t using poll in my test
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-247" class="rowLink" href="#msg-247">
                    [13:30]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    from what i can see from the consumer is that the messages newer actually reach pzq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-248" class="rowLink" href="#msg-248">
                    [13:30]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    the missing ones
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-249" class="rowLink" href="#msg-249">
                    [13:30]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    maybe i could wireshark and see if they leave the process
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-250" class="rowLink" href="#msg-250">
                    [13:30]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but they might be batched?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-251" class="rowLink" href="#msg-251">
                    [13:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-252" class="rowLink" href="#msg-252">
                    [13:31]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    it&#39;d be pretty hard to count them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-253" class="rowLink" href="#msg-253">
                    [13:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what i had in mind was to gradually simplify the pzq until we get a minimal test case
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-254" class="rowLink" href="#msg-254">
                    [13:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    e.g. chop the DB part off, use fake messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-255" class="rowLink" href="#msg-255">
                    [13:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    then chop the producer part off
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-256" class="rowLink" href="#msg-256">
                    [13:32]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    etc.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-257" class="rowLink" href="#msg-257">
                    [13:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    another option is to enhance your test server with poll
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-258" class="rowLink" href="#msg-258">
                    [13:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    maybe the messages are in the pipe
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-259" class="rowLink" href="#msg-259">
                    [13:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    just that poll doesn&#39;t reflect the fact&gt;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-260" class="rowLink" href="#msg-260">
                    [13:33]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-261" class="rowLink" href="#msg-261">
                    [13:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: possible
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-262" class="rowLink" href="#msg-262">
                    [13:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    testing now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-263" class="rowLink" href="#msg-263">
                    [13:36]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    no, with a simple test case all is there
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-264" class="rowLink" href="#msg-264">
                    [13:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    :|
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-265" class="rowLink" href="#msg-265">
                    [14:01]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    what puzzles me is that why all the messages come in if there is a sleep
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-266" class="rowLink" href="#msg-266">
                    [14:22]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ve no idea either
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-267" class="rowLink" href="#msg-267">
                    [14:22]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ve debugged a bit furhter and i just dont see messages coming to pzq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-268" class="rowLink" href="#msg-268">
                    [14:23]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    looks like that
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-269" class="rowLink" href="#msg-269">
                    [14:23]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    can we minimise the application is some way?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-270" class="rowLink" href="#msg-270">
                    [14:23]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    in manager cpp
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-271" class="rowLink" href="#msg-271">
                    [14:23]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    you can if 0 most of the conditions in the loop
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-272" class="rowLink" href="#msg-272">
                    [14:23]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    that way you should see messages coming in and out on sender only
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-273" class="rowLink" href="#msg-273">
                    [14:24]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;ve tried with minimal possible test case
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-274" class="rowLink" href="#msg-274">
                    [14:24]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and it doesn&#39;t happen
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-275" class="rowLink" href="#msg-275">
                    [14:24]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i wonder if it would be easy to add a counter for how many bytes have been zmq_sent from consumer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-276" class="rowLink" href="#msg-276">
                    [14:25]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and how many are pushed down to network
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-277" class="rowLink" href="#msg-277">
                    [14:25]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    are the messages small?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-278" class="rowLink" href="#msg-278">
                    [14:26]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    &lt;255 bytes?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-279" class="rowLink" href="#msg-279">
                    [14:26]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    if so the value should be sum of message payload sizes + 2 * number of messages
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-280" class="rowLink" href="#msg-280">
                    [14:47]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: ill check that later
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-281" class="rowLink" href="#msg-281">
                    [14:47]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    need to pack some stuff
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-282" class="rowLink" href="#msg-282">
                    [14:56]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    interesting
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-283" class="rowLink" href="#msg-283">
                    [14:56]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i am now adding extra data to consumer message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-284" class="rowLink" href="#msg-284">
                    [14:56]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    ~1KB
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-285" class="rowLink" href="#msg-285">
                    [14:56]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    and a lot more messages get lost now
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-286" class="rowLink" href="#msg-286">
                    [14:57]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    119 / 1000 on the first
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-287" class="rowLink" href="#msg-287">
                    [14:57]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    126 / 1000 on second
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-288" class="rowLink" href="#msg-288">
                    [15:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: looks like all is leaving consumer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-289" class="rowLink" href="#msg-289">
                    [15:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    when i produce 10k messages i see this:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-290" class="rowLink" href="#msg-290">
                    [15:18]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Wrote 14 bytes to network sends: 10000
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-291" class="rowLink" href="#msg-291">
                    [15:19]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Overall send amount: 605271
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-292" class="rowLink" href="#msg-292">
                    [15:19]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    on consumer i see
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-293" class="rowLink" href="#msg-293">
                    [15:19]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Wrote 57 bytes to network sends: 315
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-294" class="rowLink" href="#msg-294">
                    [15:19]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Overall send amount: 57002
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-295" class="rowLink" href="#msg-295">
                    [15:19]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    there is a lot more batching happening in consuer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-296" class="rowLink" href="#msg-296">
                    [15:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    consumer*
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-297" class="rowLink" href="#msg-297">
                    [15:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    interesting enough pzq side has this as almost last item:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-298" class="rowLink" href="#msg-298">
                    [15:20]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Wrote -1 bytes to network sends: 16420
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-299" class="rowLink" href="#msg-299">
                    [15:26]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    hmm
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-300" class="rowLink" href="#msg-300">
                    [15:26]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    dumping amount received in zeromq code
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-301" class="rowLink" href="#msg-301">
                    [15:26]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sender says:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-302" class="rowLink" href="#msg-302">
                    [15:27]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    57001
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-303" class="rowLink" href="#msg-303">
                    [15:27]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    receiver says 57001
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-304" class="rowLink" href="#msg-304">
                    [15:27]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if i sleep 1
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-305" class="rowLink" href="#msg-305">
                    [15:27]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but removing sleep 1 from consumer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-306" class="rowLink" href="#msg-306">
                    [15:28]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    Overall recv amount: 56374
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-307" class="rowLink" href="#msg-307">
                    [15:28]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    on the pzq side
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-308" class="rowLink" href="#msg-308">
                    [15:28]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    so the bytes are not being received
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-309" class="rowLink" href="#msg-309">
                    [15:30]  jond
                    </a>
                </td>
                <td class="message-cell">
                    mikko: where is the sleep(1)?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-310" class="rowLink" href="#msg-310">
                    [15:30]  jond
                    </a>
                </td>
                <td class="message-cell">
                    in the code that is?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-311" class="rowLink" href="#msg-311">
                    [15:30]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    jond: jsut before socket and context are terminated
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-312" class="rowLink" href="#msg-312">
                    [15:31]  jond
                    </a>
                </td>
                <td class="message-cell">
                    in which program, the consumer?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-313" class="rowLink" href="#msg-313">
                    [15:31]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-314" class="rowLink" href="#msg-314">
                    [15:31]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    see https://zeromq.jira.com/browse/LIBZMQ-264
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-315" class="rowLink" href="#msg-315">
                    [15:31]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i&#39;m seeing a behaviour where linger is not respected
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-316" class="rowLink" href="#msg-316">
                    [15:32]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    if i manually sleep all messages go to remote peer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-317" class="rowLink" href="#msg-317">
                    [15:32]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but if i don&#39;t sleep 1% - 10% gets lost
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-318" class="rowLink" href="#msg-318">
                    [15:32]  jond
                    </a>
                </td>
                <td class="message-cell">
                    yes, i&#39;ve been following that.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-319" class="rowLink" href="#msg-319">
                    [15:32]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    which also seems to be the case on network layer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-320" class="rowLink" href="#msg-320">
                    [15:32]  jond
                    </a>
                </td>
                <td class="message-cell">
                    so the sleep is just before that return 0;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-321" class="rowLink" href="#msg-321">
                    [15:34]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-322" class="rowLink" href="#msg-322">
                    [15:34]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    in consumer
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-323" class="rowLink" href="#msg-323">
                    [15:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    that causes all ACKs to go through
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-324" class="rowLink" href="#msg-324">
                    [15:35]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    weird
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-325" class="rowLink" href="#msg-325">
                    [15:35]  jond
                    </a>
                </td>
                <td class="message-cell">
                    but linger isnt set in the consumer?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-326" class="rowLink" href="#msg-326">
                    [15:36]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    yes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-327" class="rowLink" href="#msg-327">
                    [15:36]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    which should cause it to block until all is sent
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-328" class="rowLink" href="#msg-328">
                    [15:36]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    The default value of -1 specifies an infinite linger period. Pending messages shall not be discarded after a call to zmq_close(); attempting to terminate the socket&#39;s context with zmq_term() shall block until all pending messages have been sent to a peer.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-329" class="rowLink" href="#msg-329">
                    [15:36]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    re
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-330" class="rowLink" href="#msg-330">
                    [15:37]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    sustrik: im now dumping bytes read/written in zeromq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-331" class="rowLink" href="#msg-331">
                    [15:37]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    reading the backlog...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-332" class="rowLink" href="#msg-332">
                    [15:39]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s this: " Wrote -1 bytes to network sends: 16420"
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-333" class="rowLink" href="#msg-333">
                    [15:39]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    ?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-334" class="rowLink" href="#msg-334">
                    [15:39]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    std::cerr &lt;&lt; "Wrote " &lt;&lt; nbytes &lt;&lt; " bytes to network" &lt;&lt; " sends: " &lt;&lt; num_sends &lt;&lt; std::endl;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-335" class="rowLink" href="#msg-335">
                    [15:39]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    it happens at some point
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-336" class="rowLink" href="#msg-336">
                    [15:39]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    not really sure where
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-337" class="rowLink" href="#msg-337">
                    [15:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    but what seems to happen that i am not receiving the bytes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-338" class="rowLink" href="#msg-338">
                    [15:40]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    what line is the log at?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-339" class="rowLink" href="#msg-339">
                    [15:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    tcp_socket.cpp:199
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-340" class="rowLink" href="#msg-340">
                    [15:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    https://gist.github.com/3c5c2ab34c518c13cf6d
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-341" class="rowLink" href="#msg-341">
                    [15:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    i gotta run, snowboarding time at milton keynes
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-342" class="rowLink" href="#msg-342">
                    [15:40]  mikko
                    </a>
                </td>
                <td class="message-cell">
                    back later -&gt;
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-343" class="rowLink" href="#msg-343">
                    [15:41]  sustrik
                    </a>
                </td>
                <td class="message-cell">
                    see you
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-344" class="rowLink" href="#msg-344">
                    [19:49]  rando
                    </a>
                </td>
                <td class="message-cell">
                    Hi, I&#39;m having an issue with sending messages using pub/sub in Ruby. When I write both the publisher and subscriber as standalone ruby processes, I receive all messages in the subscriber. However, when I run the publisher as a simple Rack server, I only get one or two messages in the subscriber.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-345" class="rowLink" href="#msg-345">
                    [19:49]  rando
                    </a>
                </td>
                <td class="message-cell">
                    I hooked up tcpflow to watch the connection, and in both cases all the messages are sent successfully
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-346" class="rowLink" href="#msg-346">
                    [19:49]  rando
                    </a>
                </td>
                <td class="message-cell">
                    Here&#39;s the code &amp; tcpflow results with the sender as a ruby process: https://gist.github.com/1e2bd14b8ff9cf36d48e
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-347" class="rowLink" href="#msg-347">
                    [19:50]  rando
                    </a>
                </td>
                <td class="message-cell">
                    And here it is with the sender as a rack application: https://gist.github.com/b2e77d58b891221020d1
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-348" class="rowLink" href="#msg-348">
                    [19:53]  rando
                    </a>
                </td>
                <td class="message-cell">
                    does anyone know what might be different between these two publishers?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-349" class="rowLink" href="#msg-349">
                    [19:56]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    rando: looking...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-350" class="rowLink" href="#msg-350">
                    [19:58]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    rando: i&#39;ve never used rack before, so how does it detect that a message has arrived?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-351" class="rowLink" href="#msg-351">
                    [19:58]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    from the looks of the code, it assumes it&#39;s an http message
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-352" class="rowLink" href="#msg-352">
                    [19:59]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    what causes #call to get called?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-353" class="rowLink" href="#msg-353">
                    [19:59]  rando
                    </a>
                </td>
                <td class="message-cell">
                    When the app server is started (and in each fork), #initialize is called. Then, when a request is received, #call is called with the headers &amp; body of the request
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-354" class="rowLink" href="#msg-354">
                    [20:01]  rando
                    </a>
                </td>
                <td class="message-cell">
                    so I run the server, then use curl to generate a POST request. the app server just takes the body of the post, and sends it on the pub socket
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-355" class="rowLink" href="#msg-355">
                    [20:02]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    and the sub doesn&#39;t get it?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-356" class="rowLink" href="#msg-356">
                    [20:02]  rando
                    </a>
                </td>
                <td class="message-cell">
                    and from the tcpflow output, the messages are getting sent on the socket
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-357" class="rowLink" href="#msg-357">
                    [20:02]  rando
                    </a>
                </td>
                <td class="message-cell">
                    yeah, the sub doesn&#39;t seem to be getting them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-358" class="rowLink" href="#msg-358">
                    [20:03]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    is the sub your "forwarder" device that you pastied?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-359" class="rowLink" href="#msg-359">
                    [20:03]  rando
                    </a>
                </td>
                <td class="message-cell">
                    yeah
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-360" class="rowLink" href="#msg-360">
                    [20:03]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    hmmm...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-361" class="rowLink" href="#msg-361">
                    [20:04]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    do you allocate the context in the rack app before or after it forks?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-362" class="rowLink" href="#msg-362">
                    [20:04]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    nm... you answered that already
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-363" class="rowLink" href="#msg-363">
                    [20:04]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    so help me visualize this... you have a single forwarder that binds to a sub socket and sets the subscription to everything
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-364" class="rowLink" href="#msg-364">
                    [20:05]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    meanwhile, you have a rack app that forks for each request, creates a context &amp; pub socket, connects, and then sends for
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-365" class="rowLink" href="#msg-365">
                    [20:05]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    each message received
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-366" class="rowLink" href="#msg-366">
                    [20:05]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    sound about right?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-367" class="rowLink" href="#msg-367">
                    [20:06]  rando
                    </a>
                </td>
                <td class="message-cell">
                    it doesn&#39;t fork for "each" request, exactly, but it does fork a new worker when all the other workers are busy. since I fire off so many `curl`s at once, it ends up making 4-5 workers
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-368" class="rowLink" href="#msg-368">
                    [20:06]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-369" class="rowLink" href="#msg-369">
                    [20:06]  rando
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ve read through the lost messages troubleshooter, and from my packet dump, it doesn&#39;t look like thats the problem?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-370" class="rowLink" href="#msg-370">
                    [20:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    two suggestions just to eliminate potential probs
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-371" class="rowLink" href="#msg-371">
                    [20:07]  rando
                    </a>
                </td>
                <td class="message-cell">
                    the messages ARE getting put on the socket
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-372" class="rowLink" href="#msg-372">
                    [20:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    1. change your forwarder to connect/bind directly to 127.0.0.1 instead of *
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-373" class="rowLink" href="#msg-373">
                    [20:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    2. in forwarder, allocate only a single i/o thread instead of 2 (which won&#39;t buy you anything, especially w/ruby)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-374" class="rowLink" href="#msg-374">
                    [20:07]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    and try again
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-375" class="rowLink" href="#msg-375">
                    [20:09]  rando
                    </a>
                </td>
                <td class="message-cell">
                    cremes: ok, made both those changes, same result
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-376" class="rowLink" href="#msg-376">
                    [20:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    rando: are you using 0mq 2.1.x or 3.x?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-377" class="rowLink" href="#msg-377">
                    [20:10]  rando
                    </a>
                </td>
                <td class="message-cell">
                    2.1
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-378" class="rowLink" href="#msg-378">
                    [20:10]  rando
                    </a>
                </td>
                <td class="message-cell">
                    2.1.9 i think
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-379" class="rowLink" href="#msg-379">
                    [20:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-380" class="rowLink" href="#msg-380">
                    [20:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    i asked because there is a race condition in 3.x for pub/sub
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-381" class="rowLink" href="#msg-381">
                    [20:10]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    where some msgs get dropped
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-382" class="rowLink" href="#msg-382">
                    [20:11]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    both of these are running on the same box?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-383" class="rowLink" href="#msg-383">
                    [20:11]  rando
                    </a>
                </td>
                <td class="message-cell">
                    yeah
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-384" class="rowLink" href="#msg-384">
                    [20:14]  rando
                    </a>
                </td>
                <td class="message-cell">
                    even if I create the context and socket in #call, so it gets re-made on every request, I still get the same results
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-385" class="rowLink" href="#msg-385">
                    [20:15]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    yeah, i don&#39;t think that would help or be necessary
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-386" class="rowLink" href="#msg-386">
                    [20:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s the return code from the send in the rack app? make sure it is 0 each time
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-387" class="rowLink" href="#msg-387">
                    [20:18]  rando
                    </a>
                </td>
                <td class="message-cell">
                    it is "true" each time
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-388" class="rowLink" href="#msg-388">
                    [20:18]  rando
                    </a>
                </td>
                <td class="message-cell">
                    hrm, just noticed something new
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-389" class="rowLink" href="#msg-389">
                    [20:19]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    what&#39;s that?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-390" class="rowLink" href="#msg-390">
                    [20:19]  rando
                    </a>
                </td>
                <td class="message-cell">
                    when the app gets "reused", so its the same context &amp; socket as the original, those messages make it through ok
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-391" class="rowLink" href="#msg-391">
                    [20:19]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    what does reused mean?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-392" class="rowLink" href="#msg-392">
                    [20:19]  rando
                    </a>
                </td>
                <td class="message-cell">
                    a request uses the same worker
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-393" class="rowLink" href="#msg-393">
                    [20:20]  rando
                    </a>
                </td>
                <td class="message-cell">
                    but when a new request comes in while that one is busy, and it makes a new worker (and new app, context, and socket), those messages are not received by the subscriber
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-394" class="rowLink" href="#msg-394">
                    [20:21]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    strange... as a test, try sending a message from the #initialize and see if it goes through
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-395" class="rowLink" href="#msg-395">
                    [20:21]  rando
                    </a>
                </td>
                <td class="message-cell">
                    from my log:
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-396" class="rowLink" href="#msg-396">
                    [20:21]  rando
                    </a>
                </td>
                <td class="message-cell">
                    https://gist.github.com/3da669a46a460c4dd504
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-397" class="rowLink" href="#msg-397">
                    [20:21]  rando
                    </a>
                </td>
                <td class="message-cell">
                    2 and 5 reused the same app, and were received by the sub
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-398" class="rowLink" href="#msg-398">
                    [20:21]  rando
                    </a>
                </td>
                <td class="message-cell">
                    but 1,3,4 were not
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-399" class="rowLink" href="#msg-399">
                    [20:22]  rando
                    </a>
                </td>
                <td class="message-cell">
                    (but all 5 were put on the socket, and seen by the packet dump)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-400" class="rowLink" href="#msg-400">
                    [20:23]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    this doesn&#39;t make a lot of sense :(
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-401" class="rowLink" href="#msg-401">
                    [20:25]  rando
                    </a>
                </td>
                <td class="message-cell">
                    cremes: I sent a message in the initialzer, and only the first one gets through
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-402" class="rowLink" href="#msg-402">
                    [20:25]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    only the first "worker" that starts?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-403" class="rowLink" href="#msg-403">
                    [20:25]  rando
                    </a>
                </td>
                <td class="message-cell">
                    yeah
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-404" class="rowLink" href="#msg-404">
                    [20:26]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    are you absolutely sure the context &amp; socket are not being shared across forks?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-405" class="rowLink" href="#msg-405">
                    [20:26]  rando
                    </a>
                </td>
                <td class="message-cell">
                    no :-/
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-406" class="rowLink" href="#msg-406">
                    [20:26]  rando
                    </a>
                </td>
                <td class="message-cell">
                    but #initialize is being called each time it forks, so...
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-407" class="rowLink" href="#msg-407">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    right... you see it in the log
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-408" class="rowLink" href="#msg-408">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    maybe it&#39;s something funky with sharing a C ext across forks
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-409" class="rowLink" href="#msg-409">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    can you try the ffi-rzmq gem?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-410" class="rowLink" href="#msg-410">
                    [20:27]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    (that&#39;s the one i wrote)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-411" class="rowLink" href="#msg-411">
                    [20:28]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    maybe ffi solves the issue...?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-412" class="rowLink" href="#msg-412">
                    [20:28]  rando
                    </a>
                </td>
                <td class="message-cell">
                    ok, ill give that a shot
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-413" class="rowLink" href="#msg-413">
                    [20:38]  rando
                    </a>
                </td>
                <td class="message-cell">
                    cremes: same result
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-414" class="rowLink" href="#msg-414">
                    [20:39]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    don&#39;t know then... i suspect fork especially since you have other code that works correctly
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-415" class="rowLink" href="#msg-415">
                    [20:39]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    you could do a test where you eliminate rack from the situation
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-416" class="rowLink" href="#msg-416">
                    [20:39]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    write a script that forks, allocates everything and tries to send
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-417" class="rowLink" href="#msg-417">
                    [20:39]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    see if that works
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-418" class="rowLink" href="#msg-418">
                    [20:39]  rando
                    </a>
                </td>
                <td class="message-cell">
                    i don&#39;t know much about zmq, but isn&#39;t it odd that the messages ARE getting put on the socket, though?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-419" class="rowLink" href="#msg-419">
                    [20:40]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    yes... but maybe the library is corrupting the frame (due to the fork) and the receiver just drops them
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-420" class="rowLink" href="#msg-420">
                    [20:40]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    (a wildass guess)
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-421" class="rowLink" href="#msg-421">
                    [20:41]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    maybe you can ask around to see if other rack users have succeeded in using 0mq
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-422" class="rowLink" href="#msg-422">
                    [20:44]  rando
                    </a>
                </td>
                <td class="message-cell">
                    yeah, i&#39;ve been googling, but not had much success
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-423" class="rowLink" href="#msg-423">
                    [20:44]  rando
                    </a>
                </td>
                <td class="message-cell">
                    I&#39;ll have to track down a ruby forking expert
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-424" class="rowLink" href="#msg-424">
                    [21:12]  rando
                    </a>
                </td>
                <td class="message-cell">
                    cremes: yeah, it has to be something with the forking; when I start the server with only a single worker, all 5 messages make it through
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-425" class="rowLink" href="#msg-425">
                    [21:16]  cremes
                    </a>
                </td>
                <td class="message-cell">
                    great! knowing the cause may help lead to a solution.
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-426" class="rowLink" href="#msg-426">
                    [23:21]  bitcycle
                    </a>
                </td>
                <td class="message-cell">
                    Hey all.  I&#39;m thinking of testing a design for our concurrent application using zeromq, but I&#39;m wondering what type(s) of sockets I should use.  I need to communicate using IPC from multiple processes back into one process so that I can track the number of processes doing stuff in stages as work gets done.  Any ideas?
                </td>
            </tr>
            
            <tr>
                <td class="name-cell" nowrap="nowrap" style="vertical-align:text-top;">
                    <a name="msg-427" class="rowLink" href="#msg-427">
                    [23:35]  bitcycle
                    </a>
                </td>
                <td class="message-cell">
                    Can someone help me understand the dealer socket type?
                </td>
            </tr>
            
        </table>
    </div>
    <div class="footer-container"><hr/>
    <p style="color:#a9a9a9; font-size:0.75em; text-align:center; margin:5px 5%;">
       Web site design and content is copyright &copy; 2010-2011 Peter Alexander, ProDataLab. Site content licensed under the Creative Commons Attribution-Share Alike 3.0 License.
       &Oslash;MQ is copyright &copy; Copyright &copy; 2007-2011 iMatix Corporation and Contributors.
       <a href="http://www.imatix.com/contact">Contact us for professional support.</a>
       &Oslash;MQ is free software licensed under the LGPL. &Oslash;MQ, ZeroMQ, and 0MQ are trademarks of iMatix Corporation.
       <a href="http://www.zeromq.org/legal:terms-of-use">Terms of Use</a> ?
       <a href="http://www.zeromq.org/legal:privacy-policy">Privacy Policy</a>
    </p>
</div>

</body>
</html>
